<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z5/Z1/student2953.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z5/Z1/student2953.cpp<p></p><pre>
<a name="0"></a><font color="#FF0000"><a href="match125-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_99.gif"/></a>

/B2017/2018: ZadaÄ‡a 5, Zadatak 1
#include &lt;iostream&gt;
#include &lt;vector&gt;
#include &lt;memory&gt;
#include &lt;algorithm&gt;
#include &lt;stdexcept&gt;
#include &lt;map&gt;
#include &lt;iterator&gt;
using namespace std;

class Student
{
    int broj_indeksa;
    string godina_studija;
    string ime_i_prezime;
    string adresa;
    string broj_tel;
    
public:
    Student (int broj_indeksa, string godina_studija, string ime_i_prezime, string adresa, string broj_tel):broj_indeksa(broj_indeksa), ime_i_prezime(ime_i_prezime), adresa(adresa), broj_tel(broj_tel) {}
    
    int DajIndeks() const
    {
        return broj_indeksa;
    }
    
    string DajGodinuStudija() const
    {
        return godina_studija;
    }
    
    string DajImePrezime() const
    {
        return ime_i_prezime;
    }
    
    string DajAdresu() const
    {
        return adresa;
    }
    
    string DajTelefon() const
    {
        return broj_tel;
    }
    
    void Ispisi() const
    {
        cout &lt;&lt; "Broj indeksa: " &lt;&lt; broj_indeksa &lt;&lt; endl;
        cout &lt;&lt; "Godina studija: " &lt;&lt; godina_studija &lt;&lt; endl;
        cout &lt;&lt; "Ime i prezime: " &lt;&lt; ime_i_prezime &lt;&lt; endl;
        cout &lt;&lt; "Adresa: " &lt;&lt; adresa &lt;&lt; endl;
        cout &lt;&lt; "Telefon: " &lt;&lt; broj_tel &lt;&lt; endl;
    }
};

class Laptop
{
    int ev_broj;
    string naziv;
    string karakteristike;
    Student *kod_koga_je;
    
public:
    Laptop(int ev_broj, string naziv, string karakteristike):ev_broj(ev_broj), naziv(naziv), karakteristike(karakteristike), kod_koga_je(nullptr) {
        if(ev_broj &lt; 0) throw domain_error("Neispravni parametri!");
    }

    int DajEvidencijskiBroj() const
    {
        return ev_broj;
    }
    
    string DajNaziv() const
    {
        return naziv;
    }
    
    string DajKarakteristike() const
    {
        return karakteristike;
    }
    
    Student *DajKodKogaJe()
    {
        return kod_koga_je;
    }
    
    Student &amp;DajKodKogaJe() const {
        if(kod_koga_je == nullptr) throw domain_error("Laptop nije zaduzen");
        return *kod_koga_je;
    }
    
    void Zaduzi(Student &amp;zaduzioc)
    {
        kod_koga_je=&amp;zaduzioc;
    }
    
    void Razduzi()
    {
        kod_koga_je=nullptr;
    }
    
    bool DaLiJeZaduzen()
    {
        if(!kod_koga_je || kod_koga_je==nullptr) return false;
        return true;
    }
    
    void Ispisi() const
    {
        cout &lt;&lt; "Evidencijski broj: " &lt;&lt; ev_broj &lt;&lt; endl;
        cout &lt;&lt; "Naziv: " &lt;&lt; naziv &lt;&lt; endl;
        cout &lt;&lt; "Karakteristike: " &lt;&lt; karakteristike &lt;&lt; endl;
    }

};

class Administracija
{
    vector&lt;shared_ptr &lt;Student&gt;&gt; studenti;
    vector&lt;shared_ptr &lt;Laptop&gt;&gt; laptopi;
    
public:
    Administracija() {}
    Administracija (const Administracija &amp;a) = delete;
    Administracija &amp;operator=(const Administracija &amp;a) = delete;
    
    void RegistrirajNovogStudenta(int broj_indeksa, string godina_studija, string ime_i_prezime, string adresa, string broj_tel) {
        bool ima=false;
        for(int i(0); i &lt; studenti.size(); i++)
        {
            if(studenti[i] -&gt; DajIndeks()==broj_indeksa)
            {
                ima=true;
                break;
            }
        }
        
        if(ima) throw domain_error("Student sa tim indeksom vec postoji");
        
        shared_ptr&lt;Student&gt; pomocni=make_shared&lt;Student&gt;(broj_indeksa, ime_i_prezime, adresa, broj_tel);
        studenti.push_back(pomocni);
        //studenti[broj_indeksa] = new Student(broj_indeksa, godina_studija, ime_i_prezime, adresa, broj_tel);
    }
    
    void RegistrirajNoviLaptop(int ev_broj, string naziv, string karakteristike)
    {
        bool ima=false;
        for(int i(0); i &lt; laptopi.size(); i++)
        {
            if(laptopi[i] -&gt; DajEvidencijskiBroj()==ev_broj)
            {
                ima=true;
                break;
            }
        }
        
        if(ima) throw domain_error("Laptop sa tim evidencijskim brojem vec postoji");
        
        shared_ptr&lt;Laptop&gt; pomocni=make_shared&lt;Laptop&gt;(ev_broj, naziv, karakteristike);
        laptopi.push_back(pomocni);
        //laptopi[ev_broj] = new Laptop(ev_broj, naziv, karakteristike);
    }
    
    Student &amp;NadjiStudenta(int br_indeksa)
    {
        for(int i=0; i&lt;studenti.size(); i++)
        {
            if(studenti[i]-&gt;DajIndeks()==br_indeksa) return *studenti[i];
        }
        throw domain_error("Student nije nadjen");
    }
    
    Laptop &amp;NadjiLaptop(int ev_br)
    {
        for(int i=0; i&lt;laptopi.size(); i++)
        {
            if(laptopi[i]-&gt;DajEvidencijskiBroj()==ev_br) return *laptopi[i];
        }
        throw domain_error("Laptop nije nadjen");
    }
    
    void IzlistajStudente()
    {
        for(auto x: studenti)
        {
            x-&gt;Ispisi();
            cout&lt;&lt;endl;
        }

    }
    
    void IzlistajLaptope()
    {
        for(auto x: laptopi)
        {
            x-&gt;Ispisi();
            if(x-&gt;DaLiJeZaduzen())
            {
                cout&lt;&lt;"Zaduzena kod clana:\n";
                auto vb=x-&gt;DajKodKogaJe();
                vb-&gt;Ispisi();
            }
            cout&lt;&lt;endl;
        }
    }
    
    void RazduziLaptop(int ev_br)
    {
        try
        {
            NadjiLaptop(ev_br);
        }
        catch(domain_error x)
        {
            throw x;
        }
        if(!NadjiLaptop(ev_br).DaLiJeZaduzen()) throw domain_error("Laptop nije zaduzen");
        NadjiLaptop(ev_br).Razduzi();
    }
    void ZaduziLaptop(int ev_br, int br_indeksa)
    {
        try
        {
            NadjiLaptop(ev_br);
            NadjiStudenta(br_indeksa);
        }
        catch(domain_error x)
        {
            throw x;
        }
        if(NadjiLaptop(ev_br).DaLiJeZaduzen()) throw domain_error("Laptop vec zaduzena");
        NadjiLaptop(ev_br).Zaduzi(NadjiStudenta(br_indeksa));
    }
    
    void PrikaziZaduzenja(int br_indeksa) {
        try
        {
            NadjiStudenta(br_indeksa);
            if (!laptopi.size()) cout&lt;&lt;"Nema zaduzenja za tog studenta!\n";
            bool test=false;
            for(auto x: laptopi)
            {
                if(x-&gt;DaLiJeZaduzen())
                {
                    test=false;
                    auto vb=x-&gt;DajKodKogaJe();
                    if(vb-&gt;DajIndeks()==br_indeksa) x-&gt;Ispisi();
                    else test=true;
                }else test=true;
                cout&lt;&lt;endl;
            }
            if(test) cout&lt;&lt;"Nema zaduzenja za tog studenta!\n";
        }
        catch(domain_error x)
        {
            throw x;
        }
    }
};

int main() {
    
    Administracija baza;
    while(true)
    {
        cout&lt;&lt;"\nIzbornik:\n\n\n1. Dodaj studenta\n2. Dodaj laptop\n3. Nadji studenta\n4. Nadji laptop\n5. Izlistaj studente\n6. Izlistaj laptope\n7. Zaduzi laptop\n8. Razduzi laptop\n9. Izlistaj zaduzenja\n10. IZLAZ\n\n\nVas izbor: ";
        int n;
        cin&gt;&gt;n;
        if(n&lt;=0 || n&gt;10) cout&lt;&lt;"Broj koji ste unijeli se ne nalazi u izborniku, molimo pokusajte ponovo!\n";
        else if(n==1)
        {
            cin.ignore(10, '\n');
            int broj_indeksa;
            string godina_studija;
            string ime_i_prezime;
            string adresa;
            string broj_tel;
            cout&lt;&lt;"Unesite ime i prezime novog studenta: ";
            getline(cin, ime_i_prezime);
            cout&lt;&lt;"Unesite adresu novog studenta: ";
            getline(cin, adresa);
            cout&lt;&lt;"Unesite broj telefona novog studenta: ";
            getline(cin, broj_tel);
            cout&lt;&lt;"Unesite clanski(evidencijski) broj novog studenta: ";
            cin&gt;&gt;broj_indeksa;
            try
            {
                baza.RegistrirajNovogStudenta(broj_indeksa, godina_studija, ime_i_prezime, adresa, broj_tel);
            }catch(domain_error x)
            {
                cout&lt;&lt;x.what();
            }
            cout&lt;&lt;"Uspjesno ste dodali novog studenta.\n";
        }
        else if(n==2)
        {
            cin.ignore(10, '\n');
            int ev_broj;
            string naziv;
            string karakteristike;
            cout&lt;&lt;"Unesite naziv: ";
            getline(cin, naziv);
            cout&lt;&lt;"Unesite karakteristike: ";
            getline(cin, karakteristike);
            cout&lt;&lt;"Unesite evidencijski broj laptopa: ";
            cin&gt;&gt;ev_broj;
            try
            {
                baza.RegistrirajNoviLaptop(ev_broj, naziv, karakteristike);
            }catch(domain_error x)
            {
                cout&lt;&lt;x.what();
            }
            cout&lt;&lt;"Uspjesno ste dodali novi laptop!\n";
        }
        else if (n==3)
        {
            cin.ignore(10, '\n');
            cout&lt;&lt;"Unesite broj indeksa studenta: ";
            int br_indeksa;
            cin&gt;&gt;br_indeksa;
            try
            {
                Student nadjen = baza.NadjiStudenta(br_indeksa);
                cout&lt;&lt;"Student sa brojem indeksa "&lt;&lt;br_indeksa&lt;&lt;" je: ";
                nadjen.Ispisi();
            }catch(domain_error x)
            {
                cout&lt;&lt;x.what();
            }

        }
        else if(n==4)
        {
            cin.ignore(10, '\n');
            cout&lt;&lt;"Unesite evidencijski broj laptopa: ";
            int ev_br;
            cin&gt;&gt;ev_br;
            try
            {
                Laptop nadjen = baza.NadjiLaptop(ev_br);
                cout&lt;&lt;"Laptop sa evidencijskim brojem "&lt;&lt;ev_br&lt;&lt;" je: ";
                nadjen.Ispisi();
            }catch(domain_error x)
            {
                cout&lt;&lt;x.what();
            }
        }else if(n==5)
        {
            cout&lt;&lt;"&lt;----------Studenti----------&gt;\n\n";
            baza.IzlistajStudente();
        }else if(n==6)
        {
            cout&lt;&lt;"&lt;----------Laptopi-----------&gt;\n\n";
            baza.IzlistajLaptope();
        }
        else if(n==7)
        {
            cout&lt;&lt;"Unesite evidencijski broj laptopa koji se zaduzuje: ";
            int ev_br;
            cin&gt;&gt;ev_br;
            cout&lt;&lt;"Unesite broj indeksa studenta koji zaduzuje laptop: ";
            int br_indeksa;
            cin&gt;&gt;br_indeksa;
            try
            {
                baza.ZaduziLaptop(ev_br, br_indeksa);
            }catch(domain_error x)
            {
                cout&lt;&lt;x.what();
            }
            cout&lt;&lt;"Uspjesno ste zaduzili laptop!\n";
        }
        else if (n==8)
        {
            cout&lt;&lt;"Unesite evidencijski broj laptopa koji se razduzuje: ";
            int ev_br;
            cin&gt;&gt;ev_br;
            try
            {
                baza.RazduziLaptop(ev_br);
            }catch(domain_error x)
            {
                cout&lt;&lt;x.what();
            }
            cout&lt;&lt;"Uspjesno ste razaduzili laptop!\n";

        }
        else if (n==9)
        {
            cout&lt;&lt;"Unesite broj indeksa studenta za kojeg provjeravate zaduzenja: ";
            int br_indeksa;
            cin&gt;&gt;br_indeksa;
            try
            {
                baza.PrikaziZaduzenja(br_indeksa);
            }catch(domain_error x)
            {
                cout&lt;&lt;x.what();
            }
        }
        else if (n==10)
</font>        {
            break;
        }
    }
}
</pre>
</body>
</html>
