<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z5/Z1/student8864.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z5/Z1/student8069.cpp<p></p><pre>
<a name="3"></a><font color="#00FFFF"><a href="match726-0.html#3" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_1.gif"/></a>

/B2017/2018: ZadaÄ‡a 5, Zadatak 1
#include &lt;iostream&gt;
#include &lt;string&gt;
#include &lt;stdexcept&gt;
#include &lt;map&gt;

class Student {
    int indeks;
    std::string godina_studija, ime, adresa, broj_telefona;
</font>    bool TestirajIndeks(int x);
    bool TestirajGodinu(std::string &amp;s);
    std::string StringBezRazmaka(std::string);
    bool TestirajTelefon(std::string s);
    std::string Prilagodi(std::string s);
    Student(){};
    public:
    Student(int in, std::string god, std::string i, std::string ad, std::string tel) :
    indeks(in), ime(i), adresa(ad), broj_telefona(tel), godina_studija(god) {
        if(godina_studija=="1") godina_studija="1/B"; 
        else if(godina_studija=="2") godina_studija="2/B";
        //if(!TestirajIndeks(indeks) || !TestirajGodinu(godina_studija)) throw std::domain_error("Neispravni parametri");ime
       //auto pom=StringBezRazmaka(ime);
       //std::cout &lt;&lt; pom &lt;&lt; std::endl;
    }
    int DajIndeks() { return indeks; }
    std::string DajGodinuStudija() { return godina_studija; }
    std::string DajImePrezime() { return ime; }
    std::string DajAdresu() { return adresa; }
    std::string DajTelefon() { return broj_telefona; }
    void Ispisi();
    friend class Administracija;
    friend class Laptop;
};

std::string Student::Prilagodi(std::string s) {
    std::string povratni;
    if(s=="1") return("1/B");
    else if(s=="2") return("2/B");
   // return povratni;
} 

bool Student::TestirajIndeks(int x) {
        int broj(0);
        while(x&gt;0) {
            x/=10;
            broj++;
        }
        if(broj!=5) return false;
        return true;
}

bool Student::TestirajGodinu(std::string &amp;s) {
    if(s.length()!=1 || s.length()!=3) return false;
    if(s.length()==1) {
        if(s=="1") s="1/B"; 
        else if(s=="2") s="2/B";
        else if(s=="3") s="3/B";
        else return false;
    }
    else if(s.length()==3) {
        if(s[0]!='1' || s[0]!='2' || s[0]!='3') return false; 
        else if(s[1]!='/') return false; 
        else if(s[2]!='B' || s[2]!='M' || s[2]!='D') return false; 
    }
    return true;
}

std::string Student::StringBezRazmaka(std::string s) {
    std::string povratni;
    int brojac(0);
    for(int i=0; i&lt;s.length(); i++) {
        while(s[i]==' ' &amp;&amp; i&lt;s.length()) i++;
        //broj_rijeci++;
        while (s[i]!=' ') {
             povratni[brojac++]=s[i++];
        }
        if(i!=s.length()-1) povratni[brojac++]=' ';
    }
    return povratni;
}

bool JeLiBroj(char c) {
    return(c&gt;='0' &amp;&amp; c&lt;='9');
}

bool Student::TestirajTelefon(std::string s) {
   // bool ispravno=true;
    int broj_rijeci(0);
    for(int i=0; i&lt;s.length(); i++) {
        if(!JeLiBroj(s[0])) return false;
        while(JeLiBroj(s[i])) i++;
        broj_rijeci++;
        i++;
        if(s[i]!='/' &amp;&amp; broj_rijeci==1) return false;
        i++;
        while (JeLiBroj(s[i])) i++;
        i++;
        broj_rijeci++;
        if(s[i]!='-' &amp;&amp; broj_rijeci==2) return false;
    }
    return true;
}

void Student::Ispisi() {
    std::cout&lt;&lt;"Broj indeksa: "&lt;&lt;DajIndeks()&lt;&lt;std::endl;
    std::cout&lt;&lt;"Godina studija: "&lt;&lt;DajGodinuStudija()&lt;&lt;std::endl;
    std::cout&lt;&lt;"Ime i prezime: "&lt;&lt;DajImePrezime()&lt;&lt;std::endl;
<a name="2"></a><font color="#0000FF"><a href="match726-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_1.gif"/></a>

    std::cout &lt;&lt; "Adresa: "&lt;&lt;DajAdresu()&lt;&lt;std::endl;
    std::cout &lt;&lt;"Telefon: "&lt;&lt;DajTelefon()&lt;&lt; std::endl;
}

class Laptop {
    int ev_broj;
    std::string naziv, karakteristike;
    Student* kod_koga_je;
</font>    Laptop(){
        kod_koga_je=nullptr; 
    }
    public:
    Laptop(int broj, std::string ime, std::string karakteristike) : ev_broj(broj), naziv(ime), karakteristike(karakteristike), kod_koga_je(nullptr) {
        if(ev_broj&lt;=0) throw std::domain_error("Neispravni parametri");
    }
    int DajEvidencijskiBroj() { return ev_broj; }
    std::string DajNaziv() { return naziv; }
    std::string DajKarakteristike() { return karakteristike; }
    void Zaduzi(Student &amp;s) { 
        if(kod_koga_je!=nullptr) throw std::domain_error("Laptop vec zaduzen");
        kod_koga_je=&amp;s; 
    }
    void Razduzi() {
        if(!kod_koga_je) return;
        kod_koga_je=nullptr;
    }
    bool DaLiJeZaduzen() { return kod_koga_je!=nullptr; }
    Student &amp;DajKodKogaJe() { 
        if(!kod_koga_je) throw std::domain_error("Laptop nije zaduzen");
        return *kod_koga_je;
        }
    Student *DajPokKodKogaJe() {
        return kod_koga_je;
    }
   void Ispisi() {
       std::cout &lt;&lt; "Evidencijski broj: " &lt;&lt;DajEvidencijskiBroj()&lt;&lt; std::endl;
       std::cout &lt;&lt; "Naziv: " &lt;&lt;DajNaziv()&lt;&lt; std::endl;
       std::cout &lt;&lt; "Karakteristike: "&lt;&lt;DajKarakteristike() &lt;&lt; std::endl;
   }
   friend class Administracija;
};

<a name="0"></a><font color="#FF0000"><a href="match726-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_5.gif"/></a>

class Administracija {
    std::map&lt;int, Student*&gt; studenti;
    std::map&lt;int, Laptop*&gt; laptopi;
    public:
    Administracija(){};
    Administracija(const Administracija &amp;a);
    Administracija(Administracija &amp;&amp;a);
    Administracija&amp; operator=(const Administracija &amp;a);
    Administracija&amp; operator=(Administracija &amp;&amp;a);
    ~Administracija();
    void RegistrirajNovogStudenta(int in, std::string god, std::string i, std::string ad, std::string tel);
    void RegistrirajNoviLaptop(int broj, std::string ime, std::string karakteristike);
    Student &amp;NadjiStudenta(int indeks);
    Laptop &amp;NadjiLaptop(int broj);
</font>    void IzlistajStudente();
    void IzlistajLaptope();
    void ZaduziLaptop(int indeks, int broj);
    int NadjiSlobodniLaptop();
    void RazduziLaptop(int broj);
    void PrikaziZaduzenja();
};

<a name="1"></a><font color="#00FF00"><a href="match726-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_3.gif"/></a>

Administracija::Administracija(const Administracija &amp;a) {
    for(auto it=a.studenti.begin(); it!=a.studenti.end(); it++) {
        studenti[it-&gt;first]=new Student(*it-&gt;second); 
    }
    for(auto it=a.laptopi.begin(); it!=a.laptopi.end(); it++ ) {
        laptopi[it-&gt;first]=new Laptop(*it-&gt;second);
</font>    }
}

Administracija::Administracija(Administracija &amp;&amp;a) {
    for(auto it=a.studenti.begin(); it!=a.studenti.end(); it++) {
        studenti[it-&gt;first]=it-&gt;second;
        it-&gt;second=nullptr;
    }
    for(auto it=a.laptopi.begin(); it!=a.laptopi.end(); it++) {
        laptopi[it-&gt;first]=it-&gt;second;
        it-&gt;second=nullptr;
    }
}

Administracija&amp; Administracija::operator=(const Administracija &amp;a) {
    if(&amp;a!=this) {
        
    }
    return *this;
}

Administracija&amp; Administracija::operator=(Administracija &amp;&amp;a) {
    std::swap(studenti, a.studenti);
    std::swap(laptopi, a.laptopi);
    return *this;
}

Administracija::~Administracija() {
    for(auto it=studenti.begin(); it!=studenti.end(); it++) {
        if(it-&gt;second) delete it-&gt;second;
    }
    for(auto it=laptopi.begin(); it!=laptopi.end(); it++) {
<a name="4"></a><font color="#FF00FF"><a href="match726-0.html#4" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_1.gif"/></a>

        if(it-&gt;second) delete it-&gt;second;
    }
}

void Administracija::RegistrirajNovogStudenta(int in, std::string god, std::string i, std::string ad, std::string tel) {
    if(studenti.count(in)) throw std::domain_error("Student sa tim indeksom vec postoji");
</font>    studenti[in]=new Student;
    studenti[in]-&gt;ime=i;
    studenti[in]-&gt;adresa=ad;
    studenti[in]-&gt;broj_telefona=tel;
}
void Administracija::RegistrirajNoviLaptop(int broj, std::string ime, std::string karakteristike) {
    if(laptopi.count(broj)) throw std::domain_error("Laptop sa tim evidencijskim brojem vec postoji");
    laptopi[broj]=new Laptop;
    laptopi[broj]-&gt;naziv=ime;
    laptopi[broj]-&gt;karakteristike=karakteristike;
}

Student &amp;Administracija::NadjiStudenta(int indeks) {
    if(!studenti.count(indeks)) throw std::domain_error("Student nije nadjen");
    return *studenti[indeks];
}
Laptop &amp;Administracija::NadjiLaptop(int broj) {
    if(laptopi.find(broj)==laptopi.end()) throw std::domain_error("Laptop nije nadjen");
    return *laptopi[broj];
}
void Administracija::IzlistajStudente() {
    for(auto it=studenti.begin(); it!=studenti.end(); it++) {
    std::cout&lt;&lt;"\nBroj indeksa: "&lt;&lt;it-&gt;first&lt;&lt;std::endl;
    std::cout&lt;&lt;"Godina studija: "&lt;&lt;it-&gt;second-&gt;DajGodinuStudija()&lt;&lt;std::endl;
    std::cout&lt;&lt;"Ime i prezime: "&lt;&lt;it-&gt;second-&gt;DajImePrezime()&lt;&lt;std::endl;
    std::cout &lt;&lt; "Adresa: "&lt;&lt;it-&gt;second-&gt;DajAdresu()&lt;&lt;std::endl;
    std::cout &lt;&lt;"Telefon: "&lt;&lt;it-&gt;second-&gt;DajTelefon()&lt;&lt; std::endl;
    }
}
void Administracija::IzlistajLaptope() {
    for(auto it=laptopi.begin(); it!=laptopi.end(); it++) {
        std::cout &lt;&lt; "\nEvidencijski broj: " &lt;&lt;it-&gt;first&lt;&lt; std::endl;
        std::cout &lt;&lt; "Naziv: " &lt;&lt;it-&gt;second-&gt;DajNaziv()&lt;&lt; std::endl;
        std::cout &lt;&lt; "Karakteristike: "&lt;&lt;it-&gt;second-&gt;DajKarakteristike() &lt;&lt; std::endl;
        if(it-&gt;second-&gt;DaLiJeZaduzen()) {
            std::cout&lt;&lt;"Zaduzio(la): "&lt;&lt;it-&gt;second-&gt;DajPokKodKogaJe()-&gt;ime&lt;&lt;" ("&lt;&lt;it-&gt;second-&gt;DajPokKodKogaJe()-&gt;indeks&lt;&lt;")";
        }
    }
}
void Administracija::ZaduziLaptop(int indeks, int broj) {
    NadjiStudenta(indeks);
    NadjiLaptop(broj);
    if(NadjiLaptop(broj).DaLiJeZaduzen()) throw std::domain_error("Laptop vec zaduzen");
    for(auto it=laptopi.begin(); it!=laptopi.end(); it++) {
      /*  if(it-&gt;second-&gt;DaLiJeZaduzen()) {
            if (it-&gt;second-&gt;DajKodKogaJe().DajIndeks()==indeks) throw std::domain_error)"Student je vec zaduzio laptop";
        }*/
    }
    NadjiLaptop(broj).Zaduzi(NadjiStudenta(indeks));
}

int Administracija::NadjiSlobodniLaptop() {
    for(auto it=laptopi.begin(); it!=laptopi.end(); it++) {
        if(!it-&gt;second-&gt;DaLiJeZaduzen()) return it-&gt;second-&gt;DajEvidencijskiBroj();
    }
     throw std::domain_error("Nema slobodnih laptopa");
}

void Administracija::RazduziLaptop(int broj) {
    NadjiLaptop(broj);
    if(!NadjiLaptop(broj).DaLiJeZaduzen()) throw std::domain_error("Laptop nije zaduzen");
    NadjiLaptop(broj).kod_koga_je=nullptr;
}

void Administracija::PrikaziZaduzenja() {
    bool pronadjeno(false);
    
}

int main ()
{
    try {
    Student s1(17833, "1", "Nadira", "Aleja lipa 44", "062/1-2" );
    s1.Ispisi();
    }
    catch(std::exception &amp;ex) {
        std::cout&lt;&lt;ex.what();
    }
	return 0;
}
</pre>
</body>
</html>
