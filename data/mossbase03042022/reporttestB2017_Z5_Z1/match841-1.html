<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z5/Z1/student5660.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z5/Z1/student4036.cpp<p></p><pre>
/B2017/2018: ZadaÄ‡a 5, Zadatak 1
#include &lt;iostream&gt;
#include &lt;string&gt;
#include &lt;memory&gt;
#include &lt;map&gt;
#include &lt;stdexcept&gt;
#include &lt;iomanip&gt;
#include &lt;algorithm&gt;

class Student
{
    int indeks;
    std::string god_studija, ime_i_prezime, adresa, broj_telefona;
<a name="2"></a><font color="#0000FF"><a href="match841-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_2.gif"/></a>

public:
    Student(int broj_indeksa, std::string godina_studija, std::string iip, std::string a, std::string broj_tel):indeks(broj_indeksa), god_studija(godina_studija), ime_i_prezime(iip), adresa(a), broj_telefona(broj_tel) {
        if(broj_indeksa &lt; 9999 || godina_studija != "1" || godina_studija != "2" || godina_studija != "3" || godina_studija != "1/B" || godina_studija != "2/B" || godina_studija != "3/B" || godina_studija != "1/M" || godina_studija != "2/M" || godina_studija != "1/D" || godina_studija!= "2/D" || godina_studija != "3/D") throw std::domain_error("Neispravni parametri");
</font><a name="1"></a><font color="#00FF00"><a href="match841-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_3.gif"/></a>

        //dodati svasta

    }
    int DajIndeks() const {
        return indeks;
    }
    std::string DajGodinuStudija() const {
        return god_studija;
    }
    std::string DajImePrezime() const {
        return ime_i_prezime;
    }
    std::string DajAdresu() const {
        return adresa;
    }
    std::string DajTelefon() const {
        return broj_telefona;
    }
    void Ispisi() const {
        std::cout &lt;&lt; "Broj indeksa: " &lt;&lt; DajIndeks() &lt;&lt; std::endl;
        std::cout &lt;&lt; "Godina studija: " &lt;&lt; DajGodinuStudija() &lt;&lt; std::endl;
</font>        std::cout &lt;&lt; "Ime i prezime: " &lt;&lt; DajImePrezime() &lt;&lt; std::endl;
<a name="0"></a><font color="#FF0000"><a href="match841-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_5.gif"/></a>

        std::cout &lt;&lt; "Adresa: " &lt;&lt; DajAdresu() &lt;&lt; std::endl;
        std::cout &lt;&lt; "Telefon: " &lt;&lt; DajTelefon() &lt;&lt; std::endl;
    }
};

class Laptop
{
    int ev_broj;
    std::string naziv, karakteristike, kod_koga_je;
    Student *pok;
public:
    Laptop(int e, std::string naz, std::string kark):ev_broj(e), naziv(naz), karakteristike(kark), pok(nullptr) {
        if(e&lt;0) throw std::domain_error("Neispravni parametri");
    }

    int DajEvidencijskiBroj() const {
        return ev_broj;
    }
    std::string DajNaziv() const {
        return naziv;
    }
    std::string DajKarakteristike() const {
</font>        return karakteristike;
    }
    // sta vraca ova fja
    void Zaduzi(Student &amp;p) {
        //if(pok != nullptr) throw std::domain_error("Laptop vec zaduzen");
        pok=&amp;p;
    }
    //???
    void Razduzi() {
        if(pok != nullptr) pok = nullptr;
    }
    bool DaLiJeZaduzen() {
        if(pok==nullptr) return false;
        return true;
    }

    Student &amp;DajKodKogaJe() const {
        if(pok == nullptr) throw std::domain_error("Laptop nije zaduzen");
        return *pok;
    }
    //nesto nesto
    Student* DajPokKodKogaJe() const {
        return pok;
    }
    void Ispisi() const {
        std::cout &lt;&lt; "Evidencijski broj: " &lt;&lt; DajEvidencijskiBroj() &lt;&lt; std::endl;
<a name="3"></a><font color="#00FFFF"><a href="match841-0.html#3" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_2.gif"/></a>

        std::cout &lt;&lt; "Naziv: " &lt;&lt; DajNaziv() &lt;&lt; std::endl;
        std::cout &lt;&lt; "Karakteristike: " &lt;&lt; DajKarakteristike() &lt;&lt; std::endl;
    }
};

class Administracija
{
    std::map&lt;int, Student*&gt; studenti;
    std::map&lt;int, Laptop*&gt; laptopi;
public:
    Administracija();
    Administracija(const Administracija &amp;a);
</font>    Administracija(Administracija &amp;&amp;a);
    Administracija &amp;operator=(const Administracija &amp;a);
    Administracija &amp;operator=(Administracija &amp;&amp;a);
    ~Administracija();
    void RegistrirajNovogStudenta(int ind, std::string gs, std::string iip, std::string ad, std::string brtel);
    void RegistrirajNoviLaptop(int evbr, std::string n, std::string k);
    Student &amp;NadjiStudenta(int i) {
        if(studenti.find(i)==studenti.end()) throw std::domain_error("Student nije nadjen");
        return *studenti[i];
    }
    Laptop &amp;NadjiLaptop(int evid_br) {
        if(laptopi.find(evid_br) == laptopi.end()) throw std::domain_error("Laptop nije nadjen");
        return *laptopi[evid_br];
    }
    
    Laptop NadjiLaptop(int evid_br) const 
    {
        for(auto it=laptopi.begin();it!=laptopi.end();it++)
        return *(it-&gt;second);
    }

    void IzlistajStudente();
    void IzlistajLaptope();
    void ZaduziLaptop(int inde, int evidbr);
    void NadjiSlobodniLaptop();
    void RazduziLaptop(int evidbr) {
        if(NadjiLaptop(evidbr).DaLiJeZaduzen()) NadjiLaptop(evidbr).Razduzi();
        else throw std::domain_error("Laptop nije zaduzen");
    }
    void PrikaziZaduzenja() const;

};
Administracija::Administracija() {}
Administracija::Administracija(const Administracija &amp;a)
{
    for(auto it1(a.studenti.begin()); it1 != a.studenti.end(); it1++) {
        studenti[it1-&gt;first]= new Student(*it1-&gt;second);
    }
    for(auto it(a.laptopi.begin()); it!=a.laptopi.end(); it++) {
        laptopi[it-&gt;first] = new Laptop(*it-&gt;second);
    }
}

Administracija::Administracija(Administracija &amp;&amp;a)
{
    for(auto it1(a.studenti.begin()); it1!=a.studenti.end(); it1++) {
        studenti[it1-&gt;first]=it1-&gt;second;
        it1-&gt;second=nullptr;
    }
    for(auto it(a.laptopi.begin()); it!=a.laptopi.end(); it++) {
        laptopi[it-&gt;first]=it-&gt;second;
        it-&gt;second=nullptr;
    }
}

Administracija &amp;Administracija::operator=(const Administracija &amp;a)
{
    if(&amp;a == this) return *this;// throw std::logic_error("Destruktivna samododjela!"); // nikad nesto sto sama svoj tekst ispisuje
    for(auto it(laptopi.begin()); it!=laptopi.end(); it++) {
        laptopi.erase(it-&gt;first);
    }
    laptopi.clear();
    {
        auto it2(studenti.begin());
        for(auto it1(a.studenti.begin()); it1!=a.studenti.end(); it1++) {
            for(; it2 != studenti.end(); it2++) {
                studenti[it1-&gt;first]=new Student(*it1-&gt;second);
                it2++;
                break;
            }
        }
    }
    auto it2(laptopi.begin());
    for(auto it1(a.laptopi.begin()); it1!=a.laptopi.end(); it1++) {
        for(; it2 != laptopi.end(); it2++) {
            it2-&gt;second= new Laptop(*it1-&gt;second);
            it2++;
            break;
        }
    }
    return *this;
}

Administracija &amp;Administracija::operator =(Administracija &amp;&amp;a){
    std::swap(studenti, a.studenti);
    std::swap(laptopi, a.laptopi);
    return *this;
}

Administracija::~Administracija(){
    for(auto it(laptopi.begin()); it != laptopi.end(); it++){
        if(it-&gt;second != nullptr)
            delete it-&gt;second;
    }
    for(auto it(studenti.begin()); it != studenti.end(); it++){
        if(it-&gt;second != nullptr)
            delete it-&gt;second;
    }
}

void Administracija::RegistrirajNovogStudenta(int ind, std::string gs, std::string iip, std::string ad, std::string brtel){
    if(studenti.find(ind) != studenti.end()) throw std::domain_error("Student s tim indeksom vec postoji");
    studenti[ind]=new Student(ind, gs, iip,ad,brtel);
    /*studenti[ind]-&gt;god_studija=gs;
    studenti[ind]-&gt;ime_i_prezime=iip;
    studenti[ind]-&gt;adresa=ad;
    studenti[ind]-&gt;broj_telefona=brtel;*/
}

void Administracija::RegistrirajNoviLaptop(int evbr, std::string n, std::string k){
    if(laptopi.find(evbr) != laptopi.end()) throw std::domain_error("Laptop s tim evidencijskim brojem vec postoji");
    laptopi[evbr]=new Laptop(evbr, n, k);
}

void Administracija::IzlistajStudente(){
    for(auto it(studenti.begin()); it != studenti.end(); it++){
        std::cout &lt;&lt; "Broj indeksa:"  &lt;&lt; it-&gt;first &lt;&lt; std::endl;
        std::cout &lt;&lt; "Godina studija" &lt;&lt; it-&gt;second-&gt;DajGodinuStudija()&lt;&lt; std::endl;
        std::cout &lt;&lt; "Ime i prezime: " &lt;&lt; it-&gt;second-&gt;DajImePrezime() &lt;&lt; std::endl;
        std::cout &lt;&lt; "Adresa: "&lt;&lt; it-&gt;second-&gt;DajAdresu() &lt;&lt; std::endl;
        std::cout &lt;&lt; "Telefon: " &lt;&lt; it-&gt;second-&gt;DajTelefon() &lt;&lt; std::endl &lt;&lt; std::endl;
    }
}

void Administracija::IzlistajLaptope(){
    for(auto it(laptopi.begin()); it != laptopi.end(); it++){
        std::cout &lt;&lt; "Evidencijski broj: " &lt;&lt; it-&gt;first &lt;&lt; std::endl;
        std::cout &lt;&lt; "Naziv: " &lt;&lt; it-&gt;second-&gt;DajNaziv() &lt;&lt; std::endl;
        std::cout &lt;&lt; "Karakteristike: " &lt;&lt; it-&gt;second-&gt;DajKarakteristike() &lt;&lt; std::endl;
        if(it-&gt;second-&gt;DaLiJeZaduzen()){
            std::cout &lt;&lt; "Zaduzio(la): " &lt;&lt; it-&gt;second-&gt;DajKodKogaJe().DajImePrezime()&lt;&lt; " (" &lt;&lt; it-&gt;second-&gt;DajKodKogaJe().DajIndeks() &lt;&lt; ")" &lt;&lt; std::endl;
        }
        std::cout &lt;&lt; std::endl;
    }
}
//procitaj tekst again
void Administracija::ZaduziLaptop(int inde, int evidbr){
    NadjiStudenta(inde);
    NadjiLaptop(evidbr);
    if(NadjiLaptop(evidbr).DaLiJeZaduzen()) throw std::domain_error("Laptop vec zaduzen");
    NadjiLaptop(evidbr).Zaduzi(NadjiStudenta(inde));
   
}

void Administracija::PrikaziZaduzenja() const{
    bool pom(true);
    for(auto it1(studenti.begin()); it1 != studenti.end(); it1++){
        for(auto it2(laptopi.begin()); it2 != laptopi.end(); it2++){
            pom=false;
            std::cout &lt;&lt; "Student " &lt;&lt; it1-&gt;second-&gt;DajImePrezime() &lt;&lt; " (" &lt;&lt; it1-&gt;second-&gt;DajIndeks() &lt;&lt; ") zaduzio/la laptop broj " &lt;&lt; it2-&gt;first &lt;&lt; std::endl;
        }
    }
    if(pom) std::cout &lt;&lt; "Nema zaduzenja" &lt;&lt; std::endl;
}

int main ()
{
    for(;;){
        std::cout &lt;&lt; "Izaberite zeljenu opciju: " &lt;&lt; std::endl;
        std::cout &lt;&lt; "1 za unos studenta, 2 za unos laptopa, 3 za ispis, 4 za zaduzivanje laptopa, 5 za razduzivanje, 6 izlistaj laptope zaduzene od jednog studenta, 0 za izlaz: ";
        int opcija; 
        std::cin &gt;&gt; opcija;
        Administracija nesto;
        switch(opcija){
            case 1:{
                try{
                std::cout &lt;&lt; "Unesite broj indeksa, godinu studija, ime i prezime, adresu i telefon: ";
                std::string god, iip, ad, tel;
                int ind;
                //nije dobro uzima samo jednu rijeci mozda da ides preko getline ??
                // kako da skontam koji mi je parametar neispravan ??
                std::cin &gt;&gt; ind &gt;&gt; god &gt;&gt; iip &gt;&gt; ad  &gt;&gt; tel;
                nesto.RegistrirajNovogStudenta(ind, god, iip, ad, tel);
                }catch(std::domain_error izuzetak){
                    std::cout &lt;&lt; izuzetak.what() &lt;&lt; std::endl;
                }
            break;
            
            }
            case 2:{
                std::cout &lt;&lt; "Unesite evidencijski broj, naziv i karakteristike: " ;
                std::string naziv, kark;
                int ev_broj;
                std::cin &gt;&gt; ev_broj &gt;&gt; naziv &gt;&gt; kark;
                nesto.RegistrirajNoviLaptop(ev_broj, naziv, kark);
            }
            case 3: {
                nesto.IzlistajStudente();
                nesto.IzlistajLaptope();
                break;
            }
            case 4: {
                std::cout &lt;&lt; "Unesite broj indeksa i evidencijski broj: " ;
                int ind, ev_broj;
                std::cin &gt;&gt; ind &gt;&gt; std::ws &gt;&gt; ev_broj;
                nesto.ZaduziLaptop(ind, ev_broj);
                break;
            }
            case 5: {
                std::cout &lt;&lt; "Unesite evidencijski broj: ";
                int ev_broj;
                std::cin &gt;&gt; ev_broj;
                nesto.RazduziLaptop(ev_broj);
                break;
            }
            case 6:{
                nesto.PrikaziZaduzenja();
                break;
            }
            default: goto izlaz;
            
        }
    }
    izlaz:
    return 0;
}
</pre>
</body>
</html>
