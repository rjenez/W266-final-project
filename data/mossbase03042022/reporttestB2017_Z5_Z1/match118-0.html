<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z5/Z1/student9451.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z5/Z1/student9451.cpp<p></p><pre>
<a name="0"></a><font color="#FF0000"><a href="match118-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_99.gif"/></a>

/B2017/2018: ZadaÄ‡a 5, Zadatak 1
#include &lt;iostream&gt;
#include &lt;vector&gt;
#include &lt;stdexcept&gt;
#include &lt;map&gt;

using namespace std;

const vector&lt;string&gt; Godine{ "1", "2", "3", "1/B", "2/B", "3/B", "1/M", "2/M", "1/D", "2/D" , "3/D"};

class Student
{
    int index;
    string ime,godina,adresa,tel;
    
    public:
    Student(int indeks,string ime,string god,string adresa,string tel)
    {
        if(indeks&lt;10000 || indeks&gt;99999) throw domain_error ("Neispravni parametri");
        index=indeks;
        
        int Valja=0;
        for(int i=0;i&lt;Godine.size();i++)
            if(Godine[i]==god) Valja=1;
    
        if(Valja==1) godina=god;
         //  else throw  domain_error ("Neispravni parametri");
        
        Student:: ime=ime;
        Student:: adresa=adresa;
        Student:: tel=tel;
    }
    
    int DajIndeks() const
    { 
        return index;
    }
    
    string DajImePrezime() const
    {
        return ime;
        
    }
    
    string DajGodinuStudija()
    {
        return godina;
    }
    
    string DajAdresu()
    {
        return adresa;
    }
    
    string DajTelefon()
    {
        return tel;
    }
    
    void Ispisi()
    {
        cout&lt;&lt;"Broj indeksa: "&lt;&lt;index&lt;&lt;endl;
        cout&lt;&lt;"Godina studija: "&lt;&lt;godina&lt;&lt;endl;
        cout&lt;&lt;"Ime i prezime: "&lt;&lt;ime&lt;&lt;endl;
        cout&lt;&lt;"Adresa: "&lt;&lt;adresa&lt;&lt;endl;
        cout&lt;&lt;"Telefon: "&lt;&lt;tel&lt;&lt;endl;
    }
};

class Laptop
{
    int ev_broj;
    string naziv,karakteristike;
    Student *kod_koga_je;
    
    public:
    Laptop(int id,string naziv,string karakteristike)
    {   
        if(id&lt;0) throw domain_error("Neispravni parametri");
        ev_broj=id;
        Laptop::naziv=naziv;
        Laptop::karakteristike=karakteristike;
        kod_koga_je=nullptr;
    }
    ~Laptop()
    {
        delete kod_koga_je;
    }
    int DajEvidencijskiBroj() const
    {
        return ev_broj;
    }
    string DajNaziv() const
    {
        return naziv;
    }
    string DajKarakteristike() const
    {
        return karakteristike;
    }
    void Zaduzi(const Student &amp;s)
    {
        if(kod_koga_je!=nullptr) throw domain_error("Laptop vec zaduzen");
        kod_koga_je=new Student(s);
    }
    void Razduzi()
    {
        kod_koga_je=nullptr;
    }
    bool DaLiJeZaduzen()
    {
        return kod_koga_je;
    }
    Student &amp;DajKodKogaJe() 
    {   
        if(kod_koga_je==nullptr) throw domain_error("Laptop nije zaduzen");
        return *kod_koga_je;
    }
    Student *DajPokKodKogaJe()
    {
        return kod_koga_je;
    }
    void Ispisi()
    {
        cout&lt;&lt;"Evidencijski broj: "&lt;&lt;ev_broj&lt;&lt;endl;
        cout&lt;&lt;"Naziv: "&lt;&lt;naziv&lt;&lt;endl;
        cout&lt;&lt;"Karakteristike: "&lt;&lt;karakteristike&lt;&lt;endl;
        if(kod_koga_je!=nullptr)
            cout&lt;&lt;"Zaduzio(la): "&lt;&lt;kod_koga_je-&gt;DajImePrezime()&lt;&lt;"("&lt;&lt;kod_koga_je-&gt;DajIndeks()&lt;&lt;")"&lt;&lt;endl;
        
    }
    
};

class Administracija
{
    map&lt;int,Student*&gt; Studenti;
    map&lt;int,Laptop*&gt; Laptopi;
    
    public:
    Administracija(){};
    Administracija(Administracija &amp;a)
    {
        for(auto b:a.Studenti)
        {
            Studenti[b.first]=new Student(*b.second);
           // delete b.second;
        }
        
        for(auto b:a.Laptopi)
        {
            Laptopi[b.first]=new Laptop(*b.second);
            //delete b.second;
        }
    }
    Administracija(Administracija &amp;&amp;a)
    {
        for(auto b:a.Studenti)
        {
            Studenti[b.first]=b.second;
            b.second=nullptr;
        }
        
        for(auto b:a.Laptopi)
        {
            Laptopi[b.first]=b.second;
            b.second=nullptr;
        }
    }
    Administracija &amp;operator=(Administracija &amp;a)
    {
        if(this!=&amp;a)
        {
            for(auto b:a.Studenti)
            {
                Studenti[b.first]=new Student(*b.second);
               
            }
            
            for(auto b:a.Laptopi)
            {
                Laptopi[b.first]=new Laptop(*b.second);
                
            }
        }
        return *this;
    }
    Administracija &amp;operator=(Administracija &amp;&amp;a)
    {
        if(this!=&amp;a)
        {
            for(auto b:a.Studenti)
            {
                Studenti[b.first]=b.second;
                b.second=nullptr;
            }
            
            for(auto b:a.Laptopi)
            {
                Laptopi[b.first]=b.second;
                b.second=nullptr;
            }
        }
        return *this;
    }
    
    ~Administracija()
    {
        
        for(auto b:Studenti)
        {
            delete b.second;
            b.second=nullptr;
        }
        
        for(auto b:Laptopi)
        {
            delete b.second;
            b.second=nullptr;
        }   
    }
   
    void RegistrirajNovogStudenta(int indeks,string ime,string god,string adresa,string tel)
    {   
        for(auto a:Studenti)
            if(a.first==indeks) throw domain_error("Student s tim indeksom vec postoji");
            
        Studenti[indeks]=new Student(indeks,ime,god,adresa,tel);
    }
    
    void RegistrirajNoviLaptop(int id,string naziv,string karakteristike)
    {
        for(auto a:Laptopi)
            if(a.first==id) throw domain_error("Laptop s tim evidencijskim brojem vec postoji");
        
        Laptopi[id]=new Laptop(id,naziv,karakteristike);
    }
    
    Student &amp;NadjiStudenta(int id)
    {
        for(auto a:Studenti)
            if(a.first==id)
                return *a.second;
        throw domain_error("Student nije nadjen");
    }
    Student NadjiStudenta(int id) const
    {
        for(auto a:Studenti)
            if(a.first==id)
                return *a.second;
        throw domain_error("Student nije nadjen");
    }
    
    Laptop &amp;NadjiLaptop(int id)
    {
        for(auto a:Laptopi)
            if(a.first==id)
                return *a.second;
        throw domain_error("Laptop nije nadjen");
    }
    Laptop NadjiLaptop(int id) const
    {
        for(auto a:Laptopi)
            if(a.first==id)
                return *a.second;
        throw domain_error("Laptop nije nadjen");
    }
    void IzlistajStudente()
    {
        for(auto a:Studenti)
        {
            a.second-&gt;Ispisi();
            cout&lt;&lt;endl;
        }
    }
    void IzlistajLaptope()
    {
        for(auto a:Laptopi)
        {
            a.second-&gt;Ispisi();
            cout&lt;&lt;endl;
        }
    }
    
    
    void ZaduziLaptop(int sid,int lid)
    {  
        bool ima=0;

        for(auto a:Studenti)
            if(sid==a.first)
                ima=1;
        if(ima==0) throw ("Student nije nadjen");
        ima=0;
        for(auto a:Laptopi)
            if(lid==a.first)
                ima=1;
        //Izuzetak ako je student zaduzio 
        if(ima==0) throw ("Laptop nije nadjen");
        
        if(ima==1 &amp;&amp; !Laptopi[lid]-&gt;DaLiJeZaduzen())
            Laptopi[lid]-&gt;Zaduzi(*Studenti[sid]);
        else 
            throw("Laptop vec zaduzen");
        
        
    }
    
    int NadjiSlobodniLaptop()
    {
        for(auto a:Laptopi)
            if(!a.second-&gt;DaLiJeZaduzen())
                return a.first;
                
        throw domain_error("Nema slobodnih laptopa");
    }
    
    void RazduziLaptop(int id)
    {
        bool ima=0;
        for(auto a:Laptopi)
            if(id==a.first)
                ima=1;
        //Izuzetak ako je student zaduzio 
        if(ima==0) throw ("Laptop nije nadjen");
        
        if(ima==1 &amp;&amp; Laptopi[id]-&gt;DaLiJeZaduzen())
            Laptopi[id]-&gt;Razduzi();
        else 
            throw("Laptop nije zaduzen");
        
    }
    void PrikaziZaduzenja()
    {   
        bool ima=0;
        for(auto a:Laptopi)
        {
            if(a.second-&gt;DaLiJeZaduzen())
            {   ima=1;
                
                cout&lt;&lt;"Student "&lt;&lt;a.second-&gt;DajKodKogaJe().DajImePrezime()
                    &lt;&lt;" ("&lt;&lt;a.second-&gt;DajKodKogaJe().DajIndeks()&lt;&lt;") zaduzio/la laptop broj "
                    &lt;&lt;a.first&lt;&lt;endl;
            }
        }
        
        if(ima==0) cout&lt;&lt;"Nema zaduzenja";
    }
    
};

int main ()
{   
    Student s(35124,"Huso Husic Car","3/B","Neka adresa","069/434-072");
    s.Ispisi();
    Laptop l(0,"Acer","Kao nov");
    l.Ispisi();
    
    l.Zaduzi(s);
    cout&lt;&lt;l.DaLiJeZaduzen()&lt;&lt;endl&lt;&lt;endl;
    l.DajKodKogaJe().Ispisi();
    l.Razduzi();
    
    Administracija a;
    Administracija a1(a);
    
    a.RegistrirajNoviLaptop(1,"HP","Smece");
    a.RegistrirajNovogStudenta(18000,"Hello","1/B","negdje","061/111-000");
    
    cout&lt;&lt;"Laptopi: "&lt;&lt;endl;
    a.IzlistajLaptope();
    cout&lt;&lt;"Studenti: "&lt;&lt;endl;
    a.IzlistajStudente();
    
    a.ZaduziLaptop(18000,1);
    cout&lt;&lt;"Zaduzenja: ";
    a.PrikaziZaduzenja();
	return 0;
</font>}
</pre>
</body>
</html>
