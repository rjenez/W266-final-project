<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z5/Z1/student6328.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z5/Z1/student4959.cpp<p></p><pre>
<a name="2"></a><font color="#0000FF"><a href="match951-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_1.gif"/></a>

/B2017/2018: ZadaÄ‡a 5, Zadatak 1
#include &lt;iostream&gt;
#include &lt;string&gt;
#include &lt;stdexcept&gt;
#include &lt;map&gt;

class Student {
    
    int index;
    std::string godina_studiranja;
    std::string ime_i_prezime;
</font>    std::string adresa;
    std::string broj_telefona;
    void TestGodine(std::string s);
    void UkloniViskaRazmake(std::string &amp;s);
    void TestBroja(std::string s);
<a name="0"></a><font color="#FF0000"><a href="match951-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_2.gif"/></a>

    public:
    
    Student(int i,std::string gs, std::string ime, std::string ad, std::string broj);
    int DajIndeks() const { return index; }
    std::string DajGodinuStudija() const { return godina_studiranja; }
    std::string DajAdresu() const { return adresa; }
    std::string DajTelefon() const { return broj_telefona; }
</font>    std::string DajImePrezime() const { return ime_i_prezime; }
    void Ispisi() const;
    
    friend bool operator ==(const Student &amp;s1, const Student &amp;s2){
        return s1.index == s2.index &amp;&amp; s1.godina_studiranja == s2.godina_studiranja
                &amp;&amp; s1.ime_i_prezime == s2.ime_i_prezime &amp;&amp; s1.adresa == s2.adresa &amp;&amp;
                s1.broj_telefona == s2.broj_telefona;
    }
    
};

void Student::TestGodine(std::string s){
    const std::string niz[]{"1","2","3","1/B","2/B","3/B","1/M","2/M","1/D","2/D","3/D"};
    bool ima(false);
    for(int i(0);i&lt;11;i++)
        if(s == niz[i]) { 
            ima = true; break;
        }
    if(!ima)throw std::domain_error("Neispravni parametri");   
}
void Student::UkloniViskaRazmake(std::string &amp;s){
    std::string pom;
    int i(0);
    while(i&lt;s.length()){
        
        //ako ima na pocetku razmaka preskoci ih
        while(s[i]==' ' &amp;&amp; i&lt;s.length())i++;
        
        //upisi sve sto nije razmak
        while(s[i]!=' ' &amp;&amp; i&lt;s.length()){pom.push_back(s[i]);i++;}
        
        pom.push_back(' ');
        i++;
    }
    s = pom;
    if(s[s.length()-1] == ' ')s = s.substr(0,s.length()-1);
}
void Student::TestBroja(std::string s){
    if(s.length() == 0)throw std::domain_error("Neispravni parametri");
    int i(0);
    while(2){
        while (s[i]&gt;='0' &amp;&amp; s[i]&lt;='9' &amp;&amp; i&lt;s.length())i++;
        if(s[i] != '/')throw std::domain_error("Neispravni parametri");
        i++;
        while (s[i]&gt;='0' &amp;&amp; s[i]&lt;='9' &amp;&amp; i&lt;s.length())i++;
        if(s[i]!= '-')throw std::domain_error("Neispravni parametri");
        break;
    }
}
Student::Student(int i,std::string gs, std::string ime, std::string ad, std::string broj){
        if(i&gt;99999 || i&lt;10000)throw std::domain_error("Neispravni parametri");
        index = i;
        TestGodine(gs);
        if(gs == "1" || gs == "2" || gs == "3")
            godina_studiranja = gs + "/B";
        else godina_studiranja = gs;
        
        UkloniViskaRazmake(ime);
        UkloniViskaRazmake(ad);
        
        ime_i_prezime = ime;
        adresa = ad;
        
        TestBroja(broj);
        broj_telefona = broj;
}
<a name="5"></a><font color="#FF0000"><a href="match951-0.html#5" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_1.gif"/></a>

void Student::Ispisi() const {
    std::cout&lt;&lt;"Broj indeksa: "&lt;&lt;DajIndeks()&lt;&lt;std::endl;
    std::cout&lt;&lt;"Godina studija: "&lt;&lt;DajGodinuStudija()&lt;&lt;std::endl;
</font>    std::cout&lt;&lt;"Ime i prezime: "&lt;&lt;DajImePrezime()&lt;&lt;std::endl;
    std::cout&lt;&lt;"Adresa: "&lt;&lt;DajAdresu()&lt;&lt;std::endl;
    std::cout&lt;&lt;"Telefon: "&lt;&lt;DajTelefon()&lt;&lt;std::endl;
}



<a name="3"></a><font color="#00FFFF"><a href="match951-0.html#3" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_1.gif"/></a>

class Laptop {
    int ev_broj;
    std::string naziv;
    std::string karakteristike;
    Student *kod_koga_je;
    
    public: 
    
    Laptop(int n, std::string ime, std::string kar);
</font><a name="1"></a><font color="#00FF00"><a href="match951-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_1.gif"/></a>

    int DajEvidencijskiBroj() const { return ev_broj; }
    std::string DajNaziv() const { return naziv; }
    std::string DajKarakteristike() const { return karakteristike; }
    
    void Zaduzi(Student &amp;s){
        if(kod_koga_je != nullptr) throw std::domain_error("Laptop vec zaduzen");
        kod_koga_je = &amp;s;
</font>    }
    void Razduzi(){ kod_koga_je = nullptr; }
    bool DaLiJeZaduzen() const { return kod_koga_je != nullptr; }
    Student &amp;DajKodKogaJe() const {
        if(kod_koga_je == nullptr)
            throw std::domain_error("Laptop nije zaduzen");
        return *kod_koga_je;
    }
    Student *DajPokKodKogaJe(){ return kod_koga_je; }
    void Ispisi() const;
    
};

Laptop::Laptop(int n, std::string ime, std::string kar):naziv(ime),karakteristike(kar),kod_koga_je(nullptr){
    if(n &lt; 0) throw std::domain_error("Neispravni parametri");
    ev_broj = n;
}

<a name="6"></a><font color="#00FF00"><a href="match951-0.html#6" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_1.gif"/></a>

void Laptop::Ispisi() const {
    std::cout&lt;&lt;"Evidencijski broj: "&lt;&lt;DajEvidencijskiBroj()&lt;&lt;std::endl;
    std::cout&lt;&lt;"Naziv: "&lt;&lt;DajNaziv()&lt;&lt;std::endl;
</font>    std::cout&lt;&lt;"Karakteristike: "&lt;&lt;DajKarakteristike()&lt;&lt;std::endl;
}


class Administracija {
    
    std::map&lt;int,Student*&gt; studenti;
    std::map&lt;int,Laptop*&gt; laptopi;
    
    public:
    
    Administracija(){}//done
    Administracija(const Administracija &amp;admin);//done
    Administracija(Administracija &amp;&amp;admin);//done
    Administracija &amp;operator = (const Administracija &amp;admin);//done
    Administracija &amp;operator = (Administracija &amp;&amp;admin);//done
    ~Administracija();//done
    
    void RegistrirajNovogStudenta(int i,std::string gs, std::string ime, std::string ad, std::string broj);//done
    void RegistrirajNoviLaptop(int n, std::string ime, std::string kar);//done
    Student &amp;NadjiStudenta(int i);//done
    Student NadjiStudenta(int i) const;//done
    Laptop &amp;NadjiLaptop(int i);//done
    Laptop NadjiLaptop(int i) const;//done
    void IzlistajStudente() const;//done
    void IzlistajLaptope() const;//done
    
    void ZaduziLaptop(int i, int ev_b);//done
    int NadjiSlobodniLaptop() const;//done
    void RazduziLaptop(int ev_b);//done
    void PrikaziZaduzenja() const;//done
};
// kopirajuci i pomjerajuci konstruktori
Administracija::Administracija(const Administracija &amp;admin){
    for(auto it(admin.studenti.begin()); it != admin.studenti.end(); it++)
        studenti.insert({it-&gt;first, new Student (*(it-&gt;second))});
    for(auto it(admin.laptopi.begin()); it != admin.laptopi.end(); it++)
        laptopi.insert({it-&gt;first, new Laptop (*(it-&gt;second))});
}
Administracija::Administracija(Administracija &amp;&amp;admin){
    std::swap(admin.studenti,studenti);
    std::swap(admin.laptopi,laptopi);
}
// kopirajuci i pomjerajuci operatori dodjele
Administracija &amp;Administracija::operator = (const Administracija &amp;admin){
    // radi sve sta radi destruktor
    for(auto it(studenti.begin()); it != studenti.end(); it++){
        delete it-&gt;second; 
        it = studenti.erase(it);
    }
    for(auto it(laptopi.begin()); it != laptopi.end(); it++){
        delete it-&gt;second; 
        it = laptopi.erase(it);
    }
    // radi sve sta radi kopirajuci konstruktor
    for(auto it(admin.studenti.begin()); it != admin.studenti.end(); it++)
        studenti.insert({it-&gt;first, new Student (*(it-&gt;second))});
    for(auto it(admin.laptopi.begin()); it != admin.laptopi.end(); it++)
        laptopi.insert({it-&gt;first, new Laptop (*(it-&gt;second))});
    return *this;    
}
Administracija &amp;Administracija::operator =(Administracija &amp;&amp;admin){
    std::swap(admin.studenti, studenti);
    std::swap(admin.laptopi,laptopi);
    return *this;
}
// destruktor
Administracija::~Administracija(){
    for(auto it(studenti.begin()); it != studenti.end(); it++){
        delete it-&gt;second; 
        it = studenti.erase(it);
    }
    for(auto it(laptopi.begin()); it != laptopi.end(); it++){
        delete it-&gt;second; 
        it = laptopi.erase(it);
    }
}

<a name="4"></a><font color="#FF00FF"><a href="match951-0.html#4" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_1.gif"/></a>

void Administracija::RegistrirajNovogStudenta(int i,std::string gs, std::string ime, std::string ad, std::string broj){
    auto it(studenti.find(i));
</font>    if(it!=studenti.end())throw std::domain_error("Student s tim indeksom vec postoji");
    studenti.insert({i,new Student(i,gs,ime,ad,broj)});
}

void Administracija::RegistrirajNoviLaptop(int n, std::string ime, std::string kar){
    auto it(laptopi.find(n));
    if(it != laptopi.end()) throw std::domain_error("Laptop s tim evidencijskim brojem vec postoji");
    laptopi.insert({n,new Laptop(n,ime,kar)});
}

Student &amp;Administracija::NadjiStudenta(int i){
    auto it(studenti.find(i));
    if(it == studenti.end()) throw std::domain_error("Student nije nadjen");
    return *(it-&gt;second);
}
Student Administracija::NadjiStudenta(int i) const {
    auto it(studenti.find(i));
    if(it == studenti.end()) throw std::domain_error("Student nije nadjen");
    return *(it-&gt;second);
}

Laptop &amp;Administracija::NadjiLaptop(int i){
    auto it(laptopi.find(i));
    if(it == laptopi.end()) throw std::domain_error("Laptop nije nadjen");
    return *(it-&gt;second);
}

Laptop Administracija::NadjiLaptop(int i) const {
    auto it(laptopi.find(i));
    if(it == laptopi.end()) throw std::domain_error("Laptop nije nadjen");
    return *(it-&gt;second);
}

void Administracija::IzlistajStudente() const {
    for(auto x : studenti){
        x.second-&gt;Ispisi();
        std::cout&lt;&lt;std::endl;
    }
}

void Administracija::IzlistajLaptope() const {
    for(auto x : laptopi){
        x.second-&gt;Ispisi();
        if(x.second-&gt;DaLiJeZaduzen()){
            Student s = *(x.second-&gt;DajPokKodKogaJe());
            std::cout&lt;&lt;"Zaduzio(la): "&lt;&lt;s.DajImePrezime()&lt;&lt;"("&lt;&lt;s.DajIndeks()&lt;&lt;")";
        }
        std::cout&lt;&lt;std::endl;
    }
}


void Administracija::ZaduziLaptop(int i, int ev_b){
    auto its(studenti.find(i));
    auto itl(laptopi.find(ev_b));
    if(its == studenti.end()) throw std::domain_error("Student nije nadjen");
    if(itl == laptopi.end())  throw std::domain_error("Laptop nije nadjen");
    if(itl-&gt;second-&gt;DaLiJeZaduzen()) throw std::domain_error("Laptop vec zaduzen");
    for(auto it(laptopi.begin()); it != laptopi.end(); it++){
        if(*(it-&gt;second-&gt;DajPokKodKogaJe()) == *(its-&gt;second))
            throw std::domain_error("Student je vec zaduzio laptop");
    }
    itl-&gt;second-&gt;Zaduzi(*(its-&gt;second));
}


int Administracija::NadjiSlobodniLaptop() const{
    for(auto it(laptopi.begin()); it!=laptopi.end(); it++){
        if(it-&gt;second-&gt;DajPokKodKogaJe() == nullptr)return it-&gt;first;
    }
    throw std::domain_error("Nema slobodnih laptopa");
}

void Administracija::RazduziLaptop(int ev_b){
    auto it(laptopi.find(ev_b));
    if(it == laptopi.end()) std::domain_error("Laptop nije nadjen");
    
    if(it-&gt;second-&gt;DajPokKodKogaJe() == nullptr)
        throw std::domain_error("Laptop nije zaduzen");
    
    delete it-&gt;second-&gt;DajPokKodKogaJe();
    it-&gt;second-&gt;Razduzi();
}


void Administracija::PrikaziZaduzenja() const {
    int brojac(0);
    for(auto x : laptopi){
        if(x.second-&gt;DaLiJeZaduzen()){
            brojac++;
            Student s = *(x.second-&gt;DajPokKodKogaJe());
            std::cout&lt;&lt;"Student "&lt;&lt;s.DajImePrezime()&lt;&lt;"("&lt;&lt;s.DajIndeks()&lt;&lt;")"&lt;&lt;
            "zaduzio/la laptop broj "&lt;&lt;x.first;
        }
    }
    if(brojac == 0) std::cout&lt;&lt;"Nema zaduzenja";
}
/*
int main ()
{   
    Administracija adm;
    while(1){
        std::cout&lt;&lt;"Odaberite opciju: "&lt;&lt;std::endl;
        std::cout&lt;&lt;"1) Registruj studenta"&lt;&lt;std::endl;
        std::cout&lt;&lt;"2) Registruj laptop"&lt;&lt; std::endl;
        std::cout&lt;&lt;"3) Nadji studenta"&lt;&lt;std::endl;
        std::cout&lt;&lt;"4) Nadji laptop"&lt;&lt;std::endl;
        std::cout&lt;&lt;"5) Ispisi studente"&lt;&lt;std::endl;
        std::cout&lt;&lt;"6) Ispisi laptope"&lt;&lt;std::endl;
        std::cout&lt;&lt;"7) Zaduzi laptop"&lt;&lt;std::endl;
        std::cout&lt;&lt;"8) Razduzi laptop"&lt;&lt;std::endl;
        std::cout&lt;&lt;"9) Nadji slobodni laptop"&lt;&lt;std::endl;
        std::cout&lt;&lt;"10) Ispisi zaduzenje"&lt;&lt;std::endl;
        std::cout&lt;&lt;"11) Kraj"&lt;&lt;std::endl;
        int opcija;
        std::cin&gt;&gt;opcija;
        if(opcija == 1){
            
        }else if(opcija == 2){
            
        }else if(opcija == 3){
            
        }else if(opcija == 4){
            
        }else if(opcija == 5){
            
        }else if(opcija == 6){
            
        }else if(opcija == 7){
            
        }else if(opcija == 8){
            
        }else if(opcija == 9){
            
        }else if(opcija == 10){
            
        }else if(opcija == 11){
            std::cout&lt;&lt;"Dovidjenja!";
            return 0;
        }
    }
	return 0;
}*/
int main(){
    
    Administracija etf ;

    etf.RegistrirajNoviLaptop(123, "Dell", "CPU 3.0 GHz, 4 GB RAM");
    etf.RegistrirajNoviLaptop(331, "ASUS", "CPU 3.5 GHz, 2 GB RAM");
    etf.RegistrirajNoviLaptop(122, "Dell 2", "CPU 3.2 GHz, 6 GB RAM");
    etf.RegistrirajNovogStudenta(14212, "1", "Benjamin", "Francuska revolucija 23", "12/34-56");
    etf.RegistrirajNovogStudenta(17528, "2","Ivan", "Trg vjecnih studenata 12", "048/597-585");
    
    etf.ZaduziLaptop(14212, 123);
    etf.ZaduziLaptop(17528, 331);
    
    etf.PrikaziZaduzenja();
    return 0;
}</pre>
</body>
</html>
