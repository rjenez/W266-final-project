<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z5/Z1/student6516.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z5/Z1/student6516.cpp<p></p><pre>
<a name="1"></a><font color="#00FF00"><a href="match83-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_30.gif"/></a>

/B2017/2018: ZadaÄ‡a 5, Zadatak 1
#include &lt;iostream&gt;
#include &lt;stdexcept&gt;
#include &lt;string&gt;
#include &lt;cstring&gt;
#include &lt;map&gt;


class Student
{
    
    int index;
    std::string god;
    std::string ime;
    std::string stanovanje;
    std::string telefon;

public:
    Student (int br_indexa,std::string godina,std::string ime_pr, std::string adresa,std::string broj):index(br_indexa),
    god(godina),ime(ime_pr),stanovanje(adresa),telefon(broj){
        
        int k=0;

        int proba=index;
        while(proba!=0) {
            proba=proba/10;
            k++;
        }
        if(k!=5 ) throw std::domain_error("Neispravni parametri");

        std::string s("1/B");
        std::string s1("2/B");
        std::string s2("3/B");
        if(god.size()==1 &amp;&amp;(god[0]=='1' || god[0]=='2'|| god[0]=='3')){
            if(god[0]=='1') god=s;
            if(god[0]=='2') god=s1;
            if(god[0]=='3') god=s2;
        }
        else {
            int a=0;
        if((god[0]=='1' || god[0]=='2'|| god[0]=='3')&amp;&amp;(god[1]=='/') &amp;&amp; (god[2]=='M' || god[2]=='B' || god[2]=='D')) a=1;
        else throw std::domain_error("Neispravni parametri");
        }
        
        bool a,b;
        for(int i=0; i&lt;ime.size(); i++) {
            a=true;
            if(i!=0){
            if(((ime[i+1]&gt;='A' &amp;&amp; ime[i+1]&lt;='Z') || (ime[i+1]&gt;='a' &amp;&amp; ime[i+1]&lt;='z'))&amp;&amp;((ime[i-1]&gt;='A' &amp;&amp; ime[i-1]&lt;='Z') || (ime[i-1]&gt;='a' &amp;&amp; ime[i-1]&lt;='z')))a=false;
            }
            
                if(ime[i]==' '&amp;&amp; a==true ){
                     for(int j=i; j&lt;ime.size(); j++) {
                         ime[j]=ime[j+1];
            }i--;
                    
                    ime.resize(ime.size()-1);
                }
        }
        int m;
        for(m=0; m&lt;telefon.size(); m++) {
            if(telefon[m]=='/' || telefon[m]=='-' || (telefon[m]&gt;='0' &amp;&amp; telefon[m]&lt;='9')) continue;
            else break;
        }
        if(m!=telefon.size()) throw std::domain_error("Neispravni parametri");
      
    }
    int DajIndeks() {
        return index;
    }
    std::string DajGodinuStudija() {
        return god;
    }
    std::string DajImePrezime() {
        return ime;
    }
    std::string DajAdresu() {
        return stanovanje;
    }
    std::string DajTelefon() {
        return telefon;
    }
    void Ispisi() {
        std::cout&lt;&lt;"Broj indeksa: "&lt;&lt;DajIndeks() &lt;&lt; std::endl&lt;&lt;
                 "Godina studija: "&lt;&lt;DajGodinuStudija()&lt;&lt;std::endl&lt;&lt;"Ime i prezime: "&lt;&lt;DajImePrezime()&lt;&lt;
</font><a name="0"></a><font color="#FF0000"><a href="match83-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_68.gif"/></a>

                 std::endl&lt;&lt;"Adresa: "&lt;&lt;DajAdresu()&lt;&lt;std::endl&lt;&lt;"Telefon: "&lt;&lt;DajTelefon()&lt;&lt;std::endl;
    }

};
class Laptop
{
    int ev_broj;
    std::string naziv;
    std::string karakteristike;
    Student *kod_koga_je;
public:
    Laptop(int broj,std::string ime,std::string kar): naziv(ime),karakteristike(kar), kod_koga_je(nullptr) {
        if(broj&lt;0) throw std::domain_error("Neispravni parametri");
        ev_broj=broj;
    }

    int DajEvidencijskiBroj() {
        return ev_broj;
    }
    std::string DajNaziv() {
        return naziv;
    }
    std::string DajKarakteristike() {
        return karakteristike;
    }
    void Zaduzi(Student &amp;s) {
        if(kod_koga_je!=nullptr) throw std::domain_error("Laptop vec zaduzen") ;
        kod_koga_je=&amp;s;

    }
    void Razduzi() {
        if(kod_koga_je!=nullptr) kod_koga_je=nullptr;
    }
    bool DaLiJeZaduzen() {
        return !(kod_koga_je==nullptr);
        
    }
Student &amp;DajKodKogaJe(){
    if(kod_koga_je==nullptr) throw std::domain_error("Laptop nije zaduzen") ;
    return *kod_koga_je;
}
    Student *DajPokKodKogaJe() {
        return kod_koga_je;
    }
    void Ispisi() {
        std::cout&lt;&lt;"Evidencijski broj: "&lt;&lt;DajEvidencijskiBroj()&lt;&lt;std::endl&lt;&lt;
                 "Naziv: "&lt;&lt;DajNaziv()&lt;&lt;std::endl&lt;&lt;"Karakteristike: "&lt;&lt;DajKarakteristike();
    }

};
class Administracija
{

    std::map&lt;int,Laptop*&gt; laptopi;
    std::map&lt;int,Student*&gt; studenti;
public:
Administracija(){}
~Administracija(){
    for(auto it=laptopi.begin();it!=laptopi.end();it++){
        delete laptopi[it-&gt;first];
    }
    for(auto it=studenti.begin();it!=studenti.end();it++){
        delete studenti[it-&gt;first];
    }
}
Administracija (const Administracija &amp;a);
Administracija(Administracija &amp;&amp;a):laptopi(a.laptopi),studenti(a.studenti){}
Administracija &amp;operator = (const Administracija &amp;a);
Administracija &amp;operator =(Administracija &amp;&amp;a);
void RegistrirajNovogStudenta(int br_indexa,std::string godina,std::string ime_pr, std::string adresa,std::string broj);
void RegistrirajNoviLaptop(int broj,std::string ime,std::string kar);
Student &amp;NadjiStudenta(int br);
Laptop &amp;NadjiLaptop(int br2);
void IzlistajStudente() const;
void IzlistajLaptope() const;
void ZaduziLaptop( int in,int ev);
void RazduziLaptop(int ev);
void PrikaziZaduzenja()const;


};

Administracija::Administracija (const Administracija &amp;a){
    for(auto it=a.laptopi.begin();it!=a.laptopi.end();it++){
        laptopi[it-&gt;first]=new Laptop (*(it-&gt;second));
    }
    for(auto it=a.studenti.begin();it!=a.studenti.end();it++){
        studenti[it-&gt;first]=new Student (*(it-&gt;second));
    }
    
}
Administracija &amp;Administracija::operator = (const Administracija &amp;a){
    for(auto it=a.laptopi.begin();it!=a.laptopi.end();it++){
        laptopi[it-&gt;first]=new Laptop (*(it-&gt;second));
    }
    for(auto it=a.studenti.begin();it!=a.studenti.end();it++){
        studenti[it-&gt;first]=new Student (*(it-&gt;second));
    }
    return *this;
}
Administracija &amp;Administracija::operator =(Administracija &amp;&amp;a){
    laptopi=a.laptopi;
    studenti=a.studenti;
    return *this;
}
void Administracija::RegistrirajNovogStudenta(int br_indexa,std::string godina,std::string ime_pr, std::string adresa,std::string broj){
    if(studenti.count(br_indexa)) throw std::domain_error("Student s tim indeksom vec postoji");
    Student s(br_indexa,godina,ime_pr,adresa,broj);
    s.DajGodinuStudija()=godina;
    s.DajImePrezime()=ime_pr;
    s.DajAdresu()=adresa;
    s.DajTelefon()=broj;
    studenti[br_indexa]=new Student(s);
}
void Administracija::RegistrirajNoviLaptop(int broj,std::string ime,std::string kar){
    if(laptopi.count(broj)) throw std::domain_error("Laptop s tim evidencijskim brojem vec postoji");
    laptopi[broj]=new Laptop(broj,ime,kar);
    
}
Student &amp;Administracija::NadjiStudenta(int br){
    if(!studenti.count(br)) throw std::domain_error("Student nije nadjen");
    return *studenti[br];
}
Laptop &amp;Administracija::NadjiLaptop(int br2){
    if(!laptopi.count(br2)) throw std::domain_error("Laptop nije nadjen");
    return *laptopi[br2];
}
void Administracija::IzlistajStudente() const{//JEL TREBASSS SVE ISPISATII!!!!!!!

    for(auto it=studenti.begin();it!=studenti.end();it++){
       std::cout&lt;&lt;"Broj indeksa: "&lt;&lt;it-&gt;first&lt;&lt; std::endl&lt;&lt;
                 "Godina studija: "&lt;&lt;(it-&gt;second)-&gt;DajGodinuStudija()&lt;&lt;std::endl&lt;&lt;"Ime i prezime: "&lt;&lt;(it-&gt;second)-&gt;DajImePrezime()&lt;&lt;
                 std::endl&lt;&lt;"Adresa: "&lt;&lt;(it-&gt;second)-&gt;DajAdresu()&lt;&lt;std::endl&lt;&lt;"Telefon: "&lt;&lt;(it-&gt;second)-&gt;DajTelefon()&lt;&lt;std::endl&lt;&lt;std::endl;
    }
}
void Administracija::IzlistajLaptope() const{//JEL TREBASSS SVE ISPISATII!!!!!!!
bool a=true;
    for(auto it=laptopi.begin();it!=laptopi.end();it++){
       
       
        std::cout&lt;&lt;"Evidencijski broj: "&lt;&lt;it-&gt;first&lt;&lt;std::endl&lt;&lt;
                 "Naziv: "&lt;&lt;(it-&gt;second)-&gt;DajNaziv()&lt;&lt;std::endl&lt;&lt;"Karakteristike: "&lt;&lt;(it-&gt;second)-&gt;DajKarakteristike()&lt;&lt;std::endl;
       if((it-&gt;second)-&gt;DaLiJeZaduzen()){
           Student s((it-&gt;second)-&gt;DajKodKogaJe());
           std::cout&lt;&lt;"Zaduzio(la): "&lt;&lt;s.DajImePrezime()&lt;&lt;" ("&lt;&lt;s.DajIndeks()&lt;&lt;")"&lt;&lt;std::endl&lt;&lt;std::endl;
          a =false;
       }
       if(a==true) std::cout&lt;&lt;std::endl;
    }
}
void Administracija::ZaduziLaptop( int in,int ev){
    if(!laptopi.count(ev)) throw std::domain_error("Laptop nije nadjen");
    if(!studenti.count(in)) throw std::domain_error("Student nije nadjen");
    if(laptopi[ev]-&gt;DaLiJeZaduzen()) throw std::domain_error("Laptop vec zaduzen");
    //fali jos jedan izuzetak
    
    laptopi[ev]-&gt;Zaduzi(*studenti[in]);
}
void Administracija::RazduziLaptop(int ev){
    if(!laptopi.count(ev)) throw std::domain_error("Laptop nije nadjen");
    if(!laptopi[ev]-&gt;DaLiJeZaduzen()) throw std::domain_error("Laptop nije zaduzen");
    laptopi[ev]-&gt;Razduzi();
}
void Administracija::PrikaziZaduzenja()const{
    int i=0;
    for(auto it=laptopi.begin();it!=laptopi.end();it++){
       
        if((it-&gt;second)-&gt;DaLiJeZaduzen()){
             Student s((it-&gt;second)-&gt;DajKodKogaJe());
            std::cout&lt;&lt;"Student "&lt;&lt;s.DajImePrezime()&lt;&lt;" ("&lt;&lt;s.DajIndeks()&lt;&lt;") zaduzio/la laptop broj "&lt;&lt;it-&gt;first&lt;&lt;std::endl;
            i++;
        }
    }
    if(i==0) std::cout&lt;&lt;"Nema zaduzenja";
}


int main ()
{
try{
    Administracija a;
    a.RegistrirajNovogStudenta(12345,"1/B","Azra Ka","Josipa","062/330-987");
    a.RegistrirajNoviLaptop(2,"Je","d569");
    a.ZaduziLaptop(12345,2);
    a.IzlistajLaptope();
    a.IzlistajStudente();
    
}
catch(std::domain_error iu){
    std::cout &lt;&lt; iu.what();
</font>}

    return 0;
}
</pre>
</body>
</html>
