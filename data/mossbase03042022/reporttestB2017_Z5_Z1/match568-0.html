<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z5/Z1/student4736.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z5/Z1/student4736.cpp<p></p><pre>
<a name="3"></a><font color="#00FFFF"><a href="match568-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_3.gif"/></a>

/B2017/2018: ZadaÄ‡a 5, Zadatak 1
#include &lt;iostream&gt;
#include &lt;stdexcept&gt;

using namespace std;

class Student
{
    int broj_indeksa;
    string godina_studija;
    string ime_prezime;
    string adresa;
    string telefon;

    static bool ispravna_godina_studija(string godina_studija) {
</font>        if(godina_studija=="1"||godina_studija=="2"||godina_studija=="3") {
            return true;
        } else if(godina_studija.size()==3&amp;&amp;
                  (godina_studija[0]=='1'||godina_studija[0]=='2'||godina_studija[0]=='3')&amp;&amp;
                  (godina_studija[1]=='/')&amp;&amp;
                  (godina_studija[2]=='B'||godina_studija[2]=='M'||godina_studija[2]=='D')
                 ) {
            return true;
        } else {
            return false;
        }
    }

    static string formatiraj_string(string ime_prezime) {
        int i=0;
        string formatirano_ime_prezime="";

        while(ime_prezime[i]==' ' &amp;&amp; i&lt;ime_prezime.size()) {
            i++;
        }
        int kraj = ime_prezime.size()-1;
        while(ime_prezime[kraj]==' '&amp;&amp;kraj&gt;=0) {
            kraj--;
        }
        while(i&lt;=kraj) {
            if(ime_prezime[i]!=' ') formatirano_ime_prezime += ime_prezime[i];
            else {
                if(i&gt;0 &amp;&amp; ime_prezime[i-1]!=' ') formatirano_ime_prezime+=' ';
            }
            i++;
        }

        return formatirano_ime_prezime;
    }

    static bool  ispravan_telefon(string telefon) {
        bool cifre1=false, cifre2=false, cifre3=false;
        int i=0;
        while(i&lt;telefon.size()&amp;&amp;telefon[i]&gt;='0'&amp;&amp;telefon[i]&lt;='9') {
            cifre1=true;
            i++;
        }
        if(i==telefon.size()||!cifre1 || telefon[i++]!='/') return false;

        while(i&lt;telefon.size()&amp;&amp;telefon[i]&gt;='0'&amp;&amp;telefon[i]&lt;='9') {
            cifre2=true;
            i++;
        }
        if(i==telefon.size()||!cifre2 || telefon[i++]!='-') return false;
        while(i&lt;telefon.size()&amp;&amp;telefon[i]&gt;='0'&amp;&amp;telefon[i]&lt;='9') {
            cifre3=true;
            i++;
        }
        if(!cifre3 || i&lt;=telefon.size()-1) return false;

        return true;
    }

public:
    Student(int broj_indeksa, string godina_studija,string ime_prezime, string adresa, string telefon) {
        if(broj_indeksa&lt;10000 &amp;&amp; broj_indeksa&gt;99999) throw domain_error("Neispravni parametri");
        if(!ispravna_godina_studija(godina_studija)) throw domain_error("Neispravni parametri");
        if(!ispravan_telefon(telefon))throw domain_error("Neispravni parametri");
        this-&gt;ime_prezime  = formatiraj_string(ime_prezime);
        this-&gt;adresa  = formatiraj_string(adresa);
        this-&gt;broj_indeksa = broj_indeksa;
        this-&gt;godina_studija = godina_studija;
        this-&gt;telefon = telefon;
    }

    int DajIndeks()const {
        return broj_indeksa;
    }

    string DajGodinuStudija()const {
        if(godina_studija=="1") return "1/B";
        if(godina_studija=="2") return "2/B";
        if(godina_studija=="3") return "3/B";
        return godina_studija;
    }

<a name="0"></a><font color="#FF0000"><a href="match568-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_7.gif"/></a>

    string DajImePrezime()const {
        return ime_prezime;
    }

    string DajAdresu()const {
        return adresa;
    }

    string DajTelefon()const {
        return telefon;
    }


    void Ispisi()const {
        cout&lt;&lt;"Broj indeksa: "&lt;&lt;DajIndeks()&lt;&lt;endl;
        cout&lt;&lt;"Godina studija: "&lt;&lt;DajGodinuStudija()&lt;&lt;endl;
        cout&lt;&lt;"Ime i prezime: "&lt;&lt;DajImePrezime()&lt;&lt;endl;
        cout&lt;&lt;"Adresa: "&lt;&lt;DajAdresu()&lt;&lt;endl;
        cout&lt;&lt;"Telefon: "&lt;&lt;DajTelefon()&lt;&lt;endl;

    }

};


class Laptop
{
    int ev_broj;
    string naziv, karakteristike;
</font>    Student* kod_koga_je;

public:
    Laptop(int ev_broj, string naziv, string karakteristike) {
        if(ev_broj&lt;0)throw domain_error("Neispravni parametri");

        this-&gt;ev_broj = ev_broj;
        this-&gt;naziv = naziv;
        this-&gt;karakteristike = karakteristike;
        this-&gt;kod_koga_je = nullptr;
    }

<a name="4"></a><font color="#FF00FF"><a href="match568-1.html#4" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_3.gif"/></a>

    int DajEvidencijskiBroj()const {
        return ev_broj;
    }

    string DajNaziv()const {
        return naziv;
    }

    string DajKarakteristike()const {
        return karakteristike;
    }

    void Zaduzi(Student&amp; s) {
        if(DaLiJeZaduzen()) throw domain_error("Laptop vec zaduzen");
        kod_koga_je = &amp;s;
    }

    void Razduzi() {
        kod_koga_je = nullptr;
    }

    bool DaLiJeZaduzen()const {
</font>        return kod_koga_je !=nullptr;
    }

    Student&amp; DajKodKogaJe()const {
        if(!DaLiJeZaduzen()) throw domain_error("Laptop nije zaduzen");

        return *kod_koga_je;
    }

<a name="1"></a><font color="#00FF00"><a href="match568-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_5.gif"/></a>

    Student* DajPokKodKogaJe()const {
        return kod_koga_je;
    }

    void Ispisi()const {
        cout&lt;&lt;"Evidencijski broj: "&lt;&lt;DajEvidencijskiBroj()&lt;&lt;endl;
        cout&lt;&lt;"Naziv: "&lt;&lt;DajNaziv()&lt;&lt;endl;
        cout&lt;&lt;"Karakteristike: "&lt;&lt;DajKarakteristike()&lt;&lt;endl;
    }
};



class Administracija
{
    map&lt;int,Student*&gt; studenti;
    map&lt;int,Laptop*&gt; laptopi;

public:
</font>    Administracija() {}

    ~Administracija() {
        for (auto it= a.studenti.begin(); it!=a.studenti.end(); it++) {
            delete it-&gt;second;
        }

        for (auto it= a.laptopi.begin(); it!=a.laptopi.end(); it++) {
            delete it-&gt;second;
        }
        studenti.clear();
        laptopi.clear();
    }
    Administracija(const Administracija&amp;a) {

<a name="2"></a><font color="#0000FF"><a href="match568-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_4.gif"/></a>

        for(auto it = a.studenti.begin(); it!=a.studenti.end(); it++) {
            studenti[it-&gt;first] = new Student( *it-&gt;second);
        }

        for(auto it = a.laptopi.begin(); it!=a.laptopi.end(); it++) {
            laptopi[it-&gt;first] = new Laptop( *it-&gt;second);
</font>        }


    }

    Administracija&amp; operator=(const Administracija&amp;a) {
        if(this==&amp;a) return *this; //Samododjela
        
        //Destruktor
        for (auto it= a.studenti.begin(); it!=a.studenti.end(); it++) {
            delete it-&gt;second;
        }

        for (auto it= a.laptopi.begin(); it!=a.laptopi.end(); it++) {
            delete it-&gt;second;
        }
        studenti.clear();
        laptopi.clear();

        //Konstruktor kopije
        for(auto it = a.studenti.begin(); it!=a.studenti.end(); it++) {
<a name="5"></a><font color="#FF0000"><a href="match568-1.html#5" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_2.gif"/></a>

            studenti[it-&gt;first] = new Student( *it-&gt;second);
        }

        for(auto it = a.laptopi.begin(); it!=a.laptopi.end(); it++) {
            laptopi[it-&gt;first] = new Laptop( *it-&gt;second);
</font>        }
        
        //vracanje *this
        return *this;
    }


    Administracija(Administracija&amp;&amp;a){
        studenti = a.studenti;
        laptopi = a.laptopi;
        a.studenti.clear();
        a.laptopi.clear();
    }
    
    //Kasnije pomjerajuci operator dodjele


}

int main ()
{
    Student s1(35124,"3/B"," Huso Husic Car"," Trg zrtava reforme obrazovanja 25","069/434-072");
    s1.Ispisi();

    Laptop l1(724," ASUS X554L","Intel CPU 2.4 GHz, 8 GB RAM");
    l1.Ispisi();
    return 0;
}
</pre>
</body>
</html>
