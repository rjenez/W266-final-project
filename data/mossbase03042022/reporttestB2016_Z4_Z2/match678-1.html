<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z2/student6007.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z2/student2230.cpp<p></p><pre>
#include &lt;iostream&gt;
#include &lt;stdexcept&gt;
#include &lt;cmath&gt;



class GradjaninBiH{
    static int brojitelj;
    static int brojcanipol1;
    static int brojcanipol2;
    static int brojac;
    static GradjaninBiH *trenutni;
    GradjaninBiH *p;
    GradjaninBiH *zadnji;
    //1. : trenutni=this; zadnji=this; p=this
    //2. : zadnji=trenutni; p=trenutni;  trenutni=this; while (p-&gt;zadnji!=null) {   p=zadnji;} 
    std::string imeiprezime;
    long long int jmbgg;
    int niz[13];
    //long long int pomocnijmbg=jmbgg;
    void funkcija(long long int jmbgg,int *niz){
        int k=12;
        while(jmbgg!=0){
            int cifra=jmbgg%10;
            niz[k]=cifra;
            jmbgg/=10;
            k--;
        }
    }
    
public:
    enum Pol{Musko,Zensko};
    GradjaninBiH(std::string ime_i_prezime, long long int jmbg):imeiprezime(ime_i_prezime), jmbgg(jmbg){ funkcija(GradjaninBiH::jmbgg,GradjaninBiH::niz);imeiprezime=ime_i_prezime; jmbgg=jmbg;
        if(niz[12]==10) throw std::logic_error("JMBG nije validan");
        if(niz[0]*10+niz[1]&lt;1 || niz[0]*10+niz[1]&gt;31) throw std::logic_error("JMBG nije validan");
        if(niz[2]*10+niz[3]&lt;1 || niz[2]*10+niz[3]&gt;12) throw std::logic_error("JMBG nije validan");
        //std::cout&lt;&lt;"SDAADSSDAD"&lt;&lt;std::endl;
        if(niz[4]==0){
            if(2000+niz[4]*100+niz[5]*10+niz[6]&gt;2017) throw std::logic_error("JMBG nije validan");
            
        }
        else{
        if(1000+niz[4]*100+niz[5]*10+niz[6]&lt;1917) throw std::logic_error("JMBG nije validan");}
        if(brojitelj==0){
            p=this;
            zadnji=nullptr;
            trenutni=this;
        }
        else{ 
            p=this;
            zadnji=trenutni;
            trenutni=this;
            while(p-&gt;zadnji!=nullptr){
                p=p-&gt;zadnji-&gt;p;
              
                if(jmbgg==p-&gt;jmbgg) throw std::logic_error("Vec postoji gradjanin sa istim JMBG");
            }
        }
        brojitelj++;
    }
<a name="0"></a><font color="#FF0000"><a href="match678-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_2.gif"/></a>

    GradjaninBiH(std::string ime_i_prezime, int dan_rodjenja, int mjesec_rodjenja, int godina_rodjenja, int sifra_regije, GradjaninBiH::Pol pol): imeiprezime(ime_i_prezime){
        if(brojitelj==0){
            trenutni=this;
            p=this;
            zadnji=nullptr;
        }
        else{
            p=this;
            zadnji=trenutni;
            trenutni=this;
        }
        if(dan_rodjenja&lt;1 || dan_rodjenja&gt;31 || mjesec_rodjenja&lt;1 || mjesec_rodjenja&gt;12 || godina_rodjenja&lt;1 || sifra_regije&lt;0 || sifra_regije&gt;99) throw std::logic_error("Neispravni podaci");        
        if(dan_rodjenja&lt;10) {niz[0]=0; niz[1]=dan_rodjenja;}
</font>        else{
        GradjaninBiH::niz[1]=dan_rodjenja%10;
        dan_rodjenja/=10;
        GradjaninBiH::niz[0]=dan_rodjenja%10;
        
        }
        if(mjesec_rodjenja&lt;10){niz[2]=0; niz[3]=mjesec_rodjenja;}
        else{
        GradjaninBiH::niz[3]=mjesec_rodjenja%10;
        mjesec_rodjenja/=10;
        GradjaninBiH::niz[2]=mjesec_rodjenja%10;
        
        }
        if(godina_rodjenja&lt;2000) godina_rodjenja-=1000;
        GradjaninBiH::niz[6]=godina_rodjenja%10;
        godina_rodjenja/=10;
        GradjaninBiH::niz[5]=godina_rodjenja%10;
        
        godina_rodjenja/=10;
        GradjaninBiH::niz[4]=godina_rodjenja%10;
        
        GradjaninBiH::niz[8]=sifra_regije%10;
        sifra_regije/=10;
        GradjaninBiH::niz[7]=sifra_regije%10;

       
       // if(GradjaninBiH::niz[0]*10+GradjaninBiH::niz[1]&lt;1 || GradjaninBiH::niz[0]*10+GradjaninBiH::niz[1]&gt;31) throw std::logic_error("JMBG nije validan");
        if(GradjaninBiH::niz[2]*10+GradjaninBiH::niz[3]&lt;1 || GradjaninBiH::niz[2]*10+GradjaninBiH::niz[3]&gt;12) throw std::logic_error("JMBG nije validan");
        if(niz[4]==0){
            //if(2000+niz[4]*100+niz[5]*10+niz[6]&gt;2017) throw std::logic_error("JMBG nije validan");
        }
        else{
            if(1000+GradjaninBiH::niz[4]*100+GradjaninBiH::niz[5]*10+GradjaninBiH::niz[6]&lt;1917) throw std::logic_error("JMBG nije validan");}
        if(pol==Pol::Musko){
            if(brojcanipol1&gt;499) throw std::logic_error("Prekoraceno");
            niz[9]=0; niz[10]=0; niz[11]=0;
           
             GradjaninBiH::niz[12]=11-(7*(GradjaninBiH::niz[0]+GradjaninBiH::niz[6])+6*(GradjaninBiH::niz[1]+GradjaninBiH::niz[7])+5*(GradjaninBiH::niz[2]+GradjaninBiH::niz[8])+4*(GradjaninBiH::niz[3]+GradjaninBiH::niz[9])+3*(GradjaninBiH::niz[4]+GradjaninBiH::niz[10])+2*(GradjaninBiH::niz[5]+GradjaninBiH::niz[11]))%11;
            brojac=0;
            jmbgg=0;        
            if(GradjaninBiH::niz[12]==11) GradjaninBiH::niz[12]=0; 
            if(GradjaninBiH::niz[12]==10) throw std::logic_error("JMBG nije validan");
<a name="1"></a><font color="#00FF00"><a href="match678-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_1.gif"/></a>

            for(int i=12;i&gt;=0;i--){GradjaninBiH::jmbgg+=niz[i]*std::pow(10,brojac); brojac++;}
            brojac=0;
            while(p-&gt;zadnji!=nullptr){
                p=p-&gt;zadnji;
</font><a name="3"></a><font color="#00FFFF"><a href="match678-0.html#3" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_0.gif"/></a>

                if(jmbgg==p-&gt;jmbgg){
                    brojcanipol1++;
                    if(brojcanipol1&lt;10){niz[9]=0; niz[10]=0; niz[11]=brojcanipol1;
</font>                    }
                    else if(brojcanipol1&lt;100){niz[9]=0; niz[11]=brojcanipol1%10; brojcanipol1/=10; niz[10]=brojcanipol1%10;
                    }
                    else{
<a name="2"></a><font color="#0000FF"><a href="match678-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_1.gif"/></a>

                        niz[11]=brojcanipol1%10; brojcanipol1/=10; niz[10]=brojcanipol1%10; brojcanipol1/=10; niz[9]=brojcanipol1%10;
                        }
                    GradjaninBiH::niz[12]=11-(7*(GradjaninBiH::niz[0]+GradjaninBiH::niz[6])+6*(GradjaninBiH::niz[1]+GradjaninBiH::niz[7])+5*(GradjaninBiH::niz[2]+GradjaninBiH::niz[8])+4*(GradjaninBiH::niz[3]+GradjaninBiH::niz[9])+3*(GradjaninBiH::niz[4]+GradjaninBiH::niz[10])+2*(GradjaninBiH::niz[5]+GradjaninBiH::niz[11]))%11;
</font>                    jmbgg=0;
                    brojac=0;
                   for(int i=12;i&gt;=0;i--){jmbgg+=niz[i]*std::pow(10,brojac); brojac++;}
                }
            }
        }
        else{
           // if(brojcanipol2&lt;0) throw std::logic_error("Prekoraceno");
        //    if(brojcanipol2&lt;499 || brojcanipol2&gt;999) throw std::logic_error("Prekoraceno");
          /*  if(brojcanipol2&lt;10){niz[9]=5; niz[10]=0; niz[11]=brojcanipol2;}
            else if(brojcanipol2&lt;100){niz[9]=5; niz[11]=brojcanipol2%10; brojcanipol2/=10; niz[10]=brojcanipol2%10;}
            else{
                niz[11]=brojcanipol2%10; brojcanipol2/=10; niz[10]=brojcanipol2%10; brojcanipol2/=10; niz[9]=brojcanipol2%10;}*/
            //}
            niz[9]=5; niz[10]=0; niz[11]=0;
            GradjaninBiH::niz[12]=11-(7*(GradjaninBiH::niz[0]+GradjaninBiH::niz[6])+6*(GradjaninBiH::niz[1]+GradjaninBiH::niz[7])+5*(GradjaninBiH::niz[2]+GradjaninBiH::niz[8])+4*(GradjaninBiH::niz[3]+GradjaninBiH::niz[9])+3*(GradjaninBiH::niz[4]+GradjaninBiH::niz[10])+2*(GradjaninBiH::niz[5]+GradjaninBiH::niz[11]))%11;
            brojac=0;
            jmbgg=0;
            if(niz[12]==11) niz[12]=0;
            if(niz[12]==10) throw std::logic_error("JMBG nije validan");
            for(int i=12; i&gt;=0; i--){jmbgg+=niz[i]*std::pow(10,brojac); brojac++;}
            while(p-&gt;zadnji!=nullptr){
                //std::cout&lt;&lt;p-&gt;zadnji-&gt;imeiprezime;
                p=p-&gt;zadnji;
               // std::cout&lt;&lt;p-&gt;imeiprezime;
                if(jmbgg==p-&gt;jmbgg){
                    brojcanipol2++;
                    if(brojcanipol2&lt;10) {niz[9]=5; niz[10]=0;niz[11]=brojcanipol2%10;}
<a name="4"></a><font color="#FF00FF"><a href="match678-0.html#4" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_0.gif"/></a>

                    else if(brojcanipol2&lt;100){niz[9]=5; niz[11]=brojcanipol2%10; brojcanipol2/=10; niz[10]=brojcanipol2%10;}
</font><a name="4"></a><font color="#FF00FF"><a href="match678-0.html#4" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_0.gif"/></a>

                    else {niz[11]=brojcanipol2%10; brojcanipol2/=10; niz[10]=brojcanipol2%10; brojcanipol2/=10; niz[9]=brojcanipol2%10;
</font>                    }
                    GradjaninBiH::niz[12]=11-(7*(GradjaninBiH::niz[0]+GradjaninBiH::niz[6])+6*(GradjaninBiH::niz[1]+GradjaninBiH::niz[7])+5*(GradjaninBiH::niz[2]+GradjaninBiH::niz[8])+4*(GradjaninBiH::niz[3]+GradjaninBiH::niz[9])+3*(GradjaninBiH::niz[4]+GradjaninBiH::niz[10])+2*(GradjaninBiH::niz[5]+GradjaninBiH::niz[11]))%11;
                    jmbgg=0;
                    brojac=0;
                    for(int i=12;i&gt;=0;i--){GradjaninBiH::jmbgg+=niz[i]*std::pow(10,brojac); brojac++;}

                }

            }
        }
    
    brojitelj++;
    }
    ~GradjaninBiH(){
       // std::cout&lt;&lt;"DESTRUKTOR"&lt;&lt;std::endl;
  /*      GradjaninBiH *pokazatelj1=trenutni, *pokazatelj2=trenutni;
        if(pokazatelj1==this){pokazatelj1=pokazatelj1-&gt;p; trenutni=trenutni-&gt;p;}
        else{
            while(pokazatelj1!=nullptr){
                pokazatelj1=pokazatelj1-&gt;p;
                if(pokazatelj1==this){
        
                    pokazatelj1=pokazatelj1-&gt;p;
                    pokazatelj2-&gt;p=pokazatelj1;
                    break;
                }
                
                pokazatelj2=pokazatelj2-&gt;p;
            }
        }*/
    }
    std::string DajImeIPrezime() const {return imeiprezime;}
    long long int DajJMBG() const {return jmbgg;}
    int DajDanRodjenja() const { return GradjaninBiH::niz[0]*10 + GradjaninBiH::niz[1];}
    int DajMjesecRodjenja() const{ return GradjaninBiH::niz[2]*10+GradjaninBiH::niz[3];}
    int DajGodinuRodjenja() const {if(niz[4]==0) return 2000+niz[4]*100+niz[5]*10+niz[6]; else return 1000+GradjaninBiH::niz[4]*100+GradjaninBiH::niz[5]*10+GradjaninBiH::niz[6];} //
    int DajSifruRegije() const{return GradjaninBiH::niz[7]*10+GradjaninBiH::niz[8];}
    Pol DajPol() const{ if(GradjaninBiH::niz[9]*100+GradjaninBiH::niz[10]*10+GradjaninBiH::niz[11]&gt;=0 &amp;&amp; GradjaninBiH::niz[9]*100+GradjaninBiH::niz[10]*10+GradjaninBiH::niz[11]&lt;499) return Pol::Musko; else return Pol::Zensko;}
    void PromijeniImeIPrezime(std::string novo_ime){imeiprezime=novo_ime;}
    void Ispisi() const;
};
void GradjaninBiH::Ispisi()const {
    std::cout&lt;&lt;GradjaninBiH::jmbgg&lt;&lt;std::endl;
}
int GradjaninBiH::brojitelj=0;
int GradjaninBiH::brojcanipol1=0;
int GradjaninBiH::brojcanipol2=0;
int GradjaninBiH::brojac=0;
GradjaninBiH* GradjaninBiH::trenutni=nullptr;

int main ()
{
    int br_JMBG;
    int brojpodrp;
    std::string ime_i_prezime;
    long long int jmbg;
    GradjaninBiH **niz=new GradjaninBiH*[100];
    for(int i(0);i&lt;100;i++) niz[i]=nullptr;
    
    std::cout&lt;&lt;"Koliko gradjana zelite unijeti po JMBG? ";
    std::cin&gt;&gt;br_JMBG;
    std::cout&lt;&lt;std::endl;
    for(int i(0);i&lt;br_JMBG;i++){
        jodja:
        std::cin.clear();
        std::cin.ignore(1000,'\n');
        if(i==br_JMBG) break;
        try{
        //std::cin.clear();
        //std::cin.ignore(1000,'\n');
        std::cout&lt;&lt;"Unesite ime i prezime (u istom redu): ";
        std::getline(std::cin,ime_i_prezime);
        std::cout&lt;&lt;std::endl;
        std::cout&lt;&lt;"Unesite JMBG: "&lt;&lt;std::endl;
        std::cin&gt;&gt;jmbg;
        niz[i]=new GradjaninBiH(ime_i_prezime,jmbg);
       // niz[i]=nullptr;
        std::cout&lt;&lt;"Unijeli ste gradjanina "&lt;&lt;niz[i]-&gt;DajImeIPrezime()&lt;&lt;" rodjenog "&lt;&lt;niz[i]-&gt;DajDanRodjenja()&lt;&lt;"."&lt;&lt;niz[i]-&gt;DajMjesecRodjenja()&lt;&lt;"."&lt;&lt;niz[i]-&gt;DajGodinuRodjenja()&lt;&lt;" u regiji "&lt;&lt;niz[i]-&gt;DajSifruRegije()&lt;&lt;",";
        if(niz[i]-&gt;DajPol()==0) std::cout&lt;&lt;" musko."&lt;&lt;std::endl;
        else std::cout&lt;&lt;" zensko."&lt;&lt;std::endl;
    } 
    catch(std::logic_error e){
        std::cout&lt;&lt;e.what()&lt;&lt;std::endl;
        //i--;
        goto jodja;
    }
    catch(...){
        std::cout&lt;&lt;"Neispravni podaci";
    }}
    std::cout&lt;&lt;"Koliko gradjana zelite unijeti po datumu rodjenja, regiji i polu? "&lt;&lt;std::endl;
    std::cin&gt;&gt;brojpodrp;
    for(int i(0);i&lt;brojpodrp;i++){
       ponovo:
       try{
        int d,m,g;
        char spol;
        char c1,c2;
        int sifra;
        if(i==brojpodrp) break;
        GradjaninBiH::Pol pol;
        std::cin.clear();
        std::cin.ignore(1000,'\n');
        std::cout&lt;&lt;"Unesite ime i prezime (u istom redu): "&lt;&lt;std::endl;
        std::getline(std::cin,ime_i_prezime);
        std::cout&lt;&lt;"Unesite datum rodjenja (format dd/mm/gggg): "&lt;&lt;std::endl;
        std::cin&gt;&gt;d; 
        std::cin&gt;&gt;c1; 
        std::cin&gt;&gt;m; 
        std::cin&gt;&gt;c2; 
        std::cin&gt;&gt;g; 
        std::cout&lt;&lt;"Unesite sifru regije: "&lt;&lt;std::endl;
        std::cin&gt;&gt;sifra; 
        std::cout&lt;&lt;"Unesite M za musko, Z za zensko: "&lt;&lt;std::endl;
        std::cin&gt;&gt;spol;
        if(d&lt;0 || d&gt;31) throw std::logic_error("Neispravni podaci");
        if(c1!='/') throw std::logic_error("Neispravni podaci");
        if(m&lt;0 || m&gt;12) throw std::logic_error("Neispravni podaci");
        if(c2!='/') throw std::logic_error("Neispravni podaci");
        if(g&lt;1917 || g&gt;2017) throw std::logic_error("Neispravni podaci");
        if(sifra&lt;0 || sifra &gt; 99 ) throw std::logic_error("Neispravni podaci");
         if(spol!='M' &amp;&amp; spol!='Z') throw std::logic_error("Neispravni podaci");
        if(spol=='M') pol=GradjaninBiH::Pol::Musko;
        else pol=GradjaninBiH::Pol::Zensko;
        niz[i+br_JMBG]=new GradjaninBiH(ime_i_prezime,d,m,g,sifra,pol);
    //    niz[i]=nullptr;
        std::cout&lt;&lt;"Unijeli ste gradjanina "&lt;&lt;niz[i+br_JMBG]-&gt;DajImeIPrezime()&lt;&lt;" JMBG: "&lt;&lt;niz[i+br_JMBG]-&gt;DajJMBG()&lt;&lt;"."&lt;&lt;std::endl;
    }
    catch(std::logic_error e){
        std::cout&lt;&lt;e.what()&lt;&lt;std::endl;
        //std::cin.clear();
        //std::cin.ignore(1000,'\n');
        //i--;
        goto ponovo;
    }}
   
     
     for(int i(0);i&lt;100;i++) delete niz[i];
     delete [] niz;
	return 0;
}</pre>
</body>
</html>
