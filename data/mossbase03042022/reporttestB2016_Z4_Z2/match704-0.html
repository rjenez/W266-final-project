<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z2/student5078.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z2/student5078.cpp<p></p><pre>
/B 2016/2017, ZadaÄ‡a 4, Zadatak 2
//Napomena: testovi ce biti dostupni dan pred rok!
#include &lt;iostream&gt;
#include &lt;string&gt;
#include &lt;cmath&gt;
#include &lt;stdexcept&gt;

class GradjaninBiH{
    long long int JMBG;
    std::string Ime_i_Prezime;
    GradjaninBiH *pocet;
    public:
    enum Pol {Musko, Zensko};
    GradjaninBiH *veza;
    GradjaninBiH(std::string ime_i_prezime, long long int jmbg){
        if(ProvjeriJmbg(jmbg))JMBG=jmbg;
        else throw std::logic_error ("JMBG nije validan");
        Ime_i_Prezime=ime_i_prezime;
        veza=nullptr;
        pocet=nullptr;
    }
    GradjaninBiH(std::string ime_i_prezime, int dan_rodjenja, int mjesec_rodjenja,
    int godina_rodjenja, int sifra_regije, Pol pol){
        long long int jmbg;
        if(KreirajJMBG(dan_rodjenja,mjesec_rodjenja,godina_rodjenja,sifra_regije,pol,jmbg)){
            JMBG=jmbg;;
        }
        else throw std::logic_error ("Neispravni podaci");
        Ime_i_Prezime=ime_i_prezime;
        veza=nullptr;
        pocet=nullptr;
    }
    GradjaninBiH(const GradjaninBiH &amp;r) = delete; // Zabrana kopiranja
    GradjaninBiH &amp;operator =(const GradjaninBiH &amp;r) = delete;
    std::string DajImeIPrezime() const{
        return Ime_i_Prezime;
    }
    long long int DajJMBG() const{
        return JMBG;
    }
    void PostaviPoc(GradjaninBiH *pok){
        pocet=pok;
    }
    int DajDanRodjenja() const{
        return (DajCifru(JMBG,1)*10+DajCifru(JMBG,2));
    }
    int DajMjesecRodjenja() const{
        return (DajCifru(JMBG,3)*10+DajCifru(JMBG,4));
    }
    int DajGodinuRodjenja() const{
        int godina=0;
        if(DajCifru(JMBG,5)==0)godina=2000;
        else godina=1000;
        return (godina=godina+DajCifru(JMBG,5)*100+DajCifru(JMBG,6)*10+DajCifru(JMBG,7));
    }
    int DajSifruRegije() const{
        return (DajCifru(JMBG,8)*10+DajCifru(JMBG,9));
    }
    Pol DajPol() const{
        int x=DajCifru(JMBG,10)*100+DajCifru(JMBG,11)*10+DajCifru(JMBG,12);
        if(x&lt;500)return Pol::Musko;
        return Pol::Zensko;
    }
    void PromijeniImeIPrezime(std::string novo_ime){
        Ime_i_Prezime=novo_ime;
    }
    void Ispisi()const{
        std::cout&lt;&lt;DajImeIPrezime()&lt;&lt;" rodjenog "&lt;&lt;DajDanRodjenja()&lt;&lt;"."&lt;&lt;
        DajMjesecRodjenja()&lt;&lt;"."&lt;&lt;DajGodinuRodjenja()&lt;&lt;" u regiji "&lt;&lt;DajSifruRegije();
        if(DajPol()==Pol::Zensko)std::cout&lt;&lt;", zensko.";
        else{std::cout&lt;&lt;", musko.";}
        std::cout&lt;&lt;std::endl;
    }
    void Ispisi1()const{
        std::cout&lt;&lt;DajImeIPrezime()&lt;&lt;" JMBG: "&lt;&lt;DajJMBG()&lt;&lt;"."&lt;&lt;std::endl;
    }
    bool ProvjeriJmbg(long long int &amp;jmbg);
    long long int DajCifru(long long int jmbg,int cifra)const{
        if(jmbg&lt;pow(10,12) &amp;&amp; cifra==1)return 0;
        else if(jmbg&lt;pow(10,12))cifra+=1;
	    long long int c=jmbg/(pow(10,13-cifra));
	    return c%10;
    }
    ~GradjaninBiH()=default;
    bool KreirajJMBG(int dan_rodjenja, int mjesec_rodjenja,int godina_rodjenja,
    int sifra_regije, Pol pol,long long int &amp;jmbg);
};
bool GradjaninBiH::KreirajJMBG(int dan_rodjenja, int mjesec_rodjenja,
    int godina_rodjenja, int sifra_regije, Pol pol,long long int &amp;jmbg){
        jmbg=0;
        int pol_br=0;
        if(dan_rodjenja&gt;31 || dan_rodjenja&lt;1)return false;
        jmbg=dan_rodjenja*(pow(10,11));
        if(mjesec_rodjenja&gt;12 || mjesec_rodjenja&lt;1)return false;
        jmbg+=mjesec_rodjenja*(pow(10,9));
        if(godina_rodjenja&lt;1917 || godina_rodjenja&gt;2017)return false;
        if(godina_rodjenja&lt;2000)godina_rodjenja-=1000;
        else if(godina_rodjenja&gt;=2000)godina_rodjenja-=2000;
        jmbg+=godina_rodjenja*(pow(10,6));
        if(sifra_regije&lt;1 || sifra_regije&gt;99)return false;
        jmbg+=sifra_regije*(pow(10,4));
        if(pol==Pol::Musko){pol_br=0;}       //treba postaviti brojac muskih i zenskih//
        if(pol==Pol::Zensko){pol_br=500;}
        jmbg+=pol_br*10;
<a name="1"></a><font color="#00FF00"><a href="match704-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_1.gif"/></a>

        int c13=11-(7*(DajCifru(jmbg,1)+DajCifru(jmbg,7))+6*(DajCifru(jmbg,2)+DajCifru(jmbg,8))+5*(DajCifru(jmbg,3)+DajCifru(jmbg,9))
</font><a name="2"></a><font color="#0000FF"><a href="match704-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_1.gif"/></a>

        +4*(DajCifru(jmbg,4)+DajCifru(jmbg,10))+3*(DajCifru(jmbg,5)+DajCifru(jmbg,11))+2*(DajCifru(jmbg,6)+DajCifru(jmbg,12)))%11;
        if(c13==10)return false;
</font>        if(c13==11)c13=0;
        jmbg+=c13;
        return ProvjeriJmbg(jmbg);
    }
bool Prestupna(long int godina){
    if(godina%400==0 || (godina%100!=0 &amp;&amp; godina%4==0))return true;
    return false;
}
bool GradjaninBiH::ProvjeriJmbg(long long int &amp;jmbg){
    if(jmbg&gt;3112999999999)return false;
<a name="4"></a><font color="#FF00FF"><a href="match704-1.html#4" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_1.gif"/></a>

    int dani=DajCifru(jmbg,1)*10+DajCifru(jmbg,2);
    int mjesec=DajCifru(jmbg,3)*10+DajCifru(jmbg,4);
    int godina=0;
</font>    if(DajCifru(jmbg,5)==0)godina=2000;
    else godina=1000;
    godina=godina+DajCifru(jmbg,5)*100+DajCifru(jmbg,6)*10+DajCifru(jmbg,7);
    if(mjesec==1 || mjesec==3 || mjesec==5 || mjesec==7 || mjesec==8 || mjesec==10 || mjesec==12){
        if(dani&lt;1 || dani&gt;31)return false;
    }
    else if(mjesec==4 || mjesec==6 || mjesec==9 || mjesec==11){
        if(dani&lt;1 || dani&gt;30)return false;
    }
    else if(mjesec==2 &amp;&amp; Prestupna(godina)==true){
        if(dani&gt;29 || dani&lt;1)return false;
    }
    else if(mjesec==2 &amp;&amp; Prestupna(godina)==false){
        if(dani&lt;1 || dani&gt;28)return false;
    }
    if(godina&lt;(2017-100) || godina&gt;2017)return false;
    long long int c13;
<a name="5"></a><font color="#FF0000"><a href="match704-1.html#5" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_1.gif"/></a>

    c13=11-(7*(DajCifru(jmbg,1)+DajCifru(jmbg,7))+6*(DajCifru(jmbg,2)+DajCifru(jmbg,8))+5*(DajCifru(jmbg,3)+DajCifru(jmbg,9))
</font><a name="3"></a><font color="#00FFFF"><a href="match704-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_1.gif"/></a>

    +4*(DajCifru(jmbg,4)+DajCifru(jmbg,10))+3*(DajCifru(jmbg,5)+DajCifru(jmbg,11))+2*(DajCifru(jmbg,6)+DajCifru(jmbg,12)))%11;
    if(c13==11)jmbg=jmbg-DajCifru(jmbg,13);
</font>    else if(c13==10)return false;
    else if(c13!=DajCifru(jmbg,13))return false;
    return true;
}

int main ()
{
    std::cout&lt;&lt;"Koliko gradjana zelite unijeti po JMBG? "&lt;&lt;std::endl;
    int njb;
    std::cin&gt;&gt;njb;
    GradjaninBiH *pocetak=nullptr;
    GradjaninBiH *sljed=nullptr;
    for(int i=0;i&lt;njb;i++){
        std::cin.ignore(1000,'\n');
        std::cout&lt;&lt;"Unesite ime i prezime (u istom redu): "&lt;&lt;std::endl;
        std::string ime;
        std::getline(std::cin,ime,'\n');
        std::cout&lt;&lt;"Unesite JMBG: "&lt;&lt;std::endl;
        long long int jmbg;
        std::cin&gt;&gt;jmbg;
        try{
        auto priv=new GradjaninBiH(ime,jmbg);
        if(!pocetak)pocetak=priv;
        else sljed-&gt;veza=priv;
        sljed=priv;
        priv-&gt;PostaviPoc(pocetak);
        std::cout&lt;&lt;"Unijeli ste gradjanina ";priv-&gt;Ispisi();
        }
<a name="0"></a><font color="#FF0000"><a href="match704-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_2.gif"/></a>

        catch(std::logic_error x){
            std::cout&lt;&lt;x.what()&lt;&lt;std::endl;
            i--;
        }
    }
    std::cout&lt;&lt;"Koliko gradjana zelite unijeti po datumu rodjenja, regiji i polu? "&lt;&lt;std::endl;
    int njb2;
    std::cin&gt;&gt;njb2;
    for(int i=0;i&lt;njb2;i++){
</font>        std::cin.ignore(1000,'\n');
        std::cout&lt;&lt;"Unesite ime i prezime (u istom redu): "&lt;&lt;std::endl;
        std::string ime;
        std::getline(std::cin,ime,'\n');
        std::cout&lt;&lt;"Unesite datum rodjenja (format dd/mm/gggg): "&lt;&lt;std::endl;
        int d,m,g;
        std::cin&gt;&gt;d;std::cin.get();std::cin&gt;&gt;m;std::cin.get();std::cin&gt;&gt;g;
        std::cout&lt;&lt;"Unesite sifru regije: "&lt;&lt;std::endl;
        int regija;
        std::cin&gt;&gt;regija;
        std::cin.ignore(10000,'\n');
        std::cout&lt;&lt;"Unesite M za musko, Z za zensko: "&lt;&lt;std::endl;
        GradjaninBiH::Pol pol;
        char polr;
        polr=std::cin.get();
        if(polr=='M')pol=GradjaninBiH::Pol::Musko;
        else if(polr=='Z')pol=GradjaninBiH::Pol::Zensko;
        else {throw std::range_error ("Nevalja pol");}
        try{
        auto priv=new GradjaninBiH(ime,d,m,g,regija,pol);
        if(!pocetak)pocetak=priv;
        else sljed-&gt;veza=priv;
        sljed=priv;
        std::cout&lt;&lt;"Unijeli ste gradjanina ";priv-&gt;Ispisi1();
        }
        catch(std::logic_error x){
            std::cout&lt;&lt;x.what()&lt;&lt;std::endl;
            i--;
        }
    }
     auto sacuvaj_slijedeci=pocetak;
     auto setac=pocetak;
        while(setac!=nullptr){
            sacuvaj_slijedeci=sacuvaj_slijedeci-&gt;veza;
            delete setac;
            setac=sacuvaj_slijedeci;
        }
    
	return 0;
}</pre>
</body>
</html>
