<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z2/student9949.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z2/student2421.cpp<p></p><pre>
/B 2016/2017, ZadaÄ‡a 4, Zadatak 2
//Napomena: testovi ce biti dostupni dan pred rok!
#include &lt;iostream&gt;
#include&lt;stdexcept&gt;
#include&lt;iomanip&gt;
#include&lt;cmath&gt;
#include&lt;algorithm&gt;
#include&lt;cstdio&gt;
#include&lt;string&gt;
using namespace std;

enum Pol {Musko, Zensko};

class GradjaninBiH
{

<a name="6"></a><font color="#00FF00"><a href="match251-0.html#6" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_1.gif"/></a>

    string ime_i_prezime;
    long long int jmbg;
    int dan_rodjenja, mjesec_rodjenja, godina_rodjenja, sifraregije, pol_osobe, trinaesti;
    Pol pol;
    GradjaninBiH *prvi_pokazivac;
    static GradjaninBiH *drugi_pokazivac;
</font>

    void Testirajmbg(long long int jmbg) const {
        if(jmbg&lt;999999999999 || jmbg&gt;100000000000000)
            throw range_error("Pogresan jmbg!");
    }
    //GradjaninBiH operator=(GradjaninBiH Amina)=delete;

    void Za_drugi_konst(int dan, int mjesec, int godina, int sifra,Pol pol) {
        if(dan&lt;10) {
            int niz[12];

            if(mjesec&lt;10) niz[1]=0;

            else {
                niz[1]=(mjesec%10)/10;
            }
            niz[0]=dan;
            niz[2]=mjesec;
            int a=godina%10;
            int b=sifra%10;

            for(int i=3; i&lt;5; i++) {
                niz[i]=godina%10;
                godina/=10;
            }
            for(int i=8; i&lt;10; i++) {
                niz[i]=(pol_osobe%10)/10;
            }
            niz[5]=a;
            niz[6]=(sifra%10)/10;
            niz[7]=b;

<a name="1"></a><font color="#00FF00"><a href="match251-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_2.gif"/></a>

            int brojac=0;
            GradjaninBiH *pok=prvi_pokazivac;
            while (pok!=nullptr) {
                if(pok-&gt;DajSifruRegije()==sifraregije &amp;&amp;pok-&gt;DajMjesecRodjenja()==mjesec_rodjenja &amp;&amp; pok-&gt;DajDanRodjenja()==dan_rodjenja &amp;&amp;
                        pok -&gt;DajGodinuRodjenja()==godina_rodjenja)
                    brojac++;
            }
            if(pol==Musko) brojac=brojac+0;
</font>            else brojac=brojac+500;
            niz[10]=(brojac)%10;
<a name="4"></a><font color="#FF00FF"><a href="match251-0.html#4" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_1.gif"/></a>

            niz[11]=(11-(7*(niz[5])+6*(niz[0]+niz[6])+5*(niz[1]+niz[7])+4*(niz[2])+niz[8])+3*(niz[3]+niz[9])+2*(niz[4]+niz[10]))%11;
</font>        }

        else if(dan&gt;10) {
            int niz[13];
            int prvi=(dan%10)/10;
            int a=godina%10;
            int pol_=pol_osobe%10;
            int sifra_=sifra%10;
            niz[0]=prvi;
            niz[1]=dan;
            niz[3]=mjesec;
            if(mjesec&lt;10) {
                niz[2]=mjesec%10;
                mjesec/=10;
            } else if(mjesec&gt;10) {
                niz[2]=0;
            }

            for(int i=4; i&lt;6; i++) {
                niz[i]=a/10;
            }
            for(int i=9; i&lt;11; i++) {
                niz[i]=(pol_)/10;
            }
            niz[6]=a;
            niz[7]=sifra_/10;

            int brojac=0;
            GradjaninBiH *pok=prvi_pokazivac;
            while (pok!=nullptr) {
                if(pok-&gt;DajSifruRegije()==sifraregije &amp;&amp; pok-&gt;DajDanRodjenja()==dan_rodjenja &amp;&amp;
                        pok-&gt;DajMjesecRodjenja()==mjesec_rodjenja &amp;&amp; pok -&gt;DajGodinuRodjenja()==godina_rodjenja)
                    brojac++;
            }
            if(pol==Musko) brojac=brojac+0;
            else brojac=brojac+500;

            niz[8]=sifra_;
            pol_osobe=brojac;
            niz[11]=pol_;
            niz[12]=(11-(7*(niz[0]+niz[6])+6*(niz[1]+niz[7])+5*(niz[2]+niz[8])+4*(niz[3])+niz[9])+3*(niz[4]+niz[10])+2*(niz[5]+niz[11]))%11;
        }

    }
<a name="2"></a><font color="#0000FF"><a href="match251-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_2.gif"/></a>

    void ispitaj(long long int jmbg) {

        long long int kopija=jmbg;
        int brojac=0;
        while (kopija!=0) {
            brojac++;
            kopija/=10;
        }
        if(brojac!=12 &amp;&amp; brojac!=13) throw logic_error("JMBG nije validan");
</font>    }

    void Za_prvi_konst(long long int jmbg) {
        ispitaj(jmbg);
        long long int novo_jmbg(jmbg);
        trinaesti=novo_jmbg%10;
        novo_jmbg/=10;
        pol_osobe=0;
        int i=0;
        while(i&lt;3) {
            static int k=1;
            pol_osobe+=novo_jmbg%10*k;
            novo_jmbg/=10;
            k*=10;
            i++;
        }
        if(pol_osobe&gt;500) pol=Zensko;
        else pol=Musko;
        sifraregije=0;
        int j=0;
        while(j&lt;2) {
            static int k=1;
            sifraregije+=novo_jmbg%10*k;

            novo_jmbg/=10;
            k*=10;
            j++;
        }
        godina_rodjenja=0;
        int m=0;
        while(m&lt;3) {
            static int k=1;
            godina_rodjenja+=novo_jmbg%10*k;

            novo_jmbg/=10;
            k*=10;
            m++;
        }
        if(godina_rodjenja&lt;17) godina_rodjenja=godina_rodjenja+2000;
        else godina_rodjenja=godina_rodjenja+1000;

        mjesec_rodjenja=0;
        int n=0;
        while(n&lt;2)

        {
            static int k=1;
            mjesec_rodjenja+=novo_jmbg%10*k;
            novo_jmbg/=10;
            k*=10;
            n++;
        }
        long long int kopija=jmbg;
        int brojac=0;
        while (kopija!=0) {
            brojac++;
            kopija/=10;
        }
        if(brojac!=12) {
            dan_rodjenja=novo_jmbg%10;
            novo_jmbg/=10;
            dan_rodjenja=dan_rodjenja+novo_jmbg*10;
        } else {
            dan_rodjenja=novo_jmbg;
        }
    }

public:

    GradjaninBiH(string ime_i_prezime, long long int jmbg);
    GradjaninBiH(string ime_i_prezime, int dan_rodjenja, int mjesec_rodjenja, int godina_rodjenja, int sifraregije, Pol pol);
    string DajImeIPrezime() const;
    long long int DajJMBG()const;
    int DajDanRodjenja() const {
        return dan_rodjenja;
    }
    int DajMjesecRodjenja() const {
        return mjesec_rodjenja;
    }
    int DajGodinuRodjenja() const {
        return godina_rodjenja;
    }
    int DajSifruRegije() const;
    Pol DajPol() const {
        return pol;
    }
    void PromijeniImeIPrezime(string novo_ime) {
        ime_i_prezime=novo_ime;
    }
    /*
     ~GradjaninBiH() {
         GradjaninBiH * trenutni=sljedeci;
         while (trenutni!=this) {
             sljedeci=trenutni;
             trenutni=trenutni-&gt;prvi_pokazivac;
         }
         sljedeci-&gt;prvi_pokazivac=trenutni-&gt;prvi_pokazivac;
    }*/

    /*
      for(int i=0; i&lt;13; i++)
        {
            while (i&lt;3) {
                niz[i]=d;
                i+=2;
            }
            while (i&lt;5) {
                niz[i]=m;
                i+=4;
            }
            while (i&lt;8) {
                niz[i]=g;
                i+=7;
            }
            while (i&lt;10) {
                niz[i]=sifra;
                i+=9;
            }
            while (i&lt;13) {
                niz[i]=pol;
                i+=12;
            }
        }
        */
    //   trinaesti=(11-(7*(niz[11]+niz[5])+6*(niz[10]+niz[4])+5*(niz[9]+niz[3])+4*(niz[6])+niz[2])+3*(niz[7]+niz[1])+2*(niz[6]+niz[0]))%11;


};

<a name="5"></a><font color="#FF0000"><a href="match251-0.html#5" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_1.gif"/></a>

bool  IspravnostDatuma(int dan, int mjesec, int godina)
{
    int broj_dana[] {31, 28, 31, 30,31, 30, 31, 31, 30, 31, 30, 31};
</font>    if( godina%4==0 || godina%400==0 &amp;&amp; godina %100!=0) broj_dana[1]++;
    return true;
    if(godina &lt;1 || dan&lt;1 || mjesec&lt;1 || mjesec&gt;12 || dan&gt;broj_dana[mjesec-1])
        return false;
}
string DajIme(string s)
{
    int j=0;
    string ime;
    for(int i=0; i&lt;s.size(); i++) {
        if(!(s[i]&gt;'A'|| s[i]&lt;'Z') &amp;&amp;  (s[i]&gt;'a'|| s[i]&lt;'z'))  j=i;
    }
    ime= s.substr(0,  j);
    return ime;
}

<a name="7"></a><font color="#0000FF"><a href="match251-0.html#7" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_1.gif"/></a>

GradjaninBiH::GradjaninBiH(string ime_i_prezime, long long int jmbg)
{
    GradjaninBiH::ime_i_prezime=ime_i_prezime;
    GradjaninBiH::jmbg=jmbg;
    Za_prvi_konst(jmbg);
    if(!IspravnostDatuma(dan_rodjenja, mjesec_rodjenja, godina_rodjenja))
        throw  logic_error("JMBG nije validan");
</font>}
GradjaninBiH::GradjaninBiH(string ime_i_prezime, int dan_rodjenja,int mjesec_rodjenja, int godina_rodjenja, int sifraregije, Pol pol)
{
<a name="3"></a><font color="#00FFFF"><a href="match251-0.html#3" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_1.gif"/></a>

    GradjaninBiH::ime_i_prezime=ime_i_prezime;
    GradjaninBiH::dan_rodjenja=dan_rodjenja;
    GradjaninBiH::mjesec_rodjenja=mjesec_rodjenja;
    GradjaninBiH::godina_rodjenja=godina_rodjenja;
    if(sifraregije&lt;0 || sifraregije&gt;99) throw logic_error("Neispravn podaci");
</font>    GradjaninBiH::sifraregije=sifraregije;
    GradjaninBiH::pol=pol;
    Za_drugi_konst(dan_rodjenja, mjesec_rodjenja, godina_rodjenja, sifraregije, pol);
    if(!IspravnostDatuma(dan_rodjenja, mjesec_rodjenja, godina_rodjenja)) throw logic_error("Neispravni podaci");
}

string GradjaninBiH::DajImeIPrezime()const
{
    return ime_i_prezime;
}
long long int GradjaninBiH::DajJMBG() const
{
    return jmbg;
}

int GradjaninBiH::DajSifruRegije() const
{
    return sifraregije;
}




int main ()
{
    long long jmbg;
    int broj;
    cout&lt;&lt;"Koliko gradjana zelite unijeti po JMBG?"&lt;&lt;endl;
    cin&gt;&gt;broj;
    for(int i=0; i&lt;broj; i++) {
        try {
            string ImePrezime;
            cout&lt;&lt;"Unesite ime i prezime(u istom redu):"&lt;&lt;endl;
            getline(cin, ImePrezime);
            std::cout &lt;&lt; "Unesite JMBG:" &lt;&lt; std::endl;
            GradjaninBiH Amina(ImePrezime,jmbg);
<a name="0"></a><font color="#FF0000"><a href="match251-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_2.gif"/></a>

            cout&lt;&lt;"Unijeli ste gradjanina "&lt;&lt;DajIme(ImePrezime)&lt;&lt;"rodjenog "&lt;&lt;Amina.DajDanRodjenja()&lt;&lt;"."&lt;&lt;Amina.DajMjesecRodjenja()&lt;&lt;"."&lt;&lt;Amina.DajGodinuRodjenja()&lt;&lt;
                " u regiji"&lt;&lt;Amina.DajSifruRegije()&lt;&lt;",";
            if(Amina.DajPol()==Zensko) cout&lt;&lt;"zensko."&lt;&lt;endl;
</font>            else cout&lt;&lt;"musko."&lt;&lt;endl;
        } catch(logic_error e) {
            cout&lt;&lt;e.what()&lt;&lt;endl;
        }
    }
    int broj_2;
    cout&lt;&lt;"Koliko gradjana zelite unijeti po datumu rodjenja, regiji i polu?"&lt;&lt;endl;
    cin&gt;&gt;broj_2;
    for(int i=0; i&lt;broj_2; i++) {
        string ImePrezime;
        int d;
        int m;
        int g;
        int sifra_reg;
        char M_Z;
        Pol pol_covjek;
        cout&lt;&lt;"Unesite ime i prezime(u istom redu):"&lt;&lt;endl;
        getline(cin, ImePrezime);
        cout&lt;&lt;"Unesite datum rodjenja (format dd/mm/gg)"&lt;&lt;endl;
        cin&gt;&gt;d&gt;&gt;m&gt;&gt;g;
        cout&lt;&lt;"Unesite sifru regije:"&lt;&lt;endl;
        cin&gt;&gt;sifra_reg;
        cout&lt;&lt;"Unesite M za musko, Z za zensko:"&lt;&lt;endl;
        cin&gt;&gt;M_Z;
        if(M_Z=='M') pol_covjek=Musko;
        else pol_covjek=Zensko;

        try {
            cout&lt;&lt;"Unijeli ste gradjanina";
            GradjaninBiH Adna(ImePrezime, d,m,g, sifra_reg, pol_covjek);
            cout&lt;&lt;DajIme(ImePrezime)&lt;&lt;" JMBG:"&lt;&lt;Adna.DajJMBG()&lt;&lt;endl;
        } catch(logic_error e) {
            cout&lt;&lt;e.what()&lt;&lt;endl;
        }
    }
    return 0;
}
</pre>
</body>
</html>
