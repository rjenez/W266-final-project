<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z2/student5222.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z2/student8532.cpp<p></p><pre>
<a name="1"></a><font color="#00FF00"><a href="match101-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_18.gif"/></a>

/B 2016/2017, ZadaÄ‡a 4, Zadatak 2
//Napomena: testovi ce biti dostupni dan pred rok!
#include &lt;iostream&gt;
#include &lt;stdexcept&gt;
#include &lt;string&gt;
#include &lt;vector&gt;


class GradjaninBiH{
    std::string ime_i_prezime;
    long long int jmbg;
    int dan_rodjenja, mjesec_rodjenja, godina_rodjenja, sifra_regije, broj;
    static GradjaninBiH *posljednji;
    GradjaninBiH *prethodni;
    
    
    public:
    enum Pol {Musko, Zensko} pol;
    GradjaninBiH(std::string ime_i_prezime, long long int jmbg);
    GradjaninBiH(std::string ime_i_prezime, int dan_rodjenja, int mjesec_rodjenja,
                int godina_rodjenja, int sifra_regije, Pol pol);
    std::string DajImeIPrezime() const { return ime_i_prezime; }
    long long int DajJMBG() const { return jmbg; }
    int DajDanRodjenja() const { return dan_rodjenja; }
    int DajMjesecRodjenja() const { return mjesec_rodjenja; }
    int DajGodinuRodjenja() const { return godina_rodjenja; }
    int DajSifruRegije() const { return sifra_regije; }
    Pol DajPol() const { return pol; }
    void PromijeniImeIPrezime(std::string novo_ime) { this-&gt;ime_i_prezime=novo_ime; }
};


GradjaninBiH *GradjaninBiH::posljednji=nullptr;

GradjaninBiH::GradjaninBiH(std::string ime_i_prezime, long long int jmbg){
    long long int pomocna=jmbg;
    std::vector&lt;int&gt; v(13);
    int brojac(12);
    while(jmbg!=0){
        v[brojac] = jmbg % 10;
        jmbg/=10;
        brojac--;
    }
    jmbg=pomocna;
    
    int cifra_13=11-(7*(v[0]+v[6])+6*(v[1]+v[7])+5*(v[2]+v[8])+4*(v[3]+v[9])+3*(v[4]+v[10])+2*(v[5]+v[11]))%11;
</font><a name="0"></a><font color="#FF0000"><a href="match101-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_55.gif"/></a>

    if(cifra_13==11){
        cifra_13=0;
    }
    if(cifra_13!=v[12]){
        throw std::logic_error("JMBG nije validan");
    }
    dan_rodjenja=v[0]*10+v[1];
    mjesec_rodjenja=v[2]*10+v[3];
    godina_rodjenja=(v[4]*10+v[5])*10+v[6];
    if(godina_rodjenja&lt;=17){
        godina_rodjenja+=2000;
    }
    else{
        godina_rodjenja+=1000;
    }
    
    
     if(mjesec_rodjenja&lt;1 || mjesec_rodjenja&gt;12){
        throw std::logic_error("JMBG nije validan");
    }
    
    int februar=28;
    if(godina_rodjenja%4==0 &amp;&amp; godina_rodjenja%100!=0 || godina_rodjenja%400==0){
        februar=29;
    }
    
    
    std::vector&lt;int&gt; br_dana {31,februar,31,30,31,30,31,31,30,31,30,31};
    if(dan_rodjenja&gt;br_dana[mjesec_rodjenja-1]){
        throw std::logic_error("JMBG nije validan");
    }
    
    if(godina_rodjenja&lt;1917 ||godina_rodjenja&gt;2017){
        throw std::logic_error("JMBG nije validan");
    }
    
    this-&gt;ime_i_prezime=ime_i_prezime;
    this-&gt;jmbg=jmbg;
    
    int spol=(v[9]*10+v[10])*10+v[11];
    if(spol&gt;=0 &amp;&amp; spol&lt;=499){
        pol=Pol::Musko;
    }
    else{
        pol=Pol::Zensko;
    }
    
    
    sifra_regije=v[7]*10+v[8];
    
    
    
    prethodni=posljednji;
    posljednji=this;
}







GradjaninBiH::GradjaninBiH(std::string ime_i_prezime, int dan_rodjenja, int mjesec_rodjenja, int godina_rodjenja, int sifra_regije, Pol pol){
    this-&gt;ime_i_prezime=ime_i_prezime;
    if(mjesec_rodjenja&lt;1 || mjesec_rodjenja&gt;12){
        throw std::logic_error("Neispravni podaci");
    }
    
    int februar=28;
    if(godina_rodjenja%4==0 &amp;&amp; godina_rodjenja%100!=0 || godina_rodjenja%400==0){
        februar=29;
    }
    
     std::vector&lt;int&gt; br_dana {31,februar,31,30,31,30,31,31,30,31,30,31};
    if(dan_rodjenja&gt;br_dana[mjesec_rodjenja-1]){
        throw std::logic_error("Neispravni podaci");
    }
    
    if(godina_rodjenja&lt;1917 || godina_rodjenja&gt;2017){
        throw std::logic_error("Neispravni podaci");
    }
    
    if(sifra_regije&lt;0 || sifra_regije&gt;99){
        throw std::logic_error("Neispravni podaci");
    }
    
    std::vector&lt;int&gt; v(13);
    int brojac{};
    v[0]=dan_rodjenja/10;
    v[1]=dan_rodjenja%10;
    v[2]=mjesec_rodjenja/10;
    v[3]=mjesec_rodjenja%10;
    v[4]= godina_rodjenja &lt; 2000 ? (godina_rodjenja-1000)/100 : (godina_rodjenja-2000)/100;
    v[5]=(godina_rodjenja/10)%10;
    v[6]=godina_rodjenja%10;
    v[7]=sifra_regije/10;
    v[8]=sifra_regije%10;
    int broj2;
    if(pol == Pol::Musko) broj = 0;
    else broj = 500;
    GradjaninBiH* pok = posljednji;
    while(pok != nullptr){
        if(pok-&gt;DajSifruRegije() == sifra_regije &amp;&amp; pok-&gt;DajPol() == pol &amp;&amp;
            pok-&gt;DajDanRodjenja() == dan_rodjenja &amp;&amp; pok-&gt;DajMjesecRodjenja() == mjesec_rodjenja
            &amp;&amp; pok-&gt;DajGodinuRodjenja() == godina_rodjenja &amp;&amp; pok-&gt;broj == broj2){
                broj2++;
                pok = posljednji;
            }
        else pok = pok-&gt;prethodni;
    }
    this-&gt;broj = broj2;
    v[9] = broj2 / 100;
    v[10] = (broj2/10) % 10;
    v[11] = broj2%10;
    v[12] = 11-(7*(v[0]+v[6])+6*(v[1]+v[7])+5*(v[2]+v[8])+4*(v[3]+v[9])+3*(v[4]+v[10])+2*(v[5]+v[11]))%11;
</font><a name="2"></a><font color="#0000FF"><a href="match101-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_16.gif"/></a>

    if(v[12]==11){
        v[12]=0;
    }
    prethodni=posljednji;
    posljednji=this;
 }










int main(){
    
    
    int n;
    std::cout&lt;&lt;"Koliko gradjana zelite unijeti po JMBG? ";
    std::cin&gt;&gt;n;
    std::cin.ignore(100000, '\n');
    
   OVDJE:try{
    int brojac{};
    while(brojac!=n){
    std::cout&lt;&lt;"Unesite ime i prezime (u istom redu): ";
    std::string ime_i_prezime;
    std::getline(std::cin, ime_i_prezime);
    
    long long int jmbg;
    std::cout&lt;&lt;"Unesite JMBG: ";
    std::cin&gt;&gt;jmbg;
    std::cin.ignore(100000, '\n');
    
    GradjaninBiH gradjanin(ime_i_prezime, jmbg);
    brojac++;
    std::cout&lt;&lt;"Unijeli ste gradjanina "&lt;&lt;gradjanin.DajImeIPrezime()&lt;&lt;" rodjenog "&lt;&lt;gradjanin.DajDanRodjenja()&lt;&lt;
    "."&lt;&lt;gradjanin.DajMjesecRodjenja()&lt;&lt;"."&lt;&lt;gradjanin.DajGodinuRodjenja()&lt;&lt;" u regiji "&lt;&lt;gradjanin.DajSifruRegije()&lt;&lt;", "&lt;&lt;gradjanin.DajPol()&lt;&lt;"."&lt;&lt;std::endl;
    
   }
}




catch(std::logic_error e){
        std::cout&lt;&lt;e.what()&lt;&lt;std::endl;
</font>    } goto OVDJE; 

    
    return 0;
}


    </pre>
</body>
</html>
