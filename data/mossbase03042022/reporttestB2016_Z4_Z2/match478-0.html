<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z2/student8560.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z2/student8560.cpp<p></p><pre>
#include &lt;iostream&gt;
#include &lt;stdexcept&gt;
#include &lt;string&gt;
#include &lt;iomanip&gt;
#include &lt;cmath&gt;
#include &lt;algorithm&gt;
class GradjaninBiH {
    long long int jmbg;
    int c1[13] = {};
    std::string ime;
    int d, m, g, s;
    int pol(long long int jmbg) const;
    bool prebroji(long long int jmbg);
    bool provjera(int dan, int mjesec, int godina);
    int sifra(long long int jmbg);
    void okreni(int &amp;niz);
    public:
    enum Pol {Musko, Zensko};
    GradjaninBiH (std::string ime_i_prezime, long long int jmbg) {
        GradjaninBiH::ime = ime_i_prezime;
        if(prebroji(jmbg) == false ) throw std::logic_error("JMBG nije validan");
        long long int jmbg3(jmbg);
        for(int i(12); i &gt;=0; i--) {
            c1[i] = jmbg3%10;
            jmbg3/=10;
        }

            d = c1[0]*10 + c1[1];
            m = c1[2]*10 + c1[3];
            g = c1[6]*100 + c1[5]*10 + c1[6];
        if(provjera(d,m,g)==false) throw std::logic_error("JMBG nije validan");
        int c13 = 11 - (7*(c1[0]+c1[6])+6*(c1[1]+c1[7])+5*(c1[2]+c1[8])+4*(c1[3]+c1[9])+3*(c1[4]+c1[10])+2*(c1[5]+c1[11]))%11;
        if (c13 ==11)c1[12] = 0;
        else if(c13 == 10) throw std::logic_error("JMBG nije validan");
        GradjaninBiH::jmbg = jmbg;
    }
    GradjaninBiH (std::string ime_i_prezime, int dan_rodjenja, int mjesec_rodjenja, int godina_rodjenja, int sifra_regije, Pol pol) {
        if(provjera(dan_rodjenja, mjesec_rodjenja, godina_rodjenja) == false || sifra_regije &lt; 0 || sifra_regije &gt; 99) throw std::logic_error("Neispravni podaci");
        ime = ime_i_prezime;
        c1[1] = dan_rodjenja%10;
        c1[0] = dan_rodjenja/10;
        c1[3] = mjesec_rodjenja%10 - 1;
        c1[2] = mjesec_rodjenja/10;
        c1[6] = godina_rodjenja%10;
        godina_rodjenja/=10;
        c1[5] = godina_rodjenja%10;
        c1[4] = godina_rodjenja/10;
        c1[8] = sifra_regije%10;
        c1[7] = sifra_regije/10;
  
        c1[11] = 0;
        c1[10] = 0;
        c1[9]  = 0;

        c1[12] = 11 - ((7*(c1[0]+c1[6]) + 6 * (c1[1]+c1[7]) + 5*(c1[2]+c1[8])+ 4*(c1[3]+c1[9])+3*(c1[4]+c1[10]) + 2*(c1[5]+c1[11]))%11) - 7; 
        if(c1[12]== 11) c1[12] = 0;
        if(c1[12] == 10) throw std::logic_error ("JMBG nije validan");
        
    }
    std::string DajImeIPrezime() const { return ime; }
    long long int DajJMBG() const {
        int m=13;
        long long int broj(0);
        if(c1[0]==0) m=12;
        for(int i(0); i &lt; m;i++) {
            
            broj+=c1[i];
            broj*=10;
        }
        if(m==13) broj/=10;
        return broj;
    }
<a name="4"></a><font color="#FF00FF"><a href="match478-1.html#4" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_1.gif"/></a>

    int DajDanRodjenja() const { return c1[0]*10 + c1[1]; }
    int DajMjesecRodjenja() const { return c1[2]*10+c1[3]; }
    int DajGodinuRodjenja() const {  if((c1[4]*100 + c1[5]*10+c1[6]) &lt; 18) return 2000 + c1[4]*100 + c1[5]*10 + c1[6];
</font>        else return 1000 + c1[4]*100 + c1[5]*10 + c1[6];
    }
    int DajSifruRegije() const { return c1[7]*10+c1[8]; }
    Pol DajPol() const {
      int n;
        n = GradjaninBiH::pol(jmbg);
        if(n &lt; 500 ) return Pol::Musko;
        else return Pol::Zensko;
    }
    void PromijeniImeIPrezime(std::string novo_ime) {
        ime = novo_ime;
    }
};
<a name="5"></a><font color="#FF0000"><a href="match478-1.html#5" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_1.gif"/></a>

bool GradjaninBiH::provjera(int dan, int mjesec, int godina) {
    int mjeseci[] {31, 28, 31, 30, 31, 30, 31, 31, 30 , 31, 30 ,31};
</font>    if(godina%4 == 0 &amp;&amp; godina%100 != 0 || godina % 400 == 0) mjeseci[1]++;
    if(godina &lt; 1 || mjesec &lt; 1 || mjesec &gt; 12 || dan &gt; mjeseci[mjesec-1]) return false;
    return true;
}
bool GradjaninBiH::prebroji(long long int jmbg) {
    int broj(0);
    while(jmbg != 0) {
        jmbg/=10;
        broj++;
    }
    if(broj &gt;= 12 &amp;&amp; broj &lt;=13) return true;
    else return false;
}

int GradjaninBiH::sifra (long long int jmbg) {
    for(int i(0); i &lt; 4; i++) {
        jmbg/=10;
    }
    int cifra(0);
    cifra+=jmbg%10;
    cifra*=10;
    jmbg/=10;
    cifra+=jmbg%10;
    int cifra2(0);
    for(int i(0); i &lt; 2; i++) {
        cifra2+=cifra%10;
        cifra2*=10;
        cifra/=10;
}
return cifra2;
}
int GradjaninBiH::pol(long long int jmbg) const {
    jmbg/=10;
    int broj(0);
    for(int i(0); i &lt; 3; i++) {
        broj+=jmbg%10;
        broj*=10;
        jmbg/=10;
        }
        int cifra2(0);
    for(int i(0); i &lt; 3; i++) {
        cifra2 += broj%10;
        cifra2*=10;
        broj/=10;
    }
    return cifra2;
}
int main () {
  std::cout &lt;&lt; "Koliko gradjana zelite unijeti po JMBG? " &lt;&lt; std::endl;
    int n;
    std::cin &gt;&gt; n;
    std::cin.clear(); 
    std::cin.ignore(10000, '\n');
    long long int jmbg;
    std::string ime;
    for(int i(0); i &lt; n; i++) {
<a name="2"></a><font color="#0000FF"><a href="match478-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_2.gif"/></a>

        std::cout &lt;&lt; "Unesite ime i prezime (u istom redu): " &lt;&lt; std::endl;
        std::getline(std::cin, ime);
        std::cout &lt;&lt; "Unesite JMBG: " &lt;&lt; std::endl; 
        std::cin &gt;&gt; jmbg;
</font>
        try {
            GradjaninBiH g1(ime, jmbg);
            ime.clear();
            std::cin.clear();
            std::cin.ignore(10000, '\n');
            int q;
            q = g1.DajGodinuRodjenja();
         
            std::cout &lt;&lt; "Unijeli ste gradjanina "&lt;&lt;g1.DajImeIPrezime() &lt;&lt; " rodjenog " &lt;&lt; g1.DajDanRodjenja() &lt;&lt; "." &lt;&lt; g1.DajMjesecRodjenja()&lt;&lt;
            "." &lt;&lt; g1.DajGodinuRodjenja() &lt;&lt; " u regiji " &lt;&lt; g1.DajSifruRegije() &lt;&lt; ", ";
<a name="0"></a><font color="#FF0000"><a href="match478-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_2.gif"/></a>

            if(g1.DajPol() == GradjaninBiH::Pol::Zensko) std::cout &lt;&lt;"zensko."&lt;&lt; std::endl;
            else std::cout &lt;&lt; "musko." &lt;&lt;std::endl;
        }
        catch(std::logic_error e) {
            std::cout &lt;&lt; e.what() &lt;&lt; std::endl;
</font>            i--;
            ime.clear();
            std::cin.clear();
            std::cin.ignore(10000, '\n');
        }
        ime.erase();
        }
    std::cout &lt;&lt; "Koliko gradjana zelite unijeti po datumu rodjenja, regiji i polu? " &lt;&lt; std::endl;
    int br;
    std::cin &gt;&gt; br;
    std::cin.clear();
    std::cin.ignore(10000, '\n');
    std::string ime2;
    int d, m, g, s;
    char spol;
    
    GradjaninBiH::Pol pol;
    for(int i(0); i &lt; br; i++) {
<a name="3"></a><font color="#00FFFF"><a href="match478-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_2.gif"/></a>

        std::cout &lt;&lt; "Unesite ime i prezime (u istom redu): " &lt;&lt; std::endl;
        std::getline(std::cin, ime2);
        std::cout &lt;&lt; "Unesite datum rodjenja (format dd/mm/gggg): " &lt;&lt;std::endl;
        std::cin &gt;&gt; d &gt;&gt; std::ws &gt;&gt; m &gt;&gt; std::ws &gt;&gt; g;
</font><a name="1"></a><font color="#00FF00"><a href="match478-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_2.gif"/></a>

        std::cout &lt;&lt; "Unesite sifru regije: " &lt;&lt; std::endl;
        std::cin &gt;&gt; s;
      std::cout &lt;&lt; "Unesite M za musko, Z za zensko: "&lt;&lt; std::endl;
        std::cin &gt;&gt; spol;
</font>        if(spol == 'M') pol = GradjaninBiH::Pol::Musko;
        if(spol == 'Z') pol = GradjaninBiH::Pol::Zensko;
        try {
            auto g2 = GradjaninBiH(ime2, d, m, g , s, pol);
            ime2.clear();
            std::cin.clear();
            std::cin.ignore(10000, '\n');
            if(g2.DajDanRodjenja()&lt;10) std::cout &lt;&lt; "Unijeli ste gradjanina "&lt;&lt; g2.DajImeIPrezime() &lt;&lt; " JMBG: 0" &lt;&lt; g2.DajJMBG() &lt;&lt; "." &lt;&lt; std::endl;
           else  std::cout &lt;&lt; "Unijeli ste gradjanina " &lt;&lt; g2.DajImeIPrezime() &lt;&lt; " JMBG: " &lt;&lt; g2.DajJMBG() &lt;&lt; "." &lt;&lt; std::endl;
 }catch(std::logic_error e) {
    std::cout &lt;&lt; e.what() &lt;&lt; std::endl;
    i--;
    ime2.clear();
    std::cin.clear();
    std::cin.ignore(10000, '\n');
}    
}
	return 0;
}</pre>
</body>
</html>
