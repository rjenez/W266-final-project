<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z2/student3483.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z2/student3483.cpp<p></p><pre>
/B 2016/2017, ZadaÄ‡a 4, Zadatak 2
//Napomena: testovi ce biti dostupni dan pred rok!
#include &lt;iostream&gt;
#include &lt;string&gt;
#include &lt;cmath&gt;
#include &lt;algorithm&gt;
#include &lt;stdexcept&gt;

class GradjanjnBiH{ 
    std::string iip;
    long long int JMBG;
    GradjanjnBiH* prosli_gradjanin;
    static GradjanjnBiH* posljenji_gradjanin;
    bool DatumTest(int dan, int mjesec, int godina) const 
    {
        int broj_dana[12]{31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31};
        if((godina%4 == 0 &amp;&amp; godina%100 != 0) || godina%400 == 0)
            broj_dana[1]++;
        if(godina &lt; 1 || dan &lt; 1 || mjesec &lt; 1 || mjesec &gt; 12 || dan &gt; broj_dana[mjesec - 1])
            return false;
        return true;
    }
public:
    enum Pol {Musko, Zensko};
    GradjanjnBiH(std::string ime_i_prezime, long long int jmbg) 
    {
        int dan = jmbg/int(pow(10,11));
        int mjesec = jmbg%int(pow(10,11))/int(pow(10,9));
        int godina_rodjenja;
        if(JMBG/int(pow(10,6))%int(pow(10,3)) &gt; 17) 
            godina_rodjenja = 1000+JMBG/int(pow(10,6))%int(pow(10,3)); 
        else 
            godina_rodjenja = 2000+JMBG/int(pow(10,6))%int(pow(10,3));
        bool ispravan_datum(DatumTest(dan, mjesec, godina_rodjenja));
        if(!ispravan_datum)
            throw std::logic_error("JMBG nije validan");
        iip = ime_i_prezime; 
        JMBG = jmbg;
        prosli_gradjanin = posljenji_gradjanin;
        GradjanjnBiH* pok(this);
        while(pok != nullptr)
        {
            pok = pok-&gt;prosli_gradjanin;
            if(pok-&gt;JMBG == jmbg)
                throw std::logic_error("Vec postoji gradjanin sa istim JMBG");
        }
        posljenji_gradjanin = this;
    }
    GradjanjnBiH(std::string ime_i_prezime, int dan_rodjenja, int mjesec_rodjenja, int godina_rodjenja, int sifra_regije, Pol pol)
    {
        iip = ime_i_prezime;
        int tr_broj(0);
        JMBG = dan_rodjenja*pow(10,11) + mjesec_rodjenja*pow(10,9) + (godina_rodjenja%1000)*pow(10,6) + sifra_regije*pow(10,4);
        prosli_gradjanin = posljenji_gradjanin;
        GradjanjnBiH* pok = this;
        while(pok != nullptr)
        {
            pok = pok-&gt;prosli_gradjanin;
            if(pok-&gt;JMBG/10000 == JMBG/10000)
                tr_broj++;
        }
        JMBG += tr_broj*10;
<a name="2"></a><font color="#0000FF"><a href="match715-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_4.gif"/></a>

        long long int c13 = 11 - (7*(dan_rodjenja/10 + godina_rodjenja%10) + 6*(dan_rodjenja%10 + sifra_regije/10) + 5*(mjesec_rodjenja/10 + sifra_regije%10) 
            + 4*(mjesec_rodjenja%10 + tr_broj/100) + 3*(godina_rodjenja%1000/100 + tr_broj%100/10) + 2*(godina_rodjenja%100/10 + tr_broj%10))%11;
</font>        if(c13 == 11)
            c13 = 0;
        if(c13 == 10)
            throw std::logic_error("JMBG nije validan");
        posljenji_gradjanin = this;
    }
    std::string DajImeIPrezime() const {return iip;}
    long long int DajJMBG() const {return JMBG;}
    int DajDanRodjenja() const {return JMBG/int(pow(10,11));}
    int DajMjesecRodjenja() const {return JMBG/int(pow(10,9))%int(pow(10,11));}
    int DajGodinuRodjenja() const {if(JMBG/int(pow(10,6))%int(pow(10,3)) &gt; 17) return 1000+JMBG/int(pow(10,6))%int(pow(10,3)); else return 2000+JMBG/int(pow(10,6))%int(pow(10,3));}
    int DajSifruRegije() const {return JMBG/int(pow(10,4))%int(pow(10,6));}
    Pol DajPol() const { if(JMBG/10%int(pow(10,8)) &gt; 0 &amp;&amp; JMBG/10%int(pow(10,8)) &lt; 499) return Musko; else return Zensko;}
    void PromijeniImeIPrezime(std::string novo_ime) {iip = novo_ime;}
};

int main ()
{
    int n;
    std::cout&lt;&lt;"Koliko gradjana zelite unijeti po JMBG?";
<a name="0"></a><font color="#FF0000"><a href="match715-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_5.gif"/></a>

    std::cin&gt;&gt;n;
    for(int i = 0; i &lt; n; i++)
    {
        std::cout&lt;&lt;"Unesite ime i prezime (u istom redu): ";
        std::string iip;
        std::cin.ignore(10000, '\n');
        std::getline(std::cin, iip);
        std::cout&lt;&lt;"Unesite JMBG: ";
        long long int jmbg;
        std::cin&gt;&gt;jmbg;
        GradjanjnBiH temp(iip, jmbg);
</font>        std::cout&lt;&lt;"Unijeli ste gradjanina "&lt;&lt;temp.DajImeIPrezime()&lt;&lt;" rodjenog "&lt;&lt;temp.DajDanRodjenja()&lt;&lt;"."&lt;&lt;temp.DajMjesecRodjenja()&lt;&lt;"."&lt;&lt;temp.DajGodinuRodjenja()&lt;&lt;" u regiji "&lt;&lt;temp.DajSifruRegije()&lt;&lt;", "&lt;&lt;temp.DajPol()&lt;&lt;".";
    }
    std::cout&lt;&lt;"Koliko gradjana zelite unijeti po datumu rodjenja, regiji i polu?";
    int m;
    std::cin&gt;&gt;m;
    for(int i = 0; i &lt; m; i++)
    {
<a name="1"></a><font color="#00FF00"><a href="match715-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_4.gif"/></a>

        std::cout&lt;&lt;"Unesite ime i prezime (u istom redu): ";
        std::string iip;
        std::cin.ignore(10000, '\n');
        std::getline(std::cin, iip);
        std::cout&lt;&lt;"Unesite datum rodjenja (format dd/mm/gggg): ";
        int d,m,g;
        char t;
        std::cin.ignore(10000, '\n');
</font>        std::cin&gt;&gt;d&gt;&gt;t&gt;&gt;m&gt;&gt;t&gt;&gt;g;
<a name="3"></a><font color="#00FFFF"><a href="match715-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_3.gif"/></a>

        std::cout&lt;&lt;"Unesite sifru regije: ";
        int sifra;
        std::cin&gt;&gt;sifra;
        std::cout&lt;&lt;"Unesite M za musko, Z za zensko: ";
</font>        char pol;
        std::cin.ignore(10000, '\n');
        std::cin&gt;&gt;pol;
        GradjanjnBiH::Pol pol2;
        if(pol == 'M')
            pol2 = GradjanjnBiH::Musko;
        if(pol == 'Z')
            pol2 = GradjanjnBiH::Zensko;
        GradjanjnBiH temp(iip, d, m, g, sifra, pol2);
        std::cout&lt;&lt;"Unijeli ste gradjanina "&lt;&lt;iip&lt;&lt;" JMBG: "&lt;&lt;temp.DajJMBG();
    }
	return 0;
}</pre>
</body>
</html>
