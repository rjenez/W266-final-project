<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z2/student2959.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z2/student2959.cpp<p></p><pre>
/B 2016/2017, ZadaÄ‡a 4, Zadatak 2
//Napomena: testovi ce biti dostupni dan pred rok!
#include &lt;iostream&gt;
#include &lt;string&gt;
#include &lt;stdexcept&gt;

enum Pol {Musko, Zensko};
class GradjaninBiH{
    static GradjaninBiH* pok_na_zadnjeg(nullptr) ;
    std::string ime_i_prezime;
    long long int jmbg;
    int c[13];
    int dan_rodjenja, mjesec_rodjenja, godina_rodjenja, sifra_regije;
    Pol pol;
    GradjaninBiH* veza(nullptr);
    bool JeLiDatumValidan(int dan, int mjesec, int godina){
        int broj_dana[]={31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31};
        if((godina%4==0 &amp;&amp; godina%100!=0) || godina%400==0) broj_dana[1]++;
        
        if(mjesec&gt;12 || mjesec&lt;1 || dan&lt;1 || dan&gt;broj_dana[mjesec-1] || godina&lt;1)
        return false;
        else return true;
    }
    void JeLiJMBGValidan(long long int jmbg, int &amp;dan, int&amp; mjesec, int&amp; godina, int&amp; regija){
        long long int jmbg_kopija(jmbg);
          
          jmbg/=10000;
        regija=jmbg%100;    jmbg/=100;
        godina=jmbg%1000; jmbg/=1000;
        mjesec=jmbg%100;    jmbg/=100;
        dan=jmbg%100;
        if(godina&gt;=917 &amp;&amp; godina&lt;=999) godina_rodjenja=godina+1000;
    else if(godina&gt;=0 &amp;&amp; godina&lt;=17)  godina_rodjenja=godina+2000;
        int cifre[13];
        for(int i=12; i&gt;=0; i--)
        {
            cifre[i]=jmbg_kopija%10;        
            jmbg_kopija/=10;
        }
        int c13(11-(7*(cifre[0]+cifre[6]) + 6*(cifre[1]+cifre[7]) + 5*(cifre[2]+cifre[8]) + 4*(cifre[3]+cifre[9]) + 3*(cifre[4]+cifre[10]) + 2*(cifre[5]+cifre[11]))%11);
        if(!JeLiDatumValidan(dan,mjesec,godina) || c13!=cifre[12] || cifre[12]==10)
            throw std::logic_error("JMBG nije validan");
        
    }
public:

GradjaninBiH(std::string ime_i_prezime, long long int jmbg){
    int dan,mjesec,godina,regija;
    JeLiJMBGValidan(jmbg,dan,mjesec,godina,regija);
    int isti_dan((jmbg%10000)/10);
    if(pok_na_zadnjeg==nullptr){
        pok_na_zadnjeg=this;
        GradjaninBiH::ime_i_prezime=ime_i_prezime;
        GradjaninBiH::jmbg=jmbg;
        GradjaninBiH::dan_rodjenja=dan;
        GradjaninBiH::mjesec_rodjenja=mjesec;
        GradjaninBiH::godina_rodjenja=godina;
        GradjaninBiH::sifra_regije=regija;
        
        if(isti_dan&gt;=0 &amp;&amp; isti_dan&lt;=499) pol=Musko;
        else pol=Zensko;
        long long int jmbg_kopija(jmbg);
        for(int i=12; i&gt;=0; i--)
        {
            c[i]=jmbg_kopija%10;        
            jmbg_kopija/=10;
        }
       
    }
    else{
        GradjaninBiH* pomocni=pok_na_zadnjeg;
        bool ponavlja_se(0);
        for(GradjaninBiH* p=pomocni; p!=nullptr; p=p-&gt;veza)
        {
            if(p-&gt;jmbg==jmbg)
            ponavlja_se=1;
        }
        if(!ponavlja_se)
        {
             GradjaninBiH::ime_i_prezime=ime_i_prezime;
             GradjaninBiH::jmbg=jmbg;
             GradjaninBiH::dan_rodjenja=dan;
             GradjaninBiH::mjesec_rodjenja=mjesec;
             GradjaninBiH::godina_rodjenja=godina;
             GradjaninBiH::sifra_regije=regija;
             
             if(isti_dan&gt;=0 &amp;&amp; isti_dan&lt;=499) pol=Musko;
             else pol=Zensko;
             long long int jmbg_kopija(jmbg);
             for(int i=12; i&gt;=0; i--)
            {
                c[i]=jmbg_kopija%10;        
                jmbg_kopija/=10;
            }
             veza=pok_na_zadnjeg;
             pok_na_zadnjeg=this;
        }
        else{ throw std::logic_error("Vec postoji gradjanin sa istim JMBG"); }
    }
    
    
}
<a name="1"></a><font color="#00FF00"><a href="match781-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_2.gif"/></a>

GradjaninBiH(std::string ime_i_prezime, int dan_rodjenja, int mjesec_rodjenja, int godina_rodjenja, int sifra_regije, Pol pol){
    if(!JeLiDatumValidan(dan_rodjenja,mjesec_rodjenja,godina_rodjenja) || sifra_regije&gt;99 || sifra_regije&lt;0)
    throw std::logic_error("Neispravni podaci");
</font>    else {
           
           
<a name="2"></a><font color="#0000FF"><a href="match781-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_2.gif"/></a>

            c[1]=dan_rodjenja%10; c[0]=dan_rodjenja/10; 
            c[3]=mjesec_rodjenja%10; c[2]=mjesec_rodjenja/10;
            c[6]=godina_rodjenja%10; c[5]=(godina_rodjenja%100)/10; 
</font>            if(godina_rodjenja&lt;2000)
            c[4]=((godina_rodjenja-1000)/100);
            else c[4]=((godina_rodjenja-2000)/100);
            c[8]=sifra_regije%10;
            c[7]=sifra_regije/10;
            
            if(pok_na_zadnjeg==nullptr){
                pok_na_zadnjeg=this;
                GradjaninBiH::ime_i_prezime=ime_i_prezime;
                GradjaninBiH::dan_rodjenja=dan_rodjenja;
                GradjaninBiH::mjesec_rodjenja=mjesec_rodjenja;
                GradjaninBiH::godina_rodjenja=godina_rodjenja;
                GradjaninBiH::sifra_regije=sifra_regije;
            if(pol==Musko) { c[9]=0; c[10]=0; c[11]=0; }
            else  { c[9]=5; c[10]=0; c[11]=0; }
            c[12]=(11-(7*(c[0]+c[6])+ 6*(c[1]+c[7]) + 5*(c[2]+c[8]) + 4*(c[3]+c[9]) + 3*(c[4]+c[10]) + 2*(c[5]+c[11]))%11);
<a name="3"></a><font color="#00FFFF"><a href="match781-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_2.gif"/></a>

            jmbg=0;
            for(int i=0; i&lt;12; i++)
            {
                jmbg+=c[i];
                jmbg*=10;
            }
            jmbg+=c[12];
</font>    }
            else{
                GradjaninBiH* pomocni=pok_na_zadnjeg;
                int najmanji_dostupan(0);
                for(GradjaninBiH* p=pomocni; p!=nullptr; p=p-&gt;veza)
                    {
                       if(dan_rodjenja==(p-&gt;dan_rodjenja) &amp;&amp; mjesec_rodjenja==(p-&gt;mjesec_rodjenja) &amp;&amp; godina_rodjenja==(p-&gt;godina_rodjenja) &amp;&amp; pol==(p-&gt;pol)){
                        int sifra(((p-&gt;jmbg)%10000)/10);
                        
                        if(sifra&gt;najmanji_dostupan)
                        najmanji_dostupan=sifra;
                       }
                    }
                    najmanji_dostupan++;
                c[11]=najmanji_dostupan%10; c[10]=(najmanji_dostupan%100)/10; c[9]=najmanji_dostupan/100;
<a name="4"></a><font color="#FF00FF"><a href="match781-1.html#4" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_1.gif"/></a>

                c[12]=(11-(7*(c[0]+c[6])+ 6*(c[1]+c[7]) + 5*(c[2]+c[8]) + 4*(c[3]+c[9]) + 3*(c[4]+c[10]) + 2*(c[5]+c[11]))%11);
</font>                jmbg=0;
            for(int i=0; i&lt;12; i++)
            {
                jmbg+=c[i];
                jmbg*=10;
            }
            jmbg+=c[12];
                GradjaninBiH::ime_i_prezime=ime_i_prezime;
                GradjaninBiH::dan_rodjenja=dan_rodjenja;
                GradjaninBiH::mjesec_rodjenja=mjesec_rodjenja;
                GradjaninBiH::godina_rodjenja=godina_rodjenja;
                GradjaninBiH::sifra_regije=sifra_regije;
                GradjaninBiH::pol=pol;
                
                veza=pok_na_zadnjeg;
                pok_na_zadnjeg=this;
            
            }
        
        
        
        
        /*GradjaninBiH::ime_i_prezime=ime_i_prezime;
        GradjaninBiH::dan_rodjenja=dan_rodjenja;
        GradjaninBiH::mjesec_rodjenja=mjesec_rodjenja;
        GradjaninBiH::godina_rodjenja=godina_rodjenja;
        GradjaninBiH::sifra_regije=sifra_regije;
        GradjaninBiH::pol=pol;*/
    
        
    }
}
<a name="0"></a><font color="#FF0000"><a href="match781-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_3.gif"/></a>

std::string DajImeIPrezime() const { return ime_i_prezime; }
long long int DajJMBG() const { return jmbg; }
int DajDanRodjenja() const { return dan_rodjenja; }
int DajMjesecRodjenja() const { return mjesec_rodjenja; }
int DajGodinuRodjenja() const { return godina_rodjenja;}
int DajSifruRegije() const { return sifra_regije; }
Pol DajPol() const { return pol; }
void PromijeniImeIPrezime(std::string novo_ime){ ime_i_prezime=novo_ime; }
</font>};

int main ()
{
	return 0;
}</pre>
</body>
</html>
