<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z2/student3425.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z2/student2567.cpp<p></p><pre>
/B 2016/2017, ZadaÄ‡a 4, Zadatak 2
//Napomena: testovi ce biti dostupni dan pred rok!

#include &lt;iostream&gt;
#include &lt;stdexcept&gt;
#include &lt;string&gt;
#include &lt;cmath&gt;

class GradjaninBiH {
    
    std::string ime_i_prezime; 
    long long int jmbg; 
    int dan_rodjenja, mjesec_rodjenja, godina_rodjenja; 
    int sifra_regije; 
    
    static GradjaninBiH* p; 
    static GradjaninBiH* q; 
    static int br; 
    
    void Pretvori (long long int jmbg, int*pok) const {
        int br(0); 
        long long int tmp(jmbg); 
        
        while (jmbg!=0) {
            jmbg=jmbg/10; br++; 
        }
        
<a name="9"></a><font color="#FF00FF"><a href="match123-0.html#9" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_1.gif"/></a>

        if (br==12) {
            pok[0]=0; 
            for (int i=12; i&gt;0; i--) { pok[i]=tmp%10; tmp/=10; }
</font>        }
<a name="12"></a><font color="#0000FF"><a href="match123-0.html#12" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_1.gif"/></a>

        if (br==13) {
            for (int i=13; i&gt;0; i--) { pok[i]=tmp%10; tmp/=10; }
</font>        }
    }
    
<a name="4"></a><font color="#FF00FF"><a href="match123-0.html#4" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_2.gif"/></a>

    bool Datum (int d, int m, int g) {
        int broj_dana[12]{31,28,31,30,31,30,31,31,30,31,30,31};
</font><a name="8"></a><font color="#00FFFF"><a href="match123-0.html#8" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_1.gif"/></a>

        if (g%4==0 || g%100!=0 || g%400==0) broj_dana[1]++;
        if (d&lt;1 || d&gt;broj_dana[m-1] || m&lt;1 || m&gt;12 || g&lt;1) return false; 
</font>        else return true; 
        
    }
    public:
    
    enum Pol {Musko, Zensko}; 
    GradjaninBiH (std::string ime_i_prezime, long long int jmbg); 
<a name="10"></a><font color="#FF0000"><a href="match123-0.html#10" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_1.gif"/></a>

    GradjaninBiH (std::string ime_i_prezime, int dan_rodjenja, int mjesec_rodjenja, int godina_rodjenja, int sifra_regije, Pol pol);
    long long int DajJMBG() const { return jmbg; }
    int DajDanRodjenja() const;
    int DajMjesecRodjenja() const;
    int DajGodinuRodjenja() const;
    int DajSifruRegije() const;
    Pol DajPol() const;
    void PromijeniImeIPrezime(std::string novo_ime) { ime_i_prezime=novo_ime; }
</font>    ~GradjaninBiH(); 
    GradjaninBiH(const GradjaninBiH &amp;gradjanin) = delete; 
    GradjaninBiH &amp;operator =(const GradjaninBiH &amp;gradjanin) = delete; 
};
<a name="3"></a><font color="#00FFFF"><a href="match123-0.html#3" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_2.gif"/></a>

GradjaninBiH::GradjaninBiH (std::string ime_i_prezime, long long int jmbg) {
    
    if (br==0) { p=nullptr; q=this; }
    else { p=q; q=this; } br++; 
    
    ime_i_prezime=ime_i_prezime; 
    
    int br1(0); auto temp(jmbg); 
</font>    
    while (temp!=0) {
        br1++; 
<a name="5"></a><font color="#FF0000"><a href="match123-0.html#5" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_1.gif"/></a>

        temp=temp/10; 
    }
    
    int niz1[13]; 
    if (br1==13) {
        auto novi=jmbg; 
        for (int i=13; i&gt;0; i--) { niz1[i]=novi%10; novi=novi/10; }
</font>    }
<a name="6"></a><font color="#00FF00"><a href="match123-0.html#6" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_1.gif"/></a>

    if (br1==12) {
        niz1[0]=0; 
        auto novi=jmbg; 
        for (int i=12; i&gt;0; i--) { niz1[i]=novi%10; novi=novi/10; } 
</font><a name="2"></a><font color="#0000FF"><a href="match123-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_4.gif"/></a>

    }
    
    int d=niz1[0]*10+niz1[1]; int m=niz1[2]*10+niz1[3]; int g; 
    if (niz1[4]==9) g=1900+niz1[5]*10+niz1[6];
    else g=2000+niz1[5]*10+niz1[6]; 
</font>    
    if (Datum(d,m,g)==false) throw std::logic_error ("JMBG nije validan"); 
    
    int c=11-(7*(niz1[0]+niz1[6])+6*(niz1[1]+niz1[7])+5*(niz1[2]+niz1[8])+4*(niz1[3]+niz1[9])+3*(niz1[4]+niz1[10])+2*(niz1[5]+niz1[11]))%11;
<a name="1"></a><font color="#00FF00"><a href="match123-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_4.gif"/></a>

    if (niz1[12]!=c || niz1[12]!=10) throw std::logic_error("JMBG nije validan"); 
    
    for (GradjaninBiH*pokazivac=p; pokazivac!=nullptr; pokazivac=pokazivac-&gt;p) {
        if (jmbg==pokazivac-&gt;jmbg) throw std::logic_error ("Vec postoji gradjanin sa istim JMBG");
    }
    this-&gt;jmbg=jmbg; 
}

GradjaninBiH::GradjaninBiH (std::string ime_i_prezime, int dan_rodjenja, int mjesec_rodjenja, int godina_rodjenja, int sifra_regije, Pol pol) {
    
    if (br==0) { p=nullptr; q=this; } 
    else {p=q; q=this; }
    br++;
    
    ime_i_prezime=ime_i_prezime; 
</font>
<a name="0"></a><font color="#FF0000"><a href="match123-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_5.gif"/></a>

    if (Datum(dan_rodjenja,mjesec_rodjenja,godina_rodjenja)==false || sifra_regije&lt;0 || sifra_regije&gt;99) throw std::logic_error ("Neispravni podaci"); 
    
    int niz[13]; 
    if (dan_rodjenja&lt;=9) { niz[0]=0; niz[1]=dan_rodjenja; } 
    else { niz[1]=dan_rodjenja%10; niz[0]=dan_rodjenja/10; }
    
    if (mjesec_rodjenja&lt;=9) { niz[2]=0; niz[3]=mjesec_rodjenja; } 
    else { niz[3]=mjesec_rodjenja%10; niz[2]=mjesec_rodjenja/10; }
    
    niz[6]=godina_rodjenja%10; godina_rodjenja=godina_rodjenja/10; niz[5]=godina_rodjenja%10; godina_rodjenja=godina_rodjenja/10; 
</font>    niz[4]=godina_rodjenja%10; godina_rodjenja=godina_rodjenja/10; 
    
    niz[8]=sifra_regije%10; niz[7]=sifra_regije/10; 
    
    long long int jmbg(0); 
    
    for (;;) {
        int u(0); 
        for (int i=12; i&gt;9; i--) {
            niz[i]=u%10;
            u=u/10;
        }
<a name="13"></a><font color="#00FFFF"><a href="match123-0.html#13" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_1.gif"/></a>

        niz[12]=11-(7*(niz[0]+niz[6])+6*(niz[1]+niz[7])+5*(niz[2]+niz[8])+4*(niz[3]+niz[9])+3*(niz[4]+niz[10])+2*(niz[5]+niz[11]))%11;
        if (niz [12]==11) niz[12]=0; 
        
        bool da(true); 
</font>        for (int j=13; j&gt;0; j--) {
<a name="7"></a><font color="#0000FF"><a href="match123-0.html#7" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_1.gif"/></a>

            jmbg+=niz[13-j]*std::pow(10,j); 
        }
        
        for (GradjaninBiH*pokazivac=p; pokazivac!=nullptr; pokazivac=pokazivac-&gt;p) {
            if (jmbg==pokazivac-&gt;jmbg) { u++; da=false; break; }
        }
        if (da) break; 
    }
    std::cout &lt;&lt; jmbg &lt;&lt; std::endl; 
</font>    this-&gt;jmbg=jmbg; 
}

GradjaninBiH::~GradjaninBiH() {
    delete p; 
    delete q;
}

GradjaninBiH* GradjaninBiH::q=nullptr; 
GradjaninBiH* GradjaninBiH::p=nullptr;
int GradjaninBiH::br=0; 

int GradjaninBiH::DajDanRodjenja() const {
    int niz[13]; 
    Pretvori(jmbg, niz);
    int dan=niz[0]*10+niz[1]; 
    return dan; 
}

int GradjaninBiH::DajMjesecRodjenja() const {
    int niz[13]; 
    Pretvori(jmbg, niz); 
    int mjesec=niz[2]*10+niz[3]; 
    return mjesec; 
} 

int GradjaninBiH::DajGodinuRodjenja() const {
    int niz[13]; 
    Pretvori(jmbg, niz); 
    if (niz[4]==9) {
        int godina=1900+niz[5]*10+niz[6];
        return godina; 
    }
    else {
        int godina=2000+niz[5]*10+niz[6];
        return godina; 
    }
}

int GradjaninBiH::DajSifruRegije() const {
    int niz[13]; 
    Pretvori(jmbg, niz); 
    int sifra=niz[7]*10+niz[8];
    return sifra; 
}

GradjaninBiH::Pol GradjaninBiH::DajPol() const {
    int niz[13]; 
    Pretvori(jmbg, niz); 
<a name="11"></a><font color="#00FF00"><a href="match123-0.html#11" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_1.gif"/></a>

    int a=niz[9]*100+niz[10]*10+niz[11]; 
    if (a&gt;0 &amp;&amp; a&lt;499) return Musko; 
    else return Zensko; 
</font>}

int main ()
{
    std::cout &lt;&lt; "Koliko gradjana zelite unijeti po JMBG: ";
    int n; 
    std::cin &gt;&gt; n; 
    
    GradjaninBiH*p; 
    
    for (int i=0; i&lt;n; i++) {
        std::cout &lt;&lt; "Unesite ime i prezime (u istom redu): "; 
        std::string s; 
        std::getline(std::cin, s); 
        std::cin.clear(); 
        std::cin.ignore(10000, '\n'); 
        std::cout &lt;&lt; std::endl &lt;&lt; "Unesite JMBG: "; 
        long long int jmbg; 
        std::cin &gt;&gt; jmbg; 
        try {
         std::cout &lt;&lt; std::endl &lt;&lt; "Unijeli ste gradjanina " &lt;&lt; s &lt;&lt; " rodjenog " &lt;&lt; p-&gt;DajDanRodjenja() &lt;&lt; "." &lt;&lt; p-&gt;DajMjesecRodjenja() &lt;&lt; "." &lt;&lt; p-&gt;DajGodinuRodjenja();
         std::cout &lt;&lt; " u regiji " &lt;&lt; p-&gt;DajSifruRegije() &lt;&lt; "," &lt;&lt; p-&gt;DajPol() &lt;&lt; "."; 
        }
        catch(std::logic_error e) {
            std::cout &lt;&lt; e.what() &lt;&lt; std::endl; 
        }
    }
    
    GradjaninBiH*q; 
    
    std::cout &lt;&lt; std::endl &lt;&lt; "Koliko gradjana zelite unijeti po datumu rodjenja, regiji i polu?"; 
    int m; 
    std::cin &gt;&gt; m; 
    
    for (int i=0; i&lt;m; i++) {
        std::cout &lt;&lt; "Unesite ime i prezime (u istom redu): "; 
        std::string s; 
        std::getline(std::cin, s); 
        std::cin.clear(); 
        std::cin.ignore(10000, '\n'); 
        std::cout &lt;&lt; std::endl &lt;&lt; "Unesite datum rodjenja (format dd/mm/gg) ";
        int d,m,g; 
        std::cin &gt;&gt; d &gt;&gt; m &gt;&gt; g; 
        std::cout &lt;&lt; std::endl &lt;&lt; "Unesite sifru regije: "; 
        int sifra; 
        std::cin &gt;&gt; sifra; 
        std::cout &lt;&lt; std::endl &lt;&lt; "Unesite M za musko, Z za zensko: ";  
        char znak; 
        std::cin &gt;&gt; znak; 
        
        std::cout &lt;&lt; "Unijeli ste gradjana "; 
        for(int i=0; i&lt;s.size(); i++) { std::cout &lt;&lt; s[i]; if (s[i]==' ') break; }
        try {
            std::cout &lt;&lt; "JMBG: " &lt;&lt; p-&gt;DajJMBG() &lt;&lt; "."; 
        }
        catch (std::logic_error e) {
            std::cout &lt;&lt; e.what() &lt;&lt; std::endl; 
        }
    }
    

    
    
  
	return 0;
}</pre>
</body>
</html>
