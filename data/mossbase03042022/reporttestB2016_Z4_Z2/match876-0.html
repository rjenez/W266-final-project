<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z2/student8957.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z2/student8957.cpp<p></p><pre>
/B 2016/2017, ZadaÄ‡a 4, Zadatak 2
//Napomena: testovi ce biti dostupni dan pred rok!
#include &lt;iostream&gt;
#include &lt;string&gt;
#include &lt;vector&gt;
#include &lt;stdexcept&gt;

using namespace std;

class GradjaninBiH
{
    string imePrezime;
    long long int Jmbg;
    int danRodjenja, godinaRodjenja, mjesecRodjenjena, sifraRegije;
    int spol;
public:
    enum Pol {Musko, Zensko};
    GradjaninBiH(std::string ime_i_prezime, long long int jmbg);
    GradjaninBiH(std::string ime_i_prezime, int dan_rodjenja, int mjesec_rodjenja, int godina_rodjenja, int sifra_regije, Pol pol);
<a name="3"></a><font color="#00FFFF"><a href="match876-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_1.gif"/></a>

    std::string DajImeIPrezime() const { return imePrezime; }
    long long int DajJMBG() const { return Jmbg; }
    int DajDanRodjenja() const { return danRodjenja; }
    int DajMjesecRodjenja() const { return mjesecRodjenjena; }
    int DajGodinuRodjenja() const { return godinaRodjenja; }
    int DajSifruRegije() const { return sifraRegije; }
</font>    Pol DajPol() const 
    { 
        if(spol == 1) return GradjaninBiH::Pol::Musko;
        else return GradjaninBiH::Pol::Zensko;
    }
    void PromijeniImeIPrezime(std::string novo_ime) { imePrezime = novo_ime; }
};

GradjaninBiH::GradjaninBiH(std::string ime_i_prezime, long long int jmbg)
{
<a name="4"></a><font color="#FF00FF"><a href="match876-1.html#4" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_1.gif"/></a>

    int kontrolna, c1, c2, c3, c4, c5, c6, c7, c8, c9, c10, c11, c12, c13;
    long long int jmbg1;
    bool validan = true;
</font>
    jmbg1 = jmbg;
    
    c13 = jmbg1 % 10;
    jmbg1 /= 10;
    c12 = jmbg1 % 10;
    jmbg1 /= 10;
    c11 = jmbg1 % 10;
    jmbg1 /= 10;
    c10 = jmbg1 % 10;
    jmbg1 /= 10;
    c9 = jmbg1 % 10;
    jmbg1 /= 10;
    c8 = jmbg1 % 10;
    jmbg1 /= 10;
    c7 = jmbg1 % 10;
    jmbg1 /= 10;
    c6 = jmbg1 % 10;
    jmbg1 /= 10;
    c5 = jmbg1 % 10;
    jmbg1 /= 10;
    c4 = jmbg1 % 10;
    jmbg1 /= 10;
    c3 = jmbg1 % 10;
    jmbg1 /= 10;
    c2 = jmbg1 % 10;
    jmbg1 /= 10;
    c1 = jmbg1 % 10;
    
<a name="0"></a><font color="#FF0000"><a href="match876-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_2.gif"/></a>

    kontrolna = 11 - (7 * (c1 + c7) + 6 * (c2 + c8) + 5 * (c3 + c9) + 4 * (c4 + c10) + 3 * (c5 + c11) + 2 * (c6 + c12)) % 11;
    
    if(kontrolna == 11) kontrolna = 0;
</font>    
    if(kontrolna != c13)
        throw logic_error("JMBG nije validan");
        
    if((c1 * 10 + c2) &lt; 1 || (c1 * 10 + c2) &gt; 31) validan = false; // prevjerava da li je dan izmedju 1-31
    if((c3 * 10 + c4) &lt; 1 || (c3 * 10 + c4) &gt; 12) validan = false; // provjerava da li je mjesec izmedju 1-12
    
    int godina;
    
    if((c5 * 100 + c6 * 10 + c7) &gt;= 917 &amp;&amp; (c5 * 100 + c6 * 10 + c7) &lt;= 999) godina = 1000 + (c5 * 100 + c6 * 10 + c7); // odredjuje godinu
        else godina = 2000 + (c5 * 100 + c6 * 10 + c7);
    
    int brojDana[12]{31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31}; // iskoristit za provjeru imal mjesec 30 ili 31 dan
    
    if((c1 * 10 + c2) &lt; 1 || (c1 * 10 + c2) &gt; brojDana[(c3 * 10 + c4) - 1]) validan = false; // provjera za broj dana u mjesecu
    
    if((c10 + c2) == 29 &amp;&amp; (c3 * 10 + c4) == 2) // provjera da li je ta godina bila prestupna
    {
        if(!(godina % 4 == 0 &amp;&amp; godina % 100 != 0 || godina % 400 == 0)) validan = false;
    }
    
    if(!validan)
        throw logic_error("JMBG nije validan");
    
    if((c10 * 100 + c11 * 10 + c12) &gt;= 0 &amp;&amp; (c10 * 100 + c11 * 10 + c12) &lt;= 499) spol = 1; // odredjivanje spola
    else spol = 2;
    imePrezime = ime_i_prezime;
    Jmbg = jmbg;
    danRodjenja = c1 * 10 + c2;
    mjesecRodjenjena = c3 * 10 + c4;
    godinaRodjenja = godina;
    sifraRegije = c8 * 10 + c9;
    if((c10 * 100 + c11 * 10 + c12) &lt; 500) spol = 1;
    else spol = 2;
}

GradjaninBiH::GradjaninBiH(std::string ime_i_prezime, int dan_rodjenja, int mjesec_rodjenja, int godina_rodjenja, int sifra_regije, Pol pol)
{
    bool validan = true;
    int kontrolna, c1, c2, c3, c4, c5, c6, c7, c8, c9, c10, c11, c12, c13, godina;
    godina = godina_rodjenja;
    
    if(dan_rodjenja &lt; 1 || dan_rodjenja &gt; 31) validan = false;
    if(mjesec_rodjenja &lt; 1 || mjesec_rodjenja &gt; 12) validan = false;
    if(godina_rodjenja &lt; 1917 || godina_rodjenja &gt; 2017) validan = false;
    
    int brojDana[12]{31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31};
    
    if(mjesec_rodjenja &lt;= 12)
        if(dan_rodjenja &lt; 1 || dan_rodjenja &gt; brojDana[mjesec_rodjenja - 1]) validan = false; // provjera za broj dana u mjesecu
    
    if(dan_rodjenja == 29 &amp;&amp; mjesec_rodjenja == 2) // provjera da li je ta godina bila prestupna
    {
        if(!(godina_rodjenja % 4 == 0 &amp;&amp; godina_rodjenja % 100 != 0 || godina_rodjenja % 400 == 0)) validan = false;
    }
    
    if(sifra_regije &lt; 0 || sifra_regije &gt; 99) validan = false; // provjera regije
    
    c9 = sifra_regije % 10;
    sifra_regije /= 10;
    c8 = sifra_regije % 10;
    
    c7 = godina_rodjenja % 10;
    godina_rodjenja /= 10;
    c6 = godina_rodjenja % 10;
    godina_rodjenja /= 10;
    c5 = godina_rodjenja % 10;
    
    c4 = mjesec_rodjenja % 10;
    mjesec_rodjenja /= 10;
    c3 = mjesec_rodjenja % 10;
    
    c2 = dan_rodjenja % 10;
    dan_rodjenja /= 10;
    c1 = dan_rodjenja % 10;
    
    int muskoZensko;
    
    for(;;)
    {
        if(pol == GradjaninBiH::Pol::Musko)
        {
            muskoZensko = 0;
            c12 = muskoZensko % 10;
            muskoZensko /= 10;
            c11 = muskoZensko % 10;
            muskoZensko /= 10;
            c10 = muskoZensko % 10;
            
<a name="1"></a><font color="#00FF00"><a href="match876-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_2.gif"/></a>

            c13 = 11 - (7 * (c1 + c7) + 6 * (c2 + c8) + 5 * (c3 + c9) + 4 * (c4 + c10) + 3 * (c5 + c11) + 2 * (c6 + c12)) % 11;
            
            if(c13 == 10) muskoZensko++;
</font>            else if(c13 == 11) c13 = 0;
            else muskoZensko++;
        }
        else
        {
            muskoZensko = 500;
            c12 = muskoZensko % 10;
            muskoZensko /= 10;
            c11 = muskoZensko % 10;
            muskoZensko /= 10;
            c10 = muskoZensko % 10;
            
            c13 = 11 - (7 * (c1 + c7) + 6 * (c2 + c8) + 5 * (c3 + c9) + 4 * (c4 + c10) + 3 * (c5 + c11) + 2 * (c6 + c12)) % 11;
            
            if(c13 == 10) muskoZensko++;
            else if(c13 == 11) c13 = 0;
            else muskoZensko++;
        }
        
        if(c13 &gt;= 0 &amp;&amp; c13 &lt;= 9) break;
    }
    
    if(!validan)
        throw logic_error("Neispravni podaci");
        
    imePrezime = ime_i_prezime;
    danRodjenja = c1 * 10 + c2;
    mjesecRodjenjena = c3 * 10 + c4;
    godinaRodjenja = godina;
    sifraRegije = c8 * 10 + c9;
    if((c10 * 100 + c11 * 10 + c12) &lt; 500) spol = GradjaninBiH::Pol::Musko;
    else spol = GradjaninBiH::Pol::Zensko;
    
    if((c3 * 10 + c4) &lt; 10)
        Jmbg = c1 * 1000000000000 + c2 * 100000000000 + c4 * 1000000000 + c5 * 100000000 + c6 * 10000000 + c7 * 1000000 + c8 * 100000 + c9 * 10000 + c10 * 1000 + c11 * 100 + c12 * 10 + c13;
    else
        Jmbg = c1 * 1000000000000 + c2 * 100000000000 + c3 * 10000000000 + c4 * 1000000000 + c5 * 100000000 + c6 * 10000000 + c7 * 1000000 + c8 * 100000 + c9 * 10000 + c10 * 1000 + c11 * 100 + c12 * 10 + c13;
}

int main ()
{
    GradjaninBiH *gradjani[100];
    int izbor, brEl = 0;
    char a;
    string imePrezime;
    long long int jmbg;
    int dRodjenja, gRodjenja, mRodjenja, sRegije;
    GradjaninBiH::Pol pol;
    
    cout &lt;&lt; "Koliko gradjana zelite unijeti po JMBG? " &lt;&lt; endl;
    cin &gt;&gt; izbor;
    
    for(int i = 0; i &lt; izbor; i++)
    {
        cin.ignore(1000, '\n');
        cout &lt;&lt; "Unesite ime i prezime (u istom redu): " &lt;&lt; endl;
        getline(cin, imePrezime);
        cout &lt;&lt; "Unesite JMBG: " &lt;&lt; endl;
        cin &gt;&gt; jmbg;
        try
        {
            gradjani[brEl] = new GradjaninBiH(imePrezime, jmbg);
            string spol;
            if(gradjani[brEl]-&gt;DajPol() == GradjaninBiH::Pol::Musko) spol = "musko";
            else spol = "zensko";
            cout &lt;&lt; "Unijeli ste gradjanina " &lt;&lt; gradjani[brEl]-&gt;DajImeIPrezime() &lt;&lt; " rodjenog " &lt;&lt; gradjani[brEl]-&gt;DajDanRodjenja() &lt;&lt; "." &lt;&lt; gradjani[brEl]-&gt;DajMjesecRodjenja() &lt;&lt; "." &lt;&lt; gradjani[brEl]-&gt;DajGodinuRodjenja() &lt;&lt; " u regiji " &lt;&lt; gradjani[brEl]-&gt;DajSifruRegije() &lt;&lt; ", " &lt;&lt; spol &lt;&lt; "." &lt;&lt; endl;
            brEl++;
        }
        catch(logic_error e)
        {
            cout &lt;&lt; e.what() &lt;&lt; endl;
            i--;
        }
    }
    
    cout &lt;&lt; "Koliko gradjana zelite unijeti po datumu rodjenja, regiji i polu? " &lt;&lt; endl;
    cin &gt;&gt; izbor;
    
    for(int i = 0; i &lt; izbor; i++)
    {
        cin.ignore(10000, '\n');
        cout &lt;&lt; "Unesite ime i prezime (u istom redu): " &lt;&lt; endl;
        getline(cin, imePrezime);
        cout &lt;&lt; "Unesite datum rodjenja (format dd/mm/gggg): " &lt;&lt; endl;
        cin &gt;&gt; dRodjenja &gt;&gt; a &gt;&gt; mRodjenja &gt;&gt; a &gt;&gt; gRodjenja;
        cout &lt;&lt; "Unesite sifru regije: " &lt;&lt; endl;
        cin &gt;&gt; sRegije;
        cout &lt;&lt; "Unesite M za musko, Z za zensko: " &lt;&lt; endl;
        cin &gt;&gt; a;
<a name="2"></a><font color="#0000FF"><a href="match876-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_2.gif"/></a>

        if(a == 'M') pol = GradjaninBiH::Pol::Musko;
        else pol = GradjaninBiH::Pol::Zensko;
        try
        {
            gradjani[brEl] = new GradjaninBiH(imePrezime, dRodjenja, mRodjenja, gRodjenja, sRegije, pol);
</font>            string spol;
            cout &lt;&lt; "Unijeli ste gradjanina " &lt;&lt; gradjani[brEl]-&gt;DajImeIPrezime() &lt;&lt; " JMBG: " &lt;&lt; gradjani[brEl]-&gt;DajJMBG() &lt;&lt; "." &lt;&lt; endl;
            brEl++;
        }
        catch(logic_error e)
        {
            cout &lt;&lt; e.what() &lt;&lt; endl;
            i--;
        }
    }

	return 0;
}</pre>
</body>
</html>
