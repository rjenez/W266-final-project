<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z2/student3567.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z2/student4430.cpp<p></p><pre>
<a name="3"></a><font color="#00FFFF"><a href="match364-0.html#3" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_2.gif"/></a>

/B 2016/2017, ZadaÄ‡a 4, Zadatak 2
//Napomena: testovi ce biti dostupni dan pred rok!
#include &lt;iostream&gt;
#include &lt;stdexcept&gt;
using namespace std;
class GradjaninBiH{
  string ime_i_prezime;
  long long int jmbg;
  int dan_rodjenja, mjesec_rodjenja, godina_rodjenja, sifra_regije;
</font>  GradjaninBiH *veza; 
  mutable int m=0, z=500; 
public:
    enum Pol {Musko, Zensko};
    GradjaninBiH(std::string ime_i_prezime, long long int jmbg);
    GradjaninBiH(std::string ime_i_prezime, int dan_rodjenja, int mjesec_rodjenja, int godina_rodjenja, int sifra_regije, Pol pol);
    string DajImeIPrezime() const;
    long long int DajJMBG() const;
    int DajDanRodjenja() const;
    int DajMjesecRodjenja() const;
    int DajGodinuRodjenja() const;
    int DajSifruRegije() const;
    Pol DajPol() const;
    void PromijeniImeIPrezime(std::string novo_ime);
private:
    Pol pol; 
};
GradjaninBiH::GradjaninBiH(string ime_i_prezime, long long int jmbg){
    
    GradjaninBiH::ime_i_prezime=ime_i_prezime; 
    GradjaninBiH::jmbg=jmbg;
<a name="4"></a><font color="#FF00FF"><a href="match364-0.html#4" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_1.gif"/></a>

    long long int c1,c2,c3,c4,c5,c6,c7,c8,c9,c10,c11,c12,c13;
    c13=jmbg%10; jmbg/=10;
</font>    c12=jmbg%10; jmbg/=10;
    c11=jmbg%10; jmbg/=10;
    c10=jmbg%10; jmbg/=10;
    c9=jmbg%10; jmbg/=10;
    c8=jmbg%10; jmbg/=10;
    c7=jmbg%10; jmbg/=10;
    c6=jmbg%10; jmbg/=10;
    c5=jmbg%10; jmbg/=10;
    c4=jmbg%10; jmbg/=10;
    c3=jmbg%10; jmbg/=10;
    c2=jmbg%10; jmbg/=10;
    c1=jmbg%10; jmbg/=10;
    
    int dan=c2+c1*10; 
    
    int mjesec=c4+c3*10; 
    
    int god=c7+c6*10+c5*100; 
    if(c5&gt;0) god=god+1000; 
    else if(c5==0) god=god+2000;
    
    int broj_dana[12]{31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31};
    if(god % 4 == 0 &amp;&amp; god % 100 != 0 || god % 400 == 0) broj_dana[1]++;
    if(god &lt; 1 || dan &lt; 1 || mjesec &lt; 1 || mjesec &gt; 12 || dan &gt; broj_dana[mjesec - 1])
        throw logic_error ("JMBG nije validan"); 
        
    int sifra=c9+c8*10; 
    int p=c12+c11*10+c10*100; 
    if(p&lt;500) pol=Musko; 
    else pol=Zensko; 
     
<a name="0"></a><font color="#FF0000"><a href="match364-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_3.gif"/></a>

    int mojc13=11-(7*(c1+c7)+6*(c2+c8)+5*(c3+c9)+4*(c4+c10)+3*(c5+c11)+2*(c6+c12))%11;
    if(mojc13 == 11) mojc13=0;
</font>    if(mojc13==10 || mojc13!=c13) throw logic_error ("JMBG nije validan"); 
    
    godina_rodjenja=god; 
    dan_rodjenja=dan; 
    mjesec_rodjenja=mjesec; 
    sifra_regije=sifra; 
    
    
}
GradjaninBiH::GradjaninBiH(string ime_i_prezime, int dan_rodjenja, int mjesec_rodjenja, int godina_rodjenja, int sifra_regije, Pol pol){
    GradjaninBiH::ime_i_prezime=ime_i_prezime;
    GradjaninBiH::dan_rodjenja=dan_rodjenja; 
    GradjaninBiH::godina_rodjenja=mjesec_rodjenja; 
    GradjaninBiH::sifra_regije=sifra_regije; 
<a name="5"></a><font color="#FF0000"><a href="match364-0.html#5" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_1.gif"/></a>

    GradjaninBiH::pol=pol; 
     int broj_dana[12]{31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31};
</font>    if(godina_rodjenja % 4 == 0 &amp;&amp; godina_rodjenja % 100 != 0 || godina_rodjenja % 400 == 0) broj_dana[1]++;
    if(godina_rodjenja &lt; 1 || dan_rodjenja &lt; 1 || mjesec_rodjenja &lt; 1 || mjesec_rodjenja &gt; 12 || dan_rodjenja &gt; broj_dana[mjesec_rodjenja - 1])
        throw logic_error ("Neispravni podaci"); 
    long long int c1,c2,c3,c4,c5,c6,c7,c8,c9,c10,c11,c12,c13; 
    c2=dan_rodjenja%10; 
    dan_rodjenja=dan_rodjenja/10; 
    c1=dan_rodjenja%10;
    
    c4=mjesec_rodjenja%10; 
    mjesec_rodjenja=mjesec_rodjenja/10; 
    c3=mjesec_rodjenja%10;  
    
    c7=godina_rodjenja%10;
    godina_rodjenja=godina_rodjenja/10; 
    c6=godina_rodjenja%10; 
    godina_rodjenja=godina_rodjenja/10; 
    c5=godina_rodjenja%10; 
    
    
    
    c9=sifra_regije%10; 
    sifra_regije=sifra_regije/10; 
    c8=sifra_regije%10; 
    
    A:
    if(pol==Musko){
        c12=m%10; 
        m=m/10; 
        c11=m%10; 
        m=m/10; 
        c10=m%10; 
        m++; 
    }
    else if(pol==Zensko){
        c12=z%10; 
        z=z/10; 
        c11=z%10; 
        z=z/10;
        c10=z%10;
        z++; 
    }
<a name="1"></a><font color="#00FF00"><a href="match364-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_2.gif"/></a>

    c13=11-(7*(c1+c7)+6*(c2+c8)+5*(c3+c9)+4*(c4+c10)+3*(c5+c11)+2*(c6+c12))%11;
    if(c13==11) c13=0; 
</font>    if(c13==10)
        goto A;
<a name="2"></a><font color="#0000FF"><a href="match364-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_2.gif"/></a>

    jmbg=c13+c12*10+c11*100+c10*1000+c9*10000+c8*100000+c7*1000000+c6*10000000+c5*100000000+c4*1000000000+c3*10000000000+c2*100000000000+c1*1000000000000;
</font><a name="2"></a><font color="#0000FF"><a href="match364-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_2.gif"/></a>

    
</font>}
string GradjaninBiH::DajImeIPrezime() const{
    return ime_i_prezime; 
}
long long int GradjaninBiH::DajJMBG() const{
    return jmbg; 
}
int GradjaninBiH::DajDanRodjenja() const{
    return dan_rodjenja; 
}
int GradjaninBiH::DajMjesecRodjenja() const{
    return mjesec_rodjenja;
}
int GradjaninBiH::DajGodinuRodjenja() const{
    return godina_rodjenja;
}
int GradjaninBiH::DajSifruRegije() const{
    return sifra_regije; 
}
GradjaninBiH::Pol GradjaninBiH::DajPol() const{
    return pol; 
}
void GradjaninBiH::PromijeniImeIPrezime(string novo_ime){
    ime_i_prezime=novo_ime; 
}
int main ()
{   
    GradjaninBiH* gradjani[100]; 
    int po_jmbg; 
    cout &lt;&lt; "Koliko gradjana zelite unijeti po JMBG? "; 
    cin &gt;&gt; po_jmbg; 
    string ime_i_prezime; 
    GradjaninBiH *pocetak(nullptr), *prethodni; 
    long long int jmbg; 
    for(int i=0; i&lt;po_jmbg; i++){
        
        cout &lt;&lt; endl &lt;&lt; "Unesite ime i prezime (u istom redu): ";
        cin.ignore(10000, '\n');
        getline(cin, ime_i_prezime); 
        cout &lt;&lt; endl &lt;&lt;"Unesite JMBG: "; 
        cin &gt;&gt; jmbg; 
        try{
        gradjani[i]=new GradjaninBiH(ime_i_prezime,jmbg);
        cout &lt;&lt; endl &lt;&lt; "Unijeli ste gradjanina " &lt;&lt; gradjani[i]-&gt;GradjaninBiH::DajImeIPrezime() &lt;&lt; " rodjenog "; 
        cout &lt;&lt; gradjani[i]-&gt;DajDanRodjenja() &lt;&lt; "." &lt;&lt; gradjani[i]-&gt;DajMjesecRodjenja() &lt;&lt; "." &lt;&lt; gradjani[i]-&gt;DajGodinuRodjenja() &lt;&lt; " u regiji " &lt;&lt; gradjani[i]-&gt;DajSifruRegije() &lt;&lt; ", "; 
        if(gradjani[i]-&gt;DajPol()==0) cout &lt;&lt; "musko.";
        else cout &lt;&lt; "zensko.";
        
        }
        catch(logic_error poruka){
            cout &lt;&lt; endl &lt;&lt; poruka.what(); 
            i--; 
        }
    }
    string ime; 
    cout &lt;&lt; endl; 
    int po_ostalom;
    char znak, znak1, znak2; 
    int sifra; 
    int dan, mjesec, godina;
    GradjaninBiH::Pol pol;
    cout &lt;&lt; "Koliko gradjana zelite unijeti po datumu rodjenja, regiji i polu? "; 
    cin &gt;&gt; po_ostalom;
    
    cin.ignore(10000, '\n');
    for(int i=po_jmbg; i&lt;po_ostalom+po_jmbg; i++){
        
            cout &lt;&lt; endl &lt;&lt; "Unesite ime i prezime (u istom redu): "; 
            
            getline(cin, ime); 
            cout &lt;&lt; endl &lt;&lt; "Unesite datum rodjenja (format dd/mm/gggg): "; 
            cin &gt;&gt; dan &gt;&gt; znak1 &gt;&gt; mjesec &gt;&gt; znak2&gt;&gt; godina; 
            cout &lt;&lt; endl &lt;&lt; "Unesite sifru regije: "; 
            cin &gt;&gt; sifra; 
            cout &lt;&lt; endl &lt;&lt; "Unesite M za musko, Z za zensko: "; 
            cin &gt;&gt; znak;
            if(znak=='M') pol=GradjaninBiH::Musko; 
            else if(znak=='Z') pol=GradjaninBiH::Zensko;
            
        cin.ignore(10000, '\n');
        try{
            gradjani[i]=new GradjaninBiH(ime,dan,mjesec,godina,sifra,pol);
            cout &lt;&lt;endl &lt;&lt; "Unijeli ste gradjanina " &lt;&lt; gradjani[i]-&gt;GradjaninBiH::DajImeIPrezime() &lt;&lt; " JMBG: " &lt;&lt; gradjani[i]-&gt;GradjaninBiH::DajJMBG() &lt;&lt; ".";
        }
        catch(logic_error poruka){
            cout &lt;&lt; endl &lt;&lt;  poruka.what(); 
            i--;
        }
    }
    for(int i=0; i&lt;po_jmbg+po_ostalom; i++)
        delete gradjani[i]; 
    
	return 0;
}</pre>
</body>
</html>
