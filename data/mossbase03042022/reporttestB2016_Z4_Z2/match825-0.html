<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z2/student1477.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z2/student1477.cpp<p></p><pre>
/B 2016/2017, ZadaÄ‡a 4, Zadatak 2
//Napomena: testovi ce biti dostupni dan pred rok!
#include &lt;iostream&gt;
#include &lt;string&gt;
#include &lt;stdexcept&gt;

class GradjaninBiH
{
    std::string ime_i_prezime;
    long long int jmbg;
    GradjaninBiH* pok {nullptr};
    static GradjaninBiH* pok2;


public:
    enum Pol {Musko, Zensko};
    GradjaninBiH(std::string ime_i_prezime, long long int jmbg) {
        GradjaninBiH::ime_i_prezime=ime_i_prezime;
        GradjaninBiH::jmbg=jmbg;
        long long int j=jmbg;
        int kontrolna_cifra;
        kontrolna_cifra=11-(7*(jmbg/1000000000000+(jmbg/1000000)%10)+6*((jmbg/100000000000)%10+(jmbg/100000)%10)+5*((jmbg/10000000000)%10+(jmbg/10000)%10)+4*((jmbg/1000000000)%10+(jmbg/1000)%10)+3*((jmbg/100000000)%10+(jmbg/100)%10)+2*((jmbg/10000000)%10+(jmbg/10)%10))%11;
        if(kontrolna_cifra==11) kontrolna_cifra=0;
        int mjesec=(jmbg/1000000000)%100;
        int dan=jmbg/100000000000;
        int godina=(jmbg/1000000)%1000;
        if(godina&gt;0 &amp;&amp; godina&lt;=17) godina+=2000;
        else godina+=1000;
        int prestupna(0), pogresna(0);
        if(godina % 4 == 0 &amp;&amp; godina % 100 != 0 || godina % 400 == 0)prestupna=1;
        int broj_dana[] {31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31};
        if(prestupna &amp;&amp; mjesec==2 &amp;&amp; dan==28) pogresna=1;
        for(auto it=pok2; it!=nullptr; it=it-&gt;pok) {
            if(it-&gt;jmbg==j)throw std::logic_error("Vec postoji gradjanin sa istim JMBG");
        }
        pok2=pok;
        pok=this;
        if(kontrolna_cifra==10 || dan&lt;1|| dan&gt;broj_dana[mjesec-1] || mjesec&lt;1 || mjesec &gt;12  || godina&gt;2017 || pogresna) throw std::logic_error("JMBG nije validan");

    }
    GradjaninBiH(std::string ime_i_prezime, int dan_rodjenja, int mjesec_rodjenja, int godina_rodjenja, int sifra_regije, Pol pol) {


        int broj_dana[] {31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31};
        int prestupna(0), pogresna(0);
        if(godina_rodjenja % 4 == 0 &amp;&amp; godina_rodjenja % 100 != 0 || godina_rodjenja % 400 == 0) prestupna=1;
        if(prestupna==1 &amp;&amp; mjesec_rodjenja==2 &amp;&amp; dan_rodjenja==28) pogresna=1;
        long long int j(0);
        j+=dan_rodjenja;
        j*=100;

        j+=(mjesec_rodjenja);
        j*=1000;
        j+=(godina_rodjenja%1000);
        j*=100;
        j+=sifra_regije;
        j*=1000;
        int nema=0;
        long long int k(500), l(0);
        if(pol==Zensko)j+=k;
        else j+=l;
        for(auto it=pok2; it!=nullptr; it=it-&gt;pok) {
            if(it-&gt;DajPol()==Zensko &amp;&amp;  it-&gt;jmbg/4==j) {
                j++;
                it=pok2;

            }
            if(it-&gt;DajPol()==Musko &amp;&amp; it-&gt;jmbg/4==j) {
                j++;
                it=pok2;
            } else {
                nema=1;
            }
        }

        if(nema &amp;&amp; pol==Musko) {
            j=k;
            GradjaninBiH::jmbg=j;
        }
        if(nema &amp;&amp; pol==Zensko) {
            j=l;
            GradjaninBiH::jmbg=j;
        }
        j*=10;
        int kontrolna_cifra(0);
        kontrolna_cifra=11-(7*(j/1000000000000+(j/1000000)%10)+6*((j/100000000000)%10+(j/100000)%10)+5*((j/10000000000)%10+(j/10000)%10)+4*((j/1000000000)%10+(j/1000)%10)+3*((j/100000000)%10+(j/100)%10)+2*((j/10000000)%10+(j/10)%10))%11;
        if(kontrolna_cifra==11) kontrolna_cifra=0;
        j+=kontrolna_cifra;
        if(kontrolna_cifra==10 || godina_rodjenja &lt; 1917 || godina_rodjenja&gt;2017 || mjesec_rodjenja&lt; 1 || mjesec_rodjenja&gt;12 || dan_rodjenja&lt;1 || dan_rodjenja&gt;broj_dana[mjesec_rodjenja-1] || sifra_regije&lt;0 || sifra_regije&gt;99 || pogresna) throw std::logic_error("Neispravni podaci");

        for(auto it=pok2; it!=nullptr; it=it-&gt;pok) {
            if(it-&gt;jmbg==j)throw std::logic_error("Vec postoji gradjanin sa istim JMBG");
        }
        pok2=pok;
        pok=this;
        GradjaninBiH::jmbg=j;
        GradjaninBiH::ime_i_prezime=ime_i_prezime;
    }
    std::string DajImeIPrezime() const {
        return ime_i_prezime;
    }
    GradjaninBiH(const GradjaninBiH &amp;g)=delete;
    GradjaninBiH &amp;operator=(const GradjaninBiH &amp;g)=delete;

    long long int DajJMBG() const {
        return jmbg;
    }
    int DajDanRodjenja() const {
        return jmbg/100000000000;
    }
    int DajMjesecRodjenja() const {
        return (jmbg/1000000000)%100;
    }
    int DajGodinuRodjenja() const {
        int godina=(jmbg/1000000)%1000;
        if(godina&gt;0 &amp;&amp; godina&lt;=17) godina+=2000;
        else godina+=1000;
        return godina;
    }
    int DajSifruRegije() const {
        return (jmbg/10000)%100;
    }
    Pol DajPol() const {
        int x;
        x=(jmbg/10)%1000;
        if(x&gt;=0 &amp;&amp; x&lt;500) return Pol(Musko);
        if(x&gt;=500 &amp;&amp; x&lt;1000) return Pol(Zensko);
    }
    void PromijeniImeIPrezime(std::string novo_ime) {
        ime_i_prezime=novo_ime;
    }
};
GradjaninBiH*GradjaninBiH::pok2(nullptr);

<a name="1"></a><font color="#00FF00"><a href="match825-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_2.gif"/></a>

int main ()
{
    std::cout&lt;&lt;"Koliko gradjana zelite unijeti po JMBG? "&lt;&lt;std::endl;
    int n;
    std::cin&gt;&gt;n;
    std::cin.ignore(1000,'\n');
    for(int i=0; i&lt;n; i++) {
        std::cout&lt;&lt;"Unesite ime i prezime (u istom redu): ";
</font>        std::string ime_i_prezime;
        std::getline(std::cin, ime_i_prezime);
        std::cout&lt;&lt;std::endl;
        std::cout&lt;&lt;"Unesite JMBG: "&lt;&lt;std::endl;
        long long int jmbg;
        try {
            std::cin&gt;&gt;jmbg;
            GradjaninBiH g(ime_i_prezime, jmbg);
<a name="2"></a><font color="#0000FF"><a href="match825-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_1.gif"/></a>

            std::cout&lt;&lt;"Unijeli ste gradjanina "&lt;&lt;g.DajImeIPrezime()&lt;&lt;" rodjenog "&lt;&lt;g.DajDanRodjenja()&lt;&lt;"."&lt;&lt;g.DajMjesecRodjenja()&lt;&lt;"."&lt;&lt;g.DajGodinuRodjenja()&lt;&lt;" u regiji "&lt;&lt;g.DajSifruRegije()&lt;&lt;", ";
            if(g.DajPol())std::cout&lt;&lt;"zensko."&lt;&lt;std::endl;
</font><a name="3"></a><font color="#00FFFF"><a href="match825-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_1.gif"/></a>

            else std::cout &lt;&lt; "musko." &lt;&lt; std::endl;
        } catch(std::logic_error izuzetak) {
</font>            i--;
            std::cout&lt;&lt;izuzetak.what()&lt;&lt;std::endl;
        }
        std::cin.ignore(1000,'\n');
    }
    std::cout&lt;&lt;"Koliko gradjana zelite unijeti po datumu rodjenja, regiji i polu? "&lt;&lt;std::endl;
    int m;
    std::cin&gt;&gt;m;
    std::cin.ignore(1000,'\n');
    for(int i=0; i&lt;m; i++) {
        try {
            std::cout&lt;&lt;"Unesite ime i prezime (u istom redu): ";
            std::string ime;
            std::getline(std::cin, ime);
            std::cout&lt;&lt;std::endl;
<a name="0"></a><font color="#FF0000"><a href="match825-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_5.gif"/></a>

            std::cout&lt;&lt;"Unesite datum rodjenja (format dd/mm/gggg): "&lt;&lt;std::endl;
            char znak;
            int d, mj, g;

            std::cin &gt;&gt; d &gt;&gt; znak &gt;&gt; mj &gt;&gt; znak &gt;&gt; g;
            std::cout&lt;&lt;"Unesite sifru regije: "&lt;&lt;std::endl;
            int sr;
            std::cin&gt;&gt;sr;
            std::cout&lt;&lt;"Unesite M za musko, Z za zensko: "&lt;&lt;std::endl;
            char slovo;
            std::cin&gt;&gt;slovo;
</font>            if(slovo=='M') {
                GradjaninBiH g1(ime, d,mj,g, sr, GradjaninBiH::Pol::Musko);
                std::cout&lt;&lt;"Unijeli ste gradjanina "&lt;&lt;g1.DajImeIPrezime()&lt;&lt;" JMBG: "&lt;&lt;g1.DajJMBG()&lt;&lt;"."&lt;&lt;std::endl;

            }
            if(slovo=='Z') {
                GradjaninBiH g1(ime, d,mj,g, sr, GradjaninBiH::Pol::Zensko);
                std::cout&lt;&lt;"Unijeli ste gradjanina "&lt;&lt;g1.DajImeIPrezime()&lt;&lt;" JMBG: "&lt;&lt;g1.DajJMBG()&lt;&lt;"."&lt;&lt;std::endl;

            }
        } catch(std::logic_error izuzetak) {
            i--;
            std::cout&lt;&lt;izuzetak.what()&lt;&lt;std::endl;
        }
        std::cin.ignore(1000,'\n');
    }

    return 0;
}</pre>
</body>
</html>
