<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z2/student8428.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z2/student8319.cpp<p></p><pre>
/B 2016/2017, ZadaÄ‡a 4, Zadatak 2
//Napomena: testovi ce biti dostupni dan pred rok!
#include &lt;iostream&gt;
#include &lt;string&gt;
#include &lt;deque&gt;
#include &lt;stdexcept&gt;

enum Pol{Musko, Zensko};

/*class Datum {
  int dan, mjesec, godina; 
  public:
  Datum(int d, int m, int g);
  void Postavi(int d, int m, int g);
  int DajDan() const {return dan;}
  int DajMjesec() const {return mjesec;}
  int DajGodinu() const {return godina;}
};

void Datum::Postavi(int d, int m, int g) {
    int mjeseci[] {31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31};
    if(g % 4 == 0 &amp;&amp; g % 100 != 0 || g % 400 == 0) mjeseci[1]++;
    if(d &lt; 1 || m &lt; 1 || g &lt; 1 || d &gt; mjeseci[m - 1] || m &gt; 12) throw std::logic_error("Neispravni podaci");
    dan = d; mjesec = m; godina = g;
}

Datum::Datum(int d, int m, int god) {
    int mjeseci[] {31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31};
    if(god % 4 == 0 &amp;&amp; god % 100 != 0 || god % 400 == 0) mjeseci[1]++;
    if(d &lt; 1 || m &lt; 1 || god &lt; 1 || d &gt; mjeseci[m - 1] || m &gt; 12) throw std::logic_error("Neispravni podaci");
    dan = d; mjesec = m; godina = god;
}*/

class GradjaninBiH {
    std::string ime_i_prezime;
    long long int JMBG;
    //Datum dan_rodjenja;
    int dan, mjesec, godina;
    Pol poll;
    GradjaninBiH* prethodni=nullptr;
    static GradjaninBiH* posljednji;
    public:
    //enum Pol{Musko, Zensko};
<a name="1"></a><font color="#00FF00"><a href="match721-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_1.gif"/></a>

    GradjaninBiH(std::string ime_i_prezime, long long int jmbg);
    GradjaninBiH(std::string ime_i_prezime, int dan_rodjenja, int mjesec_rodjenja, int godina_rodjenja, int sifra_regije, Pol pol);
    ~GradjaninBiH();
    std::string DajImeIPrezime() const;
</font>    long long int DajJMBG() const;
    int DajDanRodjenja() const;
    int DajMjesecRodjenja() const;
    int DajGodinuRodjenja() const;
    int DajSifruRegije() const;
    Pol DajPol() const;
    void PromijeniImeIPrezime(std::string novo_ime);
    void Ispisi() const {
        std::cout &lt;&lt; ime_i_prezime &lt;&lt; " " &lt;&lt; JMBG &lt;&lt; " " &lt;&lt; dan &lt;&lt; "/" &lt;&lt; mjesec &lt;&lt; "/" &lt;&lt; godina &lt;&lt; " " &lt;&lt; poll &lt;&lt; std::endl;
    }
};

GradjaninBiH* GradjaninBiH::posljednji = nullptr;

GradjaninBiH::~GradjaninBiH() {
    if(prethodni == nullptr &amp;&amp; posljednji == this) {}
    else if(prethodni == nullptr) {
        GradjaninBiH* pom(posljednji);
        while(pom-&gt;prethodni  != this) {
            pom = pom-&gt;prethodni;
        }
        pom-&gt;prethodni = nullptr;
    }
    else if(this == posljednji) {
        posljednji = posljednji-&gt;prethodni;
        this-&gt;prethodni = nullptr;
    }
    else {
        GradjaninBiH* pom(posljednji);
        while (pom-&gt;prethodni != this) {
            pom = pom-&gt;prethodni;
        }
        pom-&gt;prethodni = this-&gt;prethodni;
        this-&gt;prethodni = nullptr;
    }
}

GradjaninBiH::GradjaninBiH(std::string ime_i_prezime, long long int jmbg) {
    if(prethodni == nullptr){
        posljednji = this;
    }
    else {
        this-&gt;prethodni = posljednji;
        posljednji = this;
        
    }
    GradjaninBiH* pomoc(posljednji);
    while(pomoc != nullptr) {
        //if(pomoc-&gt;JMBG == jmbg) throw std::logic_error("Vec postoji gradjanin sa istim JMBG");
        pomoc = pomoc-&gt;prethodni;
    }
    int dek[13];
    long long int pom(jmbg);
    int brojac{};
    while(pom != 0) {
        int br(pom%10);
        dek[brojac] = br;
        brojac++;
        pom /= 10;
    }
    //for(int i = 0; i &lt; 13; i++) std::cout &lt;&lt; dek[i] &lt;&lt; " ";
<a name="0"></a><font color="#FF0000"><a href="match721-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_1.gif"/></a>

    int c(11 - (7 * (dek[12] + dek[6]) + 6 * (dek[11] + dek[5]) + 5 * (dek[10] + dek[4]) + 4 * (dek[9] + dek[3]) + 3 * (dek[8] + dek[2])
    + 2 * (dek[1] + dek[7]))%11);
    if(c == 10) throw std::logic_error("JMBG nije validan\n");
    if(c == 11) c=0;
</font>    int dan((dek[12] * 10) + dek[11]), mjesec((dek[10] * 10) + dek[9]), godina((dek[8] * 100) + (dek[7] * 10) + dek[6]);
    if (godina &lt;= 917) godina += 2000;
    if(godina &gt; 917 &amp;&amp; godina &lt;= 999) godina += 1000; 
    int mjeseci[12] {31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31};
    if(godina % 4 == 0 &amp;&amp; (godina % 100 != 0 || godina % 400 == 0)) mjeseci[1]++;
<a name="3"></a><font color="#00FFFF"><a href="match721-0.html#3" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_1.gif"/></a>

    if(dan &lt; 1 || dan &gt; mjeseci[mjesec - 1] || mjesec &lt; 1 || mjesec &gt; 12 || godina &lt; 1 || godina &gt; 2017) throw std::logic_error("JMBG nije validan\n");
</font>    if(dek[3] &gt;= 0 &amp;&amp; dek[3] &lt; 5) poll = Musko;
    if(dek[3] &gt;= 5 &amp;&amp; dek[3] &lt; 10) poll = Zensko;
    GradjaninBiH::dan = dan; GradjaninBiH::mjesec = mjesec; GradjaninBiH::godina=godina;
    JMBG = jmbg;
    GradjaninBiH::ime_i_prezime = ime_i_prezime;
}

GradjaninBiH::GradjaninBiH(std::string ime_i_prezime, int dan_rodjenja, int mjesec_rodjenja, int godina_rodjenja, int sifra_regije, Pol pol){
    int mjeseci[12] {31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31};
    //std::cout &lt;&lt; mjesec_rodjenja &lt;&lt; std::endl;
    //std::cout &lt;&lt; godina_rodjenja &lt;&lt; std::endl;
    //std::cout &lt;&lt; sifra_regije &lt;&lt; std::endl;
    if(godina_rodjenja % 4 == 0 &amp;&amp; (godina_rodjenja % 100 != 0 || godina_rodjenja % 400 == 0)) mjeseci[1]++;
    if(dan_rodjenja &lt; 1 || mjesec_rodjenja &lt; 1 || mjesec_rodjenja &gt; 12 || dan_rodjenja &gt; mjeseci[mjesec_rodjenja - 1] || 
    godina_rodjenja &lt; 1850 || godina_rodjenja &gt; 2017 || sifra_regije &lt; 0 || sifra_regije &gt; 99) throw std::logic_error("Neispravni podaci\n");
    GradjaninBiH::ime_i_prezime = ime_i_prezime;
    dan = dan_rodjenja;
    mjesec = mjesec_rodjenja;
    godina = godina_rodjenja;
    poll = pol;
    int pomocni1(godina_rodjenja);
    int brojac1{};
    int dek1[4];
    while(pomocni1 != 0) {
        int br(pomocni1%10);
        dek1[brojac1] = br;
        brojac1++;
        pomocni1 /= 10;
    }
    long long int  pom2(mjesec_rodjenja * 100000000);
    long long int pom1(dan_rodjenja * 100000000000), pom3(((dek1[2] * 100 + dek1[1] * 10 + dek1[0])) * 1000000), 
    pom4(sifra_regije * 10000);
    //std::cout &lt;&lt; pom2 &lt;&lt; std::endl;
    long int pom5(0);
    if(pol == Musko || pol == 0) pom5 = 0;
    if(pol == Zensko || pol == 1) pom5 = 500;
    //GradjaninBiH* pomocni(posljednji);
    /*if(pol == Musko) {
        while(pomocni-&gt;DajPol() != Zensko &amp;&amp; pomocni != nullptr) {
            pomocni = pomocni-&gt;prethodni;
        }
        if(pomocni == nullptr) pom5 = 0;
        long long int pom(pomocni-&gt;DajJMBG());
        int niz[13];
        int bojac{};
        while(pom != 0) {
            int br(pom%10);
            niz[bojac] = br;
            bojac++;
            pom /= 10;
        }
        pom5 = niz[1] + niz[2] * 10 + niz[3] * 100;
        pom5++;
    }
    else if(pol == Zensko) {
        while(pomocni-&gt;DajPol() != Musko &amp;&amp; pomocni != nullptr) {
            pomocni = pomocni-&gt;prethodni;
        }
        if(pomocni == nullptr) pom5 = 500;
        long long int pomo(pomocni-&gt;DajJMBG());
        int niz[13];
        int bojac{};
        while(pomo != 0) {
            int br(pomo%10);
            niz[bojac] = br;
            bojac++;
            pomo /= 10;
        }
        pom5 = niz[1] + niz[2] * 10 + niz[3] * 100;
        pom5++;
    }*/
    //std::cout &lt;&lt; pom5 &lt;&lt; std::endl;
    JMBG = pom1 + pom2*10 + pom3 + pom4 + pom5*10;
    int dek[13];
    long long int pom(JMBG);
    int brojac{};
    while(pom != 0) {
        int br(pom%10);
        dek[brojac] = br;
        brojac++;
        pom /= 10;
    }
<a name="4"></a><font color="#FF00FF"><a href="match721-0.html#4" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_1.gif"/></a>

    int c(11 - (7 * (dek[12] + dek[6]) + 6 * (dek[11] + dek[5]) + 5 * (dek[10] + dek[4]) + 4 * (dek[9] + dek[3]) + 3 * (dek[8] + dek[2])
    + 2 * (dek[1] + dek[7]))%11);
    if(c == 11) c = 0;
    JMBG = pom1 + pom2*10 + pom3 + pom4 + pom5*10 + c;
</font>    //std::cout &lt;&lt; JMBG &lt;&lt; std::endl;
}

std::string GradjaninBiH::DajImeIPrezime() const {
    return ime_i_prezime;
}

long long int GradjaninBiH::DajJMBG() const {
    return JMBG;
}

int GradjaninBiH::DajDanRodjenja() const {
    return dan;
}

int GradjaninBiH::DajMjesecRodjenja() const {
    return mjesec;
}
    
int GradjaninBiH::DajGodinuRodjenja() const{
    return godina;
}

int GradjaninBiH::DajSifruRegije() const {
    int niz[13];
    long long int pom(DajJMBG());
    int br{};
    while(pom != 0) {
        int broj(pom%10);
        niz[br] = broj;
        br++;
        pom /= 10;
    }
    int vracam(niz[5] * 10 + niz[4]);
    return vracam;
}

Pol GradjaninBiH::DajPol() const {
    return poll;
}

void GradjaninBiH::PromijeniImeIPrezime(std::string novo_ime) {
    ime_i_prezime = novo_ime;
}

int main ()
{
    GradjaninBiH* niz[100];
    for(int i = 0; i &lt; 100; i++) niz[i] = nullptr;
    std::cout &lt;&lt; "Koliko gradjana zelite unijeti po JMBG? \n";
    int n;
    std::cin &gt;&gt; n;
    //std::cout &lt;&lt;  std::endl;
    //std::cin.ignore();
    //std::cin.clear();
    for(int i = 0; i &lt; n; i++) {
        try{
        std::cout &lt;&lt; "Unesite ime i prezime (u istom redu): \n";
        std::cin.ignore(10000, '\n');
        std::cin.clear();
        std::string pom;
        std::getline(std::cin, pom);
        //std::cout &lt;&lt;  std::endl;
        std::cout &lt;&lt; "Unesite JMBG: \n";
        long long int jmbg;
        std::cin &gt;&gt; jmbg;
        try{
<a name="2"></a><font color="#0000FF"><a href="match721-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_1.gif"/></a>

            niz[i] = new GradjaninBiH(pom, jmbg);
        std::cout &lt;&lt; "Unijeli ste gradjanina " &lt;&lt; niz[i]-&gt;DajImeIPrezime() &lt;&lt; " rodjenog " &lt;&lt; 
        niz[i]-&gt;DajDanRodjenja() &lt;&lt; "." &lt;&lt; niz[i]-&gt;DajMjesecRodjenja() &lt;&lt; "." &lt;&lt; niz[i]-&gt;DajGodinuRodjenja() &lt;&lt; " u regiji " &lt;&lt;
</font>        niz[i]-&gt;DajSifruRegije() &lt;&lt; ", ";
        int a(niz[i]-&gt;DajPol());
        if(a == 0) std::cout &lt;&lt; "musko.";
        if(a == 1) std::cout &lt;&lt; "zensko.";
        //std::cout &lt;&lt;  std::endl;
        std::cout &lt;&lt; std::endl;
        }
        catch(std::bad_alloc){
            delete niz[i];
            niz[i] = nullptr;
        }
        //std::cin.ignore();
        //std::cin.clear();
        }
        catch(std::logic_error izuzetak) {
            std::cout &lt;&lt; izuzetak.what();
            //std::cin.clear();
            //std::cin.ignore(10000, '\n');
            i--;
        }
    
    }
    std::cout &lt;&lt; "Koliko gradjana zelite unijeti po datumu rodjenja, regiji i polu? \n";
    int m;
    std::cin &gt;&gt; m;
    //std::cin.ignore(10000, '\n');
    //std::cin.clear();
    for(int i = n; i &lt; m + n; i++) {
        try{
        std::cout &lt;&lt; "Unesite ime i prezime (u istom redu): \n";
        std::cin.ignore(10000, '\n');
        std::cin.clear();
        std::string pom;
        std::getline(std::cin, pom);
        //std::cout &lt;&lt;  std::endl;
        std::cout &lt;&lt; "Unesite datum rodjenja (format dd/mm/gggg): \n";
<a name="5"></a><font color="#FF0000"><a href="match721-0.html#5" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_1.gif"/></a>

        char znak;
        int dan,mjesec,godina;
        std::cin &gt;&gt; dan &gt;&gt; znak &gt;&gt; mjesec &gt;&gt; znak &gt;&gt; godina;
        std::cin.clear();
</font>        //std::cin.ignore(10000, '\n');
        std::cout &lt;&lt; "Unesite sifru regije: \n";
        int regija;
        std::cin &gt;&gt; regija;
        //std::cin.clear();
        //std::cin.ignore(10000, '\n');
        std::cout &lt;&lt; "Unesite M za musko, Z za zensko: \n";
        char slovo;
        std::cin &gt;&gt; slovo;
        //std::cin.clear();
        //std::cin.ignore(10000, '\n');
        Pol pol;
        if(slovo == 'M') pol = Musko;
        if(slovo == 'Z') pol = Zensko;
        try{
        niz[i+n] = new GradjaninBiH(pom, dan, mjesec, godina, regija, pol);
        std::cout &lt;&lt; "Unijeli ste gradjanina " &lt;&lt; niz[i+n]-&gt;DajImeIPrezime() &lt;&lt; " JMBG: " &lt;&lt; niz[i+n]-&gt;DajJMBG() &lt;&lt; ".";
        std::cout &lt;&lt; std::endl;
        //std::cin.ignore();
        //std::cin.clear();
        }
        catch(std::bad_alloc) {
            delete niz[i];
            niz[i] = nullptr;
        }
        }
        catch(std::logic_error izuzetak) {
            std::cout &lt;&lt; izuzetak.what();
            i--;
            //std::cin.ignore();
            //std::cin.clear();
        }
    }
    /*try{
    GradjaninBiH gradjanin("Rogo Arnes", 2731996131538);
    gradjanin.Ispisi();
    std::cout &lt;&lt; gradjanin.DajJMBG();
    }
    catch(std::logic_error izuzetak) {
        std::cout &lt;&lt; izuzetak.what();
    }*/
    return 0;
}</pre>
</body>
</html>
