<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z2/student5581.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z2/student6720.cpp<p></p><pre>
#include &lt;iostream&gt;
#include &lt;string&gt;
#include &lt;stdexcept&gt;

class GradjaninBiH{
    GradjaninBiH *prethodni=nullptr;
    long long int jmbg;
    std::string ime_i_prezime;
    int dan_rodjenja,mjesec_rodjenja,godina_rodjenja,sifra_regije, kod_osobe;
    bool IspravanDatum(int dan, int mjesec, int godina);
    static GradjaninBiH* posljedni;
    int DajKod(int donja, int gornja);
    public:
    GradjaninBiH* DajPrethodni(){return prethodni;}
    ~GradjaninBiH(){
        if(posljedni==this)
            posljedni=this-&gt;prethodni;
        else
            if(prethodni==nullptr)
                posljedni=this-&gt;prethodni;
            else
                for(auto kraj=posljedni; kraj!=nullptr; kraj=kraj-&gt;prethodni)
                    if(kraj-&gt;prethodni==this){
                        kraj-&gt;prethodni=this-&gt;prethodni;
                        break;
                    }
    }
    enum Pol {Musko, Zensko}pol;
    GradjaninBiH(std::string ime_i_prezime, long long int jmbg);
    GradjaninBiH(std::string ime_i_prezime, int dan_rodjenja, int mjesec_rodjenja, int godina_rodjenja, int sifra_regije, Pol pol);
    std::string DajImeIPrezime () const{return ime_i_prezime;}
    long long int DajJMBG() const{return jmbg;}
<a name="0"></a><font color="#FF0000"><a href="match198-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_3.gif"/></a>

    int DajDanRodjenja () const{return dan_rodjenja;}
    int DajMjesecRodjenja () const{return mjesec_rodjenja;}
    int DajGodinuRodjenja () const{return godina_rodjenja;}
    int DajSifruRegije() const{return sifra_regije;}
    Pol DajPol() const{return pol;}
    void PromijeniImeIPrezime(std::string novo_ime){this-&gt;ime_i_prezime=novo_ime;}
};

bool GradjaninBiH::IspravanDatum(int dan, int mjesec, int godina){
    int broj_dana[]{31,28,31,30,31,30,31,31,30,31,30,31};
</font>    if((godina%4==0 &amp;&amp; godina%100!=0) || godina%400==0)
        broj_dana[1]++;
<a name="3"></a><font color="#00FFFF"><a href="match198-0.html#3" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_1.gif"/></a>

    if(godina&lt;1917 || godina&gt;2017 || mjesec&lt;1 || mjesec&gt;12 || dan&lt;1 || dan&gt;broj_dana[mjesec-1])
        return false;
    return true;
}

GradjaninBiH *GradjaninBiH::posljedni=nullptr;

GradjaninBiH::GradjaninBiH(std::string ime_i_prezime, long long int jmbg){
</font>    int c[13],i; c[0]=0;
    for(i=12;i&gt;=0 &amp;&amp; jmbg;--i, jmbg/=10)
        c[i]=jmbg%10;
    if(i&gt;1 || jmbg!=0 || c[12]&lt;0)
        throw std::logic_error("JMBG nije validan");
    int g=c[4]*100+c[5]*10+c[6], c13=11-(7*(c[0]+c[6])+6*(c[1]+c[7])+5*(c[2]+c[8])+4*(c[3]+c[9])+3*(c[4]+c[10])+2*(c[5]+c[11]))%11;
    if(g&lt;=17) g+=2000; else g+=1000;
    if(!IspravanDatum(c[0]*10+c[1],c[2]*10+c[3],g) || c13==10 || (c13==11 &amp;&amp; c[12]!=0) || (c13!=11 &amp;&amp; c13!=c[12]))
        throw std::logic_error("JMBG nije validan");
    
    for(auto kraj=this-&gt;prethodni;kraj!=nullptr;kraj=kraj-&gt;prethodni)
        if(this-&gt;GradjaninBiH::DajJMBG()==kraj-&gt;GradjaninBiH::DajJMBG())
            throw std::logic_error("Vec postoji gradjanin sa istim JMBG");
            
    this-&gt;kod_osobe=c[9]*100+c[10]*10+c[11]; this-&gt;jmbg=jmbg; this-&gt;ime_i_prezime=ime_i_prezime; this-&gt;dan_rodjenja=c[0]*10+c[1]; this-&gt;mjesec_rodjenja=c[2]*10+c[3]; this-&gt;godina_rodjenja=g; this-&gt;sifra_regije=c[7]*10+c[8];
    if(kod_osobe&lt;500)
        this-&gt;pol=Pol::Musko; else this-&gt;pol=Pol::Zensko;
    if(posljedni!=nullptr)
        this-&gt;prethodni=posljedni;
    posljedni=this;
}

int GradjaninBiH::DajKod(int donja, int gornja){
    for(int i=donja;i&lt;=gornja;i++){
        bool nadjen(false);
        for(auto kraj=this-&gt;prethodni; kraj!=nullptr; kraj=kraj-&gt;prethodni)
            if(i==kraj-&gt;kod_osobe){
                nadjen=true; break;
            }
        if(nadjen==false)
            return i;
    }
    return -1;
}

<a name="2"></a><font color="#0000FF"><a href="match198-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_1.gif"/></a>

GradjaninBiH::GradjaninBiH(std::string ime_i_prezime, int dan_rodjenja, int mjesec_rodjenja, int godina_rodjenja, int sifra_regije, Pol pol){
    if(!IspravanDatum(dan_rodjenja,mjesec_rodjenja, godina_rodjenja) || sifra_regije&lt;0 || sifra_regije&gt;99)
</font>        throw std::logic_error("Neispravni podaci");
    this-&gt;ime_i_prezime=ime_i_prezime; this-&gt;dan_rodjenja=dan_rodjenja; this-&gt;mjesec_rodjenja=mjesec_rodjenja;this-&gt;godina_rodjenja=godina_rodjenja; this-&gt;sifra_regije=sifra_regije;this-&gt;pol=pol;
    if(pol==Pol::Musko)
        this-&gt;kod_osobe=DajKod(0,499);
    else this-&gt;kod_osobe=DajKod(500,999);
    int c[13];
<a name="5"></a><font color="#FF0000"><a href="match198-0.html#5" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_1.gif"/></a>

    c[0]=dan_rodjenja/10; c[1]=dan_rodjenja%10; c[2]=mjesec_rodjenja/10; c[3]=mjesec_rodjenja%10;c[4]=(godina_rodjenja%1000)/100; c[5]=((godina_rodjenja%1000)%100)/10; c[6]=((godina_rodjenja%1000)%100)%10;
</font>    c[7]=sifra_regije/10; c[8]=sifra_regije%10; c[9]=(kod_osobe/100); c[10]=(kod_osobe%100)/10; c[11]=(kod_osobe%100)%10;
<a name="6"></a><font color="#00FF00"><a href="match198-0.html#6" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_1.gif"/></a>

    c[12]= 11-(7*(c[0]+c[6])+6*(c[1]+c[7])+5*(c[2]+c[8])+4*(c[3]+c[9])+3*(c[4]+c[10])+2*(c[5]+c[11]))%11;
</font><a name="7"></a><font color="#0000FF"><a href="match198-0.html#7" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_1.gif"/></a>

    if(c[12]==11) c[12]=0;

    long long int t_jmbg=0;
    for(int i=0;i&lt;12;i++){
</font>        t_jmbg+=c[i];
        t_jmbg*=10;
    }
    t_jmbg+=c[12];
    this-&gt;jmbg=t_jmbg;
    if(posljedni!=nullptr)
        this-&gt;prethodni=posljedni;
    posljedni=this;
}

int main ()
{
    GradjaninBiH *niz_gradjana_pok[100]{}; //Ne moze se napraviti niz pok na gradjane bez din. alokacije gradjana ili smjestanja istih negdje za cuvanje.
    
    std::cout&lt;&lt;"Koliko gradjana zelite unijeti po JMBG? "&lt;&lt;std::endl;
    int br_gradj,poz=0;
    std::cin&gt;&gt;br_gradj;
    
    for(int i=0;i&lt;br_gradj;i++){
        std::cin.ignore(1000,'\n');
        std::cout&lt;&lt;"Unesite ime i prezime (u istom redu): "&lt;&lt;std::endl;
        std::string ime_i_prezime;
        std::getline(std::cin, ime_i_prezime);
        long long int jmbg;
        std::cout&lt;&lt;"Unesite JMBG: "&lt;&lt;std::endl;
        std::cin&gt;&gt;jmbg;
        try{
<a name="4"></a><font color="#FF00FF"><a href="match198-0.html#4" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_1.gif"/></a>

            niz_gradjana_pok[poz]=new GradjaninBiH(ime_i_prezime, jmbg);
            std::cout&lt;&lt;"Unijeli ste gradjanina " &lt;&lt; niz_gradjana_pok[poz]-&gt;DajImeIPrezime() &lt;&lt; " rodjenog "&lt;&lt; niz_gradjana_pok[poz]-&gt;DajDanRodjenja()&lt;&lt;"."&lt;&lt;niz_gradjana_pok[poz]-&gt;DajMjesecRodjenja()&lt;&lt;"."&lt;&lt;niz_gradjana_pok[poz]-&gt;DajGodinuRodjenja()&lt;&lt;" u regiji "&lt;&lt;niz_gradjana_pok[poz]-&gt;DajSifruRegije()&lt;&lt;",";
</font>            if(niz_gradjana_pok[poz]-&gt;DajPol()==0)std::cout&lt;&lt;" musko."&lt;&lt;std::endl;
            else std::cout&lt;&lt;" zensko."&lt;&lt;std::endl;
            poz++;
        }catch(std::logic_error izuzetak){
            std::cout&lt;&lt;izuzetak.what()&lt;&lt;std::endl; i--;
        }
        catch(...){}
    }
    
<a name="8"></a><font color="#00FFFF"><a href="match198-0.html#8" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_1.gif"/></a>

    std::cout&lt;&lt;"Koliko gradjana zelite unijeti po datumu rodjenja, regiji i polu? "&lt;&lt;std::endl;
    std::cin&gt;&gt;br_gradj;
    
    for(int i=0;i&lt;br_gradj;i++){
        std::cin.ignore(1000,'\n');
</font>        std::cout&lt;&lt;"Unesite ime i prezime (u istom redu): "&lt;&lt;std::endl;
        std::string ime_i_prezime;
        std::getline(std::cin, ime_i_prezime);
        
        std::cout&lt;&lt;"Unesite datum rodjenja (format dd/mm/gggg): "&lt;&lt;std::endl;
        long long int dan, mjesec, godina;
        std::cin&gt;&gt;dan; std::cin.ignore(1,'/'); std::cin&gt;&gt;mjesec; std::cin.ignore(1,'/'); std::cin&gt;&gt;godina;
        
        std::cout&lt;&lt;"Unesite sifru regije: "&lt;&lt;std::endl;
        int sifra_regije;
        std::cin&gt;&gt;sifra_regije;
        
        std::cout&lt;&lt;"Unesite M za musko, Z za zensko: "&lt;&lt;std::endl;
        char mz;
        std::cin&gt;&gt;mz;
        GradjaninBiH::Pol pol;
        if(mz=='M') pol=GradjaninBiH::Pol::Musko; else pol=GradjaninBiH::Pol::Zensko;
        
<a name="1"></a><font color="#00FF00"><a href="match198-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_3.gif"/></a>

        try{
            niz_gradjana_pok[poz]=new GradjaninBiH(ime_i_prezime, dan, mjesec, godina, sifra_regije, pol);
            std::cout&lt;&lt;"Unijeli ste gradjanina "&lt;&lt;niz_gradjana_pok[poz]-&gt;DajImeIPrezime()&lt;&lt; " JMBG: "&lt;&lt;niz_gradjana_pok[poz]-&gt;DajJMBG()&lt;&lt;"."&lt;&lt;std::endl;
</font>            poz++;
            
        }catch(std::logic_error izuzetak){
            std::cout&lt;&lt;izuzetak.what()&lt;&lt;std::endl; i--;
        }
        catch(...){}
    }
    
    for(int i=0;i&lt;100;i++){
        delete niz_gradjana_pok[i];
        niz_gradjana_pok[i]=nullptr;
    }
    
	return 0;
}</pre>
</body>
</html>
