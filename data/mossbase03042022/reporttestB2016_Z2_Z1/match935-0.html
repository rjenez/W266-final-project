<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z2/Z1/student7001.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z2/Z1/student7001.cpp<p></p><pre>
/*B 16/17, ZadaÄ‡a 2, Zadatak 1
	
	NAPOMENA: i javni ATo-vi su dio postavke
	
	Autotestovi by Ivona Ivkovic. Sva pitanja, sugestije
	i prijave gresaka saljite na mail: iivkovic2@etf.unsa.ba
	
*/
#include &lt;iostream&gt;
#include &lt;vector&gt;
#include &lt;stdexcept&gt;

enum class Polje {
	Prazno, Posjeceno, Mina, BlokiranoPrazno, BlokiranoPosjeceno, BlokiranoMina	
};

enum class Smjerovi {
	GoreLijevo, Gore, GoreDesno, Desno, DoljeDesno, Dolje, DoljeLijevo, Lijevo	
};

enum class Status {
	NijeKraj, KrajPoraz, KrajPobjeda
};

enum class KodoviGresaka {
	PogresnaKomanda, NedostajeParametar, SuvisanParametar, NeispravanParametar
};

enum class Komande {
	PomjeriJednoMjesto, PomjeriDalje, Blokiraj, Deblokiraj, PrikaziOkolinu, ZavrsiIgru, KreirajIgru
};

typedef std::vector&lt;std::vector&lt;Polje&gt;&gt; Tabla;

std::string IntUString(int broj) {
	std::string ret;
	char sbroj[12];
	int i(0), tmp(broj);
	if (broj&lt;0) {
		broj=-broj;
		sbroj[i++]='-';
	}
	do {
		i++;
		tmp/=10;
	} while(tmp!=0);
	sbroj[i--]='\0';
	while (broj!=0) {
		sbroj[i--]=broj%10+'0';
		broj/=10;
	}
	ret=std::string(sbroj);
	return ret;
}

<a name="7"></a><font color="#0000FF"><a href="match935-1.html#7" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_0.gif"/></a>

Tabla KreirajIgru(int n, const std::vector&lt;std::vector&lt;int&gt;&gt; &amp;mine) {
	Tabla kreirana_tabla (n, std::vector&lt;Polje&gt; (n, Polje::Prazno));
	for (int i=0; i&lt;mine.size(); i++)
</font>		for (int j=0; j&lt;mine[i].size(); j++) {
			if (mine[i].size()!=2) throw std::domain_error("Ilegalan format zadavanja mina");
			if (mine[i][j]&lt;0 || mine[i][j]&gt;=n) throw std::domain_error("Ilegalne pozicije mina");
		}
	for (int k=0; k&lt;mine.size(); k++)
		for (int i=0; i&lt;n; i++)
			for (int j=0; j&lt;n; j++)
				if (i==mine[k][0] &amp;&amp; j==mine[k][1]) kreirana_tabla[i][j]=Polje::Mina;
	return kreirana_tabla;
}

bool IspravnostPolja(const Tabla &amp;polja, int x, int y) {
	if (x&lt;0 || y&lt;0 || x&gt;=polja.size() || y&gt;=polja.size()) return false;
	return true;
}

std::vector&lt;std::vector&lt;int&gt;&gt; PrikaziOkolinu(const Tabla &amp;polja, int x, int y) {
	std::vector&lt;std::vector&lt;int&gt;&gt; matrica (3, std::vector&lt;int&gt; (3));
	if (!IspravnostPolja(polja,x,y)) throw std::domain_error("Polje ("+IntUString(x)+","+IntUString(y)+") ne postoji");
	int indeks2{};
	for (int j=y-1; j&lt;=y+1; j++) {
		int indeks1{};
		for (int i=x-1; i&lt;=x+1; i++) {
			int brojac_mina{};
			if (IspravnostPolja(polja,i,j)) {
				for (int k=i-1; k&lt;=i+1; k++) {
					for (int l=j-1; l&lt;=j+1; l++) {
						if (IspravnostPolja(polja,k,l) &amp;&amp; (polja[k][l]==Polje::Mina || polja[k][l]==Polje::BlokiranoMina)) brojac_mina++;
					}
				}
				if (polja[i][j]==Polje::Mina || polja[i][j]==Polje::BlokiranoMina) brojac_mina--;
				matrica[indeks1][indeks2]=brojac_mina;
				indeks1++;
			}
			else indeks1++;
		}
		indeks2++;
	}
	return matrica;
}

void BlokirajPolje(Tabla &amp;polja, int x, int y) {
	if (!IspravnostPolja(polja,x,y)) throw std::domain_error("Polje ("+IntUString(x)+","+IntUString(y)+") ne postoji");
	if (polja[x][y]==Polje::Prazno) polja[x][y]=Polje::BlokiranoPrazno;
	else if (polja[x][y]==Polje::Posjeceno) polja[x][y]=Polje::BlokiranoPosjeceno;
	else if (polja[x][y]==Polje::Mina) polja[x][y]=Polje::BlokiranoMina;
}

void DeblokirajPolje(Tabla &amp;polja, int x, int y) {
	if (!IspravnostPolja(polja,x,y)) throw std::domain_error("Polje ("+IntUString(x)+","+IntUString(y)+") ne postoji");
	if (polja[x][y]==Polje::BlokiranoPrazno) polja[x][y]=Polje::Prazno;
	else if (polja[x][y]==Polje::BlokiranoPosjeceno) polja[x][y]=Polje::Posjeceno;
	else if (polja[x][y]==Polje::BlokiranoMina) polja[x][y]=Polje::Mina;
}

bool BlokiranostPolja(const Tabla &amp;polja, int x, int y) {
	if (polja[x][y]==Polje::BlokiranoPrazno || polja[x][y]==Polje::BlokiranoPosjeceno || polja[x][y]==Polje::BlokiranoMina) return true;
	return false;
}

Status Idi(Tabla &amp;polja, int &amp;x, int &amp;y, Smjerovi smjer) {
	if (IspravnostPolja(polja,x,y)) polja[x][y]=Polje::Posjeceno; 
	if (smjer==Smjerovi::GoreLijevo) {
		x--;
		y--;
		if (!IspravnostPolja(polja,x,y)) {
			x++;
			y++;
			throw std::out_of_range("Izlazak van igrace table");
		}
		else if (BlokiranostPolja(polja,x,y)) {
			x++;
			y++;
			throw std::logic_error("Blokirano polje");
		}
	}
	else if (smjer==Smjerovi::Gore) {
		x--;
		if (!IspravnostPolja(polja,x,y)) {
			x++;
			throw std::out_of_range("Izlazak van igrace table");
		}
		else if (BlokiranostPolja(polja,x,y)) {
			x++;
			throw std::logic_error("Blokirano polje");
		}
	}
	else if (smjer==Smjerovi::GoreDesno) {
		x--;
		y++;
		if (!IspravnostPolja(polja,x,y)) {
			x++;
			y--;
			throw std::out_of_range("Izlazak van igrace table");
		}
		else if (BlokiranostPolja(polja,x,y)) {
			x++;
			y--;
			throw std::logic_error("Blokirano polje");
		}
	}
	else if (smjer==Smjerovi::Desno) {
		y++;
		if (!IspravnostPolja(polja,x,y)) {
			y--;
			throw std::out_of_range("Izlazak van igrace table");
		}
		else if (BlokiranostPolja(polja,x,y)) {
			y--;
			throw std::logic_error("Blokirano polje");
		}
	}
	else if (smjer==Smjerovi::DoljeDesno) {
		x++;
		y++;
		if (!IspravnostPolja(polja,x,y)) {
			x--;
			y--;
			throw std::out_of_range("Izlazak van igrace table");
		}
		else if (BlokiranostPolja(polja,x,y)) {
			x--;
			y--;
			throw std::logic_error("Blokirano polje");
		}
	}
	else if (smjer==Smjerovi::Dolje) {
		x++;
		if (!IspravnostPolja(polja,x,y)) {
			x--;
			throw std::out_of_range("Izlazak van igrace table");
		}
		else if (BlokiranostPolja(polja,x,y)) {
			x--;
			throw std::logic_error("Blokirano polje");
		}
	}
	else if (smjer==Smjerovi::DoljeLijevo) {
		x++;
		y--;
		if (!IspravnostPolja(polja,x,y)) {
			x--;
			y++;
			throw std::out_of_range("Izlazak van igrace table");
		}
		else if (BlokiranostPolja(polja,x,y)) {
			x--;
			y++;
			throw std::logic_error("Blokirano polje");
		}
	}
	else if (smjer==Smjerovi::Lijevo) {
		y--;
		if (!IspravnostPolja(polja,x,y)) {
			y++;
			throw std::out_of_range("Izlazak van igrace table");
		}
		else if (BlokiranostPolja(polja,x,y)) {
			y++;
			throw std::logic_error("Blokirano polje");
		}
	}
	
	if (polja[x][y]==Polje::Mina) {
		for (int i=0; i&lt;polja.size(); i++)
			for (int j=0; j&lt;polja[i].size(); j++)
				polja[i][j]=Polje::Prazno;
		return Status::KrajPoraz;
	}
	int brojac_praznih_polja{};
	for (int i=0; i&lt;polja.size(); i++)
<a name="8"></a><font color="#00FFFF"><a href="match935-1.html#8" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_0.gif"/></a>

		for (int j=0; j&lt;polja[i].size(); j++)
			if (polja[i][j]==Polje::Prazno || polja[i][j]==Polje::BlokiranoPrazno) brojac_praznih_polja++;
</font>	if (brojac_praznih_polja-1==0) return Status::KrajPobjeda;
	return Status::NijeKraj;
}

Status Idi(Tabla &amp;polja, int &amp;x, int &amp;y, int novi_x, int novi_y) {
	if (IspravnostPolja(polja,x,y)) polja[x][y]=Polje::Posjeceno;
	int upamti_x=x, upamti_y=y;
	x=novi_x;
	y=novi_y;
	if (!IspravnostPolja(polja,x,y)) {
		x=upamti_x;
		y=upamti_y;
		throw std::out_of_range("Izlazak van igrace table");
	}
	else if (BlokiranostPolja(polja,x,y)) {
		x=upamti_x;
		y=upamti_y;
		throw std::logic_error("Blokirano polje");
	}
	if (polja[x][y]==Polje::Mina) {
		for (int i=0; i&lt;polja.size(); i++)
			for (int j=0; j&lt;polja[i].size(); j++)
				polja[i][j]=Polje::Prazno;
		return Status::KrajPoraz;
	}
	int brojac_praznih_polja{};
	for (int i=0; i&lt;polja.size(); i++)
<a name="9"></a><font color="#FF00FF"><a href="match935-1.html#9" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_0.gif"/></a>

		for (int j=0; j&lt;polja[i].size(); j++)
			if (polja[i][j]==Polje::Prazno || polja[i][j]==Polje::BlokiranoPrazno) brojac_praznih_polja++;
</font>	if (brojac_praznih_polja-1==0) return Status::KrajPobjeda;
	return Status::NijeKraj;
}

void PrijaviGresku(KodoviGresaka kod) {
	if (kod==KodoviGresaka::PogresnaKomanda)
		std::cout &lt;&lt; "Nerazumljiva komanda!" &lt;&lt; std::endl;
	else if (kod==KodoviGresaka::NedostajeParametar)
		std::cout &lt;&lt; "Komanda trazi parametar koji nije naveden!" &lt;&lt; std::endl;
	else if (kod==KodoviGresaka::NeispravanParametar)
		std::cout &lt;&lt; "Parametar komande nije ispravan!" &lt;&lt; std::endl;
	else if (kod==KodoviGresaka::SuvisanParametar)
		std::cout &lt;&lt; "Zadan je suvisan parametar nakon komande!" &lt;&lt; std::endl;
}

bool UnosKomande(Komande &amp;komanda, Smjerovi &amp;smjer, int &amp;x, int &amp;y, KodoviGresaka &amp;greska) {
	char unos{};
	std::cin &gt;&gt; unos;
	if (unos=='P') {
		if (std::cin.peek()=='\n') {
			greska=KodoviGresaka::PogresnaKomanda;
			return false;
		}
		else {
			std::cin &gt;&gt; unos;
			if (unos=='1') {
				if (std::cin.peek()=='\n') {
					greska=KodoviGresaka::NedostajeParametar;
					return false;
				}
				else { 
					std::cin &gt;&gt; unos;
					if (unos=='G') {
						if (std::cin.peek()=='\n') {
							smjer=Smjerovi::Gore;
							komanda=Komande::PomjeriJednoMjesto;
							return true;
						}
						else {
							std::cin &gt;&gt; unos;
							if (unos=='L') {
								if (std::cin.peek()!='\n') {
									std::cin.ignore(10000,'\n');
									greska=KodoviGresaka::SuvisanParametar;
									return false;
								}
								smjer=Smjerovi::GoreLijevo;
								komanda=Komande::PomjeriJednoMjesto;
								return true;
							}
							else if (unos=='D') {
								if (std::cin.peek()!='\n') {
									std::cin.ignore(10000,'\n');
									greska=KodoviGresaka::SuvisanParametar;
									return false;
								}
								smjer=Smjerovi::GoreDesno;
								komanda=Komande::PomjeriJednoMjesto;
								return true;
							}
							else {
								std::cin.ignore(10000,'\n');
								greska=KodoviGresaka::NeispravanParametar;
								return false;
							}
						}
					}
					else if (unos=='D') {
						if (std::cin.peek()=='\n') {
							smjer=Smjerovi::Desno;
							komanda=Komande::PomjeriJednoMjesto;
							return true;
						}
						else {
							std::cin &gt;&gt; unos;
							if (unos=='o') {
								if (std::cin.peek()=='\n') {
									smjer=Smjerovi::Dolje;
									komanda=Komande::PomjeriJednoMjesto;
									return true;
								}
								else {
									std::cin &gt;&gt; unos;
									if (unos=='L') {
										if (std::cin.peek()!='\n') {
											std::cin.ignore(10000,'\n');
											greska=KodoviGresaka::SuvisanParametar;
											return false;
										}
										smjer=Smjerovi::DoljeLijevo;
										komanda=Komande::PomjeriJednoMjesto;
										return true;
									}
									else if (unos=='D') {
										if (std::cin.peek()!='\n') {
											std::cin.ignore(10000,'\n');
											greska=KodoviGresaka::SuvisanParametar;
											return false;
										}
										smjer=Smjerovi::DoljeDesno;
										komanda=Komande::PomjeriJednoMjesto;
										return true;
									}
									else {
										std::cin.ignore(10000,'\n');
										greska=KodoviGresaka::NeispravanParametar;
										return false;
									}
								}
							}
							else {
								std::cin.ignore(10000,'\n');
								greska=KodoviGresaka::NeispravanParametar;
								return false;
							}
						}
					}
					else if (unos=='L') {
						if (std::cin.peek()=='\n') {
							smjer=Smjerovi::Lijevo;
							komanda=Komande::PomjeriJednoMjesto;
							return true;
						}
						else {
							std::cin.ignore(10000,'\n');
							greska=KodoviGresaka::SuvisanParametar;
							return false;
						}
					}
					else {
						std::cin.ignore(10000,'\n');
						greska=KodoviGresaka::NeispravanParametar;
						return false;
					}
				}
			}
			else if (unos=='&gt;') {
				if (std::cin.peek()=='\n') {
					greska=KodoviGresaka::NedostajeParametar;
					return false;
				}
				else {
					std::cin &gt;&gt; x;
					if (!std::cin) {
						std::cin.clear();
						std::cin.ignore(10000,'\n');
						greska=KodoviGresaka::NeispravanParametar;
						return false;
					}
					else {
						if (std::cin.peek()=='\n') {
							greska=KodoviGresaka::NedostajeParametar;
							return false;
						}
						else {
							std::cin &gt;&gt; y;
							if (!std::cin) {
								std::cin.clear();
								std::cin.ignore(10000,'\n');
								greska=KodoviGresaka::NeispravanParametar;
								return false;
							}
							else if (std::cin.peek()!='\n') {
								std::cin.ignore(10000,'\n');
								greska=KodoviGresaka::SuvisanParametar;
								return false;
							}
						}
					}
				}
				komanda=Komande::PomjeriDalje;
				return true;
			}
			else if (unos=='O') {
				if (std::cin.peek()=='\n') {
					komanda=Komande::PrikaziOkolinu;
					return true;
				}
				else {
					std::cin.ignore(10000,'\n');
					greska=KodoviGresaka::SuvisanParametar;
					return false;
				}
			}
			else {
				std::cin.ignore(10000,'\n');
				greska=KodoviGresaka::PogresnaKomanda;
				return false;
			}
		}
	}
	else if (unos=='B') {
		if (std::cin.peek()=='\n') {
			greska=KodoviGresaka::NedostajeParametar;
			return false;
		}
		else {
			std::cin &gt;&gt; x;
			if (!std::cin) {
				std::cin.clear();
				std::cin.ignore(10000,'\n');
				greska=KodoviGresaka::NeispravanParametar;
				return false;
			}
			else {
				if (std::cin.peek()=='\n') {
					greska=KodoviGresaka::NedostajeParametar;
					return false;
				}
				else {
					std::cin &gt;&gt; y;
					if (!std::cin) {
						std::cin.clear();
						std::cin.ignore(10000,'\n');
						greska=KodoviGresaka::NeispravanParametar;
						return false;
					}
					else if (std::cin.peek()!='\n') {
						std::cin.ignore(10000,'\n');
						greska=KodoviGresaka::SuvisanParametar;
						return false;
					}
				}
			}
		}
		komanda=Komande::Blokiraj;
		return true;
	}
	else if (unos=='D') {
		if (std::cin.peek()=='\n') {
			greska=KodoviGresaka::NedostajeParametar;
			return false;
		}
		else {
			std::cin &gt;&gt; x;
			if (!std::cin) {
				std::cin.clear();
				std::cin.ignore(10000,'\n');
				greska=KodoviGresaka::NeispravanParametar;
				return false;
			}
			else {
				if (std::cin.peek()=='\n') {
					greska=KodoviGresaka::NedostajeParametar;
					return false;
				}
				else {
					std::cin &gt;&gt; y;
					if (!std::cin) {
						std::cin.clear();
						std::cin.ignore(10000,'\n');
						greska=KodoviGresaka::NeispravanParametar;
						return false;
					}
					else if (std::cin.peek()!='\n') {
						std::cin.ignore(10000,'\n');
						greska=KodoviGresaka::SuvisanParametar;
						return false;
					}
				}
			}
		}
		komanda=Komande::Deblokiraj;
		return true;
	}
	else if (unos=='Z') {
		if (std::cin.peek()=='\n') {
			komanda=Komande::ZavrsiIgru;
			return true;
		}
		else {
			std::cin.ignore(10000,'\n');
			greska=KodoviGresaka::SuvisanParametar;
			return false;
		}
	}
	else if (unos=='K') {
		if (std::cin.peek()=='\n') {
			komanda=Komande::KreirajIgru;
			return true;
		}
		else {
			std::cin.ignore(10000,'\n');
			greska=KodoviGresaka::SuvisanParametar;
			return false;
		}
	}
	else {
		std::cin.ignore(10000,'\n');
		greska=KodoviGresaka::PogresnaKomanda;
		return false;
	}
}

<a name="5"></a><font color="#FF0000"><a href="match935-1.html#5" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_0.gif"/></a>

void IzvrsiKomandu(Komande komanda, Tabla &amp;polja, int &amp;x, int &amp;y, Smjerovi p_smjer=Smjerovi::Gore, int p_x=0, int p_y=0) {
	switch(komanda) {
		case (Komande::PomjeriJednoMjesto):{
			try {
</font>				auto s=Idi(polja,x,y,p_smjer);
				std::cout &lt;&lt; "Tekuca pozicija igraca je (" &lt;&lt; x &lt;&lt; "," &lt;&lt; y &lt;&lt; ")" &lt;&lt; std::endl;
				if (s==Status::KrajPobjeda) {
<a name="1"></a><font color="#00FF00"><a href="match935-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_2.gif"/></a>

					std::cout &lt;&lt; "Bravo, obisli ste sva sigurna polja" &lt;&lt; std::endl;
					for (int i=0; i&lt;polja.size(); i++)
						for (int j=0; j&lt;polja[i].size(); j++)
							polja[i][j]=Polje::Prazno;
					throw std::runtime_error("Igra zavrsena");
				}
				else if (s==Status::KrajPoraz) {
					std::cout &lt;&lt; "Nagazili ste na minu" &lt;&lt; std::endl;
					for (int i=0; i&lt;polja.size(); i++)
						for (int j=0; j&lt;polja[i].size(); j++)
							polja[i][j]=Polje::Prazno;
					throw std::runtime_error("Igra zavrsena");
				}
			}
			catch(std::runtime_error izuzetak) {
</font>				throw;
			}
			catch(std::out_of_range izuzetak) {
<a name="6"></a><font color="#00FF00"><a href="match935-1.html#6" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_0.gif"/></a>

				std::cout &lt;&lt; izuzetak.what() &lt;&lt; std::endl;
			}
			catch(std::logic_error izuzetak) {
				std::cout &lt;&lt; izuzetak.what() &lt;&lt; std::endl;
			}
			break;}
		case (Komande::PomjeriDalje):{
			try {
				auto s=Idi(polja,x,y,p_x,p_y);
</font>				std::cout &lt;&lt; "Tekuca pozicija igraca je (" &lt;&lt; x &lt;&lt; "," &lt;&lt; y &lt;&lt; ")" &lt;&lt; std::endl;
				if (s==Status::KrajPobjeda) {
<a name="2"></a><font color="#0000FF"><a href="match935-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_2.gif"/></a>

					std::cout &lt;&lt; "Bravo, obisli ste sva sigurna polja" &lt;&lt; std::endl;
					for (int i=0; i&lt;polja.size(); i++)
						for (int j=0; j&lt;polja[i].size(); j++)
							polja[i][j]=Polje::Prazno;
					throw std::runtime_error("Igra zavrsena");
				}
				else if (s==Status::KrajPoraz) {
					std::cout &lt;&lt; "Nagazili ste na minu" &lt;&lt; std::endl;
					for (int i=0; i&lt;polja.size(); i++)
						for (int j=0; j&lt;polja[i].size(); j++)
							polja[i][j]=Polje::Prazno;
					throw std::runtime_error("Igra zavrsena");
				}
			}
			catch(std::runtime_error izuzetak) {
</font>				throw;
			}
			catch(std::out_of_range izuzetak) {
<a name="3"></a><font color="#00FFFF"><a href="match935-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_2.gif"/></a>

				std::cout &lt;&lt; izuzetak.what() &lt;&lt; std::endl;
			}
			catch(std::logic_error izuzetak) {
				std::cout &lt;&lt; izuzetak.what() &lt;&lt; std::endl;
			}
			break;}
		case (Komande::Blokiraj):{
			try {
				BlokirajPolje(polja,p_x,p_y);	
			}
			catch(std::domain_error izuzetak) {
				std::cout &lt;&lt; izuzetak.what() &lt;&lt; std::endl;
			}
			break;}
		case (Komande::Deblokiraj):{
			try {
				DeblokirajPolje(polja,p_x,p_y);
			}
			catch(std::domain_error izuzetak) {
				std::cout &lt;&lt; izuzetak.what() &lt;&lt; std::endl;
			}
			break;}
		case (Komande::PrikaziOkolinu):{
			try {
				auto rezultat=PrikaziOkolinu(polja,x,y);
</font><a name="0"></a><font color="#FF0000"><a href="match935-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_3.gif"/></a>

				for (int i=0; i&lt;rezultat.size(); i++) {
					for (int j=0; j&lt;rezultat[i].size(); j++)
						std::cout &lt;&lt; rezultat[i][j] &lt;&lt; " ";
					std::cout &lt;&lt; std::endl;
				}
			}
			catch(std::domain_error izuzetak) {
				std::cout &lt;&lt; izuzetak.what() &lt;&lt; std::endl;
			}
			break;}
		case (Komande::ZavrsiIgru):{
			for (int i=0; i&lt;polja.size(); i++)
				for (int j=0; j&lt;polja[i].size(); j++)
					polja[i][j]=Polje::Prazno;
			throw std::runtime_error("Igra zavrsena");
			break;}
		case (Komande::KreirajIgru):{
			int broj_polja{};
</font>			do {
				std::cout &lt;&lt; "Unesite broj polja: ";
				std::cin &gt;&gt; broj_polja;
				if (broj_polja&lt;0) std::cout &lt;&lt; "Greska, unesite ponovo!" &lt;&lt; std::endl;
			} while (broj_polja&lt;0);
			std::cout &lt;&lt; "Unesite pozicije mina: ";
			std::vector&lt;std::vector&lt;int&gt;&gt; mine;
			char unos;
			do {
				int broj1, broj2;
				std::vector&lt;int&gt; pomocni;
				std::cin &gt;&gt; unos;
				if (unos=='.' &amp;&amp; std::cin.peek()=='\n') break;
				else if (unos=='(') {
					if (std::cin.peek()=='\n') {
						std::cout &lt;&lt; "Greska, unesite ponovo!" &lt;&lt; std::endl;
						std::cin.ignore(10000,'\n');
					}
					else {
						std::cin &gt;&gt; broj1;
						if (!std::cin) {
							std::cout &lt;&lt; "Greska, unesite ponovo!" &lt;&lt; std::endl;
							std::cin.clear();
							std::cin.ignore(10000,'\n');
						}
						else {
							if (std::cin.peek()=='\n') {
								std::cout &lt;&lt; "Greska, unesite ponovo!" &lt;&lt; std::endl;
								std::cin.ignore(10000,'\n');
							}
							else {
								std::cin &gt;&gt; unos;
								if (unos==',') {
									if (std::cin.peek()=='\n') {
										std::cout &lt;&lt; "Greska, unesite ponovo!" &lt;&lt; std::endl;
										std::cin.ignore(10000,'\n');
									}
									else {
										std::cin &gt;&gt; broj2;
										if (!std::cin) {
											std::cout &lt;&lt; "Greska, unesite ponovo!" &lt;&lt; std::endl;
											std::cin.clear();
											std::cin.ignore(10000,'\n');
										}
										else {
											if (std::cin.peek()=='\n') {
												std::cout &lt;&lt; "Greska, unesite ponovo!" &lt;&lt; std::endl;
												std::cin.ignore(10000,'\n');
											}
											else {
												std::cin &gt;&gt; unos;
												if (unos==')') {
													if (std::cin.peek()=='\n') {
														if(broj1&gt;=0 &amp;&amp; broj2&gt;=0 &amp;&amp; broj1&lt;broj_polja &amp;&amp; broj2&lt;broj_polja)
														{pomocni.push_back(broj1);
														pomocni.push_back(broj2);
														mine.push_back(pomocni);}
														else{
															std::cout &lt;&lt; "Greska, unesite ponovo!" &lt;&lt; std::endl;
															std::cin.ignore(10000,'\n');
														}
													}
													else {
														std::cout &lt;&lt; "Greska, unesite ponovo!" &lt;&lt; std::endl;
														std::cin.ignore(10000,'\n');
													}
												}
												else {
													std::cout &lt;&lt; "Greska, unesite ponovo!" &lt;&lt; std::endl;
													std::cin.ignore(10000,'\n');
												}
											}
										}
									}
								}
								else {
									std::cout &lt;&lt; "Greska, unesite ponovo!" &lt;&lt; std::endl;
									std::cin.ignore(10000,'\n');
								}
							}
						}
					}
				}
				else {
					std::cout &lt;&lt; "Greska, unesite ponovo!" &lt;&lt; std::endl;
					std::cin.ignore(10000,'\n');
				}
			} while(unos!='.');
			try {
				polja=KreirajIgru(broj_polja,mine);
			}
			catch(std::domain_error izuzetak) {
				std::cout &lt;&lt; izuzetak.what() &lt;&lt; std::endl;
			}
			catch(std::logic_error izuzetak) {
				std::cout &lt;&lt; izuzetak.what() &lt;&lt; std::endl;
			}
			break;}
	}
}

int main () {
	Tabla polja;
	Komande komanda;
	KodoviGresaka greska;
	Smjerovi smjer;
	int x=0,y=0,p_x,p_y;
	try {
		do {
<a name="4"></a><font color="#FF00FF"><a href="match935-1.html#4" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_0.gif"/></a>

			std::cout &lt;&lt; "Unesite komandu: ";
			bool rezultat=UnosKomande(komanda,smjer,p_x,p_y,greska);
			if (rezultat) IzvrsiKomandu(komanda,polja,x,y,smjer,p_x,p_y);
			else PrijaviGresku(greska);
</font>		} while(1);
	}
	catch(std::runtime_error izuzetak) {
		std::cout &lt;&lt; "Dovidjenja!" &lt;&lt; std::endl;
	}
	return 0;
}</pre>
</body>
</html>
