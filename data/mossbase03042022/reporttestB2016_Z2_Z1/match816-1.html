<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z2/Z1/student2508.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z2/Z1/student3819.cpp<p></p><pre>
/*B 16/17, ZadaÄ‡a 2, Zadatak 1
	
	NAPOMENA: i javni ATo-vi su dio postavke
	
	Autotestovi by Ivona Ivkovic. Sva pitanja, sugestije
	i prijave gresaka saljite na mail: iivkovic2@etf.unsa.ba
	
*/
#include &lt;iostream&gt;
#include &lt;vector&gt;
#include &lt;string&gt;
#include &lt;stdexcept&gt;
enum class Polje {Prazno, Posjeceno, Mina, BlokiranoPrazno, BlokiranoPosjeceno, BlokiranoMina};
enum class Smjerovi {GoreLijevo, Gore, GoreDesno, Desno, DoljeDesno, Dolje, DoljeLijevo, Lijevo};
enum class Status {NijeKraj, KrajPoraz, KrajPobjeda};
enum class KodoviGresaka {PogresnaKomanda, NedostajeParametar, SuvisanParametar, NeispravanParametar};
enum class Komande { PomjeriJednoMjesto, PomjeriDalje, Blokiraj, Deblokiraj, PrikaziOkolinu, ZavrsiIgru, KreirajIgru};
typedef std::vector&lt;std::vector&lt;Polje&gt;&gt; Tabla;
Tabla KreirajIgru(int n, const std::vector&lt;std::vector&lt;int&gt;&gt; &amp;mine);
void BlokirajPolje(Tabla &amp;polja, int x, int y);
void DeblokirajPolje(Tabla &amp;polja, int x, int y);
Status Idi(Tabla &amp;polja, int &amp;x, int &amp;y, Smjerovi smjer);
Status Idi(Tabla &amp;polja, int &amp;x, int &amp;y, int novi_x, int novi_y);
std::vector&lt;std::vector&lt;int&gt;&gt; PrikaziOkolinu(const Tabla &amp;polja, int x, int y);
//dodatne prototipovi f-ja
bool UnosKomande(Komande &amp;komanda, Smjerovi &amp;smjer, int &amp;x, int &amp;y, KodoviGresaka &amp;greska);
//void IzvrsiKomandu(Komande komanda, Tabla &amp;polja, int &amp;x, int &amp;y, Smjerovi p_smjer = Smjerovi::Gore, int p_x=0, int p_y=0);

Tabla KreirajIgru(int n, const std::vector&lt;std::vector&lt;int&gt;&gt; &amp;mine) {
	Tabla tabla(n, std::vector&lt;Polje&gt;(n));
	int x(0), y(0);
	for(int i(0); i&lt;n; i++) 
		for(int j(0); j&lt;n; j++)
<a name="15"></a><font color="#FF0000"><a href="match816-0.html#15" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_0.gif"/></a>

			tabla[i][j]=Polje::Prazno;
	
	for(int i(0); i&lt;mine.size(); i++) {
		if(mine[i].size()!=2) throw std::domain_error("Ilegalan format zadavanja mina");
</font>			x=mine[i][0];
			y=mine[i][1];
			if(x&lt;0 || x &gt; n-1 || y&lt;0 || y &gt; n-1) throw std::domain_error("Ilegalne pozicije mina");
			tabla[x][y]=Polje::Mina;
	}
	return tabla;
}
std::vector&lt;std::vector&lt;int&gt;&gt; PrikaziOkolinu(const Tabla &amp;polja, int x, int y) {
	std::vector&lt;std::vector&lt;int&gt;&gt; matrica(3, std::vector&lt;int&gt;(3));
	if(x&lt;0 || y&lt;0 || x&gt;polja.size()-1 || y&gt;polja.size()-1) {					//ne fercera ako su dvocifreni
		/*char x1= x+'0';                                                         // koristit std::to_string
    	char y1= y+'0';
    	std::string izuzetak = "Polje (,) ne postoji";
    	izuzetak.insert(izuzetak.begin()+7, x1);
    	izuzetak.insert(izuzetak.begin()+9, y1);*/
		std::string izuzetak;
    	izuzetak = "Polje (" + std::to_string(x) + "," + std::to_string(y) + ") ne postoji";
		throw std::domain_error(izuzetak);
	}
	for(int i(x-1); i&lt;x+1; i++) {
		for(int j(y-1); j&lt;y+1; j++) {
			
		}
	}
	return matrica;
}
void BlokirajPolje(Tabla &amp;polja, int x, int y) {
	if(x&lt;0 || y&lt;0 || x&gt;polja.size()-1 || y&gt;polja.size()-1) {
    	std::string izuzetak;
    	izuzetak = "Polje (" + std::to_string(x) + "," + std::to_string(y) + ") ne postoji";
		throw std::domain_error(izuzetak);
	}
	if(polja[x][y]==Polje::Prazno) polja[x][y]=Polje::BlokiranoPrazno;
	else if(polja[x][y]==Polje::Posjeceno) polja[x][y]=Polje::BlokiranoPosjeceno;
	else if(polja[x][y]==Polje::Mina) polja[x][y]=Polje::BlokiranoMina;
}
void DeblokirajPolje(Tabla &amp;polja, int x, int y) {
	if(x&lt;0 || y&lt;0 || x&gt;polja.size()-1 || y&gt;polja.size()-1) {
		std::string izuzetak;
    	izuzetak = "Polje (" + std::to_string(x) + "," + std::to_string(y) + ") ne postoji";
		throw std::domain_error(izuzetak);
	}
	if(polja[x][y]==Polje::BlokiranoPrazno) polja[x][y]=Polje::Prazno;
	else if(polja[x][y]==Polje::BlokiranoPosjeceno) polja[x][y]=Polje::Posjeceno;
	else if(polja[x][y]==Polje::BlokiranoMina) polja[x][y]=Polje::Mina;
}
void PrijaviGresku(KodoviGresaka kodgreske) {
	switch(kodgreske) {
		case KodoviGresaka::PogresnaKomanda:
			std::cout &lt;&lt; "Nerazumljiva komanda!\n";
			break;
		case KodoviGresaka::NedostajeParametar:
			std::cout &lt;&lt; "Komanda trazi parametar koji nije naveden!\n";
			break;
		case KodoviGresaka::NeispravanParametar:
			std::cout &lt;&lt; "Parametar komande nije ispravan!\n";
			break;
		case KodoviGresaka::SuvisanParametar:
			std::cout &lt;&lt; "Zadan je suvisan parametar nakon komande!\n";
			break;
	}
}
Status Idi(Tabla &amp;polja, int &amp;x, int &amp;y, Smjerovi smjer) {
	if(smjer==Smjerovi::Gore) {													//ako bude zezalo u slucaju da se posalje pogresna trenutna pozicija dodati uslov ili 
		if(x-1&lt;0) throw std::out_of_range("Izlazak van igrace table");
<a name="5"></a><font color="#FF0000"><a href="match816-0.html#5" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_1.gif"/></a>

		else if(polja[x-1][y]==Polje::BlokiranoPrazno || polja[x-1][y]==Polje::BlokiranoPosjeceno || polja[x-1][y]==Polje::BlokiranoMina) throw std::logic_error("Blokirano polje");
		polja[x][y]=Polje::Posjeceno;
		x=x-1;
</font>	}
	else if(smjer==Smjerovi::Dolje) {
		if(x+1==polja.size()) throw std::out_of_range("Izlazak van igrace table");
<a name="7"></a><font color="#0000FF"><a href="match816-0.html#7" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_0.gif"/></a>

		else if(polja[x+1][y]==Polje::BlokiranoPrazno || polja[x+1][y]==Polje::BlokiranoPosjeceno || polja[x+1][y]==Polje::BlokiranoMina) throw std::logic_error("Blokirno polje");
		polja[x][y]=Polje::Posjeceno;
		x=x+1;
</font>	}
	else if(smjer==Smjerovi::Lijevo) {
		if(y-1&lt;0) throw std::out_of_range("Izlazak van igrace table");
<a name="9"></a><font color="#FF00FF"><a href="match816-0.html#9" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_0.gif"/></a>

		else if(polja[x][y-1]==Polje::BlokiranoPrazno || polja[x][y-1]==Polje::BlokiranoPosjeceno || polja[x][y-1]==Polje::BlokiranoMina) throw std::logic_error("Blokirano polje");
		polja[x][y]=Polje::Posjeceno;
</font>		y=y-1;
	}
	else if(smjer==Smjerovi::Desno) {
		if(y+1==polja.size()) throw std::out_of_range("Izlazak van igrace table");
<a name="6"></a><font color="#00FF00"><a href="match816-0.html#6" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_0.gif"/></a>

		else if(polja[x][y+1]==Polje::BlokiranoPrazno || polja[x][y+1]==Polje::BlokiranoPosjeceno || polja[x][y+1]==Polje::BlokiranoMina) throw std::logic_error("Blokirano polje");
		polja[x][y]=Polje::Posjeceno;
</font>		y=y+1;
	}
	else if(smjer==Smjerovi::GoreLijevo) {
		if(x-1&lt;0 || y-1&lt;0) throw std::out_of_range("Izlazak van igrace table");
<a name="0"></a><font color="#FF0000"><a href="match816-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_1.gif"/></a>

		else if(polja[x-1][y-1]==Polje::BlokiranoPrazno || polja[x-1][y-1]==Polje::BlokiranoPosjeceno || polja[x-1][y-1]==Polje::BlokiranoMina) throw std::logic_error("Blokirano polje");
		polja[x][y]=Polje::Posjeceno;
		x=x-1;
		y=y-1;
</font>	}
	else if(smjer==Smjerovi::GoreDesno) {
		if(x-1&lt;0 || y+1==polja.size()) throw std::out_of_range("Izlazak van igrace table");
<a name="3"></a><font color="#00FFFF"><a href="match816-0.html#3" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_1.gif"/></a>

		else if(polja[x-1][y+1]==Polje::BlokiranoPrazno || polja[x-1][y+1]==Polje::BlokiranoPosjeceno || polja[x-1][y+1]==Polje::BlokiranoMina) throw std::logic_error("Blokirano polje");
		polja[x][y]=Polje::Posjeceno;
		x=x-1;
		y=y+1;
</font>	}
	else if(smjer==Smjerovi::DoljeLijevo) {
		if(x+1==polja.size() || y-1&lt;0) throw std::out_of_range("Izlazak van igrace table");
<a name="1"></a><font color="#00FF00"><a href="match816-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_1.gif"/></a>

		else if(polja[x+1][y-1]==Polje::BlokiranoPrazno || polja[x+1][y-1]==Polje::BlokiranoPosjeceno || polja[x+1][y-1]==Polje::BlokiranoMina) throw std::logic_error("Blokirano polje");
		polja[x][y]=Polje::Posjeceno;
		x=x+1;
		y=y-1;
</font>	}
	else if(smjer==Smjerovi::DoljeDesno) {
		if(x+1==polja.size() || y+1==polja.size()) throw std::out_of_range("Izlazak van igrace table");
<a name="2"></a><font color="#0000FF"><a href="match816-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_1.gif"/></a>

		else if(polja[x+1][y+1]==Polje::BlokiranoPrazno || polja[x+1][y+1]==Polje::BlokiranoPosjeceno || polja[x+1][y+1]==Polje::BlokiranoMina) throw std::logic_error("Blokirano polje");
		polja[x][y]=Polje::Posjeceno;
		x=x+1;
		y=y+1;
</font>	}
<a name="10"></a><font color="#FF0000"><a href="match816-0.html#10" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_0.gif"/></a>

	if(polja[x][y]==Polje::Mina) {
		for(int i(0); i&lt;polja.size(); i++) 
			for(int j(0); j&lt;polja.size(); j++) 
				polja[i][j]=Polje::Prazno;
		return Status::KrajPoraz;
</font>	}
<a name="11"></a><font color="#00FF00"><a href="match816-0.html#11" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_0.gif"/></a>

	int temp(0);
	for(int i(0); i&lt;polja.size(); i++) 
		for(int j(0); j&lt;polja.size(); j++) 
			if(polja[i][j]==Polje::Prazno)
</font>				temp=1;
<a name="16"></a><font color="#00FF00"><a href="match816-0.html#16" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_0.gif"/></a>

	if(temp==0) return Status::KrajPobjeda;
	return Status::NijeKraj;
}
Status Idi(Tabla &amp;polja, int &amp;x, int &amp;y, int novi_x, int novi_y) {
</font>	if(novi_x&lt;0 || novi_y&lt;0 || novi_x&gt;=polja.size() || novi_y&gt;=polja.size()) throw std::out_of_range("Izlazak van igrace table");
	//if(x&lt;0 || y&lt;0 || x&gt;=polja.size() || y&gt;=polja.size()) throw std::out_of_range("Izlazak van igrace table");
	else if(polja[novi_x][novi_y]==Polje::BlokiranoPrazno || polja[novi_x][novi_y]==Polje::BlokiranoPosjeceno || polja[novi_x][novi_y]==Polje::BlokiranoMina) throw std::logic_error("Blokirano polje");
	//else if(polja[x][y]==Polje::BlokiranoPrazno || polja[x][y]==Polje::BlokiranoPosjeceno || polja[x][y]==Polje::BlokiranoMina) throw std::logic_error("Blokirano polje");

<a name="4"></a><font color="#FF00FF"><a href="match816-0.html#4" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_1.gif"/></a>

	polja[x][y]=Polje::Posjeceno;
	x=novi_x;
	y=novi_y;
	if(polja[x][y]==Polje::Mina) {
		for(int i(0); i&lt;polja.size(); i++) 
			for(int j(0); j&lt;polja.size(); j++)
				polja[i][j]=Polje::Prazno;
		return Status::KrajPoraz;
</font>	}
<a name="12"></a><font color="#0000FF"><a href="match816-0.html#12" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_0.gif"/></a>

	int temp(0);
	for(int i(0); i&lt;polja.size(); i++) {
		for(int j(0); j&lt;polja.size(); j++) {
			if(polja[i][j]==Polje::Prazno) temp=1;
</font>		}
	}
<a name="13"></a><font color="#00FFFF"><a href="match816-0.html#13" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_0.gif"/></a>

	if(temp==0) return Status::KrajPobjeda;
	return Status::NijeKraj;
}
bool UnosKomande(Komande &amp;komanda, Smjerovi &amp;smjer, int &amp;x, int &amp;y, KodoviGresaka &amp;greska) {
	std::string string;
</font>	std::string pomocni;
	int a(0), b(0);
	std::getline(std::cin, string);
	int i(0);
	if(string[0]==' ') {
		while(string[i]==' ') i++;
		while(i&lt;string.length()) {
			pomocni.push_back(string[i]);
			i++;
		}
		string=pomocni;
		pomocni.clear();
		i=0;
	}
	if(string[0]=='K') {
		if(string.length()==1) {
			komanda=Komande::KreirajIgru;
			return true;
		}
		else {
			if(string[1]!=' ') {
				greska=KodoviGresaka::SuvisanParametar;
				return false;
			}
			else {
				int s(1);
				while(s&lt;string.length()) {
					if(string[s]!=' ') {
						greska=KodoviGresaka::SuvisanParametar;
						return false;
					}
					s++;
				}
				if(s==string.length()) {
					komanda=Komande::KreirajIgru;
					return true;
				}
			}
		}
	}
	else if(string[0]=='Z') {
		if(string.length()==1) {
			komanda=Komande::ZavrsiIgru;
			return true;
		}
		else {
			if(string[1]!=' ') {
				greska=KodoviGresaka::SuvisanParametar;
				return false;
			}
			else {
				int s(1);
				while(s&lt;string.length()) {
					if(string[s]!=' ') {
						greska=KodoviGresaka::SuvisanParametar;
						return false;
					}
					s++;
				}
				if(s==string.length()) {
					komanda=Komande::ZavrsiIgru;
					return true;
				}
			}
		}
	}
	else if(string[0]=='P' &amp;&amp; string[1]=='O') {
		if(string.length()==2) {
			komanda=Komande::PrikaziOkolinu;
			return true;
		}
		else {
			if(string[2]!=' ') {
				greska=KodoviGresaka::SuvisanParametar;
				return false;
			}
			else {
				int s(2);
				while(s&lt;string.length()) {
					if(string[s]!=' ') {
						greska=KodoviGresaka::SuvisanParametar;
						return false;
					}
					s++;
				}
				if(s==string.length()) {
					komanda=Komande::PrikaziOkolinu;
					return true;
				}
			}
		}
	}
	else if(string[0]=='D' || string[0]=='B') {
		if(string[1]==' ') {
			int s(1);
			while(string[s]==' ') s++;
			if(string[s]&gt;='0' &amp;&amp; string[s]&lt;='9') {
				while(string[s]!=' ' &amp;&amp; (string[s]&gt;='0' &amp;&amp; string[s]&lt;='9')) {
					a=a*10+string[s]-'0';
					s++;
					if(!(string[s]&gt;='0' &amp;&amp; string[s]&lt;='9') &amp;&amp; string[s]!=' ') {
						greska=KodoviGresaka::NedostajeParametar;
						a=0;
						return false;
					}
				}
				if(string[s]==' ') {
					while(string[s]==' ') s++;
				}
				if(string[s]&gt;='0' &amp;&amp; string[s]&lt;='9') {
					while(string[s]!=' ' &amp;&amp; (string[s]&gt;='0' &amp;&amp; string[s]&lt;='9')) {
						b=b*10+string[s]-'0';
						s++;
						/*if(!(string[s]&gt;='0' &amp;&amp; string[s]&lt;='9') &amp;&amp; string[s]!=' ') {
							greska=KodoviGresaka::NedostajeParametar;
							b=0;
							return false;
						}*/
					}
					if(string[s]==' ') {
						while(string[s]==' ') s++;
						if(s==string.length()) {
							if(string[0]=='D') {
								komanda=Komande::Deblokiraj;
								x=a;
								y=b;
								return true;
							}
							else {
								komanda=Komande::Blokiraj;
								x=a;
								y=b;
								return true;
							}
						}
						else {
							greska=KodoviGresaka::SuvisanParametar;
							return false;
						}
					}
					else if(s==string.length()) {
						if(string[0]=='D') {
							komanda=Komande::Deblokiraj;
							x=a;
							y=b;
							return true;
						}
						else {
							komanda=Komande::Blokiraj;
							x=a;
							y=b;
							return true;
						}
					}
					else {
						greska=KodoviGresaka::SuvisanParametar;
						return false;
					}
				}
				else {
					greska=KodoviGresaka::NedostajeParametar;
					return false;
				}
			}
			else {
				greska=KodoviGresaka::NedostajeParametar;
				return false;
			}
		}
		else if(string[1]&gt;='0' &amp;&amp; string[1]&lt;='9') {																//odavde ako nema razmaka izmedju
			int s(1);
			while(string[s]!=' ' &amp;&amp; (string[s]&gt;='0' &amp;&amp; string[s]&lt;='9')) {
				a=a*10+string[s]-'0';
				s++;
				if(!(string[s]&gt;='0' &amp;&amp; string[s]&lt;='9') &amp;&amp; string[s]!=' ') {
					greska=KodoviGresaka::NedostajeParametar;
					a=0;
					return false;
				}
			}
			if(string[s]==' ') {
				while(string[s]==' ') s++;
			}
			if(string[s]&gt;='0' &amp;&amp; string[s]&lt;='9') {
				while(string[s]!=' ' &amp;&amp; (string[s]&gt;='0' &amp;&amp; string[s]&lt;='9')) {
					b=b*10+string[s]-'0';
					s++;
					/*if(!(string[s]&gt;='0' &amp;&amp; string[s]&lt;='9') &amp;&amp; string[s]!=' ') {
						greska=KodoviGresaka::NedostajeParametar;
						b=0;
						return false;
					}*/
				}
				if(string[s]==' ') {
					while(string[s]==' ') s++;
					if(s==string.length()) {
						if(string[0]=='D') {
							komanda=Komande::Deblokiraj;
							x=a;
							y=b;
							return true;
						}
						else {
							komanda=Komande::Blokiraj;
							x=a;
							y=b;
							return true;
						}
					}
					else {
						greska=KodoviGresaka::SuvisanParametar;
						return false;
					}
				}
				else if(s==string.length()) {
					if(string[0]=='D') {
						komanda=Komande::Deblokiraj;
						x=a;
						y=b;
						return true;
					}
					else {
						komanda=Komande::Blokiraj;
						x=a;
						y=b;
						return true;
					}
				}
				else {
					greska=KodoviGresaka::SuvisanParametar;
					return false;
				}
			}
			else {
				greska=KodoviGresaka::NedostajeParametar;
				return false;
			}
		}
		else {
			greska=KodoviGresaka::NedostajeParametar;
			return false;
		}
	}
	else if(string[0]=='P' &amp;&amp; string[1]=='&gt;') {
		if(string[2]==' ') {
			int s(2);
			while(string[s]==' ') s++;
			if(string[s]&gt;='0' &amp;&amp; string[s]&lt;='9') {
				while(string[s]!=' ' &amp;&amp; (string[s]&gt;='0' &amp;&amp; string[s]&lt;='9')) {
					a=a*10+string[s]-'0';
					s++;
					if(!(string[s]&gt;='0' &amp;&amp; string[s]&lt;='9') &amp;&amp; string[s]!=' ') {
						greska=KodoviGresaka::NedostajeParametar;
						a=0;
						return false;
					}
				}
				if(string[s]==' ') {
					while(string[s]==' ') s++;
				}
				if(string[s]&gt;='0' &amp;&amp; string[s]&lt;='9') {
					while(string[s]!=' ' &amp;&amp; (string[s]&gt;='0' &amp;&amp; string[s]&lt;='9')) {
						b=b*10+string[s]-'0';
						s++;
						/*if(!(string[s]&gt;='0' &amp;&amp; string[s]&lt;='9') &amp;&amp; string[s]!=' ') {
							greska=KodoviGresaka::NedostajeParametar;
							b=0;
							return false;
						}*/
					}
					if(string[s]==' ') {
						while(string[s]==' ') s++;
						if(s==string.length()) {
							komanda=Komande::PomjeriDalje;
							x=a;
							y=b;
							return true;
						}
						else {
							greska=KodoviGresaka::SuvisanParametar;
							return false;
						}
					}
					else if(s==string.length()){
						komanda=Komande::PomjeriDalje;
						x=a;
						y=b;
						return true;
					}
					else {
						greska=KodoviGresaka::SuvisanParametar;
						return false;
					}
				}
				else {
					greska=KodoviGresaka::NedostajeParametar;
					return false;
				}
			}
			else {
				greska=KodoviGresaka::NedostajeParametar;
				return false;
			}
		}
		else if(string[2]&gt;='0' &amp;&amp; string[2]&lt;='9') {	                            //ako nema razmaka izmedju komande i parametra
			int s(2);
			while(string[s]!=' ' &amp;&amp; (string[s]&gt;='0' &amp;&amp; string[s]&lt;='9')) {
				a=a*10+string[s]-'0';
				s++;
				if(!(string[s]&gt;='0' &amp;&amp; string[s]&lt;='9') &amp;&amp; string[s]!=' ') {
					greska=KodoviGresaka::NedostajeParametar;
					a=0;
					return false;
				}
			}
			if(string[s]==' ') {
				while(string[s]==' ') s++;
			}
			if(string[s]&gt;='0' &amp;&amp; string[s]&lt;='9') {
				while(string[s]!=' ' &amp;&amp; (string[s]&gt;='0' &amp;&amp; string[s]&lt;='9')) {
					b=b*10+string[s]-'0';
					s++;
					/*if(!(string[s]&gt;='0' &amp;&amp; string[s]&lt;='9') &amp;&amp; string[s]!=' ') {
						greska=KodoviGresaka::NedostajeParametar;
						b=0;
						return false;
					}*/
				}
				if(string[s]==' ') {
					while(string[s]==' ') s++;
					if(s==string.length()) {
						komanda=Komande::PomjeriDalje;
						x=a;
						y=b;
						return true;
					}
					else {
						greska=KodoviGresaka::SuvisanParametar;
						return false;
					}
				}
				else if(s==string.length()) {
					komanda=Komande::PomjeriDalje;
					x=a;
					y=b;
					return true;
				}
				else {
					greska=KodoviGresaka::SuvisanParametar;
					return false;
				}
			}
			else {
				greska=KodoviGresaka::NedostajeParametar;
				return false;
			}
		}
		else {
			greska=KodoviGresaka::NedostajeParametar;
			return false;
		}
	}
	else if(string[0]=='P' &amp;&amp; string[1]=='1') {
		if(string[2]==' ') {													//ako ima razmak izmedju komande i parametra
			int s(2);
			while(string[s]==' ') s++;
			if(!(string[s]&gt;='A' &amp;&amp; string[s]&lt;='Z')) {							//ima komanda ali iza nije slovo
				greska=KodoviGresaka::NedostajeParametar;
				return false;
			}
			else {
				if(s==string.length()) {
					greska=KodoviGresaka::NedostajeParametar;
					return false;
				}
			}
			std::string strkomanda;
			while(s&lt;string.length()){
				strkomanda.push_back(string[s]);
				s++;
			}
			int j(0);
			std::string suzeno;
			while(j&lt;strkomanda.length()) {
				if(strkomanda[j]=='G' || strkomanda[j]=='D' || strkomanda[j]=='L' || strkomanda[j]=='o' || strkomanda[j]==' ') 
					suzeno.push_back(strkomanda[j++]);
				else {
					greska=KodoviGresaka::NedostajeParametar;
					return false;
				}
			}
			j=0;
			strkomanda.clear();
			while(j&lt;suzeno.length()) {
				if(suzeno[j]!=' ') strkomanda.push_back(suzeno[j]);
				j++;
			}
			if(strkomanda=="G") {
				smjer=Smjerovi::Gore;
				komanda=Komande::PomjeriJednoMjesto;
				return true;
			}
			else if(strkomanda=="L") {
				smjer=Smjerovi::Lijevo;
				komanda=Komande::PomjeriJednoMjesto;
				return true;
			}
			else if(strkomanda=="D") {
				smjer=Smjerovi::Desno;
				komanda=Komande::PomjeriJednoMjesto;
				return true;
			}
			else if(strkomanda=="Do") {
				smjer=Smjerovi::Dolje;
				komanda=Komande::PomjeriJednoMjesto;
				return true;
			}
			else if(strkomanda=="GL") {
				smjer=Smjerovi::GoreLijevo;
				komanda=Komande::PomjeriJednoMjesto;
				return true;
			}
			else if(strkomanda=="GD") {
				smjer=Smjerovi::GoreDesno;
				komanda=Komande::PomjeriJednoMjesto;
				return true;
			}
			else if(strkomanda=="DoD") {
				smjer=Smjerovi::DoljeDesno;
				komanda=Komande::PomjeriJednoMjesto;
				return true;
			}
			else if(strkomanda=="DoL") {
				smjer=Smjerovi::DoljeLijevo;
				komanda=Komande::PomjeriJednoMjesto;
				return true;
			}
			else {
                greska=KodoviGresaka::SuvisanParametar;
                return false;
			}
		}
		else {																	//ako nema razmaka izmedju komande i parametra
			if(string[2]=='G') {
				if(string.length()==3) {
					smjer=Smjerovi::Gore;
					komanda=Komande::PomjeriJednoMjesto;
					return true;
				}
				else if(string[3]=='L') {
					if(string.length()==4) {
						smjer=Smjerovi::GoreLijevo;
						komanda=Komande::PomjeriJednoMjesto;
						return true;
					}
					else {
						int i(4);
						if(string[i]==' ') {
							while(string[i]==' ') i++;
							if(i==string.length()) {							//mozda bude zezalo
								smjer=Smjerovi::GoreLijevo;
								komanda=Komande::PomjeriJednoMjesto;
								return true;
							}
							else {
								greska=KodoviGresaka::SuvisanParametar;
								return false;
							}
						}
						else {
							greska=KodoviGresaka::SuvisanParametar;
							return false;
						}
					}
				}
				else if(string[3]=='D') {
					if(string.length()==4) {
						smjer=Smjerovi::GoreDesno;
						komanda=Komande::PomjeriJednoMjesto;
						return true;
					}
					else {
						int i(4);
						if(string[i]==' ') {
							while(string[i]==' ') i++;
							if(i==string.length()) {							//mozda bude zezalo
								smjer=Smjerovi::GoreDesno;
								komanda=Komande::PomjeriJednoMjesto;
								return true;
							}
							else {
								greska=KodoviGresaka::SuvisanParametar;
								return false;
							}
						}
						else {
							greska=KodoviGresaka::SuvisanParametar;
							return false;
						}
					}
				}
				else if(string[3]==' ') {
					int i(3);
					while(string[i]==' ') i++;
					if(i==string.length()) {							//mozda bude zezalo
						smjer=Smjerovi::Gore;
						komanda=Komande::PomjeriJednoMjesto;
						return true;
					}
					else {
						greska=KodoviGresaka::SuvisanParametar;
						return false;
					}
				}
				else {
					greska=KodoviGresaka::SuvisanParametar;
					return false;
				}
			}
			else if(string[2]=='L') {
				if(string.length()==3) {
					smjer=Smjerovi::Lijevo;
					komanda=Komande::PomjeriJednoMjesto;
					return true;
				}
				else {
					if(string[3]==' ') {
						int i(3);
						while(string[i]==' ') i++;
						if(i==string.length()) {
							smjer=Smjerovi::Lijevo;
							komanda=Komande::PomjeriJednoMjesto;
							return true;
						}
						else {
							greska=KodoviGresaka::SuvisanParametar;
							return false;
						}
					}
					else {
						greska=KodoviGresaka::SuvisanParametar;
						return false;
					}
				}
			}
			else if(string[2]=='D') {
				if(string.length()==3) {
					smjer=Smjerovi::Desno;
					komanda=Komande::PomjeriJednoMjesto;
					return true;
				}
				else if(string[3]==' ') {
					int i(3);
					while(string[i]==' ') i++;
					if(i==string.length()) {							//mozda bude zezalo
						smjer=Smjerovi::Desno;
						komanda=Komande::PomjeriJednoMjesto;
						return true;
					}
					else {
						greska=KodoviGresaka::SuvisanParametar;
						return false;
					}
				}
				else if(string[3]=='o') {
					if(string.length()==4) {
						smjer=Smjerovi::Dolje;
						komanda=Komande::PomjeriJednoMjesto;
						return true;
					}
					else if(string[4]==' ') {
						int i(4);
						while(string[i]==' ') i++;
						if(i==string.length()) {							//mozda bude zezalo
							smjer=Smjerovi::Dolje;
							komanda=Komande::PomjeriJednoMjesto;
							return true;
						}
						else {
							greska=KodoviGresaka::SuvisanParametar;
							return false;
						}
					}
					else if(string[4]=='L') {
						if(string.length()==5) {
							smjer=Smjerovi::DoljeLijevo;
							komanda=Komande::PomjeriJednoMjesto;
							return true;
						}
						else if(string[5]==' ') {
							int i(5);
							while(string[i]==' ') i++;
							if(i==string.length()) {							//mozda bude zezalo
								smjer=Smjerovi::DoljeLijevo;
								komanda=Komande::PomjeriJednoMjesto;
								return true;
							}
							else {
								greska=KodoviGresaka::SuvisanParametar;
								return false;
							}
						}
						else {
							greska=KodoviGresaka::SuvisanParametar;
							return false;
						}
					}
					else if(string[4]=='D') {
						if(string.length()==5) {
							smjer=Smjerovi::DoljeDesno;
							komanda=Komande::PomjeriJednoMjesto;
							return true;
						}
						else if(string[5]==' ') {
							int i(5);
							while(string[i]==' ') i++;
							if(i==string.length()) {							//mozda bude zezalo
								smjer=Smjerovi::DoljeDesno;
								komanda=Komande::PomjeriJednoMjesto;
								return true;
							}
							else {
								greska=KodoviGresaka::SuvisanParametar;
								return false;
							}
						}
						else {
							greska=KodoviGresaka::SuvisanParametar;
							return false;
						}
					}
					else {
						greska=KodoviGresaka::SuvisanParametar;
						return false;
					}
				}
				else {
					greska=KodoviGresaka::SuvisanParametar;
					return false;
				}
			}
		}
	}
	else {																		// ako ni komandu nije utrefio :-P, tu mu je i kraj
<a name="14"></a><font color="#FF00FF"><a href="match816-0.html#14" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_0.gif"/></a>

		greska=KodoviGresaka::PogresnaKomanda;
		return false;
	}
	return false;
}
void IzvrsiKomandu(Komande komanda, Tabla &amp;polja, int &amp;x, int &amp;y, Smjerovi p_smjer=Smjerovi::Gore, int p_x=0, int p_y=0) {
</font>	std::vector&lt;std::vector&lt;int&gt;&gt; mine;
	std::vector&lt;int&gt; pomocni;
	std::string string;
	//Smjerovi smjer;
	Status status;
	if(komanda==Komande::KreirajIgru) {
		int n, x(0), y(0);
		std::cout &lt;&lt; "Unesite broj polja: ";
		std::cin &gt;&gt; n;
		std::cout &lt;&lt; "Unesite pozicije mina: ";
		do {
			std::getline(std::cin, string);
			if(string==".") break;
			int pogreska(0);
			for(int i(0); i&lt;string.length(); i++) {
				if(!(string[i]=='(' || (string[i]&gt;='0' &amp;&amp; string[i]&lt;='9') || string[i]==',' || string[i]==')')) {
					pogreska=1;
					break;
				}
			}
			if(pogreska==0) {
				int i(0);
				while(i&lt;string.length()) {
					int k(1);
					if(string[0]!='(') {
						std::cout&lt;&lt; "Greska, unesite ponovo!\n";
						break;
					}
					if(!(string[k]&gt;='0' &amp;&amp; string[k]&lt;='9')) {
						std::cout &lt;&lt; "Greska, unesite ponovo!\n";
						break;
					}
					else {
						while(string[k]!=',' &amp;&amp; (string[k]&gt;='0' &amp;&amp; string[k]&lt;='9')) {
							x=x*10+string[k]-'0';
							k++;
							i=k;
							if(!(string[k]&gt;='0' &amp;&amp; string[k]&lt;='9')) pogreska=1;
						}
					}
					if(string[i]==',') {
						i++;
						k++;
						if(!(string[k]&gt;='0' &amp;&amp; string[k]&lt;='9')) {
							std::cout &lt;&lt; "Greska, unesite ponovo!\n";
						}
						while(string[k]!=')' &amp;&amp; (string[k]&gt;='0' &amp;&amp; string[k]&lt;='9')){
							y=y*10+string[k]-'0';
							k++;
							i=k;
							if(!(string[k]&gt;='0' &amp;&amp; string[k]&lt;='9')) pogreska=1;
						}
					}
					if(string[i]==')' &amp;&amp; i==string.length()-1) {
						if(x&lt;0 || y&lt;0 || x&gt;=n || y&gt;=n) {
							std::cout &lt;&lt; "Greska, unesite ponovo!\n";
							x=0;
							y=0;
						}
						else {
							pomocni.push_back(x);
							pomocni.push_back(y);
							mine.push_back(pomocni);
							pomocni.clear();
							x=0;
							y=0;
						}
					}
					else pogreska=1;
					i++;
				}
			}
			else if(pogreska==1){
				std::cout &lt;&lt; "Greska, unesite ponovo!\n";
				x=0;
				y=0;
				pogreska=0;
			}
		}while(string!=".");
		try {
			polja=KreirajIgru(n,mine);
		}
		catch(std::domain_error izuzetak) {
			std::cout &lt;&lt; izuzetak.what() &lt;&lt; std::endl;
		}
	}
	else if(komanda==Komande::Blokiraj) {
		try {
			BlokirajPolje(polja, x, y);
		}
		catch(std::domain_error izuzetak) {
			std::cout &lt;&lt; izuzetak.what() &lt;&lt; std::endl;
		}
	}
	else if(komanda==Komande::Deblokiraj) {
		try{
			DeblokirajPolje(polja, x, y);
		}
		catch(std::domain_error izuzetak) {
			std::cout &lt;&lt; izuzetak.what() &lt;&lt; std::endl;
		}
	}
	else if(komanda==Komande::PomjeriJednoMjesto) {
		int a(x), b(y);
		try {
			status=Idi(polja, x, y, p_smjer);
			if(a!=x || b!=y) std::cout&lt;&lt; "Tekuca pozicija igraca je (" &lt;&lt; x &lt;&lt; "," &lt;&lt; y &lt;&lt; ")" &lt;&lt; std::endl;
			if(status==Status::KrajPobjeda) {
<a name="8"></a><font color="#00FFFF"><a href="match816-0.html#8" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_0.gif"/></a>

				std::cout &lt;&lt; "Bravo, obisli ste sva sigurna polja" &lt;&lt; std::endl;
				for(int i(0); i&lt;polja.size(); i++) {
					for(int j(0); j&lt;polja.size(); j++) {
						polja[i][j]=Polje::Prazno;
					}
				}
				throw std::runtime_error("Igra zavrsena");
			}
			else if(status==Status::KrajPoraz) {
				std::cout &lt;&lt; "Nagazili ste na minu" &lt;&lt; std::endl;
</font>				for(int i(0); i&lt;polja.size(); i++) {
					for(int j(0); j&lt;polja.size(); j++) {
						polja[i][j]=Polje::Prazno;
					}
				}
				throw std::runtime_error("Igra zavrsena");
			}
		}
		catch(std::out_of_range izuzetak) {
			std::cout &lt;&lt; izuzetak.what() &lt;&lt; std::endl;
		}
		catch(std::logic_error izuzetak) {
			std::cout &lt;&lt; izuzetak.what() &lt;&lt; std::endl;
		}
	}
	else if(komanda==Komande::PomjeriDalje) {
		int a(0), b(0);
		try {
			status=Idi(polja, p_x, p_y, x, y);
			if(a!=x || b!=y) std::cout &lt;&lt; "Tekuca pozicija igraca je (" &lt;&lt; x &lt;&lt; "," &lt;&lt; y &lt;&lt; ")" &lt;&lt; std::endl;
			if(status==Status::KrajPobjeda) {
				std::cout &lt;&lt; "Bravo, obisli ste sva sigurna polja" &lt;&lt; std::endl;
				for(int i(0); i&lt;polja.size(); i++) {
					for(int j(0); j&lt;polja.size(); j++) {
<a name="17"></a><font color="#0000FF"><a href="match816-0.html#17" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_0.gif"/></a>

						polja[i][j]=Polje::Prazno;
					}
				}
				throw std::runtime_error("Igra zavrsena");
			}
			else if(status==Status::KrajPoraz) {
				std::cout &lt;&lt; "Nagazili ste na minu" &lt;&lt; std::endl;
</font>				for(int i(0); i&lt;polja.size(); i++) {
					for(int j(0); j&lt;polja.size(); j++) {
						polja[i][j]=Polje::Prazno;
					}
				}
				throw std::runtime_error("Igra zavrsena");
			}
		}
		catch(std::out_of_range izuzetak) {
			std::cout &lt;&lt; izuzetak.what() &lt;&lt; std::endl;
		}
		catch(std::logic_error izuzetak) {
			std::cout &lt;&lt; izuzetak.what() &lt;&lt; std::endl;
		}
	}
	else if(komanda==Komande::PrikaziOkolinu) {
		std::vector&lt;std::vector&lt;int&gt;&gt; okolina(3, std::vector&lt;int&gt;(3));
		okolina=PrikaziOkolinu(polja, x, y);
		for(int i(0); i&lt;okolina.size(); i++) {
			for(int j(0); j&lt;okolina.size(); j++) {
				std::cout &lt;&lt; okolina[i][j] &lt;&lt; " ";
			}
			std::cout &lt;&lt; std::endl;
		}
	}
	else if(komanda==Komande::ZavrsiIgru) {
		for(int i(0); i&lt;polja.size(); i++) {
			for(int j(0); j&lt;polja.size(); j++) {
				polja[i][j]=Polje::Prazno;
			}
		}
		throw std::runtime_error("Igra zavrsena");
	}
}
int main (){															//nema niko duzi :-)
	Tabla tabla;
	int x, y;
	Komande komanda;
	Smjerovi smjer;
	KodoviGresaka greska;
	bool jel=true;
	while(1) {
		try {
			std::cout &lt;&lt; "Unesite komandu: ";
			jel=UnosKomande(komanda, smjer, x, y, greska);
			if(jel) IzvrsiKomandu(komanda, tabla, x, y);
			else PrijaviGresku(greska);
		}
		catch(...) {
			std::cout &lt;&lt; "Dovidjenja!";
			return 0;
		}
	}
	return 0;
}</pre>
</body>
</html>
