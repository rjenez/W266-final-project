<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z2/Z1/student4167.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z2/Z1/student4167.cpp<p></p><pre>
#include &lt;iostream&gt;
#include &lt;vector&gt;
#include &lt;stdexcept&gt;

enum class Polje {
	Prazno, Posjeceno, Mina, BlokiranoPrazno, BlokiranoPosjeceno, BlokiranoMina
};

enum class Smjerovi {
 GoreLijevo, Gore, GoreDesno, Desno, DoljeDesno, Dolje, DoljeLijevo, Lijevo
};

enum class Status {
	NijeKraj, KrajPoraz, KrajPobjeda
};

enum class KodoviGresaka {
	PogresnaKomanda, NedostajeParametar, SuvisanParametar, NeispravanParametar,
};

enum class Komande {
	PomjeriJednoMjesto, PomjeriDalje, Blokiraj, Deblokiraj, PrikaziOkolinu, ZavrsiIgru, KreirajIgru
};

typedef std::vector&lt;std::vector&lt;Polje&gt;&gt; Tabla;

Tabla KreirajIgru(int n, const std::vector&lt;std::vector&lt;int&gt;&gt; &amp;mine) {
	for(const auto &amp;x : mine) {
		if(x.size()!=2) throw std::domain_error("Ilegalan format zadavanja mina");
		if(x[0]&gt;=n or x[1]&gt;=n) throw std::domain_error("Ilegalne pozicije mina");
	}
	Tabla polja(n, std::vector&lt;Polje&gt; (n, Polje::Prazno));
	for(int i(0); i&lt;n; i++)
		for(int j(0); j&lt;n; j++)
			for(const std::vector&lt;int&gt; &amp;x : mine)
				if(i==x[0] and j==x[1]) polja[i][j]=Polje::Mina;
	/*for(auto x : polja) {
		for(auto y : x)
			std::cout &lt;&lt; int(y) &lt;&lt; " ";
		std::cout &lt;&lt; std::endl;
	}*/
	return polja;
}

std::vector&lt;std::vector&lt;int&gt;&gt; PrikaziOkolinu(const Tabla &amp;polja, int x, int y) {
	try {
	if(x&gt;=polja.size() or y&gt;=polja[0].size() or x&lt;0 or y&lt;0) throw std::domain_error("");
	}
	catch(std::domain_error) {
		std::cout &lt;&lt; "Polje (" &lt;&lt; x &lt;&lt; "," &lt;&lt; y &lt;&lt; ") ne postoji";
		throw;
	}
	/*for(auto x : polja) {
		for(auto y : x)
			std::cout &lt;&lt; int(y) &lt;&lt; " ";
		std::cout &lt;&lt; std::endl;
	}std::cout &lt;&lt; std::endl;*/
	int a(0), b(0), c(0), d(0), e(0), f(0), g(0), h(0), k(0);
	if(polja[x][y]==Polje::Mina) {
			a++; b++; c++; d++; f++; g++; h++; k++;
		}
	if(x&gt;=2 and y&gt;=2)
		if(polja[x-2][y-2]==Polje::Mina) {
			a++;
		}
	if(x&gt;=2 and y&gt;=1)
		if(polja[x-2][y-1]==Polje::Mina) {
			a++; b++;
		}
	if(x&gt;=2)
		if(polja[x-2][y]==Polje::Mina) {
			a++; b++; c++;
		}
	if(x&gt;=2 and y&lt;=polja[0].size()-2)
		if(polja[x-2][y+1]==Polje::Mina) {
			b++; c++;
		}
	if(x&gt;=2 and y&lt;=polja[0].size()-3)
		if(polja[x-2][y+2]==Polje::Mina) {
			c++;
		}
	if(x&gt;=1 and y&lt;=polja[0].size()-3)
		if(polja[x-1][y+2]==Polje::Mina) {
			c++; f++;
		}
	if(x&gt;=1 and y&lt;=polja[0].size()-2)
		if(polja[x-1][y+1]==Polje::Mina) {
			b++; e++; f++;
		}
	if(x&gt;=1)
		if(polja[x-1][y]==Polje::Mina) {
			a++; c++; e++; f++; d++;
		}
	if(x&gt;=1 and y&gt;=1)
		if(polja[x-1][y-1]==Polje::Mina) {
			b++; e++; d++;
		}
	if(x&gt;=1 and y&gt;=2)
		if(polja[x-1][y-2]==Polje::Mina) {
			a++; d++;
		}
	if(y&gt;=2)
		if(polja[x][y-2]==Polje::Mina) {
			a++; d++; g++;
		}
	if(y&gt;=1)
		if(polja[x][y-1]==Polje::Mina) {
			a++; b++; g++; e++; h++;
		}
	if(y&lt;=polja[0].size()-2)
		if(polja[x][y+1]==Polje::Mina) {
			b++; c++; e++; h++; k++;
		}
	if(y&lt;=polja[0].size()-3)
		if(polja[x][y+2]==Polje::Mina) {
			c++; f++; k++;
		}
	if(x&lt;=polja.size()-2 and y&lt;=polja[0].size()-3)
		if(polja[x+1][y+2]==Polje::Mina) {
			f++; k++;
		}
	if(x&lt;=polja.size()-2 and y&lt;=polja[0].size()-2)
		if(polja[x+1][y+1]==Polje::Mina) {
			f++; e++; h++;
		}
	if(x&lt;=polja.size()-2)
		if(polja[x+1][y]==Polje::Mina) {
			f++; e++; d++; g++; k++;
		}
	if(x&lt;=polja.size()-2 and y&gt;=1)
		if(polja[x+1][y-1]==Polje::Mina) {
			h++; e++; d++;
		}
	if(x&lt;=polja.size()-2 and y&gt;=2)
		if(polja[x+1][y-2]==Polje::Mina) {
			g++; d++;
		}
	if(x&lt;=polja.size()-3 and y&gt;=2)
		if(polja[x+2][y-2]==Polje::Mina) {
			g++;
		}
	if(x&lt;=polja.size()-3 and y&gt;=1)
		if(polja[x+2][y-1]==Polje::Mina) {
			g++; h++;
		}
	if(x&lt;=polja.size()-3)
		if(polja[x+2][y]==Polje::Mina) {
			g++; h++; k++;
		}
	if(x&lt;=polja.size()-3 and y&lt;=polja[0].size()-2)
		if(polja[x+2][y+1]==Polje::Mina) {
			h++; k++;
		}
	if(x&lt;=polja.size()-3 and y&lt;=polja[0].size()-3)
		if(polja[x+2][y+2]==Polje::Mina) {
			k++;
		}
	
	return {{a, b, c}, {d, e, f}, {g, h, k}};
}

void BlokirajPolje(Tabla &amp;polja, int x, int y) {
	try {
	if(x&gt;=polja.size() or y&gt;=polja[0].size() or x&lt;0 or y&lt;0) throw std::domain_error("");
	}
	catch(std::domain_error) {
		std::cout &lt;&lt; "Polje (" &lt;&lt; x &lt;&lt; "," &lt;&lt; y &lt;&lt; ") ne postoji";
		throw;
	}
	if(polja[x][y]==Polje::Prazno) polja[x][y]=Polje::BlokiranoPrazno;
	if(polja[x][y]==Polje::Posjeceno) polja[x][y]=Polje::BlokiranoPosjeceno;
	if(polja[x][y]==Polje::Mina) polja[x][y]=Polje::BlokiranoMina;
}

void DeblokirajPolje(Tabla &amp;polja, int x, int y) {
	try {
	if(x&gt;=polja.size() or y&gt;=polja[0].size() or x&lt;0 or y&lt;0) throw std::domain_error("");
	}
	catch(std::domain_error) {
		std::cout &lt;&lt; "Polje (" &lt;&lt; x &lt;&lt; "," &lt;&lt; y &lt;&lt; ") ne postoji";
		throw;
	}
	if(polja[x][y]==Polje::BlokiranoPrazno) polja[x][y]=Polje::Prazno;
<a name="12"></a><font color="#0000FF"><a href="match999-1.html#12" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_0.gif"/></a>

	if(polja[x][y]==Polje::BlokiranoPosjeceno) polja[x][y]=Polje::Posjeceno;
	if(polja[x][y]==Polje::BlokiranoMina) polja[x][y]=Polje::Mina;
}

Status Idi(Tabla &amp;polja, int &amp;x, int &amp;y, Smjerovi smjer) {
</font>	int x1(x), y1(y);
	if(x&gt;=polja.size() or  y&gt;=polja[0].size() or x&lt;0 or y&lt;0) throw std::out_of_range("Izlazak van igrace table");     //
	polja[x][y]=Polje::Posjeceno;
	if(smjer==Smjerovi::GoreLijevo) {
		x-=1; y-=1;
	}
	if(smjer==Smjerovi::Gore) {
		x-=1;
	}
	if(smjer==Smjerovi::GoreDesno) {
		x-=1; y+=1;
	}
	if(smjer==Smjerovi::Desno) {
		y+=1;
	}
	if(smjer==Smjerovi::DoljeDesno) {
		x+=1; y+=1;
	}
	if(smjer==Smjerovi::Dolje) {
		x+=1;
	}
	if(smjer==Smjerovi::DoljeLijevo) {
		x+=1; y-=1;
	}
	if(smjer==Smjerovi::Lijevo) {
		y-=1;
	}
	if(x&gt;=polja.size() or  y&gt;=polja[0].size() or x&lt;0 or y&lt;0) {
		x=x1; y=y1;
		throw std::out_of_range("Izlazak van igrace table");
	}
	if(polja[x][y]==Polje::BlokiranoPrazno or polja[x][y]==Polje::BlokiranoPosjeceno or polja[x][y]==Polje::BlokiranoMina) {
		x=x1; y=y1; 
		throw std::logic_error("Blokirano polje");
	}
	if(polja[x][y]==Polje::Mina) {
		for(std::vector&lt;Polje&gt; &amp;x : polja)
			for(Polje &amp;y : x) y = Polje::Prazno;
		return Status::KrajPoraz;
	}
	//polja[x][y]=Polje::Posjeceno;
	for(int i(0); i&lt;polja.size(); i++)                            //sva polja posjecena
<a name="4"></a><font color="#FF00FF"><a href="match999-1.html#4" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_0.gif"/></a>

		for(int j(0); j&lt;polja[0].size(); j++) {
			if(polja[i][j]==Polje::Prazno) {
				return Status::NijeKraj;
			}
		}
	return Status::KrajPobjeda;
}

Status Idi(Tabla &amp;polja, int &amp;x, int &amp;y, int novi_x, int novi_y) {
</font>	if(novi_x&gt;=polja.size() or  novi_y&gt;=polja[0].size() or novi_x&lt;0 or novi_y&lt;0) throw std::out_of_range("Izlazak van igrace table");
	if(polja[novi_x][novi_y]==Polje::BlokiranoPrazno or polja[novi_x][novi_y]==Polje::BlokiranoPosjeceno or polja[novi_x][novi_y]==Polje::BlokiranoMina) throw std::logic_error("Blokirano polje");
	polja[x][y]=Polje::Posjeceno;
	if(polja[novi_x][novi_y]==Polje::Mina) {
		for(std::vector&lt;Polje&gt; &amp;i : polja)
			for(Polje &amp;j : i) j = Polje::Prazno;
		return Status::KrajPoraz;
	}
	x=novi_x; y=novi_y;
	for(int i(0); i&lt;polja.size(); i++)                            //sva polja posjecena
		for(int j(0); j&lt;polja[0].size(); j++) {
			if(x==i and y==j) continue;
<a name="1"></a><font color="#00FF00"><a href="match999-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_1.gif"/></a>

			if(polja[i][j]==Polje::Prazno) {
				return Status::NijeKraj;
			}
		}
	return Status::KrajPobjeda;
}

void PrijaviGresku(KodoviGresaka greska) {
	if(greska==KodoviGresaka::PogresnaKomanda) std::cout &lt;&lt; "Nerazumljiva komanda!" &lt;&lt; std::endl;
	if(greska==KodoviGresaka::NedostajeParametar) std::cout &lt;&lt; "Komanda trazi parametar koji nije naveden!" &lt;&lt; std::endl;
</font><a name="2"></a><font color="#0000FF"><a href="match999-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_1.gif"/></a>

	if(greska==KodoviGresaka::NeispravanParametar) std::cout &lt;&lt; "Parametar komande nije ispravan!" &lt;&lt; std::endl;
	if(greska==KodoviGresaka::SuvisanParametar) std::cout &lt;&lt; "Zadan je suvisan parametar nakon komande!" &lt;&lt; std::endl;
}

bool UnosKomande(Komande &amp;komanda, Smjerovi &amp;smjer, int &amp;x, int &amp;y, KodoviGresaka &amp;greska) {
	char c;
</font>		std::cin &gt;&gt; c;
		if(c=='P') {
			if(std::cin.peek()=='1') {
				std::cin.get();
				while(1) {
        			if(std::cin.peek()==' ') {
            			std::cin.get();
        			} else break;
    			}
    			if(std::cin.peek()=='G') {
    				std::cin.get();
    				if(std::cin.peek()=='L') {
    					std::cin.get();
    					while(1) {
        					if(std::cin.peek()==' ') {
            					std::cin.get();
        					} else break;
    					}
    					if(std::cin.peek()=='\n') {
    						komanda=Komande::PomjeriJednoMjesto;
    						smjer=Smjerovi::GoreLijevo;
    					} else {
    						greska=KodoviGresaka::NeispravanParametar;
							std::cin.ignore(10000, '\n');
                			return false;
    					}
    				} else if(std::cin.peek()=='D') {
    					std::cin.get();
    					while(1) {
        					if(std::cin.peek()==' ') {
            					std::cin.get();
        					} else break;
    					}
    					if(std::cin.peek()=='\n') {
    						komanda=Komande::PomjeriJednoMjesto;
    						smjer=Smjerovi::GoreDesno;
    					} else {
    						greska=KodoviGresaka::NeispravanParametar;
							std::cin.ignore(10000, '\n');
                			return false;
    					}
    				} else if(std::cin.peek()=='\n') {
    					komanda=Komande::PomjeriJednoMjesto;
    					smjer=Smjerovi::Gore;
    				} else if(std::cin.peek()==' ') {
    					while(1) {
        					if(std::cin.peek()==' ') {
            				std::cin.get();
        					} else break;
    					}
    					if(std::cin.peek()=='\n') {
    						komanda=Komande::PomjeriJednoMjesto;
    						smjer=Smjerovi::Gore;
    					} else {
<a name="9"></a><font color="#FF00FF"><a href="match999-1.html#9" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_0.gif"/></a>

    						greska=KodoviGresaka::NeispravanParametar;
							std::cin.ignore(10000, '\n');
                			return false;
    					}
    				} else {
    					greska=KodoviGresaka::NeispravanParametar;
						std::cin.ignore(10000, '\n');
</font>                		return false;
    				}
    			} else if(std::cin.peek()=='D') {
    				std::cin.get();
    				if(std::cin.peek()=='o') {
    					std::cin.get();
    					if(std::cin.peek()==' ') {
    						while(1) {
	        					if(std::cin.peek()==' ') {
	            				std::cin.get();
	        					} else break;
    						}
    						if(std::cin.peek()=='\n') {
    							komanda=Komande::PomjeriJednoMjesto;
    							smjer=Smjerovi::Dolje;
    						} else {
    							greska=KodoviGresaka::NeispravanParametar;
								std::cin.ignore(10000, '\n');
	                			return false;
    						}
    					} else if(std::cin.peek()=='\n') {
    						komanda=Komande::PomjeriJednoMjesto;
    							smjer=Smjerovi::Dolje;
    					} else if(std::cin.peek()=='D') {
    						std::cin.get();
    						while(1) {
	        					if(std::cin.peek()==' ') {
	            				std::cin.get();
	        					} else break;
    						}
    						if(std::cin.peek()=='\n') {
    							komanda=Komande::PomjeriJednoMjesto;
    							smjer=Smjerovi::DoljeDesno;
    						} else {
    							greska=KodoviGresaka::NeispravanParametar;
								std::cin.ignore(10000, '\n');
	                			return false;
    						}
    					} else if(std::cin.peek()=='L') {
    						std::cin.get();
    						while(1) {
	        					if(std::cin.peek()==' ') {
	            				std::cin.get();
	        					} else break;
    						}
    						if(std::cin.peek()=='\n') {
    							komanda=Komande::PomjeriJednoMjesto;
    							smjer=Smjerovi::DoljeLijevo;
    						} else {
<a name="10"></a><font color="#FF0000"><a href="match999-1.html#10" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_0.gif"/></a>

    							greska=KodoviGresaka::NeispravanParametar;
								std::cin.ignore(10000, '\n');
	                			return false;
    						}
    					} else {
    						greska=KodoviGresaka::NeispravanParametar;
							std::cin.ignore(10000, '\n');
</font>	                		return false;
    					}
    				} else if(std::cin.peek()=='\n') {
    					komanda=Komande::PomjeriJednoMjesto;
    					smjer=Smjerovi::Desno;
    				} else if(std::cin.peek()==' ') {
    					while(1) {
        					if(std::cin.peek()==' ') {
            				std::cin.get();
        					} else break;
    					}
    					if(std::cin.peek()=='\n') {
    						komanda=Komande::PomjeriJednoMjesto;
    						smjer=Smjerovi::Desno;
    					} else {
<a name="11"></a><font color="#00FF00"><a href="match999-1.html#11" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_0.gif"/></a>

    						greska=KodoviGresaka::NeispravanParametar;
							std::cin.ignore(10000, '\n');
                			return false;
    					}
    				} else {
    					greska=KodoviGresaka::NeispravanParametar;
						std::cin.ignore(10000, '\n');
</font>                		return false;
    				}
    			} else if(std::cin.peek()=='L') {
    				std::cin.get();
    				while(1) {
        				if(std::cin.peek()==' ') {
            				std::cin.get();
        				} else break;
    				}
    				if(std::cin.peek()=='\n') {
    					komanda=Komande::PomjeriJednoMjesto;
    					smjer=Smjerovi::Lijevo;
    				} else {
    					greska=KodoviGresaka::NeispravanParametar;
						std::cin.ignore(10000, '\n');
	                	return false;
    				}
    			} else if(std::cin.peek()=='\n') {
    				std::cin.get();
    				greska=KodoviGresaka::NedostajeParametar;
	                return false;
    			} else {
    				greska=KodoviGresaka::NeispravanParametar;
					std::cin.ignore(10000, '\n');
                	return false;
    			}
			} else if(std::cin.peek()=='&gt;') {
				std::cin.get();
				while(std::cin.peek()==' ') std::cin.get();
				if(std::cin.peek()=='\n') {
    				std::cin.get();
    				greska=KodoviGresaka::NedostajeParametar;
	                return false;
    			}
				std::cin &gt;&gt; x &gt;&gt; y;
				if(!std::cin) {
					std::cin.clear();
					greska=KodoviGresaka::NeispravanParametar;
					std::cin.ignore(10000, '\n');
                	return false;
				}
<a name="3"></a><font color="#00FFFF"><a href="match999-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_0.gif"/></a>

				while(std::cin.peek()==' ') std::cin.get();
				if(std::cin.peek()!='\n') {
					greska=KodoviGresaka::NeispravanParametar;
    				std::cin.ignore(10000, '\n');
                	return false;
				}
				komanda=Komande::PomjeriDalje;
</font>			} else if(std::cin.peek()=='O') {
				std::cin.get();
				while(1) {
        			if(std::cin.peek()==' ') {
            			std::cin.get();
        			} else break;
    			}
    			if(std::cin.peek()!='\n') {
    				greska=KodoviGresaka::SuvisanParametar;
    				std::cin.ignore(10000, '\n');
                	return false;
    			}
    			komanda=Komande::PrikaziOkolinu;
			} else if(std::cin.peek()==' ') {
				while(1) {
        			if(std::cin.peek()==' ') {
            			std::cin.get();
        			} else break;
    			}
    			if(std::cin.peek()=='\n') {
    				greska=KodoviGresaka::NedostajeParametar;
					std::cin.ignore(10000, '\n');
	                return false;
    			} else {
    				greska=KodoviGresaka::PogresnaKomanda;
					std::cin.ignore(10000, '\n');
	                return false;
    			}
			} else if(std::cin.peek()=='\n') {
				greska=KodoviGresaka::NedostajeParametar;
				std::cin.ignore(10000, '\n');
                return false;
<a name="8"></a><font color="#00FFFF"><a href="match999-1.html#8" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_0.gif"/></a>

			} else {
				greska=KodoviGresaka::PogresnaKomanda;
				std::cin.ignore(10000, '\n');
                return false;
			}
		} else if(c=='B') {
			while(std::cin.peek()==' ') std::cin.get();
</font>			if(std::cin.peek()=='\n') {
    			std::cin.get();
    			greska=KodoviGresaka::NedostajeParametar;
	            return false;
    		}
			std::cin &gt;&gt; x &gt;&gt; y;
			if(!std::cin) {
				std::cin.clear();
				greska=KodoviGresaka::NeispravanParametar;
				std::cin.ignore(10000, '\n');
            	return false;
			}
<a name="5"></a><font color="#FF0000"><a href="match999-1.html#5" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_0.gif"/></a>

			while(std::cin.peek()==' ') std::cin.get();
				if(std::cin.peek()!='\n') {
					greska=KodoviGresaka::NeispravanParametar;
    				std::cin.ignore(10000, '\n');
                	return false;
</font>				}
			komanda=Komande::Blokiraj;
		} else if(c=='D') {
			while(std::cin.peek()==' ') std::cin.get();
			if(std::cin.peek()=='\n') {
    			std::cin.get();
    			greska=KodoviGresaka::NedostajeParametar;
	            return false;
    		}
			std::cin &gt;&gt; x &gt;&gt; y;
			if(!std::cin) {
				std::cin.clear();
				greska=KodoviGresaka::NeispravanParametar;
				std::cin.ignore(10000, '\n');
            	return false;
			}
<a name="6"></a><font color="#00FF00"><a href="match999-1.html#6" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_0.gif"/></a>

			while(std::cin.peek()==' ') std::cin.get();
				if(std::cin.peek()!='\n') {
					greska=KodoviGresaka::NeispravanParametar;
    				std::cin.ignore(10000, '\n');
                	return false;
</font>				}
			komanda=Komande::Deblokiraj;
		} else if(c=='Z') {
			while(1) {
        		if(std::cin.peek()==' ') {
            		std::cin.get();
        		} else break;
    		}
    		if(std::cin.peek()!='\n') {
    			greska=KodoviGresaka::SuvisanParametar;
    			std::cin.ignore(10000, '\n');
                return false;
    		}
    		komanda=Komande::ZavrsiIgru;
		} else if(c=='K') {
			while(1) {
        		if(std::cin.peek()==' ') {
            		std::cin.get();
        		} else break;
    		}
    		if(std::cin.peek()!='\n') {
    			greska=KodoviGresaka::SuvisanParametar;
    			std::cin.ignore(10000, '\n');
                return false;
    		}
<a name="0"></a><font color="#FF0000"><a href="match999-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_1.gif"/></a>

    		komanda=Komande::KreirajIgru;
		} else {
			greska=KodoviGresaka::PogresnaKomanda;
			std::cin.ignore(10000, '\n');
            return false;
		}
	return true;
}

void IzvrsiKomandu(Komande komanda, Tabla &amp;polja, int &amp;x, int &amp;y, Smjerovi p_smjer=Smjerovi::Gore, int p_x=0, int p_y=0) {
	try {
		if(komanda==Komande::PomjeriJednoMjesto) {
			Status s(Idi(polja, x, y, p_smjer));
</font><a name="13"></a><font color="#00FFFF"><a href="match999-1.html#13" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_0.gif"/></a>

			std::cout &lt;&lt; "Tekuca pozicija igraca je (" &lt;&lt; x &lt;&lt; "," &lt;&lt; y &lt;&lt; ")" &lt;&lt; std::endl;
			if(s==Status::KrajPoraz) {
				std::cout &lt;&lt; "Nagazili ste na minu" &lt;&lt; std::endl;
				for(int i(0); i&lt;polja.size(); i++)
</font>					for(int j(0); j&lt;polja[0].size(); j++)
						polja[i][j]=Polje::Prazno;
			} else if(s==Status::KrajPobjeda) {
				std::cout &lt;&lt; "Bravo, obisli ste sva sigurna polja" &lt;&lt; std::endl;
				for(int i(0); i&lt;polja.size(); i++)
					for(int j(0); j&lt;polja[0].size(); j++)
						polja[i][j]=Polje::Prazno;
			}
		}
		if(komanda==Komande::PomjeriDalje) {
			Status s(Idi(polja, x, y, p_x, p_y));
<a name="14"></a><font color="#FF00FF"><a href="match999-1.html#14" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_0.gif"/></a>

			std::cout &lt;&lt; "Tekuca pozicija igraca je (" &lt;&lt; x &lt;&lt; "," &lt;&lt; y &lt;&lt; ")" &lt;&lt; std::endl;
			if(s==Status::KrajPoraz) {
				std::cout &lt;&lt; "Nagazili ste na minu" &lt;&lt; std::endl;
				for(int i(0); i&lt;polja.size(); i++)
</font>					for(int j(0); j&lt;polja[0].size(); j++)
						polja[i][j]=Polje::Prazno;
			} else if(s==Status::KrajPobjeda) {
				std::cout &lt;&lt; "Bravo, obisli ste sva sigurna polja" &lt;&lt; std::endl;
				for(int i(0); i&lt;polja.size(); i++)
					for(int j(0); j&lt;polja[0].size(); j++)
						polja[i][j]=Polje::Prazno;
			}
		}
<a name="15"></a><font color="#FF0000"><a href="match999-1.html#15" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_0.gif"/></a>

		if(komanda==Komande::Blokiraj) {
			BlokirajPolje(polja, p_x, p_y);
		}
		if(komanda==Komande::Deblokiraj) {
			DeblokirajPolje(polja, p_x, p_y);
		}
		if(komanda==Komande::PrikaziOkolinu) {
</font>			std::vector&lt;std::vector&lt;int&gt;&gt; mat(PrikaziOkolinu(polja, x, y));
			for(int i(0); i&lt;mat.size(); i++) {
<a name="7"></a><font color="#0000FF"><a href="match999-1.html#7" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_0.gif"/></a>

					for(int j(0); j&lt;mat[0].size(); j++)
						std::cout &lt;&lt; mat[i][j] &lt;&lt; " ";
				std::cout &lt;&lt; std::endl;
			}
		}
		if(komanda==Komande::ZavrsiIgru) {
			for(int i(0); i&lt;polja.size(); i++)
</font><a name="16"></a><font color="#00FF00"><a href="match999-1.html#16" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_0.gif"/></a>

				for(int j(0); j&lt;polja[0].size(); j++)
					polja[i][j]=Polje::Prazno;
			throw std::runtime_error("Igra zavrsena");
		}
		if(komanda==Komande::KreirajIgru) {
</font>			int n, c, v;
			std::cout &lt;&lt; "Unesite broj polja: ";
			std::cin &gt;&gt; n;
			std::vector&lt;std::vector&lt;int&gt;&gt; mat;
			int i(0);
			std::cin.ignore(1000, '\n');
			std::cout &lt;&lt; "Unesite pozicije mina: ";
			while(std::cin.peek()!='.') {
				if(std::cin.peek()=='(') {
					std::cin.get();
					std::cin &gt;&gt; c;
					if(std::cin.peek()==',') {
						std::cin.get();
						std::cin &gt;&gt; v;
						if(std::cin.peek()==')') {
							std::cin.get();
							if(std::cin.peek()=='\n' or std::cin.peek()==' ') {
								while(std::cin.peek()==' ') std::cin.get();
								if(c&gt;=n or v&gt;=n or c&lt;0 or v&lt;0) {
									std::cout &lt;&lt; "Greska, unesite ponovo!" &lt;&lt; std::endl;
									std::cin.ignore(1000, '\n');
								} else {
									if(std::cin.peek()==' ') std::cin.get();
									mat.resize(++i);
									mat[i-1].push_back(c);
									mat[i-1].push_back(v);
									std::cin.ignore(1000, '\n');
								}
							} else {
								std::cout &lt;&lt; "Greska, unesite ponovo!" &lt;&lt; std::endl;
							}
						} else {
								std::cout &lt;&lt; "Greska, unesite ponovo!" &lt;&lt; std::endl;
								std::cin.ignore(1000, '\n');
							}
					} else {
								std::cout &lt;&lt; "Greska, unesite ponovo!" &lt;&lt; std::endl;
								std::cin.ignore(1000, '\n');
							}
				} else {
					std::cout &lt;&lt; "Greska, unesite ponovo!" &lt;&lt; std::endl;
					std::cin.ignore(1000, '\n');
							}
			}
			polja=KreirajIgru(n, mat);
			std::cin.ignore(1000, '\n');
		}
	}
	catch(std::domain_error a) {
		std::cout &lt;&lt; a.what() &lt;&lt; std::endl;
	}
	catch(std::out_of_range a) {
		std::cout &lt;&lt; a.what() &lt;&lt; std::endl;
	}
	catch(std::logic_error a) {
		std::cout &lt;&lt; a.what() &lt;&lt; std::endl;
	}
	catch(std::runtime_error a) {
		//std::cout &lt;&lt; a.what() &lt;&lt; std::endl;
		throw;
	}
}

int main ()
{	
	Komande komanda;
	Smjerovi smjer;
	int x, x1(0);
	int y, y1(0);
	Tabla polja;
	KodoviGresaka greska;
	while(1) {
		try {
<a name="17"></a><font color="#0000FF"><a href="match999-1.html#17" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_0.gif"/></a>

			std::cout &lt;&lt; "Unesite komandu: ";
			bool a(UnosKomande(komanda, smjer, x, y, greska));
			if(a) {
				IzvrsiKomandu(komanda, polja, x1, y1, smjer, x, y);
</font>			} else {
				PrijaviGresku(greska);
			}
		}
		catch(std::runtime_error) {
			std::cout &lt;&lt; "Dovidjenja!" &lt;&lt; std::endl;
			break;
		}
	}
	return 0;
}</pre>
</body>
</html>
