<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z2/Z1/student8923.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z2/Z1/student8923.cpp<p></p><pre>
/*B 16/17, ZadaÄ‡a 2, Zadatak 1
	
	NAPOMENA: i javni ATo-vi su dio postavke
	
	Autotestovi by Ivona Ivkovic. Sva pitanja, sugestije
	i prijave gresaka saljite na mail: iivkovic2@etf.unsa.ba
	
*/
#include &lt;iostream&gt;
#include &lt;vector&gt;
#include &lt;stdexcept&gt;
#include &lt;string&gt;
#include &lt;cstring&gt;
<a name="11"></a><font color="#00FF00"><a href="match854-1.html#11" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_0.gif"/></a>

using std::cout;
using std::cin;
using std::vector;
using std::string;
enum class Polje { Prazno, Posjeceno, Mina, BlokiranoPrazno, BlokiranoPosjeceno, BlokiranoMina };
enum class Smjerovi { GoreLijevo, Gore, GoreDesno, Desno, DoljeDesno, Dolje, DoljeLijevo, Lijevo };
</font>enum class Status { NijeKraj, KrajPoraz, KrajPobjeda};
enum class KodoviGresaka { PogresnaKomanda, NedostajeParametar , SuvisanParametar, NeispravanParametar};
enum class Komande { PomjeriJednoMjesto, PomjeriDalje, Blokiraj, Deblokiraj, PrikaziOkolinu, ZavrsiIgru, KreirajIgru };
typedef vector&lt;vector&lt;Polje&gt;&gt; Tabla;
<a name="0"></a><font color="#FF0000"><a href="match854-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_1.gif"/></a>

Tabla KreirajIgru(int n,const std::vector&lt;std::vector&lt;int&gt;&gt; &amp;mine)
{
Tabla polja(n,vector&lt;Polje&gt;(n,Polje::Prazno));
	for(int i=0;i&lt;mine.size();i++)
	{
		if(mine[i].size()!=2) throw std::domain_error("Ilegalan format zadavanja mina");
	}
	for(int i=0;i&lt;mine.size();i++)
</font>	{
		for(int j=0;j&lt;mine[i].size();j++)
		if(mine[i][j]&gt;=n || mine[i][j]&lt;0) throw std::domain_error("Ilegalne pozicije mina");
	}
	for(int i=0;i&lt;mine.size();i++)
	{
<a name="10"></a><font color="#FF0000"><a href="match854-1.html#10" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_0.gif"/></a>

	 polja[mine[i][0]][mine[i][1]]=Polje::Mina;
	}
	return polja;
}
std::vector&lt;std::vector&lt;int&gt;&gt; PrikaziOkolinu(const Tabla &amp;polja, int x, int y)
</font>{
	vector&lt;vector&lt;int&gt;&gt; matrica(3,vector&lt;int&gt;(3,0));
	string recenica{"Polje ("};
   string recenica2{") ne postoji"};
   if(x&lt;0)
   {
   	x*=-1;
   	recenica.push_back('-');
   }
   char znak='0'+x;
   recenica.push_back(znak);
   recenica.push_back(',');
   if(y&lt;0)
   {
   	y*=-1;
   	recenica.push_back('-');
   }
   znak='0'+y;
   recenica.push_back(znak);
   recenica+=recenica2;
    if(x&lt;0 || y&lt;0 || x&gt;=polja.size() || y&gt;=polja[0].size()) throw std::domain_error(recenica);
    if(polja.size()==0 || polja.size()==1)
    return matrica;
    int tempi(0);
    for(int i=x-1;i&lt;=x+1;i++)
    {
    int tempj(0);
    for(int j=y-1;j&lt;=y+1;j++)
    {
    	if(i&lt;0 || j&lt;0 || i&gt;=polja.size() || y&gt;=polja[0].size())
    	matrica[tempi][tempj]=0;
    	int brojac(0);
    	if(i&gt;0 &amp;&amp; j&gt;0 &amp;&amp; i&lt;(polja.size()-1) &amp;&amp; j&lt;(polja[0].size()-1))
    	{
    		if(polja[i-1][j-1]==Polje::Mina)
    		brojac++;
    		if(polja[i-1][j]==Polje::Mina)
    		brojac++;
    		if(polja[i-1][j+1]==Polje::Mina)
    		brojac++;
    		if(polja[i][j-1]==Polje::Mina)
    		brojac++;
    		if(polja[i][j+1]==Polje::Mina)
    		brojac++;
    		if(polja[i+1][j-1]==Polje::Mina)
    		brojac++;
    		if(polja[i+1][j]==Polje::Mina)
    		brojac++;
    		if(polja[i+1][j+1]==Polje::Mina)
    		brojac++;
    		matrica[tempi][tempj]=brojac;
    	}
    	if(i==0 &amp;&amp; j&gt;0 &amp;&amp; i&lt;(polja.size()-1) &amp;&amp; j&lt;(polja[0].size()-1))
    	{
    		if(polja[i][j-1]==Polje::Mina)
    		brojac++;
    		if(polja[i][j+1]==Polje::Mina)
    		brojac++;
    		if(polja[i+1][j-1]==Polje::Mina)
    		brojac++;
    		if(polja[i+1][j]==Polje::Mina)
    		brojac++;
    		if(polja[i+1][j+1]==Polje::Mina)
    		brojac++;
    		matrica[tempi][tempj]=brojac;	
    	}
    	if(i&gt;0 &amp;&amp; j==0 &amp;&amp; i&lt;(polja.size()-1) &amp;&amp; j&lt;(polja[0].size()-1))
    	{
    		if(polja[i-1][j]==Polje::Mina)
    		brojac++;
    		if(polja[i-1][j+1]==Polje::Mina)
    		brojac++;
    		if(polja[i][j+1]==Polje::Mina)
    		brojac++;
    		if(polja[i+1][j]==Polje::Mina)
    		brojac++;
    		if(polja[i+1][j+1]==Polje::Mina)
    		brojac++;
    		matrica[tempi][tempj]=brojac;	
    	}
    	if(i==(polja.size()-1) &amp;&amp; j&gt;0 &amp;&amp; i&gt;0 &amp;&amp; j&lt;(polja[0].size()-1))
    	{
    		if(polja[i-1][j]==Polje::Mina)
    		brojac++;
    		if(polja[i][j-1]==Polje::Mina)
    		brojac++;
    		if(polja[i][j+1]==Polje::Mina)
    		brojac++;
    		if(polja[i-1][j-1]==Polje::Mina)
    		brojac++;
    		if(polja[i-1][j+1]==Polje::Mina)
    		brojac++;
    		matrica[tempi][tempj]=brojac;	
    	}
    	if(i&lt;(polja.size()-1) &amp;&amp; j&gt;0 &amp;&amp; i&gt;0 &amp;&amp; j==(polja[0].size()-1))
    	{
    		if(polja[i-1][j]==Polje::Mina)
    		brojac++;
    		if(polja[i+1][j]==Polje::Mina)
    		brojac++;
    		if(polja[i][j-1]==Polje::Mina)
    		brojac++;
    		if(polja[i-1][j-1]==Polje::Mina)
    		brojac++;
    		if(polja[i+1][j-11]==Polje::Mina)
    		brojac++;
    		matrica[tempi][tempj]=brojac;	
    	}
    	if(i==0 &amp;&amp; j==0)
    	{
    		if(polja[i][j+1]==Polje::Mina)
    		brojac++;
    		if(polja[i+1][j]==Polje::Mina)
    		brojac++;
    		if(polja[i+1][j+1]==Polje::Mina)
    		brojac++;
    		matrica[tempi][tempj]=brojac;	
    	}
    	if(i==0 &amp;&amp; j==(polja[0].size()-1))
    	{
    		if(polja[i][j-1]==Polje::Mina)
    		brojac++;
    		if(polja[i+1][j]==Polje::Mina)
    		brojac++;
    		if(polja[i+1][j-1]==Polje::Mina)
    		brojac++;
    		matrica[tempi][tempj]=brojac;
    	}
    	if(i==(polja.size()-1) &amp;&amp; j==0)
    	{
    		if(polja[i][j+1]==Polje::Mina)
    		brojac++;
    		if(polja[i-1][j]==Polje::Mina)
    		brojac++;
    		if(polja[i-1][j+1]==Polje::Mina)
    		brojac++;
    		matrica[tempi][tempj]=brojac;
    	}
    	if(i==(polja.size()-1) &amp;&amp; j==(polja[0].size()-1))
    	{
    		if(polja[i][j-1]==Polje::Mina)
    		brojac++;
    		if(polja[i-1][j]==Polje::Mina)
    		brojac++;
    		if(polja[i-1][j-1]==Polje::Mina)
    		brojac++;
    		matrica[tempi][tempj]=brojac;
    	}
    	tempj++;
    }
    tempi++;
    }
    return matrica;
}
void BlokirajPolje(Tabla &amp;polja, int x, int y)
{
//cout&lt;&lt;polja.size()&lt;&lt;" "&lt;&lt;x&lt;&lt;" "&lt;&lt;y;
string recenica{"Polje ("};
string recenica2{") ne postoji"};
if(x&lt;0)
{
	x*=-1;
	recenica.push_back('-');
}
char znak='0'+x;
recenica.push_back(znak);
recenica.push_back(',');
if(y&lt;0)
{
	y*=-1;
	recenica.push_back('-');
}
znak='0'+y;
recenica.push_back(znak);
recenica+=recenica2;
if(x&lt;0 || y&lt;0 || x&gt;=polja.size() || y&gt;=polja.size()) throw std::domain_error(recenica);
if(polja[x][y]==Polje::Prazno)
polja[x][y]=Polje::BlokiranoPrazno;
if(polja[x][y]==Polje::Mina)
polja[x][y]=Polje::BlokiranoMina;
if(polja[x][y]==Polje::Posjeceno)
polja[x][y]=Polje::BlokiranoPosjeceno;
}
void DeblokirajPolje(Tabla &amp;polja, int x, int y)
{
//cout&lt;&lt;polja.size()&lt;&lt;" "&lt;&lt;x&lt;&lt;" "&lt;&lt;y;
string recenica{"Polje ("};
string recenica2{") ne postoji"};
if(x&lt;0)
{
	x*=-1;
	recenica.push_back('-');
}
char znak='0'+x;
recenica.push_back(znak);
recenica.push_back(',');
if(y&lt;0)
{
	y*=-1;
	recenica.push_back('-');
}
znak='0'+y;
recenica.push_back(znak);
recenica+=recenica2;
if(x&lt;0 || y&lt;0 || x&gt;=polja.size() || y&gt;=polja.size()) throw std::domain_error(recenica);
if(polja[x][y]==Polje::BlokiranoPrazno)
polja[x][y]=Polje::Prazno;
if(polja[x][y]==Polje::BlokiranoMina)
polja[x][y]=Polje::Mina;
if(polja[x][y]==Polje::BlokiranoPosjeceno)
polja[x][y]=Polje::Posjeceno;	
}
Status Idi(Tabla &amp;polje, int &amp;x, int &amp;y, Smjerovi smjer)
{
if(polje.size()==0)
throw std::out_of_range("Izlazak van igrace table");
polje[x][y]=Polje::Posjeceno; //khm
	if(smjer==Smjerovi::GoreLijevo)
	{
		if(x&lt;1 || y&lt;1)
<a name="3"></a><font color="#00FFFF"><a href="match854-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_1.gif"/></a>

		throw std::out_of_range("Izlazak van igrace table");
		if(polje[x-1][y-1]==Polje::BlokiranoPosjeceno || polje[x-1][y-1]==Polje::BlokiranoPrazno || polje[x-1][y-1]==Polje::BlokiranoMina)
		throw std::logic_error("Blokirano polje");
</font>		x=x-1;
		y=y-1;
	}
	if(smjer==Smjerovi::Gore)
	{
		if(x&lt;1)
<a name="8"></a><font color="#00FFFF"><a href="match854-1.html#8" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_0.gif"/></a>

		throw std::out_of_range("Izlazak van igrace table");
		if(polje[x-1][y]==Polje::BlokiranoPosjeceno || polje[x-1][y]==Polje::BlokiranoPrazno || polje[x-1][y]==Polje::BlokiranoMina)
		throw std::logic_error("Blokirano polje");
</font>		x=x-1;
	}
	if(smjer==Smjerovi::GoreDesno)
	{
		if(x&lt;1 || y&gt;=(polje.size()-1))
<a name="2"></a><font color="#0000FF"><a href="match854-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_1.gif"/></a>

		throw std::out_of_range("Izlazak van igrace table");
		if(polje[x-1][y+1]==Polje::BlokiranoPosjeceno || polje[x-1][y+1]==Polje::BlokiranoPrazno || polje[x-1][y+1]==Polje::BlokiranoMina)
		throw std::logic_error("Blokirano polje");
		x=x-1;
</font>		y=y+1;
	}
	if(smjer==Smjerovi::Desno)
	{
		if(y&gt;=(polje.size()-1))
<a name="6"></a><font color="#00FF00"><a href="match854-1.html#6" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_1.gif"/></a>

		throw std::out_of_range("Izlazak van igrace table");
		if(polje[x][y+1]==Polje::BlokiranoPosjeceno || polje[x][y+1]==Polje::BlokiranoPrazno || polje[x][y+1]==Polje::BlokiranoMina)
		throw std::logic_error("Blokirano polje");
</font>		y=y+1;
	}
	if(smjer==Smjerovi::DoljeDesno)
	{
		if(x&gt;=(polje.size()-1) || y&gt;=(polje.size()-1))
<a name="4"></a><font color="#FF00FF"><a href="match854-1.html#4" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_1.gif"/></a>

		throw std::out_of_range("Izlazak van igrace table");
		if(polje[x+1][y+1]==Polje::BlokiranoPosjeceno || polje[x+1][y+1]==Polje::BlokiranoPrazno || polje[x+1][y+1]==Polje::BlokiranoMina)
		throw std::logic_error("Blokirano polje");
</font>		x=x+1;
		y=y+1;
	}
	if(smjer==Smjerovi::Dolje)
	{
		if(x&gt;=(polje.size()-1))
<a name="7"></a><font color="#0000FF"><a href="match854-1.html#7" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_0.gif"/></a>

		throw std::out_of_range("Izlazak van igrace table");
		if(polje[x+1][y]==Polje::BlokiranoPosjeceno || polje[x+1][y]==Polje::BlokiranoPrazno || polje[x+1][y]==Polje::BlokiranoMina)
		throw std::logic_error("Blokirano polje");
</font>		x=x+1;
	}
	if(smjer==Smjerovi::DoljeLijevo)
	{
		if(x&gt;=(polje.size()-1) || y&lt;1)
<a name="1"></a><font color="#00FF00"><a href="match854-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_1.gif"/></a>

		throw std::out_of_range("Izlazak van igrace table");
		if(polje[x+1][y-1]==Polje::BlokiranoPosjeceno || polje[x+1][y-1]==Polje::BlokiranoPrazno || polje[x+1][y-1]==Polje::BlokiranoMina)
		throw std::logic_error("Blokirano polje");
		x=x+1;
</font>		y=y-1;	
	}
	if(smjer==Smjerovi::Lijevo)
	{
		if(y&lt;1)
<a name="5"></a><font color="#FF0000"><a href="match854-1.html#5" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_1.gif"/></a>

		throw std::out_of_range("Izlazak van igrace table");
		if(polje[x][y-1]==Polje::BlokiranoPosjeceno || polje[x][y-1]==Polje::BlokiranoPrazno || polje[x][y-1]==Polje::BlokiranoMina)
		throw std::logic_error("Blokirano polje");
		y=y-1;
</font>	}
	if(polje[x][y]==Polje::Mina)
	{
		for(int i=0;i&lt;polje.size();i++)
		{
			for(int j=0;j&lt;polje[0].size();j++)
			polje[i][j]=Polje::Prazno;
		}
		return Status::KrajPoraz;
	}
	for(int i=0;i&lt;polje.size();i++)
	{
		for(int j=0;j&lt;polje[0].size();j++)
		{
			if(polje[i][j]!=Polje::Prazno)
			return Status::NijeKraj;
		}
	}
	return Status::KrajPobjeda;
}
Status Idi(Tabla &amp;polja, int &amp;x, int &amp;y, int novi_x, int novi_y)
{
		//cout&lt;&lt;polja.size()&lt;&lt;" "&lt;&lt;x&lt;&lt;" "&lt;&lt;y&lt;&lt;" "&lt;&lt;novi_x&lt;&lt;" "&lt;&lt;novi_y;
		if(novi_x&lt;0 || novi_x&gt;(polja.size()-1) || novi_y&lt;0 || novi_y&gt;(polja.size()-1) || polja.size()==0)
		throw std::out_of_range("Izlazak van igrace table");
		if(polja[novi_x][novi_y]==Polje::BlokiranoPosjeceno || polja[novi_x][novi_y]==Polje::BlokiranoPrazno || polja[novi_x][novi_y]==Polje::BlokiranoMina)
		throw std::logic_error("Blokirano polje");
<a name="15"></a><font color="#FF0000"><a href="match854-1.html#15" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_0.gif"/></a>

		polja[x][y]=Polje::Posjeceno; //khm
		x=novi_x;
		y=novi_y;
		if(polja[x][y]==Polje::Mina)
	{
		for(int i=0;i&lt;polja.size();i++)
</font>		{
			for(int j=0;j&lt;polja[0].size();j++)
			polja[i][j]=Polje::Prazno;
		}
		return Status::KrajPoraz;
	}
	for(int i=0;i&lt;polja.size();i++)
	{
		for(int j=0;j&lt;polja[0].size();j++)
		{
			if(polja[i][j]!=Polje::Prazno)
			return Status::NijeKraj;
		}
	}
	return Status::KrajPobjeda;
}
void PrijaviGresku(KodoviGresaka kod)
{
	if(kod==KodoviGresaka::PogresnaKomanda)
	cout&lt;&lt;"Nerazumljiva komanda!"&lt;&lt;std::endl;
	if(kod==KodoviGresaka::NedostajeParametar)
	cout&lt;&lt;"Komanda trazi parametar koji nije naveden!"&lt;&lt;std::endl;
	if(kod==KodoviGresaka::NeispravanParametar)
	cout&lt;&lt;"Parametar komande nije ispravan!"&lt;&lt;std::endl;
	if(kod==KodoviGresaka::SuvisanParametar)
<a name="13"></a><font color="#00FFFF"><a href="match854-1.html#13" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_0.gif"/></a>

	cout&lt;&lt;"Zadan je suvisan parametar nakon komande!"&lt;&lt;std::endl;
}
bool UnosKomande(Komande &amp;komanda, Smjerovi &amp;smjer, int &amp;x, int &amp;y, KodoviGresaka &amp;greska)
{
vector&lt;string&gt; svekom{"P1","P&gt;","B","D","PO","Z","K"};
</font><a name="14"></a><font color="#FF00FF"><a href="match854-1.html#14" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_0.gif"/></a>

vector&lt;string&gt; svismj{"GL","G","GD","D","DoD","Do","DoL","L"};
</font>string kom;
std::getline(cin,kom);
int i=0;
if(kom.size()&gt;0)
while(kom[i]==' ' &amp;&amp; i&lt;kom.size())
{
	i++;
}
string kom1;
int brojac(0);
while(kom[i]!=' ' &amp;&amp; i&lt;kom.size())
{
	kom1.push_back(kom[i]);
	if(kom[i]!='P')
	break;
	i++;
	if(brojac==1)
	break;
    brojac++;
}
int k(-1);
for(int j=0;j&lt;svekom.size();j++)
{
	if(kom1==svekom[j])
	{
		k=j;
		break;
	}
}
if(k==-1)
{
greska=KodoviGresaka::PogresnaKomanda;
return false;
}
i++;
while(kom[i]==' ' &amp;&amp; i&lt;kom.size())
i++;
if(k==4 || k==5 || k==6)
{
	if(i!=kom.size())
	{
		greska=KodoviGresaka::SuvisanParametar;
		return false;
	}
	else
	{
		if(k==4)
		{
			komanda=Komande::PrikaziOkolinu;
			return true;
		}
		if(k==5)
		{
			komanda=Komande::ZavrsiIgru;
			return true;
		}
		if(k==6)
		{
			komanda=Komande::KreirajIgru;
			return true;
		}
	}
}
if(k==0 || k==1 || k==2 || k==3)
{
	if(i==kom.size())
	{
		greska=KodoviGresaka::NedostajeParametar;
		return false;
	}
}
string kom2;
int m(-1);
if(k==0)
{
while(i&lt;kom.size() &amp;&amp; kom[i]!=' ')	
{
	kom2.push_back(kom[i]);
	i++;
}
for(int l=0;l&lt;svismj.size();l++)
{
	if(kom2==svismj[l])
	{
		m=l;
		break;
	}
}
}
while(i&lt;kom.size() &amp;&amp; kom[i]==' ')
i++;
if(k==0 &amp;&amp; (m==-1 || i!=kom.size()))
{
	greska=KodoviGresaka::NeispravanParametar;
	return false;
}
if(m==0)
{
	komanda=Komande::PomjeriJednoMjesto;
	smjer=Smjerovi::GoreLijevo;
	return true;
}
if(m==1)
{
	komanda=Komande::PomjeriJednoMjesto;
	smjer=Smjerovi::Gore;
	return true;
}
if(m==2)
{
	komanda=Komande::PomjeriJednoMjesto;
	smjer=Smjerovi::GoreDesno;
	return true;
}
if(m==3)
{
    komanda=Komande::PomjeriJednoMjesto;
	smjer=Smjerovi::Desno;	
	return true;
}
if(m==4)
{
	komanda=Komande::PomjeriJednoMjesto;
	smjer=Smjerovi::DoljeDesno;
	return true;
}
if(m==5)
{
	komanda=Komande::PomjeriJednoMjesto;
	smjer=Smjerovi::Dolje;
	return true;
}
if(m==6)
{
	komanda=Komande::PomjeriJednoMjesto;
	smjer=Smjerovi::DoljeLijevo;
	return true;
}
if(m==7)
{
	komanda=Komande::PomjeriJednoMjesto;
	smjer=Smjerovi::Lijevo;
	return true;
}
if(k==1 || k==2 || k==3)
{
	if(i==kom.size())
	{
		greska=KodoviGresaka::NedostajeParametar;
		return false;
	}
	if(kom[i]&lt;'0' || kom[i]&gt;'9')
	{
		greska=KodoviGresaka::NeispravanParametar;
		return false;
	}
	else
	{
		int pom1=0;
		while(kom[i]&gt;='0' &amp;&amp; kom[i]&lt;='9' &amp;&amp; i&lt;kom.size())
		{
			if(pom1!=0)
			pom1*=10;
			pom1+=int(kom[i]-'0');
		    i++;
		}
<a name="9"></a><font color="#FF00FF"><a href="match854-1.html#9" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_0.gif"/></a>

		while(kom[i]==' ' &amp;&amp; i&lt;kom.size())
		i++;
	if(i==kom.size())
	  {
		greska=KodoviGresaka::NedostajeParametar;
		return false;
	  }
	 if(kom[i]&lt;'0' || kom[i]&gt;'9')
</font>	 {
	 	greska=KodoviGresaka::NeispravanParametar;
		return false;
	 }
	 	int pom2=0;
		while(kom[i]&gt;='0' &amp;&amp; kom[i]&lt;='9' &amp;&amp; i&lt;kom.size())
		{
			if(pom2!=0)
			pom2*=10;
			pom2+=int(kom[i]-'0');
		    i++;
		}
	    if(i&lt;kom.size())
	    {
<a name="16"></a><font color="#00FF00"><a href="match854-1.html#16" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_0.gif"/></a>

	    	while(kom[i]==' ' &amp;&amp; i&lt;kom.size())
	    	i++;
	    	if(i!=kom.size())
	    	{
	    		greska=KodoviGresaka::NeispravanParametar; //
	    		return false;
	    	}
	    }
		if(k==1)
</font>		{
			komanda=Komande::PomjeriDalje;
			x=pom1;
		    y=pom2;
			return true;
		}
		if(k==2)
		{
			komanda=Komande::Blokiraj;
			x=pom1;
		    y=pom2;
			return true;
		}
		if(k==3)
		{
			komanda=Komande::Deblokiraj;
			x=pom1;
		    y=pom2;
			return true;
		}
	}
}
return false;
}
void IzvrsiKomandu(Komande komanda, Tabla &amp;polja, int &amp;x, int &amp;y, Smjerovi p_smjer = Smjerovi::Gore, int p_x = 0, int p_y = 0)
{
	if(komanda==Komande::PomjeriJednoMjesto)
	{
		try
		{
			Status stat1=Idi(polja,p_x,p_y,p_smjer);
			x=p_x;
			y=p_y;
			cout&lt;&lt;"Tekuca pozicija igraca je ("&lt;&lt;x&lt;&lt;","&lt;&lt;y&lt;&lt;")"&lt;&lt;std::endl;
			if(stat1==Status::KrajPobjeda)
			{
			cout&lt;&lt;"Bravo, obisli ste sva sigurna polja"&lt;&lt;std::endl;
			for(int i=0;i&lt;polja.size();i++)
			{
				for(int j=0;j&lt;polja.size();j++)
				polja[i][j]=Polje::Prazno;
			}
			}
			if(stat1==Status::KrajPoraz)
			{
			cout&lt;&lt;"Nagazili ste na minu"&lt;&lt;std::endl;
			for(int i=0;i&lt;polja.size();i++)
			{
				for(int j=0;j&lt;polja.size();j++)
				polja[i][j]=Polje::Prazno;
			}
			}
		}
		catch(std::out_of_range izuzetak)
		{
			cout&lt;&lt;izuzetak.what()&lt;&lt;std::endl;
		}
		catch(std::logic_error izuzetak2)
		{
			cout&lt;&lt;izuzetak2.what()&lt;&lt;std::endl;
		}
	}
	if(komanda==Komande::PomjeriDalje)
	{
		try
		{
			Status stat2=Idi(polja,p_x,p_y,x,y);
			cout&lt;&lt;"Tekuca pozicija igraca je ("&lt;&lt;x&lt;&lt;","&lt;&lt;y&lt;&lt;")"&lt;&lt;std::endl;
			if(stat2==Status::KrajPobjeda)
			{
			cout&lt;&lt;"Bravo, obisli ste sva sigurna polja"&lt;&lt;std::endl;
			for(int i=0;i&lt;polja.size();i++)
			{
<a name="12"></a><font color="#0000FF"><a href="match854-1.html#12" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_0.gif"/></a>

				for(int j=0;j&lt;polja.size();j++)
				polja[i][j]=Polje::Prazno;
			}
			throw std::runtime_error("Igra zavrsena");
			}
			if(stat2==Status::KrajPoraz)
</font>			{
			cout&lt;&lt;"Nagazili ste na minu"&lt;&lt;std::endl;
			for(int i=0;i&lt;polja.size();i++)
			{
				for(int j=0;j&lt;polja.size();j++)
				polja[i][j]=Polje::Prazno;
			}
			throw std::runtime_error("Igra zavrsena");
			}
		}
		catch(std::out_of_range izuzetak)
		{
			cout&lt;&lt;izuzetak.what()&lt;&lt;std::endl;
		}
		catch(std::logic_error izuzetak2)
		{
			cout&lt;&lt;izuzetak2.what()&lt;&lt;std::endl;
		}
	}
	if(komanda==Komande::Blokiraj)
	{
		try
		{
			BlokirajPolje(polja,x,y);
		}
		catch(std::domain_error izuzetak)
		{
			cout&lt;&lt;izuzetak.what()&lt;&lt;std::endl;
		}
	}
	if(komanda==Komande::Deblokiraj)
	{
		try
		{
		    DeblokirajPolje(polja,x,y);
		}
		catch(std::domain_error izuzetak2)
		{
			cout&lt;&lt;izuzetak2.what()&lt;&lt;std::endl;
		}
	}
	if(komanda==Komande::PrikaziOkolinu)
	{
		try
		{
			std::vector&lt;std::vector&lt;int&gt;&gt; mat=PrikaziOkolinu(polja,x,y);
			for(int i=0;i&lt;mat.size();i++)
			{
				for(int j=0;j&lt;mat.size();j++)
				{
				cout&lt;&lt;mat[i][j]&lt;&lt;" ";
				}
				cout&lt;&lt;std::endl;
			}
		}
		catch(std::domain_error izuzetak)
		{
			cout&lt;&lt;izuzetak.what()&lt;&lt;std::endl;
		}
	}
	if(komanda==Komande::ZavrsiIgru)
	{
		for(int i=0;i&lt;polja.size();i++)
		for(int j=0;j&lt;polja.size();j++)
		polja[i][j]=Polje::Prazno;
		throw std::runtime_error("Igra zavrsena");
	}
	if(komanda==Komande::KreirajIgru)
	{
		try
		{
			cout&lt;&lt;"Unesite broj polja: ";
			int n;
			cin&gt;&gt;n;
			vector&lt;vector&lt;int&gt;&gt; mat1;
			string mine;
			cout&lt;&lt;"Unesite pozicije mina: ";
			vector&lt;int&gt; vek(2);
			cin.clear();
			cin.ignore(1000,'\n');
			while(true)
			{
				std::getline(cin,mine);
				if(mine.size()==1 &amp;&amp; mine[0]=='.')
				break;
				if((mine.size()&gt;0 &amp;&amp; mine[0]!='(') || mine.size()==0)
                {
                	cout&lt;&lt;"Greska, unesite ponovo!"&lt;&lt;std::endl;
                	continue;
                }
                if(mine.size()&gt;1 &amp;&amp; (mine[1]&lt;'0' || mine[1]&gt;'9'))
                {
                	cout&lt;&lt;"Greska, unesite ponovo!"&lt;&lt;std::endl;
                	continue;
                }
                if(mine.size()&lt;5)
                {
                	cout&lt;&lt;"Greska, unesite ponovo!"&lt;&lt;std::endl;
                	continue;
                }
                int i(1);
                int pom1(0);
                while(mine[i]&gt;='0' &amp;&amp; mine[i]&lt;='9' &amp;&amp; i&lt;mine.size())
                {
                	if(pom1!=0)
                	pom1*=10;
                	pom1+=int(mine[i]-'0');
                	i++;
                }
                if(i==mine.size())
                {
                	cout&lt;&lt;"Greska, unesite ponovo!"&lt;&lt;std::endl;
                	continue;
                }
                if(mine[i]!=',')
                {
                	cout&lt;&lt;"Greska, unesite ponovo!"&lt;&lt;std::endl;
                	continue;
                }
                i++;
                if(i==mine.size())
                {
                	cout&lt;&lt;"Greska, unesite ponovo!"&lt;&lt;std::endl;
                	continue;
                }
                if(mine[i]&lt;'0' || mine[i]&gt;'9')
                {
                	cout&lt;&lt;"Greska, unesite ponovo!"&lt;&lt;std::endl;
                	continue;
                }
                int pom2(0);
                while(mine[i]&gt;='0' &amp;&amp; mine[i]&lt;='9' &amp;&amp; i&lt;mine.size())
                {
                   if(pom2!=0)
                	pom2*=10;
                	pom2+=int(mine[i]-'0');
                	i++;	
                }
                if(i==mine.size())
                {
                	cout&lt;&lt;"Greska, unesite ponovo!"&lt;&lt;std::endl;
                	continue;
                }
                if(mine[i]!=')')
                {
                	cout&lt;&lt;"Greska, unesite ponovo!"&lt;&lt;std::endl;
                	continue;
                }
                if(pom1==0 &amp;&amp; pom2==0)
                {
                		cout&lt;&lt;"Greska, unesite ponovo!"&lt;&lt;std::endl;
                		continue;
                }
                if (pom1&lt;n &amp;&amp; pom2&lt;n &amp;&amp; pom1&gt;=0 &amp;&amp; pom2&gt;=0)
                {
				vek[0]=pom1;
				vek[1]=pom2;
				mat1.push_back(vek);
                }
                else
                {
                	cout&lt;&lt;"Greska, unesite ponovo!"&lt;&lt;std::endl;
                	continue;
                }
			}
		    polja=KreirajIgru(n,mat1);
		}
		catch(std::domain_error izuzetak)
		{
			cout&lt;&lt;izuzetak.what()&lt;&lt;std::endl;
		}
	}
}
int main ()
{
int x(0),y(0);
Komande komanda;
Smjerovi smjer; 
KodoviGresaka greska;
Tabla polja;
while(true)
try
{
cout&lt;&lt;"Unesite komandu: ";
bool kom=UnosKomande(komanda,smjer,x,y,greska);
if(kom)
{
IzvrsiKomandu(komanda,polja,x,y,smjer);
}
else
PrijaviGresku(greska);
}
catch(...)
{
	
	cout&lt;&lt;"Dovidjenja!";
	return 0;
}
return 0;
}</pre>
</body>
</html>
