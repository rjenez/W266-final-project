<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z2/Z1/student2567.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z2/Z1/student3841.cpp<p></p><pre>
/*B 16/17, ZadaÄ‡a 2, Zadatak 1
	
	NAPOMENA: i javni ATo-vi su dio postavke
	
	Autotestovi by Ivona Ivkovic. Sva pitanja, sugestije
	i prijave gresaka saljite na mail: iivkovic2@etf.unsa.ba
	
*/

#include&lt;iostream&gt;
#include&lt;vector&gt;
#include&lt;stdexcept&gt;
#include&lt;string&gt;

<a name="0"></a><font color="#FF0000"><a href="match75-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_92.gif"/></a>

enum class Polje 
{
	Prazno, Posjeceno, Mina, BlokiranoPrazno, BlokiranoPosjeceno, BlokiranoMina
};

enum class Status
{
	NijeKraj, KrajPoraz, KrajPobjeda
};

enum class Smjerovi
{
	GoreLijevo, Gore, GoreDesno, Desno, DoljeDesno, Dolje, DoljeLijevo, Lijevo
};

enum class KodoviGresaka
{
	PogresnaKomanda, NedostajeParametar, SuvisanParametar, NeispravanParametar
};

enum class Komande
{
	PomjeriJednoMjesto, PomjeriDalje, Blokiraj, Deblokiraj, PrikaziOkolinu, ZavrsiIgru, KreirajIgru
};

typedef std::vector&lt;std::vector&lt;Polje&gt;&gt; Tabla;
typedef std::vector&lt;std::vector&lt;int&gt;&gt; Matrica;

Tabla KreirajIgru (int n, const Matrica &amp;mine)
{
	Tabla mat (n, std::vector&lt;Polje&gt; (n, Polje::Prazno));
	
	for(int i = 0; i &lt; mine.size(); i++)
		if(mine.at(i).size() != 2)
			throw std::domain_error("Ilegalan format zadavanja mina");
			
	for(int i = 0; i &lt; mine.size(); i++)
		for(int j = 0; j &lt; mine.at(i).size(); j++)
			if(mine.at(i).at(j) &gt;= mat.size() || mine.at(i).at(j) &lt; 0)
				throw std::domain_error("Ilegalne pozicije mina");
			
	for(int i = 0; i &lt; n; i++)
		for(int j = 0; j &lt; n; j++)
			for(int k = 0; k &lt; mine.size(); k++)
				if(i == mine.at(k).at(0) &amp;&amp; j == mine.at(k).at(1))
					mat.at(i).at(j) = Polje::Mina;
				
	return mat;
}

Matrica PrikaziOkolinu(const Tabla &amp;polja, int x, int y)
{
	Matrica mat;
	int br(0);
	std::vector&lt;int&gt; vek;
	
	if(x &lt; 0 || y &lt; 0 || x &gt; polja.size() - 1 || y &gt; polja.size() - 1)
		throw std::domain_error("Polje (" + std::to_string(x) + "," + std::to_string(y) + ") ne postoji");
		
	for(int i = x - 1; i &lt;= x + 1; i++)
	{
		vek.clear();
		for(int j = y - 1; j &lt;= y + 1; j++)
		{
			br = 0;
			for(int k = i - 1; k &lt;= i + 1; k++)
			{
				for(int s = j - 1; s &lt;= j + 1; s++)
				{
					if((k == i &amp;&amp; s == j) || k &lt; 0 || s &lt; 0 || k &gt;= polja.size() || s &gt;= polja.size())
						continue;
							
					if(polja.at(k).at(s) == Polje::Mina)
						br++;
				}
			}
			vek.push_back(br);
		}
		mat.push_back(vek);
	}
	return mat;
}

void BlokirajPolje (Tabla &amp;polja, int x, int y)
{
	if(x &lt; 0 || y &lt; 0 || x &gt;= polja.size() || y &gt;= polja.size())
		throw std::domain_error("Polje (" + std::to_string(x) + "," + std::to_string(y) +") ne postoji");
		
	if(polja.at(x).at(y) == Polje::Prazno)
		polja.at(x).at(y) = Polje::BlokiranoPrazno;
		
	else if(polja.at(x).at(y) == Polje::Mina)
		polja.at(x).at(y) = Polje::BlokiranoMina;
		
	else if(polja.at(x).at(y) == Polje::Posjeceno)
		polja.at(x).at(y) = Polje::BlokiranoPosjeceno;
}

void DeblokirajPolje (Tabla &amp;polja, int x, int y)
{
	if(x &lt; 0 || y &lt; 0 || x &gt;= polja.size() || y &gt;= polja.size())
		throw std::domain_error("Polje (" + std::to_string(x) + "," + std::to_string(y) + ") ne postoji");
		
	if(polja.at(x).at(y) == Polje::BlokiranoPrazno)
		polja.at(x).at(y) = Polje::Prazno;
		
	else if(polja.at(x).at(y) == Polje::BlokiranoMina)
		polja.at(x).at(y) = Polje::Mina;
		
	else if(polja.at(x).at(y) == Polje::BlokiranoPosjeceno)
		polja.at(x).at(y) = Polje::Posjeceno;
}

Status Idi (Tabla &amp;polja, int &amp;x, int &amp;y, int novi_x, int novi_y)
{
	if(novi_x &lt; 0 || novi_x &gt;= polja.size() || novi_y &lt; 0 || novi_y &gt;= polja.size())
		throw std::out_of_range("Izlazak van igrace table");
		
	else if(polja.at(novi_x).at(novi_y) == Polje::BlokiranoPosjeceno 
	|| polja.at(novi_x).at(novi_y) == Polje::BlokiranoPrazno
	|| polja.at(novi_x).at(novi_y) == Polje::BlokiranoMina)
		throw std::logic_error("Blokirano polje");
		
	else
	{
		x = novi_x, y = novi_y;
		
		if(polja.at(x).at(y) == Polje::Mina)
		{
			for(int i = 0; i &lt; polja.size(); i++)
				for(int j = 0; j &lt; polja.at(i).size(); j++)
					polja.at(i).at(j) = Polje::Prazno;
					
			return Status::KrajPoraz;
		}
		
		int prazno = 0;
		
		for(int i = 0; i &lt; polja.size(); i++)
			for(int j = 0; j &lt; polja.at(i).size(); j++)
				if(polja.at(i).at(j) == Polje::Prazno)
					prazno++;
					
		if(prazno == 0)
			return Status::KrajPobjeda;
			
		return Status::NijeKraj;
	}
}

Status Idi(Tabla &amp;polja, int &amp;x, int &amp;y, Smjerovi smjer)
{
	if(smjer == Smjerovi::GoreLijevo)
		return Idi(polja, x, y, x - 1, y - 1);
		
	else if(smjer == Smjerovi::Gore)
		return Idi(polja, x, y, x - 1, y);
		
	else if(smjer == Smjerovi::GoreDesno)
		return Idi(polja, x, y, x - 1, y + 1);
		
	else if(smjer == Smjerovi::Desno)
		return Idi(polja, x, y, x, y + 1);
		
	else if(smjer == Smjerovi::DoljeDesno)
		return Idi(polja, x, y, x + 1, y + 1);
		
	else if(smjer == Smjerovi::Dolje)
		return Idi(polja, x, y, x + 1, y);
		
	else if(smjer == Smjerovi::DoljeLijevo)
		return Idi(polja, x, y, x + 1, y - 1);
		
	else if(smjer == Smjerovi::Lijevo)
		return Idi(polja, x, y, x, y - 1);
		
}
void PrijaviGresku (KodoviGresaka greska)
{
	if(greska == KodoviGresaka::PogresnaKomanda)
		std::cout &lt;&lt; "Nerazumljiva komanda!";
		
	else if(greska == KodoviGresaka::NedostajeParametar)
		std::cout &lt;&lt; "Komanda trazi parametar koji nije naveden!";
		
	else if(greska == KodoviGresaka::NeispravanParametar)
		std::cout &lt;&lt; "Parametar komande nije ispravan!";
		
	else if(greska == KodoviGresaka::SuvisanParametar)
		std::cout &lt;&lt; "Zadan je suvisan parametar nakon komande";
}

void IgnorisiRazmak()
{
	while(std::cin.peek() == ' ')
		std::cin.get();
}

void Ocisti()
{
	std::cin.clear();
	std::cin.ignore(1000, '\n');
}
bool UnosKomande (Komande &amp;komanda, Smjerovi &amp;smjer, int &amp;x, int &amp;y, KodoviGresaka &amp;greska)
{
	char c;
	
	std::cout &lt;&lt; "Unesite komandu: ";
	std:: cin &gt;&gt; c;
	
	if(!std::cin)
	{
		greska = KodoviGresaka::PogresnaKomanda;
		std::cin.clear();
		std::cin.ignore(1000, '\n');
		return false;
	}
	
	IgnorisiRazmak();
	
	if(c == 'K')
	{
		if(std::cin.peek() == '\n')
		{
			komanda = Komande::KreirajIgru;
			return true;
		}
		
		greska = KodoviGresaka::SuvisanParametar;
		Ocisti();
		return false;
	}
		
	else if(c == 'Z')
	{
		if(std::cin.peek() == '\n')
		{
			komanda = Komande::ZavrsiIgru;
			return true;
		}
		
		greska = KodoviGresaka::SuvisanParametar;
		Ocisti();
		return false;
	}
		
	else if(c == 'P')
	{
		if(std::cin.peek() == '\n')
		{
			greska = KodoviGresaka::NedostajeParametar;
			Ocisti();
			return false;
		}
		
		char a = std::cin.get();
		
		if(a == '1')
		{
			IgnorisiRazmak();
			
			if(std::cin.peek() == '\n')
			{
				greska = KodoviGresaka::NedostajeParametar;
				Ocisti();
				return false;
			}
			char e = std::cin.peek();
			if(std::cin.peek() == 'G')
			{
				IgnorisiRazmak();
				
				
				if(std::cin.peek() == '\n')
				{
					smjer = Smjerovi::Gore;
					komanda = Komande::PomjeriJednoMjesto;
					return true;
				}
				std::cin.get();
				if(std::cin.peek() == 'L')
				{
					char d = std::cin.get();
					IgnorisiRazmak();
					if(std::cin.peek() == '\n')
					{
						smjer = Smjerovi::GoreLijevo;
						komanda = Komande::PomjeriJednoMjesto;
						return true;
					}
					
					greska = KodoviGresaka::SuvisanParametar;
					Ocisti();
					return false;
				}
				
				if(std::cin.peek() == 'D')
				{
					char d = std::cin.get();
					IgnorisiRazmak();
					if(std::cin.peek() == '\n')
					{
						smjer = Smjerovi::GoreDesno;
						komanda = Komande::PomjeriJednoMjesto;
						return true;
					}
					greska = KodoviGresaka::SuvisanParametar;
					Ocisti();
					return false;
				}
				greska = KodoviGresaka::NeispravanParametar;
				Ocisti();
				return false;
			}
			
			if(std::cin.peek() == 'D')
			{
				IgnorisiRazmak();
				
				if(std::cin.peek() == '\n')
				{
					smjer = Smjerovi::Desno;
					komanda = Komande::PomjeriJednoMjesto;
					return true;
				}
				
				if(std::cin.peek() == 'o')
				{
					char d = std::cin.get();
										
					if(std::cin.peek() == 'D')
					{
						char d = std::cin.get();
						IgnorisiRazmak();
						if(std::cin.peek() == '\n')
						{
							smjer = Smjerovi::DoljeDesno;
							komanda = Komande::PomjeriJednoMjesto;
							return true;
						}
						greska = KodoviGresaka::SuvisanParametar;
						Ocisti();
						return false;
					}
					
					if(std::cin.peek() == 'L')
					{
						char d = std::cin.get();
						IgnorisiRazmak();
						if(std::cin.peek() == '\n')
						{
							smjer = Smjerovi::DoljeLijevo;
							komanda = Komande::PomjeriJednoMjesto;
							return true;
						}
						greska = KodoviGresaka::SuvisanParametar;
						Ocisti();
						return false;
					}
					IgnorisiRazmak();
					if(std::cin.peek() == '\n')
					{
						smjer = Smjerovi::Dolje;
						komanda = Komande::PomjeriJednoMjesto;
						return true;
					}
					greska = KodoviGresaka::NeispravanParametar;
					Ocisti();
					return false;
				}
				
				greska = KodoviGresaka::PogresnaKomanda;
				Ocisti();
				return false;
			}
			if(std::cin.peek() == 'L')
			{
				char d = std::cin.get();
				IgnorisiRazmak();
					
				if(std::cin.peek() == '\n')
				{
					smjer = Smjerovi::Lijevo;
					komanda = Komande::PomjeriJednoMjesto;
					return true;
				}
				greska = KodoviGresaka::SuvisanParametar;
				Ocisti();
				return false;
			}
			
			greska = KodoviGresaka::NeispravanParametar;
			Ocisti();
			return false;
		}
		
		if(a == '&gt;')
		{
			IgnorisiRazmak();
			if(std::cin.peek() == '\n')
			{
				greska = KodoviGresaka::NedostajeParametar;
				Ocisti();
				return false;
			}
			
			int m;
			std::cin &gt;&gt; m;
			
			if(!std::cin)
			{
				greska = KodoviGresaka::NeispravanParametar;
				Ocisti();
				return false;
			}
			
			char z = std::cin.get();
			
			if(z != ' ')
			{
				greska = KodoviGresaka::SuvisanParametar;
				Ocisti();
				return false;
			}
			
			int n;
			std::cin &gt;&gt; n;
			
			if(!std::cin)
			{
				greska = KodoviGresaka::NeispravanParametar;
				Ocisti();
				return false;
			}
			
			IgnorisiRazmak();
			
			if(std::cin.peek() != '\n')
			{
				greska = KodoviGresaka::SuvisanParametar;
				Ocisti();
				return false;
			}
			
			x = m;
			y = n;
			komanda = Komande::PomjeriDalje;
			return true;
		}
		
		if(a == 'O')
		{
			IgnorisiRazmak();
			if(std::cin.peek() == '\n')
			{
				komanda = Komande::PrikaziOkolinu;
				return true;
			}
			
			greska = KodoviGresaka::SuvisanParametar;
			Ocisti();
			return false;
		}
	}
	
	else if(c == 'B')
	{
		IgnorisiRazmak();
		
		if(std::cin.peek() == '\n')
		{
			greska = KodoviGresaka::NedostajeParametar;
			Ocisti();
			return false;
		}
		
		int m;
		std::cin &gt;&gt; m;
		
		if(!std::cin)
		{
			greska = KodoviGresaka::NeispravanParametar;
			Ocisti();
			return false;
		}
		
		char z = std::cin.get();
		
		if(z != ' ')
		{
			greska = KodoviGresaka::SuvisanParametar;
			Ocisti();
			return false;
		}
		
		int n;
		std::cin &gt;&gt; n;
		
		if(!std::cin)
		{
			greska = KodoviGresaka::NeispravanParametar;
			Ocisti();
			return false;
		}
		
		IgnorisiRazmak();
		
		if(std::cin.peek() != '\n')
		{
			greska = KodoviGresaka::SuvisanParametar;
			Ocisti();
			return false;
		}
		
		komanda = Komande::Blokiraj;
		x = m;
		y = n;
		return true;
	}
	
	else if(c == 'D')
	{
		IgnorisiRazmak();
		
		if(std::cin.peek() == '\n')
		{
			greska = KodoviGresaka::NedostajeParametar;
			Ocisti();
			return false;
		}
		
		int m;
		std::cin &gt;&gt; m;
		
		if(!std::cin)
		{
			greska = KodoviGresaka::NeispravanParametar;
			Ocisti();
			return false;
		}
		
		char z = std::cin.get();
		
		if(z != ' ')
		{
			greska = KodoviGresaka::SuvisanParametar;
			Ocisti();
			return false;
		}
		
		int n;
		std::cin &gt;&gt; n;
		
		if(!std::cin)
		{
			greska = KodoviGresaka::NeispravanParametar;
			Ocisti();
			return false;
		}
		
		IgnorisiRazmak();
		
		if(std::cin.peek() != '\n')
		{
			greska = KodoviGresaka::SuvisanParametar;
			Ocisti();
			return false;
		}
		
		komanda = Komande::Deblokiraj;
		x = m;
		y = n;
		return true;
	}
	greska = KodoviGresaka::PogresnaKomanda;
	Ocisti();
	return false;
}

void IzvrsiKomandu(Komande komanda, Tabla &amp;polja, int &amp;x, int &amp;y, Smjerovi p_smjer = Smjerovi::Gore, 
					int p_x = 0, int p_y = 0)
{
	
}

int main()
{
	for(; ;)
	{
		Komande k;
		KodoviGresaka g;
		
		int x = 0, y = 0;
		
		Smjerovi s;
		bool a = UnosKomande(k, s, x, y, g);
		
		if(a)
		{
			std::cout &lt;&lt; "Uspjesna, x = " &lt;&lt; x &lt;&lt; " y = " &lt;&lt; y;
			
			if(k == Komande::PomjeriJednoMjesto)
				std::cout &lt;&lt; "\nSmjer je " &lt;&lt; int(s);
				
			std::cout &lt;&lt; "\n a komanda je " &lt;&lt; int(k);
		}
		
		else
		{
			std::cout &lt;&lt; "Greska je " &lt;&lt; int(g);
		}
	}
}
int main_1()
{ 
	try
	{
		auto x (KreirajIgru(4,  {{0,0}, {3,2}, {1,3}}));
		for(int i = 0; i &lt; 4; i++)
		{	
			for(int j = 0; j &lt; 4; j++)
				std::cout &lt;&lt; int(x.at(i).at(j)) &lt;&lt; " ";
			
				std::cout &lt;&lt; std::endl;
		}
	}
	
	catch(std::domain_error e)
	{
		std::cout &lt;&lt; e.what();
	}
	return 0;
}

int main_2()
{
	try
	{
		auto x (PrikaziOkolinu({
			{Polje::Prazno, Polje::Mina, Polje::Prazno, Polje::Prazno,Polje::Mina}, 
			{Polje::Prazno, Polje::Prazno, Polje::Prazno, Polje::Mina, Polje::Mina},
</font><a name="1"></a><font color="#00FF00"><a href="match75-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_5.gif"/></a>

			{Polje::Mina,   Polje::Mina, Polje::Prazno, Polje::Mina, Polje::Prazno}, 
			{Polje::Prazno, Polje::Prazno, Polje::Prazno, Polje::Prazno, Polje::Prazno}
			
		}, 1 , 1));
		
		std::cout &lt;&lt; "vel1 " &lt;&lt; x.size() &lt;&lt; std::endl;
		std::cout &lt;&lt; "vel2 " &lt;&lt; x.at(0).size() &lt;&lt; std::endl;
		
		for(int i = 0; i &lt; x.size(); i++)
		{
			for(int j = 0; j &lt; x.at(i).size(); j++)
				std::cout &lt;&lt; int(x.at(i).at(j)) &lt;&lt; " ";
				
			std::cout &lt;&lt; std::endl;
		}
	}
	
	catch(std::domain_error e)
	{
		std::cout &lt;&lt; e.what();
	}
	
	return 0;
</font>}</pre>
</body>
</html>
