<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z2/Z1/student2364.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z2/Z1/student2478.cpp<p></p><pre>
#include &lt;iostream&gt;
#include &lt;vector&gt;
#include &lt;stdexcept&gt;
#include &lt;string&gt;

enum class Polje{
	Prazno, Posjeceno, Mina, BlokiranoPrazno, BlokiranoPosjeceno, BlokiranoMina
};

enum class Smjerovi{
	GoreLijevo, Gore, GoreDesno, Desno, DoljeDesno, Dolje, DoljeLijevo, Lijevo
};

enum class Status{
	NijeKraj, KrajPoraz, KrajPobjeda
};

enum class KodoviGresaka{
	PogresnaKomanda, NedostajeParametar, SuvisanParametar, NeispravanParametar
};

enum class Komande{
	PomjeriJednoMjesto, PomjeriDalje, Blokiraj, Deblokiraj, PrikaziOkolinu, ZavrsiIgru, KreirajIgru
};


typedef std::vector&lt;std::vector&lt;Polje&gt;&gt; Tabla;

<a name="0"></a><font color="#FF0000"><a href="match782-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_29.gif"/></a>

Tabla KreirajIgru(int n, const std::vector&lt;std::vector&lt;int&gt;&gt; &amp;mine){
	
	Tabla T(n, std::vector&lt;Polje&gt;(n,Polje::Prazno));
	
	for(int i(0); i &lt; mine.size(); i++)
		if(mine[i].size() != 2) throw std::domain_error ("Ilegalan format zadavanja mina");
		
		for(int i(0); i &lt; mine.size(); i++){
			for(int j(0); j &lt; mine[i].size(); j++){
				if(mine[i][j] &gt; n) throw std::domain_error("Ilegalne pozicije mina");
			}
		}
		
		int indeks(0);
		
		for(int i(0); i &lt; mine.size(); i++){
			T[mine[i][indeks]][mine[i][indeks+1]] = Polje::Mina;
		}
		T[0][0] = Polje::Prazno;
		
return T;
}

int bMina(const Tabla &amp;polja, int x, int y){
	
	int Brojac_mina(0);
	
	for(int i(x-1); i &lt; x+2; i++){
		for(int j(y-1); j &lt; y+2; j++){
			if(i &lt; 0 || i &gt; polja.size() -1 || j &lt; 0 || j &gt; polja.size() -1)continue;
			if(i == x &amp;&amp; j == y)continue;
			if(polja[i][j] == Polje::Mina) Brojac_mina++;
		}
	}
	return Brojac_mina;
}

std::vector&lt;std::vector&lt;int&gt;&gt; PrikaziOkolinu(const Tabla &amp;polja, int x, int y){
	
	if(x &lt; 0 || x &gt;= polja.size() || y &lt; 0 || y &gt;= polja.size()){
		std::string s = "Polje (" + std::to_string(x) + "," + std::to_string(y) +") ne postoji";
	throw std::domain_error(s);
	}
	std::vector&lt;std::vector&lt;int&gt;&gt; Okolina;
	std::vector&lt;int&gt; red;
	
	for(int i(x-1); i &lt; x+2; i++){
		red.resize(0);
		for(int j(y-1); j &lt; y+2; j++){
			if(i &gt;= 0 &amp;&amp; i &lt; polja.size() &amp;&amp; j &gt;= 0 &amp;&amp; j &lt; polja.size())
			red.push_back(bMina(polja,i,j));
			else if(i &lt;0 || i &gt;= polja.size() || j &lt; 0 || j &gt;=polja.size())
			red.push_back(0);
		}
		Okolina.push_back(red);
	}
	return Okolina;
}
void BlokirajPolje (Tabla &amp;polja, int x, int y){
	
	if(x &gt;=  polja.size() || x &lt; 0 || y &gt;= polja.size() || y &lt; 0){
		std::string s = "Polje (" + std::to_string(x) + "," + std::to_string(y) + ") ne postoji";
		throw std::domain_error(s);
	};
		
	if(polja[x][y] == Polje::Prazno) polja[x][y] = Polje::BlokiranoPrazno;
</font>	else if(polja[x][y] == Polje::Posjeceno) polja[x][y] = Polje::BlokiranoPosjeceno;
<a name="4"></a><font color="#FF00FF"><a href="match782-0.html#4" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_5.gif"/></a>

	else if(polja[x][y] == Polje::Mina) polja[x][y] = Polje::BlokiranoMina;
}



void DeblokirajPolje(Tabla &amp;polja, int x, int y){
	if(x &gt;= polja.size() || x &lt; 0 || y &gt;= polja.size() || y &lt; 0){
	std::string s = "Polje (" + std::to_string(x) + "," + std::to_string(y) + ") ne postoji";
		throw std::domain_error(s);
	}
	
	if(polja[x][y] == Polje::BlokiranoPrazno) polja[x][y] = Polje::Prazno;
</font>	else if(polja[x][y] == Polje::BlokiranoPosjeceno) polja[x][y] = Polje::Posjeceno;
<a name="3"></a><font color="#00FFFF"><a href="match782-0.html#3" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_9.gif"/></a>

	else if(polja[x][y] == Polje::BlokiranoMina) polja[x][y] = Polje::Mina; 
}

Status Idi(Tabla &amp;polja, int &amp;x, int &amp;y, Smjerovi smjer){
	
	std::vector&lt;std::vector&lt;int&gt;&gt; Kreci_se{{-1,-1},{-1,0},{-1,1},{0,1},{1,1},{1,0},{1,-1},{0,-1}};
	
	polja[x][y] = Polje::Posjeceno;
	
	for(int i(0); i &lt; 8; i++){
		if(int(smjer) == i){
			x += Kreci_se[i][0];
			y += Kreci_se[i][1];
			
			if(x &lt; 0 || x &gt;= polja.size() || y &lt; 0 || y &gt;= polja.size()) throw std::out_of_range("Izlazak van igrace table");
			
			if(polja[x][y] == Polje::BlokiranoPosjeceno || polja[x][y] == Polje::BlokiranoPrazno || polja[x][y] == Polje::BlokiranoMina)
</font><a name="2"></a><font color="#0000FF"><a href="match782-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_10.gif"/></a>

			throw std::logic_error("Blokirano polje");
			
			if(polja[x][y] == Polje::Mina){
				for(int i(0); i &lt; polja.size(); i++){
					for(int j(0); j &lt; polja.size(); j++){
						polja[i][j] = Polje::Prazno;
					}
				}
				return Status::KrajPoraz;
			}
		}
	}
			
			bool sve_posjeceno(true);
			
			for(int i(0); i &lt; polja.size(); i++){
				for(int j(0); j &lt; polja.size(); j++){
					if(polja[i][j] == Polje::Prazno){
						sve_posjeceno = false;
						break;
					}
					if(!sve_posjeceno)break;
				}
			}
		if(sve_posjeceno) return Status::KrajPobjeda;		
		return Status::NijeKraj;
}

Status Idi(Tabla &amp;polja, int &amp;x, int &amp;y, int novi_x, int novi_y){
	
	if (novi_x &lt; 0 || novi_x &gt;= polja.size() || novi_y &lt; 0 || novi_y &gt;= polja.size()) throw std::out_of_range("Izlazak van igrace table");
	
	if(polja[novi_x][novi_y] == Polje::BlokiranoPosjeceno || polja[novi_x][novi_y] == Polje::BlokiranoPrazno || polja[novi_x][novi_y] == Polje::BlokiranoMina)
</font><a name="1"></a><font color="#00FF00"><a href="match782-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_29.gif"/></a>

	throw std::logic_error("Blokirano polje");
	
	if(polja[novi_x][novi_y] == Polje::Mina){
		for(int i(0); i &lt; polja.size(); i++){
			for(int j(0); j &lt; polja.size(); j++){
				polja[i][j] = Polje::Prazno;
			}
		}
		return Status::KrajPoraz;
	}
	polja[x][y] = Polje::Posjeceno;
	
	bool Sve_posjeceno(true);
	
	for(int i(0); i &lt; polja.size(); i++){
		for(int j(0); 	j &lt; polja.size(); j++){
			if(polja[i][j] == Polje::Prazno){
				Sve_posjeceno = false;
				break;
			}
			if(!Sve_posjeceno)
			break;
		}
		
	}
	if(Sve_posjeceno)return Status::KrajPobjeda;
	
	x = novi_x;
	y = novi_y;
	
	return Status::NijeKraj;
}

void PrijaviGresku(KodoviGresaka greska){

const char *MoguciIspis[4]{"Nerazumljiva komanda!","Komanda trazi parametar koji nije naveden!","Zadan je suvisan parametar nakon komande!","Parametar komande nije ispravan!"};

for(int i(0); i &lt; 4; i++)
	if(int(greska) == i) std::cout &lt;&lt; MoguciIspis[i] &lt;&lt; std::endl;
}
/*
bool Provjeri_komandu()
bool UnosKomande(Komande komanda, Smjerovi &amp;smjer, int &amp;x, int &amp;y, KodoviGresaka &amp;greska){
	std::cout &lt;&lt; "Unesite komandu: ";
	std::string s;
	std::getline(std::cin, s);
	
	bool istina;
	
	return true;
}*/
void IzvrsiKomandu(Komande komanda, Tabla &amp;polja, int &amp;x, int &amp;y,
Smjerovi p_smjer = Smjerovi::Gore, int p_x = 0, int p_y = 0){
	
		if(int(komanda) == 0){
			Status temp = Idi(polja, x, y, p_smjer);
			if(temp == Status::KrajPobjeda) std::cout &lt;&lt; 
		else if(int(komanda) == 1) Idi(polja, x, y, p_x, p_y);
		else if(int(komanda) == 2) BlokirajPolje(polja, p_x, p_y);
		else if(int(komanda) == 3) DeblokirajPolje(polja, p_x, p_y);
		else if(int(komanda) == 4) PrikaziOkolinu(polja, p_x, p_y);
		else if(int(komanda) ==5) ZavrsiIgru;
		else if(int(komanda) == 6){
			std::cout &lt;&lt; "Unesite broj polja: ";
			int broj;
			std::cin &gt;&gt; broj;
			std::complex&lt;int&gt; Poz_mine;
			std::vector&lt;std::vector&lt;int&gt;&gt; Mine;
			
			
		}

}
int main ()
{
	try{
		Tabla T(KreirajIgru(5, {{1,3},{0,2},{3,4},{0,4},{3,1}}));
		std::vector&lt;std::vector&lt;int&gt;&gt; A(PrikaziOkolinu(T,1,1));
		std::cout &lt;&lt; std::endl;
	
	
		for(int i(0); i &lt; A.size(); i++){
			for(int j(0); j &lt; A.size(); j++){
				std::cout &lt;&lt; A[i][j];
				}
			std::cout &lt;&lt; std::endl;
			}
			int a(0), b(0);
			KodoviGresaka greska;
			Smjerovi smjer(Smjerovi::Gore);
			
			BlokirajPolje(T, 9, 4);
			
	}
	catch(std::domain_error izuzetak){
		std::cout &lt;&lt; izuzetak.what() &lt;&lt; std::endl;
	}
	
	catch(std::out_of_range izuzetak){
		std::cout &lt;&lt; izuzetak.what() &lt;&lt; std::endl;
</font>	}
	catch(std::logic_error izuzetak){
		std::cout &lt;&lt; izuzetak.what() &lt;&lt; std::endl;
	}
	return 0;
}</pre>
</body>
</html>
