<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z2/Z1/student2886.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z2/Z1/student4852.cpp<p></p><pre>
#include&lt;iostream&gt;
#include&lt;vector&gt;
#include&lt;stdexcept&gt;
#include&lt;cmath&gt;
#include&lt;string&gt;
<a name="0"></a><font color="#FF0000"><a href="match88-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_99.gif"/></a>

enum class Status { NijeKraj, KrajPoraz, KrajPobjeda};
enum class Smjerovi { GoreLijevo, Gore, GoreDesno, Desno, DoljeDesno, Dolje, DoljeLijevo, Lijevo};
enum class Polje { Prazno, Posjeceno, Mina, BlokiranoPrazno, BlokiranoPosjeceno, BlokiranoMina};
enum class KodoviGresaka { PogresnaKomanda, NedostajeParmetar, SuvisanParametar, NeispravanParametar};
enum class Komande {PomjeriJednoMjesto, PomjeriDalje, Blokiraj, Deblokiraj, PrikaziOkolinu,ZavrsiIgru, KreirajIgru};
typedef std::vector&lt;std::vector&lt;Polje&gt;&gt; Tabla;
typedef std::vector&lt;std::vector&lt;int&gt;&gt; Matrica;

void PrijaviGresku(KodoviGresaka input){
	if(input==KodoviGresaka(0))std::cout&lt;&lt;"Nerazumljiva komanda! ";
	else if(input==KodoviGresaka(1))std::cout&lt;&lt;"Komanda trazi parametar koji nije naveden! ";
    else if(input==KodoviGresaka(2))std::cout&lt;&lt;"Parametar komande nije ispravan! ";
    else if(input==KodoviGresaka(3))std::cout&lt;&lt;"Zadan je suvisan parametar nakon komande!";

}
Tabla KreirajIgru(int n, const std::vector&lt;std::vector&lt;int&gt;&gt; &amp;mine){
	for(int i=0;i&lt;mine.size();i++){
		if(mine[i].size()!=2)
		throw std::domain_error("Ilegalne pozicije mina");
	}
	for(int i=0;i&lt;mine.size();i++){
		for(int j=0;j&lt;mine[i].size();j++){
			if(mine[i][j]&lt;0||mine[i][j]&gt;=n){
				throw std::domain_error("Ilegalne pozicije mina");
			}
		}
	}
	Tabla m(n,std::vector&lt;Polje&gt;(n,Polje(0)));
	for(int i=0;i&lt;mine.size();i++){
		m[mine[i][0]][mine[i][1]]=Polje(2);
	}
	return m;
} 


Matrica PrikaziOkolinu(const Tabla &amp;polja, int x, int y){
	std::string warning("Polje ("+std::to_string(x)+","+std::to_string(y)+") ne postoji");
	if(x&gt;=polja.size()||x&lt;0||y&gt;=polja[0].size()||y&lt;0)
	throw std::domain_error(warning);
	Tabla pomocna(polja.size()+6,std::vector&lt;Polje&gt;(polja[0].size()+6,Polje(3)));
	for(int i=0;i&lt;polja.size();i++){
		for(int j=0;j&lt;polja[0].size();j++){
			pomocna[i+3][j+3]=polja[i][j];
		}
	}
	Matrica mine(3,std::vector&lt;int&gt;(3));
	int brojmina(0),brojac1(0),brojac2(0);
	for(int i=x+3-1;i&lt;x+5;i++){
		for(int j=y+3-1;j&lt;y+5;j++){
			brojmina=0;
			for(int k=0;k&lt;pomocna.size();k++){
				for(int s=0;s&lt;pomocna[k].size();s++){
					if(((abs(k-i)==1&amp;&amp;abs(s-j)==1)||(abs(k-i)==0&amp;&amp;abs(s-j)==1)||(abs(k-i)==1&amp;&amp;abs(s-j)==0))&amp;&amp;pomocna[k][s]==Polje(2)&amp;&amp;pomocna[k][s]!=Polje(3)){
						brojmina++;
					}
				}
			}
			mine[brojac1][brojac2]=brojmina;
			brojac2++;
		}
		brojac1++;
		brojac2=0;
	}
		return mine;
}
void BlokirajPolje(Tabla &amp;polja, int x, int y){
	std::string warning("Polje ("+std::to_string(x)+","+std::to_string(y)+") ne postoji");
	if(x&lt;0||x&gt;=polja.size()||y&lt;0||y&gt;=polja[0].size())
	throw std::domain_error(warning);
	if(polja[x][y]==Polje(3)||polja[x][y]==Polje(4)||polja[x][y]==Polje(5))
	exit(0);
	else{
	if(polja[x][y]==Polje(0))
	polja[x][y]=Polje(3);
	if(polja[x][y]==Polje(1))
	polja[x][y]=Polje(4);
	if(polja[x][y]==Polje(2))
	polja[x][y]=Polje(5);}
}
void DeblokirajPolje(Tabla &amp;polja, int x, int y){
	std::string warning("Polje ("+std::to_string(x)+","+std::to_string(y)+") ne postoji");
	if(x&lt;0||x&gt;=polja.size()||y&lt;0||y&gt;=polja[0].size())
	throw std::domain_error(warning);
	if(polja[x][y]==Polje(0)||polja[x][y]==Polje(1)||polja[x][y]==Polje(2))
	exit(0);
	else{
	if(polja[x][y]==Polje(3))
	polja[x][y]=Polje(0);
	if(polja[x][y]==Polje(4))
	polja[x][y]=Polje(1);
	if(polja[x][y]==Polje(5))
	polja[x][y]=Polje(2);}
}

Status Idi(Tabla &amp;polja, int &amp;x, int &amp;y, Smjerovi smjer){
	if(smjer==Smjerovi(0)&amp;&amp;x-1&gt;=0&amp;&amp;y-1&gt;=0&amp;&amp;(polja[x-1][y-1]!=Polje(3)&amp;&amp;polja[x-1][y-1]!=Polje(4)&amp;&amp;polja[x-1][y-1]!=Polje(5))){
		polja[x][y]=Polje(1);
		x=x-1;y=y-1;
	}
	else if(smjer==Smjerovi(0)&amp;&amp;(x-1&lt;0||y-1&lt;0))
	throw std::out_of_range("Izlazak van igrace table");
	
	else if(smjer==Smjerovi(1)&amp;&amp;x-1&gt;=0&amp;&amp;(polja[x-1][y]!=Polje(3)&amp;&amp;polja[x-1][y]!=Polje(4)&amp;&amp;polja[x-1][y]!=Polje(5))){
		polja[x][y]=Polje(1);
		x=x-1;
	}
	else if(smjer==Smjerovi(1)&amp;&amp;x-1&lt;0)
	throw std::out_of_range("Izlazak van igrace table");
	
	else if(smjer==Smjerovi(2)&amp;&amp;x-1&gt;=0&amp;&amp;y+1&lt;polja[0].size()&amp;&amp;(polja[x-1][y+1]!=Polje(3)&amp;&amp;polja[x-1][y+1]!=Polje(4)&amp;&amp;polja[x-1][y+1]!=Polje(5))){
		polja[x][y]=Polje(1);
		x=x-1;y=y+1;
	}
	else if(smjer==Smjerovi(2)&amp;&amp;(x-1&lt;0||y+1&gt;=polja[0].size()))
	throw std::out_of_range("Izlazak van igrace table");
	
	else if(smjer==Smjerovi(3)&amp;&amp;y+1&lt;polja[0].size()&amp;&amp;(polja[x][y+1]!=Polje(3)&amp;&amp;polja[x][y+1]!=Polje(4)&amp;&amp;polja[x][y+1]!=Polje(5))){
		polja[x][y]=Polje(1);
		y=y+1;
	}
	else if(smjer==Smjerovi(3)&amp;&amp;y+1&gt;=polja[0].size())
	throw std::out_of_range("Izlazak van igrace table");
	
	else if(smjer==Smjerovi(4)&amp;&amp;x+1&lt;polja.size()&amp;&amp;y+1&lt;polja[0].size()&amp;&amp;(polja[x+1][y+1]!=Polje(3)&amp;&amp;polja[x+1][y+1]!=Polje(4)&amp;&amp;polja[x+1][y+1]!=Polje(5))){
		polja[x][y]=Polje(1);
		y=y+1;x=x+1;
	}
	else if(smjer==Smjerovi(4)&amp;&amp;(x-1&gt;=polja.size()||y+1&gt;=polja[0].size()))
	throw std::out_of_range("Izlazak van igrace table");
	
	else if(smjer==Smjerovi(5)&amp;&amp;x+1&lt;polja.size()&amp;&amp;(polja[x+1][y]!=Polje(3)&amp;&amp;polja[x+1][y]!=Polje(4)&amp;&amp;polja[x+1][y]!=Polje(5))){
		polja[x][y]=Polje(1);
		x=x+1;
	}
	else if(smjer==Smjerovi(5)&amp;&amp;x-1&gt;=polja.size())
	throw std::out_of_range("Izlazak van igrace table");
	
	else if(smjer==Smjerovi(6)&amp;&amp;x+1&lt;polja.size()&amp;&amp;y-1&gt;=0&amp;&amp;(polja[x+1][y-1]!=Polje(3)&amp;&amp;polja[x+1][y-1]!=Polje(4)&amp;&amp;polja[x+1][y-1]!=Polje(5))){
		polja[x][y]=Polje(1);
		x=x+1;y=y-1;
	}
	else if(smjer==Smjerovi(6)&amp;&amp;(x-1&gt;=polja.size()||y-1&lt;0))
	throw std::out_of_range("Izlazak van igrace table");
	
	else if(smjer==Smjerovi(7)&amp;&amp;(y-1&gt;=0)&amp;&amp;(polja[x][y-1]!=Polje(3)&amp;&amp;polja[x][y-1]!=Polje(4)&amp;&amp;polja[x][y-1]!=Polje(5))){
		polja[x][y]=Polje(1);
		y=y-1;
	}
	else if(smjer==Smjerovi(7)&amp;&amp;(x-1&gt;=polja.size()||y-1&lt;0))
	throw std::out_of_range("Izlazak van igrace table");
	
	else 
	throw std::logic_error("Blokirano polje");
	int logicka=1;
	for(int i=0;i&lt;polja.size();i++){
		for(int j=0;j&lt;polja[0].size();j++){
			if(polja[i][j]==Polje(0)){
			logicka=0;
			break;}
		}
		if(!logicka)break;
	}
	if(polja[x][y]==Polje(2))
	return Status(1);
	else if(logicka)return Status(2);
	else
	return Status(0);
	
}

Status Idi(Tabla &amp;polja, int &amp;x, int &amp;y, int novi_x, int novi_y){
	if(novi_x&lt;0||novi_x&gt;=polja.size()||novi_y&lt;0||novi_y&gt;=polja[0].size())
	throw std::out_of_range("Izlazak van igrace table");
	if(polja[novi_x][novi_y]==Polje(3)||polja[novi_x][novi_y]==Polje(4)||polja[novi_x][novi_y]==Polje(5))
	throw std::logic_error("Blokirano polje");
	int a(x);
	int b(y);
	polja[x][y]=Polje(1);
        if(novi_x-a&lt;0){
		for(int i=0;i&lt;abs(novi_x-a);i++)
		x--;
	}
        else{
		for(int i=0;i&lt;abs(novi_x-a);i++)
		x++;}
	
		if(novi_y-b&lt;0){
		for(int i=0;i&lt;abs(novi_y-b);i++)
		y++;
	}
        else{
		for(int i=0;i&lt;abs(novi_y-b);i++)
		y++;
	}

int logicka=1;
	for(int i=0;i&lt;polja.size();i++){
		for(int j=0;j&lt;polja[0].size();j++){
			if(polja[i][j]==Polje(0)){
			logicka=0;
			break;}
		}
		if(!logicka)break;
	}
	if(polja[x][y]==Polje(2))
	return Status(1);
	else if(logicka)return Status(2);
	else
	return Status(0);


}


int main ()
{
/*	Matrica m;
	m=PrikaziOkolinu(KreirajIgru(5, {{0,1}, {0,4},{1,3},{1,4},{2,0},{2,1},{2,3}}),1,1);
	for(int i=0;i&lt;m.size();i++){
		for(int j=0;j&lt;m[0].size();j++){
			std::cout&lt;&lt;m[i][j]&lt;&lt;" ";
		}
		std::cout&lt;&lt;"\n";
	}
std::vector&lt;std::vector&lt;int&gt;&gt; mine = {{0,2}, {1,3}, {1,5}, {4,2}, {5,1}, {5,5}} ;
std::vector&lt;std::vector&lt;Polje&gt;&gt; tabla = KreirajIgru(6, mine);
 int x = 2, y = 0;
 Idi(tabla, x, y, 4, 5);
 std::cout &lt;&lt; x &lt;&lt; " " &lt;&lt; y &lt;&lt; std::endl;
 Idi(tabla, x, y, 5, 5);
 std::cout &lt;&lt; x &lt;&lt; " " &lt;&lt; y &lt;&lt; std::endl;*/
    //AT13 (zamger) - funkcija idi sa 4 parametra izuzeci 
    int x = 0, y = 0;
    std::vector&lt;std::vector&lt;int&gt;&gt; mine = {{0,2}, {1,0}, {1,1}, {1,2}, {2,0}, {2,1}, {2,2}};
    std::vector&lt;std::vector&lt;Polje&gt;&gt; tabla = KreirajIgru(3, mine);
   try{
     Idi(tabla, x, y, Smjerovi::Lijevo);
   }
   catch(std::out_of_range e){
     std::cout &lt;&lt; e.what() &lt;&lt; std::endl;
   }
   BlokirajPolje(tabla, 0, 1);
   try{
     Idi(tabla, x, y, Smjerovi::Desno);
   }
   catch(std::logic_error e){
     std::cout &lt;&lt; e.what() &lt;&lt; std::endl;
</font>   }
	return 0;
}</pre>
</body>
</html>
