<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z2/Z1/student7977.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z2/Z1/student7977.cpp<p></p><pre>
/*B 16/17, ZadaÄ‡a 2, Zadatak 1
	
	NAPOMENA: i javni ATo-vi su dio postavke
	
	Autotestovi by Ivona Ivkovic. Sva pitanja, sugestije
	i prijave gresaka saljite na mail: iivkovic2@etf.unsa.ba
	
*/
#include &lt;iostream&gt;
#include &lt;string&gt;
#include &lt;vector&gt;
#include &lt;stdexcept&gt;
#include &lt;sstream&gt;

enum class Polje { Prazno, Posjeceno, Mina, BlokiranoPrazno, BlokiranoPosjeceno, BlokiranoMina
};


typedef std::vector&lt;std::vector&lt;Polje&gt;&gt; Tabla;
// Kreiraj igru
Tabla KreirajIgru(int n, const std::vector&lt;std::vector&lt;int&gt;&gt; &amp;mine){
	Tabla tablica(n);
	for(int i=0; i&lt;n; i++){
		tablica[i].resize(n);
		for(int j=0; j&lt;n; j++){
			tablica[i][j] = Polje::Prazno;	
		}
	}
	for(int i=0; i&lt;mine.size(); i++){
		if(n&gt;0){
			if(mine[i].size() != 2) throw std::domain_error ("Ilegalan format zadavanja mina");
			for(int j=0; j&lt;mine[i].size()-1; j++){
				if((mine[i][j] &gt;= n) || (mine[i][j] &lt; 0) || (mine[i][j+1] &gt;= n) || (mine[i][j+1] &lt; 0)) 
					throw std::domain_error ("Ilegalne pozicije mina");
				tablica[mine[i][j]][mine[i][j+1]] = Polje::Mina;
			}
		}
	}
	return tablica;
}
//Prikazi okolinu
template &lt;typename T&gt; std::string PretvoriUString(T x) {
	std::ostringstream s;  s &lt;&lt; x; return s.str();
}

std::vector&lt;std::vector&lt;int&gt;&gt; PrikaziOkolinu(const Tabla &amp;polja, int x, int y){
	if((x&lt;0) || (y&lt;0) ||(x&gt;=polja.size()) || (y&gt;=polja[0].size())){
		std::string izuzetak("Polje (" + PretvoriUString(x) + "," + PretvoriUString(y) + ") ne postoji");
		throw std::domain_error (izuzetak);
	
	}
	std::vector&lt;std::vector&lt;int&gt;&gt; v(3);
	for(int i=0; i&lt;3; i++){
		v[i].resize(3);
	}
	
	int suma(0), kolona(0), red(0);
	for(int i=x-1; i&lt;x+2; i++){
		for(int j=y-1; j&lt;y+2; j++){
				for(int k=i-1; k&lt;i+2; k++){
					for(int h=j-1; h&lt;j+2; h++){
						if(!((k&lt;0) || (h&lt;0) || (k&gt;=polja.size()) || (h&gt;=polja[x].size()))){
							if((polja[k][h] == Polje::Mina) &amp;&amp; ((i != k)||(j != h))){
								suma++;
							}	
						}
					}
				}
				v[red][kolona] = suma;
				suma = 0;
				kolona++;
		}
		red++;
		kolona = 0;
	}
	return v;
}
//Blokiraj polje
void BlokirajPolje(Tabla &amp;polja, int x, int y){
	if((x&lt;0)||(y&lt;0)||(x&gt;=polja.size()||(y&gt;=polja[0].size()))){
		throw std::domain_error ("Polje (" + PretvoriUString(x) + "," + PretvoriUString(y) + ") ne postoji");
	}
	if(polja[x][y] == Polje::Prazno) polja[x][y] = Polje::BlokiranoPrazno;
	if(polja[x][y] == Polje::Posjeceno) polja[x][y] = Polje::BlokiranoPosjeceno;
	if(polja[x][y] == Polje::Mina) polja[x][y] = Polje::BlokiranoMina;
}
//Deblokiraj Polje
void DeblokirajPolje(Tabla &amp;polja, int x, int y){
	if((x&lt;0)||(y&lt;0)||(x&gt;=polja.size())||(y&gt;=polja[0].size())) 
		throw std::domain_error ("Polje (" + PretvoriUString(x) + "," + PretvoriUString(y) + ") ne postoji");
	if(polja[x][y] == Polje::BlokiranoPrazno) polja[x][y] = Polje::Prazno;
	if(polja[x][y] == Polje::BlokiranoPosjeceno) polja[x][y] = Polje::Posjeceno;
	if(polja[x][y] == Polje::BlokiranoMina) polja[x][y] = Polje::Mina;
}

enum class Smjerovi { GoreLijevo, Gore, GoreDesno, Desno, DoljeDesno, Dolje, DoljeLijevo, Lijevo 
};

enum class Status { NijeKraj, KrajPoraz, KrajPobjeda
};

Status PomocnaFunkcija(Tabla &amp;polja, int &amp;x, int &amp;y){
	if(polja[x][y] == Polje::Mina){
		for(int i=0; i&lt;polja.size(); i++){
			for(int j=0; j&lt;polja[i].size(); j++){
				polja[i][j] = Polje::Prazno;
			}
		}
		return Status::KrajPoraz;
	}
	int h, k;
	for(k=0; k&lt;polja.size(); k++){
		for(h=0; h&lt;polja[k].size(); h++){
			if((polja[k][h] == Polje::Prazno)&amp;&amp;(polja[k][h] != polja[x][y])) break;
		}
		if(h != polja[k].size()) break;
	}
	if(k != polja.size()) return Status::KrajPobjeda; 

	return Status::NijeKraj;
}

Status Idi(Tabla &amp;polja, int &amp;x, int &amp;y, Smjerovi smjer){
	if(smjer == Smjerovi::GoreLijevo){
		if((x&lt;=0) || (y&lt;=0)) throw std::out_of_range ("Izlazak van igrace table");
<a name="1"></a><font color="#00FF00"><a href="match903-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_1.gif"/></a>

		if((polja[x-1][y-1]==Polje::BlokiranoPrazno)||(polja[x-1][y-1]==Polje::BlokiranoPosjeceno)||(polja[x-1][y-1] == Polje::BlokiranoMina)){
			throw std::logic_error("Blokirano polje");
</font>		}
		polja[x][y] = Polje::Posjeceno; x--; y--;
		
		return PomocnaFunkcija(polja, x, y); 

	}else if(smjer == Smjerovi::Gore){
		if(x&lt;=0) throw std::out_of_range ("Izlazak van igrace table");
<a name="7"></a><font color="#0000FF"><a href="match903-1.html#7" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_0.gif"/></a>

		if((polja[x-1][y]==Polje::BlokiranoPrazno)||(polja[x-1][y]==Polje::BlokiranoPosjeceno)||(polja[x-1][y] == Polje::BlokiranoMina)){
			throw std::logic_error ("Blokirano polje");
</font>		}
		polja[x][y] = Polje::Posjeceno; x--;
		
		return PomocnaFunkcija(polja, x, y);
		
	}else if(smjer == Smjerovi::GoreDesno){
		if((x&lt;=0) || (y&gt;=polja[0].size()-1)) throw std::out_of_range ("Izlazak van igrace table");
<a name="6"></a><font color="#00FF00"><a href="match903-1.html#6" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_0.gif"/></a>

		if((polja[x-1][y+1]==Polje::BlokiranoPrazno)||(polja[x-1][y+1]==Polje::BlokiranoPosjeceno)||(polja[x-1][y+1] == Polje::BlokiranoMina)){
			throw std::logic_error ("Blokirano polje");
		}
		polja[x][y] = Polje::Posjeceno; x--; y++;
</font>		
		return PomocnaFunkcija(polja, x, y);
		
	}else if(smjer == Smjerovi::Desno){
		if(y&gt;=polja[0].size()-1) throw std::out_of_range ("Izlazak van igrace table");
<a name="2"></a><font color="#0000FF"><a href="match903-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_0.gif"/></a>

		if((polja[x][y+1]==Polje::BlokiranoPrazno)||(polja[x][y+1]==Polje::BlokiranoPosjeceno)||(polja[x][y+1] == Polje::BlokiranoMina)){
			throw std::logic_error ("Blokirano polje");
</font>		}
		polja[x][y] = Polje::Posjeceno; y++;
		
		return PomocnaFunkcija(polja, x, y);
		
	}else if(smjer == Smjerovi::DoljeDesno){
		if((y&gt;=polja[0].size()-1)||(x&gt;=polja.size()-1)) 
			throw std::out_of_range ("Izlazak van igrace table");
<a name="4"></a><font color="#FF00FF"><a href="match903-1.html#4" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_0.gif"/></a>

		if((polja[x+1][y+1]==Polje::BlokiranoPrazno)||(polja[x+1][y+1]==Polje::BlokiranoPosjeceno)||(polja[x+1][y+1] == Polje::BlokiranoMina)){
			throw std::logic_error ("Blokirano polje");
</font>		}
		polja[x][y] = Polje::Posjeceno; x++; y++;

		return PomocnaFunkcija(polja, x, y);
		
	}else if((smjer == Smjerovi::Dolje) &amp;&amp; (x&lt;polja.size()-1)){
		if(x&gt;=polja.size()-1) throw std::out_of_range ("Izlazak van igrace table");
<a name="8"></a><font color="#00FFFF"><a href="match903-1.html#8" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_0.gif"/></a>

		if((polja[x+1][y]==Polje::BlokiranoPrazno)||(polja[x+1][y]==Polje::BlokiranoPosjeceno)||(polja[x+1][y] == Polje::BlokiranoMina)){
			throw std::logic_error ("Blokirano polje");
</font>		}
		polja[x][y] = Polje::Posjeceno; x++;
	
		return PomocnaFunkcija(polja, x, y);
		
	}else if(smjer == Smjerovi::DoljeLijevo){
		if((x&gt;=polja.size()-1)||(y&lt;=0)) throw std::out_of_range ("Izlazak van igrace table");
<a name="3"></a><font color="#00FFFF"><a href="match903-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_0.gif"/></a>

		if((polja[x+1][y-1]==Polje::BlokiranoPrazno)||(polja[x+1][y-1]==Polje::BlokiranoPosjeceno)||(polja[x+1][y-1] == Polje::BlokiranoMina)){
			throw std::logic_error ("Blokirano polje");
	}
		polja[x][y] = Polje::Posjeceno; x++; y--;
</font>		
		return PomocnaFunkcija(polja, x, y);
		
	}else if(smjer == Smjerovi::Lijevo){
		if(y&lt;=0) throw std::out_of_range ("Izlazak van igrace table");
<a name="5"></a><font color="#FF0000"><a href="match903-1.html#5" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_0.gif"/></a>

		if((polja[x][y-1]==Polje::BlokiranoPrazno)||(polja[x][y-1]==Polje::BlokiranoPosjeceno)||(polja[x][y-1] == Polje::BlokiranoMina)){
			throw std::logic_error ("Blokirano polje");
		}
		polja[x][y] = Polje::Posjeceno; y--;
</font>		
		return PomocnaFunkcija(polja, x, y);
	}
	return Status::NijeKraj;
}

<a name="0"></a><font color="#FF0000"><a href="match903-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_1.gif"/></a>

Status Idi(Tabla &amp;polja, int &amp;x, int&amp;y, int novi_x, int novi_y){
	if((novi_x&lt;0)||(novi_y&lt;0)||(novi_x&gt;=polja.size())||(novi_y&gt;=polja[0].size())){
		throw std::out_of_range("Izlazak van igrace table");
	}
	if((polja[novi_x][novi_y]==Polje::BlokiranoPrazno)||(polja[novi_x][novi_y]==Polje::BlokiranoPosjeceno)||(polja[novi_x][novi_y]==Polje::BlokiranoMina)){
</font>		throw std::logic_error("Blokirano polje");
	}

	polja[x][y] = Polje::Posjeceno;
	x=novi_x;
	y=novi_y;

	return PomocnaFunkcija(polja, x, y);
}

enum class KodoviGresaka { PogresnaKomanda, NedostajeParametar, SuvisanParametar, NeispravanParametar
};

<a name="10"></a><font color="#FF0000"><a href="match903-1.html#10" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_0.gif"/></a>

void PrijaviGresku(KodoviGresaka greska){
	if(greska == KodoviGresaka::PogresnaKomanda){
		std::cout &lt;&lt; "Nerazumljiva komanda!" &lt;&lt; std::endl;
	}else if(greska == KodoviGresaka::NedostajeParametar){
		std::cout &lt;&lt; "Komanda trazi parametar koji nije naveden!" &lt;&lt; std::endl;
</font>	}else if(greska == KodoviGresaka::NeispravanParametar){
		std::cout &lt;&lt; "Parametar komande nije ispravan!" &lt;&lt; std::endl;
	}else if(greska == KodoviGresaka::SuvisanParametar){
		std:: cout &lt;&lt; "Zadan je suvisan parametar nakon komande!" &lt;&lt; std::endl;
	}
}

enum class Komande { 
	PomjeriJednoMjesto, PomjeriDalje, Blokiraj, Deblokiraj, PrikaziOkolinu, ZavrsiIgru, KreirajIgru
};

int OdstraniRazmake(std::string unos, int i){
	int j, povratna;
	bool a(true);
	for(j=i; j&lt;unos.length(); j++){
		if(unos[j] == ' '){
			a = true;
		}else if( a==true ){
			a = false;
			povratna = j;
			break;
		}
	}
	if(j == unos.length()) povratna = j;
	return povratna;
}

int PretvoriUBroj(std::string s){
	int broj(0); 
	for(int i=0; i&lt;s.length(); i++){
		broj = broj*10 + (s[i] - '0');
	}
	return broj;
}

bool UnosKomande(Komande &amp;komanda, Smjerovi &amp;smjer, int &amp;x, int &amp;y, KodoviGresaka &amp;greska){
	std::string unos;
	std::getline(std::cin, unos);
	int kraj_unosa = unos.length();
	int j(OdstraniRazmake(unos, 0));
	bool povrat(false);
	
	if(j != kraj_unosa){
//Pomjeri se za jedno mjesto
		if(unos[j]=='P'){
			j++;
			if(j == kraj_unosa){
				greska = KodoviGresaka::PogresnaKomanda;
			}else if(unos[j]=='1'){
				j++;
				if(j == kraj_unosa){
					greska = KodoviGresaka::NedostajeParametar;
				}else if(unos[j] == ' '){
					j = OdstraniRazmake(unos, j);
					if(j != kraj_unosa){
						if(unos[j]=='G'){
							j++;
							if(j==kraj_unosa){
								povrat = true;
								komanda = Komande::PomjeriJednoMjesto;
								smjer = Smjerovi::Gore;
							}else if(unos[j] == ' '){
								j=OdstraniRazmake(unos, j);
								if(j==kraj_unosa){
									povrat = true;
									komanda = Komande::PomjeriJednoMjesto;
									smjer = Smjerovi::Gore;
								}else{
									greska = KodoviGresaka::SuvisanParametar;
								}
							}else if(unos[j] == 'L'){
								j++;	
								j = OdstraniRazmake(unos, j);
								if(j==kraj_unosa){
									povrat = true;
									komanda = Komande::PomjeriJednoMjesto;
									smjer = Smjerovi::GoreLijevo;
								}else{
									greska = KodoviGresaka::SuvisanParametar;
								}
							}else if(unos[j] == 'D'){
								j++;
								j = OdstraniRazmake(unos, j);
								if(j==kraj_unosa){
									povrat = true;
									komanda = Komande::PomjeriJednoMjesto;
									smjer = Smjerovi::GoreDesno;
								}else{
									greska = KodoviGresaka::SuvisanParametar;
								}
							}
						}else if(unos[j] == 'D'){
							j++;
							if(j==kraj_unosa){
								povrat = true;
								komanda = Komande::PomjeriJednoMjesto;
								smjer = Smjerovi::Desno;
							}else if(unos[j] == ' '){
								j = OdstraniRazmake(unos, j);
								if(j == kraj_unosa){
									povrat = true;
									komanda = Komande::PomjeriJednoMjesto;
									smjer = Smjerovi::Desno;
								}else{
									greska = KodoviGresaka::SuvisanParametar;
								}
							}else if(unos[j] == 'o'){
								j++;
								if(j == kraj_unosa){
									povrat = true;
									komanda = Komande::PomjeriJednoMjesto;
									smjer = Smjerovi::Dolje;
								}else if(unos[j] == ' '){
									j = OdstraniRazmake(unos, j);
									if(j == kraj_unosa){
										povrat = true;
										komanda = Komande::PomjeriJednoMjesto;
										smjer = Smjerovi::Dolje;
									}else{
										greska = KodoviGresaka::SuvisanParametar;
									}
								}else if(unos[j] == 'D'){
									j++;
									j = OdstraniRazmake(unos, j);
									if(j == kraj_unosa){
										povrat = true;
										komanda = Komande::PomjeriJednoMjesto;
										smjer = Smjerovi::DoljeDesno;
									}else{
										greska = KodoviGresaka::SuvisanParametar;
									}
								}else if(unos[j] == 'L'){
									j++;
									j = OdstraniRazmake(unos, j);
									if(j == kraj_unosa){
										povrat = true;
										komanda = Komande::PomjeriJednoMjesto;
										smjer = Smjerovi::DoljeLijevo;
									}else{
										greska = KodoviGresaka::SuvisanParametar;
									}
								}else{
									greska = KodoviGresaka::SuvisanParametar;
								}
							}
					
						}else if(unos[j] == 'L'){
							j++;
							if(j == kraj_unosa){
								povrat = true;
								komanda = Komande::PomjeriJednoMjesto;
								smjer = Smjerovi::Lijevo;
							}else if(unos[j] == ' '){
								j = OdstraniRazmake(unos, j);
								if(j == kraj_unosa){
									povrat = true;
									komanda = Komande::PomjeriJednoMjesto;
									smjer = Smjerovi::Lijevo;
								}else{
									greska = KodoviGresaka::SuvisanParametar;
								}
							}else{
								greska = KodoviGresaka::SuvisanParametar;
							}
						}else{
							greska = KodoviGresaka::NeispravanParametar;
						}
					}else{
						greska = KodoviGresaka::NedostajeParametar;
					}
				}else{
					greska = KodoviGresaka::PogresnaKomanda;
				}
// Pomjeri se na zadano polje
			}else if(unos[j]=='&gt;'){
				j++;
				if(j == kraj_unosa){
					greska = KodoviGresaka::NedostajeParametar;
				}else if(unos[j] == ' '){
					j = OdstraniRazmake(unos, j);
					if(j == kraj_unosa){
						greska = KodoviGresaka::NedostajeParametar;
					}else if(unos[j] &gt;= '0' &amp;&amp; unos[j] &lt;= '9'){
						int i;
						for(i=j; i&lt;kraj_unosa; i++){
							if(!((unos[i] == ' ') || (unos[i] &gt;= '0' &amp;&amp; unos[i] &lt;= '9'))){
								break;
							}
						}
						if(i == unos.length()){
							for(i=j; i&lt;kraj_unosa; i++){
								if(unos[i] == ' ' || i == kraj_unosa) break;
							}
						
							int poten_x(PretvoriUBroj(unos.substr(j, i-j)));
							j=i;
							if(j == kraj_unosa){
								greska = KodoviGresaka::NedostajeParametar;
							}else if(unos[j] == ' '){
								j = OdstraniRazmake(unos, j);
								if(j == kraj_unosa){
									greska = KodoviGresaka::NedostajeParametar;
								}else{
									for(i=j; i&lt;kraj_unosa; i++){
										if(unos[i] == ' ' || i==kraj_unosa) break;
									}
									int poten_y(PretvoriUBroj(unos.substr(j, i-j)));
									j=i;
									j = OdstraniRazmake(unos, j);
									if(j == kraj_unosa){
										povrat = true;
										komanda = Komande::PomjeriDalje;
										x = poten_x;
										y = poten_y;
									}else{
										greska = KodoviGresaka::SuvisanParametar;
									}
								}
							}
						}else{
							greska = KodoviGresaka::SuvisanParametar;
						}
						
					}else{
						greska = KodoviGresaka::NeispravanParametar;
					}
				}else{
					greska = KodoviGresaka::PogresnaKomanda;
				}
//Prikazi okolinu zadatog polja
			}else if(unos[j]=='O'){
				j++;
				if(j == kraj_unosa){
					povrat = true;
					komanda = Komande::PrikaziOkolinu;
				}else if(unos[j] == ' '){
					j = OdstraniRazmake(unos, j);
					if(j == kraj_unosa){
						povrat = true;
						komanda = Komande::PrikaziOkolinu;
					}else{
						greska = KodoviGresaka::SuvisanParametar;
					}
				}else{
					greska = KodoviGresaka::PogresnaKomanda;
				}
			}else{
				greska = KodoviGresaka::PogresnaKomanda;
			}
// Blokiraj polje
		}else if(unos[j]=='B'){
			j++;
			if(j == kraj_unosa){
				greska = KodoviGresaka::NedostajeParametar;
			}else if(unos[j] == ' '){
				j = OdstraniRazmake(unos, j);
				if(j == kraj_unosa){
					greska = KodoviGresaka::NedostajeParametar;
				}else if(unos[j] &gt;= '0' &amp;&amp; unos[j] &lt;= '9'){
					int i;
					for(i=j; i&lt;kraj_unosa; i++){
						if(!((unos[i] == ' ') || (unos[i] &gt;= '0' &amp;&amp; unos[i] &lt;= '9'))){
							break;
						}
					}
					if(i == unos.length()){
						for(i=j; i&lt;kraj_unosa; i++){
							if(unos[i] == ' ' || i == kraj_unosa) break;
						}
						
						int poten_x(PretvoriUBroj(unos.substr(j, i-j)));
						j=i;
						if(j == kraj_unosa){
							greska = KodoviGresaka::NedostajeParametar;
						}else if(unos[j] == ' '){
							j = OdstraniRazmake(unos, j);
							if(j == kraj_unosa){
								greska = KodoviGresaka::NedostajeParametar;
							}else{
								for(i=j; i&lt;kraj_unosa; i++){
									if(unos[i] == ' ' || i == kraj_unosa) break;
								}
								int poten_y(PretvoriUBroj(unos.substr(j, i-j)));
								j=i;
								j = OdstraniRazmake(unos, j);
								if(j == kraj_unosa){
									povrat = true;
									komanda = Komande::Blokiraj;
									x = poten_x;
									y = poten_y;
								}else{
									greska = KodoviGresaka::SuvisanParametar;
								}
							}
						}
					}else{
						greska = KodoviGresaka::SuvisanParametar;
					}
					
				}else{
					greska = KodoviGresaka::NeispravanParametar;
				}
			}else{
				greska = KodoviGresaka::PogresnaKomanda;
			}
			
// Deblokiraj polje
		}else if(unos[j]=='D'){
			j++;
			if(j == kraj_unosa){
				greska = KodoviGresaka::NedostajeParametar;
			}else if(unos[j] == ' '){
				j = OdstraniRazmake(unos, j);
				if(j == kraj_unosa){
					greska = KodoviGresaka::NedostajeParametar;
				}else if(unos[j] &gt;= '0' &amp;&amp; unos[j] &lt;= '9'){
					int i;
					for(i=j; i&lt;kraj_unosa; i++){
						if(!((unos[i] == ' ') || (unos[j] &gt;= '0' &amp;&amp; unos[j] &lt;= '9'))){
							break;
						}
					}
					if(i == unos.length()){
						for(i=j; i&lt;kraj_unosa; i++){
							if(unos[i] == ' ' || i == kraj_unosa) break;
						}

						int poten_x(PretvoriUBroj(unos.substr(j, i-j)));
						j=i;
						if(j == kraj_unosa){
							greska = KodoviGresaka::NedostajeParametar;
						}else if(unos[j] == ' '){
							j = OdstraniRazmake(unos, j);
							if(j == kraj_unosa){
								greska = KodoviGresaka::NedostajeParametar;
							}else{
								for(i=j; i&lt;kraj_unosa; i++){
									if(unos[i] == ' ' || i==kraj_unosa) break;
								}
								int poten_y(PretvoriUBroj(unos.substr(j, i-j)));
								j=i;
								j = OdstraniRazmake(unos, j);
								if(j == kraj_unosa){
									povrat = true;
									komanda = Komande::Deblokiraj;
									x = poten_x;
									y = poten_y;
								}else{
									greska = KodoviGresaka::SuvisanParametar;
								}
							}
						}
					}else{
						greska = KodoviGresaka::SuvisanParametar;
					}
					
				}else{
					greska = KodoviGresaka::NeispravanParametar;
				}
			}else{
				greska = KodoviGresaka::PogresnaKomanda;
			}
//Zavrsi igru
		}else if(unos[j]=='Z'){
			j++;
			if(j == kraj_unosa){
				povrat = true;
				komanda = Komande::ZavrsiIgru;
			}else if(unos[j] == ' '){
				j = OdstraniRazmake(unos, j);
				if(j == kraj_unosa){
					povrat = true;
					komanda = Komande::ZavrsiIgru;
				}else{
					greska = KodoviGresaka::SuvisanParametar;
				}
			}else{
				greska = KodoviGresaka::PogresnaKomanda;
			}
//Kreiraj igru
		}else if(unos[j]=='K'){
			j++;
			if(j == kraj_unosa){
				povrat = true;
				komanda = Komande::KreirajIgru;
			}else if(unos[j] == ' '){
				j = OdstraniRazmake(unos, j);
				if(j == kraj_unosa){
					povrat = true;
					komanda = Komande::KreirajIgru;
				}else{
					greska = KodoviGresaka::SuvisanParametar;
				}
			}else{
				greska = KodoviGresaka::PogresnaKomanda;
			}
				
		}else{
			greska = KodoviGresaka::PogresnaKomanda; 
		}
	}else{
		greska = KodoviGresaka::PogresnaKomanda;
	}
	return povrat;
}

void IzvrsiKomandu( Komande komanda, Tabla &amp;polja, int &amp;x, int &amp;y, Smjerovi p_smjer = Smjerovi::Gore, int p_x = 0, int p_y = 0 ){
	
	if(komanda == Komande::PomjeriDalje){
<a name="17"></a><font color="#0000FF"><a href="match903-1.html#17" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_0.gif"/></a>

		Status status;
		try{
			status = Idi(polja, p_x, p_y, x, y);
			std::cout &lt;&lt; "Tekuca pozicija igraca je (" &lt;&lt; x &lt;&lt; "," &lt;&lt; y &lt;&lt; ")" &lt;&lt; std::endl;
</font>			if(status == Status::KrajPoraz){
				std::cout &lt;&lt; "Nagazili ste na minu" &lt;&lt; std::endl;
				for(int i=0; i&lt;polja.size(); i++){
<a name="12"></a><font color="#0000FF"><a href="match903-1.html#12" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_0.gif"/></a>

					for(int j=0; j&lt;polja[i].size(); j++){
						polja[i][j] = Polje::Prazno;
					}
				}
				throw std::runtime_error ("Igra zavrsava");
				
			}else if(status == Status::KrajPobjeda){
				std::cout &lt;&lt; "Bravo, obisli ste sva polja" &lt;&lt; std::endl;
</font>				for(int i=0; i&lt;polja.size(); i++){
<a name="9"></a><font color="#FF00FF"><a href="match903-1.html#9" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_0.gif"/></a>

					for(int j=0; j&lt;polja[i].size(); j++){
						polja[i][j] = Polje::Prazno;
					}
				}
				throw std::runtime_error ("Igra zavrsava");
			}
		}catch(std::logic_error izuzetak){
			std::cout &lt;&lt; izuzetak.what() &lt;&lt; std::endl;
</font>		}catch(std::out_of_range izuzetak1){
			std::cout &lt;&lt; izuzetak1.what() &lt;&lt; std::endl;
		}
//POMJERI JEDNO MJESTO	
	}else if(komanda == Komande::PomjeriJednoMjesto){
		Status status;
		try{
<a name="16"></a><font color="#00FF00"><a href="match903-1.html#16" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_0.gif"/></a>

			status = Idi(polja, x, y, p_smjer);
			std::cout &lt;&lt; "Tekuca pozicija igraca je (" &lt;&lt; x &lt;&lt; "," &lt;&lt; y &lt;&lt; ")" &lt;&lt; std::endl;
</font>			if(status == Status::KrajPoraz){
				std::cout &lt;&lt; "Nagazili ste na minu" &lt;&lt; std::endl;
				for(int i=0; i&lt;polja.size(); i++){
<a name="13"></a><font color="#00FFFF"><a href="match903-1.html#13" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_0.gif"/></a>

					for(int j=0; j&lt;polja[i].size(); j++){
						polja[i][j] = Polje::Prazno;
					}
				}
				throw std::runtime_error ("Igra zavrsava");
			
			}else if(status == Status::KrajPobjeda){
				std::cout &lt;&lt; "Bravo, obisli ste sva polja" &lt;&lt; std::endl;
</font>				for(int i=0; i&lt;polja.size(); i++){
					for(int j=0; j&lt;polja[i].size(); j++){
						polja[i][j] = Polje::Prazno;
					}
				}
				throw std::runtime_error ("Igra zavrsava");
			}
		}catch(std::logic_error izuzetak){
			std::cout &lt;&lt; izuzetak.what() &lt;&lt; std::endl;
		}catch(std::out_of_range izuzetak1){
			std::cout &lt;&lt; izuzetak1.what() &lt;&lt; std::endl;
		}
//Blokiraj		
	}else if(komanda == Komande::Blokiraj){
		
		try{
			BlokirajPolje(polja, x, y);
		}catch(std::domain_error izuzetak){
			std::cout &lt;&lt; izuzetak.what() &lt;&lt; std::endl;
		}
//Deblokiraj		
	}else if(komanda == Komande::Deblokiraj){
		
		try{
			DeblokirajPolje(polja, x, y);
		}catch(std::domain_error izuzetak){
			std::cout &lt;&lt; izuzetak.what() &lt;&lt; std::endl;
		}
//Prikazi okolinu		
	}else if(komanda == Komande::PrikaziOkolinu){
		std::vector&lt;std::vector&lt;int&gt;&gt; matrica;
		try{
			matrica = PrikaziOkolinu(polja, x, y);
		}catch(std::domain_error izuzetak){
			std::cout &lt;&lt; izuzetak.what() &lt;&lt; std::endl;
		}
		
		for(int i=0; i&lt;matrica.size(); i++){
<a name="14"></a><font color="#FF00FF"><a href="match903-1.html#14" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_0.gif"/></a>

			for(int j=0; j&lt;matrica[i].size(); j++){
				std::cout &lt;&lt; matrica[i][j] &lt;&lt; " ";
			}
			std::cout &lt;&lt; std::endl;
</font>		}
//Zavrsi igru		
	}else if(komanda == Komande::ZavrsiIgru){
		
		for(int i=0; i&lt;polja.size(); i++){
			for(int j=0; j&lt;polja[i].size(); j++){
				polja[i][j] = Polje::Prazno;
			}
		}
		throw std::runtime_error ("Igra zavrsava");
// Kreiraj igru		
	}else if(komanda == Komande::KreirajIgru){
		std::cout &lt;&lt; "Unesite broj polja: ";
		int n;
		std::cin &gt;&gt; n;
<a name="11"></a><font color="#00FF00"><a href="match903-1.html#11" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_0.gif"/></a>

		std::cin.ignore(1000,'\n');
		std::cout &lt;&lt; "Unesite pozicije mina: ";
		std::vector&lt;std::vector&lt;int&gt;&gt; v;
		int br_redova(0);
		
		while(1){
			
			std::string unos;
</font>			std::getline(std::cin, unos);
			
			if(unos.length() == 1 &amp;&amp; unos[0] == '.') break;
			if(unos.length() == 0){
				std::cout &lt;&lt; "Greska, unesite ponovo!" &lt;&lt; std::endl;
				continue;
			}
			
			int i;
			for(i=0; i&lt;unos.length(); i++){
				if(!((unos[i] &gt;= '0' &amp;&amp; unos[i] &lt;= '9')||(unos[i] == '(')||(unos[i] == ')')||(unos[i] == ',')||(unos[i] == ' '))){
					break;
				}
			}
			
			if(i == unos.length()){
				i = 0;
				if(unos[i] == '('){
					i++;
					if((unos[i] &gt;= '0' &amp;&amp; unos[i] &lt;= '9') &amp;&amp; unos.length() != i){
						int j;
						for(j=i; j&lt;unos.length(); j++){
							if(unos[j] == ',') break;
						}
						if(j != unos.length()){
							int a(PretvoriUBroj(unos.substr(i, j-i)));
							i = j;
							i++;
							if((unos[i] &gt;= '0' &amp;&amp; unos[i] &lt;= '9') &amp;&amp; i!=unos.length()){
								int j;
								for(j=i; j&lt;unos.length(); j++){
									if(unos[j] == ')') break;
								}
								if(j!=unos.length()){
									int b(PretvoriUBroj(unos.substr(i,j-i)));
									i = j;
									i++;
									if(i == unos.length()){
										if(a&lt;n &amp;&amp; b&lt;n &amp;&amp; a&gt;=0 &amp;&amp; b&gt;=0){
											if(a == 0 &amp;&amp; b == 0){
												std::cout &lt;&lt; "Greska, unesite ponovo!" &lt;&lt; std::endl;
												continue;
											}else{
												v.resize(br_redova+1);
												v[br_redova].resize(2);
												v[br_redova][0] = a;
												v[br_redova][1] = b;
												br_redova++;
											}
										}else{
											std::cout &lt;&lt; "Greska, unesite ponovo!" &lt;&lt; std::endl;
											continue;
										}
									}else{
										std::cout &lt;&lt; "Greska, unesite ponovo!" &lt;&lt; std::endl;
										continue;
									}
								}else{
									std::cout &lt;&lt; "Greska, unesite ponovo!" &lt;&lt; std::endl;
									continue;
								}
							}else{
								std::cout &lt;&lt; "Greska, unesite ponovo!" &lt;&lt; std::endl;
								continue;
							}
						}else{
							std::cout &lt;&lt; "Greska, unesite ponovo!" &lt;&lt; std::endl;
							continue;
						}
					}else{
						std::cout &lt;&lt; "Greska, unesite ponovo!" &lt;&lt; std::endl;
						continue;
					}
				}else{
					std::cout &lt;&lt; "Greska, unesite ponovo!" &lt;&lt; std::endl;
					continue;
				}
			}else{
				std::cout &lt;&lt; "Greska, unesite ponovo!" &lt;&lt; std::endl;
				continue;
			}
		}
		try{
			polja = KreirajIgru(n, v);
		}catch(std::domain_error izuzetak){
			std::cout &lt;&lt; izuzetak.what() &lt;&lt; std::endl;
		}
	}
	
}

int main ()
{
	Komande komanda;
	Smjerovi smjer;
	int x(0), y(0), p_x(0), p_y(0);
	KodoviGresaka greska;
<a name="15"></a><font color="#FF0000"><a href="match903-1.html#15" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_0.gif"/></a>

	Tabla polja;
	try{
		while(1){
			std::cout &lt;&lt; "Unesite komandu: ";
			if(UnosKomande(komanda, smjer, x, y, greska)){
				IzvrsiKomandu(komanda, polja, x, y, smjer, p_x, p_y);
</font>			}else{
				PrijaviGresku(greska);
			}
		}
	}catch(std::runtime_error){
		std::cout &lt;&lt; "Dovidjenja!" &lt;&lt; std::endl;
	}
	
	return 0;
}</pre>
</body>
</html>
