<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z2/student6953.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z2/student6953.cpp<p></p><pre>
#include&lt;iostream&gt;
#include&lt;string&gt;
#include&lt;map&gt;  
#include&lt;set&gt;
<a name="1"></a><font color="#00FF00"><a href="match357-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_7.gif"/></a>

std::map&lt;std::string, std::set&lt;int&gt;&gt;KreirajIndeksPojmova(std::string s){
    for(int i=0; i&lt;s.length(); i++) {
        if(s[i]&gt;='A' &amp;&amp; s[i]&lt;='Z') s[i]=s[i]+32;
</font>    }
    std::map&lt;std::string, std::set&lt;int&gt;&gt;mapa;
    for(int i=0; i&lt;s.length(); i++) {
        std::string rijec;
        std::set&lt;int&gt; skup;
        if(((s[i]&gt;='a' &amp;&amp; s[i]&lt;='z')|| (s[i]&gt;='0' &amp;&amp; s[i]&lt;='9')) &amp;&amp; (i==0 || !((s[i-1]&gt;='a' &amp;&amp; s[i-1]&lt;='z')|| (s[i-1]&gt;='0' &amp;&amp; s[i-1]&lt;='9')))) {
            int poc=i;
            skup.insert(i);
            while(((s[i]&gt;='a' &amp;&amp; s[i]&lt;='z')|| (s[i]&gt;='0' &amp;&amp; s[i]&lt;='9'))&amp;&amp; i!=s.length()) {
                rijec.push_back(s[i]);
                i++;
            }
            for(auto it=mapa.begin(); it!=mapa.end(); it++) {
                if(it-&gt;first==rijec) (it-&gt;second).insert(i-rijec.length());
            }
            mapa.insert(std::make_pair(rijec, skup));
            i=poc+rijec.length();
        }
    }
    return mapa;
}
std::set&lt;int&gt;PretraziIndeksPojmova(std::string s, std::map&lt;std::string, std::set&lt;int&gt;&gt; mapa){
    for(auto it=mapa.begin(); it!=mapa.end(); it++) {
<a name="2"></a><font color="#0000FF"><a href="match357-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_5.gif"/></a>

        if(s==it-&gt;first) return it-&gt;second;
    }
    throw std::logic_error("Pojam nije nadjen");
}
void IspisiIndeksPojmova(std::map&lt;std::string, std::set&lt;int&gt;&gt; mapa)
{
    for (auto  it=mapa.begin(); it!=mapa.end(); it++) {
</font>        std::cout&lt;&lt;it-&gt;first&lt;&lt;": ";
        auto it1=(it-&gt;second).begin();
        while(it1!=(it-&gt;second).end()) {
            if(it1==--(it-&gt;second).end()) break;
            std::cout &lt;&lt; *it1 &lt;&lt; ",";
            it1++;
        }
        std::cout &lt;&lt; *it1;
        std::cout&lt;&lt;std::endl;
    }
}
int main (){
    std::cout&lt;&lt;"Unesite tekst: "; 
    std::string s; 
    std::getline(std::cin, s); 
<a name="0"></a><font color="#FF0000"><a href="match357-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_12.gif"/></a>

    std::map&lt;std::string, std::set&lt;int&gt;&gt; mapa=KreirajIndeksPojmova(s);
    IspisiIndeksPojmova(mapa);
    for(;;) {
        std::cout&lt;&lt;"Unesite rijec: ";
        std::string k;
        std::getline(std::cin, k);
        if(k==".") break;
        try {
            std::set&lt;int&gt; rez=PretraziIndeksPojmova(k, mapa);
            for(int x: rez) std::cout&lt;&lt;x&lt;&lt;" ";
            std::cout&lt;&lt;std::endl;
        } 
        catch(std::logic_error) {
            std::cout&lt;&lt;"Unesena rijec nije nadjena!"&lt;&lt;std::endl;
</font>        }
    }
    return 0;
}</pre>
</body>
</html>
