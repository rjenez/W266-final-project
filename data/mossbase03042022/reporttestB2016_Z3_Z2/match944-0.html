<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z2/student3306.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z2/student3306.cpp<p></p><pre>
/B2016/2017: ZadaÄ‡a 3, Zadatak 2
#include &lt;iostream&gt;
#include &lt;string&gt;
#include &lt;set&gt;
#include &lt;map&gt;
#include &lt;vector&gt;
#include &lt;set&gt;
#include &lt;iterator&gt;
#include &lt;utility&gt;

std::map&lt;std::string, std::set&lt;int&gt; &gt; KreirajIndeksPojmova(std::string s){
    std::map&lt;std::string, std::set&lt;int&gt; &gt; mapa;
    for (int i=0;i&lt;s.size();i++){
        if (s[i]&gt;='A' &amp;&amp; s[i]&lt;='Z')
            s[i]+=('a'-'A');
    }
    for (int i=0;i&lt;s.size();i++){
        if ((s[i]&gt;='a' &amp;&amp; s[i]&lt;='z') || (s[i]&gt;='0' &amp;&amp; s[i]&lt;='9')){
            int index(i);
            std::string pom;
<a name="0"></a><font color="#FF0000"><a href="match944-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_8.gif"/></a>

            while ((s[i]&gt;='a' &amp;&amp; s[i]&lt;='z') || (s[i]&gt;='0' &amp;&amp; s[i]&lt;='9')){
                pom.push_back(s[i]);
                i++;
            }
            auto it(mapa.find(pom));
            if (it==mapa.end())
                mapa.insert(std::pair&lt;std::string,std::set&lt;int&gt;&gt;(pom,{index}));
</font><a name="1"></a><font color="#00FF00"><a href="match944-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_6.gif"/></a>

            else{
                (it-&gt;second).insert(index);
            }
        }
    }
    return mapa;
}



std::set&lt;int&gt; PretraziIndeksPojmova(std::string s,std::map&lt;std::string,std::set&lt;int&gt;&gt; ipojmova){
</font>    std::set&lt;int&gt; skup;
    auto it(ipojmova.find(s));
    if (it == ipojmova.end())
        throw std::logic_error ("Pojam nije naden");
    else{
        skup=it-&gt;second;
    }
    return skup;
}

void IspisiIndeksPojmova (std::map&lt;std::string,std::set&lt;int&gt;&gt; map){
    for(auto it=map.begin();it!=map.end();it++){
        std::cout &lt;&lt; it-&gt;first &lt;&lt; ": ";
        for (auto x=(it-&gt;second).begin();x!=(it-&gt;second).end();x++){
            if (x==--(it-&gt;second).end())
                std::cout &lt;&lt; *x &lt;&lt; " ";
            else std::cout &lt;&lt; *x &lt;&lt; ",";
        }
        std::cout &lt;&lt; std::endl;
    }
}

int main ()
{   try{
        std::string tekst;
        std::cout &lt;&lt; "Unesite tekst: ";
        std::getline(std::cin,tekst);
        auto m (KreirajIndeksPojmova(tekst));
      /*  for (auto x : m){
            std::cout &lt;&lt; x.first &lt;&lt; ": ";
            for (auto y : x.second)
                std::cout &lt;&lt; y &lt;&lt; " ";
            std::cout &lt;&lt; std::endl;
        }*/
        IspisiIndeksPojmova(m);
        while(true){
            try{
            std::cout &lt;&lt; "Unesite rijec: ";
            std::string rijec;
            std::getline(std::cin,rijec);
            if (rijec==".")
                break;
            auto skup=PretraziIndeksPojmova(rijec,m);
            for (auto x : skup)
<a name="2"></a><font color="#0000FF"><a href="match944-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_5.gif"/></a>

                std::cout &lt;&lt; x &lt;&lt; " ";
            std::cout &lt;&lt; std::endl;
            } catch(std::logic_error e){
                std::cout &lt;&lt; "Unesena rijec nije nadjena!" &lt;&lt; std::endl;
</font>            }
        }
    }
    catch(std::logic_error el){
        std::cout &lt;&lt; el.what() &lt;&lt; std::endl;
    }
	return 0;
}

</pre>
</body>
</html>
