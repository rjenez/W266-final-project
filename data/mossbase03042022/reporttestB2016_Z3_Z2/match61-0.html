<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z2/student9524.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z2/student9524.cpp<p></p><pre>
<a name="0"></a><font color="#FF0000"><a href="match61-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_99.gif"/></a>

/B2016/2017: ZadaÄ‡a 3, Zadatak 2
#include &lt;iostream&gt;
#include &lt;map&gt;
#include &lt;string&gt;
#include &lt;vector&gt;
#include &lt;set&gt;
#include &lt;iterator&gt;
#include &lt;stdexcept&gt;

std::string PretvoriUMalaSlovaSve(char slovo){
    if(slovo&gt;='A' &amp;&amp; slovo&lt;='Z'){
        slovo+=('a'-'A');
        std::string krajnjeslovo;
        krajnjeslovo.push_back(slovo);
        return krajnjeslovo;
        
    }else{
        std::string inace;
        inace.push_back(slovo);
        return inace;
    }
}

std::map&lt;std::string, std::set&lt;int&gt;&gt; KreirajIndeksPojmova(std::string tekst){
    std::map&lt;std::string, std::set&lt;int&gt;&gt; Indeks;
    
    std::vector&lt;std::string&gt; rijeci;
    std::vector&lt;std::set&lt;int&gt;&gt; pozicije;
    for(int i=0; i&lt;tekst.size(); i++){
        std::string rijec;
        int pamti_indeks;
        std::set&lt;int&gt; poz;
        bool indikator(false);
        while((tekst[i]&gt;='a'&amp;&amp; tekst[i]&lt;='z') || (tekst[i]&gt;='A' &amp;&amp; tekst[i]&lt;='Z') || (tekst[i]&gt;='0' &amp;&amp; tekst[i]&lt;='9')){
            if(!indikator)pamti_indeks=i;
            
            rijec+=PretvoriUMalaSlovaSve(tekst[i]);
            
            i++;
            indikator=true;
            if(i&gt;=tekst.size())break;
        }
        if(indikator){
            bool vec_ima(false);
            for(int j=0; j&lt;rijeci.size(); j++){
                if(rijec==rijeci[j]){
                    vec_ima=true;
                    pozicije[j].insert(pamti_indeks);
                    break;
                }
            }
            if(!vec_ima || rijeci.size()==0){
                rijeci.push_back(rijec);
                poz.insert(pamti_indeks);
                pozicije.push_back(poz);
            }
        }
        //for(int j=0; j&lt;rijeci.size(); j++)
        
    }
    for(int j=0; j&lt;rijeci.size(); j++) Indeks.insert(std::make_pair(rijeci[j], pozicije[j]));
    
    
    /*for(auto it=Indeks.begin(); it!=Indeks.end(); it++){
        std::cout &lt;&lt; it-&gt;first &lt;&lt; ": ";
        for(int x: it-&gt;second) std::cout &lt;&lt; x &lt;&lt; " ";
        std::cout &lt;&lt; std::endl;
    }*/
    
    return Indeks;
}

std::set&lt;int&gt; PretraziIndeksPojmova(std::string rijec, std::map&lt;std::string, std::set&lt;int&gt;&gt; indeks){
    
    auto it(indeks.find(rijec));
    if(it==indeks.end()) throw std::logic_error("Pojam nije nadjen");
    else return it-&gt;second;
    
}

void IspisiIndeksPojmova(std::map&lt;std::string, std::set&lt;int&gt;&gt; indeks){
    for(auto it=indeks.begin(); it!=indeks.end(); it++){
        std::cout &lt;&lt; it-&gt;first &lt;&lt; ": ";
        for(int x : it-&gt;second){
            if(it-&gt;second.find(x)==--(it-&gt;second.end())) std::cout &lt;&lt; x;
            else std::cout &lt;&lt; x &lt;&lt; ",";
        }
        std::cout &lt;&lt; std::endl;
    }
}

int main (){
    std::cout &lt;&lt; "Unesite tekst: ";
    std::string tekst;
    std::getline(std::cin, tekst);
    
    auto indeks(KreirajIndeksPojmova(tekst));
    for(auto it=indeks.begin(); it!=indeks.end(); it++){
        std::cout &lt;&lt; it-&gt;first &lt;&lt; ": ";
        for(int x : it-&gt;second){
            if(it-&gt;second.find(x)==--(it-&gt;second.end())) std::cout &lt;&lt; x;
            else std::cout &lt;&lt; x &lt;&lt; ",";
        }
        std::cout &lt;&lt; std::endl;
    }
    
    std::string rijec;
    for(;;){
        std::cout &lt;&lt; "Unesite rijec: ";
        std::getline(std::cin, rijec);
        if(rijec==".")break;
        
        auto it(indeks.find(rijec));
        if(it==indeks.end()) std::cout &lt;&lt; "Unesena rijec nije nadjena!";
        else{
            for(int x : it-&gt;second){
                std::cout &lt;&lt; x &lt;&lt; " ";
            }
        }
        std::cout &lt;&lt; std::endl;
</font>    }
    
	return 0;
}</pre>
</body>
</html>
