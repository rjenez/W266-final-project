<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z2/student7346.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z2/student4124.cpp<p></p><pre>
#include &lt;iostream&gt;
#include &lt;map&gt;
#include &lt;string&gt;
#include &lt;set&gt;
#include &lt;iterator&gt;
#include &lt;algorithm&gt;
#include &lt;utility&gt;
#include &lt;stdexcept&gt;

<a name="2"></a><font color="#0000FF"><a href="match573-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_5.gif"/></a>

std::map&lt;std::string, std::set&lt;int&gt;&gt; KreirajIndeksPojmova(std::string s) {
    std::map&lt;std::string, std::set&lt;int&gt;&gt; mapa;
    for(int i(0); i&lt;s.length(); i++) {
</font>        while(s[i]==' ' or s[i]&lt;'0' or (s[i]&gt;'9' and s[i]&lt;'A') or (s[i]&gt;'Z' and s[i]&lt;'a') or s[i]&gt;'z')
            if(i&lt;s.length()) i++;
            else break;
        if(i==s.length()) break;
        int temp(i), broj(0);
        while(!(s[i]==' ' or s[i]&lt;'0' or (s[i]&gt;'9' and s[i]&lt;'A') or (s[i]&gt;'Z' and s[i]&lt;'a') or s[i]&gt;'z')) {
            if(i==s.length()) break;
            i++, broj++;
        }
        std::string rijec = s.substr(temp, broj);
        for(char &amp;x : rijec) if(x&gt;='A' and x&lt;='Z') x+='a'-'A';
        auto it(mapa.find(rijec));
        if(it == mapa.end()) mapa[rijec]={temp};
<a name="1"></a><font color="#00FF00"><a href="match573-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_5.gif"/></a>

        else it-&gt;second.insert(temp);
    }
    return mapa;
}

std::set&lt;int&gt; PretraziIndeksPojmova(std::string s, std::map&lt;std::string, std::set&lt;int&gt;&gt; mapa) {
</font>    for(int i(0); i&lt;s.length(); i++) {
        if(s[i]&gt;='A' and s[i]&lt;='Z') s[i]+='a'-'A';
    }
    
<a name="0"></a><font color="#FF0000"><a href="match573-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_7.gif"/></a>

    auto it(mapa.find(s));
    if(it==mapa.end()) throw std::logic_error("Pojam nije nadjen");
    else return it-&gt;second;
}

void IspisiIndeksPojmova(std::map&lt;std::string, std::set&lt;int&gt;&gt; mapa) {
    for(auto x : mapa) {
</font>        std::cout &lt;&lt; x.first &lt;&lt; ": ";
        for(auto it(x.second.begin());;it++) {
            if(*it==*(x.second.rbegin())) {
                std::cout &lt;&lt; *it;
                break;
            }
            std::cout &lt;&lt; *it &lt;&lt; ",";
        }
<a name="3"></a><font color="#00FFFF"><a href="match573-0.html#3" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_4.gif"/></a>

        std::cout &lt;&lt; std::endl;
    }
}

int main ()
{
    std::cout &lt;&lt; "Unesite tekst: ";
    std::string s;
    std::getline(std::cin, s);
    auto mapa(KreirajIndeksPojmova(s));
</font>    IspisiIndeksPojmova(mapa);
    while(1) {
        std::set&lt;int&gt; skup;
        std::string s2;
        std::cout &lt;&lt; "Unesite rijec: ";
        std::getline(std::cin, s2);
        if(s2 == ".") break;
        try {
            skup = PretraziIndeksPojmova(s2, mapa);
            for(auto x : skup) std::cout &lt;&lt; x &lt;&lt; " ";
            std::cout &lt;&lt; std::endl;
        }
        catch(std::logic_error) {
            std::cout &lt;&lt; "Unesena rijec nije nadjena!" &lt;&lt; std::endl;
        }
    }
	return 0;
}</pre>
</body>
</html>
