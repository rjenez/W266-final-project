<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z2/student8886.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z2/student1466.cpp<p></p><pre>
/B2016/2017: ZadaÄ‡a 3, Zadatak 2
#include &lt;iostream&gt;
#include &lt;set&gt;
#include &lt;map&gt;
#include &lt;string&gt;
#include &lt;utility&gt;

bool slovo(char s) {

      if ((s &gt;= 'a' &amp;&amp; s &lt;= 'z') || (s &gt;= 'A' &amp;&amp; s &lt;= 'Z' )|| ( s&gt;= '0' &amp;&amp; s &lt;= '9')) return true;
      else return false;
      
      
   }

   
<a name="2"></a><font color="#0000FF"><a href="match364-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_4.gif"/></a>

std::string svemaleno (std::string s) {
    
    for (int i = 0; i &lt; s.length(); i++){
    if(s[i]&gt;= 'A' &amp;&amp; s[i]&lt;= 'Z'  ) s[i]+=32;
</font>    }
    return s;
    
}
 std::map&lt;std::string, std::set&lt;int&gt;&gt; KreirajIndeksPojmova (std::string s) {

    std::map&lt;std::string, std::set&lt;int&gt;&gt; mapa;
    for (int i = 0; i &lt; s.length(); i++){
                     std::set&lt;int&gt; setic;

       std::string pomocni;
while (slovo(s[i]) == false &amp;&amp; i &lt; s.length() ) { 
    i++;

    }
  while (slovo(s[i]) == true) { 
    
     pomocni+=s[i];
    i++;
    }

    for (int j = 0; j &lt; s.length(); j++){
        
  std::string novi;
  while (slovo(s[j]) == false &amp;&amp; j &lt; s.length()) { 
    j++;
    }
if  (slovo(s[j]) == true) { int a=j;

    while (slovo(s[j]) == true) { 
    
    novi+=s[j];
    j++;
    }
    
        if (svemaleno(pomocni)==svemaleno(novi))     
  {  setic.insert(a);
            }

        }

    }
                                mapa.insert(std::make_pair(svemaleno(pomocni),setic));


       } 
return mapa;

    }
  
 
    
<a name="0"></a><font color="#FF0000"><a href="match364-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_11.gif"/></a>

  std::set&lt;int&gt;  PretraziIndeksPojmova (std::string s, std::map&lt;std::string, std::set&lt;int&gt;&gt; r) {
s=svemaleno(s);
if(!r.count(s)) throw std::logic_error("Unesena rijec nije nadjena!");
else return r[s];

        }
        
        void IspisiIndeksPojmova (std::map&lt;std::string, std::set&lt;int&gt;&gt; r) {
for(auto it = r.begin(); it != r.end(); ++it ){
</font>   std::cout &lt;&lt; it-&gt;first &lt;&lt; ": ";

    for(auto setov = it-&gt;second.begin(); setov != it-&gt;second.end(); ++setov) {
           setov++;
<a name="1"></a><font color="#00FF00"><a href="match364-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_8.gif"/></a>

            auto pomocni=setov;
            setov--;
            if (pomocni==it-&gt;second.end()) std::cout &lt;&lt; *setov &lt;&lt; std::endl;
            else std::cout &lt;&lt; *setov &lt;&lt; ",";
}
}
}
int main ()
{
    
  
       
       std::cout&lt;&lt;"Unesite tekst: ";
       std::string tekst;
</font>       getline(std::cin, tekst);

std::map&lt;std::string, std::set&lt;int&gt;&gt; r=KreirajIndeksPojmova(tekst);
IspisiIndeksPojmova(r);
std::string rijec;
std::cout&lt;&lt;"Unesite rijec: ";

std::cin&gt;&gt;rijec;
   if(rijec == ".") return 0;
while (rijec != ".") {
       
  try {      auto setic=PretraziIndeksPojmova(rijec,r);
 for (std::set&lt;int&gt;::iterator it=setic.begin(); it!=setic.end(); ++it)
     std::cout&lt;&lt; *it&lt;&lt;" ";
     std::cout&lt;&lt;std::endl;
}
  
catch(std::logic_error e)   {
    
    std::cout&lt;&lt;e.what()&lt;&lt;std::endl; 
       
       
   }
    std::cout&lt;&lt;"Unesite rijec: ";
    std::cin&gt;&gt;rijec;
   if(rijec == ".") return 0;
 
}

	return 0;
}</pre>
</body>
</html>
