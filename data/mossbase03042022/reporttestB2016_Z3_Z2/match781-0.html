<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z2/student7123.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z2/student7123.cpp<p></p><pre>
#include &lt;iostream&gt;
#include &lt;stdexcept&gt;
#include &lt;map&gt;
#include &lt;string&gt;
#include &lt;utility&gt;
#include &lt;set&gt;

<a name="0"></a><font color="#FF0000"><a href="match781-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_6.gif"/></a>

std::string PretvoriSlova(std::string s) {
    for(int i=0; i&lt;s.length(); i++) {
        if(s[i] &gt;='A' &amp;&amp; s[i] &lt;='Z') s[i] +=32;
    }
    return s;
}

std::map &lt;std::string, std::set&lt;int&gt;&gt; KreirajIndeksPojmova (const std::string &amp;s) {
</font>    
    std::map &lt;std::string, std::set&lt;int&gt;&gt; mapa_rijeci;
    std::string rijec;
    
    int p(0), k(0), p1(0), k1(0);
   for(int i=0; i&lt;s.length(); i++) {
       if (i&lt;s.length() &amp;&amp; ((s[i]&gt;=32 &amp;&amp; s[i]&lt;=47) || (s[i]&gt;=58 &amp;&amp; s[i]&lt;=64) ||(s[i]&gt;=91 &amp;&amp; s[i]&lt;=96) || (s[i]&gt;=123 &amp;&amp; s[i]&lt;=126))) {
           
     while (i &lt;s.length() &amp;&amp; ((s[i]&gt;=32 &amp;&amp; s[i]&lt;=47) || (s[i]&gt;=58 &amp;&amp; s[i]&lt;=64) ||(s[i]&gt;=91 &amp;&amp; s[i]&lt;=96) || (s[i]&gt;=123 &amp;&amp; s[i]&lt;=126))) {i++;}}
    
<a name="1"></a><font color="#00FF00"><a href="match781-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_2.gif"/></a>

       if(i&lt;s.length() &amp;&amp; (s[i] &gt;= '0' &amp;&amp; s[i] &lt;= '9') || (s[i] &gt;= 'A' &amp;&amp; s[i] &lt;= 'Z') || (s[i] &gt;='a' &amp;&amp; s[i] &lt;= 'z')) {
         p = i;
</font>         rijec.resize(0);
           while( i&lt;s.length() &amp;&amp; ((s[i] &gt;= '0' &amp;&amp; s[i] &lt;= '9') || (s[i] &gt;= 'A' &amp;&amp; s[i] &lt;= 'Z') || (s[i] &gt;='a' &amp;&amp; s[i] &lt;= 'z'))) { rijec +=s[i]; i++; }
         k=i;     }

     
      std::set&lt;int&gt; skup;
      
     if(!mapa_rijeci.count(rijec)) {

         for(int j=0; j&lt;s.length(); j++) {
             std::string rijec1{};
         
         if (j &lt;s.length() &amp;&amp; ((s[j]&gt;=32 &amp;&amp; s[j]&lt;=47) || (s[j]&gt;=58 &amp;&amp; s[j]&lt;=64) ||(s[j]&gt;=91 &amp;&amp; s[j]&lt;=96) || (s[j]&gt;=123 &amp;&amp; s[j]&lt;=126)))
          { 
              while (j &lt;s.length() &amp;&amp; ((s[j]&gt;=32 &amp;&amp; s[j]&lt;=47) || (s[j]&gt;=58 &amp;&amp; s[j]&lt;=64) ||(s[j]&gt;=91 &amp;&amp; s[j]&lt;=96) || (s[j]&gt;=123 &amp;&amp; s[j]&lt;=126))) j++; }

       if(j&lt;s.length() &amp;&amp; (s[j] &gt;= '0' &amp;&amp; s[j] &lt;= '9') || (s[j] &gt;= 'A' &amp;&amp; s[j] &lt;= 'Z') || (s[j] &gt;='a' &amp;&amp; s[j] &lt;= 'z')) {
         p1 = j;
 
       while (j&lt;s.length() &amp;&amp; ((s[j] &gt;= '0' &amp;&amp; s[j] &lt;= '9') || (s[j] &gt;= 'A' &amp;&amp; s[j] &lt;= 'Z') || (s[j] &gt;='a' &amp;&amp; s[j] &lt;= 'z'))) { rijec1 += (s[j]); j++; }}
         k1 = j;    

    if(PretvoriSlova(rijec) == PretvoriSlova(rijec1)) {
        skup.insert(p1);
    }
    
     }
     if(rijec.size() &gt; 0)
     mapa_rijeci.insert(std::make_pair(PretvoriSlova(rijec), skup));
}
   }
    return mapa_rijeci;
}

std::set&lt;int&gt; PretraziIndeksPojmova(std::string rijec, std::map &lt;std::string, std::set&lt;int&gt;&gt; mapa) {
    if(!mapa.count(rijec)) throw std::logic_error("Unesena rijec nije nadjena!\n");
    else 
        for(auto it = mapa.begin(); it != mapa.end(); it++)
<a name="2"></a><font color="#0000FF"><a href="match781-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_2.gif"/></a>

            if(it-&gt;first == rijec) return it-&gt;second;
}

void IspisiIndeksPojmova(std::map &lt;std::string, std::set&lt;int&gt;&gt; mapa) {
   
    for(auto it = mapa.begin(); it != mapa.end(); it++) {
</font> std::cout &lt;&lt; it-&gt;first &lt;&lt; ": " ;
 auto pomocni = (it-&gt;second.end());
 pomocni--;

 for(auto it1 = (it-&gt;second.begin()); it1 != (it-&gt;second.end()); it1++){
     std::cout &lt;&lt; *it1;
  if(it1 != pomocni)  std::cout  &lt;&lt;",";
 } 
 std::cout &lt;&lt; std::endl;
}
}

int main ()
{
    std::string s, rijec;
    std::cout &lt;&lt;"Unesite tekst: ";
    std::getline(std::cin, s);
    
    auto mapa = (KreirajIndeksPojmova(s));
    
    IspisiIndeksPojmova(mapa);
    
    for(;;) {
        std::set&lt;int&gt; skup_indeksa;
        std::cout &lt;&lt; "\nUnesite rijec: ";
        std::getline(std::cin, rijec);
        if(rijec == ".") break;
        try {
        skup_indeksa = (PretraziIndeksPojmova(rijec, mapa));
        } catch(std::logic_error izuzetak) {
        std::cout&lt;&lt; izuzetak.what();
    }
        for(auto x: skup_indeksa) std::cout &lt;&lt; x &lt;&lt; " ";
    }
   
	return 0;
}

/*
std::map &lt;std::string, std::set&lt;int&gt;&gt; KreirajIndeksPojmova (const std::string &amp;s) {
    std::string rijec;
    std::map &lt;std::string, std::set&lt;int&gt;&gt; mapa_rijeci;
    
    int p, k, p1, k1;
   for(int i=0; i&lt;s.length(); i++) {
      if(s[i] ==' ' || s[i] =='\t') { while(s[i] ==' ' || s[i] =='\t') i++; }
    
       if(s[i] !=' ' || s[i] !='\t') {
         p = i;
        
           while(s[i] !=' ' &amp;&amp; i&lt;s.length()) i++; 
         k=i;     }
    
     rijec = (s.substr(p, k-p));
      std::set&lt;int&gt; skup;
     if(!mapa_rijeci.count(rijec)) {
         for(int j=0; j&lt;s.length(); j++) {
      if(s[j] ==' ' || s[j] =='\t') { while(s[j] ==' ' || s[j] =='\t') j++; }
       if(s[j] !=' ' || s[j] !='\t') {
         p1 = j;
           while(s[j] !=' ' &amp;&amp; j&lt;s.length()) j++; 
         k1=j;    
         }
       
    if(PretvoriSlova(rijec) == PretvoriSlova(s.substr(p1, k1-p1))) {
        skup.insert(p1);
    }
    
     }
     mapa_rijeci.insert(std::make_pair(PretvoriSlova(rijec), skup));
}
   }
    return mapa_rijeci;
}

*/

/*
std::map &lt;std::string, std::set&lt;int&gt;&gt; KreirajIndeksPojmova (const std::string &amp;s) {
    std::string rijec;
    std::map &lt;std::string, std::set&lt;int&gt;&gt; mapa_rijeci;
    
    int p, k, p1, k1;
   for(int i=0; i&lt;s.length(); i++) {
       if (i &lt;s.size() &amp;&amp; ((s[i]&gt;=32 &amp;&amp; s[i]&lt;=47) || (s[i]&gt;=58 &amp;&amp; s[i]&lt;=64) ||(s[i]&gt;=91 &amp;&amp; s[i]&lt;=96) || (s[i]&gt;=123 &amp;&amp; s[i]&lt;=126)))
  //    if(!((s[i] &gt;= '0' &amp;&amp; s[i] &lt;= '9') || (s[i] &gt;= 'A' &amp;&amp; s[i] &lt;= 'Z') || (s[i] &gt;='a' &amp;&amp; s[i] &lt;= 'z')))
  { while (i &lt;s.size() &amp;&amp; ((s[i]&gt;=32 &amp;&amp; s[i]&lt;=47) || (s[i]&gt;=58 &amp;&amp; s[i]&lt;=64) ||(s[i]&gt;=91 &amp;&amp; s[i]&lt;=96) || (s[i]&gt;=123 &amp;&amp; s[i]&lt;=126))) i++;}
//     { while(!((s[i] &gt;= '0' &amp;&amp; s[i] &lt;= '9') || (s[i] &gt;= 'A' &amp;&amp; s[i] &lt;= 'Z') || (s[i] &gt;='a' &amp;&amp; s[i] &lt;= 'z'))) i++; }
    
       if(i&lt;s.length() &amp;&amp; (s[i] &gt;= '0' &amp;&amp; s[i] &lt;= '9') || (s[i] &gt;= 'A' &amp;&amp; s[i] &lt;= 'Z') || (s[i] &gt;='a' &amp;&amp; s[i] &lt;= 'z')) {
         p = i;
        
           while( i&lt;s.length() &amp;&amp; ((s[i] &gt;= '0' &amp;&amp; s[i] &lt;= '9') || (s[i] &gt;= 'A' &amp;&amp; s[i] &lt;= 'Z') || (s[i] &gt;='a' &amp;&amp; s[i] &lt;= 'z'))) i++; 
         k=i;     }
    
     rijec = (s.substr(p, k-p));
     
      std::set&lt;int&gt; skup;
      
     if(!mapa_rijeci.count(rijec)) {
         
         for(int j=0; j&lt;s.length(); j++) {
         
        //  if(j &lt; s.length() &amp;&amp; !((s[j] &gt;= '0' &amp;&amp; s[j] &lt;= '9') || (s[j] &gt;= 'A' &amp;&amp; s[j] &lt;= 'Z') || (s[j] &gt;='a' &amp;&amp; s[j] &lt;= 'z'))) 
         if (j &lt;s.size() &amp;&amp; ((s[j]&gt;=32 &amp;&amp; s[j]&lt;=47) || (s[j]&gt;=58 &amp;&amp; s[j]&lt;=64) ||(s[j]&gt;=91 &amp;&amp; s[j]&lt;=96) || (s[j]&gt;=123 &amp;&amp; s[j]&lt;=126)))
          { 
              while (!((s[j] &gt;= '0' &amp;&amp; s[j] &lt;= '9') || (s[j] &gt;= 'A' &amp;&amp; s[j] &lt;= 'Z') || (s[j] &gt;='a' &amp;&amp; s[j] &lt;= 'z'))) j++; }
    
       if(j&lt;s.length() &amp;&amp; (s[j] &gt;= '0' &amp;&amp; s[j] &lt;= '9') || (s[j] &gt;= 'A' &amp;&amp; s[j] &lt;= 'Z') || (s[j] &gt;='a' &amp;&amp; s[j] &lt;= 'z')) {
         p1 = j;
        
       //    while(j&lt;s.length() &amp;&amp; (((s[j] &gt;= '0' &amp;&amp; s[j] &lt;= '9') || (s[j] &gt;= 'A' &amp;&amp; s[j] &lt;= 'Z') || (s[j] &gt;='a' &amp;&amp; s[j] &lt;= 'z') ) )) j++; 
       while( j&lt;s.length() &amp;&amp; ((s[j] &gt;= '0' &amp;&amp; s[j] &lt;= '9') || (s[j] &gt;= 'A' &amp;&amp; s[j] &lt;= 'Z') || (s[j] &gt;='a' &amp;&amp; s[j] &lt;= 'z'))) j++; 
         k1 = j;    }

   std::string rijec2 = (s.substr(p1, k-p1));    
    if(PretvoriSlova(rijec) == PretvoriSlova(s.substr(p1, k1-p1))) {
        skup.insert(p1);
    }
    
     }
     if(rijec.size() &gt; 0)
     mapa_rijeci.insert(std::make_pair(PretvoriSlova(rijec), skup));
}
   }
    return mapa_rijeci;
}
*/</pre>
</body>
</html>
