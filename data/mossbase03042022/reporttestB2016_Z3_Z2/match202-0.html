<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z2/student4896.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z2/student4896.cpp<p></p><pre>
<a name="0"></a><font color="#FF0000"><a href="match202-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_98.gif"/></a>

/B2016/2017: ZadaÄ‡a 3, Zadatak 2
#include &lt;iostream&gt;
#include &lt;map&gt;
#include &lt;string&gt;
#include &lt;set&gt;
#include &lt;utility&gt;
#include &lt;stdexcept&gt;

std::string PretvaraSlova(std::string rijec){
    for(int i=0; i&lt;rijec.length(); i++){
        if(isupper(rijec[i])){
            rijec[i]=tolower(rijec[i]);
        }
    }return rijec;
}

std::map&lt;std::string, std::set&lt;int&gt;&gt; KreirajIndeksPojmova(std::string s1){
    std::map&lt;std::string, std::set&lt;int&gt;&gt; Nova_mapa;
    s1=PretvaraSlova(s1);
    for(int i=0; i&lt;s1.length(); i++){
        std::string Novi;
        int j=i;
        while((s1[i]&gt;='a' &amp;&amp; s1[i]&lt;='z') || (s1[i]&gt;='0' &amp;&amp; s1[i]&lt;='9')){
            Novi.push_back(s1[i]);
            i++;
        }
    Nova_mapa[Novi].insert(j);
    }
    return Nova_mapa;
}

std::set&lt;int&gt; PretraziIndeksPojmova(std::string s1, std::map&lt;std::string, std::set&lt;int&gt;&gt; Nova_mapa){
    if(!(Nova_mapa.count(s1)&gt;0)) throw std::logic_error("Pojam nije nadjen");
    return Nova_mapa[s1];
}


void IspisiIndeksPojmova(std::map&lt;std::string, std::set&lt;int&gt;&gt; Nova_mapa){
    for(auto it=Nova_mapa.begin(); it!=Nova_mapa.end(); it++){
        std::cout &lt;&lt; (*it).first &lt;&lt; ": ";
        auto it2(it-&gt;second.begin());
        for(int i=0; i&lt;it-&gt;second.size(); i++){
            if(i&gt;0) std::cout &lt;&lt; "," &lt;&lt; *it2;
            else std::cout &lt;&lt; *it2;
        it2++;
        }
        std::cout &lt;&lt; std::endl;
    }
}

int main ()
{
  //  try{
        std::cout &lt;&lt; "Unesite tekst: ";
        std::string Tekst;
        std::getline(std::cin, Tekst);
        std::map&lt;std::string, std::set&lt;int&gt;&gt;Mapa;
        Mapa=KreirajIndeksPojmova(Tekst);
        IspisiIndeksPojmova(Mapa);
        std::string Novi_tekst;
        for(;;){
            
            std::cout &lt;&lt; "Unesite rijec: ";
            std::getline(std::cin, Novi_tekst);
            if(Novi_tekst==".") break;
            try{
            std::set&lt;int&gt; Nesto;
            Nesto=PretraziIndeksPojmova(Novi_tekst, Mapa);
            for(int x: Nesto){
                std::cout &lt;&lt; x &lt;&lt; " ";
            }  
            }
            catch(std::logic_error izuzetak){
                std::cout &lt;&lt; "Unesena rijec nije nadjena!";
            }
            std::cout &lt;&lt; std::endl;
</font>       }
//    } catch(std::logic_error izuzetak){
  //      std::cout &lt;&lt; "Unesena rijec nije nadjena!";
	return 0;
}</pre>
</body>
</html>
