<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z2/student5741.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z2/student5741.cpp<p></p><pre>
/B2016/2017: ZadaÄ‡a 3, Zadatak 2
#include &lt;iostream&gt;
#include &lt;string&gt;
#include &lt;map&gt;
#include &lt;stdexcept&gt;
#include &lt;set&gt;
#include &lt;utility&gt;
#include &lt;vector&gt;

using std::cin;
using std::cout;
using std::endl;
<a name="0"></a><font color="#FF0000"><a href="match354-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_12.gif"/></a>

using std::string;
using std::map;
using std::logic_error;
using std::set;
using std::make_pair;
using std::vector;

map&lt;string,set&lt;int&gt;&gt; KreirajIndeksPojmova(string s){
    map&lt;string,set&lt;int&gt;&gt; mapa;
    for(int i=0;i&lt;s.length();i++){
</font>        string s1;
        int broj(i);
        while(i&lt;s.length() &amp;&amp; ((s[i]&gt;='a' &amp;&amp; s[i]&lt;='z') || (s[i]&gt;='1' &amp;&amp; s[i]&lt;='9') || (s[i]&gt;='A' &amp;&amp; s[i]&lt;='Z'))){
            auto slovo(s[i]);
            if(slovo&gt;='A' &amp;&amp; slovo&lt;='Z'){
                slovo=slovo+'a'-'A';
            }
            s1.push_back(slovo);
            i++;
        }
        if(broj!=i){
            auto it(mapa.find(s1));
            if(it==mapa.end()){
                mapa.insert(make_pair(s1,set&lt;int&gt;{broj}));
            }
            else{
                it-&gt;second.insert(broj);
            }
        }
    }
<a name="2"></a><font color="#0000FF"><a href="match354-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_8.gif"/></a>

    return mapa;
}

void IspisiIndeksPojmova(map&lt;string,set&lt;int&gt;&gt; mapa){
    for(auto it=mapa.begin();it!=mapa.end();it++){
        cout&lt;&lt;it-&gt;first&lt;&lt;": ";
        set&lt;int&gt; skup(it-&gt;second);
</font>        for(auto it1=skup.begin();it1!=skup.end();it1++){
            auto it2(skup.end());
            it2--;
            if(it1!=it2){
                cout&lt;&lt;*it1&lt;&lt;",";
            }
            else cout&lt;&lt;*it1;
        }
        cout&lt;&lt;endl;
    }
}

<a name="1"></a><font color="#00FF00"><a href="match354-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_11.gif"/></a>

set&lt;int&gt; PretraziIndeksPojmova(string s1,map&lt;string,set&lt;int&gt;&gt; mapa){
    for(int i=0;i&lt;s1.length();i++){
        if(s1[i]&gt;='A' &amp;&amp; s1[i]&lt;='Z'){
            s1[i]=s1[i]+'a'-'A';
</font>        }
    }
    auto it(mapa.find(s1));
    if(it!=mapa.end()){
        return it-&gt;second;
    }
    else{
        throw logic_error("Pojam nije nadjen");
    }
}

int main ()
{
    string s;
    cout&lt;&lt;"Unesite tekst: ";
    std::getline(cin,s);
    auto mapa(KreirajIndeksPojmova(s));
    IspisiIndeksPojmova(mapa);
    string s1;
    while(s1!="."){
        cout&lt;&lt;"Unesite rijec: ";
        getline(cin,s1);
        if(s1=="."){
            break;
        }
        try{
            auto skup(PretraziIndeksPojmova(s1,mapa));
            for(auto it=skup.begin();it!=skup.end();it++){
                cout&lt;&lt;*it&lt;&lt;" ";
            }
        }
        catch(logic_error izuzetak){
            cout&lt;&lt;"Unesena rijec nije nadjena!";
        }
        cout&lt;&lt;endl;
    }
    return 0;
}</pre>
</body>
</html>
