<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z2/student8029.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z2/student8029.cpp<p></p><pre>
<a name="1"></a><font color="#00FF00"><a href="match679-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_3.gif"/></a>

/B2016/2017: ZadaÄ‡a 3, Zadatak 2
#include &lt;iostream&gt;
#include&lt;string&gt;
#include &lt;vector&gt;
#include &lt;set&gt;
#include &lt;map&gt;

bool da_li_je_slovo(char a)
{
    if(a&gt;='a' &amp;&amp; a&lt;='z')
</font>    return true;
    if(a&gt;='A' &amp;&amp; a&lt;='Z')
    return true;
    if(a&gt;='0' &amp;&amp; a&lt;='9')
    return true;
    
    return false;
    
}

bool da_li_su_iste_rijeci(std::string a,std::string b);

bool prava_rijec(std::string ulaz,int index,std::string popis_rijeci)
{
    std::string temp;
    while (index&lt;ulaz.size() &amp;&amp; da_li_je_slovo(ulaz[index])==true ) {
        temp.push_back(ulaz[index]);
        index++;
    }
    return da_li_su_iste_rijeci(temp,popis_rijeci);
}

bool da_li_su_iste_rijeci(std::string a,std::string b)
{
    for(int i=0;i&lt;a.size();i++)
    {
        if(a[i]&gt;='A' &amp;&amp; a[i]&lt;='Z')
        {
            a[i]=a[i]+32;
        }
    
    }
    for(int i=0;i&lt;b.size();i++)
    {
        if(b[i]&gt;='A' &amp;&amp; b[i]&lt;='Z')
        b[i]=b[i]+32;
    }
    if(a==b)
    return true;
    return false;
}


std::vector&lt;std::string&gt; VratiRijeci(std::string s)
{
     std::vector&lt;std::string&gt; vrati;
     std::string temp;
    for(int i=0;i&lt;s.size();i++)
    {
        
        temp.resize(0);
        while (da_li_je_slovo(s[i])==true &amp;&amp; i&lt;s.size()) {
            temp.push_back(s[i]);
            i++;
            
        }
        if(temp.size()!=0)
        vrati.push_back(temp);
        while (da_li_je_slovo(s[i])==false &amp;&amp; i&lt;s.size()) {
            i++;
        }
        i--;
        if(i&gt;=s.size())
        return vrati;
    }
    return vrati;
}

bool da_li_je_vec_razmatrana(std::vector&lt;std::string&gt; v,int index)
{
    for(int i=0;i&lt;index;i++)
    {
        if(v[i]==v[index])
<a name="2"></a><font color="#0000FF"><a href="match679-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_3.gif"/></a>

        return true;
    }
    return false;
}

std::map&lt;std::string,std::set&lt;int&gt;&gt;KreirajIndeksPojmova(std::string s)
{
    std::map&lt;std::string,std::set&lt;int&gt;&gt; vrati;
</font>    auto popis=VratiRijeci(s);
    for(int i=0;i&lt;popis.size();i++)
    {
        auto razmatrana=da_li_je_vec_razmatrana(popis,i);
        if(razmatrana==false)
        {
            std::set&lt;int&gt;skup;
            for(int j=0;j&lt;s.size();j++)
            {
                if(s[j]==popis[i][0] &amp;&amp; (j==0 || da_li_je_slovo(s[j-1])==false))
                {
                    auto temp=prava_rijec(s,j,popis[i]);
                    if(temp==true)
                    {
                        
<a name="0"></a><font color="#FF0000"><a href="match679-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_4.gif"/></a>

                        skup.insert(j);
                    }
                }
            }
            vrati.insert(std::make_pair(popis[i],skup));
        }
    }
    return vrati;
}

std::set&lt;int&gt;PretraziIndeksPojmova(std::string ulaz,std::map&lt;std::string,std::set&lt;int&gt;&gt; index_pojmova)
</font>{
    auto it=index_pojmova.find(ulaz);
    if(it==index_pojmova.end())
    throw std::logic_error("Pojam nije nadjen");
    auto vrati=it-&gt;second;
    return vrati;
}

<a name="3"></a><font color="#00FFFF"><a href="match679-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_3.gif"/></a>

void IspisiIndeksPojmova(std::map&lt;std::string,std::set&lt;int&gt;&gt; ulaz)
{
    for(auto it=ulaz.begin();it!=ulaz.end();it++)
    {
        
        auto ime=it-&gt;first;
</font>        std::cout&lt;&lt;ime&lt;&lt;": ";
        auto skup=it-&gt;second;
        auto i=skup.begin();
        auto kraj=skup.end();
       kraj--;
        for(i=skup.begin();i!=kraj;i++)
        {
            std::cout&lt;&lt;*i&lt;&lt;",";
           
        }
        std::cout&lt;&lt;*i;
        std::cout&lt;&lt;"\n";
    }
    
    
}

int main ()
{
    std::cout&lt;&lt;"Unesite tekst: ";
    std::string recencia;
    std::getline(std::cin,recencia);
    auto ispis=KreirajIndeksPojmova(recencia);
    IspisiIndeksPojmova(ispis);
    while (1) {
        std::cout&lt;&lt;"Unesite rijec: ";
        std::string temp;
        std::getline(std::cin,temp);
        if(temp==".")
        return 0;
        try{
            auto rijec=PretraziIndeksPojmova(temp,ispis);
            for(auto x:rijec )
            std::cout&lt;&lt;x&lt;&lt;" ";
            std::cout&lt;&lt;"\n";
        }
        catch(std::logic_error izuzetak)
        {
            std::cout&lt;&lt;"Unesena rijec nije nadjena!"&lt;&lt;"\n";
        }
    
        
        
    }
	return 0;
}</pre>
</body>
</html>
