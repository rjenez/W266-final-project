<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z2/student1146.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z2/student6634.cpp<p></p><pre>
<a name="0"></a><font color="#FF0000"><a href="match234-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_98.gif"/></a>

/B2016/2017: ZadaÄ‡a 3, Zadatak 2
#include &lt;iostream&gt;
#include &lt;map&gt;
#include &lt;set&gt;
#include &lt;string&gt;
#include &lt;stdexcept&gt;

using std::string;
using std::set;
using std::map;

typedef map&lt;string, set&lt;int&gt;&gt; Mapa;

char slovo(char c) {
    if (('a' &lt;= c and c &lt;= 'z') or ('0' &lt;= c and c &lt;= '9')) 
        return c;
    
    if ('A' &lt;= c and c &lt;= 'Z') 
        return c - 'A' + 'a';
    
    return 0;
}

string mala(string s) {
    for (char &amp;x : s)
        if (slovo(x))
            x = slovo(x);
    return s;
}

Mapa KreirajIndeksPojmova(string s) {
    Mapa m;
    for (int i = 0; i &lt; s.size(); i++) {
        if (!slovo(s.at(i))) continue;
        
        int poc = i;
        while (i &lt; s.size() &amp;&amp; slovo(s.at(i))) i++;
        int kraj = i;
        string rijec(s.substr(poc, kraj - poc));
        m[mala(rijec)].insert(poc);
    }
    return m;
}

set&lt;int&gt; PretraziIndeksPojmova(string s, Mapa m) {
    s = mala(s);
    if (m.count(s)) return m[s];
    throw std::logic_error("Pojam nije nadjen");
}

void IspisiIndeksPojmova(Mapa m) {
    using std::cout;
    for (auto p : m) {
        cout &lt;&lt; p.first &lt;&lt; ": ";
        auto it = p.second.begin();
        if (it == p.second.end()) continue;
        cout &lt;&lt; *it;
        for (it++; it != p.second.end(); it++)
            cout &lt;&lt; ',' &lt;&lt; *it;
        cout &lt;&lt; '\n';
    }
}

int main() {
    using std::cout;
    using std::cin;
    
    cout &lt;&lt; "Unesite tekst: ";
    string s;
    std::getline(cin, s);
    auto m(KreirajIndeksPojmova(s));
    IspisiIndeksPojmova(m);
    
    for (;;) {
        cout &lt;&lt; "Unesite rijec: ";
        try {
            string r;
            cin &gt;&gt; r;
            if (r == ".") break;
            for (int x : PretraziIndeksPojmova(r, m))
                cout &lt;&lt; x &lt;&lt; ' ';
            cout &lt;&lt; '\n';
        } catch (std::logic_error e) {
            cout &lt;&lt; "Unesena rijec nije nadjena!\n";
</font>            
        }
    }
	return 0;
}</pre>
</body>
</html>
