<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z2/student7735.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z2/student4082.cpp<p></p><pre>
 #include &lt;iostream&gt;
#include &lt;utility&gt;
#include &lt;map&gt;
#include &lt;string&gt;
#include &lt;vector&gt;
#include &lt;stdexcept&gt;
#include &lt;algorithm&gt;
#include &lt;set&gt;
#include &lt;cctype&gt;

<a name="0"></a><font color="#FF0000"><a href="match165-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_60.gif"/></a>

std::string PretvoriuMala(std::string t){
    for(int i=0;i&lt;t.size();i++)t[i]=std::tolower(t[i]);
    return t;
}
std::map&lt;std::string,std::set&lt;int&gt;&gt; KreirajIndeksPojmova(std::string tekst){
    tekst=PretvoriuMala(tekst);
     std::map&lt;std::string,std::set&lt;int&gt;&gt; indeks_pojmova; 
    for(int i=0;i&lt;tekst.size();i++){
        std::string s;
        int indeks=i;
        while((tekst[i]&gt;='A' &amp;&amp; tekst[i]&lt;='Z')||(tekst[i]&gt;='a' &amp;&amp; tekst[i]&lt;='z') || (tekst[i]&gt;='0' &amp;&amp; tekst[i]&lt;='9')){
            s.push_back(tekst[i]);
            i++;
            if(i==tekst.size())break;
        }
        if(s!=""){
            std::set&lt;int&gt; skup;
            skup.insert(indeks);
            auto it=indeks_pojmova.find(s);
            if(it==indeks_pojmova.end())indeks_pojmova.insert(std::make_pair(s,skup));
            else{ (indeks_pojmova[s]).insert(indeks);
            }
        }
    }
   return indeks_pojmova;}
std::set&lt;int&gt; PretraziIndeksPojmova (std::string pojam,std::map&lt;std::string,std::set&lt;int&gt;&gt; indeks_pojmova){
    pojam=PretvoriuMala(pojam);
     std::set&lt;int&gt; skup;
     auto it=indeks_pojmova.find(pojam);
     if(it==indeks_pojmova.end()) throw std::logic_error("Pojam nije nadjen");
     skup=(indeks_pojmova.find(pojam))-&gt;second;
     return skup;
}
void IspisiIndeksPojmova(std::map&lt;std::string,std::set&lt;int&gt;&gt; indeks_pojmova){
    for(auto x=indeks_pojmova.begin();x!=indeks_pojmova.end();x++){
</font><a name="1"></a><font color="#00FF00"><a href="match165-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_35.gif"/></a>

        std::cout &lt;&lt; x-&gt;first&lt;&lt;": ";
        for(auto t=((x-&gt;second).begin());t!=((x-&gt;second).end());t++){
            auto kraj=(x-&gt;second).rbegin();
            if(*t!=*kraj)std::cout&lt;&lt;*t&lt;&lt;",";
            if(*t==*kraj)std::cout &lt;&lt; *t;
        }
        std::cout  &lt;&lt; std::endl;
    }
}

int main (){
 std::cout &lt;&lt; "Unesite tekst: ";
 std::string t;
 std::getline(std::cin,t);
 IspisiIndeksPojmova(KreirajIndeksPojmova(t));
 for(;;){
     try{
 std::cout &lt;&lt; "Unesite rijec: ";
 std::string rijec;
 std::getline(std::cin,rijec);
 if(rijec==".")break;
 std::set&lt;int&gt; skup;
 skup=PretraziIndeksPojmova(rijec,KreirajIndeksPojmova(t));
 for(auto x:skup)std::cout &lt;&lt; x&lt;&lt;" ";
 std::cout  &lt;&lt; std::endl;
    }
    catch(std::logic_error e){
   std::cout &lt;&lt; "Unesena rijec nije nadjena!"&lt;&lt; std::endl;
</font>   }
 }
}</pre>
</body>
</html>
