<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z2/student5830.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z2/student5830.cpp<p></p><pre>
/B2016/2017: ZadaÄ‡a 3, Zadatak 2
#include &lt;iostream&gt;
#include &lt;map&gt;
#include &lt;string&gt;
#include &lt;set&gt;
#include &lt;vector&gt;
#include &lt;iterator&gt;
#include &lt;stdexcept&gt;
#include &lt;algorithm&gt;
<a name="0"></a><font color="#FF0000"><a href="match353-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_8.gif"/></a>

using namespace std;
map&lt;string,set&lt;int&gt;&gt; KreirajIndeksPojmova(string s)
{
    for(int i=0;i&lt;s.size();i++){
        if(s[i]&gt;='A' &amp;&amp; s[i]&lt;='Z') s[i]+=32;
    }
    map&lt;string,set&lt;int&gt;&gt; mapa;
</font>    vector&lt;string&gt; rijeci;
    for(int i=0; i&lt;s.length(); i++) {
        string rijec;
        while(s[i]==' ' &amp;&amp; i&lt;s.length())i++;
        while(s[i]!=' ' &amp;&amp; ((s[i]&gt;='A' &amp;&amp; s[i]&lt;='Z') || (s[i]&gt;='a' &amp;&amp; s[i]&lt;='z') || (s[i]&gt;=48 &amp;&amp; s[i]&lt;=57))  &amp;&amp; i&lt;s.length()) {
            rijec.push_back(s[i]);
            i++;
        }
        bool logicka(true);
        for(int k=0; k&lt;rijeci.size(); k++) if(rijec==rijeci[k]) {
                logicka=false;
                break;
            }
        if(logicka &amp;&amp; rijec.size()!=0) {
<a name="3"></a><font color="#00FFFF"><a href="match353-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_5.gif"/></a>

            rijeci.push_back(rijec);
        }
    }
    for(int i=0; i&lt;rijeci.size(); i++) {
        set&lt;int&gt; skup;
        for(int j=0; j&lt;s.length(); j++) {
</font>            string trazena;
            int a=j;
            while(s[j]!=' ' &amp;&amp; ((s[j]&gt;='A' &amp;&amp; s[j]&lt;='Z') || (s[j]&gt;='a' &amp;&amp; s[j]&lt;='z') || (s[j]&gt;=48 &amp;&amp; s[j]&lt;=57))  &amp;&amp; j&lt;s.length()) {
                trazena.push_back(s[j]);
                j++;
            }
<a name="1"></a><font color="#00FF00"><a href="match353-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_6.gif"/></a>

            if(trazena==rijeci[i]) {
                skup.insert(a);
            }
        }
        mapa.insert(make_pair(rijeci[i],skup));
    }
    return mapa;
}

set&lt;int&gt; PretraziIndeksPojmova(string rijec,map&lt;string,set&lt;int&gt;&gt; mapa)
</font>{
    bool logicka(true);
    for(auto it=mapa.begin(); it!=mapa.end(); it++) {
        if(rijec==it-&gt;first) {
            return it-&gt;second;
        }
    }
    if(logicka) throw std::logic_error("Unesena rijec nije nadjena!");
}


void IspisiIndeksPojmova(map&lt;string,set&lt;int&gt;&gt; mapa)
{
    for(auto it=mapa.begin(); it!=mapa.end(); it++) {
        cout&lt;&lt;it-&gt;first&lt;&lt;": ";
        for(auto element: it-&gt;second) if(element!=*max_element(it-&gt;second.begin(),it-&gt;second.end()))cout&lt;&lt;element&lt;&lt;",";
<a name="2"></a><font color="#0000FF"><a href="match353-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_5.gif"/></a>

            else cout&lt;&lt;element;
        cout&lt;&lt;endl;
    }
}
int main ()
{
    cout&lt;&lt;"Unesite tekst: ";
    string s;
    getline(cin,s);
    map&lt;string,set&lt;int&gt;&gt; mapa=KreirajIndeksPojmova(s);
    IspisiIndeksPojmova(mapa);
</font>    for(;;) {
        cout&lt;&lt;"Unesite rijec: ";
        string rijec;
        getline(cin,rijec);
        if(rijec==".") break;
        try {
            set&lt;int&gt; skup=PretraziIndeksPojmova(rijec,mapa);
            for(auto element: skup)cout&lt;&lt;element&lt;&lt;" ";
        } catch(std::logic_error izuzetak) {
            cout&lt;&lt;izuzetak.what();
        }
        cout&lt;&lt;endl;
    }
    return 0;
}</pre>
</body>
</html>
