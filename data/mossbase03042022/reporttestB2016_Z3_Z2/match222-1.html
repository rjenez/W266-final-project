<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z2/student4011.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z2/student2956.cpp<p></p><pre>
<a name="0"></a><font color="#FF0000"><a href="match222-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_98.gif"/></a>

/B2016/2017: ZadaÄ‡a 3, Zadatak 2
#include &lt;iostream&gt;
#include &lt;map&gt;
#include &lt;string&gt;
#include &lt;set&gt;
#include &lt;stdexcept&gt;

using namespace std;

void PretvoriUMala(string &amp;s1){
    for(int i=0;i&lt;s1.length();i++)
    if(s1[i]&gt;='A' &amp;&amp; s1[i]&lt;='Z') s1[i]+=32;
}

bool Pomocna(char x){
    if(x&gt;='a' &amp;&amp; x&lt;='z') return true;
    if(x&gt;='A' &amp;&amp; x&lt;='Z') return true;
    if(x&gt;='0' &amp;&amp; x&lt;='9') return true;
    return false;
}
map&lt;string,set&lt;int&gt;&gt;KreirajIndeksPojmova(string s){
    map&lt;string,set&lt;int&gt;&gt;m;
    int i=0;
    while(i&lt;s.length()){
        while(i&lt;s.length() &amp;&amp; !Pomocna(s[i])) i++;
        int j=i;
        while(j&lt;s.length() &amp;&amp; Pomocna(s[j])) j++;
        if(i==j) return m;
        string efikasnost(s.substr(i,j-i));
        PretvoriUMala(efikasnost);
        if(!m.count(efikasnost)) { m.insert({efikasnost,{i}});}
        else {
            m[efikasnost].insert(i);
        }
        i=j;
    }
    return m;
}

set&lt;int&gt;PretraziIndeksPojmova(string s,map&lt;string,set&lt;int&gt;&gt;m){
    PretvoriUMala(s);
    if(!m.count(s)) { throw logic_error("Unesena rijec nije nadjena!");}
    else return m[s];
}

void IspisiIndeksPojmova(const map&lt;string,set&lt;int&gt;&gt;&amp;m){
    for(auto it=m.begin();it!=m.end();it++){
        cout&lt;&lt;it-&gt;first&lt;&lt;": ";
        for(auto a=it-&gt;second.begin();a!=it-&gt;second.end();a++){
            cout&lt;&lt;*a;
            auto x=a;
            x++;
            if(x!=it-&gt;second.end()) cout&lt;&lt;',';
        }
        cout&lt;&lt;endl;
    }
}
int main(){
    cout&lt;&lt;"Unesite tekst: ";
    string tekst;
    getline(cin,tekst);
    auto m=KreirajIndeksPojmova(tekst);
    IspisiIndeksPojmova(m);
    while(true){
        string unos;
        cout&lt;&lt;"Unesite rijec: ";
        getline(cin,unos);
        if(unos==".") break;
        try{
            auto kiki(PretraziIndeksPojmova(unos,m));
            for(auto k:kiki) cout&lt;&lt;k&lt;&lt;" ";
            cout&lt;&lt;endl;
        }
        catch(logic_error e){
            cout&lt;&lt;e.what()&lt;&lt;endl;
</font>        }
    }
    return 0;
}</pre>
</body>
</html>
