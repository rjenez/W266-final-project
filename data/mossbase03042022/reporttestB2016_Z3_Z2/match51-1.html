<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z2/student3485.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z2/student1891.cpp<p></p><pre>
<a name="0"></a><font color="#FF0000"><a href="match51-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_99.gif"/></a>

/B2016/2017: ZadaÄ‡a 3, Zadatak 2
#include &lt;iostream&gt;
#include &lt;map&gt;
#include &lt;utility&gt;
#include &lt;string&gt;
#include &lt;set&gt;
#include &lt;cctype&gt;
#include &lt;cstring&gt;
#include &lt;stdexcept&gt; 

char NapraviMalo(char znak) {
 return std::tolower(znak);
}


std::map&lt;std::string,std::set&lt;int&gt;&gt; KreirajIndeksPojmova(std::string s){
    int pozicija=0,j=0;
    std::map&lt;std::string,std::set&lt;int&gt;&gt; mapa;
    std::string pomocni;
    int i=0;
    while(i&lt;s.length()){
        
        
        j=i;
        pomocni="";
        if(s[i]&lt;'0' || (s[i]&gt;'9' &amp;&amp; s[i]&lt;'A') || (s[i]&gt;'Z' &amp;&amp; s[i]&lt;'a') || s[i]&gt;'z'){
            
                while(s[i]&lt;'0' || (s[i]&gt;'9' &amp;&amp; s[i]&lt;'A') || (s[i]&gt;'Z' &amp;&amp; s[i]&lt;'a') || s[i]&gt;'z'){
            if(i==s.length()) break;
            i++;}
        }
        else{
            
       while((s[i]&gt;='0' &amp;&amp; s[i]&lt;='9') ||(s[i]&gt;='a' &amp;&amp; s[i]&lt;='z') || (s[i]&gt;='A' &amp;&amp; s[i]&lt;='Z')){
       pozicija=j;
       pomocni.push_back(NapraviMalo(s[i]));
       if(i==s.length()) break;
     i++;
  }
 
  auto it(mapa.find(pomocni));
  if(it==mapa.end()){
     mapa[pomocni].insert(pozicija); 
  }else{
    
     mapa[pomocni].insert(pozicija); 
  }
   
    }
        
    }
    return mapa;
}

std::set&lt;int&gt; PretraziIndeksPojmova(std::string s,std::map&lt;std::string,std::set&lt;int&gt;&gt;mapa){
    
   std::string pomocni;
   for(int i=0;i&lt;s.length();i++){
       pomocni.push_back(NapraviMalo(s[i]));
   }
    auto it(mapa.find(pomocni));
    if(it==mapa.end()) throw std::logic_error("Unesena rijec nije nadjena!");
    else
     return mapa[pomocni];
    
}

void IspisiIndeksPojmova(std::map&lt;std::string,std::set&lt;int&gt;&gt;mapa){
    for(auto it=mapa.begin();it!=mapa.end();it++){
        std::cout&lt;&lt;it-&gt;first&lt;&lt;": ";
        std::string hasan;
        std::set&lt;int&gt; skup;
        skup=it-&gt;second;
        for(auto it1=skup.begin();it1!=skup.end();){
             std::cout&lt;&lt;*it1++;
            if(it1==skup.end()) break;
            std::cout&lt;&lt;",";
        }std::cout&lt;&lt;std::endl;
    }
    
}
int main()
{
    std::set&lt;int&gt; skup;
    std::cout&lt;&lt;"Unesite tekst: ";
    std::string s,rijec;
    std::getline(std::cin,s);

    std::map&lt;std::string, std::set&lt;int&gt;&gt; mapa;
    mapa=KreirajIndeksPojmova(s);
    IspisiIndeksPojmova(mapa);
    std::cout&lt;&lt;"Unesite rijec: ";
    std::getline(std::cin,rijec);
    if(rijec==".") return 0;
    
    while(rijec!="."){
        if(rijec==".") break;
        
        
     try{ skup=PretraziIndeksPojmova(rijec,mapa);
        
         for(auto it=skup.begin();it!=skup.end();){
          std::cout&lt;&lt;*it++;
          if(it==skup.end()) break;
          std::cout&lt;&lt;" ";
      }std::cout&lt;&lt;std::endl;}
      catch(std::logic_error izuzetak){
          std::cout&lt;&lt;izuzetak.what()&lt;&lt;std::endl;
      }
        std::cout&lt;&lt;"Unesite rijec: ";
       std::getline(std::cin,rijec); 
        
         if(rijec==".") return 0;
</font>    }
    return 0;
}
</pre>
</body>
</html>
