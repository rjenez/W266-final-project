<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z2/student8599.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z2/student8599.cpp<p></p><pre>
/B2016/2017: ZadaÄ‡a 3, Zadatak 2
#include &lt;iostream&gt;
#include &lt;map&gt;
#include &lt;string&gt;
#include &lt;set&gt;
#include &lt;cstring&gt;
#include &lt;utility&gt;
#include &lt;algorithm&gt;

int BrojRijeci(std::string s){
    if(s.size()==0)
        return 0;
    int brojac(0);    
    for(int i=0; i&lt;s.size(); i++){
        while(i&lt;s.size() &amp;&amp; !((s[i]&gt;='A' &amp;&amp; s[i]&lt;='Z') ||  (s[i]&gt;='a' &amp;&amp; s[i]&lt;='z') || (s[i]&gt;='0' &amp;&amp; s[i]&lt;='9')))
            i++;
        if(i==s.size()) break;
        brojac++;
<a name="0"></a><font color="#FF0000"><a href="match480-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_2.gif"/></a>

        while(i&lt;s.size() &amp;&amp; ((s[i]&gt;='A' &amp;&amp; s[i]&lt;='Z') || (s[i]&gt;='a' &amp;&amp; s[i]&lt;='z') || (s[i]&gt;='0' &amp;&amp; s[i]&lt;='9')))
        i++;    
    }
    return brojac;
</font>}
<a name="1"></a><font color="#00FF00"><a href="match480-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_2.gif"/></a>

std::string PretvoriUMale(std::string s){
    for(int i=0; i&lt;s.size(); i++){
        if(s[i]&gt;='A' &amp;&amp; s[i]&lt;='Z')
</font>            s[i]+='a'-'A';
}
    return s;
}
std::string Rijec(std::string s, int i){
<a name="2"></a><font color="#0000FF"><a href="match480-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_2.gif"/></a>

    std::string x;
    while(i&lt;s.size() &amp;&amp; ((s[i]&gt;='A' &amp;&amp; s[i]&lt;='Z') || (s[i]&gt;='a' &amp;&amp; s[i]&lt;='z') || (s[i]&gt;='0' &amp;&amp; s[i]&lt;='9'))){
</font>        x.push_back(s[i]);
        i++;
    }
    return x;
}


std::map&lt;std::string, std::set&lt;int&gt;&gt; KreirajIndeksPojmova(std::string s){
    s=PretvoriUMale(s);
    std::map&lt;std::string, std::set&lt;int&gt;&gt; mapa;
    for(int i=0; i&lt;s.size(); i++){
        while(i&lt;s.size() &amp;&amp; !((s[i]&gt;='A' &amp;&amp; s[i]&lt;'Z') || (s[i]&gt;='a' &amp;&amp; s[i]&lt;='z') || (s[i]&gt;='0' &amp;&amp; s[i]&lt;='9')))
            i++;
            if(i==s.size()) break;
        std::set&lt;int&gt; skup;
        skup.insert(i);
        std::string a(Rijec(s, i));
            for(int j=i+1; j&lt;s.size(); j++){
                while(!((s[j]&gt;='A' &amp;&amp; s[j]&lt;='Z') || (s[j]&gt;='a' &amp;&amp; s[j]&lt;='z') || (s[j]&gt;='0' &amp;&amp; s[j]&lt;='9')) &amp;&amp; j&lt;s.size())
                    j++;
                if(j==s.size()) break;    
                std::string b(Rijec(s, j));
                if(a==b) skup.insert(j);
                while(j&lt;s.size() &amp;&amp; ((s[j]&gt;='A' &amp;&amp; s[j]&lt;='z') || (s[j]&gt;='a' &amp;&amp; s[j]&lt;='z') || (s[j]&gt;='0' &amp;&amp; s[j]&lt;='9')))
                    j++;
            }
        mapa.insert(std::make_pair(a, skup));
    while(i&lt;s.size() &amp;&amp; ((s[i]&gt;='A' &amp;&amp; s[i]&lt;'Z') || (s[i]&gt;='a' &amp;&amp; s[i]&lt;='z') || (s[i]&gt;='0' &amp;&amp; s[i]&lt;='9')))
<a name="3"></a><font color="#00FFFF"><a href="match480-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_2.gif"/></a>

        i++;
    }
    return mapa;
}

std::set&lt;int&gt; PretraziIndeksPojmova(std::string s, std::map&lt;std::string, std::set&lt;int&gt;&gt; mapa){
</font>        auto it(mapa.find(s));
        if(it==mapa.end()) throw std::logic_error ("Pojam nije nadjen");
<a name="4"></a><font color="#FF00FF"><a href="match480-1.html#4" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_2.gif"/></a>

        else return it-&gt;second;
}

void IspisiIndeksPojmova(std::map&lt;std::string, std::set&lt;int&gt;&gt; mapa){
    for(auto it=mapa.begin(); it!=mapa.end(); it++){
</font>        std::set&lt;int&gt; skup(it-&gt;second);
        std::cout &lt;&lt; it-&gt;first &lt;&lt; ": ";
        for(auto x=skup.begin(); x!=skup.end(); x++){
            if(x!=--skup.end())
         std::cout &lt;&lt; *x &lt;&lt; ",";
         else std::cout &lt;&lt; *x;
        }
        std::cout &lt;&lt; std::endl;
        }
    }
int main ()
{
    std::cout &lt;&lt; "Unesite tekst: ";
    std::string s;
    std::getline(std::cin, s);
   auto mapa(KreirajIndeksPojmova(s));
   IspisiIndeksPojmova(mapa);
   std::string x;
   do{ 
       std::cout &lt;&lt; "Unesite rijec: ";
       std::getline(std::cin, x);
       if(x==".") break;
       try{
           std::set&lt;int&gt; skup (PretraziIndeksPojmova(x, mapa));
           for(int x: skup) std::cout &lt;&lt; x &lt;&lt; " ";
       }
       catch(std::logic_error izuzetak){
           std::cout &lt;&lt; "Unesena rijec nije nadjena!";
       } 
       std::cout &lt;&lt; std::endl;
      // if((std::cin.peek())=='.') break;
   } while(x!=".");
	return 0;
}</pre>
</body>
</html>
