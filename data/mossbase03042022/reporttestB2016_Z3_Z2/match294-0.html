<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z2/student4414.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z2/student4414.cpp<p></p><pre>
/B2016/2017: ZadaÄ‡a 3, Zadatak 2
#include &lt;iostream&gt;
#include &lt;set&gt;
#include &lt;map&gt;
#include &lt;algorithm&gt;
#include &lt;string&gt;
#include &lt;stdexcept&gt;


using namespace std;

bool slovo(char c) {
<a name="1"></a><font color="#00FF00"><a href="match294-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_10.gif"/></a>

    if(c&gt;'a' &amp;&amp; c&lt;='z') return true;
    else return false;
}

map&lt;string, set&lt;int&gt;&gt; KreirajIndeksPojmova(string s) {
    map&lt;string, set&lt;int&gt;&gt; m;
    string pom;
    int index=0;
</font><a name="0"></a><font color="#FF0000"><a href="match294-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_29.gif"/></a>

    for(int i=0; i&lt;int(s.length()); i++){
        if(slovo(s[i]) &amp;&amp; i&lt;int(s.length())) {
            index = i;
            while(slovo(s[i]) &amp;&amp; i&lt;int(s.length())) {
                pom.push_back(s[i]);
                i++;
            }
            m[pom].insert(index);
            pom.resize(0);
        }
    }
    
    return m;
}

set&lt;int&gt; PretraziIndeksPojmova(string s, map&lt;string, set&lt;int&gt;&gt; m) {
    if(!m.count(s)) throw logic_error ("Unesena rijec nije nadjena!\n");
    else return m[s];
}

void IspisiIndeksPojmova(map&lt;std::string, set&lt;int&gt;&gt; mapa) {
</font>    for(auto i1=mapa.begin(); i1!=mapa.end(); i1++) {
<a name="2"></a><font color="#0000FF"><a href="match294-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_9.gif"/></a>

        std::cout&lt;&lt;(*i1).first&lt;&lt;": ";
        auto i2=(i1-&gt;second).begin();
        while(i2!=--(i1-&gt;second).end()) {
            cout&lt;&lt;*i2&lt;&lt;",";
</font>            i2++;
        }
        std::cout&lt;&lt;*i2&lt;&lt;std::endl;
    }
}
int main ()
{
    
    cout&lt;&lt;"Unesite tekst:"&lt;&lt;std::endl;
    string s;
    getline(std::cin, s);
    map&lt;std::string, set&lt;int&gt;&gt; mapa = KreirajIndeksPojmova(s);
    IspisiIndeksPojmova(mapa);
    string tacka = {"."};
    for(;;) {
        cout&lt;&lt;"Unesite rijec: ";//&lt;&lt;std::endl;
        string p;
        getline(std::cin, p);
        if(p==tacka) break;
        try {
            set&lt;int&gt; pretraga = PretraziIndeksPojmova(p,mapa);
            for(int x : pretraga) cout&lt;&lt;x&lt;&lt;" ";
        }
        catch(logic_error t) {
            cout&lt;&lt;t.what();
        }
    }
	return 0;
}</pre>
</body>
</html>
