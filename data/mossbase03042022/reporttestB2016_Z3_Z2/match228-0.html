<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z2/student6369.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z2/student6369.cpp<p></p><pre>
<a name="0"></a><font color="#FF0000"><a href="match228-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_99.gif"/></a>

/B2016/2017: ZadaÄ‡a 3, Zadatak 2
#include &lt;iostream&gt;
#include &lt;map&gt;
#include &lt;set&gt;
#include &lt;utility&gt;
#include &lt;iterator&gt;
#include &lt;string&gt;
#include &lt;stdexcept&gt;

bool IsCharOrDigit(char x) {
	return (x&gt;='a' &amp;&amp; x&lt;='z') || (x&gt;='A' || x&lt;='Z') || (x&gt;='0' || x&lt;='9');
}

typedef std::map&lt;std::string,std::set&lt;int&gt;&gt; decl_map;
decl_map KreirajIndeksPojmova(std::string s)
{ 
    decl_map m;
    for(int i(0);i&lt;s.length();i++)
    {
        if((IsCharOrDigit(s[i]))
        { 
	  std::string temp;
          int pamti{i};
            while( i!=s.length()-1 &amp;&amp; IsCharOrDigit(s[i]) )
            {
              temp.push_back(s[i]);
              i++;
            }
        i--;
        m[temp].insert(pamti);
        }
    }
    return m;
}

std::set&lt;int&gt; PretraziIndeksPojmova(std::string s,decl_map m)
{  
if(m.find(s)!=m.end())
	return m[s];
else throw std::logic_error("Pojam nije nadjen");
}

void IspisiIndeksPojmova(decl_map m)
{
     for(auto it = m.begin(); it!= m.end(); it++) {
        std::cout&lt;&lt;it-&gt;first&lt;&lt;": ";
        for(auto it2 = (it-&gt;second).begin(); it2!= (it-&gt;second).end();it2++) {
            auto tmp = it2;
            tmp++;
            if(tmp==(it-&gt;second).end()) std::cout&lt;&lt;*it2;
              else std::cout&lt;&lt;*it2&lt;&lt;",";
        }
        std::cout&lt;&lt;std::endl;
     }
}

int main()
{ decl_map m;
    std::string s;
    std::cout&lt;&lt;"Unesi recenicu:";
    std::getline(std::cin,s);
    m= KreirajIndeksPojmova(s);
   IspisiIndeksPojmova(m);
 while(true)
{ try{
    std::string trazi;
    std::cin&gt;&gt;trazi;
   std::cin.ignore(10000, '\n');
    if(trazi==".") break;
 auto skup(PretraziIndeksPojmova(trazi,m));
 for(auto it_skup(skup.begin());it_skup!=skup.end();it_skup++)
 {
     std::cout&lt;&lt;*it_skup;
    if(it_skup==--skup.end()) continue;
    else std::cout&lt;&lt;",";
 }
    std::cout&lt;&lt;std::endl;
    }
  catch(std::logic_error x)
    {
        std::cout&lt;&lt;x.what()&lt;&lt;std::endl;
        continue;
    }
}
    return 0;
</font>}
</pre>
</body>
</html>
