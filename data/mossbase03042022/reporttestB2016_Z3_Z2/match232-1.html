<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z2/student2477.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z2/student2247.cpp<p></p><pre>
#include &lt;iostream&gt;
#include &lt;string&gt;
#include &lt;set&gt;
#include &lt;map&gt;
#include &lt;stdexcept&gt;
<a name="0"></a><font color="#FF0000"><a href="match232-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_98.gif"/></a>

using namespace std;

map&lt;string, set&lt;int&gt;&gt; KreirajIndeksPojmova (string tekst) {
    map&lt;string, set&lt;int&gt;&gt; indeks_pojmova;
    tekst=tekst+" ";
    for(int i=0; i&lt;=tekst.length(); i++) tekst[i]=tolower(tekst[i]);
    string pomocni_str="\0";
    for(int i=0; i&lt;tekst.length(); i++) {
        if((tekst[i]&gt;=65 &amp;&amp; tekst[i]&lt;=90) || (tekst[i]&gt;=97 &amp;&amp; tekst[i]&lt;=122) || (tekst[i]&gt;=48 &amp;&amp; tekst[i]&lt;=57)) {
            pomocni_str.push_back(tekst[i]);
        }

        else if(pomocni_str.empty()) {
            continue;
        }
        else if(!(pomocni_str.empty())) {
            set&lt;int&gt; pomocni_skup;
            int ubacen(0);
            for(auto it=indeks_pojmova.begin(); it!=indeks_pojmova.end(); it++) {
                if(it-&gt;first==pomocni_str) {
                    it-&gt;second.insert(i-pomocni_str.length());
                    ubacen=1;
                    break;
                }
            }
            if(ubacen==0) {
                pomocni_skup.insert(i-pomocni_str.length());
                indeks_pojmova.insert(make_pair(pomocni_str, pomocni_skup));
            }
            pomocni_str="\0";
        }
    }

    return indeks_pojmova;
}

set&lt;int&gt; PretraziIndeksPojmova (string rijec, map&lt;string, set&lt;int&gt;&gt; indeks_pojmova) {
    for(auto par : indeks_pojmova) {
        if(par.first==rijec) return par.second;
    }
    throw logic_error("Unesena rijec nije nadjena!");
}

void IspisiIndeksPojmova (map&lt;string, set&lt;int&gt;&gt; indeks_pojmova) {
    for(auto par : indeks_pojmova) {
        cout &lt;&lt; par.first &lt;&lt; ": ";
        for(auto it=par.second.begin(); ; ) {
            cout &lt;&lt; *it;
            it++;
            if(it==par.second.end()) break;
            else cout &lt;&lt; ",";
        }
        cout &lt;&lt; endl;
    }
}

int main ()
{
    
        cout &lt;&lt; "Unesite tekst: ";
        string tekst;
        getline(cin, tekst);
        auto indeks_pojmova(KreirajIndeksPojmova(tekst));
        IspisiIndeksPojmova(indeks_pojmova);
        for(;;) {
            cout &lt;&lt; "Unesite rijec: ";
            string rijec;
            getline(cin, rijec);
            if(rijec==".") break;
            try {
                set&lt;int&gt; pozicije=PretraziIndeksPojmova(rijec, indeks_pojmova);
                for(auto poz : pozicije) {
                    cout &lt;&lt; poz &lt;&lt; " ";
                }
            }
            catch (logic_error nema) {
                cout &lt;&lt; nema.what();
            }
            cout &lt;&lt; endl;
</font>        }

	return 0;
}</pre>
</body>
</html>
