<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z2/student5800.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z2/student8329.cpp<p></p><pre>
<a name="0"></a><font color="#FF0000"><a href="match516-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_12.gif"/></a>

/B2016/2017: ZadaÄ‡a 3, Zadatak 2
#include &lt;iostream&gt;
#include &lt;map&gt;
#include &lt;string&gt;
#include &lt;vector&gt;
#include &lt;set&gt;
#include &lt;stdexcept&gt;

std::string UMalaSlova(std::string recenica){
    for(int i=0; i&lt;recenica.length(); i++){
        if(recenica[i]&gt;='A' &amp;&amp; recenica[i]&lt;='Z') recenica[i]+='a'-'A';
    }
    return recenica;
}

bool JelMozeURijec(char a){
</font>    return (a&gt;='0' &amp;&amp; a&lt;='9') || (a&gt;='A' &amp;&amp; a&lt;='Z') || (a&gt;='a' &amp;&amp; a&lt;='z');
}

<a name="1"></a><font color="#00FF00"><a href="match516-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_6.gif"/></a>

std::map&lt;std::string, std::set&lt;int&gt;&gt; KreirajIndeksPojmova (std::string recenica){
    recenica=UMalaSlova(recenica);
    std::map&lt;std::string, std::set&lt;int&gt;&gt; mapa;
</font>    for(int i=0; i&lt;recenica.length(); i++){
        std::string pomocni;
        int j=0;
        if(!JelMozeURijec(recenica[i])) continue;
        while(JelMozeURijec(recenica[i])){
            j++;
            i++;
        }
        pomocni=recenica.substr(i-j,j);
        if(mapa.count(pomocni)) {
            mapa[pomocni].insert(i-j); 
            continue;
        }
        std::set&lt;int&gt; pomocniskup;
        pomocniskup.insert(i-j);
        mapa.insert(std::pair&lt;std::string, std::set&lt;int&gt;&gt;(pomocni, pomocniskup));
    }
<a name="2"></a><font color="#0000FF"><a href="match516-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_4.gif"/></a>

    return mapa;
}

std::set&lt;int&gt; PretraziIndeksPojmova (std::string rijec, std::map&lt;std::string, std::set&lt;int&gt;&gt; mapa){
</font>    std::set&lt;int&gt; skup;
    if(mapa.count(rijec)) skup=mapa[rijec];
    else throw std::logic_error ("Unesena rijec nije nadjena!");
    return skup;
}

    
void IspisiIndeksPojmova(std::map&lt;std::string,std::set&lt;int&gt;&gt; Mapa){
    for(auto it = Mapa.begin(); it!= Mapa.end(); it++){
        auto ispisskup = it-&gt;second.begin();
        std::cout&lt;&lt;it-&gt;first&lt;&lt;": ";
        int i=0;
        while(ispisskup != it-&gt;second.end()){
            i++;
            std::cout&lt;&lt;*ispisskup;
            if(i != Mapa[it-&gt;first].size()) std::cout&lt;&lt;",";
            ispisskup++;
        }
        std::cout&lt;&lt;std::endl;
    }
}

int main(){
    std::string recenica;
    std::cout&lt;&lt;"Unesite tekst: ";
    getline(std::cin, recenica);
    std::map&lt;std::string, std::set&lt;int&gt;&gt; Mapa;
    Mapa=KreirajIndeksPojmova(recenica);
    IspisiIndeksPojmova(Mapa);
    for(;;){
        std::cout&lt;&lt;"Unesite rijec: ";
        std::string rijec;
        getline(std::cin, rijec);
        if(rijec==".") break;
        std::set&lt;int&gt; skup;
        try{
            skup=PretraziIndeksPojmova(rijec, Mapa);
            for(auto it=skup.begin(); it!=skup.end(); it++){
                std::cout&lt;&lt;*it&lt;&lt;" ";
            }
        }
        catch(std::logic_error e){
            std::cout&lt;&lt;e.what();
        }
        std::cout&lt;&lt;std::endl;
    }
	return 0;
}</pre>
</body>
</html>
