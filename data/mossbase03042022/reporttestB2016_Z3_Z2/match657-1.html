<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z2/student6364.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z2/student1518.cpp<p></p><pre>
#include &lt;iostream&gt;
#include &lt;set&gt;
#include&lt;map&gt;
#include&lt;string&gt;
#include&lt;cstring&gt;
#include&lt;iomanip&gt;
#include &lt;stdexcept&gt;
#include &lt;vector&gt;
#include &lt;iterator&gt;

typedef std::set&lt;int&gt;::iterator setiter;

std::set&lt;int&gt; Funkcija(std::string s,std::vector&lt;std::string&gt;vstring ,std::vector&lt;int&gt;vbroj){
    std::set&lt;int&gt;skup;
    for(int i=0;i&lt;vstring.size();i++){
        if(vstring[i]==s){
<a name="2"></a><font color="#0000FF"><a href="match657-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_3.gif"/></a>

            skup.insert(vbroj[i]);
        }
    }
    
    return skup;
}

std::map&lt;std::string,std::set&lt;int&gt;&gt; KreirajIndeksPojmova(std::string s){
</font>    std::map&lt;std::string,std::set&lt;int&gt;&gt;mapa;
   
    if(s!="" &amp;&amp; s!=" "){
    std::vector&lt;int&gt;vektorindeksa;
    std::vector&lt;std::string&gt;vektorstringova;
    int pom_brojac(0);
    std::string pomocni_string;
    pomocni_string=s;
    
    for(int i=0;i&lt;s.length();i++){
        if(s[i]&gt;='A'&amp;&amp; s[i]&lt;='Z'){
            s[i]-='A'-'a';
            
        }
    }
    
    for(int i=0;i&lt;s.length();i++){
        while((s[i]&lt;'a' &amp;&amp; s[i]&gt;'z') || (s[i]&lt;'0' &amp;&amp; s[i]&gt;'9')){
            i++;
        }
        if(i==s.length()) break;
        int temp(i);
        if( (s[i]&gt;='a' &amp;&amp; s[i]&lt;='z') || (s[i]&gt;='0' &amp;&amp; s[i]&lt;='9') ){
            while( (s[i]&gt;='a' &amp;&amp; s[i]&lt;='z') || (s[i]&gt;='0' &amp;&amp; s[i]&lt;='9') ){
                pom_brojac++;
                i++;
            }
            std::string pomocni;
            pomocni=s.substr(temp,pom_brojac);
            vektorstringova.push_back(pomocni);
            vektorindeksa.push_back(temp);
            pom_brojac=0;
        }
    }
   

   
    std::vector&lt;std::string&gt; pomocni_string_za_funkciju(vektorstringova);
    
    for(int i=0;i&lt;vektorstringova.size()-1;i++){
<a name="0"></a><font color="#FF0000"><a href="match657-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_3.gif"/></a>

        for(int j=i+1;j&lt;vektorstringova.size();j++){
            if(vektorstringova[i]==vektorstringova[j]){
                vektorstringova.erase(vektorstringova.begin()+j);
</font>            }
        }
    }
    std::set&lt;int&gt;s1;
    for(int i=0;i&lt;vektorstringova.size();i++){
        s1=Funkcija(vektorstringova[i],pomocni_string_za_funkciju,vektorindeksa);
        mapa.insert(std::make_pair(vektorstringova[i],s1));
        
    }
    return mapa;
}}

std::set&lt;int&gt; PretraziIndeksPojmova(std::string s,std::map&lt;std::string,std::set&lt;int&gt;&gt;mapa){
    setiter indeksi;
if(!mapa.count(s)){

    throw std::logic_error("Unesena rijec nije nadjena!");
}
else {
 return mapa[s];   
}}

void IspisiIndeksPojmova(std::map&lt;std::string,std::set&lt;int&gt;&gt;mapa){
int n;
std::map&lt;std::string,std::set&lt;int&gt;&gt;::iterator iter(mapa.begin());
setiter seti_pomocni;    
seti_pomocni=iter-&gt;second.begin();
n=std::distance(mapa.begin(),mapa.end());
std::advance(seti_pomocni,n-1);

for(auto it=mapa.begin();it!=mapa.end();it++){
    auto iterr=it-&gt;second.end()--;
    iterr--;
    
<a name="3"></a><font color="#00FFFF"><a href="match657-0.html#3" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_3.gif"/></a>

    std::cout&lt;&lt;it-&gt;first&lt;&lt;": ";
    
    for(setiter seti=it-&gt;second.begin();seti!=it-&gt;second.end();seti++){
        
        if(seti==iterr){
</font>            std::cout&lt;&lt;*seti;
        }
        else {
        std::cout&lt;&lt;*seti&lt;&lt;",";
        }
    }
    std::cout&lt;&lt;std::endl;
}    
    
}


int main(){
    std::string s;
    std::map&lt;std::string,std::set&lt;int&gt;&gt;mapa;
    std::cout&lt;&lt;"Unesite tekst: ";
    std::getline(std::cin,s);
  try{  mapa=KreirajIndeksPojmova(s);
    IspisiIndeksPojmova(mapa);
        
}
catch(std::domain_error poruka){
    std::cout&lt;&lt;poruka.what();
    return 0;
}
    
  
        std::string s1;

      do{
        std::set&lt;int&gt;skup;
        std::cout&lt;&lt;"Unesite rijec: ";
        std::getline(std::cin,s1);
        if(s1=="."){
            break;
        }
        try{
<a name="1"></a><font color="#00FF00"><a href="match657-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_3.gif"/></a>

        skup=PretraziIndeksPojmova(s1,mapa);
        
        for(auto itek=skup.begin();itek!=skup.end();itek++){
            std::cout&lt;&lt;*itek&lt;&lt;" ";
        }}
        catch(std::logic_error poruka){
</font>            std::cout&lt;&lt;poruka.what();
        }
        std::cout&lt;&lt;std::endl;
    }while(s1!=".");


    
    
    return 0;
}
    
    
    
    
    
    
    
    
    
    
</pre>
</body>
</html>
