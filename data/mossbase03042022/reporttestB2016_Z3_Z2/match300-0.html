<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z2/student8776.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z2/student8776.cpp<p></p><pre>
#include &lt;iostream&gt;
#include &lt;string&gt;
#include &lt;map&gt;
#include &lt;set&gt;
#include &lt;stdexcept&gt;
#include &lt;vector&gt;

bool Da_Li_Je_Znak (char c)
{
    if (c&gt;='0' &amp;&amp; c&lt;='9')
        return true;
    if (c&gt;='A' &amp;&amp; c&lt;='Z')
        return true;
<a name="3"></a><font color="#00FFFF"><a href="match300-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_5.gif"/></a>

    if (c&gt;='a' &amp;&amp; c&lt;='z')
        return true;
    
    return false;
}


std::map&lt;std::string,std::set&lt;int&gt;&gt; KreirajIndeksPojmova (std::string s)
</font>{
    std::map&lt;std::string,std::set&lt;int&gt;&gt; rezultat;
    
    for (int i{};i&lt;s.length();i++)
        {
            if (Da_Li_Je_Znak(s[i]) == true)
                {
                    std::string pomocni;
                    int j = i;
                    for (j;j&lt;s.length();j++)
                        {
                            if (Da_Li_Je_Znak(s[j]) == false)
                                break;
                                
                            pomocni.push_back(s[j]);
                        }
                        
                    for (int k{};k&lt;pomocni.length();k++)
                        {
                            if (pomocni[k]&gt;='A' &amp;&amp; pomocni[k]&lt;='Z')
                                pomocni[k] += 32;
                        }
                    
                    auto it = rezultat.find(pomocni);
                    
                    if (it == rezultat.end())
                        rezultat.insert (std::pair&lt;std::string,std::set&lt;int&gt;&gt; (pomocni,{i}));
                    else
                        it-&gt;second.insert(i);
                    
                    
                    i = j;
                }
        }
    
    return rezultat;
}

std::set&lt;int&gt; PretraziIndeksPojmova (std::string s, std::map&lt;std::string,std::set&lt;int&gt;&gt; mapa)
{
    for (int i{};i&lt;s.length();i++)
        {
            if (s[i]&gt;='A' &amp;&amp; s[i]&lt;='Z')
                s[i] += 32;
        }
    
<a name="0"></a><font color="#FF0000"><a href="match300-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_11.gif"/></a>

    auto it = mapa.find(s);
    
    if (it == mapa.end())
        throw std::logic_error ("Pojam nije nadjen");
    else
        return it-&gt;second;
}

void IspisiIndeksPojmova (std::map&lt;std::string,std::set&lt;int&gt;&gt; mapa)
{
    auto it = mapa.begin();
    while(it!=mapa.end())
        {
            std::cout&lt;&lt;it-&gt;first&lt;&lt;": ";
            
            std::set&lt;int&gt; pomocni = it-&gt;second;
</font>            
            auto ispis = pomocni.begin();
            std::vector&lt;int&gt; upis;
            while (ispis!=pomocni.end())
                {
                    upis.push_back(*ispis);
                    ispis++;
                }
                
            for (int i{};i&lt;upis.size();i++)
                {
                    if (i == upis.size()-1)
                        std::cout&lt;&lt;upis[i];
                    else
                        std::cout&lt;&lt;upis[i]&lt;&lt;",";
                }
            
<a name="2"></a><font color="#0000FF"><a href="match300-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_6.gif"/></a>

            std::cout&lt;&lt;std::endl;
            it++;
        }
}

int main ()
{
    std::cout&lt;&lt;"Unesite tekst: ";
    std::string s;
    std::getline(std::cin,s);
    auto mapa = KreirajIndeksPojmova(s);
</font>    IspisiIndeksPojmova(mapa);
    
    while (true)
        {
            std::cout&lt;&lt;"Unesite rijec: ";
            std::string rijec;
            std::getline(std::cin,rijec);
            
            if (rijec == ".")
                break;
            
            try
            {
<a name="1"></a><font color="#00FF00"><a href="match300-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_8.gif"/></a>

                auto skup = PretraziIndeksPojmova(rijec,mapa);
                
                auto it = skup.begin();
                while (it!=skup.end())
                    std::cout&lt;&lt;*it++&lt;&lt;" ";
                std::cout&lt;&lt;std::endl;
            }
            catch (std::logic_error e)
            {
                std::cout&lt;&lt;"Unesena rijec nije nadjena!"&lt;&lt;std::endl;
</font>            }
            
        }
    
    
    
    
	return 0;
}</pre>
</body>
</html>
