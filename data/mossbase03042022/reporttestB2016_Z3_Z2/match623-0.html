<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z2/student2585.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z2/student2585.cpp<p></p><pre>
<a name="0"></a><font color="#FF0000"><a href="match623-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_6.gif"/></a>

/B2016/2017: ZadaÄ‡a 3, Zadatak 2
#include &lt;iostream&gt;
#include &lt;vector&gt;
#include &lt;string&gt;
#include &lt;map&gt;
#include &lt;set&gt;
#include &lt;stdexcept&gt;

using std:: cout;
using std:: cin;
using std:: endl;
using std:: string;
using std:: set;
using std:: vector;
using std:: map;
</font>
vector&lt;string&gt; RazdvojiNaRijeci(string recenica)
{
    vector&lt;string&gt;razdvojeni;
    string rijec="";
    
<a name="1"></a><font color="#00FF00"><a href="match623-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_3.gif"/></a>

   for(int i=0; i&lt;recenica.length(); i++)
   {
       if((recenica[i]&gt;='a' &amp;&amp; recenica[i]&lt;='z') || (recenica[i]&gt;='A' &amp;&amp; recenica[i]&lt;='Z') || (recenica[i]&gt;='0' &amp;&amp; recenica[i]&lt;='9')) rijec+=recenica[i];
</font>       else {if(rijec.size()) razdvojeni.push_back(rijec); rijec=""; }
   }
   razdvojeni.push_back(rijec);
   
   for(int i=0; i&lt;razdvojeni.size()-1; i++)
   {
       for(int j=i+1; j&lt;razdvojeni.size(); j++)
       {
           if(razdvojeni[i]==razdvojeni[j])
           {
               razdvojeni.erase(razdvojeni.begin()+j);
               j--;
           }
       }
   }
   return razdvojeni;
}

map&lt;string, set&lt;int&gt;&gt; KreirajIndeksPojmova(string recenica)
{
    for(int i=0; i&lt;recenica.length(); i++)
    {
        if(recenica[i]&gt;='A' &amp;&amp; recenica[i]&lt;='Z') recenica[i]+=32;
    }
   
   vector&lt;string&gt;razdvojeni(RazdvojiNaRijeci(recenica));
   map&lt;string, set&lt;int&gt;&gt; rez;
   
   
<a name="2"></a><font color="#0000FF"><a href="match623-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_3.gif"/></a>

   for(int i=0; i&lt;razdvojeni.size(); i++)
   {
       for(int j=0; j&lt;recenica.length(); j++)
       {
           int temp=j;
</font>           string pomocna_rijec="";
           while((recenica[j]&gt;='a' &amp;&amp; recenica[j]&lt;='z') || (recenica[j]&gt;'A' &amp;&amp; recenica[j]&lt;='Z') || (recenica[j]&gt;='0' &amp;&amp; recenica[j]&lt;='9')) 
           {
              pomocna_rijec+=recenica[j];
              j++;
           }
            if(pomocna_rijec==razdvojeni[i]) rez[razdvojeni[i]].insert(temp);
          
       }
       
  
   } 
   
<a name="3"></a><font color="#00FFFF"><a href="match623-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_3.gif"/></a>

    return rez;
}

void IspisiIndeksPojmova (map&lt;string, set&lt;int&gt;&gt;rezultat)
{
    for(auto it=rezultat.begin(); it!=rezultat.end(); it++)
</font>    {
        vector&lt;int&gt;vektor;
        
       
       
        for(auto it2=it-&gt;second.begin(); it2!=it-&gt;second.end(); it2++)
        {
            vektor.push_back(*it2);
        } 
        cout &lt;&lt; it-&gt;first &lt;&lt; ": ";
        for(int i=0; i&lt;vektor.size(); i++)
        {
            if(i==vektor.size()-1) cout&lt;&lt;vektor[i]&lt;&lt;endl;
            else  cout&lt;&lt;vektor[i]&lt;&lt;",";
        }
    }
}

set&lt;int&gt; PretraziIndeksPojmova(string rijec, map&lt;string, set&lt;int&gt;&gt; rezultat)
{
    for(int i=0; i&lt;rijec.length(); i++)
    {
            if(rijec[i]&gt;='A' &amp;&amp; rijec[i]&lt;='Z') rijec[i]+=32;
    }
    if(rezultat.find(rijec)!=rezultat.end())
    return rezultat[rijec];
    throw std:: logic_error("Unesena rijec nije nadjena!");
}


int main ()
{
    string recenica;
    cout&lt;&lt;"Unesite tekst: ";
    std:: getline(cin, recenica);
    map&lt;string, set&lt;int&gt;&gt;rezultat(KreirajIndeksPojmova(recenica));
    IspisiIndeksPojmova(rezultat);
    while(1)
    {
        cout&lt;&lt;"Unesite rijec: ";
        string rijec;
        std:: getline(cin, rijec);
        if(rijec==".") break;
       
        try
        {
            set&lt;int&gt;zarijec(PretraziIndeksPojmova(rijec, rezultat));
            for(auto it=zarijec.begin(); it!=zarijec.end(); it++)
            {
                cout&lt;&lt;*it&lt;&lt;" ";
            }
            cout&lt;&lt;endl;
        }
        catch(std:: logic_error izuzetak)
        {
            cout&lt;&lt;"Unesena rijec nije nadjena!"&lt;&lt;endl;
        }
    }
    
    
   
    
    
    return 0;
  
}</pre>
</body>
</html>
