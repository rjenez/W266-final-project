<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z2/student3350.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z2/student2634.cpp<p></p><pre>
#include &lt;iostream&gt;
#include &lt;map&gt;
#include &lt;string&gt;
#include &lt;set&gt;
#include &lt;stdexcept&gt;

using namespace std;

void IspisiIndeksPojmova(map &lt;string, set&lt;int&gt;&gt; index) {
    for(auto x: index) {
        cout&lt;&lt;x.first&lt;&lt;": ";
<a name="2"></a><font color="#0000FF"><a href="match250-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_8.gif"/></a>

        int br=0, vel=distance(x.second.begin(),x.second.end());
        for(auto y: x.second) {
            br++;
            if(br==vel) cout&lt;&lt;y;
</font>            else cout&lt;&lt;y&lt;&lt;",";
        }
        cout&lt;&lt;"\n";
    }
}

<a name="0"></a><font color="#FF0000"><a href="match250-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_31.gif"/></a>

set &lt;int&gt; PretraziIndeksPojmova(string rijec, map&lt;string, set&lt;int&gt;&gt; index) {
    if(!index.count(rijec)) throw logic_error("Unesena rijec nije nadjena!");
    return index[rijec];
}

map&lt;string, set&lt;int&gt;&gt; KreirajIndeksPojmova(string text) {
    map&lt;string, set&lt;int&gt;&gt; indexPojmova;
    set&lt;int&gt;pocetak {};
    for(int i=0;i&lt;text.size();i++) {
        string temp=string();
        while(i!=text.size() &amp;&amp; text[i]==' ') i++;
        int indeks=i;
        while(i!=text.size() &amp;&amp; text[i]!=' ') {
</font><a name="3"></a><font color="#00FFFF"><a href="match250-0.html#3" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_7.gif"/></a>

            temp=temp+text[i];
            i++;
        }
        if(!indexPojmova.count(temp))indexPojmova.insert(make_pair(temp,pocetak));
        indexPojmova[temp].insert(indeks);
    }
    return indexPojmova;
}

int main() {
</font>    cout&lt;&lt;"Unesite tekst: ";
    string text;
    getline(cin, text);
    IspisiIndeksPojmova(KreirajIndeksPojmova(text));
    while(1) {
<a name="1"></a><font color="#00FF00"><a href="match250-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_19.gif"/></a>

        cout&lt;&lt;"Unesite rijec: ";
        string rijec;
        cin&gt;&gt;rijec;
        if(rijec==".")break;
        try{
            set&lt;int&gt;S=PretraziIndeksPojmova(rijec, KreirajIndeksPojmova(text));
            int br=0, vel=distance(S.begin(), S.end());
            for(auto x: S) {
                br++;
                if(br==vel) cout&lt;&lt;x;
                else cout&lt;&lt;x&lt;&lt;" ";
</font>            }
            cout&lt;&lt;"\n";
        }
        catch (logic_error izuzetak) {
            cout&lt;&lt;izuzetak.what();
            cout&lt;&lt;"\n";
        }
    }
    return 0;
}</pre>
</body>
</html>
