<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z2/student4639.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z2/student2547.cpp<p></p><pre>
<a name="0"></a><font color="#FF0000"><a href="match199-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_99.gif"/></a>

/B2016/2017: ZadaÄ‡a 3, Zadatak 2
#include &lt;iostream&gt;
#include &lt;string&gt;
#include &lt;map&gt;
#include &lt;set&gt;
#include &lt;cstring&gt;

using namespace std;

bool DaLiPostoji(string rijec,map &lt;string, set&lt;int&gt;&gt; index){
    bool postoji = false;
    if(index.find(rijec) != index.end()){
        postoji = true;
    }
    
    return postoji;
}

set&lt;int&gt; PretraziIndeksPojmova (string rijec,map&lt;string,set&lt;int&gt;&gt; index){
    
    for(auto x : index){
        
        if(x.first == rijec){
            return x.second;
        }
       
     }
     
     return set&lt;int&gt; ();
}


map&lt;string,set&lt;int&gt;&gt; KreirajIndeksPojmova (string tekst){
    
    char * token = std::strtok( (char *) tekst.c_str(), " ");
    
    
    map &lt;string,set&lt;int&gt;&gt; rez;
    int index = 0;
    
    while(token != NULL)
    {
        if(rez.size() &gt; 0){
            
            if(DaLiPostoji(string(token), rez)){
            rez[string(token)].insert(index);
             }else{
              set&lt;int&gt;a;
               a.insert(index);
               rez.insert(make_pair(string(token), a));
         }
    }else{
        set&lt;int&gt;a;
        a.insert(index);
        rez.insert(make_pair(string(token), a));
    }
    
    index += strlen(token) + 1;
    token = strtok(NULL," ");
    }
    
    
    return rez;
}
//.... POPRAVITI .........
void IspisiIndeksPojmova (map&lt;string, set&lt;int&gt;&gt; index_pojmova){
      
    for(auto x : index_pojmova){
        cout&lt;&lt; x.first &lt;&lt; ": ";
        int i = 0;
       for(auto y : x.second){
          cout&lt;&lt; y &lt;&lt; ( (i == x.second.size() - 1 ) ? "" : "," );
          i++;
       }
        cout&lt;&lt;endl;
    }
    
}
int main ()
{
    /*
    map&lt;string,set&lt;int&gt;&gt; a = KreirajIndexPojmova("abc qwe stsda abc abc dhi qwe hrkw dhi ");
    
    for(auto x : a){
        cout&lt;&lt; x.first &lt;&lt; " : ";
        
        for(auto y : x.second){
            cout&lt;&lt; y&lt;&lt;",";
        }
        cout&lt;&lt;endl;
    }
    
    
    for(auto u : PretraziIndexPojmova("hrw",a)){
        cout&lt;&lt; u &lt;&lt; ",";
    }
    */
    
    string unos;
    cout&lt;&lt;"Unesite tekst: ";
    getline(cin,unos);
    
     map&lt;string,set&lt;int&gt;&gt; index_pojmova = KreirajIndeksPojmova(unos);
    
    for(auto x : index_pojmova){
        cout&lt;&lt; x.first &lt;&lt; ": ";
        int i = 0;
       for(auto y : x.second){
          cout&lt;&lt; y &lt;&lt; ( (i == x.second.size() - 1 ) ? "" : "," );
          i++;
       }
        cout&lt;&lt;endl;
    }

  //  IspisiIndexPojmova(index_pojmova);
    string rijec;
    while(rijec != "."){
        cout&lt;&lt;"Unesite rijec: " ;
        cin.clear();
        getline (cin,rijec);
        int i = 0;
        set&lt;int&gt;indexi = PretraziIndeksPojmova(rijec,index_pojmova);
        if(indexi.size() == 0 &amp;&amp; rijec.length() &gt; 0 &amp;&amp; rijec != "."){
            cout&lt;&lt;"Unesena rijec nije nadjena!\n";
            continue;
        }
      
        for(auto u : indexi){
            cout&lt;&lt; u &lt;&lt; ( (i != indexi.size() - 1) ? " " : " " );
              i++;  
            
        }
        cout&lt;&lt;endl;
</font>    }
	return 0;
}</pre>
</body>
</html>
