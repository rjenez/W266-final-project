<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z2/student7492.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z2/student7492.cpp<p></p><pre>
/B2016/2017: ZadaÄ‡a 3, Zadatak 2
#include &lt;iostream&gt;
#include &lt;map&gt;
#include &lt;vector&gt;
#include &lt;string&gt;
#include &lt;set&gt;
#include &lt;stdexcept&gt;

std::string PojediSpaceove(std::string string){
   /* auto pok=string.begin();
    int brojac(0);
    int brojac2(0);
    int a(0);
    auto pok2=string.begin();
    auto pok3=string.end();
    std::string novi;
    while(pok !=pok3 &amp;&amp; pok2!=pok3){
        while(*pok2!=' ' &amp;&amp; pok2!=pok3){    // ja   sam mala palacink
            brojac++;
            pok2++;
        }
        while(*pok2==' ' &amp;&amp; pok2!=pok3){
            pok2++;
            brojac2++;
        }
        pok=pok2;
        novi+=string.substr(a,brojac)+" ";
        a=a+brojac+brojac2;
        brojac=0;
        brojac2=0;
    }*/
    std::string novi=string+" ";
    return novi;
}

std::vector&lt;std::string&gt; IzdvojiRijeciUVektor(std::string string,std::vector&lt;std::set&lt;int&gt;&gt; &amp;sett){
    std::vector&lt;std::string&gt; vektor;
    string=PojediSpaceove(string);
    auto it1=string.begin();
    auto it2=string.end();
    int brojac(0);
    int k(0);
    while(it1!=it2){
        if((*it1&gt;='a' &amp;&amp; *it1&lt;='z') || (*it1&gt;='0' &amp;&amp; *it1&lt;='9')){
            brojac++;
            if((it1+1)==it2){
                std::string rijec=string.substr(k,brojac);
                vektor.push_back(rijec);
            }
        }
        
        else{
            bool postoji(false);
            int b(0);
            std::string rijec=string.substr(k,brojac);
            if(rijec!=""){
            for(int i(0);i&lt;vektor.size();i++){
                if(rijec==vektor[i]){
                    postoji=true;
                    b=i;
                    break;
                }
            }
            std::set&lt;int&gt; pomocni;
            pomocni.insert(k);
            if(postoji==false) {vektor.push_back(rijec); sett.push_back(pomocni);}
            else{
                sett[b].insert(k);
            }}
            k+=brojac+1;
            brojac=0;
            postoji=false;
            }
        it1++;    
        }
    return vektor;
}

std::map&lt;std::string,std::set&lt;int&gt;&gt; KreirajIndeksPojmova(std::string string){
    std::map&lt;std::string,std::set&lt;int&gt;&gt; mapa;
    for(auto &amp;c: string) c=tolower(c);
    std::vector&lt;std::set&lt;int&gt;&gt; sett;
    std::vector&lt;std::string&gt; vektorstringova=IzdvojiRijeciUVektor(string,sett);
    for(int i(0);i&lt;vektorstringova.size();i++){
        mapa[vektorstringova[i]]=sett[i];
    }
    return mapa;
}

std::set&lt;int&gt; PretraziIndeksPojmova(std::string rijec,std::map&lt;std::string,std::set&lt;int&gt;&gt; mapa){
    std::set&lt;int&gt; sett;
    bool postoji(false);
    for(auto it=mapa.begin();it!=mapa.end();it++){
        if(rijec==(it-&gt;first)){
            auto x = it-&gt;second;
            sett=x;
            postoji=true;
        }
    }
    if(!postoji) throw std::logic_error("Pojam nije nadjen");
    return sett;
}

void IspisiIndeksPojmova(std::map&lt;std::string,std::set&lt;int&gt;&gt; mapica){
<a name="2"></a><font color="#0000FF"><a href="match590-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_4.gif"/></a>

    for(auto it=mapica.begin();it!=mapica.end();it++){
        std::cout&lt;&lt;it-&gt;first&lt;&lt;": ";
        auto it3=(it-&gt;second).begin();
</font>        int brojac(0);
<a name="0"></a><font color="#FF0000"><a href="match590-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_7.gif"/></a>

        for(auto it2=(it-&gt;second).begin();it2!=(it-&gt;second).end();it2++){
            brojac++;
            it3++;
            if(brojac==(it-&gt;second).size()) std::cout&lt;&lt;*it2;
            else std::cout&lt;&lt;*it2&lt;&lt;",";
        }
        std::cout&lt;&lt;std::endl;
</font>    }
}


int main ()
{
    std::string s;
    std::cout&lt;&lt;"Unesite tekst: ";
    std::getline(std::cin,s);
    std::map&lt;std::string,std::set&lt;int&gt;&gt; mapica;
    mapica=KreirajIndeksPojmova(s);
    IspisiIndeksPojmova(mapica);
    for(;;){
    std::cout&lt;&lt;"Unesite rijec: ";
    std::string rijec;
    std::getline(std::cin,rijec);
    if(rijec==".") break;
    std::set&lt;int&gt; setara;
    try{
<a name="1"></a><font color="#00FF00"><a href="match590-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_5.gif"/></a>

    setara=PretraziIndeksPojmova(rijec,mapica);
    for(auto ite=setara.begin();ite!=setara.end();ite++){
        std::cout&lt;&lt;*ite&lt;&lt;" ";
             }
    std::cout&lt;&lt;std::endl;
        }
    catch(...){
</font>        std::cout&lt;&lt;"Unesena rijec nije nadjena!"&lt;&lt;std::endl;
    }}
	return 0;
}</pre>
</body>
</html>
