<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z2/student6706.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z2/student2941.cpp<p></p><pre>
/B2016/2017: ZadaÄ‡a 3, Zadatak 2
#include &lt;iostream&gt;
#include &lt;map&gt;
#include &lt;set&gt;
#include &lt;string&gt;
#include &lt;utility&gt;

using namespace std;

set&lt;int&gt; VratiSkup(string s, string trazeni) {
     
    set&lt;int&gt; skup;
    int i(0);
    while(i&lt;s.size()) {
        int br=0;
<a name="4"></a><font color="#FF00FF"><a href="match319-0.html#4" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_4.gif"/></a>

        while(((s[i]&gt;='0' &amp;&amp; s[i]&lt;='9') ||  (s[i]&gt;='A' &amp;&amp; s[i]&lt;='Z') || (s[i]&gt;='a' &amp;&amp; s[i]&lt;='z')) &amp;&amp; i&lt;s.length()) { 
            if(s[i]&gt;='A' &amp;&amp; s[i]&lt;='Z') s[i]=s[i]+32;
</font>            br++;
            i++; 
        }
        if(s.substr(i-br,br)==trazeni) {
            skup.insert(i-br);
        }
        i++;
    }
    return skup;
}

map&lt;string, set&lt;int&gt; &gt; KreirajIndeksPojmova(string tekst) {
    map&lt;string, set&lt;int&gt; &gt; mapa;
    int i(0);
    while(i&lt;tekst.length()){
        int br=0;
        while (((tekst[i]&gt;='0' &amp;&amp; tekst [i]&lt;='9') ||  (tekst[i]&gt;='A' &amp;&amp; tekst [i]&lt;='Z') || (tekst[i]&gt;='a' &amp;&amp; tekst [i]&lt;='z')) &amp;&amp; i&lt;tekst.length()) { 
            if(tekst[i]&gt;='A' &amp;&amp; tekst[i]&lt;='Z') tekst[i]=tekst[i]+32;
            br++; i++; 
            
        }
        if(br==0) { i++; continue; }
        
        auto it=mapa.begin();
        bool ima=false;
        while(it!=mapa.end()){
            if(it-&gt;first==tekst.substr(i-br,br)) ima=true;
            it++;
        }
        
        if(ima) { i++; continue; }
        mapa.insert(make_pair(tekst.substr(i-br,br),VratiSkup(tekst,tekst.substr(i-br,br))));
<a name="3"></a><font color="#00FFFF"><a href="match319-0.html#3" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_4.gif"/></a>

        i++;
    }
    
    return mapa;
}

set&lt;int&gt; PretraziIndeksPojmova(string rijec, map&lt;string, set&lt;int&gt; &gt; IndeksPojmova) {
    auto it=IndeksPojmova.begin();
</font>    while(it!=IndeksPojmova.end()) {
        if(it-&gt;first==rijec) return it-&gt;second;
        it++;
    }
    throw logic_error ("Pojam nije nadjen");
}

<a name="0"></a><font color="#FF0000"><a href="match319-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_6.gif"/></a>

void IspisiIndeksPojmova(map&lt;string, set&lt;int&gt; &gt; IndeksPojmova) {
    auto it=IndeksPojmova.begin();
    while(it!=IndeksPojmova.end()) {
        cout&lt;&lt;it-&gt;first &lt;&lt; ": ";
        auto it3=it-&gt;second.end();
</font>        it3--;
        for(auto it2=it-&gt;second.begin();it2!=it-&gt;second.end(); it2++){
            if(it2==it3) cout&lt;&lt;*it2;
            else cout&lt;&lt;*it2&lt;&lt;",";
        }
<a name="2"></a><font color="#0000FF"><a href="match319-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_5.gif"/></a>

        cout&lt;&lt;endl;
        it++;
    }
}
int main ()
{
    string tekst;
    cout&lt;&lt;"Unesite tekst: ";
    getline(cin,tekst);
    
    map&lt;string, set&lt;int&gt; &gt; IP=KreirajIndeksPojmova(tekst);
    IspisiIndeksPojmova(IP);
    while(true) {
</font>        cout&lt;&lt; "Unesite rijec: ";
        string rijec;
        getline(cin,rijec);
        if(rijec==".") return 0;
<a name="1"></a><font color="#00FF00"><a href="match319-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_6.gif"/></a>

        try{
            set&lt;int&gt; indeksi=PretraziIndeksPojmova(rijec,IP);
            for(auto a=indeksi.begin();a!=indeksi.end();a++){
                cout&lt;&lt;*a&lt;&lt;" ";
            }
        }catch(logic_error e) { cout&lt;&lt;"Unesena rijec nije nadjena!"&lt;&lt;endl; continue; }
</font>        cout&lt;&lt;endl;
    }
    
	return 0;
}</pre>
</body>
</html>
