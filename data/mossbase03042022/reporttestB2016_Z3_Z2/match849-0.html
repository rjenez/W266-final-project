<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z2/student1649.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z2/student1649.cpp<p></p><pre>
/B2016/2017: ZadaÄ‡a 3, Zadatak 2
#include &lt;iostream&gt;
#include &lt;map&gt;
#include &lt;string&gt;
#include &lt;set&gt;
#include &lt;stdexcept&gt;
char UMalo(char x){
    if(x&gt;='A' &amp;&amp; x&lt;='Z') return x+('a'-'A');
    return x;
}
std::map&lt;std::string, std::set&lt;int&gt;&gt; KreirajIndeksPojmova(std::string Tekst){
    std::map&lt;std::string,std::set&lt;int&gt;&gt; Indeks;
    int i(0);
    while(i&lt;Tekst.length()){
        if((UMalo(Tekst[i])&gt;='a' &amp;&amp; UMalo(Tekst[i])&lt;='z') || (Tekst[i]&gt;='0' &amp;&amp; Tekst[i]&lt;='9')){
            int j(i);
            while(j&lt;Tekst.length()) if((UMalo(Tekst[j])&gt;='a' &amp;&amp; UMalo(Tekst[j])&lt;='z') || (Tekst[j]&gt;='0' &amp;&amp; Tekst[j]&lt;='9')) j++; else break;
            std::string Rijec(Tekst.substr(i,j-i));
            for(auto &amp;x:Rijec) x=UMalo(x);
            //std::cout&lt;&lt;"\nxxNASAO SAM RIJEC:"&lt;&lt;Rijec;
            Indeks[Rijec];
            auto it(Indeks.find(Rijec));
            it-&gt;second.insert(i);
            i=j;
        }else i++;
    }
    return Indeks;
}
std::set&lt;int&gt; PretraziIndeksPojmova(std::string Rijec, std::map&lt;std::string,std::set&lt;int&gt;&gt; Indeks){
<a name="1"></a><font color="#00FF00"><a href="match849-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_8.gif"/></a>

    for(auto &amp;x: Rijec) x=UMalo(x);
    auto it(Indeks.find(Rijec));
    if(it==Indeks.end()) throw std::logic_error("Pojam nije nadjen\n");
    return it-&gt;second;
}
void IspisiIndeksPojmova(std::map&lt;std::string,std::set&lt;int&gt;&gt; Indeks){
</font>    for(auto x:Indeks){
        std::cout&lt;&lt;x.first&lt;&lt;": ";
        int i(0),j(x.second.size());
        auto it(x.second.begin());
        while(i&lt;j){
            std::cout&lt;&lt;*it++;
            if(i!=j-1) std::cout&lt;&lt;",";
            i++;
        }
        std::cout&lt;&lt;"\n";
    }
}
int main ()
{
<a name="0"></a><font color="#FF0000"><a href="match849-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_15.gif"/></a>

    std::cout&lt;&lt;"Unesite tekst: ";
    std::string Tekst;
    std::getline(std::cin, Tekst);
    auto Indeks(KreirajIndeksPojmova(Tekst));
    IspisiIndeksPojmova(Indeks);
    for(;;){
        std::string Unos;
        std::cout&lt;&lt;"Unesite rijec: ";
        std::getline(std::cin, Unos);
        if(Unos==".") break;
        try{
            auto Pozicije(PretraziIndeksPojmova(Unos, Indeks));
            for(auto x: Pozicije) std::cout&lt;&lt;x&lt;&lt;" ";
            std::cout&lt;&lt;"\n";
</font>        }catch(std::logic_error izuzetak){
            std::cout&lt;&lt;"Unesena rijec nije nadjena!\n";
        }
    }
	return 0;
}</pre>
</body>
</html>
