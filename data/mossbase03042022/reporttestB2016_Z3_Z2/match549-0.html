<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z2/student6534.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z2/student6534.cpp<p></p><pre>
/B2016/2017: ZadaÄ‡a 3, Zadatak 2
#include &lt;iostream&gt;
#include &lt;string&gt;
#include &lt;map&gt;
#include &lt;set&gt;
#include &lt;stdexcept&gt;
#include &lt;cctype&gt;
#include &lt;algorithm&gt;

std::map&lt;std::string,std::set&lt;int&gt;&gt; KreirajIndeksPojmova(std::string s){
    std::map&lt;std::string,std::set&lt;int&gt;&gt; glavna_mapa;
    
    // pretvori u mala slova string
    std::transform (s.begin(), s.end(), s.begin(), std::ptr_fun(tolower));
    auto p(&amp;s[0]);
    for(int i=0;i&lt;s.length();i++){
<a name="1"></a><font color="#00FF00"><a href="match549-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_5.gif"/></a>

        if (*p==' ' || *p&lt;'0' || (*p&gt;'9' &amp;&amp; *p&lt;'A') || (*p&gt;'Z'&amp;&amp; *p&lt;'a') || *p&gt;'z'){
</font>            p++;
            continue;
        }
        int br(0);
        std::string rijec;
        bool imarijec(false);
<a name="2"></a><font color="#0000FF"><a href="match549-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_5.gif"/></a>

        while( p!=(s.length()+&amp;s[0]) and ((*p&gt;='0'&amp;&amp; *p&lt;='9') || (*p&gt;='A'&amp;&amp; *p&lt;='Z') || (*p&gt;='a'&amp;&amp; *p&lt;='z'))){
</font>            p++;
            br++;
            imarijec=true;
        }
        if(imarijec){
        rijec=s.substr(i,br);
        //std::cout &lt;&lt; rijec &lt;&lt; std::endl;
        if(!glavna_mapa.count(rijec)) 
            glavna_mapa[rijec].insert(i);
        else glavna_mapa[rijec].insert(i);
        }
        i=i+br-1;
    }
    return glavna_mapa;
}

std::set&lt;int&gt; PretraziIndeksPojmova(std::string s, std::map&lt;std::string,std::set&lt;int&gt;&gt; mapa){
    if(!mapa.count(s))
    throw std::logic_error("Unesena rijec nije nadjena!");
    else return mapa[s];
}

void IspisiIndeksPojmova(std::map&lt;std::string, std::set&lt;int&gt;&gt; glavna){
    for(auto it=glavna.begin(); it!=glavna.end(); it++){
        std::cout&lt;&lt;it-&gt;first&lt;&lt;": ";
        int brojac(0);
        for(int x:it-&gt;second){
           if(brojac==it-&gt;second.size()-1)  
<a name="0"></a><font color="#FF0000"><a href="match549-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_13.gif"/></a>

                std::cout&lt;&lt;x;
            else{
            std::cout&lt;&lt;x&lt;&lt;",";
            brojac++;
            }
        } 
        std::cout&lt;&lt;std::endl;
    }
}

int main ()
{   std::cout &lt;&lt; "Unesite tekst: ";
    std::string tekst;
    std::getline(std::cin,tekst);
    std::map&lt;std::string, std::set&lt;int&gt;&gt; rjesenje(KreirajIndeksPojmova(tekst));
    //ispis rjecnika
    IspisiIndeksPojmova(rjesenje);
    std::string rijec;
</font>    std::string kraj(".");
    do {
        std::cout &lt;&lt; "\nUnesite rijec: " ;
        std::getline(std::cin,rijec);
        if(rijec==kraj) break;
        //ispis za tu rijec
        try{
            std::set&lt;int&gt; skup;
           skup=PretraziIndeksPojmova(rijec, rjesenje); 
           for(int x:skup) std::cout&lt;&lt;x&lt;&lt;" ";
        }
        catch (std::logic_error err){
            std::cout &lt;&lt; err.what() ;
        }
    }
    while(rijec!=kraj);
	return 0;
}</pre>
</body>
</html>
