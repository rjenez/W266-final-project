<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z2/student8051.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z2/student2340.cpp<p></p><pre>
<a name="1"></a><font color="#00FF00"><a href="match586-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_7.gif"/></a>

/B2016/2017: ZadaÄ‡a 3, Zadatak 2
#include &lt;iostream&gt;
#include &lt;string&gt;
#include &lt;map&gt;
#include &lt;vector&gt;
#include &lt;stdexcept&gt;
#include &lt;set&gt;
#include &lt;algorithm&gt;
#include &lt;iterator&gt;
#include &lt;cstring&gt;
#include &lt;cctype&gt;

bool DaLiJeIspravan(char c){
  
    if ((c&gt;='A' &amp;&amp; c&lt;='z') || (c&gt;='0' &amp;&amp; c&lt;='9') ) return true;
</font>    else return false;
 
}

std::string malaslova(std::string rijec){
    std::string rez(rijec);
    for(int i=0; i&lt;rijec.length();i++){
        rez[i]=std::tolower(rijec[i]);
    }
    return rez;
}


void IspisiIndeksPojmova(std::map&lt;std::string,std::set&lt;int&gt;&gt; mapa){
    for(auto it=mapa.begin(); it!=mapa.end(); it++){
<a name="0"></a><font color="#FF0000"><a href="match586-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_12.gif"/></a>

        std::cout&lt;&lt;it-&gt;first&lt;&lt;": ";
            for(auto it2=it-&gt;second.begin(); it2!=it-&gt;second.end(); it2++){
            if(it2==it-&gt;second.begin())
                std::cout&lt;&lt;*it2;
            else
                std::cout&lt;&lt;","&lt;&lt;*it2;
    }
    std::cout&lt;&lt;std::endl;
</font>}
}


std::map&lt;std::string,std::set&lt;int&gt;&gt;  KreirajIndeksPojmova(std::string text){
    std::map&lt;std::string,std::set&lt;int&gt;&gt; Mapa;
    std::vector&lt;std::string&gt; rijeci;
    std::vector&lt;int&gt; v;

 
    for(int i=0; i&lt;text.length();i++) 
    {
       std::string rijec1;
        int pozicija=i;
        while(DaLiJeIspravan(text[i])){
            rijec1+=text[i];
            i++;
        }
        if (rijec1!="")  Mapa[malaslova(rijec1)].insert(pozicija);
        
    }
    
    return Mapa;
}

std::set&lt;int&gt; PretraziIndeksPojmova(std::string rijec, std::map&lt;std::string, std::set&lt;int&gt;&gt; Mapica){

   
    auto k(malaslova(rijec));
    auto it(Mapica.find(k));
    if (it == Mapica.end() )
        throw std::logic_error("Pojam nije nadjen");
    return Mapica[k];

}

int main ()
{
    std::string textic,rijec;
    std::vector&lt;int&gt; v;
    std::vector&lt;std::string&gt; s;
    std::cout&lt;&lt;"Unesite tekst: ";
    std::getline(std::cin,textic);
    
  auto d=KreirajIndeksPojmova(textic);
    IspisiIndeksPojmova(d);
    
    for(;;){
        std::cout&lt;&lt;"Unesite rijec: ";
        std::getline(std::cin,rijec);
        if(rijec==".") break;
    
        try {
            auto pre=PretraziIndeksPojmova(rijec,d);
<a name="2"></a><font color="#0000FF"><a href="match586-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_5.gif"/></a>

            for(int x : pre) std::cout&lt;&lt;x&lt;&lt;" ";
            std::cout&lt;&lt;std::endl;
        }
        catch(std::logic_error e)  {
            std::cout &lt;&lt; "Unesena rijec nije nadjena!"&lt;&lt;std::endl;
</font>        }
        
    }
	return 0;
}</pre>
</body>
</html>
