<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z2/student4614.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z2/student1202.cpp<p></p><pre>
/B2016/2017: ZadaÄ‡a 3, Zadatak 2
#include &lt;iostream&gt;
#include &lt;map&gt;
#include &lt;set&gt;
#include &lt;string&gt;
#include &lt;vector&gt;
#include &lt;utility&gt;
#include &lt;iterator&gt;
#include &lt;stdexcept&gt;
using namespace std;
bool JeliBila(map&lt;string, set&lt;int&gt;&gt; mapa, string x)
{
    auto it(mapa.find(x));
    if(it == mapa.end()) return false;
    return true;
}
<a name="1"></a><font color="#00FF00"><a href="match719-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_6.gif"/></a>

void IspisiSkup(set&lt;int&gt; skup)
{
    for(auto it = skup.begin(); it != skup.end(); it++)
    {
        auto test(it);
        test++;
        if(test==skup.end())cout&lt;&lt;*it;
</font>        else cout&lt;&lt;*it&lt;&lt;",";
    }
}
map&lt;string, set&lt;int&gt;&gt; KreirajIndeksPojmova(string s)
{
    map&lt;string, set&lt;int&gt;&gt; mapa;
    int brojac(0), pozicija(0);
    string temp;
    for (int i=0; i &lt; s.length(); i++)
    {
        if (s[i] !=  ' ')
        {
            brojac++;
            int j = i;
<a name="2"></a><font color="#0000FF"><a href="match719-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_6.gif"/></a>

            while (s[j] != ' ' &amp;&amp; j &lt; s.length()) j++;
            if(brojac&gt;0)
            {
                pozicija+=i;
                temp=s.substr (i, j-i);
</font>                if(!JeliBila(mapa, temp))
                {
                    set&lt;int&gt; skup;
                    skup.insert(pozicija);
<a name="3"></a><font color="#00FFFF"><a href="match719-0.html#3" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_6.gif"/></a>

                    mapa.insert(make_pair(temp, skup));
                }
                else
                {
                    auto it(mapa.find(temp));
                    it-&gt;second.insert(pozicija);

                }
                i=j;
                pozicija=0;
            }
        }
    }
    return mapa;
}


set&lt;int&gt;PretraziIndeksPojmova(string x, map&lt;string, set&lt;int&gt;&gt; mapa)
</font>{
    auto it(mapa.find(x));
    if(it == mapa.end()) throw logic_error("Unesena rijec nije nadjena!");
    return it-&gt;second;
}


<a name="0"></a><font color="#FF0000"><a href="match719-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_9.gif"/></a>

void IspisiIndeksPojmova(map&lt;string, set&lt;int&gt;&gt; mapa)
{
    for(auto it = mapa.begin(); it != mapa.end(); it++)
    {
        cout&lt;&lt;it-&gt;first &lt;&lt;": ";
        IspisiSkup(it-&gt;second);
        cout&lt;&lt;endl;
    }
}

int main()
{
    map&lt;string, set&lt;int&gt;&gt; mapa;
</font>    string text;
    cout&lt;&lt;"Unesite tekst: ";
    getline(cin, text);
    mapa=KreirajIndeksPojmova(text);
    IspisiIndeksPojmova(mapa);
    for(;;)
    {
        string rijec;
        cout&lt;&lt;"Unesite rijec: ";
        getline(cin, rijec);
        if(rijec==".") break;
        else
        {
            try
            {
                for(auto x: PretraziIndeksPojmova(rijec, mapa)) cout&lt;&lt;x&lt;&lt;" ";
                cout&lt;&lt;endl;
            }
            catch(logic_error x)
            {
                cout&lt;&lt;x.what()&lt;&lt;endl;
            }
        }
    }
    return 0;
}
</pre>
</body>
</html>
