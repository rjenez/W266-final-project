<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z2/student5378.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z2/student3315.cpp<p></p><pre>
#include &lt;string&gt;
#include &lt;map&gt;
#include &lt;iostream&gt;
#include &lt;set&gt;
#include &lt;stdexcept&gt;

<a name="0"></a><font color="#FF0000"><a href="match123-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_99.gif"/></a>

std::map&lt;std::string,std::set&lt;int&gt;&gt; KreirajIndeksPojmova(std::string s){
    for(int i=0;i&lt;s.length();i++){
        if(s[i]&gt;='A'&amp;&amp; s[i]&lt;='Z'){
            s[i]+='a'-'A';
        }
    }
    std::map&lt;std::string,std::set&lt;int&gt;&gt; mapa;
    int i(0);
    while(i&lt;s.length()){
        while((s[i]&lt;'A' &amp;&amp; s[i]&gt;'9') || (s[i]&lt;'a' &amp;&amp; s[i]&gt;'Z' ) || (s[i]&lt;'0' || s[i]&gt;'z' )){
            i++;
            if(i==s.length()) break;
        }
        int brojac_slova(0),pocetak(i);
        while((s[i]&gt;='A' &amp;&amp; s[i]&lt;='Z') || (s[i]&gt;='a' &amp;&amp; s[i]&lt;='z') || (s[i]&gt;='0' &amp;&amp; s[i]&lt;='9')){
            i++;
            brojac_slova++;
            if(i==s.length()) break;
        }
        std::string temp;
        temp=s.substr(pocetak,brojac_slova);
        if(temp!=""){
        mapa[temp].insert(pocetak);
        }
        i++;
    }
    return mapa;
}

void IspisiIndeksPojmova(std::map&lt;std::string,std::set&lt;int&gt;&gt; moja_mapa){
    auto it(moja_mapa.begin());
    while(it!=moja_mapa.end()){
        std::cout&lt;&lt;(it-&gt;first)&lt;&lt;": ";
        auto iter(it-&gt;second.begin());
        int brojac(0);
        while(iter!=(it-&gt;second.end())){
            if(brojac==(it-&gt;second).size()-1){
                std::cout&lt;&lt;*iter;
                break;
            }
            std::cout&lt;&lt;*iter&lt;&lt;",";
            iter++;
            brojac++;
        }
        std::cout&lt;&lt;std::endl;
        it++;
    }
    
}
std::set&lt;int&gt; PretraziIndeksPojmova(std::string pojam,std::map&lt;std::string,std::set&lt;int&gt;&gt; moja_mapa){
    auto it(moja_mapa.begin());
    while(it!=moja_mapa.end()){
        if(it-&gt;first==pojam){
            return it-&gt;second;
        }
        it++;
    }
    throw std::logic_error("Unesena rijec nije nadjena!");
}

int main ()
{
    std::string s;
    std::cout&lt;&lt;"Unesite tekst: ";
    std::getline(std::cin,s);
    std::map&lt;std::string,std::set&lt;int&gt;&gt; moja_mapa;
    moja_mapa=KreirajIndeksPojmova(s);
    IspisiIndeksPojmova(moja_mapa);
    std::string str;
    do{
    std::cout&lt;&lt;"Unesite rijec: ";
    getline(std::cin,str);
    std::set&lt;int&gt; skupic;
    if(str==".")break;
    try{
    skupic=PretraziIndeksPojmova(str,moja_mapa);
    }catch(std::logic_error izuzetak){
        std::cout&lt;&lt;izuzetak.what()&lt;&lt;std::endl;
        std::cout&lt;&lt;"Unesite rijec: ";
        return 0;
    }
    auto iterator(skupic.begin());
    while (iterator!=skupic.end()) {
        std::cout&lt;&lt;*iterator++&lt;&lt;" ";
        
    }
    std::cout&lt;&lt;std::endl;
    }while(str!=".");
</font>	return 0;
}</pre>
</body>
</html>
