<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z2/student6332.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z2/student4949.cpp<p></p><pre>
#include &lt;iostream&gt;
#include&lt;map&gt;
#include&lt;set&gt;
#include&lt;stdexcept&gt;
<a name="0"></a><font color="#FF0000"><a href="match57-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_99.gif"/></a>

using std::endl;
using std::logic_error;
using std::cin;
using std::cout;
using std::string;
using std::set;
using std::map;


map&lt;string,set&lt;int&gt;&gt; KreirajIndeksPojmova(string s)
{
    map&lt;string,set&lt;int&gt;&gt; mapa;
    

    
    for(int i=0; i&lt;s.size(); i++) {
        int k=0;
        string pom;
        if(i&lt;s.size() &amp;&amp; ((s[i]&gt;='a' &amp;&amp; s[i]&lt;='z') || (s[i]&gt;='A' &amp;&amp; s[i]&lt;='Z') || (s[i]&gt;='0' &amp;&amp; s[i]&lt;='9'))){
        while(i&lt;s.size() &amp;&amp; ((s[i]&gt;='a' &amp;&amp; s[i]&lt;='z') || (s[i]&gt;='A' &amp;&amp; s[i]&lt;='Z') || (s[i]&gt;='0' &amp;&amp; s[i]&lt;='9'))) {
            if(s[i]&gt;='A' &amp;&amp; s[i]&lt;='Z') s[i]=s[i]+'a'-'A';
            pom.push_back(s[i]);
            i++;
        }
        k=i-pom.size();
        
        set&lt;int&gt; skup;
        if(!mapa.count(pom)) mapa[pom].insert(k);
        else {
            for(auto it=mapa.begin(); it!=mapa.end(); it++) {
                if(pom==(it-&gt;first)) (it-&gt;second).insert(k);
                
            }
        }
        }
    while(i&lt;s.size() &amp;&amp; s[i]&lt;'A' &amp;&amp; s[i]&gt;'Z' &amp;&amp; s[i]&lt;'a' &amp;&amp; s[i]&gt;'z' &amp;&amp; s[i]&lt;'1' &amp;&amp; s[i]&gt;'9') i++;

    }
    
    return mapa;
}

set&lt;int&gt; PretraziIndeksPojmova(string pom, map&lt;string,set&lt;int&gt;&gt; mapa){
    for(int i=0;i&lt;pom.size();i++)
        if(pom[i]&gt;='A' &amp;&amp; pom[i]&lt;='Z') pom[i]=pom[i]+'a'-'A';
    
    set&lt;int&gt; skup;
    int brojac=0;
    for(auto it=mapa.begin();it!=mapa.end();it++){
        if(pom==it-&gt;first) brojac++;
    }
    if(!brojac) throw logic_error("Pojam nije nadjen");
    
    for(auto it=mapa.begin();it!=mapa.end();it++){
        if(pom==it-&gt;first) return it-&gt;second;
    }
    
    
}

void IspisiIndeksPojmova(map&lt;string, set&lt;int&gt;&gt; mapa){
    
    for(auto it=mapa.begin();it!=mapa.end();it++){
        cout&lt;&lt;it-&gt;first&lt;&lt;": ";
        auto itt=(it-&gt;second).begin();
        for(int i=0;i&lt;distance((it-&gt;second).begin(),(it-&gt;second).end())-1;i++){ cout&lt;&lt;*itt&lt;&lt;",";itt++;}
        cout&lt;&lt;*itt;
        cout&lt;&lt;endl;
    }
    
}

int main ()
{
    string s;
    cout&lt;&lt;"Unesite tekst: ";
    getline(cin, s);
    IspisiIndeksPojmova(KreirajIndeksPojmova(s));
    for(;;){
        cout&lt;&lt;"Unesite rijec: ";
        string s1;
        getline(cin, s1);
        if(s1==".") break;
        try{
        auto skup=PretraziIndeksPojmova(s1, KreirajIndeksPojmova(s));
        auto it=skup.begin();
        for(int i=0;i&lt;distance(skup.begin(), skup.end())-1;i++){ cout&lt;&lt;*it&lt;&lt;" ";
        it++;
        }
        cout&lt;&lt;*it;
        
        cout&lt;&lt;endl;
        }
        catch(logic_error izuzetak){
            cout&lt;&lt;"Unesena rijec nije nadjena!"&lt;&lt;endl;
</font>        }
        
    }
    return 0;
}</pre>
</body>
</html>
