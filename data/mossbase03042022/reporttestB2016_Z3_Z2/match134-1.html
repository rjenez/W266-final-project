<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z2/student8724.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z2/student2126.cpp<p></p><pre>
<a name="0"></a><font color="#FF0000"><a href="match134-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_99.gif"/></a>

/B2016/2017: ZadaÄ‡a 3, Zadatak 2
#include &lt;iostream&gt;
#include &lt;map&gt;
#include &lt;set&gt;
#include &lt;string&gt;
#include &lt;cctype&gt;
#include &lt;stdexcept&gt;
#include &lt;vector&gt;

using std::cin;
using std::cout;
using std::endl;
using std::map;
using std::set;
using std::string;
using std::make_pair;
using std::logic_error;
using std::vector;



set&lt;int&gt; PretraziIndeksPojmova(string rijec, map&lt;string, set&lt;int&gt;&gt; IndexPojmova){
        for(char x : rijec) x=tolower(x);
        if(!IndexPojmova.count(rijec)) throw logic_error ("Pojam nije nadjen");
        else return IndexPojmova[rijec];
}


void IspisiIndeksPojmova(map&lt;string,set&lt;int&gt;&gt; IndexPojmova){
 
    for(auto i:IndexPojmova){
       // if(i.first.empty() ) continue;
        cout&lt;&lt; i.first &lt;&lt; ": ";
        int b = i.second.size();
        int brojac = 0;
        for(auto j: i.second){
            cout &lt;&lt; j;
            if(brojac != b - 1)
            cout &lt;&lt; ',';
            brojac++;
            
        }
        cout&lt;&lt;endl;
        
    }

}

map&lt;string,set&lt;int&gt;&gt; KreirajIndeksPojmova(string tekst){
            vector&lt;string&gt; temp;
            vector&lt;int&gt; tempp;
            string temp1;
            
            for(auto &amp;x : tekst) x=tolower(x); //treba referenca na x jer se nece mijenjat string
            
            for(int i=0; i&lt;tekst.length(); i++){
                int brojac=0;
                while ( (i&lt;tekst.length()) &amp;&amp; ((tekst[i]&gt;='0' &amp;&amp; tekst[i]&lt;='9') || (tekst[i]&gt;='a' &amp;&amp; tekst[i]&lt;='z') || (tekst[i]&gt;='A' &amp;&amp; tekst[i]&lt;='Z')) ){
                    brojac++;
                    i++;
                }
                    
                temp1=tekst.substr(i-brojac, brojac);
                temp.push_back(temp1);
                tempp.push_back(abs(i-temp1.length()));
            }
            vector&lt;set&lt;int&gt;&gt; brojpon(temp.size()); 
            
            for(int i=0;i&lt;temp.size();i++){    //nema -1 kod temp.size
                brojpon[i].insert(tempp[i]);
                for(int j=i+1;j&lt;temp.size();j++){
                    if(temp[i]==temp[j]){
                        brojpon[i].insert(tempp[j]);
                        temp.erase(temp.begin()+j);
                        tempp.erase(tempp.begin()+j);
                        j--;
                    }
                }
            }
            
            map&lt;string,set&lt;int&gt;&gt; IndexPojmova;
        
            for(int i=0; i&lt;temp.size(); i++){           
                if (temp[i].empty()) i++;//nema -1 kod temp.size
                else IndexPojmova.insert(make_pair(temp[i], brojpon[i]));
            }
    
    return IndexPojmova;
}


int main (){
 
     
        cout&lt;&lt;"Unesite tekst: ";
        string tekst;
        getline(cin,tekst);
        auto IndexPojmova=KreirajIndeksPojmova(tekst);
        IspisiIndeksPojmova(IndexPojmova);
        string rijec;
        cout&lt;&lt;endl;
        while(1){
        cout&lt;&lt;"Unesite rijec: ";
        try{
        getline(cin,rijec);
        if(rijec==".") return 0;
        
        set &lt;int&gt; sets=PretraziIndeksPojmova(rijec, IndexPojmova);
        for(auto x: sets)cout&lt;&lt;x&lt;&lt;" ";
        cout&lt;&lt;endl;
        }catch(logic_error h){
            cout&lt;&lt;"Unesena rijec nije nadjena!"&lt;&lt;endl;
</font>        }
    }
    
   
    
	return 0;
}</pre>
</body>
</html>
