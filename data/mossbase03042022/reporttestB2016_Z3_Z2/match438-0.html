<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z2/student8755.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z2/student8755.cpp<p></p><pre>
<a name="1"></a><font color="#00FF00"><a href="match438-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_6.gif"/></a>

/B2016/2017: ZadaÄ‡a 3, Zadatak 2
#include &lt;iostream&gt;
#include &lt;map&gt;
#include &lt;string&gt;
#include &lt;set&gt;
#include &lt;stdexcept&gt;
typedef std::map&lt;std::string, std::set&lt;int&gt;&gt; Map;
</font>bool Znak(char a)
{
    return ((a&lt;'A' || (a&gt;'Z' &amp;&amp; a&lt;'a') || a&gt;'z') &amp;&amp; (a&lt;'0' || a&gt;'9'));
}
bool VelikoSlovo(char a)
{
    return(a&gt;='A' &amp;&amp; a&lt;='Z');
}
Map KreirajIndeksPojmova(std::string tekst)
{
    Map indeksi;
    for(int i=0; i&lt;tekst.size(); i++)
    {
        if((i==0 || Znak(tekst[i-1])) &amp;&amp; !Znak(tekst[i]))
        {
            int poc(i);
            while(i!=tekst.size() &amp;&amp; !Znak(tekst[i]))
            {
                if(VelikoSlovo(tekst[i])) tekst[i]+=32;
                i++;
            }
            auto rijec(tekst.substr(poc,i-poc));
            std::set&lt;int&gt; skup;
            skup.insert(poc);
            if(!indeksi.count(rijec)) indeksi.insert(std::make_pair(rijec, skup));
            else indeksi[rijec].insert(poc);
        }
        if(i==tekst.size()) break;
    }
    return indeksi;
    
}
<a name="2"></a><font color="#0000FF"><a href="match438-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_5.gif"/></a>

std::set&lt;int&gt; PretraziIndeksPojmova(std::string rijec, Map indeksi)
{
    for(int i=0; i&lt;rijec.length(); i++)
        if(VelikoSlovo(rijec[i])) rijec[i]+=32;
</font>    if(!indeksi.count(rijec))   throw std::logic_error("Pojam nije nadjen");
    else return indeksi[rijec];
}
<a name="3"></a><font color="#00FFFF"><a href="match438-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_5.gif"/></a>

void IspisiIndeksPojmova(Map indeksi)
{
    for(auto it=indeksi.begin(); it!=indeksi.end(); it++)
    {
        std::cout&lt;&lt;it-&gt;first&lt;&lt;": ";
</font>        for(auto it2=(it-&gt;second).begin(); it2!=(it-&gt;second).end(); it2++)
            if(it2==--(it-&gt;second).end())  std::cout&lt;&lt;*it2&lt;&lt;std::endl;
            else std::cout&lt;&lt;*it2&lt;&lt;",";
    }
}
int main ()
{
	std::string tekst;
	std::cout&lt;&lt;"Unesite tekst: ";
	std::getline(std::cin, tekst);
	auto indeksi(KreirajIndeksPojmova(tekst));
	IspisiIndeksPojmova(indeksi);
	for(;;)
	{
	    std::string s;
	    std::cout&lt;&lt;"Unesite rijec: ";
	    std::getline(std::cin, s);
	    if(s==".")  return 0;
	    else 
	    {
	        try
	        {
<a name="0"></a><font color="#FF0000"><a href="match438-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_10.gif"/></a>

	            auto set(PretraziIndeksPojmova(s,indeksi));
	            for(auto it=set.begin(); it!=set.end(); it++)   std::cout&lt;&lt;*it&lt;&lt;" ";
	            std::cout&lt;&lt;std::endl;
	        }
	        catch(...)
	        {
	            std::cout&lt;&lt;"Unesena rijec nije nadjena!"&lt;&lt;std::endl;
</font>	        }
	    
	    }
	}
}</pre>
</body>
</html>
