<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z2/student3320.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z2/student3320.cpp<p></p><pre>
<a name="0"></a><font color="#FF0000"><a href="match55-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_99.gif"/></a>

/B2016/2017: ZadaÄ‡a 3, Zadatak 2
#include &lt;iostream&gt;
#include &lt;string&gt;
#include &lt;vector&gt;
#include &lt;map&gt;
#include &lt;set&gt;
#include &lt;utility&gt;
#include &lt;iomanip&gt;
#include &lt;algorithm&gt;
#include &lt;cstring&gt;
#include &lt;stdexcept&gt;

bool Provjera(char slovo) {
    if((slovo&gt;='0' &amp;&amp; slovo&lt;='9') || (slovo&gt;='A' &amp;&amp; slovo&lt;='Z') || (slovo&gt;='a' &amp;&amp; slovo&lt;='z')) return true;
    else return false;
}

std::string MalaSlova(std::string s) {
    std::transform(s.begin(), s.end(), s.begin(), ::tolower);
    return s;
}

std::vector&lt;std::string&gt; VeSt(std::string s) {
    std::vector&lt;std::string&gt; temp;
    for(int i=0; i&lt;s.size(); i++) {
        std::string unos;
        int brojac=0;
        while(i&lt;s.size() &amp;&amp; (Provjera(s[i]))) {
            brojac++;
            i++;
        }
        unos=s.substr(i-brojac, brojac);
        temp.push_back(unos);
    }
    return temp;
}

std::map&lt;std::string, std::set&lt;int&gt;&gt; KreirajIndeksPojmova(std::string Analiza) {
    std::map&lt;std::string, std::set&lt;int&gt;&gt; maps;
    std::string temp(MalaSlova(Analiza));
    std::vector&lt;std::string&gt; rijec(VeSt(temp));
    std::sort(rijec.begin(), rijec.end());
    rijec.erase(unique(rijec.begin(), rijec.end()), rijec.end());
    
    for(int a=0; a&lt;rijec.size(); a++) {
        std::set&lt;int&gt; temp1;
        int b;
        for(b=0; b&lt;temp.size(); b++) {
            if(rijec[a]==temp.substr(b ,rijec[a].size())) temp1.insert(b);
        }
        maps.insert(std::make_pair(rijec[a], temp1));
    }
    return maps;
}

std::set&lt;int&gt; PretraziIndeksPojmova (std::string s, std::map&lt;std::string, std::set&lt;int&gt;&gt; &amp;maps) {
    for(auto it1=maps.begin(); it1!=maps.end(); it1++) {
        if((*it1).first == s) return (*it1).second;
    }
    throw std::logic_error("Pojam nije nadjen");
}

void IspisiIndeksPojmova(std::map&lt;std::string, std::set&lt;int&gt;&gt; maps) {
    for(auto it1=maps.begin(); it1!=maps.end(); it1++) {
        auto it2(it1-&gt;second.begin());
        std::cout &lt;&lt; (*it1).first &lt;&lt; ": ";
        for(auto i=0; i&lt;(*it1).second.size(); i++) {
            if(i!=(it1-&gt;second.size()-1)) {
                std::cout &lt;&lt; *it2++ &lt;&lt; ",";
            } else  {
                std::cout &lt;&lt; *it2;
            }
        }
        std::cout &lt;&lt; std::endl;
    }
}

int main () {
    std::string s;
    std::cout &lt;&lt; "Unesite tekst: ";
    std::getline(std::cin, s);
    std::map&lt;std::string, std::set&lt;int&gt;&gt; maps(KreirajIndeksPojmova(s));
    IspisiIndeksPojmova(maps);
    while(1) {
        std::string s1;
        std::cout &lt;&lt; "Unesite rijec: ";
        std::getline(std::cin, s1);
        if(s1[0]=='.') break;
        try {
            std::set&lt;int&gt;temp(PretraziIndeksPojmova(s1, maps));
            auto it=temp.begin();
            for(int i=0; i&lt;temp.size(); i++) {
                if(i!=temp.size()-1) {
                    std::cout &lt;&lt; *it++ &lt;&lt; " ";
                } else {
                    std::cout &lt;&lt; *it;
                }
            }
            std::cout &lt;&lt; std::endl;
        } catch (...) {
            std::cout &lt;&lt; "Unesena rijec nije nadjena!" &lt;&lt; std::endl;
</font>        }
    }
	return 0;
}</pre>
</body>
</html>
