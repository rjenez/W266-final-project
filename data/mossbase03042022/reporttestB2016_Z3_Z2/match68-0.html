<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z2/student2701.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z2/student2701.cpp<p></p><pre>
<a name="0"></a><font color="#FF0000"><a href="match68-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_99.gif"/></a>

/B2016/2017: ZadaÄ‡a 3, Zadatak 2
#include &lt;iostream&gt;
#include &lt;set&gt;
#include &lt;string&gt;
#include &lt;map&gt;
#include &lt;algorithm&gt;
#include &lt;vector&gt;
#include &lt;stdexcept&gt;
#include &lt;cstring&gt;

using namespace std;

bool DaLiJeJednaka(string mojarijec, vector&lt;string&gt; rijeci){
    for(int i=0;i&lt;rijeci.size();i++){
        if(mojarijec==rijeci[i]) return 1;
    }
    return 0;
}

map&lt;string,set&lt;int&gt;&gt; KreirajIndeksPojmova (string mojstring){
    map&lt;string,set&lt;int&gt;&gt; mojamapa;
    vector&lt;string&gt; rijeci;
    string mojarijec;
    int j=0;
    mojstring.c_str();
    while(j&lt;mojstring.size()){
        if(mojstring[j]&gt;='A' &amp;&amp; mojstring[j]&lt;='Z') mojstring[j]+=32;
        j++;
    }
    

    for(int i=0;i&lt;mojstring.size();i++){
    
   
    while(( mojstring[i]&lt;'0' || (mojstring[i]&gt;'9'&amp;&amp; mojstring[i]&lt;'a') || mojstring[i]&gt;'z') &amp;&amp; i&lt;mojstring.size()) 
    i++;  
    while(((mojstring[i]&gt;='0' &amp;&amp; mojstring[i]&lt;='9') || (mojstring[i]&gt;='a' &amp;&amp; mojstring[i]&lt;='z' )) &amp;&amp; i&lt;mojstring.size())
    {
        mojarijec.push_back(mojstring[i]); i++;
    }
        if(DaLiJeJednaka(mojarijec,rijeci)==0 &amp;&amp; mojarijec.size()!=0) rijeci.push_back(mojarijec);
        mojarijec="";
        
    }
    
    
    for(int i=0;i&lt;rijeci.size();i++){
        set&lt;int&gt; skupindeksa;
        for(int j=0;j&lt;mojstring.size();j++){
            string rijeckojutrazim;
            int s=j;
            while( ((mojstring[j]&gt;='0' &amp;&amp; mojstring[j]&lt;='9') || (mojstring[j]&gt;='a' &amp;&amp; mojstring[j]&lt;='z')) &amp;&amp; mojstring[j]!='\0'){
                rijeckojutrazim.push_back(mojstring[j]);
                j++;
            }
            if(rijeckojutrazim==rijeci[i]) skupindeksa.insert(s);
            
        }
        
        mojamapa.insert(make_pair(rijeci[i],skupindeksa));
        
        
    }
    
    return mojamapa;
}





set&lt;int&gt; PretraziIndeksPojmova(string mojstring, map&lt;string,set&lt;int&gt;&gt; mojamapa){
    set&lt;int&gt; skupindeksa;

auto it(mojamapa.find(mojstring));
if(it==mojamapa.end()) throw logic_error("Pojam nije nadjen");
else skupindeksa=(it-&gt;second);

return skupindeksa;
}


void IspisiIndeksPojmova(map&lt;string,set&lt;int&gt;&gt; mojamapa){
    for(auto it=mojamapa.begin(); it!=mojamapa.end();it++){
        cout&lt;&lt;it-&gt;first&lt;&lt;": ";
        int brojac=0;
        for(auto x: it-&gt;second){
            brojac++;
            if(brojac!=(it-&gt;second.size())) cout&lt;&lt;x&lt;&lt;",";
            else cout&lt;&lt;x;
        }
        cout&lt;&lt;endl;
        }
    }
    



int main ()
{
    try{
cout&lt;&lt;"Unesite tekst: ";
string s;
getline(cin,s);

map&lt;string,set&lt;int&gt;&gt; mapaa;
mapaa=KreirajIndeksPojmova(s);
IspisiIndeksPojmova(mapaa);
string f;
do{
  cout&lt;&lt;"Unesite rijec: ";
  
  getline(cin,f);
  
  if(f==".") break;
  set&lt;int&gt; rez;
  int brojac1=0;
  for(auto it=mapaa.begin();it!=mapaa.end();it++){
      if(f!=(it-&gt;first)) brojac1++;
  }
  
  if(brojac1!=mapaa.size()){
  rez=PretraziIndeksPojmova(f,mapaa);
  for(auto x:rez) cout&lt;&lt;x&lt;&lt;" ";
  cout&lt;&lt;endl; }
  else  cout&lt;&lt;"Unesena rijec nije nadjena!"&lt;&lt;endl;
    
}while(f!=".");
    
    }catch(logic_error izuzetak){cout&lt;&lt;izuzetak.what();}
</font>	return 0;
}</pre>
</body>
</html>
