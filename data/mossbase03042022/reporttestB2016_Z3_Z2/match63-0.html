<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z2/student7810.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z2/student7810.cpp<p></p><pre>
<a name="0"></a><font color="#FF0000"><a href="match63-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_99.gif"/></a>

/B2016/2017: ZadaÄ‡a 3, Zadatak 2
#include &lt;iostream&gt;
#include &lt;map&gt;
#include &lt;set&gt;
#include &lt;string&gt;
#include &lt;vector&gt;
#include &lt;stdexcept&gt;
using std::cout;
using std::cin;
using std::endl;
using std::string;
using std::vector;
using std::set;
using std::map;
using std::make_pair;
using std::logic_error;
string Uvecu (string s){
    string novi;
    for(int i=0;i&lt;s.length();i++) novi.push_back(toupper(s[i]));
    return novi;
}
string Umanju (string s){
    string novi;
    for(int i=0;i&lt;s.length();i++) novi.push_back(tolower(s[i]));
    return novi;
}
bool SlovoIliBroj (char c){
    return (((c&gt;='A' &amp;&amp; c&lt;='Z') || (c&gt;='a' &amp;&amp; c&lt;='z') || (c&gt;='0' &amp;&amp; c&lt;='9')));
}
map&lt;string,set&lt;int&gt;&gt; KreirajIndeksPojmova (string s){
    vector&lt;string&gt; v;
    bool prva(true);
    for(int i=0;i&lt;s.length();i++){
        if(!SlovoIliBroj(s[i])) continue;
        else{
            string rijec;
            while(SlovoIliBroj(s[i])){
                rijec.push_back(s[i]); i++;
            }
            if(prva) {v.push_back(rijec);}
            else{
                bool ima(false);
                for(int j=0;j&lt;v.size();j++){
                    if(Uvecu(v[j])==Uvecu(rijec)) {ima=true;break;}
                }
                if (!ima) v.push_back(Umanju(rijec));
            }
            prva=false;
        }
    }
    vector&lt;set&lt;int&gt;&gt; ves(v.size());
    for(int i=0;i&lt;v.size();i++){
        for(int j=0;j&lt;s.length();j++){
            if(!SlovoIliBroj(s[j])) continue;
            else{
                int poc(j);
                string rijec;
                while(SlovoIliBroj(s[j])){
                    rijec.push_back(s[j]);
                    j++;
                }
                if(Uvecu(rijec)==Uvecu(v[i])){
                    ves[i].insert(poc);
                }
            }
        }
    }
    map&lt;string,set&lt;int&gt;&gt; mapa;
    for(int i=0;i&lt;v.size();i++){
        mapa.insert(std::make_pair(v[i],ves[i]));
    }
    return mapa;
}
set&lt;int&gt; PretraziIndeksPojmova (string s,map&lt;string,set&lt;int&gt;&gt; mapa){
    auto it(mapa.begin());
    for(it=(mapa.begin());it!=mapa.end();it++){
        if((it-&gt;first)==s) break;
    }
    if(it==mapa.end()) throw logic_error ("Pojam nije nadjen");
    else {return (it-&gt;second);}
}
void IspisiIndeksPojmova (map&lt;string,set&lt;int&gt;&gt; mapa){
    for(auto it(mapa.begin());it!=mapa.end();it++){
        cout&lt;&lt;it-&gt;first&lt;&lt;": ";
        for(auto it1((it-&gt;second).begin());it1!=(it-&gt;second).end();it1++){
            if(it1==(it-&gt;second).begin()) cout&lt;&lt;*it1;
            else cout&lt;&lt;","&lt;&lt;*it1;
        }
        cout&lt;&lt;endl;
    }
}
int main ()
{
    cout&lt;&lt;"Unesite tekst: ";
    string s;
    getline(cin,s);
    map&lt;string,set&lt;int&gt;&gt; mapa(KreirajIndeksPojmova(s));
    IspisiIndeksPojmova(mapa);
    for(;;){
        cout&lt;&lt;"Unesite rijec: ";
        string str;
        getline(cin,str);
        if(str==".") break;
        try{
            set&lt;int&gt; skup(PretraziIndeksPojmova(str,mapa));
            for(auto it(skup.begin());it!=skup.end();it++) cout&lt;&lt;*it&lt;&lt;" ";
            cout&lt;&lt;endl;
        }
        catch(logic_error izuzetak){
            cout&lt;&lt;"Unesena rijec nije nadjena!"&lt;&lt;endl;
</font>        }
    }
	return 0;
}</pre>
</body>
</html>
