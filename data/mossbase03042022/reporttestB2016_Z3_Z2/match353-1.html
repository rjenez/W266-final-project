<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z2/student5830.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z2/student5673.cpp<p></p><pre>
/B2016/2017: ZadaÄ‡a 3, Zadatak 2
#include &lt;iostream&gt;
#include &lt;map&gt;
#include &lt;string&gt;
#include &lt;set&gt;
#include &lt;vector&gt;
#include &lt;stdexcept&gt;

using namespace std;

vector&lt;string&gt; IzbaciVisak (vector&lt;string&gt; v)
{
    for (int i = 0; i &lt; v.size(); i++)
    {
        for (int j = i + 1; j &lt; v.size(); j++)
        {
            if (v[i] == v[j])
            {
                for (int k = j; k &lt; v.size() - 1; k++) v[k] = v[k + 1];
                v.resize(v.size() - 1);
                j--;
            }
            
        }
    }
    
    return v;
}

vector&lt;string&gt; KreirajMatricu (string s)
{
    vector&lt;string&gt; v;
    v.push_back("");
    
    for (int i = 0; i &lt; s.size(); i++)
    {
        if (isalnum(s[i]))
        {
            v[v.size() - 1] += s[i];
        }
        else v.push_back("");
    }
    
<a name="0"></a><font color="#FF0000"><a href="match353-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_7.gif"/></a>

    v = IzbaciVisak(v);
    
    return v;
}

map&lt;string, set&lt;int&gt;&gt; KreirajIndeksPojmova (string s)
{
    for (int i = 0; i &lt; s.size(); i++)
    {
        if (s[i] &gt; 'A' &amp;&amp; s[i] &lt; 'Z') s[i] += 32;
    }
    
    vector&lt;string&gt; v = KreirajMatricu(s);
</font>    
<a name="3"></a><font color="#00FFFF"><a href="match353-0.html#3" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_4.gif"/></a>

    map&lt;string, set&lt;int&gt;&gt; m;
    
    for (int i = 0; i &lt; v.size(); i++)
    {
        set&lt;int&gt; Insert;
        
        for (int j = 0; j &lt; s.size(); j++)
</font>        {
            int p = j;
            
            if (isalnum(s[j]))
            {
                while (isalnum(s[j])) j++;
                
                int k = j;
                
<a name="1"></a><font color="#00FF00"><a href="match353-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_5.gif"/></a>

                if (s.substr(p, k - p) == v[i]) Insert.insert(p);
            }
        }
        m.insert(make_pair(v[i], Insert));
    }
    
    return m;
}

set&lt;int&gt; PretraziIndeksPojmova (string s, map&lt;string, set&lt;int&gt;&gt; m)
</font>{
    for (int i = 0; i &lt; s.size(); i++)
    {
        if (s[i] &gt; 'A' &amp;&amp; s[i] &lt; 'Z') s[i] += 32;
        
    }
    auto it = m.find(s);
    if (it == m.end()) throw logic_error ("Unesena rijec nije nadjena!");
    else return it-&gt;second;
}

void IspisiIndeksPojmova (map&lt;string, set&lt;int&gt;&gt; m)
{
    for (auto i = m.begin(); i != m.end(); i++)
    {
        for (auto j = i-&gt;first.begin(); j != i-&gt;first.begin(); j++) tolower(*j);
    }
    for (auto i = m.begin(); i != m.end(); i++)
    {
        int max = *(i-&gt;second.begin());
        
        for (auto j = i-&gt;second.begin(); j != i-&gt;second.end(); j++)
        {
            if (*j &gt; max) max = *j;
        }
        cout &lt;&lt; i-&gt;first &lt;&lt; ": ";
        for (auto j = i-&gt;second.begin(); j != i-&gt;second.end(); j++)
        {
            if (*j != max) cout &lt;&lt; *j &lt;&lt; ",";
<a name="2"></a><font color="#0000FF"><a href="match353-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_4.gif"/></a>

            else cout &lt;&lt; *j;
        } cout &lt;&lt; endl;
    }
}

int main ()
{
    cout &lt;&lt; "Unesite tekst: ";
    string s;
    getline(cin, s);
    
    map&lt;string, set&lt;int&gt;&gt; m = KreirajIndeksPojmova(s);
    
    IspisiIndeksPojmova(m);
</font>    
    string r;
    do
    {
        cout &lt;&lt; "Unesite rijec: ";
        getline(cin, r);
        
        if (r == ".") return 0;
        
        try {
            set&lt;int&gt; st = PretraziIndeksPojmova(r, m);
        
            for (auto i = st.begin(); i != st.end(); i++) cout &lt;&lt; *i &lt;&lt; " ";
            cout &lt;&lt; endl;
        }
        catch (logic_error x) 
        {
            cout &lt;&lt; x.what() &lt;&lt; endl;;
        }
    } while (r != ".");
    
	return 0;
}</pre>
</body>
</html>
