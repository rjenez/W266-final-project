<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z2/student3133.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z2/student9438.cpp<p></p><pre>
/B2016/2017: ZadaÄ‡a 3, Zadatak 2
#include &lt;iostream&gt;
#include &lt;string&gt;
#include &lt;map&gt;
#include &lt;set&gt;
#include &lt;stdexcept&gt;

<a name="0"></a><font color="#FF0000"><a href="match229-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_91.gif"/></a>

std::map&lt;std::string, std::set&lt;int&gt;&gt; KreirajIndeksPojmova(std::string s){
    std::map&lt;std::string, std::set&lt;int&gt;&gt; mapa;
    std::string::iterator it(s.begin());
    int brojac(0);
    while(it!=s.end()){
        while(!(*it&lt;='9'&amp;&amp;*it&gt;='0')&amp;&amp;!(*it&gt;='a'&amp;&amp;*it&lt;='z')&amp;&amp;!(*it&gt;='A'&amp;&amp;*it&lt;='Z')){
            it++;
            if(it==s.end()) break;
            brojac++;
        }
        int pozicija(brojac);
        while((*it&gt;='a'&amp;&amp;*it&lt;='z')||(*it&gt;='A'&amp;&amp;*it&lt;='Z')||(*it&gt;='0'&amp;&amp;*it&lt;='9')){
            brojac++;
            it++;
        }
        std::string rijec(s.substr(pozicija,brojac-pozicija));
        mapa[rijec].insert(pozicija);
    }
    return mapa;
}

std::set&lt;int&gt; PretraziIndeksPojmova(std::string rijec, std::map&lt;std::string, std::set&lt;int&gt;&gt; mapa){
    if(mapa.find(rijec)==mapa.end()) throw std::logic_error("Pojam nije nadjen");
    return mapa.find(rijec)-&gt;second;
}

void IspisiIndeksPojmova(std::map&lt;std::string, std::set&lt;int&gt;&gt; mapa){
    for(auto x: mapa){
        std::cout&lt;&lt;x.first&lt;&lt;": ";
        int i=0;
        for(int a: x.second){
            std::cout&lt;&lt;a;
            i++;
            if(i!=x.second.size()) std::cout&lt;&lt;",";
        }
        std::cout&lt;&lt;std::endl;
    }
}

int main ()
{
    std::cout&lt;&lt;"Unesite tekst: ";
    std::string s;
    std::getline(std::cin, s);
    auto mapa(KreirajIndeksPojmova(s));
    IspisiIndeksPojmova(mapa);
   /* for(auto x: mapa){
        std::cout&lt;&lt;x.first&lt;&lt;": ";
        int i(0);
        for(int a: x.second){
            i++;
            std::cout&lt;&lt;a;
            if(i!=x.second.size()) std::cout&lt;&lt;",";
        }
        std::cout&lt;&lt;std::endl;
    }*/
    std::string rijec;
    while(rijec!="."){
        std::cout&lt;&lt;"Unesite rijec: ";
        std::cin&gt;&gt;rijec;
        if(rijec==".") break;
        try{
            std::set&lt;int&gt; skup(PretraziIndeksPojmova(rijec, mapa));
            for(auto x: skup) std::cout&lt;&lt;x&lt;&lt;" ";
            std::cout&lt;&lt;std::endl;
        }
        catch(...){
            std::cout&lt;&lt;"Unesena rijec nije nadjena!"&lt;&lt;std::endl;
</font>        }
    }
	return 0;
}</pre>
</body>
</html>
