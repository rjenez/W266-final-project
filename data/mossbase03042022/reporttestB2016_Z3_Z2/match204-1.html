<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z2/student8846.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z2/student5636.cpp<p></p><pre>
<a name="0"></a><font color="#FF0000"><a href="match204-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_99.gif"/></a>

/B2016/2017: ZadaÄ‡a 3, Zadatak 2
#include &lt;iostream&gt;
#include &lt;map&gt;
#include &lt;string&gt;
#include &lt;vector&gt;
#include &lt;iterator&gt;
#include &lt;set&gt;
#include &lt;stdexcept&gt;
typedef std::map&lt;std::string,std::vector&lt;int&gt; &gt; mapa;
bool JeLiSlovo(char c)
{
    return((c&gt;='a' &amp;&amp; c&lt;='z')||(c&gt;='A' &amp;&amp; c&lt;='Z')||(c&gt;='0' &amp;&amp; c&lt;='9'));
}

mapa KreirajIndeksPojmova(std::string &amp;recenica)
{
    mapa indeks;
   for(int i=0;i&lt;recenica.size();i++)
    {
        std::string pomocni;
        while(JeLiSlovo(recenica[i]) &amp;&amp; i!=(int)recenica.size()-1)
        {
            pomocni+=recenica[i];
            i++;
            if(i==(int)recenica.size()-1)
            {
                if(JeLiSlovo(recenica[i]))
                {
                    pomocni+=recenica[i];
                    break;
                }
            }
        }
        if(pomocni.size()!=0)
         {
             if(i==recenica.size()-1)
             {
                 indeks[pomocni].push_back(i-pomocni.size()+1);
             }
             else
             {
             indeks[pomocni].push_back(i-pomocni.size());
             i--;
             }
         }
    }
    return indeks;
}

std::vector&lt;int&gt; PretraziIndeksPojmova(const std::string rijec,mapa &amp;indeks)
{
    for(const auto &amp;p:indeks)
    {
        if(p.first==rijec) return p.second;
    }
    throw std::logic_error("Pojam nije nadjen");
}

void IspisiIndeksPojmova(mapa &amp;indeks)
{
    for (const auto &amp;p : indeks) 
    {
    std::cout&lt;&lt; p.first &lt;&lt; ": ";
        for(int i=0;i&lt;p.second.size();i++)
        {
            std::cout&lt;&lt;p.second[i];
             if(i!=p.second.size()-1) std::cout&lt;&lt;",";
        }
         std::cout&lt;&lt;"\n";
    }
}

int main ()
{
    std::cout&lt;&lt;"Unesite tekst: ";
    char c;
    std::string recenica;
    for(;;)
    {
        std::cin&gt;&gt;c;
        if(c!='.') recenica+=c;
        else break;
    }
     mapa indeks=KreirajIndeksPojmova(recenica);
     IspisiIndeksPojmova(indeks);
     for(;;)
     {
         std::cout&lt;&lt;"Unesite rijec: ";
         char a;
         std::string rijec;
         for(;;)
         {
             std::cin&gt;&gt;a;
             if(a=='.') return 0;
             else if(a!='\n') rijec+=a;
         }
         try
         {
            std::vector&lt;int&gt; pozicije=PretraziIndeksPojmova(rijec,indeks);
            for(int i=0;i&lt;(int)pozicije.size();i++)
            {
                std::cout&lt;&lt;pozicije[i]&lt;&lt;" ";
            }
         }
         catch(std::logic_error e)
         {
             std::cout&lt;&lt;"Unesena rijec nije nadjena!";
         }
     }
   /* std::string test="abc qwe stsda abc abc dhi qwe hrkw dhi";
    std::map&lt;std::string,std::vector&lt;int&gt;&gt; indeks=KreirajIndeksPojmova(test);
    IspisiIndeksPojmova(indeks);*/

	return 0;
</font>}</pre>
</body>
</html>
