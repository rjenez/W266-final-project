<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z2/student5961.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z2/student5961.cpp<p></p><pre>
#include &lt;iostream&gt;
#include &lt;stdexcept&gt;
#include &lt;cmath&gt;
#include &lt;cstdio&gt;
#include &lt;vector&gt;
#include &lt;deque&gt;
#include &lt;type_traits&gt;
#include &lt;string&gt;
#include &lt;iomanip&gt;
#include &lt;functional&gt;
#include &lt;set&gt;
#include &lt;map&gt;

<a name="0"></a><font color="#FF0000"><a href="match145-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_65.gif"/></a>

std::map&lt;std::string, std::set&lt;int&gt;&gt; KreirajIndeksPojmova(std::string s){
    std::map&lt;std::string, std::set&lt;int&gt;&gt; popis;
    for(int i(0); i &lt; s.length(); i++){
        int j = i;
        std::string rijec;
        if((s[i] &gt;= 'A' &amp;&amp; s[i] &lt;= 'K') || (s[i] &gt;= 'a' &amp;&amp; s[i] &lt;= 'z') || (s[i] &gt;= '0' &amp;&amp; s[i] &lt;= '9' &amp;&amp; j &lt; s.length())){
            while((s[j] &gt;= 'A' &amp;&amp; s[j] &lt;= 'K') || (s[j] &gt;= 'a' &amp;&amp; s[j] &lt;= 'z') || (s[j] &gt;= '0' &amp;&amp; s[j] &lt;= '9' &amp;&amp; j &lt; s.length())) {
                if(s[j] &gt;= 'a' &amp;&amp; s[j] &lt;= 'z') rijec.push_back(s[j]);
                else if(s[j] &gt;= 'A' &amp;&amp; s[j] &lt;= 'Z') rijec.push_back(s[j] + ('a' - 'A'));
                else rijec.push_back(s[j]);
                j++;
            }
            popis[rijec].insert(i);
            i = j;
        }
            
    }
    return popis;
}

void pretvoriUMala(std::string &amp;s){
    for(auto &amp;c: s){
        if(c &gt;= 'A' &amp;&amp; c &lt;= 'Z') c += 'a'-'A';
    }
}

std::set&lt;int&gt; PretraziIndeksPojmova(std::string rijec, std::map&lt;std::string, std::set&lt;int&gt;&gt; index_pojmova){
    pretvoriUMala(rijec);
    if(!index_pojmova.count(rijec)) throw std::logic_error("Unesena rijec nije nadjena!");
    std::set&lt;int&gt; pozicije;
    for(auto x: index_pojmova[rijec]){
        pozicije.insert(x);
    }
    return pozicije;
}

void IspisiIndeksPojmova(std::map&lt;std::string, std::set&lt;int&gt;&gt; index_pojmova){
    for(auto it = index_pojmova.begin(); it != index_pojmova.end(); it++){
</font><a name="1"></a><font color="#00FF00"><a href="match145-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_29.gif"/></a>

        std::cout &lt;&lt; it-&gt;first &lt;&lt; ": ";
        for(auto k = (it-&gt;second).begin(); k != (it-&gt;second).end(); k++){
            std::cout &lt;&lt; *k;
            auto p(k);
            p++;
            if(p != (it-&gt;second).end()) std::cout &lt;&lt; ",";
        }
        std::cout &lt;&lt; std::endl;
    }
}

int main (){
    std::cout &lt;&lt; "Unesite tekst: ";
    std::string tekst;
    std::getline(std::cin, tekst);
    auto index_pojmova(KreirajIndeksPojmova(tekst));
    IspisiIndeksPojmova(index_pojmova);
    while(true){
        std::string unos;
        std::cout &lt;&lt; "Unesite rijec: ";
        std::getline(std::cin, unos);
        if(unos == ".") break;
        try{
            auto pozicije = PretraziIndeksPojmova(unos, index_pojmova);
            for(int x: pozicije){
                std::cout &lt;&lt; x &lt;&lt; " ";
            }
        }
        catch(std::logic_error izuzetak){
            std::cout &lt;&lt; izuzetak.what();
        }
        std::cout &lt;&lt; std::endl;
</font>    }
	return 0;
}







</pre>
</body>
</html>
