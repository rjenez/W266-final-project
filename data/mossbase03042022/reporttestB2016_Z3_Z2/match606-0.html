<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z2/student7888.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z2/student7888.cpp<p></p><pre>
#include &lt;iostream&gt;
#include &lt;map&gt;
#include &lt;vector&gt;
#include &lt;string&gt;
#include &lt;set&gt;
#include &lt;stdexcept&gt;
#include &lt;cctype&gt;

    void PretvoriUMala(std::string &amp;S) {
      for ( int i = 0 ; i &lt; S.size(); i++ ) {
       if ( S[i]&gt;='A' &amp;&amp; S[i]&lt;='Z' ) S[i] = S[i]+32;
      }
    }
 std::map&lt;std::string,std::set&lt;int&gt;&gt; KreirajIndeksPojmova(std::string S) {
     std::map&lt;std::string,std::set&lt;int&gt;&gt; Mapa;
     PretvoriUMala(S);
     for ( int i = 0 ; i &lt; S.size(); i++) {
         while(!((S[i]&gt;='a' &amp;&amp; S[i]&lt;='z') || (S[i]&gt;='0' &amp;&amp; S[i] &lt;='9')) &amp;&amp; i &lt; S.size()) i++;
          std::string help;   auto j(i);
         while (((S[i]&gt;='a' &amp;&amp; S[i]&lt;='z') || (S[i]&gt;='0' &amp;&amp; S[i] &lt;='9')) &amp;&amp; i &lt; S.size()) {
          help.push_back(S[i]);
          i++;
         }
          auto it(Mapa.find(help));
          if ( it == Mapa.end())  Mapa[help].insert(j);
           else  it-&gt;second.insert(j);
     }
       return Mapa;
 }
  std::set&lt;int&gt; PretraziIndeksPojmova(std::string S,std::map&lt;std::string,std::set&lt;int&gt;&gt; Mapa) {
         std::set&lt;int&gt; skup;
         for ( auto it = Mapa.begin(); it != Mapa.end(); it++) {
          if ( S == it-&gt;first )  for (auto it2 = (it-&gt;second).begin(); it2 != (it-&gt;second).end();it2++) skup.insert(*it2);
        }
         int brojac(0);
         for ( auto it = skup.begin(); it != skup.end(); it++) brojac++;
<a name="0"></a><font color="#FF0000"><a href="match606-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_9.gif"/></a>

         if ( brojac == 0 ) throw std::logic_error("Pojam nije nadjen");
         return skup;
  }
  
   void IspisiIndeksPojmova(std::map&lt;std::string,std::set&lt;int&gt;&gt; Mapa) {
 for (auto it1 = Mapa.begin(); it1 != Mapa.end(); it1++ ) {
  std::cout&lt;&lt;it1-&gt;first&lt;&lt;": ";
    auto pomocni((it1-&gt;second).end());
</font>  pomocni--;
  for ( auto it2 = (it1-&gt;second).begin(); it2 != (it1-&gt;second).end();it2++) {

   if ( it2 == pomocni ) {
    std::cout&lt;&lt;*it2;
    break;
   }
   std::cout&lt;&lt;*it2&lt;&lt;",";
   
  }
  std::cout&lt;&lt;std::endl;
 }
   }
int main ()
{
 std::cout&lt;&lt;"Unesite tekst: ";
 std::string S;
 std::getline(std::cin,S);
 std::map&lt;std::string,std::set&lt;int&gt;&gt;Mapa{KreirajIndeksPojmova(S)};
<a name="1"></a><font color="#00FF00"><a href="match606-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_6.gif"/></a>

 IspisiIndeksPojmova(Mapa);
 for(;;){
  std::cout&lt;&lt;"Unesite rijec: ";
  std::string rijeci;
  std::getline(std::cin,rijeci);
  if (rijeci == ".") break;
  std::set&lt;int&gt; skup;
  try {
  skup = PretraziIndeksPojmova(rijeci,Mapa);
</font>  }
  catch (std::logic_error izuzetak) {
   std::cout&lt;&lt;"Unesena rijec nije nadjena!"&lt;&lt;std::endl;
   continue;
  }
<a name="2"></a><font color="#0000FF"><a href="match606-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_5.gif"/></a>

  for ( auto it = skup.begin(); it != skup.end(); it++) std::cout&lt;&lt;*it&lt;&lt;" ";
  std::cout&lt;&lt;std::endl;
</font>
 }
 
 
 
	return 0;
}</pre>
</body>
</html>
