<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z2/student9676.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z2/student9676.cpp<p></p><pre>
<a name="2"></a><font color="#0000FF"><a href="match381-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_5.gif"/></a>

/B2016/2017: ZadaÄ‡a 3, Zadatak 2
#include &lt;iostream&gt;
#include &lt;map&gt;
#include &lt;set&gt;
#include &lt;string&gt;
#include &lt;utility&gt;
#include &lt;cctype&gt;
#include &lt;stdexcept&gt;

bool je_slovo (char x){
    return ((x&gt;='a' &amp;&amp; x&lt;='z') ||(x&gt;='A' &amp;&amp; x&lt;='Z') || (x&gt;=0 &amp;&amp; x&lt;=9));
</font>}

std::map&lt;std::string, std::set&lt;int&gt;&gt; KreirajIndeksPojmova (std::string tekst){
    for(auto c: tekst) std::tolower(c);
    std::map&lt;std::string, std::set&lt;int&gt;&gt; mapa;
    
    for (int i=0; i&lt;tekst.length(); i++){
        if (je_slovo(tekst[i])){
            int j=i;
            while (je_slovo(tekst[i]) &amp;&amp; i!=tekst.length()){
                i++;
            }
            std::string pomocni(tekst.substr(j,i-j));
            auto it(mapa.find(pomocni));
            if (it == mapa.end()) mapa[pomocni].insert(j);
            else it-&gt;second.insert(j);
        }
    }
    
    return mapa;
}

std::set&lt;int&gt; PretraziIndeksPojmova (std::string rijec, std::map&lt;std::string, std::set&lt;int&gt;&gt; mapa){
    for (auto c: rijec) std::tolower(c);
<a name="0"></a><font color="#FF0000"><a href="match381-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_9.gif"/></a>

    auto it (mapa.find(rijec));
    if (it == mapa.end()) throw std::logic_error("Unesena rijec nije nadjena!");
    else return it-&gt;second;
}

void IspisiIndeksPojmova (std::map&lt;std::string, std::set&lt;int&gt;&gt; mapa){
    for (auto it=mapa.begin(); it!=mapa.end(); it++){
</font>        std::cout&lt;&lt;it-&gt;first&lt;&lt;": ";
            int n(0);
            for (auto it1=it-&gt;second.begin();it1!=it-&gt;second.end();it1++){
                n++;
                    if (n == it-&gt;second.size()) std::cout&lt;&lt;*it1&lt;&lt;std::endl;
               else  std::cout&lt;&lt;*it1&lt;&lt;",";
            }
    }
}


int main ()
{
  
        std::cout&lt;&lt;"Unesite tekst: ";
        std::string tekst;
<a name="3"></a><font color="#00FFFF"><a href="match381-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_5.gif"/></a>

        std::getline(std::cin, tekst);

        std::map&lt;std::string, std::set&lt;int&gt;&gt; mapa (KreirajIndeksPojmova(tekst));
        IspisiIndeksPojmova(mapa);
        std::cout&lt;&lt;"Unesite rijec: ";
</font>        std::string rijec; 
        std::getline(std::cin, rijec);
        while (rijec!="."){
            try{
            for(auto x: PretraziIndeksPojmova(rijec,mapa)) std::cout&lt;&lt;x&lt;&lt;" ";
<a name="1"></a><font color="#00FF00"><a href="match381-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_8.gif"/></a>

            std::cout&lt;&lt;std::endl;
            } catch (std::logic_error greska){
                std::cout&lt;&lt;greska.what()&lt;&lt;std::endl;
            }
            std::cout&lt;&lt;"Unesite rijec: ";
            std::getline(std::cin, rijec);
        }
 
	return 0;
</font>}</pre>
</body>
</html>
