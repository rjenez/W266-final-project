<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z2/student3425.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z2/student3425.cpp<p></p><pre>
#include &lt;iostream&gt;
#include &lt;map&gt;
#include &lt;set&gt;
#include &lt;string&gt;
#include &lt;utility&gt;
#include &lt;vector&gt;


std::map&lt;std::string, std::set&lt;int&gt;&gt; KreirajIndeksPojmova(std::string s){
<a name="1"></a><font color="#00FF00"><a href="match312-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_10.gif"/></a>

    std::map &lt;std::string, std::set&lt;int&gt;&gt; m;
    for(int i=0;i&lt;s.length();i++){
        std::set&lt;int&gt; skup;
        if((s[i]&gt;='A' &amp;&amp; s[i]&lt;='Z') || (s[i]&gt;='a' &amp;&amp; s[i]&lt;='z') || (s[i]&gt;='0'&amp;&amp; s[i]&lt;='9')){
        int poc=i;
</font>        
        while ((s[i]&gt;='A' &amp;&amp; s[i]&lt;='Z') || (s[i]&gt;='a' &amp;&amp; s[i]&lt;='z') || (s[i]&gt;='0'&amp;&amp; s[i]&lt;='9')){
        if(i==s.length()) 
        break;
        i++;
        }
        int kraj=i;
        int du=kraj-poc;
        std::string pom=s.substr(poc,du);
        int poc2;
        for(int j=0;j&lt;=s.length();j++){
         if((s[j]&gt;='A' &amp;&amp; s[j]&lt;='Z') || (s[j]&gt;='a' &amp;&amp; s[j]&lt;='z') || (s[j]&gt;='0'&amp;&amp; s[j]&lt;='9')){
        poc2=j;
        
        while ((s[j]&gt;='A' &amp;&amp; s[j]&lt;='Z') || (s[j]&gt;='a' &amp;&amp; s[j]&lt;='z') || (s[j]&gt;='0'&amp;&amp; s[j]&lt;='9')){
        if(j==s.length()) 
        break;
        j++;
        }
        }
<a name="0"></a><font color="#FF0000"><a href="match312-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_11.gif"/></a>

        std::string hh(s.substr(poc2,j-poc2));
        if(hh==pom)
         skup.insert(poc2);
    }
       m.insert(std::make_pair(pom,skup));
    }
}
return m;
}
std::set&lt;int&gt; PretraziIndeksPojmova(std::string s,std::map&lt;std::string, std::set&lt;int&gt;&gt; m){
        auto it(m.find(s));
        if(it==m.end()) 
        throw std::logic_error("Unesena rijec nije nadjena!");
        return it-&gt;second;
}
void IspisiIndeksPojmova(std::map&lt;std::string, std::set&lt;int&gt;&gt; m){
</font>    std::vector&lt;int&gt; v;
    for(auto it=m.begin();it!=m.end();it++){
        int br(0);
        for(auto x : it-&gt;second)
        br++;
        v.push_back(br);
    }
    int vec(0);
    for(auto it=m.begin();it!=m.end();it++){
    std::cout &lt;&lt; it-&gt;first &lt;&lt;": ";
    int br(0);
    for(auto x : it-&gt;second){
        if(br==v[vec]-1)
        std::cout &lt;&lt; x &lt;&lt;" ";
        else
        std::cout &lt;&lt; x &lt;&lt;",";
        br++;
    }
    vec++;
    std::cout  &lt;&lt; std::endl;
    }
}
int main(){
    std::cout &lt;&lt; "Unesite tekst: " ;
    std::string s;
    std::getline(std::cin,s);
    std::map&lt;std::string, std::set&lt;int&gt;&gt; m(KreirajIndeksPojmova(s));
    std::vector&lt;int&gt; br;
    for(auto it(m.begin());it!=m.end();it++){
        int n(0);
        for(auto a: it-&gt;second){
            n++;
        }
        br.push_back(n);
    }
    int nes(0);
    for(auto it(m.begin());it!=m.end();it++){
        std::cout &lt;&lt; it-&gt;first &lt;&lt;": ";
        int bro(0);
        for(auto a : it-&gt;second){
        if(bro==br[nes]-1)
        std::cout &lt;&lt; a ;
        else std::cout &lt;&lt; a &lt;&lt;",";
        bro++;
        }
        nes++;
        std::cout  &lt;&lt; std::endl;
    }
    std::string rijec;
    std::cout &lt;&lt; "Unesite rijec: " ;
    std::getline(std::cin,rijec);
    while(rijec!="."){
        try{
        std::set&lt;int&gt; skup(PretraziIndeksPojmova(rijec,m));
        for(auto x : skup)
        std::cout &lt;&lt; x &lt;&lt; " ";
        std::cout  &lt;&lt; std::endl;
            
        }
        catch(std::logic_error l){
            std::cout &lt;&lt; l.what() &lt;&lt; std::endl;
        }
        std::cout &lt;&lt; "Unesite rijec: " ;
        std::getline(std::cin,rijec);
    }
    return 0;
}</pre>
</body>
</html>
