<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z2/student3047.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z2/student3047.cpp<p></p><pre>
<a name="0"></a><font color="#FF0000"><a href="match705-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_17.gif"/></a>

/B2016/2017: ZadaÄ‡a 3, Zadatak 2
#include &lt;cctype&gt;
#include &lt;iostream&gt;
#include &lt;map&gt;
#include &lt;set&gt;
#include &lt;stdexcept&gt;
#include &lt;string&gt;

bool jel_znak(char c)
{
    return (c &gt;= 'a' &amp;&amp; c &lt;= 'z') || (c &gt;= 'A' &amp;&amp; c &lt;= 'Z') || (c &gt;= '0' &amp;&amp; c &lt;= '9'); 
}

std::string u_mala(std::string s)
{
    for(auto&amp; c : s)
        c = std::tolower(c);
    return s;
}

std::map&lt;std::string, std::set&lt;int&gt;&gt; KreirajIndeksPojmova(const std::string &amp;recenica)
</font>{
    std::map&lt;std::string, std::set&lt;int&gt;&gt; indeks_pojmova;
    for(int i = 0; i &lt; int(recenica.size()); ++i){
        bool razmak = true;
        if(!jel_znak(recenica[i]))
            razmak = true;
        else if(razmak){
            razmak = false;
            int pocetak = i;
            while(jel_znak(recenica[i]) &amp;&amp;  i &lt; int(recenica.size()))
                ++i;
            auto rijec = std::string(&amp;recenica[pocetak], &amp;recenica[i]);
            auto it = indeks_pojmova.find(u_mala(rijec));
            if(it != indeks_pojmova.end())
                it-&gt;second.insert(pocetak);
            else
                indeks_pojmova[u_mala(rijec)] = std::set&lt;int&gt;{pocetak};
        }
    }
    return indeks_pojmova;
}

std::set&lt;int&gt; PretraziIndeksPojmova(const std::string &amp;s, const std::map&lt;std::string, std::set&lt;int&gt;&gt;&amp; ip)
{
    auto it = ip.find(s);
    if(it != ip.end())
        return it-&gt;second;
    throw std::logic_error("Pojam nije nadjen");
}

void IspisiIndeksPojmova(const std::map&lt;std::string, std::set&lt;int&gt;&gt;&amp; ip)
{
    auto ispisi_set = [](const std::set&lt;int&gt;&amp; s){
        auto it = s.begin();
        for(int i = 0; i &lt; int(s.size()) - 1; ++i, ++it)
            std::cout &lt;&lt; *it &lt;&lt; ',';
        std::cout &lt;&lt; *it &lt;&lt; "\n";
    };
    for(const auto&amp; elem : ip){
        std::cout &lt;&lt; elem.first &lt;&lt; ": ";
        ispisi_set(elem.second);
    }
}

int main ()
{
<a name="1"></a><font color="#00FF00"><a href="match705-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_6.gif"/></a>

    std::cout &lt;&lt; "Unesite tekst: ";
    std::string s;
    std::getline(std::cin, s);
    auto ip = KreirajIndeksPojmova(s);
    IspisiIndeksPojmova(ip);
    for(;;){
        std::cout &lt;&lt; "Unesite rijec: ";
        std::string rijec;
</font>        std::getline(std::cin, rijec);
        if(rijec == ".")
            break;
        try {
            auto p = PretraziIndeksPojmova(rijec, ip);
            for(const auto &amp;elem : p)
                std::cout &lt;&lt; elem &lt;&lt; ' ';
            std::cout &lt;&lt; "\n";
        }
        catch (std::logic_error e) {
            std::cout &lt;&lt; "Unesena rijec nije nadjena!\n";
        }
        
    }
	return 0;
}</pre>
</body>
</html>
