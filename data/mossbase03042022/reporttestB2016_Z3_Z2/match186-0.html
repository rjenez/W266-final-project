<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z2/student9601.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z2/student9601.cpp<p></p><pre>
/B2016/2017: ZadaÄ‡a 3, Zadatak 2
#include &lt;iostream&gt;
#include &lt;map&gt;
#include &lt;string&gt;
#include &lt;stdexcept&gt;
#include &lt;vector&gt; 
#include &lt;set&gt;

<a name="0"></a><font color="#FF0000"><a href="match186-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_92.gif"/></a>

std::map &lt;std::string,std::set&lt;int&gt;&gt; KreirajIndeksPojmova(std::string s) {
    std::map &lt;std::string, std::set&lt;int&gt;&gt; pomocna;
    
    std::string pom;
    
    for (int i=0; i&lt;s.size();i++) {
        
        if(s[i]==' ')  {
            int pozicija;
            pozicija=i-pom.size();
            pomocna[pom].insert(pozicija);
            while (s[i]==' ') {
                i++;
            }
            if(i!=s.size())
            i--;
            pom="";
        }
        else {
            pom=pom+s[i];
            if(i==s.size()-1){
                int pozicija;
                pozicija=i-pom.size()+1;
                
                pomocna[pom].insert(pozicija);
            }
        }
    }
    return pomocna;
}

std::set&lt;int&gt; PretraziIndeksPojmova(std::string s, std::map &lt;std::string,std::set&lt;int&gt;&gt;mapa) {
    if(mapa[s].size()==0) {
        throw std::logic_error ("Unesena rijec nije nadjena!");
    }
    return mapa[s];
}

void IspisiIndeksPojmova(std::map &lt;std::string,std::set&lt;int&gt;&gt;mapa) {
    for (auto x: mapa) {
	    std::cout&lt;&lt;x.first&lt;&lt;": ";
	    int i=0;
	    for(int y: x.second){
    	    if(i==0){
    	        std::cout&lt;&lt;y;
    	        i++;
    	    }
    	    else std::cout&lt;&lt;","&lt;&lt;y;
	    }
	    std::cout&lt;&lt;std::endl;
	        
	}
}

int main () {
    
    std::map &lt;std::string,std::set&lt;int&gt;&gt; neka_mapa;
    std::string unos_rijeci;
    
    std::cout&lt;&lt;"Unesite tekst: ";
    std::getline(std::cin, unos_rijeci);
    
    neka_mapa=KreirajIndeksPojmova(unos_rijeci);
	for (auto x:neka_mapa) {
	    std::cout&lt;&lt;x.first&lt;&lt;": ";
	    int i=0;
	    for(int y: x.second){
    	    if(i==0){
    	        std::cout&lt;&lt;y;
    	        i++;
    	    }
    	    else std::cout&lt;&lt;","&lt;&lt;y;
	    }
	    std::cout&lt;&lt;std::endl;
	        
	}
	
	std::cout&lt;&lt;"Unesite rijec: ";
	std::string neka_rijec;
	std::cin&gt;&gt;neka_rijec;
	while (neka_rijec!=".") {
    	try{
        	std::set&lt;int&gt; v;
        	v=PretraziIndeksPojmova(neka_rijec, neka_mapa);
        	int i=0;
        	
        	for(int x: v){
        	    if(i==0){
        	        std::cout&lt;&lt;x;
        	        i++;
        	    }
        	    else{
        	        std::cout&lt;&lt;" "&lt;&lt;x;
        	    }
        	}
        }
        catch (std::logic_error g) {
            std::cout&lt;&lt;g.what ();
        }
        std::cout&lt;&lt;std::endl&lt;&lt;"Unesite rijec: ";
        std::cin&gt;&gt;neka_rijec;
	}
	return 0;
</font>}</pre>
</body>
</html>
