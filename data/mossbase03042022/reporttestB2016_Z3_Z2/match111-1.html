<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z2/student8964.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z2/student4973.cpp<p></p><pre>
<a name="0"></a><font color="#FF0000"><a href="match111-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_99.gif"/></a>

/B2016/2017: ZadaÄ‡a 3, Zadatak 2
#include &lt;iostream&gt;
#include &lt;string&gt;
#include &lt;iterator&gt;
#include &lt;map&gt;
#include &lt;set&gt;
#include &lt;stdexcept&gt;
#include &lt;vector&gt;

using namespace std;

map&lt;string,set&lt;int&gt;&gt;KreirajIndeksPojmova(string s)
{
    map&lt;string,set&lt;int&gt;&gt;rijeci;
    vector&lt;string&gt;v;
    string x=(",");
    vector&lt;int&gt;v1;
    int br=0;
    for(int i=0; i&lt;s.size(); i++) {
        if(s[i]&gt;='A' &amp;&amp; s[i]&lt;='Z') s[i]+=32;
    }
    for(int i=0; i&lt;s.size(); i++) {
        if(s[i]==' ') {
            br++;
            if(x!=",") {
                v.push_back(x);
                x=",";
            }
            continue;
        }
        if(br!=0) v1.push_back(br);
        if(br==0 &amp;&amp; i==0) v1.push_back(0);
        br=0;
        if(x==",") x=s[i];
        else x.push_back(s[i]);
        if(i==s.size()-1 &amp;&amp; x!=",") {
            v.push_back(x);
            x=",";
        }
    }
    int suma=0;
    for(int i=0; i&lt;v.size(); i++) {
        for(int j=0; j&lt;v.size(); j++) {
            if(j==0) rijeci[v[i]];
            if(v[i]==v[j]) {
                for(int k=0; k&lt;j; k++) suma+=v[k].size()+v1[k];
                suma+=v1[j];
                rijeci[v[i]].insert(suma);
                suma=0;
            }
        }
    }
    return rijeci;
}

set&lt;int&gt;PretraziIndeksPojmova(string s,map&lt;string,set&lt;int&gt;&gt;rijeci)
{
    set&lt;int&gt;skup;
    auto it=rijeci.begin();
    while(it!=rijeci.end()) {
        if((it-&gt;first)==s) {
            return it-&gt;second;
        }
        it++;
    }
    throw logic_error(" Unesena rijec nije nadjena!");
}

void IspisiIndeksPojmova(map&lt;string,set&lt;int&gt;&gt;rijeci)
{
    for(auto it=rijeci.begin(); it!=rijeci.end(); it++) {
        cout&lt;&lt; it-&gt;first &lt;&lt;": ";
        for(auto johi=(it-&gt;second).begin(); johi!=(it-&gt;second).end(); johi++) {
            if(johi!=(it-&gt;second).begin()) cout&lt;&lt;",";
            cout&lt;&lt;*johi;
        }
        cout&lt;&lt;endl;
    }
}

int main ()
{
    string s;
    cout&lt;&lt;"Unesite tekst: ";
    getline(cin,s);
    map&lt;string,set&lt;int&gt;&gt;rijeci=KreirajIndeksPojmova(s);
    IspisiIndeksPojmova(rijeci);
    string a;
    set&lt;int&gt;skup;
    bool ima=false;
    for(;;) {
        cout&lt;&lt;"Unesite rijec:";
        getline(cin,a);
        for(auto it=a.begin(); it!=a.end(); it++) {
            if(*it=='.') ima=true;
        }
        if(ima) break;
        try {
            skup=PretraziIndeksPojmova(a,rijeci);
            for(auto it1=skup.begin(); it1!=skup.end(); it1++) {
                if(it1!=skup.end()) cout&lt;&lt;" ";
                cout&lt;&lt;*it1;
            }
            cout&lt;&lt;endl;
        } catch(logic_error tekst) {
            cout&lt;&lt;tekst.what()&lt;&lt;endl;
</font>        }
    }
    return 0;
}</pre>
</body>
</html>
