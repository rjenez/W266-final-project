<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z2/student5397.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z2/student5957.cpp<p></p><pre>
<a name="0"></a><font color="#FF0000"><a href="match474-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_6.gif"/></a>

/B2016/2017: ZadaÄ‡a 3, Zadatak 2
#include &lt;iostream&gt;
#include&lt;map&gt;
#include&lt;string&gt;
#include&lt;vector&gt;
#include&lt;set&gt;
#include&lt;utility&gt;
using std::vector;
using std::set;
using std::string;
using std::map;
using std::cout;
using std::cin;

string PretvoriUString(vector&lt;char&gt; v){
</font>    string s;
    s.resize(v.size());
    for(int i(0);i&lt;v.size();i++){
        s[i]=v[i];
    }
    return s;
}

void RastaviString(string s,vector&lt;string&gt; &amp;v,vector&lt;int&gt; &amp;h){
    for(int i(0);i&lt;s.length();i++){
        if(s[i]&gt;='A' &amp;&amp; s[i]&lt;='Z')
        s[i]=s[i]+32;
    }
    for(int i(0);i&lt;s.length();i++){
        vector&lt;char&gt; v1;
        if(s[i]&gt;='a' &amp;&amp; s[i]&lt;='z' &amp;&amp; i&lt;s.length()){
            h.push_back(i);
            while(s[i]&gt;='a' &amp;&amp; s[i]&lt;='z' &amp;&amp; i&lt;s.length()){
                v1.push_back(s[i]);
                i++;
            }
            v.push_back(PretvoriUString(v1));
            v1.resize(0);
        }
    }
}

map&lt;string,set&lt;int&gt;&gt; KreirajIndeksPojmova(string s){
<a name="2"></a><font color="#0000FF"><a href="match474-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_3.gif"/></a>

    map&lt;string,set&lt;int&gt;&gt; mapa;
    vector&lt;string&gt; v1,c;
    vector&lt;int&gt; v2;
    RastaviString(s,v1,v2);
</font>    for(int i(0);i&lt;v1.size();i++)
    c.push_back(v1[i]);
    for(int i(0);i&lt;v1.size();i++){
        for(int j(i+1);j&lt;v1.size();j++){
            if(v1[i]==v1[j]){
                for(int g(j);g&lt;v1.size()-1;g++)
                v1[g]=v1[g+1];
                v1.resize(v1.size()-1);
                j--;
            }
        }
    }
    for(int i(0);i&lt;v1.size();i++){
        set&lt;int&gt; skup;
<a name="3"></a><font color="#00FFFF"><a href="match474-0.html#3" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_3.gif"/></a>

        for(int j(0);j&lt;c.size();j++){
            if(v1[i]==c[j]){
                skup.insert(v2[j]);
            }
        }
        mapa[v1[i]]=skup;
</font>    }
<a name="1"></a><font color="#00FF00"><a href="match474-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_5.gif"/></a>

    return mapa;
}

void IspisiIndeksPojmova(map&lt;string,set&lt;int&gt;&gt; mapa){
    for(auto it=mapa.begin();it!=mapa.end();it++){
        cout&lt;&lt;it-&gt;first&lt;&lt;": ";
        for(auto x((it-&gt;second).begin());x!=(it-&gt;second).end();x++){
</font>            auto y(x);
            y++;
            if(y==(it-&gt;second).end()) cout&lt;&lt;*x;
            else cout&lt;&lt;*x&lt;&lt;",";
        }
        cout&lt;&lt;"\n";
    }
}

set&lt;int&gt; PretraziIndeksPojmova(string s,map&lt;string,set&lt;int&gt;&gt; mapa){
    for(auto it=mapa.begin();it!=mapa.end();it++){
                if(it-&gt;first==s){
                    return it-&gt;second;
                }
            }
    throw std::logic_error("Unesena rijec nije nadjena!");
}
    
   int main ()
{
    string s;
    cout&lt;&lt;"Unesite tekst: ";
    getline(cin,s);
    map&lt;string,set&lt;int&gt;&gt; mapa;
    mapa=KreirajIndeksPojmova(s);
    IspisiIndeksPojmova(mapa);
    string rijec1;
    while(rijec1!="."){
        string rijec;
        cout&lt;&lt;"Unesite rijec: ";
        getline(cin,rijec);
        rijec1=rijec;
        if(rijec!="."){
            set&lt;int&gt; indeksi;
            try{
            indeksi=PretraziIndeksPojmova(rijec,mapa);
            }
            catch(std::logic_error poruka){
                cout&lt;&lt;poruka.what();
            }
            for(auto x:indeksi) cout&lt;&lt;x&lt;&lt;" ";
            cout&lt;&lt;"\n";
        }
    }
    
    
    
	return 0;
}</pre>
</body>
</html>
