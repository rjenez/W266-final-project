<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z2/student8794.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z2/student1833.cpp<p></p><pre>
<a name="0"></a><font color="#FF0000"><a href="match88-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_99.gif"/></a>

/B2016/2017: ZadaÄ‡a 3, Zadatak 2
#include &lt;iostream&gt;
#include&lt;string&gt;
#include&lt;map&gt;
#include&lt;set&gt;
bool jeLiBroj(char p)
{
    if(p&lt;='9' &amp;&amp; p&gt;='0') return true;
    return false;
}
bool jeLiSlovo(char p)
{
    if(p&lt;='z' &amp;&amp; p&gt;='a' || p&gt;='A' &amp;&amp; p&lt;='Z') return true;
    return false;
}
std::map&lt;std::string, std::set&lt;int&gt;&gt; KreirajIndeksPojmova(std::string pojmovi)
{
    std::map&lt;std::string, std::set&lt;int&gt;&gt; indexPojmova;
    for(int i=0;i&lt;pojmovi.length();i++)
    {
        while(pojmovi[i]==' ' &amp;&amp; i&lt;pojmovi.length())
        {
        i++;
        }

        int pocetakPojma=i;
        std::string pojam;
        bool broj=jeLiBroj(pojmovi[i]);
        bool slovo=jeLiSlovo(pojmovi[i]);
        while(broj || slovo)
        {
            if(pojmovi[i]&gt;='A' &amp;&amp; pojmovi[i]&lt;='Z')
            pojmovi[i]=pojmovi[i]+'a'-'A';
            pojam+=pojmovi[i];
            i++;
            if(i&gt;=pojmovi.length()) break;
            broj=jeLiBroj(pojmovi[i]);
        slovo=jeLiSlovo(pojmovi[i]);
        }
        if(pojam.length()!=0)
        {
            auto pozicija=indexPojmova.find(pojam);
            //ako ne postoji dodaj ga
            if(pozicija==indexPojmova.end())
            {
                indexPojmova[pojam];
                indexPojmova.at(pojam).insert(pocetakPojma);
            }
            else indexPojmova.at(pojam).insert(pocetakPojma);
        }
    }
    return indexPojmova;
}
std::set&lt;int&gt; PretraziIndeksPojmova(std::string pojam, std::map&lt;std::string, std::set&lt;int&gt;&gt; indexPojmova)
{
    auto pozicija=indexPojmova.begin();
    auto kraj=indexPojmova.end();
    while(pozicija!=kraj)
    {
        if(pojam.compare(pozicija-&gt;first)==0)
        {
            return indexPojmova.at(pojam);
        }
        pozicija++;
    }
    throw std::logic_error("Pojam nije nadjen");
}
void IspisiIndeksPojmova(std::map&lt;std::string, std::set&lt;int&gt;&gt; indexPojmova)
{
    auto pozicija=indexPojmova.begin();
    auto kraj=indexPojmova.end();
    while(pozicija!=kraj)
    {
        std::cout&lt;&lt;pozicija-&gt;first&lt;&lt;": ";
        auto elementiSkupa=begin(pozicija-&gt;second);
        auto krajSkupa=end(pozicija-&gt;second);
        int brojElemenata=0;
        while(elementiSkupa!=krajSkupa)
        {
            brojElemenata++;
            elementiSkupa++;
        }
        elementiSkupa=begin(pozicija-&gt;second);
        while(brojElemenata!=0)
        {
            if(brojElemenata&gt;1)
            std::cout&lt;&lt;*elementiSkupa++&lt;&lt;",";
            else
            std::cout&lt;&lt;*elementiSkupa;
            brojElemenata--;
        }
        std::cout&lt;&lt;std::endl;
        pozicija++;
    }
}
int main ()
{
    std::cout&lt;&lt;"Unesite tekst: ";
    std::string pojmovi;
    getline(std::cin,pojmovi);
    std::map&lt;std::string, std::set&lt;int&gt;&gt; indexPojmova=KreirajIndeksPojmova(pojmovi);
    IspisiIndeksPojmova(indexPojmova);
    while(true)
    {
        std::cout&lt;&lt;"Unesite rijec: ";
        std::string rijec;
        std::cin&gt;&gt;rijec;
        if(rijec==".") break;
        try {
            auto elementiSkupaPojmova=PretraziIndeksPojmova(rijec, indexPojmova);
            auto pocetak=begin(elementiSkupaPojmova);
            while(pocetak!=end(elementiSkupaPojmova))
             {
                 std::cout&lt;&lt;*pocetak&lt;&lt;" ";
                 pocetak++;
             }

        }
        catch (const std::logic_error e) {
            std::cout &lt;&lt;"Unesena rijec nije nadjena!"&lt;&lt; std::endl;
        }
        std::cout&lt;&lt;std::endl;
</font>    }
	return 0;
}
</pre>
</body>
</html>
