<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z2/student4290.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z2/student4290.cpp<p></p><pre>
<a name="0"></a><font color="#FF0000"><a href="match141-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_98.gif"/></a>

/B2016/2017: ZadaÄ‡a 3, Zadatak 2
#include &lt;iostream&gt;
#include &lt;string&gt;
#include &lt;set&gt;
#include &lt;map&gt;
#include &lt;stdexcept&gt;
#include &lt;iterator&gt;
void IspisSkupa1(const std::set&lt;int&gt; &amp;s){
    for(auto i=s.begin();i!=--s.end();i++){
        std::cout&lt;&lt;*i&lt;&lt;",";
    }
    std::cout&lt;&lt;*(s.rbegin());
    std::cout&lt;&lt;std::endl;
}
void IspisSkupa2(const std::set&lt;int&gt; &amp;s){
    for(auto i=s.begin();i!=s.end();i++)
        std::cout&lt;&lt;*i&lt;&lt;" ";
    std::cout&lt;&lt;std::endl;
}
bool SlovoCifra(char c){
    if((c&gt;='a' &amp;&amp; c&lt;='z') || (c&gt;='0' &amp;&amp; c&lt;='9'))return true;
    return false;
}
std::map&lt;std::string,std::set&lt;int&gt;&gt; KreirajIndeksPojmova(std::string s){
    std::map&lt;std::string,std::set&lt;int&gt;&gt; index;
    for(int i=0;i&lt;s.size();i++){
        if(s[i]&gt;='A' &amp;&amp; s[i]&lt;='Z')s[i]+=32;
    }
    for(int i=0;i&lt;s.size();i++){
        if(SlovoCifra(s[i])){
            int p=i;
            while(i&lt;s.size() &amp;&amp; SlovoCifra(s[i]))i++;
            int k=i;
            index[s.substr(p,k-p)].insert(p);
        }
    }
    return index;
}
std::set&lt;int&gt; PretraziIndeksPojmova(std::string s,std::map&lt;std::string,std::set&lt;int&gt;&gt; index){
    for(int i=0;i&lt;s.size();i++){
        if(s[i]&gt;='A' &amp;&amp; s[i]&lt;='Z')s[i]+=32;
    }
    auto it(index.find(s));
    if(it==index.end())throw std::logic_error("Pojam nije nadjen");
    else return it-&gt;second;
}
void IspisiIndeksPojmova(const std::map&lt;std::string,std::set&lt;int&gt;&gt; &amp;index){
    for(auto i=index.begin();i!=index.end();i++){
        std::cout&lt;&lt;i-&gt;first&lt;&lt;": ";
        IspisSkupa1(i-&gt;second);
    }
}
int main (){
    std::string s;
    std::cout&lt;&lt;"Unesite tekst: ";
    std::getline(std::cin,s);
    std::map&lt;std::string,std::set&lt;int&gt;&gt; index=KreirajIndeksPojmova(s);
    IspisiIndeksPojmova(index);
    std::string rijec;
    while(rijec!=std::string(".")){
        std::cout&lt;&lt;"Unesite rijec: ";
        std::getline(std::cin,rijec);
        if(rijec==std::string("."))break;
        try{
            IspisSkupa2(PretraziIndeksPojmova(rijec,index));
        }
        catch(...){
            std::cout&lt;&lt;"Unesena rijec nije nadjena!"&lt;&lt;std::endl;
</font>        }
    }
	return 0;
}</pre>
</body>
</html>
