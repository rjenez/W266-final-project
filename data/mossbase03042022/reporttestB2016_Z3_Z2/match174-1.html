<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z2/student1547.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z2/student1016.cpp<p></p><pre>
<a name="0"></a><font color="#FF0000"><a href="match174-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_99.gif"/></a>

/B2016/2017: ZadaÄ‡a 3, Zadatak 2
#include &lt;iostream&gt;
#include &lt;set&gt;
#include &lt;map&gt;
#include &lt;cctype&gt;
#include &lt;string&gt;

using std::cout;
using std::cin;

std::map&lt;std::string, std::set&lt;int&gt;&gt; KreirajIndeksPojmova(std::string s)
{
    std::map&lt;std::string, std::set&lt;int&gt;&gt; mapa;
    for(int i=0; i&lt;s.length(); i++) {
        if(s[i]==' ') continue;
        if(!((s[i]&gt;='0' and s[i]&lt;='9') or (s[i]&gt;='A' and s[i]&lt;='Z') or (s[i]&gt;='a' and s[i]&lt;='z'))) continue;
        int j(i);
        while(((s[j]&gt;='0' and s[j]&lt;='9') or (s[j]&gt;='A' and s[j]&lt;='Z') or (s[j]&gt;='a' and s[j]&lt;='z')) and j&lt;s.length()) j++;
        std::string temp(s.substr(i, j-i));
        for(int k=0; k&lt;j-i; k++) if(temp[k]&gt;='A' and temp[k]&lt;='Z') temp[k]+='a'-'A';
        mapa[temp].insert(i);
        i=j;
    }
    return mapa;
}

std::set&lt;int&gt; PretraziIndeksPojmova(std::string s, std::map&lt;std::string, std::set&lt;int&gt;&gt; mapa)
{
    if(!mapa.count(s)) throw std::logic_error ("Pojam nije nadjen");
    else return mapa[s];
}

void IspisiIndeksPojmova(std::map&lt;std::string, std::set&lt;int&gt;&gt; mapa)
{
    for(auto it=mapa.begin(); it!=mapa.end(); it++) {
        cout &lt;&lt; it-&gt;first &lt;&lt;": ";
        int i(0);
        for(int x: it-&gt;second) {
            cout &lt;&lt; x;
            if(i&lt;(it-&gt;second).size()-1) cout &lt;&lt; ",";
            i++;
        }
        cout &lt;&lt; std::endl;
    }
}

int main ()
{
    std::string s;
    cout&lt;&lt; "Unesite tekst: ";
    std::getline(cin, s);
    std::map&lt;std::string, std::set&lt;int&gt;&gt; index(KreirajIndeksPojmova(s));
    IspisiIndeksPojmova(index);
    for(;;) {
        cout &lt;&lt; "Unesite rijec: ";
        std::string x;
        std::getline(cin, x);
        if(x==".") break;
        try {
            std::set&lt;int&gt; skup(PretraziIndeksPojmova(x, index));
            for(int y: skup) cout &lt;&lt; y &lt;&lt; " ";
        } catch (std::logic_error izuzetak) {
            cout &lt;&lt; "Unesena rijec nije nadjena!";
        }
        cout &lt;&lt; std::endl;
</font>    }
    return 0;
}</pre>
</body>
</html>
