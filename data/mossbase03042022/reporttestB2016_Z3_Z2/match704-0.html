<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z2/student3421.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z2/student3421.cpp<p></p><pre>
/B2016/2017: ZadaÄ‡a 3, Zadatak 2


#include &lt;iostream&gt;
#include &lt;map&gt;
#include &lt;string&gt;
#include &lt;set&gt;
#include &lt;stdexcept&gt;
#include &lt;vector&gt;

<a name="2"></a><font color="#0000FF"><a href="match704-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_4.gif"/></a>

std::map&lt;std::string, std::set&lt;int&gt;&gt; KreirajIndeksPojmova(std::string tekst)
{
    std::map&lt;std::string, std::set&lt;int&gt;&gt; nova_mapa;
    int i(0), br_el = tekst.size();
</font>    bool razmak(true);
    
    for(int j = 0; j &lt; tekst.length(); ++j)
        if(tekst.at(j) &gt;= 'A' &amp;&amp; tekst.at(j) &lt;= 'Z')
           tekst.at(j) += 32;
    std::string rijec;
    int pozicija;
    while(i &lt; br_el)
    {
        if(!((tekst.at(i) &gt;= 'a' &amp;&amp; tekst.at(i) &lt;= 'z') || (tekst.at(i) &gt;= 'A' &amp;&amp; tekst.at(i) &lt;= 'Z') || (tekst.at(i) &gt;= '0' &amp;&amp; tekst.at(i) &lt;= '9')))
              razmak = true;
        else if(razmak)  
        {
            razmak = false;
            pozicija = i;

            while(pozicija &lt; br_el &amp;&amp; ((tekst[pozicija] &gt;= 'a' &amp;&amp; tekst[pozicija] &lt;= 'z') || (tekst[pozicija] &gt;= 'A' &amp;&amp; tekst[pozicija] &lt;= 'Z') || (tekst[pozicija] &gt;= '0' &amp;&amp; tekst[pozicija] &lt;= '9')))
                pozicija++;
            
            rijec = tekst.substr(i, pozicija - i);
            nova_mapa[rijec].insert(i);
        }
        i++;
        
    }
    
    
    return nova_mapa;
}

<a name="0"></a><font color="#FF0000"><a href="match704-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_6.gif"/></a>

std::set&lt;int&gt; PretraziIndeksPojmova(std::string rijec, std::map&lt;std::string, std::set&lt;int&gt;&gt; mapa)
{
    std::set&lt;int&gt; pozicije;
    
    if(!mapa.count(rijec))
       throw std::logic_error("Unesena rijec nije nadjena!");
</font>    
    for(auto it = mapa.begin(); it != mapa.end(); ++it)
        if(rijec == (it-&gt;first))
<a name="3"></a><font color="#00FFFF"><a href="match704-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_4.gif"/></a>

           pozicije = it-&gt;second;
       
    return pozicije;
}

void IspisiIndeksPojmova(std::map&lt;std::string, std::set&lt;int&gt;&gt; mapa)
{
    auto it = mapa.begin();
</font>    while(it != mapa.end())
    {
        std::cout &lt;&lt; it-&gt;first &lt;&lt; ": ";
        auto iter = (it-&gt;second).begin();
        int a(0);
        for(auto it1 = (it-&gt;second).begin(); it1 != (it-&gt;second).end(); it1++)
           {
               a++;
              iter++;
              if(a == (it-&gt;second).size())
                 std::cout &lt;&lt; *it1;
              else
                 std::cout &lt;&lt; *it1 &lt;&lt; ",";
           }
<a name="1"></a><font color="#00FF00"><a href="match704-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_4.gif"/></a>

        std::cout &lt;&lt; std::endl;   
        it++;
    }
}
int main ()
{
    std::cout &lt;&lt; "Unesite tekst: ";
    std::string tekst;
    std::getline(std::cin, tekst);
</font>    std::map&lt;std::string, std::set&lt;int&gt;&gt; mapa = KreirajIndeksPojmova(tekst);
    IspisiIndeksPojmova(mapa);
    
    for(;;)
    {
        std::cout &lt;&lt; "Unesite rijec: ";
        std::string rijec, tacka(".");
        std::getline(std::cin, rijec);
        if(rijec == tacka)
           break;
        try
        {
            std::set&lt;int&gt; poz = PretraziIndeksPojmova(rijec,mapa);
            for(auto i = poz.begin(); i != poz.end(); i++)
                std::cout &lt;&lt; *i &lt;&lt; " ";

            std::cout &lt;&lt; std::endl;
        }
        catch(std::logic_error iz)
        {
            std::cout &lt;&lt; iz.what() &lt;&lt; std::endl;
        }
    }
    
	return 0;
}</pre>
</body>
</html>
