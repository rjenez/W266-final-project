<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z2/student4416.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z2/student4416.cpp<p></p><pre>
<a name="0"></a><font color="#FF0000"><a href="match208-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_98.gif"/></a>

/B2016/2017: ZadaÄ‡a 3, Zadatak 2
#include &lt;iostream&gt;
#include &lt;map&gt;
#include &lt;set&gt;
#include &lt;string&gt;
#include &lt;utility&gt;
typedef std::map&lt;std::string,std::set&lt;int&gt;&gt; Mapa;
bool alfanum(char x){
    if((x&gt;='a'&amp;&amp;x&lt;='z')||(x&gt;='A'&amp;&amp;x&lt;='Z')||(x&gt;='0' &amp;&amp; x&lt;='9'))return true;
    return false;
}
Mapa KreirajIndeksPojmova (std::string s){
    Mapa izlaz;
    auto it(s.begin());
    while(it!=s.end()){
        *it=tolower(*it);
        it++;
    }
    it=s.begin();
    while(it!=s.end()){
        while(it!=s.end()){
            if(!alfanum(*it))it++;
            else break;
        }
        if(it==s.end())continue;
        auto pocetak(it);
        while(it!=s.end()){
            if(alfanum(*it))it++;
            else break;
        }
        auto rijec(s.substr(pocetak-s.begin(),it-pocetak));
        if(izlaz.find(rijec)==izlaz.end()){
            izlaz.insert(std::make_pair(rijec,std::set&lt;int&gt;{int(pocetak-s.begin())}));
        }
        else izlaz.find(rijec)-&gt;second.insert(pocetak-s.begin());
    }
    return izlaz;
}
std::set&lt;int&gt; PretraziIndeksPojmova(std::string rijec, Mapa indeks){
    if(indeks.find(rijec)==indeks.end()) throw std::logic_error("Pojam nije nadjen");
    else return indeks.find(rijec)-&gt;second;
}
void IspisiIndeksPojmova(Mapa indeks){
    auto p1(indeks.begin());
    while(p1!=indeks.end()){
        std::cout&lt;&lt;p1-&gt;first&lt;&lt;": ";
        auto p2(p1-&gt;second.begin());
        for(int i=0;i&lt;p1-&gt;second.size()-1;i++) std::cout&lt;&lt;*p2++&lt;&lt;",";
        std::cout&lt;&lt;*p2&lt;&lt;std::endl;
        p1++;
    }
}
int main (){
    std::cout&lt;&lt;"Unesite tekst: ";
    std::string s;    
    std::getline(std::cin,s);
    auto m(KreirajIndeksPojmova(s));
    IspisiIndeksPojmova(m);
    std::string rijec="";
    while(true){
        std::cout&lt;&lt;"Unesite rijec: ";
        std::getline(std::cin,rijec);
        if(rijec==".") return 0;
        try{
            auto skup(PretraziIndeksPojmova(rijec,m));
            for(auto x:skup)std::cout&lt;&lt;x&lt;&lt;" ";
        }catch(std::logic_error a){std::cout&lt;&lt;"Unesena rijec nije nadjena!";}
        std::cout&lt;&lt;std::endl;
</font>    }
	return 0;
}</pre>
</body>
</html>
