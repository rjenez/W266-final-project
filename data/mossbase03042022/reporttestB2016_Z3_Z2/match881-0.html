<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z2/student7655.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z2/student7655.cpp<p></p><pre>
/B2016/2017: ZadaÄ‡a 3, Zadatak 2
#include &lt;iostream&gt;
#include &lt;string&gt;
#include &lt;map&gt;
#include &lt;set&gt;
#include &lt;stdexcept&gt;
bool opseg (std::string tekst){
    if (tekst[0]&gt;=48 &amp;&amp; tekst[0]&lt;=57) return true;
    if (tekst[0]&gt;=65 &amp;&amp; tekst[0]&lt;=90) return true;
    if (tekst[0]&gt;=97 &amp;&amp; tekst[0]&lt;=122) return true;
    return false;
}
std::map &lt;std::string, std::set&lt;int&gt;&gt; KreirajIndeksPojmova (std::string tekst){
    std::map &lt;std::string, std::set&lt;int&gt; &gt; mapa;
    for (int i=0; i&lt;tekst.size(); i++){
        while (opseg(tekst.substr(i,1))==false) i++;
        std::string pomocni;
        while (opseg(tekst.substr(i,1))==true &amp;&amp; i&lt;tekst.size() ){
        pomocni += tekst.substr(i, 1); i++;}
        //std::cout&lt;&lt;pomocni&lt;&lt;std::endl;
        auto it(mapa.find(pomocni));
        if(it == mapa.end()) {
            std::set&lt;int&gt; skup;
            skup.insert(i-pomocni.size());
           
            mapa.insert(std::make_pair(pomocni, skup));
        }
        else{it-&gt;second.insert(i-pomocni.size());
            mapa.insert(std::make_pair(pomocni, it-&gt;second));
        }
    }
    
    return mapa;
}
<a name="1"></a><font color="#00FF00"><a href="match881-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_7.gif"/></a>

std::set&lt;int&gt; PretraziIndeksPojmova(std::string rijec, std::map &lt;std::string, std::set&lt;int&gt; &gt; mapa ) {
    auto it(mapa.find(rijec));
    if(it == mapa.end()) throw std::logic_error("Unesena rijec nije nadjena!\n");
</font><a name="0"></a><font color="#FF0000"><a href="match881-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_10.gif"/></a>

    else return it-&gt;second;
}
void IspisiIndeksPojmova (std::map &lt;std::string, std::set&lt;int&gt; &gt; mapa){
    for(auto it = mapa.begin(); it != mapa.end(); it++) {
    std::cout &lt;&lt; it-&gt;first &lt;&lt; ": ";
    bool prvi = true;
</font>    for(auto iter=it-&gt;second.begin(); iter!=it-&gt;second.end(); iter++){
    if (!prvi) std::cout&lt;&lt;",";
    std::cout&lt;&lt;(*iter); 
     prvi = false;
    }
<a name="2"></a><font color="#0000FF"><a href="match881-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_5.gif"/></a>

    std::cout&lt;&lt;std::endl;
}
}
int main ()
{
    std::string tekst;
    std::cout&lt;&lt;"Unesite tekst: ";
    std::getline(std::cin, tekst);
    IspisiIndeksPojmova(KreirajIndeksPojmova(tekst));
</font>    for ( ; ; ){
        std::cout&lt;&lt;"Unesite rijec: ";
        std::string rijec;
        std::cin&gt;&gt;rijec;
        if (rijec == ".") break;
       try { for (int x: PretraziIndeksPojmova(rijec, KreirajIndeksPojmova(tekst)  )) {std::cout&lt;&lt;x&lt;&lt;" ";} std::cout&lt;&lt;std::endl;}
       catch (std::logic_error e) {std::cout&lt;&lt;e.what();}
    } 
	return 0;
}</pre>
</body>
</html>
