<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z2/student3899.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z2/student6321.cpp<p></p><pre>
<a name="0"></a><font color="#FF0000"><a href="match92-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_99.gif"/></a>

/B2016/2017: ZadaÄ‡a 3, Zadatak 2
#include &lt;iostream&gt;
#include&lt;string&gt;
#include&lt;map&gt;
#include&lt;set&gt;
#include&lt;utility&gt;
#include&lt;vector&gt;
#include&lt;stdexcept&gt;
typedef std::map&lt;std::string,std::set&lt;int&gt;&gt; mapa;
mapa KreirajIndeksPojmova (std::string s){
    
    std::vector&lt;std::pair&lt;std::string,int&gt;&gt; v;
    int j;
    int k(0);
    for(int i=0;i&lt;s.length();i++){
        
        if((s[i]&gt;='0' &amp;&amp; s[i]&lt;='9') || (s[i]&gt;='a' &amp;&amp; s[i]&lt;='z') || (s[i]&gt;='A' &amp;&amp; s[i]&lt;='Z')){
           j=i;
           v.resize(k+1);
           v[k].second=j;
        }else continue;
        
        // std::cout&lt;&lt;j;
        
          // v[k].second=j;
         int br(0);
         for(;;){
           if((s[j]&gt;='0' &amp;&amp; s[j]&lt;='9') || (s[j]&gt;='a' &amp;&amp; s[j]&lt;='z') || (s[j]&gt;='A' &amp;&amp; s[j]&lt;='Z')){
               
               v[k].first.push_back(std::tolower(s[j]));
               j++;
               br++;
               
           }else break;
           
         }
           k++;
    
        
        i=i+br-1;
        
    }
    
    mapa m;
    
  
        
    
    for(int i=0;i&lt;v.size();i++){
        
        std::set&lt;int&gt; pomocni;
       int k(-1);
        pomocni.insert(v[i].second);
        for(int j=i+1;j&lt;v.size();j++){
            
            
            if(v[i].first==v[j].first){
                
                
                pomocni.insert(v[j].second);
                k=j;
                
            }
        }
        if(i!=k){
        m.insert(std::make_pair(v[i].first,pomocni));
        
        }
    }
    
    return m;
    
}

std::set&lt;int&gt; PretraziIndeksPojmova(std::string s,mapa m){
    
    for(int i=0;i&lt;s.length();i++){
        s[i]=std::tolower(s[i]);
    }
    
    
    auto it(m.find(s));
    
    if(it==m.end()) throw std::logic_error("Pojam nije nadjen");

    return it-&gt;second;
}

void IspisiIndeksPojmova(mapa m){
    for(auto it=m.begin();it!=m.end();it++){
       
        std::cout&lt;&lt;it-&gt;first&lt;&lt;": ";
        auto k(it-&gt;second.end());
        k--;
        for(auto p=it-&gt;second.begin();p!=it-&gt;second.end();p++){
            
            
            std::cout&lt;&lt;*p;
            if(k!=p)
            std::cout&lt;&lt;",";
           
        }
        std::cout&lt;&lt;std::endl;
        
    }
    
}



int main ()
{
    
    std::string s;
    std::cout&lt;&lt;"Unesite tekst: ";
    std::getline(std::cin,s);
    auto m(KreirajIndeksPojmova(s));
    IspisiIndeksPojmova(m);
    
  for(;;){
    try{
    std::cout&lt;&lt;"Unesite rijec: ";
    std::string a;
    std::getline(std::cin,a);
    if(a!="."){
        auto p(PretraziIndeksPojmova(a,m));
        
        for(int x:p) std::cout&lt;&lt;x&lt;&lt;" ";
        std::cout&lt;&lt;std::endl;
        
        
    }else break;
    }catch(std::logic_error ){
        
        std::cout&lt;&lt;"Unesena rijec nije nadjena!"&lt;&lt;std::endl;
</font>        
    }
    
 }
    
  
	return 0;
}</pre>
</body>
</html>
