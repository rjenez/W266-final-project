<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z2/student7492.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z2/student1725.cpp<p></p><pre>
#include &lt;iostream&gt;
#include &lt;map&gt;
#include &lt;vector&gt;
#include &lt;string&gt;
#include &lt;set&gt;
#include &lt;stdexcept&gt;

<a name="1"></a><font color="#00FF00"><a href="match263-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_5.gif"/></a>

std::string IzbaciSpace(std::string s) {
    std::string string=s+" "; return string;
}

std::vector&lt;std::string&gt; Rijeci(std::string s,std::vector&lt;std::set&lt;int&gt;&gt; &amp;skup) {
</font>    s=IzbaciSpace(s);
    auto iter1(s.begin());
    auto iter2(s.end());
    
    int brojac{0},a{0};
    std::vector&lt;std::string&gt; rijeci;
    while(iter1!=iter2) {
        if((*iter1&gt;='a' &amp;&amp; *iter1&lt;='z') || (*iter1&gt;='0' &amp;&amp; *iter1&lt;='9')) {
            if((iter1+1)==iter2) {
                std::string rijec=s.substr(a,brojac);
                rijeci.push_back(rijec);
            }
            brojac++;
        }
        else{
            std::string rijec=s.substr(a,brojac); 
            
            int b{0},nadjeno{0};
            if(rijec!="") {
                for(int i=0;i&lt;rijeci.size();i++) {
                    if(rijec==rijeci[i]) {
                        nadjeno=1;
                        b=i; break;
                    }
                }
                std::set&lt;int&gt; temp;
                temp.insert(a);
                
                if(nadjeno==0) {
                    rijeci.push_back(rijec);
                    skup.push_back(temp);
                }
                else skup[b].insert(a);
            }
            a+=(brojac+1); brojac=0; nadjeno=0;
        }
        iter1++;
    }
    return rijeci;
}

std::map&lt;std::string,std::set&lt;int&gt;&gt; KreirajIndeksPojmova(std::string s) {
    for(auto &amp;x:s) x=tolower(x);
    std::vector&lt;std::string&gt; rijeci; std::vector&lt;std::set&lt;int&gt;&gt; skup;
    rijeci=Rijeci(s,skup);
    std::map&lt;std::string,std::set&lt;int&gt;&gt; stranice;
    
<a name="2"></a><font color="#0000FF"><a href="match263-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_5.gif"/></a>

    for(int i=0;i&lt;rijeci.size();i++) stranice[rijeci[i]]=skup[i];
    
    return stranice;
}

std::set&lt;int&gt; PretraziIndexPojmova(std::string s,std::map&lt;std::string,std::set&lt;int&gt;&gt; stranice) {
</font>    int nadjeno=0; std::set&lt;int&gt; skup;
    
    for(auto iter=stranice.begin();iter!=stranice.end();iter++) {
        if(s==(iter-&gt;first)) {
            skup=iter-&gt;second; nadjeno=1;
        }
    }
<a name="3"></a><font color="#00FFFF"><a href="match263-0.html#3" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_4.gif"/></a>

    if(nadjeno==0) throw std::logic_error("Unesena rijec nije nadjena!");
    return skup;
}

void IspisiIndeksPojmova(std::map&lt;std::string,std::set&lt;int&gt;&gt; stranice) {
    for(auto iter=stranice.begin();iter!=stranice.end();iter++) {
</font>        auto iter3=(iter-&gt;second).begin();
        int brojac{0};
        std::cout&lt;&lt;iter-&gt;first&lt;&lt;": ";
        
        for(auto iter2=(iter-&gt;second).begin();iter2!=(iter-&gt;second).end();iter2++) {
            if(brojac==(iter-&gt;second).size()-1) std::cout&lt;&lt;*iter2;
            else std::cout&lt;&lt;*iter2&lt;&lt;",";
            iter3++; brojac++;
        }
        std::cout&lt;&lt;std::endl;
    }
}

int main() {
    std::cout&lt;&lt;"Unesite tekst: ";
<a name="4"></a><font color="#FF00FF"><a href="match263-0.html#4" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_3.gif"/></a>

    std::string s; std::getline(std::cin,s);
    
    std::map&lt;std::string,std::set&lt;int&gt;&gt; stranice;
    stranice=KreirajIndeksPojmova(s);
    IspisiIndeksPojmova(stranice);
</font>    
    while(1) {
<a name="0"></a><font color="#FF0000"><a href="match263-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_10.gif"/></a>

        std::cout&lt;&lt;"Unesite rijec: ";
        std::string rijec; std::getline(std::cin,rijec);
        
        if(rijec==".") break;
        std::set&lt;int&gt; brojstranica;
        
        try{
            brojstranica=PretraziIndexPojmova(rijec,stranice);
            
            for(auto iter=brojstranica.begin();iter!=brojstranica.end();iter++)
            std::cout&lt;&lt;*iter&lt;&lt;" ";
            
            std::cout&lt;&lt;std::endl;
        }
        catch(std::logic_error izuzetak) {
</font>            std::cout&lt;&lt;izuzetak.what()&lt;&lt;std::endl;
        }
    }
    return 0;
}







</pre>
</body>
</html>
