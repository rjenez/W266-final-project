<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z2/student5441.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z2/student5441.cpp<p></p><pre>
/B2016/2017: ZadaÄ‡a 3, Zadatak 2

#include &lt;iostream&gt;
#include &lt;map&gt;
#include &lt;string&gt;
#include &lt;set&gt;
#include &lt;utility&gt;
#include &lt;stdexcept&gt;

<a name="0"></a><font color="#FF0000"><a href="match187-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_93.gif"/></a>

std::map&lt;std::string,std::set&lt;int&gt;&gt; KreirajIndeksPojmova(std::string s)
{
    std::map&lt;std::string,std::set&lt;int&gt;&gt; mapa;
    
   int i(0);
    while(i!=s.length())
    {
        if(s[i]&gt;='A' &amp;&amp; s[i]&lt;='Z') s[i]+=('a'-'A');
        i++;
    }
    i=0;
    while(i&lt;s.length())
    {
        if(s[i]&gt;='a' &amp;&amp; s[i]&lt;='z')
        {
            std::string rijec; std::set&lt;int&gt;skup; int pozicija(i);
            while((s[i]&gt;='A' &amp;&amp; s[i]&lt;='Z') || (s[i]&gt;='a' &amp;&amp; s[i]&lt;='z'))
            {rijec+=s[i]; i++;}
            auto it(mapa.find(rijec));
            if(it==mapa.end())
            {
                skup.insert(pozicija);
                mapa.insert(std::make_pair(rijec,skup));
            }
            else{
                mapa[rijec].insert(pozicija);
            }
        }
        i++;
    }
    return mapa;
}
std::set&lt;int&gt; PretraziIndeksPojmova(std::string s, std::map&lt;std::string,std::set&lt;int&gt;&gt; mapa)
{
    auto it(mapa.find(s));
    if(it==mapa.end()) throw std::logic_error("Unesena rijec nije nadjena!");
    else return it-&gt;second;
}

void IspisiIndeksPojmova(std::map&lt;std::string,std::set&lt;int&gt;&gt; mapa)
{
    for(auto it=mapa.begin(); it!=mapa.end(); it++)
    {
        std::cout&lt;&lt;it-&gt;first&lt;&lt;": ";
    for(auto it1(it-&gt;second.begin()); it1!=(it-&gt;second.end()); it1++) 
    {
        auto itpomoc(it1);
        if(++itpomoc==it-&gt;second.end()) std::cout&lt;&lt;*it1;
        else std::cout&lt;&lt;*it1&lt;&lt;",";
    }
    std::cout&lt;&lt;"\n";
    }
}
int main ()
{
    std::string s;
    std::cout&lt;&lt;"Unesite tekst: ";
    std::getline(std::cin, s);
    std::map&lt;std::string,std::set&lt;int&gt;&gt;mapa(KreirajIndeksPojmova(s));
    IspisiIndeksPojmova(mapa);
    std::string rijec;
    for(;;){
    try{
        std::cout&lt;&lt;"Unesite rijec: ";
        std::getline(std::cin, rijec);
        if(rijec==".") return 0;
        std::set&lt;int&gt;skup_za_rijec(PretraziIndeksPojmova(rijec, mapa));
        for(auto x : mapa[rijec]) std::cout&lt;&lt;x&lt;&lt;" ";
        std::cout&lt;&lt;"\n";
    }
    catch(std::logic_error poruka) {std::cout&lt;&lt;poruka.what()&lt;&lt;"\n";}
</font>    }
	return 0;
}</pre>
</body>
</html>
