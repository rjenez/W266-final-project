<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z2/student2667.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z2/student5542.cpp<p></p><pre>
/B2016/2017: ZadaÄ‡a 3, Zadatak 2
#include &lt;iostream&gt;
#include &lt;map&gt;
#include &lt;string&gt;
#include &lt;stdexcept&gt;
#include &lt;set&gt;
#include &lt;algorithm&gt;
#include &lt;set&gt;
#include &lt;utility&gt;
#include &lt;iterator&gt;


std::map&lt;std::string, std::set&lt;int&gt;&gt; KreirajIndeksPojmova(std::string s) {
    
    std::map&lt;std::string, std::set&lt;int&gt;&gt; mapa;
    std::string rijec;
    std::set&lt;int&gt; skup;
    bool vani=0;
    int brojac;
    for(int i=0; i&lt;s.length(); i++) {
<a name="2"></a><font color="#0000FF"><a href="match252-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_7.gif"/></a>

        while(s[i]&lt;48 || (s[i]&gt;57 &amp;&amp; s[i]&lt;65) || (s[i]&gt;90 &amp;&amp; s[i]&lt;97)  || s[i]&gt;122){ i++;
</font>        if(i==s.length()) { vani=1; break; }
        }
        if(vani==1) break;
        rijec="";
<a name="0"></a><font color="#FF0000"><a href="match252-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_9.gif"/></a>

        if(i!=s.length()) {
            brojac=i;
        while(((s[i]&gt;=48 &amp;&amp; s[i]&lt;=57) || (s[i]&gt;=65 &amp;&amp; s[i]&lt;=90) || (s[i]&gt;=97  &amp;&amp; s[i]&lt;=122)) &amp;&amp; i!=s.length()) {
</font><a name="4"></a><font color="#FF00FF"><a href="match252-0.html#4" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_4.gif"/></a>

            rijec.push_back(tolower(s[i]));
            i++;
        }
        }
        
        
        mapa.insert(std::make_pair(rijec,skup));
    
        for(auto it=mapa.begin(); it!=mapa.end(); it++) {
        if(rijec==it-&gt;first) it-&gt;second.insert(brojac);
</font><a name="3"></a><font color="#00FFFF"><a href="match252-0.html#3" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_6.gif"/></a>

    }
      
    }  
        
        return mapa;
    
}

std::set&lt;int&gt; PretraziIndeksPojmova(std::string s, std::map&lt;std::string, std::set&lt;int&gt;&gt; mapa ) {
    for(int i=0; i&lt;s.length(); i++) {
</font>        s[i]=tolower(s[i]);
    }
    std::set&lt;int&gt; skup;
    bool tacno=0;
     for(auto it=mapa.begin(); it!=mapa.end(); it++) {
        if(s==it-&gt;first){
             for(int broj : it-&gt;second) 
             skup.insert(broj);
             tacno=1; 
        }
     }
        if(tacno==0) throw std::logic_error("Unesena rijec nije nadjena!");
    
    
    return skup;
}
void IspisiIndeksPojmova(std::map&lt;std::string, std::set&lt;int&gt;&gt; mapa) {
    
    for(auto it=mapa.begin(); it!=mapa.end(); it++) {
        std::cout &lt;&lt; it-&gt;first;
        std::cout &lt;&lt; ": ";
<a name="1"></a><font color="#00FF00"><a href="match252-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_7.gif"/></a>

        auto skupovi=it-&gt;second;
        for(auto it1=skupovi.begin(); it1!=skupovi.end(); it1++) {
            if(it1!=(--(skupovi.end())))
            std::cout &lt;&lt; *it1 &lt;&lt; ",";
            else std::cout &lt;&lt; *it1;
        }
        std::cout &lt;&lt; std::endl;
</font>    }
    
}

int main ()
{
    std::string s;
    std::cout &lt;&lt; "Unesite tekst: ";
    std::getline(std::cin, s);
    std::map&lt;std::string, std::set&lt;int&gt;&gt; mapa;
    mapa=KreirajIndeksPojmova(s);
    
   
    std::string rijec="glupost";
    IspisiIndeksPojmova(mapa);

    
    while(1) {
        std::cout &lt;&lt; "Unesite rijec: ";
        std::getline(std::cin, rijec);
        if(rijec == ".") return 0;
        std::set&lt;int&gt; skup;
    try{
        skup=PretraziIndeksPojmova(rijec, mapa);
        for(int broj : skup) std::cout &lt;&lt; broj &lt;&lt; " ";
        std::cout&lt;&lt;"\n";
        
    }catch(std::logic_error izuzetak) {
        std::cout &lt;&lt; izuzetak.what() &lt;&lt; std::endl;
    }
    }
    
    
	return 0;
}</pre>
</body>
</html>
