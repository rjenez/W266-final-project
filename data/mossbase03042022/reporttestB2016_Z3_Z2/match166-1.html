<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z2/student1192.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z2/student3610.cpp<p></p><pre>
<a name="0"></a><font color="#FF0000"><a href="match166-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_99.gif"/></a>

/B2016/2017: ZadaÄ‡a 3, Zadatak 2
#include &lt;iostream&gt;
#include&lt;map&gt;
#include &lt;string&gt;
#include&lt;set&gt;
#include&lt;stdexcept&gt;
using std:: cout;
using std:: cin;
using std:: string;

std::map&lt;string, std:: set&lt;int&gt;&gt; KreirajIndeksPojmova( string s){
    std:: map&lt;string, std:: set&lt;int&gt;&gt; rijeci;
    
    for(int i=0; i&lt;s.length(); i++){
         int br(0);
         string s2;
        while (s[i]==' ') i++;
        while((s[i]&gt;='a'&amp;&amp; s[i]&lt;='z') || (s[i]&gt;='A'&amp;&amp; s[i]&lt;='Z') || (s[i]&gt;='0'&amp;&amp; s[i]&lt;='9')){ 
            char c(s[i]);
            if(s[i]&gt;='A'&amp;&amp; s[i]&lt;='Z') c+='a'-'A';
            s2=s2+c;
            i++; br++;}
        auto it(rijeci.find(s2));
        if(it== rijeci.end()) rijeci.insert(std:: make_pair(s2, std:: set&lt;int&gt;{i-br}));
        else (it-&gt;second).insert(i-br);
    }
    return rijeci;
}
std:: set&lt;int&gt; PretraziIndeksPojmova(string s, std:: map&lt;string, std::set&lt;int&gt;&gt; rijeci){
    string s2;
    for(int i=0; i&lt;s.length(); i++){
        char c(s[i]);
        if(s[i]&gt;='A'&amp;&amp; s[i]&lt;='Z') c+='a'-'A';
        s2=s2+c;
    }
    auto it(rijeci.find(s2));
    if(it== rijeci.end()) throw std::logic_error ("Pojam nije nadjen");
    return(it-&gt;second);
    
}
void IspisiIndeksPojmova(std:: map&lt;string, std::set&lt;int&gt;&gt; rijeci){
    for(const auto &amp;r: rijeci){
        cout &lt;&lt; r.first&lt;&lt; ": ";
        int br(0);
        for(const auto &amp; i:r.second){
            br++;
            cout &lt;&lt; i;
            if(br==r.second.size()) break;
        cout &lt;&lt; ",";
        }
        cout &lt;&lt; std:: endl;
    }
}

int main () 
{
    try{
    cout &lt;&lt; "Unesite tekst: ";
    string s;
    std:: getline(cin, s);
    auto mapa (KreirajIndeksPojmova(s));
    IspisiIndeksPojmova(mapa);
    for(;;){
        try{
        cout &lt;&lt; "Unesite rijec: ";
        string s2;
        std:: getline(cin,s2);
        if(s2==".") break;
        std:: set&lt;int&gt; skup(PretraziIndeksPojmova(s2,mapa));
        for(const auto &amp; i: skup) cout &lt;&lt; i&lt;&lt; " ";
        cout&lt;&lt; std:: endl;
        }
        catch(std::logic_error){
            cout &lt;&lt; "Unesena rijec nije nadjena!" &lt;&lt; std::endl;
        }
        
    }
   

    }
    catch(std:: logic_error e){
        cout &lt;&lt;  e.what();
    }
	return 0;
</font>}</pre>
</body>
</html>
