<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z2/student5915.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z2/student5915.cpp<p></p><pre>
<a name="0"></a><font color="#FF0000"><a href="match785-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_8.gif"/></a>

/B2016/2017: ZadaÄ‡a 3, Zadatak 2
#include &lt;iostream&gt;
#include &lt;set&gt;
#include &lt;map&gt;
#include &lt;utility&gt;

std::map&lt;std::string, std::set&lt;int&gt;&gt; KreirajIndeksPojmova(std::string s) {
    // Pretvaranje u mala slova
    for(int i(0); i &lt; s.length(); i++)
        if(s[i] &gt;= 'A' &amp;&amp; s[i] &lt;= 'Z') s[i] += 32;
</font>    
    std::map&lt;std::string, std::set&lt;int&gt;&gt; indeks;
    int i(0);
    do {
        while((s[i] &lt; '0' || (s[i] &gt; '9' &amp;&amp; s[i] &lt; 'A') || (s[i] &gt; 'Z' &amp;&amp; s[i] &lt; 'a') || s[i] &gt; 'z') &amp;&amp; i &lt; s.length()) i++;
        if(i == s.length()) break;
        if((s[i] &gt;= '0' &amp;&amp; s[i] &lt;= '9') || (s[i] &gt;= 'A' &amp;&amp; s[i] &lt;= 'Z') || (s[i] &gt;= 'a' &amp;&amp; s[i] &lt;= 'z')) {
            std::string rijec;
            while(((s[i] &gt;= '0' &amp;&amp; s[i] &lt;= '9') || (s[i] &gt;= 'A' &amp;&amp; s[i] &lt;= 'Z') || (s[i] &gt;= 'a' &amp;&amp; s[i] &lt;= 'z')) &amp;&amp; i &lt; s.length()) {
                rijec.push_back(s[i]);
                i++;
            }
            auto it(indeks.find(rijec));
            std::set&lt;int&gt; set;
            set.insert(i - rijec.length());
            if(it == indeks.end()) indeks.insert(std::make_pair(rijec, set));
            else (it-&gt;second).insert(i - rijec.size());
        }
        i++;
    } while(i &lt; s.length());
    return indeks;
}

<a name="1"></a><font color="#00FF00"><a href="match785-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_5.gif"/></a>

std::set&lt;int&gt; PretraziIndeksPojmova(std::string rijec, std::map&lt;std::string, std::set&lt;int&gt;&gt; mapa) {
    auto it(mapa.find(rijec));
    if(it == mapa.end()) throw std::logic_error("Pojam nije nadjen");
</font>    else return it-&gt;second;
}

void IspisiIndeksPojmova(std::map&lt;std::string, std::set&lt;int&gt;&gt; mapa) {
    for(auto x : mapa) {
        std::cout &lt;&lt; x.first &lt;&lt; ": ";
        int i(x.second.size() - 1);
        for(auto y : x.second) {
            if(i != 0) std::cout &lt;&lt; y &lt;&lt; ",";
            else std::cout &lt;&lt; y;
            i--;
        }
        std::cout &lt;&lt; std::endl;
    }
}

int main ()
{
    std::cout &lt;&lt; "Unesite tekst: ";
    std::string tekst;
    std::getline(std::cin, tekst);
    std::map&lt;std::string, std::set&lt;int&gt;&gt; mapa(KreirajIndeksPojmova(tekst));
    IspisiIndeksPojmova(mapa);
    std::string rijec;
    for(;;) {
        try {
            std::cout &lt;&lt; "Unesite rijec: ";
            std::cin &gt;&gt; rijec;
            if(rijec == ".") break;
            std::set&lt;int&gt; set(PretraziIndeksPojmova(rijec, mapa));
<a name="2"></a><font color="#0000FF"><a href="match785-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_5.gif"/></a>

            for(auto x : set) std::cout &lt;&lt; x &lt;&lt; " ";
            std::cout &lt;&lt; std::endl;
        }
        catch(std::logic_error izuzetak) {
            std::cout &lt;&lt; "Unesena rijec nije nadjena!" &lt;&lt; std::endl;
</font>        }
        
    }
    
	return 0;
}</pre>
</body>
</html>
