<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z2/student2675.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z2/student2675.cpp<p></p><pre>
/B2016/2017: ZadaÄ‡a 3, Zadatak 2
#include &lt;iostream&gt;
#include &lt;string&gt;
#include &lt;stdexcept&gt;
#include &lt;map&gt;
#include &lt;set&gt;
#include &lt;algorithm&gt;

<a name="0"></a><font color="#FF0000"><a href="match200-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_54.gif"/></a>

std::map&lt;std::string,std::set&lt;int&gt;&gt; KreirajIndeksPojmova(std::string tekst)
{
    std::map&lt;std::string,std::set&lt;int&gt;&gt; mapa;
    for(char &amp;c:tekst) c=tolower(c);
    std::string rijec;
    for(int i=0;i&lt;tekst.length();)
    {
        while(i!=tekst.length()&amp;&amp;!((tekst[i]&gt;='A'&amp;&amp;tekst[i]&lt;='Z')||(tekst[i]&gt;='a'&amp;&amp;tekst[i]&lt;='z')||(tekst[i]&gt;='0'&amp;&amp;tekst[i]&lt;='9'))) i++;
        if(i==tekst.length()) break;
        int n=i;
        while(i!=tekst.length()&amp;&amp;((tekst[i]&gt;='A'&amp;&amp;tekst[i]&lt;='Z')||(tekst[i]&gt;='a'&amp;&amp;tekst[i]&lt;='z')||(tekst[i]&gt;='0'&amp;&amp;tekst[i]&lt;='9')))
            rijec.push_back(tekst[i++]);
        mapa[rijec].insert(n);
        rijec={};
    }
    return mapa;
}

std::set&lt;int&gt; PretraziIndeksPojmova(std::string trazeni,std::map&lt;std::string,std::set&lt;int&gt;&gt; mapa)
{
    for(char &amp;c:trazeni) c=tolower(c);
    if(!mapa.count(trazeni)) throw std::logic_error("Pojam nije nadjen");
    return mapa[trazeni];
}

void IspisiIndeksPojmova(std::map&lt;std::string,std::set&lt;int&gt;&gt; mapa)
{
    for(auto it=mapa.begin();it!=mapa.end();it++)
</font>    {
<a name="1"></a><font color="#00FF00"><a href="match200-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_35.gif"/></a>

        std::cout &lt;&lt; it-&gt;first &lt;&lt; ": ";
        for(auto it2=(it-&gt;second).begin();it2!=(it-&gt;second).end();it2++)
        {
            if(it2!=(it-&gt;second).begin()) std::cout &lt;&lt; ",";
            std::cout &lt;&lt; *it2;
        }
        std::cout &lt;&lt; "\n";
    }
}

int main ()
{
    std::cout &lt;&lt; "Unesite tekst: ";
    std::string tekst;
    std::getline(std::cin, tekst);
    std::map&lt;std::string,std::set&lt;int&gt;&gt; mapa = KreirajIndeksPojmova(tekst);
    IspisiIndeksPojmova(mapa);
    while(std::cout &lt;&lt; "Unesite rijec: ",std::getline(std::cin, tekst),tekst!=".")
    {
        try
        {
            std::set&lt;int&gt; pom=PretraziIndeksPojmova(tekst,mapa);
            for(auto it=pom.begin();it!=pom.end();it++) std::cout &lt;&lt; *it &lt;&lt;" ";
            std::cout &lt;&lt; "\n";
        }
        catch(std::logic_error)
        {
            std::cout &lt;&lt; "Unesena rijec nije nadjena!\n";
</font>        }
    }
	return 0;
}</pre>
</body>
</html>
