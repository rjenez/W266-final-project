<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z2/student4163.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z2/student6973.cpp<p></p><pre>
/B2016/2017: ZadaÄ‡a 3, Zadatak 2
#include &lt;iostream&gt;
#include &lt;string&gt;
#include &lt;map&gt;
#include &lt;set&gt;
#include &lt;algorithm&gt;
#include &lt;stdexcept&gt;

<a name="3"></a><font color="#00FFFF"><a href="match285-0.html#3" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_4.gif"/></a>

std::map&lt;std::string, std::set&lt;int&gt;&gt; KreirajIndeksPojmova(std::string s) {
    std::map&lt;std::string, std::set&lt;int&gt;&gt; mapa;
    int i{};
</font>    for(int j = 0; j &lt; s.length(); j++) {
        if(s[j] &gt;= 'A' &amp;&amp; s[j] &lt;= 'Z') s[j] = s[j] + 32;
    }
    while(i &lt; s.length()) {
        std::string pom;
        //if((s[i] &gt;= 'a' &amp;&amp; s[i] &lt;= 'z') || (s[i] &gt;= 'a' &amp;&amp; s[i] &lt;= 'z')) {
        while(((s[i] &gt;= '!' &amp;&amp; s[i] &lt;= '/') || (s[i] &gt; 'Z' &amp;&amp; s[i] &lt; 'a') || (s[i] &gt; 'z' &amp;&amp; s[i] &lt;= '~' )) &amp;&amp; i &lt;s.length()) i++;
        while(((s[i] &gt;= 'a' &amp;&amp; s[i] &lt;='z') || (s[i] &gt;= '0' &amp;&amp; s[i] &lt;= '9')) &amp;&amp; i &lt; s.length()) {
            pom.push_back(s[i]);
            i++;
        }
        auto it(mapa.find(pom));
        if(it == mapa.end()) {
            std::set&lt;int&gt; skup;
            skup.insert(i - pom.length());
            mapa.insert(std::make_pair(pom, skup));
        }
        else{
            auto it(mapa.find(pom));
            it-&gt;second.insert(i - pom.length());
        }
        //std::cout &lt;&lt; pom &lt;&lt; std::endl;
        i++;
    }
    return mapa;
}

<a name="4"></a><font color="#FF00FF"><a href="match285-0.html#4" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_4.gif"/></a>

std::set&lt;int&gt; PretraziIndeksPojmova(std::string rijec, std::map&lt;std::string, std::set&lt;int&gt;&gt; mapa) {
    int nadjena{};
</font>    std::set&lt;int&gt; skup;
    for(int j = 0; j &lt; rijec.length(); j++) {
        if(rijec[j] &gt;= 'A' &amp;&amp; rijec[j] &lt;= 'Z') rijec[j] = rijec[j] + 32;
    }
<a name="2"></a><font color="#0000FF"><a href="match285-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_5.gif"/></a>

    for(auto it = mapa.begin(); it != mapa.end(); it++) {
        if(it-&gt;first == rijec) {
            nadjena++;
            return it-&gt;second;
        }
    }
    if(nadjena == 0) throw std::logic_error("Unesena rijec nije nadjena!");
</font>    return skup;
}

void IspisiIndeksPojmova(std::map&lt;std::string, std::set&lt;int&gt;&gt; mapa) {
    for(auto it = mapa.begin(); it != mapa.end(); it++) {
        std::cout &lt;&lt; it-&gt;first &lt;&lt; ": ";
        int br{};
<a name="0"></a><font color="#FF0000"><a href="match285-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_9.gif"/></a>

        for(int x : it-&gt;second) {
            if(br &lt; it-&gt;second.size() - 1) std::cout &lt;&lt; x &lt;&lt; ",";
            else std::cout &lt;&lt; x;
            br++;
              
        }
        std::cout &lt;&lt; std::endl;
    }
}


int main ()
{
    std::string s;
    std::cout &lt;&lt; "Unesite tekst: ";
    std::getline(std::cin, s);
</font>    std::map&lt;std::string, std::set&lt;int&gt;&gt; mapa(KreirajIndeksPojmova(s));
    IspisiIndeksPojmova(mapa);
    for(;;){
        std::string rijec;
        std::cout &lt;&lt; "Unesite rijec: ";
        std::cin &gt;&gt; rijec;
<a name="1"></a><font color="#00FF00"><a href="match285-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_6.gif"/></a>

        if(rijec == ".") break;
        try{
        std::set&lt;int&gt; skup(PretraziIndeksPojmova(rijec, mapa));
        for(int x: skup) std::cout &lt;&lt; x &lt;&lt; " ";
        std::cout &lt;&lt; std::endl;
        }
        catch(std::logic_error izuzetak) {
</font>            std::cout &lt;&lt; izuzetak.what() &lt;&lt; std::endl;
        }
    }
    //AT16 (zamger): random stuff 
    /*auto m = KreirajIndeksPojmova("cvbkn34m5.n,34r67fgudbsc$%&amp;/I()HVBNBn/&amp;/&amp;n///z&amp;asdb23rgf87baew bfcQN3RCG3BR83O4NZTH");
    IspisiIndeksPojmova(m);
    auto skup = PretraziIndeksPojmova("n", m);
    for (const auto &amp;c : skup) std::cout &lt;&lt; c &lt;&lt; " ";*/
	return 0;
}</pre>
</body>
</html>
