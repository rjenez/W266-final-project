<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z2/student8957.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z2/student8957.cpp<p></p><pre>
<a name="1"></a><font color="#00FF00"><a href="match826-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_4.gif"/></a>

/B2016/2017: ZadaÄ‡a 3, Zadatak 2
#include &lt;iostream&gt;
#include &lt;vector&gt;
#include &lt;set&gt;
#include &lt;map&gt;

bool DaLiJe (char c){
    if ((c&gt;='A' &amp;&amp; c&lt;='Z') || (c&gt;='a' &amp;&amp; c&lt;='z') || (c&gt;='0' &amp;&amp; c&lt;='9')) 
</font>        return false;
    return true;
}
<a name="2"></a><font color="#0000FF"><a href="match826-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_3.gif"/></a>

std::string PretvoriUMala (std::string s){
    for (int i=0;i&lt;s.length();i++){
        if (s[i]&gt;='A' &amp;&amp; s[i]&lt;='Z')
</font>            s[i]+='a'-'A';
    }
    return s;
}

std::map&lt;std::string, std::set&lt;int&gt;&gt; KreirajIndeksPojmova (std::string s){
    std::map&lt;std::string,std::set&lt;int&gt;&gt; konacna;
    std::vector&lt;std::string&gt;v;
    std::string pomocni;
    s=PretvoriUMala(s);
    for (int i=0;i&lt;s.length();i++){
        pomocni.resize(0);
        while (i&lt;s.length() &amp;&amp; ((s[i]&gt;='A' &amp;&amp; s[i]&lt;='Z') || (s[i]&gt;='a' &amp;&amp; s[i]&lt;='z') || (s[i]&gt;='0' &amp;&amp; s[i]&lt;='9'))){
            pomocni.push_back(s[i]);
            i++;
        }
        if (pomocni.length()!=0) v.push_back(pomocni);
    }
    
    for (int i=0;i&lt;v.size();i++){
        for (int j=i+1;j&lt;v.size();j++){
            if(v[i]==v[j]){
                for (int k=j;k&lt;v.size()-1;k++){
                    v[k]=v[k+1];
                }
                v.resize(v.size()-1);
                j--;
            }
        }
    }
    
    int k(0);
    std::string trenutna;
    
    for (int i=0;i&lt;v.size();i++){
        trenutna=v[i];
        std::set&lt;int&gt; skup;
        for (int j=0;j&lt;s.length();j++){
            k=0;
            while (j&lt;s.length() &amp;&amp; k&lt;trenutna.length() &amp;&amp; trenutna[k]==s[j]){
                k++;
                j++;
            }
            if ((k==trenutna.length() &amp;&amp; j-k==0 &amp;&amp; DaLiJe(s[j])) || (k==trenutna.length() &amp;&amp; j==s.length() &amp;&amp; DaLiJe(s[j-k-1])) || (k==trenutna.length() &amp;&amp; DaLiJe(s[j]) &amp;&amp; DaLiJe(s[j-k-1]))){
            skup.insert(j-k);
            }
        }
        konacna.insert(std::make_pair(trenutna,skup));
    }
    return konacna;
}

std::set&lt;int&gt; PretraziIndeksPojmova (std::string rijec, std::map&lt;std::string, std::set&lt;int&gt;&gt; mapa){
    std::set&lt;int&gt; skup;
    auto it(mapa.find(rijec));
    if (it==mapa.end()) throw std::logic_error ("Unesena rijec nije nadjena!");
    else skup=it-&gt;second;
    return skup;
}

void IspisiIndeksPojmova (std::map&lt;std::string, std::set&lt;int&gt;&gt; mapa){
    int a(0);
    for (auto it=mapa.begin();it!=mapa.end();it++){
        std::cout&lt;&lt;it-&gt;first&lt;&lt;": ";
        a=0;
        for (auto it1=it-&gt;second.begin();it1!=it-&gt;second.end();it1++){
            if (a==0) 
                std::cout&lt;&lt;*it1;
            else 
                std::cout&lt;&lt;","&lt;&lt;*it1;
            a++;
        }
        std::cout&lt;&lt;std::endl;
    }
}

int main ()
{
    std::string tekst;
    std::cout&lt;&lt;"Unesite tekst: ";
    std::getline(std::cin, tekst);
    std::map&lt;std::string, std::set&lt;int&gt;&gt; mapa(KreirajIndeksPojmova(tekst));
    IspisiIndeksPojmova(mapa);
    std::string rijec;
    std::set&lt;int&gt; skup;
    do{
        std::cout&lt;&lt;"Unesite rijec: ";
        std::getline(std::cin,rijec);
        if (rijec==".") break;
        try{
<a name="0"></a><font color="#FF0000"><a href="match826-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_6.gif"/></a>

            skup=PretraziIndeksPojmova(rijec, mapa);
            for (auto it=skup.begin();it!=skup.end();it++)
                std::cout&lt;&lt;*it&lt;&lt;" ";
            std::cout&lt;&lt;std::endl;
        }
        catch (std::logic_error izuzetak){
            std::cout&lt;&lt;izuzetak.what()&lt;&lt;std::endl;
</font>        }
        
    }while (rijec!=".");
	return 0;
}</pre>
</body>
</html>
