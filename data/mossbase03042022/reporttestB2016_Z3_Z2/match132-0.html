<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z2/student8389.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z2/student8389.cpp<p></p><pre>
/B2016/2017: ZadaÄ‡a 3, Zadatak 2
#include &lt;iostream&gt;
#include &lt;string&gt;
#include &lt;set&gt;
#include &lt;map&gt;
#include &lt;utility&gt;
#include &lt;stdexcept&gt;
<a name="0"></a><font color="#FF0000"><a href="match132-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_94.gif"/></a>

std::map&lt;std::string, std::set&lt;int&gt;&gt; KreirajIndeksPojmova (std::string s) {
    std::map&lt;std::string, std::set&lt;int&gt;&gt; mapa;
    int brojac1(0), brojac2(0), brojac(0);
    auto pok(s.begin());
    while (pok!=s.end()) {
        if (*pok&gt;='A' &amp;&amp; *pok&lt;='Z') 
            *pok+=32;
            pok++;
    }
    pok=s.begin();
    while (pok!=s.end()) {
        std::string novi;
        novi.resize(0);
        while (pok!=s.end()) {
            if ((*pok&lt;'a' || *pok&gt;'z') &amp;&amp; (*pok&lt;'0' || *pok&gt;'9')) {
                pok++;
                brojac1++;
            }
            else break;
        }
    if (pok==s.end()) break;
    auto pocetak(s.begin());
    auto pocetakrijeci(pok);
    brojac=pocetakrijeci-pocetak;
    while (pok!=s.end()) {
        if ((*pok&gt;='a' &amp;&amp; *pok&lt;='z') || (*pok&gt;='0' &amp;&amp; *pok&lt;='9')) {
            novi.push_back(*pok);
            pok++;
            brojac2++;
        }
        else break;
    }
    auto it(mapa.find(novi));
    if (it!=mapa.end()) {
        it-&gt;second.insert(brojac);
    }
    if (it==mapa.end()) {
    mapa.insert(std::make_pair(novi, std::set&lt;int&gt;{brojac}));
    }
    }
    return mapa;
}
std::set&lt;int&gt; PretraziIndeksPojmova (std::string s, std::map&lt;std::string, std::set&lt;int&gt;&gt;mapa) {
    std::set&lt;int&gt;skup;
    auto it(mapa.find(s));
    if (it!=mapa.end()) { 
    auto drugi(it-&gt;second.begin());
    for (int i=0; i&lt;it-&gt;second.size(); i++) {
        skup.insert({*drugi});
        drugi++;
    }
    }
    else {
        throw std::logic_error ("Pojam nije nadjen");
    }
    return skup;
}
void IspisiIndeksPojmova(std::map&lt;std::string, std::set&lt;int&gt;&gt; mapa) {
    auto prvi(mapa.begin());
    for (prvi=mapa.begin(); prvi!=mapa.end(); prvi++) {
        std::cout&lt;&lt;prvi-&gt;first&lt;&lt;": ";
    auto drugi(prvi-&gt;second.begin());
    for (int i=0; i&lt;prvi-&gt;second.size()-1; i++){
        std::cout&lt;&lt;*drugi&lt;&lt;",";
        drugi++;
    }
    std::cout&lt;&lt;*drugi&lt;&lt;std::endl;
    }
}
int main ()
{
  std::cout&lt;&lt;"Unesite tekst: ";
  std::string s;
  std::getline(std::cin, s);
  std::map&lt;std::string, std::set&lt;int&gt;&gt;mapa(KreirajIndeksPojmova(s));
  IspisiIndeksPojmova(mapa);
  std::string rijec;
  for (;;) {
      std::cout&lt;&lt;"Unesite rijec: ";
      std::set&lt;int&gt; skup;
      std::getline(std::cin, rijec);
      if (rijec==".") break;
      try { 
         skup=(PretraziIndeksPojmova(rijec, mapa));
         for (auto x:skup) std::cout&lt;&lt;x&lt;&lt;" ";
         std::cout&lt;&lt;std::endl;
      }
      catch (std::logic_error ) {
          std::cout&lt;&lt;"Unesena rijec nije nadjena!\n";
      }
  }
	return 0;
</font>}</pre>
</body>
</html>
