<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z2/student8599.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z2/student8357.cpp<p></p><pre>
#include &lt;iostream&gt;
#include &lt;string&gt;
#include &lt;stdexcept&gt;
#include &lt;map&gt;
#include &lt;set&gt;
using std::cin;
using std::cout;
using std::endl;
using std::map;
using std::string;
using std::set;
set&lt;int&gt; DajSkup(string s,string rijec){
    set&lt;int&gt; skup;
    for(int i=0;i&lt;s.length();i++){
<a name="0"></a><font color="#FF0000"><a href="match730-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_4.gif"/></a>

        while((s[i]&lt;'A' &amp;&amp; s[i]&gt;'Z') || (s[i]&lt;'a' &amp;&amp; s[i]&gt;'z') || (s[i]&lt;'0' &amp;&amp; s[i]&gt;'9')){
            i++;
            if(i==s.length()) break;
</font>        }
        int broj_slova(0),pozicija(i);
<a name="2"></a><font color="#0000FF"><a href="match730-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_3.gif"/></a>

        while((s[i]&gt;='A' &amp;&amp; s[i]&lt;='Z') || (s[i]&gt;='a' &amp;&amp; s[i]&lt;='z') || (s[i]&gt;='0' &amp;&amp; s[i]&lt;='9')){
            i++;
            broj_slova++;
</font>            if(i==s.length()) break;
        }
        string pomocni(s.substr(pozicija,broj_slova));
        if(rijec==pomocni) skup.insert(pozicija);
    }
    return skup;
}

map&lt;string,set&lt;int&gt;&gt; KreirajIndeksPojmova(string s){
    map&lt;string,set&lt;int&gt;&gt; Rezultat;
    for(int i=0;i&lt;s.length();i++){
        if(s[i]&gt;='A' &amp;&amp; s[i]&lt;='Z') s[i]+=32;
    }
    for(int i=0;i&lt;s.length();i++){
<a name="1"></a><font color="#00FF00"><a href="match730-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_4.gif"/></a>

        while((s[i]&lt;'A' &amp;&amp; s[i]&gt;'Z') || (s[i]&lt;'a' &amp;&amp; s[i]&gt;'z') || (s[i]&lt;'0' &amp;&amp; s[i]&gt;'9')){
            i++;
            if(i==s.length()) break;
</font>        }
        int broj_slova(0),pozicija(i);
<a name="3"></a><font color="#00FFFF"><a href="match730-0.html#3" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_3.gif"/></a>

        while((s[i]&gt;='A' &amp;&amp; s[i]&lt;='Z') || (s[i]&gt;='a' &amp;&amp; s[i]&lt;='z') || (s[i]&gt;='0' &amp;&amp; s[i]&lt;='9')){
            i++;
            broj_slova++;
</font>            if(i==s.length()) break;
        }
        string pomocni(s.substr(pozicija,broj_slova));
        set&lt;int&gt; skup;
        if(pomocni!=""){
        skup=DajSkup(s,pomocni);
        Rezultat.insert(std::make_pair(pomocni,skup));
        }
    }
    return Rezultat;
}

set&lt;int&gt; PretraziIndeksPojmova(string s,map&lt;string,set&lt;int&gt;&gt; pojmovi){
    auto it(pojmovi.begin());
    while(it!=pojmovi.end()){
        if(it-&gt;first==s){
            return it-&gt;second;
        }
        it++;
    }
    throw std::logic_error("Pojam nije nadjen");
}

void IspisiIndeksPojmova(map&lt;string,set&lt;int&gt;&gt; pojmovi){
    auto it(pojmovi.begin());
    while(it!=pojmovi.end()){
        cout&lt;&lt;(it-&gt;first)&lt;&lt;": ";
        auto it1((it-&gt;second).begin());
        int i(1);
        while(it1!=(it-&gt;second).end()){
            cout&lt;&lt;*it1++;
            if(i++!=std::distance((it-&gt;second).begin(),(it-&gt;second).end())) cout&lt;&lt;",";
        }
        cout&lt;&lt;endl;
        it++;
    }
}
int main ()
{
    cout&lt;&lt;"Unesite tekst: ";
    string s;
    getline(cin,s);
    map&lt;string,set&lt;int&gt;&gt; mapa;
    mapa=KreirajIndeksPojmova(s);
    IspisiIndeksPojmova(mapa);
    string unos;
    do{
        cout&lt;&lt;"Unesite rijec: ";
        getline(cin,unos);
        if(unos==".") break;
        else{
            set&lt;int&gt; skup;
            try{
            skup=PretraziIndeksPojmova(unos,mapa);
            }catch(...){
                cout&lt;&lt;"Unesena rijec nije nadjena!";
            }
            auto it(skup.begin());
            while(it!=skup.end()){
                cout&lt;&lt;*it++&lt;&lt;" ";
            }
        }
        cout&lt;&lt;endl;
    }while(unos!=".");
	return 0;
}</pre>
</body>
</html>
