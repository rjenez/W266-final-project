<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z2/student1477.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z2/student1364.cpp<p></p><pre>
/B2016/2017: ZadaÄ‡a 3, Zadatak 2
#include &lt;iostream&gt;
#include &lt;string&gt;
#include &lt;map&gt;
#include &lt;set&gt;
#include &lt;stdexcept&gt;
#include &lt;vector&gt;
#include &lt;algorithm&gt;

using std::cin; using std::cout; using std::endl;

std::string PretvoriUMala (const std::string &amp;s) {
    std::string t(s);
    for (int i=0; i&lt;t.size(); i++) {
        if (t[i]&gt;='A' &amp;&amp; t[i]&lt;='Z') t[i]+='a'-'A';
    }
    return t;
}

std::vector&lt;std::string&gt; PronadjiRijeci (const std::string &amp;tekst) {
    //Pretvorimo sva velika u mala slova
    auto t(PretvoriUMala(tekst));
    std::vector&lt;std::string&gt; vektor_rijeci;
    bool neispravan_znak (true);
    for (int i=0; i&lt;t.size(); i++) {
        if (!((t[i]&gt;='a' &amp;&amp; t[i]&lt;='z') || (t[i]&gt;='0' &amp;&amp; t[i]&lt;='9'))) neispravan_znak=true;
        else if (neispravan_znak) {
            neispravan_znak=false;
            std::string rijec;
<a name="2"></a><font color="#0000FF"><a href="match468-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_3.gif"/></a>

            while ((t[i]&gt;='a' &amp;&amp; t[i]&lt;='z') || (t[i]&gt;='0' &amp;&amp; t[i]&lt;='9')) {
                rijec.push_back(t[i]);
</font>                i++;
            }
            //Provjerimo da li se rijec vec nalazi u vektoru
            int j(0);
            for (j=0; j&lt;vektor_rijeci.size(); j++) {
                if (vektor_rijeci[j]==rijec) break; //Poredimo dva stringa
            }
            if (j==vektor_rijeci.size()) vektor_rijeci.push_back(rijec); //Nije doslo do prekida petlje, nova rijec
            i--;
        }
    }
    //Sortirajmo vektor_rijeci po abecedi
    std::sort(vektor_rijeci.begin(), vektor_rijeci.end());
    return vektor_rijeci;
}

std::set&lt;int&gt; PopuniSkupIndeksima (const std::string &amp;tekst_za_analizu, const std::string &amp;rijec_tekst) {
    std::set&lt;int&gt; rez;
    std::string tekst(PretvoriUMala(tekst_za_analizu));
    bool neispravan_znak (true);
    for (int j=0; j&lt;tekst.size(); j++) {
        if (!((tekst[j]&gt;='a' &amp;&amp; tekst[j]&lt;='z') || (tekst[j]&gt;='0' &amp;&amp; tekst[j]&lt;='9'))) neispravan_znak=true;
        else if (neispravan_znak) {
        neispravan_znak=false;
<a name="1"></a><font color="#00FF00"><a href="match468-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_3.gif"/></a>

        std::string rijec; 
        int poc(j);
        while ((tekst[j]&gt;='a' &amp;&amp; tekst[j]&lt;='z') || (tekst[j]&gt;='0' &amp;&amp; tekst[j]&lt;='9')) {
</font>            rijec.push_back(tekst[j]);
            j++;
        }
        if (rijec==rijec_tekst) {
            rez.insert(poc);
        }
        j--;
        }
    }
    return rez;
}

std::map&lt;std::string, std::set&lt;int&gt;&gt; KreirajIndeksPojmova (std::string tekst_za_analizu) {
    std::map&lt;std::string, std::set&lt;int&gt;&gt; m_rezultat;
    //Ne pravimo razliku izmedju velikih i malih slova, u mapi rijeci samo sa malim slovima
    //rijeci od slova i cifara
    auto vektor_rijeci(PronadjiRijeci(tekst_za_analizu));
    std::vector&lt;std::set&lt;int&gt;&gt; vektor_skupova;
    for (int i=0; i&lt;vektor_rijeci.size(); i++) {
        //Prolazimo kroz vektor rijeci, pravimo vektor skupova
        vektor_skupova.push_back(PopuniSkupIndeksima(tekst_za_analizu, vektor_rijeci[i]));
    }
    //Popunimo mapu
    for (int i=0; i&lt;vektor_rijeci.size(); i++) {
        m_rezultat.insert(std::make_pair(vektor_rijeci[i], vektor_skupova[i]));
    }
    return m_rezultat;
}

<a name="0"></a><font color="#FF0000"><a href="match468-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_10.gif"/></a>

std::set&lt;int&gt; PretraziIndeksPojmova(std::string rijec, std::map&lt;std::string, std::set&lt;int&gt;&gt; mapa) {
    for (auto it=mapa.begin(); it != mapa.end(); it++) {
        if (it-&gt;first==rijec) return it-&gt;second;
    }
    throw std::logic_error ("Pojam nije nadjen");
}

void IspisiIndeksPojmova (std::map&lt;std::string, std::set&lt;int&gt;&gt; mapa) {
    for (auto it=mapa.begin(); it != mapa.end(); it++) {
</font>        cout &lt;&lt; it-&gt;first &lt;&lt; ": ";
        int i(0);
        for (int x: it-&gt;second) {
            if (i!=(it-&gt;second).size()-1) cout &lt;&lt; x &lt;&lt; ",";
            else cout &lt;&lt; x;
            i++;
        }
        cout &lt;&lt; endl;
    }
}

int main ()
{
    cout &lt;&lt; "Unesite tekst: ";
    std::string tekst;
    std::getline(cin, tekst);
    std::vector&lt;std::string&gt; vektor_rijeci;
    IspisiIndeksPojmova(KreirajIndeksPojmova(tekst));
    std::string unos;
    for (;;) {
        cout &lt;&lt; "Unesite rijec: ";
        std::getline(cin, unos);
        if (unos==".") return 0;
        try {
            auto s=PretraziIndeksPojmova(unos, KreirajIndeksPojmova(tekst));
            for (int x: s) cout &lt;&lt; x &lt;&lt; " ";
            cout &lt;&lt; endl;
        }
        catch(std::logic_error) {
            cout &lt;&lt; "Unesena rijec nije nadjena!" &lt;&lt; endl;
        }
    }
	return 0;
}</pre>
</body>
</html>
