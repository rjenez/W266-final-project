<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z2/student3483.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z2/student3483.cpp<p></p><pre>
/B2016/2017: ZadaÄ‡a 3, Zadatak 2
#include &lt;iostream&gt;
#include &lt;string&gt;
#include &lt;map&gt;
#include &lt;set&gt;
#include &lt;vector&gt;
#include &lt;stdexcept&gt;

std::map&lt;std::string, std::set&lt;int&gt;&gt; KreirajIndeksPojmova(std::string s)
{
    std::map&lt;std::string, std::set&lt;int&gt;&gt; map;
    char* pok(&amp;s[0]);
    std::vector&lt;std::string&gt; vek;
    std::vector&lt;std::set&lt;int&gt;&gt; set;
    int broj(0), trbroj(0);
    while(pok != &amp;s[s.size()])
    {
        std::string str1, str2;
        while((*pok &lt; 'a' || *pok &gt; 'z') &amp;&amp; (*pok &lt; '0' || *pok &gt; '9') &amp;&amp; (*pok &lt; 'A' || *pok &gt; 'Z'))
        {
            pok++;
            broj++;
        }
        trbroj = broj;
        while(((*pok &gt;= 'a' &amp;&amp; *pok &lt;= 'z') || (*pok &gt;= 'A' &amp;&amp; *pok &lt;= 'Z') || (*pok &gt;= '0' &amp;&amp; *pok &lt;= '9')) &amp;&amp; pok != &amp;s[s.size()])
        {
            str1 = *pok;
            if(str1[0] &gt;= 'A' &amp;&amp; str1[0] &lt;= 'Z')
                str1[0] += 32;
            str2 += str1;
            pok++;
            broj++;
        }
        bool postoji(false);
        for(int i = 0; i &lt; vek.size(); i++)
            if(str2 == vek[i])
            {
                postoji = true;
                set[i].insert(trbroj);
                break;
            }
        if(!postoji)
        {
            vek.push_back(str2);
            set.resize(vek.size());
            set[vek.size()-1].insert(trbroj);
        }
    }
<a name="0"></a><font color="#FF0000"><a href="match725-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_19.gif"/></a>

    for(int i = 0; i &lt; vek.size(); i++)
        map.insert(std::make_pair(vek[i], set[i]));
    return map;
}

std::set&lt;int&gt; PretraziIndeksPojmova(std::string s, std::map&lt;std::string, std::set&lt;int&gt;&gt; map)
{
    for(auto i = map.begin(); i != map.end(); i++)
        if(i-&gt;first == s)
            return i-&gt;second;
    throw std::logic_error("Unesena rijec nije nadjena!");
}

void IspisiIndeksPojmova(std::map&lt;std::string, std::set&lt;int&gt;&gt; map)
{
    for(auto i = map.begin(); i != map.end(); i++)
</font>    {
        std::set&lt;int&gt; set1(i-&gt;second);
        std::cout&lt;&lt;i-&gt;first&lt;&lt;": ";
        int vel(set1.size()), trvel(1);
        for(int x : set1)
        {
            if(trvel == vel)
                std::cout&lt;&lt;x;
            else
            {
                std::cout&lt;&lt;x&lt;&lt;",";
                trvel++;
            }
        }
        std::cout&lt;&lt;std::endl;
    }
}

int main ()
{
    std::cout&lt;&lt;"Unesite tekst: ";
    std::string s;
    std::getline(std::cin, s);
    std::map&lt;std::string, std::set&lt;int&gt;&gt; map(KreirajIndeksPojmova(s));
    IspisiIndeksPojmova(map);
    std::string str;
    do
    {
        try{
        std::cout&lt;&lt;"Unesite rijec: ";
        std::getline(std::cin, str);
        if(str == ".")
            break;
        std::set&lt;int&gt; set(PretraziIndeksPojmova(str, map));
        for(int x : set)
        {
           std::cout&lt;&lt;x&lt;&lt;" ";
        }
        std::cout&lt;&lt;std::endl;
        }
        catch(std::logic_error x)
        {
            std::cout&lt;&lt;x.what()&lt;&lt;std::endl;
        }
    }
    while(str != ".");
	return 0;
}</pre>
</body>
</html>
