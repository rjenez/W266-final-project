<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z2/student1943.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z2/student9897.cpp<p></p><pre>
/B2016/2017: ZadaÄ‡a 3, Zadatak 2
#include &lt;iostream&gt;
#include &lt;string&gt;
#include &lt;set&gt;
#include &lt;map&gt;
#include &lt;utility&gt;
#include &lt;vector&gt;

std::map&lt;std::string, std::set&lt;int&gt;&gt; KreirajIndeksPojmova (std::string s) {
    
    std::map&lt;std::string, std::set&lt;int&gt;&gt; mapa; 
    int duzina(s.length()); 
    
    for (int i=0; i&lt;duzina; i++) {
        std::set&lt;int&gt; indeksi; 
         
        if ((s[i]&gt;='A' &amp;&amp; s[i]&lt;='Z') || (s[i]&gt;='a' &amp;&amp; s[i]&lt;='z') || (s[i]&gt;='0' &amp;&amp; s[i]&lt;='9')) {
        int br(i);
        
        while ((s[i]&gt;='A' &amp;&amp; s[i]&lt;='Z') || (s[i]&gt;='a' &amp;&amp; s[i]&lt;='z') || (s[i]&gt;='0' &amp;&amp; s[i]&lt;='9')) {
            if (i==duzina) break; 
            i++;
        }
        
        int prva(i); 
        int d; 
        d=(prva-br); 
        
        std::string pomocna(s.substr(br,d));
        
        int br2(0); 
        
        for (int j=0; j&lt;duzina; j++) {
<a name="1"></a><font color="#00FF00"><a href="match637-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_3.gif"/></a>

            if ((s[j]&gt;='A' &amp;&amp; s[j]&lt;='Z') || (s[j]&gt;='a' &amp;&amp; s[j]&lt;='z') || (s[j]&gt;='0' &amp;&amp; s[j]&lt;='9')) {
            br2=j; 
</font>        
        while ((s[j]&gt;='A' &amp;&amp; s[j]&lt;='Z') || (s[j]&gt;='a' &amp;&amp; s[j]&lt;='z') || (s[j]&gt;='0' &amp;&amp; s[j]&lt;='9')) {
            if (j==duzina) break; 
            j++; 
        }
    }
    
     std::string rijec(s.substr(br2, j-br2));  
     if (rijec==pomocna) 
     indeksi.insert(br2);
            
        }
        mapa.insert (std::make_pair(pomocna, indeksi));
        
     }
    }

<a name="2"></a><font color="#0000FF"><a href="match637-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_3.gif"/></a>

    return mapa; 
}

std::set&lt;int&gt; PretraziIndeksPojmova (std::string rijec, std::map&lt;std::string, std::set&lt;int&gt;&gt; mapa) {
</font><a name="0"></a><font color="#FF0000"><a href="match637-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_6.gif"/></a>

  
    auto it(mapa.find(rijec)); 
    
    if (it==mapa.end()) throw std::logic_error ("Unesena rijec nije nadjena!"); 
    return it-&gt;second; 
}

void IspisiIndeksPojmova (std::map&lt;std::string, std::set&lt;int&gt;&gt; mapa) {
    std::vector&lt;int&gt; vektor;
</font>    for (auto it=mapa.begin(); it!=mapa.end(); it++) {
        int brojac(0); 
         
        for (auto it1(it-&gt;second.begin()); it1!=(it-&gt;second.end()); it1++)
            brojac++; 
            vektor.push_back(brojac); 
        }
        int a(0); 
        
        for (auto it=mapa.begin(); it!=mapa.end(); it++) {
            std::cout &lt;&lt; it-&gt;first &lt;&lt; ": "; 
            int brojac(0); 
            
            for (auto x : it-&gt;second) {
                if (brojac!=vektor[a]-1) std::cout &lt;&lt; x &lt;&lt; ","; 
                else std::cout &lt;&lt; x &lt;&lt; " "; 
                brojac++; 
            }
            a++; 
            std::cout &lt;&lt; std::endl;
    }
}

int main ()
{
    std::string s; 
    std::cout &lt;&lt; "Unesite tekst: "; 
    std::getline(std::cin, s); 
    
    auto mapa(KreirajIndeksPojmova(s)); 
    IspisiIndeksPojmova(mapa);
    
    for (;;) {
    std::string rijec; 
    std::cout &lt;&lt; "Unesite rijec: "; 
    std::getline(std::cin, rijec); 
    
    if (rijec==".") break; 
    
    try {
        auto skup(PretraziIndeksPojmova(rijec, mapa)); 
        for (auto x : skup) 
        std::cout &lt;&lt; x &lt;&lt; " "; 
<a name="3"></a><font color="#00FFFF"><a href="match637-0.html#3" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_3.gif"/></a>

        std::cout &lt;&lt; std::endl; 
    }
    catch(std::logic_error e) {
        std::cout &lt;&lt; e.what() &lt;&lt; std::endl;
    }
    }
   
	return 0;
</font>}</pre>
</body>
</html>
