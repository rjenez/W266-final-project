<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z2/student3807.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z2/student3807.cpp<p></p><pre>
/B2016/2017: ZadaÄ‡a 3, Zadatak 2
#include &lt;iostream&gt;
#include &lt;map&gt;
#include &lt;set&gt;
#include &lt;string&gt;
#include &lt;vector&gt;
#include &lt;stdexcept&gt;
#include &lt;cctype&gt;
std::map&lt;std::string, std::set&lt;int&gt;&gt; KreirajIndeksPojmova (const std::string &amp;s)
{
    std::map&lt;std::string, std::set&lt;int&gt;&gt; mapa;
    for(unsigned int i=0; i&lt;s.length(); i++){
        if(isalpha(s[i])){       //biblioteka cctype
            std::set&lt;int&gt; skup;
            std::string temp; 
            while(s[i]!=' ' &amp;&amp; i&lt;s.length()){
                temp.push_back(s[i]);
                i++;
            }
            auto p(mapa.find(temp));
            if(p!=mapa.end()) p-&gt;second.insert(i-temp.size());
            else {
                skup.insert(i-temp.size());
<a name="2"></a><font color="#0000FF"><a href="match431-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_5.gif"/></a>

                mapa.insert(std::pair&lt;std::string, std::set&lt;int&gt;&gt;(temp,skup));
            }
        }
    }
    return mapa;
}

std::set&lt;int&gt; PretraziIndeksPojmova (const std::string &amp;s, std::map&lt;std::string, std::set&lt;int&gt;&gt; mapa){
</font><a name="1"></a><font color="#00FF00"><a href="match431-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_8.gif"/></a>

    auto p(mapa.find(s));
    if(p==mapa.end()) throw std::logic_error ("Unesena rijec nije nadjena!");
    return p-&gt;second;
}

void IspisiIndeksPojmova (std::map&lt;std::string, std::set&lt;int&gt;&gt; mapa){
</font>   for(std::map&lt;std::string, std::set&lt;int&gt;&gt;::iterator p(mapa.begin()); p !=mapa.end(); p++)
   {
        std::cout&lt;&lt; p-&gt;first &lt;&lt;": ";
        int i(0);
<a name="3"></a><font color="#00FFFF"><a href="match431-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_5.gif"/></a>

        for(std::set&lt;int&gt;::iterator q(p-&gt;second.begin()); q!=p-&gt;second.end(); q++, i++){
            std::cout&lt;&lt;*q;
            if(i!=int (p-&gt;second.size())-1) 
</font>            std::cout&lt;&lt;",";
        }
        std::cout&lt;&lt;std::endl;
    }
}

int main ()
{
    std::string s; 
    std::cout&lt;&lt;"Unesite tekst: ";
    std::getline(std::cin, s);
	auto Indeks(KreirajIndeksPojmova(s));
	IspisiIndeksPojmova(Indeks);
	std::vector&lt;std::string&gt; v;
	for(;;)
	{   
	    std::cin&gt;&gt;s;
	    if(s==".")break;
	    v.push_back(s);
	}
	for(std::string s:v) 
	        try {
	            std::cout&lt;&lt;"Unesite rijec: ";
<a name="0"></a><font color="#FF0000"><a href="match431-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_9.gif"/></a>

	            auto p(PretraziIndeksPojmova(s, Indeks));
	            for(int q:p)
	            std::cout&lt;&lt;q&lt;&lt;" ";
	            std::cout&lt;&lt;std::endl;
	        }catch (std::logic_error izuzetak){
	        std::cout&lt;&lt;izuzetak.what()&lt;&lt;std::endl;
	    }
	//    std::cout&lt;&lt;"Unesite rijec: ";
	return 0;
</font>}</pre>
</body>
</html>
