<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z2/student1326.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z2/student1326.cpp<p></p><pre>
/B2016/2017: Zadaća 3, Zadatak 2
#include &lt;iostream&gt;
#include &lt;string&gt;
#include &lt;map&gt;
#include &lt;set&gt;
#include &lt;utility&gt;
#include &lt;stdexcept&gt;


std::map&lt;std::string, std::set&lt;int&gt;&gt; KreirajIndeksPojmova (std::string s) {
    
    std::map&lt;std::string, std::set&lt;int&gt;&gt; mapa;
    for (int i=0; i&lt;s.length(); i++) {
        if ((s[i]&lt;'0' || s[i]&gt;'9') &amp;&amp; (s[i]&lt;'a' || s[i]&gt;'z') &amp;&amp; (s[i]&lt;'A' || s[i]&gt;'Z') ) continue;
        std::string s1;
        int pozicija(i);
        for (int j=i; j&lt;s.length(); j++) {
            if (s[j]==' ') break;
            s1+=s[j];
            i++;
        }
        for (int k=0; k&lt;s1.length(); k++) {
            if (s1[k]&gt;='A' &amp;&amp; s1[k]&lt;='Z') s1[k]-='A'-'a';
        }
        std::set&lt;int&gt; skup;
        skup.insert(pozicija);
        auto it(mapa.find(s1));
        if (it==mapa.end())
            mapa.insert(std::make_pair(s1, skup));
        else {
            (it-&gt;second).insert(pozicija); // it-&gt;second čitav skup
        
        }
    
    }
    return mapa;
}
 
std::set&lt;int&gt; PretraziIndeksPojmova(std::string rijec, std::map&lt;std::string, std::set&lt;int&gt;&gt; mapa) {
    std::string s1(rijec);
    for (int k=0; k&lt;s1.length(); k++) {
        if (s1[k]&gt;='A' &amp;&amp; s1[k]&lt;='Z') s1[k]-='A'-'a';
    }
    //std::cout &lt;&lt; s1;
<a name="1"></a><font color="#00FF00"><a href="match477-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_6.gif"/></a>

    auto it(mapa.find(s1));
    if (it==mapa.end()) throw std::logic_error ("Pojam nije nadjen");
    return it-&gt;second;
}

void IspisiIndeksPojmova (std::map&lt;std::string, std::set&lt;int&gt;&gt; mapa) {
</font>    for (auto it=mapa.begin(); it!=mapa.end(); it++) {
    std::cout&lt;&lt;it-&gt;first&lt;&lt;": ";
    for (auto i=(it-&gt;second).begin(); i!=(it-&gt;second).end(); i++) {
        auto pom(i);
        pom++;
        if (pom==(it-&gt;second).end()) std::cout&lt;&lt;*i;
        else std::cout&lt;&lt;*i&lt;&lt;",";
    }
<a name="0"></a><font color="#FF0000"><a href="match477-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_18.gif"/></a>

    std::cout&lt;&lt;std::endl;
    }  
    
}

int main () {
    
    std::cout&lt;&lt;"Unesite tekst: ";
    std::string s;
    std::getline(std::cin,s);
     
    auto mapa(KreirajIndeksPojmova(s));
    IspisiIndeksPojmova(mapa);
    
    for(;;) {
        std::string rijec;
        std::cout&lt;&lt;"Unesite rijec: ";
        std::getline(std::cin, rijec);
        if (rijec==".") break;
        try {
        auto skup(PretraziIndeksPojmova(rijec, mapa));
        for (auto x:skup) {
            std::cout&lt;&lt;x&lt;&lt;" ";
        }
        std::cout&lt;&lt;std::endl;
    }
    catch (std::logic_error) { std::cout&lt;&lt;"Unesena rijec nije nadjena!"&lt;&lt;std::endl;
</font>        
    }
}
   
   
   /* std::string s="abc qwe stsda abc abc dhi qwe hrkw dhi";
    auto mapa(KreirajIndeksPojmova(s));
    
    IspisiIndeksPojmova(mapa); */
	return 0;
}</pre>
</body>
</html>
