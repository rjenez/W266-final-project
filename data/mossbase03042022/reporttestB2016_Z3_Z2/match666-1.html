<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z2/student3717.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z2/student3411.cpp<p></p><pre>
/B2016/2017: ZadaÄ‡a 3, Zadatak 2
#include &lt;iostream&gt;
#include &lt;map&gt;
#include &lt;string&gt;
#include &lt;set&gt;
#include &lt;iterator&gt;
#include &lt;stdexcept&gt;

std::map&lt;std::string, std::set&lt;int&gt;&gt; KreirajIndeksPojmova(std::string s){
    std::map&lt;std::string, std::set&lt;int&gt;&gt; mapa;
    //buduci da u postavci nije naglaseno da se primljeni string ne smije mijenjati(iako se ne prima referenca, pa ni ne utice na poslani string)
    //a u mapu treba spremati rijeci tako da su joj sva slova ustvari mala slova, ovom for-petljom vrsimo pretvorbu svih velikih slova u primljenom strinug u mala
    //da bi kasnije lakse manipulisali tim slovima tj. rijecima
    for(int i=0; i&lt;s.length(); i++){
        if(s[i]&gt;='A' &amp;&amp; s[i]&lt;='Z') s[i]+=32;
    }
    for(int i=0; i&lt;s.length(); i++){
        std::string rijec;
        int j(0);
        bool rijec_nadjena(false);
<a name="1"></a><font color="#00FF00"><a href="match666-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_5.gif"/></a>

        int pozicija(i);
        //while-petlja kojom pronalazimo sve rijeci u primljenom stringu, vodeci racuna o tome sta predstavlja rijec(def. u postavci)
        while( i&lt;s.length() &amp;&amp; ((s[i]&gt;='a' &amp;&amp; s[i]&lt;='z') || (s[i]&gt;='0' &amp;&amp; s[i]&lt;='9')) ){
</font>            rijec.push_back(s[i]);
            j++;
            rijec_nadjena=true;
            i++;
        }
        if(rijec_nadjena){
            //ako se trenutna rijec ne nalazi u mapi potrebno ju je dodati u kljucno polje, a zatim u skup dodati poziciju rijeci
<a name="0"></a><font color="#FF0000"><a href="match666-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_17.gif"/></a>

            if(!mapa.count(rijec)){
                mapa[rijec];
                auto it(mapa.find(rijec));
                it-&gt;second.insert(pozicija);
            }
            //ako se trenutna rijec vec nalazi u mapi, potrebno je pridruzenoj vrijednosti(skupu) dodijeliti poziciju na kojoj je sada pronadjena 
            else{
                auto it(mapa.find(rijec));
                it-&gt;second.insert(pozicija);
            }
        }
        
    }
    return mapa;
}
std::set&lt;int&gt; PretraziIndeksPojmova(std:: string s, std::map&lt;std:: string, std::set&lt;int&gt;&gt; mapa){
    std::set&lt;int&gt; skup;
    //pretrazujemo da li se trazena rijec nalazi u mapi
    auto it(mapa.find(s));
    //ukoliko se ne nalazi, bacanje izuzetka
    if(it==mapa.end()) throw std::logic_error("Pojam nije nadjen");
</font>    //ukoliko se nalazi, rangovskom for-petljom pristupamo clanovima skupa pozicija i dodjeljujemo skupu koji se vraca iz funkcije
    else{
        for(int x: it-&gt;second) skup.insert(x);
    }
    return skup;
}
void IspisiIndeksPojmova(std::map&lt;std:: string, std::set&lt;int&gt;&gt; mapa){
    //for-petlja kojom se odgovarajucim iteratorom krecemo kroz mapu i ispisujemo potrebne podatke
    for(auto it=mapa.begin(); it!=mapa.end(); it++){
        std::cout&lt;&lt;it-&gt;first&lt;&lt;": ";
        //for-petljom kojom se iteratorom na skup intova krecemo kroz pridruzeno vrijednost mape(tj skup ciji su elemenit tipa int)
        //i ispisujemo elemente skupa, vodeci racuna o tome kada treba ispisati ","
        for(auto it1=it-&gt;second.begin(); it1!=it-&gt;second.end(); it1++){
            if(it1==--it-&gt;second.end()) std::cout&lt;&lt;*it1;
            else std::cout&lt;&lt;*it1&lt;&lt;",";
        }
        std::cout&lt;&lt;std::endl;
    }
}
int main ()
{   std::string s;
    std::cout&lt;&lt;"Unesite tekst: ";
    std::getline(std::cin, s);
    auto mapa(KreirajIndeksPojmova(s));
    IspisiIndeksPojmova(mapa);
    std::string rijec;
    std::set&lt;int&gt; skup;
    for(;;){
        std::cout&lt;&lt;"Unesite rijec: ";
        std::getline(std::cin, rijec);
        if(rijec==".") break;
        bool izuzetak(false);
        try{
            skup=(PretraziIndeksPojmova(rijec,mapa));
        }
        catch(...){
            std::cout&lt;&lt;"Unesena rijec nije nadjena!"&lt;&lt;std::endl;
            izuzetak=true;
        }
        if(!izuzetak){
            for(int x: skup) std::cout&lt;&lt;x&lt;&lt;" ";
            std::cout&lt;&lt;std::endl;
        }
    }
	return 0;
}</pre>
</body>
</html>
