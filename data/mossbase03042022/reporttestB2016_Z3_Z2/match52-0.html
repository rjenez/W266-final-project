<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z2/student9451.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z2/student9451.cpp<p></p><pre>
<a name="0"></a><font color="#FF0000"><a href="match52-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_99.gif"/></a>

/B2016/2017: ZadaÄ‡a 3, Zadatak 2
#include &lt;iostream&gt;
#include &lt;map&gt;
#include &lt;string&gt;
#include &lt;set&gt;
#include &lt;iomanip&gt;
#include &lt;algorithm&gt;
#include &lt;stdexcept&gt;

bool JeLiDioRijeci(char c)
{
    if((c&gt;='a' &amp;&amp; c&lt;='z') || (c&gt;='0' &amp;&amp; c&lt;='9')) return true;
    else return false;
}

std::map&lt;std::string, std::set&lt;int&gt;&gt; KreirajIndeksPojmova(std::string s)
{
    std::map&lt;std::string, std::set&lt;int&gt;&gt; Mapa;
    for(int i=0; i&lt;s.length(); i++) {
        if(s[i]&gt;='A' &amp;&amp; s[i]&lt;='Z')s[i]+=32;
    }
    std::string rijec="";
    int  duzina=0, pocetak=0,kraj=0;
    std::set&lt;int&gt; K;
    for(int i=0; i&lt;s.length();) {
        while(i&lt;s.length() &amp;&amp; JeLiDioRijeci(s[i])==false) {
            i++;
        }
        pocetak=i;
        while(i&lt;s.length() &amp;&amp; JeLiDioRijeci(s[i])==true) {
            i++;
        }
        kraj=i;
        duzina=kraj-pocetak;
        rijec=s.substr(pocetak, duzina);
        std::set&lt;int&gt; P;
        for(auto it(Mapa.begin()); it!=Mapa.end(); it++) {

            if(it-&gt;first==rijec) {
                P=it-&gt;second;
            }
        }
        if(P.size()!=0) {
            P.insert(pocetak);
            Mapa.erase(rijec);
            Mapa.insert(std::make_pair(rijec, P));
        } else {
            P.insert(pocetak);
            Mapa.insert(std::make_pair(rijec, P));
        }
    }
    return Mapa;
}

std::set&lt;int&gt; PretraziIndeksPojmova(std::string rijec, std::map&lt;std::string, std::set&lt;int&gt; &gt; Mapa)
{
    std::set&lt;int&gt; S;
    for(auto it(Mapa.begin()); it!=Mapa.end(); it++) {
        if(it-&gt;first==rijec) {
            S=it-&gt;second;
        }
    }
    if(S.size()==0) {
        throw std::logic_error ("Pojam nije nadjen");
    }
    return S;
}

void IspisiIndeksPojmova(std::map&lt;std::string, std::set&lt;int&gt; &gt; Mapa)
{
    std::set&lt;int&gt; S;
    for(auto it(Mapa.begin()); it!=Mapa.end(); it++) {
        std::cout&lt;&lt;it-&gt;first&lt;&lt;": ";
        S=it-&gt;second;
        std::set&lt;int&gt;::iterator is(S.begin());
        for(int i=0; i&lt;S.size(); i++) {
            if(i!=(S.size()-1))
                std::cout&lt;&lt;(*is)&lt;&lt;",";
            else  std::cout&lt;&lt;(*is);
            is++;
        }
        std::cout&lt;&lt;"\n";
    }
}
int main ()
{
    std::cout&lt;&lt;"Unesite tekst: ";
    std::string string;
    std::getline (std::cin, string);
    std::map&lt;std::string, std::set&lt;int&gt; &gt; M;
    M=KreirajIndeksPojmova(string);
    IspisiIndeksPojmova(M);
    std::string zeljenineki;
    std::set&lt;int&gt; pomocset;

    while(zeljenineki!=".") {
        std::cout&lt;&lt;"Unesite rijec: ";
        std::getline (std::cin, zeljenineki);
        if(zeljenineki==".") break;
        pomocset= {};
        for(auto it(M.begin()); it!=M.end(); it++) {

            if(it-&gt;first==zeljenineki) {
                pomocset=it-&gt;second;
                std::set&lt;int&gt;::iterator at(pomocset.begin());
                for(int i=0; i&lt;pomocset.size(); i++) {
                    std::cout&lt;&lt;*at&lt;&lt;" ";
                    at++;
                }
                std::cout&lt;&lt;"\n";
            }
        }
        if(pomocset.size()==0) std::cout&lt;&lt;"Unesena rijec nije nadjena!\n";
    }
    return 0;
</font>}</pre>
</body>
</html>
