<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z2/student3736.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z2/student9352.cpp<p></p><pre>
<a name="0"></a><font color="#FF0000"><a href="match142-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_99.gif"/></a>

/B2016/2017: ZadaÄ‡a 3, Zadatak 2
#include &lt;iostream&gt;
#include &lt;map&gt;
#include &lt;set&gt;
#include &lt;cctype&gt;
#include &lt;utility&gt;
#include &lt;algorithm&gt;
#include &lt;vector&gt;

using namespace std;

map&lt;string,set&lt;int&gt;&gt; KreirajIndeksPojmova (string s)
{
    map&lt;string,set&lt;int&gt;&gt; m;
    unsigned int i{0};
    vector&lt;string&gt;rijeci;
    transform(s.begin(),s.end(),s.begin(),::tolower);
    
    while(i!=s.size())
    {
        while(i!=s.size() &amp;&amp; !isalnum(s[i]))
            ++i;
        unsigned int j{i};
        while(j!=s.size() &amp;&amp; isalnum(s[j]))
            j++;
        if(i!=j)
        {
            rijeci.push_back(s.substr(i,j-i));
            i=j;
        }
    }
    set&lt;int&gt; skup;
    
    for(unsigned int k=0;k&lt;rijeci.size();k++)
    {
        size_t j{s.find(rijeci[k])};
        while(j!=string::npos &amp;&amp; (j==0 || !isalnum(s[j-1])))
        {
            skup.insert(j);
            j=s.find(rijeci[k],j+(rijeci[k]).size());
        }
        m.insert(make_pair(rijeci[k],skup));
        skup.clear();
    }
    
    return m;
}

void IspisiIndeksPojmova(map&lt;string,set&lt;int&gt;&gt; mapa)
{
    for(map&lt;string,set&lt;int&gt;&gt;::iterator it1=mapa.begin();it1!=mapa.end();it1++)
    {
        cout&lt;&lt;it1-&gt;first&lt;&lt;": ";
        for(set&lt;int&gt;::iterator it2=(it1-&gt;second).begin();it2!=(it1-&gt;second).end();it2++)
        {
            auto sljedeci=it2;
            sljedeci++;
            if(sljedeci==(it1-&gt;second).end()) cout&lt;&lt; *it2;
            else cout&lt;&lt; *it2&lt;&lt;",";
        }
        cout&lt;&lt;endl;
    }
}

set&lt;int&gt; PretraziIndeksPojmova(string pojam,map&lt;string,set&lt;int&gt;&gt; mapa)
{
    bool PostojiPojam{false};
    set&lt;int&gt; skup;
    string low_pojam{pojam};
    transform(pojam.begin(),pojam.end(), low_pojam.begin(),::tolower);
    for(map&lt;string,set&lt;int&gt;&gt;::iterator it=mapa.begin();it!=mapa.end();it++)
    {
        if(low_pojam==it-&gt;first)
        {
            PostojiPojam=true;
            skup=it-&gt;second;
            break;
        }
    }
    if(!PostojiPojam) throw logic_error("Unesena rijec nije nadjena!");
    return skup;
}

int main ()
{
    cout&lt;&lt;"Unesite tekst: ";
    string s;
    getline(cin,s);
   map&lt;string,set&lt;int&gt;&gt; mapa;
   mapa=KreirajIndeksPojmova(s);
   IspisiIndeksPojmova(mapa);
   set&lt;int&gt; skup;
   cout&lt;&lt;"Unesite rijec: ";
   string pojam;
   getline(cin,pojam);
  
    while(pojam!=".")
   {
       try{
           skup=PretraziIndeksPojmova(pojam,mapa);
       for(int p : skup) cout&lt;&lt;p&lt;&lt;" ";
       cout&lt;&lt;endl;
       }
       catch(logic_error e) {cout&lt;&lt;e.what()&lt;&lt;endl;}
       cout&lt;&lt;"Unesite rijec: ";
       getline(cin,pojam);
</font>   }
   
	return 0;
}</pre>
</body>
</html>
