<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z2/student3186.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z2/student3186.cpp<p></p><pre>
<a name="0"></a><font color="#FF0000"><a href="match156-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_98.gif"/></a>

/B2016/2017: ZadaÄ‡a 3, Zadatak 2
#include &lt;stdexcept&gt;
#include &lt;iostream&gt;
#include &lt;string&gt;
#include &lt;map&gt;
#include &lt;set&gt;

bool SlovoIliBroj (const char &amp;slovo) {
    if ((slovo &gt;= 'a' and slovo &lt;= 'z') or (slovo &gt;= 'A' and slovo &lt;= 'Z') or (slovo &gt;= '0' and slovo &lt;= '9'))
        return true; else return false;
}

std::map&lt;std::string, std::set&lt;int&gt;&gt; KreirajIndeksPojmova (const std::string &amp;recenica)
{
    std::map&lt;std::string, std::set&lt;int&gt;&gt; mapa;
    for (int i=0; i&lt;recenica.length(); ++i) {
        if (i&lt;recenica.length() and SlovoIliBroj(recenica[i])) {
            std::string rijec; int pocetni_index_rijeci(i);
            while (i &lt; recenica.length() and SlovoIliBroj(recenica[i]))
                if (not(recenica[i] &gt;= 'A' and recenica[i] &lt;= 'Z') or (recenica[i] &gt;= 'a' and recenica[i] &lt;= 'z'))  
                    rijec += recenica[i++]; else rijec += recenica[i++] + 'z'-'Z';
                        mapa[rijec].insert(pocetni_index_rijeci);
        }
    }   return mapa;
}

void IspisiIndeksPojmova (const std::map&lt;std::string, std::set&lt;int&gt;&gt; &amp;mapa) {
    for (auto it = mapa.begin(); it != mapa.end(); ++it) {
        std::cout &lt;&lt; it-&gt;first &lt;&lt; ": ";
        for (auto x = it-&gt;second.begin(); x != it-&gt;second.end(); ++x) {
            std::cout &lt;&lt; *x; if (x != --it-&gt;second.end()) std::cout &lt;&lt; ",";
        }   std::cout &lt;&lt; std::endl;
    }
}

std::set&lt;int&gt; PretraziIndeksPojmova (const std::string &amp;recenica, const std::map&lt;std::string, std::set&lt;int&gt;&gt; &amp;maps) {
    std::set&lt;int&gt; povratni_set;  auto it (maps.find(recenica));
    if (it == maps.end()) throw std::logic_error ("Pojam nije nadjen");
    else for (const auto &amp;x : it-&gt;second) povratni_set.insert(x); return povratni_set;
}

int main ()
{
    std::string input;
    std::cout &lt;&lt; "Unesite tekst: ";
    std::getline (std::cin, input);
    IspisiIndeksPojmova(KreirajIndeksPojmova(input));
    for (;;) {
        std::cout &lt;&lt; "Unesite rijec: ";
        std::string input_;
        std::getline (std::cin, input_);
        if (input_ == ".")   break;
        try {   std::set&lt;int&gt; trazeni_set {PretraziIndeksPojmova (input_, KreirajIndeksPojmova(input))};
                for (auto it = trazeni_set.begin(); it != trazeni_set.end(); ++it)
                    std::cout &lt;&lt; *it &lt;&lt; " ";    std::cout &lt;&lt; std::endl;
        }   catch (std::logic_error) {  std::cout &lt;&lt; "Unesena rijec nije nadjena!" &lt;&lt; std::endl;   }
</font>    }   return 0;
}</pre>
</body>
</html>
