<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z2/student4736.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z2/student4736.cpp<p></p><pre>
/B2016/2017: ZadaÄ‡a 3, Zadatak 2
#include &lt;iostream&gt;
#include &lt;map&gt;
#include &lt;set&gt;
#include &lt;vector&gt;


using namespace std;

bool Razmak(char znak)
{

    return !((znak&gt;='a'&amp;&amp;znak&lt;='z')||(znak&gt;='A'&amp;&amp;znak&lt;='Z')||(znak&gt;='0'&amp;&amp;znak&lt;='9'));
}
<a name="1"></a><font color="#00FF00"><a href="match982-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_4.gif"/></a>

vector&lt;string&gt; izdvojiRijeciUMalaSlova(string recenica)
{
    vector&lt;string&gt;rijeci;


    string rijec="";

    for (int i = 0; i &lt; recenica.size(); i++) {
</font>        char znak = recenica[i];
        if((znak&gt;='a'&amp;&amp;znak&lt;='z')||(znak&gt;='A'&amp;&amp;znak&lt;='Z')||(znak&gt;='0'&amp;&amp;znak&lt;='9')) {
            if(znak&gt;='A'&amp;&amp;znak&lt;='Z')znak+=32;

            rijec+=znak;
        } else {
            if(rijec!="")
                rijeci.push_back(rijec);
            rijec="";
        }
    }

    if(rijec!="")rijeci.push_back(rijec);

    return rijeci;
}


set&lt;int&gt; vratiPozicije(string recenica, string rijec)
{


<a name="2"></a><font color="#0000FF"><a href="match982-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_4.gif"/></a>

    for (int i = 0; i &lt; recenica.size(); i++) {
        if(recenica[i]&gt;='A'&amp;&amp;recenica[i]&lt;='Z')recenica[i]+=32;

    }
    set&lt;int&gt;pozicije;
</font>

    for (int i = 0; i &lt;= recenica.size()-rijec.size(); i++) {
        int prije=i-1;
        int poslije = i+rijec.size();
        if(recenica.substr(i,rijec.size())==rijec) {
            if((prije==-1 || Razmak(recenica[prije]))&amp;&amp;(poslije==recenica.size()||Razmak(recenica[poslije])) ) {
                pozicije.insert(i);
            }
        }
    }

    return pozicije;
}


map&lt;  string , set&lt;int&gt; &gt; KreirajIndeksPojmova(string recenica)
{
    set&lt;string&gt; jedinstveneRijeci;
    map&lt;string,set&lt;int&gt;&gt; indeksi;
    std::vector&lt;string&gt;rijeci = izdvojiRijeciUMalaSlova(recenica);

    for(auto e:rijeci)jedinstveneRijeci.insert(e);


    for(auto it=jedinstveneRijeci.begin(); it!=jedinstveneRijeci.end(); it++) {
        indeksi[*it] = vratiPozicije(recenica,*it);
    }



<a name="3"></a><font color="#00FFFF"><a href="match982-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_4.gif"/></a>

    return indeksi;
}

void IspisiIndeksPojmova( map&lt; string, set&lt;int&gt; &gt;indeksi)
{

    for(auto it = indeksi.begin(); it != indeksi.end(); it++) {
</font>        std::cout &lt;&lt; it-&gt;first &lt;&lt; ": ";
        set&lt;int&gt;p = it-&gt;second;
        vector&lt;int&gt;poz;

        for(auto itp=p.begin(); itp!=p.end(); itp++) {
            poz.push_back(*itp);
        }

        for (int i = 0; i &lt; poz.size(); i++) {
            cout&lt;&lt;poz[i];
            if(i!=poz.size()-1) cout&lt;&lt;",";
            else cout&lt;&lt;endl;
        }
    }


}



set&lt;int&gt; PretraziIndeksPojmova(string rijec, map&lt;string, set&lt;int&gt; &gt; indeksi)
{

    auto it(indeksi.find(rijec));

    if(it == indeksi.end()) throw logic_error("Pojam nije nadjen");
    else  return it-&gt;second;

}
int main ()
{
    cout&lt;&lt;"Unesite tekst: ";
    string tekst;
    getline(cin,tekst);


    auto indeksi = KreirajIndeksPojmova(tekst);
    IspisiIndeksPojmova(indeksi);


    do {

        cout&lt;&lt;"Unesite rijec: ";
        string rijec;
        getline(cin,rijec);
        if(rijec==".")break;
        try {
            set&lt;int&gt;pozicije = PretraziIndeksPojmova(rijec,indeksi);
<a name="0"></a><font color="#FF0000"><a href="match982-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_4.gif"/></a>

            for(auto it=pozicije.begin(); it!=pozicije.end(); it++) {
                cout&lt;&lt;*it&lt;&lt;" ";
            }
            cout&lt;&lt;endl;
        } catch(logic_error e) {
</font>            cout&lt;&lt;"Rijec nije nadjena!"&lt;&lt;endl;
        }
    } while(true);



    return 0;
}</pre>
</body>
</html>
