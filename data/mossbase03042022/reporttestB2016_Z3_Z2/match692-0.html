<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z2/student5867.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z2/student5867.cpp<p></p><pre>
#include &lt;iostream&gt;
#include &lt;string&gt;
#include &lt;map&gt;
#include &lt;set&gt;
#include &lt;vector&gt;
#include &lt;stdexcept&gt;

<a name="2"></a><font color="#0000FF"><a href="match692-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_2.gif"/></a>

std::map&lt;std::string, std::set&lt;int&gt;&gt; KreirajIndeksPojmova (std::string s)
{
    std::map&lt;std::string, std::set&lt;int&gt;&gt; mapa;
</font>    std::string pomocni;
    int poc, kraj;
    for(int i = 0; i &lt; s.size(); i++)
    {
        if(s[i] &gt;= 'A' &amp;&amp; s[i] &lt;= 'Z')
            s[i] = (char)(tolower(s[i]));
    }
<a name="1"></a><font color="#00FF00"><a href="match692-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_3.gif"/></a>

    for(int i = 0; i &lt; s.size(); i++)
    {
        std::set&lt;int&gt;skup;
        if((s[i] &lt; 'A' &amp;&amp; s[i] &gt; 57) || (s[i] &gt; 'Z' &amp;&amp; s[i] &lt; 'a') || s[i] &gt; 'z' || s[i] == ' ' || s[i] &lt; 48)
</font>        {
            while((s[i] &lt; 'A' &amp;&amp; s[i] &gt; 57) || (s[i] &gt; 'Z' &amp;&amp; s[i] &lt; 'a') || s[i] &gt; 'z' || s[i] == ' ' || s[i] &lt; 48)
            {
                i++;
            }
        }
        //if(i == s.size())
          //  break;
<a name="3"></a><font color="#00FFFF"><a href="match692-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_2.gif"/></a>

        if(((s[i] &gt;= 'A' &amp;&amp; s[i] &lt;= 'Z') || (s[i] &gt;= 'a' &amp;&amp; s[i] &lt;= 'z') || (s[i] &gt;= 48 &amp;&amp; s[i] &lt;= 57)) &amp;&amp; (s[i] == s[0] || (s[i-1] &lt;= 'A' || (s[i-1] &gt;= 'Z' &amp;&amp; s[i-1] &lt;= 'a') || s[i-1] &gt;= 'z')))
        {
            poc = i;
            while((s[i] &gt;= 'A' &amp;&amp; s[i] &lt;= 'Z') || (s[i] &gt;= 'a' &amp;&amp; s[i] &lt;= 'z') || (s[i] &gt;= 48 &amp;&amp; s[i] &lt;= 57)) 
</font>            {
                i++;
            }
            kraj = i;
        
        pomocni = s.substr(poc, kraj - poc);
        //std::cout&lt;&lt;pomocni&lt;&lt;std::endl;
        skup.insert(poc);
        int pom;
        for(int j = kraj; j &lt; s.size(); j++)
        {
            for(int k = 0; k &lt; pomocni.size(); k++)
            {
                if(pomocni[0] != s[j])
                    break;
                if(pomocni[0] == s[j])
                {
                    pom = j;
                    while(pomocni[k] == s[j] &amp;&amp; j &lt; s.size())
                    {
                        k++;
                        j++;
                    }
                }
                if((s[j] &gt;= 'A' &amp;&amp; s[j] &lt;= 'Z') || (s[j] &gt;= 'a' &amp;&amp; s[j] &lt;= 'z') || (s[j] &gt;=48 &amp;&amp; s[j] &lt;= 57) || (s[pom-1] &gt;= 'A' &amp;&amp; s[pom-1] &lt;= 'Z') || (s[pom-1] &gt;= 'a' &amp;&amp; s[pom-1] &lt;= 'z') || (s[pom-1] &gt;= 48 &amp;&amp; s[pom-1] &lt;= 57))
                    break;
                if((j - pom) == pomocni.size())
                    skup.insert(pom);
                break;
            }
        }
        
<a name="0"></a><font color="#FF0000"><a href="match692-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_3.gif"/></a>

        mapa.insert(std::make_pair(pomocni, skup));
        }
    }
    return mapa;
}

std::set&lt;int&gt; PretraziIndeksPojmova (std::string s, std::map&lt;std::string, std::set&lt;int&gt;&gt; mapa)
</font>{
    std::set&lt;int&gt;skup;
    auto it(mapa.find(s));
    if(it == mapa.end())
        throw std::logic_error ("Pojam nije nadjen");
    for(auto it1 : it -&gt; second)
        skup.insert(it1);
    return skup;
}

void IspisiIndeksPojmova (std::map&lt;std::string, std::set&lt;int&gt;&gt; mapa)
{
    for(auto it = mapa.begin(); it != mapa.end(); it++)
    {
        std::cout&lt;&lt;it -&gt; first&lt;&lt;": ";
        std::set&lt;int&gt;skup = it -&gt; second;
        auto it1 = skup.begin();
        while(3)
        {
            std::cout&lt;&lt;*it1;
            it1++;
            if(it1 == skup.end())
                break;
            else
                std::cout&lt;&lt;",";
        }
        std::cout&lt;&lt;std::endl;
    }
}
int main ()
{
	std::string s;
	std::cout&lt;&lt;"Unesite tekst: ";
	std::getline(std::cin, s);
	if(s[0] == '.' &amp;&amp; s.size() == 1)
	    return 0;
	auto mapa = KreirajIndeksPojmova(s);
	IspisiIndeksPojmova(mapa);
    while(17)
	{
	    std::cout&lt;&lt;"Unesite rijec: ";
	    std::string s;
	    std::getline(std::cin, s);
	    for(int i = 0; i &lt; s.size(); i++)
	        s[i] = (char)(tolower(s[i]));
	    if(s[0] == '.')
	        return 0;
	    try
	    {
	    auto skup = PretraziIndeksPojmova(s, mapa);
	    for(auto it = skup.begin(); it != skup.end(); it++)
	        std::cout&lt;&lt;*it&lt;&lt;" ";
	    std::cout&lt;&lt;std::endl;
	    }
	    catch(std::logic_error er1)
	    {
	        std::cout&lt;&lt;"Unesena rijec nije nadjena!"&lt;&lt;std::endl;
	        continue;
	    }
	}
	
	return 0;
}</pre>
</body>
</html>
