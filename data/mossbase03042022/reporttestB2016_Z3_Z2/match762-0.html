<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z2/student2364.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z2/student2364.cpp<p></p><pre>
#include &lt;iostream&gt;
#include &lt;map&gt;
#include &lt;string&gt;
#include &lt;set&gt;
#include &lt;stdexcept&gt;

void PrebaciUMala(std::string &amp;recenica){
    
    for(int i(0); i &lt; recenica.length(); i++){
        if(recenica.at(i) &gt;= 'A' &amp;&amp; recenica.at(i) &lt;= 'Z') recenica.at(i) += 32;
    }
}

std::set&lt;int&gt; PretraziIndeksPojmova(std::string rijec, std::map&lt;std::string, std::set&lt;int&gt;&gt; Mapa){
    std::set&lt;int&gt; Novi;
    
    PrebaciUMala(rijec);
    auto i = Mapa.find(rijec);
    if(i == Mapa.end()) throw std::logic_error("Unesena rijec nije nadjena!");
    else
    Novi = i-&gt;second;
    
    return Novi;
}
std::map&lt;std::string, std::set&lt;int&gt;&gt; KreirajIndeksPojmova(std::string recenica){
    std::map&lt;std::string, std::set&lt;int&gt;&gt; IndeksPojmova;
    
    PrebaciUMala(recenica);
    std::string prazan = {};
    for(int i(0); i &lt; recenica.length(); i++){
        std::string rijec;
        if((recenica.at(i) &gt;= 'a' &amp;&amp; recenica.at(i) &lt;= 'z') || (recenica.at(i) &gt;= '0' &amp;&amp; recenica.at(i) &lt;= '9')){
            
            while((recenica.at(i) &gt;= 'a' &amp;&amp; recenica.at(i) &lt;= 'z') || (recenica.at(i) &gt;= '0' &amp;&amp; recenica.at(i) &lt;= '9')){
                rijec = rijec + recenica.at(i);
                i++;
                if(i == recenica.length()) break;
            }
        }
        if(rijec != prazan)
        IndeksPojmova[rijec] = {};
    }
    
    for(auto i(IndeksPojmova.begin()); i != IndeksPojmova.end(); i++){
        
        for(int j(0); j &lt; recenica.length(); j++){
            std::string rijec;
            if((recenica.at(j) &gt;= 'a' &amp;&amp; recenica.at(j) &lt;= 'z') || (recenica.at(j) &gt;= '0' &amp;&amp; recenica.at(j) &lt;= '9')){
                int indeks = j;
                while((recenica.at(j) &gt;= 'a' &amp;&amp; recenica.at(j) &lt;= 'z') || (recenica.at(j) &gt;= '0' &amp;&amp; recenica.at(j) &lt;= '9' )){
                    rijec  = rijec + recenica.at(j);
                    j++;
                    if(j == recenica.length())break;
                }
                if(rijec == i-&gt;first) IndeksPojmova[rijec].insert(indeks);
            }
        }
        
        
    }
    return IndeksPojmova;
}

int Br_el(std::set&lt;int&gt; Set){
    
    int br_el{};
    for(auto i(Set.begin()); i != Set.end(); i++) br_el++;
    
    return br_el;
}

void IspisiIndeksPojmova(std::map&lt;std::string, std::set&lt;int&gt;&gt; IndeksPojmova){
    
    for(auto i(IndeksPojmova.begin()); i != IndeksPojmova.end(); i++){
        std::cout &lt;&lt; i-&gt;first&lt;&lt; ": ";
        
        auto k = i-&gt;second.begin();
        if(Br_el(i-&gt;second) &gt; 1) k = --(i-&gt;second.end());
        for(auto j(i-&gt;second.begin()); j != i-&gt;second.end(); j++){
<a name="0"></a><font color="#FF0000"><a href="match762-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_13.gif"/></a>

            if(j == k) std::cout &lt;&lt; *j;
            else std::cout &lt;&lt; *j &lt;&lt; ",";
        }
        std::cout &lt;&lt; std::endl;
    }
}


int main ()
{
        
        std::cout &lt;&lt; "Unesite tekst: ";
        std::string tekst;
        std::getline(std::cin, tekst);
    
        auto Mapa = KreirajIndeksPojmova(tekst);
        IspisiIndeksPojmova(Mapa);
        
        for(;;){
            
            std::cout &lt;&lt; "Unesite rijec: ";
            std::string rijec;
            std::getline(std::cin, rijec);
            if(rijec == ".") break;
            
            try{
            auto Skup = PretraziIndeksPojmova(rijec, Mapa);
            
            for(auto i(Skup.begin()); i != Skup.end(); i++)
</font><a name="1"></a><font color="#00FF00"><a href="match762-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_3.gif"/></a>

            std::cout &lt;&lt;*i &lt;&lt; " ";
            std::cout &lt;&lt; std::endl;
        }catch(std::logic_error izuzetak){
        std::cout &lt;&lt; izuzetak.what() &lt;&lt; std::endl;
</font>        }
        }
	return 0;
}</pre>
</body>
</html>
