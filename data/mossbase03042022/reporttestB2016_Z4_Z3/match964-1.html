<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z3/student8428.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z3/student1044.cpp<p></p><pre>
/B 2016/2017, ZadaÄ‡a 4, Zadatak 3
//Napomena: testovi ce biti dostupni dan pred rok!

#include &lt;iostream&gt;
#include &lt;stdexcept&gt;
#include &lt;cctype&gt;
#include &lt;string&gt;
#include &lt;algorithm&gt;
#include &lt;iomanip&gt;

class Datum
{
    int _d, _m, _g;
public:
    Datum(int d, int m, int g)
    {
        Postavi(d, m, g);
    }
    int DajDan()const
    {
        return _d;
    }
    int DajMjesec()const
    {
        return _m;
    }
    int DajGodinu()const
    {
        return _g;
    }
    void Ispisi()const
    {
        std::cout &lt;&lt; _d &lt;&lt; '/' &lt;&lt; _m &lt;&lt; '/' &lt;&lt; _g;
    }
    void Postavi(int d, int m, int g);
    
};

void Datum::Postavi(int d, int m, int g)
{
    int broj_dana[]{31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31};
    if((g % 4 == 0 &amp;&amp; g % 100 != 0) || g % 400 == 0)
        ++broj_dana[1];
    if(d &lt; 1 || m &lt; 1 || g &lt; 1 || m &gt; 12 || d &gt; broj_dana[m - 1])
        throw std::domain_error("Neispravan datum");
    _m = m;
    _d = d;
    _g = g;
}

class Kupac
{
    std::string _ime;
    Datum _datum;
    static void provjeri_ime(const std::string&amp; ime);
public:
    Kupac(const std::string&amp; ime, const Datum&amp; datum) : _ime(ime), _datum(datum)
    {
        provjeri_ime(ime);
    }
    void Postavi(const std::string&amp; ime, const Datum&amp; datum);
    
    std::string DajImeIPrezime()const
    {
        return _ime;
    }
    
    Datum DajDatumRodjenja()const
    {
        return _datum;
    }
<a name="7"></a><font color="#0000FF"><a href="match964-0.html#7" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_0.gif"/></a>

    void Ispisi()const
    {
        std::cout &lt;&lt; _ime &lt;&lt; " (";
        _datum.Ispisi();
        std::cout &lt;&lt; ")\n";
    }
};

void Kupac::provjeri_ime(const std::string&amp; ime)
</font>{
    for(const auto&amp; z : ime)
        if( !std::islower(std::tolower(z)) &amp;&amp; z != ' ' &amp;&amp; z != '-' &amp;&amp; z != 39 )
            throw std::domain_error("Neispravno ime i prezime");
}

void Kupac::Postavi(const std::string&amp; ime, const Datum&amp; datum)
{
    provjeri_ime(ime);
    _ime = ime;
    _datum = datum;
}

class Stan
{
    std::string _adresa;
    int _sprat, _broj_soba;
    bool _namjesten;
    double _kvadratura;
public:
    Stan(const std::string&amp; adresa, int s, int bs, bool n, double k)
    {
        Postavi(adresa, s, bs, n, k);
    }
    void Postavi(const std::string&amp; adresa, int s, int bs, bool n, double k);
    
    std::string DajAdresu()const
    {
        return _adresa;
    }
    
    int DajSprat() const
    {
        return _sprat;
    }
    
    bool DajNamjesten() const
    {
        return _namjesten;
    }
    
    double DajKvadraturu() const
    {
        return _kvadratura;
    }
    
<a name="1"></a><font color="#00FF00"><a href="match964-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_1.gif"/></a>

    int DajBrojSoba()const
    {
        return _broj_soba;
    }
    
    void Ispisi()const
    {
        std::cout &lt;&lt; "Stan se nalazi na adresi " &lt;&lt; _adresa &lt;&lt; " na " &lt;&lt; _sprat
            &lt;&lt; " i ima " &lt;&lt; _broj_soba;
        if(_broj_soba &gt;= 2 &amp;&amp; _broj_soba &lt;= 4 || _broj_soba &gt; 20 &amp;&amp; _broj_soba % 10 &gt;= 2 &amp;&amp; _broj_soba % 10 &lt;= 4)     
            std::cout &lt;&lt; " sobe. ";
</font>        else
            std::cout &lt;&lt; " soba. ";
        std::cout &lt;&lt; "Kvadratura stana je " &lt;&lt; _kvadratura
            &lt;&lt; " (m^2) i stan " &lt;&lt; (_namjesten ? "je" : "nije" ) &lt;&lt; " namjesten.\n";
        
    }
};


void Stan::Postavi(const std::string&amp; adresa, int s, int bs, bool n, double k)
{
<a name="8"></a><font color="#00FFFF"><a href="match964-0.html#8" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_0.gif"/></a>

    if(s &lt; 0 || bs &lt; 0 || k &lt; 0 )
        throw std::domain_error("Neispravan unos podataka");
    _adresa = adresa;
    _sprat = s;
    _broj_soba = bs;
    _namjesten = n;
    _kvadratura = k;
}

class Prodaje;
</font>
class Prodaja
{
    std::string _ime_agenta;
    double _cijena;
    Datum _datum;
    Kupac _kupac;
    Stan _stan;
    friend Prodaje;
public:
    Prodaja(const std::string ia, double cs, const Datum&amp; d, const Kupac&amp; k, const Stan&amp; s) 
        : _ime_agenta(ia), _cijena(cs), _datum(d), _kupac(k), _stan(s) {}
    
    Prodaja(const std::string ia, double cs, 
        int d, int m, int g, 
        const std::string ime, const Datum&amp; d_kupca, 
        const std::string&amp; adresa, int ss, int bs, bool n, double k) 
            : _ime_agenta(ia), _cijena(cs), _datum(d, m, g), 
              _kupac(ime, d_kupca), _stan(adresa, ss, bs, n, k) {}
    
    void PromijeniStan(const Stan&amp; s)
    {
        _stan = s;
    }
    
    void PrimijeniDatumKupovine(const Datum&amp; d)
    {
        _datum = d;
    }
    
    void PromijeniCijenuProdaje(const double&amp; nova_cijena)
    {
        _cijena = nova_cijena;
    }
    
    void PomjeriDanUnaprijed();
    void PomjeriDanUnazad();
    
    std::string DajImeAgenta() const
    {
        return _ime_agenta;
    }
    
    std::string DajImeKupca() const
    {
        return _kupac.DajImeIPrezime();
    }
    
    Datum DajDatumProdaje() const
    {
        return _datum;
    }
    
    double DajCijenuStana() const
    {
<a name="4"></a><font color="#FF00FF"><a href="match964-0.html#4" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_0.gif"/></a>

        return _cijena;
    }
    
    friend bool ProdatPrije(const Prodaja&amp; s1, const Prodaja&amp; s2);
    friend bool SkupljiStan(const Prodaja&amp; s1, const Prodaja&amp; s2)
    {
        return s1.DajCijenuStana() &lt; s2.DajCijenuStana();
    }
    
    void Ispisi() const;
</font>};

<a name="5"></a><font color="#FF0000"><a href="match964-0.html#5" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_0.gif"/></a>

bool ProdatPrije(const Prodaja&amp; s1, const Prodaja&amp; s2)
{
    if(s1._datum.DajGodinu() == s2._datum.DajGodinu())
    {
        if(s1._datum.DajMjesec() == s2._datum.DajMjesec())    
</font>            return s1._datum.DajDan() &lt; s2._datum.DajDan();
        return s1._datum.DajMjesec() &lt; s2._datum.DajMjesec();
    }
<a name="6"></a><font color="#00FF00"><a href="match964-0.html#6" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_0.gif"/></a>

    return s1._datum.DajGodinu() &lt; s2._datum.DajGodinu();
}

void Prodaja::PomjeriDanUnaprijed()
{
    int g = _datum.DajGodinu();
    int m = _datum.DajMjesec();
    int d = _datum.DajDan();
</font>    
    int broj_dana[]{31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31};
    if((g % 4 == 0 &amp;&amp; g % 100 != 0) || g % 400 == 0)
        ++broj_dana[1];
        
    if(d == broj_dana[m - 1])
    {
        d = 1;
        if(m == 12)
        {
            ++g;
            m = 1;
        }
        else
         ++m;
    }
    else
        ++d;
<a name="9"></a><font color="#FF00FF"><a href="match964-0.html#9" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_0.gif"/></a>

    _datum.Postavi(d, m, g);
    
}
void Prodaja::PomjeriDanUnazad()
{
    int g = _datum.DajGodinu();
    int m = _datum.DajMjesec();
    int d = _datum.DajDan();
</font>    
    int broj_dana[]{31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31};
    if((g % 4 == 0 &amp;&amp; g % 100 != 0) || g % 400 == 0)
        ++broj_dana[1];
        
    if(d == 1)
    {
      if(m == 1)
      {
          --g;
          m = 12;
          d = 31;
      }
      else
      {
          --m;
          d = broj_dana[m - 1];
      }
    }
    else
        --d;
    _datum.Postavi(d, m, g);
}

void Prodaja::Ispisi() const
{
    std::cout &lt;&lt; std::setw(32) &lt;&lt; std::left &lt;&lt; "Ime agenta: " &lt;&lt; _ime_agenta &lt;&lt; "\n";
    std::cout &lt;&lt; std::setw(32) &lt;&lt; std::left &lt;&lt; "Ime kupca: " &lt;&lt; _kupac.DajImeIPrezime() &lt;&lt; " (";
    _kupac.DajDatumRodjenja().Ispisi();
    std::cout &lt;&lt; ")\n";
    std::cout &lt;&lt; std::setw(32) &lt;&lt; std::left &lt;&lt; "Zakazani datum prodaje: ";
    _datum.Ispisi();
    std::cout &lt;&lt; "\nInforamcije o stanu:\n";
    _stan.Ispisi();
}


class Prodaje
{
    Prodaja** _pr = nullptr;
    int _broj_pr, _max;
    void alociraj_i_kopiraj(const Prodaje&amp; p, bool treba = false);
    void oslobodi_memoriju();
public:
    explicit Prodaje(int max);
    Prodaje(std::initializer_list&lt;Prodaja&gt; sp);
    Prodaje(const Prodaje&amp; p) : _broj_pr(p._broj_pr), _max(p._max)
    {
        alociraj_i_kopiraj(p);
    }
    
    Prodaje(Prodaje&amp;&amp; p) : _pr(p._pr), _broj_pr(p._broj_pr), _max(p._max)
    {
        p._pr = nullptr;
        p._broj_pr = 0;
        p._max = 0;
    }
    
    Prodaje&amp; operator= (const Prodaje&amp; p);
    Prodaje&amp; operator= (Prodaje&amp;&amp; p);
    
    ~Prodaje()
    {
        oslobodi_memoriju();
    }
    
<a name="10"></a><font color="#FF0000"><a href="match964-0.html#10" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_0.gif"/></a>

    void RegistrirajProdaju(const std::string ia, double cs, const Datum&amp; d, const Kupac&amp; k, const Stan&amp; s)
    {
        if(_broj_pr == _max)
            throw std::range_error("Dostignut maksimalan broj prodaja");
        _pr[_broj_pr++] = new Prodaja(ia, cs, d, k, s);
</font>    }
    
    void RegistrirajProdaju(const std::string ia, double cs, 
        int d, int m, int g, 
        const std::string ime, const Datum&amp; d_kupca, 
        const std::string&amp; adresa, int ss, int bs, bool n, double k) 
    {
        if(_broj_pr == _max)
            throw std::range_error("Dostignut maksimalan broj prodaja");
        _pr[_broj_pr++] = new Prodaja(ia, cs, {d, m, g}, {ime, d_kupca}, {adresa, ss, bs, n, k});
    }
    
    void RegistrirajProdaju(Prodaja* p)
    {
        if(_broj_pr == _max)
            throw std::range_error("Dostignut maksimalan broj prodaja");
        _pr[_broj_pr++] = p;
    }
    
    int DajBrojProdaja() const
    {
        return _broj_pr;
    }
    
    int DajBrojProdajaNaDatum(const Datum&amp; d) const;
    int DajBrojProdajaOdAgenta(const std::string&amp; s)const
    {
        return std::count_if(_pr, _pr + _broj_pr, [&amp;](Prodaja* p) {
        return s == p-&gt;DajImeAgenta();
        });
    }
    
    Prodaja&amp; DajNajranijuProdaju()
    {
<a name="0"></a><font color="#FF0000"><a href="match964-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_4.gif"/></a>

        return **std::min_element(_pr, _pr + _broj_pr, [](Prodaja* p1, Prodaja* p2){
            return ProdatPrije(*p1, *p2);
        } );
    }
    
    Prodaja DajNajranijuProdaju() const
    {
        return **std::min_element(_pr, _pr + _broj_pr, [](Prodaja* p1, Prodaja* p2){
            return ProdatPrije(*p1, *p2);
        } );
    }
    
    Prodaja&amp; DajNajSkupljuProdaju()
    {
        return (**std::max_element(_pr, _pr + _broj_pr, [](Prodaja* p1, Prodaja* p2){
            return p1-&gt;DajCijenuStana() &lt; p2-&gt;DajCijenuStana();
        } ));
    }
    
    Prodaja DajNajSkupljuProdaju() const
    {
        return (**std::max_element(_pr, _pr + _broj_pr, [](Prodaja* p1, Prodaja* p2){
            return p1-&gt;DajCijenuStana() &lt; p2-&gt;DajCijenuStana();
        } ));
    }
    
    void IsprazniKolekciju();
    void ObrisiNajRanijuProdaju()
    {
        if(_broj_pr == 0)
            throw std::range_error("Prazna kolekcija");
        auto&amp; r = DajNajranijuProdaju();
        std::remove(_pr, _pr + _broj_pr, &amp;r);
        delete &amp;r;
</font>        --_broj_pr;
    }
    
    void ObrisiProdajeAgenta(const std::string&amp; ime);
    void ObrisiProdajeNaDatum(const Datum&amp; d);
    
    Prodaja&amp; DajProdaju(int i)
    {
        if( i &lt; 0 &amp;&amp;  i &gt; _broj_pr)
            throw std::domain_error("Pogresan parametar"); 
        return *_pr[i];
    }
    
    
    void IspisiProdajuNaDatum(const Datum&amp; d) const;
    
    void IspisiSveProdaje() const;
    
};

void Prodaje::IspisiSveProdaje() const
{
    std::for_each(_pr, _pr + _broj_pr, [] (Prodaja* p){
       p-&gt;Ispisi();
       std::cout &lt;&lt; '\n';
    });
}

void Prodaje::IspisiProdajuNaDatum(const Datum&amp; d) const
{
    std::for_each(_pr, _pr + _broj_pr, [&amp;] (Prodaja* p){
<a name="3"></a><font color="#00FFFF"><a href="match964-0.html#3" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_0.gif"/></a>

       const auto&amp; da = p-&gt;DajDatumProdaje();
       if(da.DajDan() == d.DajDan() &amp;&amp; da.DajMjesec() == d.DajMjesec() 
            &amp;&amp; da.DajGodinu() == d.DajGodinu())
       {
           p-&gt;Ispisi();
           std::cout &lt;&lt; '\n';
</font>       }
    });
}

void Prodaje::ObrisiProdajeNaDatum(const Datum&amp; d)
{
    int brojac = 0;
    std::remove_if(_pr, _pr + _broj_pr, [&amp;] (Prodaja* p){
       const auto&amp; da = p-&gt;DajDatumProdaje();
       if(da.DajDan() == d.DajDan() &amp;&amp; da.DajMjesec() == d.DajMjesec() 
            &amp;&amp; da.DajGodinu() == d.DajGodinu())
       {
           ++brojac;
           delete p;
           return true;
       }
       return false;
    });
    _broj_pr -= brojac;
}

void Prodaje::ObrisiProdajeAgenta(const std::string&amp; ime)
{
    int brojac = 0;
    std::remove_if(_pr, _pr + _broj_pr, [&amp;] (Prodaja* p){
       if(p-&gt;DajImeAgenta() == ime){
           ++brojac;
           delete p;
           return true;
       }
       return false;
    });
    _broj_pr -= brojac;
}

void Prodaje::IsprazniKolekciju()
{
    for(int i = 0; i &lt; _broj_pr; ++i)
        delete _pr[i];
    std::fill(_pr, _pr + _broj_pr, nullptr);
    _broj_pr = 0;
}

int Prodaje::DajBrojProdajaNaDatum(const Datum&amp; d) const
{
<a name="2"></a><font color="#0000FF"><a href="match964-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_1.gif"/></a>

    return std::count_if(_pr, _pr + _broj_pr, [&amp;](Prodaja* p) {
        return d.DajDan() == p-&gt;DajDatumProdaje().DajDan() &amp;&amp; d.DajMjesec() == p-&gt;DajDatumProdaje().DajMjesec() &amp;&amp;
            d.DajGodinu() == p-&gt;DajDatumProdaje().DajGodinu();
</font>    });
}

Prodaje&amp; Prodaje::operator= (Prodaje&amp;&amp; p)
{
    if(&amp;p == this)
        return *this;
    oslobodi_memoriju();
    _pr = p._pr;
    p._pr = nullptr;
    _broj_pr = p._broj_pr;
    p._broj_pr = 0;
    _max = p._max;
    p._max = 0;
    return *this;
}

Prodaje&amp; Prodaje::operator= (const Prodaje&amp; p)
{
    if(&amp;p == this)
        return *this;
    try {
        oslobodi_memoriju();
        alociraj_i_kopiraj(p);
    }
    catch (...) {
        oslobodi_memoriju();
    }
    return *this;
}

void Prodaje::oslobodi_memoriju()
{
    if(_pr == nullptr)
        return;
    for(int i = 0; i &lt; _broj_pr; ++i)
        delete _pr[i];
    delete [] _pr;
    _pr = nullptr;
}

void Prodaje::alociraj_i_kopiraj(const Prodaje&amp; p, bool treba)
{
    try
    {
        if(!treba)
            _pr = new Prodaja*[p._max];
        for(int i = 0; i &lt; p._broj_pr; ++i)
            _pr[i] = new Prodaja (*p._pr[i]);
        _max = p._max;
        _broj_pr = p._broj_pr;
    }catch(std::bad_alloc)
    {
        oslobodi_memoriju();
        throw;
    }
}

Prodaje::Prodaje(int max) : _broj_pr(0), _max(max)
{
    if(max &lt; 0)
        throw std::range_error("MEMEME");
    _pr = new Prodaja* [max];
}

Prodaje::Prodaje(std::initializer_list&lt;Prodaja&gt; sp) : _broj_pr(sp.size()), _max(_broj_pr)
{
    try
    {
        _pr = new Prodaja* [_max]{};
        auto it = sp.begin();
        for(int i = 0; i &lt; _max; ++i, ++it)
            _pr[i] = new Prodaja(*it);
    }catch(...)
    {
        oslobodi_memoriju();
        throw;
    }
}


int uredjivanje_stana(std::vector&lt;Stan&gt;&amp; vs)
{
    for(;;)
    {
        std::cout &lt;&lt; "Izaberite opciju:\n 0 - nazad\n 1 - dodavanje stana\n 2 - uredjivanje stanova";
        std::cout &lt;&lt; "\n 3 - ispisi svih stanova\n 4 - kraj\n";    
        int opcija;
        std::cin &gt;&gt; opcija;
        if( opcija == 0 )
            return 0;
        if(opcija == 4)
            return 4;
        if(opcija == 1)
        {
            UNOS_STANA:
            std::string adresa;
            std::cout &lt;&lt; "Unesite adresu: ";
            std::cin.ignore(10000, '\n');
            std::getline(std::cin, adresa);
            std::cin.ignore(10000, '\n');
            std::cout &lt;&lt; "Unesite sprat: ";
            int s;
            std::cin &gt;&gt; s;
            std::cout &lt;&lt; "Unesite broj soba: ";
            int bs;
            std::cin &gt;&gt; bs;
            std::cout &lt;&lt; "Da li je stan namjesten (1 - da, 0 - ne): ";
            int n;
            std::cin &gt;&gt; n;
            if(n != 1 &amp;&amp; n != 0)
            {
                std::cout &lt;&lt; "Izuzetak: Neispravan unos podataka. Molimo unesite opet.\n";
                continue;
            }
            std::cout &lt;&lt; "Unesite kvadraturu: ";
            double kv;
            std::cin &gt;&gt; kv;
            try{
                vs.emplace_back(adresa, s, bs, n, kv);
                std::cout &lt;&lt; "Stan je uspjesno dodan!\n";
            }catch(std::bad_alloc){
                throw;
            }
            catch(...){
                std::cout &lt;&lt; "Izuzetak: Neispravan unos podataka. Molimo unesite opet.\n";
                goto UNOS_STANA;
            }
        }
        if(opcija == 3)
        {
            int i = 0;
            for(const auto&amp; s : vs)
            {
                std::cout &lt;&lt; i &lt;&lt; ". ";
                s.Ispisi();
                ++i;
            }
            continue;
        }
        if(opcija == 2)
        {
            std::cout &lt;&lt; "Odaberite stan. Dostupni stanovi su:\n";
            int i = 0;
            for(const auto&amp; s : vs)
            {
                std::cout &lt;&lt; ' ' &lt;&lt; i &lt;&lt; " - ";
                s.Ispisi();
                ++i;
            }
            int br_stana;
            std::cin &gt;&gt; br_stana;
            std::cout &lt;&lt; "Odaberite polje koje zelite izmijeniti:\n";
            std::cout &lt;&lt; " 0 - nazad\n 1 - adresa\n 2 - sprat\n 3 - broj soba\n";
            std::cout &lt;&lt; " 4 - da li je stan namjesten\n 5 - kvadratura\n - 6 sve\n";
            auto &amp;st = vs[br_stana - 1];
            int opcija_stana;
            std::cin &gt;&gt; opcija_stana;
            if(opcija_stana == 1)
            {
                UNOS_ADRESE:
                std::string adresa;
                std::cout &lt;&lt; "Unesite adresu: ";
                std::cin.ignore(10000, '\n');
                std::getline(std::cin, adresa);
                std::cin.ignore(10000, '\n');
                auto &amp;st = vs[br_stana - 1];
                try {
                    st = Stan(adresa, st.DajSprat(), st.DajBrojSoba(), st.DajNamjesten(), st.DajKvadraturu()); 
                    std::cout &lt;&lt; "Stan je uspjesno izmijenjen!\n";
                }
                catch(std::bad_alloc)
                {
                    throw;
                }
                catch (...) {
                    std::cout &lt;&lt; "Izuzetak: Neispravan unos podataka. Molimo unesite opet.\n";
                    goto UNOS_ADRESE;
                }
            }
            
            if(opcija_stana == 2)
            {
                UNOS_SPRATA:
                std::cout &lt;&lt; "Unesite sprat: ";
                int sprat;
                std::cin &gt;&gt; sprat;
                try {
                    st = Stan(st.DajAdresu(), sprat, st.DajBrojSoba(), st.DajNamjesten(), st.DajKvadraturu());
                    std::cout &lt;&lt; "Stan je uspjesno izmijenjen!\n";
                }
                catch(std::bad_alloc)
                {
                    throw;
                }
                catch (...) {
                    std::cout &lt;&lt; "Izuzetak: Neispravan unos podataka. Molimo unesite opet.\n";
                    goto UNOS_SPRATA;
                }
            }
            
            if(opcija_stana == 3)
            {
                UNOS_SOBA:
                std::cout &lt;&lt; "Unesite broj soba: ";
                int bs;
                std::cin &gt;&gt; bs;
                try {
                    st = Stan(st.DajAdresu(), st.DajSprat(), bs, st.DajNamjesten(), st.DajKvadraturu());
                    std::cout &lt;&lt; "Stan je uspjesno izmijenjen!\n";
                }
                catch(std::bad_alloc)
                {
                    throw;
                }
                catch (...) {
                    std::cout &lt;&lt; "Izuzetak: Neispravan unos podataka. Molimo unesite opet.\n";
                    goto UNOS_SOBA;
                }
            }
            
            if(opcija_stana == 4)
            {
                UNOS_NAMJESTEN:
                std::cout &lt;&lt; "Da li je stan namjesten (1 - da, 0 - ne): ";
                int n;
                std::cin &gt;&gt; n;
                if(n != 1 &amp;&amp; n != 0)
                {
                    std::cout &lt;&lt; "Izuzetak: Neispravan unos podataka. Molimo unesite opet.\n";
                    goto UNOS_NAMJESTEN;
                }
                try {
                    st = Stan(st.DajAdresu(), st.DajSprat(), st.DajBrojSoba(), n, st.DajKvadraturu());
                    std::cout &lt;&lt; "Stan je uspjesno izmijenjen!\n";
                }
                catch(std::bad_alloc)
                {
                    throw;
                }
                catch (...) {
                    std::cout &lt;&lt; "Izuzetak: Neispravan unos podataka. Molimo unesite opet.\n";
                    goto UNOS_SPRATA;
                }
            }
            
            if(opcija_stana == 5)
            {
                UNOS_KVADRATURE:
                std::cout &lt;&lt; "Unesite kvadraturu: ";
                double kv;
                std::cin &gt;&gt; kv;
                try {
                    st = Stan(st.DajAdresu(), st.DajSprat(), st.DajBrojSoba(), st.DajNamjesten(), kv);
                    std::cout &lt;&lt; "Stan je uspjesno izmijenjen!\n";
                }
                catch(std::bad_alloc)
                {
                    throw;
                }
                catch (...) {
                    std::cout &lt;&lt; "Izuzetak: Neispravan unos podataka. Molimo unesite opet.\n";
                    goto UNOS_KVADRATURE;
                }
            }
            if(opcija_stana == 6)
            {
                UNOS_STANA_P:
                std::string adresa;
                std::cout &lt;&lt; "Unesite adresu: ";
                std::cin.ignore(10000, '\n');
                std::getline(std::cin, adresa);
                std::cin.ignore(10000, '\n');
                std::cout &lt;&lt; "Unesite sprat: ";
                int s;
                std::cin &gt;&gt; s;
                std::cout &lt;&lt; "Unesite broj soba: ";
                int bs;
                std::cin &gt;&gt; bs;
                std::cout &lt;&lt; "Da li je stan namjesten (1 - da, 0 - ne): ";
                int n;
                std::cin &gt;&gt; n;
                if(n != 1 &amp;&amp; n != 0)
                {
                    std::cout &lt;&lt; "Izuzetak: Neispravan unos podataka. Molimo unesite opet.\n";
                    continue;
                }
                std::cout &lt;&lt; "Unesite kvadraturu: ";
                double kv;
                std::cin &gt;&gt; kv;
                
                try {
                    st = Stan(adresa, s, bs, n, kv);
                    std::cout &lt;&lt; "Stan je uspjesno izmijenjen!\n";
                }
                catch(std::bad_alloc)
                {
                    throw;
                }
                catch (...) {
                    std::cout &lt;&lt; "Izuzetak: Neispravan unos podataka. Molimo unesite opet.\n";
                    goto UNOS_STANA_P;
                }
            }
                
        }
    } // kraj beskonacne petlje
}

int uredjivanje_kupaca(std::vector&lt;Kupac&gt;&amp; vk)
{
    for(;;)
    {
        std::cout &lt;&lt; "Izaberite opciju:\n 0 - nazad\n 1 - dodavanje kupca\n";
        std::cout &lt;&lt; " 2 - uredjivanje kupaca\n 3 - ispisi svih kupaca\n - 4 kraj\n";
        int opcija;
        std::cin &gt;&gt; opcija;
        if( opcija == 0 )
            return 0;
        if(opcija == 4)
            return 4;
        if(opcija == 1)
        {
            UNSO_KUPCA:
            std::cout &lt;&lt; "Unesite ime i prezime kupca: ";
            std::cin.ignore(10000, '\n');
            std::string ime;
            std::cin.ignore(10000, '\n');
            std::cout &lt;&lt; "Unesite datum rodjenja (formata d/m/g): ";
            char znak;
            int d, m, g;
            std::cin &gt;&gt; d &gt;&gt; znak &gt;&gt; m &gt;&gt; znak &gt;&gt; g;
            try {
                vk.push_back(Kupac(ime, Datum{d, m, g}));
                std::cout &lt;&lt; "Kupac je uspjesno dodan!";
            }
            catch (std::domain_error e) {
                std::cout &lt;&lt; "Izuzetak: " &lt;&lt; e.what() &lt;&lt; ". Molimo unesite opet.";
                goto UNSO_KUPCA;
            }
        }
        if(opcija == 3)
        {
            for(const auto&amp; k : vk)
            {
                k.Ispisi();
                std::cout &lt;&lt; "\n";
            }
        }
        
        if(opcija == 2)
        {
            std::cout &lt;&lt; "Odaberite kupca kojeg zelite urediti. Dostupni kupci su:";
            int i = 0;
            for(const auto&amp; k : vk)
            {
                std::cout &lt;&lt; " " &lt;&lt; i &lt;&lt; " - ";
                k.Ispisi();
                std::cout &lt;&lt; "\n";
                ++i;
            }
            int br_kupca;
            std::cin &gt;&gt; br_kupca;
            UNSO_KUPCA_l:
            std::cout &lt;&lt; "Unesite ime i prezime kupca: ";
            std::cin.ignore(10000, '\n');
            std::string ime;
            std::cin.ignore(10000, '\n');
            std::cout &lt;&lt; "Unesite datum rodjenja (formata d/m/g): ";
            char znak;
            int d, m, g;
            std::cin &gt;&gt; d &gt;&gt; znak &gt;&gt; m &gt;&gt; znak &gt;&gt; g;
            try {
                vk[br_kupca - 1] = Kupac(ime, Datum{d, m, g});
                std::cout &lt;&lt; "Kupac je uspjesno izmijenjen!";
            }
            catch (std::domain_error e) {
                std::cout &lt;&lt; "Izuzetak: " &lt;&lt; e.what() &lt;&lt; ". Molimo unesite opet.";
                goto UNSO_KUPCA_l;
            }
        }
    }
}

int uredjivanje_prodaje(Prodaja&amp; p)
{
    Izaberite opciju:
 0 - nazad
 1 - dodavanje prodaje
 2 - uredjivanje prodaje
 3 - ispis prodaja
 4 - brisanje prodaja
 5 - kraj

    for(;;)
    {
        
    }

}

int main ()
{
    try{
        std::cout &lt;&lt; "Dobrodosli!\n\n";
        std::vector&lt;Stan&gt; vs;
        std::vector&lt;Kupac&gt; vk;
        Prodaje p(20);
        for(;;)
        {
            std::cout &lt;&lt; "Izaberite opciju:\n 0 - kraj\n 1 - uredjivanje stanova\n 2 - uredjivanje kupaca";
            std::cout &lt;&lt; "\n 3 - uredjivanje prodaja\n";
            int opcija;
            std::cin &gt;&gt; opcija;
            if(opcija == 0)
                return 0;
            if(opcija == 1)
            {
                auto a = uredjivanje_stana(vs);
                if(a == 4)
                    return 0;
                if(a == 0)
                    continue;
            }
            if(opcija == 2)
            {
                auto a = uredjivanje_kupaca(vk);
                if(a == 4)
                    return 0;
                if(a == 0)
                    continue;
            }
            if(opcija == 3)
            {
                auto a = uredjivanje_prodaje(vk);
                if(a == 4)
                    return 0;
                if(a == 0)
                    continue;
            }
        }    
    }catch(...)
    {
        
    }
    
 	return 0;
}</pre>
</body>
</html>
