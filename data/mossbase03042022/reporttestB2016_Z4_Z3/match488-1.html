<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z3/student8638.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z3/student8337.cpp<p></p><pre>
/B 2016/2017, ZadaÄ‡a 4, Zadatak 3
//Napomena: testovi ce biti dostupni dan pred rok!
#include &lt;iostream&gt;
#include &lt;vector&gt;
#include &lt;string&gt;
#include &lt;stdexcept&gt;
#include &lt;iomanip&gt;
#include &lt;algorithm&gt;

class Datum {
    int dan;
    int mjesec;
    int godina;
public:
    Datum(int d, int m, int g){ Postavi(d, m, g); }
    Datum(const Datum &amp;d){ dan = d.dan; mjesec = d.mjesec; godina = d.godina; }
    void Postavi(int dan, int mjesec, int godina);
    int DajDan() const { return dan; }
    int DajMjesec() const { return mjesec; }
    int DajGodinu() const { return godina; }
    void Ispisi() const{ 
        std::cout &lt;&lt; dan &lt;&lt; "/" &lt;&lt; mjesec &lt;&lt; "/" &lt;&lt; godina;
    }
};

void Datum::Postavi(int d, int m, int g){
    std::vector&lt;int&gt; broj_dana{31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31};
    if(g%4==0 &amp;&amp; (g%100!=0 || g%400==0)) broj_dana[1]++;
    if(g&lt;1 || d&lt;1 || m&lt;1 || m&gt;12 || d&gt;broj_dana[m-1]){
        throw std::domain_error("Neispravan datum");
    }
    dan = d; mjesec = m; godina = g;
}



<a name="15"></a><font color="#FF0000"><a href="match488-0.html#15" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_0.gif"/></a>

class Kupac {
    std::string ime_i_prezime;
    Datum datum_rodjenja;
public:
    Kupac(const std::string &amp;i_i_p, const Datum &amp;d_r);
    void Postavi(const std::string &amp;i_i_p, const Datum &amp;d_r);
</font>    std::string DajImePrezime() const{ return ime_i_prezime; }
    Datum DajDatumRodjenja() const { return datum_rodjenja; }
    void Ispisi() const{
        std::cout &lt;&lt; ime_i_prezime &lt;&lt; "(";
        datum_rodjenja.Ispisi();
        std::cout &lt;&lt; ")" &lt;&lt; std::endl;
    }
};

Kupac::Kupac(const std::string &amp;i_i_p, const Datum &amp;d_r) : datum_rodjenja(d_r) {
    for(int i=0; i&lt;i_i_p.length(); i++){
        if(!((i_i_p[i]&gt;='A' &amp;&amp; i_i_p[i]&lt;='Z')||(i_i_p[i]&gt;='a' &amp;&amp; i_i_p[i]&lt;='z')||(i_i_p[i]&gt;='0' &amp;&amp; i_i_p[i]&lt;='9')||i_i_p[i]==' '||i_i_p[i]=='-'||i_i_p[i]==39)){
            throw std::domain_error("Neispravano ime i prezime");
        }
    }
    ime_i_prezime = i_i_p;
}

void Kupac::Postavi(const std::string &amp;i_i_p, const Datum &amp;d_r){
    for(int i=0; i&lt;i_i_p.length(); i++){
        if(!((i_i_p[i]&gt;='A' &amp;&amp; i_i_p[i]&lt;='Z')||(i_i_p[i]&gt;='a' &amp;&amp; i_i_p[i]&lt;='z')||(i_i_p[i]&gt;='0' &amp;&amp; i_i_p[i]&lt;='9')||i_i_p[i]==' '||i_i_p[i]=='-'||i_i_p[i]== 39)){
            throw std::domain_error("Neispravano ime i prezime");
        }
    }
    ime_i_prezime = i_i_p;
    datum_rodjenja = d_r;
}

<a name="5"></a><font color="#FF0000"><a href="match488-0.html#5" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_0.gif"/></a>

class Stan {
    std::string adresa;
    int sprat;
    int broj_soba;
    bool namjesten;
    double kvadratura;
public: 
    Stan(const std::string &amp;a, int s, int b_s, bool n, double k);
    void Postavi(const std::string &amp;adresa, int sprat, int broj_soba,bool namjesten, double kvadratura);
</font>    std::string DajAdresu() const{ return adresa; }
    int DajSprat() const{ return sprat; }
    int DajBrojSoba() const{ return broj_soba; }
    bool DajNamjesten() const{ return namjesten; }
    double DajKvadraturu()  const{ return kvadratura; }
    void Ispisi() const;
};

Stan::Stan(const std::string &amp;a, int s, int b_s, bool n, double k){
    if(s&lt;0 || b_s&lt;0 || k&lt;0) throw std::domain_error("Nispravan unos podataka");
    adresa = a; sprat = s; broj_soba = b_s; namjesten = n; kvadratura = k;
}

void Stan::Postavi(const std::string &amp;a, int s, int b_s, bool n, double k){
    if(s&lt;0 || b_s&lt;0 || k&lt;0) throw std::domain_error("Nispravan unos podataka");
    adresa = a; sprat = s; broj_soba = b_s; namjesten = n; kvadratura = k;
}

void Stan::Ispisi() const{
        std::cout &lt;&lt; "Stan se nalazi na adresi " &lt;&lt; adresa &lt;&lt; " na " &lt;&lt; sprat &lt;&lt; ". spratu" &lt;&lt; " i ima ";
        if(broj_soba % 10 == 1) std::cout &lt;&lt; broj_soba &lt;&lt; " sobu.";
        else if(broj_soba % 10 == 2 || broj_soba %10 == 3 || broj_soba % 10 == 4) std::cout &lt;&lt; broj_soba &lt;&lt; " sobe.";
        else std::cout &lt;&lt; broj_soba &lt;&lt; " soba.";
        std::cout &lt;&lt; " Kvadratura stana je " &lt;&lt; kvadratura &lt;&lt; " (m^2) i stan ";
        if(namjesten) std::cout &lt;&lt; "je namjesten.";
        else std ::cout &lt;&lt; "nije namjesten.";
}

class Prodaja {
    std::string ime_agenta_prodaje;
    double cijena_stana;
    Datum datum_prodaje;
    Kupac kupac_stana;
    Stan kupljeni_stan;
    
public: 
    Prodaja(const std::string &amp;i_a_p, double c_s, const Datum &amp;d_p, const Kupac &amp;kupac_s, const Stan &amp;kupljeni_s) : ime_agenta_prodaje(i_a_p), cijena_stana(c_s), datum_prodaje(d_p), kupac_stana(kupac_s), kupljeni_stan(kupljeni_s){}
    Prodaja(const std::string &amp;i_a_p, double c_s, int dan_p, int m_p, int g_p, std::string &amp;ime_k, const Datum &amp;d_r_k, const std::string &amp;a_s, int s_s, int b_s, bool n_s, double b_k) : datum_prodaje(dan_p, m_p, g_p), kupac_stana(ime_k, d_r_k), kupljeni_stan(a_s, s_s, b_s, n_s, b_k){
        ime_agenta_prodaje = i_a_p; cijena_stana = c_s; 
    }
    void PromijeniAgentaProdaje(std::string i_a_p){ ime_agenta_prodaje = i_a_p; }
    void PromijeniKupca(const Kupac &amp;novi_kupac){
        kupac_stana.Postavi(novi_kupac.DajImePrezime(), novi_kupac.DajDatumRodjenja());
    } 
    void PromijeniStan(const Stan &amp;novi_stan){
        kupljeni_stan.Postavi(novi_stan.DajAdresu(), novi_stan.DajSprat(), novi_stan.DajBrojSoba(), novi_stan.DajNamjesten(), novi_stan.DajKvadraturu());
    }
    void PromijeniDatumKupovine(const Datum &amp;novi_datum){
        datum_prodaje.Postavi(novi_datum.DajDan(), novi_datum.DajMjesec(), novi_datum.DajGodinu());
    }
    void PromijeniCijenuProdaje(const double &amp;nova_cijena){ cijena_stana = nova_cijena; }
    void PomjeriDanUnaprijed();
    void PomjeriDanUnazad();
    std::string DajImeAgenta() const { return ime_agenta_prodaje; }
    std::string DajImeKupca() const{ return kupac_stana.DajImePrezime(); }
    Kupac DajKupca() const{ return kupac_stana; }
    Datum DajDatumProdaje() const { return datum_prodaje; }
    double DajCijenuStana() const { return cijena_stana; }
    Stan DajStan() const { return kupljeni_stan; }
    friend bool ProdatPrije(const Prodaja &amp;p1, const Prodaja &amp;p2);
    friend bool SkupljiStan(const Prodaja &amp;p1, const Prodaja &amp;p2);
    void Ispisi() const;
};

void Prodaja::PomjeriDanUnaprijed(){
    int d(datum_prodaje.DajDan()), m(datum_prodaje.DajMjesec()), g(datum_prodaje.DajGodinu());
    std::vector&lt;int&gt; broj_dana{31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31};
    if(g%4==0 &amp;&amp; (g%100!=0 || g%400==0)) broj_dana[1]++;
    d++;
    if(d&gt;broj_dana[m-1]){
        if(m == 12){ d=1; m=1; g++; }
        else{ d=1; m++; }
    }
    datum_prodaje.Postavi(d, m, g);
}

void Prodaja::PomjeriDanUnazad(){
    int d(datum_prodaje.DajDan()), m(datum_prodaje.DajMjesec()), g(datum_prodaje.DajGodinu());
    std::vector&lt;int&gt; broj_dana{31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31};
    if(g%4==0 &amp;&amp; (g%100!=0 || g%400==0)) broj_dana[1]++;
    d--;
    if(d&lt;1){
        if(m == 1) { d=broj_dana[11]; m=12; g--; }
        else { d=broj_dana[m-1]; m--; }
    }
    datum_prodaje.Postavi(d, m, g);
}

bool ProdatPrije(const Prodaja &amp;p1, const Prodaja &amp;p2){
<a name="16"></a><font color="#00FF00"><a href="match488-0.html#16" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_0.gif"/></a>

    if((p1.datum_prodaje).DajGodinu() &lt; (p2.datum_prodaje).DajGodinu()) return true;
    else if((p1.datum_prodaje).DajGodinu() == (p2.datum_prodaje).DajGodinu()){
</font><a name="17"></a><font color="#0000FF"><a href="match488-0.html#17" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_0.gif"/></a>

        if((p1.datum_prodaje).DajMjesec() &lt; (p2.datum_prodaje).DajMjesec()) return true;
        else if((p1.datum_prodaje).DajMjesec() == (p2.datum_prodaje).DajMjesec()){
</font><a name="2"></a><font color="#0000FF"><a href="match488-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_0.gif"/></a>

            if((p1.datum_prodaje).DajDan() &lt; (p2.datum_prodaje).DajDan()) return true;
        }
    } 
    return false;
}

bool SkupljiStan(const Prodaja &amp;p1, const Prodaja &amp;p2){
    if(p1.cijena_stana &lt; p2.cijena_stana) return true;
    return false;
}

void Prodaja::Ispisi() const{
    std::cout &lt;&lt; "Ime agenta:                     " &lt;&lt;  ime_agenta_prodaje &lt;&lt; std::endl;
</font>    std::cout &lt;&lt; "Ime kupca:                      " &lt;&lt; kupac_stana.DajImePrezime() &lt;&lt; std::endl;
    std::cout &lt;&lt; "Zakazani datum prodaje:         ";
    datum_prodaje.Ispisi();
    std::cout &lt;&lt; std::endl;
    std::cout &lt;&lt; "Cijena stana:                   " &lt;&lt; cijena_stana &lt;&lt; std::endl;
    std::cout &lt;&lt; "Informacije o stanu:            " &lt;&lt; std::endl;
    kupljeni_stan.Ispisi();
    std::cout &lt;&lt; std::endl;
}

class Prodaje {
    int max_broj_prodaja;
    int broj_prodaja;
    Prodaja** prodaje_se;
public:
    explicit Prodaje(int m_b_p) : max_broj_prodaja(m_b_p), broj_prodaja(0), prodaje_se(new Prodaja* [max_broj_prodaja]) {}
    Prodaje(std::initializer_list&lt;Prodaja&gt; spisak_prodaja) : max_broj_prodaja(spisak_prodaja.size()), broj_prodaja(spisak_prodaja.size()), prodaje_se(new Prodaja* [max_broj_prodaja]){
        int i(0);
        for(Prodaja x : spisak_prodaja){
            prodaje_se[i] = new Prodaja(x);
            i++;
        }
    }
    Prodaja* begin(){ return *prodaje_se; }
	Prodaja* end(){ return *(prodaje_se + broj_prodaja); }
    ~Prodaje();
    Prodaje(const Prodaje &amp;prodaje);
    Prodaje(Prodaje &amp;&amp;prodaje);
    Prodaje &amp;operator =(const Prodaje &amp;prodaje);
    Prodaje &amp;operator =(Prodaje &amp;&amp;prodaje);
    void RegistrirajProdaju(const std::string &amp;ime_agenta_prodaje, double cijena_stana, const Datum &amp;datum_prodaje, const Kupac &amp;kupac_stana, const Stan &amp;kupljeni_stan){
        if(max_broj_prodaja == broj_prodaja) throw std::range_error("Dostignut maksimalan broj prodaja");
        prodaje_se[broj_prodaja] = new Prodaja(ime_agenta_prodaje,cijena_stana, datum_prodaje, kupac_stana, kupljeni_stan);
        broj_prodaja++;
    }
    void RegistrirajProdaju(const std::string &amp;ime_agenta_prodaje, double cijena_stana,int dan_prodaje,int mjesec_prodaje, int godina_prodaje, std::string &amp;ime_kupca, const Datum &amp;datum_rodjenja_kupca, const std::string &amp;adresa_stana, int sprat_stana, int broj_soba, bool namjesten_stan, double broj_kvadrata){
        if(max_broj_prodaja == broj_prodaja) throw std::range_error("Dostignut maksimalan broj prodaja");
        prodaje_se[broj_prodaja] = new Prodaja(ime_agenta_prodaje, cijena_stana, dan_prodaje, mjesec_prodaje, godina_prodaje, ime_kupca, datum_rodjenja_kupca, adresa_stana, sprat_stana, broj_soba, namjesten_stan, broj_kvadrata);
        broj_prodaja++;
    }
    void RegistrirajProdaju(Prodaja *p){
        if(max_broj_prodaja == broj_prodaja) throw std::range_error("Dostignut maksimalan broj prodaja");
        prodaje_se[broj_prodaja] = new Prodaja(p-&gt;DajImeAgenta(), p-&gt;DajCijenuStana(), p-&gt;DajDatumProdaje(), p-&gt;DajKupca(), p-&gt;DajStan());
        broj_prodaja++;
    }
    int DajBrojProdaja() const { return broj_prodaja; }
    int DajBrojProdajaNaDatum(const Datum &amp;datum) const;
    int DajBrojProdajaOdAgenta(const std::string &amp;ime_agenta) const;
    Prodaja &amp;DajNajranijuProdaju();
    Prodaja DajNajranijuProdaju() const;
    Prodaja &amp;DajNajskupljuProdaju();
    Prodaja DajNajskupljuProdaju() const;
    void IsprazniKolekciju(){
        for(int i=0; i &lt; broj_prodaja; i++) delete prodaje_se[i];
        delete[] prodaje_se;
        broj_prodaja=0;
        max_broj_prodaja = 0;
    }
    void ObrisiNajranijuProdaju();
    void ObrisiProdajeAgenta(const std::string &amp;ime_agenta);
    void ObrisiProdajeNaDatum(const Datum &amp;datum);
    void IspisiProdajeNaDatum(const Datum &amp;datum) const;
    void IspisiSveProdaje() const;
};

Prodaje::~Prodaje(){
    for(int i=0; i&lt;broj_prodaja; i++) delete prodaje_se[i];
    delete[] prodaje_se;
}

Prodaje::Prodaje(const Prodaje &amp;p): max_broj_prodaja(p.max_broj_prodaja), broj_prodaja(p.broj_prodaja), prodaje_se(new Prodaja* [p.broj_prodaja]){
    for(int i=0; i&lt;p.broj_prodaja; i++){
        prodaje_se[i] = new Prodaja(*p.prodaje_se[i]);
    }
}

Prodaje::Prodaje(Prodaje &amp;&amp;p) : max_broj_prodaja(p.max_broj_prodaja), broj_prodaja(p.broj_prodaja), prodaje_se(p.prodaje_se){
    p.prodaje_se = nullptr; p.broj_prodaja = 0;
}

Prodaje &amp;Prodaje::operator =(const Prodaje &amp;p){
    if(p.max_broj_prodaja != max_broj_prodaja) throw std::logic_error("Nesaglasni kapaciteti prodaje");
    if(&amp;p != this){
        for(int i=0; i&lt;broj_prodaja; i++) delete prodaje_se[i];
        for(int i=0; i&lt;p.broj_prodaja; i++){
            prodaje_se[i] = new Prodaja(*p.prodaje_se[i]);
        }
        broj_prodaja = p.broj_prodaja;
    }
    return *this;
}

Prodaje &amp;Prodaje::operator =(Prodaje &amp;&amp;p){
    if(p.max_broj_prodaja != max_broj_prodaja) throw std::logic_error("Nesaglasni kapaciteti prodaje");
<a name="12"></a><font color="#0000FF"><a href="match488-0.html#12" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_0.gif"/></a>

    if(&amp;p != this){
        for(int i=0; i&lt;broj_prodaja; i++) delete prodaje_se[i];
        delete[] prodaje_se;
        
        prodaje_se = p.prodaje_se; broj_prodaja = p.broj_prodaja;
</font>        p.prodaje_se = nullptr; p.broj_prodaja = 0;
    }
    return *this;
}

int Prodaje::DajBrojProdajaNaDatum(const Datum &amp;datum) const{
    int k(0);
    //std::count_if(prodaje_se, prodaje_se+broj_prodaja, []());
    for(int i=0; i&lt;broj_prodaja; i++){
        if( (prodaje_se[i]-&gt;DajDatumProdaje()).DajGodinu() == datum.DajGodinu() ){
            if( (prodaje_se[i]-&gt;DajDatumProdaje()).DajMjesec() == datum.DajMjesec() ){
                if( (prodaje_se[i]-&gt;DajDatumProdaje()).DajDan() == datum.DajDan() ){
                    k++;
                }
            }
        }
    }
    return k;
}

<a name="1"></a><font color="#00FF00"><a href="match488-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_0.gif"/></a>

int Prodaje::DajBrojProdajaOdAgenta(const std::string &amp;ime_agenta) const{
    int k(0);
    for(int i=0; i&lt;broj_prodaja; i++){
        if( prodaje_se[i]-&gt;DajImeAgenta()== ime_agenta ) k++;
    }
    return k;
}

Prodaja &amp;Prodaje::DajNajranijuProdaju(){
    Prodaja** p( std::min_element(prodaje_se, prodaje_se+broj_prodaja, [](Prodaja* p1, Prodaja*p2){
</font>        if(((*p1).DajDatumProdaje()).DajGodinu() != ((*p2).DajDatumProdaje()).DajGodinu() ) return ((*p1).DajDatumProdaje()).DajGodinu() &lt; ((*p2).DajDatumProdaje()).DajGodinu();
        if( ((*p1).DajDatumProdaje()).DajMjesec() != ((*p2).DajDatumProdaje()).DajMjesec() ) return ((*p2).DajDatumProdaje()).DajMjesec() &lt; ((*p1).DajDatumProdaje()).DajMjesec();
        if( ((*p1).DajDatumProdaje()).DajDan() != ((*p2).DajDatumProdaje()).DajDan() ) return ((*p2).DajDatumProdaje()).DajDan() &lt; ((*p1).DajDatumProdaje()).DajDan();
        return ((*p2).DajDatumProdaje()).DajDan() &lt; ((*p1).DajDatumProdaje()).DajDan();
    }) );
    return **p;
}

Prodaja Prodaje::DajNajranijuProdaju() const{
    Prodaja** p( std::min_element(prodaje_se, prodaje_se+broj_prodaja, [](Prodaja* p1, Prodaja*p2){
        if(((*p1).DajDatumProdaje()).DajGodinu() != ((*p2).DajDatumProdaje()).DajGodinu() ) return ((*p1).DajDatumProdaje()).DajGodinu() &lt; ((*p2).DajDatumProdaje()).DajGodinu();
        if( ((*p1).DajDatumProdaje()).DajMjesec() != ((*p2).DajDatumProdaje()).DajMjesec() ) return ((*p2).DajDatumProdaje()).DajMjesec() &lt; ((*p1).DajDatumProdaje()).DajMjesec();
        if( ((*p1).DajDatumProdaje()).DajDan() != ((*p2).DajDatumProdaje()).DajDan() ) return ((*p2).DajDatumProdaje()).DajDan() &lt; ((*p1).DajDatumProdaje()).DajDan();
        return ((*p2).DajDatumProdaje()).DajDan() &lt; ((*p1).DajDatumProdaje()).DajDan();
    }) );
    return **p;
}

Prodaja &amp;Prodaje::DajNajskupljuProdaju(){
    if(broj_prodaja == 0) throw std::domain_error("Nema registriranih prodaja");
    return **std::max_element(prodaje_se, prodaje_se+broj_prodaja, [](Prodaja* p1, Prodaja*p2){ return (*p1).DajCijenuStana() &gt; (*p2).DajCijenuStana(); } );
}
Prodaja Prodaje::DajNajskupljuProdaju() const {
    if(broj_prodaja == 0) throw std::domain_error("Nema registriranih prodaja");
    return **std::max_element(prodaje_se, prodaje_se+broj_prodaja, [](Prodaja* p1, Prodaja*p2){ return (*p1).DajCijenuStana() &gt; (*p2).DajCijenuStana(); });
}

void Prodaje::ObrisiNajranijuProdaju(){
    if(broj_prodaja == 0) throw std::range_error("Prazna kolekcija");
    int temp(0);
    for(int i=1; i&lt;broj_prodaja; i++){
        if( (prodaje_se[temp]-&gt;DajDatumProdaje()).DajGodinu() &lt; (prodaje_se[i]-&gt;DajDatumProdaje()).DajGodinu() ) temp = i;
        else if( (prodaje_se[temp]-&gt;DajDatumProdaje()).DajGodinu() == (prodaje_se[i]-&gt;DajDatumProdaje()).DajGodinu() ){
            if( (prodaje_se[temp]-&gt;DajDatumProdaje()).DajMjesec() &lt; (prodaje_se[i]-&gt;DajDatumProdaje()).DajMjesec() ) temp = i;
            else if( (prodaje_se[temp]-&gt;DajDatumProdaje()).DajMjesec() == (prodaje_se[i]-&gt;DajDatumProdaje()).DajMjesec() ){
                 if( (prodaje_se[temp]-&gt;DajDatumProdaje()).DajDan() &lt; (prodaje_se[i]-&gt;DajDatumProdaje()).DajDan() ) temp = i;
            }
        }
    }
    Prodaja *p(prodaje_se[temp]);
    int k(1);
    for(int i=0; i&lt;broj_prodaja-1; i++){
        if(i&gt;=temp){ 
            prodaje_se[i] = prodaje_se[temp+k];
            k++;
        }
    }
    broj_prodaja--;
    delete p;
}

void Prodaje::ObrisiProdajeAgenta(const std::string &amp;ime_agenta){
    if(DajBrojProdajaOdAgenta(ime_agenta) != 0){
        for(int i=0; i&lt;broj_prodaja; i++){
            if(ime_agenta == prodaje_se[i]-&gt;DajImeAgenta()){
                Prodaja* p(prodaje_se[i]);
                int k(i);
                for(int j=i+1; j&lt;broj_prodaja-1; j++){
                    prodaje_se[k] = prodaje_se[j];
                    k++;
                }
                delete p;
                broj_prodaja--;
            }
        }
    } 
}

<a name="18"></a><font color="#00FFFF"><a href="match488-0.html#18" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_0.gif"/></a>

void Prodaje::ObrisiProdajeNaDatum(const Datum &amp;datum){
    for(int i=0; i&lt;broj_prodaja; i++){
        if( (prodaje_se[i]-&gt;DajDatumProdaje()).DajGodinu() == datum.DajGodinu() ){
</font>           if( (prodaje_se[i]-&gt;DajDatumProdaje()).DajMjesec() == datum.DajMjesec() ){
                if( (prodaje_se[i]-&gt;DajDatumProdaje()).DajDan() == (prodaje_se[i]-&gt;DajDatumProdaje()).DajDan() ){
                    Prodaja* p(prodaje_se[i]);
                    int k(i);
                    for(int j=i+1; j&lt;broj_prodaja-1; j++){
                        prodaje_se[k] = prodaje_se[j];
                        k++;
                    }
                    delete p;
                    broj_prodaja--;
                }
            }
        }
    }
}

void Prodaje::IspisiProdajeNaDatum(const Datum &amp;datum) const{
    std::sort(prodaje_se, prodaje_se+broj_prodaja, [](Prodaja *p1, Prodaja *p2){ return (*p1).DajImeKupca() &lt; (*p2).DajImeKupca(); });
    for(int i=0; i&lt;broj_prodaja; i++){
        if( (prodaje_se[i]-&gt;DajDatumProdaje()).DajGodinu() == datum.DajGodinu() ){
           if( (prodaje_se[i]-&gt;DajDatumProdaje()).DajMjesec() == datum.DajMjesec() ){
                if( (prodaje_se[i]-&gt;DajDatumProdaje()).DajDan() == (prodaje_se[i]-&gt;DajDatumProdaje()).DajDan() ){
                    prodaje_se[i]-&gt;Ispisi();
                }
            }
        }
    }
}

void Prodaje::IspisiSveProdaje() const{
    std::sort(prodaje_se, prodaje_se+broj_prodaja, [](Prodaja* p1, Prodaja* p2){
        if(((*p1).DajDatumProdaje()).DajGodinu() != ((*p2).DajDatumProdaje()).DajGodinu() ) return ((*p1).DajDatumProdaje()).DajGodinu() &lt; ((*p2).DajDatumProdaje()).DajGodinu();
        if( ((*p1).DajDatumProdaje()).DajMjesec() != ((*p2).DajDatumProdaje()).DajMjesec() ) return ((*p2).DajDatumProdaje()).DajMjesec() &lt; ((*p1).DajDatumProdaje()).DajMjesec();
        if( ((*p1).DajDatumProdaje()).DajDan() != ((*p2).DajDatumProdaje()).DajDan() ) return ((*p2).DajDatumProdaje()).DajDan() &lt; ((*p1).DajDatumProdaje()).DajDan();
        return ( (*p2).DajImeKupca() &lt; (*p1).DajImeKupca() );
    });
    for(int i=0; i&lt;broj_prodaja; i++){
        prodaje_se[i]-&gt;Ispisi();
    }
}

int main ()
{
    std::cout &lt;&lt; "Dobrodosli!" &lt;&lt; std::endl;
    std::cout &lt;&lt; std::endl;
    std::cout &lt;&lt; std::endl;
    std::vector&lt;Stan&gt; stan;
    std::vector&lt;Kupac&gt; kupac;
    std::vector&lt;Prodaja&gt; prodaja;
    while(true){
        std::cout &lt;&lt; "Izaberite opciju:" &lt;&lt; std::endl;
        std::cout &lt;&lt; " 0 - kraj" &lt;&lt; std::endl;
        std::cout &lt;&lt; " 1 - uredjivanje stanova" &lt;&lt; std::endl;
<a name="10"></a><font color="#FF0000"><a href="match488-0.html#10" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_0.gif"/></a>

        std::cout &lt;&lt; " 2 - uredjivanje kupaca" &lt;&lt; std::endl;
        std::cout &lt;&lt; " 3 - uredjivanje prodaja" &lt;&lt; std::endl;
        int pomocna;
        std::cin &gt;&gt; pomocna;
            
        if(pomocna == 0){
</font>            break;
        }else if(pomocna == 1){
            while(true){
                std::cout &lt;&lt; "Izaberite opciju:" &lt;&lt; std::endl;
                std::cout &lt;&lt; " 0 - nazad" &lt;&lt; std::endl;
                std::cout &lt;&lt; " 1 - dodavanje stana" &lt;&lt; std::endl;
                std::cout &lt;&lt; " 2 - uredjivanje stanova" &lt;&lt; std::endl;
<a name="19"></a><font color="#FF00FF"><a href="match488-0.html#19" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_0.gif"/></a>

                std::cout &lt;&lt; " 3 - ispis svih stanova" &lt;&lt; std::endl;
                std::cout &lt;&lt; " 4 - kraj" &lt;&lt; std::endl;
                std::cin &gt;&gt; pomocna;
                if(pomocna == 0){
                    break;
</font>                }else if(pomocna == 1){
                    while(true){
                        std:: cout &lt;&lt; "Unesite adresu: ";
<a name="0"></a><font color="#FF0000"><a href="match488-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_0.gif"/></a>

                        std::string adresa;
                        std::cin.ignore(1000,'\n');
                        std::getline(std::cin, adresa);
                        std::cout &lt;&lt; "Unesite sprat: ";
                        int sprat;
                        std::cin &gt;&gt; sprat;
                        std::cout &lt;&lt; "Unesite broj soba: ";
                        int broj_soba;
                        std::cin &gt;&gt; broj_soba;
                        std::cout &lt;&lt; "Da li je stan namjesten (1 - da, 0 - ne): ";
                        int namjesten_stan;
                        std::cin &gt;&gt; namjesten_stan;
</font>                        bool namjesten(false);
                        if(namjesten_stan) namjesten=true;
                        std::cout &lt;&lt; "Unesite kvadraturu: ";
                        double kvadratura;
                        std::cin &gt;&gt; kvadratura;
                        if( (namjesten_stan != 0 &amp;&amp; namjesten_stan != 1) || sprat&lt;0 || broj_soba&lt;0 || kvadratura&lt;0 ){
                            std::cout &lt;&lt; "Izuzetak: Neispravan unos podataka. Molimo unesite opet." &lt;&lt; std::endl;
                            continue;
                        }
                        Stan temp(adresa, sprat, broj_soba, namjesten, kvadratura);
                        stan.push_back(temp);
                        break;
                    }
                    std::cout &lt;&lt; "Stan je uspjesno dodan!" &lt;&lt; std::endl &lt;&lt; std::endl;
<a name="13"></a><font color="#00FFFF"><a href="match488-0.html#13" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_0.gif"/></a>

                }else if(pomocna == 2){
    
                    std::cout &lt;&lt; "Odaberite stan. Dostupni stanovi su:" &lt;&lt; std::endl;
                    for(int i=0; i&lt;stan.size(); i++){
</font>                        std::cout &lt;&lt; " " &lt;&lt; i+1 &lt;&lt; " - ";
                        stan[i].Ispisi();
                        std::cout &lt;&lt; std::endl;
                    }
                    int k;
                    std::cin &gt;&gt; k;
                    if(k &lt;= stan.size()){
                        std::cout &lt;&lt; std::endl &lt;&lt; "Odaberite polje koji zelite urediti:" &lt;&lt; std::endl;
                        std::cout &lt;&lt; " 0 - nazad" &lt;&lt; std::endl &lt;&lt; " 1 - adresa" &lt;&lt; std::endl &lt;&lt; " 2 - sprat" &lt;&lt; std::endl &lt;&lt; " 3 - broj soba" &lt;&lt; std::endl &lt;&lt; " 4 - da li je stan namjesten" &lt;&lt; std::endl &lt;&lt; " 5 - kvadratura" &lt;&lt; std::endl &lt;&lt; " 6 - sve" &lt;&lt; std::endl;
                        std::cin &gt;&gt; pomocna;
                            
                        if(pomocna == 0){
                            continue;
                        }else if(pomocna == 1){
                            while(true){
                                std:: cout &lt;&lt; "Unesite adresu: ";
                                std::string adresa_stana;
                                std::cin.ignore(1000,'\n');
                                std::getline(std::cin, adresa_stana);
<a name="7"></a><font color="#0000FF"><a href="match488-0.html#7" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_0.gif"/></a>

                                stan[k-1].Postavi(adresa_stana,stan[k-1].DajSprat(), stan[k-1].DajBrojSoba(), stan[k-1].DajNamjesten(), stan[k-1].DajKvadraturu());
</font>                                break;
                            }
                            std::cout &lt;&lt; "Stan je uspjesno izmijenjen!" &lt;&lt; std::endl &lt;&lt; std::endl;
                        }else if(pomocna == 2){
                            while(true){
                                std::cout &lt;&lt; "Unesite sprat: ";
                                int sprat;
                                std::cin &gt;&gt; sprat;
                                if(sprat&lt;0){
                                    std::cout &lt;&lt; "Izuzetak: Neispravan unos podataka. Molimo unesite opet." &lt;&lt; std::endl;
                                    continue;
                                }
<a name="3"></a><font color="#00FFFF"><a href="match488-0.html#3" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_0.gif"/></a>

                                stan[k-1].Postavi(stan[k-1].DajAdresu(),sprat, stan[k-1].DajBrojSoba(), stan[k-1].DajNamjesten(), stan[k-1].DajKvadraturu());
</font>                                break;
                            }
                            std::cout &lt;&lt; "Stan je uspjesno izmijenjen!" &lt;&lt; std::endl &lt;&lt; std::endl;
                        }else if( pomocna == 3 ){
                            while(true){
                                std::cout &lt;&lt; "Unesite broj soba: ";
                                int broj_soba;
                                std::cin &gt;&gt; broj_soba;
                                if( broj_soba&lt;0 ){
                                    std::cout &lt;&lt; "Izuzetak: Neispravan unos podataka. Molimo unesite opet." &lt;&lt; std::endl;
                                    continue;
                                }
<a name="6"></a><font color="#00FF00"><a href="match488-0.html#6" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_0.gif"/></a>

                                stan[k-1].Postavi(stan[k-1].DajAdresu(),stan[k-1].DajSprat(), broj_soba, stan[k-1].DajNamjesten(), stan[k-1].DajKvadraturu());
</font>                                break;
                            }
                            std::cout &lt;&lt; "Stan je uspjesno izmijenjen!" &lt;&lt; std::endl &lt;&lt; std::endl;
                        }else if( pomocna == 4 ){
                            while(true){
                                std::cout &lt;&lt; "Da li je stan namjesten (1 - da, 0 - ne): ";
                                int namjesten_stan;
                                std::cin &gt;&gt; namjesten_stan;
                                bool namjesten(false);
                                if(namjesten_stan) namjesten=true;
                                if( namjesten_stan != 0 &amp;&amp; namjesten_stan != 1 ){
                                    std::cout &lt;&lt; "Izuzetak: Neispravan unos podataka. Molimo unesite opet." &lt;&lt; std::endl;
                                    continue;
                                }
<a name="11"></a><font color="#00FF00"><a href="match488-0.html#11" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_0.gif"/></a>

                                stan[k-1].Postavi(stan[k-1].DajAdresu(),stan[k-1].DajSprat(), stan[k-1].DajBrojSoba(), namjesten, stan[k-1].DajKvadraturu());
</font>                                break;
                            }
                            std::cout &lt;&lt; "Stan je uspjesno izmijenjen!" &lt;&lt; std::endl &lt;&lt; std::endl;
                        }else if( pomocna == 5 ){
                            while(true){
                                std::cout &lt;&lt; "Unesite kvadraturu: ";
                                double kvadratura;
                                std::cin &gt;&gt; kvadratura;
                                if( kvadratura&lt;0 ){
                                    std::cout &lt;&lt; "Izuzetak: Neispravan unos podataka. Molimo unesite opet." &lt;&lt; std::endl;
                                    continue;
                                }
                                stan[k-1].Postavi(stan[k-1].DajAdresu(),stan[k-1].DajSprat(), stan[k-1].DajBrojSoba(), stan[k-1].DajNamjesten(), kvadratura);
                                break;
                            }
                            std::cout &lt;&lt; "Stan je uspjesno izmijenjen!" &lt;&lt; std::endl &lt;&lt; std::endl;
                        }else if( pomocna == 6 ){
                             while(true){
                                std:: cout &lt;&lt; "Unesite adresu: ";
<a name="8"></a><font color="#00FFFF"><a href="match488-0.html#8" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_0.gif"/></a>

                                std::string adresa;
                                std::cin.ignore(1000,'\n');
                                std::getline(std::cin, adresa);
                                std::cout &lt;&lt; "Unesite sprat: ";
                                int sprat;
                                std::cin &gt;&gt; sprat;
                                std::cout &lt;&lt; "Unesite broj soba: ";
</font>                                int broj_soba;
                                std::cin &gt;&gt; broj_soba;
                                std::cout &lt;&lt; "Da li je stan namjesten (1 - da, 0 - ne): ";
                                int namjesten_stan;
                                std::cin &gt;&gt; namjesten_stan;
                                bool namjesten(false);
                                if(namjesten_stan) namjesten=true;
                                std::cout &lt;&lt; "Unesite kvadraturu: ";
                                double kvadratura;
                                std::cin &gt;&gt; kvadratura;
                                if( (namjesten_stan != 0 &amp;&amp; namjesten_stan != 1) || sprat&lt;0 || broj_soba&lt;0 || kvadratura&lt;0 ){
                                    std::cout &lt;&lt; "Izuzetak: Neispravan unos podataka. Molimo unesite opet." &lt;&lt; std::endl;
                                    continue;
                                }
                                stan[k-1].Postavi(adresa, sprat, broj_soba, namjesten, kvadratura);
                                break;
                            }
                            std::cout &lt;&lt; "Stan je uspjesno izmijenjen!" &lt;&lt; std::endl &lt;&lt; std::endl;
                        }
                    }
<a name="4"></a><font color="#FF00FF"><a href="match488-0.html#4" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_0.gif"/></a>

                }else if(pomocna == 3){
                    for(int i=0; i&lt;stan.size(); i++){
                        std::cout &lt;&lt; i+1 &lt;&lt; ". ";
                        stan[i].Ispisi();
                        std::cout &lt;&lt; std::endl;
</font>                    }
                    std::cout &lt;&lt; std::endl;
                }else if(pomocna==4){
                    return 0;
                }
            }
        }else if(pomocna == 2){
            while(true){
                std::cout &lt;&lt; "Izaberite opciju:" &lt;&lt; std::endl;
                std::cout &lt;&lt; " 0 - nazad" &lt;&lt; std::endl;
                std::cout &lt;&lt; " 1 - dodavanje kupca" &lt;&lt; std::endl;
                std::cout &lt;&lt; " 2 - uredjivanje kupaca" &lt;&lt; std::endl;
                std::cout &lt;&lt; " 3 - ispis svih kupaca" &lt;&lt; std::endl;
                std::cout &lt;&lt; " 4 - kraj" &lt;&lt; std::endl;
                std::cin &gt;&gt; pomocna;
                if(pomocna == 0){
                    break;
                }else if(pomocna == 1){
                    while(true){
                        std::string ime_kupca;
                        std::cin.ignore(1000, '\n');
                        std::cout &lt;&lt; "Unesite ime i prezime kupca: ";
                        std::getline(std::cin, ime_kupca);
                        std::string datum;
                        std::cout &lt;&lt; "Unesite datum rodjenja (formata d/m/g): ";
                        std::getline(std::cin, datum);
                        int d(0), m(0), g(0), k(0);
                        for(int i=0; i&lt;datum.size(); i++){
                            if(datum[i] == '/'){
                                k++;
                                continue;
                            }
                            if(k == 0){
                                d = d*10 + (datum[i] - '0');
                            }
                            if(k == 1){
                                m = m*10 + (datum[i] - '0');
                            }
                            if(k == 2){
                                g = g*10 + (datum[i] - '0');
                            }
                        }
                        int j;
                        for(j=0; j&lt;ime_kupca.length(); j++){
                            if(!((ime_kupca[j]&gt;='A' &amp;&amp; ime_kupca[j]&lt;='Z')||(ime_kupca[j]&gt;='a' &amp;&amp; ime_kupca[j]&lt;='z')||(ime_kupca[j]&gt;='0' &amp;&amp; ime_kupca[j]&lt;='9')||ime_kupca[j]==' '||ime_kupca[j]=='-'||ime_kupca[j]== 39)){
                                break;
                            }
                        }
                        if( j!= ime_kupca.length() ){
                            std::cout &lt;&lt; "Izuzetak: Neispravno ime i prezime. Molimo unesite opet." &lt;&lt; std::endl;
                            continue;
                        }  
                        std::vector&lt;int&gt; broj_dana{31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31};
                        if(g%4==0 &amp;&amp; (g%100!=0 || g%400==0)) broj_dana[1]++;
                        if(g&lt;1 || d&lt;1 || m&lt;1 || m&gt;12 || d&gt;broj_dana[m-1]){
                            std::cout &lt;&lt; "Izuzetak: Neispravan datum. Molimo unesite opet." &lt;&lt; std::endl;
                            continue; 
                        }
                        Datum temp1(d, m, g);
                        Kupac temp(ime_kupca, temp1);
                        kupac.push_back(temp);
                        break;
                    }
                    std::cout &lt;&lt; "Kupac je uspjesno dodan!" &lt;&lt; std::endl &lt;&lt; std::endl;
<a name="14"></a><font color="#FF00FF"><a href="match488-0.html#14" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_0.gif"/></a>

                }else if(pomocna == 2){
                    std::cout &lt;&lt; "Odaberite kupca kojeg zelite urediti. Dostupni kupci su:" &lt;&lt; std::endl;
                    for(int i=0; i&lt;kupac.size(); i++){
</font>                        std::cout &lt;&lt; " " &lt;&lt; i+1 &lt;&lt; " - " &lt;&lt; kupac[i].DajImePrezime() &lt;&lt; " ";
                        (kupac[i].DajDatumRodjenja()).Ispisi();
                        std::cout &lt;&lt; std::endl;
                    }
                    std::cin &gt;&gt; pomocna;
                    
                    while(true){
                        std::string ime_kupca;
                        std::cin.ignore(1000, '\n');
                        std::cout &lt;&lt; "Unesite ime i prezime kupca: ";
                        std::getline(std::cin, ime_kupca);
                        int j;
                        for(j=0; j&lt;ime_kupca.length(); j++){
                            if(!((ime_kupca[j]&gt;='A' &amp;&amp; ime_kupca[j]&lt;='Z')||(ime_kupca[j]&gt;='a' &amp;&amp; ime_kupca[j]&lt;='z')||(ime_kupca[j]&gt;='0' &amp;&amp; ime_kupca[j]&lt;='9')||ime_kupca[j]==' '||ime_kupca[j]=='-'||ime_kupca[j]== 39)){
                                break;
                            }
                        }
                        if( j!= ime_kupca.length() ){
                            std::cout &lt;&lt; "Izuzetak: Neispravno ime i prezime. Molimo unesite opet." &lt;&lt; std::endl;
                            continue;
                        }   
                        std::string datum;
                        std::cout &lt;&lt; "Unesite datum rodjenja (formata d/m/g): ";
                        std::getline(std::cin, datum);
                        int d(0), m(0), g(0), k(0);
                        for(int i=0; i&lt;datum.size(); i++){
                            if(datum[i] == '/'){
                                k++;
                                continue;
                            }
                            if(k == 0){
                                d = d*10 + (datum[i] - '0');
                            }
                            if(k == 1){
                                m = m*10 + (datum[i] - '0');
                            }
                            if(k == 2){
                                g = g*10 + (datum[i] - '0');
                            }
                        }
                        std::vector&lt;int&gt; broj_dana{31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31};
                        if(g%4==0 &amp;&amp; (g%100!=0 || g%400==0)) broj_dana[1]++;
                        if(g&lt;1 || d&lt;1 || m&lt;1 || m&gt;12 || d&gt;broj_dana[m-1]){
                            std::cout &lt;&lt; "Izuzetak: Neispravan datum. Molimo unesite opet." &lt;&lt; std::endl;
                            continue; 
                        }
                        Datum temp1(d, m, g);
                        kupac[pomocna-1].Postavi(ime_kupca, temp1);
                        break;
                    }
                    std::cout &lt;&lt; "Kupac je uspjesno izmijenjen!" &lt;&lt; std::endl &lt;&lt; std::endl;
                }else if(pomocna == 3){
                    for(int i=0; i&lt;kupac.size(); i++){
                        std::cout &lt;&lt; kupac[i].DajImePrezime() &lt;&lt; " ";
                        (kupac[i].DajDatumRodjenja()).Ispisi();
                        std::cout &lt;&lt; std::endl;
                    }
                    std::cout &lt;&lt; std::endl;
                }else if(pomocna == 4){
                    return 0;
                }
            }
//Prodaja
        }else if( pomocna == 3){
            while(true){
                std::cout &lt;&lt; "Izaberite opciju:" &lt;&lt; std::endl;
                std::cout &lt;&lt; " 0 - nazad" &lt;&lt; std::endl;
                std::cout &lt;&lt; " 1 - dodavanje prodaje" &lt;&lt; std::endl;
                std::cout &lt;&lt; " 2 - uredjivanje prodaje" &lt;&lt; std::endl;
                std::cout &lt;&lt; " 3 - ispis prodaja" &lt;&lt; std::endl;
                std::cout &lt;&lt; " 4 - brisanje prodaja" &lt;&lt; std::endl;
                std::cout &lt;&lt; " 5 - kraj" &lt;&lt; std::endl;
                std::cin &gt;&gt; pomocna;
                if(pomocna == 0){
                    break;
                }else if(pomocna == 1){
                    while(true){
                        std::cout &lt;&lt; "Izaberite opciju:" &lt;&lt; std::endl;
                        std::cout &lt;&lt; " 0 - nazad" &lt;&lt; std::endl;
                        std::cout &lt;&lt; " 1 - dodavanje potpuno nove prodaje" &lt;&lt; std::endl;
                        std::cout &lt;&lt; " 2 - dodavanje nove prodaje na osnovu arhive" &lt;&lt; std::endl;
                        std::cout &lt;&lt; " 3 - kraj" &lt;&lt; std::endl;
                        std::cin &gt;&gt; pomocna;
                        if(pomocna == 0) break;
                        else if(pomocna == 1){
                            std::cout &lt;&lt; "Unesite ime i prezime agenta prodaje: ";
                            std::string agent;
                            std::getline(std::cin, agent);
                            std::cout &lt;&lt; "Unesite datum prodaje (formata d/m/g): ";
                            std::string datum;
                            std::getline(std::cin, datum);
                            int d(0), m(0), g(0), k(0);
                            for(int i=0; i&lt;datum.size(); i++){
                                if(datum[i] == '/'){
                                    k++;
                                    continue;
                                }
                                if(k == 0){
                                    d = d*10 + (datum[i] - '0');
                                }
                                if(k == 1){
                                    m = m*10 + (datum[i] - '0');
                                }
                                if(k == 2){
                                    g = g*10 + (datum[i] - '0');
                                }
                            }
                            int cijena_stana;
                            std::cout &lt;&lt; "Unesite cijenu stana: ";
                            std::cin &gt;&gt; cijena_stana;
                            std::cout &lt;&lt; "Unesite ime kupca: ";
                            std::string ime_kupca;
                            std::getline(std::cin, ime_kupca);
                            std::cout &lt;&lt; "Unesite datum rodjenja kupca (formata d/m/g): ";
                            std::string d_r_k;
                            std::getline(std::cin, d_r_k);
                            int d1(0), m1(0), g1(0);
                            k=0;
                            for(int i=0; i&lt;d_r_k.size(); i++){
                                if(datum[i] == '/'){
                                    k++;
                                    continue;
                                }
                                if(k == 0){
                                    d = d*10 + (datum[i] - '0');
                                }
                                if(k == 1){
                                    m = m*10 + (datum[i] - '0');
                                }
                                if(k == 2){
                                    g = g*10 + (datum[i] - '0');
                                }
                            }
                            std:: cout &lt;&lt; "Unesite adresu: ";
                            std::string adresa;
                            std::cin.ignore(1000,'\n');
                            std::getline(std::cin, adresa);
                            std::cout &lt;&lt; "Unesite sprat: ";
                            int sprat;
                            std::cin &gt;&gt; sprat;
                            std::cout &lt;&lt; "Unesite broj soba: ";
                            int broj_soba;
                            std::cin &gt;&gt; broj_soba;
                            std::cout &lt;&lt; "Da li je stan namjesten (1 - da, 0 - ne): ";
                            int namjesten_stan(0);
                            std::cin &gt;&gt; namjesten_stan;
                            bool namjesten(false);
                            if(namjesten_stan) namjesten=true;
                            std::cout &lt;&lt; "Unesite kvadraturu: ";
                            double kvadratura;
                            std::cin &gt;&gt; kvadratura;
                            if( (namjesten_stan != 0 &amp;&amp; namjesten_stan != 1) || sprat&lt;0 || broj_soba&lt;0 || kvadratura&lt;0 ){
                                std::cout &lt;&lt; "Izuzetak: Neispravan unos podataka. Molimo unesite opet." &lt;&lt; std::endl;
                                continue;
                            }
                            std::vector&lt;int&gt; broj_dana{31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31};
                            if(g%4==0 &amp;&amp; (g%100!=0 || g%400==0)) broj_dana[1]++;
                            if(g&lt;1 || d&lt;1 || m&lt;1 || m&gt;12 || d&gt;broj_dana[m-1]){
                                std::cout &lt;&lt; "Izuzetak: Neispravan datum. Molimo unesite opet." &lt;&lt; std::endl;
                                continue; 
                            }
                            std::vector&lt;int&gt; broj_dana1{31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31};
                            if(g1%4==0 &amp;&amp; (g1%100!=0 || g1%400==0)) broj_dana1[1]++;
                            if(g1&lt;1 || d1&lt;1 || m1&lt;1 || m1&gt;12 || d&gt;broj_dana1[m1-1]){
                                std::cout &lt;&lt; "Izuzetak: Neispravan datum. Molimo unesite opet." &lt;&lt; std::endl;
                                continue; 
                            }
                            Datum datum_rodjenja_kupca(d1, m1, g1);
                            Prodaja p(agent, cijena_stana, d, m, g , ime_kupca, datum_rodjenja_kupca, adresa, sprat, broj_soba, namjesten, kvadratura);
                            prodaja.push_back(p);
                            std::cout &lt;&lt; "" &lt;&lt; std::endl &lt;&lt; std::endl;
                        }else if( pomocna == 2 ){
                            std::cout &lt;&lt; "Unesite ime i prezime agenta prodaje: ";
                            std::string agent;
                            std::getline(std::cin, agent);
                            std::cout &lt;&lt; "Unesite datum prodaje (formata d/m/g): ";
                            std::string datum;
                            std::getline(std::cin, datum);
                            int d(0), m(0), g(0), k(0);
                            for(int i=0; i&lt;datum.size(); i++){
                                if(datum[i] == '/'){
                                    k++;
                                    continue;
                                }
                                if(k == 0){
                                    d = d*10 + (datum[i] - '0');
                                }
                                if(k == 1){
                                    m = m*10 + (datum[i] - '0');
                                }
                                if(k == 2){
                                    g = g*10 + (datum[i] - '0');
                                }
                            }
                            int cijena_stana;
                            std::cout &lt;&lt; "Unesite cijenu stana: ";
                            std::cin &gt;&gt; cijena_stana;
                            std::cout &lt;&lt; "Odaberite kupca. Dostupni kupci su:";
                            int temp, temp1;
                            for(int i=0; i&lt;kupac.size(); i++){
                                std::cout &lt;&lt; " "  &lt;&lt; i+1 &lt;&lt; " - " &lt;&lt; kupac[i].DajImePrezime() &lt;&lt; " ";
                                (kupac[i].DajDatumRodjenja()).Ispisi();
                                std::cout &lt;&lt; std::endl;
                            }
                            std::cin &gt;&gt; temp;
                            std::cout &lt;&lt; "Odaberite stan. Dostupni stanovi su:" &lt;&lt; std::endl;
                            for(int i=0; i&lt;stan.size(); i++){
                                std::cout &lt;&lt; i+1 &lt;&lt; ". ";
                                stan[i].Ispisi();
                                std::cout &lt;&lt; std::endl;
                            }
                            std::cin &gt;&gt;  temp1;
                            Datum datum_prodaje(d,m, g);
                            Prodaja prod(agent, cijena_stana, datum_prodaje, kupac[temp-1], stan[temp-1]);
                            prodaja.push_back(prod);
                        }else if( pomocna == 3 ){
                            return 0;
                        }
                    }
                }else if( pomocna == 2 ){
                    while(true){
                        std::cout &lt;&lt; "Odaberite prodaju koju Å¾elite urediti. Dostupne prodaje su:" &lt;&lt; std::endl;
                        int k;
                        for(int i=0; i&lt;prodaja.size(); i++){
                            std::cout &lt;&lt; i+1 &lt;&lt; "." &lt;&lt; std::endl;
                            prodaja[i].Ispisi();
<a name="9"></a><font color="#FF00FF"><a href="match488-0.html#9" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_0.gif"/></a>

                            std::cout &lt;&lt; std::endl;
                        }
                        std::cin &gt;&gt; k;
                        std::cout &lt;&lt; "Izaberite opciju:" &lt;&lt; std::endl;
                        std::cout &lt;&lt; " 0 - nazad" &lt;&lt; std::endl;
                        std::cout &lt;&lt; " 1 - izmjena agenta" &lt;&lt; std::endl;
</font>                        std::cout &lt;&lt; " 2 - izmjena datuma prodaje" &lt;&lt; std::endl;
                        std::cout &lt;&lt; " 3 - izmjena kupca" &lt;&lt; std::endl;
                        std::cout &lt;&lt; " 4 - izmjena stana" &lt;&lt; std::endl;
                        std::cout &lt;&lt; " 5 - izmjena cijene stana" &lt;&lt; std::endl;
                        std::cin &gt;&gt; pomocna;
                        if(pomocna == 0) break;
                        else if(pomocna == 1){
                            std::cout &lt;&lt; "Unesite ime i prezime agenta prodaje: ";
                            std::string agent;
                            std::getline(std::cin, agent);
                            prodaja[k-1].PromijeniAgentaProdaje(agent);
                        }else if(pomocna == 2){
                            std::cout &lt;&lt; "Unesite datum prodaje (formata d/m/g): ";
                            std::string datum;
                            std::getline(std::cin, datum);
                            int d(0), m(0), g(0), k(0);
                            for(int i=0; i&lt;datum.size(); i++){
                                if(datum[i] == '/'){
                                    k++;
                                    continue;
                                }
                                if(k == 0){
                                    d = d*10 + (datum[i] - '0');
                                }
                                if(k == 1){
                                    m = m*10 + (datum[i] - '0');
                                }
                                if(k == 2){
                                    g = g*10 + (datum[i] - '0');
                                }
                            }
                            Datum dat(d,m,g);
                            prodaja[k-1].PromijeniDatumKupovine(dat);
                        }
                    }
                }
            }
        }
    }

	return 0;
}</pre>
</body>
</html>
