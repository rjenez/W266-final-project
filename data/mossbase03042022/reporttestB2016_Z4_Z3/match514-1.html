<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z3/student3631.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z3/student4192.cpp<p></p><pre>
<a name="10"></a><font color="#FF0000"><a href="match514-0.html#10" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_0.gif"/></a>

/B 2016/2017, ZadaÄ‡a 4, Zadatak 3
//Napomena: testovi ce biti dostupni dan pred rok!
#include &lt;iostream&gt;
#include &lt;string&gt;
#include &lt;algorithm&gt;
#include &lt;stdexcept&gt;
#include &lt;initializer_list&gt;
#include &lt;iomanip&gt;

using namespace std;


class Datum{
    int dan,mjesec,godina;
    public:
</font>    Datum(int dan,int mjesec,int godina);
<a name="5"></a><font color="#FF0000"><a href="match514-0.html#5" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_1.gif"/></a>

    void Postavi(int dan,int mjesec,int godina);
    int DajDan() const {return dan;}
    int DajMjesec() const {return mjesec;}
    int DajGodinu() const {return godina;}
    void Ispisi() const { cout&lt;&lt;dan&lt;&lt;"/"&lt;&lt;mjesec&lt;&lt;"/"&lt;&lt;godina; }
};
Datum::Datum(int dan,int mjesec,int godina)
</font>{
   int broj_dana[12]{31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31};
    if(godina%4==0 &amp;&amp; godina%100!=0 || godina%400==0) broj_dana[1]++;
    if(godina&lt;1||dan&lt;1||mjesec&lt;1||mjesec&gt;12||dan&gt;broj_dana[mjesec-1])
    throw std::domain_error("Neispravan datum!");
    Datum::dan=dan; Datum::mjesec=mjesec; Datum::godina=godina;
}
    

void Datum::Postavi(int dan,int mjesec,int godina)
{
      int broj_dana[12]{31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31};
    if(godina%4==0 &amp;&amp; godina%100!=0 || godina%400==0) broj_dana[1]++;
    if(godina&lt;1||dan&lt;1||mjesec&lt;1||mjesec&gt;12||dan&gt;broj_dana[mjesec-1])
    throw std::domain_error("Neispravan datum!");
    Datum::dan=dan; Datum::mjesec=mjesec; Datum::godina=godina;
}
class Kupac{
    string ime_i_prezime;
    Datum datum_rodjenja;
    public:
<a name="12"></a><font color="#0000FF"><a href="match514-0.html#12" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_0.gif"/></a>

    Kupac(const string &amp;ime_i_prezime,const Datum &amp;datum_rodjenja);
    void Postavi(const string &amp;ime_i_prezime,const Datum &amp;datum_rodjenja);
    string DajImeIPrezime() const {return ime_i_prezime;}
    Datum DajDatumRodjenja() const {return datum_rodjenja;}
    void Ispisi() const;
};
Kupac::Kupac(const string &amp;ime_i_prezime,const Datum &amp;datum_rodjenja):datum_rodjenja(datum_rodjenja)
</font>{
    for(int i=0;i&lt;ime_i_prezime.length();i++){
        if(!(ime_i_prezime[i]&gt;='A' &amp;&amp; ime_i_prezime[i]&lt;='Z'|| ime_i_prezime[i]&gt;='a' &amp;&amp; ime_i_prezime[i]&lt;='z')&amp;&amp;ime_i_prezime[i]!=' ')
        throw domain_error("Neispravno ime i prezime");
    }
<a name="6"></a><font color="#00FF00"><a href="match514-0.html#6" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_1.gif"/></a>

    Kupac::ime_i_prezime=ime_i_prezime;
    
    
}
void Kupac::Postavi(const string &amp;ime_i_prezime,const Datum &amp;datum_rodjenja)
{
    for(int i=0;i&lt;ime_i_prezime.length();i++){
        if(!(ime_i_prezime[i]&gt;='A' &amp;&amp; ime_i_prezime[i]&lt;='Z'|| ime_i_prezime[i]&gt;='a' &amp;&amp; ime_i_prezime[i]&lt;='z')&amp;&amp;ime_i_prezime[i]!=' ')
</font>        throw domain_error("Neispravno ime i prezime");
    }
    Kupac::ime_i_prezime=ime_i_prezime;
    Kupac::datum_rodjenja=datum_rodjenja;
    

}
void Kupac::Ispisi() const
{
    cout&lt;&lt;DajImeIPrezime()&lt;&lt;"("; Kupac::DajDatumRodjenja().Ispisi();cout&lt;&lt;")";
}
class Stan{
    
<a name="13"></a><font color="#00FFFF"><a href="match514-0.html#13" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_0.gif"/></a>

    string adresa;
    int sprat,broj_soba;
    bool namjesten;
    double kvadratura;
    
    public:
    Stan(const string &amp;adresa,int sprat,int broj_soba,bool namjesten,double kvadratura);
</font><a name="4"></a><font color="#FF00FF"><a href="match514-0.html#4" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_1.gif"/></a>

    void Postavi(const string &amp;adresa,int sprat,int broj_soba,bool namjesten,double kvadratura);
    string DajAdresu() const {return adresa;}
    int DajSprat() const {return sprat;}
    int DajBrojSoba() const {return broj_soba;}
    bool DajNamjesten() const { return namjesten;}
    double DajKvadraturu() const {return kvadratura;}
</font>    void Ispisi() const;
};
Stan::Stan(const string &amp;adresa,int sprat,int broj_soba,bool namjesten,double kvadratura)
{
    if(sprat&lt;=0 || broj_soba&lt;=0 || kvadratura&lt;=0) throw domain_error("Neispravan unos podataka");
    Stan::adresa=adresa;
    Stan::sprat=sprat;
<a name="8"></a><font color="#00FFFF"><a href="match514-0.html#8" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_1.gif"/></a>

    Stan::broj_soba=broj_soba; Stan::namjesten=namjesten;
    Stan::kvadratura=kvadratura;
}
void Stan::Postavi(const string &amp;adresa,int sprat,int broj_soba,bool namjesten,double kvadratura)
{
    if(sprat&lt;=0 || broj_soba&lt;=0 || kvadratura&lt;=0) throw domain_error("Neispravan unos podataka");
</font>    Stan::adresa=adresa;
    Stan::sprat=sprat;Stan::broj_soba=broj_soba;Stan::namjesten=namjesten;
    Stan::kvadratura=kvadratura;
}
void Stan::Ispisi() const
{
    cout&lt;&lt;"Stan se nalazi na adresi "&lt;&lt;DajAdresu()&lt;&lt;" na "&lt;&lt;DajSprat()&lt;&lt;". spratu i ima ";
    if(DajBrojSoba()==1) cout&lt;&lt;DajBrojSoba()&lt;&lt;" sobu.";
    else if(DajBrojSoba()&gt;1 &amp;&amp; DajBrojSoba()&lt;5) cout&lt;&lt;DajBrojSoba()&lt;&lt;" sobe.";
    else cout&lt;&lt;DajBrojSoba()&lt;&lt;" soba.";
    cout&lt;&lt;endl;
    cout&lt;&lt;"Kvadratura stana je "&lt;&lt;DajKvadraturu()&lt;&lt;" (m^2) i stan ";
    if(DajNamjesten()) cout&lt;&lt;"je namjesten.";
    else cout&lt;&lt;"nije namjesten.";
}
<a name="1"></a><font color="#00FF00"><a href="match514-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_2.gif"/></a>

class Prodaja {
    string ime_agenta_prodaje;
    double cijena_stana;
    Datum datum_prodaje;
    Kupac kupac_stana;
    Stan kupljeni_stan;
    
    public:
    Prodaja(const string &amp;ime_agenta_prodaje,double cijena_stana,const Datum &amp;datum_prodaje,const Kupac &amp;kupac_stana,const Stan &amp;kupljeni_stan);
    Prodaja(const string &amp;ime_agenta_prodaje,double cijena_stana,int dan_prodaje,int mjesec_prodaje,int godina_prodaje,string &amp;ime_kupca,const Datum &amp;datum_rodjenja_kupca,
    const string &amp;adresa_stana,int sprat_stana,int broj_soba,bool namjesten_stan,double broj_kvadrata);
    void PromijeniKupca(const Kupac &amp;novi_kupac);
</font>    void PromijeniStan(const Stan &amp;novi_stan);
    void PromijeniDatumKupovine(const Datum &amp;novi_datum);
    void PromijeniCijenuProdaje(const double &amp;nova_cijena);
    void PomjeriDanUnaprijed();
    void PomjeriDanUnazad();
    string DajImeAgenta() const {return ime_agenta_prodaje;}
    string DajImeKupca() const{string ime=kupac_stana.DajImeIPrezime(); return ime;}
    Datum DajDatumProdaje() const {return datum_prodaje;}
    double DajCijenuStana() const {return cijena_stana;}
    friend bool ProdatPrije(const Prodaja &amp;p1,const Prodaja &amp;p2);
    friend bool SkupljiStan(const Prodaja &amp;p1,const Prodaja &amp;p2);
<a name="11"></a><font color="#00FF00"><a href="match514-0.html#11" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_0.gif"/></a>

    void Ispisi() const;
    
};
Prodaja::Prodaja(const string &amp;ime_agenta_prodaje,double cijena_stana,const Datum &amp;datum_prodaje,const Kupac &amp;kupac_stana,const Stan &amp;kupljeni_stan):cijena_stana(cijena_stana),
</font><a name="2"></a><font color="#0000FF"><a href="match514-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_1.gif"/></a>

datum_prodaje(datum_prodaje),kupac_stana(kupac_stana),kupljeni_stan(kupljeni_stan) {Prodaja::ime_agenta_prodaje=ime_agenta_prodaje;}

Prodaja::Prodaja(const string &amp;ime_agenta_prodaje,double cijena_stana,int dan_prodaje,int mjesec_prodaje,int godina_prodaje,string &amp;ime_kupca,const Datum &amp;datum_rodjenja_kupca,
    const string &amp;adresa_stana,int sprat_stana,int broj_soba,bool namjesten_stan,double broj_kvadrata):cijena_stana(cijena_stana),
</font>    datum_prodaje(dan_prodaje,mjesec_prodaje,godina_prodaje),kupac_stana(ime_kupca,datum_rodjenja_kupca),kupljeni_stan(adresa_stana,sprat_stana,broj_soba,namjesten_stan,broj_kvadrata)
    {Prodaja::ime_agenta_prodaje=ime_agenta_prodaje;}

void Prodaja::PromijeniKupca(const Kupac &amp;novi_kupac)
{
    Prodaja::kupac_stana.Postavi(novi_kupac.DajImeIPrezime(),novi_kupac.DajDatumRodjenja());   
}
void Prodaja::PromijeniDatumKupovine(const Datum &amp;novi_datum)
{
    Prodaja::datum_prodaje.Postavi(novi_datum.DajDan(),novi_datum.DajMjesec(),novi_datum.DajGodinu());
}
<a name="9"></a><font color="#FF00FF"><a href="match514-0.html#9" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_0.gif"/></a>

void Prodaja::PromijeniCijenuProdaje(const double &amp;nova_cijena)
{
    Prodaja::cijena_stana=nova_cijena;
}
void Prodaja::PomjeriDanUnaprijed()
{
    int broj_dana[12]{31,28,31,30,31,30,31,31,30,31,30,31};
</font>    if(Prodaja::datum_prodaje.DajGodinu()%4==0 &amp;&amp; Prodaja::datum_prodaje.DajGodinu()%100!=0 || Prodaja::datum_prodaje.DajGodinu()%400==0)
    broj_dana[1]++;
    int a=Prodaja::datum_prodaje.DajDan()+1;
    if(a&gt;broj_dana[Prodaja::datum_prodaje.DajMjesec()-1])
    {
        if(Prodaja::datum_prodaje.DajMjesec()==12) {Prodaja::datum_prodaje.Postavi(1,1,Prodaja::datum_prodaje.DajGodinu()+1);}
        else Prodaja::datum_prodaje.Postavi(1,Prodaja::datum_prodaje.DajMjesec()+1,Prodaja::datum_prodaje.DajGodinu());
    }
    else Prodaja::datum_prodaje.Postavi(a,Prodaja::datum_prodaje.DajMjesec(),Prodaja::datum_prodaje.DajGodinu());
}
void Prodaja::PomjeriDanUnazad()
{
    int broj_dana[12]{31,28,31,30,31,30,31,31,30,31,30,31};
    if(Prodaja::datum_prodaje.DajGodinu()%4==0 &amp;&amp; Prodaja::datum_prodaje.DajGodinu()%100!=0 || Prodaja::datum_prodaje.DajGodinu()%400==0)
    broj_dana[1]++;
    int a=Prodaja::datum_prodaje.DajDan()-1;
    if(a&lt;1)
    {
        if(Prodaja::datum_prodaje.DajMjesec()==1) Prodaja::datum_prodaje.Postavi(broj_dana[12-1],12,Prodaja::datum_prodaje.DajGodinu()-1);
        else Prodaja::datum_prodaje.Postavi(broj_dana[Prodaja::datum_prodaje.DajMjesec()-2],Prodaja::datum_prodaje.DajMjesec()-1,Prodaja::datum_prodaje.DajGodinu());
        
    }
    else Prodaja::datum_prodaje.Postavi(a,Prodaja::datum_prodaje.DajMjesec(),Prodaja::datum_prodaje.DajGodinu());
    
}
bool ProdatPrije(const Prodaja &amp;p1,const Prodaja &amp;p2)
{
    Datum dat1(p1.DajDatumProdaje()),dat2(p2.DajDatumProdaje());
    int dan1(dat1.DajDan()),mjesec1(dat1.DajMjesec()),godina1(dat1.DajGodinu());
    int dan2(dat2.DajDan()),mjesec2(dat2.DajMjesec()),godina2(dat2.DajGodinu());
    if(godina1&lt;godina2) return true;
    else if(godina1&gt;godina2) return false;
    else if(godina1==godina2 &amp;&amp; mjesec1&lt;mjesec2) return true;
    else if(godina1==godina2 &amp;&amp; mjesec1&gt;mjesec2) return false;
    else if(godina1==godina2 &amp;&amp; mjesec1==mjesec2 &amp;&amp; dan1&lt;dan2) return true;
    else return false;
    
}
bool SkupljiStan(const Prodaja &amp;p1,const Prodaja &amp;p2)
{
    return p1.cijena_stana&gt;p2.cijena_stana;
}
void Prodaja::Ispisi() const
{
    cout&lt;&lt;"Ime agenta:"&lt;&lt;setw(30)&lt;&lt;DajImeAgenta()&lt;&lt;endl;
    cout&lt;&lt;"Ime kupca:"&lt;&lt;setw(32); Prodaja::kupac_stana.Ispisi();
    cout&lt;&lt;endl&lt;&lt;"Zakazani datum prodaje:"&lt;&lt;setw(7); Prodaja::datum_prodaje.Ispisi();
    cout&lt;&lt;endl&lt;&lt;"Cijena stana:"&lt;&lt;setw(21)&lt;&lt;DajCijenuStana();
    cout&lt;&lt;endl&lt;&lt;"Informacije o stanu:"&lt;&lt;endl; 
    Prodaja::kupljeni_stan.Ispisi();
    cout&lt;&lt;endl;
}
class Prodaje{
    int max_broj_prodaja;
    int broj_evidentiranih;
    Prodaja **prodaje;
    void AlocirajMemoriju(int velicina);
    void DealocirajMemoriju();
    
    public:
    explicit Prodaje(int max_broj_prodaja):max_broj_prodaja(max_broj_prodaja),broj_evidentiranih(0){AlocirajMemoriju(max_broj_prodaja);}
    Prodaje(initializer_list&lt;Prodaja&gt;spisak_prodaja);
    ~Prodaje();
    Prodaje(const Prodaje &amp;prodaje);
<a name="0"></a><font color="#FF0000"><a href="match514-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_3.gif"/></a>

    Prodaje(Prodaje &amp;&amp;prodaje);
    Prodaje &amp;operator=(const Prodaje &amp;prodaje);
    Prodaje &amp;operator=(Prodaje &amp;&amp;prodaje);
    void RegistrirajProdaju(const string &amp;ime_agenta_prodaje,double cijena_stana,const Datum &amp;datum_prodaje,const Kupac &amp;kupac_stana,const Stan &amp;kupljeni_stan);
    void RegistrirajProdaju(const string &amp;ime_agenta_prodaje,double cijena_stana,int dan_prodaje,int mjesec_prodaje,int godina_prodaje,string &amp;ime_kupca,const Datum &amp;datum_rodjenja_kupca,
    const string &amp;adresa_stana,int sprat_stana,int broj_soba,bool namjesten_stan,double broj_kvadrata);
    void RegistrirajProdaju(Prodaja *prodaja);
    int DajBrojProdaja() const {return broj_evidentiranih;}
    int DajBrojProdajaNaDatum(const Datum &amp;datum) const;
    int DajBrojProdajaOdAgenta(const string &amp;ime_agenta) const;
    Prodaja &amp;DajNajranijuProdaju();
</font><a name="7"></a><font color="#0000FF"><a href="match514-0.html#7" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_1.gif"/></a>

    Prodaja DajNajranijuProdaju() const;
    Prodaja &amp;DajNajskupljuProdaju();
    Prodaja DajNajskupljuProdaju() const;
    void IsprazniKolekciju();
    void ObrisiNajranijuProdaju();
    void ObrisiProdajeAgenta(const string &amp;ime_agenta);
    void ObrisiProdajeNaDatum(const Datum &amp;datum);
    void IspisiProdajeNaDatum(const Datum &amp;datum) const;
    void IspisiSveProdaje() const;
</font>    Prodaja &amp;DajProdaju(int broj);
    
};
void Prodaje::AlocirajMemoriju(int velicina){
    prodaje=nullptr;
    try{
        prodaje=new Prodaja*[velicina];
    }
    catch(...){
        DealocirajMemoriju();
        throw;
    }
}
void Prodaje::IsprazniKolekciju(){
    if(prodaje==nullptr) return;
    for(int i=0;i&lt;broj_evidentiranih;i++) delete prodaje[i];
    delete [] prodaje;
    broj_evidentiranih=0;
}
Prodaje::~Prodaje(){
    for(int i=0;i&lt;broj_evidentiranih;i++) delete prodaje[i];
    delete [] prodaje;
}
Prodaje::Prodaje(initializer_list&lt;Prodaja&gt;spisak_prodaja):broj_evidentiranih(spisak_prodaja.size()),max_broj_prodaja(spisak_prodaja.size()),
prodaje(nullptr){
    int brojac(0);
    try{
        AlocirajMemoriju(max_broj_prodaja);
        for(const auto &amp;x:spisak_prodaja)
        prodaje[brojac++]=new Prodaja(x);
    }
    catch(...){
        DealocirajMemoriju();
        throw;
    }
}
Prodaje::Prodaje(const Prodaje &amp;prodaje):prodaje(new Prodaja*[prodaje.max_broj_prodaja]),max_broj_prodaja(prodaje.max_broj_prodaja),
broj_evidentiranih(prodaje.broj_evidentiranih){
    try{
    for(int i=0;i&lt;prodaje.broj_evidentiranih;i++)
    this-&gt;prodaje[i]=new Prodaja(*prodaje.prodaje[i]);
    }
    catch(...)
    {
        DealocirajMemoriju();
        throw;
    }
}
Prodaje::Prodaje(Prodaje &amp;&amp;prodaje):prodaje(prodaje.prodaje),max_broj_prodaja(prodaje.max_broj_prodaja),broj_evidentiranih(prodaje.broj_evidentiranih){
    prodaje.prodaje=nullptr; prodaje.broj_evidentiranih=0;
}
Prodaje &amp;Prodaje::operator=(const Prodaje &amp;prodaje){
    if(prodaje.max_broj_prodaja!=max_broj_prodaja)
    throw logic_error("Prodaje nisu saglasne za dodjelu!");
    if(&amp;prodaje!=this){
        for(int i=0;i&lt;broj_evidentiranih;i++) delete Prodaje::prodaje[i];
        for(int i=0;i&lt;prodaje.broj_evidentiranih;i++)
        this-&gt;prodaje[i]=new Prodaja(*prodaje.prodaje[i]);
        broj_evidentiranih=prodaje.broj_evidentiranih;
    }
    return *this;
}
Prodaje &amp;Prodaje::operator=(Prodaje &amp;&amp;prodaje){
    if(prodaje.max_broj_prodaja!=max_broj_prodaja)
    throw logic_error("Prodaje nisu saglasne za dodjelu!");
    if(&amp;prodaje!=this){
        for(int i=0;i&lt;broj_evidentiranih;i++) delete Prodaje::prodaje[i];
        delete [] Prodaje::prodaje;
        Prodaje::prodaje=prodaje.prodaje; broj_evidentiranih=prodaje.broj_evidentiranih;
        prodaje.prodaje=nullptr;prodaje.broj_evidentiranih=0;
    }
    return *this;
}
void Prodaje::DealocirajMemoriju(){
    if(prodaje==nullptr) return;
    for(int i=0;i&lt;broj_evidentiranih;i++) delete prodaje[i];
    delete [] prodaje;
}
<a name="14"></a><font color="#FF00FF"><a href="match514-0.html#14" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_0.gif"/></a>

void Prodaje::RegistrirajProdaju(const string &amp;ime_agenta_prodaje,double cijena_stana,const Datum &amp;datum_prodaje,
const Kupac &amp;kupac_stana,const Stan &amp;kupljeni_stan){
    if(broj_evidentiranih==max_broj_prodaja)
</font>    throw range_error("Dostignut maksimalan broj prodaja");
    try{
        prodaje[broj_evidentiranih++]=new Prodaja(ime_agenta_prodaje,cijena_stana,datum_prodaje,kupac_stana,kupljeni_stan);
    }
    catch(...){
        broj_evidentiranih--;
        throw;
    }
}
<a name="3"></a><font color="#00FFFF"><a href="match514-0.html#3" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_1.gif"/></a>

void Prodaje::RegistrirajProdaju(const string &amp;ime_agenta_prodaje,double cijena_stana,int dan_prodaje,int mjesec_prodaje,
int godina_prodaje,string &amp;ime_kupca,const Datum &amp;datum_rodjenja_kupca,const string &amp;adresa_stana,int sprat_stana,
int broj_soba,bool namjesten_stan,double broj_kvadrata){
    
    if(broj_evidentiranih==max_broj_prodaja)
</font>    throw range_error("Dostignut maksimalan broj prodaja");
    try{
        prodaje[broj_evidentiranih++]=new Prodaja(ime_agenta_prodaje,cijena_stana,dan_prodaje,mjesec_prodaje,godina_prodaje,
        ime_kupca,datum_rodjenja_kupca,adresa_stana,sprat_stana,broj_soba,namjesten_stan,broj_kvadrata);
    }
    catch(...){
        broj_evidentiranih--;
        throw;
    }
}
void Prodaje::RegistrirajProdaju(Prodaja *prodaja){
    if(broj_evidentiranih==max_broj_prodaja)
    throw range_error("Dostignut maksimalan broj prodaja");
    try{
    prodaje[broj_evidentiranih++]=prodaja;
    }
    catch(...){
        broj_evidentiranih--;
        throw;
    }
}
int Prodaje::DajBrojProdajaNaDatum(const Datum &amp;datum) const {

    return count_if(prodaje,prodaje+broj_evidentiranih,[datum](const Prodaja *p1)-&gt;bool {
        int dan1,mjesec1,godina1;
        dan1=datum.DajDan();mjesec1=datum.DajMjesec();godina1=datum.DajGodinu();
        Datum dat2(p1-&gt;DajDatumProdaje());
        int dan2,mjesec2,godina2;
        dan2=dat2.DajDan();mjesec2=dat2.DajMjesec();godina2=dat2.DajGodinu();
        return(dan1==dan2 &amp;&amp; mjesec1==mjesec2 &amp;&amp; godina1==godina2);
    });
}
int Prodaje::DajBrojProdajaOdAgenta(const string &amp;ime_agenta) const{
    return count_if(prodaje,prodaje+broj_evidentiranih,[ime_agenta](const Prodaja *p1)-&gt;bool {
        return(ime_agenta==p1-&gt;DajImeAgenta());
    });
}
Prodaja &amp;Prodaje::DajNajranijuProdaju() {
    if(broj_evidentiranih==0)
    throw domain_error("Nema registriranih prodaja");
    return **min_element(prodaje,prodaje+broj_evidentiranih,[](const Prodaja *p1,const Prodaja *p2){
        Datum dat1(p1-&gt;DajDatumProdaje()),dat2(p2-&gt;DajDatumProdaje());
    int dan1(dat1.DajDan()),mjesec1(dat1.DajMjesec()),godina1(dat1.DajGodinu());
    int dan2(dat2.DajDan()),mjesec2(dat2.DajMjesec()),godina2(dat2.DajGodinu());
    if(godina1&lt;godina2) return true;
    else if(godina1&gt;godina2) return false;
    else if(godina1==godina2 &amp;&amp; mjesec1&lt;mjesec2) return true;
    else if(godina1==godina2 &amp;&amp; mjesec1&gt;mjesec2) return false;
    else if(godina1==godina2 &amp;&amp; mjesec1==mjesec2 &amp;&amp; dan1&lt;dan2) return true;
    else return false;
        
    });
    
}
Prodaja Prodaje::DajNajranijuProdaju() const {
    if(broj_evidentiranih==0)
    throw domain_error("Nema registriranih prodaja");
    return **min_element(prodaje,prodaje+broj_evidentiranih,[](const Prodaja *p1,const Prodaja *p2){
        Datum dat1(p1-&gt;DajDatumProdaje()),dat2(p2-&gt;DajDatumProdaje());
    int dan1(dat1.DajDan()),mjesec1(dat1.DajMjesec()),godina1(dat1.DajGodinu());
    int dan2(dat2.DajDan()),mjesec2(dat2.DajMjesec()),godina2(dat2.DajGodinu());
    if(godina1&lt;godina2) return true;
    else if(godina1&gt;godina2) return false;
    else if(godina1==godina2 &amp;&amp; mjesec1&lt;mjesec2) return true;
    else if(godina1==godina2 &amp;&amp; mjesec1&gt;mjesec2) return false;
    else if(godina1==godina2 &amp;&amp; mjesec1==mjesec2 &amp;&amp; dan1&lt;dan2) return true;
    else return false;
        
    });
}
Prodaja &amp;Prodaje::DajNajskupljuProdaju() {
    if(broj_evidentiranih==0)
    throw domain_error("Nema registriranih prodaja");
    return **max_element(prodaje,prodaje+broj_evidentiranih,[](const Prodaja *p1,const Prodaja *p2){
        return p1-&gt;DajCijenuStana()&gt;p2-&gt;DajCijenuStana();
    });
}
Prodaja Prodaje::DajNajskupljuProdaju() const {
    if(broj_evidentiranih==0)
    throw domain_error("Nema registriranih prodaja");
    return **max_element(prodaje,prodaje+broj_evidentiranih,[](const Prodaja *p1,const Prodaja *p2){
        return p1-&gt;DajCijenuStana()&gt;p2-&gt;DajCijenuStana();
    });
}
void Prodaje::ObrisiNajranijuProdaju(){
    if(broj_evidentiranih==0)
    throw range_error("Prazna kolekcija");
    DajNajranijuProdaju()=*prodaje[broj_evidentiranih-1];
    delete prodaje[--broj_evidentiranih];
}
void Prodaje::ObrisiProdajeAgenta(const string &amp;ime_agenta){
    if(broj_evidentiranih==0) return;
    for(int i=0;i&lt;broj_evidentiranih;i++){
        if(ime_agenta==prodaje[i]-&gt;DajImeAgenta())
        prodaje[i]=prodaje[broj_evidentiranih-1];
        delete prodaje[--broj_evidentiranih];
    }
}
void Prodaje::ObrisiProdajeNaDatum(const Datum &amp;datum){
    if(broj_evidentiranih==0) return;
    int dan1,mjesec1,godina1;
    dan1=datum.DajDan();mjesec1=datum.DajMjesec();godina1=datum.DajGodinu();
    for(int i=0;i&lt;broj_evidentiranih;i++){
        int dan2,mjesec2,godina2;
        Datum dat=prodaje[i]-&gt;DajDatumProdaje();
        dan2=dat.DajDan();mjesec2=dat.DajMjesec();godina2=dat.DajGodinu();
        if(dan1==dan2 &amp;&amp; mjesec1==mjesec2 &amp;&amp; godina1==godina2)
        prodaje[i]=prodaje[broj_evidentiranih-1];
        delete prodaje[--broj_evidentiranih];
    
    }
}
void Prodaje::IspisiProdajeNaDatum(const Datum &amp;datum) const{
    sort(prodaje,prodaje+broj_evidentiranih,[](const Prodaja *p1,const Prodaja *p2){
        return p1-&gt;DajImeKupca()&lt;p2-&gt;DajImeKupca();
    });
    
    for(int i=0;i&lt;broj_evidentiranih;i++){
        Datum dat(prodaje[i]-&gt;DajDatumProdaje());
        if(dat.DajDan()==datum.DajDan() &amp;&amp; dat.DajMjesec()==datum.DajMjesec() &amp;&amp; dat.DajGodinu()==datum.DajGodinu())
        prodaje[i]-&gt;Ispisi();
    }
    
}
void Prodaje::IspisiSveProdaje() const{
    if(broj_evidentiranih==0) return;
    sort(prodaje,prodaje+broj_evidentiranih,[](const Prodaja *p1,const Prodaja *p2){
        Datum dat1(p1-&gt;DajDatumProdaje()),dat2(p2-&gt;DajDatumProdaje());
    int dan1(dat1.DajDan()),mjesec1(dat1.DajMjesec()),godina1(dat1.DajGodinu());
    int dan2(dat2.DajDan()),mjesec2(dat2.DajMjesec()),godina2(dat2.DajGodinu());
    if(godina1&lt;godina2) return true;
    else if(godina1&gt;godina2) return false;
    else if(godina1==godina2 &amp;&amp; mjesec1&lt;mjesec2) return true;
    else if(godina1==godina2 &amp;&amp; mjesec1&gt;mjesec2) return false;
    else if(godina1==godina2 &amp;&amp; mjesec1==mjesec2 &amp;&amp; dan1&lt;dan2) return true;
    else return p1-&gt;DajImeKupca()&lt;p2-&gt;DajImeKupca();
       
    });
    for(int i=0;i&lt;broj_evidentiranih;i++) prodaje[i]-&gt;Ispisi();
}
Prodaja &amp;Prodaje::DajProdaju(int broj){
    if(broj&lt;0 || broj&gt;max_broj_prodaja) throw domain_error("Nelegalan parametar");
    return *prodaje[broj];
}


    

    

int main ()
{
    
    
	return 0;
}</pre>
</body>
</html>
