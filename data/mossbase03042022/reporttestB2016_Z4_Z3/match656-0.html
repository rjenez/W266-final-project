<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z3/student7180.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z3/student7180.cpp<p></p><pre>
/B 2016/2017, ZadaÄ‡a 4, Zadatak 3
//Napomena: testovi ce biti dostupni dan pred rok!
#include &lt;iostream&gt;
#include &lt;stdexcept&gt;
#include &lt;iomanip&gt;
#include &lt;initializer_list&gt;
#include &lt;algorithm&gt;

using namespace std ; 

class Datum
{
    int dan, mjesec, godina ; 
    public : 
    Datum(int dan, int mjesec, int godina) { Postavi(dan,mjesec, godina) ; }
<a name="5"></a><font color="#FF0000"><a href="match656-1.html#5" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_1.gif"/></a>

    void Postavi(int dan, int mjesec, int godina) ; 
    int DajDan() const { return dan ; }
    int DajMjesec() const { return mjesec ; }
    int DajGodinu() const { return godina ; }
    void Ispisi() const { cout &lt;&lt; dan &lt;&lt; "/" &lt;&lt; mjesec &lt;&lt; "/" &lt;&lt; godina ; }
</font>};

void Datum::Postavi(int dan, int mjesec, int godina)
{
    int broj_dana[] {31,28,31,30,31,30,31,31,30,31,30,31} ;
    if((godina%4 == 0 &amp;&amp; godina%100!=0) || godina%400==0) broj_dana[1]++ ; 
    if(godina &lt; 1  || dan &lt; 1 || mjesec&lt;1 || mjesec &gt; 12 || dan &gt; broj_dana[mjesec-1]) 
        throw domain_error("Neispravan datum!");
    this-&gt;dan = dan ; this-&gt;mjesec = mjesec ; this-&gt;godina = godina ; 
}

class Kupac
{
  string ime_prezime ; 
  Datum rodjenje ; 
  public : 
  Kupac(const std::string &amp;ime_i_prezime, const Datum &amp;datum_rodjenja);
  void Postavi(const std::string &amp;ime_i_prezime, const Datum &amp;datum_rodjenja);
  std::string DajImePrezime() const { return ime_prezime ; }
  Datum DajDatumRodjenja() const { return rodjenje ; }
  void Ispisi() const { cout &lt;&lt; ime_prezime &lt;&lt; " (" ; rodjenje.Ispisi() ; cout &lt;&lt; ")" ; }
};
Kupac::Kupac(const std::string &amp;ime_i_prezime, const Datum &amp;datum_rodjenja) 
            : rodjenje(datum_rodjenja.DajDan(), datum_rodjenja.DajMjesec(), datum_rodjenja.DajGodinu())
{
    for(char c : ime_i_prezime)
    {
        if(c!='\'' &amp;&amp; (c&lt;'a' || c&gt;'z') &amp;&amp; (c&lt;'A' || c&gt;'Z') &amp;&amp; c!='-' &amp;&amp; (c&lt;'0' || c&gt;'9') &amp;&amp; c!=' ')
            throw domain_error("Neispravno ime i prezime") ; 
    }
    ime_prezime = ime_i_prezime ; 
}
void Kupac::Postavi(const std::string &amp;ime_i_prezime, const Datum &amp;datum_rodjenja)
{
    for(char c : ime_i_prezime)
    {
        if(c!='\'' &amp;&amp; (c&lt;'a' || c&gt;'z') &amp;&amp; (c&lt;'A' || c&gt;'Z') &amp;&amp; c!='-' &amp;&amp; (c&lt;'0' || c&gt;'9') &amp;&amp; c!=' ')
            throw domain_error("Neispravno ime i prezime") ;
    }
    ime_prezime = ime_i_prezime ; 
    rodjenje = datum_rodjenja ; 
}

class Stan
{
  string adresa ; 
  int sprat, broj_soba ; 
  bool namjesten ; 
  double kvadratura ; 
  public : 
  Stan(const std::string &amp;adresa, int sprat, int broj_soba, bool namjesten, double kvadratura) { Postavi(adresa, sprat, broj_soba, namjesten, kvadratura) ;  }
  void Postavi(const std::string &amp;adresa, int sprat, int broj_soba, bool namjesten, double kvadratura)
  {
      this-&gt;adresa = adresa ; 
      this-&gt;sprat = sprat ; 
      this-&gt;broj_soba = broj_soba ; 
      this-&gt;namjesten = namjesten ; 
      this-&gt;kvadratura = kvadratura ; 
  }
  string DajAdresu() const { return adresa ; }
  int DajSprat() const { return sprat ; }
  int DajBrojSoba() const { return broj_soba ; }
  bool DajNamjesten() const { return namjesten ; }
  bool DajKvadraturu() const { return kvadratura ; }
  void Ispisi() const ; 
};

void Stan::Ispisi() const 
{
    cout &lt;&lt; "Stan se nalazi na adresi " &lt;&lt; adresa &lt;&lt; " na " &lt;&lt; sprat &lt;&lt; ". spratu i ima " &lt;&lt; broj_soba &lt;&lt; " " ; 
    string tekst ; 
    if(broj_soba%10 == 1 &amp;&amp; broj_soba%100 !=11)
        tekst = "sobu" ; 
    else if(broj_soba%10&gt;=2 &amp;&amp; broj_soba%10&lt;=4 &amp;&amp; broj_soba%100 &lt; 12 &amp;&amp; broj_soba%100 &gt; 14)
        tekst = "sobe" ; 
    else tekst = "soba" ; 
    cout &lt;&lt; tekst &lt;&lt; ". Kvadratura stana je " &lt;&lt; kvadratura &lt;&lt; " (m^2) i stan " ; 
    if(namjesten) tekst = "je namjesten." ; 
    else tekst = "nije namjesten" ; 
    cout &lt;&lt; tekst &lt;&lt; endl ; 
}

class Prodaja
{
  string agent ; 
  double cijena ; 
  Datum datum_prodaje ; 
  Kupac kupac ; 
<a name="12"></a><font color="#0000FF"><a href="match656-1.html#12" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_0.gif"/></a>

  Stan stan ; 
  public : 
  Prodaja(const string &amp;ime_agenta_prodaje, double cijena_stana, const Datum &amp;datum_prodaje, const Kupac &amp;kupac_stana, const Stan &amp;kupljeni_stan)
        : datum_prodaje(datum_prodaje), kupac(kupac_stana), stan(kupljeni_stan)
</font>  {
      agent = ime_agenta_prodaje ; 
      cijena = cijena_stana ; 
  }
<a name="3"></a><font color="#00FFFF"><a href="match656-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_1.gif"/></a>

  Prodaja(const string &amp;ime_agenta_prodaje, double cijena_stana, int dan_prodaje, int mjesec_prodaje, int godina_prodaje, string &amp;ime_kupca, const Datum &amp;datum_rodjenja_kupca, const string &amp;adresa_stana, int sprat_stana, int broj_soba, bool namjesten_stan, double broj_kvadrata)
        : datum_prodaje(dan_prodaje, mjesec_prodaje, godina_prodaje), kupac(ime_kupca, datum_rodjenja_kupca), stan(adresa_stana, sprat_stana, broj_soba, namjesten_stan, broj_kvadrata)
    {
        agent = ime_agenta_prodaje ; 
        cijena = cijena_stana ;
</font>    }
    void PromijeniKupca(const Kupac &amp;novi_kupac) { kupac = novi_kupac ; }
    void PromijeniStan(const Stan &amp;novi_stan) { stan = novi_stan ; }
    void PromijniDatumKupovine(const Datum &amp;novi_datum) { datum_prodaje = novi_datum ; }
<a name="8"></a><font color="#00FFFF"><a href="match656-1.html#8" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_1.gif"/></a>

    void PromijeniCijenuProdaje(const double &amp;nova_cijena) { cijena = nova_cijena ; }
    void PomjeriDanUnaprijed() ;
    void PomjeriDanUnazad();
    string DajImeAgenta() const { return agent ; }
    string DajImeKupca() const { return kupac.DajImePrezime() ; }
    Datum DajDatumProdaje() const { return datum_prodaje ; }
    double DajCijenuStana() const { return cijena ; }
    bool ProdatPrije(const Prodaja &amp;p1, const Prodaja &amp;p2) ; 
</font>    bool SkupljiStan(const Prodaja &amp;p1, const Prodaja &amp;p2) ; 
    void Ispisi() const ;
};
void Prodaja::PomjeriDanUnaprijed()
{
    int broj_dana[]{31,28,31,30,31,30,31,31,30,31,30,31};
    int godina = datum_prodaje.DajGodinu() ;
    int mjesec = datum_prodaje.DajMjesec() ; 
    int dan = datum_prodaje.DajDan() ;
    if((godina%4 ==0 &amp;&amp; godina%100 !=0) || godina%400==0)
        broj_dana[1]++ ; 
    if(dan &gt; broj_dana[mjesec-1]) { dan = 1 ; mjesec++ ; }
    if(mjesec&gt;12) { mjesec = 1 ; godina++ ; }
    datum_prodaje = Datum(dan, mjesec, godina) ;
}
void Prodaja::PomjeriDanUnazad()
{
    int broj_dana[]{31,28,31,30,31,30,31,31,30,31,30,31} ; 
    int godina = datum_prodaje.DajGodinu() ; 
    int mjesec = datum_prodaje.DajMjesec() ;
    int dan = datum_prodaje.DajDan() ; 
    if((godina%4 == 0 &amp;&amp; godina%100 !=0) || godina%400==0)
        broj_dana[1]++ ; 
    dan-- ;
    if(dan&lt;1) { dan = broj_dana[mjesec-2] ; mjesec-- ; }
    if(mjesec &lt;1) { mjesec = 12 ; godina -- ;  }
    datum_prodaje = Datum(dan, mjesec, godina) ; 
}

<a name="10"></a><font color="#FF0000"><a href="match656-1.html#10" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_1.gif"/></a>

bool ProdatPrije(const Prodaja &amp;p1, const Prodaja &amp;p2)
{
    if(p1.DajDatumProdaje().DajGodinu() &lt; p2.DajDatumProdaje().DajGodinu())
        return true ; 
    if(p1.DajDatumProdaje().DajMjesec() &lt; p2.DajDatumProdaje().DajMjesec())
</font>        return true ; 
    if(p1.DajDatumProdaje().DajDan() &lt; p2.DajDatumProdaje().DajDan())
        return true ; 
    return false ; 
}

bool SkupljiStan(const Prodaja &amp;p1, const Prodaja &amp;p2)
{
    return p1.DajCijenuStana() &gt; p2.DajCijenuStana() ; 
}
void Prodaja::Ispisi() const 
{
    cout &lt;&lt; setw(30) &lt;&lt; left &lt;&lt; "Ime agenta:" ;
    cout &lt;&lt; agent ; 
    cout &lt;&lt; endl &lt;&lt; setw(30) &lt;&lt; left &lt;&lt; "Ime kupca:" ;
    kupac.Ispisi() ; 
    cout &lt;&lt; endl &lt;&lt; setw(30) &lt;&lt; left &lt;&lt; "Zakazani datum prodaje:"  ; 
    datum_prodaje.Ispisi() ; 
    cout &lt;&lt; endl &lt;&lt; setw(30) &lt;&lt; left &lt;&lt; "Cijena stana:" ; 
    cout &lt;&lt; cijena ; 
    cout &lt;&lt; endl &lt;&lt; setw(30) &lt;&lt; left &lt;&lt; "Informacije o stanu:" &lt;&lt; endl ; 
    stan.Ispisi() ;
}

class Prodaje
{
  Prodaja** niz ; 
  int kapacitet ; 
  int stanje ; 
  public : 
  explicit Prodaje(int max_broj_prodaja) ; 
  Prodaje(std::initializer_list&lt;Prodaja&gt; spisak_prodaja) ; 
  ~Prodaje() ; 
  Prodaje(const Prodaje &amp;prodaje) ; 
<a name="0"></a><font color="#FF0000"><a href="match656-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_3.gif"/></a>

  Prodaje(Prodaje &amp;&amp;prodaje) ;
  Prodaje &amp;operator = (const Prodaje &amp;prodaje) ; 
  Prodaje &amp;operator = (Prodaje &amp;&amp;prodaje) ;
  void RegistrirajProdaju(const string &amp;ime_agenta_prodaje, double cijena_stana, const Datum &amp;datum_prodaje, const Kupac &amp;kupac_stana, const Stan &amp;kupljeni_stan) ; 
  void RegistrirajProdaju(const string &amp;ime_agenta_prodaje, double cijena_stana, int dan_prodaje,int mjesec_prodaje, int godina_prodaje, string &amp;ime_kupca, const Datum &amp;datum_rodjenja_kupca, const string &amp;adresa_stana, int sprat_stana, int broj_soba, bool namjesten_stan, double broj_kvadrata);
  void RegistrirajProdaju(Prodaja *prodaja) ; 
  int DajBrojProdaja() const ; 
</font><a name="2"></a><font color="#0000FF"><a href="match656-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_1.gif"/></a>

  int DajBrojProdajaNaDatum(const Datum &amp;datum) const ; 
  int DajBrojProdajaOdAgenta(const string &amp;ime_agenta) const ; 
  Prodaja &amp;DajNajranijuProdaju() ; 
  Prodaja DajNajranijuProdaju() const ; 
  Prodaja &amp;DajNajskupljuProdaju() ; 
  Prodaja DajNajskupljuProdaju() const ; 
  void IsprazniKolekciju() ; 
  void ObrisiNajranijuProdaju() ;
  void ObrisiProdajeAgenta(const string &amp;ime_agenta) ; 
  void ObrisiProdajeNaDatum(const Datum &amp;datum) ;
  void IspisiProdajeNaDatum(const Datum &amp;datum) const ; 
  void IspisiSveProdaje() const ; 
  Prodaja &amp;DajProdaju(int broj) ;
</font>};
Prodaje::Prodaje(int max_broj_prodaja)
{
    kapacitet = max_broj_prodaja ; 
    stanje = 0 ; 
    niz = new Prodaja*[kapacitet] ; 
}
Prodaja &amp;Prodaje::DajProdaju(int broj)
{
    if(stanje&lt;broj)
        throw range_error("Kapacitet je premal");
    return *niz[broj-1] ;
}
Prodaje::Prodaje(initializer_list&lt;Prodaja&gt; spisak_prodaja) : stanje(spisak_prodaja.size())
{
    niz = new Prodaja*[spisak_prodaja.size()] ; 
    int i = 0 ; 
    for(auto it = spisak_prodaja.begin() ; it!=spisak_prodaja.end() ; it++)
    {
           niz[i] = new Prodaja(*it) ;
           i++ ; 
    }
}
Prodaje::~Prodaje()
{
    for(int i=0 ; i&lt;stanje ; i++)
        delete niz[i] ; 
    delete [] niz ; 
}
Prodaje::Prodaje(const Prodaje &amp;prodaje)
{
    niz = new Prodaja*[prodaje.kapacitet] ; 
    kapacitet = prodaje.kapacitet ; 
    for(int i=0 ; i&lt;prodaje.stanje ; i++)
        niz[i] = new Prodaja(*prodaje.niz[i]) ;
    stanje = prodaje.stanje ; 
}
Prodaje::Prodaje(Prodaje &amp;&amp;prodaje)
{
    stanje = prodaje.stanje ; 
    kapacitet = prodaje.kapacitet ; 
    niz = prodaje.niz ; 
    prodaje.niz = nullptr ; 
}
Prodaje &amp;Prodaje::operator = (const Prodaje &amp;prodaje)
{
    if(this == &amp;prodaje) return *this ; 
    for(int i=0 ; i&lt;stanje ; i++)
        delete niz[i] ; 
    delete []niz ;
    niz = new Prodaja*[prodaje.kapacitet] ; 
    kapacitet = prodaje.kapacitet ; 
    for(int i = 0 ; i&lt;prodaje.stanje ; i++)
        niz[i] = new Prodaja(*prodaje.niz[i]) ; 
    stanje = prodaje.stanje ; 
    return *this ; 
}
Prodaje &amp;Prodaje::operator =(Prodaje &amp;&amp;prodaje)
{
    if(this == &amp;prodaje) return *this ; 
    for(int i=0 ; i&lt;stanje ; i++)
        delete niz[i] ; 
    delete []niz ; 
    stanje = prodaje.stanje ; 
    kapacitet = prodaje.kapacitet ; 
    niz = prodaje.niz ; 
    prodaje.niz = nullptr ; 
<a name="11"></a><font color="#00FF00"><a href="match656-1.html#11" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_1.gif"/></a>

    return *this ; 
}
void Prodaje::RegistrirajProdaju(const string &amp;ime_agenta_prodaje, double cijena_stana, const Datum &amp;datum_prodaje, const Kupac &amp;kupac_stana, const Stan &amp;kupljeni_stan)
{
    if(kapacitet == stanje)
</font>        throw range_error("Dostignut maksimalni broj prodaja") ;
    niz[stanje] = new Prodaja(ime_agenta_prodaje, cijena_stana, datum_prodaje, kupac_stana, kupljeni_stan) ;
    stanje++ ; 
}
<a name="13"></a><font color="#00FFFF"><a href="match656-1.html#13" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_0.gif"/></a>

void Prodaje::RegistrirajProdaju(const string &amp;ime_agenta_prodaje, double cijena_stana, int dan_prodaje, int mjesec_prodaje, int godina_prodaje, string &amp;ime_kupca, const Datum &amp;datum_rodjenja_kupca, const string &amp;adresa_stana, int sprat_stana, int broj_soba, bool namjesten_stan, double broj_kvadrata)
{
    if(kapacitet == stanje)
</font>        throw range_error("Dostignut maksimalni broj prodaja") ;
    Datum datum_prodaje = Datum(dan_prodaje, mjesec_prodaje, godina_prodaje) ; 
    Kupac kupac = Kupac(ime_kupca, datum_rodjenja_kupca) ; 
    Stan stan = Stan(adresa_stana, sprat_stana, broj_soba, namjesten_stan, broj_kvadrata);
    niz[stanje] = new Prodaja(ime_agenta_prodaje, cijena_stana, datum_prodaje, kupac, stan);
    stanje++ ;
}
void Prodaje::RegistrirajProdaju(Prodaja *prodaja)
{
    if(kapacitet == stanje)
        throw range_error("Dostignut maksimalni broj prodaja") ;
    niz[stanje] = prodaja ; 
    stanje++ ; 
}
int Prodaje::DajBrojProdaja() const 
{
    return stanje ; 
}
int Prodaje::DajBrojProdajaNaDatum(const Datum &amp;datum) const 
{
    return count_if(niz, niz+stanje, [datum](Prodaja* i) 
            { if((*i).DajDatumProdaje().DajDan()==datum.DajDan() &amp;&amp; (*i).DajDatumProdaje().DajMjesec()==datum.DajMjesec() &amp;&amp; (*i).DajDatumProdaje().DajGodinu()==datum.DajGodinu()) return true ;  return false ; } ) ;
}
int Prodaje::DajBrojProdajaOdAgenta(const string &amp;ime_agenta_prodaje) const 
{
    return count_if(niz, niz+stanje, [ime_agenta_prodaje](Prodaja* i)
<a name="4"></a><font color="#FF00FF"><a href="match656-1.html#4" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_1.gif"/></a>

            { if((*i).DajImeAgenta()==ime_agenta_prodaje) return true ;  return false ; } ) ;
}
Prodaja &amp;Prodaje::DajNajranijuProdaju() 
{
    if(stanje==0) throw domain_error("Nema registriranih prodaja") ; 
    auto x =  min_element(niz, niz+stanje, [](Prodaja* i ,Prodaja* j)
            { return ProdatPrije((*i),(*j)) ;   }) ;
</font><a name="6"></a><font color="#00FF00"><a href="match656-1.html#6" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_1.gif"/></a>

    return *(*x) ;
}
Prodaja Prodaje::DajNajranijuProdaju() const
{
    if(stanje==0) throw domain_error("Nema registriranih prodaja") ; 
    auto x = min_element(niz, niz+stanje, [](Prodaja* i, Prodaja* j)
            { return ProdatPrije((*i),(*j)) ; } ) ; 
</font><a name="9"></a><font color="#FF00FF"><a href="match656-1.html#9" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_1.gif"/></a>

    return *(*x) ; 
}
Prodaja &amp;Prodaje::DajNajskupljuProdaju()
{
    if(stanje==0) throw domain_error("Nema registriranih prodaja") ; 
    auto x= max_element(niz, niz+stanje, [](Prodaja* i, Prodaja* j)
            { return SkupljiStan((*i),(*j)); } ) ; 
</font><a name="7"></a><font color="#0000FF"><a href="match656-1.html#7" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_1.gif"/></a>

    return *(*x) ; 
}
Prodaja Prodaje::DajNajskupljuProdaju() const 
{
    if(stanje==0) throw domain_error("Nema registriranih prodaja") ; 
    auto x = max_element(niz,niz+stanje, [](Prodaja* i, Prodaja* j)
            { return SkupljiStan((*i),(*j)) ; }) ; 
</font>    return *(*x) ;
}
void Prodaje::IsprazniKolekciju()
{
    for(int i = 0 ; i&lt;stanje ; i++)
        niz[i] = nullptr ; 
    niz = nullptr ; 
    stanje = 0 ; 
    kapacitet = 0 ; 
}
void Prodaje::ObrisiNajranijuProdaju()
{
    if(stanje==0) throw range_error("Prazna kolekcija") ; 
    Prodaja najranije = DajNajranijuProdaju() ; 
    for(int i = 0 ; i&lt;stanje ; i++)
    {
        if((*niz[i]).DajImeKupca()== najranije.DajImeKupca() &amp;&amp; (*niz[i]).DajCijenuStana()==najranije.DajCijenuStana() &amp;&amp; (*niz[i]).DajDatumProdaje().DajDan()==najranije.DajDatumProdaje().DajDan() &amp;&amp; (*niz[i]).DajDatumProdaje().DajMjesec() == najranije.DajDatumProdaje().DajMjesec() &amp;&amp; (*niz[i]).DajDatumProdaje().DajGodinu()==najranije.DajDatumProdaje().DajGodinu())
        {
            for(int j = i ; j&lt;stanje ; j++)
                niz[j] = niz[j+1] ; 
            niz[stanje-1] = nullptr ; 
            stanje-- ; 
        }
    }
}
void Prodaje::ObrisiProdajeNaDatum(const Datum &amp;datum)
{
<a name="1"></a><font color="#00FF00"><a href="match656-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_2.gif"/></a>

    if(stanje==0) throw range_error("Prazna kolekcija");
    for(int i=0 ; i&lt;stanje ; i++)
    {
        if((*niz[i]).DajDatumProdaje().DajDan() == datum.DajDan() &amp;&amp; (*niz[i]).DajDatumProdaje().DajMjesec() == datum.DajMjesec() &amp;&amp; (*niz[i]).DajDatumProdaje().DajGodinu() == datum.DajGodinu())
</font>        {
            for(int j=i ; j&lt;stanje ; j++)
                niz[j] = niz[j+1] ;
            niz[stanje-1] = nullptr ; 
            stanje-- ;
        }
    }
}
void Prodaje::IspisiProdajeNaDatum(const Datum &amp;datum) const
{
    if(stanje==0) throw range_error("Prazna kolekcija");
    Prodaje priv = *this ; 
    sort(priv.niz, priv.niz+stanje, [](Prodaja* i, Prodaja* j)
    {
       return (*i).DajImeKupca() &lt; (*j).DajImeKupca() ;
    });
    for(int i=0 ; i&lt;stanje ; i++)
    {
        if(((*priv.niz[i]).DajDatumProdaje().DajDan()==datum.DajDan() &amp;&amp; (*priv.niz[i]).DajDatumProdaje().DajMjesec() == datum.DajMjesec() &amp;&amp; (*priv.niz[i]).DajDatumProdaje().DajGodinu()==datum.DajGodinu()))
            (*priv.niz[i]).Ispisi();
    }
}
void Prodaje::IspisiSveProdaje() const
{
    Prodaje priv = *this ; 
    sort(priv.niz, priv.niz+stanje, [](Prodaja* i, Prodaja*j)
    {
       if(i-&gt;DajDatumProdaje().DajDan() == j-&gt;DajDatumProdaje().DajDan() &amp;&amp; i-&gt;DajDatumProdaje().DajMjesec() == j-&gt;DajDatumProdaje().DajMjesec() &amp;&amp; i-&gt;DajDatumProdaje().DajGodinu() == j-&gt;DajDatumProdaje().DajGodinu())
        return (*i).DajImeKupca() &lt; (*j).DajImeKupca() ;
       else return ProdatPrije(*i,*j) ; 
    });
    for(int i=0 ; i&lt;stanje ; i++)
    {
        (*priv.niz[i]).Ispisi() ;
    }
}


int main ()
{
    /*string add, agent, kupac;
    int sprat, dan, mjesec, godina, dan2,mjesec2,godina2 ;
    int broj_soba ;
    bool namjesten_stan ;
    double broj_kvadrata ;
    int izbor = 0 ; 
    int opcija = 0 ; 
    vector&lt;Prodaja&gt; prodaje ;
    vector&lt;Kupac&gt; kupci ; 
    vector&lt;Stan&gt; stanovi ;
    cout &lt;&lt; "Dobrodosli!" &lt;&lt; endl &lt;&lt; endl ;
    while(1)
    {
        cout &lt;&lt; "Izaberite opciju:" &lt;&lt; endl ;
        cout &lt;&lt; "0 - kraj" &lt;&lt; endl ;
        cout &lt;&lt; "1 - uredjivanje stanova" &lt;&lt; endl ; 
        cout &lt;&lt; "2 - uredjivanje kupaca" &lt;&lt; endl ; 
        cout &lt;&lt; "3 - uredjivanje prodaja" &lt;&lt; endl ;
        cin &gt;&gt; izbor ;
        if(!izbor) break ;
        else if(izbor == 1) 
        {
            while(1)
            {
                cout&lt;&lt;"Izaberite opciju:" &lt;&lt; endl ;
                cout &lt;&lt; " 0 - nazad" &lt;&lt; endl ;
                cout &lt;&lt; " 1 - dodavanje stana" &lt;&lt; endl ;
                cout &lt;&lt; " 2 - uredjivanje stanova" &lt;&lt; endl ;
                cout &lt;&lt; " 3 - ispis svih stanova" &lt;&lt; endl ;
                cout &lt;&lt; " 4 - kraj" &lt;&lt; endl ; 
                cin &gt;&gt; opcija ;
                cin.clear(); 
                cin.ignore(10000,'\n');
                if(!opcija) break ;
                else if(opcija == 1) // pocetak stan
                {
                    bool potvrda ;
                    do
                    {
                        potvrda = false ;
                        cout &lt;&lt; "Unesite adresu: " ;
                        getline(cin,add);
                        cout &lt;&lt; "Unesite sprat: " ;
                        cin &gt;&gt; sprat ;
                        cout &lt;&lt; "Unesite broj soba: " ;
                        cin &gt;&gt; broj_soba;
                        cout &lt;&lt; "Da li je stan namjesten (1 - da, 0 - ne): " ;
                        cin &gt;&gt; namjesten_stan ;
                        cout &lt;&lt; "Unesite kvadraturu: " ;
                        cin &gt;&gt; broj_kvadrata ;
                        try
                        {
                            Stan stan(add, sprat, broj_soba,namjesten_stan, broj_kvadrata) ;
                            stanovi.push_back(stan) ;
                            cout &lt;&lt; "Stan je uspjesno dodan!" &lt;&lt; endl ; 
                        }
                        catch(domain_error w)
                        {
                            cout &lt;&lt; "Izuzetak: " &lt;&lt; w.what() &lt;&lt; ". Molimo unesite opet." &lt;&lt; endl ;
                            potvrda = true ;
                        }
                    }while(potvrda==true);
                }
                else if(opcija==2)
                {
                    int stan_opcija ;
                    cout &lt;&lt; "Odaberite stan. Dostupni stanovi su:" &lt;&lt; endl ;
                    for(int i=0 ; i&lt;stanovi.size() ; i++)
                    {
                        cout &lt;&lt; i+1 &lt;&lt; " - " ;
                        stanovi[i].Ispisi();
                    }
                    cin&gt;&gt;stan_opcija;
                    cout&lt;&lt;"Odaberite polje koje zelite urediti:" &lt;&lt;endl;
                    cout&lt;&lt;" 0 - nazad" &lt;&lt;endl;
                    cout&lt;&lt;" 1 - adresa" &lt;&lt; endl ;
                    cout&lt;&lt;" 2 - sprat"&lt;&lt;endl;
                    cout&lt;&lt;" 3 - broj soba" &lt;&lt; endl ;
                    cout&lt;&lt;" 4 - da li je stan namjesten" &lt;&lt; endl ;
                    cout&lt;&lt;" 5 - kvadratura"&lt;&lt;endl;
                    cout &lt;&lt; "6 - sve" &lt;&lt; endl ;
                    int izbor_opet ;
                    cin&gt;&gt; izbor_opet;
                    if(izbor_opet==0) continue ;
                    else if(izbor_opet==1)
                    {
                        string adresa ;
                        bool ok ;
                        do
                        {
                            ok = false ;
                            cin.clear();
                            cin.ignore(10000,'\n');
                            cout &lt;&lt; "Unesite adresu: " ;
                            getline(cin,adresa);
                            try
                            {
                                stanovi[stan_opcija-1].Postavi(adresa,sprat,broj_soba,namjesten_stan,broj_kvadrata);
                                cout &lt;&lt; "Stan je uspjesno izmijenjen!" &lt;&lt; endl ; 
                            }
                            catch(domain_error w)
                            {
                                cout &lt;&lt; "Izuzetak: " &lt;&lt; w.what() &lt;&lt; ". Molimo unesite ponovo." ;
                                ok = true ;
                            }
                        }while(ok==true);
                    }
                    else if(izbor_opet==2)
                    {
                        int novi ; 
                        bool okk ;
                        do
                        {
                            okk = false ;
                            cout &lt;&lt; "Unesite sprat: " ;
                            cin&gt;&gt;novi ;
                            try
                            {
                                stanovi[stan_opcija-1].Postavi(add,novi,broj_soba,namjesten_stan,broj_kvadrata);
                                cout &lt;&lt; "Stan je uspjesno izmijenjen!" &lt;&lt; endl ; 
                            }
                            catch(domain_error w)
                            {
                                cout &lt;&lt; "Izuzetak: " &lt;&lt; w.what() &lt;&lt; ". Molimo unesite opet." &lt;&lt; endl ;
                                okk = true ;
                            }
                            
                        }while(okk==true);
                    }
                    else if(izbor_opet==3)
                    {
                        int nove_sobe ; bool okok ;
                        do
                        {
                            okok = false ; 
                            cout &lt;&lt; "Unesite broj soba: " ;
                            cin&gt;&gt;nove_sobe ; 
                            try
                            {
                                stanovi[stan_opcija-1].Postavi(add,sprat,nove_sobe,namjesten_stan,broj_kvadrata);
                                cout &lt;&lt; "Stan uspjesno izmijenjen!" &lt;&lt; endl ; 
                            }
                            catch(domain_error w)
                            {
                                cout &lt;&lt; "Izuzetak: " &lt;&lt; w.what() &lt;&lt; ". Molimo unesite opet." &lt;&lt;endl ;
                                okok = true ; 
                            }
                            
                        }while(okok==true);
                    }
                    else if(izbor_opet==4)
                    {
                        bool namjestaj ; bool kontrola ;
                        do
                        {
                            kontrola = false ; 
                            cout &lt;&lt; "Da li je stan namjesten (1 - da, 0 - ne): " ;
                            cin &gt;&gt; namjestaj;
                            try
                            {
                                stanovi[stan_opcija-1].Postavi(add,sprat, broj_soba, namjestaj, broj_kvadrata);
                                cout &lt;&lt; "Stan uspjesno izmijenjen!" &lt;&lt; endl ;
                            }
                            catch(domain_error w)
                            {
                                cout &lt;&lt; "Izuzetak: " &lt;&lt; w.what() &lt;&lt; ". Molimo unesite opet." &lt;&lt; endl ;
                                kontrola = true ; 
                            }
                        }while(kontrola==true);
                    }
                    else if(izbor_opet==5)
                    {
                        double kvadrati ; 
                        bool kon ; 
                        do
                        {
                            kon = false ; 
                            cout &lt;&lt; "Unesite kvadraturu: " ; 
                            cin &gt;&gt; kvadrati ; 
                            try
                            {
                                stanovi[stan_opcija-1].Postavi(add,sprat,broj_soba,namjesten_stan,kvadrati);
                                cout &lt;&lt; "Stan uspjesno izmijenjen!" &lt;&lt; endl ;
                            }
                            catch(domain_error w)
                            {
                                cout &lt;&lt; "Izuzetak: "&lt;&lt; w.what() &lt;&lt; ". Molimo unesite opet." &lt;&lt; endl ;
                                kon = true ; 
                            }
                        }while(kon==true);
                    }
                    else if(izbor_opet==6)
                    {
                        string adresa ;
                        int spratovi, broj ;
                        double kvad ;
                        bool nam ;
                        bool kont;
                        do
                        {
                            kont = false ; 
                            cout &lt;&lt; "Unesite adresu: " ;
                            getline(cin, adresa);
                            cin.clear();
                            cin.ignore(10000,'\n');
                            cout &lt;&lt; "Unesite sprat: ";
                            cin &gt;&gt; spratovi ;
                            cout &lt;&lt; "Unesite broj soba: " ;
                            cin &gt;&gt; broj ; 
                            cout &lt;&lt; "Da li je stan namjesten (1 - da, 0 - ne): " ;
                            cin &gt;&gt; nam ;
                            cout &lt;&lt; "Unesite kvadraturu: " ;
                            cin &gt;&gt; kvad ; 
                            try 
                            {
                                stanovi[stan_opcija-1].Postavi(adresa,spratovi, broj,nam, kvad);
                                cout &lt;&lt; "Stan uspjesno izmijenjen!" &lt;&lt; endl ;
                            }
                            catch(domain_error w)
                            {
                                cout &lt;&lt; "Izuzetak: " &lt;&lt; w.what() &lt;&lt; ". Molimo unesite ponovo." &lt;&lt; endl ; 
                                kont = true ; 
                            }
                        }while(kont == true );
                    }
                }
                else if(opcija==3)
                {
                    for(int i=0 ; i&lt;stanovi.size(); i++)
                    {
                        cout &lt;&lt; i+1 &lt;&lt; ". " ; 
                        stanovi[i].Ispisi();
                    }
                }
                else if(opcija==4)
                {
                    return 0 ; 
                }
            }
        }
            // pocetak kupci
            else if(izbor==2) 
            {
                while(1)
                {
                    int choice ; 
                    cout &lt;&lt; "Izaberite opciju:" &lt;&lt; endl ; 
                    cout &lt;&lt; " 0 - nazad" &lt;&lt; endl ;
                    cout &lt;&lt; " 1 - dodavanje kupca" &lt;&lt; endl ; 
                    cout &lt;&lt; " 2 - uredjivanje kupca" &lt;&lt;endl ; 
                    cout &lt;&lt; " 3 - ispis svih kupaca" &lt;&lt;endl ; 
                    cout &lt;&lt; " 4 - kraj" &lt;&lt; endl ;
                    cin&gt;&gt; choice ; 
                    if(!choice) break ; 
                    else if(choice ==1)
                    {
                        bool ist ;
                        do
                        {
                            try
                            {
                                ist = false ; 
                                char c = '/' ;
                                char x ; 
                                cout &lt;&lt; "Unesite ime i prezime kupca: " ; 
                                getline(cin, kupac) ;
                                cout &lt;&lt; "Unesite datum rodjenja (formata d/m/g): " ;
                                cin &gt;&gt; dan ; 
                                cin &gt;&gt; x ; 
                                if(x!=c) throw domain_error("Neispravan unos podataka") ;
                                cin &gt;&gt; mjesec ; 
                                cin &gt;&gt; x ; 
                                if(x!=c) throw domain_error("Neispravan unos podataka");
                                cin&gt;&gt;godina ;
                                Datum rodjendan(dan, mjesec, godina) ;
                                Kupac k(kupac, rodjendan) ;
                                kupci.push_back(k);
                                cout &lt;&lt; "Kupac je uspjesno dodan!" &lt;&lt; endl ;
                            }
                            catch(domain_error w)
                            {
                                cout &lt;&lt; "Izuzetak:" &lt;&lt; w.what() &lt;&lt; ". Molimo unesite ponovo." &lt;&lt; endl ;
                                ist = true ; 
                            }
                        }while(ist == true);
                    }
                    else if(choice==2)
                    {
                        cout &lt;&lt; "Odaberite kupca kojeg zelite urediti. Dostupni kupci su:" &lt;&lt; endl ; 
                        for(int i=0 ; i&lt;kupci.size();i++)
                        {
                            cout &lt;&lt; i+1 &lt;&lt; " - ";
                            kupci[i].Ispisi();
                        }
                        int izbor_kupca ; 
                        cin &gt;&gt; izbor_kupca ; 
                        char c = '/' ; 
                        char x ;
                        bool bb ;
                        do
                        {
                            bb = false ; 
                            cout &lt;&lt; "Unesite ime i prezime kupca: " ; 
                            string iime ; 
                            cin.ignore(10000,'\n') ;
                            getline(cin,iime);
                            cout &lt;&lt; "Unesite datum rodjenja (formata d/m/g):" ;
                            try
                            {
                                int dd, mm, gg ; 
                                cin &gt;&gt; dd ; 
                                cin &gt;&gt; x ; 
                                if(x!=c) throw domain_error("Neispravan unos podataka");
                                cin&gt;&gt; mm ;
                                cin &gt;&gt; x ; 
                                if(x!=c) throw domain_error("Neispravan unos podataka") ;
                                cin &gt;&gt; gg ; 
                                Datum novii(dd,mm,gg) ;
                                kupci[izbor_kupca-1].Postavi(iime, novii) ;
                                cout &lt;&lt; "Kupac je uspjesno izmijenjen!" &lt;&lt; endl ; 
                            }
                            catch(domain_error w)
                            {
                                cout &lt;&lt; "Izuzetak: "&lt;&lt; w.what() &lt;&lt; ". Molimo unesite ponovo." &lt;&lt; endl ; 
                                bb = true ; 
                            }
                        }while(bb==true) ;
                    }
                    else if(choice==3)
                    {
                        for(int i=0 ; i&lt;kupci.size() ; i++)
                            kupci[i].Ispisi();
                    }
                    else if(choice==4) return 0 ; 
                }//zavrseni kupci
            }
            else if(izbor == 3)
            {
                while(1)
                {
                    int cc ; 
                    cout &lt;&lt; "Izaberite opciju: " &lt;&lt; endl ; 
                    cout &lt;&lt; " 0 - nazad" &lt;&lt; endl ; 
                    cout &lt;&lt; " 1 - dodavanje prodaje"&lt;&lt;endl;
                    cout &lt;&lt; " 2 - uredjivanje prodaje"&lt;&lt;endl;
                    cout &lt;&lt; " 3 - ispis prodaja"&lt;&lt;endl ;
                    cout &lt;&lt; " 4 - brisanje prodaja"&lt;&lt;endl;
                    cout &lt;&lt; " 5 - kraj" &lt;&lt; endl;
                    cin&gt;&gt; cc ;
                    if(!cc) break ; 
                    else if(cc==5) return 0 ;
                    else if(cc==1)
                    {
                        int kl ;
                        cout &lt;&lt; "Izaberite opciju:" &lt;&lt; endl ; 
                        cout &lt;&lt; " 0 - nazad" &lt;&lt; endl ;
                        cout&lt;&lt;" 1 - dodavanje potpuno nove prodaje"&lt;&lt;endl;
                        cout &lt;&lt;" 2- dodavanje nove prodaje na osnovu arhive"&lt;&lt; endl;
                        cout &lt;&lt; " 3 - kraj"&lt;&lt;endl ;
                        cin&gt;&gt;kl ; 
                        if(!kl) continue ;
                        else if(kl==3) return 0 ; 
                        else if(kl==1)
                        {
                            bool unosenje ;
                            do
                            {
                                try
                                {
                                    unosenje = false ; 
                                    char x ;
                                    cin.ignore(10000,'\n') ;
                                    cout &lt;&lt; "Unestie ime i prezime agenta prodaje: ";
                                    getline(cin,agent);
                                    cout &lt;&lt; "Unesite datum prodaje (formata d/m/g): " ;
                                    cin &gt;&gt; dan2 ; 
                                    cin &gt;&gt; x ; 
                                    if(x!='/') throw domain_error("Neispravan unos podataka");
                                    cin &gt;&gt; mjesec2;
                                    cin &gt;&gt; x ; 
                                    if(x!='/') throw domain_error("Neispravan unos podataka");
                                    cin &gt;&gt; godina2 ; 
                                    Datum d(dan2,mjesec2,godina2);
                                    double cijenaa;
                                    cout &lt;&lt; "Unesite cijenu stana: " ;
                                    cin &gt;&gt; cijenaa ;
                                    string name ; 
                                    cout &lt;&lt; "Unesite ime i prezime kupca: " ; 
                                    cin.ignore(10000,'\n') ;
                                    getline(cin,name) ; 
                                    cout &lt;&lt; "Unesite datum rodjenja kupca (formata d/m/g): ";
                                    cin &gt;&gt; dan2 ; 
                                    cin &gt;&gt; x ; 
                                    if(x!='/') throw domain_error("Neispravan unos podataka");
                                    cin &gt;&gt; mjesec2 ; 
                                    cin &gt;&gt; x ; 
                                    if(x!='/') throw domain_error("Neispravan unos podataka");
                                    cin&gt;&gt; godina2 ;
                                    Datum dd(dan2, mjesec2,godina2);
                                    cin.ignore(10000,'\n');
                                    cout &lt;&lt; "Unesite adresu: ";
                                    string addr ;
                                    int spr,sob ;
                                    double kvvv;
                                    bool namje ; 
                                    getline(cin, addr) ;
                                    cout &lt;&lt; "Unesite sprat: " ; 
                                    cin &gt;&gt; spr ; 
                                    cout &lt;&lt; "Unesite broj soba: " ;
                                    cin &gt;&gt; sob ; 
                                    cout &lt;&lt; "Da li je stan namjesten (1 - da, 0 - ne): ";
                                    cin &gt;&gt; namje ; 
                                    cout &lt;&lt; "Unesite kvadraturu: " ; 
                                    cin &gt;&gt; kvvv ; 
                                    Kupac kk(name, dd) ;
                                    kupci.push_back(kk);
                                    Stan s(addr,spr,sob,namje,kvvv);
                                    stanovi.push_back(s);
                                    Prodaja p(agent, cijenaa,d,kk,s);
                                    prodaje.push_back(p);
                                    cout &lt;&lt; "Prodaja uspjesno dodana!" &lt;&lt; endl ; 
                                }
                                catch(domain_error w)
                                {
                                    cout &lt;&lt; "Izuzetak: " &lt;&lt; w.what() &lt;&lt; ". Molimo unesite ponovo." &lt;&lt; endl ;
                                    unosenje = true ;
                                }
                            }while(unosenje==true);
                        }
                        else if(kl==2)
                        {
                            bool uslov ;
                            do
                            {
                                try
                                {
                                    uslov = false ;
                                    cout &lt;&lt; "Unesite ime i prezime agenta prodaje: " ; 
                                    string imeag ; 
                                    cin.ignore(10000,'\n');
                                    getline(cin,imeag);
                                    int danpr, mjpr, gpr ;
                                    cout &lt;&lt; "Unesite datum prodaje (formata d/m/g): ";
                                    cin &gt;&gt; danpr ; 
                                    char x; 
                                    cin&gt;&gt; x ; 
                                    if(x!='/') throw domain_error("Neispravan unos podataka");
                                    cin &gt;&gt; mjpr ; 
                                    cin &gt;&gt; x ; 
                                    if(x!='/') throw domain_error("Neispravan unos podataka");
                                    cin&gt;&gt;gpr ;
                                    Datum prod(danpr, mjpr,gpr);
                                    cout &lt;&lt; "Unesite cijenu stana: " ; 
                                    double cifra ; 
                                    cin &gt;&gt; cifra ; 
                                    cout &lt;&lt; "Odaberite kupca. Dostupni kupci su: " &lt;&lt; endl ;
                                    for(int i=0 ; i&lt;kupci.size() ; i++)
                                    {
                                        cout &lt;&lt; i+1 &lt;&lt; " - "  ;
                                        kupci[i].Ispisi();
                                    }
                                    int brojkupca ; 
                                    cin&gt;&gt;brojkupca ; 
                                    cout &lt;&lt; "Odaberite stan. Dostupni stanovi su:" &lt;&lt; endl ; 
                                    for(int i=0 ; i&lt;stanovi.size();i++)
                                    {
                                        cout &lt;&lt; i+1 &lt;&lt; " - ";
                                        stanovi[i].Ispisi();
                                    }
                                    int brojstana ; 
                                    cin&gt;&gt; brojstana ;
                                    Datum rodj = kupci[brojkupca-1].DajDatumRodjenja();
                                    string kupacc = kupci[brojkupca-1].DajImePrezime();
                                    string add = stanovi[brojstana-1].DajAdresu();
                                    Prodaja pp(imeag, cifra, danpr, mjpr,gpr, kupacc, rodj,add,stanovi[brojstana-1].DajSprat(), stanovi[brojstana-1].DajBrojSoba(),stanovi[brojstana-1].DajNamjesten(),stanovi[brojstana-1].DajKvadraturu());
                                    prodaje.push_back(pp);
                                    cout &lt;&lt; "Prodaja uspjesno dodana!" &lt;&lt; endl; 
                                }
                                catch(domain_error w)
                                {
                                    cout &lt;&lt; "Izuzetak: "&lt;&lt; w.what() &lt;&lt; ". Molimo unesite ponovo." ;
                                    uslov = true ; 
                                }
                                
                            }while(uslov==true);
                        }
                    }
                    else if(cc==2)
                    {
                        return 0 ; 
                    }
                }
            }
        }*/
        
    return 0;
}</pre>
</body>
</html>
