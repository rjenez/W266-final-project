<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z3/student6824.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z3/student9388.cpp<p></p><pre>
<a name="4"></a><font color="#FF00FF"><a href="match114-0.html#4" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_7.gif"/></a>

/B 2016/2017, ZadaÄ‡a 4, Zadatak 3
//Napomena: testovi ce biti dostupni dan pred rok!
#include &lt;iostream&gt;
#include &lt;string&gt;
#include &lt;stdexcept&gt;
#include &lt;iomanip&gt;
class Datum{
  int dan, mjesec, godina;
  friend class Kupac;
  friend class Prodaja;
  public:
  Datum(int dan, int mjesec, int godina);
  void Postavi(int dan, int mjesec, int godina);
  int DajDan() const{return dan;}
  int DajMjesec() const{return mjesec;}
  int DajGodinu() const{return godina;}
  void Ispisi() const;
};
class Kupac{
  std::string ime_i_prezime;
 friend class Datum;
 friend class Prodaja;
  Datum datum_rodjenja;
  int dan{datum_rodjenja.DajDan()};
  int mjesec{datum_rodjenja.DajMjesec()};
  int godina{datum_rodjenja.DajGodinu()};
  public:    
  friend class Datum;
  friend class Prodaja;
  Kupac(const std::string &amp;ime_i_prezime, const Datum &amp;datum_rodjenja) : ime_i_prezime(ime_i_prezime), datum_rodjenja(datum_rodjenja){
      for(int i=0; i&lt;ime_i_prezime.size(); i++)
       if(!((ime_i_prezime[i]&gt;='A' &amp;&amp; ime_i_prezime[i]&lt;='Z') || (ime_i_prezime[i]&gt;='a' &amp;&amp; ime_i_prezime[i]&lt;='z') || (ime_i_prezime[i]&gt;='0' &amp;&amp; ime_i_prezime[i]&lt;='9') || ime_i_prezime[i]=='-' || ime_i_prezime[i]=='\'' || ime_i_prezime[i]==' '))
</font><a name="1"></a><font color="#00FF00"><a href="match114-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_13.gif"/></a>

       throw std::domain_error("Neispravno ime i prezime");
  }
  void Postavi(const std::string &amp;ime_i_prezime, const Datum &amp;datum_rodjenja);
  std::string DajImePrezime() const;
  Datum DajDatumRodjenja() const;
  void Ispisi() const;
};
class Stan{
    std::string adresa;
    int sprat, broj_soba;
    double kvadratura;
    bool namjesten;
    public:
     Stan(const std::string &amp;adresa, int sprat, int broj_soba, bool namjesten, double kvadratura):sprat(sprat), broj_soba(broj_soba),kvadratura(kvadratura), namjesten(namjesten){
         if(sprat &lt;0 || broj_soba&lt;0 || kvadratura&lt;0) throw std::domain_error("Neispravan unos podataka");
         Stan::adresa=adresa;
     }
     void Postavi(const std::string &amp;adresa, int sprat, int broj_soba, bool namjesten, double kvadratura);
     std::string DajAdresu() const;
     int DajSprat() const;
     int DajBrojSoba() const;
     bool DajNamjesten() const;
     double DajKvadraturu() const;
     void Ispisi() const;
};
class Prodaja{
    friend class Datum;
    friend class Kupac;
    friend class Stan;
    std::string ime_agenta_prodaje, ime_kupca, adresa_stana;
    double cijena_stana, broj_kvadrata;
    Datum datum;
    Kupac kupac_stana;
    Stan kupljeni_stan;
    bool namjesten_stan;
    int dan_prodaje, mjesec_prodaje, godina_prodaje, sprat_stana, broj_soba;
    public:
    friend class Datum;
    friend class Kupac;
    friend class Stan;
    Prodaja(const std::string &amp;ime_agenta_prodaje, double cijena_stana, const Datum &amp;datum_prodaje, const Kupac &amp;kupac_stana, const Stan &amp;kupljeni_stan): cijena_stana(cijena_stana),datum(datum_prodaje),
     kupac_stana(kupac_stana),kupljeni_stan(kupljeni_stan){
         Prodaja::ime_agenta_prodaje=ime_agenta_prodaje;
     }
    Prodaja(const std::string &amp;ime_agenta_prodaje, double cijena_stana, int dan_prodaje, int mjesec_prodaje, int godina_prodaje, std::string &amp;ime_kupca, const Datum &amp;datum_rodjenja_kupca, 
</font><a name="3"></a><font color="#00FFFF"><a href="match114-0.html#3" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_10.gif"/></a>

     const std::string &amp;adresa_stana, int sprat_stana, int broj_soba, bool namjesten_stan, double broj_kvadrata) : cijena_stana(cijena_stana), 
     datum(datum_rodjenja_kupca), dan_prodaje(dan_prodaje),mjesec_prodaje(mjesec_prodaje),godina_prodaje(godina_prodaje),
     broj_kvadrata(broj_kvadrata), sprat_stana(sprat_stana),kupac_stana(ime_kupca, datum_rodjenja_kupca),broj_soba(broj_soba),namjesten_stan(namjesten_stan), kupljeni_stan(adresa_stana, sprat_stana, broj_soba, namjesten_stan, broj_kvadrata){
        Prodaja::ime_agenta_prodaje=ime_agenta_prodaje; 
        Prodaja::ime_kupca=ime_kupca;
        Prodaja::adresa_stana=adresa_stana;
     }
     void PromijeniKupca(const Kupac &amp;novi_kupac);
     void PromijeniStan(const Stan &amp;novi_stan);
     void PromijeniDatumKupovine(const Datum &amp;novi_datum);
     void PromijeniCijenuProdaje(const double &amp;nova_cijena);
     void PomjeriDanUnaprijed();
     void PomjeriDanUnazad();
     std::string DajImeAgenta() const;
     std::string DajImeKupca() const;
     Datum DajDatumProdaje() const;
     double DajCijenuStana() const;
     friend bool ProdatPrije(const Prodaja &amp;p1, const Prodaja &amp;p2);
     friend bool SkupljiStan(const Prodaja &amp;p1, const Prodaja &amp;p2);
     void Ispisi() const;
};
int main (){
 try{
     std::string adresa;
     int sprat{0}, broj_soba{0}, namjesten{0};
     double kvadratura{0};
     int izbor{-1}, izbor1{-1};
     std::cout &lt;&lt;"Dobrodosli!"&lt;&lt;std::endl;
     std::cout &lt;&lt;std::endl;
     while(izbor!=0){
         std::cout &lt;&lt;"Izaberite opciju:"&lt;&lt;std::endl;
         std::cout &lt;&lt;" 0 - kraj"&lt;&lt;std::endl;
</font>         std::cout &lt;&lt;" 1 - uredjivanje stanova"&lt;&lt;std::endl;
<a name="2"></a><font color="#0000FF"><a href="match114-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_11.gif"/></a>

         std::cout &lt;&lt;" 2 - uredjivanje kupaca"&lt;&lt;std::endl;
         std::cout &lt;&lt;" 3 - uredjivanje prodaja"&lt;&lt;std::endl;
         std::cin &gt;&gt;izbor;
         switch(izbor){
             case 1:
               while(izbor1!=0){
                   std::cout &lt;&lt;" 0 - nazad"&lt;&lt;std::endl;
                   std::cout &lt;&lt;" 1 - dodavanje stana"&lt;&lt;std::endl;
                   std::cout &lt;&lt;" 2 - uredjivanje stanova"&lt;&lt;std::endl;
                   std::cout &lt;&lt;" 3 - ispis svih stanova"&lt;&lt;std::endl;
                   std::cout &lt;&lt;" 4 -kraj"&lt;&lt;std::endl;
                   switch(izbor1){
                       case 1:
                        std::cout &lt;&lt;"Unesite adresu: ";
                        std::getline(std::cin,adresa);
                        std::cout &lt;&lt;"Unesite sprat: ";
                        std::cin &gt;&gt;sprat;
                        std::cout &lt;&lt;"Unesite broj soba: ";
                        std::cin &gt;&gt;broj_soba;
                        std::cout &lt;&lt;"Da li je stan namjesten(1 - da, 0 - ne): ";
                        std::cin &gt;&gt;namjesten;
                        std::cout &lt;&lt;"Unesite kvadraturu: ";
                        std::cin &gt;&gt;kvadratura;
                        if(sprat&lt;0 || broj_soba&lt;0 || kvadratura &lt;0) throw std::domain_error("Izuzetak: Neispravan unos podataka. Molimo unesite opet.");
                        case 0: break;
                   }
               }
               case 0: break;
         }
     }
 /*   Datum dat(15,5,2017);
    dat.Ispisi();
    std::cout &lt;&lt;std::endl;
    dat.Postavi(16,5,2017);
    dat.Ispisi();*/
   /* std::cout &lt;&lt;std::endl;
    std::cout&lt;&lt;dat.DajDan()&lt;&lt;".";
    std::cout&lt;&lt;dat.DajMjesec()&lt;&lt;".";
    std::cout&lt;&lt;dat.DajGodinu();*/
  //  Kupac kupac("Nihad Biogradlija",{2,1,1962});
   // kupac.Ispisi();
  //  kupac.DajDatumRodjenja().Ispisi();
    //std::cout &lt;&lt;kupac.DajImePrezime();
    //kupac.Ispisi();
  //  kupac.Postavi("Senija Biogradlija",{19,11,1996});
 // Stan stan("Hamdije Cemerlica 14",1,31,false,39.21);
  //stan.Ispisi();
 //kupac.PromijeniKupca("Suljo Suljic",{21,9,1982});
 // Prodaja prodaja2("Niko Nikic", 78985, {31,12,2017}, {"Mujo Mujic",{21,9,1982}},{"Hamdije Cemerlica 14",5,5,true,35.45});
 // Prodaja prodaja1("Senija Biogradlija", 25000, {31,12,2017},{"Suljo Suljic",{19,11,1996}},{"Bulevar Kulina bana 2",5,5,true,39.21});
 // std::cout &lt;&lt;std::boolalpha&lt;&lt;SkupljiStan(prodaja1,prodaja2);
 //prodaja.DajDatumProdaje().Ispisi();
// std::cout &lt;&lt;prodaja.DajCijenuStana()&lt;&lt;std::endl;
 // prodaja.PromijeniKupca({"Suljo Suljic",{21,9,1982}});
// prodaja.PromijeniDatumKupovine({20,9,2017});
//  prodaja.PromijeniCijenuProdaje(25000);
//  prodaja.PromijeniStan({"Bulevar Kulina bana 2",7,3,true,45});
//  Prodaja prodaja("Niko Nikic", 78985, 27,5,2017,(std::string &amp;)"Mujo Mujic",{21,9,1982},"Hamdije Cemerlica 14",5,5,true,35.45);
  //prodaja.PomjeriDanUnazad();
 // prodaja.Ispisi();
 }
 catch(std::domain_error izuzetak){
  std::cout &lt;&lt;izuzetak.what()&lt;&lt;std::endl;     
 }
 return 0;
}
Datum::Datum(int dan, int mjesec, int godina){
    int broj_dana[]{31,28,31,30,31,30,31,31,30,31,30,31};
</font><a name="0"></a><font color="#FF0000"><a href="match114-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_52.gif"/></a>

    if((godina%4==0 &amp;&amp; godina%100!=0) || godina%400==0) broj_dana[1]++;
    if(dan&lt;1 || dan&gt;broj_dana[mjesec-1] || mjesec&lt;1 || mjesec&gt;12 || godina&lt;1){
        std::cout&lt;&lt;dan&lt;&lt;" "&lt;&lt;mjesec&lt;&lt;" "&lt;&lt;godina;
        throw std::domain_error("Neispravan datum");
    }
    Datum::dan=dan; Datum::mjesec=mjesec; Datum::godina=godina;
}
void Datum::Postavi(int dan, int mjesec, int godina){
    Datum::dan=dan; Datum::mjesec=mjesec; Datum::godina=godina;
}
void Datum::Ispisi() const{
    std::cout &lt;&lt;dan&lt;&lt;"/"&lt;&lt;mjesec&lt;&lt;"/"&lt;&lt;godina;
}
void Kupac::Postavi(const std::string &amp;ime_i_prezime, const Datum &amp;datum_rodjenja){
    Kupac::ime_i_prezime=ime_i_prezime;
    Kupac::datum_rodjenja=datum_rodjenja;
}
void Kupac::Ispisi() const{
    std::cout &lt;&lt;ime_i_prezime&lt;&lt;" (";
    datum_rodjenja.Ispisi();
    std::cout &lt;&lt;")";
}
std::string Kupac::DajImePrezime() const{
    return Kupac::ime_i_prezime;
}
Datum Kupac::DajDatumRodjenja() const{
    return Kupac::datum_rodjenja;
}
void Stan::Ispisi() const{
    std::cout &lt;&lt;"Stan se nalazi na adresi "&lt;&lt;DajAdresu()&lt;&lt;" na "&lt;&lt;DajSprat()&lt;&lt;". spratu i ima "&lt;&lt;DajBrojSoba();
    if(DajBrojSoba()%10==5 || DajBrojSoba()%10==6 || DajBrojSoba()%10==7 || DajBrojSoba()%10==8 || DajBrojSoba()%10==9 || (DajBrojSoba()&gt;=11 &amp;&amp; DajBrojSoba()&lt;=19) || DajBrojSoba()%10==0)
    std::cout&lt;&lt;" soba."&lt;&lt;std::endl;
    else if(DajBrojSoba()%10==2 || DajBrojSoba()%10==3 || DajBrojSoba()%10==4)
    std::cout &lt;&lt;" sobe."&lt;&lt;std::endl;
    else std::cout &lt;&lt;" sobu."&lt;&lt;std::endl;
    std::cout &lt;&lt;"Kvadratura stana je "&lt;&lt;DajKvadraturu()&lt;&lt;" (m^2) i stan";
    bool t{Stan::DajNamjesten()};
    if(t==true) std::cout &lt;&lt;" je namjesten.";
    else std::cout &lt;&lt;" nije namjesten.";
}
std::string Stan::DajAdresu() const{
    return Stan::adresa;
}
int Stan::DajSprat() const{
    return Stan::sprat;
}
int Stan::DajBrojSoba() const{
    return Stan::broj_soba;
}
double Stan::DajKvadraturu() const{
    return Stan::kvadratura;
}
bool Stan::DajNamjesten() const{
    return Stan::namjesten;
}
std::string Prodaja::DajImeAgenta() const{
    return Prodaja::ime_agenta_prodaje;
}
Datum Prodaja::DajDatumProdaje() const{
    return Prodaja::datum;
}
double Prodaja::DajCijenuStana() const{
    return Prodaja::cijena_stana;
}
void Prodaja::Ispisi() const{
    std::cout &lt;&lt;"Ime agenta: "&lt;&lt;std::setw(30)&lt;&lt;std::right&lt;&lt;DajImeAgenta()&lt;&lt;std::endl;
    std::cout &lt;&lt;"Ime kupca: "&lt;&lt;std::setw(31)&lt;&lt;std::right;
    Prodaja::kupac_stana.Ispisi();
    std::cout &lt;&lt;std::endl;
    std::cout &lt;&lt;std::setw(32)&lt;&lt;std::left&lt;&lt;"Zakazani datum prodaje: "&lt;&lt;std::right;
    Prodaja::datum.Ispisi();
    std::cout &lt;&lt;std::endl;
    std::cout &lt;&lt;std::setw(32)&lt;&lt;std::left&lt;&lt;"Cijena stana: "&lt;&lt;std::right&lt;&lt;Prodaja::cijena_stana&lt;&lt;std::endl;
    Prodaja::kupljeni_stan.Ispisi();
}
void Prodaja::PromijeniKupca(const Kupac &amp;novi_kupac){
    Prodaja::kupac_stana=novi_kupac;
}
void Prodaja::PromijeniDatumKupovine(const Datum &amp;novi_datum){
    Prodaja::datum=novi_datum;
}
void Prodaja::PromijeniCijenuProdaje(const double &amp;nova_cijena){
    Prodaja::cijena_stana=nova_cijena;
}
void Prodaja::PromijeniStan(const Stan &amp;novi_stan){
    Prodaja::kupljeni_stan=novi_stan;
}
void Prodaja::PomjeriDanUnaprijed(){
    int mjesec{Prodaja::datum.Datum::DajMjesec()};
    int godina{Prodaja::datum.Datum::DajGodinu()};
    int broj_dana[]{31,28,31,30,31,30,31,31,30,31,30,31};
    if((godina%4==0 &amp;&amp; godina%100!=0) || godina%400==0) broj_dana[1]++;
    int dan{Prodaja::datum.Datum::DajDan()+1};
    if(dan&gt;broj_dana[mjesec-1]) {
        if(mjesec!=12){
            dan=1;
            mjesec++;
        }
        else{
            dan=1;
            mjesec=1;
            godina++;
        }
    }
    Datum dat(dan,mjesec,godina);
    PromijeniDatumKupovine(dat);
}
void Prodaja::PomjeriDanUnazad(){
    int mjesec{Prodaja::datum.Datum::DajMjesec()};
    int godina{Prodaja::datum.Datum::DajGodinu()};
    int broj_dana[]{31,28,31,30,31,30,31,31,30,31,30,31};
    if((godina%4==0 &amp;&amp; godina%100!=0) || godina%400==0) broj_dana[1]++;
    int dan{Prodaja::datum.Datum::DajDan()-1};
    if(dan&lt;1){
     if(mjesec!=1){dan=broj_dana[mjesec-2]; mjesec--;}
     else {dan=broj_dana[11]; mjesec=12; godina--;}
    }
    Datum dat(dan,mjesec,godina);
    PromijeniDatumKupovine(dat);
}
bool ProdatPrije(const Prodaja &amp;p1, const Prodaja &amp;p2){
    int dani1{0}, dani2{0}, danx1{0}, danx2{0};
    int broj_dana[]{31,59,90,120,151,181,212,243,273,304,335,365};
    int mjesec1{p1.Prodaja::datum.Datum::DajMjesec()}, mjesec2{p2.Prodaja::datum.Datum::DajMjesec()};
    danx1=(p1.Prodaja::datum.Datum::DajGodinu()-1)/4;
    danx2=(p2.Prodaja::datum.Datum::DajGodinu()-1)/4;
    dani1=(p1.Prodaja::datum.DajGodinu()-1)*365+broj_dana[mjesec1-1]+p1.Prodaja::datum.Datum::DajDan()+danx1;
    dani2=(p2.Prodaja::datum.DajGodinu()-1)*365+broj_dana[mjesec2-1]+p2.Prodaja::datum.Datum::DajDan()+danx2;
    if(dani1&lt;dani2) return true;
    return false;
}
bool SkupljiStan(const Prodaja &amp;p1, const Prodaja &amp;p2){
    double cijena_stana1{0}, cijena_stana2{0};
    cijena_stana1=p1.Prodaja::DajCijenuStana();
    cijena_stana2=p2.Prodaja::DajCijenuStana();
    if(cijena_stana1&gt;cijena_stana2) return true;
</font>    return false;
}</pre>
</body>
</html>
