<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z3/student6874.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z3/student6874.cpp<p></p><pre>
/B 2016/2017, ZadaÄ‡a 4, Zadatak 3
//Napomena: testovi ce biti dostupni dan pred rok!
#include &lt;iostream&gt;
#include &lt;stdexcept&gt;
#include &lt;string&gt;
#include &lt;iomanip&gt;
#include &lt;algorithm&gt;
#include &lt;initializer_list&gt;
#include &lt;vector&gt;
class Datum{
    int dan, mjesec, godina;
    public:
      Datum(int dan, int mjesec, int godina){ Postavi(dan, mjesec, godina);}
      void Postavi(int dan, int mjesec, int godina);
      int DajDan() const {return dan;}
      int DajMjesec() const {return mjesec;}
      int DajGodinu() const {return godina;}
<a name="6"></a><font color="#00FF00"><a href="match502-1.html#6" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_0.gif"/></a>

      void Ispisi() const {std::cout&lt;&lt;dan&lt;&lt;"/"&lt;&lt;mjesec&lt;&lt;"/"&lt;&lt;godina;}
};

void Datum::Postavi (int dan, int mjesec, int godina){
    int broj_dana[12]{31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31};
</font>    if((godina%4==0 &amp;&amp; godina%100!=0) || godina%400==0) broj_dana[1]++;
    if(godina&lt;1 || dan&lt;1 || mjesec&lt;1 || mjesec&gt;12 || dan&gt;broj_dana[mjesec-1])
      throw std::domain_error ("Neispravan datum");
    Datum::dan = dan; Datum::mjesec = mjesec; Datum::godina = godina;
}

class Kupac{
  std::string ime_i_prezime;
  Datum datum;
  public:
    Kupac (const std::string &amp;ime_i_prezime,const Datum &amp;datum_rodjenja):datum(datum_rodjenja){
      for(int i=0; i&lt;ime_i_prezime.length(); i++)
      if(! ((ime_i_prezime[i]&gt;='a' &amp;&amp; ime_i_prezime[i]&lt;='z') || (ime_i_prezime[i]&gt;='A' &amp;&amp; ime_i_prezime[i]&lt;='Z') || (ime_i_prezime[i]&gt;=0 &amp;&amp; ime_i_prezime[i]&lt;=9 ) || ime_i_prezime[i]==' ' || ime_i_prezime[i]=='-' || ime_i_prezime[i]==39) )
        throw std::domain_error("Neispravno ime i prezime");
      Kupac::ime_i_prezime = ime_i_prezime;
    }
    void Postavi(const std::string &amp;ime_i_prezime, const Datum &amp;datum_rodjenja);
    std::string DajImePrezime() const {return ime_i_prezime;}
    Datum DajDatumRodjenja() const {return datum;}
<a name="3"></a><font color="#00FFFF"><a href="match502-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_0.gif"/></a>

    void Ispisi() const {std::cout&lt;&lt;ime_i_prezime&lt;&lt;" "&lt;&lt;"("&lt;&lt;datum.DajDan()&lt;&lt;"/"&lt;&lt;datum.DajMjesec()&lt;&lt;"/"&lt;&lt;datum.DajGodinu()&lt;&lt;")";}
  
};

void Kupac::Postavi(const std::string &amp;ime_i_prezime, const Datum &amp;datum_rodjenja){
  for (int i=0; i&lt;ime_i_prezime.length(); i++){
    if(!((ime_i_prezime[i]&gt;='a' &amp;&amp; ime_i_prezime[i]&lt;='z') || (ime_i_prezime[i]&gt;='A' &amp;&amp; ime_i_prezime[i]&lt;='Z') || (ime_i_prezime[i]&gt;='0' &amp;&amp; ime_i_prezime[i]&lt;='9') || ime_i_prezime[i]==' ' || ime_i_prezime[i]=='-' || ime_i_prezime[i]==39))
</font>       throw std::domain_error("Neispravno ime i prezime");
  }
    Kupac::datum.Postavi(datum_rodjenja.DajDan(), datum_rodjenja.DajMjesec(), datum_rodjenja.DajGodinu());
    Kupac::ime_i_prezime = ime_i_prezime;
}

class Stan{
  std::string adresa;
  int sprat;
  int broj_soba;
  bool namjesten;
  double kvadratura;
  public:
   Stan(const std::string &amp;adresa,int sprat, int broj_soba, bool namjesten, double kvadratura){Postavi(adresa, sprat, broj_soba, namjesten, kvadratura);}
   void Postavi(const std::string &amp;adresa, int sprat, int broj_soba, bool namjesten, double kvadratura);
   std::string DajAdresu() const {return adresa;}
   int DajSprat() const {return sprat;}
   int DajBrojSoba() const {return broj_soba;}
   bool DajNamjesten() const {return namjesten;}
   double DajKvadraturu() const {return kvadratura;}
   void Ispisi() const;
  
};

void  Stan::Postavi(const std::string &amp;adresa,int sprat, int broj_soba, bool namjesten, double kvadratura){
  if(broj_soba&lt;0 || kvadratura&lt;0)
    throw std::domain_error("Neispravan unos podataka");
  Stan::adresa = adresa;
  Stan::broj_soba = broj_soba;
  Stan::namjesten = namjesten;
  Stan::kvadratura = kvadratura;
  Stan::sprat = sprat;
}

void Stan::Ispisi() const{
  std::cout&lt;&lt;"Stan se nalazi na adresi "&lt;&lt;adresa&lt;&lt;" na "&lt;&lt; sprat&lt;&lt;". spratu i ima "&lt;&lt;broj_soba;
  if(broj_soba&gt;=5 &amp;&amp; broj_soba&lt;=20)
    std::cout&lt;&lt;" soba.";
  else if(broj_soba%10==1)
    std::cout &lt;&lt;" sobu.";
  else if(broj_soba%10==2 || broj_soba%10==3 || broj_soba%10==4)
    std::cout&lt;&lt;" sobe.";
  std::cout&lt;&lt;" Kvadratura stana je "&lt;&lt;kvadratura&lt;&lt;" (m^2) i stan ";
  if(namjesten)
   std::cout&lt;&lt;"je ";
  else
    std::cout&lt;&lt;"nije ";
  std::cout&lt;&lt;"namjesten.";
}

class Prodaja{
  std::string ime_agenta_prodaje;
  double cijena_stana;
  Datum datum_prodaje;
  Kupac kupac_stana;
  Stan kupljeni_stan;
  public:
    Prodaja(const std::string &amp;ime_agenta_prodaje, double cijena_stana, const Datum &amp;datum_prodaje, const Kupac &amp;kupac_stana, const Stan &amp;kupljeni_stan);
    Prodaja(const std::string &amp;ime_agenta_prodaje, double cijena_stana, int dan_prodaje, int mjesec_prodaje, int godina_prodaje, std::string &amp;ime_kupca, const Datum &amp;datum_rodjenja_kupca, const std::string &amp;adresa_stana, int sprat_stana, int broj_soba, bool namjesten_stan, double broj_kvadrata);
    void PromijeniKupca(const Kupac &amp;novi_kupac) {kupac_stana = novi_kupac;}
    void PromijeniStan(const Stan &amp;novi_stan) {kupljeni_stan = novi_stan;}
    void PromijeniDatumKupovine(const Datum &amp;novi_datum) {datum_prodaje = novi_datum;}
    void PromijeniCijenuProdaje(const double &amp;nova_cijena) {cijena_stana = nova_cijena;}
    void PomjeriDanUnaprijed();
    void PomjeriDanUnazad();
    std::string DajImeAgenta() const {return ime_agenta_prodaje;}
    std::string DajImeKupca() const {return kupac_stana.DajImePrezime();}
    Datum DajDatumProdaje() const {return datum_prodaje;}
    double DajCijenuStana() const {return cijena_stana;}
    friend bool ProdatPrije (const Prodaja &amp;p1, const Prodaja &amp;p2);
    friend bool SkupljiStan(const Prodaja &amp;p1, const Prodaja &amp;p2);
    void Ispisi() const;
  
};

<a name="1"></a><font color="#00FF00"><a href="match502-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_1.gif"/></a>

Prodaja::Prodaja (const std::string &amp;ime_agenta_prodaje,double cijena_stana, const Datum &amp;datum_prodaje, const Kupac &amp;kupac_stana, const Stan &amp;kupljeni_stan) : datum_prodaje(datum_prodaje.DajDan(), datum_prodaje.DajMjesec(), datum_prodaje.DajGodinu()), kupac_stana(kupac_stana.DajImePrezime(), kupac_stana.DajDatumRodjenja()), kupljeni_stan(kupljeni_stan.DajAdresu(), kupljeni_stan.DajSprat(), kupljeni_stan.DajBrojSoba(), kupljeni_stan.DajNamjesten(), kupljeni_stan.DajKvadraturu()) {
  Prodaja::ime_agenta_prodaje = ime_agenta_prodaje;
</font>  Prodaja::cijena_stana = cijena_stana;
  
}

Prodaja::Prodaja (const std::string &amp;ime_agenta_prodaje, double cijena_stana, int dan_prodaje, int mjesec_prodaje, int godina_prodaje, std::string &amp;ime_kupca, const Datum &amp;datum_rodjenja_kupca, const std::string &amp;adresa_stana, int sprat_stana, int broj_soba, bool namjesten_stan, double broj_kvadrata) : datum_prodaje(dan_prodaje, mjesec_prodaje, godina_prodaje), kupac_stana(ime_kupca, datum_rodjenja_kupca), kupljeni_stan(adresa_stana, sprat_stana, broj_soba, namjesten_stan, broj_kvadrata){
   Prodaja::ime_agenta_prodaje = ime_agenta_prodaje;
<a name="8"></a><font color="#00FFFF"><a href="match502-1.html#8" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_0.gif"/></a>

   Prodaja::cijena_stana = cijena_stana;
}

void Prodaja::PomjeriDanUnaprijed() {
  int broj_dana[12]{31, 28, 31, 30, 31, 30, 31, 31, 30, 31,30, 31};
</font>  if((datum_prodaje.DajGodinu()%4==0 &amp;&amp; datum_prodaje.DajGodinu()%100!=0) || datum_prodaje.DajGodinu()%400==0)
    broj_dana[1]++;
  int dan (datum_prodaje.DajDan()), mjesec(datum_prodaje.DajMjesec()), godina(datum_prodaje.DajGodinu());
  dan++;
  if(dan&gt;broj_dana[mjesec-1]){
    dan=1;
    mjesec++;
  }
  if(mjesec&gt;12){
    mjesec = 1;
    godina++;
  }
<a name="9"></a><font color="#FF00FF"><a href="match502-1.html#9" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_0.gif"/></a>

  datum_prodaje.Postavi(dan, mjesec, godina);
}

void Prodaja::PomjeriDanUnazad() {
  int broj_dana[12] {31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31};
</font><a name="13"></a><font color="#00FFFF"><a href="match502-1.html#13" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_0.gif"/></a>

  int dan(datum_prodaje.DajDan()), mjesec(datum_prodaje.DajMjesec()), godina(datum_prodaje.DajGodinu());
  if((godina%4==0 &amp;&amp; godina%100!=0) || godina%400==0)
    broj_dana[1]++;
</font>  dan--;
  if(dan&lt;1){
    mjesec--;
    if(mjesec&gt;=1){
      dan = broj_dana[mjesec - 1];
    }
    else{
      mjesec = 12;
      dan = 31;
      godina--;
    }
    
  }
<a name="10"></a><font color="#FF0000"><a href="match502-1.html#10" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_0.gif"/></a>

  datum_prodaje.Postavi(dan, mjesec, godina);
}

bool ProdatPrije (const Prodaja &amp;p1, const Prodaja &amp;p2){
  if(p1.datum_prodaje.DajGodinu()&lt;p2.datum_prodaje.DajGodinu())
</font>    return true;
  else if(p1.datum_prodaje.DajGodinu()&gt;p2.datum_prodaje.DajGodinu())
    return false;
  if(p1.datum_prodaje.DajMjesec()&lt;p2.datum_prodaje.DajMjesec())
    return true;
  else if(p1.datum_prodaje.DajMjesec()&gt;p2.datum_prodaje.DajMjesec())
<a name="14"></a><font color="#FF00FF"><a href="match502-1.html#14" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_0.gif"/></a>

    return false;
  if(p1.datum_prodaje.DajDan()&lt;p2.datum_prodaje.DajDan())
    return true;
  return false;
}

bool SkupljiStan (const Prodaja &amp;p1, const Prodaja &amp;p2){
</font>  return p1.cijena_stana&gt;p2.cijena_stana;
}

void Prodaja::Ispisi() const{
  std::cout&lt;&lt;std::setw(25)&lt;&lt;"Ime agenta: "&lt;&lt;std::left&lt;&lt;std::setw(30)&lt;&lt;ime_agenta_prodaje&lt;&lt;std::endl;
  std::cout&lt;&lt;std::right&lt;&lt;std::setw(25)&lt;&lt;"Ime kupca: "&lt;&lt;std::left&lt;&lt;std::setw(30)&lt;&lt;kupac_stana.DajImePrezime()&lt;&lt;std::endl;
  std::cout&lt;&lt;std::right&lt;&lt;std::setw(25)&lt;&lt;"Zakazani datum prodaje: "&lt;&lt;std::left&lt;&lt;std::setw(30); datum_prodaje.Ispisi(); std::cout&lt;&lt;std::endl;
  std::cout&lt;&lt;std::right&lt;&lt;std::setw(25)&lt;&lt;"Cijena stana: "&lt;&lt;std::left&lt;&lt;std::setw(30)&lt;&lt;cijena_stana&lt;&lt;std::endl;
  std::cout&lt;&lt;std::right&lt;&lt;std::setw(25)&lt;&lt;"Informacije o stanu: "&lt;&lt;std::endl;
  kupljeni_stan.Ispisi();
  
}

class Prodaje{
  const int max_br_prodaja;
  int broj_registriranih;
  Prodaja **prodaje;
  static bool IstiDatum(const Datum &amp;d1, const Datum &amp;d2){
    return (d1.DajDan()==d2.DajDan() &amp;&amp; d1.DajMjesec()==d2.DajMjesec() &amp;&amp; d1.DajGodinu()==d2.DajGodinu());
  }
  public:
<a name="7"></a><font color="#0000FF"><a href="match502-1.html#7" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_0.gif"/></a>

    explicit Prodaje(int max_br_prodaja) : max_br_prodaja(max_br_prodaja), broj_registriranih(0), prodaje(new Prodaja *[max_br_prodaja]) {}
    Prodaje(std::initializer_list&lt;Prodaja&gt; spisak_prodaja);
    ~Prodaje();
    Prodaje(const Prodaje &amp;prodaje);
    Prodaje(Prodaje &amp;&amp;prodaje);
    Prodaje &amp;operator= (const Prodaje &amp;prodaje);
</font>    Prodaje &amp;operator= (Prodaje &amp;&amp;prodaje);
    void RegistrirajProdaju(const std::string &amp;ime_agenta_prodaje, double cijena_stana, const Datum &amp;datum_prodaje, const Kupac &amp;kupac_stana, const Stan &amp;kupljeni_stan);
    void RegistrirajProdaju(const std::string &amp;ime_agenta_prodaje,double cijena_stana, int dan_prodaje, int mjesec_prodaje, int godina_prodaje, std::string &amp;ime_kupca, const Datum &amp;datum_rodjenja_kupca, const std::string &amp;adresa_stana, int sprat_stana, int broj_soba, bool namjesten_stan, double broj_kvadrata);
    void RegistrirajProdaju(Prodaja *prodaja);
    int DajBrojProdaja() const {return broj_registriranih;}
    int DajBrojProdajaNaDatum(const Datum &amp;datum) const;
    int DajBrojProdajaOdAgenta(const std::string &amp;ime_agenta) const;
    Prodaja &amp;DajNajranijuProdaju();
    Prodaja DajNajranijuProdaju() const;
    Prodaja &amp;DajNajskupljuProdaju();
    Prodaja DajNajskupljuProdaju() const;
    void IsprazniKolekciju();
    void ObrisiNajranijuProdaju();
<a name="2"></a><font color="#0000FF"><a href="match502-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_0.gif"/></a>

    void ObrisiProdajeAgenta(const std::string &amp;ime_agenta);
    void ObrisiProdajeNaDatum(const Datum &amp;datum);
    void IspisiProdajeNaDatum(const Datum &amp;datum) const;
    void IspisiSveProdaje() const;
  
};

Prodaje::Prodaje (std::initializer_list&lt;Prodaja&gt; lista) : max_br_prodaja(lista.size()), broj_registriranih(lista.size()), prodaje(new Prodaja *[lista.size()]){
    auto p(lista.begin());
</font>    for(int i=0; i&lt;lista.size(); i++){
      prodaje[i] = new Prodaja(*p);
      p++;
    }
}

Prodaje::~Prodaje(){
<a name="15"></a><font color="#FF0000"><a href="match502-1.html#15" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_0.gif"/></a>

  for(int i=0; i&lt;broj_registriranih; i++) delete prodaje[i];
  delete[] prodaje;
}

Prodaje::Prodaje(const Prodaje &amp;p) : prodaje(new Prodaja*[p.max_br_prodaja]{}), max_br_prodaja(p.max_br_prodaja), broj_registriranih(p.broj_registriranih){
</font>  try{
    for(int i=0; i&lt;p.broj_registriranih; i++)
      prodaje[i] = new Prodaja(*p.prodaje[i]);
  }
  catch(...){
    for(int i=0; i&lt;p.broj_registriranih; i++)
      delete prodaje[i];
    delete[] prodaje;
<a name="4"></a><font color="#FF00FF"><a href="match502-1.html#4" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_0.gif"/></a>

    throw;
  }
  
}

Prodaje::Prodaje (Prodaje &amp;&amp;p) : prodaje(p.prodaje), max_br_prodaja(p.max_br_prodaja), broj_registriranih(p.broj_registriranih){
   p.prodaje = nullptr;
   p.broj_registriranih = 0;
}

Prodaje &amp;Prodaje::operator=(const Prodaje &amp;p){
</font>  if(p.max_br_prodaja !=max_br_prodaja)
<a name="0"></a><font color="#FF0000"><a href="match502-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_2.gif"/></a>

    throw std::domain_error("Nesaglasne velicine nizova");
  if(p.broj_registriranih &gt; broj_registriranih){
    try{
    for(int i=broj_registriranih; i&lt;p.broj_registriranih; i++){
       prodaje[i] = new Prodaja(*p.prodaje[i]);
    }
    }
    catch(...){
      for(int i=broj_registriranih; i&lt;p.broj_registriranih; i++){
        delete prodaje[i];
        prodaje[i] = nullptr;
      }
      throw;
    }
  }
  else{
    for(int i=p.broj_registriranih; i&lt;broj_registriranih; i++){
      delete prodaje[i];
      prodaje[i] = nullptr;
    }
    
  }
  broj_registriranih = p.broj_registriranih;
  for(int i=0; i&lt;broj_registriranih; i++) *prodaje[i] = *p.prodaje[i];
  return *this;
</font>  
}

Prodaje &amp;Prodaje::operator=(Prodaje &amp;&amp;p){
  if(p.max_br_prodaja!=max_br_prodaja)
     throw std::domain_error("Razliciti kapaciteti nizova");
  std::swap(broj_registriranih, p.broj_registriranih);
  std::swap(prodaje, p.prodaje);
  return *this;
}

void Prodaje::RegistrirajProdaju(const std::string &amp;ime_agenta_prodaje, double cijena_stana, const Datum &amp;datum_prodaje, const Kupac &amp;kupac_stana, const Stan &amp;kupljeni_stan){
  Prodaja p(ime_agenta_prodaje, cijena_stana, datum_prodaje, kupac_stana, kupljeni_stan);
  if(broj_registriranih==max_br_prodaja)
    throw std::range_error("Dostignut maksimalni broj prodaja");
  try{
    prodaje[broj_registriranih++] = new Prodaja(p);
  }
  catch(...){
    //broj_registriranih--;
    throw;
    
  }
}

void Prodaje::RegistrirajProdaju(const std::string &amp;ime_agenta_prodaje,double cijena_stana, int dan_prodaje, int mjesec_prodaje, int godina_prodaje, std::string &amp;ime_kupca, const Datum &amp;datum_rodjenja_kupca, const std::string &amp;adresa_stana, int sprat_stana, int broj_soba, bool namjesten_stan, double broj_kvadrata){
  if(broj_registriranih==max_br_prodaja)
    throw std::range_error("Dostignut maksimalni broj prodaja");
  Prodaja p(ime_agenta_prodaje,cijena_stana, dan_prodaje, mjesec_prodaje, godina_prodaje, ime_kupca, datum_rodjenja_kupca, adresa_stana, sprat_stana, broj_soba, namjesten_stan, broj_kvadrata);
  try{
    prodaje[broj_registriranih++] = new Prodaja(p);
  }
  catch(...){
    //broj_registriranih--;
    throw;
    
  }
}

void Prodaje::RegistrirajProdaju(Prodaja *p){
  if(broj_registriranih==max_br_prodaja)
    throw std::range_error("Dostignut maksimalni broj prodaja");
  try{
    prodaje[broj_registriranih++] = new Prodaja(*p);
    
  }
  catch(...){
    
    //broj_registriranih--;
    throw;
  }
}

int Prodaje::DajBrojProdajaNaDatum(const Datum &amp;datum) const{
  int brojac(0);
 
  brojac = std::count_if(prodaje, prodaje + broj_registriranih, [datum] (Prodaja *p1)-&gt;bool {
    if(p1-&gt;DajDatumProdaje().DajDan()==datum.DajDan() &amp;&amp; p1-&gt;DajDatumProdaje().DajMjesec()==datum.DajMjesec() &amp;&amp; p1-&gt;DajDatumProdaje().DajGodinu()==datum.DajGodinu()  )
      return true;
    return false;
  });
  return brojac;
}

int Prodaje::DajBrojProdajaOdAgenta(const std::string &amp;ime_agenta) const {
  int brojac(0);
  for(int i=0; i&lt;broj_registriranih; i++){
    if(prodaje[i]-&gt;DajImeAgenta()==ime_agenta)
      brojac++;
  }
  return brojac;
}

Prodaja &amp;Prodaje::DajNajranijuProdaju() {
  if(broj_registriranih==0)
    throw std::domain_error("Nema registriranih prodaja");

  auto prva = std::min_element(prodaje, prodaje + broj_registriranih, [] (Prodaja *p1, Prodaja *p2){
    if(ProdatPrije(*p1, *p2))
      return true;
    return false;
  });
  auto p(*prva);
  return *p;
}

Prodaja Prodaje::DajNajranijuProdaju() const{
   if(broj_registriranih==0)
    throw std::domain_error("Nema registriranih prodaja");
  auto prva = std::min_element(prodaje, prodaje + broj_registriranih, [] (Prodaja *p1, Prodaja *p2){
    if(ProdatPrije(*p1, *p2))
      return true;
    return false;
  });
  auto p(*prva);
  return *(p);
}

Prodaja &amp;Prodaje::DajNajskupljuProdaju() {
  if(broj_registriranih==0)
    throw std::domain_error("Nema registriranih prodaja");
  auto najskuplja = std::max_element(prodaje, prodaje + broj_registriranih, [] (Prodaja *p1, Prodaja *p2){
    if(SkupljiStan(*p1, *p2))
      return true;
    return false;
  });
  auto p(*najskuplja);
  return *p;
}


Prodaja Prodaje::DajNajskupljuProdaju() const{
    if(broj_registriranih==0)
    throw std::domain_error("Nema registriranih prodaja");
  auto najskuplja = std::max_element(prodaje, prodaje + broj_registriranih, [] (Prodaja *p1, Prodaja *p2){
    if(SkupljiStan(*p1, *p2))
      return true;
    return false;
  });
  auto p(*najskuplja);
  return *p;
}

void Prodaje::IsprazniKolekciju(){
  for(int i=0; i&lt;broj_registriranih; i++)
    prodaje[i] = nullptr;
  broj_registriranih = 0;
}

void Prodaje::ObrisiNajranijuProdaju(){
  if(broj_registriranih==0)
   throw std::range_error("Prazna kolekcija");
  int prva(0);
  for(int i=1; i&lt;broj_registriranih; i++){
    if(ProdatPrije(*prodaje[i], *prodaje[prva]))
      prva = i;
  }
  for(int j=prva; j&lt;broj_registriranih - 1; j++){
    prodaje[j] = prodaje[j+1];
  }
  prodaje[broj_registriranih-1]=nullptr;
  broj_registriranih--;
}

void Prodaje::ObrisiProdajeAgenta(const std::string &amp;ime_agenta){
  for(int i=0; i&lt;broj_registriranih; i++){
    if(prodaje[i]-&gt;DajImeAgenta()==ime_agenta){
      for(int j=i; j&lt;broj_registriranih-1; j++){
        prodaje[j] = prodaje[j+1];
      }
      broj_registriranih--;
    }
  }
}

void Prodaje::ObrisiProdajeNaDatum(const Datum &amp;datum){
  for(int i=0; i&lt;broj_registriranih; i++){
    if(prodaje[i]-&gt;DajDatumProdaje().DajDan()==datum.DajDan() &amp;&amp; prodaje[i]-&gt;DajDatumProdaje().DajMjesec()==datum.DajMjesec() &amp;&amp; prodaje[i]-&gt;DajDatumProdaje().DajGodinu()==datum.DajGodinu()){
      for(int j=i; j&lt;broj_registriranih - 1; j++){
        prodaje[j] = prodaje[j+1];
      }
      broj_registriranih--;
    }
  }
}

void Prodaje::IspisiProdajeNaDatum(const Datum &amp;datum) const{
  Prodaje p(*this);
  std::sort(p.prodaje, p.prodaje + broj_registriranih, [] (Prodaja *p1, Prodaja *p2) {
    if(p1-&gt;DajImeKupca()&lt;p2-&gt;DajImeKupca())
      return true;
    return false;
  });
  for(int i=0; i&lt;broj_registriranih; i++){
    
    if(Prodaje::IstiDatum(p.prodaje[i]-&gt;DajDatumProdaje(), datum))
      p.prodaje[i]-&gt;Ispisi();
  }
}

void Prodaje::IspisiSveProdaje() const{
  Prodaje p(*this);
  std::sort(p.prodaje, p.prodaje + broj_registriranih, [] (Prodaja *p1, Prodaja *p2){
    if(ProdatPrije((*p1), (*p2)))
      return true;
    else if(p1-&gt;DajDatumProdaje().DajDan()==p2-&gt;DajDatumProdaje().DajDan() &amp;&amp; p1-&gt;DajDatumProdaje().DajMjesec()==p2-&gt;DajDatumProdaje().DajMjesec() &amp;&amp; p1-&gt;DajDatumProdaje().DajGodinu()==p2-&gt;DajDatumProdaje().DajGodinu() &amp;&amp; p1-&gt;DajImeKupca()&lt;p2-&gt;DajImeKupca())
      return true;
    return false;
  });
  for(int i=0; i&lt;broj_registriranih; i++)
    p.prodaje[i]-&gt;Ispisi();
}


int main ()
{
  
  
  Prodaje baza_prodaja(20);
  std::vector&lt;Stan&gt; stanovi;
  std::vector&lt;Kupac&gt; kupci;
  int prva_opcija;
  std::cout&lt;&lt;"Dobrodosli!\n";
  do{
    std::cout&lt;&lt;"\nIzaberite opciju:\n 0 - kraj\n 1 - uredjivanje stanova\n 2 - uredjivanje kupaca\n 3 - uredjivanje prodaja\n";
    std::cin&gt;&gt;prva_opcija;
    if(prva_opcija==0){
      std::cout&lt;&lt;"\nDovidjenja!";
      return 0;
    }
    if(prva_opcija==1){
      int druga_opcija;
      do{
        std::cout&lt;&lt;"\n\nIzaberite opciju:\n 0 - nazad\n 1 - dodavanje stana\n 2 - uredjivanje stanova\n 3 - ispis svih stanova\n 4 - kraj\n";
        std::cin&gt;&gt;druga_opcija;
        if(druga_opcija==4){
          std::cout&lt;&lt;"\nDovidjenja!";
          return 0;
        }
        if(druga_opcija==0)
          break;
        if(druga_opcija==1){
          bool pogresan_unos(true);
          while(pogresan_unos){
          try{
            std::string adresa;
            int sprat;
            int broj_soba;
            int namjesten;
            double kvadratura;
            std::cout&lt;&lt;"Unesite adresu: ";
            std::cin.clear();
            std::cin.ignore(10000, '\n');
            std::getline(std::cin, adresa);
            std::cout&lt;&lt;"Unesite sprat: ";
            std::cin&gt;&gt;sprat;
            if(!std::cin){
              std::cin.clear();
              std::cin.ignore(10000, '\n');
              throw std::domain_error("Neispravan unos");
            }
            std::cout&lt;&lt;"Unesite broj soba: ";
            std::cin&gt;&gt;broj_soba;
            std::cout&lt;&lt;"Da li je stan namjesten (1 - da, 0 - ne): ";
            std::cin&gt;&gt;namjesten;
            
            std::cout&lt;&lt;"Unesite kvadraturu: ";
            std::cin&gt;&gt;kvadratura;
<a name="11"></a><font color="#00FF00"><a href="match502-1.html#11" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_0.gif"/></a>

            if(namjesten!=0 &amp;&amp; namjesten!=1)
              throw std::domain_error("Neispravan unos podataka");
            Stan stan(adresa, sprat, broj_soba, namjesten, kvadratura);
            stanovi.push_back(stan);
            pogresan_unos = false;
</font>            std::cout&lt;&lt;"Stan je uspjesno dodan!\n";
          }
          catch(std::domain_error e){
            std::cout&lt;&lt;"Izuzetak: "&lt;&lt;e.what()&lt;&lt;". Molimo unesite opet.\n";
          }
          }
        }
        
        if(druga_opcija==3){
          for(int i=0; i&lt;stanovi.size(); i++){
            std::cout&lt;&lt;i+1&lt;&lt;". ";
            stanovi[i].Ispisi();
            std::cout&lt;&lt;std::endl;
          }
        }
        if(druga_opcija==2){
          int treca_opcija;
          int k;
          std::cout&lt;&lt;"\nOdaberite stan. Dostupni stanovi su:\n";
          for(int i=0; i&lt;stanovi.size(); i++){
            std::cout&lt;&lt;" "&lt;&lt;i+1&lt;&lt;" - ";
            stanovi[i].Ispisi();
            std::cout&lt;&lt;std::endl;
          }
          std::cin&gt;&gt;k;
          std::cout&lt;&lt;"\nOdaberite polje koje zelite urediti:\n 0 - nazad\n 1 - adresa\n 2 - sprat\n 3 - broj soba\n 4 - da li je stan namjesten\n 5 - kvadratura\n 6 - sve\n";
          std::cin&gt;&gt;treca_opcija;
          if(treca_opcija==0)
            break;
          if(treca_opcija==1){
            
            bool pogresan_unos(true);
            std::string adresa;
            while (pogresan_unos) {
              try{
                std::cout&lt;&lt;"Unesite adresu: ";
                std::cin.clear();
                std::cin.ignore(10000, '\n');
                std::getline(std::cin, adresa);
<a name="16"></a><font color="#00FF00"><a href="match502-1.html#16" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_0.gif"/></a>

                Stan novi_stan(adresa, stanovi[k-1].DajSprat(), stanovi[k-1].DajBrojSoba(), stanovi[k-1].DajNamjesten(), stanovi[k-1].DajKvadraturu());
</font>                stanovi[k-1] = novi_stan;
                pogresan_unos = false;
              }catch(std::domain_error e){
                std::cout&lt;&lt;"Izuzetak: "&lt;&lt;e.what()&lt;&lt;". Molimo unesite opet.\n";
              }
            }
            std::cout&lt;&lt;"Stan je uspjesno izmijenjen!\n";
          }
          
          if(treca_opcija==2){
            bool pogresan_unos(true);
            while (pogresan_unos) {
              try{
                int novi_sprat;
                std::cout&lt;&lt;"Unesite sprat: ";
                std::cin&gt;&gt;novi_sprat;
                if(!std::cin)
                 throw std::domain_error("Neispravan unos podataka");
<a name="12"></a><font color="#0000FF"><a href="match502-1.html#12" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_0.gif"/></a>

                Stan novi_stan(stanovi[k-1].DajAdresu(), novi_sprat, stanovi[k-1].DajBrojSoba(), stanovi[k-1].DajNamjesten(), stanovi[k-1].DajKvadraturu());
</font>                stanovi[k-1] = novi_stan;
                pogresan_unos = false;
                std::cout&lt;&lt;"Stan je uspjesno izmijenjen!\n";
              }catch(std::domain_error e){
                std::cin.clear();
                std::cin.ignore(10000, '\n');
                std::cout&lt;&lt;"Izuzetak: "&lt;&lt;e.what()&lt;&lt;". Molimo unesite opet.\n";
              }
            }
          }
          if(treca_opcija==3){
            bool pogresan_unos(true);
            while (pogresan_unos) {
              try{
                int broj_soba;
                std::cout&lt;&lt;"Unesite broj soba: ";
                std::cin&gt;&gt;broj_soba;
                if(!broj_soba)
                  throw std::domain_error("Neispravan unos podataka");
<a name="5"></a><font color="#FF0000"><a href="match502-1.html#5" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_0.gif"/></a>

                Stan novi_stan(stanovi[k-1].DajAdresu(), stanovi[k-1].DajSprat(), broj_soba, stanovi[k-1].DajNamjesten(), stanovi[k-1].DajKvadraturu());
</font><a name="5"></a><font color="#FF0000"><a href="match502-1.html#5" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_0.gif"/></a>

                stanovi[k-1] = novi_stan;
</font>                pogresan_unos = false;
                std::cout&lt;&lt;"Stan je uspjesno izmijenjen!\n";
              }catch(std::domain_error e){
                std::cin.clear();
                std::cin.ignore(10000, '\n');
                std::cout&lt;&lt;"Izuzetak: "&lt;&lt;e.what()&lt;&lt;". Molimo unesite opet.\n";
              }
            }
          }
          if(treca_opcija==4){
            bool pogresan_unos(true);
            while (pogresan_unos) {
              try{
                int namjesten;
                std::cout&lt;&lt;"Da li je stan namjesten (1 - da, 0 - ne): ";
                std::cin &gt;&gt; namjesten;
                if(namjesten!=0 &amp;&amp; namjesten!=1)
                  throw std::domain_error("Neispravan unos podataka");
                Stan novi_stan(stanovi[k-1].DajAdresu(), stanovi[k-1].DajSprat(), stanovi[k-1].DajBrojSoba(), namjesten, stanovi[k-1].DajKvadraturu());
                stanovi[k-1] = novi_stan;
                pogresan_unos = false;
                std::cout&lt;&lt;"Stan je uspjesno izmijenjen!\n";
              }catch(std::domain_error e){
                std::cin.clear();
                std::cin.ignore(10000, '\n');
                std::cout&lt;&lt;"Izuzetak: "&lt;&lt;e.what()&lt;&lt;". Molimo unesite opet.\n";
                }
            }
          }
          
          if(treca_opcija==5){
            bool pogresan_unos(true);
            while (pogresan_unos) {
              try{
                double kvadratura;
                std::cout&lt;&lt;"Unesite kvadraturu: ";
                std::cin&gt;&gt;kvadratura;
                if(!std::cin || kvadratura&lt;0)
                  throw std::domain_error("Neispravan unos podataka");
                Stan novi_stan(stanovi[k-1].DajAdresu(), stanovi[k-1].DajSprat(), stanovi[k-1].DajBrojSoba(), stanovi[k-1].DajNamjesten(), kvadratura);
                stanovi[k-1] = novi_stan;
                pogresan_unos = false;
                std::cout&lt;&lt;"Stan je uspjesno izmijenjen!\n";
              }catch(std::domain_error e){
                std::cout&lt;&lt;"Izuzetak: "&lt;&lt;e.what()&lt;&lt;". Molimo unesite opet.\n";
              }
            }
          }
          
          if(treca_opcija==6){
            bool pogresan_unos(true);
            while (pogresan_unos) {
              try{
                std::cin.clear();
                std::cin.ignore(100000, '\n');
                std::string nova_adresa;
                int novi_sprat, novi_broj_soba, novi_namjesten;
                double nova_kvadratura;
                std::cout&lt;&lt;"Unesite adresu: ";
                std::getline(std::cin, nova_adresa);
                std::cout&lt;&lt;"Unesite sprat: ";
                std::cin&gt;&gt;novi_sprat;
                if(!std::cin || novi_sprat&lt;0)
                  throw std::domain_error("Neispravan unos podataka");
                std::cout&lt;&lt;"Unesite broj soba: ";
                std::cin&gt;&gt;novi_broj_soba;
                if(!std::cin || novi_broj_soba&lt;0)
                  throw std::domain_error("Neispravan unos podataka");
                std::cout&lt;&lt;"Da li je stan namjesten (1 - da, 0 - ne): ";
                std::cin&gt;&gt;novi_namjesten;
                if(!std::cin || (novi_namjesten!=0 &amp;&amp; novi_namjesten!=1))
                  throw std::domain_error("Neispravan unos podataka");
                std::cout&lt;&lt;"Unesite kvadraturu: ";
                std::cin&gt;&gt;nova_kvadratura;
                if(!std::cin || nova_kvadratura&lt;0)
                  throw std::domain_error("Neispravan unos podataka");
                stanovi[k-1] = Stan(nova_adresa, novi_sprat, novi_broj_soba, novi_namjesten, nova_kvadratura);
                pogresan_unos = false;
                std::cout&lt;&lt;"Stan je uspjesno izmijenjen!\n";
              }catch(std::domain_error e){
                
                std::cout&lt;&lt;"Izuzetak: "&lt;&lt;e.what()&lt;&lt;". Molimo unesite opet.\n";
              }
            }
          }
        }
      }while(druga_opcija);
      
    }
    
    if(prva_opcija==2){
      int cetvrta_opcija;
      do{
      std::cout&lt;&lt;"\nIzaberite opciju:\n 0 - nazad\n 1 - dodavanje kupca\n 2 - uredjivanje kupaca\n 3 - ispis svih kupaca\n 4 - kraj\n";
      std::cin&gt;&gt;cetvrta_opcija;
      if(cetvrta_opcija==0)
        break;
      if(cetvrta_opcija==4){
        std::cout&lt;&lt;"\nDovidjenja!";
        return 0;
      }
      if(cetvrta_opcija==1){
        bool pogresan_unos(true);
        while (pogresan_unos) {
          try{
            std::string ime_i_prezime;
            int dan, mjesec, godina;
            char znak1, znak2;
            std::cin.clear();
            std::cin.ignore(10000, '\n');
            std::cout&lt;&lt;"Unesite ime i prezime kupca: ";
            std::getline(std::cin, ime_i_prezime);
            std::cout&lt;&lt;"Unesite datum rodjenja (formata d/m/g): ";
            
            std::cin&gt;&gt;dan&gt;&gt;znak1&gt;&gt;mjesec&gt;&gt;znak2&gt;&gt;godina;
            //Datum dat(dan, mjesec, godina);
            if(znak1!='/' || znak2!='/')
              throw std::domain_error("Neispravan unos podataka");
            //std::cout&lt;&lt;"\n\n"&lt;&lt;dan&lt;&lt;"  "&lt;&lt;mjesec&lt;&lt;"  "&lt;&lt;godina&lt;&lt;"\n\n";
            Datum dat(dan, mjesec, godina);
            Kupac kupac(ime_i_prezime, dat);
            kupci.push_back(kupac);
            pogresan_unos = false;
            std::cout&lt;&lt;"Kupac je uspjesno dodan!";
            
          }catch(std::domain_error e){
            std::cout&lt;&lt;"Izuzetak: "&lt;&lt;e.what()&lt;&lt;". Molimo unesite opet.\n";
          }
        }
      }
     if(cetvrta_opcija==3){
       for(int i=0; i&lt;kupci.size(); i++){
         kupci[i].Ispisi();
         std::cout&lt;&lt;std::endl;
       }
     }
     
     if(cetvrta_opcija==2){
       std::cout&lt;&lt;"Odaberite kupca kojeg zelite urediti. Dostupni kupci su:\n";
       for(int i=0; i&lt;kupci.size(); i++){
         std::cout&lt;&lt;" "&lt;&lt;i+1&lt;&lt;" - ";
         kupci[i].Ispisi();
         std::cout&lt;&lt;std::endl;
       }
       int k1;
       std::cin&gt;&gt;k1;
       bool pogresan_unos(true);
       while (pogresan_unos) {
         try{
           std::string ime_i_prezime;
           int dan, mjesec, godina;
           char znak1, znak2;
           std::cout&lt;&lt;"Unesite ime i prezime kupca: ";
           std::cin.clear();
           std::cin.ignore(10000, '\n');
           std::getline(std::cin, ime_i_prezime);
           std::cout&lt;&lt;"Unesite datum rodjenja (formata d/m/g): ";
           std::cin&gt;&gt;dan&gt;&gt;znak1&gt;&gt;mjesec&gt;&gt;znak2&gt;&gt;godina;
           if(znak1!='/' || znak2!='/')
             throw std::domain_error("Neispravan unos podataka");
            Datum d(dan, mjesec, godina);
           kupci[k1-1] = Kupac(ime_i_prezime, d);
           pogresan_unos = false;
           std::cout&lt;&lt;"Kupac je uspjesno izmijenjen!\n";
         }catch(std::domain_error e){
           std::cout&lt;&lt;"Izuzetak: "&lt;&lt;e.what()&lt;&lt;". Molimo unesite opet.\n";
         }
       }
     }
    }while(cetvrta_opcija);
    }
    if(prva_opcija==3){
      int sesta_opcija;
      do{
      std::cout&lt;&lt;"\nIzaberite opciju:\n 0 - nazad\n 1 - dodavanje prodaje\n 2 - uredjivanje prodaje\n 3- ispis prodaja\n 4- brisanje prodaja\n 5 - kraj\n";
      std::cin&gt;&gt;sesta_opcija;
      if(sesta_opcija==0)
        break;
      if(sesta_opcija==5){
        std::cout&lt;&lt;"Dovidjenja!";
        return 0;
      }
      if(sesta_opcija==1){
        int sedma_opcija;
        do{
          std::cout&lt;&lt;"\nIzaberite opciju:\n 0 - nazad\n 1 - dodavanje potpuno nove prodaje\n 2 - dodavanje nove prodaje na osnovu arhive\n 3 - kraj\n";
          std::cin&gt;&gt;sedma_opcija;
          if(sedma_opcija==0)
            break;
          if(sedma_opcija==3){
            std::cout&lt;&lt;"Dovidjenja!";
            return 0;
          }
          
          if(sedma_opcija==1){
            bool pogresan_unos(true);
            while (pogresan_unos) {
            std::string ime_agenta, ime_kupca, adresa;
            int danp, mjesecp, godinap, danr,mjesecr, godinar;
            double cijena, kvadratura;
            int sprat, broj_soba, namjesten;
            char znak1, znak2;
            try{
            std::cout&lt;&lt;"Unesite ime i prezime agenta prodaje: ";
            std::cin.clear();
            std::cin.ignore(10000, '\n');
            std::getline(std::cin, ime_agenta);
            std::cout&lt;&lt;"Unesite datum prodaje (formata d/m/g): ";
            std::cin&gt;&gt;danp&gt;&gt;znak1&gt;&gt;mjesecp&gt;&gt;znak2&gt;&gt;godinap;
            if(!std::cin || znak1!='/' || znak2!='/')
              throw std::domain_error("Neispravan unos podataka");
            //Datum datum_prodaje(danp, mjesecp, godinap);
            std::cout&lt;&lt;"Unesite cijenu stana: ";
            std::cin&gt;&gt;cijena;
            if(!std::cin || cijena&lt;0)
              throw std::domain_error("Neispravan unos podataka");
            std::cin.clear();
            std::cin.ignore(10000, '\n');
            std::cout&lt;&lt;"Unesite ime kupca: ";
            std::getline(std::cin, ime_kupca);
            std::cout&lt;&lt;"Unesite datum rodjenja kupca (formata d/m/g): ";
            std::cin&gt;&gt;danr&gt;&gt;znak1&gt;&gt;mjesecr&gt;&gt;znak2&gt;&gt;godinar;
            
            if(!std::cin || znak1!='/' || znak2!='/')
              throw std::domain_error("Neispravan unos podataka");
            std::cout&lt;&lt;"Unesite adresu: ";
            std::cin.clear();
            std::cin.ignore(10000, '\n');
            std::getline(std::cin, adresa);
            std::cout&lt;&lt;"Unesite sprat: ";
            std::cin&gt;&gt;sprat;
            if(!std::cin)
              throw std::domain_error("Neispravan unos podataka");
            std::cout&lt;&lt;"Unesite broj soba: ";
            std::cin&gt;&gt;broj_soba;
            if(!std::cin)
              throw std::domain_error("Neispravan unos podataka");
            std::cout&lt;&lt;"Da li je stan namjesten (1 - da, 0 - ne): ";
            std::cin&gt;&gt;namjesten;
            if(!std::cin)
              throw std::domain_error("Neispravan unos podataka");
            std::cout&lt;&lt;"Unesite kvadraturu: ";
            std::cin&gt;&gt;kvadratura;
            if(!std::cin)
              throw std::domain_error("Neispravan unos podataka");
            Datum datum_rodjenja(danr, mjesecr, godinar);
            Datum datum_prodaje(danp, mjesecp, godinap);
            baza_prodaja.RegistrirajProdaju(ime_agenta,cijena, danp, mjesecp, godinap, ime_kupca, datum_rodjenja, adresa, sprat, broj_soba, namjesten, kvadratura);
            pogresan_unos = false;
            std::cout&lt;&lt;"Prodaja uspjesno dodana!\n";
            kupci.push_back(Kupac(ime_kupca, datum_rodjenja));
            stanovi.push_back(Stan(adresa, sprat, broj_soba, namjesten, kvadratura));
            }catch(std::domain_error e){
              std::cout&lt;&lt;"Izuzetak: "&lt;&lt;e.what()&lt;&lt;". Molimo unesite opet.\n";
              std::cin.clear();
              std::cin.ignore(10000, '\n');
            }
              
            }
          }
          if(sedma_opcija==2){
            bool pogresan_unos(true);
            while (pogresan_unos) {
              try{
                std::string ime_agenta;
                int danp, mjesecp, godinap;
                double cijena;
                std::cin.clear();
                std::cin.ignore(10000, '\n');
                std::cout&lt;&lt;"Unesite ime agenta prodaje: ";
                std::getline(std::cin, ime_agenta);
                std::cout&lt;&lt;"Unesite datum (formata d/m/g): ";
                char znak1, znak2;
                std::cin&gt;&gt;danp&gt;&gt;znak1&gt;&gt;mjesecp&gt;&gt;znak2&gt;&gt;godinap;
                //std::cout&lt;&lt;"\n"&lt;&lt;danp&lt;&lt;"  "&lt;&lt;mjesecp&lt;&lt;"  "&lt;&lt;godinap;
                if(znak1!='/' || znak2!='/')
                  throw std::domain_error("Neispravan unos podataka");
                std::cout&lt;&lt;"Unesite cijenu: ";
                std::cin&gt;&gt;cijena;
                std::cout&lt;&lt;"Odaberite kupca. Dostupni kupci su:\n";
                for(int i=0; i&lt;kupci.size(); i++){
                  std::cout&lt;&lt;" "&lt;&lt;i+1&lt;&lt;" - ";
                  kupci[i].Ispisi();
                  std::cout&lt;&lt;std::endl;
                }
                int kupac;
                std::cin&gt;&gt;kupac;
                std::cout&lt;&lt;"Odaberite stan. Dostupni stanovi su:\n";
                for(int i=0; i&lt;stanovi.size(); i++){
                  std::cout&lt;&lt;" "&lt;&lt;i+1&lt;&lt;" - ";
                  stanovi[i].Ispisi();
                  std::cout&lt;&lt;std::endl;
                  
                }
                int stan;
                std::cin&gt;&gt;stan;
                Datum datum(danp, mjesecp, godinap);
              
                baza_prodaja.RegistrirajProdaju(ime_agenta, cijena, datum, kupci[kupac - 1], stanovi[stan-1]);
                pogresan_unos = false;
                std::cout&lt;&lt;"Prodaja uspjesno dodana!\n";
              }catch(std::domain_error e){
                std::cout&lt;&lt;"Izuzetak: "&lt;&lt;e.what()&lt;&lt;". Molimo unesite opet.\n";
              }
            }
          }
          
        }while(sedma_opcija);
      }
      
      if(sesta_opcija==2){
        std::cout&lt;&lt;"\nOdaberite prodaju koju zelite urediti. Dostupne prodaje su:\n";
        baza_prodaja.IspisiSveProdaje();
        int osma_opcija;
        std::cin&gt;&gt;osma_opcija;
        std::cout&lt;&lt;"\nIzaberite opciju:\n 0 - nazad\n 1 - izmjena agenta\n 2 - izmjena datuma prodaje\n 3 - izmjena kupca\n 4 - izmjena stana\n 5 - izmjena cijena stana\n";
        int deveta_opcija;
        std::cin&gt;&gt;deveta_opcija;
        
        
      }
      
      
      
      }while(sesta_opcija);
    }
    
     
  }while (prva_opcija);
  

	return 0;
}




</pre>
</body>
</html>
