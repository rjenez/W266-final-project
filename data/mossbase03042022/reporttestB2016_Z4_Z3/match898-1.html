<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z3/student3594.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z3/student1671.cpp<p></p><pre>
/B 2016/2017, ZadaÄ‡a 4, Zadatak 3
//Napomena: testovi ce biti dostupni dan pred rok!
#include &lt;iostream&gt;
#include &lt;string&gt;
#include &lt;stdexcept&gt;
#include &lt;cmath&gt;
#include &lt;iomanip&gt;
#include &lt;initializer_list&gt;
#include &lt;algorithm&gt;
#include &lt;vector&gt;

static const double eps(1e-10);

class Datum {
    int dan, mjesec, godina;
    bool ProvjeriDatum(int dan, int mjesec, int godina) const;
    public:
    Datum(int dan, int mjesec, int godina);
    void Postavi(int dan, int mjesec, int godina);
    int DajDan() const { return dan; }
    int DajMjesec() const { return mjesec; }
    int DajGodinu() const { return godina; }
    void Ispisi() const { std::cout &lt;&lt; dan &lt;&lt; "/" &lt;&lt; mjesec &lt;&lt; "/" &lt;&lt; godina; }
};
Datum::Datum(int dan, int mjesec, int godina) {
<a name="4"></a><font color="#FF00FF"><a href="match898-0.html#4" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_0.gif"/></a>

    if (!ProvjeriDatum(dan, mjesec, godina)) throw std::domain_error ("Neispravan datum");
    Datum::dan = dan; Datum::mjesec = mjesec; Datum::godina = godina;
}
void Datum::Postavi(int dan, int mjesec, int godina) {
</font>    if (!ProvjeriDatum(dan, mjesec, godina)) throw std::domain_error ("Neispravan datum");
    Datum::dan = dan; Datum::mjesec = mjesec; Datum::godina = godina;
}
bool Datum::ProvjeriDatum(int dan, int mjesec, int godina) const {
    int broj_dana[]{31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31};
    if (godina % 4 == 0 &amp;&amp; godina % 100 != 0 || godina % 400 == 0) broj_dana[1]++;
    if (godina &lt; 1 || mjesec &lt; 1 || mjesec &gt; 12 || dan &lt; 1 || dan &gt; broj_dana[mjesec - 1])
        return false;
    return true;
}
<a name="9"></a><font color="#FF00FF"><a href="match898-0.html#9" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_0.gif"/></a>

class Kupac {
    std::string ime_i_prezime;
    Datum datum_rodjenja;
    public:
    Kupac(const std::string &amp;ime_i_prezime, const Datum &amp;datum_rodjenja);
    void Postavi(const std::string &amp;ime_i_prezime, const Datum &amp;datum_rodjenja);
</font>    std::string DajImePrezime() const { return ime_i_prezime; }
    Datum DajDatumRodjenja() const { return datum_rodjenja; }
    void Ispisi() const { std::cout &lt;&lt; ime_i_prezime &lt;&lt; " (" &lt;&lt; datum_rodjenja.DajDan() &lt;&lt; "/" &lt;&lt; datum_rodjenja.DajMjesec() &lt;&lt; "/" &lt;&lt; datum_rodjenja.DajGodinu() &lt;&lt; ")"; }
};
bool ProvjeriIme(std::string ime_i_prezime) {
    for (int i = 0; i &lt; ime_i_prezime.size(); i++) {
        if (!(std::tolower(ime_i_prezime[i]) &gt;= 'a' &amp;&amp; std::tolower(ime_i_prezime[i]) &lt;= 'z')
        &amp;&amp; !(ime_i_prezime[i] &gt;= '0' &amp;&amp; ime_i_prezime[i] &lt;= '9') &amp;&amp; ime_i_prezime[i] != ' ' &amp;&amp;
        ime_i_prezime[i] != 39 &amp;&amp; ime_i_prezime[i] != '-') return false;
    }
    return true;
}
void Kupac::Postavi(const std::string &amp;ime_i_prezime, const Datum &amp;datum_rodjenja) {
    if (!ProvjeriIme(ime_i_prezime)) throw std::domain_error ("Neispravno ime i prezime");
    Kupac::ime_i_prezime = ime_i_prezime;
    Kupac::datum_rodjenja = datum_rodjenja;
}
<a name="10"></a><font color="#FF0000"><a href="match898-0.html#10" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_0.gif"/></a>

Kupac::Kupac(const std::string &amp;ime_i_prezime, const Datum &amp;datum_rodjenja) : datum_rodjenja(datum_rodjenja.DajDan(), datum_rodjenja.DajMjesec(), datum_rodjenja.DajGodinu()) {
</font>    if (!ProvjeriIme(ime_i_prezime)) throw std::domain_error ("Neispravno ime i prezime");
    Kupac::ime_i_prezime = ime_i_prezime;
}
class Stan {
    std::string adresa;
    int sprat, broj_soba;
    bool namjesten;
<a name="11"></a><font color="#00FF00"><a href="match898-0.html#11" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_0.gif"/></a>

    double kvadratura;
    public:
    Stan(const std::string &amp;adresa, int sprat, int broj_soba, bool namjesten, double kvadratura);
    void Postavi(const std::string &amp;adresa, int sprat, int broj_soba, bool namjesten, double kvadratura);
</font>    std::string DajAdresu() const { return adresa; }
    int DajSprat() const { return sprat; }
    int DajBrojSoba() const { return broj_soba; }
    bool DajNamjesten() const { return namjesten; }
    double DajKvadraturu() const { return kvadratura; }
    void Ispisi() const;
};
void Stan::Ispisi() const {
    std::cout &lt;&lt; "Stan se nalazi na adresi " &lt;&lt; Stan::DajAdresu() &lt;&lt; " na " &lt;&lt; DajSprat() &lt;&lt; ". spratu i ima " &lt;&lt; DajBrojSoba();
    if (broj_soba == 1) std::cout &lt;&lt; " sobu.";
    else if (broj_soba == 2 || broj_soba == 3 || broj_soba == 4) std::cout &lt;&lt; " sobe.";
    else std::cout &lt;&lt; " soba.";
    std::cout &lt;&lt; " Kvadratura stana je " &lt;&lt; DajKvadraturu() &lt;&lt; "(m^2) i stan ";
    if (DajNamjesten()) std::cout &lt;&lt; "je namjesten.";
    else std::cout &lt;&lt; "nije namjesten.";
}
void Stan::Postavi(const std::string &amp;adresa, int sprat, int broj_soba, bool namjesten, double kvadratura) {
    if (sprat &lt; 0 || broj_soba &lt; 0 || std::fabs(kvadratura) &lt; eps) throw std::domain_error ("Neispravan unos podataka");
    Stan::adresa = adresa; Stan::sprat = sprat; Stan::broj_soba = broj_soba; Stan::kvadratura = kvadratura;
    Stan::namjesten = namjesten;
}
Stan::Stan(const std::string &amp;adresa, int sprat, int broj_soba, bool namjesten, double kvadratura) {
    if (sprat &lt; 0 || broj_soba &lt; 0 || std::fabs(kvadratura) &lt; eps) throw std::domain_error ("Neispravan unos podataka");
    Stan::adresa = adresa; Stan::sprat = sprat; Stan::broj_soba = broj_soba; Stan::kvadratura = kvadratura;
    Stan::namjesten = namjesten;
}

class Prodaja {
    std::string ime_agenta_prodaje;
    double cijena_stana;
    Datum datum_prodaje;
    Kupac kupac_stana;
    Stan kupljeni_stan;
    public:
    Prodaja(const std::string &amp;ime_agenta_prodaje, double cijena_stana, const Datum &amp;datum_prodaje,
    const Kupac &amp;kupac_stana, const Stan &amp;kupljeni_stan);//
    Prodaja(const std::string &amp;ime_agenta_prodaje, double cijena_stana, int dan_prodaje, 
    int mjesec_prodaje, int godina_prodaje, std::string &amp;ime_kupca, const Datum &amp;datum_rodjenja_kupca,
    const std::string &amp;adresa_stana, int sprat_stana, int broj_soba, bool namjesten_stan, double broj_kvadrata);//
    void PromijeniKupca(const Kupac &amp;novi_kupac) { kupac_stana = novi_kupac; }//
    void PromijeniStan(const Stan &amp;novi_stan) { kupljeni_stan = novi_stan; }//
    void PromijeniCijenuProdaje(const double &amp;nova_cijena) { cijena_stana = nova_cijena; }//
    void PomjeriDanUnaprijed();//
    void PomjeriDanUnazad();//
    std::string DajImeAgenta() const { return ime_agenta_prodaje; }//
    std::string DajImeKupca() const { return kupac_stana.DajImePrezime(); }//
    Datum DajDatumProdaje() const { return datum_prodaje; }//
    double DajCijenuStana() const { return cijena_stana; }//
    friend bool ProdatPrije(const Prodaja &amp;p1, const Prodaja &amp;p2);//
    friend bool SkupljiStan(const Prodaja &amp;p1, const Prodaja &amp;p2);//
    void Ispisi() const;
};
void Prodaja::Ispisi() const {
    std::cout &lt;&lt; std::setw(32) &lt;&lt; std::left &lt;&lt; "Ime agenta:" &lt;&lt; Prodaja::DajImeAgenta() &lt;&lt; std::setw(27) &lt;&lt; std::right &lt;&lt; Prodaja::DajImeKupca() &lt;&lt; " ("; kupac_stana.DajDatumRodjenja().Ispisi(); std::cout &lt;&lt; ")" &lt;&lt; std::endl;
    std::cout &lt;&lt; std::setw(32) &lt;&lt; std::left &lt;&lt; "Zakazani datum prodaje:"; std::cout &lt;&lt; std::setw(27) &lt;&lt; datum_prodaje.DajDan() &lt;&lt; "/" &lt;&lt; datum_prodaje.DajMjesec() &lt;&lt; "/" &lt;&lt; datum_prodaje.DajGodinu() &lt;&lt; std::endl;
    std::cout &lt;&lt; std::setw(32) &lt;&lt; std::left &lt;&lt; "Cijena stana:" &lt;&lt; std::setw(27) &lt;&lt; Prodaja::DajCijenuStana() &lt;&lt; std::endl;
    std::cout &lt;&lt; "Informacije o stanu:" &lt;&lt; std::endl; kupljeni_stan.Ispisi(); std::cout &lt;&lt; std::endl;
} 
bool SkupljiStan(const Prodaja &amp;p1, const Prodaja &amp;p2) {
    return p1.cijena_stana &gt; p2.cijena_stana;
}
<a name="6"></a><font color="#00FF00"><a href="match898-0.html#6" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_0.gif"/></a>

bool ProdatPrije(const Prodaja &amp;p1, const Prodaja &amp;p2) {
    if (p1.datum_prodaje.DajGodinu() &lt; p2.datum_prodaje.DajGodinu()) return true;
    if (p1.datum_prodaje.DajGodinu() &gt; p2.datum_prodaje.DajGodinu()) return false;
</font>    if (p1.datum_prodaje.DajMjesec() &lt; p2.datum_prodaje.DajMjesec()) return true;
    if (p1.datum_prodaje.DajMjesec() &gt; p2.datum_prodaje.DajMjesec()) return false;
    return p1.datum_prodaje.DajDan() &lt; p2.datum_prodaje.DajDan();
}
void Prodaja::PomjeriDanUnaprijed() {
    int broj_dana[]{31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31};
    int godina(datum_prodaje.DajGodinu()), mjesec(datum_prodaje.DajMjesec()), dan(datum_prodaje.DajDan() + 1);
    if (datum_prodaje.DajGodinu() % 4 == 0 &amp;&amp; datum_prodaje.DajGodinu() % 100 != 0 || datum_prodaje.DajGodinu() % 400 == 0) broj_dana[1]++;
    if (dan &gt; broj_dana[mjesec-1]) dan = 1, mjesec += 1;
    if (mjesec &gt; 12) mjesec = 1, godina += 1;
    datum_prodaje.Postavi(dan, mjesec, godina);
}
void Prodaja::PomjeriDanUnazad() {
    int broj_dana[]{31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31};
    int godina(datum_prodaje.DajGodinu()), mjesec(datum_prodaje.DajMjesec()), dan(datum_prodaje.DajDan() - 1);
    if (datum_prodaje.DajGodinu() % 4 == 0 &amp;&amp; datum_prodaje.DajGodinu() % 100 != 0 || datum_prodaje.DajGodinu() % 400 == 0) broj_dana[1]++;
    if (dan == 0) mjesec--;
    if (mjesec == 0) mjesec = 12, godina--;
    dan = broj_dana[mjesec - 1];
    datum_prodaje.Postavi(dan, mjesec, godina);
}
Prodaja::Prodaja(const std::string &amp;ime_agenta_prodaje, double cijena_stana, int dan_prodaje,
int mjesec_prodaje, int godina_prodaje, std::string &amp;ime_kupca, const Datum &amp;datum_rodjenja_kupca,
const std::string &amp;adresa_stana, int sprat_stana, int broj_soba, bool namjesten_stan, double broj_kvadrata) :
datum_prodaje(dan_prodaje, mjesec_prodaje, godina_prodaje), kupac_stana(ime_kupca, datum_rodjenja_kupca), kupljeni_stan(adresa_stana, sprat_stana,
broj_soba, namjesten_stan, broj_kvadrata) {
    if (!ProvjeriIme(ime_agenta_prodaje)) throw std::domain_error ("Neispravno ime i prezime");
    Prodaja::ime_agenta_prodaje = ime_agenta_prodaje;
    Prodaja::cijena_stana = cijena_stana;
}
Prodaja::Prodaja(const std::string &amp;ime_agenta_prodaje, double cijena_stana, const Datum &amp;datum_prodaje,
const Kupac &amp;kupac_stana, const Stan &amp;kupljeni_stan) : datum_prodaje(datum_prodaje), kupac_stana(kupac_stana), kupljeni_stan(kupljeni_stan) {
    if (!ProvjeriIme(ime_agenta_prodaje)) throw std::domain_error ("Neispravno ime i prezime");
    Prodaja::ime_agenta_prodaje = ime_agenta_prodaje;
    Prodaja::cijena_stana = cijena_stana;
}

class Prodaje {
    int max_broj_prodaja;
    int broj_prodaja;
    Prodaja **sve_prodaje;
    public:
<a name="7"></a><font color="#0000FF"><a href="match898-0.html#7" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_0.gif"/></a>

    explicit Prodaje(int max_broj_prodaja) : max_broj_prodaja(max_broj_prodaja), broj_prodaja(0), sve_prodaje(new Prodaja*[max_broj_prodaja] {}) {};//
    Prodaje(std::initializer_list&lt;Prodaja&gt; spisak_prodaja);//
    ~Prodaje();//
    Prodaje(const Prodaje &amp;prodaje);//
    Prodaje(Prodaje &amp;&amp;prodaje);//
    Prodaje &amp;operator = (const Prodaje &amp;prodaje);//
</font>    Prodaje &amp;operator = (Prodaje &amp;&amp;prodaje);//
    void RegistrirajProdaju(const std::string &amp;ime_agenta_prodaje, double cijena_stana, const Datum &amp;datum_prodaje, 
    const Kupac &amp;kupac_stana, const Stan &amp;kupljeni_stan);//
    void RegistrirajProdaju(const std::string &amp;ime_agenta_prodaje, double cijena_stana,  int dan_prodaje, int mjesec_prodaje, int godina_prodaje,
    std::string &amp;ime_kupca, const Datum &amp;datum_rodjenja_kupca, const std::string &amp;adresa_stana, int sprat_stana, int broj_soba, 
    bool namjesten_stan, double broj_kvadrata);//
    void RegistrirajProdaju(Prodaja *prodaja);//
    int DajBrojProdaja() const { return broj_prodaja; }//
    int DajBrojProdajaNaDatum(const Datum &amp;datum) const;//
    int DajBrojProdajaOdAgenta(const std::string &amp;ime_agenta) const;//
    Prodaja &amp;DajNajranijuProdaju();//
    Prodaja DajNajranijuProdaju() const;//
    Prodaja &amp;DajNajskupljuProdaju();//
    Prodaja DajNajskupljuProdaju() const;//
    void IsprazniKolekciju();//
    void ObrisiNajranijuProdaju();//
    void ObrisiProdajeAgenta(const std::string &amp;ime_agenta);//
    void ObrisiProdajeNaDatum(const Datum &amp;datum);//
    void IspisiProdajeNaDatum(const Datum &amp;datum) const;
    void IspisiSveProdaje() const;
    Prodaja &amp;DajProdaju(int redni_broj_prodaje);
};
<a name="2"></a><font color="#0000FF"><a href="match898-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_1.gif"/></a>

void Prodaje::IspisiSveProdaje() const {
    std::vector&lt;Prodaja&gt; v;
    for (int i = 0; i &lt; broj_prodaja; i++) 
        v.push_back(*sve_prodaje[i]);
    std::sort(v.begin(), v.end(), [](Prodaja p1, Prodaja p2) {
</font><a name="12"></a><font color="#0000FF"><a href="match898-0.html#12" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_0.gif"/></a>

       if (p1.DajDatumProdaje().DajDan() == p2.DajDatumProdaje().DajDan() &amp;&amp; p1.DajDatumProdaje().DajMjesec() == p2.DajDatumProdaje().DajMjesec() 
       &amp;&amp; p1.DajDatumProdaje().DajGodinu() == p2.DajDatumProdaje().DajGodinu()) return p1.DajImeKupca() &lt; p2.DajImeKupca();
</font>       if (p1.DajDatumProdaje().DajGodinu() &lt; p2.DajDatumProdaje().DajGodinu()) return true;
       if (p1.DajDatumProdaje().DajMjesec() &lt; p2.DajDatumProdaje().DajMjesec()) return true;
       if (p1.DajDatumProdaje().DajDan() &lt; p2.DajDatumProdaje().DajDan()) return true;
       return false;
    });
    for (int i = 0; i &lt; v.size(); i++) v[i].Ispisi(), std::cout &lt;&lt; std::endl;
};
Prodaja &amp;Prodaje::DajProdaju(int redni_broj_prodaje) {
    if (redni_broj_prodaje &lt; 1 || redni_broj_prodaje &gt; broj_prodaja) throw std::domain_error ("Neispravan parametar");
    return *sve_prodaje[redni_broj_prodaje];
};
<a name="0"></a><font color="#FF0000"><a href="match898-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_2.gif"/></a>

void Prodaje::IspisiProdajeNaDatum(const Datum &amp;datum) const {
    std::vector&lt;Prodaja&gt; v;
    for (int i = 0; i &lt; broj_prodaja; i++) {
        if (sve_prodaje[i]-&gt;DajDatumProdaje().DajDan() == datum.DajDan() &amp;&amp; sve_prodaje[i]-&gt;DajDatumProdaje().DajMjesec() == datum.DajMjesec() &amp;&amp; 
        sve_prodaje[i]-&gt;DajDatumProdaje().DajGodinu() == datum.DajGodinu()) v.push_back(*sve_prodaje[i]);
    }
    std::sort(v.begin(), v.end(), [](Prodaja p1, Prodaja p2) {
</font><a name="13"></a><font color="#00FFFF"><a href="match898-0.html#13" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_0.gif"/></a>

        return p1.DajImeKupca() &lt; p2.DajImeKupca();
    });
    for (int i = 0; i &lt; v.size(); i++) v[i].Ispisi(), std::cout &lt;&lt; std::endl;
</font>}
void Prodaje::ObrisiProdajeNaDatum(const Datum &amp;datum) {
    if (!broj_prodaja) throw std::range_error ("Prazna kolekcija");
    for (int i = 0; i &lt; broj_prodaja; i++) 
        if (sve_prodaje[i]-&gt;DajDatumProdaje().DajGodinu() == datum.DajGodinu())
            if (sve_prodaje[i]-&gt;DajDatumProdaje().DajMjesec() == datum.DajMjesec())
                if (sve_prodaje[i]-&gt;DajDatumProdaje().DajDan() == datum.DajDan()) delete sve_prodaje[i], sve_prodaje[i] = nullptr;
    for (int i = 0; i &lt; broj_prodaja; i++) {
        if (sve_prodaje[i] == nullptr) 
<a name="5"></a><font color="#FF0000"><a href="match898-0.html#5" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_0.gif"/></a>

            for (int j = i; j &lt; broj_prodaja - 1; j++) sve_prodaje[j] = sve_prodaje[j + 1]; 
        broj_prodaja--;
    }
}
void Prodaje::ObrisiProdajeAgenta(const std::string &amp;ime_agenta) {
</font>    if (!broj_prodaja) throw std::range_error ("Prazna kolekcija");
    for (int i = 0; i &lt; broj_prodaja; i++) if (sve_prodaje[i]-&gt;DajImeAgenta() == ime_agenta) delete sve_prodaje[i], sve_prodaje[i] = nullptr;
    for (int i = 0; i &lt; broj_prodaja; i++) {
        if (sve_prodaje[i] == nullptr) 
<a name="8"></a><font color="#00FFFF"><a href="match898-0.html#8" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_0.gif"/></a>

            for (int j = i; j &lt; broj_prodaja - 1; j++) sve_prodaje[j] = sve_prodaje[j + 1];
        broj_prodaja--;
    }
}
void Prodaje::ObrisiNajranijuProdaju() {
    Prodaja a(Prodaje::DajNajranijuProdaju());
</font>    Prodaja *temp(&amp;a);
    for (int i = 0; i &lt; broj_prodaja; i++) if (sve_prodaje[i] == temp) delete sve_prodaje[i], sve_prodaje[i] = nullptr, temp = nullptr;
    for (int i = 0; i &lt; broj_prodaja; i++) {
        if (sve_prodaje[i] == nullptr)
            for (int j = i; j &lt; broj_prodaja - 1; j++) sve_prodaje[j] = sve_prodaje[j + 1];
        broj_prodaja--;
    }
}
void Prodaje::IsprazniKolekciju() {
    if (!broj_prodaja) throw std::range_error ("Prazna kolekcija");
    for (int i = 0; i &lt; broj_prodaja; i++) delete sve_prodaje[i];
    broj_prodaja = 0;
}
Prodaja Prodaje::DajNajranijuProdaju() const {
    if (!broj_prodaja) throw std::domain_error ("Nema registriranih prodaja");
    auto a(std::min_element(sve_prodaje, sve_prodaje + broj_prodaja, [](Prodaja *p1, Prodaja *p2) {
        if (p1-&gt;DajDatumProdaje().DajGodinu() &lt; p2-&gt;DajDatumProdaje().DajGodinu()) return true;
        if (p1-&gt;DajDatumProdaje().DajMjesec() &lt; p2-&gt;DajDatumProdaje().DajMjesec()) return true;
        return p1-&gt;DajDatumProdaje().DajDan() &lt; p2-&gt;DajDatumProdaje().DajDan();
    }));
    return **a;
}
Prodaja &amp;Prodaje::DajNajranijuProdaju() {
    if (!broj_prodaja) throw std::domain_error ("Nema registriranih prodaja");
    auto a(std::min_element(sve_prodaje, sve_prodaje + broj_prodaja, [](Prodaja *p1, Prodaja *p2) {
        if (p1-&gt;DajDatumProdaje().DajGodinu() &lt; p2-&gt;DajDatumProdaje().DajGodinu()) return true;
        if (p1-&gt;DajDatumProdaje().DajMjesec() &lt; p2-&gt;DajDatumProdaje().DajMjesec()) return true;
        return p1-&gt;DajDatumProdaje().DajDan() &lt; p2-&gt;DajDatumProdaje().DajDan();
    }));
    return **a;
}
Prodaja Prodaje::DajNajskupljuProdaju() const {
    if (!broj_prodaja) throw std::domain_error ("Nema registriranih prodaja");
    auto a(std::max_element(sve_prodaje, sve_prodaje + broj_prodaja, [](Prodaja *p1, Prodaja *p2) {
        return p1-&gt;DajCijenuStana() &gt; p2-&gt;DajCijenuStana();
    }));
    return **a;
}
Prodaja &amp;Prodaje::DajNajskupljuProdaju() {
    if (!broj_prodaja) throw std::domain_error ("Nema registriranih prodaja");
    auto a(std::max_element(sve_prodaje, sve_prodaje + broj_prodaja, [](Prodaja *p1, Prodaja *p2) {
        return p1-&gt;DajCijenuStana() &gt; p2-&gt;DajCijenuStana();
    }));
    return **a;
}
int Prodaje::DajBrojProdajaOdAgenta(const std::string &amp;ime_agenta) const {
    return (std::count_if(sve_prodaje, sve_prodaje + broj_prodaja, [ime_agenta](Prodaja *p) {
       return (p-&gt;DajImeAgenta() == ime_agenta); 
    }));
}
int Prodaje::DajBrojProdajaNaDatum(const Datum &amp;datum) const {
    auto a(std::count_if(sve_prodaje, sve_prodaje + broj_prodaja, [datum](Prodaja *p) {
        return (p-&gt;DajDatumProdaje().DajDan() == datum.DajDan() &amp;&amp; p-&gt;DajDatumProdaje().DajMjesec() == datum.DajMjesec() &amp;&amp; p-&gt;DajDatumProdaje().DajGodinu() == datum.DajGodinu());
    }));
    return a;
}
void Prodaje::RegistrirajProdaju(Prodaja *prodaja) {
    if (broj_prodaja == max_broj_prodaja) throw std::range_error ("Dostignut maksimalni broj prodaja");
    sve_prodaje[++broj_prodaja] = prodaja; 
}
void Prodaje::RegistrirajProdaju(const std::string &amp;ime_agenta_prodaje, double cijena_stana, int dan_prodaje, int mjesec_prodaje, int godina_prodaje, std::string &amp;ime_kupca,
const Datum &amp;datum_rodjenja_kupca, const std::string &amp;adresa_stana, int sprat_stana, int broj_soba, bool namjesten_stan, double broj_kvadrata) {
    if (broj_prodaja == max_broj_prodaja) throw std::range_error ("Dostignut maksimalni broj prodaja");
    if (!ProvjeriIme(ime_agenta_prodaje)) throw std::domain_error ("Neispravno ime i prezime");
    Datum *datum_prodaje(new Datum(dan_prodaje, mjesec_prodaje, godina_prodaje));
    Kupac *kupac_stana(new Kupac(ime_kupca, datum_rodjenja_kupca));
    Stan *kupljeni_stan(new Stan(adresa_stana, sprat_stana, broj_soba, namjesten_stan, broj_kvadrata));
    Prodaja *prodaja(new Prodaja(ime_agenta_prodaje, cijena_stana, *datum_prodaje, *kupac_stana, *kupljeni_stan));
    sve_prodaje[++broj_prodaja] = prodaja;
}
void Prodaje::RegistrirajProdaju(const std::string &amp;ime_agenta_prodaje, double cijena_stana, const Datum &amp;datum_prodaje, const Kupac &amp;kupac_stana, const Stan &amp;kupljeni_stan) {
    if (broj_prodaja == max_broj_prodaja) throw std::range_error ("Dostignut maksimalni broj prodaja");
    if (!ProvjeriIme(ime_agenta_prodaje)) throw std::domain_error ("Neispravno ime i prezime");
    Prodaja *prodaja(new Prodaja(ime_agenta_prodaje, cijena_stana, datum_prodaje, kupac_stana, kupljeni_stan));
<a name="3"></a><font color="#00FFFF"><a href="match898-0.html#3" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_1.gif"/></a>

    sve_prodaje[++broj_prodaja] = prodaja;
}
Prodaje &amp;Prodaje::operator = (Prodaje &amp;&amp;prodaje) {
    if (&amp;prodaje != this) {
        for (int i = 0; i &lt; broj_prodaja; i++) delete sve_prodaje[i];
        delete[] sve_prodaje;
        sve_prodaje = prodaje.sve_prodaje;
</font>        prodaje.sve_prodaje = nullptr;
        broj_prodaja = prodaje.broj_prodaja;
        max_broj_prodaja = prodaje.max_broj_prodaja;
        prodaje.broj_prodaja = 0;
    }
    return *this;
}
Prodaje::Prodaje(Prodaje &amp;&amp;prodaje) {
    if (&amp;prodaje != this) {
        sve_prodaje = prodaje.sve_prodaje;
        broj_prodaja = prodaje.broj_prodaja;
        max_broj_prodaja = prodaje.max_broj_prodaja;
        prodaje.sve_prodaje = nullptr;
        prodaje.broj_prodaja = 0;
    }
}
<a name="1"></a><font color="#00FF00"><a href="match898-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_1.gif"/></a>

Prodaje &amp;Prodaje::operator = (const Prodaje &amp;prodaje) {
    if (&amp;prodaje != this) {
        for (int i = 0; i &lt; broj_prodaja; i++) delete sve_prodaje[i];
        delete[] sve_prodaje;
        max_broj_prodaja = prodaje.max_broj_prodaja;
        broj_prodaja = prodaje.broj_prodaja;
        sve_prodaje = new Prodaja*[max_broj_prodaja] {};
        for (int i = 0; i &lt; broj_prodaja; i++) 
</font>            sve_prodaje[i] = new Prodaja(*prodaje.sve_prodaje[i]);
    }
    return *this;
}
Prodaje::Prodaje(const Prodaje &amp;prodaje) : max_broj_prodaja(prodaje.max_broj_prodaja), 
broj_prodaja(prodaje.broj_prodaja), sve_prodaje(new Prodaja*[prodaje.max_broj_prodaja] {}) {
        try {
            for (int i = 0; i &lt; prodaje.broj_prodaja; i++) sve_prodaje[i] = new Prodaja(*prodaje.sve_prodaje[i]);
        }
        catch(...) {
            for (int i = 0; i &lt; prodaje.broj_prodaja; i++) delete sve_prodaje[i];
            delete[] sve_prodaje; throw;
        }
}
Prodaje::~Prodaje() {
    for (int i = 0; i &lt; broj_prodaja; i++) delete sve_prodaje[i];
    delete[] sve_prodaje;
}
Prodaje::Prodaje(std::initializer_list&lt;Prodaja&gt; spisak_prodaja) : max_broj_prodaja(spisak_prodaja.size()), broj_prodaja(spisak_prodaja.size()) {
    auto it(spisak_prodaja.begin());
    for (int i = 0; i &lt; spisak_prodaja.size(); i++) {
        sve_prodaje[i] = new Prodaja(*it++);
    }
}
int main ()
{
    return 0;
}</pre>
</body>
</html>
