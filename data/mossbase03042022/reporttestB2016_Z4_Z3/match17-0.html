<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z3/student3009.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z3/student3009.cpp<p></p><pre>
<a name="7"></a><font color="#0000FF"><a href="match17-1.html#7" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_1.gif"/></a>

/B 2016/2017, Zadaća 4, Zadatak 3
//Napomena: testovi ce biti dostupni dan pred rok!
#include &lt;iostream&gt;
#include &lt;string&gt;
#include &lt;stdexcept&gt;
#include &lt;iomanip&gt;
#include &lt;algorithm&gt;
#include &lt;vector&gt;

using namespace std;
class Datum{
    int d,m,g;
    public:
    Datum(int dan, int mjesec, int godina);
    void Postavi(int dan, int mjesec, int godina);
int DajDan() const{
    return d;
}
int DajMjesec() const{
    return m;
}
int DajGodinu() const{
    return g;
}
void Ispisi() const{
    cout&lt;&lt;d&lt;&lt;"/"&lt;&lt;m&lt;&lt;"/"&lt;&lt;g;
}

};
Datum::Datum(int dan, int mjesec, int godina){
    int broj_dana[12] = {31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31};
</font>    if((godina % 4 == 0 &amp;&amp; godina % 100 != 0 )|| godina % 400 == 0) broj_dana[1]++;
<a name="6"></a><font color="#00FF00"><a href="match17-1.html#6" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_2.gif"/></a>

    if(godina &lt; 1 || dan &lt; 1 || mjesec &lt; 1 || mjesec &gt; 12 || dan &gt; broj_dana[mjesec - 1])
        throw domain_error("Neispravan datum.");
    Datum::d = dan;
    Datum::m = mjesec;
    Datum::g = godina;
}
void Datum::Postavi(int dan, int mjesec, int godina){
    Datum::d=dan;
    Datum::m=mjesec;
    Datum::g=godina;
}
class Kupac{
    string ime_prezime;
    Datum datum_rodjenja;
    public:
    Kupac(const std::string &amp;ime_i_prezime, const Datum &amp;datum_rodjenja);
void Postavi(const std::string &amp;ime_i_prezime, const Datum &amp;datum_rodjenja);
std::string DajImePrezime() const{
    return ime_prezime;
}
Datum DajDatumRodjenja() const{
    return datum_rodjenja;
}
void Ispisi() const{
    cout&lt;&lt;ime_prezime&lt;&lt;" (";datum_rodjenja.Ispisi();cout&lt;&lt;")"&lt;&lt;endl;
}

};
Kupac::Kupac(const std::string &amp;ime_i_prezime, const Datum &amp;datum_rodjenja):datum_rodjenja(datum_rodjenja){
    string s=ime_i_prezime;
    //cout&lt;&lt;ime_i_prezime;
    for(int i=0;i&lt;s.length();i++){
        if( ((s[i]&gt;='0' &amp;&amp; s[i]&lt;='9') || (s[i]&gt;='A' &amp;&amp; s[i]&lt;='Z') || (s[i]&gt;='a' &amp;&amp; s[i]&lt;='z')) || s[i]==' ' || s[i]==39 || s[i]=='-');
</font><a name="8"></a><font color="#00FFFF"><a href="match17-1.html#8" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_1.gif"/></a>

        else
        throw std::domain_error("Neispravno ime i prezime.");
    }
    Kupac::ime_prezime=ime_i_prezime;
    //this-&gt;datum_rodjenja=datum_rodjenja;
}
void Kupac::Postavi(const std::string &amp;ime_i_prezime, const Datum &amp;datum_rodjenja){
    ime_prezime=ime_i_prezime;
    this-&gt;datum_rodjenja=datum_rodjenja;
}
class Stan{
    string adresa;
    int sprat,broj_soba;
    bool namjesten;
    double kvadratura;
    public:
    Stan(const std::string &amp;adresa, int sprat, int broj_soba, bool namjesten,
 double kvadratura);
void Postavi(const std::string &amp;adresa, int sprat, int broj_soba,
</font> bool namjesten, double kvadratura);
std::string DajAdresu() const{
    return adresa;
}
<a name="5"></a><font color="#FF0000"><a href="match17-1.html#5" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_3.gif"/></a>

int DajSprat() const{
    return sprat;
}
int DajBrojSoba() const{
    return broj_soba;
}
bool DajNamjesten() const{
    return namjesten;
}
double DajKvadraturu() const{
    return kvadratura;
}
void Ispisi() const{
    cout&lt;&lt;"Stan se nalazi na adresi "&lt;&lt;adresa&lt;&lt;" na "&lt;&lt;sprat&lt;&lt;". spratu i ima "&lt;&lt;broj_soba;
    if(((broj_soba%10==2 &amp;&amp; broj_soba%100!=12) ||( broj_soba%10==3 &amp;&amp; broj_soba%100!=13) || (broj_soba%10==4 &amp;&amp;broj_soba%100!=14)))cout&lt;&lt;" sobe. ";
    else std::cout &lt;&lt;" soba. " ;
    cout&lt;&lt;"Kvadratura stana je "&lt;&lt;kvadratura&lt;&lt;" (m^2) i stan ";
    if(namjesten)std::cout &lt;&lt; "je namjesten." &lt;&lt; std::endl;
    else std::cout &lt;&lt; "nije namjesten." &lt;&lt; std::endl;
}
};
Stan::Stan(const std::string &amp;adresa, int sprat, int broj_soba, bool namjesten,
 double kvadratura){
     if(sprat&lt;1 || broj_soba&lt;1 || kvadratura&lt;=0)throw domain_error("Neispravan unos podataka.");
     this-&gt;adresa=adresa;
     Stan::sprat=sprat;
     Stan::broj_soba=broj_soba;
     Stan::namjesten=namjesten;
     Stan::kvadratura=kvadratura;
 }
 void Stan::Postavi(const std::string &amp;adresa, int sprat, int broj_soba,
 bool namjesten, double kvadratura){
     if(sprat&lt;1 || broj_soba&lt;1 || kvadratura&lt;=0)throw domain_error("Neispravan unos podataka.");
     this-&gt;adresa=adresa;
     Stan::sprat=sprat;
     Stan::broj_soba=broj_soba;
     Stan::namjesten=namjesten;
     Stan::kvadratura=kvadratura;
 }
 class Prodaja{
     string ime_agenta_prodaje;
     double cijena_stana;
     Datum datum_prodaje;
     Kupac kupac_stana;
     Stan kupljeni_stan;
     public:
     Prodaja(const std::string &amp;ime_agenta_prodaje, double cijena_stana,
 const Datum &amp;datum_prodaje, const Kupac &amp;kupac_stana,
</font> const Stan &amp;kupljeni_stan);
Prodaja(const std::string &amp;ime_agenta_prodaje, double cijena_stana,
 int dan_prodaje, int mjesec_prodaje, int godina_prodaje,
 std::string &amp;ime_kupca, const Datum &amp;datum_rodjenja_kupca,
 const std::string &amp;adresa_stana, int sprat_stana, int broj_soba,
<a name="10"></a><font color="#FF0000"><a href="match17-1.html#10" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_0.gif"/></a>

 bool namjesten_stan, double broj_kvadrata);
void PromijeniKupca(const Kupac &amp;novi_kupac){
    kupac_stana=novi_kupac;
} 
void PromijeniStan(const Stan &amp;novi_stan){
    kupljeni_stan=novi_stan;
}
void PromijeniImeAgenta(const std::string novo_ime){
    ime_agenta_prodaje=novo_ime;
}
void PromijeniDatumKupovine(const Datum &amp;novi_datum){
    datum_prodaje=novi_datum;
}
void PromijeniCijenuProdaje(const double &amp;nova_cijena){
    cijena_stana=nova_cijena;
}
void PomjeriDanUnaprijed();
</font>void PomjeriDanUnazad();
std::string DajImeAgenta() const{
    return ime_agenta_prodaje;
}
std::string DajImeKupca() const{
    return kupac_stana.DajImePrezime();
}
Datum DajDatumProdaje() const{
    return datum_prodaje;
}
double DajCijenuStana() const{
    return cijena_stana;
}
friend bool ProdatPrije(const Prodaja &amp;p1, const Prodaja &amp;p2);
friend bool SkupljiStan(const Prodaja &amp;p1, const Prodaja &amp;p2);
void Ispisi() const;

 };
 Prodaja::Prodaja(const std::string &amp;ime_agenta_prodaje, double cijena_stana,
<a name="9"></a><font color="#FF00FF"><a href="match17-1.html#9" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_0.gif"/></a>

 const Datum &amp;datum_prodaje, const Kupac &amp;kupac_stana,
 const Stan &amp;kupljeni_stan):datum_prodaje(datum_prodaje),kupac_stana(kupac_stana),kupljeni_stan(kupljeni_stan){
     Prodaja::ime_agenta_prodaje=ime_agenta_prodaje;
     Prodaja::cijena_stana=cijena_stana;
 }
 Prodaja::Prodaja(const std::string &amp;ime_agenta_prodaje, double cijena_stana,
 int dan_prodaje, int mjesec_prodaje, int godina_prodaje,
 std::string &amp;ime_kupca, const Datum &amp;datum_rodjenja_kupca,
</font> const std::string &amp;adresa_stana, int sprat_stana, int broj_soba,
<a name="4"></a><font color="#FF00FF"><a href="match17-1.html#4" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_6.gif"/></a>

 bool namjesten_stan, double broj_kvadrata):datum_prodaje(dan_prodaje,mjesec_prodaje,godina_prodaje),kupac_stana(ime_kupca,datum_rodjenja_kupca),
 kupljeni_stan(adresa_stana,sprat_stana,broj_soba,namjesten_stan,broj_kvadrata)
 {
     Prodaja::ime_agenta_prodaje=ime_agenta_prodaje;
     Prodaja::cijena_stana=cijena_stana;
 }
 void Prodaja::PomjeriDanUnaprijed(){
     int a=datum_prodaje.DajDan();
     try{
         datum_prodaje.Postavi(a+1,datum_prodaje.DajMjesec(),datum_prodaje.DajGodinu());
     }
     catch(domain_error){
         try{
         datum_prodaje.Postavi(1,datum_prodaje.DajMjesec()+1,datum_prodaje.DajGodinu());
         }
         catch(domain_error){
             datum_prodaje.Postavi(1,1,datum_prodaje.DajGodinu()+1);
         }
     }
 }
 int BrojDana(int mjesec, int godina) {
 int broj_dana[]{31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31};
 if((godina % 4 == 0 &amp;&amp; godina % 100 != 0) || godina % 400 == 0)
 broj_dana[1]++;
 return broj_dana[mjesec - 1];
}

 void Prodaja::PomjeriDanUnazad(){
     int a=datum_prodaje.DajDan();
     try{
         datum_prodaje.Postavi(a-1,datum_prodaje.DajMjesec(),datum_prodaje.DajGodinu());
     }
     catch(domain_error){
         try{
             int c=BrojDana(datum_prodaje.DajMjesec()-1,datum_prodaje.DajGodinu());
         datum_prodaje.Postavi(c,datum_prodaje.DajMjesec()-1,datum_prodaje.DajGodinu());
         }
         catch(domain_error){
             datum_prodaje.Postavi(31,12,datum_prodaje.DajGodinu()-1);
         }
     }
 }
 bool ProdatPrije(const Prodaja &amp;p1, const Prodaja &amp;p2){
     if(p1.datum_prodaje.DajGodinu()&lt;p2.datum_prodaje.DajGodinu())return true;
     else if(p1.datum_prodaje.DajGodinu()==p2.datum_prodaje.DajGodinu()){
         if(p1.datum_prodaje.DajMjesec()&lt; p2.datum_prodaje.DajMjesec())return true;
         else if(p1.datum_prodaje.DajMjesec()== p2.datum_prodaje.DajMjesec()){
            if( p1.datum_prodaje.DajDan()&lt;p2.datum_prodaje.DajDan()) return true;
         }
     }
     return false;
 }
 bool SkupljiStan(const Prodaja &amp;p1, const Prodaja &amp;p2){
     return p1.cijena_stana&lt;p2.cijena_stana;
 }
 void Prodaja::Ispisi() const{
     cout&lt;&lt;setw(32)&lt;&lt;left&lt;&lt;"Ime agenta:";cout&lt;&lt;this-&gt;DajImeAgenta()&lt;&lt;endl;
     cout&lt;&lt;setw(32)&lt;&lt;"Ime kupca:";this-&gt;kupac_stana.Ispisi();;
     cout&lt;&lt;setw(32)&lt;&lt;"Zakazani datum prodaje:";this-&gt;datum_prodaje.Ispisi();cout&lt;&lt;endl;
     cout&lt;&lt;setw(32)&lt;&lt;"Cijena stana:";cout&lt;&lt;this-&gt;DajCijenuStana()&lt;&lt;endl;
     cout&lt;&lt;setw(32)&lt;&lt;"Informacije o stanu:";cout&lt;&lt;endl;
     this-&gt;kupljeni_stan.Ispisi();cout&lt;&lt;endl;
 }
 class Prodaje{
     const int max_broj_prodaja;
     int broj_reg_prodaja;
     Prodaja ** prodaj;
     public:
   explicit Prodaje(int max_broj_prodaja);
Prodaje(std::initializer_list&lt;Prodaja&gt; spisak_prodaja);
~Prodaje();
Prodaje(const Prodaje &amp;prodaje);
Prodaje(Prodaje &amp;&amp;prodaje);
</font>Prodaje &amp;operator =(const Prodaje &amp;prodaje);
Prodaje &amp;operator =(Prodaje &amp;&amp;prodaje);
void RegistrirajProdaju(const std::string &amp;ime_agenta_prodaje,
 double cijena_stana, const Datum &amp;datum_prodaje, const Kupac &amp;kupac_stana,
const Stan &amp;kupljeni_stan);
void RegistrirajProdaju(const std::string &amp;ime_agenta_prodaje,double cijena_stana, int dan_prodaje,
int mjesec_prodaje, int godina_prodaje, std::string &amp;ime_kupca,
 const Datum &amp;datum_rodjenja_kupca, const std::string &amp;adresa_stana,
 int sprat_stana, int broj_soba, bool namjesten_stan, double broj_kvadrata);
void RegistrirajProdaju(Prodaja *prodaja);
<a name="3"></a><font color="#00FFFF"><a href="match17-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_7.gif"/></a>

int DajBrojProdaja() const{
    return broj_reg_prodaja;
}
int DajBrojProdajaNaDatum(const Datum &amp;datum) const;
int DajBrojProdajaOdAgenta(const std::string &amp;ime_agenta) const;
Prodaja &amp;DajProdaju(int a){
    if(a&lt;0 || a&gt;broj_reg_prodaja)throw("nesta");
    return *prodaj[a];
}
Prodaja &amp;DajNajranijuProdaju();
Prodaja DajNajranijuProdaju() const;
Prodaja &amp;DajNajskupljuProdaju();
Prodaja DajNajskupljuProdaju() const;
void IsprazniKolekciju();
void ObrisiNajranijuProdaju();
void ObrisiProdajeAgenta(const std::string &amp;ime_agenta);
void ObrisiProdajeNaDatum(const Datum &amp;datum);
void IspisiProdajeNaDatum(const Datum &amp;datum) const;
void IspisiSveProdaje() const;

 };
 Prodaje::Prodaje(int max_broj_prodaja):max_broj_prodaja(max_broj_prodaja),broj_reg_prodaja(0){
     prodaj=new Prodaja*[max_broj_prodaja];
     for(int i=0;i&lt;max_broj_prodaja;i++)prodaj[i]=0;
 }
 Prodaje::Prodaje(std::initializer_list&lt;Prodaja&gt; spisak_prodaja) : max_broj_prodaja(spisak_prodaja.size()), broj_reg_prodaja(max_broj_prodaja) {
    prodaj=new Prodaja*[spisak_prodaja.size()];
    for(int i(0);i&lt;spisak_prodaja.size();i++) {
        prodaj[i]=nullptr;
    }
    int i(0);
    for(auto it(spisak_prodaja.begin());it!=spisak_prodaja.end();it++) {
        prodaj[i]=new Prodaja(*it);
        i++;
    }
}
 Prodaje::~Prodaje(){
     for(int i=0;i&lt;broj_reg_prodaja;i++)delete prodaj[i];
     delete []prodaj;
 }
 Prodaje::Prodaje(const Prodaje &amp;prodaje):max_broj_prodaja(prodaje.max_broj_prodaja),broj_reg_prodaja(prodaje.broj_reg_prodaja){
     Prodaje::prodaj=new Prodaja*[max_broj_prodaja];
     for(int i=0;i&lt;max_broj_prodaja;i++)Prodaje::prodaj[i]=0;
     for(int i=0;i&lt;broj_reg_prodaja;i++)Prodaje::prodaj[i]=new Prodaja(*prodaje.prodaj[i]);
 }
 Prodaje::Prodaje (Prodaje &amp;&amp;prodaje): max_broj_prodaja(prodaje.max_broj_prodaja),broj_reg_prodaja(prodaje.broj_reg_prodaja),prodaj(prodaje.prodaj) {
    prodaje.prodaj = nullptr;
    prodaje.broj_reg_prodaja = 0;
}
 Prodaje &amp;Prodaje::operator =(const Prodaje &amp;prodaje){
     if(max_broj_prodaja!=prodaje.max_broj_prodaja) throw "Izovrisni i odredisni objekat nisu istog kapaciteta.";
    if(&amp;prodaje==this) return *this;
    IsprazniKolekciju();
    for(int i(0); i&lt;max_broj_prodaja; i++) Prodaje::prodaj[i]=0;
    for(int i(0); i&lt;prodaje.broj_reg_prodaja; i++) Prodaje::prodaj[i]=new Prodaja(*prodaje.prodaj[i]);
    Prodaje::broj_reg_prodaja=prodaje.broj_reg_prodaja;
    return *this;
 }
 Prodaje &amp;Prodaje::operator =(Prodaje &amp;&amp;prodaje){
     if(prodaje.max_broj_prodaja != max_broj_prodaja)
 throw std::logic_error("Prodaje nesaglasnih kapaciteta!");
 std::swap(broj_reg_prodaja, prodaje.broj_reg_prodaja);
 std::swap(prodaj, prodaje.prodaj);
 return *this;

 }
 void Prodaje::RegistrirajProdaju(const std::string &amp;ime_agenta_prodaje,
 double cijena_stana, const Datum &amp;datum_prodaje, const Kupac &amp;kupac_stana,
const Stan &amp;kupljeni_stan){
    if(broj_reg_prodaja==max_broj_prodaja) throw range_error("Dostignut maksimalni broj prodaja.");
    prodaj[broj_reg_prodaja++]=new Prodaja(ime_agenta_prodaje,cijena_stana,datum_prodaje,kupac_stana,kupljeni_stan);
}
void Prodaje::RegistrirajProdaju(const std::string &amp;ime_agenta_prodaje,double cijena_stana, int dan_prodaje,
int mjesec_prodaje, int godina_prodaje, std::string &amp;ime_kupca,
</font><a name="0"></a><font color="#FF0000"><a href="match17-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_47.gif"/></a>

 const Datum &amp;datum_rodjenja_kupca, const std::string &amp;adresa_stana,
 int sprat_stana, int broj_soba, bool namjesten_stan, double broj_kvadrata){
     if(broj_reg_prodaja==max_broj_prodaja) throw range_error("Dostignut maksimalni broj prodaja.");
     Datum datum_prodaje(dan_prodaje,mjesec_prodaje,godina_prodaje);
     Kupac kupac_stana(ime_kupca,datum_rodjenja_kupca);
     Stan kupljeni_stan(adresa_stana,sprat_stana,broj_soba,namjesten_stan,broj_kvadrata);
     prodaj[broj_reg_prodaja++]=new Prodaja(ime_agenta_prodaje,cijena_stana,datum_prodaje,kupac_stana,kupljeni_stan);
 }
void Prodaje::RegistrirajProdaju(Prodaja *prodaja){
    if(broj_reg_prodaja==max_broj_prodaja) throw range_error("Dostignut maksimalni broj prodaja.");
    prodaj[broj_reg_prodaja++]=prodaja;
}
void Prodaje::IspisiProdajeNaDatum(const Datum &amp;datum) const{
    //int r=0;
    cout&lt;&lt;"Prodaje na datum ";datum.Ispisi();cout&lt;&lt;" su:"&lt;&lt;endl;
    for(int i=0;i&lt;broj_reg_prodaja;i++){
        if(prodaj[i]!=nullptr){
            if(prodaj[i]-&gt;DajDatumProdaje().DajGodinu()==datum.DajGodinu() &amp;&amp; prodaj[i]-&gt;DajDatumProdaje().DajMjesec()==datum.DajMjesec() &amp;&amp; prodaj[i]-&gt;DajDatumProdaje().DajDan()==datum.DajDan()){
            //cout&lt;&lt;r&lt;&lt;"."&lt;&lt;endl;
        prodaj[i]-&gt;Ispisi();
        //r++;
            }
        }
    }
}
void Prodaje::IspisiSveProdaje() const{
    sort(prodaj,prodaj+DajBrojProdaja(),[](const Prodaja *p1,const Prodaja *p2){
                            if(p1-&gt;DajDatumProdaje().DajGodinu()&lt;p2-&gt;DajDatumProdaje().DajGodinu())return true;
     else if(p1-&gt;DajDatumProdaje().DajGodinu()==p2-&gt;DajDatumProdaje().DajGodinu()){
         if(p1-&gt;DajDatumProdaje().DajMjesec()&lt; p2-&gt;DajDatumProdaje().DajMjesec())return true;
         else if(p1-&gt;DajDatumProdaje().DajMjesec()== p2-&gt;DajDatumProdaje().DajMjesec()){
            if( p1-&gt;DajDatumProdaje().DajDan()&lt;p2-&gt;DajDatumProdaje().DajDan()) return true;
            else if(p1-&gt;DajDatumProdaje().DajDan()==p2-&gt;DajDatumProdaje().DajDan()){
                if(p1-&gt;DajImeKupca()&lt;p2-&gt;DajImeKupca())return true;
            }
         }
     }
     return false;});
    for(int i=0;i&lt;broj_reg_prodaja;i++){
        //if(prodaj[i]!=nullptr){
            //cout&lt;&lt;i+1&lt;&lt;"."&lt;&lt;endl;
        prodaj[i]-&gt;Ispisi();
    }
}
Prodaja Prodaje::DajNajranijuProdaju() const{
    auto a=std::min_element(prodaj,prodaj+DajBrojProdaja(),[](const Prodaja *p1,const Prodaja *p2){
                            if(p1-&gt;DajDatumProdaje().DajGodinu()&lt;p2-&gt;DajDatumProdaje().DajGodinu())return true;
     else if(p1-&gt;DajDatumProdaje().DajGodinu()==p2-&gt;DajDatumProdaje().DajGodinu()){
         if(p1-&gt;DajDatumProdaje().DajMjesec()&lt; p2-&gt;DajDatumProdaje().DajMjesec())return true;
         else if(p1-&gt;DajDatumProdaje().DajMjesec()== p2-&gt;DajDatumProdaje().DajMjesec()){
            if( p1-&gt;DajDatumProdaje().DajDan()&lt;p2-&gt;DajDatumProdaje().DajDan()) return true;
         }
     }
     return false;});
    return **a;
}
Prodaja &amp;Prodaje::DajNajranijuProdaju() {
    auto a=std::min_element(prodaj,prodaj+DajBrojProdaja(),[](const Prodaja *p1,const Prodaja *p2){
                            if(p1-&gt;DajDatumProdaje().DajGodinu()&lt;p2-&gt;DajDatumProdaje().DajGodinu())return true;
     else if(p1-&gt;DajDatumProdaje().DajGodinu()==p2-&gt;DajDatumProdaje().DajGodinu()){
         if(p1-&gt;DajDatumProdaje().DajMjesec()&lt; p2-&gt;DajDatumProdaje().DajMjesec())return true;
         else if(p1-&gt;DajDatumProdaje().DajMjesec()== p2-&gt;DajDatumProdaje().DajMjesec()){
            if( p1-&gt;DajDatumProdaje().DajDan()&lt;p2-&gt;DajDatumProdaje().DajDan()) return true;
         }
     }
     return false;});
    return **a;
}
Prodaja &amp;Prodaje::DajNajskupljuProdaju(){
    auto a=std::max_element(prodaj,prodaj+DajBrojProdaja(),[](const Prodaja *p1,const Prodaja *p2){
                            if(p1-&gt;DajCijenuStana()&lt;p2-&gt;DajCijenuStana())return true;
     return false;});
    return **a;
}
Prodaja Prodaje::DajNajskupljuProdaju() const{
    auto a=std::max_element(prodaj,prodaj+DajBrojProdaja(),[](const Prodaja *p1,const Prodaja *p2){
                            if(p1-&gt;DajCijenuStana()&lt;p2-&gt;DajCijenuStana())return true;
     return false;});
    return **a;
}
int Prodaje::DajBrojProdajaNaDatum(const Datum &amp;datum) const{
    if(broj_reg_prodaja==0)throw std::domain_error("Nema registriranih prodaja.");
    return std::count_if(prodaj,prodaj+broj_reg_prodaja,[datum](Prodaja *p1){
        if(p1-&gt;DajDatumProdaje().DajDan()==datum.DajDan()){
            if(p1-&gt;DajDatumProdaje().DajMjesec()==datum.DajMjesec()){
                if(p1-&gt;DajDatumProdaje().DajGodinu()==datum.DajGodinu()){
                    return true;
                }
            }
        }
        return false;
    });
}
int Prodaje::DajBrojProdajaOdAgenta(const std::string &amp;ime_agenta) const{
    if(broj_reg_prodaja==0)throw std::domain_error("Nema registriranih prodaja.");
    return std::count_if(prodaj,prodaj+broj_reg_prodaja,[ime_agenta](Prodaja *p1){
        if(p1-&gt;DajImeAgenta()==ime_agenta)return true;
        return false;
    });
}
void Prodaje::ObrisiNajranijuProdaju(){
    if(broj_reg_prodaja==0)throw std::range_error("Prazna kolekcija.");
    Datum datum=this-&gt;DajNajranijuProdaju().DajDatumProdaje();
    int br=0;
    for(int i=0;i&lt;broj_reg_prodaja;i++){
        if(prodaj[i]-&gt;DajDatumProdaje().DajDan()==datum.DajDan()){
            if(prodaj[i]-&gt;DajDatumProdaje().DajMjesec()==datum.DajMjesec()){
                if(prodaj[i]-&gt;DajDatumProdaje().DajGodinu()==datum.DajGodinu()){
                    delete prodaj[i];
                    prodaj[i]=nullptr;
                    br++;
                }
            }
        }
    }
    remove(prodaj,prodaj+broj_reg_prodaja,nullptr);
    broj_reg_prodaja=broj_reg_prodaja-br;
}
void Prodaje::ObrisiProdajeAgenta(const std::string &amp;ime_agenta){
    if(broj_reg_prodaja==0)throw std::range_error("Prazna kolekcija.");
    int br=0;
    for(int i=0;i&lt;broj_reg_prodaja;i++){
        if(prodaj[i]-&gt;DajImeAgenta()==ime_agenta){
            delete prodaj[i];
            prodaj[i]=nullptr;
            br++;
        }
    }
    remove(prodaj,prodaj+broj_reg_prodaja,nullptr);
    broj_reg_prodaja=broj_reg_prodaja-br;
}
void Prodaje::ObrisiProdajeNaDatum(const Datum &amp;datum){
    if(broj_reg_prodaja==0)throw std::range_error("Prazna kolekcija.");
    int br=0;
    for(int i=0;i&lt;broj_reg_prodaja;i++){
        if(prodaj[i]-&gt;DajDatumProdaje().DajDan()==datum.DajDan()){
            if(prodaj[i]-&gt;DajDatumProdaje().DajMjesec()==datum.DajMjesec()){
                if(prodaj[i]-&gt;DajDatumProdaje().DajGodinu()==datum.DajGodinu()){
                    delete prodaj[i];
                    prodaj[i]=nullptr;
                    br++;
                }
            }
        }
    }
    remove(prodaj,prodaj+broj_reg_prodaja,nullptr);
    broj_reg_prodaja=broj_reg_prodaja-br;
}
void Prodaje::IsprazniKolekciju(){
    for(int i(0); i&lt;broj_reg_prodaja; i++) delete prodaj[i];
    broj_reg_prodaja=0;
}
int main()
{
    /*Datum d(31,3,1997);
    //d.Ispisi();
    Kupac adem("adem cogic",{31,3,1997});
    //adem.Ispisi();
    std::cout  &lt;&lt; std::endl;
    Stan lamijin("Hamdije Cemerlica 16",5,13,true,78.05);
    //lamijin.Ispisi();
    Prodaja s("huso",78000,d,adem,lamijin);
    s.Ispisi();*/
    std::vector&lt;Stan&gt;s ;
    std::vector&lt;Kupac&gt;v;
    Prodaje p(20);
    cout&lt;&lt;"Dobrodosli!";
    cout&lt;&lt;endl;
    cout&lt;&lt;" "&lt;&lt;endl;
    cout&lt;&lt;" "&lt;&lt;endl;
    POCETAK:
    cout&lt;&lt;"Izaberite opciju:"&lt;&lt;endl;
 cout&lt;&lt;" 0 - kraj"&lt;&lt;endl;
 cout&lt;&lt;" 1 - uredjivanje stanova"&lt;&lt;endl;
 cout&lt;&lt;" 2 - uredjivanje kupaca"&lt;&lt;endl;
 cout&lt;&lt;" 3 - uredjivanje prodaja"&lt;&lt;endl;
 int opcija;
 cin&gt;&gt;opcija;
 switch(opcija){
 case 0:{
     cout&lt;&lt;endl&lt;&lt;endl&lt;&lt;"Dovidjenja!"&lt;&lt;endl;
     return 0;
 }
 case 1:{
     NASTAN:
     cout&lt;&lt;"Izaberite opciju:"&lt;&lt;endl;
 cout&lt;&lt;" 0 - nazad"&lt;&lt;endl;
 cout&lt;&lt;" 1 - dodavanje stana"&lt;&lt;endl;
 cout&lt;&lt;" 2 - uredjivanje stanova"&lt;&lt;endl;
 cout&lt;&lt;" 3 - ispis svih stanova"&lt;&lt;endl;
 cout&lt;&lt;" 4 - kraj"&lt;&lt;endl;
 int opcija;
 cin&gt;&gt;opcija;
 switch(opcija){
     case 0:{
         goto POCETAK;
     }
     case 1:{
         PONOVOUNESI:
         //bool unesen_ispravno=false;
         //while(unesen_ispravno){
         cout&lt;&lt;"Unesite adresu: ";
         string adresa;
         cin.clear();
         cin.ignore(10000,'\n');
         getline(cin,adresa);
         cout&lt;&lt;"Unesite sprat: ";
         int sprat;
         cin&gt;&gt;sprat;
         cout&lt;&lt;"Unesite broj soba: ";
         int broj_soba;
         cin&gt;&gt;broj_soba;
         cout&lt;&lt;"Da li je stan namjesten (1 - da, 0 - ne): ";
         int nam;
         cin&gt;&gt;nam;
         cout&lt;&lt;"Unesite kvadraturu: ";
         double kvadratura;
         cin&gt;&gt;kvadratura;
         bool namjesten=true;
         if(nam==0)namjesten=false;
         try{
             if(nam&gt;1 || nam&lt;0)throw domain_error("Neispravan unos podataka.");
             Stan novi_stan(adresa,sprat,broj_soba,namjesten,kvadratura);
             //unesen_ispravno=true;
             cout&lt;&lt;"Stan je uspjesno dodan!"&lt;&lt;endl;
             cout&lt;&lt;" "&lt;&lt;endl;
             s.push_back(novi_stan);
             goto NASTAN;
         }
         catch(domain_error e){
             cout&lt;&lt;"Izuzetak: "&lt;&lt;e.what();
             cout&lt;&lt;" Molimo unesite opet."&lt;&lt;endl;
             goto PONOVOUNESI;
         }
         //}
     }
     case 2:{
         cout&lt;&lt;"Odaberite stan. ";
        cout&lt;&lt;"Dostupni stanovi su:"&lt;&lt;endl;
        for(int i=0;i&lt;s.size();i++){
                cout&lt;&lt;" "&lt;&lt;i+1&lt;&lt;" - ";
            s[i].Ispisi();
        }
        cout&lt;&lt;" "&lt;&lt;endl;
        int koji;
        cin&gt;&gt;koji;
        GLUPOST:
        cout&lt;&lt;"Odaberite polje koje zelite urediti:"&lt;&lt;endl;
cout&lt;&lt;" 0 - nazad"&lt;&lt;endl;
cout&lt;&lt;" 1 - adresa"&lt;&lt;endl;
cout&lt;&lt;" 2 - sprat"&lt;&lt;endl;
cout&lt;&lt;" 3 - broj soba"&lt;&lt;endl;
cout&lt;&lt;" 4 - da li je stan namjesten"&lt;&lt;endl;
cout&lt;&lt;" 5 - kvadratura"&lt;&lt;endl;
cout&lt;&lt;" 6 - sve"&lt;&lt;endl;
int opcija;
cin&gt;&gt;opcija;
        switch(opcija){
            case 0:{
                goto NASTAN;
            }
            case 1:{
                PONADRESA:
                cout&lt;&lt;"Unesite adresu: ";
                string nova_adresa;
                cin.clear();
                cin.ignore(100000,'\n');
                getline(cin,nova_adresa);
                try{
                s[koji-1].Postavi(nova_adresa,s[koji-1].DajSprat(),s[koji-1].DajBrojSoba(),s[koji-1].DajNamjesten(),s[koji-1].DajKvadraturu());
                cout&lt;&lt;"Stan je uspjesno izmijenjen!"&lt;&lt;endl;
                cout&lt;&lt;" "&lt;&lt;endl;
                goto NASTAN;
                }
                catch(domain_error e){
                    cout&lt;&lt;"Izuzetak: "&lt;&lt;e.what();
             cout&lt;&lt;" Molimo unesite opet."&lt;&lt;endl;
             goto PONADRESA;
                }
            }
            case 2:{
                PONSPRAT:
                cout&lt;&lt;"Unesite sprat: ";
                int novi_sprat;
                cin&gt;&gt;novi_sprat;
                try{
                s[koji-1].Postavi(s[koji-1].DajAdresu(),novi_sprat,s[koji-1].DajBrojSoba(),s[koji-1].DajNamjesten(),s[koji-1].DajKvadraturu());
                cout&lt;&lt;"Stan je uspjesno izmijenjen!"&lt;&lt;endl;
                cout&lt;&lt;" "&lt;&lt;endl;
                goto NASTAN;
                }
                catch(domain_error e){
                    cout&lt;&lt;"Izuzetak: "&lt;&lt;e.what();
             cout&lt;&lt;" Molimo unesite opet."&lt;&lt;endl;
             goto PONSPRAT;
                }
            }
            case 3:{
                PONBRSOBA:
                cout&lt;&lt;"Unesite broj soba: ";
                int novi_broj_soba;
                cin&gt;&gt;novi_broj_soba;
                try{
                s[koji-1].Postavi(s[koji-1].DajAdresu(),s[koji-1].DajSprat(),novi_broj_soba,s[koji-1].DajNamjesten(),s[koji-1].DajKvadraturu());
                cout&lt;&lt;"Stan je uspjesno izmijenjen!"&lt;&lt;endl;
                cout&lt;&lt;" "&lt;&lt;endl;
                goto NASTAN;
                }
                catch(domain_error e){
                    cout&lt;&lt;"Izuzetak: "&lt;&lt;e.what();
             cout&lt;&lt;" Molimo unesite opet."&lt;&lt;endl;
             goto PONBRSOBA;
                }
            }
            case 4:{
                PONNAMJESTEN:
                cout&lt;&lt;"Da li je stan namjesten (1 - da, 0 - ne): ";
                int nam;
                cin&gt;&gt;nam;
                bool namjesten=true;
                if(nam==0)namjesten=false;
                //else if(nam==1)namjesten=true;
                try{
                    if(nam&gt;1 || nam&lt;0)throw domain_error("Neispravan unos podataka.");
                s[koji-1].Postavi(s[koji-1].DajAdresu(),s[koji-1].DajSprat(),s[koji-1].DajBrojSoba(),namjesten,s[koji-1].DajKvadraturu());
                cout&lt;&lt;"Stan je uspjesno izmijenjen!"&lt;&lt;endl;
                cout&lt;&lt;" "&lt;&lt;endl;
                goto NASTAN;
                }
                catch(domain_error e){
                    cout&lt;&lt;"Izuzetak: "&lt;&lt;e.what();
             cout&lt;&lt;" Molimo unesite opet."&lt;&lt;endl;
             goto PONNAMJESTEN;
                }
            }
            case 5:{
                PONKVADRATURA:
                cout&lt;&lt;"Unesite kvadraturu: ";
                double kvadratura;
                cin&gt;&gt;kvadratura;
                try{
                s[koji-1].Postavi(s[koji-1].DajAdresu(),s[koji-1].DajSprat(),s[koji-1].DajBrojSoba(),s[koji-1].DajNamjesten(),kvadratura);
                cout&lt;&lt;"Stan je uspjesno izmijenjen!"&lt;&lt;endl;
                cout&lt;&lt;" "&lt;&lt;endl;
                goto NASTAN;
                }
                catch(domain_error e){
                    cout&lt;&lt;"Izuzetak: "&lt;&lt;e.what();
             cout&lt;&lt;" Molimo unesite opet."&lt;&lt;endl;
             goto PONKVADRATURA;
                }
            }
            case 6:{
                PONOVOSVE:
                cout&lt;&lt;"Unesite adresu: ";
         string adresa;
         cin.clear();
         cin.ignore(10000,'\n');
         getline(cin,adresa);
         cout&lt;&lt;"Unesite sprat: ";
         int sprat;
         cin&gt;&gt;sprat;
         cout&lt;&lt;"Unesite broj soba: ";
         int broj_soba;
         cin&gt;&gt;broj_soba;
         cout&lt;&lt;"Da li je stan namjesten (1 - da, 0 - ne): ";
         int nam;
         cin&gt;&gt;nam;
         cout&lt;&lt;"Unesite kvadraturu: ";
         double kvadratura;
         cin&gt;&gt;kvadratura;
         cin.clear();
         //cin.ignore(10000,'\n');
         bool namjesten;
         if(nam==0)namjesten=false;
         else if(nam==1)namjesten=true;
         try{
             if(nam&gt;1)throw domain_error("Neispravan unos podataka");
             s[koji-1].Postavi(adresa,sprat,broj_soba,namjesten,kvadratura);
             cout&lt;&lt;"Stan je uspjesno izmijenjen!"&lt;&lt;endl;
             cout&lt;&lt;" "&lt;&lt;endl;
             goto NASTAN;
         }
         catch(domain_error e){
             cout&lt;&lt;"Izuzetak: "&lt;&lt;e.what()&lt;&lt;endl;
             goto PONOVOSVE;
         }
            }
        }
     }
     case 3:{
         for(int i=0;i&lt;s.size();i++){
                cout&lt;&lt;i+1&lt;&lt;". ";
            s[i].Ispisi();
        //cout&lt;&lt;endl;
        }
        cout&lt;&lt;" "&lt;&lt;endl;
        goto NASTAN;
     }
     case 4:{
         cout&lt;&lt;"Dovidjenja!";
        return 0;
     }
 }
 }
 case 2:{
     NAKUPAC:
     cout&lt;&lt;"Izaberite opciju:"&lt;&lt;endl;
cout&lt;&lt;" 0 - nazad"&lt;&lt;endl;
cout&lt;&lt;" 1 - dodavanje kupca"&lt;&lt;endl;
cout&lt;&lt;" 2 - uredjivanje kupaca"&lt;&lt;endl;
cout&lt;&lt;" 3 - ispis svih kupaca"&lt;&lt;endl;
cout&lt;&lt;" 4 - kraj"&lt;&lt;endl;
     int opcija;
     cin&gt;&gt;opcija;
     switch(opcija){
         case 0:{
             goto POCETAK;
         }
         case 1:{
             PONKUPAC:
             cout&lt;&lt;"Unesite ime i prezime kupca: ";
             string ime;
             cin.clear();
             cin.ignore(100000,'\n');
             getline(cin,ime);
             cout&lt;&lt;"Unesite datum rodjenja (formata d/m/g): ";
             int dan,mjesec,godina;
             char c1,c2;
             cin&gt;&gt;dan;
             cin&gt;&gt;c1;
             cin&gt;&gt;mjesec;
             cin&gt;&gt;c2;
             cin&gt;&gt;godina;
             if(c1!='/' || c2!='/')throw domain_error("Neispravan datum.");
             try{
             Datum datum_rodjenja(dan,mjesec,godina);
             }
             catch(domain_error e){
                 cout&lt;&lt;"Izuzetak: "&lt;&lt;e.what();
             cout&lt;&lt;" Molimo unesite opet."&lt;&lt;endl;
             goto PONKUPAC;
             }
             try{
             Kupac k(ime,{dan,mjesec,godina});
             cout&lt;&lt;"Kupac je uspjesno dodan!"&lt;&lt;endl&lt;&lt;endl;
             v.push_back(k);
             goto NAKUPAC;
             }
             catch(domain_error e){
                 cout&lt;&lt;"Izuzetak: "&lt;&lt;e.what();
             cout&lt;&lt;" Molimo unesite opet."&lt;&lt;endl;
             goto PONKUPAC;
             }
             
         }
         case 2:{
             cout&lt;&lt;"Odaberite kupca kojeg zelite urediti. ";
             cout&lt;&lt;"Dostupni kupci su:"&lt;&lt;endl;
             for(int i=0;i&lt;v.size();i++){
                cout&lt;&lt;" "&lt;&lt;i+1&lt;&lt;" - ";
            v[i].Ispisi();
        }
        int koji;
        cin&gt;&gt;koji;
        PONUREDJIVANJE:
        cout&lt;&lt;"Unesite ime i prezime kupca: ";
        string novo_ime;
        cin.clear();
        cin.ignore(10000,'\n');
        getline(cin,novo_ime);
        cout&lt;&lt;"Unesite datum rodjenja (formata d/m/g): ";
        int dan,mjesec,godina;
             char c1,c2;
             cin&gt;&gt;dan;
             cin&gt;&gt;c1;
             cin&gt;&gt;mjesec;
             cin&gt;&gt;c2;
             cin&gt;&gt;godina;
             if(c1!='/' || c2!='/')throw domain_error("Neispravan datum.");
             try{
                 v[koji-1].Postavi(novo_ime,{dan,mjesec,godina});
                 cout&lt;&lt;"Kupac je uspjesno izmijenjen!"&lt;&lt;endl&lt;&lt;endl;
                 goto NAKUPAC;
             }
             catch(domain_error e){
                 cout&lt;&lt;"Izuzetak: "&lt;&lt;e.what();
             cout&lt;&lt;" Molimo unesite opet."&lt;&lt;endl;
             goto PONUREDJIVANJE;
             }
             
         }
         case 3:{
             for(int i=0;i&lt;v.size();i++){
                //cout&lt;&lt;i+1&lt;&lt;".";
            v[i].Ispisi();
        //cout&lt;&lt;endl;
        }
        cout&lt;&lt;endl;
        goto NAKUPAC;
         }
         case 4:{
             cout&lt;&lt;"Dovidjenja!";
             return 0;
         }
     }
 }
 case 3:{
     NAZAD1:
     cout&lt;&lt;"Izaberite opciju:"&lt;&lt;endl;
cout&lt;&lt;" 0 - nazad"&lt;&lt;endl;
cout&lt;&lt;" 1 - dodavanje prodaje"&lt;&lt;endl;
cout&lt;&lt;" 2 - uredjivanje prodaje"&lt;&lt;endl;
cout&lt;&lt;" 3 - ispis prodaja"&lt;&lt;endl;
cout&lt;&lt;" 4 - brisanje prodaja"&lt;&lt;endl;
cout&lt;&lt;" 5 - kraj"&lt;&lt;endl;
int opcija;
cin&gt;&gt;opcija;
switch(opcija){
    case 0:{
        goto POCETAK;
    }
    case 1:{
        NOVPRODAJE:
        cout&lt;&lt;"Izaberite opciju:"&lt;&lt;endl;
cout&lt;&lt;" 0 - nazad"&lt;&lt;endl;
cout&lt;&lt;" 1 - dodavanje potpuno nove prodaje"&lt;&lt;endl;
cout&lt;&lt;" 2 - dodavanje nove prodaje na osnovu arhive"&lt;&lt;endl;
cout&lt;&lt;" 3 - kraj"&lt;&lt;endl;
int opcija;
cin&gt;&gt;opcija;
switch(opcija){
    case 0:{
        goto NAZAD1;
    }
    case 1:{
        PONURD:
        cout&lt;&lt;"Unesite ime i prezime agenta prodaje: ";
        string ime_agenta_prodaje;
        cin.clear();
        cin.ignore(10000,'\n');
        getline(cin,ime_agenta_prodaje);
        cout&lt;&lt;"Unesite datum prodaje (formata d/m/g): ";
        int dan,mjesec,godina;
             char c1,c2;
             cin&gt;&gt;dan;
             cin&gt;&gt;c1;
             cin&gt;&gt;mjesec;
             cin&gt;&gt;c2;
             cin&gt;&gt;godina;
             if(c1!='/' || c2!='/')throw domain_error("Neispravan datum.");
             try{
             Datum datum_prodaje(dan,mjesec,godina);
             }
             catch(domain_error e){
                 cout&lt;&lt;"Izuzetak: "&lt;&lt;e.what();
             cout&lt;&lt;" Molimo unesite opet."&lt;&lt;endl;
             //goto PONKUPAC;
             }
             cout&lt;&lt;"Unesite cijenu stana: ";
             int cijena_stana;
             cin&gt;&gt;cijena_stana;
             cout&lt;&lt;"Unesite ime kupca: ";
             string ime_kupca;
        cin.clear();
        cin.ignore(10000,'\n');
        getline(cin,ime_kupca);
        cout&lt;&lt;"Unesite datum rodjenja kupca (formata d/m/g): ";
        int dan1,mjesec1,godina1;
             char c3,c4;
             cin&gt;&gt;dan1;
             cin&gt;&gt;c3;
             cin&gt;&gt;mjesec1;
             cin&gt;&gt;c4;
             cin&gt;&gt;godina1;
             if(c3!='/' || c4!='/')throw domain_error("Neispravan datum.");
             try{
             Datum datum_rodjenja_kupca(dan,mjesec,godina);
             }
             catch(domain_error e){
                 cout&lt;&lt;"Izuzetak: "&lt;&lt;e.what();
             cout&lt;&lt;" Molimo unesite opet."&lt;&lt;endl;
             //goto PONKUPAC;
             }
             cout&lt;&lt;"Unesite adresu: ";
             string adresa;
        cin.clear();
        cin.ignore(10000,'\n');
        getline(cin,adresa);
        cout&lt;&lt;"Unesite sprat: ";
        int sprat;
        cin&gt;&gt;sprat;
        cout&lt;&lt;"Unesite broj soba: ";
        int broj_soba;
        cin&gt;&gt;broj_soba;
        cout&lt;&lt;"Da li je stan namjesten (1 - da, 0 - ne): ";
        int nam;
        bool namjesten=true;
        cin&gt;&gt;nam;
        if(nam==0)namjesten=false;
         //else if(nam==1)namjesten=true;
         cout&lt;&lt;"Unesite kvadraturu: ";
         double kvadratura;
         cin&gt;&gt;kvadratura;
         try{
             if(nam&lt;0 || nam&gt;1)throw domain_error("Neispravan");
             p.RegistrirajProdaju(ime_agenta_prodaje,cijena_stana,{dan,mjesec,godina},{ime_kupca,{dan1,mjesec1,godina1}},{adresa,sprat,broj_soba,namjesten,kvadratura});
            cout&lt;&lt;"Prodaja uspjesno dodana!"&lt;&lt;endl&lt;&lt;endl;
            s.push_back({adresa,sprat,broj_soba,namjesten,kvadratura});
            v.push_back({ime_kupca,{dan1,mjesec1,godina1}});
            goto NOVPRODAJE;
             
         }
         catch(domain_error e){
             cout&lt;&lt;"Izuzetak: "&lt;&lt;e.what();
             cout&lt;&lt;" Molimo unesite opet."&lt;&lt;endl;
             goto PONURD;
         }
    }
    case 2:{
        cout&lt;&lt;"Unesite ime i prezime agenta prodaje: ";
        string ime_agenta_prodaje;
        cin.clear();
        cin.ignore(10000,'\n');
        getline(cin,ime_agenta_prodaje);
        cout&lt;&lt;"Unesite datum prodaje (formata d/m/g): ";
        int dan,mjesec,godina;
             char c1,c2;
             cin&gt;&gt;dan;
             cin&gt;&gt;c1;
             cin&gt;&gt;mjesec;
             cin&gt;&gt;c2;
             cin&gt;&gt;godina;
             if(c1!='/' || c2!='/')throw domain_error("Neispravan datum.");
             try{
             Datum datum_prodaje(dan,mjesec,godina);
             }
             catch(domain_error e){
                 cout&lt;&lt;"Izuzetak: "&lt;&lt;e.what();
             cout&lt;&lt;" Molimo unesite opet."&lt;&lt;endl;
             //goto PONKUPAC;
             }
             cout&lt;&lt;"Unesite cijenu stana: ";
             int cijena_stana;
             cin&gt;&gt;cijena_stana;
             cout&lt;&lt;"Odaberite kupca. ";
             cout&lt;&lt;"Dostupni kupci su:"&lt;&lt;endl;
             for(int i=0;i&lt;v.size();i++){
                cout&lt;&lt;" "&lt;&lt;i+1&lt;&lt;" - ";
            v[i].Ispisi();
        //cout&lt;&lt;endl;
        }
        int koji;
        cin&gt;&gt;koji;
        cout&lt;&lt;"Odaberite stan. ";
        cout&lt;&lt;"Dostupni stanovi su:"&lt;&lt;endl;
        for(int i=0;i&lt;s.size();i++){
                cout&lt;&lt;" "&lt;&lt;i+1&lt;&lt;" - ";
            s[i].Ispisi();
        }
        int koji_stan;
        cin&gt;&gt;koji_stan;
        p.RegistrirajProdaju(ime_agenta_prodaje,cijena_stana,{dan,mjesec,godina},{v[koji-1].DajImePrezime(),v[koji-1].DajDatumRodjenja()},{s[koji_stan-1].DajAdresu(),s[koji_stan-1].DajSprat(),s[koji_stan-1].DajBrojSoba(),s[koji_stan-1].DajNamjesten(),s[koji_stan-1].DajKvadraturu()});
</font><a name="1"></a><font color="#00FF00"><a href="match17-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_12.gif"/></a>

        cout&lt;&lt;"Prodaja uspjesno dodana!"&lt;&lt;endl&lt;&lt;endl;
            goto NOVPRODAJE;
    }
    case 3:{
            cout&lt;&lt;"Dovidjenja!"&lt;&lt;endl;
    }
}
    }
    case 2:{
        cout&lt;&lt;"Odaberite prodaju koju želite urediti. ";
        cout&lt;&lt;"Dostupne prodaje su:"&lt;&lt;endl;
        for(int i=0;i&lt;p.DajBrojProdaja();i++){
            cout&lt;&lt;i+1&lt;&lt;"."&lt;&lt;endl;
            Prodaja pom=p.DajProdaju(i);
            pom.Ispisi();
            cout&lt;&lt;endl;
        }
        int koja_prodaja;
        cin&gt;&gt;koja_prodaja;
        cout&lt;&lt;"Izaberite opciju:"&lt;&lt;endl;
cout&lt;&lt;" 0 - nazad"&lt;&lt;endl;
cout&lt;&lt;" 1 - izmjena agenta"&lt;&lt;endl;
cout&lt;&lt;" 2 - izmjena datuma prodaje"&lt;&lt;endl;
cout&lt;&lt;" 3 - izmjena kupca"&lt;&lt;endl;
cout&lt;&lt;" 4 - izmjena stana"&lt;&lt;endl;
cout&lt;&lt;" 5 - izmjena cijene stana"&lt;&lt;endl;
int opcija;
cin&gt;&gt;opcija;
switch(opcija){
    case 0:{
        goto NAZAD1;
    }
    case 1:{
            cout&lt;&lt;"Unesite ime i prezime agenta prodaje: ";
            string ime_agenta_prodaje;
            cin.clear();
            cin.ignore(10000,'\n');
            getline(cin,ime_agenta_prodaje);
            p.DajProdaju(koja_prodaja-1).PromijeniImeAgenta(ime_agenta_prodaje);
            cout&lt;&lt;"Prodaja je uspjesno izmijenjena!"&lt;&lt;endl&lt;&lt;endl;
                 goto NAZAD1;
    }
    case 2:{
        cout&lt;&lt;"Unesite datum prodaje (formata d/m/g): ";
        int dan,mjesec,godina;
             char c1,c2;
             cin&gt;&gt;dan;
             cin&gt;&gt;c1;
             cin&gt;&gt;mjesec;
             cin&gt;&gt;c2;
             cin&gt;&gt;godina;
             if(c1!='/' || c2!='/')throw domain_error("Neispravan datum.");
             try{
                 p.DajProdaju(koja_prodaja-1).PromijeniDatumKupovine({dan,mjesec,godina});
                 cout&lt;&lt;"Prodaja je uspjesno izmijenjena!"&lt;&lt;endl&lt;&lt;endl;
                 goto NAZAD1;
             }
             catch(domain_error e){
                 cout&lt;&lt;"Izuzetak: "&lt;&lt;e.what();
             cout&lt;&lt;" Molimo unesite opet."&lt;&lt;endl;
             }
    }
    case 3:{
        cout&lt;&lt;"Izaberite opciju:"&lt;&lt;endl;
cout&lt;&lt;" 0 - nazad"&lt;&lt;endl;
cout&lt;&lt;" 1 - odabir postojeceg kupca"&lt;&lt;endl;
cout&lt;&lt;" 2 - dodavanje novog kupca"&lt;&lt;endl;
int opcija;
cin&gt;&gt;opcija;
switch(opcija){
    case 0:{
        goto NAZAD1;
    }
    case 1:{
        cout&lt;&lt;"Odaberite kupca. ";
             cout&lt;&lt;"Dostupni kupci su:"&lt;&lt;endl;
             for(int i=0;i&lt;v.size();i++){
                cout&lt;&lt;i+1&lt;&lt;".";
            v[i].Ispisi();
        //cout&lt;&lt;endl;
        }
        int koji_ku;
        cin&gt;&gt;koji_ku;
        p.DajProdaju(koja_prodaja-1).PromijeniKupca(v[koji_ku-1]);
        cout&lt;&lt;"Prodaja je uspjesno izmijenjena!"&lt;&lt;endl&lt;&lt;endl;
        goto NAZAD1;
    }
    case 2:{
        PON26:
        cout&lt;&lt;"Unesite ime i prezime kupca: ";
             string ime;
             cin.clear();
             cin.ignore(100000,'\n');
             getline(cin,ime);
             cout&lt;&lt;"Unesite datum rodjenja (formata d/m/g): ";
             int dan,mjesec,godina;
             char c1,c2;
             cin&gt;&gt;dan;
             cin&gt;&gt;c1;
             cin&gt;&gt;mjesec;
             cin&gt;&gt;c2;
             cin&gt;&gt;godina;
             if(c1!='/' || c2!='/')throw domain_error("Neispravan datum.");
             try{
             Datum datum_rodjenja(dan,mjesec,godina);
             }
             catch(domain_error e){
                 cout&lt;&lt;"Izuzetak: "&lt;&lt;e.what();
             cout&lt;&lt;" Molimo unesite opet."&lt;&lt;endl;
             goto PON26;
             }
             try{
             Kupac k(ime,{dan,mjesec,godina});
             v.push_back(k);
             p.DajProdaju(koja_prodaja-1).PromijeniKupca(k);
             cout&lt;&lt;"Prodaja je uspjesno izmijenjena!"&lt;&lt;endl&lt;&lt;endl;
             goto NAZAD1;
             }
             catch(domain_error e){
                 cout&lt;&lt;"Izuzetak: "&lt;&lt;e.what();
             cout&lt;&lt;" Molimo unesite opet."&lt;&lt;endl;
             goto PON26;
             }
    }
}
    }
    case 4:{
        cout&lt;&lt;"Izaberite opciju:"&lt;&lt;endl;
cout&lt;&lt;" 0 - nazad"&lt;&lt;endl;
cout&lt;&lt;" 1 - odabir postojeceg stana"&lt;&lt;endl;
cout&lt;&lt;" 2 - dodavanje novog stana"&lt;&lt;endl;
int opcija;
cin&gt;&gt;opcija;
switch(opcija){
    case 0:{
        goto NAZAD1;
    }
    case 1:{
        cout&lt;&lt;"Odaberite stan. ";
        cout&lt;&lt;"Dostupni stanovi su: "&lt;&lt;endl;
        for(int i=0;i&lt;s.size();i++){
                cout&lt;&lt;i+1&lt;&lt;".";
            s[i].Ispisi();
        }
        int koji;
        cin&gt;&gt;koji;
        p.DajProdaju(koja_prodaja-1).PromijeniStan(s[koji-1]);
        cout&lt;&lt;"Prodaja je uspjesno izmijenjena!"&lt;&lt;endl&lt;&lt;endl;
        goto NAZAD1;
    }
    case 2:{
        PONOVOUNESI56:
        cout&lt;&lt;"Unesite adresu: ";
         string adresa;
         cin.clear();
         cin.ignore(10000,'\n');
         getline(cin,adresa);
         cout&lt;&lt;"Unesite sprat: ";
         int sprat;
         cin&gt;&gt;sprat;
         cout&lt;&lt;"Unesite broj soba: ";
         int broj_soba;
         cin&gt;&gt;broj_soba;
         cout&lt;&lt;"Da li je stan namjesten (1 - da, 0 - ne): ";
         int nam;
         cin&gt;&gt;nam;
         cout&lt;&lt;"Unesite kvadraturu: ";
         double kvadratura;
         cin&gt;&gt;kvadratura;
         bool namjesten=true;
         if(nam==0)namjesten=false;
         try{
             if(nam&gt;1 || nam&lt;0)throw domain_error("Neispravan unos podataka.");
             Stan novi_stan(adresa,sprat,broj_soba,namjesten,kvadratura);
             //unesen_ispravno=true;
             s.push_back(novi_stan);
             p.DajProdaju(koja_prodaja-1).PromijeniStan(novi_stan);
             cout&lt;&lt;"Prodaja je uspjesno izmijenjena!"&lt;&lt;endl&lt;&lt;endl;
             goto NAZAD1;
         }
         catch(domain_error e){
             cout&lt;&lt;"Izuzetak: "&lt;&lt;e.what();
             cout&lt;&lt;" Molimo unesite opet."&lt;&lt;endl;
             goto PONOVOUNESI56;
         }
    }
}
    }
    case 5:{
        cout&lt;&lt;"Unesite cijenu stana: ";
        int nova_cijena;
        cin&gt;&gt;nova_cijena;
        p.DajProdaju(koja_prodaja-1).PromijeniCijenuProdaje(nova_cijena);
        cout&lt;&lt;"Prodaja je uspjesno izmijenjena!"&lt;&lt;endl&lt;&lt;endl;
        goto NAZAD1;
    }
}
    }
    case 3:{
        VELIKI:
        cout&lt;&lt;"Izaberite opciju:"&lt;&lt;endl;
cout&lt;&lt;" 0 - nazad"&lt;&lt;endl;
cout&lt;&lt;" 1 - ispis svih prodaja"&lt;&lt;endl;
cout&lt;&lt;" 2 - ispis prodaja na datum"&lt;&lt;endl;
</font>cout&lt;&lt;" 3 - ispis najranije prodaje"&lt;&lt;endl;
cout&lt;&lt;" 4 - ispis najskuplje prodaje"&lt;&lt;endl;
<a name="2"></a><font color="#0000FF"><a href="match17-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_8.gif"/></a>

cout&lt;&lt;" 5 - ispis broja prodaja"&lt;&lt;endl;
cout&lt;&lt;" 6 - ispis broja prodaja po datumu"&lt;&lt;endl;
cout&lt;&lt;" 7 - ispis broja prodaja po agentu"&lt;&lt;endl;
cout&lt;&lt;" 8 - kraj"&lt;&lt;endl;
int opcija;
cin&gt;&gt;opcija;
switch(opcija){
    case 0:{
        goto NAZAD1;
    }
    case 1:{
        p.IspisiSveProdaje();
        goto VELIKI;
    }
    case 2:{
        PON654:
        cout&lt;&lt;"Unesite datum (d/m/g): ";
        int dan,mjesec,godina;
             char c1,c2;
             cin&gt;&gt;dan;
             cin&gt;&gt;c1;
             cin&gt;&gt;mjesec;
             cin&gt;&gt;c2;
             cin&gt;&gt;godina;
             if(c1!='/' || c2!='/')throw domain_error("Neispravan datum.");
             try{
             Datum datum(dan,mjesec,godina);
             }
             catch(domain_error e){
                 cout&lt;&lt;"Izuzetak: "&lt;&lt;e.what();
             cout&lt;&lt;" Molimo unesite opet."&lt;&lt;endl;
             goto PON654;
             }
             p.IspisiProdajeNaDatum({dan,mjesec,godina});
             goto VELIKI;
    }
    case 3:{
            p.DajNajranijuProdaju().Ispisi();
            cout&lt;&lt;endl;
            goto VELIKI;
    }
    case 4:{
            p.DajNajskupljuProdaju().Ispisi();
            cout&lt;&lt;endl;
            goto VELIKI;
    }
    case 5:{
            cout&lt;&lt;"Broj prodaja: "&lt;&lt;p.DajBrojProdaja()&lt;&lt;endl&lt;&lt;endl;
            goto VELIKI;
    }
    case 6:{
            cout&lt;&lt;"Unesite datum (d/m/g): ";
            int dan,mjesec,godina;
             char c1,c2;
             cin&gt;&gt;dan;
             cin&gt;&gt;c1;
             cin&gt;&gt;mjesec;
             cin&gt;&gt;c2;
             cin&gt;&gt;godina;
             if(c1!='/' || c2!='/')throw domain_error("Neispravan datum.");
             try{
             Datum datum(dan,mjesec,godina);
             cout&lt;&lt;"Broj prodaja na uneseni datum: "&lt;&lt;p.DajBrojProdajaNaDatum(datum)&lt;&lt;endl&lt;&lt;endl;
             goto VELIKI;
             }
             catch(domain_error e){
                 cout&lt;&lt;"Izuzetak: "&lt;&lt;e.what();
             cout&lt;&lt;" Molimo unesite opet."&lt;&lt;endl;
             //goto PON654;
             }
    }
    case 7:{
        cout&lt;&lt;"Unesite ime agenta: ";
        string ime;
        cin.clear();
        cin.ignore(10000,'\n');
        getline(cin,ime);
        cout&lt;&lt;"Broj prodaja: "&lt;&lt;p.DajBrojProdajaOdAgenta(ime)&lt;&lt;endl&lt;&lt;endl;
        goto VELIKI;
    }
    case 8:{
        cout&lt;&lt;"Dovidjenja!";
        return 0;
    }
}
    }
    case 4:{
        PODVAR:
        cout&lt;&lt;"Izaberite opciju:"&lt;&lt;endl;
cout&lt;&lt;" 0 - nazad"&lt;&lt;endl;
cout&lt;&lt;" 1 - brisanje najranije prodaje"&lt;&lt;endl;
cout&lt;&lt;" 2 - brisanje prodaja agenta"&lt;&lt;endl;
cout&lt;&lt;" 3 - brisanje prodaja po datumu"&lt;&lt;endl;
cout&lt;&lt;" 4 - brisanje svih prodaja"&lt;&lt;endl;
int opcija;
cin&gt;&gt;opcija;
switch(opcija){
    case 0:{
        goto NAZAD1;
    }
    case 1:{
        try{
            p.ObrisiNajranijuProdaju();
            cout&lt;&lt;"Najranija prodaja je obrisana!"&lt;&lt;endl;
            goto PODVAR;
        }
        catch(std::range_error e){
            cout&lt;&lt;"Izuzetak: "&lt;&lt;e.what()&lt;&lt;endl;
            goto PODVAR;
        }
    }
    case 2:{
        cout&lt;&lt;"Unesite ime agenta: ";
        string ime;
        cin.clear();
        cin.ignore(10000,'\n');
        getline(cin,ime);
        try{
            p.ObrisiProdajeAgenta(ime);
            cout&lt;&lt;"Sve prodaje tog agenta su obrisane."&lt;&lt;endl;
            goto PODVAR;
        }
        catch(range_error e){
            cout&lt;&lt;"Izuzetak: "&lt;&lt;e.what()&lt;&lt;endl;
            goto PODVAR;
        }
    }
    case 3:{
        cout&lt;&lt;"Unesite datum: ";
        int dan,mjesec,godina;
             char c1,c2;
             cin&gt;&gt;dan;
             cin&gt;&gt;c1;
             cin&gt;&gt;mjesec;
             cin&gt;&gt;c2;
             cin&gt;&gt;godina;
             if(c1!='/' || c2!='/')throw domain_error("Neispravan datum.");
             try{
             Datum datum(dan,mjesec,godina);
             p.ObrisiProdajeNaDatum(datum);
             cout&lt;&lt;"Sve prodaje na taj datum su obrisane."&lt;&lt;endl;
             goto PODVAR;
             }
             catch(domain_error e){
                 cout&lt;&lt;"Izuzetak: "&lt;&lt;e.what();
             cout&lt;&lt;" Molimo unesite opet."&lt;&lt;endl;
             //goto PON654;
             }
             catch(range_error e){
                 cout&lt;&lt;"Izuzetak: "&lt;&lt;e.what()&lt;&lt;endl;
                 goto PODVAR;
             }
    }
    case 4:{
        try{
            p.IsprazniKolekciju();
            cout&lt;&lt;"Sve prodaje su obrisane."&lt;&lt;endl;
            goto PODVAR;
        }
        catch(range_error e){
            cout&lt;&lt;"Izuzetak: "&lt;&lt;e.what()&lt;&lt;endl;
            goto PODVAR;
        }
    }
}
    }
    case 5:{
        cout&lt;&lt;"Dovidjenja!";
        return 0;
    }
}
 }
 }
    return 0;
</font>}
</pre>
</body>
</html>
