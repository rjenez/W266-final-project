<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z3/student6198.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z3/student8444.cpp<p></p><pre>
<a name="0"></a><font color="#FF0000"><a href="match99-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_39.gif"/></a>

/B 2016/2017, ZadaÄ‡a 4, Zadatak 3
//Napomena: testovi ce biti dostupni dan pred rok!
#include &lt;iostream&gt;
#include &lt;string&gt;
#include &lt;stdexcept&gt;
#include &lt;initializer_list&gt;
#include &lt;vector&gt;

//--------------
//--------------
//_____DATUM____
class Datum
{
    
private:
    int dan;
    int mjesec;
    int godina;

    bool validanDatum(int dan, int mjesec, int godina);
        
public:
    Datum(int dan, int mjesec, int godina);
    void Postavi(int dan, int mjesec, int godina);
    int DajDan() const;
    int DajMjesec() const;
    int DajGodinu() const;
    void Ispisi() const;
};

bool Datum::validanDatum(int dan, int mjesec, int godina)
{
    bool prestupna = false;
    
    if (godina % 4 == 0)
        if (godina % 100 == 0)
            if (godina % 400 == 0)
                prestupna = true;
    
    if (dan &lt; 0 || dan &gt; 31)
        return false;
        
    if (mjesec &lt; 0 || mjesec &gt; 12)
        return false;
        
    if (mjesec == 2 &amp;&amp; dan &gt; 29)
        return false;
        
    if (mjesec == 2 &amp;&amp; dan == 29 &amp;&amp; !prestupna)
        return false;
        
    if ((mjesec == 4 || mjesec == 6 || mjesec == 9 || mjesec == 11) &amp;&amp; dan &gt; 30)
        return false;
        
    return true;
}

Datum::Datum(int dan, int mjesec, int godina)
{
    if (!validanDatum(dan, mjesec, godina))
        throw std::domain_error("Neispravan datum");
    
    this-&gt;dan = dan;
    this-&gt;mjesec = mjesec;
    this-&gt;godina = godina;
}

void Datum::Postavi(int dan, int mjesec, int godina)
{
    if (!validanDatum(dan, mjesec, godina))
        throw std::domain_error("Neispravan datum");
    
    this-&gt;dan = dan;
    this-&gt;mjesec = mjesec;
    this-&gt;godina = godina;    
}

int Datum::DajDan() const
{
    return dan;
}

int Datum::DajMjesec() const
{
    return mjesec;
}

int Datum::DajGodinu() const
{
    return godina;    
}

void Datum::Ispisi() const
{
    std::cout &lt;&lt; "(" &lt;&lt; DajDan() &lt;&lt; "/" &lt;&lt; DajMjesec() &lt;&lt; "/" &lt;&lt; DajGodinu() &lt;&lt; ")";
}

//--------------
//--------------
//_____KUPAC____
class Kupac
{
    
private:
    std::string imeIPrezime;
    Datum datumRodjenja;
    
public:
    Kupac(const std::string &amp;ime_i_prezime, const Datum &amp;datum_rodjenja);
    void Postavi(const std::string &amp;ime_i_prezime, const Datum &amp;datum_rodjenja);
    std::string DajImePrezime() const;
    Datum DajDatumRodjenja() const;
    void Ispisi() const;
};

Kupac::Kupac(const std::string &amp;ime_i_prezime, const Datum &amp;datum_rodjenja)
    : datumRodjenja(datum_rodjenja.DajDan(), datum_rodjenja.DajMjesec(), datum_rodjenja.DajGodinu())
{
    for (int i = 0; i &lt; ime_i_prezime.size(); i++)
    {
        if (!((ime_i_prezime[i] &gt;= 65 &amp;&amp; ime_i_prezime[i] &lt;= 90) || (ime_i_prezime[i] &gt;= 97 &amp;&amp; ime_i_prezime[i] &lt;= 122) || (ime_i_prezime[i] &gt;= 48 &amp;&amp; ime_i_prezime[i] &lt;= 57) || ime_i_prezime[i] == '-' || ime_i_prezime[i] == ' ' || ime_i_prezime[i] == '\''))
            throw std::domain_error("Neispravno ime i prezime");
    }
    
    imeIPrezime = ime_i_prezime;
}

void Kupac::Postavi(const std::string &amp;ime_i_prezime, const Datum &amp;datum_rodjenja)
{
    for (int i = 0; i &lt; ime_i_prezime.size(); i++)
    {
        if (!((ime_i_prezime[i] &gt;= 65 &amp;&amp; ime_i_prezime[i] &lt;= 90) || (ime_i_prezime[i] &gt;= 97 &amp;&amp; ime_i_prezime[i] &lt;= 122) || (ime_i_prezime[i] &gt;= 48 &amp;&amp; ime_i_prezime[i] &lt;= 57) || ime_i_prezime[i] == '-' || ime_i_prezime[i] == ' ' || ime_i_prezime[i] == '\''))
            throw std::domain_error("Neispravno ime i prezime");
    }
    
    imeIPrezime = ime_i_prezime;
    datumRodjenja = datum_rodjenja;
}

std::string Kupac::DajImePrezime() const
{
    return imeIPrezime;
}

Datum Kupac::DajDatumRodjenja() const
{
    return datumRodjenja;
}
void Kupac::Ispisi() const
{
    std::cout &lt;&lt; imeIPrezime &lt;&lt; " ";
    datumRodjenja.Ispisi();
}

//--------------
//--------------
//_____STAN____
class Stan
{
    
private:
    std::string adresaStana;
    int spratStana;
    int brojSoba;
    bool namjestenStan;
    double kvadraturaStana;

public:
    Stan(const std::string &amp;adresa, int sprat, int broj_soba, bool namjesten, double kvadratura);
    void Postavi(const std::string &amp;adresa, int sprat, int broj_soba, bool namjesten, double kvadratura);
    std::string DajAdresu() const;
    int DajSprat() const;
    int DajBrojSoba() const;
    bool DajNamjesten() const;
    double DajKvadraturu() const;
    void Ispisi() const;
};

Stan::Stan(const std::string &amp;adresa, int sprat, int broj_soba, bool namjesten, double kvadratura)
{
    if (sprat &lt; 0 || broj_soba &lt; 0 || kvadratura &lt; 0)
        throw std::domain_error("Neispravan unos podataka");
    
    adresaStana = adresa;
    spratStana = sprat;
    brojSoba = broj_soba;
    namjestenStan = namjesten;
    kvadraturaStana = kvadratura;
}

void Stan::Postavi(const std::string &amp;adresa, int sprat, int broj_soba, bool namjesten, double kvadratura)
{
    if (sprat &lt; 0 || broj_soba &lt; 0 || kvadratura &lt; 0)
        throw std::domain_error("Neispravan unos podataka");
    
    adresaStana = adresa;
    spratStana = sprat;
    brojSoba = broj_soba;
    namjestenStan = namjesten;
    kvadraturaStana = kvadratura;
}

std::string Stan::DajAdresu() const
{
    return adresaStana;
}

int Stan::DajSprat() const
{
    return spratStana;
}

int Stan::DajBrojSoba() const
{
    return brojSoba;
}

bool Stan::DajNamjesten() const
{
    return namjestenStan;
}

double Stan::DajKvadraturu() const
{
    return kvadraturaStana;
}

void Stan::Ispisi() const
{
    std::string pomocni("soba");
    
    if (brojSoba == 1)
        pomocni = "sobu";
    else if (brojSoba == 2 || brojSoba == 3 || brojSoba == 4)
        pomocni = "sobe";
    
    std::cout &lt;&lt; "Stan se nalazi na adresi " &lt;&lt; adresaStana &lt;&lt; " na " &lt;&lt; spratStana &lt;&lt; " i ima " &lt;&lt; brojSoba &lt;&lt; " " &lt;&lt; pomocni &lt;&lt; ". Kvadratura stana je ";
    std::cout &lt;&lt; kvadraturaStana &lt;&lt; " i stan ";
    
    if (namjestenStan)
        std::cout &lt;&lt; "je";
    else
        std::cout &lt;&lt; "nije";
        
    std::cout &lt;&lt; " namjesten";
}


//--------------
//--------------
//_____Prodaja____
class Prodaja
{

private:
    std::string imeAgenta;
    double cijenaStana;
    Datum datumProdaje;
    Kupac kupacStana;
    Stan kupljeniStan;
    
    bool validanDatum(int dan, int mjesec, int godina);
    
public:
    Prodaja(const std::string &amp;ime_agenta_prodaje, double cijena_stana, const Datum &amp;datum_prodaje, const Kupac &amp;kupac_stana, const Stan &amp;kupljeni_stan);
</font>    Prodaja(const std::string &amp;ime_agenta_prodaje, double cijena_stana, int dan_prodaje, int mjesec_prodaje, int godina_prodaje, std::string &amp;ime_kupca, 
<a name="2"></a><font color="#0000FF"><a href="match99-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_10.gif"/></a>

        const Datum &amp;datum_rodjenja_kupca, const std::string &amp;adresa_stana, int sprat_stana, int broj_soba, bool namjesten_stan, double broj_kvadrata);
    void PromijeniKupca(const Kupac &amp;novi_kupac);
    void PromijeniStan(const Stan &amp;novi_stan);
    void PromijeniDatumKupovine(const Datum &amp;novi_datum);
    void PromijeniCijenuProdaje(const double &amp;nova_cijena);
    void PomjeriDanUnaprijed();
    void PomjeriDanUnazad();
    std::string DajImeAgenta() const;
    std::string DajImeKupca() const;
    Datum DajDatumProdaje() const;
    double DajCijenuStana() const;
    friend bool ProdatPrije(const Prodaja &amp;p1, const Prodaja &amp;p2);
    friend bool SkupljiStan(const Prodaja &amp;p1, const Prodaja &amp;p2);
    void Ispisi() const;
};

bool Prodaja::validanDatum(int dan, int mjesec, int godina)
{
    bool prestupna = false;
    
    if (godina % 4 == 0)
        if (godina % 100 == 0)
            if (godina % 400 == 0)
                prestupna = true;
    
    if (dan &lt; 0 || dan &gt; 31)
        return false;
        
    if (mjesec &lt; 0 || mjesec &gt; 12)
        return false;
        
    if (mjesec == 2 &amp;&amp; dan &gt; 29)
        return false;
        
    if (mjesec == 2 &amp;&amp; dan == 29 &amp;&amp; !prestupna)
        return false;
        
    if ((mjesec == 4 || mjesec == 6 || mjesec == 9 || mjesec == 11) &amp;&amp; dan &gt; 30)
        return false;
        
    return true;
}

Prodaja::Prodaja(const std::string &amp;ime_agenta_prodaje, double cijena_stana, const Datum &amp;datum_prodaje, const Kupac &amp;kupac_stana, const Stan &amp;kupljeni_stan)
    : datumProdaje(datum_prodaje.DajDan(), datum_prodaje.DajMjesec(), datum_prodaje.DajGodinu()), kupacStana(kupac_stana), kupljeniStan(kupljeni_stan)
{
    imeAgenta = ime_agenta_prodaje;
    cijenaStana = cijena_stana;
}

Prodaja::Prodaja(const std::string &amp;ime_agenta_prodaje, double cijena_stana, int dan_prodaje, int mjesec_prodaje, int godina_prodaje, std::string &amp;ime_kupca, 
</font>        const Datum &amp;datum_rodjenja_kupca, const std::string &amp;adresa_stana, int sprat_stana, int broj_soba, bool namjesten_stan, double broj_kvadrata)
<a name="1"></a><font color="#00FF00"><a href="match99-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_24.gif"/></a>

            : datumProdaje(dan_prodaje, mjesec_prodaje, godina_prodaje), kupacStana(ime_kupca, datum_rodjenja_kupca), kupljeniStan(adresa_stana, sprat_stana, broj_soba, namjesten_stan, broj_kvadrata)
        {
            imeAgenta = ime_agenta_prodaje;
            cijenaStana = cijena_stana;
        }

void Prodaja::PromijeniKupca(const Kupac &amp;novi_kupac)
{
    kupacStana = novi_kupac;    
}

void Prodaja::PromijeniStan(const Stan &amp;novi_stan)
{
    kupljeniStan = novi_stan;
}

void Prodaja::PromijeniDatumKupovine(const Datum &amp;novi_datum)
{
    datumProdaje = novi_datum;
}

void Prodaja::PromijeniCijenuProdaje(const double &amp;nova_cijena)
{
    cijenaStana = nova_cijena;
}

void Prodaja::PomjeriDanUnaprijed()
{
    if (validanDatum(datumProdaje.DajDan() + 1, datumProdaje.DajMjesec(), datumProdaje.DajGodinu()))
        datumProdaje.Postavi(datumProdaje.DajDan() + 1, datumProdaje.DajMjesec(), datumProdaje.DajGodinu());
    else if (validanDatum(1, datumProdaje.DajMjesec() + 1, datumProdaje.DajGodinu()))
        datumProdaje.Postavi(1, datumProdaje.DajMjesec() + 1, datumProdaje.DajGodinu());
    else
            datumProdaje.Postavi(1, 1, datumProdaje.DajGodinu() + 1);
        
}

void Prodaja::PomjeriDanUnazad()
{
    if (validanDatum(datumProdaje.DajDan() - 1, datumProdaje.DajMjesec(), datumProdaje.DajGodinu()))
        datumProdaje.Postavi(datumProdaje.DajDan() - 1, datumProdaje.DajMjesec(), datumProdaje.DajGodinu());
    else if (validanDatum(31, datumProdaje.DajMjesec() - 1, datumProdaje.DajGodinu()))
        datumProdaje.Postavi(31, datumProdaje.DajMjesec() - 1, datumProdaje.DajGodinu());
    else if (validanDatum(30, datumProdaje.DajMjesec() - 1, datumProdaje.DajGodinu()))
        datumProdaje.Postavi(30, datumProdaje.DajMjesec() - 1, datumProdaje.DajGodinu());
    else if (validanDatum(29, datumProdaje.DajMjesec() - 1, datumProdaje.DajGodinu()))
        datumProdaje.Postavi(29, datumProdaje.DajMjesec() - 1, datumProdaje.DajGodinu());
    else if (validanDatum(28, datumProdaje.DajMjesec() - 1, datumProdaje.DajGodinu()))
        datumProdaje.Postavi(28, datumProdaje.DajMjesec() - 1, datumProdaje.DajGodinu());
    else
            datumProdaje.Postavi(31, 12, datumProdaje.DajGodinu() - 1);    
}

std::string Prodaja::DajImeAgenta() const
{
    return imeAgenta;
}

std::string Prodaja::DajImeKupca() const
{
    return kupacStana.DajImePrezime();
}

Datum Prodaja::DajDatumProdaje() const
{
    return datumProdaje;    
}

double Prodaja::DajCijenuStana() const
{
    return cijenaStana;    
}
   
bool ProdatPrije(const Prodaja &amp;p1, const Prodaja &amp;p2)
{
    if (p2.datumProdaje.DajGodinu() &lt; p1.datumProdaje.DajGodinu())
        return false;
    else if (p2.datumProdaje.DajGodinu() == p1.datumProdaje.DajGodinu() &amp;&amp; p2.datumProdaje.DajMjesec() &lt; p1.datumProdaje.DajMjesec())
        return false;
    else if (p2.datumProdaje.DajGodinu() == p1.datumProdaje.DajGodinu() &amp;&amp; p2.datumProdaje.DajMjesec() == p1.datumProdaje.DajMjesec() &amp;&amp; p2.datumProdaje.DajDan() &lt; p1.datumProdaje.DajDan())
        return false;
        
    return true;
}

bool SkupljiStan(const Prodaja &amp;p1, const Prodaja &amp;p2)
{
    if (p2.cijenaStana &gt; p1.cijenaStana)
        return false;
        
    return true;
}

void Prodaja::Ispisi() const
{
    std::cout &lt;&lt; "Ime agenta: " &lt;&lt; imeAgenta &lt;&lt; std::endl;
    std::cout &lt;&lt; "Ime kupca: " &lt;&lt; kupacStana.DajImePrezime() &lt;&lt; " ";
    kupacStana.DajDatumRodjenja().Ispisi();
    std::cout &lt;&lt; std::endl;
    std::cout &lt;&lt; "Zakazani datum prodaje: " &lt;&lt; datumProdaje.DajDan() &lt;&lt; "/" &lt;&lt; datumProdaje.DajMjesec() &lt;&lt; "/" &lt;&lt; datumProdaje.DajGodinu() &lt;&lt; std::endl;
    std::cout &lt;&lt; "Cijena stana: " &lt;&lt; cijenaStana &lt;&lt; std::endl;
    
    std::cout &lt;&lt; "Informacije o stanu: " &lt;&lt; std::endl;
    kupljeniStan.Ispisi();
}

//--------------
//--------------
//_____Prodaje____
class Prodaje
{

private:
    Prodaja **prodajee;
    int duzinaKolekcije;
    
public:
    explicit Prodaje(int max_broj_prodaja);
    Prodaje(std::initializer_list&lt;Prodaja&gt; spisak_prodaja);
    ~Prodaje();
    Prodaje(const Prodaje &amp;prodaje);
</font>    Prodaje(Prodaje &amp;&amp;prodaje);
    Prodaje &amp;operator =(const Prodaje &amp;prodaje);
    Prodaje &amp;operator =(Prodaje &amp;&amp;prodaje);
    void RegistrirajProdaju(const std::string &amp;ime_agenta_prodaje, double cijena_stana, const Datum &amp;datum_prodaje, const Kupac &amp;kupac_stana, const Stan &amp;kupljeni_stan);
    void RegistrirajProdaju(const std::string &amp;ime_agenta_prodaje, double cijena_stana, int dan_prodaje, int mjesec_prodaje, int godina_prodaje, std::string &amp;ime_kupca, 
        const Datum &amp;datum_rodjenja_kupca, const std::string &amp;adresa_stana, int sprat_stana, int broj_soba, bool namjesten_stan, double broj_kvadrata);
    void RegistrirajProdaju(Prodaja *prodaja);
    int DajBrojProdaja() const;
    int DajBrojProdajaNaDatum(const Datum &amp;datum) const;
    int DajBrojProdajaOdAgenta(const std::string &amp;ime_agenta) const;
    Prodaja &amp;DajNajranijuProdaju();
    Prodaja DajNajranijuProdaju() const;
    Prodaja &amp;DajNajskupljuProdaju();
    Prodaja DajNajskupljuProdaju() const;
    void IsprazniKolekciju();
    void ObrisiNajranijuProdaju();
<a name="3"></a><font color="#00FFFF"><a href="match99-0.html#3" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_9.gif"/></a>

    void ObrisiProdajeAgenta(const std::string &amp;ime_agenta);
    void ObrisiProdajeNaDatum(const Datum &amp;datum);
    void IspisiProdajeNaDatum(const Datum &amp;datum) const;
    void IspisiSveProdaje() const;
};

 Prodaje::Prodaje(int max_broj_prodaja)
{
    prodajee = new Prodaja*[max_broj_prodaja];
    duzinaKolekcije = max_broj_prodaja;
    
    for (int i = 0; i &lt; duzinaKolekcije; i++)
        prodajee[i] = nullptr;
}

Prodaje::Prodaje(std::initializer_list&lt;Prodaja&gt; spisak_prodaja)
{
    std::vector&lt;Prodaja&gt; vProdaje(spisak_prodaja);   
    
    int duzina = spisak_prodaja.size();
    duzinaKolekcije = duzina;
    
    prodajee = new Prodaja*[duzina];
    
    for (int i = 0; i &lt; duzinaKolekcije; i++)
        prodajee[i] = new Prodaja(vProdaje[i]);
}


Prodaje::~Prodaje() 
{
    for (int i = 0; i &lt; duzinaKolekcije; i++)
        delete prodajee[i];
        
    delete[] prodajee;
}

//const std::string &amp;ime_agenta_prodaje, double cijena_stana, const Datum &amp;datum_prodaje, const Kupac &amp;kupac_stana, const Stan &amp;kupljeni_stan
Prodaje::Prodaje(const Prodaje &amp;prodaje) : duzinaKolekcije(prodaje.duzinaKolekcije) 
{
    prodajee = new Prodaja*[duzinaKolekcije];
    
    for (int i = 0; i &lt; duzinaKolekcije; i++)
    {
        prodajee[i] = new Prodaja(prodaje.prodajee[i]-&gt;DajImeAgenta(), prodaje.prodajee[i]-&gt;DajCijenuStana(), prodaje.prodajee[i]-&gt;DajDatumProdaje(), prodaje.prodajee[i]-&gt;DajImeKupca(), prodaje.prodajee[i]-&gt;);
    }
}

Prodaje(Prodaje &amp;&amp;prodaje);
Prodaje &amp;operator =(const Prodaje &amp;prodaje);
Prodaje &amp;operator =(Prodaje &amp;&amp;prodaje);
void RegistrirajProdaju(const std::string &amp;ime_agenta_prodaje, double cijena_stana, const Datum &amp;datum_prodaje, const Kupac &amp;kupac_stana, const Stan &amp;kupljeni_stan);
</font>void RegistrirajProdaju(const std::string &amp;ime_agenta_prodaje, double cijena_stana, int dan_prodaje, int mjesec_prodaje, int godina_prodaje, std::string &amp;ime_kupca, 
const Datum &amp;datum_rodjenja_kupca, const std::string &amp;adresa_stana, int sprat_stana, int broj_soba, bool namjesten_stan, double broj_kvadrata);
void RegistrirajProdaju(Prodaja *prodaja);
int DajBrojProdaja() const;
<a name="4"></a><font color="#FF00FF"><a href="match99-0.html#4" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_2.gif"/></a>

int DajBrojProdajaNaDatum(const Datum &amp;datum) const;
int DajBrojProdajaOdAgenta(const std::string &amp;ime_agenta) const;
Prodaja &amp;DajNajranijuProdaju();
Prodaja DajNajranijuProdaju() const;
Prodaja &amp;DajNajskupljuProdaju() const;
Prodaja DajNajskupljuProdaju() const;
void IsprazniKolekciju();
void ObrisiNajranijuProdaju();
void ObrisiProdajeAgenta(const std::string &amp;ime_agenta);
void ObrisiProdajeNaDatum(const Datum &amp;datum);
void IspisiProdajeNaDatum(const Datum &amp;datum) const;
void IspisiSveProdaje() const;










int main ()
</font>{
    
	return 0;
}</pre>
</body>
</html>
