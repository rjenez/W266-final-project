<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z3/student7830.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z3/student7830.cpp<p></p><pre>
/B 2016/2017, ZadaÄ‡a 4, Zadatak 3
//Napomena: testovi ce biti dostupni dan pred rok!
#include &lt;iostream&gt;
#include &lt;stdexcept&gt;
#include &lt;string&gt;

class Datum{
    int d, m,g;
public:
    Datum(int dan, int mjesec, int godina)
    {
        int broj_dana[12]{31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31};
        if((godina%4 == 0 &amp;&amp; godina%100 != 0) || godina%400 == 0)
            broj_dana[1]++;
        if(godina &lt; 1 || dan &lt; 1 || mjesec &lt; 1 || mjesec &gt; 12 || dan &gt; broj_dana[mjesec - 1])
            throw std::domain_error("Neispravan datum");
        d = dan; m = mjesec; g = godina;
    }
    void Postavi(int dan, int mjesec, int godina)
    {
        int broj_dana[12]{31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31};
        if((godina%4 == 0 &amp;&amp; godina%100 != 0) || godina%400 == 0)
            broj_dana[1]++;
        if(godina &lt; 1 || dan &lt; 1 || mjesec &lt; 1 || mjesec &gt; 12 || dan &gt; broj_dana[mjesec - 1])
<a name="7"></a><font color="#0000FF"><a href="match689-1.html#7" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_2.gif"/></a>

            throw std::domain_error("Neispravan datum");
        d = dan; m = mjesec; g = godina;
    }
    int DajDan() const {return d;}
    int DajMjesec() const {return m;}
    int DajGodinu() const {return g;}
    void Ispisi() const {std::cout&lt;&lt;d&lt;&lt;"/"&lt;&lt;m&lt;&lt;"/"&lt;&lt;g;}
</font>};

class Kupac{
    std::string iip;
    Datum datum;
public:
    Kupac(const std::string &amp;ime_i_prezime, const Datum &amp;datum_rodjenja) : datum(datum_rodjenja)
    {
        for(int i = 0; i &lt; ime_i_prezime.size(); i++)
            if((i&lt;'a' || i&gt;'z') &amp;&amp; (i&lt;'A' || i&gt;'Z') &amp;&amp; (i&lt;'0' || i&gt;'9') &amp;&amp; i!=' ' &amp;&amp; i!='-' &amp;&amp; i!=39)
                throw std::domain_error("Neispravno ime i prezime");
        iip = ime_i_prezime;
    }
    void Postavi(const std::string &amp;ime_i_prezime, const Datum &amp;datum_rodjenja)
    {
        for(int i = 0; i &lt; ime_i_prezime.size(); i++)
            if((i&lt;'a' || i&gt;'z') &amp;&amp; (i&lt;'A' || i&gt;'Z') &amp;&amp; (i&lt;'0' || i&gt;'9') &amp;&amp; i!=' ' &amp;&amp; i!='-' &amp;&amp; i!=39)
<a name="11"></a><font color="#00FF00"><a href="match689-1.html#11" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_1.gif"/></a>

                throw std::domain_error("Neispravno ime i prezime");
        iip = ime_i_prezime;
        datum = datum_rodjenja;
    }
    std::string DajImePrezime() const {return iip;}
    Datum DajDatumRodjenja() const {return datum;}
    void Ispisi() const {std::cout&lt;&lt;iip&lt;&lt;"("; datum.Ispisi(); std::cout&lt;&lt;")";};
</font>};

<a name="5"></a><font color="#FF0000"><a href="match689-1.html#5" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_2.gif"/></a>

class Stan{
    std::string Adresa;
    int  Sprat, Broj_soba;
    bool Namjesten;
    double Kvadratura;
public:
    Stan(const std::string &amp;adresa, int sprat, int broj_soba, bool namjesten, double kvadratura)
    {
        if(sprat &lt; 0 || broj_soba &lt; 0 || kvadratura &lt; 0)
</font><a name="2"></a><font color="#0000FF"><a href="match689-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_2.gif"/></a>

            throw std::domain_error("Neispravan unos podataka");
        Adresa = adresa;
        Sprat = sprat;
        Broj_soba = broj_soba;
        Namjesten = namjesten;
        Kvadratura = kvadratura;
    }
    void Postavi(const std::string &amp;adresa, int sprat, int broj_soba, bool namjesten, double kvadratura)
</font>    {
<a name="0"></a><font color="#FF0000"><a href="match689-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_4.gif"/></a>

        if(sprat &lt; 0 || broj_soba &lt; 0 || kvadratura &lt; 0)
            throw std::domain_error("Neispravan unos podataka");
        Adresa = adresa;
        Sprat = sprat;
        Broj_soba = broj_soba;
        Namjesten = namjesten;
        Kvadratura = kvadratura;
    }
    std::string DajAdresu() const {return Adresa;}
    int DajSprat() const {return Sprat;}
    int DajBrojSoba() const {return Broj_soba;}
    bool DajNamjesten() const {return Namjesten;}
    double DajKvadraturu() const {return Kvadratura;}
    void Ispisi() const 
    {
        std::cout&lt;&lt;"Stan se nalazi na adresi "&lt;&lt;Adresa&lt;&lt;" na "&lt;&lt;Sprat&lt;&lt;". spratu i ima "&lt;&lt;Broj_soba&lt;&lt;".";
</font>        if(Broj_soba &gt;= 10 &amp;&amp; Broj_soba &lt;= 20)
            std::cout&lt;&lt;" soba";
        else if(Broj_soba%10 == 2 || Broj_soba%10 == 3 || Broj_soba%10 == 4)
            std::cout&lt;&lt;" sobe";
        else
            std::cout&lt;&lt;" soba";
        if(Namjesten == true)
<a name="12"></a><font color="#0000FF"><a href="match689-1.html#12" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_1.gif"/></a>

            std::cout&lt;&lt;"je namjesten";
        else
            std::cout&lt;&lt;"nije namjesten";
    }
};

class Prodaja{
    std::string iap;
    double Cijena_stana;
    Datum Datum_prodaje;
    Kupac Kupac_stana;
    Stan Kupljeni_stan;
public:
</font>    Prodaja(const std::string &amp;ime_agenta_prodaje, double cijena_stana, const Datum &amp;datum_prodaje, const Kupac &amp;kupac_stana, 
        const Stan &amp;kupljeni_stan) : Datum_prodaje(datum_prodaje), Kupac_stana(kupac_stana), Kupljeni_stan(kupljeni_stan)
    {
        iap = ime_agenta_prodaje;
        Cijena_stana = cijena_stana;
    }
    Prodaja(const std::string &amp;ime_agenta_prodaje, double cijena_stana, int dan_prodaje, int mjesec_prodaje, int godina_prodaje, 
        std::string &amp;ime_kupca, const Datum &amp;datum_rodjenja_kupca, const std::string &amp;adresa_stana, int sprat_stana, int broj_soba, 
        bool namjesten_stan, double broj_kvadrata) : Datum_prodaje(dan_prodaje, mjesec_prodaje, godina_prodaje), 
        Kupac_stana(ime_kupca, Datum(dan_prodaje, mjesec_prodaje, godina_prodaje)), Kupljeni_stan(adresa_stana, sprat_stana, broj_soba, namjesten_stan, broj_kvadrata)
    {
        iap = ime_agenta_prodaje;
        Cijena_stana = cijena_stana;
    }
    void PromijeniKupca(const Kupac &amp;novi_kupac) {Kupac_stana = novi_kupac;}
    void PromijeniStan(const Stan &amp;novi_stan) {Kupljeni_stan = novi_stan;}
    void PromijeniDatumKupovine(const Datum &amp;novi_datum) {Datum_prodaje = novi_datum;}
    void PromijeniCijenuProdaje(const double &amp;nova_cijena) {Cijena_stana = nova_cijena;}
    void PomjeriDanUnaprijed() 
    {
        int broj_dana[12]{31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31};
<a name="1"></a><font color="#00FF00"><a href="match689-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_4.gif"/></a>

        if((Datum_prodaje.DajGodinu()%4 == 0 &amp;&amp; Datum_prodaje.DajGodinu()%100 != 0) || Datum_prodaje.DajGodinu()%400 == 0)
            broj_dana[1]++;
        Datum_prodaje.Postavi(Datum_prodaje.DajDan()+1, Datum_prodaje.DajMjesec(), Datum_prodaje.DajGodinu());
        if(Datum_prodaje.DajDan() &gt; broj_dana[Datum_prodaje.DajMjesec()-1])
            Datum_prodaje.Postavi(1, Datum_prodaje.DajMjesec()+1, Datum_prodaje.DajGodinu());
        if(Datum_prodaje.DajMjesec() &gt; 12)
</font>            Datum_prodaje.Postavi(Datum_prodaje.DajDan(), 1, Datum_prodaje.DajGodinu()+1);
    }
    void PomjeriDanUnazad()
    {
        int broj_dana[12]{31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31};
<a name="3"></a><font color="#00FFFF"><a href="match689-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_2.gif"/></a>

        if((Datum_prodaje.DajGodinu()%4 == 0 &amp;&amp; Datum_prodaje.DajGodinu()%100 != 0) || Datum_prodaje.DajGodinu()%400 == 0)
            broj_dana[1]++;
        Datum_prodaje.Postavi(Datum_prodaje.DajDan()-1, Datum_prodaje.DajMjesec(), Datum_prodaje.DajGodinu());
        if(Datum_prodaje.DajDan() &lt; 1)
</font>            Datum_prodaje.Postavi(broj_dana[Datum_prodaje.DajMjesec()-2], Datum_prodaje.DajMjesec()-1, Datum_prodaje.DajGodinu());
        if(Datum_prodaje.DajMjesec() &lt; 1)
            Datum_prodaje.Postavi(Datum_prodaje.DajDan(), 12, Datum_prodaje.DajGodinu()-1);
    }
    std::string DajImeAgenta() const {return iap;}
    std::string DajImeKupca() const {return Kupac_stana.DajImePrezime();}
    Datum DajDatumProdaje() const {return Datum_prodaje;}
    double DajCijenuStana() const {return Cijena_stana;}
<a name="9"></a><font color="#FF00FF"><a href="match689-1.html#9" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_2.gif"/></a>

    friend bool ProdatPrije(const Prodaja &amp;p1, const Prodaja &amp;p2);
    friend bool SkupljiStan(const Prodaja &amp;p1, const Prodaja &amp;p2);
    void Ispisi() const
    {
        std::cout&lt;&lt;"Ime agenta: "&lt;&lt;iap&lt;&lt;std::endl;
</font><a name="4"></a><font color="#FF00FF"><a href="match689-1.html#4" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_2.gif"/></a>

        std::cout&lt;&lt;"Ime kupca: ";
        Kupac_stana.Ispisi();
        std::cout&lt;&lt;std::endl;
        std::cout&lt;&lt;"Zakatani datum prodaje: ";
        Datum_prodaje.Ispisi();
        std::cout&lt;&lt;std::endl;
        std::cout&lt;&lt;"Cijena stana: "&lt;&lt;Cijena_stana&lt;&lt;std::endl;
</font>        std::cout&lt;&lt;"Informacije o stanu: "&lt;&lt;std::endl;
        Kupljeni_stan.Ispisi();
    }
};

<a name="8"></a><font color="#00FFFF"><a href="match689-1.html#8" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_2.gif"/></a>

bool ProdatPrije(const Prodaja &amp;p1, const Prodaja &amp;p2)
{
    if(p1.DajDatumProdaje().DajGodinu() &lt; p2.DajDatumProdaje().DajGodinu())
        return true;
    if(p1.DajDatumProdaje().DajGodinu() == p2.DajDatumProdaje().DajGodinu() &amp;&amp; p1.DajDatumProdaje().DajMjesec() &lt; p2.DajDatumProdaje().DajMjesec())
</font>        return true;
<a name="6"></a><font color="#00FF00"><a href="match689-1.html#6" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_2.gif"/></a>

    if(p1.DajDatumProdaje().DajGodinu() == p2.DajDatumProdaje().DajGodinu() &amp;&amp; p1.DajDatumProdaje().DajMjesec() == p2.DajDatumProdaje().DajMjesec() &amp;&amp; p1.DajDatumProdaje().DajDan() &lt; p2.DajDatumProdaje().DajDan())
        return true;
    return false;
}

bool SkupljiStan(const Prodaja &amp;p1, const Prodaja &amp;p2)
{
    if(p1.DajCijenuStana() &gt; p2.DajCijenuStana())
        return true;
    return false;
}

class Prodaje{
</font>   GradjaninBiH *prodaje[100];
public:
    explicit Prodaje(int max_broj_prodaja);
    Prodaje(std::initializer_list&lt;Prodaja&gt; spisak_prodaja);
    ~Prodaje();
    Prodaje(const Prodaje &amp;prodaje);
    Prodaje(Prodaje &amp;&amp;prodaje);
    Prodaje &amp;operator =(const Prodaje &amp;prodaje);
    Prodaje &amp;operator =(Prodaje &amp;&amp;prodaje);
    void RegistrirajProdaju(const std::string &amp;ime_agenta_prodaje,
<a name="10"></a><font color="#FF0000"><a href="match689-1.html#10" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_1.gif"/></a>

        double cijena_stana, const Datum &amp;datum_prodaje, const Kupac &amp;kupac_stana,
    const Stn &amp;kupljeni_stan);
    void RegistrirajProdaju(const std::string &amp;ime_agenta_prodaje, int dan_prodaje,
    int mjesec_prodaje, int godina_prodaje, std::string &amp;ime_kupca,
        const Datum &amp;datum_rodjenja_kupca, const std::string &amp;adresa_stana,
</font>        int sprat_stana, int broj_soba, bool namjesten_stan, double broj_kvadrata);
    void RegistrirajProdaju(Prodaja *prodaja);
    int DajBrojProdaja() const;
    int DajBrojProdajaNaDatum(const Datum &amp;datum) const;
    int DajBrojProdajaOdAgenta(const std::string &amp;ime_agenta) const;
    Prodaja &amp;DajNajranijuProdaju();
    Prodaja DajNajranijuProdaju() const;
    Prodaja &amp;DajNajskupljuProdaju();
    Prodaja DajNajskupljuProdaju() const;
    void IsprazniKolekciju();
<a name="13"></a><font color="#00FFFF"><a href="match689-1.html#13" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_1.gif"/></a>

    void ObrisiNajranijuProdaju();
    void ObrisiProdajeAgenta(const std::string &amp;ime_agenta); 
    void ObrisiProdajeNaDatum(const Datum &amp;datum);
    void IspisiProdajeNaDatum(const Datum &amp;datum) const;
    void IspisiSveProdaje() const;

};

int main ()
</font>{
	return 0;
}</pre>
</body>
</html>
