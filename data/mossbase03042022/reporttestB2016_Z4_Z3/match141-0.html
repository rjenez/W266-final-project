<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z3/student8288.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z3/student8288.cpp<p></p><pre>
#include &lt;iostream&gt;
#include &lt;string&gt;
#include &lt;iomanip&gt;
#include &lt;vector&gt;
#include &lt;new&gt;
#include &lt;algorithm&gt;
#include &lt;stdexcept&gt;
#include &lt;cmath&gt;
#include &lt;utility&gt;
#include &lt;list&gt;
#include &lt;initializer_list&gt;
#include &lt;cstring&gt;
#include &lt;iterator&gt;

<a name="3"></a><font color="#00FFFF"><a href="match141-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_6.gif"/></a>

class Datum {
    int dan,mjesec,godina;
    
    public:
    Datum(int dan,int mjesec,int godina) {
        Datum::Postavi(dan,mjesec,godina);
    }
    void Postavi(int dan,int mjesec,int godina);
    int DajDan() const {
        return dan;
    }
    int DajMjesec() const {
        return mjesec;
    }
    int DajGodinu() const {
        return godina;
}
void Ispisi() const {
    std::cout&lt;&lt;dan&lt;&lt;"/"&lt;&lt;mjesec&lt;&lt;"/"&lt;&lt;godina&lt;&lt;std::endl;
}
};
void Datum::Postavi(int dan,int mjesec,int godina) {
    int brojdana[]{31,28,31,30,31,30,31,31,30,31,30,31};
</font>    if(godina%4==0 &amp;&amp; (godina%100!=0 || godina%400==0))
    brojdana[1]++;
<a name="1"></a><font color="#00FF00"><a href="match141-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_17.gif"/></a>

    if(dan&lt;1 || mjesec&lt;1 || godina&lt;1 || mjesec&gt;12 || dan&gt;brojdana[mjesec-1]) {
        throw std::domain_error("Neispravan datum");
        }
        Datum::dan=dan;
        Datum::mjesec=mjesec;
        Datum::godina=godina;
}


class Kupac {
    std::string ime_i_prezime;
    Datum datum_rodjenja;
    public:
    Kupac(const std::string &amp;ime_i_prezime,const Datum &amp;datum_rodjenja) : datum_rodjenja(datum_rodjenja.DajDan(),datum_rodjenja.DajMjesec(),datum_rodjenja.DajGodinu()) {
        Kupac::ime_i_prezime=ime_i_prezime;
    }
    void Postavi(const std::string &amp;ime_i_prezime,const Datum &amp;datum_rodjenja);
std::string DajImePrezime() const {
return ime_i_prezime;
}
    Datum DajDatumRodjenja() const {
        return datum_rodjenja;
    }
    void Ispisi() const {
        std::cout &lt;&lt;DajImePrezime()&lt;&lt;"("&lt;&lt;DajDatumRodjenja().DajDan()&lt;&lt;"/"&lt;&lt;DajDatumRodjenja().DajMjesec()&lt;&lt;"/"&lt;&lt;DajDatumRodjenja().DajGodinu()&lt;&lt;")"&lt;&lt;std::endl;
    }
};

void Kupac::Postavi(const std::string &amp;ime_i_prezime,const Datum &amp;datum_rodjenja)
{
    for(int i=0;i&lt;Kupac::DajImePrezime().length();i++) {
        if((ime_i_prezime[i]&lt;'a' || ime_i_prezime[i]&gt;'z') &amp;&amp; (ime_i_prezime[i]&lt;'A' || ime_i_prezime[i]&gt;'Z') &amp;&amp; (ime_i_prezime[i]&lt;'0' || ime_i_prezime[i]&gt;'9') &amp;&amp; ime_i_prezime[i]!='-' &amp;&amp; ime_i_prezime[i]!=' ')  {
            throw std::domain_error("Neispravno ime i prezime");
        }                                          
    }
    Kupac::ime_i_prezime=ime_i_prezime;
}

class Stan {
    std::string adresa;
    int sprat,broj_soba;
    double kvadratura;
    bool namjesten;
    
    public:
    Stan(const std::string &amp;adresa, int sprat, int broj_soba, bool namjesten,
 double kvadratura) {
</font>     Postavi (adresa,sprat,broj_soba,namjesten,kvadratura);
 } 
void Postavi(const std::string &amp;adresa, int sprat, int broj_soba,
 bool namjesten, double kvadratura);
std::string DajAdresu() const {
    return adresa;
}
int DajSprat() const {
    return sprat;
}
int DajBrojSoba() const {
<a name="2"></a><font color="#0000FF"><a href="match141-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_15.gif"/></a>

    return broj_soba;
}
bool DajNamjesten() const {
    return namjesten;
}
double DajKvadraturu() const {
return kvadratura;
}

void Ispisi() const;
};
void Stan::Ispisi() const {
    std::cout&lt;&lt;"Stan se nalazi na adresi "&lt;&lt;(*this).DajAdresu()&lt;&lt; " na "&lt;&lt;(*this).DajSprat() &lt;&lt;". spratu i ima ";
    if((*this).DajBrojSoba()==1)
    std::cout&lt;&lt;" sobu."&lt;&lt;std::endl;
    else {
        if((*this).DajBrojSoba()&gt;1 &amp;&amp; (*this).DajBrojSoba()&lt;5){
            std::cout&lt;&lt;" sobe."&lt;&lt;std::endl;
        }
        else {
            std::cout&lt;&lt;" soba."&lt;&lt;std::endl;
        }
    }
    std::cout&lt;&lt;"Kvadratura stana je "&lt;&lt;(*this).DajKvadraturu()&lt;&lt; " (m^2) i stan ";
    if((*this).DajNamjesten())
    std::cout&lt;&lt;"je namjesten.";
    else 
    std::cout&lt;&lt;" nije namjesten.";
}
void Stan::Postavi(const std::string &amp;adresa,int sprat,int broj_soba,bool namjesten,double kvadratura) {
    int broj(0);
    if(sprat&lt;0 || broj_soba&lt;0 || kvadratura&lt;0 || broj!=0) {
        throw std::domain_error("Neispravan unos podataka");
    }
  Stan::adresa=adresa;
  Stan::sprat=sprat; Stan::broj_soba=broj_soba;
   Stan::namjesten=namjesten; Stan::kvadratura=kvadratura;
}


class Prodaja {
    std::string ime_agenta_prodaje;
    double cijena_stana;
    Datum datum_prodaje;
    Kupac kupac_stana;
    Stan kupljeni_stan;
    
    public:
    Prodaja(const std::string &amp;ime_agenta_prodaje, double cijena_stana,
</font> const Datum &amp;datum_prodaje, const Kupac &amp;kupac_stana,const Stan &amp;kupljeni_stan);
 
Prodaja(const std::string &amp;ime_agenta_prodaje, double cijena_stana,int dan_prodaje, int mjesec_prodaje, int godina_prodaje,
<a name="5"></a><font color="#FF0000"><a href="match141-1.html#5" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_4.gif"/></a>

 std::string &amp;ime_kupca, const Datum &amp;datum_rodjenja_kupca,const std::string &amp;adresa_stana, int sprat_stana, int broj_soba,
 bool namjesten_stan, double broj_kvadrata);
void PromijeniKupca(const Kupac &amp;novi_kupac); 
void PromijeniStan(const Stan &amp;novi_stan);
void PromijeniDatumKupovine(const Datum &amp;novi_datum);
void PromijeniCijenuProdaje(const double &amp;nova_cijena);
void PomjeriDanUnaprijed();
void PomjeriDanUnazad();
std::string DajImeAgenta() const {
    return ime_agenta_prodaje;
}
std::string DajImeKupca() const {
    return kupac_stana.DajImePrezime();
}
Datum DajDatumProdaje() const {
</font>    return datum_prodaje;
}
double DajCijenuStana() const {
    return cijena_stana;
}
friend bool ProdatPrije(const Prodaja &amp;p1, const Prodaja &amp;p2);
friend bool SkupljiStan(const Prodaja &amp;p1, const Prodaja &amp;p2); 
void Ispisi() const;
};

<a name="4"></a><font color="#FF00FF"><a href="match141-1.html#4" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_6.gif"/></a>

  Prodaja::Prodaja(const std::string &amp;ime_agenta_prodaje,double cijena_stana,const Datum &amp;datum_prodaje,const Kupac &amp;kupac_stana,const Stan &amp;kupljeni_stan) : datum_prodaje(datum_prodaje.DajDan(),datum_prodaje.DajMjesec(),datum_prodaje.DajGodinu()), kupac_stana(kupac_stana.DajImePrezime(),kupac_stana.DajDatumRodjenja()), 
 kupljeni_stan(kupljeni_stan.DajAdresu(),kupljeni_stan.DajSprat(),kupljeni_stan.DajBrojSoba(),kupljeni_stan.DajNamjesten(),kupljeni_stan.DajKvadraturu()) {
     Prodaja::ime_agenta_prodaje=ime_agenta_prodaje;
     Prodaja::cijena_stana=cijena_stana;
   }
   Prodaja::Prodaja(const std::string &amp;ime_agenta_prodaje, double cijena_stana,int dan_prodaje, int mjesec_prodaje, int godina_prodaje,
 std::string &amp;ime_kupca, const Datum &amp;datum_rodjenja_kupca,const std::string &amp;adresa_stana, int sprat_stana, int broj_soba,
</font><a name="0"></a><font color="#FF0000"><a href="match141-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_34.gif"/></a>

 bool namjesten_stan, double broj_kvadrata) : datum_prodaje(dan_prodaje,mjesec_prodaje,godina_prodaje), kupac_stana(ime_kupca,datum_rodjenja_kupca) ,kupljeni_stan(adresa_stana,sprat_stana,broj_soba,namjesten_stan,broj_kvadrata) {
      Prodaja::ime_agenta_prodaje=ime_agenta_prodaje;
      Prodaja::cijena_stana=cijena_stana;
}

void Prodaja::PromijeniKupca(const Kupac &amp;novi_kupac) {
    Prodaja::kupac_stana.Postavi(novi_kupac.DajImePrezime(),novi_kupac.DajDatumRodjenja());
}
void Prodaja::PromijeniStan(const Stan &amp;novi_stan) {
    Prodaja::kupljeni_stan.Postavi(novi_stan.DajAdresu(),novi_stan.DajSprat(),novi_stan.DajBrojSoba(),novi_stan.DajNamjesten(),novi_stan.DajKvadraturu());
}
void Prodaja::PromijeniDatumKupovine(const Datum &amp;novi_datum) {
    Prodaja::datum_prodaje.Postavi(novi_datum.DajDan(),novi_datum.DajMjesec(),novi_datum.DajGodinu());
}
void Prodaja::PromijeniCijenuProdaje(const double &amp;nova_cijena) {
      cijena_stana=nova_cijena;
      }
      void Prodaja::PomjeriDanUnaprijed() {
          int n(DajDatumProdaje().DajDan());
          n++;
          Prodaja::datum_prodaje.Postavi(n,DajDatumProdaje().DajMjesec(),DajDatumProdaje().DajGodinu());
      }
void Prodaja::PomjeriDanUnazad() {
    int z(DajDatumProdaje().DajDan());
    z--;
    Prodaja::datum_prodaje.Postavi(z,DajDatumProdaje().DajMjesec(),DajDatumProdaje().DajGodinu());
}
bool ProdatPrije(const Prodaja &amp;p1,const Prodaja &amp;p2) {
    Datum dat1(p1.DajDatumProdaje().DajDan(),p1.DajDatumProdaje().DajMjesec(),p1.DajDatumProdaje().DajGodinu());
    Datum dat2(p2.DajDatumProdaje().DajDan(),p2.DajDatumProdaje().DajMjesec(),p2.DajDatumProdaje().DajGodinu());
    if(dat1.DajGodinu()&lt;dat2.DajGodinu()) {
        return true;
    }
    else {
        if(dat1.DajGodinu()==dat2.DajGodinu()) {
            if(dat1.DajMjesec()&lt;dat2.DajMjesec()) 
            return true;
            else {
                if(dat1.DajMjesec()==dat2.DajMjesec()) {
                    if(dat1.DajDan()&lt;dat2.DajDan()) 
                        return true;
                        else 
                        return false;
                    }
                    else 
                    return false;
                }
            }
            else 
            return false;
        }
    }
bool SkupljiStan(const Prodaja &amp;p1,const Prodaja &amp;p2) {
    return p1.DajCijenuStana()&gt;p2.DajCijenuStana();
}
void Prodaja::Ispisi() const {
    std::cout&lt;&lt;"Ime agenta: "&lt;&lt;std::left&lt;&lt;DajImeAgenta()&lt;&lt;std::endl;
    std::cout&lt;&lt;"Ime kupca: "&lt;&lt;std::left&lt;&lt;kupac_stana.DajImePrezime()&lt;&lt;std::endl;
    std::cout&lt;&lt;"Zakazani datum prodaje: "&lt;&lt;std::left&lt;&lt;datum_prodaje.DajDan()&lt;&lt;"/"&lt;&lt;datum_prodaje.DajMjesec()&lt;&lt;"/"&lt;&lt;datum_prodaje.DajGodinu()&lt;&lt;std::endl;
    std::cout&lt;&lt;"Cijena stana: "&lt;&lt;std::left&lt;&lt;DajCijenuStana()&lt;&lt;std::endl;
    std::cout&lt;&lt;"Informacije o stanu: "&lt;&lt;std::endl&lt;&lt;"Stan se nalazi na adresi "&lt;&lt;kupljeni_stan.DajAdresu()&lt;&lt; " na "&lt;&lt;kupljeni_stan.DajSprat() &lt;&lt;". spratu i ima ";
    if(kupljeni_stan.DajBrojSoba()==1)
    std::cout&lt;&lt;" sobu."&lt;&lt;std::endl;
    else {
        if(kupljeni_stan.DajBrojSoba()&gt;1 &amp;&amp; kupljeni_stan.DajBrojSoba()&lt;5){
            std::cout&lt;&lt;" sobe."&lt;&lt;std::endl;
        }
        else {
            std::cout&lt;&lt;" soba."&lt;&lt;std::endl;
        }
    }
    std::cout&lt;&lt;"Kvadratura stana je "&lt;&lt;kupljeni_stan.DajKvadraturu()&lt;&lt; " (m^2) i stan ";
    if(kupljeni_stan.DajNamjesten())
    std::cout&lt;&lt;"je namjesten.";
    else 
    std::cout&lt;&lt;" nije namjesten.";
}

/*class Prodaje {
    int max_broj_prodaja;
    Prodaja** pok_na_prodaju=nullptr;
    public:
      explicit Prodaje(int max_broj_prodaja) {
          pok_na_prodaju=new  Prodaja*[max_broj_prodaja];
          for(int j=0;j&lt;max_broj_prodaja;j++) {
              pok_na_prodaju[j]=nullptr;
          }
          Prodaje::max_broj_prodaja=max_broj_prodaja;
      }
Prodaje(std::initializer_list&lt;Prodaja&gt; spisak_prodaja) : max_broj_prodaja(spisak_prodaja.size()), pok_na_prodaju(new Prodaja* [spisak_prodaja.size()]) {
    std::copy(spisak_prodaja.begin(),spisak_prodaja.end(),*pok_na_prodaju);
}
    
~Prodaje() {
    if(pok_na_prodaju) {
    for(int i=0;i&lt;max_broj_prodaja;i++) 
    delete[] pok_na_prodaju[i];
    delete [] pok_na_prodaju;
    pok_na_prodaju=nullptr;
    max_broj_prodaja=0;
}
}
Prodaje(const Prodaje &amp;prodaje);
Prodaje(Prodaje &amp;&amp;prodaje);
Prodaje &amp;operator =(const Prodaje &amp;prodaje);
Prodaje &amp;operator =(Prodaje &amp;&amp;prodaje);
void RegistrirajProdaju(const std::string &amp;ime_agenta_prodaje,
 double cijena_stana, const Datum &amp;datum_prodaje, const Kupac &amp;kupac_stana,
const Stan &amp;kupljeni_stan);
void RegistrirajProdaju(Prodaja *prodaja);
int DajBrojProdaja() const;
int DajBrojProdajaNaDatum(const Datum &amp;datum) const;
int DajBrojProdajaOdAgenta(const std::string &amp;ime_agenta) const;
Prodaja &amp;DajNajranijuProdaju();
Prodaja DajNajranijuProdaju() const;
Prodaja &amp;DajNajskupljuProdaju();
Prodaja DajNajskupljuProdaju() const;
void IsprazniKolekciju();
void ObrisiNajranijuProdaju();
void ObrisiProdajeAgenta(const std::string &amp;ime_agenta);
void ObrisiProdajeNaDatum(const Datum &amp;datum);
void IspisiProdajeNaDatum(const Datum &amp;datum) const;
void IspisiSveProdaje() const;
};


Prodaje::Prodaje(const Prodaje &amp;prodaje) : max_broj_prodaja(prodaje.max_broj_prodaja), pok_na_prodaju(new Prodaja* [prodaje.max_broj_prodaja]) {
    std::copy(**prodaje.pok_na_prodaju,*(*prodaje.pok_na_prodaju+max_broj_prodaja),**pok_na_prodaju);
}
Prodaje::Prodaje(Prodaje &amp;&amp;prodaje): max_broj_prodaja(prodaje.max_broj_prodaja), pok_na_prodaju(prodaje.pok_na_prodaju) {
prodaje.pok_na_prodaju=nullptr;
}
Prodaje &amp;Prodaje:: operator=(const Prodaje &amp;prodaje) {
    if(&amp;prodaje!=this) {
        delete [] Prodaje::pok_na_prodaju;
        max_broj_prodaja=prodaje.max_broj_prodaja;
        pok_na_prodaju=new Prodaja* [max_broj_prodaja];
        std::copy(*prodaje.pok_na_prodaju,*prodaje.pok_na_prodaju+max_broj_prodaja,*pok_na_prodaju);
    }
    return *this;
}

Prodaje &amp;Prodaje:: operator=(Prodaje &amp;&amp;prodaje) {
    if(&amp;prodaje!=this) {
        max_broj_prodaja=prodaje.max_broj_prodaja;
        pok_na_prodaju=prodaje.pok_na_prodaju;
        prodaje.pok_na_prodaju=nullptr;
    }
    return *this;
}

void Prodaje::RegistrirajProdaju(const std::string &amp;ime_agenta_prodaje,double cijena_stana,const Datum &amp;datum_prodaje,const Kupac &amp;kupac_stana,const Stan &amp;kupljeni_stan) {
    int i;
    for(i=0;i&lt;max_broj_prodaja;i++) {
        if(pok_na_prodaju[i]==nullptr) {
            pok_na_prodaju[i]=new Prodaja(ime_agenta_prodaje,cijena_stana,datum_prodaje,kupac_stana,kupljeni_stan);
            break;
        }
    }
    if(i==max_broj_prodaja)
    throw std::range_error("Dostignut maksimalan broj prodaja");
}


void Prodaje::RegistrirajProdaju(Prodaja *prodaja) {
    int i;
for(i=0;i&lt;max_broj_prodaja;i++) {
    if(pok_na_prodaju[i]==nullptr) {
        pok_na_prodaju[i]=prodaja;
        break;
    }
}
if(i==max_broj_prodaja) 
throw std::range_error("Dostignut maksimalan broj prodaja");
}
int Prodaje::DajBrojProdaja() const {
    int broj(0);
    for(int i=0;i&lt;max_broj_prodaja;i++) {
        if(pok_na_prodaju[i]!=nullptr) 
        broj++;
    }
    return broj;
}
int Prodaje::DajBrojProdajaNaDatum(const Datum &amp;datum) const {
    return std::count_if(pok_na_prodaju,pok_na_prodaju+max_broj_prodaja,[&amp;datum](Prodaja *p) {
        return p-&gt;DajDatumProdaje().DajDan()==datum.DajDan() &amp;&amp; p-&gt;DajDatumProdaje().DajMjesec()==datum.DajMjesec() &amp;&amp; p-&gt;DajDatumProdaje().DajGodinu()==datum.DajGodinu();
    });
}
int Prodaje::DajBrojProdajaOdAgenta(const std::string &amp;ime_agenta) const {
    int broj(0);
    for(int i=0;i&lt;max_broj_prodaja;i++) {
        if(pok_na_prodaju[i]-&gt;DajImeAgenta()==ime_agenta) 
        broj++;
    }
    return broj;
}

Prodaja Prodaje::DajNajranijuProdaju() const {
      if(Prodaje::max_broj_prodaja==0) throw std::domain_error("Nema registriranih prodaja");
      int indeks(0);
      for(int i=0;i&lt;max_broj_prodaja;i++) {
          for(int j=0;j&lt;max_broj_prodaja;j++) {
              if(i!=j &amp;&amp; ProdatPrije(*pok_na_prodaju[i],*pok_na_prodaju[j]))
              indeks=i;
          }
      }
      return *pok_na_prodaju[indeks];
}
Prodaja &amp;Prodaje::DajNajskupljuProdaju() {
    if(Prodaje::max_broj_prodaja==0) throw std::domain_error("Nema registriranih prodaja");
    return *std::max_element(*pok_na_prodaju,*pok_na_prodaju+max_broj_prodaja,[](Prodaja p1,Prodaja p2) {
        return (p1).DajCijenuStana()&gt;(p2).DajCijenuStana();
    });
}
Prodaja  Prodaje::DajNajskupljuProdaju() const {
    if(Prodaje::max_broj_prodaja==0) throw std::domain_error("Nema registriranih prodaja");
    int indeks(0);
    for(int i=0;i&lt;DajBrojProdaja();i++) {
        for(int j=0;j&lt;DajBrojProdaja();j++) {
            if(i!=j &amp;&amp; SkupljiStan(*pok_na_prodaju[i],*pok_na_prodaju[j])) {
                indeks=i;
            }
        }
    }
    return *pok_na_prodaju[indeks];
}
void Prodaje::IsprazniKolekciju() {
     
}

void Prodaje::ObrisiNajranijuProdaju() {
      Prodaja* pok(&amp;DajNajranijuProdaju());
      delete pok;
}
void Prodaje::ObrisiProdajeAgenta(const std::string &amp;ime_agenta) {
    for(int i=0;i&lt;DajBrojProdaja();i++) {
        if((*pok_na_prodaju[i]).DajImeAgenta()==ime_agenta) {
            delete pok_na_prodaju[i];
            pok_na_prodaju[i]=nullptr;
        }
}
}
void Prodaje::ObrisiProdajeNaDatum(const Datum &amp;datum) {
    for(int i=0;i&lt;DajBrojProdaja();i++) {
        if((pok_na_prodaju[i])-&gt;DajDatumProdaje().DajDan()==datum.DajDan() &amp;&amp; (pok_na_prodaju[i])-&gt;DajDatumProdaje().DajMjesec()==datum.DajMjesec() &amp;&amp; (pok_na_prodaju[i])-&gt;DajDatumProdaje().DajGodinu()==datum.DajGodinu()) {
            delete pok_na_prodaju[i];
            pok_na_prodaju=nullptr;
        }
}
}
void Prodaje::IspisiProdajeNaDatum(const Datum &amp;datum)  const {
    for(int i=0;i&lt;DajBrojProdaja();i++) {
        Datum dat(datum.DajDan(),datum.DajMjesec(),datum.DajGodinu());
        if((pok_na_prodaju[i])-&gt;DajDatumProdaje().DajDan()==dat.DajDan() &amp;&amp; (pok_na_prodaju[i])-&gt;DajDatumProdaje().DajMjesec()==dat.DajMjesec() &amp;&amp; (pok_na_prodaju[i])-&gt;DajDatumProdaje().DajGodinu()==dat.DajGodinu()) {
            datum.Ispisi();
        }
    }
}
void Prodaje::IspisiSveProdaje() const {
    for(int i=0;i&lt;max_broj_prodaja;i++) {
        if(pok_na_prodaju[i]) {
            (*pok_na_prodaju[i]).Ispisi();
        }
    }
}*/
int main ()
{
    std::cout&lt;&lt;"Unesite sta hocete";
</font>	return 0;
}</pre>
</body>
</html>
