<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z3/student2371.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z3/student2371.cpp<p></p><pre>
/B 2016/2017, Zadaća 4, Zadatak 3
//Napomena: testovi ce biti dostupni dan pred rok! bilo koji znak koji nije slovo, broj ili znak “crtica”, razmak ili apostrof.
#include &lt;iostream&gt;
#include&lt;string&gt;
#include&lt;stdexcept&gt;
#include&lt;iomanip&gt;
#include&lt;algorithm&gt;
#include&lt;initializer_list&gt;
#include&lt;memory&gt;
using std::cout;
using std::cin;
using std::string;
using std::endl;

class Datum{
    int dan, mjesec, godina;
    public:
<a name="7"></a><font color="#0000FF"><a href="match627-1.html#7" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_0.gif"/></a>

    Datum(int dan, int mjesec, int godina);
    void Postavi(int dan, int mjesec, int godina);
    int DajDan() const {return dan;};
    int DajMjesec() const{return mjesec;};
    int DajGodinu() const{return godina;};
</font><a name="8"></a><font color="#00FFFF"><a href="match627-1.html#8" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_0.gif"/></a>

    void Ispisi() const{cout&lt;&lt;dan&lt;&lt;"/"&lt;&lt;mjesec&lt;&lt;"/"&lt;&lt;godina;};
};
        Datum::Datum(int dan, int mjesec, int godina){ 
                int broj_dana[]{31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31};
</font>            if(((godina % 4 == 0) &amp;&amp; (godina % 100 != 0)) || godina % 400 == 0) 
                broj_dana[1]++;
<a name="2"></a><font color="#0000FF"><a href="match627-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_1.gif"/></a>

            if(godina &lt; 1 || dan &lt; 1 || mjesec &lt; 1 || mjesec &gt; 12|| dan &gt; broj_dana[mjesec-1])
                throw std::domain_error("Neispravan datum!");
            Datum::dan = dan; Datum::mjesec = mjesec; Datum::godina = godina;
        }
            
        void Datum::Postavi(int dan, int mjesec, int godina) {
            int broj_dana[]{31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31};
</font>            if((godina % 4 == 0 &amp;&amp; godina % 100 != 0 )|| godina % 400 == 0)
                broj_dana[1]++;
<a name="9"></a><font color="#FF00FF"><a href="match627-1.html#9" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_0.gif"/></a>

            if(godina &lt; 1 || dan &lt; 1 || mjesec &lt; 1 || mjesec &gt; 12 || dan &gt; broj_dana[mjesec-1])
                throw std::domain_error("Neispravan datum!");
            Datum::dan = dan; Datum::mjesec = mjesec; Datum::godina = godina;
        }

class Kupac{
</font>    string imeiprezime; 
    Datum datumrodjenja;
    static bool IspravanTekst(string imeiprezime);
    public:
<a name="10"></a><font color="#FF0000"><a href="match627-1.html#10" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_0.gif"/></a>

    Kupac(const std::string &amp;ime_i_prezime, const Datum &amp; datum_rodjenja);
    void Postavi(const std::string &amp; ime_i_prezime, const Datum &amp; datum_rodjenja);
    std::string DajImePrezime() const{return imeiprezime;};
    Datum DajDatumRodjenja() const{return datumrodjenja;};
</font>    void Ispisi() const{cout&lt;&lt;DajImePrezime()&lt;&lt;"(";
    datumrodjenja.Ispisi();
    cout&lt;&lt;")";};
};
        Kupac::Kupac(const std::string &amp;ime_i_prezime, const Datum &amp; datum_rodjenja) :
                datumrodjenja(datum_rodjenja.DajDan(), datum_rodjenja.DajMjesec(), datum_rodjenja.DajGodinu()){
                    if (IspravanTekst(ime_i_prezime)==true)
                    imeiprezime=ime_i_prezime;  
                    else throw std::domain_error("Neispravano ime i prezime");
                    datumrodjenja=datum_rodjenja;
                }
                
        void Kupac::Postavi(const std::string &amp; ime_i_prezime, const Datum &amp; datum_rodjenja){
            if (IspravanTekst(ime_i_prezime)==true)
            imeiprezime=ime_i_prezime;  
            else throw std::domain_error("Neispravano ime i prezime");
            datumrodjenja=Datum(datum_rodjenja);
        }
        
        bool Kupac::IspravanTekst(string s){
            for (int i=0; i&lt;s.size(); i++){
                if (!((s[i]&gt;='a'&amp;&amp; s[i]&lt;='z')||(s[i]&gt;='A'&amp;&amp;s[i]&lt;='Z')||(s[i]&gt;='0'&amp;&amp;s[i]&lt;='9')|| (s[i]==' ')|| s[i]=='-'|| s[i]==39 ))
                return false;
            }
            return true;
        }

class Stan{
    string adresa;
    int sprat, broj_soba;
    bool namjesten;
    double kvadratura;
    static bool IspravanTekst(string adresa);
    public:
    Stan(const std::string &amp; adresa, int sprat, int broj_soba, bool namjesten, double kvadratura);
    void Postavi(const std::string &amp; adresa, int sprat, int broj_soba, bool namjesten, double kvadratura);
    std::string DajAdresu() const{return adresa;};
    int DajSprat() const{return sprat;};
    int DajBrojSoba() const{return broj_soba;};
    bool DajNamjesten() const{return namjesten;};
    double DajKvadraturu() const{return kvadratura;};
    void Ispisi() const;
};
        bool Stan::IspravanTekst(string s){
            for (int i=0; i&lt;s.size(); i++){
                if (!((s[i]&gt;='a'&amp;&amp; s[i]&lt;='z')||(s[i]&gt;='A'&amp;&amp;s[i]&lt;='Z')||(s[i]&gt;='0'&amp;&amp;s[i]&lt;='9')|| (s[i]==' ')|| s[i]=='-'|| s[i]==39 ))
                return false;
            }
            return true;
        }
        
        Stan::Stan(const std::string &amp; adresa, int sprat, int broj_soba, bool namjesten, double kvadratura){
                if (IspravanTekst(adresa)) Stan::adresa=adresa;
                else throw std::domain_error ("Neispravna adresa");
                if (broj_soba&lt;0 || sprat&lt;0|| kvadratura&lt;0) throw std::domain_error("Neispravan unos podataka");
                else {
<a name="3"></a><font color="#00FFFF"><a href="match627-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_1.gif"/></a>

                    Stan::sprat=sprat; Stan::broj_soba=broj_soba; Stan::namjesten=namjesten; Stan::kvadratura=kvadratura;
                }
                
        }
            
        void Stan::Postavi(const std::string &amp; adresa, int sprat, int broj_soba, bool namjesten, double kvadratura){
</font>            if (IspravanTekst(adresa)==true) Stan::adresa=adresa;
                else throw std::domain_error ("Neispravna adresa");
            if (broj_soba&lt;0 || sprat&lt;0|| kvadratura&lt;0) throw std::domain_error("Neispravan unos podataka");
                else {
                    Stan::sprat=sprat; Stan::broj_soba=broj_soba; Stan::namjesten=namjesten; Stan::kvadratura=kvadratura;
                }
        }
        
        void Stan::Ispisi() const{
                int brs=DajBrojSoba();
                if (brs==1|| (brs%10==1 &amp;&amp; brs!=11))
                    cout&lt;&lt;"Stan se nalazi na adresi "&lt;&lt;DajAdresu()&lt;&lt;" na "&lt;&lt;DajSprat()&lt;&lt;". spratu i ima "&lt;&lt;DajBrojSoba()&lt;&lt;" sobu."&lt;&lt;endl;
                else if (brs==2 || brs==3 || brs==4 || (brs%10==2 &amp;&amp; brs!=12)||(brs%10==3 &amp;&amp; brs!=13)||(brs%10==4 &amp;&amp; brs!=14)) 
                    cout&lt;&lt;"Stan se nalazi na adresi "&lt;&lt;DajAdresu()&lt;&lt;" na "&lt;&lt;DajSprat()&lt;&lt;". spratu i ima "&lt;&lt;DajBrojSoba()&lt;&lt;" sobe."&lt;&lt;endl;
                else cout&lt;&lt;"Stan se nalazi na adresi "&lt;&lt;DajAdresu()&lt;&lt;" na "&lt;&lt;DajSprat()&lt;&lt;". spratu i ima "&lt;&lt;DajBrojSoba()&lt;&lt;" soba."&lt;&lt;endl;
                bool nmj=DajNamjesten();
                if (nmj==true) cout&lt;&lt;"Kvadratura stana je "&lt;&lt;DajKvadraturu()&lt;&lt;" (m^2) i stan je namjesten.";
                else cout&lt;&lt;"Kvadratura stana je "&lt;&lt;DajKvadraturu()&lt;&lt;" (m^2) i stan nije namjesten.";
        }
            
class Prodaja{
    string ime_agenta_prodaje;
    double cijena_stana;
    Datum datumprodaje;
    Kupac kupacstana;
    Stan kupljenistan;
    static bool IspravanTekst(string ime_agenta_prodaje);
    public:
    Prodaja(const std::string &amp; ime_agenta_prodaje, double cijena_stana,const Datum &amp; datum_prodaje, const Kupac &amp; kupac_stana, const Stan &amp; kupljeni_stan);
    Prodaja(const std::string &amp; ime_agenta_prodaje, double cijena_stana,int dan_prodaje, int mjesec_prodaje, int godina_prodaje,std::string &amp; ime_kupca, const Datum &amp; datum_rodjenja_kupca, const std::string &amp; adresa_stana, int sprat_stana, int broj_soba,bool namjesten_stan, double broj_kvadrata);
    void PromijeniKupca(const Kupac &amp; novi_kupac){kupacstana=novi_kupac;};
    void PromijeniStan(const Stan &amp; novi_stan){kupljenistan=novi_stan;};
    void PromijeniDatumKupovine(const Datum &amp; novi_datum){datumprodaje=novi_datum;};
    void PromijeniCijenuProdaje(const double &amp; nova_cijena){cijena_stana=nova_cijena;};
    void PomjeriDanUnaprijed();
    void PomjeriDanUnazad();
    std::string DajImeAgenta() const{return ime_agenta_prodaje;};
    std::string DajImeKupca() const{return kupacstana.DajImePrezime(); };
    Datum DajDatumProdaje() const{return datumprodaje; };
    double DajCijenuStana() const{return cijena_stana; };
    friend bool ProdatPrije(const Prodaja &amp; p1, const Prodaja &amp; p2);
    friend bool SkupljiStan(const Prodaja &amp; p1, const Prodaja &amp; p2);
    void Ispisi() const;
};
        Prodaja::Prodaja(const std::string &amp; ime_agenta_prodaje, double cijena_stana,const Datum &amp; datum_prodaje, const Kupac &amp; kupac_stana, const Stan &amp; kupljeni_stan):
            datumprodaje(datum_prodaje.DajDan(), datum_prodaje.DajMjesec(), datum_prodaje.DajGodinu()), 
            kupacstana(kupac_stana.DajImePrezime(), kupac_stana.DajDatumRodjenja()), 
            kupljenistan(kupljeni_stan.DajAdresu(), kupljeni_stan.DajSprat(), kupljeni_stan.DajBrojSoba(), kupljeni_stan.DajNamjesten(), kupljeni_stan.DajKvadraturu()){
                if (IspravanTekst(ime_agenta_prodaje)== true) Prodaja::ime_agenta_prodaje=ime_agenta_prodaje;
                else throw std::domain_error("Neispravno ime");
                if (cijena_stana&lt;0) throw std::domain_error("Neispravan unos");
                else Prodaja::cijena_stana=cijena_stana;
                Prodaja::datumprodaje=datum_prodaje;
<a name="6"></a><font color="#00FF00"><a href="match627-1.html#6" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_0.gif"/></a>

                Prodaja::kupacstana=kupac_stana;
                Prodaja::kupljenistan=kupljeni_stan;
            }
            
        Prodaja::Prodaja(const std::string &amp; ime_agenta_prodaje, double cijena_stana,int dan_prodaje, int mjesec_prodaje, int godina_prodaje,std::string &amp; ime_kupca, const Datum &amp; datum_rodjenja_kupca, const std::string &amp; adresa_stana, int sprat_stana, int broj_soba,bool namjesten_stan, double broj_kvadrata):
</font><a name="11"></a><font color="#00FF00"><a href="match627-1.html#11" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_0.gif"/></a>

            datumprodaje( dan_prodaje, mjesec_prodaje, godina_prodaje),
            kupacstana(ime_kupca, datum_rodjenja_kupca), 
            kupljenistan(adresa_stana, sprat_stana, broj_soba, namjesten_stan, broj_kvadrata){
                if (IspravanTekst(ime_agenta_prodaje)== true) Prodaja::ime_agenta_prodaje=ime_agenta_prodaje;
</font>                else throw std::domain_error("Neispravno ime");
                if (cijena_stana&lt;0) throw std::domain_error("Neispravan unos");
                else Prodaja::cijena_stana=cijena_stana;
            }
            
        bool Prodaja::IspravanTekst(string s){
            for (int i=0; i&lt;s.size(); i++){
                if (!((s[i]&gt;='a'&amp;&amp; s[i]&lt;='z')||(s[i]&gt;='A'&amp;&amp;s[i]&lt;='Z')||(s[i]&gt;='0'&amp;&amp;s[i]&lt;='9')|| (s[i]==' ')|| s[i]=='-'|| s[i]==39 ))
                return false;
            }
            return true;
        }
        
        void Prodaja::PomjeriDanUnaprijed(){
            int godina=datumprodaje.DajGodinu();
            int mjesec=datumprodaje.DajMjesec();
            int dan=datumprodaje.DajDan();
            int broj_dana[]{31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31};
            if((godina % 4 == 0 &amp;&amp; godina % 100 != 0) || godina % 400 == 0) broj_dana[1]++;
            dan++;
<a name="5"></a><font color="#FF0000"><a href="match627-1.html#5" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_0.gif"/></a>

            if(dan &gt; broj_dana[mjesec-1]) {dan=1; mjesec++;}
            if(mjesec &gt; 12) {mjesec = 1; godina++;}
            datumprodaje.Postavi(dan, mjesec, godina);
        }
        
        void Prodaja::PomjeriDanUnazad(){
</font>            int godina=datumprodaje.DajGodinu();
            int mjesec=datumprodaje.DajMjesec();//4
            int dan=datumprodaje.DajDan();
            int broj_dana[]{31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31};
            if((godina % 4 == 0 &amp;&amp; godina % 100 != 0) || godina % 400 == 0) broj_dana[1]++;
            dan--;
            if(dan &lt;=0) { mjesec--;}
            if(mjesec &lt;=0) {mjesec = 12; godina--; dan=broj_dana[mjesec-1];}
            datumprodaje.Postavi(dan, mjesec, godina);
        }
        
        void Prodaja::Ispisi()const{
            cout&lt;&lt;"\nIme agenta: "&lt;&lt;std::setw(20)&lt;&lt;DajImeAgenta()&lt;&lt;endl;
            cout&lt;&lt;"Ime kupca: "&lt;&lt;std::setw(16)&lt;&lt;DajImeKupca()&lt;&lt;endl;
            cout&lt;&lt;"Zakazani datum prodaje: ";
            DajDatumProdaje().Ispisi();
            cout&lt;&lt;endl;
            cout&lt;&lt;"Cijena stana: "&lt;&lt;std::setw(9)&lt;&lt;DajCijenuStana()&lt;&lt;endl;
            cout&lt;&lt;"Informacije o stanu: "&lt;&lt;endl;
            kupljenistan.Ispisi();
        }
        
        bool ProdatPrije(const Prodaja &amp;p1, const Prodaja &amp;p2){
            if (p1.DajDatumProdaje().DajGodinu()&lt;p2.DajDatumProdaje().DajGodinu()) return true;
            if ((p1.DajDatumProdaje().DajGodinu()==p2.DajDatumProdaje().DajGodinu())&amp;&amp;(p1.DajDatumProdaje().DajMjesec()&lt;p2.DajDatumProdaje().DajMjesec()) )return true;
            if (((p1.DajDatumProdaje().DajGodinu()==p2.DajDatumProdaje().DajGodinu())&amp;&amp;(p1.DajDatumProdaje().DajMjesec()&lt;p2.DajDatumProdaje().DajMjesec()))&amp;&amp; (p1.DajDatumProdaje().DajDan()&lt;p2.DajDatumProdaje().DajDan())) return true;
            return false;
        }
        
        bool SkupljiStan(const Prodaja &amp; p1, const Prodaja &amp; p2){
            double a=p1.DajCijenuStana();
            double b=p2.DajCijenuStana();
            if (a-b&lt;000000000000001) return false;
            else return true;
        }
        
class Prodaje{
    int max_broj_prodaja;
    int broj_prodaja;
    Prodaja **sveprodaje; 
    public:
   explicit Prodaje(int max_broj_prodaja): max_broj_prodaja(max_broj_prodaja), broj_prodaja(0), sveprodaje(new Prodaja*[max_broj_prodaja]{}) {}
    Prodaje(std::initializer_list&lt;Prodaja&gt; spisak_prodaja);
   ~Prodaje() ;
    Prodaje(const Prodaje &amp; prodaje);
<a name="12"></a><font color="#0000FF"><a href="match627-1.html#12" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_0.gif"/></a>

    Prodaje(Prodaje &amp;&amp; prodaje): max_broj_prodaja(prodaje.max_broj_prodaja), sveprodaje(prodaje.sveprodaje),broj_prodaja(prodaje.broj_prodaja){prodaje.sveprodaje=nullptr;prodaje.broj_prodaja=0;}
</font>    Prodaje &amp; operator =(const Prodaje &amp; prodaje);//
    Prodaje &amp; operator =(Prodaje &amp;&amp; prodaje);//
    void RegistrirajProdaju(const std::string &amp; ime_agenta_prodaje, double cijena_stana, const Datum &amp; datum_prodaje, const Kupac &amp; kupac_stana,const Stan &amp; kupljeni_stan);
    void RegistrirajProdaju(const std::string &amp; ime_agenta_prodaje, double cijena_stana, int dan_prodaje,int mjesec_prodaje, int godina_prodaje, std::string &amp; ime_kupca,const Datum &amp; datum_rodjenja_kupca, const std::string &amp; adresa_stana,int sprat_stana, int broj_soba, bool namjesten_stan, double broj_kvadrata);
    void RegistrirajProdaju(Prodaja *prodaja);//
    int DajBrojProdaja() const{return broj_prodaja;}; //
    int DajBrojProdajaNaDatum(const Datum &amp; datum) const; //
    int DajBrojProdajaOdAgenta(const std::string &amp; ime_agenta) const;//
    Prodaja &amp; DajNajranijuProdaju();
    Prodaja DajNajranijuProdaju() const;
    Prodaja &amp; DajNajskupljuProdaju();
    Prodaja DajNajskupljuProdaju() const;
    void IsprazniKolekciju();
    void ObrisiNajranijuProdaju();
    void ObrisiProdajeAgenta(const std::string &amp; ime_agenta);//
    void ObrisiProdajeNaDatum(const Datum &amp; datum);//
    void IspisiProdajeNaDatum(const Datum &amp; datum) const;
    void IspisiSveProdaje() const;
    Prodaje&amp; DajProdaju(int index);
    Prodaja **begin() const { return sveprodaje; }
    Prodaja **end() const { return sveprodaje + max_broj_prodaja; }
    /*U klasu "Prodaje" potrebno je dodati novu metodu "DajProdaju" koja
  kao parametar prima redni broj prodaje, a vraća referencu na
  odgovarajuću prodaju pohranjenu unutar klase (na taj način se
  omogućava izmjena individualnih prodaja). U slučaju da redni broj
  prodaje nije ispravan, treba baciti izuzetak po volji (neće se
  testirati).*/
};
        Prodaje::~Prodaje(){
            for (int i=0; i&lt;broj_prodaja; i++) delete sveprodaje[i];
            delete[] sveprodaje;
        }
        Prodaje::Prodaje(const std::initializer_list&lt;Prodaja&gt; spisak_prodaja) : broj_prodaja(spisak_prodaja.size()),
    max_broj_prodaja(spisak_prodaja.size()), sveprodaje(nullptr) {
    int brojac(0);
    try {
        for(const auto &amp;x : spisak_prodaja)
            sveprodaje[brojac] = new Prodaja(x);
            brojac++;
    }
    catch(...) {
        for (int i=0; i&lt;broj_prodaja; i++) delete sveprodaje[i];
            delete[] sveprodaje;
        throw; // prosljedjujemo izuzetak ..
    }
}
        Prodaje::Prodaje(const Prodaje &amp; prodaje):  max_broj_prodaja(prodaje.max_broj_prodaja), sveprodaje(new Prodaja*[prodaje.max_broj_prodaja]{}), broj_prodaja(prodaje.broj_prodaja){
            try{
<a name="13"></a><font color="#00FFFF"><a href="match627-1.html#13" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_0.gif"/></a>

                for (int i=0; i&lt;prodaje.broj_prodaja; i++) sveprodaje[i]=new Prodaja(*prodaje.sveprodaje[i]);
            }
            catch(...){
                for (int i=0; i&lt;prodaje.broj_prodaja; i++) delete sveprodaje[i];
</font>            delete[] sveprodaje; throw;
            }
        }
        void Prodaje::RegistrirajProdaju(const std::string &amp; ime_agenta_prodaje, double cijena_stana, const Datum &amp; datum_prodaje, const Kupac &amp; kupac_stana, const Stan &amp; kupljeni_stan){
            if (broj_prodaja&gt;=max_broj_prodaja) throw std::range_error("Dostignut maksimalni broj prodaja!");
            Prodaja s(ime_agenta_prodaje, cijena_stana, datum_prodaje, kupac_stana, kupljeni_stan);
            sveprodaje[broj_prodaja++]=&amp;s;
        }
        
        void Prodaje::RegistrirajProdaju(const std::string &amp; ime_agenta_prodaje,double cijena_stana, int dan_prodaje,int mjesec_prodaje, int godina_prodaje, std::string &amp; ime_kupca,const Datum &amp; datum_rodjenja_kupca, const std::string &amp; adresa_stana,int sprat_stana, int broj_soba, bool namjesten_stan, double broj_kvadrata){
        if (broj_prodaja&gt;=max_broj_prodaja) throw std::range_error("Dostignut maksimalni broj prodaja!");
            Datum d(dan_prodaje,mjesec_prodaje, godina_prodaje);
            Kupac kupac(ime_kupca, datum_rodjenja_kupca);
            Stan stan(adresa_stana,sprat_stana,broj_soba,namjesten_stan,broj_kvadrata);
            Prodaja s(ime_agenta_prodaje, cijena_stana, d, kupac, stan);
            sveprodaje[broj_prodaja++]=&amp;s;
        }
        
        void Prodaje::RegistrirajProdaju(Prodaja *prodaja){
            if (broj_prodaja&gt;=max_broj_prodaja) throw std::range_error("Dostignut maksimalni broj prodaja!");
            sveprodaje[broj_prodaja++]=prodaja;
        }
        
         /*Prodaje::Prodaje(std::initializer_list&lt;Prodaja&gt; spisak_prodaja): max_broj_prodaja(spisak_prodaja.size()), sveprodaje(new Prodaja*[spisak_prodaja.size()]{}) {
             try{
                while (spisak_prodaja.begin()!=spisak_prodaja.end()) {sveprodaje[i]=new Prodaja(spisak_prodaja.sveprodaje[i]);}
                }
                catch(...){
                    for (int i=spisak_prodaja.begin(); i&lt;spisak_prodaja.end(); i++) delete sveprodaje[i];
                    delete[] sveprodaje; throw;
                }
        }*/

<a name="0"></a><font color="#FF0000"><a href="match627-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_5.gif"/></a>

        Prodaje &amp;Prodaje::operator =(const Prodaje &amp; prodaje){
            if (prodaje.max_broj_prodaja!=max_broj_prodaja)throw std::range_error("Dostignut maksimalni broj prodaja");
            if (prodaje.broj_prodaja&gt;broj_prodaja){
                try{
                    for (int i=broj_prodaja; i&lt;prodaje.broj_prodaja; i++) sveprodaje[i]=new Prodaja(*prodaje.sveprodaje[i]);
                 }
                catch(...){
                    for(int i = broj_prodaja; i &lt; prodaje.broj_prodaja; i++) {
                    delete sveprodaje[i]; sveprodaje[i] = nullptr;
                    } 
                throw;
                }
            }
            else {
                for(int i = broj_prodaja; i &lt; prodaje.broj_prodaja; i++) {delete sveprodaje[i]; sveprodaje[i]=nullptr;}
            }
            broj_prodaja=prodaje.broj_prodaja;
            for (int i=0; i&lt;broj_prodaja; i++) *sveprodaje[i]=*prodaje.sveprodaje[i];
            return *this;
        }
        
        Prodaje &amp;Prodaje::operator =(Prodaje &amp;&amp; prodaje){
            if (prodaje.max_broj_prodaja!=max_broj_prodaja) throw std::range_error("Dostignut maksimalni broj prodaja");
            std::swap(broj_prodaja, prodaje.broj_prodaja);
            std::swap(sveprodaje, prodaje.sveprodaje);
            return *this;
</font>        }
        
        int Prodaje::DajBrojProdajaNaDatum(const Datum &amp; datum) const{
            int broj=0;
<a name="4"></a><font color="#FF00FF"><a href="match627-1.html#4" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_1.gif"/></a>

            for (int i=0; i&lt;broj_prodaja; i++){
                Datum d=sveprodaje[i]-&gt;DajDatumProdaje();
                if(d.DajDan()==datum.DajDan() &amp;&amp; d.DajMjesec()==datum.DajMjesec() &amp;&amp; d.DajGodinu()==datum.DajGodinu()) broj++;
</font>            }
            return broj;
        }
        
        int Prodaje::DajBrojProdajaOdAgenta(const std::string &amp; ime_agenta) const{
            int broj=0;
            for (int i=0; i&lt;broj_prodaja; i++){
                std::string a=sveprodaje[i]-&gt;DajImeAgenta();
                if(a==ime_agenta) broj++;
            }
            return broj;
        }
        
        Prodaja&amp; Prodaje::DajNajranijuProdaju(){
            min_element(sveprodaje,sveprodaje+broj_prodaja ,[](std::shared_ptr&lt;Prodaja&gt; t1,std::shared_ptr&lt;Prodaja&gt; t2){
                Datum d=t1-&gt;DajDatumProdaje();
                Datum d2=t2-&gt;DajDatumProdaje();
                return(ProdatPrije(d,d2));
            }
            } );
        }
        Prodaja Prodaje::DajNajranijuProdaju() const{
             min_element(sveprodaje ,sveprodaje+broj_prodaja ,[](std::shared_ptr&lt;Prodaja&gt; t1,std::shared_ptr&lt;Prodaja&gt; t2){
                Datum d=t1-&gt;DajDatumProdaje();
                Datum d2=t2-&gt;DajDatumProdaje();
                return(ProdatPrije(d,d2));
            }
            } );
        }
        Prodaja&amp; Prodaje::DajNajskupljuProdaju(){
             min_element(sveprodaje ,sveprodaje+broj_prodaja ,[](std::shared_ptr&lt;Trougao&gt; t1,std::shared_ptr&lt;Trougao&gt; t2){
                double d=t1-&gt;DajCijenuStana();
                double d2=t2-&gt;DajCijenuStana();
                return(SkupljiStan(d,d2));
            }
            } );
        }
        Prodaja Prodaje::DajNajskupljuProdaju() const{
            min_element(sveprodaje ,sveprodaje+broj_prodaja ,[](std::shared_ptr&lt;Trougao&gt; t1, std::shared_ptr&lt;Trougao&gt; t2){
                double d=t1-&gt;DajCijenuStana();
                double d2=t2-&gt;DajCijenuStana();
                return(SkupljiStan(d,d2));
            }
            } );
        }
        
        void Prodaje::ObrisiNajranijuProdaju();*/
        void Prodaje::ObrisiProdajeAgenta(const std::string &amp; ime_agenta){
            for (int i=0; i&lt;broj_prodaja; i++){
                std::string a=sveprodaje[i]-&gt;DajImeAgenta();
<a name="1"></a><font color="#00FF00"><a href="match627-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_1.gif"/></a>

                if(a==ime_agenta) {delete sveprodaje[i]; sveprodaje[i] = nullptr;}
            }
        }
        void Prodaje::ObrisiProdajeNaDatum(const Datum &amp; datum){
            for (int i=0; i&lt;broj_prodaja; i++){
                Datum d=sveprodaje[i]-&gt;DajDatumProdaje();
                if(d.DajDan()==datum.DajDan() &amp;&amp; d.DajMjesec()==datum.DajMjesec() &amp;&amp; d.DajGodinu()==datum.DajGodinu()) {delete sveprodaje[i]; sveprodaje[i] = nullptr;}
</font>            }
        }
int main ()
{
    try{
    Datum d(15, 5, 1996);
    Kupac k("NIKO NIKIC",d );
    k.Ispisi();
    cout&lt;&lt;endl;
    Stan s("Antuna hangija 9", 2, 5, true, 71.25 );
    s.Ispisi();
    Datum d2(06,10,2017);
    Prodaja p("N",750000, d2, k, s );
    p.PomjeriDanUnazad();
    p.Ispisi();
    }
    catch (std::domain_error x){
        cout&lt;&lt;x.what();
    }
	return 0;
}</pre>
</body>
</html>
