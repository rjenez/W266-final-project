<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z3/student1263.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z3/student8224.cpp<p></p><pre>
<a name="3"></a><font color="#00FFFF"><a href="match155-0.html#3" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_4.gif"/></a>

/B 2016/2017, ZadaÄ‡a 4, Zadatak 3
//Napomena: testovi ce biti dostupni dan pred rok!
#include &lt;iostream&gt;
#include &lt;stdexcept&gt;
#include &lt;string&gt;
#include &lt;iomanip&gt;

class Datum{
    int dan, mjesec, godina;
    public: 
    Datum(int datum, int mjesec, int godina){Postavi(dan,mjesec,godina);}
    void Postavi(int dan, int mjesec, int godina){
        int broj_dana[]{31, 28, 31, 30, 31, 31, 30, 31, 30, 31};
        if((godina %4==0 &amp;&amp; godina%100!=0 )|| godina%400==0) broj_dana[1]++;
</font><a name="1"></a><font color="#00FF00"><a href="match155-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_18.gif"/></a>

        if(godina&lt;1  || mjesec&lt;1 || mjesec&gt;12 || dan&lt;1 || dan&gt;broj_dana[mjesec-1]) throw std::domain_error("Neispravan datum!");
        Datum::dan=dan; Datum::mjesec=mjesec; Datum::godina=godina;
    }
    int DajDan() const{return dan;}
    int DajMjesec() const{return mjesec;}
    int DajGodinu() const{return godina;}
    void Ispisi() const{std::cout&lt;&lt;dan&lt;&lt;"/"&lt;&lt;mjesec&lt;&lt;"/"&lt;&lt;godina;}
};

class Kupac{
    std::string ime_i_prezime;
    Datum datum_rodjenja;
    public:
    Kupac(const std::string &amp;ime_i_prezime, const Datum &amp;datum_rodjenja);
    void Postavi(const std::string &amp;ime_i_prezime, const Datum &amp;datum_rodjenja){
        for(auto c: ime_i_prezime) 
            if(!(c&gt;='0' &amp;&amp; c&lt;='9') &amp;&amp; !(c&gt;='A' &amp;&amp; c&lt;='Z') &amp;&amp; !(c&gt;='a' &amp;&amp; c&lt;='z') &amp;&amp; c!=' ' &amp;&amp; c!='-' &amp;&amp; c!=39)
            throw std::domain_error("Neispravno ime i prezime");
        Kupac::ime_i_prezime=ime_i_prezime; Kupac::datum_rodjenja=datum_rodjenja;
    }
    std::string DajImePrezime() const{return ime_i_prezime;}
    Datum DajDatumRodjenja() const{return datum_rodjenja;}
    void Ispisi() const {std::cout&lt;&lt;ime_i_prezime&lt;&lt;"(";
    datum_rodjenja.Ispisi();
    std::cout&lt;&lt;")";}
};

class Stan {
    std::string adresa;
    int sprat, broj_soba;
    bool namjesten;
    double kvadratura;
    public:
    Stan(const std::string &amp;adresa, int sprat, int broj_soba, bool namjesten, double kvadratura);
    void Postavi(const std::string &amp;adresa, int sprat, int broj_soba, bool namjesten, double kvadratura){
        if (sprat&lt;0 || broj_soba&lt;0 || kvadratura&lt;0) throw std::domain_error("Neispravan unos podataka");
</font><a name="2"></a><font color="#0000FF"><a href="match155-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_14.gif"/></a>

        Stan::adresa=adresa; Stan::sprat=sprat; Stan::broj_soba=broj_soba; Stan::namjesten=namjesten;Stan::kvadratura=kvadratura;
    }
    std::string DajAdresu() const {return adresa;}
    int DajSprat() const{return sprat;}
    int DajBrojSoba() const{return broj_soba;}
    bool DajNamjesten() const{return namjesten;}
    double DajKvadraturu() const{return kvadratura;}
    void Ispisi() const {
        std::cout&lt;&lt;"Stan se nalazi na adresi "&lt;&lt;adresa&lt;&lt;" na "&lt;&lt;sprat&lt;&lt;". spratu i ima "&lt;&lt;broj_soba&lt;&lt;" soba."&lt;&lt;std::endl;
        std::cout&lt;&lt;"Kvadratura stana je "&lt;&lt;kvadratura&lt;&lt;" (m^2) i stan ";
        if(!namjesten) std::cout&lt;&lt;"ni";
        std::cout&lt;&lt;"je namjesten.";
    }
};

class Prodaja {
    std::string ime_agenta_prodaje;
    double cijena_stana;
    Datum datum_prodaje;
    Kupac kupac_stana;
    Stan kupljeni_stan;
    public:
    Prodaja(const std::string &amp;ime_agenta_prodaje, double cijena_stana, const Datum &amp;datum_prodaje, const Kupac &amp;kupac_stana, const Stan &amp;kupljeni_stan):
    datum_prodaje(datum_prodaje), kupac_stana(kupac_stana),kupljeni_stan(kupljeni_stan){
        Prodaja::cijena_stana=cijena_stana; Prodaja::ime_agenta_prodaje=ime_agenta_prodaje;
        Prodaja::kupac_stana=kupac_stana; Prodaja::datum_prodaje=datum_prodaje;
        Prodaja::kupljeni_stan=kupljeni_stan;
    }
    Prodaja(const std::string &amp;ime_agenta_prodaje, double cijena_stana, int dan_prodaje, int mjesec_prodaje, int godina_prodaje,
    std::string &amp;ime_kupca, const Datum &amp;datum_rodjenja_kupca, const std::string &amp;adresa_stana, int sprat_stana, int broj_soba, 
</font><a name="0"></a><font color="#FF0000"><a href="match155-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_43.gif"/></a>

    bool namjesten_stan, double broj_kvadrata): datum_prodaje(dan_prodaje,mjesec_prodaje,godina_prodaje),
    kupac_stana(ime_kupca,datum_rodjenja_kupca), kupljeni_stan(adresa_stana,sprat_stana, broj_soba, namjesten_stan, broj_kvadrata){
        Prodaja::ime_agenta_prodaje=ime_agenta_prodaje; Prodaja::cijena_stana=cijena_stana;
        datum_prodaje.Postavi(dan_prodaje,mjesec_prodaje,godina_prodaje);
        kupljeni_stan.Postavi(adresa_stana,sprat_stana,broj_soba,namjesten_stan,broj_kvadrata);
        kupac_stana.Postavi(ime_kupca,datum_rodjenja_kupca);
    }
    void PromijeniKupca(const Kupac &amp;novi_kupac) {kupac_stana=novi_kupac;}
    void PromijeniStan(const Stan &amp;novi_stan) {kupljeni_stan=novi_stan;}
    void PromijeniDatumKupovine(const Datum &amp;novi_datum) {datum_prodaje=novi_datum;}
    void PromijeniCijenuProdaje(const double &amp;nova_cijena) {cijena_stana=nova_cijena;}
    void PomjeriDanUnaprijed(){
        int d(datum_prodaje.DajDan()), m(datum_prodaje.DajMjesec()), g(datum_prodaje.DajGodinu());
        int broj_dana[]{31,28,31,30,31,30,31,31,30,31,30,31};
        if((g%4==0 &amp;&amp; g%100!=0)|| g%400==0) broj_dana[1]++;
        d++;
        if(d&gt;broj_dana[m-1]) {
            d=1;
            m++;
        }
        if(m&gt;12){
            m=1;
            g++;
        }
        datum_prodaje.Postavi(d,m,g);
    }
    void PomjeriDanUnazad(){
        int d(datum_prodaje.DajDan()), m(datum_prodaje.DajMjesec()), g(datum_prodaje.DajGodinu());
        int broj_dana[]{31,28,31,30,31,30,31,31,30,31,30,31};
        if((g%4==0 &amp;&amp; g%100!=0) || g%400==0) broj_dana[1]++;
        d--;
        if(d&lt;1) {
            m--;
            if(m&lt;0){
                m=12;
                g--;
            }
            d=broj_dana[m-1];
        }
        datum_prodaje.Postavi(d,m,g);
    }
    std::string DajImeAgenta() const {return ime_agenta_prodaje;}
    std::string DajImeKupca() const {return kupac_stana.DajImePrezime();}
    Datum DajDatumProdaje() const{return datum_prodaje;}
    double DajCijenuStana() const {return cijena_stana;}
    friend bool ProdatPrije (const Prodaja &amp;p1, const Prodaja &amp;p2);
    friend bool SkupljiStan (const Prodaja &amp;p1, const Prodaja &amp;p2);
    void Ispisi() const{
        std::cout&lt;&lt;std::setw(30)&lt;&lt;"Ime agenta:"&lt;&lt;ime_agenta_prodaje&lt;&lt;std::endl
        &lt;&lt;std::setw(30)&lt;&lt;"Ime kupca:";
        kupac_stana.Ispisi();
        std::cout&lt;&lt;std::endl&lt;&lt;std::setw(30)&lt;&lt;"Zakazani datum prodaje: ";
        datum_prodaje.Ispisi();
        std::cout&lt;&lt;std::endl&lt;&lt;std::setw(30)&lt;&lt;"Cijena stana: "&lt;&lt;cijena_stana&lt;&lt;std::endl
        &lt;&lt;"Informacije o stanu:"&lt;&lt;std::endl;
        kupljeni_stan.Ispisi();
    }
    
};

bool ProdatPrije(const Prodaja &amp;p1, const Prodaja &amp;p2) {
    Datum dat1(p1.DajDatumProdaje()), dat2(p2.DajDatumProdaje());
    if(dat2.DajGodinu()&gt;dat1.DajGodinu()) return true;
    if(dat1.DajGodinu()==dat2.DajGodinu() &amp;&amp; dat1.DajMjesec()&lt;dat2.DajMjesec()) return true;
    if(dat1.DajGodinu()==dat2.DajGodinu() &amp;&amp; dat1.DajMjesec()==dat2.DajMjesec() &amp;&amp; dat1.DajDan()&lt;dat2.DajDan()) return true;
    return false;
}

bool SkupljiStan(const Prodaja &amp;p1, const Prodaja &amp;p2) {
    if(p1.DajCijenuStana()&lt;p2.DajCijenuStana()) return true;
    return false;
}

class Prodaje{
    public:
    explicit Prodaje(int max_broj_prodaja);
    Prodaje(std::initializer:list&lt;Prodaja&gt; spisak_prodaja);
    ~Prodaje();
    Prodaje(const Prodaje &amp;prodaje);
    Prodaje (Prodaje &amp;&amp;prodaje);
    Prodaje &amp;operator = (const Prodaje &amp;prodaje);
    Prodaje &amp;operator = (Prodaje &amp;&amp;prodaje);
</font><a name="4"></a><font color="#FF00FF"><a href="match155-0.html#4" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_3.gif"/></a>

    void RegistrirajProdaju(const std::string &amp;ime_agenta_prodaje, double cijena_stana, const Datum &amp;datum_prodaje, const Kupac &amp;kupac_stana,
    const Stan &amp;kupljeni_stan);
    void RegistrirajProdaju(const std::string &amp;ime_agenta_prodaje, int dan_prodaje,
    int mjesec_prodaje, int godina_prodaje, std::string &amp;ime_kupca, const Datum &amp;datum_rodjenja_kupca, const std::string &amp;adresa_stana,
</font>    int sprat_stana, int broj_soba, bool namjesten_stan, double broj_kvadrata);
    void RegistrirajProdaju(Prodaja *prodaja);
    int DajBrojProdaja() const;
    int DajBrojProdajaNaDatum(const Datum &amp;datum) const;
    int DajBrojProdajaOdAgenta(const std::string &amp;ime_agenta) const;
    Prodaja &amp;DajNajranijuProdaju();
    Prodaja DajNajranijuProdaju() const;
    Prodaja &amp;DajNajskupljuProdaju();
    Prodaja DajNajskupljuProdaju() const;
    void IsprazniKolekciju();
<a name="5"></a><font color="#FF0000"><a href="match155-0.html#5" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_1.gif"/></a>

    void ObrisiNajranijuProdaju();
    void ObrisiProdajeAgenta(const std::string &amp;ime_agenta);
    void ObrisiProdajeNaDatum(const Datum &amp;datum);
    void IspisiProdajeNaDatum(const Datum &amp;datum) const;
    void IspisiSveProdaje() const;
};

int main ()
</font>{
	return 0;
}</pre>
</body>
</html>
