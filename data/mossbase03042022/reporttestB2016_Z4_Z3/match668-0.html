<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z3/student4473.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z3/student4473.cpp<p></p><pre>
/B 2016/2017, ZadaÄ‡a 4, Zadatak 3
//Napomena: testovi ce biti dostupni dan pred rok!
#include &lt;iostream&gt;
#include &lt;string&gt;
#include &lt;stdexcept&gt;
#include &lt;vector&gt; 
#include &lt;algorithm&gt;
#include &lt;initializer_list&gt;
#include &lt;iomanip&gt;
#include&lt;cstdlib&gt;

class Datum {                                                                                                                      //DATUM
    int dan; 
    int mjesec;
    int godina;
    bool provjeraDatuma(int d, int m, int g);
    
    
    public:
    Datum(int dan, int mjesec, int godina);
    void Postavi(int dan, int mjesec, int godina);
    int DajDan() const;
    int DajMjesec() const;  
    int DajGodinu() const;
    void Ispisi() const;

};

   bool Datum::provjeraDatuma(int d, int m, int g) {                                               // PROVJERA DATUMA
       int broj_dana[12]{31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31};
       if(g % 4 == 0 &amp;&amp; (g % 100 != 0 || g % 400 == 0)) broj_dana[1]++;
       if(g &lt; 1 || d &lt; 1 || m &lt; 1 || m &gt; 12 || d &gt; broj_dana[m - 1]) return false;
       return true;
   }
   
   
   
   Datum::Datum(int dan, int mjesec, int godina ) {
       if(!Datum::provjeraDatuma(dan,mjesec,godina)) throw std::domain_error("Neispravan datum");
       Datum::dan = dan;
       Datum::mjesec = mjesec;
       Datum::godina = godina;
   }
   
   void Datum::Postavi(int dan, int mjesec, int godina) {
       if(!Datum::provjeraDatuma(dan,mjesec,godina)) throw std::domain_error("Neispravan datum");
       Datum::dan = dan;
       Datum::mjesec = mjesec;
       Datum::godina = godina;
   }
   
   
   int Datum::DajDan() const {
       return Datum::dan;
   }
   
   int Datum::DajMjesec() const {
       return Datum::mjesec;
   }
   
   int Datum::DajGodinu() const {
       return godina;
   }
   
   void Datum::Ispisi() const {
       std::cout&lt;&lt;dan&lt;&lt;"/"&lt;&lt;mjesec&lt;&lt;"/"&lt;&lt;godina;
   }
   
   class Kupac {                                                                                                                              //KUPAC
     std::string ime_i_prezime;
     Datum datum_rodjenja;
     bool jelLegalnoIme(std::string ime_i_prezime);
     
     public:
     Kupac(const std::string &amp;ime_i_prezime, const Datum &amp;datum_rodjenja);
     void Postavi(const std::string &amp;ime_i_prezime, const Datum &amp;datum_rodjenja);
     std::string DajImePrezime() const;
     Datum DajDatumRodjenja() const;
     void Ispisi() const;
 };
 
 bool Kupac::jelLegalnoIme(std::string ime_i_prezime) {
     for(int i = 0; i &lt; ime_i_prezime.length(); i++) 
      if( !( (ime_i_prezime[i] &gt;= 'a' &amp;&amp; ime_i_prezime[i] &lt;= 'z') || (ime_i_prezime[i] &gt;= 'A' &amp;&amp; ime_i_prezime[i] &lt;= 'Z') || (ime_i_prezime[i] &gt;= '0' &amp;&amp; ime_i_prezime[i] &lt;= '9') || ime_i_prezime[i] == ' ' || ime_i_prezime[i] == '\'' || ime_i_prezime[i] == '-' ) ) return false;
      
      return true;
 }
 
    Kupac::Kupac(const std::string &amp;ime_i_prezime, const Datum &amp;datum_rodjenja) : datum_rodjenja(datum_rodjenja.DajDan(),datum_rodjenja.DajMjesec(),datum_rodjenja.DajGodinu()) {
        if(!Kupac::jelLegalnoIme(ime_i_prezime)) throw std::domain_error("Neispravno ime i prezime");
        Kupac::ime_i_prezime = ime_i_prezime;
        ;
    }
    
    
    void Kupac::Postavi(const std::string &amp;ime_i_prezime, const Datum &amp;datum_rodjenja) { 
         if(!Kupac::jelLegalnoIme(ime_i_prezime)) throw std::domain_error("Neispravno ime i prezime");
         Kupac::ime_i_prezime = ime_i_prezime;
         Kupac::datum_rodjenja = datum_rodjenja;
     }
     
     
    std::string Kupac::DajImePrezime() const {
         return ime_i_prezime;
     }
     
     
    Datum Kupac::DajDatumRodjenja() const {
         return datum_rodjenja;
     }
     
    void Kupac::Ispisi() const {
         std::cout&lt;&lt;ime_i_prezime&lt;&lt;" (";
         datum_rodjenja.Ispisi();
         std::cout&lt;&lt;")";
     }
     
     
    class Stan {                                                                                                                        //STAN
     std::string adresa;
     int sprat;
     int broj_soba;
     bool namjesten;
     double kvadratura;
     
     void ispisSobe() const;
     
     
     public:
     Stan(const std::string &amp;adresa, int sprat, int broj_soba, bool namjesten, double kvadratura);
     void Postavi(const std::string &amp;adresa, int sprat, int broj_soba, bool namjesten, double kvadratura);
     std::string DajAdresu() const;
     int DajSprat() const;
     int DajBrojSoba() const;
     bool DajNamjesten() const;
     double DajKvadraturu() const;
     void Ispisi() const;
 };
 
    Stan::Stan(const std::string &amp;adresa, int sprat, int broj_soba, bool  namjesten, double kvadratura) {
        if(sprat &lt; 0 || broj_soba &lt; 0 || kvadratura &lt; 0) throw std::domain_error("Neispravan unos podataka");
        Stan::adresa = adresa;
        Stan::sprat = sprat;
        Stan::broj_soba = broj_soba;
        Stan::namjesten = namjesten;
        Stan::kvadratura = kvadratura;
    } 
 
    void Stan::Postavi(const std::string &amp;adresa, int sprat, int broj_soba, bool namjesten, double kvadratura) {
        if( sprat &lt; 0 || broj_soba &lt; 0 || kvadratura &lt; 0) throw std::domain_error("Neispravan unos podataka");
        Stan::adresa = adresa;
        Stan::sprat = sprat;
        Stan::broj_soba = broj_soba;
        Stan::namjesten = namjesten;
        Stan::kvadratura = kvadratura;
    }
 
    std::string Stan::DajAdresu() const {
        return adresa;
    }
 
 
     int Stan::DajSprat() const {
         return sprat;
     }
     
     int Stan::DajBrojSoba() const {
         return broj_soba;
     }
     
     
     bool Stan::DajNamjesten() const {
         return namjesten;
     }
     
     
     double Stan::DajKvadraturu() const {
         return kvadratura;
     }
     
     
     void Stan::ispisSobe() const {
         std::vector&lt;int&gt; soba = {12,13,14,112,113,114,212,213,214,312,313,314,412,413,414,512,513,514,612,613,614}; //...
         int prvi = 2, drugi = 4;
         bool jel = false;
         if(broj_soba == 1)  {std::cout&lt;&lt;" sobu. "; jel = true; }
         while (!jel) {
             auto d = std::find(soba.begin(),soba.end(),prvi); 
             if( d == soba.end()) d--;
             if( (broj_soba &gt;=prvi &amp;&amp; broj_soba &lt;= drugi) &amp;&amp; prvi != *d ) { std::cout&lt;&lt;" sobe. "; jel = true; break; }
             prvi += 10; 
             drugi += 10;
             if( broj_soba &lt; prvi ) break;
         }
           if(!jel) std::cout&lt;&lt;" soba. ";
         
     }
     
     
     void Stan::Ispisi() const {
         std::cout&lt;&lt;"Stan se nalazi na adresi "&lt;&lt;adresa&lt;&lt;" na "&lt;&lt;sprat&lt;&lt;". spratu i ima "&lt;&lt;broj_soba;
         Stan::ispisSobe();
      
         std::cout&lt;&lt;"Kvadratura stana je "&lt;&lt;kvadratura&lt;&lt;" (m^2) i stan ";
         if(namjesten) std::cout&lt;&lt;"je";
         else std::cout&lt;&lt;"nije";
         std::cout&lt;&lt;" namjesten.\n";
     }
     
     
     
     class Prodaja {                                                                                                                                                              //PRODAJA
         std::string ime_agenta_prodaje;
         double cijena_stana;
         Datum datum_prodaje;
         Kupac kupac_stana;
         Stan kupljeni_stan;
         
         public:
         Prodaja(const std::string &amp;ime_agenta_prodaje, double cijena_stana, const Datum &amp;datum_prodaje, const Kupac &amp;kupac_stana, const Stan &amp;kupljeni_stan);
         Prodaja(const std::string &amp;ime_agenta_prodaje, double cijena_stana, int dan_prodaje, int mjesec_prodaje, int godina_prodaje, std::string &amp;ime_kupca, const Datum &amp;datum_rodjenja_kupca, const std::string &amp;adresa_stana, int sprat_stana, int broj_soba, bool namjesten_stan, double broj_kvadrata);
         void PromijeniKupca(const Kupac &amp;novi_kupac); 
         void PromijeniStan(const Stan &amp;novi_stan);
         void PromijeniDatumKupovine(const Datum &amp;novi_datum);
         void PromijeniCijenuProdaje(const double &amp;nova_cijena);
         void PomjeriDanUnaprijed();
         void PomjeriDanUnazad();
         std::string DajImeAgenta() const;
         std::string DajImeKupca() const;
         Datum DajDatumProdaje() const;
         double DajCijenuStana() const;
         friend bool ProdatPrije(const Prodaja &amp;p1, const Prodaja &amp;p2);
         friend bool SkupljiStan(const Prodaja &amp;p1, const Prodaja &amp;p2);
         void Ispisi() const;
         void PromijeniAgenta(const std::string &amp;agent) {
             ime_agenta_prodaje = agent;
         }
     };
     
<a name="2"></a><font color="#0000FF"><a href="match668-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_0.gif"/></a>

     Prodaja::Prodaja(const std::string &amp;ime_agenta_prodaje, double cijena_stana, const Datum &amp;datum_prodaje, const Kupac &amp;kupac_stana, const Stan &amp;kupljeni_stan) : datum_prodaje(datum_prodaje.DajDan(),datum_prodaje.DajMjesec(),datum_prodaje.DajGodinu()) , kupac_stana(kupac_stana.DajImePrezime(),kupac_stana.DajDatumRodjenja()), kupljeni_stan(kupljeni_stan.DajAdresu(),kupljeni_stan.DajSprat(),kupljeni_stan.DajBrojSoba(),kupljeni_stan.DajNamjesten(),kupljeni_stan.DajKvadraturu())
     {
         Prodaja::ime_agenta_prodaje = ime_agenta_prodaje;
</font>         Prodaja::cijena_stana = cijena_stana;
     }
     
     
     Prodaja::Prodaja(const std::string &amp;ime_agenta_prodaje, double cijena_stana, int dan_prodaje, int mjesec_prodaje, int godina_prodaje, std::string &amp;ime_kupca, const Datum &amp;datum_rodjenja_kupca, const std::string &amp;adresa_stana, int sprat_stana, int broj_soba, bool namjesten_stan, double broj_kvadrata) 
     : datum_prodaje(Datum(dan_prodaje,mjesec_prodaje,godina_prodaje)) , kupac_stana(Kupac(ime_kupca,datum_rodjenja_kupca)) , kupljeni_stan(Stan(adresa_stana,sprat_stana,broj_soba,namjesten_stan,broj_kvadrata))
     {
         Prodaja::ime_agenta_prodaje = ime_agenta_prodaje;
         Prodaja::cijena_stana = cijena_stana;
         
     }
     
     void Prodaja::PromijeniKupca( const Kupac &amp;novi_kupac) {
         Prodaja::kupac_stana = novi_kupac;
     }
     
     void Prodaja::PromijeniStan(const Stan &amp;novi_stan) {
         Prodaja::kupljeni_stan = novi_stan;
     }
     
     void Prodaja::PromijeniDatumKupovine(const Datum &amp;novi_datum) {
         Prodaja::datum_prodaje = novi_datum;
     }
     
     void Prodaja::PromijeniCijenuProdaje(const double &amp;nova_cijena) {
         Prodaja::cijena_stana = nova_cijena;
     }
     
     void Prodaja::PomjeriDanUnaprijed() {
          int broj_dana[]{31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31};
          if(datum_prodaje.DajGodinu() % 4 == 0 &amp;&amp; (datum_prodaje.DajGodinu() % 100 != 0 || datum_prodaje.DajGodinu() % 400 == 0)) broj_dana[1]++;
          int dan = datum_prodaje.DajDan(), mjesec = datum_prodaje.DajMjesec(), godina = datum_prodaje.DajGodinu();
          dan++;
          if(datum_prodaje.DajDan() &gt; broj_dana[datum_prodaje.DajMjesec() - 1]) dan = 1, mjesec++;
          if(datum_prodaje.DajMjesec() &gt; 12) mjesec = 1, godina++;
          this-&gt;datum_prodaje.Postavi(dan,mjesec,godina);
     }
     
     void Prodaja::PomjeriDanUnazad() {
         int broj_dana[]{31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31};
         if( datum_prodaje.DajGodinu()%4 == 0 &amp;&amp; (datum_prodaje.DajGodinu() % 100 !=0 || datum_prodaje.DajGodinu() % 400 == 0)) broj_dana[1]++;
         int dan = datum_prodaje.DajDan(), mjesec = datum_prodaje.DajMjesec(), godina = datum_prodaje.DajGodinu();
         dan--;
         if(datum_prodaje.DajDan() &lt;= 0) dan = broj_dana[mjesec -2], mjesec--;
         if(datum_prodaje.DajMjesec() &lt;= 0 ) mjesec = 12, godina--;
         
         this-&gt;datum_prodaje.Postavi(dan,mjesec,godina);
     }
     
     std::string Prodaja::DajImeAgenta() const {
         return ime_agenta_prodaje;
     }
     
     
     std::string Prodaja::DajImeKupca() const {
         return kupac_stana.DajImePrezime();
     }
     
     Datum Prodaja::DajDatumProdaje() const {
         return datum_prodaje;
     }
     
     double Prodaja::DajCijenuStana() const {
         return cijena_stana;
     }
     
<a name="8"></a><font color="#00FFFF"><a href="match668-1.html#8" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_0.gif"/></a>

      bool ProdatPrije(const Prodaja &amp;p1, const Prodaja &amp;p2) {
          
          if(p2.datum_prodaje.DajGodinu() &gt; p1.datum_prodaje.DajGodinu() ) return true;
          if(p1.datum_prodaje.DajGodinu() &gt; p2.datum_prodaje.DajGodinu()) return false;
</font>      
<a name="5"></a><font color="#FF0000"><a href="match668-1.html#5" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_0.gif"/></a>

          if( p1.datum_prodaje.DajGodinu() &gt;= p2.datum_prodaje.DajGodinu() &amp;&amp; p1.datum_prodaje.DajMjesec() &gt;= p2.datum_prodaje.DajMjesec() &amp;&amp; p1.datum_prodaje.DajDan() &gt; p2.datum_prodaje.DajDan()) return false;
          
          return true;
          
      }
      
       bool SkupljiStan(const Prodaja &amp;p1, const Prodaja &amp;p2) {
           if(p1.DajCijenuStana() &gt; p2.DajCijenuStana()) return true;
           return false;
       }
       
       
       void Prodaja::Ispisi() const {
           std::cout&lt;&lt;"Ime agenta:                     "&lt;&lt;ime_agenta_prodaje&lt;&lt;std::endl;
</font>           std::cout&lt;&lt;"Ime kupca:                      ";
           kupac_stana.Ispisi();
           std::cout&lt;&lt;std::endl;
           std::cout&lt;&lt;"Zakazani datum prodaje:         ";
           datum_prodaje.Ispisi();
           std::cout&lt;&lt;std::endl;
           std::cout&lt;&lt;"Cijena stana:                   "&lt;&lt;cijena_stana&lt;&lt;std::endl;
           std::cout&lt;&lt;"Informacije o stanu:            \n";
           kupljeni_stan.Ispisi();
           
       }
         
 
    class Prodaje {                                                                                                                              //PRODAJE 
        const int max_broj_prodaja;
        int broj_prodaja; 
        Prodaja **svaProdaja= nullptr;
        
        static bool Datumcici(const Datum &amp;p, const Datum &amp;t) {
            if(p.DajDan() == t.DajDan() &amp;&amp; p.DajMjesec() == t.DajMjesec() &amp;&amp; p.DajGodinu() == t.DajGodinu() ) return true;
            return false;
        }
        Prodaja **begin() const { return svaProdaja; }
        Prodaja **end() const { return svaProdaja + broj_prodaja; } 
        
        public:
        explicit Prodaje(int max_broj_prodaja);
        Prodaje(std::initializer_list&lt;Prodaja&gt; spisak_prodaja);
        ~Prodaje();
        Prodaje(const Prodaje &amp;prodaje); //kopirajuci
<a name="9"></a><font color="#FF00FF"><a href="match668-1.html#9" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_0.gif"/></a>

        Prodaje(Prodaje &amp;&amp;prodaje) :  max_broj_prodaja(prodaje.max_broj_prodaja), broj_prodaja(prodaje.broj_prodaja), svaProdaja(prodaje.svaProdaja) { prodaje.svaProdaja = nullptr; prodaje.broj_prodaja = 0; }
</font>        Prodaje &amp;operator =(const Prodaje &amp;prodaje);
        Prodaje &amp;operator =(Prodaje &amp;&amp;prodaje);
        void RegistrirajProdaju(const std::string &amp;ime_agenta_prodaje, double cijena_stana, const Datum &amp;datum_prodaje, const Kupac &amp;kupac_stana,const Stan &amp;kupljeni_stan);
        void RegistrirajProdaju(const std::string &amp;ime_agenta_prodaje, double cijena_stana, int dan_prodaje, int mjesec_prodaje, int godina_prodaje, std::string &amp;ime_kupca, const Datum &amp;datum_rodjenja_kupca, const std::string &amp;adresa_stana, int sprat_stana, int broj_soba, bool namjesten_stan, double broj_kvadrata);
        void RegistrirajProdaju(Prodaja *prodaja);
        int DajBrojProdaja() const;
        int DajBrojProdajaNaDatum(const Datum &amp;datum) const;
        int DajBrojProdajaOdAgenta(const std::string &amp;ime_agenta) const;
        Prodaja &amp;DajNajranijuProdaju();
        Prodaja DajNajranijuProdaju() const;
        Prodaja &amp;DajNajskupljuProdaju();
        Prodaja DajNajskupljuProdaju() const;
        void IsprazniKolekciju();
        void ObrisiNajranijuProdaju();
        void ObrisiProdajeAgenta(const std::string &amp;ime_agenta); 
        void ObrisiProdajeNaDatum(const Datum &amp;datum);
        void IspisiProdajeNaDatum(const Datum &amp;datum) const;
        void IspisiSveProdaje() const;
        Prodaja &amp;DajProdaju(int broj){
            if(broj &gt; broj_prodaja) throw std::domain_error("Nema toliko prodaja!");
            return *svaProdaja[broj];
        }
       
    };
    
     Prodaje::Prodaje(int max_broj_prodaja) : max_broj_prodaja(max_broj_prodaja)  {
         broj_prodaja = 0;
         svaProdaja = new Prodaja*[max_broj_prodaja]{};
         
    }
    
<a name="10"></a><font color="#FF0000"><a href="match668-1.html#10" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_0.gif"/></a>

    Prodaje::Prodaje(std::initializer_list&lt;Prodaja&gt; spisak_prodaja) : max_broj_prodaja(spisak_prodaja.size()) , broj_prodaja(spisak_prodaja.size()) , svaProdaja(new Prodaja*[spisak_prodaja.size()] {}) {
</font>        int j = 0;
        try {
        for(auto it = spisak_prodaja.begin(); it != spisak_prodaja.end(); it++) {
            svaProdaja[j] = new Prodaja(*it);
<a name="1"></a><font color="#00FF00"><a href="match668-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_1.gif"/></a>

            j++;
        }
        }catch(...) {
            for(int i = 0; i &lt; j; i++) //brjoj prodaja
            delete svaProdaja[i];
            delete[] svaProdaja;
            throw;
        }
        
    }
    
    Prodaje::~Prodaje() {
        for(int i = 0; i &lt; broj_prodaja; i++) //sadrzaj
            delete svaProdaja[i];
            delete[] svaProdaja; // niz pok
    }
    
    Prodaje::Prodaje(const Prodaje &amp;prodaje) : max_broj_prodaja(prodaje.max_broj_prodaja) , broj_prodaja(prodaje.broj_prodaja), svaProdaja(new Prodaja*[prodaje.broj_prodaja] {}) {
        try{
        for(int i = 0; i &lt; prodaje.broj_prodaja; i++)
        svaProdaja[i] =  new Prodaja(*prodaje.svaProdaja[i]);
</font>        }
        catch(...) {
            for(int i = 0; i &lt; broj_prodaja; i++)
            delete svaProdaja[i];
            delete[] svaProdaja;
            throw;
        }
    }
    
    Prodaje &amp;Prodaje::operator =(const Prodaje &amp;prodaje) {
        
<a name="0"></a><font color="#FF0000"><a href="match668-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_1.gif"/></a>

        if( prodaje.broj_prodaja &gt; broj_prodaja ) {
            try{
            for(int i = broj_prodaja; i &lt; prodaje.broj_prodaja; i++)
             svaProdaja[i] = new Prodaja(*prodaje.svaProdaja[i]);
        } catch(...) {
            for(int i = broj_prodaja; i &lt; prodaje.broj_prodaja; i++) {
            delete svaProdaja[i]; 
            svaProdaja[i] = nullptr;
            }
            throw;
        }
    }
    else{
        for(int i = prodaje.broj_prodaja; i &lt; broj_prodaja; i++) {
        delete svaProdaja[i];
        svaProdaja[i] = nullptr;
        }
    }
    broj_prodaja = prodaje.broj_prodaja;
    for(int i = 0; i &lt; broj_prodaja; i++ )
    *svaProdaja[i] = *prodaje.svaProdaja[i];
    
    return *this;
</font>        }
        
        
        
        
        Prodaje &amp;Prodaje::operator =(Prodaje &amp;&amp;prodaje) {
           
            std::swap(broj_prodaja,prodaje.broj_prodaja);
            std::swap(svaProdaja,prodaje.svaProdaja);
            return *this;
        }
        
        
        void Prodaje::RegistrirajProdaju(const std::string &amp;ime_agenta_prodaje, double cijena_stana, const Datum &amp;datum_prodaje, const Kupac &amp;kupac_stana,const Stan &amp;kupljeni_stan) {
            if( broj_prodaja &gt;= max_broj_prodaja ) throw std::range_error("Dostignut maksimalni broj prodaja"); //trebal jednako?
                svaProdaja[broj_prodaja] = new Prodaja(ime_agenta_prodaje,cijena_stana,datum_prodaje,kupac_stana,kupljeni_stan);
                broj_prodaja++;
            
        }
        
        void Prodaje::RegistrirajProdaju(const std::string &amp;ime_agenta_prodaje, double cijena_stana, int dan_prodaje, int mjesec_prodaje, int godina_prodaje, std::string &amp;ime_kupca, const Datum &amp;datum_rodjenja_kupca, const std::string &amp;adresa_stana, int sprat_stana, int broj_soba, bool namjesten_stan, double broj_kvadrata) {
              if ( broj_prodaja &gt;= max_broj_prodaja) throw std::range_error("Dostignut maksimalni broj prodaja");
              svaProdaja[broj_prodaja] = new Prodaja(ime_agenta_prodaje,cijena_stana,dan_prodaje,mjesec_prodaje,godina_prodaje,ime_kupca,datum_rodjenja_kupca,adresa_stana,sprat_stana,broj_soba,namjesten_stan,broj_kvadrata);
              broj_prodaja++;
        }
        
        
        void Prodaje::RegistrirajProdaju(Prodaja *prodaja) {
            if(broj_prodaja &gt;= max_broj_prodaja) throw std::range_error("Dostignut maksimalni broj prodaja");
            svaProdaja[broj_prodaja] = prodaja;
            broj_prodaja++;
        }
        
        int Prodaje::DajBrojProdaja() const {
            return broj_prodaja;
        }
        
        
        int Prodaje::DajBrojProdajaNaDatum(const Datum &amp;datum) const {
            int prodajeDatuma = 0;
            prodajeDatuma = std::count_if(svaProdaja,svaProdaja+broj_prodaja, [datum](Prodaja *p) {
                if(Datumcici(p-&gt;DajDatumProdaje(),datum)) return true;
                return false;
            });
            
            return prodajeDatuma;
        }
        
        
        int Prodaje::DajBrojProdajaOdAgenta(const std::string &amp;ime_agenta) const {
            int agy = 0;
            agy = std::count_if(svaProdaja, svaProdaja+broj_prodaja, [ime_agenta](Prodaja *p) {
                if(p-&gt;DajImeAgenta() == ime_agenta) return true;
                return false;
            });
            return agy;
        }
        
        
        Prodaja &amp;Prodaje::DajNajranijuProdaju() {
             if(broj_prodaja == 0) throw std::domain_error("Nema registriranih prodaja");
            auto **mi =std::min_element(svaProdaja,svaProdaja+broj_prodaja,[](const Prodaja *p,const Prodaja *t) { 
                return ProdatPrije(*p,*t);
                
            });
            return **mi;
        }
        
        
        Prodaja Prodaje::DajNajranijuProdaju() const {
             if(broj_prodaja == 0) throw std::domain_error("Nema registriranih prodaja");       // trebal?
             auto **mi =std::min_element(svaProdaja,svaProdaja+broj_prodaja,[](const Prodaja *p,const Prodaja *t) { //kad krahira hahahaha
                
                return ProdatPrije(*p,*t);
            });
            return **mi;
            
        }
        
        
        Prodaja &amp;Prodaje::DajNajskupljuProdaju() {
            if(broj_prodaja == 0) throw std::domain_error("Nema registriranih prodaja");
            auto **ma = std::max_element(svaProdaja, svaProdaja+broj_prodaja,[](const Prodaja *p, const Prodaja *t) {
                return !SkupljiStan(*p,*t);
            });
            return **ma;
        }
        
        
       Prodaja Prodaje::DajNajskupljuProdaju() const {
           if(broj_prodaja == 0) throw std::domain_error("Nema registriranih prodaja");
           auto **ma = std::max_element(svaProdaja, svaProdaja+broj_prodaja,[](const Prodaja *p, const Prodaja *t) {
                return !SkupljiStan(*p,*t);
               
            });
            return **ma;
       }
       
       
        void Prodaje::IsprazniKolekciju() {
            for(int i = 0 ; i &lt; broj_prodaja; i++)
               delete svaProdaja[i];
               delete[] svaProdaja;
<a name="11"></a><font color="#00FF00"><a href="match668-1.html#11" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_0.gif"/></a>

               svaProdaja = nullptr;
               broj_prodaja = 0;
        }
        
        void Prodaje::ObrisiNajranijuProdaju() {
            if(broj_prodaja == 0) throw std::range_error("Prazna kolekcija");
                  for(int i = 0; i &lt; broj_prodaja; i++) {
</font>        if (svaProdaja[i]-&gt;DajDatumProdaje().DajDan() == this-&gt;DajNajranijuProdaju().DajDatumProdaje().DajDan() &amp;&amp; svaProdaja[i]-&gt;DajDatumProdaje().DajMjesec() == this-&gt;DajNajranijuProdaju().DajDatumProdaje().DajMjesec() &amp;&amp; svaProdaja[i]-&gt;DajDatumProdaje().DajGodinu() == this-&gt;DajNajranijuProdaju().DajDatumProdaje().DajGodinu()) {
            for (int j = i; j &lt; broj_prodaja-1; j++) {
                Prodaja p (*svaProdaja[j]);
                *svaProdaja[j] = *svaProdaja[j+1];
                *svaProdaja[j+1] = p;
            }
        }
                  }
                  delete svaProdaja[broj_prodaja-1];
                  svaProdaja[broj_prodaja-1] = nullptr;
            broj_prodaja--;
           
            
        }
        
        
        void Prodaje::ObrisiProdajeAgenta(const std::string &amp;ime_agenta) {
            if(Prodaje::DajBrojProdajaOdAgenta(ime_agenta) == 0) return;
            int bo = 0;
            std::for_each(svaProdaja,svaProdaja+broj_prodaja, [ime_agenta, &amp;bo](Prodaja *&amp;p){
                if(p-&gt;DajImeAgenta() == ime_agenta) { delete p; bo++; }
            });
            broj_prodaja -= bo;
            
        }
        void Prodaje::ObrisiProdajeNaDatum(const Datum &amp;datum) {
            if(Prodaje::DajBrojProdajaNaDatum(datum) == 0) return;
            int bo = 0;
            std::for_each(svaProdaja,svaProdaja+broj_prodaja,[datum, &amp;bo](Prodaja *&amp;p) {
                if(Datumcici(p-&gt;DajDatumProdaje(),datum) ) { delete p; bo++; }
            });
            broj_prodaja -= bo;
        }
        
        
        void Prodaje::IspisiProdajeNaDatum(const Datum &amp;datum) const {
            Prodaje svaProdaj(*this);
            std::sort(svaProdaj.begin(),svaProdaj.end(),[](const Prodaja *p, const Prodaja *t){
               if(p-&gt;DajImeKupca()[0] &lt; t-&gt;DajImeKupca()[0]) return true;
               return false;
            });
            
            std::for_each(svaProdaj.begin(),svaProdaj.end(),[datum](const Prodaja *p) {
                if(Datumcici(p-&gt;DajDatumProdaje(),datum)) { p-&gt;Ispisi(); std::cout&lt;&lt;std::endl; }
            });
        }
        
        
        void Prodaje::IspisiSveProdaje() const {
            Prodaje svaProdaj(*this);
            std::sort(svaProdaj.begin(),svaProdaj.end(),[](const Prodaja *p, const Prodaja *t) {
                if(Datumcici(p-&gt;DajDatumProdaje(),t-&gt;DajDatumProdaje())) return p-&gt;DajImeKupca() &lt; t-&gt;DajImeKupca();
                if(ProdatPrije(*p,*t)) return true;
                return false;
                
            });
            
           std::for_each(svaProdaj.begin(), svaProdaj.end(),[](const Prodaja *p) {
                p-&gt;Ispisi();
            });
            
          
            
        }
        
        
   void unesiStan(std::vector&lt;Stan&gt; &amp;stanovi) {
       while (true) {
                   try{
                       std::cout&lt;&lt;"Unesite adresu: ";
                       std::string adresa;
                       std::cin.ignore(1000,'\n');
                       std::getline(std::cin,adresa);
                       std::cout&lt;&lt;"Unesite sprat: ";
                       int sprat;
                       std::cin&gt;&gt;sprat;
                       std::cout&lt;&lt;"Unesite broj soba: ";
                       int broj_soba;
                       std::cin&gt;&gt;broj_soba;
                       std::cout&lt;&lt;"Da li je stan namjesten (1 - da, 0 - ne): ";
                       int zaBool;
                       std::cin&gt;&gt;zaBool;
                       std::cout&lt;&lt;"Unesite kvadraturu: ";
                       double kvadratura = 0;
                       std::cin&gt;&gt;kvadratura;
                       if(zaBool != 0 &amp;&amp; zaBool != 1) throw std::domain_error("Neispravan unos podataka");
                       Stan nov = Stan(adresa,sprat,broj_soba,bool(zaBool),kvadratura);
                       stanovi.push_back(nov);
                       
                       std::cout&lt;&lt;"Stan je uspjesno dodan!\n \n";
                       break;
                   }catch(std::domain_error d) {
                       std::cout &lt;&lt;"Izuzetak: "&lt;&lt; d.what() &lt;&lt;". Molimo unesite opet."&lt;&lt; std::endl;
                   }
                   
                   }
   }



/*

struct Info {
  void *adresa;
  std::size_t velicina;
  Info *veza;
};

Info *mapa_alokacija(nullptr);
std::size_t ukupno_alocirano(0);
std::size_t maksimalno_dozvoljeno(1000);

void *operator new(std::size_t broj_bajtova) {
  if(ukupno_alocirano + broj_bajtova &gt; maksimalno_dozvoljeno)
    throw std::bad_alloc();
  void *adresa(std::malloc(broj_bajtova));
  if(!adresa) throw std::bad_alloc();
  ukupno_alocirano += broj_bajtova;
  Info info{adresa, broj_bajtova, mapa_alokacija};
  mapa_alokacija = (Info*)std::malloc(sizeof(Info));
  if(!mapa_alokacija) throw std::bad_alloc();
  *mapa_alokacija = info;
  return adresa;
}

void operator delete(void *adresa) noexcept {
  Info *tekuci(mapa_alokacija), *prethodni(nullptr);
  while(tekuci &amp;&amp; tekuci-&gt;adresa != adresa) {
    prethodni = tekuci; tekuci = tekuci-&gt;veza;
  }
  if(adresa &amp;&amp; !tekuci) throw std::runtime_error("Bad delete!");
  ukupno_alocirano -= tekuci-&gt;velicina;
  if(prethodni) prethodni-&gt;veza = tekuci-&gt;veza;
  else mapa_alokacija = tekuci-&gt;veza;
  std::free(tekuci); std::free(adresa);
}*/


/*
int main() {
   // {
    Prodaje me{{"meho",345, {12,3,2000},{"mujo", {1,2,2000}},{"hamdije",34,4,1,34}}, {"ho",345, {12,3,2000},{"jo", {1,2,2000}},{"haije",34,4,1,34}}};
  // std::cout&lt;&lt;ukupno_alocirano;
    me.IspisiSveProdaje();
    return 0;
    
  
  //  }
    //std::cout&lt;&lt;"bridanje"&lt;&lt;ukupno_alocirano;
    
}*/


int main()
{
    

    try{
        std::vector&lt;Stan&gt; stanovi;
        std::vector&lt;Kupac&gt; kupci;
        std::vector&lt;Prodaja&gt; prodaje;
        Prodaje pr(20);
        std::cout&lt;&lt;"Dobrodosli!\n\n\n";
        while (true) {
           int opcija=1,opcija1=0,opcija3=0,opcija4 = 0,opcija5=0,opcija6 = 0,opcija7 = 0,opcija8 = 0,opcija9 = 0,op=0,o=0,hocelKraj = 0,plsKraj = 0,joj = 0,fu = 0,izabran = 0,nemamViseImenaZaVar = 0,mybZadnja=0;
          
           std::cout&lt;&lt;"Izaberite opciju:\n 0 - kraj\n 1 - uredjivanje stanova\n 2 - uredjivanje kupaca\n 3 - uredjivanje prodaja\n";
           std::cin&gt;&gt;opcija;
           
           if(opcija == 0)  {std::cout&lt;&lt;"\n\nDovidjenja!"; break; }
           else if( opcija == 1 ){
               while (true) {
               std::cout&lt;&lt;"Izaberite opciju:\n 0 - nazad\n 1 - dodavanje stana\n 2 - uredjivanje stanova\n 3 - ispis svih stanova\n 4 - kraj\n";
              
               std::cin&gt;&gt;opcija1;
              
               
               if(opcija1 == 0){  break; }
               else if(opcija1 == 1){
                   unesiStan(stanovi);
               }
               else if(opcija1 == 2) {
                   std::cout&lt;&lt;"Odaberite stan. Dostupni stanovi su: \n";
                   for(int i = 0; i &lt; stanovi.size(); i++)
                   {
                       std::cout&lt;&lt;" "&lt;&lt; i+1&lt;&lt;" - ";
                       stanovi[i].Ispisi();
                      
                   }
                   std::cout&lt;&lt;std::endl;
                   std::cin&gt;&gt;opcija3;
                   std::cout&lt;&lt;"Odaberite polje koje zelite urediti:\n 0 - nazad\n 1 - adresa\n 2 - sprat\n 3 - broj soba\n 4 - da li je stan namjesten\n 5 - kvadratura\n 6 - sve\n";
                   std::cin&gt;&gt;opcija4;
                   if(opcija4 == 0) break;
                   else if(opcija4 == 1) {
                       while(true) {
                       try{
                       std::cout&lt;&lt;"Unesite adresu: ";
                       std::string adresa;
                       std::cin.ignore(1000,'\n');
<a name="6"></a><font color="#00FF00"><a href="match668-1.html#6" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_0.gif"/></a>

                       std::getline(std::cin,adresa);
                       stanovi[opcija3-1].Postavi(adresa, stanovi[opcija3-1].DajSprat(), stanovi[opcija3-1].DajBrojSoba(), stanovi[opcija3-1].DajNamjesten(), stanovi[opcija3-1].DajKvadraturu() );
</font>                       std::cout&lt;&lt;"Stan je uspjesno izmijenjen!\n \n";
                       break;
                       }catch(std::domain_error d) {
                           std::cout &lt;&lt;"Izuzetak: "&lt;&lt; d.what() &lt;&lt; ". Molimo unesite opet."&lt;&lt;std::endl;
                       }
                       
                       }
                   }
                       else if(opcija4 == 2) {
                           while(true) {
                               try{
                               std::cout&lt;&lt;"Unesite sprat: ";
                               int sprat;
<a name="3"></a><font color="#00FFFF"><a href="match668-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_0.gif"/></a>

                               std::cin&gt;&gt;sprat;
                               stanovi[opcija3-1].Postavi(stanovi[opcija3-1].DajAdresu(), sprat, stanovi[opcija3-1].DajBrojSoba(), stanovi[opcija3-1].DajNamjesten(), stanovi[opcija3-1].DajKvadraturu() );
</font>                               std::cout&lt;&lt;"Stan je uspjesno izmijenjen!\n \n";
                               break;
                               }catch(std::domain_error s) {
                                   std::cout &lt;&lt; "Izuzetak: "&lt;&lt;s.what() &lt;&lt;". Molimo unesite opet."&lt;&lt; std::endl;
                               }
                           }
                       } 
                       else if(opcija4 == 3) {
                           while (true) {
                               try{
                            std::cout&lt;&lt;"Unesite broj soba: ";
                            int broj_soba;
<a name="4"></a><font color="#FF00FF"><a href="match668-1.html#4" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_0.gif"/></a>

                            std::cin&gt;&gt;broj_soba;
                            stanovi[opcija3-1].Postavi(stanovi[opcija3-1].DajAdresu(), stanovi[opcija3-1].DajSprat(), broj_soba, stanovi[opcija3-1].DajNamjesten(), stanovi[opcija3-1].DajKvadraturu() );
</font>                            std::cout&lt;&lt;"Stan je uspjesno izmijenjen!\n \n";
                            break;
                       }catch(std::domain_error d){
                           std::cout &lt;&lt; "Izuzetak: "&lt;&lt;d.what() &lt;&lt;". Molimo unesite opet."&lt;&lt; std::endl;
                       }
                           }
                       
                   }else if(opcija4 == 4) {
                       while (true) {
                           try{
                       
                       std::cout&lt;&lt;"Da li je stan namjesten (1 - da, 0 - ne):";
                       int zaBool;
                       std::cin&gt;&gt;zaBool;
                       if(zaBool != 0 &amp;&amp; zaBool != 1) throw std::domain_error("Neispravan unos podataka. Molimo unesite opet.");
<a name="7"></a><font color="#0000FF"><a href="match668-1.html#7" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_0.gif"/></a>

                       stanovi[opcija3-1].Postavi(stanovi[opcija3-1].DajAdresu(), stanovi[opcija3-1].DajSprat(), stanovi[opcija3-1].DajBrojSoba(), bool(zaBool), stanovi[opcija3-1].DajKvadraturu() );
</font><a name="7"></a><font color="#0000FF"><a href="match668-1.html#7" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_0.gif"/></a>

                       std::cout&lt;&lt;"Stan je uspjesno izmijenjen!\n \n";
</font>                       break;
                           }catch(std::domain_error d) {
                               std::cout &lt;&lt; "Izuzetak: "&lt;&lt;d.what() &lt;&lt;". Molimo unesite opet."&lt;&lt; std::endl;
                           }
                       }
                   }
                   else if(opcija4 == 5) {
                       
                       while (true) {
                       try{    
                       std::cout&lt;&lt;"Unesite kvadraturu: ";
                       double kvadratura;
                       std::cin&gt;&gt;kvadratura;
                       stanovi[opcija3-1].Postavi(stanovi[opcija3-1].DajAdresu(), stanovi[opcija3-1].DajSprat(), stanovi[opcija3-1].DajBrojSoba(),stanovi[opcija3-1].DajNamjesten(),kvadratura );
                       std::cout&lt;&lt;"Stan je uspjesno izmijenjen!\n \n";
                       break;
                       
                       }catch(std::domain_error d) {
                           std::cout &lt;&lt; "Izuzetak: "&lt;&lt;d.what() &lt;&lt;". Molimo unesite opet."&lt;&lt; std::endl;
                       }
                   }
                   }
                   else if(opcija4 == 6) {
                       while(true){
                           try{
                       std::cout&lt;&lt;"Unesite adresu: ";
                       std::string adresa;
                       std::cin.ignore(1000,'\n');
                       std::getline(std::cin,adresa);
                       std::cout&lt;&lt;"Unesite sprat: ";
                       int sprat;
                       std::cin&gt;&gt;sprat;
                       std::cout&lt;&lt;"Unesite broj soba: ";
                       int broj_soba;
                       std::cin&gt;&gt;broj_soba;
                       std::cout&lt;&lt;"Da li je stan namjesten (1 - da, 0 - ne): ";
                       int zaBool;
                       std::cin&gt;&gt;zaBool;
                       std::cout&lt;&lt;"Unesite kvadraturu: ";
                       double kvadratura;
                       std::cin&gt;&gt;kvadratura;
                       if(zaBool != 0 &amp;&amp; zaBool != 1) throw std::domain_error("Neispravan unos podataka");
                       stanovi[opcija3-1].Postavi(adresa, sprat, broj_soba,bool(zaBool),kvadratura );
                       std::cout&lt;&lt;"Stan je uspjesno izmijenjen!\n \n";
                       break;
                           }
                           catch(std::domain_error d) {
                               std::cout &lt;&lt; "Izuzetak: "&lt;&lt;d.what() &lt;&lt;". Molimo unesite opet."&lt;&lt; std::endl ;
                           }
                       }
                   }
                   
                   
               }
               else if(opcija1 == 3) {
                   for(int i = 0; i &lt; stanovi.size(); i++) {
                       std::cout&lt;&lt;i+1&lt;&lt;". ";
                    stanovi[i].Ispisi();
                   }
                   std::cout&lt;&lt;" \n";
               }
               else if(opcija1 == 4) return 0;
               }
               
           }
           else if(opcija == 2) {
               while(true) {
               std::cout&lt;&lt;"Izaberite opciju:\n 0 - nazad\n 1 - dodavanje kupca\n 2 - uredjivanje kupaca\n 3 - ispis svih kupaca\n 4 - kraj\n";
               std::cin&gt;&gt;opcija5;
               if(opcija5 == 0) break;
               else if(opcija5 == 1) {
                   while (true) {
                   try{    
                   
                   std::cout&lt;&lt;"Unesite ime i prezime kupca: ";
                   std::string ime_kupca;
                   std::cin.ignore(1000,'\n');
                   std::getline(std::cin,ime_kupca);
                   std::cout&lt;&lt;"Unesite datum rodjenja (formata d/m/g): ";                                                                                                                    //koji format d/m/g il ovo
                   int dan,mjesec,godina;
                   char j,de;
                   std::cin&gt;&gt;dan&gt;&gt;j&gt;&gt;mjesec&gt;&gt;de&gt;&gt;godina;
                   Datum d = Datum(dan,mjesec,godina);
                   Kupac k = Kupac(ime_kupca,d);
                   kupci.emplace_back(k);
                   std::cout&lt;&lt;"Kupac je uspjesno dodan!\n\n";
                   break;
                   }catch(std::domain_error d) {
                       std::cout &lt;&lt; "Izuzetak: "&lt;&lt;d.what() &lt;&lt; ". Molimo unesite opet."&lt;&lt;std::endl;
                   }

               }
           }
               else if(opcija5 == 2) {
               std::cout&lt;&lt;"Odaberite kupca kojeg zelite urediti. Dostupni kupci su: \n";
               for(int i = 0; i &lt; kupci.size(); i++) {
                   std::cout&lt;&lt;" "&lt;&lt;i+1&lt;&lt;" - ";
                   kupci[i].Ispisi();
                   std::cout&lt;&lt;std::endl;
               }
               std::cin&gt;&gt;opcija6;
               while (true) {
                   try{
                   std::cout&lt;&lt;"Unesite ime i prezime kupca: ";
                   std::string ime_kupca;
                   std::cin.ignore(1000,'\n');
                   std::getline(std::cin,ime_kupca);
                   std::cout&lt;&lt;"Unesite datum rodjenja (formata d/m/g): ";
                   int dan,mjesec,godina;
                   char j,de;
                   std::cin&gt;&gt;dan&gt;&gt;j&gt;&gt;mjesec&gt;&gt;de&gt;&gt;godina;
                   Datum d = Datum(dan,mjesec,godina);
                   kupci[opcija6-1].Postavi(ime_kupca,d);
                   std::cout&lt;&lt;"Kupac je uspjesno izmijenjen!\n\n";
                   break;
                   }catch(std::domain_error d) {
                       std::cout &lt;&lt; "Izuzetak: "&lt;&lt; d.what() &lt;&lt; ". Molimo unesite opet."&lt;&lt;std::endl;
                   }
               }
           }
               else if(opcija5 == 3) {
               for(int i = 0; i &lt; kupci.size(); i++) {
                 kupci[i].Ispisi();
                 std::cout&lt;&lt;std::endl; //treba gore dodat
               }
               std::cout&lt;&lt;std::endl;
           }
               else if(opcija5 == 4) return 0; //hocel?
               }
    }
           else if(opcija  == 3) {
               while(true) {
               std::cout&lt;&lt;"Izaberite opciju:\n 0 - nazad\n 1 - dodavanje prodaje\n 2 - uredjivanje prodaje\n 3 - ispis prodaja\n 4 - brisanje prodaja\n 5 - kraj\n";
               std::cin&gt;&gt;opcija7;
               if(opcija7 == 0) break;
               else if(opcija7 == 1) {
                   while (true) {
                      
                   
                   std::cout&lt;&lt;"Izaberite opciju:\n 0 - nazad\n 1 - dodavanje potpuno nove prodaje\n 2 - dodavanje nove prodaje na osnovu arhive\n 3 - kraj\n";
                   std::cin&gt;&gt;opcija8;
                   if(opcija8 == 0) break;
                   else if(opcija8 == 1) {
                       while (true) {
                       try{    
                       
                    std::cout&lt;&lt;"Unesite ime i prezime agenta prodaje: ";
                    std::string agent;
                    std::cin.ignore(1000,'\n');
                    std::getline(std::cin,agent);
                    std::cout&lt;&lt;"Unesite datum prodaje (formata d/m/g): ";
                    int dan,mjesec,godina;
                    char j,dw;
                    std::cin&gt;&gt;dan&gt;&gt;j&gt;&gt;mjesec&gt;&gt;dw&gt;&gt;godina;
                    Datum da = Datum(dan,mjesec,godina);
                    std::cout&lt;&lt;"Unesite cijenu stana: ";
                    double cijena_stana;
                    std::cin&gt;&gt;cijena_stana;
                    std::cout&lt;&lt;"Unesite ime kupca: ";
                    std::string ime_kupca;
                    std::cin.ignore(1000,'\n');
                    std::getline(std::cin,ime_kupca);
                    std::cout&lt;&lt;"Unesite datum rodjenja kupca (formata d/m/g): ";
                    int d,m,g;
                    char je,de;
                    std::cin&gt;&gt;d&gt;&gt;je&gt;&gt;m&gt;&gt;de&gt;&gt;g;
                    Datum dat = Datum(d,m,g);
                    Kupac k = Kupac(ime_kupca,dat);
                    kupci.emplace_back(k);
                    std::cout&lt;&lt;"Unesite adresu: ";
                    std::string adresa;
                    std::cin.ignore(10000,'\n');
                    std::getline(std::cin,adresa);
                    std::cout&lt;&lt;"Unesite sprat: ";
                    int sprat;
                    std::cin&gt;&gt;sprat;
                    std::cout&lt;&lt;"Unesite broj soba: ";
                    int broj_soba;
                    std::cin&gt;&gt;broj_soba;
                    std::cout&lt;&lt;"Da li je stan namjesten (1 - da, 0 - ne): ";
                    int zaBool;
                    std::cin&gt;&gt;zaBool;
                    std::cout&lt;&lt;"Unesite kvadraturu: ";
                    double kvadratura;
                    std::cin&gt;&gt;kvadratura;
                    if(zaBool != 0 &amp;&amp; zaBool != 1) throw std::domain_error("Neispravan unos podataka. Molimo unesite opet.");
                    Stan s = Stan(adresa,sprat,broj_soba,bool(zaBool),kvadratura);
                    stanovi.emplace_back(s);
                   
                    pr.RegistrirajProdaju(agent,cijena_stana,da,k,s);
                    std::cout&lt;&lt;"Prodaja uspjesno dodana!\n\n";
                    break;
                      }catch(std::domain_error d) {
                          std::cout &lt;&lt; "Izuzetak: "&lt;&lt; d.what() &lt;&lt;". Molimo unesite opet."&lt;&lt; std::endl;
                      }
                      }
                   }
                   else if(opcija8 == 2) {
                          while (true) {
                   try{    
                   
                 std::cout&lt;&lt;"Unesite ime i prezime agenta prodaje: ";
                 std::string agent;
                 std::cin.ignore(1000,'\n');
                 std::getline(std::cin,agent);
                 std::cout&lt;&lt;"Unesite datum prodaje (formata d/m/g): ";
                 int d,m,g;
                 char j,de;
                 std::cin&gt;&gt;d&gt;&gt;j&gt;&gt;m&gt;&gt;de&gt;&gt;g;
                 Datum da = Datum(d,m,g);
                 std::cout&lt;&lt;"Unesite cijenu stana: ";
                 double cijena_stana;
                 std::cin&gt;&gt;cijena_stana;
                 std::cout&lt;&lt;"Odaberite kupca. Dostupni kupci su: \n";
                 for(int i = 0; i &lt; kupci.size(); i++) {
                     std::cout&lt;&lt;" "&lt;&lt;i+1&lt;&lt;" - ";
                     kupci[i].Ispisi();
                     std::cout&lt;&lt;std::endl;
                 }
                 std::cin&gt;&gt;opcija9;
                 std::cout&lt;&lt;"Odaberite stan. Dostupni stanovi su:\n";
                 for(int i = 0; i &lt; stanovi.size(); i++) {
                     std::cout&lt;&lt;" "&lt;&lt;i+1&lt;&lt;" - ";
                     stanovi[i].Ispisi();
                                                                                                            //il ne treba? probat!!!!
                 }
                 
                 std::cin&gt;&gt;op;
           
                 pr.RegistrirajProdaju(agent,cijena_stana,da,kupci[opcija9-1],stanovi[op-1]);
                 std::cout&lt;&lt;"Prodaja uspjesno dodana!\n\n";
                 break;
                   }catch(std::domain_error d) {
                       std::cout &lt;&lt; "Izuzetak: "&lt;&lt;d.what() &lt;&lt;". Molimo unesite opet."&lt;&lt; std::endl ;             //trebal
                   }
                   }
                 
                   }
                   else if(opcija8 == 3) return 0; 
                   
               }
               }
               else if(opcija7 == 2) {
                  
                   std::cout&lt;&lt;"Odaberite prodaju koju Å¾elite urediti. Dostupne prodaje su:\n";
                  
                       
                       
                       /* std::sort(pr.DajSveProdaje(),pr.DajSveProdaje() + pr.DajBrojProdaja(),[](const Prodaja *p, const Prodaja *t) {
                            if(p-&gt;DajDatumProdaje().DajGodinu() == t-&gt;DajDatumProdaje().DajGodinu() &amp;&amp; p-&gt;DajDatumProdaje().DajMjesec() == t-&gt;DajDatumProdaje().DajMjesec() &amp;&amp; p-&gt;DajDatumProdaje().DajDan() == t-&gt;DajDatumProdaje().DajDan() &amp;&amp; p-&gt;DajImeKupca()[0] &lt; t-&gt;DajImeKupca()[0] ) return true;
                            if(!ProdatPrije(*p,*t)) return true;
                            return false;
                            });*/
                            for(int i = 0; i &lt; pr.DajBrojProdaja(); i++) {
                                std::cout&lt;&lt;i+1&lt;&lt;".\n";
                                pr.DajProdaju(i).Ispisi();
                               
                                std::cout&lt;&lt;std::endl; 
                                }
                  
                   
                     
                  
                   std::cin&gt;&gt;o;
                 
                   
                   std::cout&lt;&lt;"Izaberite opciju:\n 0 - nazad\n 1 - izmjena agenta\n 2 - izmjena datuma prodaje\n 3 - izmjena kupca\n 4 - izmjena stana\n 5 - izmjena cijene stana\n";
                   std::cin&gt;&gt;hocelKraj;
                   if(hocelKraj == 0) break;
                   else if(hocelKraj == 1) {
                       
                        while(true) {   
                        try{
                        std::cout&lt;&lt;"Unesite ime i prezime agenta prodaje: ";
                        std::string agent;
                        std::cin.ignore(1000,'\n');
                        std::getline(std::cin,agent);
                        pr.DajProdaju(o-1).PromijeniAgenta(agent);  //errrrrrrrrrrrrrrorrr
                        std::cout&lt;&lt;"Prodaja je uspjesno izmijenjena!\n \n";
                        break;
                        }catch(std::domain_error d) {
                            std::cout &lt;&lt; "Izuzetak: "&lt;&lt; d.what() &lt;&lt;". Molimo unesite opet."&lt;&lt; std::endl;      //trebal1
                        }
                        }
                        
                       
                   }
                   else if(hocelKraj == 2) {
                      while(true) {
                           try{
                                std::cout&lt;&lt;"Unesite datum prodaje (formata d/m/g): ";
                                int d,m,g;
                                char j,de;
                                std::cin&gt;&gt;d&gt;&gt;j&gt;&gt;m&gt;&gt;de&gt;&gt;g;
                                Datum da = Datum(d,m,g);
                               
                               pr.DajProdaju(o-1).PromijeniDatumKupovine(da);
                                 std::cout&lt;&lt;"Prodaja je uspjesno izmijenjena!\n\n";
                        break;
                        }catch(std::domain_error d) {
                            std::cout &lt;&lt; "Izuzetak: "&lt;&lt; d.what() &lt;&lt;". Molimo unesite opet."&lt;&lt; std::endl; // trebal1
                        }
                      }
                          
                       
                       
                   }
                   else if(hocelKraj == 3) {
                       std::cout&lt;&lt;"Izaberite opciju:\n 0 - nazad\n 1 - odabir postojeceg kupca\n 2 - dodavanje novog kupca\n";
                       std::cin&gt;&gt;plsKraj;
                       if(plsKraj == 0) break;
                       else if(plsKraj == 1) {
                           
                           std::cout&lt;&lt;"Odaberite kupca. Dostupni kupci su: \n";
                           for(int i = 0; i &lt; kupci.size(); i++){
                               std::cout&lt;&lt;i+1&lt;&lt;" - ";
                               kupci[i].Ispisi();
                               std::cout&lt;&lt;std::endl;
                           }
                           std::cin&gt;&gt;joj;
                           pr.DajProdaju(o-1).PromijeniKupca(kupci[joj-1]);
                           std::cout&lt;&lt;"Prodaja je uspjesno izmijenjena!\n \n";
                          
                       }
                       else if(plsKraj == 2) {
                            while (true) {
                   try{    
                   
                   std::cout&lt;&lt;"Unesite ime i prezime kupca: ";
                   std::string ime_kupca;
                   std::cin.ignore(1000,'\n');
                   std::getline(std::cin,ime_kupca);
                   std::cout&lt;&lt;"Unesite datum rodjenja (formata d/m/g): ";
                   int dan,mjesec,godina;
                   char j,de;
                   std::cin&gt;&gt;dan&gt;&gt;j&gt;&gt;mjesec&gt;&gt;de&gt;&gt;godina;
                   Datum d = Datum(dan,mjesec,godina);
                   Kupac k = Kupac(ime_kupca,d);
                   kupci.emplace_back(k);
                   pr.DajProdaju(o-1).PromijeniKupca(k); 
                   std::cout&lt;&lt;"Prodaja je uspjesno izmijenjena!\n \n";
                   break;
                   }catch(std::domain_error d) {
                       std::cout &lt;&lt; "Izuzetak: "&lt;&lt;d.what() &lt;&lt;". Molimo unesite opet."&lt;&lt; std::endl;
                   }

               }
                           
                       }
                   }
                   else if(hocelKraj == 4) {
                       std::cout&lt;&lt;"Izaberite opciju:\n 0 - nazad\n 1 - odabir postojeceg stana\n 2 - dodavanje novog stana\n";
                       std::cin&gt;&gt;fu;
                       if(fu == 0) break;
                       else if(fu == 1) {
                           std::cout&lt;&lt;"Odaberite stan. Dostupni stanovi su:\n";
                           for(int i = 0; i &lt; stanovi.size(); i++) {
                               std::cout&lt;&lt;i+1&lt;&lt;" - ";
                               stanovi[i].Ispisi();
                           }
                           std::cin&gt;&gt;izabran;
                          pr.DajProdaju(o-1).PromijeniStan(stanovi[izabran-1]);
                           std::cout&lt;&lt;"Prodaja je uspjesno izmijenjena!\n \n";
                           
                       }
                       else if(fu == 2) {
                            while (true) {
                   try{
                       std::cout&lt;&lt;"Unesite adresu: ";
                       std::string adresa;
                       std::cin.ignore(1000,'\n');
                       std::getline(std::cin,adresa);
                       std::cout&lt;&lt;"Unesite sprat: ";
                       int sprat;
                       std::cin&gt;&gt;sprat;
                       std::cout&lt;&lt;"Unesite broj soba: ";
                       int broj_soba;
                       std::cin&gt;&gt;broj_soba;
                       std::cout&lt;&lt;"Da li je stan namjesten (1 - da, 0 - ne): ";
                       int zaBool;
                       std::cin&gt;&gt;zaBool;
                       std::cout&lt;&lt;"Unesite kvadraturu: ";
                       double kvadratura;
                       std::cin&gt;&gt;kvadratura;
                       if(zaBool != 0 &amp;&amp; zaBool != 1) throw std::domain_error("Neispravan unos podataka. Molimo unesite opet.");
                       Stan nov = Stan(adresa,sprat,broj_soba,bool(zaBool),kvadratura);
                       stanovi.emplace_back(nov);
                       pr.DajProdaju(o-1).PromijeniStan(nov);
                       std::cout&lt;&lt;"Prodaja je uspjesno izmijenjena!\n \n";
                       break;
                   }catch(std::domain_error d) {
                       std::cout &lt;&lt;"Izuzetak: "&lt;&lt; d.what() &lt;&lt;". Molimo unesite opet."&lt;&lt; std::endl &lt;&lt;std::endl; //trebal1
                   }
                           
                       }
                   }
                

                   
               }
                   else if(hocelKraj == 5) {
                       std::cout&lt;&lt;"Unesite cijenu stana: ";
                       double cijena;
                       std::cin&gt;&gt;cijena;
                       pr.DajProdaju(o-1).PromijeniCijenuProdaje(cijena);
                       std::cout&lt;&lt;"Prodaja je uspjesno izmijenjena!\n \n";
                       
                   }
                   
               }
               else if(opcija7 == 3) {
                   while(true) {
                   std::cout&lt;&lt;"Izaberite opciju:\n 0 - nazad\n 1 - ispis svih prodaja\n 2 - ispis prodaja na datum\n 3 - ispis najranije prodaje\n 4 - ispis najskuplje prodaje\n 5 - ispis broja prodaja\n";
                   std::cout&lt;&lt;" 6 - ispis broja prodaja po datumu\n 7 - ispis broja prodaja po agentu\n 8 - kraj\n";
                  // std::cin.ignore(1000,'\n');
                   std::cin&gt;&gt;nemamViseImenaZaVar;
                   if(nemamViseImenaZaVar == 0 ) break;
                   else if(nemamViseImenaZaVar == 1) {
                       pr.IspisiSveProdaje();
                       std::cout&lt;&lt;std::endl;
                   }
                   else if(nemamViseImenaZaVar == 2) {
                      std::cout&lt;&lt;"Unesite datum (d/m/g): ";
                                int d,m,g;
                                char j,de;
                                std::cin&gt;&gt;d&gt;&gt;j&gt;&gt;m&gt;&gt;de&gt;&gt;g;
                                Datum da = Datum(d,m,g);
                                std::cout&lt;&lt;"Prodaje na datum ";
                                da.Ispisi();
                                std::cout&lt;&lt;" su:\n";
                       pr.IspisiProdajeNaDatum(da);
                       std::cout&lt;&lt;std::endl;
                       
                   }
                   else if(nemamViseImenaZaVar == 3) {
                       pr.DajNajranijuProdaju().Ispisi();
                       std::cout&lt;&lt;std::endl;
                       
                   }
                   else if(nemamViseImenaZaVar == 4) {
                       pr.DajNajskupljuProdaju().Ispisi();
                       std::cout&lt;&lt;std::endl;
                       
                   }
                   else if(nemamViseImenaZaVar == 5) {
                       std::cout&lt;&lt;"Broj prodaja: "&lt;&lt;pr.DajBrojProdaja()&lt;&lt;std::endl&lt;&lt;std::endl;
                       
                   }
                   else if(nemamViseImenaZaVar == 6) {
                     std::cout&lt;&lt;"Unesite datum (d/m/g): ";
                                int d,m,g;
                                char j,de;
                                std::cin&gt;&gt;d&gt;&gt;j&gt;&gt;m&gt;&gt;de&gt;&gt;g;
                                Datum da = Datum(d,m,g);
                       std::cout&lt;&lt;"Broj prodaja na uneseni datum: "&lt;&lt;pr.DajBrojProdajaNaDatum(da)&lt;&lt;std::endl&lt;&lt;std::endl;
                   }
                   else if(nemamViseImenaZaVar == 7) {
                       std::cout&lt;&lt;"Unesite ime agenta: ";
                       std::string agent;
                       std::cin.ignore(1000,'\n');
                       std::getline(std::cin,agent);
                       std::cout&lt;&lt;"Broj prodaja unesenog agenta: "&lt;&lt;pr.DajBrojProdajaOdAgenta(agent)&lt;&lt;std::endl&lt;&lt;std::endl;
                   }
                   else if( nemamViseImenaZaVar == 8) return 0;

                   }
                   
               }
               else if(opcija7 == 4) {
                   while(true) {
                   std::cout&lt;&lt;"Izaberite opciju:\n 0 - nazad\n 1 - brisanje najranije prodaje\n 2 - brisanje prodaja agenta\n 3 - brisanje prodaja po datumu\n 4 - brisanje svih prodaja\n";
                   std::cin&gt;&gt;mybZadnja;
                   if(mybZadnja == 0) break;
                   else if(mybZadnja == 1) {
                       try{
                       pr.ObrisiNajranijuProdaju();
                       std::cout&lt;&lt;"Najranija prodaja je obrisana!\n \n";
                       }catch(std::range_error r) {
                           std::cout &lt;&lt; "Izuzetak: "&lt;&lt;r.what() &lt;&lt; std::endl;
                       }
                       
                   }
                   else if(mybZadnja == 2) {
                       try{
                       std::cout&lt;&lt;"Unesite ime agenta: ";
                       std::string agent;
                       std::cin.ignore(1000,'\n');
                       std::getline(std::cin,agent);
                       pr.ObrisiProdajeAgenta(agent);
                       std::cout&lt;&lt;"Sve prodaje tog agenta su obrisane.\n \n";
                       }catch(std::range_error r) {
                           std::cout &lt;&lt; "Izuzetak: "&lt;&lt;r.what() &lt;&lt; std::endl;
                       }
                       
                   }
                   else if(mybZadnja == 3) {
                       try{
                        std::cout&lt;&lt;"Unesite datum: ";
                                int d,m,g;
                               char j,de;
                                std::cin&gt;&gt;d&gt;&gt;j&gt;&gt;m&gt;&gt;de&gt;&gt;g;
                                Datum da = Datum(d,m,g);
                                pr.ObrisiProdajeNaDatum(da);
                                std::cout&lt;&lt;"Sve prodaje na taj datum su obrisane.\n \n";
                        }catch(std::range_error r) {
                           std::cout &lt;&lt; "Izuzetak: "&lt;&lt;r.what() &lt;&lt; std::endl;
                       }
                                
                   }
                   else if(mybZadnja == 4) {
                       try{
                      pr.IsprazniKolekciju();
                      std::cout&lt;&lt;"Sve prodaje su obrisane.\n \n";
                      }catch(std::range_error d) {
                          std::cout&lt;&lt;"Izuzetak: "&lt;&lt;d.what()&lt;&lt;std::endl;
                      }// treba izuzetak
                        
                   }

                   }
               }
               else if(opcija7 == 5) return 0;
               
           }
           }
        }
    }catch(std::domain_error d) {
        std::cout &lt;&lt; d.what() &lt;&lt; std::endl;
    }
    
    
	return 0;
}
</pre>
</body>
</html>
