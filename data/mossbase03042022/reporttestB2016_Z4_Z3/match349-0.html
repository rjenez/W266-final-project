<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z3/student9949.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z3/student9949.cpp<p></p><pre>
/B 2016/2017, ZadaÄ‡a 4, Zadatak 3
//Napomena: testovi ce biti dostupni dan pred rok!
#include &lt;iostream&gt;
#include &lt;vector&gt;
#include &lt;string&gt;
#include &lt;stdexcept&gt;
#include &lt;algorithm&gt;
class Datum{
<a name="8"></a><font color="#00FFFF"><a href="match349-1.html#8" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_0.gif"/></a>

    int d, m, g;
    
    public:
    Datum(int dan, int mjesec, int godina);
    void Postavi(int dan, int mjesec, int godina);
    int DajDan() const;
    int DajMjesec() const;
    int DajGodinu() const;
    void Ispisi() const;
</font>};
int DatumPP(Datum d1, Datum d2){
    if(d1.DajGodinu()&gt;d2.DajGodinu()) return 1;
    if(d1.DajGodinu()==d2.DajGodinu() &amp;&amp; d1.DajMjesec()&gt;d2.DajMjesec()) return 1;
    if(d1.DajGodinu()==d2.DajGodinu() &amp;&amp; d1.DajMjesec()==d2.DajMjesec() &amp;&amp; d1.DajDan()&gt;d2.DajDan()) return 1;
    if(d1.DajGodinu()&lt;d2.DajGodinu()) return -1;
    if(d1.DajGodinu()==d2.DajGodinu() &amp;&amp; d1.DajMjesec()&lt;d2.DajMjesec()) return -1;
    if(d1.DajGodinu()==d2.DajGodinu() &amp;&amp; d1.DajMjesec()==d2.DajMjesec() &amp;&amp; d1.DajDan()&lt;d2.DajDan()) return -1;
    if(d1.DajGodinu()==d2.DajGodinu() &amp;&amp; d1.DajMjesec()==d2.DajMjesec() &amp;&amp; d1.DajDan()==d2.DajDan()) return 0;
}
Datum::Datum(int dan, int mjesec, int godina){
    int broj_dana[]{31,28,31,30,31,30,31,31,30,31,30,31};
    if((godina%4==0 &amp;&amp; godina%100!=0 )|| godina%400==0)
        broj_dana[1]++;
    if(godina&lt;1 || dan&lt;1 || mjesec&lt;1 ||mjesec&gt;12 || dan&gt;broj_dana[mjesec-1])
        throw std::domain_error("Neispravan datum");
        d=dan;
        m=mjesec; 
        g=godina;
}
void Datum::Postavi(int dan, int mjesec, int godina){
    int broj_dana[]{31,28,31,30,31,30,31,31,30,31,30,31};
    if((godina%4==0 &amp;&amp; godina%100!=0 )|| godina%400==0)
        broj_dana[1]++;
    if(godina&lt;1 || dan&lt;1 || mjesec&lt;1 ||mjesec&gt;12 || dan&gt;broj_dana[mjesec-1])
        throw std::domain_error("Neispravan datum");
        d=dan;
        m=mjesec; 
        g=godina;
}
int Datum::DajDan() const{
    return d;
}
int Datum::DajGodinu() const{
    return g;
}
int Datum::DajMjesec() const{
    return m;
}
void Datum::Ispisi() const{
    std::cout&lt;&lt;"("&lt;&lt;d&lt;&lt;"/"&lt;&lt;m&lt;&lt;"/"&lt;&lt;g&lt;&lt;")";
}
bool IstiDatumi(Datum dat1, Datum dat2){
<a name="12"></a><font color="#0000FF"><a href="match349-1.html#12" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_0.gif"/></a>

    if(dat1.DajDan()==dat2.DajDan() &amp;&amp; dat1.DajMjesec()==dat2.DajMjesec() &amp;&amp; dat1.DajGodinu()==dat2.DajGodinu()) return true;
    return false;
}
class Kupac{
</font>    std::string ip;
    Datum d;
    public:
<a name="11"></a><font color="#00FF00"><a href="match349-1.html#11" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_0.gif"/></a>

    Kupac(const std::string &amp;ime_i_prezime, const Datum &amp;datum_rodjenja);
    void Postavi(const std::string &amp;ime_i_prezime, const Datum &amp;datum_rodjenja);
    std::string DajImePrezime() const;
    Datum DajDatumRodjenja() const;
    void Ispisi() const;
};
Kupac::Kupac(const std::string &amp;ime_i_prezime, const Datum &amp;datum_rodjenja):
</font><a name="13"></a><font color="#00FFFF"><a href="match349-1.html#13" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_0.gif"/></a>

d(datum_rodjenja.DajDan(),datum_rodjenja.DajMjesec(),datum_rodjenja.DajGodinu()){
</font>    ip=ime_i_prezime;
    //provjera imena
}
void Kupac::Postavi(const std::string &amp;ime_i_prezime, const Datum &amp;datum_rodjenja){
    int dan(datum_rodjenja.DajDan()), mjesec(datum_rodjenja.DajMjesec()), godina(datum_rodjenja.DajGodinu());
    d.Postavi(dan, mjesec, godina);
<a name="10"></a><font color="#FF0000"><a href="match349-1.html#10" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_0.gif"/></a>

    ip=ime_i_prezime;/*
    for(int i=0; i&lt;ime_i_prezime.length();i++)
        if(ime_i_prezime[i]) //a A zz*/
}
std::string Kupac::DajImePrezime() const{
    return ip;
}
Datum Kupac::DajDatumRodjenja() const{
    return d;
}
void Kupac::Ispisi() const{
    std::cout&lt;&lt;ip&lt;&lt;" ("&lt;&lt;d.DajDan()&lt;&lt;"/"&lt;&lt;d.DajMjesec()&lt;&lt;"/"&lt;&lt;d.DajGodinu()&lt;&lt;")";
</font>}
class Stan{
    std::string ad;
    int s, brs;
    double kv;
    bool namj;
    public:
    Stan(const std::string &amp;adresa, int sprat, int broj_soba, bool namjesten, double kvadratura);
<a name="2"></a><font color="#0000FF"><a href="match349-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_1.gif"/></a>

    void Postavi( const std::string &amp;adresa, int sprat, int broj_soba, bool namjesten, double kvadratura);
    std::string DajAdresu() const;
    int DajSprat() const;
    int DajBrojSoba() const;
    bool DajNamjesten() const;
    double DajKvadraturu() const;
    void Ispisi() const;
};
Stan::Stan(const std::string &amp;adresa, int sprat, int broj_soba, bool namjesten, double kvadratura){
</font>    ad=adresa; if(sprat&lt;0 || broj_soba&lt;0 || kvadratura&lt;0) throw std::domain_error("Neispravan unos podataka");
    s=sprat; brs=broj_soba; namj=namjesten; kv=kvadratura;
}
void Stan::Postavi( const std::string &amp;adresa, int sprat, int broj_soba, bool namjesten, double kvadratura){
    ad=adresa; if(sprat&lt;0 || broj_soba&lt;0 || kvadratura&lt;0) throw std::domain_error("Neispravan unos podataka");
<a name="6"></a><font color="#00FF00"><a href="match349-1.html#6" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_1.gif"/></a>

    s=sprat; brs=broj_soba; namj=namjesten; kv=kvadratura;
}
std::string Stan::DajAdresu() const{
    return ad;
}
int Stan::DajSprat() const{
    return s;
}
int Stan::DajBrojSoba() const{
    return brs;
}
bool Stan::DajNamjesten() const{
    return namj;
}
double Stan::DajKvadraturu() const{
    return kv;
}
void Stan::Ispisi() const{
</font>    if(brs==1){
       std::cout&lt;&lt;"Stan se nalazi na adresi "&lt;&lt;ad&lt;&lt;" na "&lt;&lt;s&lt;&lt;" spratu i ima 1 sobu."&lt;&lt;std::endl; 
    }
    if(brs==2 || brs==3 || brs==4){
        std::cout&lt;&lt;"Stan se nalazi na adresi "&lt;&lt;ad&lt;&lt;" na "&lt;&lt;s&lt;&lt;" spratu i ima "&lt;&lt;brs&lt;&lt;" sobe."&lt;&lt;std::endl;  
    }
    else {
        std::cout&lt;&lt;"Stan se nalazi na adresi "&lt;&lt;ad&lt;&lt;" na "&lt;&lt;s&lt;&lt;" spratu i ima "&lt;&lt;brs&lt;&lt;" soba."&lt;&lt;std::endl;
    }
    if(namj){
        std::cout&lt;&lt;"Kvadratura stana je "&lt;&lt;kv&lt;&lt;" (m^2) i stan je namjesten.";
    }
    if(!namj){
<a name="14"></a><font color="#FF00FF"><a href="match349-1.html#14" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_0.gif"/></a>

        std::cout&lt;&lt;"Kvadratura stana je "&lt;&lt;kv&lt;&lt;" (m^2) i stan nije namjesten.";
    }
}
class Prodaja{
    std::string ime_agenta_prodaje;
    double cijena_stana;
    Datum datum_prodaje;
    Kupac kupac_stana;
    Stan kupljeni_stan;
    public:
    Prodaja(const std::string &amp;ime_agenta_prodaje, double cijena_stana, const Datum &amp;datum_prodaje, const Kupac &amp;kupac_stana, const Stan&amp;kupljeni_stan);
</font><a name="1"></a><font color="#00FF00"><a href="match349-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_2.gif"/></a>

    Prodaja(const std::string &amp;ime_agenta_prodaje, double cijena_stana, int dan_prodaje, int mjesec_prodaje, int godina_prodaje, std::string &amp;ime_kupca, const Datum &amp;datum_rodjenja_kupca, const std::string &amp;adresa_stana, int sprat_stana, int broj_soba, bool namjesten_stan, double broj_kvadrata);
    void PromijeniKupca(const Kupac &amp;novi_kupac);
    void PromijeniStan(const Stan &amp;novi_stan);
    void PromijeniDatumKupovine(const Datum &amp;novi_datum);
    void PromijeniCijenuProdaje(const double &amp;nova_cijena);
    void PomjeriDanUnaprijed();
    void PomjeriDanUnazad();
    std::string DajImeAgenta() const;
    std::string DajImeKupca() const;
    Datum DajDatumProdaje() const;
    double DajCijenuStana() const;
    friend bool ProdatPrije(const Prodaja &amp;p1, const Prodaja &amp;p2);
    friend bool SkupljiStan(const Prodaja &amp;p1, const Prodaja &amp;p2);
</font>    void Ispisi() const;
};
<a name="0"></a><font color="#FF0000"><a href="match349-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_2.gif"/></a>

Prodaja::Prodaja(const std::string &amp;ime_agenta_prodaje, double cijena_stana, const Datum &amp;datum_prodaje, const Kupac &amp;kupac_stana, const Stan&amp;kupljeni_stan)
:datum_prodaje(datum_prodaje.DajDan(), datum_prodaje.DajMjesec(), datum_prodaje.DajGodinu()),kupac_stana(kupac_stana.DajImePrezime(), kupac_stana.DajDatumRodjenja()),
kupljeni_stan(kupljeni_stan.DajAdresu(), kupljeni_stan.DajSprat(), kupljeni_stan.DajBrojSoba(), kupljeni_stan.DajNamjesten(), kupljeni_stan.DajKvadraturu()){
    Prodaja::ime_agenta_prodaje=ime_agenta_prodaje;
    Prodaja::cijena_stana=cijena_stana;
}
Prodaja::Prodaja(const std::string &amp;ime_agenta_prodaje, double cijena_stana, int dan_prodaje, int mjesec_prodaje, int godina_prodaje, std::string &amp;ime_kupca, const Datum &amp;datum_rodjenja_kupca, const std::string &amp;adresa_stana, int sprat_stana, int broj_soba, bool namjesten_stan, double broj_kvadrata):
</font><a name="15"></a><font color="#FF0000"><a href="match349-1.html#15" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_0.gif"/></a>

datum_prodaje(dan_prodaje, mjesec_prodaje, godina_prodaje), kupac_stana(ime_kupca, datum_rodjenja_kupca), kupljeni_stan(adresa_stana, sprat_stana, broj_soba, namjesten_stan, broj_kvadrata){
    Prodaja::ime_agenta_prodaje=ime_agenta_prodaje;
    Prodaja::cijena_stana=cijena_stana;
}
void Prodaja::PromijeniKupca(const Kupac &amp;novi_kupac){
</font>    kupac_stana.Postavi(novi_kupac.DajImePrezime(), novi_kupac.DajDatumRodjenja());
}
void Prodaja::PromijeniStan(const Stan &amp;novi_stan){
    kupljeni_stan.Postavi(novi_stan.DajAdresu(), novi_stan.DajSprat(), novi_stan.DajBrojSoba(), novi_stan.DajNamjesten(), novi_stan.DajKvadraturu());
}
void Prodaja::PromijeniDatumKupovine(const Datum &amp;novi_datum){
    datum_prodaje.Postavi(novi_datum.DajDan(), novi_datum.DajMjesec(), novi_datum.DajGodinu());
}
void Prodaja::PromijeniCijenuProdaje(const double &amp;nova_cijena){
<a name="16"></a><font color="#00FF00"><a href="match349-1.html#16" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_0.gif"/></a>

    cijena_stana=nova_cijena;
}
void Prodaja::PomjeriDanUnaprijed(){
    int broj_dana[]{31,28,31,30,31,30,31,31,30,31,30,31};
</font>    int dan=datum_prodaje.DajDan(), mjesec=datum_prodaje.DajMjesec(), godina=datum_prodaje.DajGodinu();
    if((godina%4==0 &amp;&amp;godina%100!=0) ||godina%400==0)
        broj_dana[1]++;
    dan++;
    if(dan&gt;broj_dana[mjesec-1]) dan=1, mjesec++;
    if(mjesec&gt;12) mjesec=1, godina++;
<a name="9"></a><font color="#FF00FF"><a href="match349-1.html#9" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_0.gif"/></a>

    datum_prodaje.Postavi(dan, mjesec, godina);
}
void Prodaja::PomjeriDanUnazad(){
    int broj_dana[]{31,28,31,30,31,30,31,31,30,31,30,31};
</font>    int dan=datum_prodaje.DajDan(), mjesec=datum_prodaje.DajMjesec(), godina=datum_prodaje.DajGodinu();
    if((godina%4==0 &amp;&amp;godina%100!=0) ||godina%400==0)
        broj_dana[1]++;
    dan--;
    if(dan&gt;0) dan=broj_dana[mjesec-2], mjesec--;
    if(mjesec&lt;0) mjesec=12, godina--;
<a name="7"></a><font color="#0000FF"><a href="match349-1.html#7" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_1.gif"/></a>

    datum_prodaje.Postavi(dan, mjesec, godina);
    
}
std::string Prodaja::DajImeAgenta() const{
    return ime_agenta_prodaje;
}
std::string Prodaja::DajImeKupca() const{
    return kupac_stana.DajImePrezime();
}
Datum Prodaja::DajDatumProdaje() const{
    return datum_prodaje;
}
</font><a name="3"></a><font color="#00FFFF"><a href="match349-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_1.gif"/></a>

double Prodaja::DajCijenuStana() const{
    return cijena_stana;
}
void Prodaja::Ispisi() const{
    //ispis poravnanje
    std::cout&lt;&lt;"Ime agenta"&lt;&lt;ime_agenta_prodaje&lt;&lt;std::endl;
    std::cout&lt;&lt;"Ime kupca";
    kupac_stana.Ispisi();
    std::cout&lt;&lt;std::endl;
    std::cout&lt;&lt;"Zakazani datum prodaje";
    datum_prodaje.Ispisi();
    std::cout&lt;&lt;"Cijena stana: "&lt;&lt;cijena_stana&lt;&lt;std::endl;
</font>    std::cout&lt;&lt;"Informacije o stanu: "&lt;&lt;std::endl;
    kupljeni_stan.Ispisi();
}
bool ProdatPrije(const Prodaja &amp;p1, const Prodaja &amp;p2){
    if(DatumPP(p1.DajDatumProdaje(), p2.DajDatumProdaje())==-1) return true;
    return false;
}
bool SkupljiStan(const Prodaja &amp;p1, const Prodaja &amp;p2){
    if(p1.DajCijenuStana()&gt;p2.DajCijenuStana()) return true;
    return false;
}
class Prodaje{
    int stanje, kapacitet;
    Prodaja **pok;
    public:
    explicit Prodaje(int max_broj_prodaja);
    Prodaje(std::initializer_list&lt;Prodaja&gt; spisak_prodaja);
    ~Prodaje();
    Prodaje(const Prodaje &amp;prodaje);
    Prodaje(Prodaje &amp;&amp;prodaje);
    Prodaje &amp;operator=(const Prodaje&amp;prodaje){
        if(this==&amp;prodaje) return *this;
        for(int i=0; i&lt;stanje; i++) delete pok[i];
        delete [] pok;
        stanje=prodaje.DajBrojProdaja(); kapacitet=prodaje.DajBrojProdaja();
        pok=new Prodaja*[kapacitet];
        for(int i=0; i&lt;stanje; i++) pok[i]=new Prodaja(*prodaje.pok[i]);
        return *this;
    }
    Prodaje &amp;operator=(Prodaje&amp;&amp;prodaje){
        if(this==&amp;prodaje) return *this;
        for(int i=0; i&lt;stanje; i++) delete pok[i];
        delete [] pok;
        stanje=prodaje.stanje;
        kapacitet=prodaje.kapacitet;
        pok=prodaje.pok;
        prodaje.pok=nullptr;
        prodaje.stanje=0;
        return *this;
    }
    void RegistrirajProdaju(const std::string &amp;ime_agenta_prodaje, double cijena_stana, const Datum &amp;datum_prodaje, const Kupac &amp;kupac_stana, const Stan &amp;kupljeni_stan);
    void RegistrirajProdaju(const std::string &amp;ime_agenta_prodaje, double cijena_stana, int dan_prodaje, int mjesec_prodaje, int godina_prodaje, std::string &amp;ime_kupca, const Datum &amp;datum_rodjenja_kupca, const std::string &amp;adresa_stana, int sprat_stana, int broj_soba, bool namjesten_stan, double broj_kvadrata);
    void RegistrirajProdaju(Prodaja *prodaja);
    int DajBrojProdaja() const;
    int DajBrojProdajaNaDatum(const Datum &amp;datum) const;
    int DajBrojProdajaOdAgenta(const std::string &amp;ime_agenta) const;
    Prodaja &amp;DajNajranijuProdaju();
    Prodaja DajNajranijuProdaju() const;
    Prodaja &amp;DajNajskupljuProdaju();
    Prodaja DajNajskupljuProdaju() const;
    void IsprazniKolekciju();
    void ObrisiNajranijuProdaju();
<a name="17"></a><font color="#0000FF"><a href="match349-1.html#17" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_0.gif"/></a>

    void ObrisiProdajeAgenta(const std::string &amp;ime_agenta);
    void ObrisiProdajeNaDatum(const Datum &amp;datum);
    void IspisiProdajeNaDatum(const Datum &amp;datum) const;
    void IspisiSveProdaje() const;
    Prodaja&amp; DajProdaju(int n){
</font>        if(n-1&gt;stanje) throw std::domain_error("Ne postoji toliko prodaja");
        return *pok[n-1];
    }
};
Prodaje::Prodaje(int max_broj_prodaja){
    kapacitet=max_broj_prodaja;
    stanje=0;
    pok= new Prodaja*[max_broj_prodaja];
}
Prodaje::Prodaje(std::initializer_list&lt;Prodaja&gt; spisak_prodaja){
    kapacitet=spisak_prodaja.size();
    stanje=kapacitet;
    pok=new Prodaja *[kapacitet];
    for( int i=0; i&lt;kapacitet; i++) pok[i]=nullptr;
    auto it=spisak_prodaja.begin();
    for(int i=0; i&lt;stanje; i++){
        pok[i]=new Prodaja(*it);
        it++;
    }
}
Prodaje::~Prodaje(){
    for(int i=0; i&lt;stanje; i++) delete pok[i];
    delete [] pok;
    }
Prodaje::Prodaje(const Prodaje &amp;prodaje){
    stanje=prodaje.stanje;
    kapacitet=prodaje.kapacitet;
    pok=new Prodaja*[kapacitet];
    for(int i=0; i&lt;stanje; i++)
        pok[i]=new Prodaja(*prodaje.pok[i]);
}
Prodaje::Prodaje(Prodaje &amp;&amp;prodaje){
    stanje=prodaje.stanje;
    kapacitet=prodaje.kapacitet;
    pok=prodaje.pok;
    prodaje.pok=nullptr;
    prodaje.stanje=0;
}
void Prodaje::RegistrirajProdaju(const std::string &amp;ime_agenta_prodaje, double cijena_stana, const Datum &amp;datum_prodaje, const Kupac &amp;kupac_stana, const Stan &amp;kupljeni_stan){
<a name="4"></a><font color="#FF00FF"><a href="match349-1.html#4" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_1.gif"/></a>

    if(stanje +1&gt;kapacitet) throw std::range_error("Dostignut maksimalan broj prodaja");
    pok[stanje]=new Prodaja(ime_agenta_prodaje, cijena_stana, datum_prodaje, kupac_stana, kupljeni_stan);
    stanje++;
}
void Prodaje::RegistrirajProdaju(const std::string &amp;ime_agenta_prodaje,double cijena_stana, int dan_prodaje, int mjesec_prodaje, int godina_prodaje, std::string &amp;ime_kupca, const Datum &amp;datum_rodjenja_kupca, const std::string &amp;adresa_stana, int sprat_stana, int broj_soba, bool namjesten_stan, double broj_kvadrata){
</font>    if(stanje +1&gt;kapacitet) throw std::range_error("Dostignut maksimalan broj prodaja");
    pok[stanje]=new Prodaja(ime_agenta_prodaje, cijena_stana, Datum(dan_prodaje, mjesec_prodaje, godina_prodaje), Kupac(ime_kupca, datum_rodjenja_kupca), Stan(adresa_stana,sprat_stana, broj_soba, namjesten_stan, broj_kvadrata));
    stanje++;
}
void Prodaje::RegistrirajProdaju(Prodaja *prodaja){
    if(stanje +1&gt;kapacitet) throw std::range_error("Dostignut maksimalan broj prodaja");
    pok[stanje]=new Prodaja(*prodaja);
    stanje++;
}
int Prodaje::DajBrojProdaja() const{
    return stanje;
}
int Prodaje::DajBrojProdajaNaDatum(const Datum &amp;datum) const{
<a name="5"></a><font color="#FF0000"><a href="match349-1.html#5" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_1.gif"/></a>

    int a=std::count_if(pok, pok+stanje, [datum](Prodaja *p){
        if(IstiDatumi(p-&gt;DajDatumProdaje(), datum)) return true;
        return false;
    });
    return a;
}
int Prodaje::DajBrojProdajaOdAgenta(const std::string &amp;ime_agenta) const{
    int br=0;
</font>    for(int i=0; i&lt;stanje; i++){
        if(pok[i]-&gt;DajImeAgenta()==ime_agenta) br++;
    }
    return br;
}
Prodaja&amp; Prodaje::DajNajranijuProdaju(){
    if(stanje==0) throw std::domain_error("Nema registriranih prodaja");
    auto it=std::min_element(pok, pok+stanje, [](Prodaja *p1, Prodaja *p2){
        if(DatumPP(p1-&gt;DajDatumProdaje(),p2-&gt;DajDatumProdaje())==-1) return true;
        return false;
    });
    return **it;
}
Prodaja Prodaje::DajNajranijuProdaju() const{
    if(stanje==0) throw std::domain_error("Nema registriranih prodaja");
    auto it=std::min_element(pok, pok+stanje, [](Prodaja *p1, Prodaja *p2){
        if(DatumPP(p1-&gt;DajDatumProdaje(),p2-&gt;DajDatumProdaje())==-1) return true;
        return false;
    });
    return **it;
}
Prodaja&amp; Prodaje::DajNajskupljuProdaju(){
    if(stanje==0) throw std::domain_error("Nema registriranih prodaja");
    auto it=std::max_element(pok, pok+stanje, [](Prodaja *p1, Prodaja *p2){
        return p1-&gt;DajCijenuStana()&lt;p2-&gt;DajCijenuStana();
    });
    return **it;
    /*int maxi=0;
    for(int i=0; i&lt;stanje; i++){
        if(pok[maxi]-&gt;DajCijenuStana()&lt;pok[i]-&gt;DajCijenuStana()) maxi=i;
    }
    return *pok[maxi];*/
}
Prodaja Prodaje::DajNajskupljuProdaju() const{
    if(stanje==0) throw std::domain_error("Nema registriranih prodaja");
    auto it=std::max_element(pok, pok+stanje, [](Prodaja *p1, Prodaja *p2){
        return p1-&gt;DajCijenuStana()&lt;p2-&gt;DajCijenuStana();
    });
<a name="18"></a><font color="#00FFFF"><a href="match349-1.html#18" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_0.gif"/></a>

    return **it;
}
void Prodaje::IsprazniKolekciju(){
    for(int i=0; i&lt;stanje; i++) delete pok[i];
    delete [] pok;
</font>    }
void Prodaje::ObrisiNajranijuProdaju(){
    if(stanje==0) throw std::range_error("Prazna kolekcija");
    Datum dat(1,1,1);
    int mini=0;
    if(stanje==0) throw std::range_error("Prazna kolekcija");
    for(int i=0; i&lt;stanje; i++){
        if(DatumPP(pok[i]-&gt;DajDatumProdaje(), dat)==-1){
            dat=pok[i]-&gt;DajDatumProdaje();
            mini=i;
        }
    }
    delete pok[mini];
    for(int i=mini; i&lt;stanje-1; i++){
        pok[i]=pok[i+1];
    }
    stanje--;
}
void Prodaje::ObrisiProdajeAgenta(const std::string &amp;ime_agenta){
    for(int i=0; i&lt;stanje; i++){
        if(pok[i]-&gt;DajImeAgenta()==ime_agenta){
            delete pok[i];
            for(int j=i; j&lt;stanje-1; j++) pok[j]=pok[j+1];
            stanje--;
            i--;
        }
    }
}

void Prodaje::ObrisiProdajeNaDatum(const Datum &amp;datum){
    for(int i=0; i&lt;stanje; i++){
        if(IstiDatumi(pok[i]-&gt;DajDatumProdaje(), datum)){
            delete pok[i];
            for(int j=i; j&lt;stanje-1; j++) pok[j]=pok[j+1];
            stanje--;
            i--;
        }
    }
}
void Prodaje::IspisiProdajeNaDatum(const Datum &amp;datum) const{
    std::vector&lt;Prodaja&gt; v;
    for(int i=0; i&lt;stanje; i++){
        if(IstiDatumi(pok[i]-&gt;DajDatumProdaje(), datum)){
            v.push_back(*pok[i]);
        }
    }
    for(int i=0; i&lt;v.size(); i++){
       v[i].Ispisi();
    }
}
void Prodaje::IspisiSveProdaje() const{
    std::sort(pok, pok+stanje, [](Prodaja *p1, Prodaja *p2){
        if(DatumPP(p1-&gt;DajDatumProdaje(), p2-&gt;DajDatumProdaje())==-1) return true;
        return false;
    });
    for(int i=0; i&lt;stanje; i++)
        pok[i]-&gt;Ispisi();
}
int main ()
{
	return 0;
}</pre>
</body>
</html>
