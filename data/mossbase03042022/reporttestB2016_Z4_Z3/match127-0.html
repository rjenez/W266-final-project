<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z3/student8100.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z3/student8100.cpp<p></p><pre>
<a name="16"></a><font color="#00FF00"><a href="match127-1.html#16" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_0.gif"/></a>

/B 2016/2017, ZadaÄ‡a 4, Zadatak 3
//Napomena: testovi ce biti dostupni dan pred rok!
#include &lt;iostream&gt;
#include &lt;string&gt;
#include &lt;stdexcept&gt;
#include &lt;algorithm&gt;
#include &lt;iomanip&gt;

bool ProvjeriDatum(int dan, int mjesec, int godina){
    if(godina&lt;0 || mjesec&lt;=0 || mjesec&gt;12 || dan&lt;0 || dan&gt;31) return false;
</font>    bool prestupna(false);
<a name="18"></a><font color="#00FFFF"><a href="match127-1.html#18" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_0.gif"/></a>

    if(godina%4 == 0 &amp;&amp; !(godina%100==0) || godina%400==0) prestupna=true;
    if(mjesec==2){
        if(prestupna) if(dan&lt;29) return false;
        else { if(dan&gt;28) return false; }
    }
    else if(mjesec == 4 || mjesec == 6 || mjesec==9 || mjesec==11) if(dan&gt;30) return false;
</font>    return true;
}

bool jelslovo(char a){
    return ((a&gt;='a' &amp;&amp; a&lt;='z') || (a&gt;='A' &amp;&amp; a&lt;='Z'));
}

bool ProvjeriImePrezime(std::string s){
    for(int i(0); i&lt;s.length(); i++)
        if(!jelslovo(s[i]) &amp;&amp; (s[i]&lt;'0' || s[i]&gt;'9') &amp;&amp; s[i]!=' ' &amp;&amp; s[i]!='-') return false;
    return true;
}

class Datum {
private:
<a name="3"></a><font color="#00FFFF"><a href="match127-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_4.gif"/></a>

    int d;
    int m;
    int g;
public:
    Datum(int dan, int mjesec, int godina);
    void Postavi(int dan, int mjesec, int godina);
    int DajDan() const { return d; }
    int DajMjesec() const { return m; }
    int DajGodinu() const { return g; }
    void Ispisi() const;
};

void Datum::Ispisi() const{
    std::cout &lt;&lt; d &lt;&lt; "/" &lt;&lt; m &lt;&lt; "/" &lt;&lt; g;
}

Datum::Datum(int dan, int mjesec, int godina){
    if(!ProvjeriDatum(dan, mjesec, godina)) throw std::domain_error("Neispravan datum");
    d=dan;
    m=mjesec;
    g=godina;
}

void Datum::Postavi(int dan, int mjesec, int godina){
    if(!ProvjeriDatum(dan, mjesec, godina)) throw std::domain_error("Neispravan datum");
    d=dan;
    m=mjesec;
    g=godina;
}

class Kupac {
</font>private:
<a name="2"></a><font color="#0000FF"><a href="match127-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_5.gif"/></a>

    std::string ImePrezime;
    Datum datum{0,0,0};
public:
    Kupac(const std::string &amp;ime_i_prezime, const Datum &amp;datum_rodjenja);
    void Postavi(const std::string &amp;ime_i_prezime, const Datum &amp;datum_rodjenja);
    std::string DajImePrezime() const { return ImePrezime; }
    Datum DajDatumRodjenja() const { return datum; }
    void Ispisi() const;
};

void Kupac::Ispisi() const{
    std::cout &lt;&lt; ImePrezime &lt;&lt; "(";
    datum.Ispisi();
    std::cout&lt;&lt; ")";
}

Kupac::Kupac(const std::string &amp;ime_i_prezime, const Datum &amp;datum_rodjenja){
    if(!ProvjeriImePrezime(ime_i_prezime)) throw std::domain_error("Neispravno ime i prezime");
    try{
        datum.Postavi(datum_rodjenja.DajDan(), datum_rodjenja.DajMjesec(), datum_rodjenja.DajGodinu());
    }
    catch(...){
        throw;
    }
    ImePrezime = ime_i_prezime;
}

void Kupac::Postavi(const std::string &amp;ime_i_prezime, const Datum &amp;datum_rodjenja){
    if(!ProvjeriImePrezime(ime_i_prezime)) throw std::domain_error("Neispravno ime i prezime");
    try{
        datum.Postavi(datum_rodjenja.DajDan(), datum_rodjenja.DajMjesec(), datum_rodjenja.DajGodinu());
    }
    catch(...){
        throw;
    }
    ImePrezime = ime_i_prezime;
}

class Stan {
private:
</font>    std::string adr;
    int spr, sobe;
    bool namj;
<a name="19"></a><font color="#FF00FF"><a href="match127-1.html#19" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_0.gif"/></a>

    double kvad;
public:
    Stan(const std::string &amp;adresa, int sprat, int broj_soba, bool namjesten, double kvadratura);
    void Postavi(const std::string &amp;adresa, int sprat, int broj_soba, bool namjesten, double kvadratura);
</font>    std::string DajAdresu() const { return adr; }
    int DajSprat() const { return spr; }
<a name="11"></a><font color="#00FF00"><a href="match127-1.html#11" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_1.gif"/></a>

    int DajBrojSoba() const { return sobe; }
    bool DajNamjesten() const { return namj; }
    double DajKvadraturu() const { return kvad; }
    void Ispisi() const;
};

void Stan::Ispisi() const {
    std::cout &lt;&lt; "Stan se nalazi na adresi " &lt;&lt; adr &lt;&lt; " na " &lt;&lt; spr &lt;&lt; ". spratu i ima " &lt;&lt; sobe;
    if(sobe%10==1) std::cout &lt;&lt; " sobu.";
    else if(sobe%10==2 || sobe%10==3 || sobe%10==4) std::cout &lt;&lt; " sobe.";
</font><a name="0"></a><font color="#FF0000"><a href="match127-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_6.gif"/></a>

    else std::cout &lt;&lt; " soba.";
    std::cout &lt;&lt; std::endl &lt;&lt; "Kvadratura stana je " &lt;&lt; kvad &lt;&lt; " (m^2) i stan ";
    if(namj) std::cout &lt;&lt; "je namjesten.";
    else std::cout &lt;&lt; "nije namjesten.";
}

void Stan::Postavi(const std::string &amp;adresa, int sprat, int broj_soba, bool namjesten, double kvadratura){
    if(sprat&lt;0 || broj_soba&lt;0 || kvadratura&lt;0) throw std::domain_error("Neispravan unos podataka");
    adr=adresa;
    spr=sprat;
    sobe=broj_soba;
    namj = namjesten;
    kvad = kvadratura;
}

Stan::Stan(const std::string &amp;adresa, int sprat, int broj_soba, bool namjesten, double kvadratura){
    if(sprat&lt;0 || broj_soba&lt;0 || kvadratura&lt;0) throw std::domain_error("Neispravan unos podataka");
    adr=adresa;
    spr=sprat;
    sobe=broj_soba;
    namj = namjesten;
    kvad = kvadratura;
}

class Prodaja {
private:
    std::string imeAgenta;
    double cijena;
    Datum datum{0,0,0};
    Kupac kupac{"",Datum{0,0,0}};
    Stan stan{"",0,0,false,0};
public:
    Prodaja(const std::string &amp;ime_agenta_prodaje, double cijena_stana, const Datum &amp;datum_prodaje, const Kupac &amp;kupac_stana, const Stan &amp;kupljeni_stan);
</font><a name="6"></a><font color="#00FF00"><a href="match127-1.html#6" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_3.gif"/></a>

    Prodaja(const std::string &amp;ime_agenta_prodaje, double cijena_stana, int dan_prodaje, int mjesec_prodaje, int godina_prodaje, std::string &amp;ime_kupca, const Datum &amp;datum_rodjenja_kupca, const std::string &amp;adresa_stana, int sprat_stana, int broj_soba, bool namjesten_stan, double broj_kvadrata);
    void PromijeniKupca(const Kupac &amp;novi_kupac) { kupac.Postavi(novi_kupac.DajImePrezime(),novi_kupac.DajDatumRodjenja()); }
    void PromijeniStan(const Stan &amp;novi_stan) { stan.Postavi(novi_stan.DajAdresu(), novi_stan.DajSprat(), novi_stan.DajBrojSoba(), novi_stan.DajNamjesten(), novi_stan.DajKvadraturu()); }
    void PromijeniDatumKupovine(const Datum &amp;novi_datum) { datum.Postavi(novi_datum.DajDan(), novi_datum.DajMjesec(), novi_datum.DajGodinu()); }
    void PromijeniCijenuProdaje(const double &amp;nova_cijena) { cijena=nova_cijena; }
    void PomjeriDanUnaprijed();
    void PomjeriDanUnazad();
    std::string DajImeAgenta() const { return imeAgenta; }
    std::string DajImeKupca() const  { return kupac.DajImePrezime(); }
</font>    Datum DajDatumProdaje() const { return datum; }
    double DajCijenuStana() const { return cijena; }
    friend bool ProdatPrije(const Prodaja &amp;p1, const Prodaja &amp;p2);
    friend bool SkupljiStan(const Prodaja &amp;p1, const Prodaja &amp;p2);
<a name="12"></a><font color="#0000FF"><a href="match127-1.html#12" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_1.gif"/></a>

    void Ispisi() const;
};

bool SkupljiStan(const Prodaja &amp;p1, const Prodaja &amp;p2){
    return p1.cijena &gt; p2.cijena;
}

bool ProdatPrije(const Prodaja &amp;p1, const Prodaja &amp;p2){
    if(p1.datum.DajGodinu() &lt; p2.datum.DajGodinu()) return true;
    else if(p1.datum.DajGodinu() &gt; p2.datum.DajGodinu()) return false;
</font>    else{
        if(p1.datum.DajMjesec() &lt; p2.datum.DajMjesec()) return true;
<a name="17"></a><font color="#0000FF"><a href="match127-1.html#17" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_0.gif"/></a>

        else if(p1.datum.DajMjesec() &gt; p2.datum.DajMjesec()) return false;
        else{
            if(p1.datum.DajDan() &lt; p2.datum.DajDan()) return true;
            else return false;
        }
    }
}

void Prodaja::Ispisi() const {
</font>    std::cout &lt;&lt; std::setw(30) &lt;&lt; std::left &lt;&lt; "Ime agenta: ";
    std::cout &lt;&lt; imeAgenta &lt;&lt;std::endl;
    std::cout &lt;&lt; std::setw(30) &lt;&lt; std::left &lt;&lt; "Ime kupca: ";
    kupac.Ispisi();
    std::cout &lt;&lt; std::endl &lt;&lt; std::setw(30) &lt;&lt; std::left &lt;&lt; "Zakazani datum prodaje: ";
    datum.Ispisi();
    std::cout &lt;&lt; std::endl &lt;&lt; std::setw(30) &lt;&lt; std::left &lt;&lt; "Cijena stana: " &lt;&lt; cijena &lt;&lt; std::endl;
    std::cout &lt;&lt; "Informacije o stanu: ";
    stan.Ispisi();
    std::cout &lt;&lt; std::endl;
}

void Prodaja::PomjeriDanUnaprijed() {
    if(datum.DajMjesec()==2) {
<a name="8"></a><font color="#00FFFF"><a href="match127-1.html#8" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_2.gif"/></a>

        if(datum.DajGodinu()%4==0 &amp;&amp; !(datum.DajGodinu()%100==0) || datum.DajGodinu()%400==0) {
            if(datum.DajDan()==29) datum.Postavi(1,3,datum.DajGodinu());
            else datum.Postavi(datum.DajDan()+1, datum.DajMjesec(), datum.DajGodinu());
        }
        else {
            if(datum.DajDan()==28) datum.Postavi(1,3,datum.DajGodinu());
            else datum.Postavi(datum.DajDan()+1, datum.DajMjesec(), datum.DajGodinu());
        }
    }
    else if(datum.DajMjesec()==4 || datum.DajMjesec()==6 || datum.DajMjesec()==9 || datum.DajMjesec()==11) {
</font><a name="4"></a><font color="#FF00FF"><a href="match127-1.html#4" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_3.gif"/></a>

        if(datum.DajDan()==30) datum.Postavi(1, datum.DajMjesec()+1, datum.DajGodinu());
        else datum.Postavi(datum.DajDan()+1, datum.DajMjesec(), datum.DajGodinu());
    }
    else {
        if(datum.DajDan()==31) {
            if(datum.DajMjesec()==12) datum.Postavi(1,1,datum.DajGodinu()+1);
            else datum.Postavi(1,datum.DajMjesec()+1, datum.DajGodinu());
        }
        else datum.Postavi(datum.DajDan()+1,datum.DajMjesec(),datum.DajGodinu());
    }
}

void Prodaja::PomjeriDanUnazad() {
    if(datum.DajMjesec()==3) {
        if(datum.DajGodinu()%4==0 &amp;&amp; !(datum.DajGodinu()%100==0) || datum.DajGodinu()%400==0) {
</font><a name="9"></a><font color="#FF00FF"><a href="match127-1.html#9" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_2.gif"/></a>

            if(datum.DajDan()==1) datum.Postavi(29,2,datum.DajGodinu());
            else datum.Postavi(datum.DajDan()-1, datum.DajMjesec(), datum.DajGodinu());
        }
        else {
            if(datum.DajDan()==1) datum.Postavi(28,2,datum.DajGodinu());
            else datum.Postavi(datum.DajDan()-1, datum.DajMjesec(), datum.DajGodinu());
        }
    }
    else if(datum.DajMjesec()==4 || datum.DajMjesec()==6 || datum.DajMjesec()==9 || datum.DajMjesec()==11) {
</font><a name="5"></a><font color="#FF0000"><a href="match127-1.html#5" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_3.gif"/></a>

        if(datum.DajDan()==1) datum.Postavi(31, datum.DajMjesec()-1, datum.DajGodinu());
        else datum.Postavi(datum.DajDan()-1, datum.DajMjesec(), datum.DajGodinu());
    }
    else {
        if(datum.DajDan()==1) {
            if(datum.DajMjesec()==1) datum.Postavi(31,12,datum.DajGodinu()-1);
            else datum.Postavi(31,datum.DajMjesec()-1, datum.DajGodinu());
        }
        else datum.Postavi(datum.DajDan()-1,datum.DajMjesec(),datum.DajGodinu());
    }
}

Prodaja::Prodaja(const std::string &amp;ime_agenta_prodaje, double cijena_stana, const Datum &amp;datum_prodaje, const Kupac &amp;kupac_stana, const Stan &amp;kupljeni_stan){
</font><a name="10"></a><font color="#FF0000"><a href="match127-1.html#10" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_1.gif"/></a>

    if(!ProvjeriImePrezime(ime_agenta_prodaje) || cijena_stana&lt;0) throw std::domain_error("Neispravan unos parametara");
    imeAgenta = ime_agenta_prodaje;
    cijena = cijena_stana;
    try{
        datum.Postavi(datum_prodaje.DajDan(), datum_prodaje.DajMjesec(), datum_prodaje.DajGodinu());
        kupac.Postavi(kupac_stana.DajImePrezime(), kupac_stana.DajDatumRodjenja());
        stan.Postavi(kupljeni_stan.DajAdresu(), kupljeni_stan.DajSprat(), kupljeni_stan.DajBrojSoba(), kupljeni_stan.DajNamjesten(), kupljeni_stan.DajKvadraturu());
    }
    catch(...){
        throw;
    }
}

Prodaja::Prodaja(const std::string &amp;ime_agenta_prodaje, double cijena_stana, int dan_prodaje, int mjesec_prodaje, int godina_prodaje, std::string &amp;ime_kupca, const Datum &amp;datum_rodjenja_kupca, const std::string &amp;adresa_stana, int sprat_stana, int broj_soba, bool namjesten_stan, double broj_kvadrata){
</font><a name="13"></a><font color="#00FFFF"><a href="match127-1.html#13" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_1.gif"/></a>

    if(!ProvjeriImePrezime(ime_agenta_prodaje) || cijena_stana&lt;0) throw std::domain_error("Neispravan unos parametara");
    imeAgenta = ime_agenta_prodaje;
    cijena = cijena_stana;
    try{
        datum.Postavi(dan_prodaje, mjesec_prodaje, godina_prodaje);
        kupac.Postavi(ime_kupca, datum_rodjenja_kupca);
        stan.Postavi(adresa_stana, sprat_stana, broj_soba, namjesten_stan, broj_kvadrata);
    }
    catch(...){
</font>        throw;
    }
}

class Prodaje {
private:
    Prodaja** p;
    int brojProdaja, kapacitet;
public:
    explicit Prodaje(int max_broj_prodaja);
    Prodaje(std::initializer_list&lt;Prodaja&gt; spisak_prodaja);
<a name="14"></a><font color="#FF00FF"><a href="match127-1.html#14" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_1.gif"/></a>

    ~Prodaje() { for(int i(0); i&lt;brojProdaja; i++) delete p[i]; delete[] p; }
    Prodaje(const Prodaje &amp;prodaje);
    Prodaje(Prodaje &amp;&amp;prodaje);
    Prodaje &amp;operator =(const Prodaje &amp;prodaje);
    Prodaje &amp;operator =(Prodaje &amp;&amp;prodaje);
    void RegistrirajProdaju(const std::string &amp;ime_agenta_prodaje, double cijena_stana, const Datum &amp;datum_prodaje, const Kupac &amp;kupac_stana,const Stan &amp;kupljeni_stan);
</font><a name="7"></a><font color="#0000FF"><a href="match127-1.html#7" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_2.gif"/></a>

    void RegistrirajProdaju(const std::string &amp;ime_agenta_prodaje, double cijena_stana, int dan_prodaje, int mjesec_prodaje, int godina_prodaje, std::string &amp;ime_kupca, const Datum &amp;datum_rodjenja_kupca, const std::string &amp;adresa_stana, int sprat_stana, int broj_soba, bool namjesten_stan, double broj_kvadrata);
    void RegistrirajProdaju(Prodaja *prodaja);
    int DajBrojProdaja() const { return brojProdaja; }
    Prodaja &amp;DajProdaju(int redni_broj);
    int DajBrojProdajaNaDatum(const Datum &amp;datum) const;
    int DajBrojProdajaOdAgenta(const std::string &amp;ime_agenta) const;
    Prodaja &amp;DajNajranijuProdaju();
    Prodaja DajNajranijuProdaju() const;
    Prodaja &amp;DajNajskupljuProdaju();
    Prodaja DajNajskupljuProdaju() const;
    void IsprazniKolekciju();
    void ObrisiNajranijuProdaju();
    void ObrisiProdajeAgenta(const std::string &amp;ime_agenta);
    void ObrisiProdajeNaDatum(const Datum &amp;datum);
    void IspisiProdajeNaDatum(const Datum &amp;datum) const;
    void IspisiSveProdaje() const;
};

void Prodaje::IspisiSveProdaje() const {
</font>     std::sort(p, p+brojProdaja, [](Prodaja *p1, Prodaja *p2) {
        Datum datum1 = p1-&gt;DajDatumProdaje(); 
        Datum datum2 = p2-&gt;DajDatumProdaje();
        if(datum1.DajGodinu() == datum2.DajGodinu()) {
            if(datum1.DajMjesec() == datum2.DajMjesec()){
                return datum1.DajDan() &lt; datum2.DajDan();
            }
            return datum1.DajMjesec() &lt; datum2.DajMjesec();
        }
        return (datum1.DajGodinu() &lt; datum2.DajGodinu());
        return false; 
     });
     for(int i(0); i&lt;brojProdaja; i++) {
        p[i]-&gt;Ispisi();
        std::cout &lt;&lt; std::endl;
    }
}


void Prodaje::IspisiProdajeNaDatum(const Datum &amp;datum) const {
    Prodaja **pok = nullptr;
    pok = new Prodaja*[brojProdaja];
    int k(0);
    for(int i(0); i&lt;brojProdaja; i++) {
        if(datum.DajDan() == p[i]-&gt;DajDatumProdaje().DajDan() &amp;&amp; datum.DajMjesec() == p[i]-&gt;DajDatumProdaje().DajMjesec() &amp;&amp; datum.DajGodinu() == p[i]-&gt;DajDatumProdaje().DajGodinu()) {
            pok[k] = new Prodaja(*p[i]);
        }
    }
    std::sort(pok, pok+k, [](Prodaja *p1, Prodaja *p2) {
        if(p1-&gt;DajImeKupca() &lt; p2-&gt;DajImeKupca()) return true;
        return false;
    });
    for(int i(0); i&lt;k; i++) {
        pok[i]-&gt;Ispisi();
        std::cout &lt;&lt; std::endl;
    }
}


void Prodaje::ObrisiProdajeNaDatum(const Datum &amp;datum) {
    if(brojProdaja == 0) throw std::range_error("Prazna kolekcija");
    for(int i(0); i&lt;brojProdaja; i++) {
        Datum pomocni = p[i]-&gt;DajDatumProdaje();
        if(pomocni.DajDan() == datum.DajDan() &amp;&amp; pomocni.DajMjesec() == datum.DajMjesec() &amp;&amp; pomocni.DajGodinu() == datum.DajGodinu()) {
            delete p[i];
            p[i] = nullptr;
        }
    }
}


void Prodaje::ObrisiProdajeAgenta(const std::string &amp;ime_agenta) {
    if(brojProdaja == 0) throw std::range_error("Prazna kolekcija");
    for(int i(0); i&lt;brojProdaja; i++) {
        if(ime_agenta == p[i]-&gt;DajImeAgenta()) {
            delete p[i];
            p[i] = nullptr;
        }
    }
}


void Prodaje::ObrisiNajranijuProdaju() {
    if(brojProdaja == 0) throw std::range_error("Prazna kolekcija");
    Prodaja najranija = DajNajranijuProdaju();
    for(int i(0); i&lt;brojProdaja; i++) {
        if(&amp;najranija == p[i]) {
            delete p[i];
            p[i]=nullptr;
        }
    }
}


void Prodaje::IsprazniKolekciju() {
<a name="1"></a><font color="#00FF00"><a href="match127-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_5.gif"/></a>

    for(int i(0); i&lt;brojProdaja; i++) delete p[i];
    delete[] p;
    brojProdaja=0;
    p=new Prodaja*[kapacitet];
}

Prodaja Prodaje::DajNajskupljuProdaju() const {
    if(brojProdaja==0) throw std::domain_error("Nema registriranih prodaja");
    return **std::max_element(p, p+brojProdaja, [](Prodaja *p1, Prodaja *p2) { return SkupljiStan(*p1,*p2); });
}

Prodaja &amp;Prodaje::DajNajskupljuProdaju() {
    if(brojProdaja==0) throw std::domain_error("Nema registriranih prodaja");
    return **std::max_element(p, p+brojProdaja, [](Prodaja *p1, Prodaja *p2) { return SkupljiStan(*p1,*p2); });
}

Prodaja Prodaje::DajNajranijuProdaju() const {
    if(brojProdaja==0) throw std::domain_error("Nema registriranih prodaja");
    return **std::min_element(p, p+brojProdaja, [](Prodaja *p1, Prodaja *p2) { return ProdatPrije(*p1,*p2); });
}

Prodaja &amp;Prodaje::DajNajranijuProdaju() {
    if(brojProdaja==0) throw std::domain_error("Nema registriranih prodaja");
    return **std::min_element(p, p+brojProdaja, [](Prodaja *p1, Prodaja *p2) { return ProdatPrije(*p1,*p2); });
}

int Prodaje::DajBrojProdajaOdAgenta(const std::string &amp;ime_agenta) const {
</font><a name="15"></a><font color="#FF0000"><a href="match127-1.html#15" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_0.gif"/></a>

    return std::count_if(p, p+brojProdaja, [ime_agenta](Prodaja* prodaja) { return ime_agenta==prodaja-&gt;DajImeAgenta(); });
}

int Prodaje::DajBrojProdajaNaDatum(const Datum &amp;datum) const {
</font>    return std::count_if(p, p+brojProdaja, [datum](Prodaja* prodaja) { return (prodaja-&gt;DajDatumProdaje().DajDan()==datum.DajDan() &amp;&amp; prodaja-&gt;DajDatumProdaje().DajMjesec()==datum.DajMjesec() &amp;&amp; prodaja-&gt;DajDatumProdaje().DajGodinu()==datum.DajGodinu()); });
}

Prodaja &amp;Prodaje::DajProdaju(int redni_broj) {
    if(redni_broj&lt;0 || redni_broj&gt;brojProdaja) throw std::range_error("Neispravan parametar");
    return *p[redni_broj];
}

void Prodaje::RegistrirajProdaju(Prodaja *prodaja) {
    if(brojProdaja==kapacitet) throw std::range_error("Dostignut maksimalni broj prodaja");
    p[brojProdaja]=new Prodaja(*prodaja);
    brojProdaja++;
}

void Prodaje::RegistrirajProdaju(const std::string &amp;ime_agenta_prodaje, double cijena_stana, int dan_prodaje, int mjesec_prodaje, int godina_prodaje, std::string &amp;ime_kupca, const Datum &amp;datum_rodjenja_kupca, const std::string &amp;adresa_stana, int sprat_stana, int broj_soba, bool namjesten_stan, double broj_kvadrata) {
    if(brojProdaja==kapacitet) throw std::range_error("Dostignut maksimalni broj prodaja");
    p[brojProdaja]=new Prodaja(ime_agenta_prodaje,cijena_stana,dan_prodaje,mjesec_prodaje,godina_prodaje,ime_kupca,datum_rodjenja_kupca,adresa_stana,sprat_stana,broj_soba,namjesten_stan,broj_kvadrata);
    brojProdaja++;
}

void Prodaje::RegistrirajProdaju(const std::string &amp;ime_agenta_prodaje, double cijena_stana, const Datum &amp;datum_prodaje, const Kupac &amp;kupac_stana,const Stan &amp;kupljeni_stan) {
    if(brojProdaja==kapacitet) throw std::range_error("Dostignut maksimalni broj prodaja");
    p[brojProdaja]=new Prodaja(ime_agenta_prodaje,cijena_stana,datum_prodaje,kupac_stana,kupljeni_stan);
    brojProdaja++;
}

Prodaje &amp;Prodaje::operator =(Prodaje &amp;&amp;prodaje) {
    kapacitet=prodaje.kapacitet;
    brojProdaja=prodaje.kapacitet;
    p=prodaje.p;
    return *this;
}

Prodaje &amp;Prodaje::operator =(const Prodaje &amp;prodaje) {
    if(prodaje.kapacitet!=kapacitet) throw std::logic_error("Nesaglasni kapaciteti");
    if(prodaje.brojProdaja&gt;brojProdaja) {
        for(int i(brojProdaja);i&lt;prodaje.brojProdaja;i++) {
            p[i]=new Prodaja(*prodaje.p[i]);
        }
    }
    else {
        for(int i(prodaje.brojProdaja);i&lt;brojProdaja;i++) {
            delete p[i];
            p[i]=nullptr;
        }
    }
    brojProdaja=prodaje.brojProdaja;
    for(int i(0);i&lt;brojProdaja;i++) {
        *p[i]=*prodaje.p[i];
    }
    return *this;
}

Prodaje::Prodaje(Prodaje &amp;&amp;prodaje) {
    kapacitet=prodaje.kapacitet;
    brojProdaja=prodaje.brojProdaja;
    p=prodaje.p;
}

Prodaje::Prodaje(const Prodaje &amp;prodaje) {
    kapacitet=prodaje.kapacitet;
    brojProdaja=prodaje.brojProdaja;
    p=new Prodaja*[kapacitet];
    for(int i(0);i&lt;brojProdaja;i++) {
        p[i]=new Prodaja(*prodaje.p[i]);
    }
}

Prodaje::Prodaje(int max_broj_prodaja) {
    if(max_broj_prodaja&lt;0) throw std::domain_error("Neispravan kapacitet");
    kapacitet=max_broj_prodaja;
    brojProdaja=0;
    p=new Prodaja*[max_broj_prodaja];
}

Prodaje::Prodaje(std::initializer_list&lt;Prodaja&gt; spisak_prodaja) {
    kapacitet=spisak_prodaja.size();
    p=new Prodaja*[kapacitet];
    brojProdaja=0;
    int i(0);
    for(auto it(spisak_prodaja.begin()); it!=spisak_prodaja.end();it++) {
        p[i]=new Prodaja(*it);
        brojProdaja++;
        i++;
    }
}

int main (){
	return 0;
}</pre>
</body>
</html>
