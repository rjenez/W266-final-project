<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z3/student1375.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z3/student1375.cpp<p></p><pre>
<a name="5"></a><font color="#FF0000"><a href="match132-1.html#5" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_4.gif"/></a>

/B 2016/2017, ZadaÄ‡a 4, Zadatak 3
//Napomena: testovi ce biti dostupni dan pred rok!
#include &lt;iostream&gt;
#include &lt;stdexcept&gt;
#include &lt;cstring&gt;

class Datum {
    int dan,mjesec,godina;
    public:
    Datum(int dan, int mjesec, int godina);
    void Postavi(int dan, int mjesec, int godina);
    int DajDan() const { return dan; }
    int DajMjesec() const { return mjesec; }
    int DajGodinu() const { return godina; }
    void Ispisi() const { std::cout &lt;&lt; dan &lt;&lt; "/" &lt;&lt; mjesec &lt;&lt; "/" &lt;&lt; godina; }
};

Datum::Datum(int dan, int mjesec, int godina) {
    int brdana[12] {31,28,31,30,31,30,31,31,30,31,30,31};
</font>    if(godina%4==0 &amp;&amp; (godina%100!=0 || godina%400==0)) brdana[1]++;
<a name="8"></a><font color="#00FFFF"><a href="match132-1.html#8" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_2.gif"/></a>

    if(godina&lt;1 || dan&lt;1 || mjesec&lt;1 || mjesec&gt;12 || dan&gt;brdana[mjesec-1]) throw std::domain_error("Neispravan datum");
    Datum::dan=dan; Datum::mjesec=mjesec; Datum::godina=godina;
}
void Datum::Postavi(int dan, int mjesec, int godina) {
    int brdana[12] {31,28,31,30,31,30,31,31,30,31,30,31};
</font>    if(godina%4==0 &amp;&amp; (godina%100!=0 || godina%400==0)) brdana[1]++;
<a name="6"></a><font color="#00FF00"><a href="match132-1.html#6" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_3.gif"/></a>

    if(godina&lt;1 || dan&lt;1 || mjesec&lt;1 || mjesec&gt;12 || dan&gt;brdana[mjesec-1]) throw std::domain_error("Neispravan datum");
    Datum::dan=dan; Datum::mjesec=mjesec; Datum::godina=godina;
}

class Kupac {
    std::string ime_i_prezime;
    Datum datum_rodjenja = Datum(11,1,1998);
    void TestImena(const std::string &amp;ime_i_prezime) {
        for(int i=0;i&lt;ime_i_prezime.length();i++) {
            if(!((ime_i_prezime[i]&gt;='a' &amp;&amp; ime_i_prezime[i]&lt;='z') || (ime_i_prezime[i]&gt;='A' &amp;&amp; ime_i_prezime[i]&lt;='Z') || ime_i_prezime[i]==' ' || ime_i_prezime[i]=='-' || (ime_i_prezime[i]&gt;='0' &amp;&amp; ime_i_prezime[i]&lt;='9') || int(ime_i_prezime[i])==39)) throw std::domain_error("Neispravno ime i prezime");
</font><a name="1"></a><font color="#00FF00"><a href="match132-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_10.gif"/></a>

        }
        
    }
    public:
    Kupac(const std::string &amp;ime_i_prezime, const Datum &amp;datum_rodjenja);
    void Postavi(const std::string &amp;ime_i_prezime, const Datum &amp;datum_rodjenja);
    std::string DajImePrezime() const { return ime_i_prezime; }
    Datum DajDatumRodjenja() const { return datum_rodjenja; }
    void Ispisi() const { std::cout &lt;&lt; ime_i_prezime &lt;&lt; " ("; datum_rodjenja.Ispisi(); std::cout &lt;&lt; ")"; }
};
Kupac::Kupac(const std::string &amp;ime_i_prezime, const Datum &amp;datum_rodjenja) {
    TestImena(ime_i_prezime);
    Kupac::datum_rodjenja=datum_rodjenja;
    Kupac::ime_i_prezime=ime_i_prezime;
}
void Kupac::Postavi(const std::string &amp;ime_i_prezime, const Datum &amp;datum_rodjenja) {
    TestImena(ime_i_prezime);
    Kupac::datum_rodjenja=datum_rodjenja;
    Kupac::ime_i_prezime=ime_i_prezime;
}

class Stan {
    std::string adresa;
    int sprat, broj_soba;
    bool namjesten;
    double kvadratura;
    public:
    Stan(const std::string &amp;adresa, int sprat, int broj_soba, bool namjesten, double kvadratura);
    void Postavi(const std::string &amp;adresa, int sprat, int broj_soba, bool namjesten, double kvadratura);
</font>    std::string DajAdresu() const { return adresa; }
<a name="9"></a><font color="#FF00FF"><a href="match132-1.html#9" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_2.gif"/></a>

    int DajSprat() const { return sprat; }
    int DajBrojSoba() const { return broj_soba; }
    bool DajNamjesten() const { return namjesten; }
    double DajKvadraturu() const { return kvadratura; }
    void Ispisi() const;  
};

Stan::Stan(const std::string &amp;adresa, int sprat, int broj_soba, bool namjesten, double kvadratura) {
</font>    if(sprat&lt;0 || broj_soba&lt;0 || kvadratura&lt;0) throw std::domain_error ("Neispravan unos podataka");
<a name="10"></a><font color="#FF0000"><a href="match132-1.html#10" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_2.gif"/></a>

    Stan::adresa=adresa; Stan::sprat=sprat; Stan::broj_soba=broj_soba;
    Stan::namjesten=namjesten; Stan::kvadratura=kvadratura;
}
void Stan::Postavi(const std::string &amp;adresa, int sprat, int broj_soba, bool namjesten, double kvadratura) {
</font>    if(sprat&lt;0 || broj_soba&lt;0 || kvadratura&lt;0) throw std::domain_error ("Neispravan unos podataka");
<a name="4"></a><font color="#FF00FF"><a href="match132-1.html#4" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_7.gif"/></a>

    Stan::adresa=adresa; Stan::sprat=sprat; Stan::broj_soba=broj_soba;
    Stan::namjesten=namjesten; Stan::kvadratura=kvadratura;
}
void Stan::Ispisi() const {
    std::string DaLiJe;
    if(namjesten) DaLiJe="je";
    else DaLiJe="nije";
    std::cout &lt;&lt; "Stan se nalazi na adresi " &lt;&lt; DajAdresu() &lt;&lt; " na " &lt;&lt; DajSprat() &lt;&lt; ". spratu i ima " &lt;&lt; broj_soba &lt;&lt; " soba." &lt;&lt; std::endl;
    std::cout &lt;&lt; "Kvadratura stana je " &lt;&lt; kvadratura &lt;&lt; " (m^2) i stan " &lt;&lt; DaLiJe &lt;&lt; " namjesten.";
}

class Prodaja {
    std::string ime_agenta_prodaje;
    double cijena_stana;
    Datum datum_prodaje = Datum(11,1,1998);
    Kupac kupac_stana = Kupac("x",{11,1,1998});
    Stan kupljeni_stan = Stan("x",0,0,0,0);
    public:
    Prodaja(const std::string &amp;ime_agenta_prodaje, double cijena_stana,
    const Datum &amp;datum_prodaje, const Kupac &amp;kupac_stana,
</font>    const Stan &amp;kupljeni_stan);
    Prodaja(const std::string &amp;ime_agenta_prodaje, double cijena_stana,
    int dan_prodaje, int mjesec_prodaje, int godina_prodaje,
    std::string &amp;ime_kupca, const Datum &amp;datum_rodjenja_kupca,
    const std::string &amp;adresa_stana, int sprat_stana, int broj_soba,
    bool namjesten_stan, double broj_kvadrata);
    void PromijeniKupca(const Kupac &amp;novi_kupac) { kupac_stana=novi_kupac; }
    void PromijeniStan(const Stan &amp;novi_stan) { kupljeni_stan=novi_stan; }
    void PromijeniDatumKupovine(const Datum &amp;novi_datum) { datum_prodaje=novi_datum; }
    void PromijeniCijenuProdaje(const double &amp;nova_cijena) { cijena_stana=nova_cijena; }
    void PomjeriDanUnaprijed();
    void PomjeriDanUnazad();
    std::string DajImeAgenta() const { return ime_agenta_prodaje; }
    std::string DajImeKupca() const { return kupac_stana.DajImePrezime(); }
    Datum DajDatumProdaje() const { return datum_prodaje; }
<a name="2"></a><font color="#0000FF"><a href="match132-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_8.gif"/></a>

    double DajCijenuStana() const { return cijena_stana; }
    friend bool ProdatPrije(const Prodaja &amp;p1, const Prodaja &amp;p2);
    friend bool SkupljiStan(const Prodaja &amp;p1, const Prodaja &amp;p2) { if(p1.cijena_stana&gt;p2.cijena_stana) return true; return false; }
    void Ispisi() const { std::cout &lt;&lt; ime_agenta_prodaje &lt;&lt; std::endl &lt;&lt; cijena_stana &lt;&lt; std::endl; datum_prodaje.Ispisi(); std::cout &lt;&lt; std::endl; kupac_stana.Ispisi(); std::cout &lt;&lt; std::endl; kupljeni_stan.Ispisi(); } 
};

Prodaja::Prodaja(const std::string &amp;ime_agenta_prodaje, double cijena_stana, const Datum &amp;datum_prodaje, const Kupac &amp;kupac_stana, const Stan &amp;kupljeni_stan) {
    Prodaja::ime_agenta_prodaje=ime_agenta_prodaje; Prodaja::cijena_stana=cijena_stana; Prodaja::datum_prodaje=datum_prodaje;
    Prodaja::kupac_stana=kupac_stana; Prodaja::kupljeni_stan=kupljeni_stan;
}
Prodaja::Prodaja(const std::string &amp;ime_agenta_prodaje, double cijena_stana, int dan_prodaje, int mjesec_prodaje, int godina_prodaje, std::string &amp;ime_kupca, const Datum &amp;datum_rodjenja_kupca,
</font><a name="0"></a><font color="#FF0000"><a href="match132-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_20.gif"/></a>

const std::string &amp;adresa_stana, int sprat_stana, int broj_soba, bool namjesten_stan, double broj_kvadrata) : 
datum_prodaje(dan_prodaje,mjesec_prodaje,godina_prodaje), kupac_stana(ime_kupca,datum_rodjenja_kupca), kupljeni_stan(adresa_stana,sprat_stana,broj_soba,namjesten_stan,broj_kvadrata) {
        Prodaja::ime_agenta_prodaje=ime_agenta_prodaje; Prodaja::cijena_stana=cijena_stana; Prodaja::datum_prodaje=datum_prodaje;
        Prodaja::kupac_stana=kupac_stana; Prodaja::kupljeni_stan=kupljeni_stan;
}
void Prodaja::PomjeriDanUnaprijed() {
    int dan(datum_prodaje.DajDan()), mjesec(datum_prodaje.DajMjesec()), godina(datum_prodaje.DajGodinu());
    int brdana[12] {31,28,31,30,31,30,31,31,30,31,30,31};
    if(godina%4==0 &amp;&amp; (godina%100!=0 || godina%400==0)) brdana[1]++;
    dan++;
    if(dan&gt;brdana[mjesec-1]) { dan=1; mjesec++; }
    if(mjesec&gt;12) { mjesec=1; godina++; }
    datum_prodaje.Postavi(dan,mjesec,godina);
}
void Prodaja::PomjeriDanUnazad() {
    int dan(datum_prodaje.DajDan()), mjesec(datum_prodaje.DajMjesec()), godina(datum_prodaje.DajGodinu());
    int brdana[12] {31,28,31,30,31,30,31,31,30,31,30,31};
    if(godina%4==0 &amp;&amp; (godina%100!=0 || godina%400==0)) brdana[1]++;
    dan--;
    if(dan&lt;1) { mjesec--; dan=brdana[mjesec]; }
    if(mjesec&lt;1) {godina--; mjesec=12; }
    datum_prodaje.Postavi(dan,mjesec,godina);
}
bool ProdatPrije(const Prodaja &amp;p1, const Prodaja &amp;p2) {
    int dan1(p1.datum_prodaje.DajDan()), mjesec1(p1.datum_prodaje.DajMjesec()), godina1(p1.datum_prodaje.DajGodinu());
    int dan2(p2.datum_prodaje.DajDan()), mjesec2(p2.datum_prodaje.DajMjesec()), godina2(p2.datum_prodaje.DajGodinu());
    if(godina1&lt;godina2) return true;
    else if(godina1&gt;godina2) return false;
    else if(godina1==godina2) {
        if(mjesec1&lt;mjesec2) return true;
        else if(mjesec1&gt;mjesec2) return false;
        else if(mjesec1==mjesec2) {
            if(dan1&lt;dan2) return true;
            return false;
        }
    }
}

class Prodaje {
    Prodaja **prodaja;
    public:
    explicit Prodaje(int max_broj_prodaja);
    Prodaje(std::initializer_list&lt;Prodaja&gt; spisak_prodaja);
    ~Prodaje();
    Prodaje(const Prodaje &amp;prodaje);
    Prodaje(Prodaje &amp;&amp;prodaje);
</font>    Prodaje &amp;operator =(const Prodaje &amp;prodaje);
    Prodaje &amp;operator =(Prodaje &amp;&amp;prodaje);
    void RegistrirajProdaju(const std::string &amp;ime_agenta_prodaje,
<a name="7"></a><font color="#0000FF"><a href="match132-1.html#7" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_2.gif"/></a>

    double cijena_stana, const Datum &amp;datum_prodaje, const Kupac &amp;kupac_stana,
    const Stan &amp;kupljeni_stan);
    void RegistrirajProdaju(const std::string &amp;ime_agenta_prodaje, int dan_prodaje,
    int mjesec_prodaje, int godina_prodaje, std::string &amp;ime_kupca,
    const Datum &amp;datum_rodjenja_kupca, const std::string &amp;adresa_stana,
</font>    int sprat_stana, int broj_soba, bool namjesten_stan, double broj_kvadrata);
    void RegistrirajProdaju(Prodaja *prodaja);
    int DajBrojProdaja() const;
    int DajBrojProdajaNaDatum(const Datum &amp;datum) const;
    int DajBrojProdajaOdAgenta(const std::string &amp;ime_agenta) const;
    Prodaja &amp;DajNajranijuProdaju();
    Prodaja DajNajranijuProdaju() const;
    Prodaja &amp;DajNajskupljuProdaju();
    Prodaja DajNajskupljuProdaju() const;
    void IsprazniKolekciju();
<a name="3"></a><font color="#00FFFF"><a href="match132-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_8.gif"/></a>

    void ObrisiNajranijuProdaju();
    void ObrisiProdajeAgenta(const std::string &amp;ime_agenta); 
    void ObrisiProdajeNaDatum(const Datum &amp;datum);
    void IspisiProdajeNaDatum(const Datum &amp;datum) const;
    void IspisiSveProdaje() const;
  
    
};


int main ()
{
    try {
        Datum d(11,1,1998),d2(31,12,2919);
        Kupac k("Belmin Divjan", d), k2("Konjo Konjic",d2);
        Stan s("Rakovicka cesta 99",5,9,false,70);
        Prodaja p("Hasim",123,d,k,s);
        p.Ispisi();
        p.PromijeniKupca(k2); p.PromijeniCijenuProdaje(450); p.PromijeniDatumKupovine(d2);
        std::cout &lt;&lt; std::endl;
        p.Ispisi();
        p.PomjeriDanUnaprijed();
        std::cout &lt;&lt; std::endl;
        p.Ispisi();
        std::cout &lt;&lt; std::endl;
        p.DajDatumProdaje().Ispisi();
        std::cout &lt;&lt; std::endl;
        p.PomjeriDanUnazad();
        p.Ispisi();
    }
    catch (std::domain_error izuzetak) {
        std::cout &lt;&lt; izuzetak.what() &lt;&lt; std::endl;
</font>    }
	return 0;
}</pre>
</body>
</html>
