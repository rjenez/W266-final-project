<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z3/student1390.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z3/student1390.cpp<p></p><pre>
<a name="8"></a><font color="#00FFFF"><a href="match893-1.html#8" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_0.gif"/></a>

/B 2016/2017, ZadaÄ‡a 4, Zadatak 3
//Napomena: testovi ce biti dostupni dan pred rok!
#include &lt;iostream&gt;
#include &lt;stdexcept&gt;
#include &lt;string&gt;
#include &lt;vector&gt;
#include &lt;iomanip&gt;
#include &lt;algorithm&gt;
class Datum{
  int d,m,g;
  public:
  Datum(int dan,int mjesec,int godina){
      Postavi(dan,mjesec,godina);
</font>  };
  void Postavi(int dan,int mjesec,int godina);
  int DajDan() const{return d;};
  int DajMjesec() const{return m;};
  int DajGodinu() const{return g;};
  void Ispisi() const{std::cout &lt;&lt; d &lt;&lt;"/"&lt;&lt;m&lt;&lt;"/"&lt;&lt;g &lt;&lt; std::endl;};
};
void Datum::Postavi(int dan,int mjesec, int godina){
    int broj_dana[12]={31,28,31,30,31,30,31,31,30,31,30,31};
    if((godina%4==0 &amp;&amp; godina%100!=0) || godina%400==0)broj_dana[1]++;
    if(godina&lt;1 || mjesec&lt;1 || dan&lt;1 || dan&gt;broj_dana[mjesec-1])throw std::domain_error("Neispravan datum.");
    d=dan;m=mjesec;g=godina;
}
class Kupac{
  std::string imeiprezime;
  Datum datum_rodj;
  public:
  Kupac(const std::string &amp;ime_i_prezime, const Datum &amp;datum_rodjenja): datum_rodj(datum_rodjenja) {Postavi(ime_i_prezime,datum_rodjenja);}
  void Postavi(const std::string &amp;ime_i_prezime, const Datum &amp;datum_rodjenja){
    for(int i=0;i&lt;ime_i_prezime.length();i++){
      if((ime_i_prezime[i]&lt;'A' &amp;&amp; ime_i_prezime[i]!=' ') || (ime_i_prezime[i]&gt;'Z' &amp;&amp; ime_i_prezime[i]&lt;'a') || ime_i_prezime[i]&gt;'z')throw std::domain_error("Neispravno ime i prezime.");
      //else if((ime_i_prezime[i]&lt;'A' || ime_i_prezime[i]&gt;'Z') &amp;&amp; ime_i_prezime[i]!=' ')throw std::domain_error("Neispravno ime i prezime.");
    }
    imeiprezime=ime_i_prezime;
    datum_rodj=datum_rodjenja;
  };
  std::string DajImePrezime() const{return imeiprezime;};
  Datum DajDatumRodjenja() const{return datum_rodj;};
  void Ispisi() const{std::cout &lt;&lt; imeiprezime&lt;&lt;" ("&lt;&lt;datum_rodj.DajDan()&lt;&lt;"/"&lt;&lt;datum_rodj.DajMjesec()&lt;&lt;"/"&lt;&lt;datum_rodj.DajGodinu()&lt;&lt;")" &lt;&lt; std::endl;}
};
class Stan{
  std::string adresa_stanovanja;
  int sprat_stan;
  int br_s;
  bool namjesten_stan;
  double kvadrat;
  public:
  Stan(const std::string &amp;adresa, int sprat, int broj_soba, bool namjesten, double kvadratura){Postavi(adresa,sprat,broj_soba,namjesten,kvadratura);}
  void Postavi(const std::string &amp;adresa, int sprat, int broj_soba, bool namjesten, double kvadratura){
    adresa_stanovanja=adresa;
    if(sprat&lt;=0 || broj_soba&lt;=0 || kvadratura&lt;=0 || (namjesten!=0 &amp;&amp; namjesten!=1))throw std::domain_error("Neispravan unos podataka.");
    sprat_stan=sprat;
    br_s=broj_soba;
    namjesten_stan=namjesten;
    kvadrat=kvadratura;
  };
  std::string DajAdresu() const{return adresa_stanovanja;};
  int DajSprat() const{return sprat_stan;};
  int DajBrojSoba() const{return br_s;};
  bool DajNamjesten() const{return namjesten_stan;};
  double DajKvadraturu() const{return kvadrat;};
  void Ispisi() const{std::cout &lt;&lt; "Stan se nalazi na adresi "&lt;&lt; adresa_stanovanja&lt;&lt; " na "&lt;&lt;sprat_stan&lt;&lt;". spratu i ima ";
  if(br_s==1)std::cout &lt;&lt;br_s&lt;&lt;" sobu." &lt;&lt; std::endl&lt;&lt;"Kvadratura stana je "&lt;&lt;kvadrat&lt;&lt;" (m^2) i stan ";
  if(br_s&gt;=2 &amp;&amp; br_s&lt;=4)std::cout &lt;&lt;br_s&lt;&lt;" sobe." &lt;&lt; std::endl&lt;&lt;"Kvadratura stana je "&lt;&lt;kvadrat&lt;&lt;" (m^2) i stan ";
  if(br_s&gt;=5)std::cout &lt;&lt;br_s&lt;&lt;" soba." &lt;&lt; std::endl&lt;&lt;"Kvadratura stana je "&lt;&lt;kvadrat&lt;&lt;" (m^2) i stan ";
  if(namjesten_stan==true)std::cout &lt;&lt; "je namjesten." &lt;&lt; std::endl;
  else std::cout &lt;&lt; "nije namjesten." &lt;&lt; std::endl;
  };
};
class Prodaja{
  std::string imeagenta;
  double cijena;
  Datum prodaje;
  Kupac kupac;
  Stan kupljen;
  public:
  Prodaja(const std::string &amp;ime_agenta_prodaje, double cijena_stana, const Datum &amp;datum_prodaje, const Kupac &amp;kupac_stana, const Stan &amp;kupljeni_stan): prodaje(datum_prodaje), kupac(kupac_stana), kupljen(kupljeni_stan) {
    for(int i=0;i&lt;ime_agenta_prodaje.length();i++){
      if((ime_agenta_prodaje[i]&lt;'A' &amp;&amp; ime_agenta_prodaje[i]!=' ') || (ime_agenta_prodaje[i]&gt;'Z' &amp;&amp; ime_agenta_prodaje[i]&lt;'a') || ime_agenta_prodaje[i]&gt;'z')throw std::domain_error("Neispravno ime i prezime.");
    }
    imeagenta=ime_agenta_prodaje;
    cijena=cijena_stana;
  }
  Prodaja(const std::string &amp;ime_agenta_prodaje, double cijena_stana, int dan_prodaje, int mjesec_prodaje, int godina_prodaje, std::string &amp;ime_kupca, const Datum &amp;datum_rodjenja_kupca, const std::string &amp;adresa_stana, int sprat_stana, int broj_soba, bool namjesten_stan, double broj_kvadrata); 
  void PromijeniKupca(const Kupac &amp;novi_kupac){ kupac=novi_kupac;};
  void PromijeniStan(const Stan &amp;novi_stan){kupljen=novi_stan;};
  void PromijeniDatumKupovine(const Datum &amp;novi_datum){prodaje=novi_datum;};
  void PromijeniCijenuProdaje(const double &amp;nova_cijena){cijena=nova_cijena;};
  void PomjeriDanUnaprijed();
  void PomjeriDanUnazad(); 
  std::string DajImeAgenta() const{return imeagenta;};
  std::string DajImeKupca() const{return kupac.DajImePrezime();};
  Datum DajDatumProdaje() const{return prodaje;};
  double DajCijenuStana() const{return cijena;};
  friend bool ProdatPrije(const Prodaja &amp;p1, const Prodaja &amp;p2);
  friend bool SkupljiStan(const Prodaja &amp;p1, const Prodaja &amp;p2);
<a name="6"></a><font color="#00FF00"><a href="match893-1.html#6" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_0.gif"/></a>

  void Ispisi() const{std::cout &lt;&lt;std::setw(30)&lt;&lt;std::left&lt;&lt; "Ime agenta: "&lt;&lt;std::left&lt;&lt;imeagenta&lt;&lt; std::endl&lt;&lt;std::setw(30)&lt;&lt;"Ime kupca: "&lt;&lt;std::left&lt;&lt;kupac.DajImePrezime()&lt;&lt;" ("&lt;&lt;kupac.DajDatumRodjenja().DajDan()&lt;&lt;"/"&lt;&lt;kupac.DajDatumRodjenja().DajMjesec()&lt;&lt;"/"&lt;&lt;kupac.DajDatumRodjenja().DajGodinu()&lt;&lt;")"&lt;&lt;std::endl&lt;&lt;std::setw(30)&lt;&lt; "Zakazani datum prodaje: ";
</font>    std::cout &lt;&lt; std::left&lt;&lt;prodaje.DajDan()&lt;&lt;"/"&lt;&lt;prodaje.DajMjesec()&lt;&lt;"/"&lt;&lt;prodaje.DajGodinu()&lt;&lt; std::endl&lt;&lt;std::setw(30)&lt;&lt; "Cijena stana: "&lt;&lt;std::left&lt;&lt; cijena&lt;&lt;std::endl&lt;&lt;"Informacije o stanu: "&lt;&lt;std::endl;
    std::cout &lt;&lt; "Stan se nalazi na adresi "&lt;&lt; kupljen.DajAdresu()&lt;&lt; " na "&lt;&lt;kupljen.DajSprat()&lt;&lt;". spratu i ima ";
  if(kupljen.DajBrojSoba()==1)std::cout &lt;&lt;kupljen.DajBrojSoba()&lt;&lt;" sobu." &lt;&lt; " Kvadratura stana je "&lt;&lt;kupljen.DajKvadraturu()&lt;&lt;" (m^2) i stan ";
  if(kupljen.DajBrojSoba()&gt;=2 &amp;&amp; kupljen.DajBrojSoba()&lt;=4)std::cout &lt;&lt;kupljen.DajBrojSoba()&lt;&lt;" sobe." &lt;&lt;" Kvadratura stana je "&lt;&lt;kupljen.DajKvadraturu()&lt;&lt;" (m^2) i stan ";
  if(kupljen.DajBrojSoba()&gt;=5)std::cout &lt;&lt;kupljen.DajBrojSoba()&lt;&lt;" soba." &lt;&lt; " Kvadratura stana je "&lt;&lt;kupljen.DajKvadraturu()&lt;&lt;" (m^2) i stan ";
  if(kupljen.DajNamjesten()==true)std::cout &lt;&lt; "je namjesten." &lt;&lt; std::endl;
  else std::cout &lt;&lt; "nije namjesten." &lt;&lt; std::endl;
    
  };
};
Prodaja::Prodaja(const std::string &amp;ime_agenta_prodaje, double cijena_stana, int dan_prodaje, int mjesec_prodaje, int godina_prodaje, std::string &amp;ime_kupca, const Datum &amp;datum_rodjenja_kupca, const std::string &amp;adresa_stana, int sprat_stana, int broj_soba, bool namjesten_stan, double broj_kvadrata) : prodaje(dan_prodaje,mjesec_prodaje,godina_prodaje),kupac(ime_kupca,datum_rodjenja_kupca),kupljen(adresa_stana,sprat_stana,broj_soba,namjesten_stan,broj_kvadrata) {
  imeagenta=ime_agenta_prodaje;
  cijena=cijena_stana;
}
void Prodaja::PomjeriDanUnaprijed(){
  int broj_dana[12]={31,28,31,30,31,30,31,31,30,31,30,31};
  int dan=prodaje.DajDan();
  int mjesec=prodaje.DajMjesec();
  int godina=prodaje.DajGodinu();
  if((godina%4==0 &amp;&amp; godina%100!=0) || godina%400==0)broj_dana[1]++;
  dan++;
  if(dan&gt;broj_dana[mjesec-1]){dan=1;mjesec++;}
  if(mjesec&gt;12){mjesec=1;godina++;}
  prodaje.Postavi(dan,mjesec,godina);
}
void Prodaja::PomjeriDanUnazad(){
  int broj_dana[12]={31,28,31,30,31,30,31,31,30,31,30,31};
  int dan=prodaje.DajDan();
  int mjesec=prodaje.DajMjesec();
  int godina=prodaje.DajGodinu();
  if((godina%4==0 &amp;&amp; godina%100!=0) || godina%400==0)broj_dana[1]++;
  dan--;
  if(dan&lt;=0){dan=broj_dana[mjesec-2];mjesec--;}
  if(mjesec&lt;=0){mjesec=12;godina--;}
  prodaje.Postavi(dan,mjesec,godina);
}
bool ProdatPrije(const Prodaja &amp;p1, const Prodaja &amp;p2){
  if(p1.prodaje.DajGodinu()&lt;p2.prodaje.DajGodinu())return true;
  if(p1.prodaje.DajGodinu()==p2.prodaje.DajGodinu() &amp;&amp; p1.prodaje.DajMjesec()&lt;p2.prodaje.DajMjesec())return true;
  if(p1.prodaje.DajDan()&lt;=p2.prodaje.DajDan() &amp;&amp; p1.prodaje.DajMjesec()&lt;=p2.prodaje.DajMjesec() &amp;&amp; p1.prodaje.DajGodinu()&lt;=p2.prodaje.DajGodinu())return true;
  else return false;
}
bool SkupljiStan(const Prodaja &amp;p1, const Prodaja &amp;p2){
  if(p1.cijena&gt;=p2.cijena)return true;
  else return false;
}
class Prodaje{
  int dimenzija;
  Prodaja **niz=nullptr;
  int broj_prodatih;
  public:
  explicit Prodaje(int max_broj_prodaja): dimenzija(max_broj_prodaja), broj_prodatih(0), niz(new Prodaja* [dimenzija]{}) {for(int i=0;i&lt;dimenzija;i++)niz[i]=nullptr;}
  Prodaje(std::initializer_list&lt;Prodaja&gt; spisak_prodaja) : dimenzija(spisak_prodaja.size()), niz(new Prodaja*[spisak_prodaja.size()] {}),broj_prodatih(0) {
    for(int i=0;i&lt;spisak_prodaja.size();i++)niz[i]=nullptr;
    for(auto it=spisak_prodaja.begin();it!=spisak_prodaja.end();it++)niz[broj_prodatih++]=new Prodaja(*it);
  }
  ~Prodaje(){for(int i=0;i&lt;broj_prodatih;i++)delete niz[i];
  delete [] niz;}
  Prodaje(const Prodaje &amp;prodaje);
  Prodaje(Prodaje &amp;&amp;prodaje);
  Prodaje &amp;operator =(const Prodaje &amp;prodaje);
  Prodaje &amp;operator =(Prodaje &amp;&amp;prodaje);
  void RegistrirajProdaju(const std::string &amp;ime_agenta_prodaje,double cijena_stana, const Datum &amp;datum_prodaje, const Kupac &amp;kupac_stana,const Stan &amp;kupljeni_stan);
  void RegistrirajProdaju(const std::string &amp;ime_agenta_prodaje,double cijena_stana, int dan_prodaje,int mjesec_prodaje, int godina_prodaje, std::string &amp;ime_kupca,const Datum &amp;datum_rodjenja_kupca, const std::string &amp;adresa_stana,
  int sprat_stana, int broj_soba, bool namjesten_stan, double broj_kvadrata);
  void RegistrirajProdaju(Prodaja *prodaja){  if(broj_prodatih==dimenzija)throw std::range_error("Dostignut maksimalni broj prodaja");
   niz[broj_prodatih]=prodaja; broj_prodatih++;};
<a name="12"></a><font color="#0000FF"><a href="match893-1.html#12" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_0.gif"/></a>

  Prodaja &amp;DajProdaju(int broj);
  int DajBrojProdaja() const{return broj_prodatih;};
  int DajBrojProdajaNaDatum(const Datum &amp;datum) const;
  int DajBrojProdajaOdAgenta(const std::string &amp;ime_agenta) const;
  Prodaja &amp;DajNajranijuProdaju();
</font>  Prodaja DajNajranijuProdaju() const;
  Prodaja &amp;DajNajskupljuProdaju();
  Prodaja DajNajskupljuProdaju() const;
  void IsprazniKolekciju();
  void ObrisiNajranijuProdaju();
  void ObrisiProdajeAgenta(const std::string &amp;ime_agenta); 
  void ObrisiProdajeNaDatum(const Datum &amp;datum);
  void IspisiProdajeNaDatum(const Datum &amp;datum) const;
  void IspisiSveProdaje() const;

};
  
Prodaja &amp;Prodaje::DajProdaju(int broj){
  if(broj&gt;=broj_prodatih)throw std::range_error("Neispravan broj");
  for(int i=0;i&lt;broj_prodatih;i++)if(broj==(i-1))return *niz[i];
}
void Prodaje::RegistrirajProdaju(const std::string &amp;ime_agenta_prodaje,double cijena_stana, const Datum &amp;datum_prodaje, const Kupac &amp;kupac_stana,const Stan &amp;kupljeni_stan) {
  if(broj_prodatih==dimenzija)throw std::range_error("Dostignut maksimalni broj prodaja");
  niz[broj_prodatih]=new Prodaja(ime_agenta_prodaje,cijena_stana,datum_prodaje,kupac_stana,kupljeni_stan);
  broj_prodatih++;
  
}
 void Prodaje::RegistrirajProdaju(const std::string &amp;ime_agenta_prodaje,double cijena_stana, int dan_prodaje,int mjesec_prodaje, int godina_prodaje, std::string &amp;ime_kupca,const Datum &amp;datum_rodjenja_kupca, const std::string &amp;adresa_stana,
  int sprat_stana, int broj_soba, bool namjesten_stan, double broj_kvadrata) { 
    if(broj_prodatih==dimenzija)throw std::range_error("Dostignut maksimalni broj prodaja");
    niz[broj_prodatih]=new Prodaja(ime_agenta_prodaje,cijena_stana,dan_prodaje,mjesec_prodaje,godina_prodaje,ime_kupca,datum_rodjenja_kupca,adresa_stana,sprat_stana,broj_soba,namjesten_stan,broj_kvadrata);
    broj_prodatih++;
  }
  
  int Prodaje::DajBrojProdajaNaDatum(const Datum &amp;datum) const{
    int brojac;
    brojac=std::count_if(niz,niz+broj_prodatih,[datum] (Prodaja* p) {
      const Datum dat=p-&gt;DajDatumProdaje();
      if(dat.DajDan()==datum.DajDan() &amp;&amp; dat.DajMjesec()==datum.DajMjesec() &amp;&amp; dat.DajGodinu()==datum.DajGodinu())return true;
      else return false;
    });
    return brojac;
  }
  
  int Prodaje::DajBrojProdajaOdAgenta(const std::string &amp;ime_agenta) const{
    int brojac(0);
    for(int i=0;i&lt;broj_prodatih;i++){
    if(niz[i]-&gt;DajImeAgenta()==ime_agenta)brojac++;
    }
    return brojac;
  }
  Prodaje::Prodaje(const Prodaje &amp;prodaje) :dimenzija(prodaje.dimenzija),  broj_prodatih(prodaje.broj_prodatih) {
    Prodaja** niz(new Prodaja*[dimenzija]);
    for(int i=0;i&lt;broj_prodatih;i++)niz[i]=nullptr;
    try{
    for(int i=0;i&lt;dimenzija;i++)niz[i]=new Prodaja(*prodaje.niz[i]);
    }catch(...){
      for(int i=0;i&lt;dimenzija;i++)delete niz[i];
      delete [] niz;
    }
  }
  Prodaje::Prodaje(Prodaje &amp;&amp;prodaje) : dimenzija(prodaje.dimenzija), broj_prodatih(prodaje.broj_prodatih) {
    prodaje.niz=nullptr;
  }
  Prodaje &amp;Prodaje::operator =(const Prodaje &amp;prodaje){
    if(&amp;prodaje==this)return *this;
    for(int i=0;i&lt;broj_prodatih;i++)delete niz[i];
    delete []niz;
    dimenzija=prodaje.dimenzija; broj_prodatih=prodaje.broj_prodatih;
    niz=new Prodaja*[dimenzija];
    for(int i=0;i&lt;broj_prodatih;i++)niz[i]=new Prodaja(*prodaje.niz[i]);
  }
  Prodaje &amp;Prodaje::operator =(Prodaje &amp;&amp;prodaje){
    std::swap(dimenzija,prodaje.dimenzija);
    std::swap(broj_prodatih,prodaje.broj_prodatih);
    std::swap(niz,prodaje.niz);
  }
  Prodaja &amp;Prodaje::DajNajranijuProdaju(){
    auto p=std::min_element(niz,niz+broj_prodatih, [] (Prodaja* prodaja, Prodaja* prodaja2){
     if(ProdatPrije(*prodaja,*prodaja2)==true)return true;
      else return false;
    });
    return **p;
  }
  Prodaja Prodaje::DajNajranijuProdaju() const{
    auto p=std::min_element(niz,niz+broj_prodatih, [] (Prodaja* prodaja, Prodaja* prodaja2){
     if(ProdatPrije(*prodaja,*prodaja2)==true)return true;
      else return false;
    });
    return **p;
  }
  Prodaja &amp;Prodaje::DajNajskupljuProdaju(){
    auto p=std::max_element(niz,niz+broj_prodatih,[] (Prodaja* prodaja1, Prodaja* prodaja2){
      if(SkupljiStan(*prodaja1,*prodaja2)==true)return true;
      else return false;
    });
    return **p;
  }
  Prodaja Prodaje::DajNajskupljuProdaju() const{
    auto p=std::max_element(niz,niz+broj_prodatih,[] (Prodaja* prodaja1, Prodaja* prodaja2){
      if(SkupljiStan(*prodaja1,*prodaja2)==true)return true;
      else return false;
    });
    return **p;
  }
    void Prodaje::IsprazniKolekciju(){
      for(int i=0;i&lt;broj_prodatih;i++)delete niz[i];
      delete[] niz;
    }
     void Prodaje::ObrisiNajranijuProdaju(){
       if(broj_prodatih==0)throw std::range_error("Prazna kolekcija");
       Prodaja p=this-&gt;DajNajranijuProdaju();
       for(int i=0;i&lt;broj_prodatih;i++){
         if(niz[i]-&gt;DajDatumProdaje().DajGodinu()==p.DajDatumProdaje().DajGodinu() &amp;&amp; niz[i]-&gt;DajDatumProdaje().DajMjesec()==p.DajDatumProdaje().DajMjesec() &amp;&amp; niz[i]-&gt;DajDatumProdaje().DajDan()==p.DajDatumProdaje().DajDan()){ delete niz[i];
         for(int k=i;k&lt;broj_prodatih;k++){
           Prodaja *prodaja=niz[k];
           niz[k]=niz[k+1];
           niz[k+1]=prodaja;
          }
          broj_prodatih--;
        }
      }
    }
    void Prodaje::ObrisiProdajeAgenta(const std::string &amp;ime_agenta){
      for(int i=0;i&lt;broj_prodatih;i++){
        if(niz[i]-&gt;DajImeAgenta()==ime_agenta){
          delete niz[i];
          for(int k=i;k&lt;broj_prodatih;k++){
           Prodaja *prodaja=niz[k];
           niz[k]=niz[k+1];
           niz[k+1]=prodaja;
          }
          broj_prodatih--;
        }
      }
    }
    void Prodaje::ObrisiProdajeNaDatum(const Datum &amp;datum){
       Prodaja p=this-&gt;DajNajranijuProdaju();
       Datum dat=p.DajDatumProdaje();
       for(int i=0;i&lt;broj_prodatih;i++){
<a name="7"></a><font color="#0000FF"><a href="match893-1.html#7" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_0.gif"/></a>

         if(niz[i]-&gt;DajDatumProdaje().DajGodinu()==dat.DajGodinu() &amp;&amp; niz[i]-&gt;DajDatumProdaje().DajMjesec()==dat.DajMjesec() &amp;&amp; niz[i]-&gt;DajDatumProdaje().DajDan()==dat.DajDan()){delete niz[i];
</font>         for(int k=i;k&lt;broj_prodatih;k++){
           Prodaja *prodaja=niz[k];
           niz[k]=niz[k+1];
           niz[k+1]=prodaja;
          }
         broj_prodatih--;
         }
       }
    }
    void Prodaje::IspisiProdajeNaDatum(const Datum &amp;datum) const{
<a name="0"></a><font color="#FF0000"><a href="match893-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_1.gif"/></a>

      std::vector&lt;Prodaja&gt; v;
      for(int i=0;i&lt;broj_prodatih;i++){
        if(niz[i]-&gt;DajDatumProdaje().DajGodinu()==datum.DajGodinu() &amp;&amp; niz[i]-&gt;DajDatumProdaje().DajMjesec()==datum.DajMjesec() &amp;&amp; niz[i]-&gt;DajDatumProdaje().DajDan()==datum.DajDan())v.push_back(*niz[i]);
      }
      std::sort(v.begin(),v.end(), [] (Prodaja p1, Prodaja p2){
</font>        if(p1.DajImeAgenta()&gt;p2.DajImeAgenta())return true;
        else return false;
      });
      for(int i=0;i&lt;v.size();i++){
        v[i].Ispisi();
        //std::cout  &lt;&lt; std::endl;
      }
    }
      void Prodaje::IspisiSveProdaje() const{
        std::sort(niz,niz+dimenzija, [] (Prodaja *p1, Prodaja *p2){
          if(p1-&gt;DajDatumProdaje().DajGodinu()==p2-&gt;DajDatumProdaje().DajGodinu() &amp;&amp; p1-&gt;DajDatumProdaje().DajMjesec()==p2-&gt;DajDatumProdaje().DajMjesec() &amp;&amp; p1-&gt;DajDatumProdaje().DajDan()==p2-&gt;DajDatumProdaje().DajDan()){if(p1-&gt;DajImeKupca()&gt;p2-&gt;DajImeKupca())return true;
            else return false;
          }
          if(ProdatPrije(*p1,*p2)==true)return true;
          else return false;
        });
        for(int i=0;i&lt;broj_prodatih;i++)niz[i]-&gt;Ispisi();
      }
    
  
int main ()
{
  try{
    std::cout &lt;&lt; "Dobrodosli!" &lt;&lt; std::endl&lt;&lt;std::endl;
    int n;
    int daLiJePrekinuto(0);
    std::vector&lt;Stan&gt; v;
    std::vector&lt;Kupac&gt; k;
<a name="13"></a><font color="#00FFFF"><a href="match893-1.html#13" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_0.gif"/></a>

    std::vector&lt;Prodaja&gt; p;
    do{
      std::cout &lt;&lt;"Izaberite opciju:" &lt;&lt; std::endl&lt;&lt;" 0 - kraj" &lt;&lt;std::endl&lt;&lt;" 1 - uredjivanje stanova"&lt;&lt;std::endl&lt;&lt;" 2 - uredjivanje kupaca"&lt;&lt;std::endl&lt;&lt;" 3 - uredjivanje prodaja"&lt;&lt;std::endl;
</font>      std::cin &gt;&gt; n;
      if(n==0){std::cout &lt;&lt; std::endl&lt;&lt;std::endl&lt;&lt;"Dovidjenja!";break;}
      if(n==1){
        int opcija;
        do{
        std::cout &lt;&lt;std::endl&lt;&lt;"Izaberite opciju:" &lt;&lt; std::endl&lt;&lt;" 0 - nazad" &lt;&lt;std::endl&lt;&lt;" 1 - dodavanje stana"&lt;&lt;std::endl&lt;&lt;" 2 - uredjivanje stanova"&lt;&lt;std::endl&lt;&lt;" 3 - ispis svih stanova"&lt;&lt;std::endl&lt;&lt;" 4 - kraj"  &lt;&lt; std::endl;
        std::cin.ignore(10000,'\n');
        std::cin.clear();
        std::cin&gt;&gt;opcija;
        if(opcija==0)break;
        if(opcija==1){
          int UspjesnoUnesen(0);
          do{
            UspjesnoUnesen=0;
          std::cin.ignore(10000,'\n');
          std::cin.clear();
          std::string adresa;
          std::cout &lt;&lt; "Unesite adresu: " ;
          std::getline(std::cin,adresa);
          std::cout&lt;&lt;"Unesite sprat: ";
          int sprat;
          std::cin&gt;&gt;sprat;
          std::cout &lt;&lt; "Unesite broj soba: ";
          int broj_soba;
          std::cin &gt;&gt; broj_soba;
          int namjesten;
          std::cout &lt;&lt; "Da li je stan namjesten (1 - da, 0 - ne): " ;
          std::cin &gt;&gt; namjesten;
          std::cout &lt;&lt; "Unesite kvadraturu: ";
          double kvadratura;
<a name="1"></a><font color="#00FF00"><a href="match893-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_0.gif"/></a>

          std::cin &gt;&gt; kvadratura;
          try{
          if(namjesten!=0 &amp;&amp; namjesten!=1)throw std::domain_error("Neispravan unos podataka.");
          Stan s(adresa,sprat,broj_soba,namjesten,kvadratura);
          v.push_back(s);
          std::cout &lt;&lt; "Stan je uspjesno dodan!" &lt;&lt; std::endl;
</font>          }catch(std::domain_error e){
            std::cout &lt;&lt; "Izuzetak: "&lt;&lt;e.what()&lt;&lt;" Molimo unesite opet." &lt;&lt; std::endl&lt;&lt;std::endl;
            UspjesnoUnesen=1;
          }
          }while(UspjesnoUnesen!=0);
        }
<a name="9"></a><font color="#FF00FF"><a href="match893-1.html#9" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_0.gif"/></a>

        if(opcija==2){
          std::cout &lt;&lt; "Odaberite stan. Dostupni stanovi su: " &lt;&lt; std::endl;
          for(int i=0;i&lt;v.size();i++){
</font>            std::cout &lt;&lt; " "&lt;&lt;i+1&lt;&lt;" - ";
            v[i].Ispisi() ;
          }
          std::cin.ignore(10000,'\n');
          std::cin.clear();
<a name="3"></a><font color="#00FFFF"><a href="match893-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_0.gif"/></a>

          int redni_broj_stana;
          std::cin&gt;&gt;redni_broj_stana;
          std::cout &lt;&lt;std::endl&lt;&lt;"Odaberite polje koje zelite urediti: "&lt;&lt; std::endl&lt;&lt;" 0 - nazad"&lt;&lt;std::endl&lt;&lt;" 1 - adresa"&lt;&lt;std::endl&lt;&lt;" 2 - sprat" &lt;&lt; std::endl&lt;&lt;" 3 - broj soba"&lt;&lt;std::endl&lt;&lt;" 4 - da li je stan namjesten"&lt;&lt;std::endl&lt;&lt;" 5 - kvadratura"&lt;&lt;std::endl&lt;&lt;" 6 - sve"&lt;&lt;std::endl;
</font>          int polje;
          std::cin &gt;&gt; polje;
          if(polje==0)continue;
          if(polje==1){
            std::cin.ignore(10000,'\n');
            std::cin.clear();
            std::string nova_adresa;
            std::cout &lt;&lt; "Unesite adresu: " ;
            std::getline(std::cin,nova_adresa);
            for(int i=0;i&lt;v.size();i++){
              if(redni_broj_stana==(i+1))v[i].Postavi(nova_adresa,v[i].DajSprat(),v[i].DajBrojSoba(),v[i].DajNamjesten(),v[i].DajKvadraturu());
            }
          }
          if(polje==2){
            int UspjesnoUnesen(0);
            do{
            UspjesnoUnesen=0;
            int novi_sprat;
            std::cin.ignore(10000,'\n');
            std::cin.clear();
            std::cout &lt;&lt; "Unesite sprat: " ;
            std::cin &gt;&gt; novi_sprat;
            try{
            for(int i=0;i&lt;v.size();i++){
              if(redni_broj_stana==(i+1))v[i].Postavi(v[i].DajAdresu(),novi_sprat,v[i].DajBrojSoba(),v[i].DajNamjesten(),v[i].DajKvadraturu());
            }
            }catch(std::domain_error e){
                std::cout &lt;&lt; "Izuzetak: "&lt;&lt;e.what()&lt;&lt;" Molimo unesite opet."&lt;&lt;std::endl;
                  UspjesnoUnesen=1;
            }
            }while(UspjesnoUnesen!=0);
          }
          if(polje==3){
            int UspjesnoUnesen(0);
            do{
              UspjesnoUnesen=0;
              int novi_broj_soba;
              std::cin.ignore(10000,'\n');
              std::cin.clear();
              std::cout &lt;&lt; "Unesite broj soba: ";
              std::cin &gt;&gt;novi_broj_soba;
              try{
              for(int i=0;i&lt;v.size();i++){
              if(redni_broj_stana==(i+1))v[i].Postavi(v[i].DajAdresu(),v[i].DajSprat(),novi_broj_soba,v[i].DajNamjesten(),v[i].DajKvadraturu());
            }
            }catch(std::domain_error e){
                std::cout &lt;&lt; "Izuzetak: "&lt;&lt;e.what()&lt;&lt;" Molimo unesite opet." &lt;&lt;std::endl;
                  UspjesnoUnesen=1;
            }
            }while(UspjesnoUnesen!=0);
          }
          if(polje==4){
            int UspjesnoUnesen(0);
            do{
              UspjesnoUnesen=0;
              int novi_namjesten;
              std::cin.ignore(10000,'\n');
              std::cin.clear();
              try{
              std::cout &lt;&lt; "Da li je stan namjesten (1 - da, 0 - ne): " ;
              std::cin &gt;&gt;novi_namjesten;
              if(novi_namjesten!=0 || novi_namjesten!=1)throw std::domain_error("Neispravan unos podataka.");
              for(int i=0;i&lt;v.size();i++){
              if(redni_broj_stana==(i+1))v[i].Postavi(v[i].DajAdresu(),v[i].DajSprat(),v[i].DajBrojSoba(),novi_namjesten,v[i].DajKvadraturu());
            }
            }catch(std::domain_error e){
                std::cout &lt;&lt; "Izuzetak: "&lt;&lt;e.what()&lt;&lt;" Molimo unesite opet." &lt;&lt;std::endl;
                  UspjesnoUnesen=1;
            }
            }while(UspjesnoUnesen!=0);
          }
          if(polje==5){
            int UspjesnoUnesen(0);
            do{
              UspjesnoUnesen=0;
              double nova_kvadratura;
              std::cin.ignore(10000,'\n');
              std::cin.clear();
              std::cout &lt;&lt; "Unesite kvadraturu: ";
              std::cin &gt;&gt;nova_kvadratura;
            try{
              for(int i=0;i&lt;v.size();i++){
              if(redni_broj_stana==(i+1))v[i].Postavi(v[i].DajAdresu(),v[i].DajSprat(),v[i].DajBrojSoba(),v[i].DajNamjesten(),nova_kvadratura);
            }
            }catch(std::domain_error e){
                std::cout &lt;&lt; "Izuzetak: "&lt;&lt;e.what()&lt;&lt;" Molimo unesite opet." &lt;&lt;std::endl;
                  UspjesnoUnesen=1;
            }
            }while(UspjesnoUnesen!=0);
          }
          if(polje==6){
            int UspjesnoUnesen(0);
          do{
            UspjesnoUnesen=0;
          std::cin.ignore(10000,'\n');
          std::cin.clear();
          std::string adresa;
          std::cout &lt;&lt; "Unesite adresu: " ;
          std::getline(std::cin,adresa);
          std::cout&lt;&lt;"Unesite sprat: ";
          int sprat;
          std::cin&gt;&gt;sprat;
          std::cout &lt;&lt; "Unesite broj soba: ";
          int broj_soba;
          std::cin &gt;&gt; broj_soba;
          int namjesten;
          std::cout &lt;&lt; "Da li je stan namjesten (1 - da, 0 - ne): " ;
          std::cin &gt;&gt; namjesten;
          std::cout &lt;&lt; "Unesite kvadraturu: ";
          double kvadratura;
          std::cin &gt;&gt; kvadratura;
          try{
          if(namjesten!=0 &amp;&amp; namjesten!=1)throw std::domain_error("Neispravan unos podataka.");
          for(int i=0;i&lt;v.size();i++){
            if(redni_broj_stana==(i+1))v[i].Postavi(adresa,sprat,broj_soba,namjesten,kvadratura);
          }
          }catch(std::domain_error e){
            std::cout &lt;&lt; "Izuzetak: "&lt;&lt;e.what()&lt;&lt;" Molimo unesite opet." &lt;&lt; std::endl&lt;&lt;std::endl;
            UspjesnoUnesen=1;
          }
          }while(UspjesnoUnesen!=0);
          }
        }
<a name="14"></a><font color="#FF00FF"><a href="match893-1.html#14" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_0.gif"/></a>

        if(opcija==3){
          for(int i=0;i&lt;v.size();i++){
            std::cout &lt;&lt; i+1&lt;&lt;". ";
</font>            v[i].Ispisi();
          }
        }
        if(opcija==4){daLiJePrekinuto=1;break;}
        
        }while(opcija!=4);
      }
        if(n==2){
        int opcija;
        do{
        std::cout &lt;&lt;std::endl&lt;&lt;"Izaberite opciju:" &lt;&lt; std::endl&lt;&lt;" 0 - nazad" &lt;&lt;std::endl&lt;&lt;" 1 - dodavanje kupca"&lt;&lt;std::endl&lt;&lt;" 2 - uredjivanje kupaca"&lt;&lt;std::endl&lt;&lt;" 3 - ispis svih kupaca"&lt;&lt;std::endl&lt;&lt;" 4 - kraj"  &lt;&lt; std::endl;
        std::cin.ignore(10000,'\n');
        std::cin.clear();
        std::cin&gt;&gt;opcija;
        if(opcija==0)break;
        if(opcija==1){
          int UspjesnoUnesen(0);
          do{
            UspjesnoUnesen=0;
            std::cout &lt;&lt; "Unesite ime i prezime kupca: ";
            std::cin.ignore(10000,'\n');
            std::cin.clear();
            std::string ime_i_prezime;
            std::getline(std::cin,ime_i_prezime);
            std::cout &lt;&lt; "Unesite datum rodjenja (formata d/m/g): ";
            int dan,mjesec,godina;
            char znak,znak2;
            std::cin &gt;&gt; dan &gt;&gt;znak&gt;&gt;mjesec&gt;&gt;znak2&gt;&gt;godina ;
            try{
              Datum datum=Datum(dan,mjesec,godina);
              Kupac kupac=Kupac(ime_i_prezime,datum);
              k.push_back(kupac);
              std::cout &lt;&lt; "Kupac je uspjesno dodan!" &lt;&lt; std::endl;
            }catch(std::domain_error e){
              std::cout &lt;&lt; "Izuzetak: "&lt;&lt;e.what()&lt;&lt;" Molimo unesite opet." &lt;&lt; std::endl;
              UspjesnoUnesen=1;
            }
          }while(UspjesnoUnesen!=0);
        }
        if(opcija==2){
          int UspjesnoUnesen(0);
          std::cout &lt;&lt; "Odaberite kupca kojeg zelite urediti. Dostupni kupci su:" &lt;&lt; std::endl;
          for(int i=0;i&lt;k.size();i++){
            std::cout &lt;&lt;" "&lt;&lt; i+1&lt;&lt;" - " ;
            k[i].Ispisi();
          }
          int redni_broj_kupca;
          std::cin &gt;&gt; redni_broj_kupca;
          do{
          UspjesnoUnesen=0;
          std::cin.ignore(1000,'\n');
          std::cin.clear();
          std::cout &lt;&lt; "Unesite ime i prezime kupca: ";
          std::string novo_ime;
          std::getline(std::cin,novo_ime);
          int dan,mjesec,godina;
          char znak1,znak2;
<a name="15"></a><font color="#FF0000"><a href="match893-1.html#15" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_0.gif"/></a>

          std::cout&lt;&lt;"Unesite datum rodjenja (formata d/m/g): ";
          std::cin &gt;&gt; dan&gt;&gt;znak1&gt;&gt;mjesec&gt;&gt;znak2&gt;&gt;godina;
          try{
          Datum datum=Datum(dan,mjesec,godina);
</font>          for(int i=0;i&lt;k.size();i++){
            if(redni_broj_kupca==(i+1)){k[i].Postavi(novo_ime,datum);}
          }
          std::cout &lt;&lt; "Kupac je uspjesno izmijenjen!" &lt;&lt; std::endl;
          }catch(std::domain_error e){
            std::cout &lt;&lt; "Izuzetak: "&lt;&lt;e.what()&lt;&lt;"Molimo unesite opet." &lt;&lt; std::endl;
            UspjesnoUnesen=1;
          }
          }while(UspjesnoUnesen!=0);
        }
        if(opcija==3){
          for(int i=0;i&lt;k.size();i++)k[i].Ispisi();
        }
        if(opcija==4){daLiJePrekinuto=1;break;}
        }while(opcija!=4);
        }
        if(n==3){
          int opcija;
          do{
            std::cout &lt;&lt;std::endl&lt;&lt;"Izaberite opciju:" &lt;&lt; std::endl&lt;&lt;" 0 - nazad" &lt;&lt;std::endl&lt;&lt;" 1 - dodavanje prodaje"&lt;&lt;std::endl&lt;&lt;" 2 - uredjivanje prodaje"&lt;&lt;std::endl&lt;&lt;" 3 - ispis prodaja"&lt;&lt;std::endl&lt;&lt;" 4 - brisanje prodaja"  &lt;&lt; std::endl&lt;&lt;" 5 - kraj"&lt;&lt;std::endl;
            std::cin.ignore(1000,'\n');
            std::cin.clear();
            std::cin&gt;&gt;opcija;
            if(opcija==0)break;
            if(opcija==1){
               int opcija2;
              do{
              std::cout &lt;&lt; std::endl&lt;&lt;"Izaberite opciju:" &lt;&lt; std::endl&lt;&lt;" 0 - nazad"&lt;&lt;std::endl&lt;&lt;" 1 - dodavanje potpuno nove prodaje"&lt;&lt;std::endl&lt;&lt;" 2 - dodavanje nove prodaje na osnovu arhive"&lt;&lt;std::endl&lt;&lt;" 3 - kraj"&lt;&lt;std::endl;
              std::cin &gt;&gt; opcija2;
              if(opcija2==0)break;
              if(opcija2==1){
                int UspjesnoUnesen(0);
                do{
                  UspjesnoUnesen=0;
                std::cout &lt;&lt; "Unesite ime i prezime agenta prodaje: ";
                std::string novo_ime_agenta;
                std::getline(std::cin,novo_ime_agenta);
                std::cout &lt;&lt; "Unesite datum prodaje (formata d/m/g): ";
                int dan,mjesec,godina;
                char znak1,znak2;
                std::cin&gt;&gt;dan&gt;&gt;znak1&gt;&gt;mjesec&gt;&gt;znak2&gt;&gt;godina;
                try{
                  Datum datum=Datum(dan,mjesec,godina);
                  std::cout &lt;&lt; "Unesite cijenu stana: ";
                  int cijena;
                  std::cin &gt;&gt; cijena;
                  std::cout &lt;&lt; "Unesite ime kupca: " ;
                  std::cin.ignore(10000,'\n');
                  std::cin.clear();
                  std::string novo_ime_kupca;
                  std::getline(std::cin,novo_ime_kupca);
                  std::cout &lt;&lt; "Unesite datum rodjenja kupca (formata d/m/g): ";
                  int dan1,mjesec1,godina1;
                  char znak3,znak4;
                  std::cin &gt;&gt; dan1&gt;&gt;znak3&gt;&gt;mjesec1&gt;&gt;znak4&gt;&gt;godina1;
                  Datum datum_kupca=Datum(dan1,mjesec1,godina1);
                  Kupac kupac=Kupac(novo_ime_kupca,datum_kupca);
                  std::cout&lt;&lt;"Unesite adresu: ";
                  std::string adresa_stanovanja;
                  std::cin.ignore(1000,'\n');
                  std::cin.clear();
                  std::getline(std::cin,adresa_stanovanja);
                  std::cout&lt;&lt;"Unesite sprat: ";
                  int sprat;
                  std::cin &gt;&gt; sprat;
                  std::cout &lt;&lt; "Unesite broj soba: " ;
                  int broj_soba;
                  std::cin &gt;&gt; broj_soba;
                  std::cout &lt;&lt; "Da li je stan namjesten (1 - da, 0 - ne): ";
                  int namjesten_stan;
                  std::cin &gt;&gt; namjesten_stan;
                  std::cout &lt;&lt; "Unesite kvadraturu: ";
                  double kvadratura;
                  std::cin&gt;&gt;kvadratura;
                  if(namjesten_stan!=0 &amp;&amp; namjesten_stan!=1)throw std::domain_error("Neispravan unos podataka.");
                  Stan trenutni=Stan(adresa_stanovanja,sprat,broj_soba,namjesten_stan,kvadratura);
                  Prodaja prodaja=Prodaja(novo_ime_agenta,cijena,datum,kupac,trenutni);
                  p.push_back(prodaja);
                  std::cout &lt;&lt; "Prodaja uspjesno dodana!" &lt;&lt; std::endl;
                  }catch(std::domain_error e){
                  std::cout &lt;&lt; "Izuzetak: "&lt;&lt; e.what()&lt;&lt;" Molimo unesite opet." &lt;&lt; std::endl;
                  UspjesnoUnesen=1;
                }
                
              }while(UspjesnoUnesen!=0);
            }
            if(opcija2==2){
               int UspjesnoUnesen(0);
               std::cin.ignore(1000,'\n');
               std::cin.clear();
                do{
                  UspjesnoUnesen=0;
                std::cout &lt;&lt; "Unesite ime i prezime agenta prodaje: ";
               
                std::string novo_ime_agenta;
                std::getline(std::cin,novo_ime_agenta);
                std::cout &lt;&lt; "Unesite datum prodaje (formata d/m/g): ";
                int dan,mjesec,godina;
                char znak1,znak2;
                std::cin&gt;&gt;dan&gt;&gt;znak1&gt;&gt;mjesec&gt;&gt;znak2&gt;&gt;godina;
                try{
                  std::cout &lt;&lt; "Unesite cijenu stana: ";
                  int cijena;
<a name="4"></a><font color="#FF00FF"><a href="match893-1.html#4" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_0.gif"/></a>

                  std::cin &gt;&gt; cijena;
                  /*std::cin.ignore(1000,'\n');
                  std::cin.clear();*/
                  std::cout &lt;&lt; "Odaberite kupca. Dostupni kupci su:" &lt;&lt; std::endl;
                  for(int i=0;i&lt;k.size();i++){
                    std::cout &lt;&lt;" "&lt;&lt; i+1&lt;&lt;" - " ;
</font>                    k[i].Ispisi();
                  }
<a name="2"></a><font color="#0000FF"><a href="match893-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_0.gif"/></a>

                  int redni_broj_kupca;
                  /*std::cin.ignore(10000,'\n');
                  std::cin.clear();*/
                  std::cin &gt;&gt; redni_broj_kupca;
                  std::cout &lt;&lt; "Odaberite stan. Dostupni stanovi su:" &lt;&lt; std::endl;
                  for(int i=0;i&lt;v.size();i++){
                    std::cout &lt;&lt;" "&lt;&lt; i+1&lt;&lt;" - ";
</font>                    v[i].Ispisi();
                  }
                  int redni_broj_stana;
                  std::cin &gt;&gt; redni_broj_stana;
                  std::string ime_kupca;
                  int d,m,g;
                  for(int i=0;i&lt;k.size();i++){
                    if((i+1)==redni_broj_kupca){
                      d=k[i].DajDatumRodjenja().DajDan();
                      m=k[i].DajDatumRodjenja().DajMjesec();
                      g=k[i].DajDatumRodjenja().DajMjesec();
                      ime_kupca=k[i].DajImePrezime();
                    }
                  }
                  Datum datum=Datum(d,m,g);
                  std::string Adresa;
                  int sprat,soba,namjesten;
                  double kvadrat;
                  for(int i=0;i&lt;v.size();i++){
                    if((i+1)==redni_broj_stana){
                      Adresa=v[i].DajAdresu();
                      sprat=v[i].DajSprat();
                      soba=v[i].DajBrojSoba();
                      namjesten=v[i].DajNamjesten();
                      kvadrat=v[i].DajKvadraturu();
                    }
                  }
                  Prodaja prod=Prodaja(novo_ime_agenta,cijena,dan,mjesec,godina,ime_kupca,datum,Adresa,sprat,soba,namjesten,kvadrat);
                  p.push_back(prod);
                  std::cout &lt;&lt; "Prodaja uspjesno dodana!" &lt;&lt; std::endl;
                }catch(std::domain_error e){
                  std::cout &lt;&lt; "Izuzetak: "&lt;&lt;e.what()&lt;&lt;" Molimo unesite opet." &lt;&lt; std::endl;
                  UspjesnoUnesen=1;
                }
                }while(UspjesnoUnesen!=0);
              }
              if(opcija2==3){daLiJePrekinuto=1;break;}
            }while(opcija2!=3);
            }
<a name="10"></a><font color="#FF0000"><a href="match893-1.html#10" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_0.gif"/></a>

            if(opcija==2){
              std::cout &lt;&lt; "Odaberite prodaju koju zelite izmijeniti. Dostupne prodaje su: " &lt;&lt; std::endl;
              for(int i=0;i&lt;p.size();i++){
</font>                std::cout &lt;&lt;" "&lt;&lt; i+1&lt;&lt;" - " &lt;&lt; std::endl;
                p[i].Ispisi();
              }
              int odaberi,zapamcena_prodaja;
              std::cin &gt;&gt; zapamcena_prodaja;
              std::cout &lt;&lt; std::endl&lt;&lt;"Izaberite opciju: " &lt;&lt; std::endl&lt;&lt;" 0 - nazad"&lt;&lt;std::endl&lt;&lt;" 1 - izmjena agenta"&lt;&lt;std::endl&lt;&lt;" 2 - izmjena datuma prodaje"&lt;&lt;std::endl&lt;&lt;" 3 - izmjena kupca"&lt;&lt;std::endl&lt;&lt;" 4 - izmjena stana"&lt;&lt;std::endl&lt;&lt;" 5 - izmjena cijene stana"&lt;&lt;std::endl;
              std::cin &gt;&gt; odaberi;
              if(odaberi==1){
              std::cout &lt;&lt; "Unesite ime i prezime agenta prodaje: ";
              std::string novo_ime_agenta;
              std::getline(std::cin,novo_ime_agenta);
              /*for(int i=0;i&lt;p.size();i++){
                if((i+1)==zapamcena_prodaja){
                  
                //  p[i]=Prodaja(novo_ime_agenta,p[i].DajCijenuStana(),p[i].DajDatumProdaje(),p[i].DajImeKupca(),p[i].DajAdresu())
                }
              }*/
              std::cout &lt;&lt; "Prodaja je uspjesno izmijenjena!" &lt;&lt; std::endl;
              std::cin.ignore(1000,'\n');
              std::cin.clear();
              }
              if(odaberi==2){
                std::cout &lt;&lt; "Unesite datum prodaje (formata d/m/g): ";
                int dan,mj,god;
                char znak1,znak2;
                std::cin &gt;&gt; dan&gt;&gt;znak1&gt;&gt;mj&gt;&gt;znak2&gt;&gt;god;
                try{
                Datum dat=Datum(dan,mj,god);
                for(int i=0;i&lt;p.size();i++){
                  if((i+1)==zapamcena_prodaja)p[i].PromijeniDatumKupovine(dat);
                }
                std::cout &lt;&lt; "Prodaja je uspjesno izmijenjena!" &lt;&lt; std::endl;

                }catch(std::domain_error e){
                  std::cout &lt;&lt; "Izuzetak: "&lt;&lt;e.what()&lt;&lt;" Molimo unesite opet." &lt;&lt; std::endl;
                }
              }
              if(odaberi==3){
                std::cout &lt;&lt; std::endl&lt;&lt;"Izaberite opciju:"&lt;&lt;std::endl&lt;&lt;" 0 - nazad"&lt;&lt;std::endl&lt;&lt;" 1 - odabir postojeceg kupca"&lt;&lt;std::endl&lt;&lt;" 2 - dodavanje novog kupca " &lt;&lt; std::endl;
                int novi;
                std::cin &gt;&gt; novi;
                if(novi==0)break;
<a name="11"></a><font color="#00FF00"><a href="match893-1.html#11" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_0.gif"/></a>

                if(novi==1){
                  std::cout &lt;&lt; "Odaberite kupca. Dostupni kupci su:" &lt;&lt; std::endl;
                  for(int i=0;i&lt;k.size();i++)k[i].Ispisi();
</font>                  int najnoviji;
                  std::cin &gt;&gt; najnoviji;
                  for(int i=0;i&lt;k.size();i++){
                    if((i+1)==najnoviji)p[zapamcena_prodaja].PromijeniKupca(k[i]);
                  }
                  std::cout &lt;&lt; "Prodaja je uspjesno izmijenjena!" &lt;&lt; std::endl;
                }
                if(novi==2){
                  std::cout &lt;&lt; "Unesite ime i prezime kupca:" ;
                  std::string novo_ime_kupca;
                  std::getline(std::cin,novo_ime_kupca);
                  std::cin.ignore(10000,'\n');
                  std::cin.clear();
                  std::cout &lt;&lt; "Unesite datum rodjenja (formata dan/mjesec/godina):" ;
                  int d,m,g;
<a name="5"></a><font color="#FF0000"><a href="match893-1.html#5" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_0.gif"/></a>

                  char znak1,znak2;
                  std::cin &gt;&gt; d&gt;&gt;znak1&gt;&gt;m&gt;&gt;znak2&gt;&gt;g;
                  try {
                    Datum dat(d,m,g);
                    Kupac kup(novo_ime_kupca,dat);
</font>                    for(int i=0;i&lt;p.size();i++){
                      if((i+1)==zapamcena_prodaja)p[i].PromijeniKupca(kup);
                    }
                  std::cout &lt;&lt; "Prodaja je uspjesno izmijenjena!" &lt;&lt; std::endl;
                  }
                  catch (std::domain_error e) {
                    std::cout &lt;&lt; "Izuzetak: "&lt;&lt;e.what() &lt;&lt;" Molimo unesite opet."&lt;&lt; std::endl;
                  }
                  
                }
                  
                }
                if(odaberi==5){
                  std::cout &lt;&lt; "Unesite cijenu stana: ";
                  int cijena;
                  std::cin &gt;&gt; cijena;
                  for(int i=0;i&lt;p.size();i++){
                    if((i+1)==zapamcena_prodaja)p[i].PromijeniCijenuProdaje(cijena);
                  }
                  
                }
              }
            //}
            if(opcija==3){
              for(int i=0;i&lt;p.size();i++){
                std::cout &lt;&lt; i+1&lt;&lt;". " &lt;&lt;std::endl;
                p[i].Ispisi();
              }
            }
            //if(opcija==4)
        }while(opcija!=5);
        }
      if(daLiJePrekinuto==1)break;
      if(n==0)break;
    }while(n!=0);

  }catch(std::range_error e){
    std::cout &lt;&lt; e.what() &lt;&lt; std::endl;
  }catch(...){
    std::cout &lt;&lt; "Problemi sa memorijom" &lt;&lt; std::endl;
  }
	return 0;
}</pre>
</body>
</html>
