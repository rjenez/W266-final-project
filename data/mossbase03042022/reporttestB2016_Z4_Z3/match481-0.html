<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z3/student3872.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z3/student3872.cpp<p></p><pre>
<a name="2"></a><font color="#0000FF"><a href="match481-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_5.gif"/></a>

/B 2016/2017, ZadaÄ‡a 4, Zadatak 3
//Napomena: testovi ce biti dostupni dan pred rok!
#include &lt;iostream&gt;
#include&lt;algorithm&gt;
#include&lt;string&gt;
#include&lt;iomanip&gt;
#include&lt;stdexcept&gt;
#include&lt;cstring&gt;
using namespace std;
class Datum
{
 int d, m, g;
   public:
   Datum(int dan, int mjesec, int godina);
   
   void Postavi(int dan, int mjesec, int godina);
   int DajDan() const { return d;}
   int DajMjesec() const { return m;}
   int DajGodinu() const { return g;}
   void Ispisi() const { cout&lt;&lt;d&lt;&lt;"/"&lt;&lt;m&lt;&lt;"/"&lt;&lt;g;}
};

Datum::Datum(int dan, int mjesec, int godina)
</font>{
    if(dan&lt;1 || dan&gt;31 || mjesec&lt;1 ||mjesec&gt;12 || godina&gt;2017 || godina&lt;0) throw domain_error("Neispravan datum");
    int broj_dana[] { 31, 28, 31, 30, 31, 30, 31, 31,30, 31, 30, 31};
    if((godina%4==0 &amp;&amp; godina %100!=0) || godina%400==0) broj_dana[1]++;
<a name="7"></a><font color="#0000FF"><a href="match481-1.html#7" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_1.gif"/></a>

    if(dan&gt;broj_dana[mjesec-1]) throw domain_error("Neispravan datum");
    Datum::d=dan;
    Datum::m=mjesec;
    Datum::g=godina;
}
void Datum::Postavi(int dan, int mjesec, int godina)
</font>{
    if(dan&lt;1 ||dan&gt;31 ||mjesec&lt;1 || mjesec&gt;12 ||godina&gt;2017 ||godina&lt;0) throw domain_error("Neispravan datum");
  int broj_dana [] {31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31};
  if((godina%4==0 &amp;&amp; godina%100!=0) || godina%400==0) broj_dana[1]++;
<a name="6"></a><font color="#00FF00"><a href="match481-1.html#6" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_1.gif"/></a>

  if(dan&gt;broj_dana[mjesec-1]) throw domain_error("Neispravan datum");
  Datum::d=dan;
  Datum::m=mjesec;
  Datum::g=godina;
    
}

class Kupac
{ string ime_kupca;
Datum dat_rodjenja;
  public:
    Kupac( const string &amp;ime_i_prezime, const Datum &amp;datum_rodjenja):dat_rodjenja(datum_rodjenja) { ime_kupca=ime_i_prezime;}
</font>    void Postavi( const string &amp;ime_i_prezime, const Datum &amp;datum_rodjenja);
    string DajImeIPrezime() const { return ime_kupca;}
    Datum DajDatumRodjenja() const { return dat_rodjenja;}
  //  void Ispisi() const {  cout&lt;&lt;ime_kupca&lt;&lt;" ("&lt;&lt;dat_rodjenja-&gt;Ispisi()&lt;&lt;")"; }
    void Ispisi() const;
};

void Kupac::Postavi(const string &amp;ime_i_prezime, const Datum &amp;datum_rodjenja)
{
    dat_rodjenja=datum_rodjenja;
    ime_kupca=ime_i_prezime;
}
void Kupac::Ispisi() const
{
    Datum novi=DajDatumRodjenja();
    cout&lt;&lt;ime_kupca&lt;&lt;" (";
<a name="0"></a><font color="#FF0000"><a href="match481-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_11.gif"/></a>

    novi.Ispisi();
    cout&lt;&lt;")";
}


class Stan
{

    string adresa;
    int sprat, broj_soba;
    bool namjesten;
    double kvadratura;
    public:
    Stan(const string &amp;adresa, int sprat, int broj_soba,bool namjesten, double kvadratura);
    void Postavi(const string &amp;adresa, int sprat, int broj_soba, bool namjesten, double kvadratura);
    string DajAdresu() const { return adresa;}
    int DajSprat() const { return sprat;}
    int DajBrojSoba() const { return broj_soba;}
    bool DajNamjesten() const { return namjesten;}
    double DajKvadraturu() const { return kvadratura;}
    void Ispisi() const;
};
Stan::Stan(const string &amp;adresa, int sprat, int broj_soba, bool namjesten, double kvadratura)
{
    if(sprat&lt;0 || broj_soba&lt;0 || kvadratura&lt;0) throw domain_error("Neispravan unos podataka");
    Stan::adresa=adresa;
    Stan::sprat=sprat;
    Stan::broj_soba=broj_soba;
    Stan::namjesten=namjesten;
    Stan::kvadratura=kvadratura;
    
}
void Stan::Postavi(const string &amp;adresa, int sprat, int broj_soba, bool namjesten, double kvadratura)
{
    if(sprat&lt;0 ||broj_soba&lt;0 ||kvadratura&lt;0) throw domain_error("Neispravan unos podataka");
    Stan::adresa=adresa;
    Stan::sprat=sprat;
    Stan::broj_soba=broj_soba;
    Stan::namjesten=namjesten;
</font>    Stan::kvadratura=kvadratura;
}
void Stan::Ispisi() const
{
    if(broj_soba%10==1)
    {
        cout&lt;&lt;"Stan se nalazi na adresi "&lt;&lt;adresa&lt;&lt;" na "&lt;&lt;sprat&lt;&lt;". spratu i ima "&lt;&lt; broj_soba&lt;&lt;" sobu."&lt;&lt;endl;
        cout&lt;&lt;"Kvadratura stana je "&lt;&lt;kvadratura&lt;&lt;" (m^2) i stan ";
        if(namjesten) cout&lt;&lt;"je namjesten.";
        else if(!namjesten) cout&lt;&lt;"nije namjesten";
    }
    else if(broj_soba%10==2 ||broj_soba%10==3 || broj_soba%10==4)
    {
        cout&lt;&lt;"Stan se nalazi na adresi "&lt;&lt;adresa&lt;&lt;" na "&lt;&lt;sprat&lt;&lt;". spratu i ima "&lt;&lt; broj_soba&lt;&lt;" sobe."&lt;&lt;endl;
        cout&lt;&lt;"Kvadratura stana je "&lt;&lt;kvadratura&lt;&lt;" (m^2) i stan ";
        if(namjesten) cout&lt;&lt;"je namjesten.";
        else if(!namjesten) cout&lt;&lt;"nije namjesten";
    }
    else
    {
        cout&lt;&lt;"Stan se nalazi na adresi "&lt;&lt;adresa&lt;&lt;" na "&lt;&lt;sprat&lt;&lt;". spratu i ima "&lt;&lt; broj_soba&lt;&lt;" soba."&lt;&lt;endl;
        cout&lt;&lt;"Kvadratura stana je "&lt;&lt;kvadratura&lt;&lt;" (m^2) i stan ";
        if(namjesten) cout&lt;&lt;"je namjesten.";
<a name="3"></a><font color="#00FFFF"><a href="match481-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_4.gif"/></a>

        else if(!namjesten) cout&lt;&lt;"nije namjesten";
    }
}

class Prodaja
{
  string ime_agenta;
    double cijena;
    Datum dat_prodaje;
    Kupac kupac_objekta;
    Stan prodani_stan;
    public:
    Prodaja(const string &amp;ime_agenta_prodaje, double cijena_stana, const Datum &amp;datum_prodaje, const Kupac &amp;kupac_stana, const Stan &amp;kupljeni_stan);
    Prodaja(const string &amp;ime_agenta_prodaje, double cijena_stana, int dan_prodaje, int mjesec_prodaje, int godina_prodaje, string &amp;ime_kupca, const Datum &amp;datum_rodjenja_kupca, const string &amp;adresa_stana, int sprat_stana, int broj_soba, bool namjesten_stan, double broj_kvadrata );
    void PromijeniKupca(const Kupac &amp;novi_kupac) { kupac_objekta=novi_kupac;}
</font>    void PromijeniStan(const Stan &amp;novi_stan) { prodani_stan=novi_stan;}
    void PromijeniDatumKupovine(const Datum &amp;novi_datum) { dat_prodaje=novi_datum;}
    void PromijeniCijenuProdaje(const double &amp;nova_cijena) { cijena=nova_cijena;}
    void PomjeriDanUnaprijed();
    void PomjeriDanUnazad();
    Datum DajDatumProdaje() const { return dat_prodaje;}
    string DajImeAgenta() const { return ime_agenta;}
    string DajImeKupca() const { return kupac_objekta.DajImeIPrezime();}
    double DajCijenuStana() const { return cijena;}
   friend bool ProdatPrije(const Prodaja &amp;p1, const Prodaja &amp;p2);
    friend bool SkupljiStan(const Prodaja &amp;p1, const Prodaja &amp;p2);
    void Ispisi() const;
    
};
<a name="1"></a><font color="#00FF00"><a href="match481-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_5.gif"/></a>

 bool ProdatPrije(const Prodaja &amp;p1, const Prodaja &amp;p2)
 {
     Datum dat1(p1.DajDatumProdaje()), dat2(p2.DajDatumProdaje());
     int dan1(dat1.DajDan()), mjesec1(dat1.DajMjesec()), god1(dat1.DajGodinu());
     int dan2(dat2.DajDan()), mjesec2(dat2.DajMjesec()), god2(dat2.DajGodinu());
     if(god1&lt;god2) return true;
     else if(god1&gt;god2) return false;
     else if(god1==god2 &amp;&amp; mjesec1&lt;mjesec2) return true;
     else if(god1==god2 &amp;&amp; mjesec1&gt;mjesec2) return false;
     else if(god1==god2 &amp;&amp; mjesec1==mjesec2 &amp;&amp; dan1&lt;dan2) return true;
     else return false;
</font><a name="8"></a><font color="#00FFFF"><a href="match481-1.html#8" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_1.gif"/></a>

 }
Prodaja::Prodaja(const string &amp;ime_agenta_prodaje, double cijena_stana, const Datum &amp;datum_prodaje, const Kupac &amp;kupac_stana, const Stan &amp;kupljeni_stan):dat_prodaje(datum_prodaje),kupac_objekta(kupac_stana), prodani_stan(kupljeni_stan)
</font>{
    ime_agenta=ime_agenta_prodaje;
<a name="4"></a><font color="#FF00FF"><a href="match481-1.html#4" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_2.gif"/></a>

    cijena=cijena_stana;
    
}
Prodaja::Prodaja(const string &amp;ime_agenta_prodaje, double cijena_stana, int dan_prodaje, int mjesec_prodaje, int godina_prodaje, string &amp;ime_kupca, const Datum &amp;datum_rodjenja_kupca, const string &amp;adresa_stana, int sprat_stana, int broj_soba, bool namjesten_stan, double broj_kvadrata ):dat_prodaje(dan_prodaje,mjesec_prodaje, godina_prodaje), kupac_objekta(ime_kupca, datum_rodjenja_kupca), prodani_stan(adresa_stana, sprat_stana, broj_soba, namjesten_stan, broj_kvadrata)
</font>{
   ime_agenta=ime_agenta_prodaje;
    cijena=cijena_stana;
}
void Prodaja::PomjeriDanUnaprijed()
{
    int test_godine=dat_prodaje.DajGodinu();
    int test_mjeseci=dat_prodaje.DajMjesec();
    int test_dana=dat_prodaje.DajDan();
    int broj_dana[] { 31, 28, 31, 30, 31, 30, 31, 31,30, 31, 30, 31};
    if((test_godine%4==0 &amp;&amp; test_godine%100!=0) || (test_godine%400==0)) broj_dana[1]++;
    if(test_dana==broj_dana[test_mjeseci-1] &amp;&amp; test_mjeseci==12)
    {
        int dan=1, mjesec=1, godina=test_godine+1;
        Datum novi(dan, mjesec, godina);
        PromijeniDatumKupovine(novi);
    }
else    if(test_dana==broj_dana[test_mjeseci-1] &amp;&amp; test_mjeseci!=12)
    {
         int dan=1; int mjesec=test_mjeseci+1; int godina=test_godine;
        Datum novi(dan, mjesec, godina);
        PromijeniDatumKupovine(novi);
     
    }
     else 
     {
         int dan=test_dana+1; int mjesec=test_mjeseci; int godina=test_godine;
         Datum novi(dan, mjesec, godina);
         PromijeniDatumKupovine(novi);
     }
}
void Prodaja::PomjeriDanUnazad()
{
int test_godine=dat_prodaje.DajGodinu();
    int test_mjeseci=dat_prodaje.DajMjesec();
    int test_dana=dat_prodaje.DajDan();
    int broj_dana[] { 31, 28, 31, 30, 31, 30, 31, 31,30, 31, 30, 31};
    if((test_godine%4==0 &amp;&amp; test_godine%100!=0) || (test_godine%400==0)) broj_dana[1]++;
    if(test_dana==1 &amp;&amp; test_mjeseci==1)
    {
        int mjesec=12; int dan=31; int godina=test_godine-1;
        Datum novi(dan, mjesec, godina);
        PromijeniDatumKupovine(novi);
    }
    else if(test_dana==1 &amp;&amp; test_mjeseci!=1)
    {
        int mjesec=test_mjeseci-1; int dan=broj_dana[mjesec-1]; int godina=test_godine;
      Datum novi(dan, mjesec, godina);
     PromijeniDatumKupovine(novi);
        
    }
    else {
        int dan=test_dana-1; int mjesec=test_mjeseci; int godina=test_godine;
   Datum novi(dan, mjesec, godina);
<a name="5"></a><font color="#FF0000"><a href="match481-1.html#5" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_2.gif"/></a>

  PromijeniDatumKupovine(novi);
           
    }
}






bool SkupljiStan(const Prodaja &amp;p1, const Prodaja &amp;p2)
{
    return p1.cijena&gt;p2.cijena;
}
void Prodaja::Ispisi() const
{
    cout&lt;&lt;"Ime agenta: "&lt;&lt;setw(30)&lt;&lt;ime_agenta&lt;&lt;endl;
    cout&lt;&lt;"Ime kupca: "&lt;&lt;setw(32);kupac_objekta.Ispisi();
</font>    cout&lt;&lt;endl;
    cout&lt;&lt;"Zakazani datum prodaje: "&lt;&lt;setw(7);dat_prodaje.Ispisi();
    cout&lt;&lt;right;
    cout&lt;&lt;endl&lt;&lt;"Cijena stana: "&lt;&lt;setw(21)&lt;&lt;cijena&lt;&lt;endl;
    cout&lt;&lt;"Informacije o stanu: "&lt;&lt;endl;
    prodani_stan.Ispisi();
}

/*class Prodaje
{
      int broj_prodaja;
    int max_broj_prodaja;
    Prodaja **prodaje=nullptr;
    public:
    explicit Prodaje(int max_broj_prodaja):broj_prodaja(0), max_broj_prodaja(max_broj_prodaja), prodaje(new Prodaja*[max_broj_prodaja]){} //gotovo
    Prodaje(initializer_list&lt;Prodaja&gt; spisak_prodaja); //gotovo
    ~Prodaje(); //gotovo
    Prodaje(const Prodaje &amp;p); //gotovo
    Prodaje(Prodaje &amp;&amp;p); //gotovo
    Prodaje &amp;operator=(const Prodaje &amp;p); //gotovo
    Prodaje &amp;operator=(Prodaje &amp;&amp;p); //gotovo
    void RegistrirajProdaju(const string &amp;ime_agenta_prodaje, double cijena_stana, const Datum &amp;datum_prodaje, const Kupac &amp;kupac_stana, const Stan &amp;kupljeni_stan); //gotovo
    void RegistrirajProdaju(const string &amp;ime_agenta_prodaje, double cijena_stana, int dan_prodaje, int mjesec_prodaje, int godina_prodaje, string &amp;ime_kupca, const Datum &amp;datum_rodjenja_kupca, const string &amp;adresa_stana, int sprat_stana, int broj_soba, bool namjesten_stan, double broj_kvadrata ); //gotovo
void RegistrirajProdaju(Prodaja *prodaja); //gotovo
int DajBrojProdaja() { return broj_prodaja;} //gotovo
int DajBrojProdajaNaDatum(const Datum &amp;datum) const; //gotovo
int DajBrojProdajaOdAgenta(const string &amp;agent) const; //gotovo
Prodaja &amp;DajNajranijuProdaju(); //gotovo
Prodaja DajNajranijuProdaju() const; //gotovo
Prodaja &amp;DajNajskupljuProdaju(); //gotovo
Prodaja DajNajskupljuProdaju() const; //gotovo
void IsprazniKolekciju(); //gotovo
void ObrisiNajranijuProdaju();
void ObrisiProdajeAgenta(const string &amp;agent); //gotovo
void ObrisiProdajeNaDatum(const Datum &amp;datum); //gotovo
void IspisiProdajeNaDatum( const Datum &amp;datum); //gotovo
void IspisiSveProdaje() const; //gotovo

    
};

Prodaje::~Prodaje()
{
    if(prodaje!=nullptr)
    {
        for(int i=0;i&lt;broj_prodaja;i++)
        delete prodaje[i];
        delete []prodaje;
        prodaje=nullptr;
    }
}
/*
Prodaja &amp;Prodaje::DajNajranijuProdaju() 
{
    if(broj_prodaja==0) throw domain_error("Nema registriranih prodaja");
    return **min_element(prodaje, prodaje+broj_prodaja, ProdatPrije);
    
} 
Prodaja &amp;Prodaje::DajNajskupljuProdaju()
{
    if(broj_prodaja==0) throw domain_error("Nema registriranih prodaja");
    return **max_element(prodaje, prodaje+broj_prodaja, [](const Prodaja &amp;p1, const Prodaja &amp;p2)
    {
        return p1.DajCijenuStana()&lt;p2.DajCijenuStana();
    });
}

/*

Prodaja Prodaje::DajNajranijuProdaju() const
{
    if(broj_prodaja==0) throw domain_error("Nema registriranih prodaja");
    return **min_element(prodaje, prodaje+broj_prodaja, ProdatPrije);
    
 
    
}
Prodaja Prodaje::DajNajskupljuProdaju() const
{
    if(broj_prodaja==0) throw domain_error("Nema registriranih prodaja");
    return **max_element(prodaje, prodaje+broj_prodaja, [](const Prodaja &amp;p1, const Prodaja &amp;p2)
    {
        return p1.DajCijenuStana()&lt;p2.DajCijenuStana();
    });
 
} 

int Prodaje::DajBrojProdajaNaDatum(const Datum &amp;datum) const
{
    int brojac=0;
    for(int i=0;i&lt;broj_prodaja;i++)
    {
        Datum test=prodaje[i]-&gt;DajDatumProdaje();
        if(test.DajDan()==datum.DajDan() &amp;&amp; test.DajMjesec()==datum.DajMjesec() &amp;&amp; test.DajGodinu()==datum.DajGodinu())
        brojac++;
    }
    return brojac;
}
bool UporediStringove(const string &amp;s1, const string &amp;s2)
{
    if(s1.length()!=s2.length()) return false;
    for(int i=0;i&lt;s1.length();i++)
    {
        if(s1[i]!=s2[i]) return false;
    }
    return true;
}
int Prodaje::DajBrojProdajaOdAgenta(const string &amp;agent) const
{
    int brojac=0;
    for(int i=0;i&lt;broj_prodaja;i++)
    {
        if(UporediStringove(prodaje[i]-&gt;DajImeAgenta(), agent))
        brojac++;
    }
    return brojac;
    
}
void Prodaje::RegistrirajProdaju(Prodaja *prodaja)
{
    if(broj_prodaja==max_broj_prodaja) throw range_error("Dostignut maksimalni broj prodaja");
    prodaje[broj_prodaja++]=prodaja;
}
void Prodaje::RegistrirajProdaju(string &amp;ime_agenta_prodaje, double cijena_stana, const Datum  &amp;datum_prodaje, const Kupac &amp;kupac_stana, const Stan &amp;kupljeni_stan):dat_prodaje(datum_prodaje), kupac_objekta(kupac_stana), prodani_stan(kupljeni_stan)
{
    if(broj_prodaja==max_broj_prodaja) throw range_error("Dostignut maksimalni broj prodaja");
    try
    {
        prodaje[broj_prodaja++]=new Prodaja(ime_agenta_prodaje, cijena_stana, datum_prodaje, kupac_stana, prodani_stan)
    }
    catch(bad_alloc)
    {
        throw;
    }
}
void Prodaje::RegistrirajProdaju(string &amp;ime_agenta_prodaje, double cijena_stana,int dan_prodaje, int mjesec_prodaje, int godina_prodaje, string &amp;ime_kupca, const Datum &amp;datum_rodjenja,const string &amp;adresa_stana, int sprat_stana, int broj_soba, bool namjesten, double broj_kvadrata):dat_prodaje(dan_prodaje,mjesec_prodaje, godina_prodaje), kupac_objekta(ime_kupca, dat_rodjenja(datum_rodjenja)), prodani_stan(adresa_stana, sprat_stana, broj_soba, namjesten_stan, kvadratura)
{
    if(broj_prodaja==max_broj_prodaja) throw range_error("Dostignut maksimalni broj_prodaja");
    try
    {
        prodaje[broj_prodaja++]=new Prodaja(ime_agenta_prodaje, cijena_stana, dat_prodaje, kupac_objekta, prodani_stan);
    }
    catch(bad_alloc)
    {
        throw;
    }
    
}

Prodaje &amp;Prodaje::operator=(Prodaje &amp;&amp;p)
{
    if(&amp;p!=this)
    {
        for(int i=0;i&lt;broj_prodaja;i++)
        delete prodaje [i];
        delete [] prodaje;
        prodaje=p.prodaje;
        broj_prodaja=p.broj_prodaja;
        p.prodaje=nullptr;
        p.broj_prodaja=0;
    }
    return *this;
}
Prodaje &amp;Prodaje::operator =(const Prodaje &amp;p)
{
    try
    {
        if(p.max_broj_prodaja==max_broj_prodaja)
        {
            if(p.max_broj_prodaja&gt;broj_prodaja)
            {
                for(int i=0;i&lt;broj_prodaja;i++)
                *prodaje[i]=*p.prodaje[i];
                for(int i=broj_prodaja;i&lt;p.broj_prodaja;i++)
                prodaje[i]=nullptr;
                for(int i=broj_prodaja;i&lt;p.broj_prodaja;i++)
                prodaje[i]=new Prodaja(*p.prodaje[i]);
                
            }
            else
            {
                for(int i=0;i&lt;broj_prodaja;i++)
                delete prodaje[i];
                delete [] prodaje;
                prodaje=new Prodaja*[max_broj_prodaja];
            }
        } }
        catch(bad_alloc)
        {
            if(prodaje!=nullptr)
            {
                for(int i=0;i&lt;p.broj_prodaja;i++)
                delete prodaje[i];
                delete [] prodaje;
            }
            throw;
        }
        broj_prodaja=p.broj_prodaja;
        max_broj_prodaja=p.max_broj_prodaja;
        return *this;
    }
    Prodaje::Prodaje(Prodaje &amp;&amp;p):broj_prodaja(p.broj_prodaja), max_broj_prodaja(p.max_broj_prodaja), prodaje(p.prodaje)
    {
        p.prodaje=nullptr;
        p.broj_prodaja=0;
    }
    Prodaje::Prodaje(initializer_list&lt;Prodaja&gt; lista_prodaja):broj_prodaja(lista_prodaja.size()), max_broj_prodaja(lista_prodaja.size()), prodaje(new Prodaja*[lista_prodaja.size()])
{
    int i=0;
    int alocirano(0);
    try
    {
        for(auto it(lista_prodaja.begin()); it!=lista_prodaja.end(); it++, i++, alocirano++)
        prodaje[i]=new Prodaja(*it);
    }
    catch(bad_alloc)
    {
        if(prodaje!=nullptr)
        {
            for(int i=0;i&lt;alocirano;i++)
            delete prodaje[i];
            delete [] prodaje;
            throw;
        }
    }
}

Prodaje::Prodaje(const Prodaje &amp;p):broj_prodaja(p.broj_prodaja), max_broj_prodaja(p.max_broj_prodaja), prodaje(new Prodaja*[p.max_broj_prodaja])
{
    int alocirano(0);
    try {
    for(int i=0;i&lt;p.broj_prodaja;i++, alocirano++)
    {
        prodaje[i]=new Prodaja(*p.prodaje[i]);
    }
    catch(bad_alloc)
    {
        for(int i=0;i&lt;alocirano;i++)
        delete prodaje[i];
        delete [] prodaje;
    }
    }
    
    
}
void Prodaje::IsprazniKolekciju()
{
    for(int i=0;i&lt;broj_prodaja;i++)
    {
        delete prodaje[i];
        broj_prodaja=0;
    }
}
/*
void Prodaje::ObrisiNajranijuProdaju()
{
    Prodaja p=DajNajranijuProdaju();
    for(int i=0;i&lt;broj_prodaja;i++)
    {
        if(p==prodaje[i])
     {     delete prodaje[i]; broj_prodaja--; i--;
    }
}
}

void Prodaje::ObrisiProdajeAgenta(const string &amp;agent)

{
    for(int i=0;i&lt;broj_prodaja;i++)
    {
        if(UporediStringove(prodaje[i]-&gt;DajImeAgenta(), agent))
        {
            delete prodaje[i]; broj_prodaja--; i--;
        }
    }
}

void Prodaje::ObrisiProdajeNaDatum(const Datum &amp;datum)
{
    
    for(int i=0;i&lt;broj_prodaja;i++)
    {
           Datum novi=prodaje[i]-&gt;DajDatumProdaje();
           
             if(novi.DajDan()==datum.DajDan() &amp;&amp; novi.DajMjesec()==datum.DajMjesec() &amp;&amp; novi.DajGodinu()==datum.DajGodinu())

        {
            delete prodaje[i]; broj_prodaja--; i--;
        }
    }
}
void Prodaje::IspisiProdajeNaDatum( const Datum &amp;datum)
{
    for(int i=0;i&lt;broj_prodaja;i++)
    {  Datum novi=prodaje[i]-&gt;DajDatumProdaje();
     if(novi.DajDan()==datum.DajDan() &amp;&amp; novi.DajMjesec()==datum.DajMjesec() &amp;&amp; novi.DajGodinu()==datum.DajGodinu())
     {
         prodaje[i]-&gt;Ispisi();
     }
}
}
void Prodaje::IspisiSveProdaje() const
{
    for(int i=0;i&lt;broj_prodaja;i++)
    prodaje[i]-&gt;Ispisi();
} */
int main ()
{
	Datum dat(1, 1, 2000); string ime_agenta="Mahir Karic";
	cout&lt;&lt;dat.DajDan()&lt;&lt;" "&lt;&lt;dat.DajMjesec()&lt;&lt;" "&lt;&lt;dat.DajGodinu()&lt;&lt;endl;
	dat.Ispisi();
	Kupac kup("Mustafa Mustafic", dat);
	Datum rodjenje=kup.DajDatumRodjenja();
	cout&lt;&lt;endl;
	cout&lt;&lt;kup.DajImeIPrezime();
	rodjenje.Ispisi();
  kup.Ispisi();
  Stan stan("Naselje Gaj", 4, 3, true, 70);
  Prodaja prod(ime_agenta, 150000, dat, kup, stan );
  prod.PomjeriDanUnazad();
  Datum novi=prod.DajDatumProdaje();
  novi.Ispisi();
  cout&lt;&lt;endl;
  prod.Ispisi();

	return 0;
}</pre>
</body>
</html>
