<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z3/student6776.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z3/student7823.cpp<p></p><pre>
<a name="4"></a><font color="#FF00FF"><a href="match158-0.html#4" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_2.gif"/></a>

/B 2016/2017, ZadaÄ‡a 4, Zadatak 3
//Napomena: testovi ce biti dostupni dan pred rok!
#include &lt;iostream&gt;
#include &lt;stdexcept&gt;
#include &lt;new&gt;
#include &lt;string&gt;
#include &lt;iomanip&gt;

class Datum{
  int dan,mjesec,godina;
public:
    Datum(int dan, int mjesec, int godina){Postavi(dan,mjesec,godina);}
</font><a name="3"></a><font color="#00FFFF"><a href="match158-0.html#3" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_5.gif"/></a>

    void Postavi(int d, int m, int god);
    int DajDan() const {return dan;}
    int DajMjesec() const {return mjesec;};
    int DajGodinu() const {return godina;};
    void Ispisi() const {std::cout&lt;&lt;"("&lt;&lt;DajDan()&lt;&lt;"/"&lt;&lt;DajMjesec()&lt;&lt;"/"&lt;&lt;DajGodinu()&lt;&lt;")";}
    friend class Kupac;
    friend class Prodaja;
};
void Datum::Postavi(int d, int m, int god){
        int broj_dana[] {31,28,31,30,31,30,31,31,30,31,30,31};
</font>        if(god%4==0 &amp;&amp; (god%100!=0 || god%400==0))   {broj_dana[1]++;}
<a name="2"></a><font color="#0000FF"><a href="match158-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_16.gif"/></a>

        if(god&lt;1 || m &lt;1 || m&gt;12 || d&lt;1 || d&gt;broj_dana[m-1]){
            throw std::domain_error("Neispravan datum");
        }
        dan=d; mjesec=m; godina=god;
    }
class Kupac{
    std::string ime_i_prezime;
    Datum datum_rodjenja;
    bool IspravanKarakter(char slovo){
    if(!((slovo&gt;='A' &amp;&amp; slovo&lt;='Z') || (slovo&gt;='a' &amp;&amp; slovo&lt;='z') || (slovo&gt;='0' &amp;&amp;slovo&lt;='9') || slovo==' ' || slovo=='\'' || slovo=='-')) return false;
    return true;
}
    bool IspravnoIme(std::string ime){
    for(int i=0;i&lt;ime.length();i++){
        if(IspravanKarakter(ime[i])==false) return false;
    }
    return true;
}    
public:
    Kupac(const std::string &amp;ime_i_prezime, const Datum &amp;datum_rodjenja):datum_rodjenja(datum_rodjenja){
        Postavi(ime_i_prezime, datum_rodjenja);
    }
    void Postavi(const std::string &amp;ime_i_prezime, const Datum &amp;datum_rodjenja){
        if(IspravnoIme(ime_i_prezime)==false){throw std::domain_error("Neispravno ime");}
        Kupac::ime_i_prezime=ime_i_prezime; Kupac::datum_rodjenja=datum_rodjenja;
    }
    std::string DajImePrezime()const{return ime_i_prezime;}
    Datum DajDatumRodjenja() const {return datum_rodjenja;};
    void Ispisi() const {std::cout&lt;&lt;DajImePrezime()&lt;&lt;" ";   datum_rodjenja.Ispisi();}
    friend bool IspravnoIme(std::string);
    friend class Prodaja;
};
class Stan{
    std::string adresa;
    int sprat;
    int broj_soba;
    bool namjesten;
    double kvadratura;
public:    
    Stan(const std::string &amp;adresa, int sprat, int broj_soba, bool namjesten, double kvadratura){
</font><a name="5"></a><font color="#FF0000"><a href="match158-0.html#5" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_1.gif"/></a>

        Postavi(adresa,sprat,broj_soba,namjesten,kvadratura);
    }
    void Postavi(const std::string &amp;adresa, int sprat, int broj_soba, bool namjesten, double kvadratura){
        if(sprat&lt;0 || broj_soba&lt;0 || kvadratura&lt;0) throw std::domain_error("Neispravan unos podataka");
</font><a name="0"></a><font color="#FF0000"><a href="match158-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_33.gif"/></a>

        Stan::adresa=adresa;    Stan::sprat=sprat;  Stan::broj_soba=broj_soba;  Stan::namjesten=namjesten;  Stan::kvadratura=kvadratura;
    }
    std::string DajAdresu() const {return adresa;}
    int DajSprat() const {return sprat;}
    int DajBrojSoba() const {return broj_soba;}
    bool DajNamjesten() const {return namjesten;}
    double DajKvadraturu() const {return kvadratura;}
    void Ispisi() const;
};
void Stan::Ispisi() const{
        std::cout&lt;&lt;"Stan se nalazi na adresi "&lt;&lt;DajAdresu()&lt;&lt;" na "&lt;&lt;DajSprat()&lt;&lt;". spratu i ima "&lt;&lt;DajBrojSoba();
        {
            if(DajBrojSoba()%10==1 &amp;&amp; DajBrojSoba()!=11 &amp;&amp; DajBrojSoba()%100!=11) {std::cout&lt;&lt;" sobu.";}
            if(DajBrojSoba()%10&gt;=2 &amp;&amp; DajBrojSoba()%10&lt;=4){std::cout&lt;&lt;" sobe.";}
            if(((DajBrojSoba()%10&gt;=5 &amp;&amp; DajBrojSoba()%10&lt;=9) || DajBrojSoba()%10==0)){std::cout&lt;&lt;" soba.";}
        }
        std::cout&lt;&lt;std::endl;
        std::cout&lt;&lt;"Kvadratura stana je "&lt;&lt;DajKvadraturu()&lt;&lt;" (m^2) i stan ";
        if(DajNamjesten()){std::cout&lt;&lt;"je namjesten.";}
        if(!(DajNamjesten())) {std::cout&lt;&lt;"nije namjesten.";}
    }
class Prodaja{
    std::string ime_agenta_prodaje;
    double cijena_stana;
    Datum datum_prodaje;
    Kupac kupac_stana;
    Stan kupljeni_stan;
    
void Normalizirajdatum(Datum &amp;datum){
    int broj_dana[] {31,28,31,30,31,30,31,31,30,31,30,31};
    if(datum.godina%4==0 &amp;&amp; (datum.godina%100!=0 || datum.godina%400==0))   {broj_dana[1]++;}
    if(datum.dan&gt;broj_dana[datum.mjesec-1]){datum.dan=1;datum.mjesec++;}
    if(datum.mjesec&gt;12){datum.godina++; datum.mjesec=1;}
    
    if(datum.dan==0){datum.mjesec--;
        if(datum.mjesec==0){datum.godina--; datum.mjesec=12;  datum.dan=broj_dana[datum.mjesec-1];}
        datum.dan=broj_dana[datum.mjesec-1];
    }
    datum_prodaje.dan=datum.dan; datum_prodaje.mjesec=datum.mjesec; datum_prodaje.godina=datum.godina;
}    
public:    
    Prodaja(const std::string &amp;ime_agenta_prodaje, double cijena_stana, 
    const Datum &amp;datum_prodaje, const Kupac &amp;kupac_stana,
    const Stan &amp;kupljeni_stan):datum_prodaje(datum_prodaje),kupac_stana(kupac_stana),kupljeni_stan(kupljeni_stan){
        Prodaja::ime_agenta_prodaje=ime_agenta_prodaje;
        Prodaja::cijena_stana=cijena_stana;
        Prodaja::datum_prodaje=datum_prodaje;
        Prodaja::kupac_stana=kupac_stana;
        Prodaja::kupljeni_stan=kupljeni_stan;
    }
    Prodaja(const std::string &amp;ime_agenta_prodaje, double cijena_stana, 
        int dan_prodaje, int mjesec_prodaje, int godina_prodaje, 
        std::string &amp;ime_kupca, const Datum &amp;datum_rodjenja_kupca,
</font>        const std::string &amp;adresa_stana, int sprat_stana, int broj_soba,
<a name="1"></a><font color="#00FF00"><a href="match158-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_27.gif"/></a>

        bool namjesten_stan, double broj_kvadrata):datum_prodaje(dan_prodaje,mjesec_prodaje,godina_prodaje),
        kupac_stana(ime_kupca, datum_rodjenja_kupca),kupljeni_stan(adresa_stana,sprat_stana,broj_soba,
        namjesten_stan,broj_kvadrata){
            Prodaja::ime_agenta_prodaje=ime_agenta_prodaje;
            Prodaja::cijena_stana=cijena_stana;
            Prodaja::datum_prodaje=datum_prodaje;
            Prodaja::kupac_stana=kupac_stana;
            Prodaja::kupljeni_stan=kupljeni_stan;
        }
    void PromjeniKupca(const Kupac &amp;novi_kupac){Prodaja::kupac_stana=novi_kupac;}
    void PromjeniStan(const Stan &amp;novi_stan){Prodaja::kupljeni_stan=novi_stan;}
    void PromjeniDatumKupovine(const Datum &amp;novi_datum){Prodaja::datum_prodaje=novi_datum;}
    void PomjeriDanUnaprijed(){datum_prodaje.dan++; Normalizirajdatum(datum_prodaje);}
    void PomjeriDanUnazad(){datum_prodaje.dan--; Normalizirajdatum(datum_prodaje);}
    std::string DajImeAgenta() const {return ime_agenta_prodaje;}
    std::string DajImeKupca() const {return kupac_stana.ime_i_prezime;}
    Datum DajDatumProdaje() const {return datum_prodaje;}
    double DajCijenuStana() const {return cijena_stana;}
    void Ispisi() const;
    friend bool ProdatPrije(const Prodaja &amp;p1, const Prodaja &amp;p2);
    friend bool SkupljiStan(const Prodaja &amp;p1, const Prodaja &amp;p2);
};
void Prodaja::Ispisi() const {
    std::cout&lt;&lt;std::left&lt;&lt;std::setw(40)&lt;&lt;"Ime agenta:"&lt;&lt;DajImeAgenta()
    &lt;&lt;std::left&lt;&lt;std::setw(41)&lt;&lt;"\nIme kupca: "; kupac_stana.Ispisi();
    std::cout&lt;&lt;std::left&lt;&lt;std::setw(41)&lt;&lt;"\nZakazani datum prodaje:"; datum_prodaje.Ispisi();
    std::cout&lt;&lt;std::left&lt;&lt;std::setw(41)&lt;&lt;"\nCijena stana:"&lt;&lt;DajCijenuStana()
    &lt;&lt;"\nInformacije o stanu:"; kupljeni_stan.Ispisi();
}
//bool ProdatPrije(const Prodaja &amp;p1, const Prodaja &amp;p2);


int main (){
    try{
        std::string ime_agenta_prodaje{"Niko Nikic"};
        
        std::string ime_kupca{"Mujo Mujic"};
        Datum datum_kupca(21,9,1982);
        Kupac buyer(ime_kupca, datum_kupca);
        
        double cijena_stana(78958);
        Datum datum_prodaje(31,12,2016);
        
        
        std::string adresa{"Hamdije Cemerlica 14"};
        int sprat=5;
        int broj_soba=10;
        bool namj=true;
        double kvad=35.45;
        Stan Apartment(adresa, sprat, broj_soba, namj, kvad);


        Prodaja sell(ime_agenta_prodaje,cijena_stana,datum_prodaje,buyer,Apartment);
        sell.Ispisi();
        std::cout&lt;&lt;std::endl;
        std::cout&lt;&lt;std::endl;        
        sell.PomjeriDanUnaprijed();
        sell.Ispisi();
    }catch(std::domain_error izu){
        std::cout&lt;&lt;izu.what();
    }
	return 0;
</font>}</pre>
</body>
</html>
