<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z3/student5581.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z3/student3899.cpp<p></p><pre>
/B 2016/2017, ZadaÄ‡a 4, Zadatak 3
//Napomena: testovi ce biti dostupni dan pred rok!
#include &lt;iostream&gt;
#include&lt;string&gt;
#include&lt;stdexcept&gt;
#include&lt;iomanip&gt;
#include&lt;initializer_list&gt;
#include&lt;algorithm&gt;
#include&lt;vector&gt;
class Datum{
    int dan;
    int mjesec;
    int godina;
    
    public:
    Datum(int dan,int mjesec,int godina){Postavi(dan,mjesec,godina);};
    void Postavi(int dan,int mjesec, int godina);
    int DajDan() const{return  dan;};
    int DajMjesec() const{return mjesec;};
    int DajGodinu() const{return godina;};
    void Ispisi() const{std::cout&lt;&lt;dan&lt;&lt;"/"&lt;&lt;mjesec&lt;&lt;"/"&lt;&lt;godina;};
};
void Datum::Postavi(int dan,int mjesec,int godina){
    int broj_dana[12]{31,28,31,30,31,30,31,31,30,31,30,31};
    if((godina%4==0 &amp;&amp; godina%100!=0) || godina%400==0) broj_dana[1]++;
<a name="8"></a><font color="#00FFFF"><a href="match569-0.html#8" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_0.gif"/></a>

    if(godina&lt;1 || dan&lt;1 || mjesec&lt;1 || mjesec&gt;12 || dan&gt;broj_dana[mjesec-1])
    throw std::domain_error("Neispravan datum");
    
    Datum::dan=dan;Datum::mjesec=mjesec;Datum::godina=godina;
}

class Kupac{
</font>    
    std::string ime_i_prezime;
    Datum datum_rodjenja;
    
    static void IspravnoIme(std::string s);
    
    public:
    Kupac(const std::string &amp;ime_i_prezime, const Datum &amp;datum_rodjenja);//{Postavi(const std::string &amp;ime_i_prezime,const Datum &amp;datum_rodjenja);};
    void Postavi(const std::string &amp;ime_i_prezime, const Datum &amp;datum_rodjenja);
    std::string DajImeIPrezime() const{return ime_i_prezime;};
    Datum DajDatumRodjenja() const{return datum_rodjenja;};
<a name="9"></a><font color="#FF00FF"><a href="match569-0.html#9" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_0.gif"/></a>

    void Ispisi() const{std::cout&lt;&lt;ime_i_prezime&lt;&lt;" (";
    datum_rodjenja.Ispisi(); std::cout&lt;&lt;")";};
};

void Kupac::IspravnoIme(std::string s){
</font>     for(int i=0;i&lt;s.length();i++){
        
        if((s[i]&gt;='A' &amp;&amp; s[i]&lt;='Z') || (s[i]&gt;='a' &amp;&amp; s[i]&lt;='z') || (s[i]&gt;='1' &amp;&amp; s[i]&lt;='9') || 
        s[i]==' ' || s[i]==39) continue;
        else{ 
            throw std::domain_error("Neispravno ime i prezime");
        }
        
    }
}
 Kupac::Kupac(const std::string &amp;ime_i_prezime,const Datum &amp;datum_rodjenja): datum_rodjenja(datum_rodjenja) {
    IspravnoIme(ime_i_prezime);
    Kupac::ime_i_prezime=ime_i_prezime;
    
}
void Kupac::Postavi(const std::string &amp;ime_i_prezime, const Datum &amp;datum_rodjenja){
    
    IspravnoIme(ime_i_prezime);
    Kupac::ime_i_prezime=ime_i_prezime;
    Kupac::datum_rodjenja=datum_rodjenja;
}

class Stan{
    
    std::string adresa;
    int sprat;
    int broj_soba;
    bool namjesten;
    double kvadratura;
    
    public:
    Stan(const std::string &amp;adresa,int sprat,int broj_soba,bool namjesten, double kvadratura){ Postavi(adresa,sprat,broj_soba,namjesten,kvadratura);};
    void Postavi(const std::string &amp;adresa,int sprat, int broj_soba, bool namjesten,double kvadratura);
    std::string DajAdresu() const{return adresa;};
    int DajSprat() const{return sprat;};
<a name="3"></a><font color="#00FFFF"><a href="match569-0.html#3" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_1.gif"/></a>

    int DajBrojSoba() const{return broj_soba;};
    bool DajNamjesten() const{return namjesten;};
  double DajKvadraturu() const{return kvadratura;};
    void Ispisi() const;
};
void Stan::Postavi(const std::string &amp;adresa,int sprat,int broj_soba,bool namjesten,double kvadratura){
    if(sprat&lt;0 || broj_soba&lt;0 || kvadratura&lt;0) throw std::domain_error("Neispravan unos podataka");
</font>    
<a name="10"></a><font color="#FF0000"><a href="match569-0.html#10" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_0.gif"/></a>

    Stan::adresa=adresa; Stan::sprat=sprat; Stan::broj_soba=broj_soba; Stan::namjesten=namjesten; Stan::kvadratura=kvadratura;
    
}
void Stan::Ispisi()const{
    
    std::cout&lt;&lt;"Stan se nalazi na adresi "&lt;&lt;adresa&lt;&lt;" na "&lt;&lt;sprat&lt;&lt;". spratu i ima "&lt;&lt;broj_soba;
</font>    if(broj_soba==1) std::cout&lt;&lt;" sobu.";
    if(broj_soba&gt;=2 &amp;&amp; broj_soba&lt;=4) std::cout&lt;&lt;" sobe.";
    if(broj_soba&gt;=5) std::cout&lt;&lt;" soba.";
    
    std::cout&lt;&lt;std::endl;
    std::cout&lt;&lt;"Kvadratura stana je "&lt;&lt;kvadratura&lt;&lt;" (m^2) i stan ";
    if(namjesten) std::cout&lt;&lt;"je";
    else std::cout&lt;&lt;"nije";
    
    std::cout&lt;&lt;" namjesten.";
}

class Prodaja{
    std::string ime_agenta;
    double cijena_stana;
    Datum datum_prodaje;
    Kupac kupac_stana;
    Stan kupljeni_stan;
    
    static void IspravnoIme(std::string s);
    static int BrojDana(int mjesec,int godina);


    public:
    Prodaja(const std::string &amp;ime_agenta_prodaje, double cijena_stana, const Datum &amp;datum_prodaje, const Kupac &amp;kupac_stana, const Stan &amp;kupljeni_stan);
    Prodaja(const std::string &amp;ime_agenta_prodaje, double cijena_stana,int dan_prodaje,int mjesec_prodaje, int godina_prodaje,
    std::string &amp;ime_kupca, const Datum &amp;datum_rodjenja_kupca,const std::string &amp;adresa_stana,int sprat_stana, int broj_soba, bool namjesten_stan, double broj_kvadrata);
    void PromijeniKupca(const Kupac &amp;novi_kupac)   {kupac_stana=novi_kupac;};
    void PromijeniStan(const Stan &amp;novi_stan)   {kupljeni_stan=novi_stan;};
    void PromijeniDatumKupovine(const Datum &amp;novi_datum)  {datum_prodaje=novi_datum;};
    void PromijeniCijenuProdaje(const double &amp;nova_cijena)   {cijena_stana=nova_cijena;};
    void PomjeriDanUnaprijed();
    void PomjeriDanUnazad();
    std::string DajImeAgenta() const{return ime_agenta;};
    std::string DajImeKupca() const{return kupac_stana.DajImeIPrezime();};
    Datum DajDatumProdaje() const {return datum_prodaje;};
    double DajCijenuStana() const{return cijena_stana;};
    friend bool ProdatPrije(const Prodaja &amp;p1,const Prodaja &amp;p2);
    friend bool SkupljiStan(const Prodaja &amp;p1, const Prodaja &amp;p2);
    void Ispisi() const;
    
};
void Prodaja::IspravnoIme(std::string s){
     for(int i=0;i&lt;s.length();i++){
        
        if((s[i]&gt;='A' &amp;&amp; s[i]&lt;='Z') || (s[i]&gt;='a' &amp;&amp; s[i]&lt;='z') || (s[i]&gt;='1' &amp;&amp; s[i]&lt;='9') || 
        s[i]==' ' || s[i]==39) continue;
        else{ 
            throw std::domain_error("Neispravno ime i prezime");
        }
        
    }
}
int Prodaja::BrojDana(int mjesec,int godina){
    int b[]{31,28,31,30,31,30,31,31,30,31,30,31};
    if((godina%4==0 &amp;&amp; godina%100!=0) || godina%400==0)
    b[1]++;
    
    return b[mjesec-1];
    
}


Prodaja::Prodaja(const std::string &amp;ime_agenta_prodaje,double cijena_stana,const Datum &amp;datum_prodaje,const Kupac &amp;kupac_stana, const Stan &amp;kupljeni_stan)
:datum_prodaje(datum_prodaje),kupac_stana(kupac_stana),kupljeni_stan(kupljeni_stan){
    
    IspravnoIme(ime_agenta_prodaje);
<a name="11"></a><font color="#00FF00"><a href="match569-0.html#11" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_0.gif"/></a>

 Prodaja::ime_agenta=ime_agenta_prodaje;
 Prodaja::cijena_stana=cijena_stana;
}

Prodaja::Prodaja(const std::string &amp;ime_agenta_prodaje, double cijena_stana,int dan_prodaje,int mjesec_prodaje, int godina_prodaje,
</font>    std::string &amp;ime_kupca, const Datum &amp;datum_rodjenja_kupca,const std::string &amp;adresa_stana,int sprat_stana, int broj_soba, bool namjesten_stan, double broj_kvadrata)
    :datum_prodaje(dan_prodaje,mjesec_prodaje,godina_prodaje),kupac_stana(ime_kupca,datum_rodjenja_kupca),kupljeni_stan(adresa_stana,sprat_stana,broj_soba,namjesten_stan,broj_kvadrata){
        IspravnoIme(ime_agenta_prodaje);
     Prodaja::ime_agenta=ime_agenta_prodaje;
     Prodaja::cijena_stana=cijena_stana;
        
    }
void Prodaja::PomjeriDanUnaprijed(){
    auto dan(datum_prodaje.DajDan());
    auto mjesec(datum_prodaje.DajMjesec());
    auto godina(datum_prodaje.DajGodinu());
   dan++;
    if(dan&gt;BrojDana(mjesec,godina)){
        dan=1;
        mjesec++;
    }
    if(mjesec&gt;12){
        mjesec=1;
        godina++;
    }
    datum_prodaje.Postavi(dan,mjesec,godina);
}
void Prodaja::PomjeriDanUnazad(){
    auto dan(datum_prodaje.DajDan());
    auto mjesec(datum_prodaje.DajMjesec());
    auto godina(datum_prodaje.DajGodinu());
    dan--;
    if(dan&lt;1 &amp;&amp; mjesec&gt;1){
        mjesec--;
        dan=BrojDana(mjesec,godina);
    }
    if(dan&lt;1 &amp;&amp; mjesec&lt;1){
        mjesec=12;
        godina--;
        dan=BrojDana(mjesec,godina);
    }
    datum_prodaje.Postavi(dan,mjesec,godina);
    
}
bool ProdatPrije(const Prodaja &amp;p1,const Prodaja &amp;p2){
    auto dan1(p1.datum_prodaje.DajDan());
    auto mjesec1(p1.datum_prodaje.DajMjesec());
    auto godina1(p1.datum_prodaje.DajGodinu());
    auto dan2(p2.datum_prodaje.DajDan());
    auto mjesec2(p2.datum_prodaje.DajMjesec());
    auto godina2(p2.datum_prodaje.DajGodinu());
   if(godina1==godina2){
       if(mjesec1==mjesec2){
           
           return dan1&lt;=dan2;
       }
       else if(mjesec1&lt;mjesec2) return true;
       else return false;
       
   }
   else if(godina1&lt;godina2) return true; 
    else return false;
    
}

bool SkupljiStan(const Prodaja &amp;p1,const Prodaja &amp;p2){
    
    return p1.DajCijenuStana()&gt;=p2.DajCijenuStana();
}

void Prodaja::Ispisi() const{
<a name="2"></a><font color="#0000FF"><a href="match569-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_2.gif"/></a>

    std::cout&lt;&lt;std::left&lt;&lt;std::setw(25)&lt;&lt;"Ime agenta: ";std::cout&lt;&lt;ime_agenta&lt;&lt;std::endl;
    std::cout&lt;&lt;std::left&lt;&lt;std::setw(25)&lt;&lt;"Ime kupca: "; kupac_stana.Ispisi();std::cout&lt;&lt;std::endl;
    std::cout&lt;&lt;std::left&lt;&lt;std::setw(25)&lt;&lt;"Zakazani datum prodaje: "; datum_prodaje.Ispisi();std::cout&lt;&lt;std::endl;
    std::cout&lt;&lt;std::left&lt;&lt;std::setw(25)&lt;&lt;"Cijena stana: "; std::cout&lt;&lt;cijena_stana;std::cout&lt;&lt;std::endl;
</font>    std::cout&lt;&lt;"Informacija o stanu: \n";
    kupljeni_stan.Ispisi();
}


class Prodaje{
    
    const int kapacitet;
    int broj_evidentiranih;
    Prodaja **sveprodaje;
    
    
  public:
  explicit Prodaje(int max_broj_prodaja):kapacitet(max_broj_prodaja),broj_evidentiranih(0),sveprodaje(new Prodaja*[max_broj_prodaja]{}){};
  Prodaje(std::initializer_list&lt;Prodaja&gt; spisak_prodaja);
  ~Prodaje();
  Prodaje(const Prodaje &amp;prodaje);
  Prodaje(Prodaje &amp;&amp;prodaje);
  Prodaje &amp;operator =(const Prodaje &amp;prodaje);
  Prodaje &amp;operator =(Prodaje &amp;&amp;prodaje);
  void RegistrirajProdaju (const std::string &amp;ime_agenta_prodaje, double cijena_stana, const Datum &amp;datum_prodaje, const Kupac &amp;kupac_stana, const Stan &amp;kupljeni_stan);
  void RegistrirajProdaju (const std::string &amp;ime_agenta_prodaje, double cijena_stana,int dan_prodaje,int mjesec_prodaje, int godina_prodaje,
    std::string &amp;ime_kupca, const Datum &amp;datum_rodjenja_kupca,const std::string &amp;adresa_stana,int sprat_stana, int broj_soba, bool namjesten_stan, double broj_kvadrata);
  void RegistrirajProdaju(Prodaja *prodaja);
  int DajBrojProdaja()const;
  int DajBrojProdajaNaDatum(const Datum &amp;datum) const;
  int DajBrojProdajaOdAgenta(const std::string &amp;ime_agenta) const;
  Prodaja &amp;DajNajranijuProdaju();
  Prodaja DajNajranijuProdaju() const;
  Prodaja &amp;DajNajskupljuProdaju();
  Prodaja DajNajskupljuProdaju() const;
  void IsprazniKolekciju();
  void ObrisiNajranijuProdaju();
  void ObrisiProdajeAgenta(const std::string &amp;ime_agenta);
  void ObrisiProdajeNaDatum(const Datum &amp;datum);
  void IspisiProdajeNaDatum(const Datum &amp;datum) const;
  void IspisiSveProdaje() const;
  Prodaja &amp;DajProdaju(int br);
}; 

Prodaje::Prodaje(std::initializer_list&lt;Prodaja&gt; spisak_prodaja):kapacitet(20),broj_evidentiranih(spisak_prodaja.size()),
sveprodaje(new Prodaja*[kapacitet]{}){
    try{
        int br(0);
    for(const auto &amp;a : spisak_prodaja){
        sveprodaje[br]=new Prodaja(a);
        br++;
        
    }
    }catch(...){
        for(int i=0;i&lt;spisak_prodaja.size();i++) delete sveprodaje[i];
        delete []sveprodaje;
        throw;
    }
}
Prodaje::~Prodaje(){
    
<a name="0"></a><font color="#FF0000"><a href="match569-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_4.gif"/></a>

    for(int i=0;i&lt;broj_evidentiranih;i++) delete sveprodaje[i];
    delete[] sveprodaje;
}

Prodaje::Prodaje(const Prodaje &amp;prodaje):kapacitet(prodaje.kapacitet),broj_evidentiranih(prodaje.broj_evidentiranih),sveprodaje(new Prodaja*[prodaje.kapacitet]{}){
    try{
        for(int i=0;i&lt;prodaje.broj_evidentiranih;i++){
           sveprodaje[i]=new Prodaja(*prodaje.sveprodaje[i]);
        }
    }catch(...){
        for(int i=0;i&lt;prodaje.broj_evidentiranih;i++) delete sveprodaje[i];
        delete [] sveprodaje; throw;
    }

}
Prodaje::Prodaje(Prodaje &amp;&amp;prodaje):kapacitet(prodaje.kapacitet),broj_evidentiranih(prodaje.broj_evidentiranih),sveprodaje(prodaje.sveprodaje){
    prodaje.sveprodaje=nullptr; prodaje.broj_evidentiranih=0;
}

Prodaje &amp;Prodaje::operator =(const Prodaje &amp;prodaje){
   if(prodaje.broj_evidentiranih&gt;broj_evidentiranih){
</font><a name="1"></a><font color="#00FF00"><a href="match569-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_3.gif"/></a>

       try{
           for(int i=broj_evidentiranih;i&lt;prodaje.broj_evidentiranih;i++){
               sveprodaje[i]=new Prodaja(*prodaje.sveprodaje[i]);
           }
       }catch(...){
           for(int i=broj_evidentiranih;i&lt;prodaje.broj_evidentiranih;i++){
               delete sveprodaje[i]; sveprodaje[i]=nullptr;
           }
           throw;
       }
   }else{
       for(int i=prodaje.broj_evidentiranih;i&lt;broj_evidentiranih;i++){
           delete sveprodaje[i]; sveprodaje[i]=nullptr;
       }
   }
   broj_evidentiranih=prodaje.broj_evidentiranih;
   for(int i=0;i&lt;broj_evidentiranih;i++) *sveprodaje[i]=*prodaje.sveprodaje[i];
   
   return *this;
} 

Prodaje &amp;Prodaje::operator =(Prodaje &amp;&amp;prodaje){
</font>    std::swap(broj_evidentiranih,prodaje.broj_evidentiranih);
    std::swap(sveprodaje,prodaje.sveprodaje);
    return *this;
}
<a name="6"></a><font color="#00FF00"><a href="match569-0.html#6" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_0.gif"/></a>

void Prodaje::RegistrirajProdaju (const std::string &amp;ime_agenta_prodaje, double cijena_stana, const Datum &amp;datum_prodaje, const Kupac &amp;kupac_stana, const Stan &amp;kupljeni_stan){
    if(broj_evidentiranih&gt;=kapacitet)
    throw std::range_error("Dostignut maksimalni broj prodaja");
</font>    
    *sveprodaje[broj_evidentiranih]=Prodaja(ime_agenta_prodaje,cijena_stana,datum_prodaje,kupac_stana,kupljeni_stan);
    broj_evidentiranih++;
    
}
void Prodaje::RegistrirajProdaju (const std::string &amp;ime_agenta_prodaje, double cijena_stana,int dan_prodaje,int mjesec_prodaje, int godina_prodaje,
<a name="5"></a><font color="#FF0000"><a href="match569-0.html#5" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_0.gif"/></a>

    std::string &amp;ime_kupca, const Datum &amp;datum_rodjenja_kupca,const std::string &amp;adresa_stana,int sprat_stana, int broj_soba, bool namjesten_stan, double broj_kvadrata)
{
    if(broj_evidentiranih&gt;=kapacitet)
    throw std::range_error("Dostignut maksimalni broj prodaja");
</font>    
    *sveprodaje[broj_evidentiranih]=Prodaja(ime_agenta_prodaje,cijena_stana,dan_prodaje,mjesec_prodaje,godina_prodaje,ime_kupca,datum_rodjenja_kupca,
    adresa_stana,sprat_stana,broj_soba,namjesten_stan,broj_kvadrata);
    
    broj_evidentiranih++;
}

void Prodaje::RegistrirajProdaju(Prodaja *prodaja){
    if(broj_evidentiranih&gt;=kapacitet)
    throw std::range_error("Dostignut maksimalni broj prodaja");
    sveprodaje[broj_evidentiranih]=prodaja;
    broj_evidentiranih++;
}

int Prodaje::DajBrojProdaja() const{
   return broj_evidentiranih;
}

int Prodaje:: DajBrojProdajaNaDatum(const Datum &amp;datum) const{
   
    
    return std::count_if(sveprodaje[0],sveprodaje[broj_evidentiranih],[datum](Prodaja a){ Datum b(a.DajDatumProdaje());
    if(b.DajDan()==datum.DajDan() &amp;&amp; b.DajMjesec()==datum.DajMjesec() &amp;&amp; b.DajGodinu()==datum.DajGodinu()) return true; else return false; });

}

int Prodaje::DajBrojProdajaOdAgenta(const std::string &amp;ime_agenta) const{
     return std::count_if(sveprodaje[0],sveprodaje[broj_evidentiranih],[ime_agenta](Prodaja a){ if(a.DajImeAgenta()==ime_agenta) return true; else return false; });
}
Prodaja &amp;Prodaje::DajNajranijuProdaju(){
    
    auto b(std::min_element(sveprodaje[0],sveprodaje[broj_evidentiranih],[](Prodaja a,Prodaja b){ return ProdatPrije(a,b);}));
    
    return *b;
}
Prodaja Prodaje::DajNajranijuProdaju() const{
     auto b(std::min_element(sveprodaje[0],sveprodaje[broj_evidentiranih],[](Prodaja a,Prodaja b){ return ProdatPrije(a,b);}));
    
    return *b;
}
Prodaja &amp;Prodaje::DajNajskupljuProdaju(){
    
    auto b(std::max_element(sveprodaje[0],sveprodaje[broj_evidentiranih],[](Prodaja a,Prodaja b){ return SkupljiStan(a,b);}));
    return *b;
}

Prodaja Prodaje::DajNajskupljuProdaju() const{
    
    auto b(std::max_element(sveprodaje[0],sveprodaje[broj_evidentiranih],[](Prodaja a,Prodaja b){ return SkupljiStan(a,b);}));
    return *b;
}

void Prodaje::IsprazniKolekciju(){
    for(int i=0;i&lt;kapacitet;i++){
        delete sveprodaje[i];
        sveprodaje[i]=nullptr;
    }
    broj_evidentiranih=0;
}
void Prodaje::ObrisiNajranijuProdaju(){
    auto p(-1);
    
    if(broj_evidentiranih&lt;=0) throw std::range_error("Prazna kolekcija");
    
    for(int i=0;i&lt;broj_evidentiranih;i++){
        if(sveprodaje[i]-&gt;DajDatumProdaje().DajDan()==DajNajranijuProdaju().DajDatumProdaje().DajDan() &amp;&amp; sveprodaje[i]-&gt;DajDatumProdaje().DajMjesec()==DajNajranijuProdaju().DajDatumProdaje().DajMjesec() &amp;&amp;
        sveprodaje[i]-&gt;DajDatumProdaje().DajGodinu()==DajNajranijuProdaju().DajDatumProdaje().DajGodinu()){
            delete sveprodaje[i];
            sveprodaje[i]=nullptr;
            p=i;
            break;
        }
    }
    for(int i=p;i&lt;kapacitet-1;i++){
        
        sveprodaje[i]=sveprodaje[i+1];
        
    }
    broj_evidentiranih--;
    
}
void Prodaje::ObrisiProdajeAgenta(const std::string &amp;ime_agenta){

 if(broj_evidentiranih&lt;=0) throw std::range_error("Prazna kolekcija");
 int br(0);
 
 for(int i=0;i&lt;broj_evidentiranih;i++){
     if(sveprodaje[i]-&gt;DajImeAgenta()==ime_agenta){
         delete sveprodaje[i];
         sveprodaje[i]=nullptr;
         br++;
     }
 }
 
 for(int i=0;i&lt;kapacitet;i++){
     if(sveprodaje[i]==nullptr){
         for(int j=i;j&lt;kapacitet-1;j++){
             sveprodaje[j]=sveprodaje[j+1];
         }
     }
 }
 
 broj_evidentiranih=broj_evidentiranih-br;
}

void Prodaje::ObrisiProdajeNaDatum(const Datum &amp;datum){
    
    if(broj_evidentiranih&lt;=0) throw std::range_error("Prazna kolekcija");
 int br(0);
 
 for(int i=0;i&lt;broj_evidentiranih;i++){
     if(sveprodaje[i]-&gt;DajDatumProdaje().DajDan()==datum.DajDan() &amp;&amp; sveprodaje[i]-&gt;DajDatumProdaje().DajMjesec()==datum.DajMjesec() &amp;&amp;
        sveprodaje[i]-&gt;DajDatumProdaje().DajGodinu()==datum.DajGodinu()){
         delete sveprodaje[i];
         sveprodaje[i]=nullptr;
         br++;
     }
 }
 
 for(int i=0;i&lt;kapacitet;i++){
     if(sveprodaje[i]==nullptr){
         for(int j=i;j&lt;kapacitet-1;j++){
             sveprodaje[j]=sveprodaje[j+1];
         }
     }
 }
 
<a name="7"></a><font color="#0000FF"><a href="match569-0.html#7" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_0.gif"/></a>

 broj_evidentiranih=broj_evidentiranih-br;
}

void Prodaje::IspisiProdajeNaDatum(const Datum &amp;datum)const{
    
    std::vector&lt;Prodaja&gt; v;
    for(int i=0;i&lt;broj_evidentiranih;i++){
        
        if(sveprodaje[i]-&gt;DajDatumProdaje().DajDan()==datum.DajDan() &amp;&amp; sveprodaje[i]-&gt;DajDatumProdaje().DajMjesec()==datum.DajMjesec() &amp;&amp;
</font><a name="12"></a><font color="#0000FF"><a href="match569-0.html#12" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_0.gif"/></a>

        sveprodaje[i]-&gt;DajDatumProdaje().DajGodinu()==datum.DajGodinu()){
            
            v.push_back(*sveprodaje[i]);
        }
    }
    
    std::sort(v.begin(),v.end(),[](Prodaja p1,Prodaja p2){return p1.DajImeKupca()&gt;p2.DajImeKupca();});
</font>   
   std::for_each(v.begin(),v.end(),[](Prodaja p){p.Ispisi();});
    
}
void Prodaje::IspisiSveProdaje() const{
     std::vector&lt;Prodaja&gt; v;
<a name="4"></a><font color="#FF00FF"><a href="match569-0.html#4" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_0.gif"/></a>

    for(int i=0;i&lt;broj_evidentiranih;i++){
          v.push_back(*sveprodaje[i]);
   }
    
    std::sort(v.begin(),v.end(),[](Prodaja p1,Prodaja p2){if(p1.DajDatumProdaje().DajDan()==p2.DajDatumProdaje().DajDan() &amp;&amp; p1.DajDatumProdaje().DajMjesec()==p2.DajDatumProdaje().DajMjesec() &amp;&amp;
</font>    p1.DajDatumProdaje().DajGodinu()== p2.DajDatumProdaje().DajGodinu())   return p1.DajImeKupca()&gt;p2.DajImeKupca();
    return ProdatPrije(p1,p2);});
   
   std::for_each(v.begin(),v.end(),[](Prodaja p){p.Ispisi();});

}
 Prodaja &amp;Prodaje::DajProdaju(int br){
     
     if(br&lt;0 || br&gt;broj_evidentiranih) throw std::domain_error("izuzetak");
     return *sveprodaje[br-1];
 }
int main ()
{

/*

    std::cout&lt;&lt;"Dobrodosli!";
    
    for(;;){
        try{
            Prodaje sveprodaje(20);
        std::cout&lt;&lt;"Izaberite opciju: "&lt;&lt;std::endl;
        std::cout&lt;&lt;" 0 - kraj\n"&lt;&lt;" 1 - uredjivanje stanova\n"&lt;&lt;" 2 - uredjivanje kupaca\n"&lt;&lt;" 3 - uredjivanje prodaja";
        
        int n;
        std::cin&gt;&gt;n;
        
        if(n==0) break;
        if(n==1){
            for(;;){
             std::cout&lt;&lt;"Izaberite opciju: "&lt;&lt;std::endl;
        std::cout&lt;&lt;" 0 - nazad\n"&lt;&lt;" 1 - dodavanje stana\n"&lt;&lt;" 2 - uredjivanje stanova\n"&lt;&lt;" 3 - ispis svih stanova" &lt;&lt;" 4 - kraj";
            
            int n1;
            std::cin&gt;&gt;n1;
            if(n1==0) break;
            if(n1==1){
                std::cout&lt;&lt;"\nUnesite adresu: ";
                std::cin.ignore(10000,'\n');
                std::string s;
                std::getline(std::cin,s);
                std::cout&lt;&lt;"\nUnesite broj soba: ";
                int sprat;
                std::cin&gt;&gt;sprat;
                std::cout&lt;&lt;"\nUnesite broj soba: ";
                int brsoba;
                std::cin&gt;&gt;brsoba;
                std::cout&lt;&lt;"\nDa li je stan namjesten (1 - da, 0 - ne):";
                bool namjesten;
                std::cin&gt;&gt;namjesten;
                std::cout&lt;&lt;"\nUnesite kvadraturu: ";
                double kvadratura;
                std::cin&gt;&gt;kvadratura;
                
                try{
                    Stan(s,sprat,brsoba,namjesten,kvadratura);
                    
                }catch(std::domain_error e){
                
                std::cout&lt;&lt;"Izuzetak: "&lt;&lt;e.what()&lt;&lt;". Molimo unesite opet.";
                    
                }
                
                
            }else break;
            
            }
        }
        else break;
    }catch(...){
        
    }
        
        
    }
*/
	return 0;
}</pre>
</body>
</html>
