<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z3/student4128.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z3/student4128.cpp<p></p><pre>
#include &lt;iostream&gt;
#include &lt;iomanip&gt;
#include &lt;stdexcept&gt;
#include &lt;string&gt;
#include &lt;initializer_list&gt;
#include &lt;algorithm&gt;
#include &lt;vector&gt;
<a name="13"></a><font color="#00FFFF"><a href="match3-1.html#13" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_1.gif"/></a>

class Datum{
    int dan,mjesec,godina;
    public:
    Datum(int dan,int mjesec,int godina);
    void Postavi(int dan,int mjesec,int godina);
    int DajDan() const {
        return dan;
    }
    int DajMjesec() const {
        return mjesec;
    }
    int DajGodinu() const {
        return godina;
    }
    void Ispisi() const {
        std::cout&lt;&lt;std::setfill('0')&lt;&lt;dan&lt;&lt;"/"&lt;&lt;std::setfill('0')&lt;&lt;mjesec&lt;&lt;"/"&lt;&lt;std::setfill('0')&lt;&lt;godina;
    }
    
};

Datum::Datum(int dan,int mjesec,int godina){
	int broj_dana[]{31,28,31,30,31,30,31,31,30,31,30,31};
</font>    if((godina%4==0 &amp;&amp; godina%100!=0) || godina%400==0) broj_dana[1]++;
<a name="22"></a><font color="#0000FF"><a href="match3-1.html#22" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_0.gif"/></a>

    if(dan&lt;1 || mjesec&lt;1 || godina&lt;1 || mjesec&gt;12 || dan&gt;broj_dana[mjesec-1]) throw std::domain_error("Neispravan datum.");
    Datum::dan=dan; Datum::mjesec=mjesec; Datum::godina=godina;
}
void Datum::Postavi(int dan,int mjesec,int godina){
    int broj_dana[]{31,28,31,30,31,30,31,31,30,31,30,31};
</font>    if((godina%4==0 &amp;&amp; godina%100!=0) || godina%400==0) broj_dana[1]++;
<a name="11"></a><font color="#00FF00"><a href="match3-1.html#11" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_1.gif"/></a>

    if(dan&lt;1 || mjesec&lt;1 || godina&lt;1 || mjesec&gt;12 || dan&gt;broj_dana[mjesec-1]) throw std::domain_error("Neispravan datum.");
    Datum::dan=dan; Datum::mjesec=mjesec; Datum::godina=godina;
}

class Kupac{
    std::string ime_i_prezime;
    Datum datum_rodjenja;
    public:
    Kupac(const std::string &amp;ime_i_prezime,const Datum &amp;datum_rodjenja);
    void Postavi(const std::string &amp;ime_i_prezime,const Datum &amp;datum_rodjenja);
    std::string DajImePrezime() const {
        return ime_i_prezime;
    }
    Datum DajDatumRodjenja() const {
        return datum_rodjenja;
    }
    void Ispisi() const {
        ;for(int i=0;i&lt;ime_i_prezime.length();i++) std::cout&lt;&lt;ime_i_prezime[i]; std::cout&lt;&lt;std::endl;
    }
};

Kupac::Kupac(const std::string &amp;ime_i_prezime,const Datum &amp;datum_rodjenja) : datum_rodjenja(datum_rodjenja) {
    for(int i=0;i&lt;ime_i_prezime.length();i++){
        if ((ime_i_prezime[i]&gt;='A' &amp;&amp; ime_i_prezime[i]&lt;='Z') || (ime_i_prezime[i]&gt;='a' &amp;&amp; ime_i_prezime[i]&lt;='z') || (ime_i_prezime[i]&gt;='0' &amp;&amp; ime_i_prezime[i]&lt;='9') || ime_i_prezime[i]=='-' || ime_i_prezime[i]==' ' || ime_i_prezime[i]=='`') continue;
</font><a name="15"></a><font color="#FF0000"><a href="match3-1.html#15" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_0.gif"/></a>

        throw std::domain_error("Neispravno ime i prezime.");
    }
    Kupac::ime_i_prezime=ime_i_prezime;
    
}

void Kupac::Postavi(const std::string &amp;ime_i_prezime,const Datum &amp;datum_rodjenja){
    for(int i=0;i&lt;ime_i_prezime.length();i++){
        if ((ime_i_prezime[i]&gt;='A' &amp;&amp; ime_i_prezime[i]&lt;='Z') || (ime_i_prezime[i]&gt;='a' &amp;&amp; ime_i_prezime[i]&lt;='z') || (ime_i_prezime[i]&gt;='0' &amp;&amp; ime_i_prezime[i]&lt;='9') || ime_i_prezime[i]=='-' || ime_i_prezime[i]==' ' || ime_i_prezime[i]=='`') continue;
</font><a name="14"></a><font color="#FF00FF"><a href="match3-1.html#14" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_0.gif"/></a>

        throw std::domain_error("Neispravno ime i prezime.");
    }
    Kupac::ime_i_prezime=ime_i_prezime;
    Kupac::datum_rodjenja=datum_rodjenja;
}

class Stan{
    std::string adresa;
    int spratovi,sobe;
    bool namjesten;
    double kvadrat;
    public:
    Stan(const std::string &amp;adresa,int sprat,int broj_soba,bool namjesten,double kvadratura);
    void Postavi(const std::string &amp;adresa,int sprat,int broj_soba,bool namjesten,double kvadratura);
</font>    std::string DajAdresu() const {
        return adresa;
    }
<a name="17"></a><font color="#0000FF"><a href="match3-1.html#17" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_0.gif"/></a>

    int DajSprat() const {
        return spratovi;
    }
    int DajBrojSoba() const {
        return sobe;
    }
    bool DajNamjesten() const {
        return namjesten;
    }
    double DajKvadraturu() const {
        return kvadrat;
    }
    void Ispisi() const;
};

Stan::Stan(const std::string &amp;adresa,int sprat,int broj_soba,bool namjesten,double kvadratura){
	 for(int i=0;i&lt;adresa.length();i++){
        if ((adresa[i]&gt;='A' &amp;&amp; adresa[i]&lt;='Z') || (adresa[i]&gt;='a' &amp;&amp; adresa[i]&lt;='z') || (adresa[i]&gt;='0' &amp;&amp; adresa[i]&lt;='9') || adresa[i]=='-' || adresa[i]==' ' || adresa[i]=='`') continue;
</font><a name="12"></a><font color="#0000FF"><a href="match3-1.html#12" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_1.gif"/></a>

        else throw std::domain_error("Neispravno ime i prezime.");
    }
    if(sprat&lt;0 || broj_soba&lt;0 || kvadratura&lt;0) throw std::domain_error("Neispravan unos podataka.");
    Stan::adresa=adresa; Stan::spratovi=sprat; Stan::sobe=broj_soba; Stan::namjesten=namjesten; Stan::kvadrat=kvadratura;
}
void Stan::Postavi(const std::string &amp;adresa,int sprat,int broj_soba,bool namjesten,double kvadratura){
     for(int i=0;i&lt;adresa.length();i++){
        if ((adresa[i]&gt;='A' &amp;&amp; adresa[i]&lt;='Z') || (adresa[i]&gt;='a' &amp;&amp; adresa[i]&lt;='z') || (adresa[i]&gt;='0' &amp;&amp; adresa[i]&lt;='9') || adresa[i]=='-' || adresa[i]==' ' || adresa[i]=='`') continue;
</font><a name="5"></a><font color="#FF0000"><a href="match3-1.html#5" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_5.gif"/></a>

        else throw std::domain_error("Neispravno ime i prezime.");
    }
    if(spratovi&lt;0 || broj_soba&lt;0 || kvadratura&lt;0) throw std::domain_error("Neispravan unos podataka.");
    Stan::adresa=adresa; Stan::spratovi=sprat; Stan::sobe=broj_soba; Stan::namjesten=namjesten; Stan::kvadrat=kvadratura;
}

void Stan::Ispisi() const {
   if(namjesten==true &amp;&amp; (sobe==2 || sobe==3 || sobe==4)){
    std::cout&lt;&lt;"Stan se nalazi na adresi ";
    for(int i=0;i&lt;adresa.length();i++) std::cout&lt;&lt;adresa[i]; 
    std::cout&lt;&lt;" na "&lt;&lt;spratovi&lt;&lt;". spratu i ima "&lt;&lt;sobe&lt;&lt;" sobe."
    &lt;&lt;"Kvadratura stana je "&lt;&lt;kvadrat&lt;&lt;" (m^2) i stan je namjesten.";
    return;
   }
   if(namjesten==false &amp;&amp; (sobe==2 || sobe==3 || sobe==4)){
    std::cout&lt;&lt;"Stan se nalazi na adresi ";for(int i=0;i&lt;adresa.length();i++) std::cout&lt;&lt;adresa[i];std::cout&lt;&lt;" na "&lt;&lt;spratovi&lt;&lt;". spratu i ima "&lt;&lt;sobe&lt;&lt;" sobe."
    &lt;&lt;"Kvadratura stana je "&lt;&lt;kvadrat&lt;&lt;" (m^2) i stan nije namjesten.";
    return;
   }
   if(namjesten==true &amp;&amp; sobe==1){
    std::cout&lt;&lt;"Stan se nalazi na adresi ";for(int i=0;i&lt;adresa.length();i++) std::cout&lt;&lt;adresa[i];std::cout&lt;&lt;" na "&lt;&lt;spratovi&lt;&lt;". spratu i ima "&lt;&lt;sobe&lt;&lt;" sobu."
    &lt;&lt;"Kvadratura stana je "&lt;&lt;kvadrat&lt;&lt;" (m^2) i stan je namjesten.";
    return;
   }
   if(namjesten==false &amp;&amp; sobe==1){
    std::cout&lt;&lt;"Stan se nalazi na adresi ";for(int i=0;i&lt;adresa.length();i++) std::cout&lt;&lt;adresa[i];std::cout&lt;&lt;" na "&lt;&lt;spratovi&lt;&lt;". spratu i ima "&lt;&lt;sobe&lt;&lt;" sobu."
    &lt;&lt;"Kvadratura stana je "&lt;&lt;kvadrat&lt;&lt;" (m^2) i stan nije namjesten.";
    return;
   }
   if(namjesten==true){
      std::cout&lt;&lt;"Stan se nalazi na adresi ";for(int i=0;i&lt;adresa.length();i++) std::cout&lt;&lt;adresa[i];std::cout&lt;&lt;" na "&lt;&lt;spratovi&lt;&lt;". spratu i ima "&lt;&lt;sobe&lt;&lt;" soba."
    &lt;&lt;"Kvadratura stana je "&lt;&lt;kvadrat&lt;&lt;" (m^2) i stan je namjesten.";
    return; 
   }
   if(namjesten==false){
      std::cout&lt;&lt;"Stan se nalazi na adresi ";for(int i=0;i&lt;adresa.length();i++) std::cout&lt;&lt;adresa[i];std::cout&lt;&lt;" na "&lt;&lt;spratovi&lt;&lt;". spratu i ima "&lt;&lt;sobe&lt;&lt;" soba."
    &lt;&lt;"Kvadratura stana je "&lt;&lt;kvadrat&lt;&lt;" (m^2) i stan nije namjesten.";
    return; 
   }
}

class Prodaja{
  std::string ime_agenta_prodaje;
  double cijena_stana;
  Datum datum_prodaje;
  Kupac kupac_stana;
  Stan kupljeni_stan;
  public:
  Prodaja(const std::string &amp;ime_agenta_prodaje,double cijena_stana,const Datum &amp;datum_prodaje,const Kupac &amp;kupac_stana,const Stan &amp;kupljeni_stan);
</font>  Prodaja(const std::string &amp;ime_agenta_prodaje,double cijena_stana,int dan_prodaje,int mjesec_prodaje,int godina_prodaje,std::string &amp;ime_kupca,
  const Datum &amp;datum_rodjenja_kupca,const std::string &amp;adresa_stana,int sprat_stana,int broj_soba,bool namjesten_stan,double broj_kvadrata);
  void PromijeniKupca(const Kupac &amp;novi_kupac){
    kupac_stana=novi_kupac;   
  }
<a name="16"></a><font color="#00FF00"><a href="match3-1.html#16" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_0.gif"/></a>

  void PromijeniStan(const Stan &amp;novi_stan){
      kupljeni_stan=novi_stan;
  }
  void PromijeniDatumKupovine(const Datum &amp;novi_datum){
      datum_prodaje=novi_datum;
  }
  void PromijeniCijenuProdaje(const double &amp;nova_cijena){
      if(nova_cijena&lt;0) throw std::domain_error("Neispravan unos podataka.");
      else cijena_stana=nova_cijena;
  }
  void PomjeriDanUnaprijed();
  void PomjeriDanUnazad();
  void PromijeniAgenta(const std::string &amp;novi){
      for(int i=0;i&lt;novi.length();i++){
        if ((novi[i]&gt;='A' &amp;&amp; novi[i]&lt;='Z') || (novi[i]&gt;='a' &amp;&amp; novi[i]&lt;='z') || (novi[i]&gt;='0' &amp;&amp; novi[i]&lt;='9') || novi[i]=='-' || novi[i]==' ' || novi[i]=='`') continue;
</font><a name="21"></a><font color="#00FF00"><a href="match3-1.html#21" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_0.gif"/></a>

        throw std::domain_error("Neispravno ime i prezime.");}
      Prodaja::ime_agenta_prodaje=novi;
  }
  std::string DajImeAgenta() const {
      return ime_agenta_prodaje;
  }
  std::string DajImeKupca() const {
      return kupac_stana.DajImePrezime();
  }
  Datum DajDatumProdaje() const {
      return datum_prodaje;
  }
  double DajCijenuStana() const {
</font>      return cijena_stana;
  }
  friend bool ProdatPrije(const Prodaja &amp;p1,const Prodaja &amp;p2);
  friend bool SkupljiStan(const Prodaja &amp;p1,const Prodaja &amp;p2);
  void Ispisi() const;
};

<a name="19"></a><font color="#FF00FF"><a href="match3-1.html#19" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_0.gif"/></a>

Prodaja::Prodaja(const std::string &amp;ime_agenta_prodaje,double cijena_stana,
const Datum &amp;datum_prodaje,const Kupac &amp;kupac_stana,const Stan &amp;kupljeni_stan) : datum_prodaje(datum_prodaje),
kupac_stana(kupac_stana),kupljeni_stan(kupljeni_stan){
    if(cijena_stana&lt;0) throw std::domain_error("Neispravan unos podataka.");
    for(int i=0;i&lt;ime_agenta_prodaje.length();i++){
        if ((ime_agenta_prodaje[i]&gt;='A' &amp;&amp; ime_agenta_prodaje[i]&lt;='Z') || (ime_agenta_prodaje[i]&gt;='a' &amp;&amp; ime_agenta_prodaje[i]&lt;='z') || (ime_agenta_prodaje[i]&gt;='0' &amp;&amp; ime_agenta_prodaje[i]&lt;='9') || ime_agenta_prodaje[i]=='-' || ime_agenta_prodaje[i]==' ' || ime_agenta_prodaje[i]=='`') continue;
</font><a name="18"></a><font color="#00FFFF"><a href="match3-1.html#18" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_0.gif"/></a>

        throw std::domain_error("Neispravno ime i prezime.");
    }
    Prodaja::ime_agenta_prodaje=ime_agenta_prodaje;
    Prodaja::cijena_stana=cijena_stana;
}

Prodaja::Prodaja(const std::string &amp;ime_agenta_prodaje,double cijena_stana,
int dan_prodaje,int mjesec_prodaje,int godina_prodaje,std::string &amp;ime_kupca,
</font>const Datum &amp;datum_rodjenja_kupca,const std::string &amp;adresa_stana,
<a name="20"></a><font color="#FF0000"><a href="match3-1.html#20" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_0.gif"/></a>

int sprat_stana,int broj_soba,bool namjesten_stan,double broj_kvadrata) : datum_prodaje(dan_prodaje,mjesec_prodaje,godina_prodaje),
kupac_stana(ime_kupca,datum_rodjenja_kupca),kupljeni_stan(adresa_stana,sprat_stana,broj_soba,namjesten_stan,broj_kvadrata)
    {
    if(cijena_stana&lt;0) throw std::domain_error("Neispravan unos podataka.");
    for(int i=0;i&lt;ime_agenta_prodaje.length();i++){
        if ((ime_agenta_prodaje[i]&gt;='A' &amp;&amp; ime_agenta_prodaje[i]&lt;='Z') || (ime_agenta_prodaje[i]&gt;='a' &amp;&amp; ime_agenta_prodaje[i]&lt;='z') || (ime_agenta_prodaje[i]&gt;='0' &amp;&amp; ime_agenta_prodaje[i]&lt;='9') || ime_agenta_prodaje[i]=='-' || ime_agenta_prodaje[i]==' ' || ime_agenta_prodaje[i]=='`') continue;
</font><a name="6"></a><font color="#00FF00"><a href="match3-1.html#6" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_5.gif"/></a>

        else throw std::domain_error("Neispravno ime i prezime.");
    }
    Prodaja::ime_agenta_prodaje=ime_agenta_prodaje;
    Prodaja::cijena_stana=cijena_stana;
}

void Prodaja::PomjeriDanUnaprijed() {
    int broj_dana[]{31,28,31,30,31,30,31,31,30,31,30,31};
    if((datum_prodaje.DajGodinu()%4==0 &amp;&amp; datum_prodaje.DajGodinu()%100!=0) || datum_prodaje.DajGodinu()%400==0) broj_dana[1]++;
    int godina=datum_prodaje.DajGodinu();
    int mjesec=datum_prodaje.DajMjesec();
    int dan=datum_prodaje.DajDan();
    dan++;
    if(dan&gt;broj_dana[mjesec-1]) {
        dan=1; mjesec++;
    }
    if(mjesec&gt;12) {
        mjesec=1; godina++;
    }
    datum_prodaje.Postavi(dan,mjesec,godina);
}

void Prodaja::PomjeriDanUnazad() {
    int broj_dana[]{31,28,31,30,31,30,31,31,30,31,30,31};
    if((datum_prodaje.DajGodinu()%4==0 &amp;&amp; datum_prodaje.DajGodinu()%100!=0) || datum_prodaje.DajGodinu()%400==0) broj_dana[1]++;
    int godina=datum_prodaje.DajGodinu();
    int mjesec=datum_prodaje.DajMjesec();
    int dan=datum_prodaje.DajDan();
    dan--;
    if(dan&lt;1) {
        dan=broj_dana[mjesec-2]; mjesec--;
    }
    if(mjesec&lt;1) {
        mjesec=12; godina--;
    }
    datum_prodaje.Postavi(dan,mjesec,godina);
}

bool ProdatPrije(const Prodaja &amp;p1,const Prodaja &amp;p2){
    Datum dat1=p1.DajDatumProdaje();
    Datum dat2=p2.DajDatumProdaje();
    if(dat1.DajGodinu()&lt;dat2.DajGodinu()) return true;
    if(dat1.DajGodinu()==dat2.DajGodinu() &amp;&amp; dat1.DajMjesec()&lt;dat2.DajMjesec()) return true;
    if(dat1.DajGodinu()==dat2.DajGodinu() &amp;&amp; dat1.DajMjesec()==dat2.DajMjesec() &amp;&amp; dat1.DajDan()&lt;dat2.DajDan()) return true;
    return false;
}

bool SkupljiStan(const Prodaja &amp;p1,const Prodaja &amp;p2){
    if (p1.DajCijenuStana()&lt;p2.DajCijenuStana()) return true;
    return false;
}

void Prodaja::Ispisi() const {
    std::cout&lt;&lt;"Ime agenta:                                    "&lt;&lt;ime_agenta_prodaje&lt;&lt;std::endl;
    std::cout&lt;&lt;"Ime kupca:                                     ";kupac_stana.Ispisi();
    std::cout&lt;&lt;"Zakazani datum prodaje:                        ";datum_prodaje.Ispisi();std::cout&lt;&lt;std::endl;
    std::cout&lt;&lt;"Cijena stana:                                  "&lt;&lt;cijena_stana&lt;&lt;std::endl;
    std::cout&lt;&lt;"Informacije o stanu:"&lt;&lt;std::endl;kupljeni_stan.Ispisi();std::cout&lt;&lt;std::endl;
    
}

class Prodaje{
   const int kapacitet;
   int trenutni;
   Prodaja **sve;
   public:
   explicit Prodaje(int max_broj_prodaja);
   Prodaje(std::initializer_list&lt;Prodaja&gt; spisak_prodaja);
   ~Prodaje();
   Prodaje(const Prodaje &amp;prodaje);
   Prodaje(Prodaje &amp;&amp;prodaje);
</font>   Prodaje &amp;operator=(const Prodaje &amp;prodaje);
   Prodaje &amp;operator=(Prodaje &amp;&amp;prodaje);
   void RegistrirajProdaju(const std::string &amp;ime_agenta_prodaje,double cijena_stana,const Datum &amp;datum_prodaje,const Kupac &amp;kupac_stana,const Stan &amp;kupljeni_stan);
   void RegistrirajProdaju(const std::string &amp;ime_agenta_prodaje,double cijena_stana,
   int dan_prodaje,int mjesec_prodaje,int godina_prodaje,std::string &amp;ime_kupca,
   const Datum &amp;datum_rodjenja_kupca,const std::string &amp;adresa_stana,
   int sprat_stana,int broj_soba,bool namjesten_stan,double broj_kvadrata);
   void RegistrirajProdaju(Prodaja *prodaja);
   int DajBrojProdaja() const;
<a name="4"></a><font color="#FF00FF"><a href="match3-1.html#4" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_6.gif"/></a>

   int DajBrojProdajaNaDatum(const Datum &amp;datum) const;
   int DajBrojProdajaOdAgenta(const std::string &amp;ime_agenta) const;
   Prodaja &amp;DajNajranijuProdaju();
   Prodaja DajNajranijuProdaju() const ;
   Prodaja &amp;DajNajskupljuProdaju();
   Prodaja DajNajskupljuProdaju() const ;
   Prodaja &amp;DajProdaju(int redni_broj_prodaje);
   void IsprazniKolekciju();
   void ObrisiNajranijuProdaju();
   void ObrisiProdajeAgenta(const std::string &amp;ime_agenta);
   void ObrisiProdajeNaDatum(const Datum &amp;datum);
   void IspisiProdajeNaDatum(const Datum &amp;datum) const;
   void IspisiSveProdaje() const;
   

};

Prodaje::~Prodaje(){
    for(int i=0;i&lt;kapacitet;i++){
        delete sve[i];
    }
    delete[] sve;
}

Prodaje::Prodaje(int max_broj_prodaja) : kapacitet(max_broj_prodaja), trenutni(0), sve(new Prodaja*[max_broj_prodaja]{}) {
}

Prodaje::Prodaje(std::initializer_list&lt;Prodaja&gt; spisak_prodaja) : kapacitet(spisak_prodaja.size()),trenutni(spisak_prodaja.size()){
    sve=new Prodaja*[spisak_prodaja.size()]{};
    int brojac(0);
    try{
    for(auto x : spisak_prodaja) sve[brojac]=new Prodaja(x);	
    }
    catch(...){
    	throw;
    }
}
Prodaje::Prodaje(const Prodaje &amp;prodaje) : kapacitet(prodaje.kapacitet),trenutni(prodaje.trenutni){
    sve=new Prodaja*[prodaje.kapacitet]{};
    try{
        for(int i=0;i&lt;prodaje.trenutni;i++){
            sve[i]=new Prodaja(*prodaje.sve[i]);
        }
    }
    catch(...){
        for(int i=0;i&lt;trenutni;i++) delete sve[i];
        delete[] sve; throw;
    }
}

Prodaje::Prodaje(Prodaje &amp;&amp;prodaje) : kapacitet(prodaje.kapacitet),trenutni(prodaje.trenutni),sve(prodaje.sve){
    prodaje.sve=nullptr; prodaje.trenutni=0;
}

Prodaje &amp;Prodaje::operator=(const Prodaje &amp;prodaje){
    if(prodaje.kapacitet!=kapacitet) throw std::logic_error("Nesaglasan broj prodaja");
    if(prodaje.trenutni&gt;trenutni){
        try{
            for(int i=trenutni;i&lt;prodaje.trenutni;i++){
                sve[i]=new Prodaja(*prodaje.sve[i]);
            }
        }
        catch(...){
            for(int i=trenutni;i&lt;prodaje.trenutni;i++){
                delete sve[i]; sve[i]=nullptr;
            }
            throw;
        }
    }
    else {
        for(int i=prodaje.trenutni;i&lt;trenutni;i++){
            delete sve[i]; sve[i]=nullptr;
        }
    }
    trenutni=prodaje.trenutni;
    for(int i=0;i&lt;trenutni;i++){
        *sve[i]=*prodaje.sve[i];
    }
    return *this;
}

Prodaje &amp;Prodaje::operator =(Prodaje &amp;&amp;prodaje){
    if(prodaje.kapacitet!=kapacitet) throw std::logic_error("Nesaglasan broj prodaja");
    std::swap(trenutni,prodaje.trenutni);
    std::swap(sve,prodaje.sve);
    return *this;
}

void Prodaje::RegistrirajProdaju(const std::string &amp;ime_agenta_prodaje,double cijena_stana,
const Datum &amp;datum_prodaje,const Kupac &amp;kupac_stana,const Stan &amp;kupljeni_stan){
    if(trenutni==kapacitet) throw std::range_error("Dostignut maksimalni broj prodaja");
        Prodaja *prodaja(nullptr);
        try{
        prodaja=new Prodaja(ime_agenta_prodaje,cijena_stana,datum_prodaje,kupac_stana,kupljeni_stan);
        RegistrirajProdaju(prodaja);
        }
        catch(...){
            delete prodaja; prodaja=nullptr;
            throw;
        }

}

void Prodaje::RegistrirajProdaju(const std::string &amp;ime_agenta_prodaje,double cijena_stana,
   int dan_prodaje,int mjesec_prodaje,int godina_prodaje,std::string &amp;ime_kupca,
</font><a name="0"></a><font color="#FF0000"><a href="match3-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_11.gif"/></a>

   const Datum &amp;datum_rodjenja_kupca,const std::string &amp;adresa_stana,
   int sprat_stana,int broj_soba,bool namjesten_stan,double broj_kvadrata){
    if(trenutni==kapacitet) throw std::range_error("Dostignut maksimalni broj prodaja");
    Prodaja *prodaja(nullptr);
    try{
        prodaja=new Prodaja(ime_agenta_prodaje,cijena_stana,dan_prodaje,mjesec_prodaje,godina_prodaje,ime_kupca,
        datum_rodjenja_kupca,adresa_stana,sprat_stana,broj_soba,namjesten_stan,broj_kvadrata);
        RegistrirajProdaju(prodaja);
    }
    catch(...){
        delete prodaja; prodaja=nullptr; throw;
    }
   }

void Prodaje::RegistrirajProdaju(Prodaja *prodaja){
    if(trenutni==kapacitet) throw std::range_error("Dostignut maksimalni broj prodaja");
    sve[trenutni]=prodaja;
    trenutni++;
}

int Prodaje::DajBrojProdaja() const {
    return trenutni;
}

int Prodaje::DajBrojProdajaNaDatum(const Datum &amp;datum) const {
    int brojac=std::count_if(sve,sve+trenutni,[datum] (const Prodaja *prodaja){
        Datum dat=prodaja-&gt;DajDatumProdaje();
        if (datum.DajGodinu()==dat.DajGodinu() &amp;&amp; datum.DajMjesec()==dat.DajMjesec() &amp;&amp; datum.DajDan()== dat.DajDan()) return true;
        return false;
    }
    );
    return brojac;
}

int Prodaje::DajBrojProdajaOdAgenta(const std::string &amp;ime_agenta) const {
	int brojac=std::count_if(sve,sve+trenutni,[ime_agenta] (const Prodaja *prodaja){
        std::string ime=prodaja-&gt;DajImeAgenta();
        if (ime==ime_agenta) return true;
        return false;
    }
    );
    return brojac;
}

Prodaja &amp;Prodaje::DajNajranijuProdaju() {
   if(trenutni==0) throw std::domain_error("Nema registriranih prodaja");
     auto pok=std::min_element(sve,sve+trenutni,[] (Prodaja *prodaja1,Prodaja *prodaja2){
    Datum dat1=prodaja1-&gt;DajDatumProdaje();
    Datum dat2=prodaja2-&gt;DajDatumProdaje(); 
    if(dat1.DajGodinu()&lt;dat2.DajGodinu()) return true;
    if(dat1.DajGodinu()==dat2.DajGodinu() &amp;&amp; dat1.DajMjesec()&lt;dat2.DajMjesec()) return true;
    if(dat1.DajGodinu()==dat2.DajGodinu() &amp;&amp; dat1.DajMjesec()==dat2.DajMjesec() &amp;&amp; dat1.DajDan()&lt;dat2.DajDan()) return true;
    return false; });
    return *(*pok);
}

Prodaja Prodaje::DajNajranijuProdaju() const {
   if(trenutni==0) throw std::domain_error("Nema registriranih prodaja");
    auto pok=std::min_element(sve,sve+trenutni,[] (Prodaja *prodaja1,Prodaja *prodaja2){
    Datum dat1=prodaja1-&gt;DajDatumProdaje();
    Datum dat2=prodaja2-&gt;DajDatumProdaje(); 
    if(dat1.DajGodinu()&lt;dat2.DajGodinu()) return true;
    if(dat1.DajGodinu()==dat2.DajGodinu() &amp;&amp; dat1.DajMjesec()&lt;dat2.DajMjesec()) return true;
    if(dat1.DajGodinu()==dat2.DajGodinu() &amp;&amp; dat1.DajMjesec()==dat2.DajMjesec() &amp;&amp; dat1.DajDan()&lt;dat2.DajDan()) return true;
    return false; });
    return **pok;
}

Prodaja &amp;Prodaje::DajNajskupljuProdaju(){
   if(trenutni==0) throw std::domain_error("Nema registriranih prodaja");
    auto pok=std::max_element(sve,sve+trenutni,[] (const Prodaja *prodaja1,const Prodaja *prodaja2) {
        return prodaja1-&gt;DajCijenuStana()&gt;prodaja2-&gt;DajCijenuStana();
    });
    return *(*pok);
}

Prodaja Prodaje::DajNajskupljuProdaju() const {
    if(trenutni==0) throw std::domain_error("Nema registriranih prodaja");
    auto pok=std::max_element(sve,sve+trenutni,[] (const Prodaja *prodaja1,const Prodaja *prodaja2) {
        return prodaja1-&gt;DajCijenuStana()&gt;prodaja2-&gt;DajCijenuStana();
    });
    return *(*pok);
}

Prodaja &amp;Prodaje::DajProdaju(int redni_broj_prodaje) {
    if(redni_broj_prodaje&lt;1 || redni_broj_prodaje&gt;trenutni) throw std::logic_error("Neispravan redni broj prodaje");
    if(trenutni==0) throw std::domain_error("Nema registriranih prodaja");
    return *(sve[redni_broj_prodaje-1]);
}

void Prodaje::IsprazniKolekciju(){
    for(int i=0;i&lt;trenutni;i++){
        delete sve[i]; sve[i]=nullptr;
    }
}

void Prodaje::ObrisiNajranijuProdaju(){
    if(trenutni==0) throw std::range_error("Prazna kolekcija");
    auto nova=DajNajranijuProdaju();
    auto dat2=nova.DajDatumProdaje();
    for(int i=0;i&lt;trenutni;i++){
        auto dat1=sve[i]-&gt;DajDatumProdaje();
        if(dat1.DajGodinu()==dat2.DajGodinu() &amp;&amp; dat1.DajMjesec()==dat2.DajMjesec() &amp;&amp; dat1.DajDan()==dat2.DajDan()) {
            delete sve[i]; sve[i]=nullptr;
            
        }
    }
}

void Prodaje::ObrisiProdajeNaDatum(const Datum &amp;datum){
    for(int i=0;i&lt;trenutni;i++){
        Datum dat=sve[i]-&gt;DajDatumProdaje();
        if(dat.DajGodinu()==datum.DajGodinu() &amp;&amp; dat.DajMjesec()==datum.DajMjesec() &amp;&amp; dat.DajDan()==datum.DajDan()){
            delete sve[i]; sve[i]=nullptr;
        }
    }
}

void Prodaje::ObrisiProdajeAgenta(const std::string &amp;ime_agenta){
    for(int i=0;i&lt;trenutni;i++){
        if(sve[i]-&gt;DajImeAgenta()==ime_agenta){
            delete sve[i]; sve[i]=nullptr;
        }
    }
}

void Prodaje::IspisiProdajeNaDatum(const Datum &amp;datum) const {
    for(int i=0;i&lt;trenutni;i++){
       Datum dat=sve[i]-&gt;DajDatumProdaje();
       if(dat.DajGodinu()==datum.DajGodinu() &amp;&amp; dat.DajMjesec()==datum.DajMjesec() &amp;&amp; dat.DajDan()==datum.DajDan()){
           sve[i]-&gt;Ispisi();
       }
    }
}

void Prodaje::IspisiSveProdaje() const {
    for(int i=0;i&lt;trenutni;i++){
        sve[i]-&gt;Ispisi();
    }
}


int main ()
{
	std::cout&lt;&lt;"Dobrodosli!"&lt;&lt;std::endl&lt;&lt;std::endl&lt;&lt;std::endl;
	std::vector&lt;Stan&gt; stanovi; std::vector&lt;Kupac&gt; kupci; Prodaje prodaje(20);
	int opcija_pocetni,opcija_stan,opcija_kupac,opcija_prodaja;
	  for(;;) {
	  	std::cout&lt;&lt;"Izaberite opciju:"&lt;&lt;std::endl
	    &lt;&lt;" 0 - kraj"&lt;&lt;std::endl
	    &lt;&lt;" 1 - uredjivanje stanova"&lt;&lt;std::endl
	    &lt;&lt;" 2 - uredjivanje kupaca"&lt;&lt;std::endl
	    &lt;&lt;" 3 - uredjivanje prodaja"&lt;&lt;std::endl;
	    std::cin&gt;&gt;opcija_pocetni;
	    if(opcija_pocetni==0) {std::cout&lt;&lt;std::endl&lt;&lt;std::endl; return 0;}
	    if(opcija_pocetni==1){
	    for(;;){
	    	std::cout&lt;&lt;"Izaberite opciju:"&lt;&lt;std::endl
	    &lt;&lt;" 0 - nazad"&lt;&lt;std::endl
	    &lt;&lt;" 1 - dodavanje stana"&lt;&lt;std::endl
</font>	    &lt;&lt;" 2 - uredjivanje stanova"&lt;&lt;std::endl
<a name="9"></a><font color="#FF00FF"><a href="match3-1.html#9" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_3.gif"/></a>

	    &lt;&lt;" 3 - ispis svih stanova"&lt;&lt;std::endl
	    &lt;&lt;" 4 - kraj"&lt;&lt;std::endl;
	    std::cin&gt;&gt;opcija_stan;
	    if(opcija_stan==1){
	      for(;;){
	      	std::string adresa;
	      int sprat,broj_soba;
	      double kvadratura;
	      bool namjesten;
	      int jel;
	      std::cout&lt;&lt;"Unesite adresu: ";std::cin.ignore(1000,'\n'); std::getline(std::cin,adresa); std::cout&lt;&lt;"Unesite sprat: ";
	      std::cin&gt;&gt;sprat; std::cout&lt;&lt;"Unesite broj soba: "; std::cin&gt;&gt;broj_soba;
	      std::cout&lt;&lt;"Da li je stan namjesten (1 - da, 0 - ne): "; std::cin&gt;&gt;jel;
	      std::cout&lt;&lt;"Unesite kvadraturu: "; std::cin&gt;&gt;kvadratura;
	      if(jel!=1 &amp;&amp; jel!=0) {std::cout&lt;&lt;"Izuzetak: Neispravan unos podataka. Molimo unesite opet."&lt;&lt;std::endl; goto label1;}
	      if(jel==1) namjesten=true; if(jel==0) namjesten=false;
	      try{
	        Stan stan(adresa,sprat,broj_soba,namjesten,kvadratura);
	        stanovi.push_back(stan);
	        std::cout&lt;&lt;"Stan je uspjesno dodan!"&lt;&lt;std::endl&lt;&lt;std::endl; break;
	        
	      }
	      catch(std::domain_error e){
	          std::cout&lt;&lt;"Izuzetak: "&lt;&lt;e.what()&lt;&lt;" Molimo unesite opet."&lt;&lt;std::endl;
	      }
	      label1: ;
	      }
	      
	    }
	    if(opcija_stan==2){
	      for(;;){
	      	int i; 
	      	std::cout&lt;&lt;"Odaberite stan. Dostupni stanovi su:"&lt;&lt;std::endl;
	      for(int j=0;j&lt;stanovi.size();j++){
	           std::cout&lt;&lt;" "&lt;&lt;j+1&lt;&lt;" - ";
	           stanovi[j].Ispisi(); std::cout&lt;&lt;std::endl;
	       }
	       std::cin&gt;&gt;i; i--;
	       std::cout&lt;&lt;"Odaberite polje koje zelite urediti:"&lt;&lt;std::endl
	       &lt;&lt;" 0 - nazad"&lt;&lt;std::endl
	       &lt;&lt;" 1 - adresa"&lt;&lt;std::endl
</font>	       &lt;&lt;" 2 - sprat"&lt;&lt;std::endl
	       &lt;&lt;" 3 - broj soba"&lt;&lt;std::endl
	       &lt;&lt;" 4 - da li je stan namjesten"&lt;&lt;std::endl
<a name="2"></a><font color="#0000FF"><a href="match3-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_11.gif"/></a>

	       &lt;&lt;" 5 - kvadratura"&lt;&lt;std::endl
	       &lt;&lt;" 6 - sve"&lt;&lt;std::endl;
	       int polje; std::cin&gt;&gt;polje;
	       if(polje==0) break;
	       if(polje==1){
	       for(;;) {   std::string adresa;
	           std::cin.ignore(1000,'\n');std::cout&lt;&lt;"Unesite adresu: ";
	           std::getline(std::cin,adresa); 
	        int sprat=stanovi[i].DajSprat(); int broj_soba=stanovi[i].DajBrojSoba();
	      double kvadratura=stanovi[i].DajKvadraturu();
	      bool namjesten=stanovi[i].DajNamjesten();
	      try{
	          stanovi[i].Postavi(adresa,sprat,broj_soba,namjesten,kvadratura);
	          std::cout&lt;&lt;"Stan je uspjesno izmijenjen"&lt;&lt;std::endl&lt;&lt;std::endl; break;
	      }
	      catch(std::domain_error e){
	          std::cout&lt;&lt;"Izuzetak: "&lt;&lt;e.what()&lt;&lt;" Molimo unesite opet."&lt;&lt;std::endl;
	      }
	       }
	       break;
	       }
	       if(polje==2){
	        for(;;){  int sprat;
	          std::cout&lt;&lt;"Unesite sprat: "; 
	          std::cin&gt;&gt;sprat;
	             std::string adresa=stanovi[i].DajAdresu();
	      int broj_soba=stanovi[i].DajBrojSoba();
	      double kvadratura=stanovi[i].DajKvadraturu();
	      bool namjesten=stanovi[i].DajNamjesten();
	      try{
	          stanovi[i].Postavi(adresa,sprat,broj_soba,namjesten,kvadratura);
	          std::cout&lt;&lt;"Stan je uspjesno izmijenjen"&lt;&lt;std::endl&lt;&lt;std::endl; break;
	      }
	      catch(std::domain_error e){
	          std::cout&lt;&lt;"Izuzetak: "&lt;&lt;e.what()&lt;&lt;" Molimo unesite opet."&lt;&lt;std::endl;
	      }
	       }
	       break;
	       }
	       if(polje==3){
	         for(;;){  int broj_soba;
	           std::cout&lt;&lt;"Unesite broj soba: ";
	           std::cin&gt;&gt;broj_soba;
	              std::string adresa=stanovi[i].DajAdresu();
	        int sprat=stanovi[i].DajSprat();
	      double kvadratura=stanovi[i].DajKvadraturu();
	      bool namjesten=stanovi[i].DajNamjesten();
	      try{
	          stanovi[i].Postavi(adresa,sprat,broj_soba,namjesten,kvadratura);
	          std::cout&lt;&lt;"Stan je uspjesno izmijenjen"&lt;&lt;std::endl&lt;&lt;std::endl; break; 
	      }
	      catch(std::domain_error e){
	          std::cout&lt;&lt;"Izuzetak: "&lt;&lt;e.what()&lt;&lt;" Molimo unesite opet."&lt;&lt;std::endl; 
	      }
	       }
	       break;
	       }
	       if(polje==4){
	       for(;;){    int jel;
	           std::cout&lt;&lt;"Da li je stan namjesten (1 - da, 0 - ne): ";
	           std::cin&gt;&gt;jel;
	              std::string adresa=stanovi[i].DajAdresu();
	              int broj_soba=stanovi[i].DajBrojSoba();
	        int sprat=stanovi[i].DajSprat();
	      double kvadratura=stanovi[i].DajKvadraturu();
	      bool namjesten; if(jel==1) namjesten=true; else namjesten=false;if(jel!=1 &amp;&amp; jel!=0) {std::cout&lt;&lt;"Izuzetak: Neispravan unos podataka. Molimo unesite opet."&lt;&lt;std::endl; goto label4;}
	      try{
	          stanovi[i].Postavi(adresa,sprat,broj_soba,namjesten,kvadratura);
	          std::cout&lt;&lt;"Stan je uspjesno izmijenjen"&lt;&lt;std::endl&lt;&lt;std::endl; break;
	      }
	      catch(std::domain_error e){
	          std::cout&lt;&lt;"Izuzetak: "&lt;&lt;e.what()&lt;&lt;" Molimo unesite opet."&lt;&lt;std::endl;
	      }
	      label4: ;
	       }
	       break;
	       }
	       if(polje==5){
	       for(;;){    double kvadratura;
	           std::cout&lt;&lt;"Unesite kvadraturu: ";
	           std::cin&gt;&gt;kvadratura;
	           int broj_soba=stanovi[i].DajBrojSoba();
	              std::string adresa=stanovi[i].DajAdresu();
	        int sprat=stanovi[i].DajSprat();
	      bool namjesten=stanovi[i].DajNamjesten();
	      try{
	          stanovi[i].Postavi(adresa,sprat,broj_soba,namjesten,kvadratura);
	          std::cout&lt;&lt;"Stan je uspjesno izmijenjen"&lt;&lt;std::endl&lt;&lt;std::endl; break;
	      }
	      catch(std::domain_error e){
	          std::cout&lt;&lt;"Izuzetak: "&lt;&lt;e.what()&lt;&lt;" Molimo unesite opet."&lt;&lt;std::endl;
	      }
	       }
	       break;
	       }
	       if(polje==6){
	     for(;;){  std::string adresa;
	      int sprat,broj_soba;
	      double kvadratura;
	      bool namjesten;
	      int jel;
	      std::cin.ignore(1000,'\n');std::cout&lt;&lt;"Unesite adresu: "; std::getline(std::cin,adresa); 
	      std::cout&lt;&lt;"Unesite sprat: ";
	      std::cin&gt;&gt;sprat; std::cout&lt;&lt;"Unesite broj soba: "; std::cin&gt;&gt;broj_soba;
	      std::cout&lt;&lt;"Da li je stan namjesten (1 - da, 0 - ne): "; std::cin&gt;&gt;jel; if(jel==1) namjesten=true; if(jel==0) namjesten=false;if(jel!=1 &amp;&amp; jel!=0) {std::cout&lt;&lt;"Izuzetak: Neispravan unos podataka. Molimo unesite opet."&lt;&lt;std::endl; goto label5;}
	      std::cout&lt;&lt;"Unesite kvadraturu: "; std::cin&gt;&gt;kvadratura;
	      try{
	        stanovi[i].Postavi(adresa,sprat,broj_soba,namjesten,kvadratura);
	        std::cout&lt;&lt;"Stan je uspjesno izmijenjen!"&lt;&lt;std::endl&lt;&lt;std::endl; break;
	        
	      }
	      catch(std::domain_error e){
	          std::cout&lt;&lt;"Izuzetak: "&lt;&lt;e.what()&lt;&lt;" Molimo unesite opet."&lt;&lt;std::endl; 
	      }
	      label5: ;
	   
	       }
	       break;
	       }
	      }
	       
	    }
	    if(opcija_stan==3){
	       for(int i=0;i&lt;stanovi.size();i++){
	           std::cout&lt;&lt;i+1&lt;&lt;". ";
	           stanovi[i].Ispisi(); std::cout&lt;&lt;std::endl;
	       } 
	    }
	    if(opcija_stan==4){
	        std::cout&lt;&lt;std::endl&lt;&lt;std::endl&lt;&lt;std::endl&lt;&lt;"Dovidjenja!"; return 0;
	    }
	    if(opcija_stan==0) break;
	    }
	    }
	    if(opcija_pocetni==2){
	     for(;;) {  std::cout&lt;&lt;"Izaberite opciju:"&lt;&lt;std::endl
	    &lt;&lt;" 0 - nazad"&lt;&lt;std::endl
	    &lt;&lt;" 1 - dodavanje kupca"&lt;&lt;std::endl
</font>	    &lt;&lt;" 2 - uredjivanje kupaca"&lt;&lt;std::endl
<a name="7"></a><font color="#0000FF"><a href="match3-1.html#7" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_5.gif"/></a>

	    &lt;&lt;" 3 - ispis svih kupaca"&lt;&lt;std::endl
	    &lt;&lt;" 4 - kraj"&lt;&lt;std::endl;
	    std::cin&gt;&gt;opcija_kupac;
	    if(opcija_kupac==4) {std::cout&lt;&lt;std::endl&lt;&lt;std::endl&lt;&lt;std::endl&lt;&lt;"Dovidjenja!"; return 0;}
	    if(opcija_kupac==0) break;
	    if(opcija_kupac==3){
	        for(int i=0;i&lt;kupci.size();i++){
	            kupci[i].Ispisi(); std::cout&lt;&lt;std::endl;
	        }
	    }
	    if(opcija_kupac==1){
	    for(;;){    std::string ime_kupca; int dan,mjesec,godina;
	        std::cin.ignore(1000,'\n'); std::cout&lt;&lt;"Unesite ime i prezime kupca: ";
	        std::getline(std::cin,ime_kupca);
	        std::cout&lt;&lt;"Unesite datum rodjenja (formata d/m/g): ";
	   
	        std::cin&gt;&gt;dan;  std::cin.ignore(2,'/');std::cin&gt;&gt;mjesec; std::cin.ignore(2,'/');std::cin&gt;&gt;godina;
	        try{
	            Datum dat(dan,mjesec,godina);
	            Kupac kupac(ime_kupca,dat);
	            kupci.push_back(kupac);
	            std::cout&lt;&lt;"Kupac je uspjesno dodan!"&lt;&lt;std::endl&lt;&lt;std::endl; break;
	        }
	        catch(std::domain_error e){
	            std::cout&lt;&lt;"Izuzetak: "&lt;&lt;e.what()&lt;&lt;" Molimo unesite opet."&lt;&lt;std::endl;
	        }
	    }
	    }
	    if(opcija_kupac==2){
	       for(;;){ std::cout&lt;&lt;"Odaberite kupca kojeg zelite urediti. Dostupni kupci su:"&lt;&lt;std::endl;
	        for(int i=0;i&lt;kupci.size();i++){
	            std::cout&lt;&lt;" "&lt;&lt;i+1&lt;&lt;" - ";
	            kupci[i].Ispisi();
	        }
	        int i; std::cin&gt;&gt;i;
	        std::string ime_kupca; int dan,mjesec,godina;
	        std::cin.ignore(1000,'\n');std::cout&lt;&lt;"Unesite ime i prezime kupca: ";
	        std::getline(std::cin,ime_kupca); 
	        std::cout&lt;&lt;"Unesite datum rodjenja (formata d/m/g): ";
	        std::cin&gt;&gt;dan;  std::cin.ignore(2,'/');std::cin&gt;&gt;mjesec; std::cin.ignore(2,'/');std::cin&gt;&gt;godina;
	        try{
	            Datum dat(dan,mjesec,godina);
	            Kupac kupac(ime_kupca,dat);
	            kupci[i-1]=kupac;
	            std::cout&lt;&lt;"Kupac je uspjesno izmijenjen!"&lt;&lt;std::endl&lt;&lt;std::endl; break;
	        }
	        catch(std::domain_error e){
	            std::cout&lt;&lt;"Izuzetak: "&lt;&lt;e.what()&lt;&lt;" Molimo unesite opet."&lt;&lt;std::endl;
	        }
	    }
	    }
	    }
	    }
	    if(opcija_pocetni==3){
	    for(;;){    std::cout&lt;&lt;"Izaberite opciju:"&lt;&lt;std::endl
	    &lt;&lt;" 0 - nazad"&lt;&lt;std::endl
	    &lt;&lt;" 1 - dodavanje prodaje"&lt;&lt;std::endl
</font>	    &lt;&lt;" 2 - uredjivanje prodaje"&lt;&lt;std::endl
	    &lt;&lt;" 3 - ispis prodaja"&lt;&lt;std::endl
<a name="3"></a><font color="#00FFFF"><a href="match3-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_10.gif"/></a>

        &lt;&lt;" 4 - brisanje prodaja"&lt;&lt;std::endl
	    &lt;&lt;" 5 - kraj"&lt;&lt;std::endl;
	    std::cin&gt;&gt;opcija_prodaja;
	    if(opcija_prodaja==0) break;
	    if(opcija_prodaja==4) {std::cout&lt;&lt;std::endl&lt;&lt;std::endl&lt;&lt;std::endl&lt;&lt;"Dovidjenja!"; return 0;}
	    if(opcija_prodaja==1){
	     for(;;){ int n;
	        std::cout&lt;&lt;"Izaberite opciju:"&lt;&lt;std::endl
	    &lt;&lt;" 0 - nazad"&lt;&lt;std::endl
	    &lt;&lt;" 1 - dodavanje potpuno nove prodaje"&lt;&lt;std::endl
	    &lt;&lt;" 2 - dodavanje nove prodaje na osnovu arhive"&lt;&lt;std::endl
	    &lt;&lt;" 3 - kraj"&lt;&lt;std::endl;
	    std::cin&gt;&gt;n;
	    if(n==0) break;
	    if(n==3) {std::cout&lt;&lt;std::endl&lt;&lt;std::endl&lt;&lt;std::endl&lt;&lt;"Dovidjenja!"; return 0;}
	    if(n==1){
	     for(;;){   std::string ime_agenta_prodaje,ime_kupca,adresa; int dan_prodaje,mjesec_prodaje,godina_prodaje,dan,mjesec,godina;
	        double cijena_stana,kvadratura; int sprat,broj_soba,jel; bool namjesten;
	         std::cin.ignore(1000,'\n');std::cout&lt;&lt;"Unesite ime i prezime agenta prodaje: "; std::getline(std::cin,ime_agenta_prodaje);
	        std::cout&lt;&lt;"Unesite datum prodaje (formata d/m/g): "; std::cin&gt;&gt;dan_prodaje;  std::cin.ignore(2,'/');std::cin&gt;&gt;mjesec_prodaje; std::cin.ignore(2,'/');std::cin&gt;&gt;godina_prodaje;
	        std::cout&lt;&lt;"Unesite cijenu stana: "; std::cin&gt;&gt;cijena_stana;
	        std::cin.ignore(1000,'\n');std::cout&lt;&lt;"Unesite ime kupca: "; std::getline(std::cin,ime_kupca);
	        std::cout&lt;&lt;"Unesite datum rodjenja kupca (formata d/m/g): "; std::cin&gt;&gt;dan;  std::cin.ignore(2,'/');std::cin&gt;&gt;mjesec; std::cin.ignore(2,'/');std::cin&gt;&gt;godina;
	        std::cin.ignore(1000,'\n');std::cout&lt;&lt;"Unesite adresu: "; std::getline(std::cin,adresa); std::cout&lt;&lt;"Unesite sprat: ";
	      std::cin&gt;&gt;sprat; std::cout&lt;&lt;"Unesite broj soba: "; std::cin&gt;&gt;broj_soba;
	      std::cout&lt;&lt;"Da li je stan namjesten (1 - da, 0 - ne): "; std::cin&gt;&gt;jel; if(jel==1) namjesten=true; if(jel==0) namjesten=false;if(jel!=1 &amp;&amp; jel!=0) {std::cout&lt;&lt;"Izuzetak: Neispravan unos podataka. Molimo unesite opet."&lt;&lt;std::endl; goto label2;}
	      std::cout&lt;&lt;"Unesite kvadraturu: "; std::cin&gt;&gt;kvadratura;
	      try{
	          Datum datum_rodjenja_kupca(dan,mjesec,godina);
	          Kupac kupac(ime_kupca,datum_rodjenja_kupca);
	          kupci.push_back(kupac);
	          Stan stan(adresa,sprat,broj_soba,namjesten,kvadratura);
	          stanovi.push_back(stan);
	          prodaje.RegistrirajProdaju(ime_agenta_prodaje,cijena_stana,dan_prodaje,mjesec_prodaje,godina_prodaje,ime_kupca,
            datum_rodjenja_kupca,adresa,sprat,broj_soba,namjesten,kvadratura);
            std::cout&lt;&lt;"Prodaja uspjesno dodana!"&lt;&lt;std::endl&lt;&lt;std::endl; break; 
	      }
	      catch(std::domain_error e){
	          std::cout&lt;&lt;"Izuzetak: "&lt;&lt;e.what()&lt;&lt;" Molimo unesite opet.";
	      }
	      label2: ;
	    }  
	    }
	    if(n==2){
	    for(;;){  std::string ime_agenta_prodaje; double cijena_stana; int dan_prodaje,mjesec_prodaje,godina_prodaje;
	      std::cin.ignore(1000,'\n');std::cout&lt;&lt;"Unesite ime i prezime agenta prodaje: "; std::getline(std::cin,ime_agenta_prodaje); 
	        std::cout&lt;&lt;"Unesite datum prodaje (formata d/m/g): "; std::cin&gt;&gt;dan_prodaje;  std::cin.ignore(2,'/');std::cin&gt;&gt;mjesec_prodaje; std::cin.ignore(2,'/');std::cin&gt;&gt;godina_prodaje;
	        std::cout&lt;&lt;"Unesite cijenu stana: "; std::cin&gt;&gt;cijena_stana;
	 
	        int n,m;
	        std::cout&lt;&lt;"Odaberite kupca. Dostupni kupci su:"&lt;&lt;std::endl;
	        for(int i=0;i&lt;kupci.size();i++){
	            std::cout&lt;&lt;" "&lt;&lt;i+1&lt;&lt;" - ";
	            kupci[i].Ispisi();
	        }
	        std::cin&gt;&gt;n; n--;
	        std::cout&lt;&lt;"Odaberite stan. Dostupni stanovi su:"&lt;&lt;std::endl;
	      for(int i=0;i&lt;stanovi.size();i++){
	           std::cout&lt;&lt;" "&lt;&lt;i+1&lt;&lt;" - ";
	           stanovi[i].Ispisi(); std::cout&lt;&lt;std::endl;
	       }
	       std::cin&gt;&gt;m; m--;
	       try{
	         Datum dat(dan_prodaje,mjesec_prodaje,godina_prodaje);
	         prodaje.RegistrirajProdaju(ime_agenta_prodaje,cijena_stana,dat,kupci[n],stanovi[m]);  
	         std::cout&lt;&lt;"Prodaja uspjeno dodana!"&lt;&lt;std::endl&lt;&lt;std::endl; break;
	       }
	       catch(std::domain_error e){
	          std::cout&lt;&lt;"Izuzetak: "&lt;&lt;e.what()&lt;&lt;" Molimo unesite opet."&lt;&lt;std::endl; 
	      }
	    } 
	    }
	    }
	    }
	    if(opcija_prodaja==2){
		  int i;
	      std::cout&lt;&lt;"Odaberite prodaju koju zelite urediti. Dostupne prodaje su:"&lt;&lt;std::endl;
	      prodaje.IspisiSveProdaje();
	      std::cin&gt;&gt;i;
	       int izmjenaprodaje;
	      std::cout&lt;&lt;"Izaberite opciju:"&lt;&lt;std::endl
	    &lt;&lt;" 0 - nazad"&lt;&lt;std::endl
	    &lt;&lt;" 1 - izmjena agenta"&lt;&lt;std::endl
</font>	    &lt;&lt;" 2 - izmjena datuma prodaje"&lt;&lt;std::endl
	    &lt;&lt;" 3 - izmjena kupca"&lt;&lt;std::endl
        &lt;&lt;" 4 - izmjena stana"&lt;&lt;std::endl
<a name="1"></a><font color="#00FF00"><a href="match3-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_11.gif"/></a>

	    &lt;&lt;" 5 - izmjena cijene stana"&lt;&lt;std::endl
	    &lt;&lt;" 6 - kraj"&lt;&lt;std::endl;
	      std::cin&gt;&gt;izmjenaprodaje;
	      if(izmjenaprodaje==0) break;
	      if(izmjenaprodaje==6) {std::cout&lt;&lt;std::endl&lt;&lt;std::endl&lt;&lt;std::endl&lt;&lt;"Dovidjenja!"; return 0;}
	      if(izmjenaprodaje==1){
	      for(;;){    std::string noviagent;
	          std::cin.ignore(1000,'\n');std::cout&lt;&lt;"Unesite ime i prezime agenta prodaje: ";
	          std::getline(std::cin,noviagent); 
	          try{
	              
	              auto prodaja=prodaje.DajProdaju(i);
	              prodaja.PromijeniAgenta(noviagent);
	              std::cout&lt;&lt;"Prodaja je uspijesno izmijenjena!"&lt;&lt;std::endl&lt;&lt;std::endl; break;
	          }
	          catch(std::domain_error e){
	              std::cout&lt;&lt;"Izuzetak: "&lt;&lt;e.what()&lt;&lt;" Molimo unesite opet."&lt;&lt;std::endl;
	          }
	      } 
	      }
	      if(izmjenaprodaje==2){
	      for(;;){    int dan,mjesec,godina;
	          std::cout&lt;&lt;"Unesite datum prodaje (formata d/m/g): ";
	          std::cin&gt;&gt;dan;  std::cin.ignore(2,'/');std::cin&gt;&gt;mjesec; std::cin.ignore(2,'/');std::cin&gt;&gt;godina;
	          try{
	          Datum dat(dan,mjesec,godina);
	          auto prodaja=prodaje.DajProdaju(i);
	          
	            prodaja.PromijeniDatumKupovine(dat); 
	            std::cout&lt;&lt;"Prodaja je uspijesno izmijenjena!"&lt;&lt;std::endl&lt;&lt;std::endl; break;
	          }
	          catch(std::domain_error e){
	              std::cout&lt;&lt;"Izuzetak: "&lt;&lt;e.what()&lt;&lt;" Molimo unesite opet."&lt;&lt;std::endl; 
	          }
	      }
	      }
	       if(izmjenaprodaje==3){
	      for(;;){   int x;
	          std::cout&lt;&lt;"Izaberite opciju:"&lt;&lt;std::endl
	          &lt;&lt;" 0 - nazad"&lt;&lt;std::endl
	    &lt;&lt;" 1 - odabir postojeceg kupca"&lt;&lt;std::endl
	    &lt;&lt;" 2 - dodavanje novog kupca"&lt;&lt;std::endl;
	    std::cin&gt;&gt;x;
	    if(x==0) break;
	    if(x==1) {
	        int n;
	        std::cout&lt;&lt;"Odaberite kupca. Dostupni kupci su:"&lt;&lt;std::endl;
	        for(int i=0;i&lt;kupci.size();i++){
	            std::cout&lt;&lt;" "&lt;&lt;i+1&lt;&lt;" - ";
	            kupci[i].Ispisi(); std::cout&lt;&lt;std::endl;
	        }
	        std::cin&gt;&gt;n; n--;
	        auto prodaja=prodaje.DajProdaju(i);
	        prodaja.PromijeniKupca(kupci[n]);
	        std::cout&lt;&lt;"Prodaja je uspijesno izmijenjena!"&lt;&lt;std::endl&lt;&lt;std::endl; break;
	    }
	    if(x==2){
	      for(;;){  std::string ime_kupca; int dan,mjesec,godina;
	        std::cin.ignore(1000,'\n');std::cout&lt;&lt;"Unesite ime i prezime kupca: ";
	        std::getline(std::cin,ime_kupca);
	        std::cout&lt;&lt;"Unesite datum rodjenja (formata d/m/g): ";
	        std::cin&gt;&gt;dan;  std::cin.ignore(2,'/');std::cin&gt;&gt;mjesec; std::cin.ignore(2,'/');std::cin&gt;&gt;godina;
	        try{
	            Datum dat(dan,mjesec,godina);
	            Kupac kupac(ime_kupca,dat);
	            auto prodaja=prodaje.DajProdaju(i);
	            prodaja.PromijeniKupca(kupac);
	            std::cout&lt;&lt;"Prodaja je uspjesno izmijenjena!"&lt;&lt;std::endl&lt;&lt;std::endl; break;
	        }
	        catch(std::domain_error e){
	            std::cout&lt;&lt;"Izuzetak: "&lt;&lt;e.what()&lt;&lt;" Molimo unesite opet."&lt;&lt;std::endl; 
	        }
	    }
	    }
	       }
	      }
	      if(izmjenaprodaje==4){
	     for(;;){     int x;
	          std::cout&lt;&lt;"Izaberite opciju:"&lt;&lt;std::endl
	          &lt;&lt;" 0 - nazad"&lt;&lt;std::endl
	    &lt;&lt;" 1 - odabir postojeceg stana"&lt;&lt;std::endl
	    &lt;&lt;" 2 - dodavanje novog stana"&lt;&lt;std::endl;
	    std::cin&gt;&gt;x;
	    if(x==0) break;
	    if(x==1){
	       int n;
	        std::cout&lt;&lt;"Odaberite stan. Dostupni stanovi su:"&lt;&lt;std::endl;
	      for(int i=0;i&lt;stanovi.size();i++){
	           std::cout&lt;&lt;" "&lt;&lt;i+1&lt;&lt;" - ";
	           stanovi[i].Ispisi(); std::cout&lt;&lt;std::endl;
	       }
	       std::cin&gt;&gt;n; n--;
	       auto prodaja=prodaje.DajProdaju(i);
	       prodaja.PromijeniStan(stanovi[n]); std::cout&lt;&lt;"Prodaja uspijesno izmijenjena!"&lt;&lt;std::endl&lt;&lt;std::endl; break;
	    }
	    if(x==2){
	     for(;;){   std::string adresa;
	      int sprat,broj_soba;
	      double kvadratura;
	      bool namjesten;
	      int jel;
	      std::cin.ignore(1000,'\n');std::cout&lt;&lt;"Unesite adresu: "; std::getline(std::cin,adresa); std::cout&lt;&lt;"Unesite sprat: ";
	      std::cin&gt;&gt;sprat; std::cout&lt;&lt;"Unesite broj soba: "; std::cin&gt;&gt;broj_soba;
	      std::cout&lt;&lt;"Da li je stan namjesten (1 - da, 0 - ne): "; std::cin&gt;&gt;jel; if(jel==1) namjesten=true; if(jel==0) namjesten=false;if(jel!=1 &amp;&amp; jel!=0) {std::cout&lt;&lt;"Izuzetak: Neispravan unos podataka. Molimo unesite opet."&lt;&lt;std::endl; goto label3;}
	      std::cout&lt;&lt;"Unesite kvadraturu: "; std::cin&gt;&gt;kvadratura;
	      try{
	        Stan stan(adresa,sprat,broj_soba,namjesten,kvadratura);
	        auto prodaja=prodaje.DajProdaju(i);
	        prodaja.PromijeniStan(stan);
	        std::cout&lt;&lt;"Prodaja je uspjesno izmijenjena!"&lt;&lt;std::endl&lt;&lt;std::endl; break;
	        
	      }
	      catch(std::domain_error e){
	          std::cout&lt;&lt;"Izuzetak: "&lt;&lt;e.what()&lt;&lt;" Molimo unesite opet."&lt;&lt;std::endl;
	      }
	      label3: ;
	    }
	    }
	      }
	      }
	      if(izmjenaprodaje==5){
	       for(;;){   double nova;
	          std::cout&lt;&lt;"Unesite cijenu stana:";
	          std::cin&gt;&gt;nova;
	          try{
	              auto prodaja=prodaje.DajProdaju(i);
	              prodaja.PromijeniCijenuProdaje(nova);
	              std::cout&lt;&lt;"Prodaja je uspjesno izmijenjena!"&lt;&lt;std::endl&lt;&lt;std::endl; break;
	          }
	          catch(std::domain_error e){
	              std::cout&lt;&lt;"Izuzetak: "&lt;&lt;e.what()&lt;&lt;" Molimo unesite opet.";
	          }
	      }
	      }
	    
	    }
	   if(opcija_prodaja==3){
	    for(;;){    int ops;
	        std::cout&lt;&lt;"Izaberite opciju:"&lt;&lt;std::endl
	    &lt;&lt;" 0 - nazad"&lt;&lt;std::endl
	    &lt;&lt;" 1 - ispis svih prodaja"&lt;&lt;std::endl
</font>	    &lt;&lt;" 2 - ispis prodaja na datum"&lt;&lt;std::endl
	    &lt;&lt;" 3 - ispis najranije prodaje"&lt;&lt;std::endl
        &lt;&lt;" 4 - ispis najskuplje prodaje"&lt;&lt;std::endl
	    &lt;&lt;" 5 - ispis broja prodaja"&lt;&lt;std::endl
	    &lt;&lt;" 6 - ispis broja prodaja po datumu"&lt;&lt;std::endl
<a name="8"></a><font color="#00FFFF"><a href="match3-1.html#8" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_4.gif"/></a>

	    &lt;&lt;" 7 - ispis broja prodaja po agentu"&lt;&lt;std::endl
	    &lt;&lt;" 8 - kraj"&lt;&lt;std::endl;
	    std::cin&gt;&gt;ops;
	    if(ops==0) break;
	    if(ops==8) {std::cout&lt;&lt;std::endl&lt;&lt;std::endl&lt;&lt;std::endl&lt;&lt;"Dovidjenja!"; return 0;}
	    if(ops==1){
	        prodaje.IspisiSveProdaje(); 
	    }
	    if(ops==2){
	        int dan,mjesec,godina;
	        std::cout&lt;&lt;"Unesite datum (d/m/g):";
	        std::cin&gt;&gt;dan;  std::cin.ignore(2,'/');std::cin&gt;&gt;mjesec; std::cin.ignore(2,'/');std::cin&gt;&gt;godina;
	        Datum dat(dan,mjesec,godina);
	        std::cout&lt;&lt;"Prodaje na datum "; dat.Ispisi(); std::cout&lt;&lt;" su:";
	        prodaje.IspisiProdajeNaDatum(dat);std::cout&lt;&lt;std::endl;
	    }
	    if(ops==3){
	        auto prodaja=prodaje.DajNajranijuProdaju();
	        prodaja.Ispisi(); 
	    }
	    if(ops==4){
	       auto prodaja=prodaje.DajNajskupljuProdaju();
	       prodaja.Ispisi(); 
	    }
	    if(ops==5){
	        int br=prodaje.DajBrojProdaja();
	        std::cout&lt;&lt;"Broj prodaja: "&lt;&lt;br&lt;&lt;std::endl&lt;&lt;std::endl; break; 
	    }
	    if(ops==6){
	        int dan,mjesec,godina;
	        std::cout&lt;&lt;"Unesite datum (d/m/g): ";
	        std::cin&gt;&gt;dan;  std::cin.ignore(2,'/');std::cin&gt;&gt;mjesec; std::cin.ignore(2,'/');std::cin&gt;&gt;godina;
	        Datum dat(dan,mjesec,godina);
	        
	        
	        std::cout&lt;&lt;"Broj prodaja na uneseni datum: "&lt;&lt;prodaje.DajBrojProdajaNaDatum(dat)&lt;&lt;std::endl&lt;&lt;std::endl; break; 
	    }
	    if(ops==7){
	        std::string novi;
	        std::cin.ignore(1000,'\n');std::cout&lt;&lt;"Unesite ime agenta: ";
	        std::getline(std::cin,novi); 
	        std::cout&lt;&lt;"Broj prodaja unesenog agenta: "&lt;&lt;prodaje.DajBrojProdajaOdAgenta(novi)&lt;&lt;std::endl&lt;&lt;std::endl; break; 
	    }
	   }
	    
	    }
	    if(opcija_prodaja==4){
	    for(;;){  int brisanje;
	       std::cout&lt;&lt;"Izaberite opciju:"&lt;&lt;std::endl
	    &lt;&lt;" 0 - nazad"&lt;&lt;std::endl
	    &lt;&lt;" 1 - brisanje najranije prodaje"&lt;&lt;std::endl
</font>	    &lt;&lt;" 2 - brisanje prodaja agenta"&lt;&lt;std::endl
<a name="10"></a><font color="#FF0000"><a href="match3-1.html#10" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_2.gif"/></a>

	    &lt;&lt;" 3 - brisanje prodaja po datumu"&lt;&lt;std::endl
        &lt;&lt;" 4 - brisanje svih prodaja"&lt;&lt;std::endl;
        std::cin&gt;&gt;brisanje;
        if(brisanje==0) break;
        if(brisanje==1){
            prodaje.ObrisiNajranijuProdaju(); std::cout&lt;&lt;"Najranija prodaja je obrisana!"&lt;&lt;std::endl&lt;&lt;std::endl; break;
        }
        if(brisanje==2){
            std::string agent;
           std::cin.ignore(1000,'\n'); std::cout&lt;&lt;"Unesite ime agenta: ";
	        std::getline(std::cin,agent); 
	        prodaje.ObrisiProdajeAgenta(agent); std::cout&lt;&lt;"Sve prodaje tog agenta su obrisane."&lt;&lt;std::endl&lt;&lt;std::endl; break;
        }
        if(brisanje==3){
            int dan,mjesec,godina;
            std::cout&lt;&lt;"Unesite datum: ";
	        std::cin&gt;&gt;dan;  std::cin.ignore(2,'/');std::cin&gt;&gt;mjesec; std::cin.ignore(2,'/');std::cin&gt;&gt;godina;
	        Datum dat(dan,mjesec,godina); prodaje.ObrisiProdajeNaDatum(dat); std::cout&lt;&lt;"Sve prodaje na taj datum su obrisane."&lt;&lt;std::endl&lt;&lt;std::endl; break;
        }
        if(brisanje==4){
            prodaje.IsprazniKolekciju(); std::cout&lt;&lt;"Sve su obrisane."&lt;&lt;std::endl&lt;&lt;std::endl; break;
        }
	    }
	    }
	    }
	    }
	  }
	
	return 0;
</font>}</pre>
</body>
</html>
