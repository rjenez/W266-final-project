<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z3/student7985.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z3/student7985.cpp<p></p><pre>
<a name="4"></a><font color="#FF00FF"><a href="match131-1.html#4" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_2.gif"/></a>

/B 2016/2017, ZadaÄ‡a 4, Zadatak 3
//Napomena: testovi ce biti dostupni dan pred rok!
#include &lt;iostream&gt;
#include &lt;string&gt;
#include &lt;stdexcept&gt;
class Datum{
  int d,m,g;
  bool Provjeri(int dan, int mjesec, int godina){
      int broj_dana[]{31,28,31,30,31,30,31,31,30,31,30,31};
</font>      if(godina%4==0 &amp;&amp; (godina % 100!=0 || godina % 400 ==0)) broj_dana[1]++;
<a name="2"></a><font color="#0000FF"><a href="match131-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_10.gif"/></a>

      if(godina&lt;1 || mjesec&lt;1 || mjesec&gt;12 || dan &lt;1 || dan&gt;broj_dana[mjesec-1]) return false;
      return true;
  
  }
  public:
    Datum(int dan, int mjesec, int godina){
      if(!(Provjeri(dan,mjesec,godina))) throw std::domain_error("Neispravan datum");
      d=dan;
      m=mjesec;
      g=godina;
  }
  void Postavi(int dan, int mjesec, int godina){
      if(!(Provjeri(dan,mjesec,godina))) throw std::domain_error("Neispravan datum");
      d=dan;
      m=mjesec;
      g=godina;
  }
  int DajDan()const  {return d;}
  int DajMjesec()const {return m; }
  int DajGodinu()const{ return g;}
  void Ispisi()const{
      std::cout&lt;&lt;d&lt;&lt;"/"&lt;&lt;m&lt;&lt;"/"&lt;&lt;g&lt;&lt;std::endl;
  }
};
class Kupac{
  std::string ime; 
  Datum dat;
  bool Provjeri(std::string a){
    for(int i=0;i&lt;a.length();i++){
     if(!(a[i]&gt;='A' &amp;&amp; a[i]&lt;='Z') || (a[i]&lt;='a' &amp;&amp; a[i]&lt;='z') || a[i]==' ' || a[i]=='-'  || a[i]==44 || (a[i]&gt;='0' &amp;&amp; a[i]&lt;='9')) return false;
</font><a name="0"></a><font color="#FF0000"><a href="match131-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_47.gif"/></a>

    }
    return true;
  }
  public:
  
  Kupac(const std::string &amp;ime_i_prezime, const Datum &amp;datum_rodjenja): ime(ime_i_prezime),dat(datum_rodjenja){
      if(!(Provjeri(ime_i_prezime))) throw std::domain_error("Neispravno ime i prezime");
  }
  void Postavi(const std::string &amp;ime_i_prezime, const Datum &amp;datum_rodjenja){
      if(!(Provjeri(ime_i_prezime))) throw std::domain_error("Neispravno ime i prezime")
      ;
      ime=ime_i_prezime;
      dat=datum_rodjenja;
  }
  std::string DajImePrezime()const {
      return ime;
  }
  Datum DajDatumRodjenja()const{
      return dat;
  }
  void Ispisi()const{
      std::cout&lt;&lt;ime&lt;&lt;"(";
      DajDatumRodjenja().Ispisi();
      std::cout&lt;&lt;")"&lt;&lt;std::endl;
  }
};

class Stan{
  std::string adresa1;
  int sprat1, broj_soba1;
  bool namjesten1;
  double kvadratura1;
  
  public:
    Stan(const std::string &amp;adresa, int sprat, int broj_soba, bool namjesten, double kvadratura){
    if( sprat&lt;0 || broj_soba&lt;0 || namjesten&lt;0 || kvadratura&lt;0) throw std::domain_error("Neispravan unos podataka");
    adresa1=adresa;
    sprat1=sprat;
    broj_soba1=broj_soba;
    namjesten1=namjesten;
    kvadratura1=kvadratura;
  }
  void Postavi (const std::string &amp;adresa, int sprat, int broj_soba, bool namjesten, double kvadratura){
    if( sprat&lt;0 || broj_soba&lt;0 || namjesten&lt;0 || kvadratura&lt;0) throw std::domain_error("Neispravan unos podataka");
    adresa1=adresa;
    sprat1=sprat;
    broj_soba1=broj_soba;
    namjesten1=namjesten;
    kvadratura1=kvadratura;
  }
  std::string DajAdresu()const { return adresa1;}
  int DajSprat()const { return sprat1;}
  int DajBrojSoba()const {return broj_soba1;}
  bool DajNamjesten()const {return namjesten1;}
  double DajKvadratura()const {return kvadratura1;}
  void Ispisi()const{
    std::cout&lt;&lt;"Stan se nalazi na adresi "&lt;&lt;adresa1&lt;&lt;" na "&lt;&lt;sprat1&lt;&lt;". spratu i ima "&lt;&lt;broj_soba1;
    if(broj_soba1==1) std::cout&lt;&lt;" sobu."&lt;&lt;std::endl;
    if(broj_soba1&gt;=2 &amp;&amp; broj_soba1&lt;=4) std::cout&lt;&lt;" sobe."&lt;&lt;std::endl;
    if(broj_soba1&gt;=5) std::cout&lt;&lt;" soba."&lt;&lt;std::endl;
    std::cout&lt;&lt;"Kvadratura stana je "&lt;&lt;kvadratura1&lt;&lt;" (m^2) i stan ";
    if(namjesten1) std::cout&lt;&lt;"je namjesten.";
    else std::cout&lt;&lt;"nije namjesten.";
}
};
class Prodaja{
std::string ime_agenta_prodaje1;
double cijena_stana1;
Datum datum_prodaje1;
Kupac kupac_stana1;
Stan kupljeni_stan1;


Datum Povecaj(Datum a){
   int broj_dana[]{31,28,31,30,31,30,31,31,30,31,30,31};
  if(a.DajGodinu()%4==0 &amp;&amp; (a.DajGodinu() % 100!=0 || a.DajGodinu() % 400 ==0)) broj_dana[1]++;
   a.Postavi(a.DajDan()+1,a.DajMjesec(),a.DajGodinu());
   if(a.DajDan()&gt;broj_dana[a.DajMjesec()-1]){
     a.Postavi(1,a.DajMjesec()+1,a.DajGodinu());
    if(a.DajMjesec()==13){
      a.Postavi(a.DajDan(),1,a.DajGodinu()+1);
    }
   }
   return a;
}
Datum Vrati(Datum a){
  int broj_dana[]{31,28,31,30,31,30,31,31,30,31,30,31};
  if(a.DajGodinu()%4==0 &amp;&amp; (a.DajGodinu() % 100!=0 || a.DajGodinu() % 400 ==0)) broj_dana[1]++;
  a.Postavi(a.DajDan()-1,a.DajMjesec(),a.DajGodinu());
  if(a.DajDan()==0){
    a.Postavi(broj_dana[a.DajMjesec()-1],a.DajMjesec()-1,a.DajGodinu());
    if(a.DajMjesec()==0){
   a.Postavi(a.DajDan(),12,a.DajGodinu()-1);
    }
  }
  return a;
}

public:
Prodaja(const std::string &amp;ime_agenta_prodaje, double cijena_stana, const Datum &amp;datum_prodaje, const Kupac &amp;kupac_stana, const Stan &amp;kupljeni_stan):
ime_agenta_prodaje1(ime_agenta_prodaje),cijena_stana1(cijena_stana),datum_prodaje1(datum_prodaje),kupac_stana1(kupac_stana),kupljeni_stan1(kupljeni_stan)
{ }
Prodaja(const std::string &amp;ime_agenta_prodaje, double cijena_stana, int dan_prodaje, int mjesec_prodaje, int godina_prodaje, std::string &amp;ime_kupca,
</font><a name="1"></a><font color="#00FF00"><a href="match131-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_22.gif"/></a>

const Datum &amp;datum_rodjenja_kupca, const std::string &amp;adresa_stana, int sprat_stana, int broj_soba, bool namjesten_stan, double broj_kvadrata):
        ime_agenta_prodaje1(ime_agenta_prodaje),cijena_stana1(cijena_stana),datum_prodaje1(dan_prodaje,mjesec_prodaje,godina_prodaje),
        kupac_stana1(ime_kupca,datum_rodjenja_kupca),kupljeni_stan1(adresa_stana,sprat_stana,broj_soba,namjesten_stan,broj_kvadrata)
{} 
void PromijeniKupca(const Kupac &amp;novi_kupac){
  kupac_stana1=novi_kupac;
}
void PromijeniStan(const Stan &amp;novi_stan){
  kupljeni_stan1=novi_stan;
}
void PromijeniDatumKupovine(const Datum &amp;novi_datum){
  datum_prodaje1=novi_datum;
}
void PromijeniCijenuProdaje(const double &amp;nova_cijena){
  cijena_stana1=nova_cijena;
}
std::string DajImeAgenta() const{ return ime_agenta_prodaje1; }
std::string DajImeKupca() const {return kupac_stana1.DajImePrezime(); }
Datum DajDatumProdaje() const {return datum_prodaje1;}
double DajCijenuStana() const {return cijena_stana1;}

void PomjeriDanUnaprijed(){
datum_prodaje1=Povecaj(DajDatumProdaje());
}
void PomjeriDanUnazad(){
datum_prodaje1 = Vrati(DajDatumProdaje());
}
friend bool ProdatPrije(const Prodaja &amp;p1, const Prodaja &amp;p2);
friend bool SkupljiStan(const Prodaja &amp;p1, const Prodaja &amp;p2); 

void Ispisi()const{
  std::cout&lt;&lt;"Ime agenta:          "&lt;&lt;ime_agenta_prodaje1&lt;&lt;std::endl&lt;&lt;"Ime kupca: ";
  kupac_stana1.Ispisi();
  std::cout&lt;&lt;std::endl;
  std::cout&lt;&lt;"Zakazani datum prodaje: ";
  datum_prodaje1.Ispisi();
  std::cout&lt;&lt;std::endl;
  std::cout&lt;&lt;"Cijena stana: "&lt;&lt;cijena_stana1&lt;&lt;std::endl&lt;&lt;"Informacije o stanu: ";
  kupac_stana1.Ispisi();
}
};

bool ProdatPrije(const Prodaja &amp;p1, const Prodaja &amp;p2){
  if(p1.datum_prodaje1.DajGodinu()&lt;p2.datum_prodaje1.DajGodinu()) return true;
  if(p1.datum_prodaje1.DajGodinu()==p2.datum_prodaje1.DajGodinu()){
    if(p1.datum_prodaje1.DajMjesec()&lt;p2.datum_prodaje1.DajMjesec()) return true;
    if(p1.datum_prodaje1.DajMjesec()==p2.datum_prodaje1.DajMjesec()){
     if(p1.datum_prodaje1.DajDan()&lt;p2.datum_prodaje1.DajDan()) return true;
    }
  }
  return false;
}
bool SkupljiStan(const Prodaja &amp;p1, const Prodaja &amp;p2){
  if(p1.cijena_stana1&lt;p2.cijena_stana1) return true;
  return false;
}
class Prodaje{
  
public:
explicit Prodaje(int max_broj_prodaja);
Prodaje(std::initializer_list&lt;Prodaja&gt; spisak_prodaja);
~Prodaje();
Prodaje(const Prodaje &amp;prodaje);
Prodaje(Prodaje &amp;&amp;prodaje);
</font>Prodaje &amp;operator=(const Prodaje &amp;prodaje);
<a name="3"></a><font color="#00FFFF"><a href="match131-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_5.gif"/></a>

Prodaje &amp;operator=(Prodaje &amp;&amp;prodaje);
void RegistrirajProdaju( const std::string &amp;ime_agenta_prodaje, double cijena_stana, const Datum &amp;datum_prodaje, const Kupac kupac_stana,
const Stan &amp;kupljeni_stan);
void RegistrirajProdaju( const std::string &amp;ime_agenta_prodaje,int dan_prodaje, int mjesec_prodaje, int godina_prodaje,
std::string &amp;ime_kupca, const Datum datum_rodjenja_kupca, const std::string &amp;adresa_stana, int sprat_stana, int broj_soba
,bool namjesten_stan, double broj_kvadrata);
void RegistrirajProdaju(Prodaja *prodaja);
int DajBrojProdaja() const;
</font>int DajBrojProdajaNaDatum(const Datum &amp;datum) const;
int DajBrojProdajaOdAgenta(const std::string &amp;ime_agenta) const;
Prodaja &amp;DajNajranijuProdaju();
Prodaja DajNajranijuProdaju() const;
Prodaja &amp;DajNajskupljuProdaju();
Prodaja DajNajskupljuProdaju() const;
void IsprazniKolekciju();
<a name="5"></a><font color="#FF0000"><a href="match131-1.html#5" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_1.gif"/></a>

void ObrisiNajranijuProdaju();
void ObrisiProdajeAgenta(const std::string &amp;ime_agenta);
void ObrisiProdajeNaDatum(const Datum &amp;datum);
void IspisiProdajeNaDatum(const Datum &amp;datum) const;
void IspisiSveProdaje() const;
};
int main ()
</font>{
	return 0;
}</pre>
</body>
</html>
