<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z3/student4253.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z3/student4253.cpp<p></p><pre>
<a name="10"></a><font color="#FF0000"><a href="match998-1.html#10" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_0.gif"/></a>

/B 2016/2017, ZadaÄ‡a 4, Zadatak 3
//Napomena: testovi ce biti dostupni dan pred rok!
#include &lt;iostream&gt;
#include &lt;string&gt;
#include &lt;stdexcept&gt;
#include &lt;iomanip&gt;
#include &lt;initializer_list&gt;
#include &lt;algorithm&gt;

class Datum{
    int dan, mjesec, godina;
    public:
    
    Datum(int dan, int mjesec, int godina) { Postavi(dan,mjesec,godina);}
</font>    void Postavi(int dan, int mjesec, int godina);
    int DajDan() const{return dan;}
    int DajMjesec() const{return mjesec;}
    int DajGodinu() const{return godina;}
<a name="7"></a><font color="#0000FF"><a href="match998-1.html#7" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_0.gif"/></a>

    void Ispisi() const { std::cout&lt;&lt;dan&lt;&lt;"/"&lt;&lt;mjesec&lt;&lt;"/"&lt;&lt;godina;}
};

void Datum::Postavi(int dan, int mjesec, int godina){
    int broj_dana[12]{31,28,31,30,31,30,31,31,30,31,30,31};
</font>    if((godina%4==0 &amp;&amp; godina%100!=0) || godina%400==0) broj_dana[1]++;
<a name="6"></a><font color="#00FF00"><a href="match998-1.html#6" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_0.gif"/></a>

    if(godina&lt;1 || dan&lt;1 || mjesec&lt;1 || mjesec&gt;12 || dan&gt;broj_dana[mjesec-1]) throw std::domain_error("Neispravan datum");
    Datum::dan=dan; Datum::mjesec=mjesec; Datum::godina=godina;
}



class Kupac{
    std::string ime_i_prezime;
    Datum datum_rodjenja;
    
    public:
</font>    Kupac(const std::string &amp;ime_i_prezime, const Datum &amp;datum_rodjenja): datum_rodjenja(datum_rodjenja) {Postavi(ime_i_prezime, datum_rodjenja);}
    void Postavi(const  std::string &amp;ime_i_prezime, const Datum &amp;datum_rodjenja);
    std::string DajImePrezime() const {return ime_i_prezime;}
    Datum DajDatumRodjenja() const { return datum_rodjenja;}
    void Ispisi() const {std::cout&lt;&lt;ime_i_prezime&lt;&lt;" ("; datum_rodjenja.Ispisi(); std::cout&lt;&lt;")";}
};

void Kupac::Postavi(const std::string &amp;ime_i_prezime, const Datum &amp;datum_rodjenja){
    for(int i(0); i&lt;int(ime_i_prezime.size()); i++){
        if( ((ime_i_prezime.at(i)&gt;='a' &amp;&amp; ime_i_prezime.at(i)&lt;='z') || (ime_i_prezime.at(i)&gt;='A' &amp;&amp; ime_i_prezime.at(i)&lt;='Z')  || (ime_i_prezime.at(i)&gt;='0' &amp;&amp; ime_i_prezime.at(i)&lt;='9'))==false 
        &amp;&amp; ime_i_prezime.at(i)!=' ' &amp;&amp; ime_i_prezime.at(i)!='-'  &amp;&amp; ime_i_prezime.at(i)!='\'') throw std::domain_error("Neispravno ime i prezime");
    }
    Kupac::ime_i_prezime=ime_i_prezime; Kupac::datum_rodjenja=datum_rodjenja;
}



<a name="11"></a><font color="#00FF00"><a href="match998-1.html#11" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_0.gif"/></a>

class Stan{
    std::string adresa;
    int sprat;
    int broj_soba;
    bool namjesten;
    double kvadratura;
    
    public:
    Stan(const std::string &amp;adresa, int sprat, int broj_soba, bool namjesten, double kvadratura) {Postavi(adresa,sprat,broj_soba,namjesten,kvadratura);}
</font>    void Postavi(const std::string &amp;adresa, int sprat, int broj_soba, bool namjesten, double kvadratura);
    std::string DajAdresu() const {return adresa;}
    int DajSprat () const {return sprat;}
<a name="2"></a><font color="#0000FF"><a href="match998-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_1.gif"/></a>

    int DajBrojSoba () const{return broj_soba;}
    bool DajNamjesten() const{return namjesten;}
    double DajKvadraturu() const {return kvadratura;}
    void Ispisi() const;
    
};

void Stan::Postavi(const std::string &amp;adresa, int sprat, int broj_soba, bool namjesten, double kvadratura){
    if(sprat&lt;0 || broj_soba&lt;0 || kvadratura&lt;0) throw std::domain_error("Neispravan unos podataka");
</font><a name="1"></a><font color="#00FF00"><a href="match998-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_1.gif"/></a>

    Stan::adresa=adresa; Stan::sprat=sprat; Stan::broj_soba=broj_soba; Stan::namjesten=namjesten; Stan::kvadratura=kvadratura;
}

void Stan::Ispisi() const{
    std::cout&lt;&lt;"Stan se nalazi na adresi "&lt;&lt;adresa&lt;&lt;" na "&lt;&lt;sprat&lt;&lt;". spratu i ima "&lt;&lt;broj_soba;
</font>    int p(broj_soba%100); if(p&lt;0) p*=(-1);
    if((p&lt;10 || p&gt;20 ) &amp;&amp; (p%10==2 || p%10==3 || p%10==4)) std::cout&lt;&lt;" sobe.";
    else if((p&lt;10 || p&gt;20) &amp;&amp; p%10==1) std::cout&lt;&lt;" sobu.";
    else std::cout&lt;&lt;" soba.";
    
    std::cout&lt;&lt;std::endl&lt;&lt;"Kvadratura stana je "&lt;&lt;kvadratura&lt;&lt;" (m^2) i stan ";
    if(namjesten) std::cout&lt;&lt;"je namjesten.";
    else std::cout&lt;&lt;"nije namjesten.";
}



class Prodaja{
    std::string ime_agenta;
    double cijena_stana;
    Datum datum_prodaje;
    Kupac kupac_stana;
    Stan kupljeni_stan;
    
    public:
    Prodaja(const std::string &amp;ime_agenta_prodaje, double cijena_stana, const Datum &amp;datum_prodaje, const Kupac &amp;kupac_stana, const Stan &amp;kupljeni_stan);
    Prodaja(const std::string &amp;ime_agenta_prodaje, double cijena_stana, int dan_prodaje, int mjesec_prodaje, int godina_prodaje,
            std::string &amp;ime_kupca, const Datum &amp;datum_rodjenja_kupca, const std::string &amp;adresa_stana, int sprat_stana, 
            int broj_soba, bool namjesten_stan, double broj_kvadrata);
    void PromijeniKupca(const Kupac &amp;novi_kupac){kupac_stana=novi_kupac;}
    void PromijeniStan(const Stan &amp;novi_stan){kupljeni_stan=novi_stan;}
    void PromijeniDatumKupovPrine(const Datum &amp;novi_datum){datum_prodaje=novi_datum;}
    void PromijeniCijenuProdaje(const double &amp;nova_cijena){cijena_stana=nova_cijena;}
    void PomjeriDanUnaprijed();
    void PomjeriDanUnazad();
    std::string DajImeAgenta() const{return ime_agenta;}
    std::string DajImeKupca() const{return kupac_stana.DajImePrezime();}
    Datum DajDatumProdaje() const{return datum_prodaje;}
    double DajCijenuStana() const{return cijena_stana;}
    friend bool ProdatPrije(const Prodaja &amp;p1, const Prodaja &amp;p2);
    friend bool SkupljiStan(const Prodaja &amp;p1, const Prodaja &amp;p2);
    void Ispisi() const;
};

Prodaja::Prodaja(const std::string &amp;ime_agenta_prodaje, double cijena_stana, const Datum &amp;datum_prodaje, const Kupac &amp;kupac_stana, const Stan &amp;kupljeni_stan):
                ime_agenta(ime_agenta_prodaje), cijena_stana(cijena_stana), datum_prodaje(datum_prodaje), kupac_stana(kupac_stana), kupljeni_stan(kupljeni_stan) {}

Prodaja::Prodaja(const std::string &amp;ime_agenta_prodaje, double cijena_stana, int dan_prodaje, int mjesec_prodaje, int godina_prodaje,
                std::string &amp;ime_kupca, const Datum &amp;datum_rodjenja_kupca, const std::string &amp;adresa_stana, 
                int sprat_stana, int broj_soba, bool namjesten_stan, double broj_kvadrata):
                
                ime_agenta(ime_agenta_prodaje), cijena_stana(cijena_stana), datum_prodaje(dan_prodaje, mjesec_prodaje, godina_prodaje),
                kupac_stana(ime_kupca,datum_rodjenja_kupca), kupljeni_stan(adresa_stana, sprat_stana, broj_soba, namjesten_stan, broj_kvadrata) {}

<a name="12"></a><font color="#0000FF"><a href="match998-1.html#12" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_0.gif"/></a>

void Prodaja::PomjeriDanUnaprijed (){
    int broj_dana[12]{31,28,31,30,31,30,31,31,30,31,30,31};
</font>    if((datum_prodaje.DajGodinu()%4==0 &amp;&amp; datum_prodaje.DajGodinu()%100!=0) || datum_prodaje.DajGodinu()%400==0) broj_dana[1]++;
    int dan(datum_prodaje.DajDan()), mjesec(datum_prodaje.DajMjesec()), godina(datum_prodaje.DajGodinu());
    dan++;
<a name="0"></a><font color="#FF0000"><a href="match998-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_1.gif"/></a>

    if(dan&gt;broj_dana[mjesec-1]) dan=1, mjesec++;
    if(mjesec&gt;12) mjesec=1, godina++;
    datum_prodaje.Postavi(dan, mjesec, godina);
}

void Prodaja::PomjeriDanUnazad (){
    int broj_dana[12]{31,28,31,30,31,30,31,31,30,31,30,31};
</font>    int dan(datum_prodaje.DajDan()), mjesec(datum_prodaje.DajMjesec()), godina(datum_prodaje.DajGodinu());
    if((godina%4==0 &amp;&amp; godina%100!=0) || godina%400==0) broj_dana[1]++;
    dan--;
    if(dan==0) {
        mjesec--;
        if(mjesec==0) {mjesec=12; godina--;}
<a name="4"></a><font color="#FF00FF"><a href="match998-1.html#4" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_1.gif"/></a>

        dan=broj_dana[mjesec-1];
    }
    datum_prodaje.Postavi(dan,mjesec,godina);
}

bool ProdatPrije(const Prodaja &amp;p1, const Prodaja &amp;p2){
    if(p1.datum_prodaje.DajGodinu()&lt;p2.datum_prodaje.DajGodinu()) return true;
</font>    if(p1.datum_prodaje.DajGodinu()==p2.datum_prodaje.DajGodinu()) {
        if(p1.datum_prodaje.DajMjesec()&lt;p2.datum_prodaje.DajMjesec()) return true;
<a name="5"></a><font color="#FF0000"><a href="match998-1.html#5" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_1.gif"/></a>

        if(p1.datum_prodaje.DajMjesec()==p2.datum_prodaje.DajMjesec()){
            if(p1.datum_prodaje.DajDan()&lt;p2.datum_prodaje.DajDan()) return true;
        }
    }
    return false;
}

bool SkupljiStan(const Prodaja &amp;p1, const Prodaja &amp;p2){
</font>    return p1.cijena_stana&gt;p2.cijena_stana;
}

void Prodaja::Ispisi()const{
    std::cout&lt;&lt;std::setw(30)&lt;&lt;"Ime agenta:"&lt;&lt;ime_agenta
             &lt;&lt;std::setw(30)&lt;&lt;"Ime kupca:"; kupac_stana.Ispisi();
    std::cout&lt;&lt;std::setw(30)&lt;&lt;"Zakazani datum prodaje:"; datum_prodaje.Ispisi();
    std::cout&lt;&lt;std::setw(30)&lt;&lt;"Cijena stana:"&lt;&lt;cijena_stana
            &lt;&lt;std::setw(30)&lt;&lt;"Informacije o stanu:"&lt;&lt;std::endl; kupljeni_stan.Ispisi();
}



class Prodaje{
    int max_broj_prodaja;
    int broj_prodaja;
    Prodaja **niz;
    
    static bool ProvjeraDatuma(Datum d1, Datum d2){
        if(d1.DajGodinu()==d2.DajGodinu()){
            if(d1.DajMjesec()==d2.DajMjesec()){
                if(d1.DajDan()==d2.DajDan()) return true;
            }
        }
        return false;
    }
    
    public:
    explicit Prodaje(int max_broj_prodaja);
    Prodaje(std::initializer_list&lt;Prodaja&gt; spisak_prodaja);
    ~Prodaje();
    Prodaje (const Prodaje &amp;prodaje);
    Prodaje (Prodaje &amp;&amp;prodaje);
    Prodaje &amp;operator=(const Prodaje &amp;prodaje);
    Prodaje &amp;operator=(Prodaje &amp;&amp;prodaje);
    void RegistrirajProdaju(const std::string &amp;ime_agenta_prodaje, double cijena_stana, const Datum &amp;datum_prodaje, const Kupac &amp;kupac_stana, const Stan &amp;kupljeni_stan);
    void RegistrirajProdaju(const std::string &amp;ime_agenta_prodaje, double cijena_stana, int dan_prodaje, int mjesec_prodaje, int godina_prodaje,
                            std::string &amp;ime_kupca, const Datum &amp;datum_rodjenja_kupca, const std::string &amp;adresa_stana, int sprat_stana,
                            int broj_soba, bool namjesten_stan, double broj_kvadrata);
    void RegistrirajProdaju(Prodaja *prodaja);
    int DajBrojProdaja () const;
    Prodaja &amp;DajProdaju(int redni_broj);
    int DajBrojProdajaNaDatum(const Datum &amp;datum) const;
    int DajBrojProdajaOdAgenta(const std::string &amp;ime_agenta) const;
    Prodaja &amp;DajNajranijuProdaju();
    Prodaja DajNajranijuProdaju() const;
    Prodaja &amp;DajNajskupljuProdaju();
    Prodaja DajNajskupljuProdaju() const;
    void IsprazniKolekciju();
    void ObrisiNajranijuProdaju();
    void ObrisiProdajeAgenta(const std::string &amp;ime_agenta);
    void ObrisiProdajeNaDatum(const Datum &amp;datum);
    void IspisiProdajeNaDatum(const Datum &amp;datum) const;
    void IspisiSveProdaje() const;
};


Prodaje::Prodaje(int max_broj_prodaja) {
     niz=new Prodaja *[max_broj_prodaja];
    for(int i(0); i&lt;max_broj_prodaja; i++){
        niz[i]=nullptr;
    }
    Prodaje::max_broj_prodaja=max_broj_prodaja;
    broj_prodaja=0;
}

Prodaje::Prodaje(std::initializer_list&lt;Prodaja&gt; spisak_prodaja){
    
    niz=new Prodaja *[int(spisak_prodaja.size())]; broj_prodaja=0;
    for(int i(0); i&lt;int(spisak_prodaja.size()); i++) niz[i]=nullptr;
    try{
        int i(0);
    for(auto it(spisak_prodaja.begin()); it!=spisak_prodaja.end(); it++,i++ ){
        niz[i]=new Prodaja(*it); broj_prodaja++;
    }
    max_broj_prodaja=int(spisak_prodaja.size());
    }
    catch(...){
        for(int i(0); i&lt;broj_prodaja; i++) delete niz[i]; delete[] niz;
    }
}

Prodaje::~Prodaje(){
    for(int i(0); i&lt;broj_prodaja; i++){
        delete niz[i];
    }
    delete [] niz;
}

Prodaje::Prodaje(const Prodaje &amp;prodaje){
    
    niz=new Prodaja *[prodaje.broj_prodaja]{};
  try{
    for(auto i(0); i&lt;prodaje.broj_prodaja; i++){
        niz[i]=new Prodaja(*prodaje.niz[i]);
    }
    max_broj_prodaja=prodaje.max_broj_prodaja;
    broj_prodaja=prodaje.broj_prodaja;
  }
  catch(...){
      for(int i(0); i&lt;prodaje.broj_prodaja; i++) delete niz[i];
<a name="8"></a><font color="#00FFFF"><a href="match998-1.html#8" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_0.gif"/></a>

      delete[] niz; throw;
  }
}

Prodaje::Prodaje(Prodaje &amp;&amp;prodaje): max_broj_prodaja(prodaje.max_broj_prodaja), broj_prodaja(prodaje.broj_prodaja), niz(prodaje.niz){
    prodaje.niz=nullptr; prodaje.broj_prodaja=0;
</font>}

Prodaje &amp;Prodaje::operator=(const Prodaje &amp;prodaje){
    Prodaja **temp (new Prodaja *[prodaje.max_broj_prodaja]{});
    try{
        for(int i(0); i&lt;prodaje.broj_prodaja; i++) temp[i]=prodaje.niz[i];
    }
    catch(...){
        for(int i(0); i&lt;prodaje.broj_prodaja; i++) delete temp[i];
        delete[] temp;
    }
    delete[] niz;
    niz=temp;
    broj_prodaja=prodaje.broj_prodaja; max_broj_prodaja=prodaje.max_broj_prodaja;
    return *this;
}

Prodaje &amp;Prodaje::operator=(Prodaje &amp;&amp;prodaje){
    std::swap(broj_prodaja,prodaje.broj_prodaja);
<a name="13"></a><font color="#00FFFF"><a href="match998-1.html#13" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_0.gif"/></a>

    std::swap(max_broj_prodaja,prodaje.max_broj_prodaja);
    return *this;
}

void Prodaje::RegistrirajProdaju(const std::string &amp;ime_agenta_prodaje, double cijena_stana, const Datum &amp;datum_prodaje,  const Kupac &amp;kupac_stana, const Stan &amp;kupljeni_stan){
</font>    if(broj_prodaja==max_broj_prodaja) throw std::range_error("Dostignut maksimalan broj prodaja");
    int i(0);
    while(niz[i]!=nullptr) i++;
<a name="3"></a><font color="#00FFFF"><a href="match998-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_1.gif"/></a>

    niz[i]=new Prodaja (ime_agenta_prodaje, cijena_stana, datum_prodaje, kupac_stana, kupljeni_stan);
    broj_prodaja++;
}

void Prodaje::RegistrirajProdaju(const std::string &amp;ime_agenta_prodaje, double cijena_stana, int dan_prodaje, int mjesec_prodaje, int godina_prodaje,
</font>                                std::string &amp;ime_kupca, const Datum &amp;datum_rodjenja_kupca, const std::string &amp;adresa_stana,
                                int sprat_stana, int broj_soba, bool namjesten_stan, double broj_kvadrata){
    if(broj_prodaja==max_broj_prodaja) throw std::range_error("Dostignut maksimalan broj prodaja");
    int i(0);
    while(niz[i]!=nullptr) i++;
<a name="9"></a><font color="#FF00FF"><a href="match998-1.html#9" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_0.gif"/></a>

    niz[i]=new Prodaja(ime_agenta_prodaje, cijena_stana, dan_prodaje, mjesec_prodaje, godina_prodaje,ime_kupca, datum_rodjenja_kupca,
                        adresa_stana, sprat_stana, broj_soba, namjesten_stan, broj_kvadrata);
    broj_prodaja++;
}

void Prodaje::RegistrirajProdaju(Prodaja *prodaja){
</font>    if(broj_prodaja==max_broj_prodaja){
        delete prodaja;
        throw std::range_error("Dostignut maksimalan broj prodaja");
    } 
    int i(0);
    while(niz[i]!=nullptr) i++;
    niz[i]=prodaja;
    broj_prodaja++;
}

int Prodaje::DajBrojProdajaNaDatum(const Datum &amp;datum) const{
    return std::count_if(niz, niz+broj_prodaja, [&amp;datum](Prodaja *p1){return ProvjeraDatuma(p1-&gt;DajDatumProdaje(),datum);} );
}

int Prodaje::DajBrojProdajaOdAgenta(const std::string &amp;ime_agenta) const{
    return std::count_if(niz, niz+broj_prodaja, [ime_agenta](Prodaja *p1){return p1-&gt;DajImeAgenta()==ime_agenta; } );
}


Prodaja &amp;Prodaje::DajProdaju(int redni_broj){
    if(redni_broj&lt;1 || redni_broj&gt;broj_prodaja+1) throw;
    return *niz[redni_broj-1];
}

Prodaja &amp;Prodaje::DajNajranijuProdaju(){
    if(broj_prodaja==0) throw std::domain_error ("Nema registriranih prodaja");
    auto it=std::min_element(niz, niz+broj_prodaja, [](Prodaja *p1, Prodaja *p2) {return ProdatPrije(*p1,*p2); });
    return *(*it);
}

Prodaja Prodaje::DajNajranijuProdaju() const {
    if(broj_prodaja==0) throw std::domain_error ("Nema registriranih prodaja");
    auto it=std::min_element(niz, niz+broj_prodaja, [](Prodaja *p1, Prodaja *p2) {return ProdatPrije(*p1,*p2);});
    return *(*it);
}

Prodaja &amp;Prodaje::DajNajskupljuProdaju(){
    if(broj_prodaja==0) throw std::domain_error ("Nema registriranih prodaja");
    auto it=std::max_element(niz,niz+10, [](Prodaja *p1, Prodaja *p2){return SkupljiStan(*p1,*p2);});
    return *(*it);
}

Prodaja Prodaje::DajNajskupljuProdaju()const{
    if(broj_prodaja==0) throw std::domain_error ("Nema registriranih prodaja");
    auto it=std::max_element(niz, niz+10, [](Prodaja *p1, Prodaja *p2){return SkupljiStan(*p1,*p2);});
    return *(*it);
}

void Prodaje::IsprazniKolekciju(){
    for(int i(0); i&lt;broj_prodaja; i++){
        delete niz[i]; niz[i]=nullptr;
    }
    broj_prodaja=0;
}

void Prodaje::ObrisiNajranijuProdaju(){
    if(broj_prodaja==0) throw std::range_error ("Prazna kolekcija");
    auto it=std::min_element(niz, niz+10, [](Prodaja *p1, Prodaja *p2){return ProdatPrije(*p1,*p2);});
    (*it)=nullptr;
    broj_prodaja--;
    
    Prodaja **temp(new Prodaja *[broj_prodaja]);
    for(int i(0); i&lt;broj_prodaja; i++) temp[i]=niz[i];
    for(int i(0); i&lt;broj_prodaja; i++) delete niz[i];
    for(int i(0), j(0); i&lt;broj_prodaja; i++, j++){
        if(temp[i]!=nullptr)  niz[j]=temp[i];
        else j--;
    }
    delete[] temp;
    broj_prodaja--;
}

void Prodaje::ObrisiProdajeAgenta(const std::string &amp;ime_agenta){
    int brojac(0);
    for(int i(0); i&lt;broj_prodaja; i++){
        if(niz[i]!=nullptr){
         if(niz[i]-&gt;DajImeAgenta()==ime_agenta) { delete niz [i]; niz[i]=nullptr; brojac++;}
        }
    }
    if(brojac&gt;0){
        Prodaja **temp(new Prodaja *[broj_prodaja]);
        for(int i(0); i&lt;broj_prodaja; i++) temp[i]=niz[i];
        for(int i(0); i&lt;broj_prodaja; i++) {delete niz[i]; niz[i]=nullptr;}
        for(int i(0), j(0); i&lt;broj_prodaja; i++, j++) {
            if(temp[i]!=nullptr) niz[j]=temp[i];
            else j--;
        }
        delete[] temp;
    }
    broj_prodaja-=brojac;
}

void Prodaje::ObrisiProdajeNaDatum(const Datum &amp;datum){
    int brojac(0);
    for(int i(0); i&lt;broj_prodaja; i++){
        if(niz[i]!=nullptr){
            if(ProvjeraDatuma(niz[i]-&gt;DajDatumProdaje(), datum)) {delete niz[i]; niz[i]=nullptr; brojac++;}
        }
    }
    if(brojac&gt;0){
        Prodaja **temp(new Prodaja *[broj_prodaja]);
        for(int i(0); i&lt;broj_prodaja; i++) temp[i]=niz[i];
        for(int i(0); i&lt;broj_prodaja; i++) {delete niz[i]; niz[i]=nullptr;}
        for(int i(0),j(0); i&lt;broj_prodaja; i++, j++){
            if(temp[i]!=nullptr) niz[j]=temp[i];
            else j--;
        }
        delete[] temp;
    }
    broj_prodaja-=brojac;
}

void Prodaje::IspisiProdajeNaDatum(const Datum &amp;datum) const{
    int vel(DajBrojProdajaNaDatum(datum));
    Prodaja **temp(temp=new Prodaja *[vel]);
    for(int i(0), j(0); i&lt;broj_prodaja; i++,j++){
        if(ProvjeraDatuma(datum, niz[i]-&gt;DajDatumProdaje())) temp[i]=niz[i];
    }
    std::sort(temp,temp+vel, [](Prodaja *p1, Prodaja *p2){return p1-&gt;DajImeAgenta()&lt;p2-&gt;DajImeAgenta();} );
    for(int i(0); i&lt;vel; i++){
        temp[i]-&gt;Ispisi();
        std::cout&lt;&lt;std::endl;
    }
    delete[] temp;
}

void Prodaje::IspisiSveProdaje() const{
    Prodaja **temp(new Prodaja *[broj_prodaja]);
    for(int i(0); i&lt;broj_prodaja; i++) temp[i]=niz[i];
    
    std::sort(temp, temp+broj_prodaja, [](Prodaja *p1, Prodaja *p2)
                                        {
                                            if(ProdatPrije(*p1,*p2)==ProdatPrije(*p2,*p1)) return p1-&gt;DajImeKupca()&lt;p2-&gt;DajImeKupca();
                                            return ProdatPrije(*p1,*p2);
                                        });
    for(int i(0); i&lt;broj_prodaja; i++){
        temp[i]-&gt;Ispisi();
        std::cout&lt;&lt;std::endl;
    }
    delete[] temp;
}


int main ()
{ 
    std::cout&lt;&lt;".";
	return 0;
}</pre>
</body>
</html>
