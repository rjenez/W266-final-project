<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z3/student7948.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z3/student7948.cpp<p></p><pre>
#include &lt;iostream&gt;
#include &lt;stdexcept&gt;
#include &lt;string&gt;
#include &lt;iomanip&gt;
#include &lt;initializer_list&gt;
#include &lt;algorithm&gt;
#include &lt;vector&gt;
#include &lt;cmath&gt;
using namespace std;

class Datum {
		int d, m, g;
	public:
		static bool IspravanDatum (int dan, int mjesec, int godina)  {
			int dani[]{31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31};
			if((godina % 4 == 0 &amp;&amp; godina % 100 != 0) || godina % 400 == 0) dani[1]++;
			if(dan&lt;=0 || mjesec &lt;=0 || godina&lt;=0 || godina&gt;2017 || mjesec&gt;12 || dan&gt;dani[mjesec-1]) return false;
			return true;
		}
		Datum(int dan, int mjesec, int godina) {
			if(IspravanDatum(dan, mjesec, godina)==false) throw domain_error("Neispravan datum");
			d=dan; m=mjesec; g=godina;
		}
		void Postavi(int dan, int mjesec, int godina) {
			if(IspravanDatum(dan, mjesec, godina)==false) throw domain_error("Neispravan datum");
<a name="6"></a><font color="#00FF00"><a href="match823-1.html#6" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_0.gif"/></a>

			d=dan; m=mjesec; g=godina;
		}
		int DajDan() const {
			return d;
		}
		int DajMjesec() const {
			return m;
		}
		int DajGodinu() const {
			return g;
		}
		void Ispisi() const {
			cout &lt;&lt; d &lt;&lt; "/" &lt;&lt; m &lt;&lt; "/" &lt;&lt; g;
</font>		}
};

class Kupac {
		string i_i_p;
		Datum d_r=Datum(1, 1, 1);
	public:
		static bool IspravnoImeIPrezime (string test) {
			for(auto it=test.begin(); it!= test.end(); it++) {
				if((*it&gt;='A' &amp;&amp; *it&lt;='Z') || (*it&gt;='a' &amp;&amp; *it&lt;='z') || (*it&gt;='0' &amp;&amp; *it&lt;='9')) continue;
				else if(*it==' ' || *it=='-' || *it==39) continue;
				else return false;
			}
			return true;
		}
		Kupac(const string &amp;ime_i_prezime, const Datum &amp;datum_rodjenja) {
			if(IspravnoImeIPrezime(ime_i_prezime)==false) throw domain_error("Neispravno ime i prezime");
			if(Datum::IspravanDatum(datum_rodjenja.DajDan(), datum_rodjenja.DajMjesec(), datum_rodjenja.DajGodinu())==false)
				throw domain_error("Neispravan datum");
			i_i_p=ime_i_prezime; d_r=Datum(datum_rodjenja.DajDan(), datum_rodjenja.DajMjesec(), datum_rodjenja.DajGodinu());
		}
		void Postavi(const string &amp;ime_i_prezime, const Datum &amp;datum_rodjenja) {
			if(IspravnoImeIPrezime(ime_i_prezime)==false) throw domain_error("Neispravno ime i prezime");
			if(Datum::IspravanDatum(datum_rodjenja.DajDan(), datum_rodjenja.DajMjesec(), datum_rodjenja.DajGodinu())==false)
				throw domain_error("Neispravan datum");
			i_i_p=ime_i_prezime; d_r=Datum(datum_rodjenja.DajDan(), datum_rodjenja.DajMjesec(), datum_rodjenja.DajGodinu());
		}
		string DajImePrezime() const {
			return i_i_p;
		}
		Datum DajDatumRodjenja() const {
			return d_r;
		}
		void Ispisi() const {
			cout &lt;&lt; i_i_p &lt;&lt; " (";
			d_r.Ispisi();
			cout &lt;&lt; ")";
		}

};

class Stan {
	string adr;
	int spr, br_s;
	bool nmj;
	double kvd;
	public:
		Stan(const string &amp;adresa, int sprat, int broj_soba, bool namjesten, double kvadratura) {
			if(sprat&lt;=0 || broj_soba&lt;=0 || kvadratura&lt;=0 || (namjesten!=1 &amp;&amp; namjesten!=0)) throw domain_error("Neispravan unos podataka");
			adr=adresa; spr=sprat; br_s=broj_soba; nmj=namjesten; kvd=kvadratura;
		}
		void Postavi(const string &amp;adresa, int sprat, int broj_soba, bool namjesten, double kvadratura) {
			if(sprat&lt;=0 || broj_soba&lt;=0 || kvadratura&lt;=0) throw domain_error("Neispravan unos podataka");
			adr=adresa; spr=sprat; br_s=broj_soba; nmj=namjesten; kvd=kvadratura;
		}
		string DajAdresu() const {
			return adr;
		}
		int DajSprat() const {
			return spr;
		}
		int DajBrojSoba() const {
			return br_s;
		}
		bool DajNamjesten() const {
			return nmj;
		}
		double DajKvadraturu() const {
			return kvd;
		}
		void Ispisi() const {
			cout &lt;&lt; "Stan se nalazi na adresi " &lt;&lt; DajAdresu() &lt;&lt; " na "
				&lt;&lt; DajSprat() &lt;&lt; " spratu i ima " &lt;&lt; DajBrojSoba();
				if(DajBrojSoba()==1) cout &lt;&lt; " sobu. ";
				else if(DajBrojSoba()==2 || DajBrojSoba()==3 || DajBrojSoba()==4) cout &lt;&lt; " sobe. ";
				else cout &lt;&lt; " soba. ";
				cout &lt;&lt; "Kvadratura stana je " &lt;&lt; DajKvadraturu() &lt;&lt; " (m^2) i stan ";
				if(DajNamjesten()==true) cout &lt;&lt; "je namjesten.";
				else cout &lt;&lt; "nije namjesten.";
		}
};

class Prodaja {
		string ime_agenta_prodaje;
		double cijena_stana;
		Datum datum_prodaje=Datum(1,1,1);
		Kupac kupac_stana=Kupac("\0",datum_prodaje);
		Stan kupljeni_stan=Stan("\0",1,1,1,1);
	public:
		Prodaja(const string &amp;ime_agenta_prodaje, double cijena_stana,
			const Datum &amp;datum_prodaje, const Kupac &amp;kupac_stana,
			const Stan &amp;kupljeni_stan) {
				Prodaja::ime_agenta_prodaje=ime_agenta_prodaje;
				Prodaja::cijena_stana=cijena_stana;
				Prodaja::datum_prodaje=Datum(datum_prodaje.DajDan(), datum_prodaje.DajMjesec(), datum_prodaje.DajGodinu());
				Prodaja::kupac_stana=Kupac(kupac_stana.DajImePrezime(), kupac_stana.DajDatumRodjenja());
				Prodaja::kupljeni_stan=Stan(kupljeni_stan.DajAdresu(), kupljeni_stan.DajSprat(), kupljeni_stan.DajBrojSoba(),
				kupljeni_stan.DajNamjesten(), kupljeni_stan.DajKvadraturu());
		}
		Prodaja(const std::string &amp;ime_agenta_prodaje, double cijena_stana,
 			int dan_prodaje, int mjesec_prodaje, int godina_prodaje,
 			std::string &amp;ime_kupca, const Datum &amp;datum_rodjenja_kupca,
 			const std::string &amp;adresa_stana, int sprat_stana, int broj_soba,
 			bool namjesten_stan, double broj_kvadrata) {
 				Prodaja::ime_agenta_prodaje=ime_agenta_prodaje;
 				Prodaja::cijena_stana=cijena_stana;
 				Prodaja::datum_prodaje=Datum(dan_prodaje,mjesec_prodaje,godina_prodaje);
 				Prodaja::kupac_stana=Kupac(ime_kupca,datum_rodjenja_kupca);
 				Prodaja::kupljeni_stan=Stan(adresa_stana,sprat_stana,broj_soba,namjesten_stan,broj_kvadrata);
 		}
 		void PromijeniKupca(const Kupac &amp;novi_kupac) {
 			kupac_stana.Postavi(novi_kupac.DajImePrezime(),novi_kupac.DajDatumRodjenja());
 		}
 		void PromijeniStan(const Stan &amp;novi_stan) {
 			kupljeni_stan.Postavi(novi_stan.DajAdresu(),novi_stan.DajSprat(),
 				novi_stan.DajBrojSoba(),novi_stan.DajNamjesten(),novi_stan.DajKvadraturu());
 		}
 		void PromijeniDatumKupovine(const Datum &amp;novi_datum) {
 			datum_prodaje.Postavi(novi_datum.DajDan(),novi_datum.DajMjesec(),novi_datum.DajGodinu());
 		}
 		void PromijeniCijenuProdaje(const double &amp;nova_cijena) {
 			cijena_stana=nova_cijena;
 		}
 		void PomjeriDanUnaprijed() {
<a name="8"></a><font color="#00FFFF"><a href="match823-1.html#8" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_0.gif"/></a>

 			int dani_u_mjesecu[]{31,28,31,30,31,30,31,31,30,31,30,31};
 			int dan=datum_prodaje.DajDan(), mjesec=datum_prodaje.DajMjesec(), godina=datum_prodaje.DajGodinu();
</font> 			dan++;
<a name="4"></a><font color="#FF00FF"><a href="match823-1.html#4" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_0.gif"/></a>

 			if((godina % 4 == 0 &amp;&amp; godina % 100 != 0) || godina % 400 == 0) dani_u_mjesecu[1]++;
 			if(dan&gt;dani_u_mjesecu[mjesec-1]) {
 				dan=1;
 				mjesec++;
 			}
 			if(mjesec&gt;12) {
 				godina++;
</font> 				mjesec=1;
 				dan=1;
 			}
 			datum_prodaje.Postavi(dan,mjesec,godina);
 		}
 		void PomjeriDanUnazad() {
<a name="9"></a><font color="#FF00FF"><a href="match823-1.html#9" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_0.gif"/></a>

 			int dani_u_mjesecu[]{31,28,31,30,31,30,31,31,30,31,30,31};
 			int dan=datum_prodaje.DajDan(), mjesec=datum_prodaje.DajMjesec(), godina=datum_prodaje.DajGodinu();
</font> 			dan--;
 			if((godina % 4 == 0 &amp;&amp; godina % 100 != 0) || godina % 400 == 0) dani_u_mjesecu[1]++;
 			if(dan&lt;dani_u_mjesecu[mjesec-1]) {
 				mjesec--;
 				dan=dani_u_mjesecu[mjesec];
 			}
 			if(mjesec&lt;1) {
 				godina--;
 				mjesec=12;
 				dan=31;
 			}
 			datum_prodaje.Postavi(dan,mjesec,godina);
 		}
 		string DajImeAgenta() const {
 			return ime_agenta_prodaje;
 		}
 		string DajImeKupca() const {
 			return kupac_stana.DajImePrezime();
 		}
 		Datum DajDatumProdaje() const {
 			return datum_prodaje;
 		}
 		double DajCijenuStana() const {
 			return cijena_stana;
 		}
 		friend bool ProdatPrije(const Prodaja &amp;p1, const Prodaja &amp;p2);
		friend bool SkupljiStan(const Prodaja &amp;p1, const Prodaja &amp;p2);
		void Ispisi() const {
			cout &lt;&lt; left &lt;&lt; setw(32) &lt;&lt; "Ime agenta: ";
			cout &lt;&lt; ime_agenta_prodaje &lt;&lt; endl;
			cout &lt;&lt; left &lt;&lt; setw(32) &lt;&lt; "Ime kupca: ";
			kupac_stana.Ispisi();
			cout &lt;&lt; endl;
			cout &lt;&lt; left &lt;&lt; setw(32) &lt;&lt; "Zakazani datum prodaje: ";
			datum_prodaje.Ispisi();
			cout &lt;&lt; endl;
			cout &lt;&lt; left &lt;&lt; setw(32) &lt;&lt; "Cijena stana: ";
			cout &lt;&lt; cijena_stana &lt;&lt; endl;
			cout &lt;&lt; "Informacije o stanu: " &lt;&lt; endl;
			kupljeni_stan.Ispisi();
		}
};

bool ProdatPrije(const Prodaja &amp;p1, const Prodaja &amp;p2) {
	if(p1.datum_prodaje.DajGodinu()&lt;p2.datum_prodaje.DajGodinu()) return true;
	else if(p1.datum_prodaje.DajGodinu()&gt;p2.datum_prodaje.DajGodinu()) return false;
	else {
		if(p1.datum_prodaje.DajMjesec()&lt;p2.datum_prodaje.DajMjesec()) return true;
		else if(p1.datum_prodaje.DajMjesec()&gt;p2.datum_prodaje.DajMjesec()) return false;
		else {
			if(p1.datum_prodaje.DajDan()&lt;p2.datum_prodaje.DajDan()) return true;
			else if(p1.datum_prodaje.DajMjesec()&gt;p2.datum_prodaje.DajMjesec()) return false;
		}
	}
	return false;
}

bool SkupljiStan(const Prodaja &amp;p1, const Prodaja &amp;p2) {
	if(p1.cijena_stana&gt;p2.cijena_stana) return true;
	return false;
}

class Prodaje {
		int max_broj_prodaja, broj_prodaja;
		Prodaja **prod;
	public:
		explicit Prodaje(int max_broj_prodaja);
		Prodaje(std::initializer_list&lt;Prodaja&gt; spisak_prodaja);
		~Prodaje() {
			for(int i=0; i&lt;broj_prodaja; i++) delete prod[i];
			delete [] prod;
		}
		Prodaje(const Prodaje &amp;prodaje);
<a name="0"></a><font color="#FF0000"><a href="match823-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_2.gif"/></a>

		Prodaje(Prodaje &amp;&amp;prodaje);
		Prodaje &amp;operator =(const Prodaje &amp;prodaje);
		Prodaje &amp;operator =(Prodaje &amp;&amp;prodaje);
		void RegistrirajProdaju(const string &amp;ime_agenta_prodaje,
 			double cijena_stana, const Datum &amp;datum_prodaje, const Kupac &amp;kupac_stana,
			const Stan &amp;kupljeni_stan); 
		void RegistrirajProdaju(const string &amp;ime_agenta_prodaje, double cijena_stana, 
			int dan_prodaje, int mjesec_prodaje, int godina_prodaje, string &amp;ime_kupca, 
			const Datum &amp;datum_rodjenja_kupca, const string &amp;adresa_stana,
 			int sprat_stana, int broj_soba, bool namjesten_stan, double broj_kvadrata);
 		void RegistrirajProdaju(Prodaja *prodaja);
 		int DajBrojProdaja() const {
</font> 			return broj_prodaja;
 		}
 		int DajBrojProdajaNaDatum(const Datum &amp;datum) const;
 		int DajBrojProdajaOdAgenta(const std::string &amp;ime_agenta) const;
 		Prodaja &amp;DajNajranijuProdaju(); 
 		Prodaja DajNajranijuProdaju() const;
 		Prodaja &amp;DajNajskupljuProdaju();
		Prodaja DajNajskupljuProdaju() const;
		void IsprazniKolekciju() {
			for(int i=0; i&lt;broj_prodaja; i++) delete prod[i];
			broj_prodaja=0;
		};
<a name="10"></a><font color="#FF0000"><a href="match823-1.html#10" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_0.gif"/></a>

		void ObrisiNajranijuProdaju();
		void ObrisiProdajeAgenta(const string &amp;ime_agenta);
		void ObrisiProdajeNaDatum(const Datum &amp;datum);
		void IspisiProdajeNaDatum(const Datum &amp;datum) const;
		void IspisiSveProdaje() const;
		Prodaja &amp;DajProdaju(int redni_broj_prodaje) {
</font>			if(redni_broj_prodaje&gt;broj_prodaja || redni_broj_prodaje&lt;=0) throw range_error("Neispravan redni broj");
			return *prod[redni_broj_prodaje-1];
		}
};	

Prodaje::Prodaje(int max_broj_prodaja) : max_broj_prodaja(max_broj_prodaja), broj_prodaja(0),
	prod(new Prodaja*[max_broj_prodaja]) {}
	
Prodaje::Prodaje(std::initializer_list&lt;Prodaja&gt; spisak_prodaja) : max_broj_prodaja(spisak_prodaja.size()), 
	broj_prodaja(spisak_prodaja.size()), prod(new Prodaja*[spisak_prodaja.size()]) {
		int i(0);
		for(auto p=spisak_prodaja.begin(); p!=spisak_prodaja.end(); p++, i++) prod[i]=new Prodaja(*p);
	}

Prodaje::Prodaje(const Prodaje &amp;prodaje) : max_broj_prodaja(prodaje.max_broj_prodaja),
	broj_prodaja(prodaje.broj_prodaja), prod(new Prodaja*[max_broj_prodaja]) {
		for(int i=0; i&lt;broj_prodaja; i++) prod[i]=new Prodaja(*prodaje.prod[i]);
	}

Prodaje::Prodaje(Prodaje &amp;&amp;prodaje) : max_broj_prodaja(prodaje.max_broj_prodaja),
	broj_prodaja(prodaje.broj_prodaja), prod(prodaje.prod) {
		prodaje.prod=nullptr;
	}
	
Prodaje &amp;Prodaje::operator =(const Prodaje &amp;prodaje) {
<a name="11"></a><font color="#00FF00"><a href="match823-1.html#11" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_0.gif"/></a>

	for(int i=broj_prodaja; i&lt;prodaje.broj_prodaja; i++) prod[i]=new Prodaja(*prodaje.prod[i]);
	broj_prodaja=prodaje.broj_prodaja;
</font>	for(int i=0; i&lt;prodaje.broj_prodaja; i++) {
		*prod[i]=*prodaje.prod[i];
	}
	return *this;
}

Prodaje &amp;Prodaje::operator =(Prodaje &amp;&amp;prodaje) {
	broj_prodaja=prodaje.broj_prodaja;
	prod=prodaje.prod;
	prodaje.broj_prodaja=0;
<a name="7"></a><font color="#0000FF"><a href="match823-1.html#7" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_0.gif"/></a>

	prodaje.prod=nullptr;
	return *this;
}

void Prodaje::RegistrirajProdaju(const string &amp;ime_agenta_prodaje,
	double cijena_stana, const Datum &amp;datum_prodaje, const Kupac &amp;kupac_stana,
	const Stan &amp;kupljeni_stan) {
		if(broj_prodaja+1&gt;max_broj_prodaja) throw range_error("Dostignut maksimalni broj prodaja");
</font><a name="1"></a><font color="#00FF00"><a href="match823-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_1.gif"/></a>

		prod[broj_prodaja]=new Prodaja(ime_agenta_prodaje,cijena_stana,datum_prodaje,kupac_stana,kupljeni_stan);
		broj_prodaja++;
	}
	
void Prodaje::RegistrirajProdaju(const string &amp;ime_agenta_prodaje, double cijena_stana, 
	int dan_prodaje, int mjesec_prodaje, int godina_prodaje, string &amp;ime_kupca, 
	const Datum &amp;datum_rodjenja_kupca, const string &amp;adresa_stana,
 	int sprat_stana, int broj_soba, bool namjesten_stan, double broj_kvadrata) {
 		if(broj_prodaja+1&gt;max_broj_prodaja) throw range_error("Dostignut maksimalni broj prodaja");
</font>		prod[broj_prodaja]=new Prodaja(ime_agenta_prodaje,cijena_stana,Datum(dan_prodaje,mjesec_prodaje,godina_prodaje),
			Kupac(ime_kupca,datum_rodjenja_kupca),Stan(adresa_stana,sprat_stana,broj_soba,namjesten_stan,broj_kvadrata));
		broj_prodaja++;
 	}

void Prodaje::RegistrirajProdaju(Prodaja *prodaja) {
	if(broj_prodaja+1&gt;max_broj_prodaja) throw range_error("Dostignut maksimalni broj prodaja");
		prod[broj_prodaja]=new Prodaja(*prodaja);
		broj_prodaja++;
}

int Prodaje::DajBrojProdajaNaDatum(const Datum &amp;datum) const {
	return count_if(prod, prod+broj_prodaja, [datum](Prodaja *prod) -&gt; bool {
		if(prod-&gt;DajDatumProdaje().DajGodinu()==datum.DajGodinu() &amp;&amp;
		   prod-&gt;DajDatumProdaje().DajMjesec()==datum.DajMjesec() &amp;&amp;
		   prod-&gt;DajDatumProdaje().DajDan()==datum.DajDan()) return true;
		return false;
	});
}
	
int Prodaje::DajBrojProdajaOdAgenta(const std::string &amp;ime_agenta) const {
	return count_if(prod, prod+broj_prodaja, [ime_agenta](Prodaja *prod) -&gt; bool {
		if(prod-&gt;DajImeAgenta()==ime_agenta) return true;
		return false;
	});
}

Prodaja Prodaje::DajNajranijuProdaju() const {
	if(broj_prodaja==0) throw domain_error("Nema registriranih prodaja");
	return **min_element(prod, prod+broj_prodaja, [](Prodaja *prod_1, Prodaja *prod_2) {
		if(ProdatPrije(*prod_1,*prod_2)==true) return true;
		return false;
	});
}

Prodaja &amp;Prodaje::DajNajranijuProdaju() {
	if(broj_prodaja==0) throw domain_error("Nema registriranih prodaja");
	return **min_element(prod, prod+broj_prodaja, [](Prodaja *prod_1, Prodaja *prod_2) {
		if(ProdatPrije(*prod_1,*prod_2)==true) return true;
		return false;
	});
}

Prodaja Prodaje::DajNajskupljuProdaju() const {
	if(broj_prodaja==0) throw domain_error("Nema registriranih prodaja");
	return **max_element(prod, prod+broj_prodaja, [](Prodaja *prod_1, Prodaja *prod_2) {
		if(SkupljiStan(*prod_1,*prod_2)==true) return true;
		return false;
	});
}

Prodaja &amp;Prodaje::DajNajskupljuProdaju() {
	if(broj_prodaja==0) throw domain_error("Nema registriranih prodaja");
	return **max_element(prod, prod+broj_prodaja, [](Prodaja *prod_1, Prodaja *prod_2) {
		if(SkupljiStan(*prod_1,*prod_2)==true) return true;
		return false;
	});
}

void Prodaje::ObrisiNajranijuProdaju() {
<a name="5"></a><font color="#FF0000"><a href="match823-1.html#5" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_0.gif"/></a>

	Prodaja za_brisanje=DajNajranijuProdaju();
	for(int i=0; i&lt;broj_prodaja; i++) {
		if((*prod[i]).DajImeAgenta()==za_brisanje.DajImeAgenta() &amp;&amp;
		   (*prod[i]).DajImeKupca()==za_brisanje.DajImeKupca() &amp;&amp; 
</font>		   abs((*prod[i]).DajCijenuStana()-za_brisanje.DajCijenuStana())&lt;0.0001 &amp;&amp; 
<a name="3"></a><font color="#00FFFF"><a href="match823-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_1.gif"/></a>

		   (*prod[i]).DajDatumProdaje().DajGodinu()==za_brisanje.DajDatumProdaje().DajGodinu() &amp;&amp; 
		   (*prod[i]).DajDatumProdaje().DajMjesec()==za_brisanje.DajDatumProdaje().DajMjesec() &amp;&amp; 
		   (*prod[i]).DajDatumProdaje().DajDan()==za_brisanje.DajDatumProdaje().DajDan()) {
		   		for(int j=i; j&lt;broj_prodaja-1; j++) {
</font>				delete prod[j];
				prod[j]=prod[j+1];
				}
		}
	}
	delete prod[broj_prodaja-1];
	broj_prodaja--;
}

void Prodaje::ObrisiProdajeAgenta(const string &amp;ime_agenta) {
	for(int i=0; i&lt;broj_prodaja; i++) {
		if((*prod[i]).DajImeAgenta()==ime_agenta) {
		   	for(int j=i; j&lt;broj_prodaja-1; j++) {
			delete prod[j];
			prod[j]=prod[j+1];
			}
		delete prod[broj_prodaja-1];
		broj_prodaja--;
		}
	}
}

void Prodaje::ObrisiProdajeNaDatum(const Datum &amp;datum) {
<a name="2"></a><font color="#0000FF"><a href="match823-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_1.gif"/></a>

	for(int i=0; i&lt;broj_prodaja; i++) {
		if((*prod[i]).DajDatumProdaje().DajGodinu()==datum.DajGodinu() &amp;&amp; 
		   (*prod[i]).DajDatumProdaje().DajMjesec()==datum.DajMjesec() &amp;&amp; 
		   (*prod[i]).DajDatumProdaje().DajDan()==datum.DajDan()) {
		   	for(int j=i; j&lt;broj_prodaja-1; j++) {
</font>			delete prod[j];
			prod[j]=prod[j+1];
			}
		delete prod[broj_prodaja-1];
		broj_prodaja--;
		}
	}
}

void Prodaje::IspisiProdajeNaDatum(const Datum &amp;datum) const {
	vector &lt;int&gt; indeksi;
	for(int i=0; i&lt;broj_prodaja; i++) {
		if((*prod[i]).DajDatumProdaje().DajGodinu()==datum.DajGodinu() &amp;&amp; 
		   (*prod[i]).DajDatumProdaje().DajMjesec()==datum.DajMjesec() &amp;&amp; 
		   (*prod[i]).DajDatumProdaje().DajDan()==datum.DajDan())
		   	indeksi.push_back(i);
	}
	sort(indeksi.begin(), indeksi.end(), [this](int prvi, int drugi) -&gt;bool {
		if((*prod[prvi]).DajImeKupca()&lt;(*prod[drugi]).DajImeKupca()) return true;
		return false;
	});
	for(int i=0; i&lt;indeksi.size(); i++) {
		(*prod[indeksi[i]]).Ispisi();
		cout &lt;&lt; endl;
	}
}

void Prodaje::IspisiSveProdaje() const {
	vector &lt;int&gt; indeksi;
	for(int i=0; i&lt;broj_prodaja; i++) {
		   	indeksi.push_back(i);
	}
	sort(indeksi.begin(), indeksi.end(), [this](int prvi, int drugi) -&gt;bool {
		if((*prod[prvi]).DajDatumProdaje().DajGodinu()&lt;(*prod[drugi]).DajDatumProdaje().DajGodinu()) return true;
		else if((*prod[prvi]).DajDatumProdaje().DajGodinu()&gt;(*prod[drugi]).DajDatumProdaje().DajGodinu()) return false;
		else {
			if((*prod[prvi]).DajDatumProdaje().DajMjesec()&lt;(*prod[drugi]).DajDatumProdaje().DajMjesec()) return true;
			else if((*prod[prvi]).DajDatumProdaje().DajMjesec()&gt;(*prod[drugi]).DajDatumProdaje().DajMjesec()) return false;
			else {
				if((*prod[prvi]).DajDatumProdaje().DajDan()&lt;(*prod[drugi]).DajDatumProdaje().DajDan()) return true;
				else if((*prod[prvi]).DajDatumProdaje().DajDan()&gt;(*prod[drugi]).DajDatumProdaje().DajDan()) return false;
				else {
					if((*prod[prvi]).DajImeKupca()&lt;(*prod[drugi]).DajImeKupca()) return true;
					return false;
				}
			}
		}
	});
	for(int i=0; i&lt;indeksi.size(); i++) {
		(*prod[indeksi[i]]).Ispisi();
		cout &lt;&lt; endl;
	}
}

bool f(int x) {
	if(x==0) return false;
	else if(x==1) return true;
	throw domain_error("Neispravan unos podataka");
} 
 
int main ()
{ 
	vector&lt;Stan&gt; stanovi;
	vector&lt;Kupac&gt; kupci;
	cout &lt;&lt; "Dobrodosli!\n\n";
	pocetak:
	cout &lt;&lt; "Izaberite opciju: \n";
	cout &lt;&lt; " 0 - kraj\n";
	cout &lt;&lt; " 1 - uredjivanje stanova\n";
	cout &lt;&lt; " 2 - uredjivanje kupaca\n";
	cout &lt;&lt; " 3 - uredjivanje prodaja\n";
	int opcija_1;
	cin &gt;&gt; opcija_1;
	if(opcija_1==0) { cout &lt;&lt; "\nDovidjenja!"; return 0; }
	else if(opcija_1==1) {
		ponovo_1:
		cout &lt;&lt; "Izaberite opciju: \n";
		cout &lt;&lt; " 0 - nazad\n";
		cout &lt;&lt; " 1 - dodavanje stanova\n";
		cout &lt;&lt; " 2 - uredjivanje stanova\n";
		cout &lt;&lt; " 3 - ispis svih stanova\n";
		cout &lt;&lt; " 4 - kraj\n";
		int opcija_1_1;
		cin &gt;&gt; opcija_1_1;
		if(opcija_1_1==0) goto pocetak;
		if(opcija_1_1==1) {
			ponovo_1_1:
			cout &lt;&lt; "Unesite adresu: ";
			string adresa;
			cin &gt;&gt; adresa;
			cout &lt;&lt; "Unesite sprat: ";
			int sprat;
			cin &gt;&gt; sprat;
			cout &lt;&lt; "Unesite broj soba: ";
			int br_soba;
			cin &gt;&gt; br_soba;
			cout &lt;&lt; "Da li je stan namjesten (1 - da, 0 - ne): ";
			int nmj;
			cin&gt;&gt; nmj;
			cout &lt;&lt; "Unesite kvadraturu: ";
			double kvadratura;
			cin &gt;&gt; kvadratura;
			try {
				bool n=f(nmj);
				Stan stan=Stan(adresa,sprat,br_soba,n,kvadratura);
				stanovi.push_back(stan);
				cout &lt;&lt; "Stan je uspjesno dodan!\n\n";
				goto ponovo_1;
			}
			catch(domain_error err) {
				cout &lt;&lt; "Izuzetak: " &lt;&lt; err.what();
				cout &lt;&lt; ". Molimo ponovite unos.\n\n";
				goto ponovo_1_1;
			}
		}
		if(opcija_1_1==3) {
			for(int i=0; i&lt;stanovi.size(); i++) {
				cout &lt;&lt; i+1 &lt;&lt; ". ";
				stanovi[i].Ispisi();
				cout &lt;&lt; endl;
			}
			cout &lt;&lt; "\n";
			goto ponovo_1;
		}
		if(opcija_1_1==2) {
			cout &lt;&lt; "Odaberite stan. Dostupni stanovi su:\n";
			for(int i=0; i&lt;stanovi.size(); i++) {
				cout &lt;&lt; i+1 &lt;&lt; ". ";
				stanovi[i].Ispisi();
				cout &lt;&lt; endl;
			}
			int koji_stan, opcija_1_1_2;
			cin &gt;&gt; koji_stan;
			cout &lt;&lt; "Odaberite polje koji zelite urediti: ";
			cout &lt;&lt; " 0 - nazad\n";
			cout &lt;&lt; " 1 - adresa\n";
			cout &lt;&lt; " 2 - sprat\n";
			cout &lt;&lt; " 3 - broj_soba\n";
			cout &lt;&lt; " 4 - da li je stan namjesten\n";
			cout &lt;&lt; " 5 - kvadratura\n";
			cout &lt;&lt; " 6 - sve\n";
			cin &gt;&gt; opcija_1_1_2;
			if(opcija_1_1_2==0) goto ponovo_1;
			else if(opcija_1_1_2==1) {
				ponovo_1_1_2_1:
				cout &lt;&lt; "Unesite adresu: ";
				string adresa;
				cin &gt;&gt; adresa;
				try {
					stanovi[koji_stan].Postavi(adresa, stanovi[koji_stan].DajSprat(), stanovi[koji_stan].DajBrojSoba(), stanovi[koji_stan].DajNamjesten(), stanovi[koji_stan].DajKvadraturu());
					cout &lt;&lt; "Stan je uspjesno izmijenjen!\n";
					goto ponovo_1;
				}
				catch(domain_error err) {
					cout &lt;&lt; "Izuzetak: " &lt;&lt; err.what();
					cout &lt;&lt; ". Molimo unesite opet.\n";
					goto ponovo_1_1_2_1;
				}
			}
			else if(opcija_1_1_2==2) {
				ponovo_1_1_2_2:
				cout &lt;&lt; "Unesite sprat: ";
				int sprat;
				cin &gt;&gt; sprat;
				try {
					stanovi[koji_stan].Postavi(stanovi[koji_stan].DajAdresu(), sprat, stanovi[koji_stan].DajBrojSoba(), stanovi[koji_stan].DajNamjesten(), stanovi[koji_stan].DajKvadraturu());
					cout &lt;&lt; "Stan je uspjesno izmijenjen!\n";
					goto ponovo_1;
				}
				catch(domain_error err) {
					cout &lt;&lt; "Izuzetak: " &lt;&lt; err.what();
					cout &lt;&lt; ". Molimo unesite opet.\n";
					goto ponovo_1_1_2_2;
				}
			}
			else if(opcija_1_1_2==3) {
				ponovo_1_1_2_3:
				cout &lt;&lt; "Unesite broj soba: ";
				int broj_soba;
				cin &gt;&gt; broj_soba;
				try {
					stanovi[koji_stan].Postavi(stanovi[koji_stan].DajAdresu(), stanovi[koji_stan].DajSprat(), broj_soba, stanovi[koji_stan].DajNamjesten(), stanovi[koji_stan].DajKvadraturu());
					cout &lt;&lt; "Stan je uspjesno izmijenjen!\n";
					goto ponovo_1;
				}
				catch(domain_error err) {
					cout &lt;&lt; "Izuzetak: " &lt;&lt; err.what();
					cout &lt;&lt; ". Molimo unesite opet.\n";
					goto ponovo_1_1_2_3;
				}
			}
			else if(opcija_1_1_2==4) {
				ponovo_1_1_2_4:
				cout &lt;&lt; "Da li je stan namjesten (1 - da, 0 - ne): ";
				int nmj;
				cin&gt;&gt; nmj;
				try {
					bool n=f(nmj);
					stanovi[koji_stan].Postavi(stanovi[koji_stan].DajAdresu(), stanovi[koji_stan].DajSprat(), stanovi[koji_stan].DajBrojSoba(), n, stanovi[koji_stan].DajKvadraturu());
					cout &lt;&lt; "Stan je uspjesno izmijenjen!\n";
					goto ponovo_1;
				}
				catch(domain_error err) {
					cout &lt;&lt; "Izuzetak: " &lt;&lt; err.what();
					cout &lt;&lt; ". Molimo unesite opet.\n";
					goto ponovo_1_1_2_4;
				}
			}
			else if(opcija_1_1_2==5) {
				ponovo_1_1_2_5:
				cout &lt;&lt; "Unesite kvadraturu: ";
				double kvadratura;
				cin &gt;&gt; kvadratura;
				try {
					stanovi[koji_stan].Postavi(stanovi[koji_stan].DajAdresu(), stanovi[koji_stan].DajSprat(), stanovi[koji_stan].DajBrojSoba(), stanovi[koji_stan].DajNamjesten(), kvadratura);
					cout &lt;&lt; "Stan je uspjesno izmijenjen!\n";
					goto ponovo_1;
				}
				catch(domain_error err) {
					cout &lt;&lt; "Izuzetak: " &lt;&lt; err.what();
					cout &lt;&lt; ". Molimo unesite opet.\n";
					goto ponovo_1_1_2_5;
				}
			}
			else if(opcija_1_1_2==6) {
				ponovo_1_1_2_6:
				cout &lt;&lt; "Unesite adresu: ";
				string adresa;
				cin &gt;&gt; adresa;
				cout &lt;&lt; "Unesite sprat: ";
				int sprat;
				cin &gt;&gt; sprat;
				cout &lt;&lt; "Unesite broj soba: ";
				int br_soba;
				cin &gt;&gt; br_soba;
				cout &lt;&lt; "Da li je stan namjesten (1 - da, 0 - ne): ";
				int nmj;
				cin&gt;&gt; nmj;
				cout &lt;&lt; "Unesite kvadraturu: ";
				double kvadratura;
				cin &gt;&gt; kvadratura;
				try {
					bool n=f(nmj);
					stanovi[koji_stan].Postavi(adresa,sprat,br_soba,n,kvadratura);
					cout &lt;&lt; "Stan je uspjesno izmjenjen!\n\n";
					goto ponovo_1;
					}
				catch(domain_error err) {
					cout &lt;&lt; "Izuzetak: " &lt;&lt; err.what();
					cout &lt;&lt; ". Molimo ponovite unos.\n\n";
					goto ponovo_1_1_2_6;
				}
			}
		}
		if(opcija_1_1==4) { cout &lt;&lt; "\nDovidjenja!"; return 0; }
	}
	else if(opcija_1==2) {
		ponovo_2:
		cout &lt;&lt; "Izaberite opciju: \n";
		cout &lt;&lt; " 0 - nazad\n";
		cout &lt;&lt; " 1 - dodavanje kupca\n";
		cout &lt;&lt; " 2 - uredjivanje kupca\n";
		cout &lt;&lt; " 3 - ispis svih kupaca\n";
		cout &lt;&lt; " 4 - kraj\n";
		int opcija_1_2;
		cin &gt;&gt; opcija_1_2;
		if(opcija_1_2==1) {
			cout &lt;&lt; "Unesite ime i prezime kupca: ";
			string iip;
			cin &gt;&gt; iip;
			cout &lt;&lt; "Unesite datum rodjenja (formata dan/mjesec/godina):";
			int d,m,g;
			cin &gt;&gt; d &gt;&gt; m &gt;&gt; g;
			Kupac kupac=Kupac(iip, Datum(d,m,g));
			cout &lt;&lt; "Kupac uspjesno dodan!";
		}
	}
	return 0;
}</pre>
</body>
</html>
