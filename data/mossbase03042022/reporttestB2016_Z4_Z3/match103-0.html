<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z3/student2567.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z3/student2567.cpp<p></p><pre>
<a name="0"></a><font color="#FF0000"><a href="match103-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_26.gif"/></a>

/B 2016/2017, ZadaÄ‡a 4, Zadatak 3
//Napomena: testovi ce biti dostupni dan pred rok!
#include &lt;iostream&gt;
#include &lt;stdexcept&gt;
#include &lt;string&gt;
#include &lt;iomanip&gt;
#include &lt;initializer_list&gt;
#include &lt;algorithm&gt;

class Datum {
    int dan, mjesec, godina; 
    
    public: 
    
    Datum (int dan, int mjesec, int godina);
    void Postavi (int dan, int mjesec, int godina); 
    int DajDan() const { return dan; }
    int DajMjesec() const { return mjesec; }
    int DajGodinu() const { return godina; }
    void Ispisi() const { std::cout &lt;&lt; dan &lt;&lt; "/" &lt;&lt; mjesec &lt;&lt; "/" &lt;&lt; godina; }
}; 

Datum::Datum (int dan, int mjesec, int godina) {
    int broj_dana[12]{31,28,31,30,31,30,31,31,30,31,30,31}; 
    if (godina%4==0 &amp;&amp; godina%10!=0 &amp;&amp; godina%400==0) broj_dana[1]++; 
    if (dan&lt;1 || mjesec&lt;1 || godina&lt;1 || mjesec&gt;12 || dan&gt;broj_dana[mjesec-1]) throw std::domain_error ("Neispravan datum"); 
    Datum::dan=dan; 
    Datum::mjesec=mjesec;
    Datum::godina=godina; 
}

void Datum::Postavi (int dan, int mjesec, int godina) {
    int broj_dana[12]{31,28,31,30,31,30,31,31,30,31,30,31}; 
    if (dan&lt;1 || mjesec&lt;1 || godina&lt;1 || mjesec&gt;12 || dan&gt;broj_dana[mjesec-1]) throw std::domain_error ("Neispravan datum"); 
    Datum::dan=dan; 
    Datum::mjesec=mjesec;
    Datum::godina=godina; 
}

class Kupac {
    
    Datum datum; 
    std::string ime_i_prezime; 
    public: 
    
    Kupac (const std::string &amp;ime_i_prezime, const Datum &amp;datum_rodjenja); 
    void Postavi (const std::string &amp;ime_i_prezime, const Datum &amp;datum_rodjenja); 
    std::string DajImePrezime() const { return ime_i_prezime; } 
    Datum DajDatumRodjena() const { return datum; } 
    void Ispisi() const { std::cout &lt;&lt; ime_i_prezime;
    std::cout &lt;&lt; "(" &lt;&lt; datum.DajDan() &lt;&lt; "/" &lt;&lt; datum.DajMjesec() &lt;&lt; "/" &lt;&lt; datum.DajGodinu() &lt;&lt; ")"; }
}; 

Kupac::Kupac (const std::string &amp;ime_i_prezime, const Datum &amp;datum_rodjenja) : datum(datum_rodjenja) {
    for (int i=0; i&lt;ime_i_prezime.size(); i++) {
    if (ime_i_prezime[i]&lt;'A' || ime_i_prezime[i]&gt;'Z' || ime_i_prezime[i]&lt;'a' || ime_i_prezime[i]&gt;'z' || ime_i_prezime[i]&lt;'0' || ime_i_prezime[i]&gt;'9' ||
        ime_i_prezime[i]!='-' || ime_i_prezime[i]!=' ') 
        throw std::domain_error ("Neispravno ime i prezime"); 
    }
    Kupac::ime_i_prezime=ime_i_prezime; 
}

void Kupac::Postavi (const std::string &amp;ime_i_prezime, const Datum &amp;datum_rodjenja) {
    for (int i=0; i&lt;ime_i_prezime.size(); i++) {
    if (ime_i_prezime[i]&lt;'A' || ime_i_prezime[i]&gt;'Z' || ime_i_prezime[i]&lt;'a' || ime_i_prezime[i]&gt;'z' || ime_i_prezime[i]&lt;'0' || ime_i_prezime[i]&gt;'9' || 
        ime_i_prezime[i]!='-' || ime_i_prezime[i]!=' ')  
        throw std::domain_error ("Neispravno ime i prezime"); 
    }
     datum.Postavi(datum_rodjenja.DajDan(), datum_rodjenja.DajMjesec(), datum_rodjenja.DajGodinu()); 
     Kupac::ime_i_prezime=ime_i_prezime;
} 

class Stan {
    std::string adresa; 
    int sprat, broj_soba;
    bool namjesten; 
    double kvadratura; 
    
    public: 
    Stan (const std::string &amp;adresa, int sprat, int broj_soba, bool namjesten, double kvadratura); 
    void Postavi(const std::string &amp;adresa, int sprat, int broj_soba, bool namjesten, double kvadratura);
</font>    std::string DajAdresu() const { return adresa; }
<a name="5"></a><font color="#FF0000"><a href="match103-1.html#5" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_1.gif"/></a>

    int DajSprat() const { return sprat; }
    int DajBrojSoba() const { return broj_soba; } 
    bool DajNamjesten() const { return namjesten; } 
    double DajKvadraturu() const { return kvadratura; } 
    void Ispisi() const;
}; 

Stan::Stan (const std::string &amp;adresa, int sprat, int broj_soba, bool namjesten, double kvadratura) {
</font>    if (sprat&lt;0 || broj_soba&lt;0 || kvadratura&lt;0) throw std::domain_error("Neispravan unos podataka"); 
<a name="6"></a><font color="#00FF00"><a href="match103-1.html#6" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_1.gif"/></a>

    Stan::adresa=adresa; Stan::sprat=sprat; Stan::broj_soba=broj_soba; Stan::namjesten=namjesten; Stan::kvadratura=kvadratura; 
}

void Stan::Postavi (const std::string &amp;adresa, int sprat, int broj_soba, bool namjesten, double kvadratura) {
</font>    if (sprat&lt;0 ||broj_soba&lt;0 || kvadratura&lt;0) throw std::domain_error("Neispravan unos podataka"); 
<a name="2"></a><font color="#0000FF"><a href="match103-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_17.gif"/></a>

    Stan::adresa=adresa; Stan::sprat=sprat; Stan::broj_soba=broj_soba; Stan::namjesten=namjesten; Stan::kvadratura=kvadratura; 
}

void Stan::Ispisi() const {
    if (DajNamjesten()==1) {
        if (DajBrojSoba()==1) {
        std::cout &lt;&lt;"Stan se nalazi na adresi " &lt;&lt; DajAdresu() &lt;&lt; " na " &lt;&lt; DajSprat() &lt;&lt; ". spratu i ima " &lt;&lt; DajBrojSoba() &lt;&lt; " sobu."; 
        std::cout &lt;&lt; std::endl &lt;&lt; "Kvadratura stana je " &lt;&lt; DajKvadraturu() &lt;&lt; " (m^2) i stan je namjesten";
        }
        else if (DajBrojSoba()==2 || DajBrojSoba()==3 || DajBrojSoba()==4) {
        std::cout &lt;&lt;"Stan se nalazi na adresi " &lt;&lt; DajAdresu() &lt;&lt; " na " &lt;&lt; DajSprat() &lt;&lt; ". spratu i ima " &lt;&lt; DajBrojSoba() &lt;&lt; " sobe."; 
        std::cout &lt;&lt; std::endl &lt;&lt; "Kvadratura stana je " &lt;&lt; DajKvadraturu() &lt;&lt; " (m^2) i stan je namjesten";
        }
        else {
        std::cout &lt;&lt;"Stan se nalazi na adresi " &lt;&lt; DajAdresu() &lt;&lt; " na " &lt;&lt; DajSprat() &lt;&lt; ". spratu i ima " &lt;&lt; DajBrojSoba() &lt;&lt; " soba."; 
        std::cout &lt;&lt; std::endl &lt;&lt; "Kvadratura stana je " &lt;&lt; DajKvadraturu() &lt;&lt; " (m^2) i stan je namjesten";
        }
    }
    else {
        if (DajBrojSoba()==1) {
        std::cout &lt;&lt; "Stan se nalazi na adresi " &lt;&lt; DajAdresu() &lt;&lt; " na " &lt;&lt; DajSprat() &lt;&lt; ". spratu i ima " &lt;&lt; DajBrojSoba() &lt;&lt; " sobu."; 
        std::cout &lt;&lt; std::endl &lt;&lt; "Kvadratura stana je " &lt;&lt; DajKvadraturu() &lt;&lt; " (m^2) i stan nije namjesten";
        }
        else if (DajBrojSoba()==2 || DajBrojSoba()==3 || DajBrojSoba()==4) {
        std::cout &lt;&lt;"Stan se nalazi na adresi " &lt;&lt; DajAdresu() &lt;&lt; " na " &lt;&lt; DajSprat() &lt;&lt; ". spratu i ima " &lt;&lt; DajBrojSoba() &lt;&lt; " sobe."; 
        std::cout &lt;&lt; std::endl &lt;&lt; "Kvadratura stana je " &lt;&lt; DajKvadraturu() &lt;&lt; " (m^2) i stan nije namjesten";
        }
        else {
        std::cout &lt;&lt;"Stan se nalazi na adresi " &lt;&lt; DajAdresu() &lt;&lt; " na " &lt;&lt; DajSprat() &lt;&lt; ". spratu i ima " &lt;&lt; DajBrojSoba() &lt;&lt; " soba."; 
        std::cout &lt;&lt; std::endl &lt;&lt; "Kvadratura stana je " &lt;&lt; DajKvadraturu() &lt;&lt; " (m^2) i stan je namjesten";
        }
    }
}

class Prodaja {
   std::string ime_agenta_prodaje, adresa_stana; 
   double cijena_stana; 
   Datum datum_prodaje; 
   Kupac kupac_stana; 
   Stan kupljeni_stan; 
   int dan_prodaje, mjesec_prodaje, godina_prodaje;
   std::string ime_kupca;
   Datum datum_rodjenja_kupca; 
   int sprat_stana;
   int broj_soba; 
   bool namjesten_stan; 
   double broj_kvadrata; 
    
   public: 
   
   Prodaja (const std::string &amp;ime_agenta_prodaje, double cijena_stana, const Datum &amp;datum_prodaje, const Kupac &amp;kupac_stana, const Stan &amp;kupljeni_stan);
</font><a name="4"></a><font color="#FF00FF"><a href="match103-1.html#4" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_5.gif"/></a>

   Prodaja (const std::string &amp;ime_agenta_prodaje, double cijena_stana, int dan_prodaje, int mjesec_prodaje, int godina_prodaje, std::string &amp;ime_kupca,
            const Datum &amp;datum_rodjenja_kupca, int sprat_stana, int broj_soba, bool namjesten_stan, double broj_kvadrata); 
   void PromijeniKupca (const Kupac &amp;novi_kupac) { kupac_stana=novi_kupac; }    
   void PromijeniStan (const Stan &amp;novi_stan) { kupljeni_stan=novi_stan; }
   void PromijeniDatumKupovine (const Datum &amp;novi_datum) { datum_prodaje=novi_datum; }
   void PromijeniCijenuProdaje (const double &amp;nova_cijena) { cijena_stana=nova_cijena; }
   void PomjeriDanUnaprijed() { dan_prodaje++; }
   void PomjeriDanUnazad() { dan_prodaje--; }
   std::string DajImeAgenta() const { return ime_agenta_prodaje; } 
   std::string DajImeKupca() const { return ime_kupca; } 
   Datum DajDatumProdaje() const { return datum_prodaje; }
   double DajCijenuStana() const { return cijena_stana; }
   
   friend bool ProdatPrije (const Prodaja &amp;p1, const Prodaja &amp;p2); 
   friend bool SkupljiStan (const Prodaja &amp;p1, const Prodaja &amp;p2); 
</font>   void Ispisi() const; 
}; 

<a name="1"></a><font color="#00FF00"><a href="match103-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_25.gif"/></a>

Prodaja::Prodaja (const std::string &amp;ime_agenta_prodaje, double cijena_stana, const Datum &amp;datum_prodaje, const Kupac &amp;kupac_stana, const Stan &amp;kupljeni_stan): 
datum_prodaje(datum_prodaje), kupac_stana(kupac_stana), kupljeni_stan(kupljeni_stan), datum_rodjenja_kupca(datum_rodjenja_kupca) {
    Prodaja::cijena_stana=cijena_stana; Prodaja::ime_agenta_prodaje=ime_agenta_prodaje; 
}

Prodaja::Prodaja (const std::string &amp;ime_agenta_prodaje, double cijena_stana, int dan_prodaje, int mjesec_prodaje, int godina_prodaje, std::string &amp;ime_kupca,
                  const Datum &amp;datum_rodjenja_kupca, int sprat_stana, int broj_soba, bool namjesten_stan, double broj_kvadrata) :
                  datum_rodjenja_kupca(datum_rodjenja_kupca), datum_prodaje(datum_prodaje), kupac_stana(kupac_stana), kupljeni_stan(kupljeni_stan) {
                      Prodaja::ime_agenta_prodaje=ime_agenta_prodaje; Prodaja::cijena_stana=cijena_stana; Prodaja::dan_prodaje=dan_prodaje; 
                      Prodaja::mjesec_prodaje=mjesec_prodaje; Prodaja::godina_prodaje=godina_prodaje; 
                      Prodaja::ime_kupca=ime_kupca; Prodaja::sprat_stana=sprat_stana;Prodaja::broj_soba=broj_soba; 
                      Prodaja::namjesten_stan=namjesten_stan; Prodaja::broj_kvadrata=broj_kvadrata; 
}

bool ProdatPrije(const Prodaja &amp;p1, const Prodaja &amp;p2) {
    if (p1.DajDatumProdaje().DajGodinu()&gt;p2.DajDatumProdaje().DajGodinu()) return true; 
    else if (p1.DajDatumProdaje().DajGodinu()==p2.DajDatumProdaje().DajGodinu()) {
        if (p1.DajDatumProdaje().DajMjesec()&lt;p2.DajDatumProdaje().DajMjesec()) return true; 
        else if (p1.DajDatumProdaje().DajMjesec()==p2.DajDatumProdaje().DajMjesec()) {
            if (p1.DajDatumProdaje().DajDan()&lt;p2.DajDatumProdaje().DajDan()) return true; 
            else return false; 
        }
    }
}

bool SkupljiStan(const Prodaja &amp;p1, const Prodaja &amp;p2) {
    if (p1.DajCijenuStana()&gt;p2.DajCijenuStana()) return true; 
    else return false; 
}

void Prodaja::Ispisi() const {
    std::cout &lt;&lt; "Ime agenta: " &lt;&lt; std::setw(20) &lt;&lt; DajImeAgenta() &lt;&lt; std::endl; 
   // std::cout &lt;&lt; "Ime kupca: " &lt;&lt; std::setw(20) &lt;&lt; DajImeKupca() &lt;&lt; " (" &lt;&lt;  &lt;&lt; ")" &lt;&lt; std::endl; 
   // std::cout &lt;&lt; "Zakazani datum prodaje: " &lt;&lt; std::setw(20) &lt;&lt; DajDatumProdaje() &lt;&lt; std::endl; 
    std::cout &lt;&lt; "Cijena stana: " &lt;&lt; std::setw(20) &lt;&lt; DajCijenuStana() &lt;&lt; std::endl; 
    std::cout &lt;&lt; "Informacije o stanu: " &lt;&lt; std::endl; 
  //  std::cout &lt;&lt; Prodaja::kupljeni_stan.Ispisi(); 
}

class Prodaje {
    int max_broj_prodaja; 
    int broj_prodaja; 
    Prodaja **p; 
    
    public: 
    
    explicit Prodaje (int max_broj_prodaja) : max_broj_prodaja(max_broj_prodaja), broj_prodaja(0), p(new Prodaja*[broj_prodaja]) {}; 
    explicit Prodaje (std::initializer_list&lt;Prodaja&gt; spisak_prodaja): max_broj_prodaja(spisak_prodaja.size()), broj_prodaja(spisak_prodaja.size()), 
                       p(new Prodaja*[spisak_prodaja.size()]{}) {
                           auto it=spisak_prodaja.begin(); 
                           for (auto i=0; i&lt;broj_prodaja; i++) {
                               p[i]=new Prodaja(*it++); 
                           }
                       }
    ~Prodaje();   
    Prodaje (const Prodaje &amp;prodaje); 
    Prodaje (Prodaje &amp;&amp;prodaje); 
    
Prodaje &amp;operator =(const Prodaje &amp;prodaje) {
        
    if (this==&amp;prodaje) return *this; 
    for (int i=0; i&lt;prodaje.broj_prodaja; i++) 
              delete p[i];
              delete[]p; 
    
    max_broj_prodaja=prodaje.broj_prodaja; 
    broj_prodaja=prodaje.broj_prodaja; 
    p=new Prodaja*[prodaje.broj_prodaja];
    
        try {
            for (int i=0; i&lt;prodaje.broj_prodaja; i++) 
            p[i]=new Prodaja(*prodaje.p[i]); 
        }
        catch (...) {
            for (int i=0; i&lt;prodaje.broj_prodaja; i++) 
            delete p[i]; 
            delete[] p;
            throw; 
    }
    return *this;
} 

    Prodaje &amp;operator =(Prodaje &amp;&amp;prodaje) {
        std::swap(broj_prodaja, prodaje.broj_prodaja); 
        std::swap(p, prodaje.p); 
        return *this; 
    }  
    
    void RegistrirajProdaju(const std::string &amp;ime_agenta_prodaje, double cijena_stana, const Datum &amp;datum_prodaje, const Kupac &amp;kupac_stana, const Stan &amp;kupljeni_stan); 
</font><a name="3"></a><font color="#00FFFF"><a href="match103-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_14.gif"/></a>

    void RegistrirajProdaju(const std::string &amp;ime_agenta_prodaje, double cijena_stana, int dan_prodaje, int mjesec_prodaje, int godina_prodaje, std::string &amp;ime_kupca, 
                            const Datum &amp;datum_rodjenja_kupca, int sprat_stana, int broj_soba, bool namjesten_stan, double broj_kvadrata);
    void RegistrirajProdaju(Prodaja *prodaja);
    int DajBrojProdaja() const { return broj_prodaja; } 
    int DajBrojProdajaNaDatum(const Datum &amp;datum) const;  
}; 

Prodaje::~Prodaje() {
    for (int i=0; i&lt;broj_prodaja; i++) 
    delete p[i]; 
    delete[] p; 
}

Prodaje::Prodaje (const Prodaje &amp;prodaje) : max_broj_prodaja(prodaje.broj_prodaja), broj_prodaja(prodaje.broj_prodaja), 
                  p(new Prodaja*[prodaje.broj_prodaja]) {
                      try {
                          for (int i=0; i&lt;prodaje.broj_prodaja; i++) 
                          p[i]=new Prodaja(*prodaje.p[i]); 
                      }
                      catch(...) {
                          for (int i=0; i&lt;prodaje.broj_prodaja; i++) 
                          delete p[i]; 
                          delete[] p; 
                          throw; 
                      }
}

Prodaje::Prodaje (Prodaje &amp;&amp;prodaje) : max_broj_prodaja(prodaje.max_broj_prodaja), broj_prodaja(prodaje.broj_prodaja), p(prodaje.p) {
    prodaje.p=nullptr; 
    broj_prodaja=0; 
}

void Prodaje::RegistrirajProdaju(const std::string &amp;ime_agenta_prodaje, double cijena_stana, const Datum &amp;datum_prodaje, const Kupac &amp;kupac_stana, const Stan &amp;kupljeni_stan){
    if (Prodaje::broj_prodaja&gt;=Prodaje::max_broj_prodaja) throw std::range_error ("Dostignut maksimalni broj prodaja"); 
    
    Prodaja(ime_agenta_prodaje, cijena_stana, datum_prodaje, kupac_stana, kupljeni_stan); 
}

void Prodaje::RegistrirajProdaju(const std::string &amp;ime_agenta_prodaje, double cijena_stana, int dan_prodaje, int mjesec_prodaje, int godina_prodaje, std::string &amp;ime_kupca, 
                                 const Datum &amp;datum_rodjenja_kupca,int sprat_stana, int broj_soba, bool namjesten_stan, double broj_kvadrata){
    if (Prodaje::broj_prodaja&gt;=Prodaje::max_broj_prodaja) throw std::range_error ("Dostignut maksimalni broj prodaja"); 
    
    Prodaja(ime_agenta_prodaje,cijena_stana,dan_prodaje,mjesec_prodaje,godina_prodaje,ime_kupca,datum_rodjenja_kupca,sprat_stana,broj_soba,namjesten_stan,broj_kvadrata);
    }


int main ()
</font>{
   
	return 0;
}</pre>
</body>
</html>
