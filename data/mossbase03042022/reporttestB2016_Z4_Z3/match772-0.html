<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z3/student4602.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z3/student4602.cpp<p></p><pre>
<a name="11"></a><font color="#00FF00"><a href="match772-1.html#11" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_0.gif"/></a>

/B 2016/2017, ZadaÄ‡a 4, Zadatak 3
//Napomena: testovi ce biti dostupni dan pred rok!
#include &lt;iostream&gt;
#include &lt;stdexcept&gt;
#include &lt;algorithm&gt;
#include &lt;iomanip&gt;
#include &lt;vector&gt;
#include &lt;string&gt;
using namespace std;

class Datum{
    int dan, mjesec, godina;
    public:
</font>    //Datum() { dan=mjesec=godina=0; }
    Datum(int dan, int mjesec, int godina) { Postavi(dan, mjesec, godina); }
    void Postavi(int dan, int mjesec, int godina){
        if(dan&lt;0 || dan&gt;31 || mjesec&lt;1 || mjesec&gt;12 || godina&lt;1 || godina&gt;2017) throw domain_error("Neispravan datum");
        Datum::dan=dan;
        Datum::mjesec=mjesec;
<a name="2"></a><font color="#0000FF"><a href="match772-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_0.gif"/></a>

        Datum::godina=godina;
    }
    int DajDan() const { return dan; }
    int DajMjesec() const { return mjesec; }
    int DajGodinu() const { return godina; }
    void Ispisi() const { cout&lt;&lt;DajDan()&lt;&lt;"/"&lt;&lt;DajMjesec()&lt;&lt;"/"&lt;&lt;DajGodinu(); }
};

class Kupac{
    string ime_i_prezime;
    Datum datum;
    public:
    string s2;
    //Kupac() { ime_i_prezime=s2;}
    Kupac(const std::string &amp;ime_i_prezime, const Datum &amp;datum_rodjenja) : datum(datum_rodjenja) { Postavi(ime_i_prezime, datum_rodjenja); }
</font><a name="6"></a><font color="#00FF00"><a href="match772-1.html#6" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_0.gif"/></a>

    void Postavi(const std::string &amp;ime_i_prezime, const Datum &amp;datum_rodjenja){
        for(int i=0; i&lt;ime_i_prezime.length(); i++){
            if(!((ime_i_prezime[i]&gt;='a' &amp;&amp; ime_i_prezime[i]&lt;='z') ||
</font>            (ime_i_prezime[i]&gt;='A' &amp;&amp; ime_i_prezime[i]&lt;='Z') || ime_i_prezime[i]==' ' || 
            ime_i_prezime[i]=='-')) throw domain_error("Neispravno ime i prezime");
        }
        Kupac::ime_i_prezime=ime_i_prezime;
        datum=datum_rodjenja;
    }
<a name="1"></a><font color="#00FF00"><a href="match772-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_0.gif"/></a>

    std::string DajImePrezime() const { return ime_i_prezime; }
    Datum DajDatumRodjenja() const { return datum; }
    void Ispisi() const { 
        cout&lt;&lt;DajImePrezime()&lt;&lt;" ("&lt;&lt;datum.DajDan()&lt;&lt;"/"&lt;&lt;
        datum.DajMjesec()&lt;&lt;"/"&lt;&lt;datum.DajGodinu()&lt;&lt;")"&lt;&lt;endl;
    }
};
class Stan{
    string adresa;
    int sprat, broj_soba;
    bool namjesten;
    double kvadratura;
  public:
  Stan(const std::string &amp;adresa, int sprat, int broj_soba, bool namjesten,double kvadratura){
</font>      Postavi(adresa, sprat, broj_soba, namjesten, kvadratura);
  }
  void Postavi(const std::string &amp;adresa, int sprat, int broj_soba,bool namjesten, double kvadratura){
      if(broj_soba&lt;0 || sprat&lt;0 || kvadratura&lt;0 || (namjesten!=0 &amp;&amp; namjesten!=1)) throw domain_error("Neispravan unos podataka");
     // else if(broj_soba&lt;0 || sprat&lt;0 || kvadratura&lt;0) throw domain_error("Neispravan unos podataka");
      Stan::adresa=adresa;
      Stan::sprat=sprat;
      Stan::broj_soba=broj_soba;
      Stan::namjesten=namjesten;
      Stan::kvadratura=kvadratura;
  }
  std::string DajAdresu() const { return adresa; }
  int DajSprat() const { return sprat; }
  int DajBrojSoba() const { return broj_soba; }
  bool DajNamjesten() const { return namjesten; }
  double DajKvadraturu() const { return kvadratura; }
  void Ispisi() const {
      cout&lt;&lt;"Stan se nalazi na adresi "&lt;&lt;DajAdresu()&lt;&lt;" na spratu "&lt;&lt;DajSprat()&lt;&lt;
      " i ima ";
      if(broj_soba%10==1 &amp;&amp; broj_soba!=11){
          cout&lt;&lt;DajBrojSoba()&lt;&lt;" sobu. ";
      }
      else if(broj_soba%10&gt;=2 &amp;&amp; broj_soba%10&lt;=4){
          cout&lt;&lt;DajBrojSoba()&lt;&lt;" sobe. ";
      }
      else cout&lt;&lt;DajBrojSoba()&lt;&lt;" soba. ";
      cout&lt;&lt;"Kvadratura stana je "&lt;&lt;kvadratura&lt;&lt;" (m^2) i stan";
      if (namjesten==true) cout&lt;&lt;" je namjesten."&lt;&lt;endl;
      if(namjesten==false) cout&lt;&lt;" nije namjesten."&lt;&lt;endl;
  }

};
class Prodaja{
    string ime_agenta_prodaje;
    Kupac kupac_stana;
    Datum datum_prodaje;
    Stan kupljeni_stan;
    string ime_kupca;
    double cijena_stana;
    
    public:
    Prodaja(const std::string &amp;ime_agenta_prodaje, double cijena_stana,
<a name="7"></a><font color="#0000FF"><a href="match772-1.html#7" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_0.gif"/></a>

    const Datum &amp;datum_prodaje, const Kupac &amp;kupac_stana,const Stan &amp;kupljeni_stan) : 
    kupac_stana(kupac_stana), datum_prodaje(datum_prodaje), kupljeni_stan(kupljeni_stan){
        Prodaja::ime_agenta_prodaje=ime_agenta_prodaje;
        Prodaja::cijena_stana=cijena_stana;
</font>    }
    
    
    Prodaja(const std::string &amp;ime_agenta_prodaje, double cijena_stana,int dan_prodaje, 
    int mjesec_prodaje, int godina_prodaje, std::string &amp;ime_kupca, const Datum &amp;datum_rodjenja_kupca,
    const std::string &amp;adresa_stana, int sprat_stana, int broj_soba,bool namjesten_stan, 
    double broj_kvadrata) :cijena_stana(cijena_stana), datum_prodaje(Datum(dan_prodaje, mjesec_prodaje, godina_prodaje)), 
    kupac_stana(Kupac(ime_kupca, datum_rodjenja_kupca)), 
    kupljeni_stan(Stan(adresa_stana, sprat_stana, broj_soba, namjesten_stan, broj_kvadrata)){
<a name="13"></a><font color="#00FFFF"><a href="match772-1.html#13" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_0.gif"/></a>

        Prodaja::ime_agenta_prodaje=ime_agenta_prodaje;
        //Prodaja::cijena_stana=cijena_stana;
    }

    void PromijeniKupca(const Kupac &amp;novi_kupac){
        kupac_stana=novi_kupac;
    }
    void PromijeniAgentaProdaje(const string &amp;novo_ime_agenta_prodaje){
        ime_agenta_prodaje=novo_ime_agenta_prodaje;
    }
    void PromijeniStan(const Stan &amp;novi_stan){
</font>        kupljeni_stan=novi_stan;
    }
    void PromijeniDatumKupovine(const Datum &amp;novi_datum){
        datum_prodaje=novi_datum;
    }
    void PromijeniCijenuProdaje(const double &amp;nova_cijena){
        cijena_stana=nova_cijena;
    }
    void PomjeriDanUnaprijed();
    
    void PomjeriDanUnazad();
    
    std::string DajImeAgenta() const { return ime_agenta_prodaje; }
    
    std::string DajImeKupca() const { return ime_kupca; }
    Datum DajDatumProdaje() const { return datum_prodaje; }
    double DajCijenuStana() const { return cijena_stana; }
    friend bool ProdatPrije(const Prodaja &amp;p1, const Prodaja &amp;p2);
    friend bool SkupljiStan(const Prodaja &amp;p1, const Prodaja &amp;p2);
    void Ispisi() const {
        cout&lt;&lt;setw(32)&lt;&lt;left&lt;&lt;"Ime agenta:"&lt;&lt;DajImeAgenta()&lt;&lt;endl;
        cout&lt;&lt;setw(32)&lt;&lt;left&lt;&lt;"Ime kupca:";
        kupac_stana.Ispisi();   
        cout&lt;&lt;setw(32)&lt;&lt;left&lt;&lt;"Zakazani datum prodaje: ";
        datum_prodaje.Ispisi();
        cout&lt;&lt;endl;
        cout&lt;&lt;setw(32)&lt;&lt;left&lt;&lt;"Cijena stana: "&lt;&lt;DajCijenuStana()&lt;&lt;endl;
        cout&lt;&lt;setw(32)&lt;&lt;left&lt;&lt;"Informacije o stanu: "&lt;&lt;endl;
        kupljeni_stan.Ispisi();
        
    }

};

void Prodaja::PomjeriDanUnaprijed(){
    if(datum_prodaje.DajMjesec()==1 || datum_prodaje.DajMjesec()==3 || datum_prodaje.DajMjesec()==5
    || datum_prodaje.DajMjesec()==7 || datum_prodaje.DajMjesec()==8 || datum_prodaje.DajMjesec()==10 
    || datum_prodaje.DajMjesec()==12){
        if(datum_prodaje.DajDan()==31){
            datum_prodaje.Postavi(1,datum_prodaje.DajMjesec(), datum_prodaje.DajGodinu());
            if(datum_prodaje.DajMjesec()==12){
                datum_prodaje.Postavi(datum_prodaje.DajDan(), 1, datum_prodaje.DajGodinu()+1);
            }
            else datum_prodaje.Postavi(datum_prodaje.DajDan(),datum_prodaje.DajMjesec()+1, datum_prodaje.DajGodinu());
        }
        else datum_prodaje.Postavi(datum_prodaje.DajDan()+1, datum_prodaje.DajMjesec(), datum_prodaje.DajGodinu());
    }
    else if(datum_prodaje.DajMjesec()==4 || datum_prodaje.DajMjesec()==6 
            || datum_prodaje.DajMjesec()==9 || datum_prodaje.DajMjesec()==1){
        if(datum_prodaje.DajDan()==30){
            datum_prodaje.Postavi(1, datum_prodaje.DajMjesec()+1, datum_prodaje.DajGodinu());
        }
        else datum_prodaje.Postavi(datum_prodaje.DajDan()+1, datum_prodaje.DajMjesec(), datum_prodaje.DajGodinu());
    }
    else if(datum_prodaje.DajMjesec()==2){
        if((datum_prodaje.DajGodinu()%4==0 &amp;&amp; datum_prodaje.DajGodinu()%100!=0) 
        || datum_prodaje.DajGodinu()%400==0){
            if(datum_prodaje.DajDan()==29){
                datum_prodaje.Postavi(1,datum_prodaje.DajMjesec()+1, datum_prodaje.DajGodinu());
            }
            else datum_prodaje.Postavi(datum_prodaje.DajDan()+1, datum_prodaje.DajMjesec(), datum_prodaje.DajGodinu());
        }
        else if(datum_prodaje.DajDan()==28){
            datum_prodaje.Postavi(1, datum_prodaje.DajMjesec()+1, datum_prodaje.DajGodinu());
        } 
        else datum_prodaje.Postavi(datum_prodaje.DajDan()+1, datum_prodaje.DajMjesec(), datum_prodaje.DajGodinu());
    }
}
void Prodaja::PomjeriDanUnazad(){
    if(datum_prodaje.DajMjesec()==12 || datum_prodaje.DajMjesec()==10 || datum_prodaje.DajMjesec()==7 || datum_prodaje.DajMjesec()==5){
        if(datum_prodaje.DajDan()==1){
            datum_prodaje.Postavi(30, datum_prodaje.DajMjesec()-1, datum_prodaje.DajGodinu());
        }
        else datum_prodaje.Postavi(datum_prodaje.DajDan()-1, datum_prodaje.DajMjesec(), datum_prodaje.DajGodinu());
    }
    else if(datum_prodaje.DajMjesec()==11 || datum_prodaje.DajMjesec()==9 || datum_prodaje.DajMjesec()==6 || datum_prodaje.DajMjesec()==4){
        if(datum_prodaje.DajDan()==1){
            datum_prodaje.Postavi(31, datum_prodaje.DajMjesec()-1, datum_prodaje.DajGodinu());
        }
        else datum_prodaje.Postavi(datum_prodaje.DajDan()-1, datum_prodaje.DajMjesec(), datum_prodaje.DajGodinu());
    }
    else if(datum_prodaje.DajMjesec()==1){
        if(datum_prodaje.DajDan()==1){
            datum_prodaje.Postavi(31, 12, datum_prodaje.DajGodinu()-1);
        }
        else datum_prodaje.Postavi(datum_prodaje.DajDan()-1, datum_prodaje.DajMjesec(), datum_prodaje.DajGodinu());
    }
    else if(datum_prodaje.DajMjesec()==3){
        if(datum_prodaje.DajDan()==1){
            datum_prodaje.Postavi(28, datum_prodaje.DajMjesec()-1, datum_prodaje.DajGodinu());
            if((datum_prodaje.DajGodinu()%4==0 &amp;&amp; datum_prodaje.DajGodinu()%100!=0) || datum_prodaje.DajGodinu()%400==0)
                datum_prodaje.Postavi(29, datum_prodaje.DajMjesec()-1, datum_prodaje.DajGodinu());
        }
        else datum_prodaje.Postavi(datum_prodaje.DajDan()-1, datum_prodaje.DajMjesec(), datum_prodaje.DajGodinu());
    }
    else if(datum_prodaje.DajMjesec()==8){
        if(datum_prodaje.DajDan()==1){
            datum_prodaje.Postavi(31, datum_prodaje.DajMjesec()-1,datum_prodaje.DajGodinu());
        }
        else datum_prodaje.Postavi(datum_prodaje.DajDan()-1, datum_prodaje.DajMjesec(), datum_prodaje.DajGodinu());
    }
}

bool ProdatPrije(const Prodaja &amp;p1, const Prodaja &amp;p2){
    if(p1.DajDatumProdaje().DajGodinu()==p2.DajDatumProdaje().DajGodinu()){
        if(p1.DajDatumProdaje().DajMjesec()==p2.DajDatumProdaje().DajMjesec()){
            return p1.DajDatumProdaje().DajDan()&lt;p2.DajDatumProdaje().DajDan();
        }
        return p1.DajDatumProdaje().DajMjesec()&lt;p2.DajDatumProdaje().DajMjesec();
    }
    return p1.DajDatumProdaje().DajGodinu()&lt;p2.DajDatumProdaje().DajGodinu();
}

bool SkupljiStan(const Prodaja &amp;p1, const Prodaja &amp;p2){
    return p1.DajCijenuStana()&gt;p2.DajCijenuStana();
}


class Prodaje{
    int max_broj_prodaja;
    int trenutni_broj_prodaja;
    Prodaja **pok;
    public:
    explicit Prodaje(int max_broj_prodaja){
        max_broj_prodaja=max_broj_prodaja;
        trenutni_broj_prodaja=0;
        pok=new Prodaja*[max_broj_prodaja];
    }
    Prodaje(std::initializer_list&lt;Prodaja&gt; spisak_prodaja);
    ~Prodaje(){
        for(int i=0; i&lt;trenutni_broj_prodaja; i++)
            delete pok[i];
        delete[] pok;    
    }
    Prodaje(const Prodaje &amp;prodaje);
    Prodaje(Prodaje &amp;&amp;prodaje);
    Prodaje &amp;operator =(const Prodaje &amp;prodaje);
    Prodaje &amp;operator =(Prodaje &amp;&amp;prodaje);
    
    void RegistrirajProdaju(const std::string &amp;ime_agenta_prodaje,
    double cijena_stana, const Datum &amp;datum_prodaje, const Kupac &amp;kupac_stana,
    const Stan &amp;kupljeni_stan){
        if(trenutni_broj_prodaja==max_broj_prodaja) throw range_error("Dostignut maksimalan broj prodaja");
        pok[trenutni_broj_prodaja++]= new Prodaja(ime_agenta_prodaje, cijena_stana, datum_prodaje,
        kupac_stana, kupljeni_stan);
    }
    
    void RegistrirajProdaju(const std::string &amp;ime_agenta_prodaje, double cijena_stana, int dan_prodaje,
    int mjesec_prodaje, int godina_prodaje, std::string &amp;ime_kupca,
    const Datum &amp;datum_rodjenja_kupca, const std::string &amp;adresa_stana,
    int sprat_stana, int broj_soba, bool namjesten_stan, double broj_kvadrata){
        if(trenutni_broj_prodaja==max_broj_prodaja) throw range_error("Dostignut maksimalan broj prodaja");
        
        pok[trenutni_broj_prodaja++]= new Prodaja(ime_agenta_prodaje, cijena_stana, dan_prodaje, mjesec_prodaje,
        godina_prodaje, ime_kupca, datum_rodjenja_kupca, adresa_stana, sprat_stana,
        broj_soba, namjesten_stan, broj_kvadrata);
        
    }
    
    void RegistrirajProdaju(Prodaja *prodaja){
        if(trenutni_broj_prodaja==max_broj_prodaja) throw range_error("Dostignut maksimalan broj prodaja");
        pok[trenutni_broj_prodaja++]=prodaja;
    }
    int DajBrojProdaja() const{
        if(trenutni_broj_prodaja==0) throw domain_error("Nema registriranih prodaja");
        return trenutni_broj_prodaja;
    }
    int DajBrojProdajaNaDatum(const Datum &amp;datum) const;
    int DajBrojProdajaOdAgenta(const std::string &amp;ime_agenta) const;
    Prodaja &amp;DajProdaju(int redni_broj){ 
        if(redni_broj&gt;trenutni_broj_prodaja) throw domain_error("Lose");
        return *pok[redni_broj]; }
    Prodaja &amp;DajNajranijuProdaju();
    Prodaja DajNajranijuProdaju() const;
    Prodaja &amp;DajNajskupljuProdaju();
    Prodaja DajNajskupljuProdaju() const;
    void IsprazniKolekciju();
    void ObrisiNajranijuProdaju();
    void ObrisiProdajeAgenta(const std::string &amp;ime_agenta); 
    void ObrisiProdajeNaDatum(const Datum &amp;datum);
    void IspisiProdajeNaDatum(const Datum &amp;datum) const;
    void IspisiSveProdaje() const;

};

Prodaje::Prodaje(initializer_list&lt;Prodaja&gt;spisak_prodaja){
    max_broj_prodaja=spisak_prodaja.size();
    trenutni_broj_prodaja=0;
    pok=new Prodaja*[max_broj_prodaja];
    for(auto it=spisak_prodaja.begin(); it!=spisak_prodaja.end();it++){
        pok[trenutni_broj_prodaja++]=new Prodaja(*it);
    }
}
Prodaje::Prodaje(const Prodaje &amp;prodaje){
    max_broj_prodaja=prodaje.max_broj_prodaja;
    trenutni_broj_prodaja=prodaje.trenutni_broj_prodaja;
    pok=new Prodaja*[max_broj_prodaja];
    for(int i=0; i&lt;trenutni_broj_prodaja; i++)
         pok[i]=new Prodaja(*prodaje.pok[i]);
}

Prodaje::Prodaje(Prodaje &amp;&amp;prodaje){
    max_broj_prodaja=prodaje.max_broj_prodaja;
    trenutni_broj_prodaja=prodaje.trenutni_broj_prodaja;
    pok=prodaje.pok;
    prodaje.trenutni_broj_prodaja=0;
    prodaje.pok=nullptr;
}

Prodaje &amp;Prodaje::operator=(const Prodaje &amp;prodaje){
    if(this==&amp;prodaje) return *this;
    for(int i=0; i&lt;trenutni_broj_prodaja; i++)
         delete[] pok[i];
    delete[] pok;
    max_broj_prodaja=prodaje.max_broj_prodaja;
    trenutni_broj_prodaja=prodaje.trenutni_broj_prodaja;
    pok=new Prodaja*[max_broj_prodaja];
    for(int i=0; i&lt;trenutni_broj_prodaja; i++)
         pok[i]=new Prodaja(*prodaje.pok[i]);
    //prodaje.trenutni_broj_prodaja==0; prodaje.pok=nullptr;
    return *this;
}

Prodaje &amp;Prodaje::operator =(Prodaje &amp;&amp;prodaje){
    if(this==&amp;prodaje) return *this;
    for(int i=0; i&lt;trenutni_broj_prodaja; i++)
        delete pok[i];
    delete[] pok;
    max_broj_prodaja=prodaje.max_broj_prodaja;
    trenutni_broj_prodaja=prodaje.trenutni_broj_prodaja;
    pok=prodaje.pok;
    trenutni_broj_prodaja=0;
    return *this;
}
int Prodaje::DajBrojProdajaNaDatum(const Datum &amp;datum) const{
    int b=0;
    for(int i=0; i&lt;trenutni_broj_prodaja; i++){
        if(pok[i]-&gt;DajDatumProdaje().DajDan()==datum.DajDan() &amp;&amp; 
        pok[i]-&gt;DajDatumProdaje().DajMjesec()==datum.DajMjesec() &amp;&amp; 
        pok[i]-&gt;DajDatumProdaje().DajGodinu()==datum.DajGodinu()) b++;
    }
    if (b==0) throw domain_error("Nema registriranih prodaja");
    return b;
}
int Prodaje::DajBrojProdajaOdAgenta(const string &amp;ime_agenta) const{
    int b=0;
    for(int i=0; i&lt;trenutni_broj_prodaja; i++){
        if(pok[i]-&gt;DajImeAgenta()==ime_agenta) b++;
    }
    if(b==0) throw domain_error("Nema registriranih prodaja");
    return b;
}
Prodaja &amp;Prodaje::DajNajranijuProdaju(){
    int min=0;
    for(int i=0; i&lt;trenutni_broj_prodaja; i++){
        if(ProdatPrije(*pok[i], *pok[min])){
            min=i;
        }
    }
    return *pok[min];
}
Prodaja Prodaje::DajNajranijuProdaju() const{
    int min=0;
    auto poranila(min_element(pok, pok+trenutni_broj_prodaja, [](Prodaja *p1, Prodaja *p2){ return ProdatPrije(*p1, *p2);}));
    return **poranila;
    /*for(int i=0; i&lt;trenutni_broj_prodaja; i++){
        if(ProdatPrije(*pok[i], *pok[min])){
            min=i;
        }
    }
    return *pok[min];*/
}
Prodaja &amp;Prodaje::DajNajskupljuProdaju() {
    int max=0;
    auto skupo_skupo(max_element(pok, pok+trenutni_broj_prodaja, [](Prodaja *p1, Prodaja *p2){ return SkupljiStan(*p1, *p2);}));
    return **skupo_skupo;
    /*for(int i=0; i&lt;trenutni_broj_prodaja; i++){
        if(SkupljiStan(*pok[i], *pok[max])){
            max=i;
        }
    }

return *pok[max];*/
}

Prodaja Prodaje::DajNajskupljuProdaju() const{
    int max=0;
    for(int i=0; i&lt;trenutni_broj_prodaja; i++){
        if(SkupljiStan(*pok[i], *pok[max])){
            max=i;
        }
    }
    return *pok[max];
}

void Prodaje::IsprazniKolekciju(){
    if(trenutni_broj_prodaja==0) throw range_error("Prazna kolekcija");
    for(int i=0; i&lt;trenutni_broj_prodaja; i++){
        delete pok[i];
    }
    trenutni_broj_prodaja=0;
}
void Prodaje::ObrisiNajranijuProdaju(){
    if(trenutni_broj_prodaja==0) throw range_error("Prazna kolekcija");
    Prodaja prodaja=this-&gt;DajNajranijuProdaju();
    for(int i=0; i&lt;trenutni_broj_prodaja; i++){
        if(pok[i]-&gt;DajImeAgenta()==prodaja.DajImeAgenta() &amp;&amp; 
        pok[i]-&gt;DajDatumProdaje().DajDan()==prodaja.DajDatumProdaje().DajDan() &amp;&amp;
        pok[i]-&gt;DajDatumProdaje().DajMjesec()==prodaja.DajDatumProdaje().DajMjesec() &amp;&amp;
        pok[i]-&gt;DajDatumProdaje().DajGodinu()==prodaja.DajDatumProdaje().DajGodinu()){
            delete pok[i];
            for(int j=i; j&lt;trenutni_broj_prodaja; j++){
                Prodaja *pom=pok[j];
                pok[j]=pok[j+1];
                pok[j+1]=pom;
            }
<a name="8"></a><font color="#00FFFF"><a href="match772-1.html#8" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_0.gif"/></a>

            trenutni_broj_prodaja--;
        }
    }
}

void Prodaje::ObrisiProdajeAgenta(const string &amp;ime_agenta){
    for(int i=0; i&lt;trenutni_broj_prodaja; i++){
        if(pok[i]-&gt;DajImeAgenta()==ime_agenta){
            delete pok[i];
</font>            for(int j=i; j&lt;trenutni_broj_prodaja-1; j++){
                Prodaja *pom=pok[j];
                pok[j]=pok[j+1];
<a name="0"></a><font color="#FF0000"><a href="match772-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_1.gif"/></a>

                pok[j+1]=pom;
            }
            i--;
            trenutni_broj_prodaja--;
        }
    }
}
void Prodaje::ObrisiProdajeNaDatum(const Datum &amp;datum){
    for(int i=0; i&lt;trenutni_broj_prodaja; i++){
        if(pok[i]-&gt;DajDatumProdaje().DajDan()==datum.DajDan() &amp;&amp; 
        pok[i]-&gt;DajDatumProdaje().DajMjesec()==datum.DajMjesec() &amp;&amp; 
        pok[i]-&gt;DajDatumProdaje().DajGodinu()==datum.DajGodinu()){
            delete pok[i];
</font>            for(int j=i; j&lt;trenutni_broj_prodaja-1; j++){
                Prodaja *pom=pok[j];
                pok[j]=pok[j+1];
                pok[j+1]=pom;
            }
            i--;
            trenutni_broj_prodaja--;
        }
    }
}
void Prodaje::IspisiProdajeNaDatum(const Datum &amp;datum) const{
    int b=0;
    Prodaja** pom=new Prodaja*[trenutni_broj_prodaja];
    for(int i=0; i&lt;trenutni_broj_prodaja; i++){
        if(pok[i]-&gt;DajDatumProdaje().DajDan()==datum.DajDan() &amp;&amp; 
        pok[i]-&gt;DajDatumProdaje().DajMjesec()==datum.DajMjesec() &amp;&amp;
        pok[i]-&gt;DajDatumProdaje().DajGodinu()==datum.DajGodinu()){
            pom[b]=new Prodaja(*pok[i]);
            b++;
        }
    }
    for(int j=0; j&lt;b; j++){
        for(int k=0; k&lt;b; k++){
            if(ProdatPrije(*pom[j], *pom[k])){
                Prodaja *pom2=pom[j];
                pom[j]=pom[k];
                pom[k]=pom2;
            }
        }
    }
        for(int h=0; h&lt;b; h++){
            pom[h]-&gt;Ispisi();
        }
        for(int i=0; i&lt;b; i++)
             delete pom[i];
        delete[] pom;
}

void Prodaje::IspisiSveProdaje() const{
    Prodaja** pom=new Prodaja*[trenutni_broj_prodaja];
    for(int i=0; i&lt;trenutni_broj_prodaja; i++)
         pom[i]=new Prodaja(*pok[i]);
    for(int j=0; j&lt;trenutni_broj_prodaja; j++)
         for(int k=0; k&lt;trenutni_broj_prodaja; k++){
             if(ProdatPrije(*pom[j], *pom[k])){
                 Prodaja* pom2=pom[j];
                 pom[j]=pom[k];
                 pom[k]=pom2;
             }
         }
         for(int i=0; i&lt;trenutni_broj_prodaja; i++)
             pom[i]-&gt;Ispisi();
         for(int a=0; a&lt;trenutni_broj_prodaja; a++)
             delete pom[a];
          delete[] pom;
}

int main ()
{
    //Prodaje pr;
    int opcija, korak_stan;
    vector&lt;Stan&gt;stanovi;
    vector&lt;Kupac&gt;kupci;
    //vector&lt;Prodaja&gt;p;
    Prodaje p(20);
    
    cout&lt;&lt;"Dobrodosli!"&lt;&lt;endl&lt;&lt;endl&lt;&lt;endl;
    izlaz:
    cout&lt;&lt;"Izaberite opciju:"&lt;&lt;endl;
    cout&lt;&lt;" 0 - kraj"&lt;&lt;endl;
    cout&lt;&lt;" 1 - uredjivanje stanova"&lt;&lt;endl;
    cout&lt;&lt;" 2 - uredjivanje kupaca"&lt;&lt;endl;
    cout&lt;&lt;" 3 - uredjivanje prodaja"&lt;&lt;endl;
    cin&gt;&gt;opcija;
    
    switch(opcija){
        case 0 : {
            cout&lt;&lt;endl&lt;&lt;endl&lt;&lt;"Dovidjenja!"; return 0;
        }
        case 1:{
            izlaz1:
            cout&lt;&lt;"Izaberite opciju:\n 0 - nazad\n 1 - dodavanje stana\n 2 - uredjivanje stanova\n 3 - ispis svih stanova\n 4 - kraj"&lt;&lt;endl;
            cin&gt;&gt;korak_stan;
            switch(korak_stan){
                case 0: goto izlaz;
                case 1: {
                    podizlaz:
                    int brojac1=0;
                    cout&lt;&lt;"Unesite adresu: ";
                    brojac1++;
                    string adresa;
                    if(brojac1==1) cin.ignore(1000, '\n');
                    getline(cin, adresa);
                    cout&lt;&lt;"Unesite sprat: ";
                    try{
                    int sprat;
                    cin&gt;&gt;sprat;
                    cout&lt;&lt;"Unesite broj soba: ";
                    int broj_soba;
                    cin&gt;&gt;broj_soba;
                    cout&lt;&lt;"Da li je stan namjesten (1 - da, 0 - ne): ";
                    bool namjesten;
                    int pomoc;
                    cin&gt;&gt;pomoc;
                    
                    cout&lt;&lt;"Unesite kvadraturu: ";
                    double kvadratura;
                    cin&gt;&gt;kvadratura;
                    if(pomoc==1 || pomoc==0) namjesten=pomoc;
                    else if(pomoc!=0 &amp;&amp; pomoc!=1) throw domain_error("Neispravan unos podataka.");
                    Stan novi=Stan(adresa, sprat, broj_soba, namjesten, kvadratura);
                    stanovi.push_back(novi);
                    }
                    catch(domain_error izuzetak){
                        cout&lt;&lt;"Izuzetak: "&lt;&lt;izuzetak.what()&lt;&lt;". Molimo unesite opet."&lt;&lt;endl;
                        cin.ignore(10000,'\n');
                        goto podizlaz;
                    }
                    
                    cout&lt;&lt;"Stan je uspjesno dodan!"&lt;&lt;endl&lt;&lt;endl; goto izlaz1;
                }
                break;
                case 2:{
                    cout&lt;&lt;"Odaberite stan. Dostupni stanovi su:"&lt;&lt;endl;
                    for(int i=0; i&lt;stanovi.size(); i++){
                        cout&lt;&lt;" "&lt;&lt;i+1&lt;&lt;" - ";
                        stanovi[i].Ispisi();
                    }
                    //cout&lt;&lt;endl;
                    int korak_stan_uredjivanje, uredjivanje_stana;
                    cin&gt;&gt;korak_stan_uredjivanje;
                    cout&lt;&lt;"Odaberite polje koje zelite uredti:\n 0 - nazad\n1 - adresa\n 2 - sprat\n 3 - broj soba\n 4 - da li je stan namjesten\n 5 - kvadratura\n 6 - sve"&lt;&lt;endl;
                    cin&gt;&gt;uredjivanje_stana;
                    switch(uredjivanje_stana){
                        case 0:  goto izlaz1;
                        case 1:{
                            cout&lt;&lt;"Unesite adresu: ";
                            string adresa2;
                            cin.ignore(10000, '\n');
<a name="5"></a><font color="#FF0000"><a href="match772-1.html#5" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_0.gif"/></a>

                            getline(cin, adresa2);
                            stanovi[korak_stan_uredjivanje-1].Postavi(adresa2, stanovi[korak_stan_uredjivanje-1].DajSprat(), 
                            stanovi[korak_stan_uredjivanje-1].DajBrojSoba(), stanovi[korak_stan_uredjivanje-1].DajNamjesten(), 
</font>                            stanovi[korak_stan_uredjivanje-1].DajKvadraturu());
                            cout&lt;&lt;"Stan je uspjesno izmijenjen!"&lt;&lt;endl&lt;&lt;endl; goto izlaz1;
                        }
                        case 2:{
                            podizlaz2:
                            cout&lt;&lt;"Unesite sprat: ";
                            int spratic;
                            try{
                                cin&gt;&gt;spratic;
<a name="3"></a><font color="#00FFFF"><a href="match772-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_0.gif"/></a>

                                stanovi[korak_stan_uredjivanje-1].Postavi(stanovi[korak_stan_uredjivanje-1].DajAdresu(), 
                                spratic, stanovi[korak_stan_uredjivanje-1].DajBrojSoba(), stanovi[korak_stan_uredjivanje-1].DajNamjesten(), 
                                stanovi[korak_stan_uredjivanje-1].DajKvadraturu());
</font>                            }
                            catch(domain_error poruka){
                                cout&lt;&lt;"Izuzetak: "&lt;&lt;poruka.what()&lt;&lt;". Molimo unesite opet."&lt;&lt;endl;
                                goto podizlaz2;
                            }
                            cout&lt;&lt;"Stan je uspjesno izmijenjen!"&lt;&lt;endl&lt;&lt;endl; goto izlaz1;
                        }
                        case 3:{
                            podizlaz3:
                            cout&lt;&lt;"Unesite broj soba: ";
                            int brs;
                            try{
                                cin&gt;&gt;brs;
<a name="4"></a><font color="#FF00FF"><a href="match772-1.html#4" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_0.gif"/></a>

                                stanovi[korak_stan_uredjivanje-1].Postavi(stanovi[korak_stan_uredjivanje-1].DajAdresu(), 
                                stanovi[korak_stan_uredjivanje-1].DajSprat(), brs, stanovi[korak_stan_uredjivanje-1].DajNamjesten(),
                                stanovi[korak_stan_uredjivanje-1].DajKvadraturu());
</font>                            }
                            catch(domain_error pp){
                                cout&lt;&lt;"Izuzetak: "&lt;&lt;pp.what()&lt;&lt;". Molimo unesite opet."&lt;&lt;endl;
                                goto podizlaz3;
                            }
                            cout&lt;&lt;"Stan je uspjesno izmijenjen!"&lt;&lt;endl&lt;&lt;endl; goto izlaz1;
                            
                        }
                        case 4:{
                            podizlaz4:
                            cout&lt;&lt;"Da li je stan namjesten (1 - da, 0 - ne): ";
                            int je_li;
                            try{
                            cin&gt;&gt;je_li;
<a name="9"></a><font color="#FF00FF"><a href="match772-1.html#9" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_0.gif"/></a>

                            stanovi[korak_stan_uredjivanje-1].Postavi(stanovi[korak_stan_uredjivanje-1].DajAdresu(), 
                            stanovi[korak_stan_uredjivanje-1].DajSprat(), stanovi[korak_stan_uredjivanje-1].DajBrojSoba(), je_li, 
                            stanovi[korak_stan_uredjivanje-1].DajKvadraturu());
</font>                            }
                            catch(domain_error p1){
                                cout&lt;&lt;"Izuzetak: "&lt;&lt;p1.what()&lt;&lt;". Molimo unesite opet."&lt;&lt;endl;
                                goto podizlaz4;
                            }
                            cout&lt;&lt;"Stan je uspjesno izmijenjen!"&lt;&lt;endl&lt;&lt;endl; goto izlaz1;
                        }
                        case 5:{
                            podizlaz5:
                            cout&lt;&lt;"Unesite kvadraturu: ";
                            double kvadratura1;
                            try{
                            cin&gt;&gt;kvadratura1;
                            stanovi[korak_stan_uredjivanje-1].Postavi(stanovi[korak_stan_uredjivanje-1].DajAdresu(), 
                            stanovi[korak_stan_uredjivanje-1].DajSprat(), stanovi[korak_stan_uredjivanje-1].DajBrojSoba(), 
                            stanovi[korak_stan_uredjivanje-1].DajNamjesten(), kvadratura1);
                            }
                            catch(domain_error p3){
                                cout&lt;&lt;"Izuzetak: "&lt;&lt;p3.what()&lt;&lt;". Molimo unesite opet."&lt;&lt;endl;
                                goto podizlaz5;  
                            }
                            cout&lt;&lt;"Stan je uspjesno izmijenjen!"&lt;&lt;endl&lt;&lt;endl; goto izlaz1;
                        }
                        case 6:{
                            podizlaz6:
                            cout&lt;&lt;"Unesite adresu: ";
                            string adr;
                            int sp, bs;
                            double kv;
                            bool nm;
                            int pompom;
                            cin.ignore(1000, '\n');
                            getline(cin, adr);
                            try{
                            cout&lt;&lt;"Unesite sprat: ";
<a name="12"></a><font color="#0000FF"><a href="match772-1.html#12" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_0.gif"/></a>

                            cin&gt;&gt;sp;
                            cout&lt;&lt;"Unesite broj soba: ";
                            cin&gt;&gt;bs;
                            cout&lt;&lt;"Da li je stan namjesten (1 - da, 0 - ne): ";
                            cin&gt;&gt;pompom;
                            cout&lt;&lt;"Unesite kvadraturu: ";
                            cin&gt;&gt;kv;
                            if(pompom==1 || pompom==0) nm=pompom;
</font>                            else if(pompom!=0 &amp;&amp; pompom!=1) throw domain_error("Neispravan unos podataka.");
                            stanovi[korak_stan_uredjivanje-1].Postavi(adr, sp, bs, nm, kv);
                            }
                            catch(domain_error p4){
                                cout&lt;&lt;"Izuzetak: "&lt;&lt;p4.what()&lt;&lt;". Molimo unesite opet."&lt;&lt;endl;
                                cin.ignore(10000, '\n');
                                goto podizlaz6;
                            }
                            cout&lt;&lt;"Stan je uspjesno izmijenjen!"&lt;&lt;endl&lt;&lt;endl; goto izlaz1;
                        }
                    }
                }
                case 3:{
<a name="14"></a><font color="#FF00FF"><a href="match772-1.html#14" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_0.gif"/></a>

                    for(int i=0; i&lt;stanovi.size(); i++){
                        cout&lt;&lt;i+1&lt;&lt;". ";stanovi[i].Ispisi();
                    }
                    goto izlaz1;
</font>                }
                case 4: cout&lt;&lt;endl&lt;&lt;endl&lt;&lt;"Dovidjenja!"; return 0;
            }
        }
        case 2:{
            izlaz3:
            cout&lt;&lt;"Izaberite opciju:\n 0 - nazad\n 1 - dodavanje kupca\n 2 - uredjivanje kupaca\n 3 - ispis svih kupaca\n 4 - kraj"&lt;&lt;endl;
            int opcija_za_kupce;
            cin&gt;&gt;opcija_za_kupce;
            switch(opcija_za_kupce){
                case 0: goto izlaz;
                case 1:{
                    int brojac=0;
                    podizlaz7:
                    cout&lt;&lt;"Unesite ime i prezime kupca: ";
                    string ime_i_prezime;
                    brojac++;
                    if(brojac==1) cin.ignore(10000, '\n');
                    getline(cin, ime_i_prezime);
                    cout&lt;&lt;"Unesite datum rodjenja (formata d/m/g): ";
                    try{
                    int dan, mjesec, godina;
                    cin&gt;&gt;dan;
                    cin.get();
                    cin&gt;&gt;mjesec;
                    cin.get();
                    cin&gt;&gt;godina;
                    cin.get();
                    Datum datum=Datum(dan, mjesec, godina);
                    try{
                    Kupac novi=Kupac(ime_i_prezime, datum);
                    kupci.push_back(novi);
                    }
                    catch(domain_error izuzetakxx){
                        cout&lt;&lt;"Izuzetak: "&lt;&lt;izuzetakxx.what()&lt;&lt; ". Molimo unesite opet."&lt;&lt;endl;
                        goto podizlaz7;
                    }
                    }
                    catch(domain_error p6){
                        cout&lt;&lt;"Izuzetak: "&lt;&lt;p6.what()&lt;&lt;". Molimo unesite opet."&lt;&lt;endl;
                        goto podizlaz7;
                    }
                    cout&lt;&lt;"Kupac je uspjesno dodan!"&lt;&lt;endl&lt;&lt;endl;
                    goto izlaz3;
                }
            case 2:{
                podizlaz8:
                cout&lt;&lt;"Odaberite kupca kojeg zelite urediti. Dostupni kupci su:"&lt;&lt;endl;
<a name="10"></a><font color="#FF0000"><a href="match772-1.html#10" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_0.gif"/></a>

                for(int i=0; i&lt;kupci.size(); i++){
                    cout&lt;&lt;" "&lt;&lt;i+1&lt;&lt;" - ";
                    kupci[i].Ispisi();
                }
                
                int korak_uredjivanja_kupca;
                cin&gt;&gt;korak_uredjivanja_kupca;
</font>                string ime_i_prezime2;
                cout&lt;&lt;"Unesite ime i prezime kupca: ";
                cin.ignore(10000, '\n');
                getline(cin, ime_i_prezime2);
                cout&lt;&lt;"Unesite datum rodjenja (formata d/m/g): ";
                try{
                int dan1, mjesec1, godina1;
                cin&gt;&gt;dan1;
                cin.get();
                cin&gt;&gt;mjesec1;
                cin.get();
                cin&gt;&gt;godina1;
                cin.get();
                Datum datum1=Datum(dan1, mjesec1, godina1);
                kupci[korak_uredjivanja_kupca-1].Postavi(ime_i_prezime2, datum1);
                }
                catch(domain_error p7){
                    cout&lt;&lt;"Izuzetak: "&lt;&lt;p7.what()&lt;&lt;". Molimo unesite opet."&lt;&lt;endl;
                    goto podizlaz8;
                }
                cout&lt;&lt;"Kupac je uspjesno izmijenjen!"&lt;&lt;endl&lt;&lt;endl; goto izlaz3;
            }
            case 3:{
                for(int i=0; i&lt;kupci.size(); i++){
                    kupci[i].Ispisi();
                }
                goto izlaz3;
            }
            case 4: cout&lt;&lt;endl&lt;&lt;endl&lt;&lt;"Dovidjenja"; return 0;
            }
        }
        case 3:{
            izlaz4:
            cout&lt;&lt;"Izaberite opciju:\n 0 - nazad\n 1 - dodavanje prodaje\n 2 - uredjivanje prodaje\n 3 - ispis prodaja\n 4 - brisanje prodaja\n 5 - kraj"&lt;&lt;endl;
            int prodaja;
            cin&gt;&gt;prodaja;
            switch(prodaja){
                case 0: goto izlaz;
                case 1: {
                    izlaz5:
                    cout&lt;&lt;"Izaberite opciju:\n 0 - nazad\n 1 - dodavanje potpuno nove prodaje\n 2 - dodavanje nove prodaje na osnovu arhive\n 3 - kraj"&lt;&lt;endl;
                    int dodavanje_prodaje;
                    cin&gt;&gt;dodavanje_prodaje;
                    switch(dodavanje_prodaje){
                        case 0: goto izlaz4;
                        case 1:{
                            podizlaz9:
                            
                            cout&lt;&lt;"Unesite ime i prezime agenta prodaje: ";
                            string ime_agenta_prodaje;
                            cin.ignore(10000, '\n');
                            getline(cin, ime_agenta_prodaje);
                            cout&lt;&lt;"Unesite datum prodaje (formata d/m/g): ";
                            int d,m,g;
                            
                            cin&gt;&gt;d;
                            cin.get();
                            cin&gt;&gt;m;
                            cin.get();
                            cin&gt;&gt;g;
                            cin.get();
                            Datum dpr=Datum(d,m,g);
                            double cijena;
                            cout&lt;&lt;"Unesite cijenu stana: ";
                            cin&gt;&gt;cijena;
                            cout&lt;&lt;"Unesite ime kupca: ";
                            string ik;
                            cin.ignore(10000, '\n');
                            getline(cin, ik);
                            cout&lt;&lt;"Unesite datum rodjenja kupca (formata d/m/g): ";
                            int dd, mm, gg;
                            cin&gt;&gt;dd;
                            cin.get();
                            cin&gt;&gt;mm;
                            cin.get();
                            cin&gt;&gt;gg;
                            cin.get();
                            cout&lt;&lt;"Unesite adresu: ";
                            string adresaa;
                            //cin.ignore(10000, '\n');
                            getline(cin, adresaa);
                            cout&lt;&lt;"Unesite sprat: ";
                            int spratt;
                            cin&gt;&gt;spratt;
                            cout&lt;&lt;"Unesite broj soba: ";
                            int brr;
                            cin&gt;&gt;brr;
                            cout&lt;&lt;"Da li je stan namjesten (1 - da, 0 - ne): ";
                            bool nmj;
                            cin&gt;&gt;nmj;
                            cout&lt;&lt;"Unesite kvadraturu: ";
                            double kvd;
                            cin&gt;&gt;kvd;
                            try{
                            Datum datum2=Datum(dd,mm,gg);
                            Kupac kupac=Kupac(ik, datum2);
                            Stan stan=Stan(adresaa, spratt, brr, nmj, kvd);
                            Prodaja pr=Prodaja(ime_agenta_prodaje, cijena, dpr, kupac, stan);
                            Prodaja *joj=new Prodaja(pr);
                            p.RegistrirajProdaju(joj);
                            }
                            catch(domain_error izuzetak2){
                                cout&lt;&lt;"Izuzetak: "&lt;&lt;izuzetak2.what()&lt;&lt;". Molimo unesite opet."&lt;&lt;endl;
                                goto podizlaz9;
                            }
                            cout&lt;&lt;"Prodaja uspjesno dodana!"&lt;&lt;endl&lt;&lt;endl;
                            goto izlaz5;
                        }
                        case 2:{
                            podizlaz10:
                            cout&lt;&lt;"Unesite ime i prezime agenta prodaje: ";
                            string iip;
                            cin.ignore(10000, '\n');
                            getline(cin, iip);
                            cout&lt;&lt;"Unesite datum prodaje (formata d/m/g): ";
                            int d2, m2, g2;
                            try{
                            cin&gt;&gt;d2;
                            cin.get();
                            cin&gt;&gt;m2;
                            cin.get();
                            cin&gt;&gt;g2;
                            cin.get();
                            cout&lt;&lt;"Unesite cijenu stana: ";
                            double cijenaa;
                            try{
                                cin&gt;&gt;cijenaa;
                            }
                            catch(domain_error izuzetak3){
                                cout&lt;&lt;"Izuzetak: "&lt;&lt;izuzetak3.what()&lt;&lt;". Molimo unesite opet."&lt;&lt;endl;
                                goto podizlaz10;
                            }
                            cout&lt;&lt;"Odaberite kupca. Dostupni kupci su: ";
                            for(int i=0; i&lt;kupci.size(); i++){
                                cout&lt;&lt;i+1&lt;&lt;" - ";
                                kupci[i].Ispisi();
                            }
                            int unesi_kupca;
                            cin&gt;&gt;unesi_kupca;
                            cout&lt;&lt;"Odaberite stan. Dostupni stanovi su: ";
                            for(int i=0; i&lt;stanovi.size(); i++){
                                cout&lt;&lt;i+1&lt;&lt;" - ";
                                stanovi[i].Ispisi();
                            }
                            int de_stan;
                            cin&gt;&gt;de_stan;
                            Datum datum3=Datum(d2,m2,g2);
                            p.RegistrirajProdaju(iip, cijenaa, datum3, kupci[unesi_kupca-1],stanovi[de_stan-1]);
                            }
                            catch(domain_error izuzetak4){
                                cout&lt;&lt;"Izuzetak: "&lt;&lt;izuzetak4.what()&lt;&lt;". Molimo unesite opet."&lt;&lt;endl;
                                goto podizlaz10;
                            }
                            cout&lt;&lt;"Prodaja uspjesno dodana!"&lt;&lt;endl&lt;&lt;endl;
                            goto izlaz5;
                        }
                        case 3: cout&lt;&lt;endl&lt;&lt;endl&lt;&lt;"Dovidjenja!"; return 0;
                    }
                }
                case 2:{
                    cout&lt;&lt;"Odaberite prodaju koju zelite urediti. Dostupne prodaje su: "&lt;&lt;endl;
                    for(int i=0; i&lt;p.DajBrojProdaja(); i++){
                        cout&lt;&lt;" "&lt;&lt;i&lt;&lt;endl;
                        p.DajProdaju(i).Ispisi();
                        //cout&lt;&lt;endl;
                    }
                    int odaberi_za_uredjivanje;
                    cin&gt;&gt;odaberi_za_uredjivanje;
                    cout&lt;&lt;"Izaberite opciju:\n 0 - nazad\n 1 - izmjena agenta\n 2 - izmjena datuma prodaje\n 3 - izmjena kupca\n 4 - izmjena stana\n 5 - izmjena cijene stana:"&lt;&lt;endl;
                    int sta_da_izmijenis;
                    cin&gt;&gt;sta_da_izmijenis;
                    switch(sta_da_izmijenis){
                        case 0: goto izlaz4;
                        case 1:{
                            podizlaz20:
                            cout&lt;&lt;"Unesite ime i prezime agenta prodaje: ";
                            string s2;
                            cin.ignore(10000, '\n');
                            getline(cin, s2);
                            try{
                            //for(int i=0; i&lt;p.DajBrojProdaja(); i++){
                            p.DajProdaju(odaberi_za_uredjivanje-1).PromijeniAgentaProdaje(s2);
                            //}
                            }
                            catch(domain_error nnn){
                                cout&lt;&lt;"Izuzetak: "&lt;&lt;nnn.what()&lt;&lt;". Molimo unesite opet."&lt;&lt;endl;
                                goto podizlaz20;
                            }
                            cout&lt;&lt;"Prodaja je uspjesno izmijenjena!"&lt;&lt;endl&lt;&lt;endl;
                            goto izlaz4;
                        }
                        case 2:{
                            podizlaz11:
                            cout&lt;&lt;"Unesite datum prodaje (formata d/m/g): ";
                            int dann, mjesecc, godinna;
                            try{
                            cin&gt;&gt;dann;
                            cin.get();
                            cin&gt;&gt;mjesecc;
                            cin.get();
                            cin&gt;&gt;godinna;
                            cin.get();
                            Datum novii=Datum(dann, mjesecc, godinna);
                            //for(int i=0; i&lt;p.DajBrojProdaja(); i++){
                            p.DajProdaju(odaberi_za_uredjivanje-1).PromijeniDatumKupovine(novii);
                            }
                            //}
                            catch(domain_error izuzetak5){
                                cout&lt;&lt;"Izuzetak: "&lt;&lt;izuzetak5.what()&lt;&lt;". Molimo unesite opet."&lt;&lt;endl; goto podizlaz11;
                            }
                            cout&lt;&lt;"Prodaja je uspjesno izmijenjena!"&lt;&lt;endl&lt;&lt;endl;
                            goto izlaz4;
                        }
                        case 3: {
                            cout&lt;&lt;"Izaberite opciju:\n 0 - nazad\n 1 - Odabir postojeceg kupca\n 2 - dodavanje novog kupca:\n";
                            int izmjena_kupca;
                            cin&gt;&gt;izmjena_kupca;
                            switch(izmjena_kupca){
                                case 0: goto izlaz4;
                                case 1:{
                                    cout&lt;&lt;"Odaberite kupca. Dostupni kupci su:";
                                    for(int i=1; i&lt;=kupci.size(); i++){
                                        cout&lt;&lt;" "&lt;&lt;i&lt;&lt;" - ";
                                        kupci[i].Ispisi();
                                        //cout&lt;&lt;endl;
                                    }
                                    int de_kupca_za_izmjenu;
                                    cin&gt;&gt;de_kupca_za_izmjenu;
                                    p.DajProdaju(odaberi_za_uredjivanje).PromijeniKupca(kupci[de_kupca_za_izmjenu]);
                                    cout&lt;&lt;"Prodaja uspjesno izmijenjena!"&lt;&lt;endl&lt;&lt;endl; goto izlaz4;
                                }
                                case 2:{
                                    podizlaz12:
                                    cout&lt;&lt;"Unesite ime i prezime kupca: ";
                                    string de_iip;
                                    getline(cin, de_iip);
                                    cout&lt;&lt;"Unesite datum rodjenja (formata dan/mjesec/godina): ";
                                    int dannn, mjeseccc, godinaaa;
                                    try{
                                    cin&gt;&gt;dannn;
                                    cin.get();
                                    cin&gt;&gt;mjeseccc;
                                    cin.get();
                                    cin&gt;&gt;godinaaa;
                                    cin.get();
                                    Datum datumcic=Datum(dannn, mjeseccc, godinaaa);
                                    Kupac neue=Kupac(de_iip, datumcic);
                                    kupci.emplace_back(neue);
                                    p.DajProdaju(odaberi_za_uredjivanje).PromijeniKupca(neue);
                                    }
                                    catch(domain_error izuzetak6){
                                        cout&lt;&lt;"Izuzetak: "&lt;&lt;izuzetak6.what()&lt;&lt;". Molimo unesite opet."&lt;&lt;endl;
                                        goto podizlaz12;
                                    }
                                    cout&lt;&lt;"Prodaja uspjesno izmijenjena!"&lt;&lt;endl&lt;&lt;endl; goto izlaz4;
                                }
                            }
                        }
                        case 4:{
                            cout&lt;&lt;"Izaberite opciju:\n 0 - nazad\n 1 - odabir postojeceg stana\n 2 - dodavanje novog stana"&lt;&lt;endl;
                            int x_opcija;
                            cin&gt;&gt;x_opcija;
                            switch(x_opcija){
                                case 0: goto izlaz4;
                                case 1:{
                                    cout&lt;&lt;"Odaberite stan. Dostupni stanovi su:"&lt;&lt;endl;
                                    for(int i=1; i&lt;=stanovi.size(); i++){
                                        cout&lt;&lt;" "&lt;&lt;i&lt;&lt;" - ";
                                        stanovi[i].Ispisi();
                                        //cout&lt;&lt;endl;
                                    }
                                    int odaberi_stan;
                                    cin&gt;&gt;odaberi_stan;
                                    p.DajProdaju(odaberi_za_uredjivanje).PromijeniStan(stanovi[odaberi_stan]);
                                    goto izlaz4;
                                }
                                case 2:{
                                    podizlaz13:
                                    cout&lt;&lt;"Unesite adresu: ";
                                    string unesite_adresu;
                                    getline(cin, unesite_adresu);
                                    cout&lt;&lt;"Unesite sprat: ";
                                    int unesite_sprat;
                                    try{
                                    cin&gt;&gt;unesite_sprat;
                                    cout&lt;&lt;"Unesite broj soba: ";
                                    int ubr;
                                    cin&gt;&gt;ubr;
                                    cout&lt;&lt;"Da li je stan namjesten (1 - da, 0 - ne): ";
                                    bool jel_nmj;
                                    int stajaznam;
                                    cin&gt;&gt;stajaznam;
                                    cout&lt;&lt;"Unesite kvadraturu: ";
                                    int de_kvadr;
                                    cin&gt;&gt;de_kvadr;
                                    if(stajaznam==1 || stajaznam==0) jel_nmj=stajaznam;
                                    else if(stajaznam!=0 &amp;&amp; stajaznam!=1) throw domain_error("Neispravan unos podataka.");
                                    Stan fuj=Stan(unesite_adresu,unesite_sprat,ubr, jel_nmj, de_kvadr);
                                    stanovi.emplace_back(fuj);
                                    p.DajProdaju(odaberi_za_uredjivanje).PromijeniStan(fuj);
                                    }
                                    catch(domain_error izuzetak7){
                                        cout&lt;&lt;"Izuzetak: "&lt;&lt;izuzetak7.what()&lt;&lt;". Molimo unesite opet."&lt;&lt;endl;
                                        goto podizlaz13;
                                    }
                                    cout&lt;&lt;"Prodaja uspjesno izmijenjena!"&lt;&lt;endl&lt;&lt;endl;
                                    goto izlaz4;
                                }
                            }
                        }
                        case 5:{
                            cout&lt;&lt;"Unesite cijenu stana: ";
                            int unc;
                            cin&gt;&gt;unc;
                            p.DajProdaju(odaberi_za_uredjivanje).PromijeniCijenuProdaje(unc);
                            goto izlaz4;
                        }
                    }
                }
                case 3:{
                    izlaz6:
                    cout&lt;&lt;"Izaberite opciju:\n 0 - nazad\n 1 - ispis svih prodaja\n 2 - ispis prodaja na datum\n 3 - ispis najranije prodaje\n 4 - ispis najskuplje prodaje\n 5 - ispis broja prodaja\n 6 - ispis broja prodaja po datumu\n 7 - ispis broja prodaja po agentu\n 8 - kraj"&lt;&lt;endl;
                    int opcija_za_ispis;
                    switch(opcija_za_ispis){
                        case 0: goto izlaz4;
                        case 1:{
                            for(int i=0; i&lt;p.DajBrojProdaja(); i++){
                                p.IspisiSveProdaje();
                                cout&lt;&lt;endl;
                            }
                        goto izlaz6;
                        }
                        case 2:{
                            cout&lt;&lt;"Unesite datum: ";
                            //try{
                            int di, mi, gi;
                            cin&gt;&gt;di;
                            cin.get();
                            cin&gt;&gt;mi;
                            cin.get();
                            cin&gt;&gt;gi;
                            cin.get();
                            Datum dii=Datum(di, mi, gi);
                            cout&lt;&lt;"Ispis prodaje na datum ";
                            dii.Ispisi();
                            cout&lt;&lt;"su: "&lt;&lt;endl;
                            p.IspisiProdajeNaDatum(dii);
                            goto izlaz6;
                        }
                        case 3:{
                            p.DajNajranijuProdaju().Ispisi();
                            //p.Ispisi();
                            goto izlaz6;
                        }
                        case 4:{
                            p.DajNajskupljuProdaju().Ispisi();
                            goto izlaz6;
                        }
                        case 5:{
                            podizlaz19:
                            try{
                            int a=p.DajBrojProdaja();
                            cout&lt;&lt;"Broj prodaja: "&lt;&lt;a&lt;&lt;endl;
                            goto izlaz6;
                            }
                            catch(domain_error izi){
                                cout&lt;&lt;"Izuzetak: "&lt;&lt;izi.what()&lt;&lt;endl;
                                goto podizlaz19;
                            }
                        }
                        case 6:{
                            podizlaz18:
                            try{
                            cout&lt;&lt;"Unesite datum: ";
                            int d3, m3, g3;
                            cin&gt;&gt;d3;
                            cin&gt;&gt;m3;
                            cin.get();
                            cin&gt;&gt;g3;
                            cin.get();
                            Datum dd3=Datum(d3, m3, g3);
                            try{
                            int b=p.DajBrojProdajaNaDatum(dd3);
                            cout&lt;&lt;"Broj prodaja na uneseni datum: "&lt;&lt;b&lt;&lt;endl;
                            goto izlaz6;
                            }
                            catch(range_error joj){
                                cout&lt;&lt;"Izuzetak: "&lt;&lt;joj.what()&lt;&lt;endl;
                                goto podizlaz18;
                            }
                        }
                        catch(domain_error ma){
                            cout&lt;&lt;"Izuzetak: "&lt;&lt;ma.what()&lt;&lt;endl;
                            cin.ignore(10000, '\n');
                            goto podizlaz18;
                        }
                        case 7:{
                            podizlaz17:
                            cout&lt;&lt;"Unesite ime agenta: ";
                            string s3;
                            cin.ignore(1000, '\n');
                            getline(cin, s3);
                            try{
                            int c=p.DajBrojProdajaOdAgenta(s3);
                            cout&lt;&lt;"Broj prodaja: "&lt;&lt;c&lt;&lt;endl;
                            goto izlaz6;
                            }
                            catch(domain_error evo_ne_znam){
                                cout&lt;&lt;"Izuzetak: "&lt;&lt;evo_ne_znam.what()&lt;&lt;endl; goto podizlaz17;
                            }
                        }
                        case 8: cout&lt;&lt;endl&lt;&lt;endl&lt;&lt;"Dovidjenja!"; return 0;
                    }
                }
                case 4:{
                    izlaz7:
                    cout&lt;&lt;"Izaberite opciju:\n 0 - nazad\n 1 - brisanje najranije prodaje\n 2 - brisanje prodaje agenta\n 3 - brisanje prodaje po datumu\n 4 - brisanje svih prodaja\n";
                    int opcija_za_brisanje;
                    cin&gt;&gt;opcija_za_brisanje;
                    switch(opcija_za_brisanje){
                        case 0: goto izlaz4;
                        case 1:{
                            podizlaz16:
                            try{
                            p.ObrisiNajranijuProdaju();
                            cout&lt;&lt;"Najranija prodaja je obrisana!"; goto izlaz7;
                            }
                            catch(range_error nece){
                                cout&lt;&lt;"Izuzetak: "&lt;&lt;nece.what()&lt;&lt;endl; goto podizlaz16;
                            }
                        }
                        case 2:{
                            podizlaz21:
                            cout&lt;&lt;"Unesite ime agenta: ";
                            string agent;
                            cin.ignore(10000, '\n');
                            getline(cin, agent);
                            try{
                            p.ObrisiProdajeAgenta(agent);
                            }
                            catch(domain_error nmv){
                                cout&lt;&lt;"Izuzetak: "&lt;&lt;nmv.what()&lt;&lt;". Molimo unesite opet."&lt;&lt;endl;
                                goto podizlaz21;
                            }
                            cout&lt;&lt;"Sve prodaje tog agenta su obrisane."&lt;&lt;endl; goto izlaz7;
                            
                        }
                        case 3:{
                            podizlaz14:
                            try{
                            cout&lt;&lt;"Unesite datum: ";
                            int d5, m5, g5;
                            cin&gt;&gt;d5;
                            cin.get();
                            cin&gt;&gt;m5;
                            cin.get();
                            cin&gt;&gt;g5;
                            cin.get();
                            Datum dd5=Datum(d5,m5,g5);
                            try{
                            p.ObrisiProdajeNaDatum(dd5); goto izlaz7;
                            cout&lt;&lt;"Sve prodaje na taj datum su obrisane."&lt;&lt;endl;
                            }
                            catch(range_error nada){
                                cout&lt;&lt;"Izuzetak: "&lt;&lt;nada.what()&lt;&lt;endl;
                                goto podizlaz14;
                            }
                        }
                        catch(domain_error datum){
                            cout&lt;&lt;"Izuzetak: "&lt;&lt;datum.what()&lt;&lt;endl;
                            cin.ignore(10000, '\n');
                            goto podizlaz14;
                        }
                        case 4:{
                            podizlaz15:
                            try{
                            p.IsprazniKolekciju();
                            cout&lt;&lt;"Sve prodaje su obrisane."&lt;&lt;endl; goto izlaz7;
                            }
                            catch(range_error nula){
                                cout&lt;&lt;"Izuzetak: "&lt;&lt;nula.what()&lt;&lt;endl;
                                goto podizlaz15;
                            }
                        }
                        }
                    }
                }
                }
            }
        }
    }
    

	return 0;
}</pre>
</body>
</html>
