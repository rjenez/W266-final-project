<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z3/student3594.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z3/student3594.cpp<p></p><pre>
/B 2016/2017, Zadaća 4, Zadatak 3
//Napomena: testovi ce biti dostupni dan pred rok!
#include &lt;iostream&gt;
#include &lt;string&gt;
#include &lt;stdexcept&gt;
#include &lt;algorithm&gt;
#include &lt;vector&gt;

bool provjeri_ime(std::string ime){
    for(int i=0; i&lt;ime.size(); i++){
      if( (ime[i] &lt; '0') || (ime[i] &gt; '9' &amp;&amp; ime[i] &lt; 'A') || (ime[i] &gt; 'Z' &amp;&amp; ime[i] &lt; 'a') || (ime[i] &gt; 'z') ){
        if(ime[i] != ' ' &amp;&amp; ime[i] != '-' &amp;&amp; ime[i] != 39)
          return false;
      }
    }
    return true;
    
}
bool provjeri_datum(int dan, int mjesec, int godina){
  int broj_dana[12] = {31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31};
    if((godina % 4 == 0 &amp;&amp; godina % 100 != 0) || godina % 400 == 0)
        broj_dana[1]++;
    if(godina &lt; 1 || dan &lt; 1 || mjesec &lt; 1 || mjesec &gt; 12 || dan &gt; broj_dana[mjesec-1])
      return false;
    return true;
}

class Datum{
  int dan;
  int mjesec;
  int godina;
  public:
    Datum(int dan, int mjesec, int godina);
    void Postavi(int dan, int mjesec, int godina);
    int DajDan() const { return Datum::dan; }
    int DajMjesec() const { return Datum::mjesec; }
    int DajGodinu() const { return Datum::godina; }
    void Ispisi() const { std::cout &lt;&lt; Datum::dan &lt;&lt; "/" &lt;&lt; Datum::mjesec &lt;&lt; "/" &lt;&lt; Datum::godina; }

};
Datum::Datum(int dan, int mjesec, int godina) {
  if(provjeri_datum(dan, mjesec, godina) == false) throw std::domain_error("Neispravan datum"); 
  Datum::dan = dan; Datum::mjesec = mjesec; Datum::godina = godina; 
}

void Datum::Postavi(int dan, int mjesec, int godina){
<a name="4"></a><font color="#FF00FF"><a href="match393-1.html#4" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_0.gif"/></a>

    if(provjeri_datum(dan, mjesec, godina) == false) throw std::domain_error("“Neispravan datum");
    Datum::dan = dan; Datum::mjesec = mjesec; Datum::godina = godina;
}

class Kupac{
  std::string ime;
  Datum datum;
  
  public:
 
  Kupac(const std::string &amp;ime_i_prezime, const Datum &amp;datum_rodjenja);
</font>  void Postavi(const std::string &amp;ime_i_prezime, const Datum &amp;datum_rodjenja);
  std::string DajImePrezime() const { return Kupac::ime; }
  Datum DajDatumRodjenja() const { return Kupac::datum; }
  void Ispisi() const { std::cout &lt;&lt; Kupac::ime &lt;&lt; " ("; Kupac::datum.Ispisi(); std::cout &lt;&lt; ")"; }

};



Kupac::Kupac(const std::string &amp;ime_i_prezime, const Datum &amp;datum_rodjenja): datum (datum_rodjenja.DajDan(), datum_rodjenja.DajMjesec(), datum_rodjenja.DajGodinu())
{
  if(provjeri_ime(ime_i_prezime) == false) throw std::domain_error("Neispravno ime i prezime");
  Kupac::ime = ime_i_prezime;
}

void Kupac::Postavi(const std::string &amp;ime_i_prezime, const Datum &amp;datum_rodjenja){
  Kupac::ime = ime_i_prezime;
  Kupac::datum.Postavi(datum_rodjenja.DajDan(), datum_rodjenja.DajMjesec(), datum_rodjenja.DajGodinu());
}

<a name="15"></a><font color="#FF0000"><a href="match393-1.html#15" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_0.gif"/></a>

class Stan{
  std::string adresa;
  int sprat; 
  int br_soba;
  bool namjesten; 
  double kvadratura;
  public:
  Stan(const std::string &amp;adresa, int sprat, int broj_soba, bool namjesten, double kvadratura);
</font>  void Postavi(const std::string &amp;adresa, int sprat, int broj_soba, bool namjesten, double kvadratura);
  std::string DajAdresu() const { return Stan::adresa; }
  int DajSprat() const { return Stan::sprat; }
  int DajBrojSoba() const { return Stan::br_soba; }
  bool DajNamjesten() const { return Stan::namjesten; }
  double DajKvadraturu() const { return Stan::kvadratura; }
  void Ispisi() const;
};

Stan::Stan(const std::string &amp;adresa, int sprat, int broj_soba, bool namjesten, double kvadratura){
  if(sprat &lt; 0 || broj_soba &lt; 0 || kvadratura &lt; 0 ) throw std::domain_error("Neispravan unos podataka");
  Stan::adresa = adresa;
<a name="16"></a><font color="#00FF00"><a href="match393-1.html#16" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_0.gif"/></a>

  Stan::sprat = sprat;
  Stan::br_soba = broj_soba;
  Stan::namjesten = namjesten;
  Stan::kvadratura = kvadratura;
}

void Stan::Postavi(const std::string &amp;adresa, int sprat, int broj_soba, bool namjesten, double kvadratura){
</font>  if(sprat &lt; 0 || broj_soba &lt; 0 || kvadratura &lt; 0 ) throw std::domain_error("Neispravan unos podataka");
  Stan::adresa = adresa;
  Stan::sprat = sprat;
  Stan::br_soba = broj_soba;
  Stan::namjesten = namjesten;
  Stan::kvadratura = kvadratura;
}

void Stan::Ispisi() const {
  if(Stan::namjesten == true){
  if(Stan::br_soba == 1)
  std::cout &lt;&lt; "Stan se nalazi na adresi " &lt;&lt; DajAdresu() &lt;&lt; " na " &lt;&lt; DajSprat() &lt;&lt; ". spratu i ima " &lt;&lt; DajBrojSoba() &lt;&lt; " sobu. Kvadratura stana je " &lt;&lt; DajKvadraturu() &lt;&lt;  " (m^2) i stan je namjesten.";
  if(Stan::br_soba == 2 || Stan::br_soba == 3 || Stan::br_soba == 4)
  std::cout &lt;&lt; "Stan se nalazi na adresi " &lt;&lt; DajAdresu() &lt;&lt; " na " &lt;&lt; DajSprat() &lt;&lt; ". spratu i ima " &lt;&lt; DajBrojSoba() &lt;&lt; " sobe. Kvadratura stana je " &lt;&lt; DajKvadraturu() &lt;&lt;  " (m^2) i stan je namjesten.";
  else 
  std::cout &lt;&lt; "Stan se nalazi na adresi " &lt;&lt; DajAdresu() &lt;&lt; " na " &lt;&lt; DajSprat() &lt;&lt; ". spratu i ima " &lt;&lt; DajBrojSoba() &lt;&lt; " soba. Kvadratura stana je " &lt;&lt; DajKvadraturu() &lt;&lt;  " (m^2) i stan je namjesten.";
  }
  if(Stan::namjesten == false){
    if(Stan::br_soba == 1)
  std::cout &lt;&lt; "Stan se nalazi na adresi " &lt;&lt; DajAdresu() &lt;&lt; " na " &lt;&lt; DajSprat() &lt;&lt; ". spratu i ima " &lt;&lt; DajBrojSoba() &lt;&lt; " sobu. Kvadratura stana je " &lt;&lt; DajKvadraturu() &lt;&lt;  " (m^2) i stan nije namjesten.";
    if(Stan::br_soba == 2 || Stan::br_soba == 3 || Stan::br_soba == 4)
  std::cout &lt;&lt; "Stan se nalazi na adresi " &lt;&lt; DajAdresu() &lt;&lt; " na " &lt;&lt; DajSprat() &lt;&lt; ". spratu i ima " &lt;&lt; DajBrojSoba() &lt;&lt; " sobe. Kvadratura stana je " &lt;&lt; DajKvadraturu() &lt;&lt;  " (m^2) i stan nije namjesten.";
    else 
<a name="17"></a><font color="#0000FF"><a href="match393-1.html#17" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_0.gif"/></a>

  std::cout &lt;&lt; "Stan se nalazi na adresi " &lt;&lt; DajAdresu() &lt;&lt; " na " &lt;&lt; DajSprat() &lt;&lt; ". spratu i ima " &lt;&lt; DajBrojSoba() &lt;&lt; " soba. Kvadratura stana je " &lt;&lt; DajKvadraturu() &lt;&lt;  " (m^2) i stan nije namjesten.";
  }
}

class Prodaja{
  std::string ime_agenta;
  double cijena;
  Datum datum_prodaje;
  Kupac kupac;
  Stan stan;
  
  public:
  Prodaja(const std::string &amp;ime_agenta_prodaje, double cijena_stana, const Datum &amp;datum_prodaje, const Kupac &amp;kupac_stana, const Stan &amp;kupljeni_stan);
</font>  Prodaja(const std::string &amp;ime_agenta_prodaje, double cijena_stana, int dan_prodaje, int mjesec_prodaje, int godina_prodaje, std::string &amp;ime_kupca, const Datum &amp;datum_rodjenja_kupca,
  const std::string &amp;adresa_stana, int sprat_stana, int broj_soba, bool namjesten_stan, double broj_kvadrata);
  void PromijeniKupca(const Kupac &amp;novi_kupac) { Prodaja::kupac = novi_kupac; }
  void PromijeniStan(const Stan &amp;novi_stan) {Prodaja::stan = novi_stan;}
  void PromijeniDatumKupovine(const Datum &amp;novi_datum) { Prodaja::datum_prodaje = novi_datum; }
  void PromijeniCijenuProdaje(const double &amp;nova_cijena) { Prodaja::cijena = nova_cijena; }
  void PomjeriDanUnaprijed() { Prodaja::datum_prodaje.Postavi(datum_prodaje.DajDan()+1, datum_prodaje.DajMjesec(), datum_prodaje.DajGodinu()); }
  void PomjeriDanUnazad() { Prodaja::datum_prodaje.Postavi(datum_prodaje.DajDan()-1, datum_prodaje.DajMjesec(), datum_prodaje.DajGodinu()); }
  std::string DajImeAgenta() const { return Prodaja::ime_agenta; }
  std::string DajImeKupca() const { return Prodaja::kupac.DajImePrezime(); }
  Datum DajDatumProdaje() const { return Prodaja::datum_prodaje; }
  double DajCijenuStana() const { return Prodaja::cijena; }
  friend bool ProdatPrije(const Prodaja &amp;p1, const Prodaja &amp;p2);
  friend bool SkupljiStan(const Prodaja &amp;p1, const Prodaja &amp;p2);
  void Ispisi() const;
};

<a name="0"></a><font color="#FF0000"><a href="match393-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_1.gif"/></a>

Prodaja::Prodaja(const std::string &amp;ime_agenta_prodaje, double cijena_stana, const Datum &amp;datum_prodaje, const Kupac &amp;kupac_stana, const Stan &amp;kupljeni_stan):
datum_prodaje(datum_prodaje.DajDan(), datum_prodaje.DajMjesec(),datum_prodaje.DajGodinu()), kupac(kupac_stana.DajImePrezime(), kupac_stana.DajDatumRodjenja()), 
stan(kupljeni_stan.DajAdresu(), kupljeni_stan.DajSprat(), kupljeni_stan.DajBrojSoba(), kupljeni_stan.DajNamjesten(),kupljeni_stan.DajKvadraturu())
{
  Prodaja::ime_agenta = ime_agenta_prodaje;
  Prodaja::cijena = cijena_stana;
}

Prodaja::Prodaja(const std::string &amp;ime_agenta_prodaje, double cijena_stana, int dan_prodaje, int mjesec_prodaje, int godina_prodaje, std::string &amp;ime_kupca, const Datum &amp;datum_rodjenja_kupca,
</font><a name="9"></a><font color="#FF00FF"><a href="match393-1.html#9" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_0.gif"/></a>

  const std::string &amp;adresa_stana, int sprat_stana, int broj_soba, bool namjesten_stan, double broj_kvadrata):
  datum_prodaje(dan_prodaje,mjesec_prodaje,godina_prodaje), kupac(ime_kupca,datum_rodjenja_kupca), stan(adresa_stana, sprat_stana, broj_soba, namjesten_stan, broj_kvadrata)
  {
    Prodaja::ime_agenta = ime_agenta_prodaje;
    Prodaja::cijena = cijena_stana;
</font>  }

bool ProdatPrije(const Prodaja &amp;p1, const Prodaja &amp;p2){
  
  if(p1.datum_prodaje.DajGodinu() &gt; p2.datum_prodaje.DajGodinu()) 
    return true;
    
  if(p1.datum_prodaje.DajGodinu() == p2.datum_prodaje.DajGodinu())
    if(p1.datum_prodaje.DajMjesec() &gt; p2.datum_prodaje.DajMjesec()) 
      return true;
      
  if(p1.datum_prodaje.DajGodinu() == p2.datum_prodaje.DajGodinu())
    if(p1.datum_prodaje.DajMjesec() == p2.datum_prodaje.DajMjesec())
      if(p1.datum_prodaje.DajDan() == p2.datum_prodaje.DajDan()) 
        return true;
        
  return false;
}

bool SkupljiStan(const Prodaja &amp;p1, const Prodaja &amp;p2){
  if(p1.cijena &gt; p2.cijena) return true;
  return false;
}

void Prodaja::Ispisi() const {
  std::cout &lt;&lt; "Ime agenta:                     ";std::cout &lt;&lt; ime_agenta &lt;&lt; std::endl;
  std::cout &lt;&lt; "Ime kupca:                      ";kupac.Ispisi();   
  std::cout &lt;&lt; "Zakazani datum prodaje:         ";datum_prodaje.Ispisi();     
  std::cout &lt;&lt; "Cijena stana:                   ";std::cout &lt;&lt; cijena &lt;&lt; std::endl;
  std::cout &lt;&lt; "Informacije o stanu: " &lt;&lt; std::endl;	     
  stan.Ispisi();
}

class Prodaje{
  Prodaja** prodaje;
  int maxBrojProdaja;
  int brojProdaja;
  
  public:
  
<a name="10"></a><font color="#FF0000"><a href="match393-1.html#10" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_0.gif"/></a>

  explicit Prodaje(int max_broj_prodaja) { maxBrojProdaja = max_broj_prodaja; brojProdaja = 0; prodaje = new Prodaja*[maxBrojProdaja]; } 
  Prodaje(std::initializer_list&lt;Prodaja&gt; spisak_prodaja); 
  ~Prodaje(); 
  Prodaje(const Prodaje &amp;prodaje); 
  Prodaje(Prodaje &amp;&amp;prodaje); 
  Prodaje &amp;operator =(const Prodaje &amp;prodaje);
</font>  Prodaje &amp;operator =(Prodaje &amp;&amp;prodaje);
  void RegistrirajProdaju(const std::string &amp;ime_agenta_prodaje, double cijena_stana, const Datum &amp;datum_prodaje, const Kupac &amp;kupac_stana, const Stan &amp;kupljeni_stan); 
  void RegistrirajProdaju(const std::string &amp;ime_agenta_prodaje, double cijena_stana, int dan_prodaje, int mjesec_prodaje, int godina_prodaje, std::string &amp;ime_kupca, const Datum &amp;datum_rodjenja_kupca, const std::string &amp;adresa_stana,
  int sprat_stana, int broj_soba, bool namjesten_stan, double broj_kvadrata);
  void RegistrirajProdaju(Prodaja *prodaja); 
  int DajBrojProdaja() const; 
  int DajBrojProdajaNaDatum(const Datum &amp;datum) const; 
  int DajBrojProdajaOdAgenta(const std::string &amp;ime_agenta) const; 
  Prodaja &amp;DajNajranijuProdaju(); 
  Prodaja DajNajranijuProdaju() const; 
  Prodaja &amp;DajNajskupljuProdaju(); 
  Prodaja DajNajskupljuProdaju() const;
  void IsprazniKolekciju(); 
  void ObrisiNajranijuProdaju();
<a name="8"></a><font color="#00FFFF"><a href="match393-1.html#8" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_0.gif"/></a>

  void ObrisiProdajeAgenta(const std::string &amp;ime_agenta); 
  void ObrisiProdajeNaDatum(const Datum &amp;datum); 
  void IspisiProdajeNaDatum(const Datum &amp;datum) const;
  void IspisiSveProdaje() const; 

};

Prodaje::Prodaje(std::initializer_list&lt;Prodaja&gt; spisak_prodaja){
</font>    prodaje = new Prodaja*[spisak_prodaja.size()];
    int i(0);
    for(const auto x : spisak_prodaja){
      prodaje[i++] = new Prodaja(x);
    }
    maxBrojProdaja = spisak_prodaja.size();
    brojProdaja = spisak_prodaja.size();
}

Prodaje::~Prodaje(){
  for(int i=0; i&lt;maxBrojProdaja; i++)
    delete prodaje[i];
  delete [] prodaje;
}




Prodaje::Prodaje(Prodaje &amp;&amp;pprodaje): maxBrojProdaja(pprodaje.maxBrojProdaja), brojProdaja(pprodaje.brojProdaja)
{
  prodaje = pprodaje.prodaje;
  pprodaje.prodaje = nullptr;
}

Prodaje &amp;Prodaje::operator =(Prodaje &amp;&amp;pprodaje){
  if(&amp;pprodaje != this){
    for(int i=0; i&lt;maxBrojProdaja; i++)
        delete prodaje[i];
    delete [] prodaje;
    maxBrojProdaja = pprodaje.maxBrojProdaja;
    brojProdaja = pprodaje.brojProdaja;
    prodaje = pprodaje.prodaje;
    pprodaje.prodaje = nullptr;
  }
return *this;
}


Prodaje::Prodaje(const Prodaje &amp;pprodaje): maxBrojProdaja(pprodaje.maxBrojProdaja), brojProdaja(pprodaje.brojProdaja){
   this -&gt; prodaje = new Prodaja*[maxBrojProdaja];
   
   for(int i=0; i&lt;maxBrojProdaja; i++) {
      this -&gt; prodaje[i] = new Prodaja(*pprodaje.prodaje[i]);
   }
 }


Prodaje &amp;Prodaje::operator =(const Prodaje &amp;pprodaje){
  if(&amp;pprodaje != this){
    for(int i=0; i&lt;maxBrojProdaja; i++)
        delete prodaje[i];
    delete [] prodaje;
    maxBrojProdaja = pprodaje.maxBrojProdaja;
    brojProdaja = pprodaje.brojProdaja;
    prodaje = new Prodaja*[maxBrojProdaja];
    for(int i=0; i&lt;maxBrojProdaja; i++){
        this -&gt; prodaje[i] = new Prodaja(*pprodaje.prodaje[i]);
    }
  }
  return *this;
}


void Prodaje::RegistrirajProdaju(const std::string &amp;ime_agenta_prodaje, double cijena_stana, const Datum &amp;datum_prodaje, const Kupac &amp;kupac_stana, const Stan &amp;kupljeni_stan){
  if(brojProdaja &lt; maxBrojProdaja)
      prodaje[brojProdaja++] = new Prodaja(ime_agenta_prodaje, cijena_stana, datum_prodaje, kupac_stana, kupljeni_stan);
  else throw std::range_error("Dostignut maksimalni broj prodaja");
}

void Prodaje::RegistrirajProdaju(const std::string &amp;ime_agenta_prodaje, double cijena_stana, int dan_prodaje, int mjesec_prodaje, int godina_prodaje, std::string &amp;ime_kupca, const Datum &amp;datum_rodjenja_kupca, const std::string &amp;adresa_stana,
  int sprat_stana, int broj_soba, bool namjesten_stan, double broj_kvadrata){
  
    if(brojProdaja &lt; maxBrojProdaja)
        prodaje[brojProdaja++] = new Prodaja(ime_agenta_prodaje, cijena_stana, dan_prodaje, mjesec_prodaje, godina_prodaje, ime_kupca, datum_rodjenja_kupca, adresa_stana, sprat_stana, broj_soba, namjesten_stan, broj_kvadrata);
    else throw std::range_error("Dostignut maksimalni broj prodaja");
  }

 void Prodaje::RegistrirajProdaju(Prodaja *prodaja){
   
   if(brojProdaja &lt; maxBrojProdaja)
        prodaje[brojProdaja++] = new Prodaja(*prodaja);
    else throw std::range_error("Dostignut maksimalni broj prodaja");
 }


int Prodaje::DajBrojProdaja() const{ 
  if(brojProdaja == 0) throw std::domain_error("Nema registriranih prodaja"); 
return brojProdaja; 
  
}

int Prodaje::DajBrojProdajaNaDatum(const Datum &amp;datum) const{
  if(brojProdaja == 0) throw std::domain_error("Nema registriranih prodaja");
  return std::count_if(prodaje[0], prodaje[maxBrojProdaja], [datum](Prodaja pr1) {
    return pr1.DajDatumProdaje().DajDan() == datum.DajDan() &amp;&amp; pr1.DajDatumProdaje().DajMjesec() == datum.DajMjesec() &amp;&amp; pr1.DajDatumProdaje().DajGodinu() == datum.DajGodinu();
  });
}

<a name="3"></a><font color="#00FFFF"><a href="match393-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_0.gif"/></a>

int Prodaje::DajBrojProdajaOdAgenta(const std::string &amp;ime_agenta) const{
  int brojac(0);
  for(int i=0; i&lt;maxBrojProdaja; i++){
    if( prodaje[i] -&gt; DajImeAgenta() == ime_agenta)
      brojac++;
  }
  return brojac;
}

Prodaja &amp;Prodaje::DajNajranijuProdaju(){
</font>  return *std::min_element(prodaje[0], prodaje[maxBrojProdaja], [] (Prodaja pr1, Prodaja pr2) {  
    if(pr1.DajDatumProdaje().DajDan() &lt; pr2.DajDatumProdaje().DajDan() ) return true;
    else if( pr1.DajDatumProdaje().DajDan() == pr2.DajDatumProdaje().DajDan() &amp;&amp; pr1.DajDatumProdaje().DajMjesec() &lt; pr2.DajDatumProdaje().DajMjesec() ) return true;
    else if(pr1.DajDatumProdaje().DajDan() == pr2.DajDatumProdaje().DajDan() &amp;&amp; pr1.DajDatumProdaje().DajMjesec() == pr2.DajDatumProdaje().DajMjesec() &amp;&amp; pr1.DajDatumProdaje().DajGodinu() &lt; pr2.DajDatumProdaje().DajGodinu()) return true;
    return false;
  });
}

Prodaja Prodaje::DajNajranijuProdaju() const{
    return *std::min_element(prodaje[0], prodaje[maxBrojProdaja], [] (Prodaja pr1, Prodaja pr2) {  
    if(pr1.DajDatumProdaje().DajDan() &lt; pr2.DajDatumProdaje().DajDan() ) return true;
    else if( pr1.DajDatumProdaje().DajDan() == pr2.DajDatumProdaje().DajDan() &amp;&amp; pr1.DajDatumProdaje().DajMjesec() &lt; pr2.DajDatumProdaje().DajMjesec() ) return true;
    else if(pr1.DajDatumProdaje().DajDan() == pr2.DajDatumProdaje().DajDan() &amp;&amp; pr1.DajDatumProdaje().DajMjesec() == pr2.DajDatumProdaje().DajMjesec() &amp;&amp; pr1.DajDatumProdaje().DajGodinu() &lt; pr2.DajDatumProdaje().DajGodinu()) return true;
    return false;
  }); }
  
Prodaja &amp;Prodaje::DajNajskupljuProdaju(){
    return *std::max_element(prodaje[0], prodaje[maxBrojProdaja], [] (Prodaja pr1, Prodaja pr2){
      return pr1.DajCijenuStana() &lt; pr2.DajCijenuStana();
    });
  }
  
Prodaja Prodaje::DajNajskupljuProdaju() const{
    return *std::max_element(prodaje[0], prodaje[maxBrojProdaja], [] (Prodaja pr1, Prodaja pr2){
      return pr1.DajCijenuStana() &lt; pr2.DajCijenuStana();
    });
  }

void Prodaje::IsprazniKolekciju() {
    for(int i=0; i&lt;maxBrojProdaja; i++)
      delete prodaje[i];
      brojProdaja = 0;
  }

void Prodaje::ObrisiNajranijuProdaju(){
  if(brojProdaja == 0) throw std::range_error("Prazna kolekcija");
   auto x = std::min_element(prodaje[0], prodaje[maxBrojProdaja], [] (Prodaja pr1, Prodaja pr2) {  
    if(pr1.DajDatumProdaje().DajDan() &lt; pr2.DajDatumProdaje().DajDan() ) return true;
    else if( pr1.DajDatumProdaje().DajDan() == pr2.DajDatumProdaje().DajDan() &amp;&amp; pr1.DajDatumProdaje().DajMjesec() &lt; pr2.DajDatumProdaje().DajMjesec() ) return true;
    else if(pr1.DajDatumProdaje().DajDan() == pr2.DajDatumProdaje().DajDan() &amp;&amp; pr1.DajDatumProdaje().DajMjesec() == pr2.DajDatumProdaje().DajMjesec() &amp;&amp; pr1.DajDatumProdaje().DajGodinu() &lt; pr2.DajDatumProdaje().DajGodinu()) return true;
    return false;
  });
  for(int i=0; i&lt;maxBrojProdaja; i++){
   if(x == prodaje[i]){
    delete prodaje[i]; prodaje[i] = nullptr; 
    for(int j=i; j&lt;maxBrojProdaja-1; j++)
        prodaje[j] = prodaje[j+1];
   }
  }
  brojProdaja--;
}

<a name="13"></a><font color="#00FFFF"><a href="match393-1.html#13" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_0.gif"/></a>

void Prodaje::ObrisiProdajeAgenta(const std::string &amp;ime_agenta){
  for(int i=0; i&lt;maxBrojProdaja; i++){
    if(prodaje[i] -&gt; DajImeAgenta() == ime_agenta){
</font>      delete prodaje[i]; prodaje[i] = nullptr;
<a name="1"></a><font color="#00FF00"><a href="match393-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_0.gif"/></a>

        for(int j=i; j&lt;maxBrojProdaja-1; j++)
        prodaje[j] = prodaje[j+1];
        brojProdaja--;
    }
  }
}

void Prodaje::ObrisiProdajeNaDatum(const Datum &amp;datum){
  for(int i=0; i&lt;maxBrojProdaja; i++){
    if(prodaje[i] -&gt; DajDatumProdaje().DajDan() == datum.DajDan() &amp;&amp; prodaje[i] -&gt; DajDatumProdaje().DajMjesec() == datum.DajMjesec() &amp;&amp; prodaje[i] -&gt; DajDatumProdaje().DajGodinu() == datum.DajGodinu() ){
</font>      delete prodaje[i]; prodaje[i] = nullptr;
<a name="18"></a><font color="#00FFFF"><a href="match393-1.html#18" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_0.gif"/></a>

        for(int j=i; j&lt;maxBrojProdaja-1; j++)
        prodaje[j] = prodaje[j+1];
        brojProdaja--;
    }
  }
}

void Prodaje::IspisiProdajeNaDatum(const Datum &amp;datum) const{
</font>  std::vector&lt;Prodaja&gt; vek;
  for(int i=0; i&lt;maxBrojProdaja; i++){
    if(prodaje[i] -&gt; DajDatumProdaje().DajDan() == datum.DajDan() &amp;&amp; prodaje[i] -&gt; DajDatumProdaje().DajMjesec() == datum.DajMjesec() &amp;&amp; prodaje[i] -&gt; DajDatumProdaje().DajGodinu() == datum.DajGodinu())
      vek.push_back(*prodaje[i]);
  }
  std::sort(vek.begin(), vek.end(), [] (Prodaja pr1, Prodaja pr2) -&gt; bool { 
    return (pr1.DajImeKupca() &lt; pr2.DajImeKupca());
  });
  for(int i=0; i&lt;vek.size(); i++)
    vek[i].Ispisi();
}

void Prodaje::IspisiSveProdaje() const{
  std::vector&lt;Prodaja&gt; vek;
  for(int i=0; i&lt;maxBrojProdaja; i++)
    vek.push_back(*prodaje[i]);
  
  std::sort(vek.begin(), vek.end(), [] (Prodaja pr1, Prodaja pr2) -&gt; bool { if(pr1.DajDatumProdaje().DajDan() &lt; pr2.DajDatumProdaje().DajDan() ) return true;
    else if( pr1.DajDatumProdaje().DajDan() == pr2.DajDatumProdaje().DajDan() &amp;&amp; pr1.DajDatumProdaje().DajMjesec() &lt; pr2.DajDatumProdaje().DajMjesec() ) return true;
    else if(pr1.DajDatumProdaje().DajDan() == pr2.DajDatumProdaje().DajDan() &amp;&amp; pr1.DajDatumProdaje().DajMjesec() == pr2.DajDatumProdaje().DajMjesec() &amp;&amp; pr1.DajDatumProdaje().DajGodinu() &lt; pr2.DajDatumProdaje().DajGodinu()) return true;
    else return (pr1.DajImeKupca() &lt; pr2.DajImeKupca());
});
  for(int i=0; i&lt;vek.size(); i++)
    vek[i].Ispisi();
}

int main (){


    std::vector&lt;Kupac&gt; vek_kupaca;
    std::vector&lt;Stan&gt; vek_stan;
    
    std::cout &lt;&lt; "Dobrodosli!" &lt;&lt; std::endl &lt;&lt; std::endl &lt;&lt; std::endl;
    
    for(; ;){
    int meni;
    std::cout &lt;&lt; "Izaberite opciju:" &lt;&lt; std::endl;
    std::cout &lt;&lt; " 0 - kraj" &lt;&lt;  std::endl;
    std::cout &lt;&lt; " 1 - uredjivanje stanova" &lt;&lt; std::endl;
    std::cout &lt;&lt; " 2 - uredjivanje kupaca" &lt;&lt; std::endl;
    std::cout &lt;&lt; " 3 - uredjivanje prodaja" &lt;&lt; std::endl;
    
    std::cin &gt;&gt; meni;
      if(meni == 0) break;
      
      if(meni == 1){
        for(; ;) {
          
          bool unos(true);
          bool pogresan_bool(true);
          
          std::cout&lt;&lt; "Izaberite opciju:" &lt;&lt; std::endl;
          std::cout &lt;&lt; " 0 - nazad" &lt;&lt; std::endl;
          std::cout &lt;&lt; " 1 - dodavanje stana" &lt;&lt; std::endl;
          std::cout &lt;&lt; " 2 - uredjivanje stanova" &lt;&lt; std::endl;
          std::cout &lt;&lt; " 3 - ispis svih stanova" &lt;&lt; std::endl;
          std::cout &lt;&lt; " 4 - kraj" &lt;&lt; std::endl;
          int opcija_meni_1;
          std::cin &gt;&gt; opcija_meni_1;
          
            if(opcija_meni_1 == 0) break;
          
            if(opcija_meni_1 == 1){
            
            ponovi_unos_stana:
            
            std::cout &lt;&lt; "Unesite adresu: ";
            std::string adresa;
            std::cin.clear();
            std::cin.ignore(10000, '\n');
            std::getline(std::cin, adresa);
            
            std::cout &lt;&lt; "Unesite sprat: ";
            int sprat;
            std::cin &gt;&gt; sprat;
            
            std::cout &lt;&lt; "Unesite broj soba: ";
            int broj_soba;
            std::cin &gt;&gt; broj_soba;
            
            std::cout &lt;&lt; "Da li je stan namjesten (1 - da, 0 - ne): ";
            int namjesten;
            std::cin &gt;&gt; namjesten;
            if(namjesten &lt; 0 || namjesten &gt; 1)  pogresan_bool = false;
            
            std::cout &lt;&lt; "Unesite kvadraturu: ";
            double kvadratura;
            std::cin &gt;&gt; kvadratura;
            
            try{
              if(pogresan_bool == false){
              pogresan_bool = true; 
              throw std::domain_error("Neispravan unos podataka");
              }
              Stan s = Stan(adresa, sprat, broj_soba, namjesten, kvadratura);
              vek_stan.push_back(s);
              std::cout &lt;&lt; "Stan je uspjesno dodan!" &lt;&lt; std::endl;
            }
            catch(std::domain_error e1){
               
               unos = false;
               std::cout &lt;&lt; "Izuzetak: " &lt;&lt; e1.what() &lt;&lt; ". Molimo unesite opet." &lt;&lt; std::endl;
            }
            
            }
          
            if(opcija_meni_1 == 2){
              std::cout &lt;&lt; "Odaberite stan. Dostupni stanovi su:" &lt;&lt; std::endl;
              for(int i=0; i&lt;vek_stan.size(); i++){
<a name="19"></a><font color="#FF00FF"><a href="match393-1.html#19" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_0.gif"/></a>

                std::cout &lt;&lt; " " &lt;&lt; i+1 &lt;&lt; " - " ; vek_stan[i].Ispisi(); std::cout &lt;&lt; std::endl;
              }
              
              int izmjena;
              std::cin &gt;&gt; izmjena;
              
              std::cout &lt;&lt; "Odaberite polje koje zelite urediti:" &lt;&lt; std::endl;
</font>              std::cout &lt;&lt; " 0 - nazad" &lt;&lt; std::endl;
              std::cout &lt;&lt; " 1 - adresa" &lt;&lt; std::endl;
              std::cout &lt;&lt; " 2 - sprat" &lt;&lt; std::endl;
              std::cout &lt;&lt; " 3 - broj soba" &lt;&lt; std::endl;
              std::cout &lt;&lt; " 4 - da li je stan namjesten" &lt;&lt; std::endl;
              std::cout &lt;&lt; " 5 - kvadratura" &lt;&lt; std::endl;
              std::cout &lt;&lt; " 6 - sve" &lt;&lt; std::endl;
              int polje;
              std::cin &gt;&gt; polje;
              
              if(polje == 0) break;
              if(polje == 1){
                izmjena_1:
                std::cout &lt;&lt; "Unesite adresu: ";
                std::string adresa;
                std::cin.clear();
                std::cin.ignore(10000, '\n');
                std::getline(std::cin, adresa);
                 try{
<a name="20"></a><font color="#FF0000"><a href="match393-1.html#20" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_0.gif"/></a>

                   vek_stan[izmjena-1].Postavi(adresa, vek_stan[izmjena-1].DajSprat(), vek_stan[izmjena-1].DajBrojSoba(), vek_stan[izmjena-1].DajNamjesten(), vek_stan[izmjena-1].DajKvadraturu());
</font>                   std::cout &lt;&lt; "Stan je uspjesno izmijenjen!" &lt;&lt; std::endl;
                 }
                 catch(std::domain_error e1){
                   std::cout &lt;&lt; "Izuzetak: " &lt;&lt; e1.what() &lt;&lt; ". Molimo unesite opet." &lt;&lt; std::endl;
                   goto izmjena_1;
                 }
                
              }
              if(polje == 2){
                izmjena_2:
                std::cout &lt;&lt; "Unesite sprat: ";
                int sprat;
                std::cin &gt;&gt; sprat;
                try{
<a name="14"></a><font color="#FF00FF"><a href="match393-1.html#14" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_0.gif"/></a>

                   vek_stan[izmjena-1].Postavi(vek_stan[izmjena-1].DajAdresu(), sprat, vek_stan[izmjena-1].DajBrojSoba(), vek_stan[izmjena-1].DajNamjesten(), vek_stan[izmjena-1].DajKvadraturu());
</font>                   std::cout &lt;&lt; "Stan je uspjesno izmijenjen!" &lt;&lt; std::endl;
                 }
                 catch(std::domain_error e1){
                   std::cout &lt;&lt; "Izuzetak: " &lt;&lt; e1.what() &lt;&lt; ". Molimo unesite opet." &lt;&lt; std::endl;
                   goto izmjena_2;
                 }
                
              }
              if(polje == 3){
                izmjena_3:
                std::cout &lt;&lt; "Unesite broj soba: ";
                int broj_soba;
                std::cin &gt;&gt; broj_soba;
                 try{
<a name="6"></a><font color="#00FF00"><a href="match393-1.html#6" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_0.gif"/></a>

                   vek_stan[izmjena-1].Postavi(vek_stan[izmjena-1].DajAdresu(), vek_stan[izmjena-1].DajSprat(), broj_soba, vek_stan[izmjena-1].DajNamjesten(), vek_stan[izmjena-1].DajKvadraturu());
</font>                   std::cout &lt;&lt; "Stan je uspjesno izmijenjen!" &lt;&lt; std::endl;
                 }
                 catch(std::domain_error e1){
                   std::cout &lt;&lt; "Izuzetak: " &lt;&lt; e1.what() &lt;&lt; ". Molimo unesite opet." &lt;&lt; std::endl;
                   goto izmjena_3;
                 }
                
              }
              if(polje == 4){
               izmjena_4:
               std::cout &lt;&lt; "Da li je stan namjesten (1 - da, 0 - ne): ";
               bool namjesten;
               std::cin &gt;&gt; namjesten;
               try{
<a name="12"></a><font color="#0000FF"><a href="match393-1.html#12" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_0.gif"/></a>

                   vek_stan[izmjena-1].Postavi(vek_stan[izmjena-1].DajAdresu(), vek_stan[izmjena-1].DajSprat(), vek_stan[izmjena-1].DajBrojSoba(), namjesten, vek_stan[izmjena-1].DajKvadraturu());
</font>                   std::cout &lt;&lt; "Stan je uspjesno izmijenjen!" &lt;&lt; std::endl;
                 }
                 catch(std::domain_error e1){
                   std::cout &lt;&lt; "Izuzetak: " &lt;&lt; e1.what() &lt;&lt; ". Molimo unesite opet." &lt;&lt; std::endl;
                   goto izmjena_4;
                 }
                
              }
               if(polje == 5){
               izmjena_5:
               std::cout &lt;&lt; "Unesite kvadraturu: ";
               double kvadratura;
               std::cin &gt;&gt; kvadratura;
                try{
                   vek_stan[izmjena-1].Postavi(vek_stan[izmjena-1].DajAdresu(), vek_stan[izmjena-1].DajSprat(), vek_stan[izmjena-1].DajBrojSoba(), vek_stan[izmjena-1].DajNamjesten(), kvadratura);
                   std::cout &lt;&lt; "Stan je uspjesno izmijenjen!" &lt;&lt; std::endl;
                 }
                 catch(std::domain_error e1){
                   std::cout &lt;&lt; "Izuzetak: " &lt;&lt; e1.what() &lt;&lt; ". Molimo unesite opet." &lt;&lt; std::endl;
                   goto izmjena_5;
                 }
                
              }
              if(polje == 6){
                 izmjena_6:
                 std::cout &lt;&lt; "Unesite adresu: ";
                 std::string adresa;
                 std::cin.clear();
                 std::cin.ignore(10000, '\n');
                 std::getline(std::cin, adresa);
            
                 std::cout &lt;&lt; "Unesite sprat: ";
                 int sprat;
                 std::cin &gt;&gt; sprat;
            
                 std::cout &lt;&lt; "Unesite broj soba: ";
                 int broj_soba;
                 std::cin &gt;&gt; broj_soba;
            
                 std::cout &lt;&lt; "Da li je stan namjesten (1 - da, 0 - ne): ";
                 bool namjesten;
                 std::cin &gt;&gt; namjesten;
            
                 std::cout &lt;&lt; "Unesite kvadraturu: ";
                 double kvadratura;
                 std::cin &gt;&gt; kvadratura;
                 try{
                   vek_stan[izmjena-1].Postavi(adresa, sprat, broj_soba, namjesten, kvadratura);
                   std::cout &lt;&lt; "Stan je uspjesno izmijenjen!" &lt;&lt; std::endl;
                 }
                 catch(std::domain_error e1){
                   std::cout &lt;&lt; "Izuzetak: " &lt;&lt; e1.what() &lt;&lt; ". Molimo unesite opet." &lt;&lt; std::endl;
                   goto izmjena_6;
                 }
              }
              
            }
            
            if(unos == false) { 
              unos = true;
              goto ponovi_unos_stana;
            }
            
<a name="2"></a><font color="#0000FF"><a href="match393-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_0.gif"/></a>

            if(opcija_meni_1 == 3){
              for(int i=0; i&lt;vek_stan.size(); i++){
                std::cout &lt;&lt; i+1 &lt;&lt; ". ";
                vek_stan[i].Ispisi(); std::cout &lt;&lt; std::endl;
              }
            }
          
            if(opcija_meni_1 == 4){
</font>              std::cout &lt;&lt; std::endl;
              std::cout &lt;&lt; "Dovidjenja!";
              return 0;
            }
          
        }
      } 
        if(meni == 2){
          for(; ;){
            
          bool unos(true);
          bool izmjena(true);
          
          
          std::cout&lt;&lt; "Izaberite opciju:" &lt;&lt; std::endl;
          std::cout &lt;&lt; " 0 - nazad" &lt;&lt; std::endl;
          std::cout &lt;&lt; " 1 - dodavanje kupca" &lt;&lt; std::endl;
          std::cout &lt;&lt; " 2 - uredjivanje kupaca" &lt;&lt; std::endl;
          std::cout &lt;&lt; " 3 - ispis svih kupaca" &lt;&lt; std::endl;
          std::cout &lt;&lt; " 4 - kraj" &lt;&lt; std::endl;
          int opcija_meni_2;
          std::cin &gt;&gt; opcija_meni_2;
            
            if(opcija_meni_2 == 0) break;
            
            if(opcija_meni_2 == 1){
              ponovi_unos_kupca:
              
              std::string ime;
<a name="7"></a><font color="#0000FF"><a href="match393-1.html#7" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_0.gif"/></a>

              std::cout &lt;&lt; "Unesite ime i prezime kupca: ";
              std::cin.clear();
              std::cin.ignore(10000, '\n');
              std::getline(std::cin, ime);
              std::cout &lt;&lt; "Unesite datum rodjenja (formata d/m/g): ";
</font>              int d,m,g;
              char znak;
              std::cin &gt;&gt; d &gt;&gt; znak &gt;&gt; m &gt;&gt; znak &gt;&gt; g;
              
                try{
                  Datum dat = Datum(d,m,g);
                  Kupac k = Kupac(ime, dat);
                  vek_kupaca.push_back(k);
                  std::cout &lt;&lt; "Kupac je uspjesno dodan!" &lt;&lt; std::endl;
                }
                catch(std::domain_error e1){
                  unos = false;
                  std::cout &lt;&lt; "Izuzetak: " &lt;&lt; e1.what() &lt;&lt; ". Molimo unesite opet." &lt;&lt; std::endl;
                  
                }
                
            }
            if(unos == false) { 
              unos = true;
              goto ponovi_unos_kupca;
            }
            else if(izmjena == false) {
              unos = true;
              goto ponovi_izmjenu_kupca;
            }
            
            
            if(opcija_meni_2 == 2){
              std::cout &lt;&lt; "Odaberite kupca kojeg zelite urediti. Dostupni kupci su: " &lt;&lt; std::endl;
                for(int i=0; i&lt;vek_kupaca.size(); i++){
                  std::cout &lt;&lt; " " &lt;&lt; i + 1 &lt;&lt; " - "; vek_kupaca[i].Ispisi(); std::cout &lt;&lt; std::endl;
                }
              int izmjena;
              std::cin &gt;&gt; izmjena;
              ponovi_izmjenu_kupca:
<a name="11"></a><font color="#00FF00"><a href="match393-1.html#11" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_0.gif"/></a>

              std::string novo_ime;
              std::cin.clear();
              std::cin.ignore(10000, '\n');
              std::cout &lt;&lt; "Unesite ime i prezime kupca: ";
              std::getline(std::cin, novo_ime);
              std::cout &lt;&lt; "Unesite datum rodjenja (formata d/m/g): ";
</font>              int d,m,g;
              char znak;
              std::cin &gt;&gt; d &gt;&gt; znak &gt;&gt; m &gt;&gt; znak &gt;&gt; g;
                try{
                  Datum novi_dat = Datum(d,m,g);
                  Kupac k = Kupac(novo_ime, novi_dat);
                  vek_kupaca[izmjena-1].Postavi(novo_ime, novi_dat);
                  std::cout &lt;&lt; "Kupac je uspjesno izmijenjen!" &lt;&lt; std::endl;
                }
                catch(std::domain_error e1){
                  izmjena = false;
                  std::cout &lt;&lt; "Izuzetak: " &lt;&lt; e1.what() &lt;&lt; ". Molimo unesite opet." &lt;&lt; std::endl;
                }
                
            }
            
<a name="5"></a><font color="#FF0000"><a href="match393-1.html#5" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_0.gif"/></a>

            if(opcija_meni_2 == 3){
              for(int i=0; i&lt;vek_kupaca.size(); i++){
                vek_kupaca[i].Ispisi(); std::cout &lt;&lt; std::endl;
              }
            }
            
            if(opcija_meni_2 == 4){
              std::cout &lt;&lt; std::endl;
</font>              std::cout &lt;&lt; "Dovidjenja!";
              return 0;
            }
          }
        }
        if(meni == 3) break;
        if(meni == 4) break;
        
    }
    
    std::cout &lt;&lt; std::endl;
    std::cout &lt;&lt; "Dovidjenja!";
    
    
	return 0;
}</pre>
</body>
</html>
