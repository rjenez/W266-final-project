<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z3/student5834.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z3/student5834.cpp<p></p><pre>
/B 2016/2017, ZadaÄ‡a 4, Zadatak 3
//Napomena: testovi ce biti dostupni dan pred rok!
#include &lt;iostream&gt;
#include&lt;string&gt;
#include&lt;algorithm&gt;
#include&lt;stdexcept&gt;
#include&lt;iomanip&gt;
#include&lt;initializer_list&gt;
#include&lt;vector&gt;
class Datum
{
    int d,m,g;
public:
    Datum(int dan, int mjesec, int godina);
    void Postavi(int dan, int mjesec, int godina);
    int DajDan() const {
        return d;
    }
    int DajMjesec() const {
        return m;
    }
    int DajGodinu() const {
        return g;
    }
    void Ispisi() const {
        std::cout&lt;&lt;d&lt;&lt;"/"&lt;&lt;m&lt;&lt;"/"&lt;&lt;g;
    }
};
Datum::Datum(int dan, int mjesec, int godina)
{
    int broj_dana[12] {31,28,31,30,31,30,31,31,30,31,30,31};
    if(godina%4==0 &amp;&amp; (godina%100!=0 || godina%400==0)) broj_dana[1]++;
    if(godina&lt;1 || dan&lt;1 || mjesec&lt;1 || mjesec&gt;12 || dan&gt;broj_dana[mjesec-1])
        throw std::domain_error("Neispravan datum");
    d=dan;
    m=mjesec;
    g=godina;
}
void Datum::Postavi(int dan, int mjesec, int godina)
{
    int broj_dana[12] {31,28,31,30,31,30,31,31,30,31,30,31};
    if(godina%4==0 &amp;&amp; (godina%100!=0 || godina%400==0) )broj_dana[1]++;
    if(godina&lt;1 || dan&lt;1 || mjesec&lt;1 || mjesec&gt;12 || dan&gt;broj_dana[mjesec-1])
        throw std::domain_error("Neispravan datum");
    d=dan;
    m=mjesec;
    g=godina;
}
class Kupac
{
    std::string iip;
    Datum datrodj;
public:
    Kupac(const std::string &amp;ime_i_prezime, const Datum &amp;datum_rodjenja);
    void Postavi(const std::string &amp;ime_i_prezime, const Datum &amp;datum_rodjenja);
    std::string DajImePrezime() const {
        return iip;
    }
    Datum DajDatumRodjenja() const {
        return datrodj;
    }
    void Ispisi() const {
        std::cout&lt;&lt;iip&lt;&lt;" (";
        datrodj.Ispisi();
        std::cout&lt;&lt;")";
    }
};
<a name="8"></a><font color="#00FFFF"><a href="match440-1.html#8" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_0.gif"/></a>

Kupac::Kupac(const std::string &amp;ime_i_prezime, const Datum &amp;datum_rodjenja):datrodj(datum_rodjenja)
{
    for(int i=0; i&lt;ime_i_prezime.length(); i++) {
        //if(ime_i_prezime[i]!=' ' || (ime_i_prezime[i]&lt;'A' &amp;&amp;  ime_i_prezime[i]&gt;'Z') ||(ime_i_prezime[i]&lt;'a' &amp;&amp;  ime_i_prezime[i]&gt;'z') || (ime_i_prezime[i]&lt;'0' &amp;&amp;  ime_i_prezime[i]&gt;'9') || ime_i_prezime[i]!=39 || ime_i_prezime[i]!='-' ) {
        if(!(ime_i_prezime[i]==' ' || (ime_i_prezime[i]&gt;='A' &amp;&amp;  ime_i_prezime[i]&lt;='Z') ||(ime_i_prezime[i]&gt;='a' &amp;&amp;  ime_i_prezime[i]&lt;='z') || (ime_i_prezime[i]&gt;='0' &amp;&amp;  ime_i_prezime[i]&lt;='9') || ime_i_prezime[i]==39 || ime_i_prezime[i]=='-' )) {
</font>            throw std::domain_error("Neispravno ime i prezime");
        }
    }
    iip=ime_i_prezime;
}
<a name="9"></a><font color="#FF00FF"><a href="match440-1.html#9" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_0.gif"/></a>

void Kupac::Postavi(const std::string &amp;ime_i_prezime, const Datum &amp;datum_rodjenja)
{
    for(int i=0; i&lt;ime_i_prezime.length(); i++) {
        if(!(ime_i_prezime[i]==' ' || (ime_i_prezime[i]&gt;='A' &amp;&amp;  ime_i_prezime[i]&lt;='Z') ||(ime_i_prezime[i]&gt;='a' &amp;&amp;  ime_i_prezime[i]&lt;='z') || (ime_i_prezime[i]&gt;='0' &amp;&amp;  ime_i_prezime[i]&lt;='9') || ime_i_prezime[i]==39 || ime_i_prezime[i]=='-' )) {
</font>            //if(ime_i_prezime[i]!=' ' || (ime_i_prezime[i]&lt;'A' ||  ime_i_prezime[i]&gt;'Z') ||(ime_i_prezime[i]&lt;'a' ||  ime_i_prezime[i]&gt;'z') || (ime_i_prezime[i]&lt;'0' ||  ime_i_prezime[i]&gt;'9') || ime_i_prezime[i]!=39 || ime_i_prezime[i]!='-' ) {
            throw std::domain_error("Neispravno ime i prezime");
        }
    }
    datrodj.Postavi(datum_rodjenja.DajDan(),datum_rodjenja.DajMjesec(),datum_rodjenja.DajGodinu());
    iip=ime_i_prezime;
}
class Stan
{
    std::string adr;
    int spr,brsoba;
    bool sredjen;
    double povrsina;
public:
    Stan(const std::string &amp;adresa, int sprat, int broj_soba, bool namjesten,double kvadratura);
    void Postavi(const std::string &amp;adresa, int sprat, int broj_soba, bool namjesten, double kvadratura);

    std::string DajAdresu() const {
        return adr;
    }
    int DajSprat() const {
        return spr;
    }
    int DajBrojSoba() const {
        return brsoba;
    }
    bool DajNamjesten() const {
        return sredjen;
    }
    double DajKvadraturu() const {
        return povrsina;
    }
    void Ispisi() const;
};
Stan::Stan(const std::string &amp;adresa, int sprat, int broj_soba, bool namjesten, double kvadratura)
{
    if(sprat&lt;0 || broj_soba&lt;0 || kvadratura&lt;0 )
        throw std::domain_error("Neispravan unos podataka");
    adr=adresa;
    spr=sprat;
    brsoba=broj_soba;
    sredjen=namjesten;
    povrsina=kvadratura;
}
void Stan::Postavi(const std::string &amp;adresa, int sprat, int broj_soba, bool namjesten, double kvadratura)
{
    if(sprat&lt;0 || broj_soba&lt;0 || kvadratura&lt;0)
        throw std::domain_error("Neispravan unos podataka");
    adr=adresa;
    spr=sprat;
    brsoba=broj_soba;
    sredjen=namjesten;
    povrsina=kvadratura;
}
void Stan::Ispisi() const
{
    if((brsoba)%10==1 &amp;&amp; brsoba!=11 )
        std::cout&lt;&lt;"Stan se nalazi na adresi "&lt;&lt;adr&lt;&lt;" na "&lt;&lt;spr&lt;&lt;". spratu i ima "&lt;&lt;brsoba&lt;&lt;" sobu. ";
    if(((brsoba)%10==2 &amp;&amp; brsoba!=12) || ((brsoba)%10==3 &amp;&amp; brsoba!=13)|| ((brsoba)%10==4 &amp;&amp; brsoba!=14))
        std::cout&lt;&lt;"Stan se nalazi na adresi "&lt;&lt;adr&lt;&lt;" na "&lt;&lt;spr&lt;&lt;". spratu i ima "&lt;&lt;brsoba&lt;&lt;" sobe. ";
    else
        std::cout&lt;&lt;"Stan se nalazi na adresi "&lt;&lt;adr&lt;&lt;" na "&lt;&lt;spr&lt;&lt;". spratu i ima "&lt;&lt;brsoba&lt;&lt;" soba. ";
    if(sredjen)
        std::cout&lt;&lt;"Kvadratura stana je "&lt;&lt;povrsina&lt;&lt;" (m^2) i stan je namjesten.";
    else
<a name="12"></a><font color="#0000FF"><a href="match440-1.html#12" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_0.gif"/></a>

        std::cout&lt;&lt;"Kvadratura stana je "&lt;&lt;povrsina&lt;&lt;" (m^2) i stan nije namjesten.";
}
class Prodaja
{
    std::string agent;
    double cjenstastana;
    Datum datprodaje;
    Kupac kupacstana;
    Stan kupljenistan;
public:
    Prodaja(const std::string &amp;ime_agenta_prodaje, double cijena_stana,const Datum &amp;datum_prodaje, const Kupac &amp;kupac_stana,const Stan &amp;kupljeni_stan);
</font>    Prodaja(const std::string &amp;ime_agenta_prodaje, double cijena_stana,int dan_prodaje, int mjesec_prodaje, int godina_prodaje,std::string &amp;ime_kupca, const Datum &amp;datum_rodjenja_kupca,const std::string &amp;adresa_stana, int sprat_stana, int broj_soba,bool namjesten_stan, double broj_kvadrata);

    void PromijeniKupca(const Kupac &amp;novi_kupac) {
        kupacstana.Postavi(novi_kupac.DajImePrezime(),novi_kupac.DajDatumRodjenja());
    }
    void PromijeniStan(const Stan &amp;novi_stan) {
        kupljenistan.Postavi(novi_stan.DajAdresu(),novi_stan.DajSprat(),novi_stan.DajBrojSoba(),novi_stan.DajNamjesten(),novi_stan.DajKvadraturu());
    }
    void PromijeniDatumKupovine(const Datum &amp;novi_datum) {
        datprodaje.Postavi(novi_datum.DajDan(),novi_datum.DajMjesec(),novi_datum.DajGodinu());
    }
    void PromijeniCijenuProdaje(const double &amp;nova_cijena) {
        cjenstastana=nova_cijena;
    }
    void PomjeriDanUnaprijed();
    void PomjeriDanUnazad();
    std::string DajImeAgenta() const {
        return agent;
    }
    std::string DajImeKupca() const {
        return kupacstana.DajImePrezime();
    }
    Datum DajDatumProdaje() const {
        return datprodaje;
    }
    double DajCijenuStana() const {
        return cjenstastana;
    }
    friend bool ProdatPrije(const Prodaja &amp;p1, const Prodaja &amp;p2);
    friend bool SkupljiStan(const Prodaja &amp;p1, const Prodaja &amp;p2);
    void Ispisi() const ;
};
<a name="0"></a><font color="#FF0000"><a href="match440-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_0.gif"/></a>

Prodaja::Prodaja(const std::string &amp;ime_agenta_prodaje, double cijena_stana,const Datum &amp;datum_prodaje, const Kupac &amp;kupac_stana,const Stan &amp;kupljeni_stan):datprodaje(datum_prodaje.DajDan(),datum_prodaje.DajMjesec(),datum_prodaje.DajGodinu()),kupacstana(kupac_stana.DajImePrezime(),kupac_stana.DajDatumRodjenja()),kupljenistan(kupljeni_stan.DajAdresu(),kupljeni_stan.DajSprat(),kupljeni_stan.DajBrojSoba(),kupljeni_stan.DajNamjesten(),kupljeni_stan.DajKvadraturu())
{
    cjenstastana=cijena_stana;
</font>    agent=ime_agenta_prodaje;
}
Prodaja::Prodaja(const std::string &amp;ime_agenta_prodaje, double cijena_stana,int dan_prodaje, int mjesec_prodaje, int godina_prodaje,std::string &amp;ime_kupca,
                 const Datum &amp;datum_rodjenja_kupca,const std::string &amp;adresa_stana, int sprat_stana,
                 int broj_soba,bool namjesten_stan, double broj_kvadrata):datprodaje(dan_prodaje,mjesec_prodaje,godina_prodaje),kupacstana(ime_kupca,datum_rodjenja_kupca),kupljenistan(adresa_stana,sprat_stana,broj_soba,namjesten_stan,broj_kvadrata)
{
    agent=ime_agenta_prodaje;
    cjenstastana=cijena_stana;
}
void Prodaja::PomjeriDanUnaprijed()
{
    int d=datprodaje.DajDan(),m=datprodaje.DajMjesec(),g=datprodaje.DajGodinu();
    int broj_dana[12] {31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31};
    if(g%4==0 &amp;&amp; (g%100!=0 || g%400==0)) broj_dana[1]++;
    if(d==31 &amp;&amp; m==12) {
        g++;
        d=1;
        m=1;
    }
    if(d==broj_dana[m-1]) {
        m++;
        d=1;
    } else d++;
    datprodaje.Postavi(d,m,g);
}
void Prodaja::PomjeriDanUnazad()
{
    int d=datprodaje.DajDan(),m=datprodaje.DajMjesec(),g=datprodaje.DajGodinu();
    int broj_dana[12] {31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31};
    if(g%4==0 &amp;&amp; (g%100!=0 || g%400==0)) broj_dana[1]++;
    if(d==1 &amp;&amp; m==1) {
        g--;
        d=31;
        m=12;
    }
    if(d==1) {
        m--;
        d=broj_dana[m-2];
    } else d++;
    datprodaje.Postavi(d,m,g);
}
void Prodaja::Ispisi() const
{
    std::cout&lt;&lt;std::setw(30)&lt;&lt;std::left&lt;&lt;"Ime agenta: ";
    std::cout&lt;&lt;agent&lt;&lt;std::endl;
    std::cout&lt;&lt;std::setw(30)&lt;&lt;std::left&lt;&lt;"Ime kupca: ";
    kupacstana.Ispisi();
    std::cout&lt;&lt;std::endl;
    std::cout&lt;&lt;std::setw(30)&lt;&lt;std::left&lt;&lt;"Zakazani datum prodaje: ";
    datprodaje.Ispisi();
    std::cout &lt;&lt; std::endl;
    std::cout&lt;&lt;std::setw(30)&lt;&lt;std::left&lt;&lt;"Cijena stana: ";
    std::cout&lt;&lt;cjenstastana&lt;&lt;std::endl;
    std::cout &lt;&lt; "Informacije o stanu: " &lt;&lt; std::endl;
    kupljenistan.Ispisi();
}
bool ProdatPrije(const Prodaja &amp;p1, const Prodaja &amp;p2)
{
    if(p1.DajDatumProdaje().DajGodinu()&lt;p2.DajDatumProdaje().DajGodinu()) return true;
<a name="5"></a><font color="#FF0000"><a href="match440-1.html#5" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_0.gif"/></a>

    if(p1.DajDatumProdaje().DajMjesec()&lt;p2.DajDatumProdaje().DajMjesec()) return true;
    if(p1.DajDatumProdaje().DajDan()&lt;p2.DajDatumProdaje().DajDan()) return true;
    return false;
}
bool SkupljiStan(const Prodaja &amp;p1, const Prodaja &amp;p2)
</font>{
    if(p1.cjenstastana&gt;p2.cjenstastana) return true;
    return false;
}


class Prodaje
{
    Prodaja **poknaprodaju;
    int velniza;
    const int dimenzija;
    void Oslobodimem() {
        if(poknaprodaju==nullptr) return;
        for(int i=0; i&lt;dimenzija; i++)
            delete poknaprodaju[i];
        delete [] poknaprodaju;
    }

public:

    explicit Prodaje(int max_broj_prodaja);
    Prodaje(std::initializer_list&lt;Prodaja&gt; spisak_prodaja);
    ~Prodaje();
    Prodaje(const Prodaje &amp;prodaje);
    Prodaje(Prodaje &amp;&amp;prodaje);
    Prodaje &amp;operator =(const Prodaje &amp;prodaje);
    Prodaje &amp;operator =(Prodaje &amp;&amp;prodaje);
    void RegistrirajProdaju(const std::string &amp;ime_agenta_prodaje,
                            double cijena_stana, const Datum &amp;datum_prodaje, const Kupac &amp;kupac_stana,
                            const Stan &amp;kupljeni_stan);
    void RegistrirajProdaju(const std::string &amp;ime_agenta_prodaje,double cijena_stana, int dan_prodaje,
                            int mjesec_prodaje, int godina_prodaje, std::string &amp;ime_kupca,
                            const Datum &amp;datum_rodjenja_kupca, const std::string &amp;adresa_stana,
                            int sprat_stana, int broj_soba, bool namjesten_stan, double broj_kvadrata);
    void RegistrirajProdaju(Prodaja *prodaja);
    int DajBrojProdaja() const {
        return velniza;
    }
    int DajBrojProdajaNaDatum(const Datum &amp;datum) const;
    int DajBrojProdajaOdAgenta(const std::string &amp;ime_agenta) const;
    Prodaja &amp;DajNajranijuProdaju();
    Prodaja DajNajranijuProdaju() const;
    Prodaja &amp;DajNajskupljuProdaju();
    Prodaja DajNajskupljuProdaju() const;
    void IsprazniKolekciju();
    void ObrisiNajranijuProdaju();
    void ObrisiProdajeAgenta(const std::string &amp;ime_agenta);
    void ObrisiProdajeNaDatum(const Datum &amp;datum);
    void IspisiProdajeNaDatum(const Datum &amp;datum) const;
    void IspisiSveProdaje() const;




};
Prodaje::Prodaje(int max_broj_prodaja):poknaprodaju(nullptr),dimenzija(max_broj_prodaja)
{
    try {
        poknaprodaju=new Prodaja *[max_broj_prodaja];
        for(int i=0; i&lt;max_broj_prodaja; i++)
            poknaprodaju[i]=nullptr;
    } catch(...) {
        Oslobodimem();
        throw;
    }
    velniza=0;
}
Prodaje::Prodaje(std::initializer_list&lt;Prodaja&gt; spisak_prodaja):poknaprodaju(nullptr),velniza(spisak_prodaja.size()),dimenzija(spisak_prodaja.size())
{
    try {
        poknaprodaju=new Prodaja*[spisak_prodaja.size()];
        for(int i=0; i&lt;velniza; i++)
            poknaprodaju[i]=nullptr;
    } catch(...) {
        Oslobodimem();
        throw;
    }
    auto it=spisak_prodaja.begin();
    for(int i=0; i&lt;velniza; i++) {
        try {
            poknaprodaju[i]=new Prodaja(*it++);
        } catch(...) {
            Oslobodimem();
            throw;
        }
    }
}
Prodaje::~Prodaje()
{
<a name="13"></a><font color="#00FFFF"><a href="match440-1.html#13" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_0.gif"/></a>

    for(int i=0; i&lt;dimenzija; i++)
        delete poknaprodaju[i];
    delete [] poknaprodaju;
}

Prodaje::Prodaje(const Prodaje &amp;prodaje):poknaprodaju(nullptr),velniza(prodaje.velniza),dimenzija(prodaje.dimenzija)
</font>{
    try {
        poknaprodaju=new Prodaja *[velniza];
    } catch(...) {
        Oslobodimem();
        throw;
    }
    try {
        for(int i=0; i&lt;velniza; i++) {
            this-&gt;poknaprodaju[i]=new Prodaja (*prodaje.poknaprodaju[i]);
        }
    } catch(...) {
        Oslobodimem();
        throw;
    }
}
Prodaje::Prodaje(Prodaje &amp;&amp;prodaje):poknaprodaju(nullptr),velniza(prodaje.velniza),dimenzija(prodaje.dimenzija)
{
    poknaprodaju=prodaje.poknaprodaju;
    prodaje.poknaprodaju=nullptr;
}
Prodaje &amp;Prodaje::operator =(const Prodaje &amp;prodaje)
{
    if(dimenzija!=prodaje.dimenzija) {
        throw std::range_error("Dostignut maksimalni broj prodaja");
    }
    if(&amp;prodaje!=this) return *this;

    for(int i=0; i&lt;velniza; i++)
        delete poknaprodaju[i];
    velniza=prodaje.velniza;
    try {
        for(int i=0; i&lt;velniza; i++) {
            poknaprodaju[i]=new Prodaja (*prodaje.poknaprodaju[i]);
        }
    } catch(...) {
        Oslobodimem();
        throw;
    }
    return *this;
}
Prodaje &amp;Prodaje::operator =(Prodaje &amp;&amp;prodaje)
{
    if(velniza!=prodaje.velniza) {
        throw std::range_error("Dostignut maksimalni broj prodaja");
    }
    if(&amp;prodaje!=this) return *this;

    poknaprodaju=prodaje.poknaprodaju;
    velniza=prodaje.velniza;
    prodaje.poknaprodaju=nullptr;
    return *this;
}
void Prodaje::RegistrirajProdaju(const std::string &amp;ime_agenta_prodaje,double cijena_stana, const Datum &amp;datum_prodaje, const Kupac &amp;kupac_stana,const Stan &amp;kupljeni_stan)
{
    if(velniza==dimenzija) {
        throw std::range_error("Dostignut maksimalni broj prodaja");
    }
    try {
        poknaprodaju[velniza++]=new Prodaja({ime_agenta_prodaje,cijena_stana,datum_prodaje,kupac_stana,kupljeni_stan});
    } catch(...) {
        velniza--;
        Oslobodimem();
        throw;
    }
}

void Prodaje::RegistrirajProdaju(const std::string &amp;ime_agenta_prodaje,double cijena_stana, int dan_prodaje,
                                 int mjesec_prodaje, int godina_prodaje, std::string &amp;ime_kupca,
                                 const Datum &amp;datum_rodjenja_kupca, const std::string &amp;adresa_stana,
                                 int sprat_stana, int broj_soba, bool namjesten_stan, double broj_kvadrata)
{
    if(velniza==dimenzija) {
        throw std::range_error("Dostignut maksimalni broj prodaja");
    }
    try {
        poknaprodaju[velniza++]=new Prodaja({ime_agenta_prodaje,cijena_stana,dan_prodaje,mjesec_prodaje,godina_prodaje,ime_kupca,datum_rodjenja_kupca,adresa_stana,sprat_stana,broj_soba,namjesten_stan,broj_kvadrata});
    } catch(...) {
        velniza--;
        Oslobodimem();
        throw;
    }
}
void Prodaje::RegistrirajProdaju(Prodaja *prodaja)
{
    if(velniza==dimenzija) {
        throw std::range_error("Dostignut maksimalni broj prodaja");
    }
    poknaprodaju[velniza++]=prodaja;
}
int Prodaje::DajBrojProdajaNaDatum(const Datum &amp;datum) const
{
    Datum pom=datum;
<a name="1"></a><font color="#00FF00"><a href="match440-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_0.gif"/></a>

    int ima=std::count_if(poknaprodaju,poknaprodaju+velniza,[pom](Prodaja *prod) {
        if(prod-&gt;DajDatumProdaje().DajDan()==pom.DajDan() &amp;&amp; prod-&gt;DajDatumProdaje().DajMjesec()==pom.DajMjesec() &amp;&amp; prod-&gt;DajDatumProdaje().DajDan()==pom.DajDan()) return true;

        return false;
    });
    return ima;
}
int Prodaje::DajBrojProdajaOdAgenta(const std::string &amp;ime_agenta) const
{

    int ima=std::count_if(poknaprodaju,poknaprodaju+velniza,[ime_agenta](Prodaja *prod) {
</font>        if(ime_agenta==prod-&gt;DajImeAgenta()) return true;

        return false;
    });
    return ima;
}
Prodaja Prodaje::DajNajranijuProdaju() const
{
    if(DajBrojProdaja()==0) {
        throw std::domain_error("Nema registriranih prodaja");
    }
    Prodaja min=**(std::min_element(poknaprodaju,poknaprodaju+velniza,[](Prodaja *prodaja1,Prodaja *prodaja2) {
        if(prodaja1-&gt;DajDatumProdaje().DajGodinu()&lt;prodaja2-&gt;DajDatumProdaje().DajGodinu()) {
            return true;
        }

        if(prodaja1-&gt;DajDatumProdaje().DajGodinu()==prodaja2-&gt;DajDatumProdaje().DajGodinu() &amp;&amp; prodaja1-&gt;DajDatumProdaje().DajMjesec()&lt;prodaja2-&gt;DajDatumProdaje().DajMjesec()) {
            return true;
        }
<a name="14"></a><font color="#FF00FF"><a href="match440-1.html#14" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_0.gif"/></a>

        if(prodaja1-&gt;DajDatumProdaje().DajGodinu()==prodaja2-&gt;DajDatumProdaje().DajGodinu() &amp;&amp; prodaja1-&gt;DajDatumProdaje().DajMjesec()==prodaja2-&gt;DajDatumProdaje().DajMjesec() &amp;&amp; prodaja1-&gt;DajDatumProdaje().DajDan()&lt;prodaja2-&gt;DajDatumProdaje().DajDan()) {
</font>            return true;
        }
        return false;
    }));

<a name="4"></a><font color="#FF00FF"><a href="match440-1.html#4" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_0.gif"/></a>

    return min;
}
Prodaja &amp;Prodaje::DajNajranijuProdaju()
{
    if(DajBrojProdaja()==0) {
        throw std::domain_error("Nema registriranih prodaja");
    }
    auto min=(std::min_element(poknaprodaju,poknaprodaju+velniza,[](Prodaja *prodaja1,Prodaja *prodaja2) {
        if(prodaja1-&gt;DajDatumProdaje().DajGodinu()&lt;prodaja2-&gt;DajDatumProdaje().DajGodinu()) {
</font>            return true;
        }
        if(prodaja1-&gt;DajDatumProdaje().DajGodinu()==prodaja2-&gt;DajDatumProdaje().DajGodinu() &amp;&amp; prodaja1-&gt;DajDatumProdaje().DajMjesec()&lt;prodaja2-&gt;DajDatumProdaje().DajMjesec()) {
            return true;
        }
        if(prodaja1-&gt;DajDatumProdaje().DajGodinu()==prodaja2-&gt;DajDatumProdaje().DajGodinu() &amp;&amp; prodaja1-&gt;DajDatumProdaje().DajMjesec()==prodaja2-&gt;DajDatumProdaje().DajMjesec() &amp;&amp; prodaja1-&gt;DajDatumProdaje().DajDan()&lt;prodaja2-&gt;DajDatumProdaje().DajDan()) {
            return true;
        }
        return false;
    }));
    auto p=poknaprodaju;
    while(p!=(p+velniza)) {
        if(p==min) {
            poknaprodaju=p;
            break;
        }
        p++;
    }
    return **p;
}
Prodaja Prodaje::DajNajskupljuProdaju() const
{
    if(DajBrojProdaja()==0) {
        throw std::domain_error("Nema registriranih prodaja");
    }
    Prodaja max=**(std::max_element(poknaprodaju,poknaprodaju+velniza,[](Prodaja *prodaja1,Prodaja *prodaja2) {
        if(prodaja1-&gt;DajCijenuStana()&gt;prodaja2-&gt;DajCijenuStana())
            return true;
        return false;
    }));
<a name="11"></a><font color="#00FF00"><a href="match440-1.html#11" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_0.gif"/></a>

    return max;
}
Prodaja &amp;Prodaje::DajNajskupljuProdaju()
{
    if(DajBrojProdaja()==0) {
        throw std::domain_error("Nema registriranih prodaja");
    }
    auto max=(std::max_element(poknaprodaju,poknaprodaju+velniza,[](Prodaja *prodaja1,Prodaja *prodaja2) {
</font>        if(prodaja1-&gt;DajCijenuStana()&gt;prodaja2-&gt;DajCijenuStana())
            return true;
        return false;
    }));
    auto p=poknaprodaju;
    while(p!=(p+velniza)) {
        if(p==max) {
            poknaprodaju=p;
            break;
        }
        p++;
    }
    return **p;
}
void Prodaje::IsprazniKolekciju()
{
    for(int i=0; i&lt;velniza; i++) {
        delete poknaprodaju[i];
        poknaprodaju[i]=nullptr;
    }
    delete [] poknaprodaju ;
    poknaprodaju=nullptr;
    velniza=0;
}
void Prodaje::ObrisiNajranijuProdaju()
{
    Prodaja max=DajNajranijuProdaju();
    for(int i=0; i&lt;velniza; i++) {
        if(&amp;max==poknaprodaju[i]) {
            delete poknaprodaju[i];
            poknaprodaju[i]=nullptr;
        }
    }
}
void Prodaje::ObrisiProdajeAgenta(const std::string &amp;ime_agenta)
{

    for(int i=0; i&lt;velniza; i++) {
        if(ime_agenta==poknaprodaju[i]-&gt;DajImeAgenta()) {
            delete poknaprodaju[i];
            poknaprodaju[i]=nullptr;
        }
    }
}
void Prodaje::ObrisiProdajeNaDatum(const Datum &amp;datum)
{
    for(int i=0; i&lt;velniza; i++) {
        if(datum.DajDan()==poknaprodaju[i]-&gt;DajDatumProdaje().DajDan() &amp;&amp; datum.DajMjesec()==poknaprodaju[i]-&gt;DajDatumProdaje().DajMjesec() &amp;&amp; datum.DajGodinu()==poknaprodaju[i]-&gt;DajDatumProdaje().DajGodinu()) {
            delete poknaprodaju[i];
            poknaprodaju[i]=nullptr;
        }
    }
}
void Prodaje::IspisiProdajeNaDatum(const Datum &amp;datum) const
{
    Prodaja **pom=nullptr;
    pom=new Prodaja*[velniza];
    int j=0;
    for(int i=0; i&lt;velniza; i++) {
        if(datum.DajDan()==poknaprodaju[i]-&gt;DajDatumProdaje().DajDan() &amp;&amp; datum.DajMjesec()==poknaprodaju[i]-&gt;DajDatumProdaje().DajMjesec() &amp;&amp; datum.DajGodinu()==poknaprodaju[i]-&gt;DajDatumProdaje().DajGodinu()) {
            pom[j]=new Prodaja(*poknaprodaju[i]);
            j++;
        }
    }
<a name="6"></a><font color="#00FF00"><a href="match440-1.html#6" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_0.gif"/></a>

    std::sort(pom,pom+j,[](Prodaja *p1,Prodaja *p2) {
        if(p1-&gt;DajImeKupca()&lt;p2-&gt;DajImeKupca()) return true;
        return false;
    });
    for(int i=0; i&lt;j; i++) {
</font>        pom[i]-&gt;Ispisi();
        std::cout&lt;&lt;std::endl;
    }
}
void Prodaje::IspisiSveProdaje() const
{
    std::sort(poknaprodaju,poknaprodaju+velniza,[](Prodaja *prodaja1,Prodaja *prodaja2) {
        if(prodaja1-&gt;DajDatumProdaje().DajGodinu()&lt;prodaja2-&gt;DajDatumProdaje().DajGodinu()) {
            return true;
        }
        if(prodaja1-&gt;DajDatumProdaje().DajGodinu()==prodaja2-&gt;DajDatumProdaje().DajGodinu() &amp;&amp; prodaja1-&gt;DajDatumProdaje().DajMjesec()&lt;prodaja2-&gt;DajDatumProdaje().DajMjesec()) {
            return true;
        }
        if(prodaja1-&gt;DajDatumProdaje().DajGodinu()==prodaja2-&gt;DajDatumProdaje().DajGodinu() &amp;&amp; prodaja1-&gt;DajDatumProdaje().DajMjesec()==prodaja2-&gt;DajDatumProdaje().DajMjesec() &amp;&amp; prodaja1-&gt;DajDatumProdaje().DajDan()&lt;prodaja2-&gt;DajDatumProdaje().DajDan()) {
            return true;
        }
        return false;
    });
    for(int i=0; i&lt;velniza; i++) {
        poknaprodaju[i]-&gt;Ispisi();
        std::cout&lt;&lt;std::endl;
    }
}
int main ()
{
    std::vector&lt;Stan&gt; stanovi;
    std::vector&lt;Kupac&gt; kupci;
    std::vector&lt;Prodaja&gt; prodaja ;
    std::vector&lt;Prodaje&gt; prodaje;
    std::cout &lt;&lt; "Dobrodosli!" &lt;&lt; std::endl&lt;&lt;std::endl&lt;&lt;std::endl;
    for(;;) {
        std::cout&lt;&lt;"Izaberite opciju:"&lt;&lt;std::endl&lt;&lt;" 0 - kraj"&lt;&lt;std::endl&lt;&lt;" 1 - uredjivanje stanova"&lt;&lt;std::endl&lt;&lt;" 2 - uredjivanje kupaca"&lt;&lt;std::endl&lt;&lt;" 3 - uredjivanje prodaja"&lt;&lt;std::endl;
        int x;
        std::cin&gt;&gt;x;
        if(x==0) {
            std::cout&lt;&lt; std::endl&lt;&lt;std::endl&lt;&lt;"Dovidjenja!";
            break;
        }
        if(x==1) {

            for(;;) {
g7:
                std::cout&lt;&lt;"Izaberite opciju:"&lt;&lt;std::endl&lt;&lt;" 0 - nazad"&lt;&lt;std::endl&lt;&lt;" 1 - dodavanje stana"&lt;&lt;std::endl&lt;&lt;" 2 - uredjivanje stanova"&lt;&lt;std::endl&lt;&lt;" 3 - ispis svih stanova"&lt;&lt;std::endl&lt;&lt;" 4 - kraj" &lt;&lt;std::endl;
                int x1;
                std::cin&gt;&gt;x1;
                if(x1==0) {
                    break;
                }
                if(x1==4) {
                    std::cout&lt;&lt; std::endl&lt;&lt;std::endl&lt;&lt;"Dovidjenja!";
                    return 0;
                }
                if(x1==1) {
g1:
                    std::cin.ignore(10000000,'\n');
                    std::cout&lt;&lt;"Unesite adresu: ";
                    std::string adresa;
                    std::getline(std::cin,adresa);
                    std::cout&lt;&lt;"Unesite sprat: ";
                    int sprat;
                    std::cin&gt;&gt;sprat;
                    std::cout&lt;&lt;"Unesite broj soba: ";
                    int brsoba;
                    std::cin&gt;&gt;brsoba;
                    std::cout&lt;&lt;"Da li je stan namjesten (1 - da, 0 - ne): ";
                    try {
                        int namjesten;
                        std::cin&gt;&gt;namjesten;
                        std::cout&lt;&lt;"Unesite kvadraturu: ";
                        double kvadratura;
<a name="7"></a><font color="#0000FF"><a href="match440-1.html#7" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_0.gif"/></a>

                        std::cin&gt;&gt;kvadratura;
                        if( namjesten!=1 &amp;&amp; namjesten!=0) {
                            throw std::domain_error("Neispravan unos podataka");
                        }
                        Stan pom(adresa,sprat,brsoba,namjesten,kvadratura);
                        stanovi.push_back(pom);
                        std::cout&lt;&lt;"Stan je uspjesno dodan!"&lt;&lt;std::endl&lt;&lt;std::endl;
</font>                    } catch(std::domain_error x) {
                        std::cout&lt;&lt;"Izuzetak: "&lt;&lt;x.what()&lt;&lt;". Molimo unesite opet."&lt;&lt;std::endl;
                        goto g1;
                    }
                }
                if(x1==2) {
                    std::cout &lt;&lt; "Odaberite stan. Dostupni stanovi su:" &lt;&lt; std::endl;
                    for(int i=0; i&lt;stanovi.size(); i++) {
<a name="10"></a><font color="#FF0000"><a href="match440-1.html#10" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_0.gif"/></a>

                        std::cout&lt;&lt;" "&lt;&lt;i+1&lt;&lt;" - ";
                        stanovi[i].Ispisi();
                        std::cout&lt;&lt;std::endl;
                    }
                    std::cout&lt;&lt;std::endl;
</font>                    int x11;
                    std::cin&gt;&gt;x11;
                    Stan preuredujese=stanovi[x11-1];
                    std::cout&lt;&lt;"Odaberite polje koje zelite urediti:"&lt;&lt;std::endl&lt;&lt;" 0 - nazad"&lt;&lt;std::endl&lt;&lt;" 1 - adresa"&lt;&lt;std::endl&lt;&lt;" 2 - sprat"&lt;&lt;std::endl&lt;&lt;" 3 - broj soba"&lt;&lt;std::endl&lt;&lt;" 4 - da li je stan namjesten"&lt;&lt;std::endl&lt;&lt;" 5 - kvadratura"&lt;&lt;std::endl&lt;&lt;" 6 - sve"&lt;&lt;std::endl;
                    int x12;
                    std::cin&gt;&gt;x12;
                    if(x12==0) {
                        goto g7;
                    }
                    if(x12==1) {
                        std::cin.ignore(10000,'\n');
g4:
                        std::cout&lt;&lt;"Unesite adresu: ";
                        std::string adresa1;
                        std::getline(std::cin,adresa1);
                        try {
                            preuredujese.Postavi(adresa1,preuredujese.DajSprat(),preuredujese.DajBrojSoba(),preuredujese.DajNamjesten(),preuredujese.DajKvadraturu());
                            stanovi[x11-1]=preuredujese;
                            std::cout&lt;&lt;"Stan je uspjesno izmijenjen!"&lt;&lt;std::endl;
                        } catch(std::domain_error x) {
                            std::cout&lt;&lt;"Izuzetak: "&lt;&lt;x.what()&lt;&lt;". Molimo unesite opet."&lt;&lt;std::endl;
                            goto g4;
                        }
                    }
                    if(x12==2) {

g8:
                        std::cout&lt;&lt;"Unesite sprat: ";
                        int sprat1;
                        std::cin&gt;&gt;sprat1;
                        try {
                            preuredujese.Postavi(preuredujese.DajAdresu(),sprat1,preuredujese.DajBrojSoba(),preuredujese.DajNamjesten(),preuredujese.DajKvadraturu());
                            stanovi[x11-1]=preuredujese;
                            std::cout&lt;&lt;"Stan je uspjesno izmijenjen!"&lt;&lt;std::endl;
                        } catch(std::domain_error x) {
                            std::cout&lt;&lt;"Izuzetak: "&lt;&lt;x.what()&lt;&lt;". Molimo unesite opet."&lt;&lt;std::endl;
                            goto g8;
                        }
                    }
                    if(x12==3) {

g5:
                        std::cout&lt;&lt;"Unesite broj soba: ";
                        int brsoba1;
                        std::cin&gt;&gt;brsoba1;
                        try {
                            preuredujese.Postavi(preuredujese.DajAdresu(),preuredujese.DajSprat(),brsoba1,preuredujese.DajNamjesten(),preuredujese.DajKvadraturu());
                            stanovi[x11-1]=preuredujese;
                            std::cout&lt;&lt;"Stan je uspjesno izmijenjen!"&lt;&lt;std::endl;
                        } catch(std::domain_error x) {
                            std::cout&lt;&lt;"Izuzetak: "&lt;&lt;x.what()&lt;&lt;". Molimo unesite opet."&lt;&lt;std::endl;
                            goto g5;
                        }
                    }
                    if(x12==4) {

g6:
                        std::cout&lt;&lt;"Da li je stan namjesten (1 - da, 0 - ne): ";
                        try {
                            int namjesten1;
                            std::cin&gt;&gt;namjesten1;
                            if( namjesten1!=1 &amp;&amp; namjesten1!=0) {
                                throw std::domain_error("Neispravan unos podataka");
                            }

                            preuredujese.Postavi(preuredujese.DajAdresu(),preuredujese.DajSprat(),preuredujese.DajBrojSoba(),namjesten1,preuredujese.DajKvadraturu());
                            stanovi[x11-1]=preuredujese;
                            std::cout&lt;&lt;"Stan je uspjesno izmijenjen!"&lt;&lt;std::endl;
                        } catch(std::domain_error x) {
                            std::cout&lt;&lt;"Izuzetak: "&lt;&lt;x.what()&lt;&lt;". Molimo unesite opet."&lt;&lt;std::endl;
                            goto g6;
                        }
                    }
                    if(x12==5) {

g2:
                        std::cout&lt;&lt;"Unesite kvadraturu: ";
                        double kvadr;
                        std::cin&gt;&gt;kvadr;
                        try {
                            preuredujese.Postavi(preuredujese.DajAdresu(),preuredujese.DajSprat(),preuredujese.DajBrojSoba(),preuredujese.DajNamjesten(),kvadr);
                            stanovi[x11-1]=preuredujese;
                            std::cout&lt;&lt;"Stan je uspjesno izmijenjen!"&lt;&lt;std::endl;
                        } catch(std::domain_error x) {
                            std::cout&lt;&lt;"Izuzetak: "&lt;&lt;x.what()&lt;&lt;". Molimo unesite opet."&lt;&lt;std::endl;
                            goto g2;
                        }
                    }
                    if(x12==6) {

                        std::cin.ignore(10000,'\n');
g3:
                        std::cout&lt;&lt;"Unesite adresu: ";
                        std::string adresa1;
                        std::getline(std::cin,adresa1);
                        std::cout&lt;&lt;"Unesite sprat: ";
                        int sprat1;
                        std::cin&gt;&gt;sprat1;
                        std::cout&lt;&lt;"Unesite broj soba: ";
                        int brsoba1;
                        std::cin&gt;&gt;brsoba1;
                        std::cout&lt;&lt;"Da li je stan namjesten (1 - da, 0 - ne): ";
                        try {
                            int namjesten1;
                            std::cin&gt;&gt;namjesten1;
                            std::cout&lt;&lt;"Unesite kvadraturu: ";
                            double kvadratura1;
                            std::cin&gt;&gt;kvadratura1;
                            if( namjesten1!=1 &amp;&amp; namjesten1!=0) {
                                throw std::domain_error("Neispravan unos podataka");
                            }
                            Stan pom(adresa1,sprat1,brsoba1,namjesten1,kvadratura1);
                            stanovi[x11-1]=pom;
                            std::cout&lt;&lt;"Stan je uspjesno izmijenjen!"&lt;&lt;std::endl&lt;&lt;std::endl;
                        } catch(std::domain_error x) {
                            std::cout&lt;&lt;"Izuzetak: "&lt;&lt;x.what()&lt;&lt;". Molimo unesite opet."&lt;&lt;std::endl;
                            goto g3;
                        }
                    }

                }
<a name="3"></a><font color="#00FFFF"><a href="match440-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_0.gif"/></a>

                if(x1==3) {
                    for(int i=0; i&lt;stanovi.size(); i++) {
                        std::cout&lt;&lt;i+1&lt;&lt;". ";
                        stanovi[i].Ispisi();
                        std::cout&lt;&lt;std::endl;
</font>                    }
                    std::cout&lt;&lt;std::endl;
                }
            }

        }
        if(x==2) {
            for(;;) {
                std::cout&lt;&lt;"Izaberite opciju:"&lt;&lt;std::endl&lt;&lt;" 0 - nazad"&lt;&lt;std::endl&lt;&lt;" 1 - dodavanje kupca"&lt;&lt;std::endl&lt;&lt;" 2 - uredjivanje kupaca"&lt;&lt;std::endl&lt;&lt;" 3 - ispis svih kupaca"&lt;&lt;std::endl&lt;&lt;" 4 - kraj"&lt;&lt;std::endl;
                int x2;
                std::cin&gt;&gt;x2;
                if(x2==0) {
                    break;
                }
                if(x2==1) {
                    std::cin.ignore(10000,'\n');
g10:
                    std::cout&lt;&lt;"Unesite ime i prezime kupca: ";
                    std::string imeiprezime;
                    std::getline(std::cin,imeiprezime);
                    std::cout&lt;&lt;"Unesite datum rodjenja (formata d/m/g): ";
                    //std::cin.ignore(10000,'\n');
                    std::string datum;
                    std::getline(std::cin,datum);
                    int dan=0,mjesec=0,godina=0;
                    for(int i=0; i&lt;datum.size(); i++) {
                        int poc;
                        if(i==0) {
                            poc=i;
                            while(datum[i]!='/')i++;
                            for(int j=poc; j&lt;i; j++) {
                                dan=dan*10+(datum[j]-'0');
                            }
                        }
                        if(datum[i]=='/') {
                            i++;
                            poc=i;
                            while(datum[i]!='/')i++;
                            for(int j=poc; j&lt;i; j++) {
                                mjesec=mjesec*10+(datum[j]-'0');
                            }
                            i++;
                            poc=i;
                            while(i!=datum.size())i++;
                            for(int j=poc; j&lt;i; j++) {
                                godina=godina*10+(datum[j]-'0');
                            }
                            i--;
                        }

                    }
                    try {
                        Kupac pom(imeiprezime, {dan,mjesec,godina});
                        kupci.push_back(pom);
                        std::cout&lt;&lt;"Kupac je uspjesno dodan!"&lt;&lt;std::endl&lt;&lt;std::endl;
                    } catch(std::domain_error x) {
                        std::cout&lt;&lt;"Izuzetak: "&lt;&lt;x.what()&lt;&lt;". Molimo unesite opet."&lt;&lt;std::endl;
                        goto g10;
                    }
                }
                if(x2==2) {
                    std::cout&lt;&lt;"Odaberite kupca kojeg zelite urediti. Dostupni kupci su:"&lt;&lt;std::endl;
                    for(int i=0; i&lt;kupci.size(); i++) {
                        std::cout&lt;&lt;" "&lt;&lt;i+1&lt;&lt;" - ";
                        kupci[i].Ispisi();
                        std::cout&lt;&lt;std::endl;
                    }
                    int x21;
                    std::cin&gt;&gt;x21;
                    Kupac mjenjamo=kupci[x21-1];
                    std::cin.ignore(10000,'\n');
g11:
                    std::cout&lt;&lt;"Unesite ime i prezime kupca: ";
                    std::string imeiprezime1;
                    std::getline(std::cin,imeiprezime1);
                    std::cout&lt;&lt;"Unesite datum rodjenja (formata d/m/g): ";
                    int dan1=0,mjesec1=0,godina1=0;
                    //std::cin.ignore(10000,'\n');
                    std::string datum1;
                    std::getline(std::cin,datum1);
                    for(int i=0; i&lt;datum1.size(); i++) {
                        int poc;
                        if(i==0) {
                            poc=i;
                            while(datum1[i]!='/')i++;
                            for(int j=poc; j&lt;i; j++) {
                                dan1=dan1*10+(datum1[j]-'0');
                            }
                        }
                        if(datum1[i]=='/') {
                            i++;
                            poc=i;
                            while(datum1[i]!='/')i++;
                            for(int j=poc; j&lt;i; j++) {
                                mjesec1=mjesec1*10+(datum1[j]-'0');
                            }
                            i++;
                            poc=i;
                            while(i!=datum1.size())i++;
                            for(int j=poc; j&lt;i; j++) {
                                godina1=godina1*10+(datum1[j]-'0');
                            }
                            i--;
                        }
                        //  std::cout&lt;&lt;dan1&lt;&lt;"    "&lt;&lt;mjesec1&lt;&lt;"    "&lt;&lt;godina1&lt;&lt;std::endl;
                    }
                    try {
                        Kupac pom(imeiprezime1, {dan1,mjesec1,godina1});
                        kupci[x21-1]=pom;
                        std::cout&lt;&lt;"Kupac je uspjesno izmijenjen!"&lt;&lt;std::endl;
                    } catch(std::domain_error x) {
                        std::cout&lt;&lt;"Izuzetak: "&lt;&lt;x.what()&lt;&lt;". Molimo unesite opet."&lt;&lt;std::endl;
                        goto g11;
                    }
                }
<a name="15"></a><font color="#FF0000"><a href="match440-1.html#15" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_0.gif"/></a>

                if(x2==3) {
                    for(int i=0; i&lt;kupci.size(); i++) {
                        kupci[i].Ispisi();
                        std::cout&lt;&lt;std::endl;
</font>                    }
                    std::cout&lt;&lt;std::endl;
                }
                if(x2==4) {
                    std::cout&lt;&lt; std::endl&lt;&lt;std::endl&lt;&lt;"Dovidjenja!";
                    return 0;
                }
            }
        }//kraj x==2
        if(x==3) {
            for(;;) {
g31:
                std::cout&lt;&lt;"Izaberite opciju:"&lt;&lt;std::endl&lt;&lt;" 0 - nazad"&lt;&lt;std::endl&lt;&lt;" 1 - dodavanje prodaje"&lt;&lt;std::endl&lt;&lt;" 2 - uredjivanje prodaje"&lt;&lt;std::endl&lt;&lt;" 3 - ispis prodaja"&lt;&lt;std::endl&lt;&lt;" 4 - brisanje prodaja"&lt;&lt;std::endl&lt;&lt;" 5 - kraj"&lt;&lt;std::endl;
                int x3;
                std::cin&gt;&gt;x3;
                if(x3==0) {
                    break;
                }
                if(x3==5) {
                    std::cout&lt;&lt; std::endl&lt;&lt;std::endl&lt;&lt;"Dovidjenja!";
                    return 0;
                }
                if(x3==1) {
g32:
                    std::cout&lt;&lt;"Izaberite opciju:"&lt;&lt;std::endl&lt;&lt;" 0 - nazad"&lt;&lt;std::endl&lt;&lt;" 1 - dodavanje potpuno nove prodaje"&lt;&lt;std::endl&lt;&lt;" 2 - dodavanje nove prodaje na osnovu arhive"&lt;&lt;std::endl&lt;&lt;" 3 - kraj"&lt;&lt;std::endl;
                    int x31;
                    std::cin&gt;&gt;x31;
                    if(x31==0) {
                        goto g31;
                    }
                    if(x31==3) {
                        std::cout&lt;&lt; std::endl&lt;&lt;std::endl&lt;&lt;"Dovidjenja!";
                        return 0;
                    }
                    if(x31==1) {
g30:
                        std::cout&lt;&lt;"Unesite ime i prezime agenta prodaje: ";
<a name="16"></a><font color="#00FF00"><a href="match440-1.html#16" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_0.gif"/></a>

                        std::string agent;
                        std::cin.ignore(10000,'\n');
                        std::getline(std::cin,agent);
                        std::cout&lt;&lt;"Unesite datum prodaje (formata d/m/g): ";
                        std::string datum;
</font>                        // std::cin.ignore(10000,'\n');
                        std::getline(std::cin,datum);
                        int dan=0,mjesec=0,godina=0;
                        for(int i=0; i&lt;datum.size(); i++) {
                            int poc;
                            if(i==0) {
                                poc=i;
                                while(datum[i]!='/')i++;
                                for(int j=poc; j&lt;i; j++) {
                                    dan=dan*10+(datum[j]-'0');
                                }
                            }
                            if(datum[i]=='/') {
                                i++;
                                poc=i;
                                while(datum[i]!='/')i++;
                                for(int j=poc; j&lt;i; j++) {
                                    mjesec=mjesec*10+(datum[j]-'0');
                                }
                                i++;
                                poc=i;
                                while(i!=datum.size())i++;
                                for(int j=poc; j&lt;i; j++) {
                                    godina=godina*10+(datum[j]-'0');
                                }
                                i--;
                            }
                        }//for
                        std::cout&lt;&lt;"Unesite cijenu stana: ";
                        double cijena;
                        std::cin&gt;&gt;cijena;
                        std::cin.ignore(10000,'\n');
                        std::cout&lt;&lt;"Unesite ime kupca: ";
                        std::string imeiprezime1;
                        std::getline(std::cin,imeiprezime1);
                        std::cout&lt;&lt;"Unesite datum rodjenja kupca (formata d/m/g): ";
                        int dan1=0,mjesec1=0,godina1=0;
                        //std::cin.ignore(10000,'\n');
                        std::string datum1;
                        std::getline(std::cin,datum1);
                        for(int i=0; i&lt;datum1.size(); i++) {
                            int poc;
                            if(i==0) {
                                poc=i;
                                while(datum1[i]!='/')i++;
                                for(int j=poc; j&lt;i; j++) {
                                    dan1=dan1*10+(datum1[j]-'0');
                                }
                            }
                            if(datum1[i]=='/') {
                                i++;
                                poc=i;
                                while(datum1[i]!='/')i++;
                                for(int j=poc; j&lt;i; j++) {
                                    mjesec1=mjesec1*10+(datum1[j]-'0');
                                }
                                i++;
                                poc=i;
                                while(i!=datum1.size())i++;
                                for(int j=poc; j&lt;i; j++) {
                                    godina1=godina1*10+(datum1[j]-'0');
                                }
                                i--;
                            }
                        }
                        std::cout&lt;&lt;"Unesite adresu: ";
                        std::string adresa1;
                        std::getline(std::cin,adresa1);
                        std::cout&lt;&lt;"Unesite sprat: ";
                        int sprat1;
                        std::cin&gt;&gt;sprat1;
                        std::cout&lt;&lt;"Unesite broj soba: ";
                        int brsoba1;
                        std::cin&gt;&gt;brsoba1;
                        std::cout&lt;&lt;"Da li je stan namjesten (1 - da, 0 - ne): ";
                        int namjesten1;
                        std::cin&gt;&gt;namjesten1;
                        std::cout&lt;&lt;"Unesite kvadraturu: ";
                        double kvadratura1;
                        std::cin&gt;&gt;kvadratura1;
                        try {
                            if( namjesten1!=1 &amp;&amp; namjesten1!=0) {
<a name="17"></a><font color="#0000FF"><a href="match440-1.html#17" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_0.gif"/></a>

                                throw std::domain_error("Neispravan unos podataka");
                            }
                            Prodaja pom(agent,cijena,dan,mjesec,godina,imeiprezime1, {dan1,mjesec1,godina1},adresa1,sprat1,brsoba1,namjesten1,kvadratura1);
</font>                            prodaja.push_back(pom);
                            std::cout&lt;&lt;"Prodaja uspjesno dodana!"&lt;&lt;std::endl;
                            goto g32;
                        } catch(std::domain_error x) {
                            std::cout&lt;&lt;"Izuzetak: "&lt;&lt;x.what()&lt;&lt;". Molimo unesite opet."&lt;&lt;std::endl;
                            goto g30;
                        }
                    }//NORMALNO DODAVANJE
                    if(x31==2) {
g33:
                        std::cout&lt;&lt;"Unesite ime i prezime agenta prodaje: ";
<a name="18"></a><font color="#00FFFF"><a href="match440-1.html#18" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_0.gif"/></a>

                        std::string agent;
                        std::cin.ignore(10000,'\n');
                        std::getline(std::cin,agent);
                        std::cout&lt;&lt;"Unesite datum prodaje (formata d/m/g): ";
                        std::string datum;
</font>                        // std::cin.ignore(10000,'\n');
                        std::getline(std::cin,datum);
                        int dan=0,mjesec=0,godina=0;
                        for(int i=0; i&lt;datum.size(); i++) {
                            int poc;
                            if(i==0) {
                                poc=i;
                                while(datum[i]!='/')i++;
                                for(int j=poc; j&lt;i; j++) {
                                    dan=dan*10+(datum[j]-'0');
                                }
                            }
                            if(datum[i]=='/') {
                                i++;
                                poc=i;
                                while(datum[i]!='/')i++;
                                for(int j=poc; j&lt;i; j++) {
                                    mjesec=mjesec*10+(datum[j]-'0');
                                }
                                i++;
                                poc=i;
                                while(i!=datum.size())i++;
                                for(int j=poc; j&lt;i; j++) {
                                    godina=godina*10+(datum[j]-'0');
                                }
                                i--;
                            }
                        }//for
                        std::cout&lt;&lt;"Unesite cijenu stana: ";
                        double cijena;
<a name="19"></a><font color="#FF00FF"><a href="match440-1.html#19" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_0.gif"/></a>

                        std::cin&gt;&gt;cijena;
                        std::cout&lt;&lt;"Odaberite kupca. Dostupni kupci su:";
                        for(int i=0; i&lt;kupci.size(); i++) {
                            std::cout&lt;&lt;" 1 - ";
</font><a name="2"></a><font color="#0000FF"><a href="match440-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_0.gif"/></a>

                            kupci[i].Ispisi();
                            std::cout&lt;&lt;std::endl;
                        }
                        int kojikupac;
                        std::cin&gt;&gt;kojikupac;
                        std::cout&lt;&lt;"Odaberite stan. Dostupni stanovi su:";
                        for(int i=0; i&lt;stanovi.size(); i++) {
                            std::cout&lt;&lt;" 1 - ";
</font><a name="20"></a><font color="#FF0000"><a href="match440-1.html#20" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_0.gif"/></a>

                            stanovi[i].Ispisi();
                            std::cout&lt;&lt;std::endl;
                        }
                        int kojistan;
                        std::cin&gt;&gt;kojistan;
                        try {
                            Prodaja pom(agent,cijena, {dan,mjesec,godina},kupci[kojikupac-1],stanovi[kojistan-1]);
</font>                            prodaja.push_back(pom);
                            
                            std::cout&lt;&lt;"Prodaja uspjesno dodana!"&lt;&lt;std::endl;
                        } catch(std::domain_error x) {
                            std::cout&lt;&lt;"Izuzetak: "&lt;&lt;x.what()&lt;&lt;". Molimo unesite opet."&lt;&lt;std::endl;
                            goto g33;
                        }
                    }//iz arhive
                }//DODAVANJE
                if(x3==2){
                    for(int i=0;i&lt;prodaja.size();i++){
                       // prodaje[i].RegistrirajProdaju(prodaja[i]);
                    }
                    std::cout &lt;&lt; "Odaberite prodaju koju Å¾elite urediti. Dostupne prodaje su:" &lt;&lt; std::endl;
                    for(int i=0;i&lt;prodaje.size();i++){
                        std::cout &lt;&lt; i+1&lt;&lt;"." &lt;&lt; std::endl;
                        prodaje[i].IspisiSveProdaje();
                        std::cout&lt;&lt;std::endl;
                    }
                    int mjenjamoprodaju;
                    std::cin&gt;&gt;mjenjamoprodaju;
                    std::cout&lt;&lt;"Izaberite opciju:"&lt;&lt;std::endl&lt;&lt;" 0 - nazad"&lt;&lt;std::endl&lt;&lt;" 1 - izmjena agenta"&lt;&lt;std::endl&lt;&lt;" 2 - izmjena datuma prodaje"&lt;&lt;std::endl&lt;&lt;" 3 - izmjena kupca"&lt;&lt;std::endl&lt;&lt;" 4 - izmjena stana"&lt;&lt;std::endl&lt;&lt;" 5 - izmjena cijene stana"&lt;&lt;std::endl;
                    int opcija;
                    std::cin&gt;&gt;opcija;
                    if(opcija==1){
                        std::cout&lt;&lt;"Unesite ime i prezime agenta prodaje: ";
                        std::string agent2;
                        std::cin.ignore(10000,'\n');
                        std::getline(std::cin,agent2);
                       // Prodaja pom(agent2,prodaje[mjenjamoprodaju-1].DajCijenuStana(),prodaje[mjenjamoprodaju-1].DajDatumProdaje(),{prodaje[mjenjamoprodaju-1].DajImeKupca(),prodaje[mjenjamoprodaju-1].DajDatumRodjenja()},{prodaje[mjenjamoprodaju-1].DajAdresu(),prodaje[mjenjamoprodaju-1].DajSprat(),prodaje[mjenjamoprodaju-1].DajBrojSoba(),prodaje[mjenjamoprodaju-1].DajNamjesten(),prodaje[mjenjamoprodaju-1].DajKvadraturu()});
                    }
                }
                if(x3==4) {
                    std::cout&lt;&lt;"Izaberite opciju:"&lt;&lt;std::endl&lt;&lt;" 0 - nazad"&lt;&lt;std::endl&lt;&lt;" 1 - brisanje najranije prodaje"&lt;&lt;std::endl&lt;&lt;" 2 - brisanje prodaja agenta"&lt;&lt;std::endl&lt;&lt;" 3 - brisanje prodaja po datumu"&lt;&lt;std::endl&lt;&lt;" 4 - brisanje svih prodaja"&lt;&lt;std::endl;
                    int x31;
                    std::cin&gt;&gt;x31;
                    if(x31==0) {
                        break;
                    }
                }

            }
        }
    }
    return 0;
}</pre>
</body>
</html>
