<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z3/student2477.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z3/student3119.cpp<p></p><pre>
/B 2016/2017, ZadaÄ‡a 4, Zadatak 3
//Napomena: testovi ce biti dostupni dan pred rok!
#include &lt;iostream&gt;
#include &lt;stdexcept&gt;
#include &lt;string&gt;
#include &lt;iomanip&gt;
#include &lt;new&gt;
#include &lt;initializer_list&gt;
#include &lt;algorithm&gt;
#include &lt;vector&gt;

using namespace std;

class Datum {
    mutable int d,m,g;
    public:
    static int BrojDana(int mjesec,int godina);
    Datum (int dan,int mjesec,int godina){Postavi(dan,mjesec,godina);}
<a name="10"></a><font color="#FF0000"><a href="match221-0.html#10" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_0.gif"/></a>

    void Postavi(int dan,int mjesec,int godina);
    int DajDan() const{return d;}
    int DajMjesec() const{return m;}
    int DajGodinu() const{return g;}
    void Ispisi() const{cout&lt;&lt;d&lt;&lt;"/"&lt;&lt;m&lt;&lt;"/"&lt;&lt;g;}
</font>    static bool VratiManjiDatum(const Datum &amp;d1,const Datum &amp;d2);
};
int Datum::BrojDana(int mjesec,int godina){
    int broj_dana[] {31,28,31,30,31,30,31,31,30,31,30,31};
    if (godina%400==0 &amp;&amp; (godina%100!=0 || godina%400==0))broj_dana[1]++;
    return broj_dana[mjesec-1];
}
 void Datum::Postavi(int dan,int mjesec,int godina){
     if(godina&lt;1 || dan&lt;1 || mjesec&lt;1 || mjesec&gt;12 || dan&gt;BrojDana(mjesec,godina))throw domain_error("Neispravan datum");
     d=dan;m=mjesec;g=godina;
 }
bool Datum::VratiManjiDatum(const Datum &amp;d1,const Datum &amp;d2){
   if(d1.DajGodinu()&lt;d2.DajGodinu())return true;
   if(d1.DajGodinu()==d2.DajGodinu() &amp;&amp; d1.DajMjesec()&lt;d2.DajMjesec())return true;
   if(d1.DajGodinu()==d2.DajGodinu() &amp;&amp; d1.DajMjesec()==d2.DajMjesec() &amp;&amp; d1.DajDan()&lt;d2.DajDan())return true;
   return false;
    
}

class Kupac {
    string ime_i_pr;
    Datum datum_r;
    bool Ispravnost(const char c);
    public:
    Kupac(const string &amp;ime_i_prezime, const Datum &amp;datum_rodjenja):datum_r(datum_rodjenja.DajDan(),datum_rodjenja.DajMjesec(),datum_rodjenja.DajGodinu()){
        for(int i=0;i&lt;ime_i_prezime.size();i++){
            if(!Ispravnost(ime_i_prezime[i]))throw domain_error("Neispravno ime i prezime");
        }
        ime_i_pr=ime_i_prezime;
    }
<a name="17"></a><font color="#0000FF"><a href="match221-0.html#17" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_0.gif"/></a>

    void Postavi(const string &amp;ime_i_prezime, const Datum &amp;datum_rodjenja);
    string DajImePrezime() const{return ime_i_pr;}
    Datum DajDatumRodjenja() const{return datum_r;}
    void Ispisi() const{ cout&lt;&lt;ime_i_pr&lt;&lt;" (";datum_r.Ispisi();cout&lt;&lt;")";}
</font>};
bool Kupac::Ispravnost(const char c){
    if((c&gt;='a'&amp;&amp; c&lt;='z') || (c&gt;='A' &amp;&amp; c&lt;='Z') || (c&gt;='0' &amp;&amp; c&lt;='9') || c=='-' || c==' ' || c==39)return true;
    return false;
}

void Kupac::Postavi(const string &amp;ime_i_prezime,const Datum &amp;datum_rodjenja){
    for(int i=0;i&lt;ime_i_prezime.size();i++){
        if(!Ispravnost(ime_i_prezime[i]))throw domain_error("Neispravno ime i prezime");
    }
    ime_i_pr=ime_i_prezime;
    datum_r=datum_rodjenja;
}
class Stan {
    string ad;
    int s,br_s;
    bool nam;
    double kv;
    static char DajZadnjeSlovo(int broj);
<a name="14"></a><font color="#FF00FF"><a href="match221-0.html#14" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_0.gif"/></a>

    public:
    Stan(const string &amp;adresa,int sprat, int broj_soba,bool namjesten,double kvadratura){
        if(sprat&lt;=0 || broj_soba&lt;=0 || kvadratura&lt;=0)throw domain_error("Neispravan unos podataka");
</font><a name="0"></a><font color="#FF0000"><a href="match221-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_1.gif"/></a>

        ad=adresa;s=sprat;br_s=broj_soba;nam=namjesten;kv=kvadratura;
        }
    void Postavi(const string &amp;adresa,int sprat,int broj_soba,bool namjesten,double kvadratura){
        if(sprat&lt;=0 || broj_soba&lt;=0 || kvadratura&lt;=0 )throw domain_error("Neispravan unos podataka");
        ad=adresa;s=sprat;br_s=broj_soba;nam=namjesten;kv=kvadratura;
    }
    string DajAdresu() const {return ad;}
    int DajSprat() const {return s;}
    int DajBrojSoba() const {return br_s;}
    bool DajNamjesten() const {return nam;}
    double DajKvadraturu() const {return kv;}
    void Ispisi() const{cout&lt;&lt;"Stan se nalazi na adresi "&lt;&lt;ad&lt;&lt;" na "&lt;&lt;s&lt;&lt;". spratu i ima "&lt;&lt;br_s&lt;&lt;" sob"&lt;&lt;DajZadnjeSlovo(br_s)&lt;&lt;". Kvadratura stana je "&lt;&lt;kv&lt;&lt;" (m^2) i stan ";
</font>        if(nam)cout&lt;&lt;"je namjesten.";
        else cout&lt;&lt;"nije namjesten.";
    }
};
char Stan::DajZadnjeSlovo(int broj){
    char c;
    if(broj==1){c='u';return c;}
    int zadnja_cifra=broj%10;
    if(zadnja_cifra==2 || zadnja_cifra==3 || zadnja_cifra==4){c='e';return c;}
    c='a';return c;
}
class Prodaja {
    string ime_ag;
    double cijena_st;
    Datum datum_p;
    Kupac kupac_st;
    Stan kupljeni_st;
    bool Ispravno_ime(const char c);
    public:
    Prodaja(const string &amp;ime_agenta_prodaje, double cijena_stana,const Datum &amp;datum_prodaje, const Kupac &amp;kupac_stana,const Stan &amp;kupljeni_stan):datum_p(datum_prodaje.DajDan(),datum_prodaje.DajMjesec(),datum_prodaje.DajGodinu()),kupac_st(kupac_stana.DajImePrezime(),kupac_stana.DajDatumRodjenja()),kupljeni_st(kupljeni_stan.DajAdresu(),kupljeni_stan.DajSprat(),kupljeni_stan.DajBrojSoba(),kupljeni_stan.DajNamjesten(),kupljeni_stan.DajKvadraturu()){
        /*for(int i=0;i&lt;ime_agenta_prodaje.size();i++){
        if(!Ispravno_ime(ime_agenta_prodaje[i]))throw domain_error ("Neispravan unos podataka. Molimo unesite opet.");
        }*/
        
        ime_ag=ime_agenta_prodaje;cijena_st=cijena_stana;
        
    }
    Prodaja(const string &amp;ime_agenta_prodaje, double cijena_stana,int dan_prodaje, int mjesec_prodaje, int godina_prodaje,string &amp;ime_kupca, const Datum &amp;datum_rodjenja_kupca,const string &amp;adresa_stana, int sprat_stana, int broj_soba,bool namjesten_stan, double broj_kvadrata);
<a name="2"></a><font color="#0000FF"><a href="match221-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_1.gif"/></a>

    void PromijeniAgenta(const string &amp;novo_ime){ime_ag=novo_ime;}
    void PromijeniKupca(const Kupac &amp;novi_kupac){kupac_st.Postavi(novi_kupac.DajImePrezime(),novi_kupac.DajDatumRodjenja());}
    void PromijeniStan(const Stan &amp;novi_stan){kupljeni_st.Postavi(novi_stan.DajAdresu(),novi_stan.DajSprat(),novi_stan.DajBrojSoba(),novi_stan.DajNamjesten(),novi_stan.DajKvadraturu());}
    void PromijeniDatumKupovine(const Datum &amp;novi_datum){datum_p.Postavi(novi_datum.DajDan(),novi_datum.DajMjesec(),novi_datum.DajGodinu());}
    void PromijeniCijenuProdaje(const double &amp;nova_cijena){cijena_st=nova_cijena;}
</font>    void PomjeriDanUnaprijed();
    void PomjeriDanUnazad();
<a name="18"></a><font color="#00FFFF"><a href="match221-0.html#18" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_0.gif"/></a>

    string DajImeAgenta() const {return ime_ag;}
    string DajImeKupca() const {return kupac_st.DajImePrezime();}
    Datum DajDatumProdaje() const {return datum_p;}
    double DajCijenuStana() const {return cijena_st;}
    friend bool ProdatPrije(const Prodaja &amp;p1, const Prodaja &amp;p2);
</font>    friend bool SkupljiStan(const Prodaja &amp;p1, const Prodaja &amp;p2);
    void Ispisi() const;
};
bool Prodaja::Ispravno_ime(const char c){
    if((c&gt;='a'&amp;&amp; c&lt;='z') || (c&gt;='A' &amp;&amp; c&lt;='Z') || (c&gt;='0' &amp;&amp; c&lt;='9') || c=='-' || c==' ' || c==39)return true;
    return false;
}
<a name="16"></a><font color="#00FF00"><a href="match221-0.html#16" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_0.gif"/></a>

inline Prodaja:: Prodaja(const string &amp;ime_agenta_prodaje, double cijena_stana,int dan_prodaje, int mjesec_prodaje, int godina_prodaje,string &amp;ime_kupca, const Datum &amp;datum_rodjenja_kupca,const string &amp;adresa_stana, int sprat_stana, int broj_soba,bool namjesten_stan, double broj_kvadrata):datum_p(dan_prodaje,mjesec_prodaje,godina_prodaje),kupac_st(ime_kupca,datum_rodjenja_kupca),kupljeni_st(adresa_stana,sprat_stana,broj_soba,namjesten_stan,broj_kvadrata){
</font>    ime_ag=ime_agenta_prodaje;
    cijena_st=cijena_stana;
    }
void Prodaja::PomjeriDanUnaprijed(){
    int dan(datum_p.DajDan()),mj(datum_p.DajMjesec()),god(datum_p.DajGodinu());
    dan++;
    if(dan&gt;Datum::BrojDana(datum_p.DajMjesec(),datum_p.DajGodinu())){dan=1;mj++;}
    if(mj&gt;12){mj=1;god++;}
    datum_p.Postavi(dan,mj,god);
}
void Prodaja::PomjeriDanUnazad(){
    int dan(datum_p.DajDan()),mj(datum_p.DajMjesec()),god(datum_p.DajGodinu());
    dan--;
    if(dan&lt;1){dan=Datum::BrojDana(datum_p.DajMjesec()+1,datum_p.DajGodinu());mj--;}
    if(mj&lt;1){mj=12;god--;}
    datum_p.Postavi(dan,mj,god);
}
void Prodaja::Ispisi() const{
    cout&lt;&lt;left&lt;&lt;setw(30)&lt;&lt;"Ime agenta: "&lt;&lt;right&lt;&lt;ime_ag&lt;&lt;endl;
    cout&lt;&lt;left&lt;&lt;setw(30)&lt;&lt;"Ime kupca: "&lt;&lt;right;kupac_st.Ispisi();cout&lt;&lt;endl;
    cout&lt;&lt;left&lt;&lt;setw(30)&lt;&lt;"Zakazani datum prodaje: "&lt;&lt;right;datum_p.Ispisi();cout&lt;&lt;endl;
<a name="7"></a><font color="#0000FF"><a href="match221-0.html#7" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_0.gif"/></a>

    cout&lt;&lt;left&lt;&lt;setw(30)&lt;&lt;"Cijena stana: "&lt;&lt;right&lt;&lt;cijena_st&lt;&lt;endl;
    cout&lt;&lt;"Informacije o stanu: "&lt;&lt;endl;
    kupljeni_st.Ispisi();
    }
bool ProdatPrije(const Prodaja &amp;p1,const Prodaja &amp;p2){
    if(p1.datum_p.DajGodinu()&lt;p2.datum_p.DajGodinu())return true;
</font>    if((p1.datum_p.DajGodinu()==p2.datum_p.DajGodinu()) &amp;&amp; (p1.datum_p.DajMjesec()&lt;p2.datum_p.DajMjesec()))return true;
<a name="8"></a><font color="#00FFFF"><a href="match221-0.html#8" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_0.gif"/></a>

    if((p1.datum_p.DajGodinu()==p2.datum_p.DajGodinu()) &amp;&amp; (p1.datum_p.DajMjesec()==p2.datum_p.DajMjesec()) &amp;&amp; (p1.datum_p.DajDan()&lt;p2.datum_p.DajDan()))return true;
    return false;
}
bool SkupljiStan(const Prodaja &amp;p1,const Prodaja &amp;p2){
    if(p1.cijena_st&gt;p2.cijena_st)return true;
    return false;
}
class Prodaje {
</font>    const int max_pr;
    int broj_pr;
    Prodaja **prod;
    public:
    explicit Prodaje(int max_broj_prodaja):max_pr(max_broj_prodaja),broj_pr(0),prod(new Prodaja*[max_broj_prodaja]{}){}
    Prodaje(initializer_list&lt;Prodaja&gt; spisak_prodaja);
    ~Prodaje();
    Prodaje(const Prodaje &amp;prodaje);
<a name="1"></a><font color="#00FF00"><a href="match221-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_1.gif"/></a>

    Prodaje(Prodaje &amp;&amp;prodaje);
    Prodaje &amp;operator =(const Prodaje &amp;prodaje);
    Prodaje &amp;operator = (Prodaje &amp;&amp;prodaje);
    void RegistrirajProdaju(const string &amp;ime_agenta_prodaje,double cijena_stana,const Datum &amp;datum_prodaje,const Kupac &amp;kupac_stana,const Stan &amp;kupljeni_stan);
    void RegistrirajProdaju(const string &amp;ime_agenta_prodaje,double cijena_stana,int dan_prodaje,int mjesec_prodaje,int godina_prodaje, string &amp;ime_kupca,const Datum &amp;datum_rodjenja_kupca,const string &amp;adresa_stana,int sprat_stana,int broj_soba,bool namjesten_stan,double broj_kvadrata);
    void RegistrirajProdaju(Prodaja *prodaja);
    int DajBrojProdaja() const{return broj_pr;}
</font>    int DajBrojProdajaNaDatum(const Datum &amp;datum)const;
    int DajBrojProdajaOdAgenta(const string &amp;ime_agenta)const;
    Prodaja &amp;DajNajranijuProdaju();
    Prodaja DajNajranijuProdaju() const;
    Prodaja &amp;DajNajskupljuProdaju();
    Prodaja DajNajskupljuProdaju() const;
    void IsprazniKolekciju();
<a name="15"></a><font color="#FF0000"><a href="match221-0.html#15" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_0.gif"/></a>

    void ObrisiNajranijuProdaju();
    void ObrisiProdajeAgenta(const string &amp;ime_agenta);
    void ObrisiProdajeNaDatum(const Datum &amp;datum);
    void IspisiProdajeNaDatum(const Datum &amp;datum) const;
    void IspisiSveProdaje() const;
    Prodaja &amp;DajProdaju(int broj_prodaje);
</font>};
Prodaja &amp;Prodaje::DajProdaju(int broj_prodaje){
    if(broj_prodaje&lt;0 || broj_prodaje&gt;=broj_pr)throw domain_error("Neispravan indeks");
    return *prod[broj_prodaje];
}
<a name="19"></a><font color="#FF00FF"><a href="match221-0.html#19" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_0.gif"/></a>

Prodaje::Prodaje(initializer_list&lt;Prodaja&gt; spisak_prodaja):max_pr(spisak_prodaja.size()),broj_pr(spisak_prodaja.size()),prod(new Prodaja*[spisak_prodaja.size()]){
    int i=0;
</font>    for(initializer_list&lt;Prodaja&gt;::iterator it=spisak_prodaja.begin();it!=spisak_prodaja.end();it++)
    *prod[i++]=*it;
}
Prodaje::~Prodaje() {
    for(int i=0;i&lt;broj_pr;i++)delete prod[i];
    delete[] prod;
}
Prodaje::Prodaje(const Prodaje &amp;prodaje):max_pr(prodaje.max_pr),broj_pr(prodaje.broj_pr),prod(new Prodaja*[prodaje.max_pr]{}){
    try {
        for(int i=0;i&lt;prodaje.broj_pr;i++){
            prod[i]=new Prodaja(*prodaje.prod[i]);
        }
    }
    catch(...){
            for(int i=0;i&lt;prodaje.broj_pr;i++)delete prod[i];
            delete[] prod;throw;
        }
}
<a name="20"></a><font color="#FF0000"><a href="match221-0.html#20" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_0.gif"/></a>

Prodaje::Prodaje(Prodaje &amp;&amp;prodaje):max_pr(prodaje.max_pr),broj_pr(prodaje.broj_pr),prod(prodaje.prod){
    prodaje.prod=nullptr;prodaje.broj_pr=0;
</font>}
Prodaje &amp;Prodaje::operator =(const Prodaje &amp;prodaje){
   if(prodaje.max_pr!=max_pr)throw domain_error("Nesaglasni kapaciteti");
   if(prodaje.broj_pr&gt;broj_pr){
       try {
           for(int i=0;i&lt;broj_pr;i++)prod[i]=new Prodaja(*prodaje.prod[i]);
       }
       catch(...){
           for(int i=0;i&lt;broj_pr;i++){
               delete prod[i];prod[i]=nullptr;
           }
           throw;
       }
   }
   else {
       for(int i=prodaje.broj_pr;i&lt;broj_pr;i++){
           delete prod[i];prod[i]=nullptr;
       }
   }
   broj_pr=prodaje.broj_pr;
<a name="21"></a><font color="#00FF00"><a href="match221-0.html#21" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_0.gif"/></a>

   for(int i=0;i&lt;broj_pr;i++)*prod[i] = *prodaje.prod[i];
       
   return *this;
}
Prodaje &amp;Prodaje::operator =(Prodaje &amp;&amp;prodaje){
</font>    if(prodaje.max_pr!=max_pr)throw domain_error("Nesaglasni kapaciteti");
    swap(broj_pr,prodaje.broj_pr);
    swap(prod,prodaje.prod);
    return *this;
}
void Prodaje::RegistrirajProdaju(Prodaja *prodaja){
    if(broj_pr&gt;=max_pr)throw range_error("Dostignut maksimalni broj prodaja");
<a name="12"></a><font color="#0000FF"><a href="match221-0.html#12" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_0.gif"/></a>

    prod[broj_pr++]=prodaja;
}
void Prodaje::RegistrirajProdaju(const string &amp;ime_agenta_prodaje,double cijena_stana,const Datum &amp;datum_prodaje,const Kupac &amp;kupac_stana,const Stan &amp;kupljeni_stan){
    if(broj_pr&gt;=max_pr)throw range_error("Dostignut maksimalni broj prodaja");
</font>    prod[broj_pr++]=new Prodaja(ime_agenta_prodaje,cijena_stana,datum_prodaje,kupac_stana,kupljeni_stan);
}
void Prodaje::RegistrirajProdaju(const string &amp;ime_agenta_prodaje,double cijena_stana,int dan_prodaje,int mjesec_prodaje,int godina_prodaje,string &amp;ime_kupca,const Datum &amp;datum_rodjenja_kupca,const string &amp;adresa_stana,int sprat_stana,int broj_soba,bool namjesten_stan,double broj_kvadrata){
    if(broj_pr&gt;=max_pr)throw range_error("Dostignut maksimalni broj prodaja");
    prod[broj_pr++]=new Prodaja(ime_agenta_prodaje,cijena_stana,dan_prodaje,mjesec_prodaje,godina_prodaje,ime_kupca,datum_rodjenja_kupca,adresa_stana,sprat_stana,broj_soba,namjesten_stan,broj_kvadrata);
}
int Prodaje::DajBrojProdajaNaDatum(const Datum &amp;datum)const{
    int brojac(0);
<a name="11"></a><font color="#00FF00"><a href="match221-0.html#11" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_0.gif"/></a>

    brojac=count_if(prod,prod+broj_pr,[&amp;datum,&amp;brojac](Prodaja *p){
        if(p-&gt;DajDatumProdaje().DajDan()==datum.DajDan() &amp;&amp; p-&gt;DajDatumProdaje().DajMjesec()==datum.DajMjesec() &amp;&amp; p-&gt;DajDatumProdaje().DajGodinu()==datum.DajGodinu())return true;
</font>        return false;
    });
    return brojac;
}
int Prodaje::DajBrojProdajaOdAgenta(const string&amp; ime_agenta)const {
    int brojac(0);
    brojac=count_if(prod,prod+broj_pr,[ime_agenta](Prodaja *p){
        if(p-&gt;DajImeAgenta()==ime_agenta)return true;
        return false;
    });
    return brojac;
}
Prodaja &amp;Prodaje::DajNajranijuProdaju(){
    if(broj_pr==0)throw domain_error("Nema registriranih prodaja");
    auto p=min_element(prod,prod+broj_pr,[](Prodaja *p1,Prodaja *p2){
       return Datum::VratiManjiDatum(p1-&gt;DajDatumProdaje(),p2-&gt;DajDatumProdaje());
    });
    return **p;
}
Prodaja Prodaje::DajNajranijuProdaju()const{
    if(broj_pr==0)throw domain_error("Nema registriranih prodaja");
    auto p=min_element(prod,prod+broj_pr,[](Prodaja *p1,Prodaja *p2){
    return Datum::VratiManjiDatum(p1-&gt;DajDatumProdaje(),p2-&gt;DajDatumProdaje());
    });
    return **p;
}
Prodaja &amp;Prodaje::DajNajskupljuProdaju(){
    if(broj_pr==0)throw domain_error("Nema registriranih prodaja");
    auto p=max_element(prod,prod+broj_pr,[](Prodaja *p1,Prodaja *p2){
        return p1-&gt;DajCijenuStana()&gt;p2-&gt;DajCijenuStana();
    });
    return **p;
}
Prodaja Prodaje::DajNajskupljuProdaju()const{
    if(broj_pr==0)throw domain_error("Nema registriranih prodaja");
    auto p=max_element(prod,prod+broj_pr,[](Prodaja *p1,Prodaja *p2){
        return p1-&gt;DajCijenuStana()&gt;p2-&gt;DajCijenuStana();
    });
    return **p;
}
void Prodaje::IsprazniKolekciju(){
    for(int i=0;i&lt;broj_pr;i++){delete prod[i];prod[i]=nullptr;broj_pr=0;}
}
void Prodaje::ObrisiNajranijuProdaju(){
    if(broj_pr==0)throw range_error("Prazna kolekcija");
   Prodaja *p=&amp;DajNajranijuProdaju();
   for(int i=0;i&lt;broj_pr;i++){
       if(prod[i]==p){delete prod[i];prod[i]=nullptr;broj_pr--;}
   }
}
void Prodaje::ObrisiProdajeAgenta(const string &amp;ime_agenta){
    if(broj_pr==0)throw range_error("Prazna kolekcija");
    for(int i=0;i&lt;broj_pr;i++){
        if((*prod[i]).DajImeAgenta()==ime_agenta){delete prod[i];prod[i]=nullptr;broj_pr--;}
    }
}
void Prodaje::ObrisiProdajeNaDatum(const Datum &amp;datum){
    if(broj_pr==0)throw range_error("Prazna kolekcija");
<a name="3"></a><font color="#00FFFF"><a href="match221-0.html#3" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_0.gif"/></a>

    for(int i=0;i&lt;broj_pr;i++){
        if((*prod[i]).DajDatumProdaje().DajGodinu()==datum.DajGodinu() &amp;&amp; (*prod[i]).DajDatumProdaje().DajMjesec()==datum.DajMjesec() &amp;&amp; (*prod[i]).DajDatumProdaje().DajDan()==datum.DajDan()){delete prod[i];prod[i]=nullptr;broj_pr--;}
</font>    }
}
void Prodaje::IspisiProdajeNaDatum(const Datum &amp;datum)const{
    vector&lt;Prodaja *&gt;v_pr;
    for(int i=0;i&lt;broj_pr;i++){
        if(prod[i]==nullptr)continue;
<a name="4"></a><font color="#FF00FF"><a href="match221-0.html#4" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_0.gif"/></a>

        if((*prod[i]).DajDatumProdaje().DajGodinu()==datum.DajGodinu() &amp;&amp; (*prod[i]).DajDatumProdaje().DajMjesec()==datum.DajMjesec() &amp;&amp; (*prod[i]).DajDatumProdaje().DajDan()==datum.DajDan())v_pr.push_back(prod[i]);
</font>    }
    sort(&amp;v_pr[0],&amp;v_pr[v_pr.size()],[](Prodaja *p1,Prodaja *p2){
        return p1-&gt;DajImeAgenta()&lt;p2-&gt;DajImeAgenta();
    });
    for(int i=0;i&lt;v_pr.size();i++){
        v_pr[i]-&gt;Ispisi();cout&lt;&lt;endl;
    }
}
void Prodaje::IspisiSveProdaje()const{
     vector&lt;Prodaja *&gt;vp;
     for(int i=0;i&lt;broj_pr;i++){if(prod[i]!=nullptr)vp.push_back(prod[i]);}
      sort(&amp;vp[0],&amp;vp[vp.size()],[](Prodaja *p1,Prodaja *p2){
          return Datum::VratiManjiDatum(p1-&gt;DajDatumProdaje(),p2-&gt;DajDatumProdaje());
      });
      for(int i=0;i&lt;vp.size();i++){
          for(int j=0;j&lt;vp.size();j++){
              if(i==j)continue;
              if(vp[i]-&gt;DajDatumProdaje().DajGodinu()==vp[j]-&gt;DajDatumProdaje().DajGodinu() &amp;&amp; vp[i]-&gt;DajDatumProdaje().DajMjesec()==vp[j]-&gt;DajDatumProdaje().DajMjesec() &amp;&amp; vp[i]-&gt;DajDatumProdaje().DajDan()==vp[j]-&gt;DajDatumProdaje().DajDan()){
              if(vp[i]-&gt;DajImeAgenta() &lt; vp[j]-&gt;DajImeAgenta())swap(vp[i],vp[j]);
              }
          }
      }
      for(int i=0;i&lt;vp.size();i++){
          vp[i]-&gt;Ispisi();cout&lt;&lt;endl;
      }
      
}
int main ()
{
        cout&lt;&lt;"Dobrodosli!"&lt;&lt;endl&lt;&lt;endl;
        vector&lt;Stan&gt;stanovi;
        vector&lt;Kupac&gt;kupci;
        Prodaje lujka(20);
        for(;;){
        cout&lt;&lt;endl&lt;&lt;"Izaberite opciju:";
        cout&lt;&lt;endl&lt;&lt;" 0 - kraj"&lt;&lt;endl&lt;&lt;" 1 - uredjivanje stanova"&lt;&lt;endl&lt;&lt;" 2 - uredjivanje kupaca"&lt;&lt;endl&lt;&lt;" 3 - uredjivanje prodaja"&lt;&lt;endl;
        int opcija,opcija2;cin&gt;&gt;opcija;
        if(opcija==0)break;
        if(opcija==1){
            for(;;){
                cout&lt;&lt;"Izaberite opciju:"&lt;&lt;endl;
                cout&lt;&lt;" 0 - nazad"&lt;&lt;endl&lt;&lt;" 1 - dodavanje stana"&lt;&lt;endl&lt;&lt;" 2 - uredjivanje stanova"&lt;&lt;endl&lt;&lt;" 3 - ispis svih stanova"&lt;&lt;endl&lt;&lt;" 4 - kraj"&lt;&lt;endl;
                cin&gt;&gt;opcija2;
                if(opcija2==0 || opcija2==4)break;
                if(opcija2==1){
                    for(int i=0;i&lt;1;i++){
                   try {
                   cout&lt;&lt;"Unesite adresu: ";
                   string adr;
                   cin.ignore(10000,'\n');
<a name="5"></a><font color="#FF0000"><a href="match221-0.html#5" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_0.gif"/></a>

                   getline(cin,adr);
                   cout&lt;&lt;"Unesite sprat: ";
                   int s;cin&gt;&gt;s;
                   cout&lt;&lt;"Unesite broj soba: ";
                   int br;cin&gt;&gt;br;
                   cout&lt;&lt;"Da li je stan namjesten (1 - da, 0 - ne): ";
                   int y;cin&gt;&gt;y;
                   cout&lt;&lt;"Unesite kvadraturu: ";
                   double k;cin&gt;&gt;k;
</font>                   if(y!=0 &amp;&amp; y!=1)throw domain_error("Neispravan unos podataka");
                   Stan sy(adr,s,br,y,k);
                   stanovi.push_back(sy);
                   }
                   catch(domain_error e){
                       cout&lt;&lt;"Izuzetak: "&lt;&lt;e.what()&lt;&lt;". Molimo unesite opet."&lt;&lt;endl;i--;
                   }   
                }
                cout&lt;&lt;"Stan je uspjesno dodan!"&lt;&lt;endl;
            }
            
            if(opcija2==2){
                cout&lt;&lt;"Odaberite stan. Dostupni stanovi su:"&lt;&lt;endl;
                for(int i=0;i&lt;stanovi.size();i++){
                    cout&lt;&lt;" "&lt;&lt;i+1&lt;&lt;" - ";stanovi[i].Ispisi();cout&lt;&lt;endl;
                }
                cout&lt;&lt;endl;
                int indeks;cin&gt;&gt;indeks;
                cout&lt;&lt;"Odaberite polje koji zelite urediti:"&lt;&lt;endl;
                cout&lt;&lt;" 0 - nazad"&lt;&lt;endl&lt;&lt;" 1 - adresa"&lt;&lt;endl&lt;&lt;" 2 - sprat"&lt;&lt;endl&lt;&lt;" 3 - broj soba"&lt;&lt;endl&lt;&lt;" 4 - da li je stan namjesten"&lt;&lt;endl&lt;&lt;" 5 - kvadratura"&lt;&lt;endl&lt;&lt;" 6 - sve"&lt;&lt;endl;
                int opcija3;cin&gt;&gt;opcija3;
                if(opcija3==0)break;
                if(opcija3==1){
                    cout&lt;&lt;"Unesite adresu: ";
                    string a;
                    cin.ignore(1000,'\n');
                    getline(cin,a);
                    stanovi[indeks-1].Postavi(a,stanovi[indeks-1].DajSprat(),stanovi[indeks-1].DajBrojSoba(),stanovi[indeks-1].DajNamjesten(),stanovi[indeks-1].DajKvadraturu());
                    cout&lt;&lt;"Stan je uspjesno izmijenjen!"&lt;&lt;endl;
                }
                if(opcija3==2){
                    for(int i=0;i&lt;1;i++){
                    cout&lt;&lt;"Unesite sprat: ";
                    int sp;cin&gt;&gt;sp;
                    try { stanovi[indeks-1].Postavi(stanovi[indeks-1].DajAdresu(),sp,stanovi[indeks-1].DajBrojSoba(),stanovi[indeks-1].DajNamjesten(),stanovi[indeks-1].DajKvadraturu());
                    cout&lt;&lt;"Stan je uspjesno izmijenjen!"&lt;&lt;endl;}
                    catch(domain_error e){
                        cout&lt;&lt;"Izuzetak: "&lt;&lt;e.what()&lt;&lt;". Molimo unesite opet."&lt;&lt;endl;i--;
                    }
                  }
                }
                if(opcija3==3){
                    for(int i=0;i&lt;1;i++){
                    cout&lt;&lt;"Unesite broj soba: ";
                    int g;cin&gt;&gt;g;
                    try{stanovi[indeks-1].Postavi(stanovi[indeks-1].DajAdresu(),stanovi[indeks-1].DajSprat(),g,stanovi[indeks-1].DajNamjesten(),stanovi[indeks-1].DajKvadraturu());
                    cout&lt;&lt;"Stan je uspjesno izmijenjen!"&lt;&lt;endl;}
                    catch(domain_error e){
                        cout&lt;&lt;"Izuzetak: "&lt;&lt;e.what()&lt;&lt;". Molimo unesite opet."&lt;&lt;endl;i--;
                    }
                  }
                }
                if(opcija3==4){
                    for(int i=0;i&lt;1;i++){
                    cout&lt;&lt;"Da li je stan namjesten: ";
                    int b;cin&gt;&gt;b;
                    try { if(b!=0 &amp;&amp; b!=1)throw domain_error("Neispravan unos podataka");
                        stanovi[indeks-1].Postavi(stanovi[indeks-1].DajAdresu(),stanovi[indeks-1].DajSprat(),stanovi[indeks-1].DajBrojSoba(),b,stanovi[indeks-1].DajKvadraturu());
                    cout&lt;&lt;"Stan je uspjesno izmijenjen!"&lt;&lt;endl;}
                    catch(domain_error e){
                        cout&lt;&lt;"Izuzetak: "&lt;&lt;e.what()&lt;&lt;". Molimo unesite opet."&lt;&lt;endl;i--;
                    }
                  }
                }
                if(opcija3==5){
                    for(int i=0;i&lt;1;i++){
                        cout&lt;&lt;"Unesite kvadraturu: ";
                        double h;cin&gt;&gt;h;
                        try{stanovi[indeks-1].Postavi(stanovi[indeks-1].DajAdresu(),stanovi[indeks-1].DajSprat(),stanovi[indeks-1].DajBrojSoba(),stanovi[indeks-1].DajNamjesten(),h);
                        cout&lt;&lt;"Stan je uspjesno izmijenjen!"&lt;&lt;endl;}
                        catch(domain_error e){
                        cout&lt;&lt;"Izuzetak: "&lt;&lt;e.what()&lt;&lt;". Molimo unesite opet."&lt;&lt;endl;i--;
                    }
                  }
                }
                if(opcija3==6){
                    for(int i=0;i&lt;1;i++){
                   try {
                   cout&lt;&lt;"Unesite adresu: ";
                   string adr;
                   cin.ignore(10000,'\n');
<a name="6"></a><font color="#00FF00"><a href="match221-0.html#6" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_0.gif"/></a>

                   getline(cin,adr);
                   cout&lt;&lt;"Unesite sprat: ";
                   int s;cin&gt;&gt;s;
                   cout&lt;&lt;"Unesite broj soba: ";
                   int br;cin&gt;&gt;br;
                   cout&lt;&lt;"Da li je stan namjesten (1 - da, 0 - ne): ";
                   int y;cin&gt;&gt;y;
                   cout&lt;&lt;"Unesite kvadraturu: ";
                   double k;cin&gt;&gt;k;
</font>                   if(y!=0 &amp;&amp; y!=1)throw domain_error("Neispravan unos podataka");
                   stanovi[indeks-1].Postavi(adr,s,br,y,k);
                   }
                   catch(domain_error e){
                       cout&lt;&lt;"Izuzetak: "&lt;&lt;e.what()&lt;&lt;". Molimo unesite opet."&lt;&lt;endl;i--;
                   }   
                }
<a name="9"></a><font color="#FF00FF"><a href="match221-0.html#9" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_0.gif"/></a>

                cout&lt;&lt;"Stan je uspjesno izmijenjen!"&lt;&lt;endl;
                }
            }
            
            if(opcija2==3){
                for(int i=0;i&lt;stanovi.size();i++){
                    cout&lt;&lt;i+1&lt;&lt;". ";stanovi[i].Ispisi();
                    cout&lt;&lt;endl;
</font>                }
            }
        }
            if(opcija2==4)break;
       }
       if(opcija==2){
           for(;;){
               cout&lt;&lt;"Izaberite opciju:"&lt;&lt;endl;
               cout&lt;&lt;" 0 - nazad"&lt;&lt;endl&lt;&lt;" 1 - dodavanje kupca"&lt;&lt;endl&lt;&lt;" 2 - uredjivanje kupaca"&lt;&lt;endl&lt;&lt;" 3 - ispis svih kupaca"&lt;&lt;endl&lt;&lt;" 4 - kraj"&lt;&lt;endl;
               cin&gt;&gt;opcija2;
               if(opcija2==0 || opcija2==4)break;
               if(opcija2==1){
                    for(int i=0;i&lt;1;i++){
                   try {
                   cout&lt;&lt;"Unesite ime i prezime kupca: ";
                   string im;
                   cin.ignore(10000,'\n');
                   getline(cin,im);
                   cout&lt;&lt;"Unesite datum rodjenja (formata d/m/g): ";
                   int day,month,year;char znak1,znak2;
                   cin&gt;&gt;day&gt;&gt;znak1&gt;&gt;month&gt;&gt;znak2&gt;&gt;year;
                   Datum d(day,month,year);
                   Kupac ku(im,d);
                   kupci.push_back(ku);
                   }
                   catch(domain_error e){
                       cout&lt;&lt;"Izuzetak: "&lt;&lt;e.what()&lt;&lt;". Molimo unesite opet."&lt;&lt;endl;i--;
                   }   
                }
                cout&lt;&lt;"Kupac je uspjesno dodan!"&lt;&lt;endl;
               }
               if(opcija2==2){
                   cout&lt;&lt;"Odaberite kupca kojeg zelite urediti. Dostupni kupci su:"&lt;&lt;endl;
                   for(int i=0;i&lt;kupci.size();i++){
                       cout&lt;&lt;" "&lt;&lt;i+1&lt;&lt;" - ";kupci[i].Ispisi();cout&lt;&lt;endl;
                   }
                   int indeks;cin&gt;&gt;indeks;
                   for(int i=0;i&lt;1;i++){
                   try {
                   cout&lt;&lt;"Unesite ime i prezime kupca: ";
                   string im;
                   cin.ignore(10000,'\n');
                   getline(cin,im);
                   cout&lt;&lt;"Unesite datum rodjenja (formata d/m/g): ";
                   int day,month,year;char znak1,znak2;
                   cin&gt;&gt;day&gt;&gt;znak1&gt;&gt;month&gt;&gt;znak2&gt;&gt;year;
                   Datum d(day,month,year);
                   Kupac ku(im,d);
                   kupci[indeks-1].Postavi(im,d);
                   }
                   catch(domain_error e){
                       cout&lt;&lt;"Izuzetak: "&lt;&lt;e.what()&lt;&lt;". Molimo unesite opet."&lt;&lt;endl;i--;
                   }   
                }
                cout&lt;&lt;"Kupac je uspjesno izmijenjen!"&lt;&lt;endl;
            }
               if(opcija2==3){
                   for(int i=0;i&lt;kupci.size();i++){
                       kupci[i].Ispisi();cout&lt;&lt;endl;
                   }
               }
           }
           if(opcija2==4)break;
       }
       if(opcija==3){
           for(;;){
            cout&lt;&lt;"Izaberite opciju:"&lt;&lt;endl;
            cout&lt;&lt;" 0 - nazad"&lt;&lt;endl&lt;&lt;" 1 - dodavanje prodaje"&lt;&lt;endl&lt;&lt;" 2 - uredjivanje prodaje"&lt;&lt;endl&lt;&lt;" 3 - ispis prodaja"&lt;&lt;endl&lt;&lt;" 4 - brisanje prodaja"&lt;&lt;endl&lt;&lt;" 5 - kraj"&lt;&lt;endl;
            cin&gt;&gt;opcija2;int opcija3;
            if(opcija2==1){
                 for(;;){
                    cout&lt;&lt;"Izaberite opciju:"&lt;&lt;endl&lt;&lt;" 0 - nazad"&lt;&lt;endl&lt;&lt;" 1 - dodavanje potpuno nove prodaje"&lt;&lt;endl&lt;&lt;" 2 - dodavanje nove prodaje na osnovu arhive"&lt;&lt;endl&lt;&lt;" 3 - kraj"&lt;&lt;endl;
                    cin&gt;&gt;opcija3;
                    if(opcija3==0 || opcija3==3)break;
                if(opcija3==1){
                    for(int i=0;i&lt;1;i++){
                        try {
                    cout&lt;&lt;"Unesite ime i prezime agenta prodaje: ";
                    string ago;cin.ignore(10000,'\n');
                    getline(cin,ago);
                    cout&lt;&lt;"Unesite datum prodaje (formata d/m/g): ";
                    int e,f,k;char z1,z2;
                    cin&gt;&gt;e&gt;&gt;z1&gt;&gt;f&gt;&gt;z2&gt;&gt;k;
                    cout&lt;&lt;"Unesite cijenu stana: ";
                    double pare;cin&gt;&gt;pare;
                    cout&lt;&lt;"Unesite ime kupca: ";
                    string majmun;
                    cin.ignore(10000,'\n');
                    getline(cin,majmun);
                    cout&lt;&lt;"Unesite datum rodjenja kupca (formata d/m/g): ";
                    int x1,x2,x3;char y1,y2;
                    cin&gt;&gt;x1&gt;&gt;y1&gt;&gt;x2&gt;&gt;y2&gt;&gt;x3;
                    cout&lt;&lt;"Unesite adresu: ";
                    string s1;cin.ignore(1000,'\n');
                    getline(cin,s1);
                    cout&lt;&lt;"Unesite sprat: ";
                    int spratko;cin&gt;&gt;spratko;
                    cout&lt;&lt;"Unesite broj soba: ";
                    int sobicak;cin&gt;&gt;sobicak;
                    cout&lt;&lt;"Da li je stan namjesten (1 - da, 0 - ne): ";
                    int namko;cin&gt;&gt;namko;
                    cout&lt;&lt;"Unesite kvadraturu: ";
                    double kvadratici;cin&gt;&gt;kvadratici;
                    if(namko!=0 &amp;&amp; namko!=1)throw domain_error("Neispravan unos podataka");
                    kupci.push_back(Kupac(majmun,Datum(x1,x2,x3)));
                    stanovi.push_back(Stan(s1,spratko,sobicak,namko,kvadratici));
                    lujka.RegistrirajProdaju(ago,pare,e,f,k,majmun,Datum(x1,x2,x3),s1,spratko,sobicak,namko,kvadratici);
                    }
                    catch(domain_error e){
                         cout&lt;&lt;"Izuzetak: "&lt;&lt;e.what()&lt;&lt;". Molimo unesite opet."&lt;&lt;endl;i--;
                    }
                    catch(range_error e){
                         cout&lt;&lt;"Izuzetak: "&lt;&lt;e.what()&lt;&lt;". Molimo unesite opet."&lt;&lt;endl;i--;
                    }
                  }
                  cout&lt;&lt;"Prodaja uspjesno dodana!"&lt;&lt;endl;
                }
                if(opcija3==2){
                    for(int i=0;i&lt;1;i++){
                    try {
                    cout&lt;&lt;"Unesite ime i prezime agenta prodaje: ";
                    string ago;cin.ignore(10000,'\n');
                    getline(cin,ago);
                    cout&lt;&lt;"Unesite datum prodaje (formata d/m/g): ";
                    int e,f,k;char z1,z2;
                    cin&gt;&gt;e&gt;&gt;z1&gt;&gt;f&gt;&gt;z2&gt;&gt;k;
                    cout&lt;&lt;"Unesite cijenu stana: ";
                    double pare;cin&gt;&gt;pare;
                    cout&lt;&lt;"Odaberite kupca. Dostupni kupci su:"&lt;&lt;endl;
<a name="13"></a><font color="#00FFFF"><a href="match221-0.html#13" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_0.gif"/></a>

                    for(int i=0;i&lt;kupci.size();i++){
                        cout&lt;&lt;i+1&lt;&lt;" - ";kupci[i].Ispisi();cout&lt;&lt;endl;
</font>                    }
                    int indeks_kupca;cin&gt;&gt;indeks_kupca;
                    cout&lt;&lt;"Odaberite stan. Dostupni stanovi su:"&lt;&lt;endl;
                    for(int i=0;i&lt;stanovi.size();i++){
                        cout&lt;&lt;" "&lt;&lt;i+1&lt;&lt;" - ";stanovi[i].Ispisi();cout&lt;&lt;endl;
                    }
                    int indeks_stana;cin&gt;&gt;indeks_stana;
                    lujka.RegistrirajProdaju(ago,pare,Datum(e,f,k),kupci[indeks_kupca-1],stanovi[indeks_stana-1]);
                    }
                    catch(domain_error e){
                         cout&lt;&lt;"Izuzetak: "&lt;&lt;e.what()&lt;&lt;". Molimo unesite opet."&lt;&lt;endl;i--;
                    }
                    catch(range_error e){
                         cout&lt;&lt;"Izuzetak: "&lt;&lt;e.what()&lt;&lt;". Molimo unesite opet."&lt;&lt;endl;i--;
                    }
                  }
                  cout&lt;&lt;"Prodaja uspjesno dodana!"&lt;&lt;endl;
                }
              }
             }
             if(opcija2==2){
                 cout&lt;&lt;"Odaberite prodaju koju zelite urediti. Dostupne prodaje su:"&lt;&lt;endl;
                 for(int i=0;i&lt;lujka.DajBrojProdaja();i++){
                     //if(lujka.DajProdaju(i)==nullptr)continue;
                     cout&lt;&lt;i+1&lt;&lt;"."&lt;&lt;endl;
                     //if(lujka.DajProdaju(i)==nullptr)continue;
                     lujka.DajProdaju(i).Ispisi();cout&lt;&lt;endl;
                 }
                 int indeks_prod;cin&gt;&gt;indeks_prod;
                 cout&lt;&lt;"Izaberite opciju: "&lt;&lt;endl&lt;&lt;" 0 - nazad"&lt;&lt;endl&lt;&lt;" 1 - izmjena agenta"&lt;&lt;endl&lt;&lt;" 2 - izmjena datuma prodaje"&lt;&lt;endl&lt;&lt;" 3 - izmjena kupca"&lt;&lt;endl&lt;&lt;" 4 - izmjena stana"&lt;&lt;endl&lt;&lt;" 5 - izmjena cijene stana"&lt;&lt;endl;
                 int opcija3;cin&gt;&gt;opcija3;
                 if(opcija3==0)break;
                 if(opcija3==1){
                     cout&lt;&lt;"Unesite ime i prezime agenta prodaje: ";
                     string ime;cin.ignore(1000,'\n');
                     getline(cin,ime);
                     lujka.DajProdaju(indeks_prod-1).PromijeniAgenta(ime);
                     cout&lt;&lt;"Prodaja je uspjesno izmijenjena!"&lt;&lt;endl;
                 }
                 if(opcija3==2){
                     for(int i=0;i&lt;1;i++){
                         try {
                     cout&lt;&lt;"Unesite datum prodaje (formata d/m/g): ";
                     int di,mi,gi;char t1,t2;cin&gt;&gt;di&gt;&gt;t1&gt;&gt;mi&gt;&gt;t2&gt;&gt;gi;
                     lujka.DajProdaju(indeks_prod-1).PromijeniDatumKupovine(Datum(di,mi,gi));
                             
                         }
                         catch(domain_error e){
                          cout&lt;&lt;"Izuzetak: "&lt;&lt;e.what()&lt;&lt;". Molimo unesite opet."&lt;&lt;endl;i--; 
                         }
                     }
                     cout&lt;&lt;"Prodaja je uspjesno izmijenjena!"&lt;&lt;endl;
                 }
                 if(opcija3==3){
                     cout&lt;&lt;"Izaberite opciju:"&lt;&lt;endl&lt;&lt;"0 - nazad"&lt;&lt;endl&lt;&lt;"1 - odabir postojeceg kupca"&lt;&lt;endl&lt;&lt;"2 - dodavanje novog kupca"&lt;&lt;endl;
                     int opcija4;cin&gt;&gt;opcija4;
                     if(opcija4==0)break;
                     if(opcija4==1){
                         cout&lt;&lt;"Odaberite kupca. Dostupni kupci su:"&lt;&lt;endl;
                         for(int i=0;i&lt;kupci.size();i++){
                             cout&lt;&lt;i+1&lt;&lt;" - ";kupci[i].Ispisi();cout&lt;&lt;endl;
                         }
                         int indeks_kupca;cin&gt;&gt;indeks_kupca;
                         lujka.DajProdaju(indeks_prod-1).PromijeniKupca(Kupac(kupci[indeks_kupca-1].DajImePrezime(),kupci[indeks_kupca-1].DajDatumRodjenja()));
                         cout&lt;&lt;"Prodaja je uspjesno izmijenjena!"&lt;&lt;endl;
                     }
                     if(opcija4==2){
                     for(int i=0;i&lt;1;i++){
                     try {
                     cout&lt;&lt;"Unesite ime i prezime kupca: ";
                     string ime;cin.ignore(1000,'\n');
                     getline(cin,ime);
                     cout&lt;&lt;"Unesite datum rodjenja (formata dan/mjesec/godina): ";
                     int d,m,g;char r,t;cin&gt;&gt;d&gt;&gt;r&gt;&gt;m&gt;&gt;t&gt;&gt;g;
                     kupci.push_back(Kupac(ime,Datum(d,m,g)));
                     lujka.DajProdaju(indeks_prod-1).PromijeniKupca(Kupac(ime,Datum(d,m,g)));
                      } 
                      catch(domain_error e){
                          cout&lt;&lt;"Izuzetak: "&lt;&lt;e.what()&lt;&lt;". Molimo unesite opet."&lt;&lt;endl;i--; 
                         }
                     }
                     cout&lt;&lt;"Prodaja je uspjesno izmijenjena!"&lt;&lt;endl;
                         
                     }
                 }
                 if(opcija3==4){
                     cout&lt;&lt;"Izaberite opciju:"&lt;&lt;endl&lt;&lt;" 0 - nazad"&lt;&lt;endl&lt;&lt;" 1 - odabir postojeceg stana"&lt;&lt;endl&lt;&lt;" 2 - dodavanje novog stana"&lt;&lt;endl;
                     int opcija4;cin&gt;&gt;opcija4;
                     if(opcija4==0)break;
                     if(opcija4==1){
                         cout&lt;&lt;"Odaberite stan. Dostupni stanovi su:"&lt;&lt;endl;
                         for(int i=0;i&lt;stanovi.size();i++){
                             cout&lt;&lt;" "&lt;&lt;i+1&lt;&lt;" - ";stanovi[i].Ispisi();cout&lt;&lt;endl;
                         }
                         int indeks_stana;cin&gt;&gt;indeks_stana;
                         lujka.DajProdaju(indeks_prod-1).PromijeniStan(stanovi[indeks_stana-1]);
                         cout&lt;&lt;"Prodaja je uspjesno izmijenjena!"&lt;&lt;endl;
                     }
                     if(opcija4==2){
                         for(int i=0;i&lt;1;i++){
                   try {
                   cout&lt;&lt;"Unesite adresu: ";
                   string adr;
                   cin.ignore(10000,'\n');
                   getline(cin,adr);
                   cout&lt;&lt;"Unesite sprat: ";
                   int s;cin&gt;&gt;s;
                   cout&lt;&lt;"Unesite broj soba: ";
                   int br;cin&gt;&gt;br;
                   cout&lt;&lt;"Da li je stan namjesten (1 - da, 0 - ne): ";
                   int y;cin&gt;&gt;y;
                   cout&lt;&lt;"Unesite kvadraturu: ";
                   double k;cin&gt;&gt;k;
                   if(y!=0 &amp;&amp; y!=1)throw domain_error("Neispravan unos podataka");
                   stanovi.push_back(Stan(adr,s,br,y,k));
                   lujka.DajProdaju(indeks_prod-1).PromijeniStan(Stan(adr,s,br,y,k));
                   }
                   catch(domain_error e){
                       cout&lt;&lt;"Izuzetak: "&lt;&lt;e.what()&lt;&lt;". Molimo unesite opet."&lt;&lt;endl;i--;
                   }   
                }
                cout&lt;&lt;"Prodaja je uspjesno izmijenjena!"&lt;&lt;endl;
                     }
                 }
                 if(opcija3==5){
                     for(int i=0;i&lt;1;i++){
                         try {
                             cout&lt;&lt;"Unesite cijenu stana: ";
                             double cj;cin&gt;&gt;cj;
                             lujka.DajProdaju(indeks_prod-1).PromijeniCijenuProdaje(cj);
                         }
                         catch(domain_error e){
                             cout&lt;&lt;"Izuzetak: "&lt;&lt;e.what()&lt;&lt;". Molimo unesite opet."&lt;&lt;endl;i--; 
                         }
                     }
                     cout&lt;&lt;"Prodaja je uspjesno izmijenjena!"&lt;&lt;endl;
                 }
             }
             if(opcija2==3){
                 cout&lt;&lt;"Izaberite opciju:"&lt;&lt;endl&lt;&lt;" 0 - nazad"&lt;&lt;endl&lt;&lt;" 1 - ispis svih prodaja"&lt;&lt;endl&lt;&lt;" 2 - ispis prodaja na datum"&lt;&lt;endl&lt;&lt;" 3 - ispis najranije prodaje"&lt;&lt;endl&lt;&lt;" 4 - ispis najskuplje prodaje"&lt;&lt;endl&lt;&lt;" 5 - ispis broja prodaja"&lt;&lt;endl&lt;&lt;" 6 - ispis broja prodaja po datumu"&lt;&lt;endl&lt;&lt;" 7 - ispis broja prodaja po agentu"&lt;&lt;endl&lt;&lt;" 8 - kraj"&lt;&lt;endl;
                 int opcija3;cin&gt;&gt;opcija3;
                 if(opcija3==8 || opcija3==0)break;
                 if(opcija3==1){lujka.IspisiSveProdaje();}
                 if(opcija3==2){
                     cout&lt;&lt;"Unesite datum (d/m/g): ";
                     int d,m,g;char z1,z2;
                     cin&gt;&gt;d&gt;&gt;z1&gt;&gt;m&gt;&gt;z2&gt;&gt;g;
                     cout&lt;&lt;"Prodaje na datum ";Datum(d,m,g).Ispisi();cout&lt;&lt;" su :"&lt;&lt;endl;
                     lujka.IspisiProdajeNaDatum(Datum(d,m,g));
                 }
                 if(opcija3==3){
                     cout&lt;&lt;endl;lujka.DajNajranijuProdaju().Ispisi();
                 }
                 if(opcija3==4){
                     cout&lt;&lt;endl;lujka.DajNajskupljuProdaju().Ispisi();
                 }
                 if(opcija3==5){
                     cout&lt;&lt;"Broj prodaja: "&lt;&lt;lujka.DajBrojProdaja();
                 }
                 if(opcija3==6){
                     cout&lt;&lt;"Unesite datum (d/m/g): ";
                     int d,m,g;char z1,z2;
                     cin&gt;&gt;d&gt;&gt;z1&gt;&gt;m&gt;&gt;z2&gt;&gt;g;
                     cout&lt;&lt;"Broj prodaja na uneseni datum: "&lt;&lt;lujka.DajBrojProdajaNaDatum(Datum(d,m,g));
                 }
                 if(opcija3==7){
                     cout&lt;&lt;"Unesite ime agenta: ";
                     string ime;cin.ignore(1000,'\n');
                     getline(cin,ime);
                     cout&lt;&lt;"Broj prodaja: "&lt;&lt;lujka.DajBrojProdajaOdAgenta(ime);
                 }
             }
             if(opcija2==4){
                 for(;;){
                     try {
                 cout&lt;&lt;"Izaberite opciju:"&lt;&lt;endl&lt;&lt;" 0 - nazad"&lt;&lt;endl&lt;&lt;" 1 - brisanje najranije ponude"&lt;&lt;endl&lt;&lt;" 2 - brisanje prodaja agenta"&lt;&lt;endl&lt;&lt;" 3 - brisanje prodaja po datumu"&lt;&lt;endl&lt;&lt;" 4 - brisanje svih prodaja"&lt;&lt;endl;
                 int opcija3;cin&gt;&gt;opcija3;
                 if(opcija3==0)break;
                 if(opcija3==1){
                     lujka.ObrisiNajranijuProdaju();cout&lt;&lt;"Najranija prodaja je obrisana!"&lt;&lt;endl;
                 }
                 if(opcija3==2){
                     cout&lt;&lt;"Unesite ime agenta: ";
                     string ime;cin.ignore(1000,'\n');
                     getline(cin,ime);
                     lujka.ObrisiProdajeAgenta(ime);
                     cout&lt;&lt;"Sve prodaje tog agenta su obrisane.";
                 } 
                 if(opcija3==3){
                     cout&lt;&lt;"Unesite datum: ";
                     int d,m,g;char z1,z2;
                     cin&gt;&gt;d&gt;&gt;z1&gt;&gt;m&gt;&gt;z2&gt;&gt;g;
                     lujka.ObrisiProdajeNaDatum(Datum(d,m,g));
                     cout&lt;&lt;"Sve prodaje na taj datum su obrisane."&lt;&lt;endl;
                 }
                 if(opcija3==4){
                     lujka.IsprazniKolekciju();
                     cout&lt;&lt;"Sve prodaje su obrisane."&lt;&lt;endl;
                 }
                 }
                 catch(range_error r){
                     cout&lt;&lt;"Izuzetak: "&lt;&lt;r.what()&lt;&lt;endl;
                 }
               }
             }
             if(opcija2==5 || opcija2==0 || opcija3==8 || opcija3==3)break;
           }
           if(opcija2==5)break;
       }
        
    }
    cout&lt;&lt;"Dovidjenja!";
  	return 0;
}</pre>
</body>
</html>
