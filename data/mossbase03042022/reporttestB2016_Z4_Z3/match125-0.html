<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z3/student7119.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z3/student7119.cpp<p></p><pre>
<a name="4"></a><font color="#FF00FF"><a href="match125-1.html#4" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_2.gif"/></a>

/B 2016/2017, ZadaÄ‡a 4, Zadatak 3
//Napomena: testovi ce biti dostupni dan pred rok!
#include &lt;iostream&gt;
#include &lt;stdexcept&gt;
#include &lt;string&gt;
#include &lt;iomanip&gt;
#include &lt;algorithm&gt;
 class Datum {
     int d,m,g;
     public:
    Datum(int dan, int mjesec, int godina) {
        Postavi(dan,mjesec,godina);
    }
    void Postavi(int dan, int mjesec, int godina) {
        
       
    int broj_dana[12]{31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31};
</font>    if(godina % 4 == 0 &amp;&amp; (godina % 100 != 0 || godina % 400 == 0))
        broj_dana[1]++;
<a name="0"></a><font color="#FF0000"><a href="match125-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_27.gif"/></a>

    if(godina &lt; 1 || mjesec &lt; 1 || mjesec &gt; 12 || dan &lt; 1 || dan &gt; broj_dana[mjesec - 1])
        throw std::domain_error("Neispravan datum!");
        
        else {
            d=dan;
            m=mjesec;
            g=godina;
        }
        
    }
    int DajDan() const {
        return d;
    }
    int DajMjesec() const {
        return m;
    }
    int DajGodinu() const {
        return g;
    }
    void Ispisi() const {
        std::cout&lt;&lt;DajDan()&lt;&lt;"/"&lt;&lt;DajMjesec()&lt;&lt;"/"&lt;&lt;DajGodinu();
    }
};

class Kupac {
    Datum d;
    std::string ime_i_prezime;
    public:
    Kupac(const std::string &amp;ime_i_prezime, const Datum &amp;datum_rodjenja):d(datum_rodjenja) {
       for(int i(0);i&lt;ime_i_prezime.length();i++) {
           //ubacit uslov za broj
            if(ime_i_prezime[i]&lt;65 &amp;&amp; ime_i_prezime[i]&gt;122 &amp;&amp; ime_i_prezime[i]!=' ' &amp;&amp; ime_i_prezime[i]!='-' &amp;&amp; ime_i_prezime[i]!=39 ) throw std::domain_error ("Neispravno ime i prezime");
            
        }
        this-&gt;ime_i_prezime=ime_i_prezime;
    }
    void Postavi(const std::string &amp;ime_i_prezime, const Datum &amp;datum_rodjenja) {
        d=datum_rodjenja;
        
        this-&gt;ime_i_prezime=ime_i_prezime;
    }
    std::string DajImePrezime() const {
        return ime_i_prezime;
    }
    Datum DajDatumRodjenja() const {
        return d;
    }
    void Ispisi() const {
        std::cout&lt;&lt;ime_i_prezime&lt;&lt;"(";
        d.Ispisi();
        std::cout&lt;&lt;")";
    }

};
class Stan {
    std::string adresa;
    int sprat;
    int broj_soba;
    bool namjesten;
    double kvadratura;
    public:
    Stan(const std::string &amp;adresa, int sprat, int broj_soba, bool namjesten, double kvadratura) {
         if(sprat&lt;0 || broj_soba&lt;0 || kvadratura&lt;0) throw std::domain_error ("Neispravan unos podataka");
        else  {
            this-&gt;adresa=adresa;
            this-&gt;sprat=sprat;
            this-&gt;broj_soba=broj_soba;
            this-&gt;namjesten=namjesten;
            this-&gt;kvadratura=kvadratura;
        }
    }
    void Postavi(const std::string &amp;adresa, int sprat, int broj_soba, bool namjesten, double kvadratura) {
        if(sprat&lt;0 || broj_soba&lt;0 || kvadratura&lt;0) throw std::domain_error ("Neispravan unos podataka");
        else  {
            this-&gt;adresa=adresa;
            this-&gt;sprat=sprat;
            this-&gt;broj_soba=broj_soba;
            this-&gt;namjesten=namjesten;
            this-&gt;kvadratura=kvadratura;
        }
        
    }
    std::string DajAdresu() const {
        return adresa;
    }
    int DajSprat() const {
        return sprat;
    }
    int DajBrojSoba() const {
        return broj_soba;
    }
    bool DajNamjesten() const {
        return namjesten;
    }
    double DajKvadraturu() const {
        return kvadratura;
    }
    void Ispisi() const {
        std::cout&lt;&lt;"Stan se nalazi na adresi"&lt;&lt;DajAdresu()&lt;&lt;"na"&lt;&lt;DajSprat()&lt;&lt;". spratu i ima ";
        if(broj_soba%10==1 &amp;&amp; broj_soba!=11) std::cout&lt;&lt;broj_soba&lt;&lt;" sobu";
        else if(broj_soba%10==2 &amp;&amp; broj_soba!=12) std::cout&lt;&lt;broj_soba&lt;&lt;" sobe";
        else if(broj_soba%10==3 &amp;&amp; broj_soba!=13) std::cout&lt;&lt;broj_soba&lt;&lt;" sobe";
        else if(broj_soba%10==4 &amp;&amp; broj_soba!=14) std::cout&lt;&lt;broj_soba&lt;&lt;" sobe";
        else if(broj_soba%10==5 ) std::cout&lt;&lt;broj_soba&lt;&lt;" soba";
        else std::cout&lt;&lt;broj_soba&lt;&lt;" soba.";
        std::cout&lt;&lt;std::endl;
        std::cout&lt;&lt;" Kvadratura stana je "&lt;&lt;kvadratura&lt;&lt;" i stan ";
        if(namjesten)std::cout&lt;&lt;"je namjesten";
        else std::cout&lt;&lt;"nije namjesten";
     }

};

class Prodaja {
    std::string ime_agenta_prodaje;
    double cijena_stana;
    Datum datum_prodaje;
    Kupac kupac_stana;
    Stan kupljeni_stan;
    public:
    Prodaja(const std::string &amp;ime_agenta_prodaje, double cijena_stana,const Datum &amp;datum_prodaje, const Kupac &amp;kupac_stana,const Stan &amp;kupljeni_stan):datum_prodaje(datum_prodaje),kupac_stana(kupac_stana),kupljeni_stan(kupljeni_stan) {
</font><a name="5"></a><font color="#FF0000"><a href="match125-1.html#5" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_2.gif"/></a>

      this-&gt;ime_agenta_prodaje=ime_agenta_prodaje;
        this-&gt;cijena_stana=cijena_stana;
       // this-&gt;datum_prodaje=datum_prodaje;
       // this-&gt;kupac_stana=kupac_stana;
       // this-&gt;kupljeni_stan=kupljeni_stan;
    }
    Prodaja(const std::string &amp;ime_agenta_prodaje, double cijena_stana,int dan_prodaje, int mjesec_prodaje, int godina_prodaje, std::string &amp;ime_kupca, const Datum &amp;datum_rodjenja_kupca,const std::string &amp;adresa_stana, int sprat_stana, int broj_soba,bool namjesten_stan, double broj_kvadrata): datum_prodaje(dan_prodaje,mjesec_prodaje,godina_prodaje), kupac_stana(ime_kupca,datum_rodjenja_kupca),kupljeni_stan(adresa_stana,sprat_stana,broj_soba,namjesten_stan,broj_kvadrata){
</font><a name="3"></a><font color="#00FFFF"><a href="match125-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_2.gif"/></a>

        this-&gt;ime_agenta_prodaje=ime_agenta_prodaje;
        this-&gt;cijena_stana=cijena_stana;
        //datum_prodaje.Postavi(dan_prodaje,mjesec_prodaje,godina_prodaje);
        //kupac_stana.Postavi(ime_kupca,datum_rodjenja_kupca);
        //kupljeni_stan.Postavi(adresa_stana,sprat_stana,broj_soba,namjesten_stan,broj_kvadrata);
    }
    void PromijeniKupca(const Kupac &amp;novi_kupac) {
        kupac_stana=novi_kupac;
    }
    void PromijeniStan(const Stan &amp;novi_stan)   {
        kupljeni_stan=novi_stan;
    }
    void PromijeniDatumKupovine(const Datum &amp;novi_datum){
</font>        datum_prodaje=novi_datum;
    }
    void PromijeniCijenuProdaje(const double &amp;nova_cijena) {
        cijena_stana=nova_cijena;
    }
    void PomjeriDanUnaprijed();
    void PomjeriDanUnazad();
    std::string DajImeAgenta() const {
        return ime_agenta_prodaje;
    }
    std::string DajImeKupca() const {
        return kupac_stana.DajImePrezime();
    }
<a name="1"></a><font color="#00FF00"><a href="match125-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_25.gif"/></a>

    Datum DajDatumProdaje() const {
        return datum_prodaje;
    }
    double DajCijenuStana() const {
        return cijena_stana;
    }
    friend bool ProdatPrije(const Prodaja &amp;p1, const Prodaja &amp;p2) {
        Datum d1=p1.DajDatumProdaje();
        Datum d2=p2.DajDatumProdaje();
        if(d1.DajGodinu()&lt;d2.DajGodinu())return true;
        if(d1.DajGodinu()&gt;d2.DajGodinu()) return false;
        if(d1.DajMjesec()&lt;d2.DajMjesec()) return true;
        if(d1.DajMjesec()&gt;d2.DajMjesec()) return false;
        if(d1.DajDan()&lt;d2.DajDan()) return  true;
         return  false;
        
        
    }
    friend bool SkupljiStan(const Prodaja &amp;p1, const Prodaja &amp;p2) {
        double cijena1=p1.DajCijenuStana();
        double cijena2=p2.DajCijenuStana();
        if(cijena1&lt;cijena2) return true;
        else return false;
    }
    void Ispisi() const;
};
void Prodaja::PomjeriDanUnaprijed()  {
    
    int dan,mjesec, godina;
    dan=datum_prodaje.DajDan();
    mjesec=datum_prodaje.DajMjesec();
    godina=datum_prodaje.DajGodinu();
    int broj_dana[12]{31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31};
    if(godina % 4 == 0 &amp;&amp;( godina % 100 != 0 || godina % 400 == 0))
    broj_dana[1]++;
    dan+=1;
    if(dan&gt;broj_dana[mjesec-1]) {
        dan=1;
        mjesec++;
        if(mjesec&gt;12) {
            godina++;
        }
    }
    datum_prodaje.Postavi(dan,mjesec,godina);
}
void Prodaja::PomjeriDanUnazad() {
    
    int dan,mjesec,godina;
    dan=datum_prodaje.DajDan();
    mjesec=datum_prodaje.DajMjesec();
    godina=datum_prodaje.DajGodinu();
    int broj_dana[12]{31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31};
    if(godina % 4 == 0 &amp;&amp;( godina % 100 != 0 || godina % 400 == 0))
    broj_dana[1]++;
    dan--;
    if(dan==0) {
        bool da(true);
        mjesec--;
        if(mjesec==0) {
            mjesec=12;
            godina--;
            dan=31;
            da=false;
        }
        if(da) {
            dan=broj_dana[mjesec-2];
        }
    }
     datum_prodaje.Postavi(dan,mjesec,godina);
   
}
void Prodaja::Ispisi() const {
    std::cout&lt;&lt;std::setw(30)&lt;&lt;"Ime agenta: "&lt;&lt;std::setw(30)&lt;&lt;DajImeAgenta();
    std::cout&lt;&lt;std::setw(30)&lt;&lt;"Ime kupca: "&lt;&lt;std::setw(30)&lt;&lt;DajImeKupca();
    std::cout&lt;&lt;std::setw(30)&lt;&lt;"Zakazani datum prodaje: "&lt;&lt;std::setw(30);
    DajDatumProdaje().Ispisi();
    std::cout&lt;&lt;std::setw(30)&lt;&lt;"Cijena stana: "&lt;&lt;std::setw(30)&lt;&lt;DajCijenuStana();
    std::cout&lt;&lt;"Informacije o stanu:"&lt;&lt;std::endl;
    kupljeni_stan.Ispisi();
}
class Prodaje {
    Prodaja ** niz;
    int max_broj_prodaja, broj_prodaja;
    void Alociraj();
   
    public:
    explicit Prodaje(int max_broj_prodaja);
    Prodaje(std::initializer_list&lt;Prodaja&gt; spisak_prodaja);
    ~Prodaje() {IsprazniKolekciju() ; };
    
    Prodaje(const Prodaje &amp;prodaje); //gotova
    Prodaje(Prodaje &amp;&amp;prodaje); //gotova
    Prodaje &amp;operator =(const Prodaje &amp;prodaje); //gotova;
    Prodaje &amp;operator =(Prodaje &amp;&amp;prodaje);//gotova
</font>    void RegistrirajProdaju(const std::string &amp;ime_agenta_prodaje,
    double cijena_stana, const Datum &amp;datum_prodaje, const Kupac &amp;kupac_stana,
    const Stan &amp;kupljeni_stan);//gotova
    void RegistrirajProdaju(const std::string &amp;ime_agenta_prodaje,double cijena_stana, int dan_prodaje,
    int mjesec_prodaje, int godina_prodaje, std::string &amp;ime_kupca,
    const Datum &amp;datum_rodjenja_kupca, const std::string &amp;adresa_stana,
    int sprat_stana, int broj_soba, bool namjesten_stan, double broj_kvadrata); //gotova
    
    void RegistrirajProdaju(Prodaja *prodaja);// gotova
    int DajBrojProdaja() const {
        return broj_prodaja;
    } //gotova
    int DajBrojProdajaNaDatum(const Datum &amp;datum) const;
    int DajBrojProdajaOdAgenta(const std::string &amp;ime_agenta) const;
    Prodaja &amp;DajNajranijuProdaju();
    Prodaja DajNajranijuProdaju() const;
    Prodaja &amp;DajNajskupljuProdaju();
    Prodaja DajNajskupljuProdaju() const;
    void IsprazniKolekciju();
<a name="2"></a><font color="#0000FF"><a href="match125-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_24.gif"/></a>

    void ObrisiNajranijuProdaju();
    void ObrisiProdajeAgenta(const std::string &amp;ime_agenta); 
    void ObrisiProdajeNaDatum(const Datum &amp;datum);
    void IspisiProdajeNaDatum(const Datum &amp;datum) const;
    void IspisiSveProdaje() const;

};
void Prodaje::Alociraj() {
    niz=new Prodaja*[max_broj_prodaja];
    for(int i(0);i&lt;max_broj_prodaja;i++) {
        niz[i]=nullptr;
    }
}
void Prodaje::IsprazniKolekciju() {
    if(niz==nullptr) return;
    for(int i(0);i&lt;max_broj_prodaja;i++) {
        delete [] niz[i];
    }
    delete []niz;
    niz=nullptr;
    broj_prodaja=0;
}
Prodaje::Prodaje(std::initializer_list&lt;Prodaja&gt; spisak_prodaja):max_broj_prodaja(spisak_prodaja.size())  {
    Alociraj();
    broj_prodaja=0;
    try {
        for(auto it=spisak_prodaja.begin();it&lt;spisak_prodaja.end();it++) {
            niz[broj_prodaja]=new Prodaja(*it);
            broj_prodaja++;
        }
    }
        catch(std::bad_alloc) {
            IsprazniKolekciju();
            throw;
        }
    }
    


Prodaje::Prodaje(const Prodaje &amp; prodaje):max_broj_prodaja(prodaje.max_broj_prodaja){
    
    broj_prodaja=prodaje.broj_prodaja;
    Alociraj();
    try {
        for(int i(0);i&lt;broj_prodaja;i++) niz[i]=new Prodaja(*prodaje.niz[i]);
    }
    catch(std::bad_alloc) {
        IsprazniKolekciju();
        throw;
    }
}
Prodaje::Prodaje(Prodaje &amp;&amp;prodaje): max_broj_prodaja(prodaje.max_broj_prodaja) {
    broj_prodaja=prodaje.broj_prodaja;
    niz=prodaje.niz;
    prodaje.niz=nullptr;
    prodaje.broj_prodaja=0;
}
Prodaje&amp; Prodaje::operator =(const Prodaje &amp;prodaje) {
    if(&amp;prodaje!=this) {
        IsprazniKolekciju();
        max_broj_prodaja=prodaje.max_broj_prodaja;
        broj_prodaja=prodaje.broj_prodaja;
        Alociraj();
        for(int i(0);i&lt;broj_prodaja;i++) {
            niz[i]=new Prodaja(*(prodaje.niz[i]));
        }
    }
    return *this;
}
Prodaje &amp;Prodaje::operator =(Prodaje &amp;&amp;prodaje) {
    if(&amp;prodaje!=this) {
        IsprazniKolekciju();
        max_broj_prodaja=prodaje.max_broj_prodaja;
        broj_prodaja=prodaje.broj_prodaja;
        niz=prodaje.niz;
        prodaje.niz=nullptr;
        prodaje.max_broj_prodaja=0;
    }
    return *this;
}
void Prodaje::RegistrirajProdaju(const std::string &amp;ime_agenta_prodaje,
    double cijena_stana, const Datum &amp;datum_prodaje, const Kupac &amp;kupac_stana,
    const Stan &amp;kupljeni_stan) {
        if(broj_prodaja&gt;max_broj_prodaja) throw std::range_error ("Dostignut maksimalni broj prodaja");
        niz[broj_prodaja]=new Prodaja(ime_agenta_prodaje,cijena_stana,datum_prodaje,kupac_stana,kupljeni_stan);
        broj_prodaja++;
    }

void Prodaje::RegistrirajProdaju(const std::string &amp;ime_agenta_prodaje,double cijena_stana, int dan_prodaje,
    int mjesec_prodaje, int godina_prodaje, std::string &amp;ime_kupca,
    const Datum &amp;datum_rodjenja_kupca, const std::string &amp;adresa_stana,
    int sprat_stana, int broj_soba, bool namjesten_stan, double broj_kvadrata) {
        if(broj_prodaja&gt;max_broj_prodaja) throw std::range_error ("Dostignut maksimalni broj prodaja");
        niz[broj_prodaja]=new Prodaja(ime_agenta_prodaje,cijena_stana,dan_prodaje,mjesec_prodaje,godina_prodaje,ime_kupca,datum_rodjenja_kupca,adresa_stana,sprat_stana,
        broj_soba,namjesten_stan,broj_kvadrata);
        broj_prodaja++;
    }
    void Prodaje::RegistrirajProdaju(Prodaja *prodaja) {
        if(broj_prodaja&gt;max_broj_prodaja) throw std::range_error ("Dostignut maksimalni broj prodaja");
        niz[broj_prodaja]=prodaja;
        broj_prodaja++;
    }
  /* int Prodaje::DajBrojProdajaNaDatum(const Datum &amp;datum) const {
       
        return std::count_if(niz, niz+broj_prodaja, [](Prodaja *p){int dan, mjesec, godina; 
            Datum d=p-&gt;DajDatumProdaje();
            dan=d.DajDan();
            mjesec=d.DajMjesec();
            godina=d.DajGodinu();
            if(dan==datum.DajDan() &amp;&amp; mjesec==datum.DajMjesec() &amp;&amp; godina==datum.DajGodinu()) return true;
            else return false;
        });
    }*/
int main ()
{
    std::cout&lt;&lt;"Da";
</font>	return 0;
}</pre>
</body>
</html>
