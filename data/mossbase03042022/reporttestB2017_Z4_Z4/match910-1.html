<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z4/Z4/student6874.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z4/Z4/student8794.cpp<p></p><pre>
/B2017/2018: Zadaća 4, Zadatak 3
#include &lt;iostream&gt;
#include &lt;tuple&gt;
#include &lt;cstdlib&gt;
#include &lt;iomanip&gt;
#include &lt;stdexcept&gt;
#include &lt;algorithm&gt;
#include &lt;string&gt;
#include &lt;memory&gt;
#include &lt;vector&gt;
class Datum {

    public:
    int dan,mjesec,godina;
<a name="4"></a><font color="#FF00FF"><a href="match910-0.html#4" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_1.gif"/></a>

    void Postavi(int dan, int mjesec, int godina){
        int broj_dana[] {31,28,31,30,31,30,31,31,30,31,30,31};
        if (godina%4==0 || godina%100 !=0 || godina%400==0) broj_dana[1]++;
</font><a name="5"></a><font color="#FF0000"><a href="match910-0.html#5" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_1.gif"/></a>

        if(godina&lt;1 || dan&lt;1 ||mjesec&lt;1|| mjesec&gt;12 ||dan&gt;broj_dana[mjesec-1]) throw std::domain_error ("Neispravan datum");

        Datum::dan=dan;
        Datum::mjesec=mjesec;
        Datum::godina=godina;
    }
    std::tuple&lt;int, int, int&gt; Ocitaj() const{
</font>        std::tuple&lt;int, int, int&gt; k;
        std::get&lt;0&gt;(k)=Datum::dan;
        std::get&lt;1&gt;(k)=Datum::mjesec;
        std::get&lt;2&gt;(k)=Datum::godina;
        return k;
    }
    void Ispisi() const{

        std::cout&lt;&lt;Datum::dan&lt;&lt;"/"&lt;&lt;Datum::mjesec&lt;&lt;"/"&lt;&lt;Datum::godina;
    }
};

 class Vrijeme {

 public:
<a name="3"></a><font color="#00FFFF"><a href="match910-0.html#3" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_1.gif"/></a>

int sati,minute;
 void Postavi(int sati, int minute){
     if(sati&gt;23 || sati&lt;0 || minute&gt;59 || minute&lt;0) throw std::domain_error("Neispravno vrijeme");
     Vrijeme::sati=sati;
     Vrijeme::minute=minute;
 }
 std::pair&lt;int, int&gt; Ocitaj () const{
   auto par=std::make_pair(Vrijeme::sati,Vrijeme::minute);
</font>   return par;
 }
 void Ispisi() const{
     std::cout&lt;&lt;std::setprecision(2)&lt;&lt;Vrijeme::sati&lt;&lt;":"&lt;&lt;std::setprecision(2)&lt;&lt;Vrijeme::minute;
 }
 };

 class Pregled{

 std::string ime_pacijenta;
 Datum datum_pregleda;
 Vrijeme vrijeme_pregleda;
 public:
Pregled(const std::string &amp;ime_pacijenta, int dan_pregleda, int mjesec_pregleda, int godina_pregleda, int sati_pregleda, int minute_pregleda){
     Pregled::ime_pacijenta=ime_pacijenta;
     Pregled::datum_pregleda.Postavi(dan_pregleda,mjesec_pregleda,godina_pregleda);
<a name="6"></a><font color="#00FF00"><a href="match910-0.html#6" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_0.gif"/></a>

     Pregled::vrijeme_pregleda.Postavi(sati_pregleda,minute_pregleda);
 }

 void PromijeniPacijenta(const std::string &amp;ime_pacijenta){
     Pregled::ime_pacijenta=ime_pacijenta;
 }
 void PromijeniDatum(const Datum &amp;novi_datum){
      Pregled::datum_pregleda=novi_datum;
 }
 void PromijeniVrijeme(const Vrijeme &amp;novo_vrijeme){
     Pregled::vrijeme_pregleda=novo_vrijeme;
</font> }
 void PomjeriDanUnaprijed(){
  std::tuple&lt;int,int,int&gt; k(this-&gt;DajDatumPregleda().Ocitaj());
     if (!((std::get&lt;2&gt;(k)%4==0) || (std::get&lt;2&gt;(k)%100 !=0) || (std::get&lt;2&gt;(k)%400==0))) {

     if(std::get&lt;1&gt;(k)&lt;12) {
     if(std::get&lt;1&gt;(k)!=4 &amp;&amp; std::get&lt;1&gt;(k)!=6 &amp;&amp; std::get&lt;1&gt;(k)!=9 &amp;&amp;std::get&lt;1&gt;(k)!=11 &amp;&amp;std::get&lt;1&gt;(k)!=2 &amp;&amp; std::get&lt;0&gt;(k)&lt;31){
         std::get&lt;0&gt;(k)=std::get&lt;0&gt;(k)+1;

     }
     else if (std::get&lt;1&gt;(k)!=4 &amp;&amp; std::get&lt;1&gt;(k)!=6 &amp;&amp; std::get&lt;1&gt;(k)!=9 &amp;&amp;std::get&lt;1&gt;(k)!=11 &amp;&amp;std::get&lt;1&gt;(k)!=2 &amp;&amp; std::get&lt;0&gt;(k)==31){
          std::get&lt;1&gt;(k)=std::get&lt;1&gt;(k)+1;
          std::get&lt;0&gt;(k)=1;
     }
     else if(std::get&lt;1&gt;(k)==4 &amp;&amp; std::get&lt;1&gt;(k)==6 &amp;&amp; std::get&lt;1&gt;(k)==9 &amp;&amp;std::get&lt;1&gt;(k)==11 &amp;&amp; std::get&lt;0&gt;(k)&lt;30){
         std::get&lt;0&gt;(k)=std::get&lt;0&gt;(k)+1;
     }
     else if(std::get&lt;1&gt;(k)==4 &amp;&amp; std::get&lt;1&gt;(k)==6 &amp;&amp; std::get&lt;1&gt;(k)==9 &amp;&amp;std::get&lt;1&gt;(k)==11 &amp;&amp; std::get&lt;0&gt;(k)==30){
         std::get&lt;1&gt;(k)=std::get&lt;1&gt;(k)+1;
         std::get&lt;0&gt;(k)=1;
     }
     else if(std::get&lt;1&gt;(k)==2 &amp;&amp; std::get&lt;0&gt;(k)&lt;28){
         std::get&lt;0&gt;(k)=std::get&lt;0&gt;(k)+1;
     }
     else if(std::get&lt;1&gt;(k)==2 &amp;&amp; std::get&lt;0&gt;(k)==28){
         std::get&lt;1&gt;(k)=std::get&lt;1&gt;(k)+1;
         std::get&lt;0&gt;(k)=1;

          }

        }


     if(std::get&lt;1&gt;(k)==12) {
     if(std::get&lt;1&gt;(k)!=4 &amp;&amp; std::get&lt;1&gt;(k)!=6 &amp;&amp; std::get&lt;1&gt;(k)!=9 &amp;&amp;std::get&lt;1&gt;(k)!=11 &amp;&amp;std::get&lt;1&gt;(k)!=2 &amp;&amp; std::get&lt;0&gt;(k)&lt;31){
         std::get&lt;0&gt;(k)=std::get&lt;0&gt;(k)+1;

     }
     else if (std::get&lt;1&gt;(k)!=4 &amp;&amp; std::get&lt;1&gt;(k)!=6 &amp;&amp; std::get&lt;1&gt;(k)!=9 &amp;&amp;std::get&lt;1&gt;(k)!=11 &amp;&amp;std::get&lt;1&gt;(k)!=2 &amp;&amp; std::get&lt;0&gt;(k)==31){
          std::get&lt;2&gt;(k)=std::get&lt;2&gt;(k)+1;
          std::get&lt;1&gt;(k)=1;
     }
     else if(std::get&lt;1&gt;(k)==4 &amp;&amp; std::get&lt;1&gt;(k)==6 &amp;&amp; std::get&lt;1&gt;(k)==9 &amp;&amp;std::get&lt;1&gt;(k)==11 &amp;&amp; std::get&lt;0&gt;(k)&lt;30){
         std::get&lt;0&gt;(k)=std::get&lt;0&gt;(k)+1;
     }
     else if(std::get&lt;1&gt;(k)==4 &amp;&amp; std::get&lt;1&gt;(k)==6 &amp;&amp; std::get&lt;1&gt;(k)==9 &amp;&amp;std::get&lt;1&gt;(k)==11 &amp;&amp; std::get&lt;0&gt;(k)==30){
         std::get&lt;2&gt;(k)=std::get&lt;2&gt;(k)+1;
         std::get&lt;1&gt;(k)=1;
     }
     else if(std::get&lt;1&gt;(k)==2 &amp;&amp; std::get&lt;0&gt;(k)&lt;28){
         std::get&lt;0&gt;(k)=std::get&lt;0&gt;(k)+1;
     }
     else if(std::get&lt;1&gt;(k)==2 &amp;&amp; std::get&lt;0&gt;(k)==28){
         std::get&lt;2&gt;(k)=std::get&lt;2&gt;(k)+1;
         std::get&lt;1&gt;(k)=1;

          }
     }

     }

     if ((std::get&lt;2&gt;(k)%4==0) || (std::get&lt;2&gt;(k)%100 !=0) || (std::get&lt;2&gt;(k)%400==0)) {

     if(std::get&lt;1&gt;(k)&lt;12) {
     if(std::get&lt;1&gt;(k)!=4 &amp;&amp; std::get&lt;1&gt;(k)!=6 &amp;&amp; std::get&lt;1&gt;(k)!=9 &amp;&amp;std::get&lt;1&gt;(k)!=11 &amp;&amp;std::get&lt;1&gt;(k)!=2 &amp;&amp; std::get&lt;0&gt;(k)&lt;31){
         std::get&lt;0&gt;(k)=std::get&lt;0&gt;(k)+1;

     }
     else if (std::get&lt;1&gt;(k)!=4 &amp;&amp; std::get&lt;1&gt;(k)!=6 &amp;&amp; std::get&lt;1&gt;(k)!=9 &amp;&amp;std::get&lt;1&gt;(k)!=11 &amp;&amp;std::get&lt;1&gt;(k)!=2 &amp;&amp; std::get&lt;0&gt;(k)==31){
          std::get&lt;1&gt;(k)=std::get&lt;1&gt;(k)+1;
          std::get&lt;0&gt;(k)=1;
     }
     else if(std::get&lt;1&gt;(k)==4 &amp;&amp; std::get&lt;1&gt;(k)==6 &amp;&amp; std::get&lt;1&gt;(k)==9 &amp;&amp;std::get&lt;1&gt;(k)==11 &amp;&amp; std::get&lt;0&gt;(k)&lt;30){
         std::get&lt;0&gt;(k)=std::get&lt;0&gt;(k)+1;
     }
     else if(std::get&lt;1&gt;(k)==4 &amp;&amp; std::get&lt;1&gt;(k)==6 &amp;&amp; std::get&lt;1&gt;(k)==9 &amp;&amp;std::get&lt;1&gt;(k)==11 &amp;&amp; std::get&lt;0&gt;(k)==30){
         std::get&lt;1&gt;(k)=std::get&lt;1&gt;(k)+1;
         std::get&lt;0&gt;(k)=1;
     }
     else if(std::get&lt;1&gt;(k)==2 &amp;&amp; std::get&lt;0&gt;(k)&lt;29){
         std::get&lt;0&gt;(k)=std::get&lt;0&gt;(k)+1;
     }
     else if(std::get&lt;1&gt;(k)==2 &amp;&amp; std::get&lt;0&gt;(k)==29){
         std::get&lt;1&gt;(k)=std::get&lt;1&gt;(k)+1;
         std::get&lt;0&gt;(k)=1;

          }

     }

     if(std::get&lt;1&gt;(k)==12) {
     if(std::get&lt;1&gt;(k)!=4 &amp;&amp; std::get&lt;1&gt;(k)!=6 &amp;&amp; std::get&lt;1&gt;(k)!=9 &amp;&amp;std::get&lt;1&gt;(k)!=11 &amp;&amp;std::get&lt;1&gt;(k)!=2 &amp;&amp; std::get&lt;0&gt;(k)&lt;31){
         std::get&lt;0&gt;(k)=std::get&lt;0&gt;(k)+1;

     }
     else if (std::get&lt;1&gt;(k)!=4 &amp;&amp; std::get&lt;1&gt;(k)!=6 &amp;&amp; std::get&lt;1&gt;(k)!=9 &amp;&amp;std::get&lt;1&gt;(k)!=11 &amp;&amp;std::get&lt;1&gt;(k)!=2 &amp;&amp; std::get&lt;0&gt;(k)==31){
          std::get&lt;2&gt;(k)=std::get&lt;2&gt;(k)+1;
          std::get&lt;1&gt;(k)=1;
     }
     else if(std::get&lt;1&gt;(k)==4 &amp;&amp; std::get&lt;1&gt;(k)==6 &amp;&amp; std::get&lt;1&gt;(k)==9 &amp;&amp;std::get&lt;1&gt;(k)==11 &amp;&amp; std::get&lt;0&gt;(k)&lt;30){
         std::get&lt;0&gt;(k)=std::get&lt;0&gt;(k)+1;
     }
     else if(std::get&lt;1&gt;(k)==4 &amp;&amp; std::get&lt;1&gt;(k)==6 &amp;&amp; std::get&lt;1&gt;(k)==9 &amp;&amp;std::get&lt;1&gt;(k)==11 &amp;&amp; std::get&lt;0&gt;(k)==30){
         std::get&lt;2&gt;(k)=std::get&lt;2&gt;(k)+1;
         std::get&lt;1&gt;(k)=1;
     }
     else if(std::get&lt;1&gt;(k)==2 &amp;&amp; std::get&lt;0&gt;(k)&lt;28){
         std::get&lt;0&gt;(k)=std::get&lt;0&gt;(k)+1;
     }
     else if(std::get&lt;1&gt;(k)==2 &amp;&amp; std::get&lt;0&gt;(k)==28){
         std::get&lt;2&gt;(k)=std::get&lt;2&gt;(k)+1;
         std::get&lt;1&gt;(k)=1;

          }
     }
     }
     }
 void PomjeriDanUnazad(){
     std::tuple&lt;int,int,int&gt; k(this-&gt;DajDatumPregleda().Ocitaj());
     if (!((std::get&lt;2&gt;(k)%4==0) || (std::get&lt;2&gt;(k)%100 !=0) || (std::get&lt;2&gt;(k)%400==0))) {
     if(std::get&lt;0&gt;(k)&gt;1)  std::get&lt;0&gt;(k)=std::get&lt;0&gt;(k)-1;
     if(std::get&lt;0&gt;(k)==1) {
         if(std::get&lt;1&gt;(k) !=1)  std::get&lt;1&gt;(k)=std::get&lt;1&gt;(k)-1;
         else if(std::get&lt;1&gt;(k)==1) std::get&lt;1&gt;(k)= 12;

         if(std::get&lt;1&gt;(k)==4 &amp;&amp; std::get&lt;1&gt;(k)==6 &amp;&amp; std::get&lt;1&gt;(k)==9 &amp;&amp;std::get&lt;1&gt;(k)==11)
         std::get&lt;0&gt;(k)=std::get&lt;1&gt;(k)+29;
         else if(std::get&lt;1&gt;(k)==2)  std::get&lt;0&gt;(k)=std::get&lt;1&gt;(k)+27;
         else  std::get&lt;0&gt;(k)=std::get&lt;1&gt;(k)+30;
        }
     }
     else  {
     if(std::get&lt;0&gt;(k)&gt;1)  std::get&lt;0&gt;(k)=std::get&lt;0&gt;(k)-1;
     if(std::get&lt;0&gt;(k)==1) {
         if(std::get&lt;1&gt;(k) !=1)  std::get&lt;1&gt;(k)=std::get&lt;1&gt;(k)-1;
         else if(std::get&lt;1&gt;(k)==1) std::get&lt;1&gt;(k)= 12;

         if(std::get&lt;1&gt;(k)==4 &amp;&amp; std::get&lt;1&gt;(k)==6 &amp;&amp; std::get&lt;1&gt;(k)==9 &amp;&amp;std::get&lt;1&gt;(k)==11)
         std::get&lt;0&gt;(k)=std::get&lt;1&gt;(k)+29;
         else if(std::get&lt;1&gt;(k)==2)  std::get&lt;0&gt;(k)=std::get&lt;1&gt;(k)+28;
         else  std::get&lt;0&gt;(k)=std::get&lt;1&gt;(k)+30;
        }
     }
 }


 std::string DajImePacijenta() const{
     return ime_pacijenta;
 }
 Datum DajDatumPregleda() const{
     return datum_pregleda;
 }
 Vrijeme DajVrijemePregleda() const{
     return vrijeme_pregleda;
 }
 static bool DolaziPrije(const Pregled &amp;p1, const Pregled &amp;p2){
  std::tuple &lt;int,int,int&gt; t1(p1.DajDatumPregleda().Ocitaj()), t2(p2.DajDatumPregleda().Ocitaj());
  std::pair&lt;int,int&gt; s1(p1.DajVrijemePregleda().Ocitaj()) ,s2(p2.DajVrijemePregleda().Ocitaj());

      if(std::get&lt;2&gt;(t1)&lt;std::get&lt;2&gt;(t2))  return true ;
     if(std::get&lt;2&gt;(t1)==std::get&lt;2&gt;(t2)) {
         if(std::get&lt;1&gt;(t1)&lt;std::get&lt;1&gt;(t2)) return true;
         if(std::get&lt;1&gt;(t1)==std::get&lt;1&gt;(t2)){

         if(std::get&lt;0&gt;(t1)&lt;std::get&lt;0&gt;(t2)) return true;

         }
         if(std::get&lt;0&gt;(t1)==std::get&lt;0&gt;(t2)) {

         if(s1.first&lt;s2.first) return true;
         }
         if(s1.first==s2.first) {
             if(s1.second&lt;s2.second) return true ;
         }
         }

     return false ;
 }
 void Ispisi() const{
 //Konačno, funkcija “Ispisi” ispisuje podatke o pregledu na način da se prvo ispiše ime pacijenta,
 //poravnato ulijevo u polju širine 30 znakova, a zatim datum i vrijeme pregleda razdvojeni jednim razmakom (na kraju se prelazi u novi red).
std::cout&lt;&lt;std::left&lt;&lt;std::setw(30);
std::cout&lt;&lt;this-&gt;DajImePacijenta();
std::cout&lt;&lt;std::get&lt;0&gt;((this-&gt;DajDatumPregleda()).Ocitaj())&lt;&lt;"/"&lt;&lt;std::get&lt;1&gt;((this-&gt;DajDatumPregleda()).Ocitaj())&lt;&lt;"/"&lt;&lt;std::get&lt;2&gt;((this-&gt;DajDatumPregleda()).Ocitaj());
std::cout&lt;&lt;" ";
if(((this-&gt;DajVrijemePregleda()).Ocitaj()).first &lt;10) std::cout&lt;&lt;"0";
std::cout&lt;&lt;std::setprecision(2)&lt;&lt;((this-&gt;DajVrijemePregleda()).Ocitaj()).first&lt;&lt;":";
if(((this-&gt;DajVrijemePregleda()).Ocitaj()).second &lt;10) std::cout&lt;&lt;"0";
std::cout&lt;&lt;((this-&gt;DajVrijemePregleda()).Ocitaj()).second;
std::cout&lt;&lt;std::endl;
 }
 };



 class Pregledi {

     std::vector&lt;std::shared_ptr&lt;Pregled&gt;&gt; pok;
     
     
     public:
     explicit Pregledi() {};

     Pregledi(std::initializer_list&lt;Pregled&gt; spisak_pregleda)  {
        pok.resize(spisak_pregleda.size());
         auto iter(spisak_pregleda.begin());
         for(int i{0};i&lt;spisak_pregleda.size();i++)  {
             std::tuple&lt;int,int,int&gt; datum((iter-&gt;DajDatumPregleda()).Ocitaj());
             std::pair&lt;int,int&gt; vrijeme((iter-&gt;DajVrijemePregleda()).Ocitaj());
             pok[i]=std::make_shared &lt;Pregled&gt;(iter-&gt;DajImePacijenta(),std::get&lt;0&gt;(datum),std::get&lt;1&gt;(datum),std::get&lt;2&gt;(datum),
             vrijeme.first,vrijeme.second);
             iter++;
         };


     };
     
     Pregledi(const Pregledi &amp;pregledi){

         pok.resize(pregledi.DajBrojPregleda());
          for(int i{0};i&lt;pok.size();i++)  {
             std::tuple&lt;int,int,int&gt; datum((pregledi.pok[i]-&gt;DajDatumPregleda()).Ocitaj());
             std::pair&lt;int,int&gt; vrijeme((pregledi.pok[i]-&gt;DajVrijemePregleda()).Ocitaj());
             pok[i]=std::make_shared &lt;Pregled&gt;(pregledi.pok[i]-&gt;DajImePacijenta(),std::get&lt;0&gt;(datum),std::get&lt;1&gt;(datum),std::get&lt;2&gt;(datum),
             vrijeme.first,vrijeme.second);
         }


     };
     Pregledi(Pregledi &amp;&amp;pregledi):pok(std::move(pregledi.pok)){};
     
     Pregledi &amp;operator = (const Pregledi &amp;pregledi){
         pok.resize(pregledi.pok.size());

         for(int i{0};i&lt;pok.size();i++)  {
             std::tuple&lt;int,int,int&gt; datum((pregledi.pok[i]-&gt;DajDatumPregleda()).Ocitaj());
             std::pair&lt;int,int&gt; vrijeme((pregledi.pok[i]-&gt;DajVrijemePregleda()).Ocitaj());
             pok[i]=std::make_shared &lt;Pregled&gt;(pregledi.pok[i]-&gt;DajImePacijenta(),std::get&lt;0&gt;(datum),std::get&lt;1&gt;(datum),std::get&lt;2&gt;(datum),
             vrijeme.first,vrijeme.second);

         }

         return *this;
     };
     Pregledi &amp;operator =(Pregledi &amp;&amp;pregledi) {
         pok=std::move(pregledi.pok);
         return *this;
     };
     
     void RegistrirajPregled(const std::string &amp;ime_pacijenta, const Datum &amp;datum_pregleda, const Vrijeme &amp;vrijeme_pregleda){
         std::tuple&lt;int,int,int&gt; datumpregleda(datum_pregleda.Ocitaj());
         std::pair&lt;int,int&gt; vrijemepregleda(vrijeme_pregleda.Ocitaj());

         std::shared_ptr&lt;Pregled&gt; novipregled = std::make_shared&lt;Pregled&gt;(ime_pacijenta,std::get&lt;0&gt;(datumpregleda),
         std::get&lt;1&gt;(datumpregleda),std::get&lt;2&gt;(datumpregleda),vrijemepregleda.first,vrijemepregleda.second);

         pok.push_back(novipregled);
     };
     void RegistrirajPregled(const std::string &amp;ime_pacijenta, int dan_pregleda, int mjesec_pregleda, int godina_pregleda, int sati_pregleda, int minute_pregleda){


         Datum datum;
         datum.Postavi(dan_pregleda,mjesec_pregleda,godina_pregleda);

         Vrijeme vrijeme;
         vrijeme.Postavi(sati_pregleda,minute_pregleda);

         RegistrirajPregled(ime_pacijenta,datum,vrijeme);
     };
     void RegistrirajPregled(std::shared_ptr&lt;Pregled&gt; pregled){


        pok.push_back(pregled);
     };
     int DajBrojPregleda() const{
         return pok.size();
     };
<a name="7"></a><font color="#0000FF"><a href="match910-0.html#7" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_0.gif"/></a>

     int DajBrojPregledaNaDatum(const Datum &amp;datum) const{
         return std::count_if(pok.begin(),pok.end() ,[datum](std::shared_ptr&lt;Pregled&gt;p) {return (datum.Ocitaj()==(p-&gt;DajDatumPregleda()).Ocitaj());});
</font>     }
     Pregled &amp;DajNajranijiPregled() {
<a name="1"></a><font color="#00FF00"><a href="match910-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_1.gif"/></a>

        if(pok.size()==0) throw std::domain_error("Nema registriranih pregleda");
        auto najranijipacijent= std::min_element(pok.begin(),pok.end() ,[](std::shared_ptr&lt;Pregled&gt;p1,std::shared_ptr&lt;Pregled&gt; p2) {  return Pregled::DolaziPrije(*p1,*p2);});
        return **najranijipacijent ;
     };
     Pregled DajNajranijiPregled() const {
</font><a name="0"></a><font color="#FF0000"><a href="match910-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_1.gif"/></a>

       if(pok.size()==0) throw std::domain_error("Nema registriranih pregleda");
        auto najranijipacijent= std::min_element(pok.begin(),pok.end() ,[](std::shared_ptr&lt;Pregled&gt;p1,std::shared_ptr&lt;Pregled&gt; p2) {  return Pregled::DolaziPrije(*p1,*p2);});
        return **najranijipacijent ;
     
     };
     void IsprazniKolekciju(){
</font>        
     pok.resize(0);
     };
     void ObrisiNajranijiPregled(){
         if(pok.size()==0) throw std::range_error("Prazna kolekcija");
        auto s= std::min_element(pok.begin(),pok.end() ,[](std::shared_ptr&lt;Pregled&gt;p1,std::shared_ptr&lt;Pregled&gt; p2) {  return Pregled::DolaziPrije(*p1,*p2);});
        
         for(auto it(s),it1(s+1);it1!=pok.end();it++,it1++) *it=*it1;
        pok.resize(pok.size()-1);
         std::cout&lt;&lt;"Najraniji pregled uspjesno obrisan";
     };
     void ObrisiPregledePacijenta(const std::string &amp;ime_pacijenta){
      int br(0);
       while(1) {
      auto s=std::find_if(pok.begin(),pok.end(),[ime_pacijenta] (std::shared_ptr&lt;Pregled&gt;p) {return (p-&gt;DajImePacijenta()==ime_pacijenta);});
      if(s==pok.end()) break;
      

         for(auto it(s),it1(s+1);it1!=pok.end();it++,it1++) *it=*it1;
         pok.resize(pok.size()-1);

          br++;


   }
   std::cout&lt;&lt;"Uspjesno obrisano "&lt;&lt; br &lt;&lt;" pregleda";
     };
     void IspisiPregledeNaDatum(const Datum &amp;datum) const{
    static std::vector&lt;std::shared_ptr&lt;Pregled&gt;&gt; pblb ;
      static int br(0);
      std::for_each (pok.begin(),pok.end(), [datum,pblb] (std::shared_ptr&lt;Pregled&gt; pokazivac) {
<a name="2"></a><font color="#0000FF"><a href="match910-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_1.gif"/></a>

       std::tuple&lt;int,int,int&gt; t1(pokazivac-&gt;DajDatumPregleda().Ocitaj()) , t2(datum.Ocitaj());

       if(std::get&lt;0&gt;(t1)==std::get&lt;0&gt;(t2) &amp;&amp; std::get&lt;1&gt;(t1)==std::get&lt;1&gt;(t2) &amp;&amp; std::get&lt;2&gt;(t1)==std::get&lt;2&gt;(t2)) 
       {pblb.resize(pblb.size() + 1); pblb[br++] = pokazivac; }});
</font>      std::sort(pblb.begin(),pblb.end(), [] (std::shared_ptr&lt;Pregled&gt;  p1,std::shared_ptr&lt;Pregled&gt; p2) { return Pregled::DolaziPrije(*p1,*p2); });
      std::for_each(pblb.begin(),pblb.end(),[](std::shared_ptr&lt;Pregled&gt; pacijent ){ pacijent-&gt;Ispisi() ;});
      
     };
     void IspisiSvePreglede() const {
       
      std::vector&lt;std::shared_ptr&lt;Pregled&gt;&gt; p ;
      //for(int i{0};i&lt;pok.size();i++) {
       p=pok; 
       //static int br{0};
       std::sort(p.begin(),p.end(), [] (std::shared_ptr&lt;Pregled&gt; p1,std::shared_ptr&lt;Pregled&gt; p2) { return Pregled::DolaziPrije(*p1,*p2); });
      std::for_each(p.begin(),p.end(),[](std::shared_ptr&lt;Pregled&gt; pacijent ){ pacijent-&gt;Ispisi() ;});
      

     };
 };
int main ()
{

Pregledi ppp;

 Datum d;
 Vrijeme v;
 

 do {

 std::cout&lt;&lt;"Unesite ime novog pacijenta ili 'kraj' za zavrsetak unosa: ";
 
 int day,month,year,hour,minutes ;
 std::string ime ;
 
  std::cin&gt;&gt;ime;
 if(ime == "kraj") break;
  //std::cin.clear();
  //std::cin.ignore(10000,'\n');
 
 std::cout&lt;&lt;"Unesite dan mjesec i godinu pregleda: ";
 
 std::cin&gt;&gt;day;
 std::cin&gt;&gt;month;
 std::cin&gt;&gt;year ;
 try {
 
  d.Postavi(day,month,year);
 }
 catch (std::domain_error d) {
  std::cout&lt;&lt;d.what();
 }
  std::cout&lt;&lt;"Unesite sate i minute pregleda: " ;
  std::cin&gt;&gt;hour;
  std::cin&gt;&gt;minutes;

  try {
  v.Postavi(hour,minutes);
  }
  catch(std::domain_error d) {
  std::cout&lt;&lt; d.what();
  }
  ppp.RegistrirajPregled(ime,d,v);
  
 } while(1);
 
 std::cout&lt;&lt;"Trenutno su registrovani sljedeci pregledi\n" ;
 ppp.IspisiSvePreglede();
  while(1) {
 std::cout&lt;&lt;"\nOdaberite jednu od sljedecih opcija";
 std::cout&lt;&lt; "\n1 - Broj pregleda na datum\n2 - Najraniji pregled\n3 - Obrisi pregled pacijenta\n4 - Obrisi najraniji pregled\n5 - Ispisi sve pregleda na datum\n6 - Ispisi sve preglede\n7 - Kraj programa\n";
 int i;
 std::cin&gt;&gt;i;

  
 switch(i) {
  
    case 1: {
          std::cout&lt;&lt;"Unesite dan mjesec i godinu : ";
          int x,y,z;
          std::cin&gt;&gt;x&gt;&gt;y&gt;&gt;z;
          d.Postavi(x, y, z);
          std::cout&lt;&lt;"Broj pregleda na datum ";
          std::cout&lt;&lt;std::get&lt;0&gt;(d.Ocitaj())&lt;&lt;" "&lt;&lt;std::get&lt;1&gt;(d.Ocitaj())&lt;&lt;" "&lt;&lt;std::get&lt;2&gt;(d.Ocitaj());
          std::cout&lt;&lt;" je: ";
          std::cout&lt;&lt;ppp.DajBrojPregledaNaDatum(d);
          std::cout&lt;&lt;std::endl ;
          } break ;
  
  case 2: std::cout&lt;&lt;"Najraniji pregled je:\n"; 
  try {
   ppp.DajNajranijiPregled().Ispisi();
   }
   catch (std::domain_error d)
   { std::cout&lt;&lt;d.what(); }
    break ; std::cout&lt;&lt;std::endl ;
  
  case 3: {
          std::cout&lt;&lt;"Unesite ime pacijenta: ";
          std::string ime;
          std::cin&gt;&gt;ime;
          ppp.ObrisiPregledePacijenta(ime); 
          std::cout&lt;&lt;std::endl ;
 
                   }break;
  
  case 4: 
  try {
   ppp.ObrisiNajranijiPregled();
   }
   catch(std::domain_error d) {
    std::cout&lt;&lt;d.what();
    } break; std::cout&lt;&lt;std::endl ;
  
  case 5: {
          std::cout&lt;&lt;"Unesite dan mjesec i godinu : ";
          int x,y,z;
          std::cin&gt;&gt;x;
          std::cin&gt;&gt;y;
          std::cin&gt;&gt;z;
          d.Postavi(x, y, z);
          std::cout&lt;&lt;"Pregledi na datum "&lt;&lt;x&lt;&lt;" "&lt;&lt;y&lt;&lt;" "&lt;&lt;z&lt;&lt;" su:\n"; ppp.IspisiPregledeNaDatum(d); 
          std::cout&lt;&lt;std::endl ;
          }break ;
  
  case 6: ppp.IspisiSvePreglede();break ;std::cout&lt;&lt;std::endl ;
  
  case 7: ppp.IsprazniKolekciju(); break ;std::cout&lt;&lt;std::endl ;
   }
   if(i == 7) break;
 }
	return 0;
}
</pre>
</body>
</html>
