<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z4/Z4/student3819.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z4/Z4/student1013.cpp<p></p><pre>
#include &lt;iostream&gt;
#include &lt;type_traits&gt;
#include &lt;iterator&gt;
#include &lt;algorithm&gt;
#include &lt;vector&gt;
#include &lt;utility&gt;
#include &lt;tuple&gt;
#include &lt;cmath&gt;
#include &lt;iomanip&gt;
#include &lt;type_traits&gt;
#include &lt;memory&gt;
#include &lt;stdexcept&gt;
#include &lt;string&gt;
#include &lt;new&gt;
#include &lt;utility&gt;
#include &lt;cstdlib&gt;



/*static std::size_t brAlokacija(0);
static std::size_t maksimalanBrojAlokacijaPregleda(2000);
static std::size_t ukupanBrojAlociranihPregleda(0);

static bool ukljuciProvjeruAlokacijePregleda(false);
static bool ukljuciZabranuAlokacija(false);

void *operator new(std::size_t velicina){
    if(ukljuciProvjeruAlokacijePregleda &amp;&amp; ++ukupanBrojAlociranihPregleda &gt; maksimalanBrojAlokacijaPregleda )
        throw std::bad_alloc();
    if(ukljuciZabranuAlokacija)
        throw "Nije dozvoljna dodatna alokacija!";
    brAlokacija++;
    return std::malloc(velicina);
}

void *operator new[](std::size_t velicina){
    if(ukljuciZabranuAlokacija)
        throw "Nije dozvoljna dodatna alokacija!";
    ++brAlokacija;
    return std::malloc(velicina);

}


void operator delete(void *adresa) noexcept {
    --brAlokacija;
    std::free(adresa);
}

void operator delete[](void *adresa) noexcept {
    --brAlokacija;
    std::free(adresa);
}

void OgraniciBrojAlokacija(size_t maksAlokacija){
    ukljuciProvjeruAlokacijePregleda = (maksAlokacija != 0);
    maksimalanBrojAlokacijaPregleda = maksAlokacija;
}

void ZabraniAlokaciju(bool zabrana){
    ukljuciZabranuAlokacija = zabrana;
}

void ProvjeriCurenje(){
    if(brAlokacija == 0)
        std::cout &lt;&lt; "\nNema curenja!";
    else
        std::cout &lt;&lt; "\nCurenje memorije, broj neobrisanih alokacija: "&lt;&lt; brAlokacija &lt;&lt; std::endl;
}*/

class Datum {
    int dan, mjesec, godina;
    std::vector&lt;int&gt; VektorDana(int godina){
        std::vector&lt;int&gt; v{31,28,31,30,31,30,31,31,30,31,30,31};
        if((godina % 4 == 0 &amp;&amp; godina % 100 != 0) || ( godina % 400 == 0))
            v[1]++;
        return v;
    }
public:
    Datum(int dan, int mjesec, int godina){
        Postavi(dan, mjesec, godina);
    }
    void Postavi(int dan, int mjesec, int godina){
        auto v(VektorDana(godina));
        if(godina &lt; 1 || mjesec &lt; 1 || mjesec &gt; 12 || dan &lt; 1 || dan &gt; v[mjesec-1])
        {
            throw std::domain_error("Neispravan datum");
        }
<a name="1"></a><font color="#00FF00"><a href="match485-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_2.gif"/></a>

        this-&gt;dan = dan; this-&gt;mjesec = mjesec; this-&gt;godina = godina;
    }
    std::tuple&lt;int, int, int&gt; Ocitaj() const{
        return std::make_tuple(dan, mjesec, godina);
    };
    void Ispisi() const{
        std::cout &lt;&lt; dan &lt;&lt; "/" &lt;&lt; mjesec &lt;&lt; "/" &lt;&lt; godina;
    }
};

class Vrijeme {
    int sati, minute;
public:
    Vrijeme(int sati, int minute){
</font>        Postavi(sati, minute);
    }
<a name="7"></a><font color="#0000FF"><a href="match485-0.html#7" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_1.gif"/></a>

    void Postavi(int sati, int minute){
        if(sati &lt; 0 ||  sati &gt; 23 || minute &lt; 0 || minute &gt; 59)
            throw std::domain_error("Neispravno vrijeme");
        this-&gt;sati = sati; this-&gt;minute = minute;
    }
    std::pair&lt;int, int&gt; Ocitaj() const{
</font>        std::make_pair(sati, minute);
    };

    void Ispisi() const{
        if(sati &lt; 10) std::cout &lt;&lt; "0";
        std::cout &lt;&lt; sati;
        std::cout &lt;&lt; ":";
        if(minute &lt; 10) std::cout &lt;&lt; "0";
        std::cout &lt;&lt; minute;
    }
};
class Pregled {
    std::string imePacijenta;
    Datum datumPregleda;
    Vrijeme vrijemePregleda;
    std::vector&lt;int&gt; VektorDana(int godina){
        std::vector&lt;int&gt; v{31,28,31,30,31,30,31,31,30,31,30,31};
        if((godina % 4 == 0 &amp;&amp; godina % 100 != 0) || ( godina % 400 == 0))
            v[1]++;
        return v;
    }
public:
    Pregled(const std::string &amp;ime_pacijenta, const Datum &amp;datum_pregleda, const Vrijeme &amp;vrijeme_pregleda)
            : datumPregleda(datum_pregleda), vrijemePregleda(vrijeme_pregleda), imePacijenta(ime_pacijenta) {}

<a name="0"></a><font color="#FF0000"><a href="match485-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_3.gif"/></a>

    Pregled(const std::string &amp;ime_pacijenta, int dan_pregleda, int mjesec_pregleda, int godina_pregleda,
            int sati_pregleda, int minute_pregleda) : datumPregleda(dan_pregleda, mjesec_pregleda, godina_pregleda),
                                                      vrijemePregleda(sati_pregleda, minute_pregleda),
                                                      imePacijenta(ime_pacijenta){}


    void PromijeniPacijenta(const std::string &amp;ime_pacijenta) {imePacijenta = ime_pacijenta; }

    void PromijeniDatum(const Datum &amp;novi_datum) { datumPregleda = novi_datum; }

    void PromijeniVrijeme(const Vrijeme &amp;novo_vrijeme) {vrijemePregleda = novo_vrijeme;}

    void PomjeriDanUnaprijed(){
        int d, m, g;
        auto datum(datumPregleda.Ocitaj());
</font>        std::tie(d, m, g) = datum;
        auto v(VektorDana(g));
        d++;
        if(d &gt; v[m-1])
            d = 1, m++;
        if(m &gt; 12)
            m = 1, g++;
        datumPregleda.Postavi(d, m, g);
    }

    void PomjeriDanUnazad(){
        int d, m, g;
        auto datum(datumPregleda.Ocitaj());
        std::tie(d, m, g) = datum;
        auto v(VektorDana(g));
        d--;
        if(d == 0) {
            m--;
            if (m == 0) {
                g--;
                m = 12;
                d = 31;
            } else {
                d = v[m - 1];
            }
        }
        datumPregleda.Postavi(d, m, g);
    }

    std::string DajImePacijenta() const { return imePacijenta;}

    Datum DajDatumPregleda() const { return datumPregleda; }

    Vrijeme DajVrijemePregleda() const {return vrijemePregleda;}

    static bool DolaziPrije(const Pregled &amp;p1, const Pregled &amp;p2){
<a name="6"></a><font color="#00FF00"><a href="match485-0.html#6" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_1.gif"/></a>

        int d1, m1, g1, sat1, min1, d2, m2, g2, sat2, min2;
        std::tie(d1, m1, g1) = p1.datumPregleda.Ocitaj();
        std::tie(d2, m2, g2) = p2.datumPregleda.Ocitaj();
        sat1 = p1.DajVrijemePregleda().Ocitaj().first;
</font>        min1 = p1.DajVrijemePregleda().Ocitaj().second;
        sat2 = p2.DajVrijemePregleda().Ocitaj().first;
        min2 = p2.DajVrijemePregleda().Ocitaj().second;
        if(g1 != g2)
            return g1 &lt; g2;
        if(m1 != m2)
            return m1 &lt; m2;
        if(d1 != d2)
            return d1 &lt; d2;
        if(sat1 != sat2)
            return sat1 &lt; sat2;
        return min1 &lt; min2;

    }

<a name="5"></a><font color="#FF0000"><a href="match485-0.html#5" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_1.gif"/></a>

    void Ispisi() const{
        std::cout &lt;&lt; std::left &lt;&lt; std::setw(30) &lt;&lt; imePacijenta;
        datumPregleda.Ispisi();
        std::cout &lt;&lt; " ";
        vrijemePregleda.Ispisi();
        std::cout &lt;&lt; std::endl;
</font>    }
};




class Pregledi{
    std::vector&lt;std::shared_ptr&lt;Pregled&gt;&gt; vektorPregleda;
    bool JednakiDatumi(Datum dat1, Datum dat2) const{
<a name="3"></a><font color="#00FFFF"><a href="match485-0.html#3" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_2.gif"/></a>

        double d1, d2, m1, m2, g1, g2;
        std::tie(d1, m1, g1) = dat1.Ocitaj();
        std::tie(d2, m2, g2) = dat2.Ocitaj();
        return d1 == d2 &amp;&amp; m1 == m2 &amp;&amp; g1 == g2;
</font>    }
public:
    explicit Pregledi() {}
    Pregledi(std::initializer_list&lt;Pregled&gt; spisak_pregleda)
    {
        for(auto pregled: spisak_pregleda)
            vektorPregleda.push_back(std::make_shared&lt;Pregled&gt;(pregled));
    }
    //destruktor ne treba

    Pregledi(const Pregledi &amp;pregledi)
    {
        for(auto pregled : pregledi.vektorPregleda)
            vektorPregleda.push_back(std::make_shared&lt;Pregled&gt;(*pregled));

    }
    Pregledi(Pregledi &amp;&amp;pregledi) : vektorPregleda(std::move(pregledi.vektorPregleda)) {}

    Pregledi &amp;operator=(const Pregledi &amp;pregledi){
        if(&amp;pregledi != this){//ovdje dodati autotest, moguce je da nece biti memorije za novi vektor
            //ne smiju uništiti izvorni
            std::vector&lt;std::shared_ptr&lt;Pregled&gt;&gt; pomocniVektor(pregledi.vektorPregleda.size());
            for(int i = 0; i &lt; pomocniVektor.size(); i++){
                pomocniVektor[i] = std::make_shared&lt;Pregled&gt;(*pregledi.vektorPregleda[i]);
            }
            this-&gt;vektorPregleda = pomocniVektor;
        }
        return *this;
    }
    Pregledi &amp;operator=(Pregledi &amp;&amp; pregledi){//destruktivna samo dodjela ???
        if(&amp;pregledi != this){
            vektorPregleda = std::move(pregledi.vektorPregleda);
        }
        return *this;
    }
<a name="8"></a><font color="#00FFFF"><a href="match485-0.html#8" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_1.gif"/></a>

    void RegistrirajPregled(const std::string &amp;ime_pacijenta, const Datum &amp;datum_pregleda, const Vrijeme &amp;vrijeme_pregleda){
        vektorPregleda.push_back(std::make_shared&lt;Pregled&gt;(ime_pacijenta, datum_pregleda, vrijeme_pregleda));
    }
    void RegistrirajPregled(const std::string &amp;ime_pacijenta, int dan_pregleda, int mjesec_pregleda, int godina_pregleda,
</font><a name="4"></a><font color="#FF00FF"><a href="match485-0.html#4" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_1.gif"/></a>

                            int sati_pregleda, int minute_pregleda)
    {
        vektorPregleda.push_back(std::make_shared&lt;Pregled&gt;(ime_pacijenta, dan_pregleda, mjesec_pregleda, godina_pregleda, sati_pregleda, minute_pregleda));
    }
    void RegistrirajPregled(std::shared_ptr&lt;Pregled&gt; pregled){
</font>        vektorPregleda.push_back(pregled);
    }
    int DajBrojPregleda() const{
        return vektorPregleda.size();
    }
    int DajBrojPregledaNaDatum(const Datum &amp;datum) const{
        int broj =  std::count_if(vektorPregleda.begin(), vektorPregleda.end(), [&amp;datum, this](std::shared_ptr&lt;Pregled&gt; p){
            return JednakiDatumi(datum, p-&gt;DajDatumPregleda());
        });
        if(broj == 0) throw std::domain_error("Nema registriranih pregleda");
        return broj;

    }
    Pregled &amp;DajNajranijiPregled(){
        if(vektorPregleda.size() == 0)
            throw std::domain_error("Nema registriranih pregleda");
        return **std::min_element(vektorPregleda.begin(), vektorPregleda.end(), [](std::shared_ptr&lt;Pregled&gt; p1, std::shared_ptr&lt;Pregled&gt; p2){
            return p1-&gt;DolaziPrije(*p1, *p2);
        });
    }
    Pregled DajNajranijiPregled() const{
        if(vektorPregleda.size() == 0)
            throw std::domain_error("Nema registriranih pregleda");
        return **std::min_element(vektorPregleda.begin(), vektorPregleda.end(), [](std::shared_ptr&lt;Pregled&gt; p1, std::shared_ptr&lt;Pregled&gt; p2){
            return p1-&gt;DolaziPrije(*p1, *p2);
        });
    }
    void IsprazniKolekciju(){
        vektorPregleda.clear();
    }
    void ObrisiNajranijiPregled(){//pva funkcija ne bi smjela da alocita
        if(vektorPregleda.size() == 0)
            throw std::range_error("Prazna kolekcija");
<a name="9"></a><font color="#FF00FF"><a href="match485-0.html#9" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_1.gif"/></a>

        auto najraniji = std::min_element(vektorPregleda.begin(), vektorPregleda.end(),
                [](std::shared_ptr&lt;Pregled&gt; p1, std::shared_ptr&lt;Pregled&gt; p2) -&gt; bool { return  p1-&gt;DolaziPrije(*p1, *p2); });
</font>        vektorPregleda.erase(najraniji);
    }
    void ObrisiPregledePacijenta(const std::string &amp;ime_pacijenta){//ni ovdje ne bi smjelo biti dodatne alokacije, provjeriti da li pada kad se brise sve
        for(int i = 0; i&lt; vektorPregleda.size(); i++)
        {
            if(vektorPregleda[i]-&gt;DajImePacijenta() == ime_pacijenta){
               vektorPregleda.erase(vektorPregleda.begin() + i);
               i--;
            }

        }
    }
    void IspisiPregledeNaDatum(const Datum &amp;datum) const{

        std::vector&lt;std::shared_ptr&lt;Pregled&gt;&gt; pomocniVektor(vektorPregleda);
        std::sort(pomocniVektor.begin(), pomocniVektor.end(), [](std::shared_ptr&lt;Pregled&gt; p1, std::shared_ptr&lt;Pregled&gt; p2){
            return p1-&gt;DolaziPrije(*p1, *p2);
        });

        for(auto pregled : pomocniVektor){
            if(JednakiDatumi(datum, pregled-&gt;DajDatumPregleda())){
                pregled-&gt;Ispisi();
            }
        }
    }
    void IspisiSvePreglede() const{
        std::vector&lt;std::shared_ptr&lt;Pregled&gt;&gt; pomocniVektor(vektorPregleda);
        std::sort(pomocniVektor.begin(), pomocniVektor.end(), [](std::shared_ptr&lt;Pregled&gt; p1, std::shared_ptr&lt;Pregled&gt; p2){
            return p1-&gt;DolaziPrije(*p1, *p2);
        });

        for(auto pregled : pomocniVektor){
                pregled-&gt;Ispisi();
            }
        }



};

int main() {/*
    std::cout &lt;&lt; "\n-----------\nAutotest 1\n-----------\n";

    {//AT1 (skriveni) Test klase Datum, Vrijeme i Pregled
        Datum d1(28,5,2017), d2(2,2,2018);
        Vrijeme v1(10,10), v2(12,12);
        Pregled p1("Lamija", d1, v1);
        Pregled p2("Amina", d2, v2);
        p1.Ispisi();
        p2.Ispisi();
        if(p1.DolaziPrije(p1, p2)){
            std::cout &lt;&lt; "Lamija dolazi prije Amine\n";
        }
        else{
            std::cout &lt;&lt; "Amina dolazi prije Lamije\n";
        }
    }
    std::cout &lt;&lt; "\n-----------\nAutotest 2\n-----------\n";

    {//AT2 (skriveni) Test klase Datum neispravni parametri
        try {Datum d1(31, 1, 2017);} catch(std::domain_error &amp;ex){std::cout &lt;&lt; " NOT OK "; }
        try {Datum d1(32, 1, 2017);} catch(std::domain_error &amp;ex){std::cout &lt;&lt; " OK1 " &lt;&lt; ex.what(); }
        try {Datum d1(29, 2, 2016);} catch(std::domain_error &amp;ex){std::cout &lt;&lt; " NOT OK "; }
        try {Datum d1(29, 2, 2015);} catch(std::domain_error &amp;ex){std::cout &lt;&lt; " OK2 " &lt;&lt; ex.what(); }
        try {Datum d1(31, 12, 2016);} catch(std::domain_error &amp;ex){std::cout &lt;&lt; " NOT OK "; }
        try {Datum d1(31, 13, 2015);} catch(std::domain_error &amp;ex){std::cout &lt;&lt; " OK3 " &lt;&lt; ex.what(); }
        try {Datum d1(30, 0, 2015);} catch(std::domain_error &amp;ex){std::cout &lt;&lt; " OK4 " &lt;&lt; ex.what(); }
        std::cout &lt;&lt; "\nEND";
    }

    std::cout &lt;&lt; "\n-----------\nAutotest 3\n-----------\n";

    {//AT3 (skriveni) Test klase Datum, metode Postavi i Ispisi
        Datum d1(31,3,2016);
        try {d1.Postavi(32, 3, 2017);} catch(std::domain_error &amp;ex){std::cout &lt;&lt; "OK1 " &lt;&lt; ex.what() &lt;&lt; std::endl; }
        d1.Ispisi();

        d1.Postavi(31, 12, 2017);
        try {d1.Postavi(32, 12, 2017);} catch(std::domain_error &amp;ex){std::cout &lt;&lt; "\nOK2 " &lt;&lt; ex.what() &lt;&lt; std::endl; }
        d1.Ispisi();

        d1.Postavi(30, 11, 2018);
        try {d1.Postavi(31, 13, 2017);} catch(std::domain_error &amp;ex){std::cout &lt;&lt; "\nOK3 " &lt;&lt; ex.what() &lt;&lt; std::endl; }
        d1.Ispisi();

        std::cout &lt;&lt; "\nEND";
    }

    std::cout &lt;&lt; "\n-----------\nAutotest 4\n-----------\n";


    {//AT4 (skriveni) Test klase Datum i Vrijeme, metoda ocitaj
        Datum d1(30,8,2016);
        Vrijeme v1(1,1);
        std::tuple&lt;int, int, int&gt; d1Vrijednosti(d1.Ocitaj());
        std::pair&lt;int, int&gt; v1Vrijednosti(v1.Ocitaj());
        std::cout &lt;&lt; std::get&lt;0&gt;(d1Vrijednosti) &lt;&lt; " " &lt;&lt; std::get&lt;1&gt;(d1Vrijednosti) &lt;&lt; " " &lt;&lt; std::get&lt;2&gt;(d1Vrijednosti)
                  &lt;&lt; " " &lt;&lt; v1Vrijednosti.first &lt;&lt; " " &lt;&lt; v1Vrijednosti.second;
        std::cout &lt;&lt; "\nEND";
    }

    std::cout &lt;&lt; "\n-----------\nAutotest 5\n-----------\n";


    {//AT5 (skriveni) Test klase Vrijeme neispravne vrijednosti
        try {Vrijeme v1(12,12);} catch(std::domain_error &amp;ex){std::cout &lt;&lt; " NOT OK "; }
        try {Vrijeme v1(24, 12);} catch(std::domain_error &amp;ex){std::cout &lt;&lt; " OK1 " &lt;&lt; ex.what(); }
        try {Vrijeme v1(-1,12);} catch(std::domain_error &amp;ex){std::cout &lt;&lt; " OK2 " &lt;&lt; ex.what(); }
        try {Vrijeme v1(12, -1);} catch(std::domain_error &amp;ex){std::cout &lt;&lt; " OK3 " &lt;&lt; ex.what(); }
        try {Vrijeme v1(12,60);} catch(std::domain_error &amp;ex){std::cout &lt;&lt; " OK4 " &lt;&lt; ex.what(); }

        std::cout &lt;&lt; "\nEND";
    }

    std::cout &lt;&lt; "\n-----------\nAutotest 6\n-----------\n";


    {//AT6 (skriveni) Test klase Vrijeme, metoda postavi i ispisi
        Vrijeme v1(2,2);
        try {v1.Postavi(-1,12);} catch(std::domain_error &amp;ex){std::cout &lt;&lt; "OK1 " &lt;&lt; ex.what() &lt;&lt; std::endl; }
        v1.Ispisi();
        try {v1.Postavi(24,12);} catch(std::domain_error &amp;ex){std::cout &lt;&lt; "\nOK2 " &lt;&lt; ex.what() &lt;&lt; std::endl; }
        v1.Ispisi();
        try {v1.Postavi(0,-1);} catch(std::domain_error &amp;ex){std::cout &lt;&lt; "\nOK3 " &lt;&lt; ex.what() &lt;&lt; std::endl; }
        v1.Ispisi();
        try {v1.Postavi(0,60);} catch(std::domain_error &amp;ex){std::cout &lt;&lt; "\nOK4 " &lt;&lt; ex.what() &lt;&lt; std::endl; }
        v1.Ispisi();
    }

    std::cout &lt;&lt; "\n-----------\nAutotest 7\n-----------\n";


    {//AT7 (skriveni) Test klase Pregled, konstruktori, ispisi
        Pregled p1("Dalila", Datum(17,2,2018), Vrijeme(10,10));
        try {Pregled p1("Dalila", Datum(29,2,2018), Vrijeme(10,10) );} catch(std::domain_error &amp;ex){std::cout &lt;&lt; "OK1 " &lt;&lt; ex.what() &lt;&lt; std::endl; }
        try {Pregled p1("Dalila", Datum(29,2,2018), Vrijeme(10,60) );} catch(std::domain_error &amp;ex){std::cout &lt;&lt; "OK2 " &lt;&lt; ex.what() &lt;&lt; std::endl; }
        Pregled p2("Emina", 31,5,2014,12,12);
        try {Pregled p2("Emina", 32,5,2014,12,12);} catch(std::domain_error &amp;ex){std::cout &lt;&lt; "OK3 " &lt;&lt; ex.what() &lt;&lt; std::endl; }
        try {Pregled p2("Emina", 31,5,2014,27,12);} catch(std::domain_error &amp;ex){std::cout &lt;&lt; "OK4 " &lt;&lt; ex.what() &lt;&lt; std::endl; }

        p1.Ispisi();
        p2.Ispisi();
    }

    std::cout &lt;&lt; "\n-----------\nAutotest 8\n-----------\n";

    {//AT8 (skriveni) Test klase pregled getteri setteri, const
        Pregled p1("Dalila", Datum(17,2,2018), Vrijeme(10,10));
        try {p1.PromijeniDatum({32,1,2018});} catch(std::domain_error &amp;ex){std::cout &lt;&lt; "OK1 " &lt;&lt; ex.what() &lt;&lt; std::endl; }
        try {p1.PromijeniVrijeme({-1,-1});} catch(std::domain_error &amp;ex){std::cout &lt;&lt; "OK2 " &lt;&lt; ex.what() &lt;&lt; std::endl; }
        p1.PromijeniDatum({18,2,2018});
        p1.PromijeniVrijeme({11,11});
        p1.Ispisi();
    }

    std::cout &lt;&lt; "\n-----------\nAutotest 9\n-----------\n";


    {//AT9 (skriveni) Test klase pregled dolaziPrije, pomjeriDanUnaprijed, PomjeriDanUnazad
        Pregled p1("Lamija", {25,10,2018}, {16,20});
        Pregled p2("Selma", {31,7,2018}, {20,12});
        Pregled p3("Lejla", {31,7,2018}, {20,12});
        Pregled p4("Emina", {20,8,2016}, {20,12});
        std::cout &lt;&lt; std::boolalpha &lt;&lt; p1.DolaziPrije(p1, p2) &lt;&lt; " " &lt;&lt; p1.DolaziPrije(p2, p1)
                  &lt;&lt; " " &lt;&lt; p1.DolaziPrije(p2,p3) &lt;&lt; " " &lt;&lt; p1.DolaziPrije(p3, p2)
                  &lt;&lt; " " &lt;&lt; p1.DolaziPrije(p1, p4)&lt;&lt; " " &lt;&lt; p1.DolaziPrije(p2, p4) &lt;&lt; " "
                  &lt;&lt; p1.DolaziPrije(p4, p1) &lt;&lt; std::endl;

        p1.PomjeriDanUnaprijed();
        p2.PomjeriDanUnaprijed();
        p3.PomjeriDanUnazad();
        p4.PomjeriDanUnazad();
        p1.Ispisi();
        p2.Ispisi();
        p3.Ispisi();
        p4.Ispisi();
    }

    std::cout &lt;&lt; "\n-----------\nAutotest 10\n-----------\n";


    {//AT10 (skriveni) Test klase pregled dolaziPrije, granicni slucajevi
        Pregled p1("Lamija", {25,10,2018}, {16,20});
        Pregled p2("Selma", {20,10,2018}, {16,19});
        Pregled p3("Dalila", {20,10,2018}, {16,21});
        Pregled p4("Lejla", {20,10,2018}, {17,20});
        Pregled p5("Emina", {20,10,2018}, {15,20});
        std::cout &lt;&lt; std::boolalpha &lt;&lt; p1.DolaziPrije(p1, p2) &lt;&lt; " " &lt;&lt; p1.DolaziPrije(p2, p1)
                  &lt;&lt; " " &lt;&lt; p1.DolaziPrije(p1,p3) &lt;&lt; " " &lt;&lt; p1.DolaziPrije(p3, p1)
                  &lt;&lt; " " &lt;&lt; p1.DolaziPrije(p1, p4)&lt;&lt; " " &lt;&lt; p1.DolaziPrije(p4, p1) &lt;&lt; " "
                  &lt;&lt; p1.DolaziPrije(p1, p5) &lt;&lt; " " &lt;&lt; p1.DolaziPrije(p5, p1) &lt;&lt; std::endl;

        Pregled p6("Selma", {19,10,2018}, {16,20});
        Pregled p7("Dalila", {21 ,10,2018}, {16,20});
        Pregled p8("Lejla", {20,9,2018}, {16,20});
        Pregled p9("Emina", {20,11,2018}, {16,20});
        Pregled p10("Lejla", {20,10,2016}, {16,20});
        Pregled p11("Emina", {20,10,2017}, {16,20});

        std::cout &lt;&lt; std::boolalpha &lt;&lt; p1.DolaziPrije(p1, p6) &lt;&lt; " " &lt;&lt; p1.DolaziPrije(p6, p1)
                  &lt;&lt; " " &lt;&lt; p1.DolaziPrije(p1,p7) &lt;&lt; " " &lt;&lt; p1.DolaziPrije(p7, p1)
                  &lt;&lt; " " &lt;&lt; p1.DolaziPrije(p1, p8)&lt;&lt; " " &lt;&lt; p1.DolaziPrije(p8, p1) &lt;&lt; " "
                  &lt;&lt; p1.DolaziPrije(p1, p9)&lt;&lt; " " &lt;&lt; p1.DolaziPrije(p9, p1) &lt;&lt; " "
                  &lt;&lt; p1.DolaziPrije(p1, p10)&lt;&lt; " " &lt;&lt; p1.DolaziPrije(p10, p1) &lt;&lt; " "
                  &lt;&lt; p1.DolaziPrije(p1, p11)&lt;&lt; " " &lt;&lt; p1.DolaziPrije(p11, p1) &lt;&lt; " ";

    }

    std::cout &lt;&lt; "\n-----------\nAutotest 11\n-----------\n";

    {//AT11 (skriveni) Test klase pregled pomjeriUnaprijed, granicni slucajevi
        Pregled p("Dalila", {31,12,2018}, {10,10});
        p.PomjeriDanUnaprijed();
        p.Ispisi();

        p.PromijeniDatum({31,1,2018});
        p.PomjeriDanUnaprijed();
        p.Ispisi();

        p.PromijeniDatum({31,3,2018});
        p.PomjeriDanUnaprijed();
        p.Ispisi();

        p.PromijeniDatum({30,4,2018});
        p.PomjeriDanUnaprijed();
        p.Ispisi();

        p.PromijeniDatum({31,5,2018});
        p.PomjeriDanUnaprijed();
        p.Ispisi();

        p.PromijeniDatum({30,6,2018});
        p.PomjeriDanUnaprijed();
        p.Ispisi();

        p.PromijeniDatum({31,7,2018});
        p.PomjeriDanUnaprijed();
        p.Ispisi();

        p.PromijeniDatum({31,8,2018});
        p.PomjeriDanUnaprijed();
        p.Ispisi();

        p.PromijeniDatum({30,9,2018});
        p.PomjeriDanUnaprijed();
        p.Ispisi();

        p.PromijeniDatum({31,10,2018});
        p.PomjeriDanUnaprijed();
        p.Ispisi();

        p.PromijeniDatum({30,11,2018});
        p.PomjeriDanUnaprijed();
        p.Ispisi();

    }

    std::cout &lt;&lt; "\n-----------\nAutotest 12\n-----------\n";

    {//AT12 (skriveni) Test klase pregled pomjeriUnazad, granicni slucajevi
        Pregled p("Dalila", {1,12,2018}, {10,10});
        p.PomjeriDanUnazad();
        p.Ispisi();

        p.PromijeniDatum({1,1,2018});
        p.PomjeriDanUnazad();
        p.Ispisi();

        p.PromijeniDatum({1,3,2018});
        p.PomjeriDanUnazad();
        p.Ispisi();

        p.PromijeniDatum({1,4,2018});
        p.PomjeriDanUnazad();
        p.Ispisi();

        p.PromijeniDatum({1,5,2018});
        p.PomjeriDanUnazad();
        p.Ispisi();

        p.PromijeniDatum({1,6,2018});
        p.PomjeriDanUnazad();
        p.Ispisi();

        p.PromijeniDatum({1,7,2018});
        p.PomjeriDanUnazad();
        p.Ispisi();

        p.PromijeniDatum({1,8,2018});
        p.PomjeriDanUnazad();
        p.Ispisi();

        p.PromijeniDatum({1,9,2018});
        p.PomjeriDanUnazad();
        p.Ispisi();

        p.PromijeniDatum({1,10,2018});
        p.PomjeriDanUnazad();
        p.Ispisi();

        p.PromijeniDatum({1,11,2018});
        p.PomjeriDanUnazad();
        p.Ispisi();
    }

    std::cout &lt;&lt; "\n-----------\nAutotest 13\n-----------\n";

    {//AT13 (neaktivni) Test klase pregled pomjeriUnazad, februar
        Pregled p("Dalila", {1,3,2018}, {10,10});
        p.PomjeriDanUnazad();
        p.Ispisi();

        p.PromijeniDatum({1,3,2017});
        p.PomjeriDanUnazad();
        p.Ispisi();

        p.PromijeniDatum({1,3,2006});
        p.PomjeriDanUnazad();
        p.Ispisi();

        p.PromijeniDatum({1,3,1998});
        p.PomjeriDanUnazad();
        p.Ispisi();

        p.PromijeniDatum({1,3,2004});
        p.PomjeriDanUnazad();
        p.Ispisi();

        p.PromijeniDatum({1,3,2000});
        p.PomjeriDanUnazad();
        p.Ispisi();

        p.PromijeniDatum({1,3,2008});
        p.PomjeriDanUnazad();
        p.Ispisi();

    }
    std::cout &lt;&lt; "\n-----------\nAutotest 14\n-----------\n";


    {//AT14 (skriveni) Test klase pregled getteri
        Pregled p1("Dalila", Datum(17,2,2018), Vrijeme(10,10));
        std::cout &lt;&lt; p1.DajImePacijenta() &lt;&lt; " ";
        p1.DajDatumPregleda().Ispisi(); std::cout &lt;&lt; " ";
        p1.DajVrijemePregleda().Ispisi(); std::cout &lt;&lt; std::endl;
        Pregled p2("Emina", {8,1,2018}, {18,18});
        std::cout &lt;&lt; p2.DajImePacijenta() &lt;&lt; " ";
        p2.DajDatumPregleda().Ispisi(); std::cout &lt;&lt; " ";
        p2.DajVrijemePregleda().Ispisi(); std::cout &lt;&lt; std::endl;
    }
    std::cout &lt;&lt; "\n-----------\nAutotest 15\n-----------\n";

    {//AT15 (skriveni) Test klase pregled getteri, const
        const Pregled p1("Dalila", Datum(17,2,2018), Vrijeme(10,10));
        std::cout &lt;&lt; p1.DajImePacijenta() &lt;&lt; " ";
        p1.DajDatumPregleda().Ispisi(); std::cout &lt;&lt; " ";
        p1.DajVrijemePregleda().Ispisi(); std::cout &lt;&lt; std::endl;
        const Pregled p2("Emina", {8,1,2018}, {18,18});
        std::cout &lt;&lt; p2.DajImePacijenta() &lt;&lt; " ";
        p2.DajDatumPregleda().Ispisi(); std::cout &lt;&lt; " ";
        p2.DajVrijemePregleda().Ispisi(); std::cout &lt;&lt; std::endl;
    }
    std::cout &lt;&lt; "\n-----------\nAutotest 16\n-----------\n";

    {//AT16 (skriveni) Klasa Pregleedi, konstrukotr bez parametara
        std::cout &lt;&lt; std::boolalpha &lt;&lt; std::is_convertible&lt;Pregledi, int&gt;::value;
        Pregledi p;
        p.IspisiSvePreglede();
        std::cout &lt;&lt; " " &lt;&lt; p.DajBrojPregleda();

    }
    std::cout &lt;&lt; "\n-----------\nAutotest 17\n-----------\n";

    {//AT17 (skriveni) Klasa Pregleedi, RegistrirajPregled, prva verzija
        Pregledi p;
        int d(1);
        for(int i = 0; i &lt; 20; i++,d++){
            p.RegistrirajPregled("Dalila", {d,d%12+1,2000+d},{1,1});
        }
        p.IspisiSvePreglede();
    }
    std::cout &lt;&lt; "\n-----------\nAutotest 18\n-----------\n";

    {//AT18 (skriveni) Klasa Pregleedi, RegistrirajPregled, druga verzija
        Pregledi p;
        int d(1);
        for(int i = 0; i &lt; 20; i++,d++){
            p.RegistrirajPregled("Dalila", d,d%12+1,2000+d,1,1);
        }
        p.IspisiSvePreglede();
    }
    std::cout &lt;&lt; "\n-----------\nAutotest 19\n-----------\n";

    {//AT19 (skriveni) Klasa Pregleedi, RegistrirajPregled, treca verzija
        Pregledi p;
        int d(1);
        for(int i = 0; i &lt; 20; i++,d++){
            p.RegistrirajPregled(std::make_shared&lt;Pregled&gt;(Pregled("Dalila", {d,d%12+1,2000+d}, {1,1})));
        }
        p.IspisiSvePreglede();
    }


    std::cout &lt;&lt; "\n-----------\nAutotest 23\n-----------\n";


    {//AT23 (skriveni) Klasa Pregledi, dajBrojPregleda trivijalni, const provjera
        Pregledi p;
        for(int i = 0; i &lt; 10; i++)
            p.RegistrirajPregled("Dino", {1,1,2001}, {10,10});
        std::cout &lt;&lt; p.DajBrojPregleda() &lt;&lt; std::endl;
        p.RegistrirajPregled("Emir", {1,1,2001}, {1,1});
        std::cout &lt;&lt; p.DajBrojPregleda() &lt;&lt; std::endl;
        const Pregledi p1;
        std::cout &lt;&lt; p1.DajBrojPregleda() &lt;&lt; std::endl;
    }
    std::cout &lt;&lt; "\n-----------\nAutotest 24\n-----------\n";


    {//AT24 (skriveni) Klasa Pregledi, dajBrojPregledaNaDatum trivijalni, const provjera
        Pregledi p;
        for(int i = 0, d=1; i &lt; 999; i++,d++)
            p.RegistrirajPregled("Dino", {d%30+1,d%12+1,2000 + d%3}, {10,10});

        std::cout &lt;&lt; p.DajBrojPregledaNaDatum({2,2,2001}) &lt;&lt; std::endl;
        std::cout &lt;&lt; p.DajBrojPregledaNaDatum({1,1,2000}) &lt;&lt; std::endl;
        std::cout &lt;&lt; p.DajBrojPregledaNaDatum({30,6,2002}) &lt;&lt; std::endl;

        p.RegistrirajPregled("Emir", {30,6,2002}, {1,1});
        std::cout &lt;&lt; p.DajBrojPregledaNaDatum({30,6,2002}) &lt;&lt; std::endl;
        const Pregledi p1;
        try {
            std::cout &lt;&lt; p1.DajBrojPregledaNaDatum({10, 10, 2010}) &lt;&lt; std::endl;
        }
        catch(std::domain_error ex){
            std::cout &lt;&lt; ex.what();
        }
    }

    std::cout &lt;&lt; "\n-----------\nAutotest 25\n-----------\n";

    {//AT25 (skriveni) Klasa Pregledi, DajNajranijiPregled, obrisiNajranijiPregled
        Pregledi p;
        p.RegistrirajPregled("Dino", {31,5,2018}, {1,1});
        p.RegistrirajPregled("Enis", {30,6,2016}, {10,12});
        p.RegistrirajPregled("Rijad", {31,7,2015}, {18,11});
        p.RegistrirajPregled("Salko", {30,8,2017}, {17,13});
        p.RegistrirajPregled("Samir", {20,5,2019}, {19,16});

        std::cout &lt;&lt; "Najraniji pregled: \n";
        p.DajNajranijiPregled().Ispisi();
        p.ObrisiNajranijiPregled();
        std::cout &lt;&lt; "Nakon brisanja ostaju pregledi: \n";
        p.IspisiSvePreglede();
    }

    std::cout &lt;&lt; "\n-----------\nAutotest 26\n-----------\n";

    {//AT26 (skriveni) Klasa Pregledi DajNajranijiPreglede, non const verzija

        Pregledi p;
        p.RegistrirajPregled("Dino", {31,5,2018}, {1,1});
        p.RegistrirajPregled("Enis", {30,6,2016}, {10,12});
        p.RegistrirajPregled("Rijad", {31,7,2015}, {18,11});
        p.RegistrirajPregled("Salko", {30,8,2017}, {17,13});
        p.RegistrirajPregled("Samir", {20,5,2019}, {19,16});
        p.DajNajranijiPregled().PromijeniPacijenta("Novi pacijent ");
        p.IspisiSvePreglede();
    }
    std::cout &lt;&lt; "\n-----------\nAutotest 27\n-----------\n";


    {//AT27 (skriveni) Klasa Pregledi DajNajranijiPreglede, const verzija

        Pregled p1("Dino", {31,5,2018}, {1,1});
        Pregled p2("Enis", {30,6,2016}, {10,12});
        Pregled p3("Rijad", {31,7,2015}, {18,11});
        Pregled p4("Salko", {30,8,2017}, {17,13});
        Pregled p5("Samir", {20,5,2019}, {19,16});
        const Pregledi p{p1, p2, p3, p4, p5};
        p.DajNajranijiPregled().PromijeniPacijenta("Novi pacijent ");
        p.IspisiSvePreglede();
    }
    std::cout &lt;&lt; "\n-----------\nAutotest 28\n-----------\n";

    {//AT28 (skriveni) Klasa Pregledi DajNajranijiPreglede izuzetak

        try {
            const Pregledi p;
            Pregledi p1;
            try{p.DajBrojPregledaNaDatum({1,1,2001});}catch(std::domain_error &amp;ex) {std::cout &lt;&lt; ex.what() &lt;&lt; std::endl;}
            try{p1.DajBrojPregledaNaDatum({1,1,2001});}catch(std::domain_error &amp;ex) {std::cout &lt;&lt; ex.what() &lt;&lt; std::endl;}
        }
        catch(...){
            std::cout &lt;&lt; "IZUZETAK!";
        }
    }
    std::cout &lt;&lt; "\n-----------\nAutotest 29\n-----------\n";

    {//AT29 (skriveni) DajBrojPregleda i DajBrojPregledaNaDatum netrivijalni
        Pregledi p;
        for(int i = 0; i &lt; 100; i++)
            p.RegistrirajPregled("Lamija", {i%30+1, 1,2001},{10,10});

        std::cout &lt;&lt; p.DajBrojPregleda() &lt;&lt; " " &lt;&lt; p.DajBrojPregledaNaDatum({1,1,2001}) &lt;&lt; std::endl;
        for(int i = 0; i &lt; 4; i++)
            p.ObrisiNajranijiPregled();

        std::cout &lt;&lt; p.DajBrojPregleda() &lt;&lt; std::endl;
        try{std::cout &lt;&lt; p.DajBrojPregledaNaDatum({1,1,2001});}catch(std::domain_error &amp;ex) {std::cout &lt;&lt; ex.what() &lt;&lt; std::endl;}
    }
    std::cout &lt;&lt; "\n-----------\nAutotest 30\n-----------\n";

    {//AT30 (skriveni) DajBrojPregleda i DajBrojPregledaNaDatum ObrisiNajranijiPregled netrivijalni
        Pregledi p;
        for(int i = 0; i &lt; 100; i++)
            p.RegistrirajPregled("Lamija", {i%30+1, 1,2001},{10,10});

        std::cout &lt;&lt; p.DajBrojPregleda() &lt;&lt; " " &lt;&lt; p.DajBrojPregledaNaDatum({1,1,2001}) &lt;&lt; std::endl;
        for(int i = 0; i &lt; 4; i++)
            p.ObrisiNajranijiPregled();

        std::cout &lt;&lt; p.DajBrojPregleda() &lt;&lt; std::endl;
        try{std::cout &lt;&lt; p.DajBrojPregledaNaDatum({1,1,2001});}catch(std::domain_error &amp;ex) {std::cout &lt;&lt; ex.what() &lt;&lt; std::endl;}
    }

    std::cout &lt;&lt; "\n-----------\nAutotest 31\n-----------\n";

    {//AT31 (skriveni) Klasa Pregledi ObrisiPregledePacijenta IspisiPregledeNaDatum
        Pregledi p;
        p.RegistrirajPregled("Amina", 1,1,2001,1,1);
        p.RegistrirajPregled("Emina", 1,1,2002,1,1);
        p.RegistrirajPregled("Aida", 1,1,2001,1,1);
        p.RegistrirajPregled("Fatima", 1,1,2002,1,1);
        p.RegistrirajPregled("Lejla", 1,1,2001,1,1);
        p.RegistrirajPregled("Farah", 1,1,2001,1,1);
        p.RegistrirajPregled("Aida", 1,1,2001,1,1);

        p.ObrisiPregledePacijenta("Amina");
        p.ObrisiPregledePacijenta("Aida");
        std::cout &lt;&lt; "Pregledi na datum: \n";
        p.IspisiPregledeNaDatum({1,1,2001});
        std::cout &lt;&lt; "Svi pregledi: \n";
        p.IspisiSvePreglede();
    }
//
    std::cout &lt;&lt; "\n-----------\nAutotest 32\n-----------\n";

    {//AT32 (skriveni) Klasa Pregledi IsprazniKolekciju
        Pregledi p;
        for(int i = 0; i &lt; 1000; i++){
            p.RegistrirajPregled("Lamija", 1,1,2001,1,1);
        }
        std::cout &lt;&lt; p.DajBrojPregleda() &lt;&lt; std::endl;
        p.IsprazniKolekciju();
        std::cout &lt;&lt; p.DajBrojPregleda();
        p.IspisiSvePreglede();
    }
    std::cout &lt;&lt; "\n-----------\nAutotest 33\n-----------\n";

    {//AT33 (skriveni) Klasa Pregledi sekvencijski  konstruktor
        Pregled p1("Dino", {31, 5, 2018}, {1, 1});
        Pregled p2("Enis", {30, 6, 2016}, {10, 12});
        Pregled p3("Rijad", {31, 7, 2015}, {18, 11});
        Pregled p4("Salko", {30, 8, 2017}, {17, 13});
        Pregled p5("Samir", {20, 5, 2019}, {19, 16});
        Pregledi p{p1, p2, p3, p4, p5};
        std::cout &lt;&lt; p.DajBrojPregleda() &lt;&lt; " " &lt;&lt; p.DajBrojPregledaNaDatum({31, 5, 2018}) &lt;&lt; std::endl;
        p.IspisiSvePreglede();

    }

    {//AT34 (neaktivni) Klasa Pregledni sekvencijski  konstruktor, nedovoljno memorije
        //nakon neuspjesne alokacije treba da pocisti za sobom
        try {
            Pregled p1("Dino", {31, 5, 2018}, {1, 1});
            Pregled p2("Enis", {30, 6, 2016}, {10, 12});
            Pregled p3("Rijad", {31, 7, 2015}, {18, 11});
            Pregled p4("Salko", {30, 8, 2017}, {17, 13});
            Pregled p5("Samir", {20, 5, 2019}, {19, 16});
            Pregled p6("Damir", {20, 5, 2019}, {19, 16});
            Pregled p7("Amir", {20, 5, 2019}, {19, 16});

            OgraniciBrojAlokacija(6);
            Pregledi p{p1, p2, p3, p4, p5, p6, p7};
            std::cout &lt;&lt; p.DajBrojPregleda() &lt;&lt; " " &lt;&lt; p.DajBrojPregledaNaDatum({31, 5, 2018}) &lt;&lt; std::endl;
            p.IspisiSvePreglede();
        }
        catch (std::bad_alloc) {
            std::cout &lt;&lt; "Neuspjela alokacija!";
        }
    }
    ProvjeriCurenje();
    OgraniciBrojAlokacija(0);

    std::cout &lt;&lt; "\n-----------\nAutotest 35\n-----------\n";


    {//AT35 (neaktivni) Provjera da li se u obrisiPregledePacijenta  i obrisiPregledeNaDatum vrši nova alokacija
        //ova metoda treba samo da obrise element ne smije se vrsiti alokaciju novih pregleda, niti novog niza pregleda

        try{
            Pregledi p;
            for(int i = 0; i &lt; 1000; i++){
                p.RegistrirajPregled(std::to_string(i), 1,1,1,1,1);
            }
            ZabraniAlokaciju(true);
            try {
                for (int i = 20; i &lt; 200; i++) {
                    p.ObrisiPregledePacijenta(std::to_string(i));
                }
                std::cout &lt;&lt; "Broj pregleda: " &lt;&lt; p.DajBrojPregleda() &lt;&lt; std::endl
                          &lt;&lt; "Najraniji pregled je\n";
                p.DajNajranijiPregled().Ispisi();
                p.ObrisiNajranijiPregled();
                std::cout &lt;&lt; "Nakon obrisanog najranijeg pregleda broj pregleda je: ";
                std::cout &lt;&lt; p.DajBrojPregleda() &lt;&lt; "\nI novi najraniji pregled je\n";
                p.DajNajranijiPregled().Ispisi();
            }
            catch(const char ex[]){
                std::cout &lt;&lt; ex;
            }
        }
        catch(const char c[]){
            std::cout &lt;&lt; c;
        }
    }

    ZabraniAlokaciju(false);


    std::cout &lt;&lt; "\n-----------\nAutotest 36\n-----------\n";


    {//AT36 (neaktivni) Test kopirajuceg konstrukotra kada mu ponestane memorije
        try {
            Pregledi p;
            for (int i = 0; i &lt; 100; i++) {
                p.RegistrirajPregled(std::to_string(i), 1, 1, 1, 1, 1);
            }
            //prije provjere curenja provjeravamo da li je uopce dobro implementiran
            Pregledi p2(p);
            p2.ObrisiPregledePacijenta("1");
            std::cout &lt;&lt; "Broj pregleda p "&lt;&lt; p.DajBrojPregleda() &lt;&lt; ", broj pregleda p2 " &lt;&lt; p2.DajBrojPregleda() &lt;&lt; std::endl;
            OgraniciBrojAlokacija(80);
            Pregledi p1(p);
            p1.IspisiSvePreglede();
        }
        catch(std::bad_alloc){
            std::cout &lt;&lt; "Nema dovoljno memorije!";
        }
    }
    ProvjeriCurenje();


    OgraniciBrojAlokacija(0);
//
    std::cout &lt;&lt; "\n-----------\nAutotest 37\n-----------\n";


    {//AT37 (neaktivni) Test pomjerajućeg konstruktora kopije, u njemu se ne smije vršiti dodatna alokacija
        //pomjerajuci konstruktor treba da ukrade elemente, a ne da ih kopira
        try {
            Pregledi p;
            for (int i = 0; i &lt; 10; i++) {
                p.RegistrirajPregled(std::to_string(i), 1, 1, 1, 1, 1);
            }
            ZabraniAlokaciju(true);
            try {
                Pregledi p1(std::move(p));
                p.ObrisiPregledePacijenta("1");
                std::cout &lt;&lt; "Broj pregleda p: " &lt;&lt; p.DajBrojPregleda() &lt;&lt; ", broj pregleda p1 " &lt;&lt; p1.DajBrojPregleda()
                          &lt;&lt; "\nSvi pregledi: \n";
                ZabraniAlokaciju(false);
                p1.IspisiSvePreglede();
            }
            catch(const char ex[]){
                std::cout &lt;&lt; ex;
            }
            ZabraniAlokaciju(false);
        }
        catch(const char *ex){
            std::cout &lt;&lt; ex;
        }
        catch(...){
            std::cout &lt;&lt; "Izuzetak";
        }
    }

    std::cout &lt;&lt; "\n-----------\nAutotest 38\n-----------\n";


    {//AT38 (skriveni) Test kopirajuceg konstrukotra

        Pregledi p;
        p.RegistrirajPregled("Dalila", 1,1,2001,1,1);
        p.RegistrirajPregled("Dalila", 1,1,2002,1,1);
        p.RegistrirajPregled("Dalila", 1,1,2002,1,1);
        p.RegistrirajPregled("Dalila", 1,1,2002,1,1);
        p.RegistrirajPregled("Dalila", 1,1,2002,1,1);
        p.RegistrirajPregled("Dalila", 1,1,2002,1,1);
        p.RegistrirajPregled("Dalila", 1,1,2002,1,1);

        Pregledi p1(p);
        //provjera plitke kopije
        p.IsprazniKolekciju();
        p.IspisiSvePreglede();
        std::cout &lt;&lt; "Trenutni pregledi: \n";
        p1.IspisiSvePreglede();
        p1.ObrisiPregledePacijenta("Dalila");
        std::cout &lt;&lt; "Broj pregleda nakon brisanja je " &lt;&lt; p1.DajBrojPregleda() &lt;&lt; std::endl;
        //provjera da li maksimalni kapacitet isti kao kod orginalnog
        try {
            for (int i = 0; i &lt; 1000; i++) {
                p1.RegistrirajPregled(std::to_string(i), 1, 1, 1, 1, 1);
            }
        }
        catch(...){
            std::cout &lt;&lt; "NOT OK\n";
        }
        try { p1.RegistrirajPregled(std::to_string(1001), 1, 1, 1, 1, 1); }
        catch (std::range_error &amp;ex) { std::cout &lt;&lt; ex.what(); }
        std::cout &lt;&lt; "\nBroj pregleda nakon dodavanja je  " &lt;&lt; p1.DajBrojPregleda();
    }

    std::cout &lt;&lt; "\n-----------\nAutotest 39\n-----------\n";


    {//AT39 (skriveni) Test operatora dodjele
        Pregledi p;
        p.RegistrirajPregled("Dalila", 1,1,2001,1,1);
        p.RegistrirajPregled("Dalila", 1,1,2002,1,1);
        p.RegistrirajPregled("Dalila", 1,1,2002,1,1);
        p.RegistrirajPregled("Dalila", 1,1,2002,1,1);
        p.RegistrirajPregled("Dalila", 1,1,2002,1,1);
        p.RegistrirajPregled("Dalila", 1,1,2002,1,1);
        p.RegistrirajPregled("Dalila", 1,1,2002,1,1);

        Pregledi p1;
        for(int i = 0; i &lt; 1000; i++){
            p1.RegistrirajPregled(std::make_shared&lt;Pregled&gt;("Dino",1,1,1,1,1));
        }
        p1.RegistrirajPregled(std::make_shared&lt;Pregled&gt;("Edin",1,1,1,1,1));

        //destruktivna samododjela
        p1 = p1;
        //regularna dodjela
        p = p1;
        //provjera plitke kopije
        p1.IsprazniKolekciju();
        p1.IspisiSvePreglede();
        p.RegistrirajPregled("Dalila",1,1,1,1,1);
        p.ObrisiPregledePacijenta("Dino");
        //pregledi nakon brisanja trebaju biti samo Dalila i Edin
        p.IspisiSvePreglede();
    }

    std::cout &lt;&lt; "\n-----------\nAutotest 40\n-----------\n";

    {//AT40 (neaktivni) Operator dodjele, nedostatak memorije, ne smije se uništiti izvorni ukoliko nema memorije da se
        //izvrši dodjela, ne smije curiti
        Pregledi p;
        p.RegistrirajPregled("Dalila", 1, 1, 2001, 1, 1);
        p.RegistrirajPregled("Dalila", 1, 1, 2002, 1, 1);
        p.RegistrirajPregled("Dalila", 1, 1, 2002, 1, 1);
        p.RegistrirajPregled("Dalila", 1, 1, 2002, 1, 1);
        p.RegistrirajPregled("Dalila", 1, 1, 2002, 1, 1);
        p.RegistrirajPregled("Dalila", 1, 1, 2002, 1, 1);
        p.RegistrirajPregled("Dalila", 1, 1, 2002, 1, 1);

        Pregledi p1;
        for (int i = 0; i &lt; 100; i++) {
            p1.RegistrirajPregled(std::make_shared&lt;Pregled&gt;("Dino", 1, 1, 1, 1, 1));
        }
        OgraniciBrojAlokacija(80);
        try {
            p = p1;
        }
        catch (std::bad_alloc ex) {
            std::cout &lt;&lt; "Nedovoljno memorije\n";
        }

        //ovim dozvoljavamo opet alokaciju
        OgraniciBrojAlokacija(0);
        //objekat ne smije biti u neispravnom stanju nakon neuspjele dodjele
        p.IspisiSvePreglede();
        std::cout &lt;&lt; "Broj pregleda: " &lt;&lt; p.DajBrojPregleda();
    }
    ProvjeriCurenje();

    std::cout &lt;&lt; "\n-----------\nAutotest 41\n-----------\n";


    {//AT41 (neaktivni) Pomjerajuci operator dodjele
        // dodatno alociranje nije dozvoljeno, odredišna klasa treba da ukrade elemente
        Pregledi p;
        p.RegistrirajPregled("Dalila", 1,1,2001,1,1);
        p.RegistrirajPregled("Dalila", 1,1,2002,1,1);
        p.RegistrirajPregled("Dalila", 1,1,2002,1,1);
        p.RegistrirajPregled("Dalila", 1,1,2002,1,1);
        p.RegistrirajPregled("Dalila", 1,1,2002,1,1);
        p.RegistrirajPregled("Dalila", 1,1,2002,1,1);
        p.RegistrirajPregled("Dalila", 1,1,2002,1,1);

        Pregledi p1;
        for(int i = 0; i &lt; 1000; i++){
            p1.RegistrirajPregled(std::make_shared&lt;Pregled&gt;("Dino",1,1,1,1,1));
        }
        ZabraniAlokaciju(true);
        try {
            //destruktivna samododjela
            p1 = std::move(p1);
            //regularna dodjela
            p = std::move(p1);
        }
        catch(const char ex[]){
            std::cout &lt;&lt; ex;
        }
        ZabraniAlokaciju(false);

        //provjera da li smo ispravno "ukrali" elemente
        p1.IsprazniKolekciju();
        p1.IspisiSvePreglede();

        p.ObrisiPregledePacijenta("Dino");
        p.RegistrirajPregled("Dalila", 10,1,2002,1,1);
        p.IspisiSvePreglede();
        std::cout &lt;&lt; "Broj pregleda: " &lt;&lt; p.DajBrojPregleda();
    }
    ProvjeriCurenje();*/

    //Studentski main

        //Studentski main
    Pregledi p;
    std::string ime;
    int i(0);
    for(;;){
        std::cout &lt;&lt; "Unesite ime novog pacijenta ili 'kraj' za zavrsetak unosa: ";
        if(i!= 0) std::cin.ignore(1000,'\n');
        std::getline(std::cin, ime);
        if(ime == "kraj")
            break;
        int d, m, g, sati, minute;
        std::cout &lt;&lt; "Unesite dan mjesec i godinu pregleda: ";
        std::cin &gt;&gt; d &gt;&gt; m &gt;&gt; g;
        std::cout &lt;&lt; "Unesite sate i minute pregleda: ";
        std::cin &gt;&gt; sati &gt;&gt; minute;
        p.RegistrirajPregled(ime, d, m ,g, sati, minute);
        i++;
    }
    std::cout &lt;&lt; "Trenutno su registrovani sljedeci pregledi\n";
    p.IspisiSvePreglede();

    bool vrsiUnos = true;
    while(vrsiUnos){
        int opcija(-1);
        std::cout &lt;&lt; "\nOdaberite jednu od sljedecih opcija\n1 - Broj pregleda na datum\n2 - Najraniji pregled\n3 - Obrisi pregled pacijenta\n"
                     &lt;&lt; "4 - Obrisi najraniji pregled\n5 - Ispisi sve pregleda na datum\n6 - Ispisi sve preglede\n7 - Kraj programa\n";
        std::cin &gt;&gt; opcija;
        int d, m, g;
<a name="10"></a><font color="#FF0000"><a href="match485-0.html#10" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_1.gif"/></a>

        switch(opcija) {
            case 1:
                std::cout &lt;&lt; "Unesite dan mjesec i godinu : ";
                std::cin &gt;&gt; d &gt;&gt; m &gt;&gt; g;
                std::cout &lt;&lt; "Broj pregleda na datum " &lt;&lt; d &lt;&lt; " " &lt;&lt; m &lt;&lt; " " &lt;&lt; g &lt;&lt; " je: "
</font>                        &lt;&lt;   p.DajBrojPregledaNaDatum({d, m, g}) &lt;&lt; std::endl;
                break;
            case 2:
                std::cout &lt;&lt; "Najraniji pregled je:\n";
                          p.DajNajranijiPregled().Ispisi();
                break;
            case 3: {
                int brojPregleda1 = p.DajBrojPregleda();
                std::cin.ignore(1000, '\n');
                std::string ime;
                std::cout &lt;&lt; "Unesite ime pacijenta: ";
                std::getline(std::cin, ime);
                p.ObrisiPregledePacijenta(ime);
                int noviBrojPregleda = p.DajBrojPregleda();
                std::cout &lt;&lt; "Uspjesno obrisano " &lt;&lt; brojPregleda1 - noviBrojPregleda &lt;&lt; " pregleda\n";
                }
                break;
            case 4:
                try {
                    p.ObrisiNajranijiPregled();
                }
                catch(std::domain_error &amp;ex){
<a name="2"></a><font color="#0000FF"><a href="match485-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_2.gif"/></a>

                    ex.what();
                }
                std::cout &lt;&lt; "Najraniji pregled uspjesno obrisan\n";
                break;
            case 5:
                std::cout &lt;&lt; "Unesite dan mjesec i godinu : ";
                std::cin &gt;&gt; d &gt;&gt; m &gt;&gt; g;
                std::cout &lt;&lt; "Pregledi na datum " &lt;&lt; d &lt;&lt; " " &lt;&lt; m &lt;&lt; " " &lt;&lt; g &lt;&lt; " su:\n";
                          p.IspisiPregledeNaDatum({d,m,g});
</font>                break;
            case 6:
                p.IspisiSvePreglede();
            break;
            case 7:
                vrsiUnos = false;
                break;
            default:
                std::cout &lt;&lt; "Nije unesena ispravna opcija";
        }
    }

}



</pre>
</body>
</html>
