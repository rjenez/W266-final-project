<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z1/Z2/student5619.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z1/Z2/student5619.cpp<p></p><pre>
/*B 2017/2018, ZadaÄ‡a 1, Zadatak 2
	
	NAPOMENA: ulaz/izlaz za zadatke je specificiran
	javnim autotestovima. Zalbe za ne analiziranje testova
	se ne uvazavaju!
	
	NAPOMENA: nece svi (javni) testovi sa zamgera biti 
	dostupni na c9.

	Za sva ostala pitanja i nedoumice vezane za 
	autotestove javiti se na email: bcocalic1@etf.unsa.ba.	
*/
#include &lt;iostream&gt;

#include &lt;iostream&gt;
#include&lt;iomanip&gt;
#include&lt;stdexcept&gt;
#include&lt;algorithm&gt;
#include&lt;cstring&gt;
#include&lt;vector&gt;
#include&lt;memory&gt;
<a name="0"></a><font color="#FF0000"><a href="match74-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_99.gif"/></a>

class Tim
{
	char ime_tima [20];
	int broj_odigranih,broj_pobjeda,broj_nerijesenih,broj_poraza, broj_datih,broj_primljenih, broj_poena ;
public:

	Tim(const char ime[]) {
		int brojac(0);
		auto pom2(ime);
		while(*pom2++!='\0') {
			brojac++;
		}
		if(brojac&gt;20) {
			throw std::range_error("Predugacko ime tima");
		}
		auto pom(ime_tima);
		while(*ime!='\0') {
			*pom=*ime;
			pom++;
			ime++;
		}
		*pom=*ime;
		broj_odigranih=0;
		broj_pobjeda=0;
		broj_nerijesenih=0;
		broj_poraza=0;
		broj_datih=0;
		broj_primljenih=0;
		broj_poena=0;
	}

	void ObradiUtakmicu(int broj_datih, int broj_primljenih) {
		if(broj_datih&lt;0 || broj_primljenih&lt;0) {
			throw std::range_error("Neispravan broj golova");
		}
		broj_odigranih++;
		if(broj_datih&lt;broj_primljenih) {
			broj_poraza++;
		}
		if(broj_datih&gt;broj_primljenih) {
			broj_pobjeda++;
			broj_poena+=3;
		}
		if(broj_datih==broj_primljenih) {
			broj_nerijesenih++;
			broj_poena++;
		}
		(*this).broj_datih+=broj_datih;
		(*this).broj_primljenih+=broj_primljenih;
	}

	const char *DajImeTima() const {
		return ime_tima;
	}

	int DajBrojPoena() const {
		return broj_poena;
	}
	int DajGolRazliku() const {
		return broj_datih-broj_primljenih;
	}
	void IspisiPodatke() const {
		std::cout &lt;&lt;std::left&lt;&lt;std::setw(20)&lt;&lt; DajImeTima()&lt;&lt;std::right&lt;&lt;std::setw(4)&lt;&lt;broj_odigranih&lt;&lt;std::setw(4)&lt;&lt;broj_pobjeda&lt;&lt;std::setw(4)&lt;&lt;broj_nerijesenih&lt;&lt;std::setw(4)&lt;&lt;broj_poraza&lt;&lt;std::setw(4)&lt;&lt;broj_datih&lt;&lt;std::setw(4)&lt;&lt;broj_primljenih&lt;&lt;std::setw(4)&lt;&lt;broj_poena&lt;&lt;std::endl;
	}


};

class Liga
{
	std::vector&lt;std::shared_ptr&lt;Tim&gt;&gt;timovi; // vektor pametnih pokazivaca na objekte tipa Tim
public:

	explicit Liga(std::initializer_list&lt;Tim&gt; lista_timova) { //lista se ne moze indexirati ...podrzava dvosmjerne iteratore...

		auto it(std::begin(lista_timova));
		while(it!=std::end(lista_timova) ) {
			timovi.push_back(std::make_shared&lt;Tim&gt;(*it++)); // u vektor pametnih pok ubacujemo adresse dinamicki alociranih objekata tipa Tim koji se odmah inicijalizuju;

		}
	}

	Liga(const Liga &amp;l) {
		auto it(std::begin(l.timovi));
		while(it!=std::end(l.timovi) ) {
			timovi.push_back(std::make_shared&lt;Tim&gt;(**it++)); // u vektor pametnih pok ubacujemo adresse dinamicki alociranih objekata tipa Tim koji se odmah inicijalizuju;
		}
	}


	Liga &amp;operator =(const Liga &amp;l) {
		timovi.resize(0);
		auto it(std::begin(l.timovi));
		while(it!=std::end(l.timovi) ) {
			timovi.push_back(std::make_shared&lt;Tim&gt;(**it++)); // u vektor pametnih pok ubacujemo adresse dinamicki alociranih objekata tipa Tim koji se odmah inicijalizuju;
		}
		return *this;
	}

	Liga &amp;operator =(Liga &amp;&amp;l) {
		if (&amp;l!=this) {
			timovi = std::move(l.timovi);
		}
		return *this;
	}

	Liga (const Liga&amp;&amp;l) {
		timovi=std::move(l.timovi);
	}



	void DodajNoviTim(const char ime_tima[]) {
		for(int i=0; i&lt;timovi.size(); i++) {
			if( strcmp(ime_tima,(*(timovi[i])).DajImeTima() )==0 ) {
				throw std::logic_error("Tim vec postoji");
			}
		}
		timovi.push_back(std::make_shared&lt;Tim&gt;(ime_tima));
	}


	void RegistrirajUtakmicu(const char tim1[], const char tim2[], int rezultat_1, int rezultat_2) {
		if(  std::find_if(std::begin(timovi), std::end(timovi), [tim1] (std::shared_ptr&lt;Tim&gt;t) {
		if(strcmp (tim1,(*t).DajImeTima() )==0 ) {
				return true;
			}
			return false;
		} ) == std::end(timovi) ) {
			throw std::logic_error("Tim nije nadjen");
		}
		if(  std::find_if(std::begin(timovi), std::end(timovi), [tim2] (std::shared_ptr&lt;Tim&gt;t) {
		if(strcmp (tim2,(*t).DajImeTima() )==0 ) {
				return true;
			}
			return false;
		} ) == std::end(timovi) ) {
			throw std::logic_error("Tim nije nadjen");
		}

		if(rezultat_1&lt;0 || rezultat_2&lt;0) {
			throw std::range_error("Neispravan broj golova");
		}
		auto pom= std::find_if( std::begin(timovi), std::end(timovi), [tim1] (std::shared_ptr&lt;Tim&gt;t) {
			if(strcmp (tim1,(*t).DajImeTima() )==0 ) {
				return true;
			}
			return false;
		} );
		auto pom1=  std::find_if( std::begin(timovi), std::end(timovi), [tim2] (std::shared_ptr&lt;Tim&gt;t) {
			if(strcmp (tim2,(*t).DajImeTima() )==0 ) {
				return true;
			}
			return false;
		} );
		(**pom).ObradiUtakmicu(rezultat_1,rezultat_2);
		(**pom1).ObradiUtakmicu(rezultat_2,rezultat_1);
	}

	void IspisiTabelu() {
		std::sort(std::begin(timovi),std::end(timovi), [] (std::shared_ptr&lt;Tim&gt;t1,std::shared_ptr&lt;Tim&gt;t2) {
			if( (*t1).DajBrojPoena()==(*t2).DajBrojPoena() &amp;&amp; (*t1).DajGolRazliku()==(*t2).DajGolRazliku()) {
				if(strcmp( (*t1).DajImeTima(),(*t2).DajImeTima() )&lt;0 ) return true;
			}

			if( (*t1).DajBrojPoena()==(*t2).DajBrojPoena()  ) {
				return (*t1).DajGolRazliku()&gt;(*t2).DajGolRazliku() ;
			}
			return (*t1).DajBrojPoena()&gt;(*t2).DajBrojPoena() ;
		});
		std::for_each(std::begin(timovi),std::end(timovi),[] (std::shared_ptr&lt;Tim&gt;t ) {
			(*t).IspisiPodatke();
		});
	}
};
int main ()
{

	return 0;
}
int main ()
</font>{
	return 0;
}</pre>
</body>
</html>
