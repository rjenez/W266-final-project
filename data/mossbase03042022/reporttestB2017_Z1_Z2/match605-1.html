<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z1/Z2/student3350.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z1/Z2/student5403.cpp<p></p><pre>
/*B 2017/2018, ZadaÄ‡a 1, Zadatak 2
	
	NAPOMENA: ulaz/izlaz za zadatke je specificiran
	javnim autotestovima. Zalbe za ne analiziranje testova
	se ne uvazavaju!
	
	NAPOMENA: nece svi (javni) testovi sa zamgera biti 
	dostupni na c9.

	Za sva ostala pitanja i nedoumice vezane za 
	autotestove javiti se na email: bcocalic1@etf.unsa.ba.	
*/
#include &lt;iostream&gt;
#include &lt;vector&gt;
#include &lt;iomanip&gt;
#include &lt;stdexcept&gt;

typedef std::vector&lt;std::vector &lt;double&gt;&gt; Matrica;

int BrojRedova (Matrica m){
	return m.size();
}
int BrojKolona (Matrica m){
	return m.at(0).size();
}
Matrica KreirajMatricu (int br_redova, int br_kolona){
	return Matrica (br_redova, std::vector &lt;double&gt; (br_kolona));
}
Matrica UnesiMatricu(int br_redova,int br_kolona){
	auto m(KreirajMatricu(br_redova,br_kolona));
<a name="2"></a><font color="#0000FF"><a href="match605-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_3.gif"/></a>

	for(int i(0);i&lt;br_redova;i++)
		for (int j(0);j&lt;br_kolona;j++){
			std::cin &gt;&gt; m.at(i).at(j);
		}
	return m;	
</font>}
void IspisiMatricu (Matrica m){
	for (int i(0);i&lt;BrojRedova(m);i++){
		for (int j(0);j&lt;BrojKolona(m);j++)
			std::cout &lt;&lt; std::setw(6) &lt;&lt; m.at(i).at(j);
		std::cout &lt;&lt; std::endl;
	}
}

bool UporediMatrice (Matrica maksimalna, int max_i, int max_j, Matrica pomocna, int i, int j){
	if (max_i==-1) return true;
	if (BrojRedova(maksimalna)!=BrojRedova(pomocna))
		return BrojRedova(pomocna)&gt;BrojRedova(maksimalna);
	else if (maksimalna.at(BrojRedova(maksimalna)/2).at(BrojKolona(maksimalna)/2)!=pomocna.at(BrojRedova(pomocna)/2).at(BrojKolona(pomocna)/2))
		return maksimalna.at(BrojRedova(maksimalna)/2).at(BrojKolona(maksimalna)/2)&lt;pomocna.at(BrojRedova(pomocna)/2).at(BrojKolona(pomocna)/2);
	else if (max_i!=i) return max_i &lt; i; 	
	return max_j &gt; j;	
}
Matrica DajPomocnu(Matrica m, int i, int j, int k){
	Matrica pp(KreirajMatricu(2*k+1,2*k+1));
<a name="3"></a><font color="#00FFFF"><a href="match605-0.html#3" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_2.gif"/></a>

	int x(0),y(0);
	for (int u(i-k);u&lt;=(i+k);u++){
		for (int v(j-k);v&lt;=(j+k);v++){
</font>			pp.at(x).at(y)=m.at(u).at(v);
			y++;
		}
		y=0;
		x++;
	}
	return pp;
}
double DajSumu (Matrica mat, int i, int j, int k){
	double sum(0);
<a name="1"></a><font color="#00FF00"><a href="match605-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_3.gif"/></a>

	for (int l(i-k);l&lt;=i+k;l++){
		for (int m(j-k);m&lt;=j+k;m++){
			if (l==i-k || m==j-k || l==i+k || m==j+k){
</font>				sum +=mat.at(l).at(m);
			}
		}
	}
	return sum;
}
int DajUdaljenost(Matrica m,int i,int j){
	int k=BrojKolona(m)-1, r=BrojRedova(m)-1, a,b,c,d;
	a=k-i;
	b=i;
	c=j;
	d=r-j;
	if (a&lt;=b &amp;&amp; a&lt;=c &amp;&amp; a&lt;=d) return a;
	else if (b&lt;=a &amp;&amp; b&lt;=c &amp;&amp; b&lt;=d) return b;
	else if (c&lt;=a &amp;&amp; c&lt;=b &amp;&amp; c&lt;=d) return c;
	return d;
}
bool DaLiJePlanina (Matrica mat, int i, int j, double sum, int k){
	if (DajSumu(mat,i,j,k)&lt;sum) return true;
	return false;
}

Matrica NajvecaPlaninaMatrice (Matrica m){
	Matrica k;
	int max;
	for (int i(0);i&lt;BrojRedova(m)-1;i++){
		if (m.at(i).size()!=m.at(i+1).size()) throw std::domain_error ("Matrica nije korektna"); 
	}
	if (m.size()==0 || m.at(0).size()==0)
		return (KreirajMatricu(0,0));
	if (m.size()==2 || m.size()==1 || m.at(0).size()==1 || m.at(0).size()==2){
		max=m.at(0).at(0);
<a name="0"></a><font color="#FF0000"><a href="match605-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_4.gif"/></a>

		Matrica l(KreirajMatricu(1,1));
		for (int i(0);i&lt;BrojRedova(m);i++){
			for (int j(0);j&lt;BrojKolona(m);j++){
				if (m.at(i).at(j)&gt;max) max=m.at(i).at(j);		
			}
		}
		l.at(0).at(0)=max;		
</font>		return l;
	}
	int max_i(-1),max_j(-1);
	double suma;
	Matrica maksimalna,pomocna;
	for (int i(1);i&lt;BrojRedova(m)-1;i++){
		for (int j(1);j&lt;BrojKolona(m)-1;j++){
			int udaljenost (DajUdaljenost(m,i,j));
			suma=m.at(i).at(j);
			for(int k(1);k&lt;=udaljenost;k++){
				if(!DaLiJePlanina(m,i,j,suma,k)) break;
				else {
					pomocna=DajPomocnu(m,i,j,k);
					if(UporediMatrice(maksimalna,max_i,max_j,pomocna,i,j)) {
						maksimalna=pomocna;
						max_i=i;
						max_j=j;
					}
				}
				suma=DajSumu(m,i,j,k); 
			}
		}
	}
	if (maksimalna.size()==0){
		max=m.at(0).at(0);
		Matrica l(KreirajMatricu(1,1));
		for (int i(0);i&lt;BrojRedova(m);i++){
			for (int j(0);j&lt;BrojKolona(m);j++){
				if (m.at(i).at(j)&gt;max) max=m.at(i).at(j);		
			}
		}
		l.at(0).at(0)=max;		
		return l;
	}
	return maksimalna;
}

int main ()
{
	int m,n;
	std::cout &lt;&lt; "Unesite dimenzije matrice (m i n): ";
	std::cin &gt;&gt; m &gt;&gt; n;
	if(m&lt;0 || n&lt;0) {
		std::cout &lt;&lt; "Dimenzije matrice moraju biti nenegativne!"; 
		return 0;
	}
	std::cout &lt;&lt; "Unesite elemente matrice: ";
	auto A (UnesiMatricu(m,n));
	try{
		auto B (NajvecaPlaninaMatrice(A));
		std::cout &lt;&lt; std::endl &lt;&lt; "Najveca planina unesene matrice je: " &lt;&lt; std::endl;
		IspisiMatricu(B);
	}
	catch (std::domain_error err){
		std::cout &lt;&lt; err.what() &lt;&lt; std::endl;
	}
	
	return 0;
}</pre>
</body>
</html>
