<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z1/Z2/student2953.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z1/Z2/student9438.cpp<p></p><pre>
/*B 2017/2018, ZadaÄ‡a 1, Zadatak 2
	
	NAPOMENA: ulaz/izlaz za zadatke je specificiran
	javnim autotestovima. Zalbe za ne analiziranje testova
	se ne uvazavaju!
	
	NAPOMENA: nece svi (javni) testovi sa zamgera biti 
	dostupni na c9.

	Za sva ostala pitanja i nedoumice vezane za 
	autotestove javiti se na email: bcocalic1@etf.unsa.ba.	
*/
#include &lt;iostream&gt;
#include &lt;vector&gt;
#include &lt;cmath&gt;
#include &lt;limits&gt;
#include &lt;stdexcept&gt;
#include &lt;iomanip&gt;

<a name="0"></a><font color="#FF0000"><a href="match59-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_99.gif"/></a>

double ElementiOkoPlanine (std::vector&lt;std::vector&lt;double&gt;&gt; matrica, int y, int x, int broj, double prvasuma) {
	if (x==0 || y==0 || matrica.size() == y + 1 || matrica.at(0).size() == x + 1 || x - broj/2 &lt; 0 || x + broj/2 &gt; matrica.at(0).size() - 1 || y - broj/2 &lt; 0 || y + broj/2 &gt; matrica.size() - 1) {
		return 0;
	}
	
	double suma(0), temp(0);
	
	for (int i(-broj/2); i &lt; broj/2 + 1; i++) {
		for (int j(-broj/2); j &lt; broj/2 + 1; j++) {
			if (j == -broj/2 || j == broj/2 || i == broj/2 || i == -broj/2) {
				temp += matrica.at(y + 1).at(x + j);
			}
			suma += temp;
			temp = 0;
		}
			if (suma &lt; prvasuma) {
				return suma;
			}
			return 0;
	}
}

bool DaLiJeGrbava (std::vector&lt;std::vector&lt;double&gt;&gt; matrica) {
	if (matrica.size() == 0) return false;
	else {
		int m(matrica.size()), n(matrica.at(0).size());
		
		for (int i(0); i &lt; matrica.size(); i++) {
			for (int j(0); j &lt; matrica.at(i).size(); j++) {
				if (m == matrica.size()) break;
				else throw std::domain_error("Matrica nije korektna");
			}
			if(!(n==matrica.at(i).size())) throw std::domain_error("Matrica nije korektna");
		}
	}
	return false;
}

std::vector&lt;std::vector&lt;double&gt;&gt; SaljiUMatricu (std::vector&lt;std::vector&lt;double&gt;&gt; matrica, int x, int y, int broj) {
	std::vector&lt;std::vector&lt;double&gt;&gt; novamatrica;
	
	std::vector&lt;double&gt; pomocni;
	
	for (int i(-broj/2); i &lt; broj/2 + 1; i++) {
		for (int j(-broj/2); j &lt; broj/2 + 1; j++) {
			pomocni.push_back(matrica.at(y + 1).at(x + j));
		}
		novamatrica.push_back(pomocni);
		pomocni.clear();
	}
		return novamatrica;
}

std::vector&lt;std::vector&lt;double&gt;&gt; NajvecaPlaninaMatrice (std::vector&lt;std::vector&lt;double&gt;&gt; matrica) {
	bool postoji(false);
	postoji = DaLiJeGrbava(matrica);
	
	std::vector&lt;std::vector&lt;double&gt;&gt; nova;
	
	std::vector&lt;double&gt; pomocni;
	
	double vrh(0), suma(0), nb(0), jednodimenzionalnivrh(0);
	int broj(3), max(0), y(0), x(0), mini = std::numeric_limits&lt;int&gt;::min();
	
	for (auto i : matrica) {
		for (auto j : i) {
			if (j &gt; mini) {
				vrh = j;
				jednodimenzionalnivrh=vrh;
				suma=ElementiOkoPlanine(matrica, y, x, broj, vrh);
				if (suma != 0) {
				    while(1) {
						if (postoji==false &amp;&amp; max &lt; broj/2) {
							nova = SaljiUMatricu(matrica, y, x, broj);
							postoji=true;
							max++;
						}
						broj += 2;
						nb=ElementiOkoPlanine(matrica, y, x, broj, suma);
						if(nb != 0) {
							postoji = false;
							suma = nb;
						}
						if (postoji == true) break;
					}
				}
				broj = 3;
				suma = 0;
			}
			x++;
		}
		x=0;
		y++;
	}
	if(nova.size() == 0 &amp;&amp; matrica.size() != 0) {
		pomocni.push_back(jednodimenzionalnivrh);
		nova.push_back(pomocni);
	}
	return nova;
}


int main ()
{
	
	try {
		int m(0), n(0);
		double unos(0);
		std::vector&lt;double&gt; pomocni;
		std::vector&lt;std::vector&lt;double&gt;&gt; pomocna1;
		std::vector&lt;std::vector&lt;double&gt;&gt; pomocna2;
		
		std::cout &lt;&lt; "Unesite dimenzije matrice (m i n): ";
		
		while(1) {
			std::cin &gt;&gt; unos;
			if(int(unos)/unos==1) {
				m=unos;
				break;
			}
			std::cout &lt;&lt; "Dimenzije moraju biti cijeli brojevi!!!";
			std::cin.clear();
			std::cin.ignore(10000, '\n');
		}
		while(1) {
			std::cin &gt;&gt; unos;
			if(int(unos)/unos==1) {
				n=unos;
				break;
			}
			std::cout &lt;&lt; "Dimenzije moraju biti cijeli brojevi!!!";
			std::cin.clear();
			std::cin.ignore(10000, '\n');
		}
		if (m&lt;0 || n&lt;0) {
			std::cout &lt;&lt; "Dimenzije matrice moraju biti nenegativne!";
		return 0;
		}
		std::cout &lt;&lt; "Unesite elemente matrice: ";
		for (int i(0); i&lt;m; i++) {
			for (int j(0); j&lt;n; j++) {
				while(1) {
					while (!std::cin) {
						std::cout &lt;&lt; "To nije broj!";
						std::cin.clear();
						std::cin.ignore(10000, '\n');
					}
					if (std::cin) {
						pomocni.push_back(unos);
						break;
					}
				}
			}
			pomocna1.push_back(pomocni);
			pomocni.clear();
		}
		pomocna2=NajvecaPlaninaMatrice(pomocna1);
		std::cout &lt;&lt; std::endl &lt;&lt; "Najveca planina matrice je: " &lt;&lt; std::endl;
		for (auto i : pomocna2) {
			for (auto j : i) {
				std::cout &lt;&lt; std::setw(6) &lt;&lt; j;
			}
			std::cout &lt;&lt; std::endl;
		}
		}
		catch (...) {
			std::cout &lt;&lt; std::endl;
		}
	return 0;
</font>}</pre>
</body>
</html>
