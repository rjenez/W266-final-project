<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z1/Z2/student7582.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z1/Z2/student7582.cpp<p></p><pre>
#include &lt;iostream&gt;
#include &lt;cmath&gt;
#include &lt;iomanip&gt;
#include &lt;vector&gt;
#include &lt;stdexcept&gt;
#define EPSILON 0.000001

<a name="0"></a><font color="#FF0000"><a href="match138-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_99.gif"/></a>

using namespace std;
typedef vector&lt;vector&lt;double&gt;&gt; Matrica;

double planina(Matrica a){
	double suma1(0),suma2(0),vrh(0);
	int sredisnji((a.size()-1)/2);
	if(sredisnji&lt;=0) return 0;
	int k(0);
	do{
	for(int i=sredisnji-k;i&lt;=sredisnji+k;i++){
		for(int j=sredisnji-k;j&lt;=sredisnji+k;j++){
			if(a.at(i).at(j)==a.at(sredisnji).at(sredisnji) &amp;&amp; k==0){ suma1+=a.at(i).at(j); vrh=a.at(i).at(j);}
			else if(a.at(i).at(j)!=a.at(sredisnji).at(sredisnji)) suma2+=a.at(i).at(j);
		}
	}
	if(!k) k++;
	else if(k==1 &amp;&amp; suma1&gt;suma2){
		k++;
		suma1=suma2;
		suma2=0;
	}
	else if(suma1&gt;suma2-suma1){
		k++;
		suma1=suma2-suma1;
		suma2=0;
	}
	else return 0;
	}while(k&lt;=sredisnji);
	return vrh;
}
int format_kvadratne(Matrica m){
	int max_format;
	if(m.size()&gt;=m[0].size()) max_format=m[0].size();
	else max_format=m.size();
	if(max_format%2==0) max_format--;
	return max_format;
}
Matrica NapraviMatricu(Matrica a, int i, int j, int format){
	Matrica x(format);
	int sredisnji((format-1)/2),m(0);
	for(int k=i-sredisnji;k&lt;=i+sredisnji;k++){
		for(int l=j-sredisnji;l&lt;=j+sredisnji;l++){
			x.at(m).push_back(a.at(k).at(l));
		}
		m++;
	}
	return x;
}
Matrica NajvecaPlaninaMatrice(Matrica a){
	int duzina(a.size()),sirina(a[0].size());
	for(int i=0;i&lt;duzina;i++){
		if(a.at(i).size()!=sirina) throw domain_error("Matrica nije korektna");
	}
	Matrica m1,m2,prazna;
	if(duzina==0 || sirina==0) return prazna;
	int format(format_kvadratne(a));
	int sredisnji((format-1)/2);
	while (sredisnji&gt;=1){
	m1=NapraviMatricu(a,sredisnji,sredisnji,format);
	for(int i=sredisnji;i&lt;duzina-sredisnji;i++){
		for(int j=sredisnji;j&lt;sirina-sredisnji;j++){
				m2 = NapraviMatricu(a,i,j,format);
				if(planina(m1) &amp;&amp; planina(m2)){
					if(fabs(planina(m1)-planina(m2))&lt;EPSILON){
						m2=prazna;
					}
					else if(planina(m1)&lt;planina(m2)) m1=m2;	
					
				}
				else if(!planina(m1) &amp;&amp; planina(m2)){
					m1=m2;
				}
				else if(!planina(m1)) m1=prazna;
		}
	}
	if(m1!=prazna) return m1;
	sredisnji--;
	format-=2;
	}
	if(!sredisnji){
		double max=a.at(0).at(0);
		for(int i=0;i&lt;duzina;i++){
			for(int j=0;j&lt;sirina;j++){
				if(i==0 || i==duzina-1 || j==0 || j==sirina-1)
				if(a.at(i).at(j)&gt;=max) max=a.at(i).at(j);
			}
		}
		Matrica jedan(1,vector&lt;double&gt;(1,max));
		return jedan;
	}
}
int main ()
{
	cout&lt;&lt;"Unesite dimenzije matrice (m i n): ";
	int m,n;
	cin&gt;&gt;m&gt;&gt;n;
	if(m&lt;0 || n&lt;0) {
		cout&lt;&lt;"Dimenzije matrice moraju biti nenegativne!";
		return 0;
	}
	cout&lt;&lt;"Unesite elemente matrice: "&lt;&lt;endl;
	Matrica matrica(m);
	double x;
	for(int i=0;i&lt;m;i++){
		for(int j=0;j&lt;n;j++){
			cin&gt;&gt;x;
			matrica.at(i).push_back(x);
		}
	}
	try{
	Matrica mat(NajvecaPlaninaMatrice(matrica));
	cout&lt;&lt;"Najveca planina unesene matrice je: "&lt;&lt;endl;
	for(int i=0;i&lt;mat.size();i++){
		for(int j=0;j&lt;mat[0].size();j++){
			cout&lt;&lt;setw(6)&lt;&lt;mat[i][j];
		}
		cout&lt;&lt;endl;
	}
	}
	catch(domain_error izuzetak){
		cout&lt;&lt;izuzetak.what();
</font>		return 0;
	}
	return 0;
}</pre>
</body>
</html>
