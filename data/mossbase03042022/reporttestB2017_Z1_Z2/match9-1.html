<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z1/Z2/student8055.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z1/Z2/student2652.cpp<p></p><pre>
#include &lt;iostream&gt;
#include &lt;vector&gt;
#include &lt;stdexcept&gt;
#include &lt;iomanip&gt;
#include &lt;cmath&gt;
<a name="0"></a><font color="#FF0000"><a href="match9-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_99.gif"/></a>

typedef std::vector&lt;std::vector&lt;double&gt;&gt; Matrica;
typedef std::vector&lt;double&gt; vektor;
bool JesuLiJednaki (double x, double y, double Eps = 1e-10) {
    return std::fabs(x-y) &lt;= Eps* (std::fabs(x)+std::fabs(y)); 
}
Matrica KreirajMatricu (int br_redova, int br_kolona){
    return Matrica(br_redova, vektor(br_kolona));
}
Matrica UnesiMatricu (int br_redova, int br_kolona){
    if (br_redova == 0 || br_kolona ==0) return KreirajMatricu(0,0); 
    Matrica M(KreirajMatricu(br_redova, br_kolona));
    for (int i=0; i&lt;br_redova; i++)
        for (int j=0; j&lt;br_kolona; j++)
            std::cin&gt;&gt;M.at(i).at(j);
    return M;
}

bool opseg (int br_redova, int c, int i ){
if (i-c&lt;0 || i-c&gt;= br_redova || i+c&lt;0 || i+c&gt;= br_redova) return 1;
return 0;
}
double suma0 (int c, int i, int j, Matrica M){
double zbir(0);
for (int a = i-c; a&lt;=i+c; a++) {
    for (int b= j-c; b&lt;=j+c; b++) {
                zbir+=M.at(a).at(b);
        }
    }
return zbir;
}
double suma (int c, int i, int j, Matrica M){
double zbir(0);
for (int a = i-c; a&lt;=i+c; a++) {
    for (int b= j-c; b&lt;=j+c; b++) {
                zbir+=M.at(a).at(b);
        }
    }
    zbir-= suma0 (c-1, i, j, M);
return zbir;
}

Matrica Planina (double x, Matrica M, int i, int j){
int c(1);
Matrica planina;
planina.push_back(vektor(1,M.at(i).at(j)));
int br_redova ( M.size());
int br_kolona (M.at(0).size());
    for (;;) {
    if ( opseg (br_redova, c, i) || opseg (br_kolona, c, j)  ) return planina;
    if (c&gt;1) 
        {if ( suma(c-1, i, j, M)&lt;suma(c, i, j, M) &amp;&amp; !JesuLiJednaki(suma(c-1,i,j,M), suma(c, i, j, M)) ) return planina;}
 
    if (M.at(i).at(j)&lt;=suma(c,i,j,M) || JesuLiJednaki(M.at(i).at(j), suma(c,i,j,M)) ) return planina; 
     planina.resize(0);
    int red(0);
        for (int a = i-c; a&lt;=i+c; a++) {
            int kolona (0);
            planina.push_back(vektor(2*c+1));
            for (int b= j-c; b&lt;=j+c; b++) {
                planina.at(red).at(kolona) = M.at(a).at(b);
                kolona++;
                }
            red++;
    }
    c++;
    }
}

void daLiJeGrbava (Matrica M) {
    for (int i=1; i&lt;M.size(); i++)
        if (M.at(0).size()!=M.at(i).size()) throw std::domain_error ("Matrica nije korektna");
}

Matrica NajvecaPlaninaMatrice (Matrica M){
    if (!M.size()) return KreirajMatricu(0, 0);
    for (int i=0; i&lt;M.size(); i++)
        if (M.at(i).size()==0) return KreirajMatricu(0, 0); 
    
      daLiJeGrbava(M); 
std::vector&lt;Matrica&gt; planine;
    for (int i=0; i&lt;M.size(); i++)
        for (int j=0; j&lt;M.at(0).size(); j++)
            planine.push_back(Planina(M.at(i).at(j), M, i,j));
///





std::vector&lt;Matrica&gt; najvece;
int najveca(planine.at(0).size());
    for (int i=0; i&lt;planine.size(); i++) {
        if (planine.at(i).size()&gt;najveca) najveca = planine.at(i).size();
    }

std::vector &lt;int&gt; koordinate1;
std::vector &lt;int&gt; koordinate2;
//std::cout&lt;&lt;"planine size je .."&lt;&lt;planine.size()&lt;&lt;",";
for (int i=0; i&lt;planine.size(); i++) {
    if (planine.at(i).size()==najveca) {
       
        najvece.push_back(planine.at(i));
        if (planine.at(i).size()!=0) {
        koordinate1.push_back(i/M.at(0).size());
        koordinate2.push_back(i%M.at(0).size());
        }
        else {
         koordinate1.push_back(-1);
         koordinate2.push_back(-1);
        }
    }
}



std::vector&lt;double&gt; vrhovi;
double vrh;
std::vector&lt;int&gt; vrhkoordinate1;
std::vector&lt;int&gt; vrhkoordinate2;
for (int i=0; i&lt;najvece.size(); i++){
    if (koordinate1.at(i)!=-1){
           vrh = M.at(koordinate1.at(i)).at(koordinate2.at(i));
           break;
    }
}



for (int i=0; i&lt;najvece.size(); i++){
    if (koordinate1.at(i)!=-1){
           if( M.at(koordinate1.at(i)).at(koordinate2.at(i))&gt; vrh &amp;&amp; !JesuLiJednaki(M.at(koordinate1.at(i)).at(koordinate2.at(i)), vrh)) vrh = M.at(koordinate1.at(i)).at(koordinate2.at(i));
    }
}

// OVDJE JE PROBLEM!!!!
//for (int i=0; i&lt;najvece.size(); i++)
  //  std::cout&lt;&lt;koordinate1.at(i)&lt;&lt;","&lt;&lt;koordinate2.at(i); 
    


for (int i=0; i&lt;najvece.size(); i++){
    if (koordinate1.at(i)!=-1 &amp;&amp; JesuLiJednaki(M.at(koordinate1.at(i)).at(koordinate2.at(i)), vrh )){
        vrhovi.push_back(vrh);
        vrhkoordinate1.push_back(koordinate1.at(i));
        vrhkoordinate2.push_back(koordinate2.at(i));
    }
}

if (!vrhkoordinate1.size()) return KreirajMatricu(0,0);
std::vector&lt;int&gt; vrhkoordinate1max;
int k1max (vrhkoordinate1.at(0));
for (int i=1; i&lt;vrhovi.size(); i++)
    if (vrhkoordinate1.at(i)&gt;k1max) k1max = vrhkoordinate1.at(i);
int k2max;
for (int i=0; i&lt;vrhovi.size(); i++)
    if (vrhkoordinate1.at(i) == k1max) { k2max = vrhkoordinate2.at(i); break;  }
for (int i=0; i&lt;vrhovi.size(); i++) if (vrhkoordinate1.at(i) == k1max &amp;&amp; vrhkoordinate2.at(i)&gt;k2max) k2max=vrhkoordinate2.at(i);




    return Planina(M.at(k1max).at(k2max), M, k1max, k2max);
}
void Ispisi (Matrica m){
    for (int i=0; i&lt;m.size(); i++){
        for (int j=0; j&lt;m.at(0).size(); j++)
            std::cout&lt;&lt;std::setw(6)&lt;&lt;m.at(i).at(j);
     std::cout&lt;&lt;std::endl;       
    }
}


int main () {
int m, n;
std::cout&lt;&lt;"Unesite dimenzije matrice (m i n): ";
std::cin&gt;&gt;m&gt;&gt;n;
if (m&lt;0 || n&lt;0) {std::cout&lt;&lt;"Dimenzije matrice moraju biti nenegativne!"; return 0; }
std::cout&lt;&lt;"Unesite elemente matrice: ";
Matrica M (UnesiMatricu(m,n));
std::cout&lt;&lt;"\nNajveca planina unesene matrice je:\n";
try {
Ispisi (NajvecaPlaninaMatrice(M));
}
catch (std::domain_error e){
    std::cout&lt;&lt;e.what(); 
</font>}



}</pre>
</body>
</html>
