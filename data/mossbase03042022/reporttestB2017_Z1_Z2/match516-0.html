<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z1/Z2/student5695.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z1/Z2/student5695.cpp<p></p><pre>
#include &lt;iomanip&gt;
#include &lt;iostream&gt;
#include &lt;stdexcept&gt;
#include &lt;vector&gt;

using namespace std;

typedef vector&lt;vector&lt;double&gt;&gt; matrix;

matrix NapraviMatricu(matrix mat, vector&lt;double&gt; vek) {
	int vel(vek.at(1));
	matrix matrica(vel, vector&lt;double&gt; (vel));
	int i(vek.at(2)),j(vek.at(3)),m(0),n(0);
	for(int k=i-(vel/2);k&lt;=i+(vel/2);k++) {
		n=0;
		for(int l=j-(vel/2);l&lt;=j+(vel/2);l++) {
			matrica.at(m).at(n)=mat.at(k).at(l);
			n++;
		}
		m++;
	}
	return matrica;
}

bool JeLiGrbava(matrix matrica) {
	int vel(matrica.at(0).size());
	for(int i=1;i&lt;matrica.size();i++) {
		if(matrica.at(i).size()!=vel) return true;
		vel=matrica.at(i).size();
	}
	return false;
}

vector&lt;double&gt; Najveca(matrix vijenac) {
	vector&lt;double&gt; trenutna_najveca(vijenac.at(0));
	for(int i=1;i&lt;vijenac.size();i++) {
		if(vijenac.at(i).at(0)&gt;trenutna_najveca.at(0)) trenutna_najveca=vijenac.at(i);
		else if(vijenac.at(i).at(0)==trenutna_najveca.at(0)) {
			if(vijenac.at(i).at(1)&gt;trenutna_najveca.at(1)) trenutna_najveca=vijenac.at(i);
		}
	}
	return trenutna_najveca;
}

matrix MaxEl(matrix matrica) {
	matrix m(1, vector&lt;double&gt; (1));
	double max(matrica.at(0).at(0));
<a name="1"></a><font color="#00FF00"><a href="match516-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_3.gif"/></a>

	if(matrica.size()==1 &amp;&amp; matrica.at(0).size()==1) return matrica;
	for(int i=0;i&lt;matrica.size();i++) {
		for(int j=1;j&lt;matrica.at(0).size();j++) {
</font>			if(matrica.at(i).at(j)&gt;max) max=matrica.at(i).at(j);
		}
	}
	m.at(0).at(0)=max;
	return m;
}

matrix NajvecaPlaninaMatrice(matrix matrica) {
	
	if(JeLiGrbava(matrica)) throw domain_error("Matrica nije korektna");
	
	if(matrica.size()&lt;3 &amp;&amp; matrica.at(0).size()&lt;3) {
		return MaxEl(matrica);
	}
	
	double trenutni_vrh;
	matrix planina, planinski_vijenac;
	
<a name="2"></a><font color="#0000FF"><a href="match516-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_3.gif"/></a>

	for(int i=1;i&lt;matrica.size()-1;i++) {
		for(int j=1;j&lt;matrica.at(i).size()-1;j++) {
</font>			trenutni_vrh=matrica.at(i).at(j);
			int planina_dim(1);
			int a(i-1),b(j-1);
			double max_sum(trenutni_vrh);
			
			while(a&gt;=0 &amp;&amp; b&gt;=0 &amp;&amp; 2*a+3&lt;=matrica.size() &amp;&amp; 2*b+3&lt;=matrica.at(0).size()) {
				planina_dim+=2;
				double sum(0);
				
				for(int k=0;k&lt;planina_dim;k++) {
					for(int l=0;l&lt;planina_dim;l++) {
						if(k==0 || k==planina_dim-1) sum+=matrica.at(a+k).at(b+l);
						else if(l==0 || l==planina_dim-1) sum+=matrica.at(a+l).at(b+k);
					}
				}
				if(sum&lt;max_sum) {
					a--;
					b--;
				}
				else break;
			}
			
			if(planina_dim&gt;=3) {
				vector&lt;double&gt; pomocni;
				pomocni.push_back(trenutni_vrh);
				pomocni.push_back(planina_dim);
				pomocni.push_back(i);
				pomocni.push_back(j);
				planinski_vijenac.push_back(pomocni);
			}
		}
	}
	
	if(planinski_vijenac.size()==0) return planina; 
	vector&lt;double&gt; v(Najveca(planinski_vijenac));
	planina=NapraviMatricu(matrica,v);
	return planina;
}


int main() {
<a name="3"></a><font color="#00FFFF"><a href="match516-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_3.gif"/></a>

	cout &lt;&lt; "Unesite dimenzije matrice (m i n): ";
	int m,n;
	cin &gt;&gt; m &gt;&gt; n;
	if(m&lt;=0 || n&lt;=0) {
		cout &lt;&lt; "Dimenzije matrice moraju biti nenegativne!";
		return 0;
</font>	}
	cout &lt;&lt; "Unesite elemente matrice: ";
	matrix matrica(m, vector&lt;double&gt; (n));
	for(int i=0;i&lt;m;i++) {
		for(int j=0;j&lt;n;j++) {
			double a;
			cin &gt;&gt; a;
<a name="0"></a><font color="#FF0000"><a href="match516-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_8.gif"/></a>

			matrica.at(i).at(j)=a;
		}
	}
	try {
		matrica=NajvecaPlaninaMatrice(matrica);
		cout &lt;&lt; endl &lt;&lt; "Najveca planina unesene matrice je: " &lt;&lt; endl;
		for(int i=0;i&lt;matrica.size();i++) {
			for(int j=0;j&lt;matrica.at(i).size();j++) cout &lt;&lt; setw(6) &lt;&lt; matrica.at(i).at(j);
			cout &lt;&lt; endl;
		}
	}
	catch(domain_error izuzetak) {
</font>		cout &lt;&lt; "Izuzetak: " &lt;&lt; izuzetak.what();
	}
	return 0;
}
</pre>
</body>
</html>
