<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z1/Z2/student3169.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z1/Z2/student3169.cpp<p></p><pre>
#include &lt;iostream&gt;
#include &lt;vector&gt;
#include &lt;stdexcept&gt;
#include &lt;iomanip&gt;
#include &lt;cmath&gt;
#include &lt;limits&gt;


<a name="0"></a><font color="#FF0000"><a href="match39-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_99.gif"/></a>

bool JesuLiJednaki(double x, double y, double Eps=1e-10)
{
    return std::fabs(x-y)&lt;=Eps * (std::fabs(x) + std::fabs(y));
}

std::vector&lt;std::vector&lt;double&gt;&gt; Planina(int i, int j, std::vector&lt;std::vector&lt;double&gt;&gt;mat)
{
    int sirina(1);
    double sumaprethodnog(mat.at(i).at(j)), suma(0), sumareda(0);
    std::vector&lt;std::vector&lt;double&gt;&gt;nova;
    while(true)
    {

        if(i-sirina&lt;0 || i+sirina&gt;=mat.size() || j-sirina&lt;0 || j+sirina&gt;=mat.at(i).size())
        {
            return nova;
        }
        else
        {
            double sumasvih(0);
            for(int k=i-sirina;k&lt;=i+sirina;k++){
                for(int l=j-sirina;l&lt;=j+sirina;l++){
                    sumasvih+=mat.at(k).at(l);
                    
                }
            }
            sumareda=sumasvih-sumaprethodnog-suma;
            if(sumareda&gt;sumaprethodnog &amp;&amp; !JesuLiJednaki(sumareda,sumaprethodnog))return nova;
            if(sumaprethodnog&gt;sumareda &amp;&amp; !JesuLiJednaki(sumaprethodnog,sumareda))
            {
                int i1(i);
                int j1(j);
                i1-=sirina;
                j1-=sirina;
                nova.resize((2*sirina)+1);
                for(int a(0);a&lt;nova.size();a++)
                {
                    nova.at(a).resize((2*sirina)+1);
                }
                
                for(int a(0);a&lt;nova.size();a++)
                {
                    for(int e(0);e&lt;nova.at(a).size();e++)
                    {
                        nova.at(a).at(e)=mat.at(i1).at(j1);
                        j1++;
                    }
                    j1=j-sirina;
                    if(i1!=mat.size()-1)i1++;
                    
                }
                
            }
            
        }
        suma+=sumaprethodnog;
        sumaprethodnog=sumareda;
        sirina++;
        
    }
}

std::vector&lt;std::vector&lt;double&gt;&gt;NajvecaPlaninaMatrice(std::vector&lt;std::vector&lt;double&gt;&gt;mat)
{
    std::vector&lt;std::vector&lt;double&gt;&gt;najveca;
    if(mat.size()==0)return najveca;
    for(int i(0);i&lt;mat.size();i++)
    {
        if(mat.at(i).size()!=mat.at(0).size())throw std::domain_error("Matrica nije korektna");
    }
    
    if(mat.at(0).size()==0)return najveca;
    if(mat.size()&lt;3 || mat.at(0).size()&lt;3)
    {
        double max(std::numeric_limits&lt;double&gt;::lowest());
        for(int i(0);i&lt;mat.size();i++)
        {
            for(int j(0);j&lt;mat.at(i).size();j++)
            {
                if(mat.at(i).at(j)&gt;max &amp;&amp; !JesuLiJednaki(mat.at(i).at(j),max))max=mat.at(i).at(j);
            }
        }
        najveca.resize(1);
        najveca.at(0).resize(1);
        najveca.at(0).at(0)=max;
        return najveca;
    }
    int nii(0),nij(0);
    double vrh(0);
    for(int i(1);i&lt;mat.size()-1;i++)
    {
        for(int j(1);j&lt;mat.at(i).size()-1;j++)
        {
            std::vector&lt;std::vector&lt;double&gt;&gt;E;
            E=Planina(i,j,mat);
            if(E.size()&gt;najveca.size())
            {
                najveca=E;
                nii=i;
                nij=j;
                vrh=mat.at(i).at(j);
            }
            else if(E.size()==najveca.size())
            {
                if(mat.at(i).at(j)&gt;vrh &amp;&amp; !JesuLiJednaki(mat.at(i).at(j),vrh))
                {
                    najveca=E;
                    vrh=mat.at(i).at(j);
                    nii=i;
                    nij=j;
                }
                else if(JesuLiJednaki(mat.at(i).at(j),vrh))
                {
                    if(i&lt;nii)
                    {
                        najveca=E;
                        nii=i;
                        nij=j;
                    }
                    else if(i==nii){
                        if(j&lt;nij)
                        {
                            najveca=E;
                            nij=j;
                            nii=i;
                        }
                    }
                }
            }
        }
    }


    if(najveca.size()==0)
    {
        double max1(std::numeric_limits&lt;double&gt;::lowest());
        for(int i(0);i&lt;mat.size();i++)
        {
            for(int j(0);j&lt;mat.at(i).size();j++)
            {
                if(mat.at(i).at(j)&gt;max1 &amp;&amp; !JesuLiJednaki(mat.at(i).at(j),max1))max1=mat.at(i).at(j);
            }
        }
        najveca.resize(1);
        najveca.at(0).resize(1);
        najveca.at(0).at(0)=max1;
        return najveca;
    }
    return najveca;
}

int main()
{
    try
    {
    std::cout&lt;&lt;"Unesite dimenzije matrice (m i n): ";
    int m,n;
    std::cin&gt;&gt;m&gt;&gt;n;
    if(m&lt;0 || n&lt;0)
    {
        std::cout&lt;&lt;"Dimenzije matrice moraju biti nenegativne!";
        return 0;
    }
    std::cout&lt;&lt;"Unesite elemente matrice:";
    std::vector&lt;std::vector&lt;double&gt;&gt; mat;
    mat.resize(m);
    for(int i(0);i&lt;m;i++)
    {
        for(int j(0);j&lt;n;j++)
        {
            double broj;
            std::cin&gt;&gt;broj;
            mat.at(i).push_back(broj);
            
        }
    }
   std::vector&lt;std::vector&lt;double&gt;&gt;Mat(NajvecaPlaninaMatrice(mat));
   std::cout&lt;&lt;std::endl;
   std::cout&lt;&lt;"Najveca planina unesene matrice je:";
   std::cout&lt;&lt;std::endl;
    for(int i(0);i&lt;Mat.size();i++)
    {
        for(int j(0);j&lt;Mat.at(i).size();j++)
        {
            std::cout&lt;&lt;std::setw(6)&lt;&lt;std::setprecision(12)&lt;&lt;Mat.at(i).at(j);
        }
        std::cout&lt;&lt;std::endl;
    
    }
    }
    catch(std::domain_error Izuzetak)
    {
        std::cout&lt;&lt;Izuzetak.what();
    }
    return 0;
</font>}</pre>
</body>
</html>
