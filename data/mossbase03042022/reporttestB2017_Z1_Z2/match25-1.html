<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z1/Z2/student5621.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z1/Z2/student6156.cpp<p></p><pre>
/*B 2017/2018, ZadaÄ‡a 1, Zadatak 2

	NAPOMENA: ulaz/izlaz za zadatke je specificiran
	javnim autotestovima. Zalbe za ne analiziranje testova
	se ne uvazavaju!

	NAPOMENA: nece svi (javni) testovi sa zamgera biti
	dostupni na c9.

	Za sva ostala pitanja i nedoumice vezane za
	autotestove javiti se na email: bcocalic1@etf.unsa.ba.
*/
#include &lt;iostream&gt;
#include &lt;vector&gt;
#include &lt;stdexcept&gt;
#include &lt;iomanip&gt;
#include &lt;cmath&gt;

<a name="0"></a><font color="#FF0000"><a href="match25-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_99.gif"/></a>

struct Planina
{
	int i;
	int j;
	double vrh;
	int dimenzija;
};

bool Jeligrbava(std::vector&lt;std::vector&lt;double&gt;&gt; matrica);

std::vector&lt;Planina&gt; FindPlanine(std::vector&lt;std::vector&lt;double&gt;&gt; matrica);

std::vector&lt;std::vector&lt;double&gt;&gt; NajvecaPlaninaMatrice(std::vector&lt;std::vector&lt;double&gt;&gt; matrica);

int main ()
{
	std::cout&lt;&lt;"Unesite dimenzije matrice (m i n): ";
	int m,n;
	try
	{
		std::cin&gt;&gt;m&gt;&gt;n;
		if(m&lt;0 || n&lt;0) throw std::string("Dimenzije matrice moraju biti nenegativne!");
		std::cout&lt;&lt;"Unesite elemente matrice:";
		std::vector&lt;double&gt; test;
		std::vector&lt;std::vector&lt;double&gt;&gt; matrica;


		for(int i=0,x; i&lt;m; i++)
		{
			for(int j=0; j&lt;n; j++)
			{

				std::cin&gt;&gt;x;
				test.push_back(x);

			}
			matrica.push_back(test);
			test.resize(0);
		}
		matrica= NajvecaPlaninaMatrice(matrica);
		std::cout&lt;&lt;"\nNajveca planina unesene matrice je:\n";
		for(auto veca : matrica)
		{
			for(auto x : veca)
			{
				std::cout&lt;&lt;std::setw(6)&lt;&lt;std::right&lt;&lt;x;
			}
			std::cout&lt;&lt;std::endl;
		}
	}
	catch(std::domain_error izuzetak)
	{
		std::cout&lt;&lt;izuzetak.what();
	}
	catch(std::string izuzetak)
	{
		std::cout&lt;&lt;izuzetak;
	}

	return 0;
}


std::vector&lt;std::vector&lt;double&gt;&gt; NajvecaPlaninaMatrice(std::vector&lt;std::vector&lt;double&gt;&gt; matrica)
{
	try
	{
		if(Jeligrbava(matrica))throw std::domain_error("Matrica nije korektna");
	}
	catch(int a)
	{
		return std::vector&lt;std::vector&lt;double&gt;&gt; (0);
	}

	std::vector&lt;Planina&gt; planine(FindPlanine(matrica));
	int naj=0;
	///pronadji planinu najvece dimenzije
	for(auto x : planine)
	{
		naj=(x.dimenzija&gt;naj)? x.dimenzija:naj;
	}
	///sve manje izbaci
	//std::cout&lt;&lt;"proso1...."&lt;&lt;planine.size()&lt;&lt;".....\n";
	for(int i=0; i&lt;planine.size(); i++)
	{
		if(naj!=planine.at(i).dimenzija)
		{
			planine.erase(planine.begin()+i);
			i--;
		}
	}
	//std::cout&lt;&lt;"proso2........"&lt;&lt;planine.size()&lt;&lt;" .....";
	if(planine.size()&gt;1)
	{

		constexpr double e=0.000000000000001;
		///pronadji najveci vrh medju preostalim
		double drugi=planine.at(0).vrh;
		for(auto x : planine)
		{
			if(x.vrh&gt;drugi)drugi=x.vrh;
		}
		///izbaci s manjim vrhovima
		for(int i=0; i&lt;planine.size(); i++)
		{
			if(!(std::fabs(drugi-planine.at(i).vrh)&lt;e))
			{
				planine.erase(planine.begin()+i);
				i--;
			}
			if(planine.size()-1==i)break;
		}
		//std::cout&lt;&lt;"proso3";

	}
	if(planine.size()&gt;1)
	{


		///pronadji sa najmanjom i koordinatom
		int prva=planine.at(0).i;
		for(auto x : planine)
		{
			if(prva&gt;x.i)prva=x.i;
		}

		///izbaci sve s vecom i koordinatom
		for (int i = 0; i &lt; planine.size(); i++)
		{
			if(prva!=planine.at(i).i)
			{
				planine.erase(planine.begin()+i);
				i--;
			}
			if(planine.size()-1==i)break;
		}
		//std::cout&lt;&lt;"proso4";
	}

	if(planine.size()&gt;1)
	{
		//pronadji sa najmanjom j koordinatom
		int prvaj=planine.at(0).j;
		for(auto x : planine)
		{
			if(x.j&lt;prvaj)prvaj=x.j;
		}

		///izbaci sve sa vecom j koordinatom

		for(int i=0; i&lt;planine.size(); i++)
		{
			if(prvaj!=planine.at(i).j)
			{
				planine.erase(planine.begin()+i);
				i--;
			}
			if(planine.size()-1==i)break;
		}
		//std::cout&lt;&lt;"proso5";
	}

std::vector&lt;std::vector&lt;double&gt;&gt; rjesenje;
std::vector&lt;double&gt; temp;

for(int i=planine.at(0).i-(planine.at(0).dimenzija-1);i&lt;planine.at(0).i+(planine.at(0).dimenzija);i++)
{
	for(int j= planine.at(0).j-(planine.at(0).dimenzija-1); j&lt;planine.at(0).j+(planine.at(0).dimenzija);j++)
	{
		temp.push_back(matrica.at(i).at(j));
	}
	rjesenje.push_back(temp);
	temp.resize(0);
}
	return rjesenje;
}

std::vector&lt;Planina&gt; FindPlanine(std::vector&lt;std::vector&lt;double&gt;&gt; matrica)
{
	std::vector&lt;Planina&gt; planine;
	Planina temp;
	constexpr double e=0.00000000000001;
	for(int i=0; i&lt;matrica.size(); i++)
	{
		for(int j=0; j&lt;matrica.at(i).size(); j++)
		{
			double vrh = matrica.at(i).at(j);

			for(int k=1; k&lt;=matrica.size(); k++)
			{
				if(i+k &gt;= matrica.size() || i-k &lt; 0 || j+k &gt;= matrica.at(i).size() || j-k &lt; 0 )
				{
					temp.i=i;
					temp.j=j;
					temp.dimenzija=k;
					temp.vrh=matrica.at(i).at(j);
				//	std::cout&lt;&lt;"\n was in the right place \n";
					planine.push_back(temp);
					break;
				}
				else
				{
					double suma {0};
					for(int q=-k; q&lt;=k; q++)
					{
						suma += matrica.at(i-k).at(j+q);
						suma += matrica.at(i+k).at(j+q);
						suma += matrica.at(i+q).at(j+k);
						suma += matrica.at(i+q).at(j-k);
					}
					suma -= matrica.at(i+k).at(j+k);
					suma -= matrica.at(i+k).at(j-k);
					suma -= matrica.at(i-k).at(j+k);
					suma -= matrica.at(i-k).at(j-k);

					if(suma&gt;vrh || std::fabs(suma-vrh)&lt;e)
					{
						temp.i=i;
						temp.j=j;
						temp.dimenzija=k;
						temp.vrh=matrica.at(i).at(j);
						planine.push_back(temp);
						break;
					}
					else
					{
						vrh=suma;
					}

				}
			}
			if(j==matrica.at(i).size()-1)break;
		}
		if(i==matrica.size()-1)break;
	}


	return planine;
}

bool Jeligrbava(std::vector&lt;std::vector&lt;double&gt; &gt; matrica)
{
	if(matrica.size()==0)throw 1;
	auto vel=matrica.at(0).size();

	for(auto veca : matrica)
	{
		if((veca.size())!=vel)return true;
	}
	if(vel==0)throw 1;
</font>	return false;
}</pre>
</body>
</html>
