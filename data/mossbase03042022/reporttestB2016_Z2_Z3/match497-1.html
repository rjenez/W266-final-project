<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z2/Z3/student6776.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z2/Z3/student9673.cpp<p></p><pre>
/*B 16/17, ZadaÄ‡a 2, Zadatak 3 */

#include &lt;iostream&gt;
#include &lt;stdexcept&gt;
#include &lt;vector&gt;
#include &lt;deque&gt;
#include &lt;type_traits&gt;
#include &lt;iomanip&gt;
#include &lt;algorithm&gt;


<a name="0"></a><font color="#FF0000"><a href="match497-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_4.gif"/></a>

int SumaDjelilaca (long long int broj){
    int s(0);
    if(broj&lt;0) broj=-broj;
    for(int i=1; i&lt;=broj; i++) if(broj%i==0) s+=i;
    
    return s;
}

int BrojProstihFaktora (long long int broj){
    int s(0);
    
    if(broj&lt;0) broj=-broj;
    for(int i=2; i&lt;=broj; i++){
        if(broj%i==0){
</font>            broj/=i;
            i=1; 
            s++;
        }
    }
    return s;
}

int SumaCifara (long long int broj){
	int s(0);

	if(broj&lt;0) broj=-broj;
	while(broj!=0){
        s+=broj%10;
        broj/=10;
	}

	return s;
}

int BrojSavrsenihDjelilaca (long long int broj){
    int s(0);
    
    if(broj&lt;0) broj=-broj;
    for(int i=1; i&lt;=broj; i++){
        if(broj%i==0){
        	int suma(0);
        	for(int j=1; j&lt;i; j++) if(i%j==0) suma+=j;
        	if(suma==i) s++;
        }
    }
    return s;
} 

template &lt;typename Tip&gt;
		std::vector&lt;std::vector&lt;Tip&gt;&gt; SortirajPresjek (std::vector&lt;std::vector&lt;Tip&gt;&gt; mat){
 		mat.resize(mat.size()+1);
    	int n(mat.size());

    	std::vector&lt;std::vector&lt;Tip&gt;*&gt; niz_pok(0);
    	niz_pok.resize(n);

    	for(int i=0; i&lt;n; i++) niz_pok[i]=&amp;mat[i];

    	std::sort(niz_pok[0], niz_pok[n-1], [](std::vector&lt;Tip&gt; p1, std::vector&lt;Tip&gt; p2) -&gt; bool { if(p1[2]==p2[2]){ if(p1[0]==p2[0]) return (p1[1]&lt;p2[1]); return (p1[0]&lt;p2[0]);} return(p1[2]&lt;p2[2]);});
    	mat.resize(mat.size()-1);
		return mat;
}

template &lt;typename Tip&gt;
 	std::vector&lt;std::vector&lt;Tip&gt;&gt; SortirajRazliku (std::vector&lt;std::vector&lt;Tip&gt;&gt; mat){
    	mat.resize(mat.size()+1);
    	int n(mat.size());

    	std::vector&lt;std::vector&lt;Tip&gt;*&gt; niz_pok(0);
    	niz_pok.resize(n);

    	for(int i=0; i&lt;n; i++) niz_pok[i]=&amp;mat[i];

    	std::sort(niz_pok[0], niz_pok[n-1], [](std::vector&lt;Tip&gt; p1, std::vector&lt;Tip&gt; p2) -&gt; bool { if(p1[0]==p2[0]) return (p2[1] &lt; p1[1]); return(p2[0] &lt; p1[0]); });
    	mat.resize(mat.size()-1);
    	return mat;
	}
	
template &lt;typename PokTip, typename ItTip, typename Tip1, typename Tip2&gt;
<a name="1"></a><font color="#00FF00"><a href="match497-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_2.gif"/></a>

	auto UvrnutiPresjek (PokTip p1, PokTip p2, ItTip it1, ItTip it2, Tip1 fun (Tip2)) -&gt; std::vector&lt;std::vector&lt;typename std::remove_reference&lt;decltype(*p1)&gt;::type&gt;&gt; {
		
		typedef typename std::remove_reference&lt;decltype(*p1)&gt;::type PovratniTip;
		std::vector&lt;std::vector&lt;PovratniTip&gt;&gt; mat;
</font>		std::vector&lt;PovratniTip&gt; red;
		ItTip pomocni(it1); 
		
		while(p1!=p2){
			pomocni=it1;
			while(pomocni!=it2){
				if(fun (*pomocni) == fun (*p1)){
					red.push_back(*p1);
					red.push_back(*pomocni);
					red.push_back(fun(*pomocni));
					mat.push_back(red);
					red.resize(0);

				}
				pomocni++;
			}
			p1++;
		}
		mat=SortirajPresjek(mat);
		
		return mat;	
	}
	
template &lt;typename PokTip, typename ItTip&gt;
<a name="2"></a><font color="#0000FF"><a href="match497-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_2.gif"/></a>

	auto UvrnutiPresjek (PokTip p1, PokTip p2, ItTip it1, ItTip it2) -&gt; std::vector&lt;std::vector&lt;typename std::remove_reference&lt;decltype(*p1)&gt;::type&gt;&gt; {
		
		typedef typename std::remove_reference&lt;decltype(*p1)&gt;::type PovratniTip;
		std::vector&lt;std::vector&lt;PovratniTip&gt;&gt; mat;
</font>		std::vector&lt;PovratniTip&gt; red;
		ItTip pomocni(it1); 
		
		while(p1!=p2){
			pomocni=it1;
			while(pomocni!=it2){
				if(*p1==*pomocni){
					red.push_back(*p1);
					red.push_back(0);
					red.push_back(0);
					mat.push_back(red);
					red.resize(0);
				}
				pomocni++;
			}
			p1++;
		}
		
		return mat;
	}
	
template &lt;typename PokTip, typename ItTip, typename Tip1, typename Tip2&gt;
<a name="3"></a><font color="#00FFFF"><a href="match497-0.html#3" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_2.gif"/></a>

	auto UvrnutaRazlika (PokTip p1, PokTip p2, ItTip it1, ItTip it2, Tip1 fun (Tip2)) -&gt; std::vector&lt;std::vector&lt;typename std::remove_reference&lt;decltype(*p1)&gt;::type&gt;&gt; {
	
	typedef typename std::remove_reference&lt;decltype(*p1)&gt;::type PovratniTip;
	std::vector&lt;std::vector&lt;PovratniTip&gt;&gt; mat;
</font>	std::vector&lt;PovratniTip&gt; red;
	ItTip pomocni(it1);
	PokTip pocetni(p1);
	
	while(p1!=p2){
		pomocni=it1;
		while(pomocni!=it2){
			if(fun(*p1)==fun(*pomocni)) break;
			pomocni++;
		}
		if(pomocni==it2){
			red.push_back(*p1);
			red.push_back(fun(*p1));
			mat.push_back(red);
			red.resize(0);
		}
		p1++;
	}
	
	while(it1!=it2){
		pomocni=pocetni;
		while(pomocni!=p2){
			if(fun(*it1)==fun(*pomocni)) break;
			pomocni++;
		}
		if(pomocni==p2){
			red.push_back(*it1);
			red.push_back(fun(*it1));
			mat.push_back(red);
			red.resize(0);
		}
		it1++;
	}
	
    mat=SortirajRazliku(mat);
	
	return mat;
}

template &lt;typename PokTip, typename ItTip&gt;
	auto UvrnutaRazlika (PokTip p1, PokTip p2, ItTip it1, ItTip it2) -&gt; std::vector&lt;std::vector&lt;typename std::remove_reference&lt;decltype(*p1)&gt;::type&gt;&gt; {
	
	typedef typename std::remove_reference&lt;decltype(*p1)&gt;::type PovratniTip;
	std::vector&lt;std::vector&lt;PovratniTip&gt;&gt; mat;
	std::vector&lt;PovratniTip&gt; red;
	ItTip pomocni(it1);
	PokTip pocetni(p1);
	
	while(p1!=p2){
		pomocni=it1;
		while(pomocni!=it2){
			if(*p1==*pomocni) break;
			pomocni++;
		}
		if(pomocni==it2){
			red.push_back(*p1);
			red.push_back(0);
			mat.push_back(red);
			red.resize(0);
		}
		p1++;
	}
	
	while(it1!=it2){
		pomocni=pocetni;
		while(pomocni!=p2){
			if(*it1==*pomocni) break;
			pomocni++;
		}
		if(pomocni==p2){
			red.push_back(*it1);
			red.push_back(0);
			mat.push_back(red);
			red.resize(0);
		}
		it1++;
	}
	
    mat=SortirajRazliku(mat);
	
	return mat;
}
	
int main(){
	std::deque&lt;int&gt; d1(0), d2(0);
	int n1(0), n2(0);
	int broj;
	bool Isti(false);
	
	std::cout &lt;&lt; "Unesite broj elemenata prvog kontejnera: ";
	std::cin &gt;&gt; n1;
	std::cout &lt;&lt; "Unesite elemente prvog kontejnera: ";
	
	while (d1.size()!=n1){
		Isti=false;
		std::cin &gt;&gt; broj;
		for(int i=0; i&lt;d1.size(); i++) {
			if(d1[i]==broj) Isti=true;
		}
		if(!Isti) d1.push_back(broj);
	}
	
	std::cout &lt;&lt; "Unesite broj elemenata drugog kontejnera: ";
	std::cin &gt;&gt; n2;
	std::cout &lt;&lt; "Unesite elemente drugog kontejnera: ";
	
	while(d2.size()!=n2){ 
		Isti=false;
		std::cin &gt;&gt; broj;
		for(int i=0; i&lt;d2.size(); i++) {
			if(d2[i]==broj) Isti=true;
		}
		if(!Isti) d2.push_back(broj);
	}
	
	auto mat = UvrnutiPresjek(d1.begin(), d1.end(), d2.begin(), d2.end(), SumaCifara);
	
<a name="4"></a><font color="#FF00FF"><a href="match497-0.html#4" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_1.gif"/></a>

	std::cout &lt;&lt; "Uvrnuti presjek kontejnera:" &lt;&lt; std::endl;
	for(int i=0; i&lt;mat.size(); i++){
		for(int j=0; j&lt;mat[i].size(); j++){
</font>			std::cout &lt;&lt; std::setw(6) &lt;&lt; mat[i][j] &lt;&lt; " ";
		}
		std::cout &lt;&lt; std::endl;
	}
	
	auto matrica = UvrnutaRazlika(d1.begin(), d1.end(), d2.begin(), d2.end(), BrojProstihFaktora);
	
<a name="5"></a><font color="#FF0000"><a href="match497-0.html#5" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_1.gif"/></a>

	std::cout &lt;&lt; "Uvrnuta razlika kontejnera:" &lt;&lt; std::endl;
	for(int i=0; i&lt;matrica.size(); i++){
		for(int j=0; j&lt;matrica[i].size(); j++){
</font>			std::cout &lt;&lt; std::setw(6) &lt;&lt; matrica[i][j] &lt;&lt; " ";
		}
		std::cout &lt;&lt; std::endl;
	}
	
	std::cout &lt;&lt; "Dovidjenja!";
	return 0;
}
</pre>
</body>
</html>
