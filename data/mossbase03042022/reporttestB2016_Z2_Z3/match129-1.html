<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z2/Z3/student1146.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z2/Z3/student6634.cpp<p></p><pre>
/*B 16/17, ZadaÄ‡a 2, Zadatak 3
	
	NAPOMENA: i javni ATo-vi su dio postavke
	
	Autotestovi by Berina Cocalic. Sva pitanja, sugestije
	i prijave gresaka saljite na mail: bcocalic1@etf.unsa.ba
	
*/
#include &lt;iostream&gt;
#include &lt;type_traits&gt;
#include &lt;vector&gt;
#include &lt;algorithm&gt;
#include &lt;deque&gt;
#include &lt;iomanip&gt;

<a name="0"></a><font color="#FF0000"><a href="match129-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_50.gif"/></a>

using std::vector;
using std::deque;

#define tip typename std::remove_reference&lt;decltype(*a)&gt;::type

template &lt;typename T, typename F&gt;
auto izracunaj(T a, T b, F f)
-&gt; vector&lt;tip&gt;
{
	vector&lt;tip&gt; rez;
	for (auto i = a; i != b; i++)
		rez.push_back(f(*i));
	return rez;
}

template &lt;typename T, typename U, typename F&gt;
auto UvrnutiPresjek(T a, T b, U c, U d, F f)
-&gt; vector&lt;vector&lt;tip&gt;&gt;
{
	vector&lt;vector&lt;tip&gt;&gt; rez;
	
	auto val2 = izracunaj(c, d, f);
	
	for (auto i = a; i != b; i++) {
		auto prvi = *i;
		auto val = f(prvi);
		int br = 0;
		for (auto j = c; j != d; j++) {
			auto drugi = *j;
			if (val == val2[br])
				rez.push_back({prvi, drugi, val});
			br++;
		}
	}
	typedef tip t;
	std::sort(rez.begin(), rez.end(), 
		[](const vector&lt;t&gt;&amp; a, const vector&lt;t&gt;&amp; b) {
			if (a[2] != b[2]) return a[2] &lt; b[2];
			if (a[0] != b[0]) return a[0] &lt; b[0];
			return a[1] &lt; b[1];
		}
	);
	
	
	return rez;
}

template &lt;typename T, typename U&gt;
auto UvrnutiPresjek(T a, T b, U c, U d)
-&gt; vector&lt;vector&lt;tip&gt;&gt;
{
	vector&lt;vector&lt;tip&gt;&gt; rez;
	for (auto it = a; it != b; it++) 
		if (std::find(c, d, *it) != d)
			rez.push_back({*it, 0, 0});
			
	typedef tip t;
	std::sort(rez.begin(), rez.end(),
		[] (const vector&lt;t&gt;&amp; a, const vector&lt;t&gt;&amp; b) {
			return a[0] &lt; b[0];
		}
	);
	return rez;
}

template &lt;typename T, typename U, typename F&gt;
auto UvrnutaRazlika(T a, T b, U c, U d, F f)
-&gt; vector&lt;vector&lt;tip&gt;&gt;
{
	vector&lt;vector&lt;tip&gt;&gt; rez;
	
	auto val1 = izracunaj(a, b, f);
	auto val2 = izracunaj(c, d, f);
	
	int i = 0;
	for (auto it = a; it != b; it++) {
		if (std::find(val2.begin(), val2.end(), val1[i]) == val2.end())
			rez.push_back({*it, val1[i]});
		i++;
	}
	
	i = 0;
	for (auto it = c; it != d; it++) {
		if (std::find(val1.begin(), val1.end(), val2[i]) == val1.end())
			rez.push_back({*it, val2[i]});
		i++;
	}
	typedef tip t;
	std::sort(rez.begin(), rez.end(), 
		[] (const vector&lt;t&gt;&amp; a, const vector&lt;t&gt;&amp; b) {
			if (a[0] != b[0]) return b[0] &lt; a[0];
			return b[1] &lt; a[1];
</font>		}
	);
	return rez;
}

<a name="1"></a><font color="#00FF00"><a href="match129-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_47.gif"/></a>

template &lt;typename T, typename U&gt;
auto UvrnutaRazlika(T a, T b, U c, U d)
-&gt; vector&lt;vector&lt;tip&gt;&gt;
{
	vector&lt;vector&lt;tip&gt;&gt; rez;
	for (auto it = a; it != b; it++) 
		if (std::find(c, d, *it) == d)
			rez.push_back({*it, 0});
	for (auto it = c; it != d; it++)
		if (std::find(a, b, *it) == b)
			rez.push_back({*it, 0});
	
	typedef tip t;
	std::sort(rez.begin(), rez.end(),
		[] (const vector&lt;t&gt;&amp; a, const vector&lt;t&gt;&amp; b) {
			return b[0] &lt; a[0];
		}
	);
	return rez;
}

int BrojProstihFaktora(long long int x) {
	int rez = 0;
	if (x &lt; 0) x = -x;
	long long int i = 2;
	while (i &lt;= x) {
		if (x % i == 0) {
			rez++;
			x /= i;
		} else {
			i++;
		}
	}
	return rez;
}

int SumaDjelilaca(long long int x) {
	int rez = 0;
	for (long long int i = 1; i &lt;= x; i++) 
		if (x % i == 0)
			rez += i;
	return rez;
}

bool savrsen(long long int x) {
	long long int s = 0;
	for (long long int i = 1; i &lt; x; i++)
		if (x % i == 0)
			s += i;
	return s == x;
}

int BrojSavrsenihDjelilaca(long long int x) {
	int rez = 0;
	if (x &lt; 0) x = -x;
	for (long long int i = 6; i &lt;= x; i++)
		if (x % i == 0 &amp;&amp; savrsen(i))
			rez++;
	return rez;
}

int main() {
	using std::cout;
	using std::cin;
	
	auto unesi = [](const char* ime) {
		cout &lt;&lt; "Unesite broj elemenata " &lt;&lt; ime &lt;&lt; " kontejnera: ";
		int n;
		cin &gt;&gt; n;
		cout &lt;&lt; "Unesite elemente " &lt;&lt; ime &lt;&lt; " kontejnera: ";
		deque&lt;int&gt; rez;
		while (rez.size() &lt; n) {
			int x;
			cin &gt;&gt; x;
			if (std::find(rez.begin(), rez.end(), x) == rez.end())
				rez.push_back(x);
		}
		return rez;
	};
	
	auto a = unesi("prvog");
	auto b = unesi("drugog");
	
	auto presjek = UvrnutiPresjek(a.begin(), a.end(), b.begin(), b.end(), 
		[](int x) {
			int rez = 0;
			if (x &lt; 0) x = -x;
			while (x) {
				rez += x % 10;
				x /= 10;
			}
			return rez;
		}
	);
	cout &lt;&lt; "Uvrnuti presjek kontejnera:\n";
	for (auto const&amp; red : presjek) {
		for (int x : red)
			cout &lt;&lt; std::setw(6) &lt;&lt; x &lt;&lt; ' ';
		cout &lt;&lt; '\n';
	}
	
	auto razlika = UvrnutaRazlika(a.begin(), a.end(), b.begin(), b.end(), BrojProstihFaktora);
	cout &lt;&lt; "Uvrnuta razlika kontejnera:\n";
	for (auto const&amp; red : razlika) {
		for (int x : red)
			cout &lt;&lt; std::setw(6) &lt;&lt; x &lt;&lt; ' ';
		cout &lt;&lt; '\n';
	}
	cout &lt;&lt; "Dovidjenja!";
</font>	return 0;
}</pre>
</body>
</html>
