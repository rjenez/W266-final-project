<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z2/Z3/student7616.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z2/Z3/student7616.cpp<p></p><pre>
/*B 16/17, ZadaÄ‡a 2, Zadatak 3
	
	NAPOMENA: i javni ATo-vi su dio postavke
	
	Autotestovi by Berina Cocalic. Sva pitanja, sugestije
	i prijave gresaka saljite na mail: bcocalic1@etf.unsa.ba
	
*/
#include &lt;iostream&gt;
#include &lt;vector&gt;
#include &lt;deque&gt;
#include &lt;iomanip&gt;
#include &lt;type_traits&gt;
#include &lt;algorithm&gt;
#include &lt;complex&gt;

int SumaCifara(long long int broj)
{
	int suma=0;
	while(broj!=0)
	{
		suma+=broj%10;
		broj/=10;
	}
	return suma;
}
<a name="3"></a><font color="#00FFFF"><a href="match803-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_1.gif"/></a>

long long int SumaDjelilaca(long long int broj)
{
	long long int suma(0);
	for(int i=1; i&lt;=broj; i++)
	{
		if(broj%i==0) suma+=i;
	}
	return suma;
}

int BrojProstihFaktora(long long int n)
</font>{
	int br(0);
	int a,pom(n);
	pom = n%2;
	while(pom==0)
	{
		a=n/2;
		br++;
		n=a;
		pom=n%2;
	}
	for(int i=3; i&lt;=n;i+=2)
	{
		int p(n%i);
		while(p==0)
		{
			a=n/i;
		    br++;
			n=a;
			p=n%i;
		}
	}
	return br;
}

bool Savrsen(int n)
{
	bool cs(false);
<a name="4"></a><font color="#FF00FF"><a href="match803-1.html#4" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_1.gif"/></a>

	int s(0);
	for(int i=1; i&lt;n; i++)
	{
		if(n%i==0) s+=i;
	}
	if(n==s) cs=true;
</font><a name="5"></a><font color="#FF0000"><a href="match803-1.html#5" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_1.gif"/></a>

	if(cs) return true;
	return false;
}

int BrojSavrsenihDjelilaca(long long int n)
{
	int br(0);
	for(int i=1; i&lt;=n; i++)
	{
		if(n%i==0)
</font>		{
			if(Savrsen(i))
			{
				br++;
			}
		}
	}
	return br;
}
template &lt;typename Tip1, typename Tip2, typename Funkcija&gt;

	auto UvrnutiPresjek(Tip1 p1, Tip1 p2, Tip2 p3, Tip2 p4, Funkcija f) -&gt; std::vector&lt;std::vector&lt;typename std::remove_reference&lt;decltype(*p1)&gt;::type&gt;&gt;
	{
		std::vector&lt;typename std::remove_reference&lt;decltype(*p1)&gt;::type&gt; v1,v2,v3;
		while(p1!=p2)
		{
			Tip2 pom=p3;
			while(pom!=p4)
			{
				if(f(*pom) == f (*p1))
				{
					v1.push_back(*p1);
					v2.push_back(*pom);
					v3.push_back(f(*p1));
				}
				pom++;
			}
			p1++;
		}
		
		std::vector&lt;std::vector&lt;typename std::remove_reference&lt;decltype(*p1)&gt;::type&gt;&gt;mat(v1.size(), std::vector&lt;typename std::remove_reference&lt;decltype(*p1)&gt;::type&gt;(3));
		int j=0;
		for(int i=0; i&lt;mat.size(); i++)
		{
			mat[i][0]=v1[j];
			mat[i][1]=v2[j];
			mat[i][2]= v3[j];
			j++;
		}
		std::sort(mat.begin(), mat.end(), [] (std::vector&lt;typename std::remove_reference&lt;decltype(*p1)&gt;::type&gt;v1,std::vector&lt;typename std::remove_reference&lt;decltype(*p1)&gt;::type&gt; v2)
		{
			if(v1[0]==v2[0]) return v1[1]&gt;v2[1];
			return v1[0] &lt; v2[0];
		});
		return mat;
	}
	template &lt;typename Tip1, typename Tip2&gt;
auto UvrnutiPresjek(Tip1 p1, Tip1 p2, Tip2 p3, Tip2 p4)
    -&gt; std::vector&lt;std::vector&lt;typename std::remove_reference&lt;decltype(*p1)&gt;::type&gt;&gt; {
	std::vector&lt;typename std::remove_reference&lt;decltype(*p1)&gt;::type&gt; v1;
	while(p1 != p2){
        Tip2 pom = p3;
        while(pom != p4){
                if(*pom == *p1){
                    v1.push_back(*p1);
                }
            pom++;
        }
        p1++;
	}

std::vector&lt;std::vector&lt;typename std::remove_reference&lt;decltype(*p1)&gt;::type&gt;&gt; mat(v1.size(),
                        std::vector&lt;typename std::remove_reference&lt;decltype(*p1)&gt;::type&gt;(3));
	int j = 0;
        for(int i = 0; i &lt; mat.size(); i++){
             mat[i][0] =  v1[j];
                mat[i][1] = 0;
                mat[i][2] = 0;
            j++;
        }
      
   std::sort(mat.begin(),mat.end(),[](std::vector&lt;typename std::remove_reference&lt;decltype(*p1)&gt;::type&gt; v1,
                                      std::vector&lt;typename std::remove_reference&lt;decltype(*p1)&gt;::type&gt; v2){
             if(v1[0] == v2[0])return v1[1] &gt; v2[1];
             return v1[0] &lt; v2[0];
             });
	return mat;
}
	
	
template &lt;typename Tip1, typename Tip2,typename Funkcija&gt;
auto UvrnutaRazlika (Tip1 p1, Tip1 p2, Tip2 p3, Tip2 p4, Funkcija f)-&gt;std::vector&lt;std::vector&lt;typename std::remove_reference&lt;decltype(*p1)&gt;::type&gt;&gt;
{
	std::vector&lt;typename std::remove_reference&lt;decltype(*p1)&gt;::type&gt; v1, v2 ;
	auto mat= UvrnutiPresjek(p1,p2,p3,p4,f);
	Tip1 pom1=p1;
	while(pom1!=p2) v1.push_back(*pom1++);
	Tip2 pom2 =p3;
	while(pom2!=p4) v2.push_back(*pom2++);
	for(int i=0; i&lt;mat.size(); i++)
	{
		for(int j=0; j&lt;v1.size(); j++)
		{
			if(v1[j]== mat[i][0]) v1.erase(v1.begin()+j);
		}
	}
	for(int i=0; i&lt;mat.size(); i++)
	{
		for(int j=0; j&lt;v2.size(); j++)
		{
			if(v2[j]== mat[i][1]) v2.erase(v2.begin()+j);
		}
	}
	std::vector&lt;std::vector&lt;typename std::remove_reference&lt;decltype(*p1)&gt;::type&gt;&gt; m(v1.size() + v2.size(), std::vector&lt;typename std::remove_reference&lt;decltype(*p1)&gt;::type&gt;(2));
	int j=0;
	for(int i=0; i&lt;m.size(); i++)
	{
		m[i][0] = v1[j];
		m[i][1]= f(v1[j]);
		j++;
	}
	j=0;
	for(int i=v1.size(); i&lt;m.size(); i++)
	{
		m[i][0]= v2[j];
		m[i][1]= f(v2[j]);
		j++;
	}
	std::sort(m.begin(), m.end(), [] (std::vector&lt;typename std::remove_reference&lt;decltype(*p1)&gt;::type&gt;v1,std::vector&lt;typename std::remove_reference&lt;decltype(*p1)&gt;::type&gt; v2)
	{
		if(v1[0]==v2[0]) return v1[1] &lt;v2[1];
		return v1[0] &gt; v2[0];});
		return m;
}

template &lt;typename Tip1, typename Tip2&gt;
auto UvrnutaRazlika (Tip1 p1, Tip1 p2, Tip2 p3, Tip2 p4)-&gt;std::vector&lt;std::vector&lt;typename std::remove_reference&lt;decltype(*p1)&gt;::type&gt;&gt;
{
	std::vector&lt;typename std::remove_reference&lt;decltype(*p1)&gt;::type&gt; v1, v2 ;
	auto mat= UvrnutiPresjek(p1,p2,p3,p4);
	Tip1 pom1=p1;
	while(pom1!=p2) v1.push_back(*pom1++);
	Tip2 pom2 =p3;
	while(pom2!=p4) v2.push_back(*pom2++);
	for(int i=0; i&lt;mat.size(); i++)
	{
		for(int j=0; j&lt;v1.size(); j++)
		{
		if(v1[j]== mat[i][0]) v1.erase(v1.begin()+j);
		}
	}
	for(int i=0; i&lt;mat.size(); i++)
	{
		for(int j=0; j&lt;v2.size(); j++)
		{
			if(v2[j]== mat[i][0]) v2.erase(v2.begin()+j);
		}
	}
	//for(int i = 0; i &lt; v2.size(); i++)std::cout&lt;&lt; v2[i] &lt;&lt;"  ";
	std::vector&lt;std::vector&lt;typename std::remove_reference&lt;decltype(*p1)&gt;::type&gt;&gt; m(v1.size() + v2.size(), std::vector&lt;typename std::remove_reference&lt;decltype(*p1)&gt;::type&gt;(2));
	int j=0;
	for(int i=0; i&lt;m.size(); i++)
	{
		m[i][0] = v1[j];
		m[i][1]=  0;
		j++;
	}
	j=0;
	for(int i=v1.size(); i&lt;m.size(); i++)
	{
		m[i][0]= v2[j];
		m[i][1]= 0;
		j++;
	}
	std::sort(m.begin(), m.end(), [] (std::vector&lt;typename std::remove_reference&lt;decltype(*p1)&gt;::type&gt;v1,std::vector&lt;typename std::remove_reference&lt;decltype(*p1)&gt;::type&gt; v2)
	{
<a name="0"></a><font color="#FF0000"><a href="match803-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_2.gif"/></a>

		if(v1[0]==v2[0]) return v1[1] &lt;v2[1];
		return v1[0] &gt; v2[0];});
		return m;
}


	
int main(){
    int br1,br2;
    std::cout&lt;&lt;"Unesite broj elemenata prvog kontejnera: "; std::cin&gt;&gt;br1;
    std::deque&lt;int&gt; d1;
</font>    std::cout&lt;&lt;"Unesite elemente prvog kontejnera: ";
<a name="1"></a><font color="#00FF00"><a href="match803-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_1.gif"/></a>

        for(int i = 0; i &lt; br1; i++){
            int pom;
            std::cin&gt;&gt; pom;
       		auto it = std::find(d1.begin(),d1.end(),pom);
       		if(it == d1.end())d1.push_back(pom); else i--;
</font>        }
     std::cout&lt;&lt;"Unesite broj elemenata drugog kontejnera: "; std::cin&gt;&gt;br2;
    std::deque&lt;int&gt; d2;
    std::cout&lt;&lt;"Unesite elemente prvog kontejnera: ";
<a name="2"></a><font color="#0000FF"><a href="match803-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_1.gif"/></a>

        for(int i = 0; i &lt; br2; i++){
       int pom;
            std::cin&gt;&gt; pom;
       		auto it = std::find(d2.begin(),d2.end(),pom);
       		if(it == d2.end() ) d2.push_back(pom); else i--;
</font>       		}

	std::cout &lt;&lt; "Uvrnuti presjek kontejnera: " &lt;&lt; std::endl;
	auto matrica = UvrnutiPresjek(d1.begin(), d1.end(), d2.begin(), d2.end(), SumaCifara);
	for(int i = 0; i &lt; matrica.size(); i++){
        for(int j = 0; j &lt; matrica[i].size(); j++)
            std::cout&lt;&lt;std::setw(6)&lt;&lt; matrica[i][j]&lt;&lt;" ";
        std::cout&lt;&lt;std::endl;
	}

	std::cout &lt;&lt; "Uvrnuta razlika kontejnera: " &lt;&lt; std::endl;
	auto matrica1 = UvrnutaRazlika(d1.begin(), d1.end(), d2.begin(), d2.end(), BrojProstihFaktora);
	for(int i = 0; i &lt; matrica1.size(); i++){
        for(int j = 0; j &lt; matrica1[i].size(); j++)
            std::cout&lt;&lt;std::setw(6)&lt;&lt; matrica1[i][j]&lt;&lt;" ";
        std::cout&lt;&lt;std::endl;
	}
std::cout &lt;&lt; "Dovidjenja!";

    return 0;

}</pre>
</body>
</html>
