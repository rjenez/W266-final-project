<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z2/Z3/student6776.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z2/Z3/student6776.cpp<p></p><pre>
//B 16/17, ZadaÄ‡a 2, Zadatak 3

#include &lt;iostream&gt;
#include &lt;algorithm&gt;
#include &lt;deque&gt;
#include &lt;iomanip&gt;
#include &lt;type_traits&gt;
#include &lt;vector&gt;
#include &lt;string&gt;
#include &lt;cmath&gt;

typedef std::vector&lt;int&gt; Vektor;
typedef std::vector&lt;std::vector&lt;int&gt;&gt; Matrica;

bool JelProst(long long int broj){
	if(broj&lt;0){broj=-broj;}
	for(int i=2;i&lt;std::sqrt(broj);i++){
		if(broj%i==0) {return false;}
	}
	return true;
}
Matrica KreirajMatricu(int br_red, int br_kol){
	return Matrica(br_red, Vektor(br_kol));
}
int SumaDjelilaca(long long int broj){
	int suma{0};
	if(broj&lt;0){broj=-broj;}
	for(int i=1; i&lt;=broj; i++){
		if(broj%i==0) suma+=i;
	}
	return suma;
}
int BrojProstihFaktora(long long int broj){
	int brojac{0};
	if(broj&lt;0){broj=-broj;}
	for(int i=2;i&lt;=broj;i++){
		if(broj%i==0){
			if(JelProst(i)){
				brojac++;
				broj/=i;
				i--;
			}
		}
	}
	return brojac;
}
int BrojSavrsenihDjelilaca(long long int broj){
	int brojac{};
	for(int i=broj;i&gt;=1;i--){
		if(broj%i==0){
			int djelilac{i}, suma{0};
				for(int j=djelilac;j&gt;=1;j--){
					if(djelilac%j==0){
						suma+=j;
					}
				}
			suma=suma-djelilac;
			if(suma==djelilac) brojac++;
		}
	}
	return brojac;
}
int SumaCifara(long long int broj){
	int suma{};
	if(broj&lt;0){broj=-broj;}
	while(broj!=0){
		suma+=(broj%10);
		broj/=10;
	}
	return suma;
}

//Funckija uvrnuti presjek
template&lt;typename tip1, typename tip2, typename funk&gt;
auto UvrnutiPresjek(tip1 pok11, tip1 pok12, tip2 pok21, tip2 pok22, funk f) -&gt;std::vector&lt;std::vector&lt;typename std::remove_reference&lt;decltype(*pok11)&gt;::type&gt;&gt; {
	std::vector&lt;std::vector&lt;typename std::remove_reference&lt;decltype(*pok11)&gt;::type&gt;&gt; mat;
	int duzina1(pok12-pok11);
	int duzina2(pok22-pok21);
	tip1 poc1{pok11};
	tip2 poc2{pok21};
	
	for(int i=0;i&lt;duzina1;i++){
		int broj1(f(*pok11));
		
		for(int j=0;j&lt;duzina2;j++){
		int broj2(f(*pok21));
			if(broj1==broj2) {
				std::vector&lt;typename std::remove_reference&lt;decltype(*pok11)&gt;::type&gt; pomocni{};
				pomocni.push_back(*pok11);
				pomocni.push_back(*pok21);
				pomocni.push_back(broj1);
				mat.push_back(pomocni);
			}
			pok21++;
		}
		pok11++;
		pok21=poc2;
	}
	pok11=poc1;//vracamo pok11 na pocetak
		
	std::sort(mat.begin(), mat.end(), [](std::vector&lt;typename std::remove_reference&lt;decltype(*pok11)&gt;::type&gt; x, std::vector&lt;typename std::remove_reference&lt;decltype(*pok11)&gt;::type&gt; y){
		if(x[2]==y[2]){
			if(x[0]==y[0]){
				return(x[1]&lt;y[1]);
			}
			else{
				return(x[0]&lt;y[0]);
			}
		}else
			return(x[2]&lt;y[2]);
	});
	
	
	return mat;
}
//Funckija uvrnuti presjek bez funkcije kao barametra
template&lt;typename tip1, typename tip2&gt;
<a name="5"></a><font color="#FF0000"><a href="match383-1.html#5" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_1.gif"/></a>

auto UvrnutiPresjek(tip1 pok11, tip1 pok12, tip2 pok21, tip2 pok22) -&gt;std::vector&lt;std::vector&lt;typename std::remove_reference&lt;decltype(*pok11)&gt;::type&gt;&gt; {
	typedef typename std::remove_reference&lt;decltype(*pok11)&gt;::type TIP;
</font>	std::vector&lt;std::vector&lt;TIP&gt;&gt; mat;
	int duzina1(pok12-pok11);
	int duzina2(pok22-pok21);
	tip1 poc1{pok11};
	tip2 poc2{pok21};
	
	for(int i=0;i&lt;duzina1;i++){
			int broj1{*pok11};
		for(int j=0;j&lt;duzina2;j++){
				int broj2{*pok21};
			if(broj1==broj2) {
				std::vector&lt;TIP&gt; pomocni{};
				pomocni.push_back(*pok11);
				pomocni.push_back(0);
				pomocni.push_back(0);
				mat.push_back(pomocni);
			}
			pok21++;
		}
		pok11++;
		pok21=poc2;
	}
	pok11=poc1;//vracamo pok11 na pocetak
		
	std::sort(mat.begin(), mat.end(), [](std::vector&lt;TIP&gt; x, std::vector&lt;TIP&gt; y){
		if(x[2]==y[2]){
			if(x[0]==y[0]){
				return(x[1]&lt;y[1]);
			}
			else{
				return(x[0]&lt;y[0]);
			}
		}else
<a name="0"></a><font color="#FF0000"><a href="match383-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_3.gif"/></a>

			return(x[2]&lt;y[2]);
	});
	return mat;
}
//Funkcija Uvrnuta Razlika sa petim parametrom
template&lt;typename tip1, typename tip2, typename funk&gt;
auto UvrnutaRazlika(tip1 pok11, tip1 pok12, tip2 pok21, tip2 pok22, funk f) -&gt;std::vector&lt;std::vector&lt;typename std::remove_reference&lt;decltype(*pok11)&gt;::type&gt;&gt; {
	typedef typename std::remove_reference&lt;decltype(*pok11)&gt;::type TIP;
</font>	std::vector&lt;std::vector&lt;TIP&gt;&gt; mat;
	int duzina1(pok12-pok11);
	int duzina2(pok22-pok21);
	tip1 poc1{pok11};
	tip2 poc2{pok21};
	
	for(int i=0;i&lt;duzina1;i++){
		bool ima_taj_broj=false;
		int broj1(f(*pok11));
		for(int j=0;j&lt;duzina2;j++){
			int broj2(f(*pok21));
			if(broj1==broj2){ima_taj_broj=true; break;};
			pok21++;
		}	
		if(ima_taj_broj==false){
			std::vector&lt;TIP&gt; pomocni{};
			pomocni.push_back(*pok11);
			pomocni.push_back(broj1);
			mat.push_back(pomocni);
		}
		pok11++;
		pok21=poc2;
	}
	pok11=poc1;//vracamo pok11 na pocetak
//Gledamo drugi kontejner	
	for(int i=0;i&lt;duzina2;i++){
		bool ima_taj_broj=false;
		int broj1(f(*pok21));
		for(int j=0;j&lt;duzina1;j++){
			int broj2(f(*pok11));
			if(broj1==broj2){ima_taj_broj=true; break;};
			pok11++;
		}	
		if(ima_taj_broj==false){
			std::vector&lt;TIP&gt; pomocni{};
			pomocni.push_back(*pok21);
			pomocni.push_back(broj1);
			mat.push_back(pomocni);
		}
		pok21++;
		pok11=poc1;
	}
	pok21=poc1;//vracamo pok21 na pocetak
//sortiramo
	std::sort(mat.begin(), mat.end(), [](std::vector&lt;TIP&gt; x, std::vector&lt;TIP&gt; y){
<a name="4"></a><font color="#FF00FF"><a href="match383-1.html#4" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_1.gif"/></a>

		if(x[1]==y[1]){
				return(x[0]&gt;y[0]);
			}
		if(x[0]==y[0]){
			return(x[1]&gt;y[1]);
</font>		}	
		return(x[0]&gt;y[0]);
	});
	return mat;
}
//Funkcija Uvrnuta Razlika bez funkcije kao parametar
template&lt;typename tip1, typename tip2&gt;
<a name="6"></a><font color="#00FF00"><a href="match383-1.html#6" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_1.gif"/></a>

auto UvrnutaRazlika(tip1 pok11, tip1 pok12, tip2 pok21, tip2 pok22) -&gt;std::vector&lt;std::vector&lt;typename std::remove_reference&lt;decltype(*pok11)&gt;::type&gt;&gt; {
	typedef typename std::remove_reference&lt;decltype(*pok11)&gt;::type TIP;
</font>	std::vector&lt;std::vector&lt;TIP&gt;&gt; mat;
	int duzina1(pok12-pok11);
	int duzina2(pok22-pok21);
	tip1 poc1{pok11};
	tip2 poc2{pok21};
	
	for(int i=0;i&lt;duzina1;i++){
		bool ima_taj_broj=false;
		for(int j=0;j&lt;duzina2;j++){
			if(*pok11==*pok21){ima_taj_broj=true; break;};
			pok21++;
		}	
		if(ima_taj_broj==false){
			std::vector&lt;TIP&gt; pomocni{};
			pomocni.push_back(*pok11);
			pomocni.push_back(0);
			mat.push_back(pomocni);
		}
		pok11++;
		pok21=poc2;
	}
	pok11=poc1;//vracamo pok11 na pocetak
//Gledamo drugi kontejner	
	for(int i=0;i&lt;duzina2;i++){
		bool ima_taj_broj=false;
		for(int j=0;j&lt;duzina1;j++){
			if(*pok21==*pok11){ima_taj_broj=true; break;};
			pok11++;
		}	
		if(ima_taj_broj==false){
			std::vector&lt;TIP&gt; pomocni{};
			pomocni.push_back(*pok21);
			pomocni.push_back(0);
			mat.push_back(pomocni);
		}
		pok21++;
		pok11=poc1;
	}
	pok21=poc1;//vracamo pok21 na pocetak
//sortiramo
	std::sort(mat.begin(), mat.end(), [](std::vector&lt;TIP&gt; x, std::vector&lt;TIP&gt; y){
		if(x[1]==y[1]){
				return(x[0]&gt;y[0]);
			}
<a name="3"></a><font color="#00FFFF"><a href="match383-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_2.gif"/></a>

		if(x[0]==y[0]){
			return(x[1]&gt;y[1]);
		}	
		return(x[1]&gt;y[1]);
	});
	return mat;
}

int main (){	
	std::cout&lt;&lt;"Unesite broj elemenata prvog kontejnera: ";
	int n1;
	std::cin&gt;&gt;n1;
</font>	if(n1&lt;=0){return 0;};
	
	std::deque&lt;int&gt; dek1;
	std::cout&lt;&lt;"Unesite elemente prvog kontejnera: ";
	for(int i=0;i&lt;n1;i++){
		int broj;
		bool ima_taj_broj=false;
		std::cin&gt;&gt;broj;
		for(int j=0;j&lt;dek1.size();j++){
			if(broj==dek1.at(j)){ ima_taj_broj=true; i--; break;}
		}
			if(ima_taj_broj==false){
				dek1.push_back(broj);}
	}
	
	std::cout&lt;&lt;"Unesite broj elemenata drugog kontejnera: ";
	int n2;
	std::cin&gt;&gt;n2;
	if(n2&lt;=0) return 0;
	std::deque&lt;int&gt; dek2;
	std::cout&lt;&lt;"Unesite elemente drugog kontejnera: ";

	for(int i=0;i&lt;n2;i++){
		int broj;
		bool ima_taj_broj=false;
		std::cin&gt;&gt;broj;
		for(int j=0;j&lt;dek2.size();j++){
			if(broj==dek2.at(j)){ ima_taj_broj=true; i--; break;}
		}	
			if(ima_taj_broj==false){
				dek2.push_back(broj);
			}
	}

	Matrica rezultat{UvrnutiPresjek(dek1.begin(),dek1.end(),dek2.begin(),dek2.end(), SumaCifara)};
	Matrica rezultat1{UvrnutaRazlika(dek1.begin(),dek1.end(),dek2.begin(),dek2.end(), BrojProstihFaktora)};

	
	std::cout&lt;&lt;"Uvrnuti presjek kontejnera: "&lt;&lt;std::endl;
	for(int i=0;i&lt;rezultat.size();i++){
<a name="1"></a><font color="#00FF00"><a href="match383-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_2.gif"/></a>

		for(int j=0;j&lt;rezultat[i].size();j++){
			std::cout&lt;&lt;std::setw(6)&lt;&lt;rezultat.at(i).at(j)&lt;&lt;" ";
		}
		std::cout&lt;&lt;std::endl;
	}
	
	std::cout&lt;&lt;"Uvrnuta razlika kontejnera: "&lt;&lt;std::endl;
</font>	for(int i=0;i&lt;rezultat1.size();i++){
<a name="2"></a><font color="#0000FF"><a href="match383-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_2.gif"/></a>

		for(int j=0;j&lt;rezultat1[i].size();j++){
			std::cout&lt;&lt;std::setw(6)&lt;&lt;rezultat1.at(i).at(j)&lt;&lt;" ";
		}
		std::cout&lt;&lt;std::endl;
	}
	/*
	std::cout&lt;&lt;"Prvi glasi: ";
	for(int i=0;i&lt;dek1.size();i++){
		std::cout&lt;&lt;std::setw(3)&lt;&lt;dek1.at(i);
	}
	std::cout&lt;&lt;"\nDrugi glasi: ";
	for(int i=0;i&lt;dek2.size();i++){
		std::cout&lt;&lt;std::setw(3)&lt;&lt;dek2.at(i);
	}*/
	std::cout&lt;&lt;"Dovidjenja!"&lt;&lt;std::endl;
</font>	return 0;
}</pre>
</body>
</html>
