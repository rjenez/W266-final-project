<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z2/Z3/student5904.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z2/Z3/student5904.cpp<p></p><pre>
/*B 16/17, ZadaÄ‡a 2, Zadatak 3
	
	NAPOMENA: i javni ATo-vi su dio postavke
	
	Autotestovi by Berina Cocalic. Sva pitanja, sugestije
	i prijave gresaka saljite na mail: bcocalic1@etf.unsa.ba
	
*/
#include &lt;iostream&gt;
#include &lt;algorithm&gt;
#include &lt;deque&gt;
#include &lt;cmath&gt;
#include &lt;iomanip&gt;
#include &lt;vector&gt; 
#include &lt;functional&gt;

<a name="0"></a><font color="#FF0000"><a href="match124-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_99.gif"/></a>

bool DaLiSePonavlja(std::deque&lt;int&gt; dek, int broj){
	bool ponavljase(false);
	for(int i=0;i&lt;dek.size();i++){
		if(dek[i]==broj){ 
			ponavljase=true;
			break;
		}
	}
	return ponavljase;
}
int SumaDjelilaca(long long int n){
	int suma(0);
	if(n&lt;0) n*=-1;
	for(int i=1;i&lt;=n;i++){
		if(n%i==0) suma+=i;
	}
	return suma;
}
bool DaLiJeProst(int n){
	if(n&lt;=0 || n==1) return false;
	for(int i=((int)std::sqrt(n));i&gt;=2;i--){
		if(n%i==0) return false;
	}
	return true;
}
int BrojProstihFaktora(long long int n){
	int brojac(0);
	if(n&lt;0) n*=-1;
	long long int x(n);
	for(int i=2; i&lt;=n;i++){
		if(DaLiJeProst(i) &amp;&amp; x%i==0 &amp;&amp; x!=1) 
		{
			brojac++;
		    x/=i;
			i=1;

		}
	}
	return brojac;
}
bool DaLiJeSavrsen(int n){
	int suma=0;
	if(n&lt;0) n*=-1;
	for(int i=1;i&lt;n;i++){
		if(n%i==0) suma+=i;
	}
	if(suma==n) return true;
	else return false;
}

int BrojSavrsenihDjelilaca(long long int n){
	int brojac(0);
	if(n&lt;0) n*=-1;
	for(int i=1;i&lt;=n;i++)
	{
		if(n%i==0 &amp;&amp; DaLiJeSavrsen(i)) brojac++;
	}
	return brojac;
}

int SumaCifara (long long int n)
{
	int suma(0);
	if(n&lt;0) n*=-1;
	while(n!=0)
	{
		suma+=n%10;
		n/=10;
	}
	return suma;
}


template &lt;typename Tip1,typename Tip2&gt;
std::vector&lt;std::vector&lt;int&gt; &gt;UvrnutiPresjek(Tip1 p1,Tip1 p2,Tip2 p3,Tip2 p4, std::function&lt;int(long long int)&gt; f = [](double x) {return (int)x;})
{
	Tip2 pomocni_pok=p3;
	std::vector&lt;std::vector&lt;int&gt; &gt;matrica;
	while(p1!=p2)
	{
		
		p3=pomocni_pok;
		while(p3!=p4)
		{
			if(f(*p1)==f(*p3))
			{ 
				std::vector&lt;int&gt; pomocni;
				pomocni.push_back(*p1);
				pomocni.push_back(*p3);
				pomocni.push_back(f(*p1));
				matrica.push_back(pomocni);
			}
			p3++;
		}
		p1++;
	}
	std::sort(matrica.begin(),matrica.end(),[] (std::vector&lt;int&gt; v1, std::vector&lt;int&gt; v2 )
	{
		if(v1[2]&lt;v2[2]) return true;
		else if(v1[2]==v2[2] &amp;&amp; v1[0]&lt;v2[0]) return true;
		else if(v1[2]==v2[2] &amp;&amp; v1[0]==v2[0] &amp;&amp; v1[1]&lt;v2[1]) return true;
		return false;	
	});
	return matrica;
}

template &lt;typename Tip1,typename Tip2&gt;
std::vector&lt;std::vector&lt;int&gt; &gt;UvrnutaRazlika(Tip1 p1,Tip1 p2,Tip2 p3,Tip2 p4, std::function&lt;int(long long int)&gt; f = [](double x) {return (int)x;})
{
	Tip2 pomocni_pok=p3;
	Tip1 pom_p1=p1;
	Tip1 pom_p2=p2;
	Tip2 pom_p3=p3;
	Tip2 pom_p4=p4;
	std::vector&lt;std::vector&lt;int&gt; &gt;matrica;
	while(p1!=p2)
	{
		bool ima_par(false);
		p3=pomocni_pok;
		while(p3!=p4)
		{
			if(f(*p1)==f(*p3))
			{ 
				ima_par=true;
			}
			p3++;
		}
		if(!ima_par) 
		{
			std::vector&lt;int&gt; pomocni ;
			pomocni.push_back(*p1);
			pomocni.push_back(f(*p1));
			matrica.push_back(pomocni);
		}
		p1++;
	}
	p1=pom_p1; p2=pom_p2; p3=pom_p3; p4=pom_p4;
	while(p3!=p4)
	{
		bool ima_par(false);
		p1=pom_p1;
		while(p1!=p2)
		{
			if(f(*p1)==f(*p3))
			{ 
				ima_par=true;
			}
			p1++;
		}
		if(!ima_par) 
		{
			std::vector&lt;int&gt; pomocni ;
			pomocni.push_back(*p3);
			pomocni.push_back(f(*p3));
			matrica.push_back(pomocni);
		}
		p3++;
	}
	
	
	std::sort(matrica.begin(),matrica.end(),[] (std::vector&lt;int&gt; v1, std::vector&lt;int&gt; v2 )
	{
		if(v1[0]==v2[0])
		{
			if(v1[1]&gt;v2[1]) return true;
		}
		else if(v1[0]&gt;v2[0]) return true;
		return false;	
	});
	return matrica;
}

int main ()
{
	int n1,n2,broj1,broj2;
	std::deque&lt;int&gt; dek1,dek2;
	std::cout&lt;&lt;"Unesite broj elemenata prvog kontejnera: ";
	std::cin&gt;&gt;n1;
	std::cout&lt;&lt;"Unesite elemente prvog kontejnera: ";
	for(int i=0;i&lt;n1;i++){
		std::cin&gt;&gt;broj1;
		if(!DaLiSePonavlja(dek1,broj1)){ 
			dek1.push_back(broj1);
		}
		else{
			i--;
		}
	}
//	std::cin.clear();
//	std::cin.ignore(9999,'\n'); 
	std::cout&lt;&lt;"Unesite broj elemenata drugog kontejnera: ";
	std::cin&gt;&gt;n2;
	std::cout&lt;&lt;"Unesite elemente drugog kontejnera: ";
	for(int i=0;i&lt;n2;i++){
		std::cin&gt;&gt;broj2;
		if(!DaLiSePonavlja(dek2,broj2)){
			dek2.push_back(broj2);
		}
		else{
			i--;
		}
	}
	//std::cin.clear();
	//std::cin.ignore(9999,'\n'); 
	std::vector&lt;std::vector&lt;int&gt;&gt; matricauvrnutipresjek=UvrnutiPresjek(dek1.begin(),dek1.end(),dek2.begin(),dek2.end(),SumaCifara);
	std::vector&lt;std::vector&lt;int&gt;&gt; matricauvrnutarazlika=UvrnutaRazlika(dek1.begin(),dek1.end(),dek2.begin(),dek2.end(),BrojProstihFaktora);
	std::cout&lt;&lt;"Uvrnuti presjek kontejnera:\n";
	for(int i=0;i&lt;(int)matricauvrnutipresjek.size();i++)
	{
		for(int j=0;j&lt;1;j++)
		{
			std::cout&lt;&lt;std::setw(6)&lt;&lt;matricauvrnutipresjek[i][0]&lt;&lt;std::setw(7)&lt;&lt;matricauvrnutipresjek[i][1]&lt;&lt;std::setw(7)&lt;&lt;matricauvrnutipresjek[i][2]&lt;&lt;" ";
		}
		std::cout&lt;&lt;"\n";
	}
	std::cout&lt;&lt;"Uvrnuta razlika kontejnera:\n";
	for(int i=0;i&lt;(int)matricauvrnutarazlika.size();i++)
	{
		for(int j=0;j&lt;1;j++)
		{
			std::cout&lt;&lt;std::setw(6)&lt;&lt;matricauvrnutarazlika[i][0]&lt;&lt;std::setw(7)&lt;&lt;matricauvrnutarazlika[i][1];
		}
		std::cout&lt;&lt;"\n";
	}
	std::cout&lt;&lt;"Dovidjenja!";
</font>	return 0;
}</pre>
</body>
</html>
