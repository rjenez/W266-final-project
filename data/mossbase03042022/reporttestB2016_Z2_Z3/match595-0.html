<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z2/Z3/student4982.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z2/Z3/student4982.cpp<p></p><pre>
#include &lt;iostream&gt;
#include &lt;stdexcept&gt;
#include &lt;vector&gt;
#include &lt;deque&gt;
#include &lt;type_traits&gt;
#include &lt;cmath&gt;
#include &lt;algorithm&gt;
#include &lt;iomanip&gt;

int SumaCifara(long long int x)
{
	int suma=0;
	while(x!=0)
	{
		suma+=std::abs(x%10);
		x=x/10;
	}
	return suma;
}

int SumaDjelilaca(long long int x)
{
	int suma=0;
	if(x&lt;0) x=-x;
	for(long long int i=1;i&lt;=x;i++)
	{
		if(x%i==0) suma+=i;
	}
	return suma;
}

bool DaLiJeProst(long long int x)
{
	if(x&lt;=1) return false;
	long long int i=0;
	for(i=2;i&lt;=(int)sqrt(x);i++)
	{
		if(x%i==0) return false;
	}
	if(i==(int)sqrt(x)+1) return true;
}

int BrojProstihFaktora(long long int x)
{
	if(x&lt;=1) return 0;
	if(DaLiJeProst(x)==true) return 1;
	int i=2, suma=0, n=x;
	while(1)
	{
		if(i==x) break;
		if(DaLiJeProst(i)==false) i++;
		if(DaLiJeProst(i)==true)
		{
			if(n==1) break;
			if(n%i==0)
			{
				n=n/i;
				suma++;
			}
			else i++;
		
		}
	}
	
	return suma;
}

bool DaLiJeSavrsen(long long int x)
{
	int suma=0;
	for(long long int i=1;i&lt;x;i++) if(x%i==0) suma+=i;
	if(suma==x) return true;
	else return false;
}

int BrojSavrsenihDjelilaca(long long int x)
{
	if(x&lt;0) x=-x;
	int broj=0;
	for(long long int i=1;i&lt;=x;i++) if(x%i==0 &amp;&amp; DaLiJeSavrsen(i)==true) broj++;
	return broj;
}

template &lt;typename Tip1, typename Tip2, typename Tip3, typename Tip4&gt;
auto UvrnutiPresjek(Tip1 p1, Tip1 p2, Tip2 p3, Tip2 p4, Tip3 fun(Tip4)) -&gt; std::vector&lt;std::vector&lt;typename std::remove_reference&lt;decltype((*p1)+(*p3))&gt;::type&gt;&gt;   
{
	typedef typename std::remove_reference&lt;decltype((*p1)+(*p3))&gt;::type Tip;
	std::vector&lt;std::vector&lt;Tip&gt;&gt; matrica;
	Tip2 poc2=p3;
	while(p1!=p2)
	{
		while(p3!=p4)
		{ 
			if(fun(*p1)==fun(*p3))
			{
<a name="4"></a><font color="#FF00FF"><a href="match595-1.html#4" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_1.gif"/></a>

				std::vector&lt;Tip&gt; v;
				v.push_back(*p1); v.push_back(*p3); v.push_back(fun(*p1));
				matrica.push_back(v);
			}
			p3++;
		}
		p3=poc2;
</font>		p1++;
	}
	std::sort(matrica.begin(), matrica.end(), [](std::vector&lt;Tip&gt; x, std::vector&lt;Tip&gt; y) { return x[2]&lt;y[2]; } );
	if(matrica.size()&gt;1) {
<a name="0"></a><font color="#FF0000"><a href="match595-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_2.gif"/></a>

	for(int i=0;i&lt;matrica.size()-1;i++)
	{
		for(int j=i+1;j&lt;matrica.size();j++)
		{
			if(matrica[i][2]==matrica[j][2])  std::sort(matrica.begin()+i,matrica.begin()+j+1, [](std::vector&lt;Tip&gt; x, std::vector&lt;Tip&gt; y) { return x[0]&lt;y[0];}); 
</font>		}
		
	}
	
<a name="1"></a><font color="#00FF00"><a href="match595-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_2.gif"/></a>

	for(int i=0;i&lt;matrica.size()-1;i++)
		{
			for(int j=i+1;j&lt;matrica.size();j++)
			{
				if(matrica[i][0]==matrica[j][0]) std::sort(matrica.begin()+i,matrica.begin()+j+1, [](std::vector&lt;Tip&gt; x, std::vector&lt;Tip&gt; y) { return x[1]&lt;y[1];});
</font>			}
			
		}
}
	return matrica;
}

template &lt;typename Tip1, typename Tip2&gt;
auto UvrnutiPresjek(Tip1 p1, Tip1 p2, Tip2 p3, Tip2 p4) -&gt; std::vector&lt;std::vector&lt;typename std::remove_reference&lt;decltype((*p1)+(*p3))&gt;::type&gt;&gt;
{
	typedef typename std::remove_reference&lt;decltype((*p1)+(*p3))&gt;::type Tip;
	std::vector&lt;std::vector&lt;Tip&gt;&gt; matrica;
	Tip2 poc=p3;
	while(p1!=p2)
	{
		while(p3!=p4)
		{
			if(*p1==*p3)
			{
				std::vector&lt;Tip&gt; v1;
				v1.push_back(*p1); v1.push_back(0); v1.push_back(0);
				matrica.push_back(v1); 
			}
			p3++;
		}
		p3=poc;
		p1++;
	}
	std::sort(matrica.begin(), matrica.end(), [] (std::vector&lt;Tip&gt; x, std::vector&lt;Tip&gt; y) { return x[0]&lt;y[0]; });
	return matrica;
}

template&lt;typename Tip1, typename Tip2, typename Tip3, typename Tip4&gt;
auto UvrnutaRazlika(Tip1 p1, Tip1 p2, Tip2 p3, Tip2 p4, Tip3 fun(Tip4)) -&gt; std::vector&lt;std::vector&lt;typename std::remove_reference&lt;decltype((*p1)+(*p3))&gt;::type&gt;&gt;
{
	typedef typename std::remove_reference&lt;decltype((*p1)+(*p3))&gt;::type Tip;
	std::vector&lt;std::vector&lt;Tip&gt;&gt; matrica;
	Tip1 poc=p1; Tip2 poc2=p3;
	while(p1!=p2)
	{
		bool par=false;
		while(p3!=p4)
		{
			if(fun(*p1)==fun(*p3)) par=true;
			p3++;
		}
		p3=poc2;
		if(par==false)
		{
<a name="2"></a><font color="#0000FF"><a href="match595-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_1.gif"/></a>

			std::vector&lt;Tip&gt; v;
			v.push_back(*p1); v.push_back(fun(*p1));
			matrica.push_back(v);
		}
		p1++;
	}
	p1=poc;
	p3=poc2;
	while(p3!=p4)
	{
		bool par=false;
</font>		while(p1!=p2)
		{
			if(fun(*p3)==fun(*p1)) par=true;
			p1++;
		}
		p1=poc;
		if(par==false)
		{
			std::vector&lt;Tip&gt; v;
			v.push_back(*p3); v.push_back(fun(*p3));
			matrica.push_back(v);
		}
		p3++;
	}
	std::sort(matrica.begin(),matrica.end(),[] (std::vector&lt;Tip&gt; x, std::vector&lt;Tip&gt; y) {return x[0]&gt;y[0];} );
	if(matrica.size()&gt;1) {
	for(int i=0;i&lt;matrica.size()-1;i++)
	{
		for(int j=i+1;j&lt;matrica.size();j++)
		{
			if(matrica[i][0]==matrica[j][0]) std::sort(matrica.begin()+i,matrica.begin()+j+1, [] (std::vector&lt;Tip&gt; x, std::vector&lt;Tip&gt; y) {return x[1]&gt;y[1];} );
		}
	}
	}
	return matrica;
}

template&lt;typename Tip1, typename Tip2&gt;
auto UvrnutaRazlika(Tip1 p1, Tip1 p2, Tip2 p3, Tip2 p4) -&gt; std::vector&lt;std::vector&lt;typename std::remove_reference&lt;decltype((*p1)+(*p3))&gt;::type&gt;&gt;
{
	typedef typename std::remove_reference&lt;decltype((*p1)+(*p3))&gt;::type Tip;
	std::vector&lt;std::vector&lt;Tip&gt;&gt; matrica;
	Tip1 poc=p1; Tip2 poc2=p3;
	while(p1!=p2)
	{
		bool par=false;
		while(p3!=p4)
		{
			if(*p1==*p3) par=true;
			p3++;
		}
		p3=poc2;
		if(par==false)
		{
			std::vector&lt;Tip&gt; v;
<a name="3"></a><font color="#00FFFF"><a href="match595-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_1.gif"/></a>

			v.push_back(*p1); v.push_back(0); 
			matrica.push_back(v);
		}
		p1++;
	}
	p1=poc; 
	p3=poc2;
	while(p3!=p4)
	{
		bool par=false;
</font>		while(p1!=p2)
		{
			if(*p3==*p1) par=true;
			p1++;
		}
		p1=poc;
		if(par==false)
		{
			
			std::vector&lt;Tip&gt; v;
			v.push_back(*p3); v.push_back(0); 
			matrica.push_back(v);
			
		}
		p3++;
		}
		std::sort(matrica.begin(),matrica.end(),[](std::vector&lt;Tip&gt; x, std::vector&lt;Tip&gt; y){return x[0]&gt;y[0];});
		return matrica;
	}
	


int main ()
{
	try {
	std::cout&lt;&lt;"Unesite broj elemenata prvog kontejnera: ";
	int n;
	std::cin&gt;&gt;n;
	std::deque&lt;int&gt; d1;
	std::cout&lt;&lt;"Unesite elemente prvog kontejnera: ";
	while(d1.size()&lt;n)
	{
		int x;
		std::cin&gt;&gt;x;
		if(d1.size()==0) d1.push_back(x);
		else
		{
<a name="5"></a><font color="#FF0000"><a href="match595-1.html#5" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_1.gif"/></a>

			bool ponavlja_se=false;
			for(int i=0;i&lt;d1.size();i++) 
			{
				if(d1[i]==x)
				{
					ponavlja_se=true; break;
</font>				}
			}
			if(ponavlja_se==false) d1.push_back(x);
		}
	}
	std::cout&lt;&lt;"Unesite broj elemenata drugog kontejnera: ";
	std::deque&lt;int&gt; d2; int k;
	std::cin&gt;&gt;k;
	std::cout&lt;&lt;"Unesite elemente drugog kontejnera: ";
	while(d2.size()&lt;k)
	{
		int x; 
		std::cin&gt;&gt;x;
		if(d2.size()==0) d2.push_back(x);
		else
		{
<a name="6"></a><font color="#00FF00"><a href="match595-1.html#6" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_1.gif"/></a>

			bool ponavlja_se=false;
			for(int i=0;i&lt;d2.size();i++)
			{
				if(d2[i]==x)
				{
					ponavlja_se=true; break;
</font>				}
			}
			if(ponavlja_se==false) d2.push_back(x);
		}
	}
	std::vector&lt;std::vector&lt;int&gt;&gt; matrica=UvrnutiPresjek(d1.begin(),d1.end(),d2.begin(),d2.end(),SumaCifara);
	std::vector&lt;std::vector&lt;int&gt;&gt; matrica2=UvrnutaRazlika(d1.begin(),d1.end(),d2.begin(),d2.end(),BrojProstihFaktora);
	std::cout&lt;&lt;"Uvrnuti presjek kontejnera:"&lt;&lt;std::endl;
	for(std::vector&lt;int&gt; red: matrica)
	{
		for(int x: red) std::cout&lt;&lt;std::setw(6)&lt;&lt;x&lt;&lt;" ";
		std::cout&lt;&lt;std::endl;
	}
	std::cout&lt;&lt;"Uvrnuta razlika kontejnera:"&lt;&lt;std::endl;
	for(std::vector&lt;int&gt; red: matrica2)
	{
		for(int x: red) std::cout&lt;&lt;std::setw(6)&lt;&lt;x&lt;&lt;" ";
		std::cout&lt;&lt;std::endl;
	}
	std::cout&lt;&lt;"Dovidjenja!";
	return 0;
	}
	catch(...)
	{
		std::cout&lt;&lt;"Izuzetak: nedovoljno memorije";
	}
}</pre>
</body>
</html>
