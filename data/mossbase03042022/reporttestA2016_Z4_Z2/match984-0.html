<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/A2016/Z4/Z2/student8337.c</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/A2016/Z4/Z2/student8337.c<p></p><pre>
#include &lt;stdio.h&gt;

void unesi(char* s, int velicina){
	char znak = getchar();
	int i;
	if(znak == '\n') znak=getchar();
	i=0;
	while(i&lt;velicina &amp;&amp; znak != '\n'){
		s[i] = znak;
		znak=getchar();
		i++;
	}
	s[i] = '\0';
}

char* kodiraj(char* s, char* p){
	char* pocetak=s;
	int brojaci[130]={0}, i, niz[130], j=0, temp, max, n, niz1[130], k, niz2[130];
	while(*s != '\0'){
		brojaci[*s]++;
		s++;
	}
	for(i=32; i&lt;127; i++){
		if(brojaci[i]&gt;0){
			niz[j] = brojaci[i];
			niz1[j] = i;
			j++;
		}
	}
	n=j;
<a name="0"></a><font color="#FF0000"><a href="match984-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_6.gif"/></a>

	for(i=0; i&lt;n; i++){
	    max=i;
	    for(j=i+1; j&lt;n; j++){
	    	if(niz[j]&gt;niz[max]){
	    		max=j;
	    	}else if(niz[j]==niz[max]){
</font>	    		if(niz1[j]&lt;niz1[max]){
	    			max=j;
	    		}
	    	}
	    }
	   	temp=niz[i];
	   	niz[i]=niz[max];
	    niz[max]= temp;
	    
		temp = niz1[i];
 		niz1[i] = niz1[max];
 		niz1[max] = temp;
	}
	j=32;
	for(i=0; j&lt;127; i++){
		if(i&lt;n){
			*p = niz1[i];
		}else{
			for(k=0; k&lt;n; k++){
				if(niz1[k]==j) break;
			}
			if(n==k){
				*p=j;
			}else{
				p--;
			}
			j++;
		}
		p++;
	}
	*p = '\0';
	p--;
	j=126;
	for(i=0; i&lt;n; i++){
		niz2[i]=j;
		j--;
	}
	s=pocetak;
	while(*s != '\0'){
		for(i=0; i&lt;n; i++){
			if(niz1[i] == *s){
				*s = niz2[i];
				break;
			} 
		}
		s++;
	}
	return pocetak;
}

char* dekodiraj(char* s, char* p){
	char* pocetak=s;
	char* poc=p;
	int brojaci[130]={0}, max, niz[130], j, niz1[130], n, temp, i, niz2[130];
	while(*s != '\0'){
		brojaci[*s]++;
		s++;
	}
	j=0;
	for(i=126; 32&lt;=i ; i--){
		if(brojaci[i]&gt;0){
			niz[j]=brojaci[i];
			niz1[j]=i;
			j++;
		}
	}
	n=j;
	for(i=0; i&lt;n; i++){
		max=i;
		for(j=i+1; j&lt;n; j++){
			if(niz[j]&gt;niz[max]){
				max=j;
			}else if(niz[j]==niz[max]){
				if(niz1[j]&lt;niz[max]){
					max=j;
				}
			}
		}
		temp = niz[i];
		niz[i]=niz[max];
		niz[max]=temp;
	
		temp = niz1[i];
		niz1[i] = niz1[max];
		niz1[max] = temp;
	}
	for(i=0; i&lt;n; i++){
		niz2[i]= *p;
		p++;
	}
	p=poc;
	s=pocetak;
	while(*s != '\0'){
		i=0;
		for(i=0; i&lt;n; i++){
			if(*s == niz1[i]){
				*s = niz2[i];
				break;
			}
		}
		s++;
	}
	return pocetak;
}

int main() {
	char niz1[200], niz2[200];
	printf("Unesite tekst: ");
	unesi(niz1, 200);
	printf("%s\n", kodiraj(niz1, niz2));
	printf("%s\n", dekodiraj(niz1, niz2));
	return 0;
}
</pre>
</body>
</html>
