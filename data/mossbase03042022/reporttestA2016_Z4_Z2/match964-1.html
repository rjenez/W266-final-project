<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/A2016/Z4/Z2/student4420.c</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/A2016/Z4/Z2/student4425.c<p></p><pre>
#include &lt;stdio.h&gt;
#define N 96
#define text_len 500
#define konstanta_sifrovanja 126

<a name="0"></a><font color="#FF0000"><a href="match964-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_11.gif"/></a>

void unesi (char niz[], int velicina) {
	char znak = getchar();
	if (znak == '\n') znak = getchar();
	int i = 0;
	while (i &lt; velicina - 1 &amp;&amp; znak != '\n') {
		niz[i] = znak;
		i++;
		znak = getchar();
	}
	niz[i] = '\0';
</font>}

void make_default_table (char* tablica) {
	int i;
	for (i = 32; i &lt;= 126; i++) { // ' ' to '~'
		*tablica = i;
		tablica++;
	}
	*tablica = '\0';
}

char* kodiraj (char* tekst, char* tablica) {
	char* vrati = tekst;
	
	make_default_table(tablica);
	int brojaci[N] = {0}; int i, indeks, var, j, flag;
	char tmp, tmp2;

	while (*tekst != '\0') {
		for (i = 0; i &lt; N; i++) {
			if (*tekst == tablica[i]) {
				brojaci[i]++;
				break;
			}
		}
		tekst++;
	} //brojaci OK
	
	for (i = 0; i &lt; N-1; i++) {
		var = i;
		for (j = i+1; j &lt; N-1; j++) {
			if (brojaci[j] &gt; brojaci[var]) var = j;
			else if (brojaci[j] == brojaci[var]) {
				if (tablica[j] &lt; tablica[var]) var = j;
			}
		}
		
		tmp = tablica[i];
		tablica[i] = tablica[var];
		tablica[var] = tmp;

		tmp2 = brojaci[i];
		brojaci[i] = brojaci[var];
		brojaci[var] = tmp2;
	}
	
	tekst = vrati;
	while (*tekst != '\0') {
		for (i = 0; i &lt; N; i++) {
			if (*tekst == tablica[i]) {
				*tekst = (char)(konstanta_sifrovanja - i); //126-i
				break;
			}
		}
		tekst++;
	}
	
	return vrati;
}

char* dekodiraj (char* tekst, char* tablica) {
	char* vrati = tekst;
	
	char tablica2[N];
	char* pkk = tablica2;
	int i;
	
	tablica2[N] = '\0';
	for (i = konstanta_sifrovanja; i &gt;= konstanta_sifrovanja-N+2; i--) {
		*pkk = i;
		pkk++;
	}
	
	while (*tekst != '\0') {
		for (i = 0; i &lt; N; i++) {
			if (*tekst == tablica2[i]) {
				*tekst = tablica[i];
				break;
			}
		}
		tekst++;
	}

	return vrati;
}

int main() {
	
	char tablica[N], tekst[text_len];
	unesi(tekst, text_len);
	kodiraj(tekst, tablica);
	dekodiraj(tekst, tablica);
	
	return 0;
}</pre>
</body>
</html>
