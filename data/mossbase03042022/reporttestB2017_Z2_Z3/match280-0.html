<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z2/Z3/student6774.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z2/Z3/student6774.cpp<p></p><pre>
#include &lt;iostream&gt;
#include&lt;cmath&gt;
#include&lt;iomanip&gt;
#include&lt;deque&gt; 
#include&lt;limits&gt;
#include&lt;stdexcept&gt;
#include&lt;vector&gt;
#include &lt;memory&gt;
int treba;
int brojper;
int broj;
bool josjedanperiodicnafunkcija(std::vector&lt;int&gt; const &amp;v, int a){
	int dokle=v.size()/a;
	int nekibroj=v.size()%a;
	dokle--;
	int i;
	for(i=0;i&lt;dokle*a;i++){
		if(v[i]!=v[i+a])return false;
	}int rekt=i;
	for(;i&lt;rekt+nekibroj;i++){
		if(v[i]!=v[i+a])return false;
	}
	return true;
}
int koliko(std::vector&lt;int&gt; v,int nekibroj,int brojper){
	int suma1=1000;
	int suma=0;
	int i;
	for (i=0;i&lt;brojper;i++){
		suma+=v[i]*nekibroj;
	}
	return suma1*10;
	
}
bool periodican (std::vector&lt;int&gt; const &amp;v,int &amp;brojper){
	for(int i=2;i&lt;=v.size()/2;i++){
		if(josjedanperiodicnafunkcija(v,i)){brojper=i;return true;}
	}
	return false;
}

<a name="0"></a><font color="#FF0000"><a href="match280-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_3.gif"/></a>

int ** AlocirajFragmentirano(std::vector&lt;int&gt; const &amp;v,int  &amp;broj){
	if(v.size()==0)throw std::domain_error  {"Prazan vektor!"};
	for(int i=0;i&lt;v.size();i++){
		if(v[i]&lt;1)throw std::domain_error {"Neispravan vektor!"};
</font>	}

	
	
	int nekibroj;
	bool istina=false;
	if(periodican(v,brojper))istina=true;
	if(istina){
	if(v.size()%brojper==0){broj=v.size()/brojper;nekibroj=0;}
	else{ nekibroj=brojper-v.size()%brojper;broj=(v.size()/brojper)+1;}
	}
	else{
		brojper=v.size();
		nekibroj=v.size();
		broj=2;
	}
	int ** p(new int * [v.size()+nekibroj]);
	int i;
	try{
	for( i=0;i&lt;v.size();i++){
		p[i]=new int [v[i]];
	}
	int pomocna=brojper-nekibroj;
	for(int j=0;j&lt;nekibroj;j++){
		p[i]=new int[v[pomocna]];
		pomocna++;i++;
	}
	treba=i;
	}catch(...){
		for(int ss=0;ss&lt;treba;ss++)delete []p[ss];
		delete[]p;
		throw;
	}
	
	int j=0;
	for(int k=0;k&lt;broj*brojper;k++){
		if(j==brojper)j=0;
		int counter=0;
		for(int l=v[j]-1;l&gt;=0;l--){
			p[k][l]=brojper-counter;
			counter++;
			
		}j++;
	}

	
	return p;
}


<a name="1"></a><font color="#00FF00"><a href="match280-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_3.gif"/></a>

int ** AlocirajKontinualno(std::vector&lt;int&gt; const &amp;v,int  &amp;broj){
		if(v.size()==0)throw std::domain_error  {"Prazan vektor!"};
		for(int i=0;i&lt;v.size();i++){
		if(v[i]&lt;1)throw std::domain_error {"Neispravan vektor!"};
</font>	}

	
	int nekibroj;
	bool istina=false;
	if(periodican(v,brojper))istina=true;
	if(istina){
	if(v.size()%brojper==0){broj=v.size()/brojper;nekibroj=0;}
	else{ nekibroj=brojper-v.size()%brojper;broj=(v.size()/brojper)+1;}
	}
	else{
		brojper=v.size();
		nekibroj=v.size();
		broj=2;
	}
	int ** p(new int * [v.size()+nekibroj]);
	int i;
	try{
		p[0]=new int [koliko(v,broj,brojper)];
		int pomocna=0;
	for( i=1;i&lt;v.size()+nekibroj;i++){
		if(pomocna==brojper)pomocna=0;
		p[i]=p[0]+v[pomocna]*i;
		pomocna++;
	}
	treba=i;
	}catch(...){
	delete []p[0];
	delete[]p;
		throw;
	}
	int j=0;
	for(int k=0;k&lt;broj*brojper;k++){
		if(j==brojper)j=0;
		int counter=0;

		for(int l=v[j]-1;l&gt;=0;l--){
			p[k][l]=counter+1;
			
			counter++;
		}
		j++;
	}j=0;
	int sfs=0;
	int fsf=0;
	for(int fk=0;fk&lt;broj;fk++){
		sfs=0;
		for(int k=brojper*broj-brojper;k&lt;brojper*broj;k++){
			if(j==brojper)j=0;
			for(int l=0;l&lt;v[j];l++){
				p[fsf][sfs]=p[k][l];
			//std::cout &lt;&lt; p[k][l]&lt;&lt;" " ;
				sfs++;
			}j++;
		}fsf++;
	}

	
	return p;
}


int main (){
	std::vector&lt;int&gt;v;
	std::cout &lt;&lt; "Unesite broj elemenata vektora: Unesite elemente vektora: Odaberite alokaciju: 1 - fragmentirana, 0 - kontinualna: ";
	int n;
	std::cin &gt;&gt; n;
<a name="4"></a><font color="#FF00FF"><a href="match280-1.html#4" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_2.gif"/></a>

	for(int i=0;i&lt;n;i++){
		int temp;
		std::cin &gt;&gt; temp;
		v.push_back(temp);
	}
	int al;
	std::cin &gt;&gt; al;
</font>	if(al){
		int j=0;
		try{
<a name="5"></a><font color="#FF0000"><a href="match280-1.html#5" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_2.gif"/></a>

		auto p(AlocirajFragmentirano(v,broj));
		std::cout  &lt;&lt;"Dinamicki alocirana matrica:"&lt;&lt; std::endl;
			for(int k=0;k&lt;broj*brojper;k++){
</font>		if(j==brojper)j=0;
<a name="2"></a><font color="#0000FF"><a href="match280-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_2.gif"/></a>

		for(int l=0;l&lt;v[j];l++){
			std::cout &lt;&lt;  p[k][l]&lt;&lt;"  ";
			
		}std::cout  &lt;&lt; std::endl;j++;
</font>	}
		for(int ss=0;ss&lt;treba;ss++)delete []p[ss];
		delete[]p;}catch(std::domain_error er){
		std::cout &lt;&lt; "Izuzetak: " &lt;&lt;er.what()&lt;&lt; std::endl;
	}
	}
	else{try{auto p(AlocirajKontinualno(v,broj));
	int j=0;
	std::cout  &lt;&lt;"Dinamicki alocirana matrica:"&lt;&lt; std::endl;
				for(int k=0;k&lt;broj*brojper;k++){
		if(j==brojper)j=0;
<a name="3"></a><font color="#00FFFF"><a href="match280-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_2.gif"/></a>

		for(int l=0;l&lt;v[j];l++){
			std::cout &lt;&lt;  p[k][l]&lt;&lt;"  ";
			
		}std::cout  &lt;&lt; std::endl;j++;
</font>	
<a name="6"></a><font color="#00FF00"><a href="match280-1.html#6" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_2.gif"/></a>

		delete []p[0];
	delete[]p;}}catch(std::domain_error er){std::cout &lt;&lt; "Izuzetak: " &lt;&lt;er.what()&lt;&lt; std::endl;}
</font>	} 
	
	
	return 0;
}</pre>
</body>
</html>
