<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z2/Z3/student5122.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z2/Z3/student9352.cpp<p></p><pre>
/*B 2017/2018, ZadaÄ‡a 2, Zadatak 3

	NAPOMENA: ulaz/izlaz za zadatke je specificiran
	javnim autotestovima. Zalbe za ne analiziranje testova
	se ne uvazavaju!

	NAPOMENA: nece svi (javni) testovi sa zamgera biti
	dostupni na c9.

	Za sva ostala pitanja i nedoumice vezane za
	autotestove javiti se na forum (c2).
*/
#include &lt;iostream&gt;
#include &lt;vector&gt;

<a name="0"></a><font color="#FF0000"><a href="match221-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_99.gif"/></a>

template &lt;typename CjelobrojniTip&gt;
auto AlocirajFragmentirano(std::vector&lt;CjelobrojniTip&gt; &amp;v,int &amp;koliko_puta) -&gt; typename std::remove_reference&lt;decltype(v.at(0))&gt;::type** {
	if(v.size()==0) throw ("Prazan vektor!");
	int brojac(0);
	int Period(0);
	typename std::remove_reference&lt;decltype(v.at(0))&gt;::type max(v.at(0));
	for(int i=0; i&lt;v.size(); i++) if(v.at(i)&gt;max) max=v.at(i);
	for (int i = 1; i &lt; v.size(); i++) {
		if(v.size()==1) break;
		int j(0);
		for( j=0; j&lt;v.size()-i; j++) if(v.at(j)!=v.at(j+i)) break;
		if(j==v.size()-i) {
			Period=i;
			break;
		}
	}
	for (int i = v.size()-Period; i &lt; Period; i++) brojac++;
	if(v.size()%Period==0) brojac=0;
	if(Period==0) brojac=v.size();

	koliko_puta=(v.size()+brojac)/Period;

	typename std::remove_reference&lt;decltype(v.at(0))&gt;::type** Glavni(nullptr);
	try{
		Glavni=new typename std::remove_reference&lt;decltype(v.at(0))&gt;::type*[v.size()+brojac]{};

		int Pozicija(0);
		for(int j=0; j&lt;koliko_puta; j++) {
			for(int k=0; k&lt;Period; k++) {
				Glavni[Pozicija]=new typename std::remove_reference&lt;decltype(v.at(0))&gt;::type [v.at(k)];
				Pozicija++;
			}
		}

		int velicina(0);
		Pozicija=0;
		int tempmax(max);
		for(int j=0; j&lt;koliko_puta; j++) {
			for(int k=0; k&lt;Period; k++) {
				velicina=v.at(k);
				tempmax=max;
				for(int m=velicina-1;m&gt;=0;m--){
					Glavni[Pozicija][m]=max;
					tempmax--;
				}
				Pozicija++;
			}
		}

	} catch(std::bad_alloc) {
		for(int i=0; i&lt;v.size()+brojac; i++) delete[] Glavni[i];
		delete Glavni;
	}
	return Glavni;
}

int main ()
{
	std::cout&lt;&lt;"Unesite broj elemenata vektora: ";
	int n;
	int m;
	std::cin&gt;&gt;n;
	std::vector&lt;int&gt; v(n);
	for (int i = 0; i &lt; n; i++) std::cin&gt;&gt;v.at(i);
	int **poki(AlocirajFragmentirano(v,m));
	std::cout&lt;&lt;"Koliko puta mi iznosi "&lt;&lt;m&lt;&lt;std::endl;
	std::cout&lt;&lt;std::endl&lt;&lt;"matrica izgleda vako: ";
	
    for(int i=0;i&lt;n;)
	return 0;
</font>}</pre>
</body>
</html>
