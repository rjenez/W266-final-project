<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z2/Z3/student7709.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z2/Z3/student7709.cpp<p></p><pre>
#include &lt;iostream&gt;
#include &lt;string&gt;
#include &lt;stdexcept&gt;
#include &lt;vector&gt;
#include &lt;algorithm&gt;

/*
class ApstraktniStudent
{
	std::string ime, prezime;
	int brindeksa, brpolozenih;
	double prosjecna;

public:
	ApstraktniStudent(std::string ime, std::string prezime, int brindeksa): ime(ime), prezime(prezime), brindeksa(brindeksa), brpolozenih(0), prosjecna(5) {};
	std::string DajIme() const
	{
		return ime;
	}
	std::string DajPrezime() const
	{
		return prezime;
	}
	int DajBrojIndeksa() const
	{
		return brindeksa;
	}
	
	int DajBrojPolozenih() const
	{
		return brpolozenih;
	}
	
	double DajProsjek() const
	{
		return prosjecna;
	}
	void RegistrirajIspit( int oc)
	{
		if(oc&lt;5 || oc&gt;10) throw

			std::domain_error("Neispravna ocjena");
		if(oc!=5) {
			prosjecna=(prosjecna*brpolozenih+oc)/(brpolozenih+1);
			brpolozenih++;
		}
	}

	void PonistiOcjene()
	{
		brpolozenih=0;
		prosjecna=5;
	}

	virtual void  IspisiPodatke() const=0;
	virtual ApstraktniStudent *DajKopiju() const=0;
	virtual ~ApstraktniStudent() {};
};

class StudentBachelor: public ApstraktniStudent
{
public:
	StudentBachelor(std::string ime, std::string prezime, int brindeksa): ApstraktniStudent(ime, prezime, brindeksa) {};
	void IspisiPodatke() const override
	{
		std::cout&lt;&lt;"Student bachelor studija "&lt;&lt;DajIme()&lt;&lt;" "&lt;&lt;DajPrezime()&lt;&lt;", sa brojem indeksa "&lt;&lt;DajBrojIndeksa()&lt;&lt;","&lt;&lt;std::endl&lt;&lt;"ima prosjek "&lt;&lt;DajProsjek()&lt;&lt;"."&lt;&lt;std::endl;
	}

	ApstraktniStudent *DajKopiju() const override
	{
		return new StudentBachelor(*this);
	}
};

class StudentMaster: public ApstraktniStudent
{
	int godina;
public:
	StudentMaster(std::string ime, std::string prezime, int brindeksa, int godina): ApstraktniStudent(ime, prezime, brindeksa), godina(godina) {};
	void IspisiPodatke() const override
	{
		std::cout&lt;&lt;"Student master studija "&lt;&lt;DajIme()&lt;&lt;" "&lt;&lt;DajPrezime()&lt;&lt;", sa brojem indeksa "&lt;&lt;DajBrojIndeksa()&lt;&lt;","&lt;&lt;std::endl&lt;&lt;"zavrsio bachelor studij godine "&lt;&lt;godina&lt;&lt;",ima prosjek "&lt;&lt;DajProsjek()&lt;&lt;"."&lt;&lt;std::endl;
	}

	ApstraktniStudent *DajKopiju () const override
	{
		return new StudentMaster(*this);
	}
};



class Fakultet
{
	std::vector&lt;ApstraktniStudent*&gt; v;
	public:
	
	explicit Fakultet(): v(0){};
	~Fakultet();
	Fakultet(const Fakultet &amp;f);
	Fakultet &amp;operator=(const Fakultet &amp;f);
	Fakultet(Fakultet &amp;&amp;f);
	Fakultet &amp;operator=(Fakultet &amp;&amp;f);
	void UpisiStudenta(std::string ime, std::string prezime, int brindeksa);
void UpisiStudenta(std::string ime, std::string prezime, int brindeksa, int godina);

void ObrisiStudenta(int indeks):
ApstraktniStudent &amp;operator [](int brindeksa);
ApstraktniStudent const &amp;operator[](int brindeksa) const;

void IspisiSveStudente() const;
};

void Fakultet::IspisiSveStudente() const
{
	auto v(this-&gt;v)
	std::sort(v.begin(), v.end(), [](ApstraktniStudent*s1, ApstraktniStudent*s2){
		if(s1-&gt;DajProsjek()==s2-&gt;DajProsjek())
		return s1-&gt;DajBrojIndeksa()&lt;s2-&gt;DajProsjek();});
		for(auto x:v) x-&gt;IspisiPodatke();
}
ApstraktniStudent &amp;Fakultet::operator[](int brindeksa)
{
	bool ima(false);
	for(int i=0; i &lt; v.size(); i++){
		if(v[i]-&gt;DajBrojIndeksa()==brindeksa){
			ima=true;
			return *v[i];
		}
	}
	if(!ima) throw std::logic_error("Student sa zadatim brojem indeksa ne postoje");
	return *v[0];
}

ApstraktniStudent const &amp;Fakultet::operator[](int brindeksa) const

{
	bool ima(false);
	for(i=0; i &lt; v.size();i++){
		if(v[i]-&gt;DajBrojIndeksa()==brindeksa{
			ima=true;
			
			return *v[i];
		}
	}
	if(!ima) throw std::logic_error("Student sa zadanim brojem indeksa ne postoji");
	return *v[0];
}

void Fakultet:: UpisiStudenta(std::string ime, std::string prezime, int brindeksa)
{
	for(auto x: v) if(x -&gt; DajBrojIndeksa()==brindeksa)
	throw std::logic_error("Student sa zadanim brojem indeksa vec postoji");
	v.push_back(new StudentBachelor( ime, prezime, brindeksa));
}

void Fakultet:: UpisiStudenta(std::string ime, std::string prezime, int brindeksa)
{
	for(auto x: v) if(x -&gt; DajBrojIndeksa()==brindeksa)
	throw std::logic_error("Student sa zadanim brojem indeksa vec postoji");
	v.push_back(new StudentBachelor( ime, prezime, brindeksa, int godina));
}

void Fakultet::ObrisiStudenta(int indeks)
{
	bool ima(false);
	for(int i =0; i&lt; v.size(); i++){
		if(v[i]-&gt;DajBrojIndeksa()==indeks){
			ima=true;
			delete v[i];
			v.erase(v.begin+i);
			break;
		}
		
		if(!ima) throw std::logic_error("Student sa zadanim brojem indeksa ne postoji");
	}
	
	Fakultet::~Fakultet()
	{
		for(int i=0; i &lt; v.size(); i++) delete v[i];
	}
	
	
	Fakultet::Fakultet(const Fakultet &amp;f)
	{
		for(int i = 0; i &lt; v.size(); i++) delete v[i];
		
		v.resize(0);
		try{
			for(auto x: f.v) v.push_back(x-&gt;DajKopiju());
		} catch(...){
			for(auto x: v) delete x;
		}
		return *this;
	}
	
	Fakultet &amp;Fakultet::operator ==(Fakultet &amp;&amp;f)
	{
		for(int i = 0; i &lt; v.size(); i++) delete v[i];
		v=std::move(f.v);
		return *this;
	}


*/
	
	
	#include &lt;iostream&gt;
#include &lt;string&gt;
#include &lt;stdexcept&gt;
#include &lt;vector&gt;
#include &lt;algorithm&gt;
 
class ApstraktniStudent
{
    std::string ime,prezime;
    int brindeksa,brpolozenih;
    double prosjecna;
<a name="1"></a><font color="#00FF00"><a href="match236-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_6.gif"/></a>

public:
    ApstraktniStudent(std::string ime,std::string prezime,int brindeksa): ime(ime),prezime(prezime),brindeksa(brindeksa),brpolozenih(0),prosjecna(5) {};
    std::string DajIme() const {
        return ime;
    }
    std::string DajPrezime() const {
        return prezime;
    }
    int DajBrojIndeksa() const {
        return brindeksa;
    }
    int DajBrojPolozenih() const {
        return brpolozenih;
    }
    double DajProsjek() const {
        return prosjecna;
    }
    void RegistrirajIspit(int oc) {
</font>        if(oc&lt;5 || oc&gt;10) throw std::domain_error("Neispravna ocjena");
        if(oc!=5) {
            prosjecna=(prosjecna*brpolozenih+oc)/(brpolozenih+1);
            brpolozenih++;
        }
    }
    void PonistiOcjene() {
<a name="0"></a><font color="#FF0000"><a href="match236-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_22.gif"/></a>

        brpolozenih=0;
        prosjecna=5;
    }
    virtual void IspisiPodatke() const=0;
    virtual ApstraktniStudent *DajKopiju() const=0;
    virtual ~ApstraktniStudent() {};
};
 
class StudentBachelor: public ApstraktniStudent
{
public:
    StudentBachelor(std::string ime,std::string prezime,int brindeksa): ApstraktniStudent(ime,prezime,brindeksa) {};
    void IspisiPodatke() const override {
        std::cout&lt;&lt;"Student bachelor studija "&lt;&lt;DajIme()&lt;&lt;" "&lt;&lt;DajPrezime()&lt;&lt;", sa brojem indeksa "&lt;&lt;DajBrojIndeksa()&lt;&lt;","&lt;&lt;std::endl&lt;&lt;"ima prosjek "&lt;&lt;DajProsjek()&lt;&lt;"."&lt;&lt;std::endl;
    }
    ApstraktniStudent *DajKopiju() const override {
        return new StudentBachelor(*this);
    }
//  ~StudentBachelor(){ delete this;}
};
 
class StudentMaster: public ApstraktniStudent
{
    int godina;
public:
    StudentMaster(std::string ime,std::string prezime,int brindeksa,int godina): ApstraktniStudent(ime,prezime,brindeksa), godina(godina) {};
    void IspisiPodatke() const override {
        std::cout&lt;&lt;"Student master studija "&lt;&lt;DajIme()&lt;&lt;" "&lt;&lt;DajPrezime()&lt;&lt;", sa brojem indeksa "&lt;&lt;DajBrojIndeksa()&lt;&lt;","&lt;&lt;std::endl&lt;&lt;"zavrsio bachelor studij godine "&lt;&lt;godina&lt;&lt;",ima prosjek "&lt;&lt;DajProsjek()&lt;&lt;"."&lt;&lt;std::endl;
    }
    ApstraktniStudent *DajKopiju() const override {
        return new StudentMaster(*this);
    }
    //~StudentMaster(){ delete this;}
};
 
class Fakultet
{
    std::vector&lt;ApstraktniStudent*&gt; v;
</font>public:
    explicit Fakultet() : v(0) {};
    ~Fakultet();
<a name="2"></a><font color="#0000FF"><a href="match236-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_6.gif"/></a>

    Fakultet(const Fakultet &amp;f);
    Fakultet &amp;operator=(const Fakultet &amp;f);
    Fakultet(Fakultet &amp;&amp;f);
    Fakultet &amp;operator=(Fakultet &amp;&amp;f);
    void UpisiStudenta(std::string ime, std::string prezime,int brindeksa);
    void UpisiStudenta(std::string ime, std::string prezime,int brindeksa, int godina);
    void ObrisiStudenta(int indeks);
    ApstraktniStudent &amp;operator [](int brindeksa);
</font>    ApstraktniStudent const &amp;operator [](int brindeksa) const;
    void IspisiSveStudente() const;
 
};
 
void Fakultet::IspisiSveStudente() const
{
 
    auto v(this-&gt;v);
   
        std::sort(v.begin(),v.end(),[](ApstraktniStudent*s1, ApstraktniStudent*s2){
            if(s1-&gt;DajProsjek()==s2-&gt;DajProsjek()) return s1-&gt;DajBrojIndeksa()&lt;s2-&gt;DajBrojIndeksa();
            return s1-&gt;DajProsjek()&gt;s2-&gt;DajProsjek();
        });
    for(auto x: v) x-&gt;IspisiPodatke();
   
}
 
ApstraktniStudent &amp;Fakultet::operator [](int brindeksa) //-&gt;decltype(*(this-&gt;v[0]))
{
    bool ima(false);
    for(int i(0); i&lt;v.size(); i++) {
        if(v[i]-&gt;DajBrojIndeksa()==brindeksa) {
            ima=true;
            return *v[i];
        }
    }
    if(!ima) throw std::logic_error("Student sa zadanim brojem indeksa ne postoji");
    return *v[0];
}
 
ApstraktniStudent const &amp;Fakultet::operator [](int brindeksa) const //-&gt;decltype(*(this-&gt;v[0]))
{
    bool ima(false);
    for(int i(0); i&lt;v.size(); i++) {
        if(v[i]-&gt;DajBrojIndeksa()==brindeksa) {
            ima=true;
            return *v[i];
        }
    }
    if(!ima) throw std::logic_error("Student sa zadanim brojem indeksa ne postoji");
    return *v[0];
}
 
void Fakultet:: UpisiStudenta(std::string ime, std::string prezime,int brindeksa)
{
    for(auto x : v) if(x-&gt;DajBrojIndeksa()==brindeksa) throw std::logic_error("Student sa zadanim brojem indeksa vec postoji");
    v.push_back(new StudentBachelor(ime,prezime,brindeksa));
}
 
void Fakultet::UpisiStudenta(std::string ime, std::string prezime,int brindeksa,int godina)
{
    for(auto x : v) if(x-&gt;DajBrojIndeksa()==brindeksa) throw std::logic_error("Student sa zadanim brojem indeksa vec postoji");
    v.push_back(new StudentMaster(ime,prezime,brindeksa,godina));
}
 
void Fakultet::ObrisiStudenta(int indeks)
{
    bool ima(false);
    for(int i(0); i&lt;v.size(); i++) {
        if(v[i]-&gt;DajBrojIndeksa()==indeks) {
            ima=true;
            delete v[i];
            v.erase(v.begin()+i);
            break;
        }
    }
    if(!ima) throw std::logic_error("Student sa zadanim brojem indeksa ne postoji");
}
 
Fakultet::~Fakultet()
{
    for(int i(0);i&lt;v.size();i++) delete v[i];
}
 
Fakultet::Fakultet(const Fakultet &amp;f)
{
    for(int i(0);i&lt;v.size();i++) delete v[i];
    v.resize(0);
    try {
        for(auto x: f.v) v.push_back(x-&gt;DajKopiju());
    } catch(...) {
        for(auto x: v) delete x;
    }
}
 
Fakultet &amp;Fakultet::operator=(const Fakultet &amp;f)
{
    for(int i(0);i&lt;v.size();i++) delete v[i];
    v.resize(0);
    try {
        for(auto x: f.v) v.push_back(x-&gt;DajKopiju());
    } catch(...) {
        for(auto x: v) delete x;
    }
    return *this;
}
 
Fakultet::Fakultet(Fakultet &amp;&amp;f)
{
    v=std::move(f.v);
}
 
Fakultet &amp;Fakultet::operator=(Fakultet &amp;&amp;f)
{
    for(int i(0);i&lt;v.size();i++) delete v[i];
    v=std::move(f.v);
    return *this;
}
 
 
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	


</pre>
</body>
</html>
