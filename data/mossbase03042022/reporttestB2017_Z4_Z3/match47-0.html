<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z4/Z3/student5244.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z4/Z3/student5244.cpp<p></p><pre>
#include &lt;iostream&gt;
#include &lt;stdexcept&gt;
#include &lt;tuple&gt;
#include &lt;iomanip&gt;
#include &lt;string&gt;
#include &lt;initializer_list&gt;
#include &lt;algorithm&gt;
#include &lt;vector&gt;

<a name="10"></a><font color="#FF0000"><a href="match47-1.html#10" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_0.gif"/></a>

class Datum
{
    int dan, mjesec, godina;

public:
    Datum (int dan, int mjesec, int godina) { Postavi (dan, mjesec, godina); }
    
    void Postavi (int dan, int mjesec, int godina); 
</font>    
    std::tuple&lt;int, int, int&gt; Ocitaj() const {  return std::make_tuple (dan,mjesec,godina); }
    
    void Ispisi() const { std::cout&lt;&lt;dan&lt;&lt;"/"&lt;&lt;mjesec&lt;&lt;"/"&lt;&lt;godina; }
};

class Vrijeme
{
<a name="7"></a><font color="#0000FF"><a href="match47-1.html#7" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_2.gif"/></a>

    int sati, minute;
    public:
    Vrijeme(int sati, int minute){ Postavi(sati, minute);}
    void Postavi(int sati, int minute);
    std::pair&lt;int, int&gt; Ocitaj() const{ return {sati,minute};}
    void Ispisi() const{ 
        //std::cout&lt;&lt;std::setw(2)&lt;&lt;std::setfill('0')&lt;&lt;sati&lt;&lt;":"&lt;&lt;std::setw(2)&lt;&lt;minute&lt;&lt;std::setfill(' ');
        if(sati &lt; 10) std::cout &lt;&lt; "0";
        std::cout &lt;&lt; sati;
        std::cout &lt;&lt; ":";
        if(minute &lt; 10) std::cout &lt;&lt; "0";
        std::cout &lt;&lt; minute;
    }
};

void Datum::Postavi(int dan, int mjesec, int godina)
{
    int brojdana[12] {31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31};
</font>    if(godina % 4 == 0 &amp;&amp; (godina % 100 != 0 || godina % 400 == 0)) brojdana[1]++;
<a name="6"></a><font color="#00FF00"><a href="match47-1.html#6" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_2.gif"/></a>

    if(godina &lt; 1 || dan &lt; 1 || mjesec &lt; 1 || mjesec &gt; 12 || dan &gt; brojdana[mjesec-1]) throw std::domain_error("Neispravan datum");
    Datum::dan = dan;
    Datum::mjesec = mjesec;
    Datum::godina = godina;
}
void Vrijeme::Postavi(int sati, int minute){
    if(sati &lt; 0 || sati &gt; 23 || minute &lt; 0 || minute &gt; 59) throw std::domain_error("Neispravno vrijeme");
    Vrijeme::sati = sati;
    Vrijeme::minute = minute;
}
class Pregled{
    std::string ime_pacijenta;
    Datum datum_pregleda;
    Vrijeme vrijeme_pregleda;
    static int numofdays(int mjesec, int godina);
  
    public:
    Pregled(const std::string &amp;ime_pacijenta, const Datum &amp;datum_pregleda, const Vrijeme &amp;vrijeme_pregleda) : ime_pacijenta(ime_pacijenta), datum_pregleda(datum_pregleda), vrijeme_pregleda(vrijeme_pregleda){}
</font><a name="2"></a><font color="#0000FF"><a href="match47-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_11.gif"/></a>

    Pregled(const std::string &amp;ime_pacijenta, int dan_pregleda, int mjesec_pregleda, int godina_pregleda, int sati_pregleda, int minute_pregleda) : ime_pacijenta(ime_pacijenta),
    datum_pregleda(dan_pregleda, mjesec_pregleda, godina_pregleda), vrijeme_pregleda(sati_pregleda, minute_pregleda){}
    void PromijeniPacijenta(const std::string &amp;ime_pacijenta){ Pregled::ime_pacijenta = ime_pacijenta;}
    void PromijeniDatum (const Datum &amp;novi_datum){ datum_pregleda = novi_datum; } 
    void PromijeniVrijeme(const Vrijeme &amp;novo_vrijeme){ vrijeme_pregleda = novo_vrijeme;}

    void PomjeriDanUnaprijed(){ 
        auto pom = datum_pregleda.Ocitaj(); 
        std::get&lt;0&gt;(pom)++; 
        if(std::get&lt;0&gt;(pom) &gt; numofdays(std::get&lt;1&gt;(pom), std::get&lt;2&gt;(pom))){ std::get&lt;0&gt;(pom) = 1; std::get&lt;1&gt;(pom) ++;}
        if(std::get&lt;1&gt;(pom) &gt; 12){ std::get&lt;1&gt;(pom) = 1; std::get&lt;2&gt;(pom) ++;}
        datum_pregleda.Postavi(std::get&lt;0&gt;(pom),std::get&lt;1&gt;(pom), std::get&lt;2&gt;(pom));}
        
    void PomjeriDanUnazad(){ 
        auto pom = datum_pregleda.Ocitaj();
        std::get&lt;0&gt;(pom)--;
        if(std::get&lt;0&gt;(pom) &lt; 1) {
            std::get&lt;1&gt;(pom)--;
            if(std::get&lt;1&gt;(pom) &lt; 1) {
                std::get&lt;1&gt;(pom) = 12;
                std::get&lt;2&gt;(pom)--;
            }
            std::get&lt;0&gt;(pom) = numofdays(std::get&lt;1&gt;(pom), std::get&lt;2&gt;(pom));
        }
        datum_pregleda.Postavi(std::get&lt;0&gt;(pom), std::get&lt;1&gt;(pom), std::get&lt;2&gt;(pom));
    }
        
    std::string DajImePacijenta() const { return ime_pacijenta; }
    Datum DajDatumPregleda() const{ return datum_pregleda; }
    Vrijeme DajVrijemePregleda() const{ return vrijeme_pregleda; }
    static bool DolaziPrije(const Pregled &amp;p1, const Pregled &amp;p2);
    void Ispisi() const{ std::cout&lt;&lt;std::left&lt;&lt;std::setw(30)&lt;&lt;DajImePacijenta()&lt;&lt;std::left;
    datum_pregleda.Ispisi();
    std::cout&lt;&lt;" ";
    vrijeme_pregleda.Ispisi();
    std::cout&lt;&lt;std::endl;}
};

bool Pregled::DolaziPrije(const Pregled &amp;p1, const Pregled &amp;p2) {
    auto prvi(p1.DajDatumPregleda().Ocitaj()), drugi(p2.DajDatumPregleda().Ocitaj());
    if(std::get&lt;2&gt;(prvi) &lt; std::get&lt;2&gt;(drugi)) return true;
    else if(std::get&lt;2&gt;(prvi) == std::get&lt;2&gt;(drugi)) {
</font>        if(std::get&lt;1&gt;(prvi) &lt; std::get&lt;1&gt;(drugi)) return true;
        else if(std::get&lt;1&gt;(prvi) == std::get&lt;1&gt;(drugi)) {
<a name="4"></a><font color="#FF00FF"><a href="match47-1.html#4" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_5.gif"/></a>

            if(std::get&lt;0&gt;(prvi) &lt; std::get&lt;0&gt;(drugi)) return true;
            else if(std::get&lt;0&gt;(prvi) == std::get&lt;0&gt;(drugi)) {
                auto vrijemePrvog(p1.DajVrijemePregleda().Ocitaj()), vrijemeDrugog(p2.DajVrijemePregleda().Ocitaj());
                if(vrijemePrvog.first &lt; vrijemeDrugog.first) return true;
                else if(vrijemePrvog.first == vrijemeDrugog.first) {
                    if(vrijemePrvog.second &lt; vrijemeDrugog.second) return true;
                    return false;
                }
                return false;
            }
            return false;
        }
        return false;
    }
    return false;
}

int Pregled::numofdays(int mjesec, int godina){
    int brojdana[12] {31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31};
    if(godina % 4 == 0 &amp;&amp; (godina % 100 != 0 || godina % 400 == 0))
    brojdana[1]++;
    return brojdana[mjesec-1];
}
class Pregledi{
    Pregled **pregledi;
    int max_broj_pregleda;
    int broj_evidentiranih;
    
    public:
    
    explicit Pregledi(int max_broj_pregleda) : pregledi(new Pregled*[max_broj_pregleda]{}), max_broj_pregleda(max_broj_pregleda), broj_evidentiranih(0) {}
    Pregledi(std::initializer_list&lt;Pregled&gt; spisak_pregleda);
    ~Pregledi();
    Pregledi(const Pregledi &amp;pregledi);//nisam
    Pregledi(Pregledi &amp;&amp;pregledi);//nisam
    Pregledi &amp;operator = (const Pregledi &amp;pregledi);
</font>    Pregledi &amp;operator = (Pregledi &amp;&amp;pregledi);
    void RegistrirajPregled(const std::string &amp;ime_pacijenta, const Datum &amp;datum_pregleda, const Vrijeme &amp;vrijeme_pregleda);
    void RegistrirajPregled(const std::string &amp;ime_pacijenta, int dan_pregleda, int mjesec_pregleda, int godina_pregleda, int sati_pregleda, int minute_pregleda );
    void RegistrirajPregled(Pregled *pregled);
    int DajBrojPregleda()const{ return broj_evidentiranih;}
    int DajBrojPregledaNaDatum(const Datum &amp;datum) const;
    Pregled &amp;DajNajranijiPregled();
    Pregled DajNajranijiPregled() const;
<a name="0"></a><font color="#FF0000"><a href="match47-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_27.gif"/></a>

    void IsprazniKolekciju();
    void ObrisiNajranijiPregled();
    void ObrisiPregledePacijenata(const std::string &amp;ime_pacijenta);
    void IspisiPregledeNaDatum(const Datum &amp;datum) const;
    void IspisiSvePreglede() const;
};

Pregledi::Pregledi(std::initializer_list&lt;Pregled&gt; spisak_pregleda) : pregledi(new Pregled*[spisak_pregleda.size()]{}),max_broj_pregleda(spisak_pregleda.size()), broj_evidentiranih(spisak_pregleda.size()){

   int i(0);
    for(auto it = spisak_pregleda.begin(); it != spisak_pregleda.end(); it++){
        try{
            pregledi[i] = new Pregled(*it);
            i++;
        }
        catch(...){
            for(int i = 0; i &lt; max_broj_pregleda; i++){
                delete pregledi[i];
            }
            delete [] pregledi; pregledi = nullptr; 
            throw;
        }
    }
}

Pregledi::~Pregledi(){
    for(int i = 0; i &lt; max_broj_pregleda; i++){
        delete pregledi[i];
    }
    delete [] pregledi;
}

//kopirajuci konstruktor
Pregledi::Pregledi(const Pregledi &amp;pregledi) : pregledi(new Pregled*[pregledi.max_broj_pregleda]{}), max_broj_pregleda(pregledi.max_broj_pregleda), broj_evidentiranih(pregledi.broj_evidentiranih){
    try{
        for(int i = 0; i &lt; pregledi.max_broj_pregleda; i++) {
            if(pregledi.pregledi[i] == nullptr) continue;
            Pregledi::pregledi[i] = new Pregled(*pregledi.pregledi[i]);
        }
    }
    catch(...){
        for(int i = 0; i &lt; pregledi.max_broj_pregleda; i++)
            delete Pregledi::pregledi[i];
            delete [] Pregledi::pregledi; throw;
    }
}

//pomjerajuci kopirajuci konstr
Pregledi::Pregledi(Pregledi &amp;&amp;pregledi) : pregledi(pregledi.pregledi), max_broj_pregleda(pregledi.max_broj_pregleda), broj_evidentiranih(pregledi.broj_evidentiranih){
    pregledi.pregledi = nullptr;
    pregledi.broj_evidentiranih = 0;
}

//kopirajuci operator dodjele
Pregledi &amp;Pregledi::operator = (const Pregledi &amp;pregledi){
    if(this == &amp;pregledi ) return *this;
    if(pregledi.max_broj_pregleda != Pregledi::max_broj_pregleda){
        for(int i = 0; i &lt; Pregledi::max_broj_pregleda; i++){
        delete Pregledi::pregledi[i];
    }
    delete [] Pregledi::pregledi;
    try{
    Pregledi::pregledi = new Pregled*[pregledi.max_broj_pregleda]{};
        try {
            for( int i = 0; i &lt; pregledi.max_broj_pregleda; i++) {
                if(pregledi.pregledi[i] == nullptr) continue;
                Pregledi::pregledi[i] = new Pregled(*pregledi.pregledi[i]);
            }
        }
        catch(...) {
            for(int i = 0; i &lt; pregledi.max_broj_pregleda; i++) {
                delete Pregledi::pregledi[i];
            }
            delete[] Pregledi::pregledi;
            throw;
        }
    }
    catch(...) {
        throw;
    }
    max_broj_pregleda = pregledi.max_broj_pregleda;
    broj_evidentiranih = pregledi.broj_evidentiranih;
    return *this;
    }
    for( int i = 0; i &lt; Pregledi::max_broj_pregleda; i++){
        delete Pregledi::pregledi[i];
        Pregledi::pregledi[i] = nullptr;
    }
    try{
        for (int i = 0; i &lt; pregledi.max_broj_pregleda; i++){
            if(pregledi.pregledi[i] == nullptr) continue;
            Pregledi::pregledi[i] = new Pregled(*pregledi.pregledi[i]);
        }
    }
    catch(...){
        for(int i = 0 ; i &lt; pregledi.max_broj_pregleda; i++){
            delete Pregledi::pregledi[i];
        }
        delete [] Pregledi::pregledi;
        throw;
    }
    max_broj_pregleda = pregledi.max_broj_pregleda;
    broj_evidentiranih = pregledi.broj_evidentiranih;
    return *this;
}
    /*if(pregledi.broj_evidentiranih &gt; Pregledi::broj_evidentiranih){
        try{
        for(int i = broj_evidentiranih; i &lt; pregledi.broj_evidentiranih; i++) {
            Pregledi::pregledi[i] = new Pregled(*pregledi.pregledi[i]);
        }
    }
    catch(...){
        for(int i = broj_evidentiranih; i &lt; pregledi.broj_evidentiranih; i++){
        delete Pregledi::pregledi[i]; Pregledi::pregledi[i] = nullptr;
        }
        throw;
    }
}
else{
    for(int i = pregledi.broj_evidentiranih; i &lt; broj_evidentiranih; i++){
        delete Pregledi::pregledi[i];
        Pregledi::pregledi[i] = nullptr;
    }
}
Pregledi::broj_evidentiranih = pregledi.broj_evidentiranih;
for(int i = 0; i &lt; broj_evidentiranih; i++)
    *Pregledi::pregledi[i] = *pregledi.pregledi[i];
    return *this;
    
    return *this;
}*/

Pregledi &amp;Pregledi::operator = (Pregledi &amp;&amp;pregledi){
    std::swap(Pregledi::broj_evidentiranih, pregledi.broj_evidentiranih);
    std::swap(max_broj_pregleda, pregledi.max_broj_pregleda);
    std::swap(Pregledi::pregledi, pregledi.pregledi);
    return *this;
}
void Pregledi::RegistrirajPregled(const std::string &amp;ime_pacijenta, const Datum &amp;datum_pregleda, const Vrijeme &amp;vrijeme_pregleda){
    if(broj_evidentiranih &gt;= max_broj_pregleda) throw std::domain_error("Dostignut maksimalni broj pregleda");
    Pregled *pregled(nullptr);
    try{
        pregled = new Pregled(ime_pacijenta, datum_pregleda, vrijeme_pregleda);
        for(int i = 0; i &lt; max_broj_pregleda; i++) {
            if(pregledi[i] == nullptr) {
                pregledi[i] = pregled;
                broj_evidentiranih++;
                break;
            }
        }
    }
    catch(...){
        delete pregled; pregled = nullptr;
    }
    
}
void Pregledi::RegistrirajPregled(const std::string &amp;ime_pacijenta, int dan_pregleda, int mjesec_pregleda, int godina_pregleda, int sati_pregleda, int minute_pregleda ){
    if(broj_evidentiranih &gt;= max_broj_pregleda) throw std::domain_error("Dostignut maksimalni broj pregleda");
    Pregled *pregled(nullptr);
    try{
        pregled = new Pregled(ime_pacijenta, dan_pregleda, mjesec_pregleda, godina_pregleda, sati_pregleda, minute_pregleda);
        for(int i = 0; i &lt; max_broj_pregleda; i++) {
            if(pregledi[i] == nullptr) {
                pregledi[i] = pregled;
                broj_evidentiranih++;
                break;
            }
        }
    }
    catch(...){
        delete pregled;
        pregled = nullptr;
    }
}

void Pregledi::RegistrirajPregled(Pregled *pregled){
    if(broj_evidentiranih &gt;= max_broj_pregleda) throw std::domain_error("Dostignut maksimalni broj pregleda");
    for(int i = 0; i &lt; max_broj_pregleda; i++) {
        if(pregledi[i] == nullptr) {
            pregledi[i] = pregled;
            broj_evidentiranih++;
            break;
        }
    }
}

int Pregledi::DajBrojPregledaNaDatum(const Datum &amp;datum) const{
    return std::count_if(pregledi, pregledi+max_broj_pregleda, [datum](const Pregled* p){
        if(p != nullptr) {
            auto prvi(datum.Ocitaj()), drugi(p-&gt;DajDatumPregleda().Ocitaj());
            return std::get&lt;0&gt;(prvi) == std::get&lt;0&gt;(drugi) &amp;&amp; std::get&lt;1&gt;(prvi) == std::get&lt;1&gt;(drugi) &amp;&amp; std::get&lt;2&gt;(prvi) == std::get&lt;2&gt;(drugi);
        }
        return false;
    });
}

Pregled&amp; Pregledi::DajNajranijiPregled(){
    if(pregledi == nullptr || broj_evidentiranih == 0) throw std::domain_error("Nema registriranih pregleda");
    if(broj_evidentiranih == 1) {
        for(int i(0); i &lt; max_broj_pregleda; i++) {
            if(pregledi[i] != nullptr) return *pregledi[i];
        }
    }    
    auto min = std::min_element(pregledi, pregledi + max_broj_pregleda, [](const Pregled *p, const Pregled *p2){
        if(p != nullptr &amp;&amp; p2 != nullptr) {
            auto prvi(p-&gt;DajDatumPregleda().Ocitaj()), drugi(p2-&gt;DajDatumPregleda().Ocitaj());
            if(std::get&lt;2&gt;(prvi) &lt; std::get&lt;2&gt;(drugi)) return true;
            else if(std::get&lt;2&gt;(prvi) == std::get&lt;2&gt;(drugi)){
</font>                if(std::get&lt;1&gt;(prvi) &lt; std::get&lt;1&gt;(drugi)) return true;
                else if(std::get&lt;1&gt;(prvi) == std::get&lt;1&gt;(drugi)){
<a name="3"></a><font color="#00FFFF"><a href="match47-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_6.gif"/></a>

                    if(std::get&lt;0&gt;(prvi) &lt; std::get&lt;0&gt;(drugi)) return true;
                    else if(std::get&lt;0&gt;(prvi) == std::get&lt;0&gt;(drugi)){
                        auto vrijemePrvog(p-&gt;DajVrijemePregleda().Ocitaj()), vrijemeDrugog(p2-&gt;DajVrijemePregleda().Ocitaj());
                        if(vrijemePrvog.first &lt; vrijemeDrugog.first) return true;
                        else if(vrijemePrvog.first == vrijemeDrugog.first){
                            if(vrijemePrvog.second &lt; vrijemeDrugog.second) return true;
                            return false;
                        }
                        return false;
                    }
                    return false;
                }
                return false;
            }
            return false;
        }
        else if(p != nullptr &amp;&amp; p2 == nullptr) return true;
        return false;
    });
    return *(*min);
}

Pregled Pregledi::DajNajranijiPregled() const {
    if(pregledi == nullptr || broj_evidentiranih == 0) throw std::domain_error("Nema registriranih pregleda");
    if(broj_evidentiranih == 1) {
        for(int i(0); i &lt; max_broj_pregleda; i++) {
            if(pregledi[i] != nullptr) return *pregledi[i];
        }
    }
    auto min = std::min_element(pregledi, pregledi + max_broj_pregleda, [](const Pregled *p, const Pregled *p2){
        if(p != nullptr &amp;&amp; p2 != nullptr) {
            std::cout &lt;&lt; "hi";
            auto prvi(p-&gt;DajDatumPregleda().Ocitaj()), drugi(p2-&gt;DajDatumPregleda().Ocitaj());
            if(std::get&lt;2&gt;(prvi) &lt; std::get&lt;2&gt;(drugi)) return true;
            else if(std::get&lt;2&gt;(prvi) == std::get&lt;2&gt;(drugi)){
</font>                if(std::get&lt;1&gt;(prvi) &lt; std::get&lt;1&gt;(drugi)) return true;
                else if(std::get&lt;1&gt;(prvi) == std::get&lt;1&gt;(drugi)){
<a name="1"></a><font color="#00FF00"><a href="match47-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_20.gif"/></a>

                    if(std::get&lt;0&gt;(prvi) &lt; std::get&lt;0&gt;(drugi)) return true;
                    else if(std::get&lt;0&gt;(prvi) == std::get&lt;0&gt;(drugi)){
                        auto vrijemePrvog(p-&gt;DajVrijemePregleda().Ocitaj()), vrijemeDrugog(p2-&gt;DajVrijemePregleda().Ocitaj());
                        if(vrijemePrvog.first &lt; vrijemeDrugog.first) return true;
                        else if(vrijemePrvog.first == vrijemeDrugog.first){
                            if(vrijemePrvog.second &lt; vrijemeDrugog.second) return true;
                            return false;
                        }
                        return false;
                    }
                    return false;
                }
                return false;
            }
            return false;
        }
        else if(p != nullptr &amp;&amp; p2 == nullptr) {
            return true;
        }
        else {
            return false;
        }
    });
    return *(*min);
}

void Pregledi::IsprazniKolekciju(){
    for(int i = 0; i &lt; max_broj_pregleda; i++){
        delete pregledi[i] ;
        pregledi[i] = nullptr;
    }
    broj_evidentiranih = 0;
}

void Pregledi::ObrisiNajranijiPregled(){
    if(broj_evidentiranih == 0) throw std::range_error("Prazna kolekcija");
    Pregled p = DajNajranijiPregled();
    for(int i = 0; i &lt; max_broj_pregleda; i++) {
        if(pregledi[i] == nullptr) continue;
        if(pregledi[i]-&gt;DajImePacijenta() == p.DajImePacijenta()) {
            auto prviDatum(pregledi[i]-&gt;DajDatumPregleda().Ocitaj()), drugiDatum(p.DajDatumPregleda().Ocitaj());
            auto prvoVrijeme(pregledi[i]-&gt;DajVrijemePregleda().Ocitaj()), drugoVrijeme(p.DajVrijemePregleda().Ocitaj());
            if(std::get&lt;0&gt;(prviDatum) == std::get&lt;0&gt;(drugiDatum) &amp;&amp; std::get&lt;1&gt;(prviDatum) == std::get&lt;1&gt;(drugiDatum) &amp;&amp; std::get&lt;2&gt;(prviDatum) == std::get&lt;2&gt;(drugiDatum) &amp;&amp; prvoVrijeme.first == drugoVrijeme.first &amp;&amp; prvoVrijeme.second == drugoVrijeme.second) {
                delete pregledi[i];
                pregledi[i] = nullptr;
                broj_evidentiranih--;
                break;
            }
        }
    }
}

void Pregledi::ObrisiPregledePacijenata(const std::string &amp;ime_pacijenta) {
    for(int i = 0; i &lt; max_broj_pregleda; i++) {
        if(pregledi[i] == nullptr) continue;
        if(pregledi[i]-&gt;DajImePacijenta() == ime_pacijenta) {
            delete pregledi[i];
            pregledi[i] = nullptr;
            broj_evidentiranih--;
        }
    }
}

void Pregledi::IspisiPregledeNaDatum(const Datum &amp;d) const {
    std::vector&lt;Pregled&gt; preglediNaDatum;
    for(int i = 0; i &lt; max_broj_pregleda; i++) {
        if(pregledi[i] == nullptr) continue;
        auto prviDatum(pregledi[i]-&gt;DajDatumPregleda().Ocitaj()), drugiDatum(d.Ocitaj());
        if(std::get&lt;0&gt;(prviDatum) == std::get&lt;0&gt;(drugiDatum) &amp;&amp; std::get&lt;1&gt;(prviDatum) == std::get&lt;1&gt;(drugiDatum) &amp;&amp; std::get&lt;2&gt;(prviDatum) == std::get&lt;2&gt;(drugiDatum)) {
            preglediNaDatum.push_back(*pregledi[i]);
        }
    }
    std::sort(preglediNaDatum.begin(), preglediNaDatum.end(), Pregled::DolaziPrije);
    for(int i = 0; i &lt; preglediNaDatum.size(); i++) {
        preglediNaDatum[i].Ispisi();
    }
}

void Pregledi::IspisiSvePreglede() const {
    std::vector&lt;Pregled&gt; sviPregledi;
    for(int i = 0; i &lt; max_broj_pregleda; i++) {
        if(pregledi[i] == nullptr) continue;
        sviPregledi.push_back(*pregledi[i]);
    }
    std::sort(sviPregledi.begin(), sviPregledi.end(), Pregled::DolaziPrije);
    for(int i = 0; i &lt; sviPregledi.size(); i++) {
        sviPregledi[i].Ispisi();
    }
}

int main() {
    try{
    std::cout &lt;&lt; "Unesite maksimalan broj pregleda: ";
    int broj_pregleda;
    std::cin &gt;&gt; broj_pregleda;
    std::cin.ignore(10000, '\n');
    Pregledi pregledi(broj_pregleda);
    for(int i(0); i &lt; broj_pregleda; i++) {
        std::cout &lt;&lt; "Unesite ime novog pacijenta ili 'kraj' za zavrsetak unosa: ";
        std::string ime;
        std::getline(std::cin, ime);
        if(ime == "kraj") break;
        std::cout &lt;&lt; "Unesite dan mjesec i godinu pregleda: ";
        int dan, mjesec, godina;
        std::cin &gt;&gt; dan &gt;&gt; mjesec &gt;&gt; godina;
        std::cout &lt;&lt; "Unesite sate i minute pregleda: ";
        int sati, minute;
        std::cin &gt;&gt; sati &gt;&gt; minute;
        pregledi.RegistrirajPregled(ime, dan, mjesec, godina, sati, minute);
        std::cin.ignore(10000, '\n');
    }
    std::cout &lt;&lt; "Trenutno su registrovani sljedeci pregledi" &lt;&lt; std::endl;
    pregledi.IspisiSvePreglede();
    std::cout &lt;&lt; std::endl;
    int izbor(0);
    while(izbor != 7) {
        std::cout &lt;&lt; "Odaberite jednu od sljedecih opcija" &lt;&lt; std::endl;
        std::cout &lt;&lt; "1 - Broj pregleda na datum" &lt;&lt; std::endl;
</font>        std::cout &lt;&lt; "2 - Najraniji pregled" &lt;&lt; std::endl;
        std::cout &lt;&lt; "3 - Obrisi pregled pacijenta" &lt;&lt; std::endl;
        std::cout &lt;&lt; "4 - Obrisi najraniji pregled" &lt;&lt; std::endl;
        std::cout &lt;&lt; "5 - Ispisi sve pregleda na datum" &lt;&lt; std::endl;
<a name="9"></a><font color="#FF00FF"><a href="match47-1.html#9" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_1.gif"/></a>

        std::cout &lt;&lt; "6 - Ispisi sve preglede" &lt;&lt; std::endl;
        std::cout &lt;&lt; "7 - Kraj programa" &lt;&lt; std::endl;
        std::cin &gt;&gt; izbor;
        if(izbor == 1) {
            std::cout &lt;&lt; "Unesite dan mjesec i godinu : ";
            int dan, mjesec, godina;
            std::cin &gt;&gt; dan &gt;&gt; mjesec &gt;&gt; godina;
</font>            Datum d(dan, mjesec, godina);
<a name="5"></a><font color="#FF0000"><a href="match47-1.html#5" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_4.gif"/></a>

            std::cout &lt;&lt; "Broj pregleda na datum " &lt;&lt; dan &lt;&lt; " " &lt;&lt; mjesec &lt;&lt; " " &lt;&lt; godina &lt;&lt; " je: " &lt;&lt; pregledi.DajBrojPregledaNaDatum(d) &lt;&lt; std::endl;
        }
        else if(izbor == 2) {
            std::cout &lt;&lt; "Najraniji pregled je:" &lt;&lt; std::endl;
            pregledi.DajNajranijiPregled().Ispisi();
            std::cout &lt;&lt; std::endl;
        }
        else if(izbor == 3) {
            std::cout &lt;&lt; "Unesite ime pacijenta: ";
            std::cin.ignore(10000, '\n');
            std::string ime_pacijenta;
            std::getline(std::cin, ime_pacijenta);
            int broj_pregleda = pregledi.DajBrojPregleda();
            pregledi.ObrisiPregledePacijenata(ime_pacijenta);
            int novi_broj_pregleda = pregledi.DajBrojPregleda();
            std::cout &lt;&lt; "Uspjesno obrisano " &lt;&lt; broj_pregleda - novi_broj_pregleda &lt;&lt; " pregleda" &lt;&lt; std::endl;
        }
        else if(izbor == 4) {
            pregledi.ObrisiNajranijiPregled();
            std::cout &lt;&lt; "Najraniji pregled uspjesno obrisan" &lt;&lt; std::endl;
        }
        else if(izbor == 5) {
            std::cout &lt;&lt; "Unesite dan mjesec i godinu : ";
            int dan, mjesec, godina;
            std::cin &gt;&gt; dan &gt;&gt; mjesec &gt;&gt; godina;
</font>            Datum d(dan, mjesec, godina);
<a name="8"></a><font color="#00FFFF"><a href="match47-1.html#8" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_2.gif"/></a>

            std::cout &lt;&lt; "Pregledi na datum " &lt;&lt; dan &lt;&lt; " " &lt;&lt; mjesec &lt;&lt; " " &lt;&lt; godina &lt;&lt; " su:" &lt;&lt; std::endl;
            pregledi.IspisiPregledeNaDatum(d);
        }
        else if(izbor == 6) {
            pregledi.IspisiSvePreglede();
        }
        std::cout &lt;&lt; std::endl;
    }
    }
    catch(std::domain_error e){
        std::cout&lt;&lt;e.what()&lt;&lt;std::endl;
    }
    catch(std::range_error e){
        std::cout&lt;&lt;e.what()&lt;&lt;std::endl;
    }
    return 0;
</font>}</pre>
</body>
</html>
