<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z4/Z3/student5236.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z4/Z3/student5236.cpp<p></p><pre>
#include &lt;iostream&gt;
#include &lt;tuple&gt;
#include &lt;stdexcept&gt;
#include &lt;utility&gt;
#include &lt;iomanip&gt;
<a name="1"></a><font color="#00FF00"><a href="match235-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_23.gif"/></a>

class Datum{
    int dan,mjesec,godina;
    public:
    Datum(int dan, int mjesec, int godina){ Postavi(dan,mjesec,godina);}
    void Postavi(int dan, int mjesec, int godina);
    std::tuple&lt;int, int, int&gt; Ocitaj() const;
    void Ispisi()const{
        std::cout&lt;&lt;dan&lt;&lt;"/"&lt;&lt;mjesec&lt;&lt;"/"&lt;&lt;godina;
    }
    friend class Pregled;
};
class Vrijeme{
    int sati,minute;
    public:
    Vrijeme(int sati, int minute){ Postavi(sati,minute); }
    void Postavi(int sati, int minute);
    std::pair&lt;int, int&gt; Ocitaj() const;
    void Ispisi()const;
    friend class Pregled;
};
class Pregled{
    std::string ime_pacijenta;
    Datum d_p=Datum(1,1,1);
    Vrijeme v_p=Vrijeme(1,1);
    public:
    Pregled(const std::string &amp;ime_pacijenta, const Datum &amp;datum_pregleda,
       const Vrijeme &amp;vrijeme_pregleda);
    Pregled(const std::string &amp;ime_pacijenta, int dan_pregleda, int mjesec_pregleda,
       int godina_pregleda, int sati_pregleda, int minute_pregleda);
   void PromijeniPacijenta(const std::string &amp;ime_pacijenta){
       Pregled::ime_pacijenta=ime_pacijenta;
   }
   void PromijeniDatum(const Datum &amp;novi_datum){
       d_p.dan=novi_datum.dan;d_p.mjesec=novi_datum.mjesec;d_p.godina=novi_datum.godina;
   }
   void PromijeniVrijeme(const Vrijeme &amp;novo_vrijeme){
       v_p.sati=novo_vrijeme.sati;v_p.minute=novo_vrijeme.minute;
   }
   void PomjeriDanUnaprijed();
   void PomjeriDanUnazad();
   std::string DajImePacijenta() const{ return ime_pacijenta; }
   Datum DajDatumPregleda() const{ return d_p; }
   Vrijeme DajVrijemePregleda() const{ return v_p; }
   static bool DolaziPrije(const Pregled &amp;p1, const Pregled &amp;p2);
   void Ispisi()const;
};

class Pregledi{
    const int max_br_pregleda;
    int broj_evidentiranih;
    Pregled **p;
    public:
    explicit Pregledi(int max_broj_pregleda):max_br_pregleda(max_broj_pregleda),
    broj_evidentiranih(0),p(new Pregled*[max_br_pregleda]{}){}
    ~Pregledi();
    Pregledi(const Pregledi &amp;pregledi);
    Pregledi(Pregledi &amp;&amp;pregledi);
    Pregledi &amp;operator =(const Pregledi &amp;pregledi);
    Pregledi &amp;operator =(Pregledi &amp;&amp;pregledi);
    void RegistrirajPregled(const std::string &amp;ime_pacijenta, const Datum &amp;datum_pregleda,
       const Vrijeme &amp;vrijeme_pregleda);
    void RegistrirajPregled(Pregled *pregled);
};
void Datum::Postavi(int dan, int mjesec, int godina){
    int broj_dana[12]={31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31};
</font>    if((godina%4==0 &amp;&amp; godina%100!=0) || godina%400==0)broj_dana[1]++;
<a name="0"></a><font color="#FF0000"><a href="match235-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_72.gif"/></a>

    if(godina&lt;1 || dan&lt;1 || mjesec&lt;1 || mjesec&gt;12 || dan&gt;broj_dana[mjesec-1])
        throw std::domain_error("Neispravan datum");
    Datum::dan=dan;Datum::mjesec=mjesec;Datum::godina=godina;    
}
std::tuple&lt;int, int, int&gt; Datum::Ocitaj() const{
    std::tuple&lt;int, int, int&gt; d;
    std::get&lt;0&gt;(d)=dan;std::get&lt;1&gt;(d)=mjesec;std::get&lt;2&gt;(d)=godina;
    return d;
}
void Vrijeme::Postavi(int sati, int minute){
    if(sati&lt;0 || sati&gt;23 || minute&lt;0 || minute&gt;59)
       throw std::domain_error("Neispravno vrijeme");
    Vrijeme::sati=sati;Vrijeme::minute=minute;
}
std::pair&lt;int, int&gt; Vrijeme::Ocitaj() const{
    std::pair&lt;int, int&gt;v;
    v.first=sati;v.second=minute;
    return v;
}
void Vrijeme::Ispisi() const{
    if(sati&lt;0 || sati&gt;23 || minute&lt;0 || minute&gt;59)
       throw std::domain_error("Neispravno vrijeme!");
    if(sati&lt;10 &amp;&amp; minute&gt;10){
        std::cout&lt;&lt;"0"&lt;&lt;sati&lt;&lt;":"&lt;&lt;minute;
    }else if(sati&gt;10 &amp;&amp; minute&lt;10){
        std::cout&lt;&lt;sati&lt;&lt;":0"&lt;&lt;minute;
    }else if(sati&lt;10 &amp;&amp; minute&lt;10){
        std::cout&lt;&lt;"0"&lt;&lt;sati&lt;&lt;":0"&lt;&lt;minute;
    }else{
        std::cout&lt;&lt;sati&lt;&lt;":"&lt;&lt;minute;
    }
}
Pregled::Pregled(const std::string &amp;ime_pacijenta, const Datum &amp;datum_pregleda,
    const Vrijeme &amp;vrijeme_pregleda){
    Pregled::d_p.dan=datum_pregleda.dan;
    Pregled::d_p.mjesec=datum_pregleda.mjesec;
    Pregled::d_p.godina=datum_pregleda.godina;
    Pregled::v_p.sati=vrijeme_pregleda.sati;
    Pregled::v_p.minute=vrijeme_pregleda.minute;
    Pregled::ime_pacijenta=ime_pacijenta;
}
Pregled::Pregled(const std::string &amp;ime_pacijenta, int dan_pregleda, int mjesec_pregleda,
   int godina_pregleda, int sati_pregleda, int minute_pregleda):
   d_p(dan_pregleda,mjesec_pregleda,godina_pregleda),
   v_p(sati_pregleda,minute_pregleda){
       Pregled::ime_pacijenta=ime_pacijenta;
   }

void Pregled::PomjeriDanUnaprijed(){
    int broj_dana[12]={31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31};
    if(d_p.dan=broj_dana[d_p.mjesec-1] &amp;&amp; d_p.mjesec&lt;12){
        d_p.dan=1;
        d_p.mjesec+=1;
    }else if(d_p.dan=broj_dana[d_p.mjesec-1] &amp;&amp; d_p.mjesec==12){
        d_p.dan=1;
        d_p.mjesec=1;
        d_p.godina+=1;
    }else{
        d_p.dan+=1;
    }
}
void Pregled::PomjeriDanUnazad(){
    int broj_dana[12]={31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31};
    if(d_p.dan==1 &amp;&amp; d_p.mjesec&gt;1){
        d_p.dan=broj_dana[d_p.mjesec-1];
    }else if(d_p.dan==1 &amp;&amp; d_p.mjesec==1){
        d_p.mjesec==12;
        d_p.dan=broj_dana[d_p.mjesec-1];
        d_p.godina-=1;
    }else{
        d_p.dan-=1;
    }
}
bool Pregled::DolaziPrije(const Pregled &amp;p1, const Pregled &amp;p2){
    bool a(true);
    if(p1.d_p.godina&gt;p2.d_p.godina){
        a=false;
    }else if(p1.d_p.godina==p2.d_p.godina){
       if(p1.d_p.dan&gt;p2.d_p.dan &amp;&amp; p1.d_p.mjesec&gt;p2.d_p.mjesec){
           a=false;
       }else if(p1.d_p.dan==p2.d_p.dan &amp;&amp; p1.d_p.mjesec&gt;p2.d_p.mjesec){
           a=false;
       }else if(p1.d_p.dan&gt;p2.d_p.dan &amp;&amp; p1.d_p.mjesec==p2.d_p.mjesec){
           a=false;
       }else if(p1.d_p.dan==p2.d_p.dan &amp;&amp; p1.d_p.mjesec==p2.d_p.mjesec){
           a=false;
       }else{
           a=true;
       }
    }
    return a;
}
void Pregled::Ispisi()const{
    std::cout&lt;&lt;std::left&lt;&lt;std::setw(31)&lt;&lt;ime_pacijenta&lt;&lt;d_p.dan&lt;&lt;"/"&lt;&lt;d_p.mjesec&lt;&lt;"/"&lt;&lt;d_p.godina&lt;&lt;",";
    if(v_p.sati&gt;10 &amp;&amp; v_p.minute&lt;10){
        std::cout&lt;&lt;v_p.sati&lt;&lt;":0"&lt;&lt;v_p.minute&lt;&lt;std::endl;
    }else if(v_p.sati&lt;10 &amp;&amp; v_p.minute&gt;10){
        std::cout&lt;&lt;"0"&lt;&lt;v_p.sati&lt;&lt;":"&lt;&lt;v_p.minute&lt;&lt;std::endl;
    }else if(v_p.sati&lt;10 &amp;&amp; v_p.minute&lt;10){
        std::cout&lt;&lt;"0"&lt;&lt;v_p.sati&lt;&lt;":0"&lt;&lt;v_p.minute&lt;&lt;std::endl;
    }else{
        std::cout&lt;&lt;v_p.sati&lt;&lt;":"&lt;&lt;v_p.minute&lt;&lt;std::endl;
    }
}
Pregledi::~Pregledi(){
    for(int i(0);i&lt;broj_evidentiranih;i++)delete p[i];
    delete[] p;
}
Pregledi::Pregledi(const Pregledi &amp;pregledi):max_br_pregleda(pregledi.max_br_pregleda),
    broj_evidentiranih(pregledi.broj_evidentiranih),p(new Pregled*[pregledi.max_br_pregleda]{}){}

Pregledi::Pregledi(Pregledi &amp;&amp;pregledi):max_br_pregleda(pregledi.max_br_pregleda),
   broj_evidentiranih(pregledi.broj_evidentiranih),p(pregledi.p){
       pregledi.broj_evidentiranih=0;pregledi.p=nullptr;
   }
Pregledi &amp;Pregledi::operator=(const Pregledi &amp;pregledi){
    if(pregledi.max_br_pregleda!=max_br_pregleda)
        throw std::logic_error("Nesaglasni pregledi!");
    if(pregledi.max_br_pregleda&gt;max_br_pregleda){
        try{
            for(int i=broj_evidentiranih;i&lt;pregledi.broj_evidentiranih;i++){
                p[i]=new Pregled(*pregledi.p[i]);
            }
        }
        catch(...){
            for(int i(0);i&lt;broj_evidentiranih;i++){
            delete p[i];p[i]=nullptr;
            }
            throw;
        }
    }else{
        for(int i=pregledi.broj_evidentiranih;i&lt;broj_evidentiranih;i++){
            delete p[i];p[i]=nullptr;
        }
    } 
    broj_evidentiranih=pregledi.broj_evidentiranih;
    for(int i(0);i&lt;broj_evidentiranih;i++)*p[i]=*pregledi.p[i];
    return *this;
}
Pregledi &amp;Pregledi::operator =(Pregledi &amp;&amp;pregledi){
    if(pregledi.max_br_pregleda!=max_br_pregleda)
    throw std::logic_error("Nesaglasni pregledi!");
    std::swap(broj_evidentiranih,pregledi.broj_evidentiranih);
    std::swap(p,pregledi.p);
    return *this;
}
void Pregledi::RegistrirajPregled(Pregled *pregled){
    if(broj_evidentiranih&gt;=max_br_pregleda)
    throw std::range_error("Dostignut maksimalni broj pregleda");
    p[broj_evidentiranih++]=pregled;
</font>}
int main(){
    
    return 0;
}</pre>
</body>
</html>
