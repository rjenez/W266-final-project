<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z4/Z3/student7255.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z4/Z3/student7945.cpp<p></p><pre>
<a name="3"></a><font color="#00FFFF"><a href="match265-0.html#3" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_4.gif"/></a>

/B2017/2018: ZadaÄ‡a 4, Zadatak 3
#include &lt;iostream&gt;
#include &lt;tuple&gt;
#include &lt;iomanip&gt;
#include &lt;string&gt;

class Datum {
    int dan,mjesec,godina;
    int BrojDana(int mjesec, int godina);
    public:
    Datum(int dan, int mjesec, int godina) { Postavi(dan, mjesec, godina); }
    void Postavi(int dan, int mjesec, int godina);
</font>    std::tuple&lt;int, int, int&gt; Ocitaj() const {
<a name="1"></a><font color="#00FF00"><a href="match265-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_23.gif"/></a>

        return std::make_tuple(dan,mjesec,godina);
    }
    void Ispisi() const {
        std::cout&lt;&lt;dan&lt;&lt;"/"&lt;&lt;mjesec&lt;&lt;"/"&lt;&lt;godina;
    }
    friend class Pregled;
};

int Datum::BrojDana(int mjesec, int godina) {
    int brojdana[] {31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31};
    if( (godina%4==0 &amp;&amp; godina%100!=0) || godina%400==0 ) brojdana[1]++;
    return brojdana[mjesec-1];
}

void Datum::Postavi(int dan, int mjesec, int godina) {
    if(godina&lt;1 || dan&lt;1 || mjesec&lt;1 || mjesec&gt;12 || dan&gt;BrojDana(mjesec, godina) ) 
        throw std::domain_error ("Neispravan datum");
    Datum::dan=dan;
    Datum::mjesec=mjesec;
    Datum::godina=godina;
}

class Vrijeme {
    int sati, minute;
    public:
    Vrijeme(int sati, int minute) { Postavi(sati,minute); }
    void Postavi(int sati, int minute) {
        if(sati&lt;0 || sati&gt;23 || minute&lt;0 || minute&gt;59)
            throw std::domain_error ("Neispravno vrijeme");
        Vrijeme::sati=sati;
        Vrijeme::minute=minute;
    }
    std::pair&lt;int, int&gt; Ocitaj() const { return {sati, minute}; }
    void Ispisi() const {
        std::cout&lt;&lt;std::setfill('0')&lt;&lt;std::setw(2)&lt;&lt;sati&lt;&lt;":"
                 &lt;&lt;std::setfill('0')&lt;&lt;std::setw(2)&lt;&lt;minute;
        std::cout&lt;&lt;std::setfill(' ');
    }
    friend class Pregled;
};

class Pregled {
    std::string ime_pacijenta;
    Datum datum_pregleda;
    Vrijeme vrijeme_pregleda;
    public:
    Pregled(const std::string &amp;ime_pacijenta, const Datum &amp;datum_pregleda,
</font>            const Vrijeme &amp;vrijeme_pregleda);
<a name="0"></a><font color="#FF0000"><a href="match265-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_36.gif"/></a>

    Pregled(const std::string &amp;ime_pacijenta, int dan_pregleda, int mjesec_pregleda, 
            int godina_pregleda, int sati_pregleda, int minute_pregleda);
    void PromijeniPacijenta(const std::string &amp;ime_pacijenta) {
        Pregled::ime_pacijenta=ime_pacijenta;
    }
    void PromijeniDatum(const Datum &amp;novi_datum) {
        datum_pregleda=novi_datum;
    }
    void PromijeniVrijeme(const Vrijeme &amp;novo_vrijeme) {
        vrijeme_pregleda=novo_vrijeme;
    }
    void PomjeriDanUnaprijed() {
        datum_pregleda.dan++;
        datum_pregleda=Datum(datum_pregleda.dan,datum_pregleda.mjesec,datum_pregleda.godina);
    }
    void PomjeriDanUnazad() { 
        datum_pregleda.dan--;
        datum_pregleda=Datum(datum_pregleda.dan,datum_pregleda.mjesec,datum_pregleda.godina);
    }
    std::string DajImePacijenta() const { return ime_pacijenta; }
    Datum DajDatumPregleda() const { return datum_pregleda; }
    Vrijeme DajVrijemePregleda() const { return vrijeme_pregleda; }
    static bool DolaziPrije(const Pregled &amp;p1, const Pregled &amp;p2);
    void Ispisi() const {
        std::cout&lt;&lt;std::left&lt;&lt;std::setw(30)&lt;&lt;DajImePacijenta()&lt;&lt;std::right;
        datum_pregleda.Ispisi();
        std::cout&lt;&lt;" ";
        vrijeme_pregleda.Ispisi();
        std::cout&lt;&lt;std::endl;
    }
};

Pregled::Pregled(const std::string &amp;ime_pacijenta, const Datum &amp;datum_pregleda,
        const Vrijeme &amp;vrijeme_pregleda) : ime_pacijenta(ime_pacijenta),
            datum_pregleda(datum_pregleda), vrijeme_pregleda(vrijeme_pregleda) { }
            
Pregled::Pregled(const std::string &amp;ime_pacijenta, int dan_pregleda, int mjesec_pregleda, 
        int godina_pregleda, int sati_pregleda, int minute_pregleda) :
            ime_pacijenta(ime_pacijenta),
            datum_pregleda(dan_pregleda,mjesec_pregleda,godina_pregleda),
            vrijeme_pregleda(sati_pregleda,minute_pregleda) { }
        
bool Pregled::DolaziPrije(const Pregled &amp;p1, const Pregled &amp;p2) {
    if(p1.datum_pregleda.godina&lt;p2.datum_pregleda.godina) return true;
    else if(p1.datum_pregleda.godina&gt;p2.datum_pregleda.godina) return false;
    if(p1.datum_pregleda.mjesec&lt;p2.datum_pregleda.mjesec) return true;
    else if(p1.datum_pregleda.mjesec&gt;p2.datum_pregleda.mjesec) return false;
    if(p1.datum_pregleda.dan&lt;p2.datum_pregleda.dan) return true;
    else if(p1.datum_pregleda.dan&gt;p2.datum_pregleda.dan) return false;
    if(p1.vrijeme_pregleda.sati&lt;p2.vrijeme_pregleda.sati) return true;
    else if(p1.vrijeme_pregleda.sati&gt;p2.vrijeme_pregleda.sati) return false;
    if(p1.vrijeme_pregleda.minute&lt;p2.vrijeme_pregleda.minute) return true;
    else if(p1.vrijeme_pregleda.minute&gt;p2.vrijeme_pregleda.minute) return false;
    throw std::domain_error ("Isti termini");
}

class Pregledi {
    const int max_broj_pregleda;
    Pregled **niz;
    public:
    explicit Pregledi(int max_broj_pregleda) : max_broj_pregleda(max_broj_pregleda) {
        niz=new Pregled*[max_broj_pregleda];
    }
    
    Pregledi(std::initializer_list&lt;Pregled&gt; spisak_pregleda);
    ~Pregledi();
    Pregledi(const Pregledi &amp;pregledi);
    Pregledi(Pregledi &amp;&amp;pregledi);
    Pregledi &amp;operator=(const Pregledi &amp;pregledi);
</font>    Pregledi &amp;operator=(Pregledi &amp;&amp;pregledi);
    
    void RegistrirajPregled(const std::string &amp;ime_pacijenta, const Datum &amp;datum_pregleda,
                            const Vrijeme &amp;vrijeme_pregleda);
    void RegistrirajPregled(const std::string &amp;ime_pacijenta, int dan_pregleda, 
                            int mjesec_pregleda, int godina_pregleda, 
                            int sati_pregleda, int minute_pregleda);
    void RegistrirajPregled(Pregled *pregled);
    int DajBrojPregleda() const;
    int DajBrojPregledaNaDatum(const Datum &amp;datum) const;
    Pregled &amp;DajNajranijiPregled();
<a name="2"></a><font color="#0000FF"><a href="match265-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_21.gif"/></a>

    Pregled DajNajranijiPregled() const;
    void IsprazniKolekciju();
    void ObrisiNajranijiPregled();
    void ObrisiPregledePacijenta(const std::string &amp;ime_pacijenta);
    void IspisiPregledeNaDatum(const Datum &amp;datum) const;
    void IspisiSvePreglede() const;
};

int main ()
{
    std::cout&lt;&lt;"Unesite maksimalan broj pregleda: ";
    int max_pregledi;
    std::cin&gt;&gt;max_pregledi;
    Pregledi pacijenti(max_pregledi);
    int i(0);
    for( ; ; ){
        std::cin.ignore(10000, '\n');
        std::cout&lt;&lt;"Unesite ime novog pacijenta ili 'kraj' za zavrsetak unosa: ";
        std::string ime;
        std::getline(std::cin, ime);
        if(ime=="kraj") break;
        std::cout&lt;&lt;"Unesite dan mjesec i godinu pregleda: ";
        int dan,mj,god;
        std::cin&gt;&gt;dan&gt;&gt;mj&gt;&gt;god;
        std::cout&lt;&lt;"Unesite sate i minute pregleda: ";
        int h,m;
        std::cin&gt;&gt;h&gt;&gt;m;
        pacijenti[i]={ime, dan, mj, god, h, m};
        i++;
        if(i==max_pregledi) break;
    }
    std::cout&lt;&lt;"Trenutno su registrovani sljedeci pregledi: \n";
    pacijenti.IspisiSvePreglede();
    
    while(1){
        std::cout&lt;&lt;"Odaberite jednu od sljedecih opcija\n"
                 &lt;&lt;"1 - Broj pregleda na datum\n"
                 &lt;&lt;"2 - Najraniji pregled\n"
                 &lt;&lt;"3 - Obrisi pregled pacijenta\n"
                 &lt;&lt;"4 - Obrisi najraniji pregled\n"
                 &lt;&lt;"5 - Ispisi sve pregleda na datum\n"
                 &lt;&lt;"6 - Ispisi sve preglede\n"
                 &lt;&lt;"7 - Kraj programa\n";
        int br;
        std::cin&gt;&gt;br;
        if(br==7) break;
        else if(br==6) pacijenti.IspisiSvePreglede();
        else if(br==5) pacijenti.IspisiPregledeNaDatum();
        else if(br==4) pacijenti.ObrisiNajranijiPregled();
        else if(br==3) pacijenti.ObrisiPregledePacijenta();
        else if(br==2) DajNajranijiPregled;
        else if(br==1) {
            std::cout&lt;&lt;"Unesite dan mjesec i godinu : ";
            int dan,mj,god;
            std::cin&gt;&gt;dan&gt;&gt;mj&gt;&gt;god;
</font>            Datum d(dan,mj,god);
            std::cout&lt;&lt;"Broj pregleda na datum "&lt;&lt;dan&lt;&lt;" "&lt;&lt;mj&lt;&lt;" "&lt;&lt;god
                     &lt;&lt;" je: "&lt;&lt;DajBrojPregledaNaDatum(d);
        }
    }
             
	return 0;
}
</pre>
</body>
</html>
