<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z4/Z3/student8412.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z4/Z3/student9466.cpp<p></p><pre>
<a name="0"></a><font color="#FF0000"><a href="match210-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_90.gif"/></a>

/B2017/2018: ZadaÄ‡a 4, Zadatak 3
#include &lt;iostream&gt;
#include&lt;tuple&gt;
#include&lt;stdexcept&gt;
#include&lt;iomanip&gt;
#include&lt;algorithm&gt;
class Datum
{
    int dan;
    int mjesec;
    int godina;
public:
    Datum(int d, int m, int g) {
        dan=d;
        mjesec=m;
        godina=g;
    }
    void Postavi(int d, int m, int g) {
        dan=d;
        mjesec=m;
        godina=g;
    }
    std::tuple&lt;int, int, int&gt; Ocitaj() const {
        std::tuple&lt;int,int,int&gt; t(dan,mjesec,godina);
        return t;
    }
    void Ispisi() const {
        std::cout&lt;&lt;dan&lt;&lt;"/"&lt;&lt;mjesec&lt;&lt;"/"&lt;&lt;godina;
    }
    int DajDan()const {
        return dan;
    }
    int DajMjesec()const {
        return mjesec;
    }
    int DajGodinu()const {
        return godina;
    }
    void PomjeriDanUnaprijed() {
        dan++;
    }
    void PomjeriDanUnazad() {
        dan--;
    }
};
class Vrijeme
{
    int sati;
    int minute;
public:
    Vrijeme(int s, int m) {
        sati=s;
        minute=m;
    }
    void Postavi(int s, int m) {
        if(s&lt;0 or s&gt;23 or m&lt;0 or m&gt;59) throw std::domain_error("Neispravno vrijeme");
        sati=s;
        minute=m;
    }
    std::pair&lt;int, int&gt; Ocitaj () const {
        std::pair&lt;int, int&gt; p(sati,minute);
        return p;
    }
    void Ispisi() const {
        if(sati&lt;10) std::cout&lt;&lt;0;
        std::cout&lt;&lt;sati&lt;&lt;":";
        if(minute&lt;10) std::cout&lt;&lt;0;
        std::cout&lt;&lt;minute;
    }
    int DajSate(){
        return sati;
    }
    int DajMinute(){
        return minute;
    }
    
};
class Pregled
{
    std::string ime_pacijenta;
    Datum datum_pregleda;
    Vrijeme vrijeme_pregleda;

public:

    Pregled(const std::string &amp;ime, const Datum &amp;datum,const Vrijeme &amp;vrijeme): datum_pregleda(datum), vrijeme_pregleda(vrijeme) {
        ime_pacijenta=ime;

    }
    Pregled(const std::string &amp;ime, int dan_pregleda, int mjesec_pregleda,int godina_pregleda, int sati_pregleda, int minute_pregleda): datum_pregleda(dan_pregleda,mjesec_pregleda,godina_pregleda), vrijeme_pregleda(sati_pregleda,minute_pregleda) {
        ime_pacijenta=ime;
    }
    void PromijeniPacijenta(const std::string &amp;ime) {
        ime_pacijenta=ime;
    }
    void PromijeniDatum(const Datum &amp;novi_datum) {
        datum_pregleda=novi_datum;
    }
    void PromijeniVrijeme(const Vrijeme &amp;novo_vrijeme) {
        vrijeme_pregleda=novo_vrijeme;
    }
    void PomjeriDanUnaprijed() {
        datum_pregleda.PomjeriDanUnaprijed();
    }
    void PomjeriDanUnazad() {
        datum_pregleda.PomjeriDanUnazad();
    }
    std::string DajImePacijenta() const {
        return ime_pacijenta;
    }
    Datum DajDatumPregleda() const {
        return datum_pregleda;
    }
    Vrijeme DajVrijemePregleda() const {
        return vrijeme_pregleda;
    }
    static bool DolaziPrije(const Pregled &amp;p1, const Pregled &amp;p2);
    void Ispisi() const {
        int i=0;
        for( ; i&lt;ime_pacijenta.size(); i++) {
            std::cout&lt;&lt;ime_pacijenta[i];

        }
        for( ; i&lt;30; i++) {
            std::cout&lt;&lt;" ";
        }
        datum_pregleda.Ispisi();
        std::cout&lt;&lt;" ";
        vrijeme_pregleda.Ispisi();

        std::cout&lt;&lt;std::endl;
    }
};
class Pregledi
{
    int br_kreiranih;
    int max_br;
    Pregled** pok;
public:
    explicit Pregledi(int max_broj_pregleda) {
        max_br=max_broj_pregleda;
        pok=new Pregled*[max_broj_pregleda];
        for(int i=0; i&lt;max_broj_pregleda; i++) {
            pok[i]=nullptr;
        }
        br_kreiranih=0;
    }
    Pregledi(std::initializer_list&lt;Pregled&gt; spisak_pregleda);
    ~Pregledi() {
        for(int i=0; i&lt;max_br; i++) {
            delete pok[i];
        }
        delete [] pok;
    }
    Pregledi(const Pregledi &amp;pregledi);
    Pregledi(Pregledi &amp;&amp;pregledi);
    Pregledi &amp;operator =(const Pregledi &amp;pregledi);
    Pregledi &amp;operator =(Pregledi &amp;&amp;pregledi);
    void RegistrirajPregled(const std::string &amp;ime_pacijenta,const Datum &amp;datum_pregleda, const Vrijeme &amp;vrijeme_pregleda) {
        if(br_kreiranih==max_br) throw std::range_error("Dostignut maksimalni broj pregleda");
        pok[br_kreiranih]=new Pregled(ime_pacijenta,datum_pregleda,vrijeme_pregleda);
        br_kreiranih++;

    }
    void RegistrirajPregled(const std::string &amp;ime_pacijenta, int dan_pregleda,int mjesec_pregleda, int godina_pregleda, int sati_pregleda,int minute_pregleda) {
        if(br_kreiranih==max_br) throw std::range_error("Dostignut maksimalni broj pregleda");
        pok[br_kreiranih]=new Pregled(ime_pacijenta,dan_pregleda,mjesec_pregleda,godina_pregleda,sati_pregleda,minute_pregleda);

        br_kreiranih++;
    }
    void RegistrirajPregled(Pregled *pregled) {
        if(br_kreiranih==max_br) throw std::range_error("Dostignut maksimalni broj pregleda");
        pok[br_kreiranih]=new Pregled(*pregled);

        br_kreiranih++;
    }
    int DajBrojPregleda() const {
        return br_kreiranih;
    }
    int DajBrojPregledaNaDatum(const Datum &amp;datum) const {
        int k=0;
        for(int i=0; i&lt;br_kreiranih; i++) {
            if((*pok[i]).DajDatumPregleda().DajGodinu()==datum.DajGodinu() and (*pok[i]).DajDatumPregleda().DajMjesec()==datum.DajMjesec() and (*pok[i]).DajDatumPregleda().DajDan()==datum.DajDan()) {
                k++;
            }
        }
        return k;

    }
    Pregled &amp;DajNajranijiPregled(){
        if(br_kreiranih==0) throw std::domain_error("Nema registriranih pregleda");
       return **std::min_element(pok,pok+br_kreiranih,[](Pregled* a, Pregled* b){
            if(a-&gt;DajDatumPregleda().DajGodinu()==b-&gt;DajDatumPregleda().DajGodinu()){
            if((a-&gt;DajDatumPregleda().DajMjesec()==b-&gt;DajDatumPregleda().DajMjesec())){
                if(a-&gt;DajDatumPregleda().DajDan()==b-&gt;DajDatumPregleda().DajDan()){
            if(a-&gt;DajVrijemePregleda().DajSate()==b-&gt;DajVrijemePregleda().DajSate()) return a-&gt;DajVrijemePregleda().DajMinute()&lt;b-&gt;DajVrijemePregleda().DajMinute();
            return a-&gt;DajVrijemePregleda().DajSate()&lt;b-&gt;DajVrijemePregleda().DajSate();
                }
                else return a-&gt;DajDatumPregleda().DajDan()&lt;b-&gt;DajDatumPregleda().DajDan();
            }
                else return ((a-&gt;DajDatumPregleda().DajMjesec()&lt;b-&gt;DajDatumPregleda().DajMjesec()));
            } else 
            return (a-&gt;DajDatumPregleda().DajGodinu()&lt;b-&gt;DajDatumPregleda().DajGodinu());
        });
    }
    Pregled DajNajranijiPregled() const{
        if(br_kreiranih==0) throw std::domain_error("Nema registriranih pregleda");
       return **std::min_element(pok,pok+br_kreiranih,[](Pregled* a, Pregled* b){
            if(a-&gt;DajDatumPregleda().DajGodinu()==b-&gt;DajDatumPregleda().DajGodinu()){
            if((a-&gt;DajDatumPregleda().DajMjesec()==b-&gt;DajDatumPregleda().DajMjesec())){
                if(a-&gt;DajDatumPregleda().DajDan()==b-&gt;DajDatumPregleda().DajDan()){
            if(a-&gt;DajVrijemePregleda().DajSate()==b-&gt;DajVrijemePregleda().DajSate()) return a-&gt;DajVrijemePregleda().DajMinute()&lt;b-&gt;DajVrijemePregleda().DajMinute();
            return a-&gt;DajVrijemePregleda().DajSate()&lt;b-&gt;DajVrijemePregleda().DajSate();
                }
                else return a-&gt;DajDatumPregleda().DajDan()&lt;b-&gt;DajDatumPregleda().DajDan();
            }
                else return ((a-&gt;DajDatumPregleda().DajMjesec()&lt;b-&gt;DajDatumPregleda().DajMjesec()));
            } else 
            return (a-&gt;DajDatumPregleda().DajGodinu()&lt;b-&gt;DajDatumPregleda().DajGodinu());
        });
       
    }
    void IsprazniKolekciju() {
        for(int i=0; i&lt;br_kreiranih; i++) {
            delete pok[i];
            pok[i]=nullptr;
        }
        br_kreiranih=0;
    }
    void ObrisiNajranijiPregled(){
        auto p=*std::min_element(pok,pok+br_kreiranih,[](Pregled* a, Pregled* b){
            if(a-&gt;DajDatumPregleda().DajGodinu()==b-&gt;DajDatumPregleda().DajGodinu()){
            if((a-&gt;DajDatumPregleda().DajMjesec()==b-&gt;DajDatumPregleda().DajMjesec())){
                if(a-&gt;DajDatumPregleda().DajDan()==b-&gt;DajDatumPregleda().DajDan()){
            if(a-&gt;DajVrijemePregleda().DajSate()==b-&gt;DajVrijemePregleda().DajSate()) return a-&gt;DajVrijemePregleda().DajMinute()&lt;b-&gt;DajVrijemePregleda().DajMinute();
            return a-&gt;DajVrijemePregleda().DajSate()&lt;b-&gt;DajVrijemePregleda().DajSate();
                }
                else return a-&gt;DajDatumPregleda().DajDan()&lt;b-&gt;DajDatumPregleda().DajDan();
            }
                else return ((a-&gt;DajDatumPregleda().DajMjesec()&lt;b-&gt;DajDatumPregleda().DajMjesec()));
            } else 
            return (a-&gt;DajDatumPregleda().DajGodinu()&lt;b-&gt;DajDatumPregleda().DajGodinu());
        });
        for(int i=0;i&lt;br_kreiranih;i++)
        {
            if(p==pok[i]) {
                 delete pok[i];
                 br_kreiranih--;
                pok[i]=nullptr;
                for(int j=i; j&lt;br_kreiranih; j++) {
                    auto temp=pok[j];
                    pok[j]=pok[j+1];
                    pok[j+1]=temp;
                }
            }
                
            }
        }
        
    
    void ObrisiPregledePacijenta(const std::string &amp;ime_pacijenta) {
        for(int i=0; i&lt;br_kreiranih; i++) {
            if((*pok[i]).DajImePacijenta().compare(ime_pacijenta)==0) {
                delete pok[i];
                br_kreiranih--;
                pok[i]=nullptr;
                for(int j=i; j&lt;br_kreiranih; j++) {
                    auto temp=pok[j];
                    pok[j]=pok[j+1];
                    pok[j+1]=temp;
                }
            }
        }
    }
    void IspisiPregledeNaDatum(const Datum &amp;datum) const {
        std::sort(pok,pok+br_kreiranih,[](Pregled* a, Pregled* b){
            if(a-&gt;DajDatumPregleda().DajGodinu()==b-&gt;DajDatumPregleda().DajGodinu()){
            if((a-&gt;DajDatumPregleda().DajMjesec()==b-&gt;DajDatumPregleda().DajMjesec())){
                if(a-&gt;DajDatumPregleda().DajDan()==b-&gt;DajDatumPregleda().DajDan()){
            if(a-&gt;DajVrijemePregleda().DajSate()==b-&gt;DajVrijemePregleda().DajSate()) return a-&gt;DajVrijemePregleda().DajMinute()&lt;b-&gt;DajVrijemePregleda().DajMinute();
            return a-&gt;DajVrijemePregleda().DajSate()&lt;b-&gt;DajVrijemePregleda().DajSate();
                }
                else return a-&gt;DajDatumPregleda().DajDan()&lt;b-&gt;DajDatumPregleda().DajDan();
            }
                else return ((a-&gt;DajDatumPregleda().DajMjesec()&lt;b-&gt;DajDatumPregleda().DajMjesec()));
            } else 
            return (a-&gt;DajDatumPregleda().DajGodinu()&lt;b-&gt;DajDatumPregleda().DajGodinu());
        });
        for(int i=0; i&lt;br_kreiranih; i++) {
            if((*pok[i]).DajDatumPregleda().DajGodinu()==datum.DajGodinu() and (*pok[i]).DajDatumPregleda().DajMjesec()==datum.DajMjesec() and (*pok[i]).DajDatumPregleda().DajDan()==datum.DajDan()) {
                (*pok[i]).Ispisi();
            }
        }
    }

    void IspisiSvePreglede() const {
        std::sort(pok,pok+br_kreiranih,[](Pregled* a, Pregled* b){
            if(a-&gt;DajDatumPregleda().DajGodinu()==b-&gt;DajDatumPregleda().DajGodinu()){
            if((a-&gt;DajDatumPregleda().DajMjesec()==b-&gt;DajDatumPregleda().DajMjesec())){
                if(a-&gt;DajDatumPregleda().DajDan()==b-&gt;DajDatumPregleda().DajDan()){
            if(a-&gt;DajVrijemePregleda().DajSate()==b-&gt;DajVrijemePregleda().DajSate()) return a-&gt;DajVrijemePregleda().DajMinute()&lt;b-&gt;DajVrijemePregleda().DajMinute();
            return a-&gt;DajVrijemePregleda().DajSate()&lt;b-&gt;DajVrijemePregleda().DajSate();
                }
                else return a-&gt;DajDatumPregleda().DajDan()&lt;b-&gt;DajDatumPregleda().DajDan();
            }
                else return ((a-&gt;DajDatumPregleda().DajMjesec()&lt;b-&gt;DajDatumPregleda().DajMjesec()));
            } else 
            return (a-&gt;DajDatumPregleda().DajGodinu()&lt;b-&gt;DajDatumPregleda().DajGodinu());
        });
        for(int i=0; i&lt;br_kreiranih; i++) {
            (*pok[i]).Ispisi();

        }

    }
};
int main ()
{
    std::cout&lt;&lt;"Unesite maksimalan broj pregleda: ";
    int max;
    int br=0;
    std::cin&gt;&gt;max;
    Pregledi pregledi(max);
    std::string kraj="kraj";
    do {
        std::cout&lt;&lt;"Unesite ime novog pacijenta ili 'kraj' za zavrsetak unosa: ";
        std::cin.clear();
        std::cin.ignore(10000,'\n');
        std::string prostor;
        std::getline(std::cin,prostor);
        if(prostor.compare(kraj)==0) break;
        std::cout&lt;&lt;"Unesite dan mjesec i godinu pregleda: ";
        int dan,mjesec,godina,sati,minute;
        std::cin&gt;&gt;dan;
        std::cin &gt;&gt; mjesec;
        std::cin&gt;&gt;godina;
        std::cout&lt;&lt;"Unesite sate i minute pregleda: ";
        std::cin&gt;&gt;sati;
        std::cin&gt;&gt;minute;
        pregledi.RegistrirajPregled(prostor,dan,mjesec,godina,sati,minute);
        br++;
    } while(br&lt;max);
    std::cout&lt;&lt;"Trenutno su registrovani sljedeci pregledi\n";
    pregledi.IspisiSvePreglede();
    int n;
    do{
    std::cout&lt;&lt;"\nOdaberite jednu od sljedecih opcija\n1 - Broj pregleda na datum\n2 - Najraniji pregled\n3 - Obrisi pregled pacijenta\n4 - Obrisi najraniji pregled\n5 - Ispisi sve pregleda na datum\n6 - Ispisi sve preglede\n7 - Kraj programa\n";
    /*Odaberite jednu od sljedecih opcija
    1 - Broj pregleda na datum
    2 - Najraniji pregled
    3 - Obrisi pregled pacijenta
    4 - Obrisi najraniji pregled
    5 - Ispisi sve pregleda na datum
    6 - Ispisi sve preglede
    7 - Kraj programa*/
    
    std::cin&gt;&gt;n;
    switch(n) {
    case 1: {
        //Unesite dan mjesec i godinu : Broj pregleda na datum 31 5 2018 je: 1
        std::cout&lt;&lt;"Unesite dan mjesec i godinu : ";
        int d,m,g;
        std::cin&gt;&gt;d&gt;&gt;m&gt;&gt;g;
</font>        Datum dat(d,m,g);
<a name="1"></a><font color="#00FF00"><a href="match210-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_8.gif"/></a>

        std::cout&lt;&lt;"Broj pregleda na datum "&lt;&lt;d&lt;&lt;" "&lt;&lt;m&lt;&lt;" "&lt;&lt;g&lt;&lt;" je: "&lt;&lt;pregledi.DajBrojPregledaNaDatum(dat);
        break;
    }
    case 2: {
        std::cout&lt;&lt;"Najraniji pregled je:\n";
        pregledi.DajNajranijiPregled().Ispisi();
        break;
    }
    case 3: {
        std::string pac;
        std::cin.clear();
        std::cin.ignore(10000,'\n');
        std::getline(std::cin,pac);
        int u=pregledi.DajBrojPregleda();
        pregledi.ObrisiPregledePacijenta(pac);
        std::cout&lt;&lt;"Unesite ime pacijenta: Uspjesno obrisano "&lt;&lt;u-pregledi.DajBrojPregleda()&lt;&lt;" pregleda";
        break;
    }
    case 4: {
        pregledi.ObrisiNajranijiPregled();
        std::cout&lt;&lt;"Najraniji pregled uspjesno obrisan";
        break;
    }
    case 5: {
        std::cout&lt;&lt;"Unesite dan mjesec i godinu : ";
        int d,m,g;
        std::cin&gt;&gt;d&gt;&gt;m&gt;&gt;g;
        Datum dat(d,m,g);
        std::cout&lt;&lt;"Pregledi na datum "&lt;&lt;d&lt;&lt;" "&lt;&lt;m&lt;&lt;" "&lt;&lt;g&lt;&lt;" su:\n";
        pregledi.IspisiPregledeNaDatum(dat);
        break;
    }
    case 6: {
        pregledi.IspisiSvePreglede();
        break;
    }
    case 7: {
        break;
    }
    }
    }while(n!=7);
    return 0;
</font>}
</pre>
</body>
</html>
