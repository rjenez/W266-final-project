<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z4/Z3/student3756.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z4/Z3/student3756.cpp<p></p><pre>
<a name="0"></a><font color="#FF0000"><a href="match260-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_93.gif"/></a>

/B2017/2018: ZadaÄ‡a 4, Zadatak 3
#include &lt;iostream&gt;
#include &lt;stdexcept&gt;
#include &lt;iomanip&gt;
#include &lt;string&gt;
#include &lt;tuple&gt;

using namespace std;

class Datum
{
    int dan,mjesec,godina;

public:
    
    Datum( int dan, int mjesec, int godina)
    {
        Postavi(dan,mjesec,godina);
    }
    
    void Postavi(int dan, int mjesec, int godina) {
        if((dan&lt;0 &amp;&amp; dan&gt;31) || (mjesec&lt;0 &amp;&amp; mjesec&gt;12) || (godina&lt;0 &amp;&amp; godina&gt;99999999)) throw("Neispravan datum");
        Datum::dan=dan;
        Datum::mjesec=mjesec;
        Datum::godina=godina;
    }

   
    tuple&lt;int, int, int&gt; Ocitaj() const
    {
        tuple&lt;int,int,int&gt; d=make_tuple(dan,mjesec,godina);
        return d;
    }

    void Ispisi() const {
        cout&lt;&lt;dan&lt;&lt;"/"&lt;&lt;mjesec&lt;&lt;"/"&lt;&lt;godina&lt;&lt;endl;
    }
};

class Vrijeme
{
    int sati,minute;

public:

    Vrijeme(int sati,int minute)
    {
        Postavi(sati,minute);
    }
    void Postavi(int sati,int minute) {
        if((sati&lt;0 &amp;&amp; sati&gt;23) || (minute&lt;0 &amp;&amp; minute&gt;59)) throw("Neispravno vrijeme");
        Vrijeme::sati=sati;
        Vrijeme::minute=minute;
    }


    pair&lt;int,int&gt;Ocitaj() const
    {
        pair&lt;int,int&gt; v=make_pair(sati,minute);
        return v;
    }

    void Ispisi() const {
        cout&lt;&lt;sati&lt;&lt;":"&lt;&lt;minute&lt;&lt;endl;
    }

};


class Pregled
{

    string ime_pacijenta;
    Datum datum_pregleda;
    Vrijeme vrijeme_pregleda;

//int dan_pregleda, mjesec_pregleda, godina_pregleda, sati_pregleda, minute_pregleda;

public:

    Pregled(const string &amp;ime_pacijenta,const Datum &amp;dan_pregleda,const Vrijeme &amp;vrijeme_pregleda):ime_pacijenta(ime_pacijenta),datum_pregleda(dan_pregleda),vrijeme_pregleda(vrijeme_pregleda){};
    Pregled(const string &amp;ime_pacijenta,const  int dan_pregleda,const  int mjesec_pregleda,const  int godina_pregleda,const  int sati_pregleda,const  int minute_pregleda):
    ime_pacijenta(ime_pacijenta),datum_pregleda(Datum(dan_pregleda,mjesec_pregleda,godina_pregleda)),vrijeme_pregleda(Vrijeme(sati_pregleda,minute_pregleda)){};


    void PromjeniPacijenta(const string &amp;ime_pacijenta) {
            Pregled::ime_pacijenta=ime_pacijenta;
    }
    void PromjeniDatum(const Datum &amp;nov_datum) {
        datum_pregleda.Postavi(get&lt;0&gt;(nov_datum.Ocitaj()),get&lt;1&gt;(nov_datum.Ocitaj()),get&lt;2&gt;(nov_datum.Ocitaj()));
    }

    void PromjeniVrijeme(const Vrijeme &amp;novo_vrijeme) {
        vrijeme_pregleda.Postavi(novo_vrijeme.Ocitaj().first,novo_vrijeme.Ocitaj().second );
    }
    void PomjeriDanUnaprijed() {
         datum_pregleda.Postavi(get&lt;0&gt;(datum_pregleda.Ocitaj())+1,get&lt;1&gt;(datum_pregleda.Ocitaj()),get&lt;2&gt;(datum_pregleda.Ocitaj()));
    
    }
    void PomjeriDanUnazad() {
        datum_pregleda.Postavi(get&lt;0&gt;(datum_pregleda.Ocitaj())-1,get&lt;1&gt;(datum_pregleda.Ocitaj()),get&lt;2&gt;(datum_pregleda.Ocitaj()));
    
    }

    string DajImePacijenta() const {
        return ime_pacijenta;
    }
    Datum DajDatumPregleda() const {
        return datum_pregleda;
    }
    Vrijeme DajVrijemePregleda() const {
        return vrijeme_pregleda;
    }

    static bool DolaziPrije(const Pregled &amp;p1, const Pregled &amp;p2) {

        //if((p1.godina_pregleda&lt;p2.godina_pregleda) &amp;&amp; (p1.mjesec_pregleda&lt;p2.mjesec_pregleda) &amp;&amp; (p1.dan_pregleda&lt;p2.dan_pregleda))
            return true;
        return false;
    }

    void Ispisi() const {
        cout&lt;&lt;fixed&lt;&lt;left&lt;&lt;setprecision(30)&lt;&lt;ime_pacijenta&lt;&lt;endl;
        datum_pregleda.Ispisi();
        vrijeme_pregleda.Ispisi();

    }

};

class Pregledi
{
    int stanje,kapacitet;
    Pregled **niz;

public:

    explicit Pregledi(int max_broj_pregleda)
    {
        stanje=0;
        kapacitet=max_broj_pregleda;
        niz=new Pregled*[kapacitet];
    }
    
    Pregledi(initializer_list&lt;Pregled&gt; spisak_pregleda)
    {
        stanje=0;
        
        for(auto it=spisak_pregleda.begin();it!=spisak_pregleda.end();it++)
                 niz[stanje++]=new Pregled(*it);
                 
        kapacitet=spisak_pregleda.size();
    }
    
    ~Pregledi()
    {
        for(int i=0;i&lt;stanje;i++)
               delete niz[i];
        delete[] niz;
    }
    Pregledi(const Pregledi &amp;pregledi)
    {
        stanje=pregledi.stanje;
        kapacitet=pregledi.kapacitet;
        
        niz=new Pregled*[kapacitet];
        for(int i=0;i&lt;stanje;i++)
               niz[i]=new Pregled(*pregledi.niz[i]);
        
        
    }
    Pregledi(Pregledi &amp;&amp;pregledi)
    {
        stanje=pregledi.stanje;
        kapacitet=pregledi.kapacitet;
        
        niz=new Pregled*[kapacitet];
        for(int i=0;i&lt;stanje;i++)
               niz[i]=new Pregled(*pregledi.niz[i]);
        
        
        for(int i=0;i&lt;stanje;i++)
            pregledi.niz[i]=nullptr;
        delete[] pregledi.niz;
        
    }
    Pregledi &amp;operator = (const Pregledi &amp;pregledi)
    {
        if(this==&amp;pregledi) return *this;
        
        for(int i=0;i&lt;stanje;i++)
            delete niz[i];
        delete[] niz;
        
        stanje=pregledi.stanje;
        kapacitet=pregledi.kapacitet;
        
        niz=new Pregled*[kapacitet];
        for(int i=0;i&lt;stanje;i++)
               niz[i]=new Pregled(*pregledi.niz[i]);
        
        return *this;    
    }
    Pregledi &amp;operator =(Pregledi &amp;&amp;pregledi)
    {
        if(this==&amp;pregledi) return *this;
        
        for(int i=0;i&lt;stanje;i++)
            delete niz[i];
        delete[] niz;
        
        stanje=pregledi.stanje;
        kapacitet=pregledi.kapacitet;
        
        niz=new Pregled*[kapacitet];
        for(int i=0;i&lt;stanje;i++)
               niz[i]=new Pregled(*pregledi.niz[i]);
        
        
        for(int i=0;i&lt;stanje;i++)
            pregledi.niz[i]=nullptr;
        delete[] pregledi.niz;
        
        return *this;
    }
    
    void RegistrirajPregled(const string &amp;ime_pacijenta, const Datum &amp;dan_pregleda, const Vrijeme &amp;vrijeme_pregleda)
    {
        niz[stanje++]=new Pregled(ime_pacijenta,dan_pregleda,vrijeme_pregleda);
    }
    void RegistrirajPregled(const string &amp;ime_pacijenta, int dan_pregleda, int mjesec_pregleda, int godina_pregleda, int sati_pregleda, int minute_pregleda)
    {
        niz[stanje++]=new Pregled(ime_pacijenta,dan_pregleda,mjesec_pregleda,godina_pregleda,sati_pregleda,minute_pregleda);
    }

    void RegistrirajPregled(Pregled *pregled)
    {
        niz[stanje++]=new Pregled(*pregled);
    }

    int DajBrojPregleda() const
    {   
        
        return stanje;
        
    }
    
    int DajBrojPregledaNaDatum(const Datum &amp;datum) const;

    Pregled &amp;DajNajranijiPregled();
    Pregled DajNajranijiPregled() const;
        
    void IsprazniKolekciju()
    {
        for(int i=0;i&lt;stanje;i++)
            niz[i]=nullptr;
        stanje=0;
    }
    void ObrisiNajranijiPregled();
    void ObrisiPregledePacijenata(const string &amp;ime_pacijenta);
    void IspisiPregledeNaDatum(const Datum &amp;datum) const;
    void IspisiSvePreglede() const
    {
        
        for(int i=0;i&lt;stanje;i++)
           niz[i]-&gt;Ispisi();
    }

};


int main ()
{   
    
    string ime_pacijenta;
    int brojPregleda;
    int dan,mjesec,godina,sati,minute;
    int opcija;


    cout&lt;&lt;"Unesite maksimalan broj pregleda: ";
    cin&gt;&gt;brojPregleda;
    Pregledi p(brojPregleda);
    
    while(opcija!=7) {
    cout&lt;&lt;"Unesite ime novog pacijenta ili kraj za zavrsetak unosa: ";
    cin&gt;&gt;ime_pacijenta;
    
    cout&lt;&lt;"Unesite dan mjesec i godinu pregleda: ";
    cin&gt;&gt;dan&gt;&gt;mjesec&gt;&gt;godina;
    
    cout&lt;&lt;"Uneiste sate i minute pregleda: ";
    cin&gt;&gt;sati&gt;&gt; minute;
    
    cout&lt;&lt;"Odaberite jednu od sljedecih opcija"&lt;&lt;endl;
    cout&lt;&lt;"1 - Broj pregleda na datum"&lt;&lt;endl;
    cout&lt;&lt;"2 - Najraniji pregled"&lt;&lt;endl;
</font>    cout&lt;&lt;"3 - Obrisi pregled pacijenta"&lt;&lt;endl;
    cout&lt;&lt;"4 - Obrisi najraniji pregled"&lt;&lt;endl;
<a name="1"></a><font color="#00FF00"><a href="match260-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_4.gif"/></a>

    cout&lt;&lt;"5 - Ispisi sve pregleda na datum"&lt;&lt;endl;
    cout&lt;&lt;"6 - Ispisi sve preglede"&lt;&lt;endl;
    cout&lt;&lt;"7 - Kraj programa"&lt;&lt;endl;
    
    
    cin&gt;&gt;opcija;
    switch(opcija) {
        
        case 1:
        
        case 2:
        
        case 3:
        
        case 4:
    
        case 5:
        
        case 6:
        
            p.IspisiSvePreglede();    
        
        case 7: 

            return 0;
        
        default:
        
        return 0;
    }
    
}
    cout&lt;&lt;"OK";
</font>    return 0;
}
</pre>
</body>
</html>
