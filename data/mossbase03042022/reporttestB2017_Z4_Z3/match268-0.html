<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z4/Z3/student7888.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z4/Z3/student7888.cpp<p></p><pre>
#include &lt;new&gt;
#include &lt;memory&gt;
#include &lt;iomanip&gt;
#include &lt;string&gt;
#include &lt;vector&gt;
#include &lt;tuple&gt;
#include &lt;stdexcept&gt;
#include &lt;iostream&gt;

<a name="0"></a><font color="#FF0000"><a href="match268-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_75.gif"/></a>

class Datum {
    int dan, mjesec, godina;
    public:
    Datum (int dan, int mjesec, int godina) {
        if (ValjaLiDatum(dan, mjesec, godina)==0) throw std::domain_error("Neispravan datum");
        Datum::dan=dan;
        Datum::mjesec=mjesec;
        Datum::godina=godina;
    }
    void Postavi (int dan, int mjesec, int godina) {
        if (ValjaLiDatum(dan, mjesec, godina)==0) throw std::domain_error("Neispravan datum");
        Datum::dan=dan;
        Datum::mjesec=mjesec;
        Datum::godina=godina;
    }
    std::tuple&lt;int, int, int&gt; Ocitaj() const {
        return std::make_tuple(Datum::dan, Datum::mjesec, Datum::godina);
    }
    void Ispisi() const {
        std::cout &lt;&lt; dan &lt;&lt; "/" &lt;&lt; mjesec &lt;&lt; "/" &lt;&lt; godina;
    }
    bool ValjaLiDatum(int d, int m, int g) {
        int broj_dana[12] { 31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31};
        if ((g%4==0 and g%100!=0) or g%400==0) broj_dana[1]++;
        if (g&lt;1 or d&lt;1 or m&lt;1 or m&gt;12 or d&gt;broj_dana[m-1]) return false;
        return true;
    }
};

class Vrijeme {
    int sati, minute;
    public:
    Vrijeme (int sati, int minute) {
        if (ValjaLiVrijeme(sati, minute)==0) throw std::domain_error("Neispravno vrijeme");
        Vrijeme::sati=sati;
        Vrijeme::minute=minute;
    }
    void Postavi(int sati, int minute) {
        if (ValjaLiVrijeme(sati, minute)==0) throw std::domain_error("Neispravno vrijeme");
        Vrijeme::sati=sati;
        Vrijeme::minute=minute;
    }
    std::pair&lt;int, int&gt; Ocitaj() const {
        return std::make_pair(Vrijeme::sati, Vrijeme::minute);
    }
    void Ispisi() const {
        std::cout &lt;&lt; std::setw(2) &lt;&lt; std::setfill('0') &lt;&lt; sati &lt;&lt; ":" &lt;&lt; std::setw(2) &lt;&lt; std::setfill('0') &lt;&lt; minute;
    }
    bool ValjaLiVrijeme(int s, int m) {
        if (s&lt;0 or s&gt;23 or m&lt;0 or m&gt;59) return false;
        return true;
    }
};

class Pregled {
    std::string ime_pacijenta;
    Datum datum_pregleda;
    Vrijeme vrijeme_pregleda;
    int dan_pregleda, mjesec_pregleda, godina_pregleda, sati_pregleda, minute_pregleda;
    public:
    Pregled(const std::string &amp;ime_pacijenta, const Datum &amp;datum_pregleda, const Vrijeme &amp;vrijeme_pregleda) : datum_pregleda(dan_pregleda, mjesec_pregleda, godina_pregleda), vrijeme_pregleda(sati_pregleda, minute_pregleda) {
        Pregled::ime_pacijenta=ime_pacijenta;
        Pregled::datum_pregleda=datum_pregleda;
        Pregled::vrijeme_pregleda=vrijeme_pregleda;
    }
    Pregled (const std::string &amp;ime_pacijenta, int dan_pregleda, int mjesec_pregleda, int godina_pregleda, int sati_pregleda, int minute_pregleda) : datum_pregleda(dan_pregleda, mjesec_pregleda, godina_pregleda), vrijeme_pregleda(sati_pregleda, minute_pregleda) {
        Pregled::ime_pacijenta=ime_pacijenta;
        Pregled::dan_pregleda=dan_pregleda;
        Pregled::mjesec_pregleda=mjesec_pregleda;
        Pregled::godina_pregleda=godina_pregleda;
        Pregled::sati_pregleda=sati_pregleda;
        Pregled::minute_pregleda=minute_pregleda;
    }
    void PromijeniPacijenta(const std::string &amp;ime_pacijenta) {
        Pregled::ime_pacijenta=ime_pacijenta;
    }
    void PromijeniDatum(const Datum &amp;novi_datum) {
        Pregled::datum_pregleda=novi_datum;
    }
    void PromijeniVrijeme(const Vrijeme &amp;novo_vrijeme) {
        Pregled::vrijeme_pregleda=novo_vrijeme;
    }
    void PomjeriDanUnaprijed() {
        Pregled::dan_pregleda++;
    }
    void PomjeriDanUnazad() {
        Pregled::dan_pregleda--;
    }
    std::string DajImePacijenta() const {
        return ime_pacijenta;
    }
    Datum DajDatumPregleda() const {
        return datum_pregleda;
    }
    Vrijeme DajVrijemePregleda() const {
        return vrijeme_pregleda;
    }
    static bool DolaziPrije(const Pregled &amp;p1, const Pregled &amp;p2) {
        if (p1.godina_pregleda &lt; p2.godina_pregleda) return false;
        else if (p1.godina_pregleda &gt; p2.godina_pregleda) return true;
        else {
            if (p1.mjesec_pregleda &lt; p2.mjesec_pregleda) return false;
            else if (p1.mjesec_pregleda &gt; p2.mjesec_pregleda) return true;
            else {
                if (p1.dan_pregleda &lt; p2.dan_pregleda) return false;
                else if (p1.dan_pregleda &gt; p2.dan_pregleda) return true;
                else {
                    if (p1.sati_pregleda &lt; p2.sati_pregleda) return false;
                    else if (p1.sati_pregleda &gt; p2.sati_pregleda) return true;
                    else {
                        if (p1.minute_pregleda &lt; p2.minute_pregleda) return false;
                        else if (p1.minute_pregleda &gt; p2.minute_pregleda) return true;
                        else return false;
                    }
                }
            }
        }
    }
    void Ispisi() const {
        std::cout &lt;&lt; std::left &lt;&lt; std::setw(30) &lt;&lt; ime_pacijenta &lt;&lt; " " &lt;&lt; dan_pregleda &lt;&lt; "/" &lt;&lt; mjesec_pregleda &lt;&lt; "/" &lt;&lt; godina_pregleda &lt;&lt; " " &lt;&lt; std::setw(2) &lt;&lt; std::setfill('0') &lt;&lt; sati_pregleda &lt;&lt; ":" &lt;&lt; std::setw(2) &lt;&lt; std::setfill('0') &lt;&lt; minute_pregleda;
    }
};

class Pregledi {
    Pregled* pok;
    Pregled pregled;
    int d, m, g;
    std::string ime_pacijenta;
    Datum datum_pregleda, datum;
    Vrijeme vrijeme_pregleda;
    public:
    explicit Pregledi(int max_broj_pregleda);
    Pregledi(std::initializer_list&lt;Pregled&gt; spisak_pregleda);
    ~Pregledi();
    Pregledi(const Pregledi &amp;pregledi);
</font>    Pregledi(Pregledi &amp;&amp;pregledi);
    Pregledi &amp;operator=(const Pregledi &amp;pregledi);
    Pregledi &amp;operator=(Pregledi &amp;&amp;pregledi);
    void RegistrirajPregled(const std::string &amp;ime_pacijenta, const Datum &amp;datum_pregleda, const Vrijeme &amp;vrijeme_pregleda);
    void RegistrirajPregled(const std::string &amp;ime_pacijenta, int dan_pregleda, int mjesec_pregleda, int godina_pregleda, int sati_pregleda, int minute_pregleda);
    void RegistrirajPregled(Pregled *pregled);
    int DajBrojPregleda() const;
    int DajBrojPregledaNaDatum (const Datum &amp;datum) const;
    Pregled &amp;DajNajranijiPregled();
<a name="1"></a><font color="#00FF00"><a href="match268-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_16.gif"/></a>

    Pregled DajNajranijiPregled() const;
    void IsprazniKolekciju();
    void ObrisiNajranijiPregled();
    void ObrisiPregledePacijenata(const std::string &amp;ime_pacijenta);
    void IspisiPregledeNaDatum(const Datum &amp;datum) const;
    void IspisiSvePreglede() const;
};

int main ()
{
    try {
        int max, sati, minute, dan, mjesec, godina;
        std::string ime;
        std::cout &lt;&lt; "Unesite maksimalan broj pregleda: ";
        std::cin &gt;&gt; max;
        int i=0;
        for (;;) {
            std::cout &lt;&lt; "Unesite ime novog pacijenta ili " &lt;&lt; "'kraj'" &lt;&lt; " za zavrsetak unosa: ";
            std::cin.ignore(10000, '\n');
            std::getline(std::cin, ime);
            if (ime=="kraj") break;
            std::cout &lt;&lt; "Unesite dan mjesec i godinu pregleda: ";
            std::cin &gt;&gt; dan &gt;&gt; mjesec &gt;&gt; godina;
            std::cout &lt;&lt; "Unesite sate i minute pregleda: ";
            std::cin &gt;&gt; sati &gt;&gt; minute;
            Pregled p(ime, dan, mjesec, godina, sati, minute);
            i++;
            if (i==max) break;
        }
        if (i!=0) std::cout &lt;&lt; "Trenutno su registrovani sljedeci pregledi " &lt;&lt; std::endl;
    }
    catch (std::domain_error izuzetak) {
        std::cout &lt;&lt; izuzetak.what() &lt;&lt; std::endl;
    }
	return 0;
</font>}
</pre>
</body>
</html>
