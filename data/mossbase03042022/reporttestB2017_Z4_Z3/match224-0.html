<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z4/Z3/student4473.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z4/Z3/student4473.cpp<p></p><pre>
#include &lt;iostream&gt;
#include &lt;tuple&gt;
#include &lt;utility&gt;
#include &lt;iomanip&gt;
#include &lt;initializer_list&gt;
#include &lt;algorithm&gt;

<a name="2"></a><font color="#0000FF"><a href="match224-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_1.gif"/></a>

class Datum {
    int dan, mjesec, godina;
    
    public:
    
    Datum (int dan, int mjesec, int godina){
        int broj_dana [12]{ 31, 28, 31, 30, 31, 30, 31,31,30,31,30,31};
</font>        if((godina % 4 == 0 &amp;&amp; godina % 100 != 0) || godina % 400 == 0)broj_dana[1]++;
<a name="1"></a><font color="#00FF00"><a href="match224-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_3.gif"/></a>

        if(godina &lt;1 || dan &lt; 1 || mjesec &lt; 1 || mjesec &gt; 12 || dan &gt; broj_dana[mjesec - 1])throw std::domain_error("Neispravan datum");
        this -&gt; dan = dan; this -&gt; mjesec = mjesec; this -&gt; godina = godina;
    }
    void Postavi (int dan, int mjesec, int godina){
        int broj_dana [12]{ 31, 28, 31, 30, 31, 30, 31,31,30,31,30,31};
</font>        if((godina % 4 == 0 &amp;&amp; godina % 100 != 0) || godina % 400 == 0)broj_dana[1]++;
<a name="0"></a><font color="#FF0000"><a href="match224-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_90.gif"/></a>

        if(godina &lt;1 || dan &lt; 1 || mjesec &lt; 1 || mjesec &gt; 12 || dan &gt; broj_dana[mjesec - 1])throw std::domain_error("Neispravan datum");
        this -&gt; dan = dan; this -&gt; mjesec = mjesec; this -&gt; godina = godina;
        this -&gt; dan = dan; this -&gt; mjesec = mjesec; this -&gt; godina = godina;
    }
    std::tuple&lt;int, int, int&gt; Ocitaj () const{
        std::tuple &lt;int, int, int&gt; datum;
        datum = std::make_tuple (dan, mjesec, godina);
        return datum;
    }
    void Ispisi()const {
        std::cout &lt;&lt; this -&gt; dan &lt;&lt; "/" &lt;&lt; this -&gt; mjesec &lt;&lt; "/" &lt;&lt; this -&gt; godina;
    }
};

class Vrijeme {
    private:
    int sati, minute;
    
    public:
    Vrijeme (int sati, int minute){
        if(sati &lt; 0 || sati &gt; 23 || minute &lt; 0 || minute &gt; 59)throw std::domain_error("Neispravno vrijeme");
        this -&gt; sati = sati; this -&gt; minute = minute;
    }
    void Postavi(int sati, int minute){
        if(sati &lt; 0 || sati &gt; 23 || minute &lt; 0 || minute &gt; 59)throw std::domain_error("Neispravno vrijeme");
        this -&gt; sati = sati; this -&gt; minute = minute;
    }
    std::pair&lt;int, int&gt;  Ocitaj ()const{
        std::pair&lt;int, int&gt; vrijeme = std::make_pair(sati, minute);
        return vrijeme;
    }
    void Ispisi ()const {
        if(sati &lt; 10)std::cout &lt;&lt; "0" &lt;&lt; sati;
        else std::cout &lt;&lt; sati;
        if(minute &lt; 10)std::cout &lt;&lt; ":0"&lt;&lt; minute;
        else std::cout &lt;&lt; ":" &lt;&lt; minute;
    }
};

 class Pregled{
    private:
    std::string ime_pacijenta;
    Datum datum_pregleda;
    Vrijeme vrijeme_pregleda;
    
    public:
    Pregled (const std::string &amp;ime_pacijenta, const Datum &amp;datum_pregleda, const Vrijeme &amp;vrijeme_pregleda): datum_pregleda(0,0,0), vrijeme_pregleda(0,0){
        this -&gt; ime_pacijenta = ime_pacijenta; this -&gt; datum_pregleda = datum_pregleda; this -&gt; vrijeme_pregleda = vrijeme_pregleda;
    }
    Pregled (const std::string &amp;ime_pacijenta, int dan_pregleda, int mjesec_pregleda, int godina_pregelda, int sati_pregelda, int minute_pregleda): 
    datum_pregleda(dan_pregleda, mjesec_pregleda, godina_pregelda), vrijeme_pregleda(sati_pregelda, minute_pregleda){
        this -&gt; ime_pacijenta = ime_pacijenta;
    }
    void PromijeniPacijenta (const std::string &amp;ime_pacijenta){this -&gt; ime_pacijenta = ime_pacijenta;}
    void PromijeniDatum (const Datum &amp;novi_datum){datum_pregleda = novi_datum;}
    void PromijeniVrijeme(const Vrijeme &amp;novo_vrijeme){vrijeme_pregleda = novo_vrijeme;}
    void PomjeriDanUnaprijed(){
        std::tuple&lt;int, int, int&gt; datum = datum_pregleda.Ocitaj();
        int dan = std::get&lt;0&gt;(datum);
        int mjesec = std::get&lt;1&gt;(datum);
        int godina = std::get&lt;2&gt;(datum);
        int broj_dana [12]{ 31, 28, 31, 30, 31, 30, 31,31,30,31,30,31};
        if((godina % 4 == 0 &amp;&amp; godina % 100 != 0) || godina % 400 == 0)broj_dana[1]++;
        int mjesec_po_redu =mjesec - 1;
        dan ++;
        for(int i = 0; i &lt; 12; i ++){
            if(mjesec_po_redu == i){
                if(dan &gt; broj_dana[i]){
                    dan = 1;
                    mjesec++;
                }
                if(mjesec &gt; 12){
                    mjesec = 1;
                    godina ++;
                }
            }
        }
        this -&gt; datum_pregleda = Datum(dan, mjesec, godina);
    }
    void PomjeriDanUnazad(){
        std::tuple&lt;int, int, int&gt; datum = datum_pregleda.Ocitaj();
        int dan = std::get&lt;0&gt;(datum);
        int mjesec = std::get&lt;1&gt;(datum);
        int godina = std::get&lt;2&gt;(datum);
        int broj_dana [12]{ 31, 28, 31, 30, 31, 30, 31,31,30,31,30,31};
        if((godina % 4 == 0 &amp;&amp; godina % 100 != 0) || godina % 400 == 0)broj_dana[1]++;
        int mjesec_po_redu = mjesec - 1;
        dan --;
        for(int i = 0; i &lt; 12; i ++){
            if(mjesec_po_redu == i){
                if(dan &lt; 0){
                    if(i == 1) dan = broj_dana[12];
                    else dan = broj_dana[i - 1];
                    mjesec--;
                }
                if(mjesec &lt; 0){
                    mjesec = 12;
                    godina --;
                }
            }
        }
        this -&gt; datum_pregleda = Datum(dan, mjesec, godina);
    }
    std::string DajImePacijenta () const{return ime_pacijenta;}
    Datum DajDatumPregleda ()const {return datum_pregleda;}
    Vrijeme DajVrijemePregleda ()const {return vrijeme_pregleda;}
    static bool DolaziPrije(const Pregled &amp;p1, const Pregled &amp;p2){
        std::tuple&lt;int, int, int&gt; prvi_datum, drugi_datum;
        int prvi_dan = std::get&lt;0&gt;(prvi_datum);
        int prvi_mjesec = std::get&lt;1&gt;(prvi_datum);
        int prvi_godina = std::get&lt;2&gt;(prvi_datum);
        int drugi_dan = std::get&lt;0&gt;(drugi_datum);
        int drugi_mjesec = std::get&lt;1&gt;(drugi_datum);
        int drugi_godina = std::get&lt;2&gt;(drugi_datum);
        
        std::pair&lt;int,int&gt; vrijeme1, vrijeme2;
        int sati1 = vrijeme1.first;
        int minute1 = vrijeme1.second;
        int sati2 = vrijeme2.first;
        int minute2 = vrijeme2.second;
        
        if(prvi_godina &lt; drugi_godina)return true;
        else if(prvi_godina &gt; drugi_godina)return false;
        else if(prvi_godina == drugi_godina){
            if(prvi_mjesec &lt; drugi_mjesec)return true;
            else if(prvi_mjesec &gt; drugi_mjesec)return false;
            else if(prvi_mjesec == drugi_mjesec){
                if(prvi_dan &lt; drugi_dan)return true;
                else if(prvi_dan &gt; drugi_dan)return false;
                else if(prvi_dan == drugi_dan){
                    if(sati1 &lt; sati2)return true;
                    else if(sati1&gt; sati2)return false;
                    else if(sati1 == sati2){
                        if(minute1 &lt; minute2)return true;
                        else if(minute1 &gt; minute2)return false;
                        else return false;
                    }
                }
            }
        }
        
    }
    void Ispisi() const{
        std::cout &lt;&lt; std::setw(30)&lt;&lt;std::left&lt;&lt; ime_pacijenta; datum_pregleda.Ispisi(); std::cout&lt;&lt; " "; vrijeme_pregleda.Ispisi(); std::cout&lt;&lt; std::endl;
    }
    
};

class Pregledi{
    private:
    const int max_broj_pregleda;
    int broj_pregleda;
    Pregled **pregledi;
    public:
    explicit Pregledi (int maksimum):max_broj_pregleda(maksimum),broj_pregleda(0),pregledi(new Pregled*[max_broj_pregleda]){for(int i = 0; i &lt; max_broj_pregleda; i++)pregledi[i] = nullptr;}
    Pregledi(std::initializer_list&lt;Pregled&gt; spisak_pregleda): max_broj_pregleda(spisak_pregleda.size()), broj_pregleda(spisak_pregleda.size()){
        pregledi = new Pregled*[spisak_pregleda.size()];
        for(int i = 0; i &lt; spisak_pregleda.size(); i++) pregledi[i] = new Pregled(*(spisak_pregleda.begin() + i));
    } 
    ~Pregledi(){
        for(int i = 0; i &lt; broj_pregleda; i++)delete pregledi[i];
        delete[] pregledi;
    }
    Pregledi (const Pregledi &amp;p): pregledi(new Pregled*[p.max_broj_pregleda]{}), max_broj_pregleda(p.max_broj_pregleda), broj_pregleda(p.broj_pregleda){
        try{
            for (int i = 0; i &lt; p.max_broj_pregleda; i++)pregledi[i] = new Pregled(*p.pregledi[i]);
        }
        catch(...){
            for(int i = 0; i &lt; p.broj_pregleda; i++)delete pregledi[i];
            delete [] pregledi;
        }
    }
    Pregledi (Pregledi &amp;&amp;p):pregledi(p.pregledi), max_broj_pregleda(p.max_broj_pregleda), broj_pregleda(p.broj_pregleda){
        p.pregledi =nullptr;
        p.broj_pregleda = 0;
    }
    Pregledi &amp;operator = (const Pregledi &amp;p){
        if(p.max_broj_pregleda != max_broj_pregleda)throw std::logic_error("Nesaglasni kapaciteti pregleda");
        if(p.broj_pregleda &gt; broj_pregleda){
            try{
                for(int i = 0; i &lt; p.broj_pregleda; i++)pregledi[i] = new Pregled(*p.pregledi[i]);
            }
            catch(...){
                for(int i = broj_pregleda; i &lt; p.broj_pregleda; i++){
                    delete pregledi[i];
                    pregledi[i] = nullptr;
                }
                throw;
            }
        }
        else {
            for(int i = p.broj_pregleda; i &lt; broj_pregleda; i++){
                delete pregledi[i];
                pregledi[i] = nullptr;
            }
        }
        for(int i = 0; i &lt; broj_pregleda; i++)*pregledi[i] = *p.pregledi[i];
        return *this;
    }
    Pregledi &amp;operator = (Pregledi &amp;&amp;p){
        if(p.max_broj_pregleda != max_broj_pregleda)throw std::logic_error("Nesaglasni kapaciteti pregleda");
        std::swap(broj_pregleda, p.broj_pregleda);
        std::swap(pregledi, p.pregledi);
        return *this;
    }
    
    void RegistrirajPregled (const std::string &amp;ime, const Datum &amp;datum, const Vrijeme &amp;vrijeme){
        if(broj_pregleda &gt;= max_broj_pregleda)throw std::range_error("Dostignut maksimalni broj pregleda");
        for(int i = 0; i &lt; max_broj_pregleda; i++){
            if(pregledi[i] == nullptr){pregledi[i] = new Pregled(ime,datum, vrijeme);break;}
        }
        broj_pregleda ++;
    }
    void RegistrirajPregled (const std::string &amp;ime, int dan, int mjesec, int godina, int sat, int minuta){
        if(broj_pregleda &gt;= max_broj_pregleda)throw std::range_error("Dostignut maksimalni broj pregleda");
        for(int i = 0; i &lt; max_broj_pregleda; i++ ){
            if(pregledi[i] == nullptr){pregledi[i] = new Pregled(ime, dan, mjesec, godina, sat, minuta); break;}
        }
        broj_pregleda++;
    }
    void RegistrirajPregled (Pregled *pregled){
        if(broj_pregleda &gt;= max_broj_pregleda)throw std::range_error ("Dostignut maksimalni broj pregleda");
        pregledi[broj_pregleda++] = pregled;
    }
    int DajBrojPregleda()const {
        if(pregledi[0] == nullptr)throw std::domain_error ("Nema registriranih pregleda");
        return std::count_if(pregledi, pregledi+ broj_pregleda, [](const Pregled *pregled){if (pregled != nullptr) return true;});
    }
    int DajBrojPregledaNaDatum (const Datum &amp;datum) const{
        if(pregledi[0] == nullptr)throw std::domain_error ("Nema registriranih pregleda");
        return std::count_if(pregledi,pregledi + broj_pregleda, [datum](const Pregled *pregled){
            std::tuple&lt;int, int, int&gt; za_porediti = pregled -&gt; DajDatumPregleda().Ocitaj() ;
            std::tuple&lt;int, int, int&gt; datum2 = datum.Ocitaj();
            int prvi_dan = std::get&lt;0&gt;(za_porediti);
            int prvi_mjesec = std::get&lt;1&gt;(za_porediti);
            int prvi_godina = std::get&lt;2&gt;(za_porediti);
           
            int drugi_dan = std::get&lt;0&gt;(datum2);
            int drugi_mjesec = std::get&lt;1&gt;(datum2);
            int drugi_godina = std::get&lt;2&gt;(datum2);
            if(prvi_godina == drugi_godina){
                if(prvi_mjesec == drugi_mjesec){
                    if(prvi_dan == drugi_dan)return true;
                    else return false;
                }
                else return false;
            }
            else return false;
        });
    }
   Pregled &amp;DajNajranijiPregled(){
       
   }
   Pregled DajNajranijiPregled()const{
       
   }

};


int main (){
</font>    return 0;
}
</pre>
</body>
</html>
