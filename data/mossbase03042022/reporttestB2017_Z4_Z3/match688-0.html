<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z4/Z3/student8724.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z4/Z3/student8724.cpp<p></p><pre>
/B2017/2018: ZadaÄ‡a 4, Zadatak 3
#include &lt;iostream&gt;
#include &lt;tuple&gt;
#include &lt;memory&gt;
#include &lt;vector&gt;
#include &lt;stdexcept&gt;
#include &lt;iomanip&gt;
#include &lt;algorithm&gt;
#include &lt;utility&gt;
#include &lt;string&gt;
#include &lt;cstring&gt;

<a name="2"></a><font color="#0000FF"><a href="match688-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_3.gif"/></a>

using namespace std;

class Datum{
    int dan, mjesec, godina;
    public:
    Datum(int dan, int mjesec, int godina){
        Datum::dan=dan; Datum::mjesec=mjesec; Datum::godina=godina; //provjera
    }
    void Postavi(int dan, int mjesec, int godina){
</font>       *this=Datum(dan,mjesec,godina); //provjera
    }
    tuple&lt;int, int, int&gt; Ocitaj()const{
        return tuple&lt;int,int,int&gt;(dan,mjesec,godina);
    }
    void Ispisi()const{
        cout&lt;&lt;dan&lt;&lt;"/"&lt;&lt;mjesec&lt;&lt;"/"&lt;&lt;godina;
    }
<a name="3"></a><font color="#00FFFF"><a href="match688-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_2.gif"/></a>

    friend class Pregled;
};

class Vrijeme{
    int sati, minute;
    public:
    Vrijeme(int sati, int minute){
        Vrijeme::sati=sati; Vrijeme::minute=minute;
    }
    void Postavi(int sati, int minute){
</font>        *this=Vrijeme(sati, minute);
    }
    pair&lt;int, int&gt; Ocitaj()const{
        return pair&lt;int, int&gt;(sati, minute);
    }
    void Ispisi()const{
        cout&lt;&lt;sati&lt;&lt;":"&lt;&lt;minute;
    }
    friend class Pregled;
};

class Pregled{
    Datum datum_pregleda;
    Vrijeme vrijeme_pregleda;
    string ime_pacijenta;
    public:
<a name="5"></a><font color="#FF0000"><a href="match688-1.html#5" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_2.gif"/></a>

    Pregled(const string &amp;ime_pacijenta, const Datum &amp;datum_pregleda, const Vrijeme &amp;vrijeme_pregleda): datum_pregleda(datum_pregleda), vrijeme_pregleda(vrijeme_pregleda){
        Pregled::ime_pacijenta=ime_pacijenta;
    }
    Pregled(const string &amp;ime_pacijenta, int dan_pregleda,int mjesec_pregleda,int godina_pregleda, int sat_pregleda, int minute_pregleda): datum_pregleda(dan_pregleda,mjesec_pregleda,godina_pregleda), vrijeme_pregleda(sat_pregleda,minute_pregleda){
</font><a name="4"></a><font color="#FF00FF"><a href="match688-1.html#4" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_2.gif"/></a>

        Pregled::ime_pacijenta=ime_pacijenta;
    }
    void PromjeniPacijenta(const string ime_pacijenta){
</font>        Pregled::ime_pacijenta=ime_pacijenta;
    }
    void PromijeniDatum(const Datum &amp;novi_datum){datum_pregleda=novi_datum;}
    void PromijeniVrijeme(const Vrijeme &amp;novo_vrijeme){vrijeme_pregleda=novo_vrijeme;}
    void PomjeriDanUnaprijed(){
        tuple&lt;int, int, int&gt; temp=datum_pregleda.Datum::Ocitaj();
        //provjera vremena..
        datum_pregleda.Datum::Postavi(get&lt;0&gt;(temp)+1,get&lt;1&gt;(temp),get&lt;2&gt;(temp)); 
    }
    void PomjeriDanUnazad(){
        tuple&lt;int, int, int&gt; temp=datum_pregleda.Datum::Ocitaj();
        //provjera vremena..
        datum_pregleda.Datum::Postavi(get&lt;0&gt;(temp)-1,get&lt;1&gt;(temp),get&lt;2&gt;(temp)); 
    }
    string DajImePacijenta()const{return ime_pacijenta;}
    Datum DajDatumPregleda()const{return datum_pregleda;}
    Vrijeme DajVrijemePregleda()const{return vrijeme_pregleda;}
    static bool DolaziPrije(const Pregled &amp;p1, const Pregled &amp;p2){
        if(p1.Pregled::datum_pregleda.godina&lt;p2.Pregled::datum_pregleda.godina)return false;
        if(p1.Pregled::datum_pregleda.godina&gt;p2.Pregled::datum_pregleda.godina)return true;
         
         if(p1.Pregled::datum_pregleda.mjesec&lt;p2.Pregled::datum_pregleda.mjesec)return false;
        if(p1.Pregled::datum_pregleda.mjesec&gt;p2.Pregled::datum_pregleda.mjesec)return true;
        
         if(p1.Pregled::datum_pregleda.dan&lt;p2.Pregled::datum_pregleda.dan)return false;
        if(p1.Pregled::datum_pregleda.dan&gt;p2.Pregled::datum_pregleda.dan)return true;
        
         if(p1.Pregled::vrijeme_pregleda.sati&lt;p2.Pregled::vrijeme_pregleda.sati)return false;
        if(p1.Pregled::vrijeme_pregleda.sati&gt;p2.Pregled::vrijeme_pregleda.sati)return true;
        
        if(p1.Pregled::vrijeme_pregleda.minute&lt;p2.Pregled::vrijeme_pregleda.minute)return false;
        if(p1.Pregled::vrijeme_pregleda.minute&gt;p2.Pregled::vrijeme_pregleda.minute)return true;
        
        return true;
    }
    void Ispisi()const{
        cout&lt;&lt;setw(30)&lt;&lt;left&lt;&lt;ime_pacijenta;
        datum_pregleda.Datum::Ispisi();
        cout&lt;&lt;" ";
        vrijeme_pregleda.Vrijeme::Ispisi();
}

friend class Pregledi;
};

class Pregledi{
    int broj_pregleda;
    const int max_broj;
    Pregled** pregled;
    void Alociraj(int br){
        pregled=nullptr;
        try {
            pregled=new Pregled*[br];
        }catch(...) {
            IsprazniKolekciju();
            throw;
        }
        return *this;
    }
public:
    explicit Pregledi(int max_broj_pregleda) : broj_pregleda(0), max_broj(max_broj_pregleda), pregled(nullptr) {Alociraj(max_broj_pregleda);}
    Pregledi(initializer_list&lt;Pregled&gt;spisak_pregleda) : broj_pregleda(spisak_pregleda.size()), max_broj(pregledi.broj_pregleda), pregled(nullptr) {
        int brojac=0;
        try {
            pregled=new Pregled*[broj_pregleda];
            for(int i=0; i&lt;broj_pregleda; i++) pregled[i]=nullptr;
            for(auto &amp;i : spisak_pregleda) pregled[brojac++]=new Pregled(x);
        }catch(...) {
<a name="0"></a><font color="#FF0000"><a href="match688-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_20.gif"/></a>

            IsprazniKolekciju();
            throw;
        }
    }
    ~Pregledi(){
        if(pregled==nullptr) return;
        for(int i=0; i&lt;broj_pregleda; i++) delete pregledi[i];
        delete[] pregled;
    }
    Pregledi(const Pregledi &amp;pregledi):broj_pregleda(pregledi.broj_pregleda), max_broj(pregledi.broj_pregleda),pregled(nullptr){
        Alociraj(max_broj);
        try{
            for(int i=0;i&lt;broj_pregleda;i++){
                this-&gt;pregled[i]=new Pregled (*pregledi.pregled[i]);
            }
        }catch(...){
            IsprazniKolekciju();
            throw;
        }
    }
    Pregledi(Pregledi &amp;&amp;pregledi):broj_pregleda(pregled.broj_pregleda), max_broj(pregledi.broj_pregleda), pregled(nullptr){
        pregled=pregledi.pregled;
        pregledi.pregled=nullptr;
    }
    
    Pregledi &amp;operator =(const Pregledi &amp;pregledi){
        if(max_broj!=pregledi.max_broj)throw std::logic_error("Nesaglasne liste pregleda");
        if(&amp;pregledi==this)return *this;
        for(int i=0; i&lt;broj_pregleda;i++)delete pregledi[i];
        broj_pregleda=pregledi.broj_pregleda;
        try{
            for(int i=0;i&lt;broj_pregleda;i++)pregled[i]=new Pregled(*pregledi.pregled[i]);
        }catch(...){
            IsprazniKolekciju();
            throw;
        }
        return *this;
    }
    
    Pregledi &amp;operator =(Pregledi &amp;&amp; pregledi){
        if(max_broj!=pregledi.max_broj)throw std::logic_error("Nesaglasne liste pregleda");
        if(&amp;pregledi==this)return *this;
        pregledi=pregledi.pregled;
        broj_pregleda=pregledi.broj_pregleda;
        pregledi.pregled=nullptr;
        return *this;
        
    }
    
    void RegistrirajPregled(const string &amp;ime_pacijenta, const Datum &amp;datum_pregleda, const Vrijeme vrijeme_pregleda){
</font>        if(broj_pregleda==max_broj)throw std::range_error("Raspored popunjen");
        try{
            pregled[broj_pregleda++]=new Pregled(ime_pacijenta,datum_pregleda, vrijeme_pregleda);
        }catch(bad_alloc){
            broj_pregleda--;
            throw logic_error("Neuspjesna registracija pregleda");
        }catch(...){
            broj_pregleda--;
            throw;
        }
    }
<a name="1"></a><font color="#00FF00"><a href="match688-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_3.gif"/></a>

    void RegistrirajPregled(const string &amp;ime_pacijenta, int dan_pregleda, int mjesec_pregleda, int godina_pregleda, int sat_pregleda, int minute_pregleda) {
        if(broj_pregleda==max_broj)throw std::range_error("Raspored popunjen");
        try{
            pregled[broj_pregleda++]=new Pregled(ime_pacijenta,dan_pregleda,mjesec_pregleda,godina_pregleda, sat_pregleda, minute_pregleda);
        }catch(bad_alloc){
</font>            broj_pregleda--;
            throw logic_error("Neuspjesna registracija pregleda");
        }catch(...){
            broj_pregleda--;
            throw;
        }
    }
    /*void RegistrirajPregled(Pregled &amp;pregled){
        if(broj_pregleda==max_broj) throw range_error("Raspored popunjen");
        this-&gt;pregled[broj_pregleda++]=new Pregled(*pregled);
    }*/
    int DajBrojPregleda() const {return broj_pregleda;}
    int DajBrojPregledaNaDatum(const Datum &amp;datum) const {
        int brojac=0;
        
        return brojac;
    }
    
};









int main (){
    
    
	return 0;
}
</pre>
</body>
</html>
