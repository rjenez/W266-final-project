<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z4/Z3/student1440.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z4/Z3/student1440.cpp<p></p><pre>
<a name="1"></a><font color="#00FF00"><a href="match267-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_23.gif"/></a>

/B2017/2018: ZadaÄ‡a 4, Zadatak 3
#include &lt;iostream&gt;
#include &lt;stdexcept&gt;
#include &lt;string&gt;
#include &lt;new&gt;
#include &lt;memory&gt;
#include &lt;iomanip&gt;

int bdum[13]={0,31,28,31,30,31,30,31,31,30,31,30,31};

class Datum {
    int dan,mjesec, godina;
    public:
       Datum(int d, int m, int g) {
           if(m&lt;0 || m&gt;12 || g&lt;0) throw std::domain_error("Neispravan datum");
           if(g%4==0 &amp;&amp; g%100!=0 || g%400==0) bdum[2]++;
           for(int i=1;i&lt;=12;i++) {
               if(m==i) {
                   if(d&lt;0 || d&gt;bdum[i]) throw std::domain_error("Neispravan datum");
                   else {
                       dan=d;
                       mjesec=m;
                       godina=g;
                       break;
                   }
               }
           }
       }
        void Postavi(int day, int month, int year) {
            if(month&lt;0 || month&gt;12 || year&lt;0) throw std::domain_error("Neispravan datum");
           if(year%4==0 &amp;&amp; year%100!=0 || year%400==0) bdum[2]++;
           for(int i=1;i&lt;=12;i++) {
               if(month==i) {
                   if(day&lt;0 || day&gt;bdum[i]) throw std::domain_error("Neispravan datum");
                   else {
                       dan=day;
                       mjesec=month;
                       godina=year;
                       break;
                   }
               }
        }   
       }
       
       std::tuple&lt;int, int, int&gt; Ocitaj() const {
           return std::make_tuple(dan, mjesec, godina);
       }
       
       void Ispisi() const {
</font><a name="0"></a><font color="#FF0000"><a href="match267-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_66.gif"/></a>

           std::cout&lt;&lt;dan&lt;&lt;"/"&lt;&lt;mjesec&lt;&lt;"/"&lt;&lt;godina;
       }
};

class Vrijeme {
    int sati, minute;
    public:
    
       Vrijeme(int s, int m) {
           if(s&lt;0 || s&gt;23 || m&lt;0 || m&gt;59) throw std::domain_error("Neispravno vrijeme");
           sati=s;
           minute=m;
       }
       
       void Postavi(int s, int m) {
           if(s&lt;0 || s&gt;23 || m&lt;0 || m&gt;59) throw std::domain_error("Neispravno vrijeme");
           sati=s;
           minute=m;
       }
       
       std::pair&lt;int, int&gt; Ocitaj() const {
           return std::make_pair(sati, minute);
       }
       
       void Ispisi() const {
           if(sati&lt;10) std::cout&lt;&lt;"0"&lt;&lt;sati&lt;&lt;":";
           else std::cout &lt;&lt; sati;
           if(minute&lt;10) std::cout &lt;&lt;"0"&lt;&lt;minute;
           else std::cout &lt;&lt;minute;
       }
};

class Pregled {
    std::string name;
    Datum date;
    Vrijeme times;
    public:
    
        Pregled(const std::string &amp;ime_pacijenta, const Datum &amp;datum_pregleda, const Vrijeme &amp;vrijeme_pregleda) {
            name=ime_pacijenta;
            date=datum_pregleda;
            times=vrijeme_pregleda;
        }
        
        Pregled(const std::string &amp;ime_pacijenta, int dan_pregleda, int mjesec_pregleda, int godina_pregleda, int sati_pregleda, int minute_pregleda) {
            name=ime_pacijenta;
            date.Datum::Postavi(int dan_pregleda, int mjesec_pregleda, int godina_pregleda);
            times.Vrijeme::Postavi(int sati_pregleda, int minute_pregleda);
        }
        
        void PromijeniPacijenta(const std::string &amp;ime_pacijenta) {
            name=ime_pacijenta;
        }
        
        void PromijeniDatum(const Datum &amp;novi_datum) {
            date=novi_datum;
        }
        
        void PromijeniVrijeme(const Vrijeme &amp;novo_vrijeme) {
            times=novo_vrijeme;
        }
        
        void PomjeriDanUnaprijed() {
            if(date.mjesec==12) {
                if(date.dan==31) {
                    date.dan=1;
                    date.Datum::mjesec=1;
                    date.godina+=1;
                }
            }
            int i;
            for(i=1;i&lt;=12;i++) {
                if(date.dan==bdum[i]) {
                     date.dan=1;
                     date.mjesec+=1;
                     break;
                }
            }
            if(i==13) date.dan+=1;
        }
        
        void PomjeriDanUnazad() {
            if(date.mjesec==1) {
                if(date.dan==1) {
                    date.dan=31;
                    date.mjesec=12;
                    date.godina-=1;
                }
            }
            int i;
            for(i=2;i&lt;=12;i++) {
                if(date.dan==1) {
                    date.dan=bdum[i-1];
                    date.mjesec-=1;
                    break;
                }
            }
            if(i==13) date.dan-=1;
        }
        
        std::string DajImePacijenta() const { return name; }
        Datum DajDatumPregleda() const { return date; }
        Vrijeme DajVrijemePregleda() const { return times; }
        
     static bool DolaziPrije(const Pregled &amp;p1, const Pregled &amp;p2) {
            if(p1.date.godina&lt;p2.date.godina) return true;
            else if(p2.date.godina&lt;p1.date.godina) return false;
            else {
                if(p1.date.mjesec&lt;p2.date.mjesec) return true;
                else if(p2.date.mjesec&lt;p1.date.mjesec) return false;
                else {
                    if(p1.date.dan&lt;p2.date.dan) return true;
                    else if(p2.date.dan&lt;p1.date.dan) return false;
                    else {
                        if(p1.times.sati&lt;p2.times.sati) return true;
                        else if(p2.times.sati&lt;p1.times.sati) return false;
                        else {
                            if(p1.times.minute&lt;p2.times.minute) return true;
                            else if(p2.times.minute&lt;p1.times.minute) return false;
                        }
                    }
                }
            }
        }
        
        void Ispisi() const {
            std::cout&lt;&lt;std::left&lt;&lt;std::setw(30)&lt;&lt;ime_pacijenta&lt;&lt;date.Ispisi()&lt;&lt;" "&lt;&lt;times.Ispisi();
        }
};

class Pregledi {
    Pregled **pok;
    int broj=0;
    public:
    
      explicit Pregledi(int max_broj_pregleda) {
          pok= new Pregled*[max_broj_pregleda];
      }
      
      Pregledi(std::initializer_list&lt;Pregled&gt; spisak_pregleda) {
          pok=new Pregled*[spisak_pregleda.size()];
          for(auto it=spisak_pregleda.begin(); it!=spisak_pregleda.end(); it++) pok[i]=new Pregled(*it);
      }
      
      ~Pregledi() {
          for(int i=0;i&lt;;i++) delete[] pok[i];
          delete[] pok;
      }
      
      Pregledi(const Pregledi &amp;pregledi);
      Pregledi(Pregledi &amp;&amp;pregledi);
Pregledi &amp;operator =(const Pregledi &amp;pregledi);
Pregledi &amp;operator =(Pregledi &amp;&amp;pregledi);
</font>void RegistrirajPregled(const std::string &amp;ime_pacijenta,
 const Datum &amp;datum_pregleda, const Vrijeme &amp;vrijeme_pregleda);
void RegistrirajPregled(const std::string &amp;ime_pacijenta, int dan_pregleda,
 int mjesec_pregleda, int godina_pregleda, int sati_pregleda,
 int minute_pregleda);
void RegistrirajPregled(Pregled *pregled);
int DajBrojPregleda() const;
int DajBrojPregledaNaDatum(const Datum &amp;datum) const;
Pregled &amp;DajNajranijiPregled();
<a name="2"></a><font color="#0000FF"><a href="match267-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_2.gif"/></a>

Pregled DajNajranijiPregled() const;
void IsprazniKolekciju();
void ObrisiNajranijiPregled();
void ObrisiPregledePacijenta(const std::string &amp;ime_pacijenta);
void IspisiPregledeNaDatum(const Datum &amp;datum) const;
void IspisiSvePreglede() const;
     
      
      
};
int main ()
{
    
	return 0;
</font>}
</pre>
</body>
</html>
