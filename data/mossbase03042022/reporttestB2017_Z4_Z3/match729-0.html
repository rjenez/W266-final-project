<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z4/Z3/student9624.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z4/Z3/student9624.cpp<p></p><pre>
<a name="9"></a><font color="#FF00FF"><a href="match729-1.html#9" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_0.gif"/></a>

/B2017/2018: ZadaÄ‡a 4, Zadatak 3
#include &lt;iostream&gt;
#include &lt;stdexcept&gt;
#include &lt;utility&gt;
#include &lt;memory&gt;
#include &lt;algorithm&gt;
#include &lt;cmath&gt;
#include &lt;vector&gt;
#include &lt;string&gt;
#include &lt;iomanip&gt;
#include &lt;initializer_list&gt;
#include &lt;iterator&gt;

class Datum
{
    int dan, mjesec, godina;
public:
    Datum(int dan, int mjesec, int godina) {
        Postavi(dan,mjesec,godina);
</font>    };
    void Postavi(int dan, int mjesec, int godina);
    std::tuple&lt;int, int, int&gt; Ocitaj () const {
        return std::make_tuple(dan, mjesec, godina);
    };
    void Ispisi() const {
        std::cout &lt;&lt; dan &lt;&lt; "/" &lt;&lt; mjesec &lt;&lt; "/" &lt;&lt; godina;
    };
};

class Vrijeme
{
<a name="3"></a><font color="#00FFFF"><a href="match729-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_1.gif"/></a>

    int sati,minute;
public:
    Vrijeme(int sati, int minute) {
        Postavi(sati,minute);
    };
    void Postavi(int sati, int minute) {
        if(sati &lt; 0 || minute &lt; 0 || sati &gt; 23 || minute &gt; 59 ) throw std::domain_error("Neispravno vrijeme");
</font>        Vrijeme::sati = sati;
        Vrijeme::minute = minute;
    };
    std::pair&lt;int, int&gt; Ocitaj () const {
        return std::make_pair(sati, minute);
    };
    void Ispisi() const {
        if(sati&lt;10) std::cout &lt;&lt; "0" ;
        std::cout&lt;&lt;sati&lt;&lt;":";
        if(minute&lt;10) std::cout &lt;&lt; "0" ;
        std::cout&lt;&lt;minute;
    };
};

class Pregled
{
    std::string ime_pacijenta;
    Datum datum_pregleda;
    Vrijeme vrijeme_pregleda;
public:
<a name="1"></a><font color="#00FF00"><a href="match729-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_1.gif"/></a>

    Pregled(const std::string &amp;ime_pacijenta, const Datum &amp;datum_pregleda, const Vrijeme &amp;vrijeme_pregleda):
        ime_pacijenta(ime_pacijenta), datum_pregleda(std::get&lt;0&gt;(datum_pregleda.Ocitaj()),std::get&lt;1&gt;(datum_pregleda.Ocitaj()),std::get&lt;2&gt;(datum_pregleda.Ocitaj())),
        vrijeme_pregleda(std::get&lt;0&gt;(vrijeme_pregleda.Ocitaj()),std::get&lt;1&gt;(vrijeme_pregleda.Ocitaj())) {};
</font><a name="0"></a><font color="#FF0000"><a href="match729-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_1.gif"/></a>

    Pregled(const std::string &amp;ime_pacijenta, int dan_pregleda, int mjesec_pregleda, int godina_pregleda, int sati_pregleda, int minute_pregleda):
        ime_pacijenta(ime_pacijenta), datum_pregleda(dan_pregleda, mjesec_pregleda, godina_pregleda), vrijeme_pregleda(sati_pregleda, minute_pregleda) {};
    void PromijeniPacijenta(const std::string &amp;ime_pacijenta) {
        Pregled::ime_pacijenta = ime_pacijenta;
    };
    void PromijeniDatum(const Datum &amp;novi_datum) {
</font>        datum_pregleda.Postavi(std::get&lt;0&gt;(novi_datum.Ocitaj()),std::get&lt;1&gt;(novi_datum.Ocitaj()),std::get&lt;2&gt;(novi_datum.Ocitaj()));
    };
    void PromijeniVrijeme(const Vrijeme &amp;novo_vrijeme) {
        vrijeme_pregleda.Postavi(novo_vrijeme.Ocitaj().first,novo_vrijeme.Ocitaj().second);
    };
    void PomjeriDanUnaprijed();
    void PomjeriDanUnazad();
    std::string DajImePacijenta() const {
        return ime_pacijenta;
    };
    Datum DajDatumPregleda() const {
<a name="10"></a><font color="#FF0000"><a href="match729-1.html#10" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_0.gif"/></a>

        return datum_pregleda;
    };
    Vrijeme DajVrijemePregleda() const {
        return vrijeme_pregleda;
    };
    static bool DolaziPrije(const Pregled &amp;p1, const Pregled &amp;p2);
    void Ispisi() const;
};

class Pregledi
{
    Pregled **pr;
</font>    int broj_pregleda;
    int max_broj_pregleda;

public:
    explicit Pregledi(int max_broj_pregleda) :pr(new Pregled*[max_broj_pregleda] {}), broj_pregleda(0) , max_broj_pregleda(max_broj_pregleda) {};
    Pregledi(std::initializer_list&lt;Pregled&gt; spisak_pregleda);
    ~Pregledi();
    Pregledi(const Pregledi &amp;pregledi);
    Pregledi(Pregledi &amp;&amp;pregledi);
    Pregledi &amp;operator =(const Pregledi &amp;pregledi);
    Pregledi &amp;operator =(Pregledi &amp;&amp;pregledi);
    void RegistrirajPregled(const std::string &amp;ime_pacijenta, const Datum &amp;datum_pregleda, const Vrijeme &amp;vrijeme_pregleda);
    void RegistrirajPregled(const std::string &amp;ime_pacijenta, int dan_pregleda, int mjesec_pregleda, int godina_pregleda, int sati_pregleda, int minute_pregleda);
    void RegistrirajPregled(Pregled *pregled);
    int DajBrojPregleda() const {
        return broj_pregleda;
    };
    int DajBrojPregledaNaDatum(const Datum &amp;datum) const;
    Pregled &amp;DajNajranijiPregled();
    Pregled DajNajranijiPregled() const;
    void IsprazniKolekciju();
    void ObrisiNajranijiPregled();
    void ObrisiPregledePacijenta(const std::string &amp;ime_pacijenta);
    void IspisiPregledeNaDatum(const Datum &amp;datum) const;
    void IspisiSvePreglede() const;

};
Pregledi::Pregledi(std::initializer_list&lt;Pregled&gt; spisak_pregleda):broj_pregleda(spisak_pregleda.size()), max_broj_pregleda(spisak_pregleda.size())
{
    pr = nullptr;
    try {
        pr = new Pregled*[max_broj_pregleda];
        for (int i = 0; i &lt; max_broj_pregleda; i++) pr[i] = nullptr;

        int i(0);
        for (auto it = spisak_pregleda.begin(); it != spisak_pregleda.end(); it++) {
            *(pr+i) = new Pregled(*it);
            i++;
        }
    } catch(...) {
        for(int i=0; i&lt;broj_pregleda; i++) delete pr[i];
        delete [] pr;
        throw;
    }
}
Pregledi::~Pregledi()
{
    for(int i=0 ; i&lt;broj_pregleda ; i++) delete pr[i];
    delete[] pr;

}
<a name="4"></a><font color="#FF00FF"><a href="match729-1.html#4" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_1.gif"/></a>

Pregledi::Pregledi(const Pregledi &amp;pregledi): pr(new Pregled*[pregledi.max_broj_pregleda] {}),  broj_pregleda(pregledi.broj_pregleda), max_broj_pregleda(pregledi.max_broj_pregleda)
{
    try {
        for(int i=0 ; i&lt;broj_pregleda ; i++)
</font>            pr[i]= new Pregled(*pregledi.pr[i]);
    } catch(...) {
        for(int i=0 ; i&lt;pregledi.broj_pregleda ; i++) delete pr[i];
        delete[] pr;
        throw;
    }

}
Pregledi::Pregledi(Pregledi &amp;&amp;pregledi): pr(pregledi.pr), broj_pregleda(pregledi.broj_pregleda), max_broj_pregleda(pregledi.max_broj_pregleda)
{
    pregledi.pr = nullptr;
}
Pregledi &amp;Pregledi::operator =(const Pregledi &amp;pregledi)
{
<a name="5"></a><font color="#FF0000"><a href="match729-1.html#5" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_0.gif"/></a>

    if(pregledi.broj_pregleda &gt; broj_pregleda) {
        try {
            for(int i = broj_pregleda ; i &lt; pregledi.broj_pregleda ; i++)
                pr[i] = new Pregled(*pregledi.pr[i]);
        } catch(...) {
</font>            for(int i = broj_pregleda ; i &lt; pregledi.broj_pregleda ; i++) {
                delete pr[i];
                pr = nullptr;
            }
            throw;
        }
    } else {
        for(int i = pregledi.broj_pregleda ; i &lt; broj_pregleda ; i++) {
            delete pr[i] ;
            pr = nullptr;
        }
    }
<a name="2"></a><font color="#0000FF"><a href="match729-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_1.gif"/></a>

    broj_pregleda=pregledi.broj_pregleda;
    for(int i = 0 ; i &lt; broj_pregleda ; i++) *pr[i] = *pregledi.pr[i];
    return *this;
}
Pregledi &amp;Pregledi::operator =(Pregledi &amp;&amp;pregledi)
</font>{
    if(&amp;pregledi != this) {
        for(int i=0 ; i&lt;pregledi.broj_pregleda ; i++) delete pr[i];
        delete[] pr;
        max_broj_pregleda = pregledi.max_broj_pregleda;
        broj_pregleda = pregledi.broj_pregleda;
        for(int i=0 ; i&lt;pregledi.broj_pregleda ; i++) pregledi.pr[i] = nullptr;
        pregledi.pr = nullptr;
    }
    return *this;
}
void Pregledi::RegistrirajPregled(const std::string &amp;ime_pacijenta, const Datum &amp;datum_pregleda, const Vrijeme &amp;vrijeme_pregleda)
{
    if(broj_pregleda &gt;= max_broj_pregleda) throw std::range_error ("Dostignut maksimalni broj pregleda");
    Pregled *pregled(nullptr);
    try {
        pregled = new Pregled(ime_pacijenta,datum_pregleda, vrijeme_pregleda);
    } catch(...) {
        delete pregled;
        throw;
    }
    pr[broj_pregleda++] = pregled;
}
void Pregledi::RegistrirajPregled(const std::string &amp;ime_pacijenta, int dan_pregleda, int mjesec_pregleda, int godina_pregleda, int sati_pregleda, int minute_pregleda)
{
    if(broj_pregleda &gt;= max_broj_pregleda) throw std::range_error ("Dostignut maksimalni broj pregleda");
    Pregled *pregled(nullptr);
    try {
        pregled = new Pregled(ime_pacijenta, dan_pregleda, mjesec_pregleda, godina_pregleda, sati_pregleda, minute_pregleda);
    } catch(...) {
        delete pregled;
        throw;
    }
    pr[broj_pregleda++] = pregled;
}
void Pregledi::RegistrirajPregled(Pregled *pregled)
{
    if(broj_pregleda &gt;= max_broj_pregleda) throw std::range_error ("Dostignut maksimalni broj pregleda");
    pr[broj_pregleda++] = pregled;
}

int Pregledi::DajBrojPregledaNaDatum(const Datum &amp;datum) const
{

    int br(std::count_if(pr, pr+broj_pregleda, [datum] (Pregled * preg) {
        if(std::get&lt;0&gt;(preg-&gt;DajDatumPregleda().Ocitaj())==std::get&lt;0&gt;(datum.Ocitaj()) &amp;&amp; std::get&lt;1&gt;(preg-&gt;DajDatumPregleda().Ocitaj())==std::get&lt;1&gt;(datum.Ocitaj()) &amp;&amp;
                std::get&lt;2&gt;(preg-&gt;DajDatumPregleda().Ocitaj())==std::get&lt;2&gt;(datum.Ocitaj())) return true;
        return false;
    }));
    if(br==0) throw std::domain_error ("Nema registriranih pregleda");
    return br;
}
Pregled &amp;Pregledi::DajNajranijiPregled()
{
    if(broj_pregleda==0) throw std::domain_error ("Nema registriranih pregleda");
    return *(*(std::min_element(pr, pr+broj_pregleda, [](Pregled *p1, Pregled *p2) {
        return Pregled::DolaziPrije(*p1,*p2);
    })));

}
Pregled Pregledi::DajNajranijiPregled() const
{
    if(broj_pregleda==0) throw std::domain_error ("Nema registriranih pregleda");
    return *(*(std::min_element(pr, pr+broj_pregleda, [](Pregled *p1, Pregled *p2) {
        return Pregled::DolaziPrije(*p1,*p2);
    })));
}

void Pregledi::IsprazniKolekciju()
{
    for(int i = 0; i&lt;broj_pregleda ; i++) pr[i] = nullptr;
    pr=nullptr;
    broj_pregleda=0;
}
void Pregledi::ObrisiNajranijiPregled()
{
    if(broj_pregleda==0) throw std::domain_error ("Prazna kolekcija");
    for(int i = 0 ; i&lt; broj_pregleda; i++) {
        if(std::get&lt;0&gt;(pr[i]-&gt;DajDatumPregleda().Ocitaj()) == std::get&lt;0&gt;(this-&gt;DajNajranijiPregled().DajDatumPregleda().Ocitaj())
                &amp;&amp; std::get&lt;1&gt;(pr[i]-&gt;DajDatumPregleda().Ocitaj()) == std::get&lt;1&gt;(this-&gt;DajNajranijiPregled().DajDatumPregleda().Ocitaj())
                &amp;&amp; std::get&lt;2&gt;(pr[i]-&gt;DajDatumPregleda().Ocitaj()) == std::get&lt;2&gt;(this-&gt;DajNajranijiPregled().DajDatumPregleda().Ocitaj())) {
            for( int j = i ; j&lt; broj_pregleda-1 ; j++) {
                Pregled p(*(pr[j]));
                *pr[j]=*pr[j+1];
                *pr[j+1]=p;
            }

        }
    }
    delete pr[broj_pregleda-1];
    broj_pregleda --;
}
void Pregledi::ObrisiPregledePacijenta(const std::string &amp;ime_pacijenta)
{
    int br=0;
    for(int i = 0 ; i&lt; broj_pregleda-br; i++) {
        if(pr[i]-&gt;DajImePacijenta()==ime_pacijenta) {
            for( int j = i ; j&lt; broj_pregleda-1 ; j++) {
                Pregled p(*pr[j]);
                *pr[j]=*pr[j+1];
                *pr[j+1]=p;
            }
            br++;
        }
    }
    for(int i = broj_pregleda-1 ; i&gt; broj_pregleda-br-1 ; i--) delete pr[i];
    broj_pregleda -= br;
}

void Pregledi::IspisiPregledeNaDatum(const Datum &amp;datum) const
{
    Pregled** preg (nullptr);
    int j(0);
    try {
        preg = new Pregled*[broj_pregleda];
        for (int i = 0; i &lt; broj_pregleda; i++) {
            if (std::get&lt;0&gt;(pr[i]-&gt;DajDatumPregleda().Ocitaj())==std::get&lt;0&gt;(datum.Ocitaj()) &amp;&amp; std::get&lt;1&gt;(pr[i]-&gt;DajDatumPregleda().Ocitaj())==std::get&lt;1&gt;(datum.Ocitaj()) &amp;&amp;
                    std::get&lt;2&gt;(pr[i]-&gt;DajDatumPregleda().Ocitaj())==std::get&lt;2&gt;(datum.Ocitaj())) {
                preg[j] = new Pregled(pr[i]-&gt;DajImePacijenta(), pr[i]-&gt;DajDatumPregleda(), pr[i]-&gt;DajVrijemePregleda());
                j++;
            }
        }
        std::sort(preg, preg+j, [](Pregled* p1, Pregled* p2) {
            return Pregled::DolaziPrije(*p1, *p2);
        });
        for (int i = 0; i &lt; j; i++) preg[i]-&gt;Ispisi();

        for (int i = 0; i &lt; j; i++) delete preg[i];
        delete [] preg;
    } catch (...) {
        for (int i = 0; i &lt; j; i++) delete preg[i];
        delete [] preg;
    }
}
void Pregledi::IspisiSvePreglede() const
{
    Pregled** pr1 (pr);
    std::sort(pr1, pr1+broj_pregleda, [](Pregled* p1, Pregled* p2) {
        return Pregled::DolaziPrije(*p1, *p2);
    });
    for (int i = 0; i &lt; broj_pregleda; i++) pr1[i]-&gt;Ispisi();
}
int main ()
{
    int n;
    std::cout&lt;&lt;"Unesite maksimalan broj pregleda: ";
    std::cin&gt;&gt;n;
    int br(0);
    Pregledi pregledi(n);
    while(1) {
        std::cin.clear();
        std::cin.ignore(10000, '\n');
        std::cout&lt;&lt;"Unesite ime novog pacijenta ili 'kraj' za zavrsetak unosa: ";
        std::string ime;
        std::getline(std::cin, ime);
        if(ime=="kraj") break;
        std::cout&lt;&lt;"Unesite dan mjesec i godinu pregleda: ";
        int d, m, g;
        std::cin&gt;&gt;d &gt;&gt;m &gt;&gt;g;
        std::cout&lt;&lt;"Unesite sate i minute pregleda: ";
        int sat,min;
        std::cin&gt;&gt;sat &gt;&gt;min;
        try {
            pregledi.RegistrirajPregled(ime,d,m,g,sat,min);
        } catch(std::range_error e) {
            std::cout&lt;&lt;e.what();
        }
        br++;
        if(br==n) break;
    }
    std::cout&lt;&lt;"Trenutno su registrovani sljedeci pregledi"&lt;&lt;std::endl;
    pregledi.IspisiSvePreglede();
    while(1) {
<a name="6"></a><font color="#00FF00"><a href="match729-1.html#6" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_0.gif"/></a>

        std::cout&lt;&lt;std::endl&lt;&lt;"Odaberite jednu od sljedecih opcija"&lt;&lt;std::endl&lt;&lt;"1 - Broj pregleda na datum"&lt;&lt;std::endl&lt;&lt;"2 - Najraniji pregled"&lt;&lt;std::endl&lt;&lt;"3 - Obrisi pregled pacijenta"&lt;&lt;std::endl
</font><a name="7"></a><font color="#0000FF"><a href="match729-1.html#7" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_0.gif"/></a>

                 &lt;&lt;"4 - Obrisi najraniji pregled"&lt;&lt;std::endl&lt;&lt;"5 - Ispisi sve pregleda na datum"&lt;&lt;std::endl&lt;&lt;"6 - Ispisi sve preglede"&lt;&lt;std::endl&lt;&lt;"7 - Kraj programa"&lt;&lt;std::endl;
        int a;
        std::cin&gt;&gt;a;
</font>        std::cin.clear();
        std::cin.ignore(10000, '\n');

        if(a==5) {
            std::cout&lt;&lt;"Unesite dan mjesec i godinu : ";
            int d1, m1, g1;
            std::cin&gt;&gt;d1 &gt;&gt;m1 &gt;&gt;g1;
            std::cout&lt;&lt;"Pregledi na datum "&lt;&lt;d1&lt;&lt;" "&lt;&lt;m1&lt;&lt;" "&lt;&lt;g1&lt;&lt;" su:"&lt;&lt;std::endl;
            pregledi.IspisiPregledeNaDatum(Datum(d1, m1, g1));
            std::cout&lt;&lt;std::endl;
        }
        if(a==4) {
            try {
                pregledi.ObrisiNajranijiPregled();
                std::cout&lt;&lt;"Najraniji pregled uspjesno obrisan";
            } catch(std::domain_error e) {
                std::cout&lt;&lt;e.what();
            }
            std::cout&lt;&lt;std::endl;
        }
        if(a==3) {

            int b(pregledi.DajBrojPregleda());

            std::cout&lt;&lt;"Unesite ime pacijenta: ";
            std::string ime1;
            std::getline(std::cin, ime1);
            pregledi.ObrisiPregledePacijenta(ime1);
            int c(pregledi.DajBrojPregleda());
            std::cout&lt;&lt;"Uspjesno obrisano "&lt;&lt;b-c&lt;&lt;" pregleda";
            std::cout&lt;&lt;std::endl;

        }
        if(a==2) {
            try {
                std::cout&lt;&lt;"Najraniji pregled je:" &lt;&lt;std::endl;
                pregledi.DajNajranijiPregled().Ispisi();
            } catch(std::domain_error e) {
                std::cout&lt;&lt;e.what();
            }
            std::cout&lt;&lt;std::endl;
        }
        if(a==1) {
            std::cout&lt;&lt;"Unesite dan mjesec i godinu : ";
            int d1, m1, g1;
            std::cin&gt;&gt;d1 &gt;&gt;m1 &gt;&gt;g1;
            try {
                std::cout&lt;&lt;"Broj pregleda na datum "&lt;&lt;d1&lt;&lt;" "&lt;&lt;m1&lt;&lt;" "&lt;&lt;g1&lt;&lt;" je: "&lt;&lt;pregledi.DajBrojPregledaNaDatum(Datum(d1, m1, g1));
            } catch(std::domain_error e) {
                std::cout&lt;&lt;e.what();
            }
            std::cout&lt;&lt;std::endl;
        }
        if(a==7) break;
        if(a==6) {
            pregledi.IspisiSvePreglede();
            std::cout&lt;&lt;std::endl;
        }
    }
<a name="11"></a><font color="#00FF00"><a href="match729-1.html#11" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_0.gif"/></a>

    return 0;
}
void Datum::Postavi(int dan, int mjesec, int godina)
{
    int broj_dana[] {31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31};
</font>    if((godina % 4 == 0 &amp;&amp; godina % 100 != 0) || godina % 400 == 0) broj_dana[1]++;
    if(godina &lt; 1 || mjesec &lt; 1 || mjesec &gt; 12 || dan &lt; 1 || dan &gt; broj_dana[mjesec-1]) throw std::domain_error("Neispravan datum");
    Datum::dan = dan;
    Datum::mjesec = mjesec;
    Datum::godina = godina;
}
void Pregled::PomjeriDanUnaprijed()
{
    int dan(std::get&lt;0&gt;(datum_pregleda.Ocitaj()));
    int mjesec(std::get&lt;1&gt;(datum_pregleda.Ocitaj()));
    int godina(std::get&lt;2&gt;(datum_pregleda.Ocitaj()));
    int broj_dana[] {31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31};
    if((godina % 4 == 0 &amp;&amp; godina % 100 != 0) || godina % 400 == 0) broj_dana[1]++;
    dan++;
    if(dan&gt;broj_dana[mjesec-1]) {
        dan=1;
        mjesec++;
    }
    if(mjesec&gt;12) {
        mjesec=1;
        godina++;
    }
    this-&gt;datum_pregleda.Postavi(dan,mjesec,godina);
}
void Pregled::PomjeriDanUnazad()
{
    int dan(std::get&lt;0&gt;(datum_pregleda.Ocitaj()));
    int mjesec(std::get&lt;1&gt;(datum_pregleda.Ocitaj()));
    int godina(std::get&lt;2&gt;(datum_pregleda.Ocitaj()));
    int broj_dana[] {31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31};
    if((godina % 4 == 0 &amp;&amp; godina % 100 != 0) || godina % 400 == 0) broj_dana[1]++;
    dan--;
    if(dan&lt;1) {
        if(mjesec==1) dan=broj_dana[11];
        dan=broj_dana[mjesec-2];
        mjesec--;
    }
    if(mjesec&lt;1) {
        mjesec = 12;
        godina--;
    }
    this-&gt;datum_pregleda.Postavi(dan,mjesec,godina);

}
bool Pregled::DolaziPrije(const Pregled &amp;p1, const Pregled &amp;p2)
{
    int dan1(std::get&lt;0&gt;(p1.datum_pregleda.Ocitaj())), dan2(std::get&lt;0&gt;(p2.datum_pregleda.Ocitaj()));
    int mjesec1(std::get&lt;1&gt;(p1.datum_pregleda.Ocitaj())),mjesec2(std::get&lt;1&gt;(p2.datum_pregleda.Ocitaj()));
    int godina1(std::get&lt;2&gt;(p1.datum_pregleda.Ocitaj())),godina2(std::get&lt;2&gt;(p2.datum_pregleda.Ocitaj()));
    int s1(p1.vrijeme_pregleda.Ocitaj().first), s2(p2.vrijeme_pregleda.Ocitaj().first);
    int min1(p1.vrijeme_pregleda.Ocitaj().second), min2(p2.vrijeme_pregleda.Ocitaj().second);
    if(godina1&lt;godina2 ) return true;
    if(godina1==godina2) {
        if(mjesec1&lt;mjesec2 ) return true;
        if(mjesec1==mjesec2) {
            if(dan1&lt;dan2 ) return true;
            if(dan1==dan2) {
                if(s1&lt;s2 ) return true;
                if(s1==s2) {
                    if(min1&lt;min2 ) return true;

                }

            }

        }
    }
    return false;
}
void Pregled::Ispisi() const
{
<a name="8"></a><font color="#00FFFF"><a href="match729-1.html#8" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_0.gif"/></a>

    std::cout &lt;&lt; std::left &lt;&lt; std::setw(30) &lt;&lt; ime_pacijenta;
    datum_pregleda.Ispisi();
    std::cout &lt;&lt; " ";
    vrijeme_pregleda.Ispisi();
    std::cout &lt;&lt; std::endl;
</font>}</pre>
</body>
</html>
