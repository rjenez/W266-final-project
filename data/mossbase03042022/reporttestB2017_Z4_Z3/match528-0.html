<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z4/Z3/student1424.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z4/Z3/student1424.cpp<p></p><pre>
/B2017/2018: ZadaÄ‡a 4, Zadatak 3
#include &lt;iostream&gt;
#include &lt;tuple&gt;
#include &lt;utility&gt;
#include &lt;iomanip&gt;
#include &lt;initializer_list&gt;
#include &lt;new&gt;
#include &lt;iterator&gt;
#include &lt;vector&gt;
#include &lt;algorithm&gt;
#include &lt;string&gt;

class Datum
{
    int dan, mjesec, godina;
public:
    Datum(int dan, int mjesec, int godina) {
        Postavi(dan,mjesec,godina);
    }
    void Postavi(int dan, int mjesec, int godina);
    std::tuple&lt;int, int , int&gt; Ocitaj() const {
        return std::make_tuple(dan,mjesec,godina);
    }
    void Ispisi() const {
        std::cout&lt;&lt;dan&lt;&lt;"/"&lt;&lt;mjesec&lt;&lt;"/"&lt;&lt;godina;
    }
};
void Datum::Postavi(int dan, int mjesec, int godina)
{
    int dani[] {31,28,31,30,31,30,31,31,30,31,30,31};
    if((godina%4==0 &amp;&amp; godina%100!=0) || godina%400==0) dani[1]++;
<a name="0"></a><font color="#FF0000"><a href="match528-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_3.gif"/></a>

    if(godina&lt;1 || dan&lt;1 || mjesec&lt;1 || mjesec&gt;12 || dan&gt;dani[mjesec-1]) throw std::domain_error("Neispravan datum");
    Datum::dan=dan;
    Datum::mjesec=mjesec;
    Datum::godina=godina;
}

class Vrijeme
{
    int sati, minute;
public:
    Vrijeme(int sati, int minute) {
        Postavi(sati,minute);
    }
    void Postavi(int sati, int minute);
    std::pair&lt;int, int&gt; Ocitaj() const {
        return std::make_pair(sati, minute);
    }
    void Ispisi() const {
        std::cout&lt;&lt;std::right&lt;&lt;std::setw(2)&lt;&lt;std::setfill('0')&lt;&lt;sati&lt;&lt;":"&lt;&lt;std::setw(2)&lt;&lt;minute;
</font><a name="1"></a><font color="#00FF00"><a href="match528-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_1.gif"/></a>

    }
};

void Vrijeme::Postavi(int sati, int minute)
{
    if(sati&lt;0 || sati&gt;23 || minute&lt;0 || minute&gt;59) throw std::domain_error("Neispravno vrijeme");
    Vrijeme::sati=sati;
    Vrijeme::minute=minute;
}

class Pregled
{
    std::string ime_pacijenta;
    Datum datum_pregleda;
    Vrijeme vrijeme_pregleda;
</font>public:
    Pregled (const std::string &amp;ime_pacijenta, const Datum&amp; datum_pregleda, const Vrijeme &amp;vrijeme_pregleda):
        ime_pacijenta(ime_pacijenta), datum_pregleda(datum_pregleda), vrijeme_pregleda(vrijeme_pregleda) {}
    Pregled(const std::string &amp;ime_pacijenta, int dan_pregleda, int mjesec_pregleda, int godina_pregleda,
            int sati_pregleda, int minute_pregleda): ime_pacijenta(ime_pacijenta), datum_pregleda(dan_pregleda, mjesec_pregleda, godina_pregleda),
        vrijeme_pregleda(sati_pregleda,minute_pregleda) {}
    void PromijeniPacijenta(const std::string &amp;ime_pacijenta) {
        Pregled::ime_pacijenta=ime_pacijenta;
    }
    void PromijeniDatum(const Datum &amp;novi_datum) {
        datum_pregleda=novi_datum;
    }
    void PromijeniVrijeme(const Vrijeme &amp;novo_vrijeme) {
        vrijeme_pregleda=novo_vrijeme;
    }
    void PomjeriDanUnaprijed();
    void PomjeriDanUnazad();
    std::string DajImePacijenta() const {
        return ime_pacijenta;
    }
    Datum DajDatumPregleda() const {
        return datum_pregleda;
    }
    Vrijeme DajVrijemePregleda() const {
        return vrijeme_pregleda;
    }
    static bool DolaziPrije(const Pregled &amp;p1, const Pregled &amp;p2);
    void Ispisi() const {
<a name="3"></a><font color="#00FFFF"><a href="match528-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_1.gif"/></a>

        std::cout&lt;&lt;std::left&lt;&lt;std::setw(30)&lt;&lt;std::setfill(' ')&lt;&lt;ime_pacijenta;
        datum_pregleda.Ispisi();
        std::cout&lt;&lt;" ";
        vrijeme_pregleda.Ispisi();
        std::cout&lt;&lt;std::endl;
</font>    }

};

void Pregled::PomjeriDanUnaprijed()
{
    int dani[] {31,28,31,30,31,30,31,31,30,31,30,31};
    int dan, mjesec, godina;
    std::tie(dan, mjesec, godina)=datum_pregleda.Ocitaj();
    if((godina%4==0 &amp;&amp; godina%100!=0) || godina%400==0) dani[1]++;

    dan++;
    if(dan&gt;dani[mjesec-1]) {
        dan=1;
        mjesec++;
    }
    if(mjesec&gt;12) {
        mjesec=1;
        godina++;
    }
    datum_pregleda.Postavi(dan, mjesec, godina);
}
void Pregled::PomjeriDanUnazad()
{
    int dani[] {31,28,31,30,31,30,31,31,30,31,30,31};
    int dan, mjesec, godina;
    std::tie(dan, mjesec, godina)=datum_pregleda.Ocitaj();
    if((godina%4==0 &amp;&amp; godina%100!=0) || godina%400==0) dani[1]++;

    dan--;
    if(dan&lt;1) {
        if(mjesec&gt;=2) {
            dan=dani[mjesec-2];
            mjesec--;
        } else {
            dan=31;
            mjesec=12;
            godina--;
        }
    }
    datum_pregleda.Postavi(dan, mjesec, godina);

}

bool Pregled::DolaziPrije(const Pregled &amp;p1, const Pregled &amp;p2)
{
    int dan1, mjesec1, godina1, dan2, mjesec2, godina2;
    std::tie(dan1, mjesec1, godina1)=p1.datum_pregleda.Ocitaj();
    std::tie(dan2, mjesec2, godina2)=p2.datum_pregleda.Ocitaj();
    if(godina1&lt;godina2) return true;
    if(godina1&gt;godina2) return false;
    if(mjesec1&lt;mjesec2) return true;
    if(mjesec1&gt;mjesec2) return false;
    int sati1,minute1, sati2, minute2;
    std::tie(sati1,minute1)=p1.vrijeme_pregleda.Ocitaj();
    std::tie(sati2,minute2)=p2.vrijeme_pregleda.Ocitaj();
    if(dan1&lt;dan2) return true;
    if(dan1&gt;dan2) return false;
    if(sati1&lt;sati2) return true;
    if(sati1&gt;sati2) return false;
    if(minute1&lt;minute2) return true;
    return false;
}
void  sortiraj(std::vector&lt;Pregled*&gt;&amp; pregledi)  {
        std::sort(pregledi.begin(), pregledi.end(), [](Pregled*p1, Pregled*p2)-&gt;bool {return Pregled::DolaziPrije(*p1, *p2);});
    }
class Pregledi
{
    const int max_broj_pregleda;
    int broj_pregleda;
    Pregled** pregledi;
    void Obrisi();
    // void Brisanje (Pregled**it);
    Pregled* Najraniji_pregled() const {
        auto it=(std::min_element(pregledi, pregledi+broj_pregleda, [](Pregled*p,Pregled *p1)-&gt;bool {
            return Pregled::DolaziPrije(*p,*p1);
        }));
        if(it==pregledi+broj_pregleda)
            throw std::domain_error("Nema registriranih pregleda");


<a name="2"></a><font color="#0000FF"><a href="match528-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_1.gif"/></a>

        return *it;

    }
    
public:
    explicit Pregledi(int max_broj_pregleda):max_broj_pregleda(max_broj_pregleda), broj_pregleda(0),
        pregledi(new Pregled*[max_broj_pregleda] {}) {}
    Pregledi(std::initializer_list&lt;Pregled&gt; spisak_pregleda);
    ~Pregledi();
    Pregledi(const Pregledi &amp;pregledi);
    Pregledi (Pregledi &amp;&amp; pregledi);
    Pregledi &amp;operator = (const Pregledi &amp;pregledi);
</font>    Pregledi &amp;operator = (Pregledi &amp;&amp;pregledi);
    void RegistrirajPregled(const std::string &amp;ime_pacijenta, const Datum &amp;datum_pregleda, const Vrijeme&amp; vrijeme_pregleda);
    void RegistrirajPregled(const std::string &amp;ime_pacijenta, int dan_pregleda, int mjesec_pregleda, int godina_pregleda,
                            int sati_pregleda, int minute_pregleda);
    void RegistrirajPregled(Pregled*pregled);
    int DajBrojPregleda() const {
        return broj_pregleda;
    }
    int DajBrojPregledaNaDatum(const Datum &amp;datum) const;

    Pregled&amp; DajNajranijiPregled();
    Pregled DajNajranijiPregled() const;
    void IsprazniKolekciju();
    void ObrisiNajranijiPregled();
    void ObrisiPregledePacijenta(const std::string &amp;ime_pacijenta);
    void IspisiPregledeNaDatum (const Datum &amp;datum) const;
    void IspisiSvePreglede () const;

};
bool Uporedi(const Datum &amp;datum, Pregled*p)
{
    int mjesec1,dan1,godina1,mjesec2,godina2,dan2;
    std::tie(dan1,mjesec1,godina1)=p-&gt;DajDatumPregleda().Ocitaj();
    std::tie(dan2,mjesec2,godina2)=datum.Ocitaj();
    return dan1==dan2 &amp;&amp; mjesec1==mjesec2 &amp;&amp; godina1==godina2;

}
int Pregledi::DajBrojPregledaNaDatum(const Datum &amp;datum) const
{
    return std::count_if(pregledi, pregledi+broj_pregleda, [datum](Pregled* p)-&gt; bool {
        /*int mjesec1,dan1,godina1,mjesec2,godina2,dan2;
        std::tie(dan1,mjesec1,godina1)=p-&gt;DajDatumPregleda().Ocitaj();
        std::tie(dan2,mjesec2,godina2)=datum.Ocitaj();
        return dan1==dan2 &amp;&amp; mjesec1==mjesec2 &amp;&amp; godina1==godina2;*/
        return Uporedi(datum, p);
    });
}
Pregled&amp; Pregledi:: DajNajranijiPregled()
{
    //provjeriti moze li za non const
    return *Najraniji_pregled();
}
Pregled Pregledi:: DajNajranijiPregled() const
{
    return *Najraniji_pregled();
}

Pregledi::Pregledi(std::initializer_list&lt;Pregled&gt; spisak_pregleda):max_broj_pregleda(spisak_pregleda.size()),
    broj_pregleda(0), pregledi(new Pregled*[spisak_pregleda.size()] {})
{

    try {
        int i(0);
        for( std::initializer_list&lt;Pregled&gt;::iterator it=spisak_pregleda.begin(); it!=spisak_pregleda.end(); it++) {
            pregledi[i]=new Pregled(it[i]);
            i++;
        }
    } catch (std::bad_alloc) {
        for(int j=0; j&lt;spisak_pregleda.size(); j++) {
            delete pregledi[j];
            pregledi[j]=nullptr;
        }
        delete[] pregledi;
        pregledi=nullptr;
        //provjeriti je li treba baciti izuzteak pri losoj konstrukciji!!!!!
        throw;
    }
    broj_pregleda=max_broj_pregleda;
}

void Pregledi::Obrisi()
{
<a name="8"></a><font color="#00FFFF"><a href="match528-1.html#8" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_0.gif"/></a>

    for(int i=0; i&lt;broj_pregleda; i++) {
        delete pregledi[i];
        pregledi[i]=nullptr;
    }
    delete[] pregledi;
    pregledi=nullptr;
}
Pregledi::~Pregledi()
</font>{
    /*for(int i=0;i&lt;broj_pregleda;i++) delete pregledi[i];
    delete[] pregledi;*/
    Obrisi();
}

<a name="6"></a><font color="#00FF00"><a href="match528-1.html#6" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_1.gif"/></a>

Pregledi::Pregledi (const Pregledi &amp;pregledi): max_broj_pregleda(pregledi.max_broj_pregleda), broj_pregleda(pregledi.broj_pregleda),
    pregledi(new Pregled*[pregledi.max_broj_pregleda] {})
{
    try {
        for(int i=0; i&lt;pregledi.broj_pregleda; i++) {
</font>            Pregledi::pregledi[i]=new Pregled (*(pregledi.pregledi[i]));
        }
    } catch(...) {//provjeriti je li brise fino
        /*for(int i=0;i&lt;broj_pregleda;i++) delete pregledi[i];
        delete[] pregledi;*/
        Obrisi();

    }
}
<a name="4"></a><font color="#FF00FF"><a href="match528-1.html#4" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_1.gif"/></a>

Pregledi::Pregledi(Pregledi &amp;&amp; pregledi) : max_broj_pregleda(pregledi.max_broj_pregleda), broj_pregleda(pregledi.broj_pregleda),
    pregledi(pregledi.pregledi)
{
    pregledi.broj_pregleda=0;
    pregledi.pregledi=nullptr;
}
Pregledi&amp; Pregledi :: operator= (const Pregledi &amp; pregledi)
</font>{
    //Provjeriti za kapacitete da li treba provjera
    if(Pregledi::max_broj_pregleda!=pregledi.max_broj_pregleda) throw std::logic_error("Nesaglasni kapaciteti");

    if(broj_pregleda&lt;pregledi.broj_pregleda) {
        try {
            for(int i=broj_pregleda; i&lt;pregledi.broj_pregleda; i++) {
                Pregledi::pregledi[i]=new Pregled(*(pregledi.pregledi[i]));
            }
        } catch(...) {
            for(int i=broj_pregleda; i&lt;pregledi.broj_pregleda; i++) {
                delete Pregledi::pregledi[i];
                Pregledi::pregledi[i]=nullptr;
            }
            throw;
        }
    } else {
        for(int i=pregledi.broj_pregleda; i&lt;broj_pregleda; i++) {
            delete Pregledi::pregledi[i];
            Pregledi::pregledi[i]=nullptr;
        }
    }
    broj_pregleda=pregledi.broj_pregleda;
    for(int i=0; i&lt;broj_pregleda; i++) {
        *(Pregledi::pregledi[i])=*(pregledi.pregledi[i]);
    }
    return *this;
}
Pregledi&amp; Pregledi:: operator = (Pregledi &amp;&amp; pregledi)
{
    //Provjeriti za kapacitete da li treba provjera
    if(Pregledi::max_broj_pregleda!=pregledi.max_broj_pregleda) throw std::logic_error("Nesaglasni kapaciteti");
    if(&amp;pregledi!=this) {
        broj_pregleda=pregledi.broj_pregleda;
        Pregledi::pregledi=pregledi.pregledi;
        pregledi.broj_pregleda=0;
        pregledi.pregledi=nullptr;
    }
    return *this;

}
void Pregledi::RegistrirajPregled(const std::string &amp;ime_pacijenta, const Datum &amp;datum_pregleda, const Vrijeme&amp; vrijeme_pregleda)
{
    if(broj_pregleda==max_broj_pregleda) throw std::range_error("Dostignut maksimalni broj pregleda");
    try {
        pregledi[broj_pregleda]=new Pregled(ime_pacijenta, datum_pregleda, vrijeme_pregleda);
        broj_pregleda++;
    }
    //provjeriti za izuzetke sta treba
    catch(...) {

        throw;
    }
}
void Pregledi::RegistrirajPregled(const std::string &amp;ime_pacijenta, int dan_pregleda, int mjesec_pregleda, int godina_pregleda,
                                  int sati_pregleda, int minute_pregleda)
{
    if(broj_pregleda==max_broj_pregleda) throw std::range_error("Dostignut maksimalni broj pregleda");
    try {
        Pregledi::pregledi[broj_pregleda]=new Pregled(ime_pacijenta, dan_pregleda,mjesec_pregleda,godina_pregleda, sati_pregleda,minute_pregleda);
        broj_pregleda++;
    }
    //provjeriti za izuzetke sta treba
    catch(...) {
        throw;
    }
}
void Pregledi::RegistrirajPregled(Pregled* pregled)
{
    if(broj_pregleda==max_broj_pregleda) throw std::range_error("Dostignut maksimalni broj pregleda");
    pregledi[broj_pregleda++]=pregled;
}
<a name="7"></a><font color="#0000FF"><a href="match528-1.html#7" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_0.gif"/></a>

void Pregledi::IsprazniKolekciju()
{
    for(int i=0; i&lt;broj_pregleda; i++) {
        delete pregledi[i];
        pregledi[i]=nullptr;
    }
    broj_pregleda=0;
</font>}
void Pregledi::ObrisiNajranijiPregled()
{
    // provjeriti je li brisanje C-ovsko klasicno
    auto it=(std::min_element(pregledi, pregledi+broj_pregleda, [](Pregled*p,Pregled *p1)-&gt;bool {
        return Pregled::DolaziPrije(*p,*p1);
    }));

    if(it==pregledi+broj_pregleda) throw std::range_error("Prazna kolekcija");
    //auto sl=it+1;
    delete *it;
    for(; it!=pregledi+broj_pregleda-1; it++) {
        *it=*(it+1);
    }
    pregledi[--broj_pregleda] =nullptr;

    // Brisanje(it);

}

/*void Pregledi::Brisanje(Pregled**it)
{
    auto sl=it+1;
    delete *it;
    for(it=sl; it!=pregledi+broj_pregleda-1; it++) {
        it=it+1;
    }
    pregledi[--broj_pregleda] =nullptr;



}*/
void Pregledi::ObrisiPregledePacijenta(const std::string &amp;ime_pacijenta)
{
    do {

        auto it=std::find_if(pregledi, pregledi+broj_pregleda, [ime_pacijenta](Pregled*p1)-&gt;bool {
            return p1-&gt;DajImePacijenta()==ime_pacijenta;
        });
        if(it==pregledi+broj_pregleda) break;
        // auto sl=*it+1;

        delete *it;


        for(; it!=pregledi+broj_pregleda-1; it++) {
            *it=*(it+1);
        }
        pregledi[--broj_pregleda] =nullptr;


    } while(true);
}
void Pregledi::IspisiPregledeNaDatum(const Datum&amp;datum) const
{
std::vector&lt;Pregled*&gt; novi(broj_pregleda);
for(int i=0;i&lt;broj_pregleda;i++) novi[i]=pregledi[i];
    sortiraj(novi);
    std::for_each(novi.begin(), novi.end(),  [datum](Pregled*p)-&gt;void {
        if(Uporedi(datum, p)) p-&gt;Ispisi();
    });
   for(int i=0;i&lt;broj_pregleda;i++) novi[i]=nullptr; 
}

void Pregledi::IspisiSvePreglede() const
{
    std::vector&lt;Pregled*&gt; novi(broj_pregleda);
for(int i=0;i&lt;broj_pregleda;i++) novi[i]=pregledi[i];
    sortiraj(novi);
    std::for_each(novi.begin(), novi.end(), [](Pregled *p) {
        p-&gt;Ispisi();
    });
    for(int i=0;i&lt;broj_pregleda;i++) novi[i]=nullptr;
}


int main ()
{
    try {
        std::cout&lt;&lt;"Unesite maksimalan broj pregleda: ";
        int n;
        std::cin&gt;&gt;n;
        int brojac(0);
        std::string ime;
        Pregledi bolnica(n);
        do {
            if(brojac==n) break;
<a name="9"></a><font color="#FF00FF"><a href="match528-1.html#9" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_0.gif"/></a>

            std::cout&lt;&lt;"Unesite ime novog pacijenta ili 'kraj' za zavrsetak unosa: ";

            std::cin.clear();
            std::cin.ignore(1000,'\n');

            std::getline(std::cin, ime);
</font>            if(ime==std::string("kraj"))  break;
            std::cout&lt;&lt;"Unesite dan mjesec i godinu pregleda: ";
            int dan, mjesec, godina;
            std::cin&gt;&gt;dan&gt;&gt;mjesec&gt;&gt;godina;
            std::cout&lt;&lt;"Unesite sate i minute pregleda: ";
            int sati, minute;
            std::cin&gt;&gt;sati&gt;&gt;minute;
            try {
                bolnica.RegistrirajPregled(ime, dan, mjesec, godina, sati, minute);
                brojac++;
<a name="5"></a><font color="#FF0000"><a href="match528-1.html#5" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_1.gif"/></a>

            } catch(std::domain_error iz) {
                std::cout&lt;&lt;iz.what()&lt;&lt;std::endl;
            } catch(std::logic_error iz) {
                std::cout&lt;&lt;iz.what()&lt;&lt;std::endl;
            } catch(std::range_error iz) {
</font>                std::cout&lt;&lt;iz.what()&lt;&lt;std::endl;
                break;
            }

        } while(ime!=std::string("kraj"));
        std::cout&lt;&lt;"Trenutno su registrovani sljedeci pregledi"&lt;&lt;std::endl;
        bolnica.IspisiSvePreglede();
        int opcija;
        do {
            std::cout&lt;&lt;std::endl&lt;&lt;"Odaberite jednu od sljedecih opcija"&lt;&lt;std::endl
                     &lt;&lt;"1 - Broj pregleda na datum"&lt;&lt;std::endl
                     &lt;&lt;"2 - Najraniji pregled"&lt;&lt;std::endl
                     &lt;&lt;"3 - Obrisi pregled pacijenta"&lt;&lt;std::endl
                     &lt;&lt;"4 - Obrisi najraniji pregled"&lt;&lt;std::endl
                     &lt;&lt;"5 - Ispisi sve pregleda na datum"&lt;&lt;std::endl
                     &lt;&lt;"6 - Ispisi sve preglede"&lt;&lt;std::endl
                     &lt;&lt;"7 - Kraj programa"&lt;&lt;std::endl;
           

            std::cin&gt;&gt;opcija;
            std::cin.clear();
            std::cin.ignore(1000,'\n');

            if(opcija==1 || opcija==5) {
                std::cout&lt;&lt;"Unesite dan mjesec i godinu : ";
                int dan, mjesec, godina;
                std::cin&gt;&gt;dan;
                std::cin&gt;&gt;mjesec;
                std::cin&gt;&gt;godina;

                std::cin.clear();
                std::cin.ignore(1000,'\n');

                Datum d(dan,mjesec,godina);
                //provjeriti je li treba provjera
                if(opcija==1) {
                    std::cout&lt;&lt;"Broj pregleda na datum "&lt;&lt;dan&lt;&lt;" "&lt;&lt;mjesec&lt;&lt;" "&lt;&lt;godina&lt;&lt;" je: "
                             &lt;&lt;bolnica.DajBrojPregledaNaDatum(d);
                    std::cout&lt;&lt;std::endl;
                } else if(opcija==5) {
                    std::cout&lt;&lt;"Pregledi na datum "
                             &lt;&lt;dan&lt;&lt;" "&lt;&lt;mjesec&lt;&lt;" "&lt;&lt;godina&lt;&lt;" su:"&lt;&lt;std::endl;
                    bolnica.IspisiPregledeNaDatum(d);
                }
<a name="10"></a><font color="#FF0000"><a href="match528-1.html#10" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_0.gif"/></a>

            } else if(opcija==2) {
                std::cout&lt;&lt;"Najraniji pregled je: "&lt;&lt;std::endl;
                bolnica.DajNajranijiPregled().Ispisi();
            } else if(opcija==3) {
                std::cout&lt;&lt;"Unesite ime pacijenta: ";
</font>                //  std::cin.clear();std::cin.ignore(1000,'\n');

                std::string ime1;
                std::getline(std::cin, ime1);
                int broj=bolnica.DajBrojPregleda();
                bolnica.ObrisiPregledePacijenta(ime1);
                if(broj&gt;bolnica.DajBrojPregleda())  std::cout&lt;&lt;"Uspjesno obrisano "&lt;&lt;broj-bolnica.DajBrojPregleda()&lt;&lt;" pregleda"&lt;&lt;std::endl;
            } else if(opcija==4) {
                try {
                    bolnica.ObrisiNajranijiPregled();
                    std::cout&lt;&lt;"Najraniji pregled uspjesno obrisan"&lt;&lt;std::endl;
                } catch(std::range_error iz) {
                    std::cout&lt;&lt;iz.what()&lt;&lt;std::endl;
                }
            } else if(opcija==6) {
                bolnica.IspisiSvePreglede();
            } else if(opcija==7) break;

        } while(opcija!=7);


    } catch(std::domain_error iz) {
        std::cout&lt;&lt;iz.what();
    }
    return 0;
}
</pre>
</body>
</html>
