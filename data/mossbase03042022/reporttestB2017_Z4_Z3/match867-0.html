<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z4/Z3/student1253.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z4/Z3/student1253.cpp<p></p><pre>
/B2017/2018: ZadaÄ‡a 4, Zadatak 3
#include &lt;iostream&gt;
#include &lt;stdexcept&gt;
#include &lt;cmath&gt;
#include &lt;tuple&gt;
#include &lt;utility&gt;
#include &lt;iomanip&gt;
#include &lt;string&gt;
#include &lt;algorithm&gt;
#include &lt;vector&gt;


class Datum
{
    int dan, mjesec, godina;
public:
    Datum(int dan, int mjesec, int godina);
    void Postavi(int dan, int mjesec, int godina);
    std::tuple&lt;int, int, int&gt; Ocitaj() const {
        std::tuple&lt;int, int, int&gt; t {dan, mjesec, godina};
        return t;
    }
    void Ispisi() const {
        std::cout&lt;&lt;dan&lt;&lt;"/"&lt;&lt;mjesec&lt;&lt;"/"&lt;&lt;godina;
    }
    friend class Pregled;
    friend class Pregledi;
};
Datum::Datum(int dan, int mjesec, int godina)
{
    int broj_dana[] {31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31};
    if((godina % 4 == 0) &amp;&amp; (godina % 100 != 0 || godina % 400 == 0)) broj_dana[1]++;
    if(godina &lt; 1 || mjesec &lt; 1 || mjesec &gt; 12 || dan &lt; 1 || dan &gt; broj_dana[mjesec - 1]) {
        throw std::domain_error("Neispravan datum!");
    }
    this-&gt;dan = dan;
    this-&gt;mjesec = mjesec;
    this-&gt;godina = godina;
}
void Datum::Postavi(int dan, int mjesec, int godina)
{
    int broj_dana[] {31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31};
    if((godina % 4 == 0) &amp;&amp; (godina % 100 != 0 || godina % 400 == 0)) broj_dana[1]++;
    if(godina &lt; 1 || mjesec &lt; 1 || mjesec &gt; 12 || dan &lt; 1 || dan &gt; broj_dana[mjesec - 1]) {
        throw std::domain_error("Neispravan datum!");
    }
    this-&gt;dan = dan;
    this-&gt;mjesec = mjesec;
    this-&gt;godina = godina;
}


class Vrijeme
{
    int sati, minute;
public:
    Vrijeme(int sati, int minute) {
        if(sati&lt;0 || sati&gt;23 || minute&lt;0 || minute&gt;59) throw std::domain_error("Neispravno vrijeme");
        this-&gt;sati = sati;
        this-&gt;minute = minute;
    }
    void Postavi(int sati, int minute) {
        if(sati&lt;0 || sati&gt;23 || minute&lt;0 || minute&gt;59) throw std::domain_error("Neispravno vrijeme");
        this-&gt;sati = sati;
        this-&gt;minute = minute;
    }
    std::pair&lt;int, int&gt; Ocitaj () const {
        std::pair&lt;int, int&gt; p;
        p.first = sati;
        p.second = minute;
        return p;
    }
    void Ispisi() const {
        std::cout&lt;&lt;std::right&lt;&lt;std::setfill('0')&lt;&lt;std::setw(2)&lt;&lt;sati&lt;&lt;":"&lt;&lt;std::setfill('0')&lt;&lt;std::setw(2)&lt;&lt;minute;
        std::cout&lt;&lt;std::setfill(' ');
    }
    friend class Pregled;
    friend class Pregledi;
};


class Pregled
{
    std::string ime_pacijenta;
    Datum datum_pregleda;
    Vrijeme vrijeme_pregleda;

public:
    Pregled(const std::string &amp;ime_pacijenta, const Datum &amp;datum_pregleda,
            const Vrijeme &amp;vrijeme_pregleda) : ime_pacijenta(ime_pacijenta), datum_pregleda(datum_pregleda), vrijeme_pregleda(vrijeme_pregleda) {};
    Pregled(const std::string &amp;ime_pacijenta, int dan_pregleda, int mjesec_pregleda, int godina_pregleda, int sati_pregleda,
            int minute_pregleda) : ime_pacijenta(ime_pacijenta), datum_pregleda(dan_pregleda, mjesec_pregleda, godina_pregleda),
        vrijeme_pregleda(sati_pregleda, minute_pregleda) {};
    void PromijeniPacijenta(const std::string &amp;ime_pacijenta) {
        this-&gt;ime_pacijenta = ime_pacijenta;
    };
    void PromijeniDatum(const Datum &amp;novi_datum) {
        this-&gt;datum_pregleda = novi_datum;
    };
    void PromijeniVrijeme(const Vrijeme &amp;novo_vrijeme) {
        this-&gt;vrijeme_pregleda = novo_vrijeme;
    };
    void PomjeriDanUnaprijed();
    void PomjeriDanUnazad();
    std::string DajImePacijenta() const {
        return ime_pacijenta;
    }
    Datum DajDatumPregleda() const {
        return datum_pregleda;
    }
    Vrijeme DajVrijemePregleda() const {
        return vrijeme_pregleda;
    }
    static bool DolaziPrije(const Pregled &amp;p1, const Pregled &amp;p2) {
        if(p1.datum_pregleda.godina &lt; p2.datum_pregleda.godina) return true;
        else if(p1.datum_pregleda.godina == p2.datum_pregleda.godina) {
            if(p1.datum_pregleda.mjesec &lt; p2.datum_pregleda.mjesec) return true;
            else if(p1.datum_pregleda.mjesec == p2.datum_pregleda.mjesec) {
                if(p1.datum_pregleda.dan &lt; p2.datum_pregleda.dan) return true;
                else if(p1.datum_pregleda.dan == p2.datum_pregleda.dan) {
                    if(p1.vrijeme_pregleda.sati &lt; p2.vrijeme_pregleda.sati) return true;
                    else if(p1.vrijeme_pregleda.sati == p2.vrijeme_pregleda.sati) {
                        if(p1.vrijeme_pregleda.minute &lt; p2.vrijeme_pregleda.minute) return true;
                    } else return false;
                } else return false;
            } else return false;
        } else return false;
        return false;
    }
    void Ispisi() const;
    friend class Pregledi;
};


void Pregled::PomjeriDanUnaprijed()
{
    datum_pregleda.dan++;
<a name="5"></a><font color="#FF0000"><a href="match867-1.html#5" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_0.gif"/></a>

    int broj_dana[] {31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31};
</font>    if((datum_pregleda.godina % 4 == 0) &amp;&amp; (datum_pregleda.godina % 100 != 0 || datum_pregleda.godina % 400 == 0)) broj_dana[1]++;
    if(datum_pregleda.dan &gt; broj_dana[datum_pregleda.mjesec - 1]) {
        datum_pregleda.dan = 1;
        datum_pregleda.mjesec++;
        if(datum_pregleda.mjesec &gt; 12) {
            datum_pregleda.mjesec = 1;
            datum_pregleda.godina++;
        }
    }
}
void Pregled::PomjeriDanUnazad()
{
    datum_pregleda.dan--;
    int broj_dana[] {31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31};
    if((datum_pregleda.godina % 4 == 0) &amp;&amp; (datum_pregleda.godina % 100 != 0 || datum_pregleda.godina % 400 == 0)) broj_dana[1]++;
    if(datum_pregleda.dan &lt; 0) {
        int prethodni_mjesec(datum_pregleda.mjesec-1);
        if(prethodni_mjesec&lt;=0) {
            prethodni_mjesec = 12;
            datum_pregleda.godina--;
        }
        datum_pregleda.dan = broj_dana[prethodni_mjesec-1];
        datum_pregleda.mjesec--;
    }
}


void Pregled::Ispisi() const
{
<a name="3"></a><font color="#00FFFF"><a href="match867-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_0.gif"/></a>

    std::cout&lt;&lt;std::left&lt;&lt;std::setw(30)&lt;&lt;ime_pacijenta;
    datum_pregleda.Ispisi();
    std::cout&lt;&lt;" ";
    vrijeme_pregleda.Ispisi();
    std::cout&lt;&lt;std::endl;
</font>}

class Pregledi
{
    const int max_broj_pregleda;
    int broj_pregleda;
    Pregled **p;

public:
    explicit Pregledi(int max_broj_pregleda) : max_broj_pregleda(max_broj_pregleda), broj_pregleda(0), p(new Pregled*[max_broj_pregleda] {}) {}
    Pregledi(std::initializer_list&lt;Pregled&gt; spisak_pregleda);
    ~Pregledi();
    Pregledi(const Pregledi &amp;pregledi);
    Pregledi(Pregledi &amp;&amp;pregledi);
    Pregledi &amp;operator =(const Pregledi &amp;pregledi);
    Pregledi &amp;operator =(Pregledi &amp;&amp;pregledi);
    void RegistrirajPregled(const std::string &amp;ime_pacijenta,
                            const Datum &amp;datum_pregleda, const Vrijeme &amp;vrijeme_pregleda);
    void RegistrirajPregled(const std::string &amp;ime_pacijenta, int dan_pregleda,
                            int mjesec_pregleda, int godina_pregleda, int sati_pregleda,
                            int minute_pregleda);
    void RegistrirajPregled(Pregled *pregled);
    int DajBrojPregleda() const {
        return broj_pregleda;
    }
    int DajBrojPregledaNaDatum(const Datum &amp;datum) const;
    Pregled &amp;DajNajranijiPregled();
    Pregled DajNajranijiPregled() const;
    void IsprazniKolekciju();
    void ObrisiNajranijiPregled();
    void ObrisiPregledePacijenta(const std::string &amp;ime_pacijenta);
    void IspisiPregledeNaDatum(const Datum &amp;datum) const;
<a name="6"></a><font color="#00FF00"><a href="match867-1.html#6" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_0.gif"/></a>

    void IspisiSvePreglede() const;
};

Pregledi::Pregledi(std::initializer_list&lt;Pregled&gt; spisak_pregleda) : max_broj_pregleda(spisak_pregleda.size()), broj_pregleda(spisak_pregleda.size()),
        p(new Pregled*[spisak_pregleda.size()] {})
</font>{
    try {
        auto it(spisak_pregleda.begin());
        for(int i=0; i&lt;broj_pregleda &amp;&amp; it!=spisak_pregleda.end(); i++) {
            p[i] = new Pregled(*it);
            it++;
        }
    } catch(...) {
        for(int i=0; i&lt;broj_pregleda; i++) delete p[i];
        delete[] p;
        broj_pregleda = 0;
        throw;
    }
}

Pregledi::~Pregledi()
{
    for(int i=0; i&lt;broj_pregleda; i++) delete p[i];
    delete[] p;
}
Pregledi::Pregledi(const Pregledi &amp;pregledi) : max_broj_pregleda(pregledi.max_broj_pregleda), broj_pregleda(pregledi.broj_pregleda), 
        p(new Pregled*[pregledi.max_broj_pregleda] {})
{
    try {
        for(int i=0; i&lt;broj_pregleda; i++) {
            p[i] = new Pregled(*pregledi.p[i]);
        }
    } catch(...) {
        for(int i=0; i&lt;broj_pregleda; i++) delete p[i];
        delete[] p;
        broj_pregleda = 0;
        throw;
    }
}
<a name="2"></a><font color="#0000FF"><a href="match867-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_1.gif"/></a>

Pregledi::Pregledi(Pregledi &amp;&amp;pregledi) : max_broj_pregleda(pregledi.max_broj_pregleda), broj_pregleda(pregledi.broj_pregleda), p(pregledi.p)
{
    pregledi.p = nullptr;
    pregledi.broj_pregleda = 0;
}

Pregledi &amp;Pregledi::operator =(const Pregledi &amp;pregledi)
{
    if(max_broj_pregleda != pregledi.max_broj_pregleda) throw std::logic_error("Nesagalsni kapaciteti pregleda");
</font>    if(broj_pregleda &lt; pregledi.broj_pregleda) {
        try {
<a name="0"></a><font color="#FF0000"><a href="match867-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_5.gif"/></a>

            for(int i=broj_pregleda; i&lt;pregledi.broj_pregleda; i++) {
                p[i] = new Pregled(*pregledi.p[i]);
            }
        } catch(...) {
            for(int i=broj_pregleda; i&lt;pregledi.broj_pregleda; i++)  {
                delete p[i];
                p[i] = nullptr;
            }
            throw;
        }
    } else {
        for(int i=pregledi.broj_pregleda; i&lt;broj_pregleda; i++) {
            delete p[i];
            p[i] = nullptr;
        }
    }
    broj_pregleda = pregledi.broj_pregleda;
    for(int i=0; i&lt;broj_pregleda; i++) *p[i] = *pregledi.p[i];
    return *this;
}

Pregledi &amp;Pregledi::operator =(Pregledi &amp;&amp;pregledi)
{
    if(max_broj_pregleda != pregledi.max_broj_pregleda) throw std::logic_error("Nesagalsni kapaciteti pregleda");
    std::swap(broj_pregleda, pregledi.broj_pregleda);
    std::swap(p, pregledi.p);
    return *this;
}

void Pregledi::RegistrirajPregled(const std::string &amp;ime_pacijenta, const Datum &amp;datum_pregleda, const Vrijeme &amp;vrijeme_pregleda)
</font>{
    if(broj_pregleda==max_broj_pregleda) throw std::range_error("Dostignut maksimalni broj pregleda");
    Pregled *novi(nullptr);
    try {
        novi = new Pregled(ime_pacijenta, datum_pregleda, vrijeme_pregleda);
        p[broj_pregleda] = novi;
        novi = nullptr;
        broj_pregleda++;
    } catch(...) {
        delete novi;
        throw;
    }
}

void Pregledi::RegistrirajPregled(const std::string &amp;ime_pacijenta, int dan_pregleda, int mjesec_pregleda, int godina_pregleda,
                                  int sati_pregleda, int minute_pregleda)
{
    if(broj_pregleda==max_broj_pregleda) throw std::range_error("Dostignut maksimalni broj pregleda");
    Pregled *novi(nullptr);
    try {
        novi = new Pregled(ime_pacijenta, dan_pregleda, mjesec_pregleda, godina_pregleda, sati_pregleda, minute_pregleda);
        p[broj_pregleda] = novi;
        novi =nullptr;
        broj_pregleda++;
    } catch(...) {
        delete novi;
        throw;
    }
}
void Pregledi::RegistrirajPregled(Pregled *pregled)
{
    if(broj_pregleda==max_broj_pregleda) {
        delete p;
        throw std::range_error("Dostignut maksimalni broj pregleda");
    }
    Pregled *novi(nullptr);
    try {
        novi = new Pregled(*pregled);
        p[broj_pregleda] = novi;
        broj_pregleda++;
    } catch(...) {
        delete novi;
        throw;
    }
}

int Pregledi::DajBrojPregledaNaDatum(const Datum &amp;datum) const
{
    int brojac(0);
    brojac = std::count_if(p, p+broj_pregleda, [datum](const Pregled *p1) {
        if(p1-&gt;datum_pregleda.godina != datum.godina) return false;
        if(p1-&gt;datum_pregleda.mjesec != datum.mjesec) return false;
        if(p1-&gt;datum_pregleda.dan != datum.dan) return false;
        return true;
    });
    return brojac;
}

Pregled &amp;Pregledi::DajNajranijiPregled()
{
    if(broj_pregleda==0) throw std::domain_error("Nema registriranih pregleda");
<a name="4"></a><font color="#FF00FF"><a href="match867-1.html#4" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_0.gif"/></a>

    auto it (std::min_element(p, p+broj_pregleda, [](const Pregled *p1, const Pregled *p2) {
        return Pregled::DolaziPrije(*p1, *p2);
    }) );
    return **it;
}
Pregled Pregledi::DajNajranijiPregled() const
{
    if(broj_pregleda==0) throw std::domain_error("Nema registriranih pregleda");
    auto it (std::min_element(p, p+broj_pregleda, [](const Pregled *p1, const Pregled *p2) {
</font>        return Pregled::DolaziPrije(*p1, *p2);
    }) );
    return **it;
}

void Pregledi::IsprazniKolekciju()
{
    for(int i=0; i&lt;broj_pregleda; i++) {
        delete p[i];
        p[i] = nullptr;
    }
    broj_pregleda = 0;
}

void Pregledi::ObrisiNajranijiPregled()
{
    if(broj_pregleda==0) throw std::range_error("Prazna kolekcija");
    Pregled *pok(&amp;(this-&gt;DajNajranijiPregled()));

    for(int i=0; i&lt;broj_pregleda; i++) {
        if(p[i] == pok) {
            delete p[i];
            for(int j=i; j&lt;broj_pregleda-1; j++) {
                p[j] = p[j+1];
            }
            p[broj_pregleda-1] = nullptr;
            broj_pregleda--;
            break;
        }
    }
}

<a name="1"></a><font color="#00FF00"><a href="match867-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_1.gif"/></a>

void Pregledi::ObrisiPregledePacijenta(const std::string &amp;ime_pacijenta)
{
    for(int i=0; i&lt;broj_pregleda; i++) {
        if(p[i]-&gt;DajImePacijenta() == ime_pacijenta) {
            delete p[i];
            for(int j=i; j&lt;broj_pregleda-1; j++) {
                p[j] = p[j+1];
</font>            }
            p[broj_pregleda-1] = nullptr;
            i--;
            broj_pregleda--;
        }
    }
}

void Pregledi::IspisiPregledeNaDatum(const Datum &amp;datum) const
{
    
    std::vector&lt;bool&gt; ispisani(broj_pregleda, false);
    bool temp(true);
    int min(0);
    for(int i=0; i&lt;broj_pregleda &amp;&amp; !ispisani.at(i); i++) {
        min = i;
        temp = true;
        for(int j=0; j&lt;broj_pregleda &amp;&amp; !ispisani.at(j); j++) {
            if(j!=i) {
                if(!Pregled::DolaziPrije(*p[i], *p[j])) {
                    temp = false;
                    if(Pregled::DolaziPrije(*p[j], *p[min])) min =j;
                }
            }
        }
        if(temp &amp;&amp; !ispisani.at(i)) {
            if(p[i]-&gt;datum_pregleda.godina == datum.godina) {
                if(p[i]-&gt;datum_pregleda.mjesec == datum.mjesec) {
                    if(p[i]-&gt;datum_pregleda.dan == datum.dan) {
                        p[i]-&gt;Ispisi();
                    }
                }
            }
            ispisani.at(i) = true;
        } else if(!temp) {
            if(p[min]-&gt;datum_pregleda.godina == datum.godina) {
                if(p[min]-&gt;datum_pregleda.mjesec == datum.mjesec) {
                    if(p[min]-&gt;datum_pregleda.dan == datum.dan) {
                        p[min]-&gt;Ispisi();
                    }
                }
            }
            ispisani.at(i) = true;
        }
    }
    
}

void Pregledi::IspisiSvePreglede() const
{
    std::vector&lt;bool&gt; ispisani(broj_pregleda, false);
    bool temp(true);
    int min(0);
    for(int i=0; i&lt;broj_pregleda &amp;&amp; !ispisani.at(i); i++) {
        min = i;
        temp = true;
        for(int j=0; j&lt;broj_pregleda &amp;&amp; !ispisani.at(j); j++) {
            if(j!=i) {
                if(!Pregled::DolaziPrije(*p[i], *p[j])) {
                    temp = false;
                    if(Pregled::DolaziPrije(*p[j], *p[min])) min =j;
                }
            }
        }
        if(temp &amp;&amp; !ispisani.at(i)) {
            p[i]-&gt;Ispisi();
            ispisani.at(i) = true;
        } else if(!temp) {
            p[min]-&gt;Ispisi();
            ispisani.at(min) = true;
        }
    }
}

int main ()
{ 
    try {
        std::cout&lt;&lt;"Unesite maksimalan broj pregleda: ";
        int max;
        for(;;) {
            std::cin&gt;&gt;max;
            if(std::cin &amp;&amp; max&gt;0) break;
            else {
                std::cin.clear();
                std::cin.ignore(10000, '\n');
                std::cout&lt;&lt;"Neispravan broj pregleda, unesite ponovo!\n";
            }
        }
        Pregledi pregledi(max);
        std::cin.ignore(10000, '\n');
        for(int i=0; i&lt;max; i++) {
            std::cout&lt;&lt;"Unesite ime novog pacijenta ili 'kraj' za zavrsetak unosa: ";
            std::string ime;
            std::getline(std::cin, ime);
            if(std::cin &amp;&amp; ime!=std::string("kraj")) {
                std::cout&lt;&lt;"Unesite dan mjesec i godinu pregleda: ";
                int dan, mjesec, godina;
                std::cin&gt;&gt;dan&gt;&gt;mjesec&gt;&gt;godina;
                if(std::cin) {
                    std::cout&lt;&lt;"Unesite sate i minute pregleda: ";
                    int h,m;
                    std::cin&gt;&gt;h&gt;&gt;m;
                    if(std::cin) {
                        Pregled *p(nullptr);
                        try {
                            p = new Pregled(ime, dan, mjesec, godina, h, m);
                        } catch(std::domain_error izuzetak) {
                            delete p;
                            p = nullptr;
                            std::cout&lt;&lt;izuzetak.what()&lt;&lt;std::endl;
                            i--;
                        } catch(...) {
                            delete p;
                            p = nullptr;
                            throw;
                        }
                        pregledi.RegistrirajPregled(p);
                    } else {
                        std::cin.clear();
                        std::cin.ignore(10000, '\n');
                        std::cout&lt;&lt;"Neispravno vrijeme!"&lt;&lt;std::endl;
                    }
                } else {
                    std::cin.clear();
                    std::cin.ignore(10000, '\n');
                    std::cout&lt;&lt;"Neispravan datum!"&lt;&lt;std::endl;
                    i--;
                }

            } else if(ime==std::string("kraj")) break;
            else {
                std::cin.clear();
                std::cin.ignore(10000, '\n');
                std::cout&lt;&lt;"Neispravni podaci"&lt;&lt;std::endl;
                i--;
            }
            std::cin.ignore(10000, '\n');
        }
        std::cout&lt;&lt;"Trenutno su registrovani sljedeci pregledi:\n";
        //std::cout&lt;&lt;" "&lt;&lt;pregledi.DajBrojPregleda();
        pregledi.IspisiSvePreglede();
        bool kraj(false);
        while(!kraj) {
            std::cout&lt;&lt;"\nOdaberite jednu od sljedecih opcija\n";
            std::cout&lt;&lt;"1 - Broj pregleda na datum\n2 - Najraniji pregled\n3 - Obrisi pregled pacijenta\n4 - Obrisi najraniji pregled"&lt;&lt;std::endl;
            std::cout&lt;&lt;"5 - Ispisi sve pregleda na datum\n6 - Ispisi sve preglede\n7 - Kraj programa"&lt;&lt;std::endl;
            int opcija;
            std::cin&gt;&gt;opcija;
            switch(opcija) {
            case 1: {
                std::cout&lt;&lt;"Unesite dan mjesec i godinu : ";
                int d, m, g;
                std::cin&gt;&gt;d&gt;&gt;m&gt;&gt;g;
                if(std::cin) {
                    int broj(pregledi.DajBrojPregledaNaDatum(Datum(d, m, g)));
<a name="7"></a><font color="#0000FF"><a href="match867-1.html#7" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_0.gif"/></a>

                    std::cout&lt;&lt;"Broj pregleda na datum "&lt;&lt;d&lt;&lt;" "&lt;&lt;m&lt;&lt;" "&lt;&lt;g&lt;&lt;" je: "&lt;&lt;broj&lt;&lt;std::endl;
</font><a name="7"></a><font color="#0000FF"><a href="match867-1.html#7" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_0.gif"/></a>

                } else {
</font>                    std::cin.clear();
                    std::cin.ignore(10000, '\n');
                    std::cout&lt;&lt;"Neispravan datum!"&lt;&lt;std::endl;
                }
            }
            break;
            case 2: {
                std::cout&lt;&lt;"Najraniji pregled je:\n";
                Pregled x(pregledi.DajNajranijiPregled());
                x.Ispisi();
            }
            break;
            case 3: {
                std::cin.ignore(10000, '\n');
                std::cout&lt;&lt;"Unesite ime pacijenta: ";
                std::string ime;
                std::getline(std::cin, ime);
                int prije(pregledi.DajBrojPregleda());
                pregledi.ObrisiPregledePacijenta(ime);
                int poslije(pregledi.DajBrojPregleda());
                int obrisano(prije-poslije);
                std::cout&lt;&lt;"Uspjesno obrisano "&lt;&lt;obrisano&lt;&lt;" pregleda"&lt;&lt;std::endl;
            }
            break;
            case 4: {
                pregledi.ObrisiNajranijiPregled();
                std::cout&lt;&lt;"Najraniji pregled uspjesno obrisan"&lt;&lt;std::endl;
            }
            break;
            case 5: {
                std::cout&lt;&lt;"Unesite dan mjesec i godinu : ";
                int d, m, g;
                std::cin&gt;&gt;d&gt;&gt;m&gt;&gt;g;
                if(std::cin) {
                    std::cout&lt;&lt;"Pregledi na datum "&lt;&lt;d&lt;&lt;" "&lt;&lt;m&lt;&lt;" "&lt;&lt;g&lt;&lt;" su:"&lt;&lt;std::endl;
                    pregledi.IspisiPregledeNaDatum(Datum(d, m, g));
                } else {
                    std::cin.clear();
                    std::cin.ignore(10000, '\n');
                    std::cout&lt;&lt;"Neispravan datum!"&lt;&lt;std::endl;
                }
            }
            break;
            case 6: {
                pregledi.IspisiSvePreglede();
            }
            break;
            case 7: {
                kraj = true;
            }
            break;
            default: {
                kraj = true;
            }
            }
        }
    } catch(...) {
        std::cout&lt;&lt;"Doslo je do greske!"&lt;&lt;std::endl;
    }
    
    return 0;
}
</pre>
</body>
</html>
