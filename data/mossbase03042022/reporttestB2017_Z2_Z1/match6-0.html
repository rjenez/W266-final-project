<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z2/Z1/student3732.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z2/Z1/student3732.cpp<p></p><pre>
/*B 2017/2018, ZadaÄ‡a 2, Zadatak 1
	
	NAPOMENA: ulaz/izlaz za zadatke je specificiran
	javnim autotestovima. Zalbe za ne analiziranje testova
	se ne uvazavaju!
	
	NAPOMENA: nece svi (javni) testovi sa zamgera biti 
	dostupni na c9.

	Za sva ostala pitanja i nedoumice vezane za 
	autotestove javiti se na forum (c2).
*/
#include &lt;iostream&gt;
#include &lt;vector&gt;
#include &lt;stdexcept&gt;
#include &lt;string&gt;
#include &lt;sstream&gt;

enum class Polje{
	Prazno,Posjeceno,Mina,BlokiranoPrazno,BlokiranoPosjeceno,BlokiranoMina
};
enum class Smjerovi{
	GoreLijevo,Gore,GoreDesno,Desno,DoljeDesno,Dolje,DoljeLijevo,Lijevo
};
enum class Status{
	NijeKraj,KrajPoraz,KrajPobjeda
};
enum class KodoviGresaka{
	PogresnaKomanda,NedostajeParametar,SuvisanParametar,NeispravanParametar
};
enum class Komande{
	PomjeriJednoMjesto,PomjeriDalje,Blokiraj,Deblokiraj,PrikaziOkolinu,ZavrsiIgru,KreirajIgru
};


<a name="2"></a><font color="#0000FF"><a href="match6-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_12.gif"/></a>

typedef std::vector&lt;std::vector&lt;Polje&gt;&gt; Tabla;
/*void ispisiTablu(std::vector&lt;std::vector&lt;Polje&gt;&gt; polja){
   for(int i = 0; i &lt; polja.size(); i++) {
          for(int j = 0; j &lt; polja[i].size(); j++) std::cout &lt;&lt; int(polja[i][j]) &lt;&lt; " ";
          std::cout &lt;&lt; std::endl;
        }
}*/


Tabla KreirajIgru(int n,const std::vector&lt;std::vector&lt;int&gt;&gt; &amp;mine){
	Tabla podloga;
/*	std::cout&lt;&lt;"HALOOO"&lt;&lt;std::endl;*/
//	std::cout&lt;&lt;mine.size();
	/*for(int i=0;i&lt;mine.size();i++){
		for(int j=0;j&lt;mine[i].size();j++){
			std::cout&lt;&lt;mine[i][j]&lt;&lt;" ";
		}
		std::cout&lt;&lt;std::endl;
	}*/
	if(n&lt;=0) throw std::domain_error("Ilegalna velicina\n");
	for(int i=0;i&lt;mine.size();i++){
		for(int j=0;j&lt;mine[i].size();j++){
			if(mine[i][j]&gt;n) throw std::domain_error("Ilegalne pozicije mina\n");
			else if(mine[i].size()!=2) throw std::domain_error("Ilegalan format zadavanja mina\n");
		}
	}
	podloga.resize(n);
	for(int i=0;i&lt;n;i++) podloga[i].resize(n);
	for(int i=0;i&lt;mine.size();i++){
			podloga[mine[i][0]][mine[i][1]]=Polje::Mina;
		}
	for(int i=0;i&lt;n;i++){
		for(int j=0;j&lt;podloga[i].size();j++){
			if(podloga[i][j]!=Polje::Mina) podloga[i][j]=Polje::Prazno;
		}
	}
	return podloga;
}
template&lt;typename T&gt; 
std::string PretvoriUString(T x){
	std::ostringstream s; s&lt;&lt;x; 
	return s.str();
}
int PomocnaZa_Okolinu(const Tabla &amp;podloga,int x,int y){
	int br(0);
	int z=x-1;
	int k=y-1;
	if(z&lt;0) z=0;
	if(k&lt;0) k=0;
	int dokle1(x+1),dokle2(y+1);
	if(dokle1&gt;=podloga.size()) dokle1=podloga.size()-1;
	if(dokle2&gt;=podloga[0].size()) dokle2=podloga[0].size()-1;
	for(int i=z;i&lt;=dokle1;i++){
		for(int j=k;j&lt;=dokle2;j++){
			if(podloga[i][j]==Polje::Mina) br++;
		}
	}
	if(podloga[x][y]==Polje::Mina) br--;
	return br;
}

std::vector&lt;std::vector&lt;int&gt;&gt; PrikaziOkolinu(const Tabla &amp;polje,int x,int y){
	std::vector&lt;std::vector&lt;int&gt;&gt; matrica;
	matrica.resize(3);
	int m(0);
	std::cout&lt;&lt;"OVDJE JE X :   "&lt;&lt;x&lt;&lt;std::endl;
	if(x&gt;=polje.size() || y&gt;=polje[0].size()){ std::string s="Polje ("+PretvoriUString(x)+","+PretvoriUString(y)+") ne postoji\n"; throw std::domain_error(s); }
				int z(x-1);
				int k(y-1);
				if(k&lt;0) k=0;
				if(z&lt;0) z=0;
				int dokle1(x+1);
				int dokle2(y+1);
				if((x+1)&gt;=polje.size()) dokle1=polje.size()-1;
				if(dokle2&gt;=polje[0].size()) dokle2=polje[0].size()-1;
				for(int n=z;n&lt;=dokle1;n++){
					for(int l=k;l&lt;=dokle2;l++){
				matrica[m].push_back(PomocnaZa_Okolinu(polje,n,l));
			}
			m++;
		}
return matrica;
}
void BlokirajPolje(Tabla &amp;polja,int x,int y){
	
	if(x&gt;=polja.size() || y&gt;=polja[0].size()){std::string s="Polje ("+PretvoriUString(x)+","+PretvoriUString(y)+") ne postoji\n"; throw std::domain_error(s);}
	if(polja[x][y]==Polje::Prazno) polja[x][y]=Polje::BlokiranoPrazno;
	else if(polja[x][y]==Polje::Mina) polja[x][y]=Polje::BlokiranoMina;
</font><a name="3"></a><font color="#00FFFF"><a href="match6-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_1.gif"/></a>

	else if(polja[x][y]==Polje::Posjeceno) polja[x][y]=Polje::BlokiranoPosjeceno;
}

void DeblokirajPolje(Tabla &amp;polja,int x,int y){
	if(x&gt;=polja.size() || y&gt;=polja[0].size()){std::string s="Polje ("+PretvoriUString(x)+","+PretvoriUString(y)+") ne postoji"; throw std::domain_error(s);}
	if(polja[x][y]==Polje::BlokiranoPrazno) polja[x][y]=Polje::Prazno;
	else if(polja[x][y]==Polje::BlokiranoMina) polja[x][y]=Polje::Mina;
</font><a name="1"></a><font color="#00FF00"><a href="match6-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_24.gif"/></a>

	else if(polja[x][y]==Polje::BlokiranoPosjeceno) polja[x][y]=Polje::Posjeceno;
}

Status Idi(Tabla &amp;polja,int &amp;x,int &amp;y,Smjerovi smjer){
	int a(0);
	bool b=true;
	if(smjer==Smjerovi::Gore){ if((x-1)&lt;0) throw std::out_of_range("Izlazak van igrace table\n");
	  else if(polja[x-1][y]==Polje::BlokiranoPosjeceno || polja[x-1][y]==Polje::BlokiranoPrazno || polja[x-1][y]==Polje::BlokiranoMina) throw std::logic_error("Blokirano polje");
	  polja[x][y]=Polje::Posjeceno;
	  if(polja[x-1][y]==Polje::Mina) a=1;
	  x=x-1;
	}
	if(smjer==Smjerovi::GoreLijevo){
	if(((x-1)&lt;0) || ((y-1)&lt;0)) throw std::out_of_range("Izlazak van igrace table\n");
	else if(polja[x-1][y-1]==Polje::BlokiranoPosjeceno || polja[x-1][y-1]==Polje::BlokiranoPrazno || polja[x-1][y-1]==Polje::BlokiranoMina) throw std::logic_error("Blokriano polje\n");
	polja[x][y]=Polje::Posjeceno;
	if(polja[x-1][y-1]==Polje::Mina) a=1;
	x=x-1;
	y=y-1;
	}
	if(smjer==Smjerovi::GoreDesno){
		if(((x-1)&lt;0) || ((y+1)&gt;polja.size())) throw std::out_of_range("Izlazak van igrace table\n");
	else if(polja[x-1][y+1]==Polje::BlokiranoPosjeceno || polja[x-1][y+1]==Polje::BlokiranoPrazno || polja[x-1][y+1]==Polje::BlokiranoMina) throw std::logic_error("Blokriano polje\n");
	polja[x][y]=Polje::Posjeceno;
	if(polja[x-1][y+1]==Polje::Mina) a=1;
	x=x-1;
	y=y+1;
	}
	if(smjer==Smjerovi::Lijevo){
		if((y-1)&lt;0) throw std::out_of_range("Izlazak van igrace table\n");
		else if(polja[x][y-1]==Polje::BlokiranoPosjeceno || polja[x][y-1]==Polje::BlokiranoPrazno || polja[x][y-1]==Polje::BlokiranoMina) throw std::logic_error("Blokirano polje");
	polja[x][y]=Polje::Posjeceno;
	if(polja[x][y-1]==Polje::Mina) a=1;
	y=y-1;
	}
	if(smjer==Smjerovi::Desno){
		if((y+1)&gt;polja.size()) throw std::out_of_range("Izlazak van igrace table\n");
		else if(polja[x][y+1]==Polje::BlokiranoPosjeceno || polja[x][y+1]==Polje::BlokiranoPrazno || polja[x][y+1]==Polje::BlokiranoMina) throw std::logic_error("Blokirano polje\n");
		polja[x][y]=Polje::Posjeceno;
		if(polja[x][y+1]==Polje::Mina) a=1;
		y=y+1;
	}
	if(smjer==Smjerovi::Dolje){
		if((x+1)&gt;polja.size()){ throw std::out_of_range("Izlazak van igrace table\n");}
		else if (polja[x+1][y]==Polje::BlokiranoPosjeceno || polja[x+1][y]==Polje::BlokiranoPrazno || polja[x+1][y]==Polje::BlokiranoMina) throw std::logic_error("Blokirano polje\n");
	polja[x][y]=Polje::Posjeceno;
	if(polja[x+1][y]==Polje::Mina) a=1;
	x+=1;
	}
	if(smjer==Smjerovi::DoljeLijevo){
		if(((x+1)&gt;polja.size()) || ((y-1)&lt;0)) throw std::out_of_range("Izlazak van igrace table\n");
		else if(polja[x+1][y-1]==Polje::BlokiranoPosjeceno || polja[x+1][y-1]==Polje::BlokiranoPrazno || polja[x+1][y-1]==Polje::BlokiranoMina) throw std::logic_error("Blokirano polje\n");
	polja[x][y]=Polje::Posjeceno;
	if(polja[x+1][y-1]==Polje::Mina) a=1;
	x=x+1;
	y=y-1;
	}
	if(smjer==Smjerovi::DoljeDesno){
		if(((x+1)&gt;polja.size()) ||((y+1)&gt;polja.size())) throw std::out_of_range("Izlazak van igrace table\n");
		else if(polja[x+1][y+1]==Polje::BlokiranoPosjeceno || polja[x+1][y+1]==Polje::BlokiranoPrazno || polja[x+1][y+1]==Polje::BlokiranoMina) throw std::logic_error("Blokirano polje\n");
	polja[x][y]=Polje::Posjeceno;
	if(polja[x+1][y+1]==Polje::Mina) a=1;
	x=x+1;
	y=y+1;
	}
	for(int i=0;i&lt;polja.size();i++){
		for(int j=0;j&lt;polja[i].size();j++){
			if(polja[i][j]==Polje::Prazno) b=false;
		}
	}
	if(a==1){
		for(int i=0;i&lt;polja.size();i++){
			for(int j=0;j&lt;polja[i].size();j++){
				polja[i][j]=Polje::Prazno;
			}
		}
		return Status::KrajPoraz;
	}
	if(b){
		return Status::KrajPobjeda;
	}
	return Status::NijeKraj;
}

Status Idi(Tabla &amp;polja,int &amp;x,int &amp;y,int novi_x,int novi_y){
	int a(0);
	bool b(true);
		
	if((novi_x-x)&lt;0 || (novi_x-x)&gt;polja.size() || (novi_y-y)&lt;0 || (novi_y-y)&gt;polja.size()) throw std::out_of_range("Izlazak van igrace table\n");
	else if(polja[novi_x][novi_y]==Polje::BlokiranoPosjeceno || polja[novi_x][novi_y]==Polje::BlokiranoPrazno || polja[novi_x][novi_y]==Polje::BlokiranoMina) throw std::logic_error("Blokirano polje\n");
	polja[x][y]=Polje::Posjeceno;
	   x=novi_x;
	   y=novi_y;
    if(polja[novi_x][novi_y]==Polje::Mina) a=1;
    for(int i=0;i&lt;polja.size();i++){
    	for(int j=0;j&lt;polja[i].size();j++){
    		if(polja[i][j]==Polje::Prazno) b=false;
    	}
    }
    if(a==1){
    	for(int i=0;i&lt;polja.size();i++){
    		for(int j=0;j&lt;polja[i].size();j++){
    			polja[i][j]=Polje::Prazno;
    		}
    	}
    	return Status::KrajPoraz;
    }
    if(b){
    	return Status::KrajPobjeda;
    }
    return Status::NijeKraj;

}
void PrijaviGresku(KodoviGresaka greska){
	
	if(greska==KodoviGresaka::PogresnaKomanda) std::cout&lt;&lt;"Nerazumljiva komanda!"&lt;&lt;std::endl;
	else if(greska==KodoviGresaka::NedostajeParametar) std::cout&lt;&lt;"Komanda trazi parametar koji nije naveden!"&lt;&lt;std::endl;
</font><a name="0"></a><font color="#FF0000"><a href="match6-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_57.gif"/></a>

	else if(greska==KodoviGresaka::NeispravanParametar) std::cout&lt;&lt;"Parametar komande nije ispravan!"&lt;&lt;std::endl;
	else if(greska==KodoviGresaka::SuvisanParametar) std::cout&lt;&lt;"Zadan je suvisan parametar nakon komande!"&lt;&lt;std::endl;
	
}

int PretvoriuCifre(std::string &amp;s,int pocetak,int kraj){
	int broj(0),k(1);
	pocetak--;
	kraj--;
	while(kraj!=pocetak){
		broj+=(s[kraj]-'0')*k;
		k++;
		kraj--;
	}
	return broj;
}

bool UnosKomande(Komande &amp;komanda,Smjerovi &amp;smjer,int &amp;x,int &amp;y,KodoviGresaka &amp;greska){
	std::string s;
	//bool tacna_komanda=true;
	std::getline(std::cin,s);
	//for(int i=0;i&lt;s.size();i++){ if(s[i]!=' ' &amp;&amp; s[i]!='P' &amp;&amp; s[i]!='&gt;' &amp;&amp; s[i]!='D' &amp;&amp; s[i]!='1' &amp;&amp; s[i]!='O' &amp;&amp; s[i]!='B' &amp;&amp; s[i]!='K' &amp;&amp; s[i]!='Z' &amp;&amp; !(s[i]&gt;='0' &amp;&amp; s[i]&lt;='9') &amp;&amp; s[i]!='L'){ greska=KodoviGresaka::PogresnaKomanda; return false;}}
	for(int i=0;i&lt;s.length();i++){
		if(s[i]==' '){ while(s[i]==' ' &amp;&amp; i&lt;s.length()-1) i++;}
		if(s[i]=='P'){
			if(i&lt;s.size()-1) i++;
			if(s[i]!='1' &amp;&amp; s[i]!='&gt;' &amp;&amp; s[i]!='O'){ greska=KodoviGresaka::PogresnaKomanda; return false;}
			if(s[i]=='1'){
				if(i&lt;s.size()-1) i++;
				if(s[i]==' ' &amp;&amp; i&lt;s.length()-1){ while(s[i]==' ' &amp;&amp; i&lt;s.length()-1) i++;}
				if(i==s.length()-1 &amp;&amp; (s[i]==' ' || s[i]=='1')){greska=KodoviGresaka::NedostajeParametar; return false;}
				if(s[i]=='G'){
					if(i&lt;s.size()-1) i++;
					if(s[i]!=' ' &amp;&amp; s[i]!='L' &amp;&amp; s[i]!='D' &amp;&amp; s[i]!=s.length()-1 &amp;&amp; s[i]!='G'){greska=KodoviGresaka::PogresnaKomanda; return false;}
					if(s[i]==' ' &amp;&amp; i&lt;s.length()-1){
						while(s[i]==' ' &amp;&amp; i&lt;s.length()-1) i++;}
					if(s[i]=='L'){
						if(i&lt;s.size()-1) i++;
						if(s[i]!=' ' &amp;&amp; i&lt;s.length()-1){ greska=KodoviGresaka::SuvisanParametar;return false;}
						if(s[i]==' ' &amp;&amp; i&lt;s.length()-1){
							while(s[i]==' ' &amp;&amp; i&lt;s.length()-1) i++;}
							if(i==s.length()-1){komanda=Komande::PomjeriJednoMjesto; smjer=Smjerovi::GoreLijevo; return true;}
						
					}
					else if(s[i]=='D'){
						if(i&lt;s.size()-1) i++;
						if(s[i]!=' ') { greska=KodoviGresaka::SuvisanParametar; return false;}
						if(s[i]==' ' &amp;&amp; i&lt;s.length()-1){
							while(s[i]==' ' &amp;&amp; i&lt;s.length()-1) i++;}
							if(i==s.length()-1){ komanda=Komande::PomjeriJednoMjesto; smjer=Smjerovi::GoreDesno; return true;}
						}
				  if(i==s.length()-1){komanda=Komande::PomjeriJednoMjesto; smjer=Smjerovi::Gore; return true;}
				}
				else if(s[i]=='D'){
					if(i&lt;s.size()-1) i++;
					if(s[i]=='o'){
						if(i&lt;s.size()-1) i++;
						  if(s[i]=='D'){
						  	if(i&lt;s.size()-1) i++;
						  	if(s[i]==' ' &amp;&amp; i&lt;s.size()-1){while(s[i]==' ' &amp;&amp; i&lt;s.size()-1) i++;}
						  	if(i==s.size()-1) {
						  		komanda=Komande::PomjeriJednoMjesto;
						  		smjer=Smjerovi::DoljeDesno;
						  		return true;
						  	}
						  	else {
						  		greska=KodoviGresaka::SuvisanParametar;
						  	}
						  }
						  if(s[i]=='L'){
						  	if(i&lt;s.size()-1) i++;
						  	if(s[i]==' ' &amp;&amp; i&lt;s.size()-1){ while(s[i]==' ' &amp;&amp; i&lt;s.size()-1) i++;}
						  	if(i==s.size()-1){
						  		komanda=Komande::PomjeriJednoMjesto;
						  		smjer=Smjerovi::DoljeLijevo;
						  		return true;
						  	}
						  	else {
						  		greska=KodoviGresaka::SuvisanParametar;
						  	}
						  }
						  if(s[i]==' ' &amp;&amp; i&lt;s.size()-1){ while(s[i]==' ' &amp;&amp; i&lt;s.size()-1) i++;}
						  if(i==s.size()-1) { komanda=Komande::PomjeriJednoMjesto; smjer=Smjerovi::Dolje; return true;}
						  else {
						  	greska=KodoviGresaka::PogresnaKomanda;
						  	return false;
						  }
					}
					if(s[i]==' ' &amp;&amp; i&lt;s.size()-1){ while(s[i]==' ' &amp;&amp; i&lt;s.size()-1) i++;}
					if(i==s.size()-1){ komanda=Komande::PomjeriJednoMjesto; smjer=Smjerovi::Desno; return true;}
					else {
						greska=KodoviGresaka::PogresnaKomanda; return false;
					}
				}
				else if(s[i]=='L'){
					if(i&lt;s.size()-1) i++;
					if(s[i]==' ' &amp;&amp; i&lt;s.size()-1){ while(s[i]==' ' &amp;&amp; i&lt;s.size()-1) i++;}
					if(i==s.size()-1){ komanda=Komande::PomjeriJednoMjesto; smjer=Smjerovi::Lijevo; return true;}
					else
					{
						greska=KodoviGresaka::PogresnaKomanda;
						return false;
					}
				}
				else {
					greska=KodoviGresaka::NeispravanParametar; return false;}
				}
				if(s[i]=='&gt;'){
					if(i&lt;s.size()-1) i++;
					if(s[i]==' ' &amp;&amp; i&lt;s.length()-1){ while(s[i]==' ' &amp;&amp; i&lt;s.length()-1) i++;}
					if(i==s.length()-1){greska=KodoviGresaka::NedostajeParametar; return false;}
					if(s[i]&gt;='0' &amp;&amp; s[i]&lt;='9'){
						int k=i;
						//for(int j=i;j&lt;s.size();j++){ if(s[j]!=' ' &amp;&amp; !(s[j]&gt;='0' &amp;&amp; s[j]&lt;='9')) greska=KodoviGresaka::PogresnaKomanda; return false;}
						while(s[i]&gt;='0' &amp;&amp; s[i]&lt;='9') i++;
						x=PretvoriuCifre(s,k,i);
						if(s[i]==' ' &amp;&amp; i&lt;s.length()-1){
							while(s[i]==' ' &amp;&amp; i&lt;s.length()-1) i++;
						}
						if(s[i]&gt;='0' &amp;&amp; s[i]&lt;='9'){
							int k=i;
							while(s[i]&gt;='0' &amp;&amp; s[i]&lt;='9') i++;
						   y=PretvoriuCifre(s,k,i);
							for(int z=i;z&lt;s.size();z++) if(s[z]!=' '){ greska=KodoviGresaka::SuvisanParametar; return false ;}
							komanda=Komande::PomjeriDalje;
						}
					}
					else {
						greska=KodoviGresaka::NeispravanParametar;
						return false;
					}
				}	
				//else { greska=KodoviGresaka::PogresnaKomanda; return false;}
				if(s[i]=='O'){

				if(i&lt;s.length()-1) i++;
        if(s[i]==' ' &amp;&amp; i&lt;s.length()-1){ while(s[i]==' ' &amp;&amp; i&lt;s.length()-1) i++;}
        if(i==s.length()-1) {komanda=Komande::PrikaziOkolinu; return true;}
        else { 
        	greska=KodoviGresaka::PogresnaKomanda;
        	return false;
				}
	    }
	}	
	    else if(s[i]=='B'){
	    	if(i&lt;s.size()-1) i++;
	    	if(s[i]==' ' &amp;&amp; i&lt;s.length()-1){ while(s[i]==' ' &amp;&amp; i&lt;s.length()-1) i++;}
	    	if(i==s.size()-1){greska=KodoviGresaka::NedostajeParametar; return false;}
	    	if(s[i]&gt;='0' &amp;&amp; s[i]&lt;='9'){
	    		int k=i;
	    		while(s[i]&gt;='0' &amp;&amp; s[i]&lt;='9') i++;
	    		x=PretvoriuCifre(s,k,i);
	    		if(s[i]==' ' &amp;&amp; i&lt;s.length()-1){
	    		while(s[i]==' ' &amp;&amp; i&lt;s.length()-1) i++;}
	    		if(s[i]&gt;='0' &amp;&amp; s[i]&lt;='9'){
	    			int k=i;
	    			while(s[i]&gt;='0' &amp;&amp; s[i]&lt;='9') i++;
	    			y=PretvoriuCifre(s,k,i);
	    			for(int z=i;z&lt;s.size();z++) if(s[z]!=' '){ greska=KodoviGresaka::SuvisanParametar;  return false;} 
	    			komanda=Komande::Blokiraj;
	    		}
	    	}
	    	else{
	    		greska=KodoviGresaka::PogresnaKomanda;
	    		return false;
	    	}
 	    }
 	    else if(s[i]=='D'){
 	    	 if(i&lt;s.size()-1)i++;
 	    	if(s[i]==' ' &amp;&amp; i&lt;s.size()-1){while(s[i]==' ' &amp;&amp; i&lt;s.size()-1) i++;}
 	    	if(i==s.size()-1){greska=KodoviGresaka::NedostajeParametar; return false;}
 	    	if(s[i]&gt;='0' &amp;&amp; s[i]&lt;='9'){
 	    		int k=i;
 	    		while(s[i]&gt;='0' &amp;&amp; s[i]&lt;='9') i++;
 	    		x=PretvoriuCifre(s,k,i);
 	    		if(s[i]==' ' &amp;&amp; i&lt;s.size()-1) { while(s[i]==' ' &amp;&amp; i&lt;s.size()-1) i++;}
 	    		if(s[i]&gt;='0' &amp;&amp; s[i]&lt;='9'){int k=i; while(s[i]&gt;='0' &amp;&amp; s[i]&lt;='9') i++;
 	    		y=PretvoriuCifre(s,k,i);
 	    		}
 	    		for(int z=i;z&lt;s.size();z++) if(s[z]!=' '){ greska=KodoviGresaka::PogresnaKomanda; return false;}
 	    		komanda=Komande::Deblokiraj;
 	    	}
 	    	else {
 	    		greska=KodoviGresaka::PogresnaKomanda; return false;
 	    	}
 	    }
	    else if(s[i]=='Z'){
	    	if(i&lt;s.size()-1) i++;
	    	if(s[i]==' ' &amp;&amp; i&lt;s.size()-1) {while(s[i]==' ' &amp;&amp; i&lt;s.size()-1) i++;}
	    	if(i==s.size()-1) komanda=Komande::ZavrsiIgru;
	    	else { greska=KodoviGresaka::PogresnaKomanda; return false;}
	    }
	    else if(s[i]=='K'){
	    	if(i&lt;s.size()-1) i++;
	    	while(s[i]==' ' &amp;&amp; i&lt;s.size()-1) i++;
	    	if(i==s.size()-1) komanda=Komande::KreirajIgru;
	    	else { greska=KodoviGresaka::SuvisanParametar; return false;}
	    }
	    else {
	    	greska=KodoviGresaka::PogresnaKomanda;
	    	return false;
	    }
	}
	return true;
	
}

void IzvrsiKomandu(Komande komanda,Tabla &amp;polja,int &amp;x,int &amp;y,Smjerovi p_smjer=Smjerovi::Gore,int p_x=0,int p_y=0){
	std::vector&lt;std::vector&lt;int&gt;&gt; v;
	int k(0),br3(1);
	if(komanda==Komande::KreirajIgru){
		int n(0);
		std::cout&lt;&lt;"Unesite broj polja: ";
		std::cin&gt;&gt;n;
		std::cout&lt;&lt;"Unesite pozicije mina: ";
		std::cin.clear();
		std::cin.ignore(1000,'\n');
        bool a(true);
        for(;;){
        bool b(true);
        std::string s;
        int br(0),br1(0);
        std::getline(std::cin,s);
        if(!a){ break;}
        for(int i=0;i&lt;s.size();i++){
        	if(s[0]=='.') {a=false; break;}
        	if(s.size()&lt;4 || s[0]!='('){std::cout&lt;&lt;"Greska, unesite ponovo!"&lt;&lt;std::endl; break;}
        	if(s[0]=='('){
        		if(i&lt;s.size()-1 &amp;&amp; b) i++;
        		if(s[i]==' '){ while(i&lt;s.size()-1 &amp;&amp; s[i]==' ')i++;}
        		if(i+2&lt;s.size()){
        		if(s[i]&gt;='0' &amp;&amp; s[i]&lt;='9'){
        			if((s[i]=='0' &amp;&amp; s[i+2]=='0') || s[i]-'0'&gt;=n){std::cout&lt;&lt;"Greska, unesite ponovo!"&lt;&lt;std::endl;break;}
        			 br=s[i]-'0';
        			if(i&lt;s.size()-1) i++;
        		}
        	}
        	//if(s[i]!=' ' &amp;&amp; s[i]!=',') b=false;
        	if(s[i]==',' ) i++;
        	if(s[i]==' '){ while(i&lt;s.size()-1 &amp;&amp; s[i]==' ') i++;}
        	if(s[i]&gt;='0' &amp;&amp; s[i]&lt;='9'&amp;&amp; b){
        		if(s[i]-'0'&gt;=n){std::cout&lt;&lt;"Greska, unesite ponovo!"&lt;&lt;std::endl;break;}
        		br1=s[i]-'0';
        		if(i&lt;s.size()-1) i++;
        		if(s[i]==' '){ while(i&lt;s.size()-1 &amp;&amp; s[i]==' ') i++;}
        		if(s[i]==')'){
        			v.resize(br3);
        		v[k].push_back(br);
        		v[k].push_back(br1);
        		br3++;
        		k++;
        		}
        	}
        }
        //if(!b){std::cout&lt;&lt;"Greska, unesite ponovo!"&lt;&lt;std::endl; std::cin.clear();std::cin.ignore(1000,'\n'); break;}
        }
        if(!a){break;}
        }
        try{
        polja=KreirajIgru(n,v);
        }
        catch(std::domain_error){
        	throw;
        }
	}
	else if(komanda==Komande::Blokiraj){
		try{
		BlokirajPolje(polja,p_x,p_y);
		}
		catch(std::domain_error){
			throw;
		}
	}
	else if(komanda==Komande::Deblokiraj){
		for(int i=0;i&lt;v.size();i++){
        	for(int j=0;j&lt;v[i].size();j++){
        		std::cout&lt;&lt;v[i][j]&lt;&lt;" ";
        	}
        	std::cout&lt;&lt;std::endl;
        }
		try{
		DeblokirajPolje(polja,p_x,p_y);
		}
		catch(std::domain_error){
			throw;
		}
	}
	else if(komanda==Komande::PomjeriJednoMjesto){
		try{
		Status a=Idi(polja,x,y,p_smjer);
		if(a==Status::KrajPoraz){ std::cout&lt;&lt;"Nagazili ste na minu"&lt;&lt;std::endl;
		for(int i=0;i&lt;polja.size();i++){
			for(int j=0;j&lt;polja.size();j++){
				polja[i][j]=Polje::Prazno;
				throw std::runtime_error("Igra zavrsena");
			}
		}
		}
		else if(a==Status::KrajPobjeda){ std::cout&lt;&lt;"Bravo,obisli ste sva sigurna polja"&lt;&lt;std::endl;
		for(int i=0;i&lt;polja.size();i++){
			for(int j=0;j&lt;polja.size();j++){
				polja[i][j]=Polje::Prazno;
				throw std::runtime_error("Igra zavrsena");
			}
		}
		}
		else std::cout&lt;&lt;"Tekuca pozicija igraca je ("&lt;&lt;x&lt;&lt;","&lt;&lt;y&lt;&lt;")"&lt;&lt;std::endl;
		
	}
	catch(std::out_of_range){
		throw;
	}
	catch(std::logic_error){
		throw;
	}
	}
	else if(komanda==Komande::PomjeriDalje){
		try{
		Status a=Idi(polja,x,y,p_x,p_y);
		if(a==Status::KrajPoraz){
			std::cout&lt;&lt;"Nagazili ste na minu"&lt;&lt;std::endl;
			for(int i =0;i&lt;polja.size();i++){
				for(int j=0;j&lt;polja.size();j++){
					polja[i][j]=Polje::Prazno;
			}
		}
		throw std::runtime_error("Igra zavrsena\n");
		}
		else if(a==Status::KrajPobjeda){
			std::cout&lt;&lt;"Bravo obisli ste sva sigurna polja"&lt;&lt;std::endl;
			for(int i=0;i&lt;polja.size();i++){
				for(int j=0;j&lt;polja.size();j++){
					polja[i][j]=Polje::Prazno;
				}
			}
			throw std::runtime_error("Igra zavrsena\n");
		}
		else std::cout&lt;&lt;"Tekuca pozicija igraca je ("&lt;&lt;x&lt;&lt;","&lt;&lt;y&lt;&lt;")"&lt;&lt;std::endl;
	}
	catch(std::out_of_range){
		throw;
	}
	}
	else if(komanda==Komande::PrikaziOkolinu){
		try{
		std::vector&lt;std::vector&lt;int&gt;&gt; mat=PrikaziOkolinu(polja,p_x,p_y);
		for(int i=0;i&lt;=2;i++){
			for(int j=0;j&lt;=2;j++){
				std::cout&lt;&lt;mat[i][j]&lt;&lt;" ";
			}
			std::cout&lt;&lt;std::endl;
		}
	}
	catch(std::domain_error){
		throw;
	}
	}
	else if(komanda==Komande::ZavrsiIgru){
		for(int i=0;i&lt;polja.size();i++){
			for(int j=0;j&lt;polja.size();j++){
				polja[i][j]=Polje::Prazno;
			}
		}
		throw std::runtime_error("Igra zavrsena");
	}
	
}

int main ()
{
	
	 /*std::vector&lt;std::vector&lt;int&gt;&gt; mine = {{0,1}, {0,4}, {1,3}, {1,4}, {2,0}, {2,1}, {2,3}} ;
    Tabla tabla = KreirajIgru(5, mine);
    for(int i=0;i&lt;tabla.size();i++){
    	for(int j=0;j&lt;tabla[0].size();j++){
    		if(tabla[i][j]==Polje::Mina) std::cout&lt;&lt;" 1 ";
    		else std::cout&lt;&lt;" 0 ";
    	}
    	std::cout&lt;&lt;std::endl;
    }
     std::vector&lt;std::vector&lt;int&gt;&gt; okolina = PrikaziOkolinu(tabla, 1, 1);
    for(int i = 0; i &lt; okolina.size(); i++)
    {
      for(int j = 0; j &lt; okolina[i].size(); j++) std::cout &lt;&lt; okolina[i][j] &lt;&lt; " ";
      std::cout &lt;&lt; std::endl;
    }*/
   /* std::vector&lt;std::vector&lt;int&gt;&gt; mine = {{0,1}, {0,2}, {1,0}, {1,1}, {1,2}, {2,0}, {2,1}, {2,2}};
  std::vector&lt;std::vector&lt;Polje&gt;&gt; tabla = KreirajIgru(3, mine);
  try{
    BlokirajPolje(tabla, 3,3);
  }
  catch(std::domain_error e){
    std::cout &lt;&lt; e.what() &lt;&lt; std::endl;
  }
  try{
    BlokirajPolje(tabla, 2,5);
  }
  catch(std::domain_error e){
    std::cout &lt;&lt; e.what() &lt;&lt; std::endl;
  }
  try{
    BlokirajPolje(tabla, 5,2);
  }
  catch(std::domain_error e){
    std::cout &lt;&lt; e.what() &lt;&lt; std::endl;
  }
  try{
    DeblokirajPolje(tabla, 3,3);
  }
  catch(std::domain_error e){
    std::cout &lt;&lt; e.what() &lt;&lt; std::endl;
  }
  try{
    DeblokirajPolje(tabla, 2,5);
  }
  catch(std::domain_error e){
    std::cout &lt;&lt; e.what() &lt;&lt; std::endl;
  }
  try{
    DeblokirajPolje(tabla, 5,2);
  }
  catch(std::domain_error e){
    std::cout &lt;&lt; e.what() &lt;&lt; std::endl;
  }*/
  /*while (true) {
      Komande komanda;
      Smjerovi smjer = Smjerovi::GoreDesno;
      int x = 0, y = 0;
      KodoviGresaka greska = KodoviGresaka::SuvisanParametar;
      UnosKomande(komanda, smjer, x, y, greska);
      if(komanda == Komande::ZavrsiIgru) break;
      std::cout &lt;&lt; "Unesena komanda: " &lt;&lt; int(komanda);
      std::cout &lt;&lt; ", (x,y) = (" &lt;&lt; x &lt;&lt; "," &lt;&lt; y &lt;&lt;")";
      if(smjer != Smjerovi::GoreDesno) std::cout &lt;&lt; " azuriran smjer na " &lt;&lt; int(smjer);
      std::cout  &lt;&lt; std::endl;
    }*/
    /*while (true) {
      Komande komanda  = Komande::PomjeriDalje;
      Smjerovi smjer;
      int x = 0, y = 0;
      KodoviGresaka greska = KodoviGresaka::SuvisanParametar;
      UnosKomande(komanda, smjer, x, y, greska);
      if(komanda == Komande::ZavrsiIgru) break;
      std::cout &lt;&lt; int(greska) &lt;&lt; " ";
    }*/
   /* while (true) {
      Komande komanda;
      Smjerovi smjer = Smjerovi::GoreDesno;
      int x = 0, y = 0;
      KodoviGresaka greska = KodoviGresaka::SuvisanParametar;
      UnosKomande(komanda, smjer, x, y, greska);
      if(komanda == Komande::ZavrsiIgru) break;
      std::cout &lt;&lt; "Unesena komanda: " &lt;&lt; int(komanda);
      std::cout &lt;&lt; ", (x,y) = (" &lt;&lt; x &lt;&lt; "," &lt;&lt; y &lt;&lt;")";
      if(smjer != Smjerovi::GoreDesno) std::cout &lt;&lt; " azuriran smjer na " &lt;&lt; int(smjer);
      std::cout  &lt;&lt; std::endl;
    }*/
    Tabla polja;
    int x_p(0),y_p(0);
    for(;;){
    std::cout&lt;&lt;"Unesite komandu: ";
    Komande komanda;
    Smjerovi smjer;
    int x(0),y(0);
    KodoviGresaka greska;
    bool a;
    a=UnosKomande(komanda,smjer,x,y,greska);
    if(a){
        if(komanda==Komande::ZavrsiIgru){ std::cout&lt;&lt;"Dovidjenja!"; break;}
        try{
    	IzvrsiKomandu(komanda,polja,x_p,y_p,smjer,x,y);
        }
        catch(std::domain_error izuzetak){
        	std::cout&lt;&lt;izuzetak.what();
        }
        catch(std::out_of_range izuzetak){
        	std::cout&lt;&lt;izuzetak.what();
        }
        catch(std::logic_error izuzetak){
        	std::cout&lt;&lt;izuzetak.what();
        }
    }
    else{
    	PrijaviGresku(greska);
</font>    }
    }
   /* int x = 0, y = 0;
 std::vector&lt;std::vector&lt;Polje&gt;&gt; tabla;
  IzvrsiKomandu(Komande::KreirajIgru, tabla, x, y);
  ispisiTablu(tabla);
  IzvrsiKomandu(Komande::KreirajIgru, tabla, x, y);
  ispisiTablu(tabla);
  IzvrsiKomandu(Komande::KreirajIgru, tabla, x, y);*/
  
	return 0;
}</pre>
</body>
</html>
