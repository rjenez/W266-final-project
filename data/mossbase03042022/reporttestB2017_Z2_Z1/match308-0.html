<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z2/Z1/student7980.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z2/Z1/student7980.cpp<p></p><pre>
/*B 2017/2018, Zadaća 2, Zadatak 1
	
	NAPOMENA: ulaz/izlaz za zadatke je specificiran
	javnim autotestovima. Zalbe za ne analiziranje testova
	se ne uvazavaju!
	
	NAPOMENA: nece svi (javni) testovi sa zamgera biti 
	dostupni na c9.

	Za sva ostala pitanja i nedoumice vezane za 
	autotestove javiti se na forum (c2).
*/
#include &lt;iostream&gt;
#include &lt;vector&gt;
#include &lt;stdexcept&gt;
#include &lt;utility&gt;

enum class Polje {
	Prazno, Posjeceno, Mina, BlokiranoPrazno, BlokiranoPosjeceno, BlokiranoMina
}; 

enum class Smjerovi {
	GoreLijevo, Gore, GoreDesno, Desno, DoljeDesno, Dolje, DoljeLijevo, Lijevo	
};

enum class Status {
	NijeKraj, KrajPoraz, KrajPobjeda
};

enum class KodoviGresaka {
	PogresnaKomanda, NedostajeParametar, SuvisanParametar, NeispravanParametar	
};

enum class Komande {
	PomjeriJednoMjesto, PomjeriDalje, Blokiraj, Deblokiraj, PrikaziOkolinu, ZavrsiIgru, KreirajIgru	
};

typedef std::vector&lt;std::vector&lt;Polje&gt;&gt; Tabla;

bool UnosKomande(Komande &amp;komanda, Smjerovi &amp;smjer, int &amp;x, int &amp;y, KodoviGresaka &amp;greska)
{
	char s;
	std::cin &gt;&gt; s;
	if(s=='K'){
		komanda=Komande::KreirajIgru;
		std::cout &lt;&lt; "Unesite broj polja: ";
	}
}

<a name="13"></a><font color="#00FFFF"><a href="match308-1.html#13" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_1.gif"/></a>

void IzvrsiKomandu(Komande komanda, Tabla &amp;polja, int &amp;x, int &amp;y, Smjerovi p_smjer = Smjerovi::Gore, int p_x = 0, int p_y = 0)
{
	//if(komanda==Komande::KreirajIgru)KreirajIgru(polja.size(), )
}

Tabla KreirajIgru(int n, const std::vector&lt;std::vector&lt;int&gt;&gt; &amp;mine)
</font>{
	Tabla Nova(n, std::vector&lt;Polje&gt;(n, Polje::Prazno));
	for(int i=0; i&lt;mine.size(); i++)
	{
		for(int j=0; j&lt;mine.at(i).size()-1; j++)
		{
			if(mine.at(i).size()!=2)throw(std::domain_error)"Ilegalan format zadavanja mina";
		// krah?	if(mine.at(i).at(j)&gt;Nova.size() || mine.at(i).at(j+1)&gt;Nova.at(i).size())throw(std::domain_error)"Ilegalna veličina";
			Nova.at(mine.at(i).at(j)).at(mine.at(i).at(j+1))=Polje::Mina;
		}
	}
	return Nova;
}

std::vector&lt;std::vector&lt;int&gt;&gt; PrikaziOkolinu(Tabla Nova, int x, int y)
{
	std::vector&lt;std::vector&lt;int&gt;&gt; Okolina(3, std::vector&lt;int&gt;(3));
	
	
	
	
	if(x&lt;0 || y&lt;0 || x&gt;Nova.size() || y&gt;Nova.at(0).size())throw(std::domain_error)"Polje (x,y) ne postoji";
	
	if(x==0)x=1;
	if(y==0)y=1;
	int k, l;
	int br(0);
	
	int je(0), dv(0);
	
	for(int i=x-1; i&lt;x+2; i++)
	{
		if(i==Nova.size())break;
		for(int j=y-1; j&lt;y+2; j++)
		{
			if(j==Nova.size())break;
			
			if(Nova[i][j]==Polje::Mina)br--;
			
			if(i==0)k=0;
			else k=i-1;
			for(;k&lt;i+2;k++)
			{	
				if(k==Nova.size())break;
				if(j==0)l=0;
				else l=j-1;
				for(; l&lt;j+2; l++)
				{
					if(j==Nova.size())break;
					
					if(Nova[k][l]==Polje::Mina)br++;
				}
			}
	
			Okolina[je][dv]=br;
			if(dv==2){je++;dv=0;} else dv++;
			br=0;
			
			
		}	
	}

	return Okolina;
}

void BlokirajPolje(Tabla &amp;Nova, int x, int y)
{
	if(x&lt;0 || y&lt;0 || x&gt;Nova.size() || y&gt;Nova.at(0).size())throw(std::domain_error)"Polje (x,y) ne postoji";
	
	if(Nova[x][y]==Polje::Prazno)Nova[x][y]=Polje::BlokiranoPrazno;
<a name="10"></a><font color="#FF0000"><a href="match308-1.html#10" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_1.gif"/></a>

	if(Nova[x][y]==Polje::Posjeceno)Nova[x][y]=Polje::BlokiranoPosjeceno;
	if(Nova[x][y]==Polje::Mina)Nova[x][y]=Polje::BlokiranoMina;
	
}

void DeblokirajPolje(Tabla &amp;Nova, int x, int y)
{
	if(x&lt;0 || y&lt;0 || x&gt;Nova.size() || y&gt;Nova.at(0).size())throw(std::domain_error)"Polje (x,y) ne postoji";
</font>	
	if(Nova[x][y]==Polje::BlokiranoPrazno)Nova[x][y]=Polje::Prazno;
<a name="6"></a><font color="#00FF00"><a href="match308-1.html#6" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_2.gif"/></a>

	if(Nova[x][y]==Polje::BlokiranoPosjeceno)Nova[x][y]=Polje::Posjeceno;
	if(Nova[x][y]==Polje::BlokiranoMina)Nova[x][y]=Polje::Mina;
	
}

Status Idi(Tabla &amp;Nova, int &amp;x, int &amp;y, Smjerovi Smjer)
</font>{
	if(Smjer==Smjerovi::GoreLijevo)
	{
		if(x==0 || y==0)throw(std::out_of_range)"Izlazak van igrace table";
<a name="1"></a><font color="#00FF00"><a href="match308-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_2.gif"/></a>

		if(Nova[x-1][y-1]==Polje::BlokiranoPrazno || Nova[x-1][y-1]==Polje::BlokiranoPosjeceno || Nova[x-1][y-1]==Polje::BlokiranoMina)throw(std::logic_error)"Blokirano polje";
</font>		Nova[x][y]=Polje::Posjeceno;
		x--;
		y--;
		
	}
	if(Smjer==Smjerovi::Gore)
	{
		if(x==0)throw(std::out_of_range)"Izlazak van igrace table";
<a name="7"></a><font color="#0000FF"><a href="match308-1.html#7" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_2.gif"/></a>

		if(Nova[x-1][y]==Polje::BlokiranoPrazno || Nova[x-1][y]==Polje::BlokiranoPosjeceno || Nova[x-1][y]==Polje::BlokiranoMina)throw(std::logic_error)"Blokirano polje";
</font>		Nova[x][y]=Polje::Posjeceno;
		x--;
		
	}
	if(Smjer==Smjerovi::GoreDesno)
	{
		if(x==0 || y==Nova.size()-1)throw(std::out_of_range)"Izlazak van igrace table";
<a name="2"></a><font color="#0000FF"><a href="match308-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_2.gif"/></a>

		if(Nova[x-1][y+1]==Polje::BlokiranoPrazno || Nova[x-1][y+1]==Polje::BlokiranoPosjeceno || Nova[x-1][y+1]==Polje::BlokiranoMina)throw(std::logic_error)"Blokirano polje";
</font>		Nova[x][y]=Polje::Posjeceno;
		x--;
		y++;
		
	}
	if(Smjer==Smjerovi::Desno)
	{
		if(y==Nova.size()-1)throw(std::out_of_range)"Izlazak van igrace table";
<a name="4"></a><font color="#FF00FF"><a href="match308-1.html#4" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_2.gif"/></a>

		if(Nova[x][y+1]==Polje::BlokiranoPrazno || Nova[x][y+1]==Polje::BlokiranoPosjeceno || Nova[x][y+1]==Polje::BlokiranoMina)throw(std::logic_error)"Blokirano polje";
</font>		Nova[x][y]=Polje::Posjeceno;
		y++;
		
	}
	if(Smjer==Smjerovi::DoljeDesno)
	{
		if(x==Nova.size()-1 || y==Nova.size()-1)throw(std::out_of_range)"Izlazak van igrace table";
<a name="3"></a><font color="#00FFFF"><a href="match308-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_2.gif"/></a>

		if(Nova[x+1][y+1]==Polje::BlokiranoPrazno || Nova[x+1][y+1]==Polje::BlokiranoPosjeceno || Nova[x+1][y+1]==Polje::BlokiranoMina)throw(std::logic_error)"Blokirano polje";
</font>	    Nova[x][y]=Polje::Posjeceno;
		x++;
		y++;
		
	}
	if(Smjer==Smjerovi::Dolje)
	{
		if(x==Nova.size()-1)throw(std::out_of_range)"Izlazak van igrace table";
<a name="5"></a><font color="#FF0000"><a href="match308-1.html#5" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_2.gif"/></a>

		if(Nova[x+1][y]==Polje::BlokiranoPrazno || Nova[x+1][y]==Polje::BlokiranoPosjeceno || Nova[x+1][y]==Polje::BlokiranoMina)throw(std::logic_error)"Blokirano polje";
</font>		Nova[x][y]=Polje::Posjeceno;
		x++;
		
	}
	if(Smjer==Smjerovi::DoljeLijevo)
	{
		if(x==Nova.size()-1 || y==0)throw(std::out_of_range)"Izlazak van igrace table";
<a name="0"></a><font color="#FF0000"><a href="match308-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_2.gif"/></a>

		if(Nova[x+1][y-1]==Polje::BlokiranoPrazno || Nova[x+1][y-1]==Polje::BlokiranoPosjeceno || Nova[x+1][y-1]==Polje::BlokiranoMina)throw(std::logic_error)"Blokirano polje";
</font>		Nova[x][y]=Polje::Posjeceno;
		x++;
		y--;
		
	}
	if(Smjer==Smjerovi::Lijevo)
	{
		if(y==0)throw(std::out_of_range)"Izlazak van igrace table";
<a name="8"></a><font color="#00FFFF"><a href="match308-1.html#8" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_2.gif"/></a>

		if(Nova[x][y-1]==Polje::BlokiranoPrazno || Nova[x][y-1]==Polje::BlokiranoPosjeceno || Nova[x][y-1]==Polje::BlokiranoMina)throw(std::logic_error)"Blokirano polje";
</font>		Nova[x][y]=Polje::Posjeceno;
		y--;
		
	}
	
	
	
	if(Nova[x][y]==Polje::Mina)
	{
		for(int i=0; i&lt;Nova.size(); i++)
		{
<a name="12"></a><font color="#0000FF"><a href="match308-1.html#12" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_1.gif"/></a>

			for(int j=0; j&lt;Nova.size(); j++)
			{
				Nova[i][j]=Polje::Prazno;
					
			}
			
		}
		
		return Status::KrajPoraz;
	}
	
	for(int i=0; i&lt;Nova.size(); i++)
	{
		for(int j=0; j&lt;Nova.size(); j++)
</font>		{
			if(Nova[i][j]==Polje::Prazno &amp;&amp; Nova[i][j]!=Polje::Mina) return Status::NijeKraj;
		}
	}
	
	return Status::KrajPobjeda;
}

Status Idi(Tabla Nova, int &amp;x, int &amp;y, int x1, int y1)
{
	if(x1&gt;=Nova.size() || y1&gt;=Nova.size())throw(std::out_of_range)"Izlazak van igrace table";
		if(Nova[x1][y1]==Polje::BlokiranoPrazno || Nova[x1][y1]==Polje::BlokiranoPosjeceno || Nova[x1][y1]==Polje::BlokiranoMina)throw(std::logic_error)"Blokirano polje";
	else 
	{
<a name="11"></a><font color="#00FF00"><a href="match308-1.html#11" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_1.gif"/></a>

	    Nova[x][y]=Polje::Posjeceno;
		x=x1;
	    y=y1;
	}
	
	if(Nova[x][y]==Polje::Mina)
	{
		for(int i=0; i&lt;Nova.size(); i++)
</font>		{
			for(int j=0; j&lt;Nova.size(); j++)
			{
				Nova[i][j]=Polje::Prazno;
					
			}
			
		}
		
		return Status::KrajPoraz;
	}
	
	
	for(int i=0; i&lt;Nova.size(); i++)
	{
		for(int j=0; j&lt;Nova.size(); j++)
		{
			if(Nova[i][j]==Polje::Prazno &amp;&amp; Nova[i][j]!=Polje::Mina) return Status::NijeKraj;
		}
	}
	
	return Status::KrajPobjeda;
}



int main ()
{
	
	
	std::cout &lt;&lt; "Unesite komandu: ";
	Komande komanda;
	Smjerovi smjer = Smjerovi::GoreDesno;
	int x=0, y=0;
	Tabla tabla;
	KodoviGresaka greska = KodoviGresaka::SuvisanParametar;
	
	UnosKomande(komanda, smjer, x, y, greska);
	if(komanda==Komande::KreirajIgru){
		int n;
		std::cin &gt;&gt; n;
		Tabla tabla (n, std::vector&lt;Polje&gt;(n));
		
		std::cout &lt;&lt; "Unesite pozicije mina: ";
		std::vector&lt;std::vector&lt;int&gt;&gt; mine;
	/*	while(1)
		{
			int i(0), j(0);
			mine.resize(i+1);
			mine[i].resize(2);
			int x;
			std::pair &lt;int,int&gt; par;
			std::cin &gt;&gt; x &gt;&gt; y;
			if(x == '.' || y=='.')break;
			par=std::make_pair(x, y);
			mine[i][0]=x;mine[i][1]=y;
			
			i++;
		}
		*/
		
	}

	
	IzvrsiKomandu(komanda, tabla, x, y);
	
	return 0;
}</pre>
</body>
</html>
