<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z2/Z1/student5403.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z2/Z1/student5403.cpp<p></p><pre>
/*B 2017/2018, Zadaća 2, Zadatak 1
	
	NAPOMENA: ulaz/izlaz za zadatke je specificiran
	javnim autotestovima. Zalbe za ne analiziranje testova
	se ne uvazavaju!
	
	NAPOMENA: nece svi (javni) testovi sa zamgera biti 
	dostupni na c9.

	Za sva ostala pitanja i nedoumice vezane za 
	autotestove javiti se na forum (c2).
*/
#include &lt;iostream&gt;
#include &lt;vector&gt;
#include &lt;stdexcept&gt;
#include &lt;complex&gt;
#include &lt;string&gt;
#include &lt;algorithm&gt;

enum class Polje {Prazno, Posjeceno, Mina, BlokiranoPrazno, BlokiranoPosjeceno, BlokiranoMina};
enum class Smjerovi {GoreLijevo, Gore, GoreDesno, Desno, DoljeDesno, Dolje, DoljeLijevo, Lijevo};
enum class Status {NijeKraj, KrajPoraz, KrajPobjeda};
enum class KodoviGresaka {PogresnaKomanda, NedostajeParametar, SuvisanParametar, NeispravanParametar};
enum class Komande {PomjeriJednoMjesto, PomjeriDalje, Blokiraj, Deblokiraj, PrikaziOkolinu, ZavrsiIgru, KreirajIgru};



typedef std::vector&lt;std::vector&lt;Polje&gt;&gt; Tabla;
typedef std::vector&lt;std::vector&lt;int&gt;&gt; Matrica;

//POMOĆNE
Tabla KreirajTablu (int brojredova, int brojkolona){
	return (Tabla (brojredova, std::vector&lt;Polje&gt;(brojkolona)));
}
Matrica KreirajMatricu (int brojredova, int brojkolona){
	return (Matrica (brojredova, std::vector&lt;int&gt;(brojkolona)));
}

//GLAVNE
Tabla KreirajIgru(int n,const Matrica &amp;mine){
	Tabla t;
	if (n&lt;0) throw std::domain_error ("Ilegalna velicina");
	
	for (int i(0);i&lt;mine.size();i++) {if (mine.at(i).size()!=2) throw std::domain_error ("Ilegalan format zadavanja mina");} 
	
	for (int i(0);i&lt;mine.size();i++){
		for (int j(0);j&lt;2;j++){
			if (n&lt;mine.at(i).at(j)) throw std::domain_error ("Ilegalne pozicije mina");
		}
	}
	t=KreirajTablu(n,n);
	
	int s,k;
	for (int l(0);l&lt;mine.size();l++){
		s=mine.at(l).at(0);
		k=mine.at(l).at(1);
		t.at(s).at(k)=Polje::Mina;
	}
	return t;
}
void PrijaviGresku (KodoviGresaka greska){
	if (greska==KodoviGresaka::PogresnaKomanda) std::cout &lt;&lt; "Nerazumljiva komanda!" &lt;&lt; std::endl;
	else if (greska==KodoviGresaka::NedostajeParametar) std::cout &lt;&lt; "Komanda trazi parametar koji nije naveden!" &lt;&lt; std::endl;
	else if (greska==KodoviGresaka::NeispravanParametar) std::cout &lt;&lt; "Parametar komande nije ispravan!" &lt;&lt; std::endl;
	else if (greska==KodoviGresaka::SuvisanParametar) std::cout &lt;&lt; "Zadan je suvisan parametar nakon komande!" &lt;&lt; std::endl;
}
Matrica PrikaziOkolinu(const Tabla &amp;polja, int x, int y){ //Da li se smije poslati x=0 y=0 ?! 
	Matrica m(KreirajMatricu(3,3));
	int br(0),k;
	if (polja.size()&lt;=x || polja.size()&lt;=y || x&lt;0 || y&lt;0) throw std::domain_error ("Polje ("+std::to_string(x)+","+std::to_string(y)+") ne postoji");				
	if (x&gt;0 &amp;&amp; y&gt;0 &amp;&amp; x&lt;polja.size() &amp;&amp; y&lt;polja.size()){
		k=0;
		br=0; //Gore lijevo
		for (int i(x-2);i&lt;x-1+2;i++){
			for (int j(y-2);j&lt;y-1+2;j++){
				if (x-1==0 &amp;&amp; y-1==0){
					k=1;
					if(polja.at(x).at(y)==Polje::Mina)br++;
					if(polja.at(x).at(y-1)==Polje::Mina)br++;
					if(polja.at(x-1).at(y)==Polje::Mina)br++;
					m.at(0).at(0)=br;
					br=0;
					break;
				}
				else if (x-1==0 &amp;&amp; y-1!=0){
					k=1;
					if (polja.at(x).at(y)==Polje::Mina) br++;
					if (polja.at(x-1).at(y-2)==Polje::Mina) br++;
					if (polja.at(x).at(y-2)==Polje::Mina) br++;
					if (polja.at(x).at(y-1)==Polje::Mina) br++;
					if (polja.at(x-1).at(y)==Polje::Mina) br++;
					m.at(0).at(0)=br;
					br=0;
					break;
				}
				else if (x-1!=0 &amp;&amp; y-1==0){
					k=1;
					if (polja.at(x).at(y)==Polje::Mina) br++;
					if (polja.at(x-1).at(y)==Polje::Mina) br++;
					if (polja.at(x).at(y-1)==Polje::Mina) br++;
					if (polja.at(x-2).at(y-1)==Polje::Mina) br++;
					if (polja.at(x-2).at(y)==Polje::Mina) br++;
					m.at(0).at(0)=br;
				}
				else {
					if (polja.at(i).at(j)==Polje::Mina) br++;
					if (polja.at(i).at(j)==Polje::Mina &amp;&amp; i==x-1 &amp;&amp; j==y-1) br=br-1;
					m.at(0).at(0)=br;
				}
			}
			if(k==1) break;
		}
		
		k=0;
		br=0;	//Gore
		for (int i(x-2);i&lt;x-1+2;i++){
			for (int j(y-1);j&lt;y+2;j++){
				if (x-1==0){
					k=1;
					if (polja.at(x).at(y)==Polje::Mina) br++;
					if (polja.at(x-1).at(y-1)==Polje::Mina) br++;
					if (polja.at(x).at(y-1)==Polje::Mina) br++;
					if (polja.at(x).at(y+1)==Polje::Mina) br++;
					if (polja.at(x-1).at(y+1)==Polje::Mina) br++;
					m.at(0).at(1)=br;
					br=0;
					break;
				}
				else {
					if (polja.at(i).at(j)==Polje::Mina) br++;
					if (polja.at(i).at(j)==Polje::Mina &amp;&amp; i==x-1 &amp;&amp; j==y) br=br-1;
					m.at(0).at(1)=br;
				}
			}
			if(k==1) break;
		}
		
		k=0;
		br=0;		//Gore desno
		for (int i(x-2);i&lt;x-1+2;i++){
			for (int j(y);j&lt;y+1+2;j++){
				if (x-1==0 &amp;&amp; y+1==polja.size()){
					k=1;
					if(polja.at(x).at(y)==Polje::Mina)br++;
					if(polja.at(x).at(y+1)==Polje::Mina)br++;
					if(polja.at(x-1).at(y)==Polje::Mina)br++;
					m.at(0).at(2)=br;
					br=0;
					break;
				}
				else if (x-1==0){
					k=1;
					if (polja.at(x).at(y)==Polje::Mina) br++;
					if (polja.at(x-1).at(y)==Polje::Mina) br++;
					if (polja.at(x).at(y+1)==Polje::Mina) br++;
					if (polja.at(x).at(y+2)==Polje::Mina) br++;
					if (polja.at(x-1).at(y+2)==Polje::Mina) br++;
					m.at(0).at(2)=br;
					br=0;
					break;
				}
				else if (y-1==polja.size()){
					k=1;
					if (polja.at(x).at(y)==Polje::Mina) br++;
					if (polja.at(x-1).at(y)==Polje::Mina) br++;
					if (polja.at(x).at(y+1)==Polje::Mina) br++;
					if (polja.at(x-2).at(y+1)==Polje::Mina) br++;
					if (polja.at(x-2).at(y)==Polje::Mina) br++;
					m.at(0).at(2)=br;
				}
				else {
					if (polja.at(i).at(j)==Polje::Mina) br++;
					if (polja.at(i).at(j)==Polje::Mina &amp;&amp; i==x-1 &amp;&amp; j==y+1) br=br-1;
					m.at(0).at(2)=br;
				}
			}
			if(k==1) break;
		}
		
		k=0;
		br=0;	//Lijevo
		for (int i(x-1);i&lt;x+2;i++){
			for (int j(y-2);j&lt;y-1+2;j++){
				if (y-1==0){
					k=1;
					if (polja.at(x).at(y)==Polje::Mina) br++;
					if (polja.at(x-1).at(y-1)==Polje::Mina) br++;
					if (polja.at(x-1).at(y)==Polje::Mina) br++;
					if (polja.at(x+1).at(y-1)==Polje::Mina) br++;
					if (polja.at(x+1).at(y)==Polje::Mina) br++;
					m.at(1).at(0)=br;
					br=0;
					break;
				}
				else  {
					if (polja.at(i).at(j)==Polje::Mina) br++;
					if (polja.at(i).at(j)==Polje::Mina &amp;&amp; i==x &amp;&amp; j==y-1) br=br-1;
					m.at(1).at(0)=br;
				}
			}
			if(k==1) break;
		}
		
		k=0;
		br=0;	//Sredina		
		for (int i(x-1);i&lt;x+2;i++){
			for (int j(y-1);j&lt;y+2;j++){
				if (polja.at(i).at(j)==Polje::Mina) br++;
				if (polja.at(i).at(j)==Polje::Mina &amp;&amp; i==x &amp;&amp; j==y ) br=br-1;
				m.at(1).at(1)=br;
			}
		}
		
		k=0;
		br=0;	//Desno
		for (int i(x-1);i&lt;x+2;i++){
			for (int j(y);j&lt;y+1+2;j++){
				if (y-1==polja.size()){
					k=1;
					if (polja.at(x).at(y)==Polje::Mina) br++;
					if (polja.at(x-1).at(y)==Polje::Mina) br++;
					if (polja.at(x-1).at(y+1)==Polje::Mina) br++;
					if (polja.at(x+1).at(y+1)==Polje::Mina) br++;
					if (polja.at(x+1).at(y)==Polje::Mina) br++;
					m.at(1).at(2)=br;
					br=0;
					break;
				}
				else {
					if (polja.at(i).at(j)==Polje::Mina) br++;
					if (polja.at(i).at(j)==Polje::Mina &amp;&amp; i==x &amp;&amp; j==y+1) br=br-1;
					m.at(1).at(2)=br;
				}
			}
			if(k==1) break;
		}
		
		k=0;
		br=0; 	//Dolje lijevo
		for (int i(x);i&lt;x+1+2;i++){
			for (int j(y-2);j&lt;y-1+2;j++){
				if (x+1==polja.size() &amp;&amp; y-1==0){
					k=1;
					if(polja.at(x).at(y)==Polje::Mina)br++;
					if(polja.at(x).at(y-1)==Polje::Mina)br++;
					if(polja.at(x+1).at(y)==Polje::Mina)br++;
					m.at(2).at(0)=br;
					br=0;
					break;
				}
				else if (x-1==polja.size()){
					k=1;
					if (polja.at(x).at(y)==Polje::Mina) br++;
					if (polja.at(x+1).at(y-2)==Polje::Mina) br++;
					if (polja.at(x).at(y-2)==Polje::Mina) br++;
					if (polja.at(x).at(y-1)==Polje::Mina) br++;
					if (polja.at(x+1).at(y)==Polje::Mina) br++;
					m.at(2).at(0)=br;
					br=0;
					break;
				}
				else if (y-1==0){
					k=1;
					if (polja.at(x).at(y)==Polje::Mina) br++;
					if (polja.at(x+1).at(y)==Polje::Mina) br++;
					if (polja.at(x).at(y-1)==Polje::Mina) br++;
					if (polja.at(x+2).at(y-1)==Polje::Mina) br++;
					if (polja.at(x+2).at(y)==Polje::Mina) br++;
					m.at(2).at(0)=br;
					br=0;
					break;
				}
				else {
					if (polja.at(i).at(j)==Polje::Mina) br++;
					if (polja.at(i).at(j)==Polje::Mina &amp;&amp; i==x+1 &amp;&amp; j==y-1) br=br-1;
					m.at(2).at(0)=br;
				}
			}
			if(k==1) break;
		}
		
		k=0;
		br=0;	//Dolje
		for (int i(x);i&lt;x+1+2;i++){
			for (int j(y-1);j&lt;y+2;j++){
				if (x+1==polja.size()){
					k=1;
					if (polja.at(x).at(y)==Polje::Mina) br++;
					if (polja.at(x+1).at(y-1)==Polje::Mina) br++;
					if (polja.at(x).at(y-1)==Polje::Mina) br++;
					if (polja.at(x).at(y+1)==Polje::Mina) br++;
					if (polja.at(x+1).at(y+1)==Polje::Mina) br++;
					m.at(2).at(1)=br;
					br=0;
					break;
				}
				else {
					if (polja.at(i).at(j)==Polje::Mina) br++;
					if (polja.at(i).at(j)==Polje::Mina &amp;&amp; i==x+1 &amp;&amp; j==y) br=br-1;
					m.at(2).at(1)=br;
				}
			}
			if(k==1) break;
		}
		
		k=0;
		br=0;		//Dolje desno
		for (int i(x);i&lt;(x+1+2);i++){
			for (int j(y);j&lt;y+1+2;j++){
				if (x+1==polja.size() &amp;&amp; y+1==polja.size()){
					k=1;
					if(polja.at(x).at(y)==Polje::Mina)br++;
					if(polja.at(x).at(y+1)==Polje::Mina)br++;
					if(polja.at(x+1).at(y)==Polje::Mina)br++;
					m.at(2).at(2)=br;
					br=0;
					break;
				}
				else if (x+1==polja.size()){
					k=1;
					if (polja.at(x).at(y)==Polje::Mina) br++;
					if (polja.at(x+1).at(y)==Polje::Mina) br++;
					if (polja.at(x).at(y+1)==Polje::Mina) br++;
					if (polja.at(x).at(y+2)==Polje::Mina) br++;
					if (polja.at(x+1).at(y+2)==Polje::Mina) br++;
					m.at(2).at(2)=br;
					br=0;
					break;
				}
				else if (y-1==polja.size()){
					k=1;
					if (polja.at(x).at(y)==Polje::Mina) br++;
					if (polja.at(x+1).at(y)==Polje::Mina) br++;
					if (polja.at(x).at(y+1)==Polje::Mina) br++;
					if (polja.at(x+2).at(y+1)==Polje::Mina) br++;
					if (polja.at(x+2).at(y)==Polje::Mina) br++;
					m.at(2).at(2)=br;
					br=0;
					break;
				}
				else {
					if (polja.at(i).at(j)==Polje::Mina) br++;
					if (polja.at(i).at(j)==Polje::Mina &amp;&amp; i==x+1 &amp;&amp; j==y+1) br=br-1;
					m.at(2).at(2)=br;
				}
			}
			if(k==1) break;
		}
		
	}
	
	/*else if(x==0 &amp;&amp; y==0){
		
	}*/
	
	return m;
}
void BlokirajPolje (Tabla &amp;polja, int x,int y){
	if (polja.size()&lt;=x || polja.size()&lt;=y ||x&lt;0 || y&lt;0) throw std::domain_error ("Polje ("+std::to_string(x)+","+std::to_string(y)+") ne postoji");
	if (polja.at(x).at(y)==Polje::Prazno) polja.at(x).at(y)=Polje::BlokiranoPrazno; 	
	else if (polja.at(x).at(y)==Polje::Posjeceno) polja.at(x).at(y)=Polje::BlokiranoPosjeceno;	
	else if (polja.at(x).at(y)==Polje::Mina) polja.at(x).at(y)=Polje::BlokiranoMina;
}
void DeblokirajPolje (Tabla &amp;polja, int x,int y){ 
	if (polja.size()&lt;=x || polja.size()&lt;=y || x&lt;0 || y&lt;0) throw std::domain_error ("Polje ("+std::to_string(x)+","+std::to_string(y)+") ne postoji");
	if (polja.at(x).at(y)==Polje::BlokiranoPrazno) polja.at(x).at(y)=Polje::Prazno; 	
<a name="8"></a><font color="#00FFFF"><a href="match707-1.html#8" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_0.gif"/></a>

	else if (polja.at(x).at(y)==Polje::BlokiranoPosjeceno) polja.at(x).at(y)=Polje::Posjeceno;	
	else if (polja.at(x).at(y)==Polje::BlokiranoMina) polja.at(x).at(y)=Polje::Mina;
	
}
Status Idi (Tabla &amp;polja, int &amp;x, int &amp;y, Smjerovi smjer){
</font>	polja.at(x).at(y)=Polje::Posjeceno;
	if (smjer==Smjerovi::GoreLijevo) {
		if (polja.size()&lt;(x-1) || polja.size()&lt;(y-1)) throw std::out_of_range ("Izlazak van igrace table");
<a name="4"></a><font color="#FF00FF"><a href="match707-1.html#4" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_0.gif"/></a>

		if (polja.at(x-1).at(y-1)==Polje::BlokiranoPosjeceno || polja.at(x-1).at(y-1)==Polje::BlokiranoPrazno || polja.at(x-1).at(y-1)==Polje::BlokiranoMina) throw std::logic_error ("Blokirano polje");
</font>		if (polja.at(x-1).at(y-1)==Polje::Mina){
			for (int i(0);i&lt;polja.size();i++){
				for(int j(0);j&lt;polja.at(i).size();j++){
					polja.at(i).at(j)=Polje::Prazno;
				}
			}
			return Status::KrajPoraz;
		}
		else if (polja.at(x-1).at(y-1)==Polje::Prazno){
			for (int i(0);i&lt;polja.size();i++){
				for (int j(0);j&lt;polja.at(i).size();i++){
					if (polja.at(i).at(j)==Polje::Prazno) {
						x=x-1;
						y=y-1;
						return Status::NijeKraj;
					}
				}
			}
		return Status::KrajPobjeda;	
		}
	}
	else if (smjer==Smjerovi::Gore) {
		if (polja.size()&lt;(x-1) || polja.size()&lt;(y)) throw std::out_of_range ("Izlazak van igrace table");
<a name="7"></a><font color="#0000FF"><a href="match707-1.html#7" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_0.gif"/></a>

		if (polja.at(x-1).at(y)==Polje::BlokiranoPosjeceno || polja.at(x-1).at(y)==Polje::BlokiranoPrazno || polja.at(x-1).at(y)==Polje::BlokiranoMina) throw std::logic_error ("Blokirano polje");
</font>		if (polja.at(x-1).at(y)==Polje::Mina) {
			for (int i(0);i&lt;polja.size();i++){
				for(int j(0);j&lt;polja.at(i).size();j++){
					polja.at(i).at(j)=Polje::Prazno;
				}
			}
			return Status::KrajPoraz;
		}
		else if (polja.at(x-1).at(y)==Polje::Prazno){
			for (int i(0);i&lt;polja.size();i++){
				for (int j(0);j&lt;polja.at(i).size();i++){
					if (polja.at(i).at(j)==Polje::Prazno) {
						x=x-1;
						return Status::NijeKraj;
					}
				}
			}
		return Status::KrajPobjeda;	
		}
	}
	else if (smjer==Smjerovi::GoreDesno) {
		if (polja.size()&lt;(x-1) || polja.size()&lt;(y+1)) throw std::out_of_range ("Izlazak van igrace table");
<a name="0"></a><font color="#FF0000"><a href="match707-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_0.gif"/></a>

		if (polja.at(x-1).at(y+1)==Polje::BlokiranoPosjeceno || polja.at(x-1).at(y+1)==Polje::BlokiranoPrazno || polja.at(x-1).at(y+1)==Polje::BlokiranoMina) throw std::logic_error ("Blokirano polje");
</font>		if (polja.at(x-1).at(y+1)==Polje::Mina) {
			for (int i(0);i&lt;polja.size();i++){
				for(int j(0);j&lt;polja.at(i).size();j++){
					polja.at(i).at(j)=Polje::Prazno;
				}
			}
			return Status::KrajPoraz;
		}
		else if (polja.at(x-1).at(y+1)==Polje::Prazno){
			for (int i(0);i&lt;polja.size();i++){
				for (int j(0);j&lt;polja.at(i).size();i++){
					if (polja.at(i).at(j)==Polje::Prazno) {
						x=x-1;
						y=y+1;
						return Status::NijeKraj;
					}
				}
			}
		return Status::KrajPobjeda;	
		}
	}
	else if (smjer==Smjerovi::Lijevo) {
		if (polja.size()&lt;(x) || polja.size()&lt;(y-1)) throw std::out_of_range ("Izlazak van igrace table");
<a name="2"></a><font color="#0000FF"><a href="match707-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_0.gif"/></a>

		if (polja.at(x).at(y-1)==Polje::BlokiranoPosjeceno || polja.at(x).at(y-1)==Polje::BlokiranoPrazno || polja.at(x).at(y-1)==Polje::BlokiranoMina) throw  std::logic_error ("Blokirano polje");
</font>		if (polja.at(x).at(y-1)==Polje::Mina) {
			for (int i(0);i&lt;polja.size();i++){
				for(int j(0);j&lt;polja.at(i).size();j++){
					polja.at(i).at(j)=Polje::Prazno;
				}
			}
			return Status::KrajPoraz;
		}
		else if (polja.at(x).at(y-1)==Polje::Prazno){
			for (int i(0);i&lt;polja.size();i++){
				for (int j(0);j&lt;polja.at(i).size();i++){
					if (polja.at(i).at(j)==Polje::Prazno) {
						y=y-1;
						return Status::NijeKraj;
					}
				}
			}
		return Status::KrajPobjeda;	
		}
	}
	else if (smjer==Smjerovi::Desno) {
		if (polja.size()&lt;(x) || polja.size()&lt;(y+1)) throw std::out_of_range ("Izlazak van igrace table");
<a name="1"></a><font color="#00FF00"><a href="match707-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_0.gif"/></a>

		if (polja.at(x).at(y+1)==Polje::BlokiranoPosjeceno || polja.at(x).at(y+1)==Polje::BlokiranoPrazno || polja.at(x).at(y+1)==Polje::BlokiranoMina) throw std::logic_error ("Blokirano polje");
</font>		if (polja.at(x).at(y+1)==Polje::Mina) {
			for (int i(0);i&lt;polja.size();i++){
				for(int j(0);j&lt;polja.at(i).size();j++){
					polja.at(i).at(j)=Polje::Prazno;
				}
			}
			return Status::KrajPoraz;
		}
		else if (polja.at(x).at(y+1)==Polje::Prazno){
			for (int i(0);i&lt;polja.size();i++){
				for (int j(0);j&lt;polja.at(i).size();i++){
					if (polja.at(i).at(j)==Polje::Prazno) {
						y=y+1;
						return Status::NijeKraj;
					}
				}
			}
		return Status::KrajPobjeda;	
		}
	}
	else if (smjer==Smjerovi::DoljeLijevo) {
		if (polja.size()&lt;(x+1) || polja.size()&lt;(y-1)) throw std::out_of_range ("Izlazak van igrace table");
<a name="3"></a><font color="#00FFFF"><a href="match707-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_0.gif"/></a>

		if (polja.at(x+1).at(y-1)==Polje::BlokiranoPosjeceno || polja.at(x+1).at(y-1)==Polje::BlokiranoPrazno || polja.at(x+1).at(y-1)==Polje::BlokiranoMina) throw std::logic_error ("Blokirano polje");
</font>		if (polja.at(x+1).at(y-1)==Polje::Mina) {
			for (int i(0);i&lt;polja.size();i++){
				for(int j(0);j&lt;polja.at(i).size();j++){
					polja.at(i).at(j)=Polje::Prazno;
				}
			}
			return Status::KrajPoraz;
		}
		else if (polja.at(x+1).at(y-1)==Polje::Prazno){
			for (int i(0);i&lt;polja.size();i++){
				for (int j(0);j&lt;polja.at(i).size();i++){
					if (polja.at(i).at(j)==Polje::Prazno) {
						x=x+1;
						y=y-1;
						return Status::NijeKraj;
					}
				}
			}
		return Status::KrajPobjeda;	
		}
	}
	else if (smjer==Smjerovi::Dolje) {
		if (polja.size()&lt;(x+1) || polja.size()&lt;(y)) throw std::out_of_range ("Izlazak van igrace table");
<a name="5"></a><font color="#FF0000"><a href="match707-1.html#5" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_0.gif"/></a>

		if (polja.at(x+1).at(y)==Polje::BlokiranoPosjeceno || polja.at(x+1).at(y)==Polje::BlokiranoPrazno || polja.at(x+1).at(y)==Polje::BlokiranoMina) throw std::logic_error ("Blokirano polje");
</font>		if (polja.at(x+1).at(y)==Polje::Mina) {
			for (int i(0);i&lt;polja.size();i++){
				for(int j(0);j&lt;polja.at(i).size();j++){
					polja.at(i).at(j)=Polje::Prazno;
				}
			}
			return Status::KrajPoraz;
		}
		else if (polja.at(x+1).at(y)==Polje::Prazno){
			for (int i(0);i&lt;polja.size();i++){
				for (int j(0);j&lt;polja.at(i).size();i++){
					if (polja.at(i).at(j)==Polje::Prazno) {
						x=x+1;
						return Status::NijeKraj;
					}
				}
			}
		return Status::KrajPobjeda;	
		}
	}
	else if (smjer==Smjerovi::DoljeDesno) {
		if (polja.size()&lt;(x+1) || polja.size()&lt;(y+1)) throw std::out_of_range ("Izlazak van igrace table");
<a name="6"></a><font color="#00FF00"><a href="match707-1.html#6" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_0.gif"/></a>

		if (polja.at(x+1).at(y+1)==Polje::BlokiranoPosjeceno || polja.at(x+1).at(y+1)==Polje::BlokiranoPrazno || polja.at(x+1).at(y+1)==Polje::BlokiranoMina) throw std::logic_error ("Blokirano polje");
</font><a name="6"></a><font color="#00FF00"><a href="match707-1.html#6" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_0.gif"/></a>

		if (polja.at(x+1).at(y+1)==Polje::Mina) {
</font>			for (int i(0);i&lt;polja.size();i++){
				for(int j(0);j&lt;polja.at(i).size();j++){
					polja.at(i).at(j)=Polje::Prazno;
				}
			}
			return Status::KrajPoraz;
		}
		else if (polja.at(x+1).at(y+1)==Polje::Prazno){
			for (int i(0);i&lt;polja.size();i++){
				for (int j(0);j&lt;polja.at(i).size();i++){
					if (polja.at(i).at(j)==Polje::Prazno) {
						x=x+1;
						y=y+1;
						return Status::NijeKraj;
					}
				}
			}
		return Status::KrajPobjeda;	
		}
	}
}
Status Idi (Tabla &amp;polja, int &amp;x, int &amp;y, int novi_x, int novi_y){
	polja.at(x).at(y)=Polje::Posjeceno;
	if (polja.size()&lt;novi_x || polja.size()&lt;novi_y) throw std::out_of_range ("Izlazak van igrace table");
	if (polja.at(novi_x).at(novi_y)==Polje::BlokiranoPosjeceno || polja.at(novi_x).at(novi_y)==Polje::BlokiranoPrazno || polja.at(novi_x).at(novi_y)==Polje::BlokiranoMina) throw std::logic_error ("Blokirano polje");
	if (polja.at(novi_x).at(novi_y)==Polje::Mina) {
		for (int i(0);i&lt;polja.size();i++){
			for(int j(0);j&lt;polja.at(i).size();j++){
				polja.at(i).at(j)=Polje::Prazno;
			}
		}
		return Status::KrajPoraz;
	}
	else if (polja.at(novi_x).at(novi_y)==Polje::Prazno){
		polja.at(novi_x).at(novi_y)=Polje::Posjeceno;
		for (int i(0);i&lt;polja.size();i++){
			for (int j(0);j&lt;polja.at(i).size();i++){
				if (polja.at(i).at(j)==Polje::Prazno) {
					x=novi_x;
					y=novi_y;
					return Status::NijeKraj;
				}
			}
		}
	return Status::KrajPobjeda;	
	}
}
bool UnosKomande(Komande &amp;komanda, Smjerovi &amp;smjer, int &amp;x, int &amp;y, KodoviGresaka &amp;greska){
	std::string komanda_1, nova_komanda;
	std::getline(std::cin,komanda_1);
	for (int i(0);i&lt;komanda_1.length();i++){
		while (komanda_1.at(i) == ' ') i++;
		while (komanda_1.at(i) != ' ' &amp;&amp; i&lt;komanda_1.length()){
			nova_komanda.push_back(komanda_1.at(i));
			i++;
			if (i==komanda_1.length()) break;
		}
	}
	for (int i(0);i&lt;nova_komanda.length();i++){
		if (nova_komanda.length()&gt;=2 &amp;&amp; nova_komanda.at(i)=='P' &amp;&amp; nova_komanda.at(i+1)=='1'){
			if (nova_komanda.length()==2){ 
				greska=KodoviGresaka::NedostajeParametar;
				return false;
			}
			komanda=Komande::PomjeriJednoMjesto;
			if(nova_komanda.length() == 4 &amp;&amp; nova_komanda.at(i+2)=='G' &amp;&amp; nova_komanda.at(i+3)=='L'){
				smjer=Smjerovi::GoreLijevo;
				return true;
			}
			else if(nova_komanda.at(i+2)=='G' &amp;&amp; nova_komanda.length()==3){
				smjer=Smjerovi::Gore;
				return true;
			}
			else if(nova_komanda.at(i+2)=='G' &amp;&amp; nova_komanda.at(i+3)=='D' &amp;&amp; nova_komanda.length()==4){
				smjer=Smjerovi::GoreDesno;
				return true;
			}
			else if(nova_komanda.at(i+2)=='L' &amp;&amp; nova_komanda.length()==3){
				smjer=Smjerovi::Lijevo;
				return true;
			}
			else if(nova_komanda.at(i+2)=='D' &amp;&amp; nova_komanda.length()==3){
				smjer=Smjerovi::Desno;
				return true;
			}
			else if(nova_komanda.length()==5 &amp;&amp; nova_komanda.at(i+2)=='D' &amp;&amp; nova_komanda.at(i+3)=='o' &amp;&amp; nova_komanda.at(i+4)=='L'){
				smjer=Smjerovi::DoljeLijevo;
				return true;
			}
			else if(nova_komanda.length()==4 &amp;&amp; nova_komanda.at(i+2)=='D' &amp;&amp; nova_komanda.at(i+3)=='o'){
				smjer=Smjerovi::Dolje;
				return true;
			}
			else if(nova_komanda.length()==5 &amp;&amp; nova_komanda.at(i+2)=='D' &amp;&amp; nova_komanda.at(i+3)=='o' &amp;&amp; nova_komanda.at(i+4)=='D'){
				smjer=Smjerovi::DoljeDesno;
				return true;
			}
			else{
				greska=KodoviGresaka::NeispravanParametar;
				return false;
			}
		}
		else if (nova_komanda.length()&gt;1 &amp;&amp; nova_komanda.at(i)=='P' &amp;&amp; nova_komanda.at(i+1)=='&gt;'){
			if (nova_komanda.length()==2){
				greska=KodoviGresaka::NedostajeParametar;
				return false;
			}
			komanda=Komande::PomjeriDalje;
			if (nova_komanda.at(i+2)&gt;='0' &amp;&amp; nova_komanda.at(i+2)&lt;='9' &amp;&amp; nova_komanda.at(i+3)&gt;='0' &amp;&amp; nova_komanda.at(i+3)&lt;='9'){
				int j=0;
				for (int k('0');k&lt;='9';k++){
					if (k==nova_komanda.at(i+2)) x=j;
					if (k==nova_komanda.at(i+3)) y=j;
					j++;
				}
				return true;
			}
			else if (!(nova_komanda.at(i+2)&gt;='0' &amp;&amp; nova_komanda.at(i+2)&lt;='9') || !(nova_komanda.at(i+3)&gt;='0' &amp;&amp; nova_komanda.at(i+3)&lt;='9')){
				greska=KodoviGresaka::NeispravanParametar;
				return false;
			}
			else {
				greska =KodoviGresaka::SuvisanParametar;
				return false;
			}
		}
		else if (nova_komanda.at(i)=='B'){
			if(nova_komanda.length()==1){
				greska=KodoviGresaka::NedostajeParametar;
				return false;
			}
			komanda=Komande::Blokiraj;
			if (nova_komanda.at(i+1)&gt;='0' &amp;&amp; nova_komanda.at(i+1)&lt;='9' &amp;&amp; nova_komanda.at(i+2)&gt;='0' &amp;&amp; nova_komanda.at(i+2)&lt;='9'){
				int j=0;
				for (int k('0');k&lt;='9';k++){
					if (k==nova_komanda.at(i+1)) x=j;
					if (k==nova_komanda.at(i+2)) y=j;
					j++;
				}
				return true;
			}
			else if (!(nova_komanda.at(i+1)&gt;='0' &amp;&amp; nova_komanda.at(i+1)&lt;='9') || !(nova_komanda.at(i+2)&gt;='0' &amp;&amp; nova_komanda.at(i+2)&lt;='9')){
				greska=KodoviGresaka::NeispravanParametar;
				return false;
			}
			else {
				greska =KodoviGresaka::NedostajeParametar;
				return false;
			}
			
		}	
		else if (nova_komanda.at(i)=='D'){
			if(nova_komanda.length()==1){
				greska=KodoviGresaka::NedostajeParametar;
				return false;
			}
			komanda=Komande::Deblokiraj;
			if (nova_komanda.at(i+1)&gt;='0' &amp;&amp; nova_komanda.at(i+1)&lt;='9' &amp;&amp; nova_komanda.at(i+2)&gt;='0' &amp;&amp; nova_komanda.at(i+2)&lt;='9'){
				int j=0;
				for (int k('0');k&lt;='9';k++){
					if (k==nova_komanda.at(i+1)) x=j;
					if (k==nova_komanda.at(i+2)) y=j;
					j++;
				}
				return true;
			}
			else if (!(nova_komanda.at(i+2)&gt;='0' &amp;&amp; nova_komanda.at(i+2)&lt;='9') || !(nova_komanda.at(i+3)&gt;='0' &amp;&amp; nova_komanda.at(i+3)&lt;='9')){
				greska=KodoviGresaka::NeispravanParametar;
				return false;
			}
			else {
				greska =KodoviGresaka::NedostajeParametar;
				return false;
			}
			
		}
		else if (nova_komanda.length()&gt;1 &amp;&amp; nova_komanda.at(i)=='P' &amp;&amp; nova_komanda.at(i+1)=='O'){
			komanda=Komande::PrikaziOkolinu;
			if (nova_komanda.size()&gt;2){
				greska=KodoviGresaka::SuvisanParametar;
				return false;
			}
			return true;
		}
		else if (nova_komanda.at(i)=='Z'){
			komanda=Komande::ZavrsiIgru;
			if (nova_komanda.size()&gt;1){
				greska=KodoviGresaka::SuvisanParametar;
				return false;
			}
			return true;
		}
		else if (nova_komanda.at(i)=='K'){
			komanda=Komande::KreirajIgru;
			if (nova_komanda.size()&gt;1){
				greska=KodoviGresaka::SuvisanParametar;
				return false;
			}
			return true;
		}
		else {
			greska=KodoviGresaka::PogresnaKomanda;
			return false;
		}
	}
}
void IzvrsiKomandu(Komande komanda, Tabla &amp;polja, int &amp;x, int &amp;y, Smjerovi p_smjer = Smjerovi::Gore, int p_x = 0, int p_y = 0){
 	if (komanda==Komande::PomjeriJednoMjesto){
 		try{
 			Status status=Idi (polja,x,y,p_smjer);
 			if (status==Status::KrajPoraz) {
 				std::cout &lt;&lt; "Nagazili ste na minu";
 				for (int i(0);i&lt;polja.size();i++){
 					for (int j(0);j&lt;polja.at(i).size();j++){
 						polja.at(i).at(j)=Polje::Prazno;
 					}
 				}
 				throw std::runtime_error ("Igra zavrsena");
 			}
 			else if (status==Status::KrajPobjeda){
 				std::cout &lt;&lt; "Bravo, obisli ste sva sigurna polja";
 				for (int i(0);i&lt;polja.size();i++){
 					for(int j(0);j&lt;polja.at(i).size();j++){
 						polja.at(i).at(j)=Polje::Prazno;
 					}
 				}
 				throw std::runtime_error ("Igra zavrsena");
 			}
 			std::cout &lt;&lt;"Tekuca pozicija igraca je (" &lt;&lt; x &lt;&lt; "," &lt;&lt; y &lt;&lt; ")" &lt;&lt; std::endl;
 		}
 		catch(std::out_of_range izuzetak){
        	std::cout &lt;&lt; izuzetak.what() &lt;&lt; std::endl;
 		}
        catch(std::logic_error izuzetak){
        	std::cout &lt;&lt; izuzetak.what() &lt;&lt; std::endl;
        }
    }
    else if (komanda==Komande::Blokiraj){
    	try{
    		BlokirajPolje(polja,x,y);
    	}
    	catch (std::domain_error izuzetak){
    		std::cout &lt;&lt; izuzetak.what() &lt;&lt; std::endl;
    	}
    }
    else if (komanda==Komande::Deblokiraj){
    	try{
    		DeblokirajPolje(polja,x,y);
    	}
    	catch (std::domain_error izuzetak){
    		std::cout &lt;&lt; izuzetak.what() &lt;&lt; std::endl;
    	}
    }
    else if (komanda==Komande::PomjeriDalje){
 		try{
 			Status status=Idi (polja,p_x,p_y,x,y);
 			x=p_x;
 			y=p_y;
 			if (status==Status::KrajPoraz) {
 				std::cout &lt;&lt; "Nagazili ste na minu";
 				for (int i(0);i&lt;polja.size();i++){
 					for (int j(0);j&lt;polja.at(i).size();j++){
 						polja.at(i).at(j)=Polje::Prazno;
 					}
 				}
 				throw std::runtime_error ("Igra zavrsena");
 			}
 			else if (status==Status::KrajPobjeda){
 				std::cout &lt;&lt; "Bravo, obisli ste sva sigurna polja";
 					for (int i(0);i&lt;polja.size();i++){
 					for(int j(0);j&lt;polja.at(i).size();j++){
 						polja.at(i).at(j)=Polje::Prazno;
 					}
 				}
 				throw std::runtime_error ("Igra zavrsena");
 			}
 			std::cout &lt;&lt;"Tekuca pozicija igraca je (" &lt;&lt; x &lt;&lt; "," &lt;&lt; y &lt;&lt; ")" &lt;&lt; std::endl;
 			
 		}
 		catch(std::out_of_range izuzetak){
        	std::cout &lt;&lt; izuzetak.what() &lt;&lt; std::endl;
 		}
        catch(std::logic_error izuzetak){
        	std::cout &lt;&lt; izuzetak.what() &lt;&lt; std::endl;
        }
    }
 	else if(komanda==Komande::PrikaziOkolinu){
 		try{
 				Matrica m=PrikaziOkolinu(polja,x,y);
 			for (int i(0);i&lt;m.size();i++){
 				for(int j(0);j&lt;m.at(i).size();j++){
 					std::cout &lt;&lt; m.at(i).at(j) &lt;&lt; " ";
 				}
 				std::cout &lt;&lt; std::endl;
 			}
 		}
 		catch (std::domain_error izuzetak){
 			std::cout &lt;&lt; izuzetak.what() &lt;&lt; std::endl;
 		}
 	}
 	else if(komanda==Komande::ZavrsiIgru){
 		for (int i(0);i&lt;polja.size();i++){
 			for (int j(0);j&lt;polja.at(i).size();j++){
 				polja.at(i).at(j)=Polje::Prazno;
 			}
 		}
 		throw std::runtime_error ("Igra zavrsena");
 	}
 	else if (komanda==Komande::KreirajIgru){   
 		int n,e(0);
 		while (e!=2){
 			std::cout &lt;&lt; "Unesite broj polja: ";
 			std::cin &gt;&gt; n;
 			if (n&lt;=0) std::cout &lt;&lt; "Greska, unesite ponovo!" &lt;&lt; std::endl;
 			else break;
 		}	
 		Matrica mine;
 		std::cout &lt;&lt; "Unesite pozicije mina: ";
 		std::complex&lt;int&gt; mina;
 		while (true){
 			std::cin.clear();
 			std::cin.ignore(10000,'\n');
 			std::cin &gt;&gt; mina;
 			if(!std::cin){
 				std::cin.clear();
 				if(std::cin.peek()=='.'){
 					std::cin.ignore(10000,'\n');
 					break;
 				}
 				else {
 					std::cout &lt;&lt; "Greska, unesite ponovo!" &lt;&lt; std::endl;
 					continue;
 				}
 			}
 			else if(mina.real()&lt;0 || mina.real()&gt;=n || mina.imag()&lt;0 || mina.imag()&gt;=n){
 				std::cout &lt;&lt; "Greska, unesite ponovo!"&lt;&lt; std::endl;
 				continue;
 			}
 			mine.push_back({mina.real(),mina.imag()});
 			x=0;
 			y=0;
 		}
 		try{
 			polja=KreirajIgru(n,mine);
 		}
 		catch(std::domain_error err){
 			std::cout &lt;&lt; err.what() &lt;&lt; std::endl;
 		}
 	}
 }


int main (){
	Komande komanda;
	KodoviGresaka greska;
	Tabla tabla;
	Smjerovi smjer;
	int x(0),y(0),X(0),Y(0);
	try{
		do{
			std::cout &lt;&lt; "Unesite komandu: ";
			if (UnosKomande(komanda,smjer,x,y,greska)){
				IzvrsiKomandu(komanda,tabla,x,y,smjer,X,Y);
			}
			else PrijaviGresku(greska);
		}while(true);
	}
	catch (std::domain_error err){
		std::cout &lt;&lt; err.what() &lt;&lt; std::endl;
	}
	catch (std::runtime_error err){
	}
	catch (std::out_of_range err){
		std::cout &lt;&lt; err.what() &lt;&lt; std::endl;
	}
	catch (std::logic_error err){
		std::cout &lt;&lt; err.what() &lt;&lt; std::endl;
	}
	catch (...){}
	std::cout &lt;&lt; "Dovidjenja!";
return 0;
}</pre>
</body>
</html>
