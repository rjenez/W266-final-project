<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z2/Z1/student9238.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z2/Z1/student4026.cpp<p></p><pre>
/*B 2017/2018, ZadaÄ‡a 2, Zadatak 1
	
	NAPOMENA: ulaz/izlaz za zadatke je specificiran
	javnim autotestovima. Zalbe za ne analiziranje testova
	se ne uvazavaju!
	
	NAPOMENA: nece svi (javni) testovi sa zamgera biti 
	dostupni na c9.

	Za sva ostala pitanja i nedoumice vezane za 
	autotestove javiti se na forum (c2).
*/
#include &lt;iostream&gt;
#include &lt;vector&gt;
#include &lt;stdexcept&gt;
#include &lt;string&gt;

enum class Polje {Prazno, Posjeceno, Mina, BlokiranoPrazno, BlokiranoPosjeceno, BlokiranoMina};
enum class Smjerovi {GoreLijevo, Gore, GoreDesno, Desno, DoljeDesno, Dolje, DoljeLijevo, Lijevo};
enum class Status {NijeKraj, KrajPoraz, KrajPobjeda};
enum class KodoviGresaka {PogresnaKomanda, NedostajeParametar, SuvisanParametar, NeispravanParametar};
enum class Komande {PomjeriJednoMjesto, PomjeriDalje, Blokiraj, Deblokiraj, PrikaziOkolinu, ZavrsiIgru, KreirajIgru};
typedef std::vector&lt;std::vector&lt;Polje&gt;&gt; Tabla;

bool Blokirano(Polje polje) {
	
	if(polje==Polje::BlokiranoPosjeceno || polje==Polje::BlokiranoPrazno || polje==Polje::BlokiranoMina)
	return true;
	return false;
}

void PostaviPrazno (Tabla &amp;polja) {

for(int i=0;i&lt;polja.size();i++) 
for(int j=0;j&lt;polja[i].size();j++)
polja[i][j]=Polje::Prazno;

}

bool Pobjeda (Tabla &amp;polja,int x, int y) {
<a name="6"></a><font color="#00FF00"><a href="match337-0.html#6" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_0.gif"/></a>

	for(int i=0;i&lt;polja.size();i++)
	for(int j=0;j&lt;polja[i].size();j++)
	if(polja[i][j]==Polje::Prazno &amp;&amp; i!=x &amp;&amp; i!=y)
</font>	return false;
	
	return true;
}


Tabla KreirajIgru (int n, const std::vector&lt;std::vector&lt;int&gt;&gt; &amp;mine) {
	
	if(n&lt;=0) throw std::domain_error("Ilegalna velicina");
<a name="0"></a><font color="#FF0000"><a href="match337-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_1.gif"/></a>

	Tabla tabla (n,std::vector&lt;Polje&gt; (n,Polje::Prazno));
	for(int i=0;i&lt;mine.size();i++) {
		if(mine[i].size()!=2) throw std::domain_error("Ilegalan format zadavanja mina");
		if(mine[i][0]&gt;=tabla.size() || mine[i][1]&gt;=tabla[mine[i][0]].size()) throw std::domain_error("Ilegalne pozicije mina");
</font><a name="1"></a><font color="#00FF00"><a href="match337-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_1.gif"/></a>

		tabla[mine[i][0]][mine[i][1]]=Polje::Mina;
	}

	return tabla;
}

std::vector&lt;std::vector&lt;int&gt;&gt; PrikaziOkolinu (const Tabla &amp;polja, int x, int y) {
</font>
if(x&gt;=polja.size() || y&gt;=polja[0].size())  {
	char x='0'+x; char y='0'+y;
	std::string poruka=std::string()+"Polje " + "("+x+","+y+")"+" ne postoji";
	throw std::domain_error(poruka);
}

std::vector&lt;std::vector&lt;int&gt;&gt; matrica(3,std::vector&lt;int&gt;(3,0));

for(int i=-1;i&lt;2;i++) {

for(int j=-1;j&lt;2;j++) {
int brojac=0;
if(x+i&lt;polja.size() &amp;&amp; x+i&gt;=0 &amp;&amp; y+j&lt;polja[0].size() &amp;&amp; y+j&gt;=0) {

for(int k=-1;k&lt;2;k++) {
	
	for(int m=-1;m&lt;2;m++) {
	if( x+i+k&gt;=0 &amp;&amp; x+i+k&lt;polja.size() &amp;&amp; y+j+m&gt;=0 &amp;&amp; y+j+m&lt;polja[0].size()&amp;&amp; polja[x+i+k][y+j+m]==Polje::Mina &amp;&amp; (m!=0 || k!=0) ) brojac++;
	
	}
}

}
matrica[i+1][j+1]=brojac;
}

}

return matrica;
}

void BlokirajPolje(Tabla &amp;polja, int x, int y) {

if(x&gt;=polja.size() || y&gt;=polja[0].size())  {
	char x='0'+x; char y='0'+y;
	std::string poruka=std::string()+"Polje " + "("+x+","+y+")"+" ne postoji";
	throw std::domain_error(poruka);
	
}

if(polja[x][y]!=Polje::BlokiranoPrazno &amp;&amp;polja[x][y]!=Polje::BlokiranoPosjeceno&amp;&amp;polja[x][y]!=Polje::BlokiranoMina) {

if(polja[x][y]==Polje::Prazno)polja[x][y]=Polje::BlokiranoPrazno;
if(polja[x][y]==Polje::Posjeceno)polja[x][y]=Polje::BlokiranoPosjeceno;
<a name="8"></a><font color="#00FFFF"><a href="match337-0.html#8" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_0.gif"/></a>

if(polja[x][y]==Polje::Mina)polja[x][y]=Polje::BlokiranoMina;	
}

}

void DeblokirajPolje(Tabla &amp;polja, int x, int y) {

if(x&gt;=polja.size() || y&gt;=polja[0].size())  {
</font>	char x='0'+x; char y='0'+y;
	std::string poruka=std::string()+"Polje " + "("+x+","+y+")"+" ne postoji";
	throw std::domain_error(poruka);
}

if(polja[x][y]==Polje::BlokiranoPrazno || polja[x][y]==Polje::BlokiranoPosjeceno || polja[x][y]==Polje::BlokiranoMina) {
	
if(polja[x][y]==Polje::BlokiranoPrazno)polja[x][y]=Polje::Prazno;
if(polja[x][y]==Polje::BlokiranoPosjeceno)polja[x][y]=Polje::Posjeceno;
<a name="2"></a><font color="#0000FF"><a href="match337-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_0.gif"/></a>

if(polja[x][y]==Polje::BlokiranoMina)polja[x][y]=Polje::Mina;

}

}

Status Idi (Tabla &amp;polja, int&amp;x,int&amp;y, Smjerovi smjer) {
</font>

if(smjer==Smjerovi::Lijevo){
	if(y-1&lt;0) throw std::out_of_range("Izlazak van igrace table");
	if(Blokirano(polja[x][y-1])) throw std::logic_error("Blokirano polje");
	if(polja[x][y-1]==Polje::Mina) {
		PostaviPrazno(polja);
		return Status::KrajPoraz;
	}
	polja[x][y]=Polje::Posjeceno;
	y=y-1;
	
if (Pobjeda(polja,x,y)) return Status::KrajPobjeda;
}

else if(smjer==Smjerovi::GoreLijevo){
	if(x-1&lt;0 || y-1&lt;0) throw std::out_of_range("Izlazak van igrace table");
	if(Blokirano(polja[x-1][y-1])) throw std::logic_error("Blokirano polje");
	if(polja[x-1][y-1]==Polje::Mina) {
		PostaviPrazno(polja);
		return Status::KrajPoraz;
	}
	polja[x][y]=Polje::Posjeceno;
	x=x-1;y=y-1;
	
if (Pobjeda(polja,x,y)) return Status::KrajPobjeda;
}

else if(smjer==Smjerovi::Gore){
	if(x-1&lt;0) throw std::out_of_range("Izlazak van igrace table");
	if(Blokirano(polja[x-1][y])) throw std::logic_error("Blokirano polje");
	if(polja[x-1][y]==Polje::Mina) {
		PostaviPrazno(polja);
		return Status::KrajPoraz;
	}
	polja[x][y]=Polje::Posjeceno;
    x=x-1;
    
if (Pobjeda(polja,x,y)) return Status::KrajPobjeda;
}

else if(smjer==Smjerovi::GoreDesno){
	if(x-1&lt;0 || y+1&gt;=polja[0].size()) throw std::out_of_range("Izlazak van igrace table");
	if(Blokirano(polja[x-1][y+1])) throw std::logic_error("Blokirano polje");
	if(polja[x-1][y+1]==Polje::Mina) {
		PostaviPrazno(polja);
		return Status::KrajPoraz;
	}
	polja[x][y]=Polje::Posjeceno;
	x=x-1;y=y+1;
	
if (Pobjeda(polja,x,y)) return Status::KrajPobjeda;
}

else if(smjer==Smjerovi::Desno){
	if(y+1&gt;=polja[x].size()) throw std::out_of_range("Izlazak van igrace table");
	if(Blokirano(polja[x][y+1])) throw std::logic_error("Blokirano polje");
	if(polja[x][y+1]==Polje::Mina) {
		PostaviPrazno(polja);
		return Status::KrajPoraz;
	}
	polja[x][y]=Polje::Posjeceno;
    y=y+1;
	
if (Pobjeda(polja,x,y)) return Status::KrajPobjeda;
}

else if(smjer==Smjerovi::DoljeDesno){
	if(x+1&gt;=polja.size() || y+1&gt;=polja[0].size()) throw std::out_of_range("Izlazak van igrace table");
	if(Blokirano(polja[x+1][y+1])) throw std::logic_error("Blokirano polje");
	if(polja[x+1][y+1]==Polje::Mina) {
		PostaviPrazno(polja);
		return Status::KrajPoraz;
	}
	polja[x][y]=Polje::Posjeceno;
    y=y+1;x=x+1;
	
if (Pobjeda(polja,x,y)) return Status::KrajPobjeda;
}

else if(smjer==Smjerovi::Dolje){
	if(x+1&gt;=polja.size()) throw std::out_of_range("Izlazak van igrace table");
	if(Blokirano(polja[x+1][y])) throw std::logic_error("Blokirano polje");
	if(polja[x+1][y]==Polje::Mina) {
		PostaviPrazno(polja);
		return Status::KrajPoraz;
	}
	polja[x][y]=Polje::Posjeceno;
   x=x+1;
	
if (Pobjeda(polja,x,y)) return Status::KrajPobjeda;
}

else if(smjer==Smjerovi::DoljeLijevo){
	if(x+1&gt;=polja.size() || y-1&lt;0) throw std::out_of_range("Izlazak van igrace table");
	if(Blokirano(polja[x+1][y-1])) throw std::logic_error("Blokirano polje");
	if(polja[x+1][y-1]==Polje::Mina) {
		PostaviPrazno(polja);
		return Status::KrajPoraz;
	}
	polja[x][y]=Polje::Posjeceno;
    y=y-1;x=x+1;
	
if (Pobjeda(polja,x,y)) return Status::KrajPobjeda;
}



<a name="9"></a><font color="#FF00FF"><a href="match337-0.html#9" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_0.gif"/></a>

return Status::NijeKraj;
}


Status Idi (Tabla &amp;polja, int&amp;x, int&amp;y, int novi_x, int novi_y) {

if(novi_x&gt;=polja[0].size() || novi_x &lt;0 || novi_y&gt;=polja.size() || novi_y&lt;0) throw std::out_of_range("Izlazak van igrace table");
</font>if(Blokirano(polja[novi_x][novi_y])) throw std::logic_error("Blokirano polje");
if(polja[novi_x][novi_y]==Polje::Mina) {
	PostaviPrazno(polja);
	return Status::KrajPoraz;
}


polja[x][y]=Polje::Posjeceno;
x=novi_x;y=novi_y;
if(Pobjeda(polja,x,y)) return Status::KrajPobjeda;

return Status::NijeKraj;
}


void PrijaviGresku (KodoviGresaka greska) {

if(greska==KodoviGresaka::PogresnaKomanda) std::cout&lt;&lt;"Nerazumljiva komanda!"&lt;&lt;std::endl;
else if(greska==KodoviGresaka::NedostajeParametar) std::cout&lt;&lt;"Komanda trazi parametar koji nije naveden!"&lt;&lt;std::endl;
else if(greska==KodoviGresaka::NeispravanParametar) std::cout&lt;&lt;"Parametar komande nije ispravan!"&lt;&lt;std::endl;
else if(greska==KodoviGresaka::SuvisanParametar) std::cout&lt;&lt;"Zadan je suvisan parametar nakon komande!"&lt;&lt;std::endl;

}

<a name="5"></a><font color="#FF0000"><a href="match337-0.html#5" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_0.gif"/></a>

bool UnosKomande(Komande &amp;komanda, Smjerovi &amp;smjer, int&amp;x, int&amp;y, KodoviGresaka &amp;greska){

std::string rijec;
std::getline(std::cin,rijec);
int i=0;
</font>	
<a name="10"></a><font color="#FF0000"><a href="match337-0.html#10" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_0.gif"/></a>

	while(i&lt;rijec.size() &amp;&amp;rijec[i]==' ')i++;
	if(i==rijec.size()) {greska=KodoviGresaka::PogresnaKomanda;return false;}
</font>	if(rijec[i]=='P') {
		i++;
		 
		
		if(rijec[i]=='1') {
			i++;
<a name="11"></a><font color="#00FF00"><a href="match337-0.html#11" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_0.gif"/></a>

			while(i&lt;rijec.size() &amp;&amp; rijec[i]==' ') i++;
			if(i==rijec.size()) {greska=KodoviGresaka::NedostajeParametar; return false;}
</font>			

			if(rijec[i]=='G') {
			i++;
		
				if(i&lt;rijec.size() &amp;&amp; (rijec[i]='D' || rijec[i]=='L')) {
					char a=rijec[i];
					i++;
			while(i&lt;rijec.size()&amp;&amp;rijec[i]==' ') i++;
			if(i==rijec.size()) {
				if(a=='D')smjer=Smjerovi::GoreDesno;komanda=Komande::PomjeriJednoMjesto; return true;
				if(a=='L')smjer=Smjerovi::GoreLijevo;komanda=Komande::PomjeriJednoMjesto;return true;
				}
			else {greska=KodoviGresaka::NeispravanParametar; return false;}
		   }
			
<a name="12"></a><font color="#0000FF"><a href="match337-0.html#12" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_0.gif"/></a>

			while(i&lt;rijec.size() &amp;&amp; rijec[i]==' ')i++;
			if(i==rijec.size()) {smjer=Smjerovi::Gore;komanda=Komande::PomjeriJednoMjesto; return true;}
</font>			else {greska=KodoviGresaka::NeispravanParametar; return false;}
			
			}
			
			if(rijec[i]=='D') {
			i++;
		
			if(i&lt;rijec.size() &amp;&amp; rijec[i]=='o') {
				i++;
				
				if(i&lt;rijec.size() &amp;&amp; (rijec[i]='D' || rijec[i]=='L')) {
					char a=rijec[i];
					i++;
			while(i&lt;rijec.size()&amp;&amp;rijec[i]==' ') i++;
			if(i==rijec.size()) {
				if(a=='D')smjer=Smjerovi::DoljeDesno; komanda=Komande::PomjeriJednoMjesto;return true;
				if(a=='L')smjer=Smjerovi::DoljeLijevo;komanda=Komande::PomjeriJednoMjesto;return true;
				}
			else {greska=KodoviGresaka::NeispravanParametar; return false;}
		   }
		   
<a name="13"></a><font color="#00FFFF"><a href="match337-0.html#13" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_0.gif"/></a>

		   while(i&lt;rijec.size() &amp;&amp; rijec[i]==' ')i++;
			if(i==rijec.size()) {smjer=Smjerovi::Dolje;komanda=Komande::PomjeriJednoMjesto; return true;}
</font>			else {greska=KodoviGresaka::NeispravanParametar; return false;}
	    }
	    
<a name="14"></a><font color="#FF00FF"><a href="match337-0.html#14" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_0.gif"/></a>

	     while(i&lt;rijec.size() &amp;&amp; rijec[i]==' ')i++;
			if(i==rijec.size()) {smjer=Smjerovi::Desno;komanda=Komande::PomjeriJednoMjesto; return true;}
</font>			else {greska=KodoviGresaka::NeispravanParametar; return false;}
}

     if(rijec[i]=='L') {
     	 while(i&lt;rijec.size() &amp;&amp; rijec[i]==' ')i++;
			if(i==rijec.size()) {smjer=Smjerovi::Lijevo;komanda=Komande::PomjeriJednoMjesto; return true;}
			else {greska=KodoviGresaka::NeispravanParametar; return false;}
     }

<a name="3"></a><font color="#00FFFF"><a href="match337-0.html#3" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_0.gif"/></a>

else {greska=KodoviGresaka::NeispravanParametar; return false;}

}//p1 uslov


if(rijec[i]=='&gt;') {

i++;
while(i&lt;rijec.size() &amp;&amp; rijec[i]==' ')i++;
if(i==rijec.size()) {greska=KodoviGresaka::NedostajeParametar; return false;}
</font>int pomocnix=0,pomocniy=0;

while(i&lt;rijec.size()&amp;&amp;'0'&lt;=rijec[i] &amp;&amp; rijec[i]&lt;='9') {pomocnix*=10; pomocnix=pomocnix+rijec[i]-48; i++; }

if(i==rijec.size()) {greska=KodoviGresaka::NedostajeParametar; return false;}

if(rijec[i]==' ') {
<a name="17"></a><font color="#0000FF"><a href="match337-0.html#17" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_0.gif"/></a>

	while(i&lt;rijec.size() &amp;&amp; rijec[i]==' ')i++;
	if(i==rijec.size()){greska=KodoviGresaka::NedostajeParametar;return false;}
</font><a name="15"></a><font color="#FF0000"><a href="match337-0.html#15" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_0.gif"/></a>

	while(i&lt;rijec.size() &amp;&amp; '0'&lt;=rijec[i] &amp;&amp; rijec[i]&lt;='9') {pomocniy*=10; pomocniy=pomocniy+rijec[i]-48;i++;}
	while(i&lt;rijec.size() &amp;&amp; rijec[i]==' ')i++;
	if(i!=rijec.size()){greska=KodoviGresaka::NeispravanParametar; return false; }
</font>	else {
		x=pomocnix; y=pomocniy;komanda=Komande::PomjeriDalje; return true;
	}
}

else {greska=KodoviGresaka::NeispravanParametar; return false;}

}//&gt;uslov

<a name="4"></a><font color="#FF00FF"><a href="match337-0.html#4" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_0.gif"/></a>

if(rijec[i]=='O') {
i++;
while(i&lt;rijec.size() &amp;&amp; rijec[i]==' ')i++;
if(i!=rijec.size()) {greska=KodoviGresaka::PogresnaKomanda; return false;}
</font>komanda=Komande::PrikaziOkolinu; return true;

}

else {greska=KodoviGresaka::PogresnaKomanda; return false;}

}  //p uslov

<a name="16"></a><font color="#00FF00"><a href="match337-0.html#16" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_0.gif"/></a>

if(rijec[i]=='B') {


i++;
while(i&lt;rijec.size() &amp;&amp; rijec[i]==' ')i++;
if(i==rijec.size()) {greska=KodoviGresaka::NedostajeParametar; return false;}
</font>int pomocnix=0,pomocniy=0;

while(i&lt;rijec.size()&amp;&amp;'0'&lt;=rijec[i] &amp;&amp; rijec[i]&lt;='9') {pomocnix*=10; pomocnix=pomocnix+rijec[i]-48; i++; }

if(i==rijec.size()) {greska=KodoviGresaka::NedostajeParametar; return false;}

if(rijec[i]==' ') {
	while(i&lt;rijec.size() &amp;&amp; rijec[i]==' ')i++;
	if(i==rijec.size()){greska=KodoviGresaka::NedostajeParametar;return false;}
	while(i&lt;rijec.size() &amp;&amp; '0'&lt;=rijec[i] &amp;&amp; rijec[i]&lt;='9') {pomocniy*=10; pomocniy=pomocniy+rijec[i]-48;i++;}
	while(i&lt;rijec.size() &amp;&amp; rijec[i]==' ')i++;
	if(i!=rijec.size()){greska=KodoviGresaka::NeispravanParametar; return false; }
	else {
		x=pomocnix; y=pomocniy;komanda=Komande::Blokiraj; return true;
	}
}

else {greska=KodoviGresaka::NeispravanParametar; return false;}

}

if(rijec[i]=='D') {
i++;
while(i&lt;rijec.size() &amp;&amp; rijec[i]==' ')i++;
if(i==rijec.size()) {greska=KodoviGresaka::NedostajeParametar; return false;}
int pomocnix=0,pomocniy=0;

while(i&lt;rijec.size()&amp;&amp;'0'&lt;=rijec[i] &amp;&amp; rijec[i]&lt;='9') {pomocnix*=10; pomocnix=pomocnix+rijec[i]-48; i++; }

if(i==rijec.size()) {greska=KodoviGresaka::NedostajeParametar; return false;}

if(rijec[i]==' ') {
	while(i&lt;rijec.size() &amp;&amp; rijec[i]==' ')i++;
	if(i==rijec.size()){greska=KodoviGresaka::NedostajeParametar;return false;}
	while(i&lt;rijec.size() &amp;&amp; '0'&lt;=rijec[i] &amp;&amp; rijec[i]&lt;='9') {pomocniy*=10; pomocniy=pomocniy+rijec[i]-48;i++;}
	while(i&lt;rijec.size() &amp;&amp; rijec[i]==' ')i++;
	if(i!=rijec.size()){greska=KodoviGresaka::NeispravanParametar; return false; }
	else {
		x=pomocnix; y=pomocniy;komanda=Komande::Deblokiraj; return true;
	}
}

else {greska=KodoviGresaka::NeispravanParametar; return false;}

}


if(rijec[i]=='Z') {
	i++;
<a name="7"></a><font color="#0000FF"><a href="match337-0.html#7" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_0.gif"/></a>

while(i&lt;rijec.size() &amp;&amp; rijec[i]==' ')i++;
if(i!=rijec.size()) {greska=KodoviGresaka::PogresnaKomanda; return false;}

komanda=Komande::ZavrsiIgru; return true;
</font>}

if(rijec[i]=='K') {
	i++;
while(i&lt;rijec.size() &amp;&amp; rijec[i]==' ')i++;
if(i!=rijec.size()) {greska=KodoviGresaka::PogresnaKomanda; return false;}

komanda=Komande::KreirajIgru; return true;
}

else {greska=KodoviGresaka::PogresnaKomanda;return false;}


	return true;
}


void IzvrsiKomandu(Komande komanda, Tabla &amp;polja, int&amp;x, int&amp;y, Smjerovi p_smjer=Smjerovi::Gore, int p_x=0, int p_y=0){
	
	
	
try {

	if(komanda==Komande::KreirajIgru) {
	
	std::cout&lt;&lt;"Unesite broj polja: "; 
	int n;
	std::cin&gt;&gt;n;
	while(!std::cin || std::cin.peek()!='\n' || n&lt;=0)
	{
		std::cout&lt;&lt;"Greska, unesite ponovo!"&lt;&lt;std::endl;
		std::cout&lt;&lt;"Unesite broj polja: ";
		std::cin&gt;&gt;n;
	}
	std::cin.ignore(1000,'\n');
	std::vector&lt;std::vector&lt;int&gt;&gt; matrica;

	std::cout&lt;&lt;"Unesite pozicije mina: ";
	std::string recenica;
	bool greska=false;
do{greska=false;
	std::vector&lt;int&gt; pomocni;
	std::getline(std::cin, recenica);
	if(recenica[0]=='.')break;
	int i=0,x=0,y=0;
while(i&lt;recenica.size() &amp;&amp; recenica[i]==' ')i++;
	if(i!=recenica.size() &amp;&amp; recenica[i]=='(') {
		i++;
		
	while(i&lt;recenica.size()&amp;&amp; recenica[i]==' ')i++;
	if(i!=recenica.size() &amp;&amp; recenica[i]&lt;='9' &amp;&amp; recenica[i]&gt;='0' &amp;&amp; recenica[i]-48&lt;n) {
	
		pomocni.push_back(recenica[i]-48);
		i++;
	while(i&lt;recenica.size()&amp;&amp; recenica[i]==' ')i++; 
		if(i!=recenica.size() &amp;&amp; recenica[i]==',') {
			i++;
		
			while(i&lt;recenica.size() &amp;&amp; recenica[i]==' ')i++;
			if(i!=recenica.size() &amp;&amp; recenica[i]&lt;='9' &amp;&amp; recenica[i]&gt;='0' &amp;&amp; recenica[i]-48&lt;n ) {
				pomocni.push_back(recenica[i]-48);
				i++;
			
				while(i&lt;recenica.size() &amp;&amp; recenica[i]==' ')i++;
                 if(i!=recenica.size()&amp;&amp;recenica[i]==')') {
                 
                 	i++; while(i&lt;recenica.size()&amp;&amp;recenica[i]==' ')i++;
                 	if(i==recenica.size())matrica.push_back(pomocni);
                 	else {std::cout&lt;&lt;"Greska, unesite ponovo!"; greska=true;}
                 }
				else {std::cout&lt;&lt;"Greska, unesite ponovo!"&lt;&lt;std::endl; greska=true;}
			}
				else {std::cout&lt;&lt;"Greska, unesite ponovo!"&lt;&lt;std::endl; greska=true;}
		}
			else {std::cout&lt;&lt;"Greska, unesite ponovo!"&lt;&lt;std::endl; greska=true;}
	}
		else {std::cout&lt;&lt;"Greska, unesite ponovo!"&lt;&lt;std::endl; greska=true;}
	}
	else {std::cout&lt;&lt;"Greska, unesite ponovo!"&lt;&lt;std::endl; greska=true;}
	
}
	while(greska==true || recenica[0]!='.');
	

	polja=KreirajIgru(n,matrica);
	}
	
	if(komanda==Komande::ZavrsiIgru) {
	
	PostaviPrazno(polja);
	throw std::runtime_error("Igra zavrsena");
	}
	
	if(komanda==Komande::PomjeriJednoMjesto) {

	if (Idi(polja,x,y,p_smjer)==Status::NijeKraj) {
		std::cout&lt;&lt;"Tekuca pozicija igraca je ("&lt;&lt;x&lt;&lt;","&lt;&lt;y&lt;&lt;")"&lt;&lt;std::endl;
	}
	else if(Idi(polja,x,y,p_smjer)==Status::KrajPobjeda) {
		std::cout&lt;&lt;"Bravo, obisli ste sva sigurna polja"&lt;&lt;std::endl;
		PostaviPrazno(polja);
	throw std::runtime_error("Igra zavrsena");
	}
	
	else if(Idi(polja,x,y,p_smjer)==Status::KrajPoraz) {
		std::cout&lt;&lt;"Nagazili ste na minu"&lt;&lt;std::endl;
		PostaviPrazno(polja);
	throw std::runtime_error("Igra zavrsena");
	}
	
	}
	
	if(komanda==Komande::PomjeriDalje) {
	
	Status pomocni=Idi(polja,x,y,p_x,p_y);
		if(pomocni==Status::NijeKraj) {
		
			std::cout&lt;&lt;"Tekuca pozicija igraca je ("&lt;&lt;x&lt;&lt;","&lt;&lt;y&lt;&lt;")"&lt;&lt;std::endl;
		}
		else if(pomocni==Status::KrajPobjeda) {
		std::cout&lt;&lt;"Bravo, obisli ste sva sigurna polja"&lt;&lt;std::endl;
		PostaviPrazno(polja);
	throw std::runtime_error("Igra zavrsena");
	}
  else	 if(pomocni==Status::KrajPoraz) {
		
		std::cout&lt;&lt;"Nagazili ste na minu"&lt;&lt;std::endl;
		PostaviPrazno(polja);
	throw std::runtime_error("Igra zavrsena");
	}
		
	}
	
	if(komanda==Komande::Blokiraj) {
	BlokirajPolje(polja,p_x,p_y);
	}
	
	if(komanda==Komande::Deblokiraj) {
		DeblokirajPolje(polja,p_x,p_y);
	}
	
	if(komanda==Komande::PrikaziOkolinu) {
	
	std::vector&lt;std::vector&lt;int&gt;&gt; matrica=PrikaziOkolinu(polja,p_x,p_y);
	for(auto &amp;b:matrica) {
		for(auto &amp;a:b) {
<a name="18"></a><font color="#00FFFF"><a href="match337-0.html#18" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_0.gif"/></a>

			std::cout&lt;&lt;a&lt;&lt;" ";
		}
		std::cout&lt;&lt;std::endl;
	}
	
	}
}
catch(std::domain_error izuzetak) {
	std::cout&lt;&lt;izuzetak.what()&lt;&lt;std::endl;
</font>}

catch(std::out_of_range izuzetak) {
	std::cout&lt;&lt;izuzetak.what()&lt;&lt;std::endl;
}
	catch(std::logic_error izuzetak) {
	std::cout&lt;&lt;izuzetak.what()&lt;&lt;std::endl;
}

catch(std::runtime_error izuzetak) {
	throw;
}

	
}


int main ()
{
	Tabla polja;
	int x=0,y=0,px=0,py=0;
    KodoviGresaka greska;
    Komande komanda;
    Smjerovi smjer;
	try {
	while(1) {
	std::cout&lt;&lt;"Unesite komandu: ";
	if(UnosKomande(komanda,smjer,px,py,greska)) {
	IzvrsiKomandu(komanda,polja,x,y,smjer,px,py);
	}
	else PrijaviGresku(greska);
	}
	}
	catch(std::runtime_error) {
		std::cout&lt;&lt;"Dovidjenja!";
	}
	
	return 0;	
	}

	
	</pre>
</body>
</html>
