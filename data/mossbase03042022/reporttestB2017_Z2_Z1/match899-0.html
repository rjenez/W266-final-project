<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z2/Z1/student3169.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z2/Z1/student3169.cpp<p></p><pre>
/*B 2017/2018, Zadaća 2, Zadatak 1
	
	NAPOMENA: ulaz/izlaz za zadatke je specificiran
	javnim autotestovima. Zalbe za ne analiziranje testova
	se ne uvazavaju!
	
	NAPOMENA: nece svi (javni) testovi sa zamgera biti 
	dostupni na c9.

	Za sva ostala pitanja i nedoumice vezane za 
	autotestove javiti se na forum (c2).
*/
#include &lt;iostream&gt;
#include &lt;vector&gt;
#include &lt;stdexcept&gt;
#include &lt;string&gt;
#include &lt;sstream&gt;

enum class Polje{Prazno, Posjeceno, Mina, BlokiranoPrazno, BlokiranoPosjeceno, BlokiranoMina};
enum class Smjerovi {GoreLijevo, Gore, GoreDesno, Desno, DoljeDesno, Dolje, DoljeLijevo, Lijevo};
enum class Status {NijeKraj, KrajPoraz, KrajPobjeda};
enum class KodoviGresaka {PogresnaKomanda, NedostajeParametar, SuvisanParametar, NeispravanParametar};
enum class Komande {PomjeriJednoMjesto, PomjeriDalje, Blokiraj, Deblokiraj, PrikaziOkolinu, ZavrsiIgru, KreirajIgru};

typedef std::vector&lt;std::vector&lt;Polje&gt;&gt; Tabla;

template &lt;typename T&gt; std::string U_string(T x)
{
	std::ostringstream s;
	s&lt;&lt;x;
	return s.str();
}

Tabla KreirajIgru(int n, const std::vector&lt;std::vector&lt;int&gt;&gt; &amp;mine)
{
	for(int i(0);i&lt;mine.size();i++)
	{
		if(mine.at(i).size()!=2)throw std::domain_error("Ilegalan format zadavanja mina");
	}
	for(int i(0);i&lt;mine.size();i++)
	{
		for(int j(0);j&lt;mine.at(i).size();j++)
		{
			if(mine.at(i).at(j)&gt;=n)throw std::domain_error("Ilegalne pozicije mina");
		}
	}
	if(n&lt;=0)throw std::domain_error("Ilegalna veličina");
	
	Tabla tab1(n, std::vector&lt;Polje&gt;(n,Polje::Prazno));
	for(int i(0);i&lt;mine.size();i++)
	{
			tab1.at(mine.at(i).at(0)).at(mine.at(i).at(1))=Polje::Mina;
	}
	return tab1;
}

int suma(const Tabla &amp;polja, int x, int y)
{
	int Suma(0);
	
	for(int i(x-1);i&lt;=(x+1);i++)
	{
		if(i&lt;0 || i&gt;=polja.size())continue;
		for(int j(y-1);j&lt;=(y+1);j++)
		{
			if(j&lt;0 || j&gt;=polja.size())continue;
			if(polja.at(i).at(j)==Polje::Mina)Suma++;
		}
	}
	if(x&gt;=0 &amp;&amp; x&lt;polja.size() &amp;&amp; y&gt;=0 &amp;&amp; y&lt;polja.size() &amp;&amp; polja.at(x).at(y)==Polje::Mina)Suma--;
	return Suma;
}

std::vector&lt;std::vector&lt;int&gt;&gt; PrikaziOkolinu(const Tabla &amp;polja, int x, int y)
{
<a name="4"></a><font color="#FF00FF"><a href="match899-1.html#4" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_0.gif"/></a>

	if(x&lt;0 || y&lt;0 || x&gt;=polja.size() || y&gt;=polja.size())throw std::domain_error("Polje ("+U_string(x)+","+U_string(y)+") ne postoji");
</font>	std::vector&lt;std::vector&lt;int&gt;&gt;Matrica(3, std::vector&lt;int&gt;(3));
	int k(0);
	for(int i(x-1);i&lt;=(x+1);i++)
	{
		int l(0);
		for(int j(y-1);j&lt;=(y+1);j++)
		{
			Matrica.at(k).at(l)=suma(polja, i, j);
			l++;
		}
		k++;
	}
	return Matrica;
}

void BlokirajPolje(Tabla &amp;polja, int x, int y)
{
<a name="5"></a><font color="#FF0000"><a href="match899-1.html#5" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_0.gif"/></a>

	if(x&lt;0 || y&lt;0 || x&gt;=polja.size() || y&gt;=polja.size())throw std::domain_error("Polje ("+U_string(x)+","+U_string(y)+") ne postoji");
</font>	if(polja.at(x).at(y)!=Polje::BlokiranoPrazno &amp;&amp; polja.at(x).at(y)!=Polje::BlokiranoPosjeceno &amp;&amp; polja.at(x).at(y)!=Polje::BlokiranoMina)
	{
		if(polja.at(x).at(y)==Polje::Prazno)polja.at(x).at(y)=Polje::BlokiranoPrazno;
		else if(polja.at(x).at(y)==Polje::Posjeceno)polja.at(x).at(y)=Polje::BlokiranoPosjeceno;
		else if(polja.at(x).at(y)==Polje::Mina)polja.at(x).at(y)=Polje::BlokiranoMina;
	}
}

<a name="1"></a><font color="#00FF00"><a href="match899-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_0.gif"/></a>

void DeblokirajPolje(Tabla &amp;polja, int x, int y)
{
	if(x&lt;0 || y&lt;0 || x&gt;=polja.size() || y&gt;=polja.size())throw std::domain_error("Polje ("+U_string(x)+","+U_string(y)+") ne postoji");
</font>	if(polja.at(x).at(y)==Polje::BlokiranoPrazno || polja.at(x).at(y)==Polje::BlokiranoPosjeceno || polja.at(x).at(y)==Polje::BlokiranoMina)
	{
		if(polja.at(x).at(y)==Polje::BlokiranoPrazno)polja.at(x).at(y)=Polje::Prazno;
		else if(polja.at(x).at(y)==Polje::BlokiranoPosjeceno)polja.at(x).at(y)=Polje::Posjeceno;
		else if(polja.at(x).at(y)==Polje::BlokiranoMina)polja.at(x).at(y)=Polje::Mina;
	}
}

Status Idi(Tabla &amp;polja, int &amp;x, int &amp;y, Smjerovi smjer)
{
	int xx(x), yy(y);
	if(smjer==Smjerovi::GoreLijevo)
	{
		if(xx-1&lt;0 || yy-1&lt;0)throw std::out_of_range("Izlazak van igrace table");
		xx--;
		yy--;
	}
	if(smjer==Smjerovi::Gore)
	{
		if(xx-1&lt;0)throw std::out_of_range("Izlazak van igrace table");
		xx--;
	}
	if(smjer==Smjerovi::GoreDesno)
	{
		if(xx-1&lt;0 || yy+1&gt;=polja.size())throw std::out_of_range("Izlazak van igrace table");
		xx--;
		yy++;
	}
	if(smjer==Smjerovi::Lijevo)
	{
		if(yy-1&lt;0)throw std::out_of_range("Izlazak van igrace table");
		yy--;
	}
	if(smjer==Smjerovi::Desno)
	{
		if(yy+1&gt;=polja.size())throw std::out_of_range("Izlazak van igrace table");
		yy++;
	}
	if(smjer==Smjerovi::DoljeDesno)
	{
		if(xx+1&gt;=polja.size() || yy+1&gt;=polja.size())throw std::out_of_range("Izlazak van igrace table");
		xx++;
		yy++;
	}
	if(smjer==Smjerovi::DoljeLijevo)
	{
		if(xx+1&gt;=polja.size() || yy-1&lt;0)throw std::out_of_range("Izlazak van igrace table");
		xx++;
		yy--;
	}
	if(smjer==Smjerovi::Dolje)
	{
		if(xx+1&gt;=polja.size())throw std::out_of_range("Izlazak van igrace table");
		xx++;
	}
	
	if(polja.at(xx).at(yy)==Polje::BlokiranoPrazno || polja.at(xx).at(yy)==Polje::BlokiranoPosjeceno || polja.at(xx).at(yy)==Polje::BlokiranoMina)throw std::logic_error("Blokirano polje");
	polja.at(x).at(y)=Polje::Posjeceno;
	x=xx;
	y=yy;
	if(polja.at(x).at(y)==Polje::Mina)
	{
		for(int i(0);i&lt;polja.size();i++)
		{
			for(int j(0);j&lt;polja.at(i).size();j++){
				polja.at(i).at(j)=Polje::Prazno;
			}
		}
		return Status::KrajPoraz;
	}
	if(polja.at(x).at(y)==Polje::Posjeceno || polja.at(x).at(y)==Polje::Prazno)
	{
		for(int i(0);i&lt;polja.size();i++)
		{
			for(int j(0);j&lt;polja.at(i).size();j++)
			{
				if(i==x &amp;&amp; j==y)continue;
				if(polja.at(i).at(j)==Polje::Prazno)
				{
					return Status::NijeKraj;
				}
			}
		}
	}
	
<a name="0"></a><font color="#FF0000"><a href="match899-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_0.gif"/></a>

	return Status::KrajPobjeda;
}

Status Idi(Tabla &amp;polja, int &amp;x, int &amp;y, int novi_x, int novi_y)
{
	if(novi_x&lt;0 || novi_y&lt;0 || novi_x&gt;=polja.size() || novi_y&gt;=polja.size())throw std::out_of_range("Izlazak van igrace table");
	if(polja.at(novi_x).at(novi_y)==Polje::BlokiranoPrazno || polja.at(novi_x).at(novi_y)==Polje::BlokiranoPosjeceno || polja.at(novi_x).at(novi_y)==Polje::BlokiranoMina)throw std::logic_error("Blokirano polje");
</font>	polja.at(x).at(y)=Polje::Posjeceno;
	x=novi_x;
	y=novi_y;
	if(polja.at(x).at(y)==Polje::Mina)
	{
		for(int i(0);i&lt;polja.size();i++)
		{
			for(int j(0);j&lt;polja.at(i).size();j++)
			{
				polja.at(i).at(j)=Polje::Prazno;
			}
		}
		return Status::KrajPoraz;
	}
	if(polja.at(x).at(y)==Polje::Posjeceno || polja.at(x).at(y)==Polje::Prazno)
	{
		for(int i(0);i&lt;polja.size();i++)
		{
			for(int j(0);j&lt;polja.at(i).size();j++)
			{
				if(i==x &amp;&amp; j==y)continue;
				if(polja.at(i).at(j)==Polje::Prazno)
				{
					return Status::NijeKraj;
				}
			}
		}
	}
	return Status::KrajPobjeda;
}

void PrijaviGresku(KodoviGresaka greske)
{
<a name="6"></a><font color="#00FF00"><a href="match899-1.html#6" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_0.gif"/></a>

	if(greske==KodoviGresaka::NedostajeParametar)std::cout&lt;&lt;"Komanda trazi parametar koji nije naveden!"&lt;&lt;std::endl;
	if(greske==KodoviGresaka::NeispravanParametar)std::cout&lt;&lt;"Parametar komande nije ispravan!"&lt;&lt;std::endl;
	if(greske==KodoviGresaka::SuvisanParametar)std::cout&lt;&lt;"Zadan je suvisan parametar nakon komande!"&lt;&lt;std::endl;
</font><a name="7"></a><font color="#0000FF"><a href="match899-1.html#7" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_0.gif"/></a>

	if(greske==KodoviGresaka::PogresnaKomanda)std::cout&lt;&lt;"Nerazumljiva komanda!"&lt;&lt;std::endl;
}
bool UnosKomande(Komande &amp;komanda, Smjerovi &amp;smjer, int &amp;x, int &amp;y, KodoviGresaka &amp;greska)
</font>{
	char unos;
	std::cin&gt;&gt;unos;
	while(unos==' ')unos=std::cin.get();
	if(unos!='P' &amp;&amp; unos!='B' &amp;&amp; unos!='D' &amp;&amp; unos!='Z' &amp;&amp; unos!='K')
	{
		greska=KodoviGresaka::PogresnaKomanda;
		std::cin.ignore(10000,'\n');
		return false;
	}
	
	if(unos=='K')
	{
<a name="2"></a><font color="#0000FF"><a href="match899-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_0.gif"/></a>

		while(std::cin.peek()==' ')unos=std::cin.get();
		if(std::cin.peek()!='\n')
		{
			greska=KodoviGresaka::SuvisanParametar;
			std::cin.ignore(10000,'\n');
			return false;
		}
		komanda=Komande::KreirajIgru;
</font>		std::cin.ignore(10000,'\n');
		return true;
	}
	
	if(unos=='Z')
	{
<a name="8"></a><font color="#00FFFF"><a href="match899-1.html#8" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_0.gif"/></a>

		while(std::cin.peek()==' ')unos=std::cin.get();
		if(std::cin.peek()!='\n')
		{
			greska=KodoviGresaka::SuvisanParametar;
			std::cin.ignore(10000,'\n');
			return false;
</font>		}
		komanda=Komande::ZavrsiIgru;
		std::cin.ignore(10000,'\n');
		return true;
	}
	
	if(unos=='P' &amp;&amp; std::cin.peek()!='1' &amp;&amp; std::cin.peek()!='O' &amp;&amp; std::cin.peek()!='&gt;')
	{
		greska=KodoviGresaka::PogresnaKomanda;
		std::cin.ignore(10000,'\n');
		return false;
	}
	
	if(unos=='P' &amp;&amp; std::cin.peek()=='O')
	{
		unos=std::cin.get();
<a name="9"></a><font color="#FF00FF"><a href="match899-1.html#9" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_0.gif"/></a>

		while(std::cin.peek()==' ')unos=std::cin.get();
		if(std::cin.peek()!='\n')
		{
			greska=KodoviGresaka::SuvisanParametar;
			std::cin.ignore(10000,'\n');
			return false;
</font>		}
		komanda=Komande::PrikaziOkolinu;
		std::cin.ignore(10000,'\n');
		return true;
	}
	
	if(unos=='P' &amp;&amp; std::cin.peek()=='1')
	{
		unos=std::cin.get();
<a name="3"></a><font color="#00FFFF"><a href="match899-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_0.gif"/></a>

		while(std::cin.peek()==' ')unos=std::cin.get();
		if(std::cin.peek()=='\n')
		{
			greska=KodoviGresaka::NedostajeParametar;
			std::cin.ignore(10000,'\n');
			return false;
		}
		unos=std::cin.get();
</font>		if(unos!='G' &amp;&amp; unos!='D' &amp;&amp; unos!='L')
		{
			greska=KodoviGresaka::NeispravanParametar;
			std::cin.ignore(10000,'\n');
			return false;
		}
		if(unos=='L')
		{
			while(std::cin.peek()==' ')unos=std::cin.get();
			if(std::cin.peek()!='\n')
			{
				greska=KodoviGresaka::SuvisanParametar;
				std::cin.ignore(10000,'\n');
				return false;
			}
			komanda=Komande::PomjeriJednoMjesto;
			smjer=Smjerovi::Lijevo;
			std::cin.ignore(10000,'\n');
			return true;
		}
		if(unos=='G' &amp;&amp; (std::cin.peek()=='\n' || std::cin.peek()==' '))
		{
			while(std::cin.peek()==' ')unos=std::cin.get();
			if(std::cin.peek()!='\n')
			{
				greska=KodoviGresaka::SuvisanParametar;
				std::cin.ignore(10000,'\n');
				return false;
			}
			komanda=Komande::PomjeriJednoMjesto;
			smjer=Smjerovi::Gore;
			std::cin.ignore(10000,'\n');
			return true;
		}
		if(unos=='D' &amp;&amp; (std::cin.peek()=='\n' || std::cin.peek()==' '))
		{
			while(std::cin.peek()==' ')unos=std::cin.get();
			if(std::cin.peek()!='\n')
			{
				greska=KodoviGresaka::SuvisanParametar;
				std::cin.ignore(10000,'\n');
				return false;
			}
			komanda=Komande::PomjeriJednoMjesto;
			smjer=Smjerovi::Desno;
			std::cin.ignore(10000,'\n');
			return true;
		}
		if(unos=='G' &amp;&amp; std::cin.peek()!='\n' &amp;&amp; std::cin.peek()!=' ')
		{
			unos=std::cin.get();
			if(unos!='L' &amp;&amp; unos!='D')
			{
				greska=KodoviGresaka::NeispravanParametar;
				std::cin.ignore(10000,'\n');
				return false;
			}
			
			if(unos=='L')
			{
				while(std::cin.peek()==' ')unos=std::cin.get();
				if(std::cin.peek()!='\n')
				{
					greska=KodoviGresaka::SuvisanParametar;
					std::cin.ignore(10000,'\n');
					return false;
					
				}
				komanda=Komande::PomjeriJednoMjesto;
				smjer=Smjerovi::GoreLijevo;
				std::cin.ignore(10000,'\n');
				return true;
			}
			
			if(unos=='D')
			{
				while(std::cin.peek()==' ')unos=std::cin.get();
				if(std::cin.peek()!='\n')
				{
					greska=KodoviGresaka::SuvisanParametar;
					std::cin.ignore(10000,'\n');
					return false;
					
				}
				komanda=Komande::PomjeriJednoMjesto;
				smjer=Smjerovi::GoreDesno;
				std::cin.ignore(10000,'\n');
				return true;
			}
			
		}
		if(unos=='D' &amp;&amp; std::cin.peek()!='\n' &amp;&amp; std::cin.peek()!=' ')
		{
			unos=std::cin.get();
			if(unos!='o')
			{
				greska=KodoviGresaka::NeispravanParametar;
				std::cin.ignore(10000,'\n');
				return false;
			}
			if(std::cin.peek()=='\n' || std::cin.peek()==' ')
			{
				while(std::cin.peek()==' ')unos=std::cin.get();
				if(std::cin.peek()!='\n')
				{
					greska=KodoviGresaka::SuvisanParametar;
					std::cin.ignore(10000,'\n');
					return false;
					
				}
				komanda=Komande::PomjeriJednoMjesto;
				smjer=Smjerovi::Dolje;
				std::cin.ignore(10000,'\n');
				return true;
			}
			unos=std::cin.get();
			if(unos!='L' &amp;&amp; unos!='D')
			{
				greska=KodoviGresaka::NeispravanParametar;
				std::cin.ignore(10000,'\n');
				return false;
			}
			
			if(unos=='L')
			{
				while(std::cin.peek()==' ')unos=std::cin.get();
				if(std::cin.peek()!='\n')
				{
					greska=KodoviGresaka::SuvisanParametar;
					std::cin.ignore(10000,'\n');
					return false;
					
				}
				komanda=Komande::PomjeriJednoMjesto;
				smjer=Smjerovi::DoljeLijevo;
				std::cin.ignore(10000,'\n');
				return true;
			}
			
			if(unos=='D')
			{
				while(std::cin.peek()==' ')unos=std::cin.get();
				if(std::cin.peek()!='\n')
				{
					greska=KodoviGresaka::SuvisanParametar;
					std::cin.ignore(10000,'\n');
					return false;
					
				}
				komanda=Komande::PomjeriJednoMjesto;
				smjer=Smjerovi::DoljeDesno;
				std::cin.ignore(10000,'\n');
				return true;
			}
			
		}
		
		
	}
	
	if(unos=='P' &amp;&amp; std::cin.peek()=='&gt;')
	{
		unos=std::cin.get();
		while(std::cin.peek()==' ')unos=std::cin.get();
		if(std::cin.peek()=='\n')
		{
			greska=KodoviGresaka::NedostajeParametar;
			std::cin.ignore(10000,'\n');
			return false;
		}
		if(!(std::cin.peek()&gt;=48 &amp;&amp; (std::cin.peek()&lt;=57)))
		{
			greska=KodoviGresaka::NeispravanParametar;
			std::cin.ignore(10000,'\n');
			return false;
		}
		int a;
		std::cin&gt;&gt;a;
	/*	if(!(std::cin.peek()=='\n'))
		{
			greska=KodoviGresaka::NedostajeParametar;
			return false;
		}*/
		if(!(std::cin.peek()==' '))
		{
			greska=KodoviGresaka::NeispravanParametar;
			std::cin.ignore(10000,'\n');
			return false;
		}
		while(std::cin.peek()==' ')unos=std::cin.get();
		if(std::cin.peek()=='\n')
		{
			greska=KodoviGresaka::NedostajeParametar;
			std::cin.ignore(10000,'\n');
			return false;
		}
		int b;
		if(!(std::cin.peek()&gt;=48 &amp;&amp; (std::cin.peek()&lt;=57)))
		{
			greska=KodoviGresaka::NeispravanParametar;
			std::cin.ignore(10000,'\n');
			return false;
		}
		std::cin&gt;&gt;b;
		while(std::cin.peek()==' ')unos=std::cin.get();
		if(!(std::cin.peek()==' ' || std::cin.peek()=='\n'))
		{
			greska=KodoviGresaka::SuvisanParametar;
			std::cin.ignore(10000,'\n');
			return false;
		}
		komanda=Komande::PomjeriDalje;
		x=a;
		y=b;
		std::cin.ignore(10000,'\n');
		return true;
		
	}
	
	if(unos=='B')
	{
		while(std::cin.peek()==' ')unos=std::cin.get();
		if(std::cin.peek()=='\n')
		{
			greska=KodoviGresaka::NedostajeParametar;
			std::cin.ignore(10000,'\n');
			return false;
		}
		if(!(std::cin.peek()&gt;=48 &amp;&amp; (std::cin.peek()&lt;=57)))
		{
			greska=KodoviGresaka::NeispravanParametar;
			std::cin.ignore(10000,'\n');
			return false;
		}
		int a;
		std::cin&gt;&gt;a;
	/*	if(!(std::cin.peek()=='\n'))
		{
			greska=KodoviGresaka::NedostajeParametar;
			return false;
		}*/
		if(!(std::cin.peek()==' '))
		{
			greska=KodoviGresaka::NeispravanParametar;
			std::cin.ignore(10000,'\n');
			return false;
		}
		while(std::cin.peek()==' ')unos=std::cin.get();
		if(std::cin.peek()=='\n')
		{
			greska=KodoviGresaka::NedostajeParametar;
			std::cin.ignore(10000,'\n');
			return false;
		}
		int b;
		if(!(std::cin.peek()&gt;=48 &amp;&amp; (std::cin.peek()&lt;=57)))
		{
			greska=KodoviGresaka::NeispravanParametar;
			std::cin.ignore(10000,'\n');
			return false;
		}
		std::cin&gt;&gt;b;
		while(std::cin.peek()==' ')unos=std::cin.get();
		if(!(std::cin.peek()==' ' || std::cin.peek()=='\n'))
		{
			greska=KodoviGresaka::SuvisanParametar;
			std::cin.ignore(10000,'\n');
			return false;
		}
		komanda=Komande::Blokiraj;
		x=a;
		y=b;
		std::cin.ignore(10000,'\n');
		return true;
		
	}
	
	
		if(unos=='D')
	{
		while(std::cin.peek()==' ')unos=std::cin.get();
		if(std::cin.peek()=='\n')
		{
			greska=KodoviGresaka::NedostajeParametar;
			std::cin.ignore(10000,'\n');
			return false;
		}
		if(!(std::cin.peek()&gt;=48 &amp;&amp; (std::cin.peek()&lt;=57)))
		{
			greska=KodoviGresaka::NeispravanParametar;
			std::cin.ignore(10000,'\n');
			return false;
		}
		int a;
		std::cin&gt;&gt;a;
	/*	if(!(std::cin.peek()=='\n'))
		{
			greska=KodoviGresaka::NedostajeParametar;
			return false;
		}*/
		if(!(std::cin.peek()==' '))
		{
			greska=KodoviGresaka::NeispravanParametar;
			std::cin.ignore(10000,'\n');
			return false;
		}
		while(std::cin.peek()==' ')unos=std::cin.get();
		if(std::cin.peek()=='\n')
		{
			greska=KodoviGresaka::NedostajeParametar;
			std::cin.ignore(10000,'\n');
			return false;
		}
		int b;
		if(!(std::cin.peek()&gt;=48 &amp;&amp; (std::cin.peek()&lt;=57)))
		{
			greska=KodoviGresaka::NeispravanParametar;
			std::cin.ignore(10000,'\n');
			return false;
		}
		std::cin&gt;&gt;b;
		if(!(std::cin.peek()==' ' || std::cin.peek()=='\n'))
		{
			greska=KodoviGresaka::SuvisanParametar;
			std::cin.ignore(10000,'\n');
			return false;
		}
		komanda=Komande::Deblokiraj;
		x=a;
		y=b;
		std::cin.ignore(10000,'\n');
		return true;
		
	}

	return false;
}

void IzvrsiKomandu(Komande komanda, Tabla &amp;polja, int &amp;x, int &amp;y, Smjerovi p_smjer = Smjerovi::Gore, int p_x = 0, int p_y = 0)
{
<a name="10"></a><font color="#FF0000"><a href="match899-1.html#10" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_0.gif"/></a>

	if(komanda==Komande::Blokiraj)
	{
		BlokirajPolje(polja,p_x,p_y);
	}
	if(komanda==Komande::Deblokiraj)
	{
		DeblokirajPolje(polja,p_x,p_y);
	}
	if(komanda==Komande::ZavrsiIgru)
</font>	{
		for(int i(0);i&lt;polja.size();i++)
		{
			for(int j(0);j&lt;polja.at(i).size();j++)
			{
				polja.at(i).at(j)=Polje::Prazno;
			}
		}
		throw std::runtime_error("Igra zavrsena");
	}
	if(komanda==Komande::PrikaziOkolinu)
	{
		std::vector&lt;std::vector&lt;int&gt;&gt;Matrica(PrikaziOkolinu(polja,x,y));
		for(int i(0);i&lt;Matrica.size();i++)
		{
			for(int j(0);j&lt;Matrica.at(i).size();j++)
			{
				std::cout&lt;&lt;Matrica.at(i).at(j)&lt;&lt;" ";
			}
			std::cout&lt;&lt;std::endl;
		}
	}
	if(komanda==Komande::PomjeriJednoMjesto)
	{
		Status idi(Idi(polja,x,y,p_smjer));
		if(idi==Status::KrajPobjeda)
		{
			std::cout&lt;&lt;"Bravo, obisli ste sva sigurna polja";
			for(int i(0);i&lt;polja.size();i++)
		{
			for(int j(0);j&lt;polja.at(i).size();j++)
			{
				polja.at(i).at(j)=Polje::Prazno;
			}
		}
		throw std::runtime_error("Igra zavrsena");
			
		}
		
		if(idi==Status::KrajPoraz)
		{
			std::cout&lt;&lt;"Nagazili ste na minu”";
			for(int i(0);i&lt;polja.size();i++)
		{
			for(int j(0);j&lt;polja.at(i).size();j++)
			{
				polja.at(i).at(j)=Polje::Prazno;
			}
		}
		throw std::runtime_error("Igra zavrsena");
			
		}
		
		if(idi==Status::NijeKraj)
		{
			std::cout&lt;&lt;"Tekuca pozicija igraca je ("&lt;&lt;x&lt;&lt;","&lt;&lt;y&lt;&lt;")"&lt;&lt;std::endl;
			
		}
	}
	if(komanda==Komande::PomjeriDalje)
	{
		Status idi(Idi(polja,x,y,p_x,p_y));
		if(idi==Status::KrajPobjeda)
		{
			std::cout&lt;&lt;"Bravo, obisli ste sva sigurna polja";
			for(int i(0);i&lt;polja.size();i++)
		{
			for(int j(0);j&lt;polja.at(i).size();j++)
			{
				polja.at(i).at(j)=Polje::Prazno;
			}
		}
		throw std::runtime_error("Igra zavrsena");
			
		}
		
		if(idi==Status::KrajPoraz)
		{
			std::cout&lt;&lt;"Nagazili ste na minu”";
			for(int i(0);i&lt;polja.size();i++)
		{
			for(int j(0);j&lt;polja.at(i).size();j++)
			{
				polja.at(i).at(j)=Polje::Prazno;
			}
		}
		throw std::runtime_error("Igra zavrsena");
			
		}
		
		if(idi==Status::NijeKraj)
		{
			std::cout&lt;&lt;"Tekuca pozicija igraca je ("&lt;&lt;x&lt;&lt;","&lt;&lt;y&lt;&lt;")"&lt;&lt;std::endl;
			
		}
	}
	if(komanda==Komande::KreirajIgru)
	{
		std::cout&lt;&lt;"Unesite broj polja: ";
		int broj;
		std::cin&gt;&gt;broj;
		while(!std::cin || std::cin.peek()!='\n' || broj&lt;=0)
		{
			std::cout&lt;&lt;"Greska, unesite ponovo!"&lt;&lt;std::endl;
			std::cin.clear();
			std::cin.ignore(10000,'\n');
			std::cout&lt;&lt;"Unesite broj polja: ";
			std::cin&gt;&gt;broj;
		}
		std::vector&lt;std::vector&lt;int&gt;&gt;mine;
		std::cout&lt;&lt;"Unesite pozicije mina: ";
		int j(0);
		char unos;
		std::cin&gt;&gt;unos;
		start:

		while(unos!='.')
		{
			if(unos!=' ' &amp;&amp; unos!='(')
			{
				std::cout&lt;&lt;"Greska, unesite ponovo!"&lt;&lt;std::endl;
				std::cin.clear();
				std::cin.ignore(10000,'\n');
				std::cin&gt;&gt;unos;
				goto start;
			}
			
			if(unos==' ')
			{
				while(std::cin.peek()==' ')unos=std::cin.get();
				if(std::cin.peek()!='(')
				{
					std::cout&lt;&lt;"Greska, unesite ponovo!"&lt;&lt;std::endl;
					std::cin.clear();
					std::cin.ignore(10000,'\n');
					std::cin&gt;&gt;unos;
					goto start;
				}
				unos=std::cin.get();
			}
			
			while(std::cin.peek()==' ')unos=std::cin.get();
			if(!(std::cin.peek()&gt;=48 &amp;&amp; (std::cin.peek()&lt;=57)))
			{
				std::cout&lt;&lt;"Greska, unesite ponovo!"&lt;&lt;std::endl;
				std::cin.clear();
				std::cin.ignore(10000,'\n');
				std::cin&gt;&gt;unos;
				goto start;
			}
			int broj1;
			std::cin&gt;&gt;broj1;
			
			if(broj1&lt;0 || broj1&gt;=broj)
			{
				std::cout&lt;&lt;"Greska, unesite ponovo!"&lt;&lt;std::endl;
				std::cin.clear();
				std::cin.ignore(10000,'\n');
				std::cin&gt;&gt;unos;
				goto start;
			}
			
			if(std::cin.peek()!=',' &amp;&amp; std::cin.peek()!=' ')
			{
				std::cout&lt;&lt;"Greska, unesite ponovo!"&lt;&lt;std::endl;
				std::cin.clear();
				std::cin.ignore(10000,'\n');
				std::cin&gt;&gt;unos;
				goto start;
			}
			while(std::cin.peek()==' ')unos=std::cin.get();
			if(std::cin.peek()!=',')
			{
				std::cout&lt;&lt;"Greska, unesite ponovo!"&lt;&lt;std::endl;
				std::cin.clear();
				std::cin.ignore(10000,'\n');
				std::cin&gt;&gt;unos;
				goto start;
			}
			unos=std::cin.get();
		
			while(std::cin.peek()==' ')unos=std::cin.get();
			if(!(std::cin.peek()&gt;=48 &amp;&amp; (std::cin.peek()&lt;=57)))
			{
				std::cout&lt;&lt;"Greska, unesite ponovo!"&lt;&lt;std::endl;
				std::cin.clear();
				std::cin.ignore(10000,'\n');
				std::cin&gt;&gt;unos;
				goto start;
			}
			int broj2;
			std::cin&gt;&gt;broj2;
			if(broj2&lt;0 || broj2&gt;=broj)
			{
				std::cout&lt;&lt;"Greska, unesite ponovo!"&lt;&lt;std::endl;
				std::cin.clear();
				std::cin.ignore(10000,'\n');
				std::cin&gt;&gt;unos;
				goto start;
			}
			
			if(std::cin.peek()!=')' &amp;&amp; std::cin.peek()!=' ')
			{
				std::cout&lt;&lt;"Greska, unesite ponovo!"&lt;&lt;std::endl;
				std::cin.clear();
				std::cin.ignore(10000,'\n');
				std::cin&gt;&gt;unos;
				goto start;
			}
			
			while(std::cin.peek()==' ')unos=std::cin.get();
			if(std::cin.peek()!=')')
			{
				std::cout&lt;&lt;"Greska, unesite ponovo!"&lt;&lt;std::endl;
				std::cin.clear();
				std::cin.ignore(10000,'\n');
				std::cin&gt;&gt;unos;
				goto start;
			}
			unos=std::cin.get();
			while(std::cin.peek()==' ')unos=std::cin.get();
			if(std::cin.peek()!='\n')
			{
				std::cout&lt;&lt;"Greska, unesite ponovo!"&lt;&lt;std::endl;
				std::cin.clear();
				std::cin.ignore(10000,'\n');
				std::cin&gt;&gt;unos;
				goto start;
			}
			
			mine.resize(mine.size()+1);
			mine.at(j).push_back(broj1);
			mine.at(j).push_back(broj2);
			j++;
			std::cin&gt;&gt;unos;
		}
		
		polja=KreirajIgru(broj,mine);
	}
}


int main ()
{
	Tabla polja;
	int x,y,p_x(0), p_y(0);
	Smjerovi smjer;
	KodoviGresaka greske;
	Komande K;
	
	try
	{
		
		while(true)
		{
			try{
			std::cout&lt;&lt;"Unesite komandu: ";
			if(UnosKomande(K,smjer,x,y,greske))IzvrsiKomandu(K,polja,p_x,p_y,smjer,x,y);
			else PrijaviGresku(greske);}
			
			catch(std::domain_error Izuzetak)
	{
		std::cout&lt;&lt;Izuzetak.what()&lt;&lt;std::endl;
	}
	catch(std::out_of_range Izuzetak)
	{
		std::cout&lt;&lt;Izuzetak.what()&lt;&lt;std::endl;
	}
	catch(std::logic_error Izuzetak)
	{
		std::cout&lt;&lt;Izuzetak.what()&lt;&lt;std::endl;
	}
			
		}
		
	}
	
	catch(std::runtime_error Izuzetak)
	{
		std::cout&lt;&lt;"Dovidjenja!";
		return 0;
		
	}
	
	
}
</pre>
</body>
</html>
