<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z1/student3732.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z1/student5015.cpp<p></p><pre>
<a name="0"></a><font color="#FF0000"><a href="match152-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_99.gif"/></a>

/B2017/2018: ZadaÄ‡a 3, Zadatak 1
#include &lt;iostream&gt;
#include &lt;vector&gt;
#include &lt;utility&gt;
#include &lt;functional&gt;
#include &lt;algorithm&gt;
#include &lt;stdexcept&gt;
#include &lt;iterator&gt;
#include &lt;cmath&gt;
#define EPSILON 0.0001
bool funkcijica(std::pair&lt;double,double&gt; a,std::pair&lt;double,double&gt; b) {
    return a.first&lt;b.first;
}
std::function&lt;double(double)&gt; LinearnaInterpolacija(std::vector&lt;std::pair&lt;double,double&gt;&gt; tackice){
    std::sort(tackice.begin(),tackice.end(),[] (std::pair&lt;double,double&gt; a, std::pair&lt;double,double&gt; b){
        if(fabs(a.first-b.first)&lt;EPSILON || fabs(a.second-b.second)&lt;EPSILON) throw std::domain_error("Neispravni cvorovi");
        return a.first&lt;b.first;
    });
    return [tackice](double x){
    std::pair&lt;double,double&gt; paric=std::make_pair(x,0);
    auto it=std::lower_bound(tackice.begin(),tackice.end(),paric,funkcijica);
    auto it1=std::upper_bound(tackice.begin(),tackice.end(),paric,funkcijica);
    it1--;
    if(x&lt;it1-&gt;first || x&gt;tackice[tackice.size()-1].first) throw std::range_error("Argument izvan opsega");
    if(fabs(it1-&gt;first-it-&gt;first)&lt;EPSILON) it1++;
    if(fabs(it-&gt;first-tackice[tackice.size()-1].first)&lt;EPSILON &amp;&amp; fabs(it-&gt;first-x)&lt;EPSILON) return tackice[tackice.size()-1].second;
    return it1-&gt;second+((it-&gt;second-it1-&gt;second)/(it-&gt;first-it1-&gt;first))*(x-it1-&gt;first);
    };
}
double sinus(double x){
    return (x*x+sin(x));
}
std::function&lt;double(double)&gt; LinearnaInterpolacija(double f(double),double x_min,double x_max,double delta_x){
    if(x_min&gt;x_max || delta_x&lt;=0) throw std::domain_error("Nekorektni parametri");
    std::vector&lt;std::pair&lt;double,double&gt;&gt; v;
        double a=x_min;
        int br(0);
        while(!(fabs(a-x_max)&lt;EPSILON)){
            double b=f(a);
            std::pair&lt;double,double&gt; par=std::make_pair(a,b);
            v.push_back(par);
            br++;
            a=x_min+br*delta_x;
        }
        return LinearnaInterpolacija(v);
}
int main ()
{
   
    std::cout&lt;&lt;"Odaberite opciju (1 - unos cvorova, 2 - aproksimacija): ";
    int n(0);
    std::cin&gt;&gt;n;
    if(n==1){
        std::vector&lt;std::pair&lt;double,double&gt;&gt; v;
        std::cout&lt;&lt;"Unesite broj cvorova: ";
        int m(0);
        std::cin&gt;&gt;m;
        std::cout&lt;&lt;"Unesite cvorove kao parove x y: ";
        for(int i=0;i&lt;m;i++){
            std::pair&lt;double,double&gt; par;
            int a(0),b(0);
            std::cin&gt;&gt;a&gt;&gt;b;
            par=std::make_pair(a,b);
            v.push_back(par);
        }
        try{
            for(;;){
                try{
            auto f(LinearnaInterpolacija(v));
            std::cout&lt;&lt;"Unesite argument (ili \"kraj\" za kraj): ";
            double c(0);
            if(!(std::cin&gt;&gt;c)) break;
            else std::cout&lt;&lt;"f("&lt;&lt;c&lt;&lt;") "&lt;&lt;"= "&lt;&lt;f(c)&lt;&lt;std::endl;
            }
            catch(std::range_error izuzetak){
                std::cout&lt;&lt;izuzetak.what();
            }
        }
        }
        catch(std::domain_error izuzetak){
            std::cout&lt;&lt;izuzetak.what();
        }
    }
    else if(n==2){
        std::cout&lt;&lt;"Unesite krajeve intervala i korak: ";
        double k(0),d(0),e(0);
        std::cin&gt;&gt;k&gt;&gt;d&gt;&gt;e;
        try{
        for(;;){
            try{
        std::cout&lt;&lt;"Unesite argument (ili \"kraj\" za kraj): ";
        double arg(0);
        if(!(std::cin&gt;&gt;arg)) break;
        auto funk=LinearnaInterpolacija(sinus,k,d,e);
         std::cout&lt;&lt;"f("&lt;&lt;arg&lt;&lt;")"&lt;&lt;" = "&lt;&lt;sinus(arg)&lt;&lt;" fapprox("&lt;&lt;arg&lt;&lt;") = "&lt;&lt;funk(arg)&lt;&lt;std::endl;
    }
        catch(std::range_error izuzetak){
            std::cout&lt;&lt;izuzetak.what()&lt;&lt;std::endl;
        }
        }
        }
        catch(std::domain_error izuzetak){
            std::cout&lt;&lt;izuzetak.what();
        }
    }
	return 0;
</font>}
</pre>
</body>
</html>
