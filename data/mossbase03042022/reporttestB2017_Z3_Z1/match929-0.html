<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z1/student7936.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z1/student7936.cpp<p></p><pre>
#include &lt;iostream&gt;
#include &lt;functional&gt;
#include &lt;vector&gt;
#include &lt;utility&gt;
#include &lt;stdexcept&gt;
#include &lt;algorithm&gt;
#include &lt;cmath&gt;

double funkcija (double x)
{
    return x*x+std::sin(x);
}

<a name="1"></a><font color="#00FF00"><a href="match929-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_4.gif"/></a>

bool Veci(std::pair&lt;double,double&gt; x,std::pair&lt;double,double&gt; y)
{
    return x.first&lt;y.first;
}

bool Sortiran (std::vector&lt;std::pair&lt;double,double&gt;&gt; brojevi)
</font>{
    for (int i=0; i&lt;brojevi.size()-1; i++) {
        if (brojevi.at(i).first&gt;brojevi.at(i+1).first) return false;
    }
    return true;
}

std::function&lt;double(double)&gt; LinearnaInterpolacija (std::vector&lt;std::pair&lt;double,double&gt;&gt; brojevi)
{
    bool ponavljanje(false);
    bool sortiranje;
    for (int i=0; i&lt;brojevi.size(); i++) {
        for (int j=i+1; j&lt;brojevi.size(); j++) {
            if (brojevi.at(i).first==brojevi.at(j).first) {
                ponavljanje=true;
                break;
            }
        }
        if (ponavljanje) break;
    }
    if (ponavljanje) throw std::domain_error ("Neispravni cvorovi");
    sortiranje=Sortiran(brojevi);
    if (sortiranje==false) std::sort(brojevi.begin(),brojevi.end(),Veci);
    return [brojevi] (double x) {
        if (x&lt;brojevi.at(0).first || x&gt;brojevi.at(brojevi.size()-1).first) throw std::range_error ("Argument izvan opsega");
        for (int i=0; i&lt;brojevi.size(); i++) {
            if (x==brojevi.at(brojevi.size()-1).first) return brojevi.at(brojevi.size()-1).second;
        }
        std::pair&lt;double,double&gt; X;
        X=std::make_pair(x,x);
        auto pom=std::upper_bound(brojevi.begin(),brojevi.end(),X);
        return (*(pom-1)).second+((*pom).second-(*(pom-1)).second)/((*pom).first-(*(pom-1)).first)*(x-(*(pom-1)).first);
    };
}

std::function&lt;double(double)&gt; LinearnaInterpolacija (double funkcija(double), double x_min, double x_max, double X)
{
    if (x_min&gt;x_max || X&lt;0) throw std::domain_error ("Nekorektni parametri");
    std::vector&lt;std::pair&lt;double,double&gt;&gt; cvorovi;
    double pom(0);
    while (x_min+pom&lt;x_max) {
        cvorovi.push_back(std::make_pair(x_min+pom,funkcija(x_min+pom)));
        pom+=X;
    }
    return LinearnaInterpolacija(cvorovi);
}

int main ()
{
    try {
        std::cout&lt;&lt;"Odaberite opciju (1 - unos cvorova, 2 - aproksimacija): ";
        int n;
        std::cin&gt;&gt;n;
        if (n==1) {
            std::vector&lt;std::pair&lt;double,double&gt;&gt; cvor;
            std::cout&lt;&lt;"Unesite broj cvorova: ";
            int n1;
            std::cin&gt;&gt;n1;
            cvor.resize(n1);
            std::cout&lt;&lt;"Unesite cvorove kao parove x y: ";
            for (int i=0; i&lt;cvor.size(); i++) {
                double x,y;
                std::cin&gt;&gt;x&gt;&gt;y;
                cvor.at(i)=std::make_pair(x,y);
            }
            auto f(LinearnaInterpolacija(cvor));
            for (;;) {
                try {
                    std::cout&lt;&lt;"Unesite argument (ili \"kraj\" za kraj): ";
                    double unos;
                    std::cin&gt;&gt;unos;
                    if (!std::cin || ((std::cin.peek()&lt;'0' || std::cin.peek()&gt;'9') &amp;&amp; std::cin.peek()!='\n')) break;
<a name="0"></a><font color="#FF0000"><a href="match929-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_5.gif"/></a>

                    std::cout&lt;&lt;"f("&lt;&lt;unos&lt;&lt;") = "&lt;&lt;f(unos)&lt;&lt;std::endl;
                } catch (std::range_error r) {
                    std::cout&lt;&lt;r.what()&lt;&lt;std::endl;
                }
            }
        } else if (n==2) {
            std::cout&lt;&lt;"Unesite krajeve intervala i korak: ";
            double x,y,z;
            std::cin&gt;&gt;x;
</font>            std::cin&gt;&gt;y;
            std::cin&gt;&gt;z;
<a name="2"></a><font color="#0000FF"><a href="match929-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_3.gif"/></a>

            auto f2 (LinearnaInterpolacija(funkcija,x,y,z));
            for (;;) {
                try {
                    std::cout&lt;&lt;"Unesite argument (ili \"kraj\" za kraj): ";
                    double unos;
                    std::cin&gt;&gt;unos;
                    if (!std::cin || ((std::cin.peek()&lt;'0' || std::cin.peek()&gt;'9') &amp;&amp; std::cin.peek()!='\n')) break;
</font>                    auto f1 (funkcija(unos));
                    std::cout&lt;&lt;"f("&lt;&lt;unos&lt;&lt;") = "&lt;&lt;f1&lt;&lt;" fapprox("&lt;&lt;unos&lt;&lt;") = "&lt;&lt;f2(unos)&lt;&lt;std::endl;
                } catch (std::range_error r) {
<a name="3"></a><font color="#00FFFF"><a href="match929-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_3.gif"/></a>

                    std::cout&lt;&lt;r.what()&lt;&lt;std::endl;
                }
            }
        }
    } catch (std::domain_error d) {
        std::cout&lt;&lt;d.what();
    }

    return 0;
</font>}
</pre>
</body>
</html>
