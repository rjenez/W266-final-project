<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z1/student7043.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z1/student7043.cpp<p></p><pre>
<a name="0"></a><font color="#FF0000"><a href="match129-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_99.gif"/></a>

/B2017/2018: ZadaÄ‡a 3, Zadatak 1
#include &lt;iostream&gt;
#include &lt;utility&gt;
#include &lt;vector&gt;
#include &lt;functional&gt;
#include &lt;cmath&gt;
#include &lt;string&gt;
#include &lt;algorithm&gt;

#define e 0.000001

bool DaLiSuCvoroviIspravni(std::vector&lt;std::pair&lt;double,double&gt; &gt; vektor_parova){
    bool istina(true);
    for (int i=0;i&lt;vektor_parova.size();i++){
    if  (i!=vektor_parova.size()-1){
        if (vektor_parova[i].first&gt;vektor_parova[i+1].first) {
            istina=false;
            break;
        }
        } 
    }
     if (vektor_parova[vektor_parova.size()-1].first&lt;vektor_parova[vektor_parova.size()-2].first) istina=false;
    return istina;
}

std::function&lt;double(double)&gt;   LinearnaInterpolacija(std::vector&lt;std::pair&lt;double,double&gt; &gt; vektor_parova){
        int brojac(0);
        for (auto a:vektor_parova){
                    for (auto b:vektor_parova){
                        if (fabs(a.first-b.first)&lt;e )brojac++ ;
                    }
                }
                if (brojac&gt;vektor_parova.size()) throw std::domain_error("Neispravni cvorovi");
                bool istina(DaLiSuCvoroviIspravni(vektor_parova));
                if (istina==false) throw std::domain_error("Neispravni cvorovi");
        return [vektor_parova](double x){
                if ((x&lt;vektor_parova[0].first) || (x&gt;vektor_parova[vektor_parova.size()-1].first)) throw std::range_error("Argument izvan opsega");
                double y;
                double x1=int(x);
                double x2;
                double y1,y2;
                for (int i=0;i&lt;vektor_parova.size();i++){
                    if (vektor_parova[i].first-x1&lt;e) {
                    y1=vektor_parova[i].second;
                    if (i!=vektor_parova.size()-1){
                    x2=vektor_parova[i+1].first;
                    y2=vektor_parova[i+1].second;
                        }
                    if (i==vektor_parova.size()-1){
                        return y1;
                        }    
                    }
                }
                y=y1+((y2-y1)*(x-x1))/(x2-x1);
             return y;
        };
    }


std::vector&lt;std::pair&lt;double,double&gt; &gt;   LinearnaInterpolacija( double f (double) , double Xmin , double Xmax , double DX ) {
    if (Xmin&gt;Xmax || DX&lt;0) throw std::domain_error("Nekorektni parametri");
    std::vector&lt;std::pair&lt;double,double&gt; &gt; vektor_parova;
    for (int i=0;i&lt;(Xmax-Xmin)/DX;i++){
        double a,b;
        a=Xmin+i*DX;
        b=f(a);
        auto p=std::make_pair(a,b);
        vektor_parova.push_back(p);
    }
    return vektor_parova;
}






int main ()
{
    try{
        std::vector&lt;std::pair&lt;double,double&gt;&gt; vektor_parova;
        std::cout &lt;&lt;"Odaberite opciju (1 - unos cvorova, 2 - aproksimacija): ";
        int opcija;
        std::cin &gt;&gt; opcija;
        
        
        
        if (opcija==1){
        std::cout &lt;&lt;"Unesite broj cvorova: ";
        int broj_cvorova;
        std::cin &gt;&gt; broj_cvorova;
        std::cout &lt;&lt;"Unesite cvorove kao parove x y: ";
        for (int i=0;i&lt;broj_cvorova;i++){
            double a,b;
            std::cin &gt;&gt;a &gt;&gt; b ;
            auto p=std::make_pair(a,b);
            vektor_parova.push_back(p);
            }
        bool istina(DaLiSuCvoroviIspravni(vektor_parova)) ;
        if (istina==false) throw std::domain_error("Neispravni cvorovi");
        do {
        std::cout &lt;&lt; "Unesite argument (ili \"kraj\" za kraj): ";
        std::string argument;
        std::cin &gt;&gt; argument;
        double lol = atof(argument.c_str());
        if (argument=="kraj") break;
        auto f(LinearnaInterpolacija(vektor_parova));
        std::cout &lt;&lt;"f("&lt;&lt;lol&lt;&lt;") = "&lt;&lt;f(lol)&lt;&lt;std::endl;
            }while (1);
        }
        
        
        
        
        if (opcija==2){
            std::cout &lt;&lt;"Unesite krajeve intervala i korak: ";
            double Xmin,Xmax,DX;
            std::cin &gt;&gt; Xmin &gt;&gt; Xmax &gt;&gt; DX;
            do{
                try{
            std::cout &lt;&lt; "Unesite argument (ili \"kraj\" za kraj): ";
            std::string argument;
            std::cin &gt;&gt; argument;
            if (argument=="kraj") break;
            double lol= atof(argument.c_str());
        vektor_parova=LinearnaInterpolacija([](double x){ return x*x+sin(x);},Xmin,Xmax,DX);
        auto f(LinearnaInterpolacija(vektor_parova));
        std::cout &lt;&lt;"f("&lt;&lt;lol&lt;&lt;") = "&lt;&lt;lol*lol+sin(lol)&lt;&lt;" fapprox("&lt;&lt;lol&lt;&lt;") = " &lt;&lt;f(lol)&lt;&lt;std::endl;
                }
        catch (std::range_error izuzetak){
            std::cout&lt;&lt;izuzetak.what()&lt;&lt;std::endl;
        }
            }while(1);
        }
    }
    catch(std::domain_error izuzetak){
        std::cout &lt;&lt; izuzetak.what();
    }
    catch (std::range_error izuzetak){
        std::cout &lt;&lt; izuzetak.what()&lt;&lt;std::endl;
</font>    }
	return 0;
}
</pre>
</body>
</html>
