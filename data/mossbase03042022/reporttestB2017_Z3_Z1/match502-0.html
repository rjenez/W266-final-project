<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z1/student1468.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z1/student1468.cpp<p></p><pre>
#include &lt;iostream&gt;
#include &lt;vector&gt;
#include &lt;map&gt;
#include &lt;string&gt;
#include &lt;functional&gt;
#include &lt;stdexcept&gt;
#include &lt;algorithm&gt;
#include &lt;cmath&gt;

std::function&lt;double(double)&gt; LinearnaInterpolacija(std::function&lt;double(double)&gt; f, double xmin, double xmax, double dx)
{
<a name="2"></a><font color="#0000FF"><a href="match502-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_3.gif"/></a>

    if(xmin&gt;xmax || dx&lt;=0) throw std::domain_error("Nekorektni parametri");
    std::vector&lt;std::pair&lt;double,double&gt;&gt; cvorovi;
    for(double i=xmin; i&lt;xmax;)
</font>    {
        std::pair&lt;double, double&gt; par;
        par=std::make_pair(i, f(i));
        cvorovi.push_back(par);
        i+=dx;
    }
    /*std::cout &lt;&lt; "Vektor cvorova glasi: ";
    for(int i=xmin; i&lt;cvorovi.size(); i++)
    {
        std::cout &lt;&lt; cvorovi[i].first &lt;&lt; " " &lt;&lt; cvorovi[i].second &lt;&lt; std::endl;
    }*/
    return([cvorovi](double x)
            {
                double x1;
                double x2;
                double y1;
                double y2;
                if(x&lt;cvorovi[0].first || x&gt;cvorovi[cvorovi.size()-1].first) throw std::range_error("Argument izvan opsega");
                int i;
                int j=cvorovi.size()-1;
                for(i=0; i&lt;=j;)
                {
                    double k((i+j)/2);
                    //std::cout &lt;&lt; i &lt;&lt; " " &lt;&lt; j &lt;&lt; " " &lt;&lt; cvorovi[k].first &lt;&lt; std::endl;
                    if(x&gt;=cvorovi[k].first &amp;&amp; x&lt;cvorovi[k+1].first)
                    {
                        i=k;
                        break;
                    }
                    else if(x&gt;cvorovi[k].first) i=k;
                    else if(x&lt;cvorovi[k].first) j=k;
                }
                x1=cvorovi[i].first; y1=cvorovi[i].second;
                x2=cvorovi[i+1].first; y2=cvorovi[i+1].second;
                double rez;
                rez=y1+((y2-y1)/(x2-x1))*(x-x1);
                return rez;
            });
}

<a name="3"></a><font color="#00FFFF"><a href="match502-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_2.gif"/></a>

std::function&lt;double(double)&gt; LinearnaInterpolacija(std::vector&lt;std::pair&lt;double, double&gt;&gt; cvorovi)
{
    for(int i=0; i&lt;cvorovi.size()-1; i++)
</font>    {
        for(int j=i+1; j&lt;cvorovi.size(); j++)
        {
            if(cvorovi[i].first==cvorovi[j].first) throw std::domain_error("Neispravni cvorovi");
            else if(cvorovi[i].first&gt;cvorovi[j].first)
            {
                int pomocna_x(cvorovi[i].first);
                int pomocna_y(cvorovi[i].second);
                cvorovi[i].first=cvorovi[j].first;
                cvorovi[i].second=cvorovi[j].second;
                cvorovi[j].first=pomocna_x;
                cvorovi[j].second=pomocna_y;
            }
        }
    }
    return([cvorovi](double x)
            {
                double x1;
                double x2;
                double y1;
                double y2;
<a name="1"></a><font color="#00FF00"><a href="match502-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_4.gif"/></a>

                if(x&lt;cvorovi[0].first || x&gt;cvorovi[cvorovi.size()-1].first) throw std::range_error("Argument izvan opsega");
                if(x==cvorovi[cvorovi.size()-1].first) return cvorovi[cvorovi.size()-1].second;
</font>                for(int i=0; i&lt;cvorovi.size()-1; i++)
                {
                    if(x&gt;=cvorovi[i].first &amp;&amp; x&lt;cvorovi[i+1].first)
                    {
                        x1=cvorovi[i].first; y1=cvorovi[i].second;
                        x2=cvorovi[i+1].first; y2=cvorovi[i+1].second;
                        break;
                    }
                }
                double rez;
                rez=y1+((y2-y1)/(x2-x1))*(x-x1);
                return rez;
            });
}

int main()
{
    try
    {
        int unos;
        do
        {
            std::cout &lt;&lt; "Odaberite opciju (1 - unos cvorova, 2 - aproksimacija): ";
            std::cin &gt;&gt; unos;
            if(unos!=1 &amp;&amp; unos!=2) std::cout &lt;&lt; "Unos mora biti 1 ili 2!!!" &lt;&lt; std::endl;
        }while(unos!=1 &amp;&amp; unos!=2);

            if(unos==1)
            {
                int br_cvorova;
                std::cout &lt;&lt; "Unesite broj cvorova: ";
<a name="0"></a><font color="#FF0000"><a href="match502-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_6.gif"/></a>

                std::cin &gt;&gt; br_cvorova;
                std::cout &lt;&lt; "Unesite cvorove kao parove x y: ";
                std::vector&lt;std::pair&lt;double,double&gt;&gt; v_parova;
                for(int i=0; i&lt;br_cvorova; i++)
                {
                    double x;
                    double y;
                    std::cin &gt;&gt; x &gt;&gt; y;
                    std::pair&lt;double, double&gt; par=std::make_pair(x,y);
                    v_parova.push_back(par);
</font>                }
                for(;;)
                {
                    auto f(LinearnaInterpolacija(v_parova));
                    std::string s="";
                    std::cin.clear();
                    std::cin.ignore(100000, '\n');
                    double argument;
                    std::cout &lt;&lt; "Unesite argument (ili \"kraj\" za kraj): ";
                    if(std::cin.peek()&lt;'0' || std::cin .peek()&gt;'9') break;
                    else
                    {
                        std::cin &gt;&gt; argument;
                        std::cout &lt;&lt; "f(" &lt;&lt; argument &lt;&lt; ") = " &lt;&lt; f(argument) &lt;&lt; std::endl;
                    }
                }
            }

            else if(unos==2)
            {
                double xmin, xmax, dx;
                std::cout &lt;&lt; "Unesite krajeve intervala i korak: ";
                std::cin &gt;&gt; xmin &gt;&gt; xmax &gt;&gt; dx;
                for(;;)
                {
                    std::string s="";
                    std::cin.clear();
                    std::cin.ignore(100000, '\n');
                    double argument;
                    std::cout &lt;&lt; "Unesite argument (ili \"kraj\" za kraj): ";
                    if(std::cin.peek()&lt;'0' || std::cin .peek()&gt;'9') break;
                    else
                    {
                        try
                        {
                            std::cin &gt;&gt; argument;
                            auto f(LinearnaInterpolacija([](double x){ return (x*x + sin(x)); }, xmin, xmax, dx));
                            std::cout &lt;&lt; "f(" &lt;&lt; argument &lt;&lt; ") = " &lt;&lt; (argument*argument+sin(argument)) &lt;&lt; " fapprox(" 
                                &lt;&lt; argument &lt;&lt; ") = " &lt;&lt; f(argument) &lt;&lt; std::endl;
                        }
                        catch(std::range_error e)
                        {
                            std::cout &lt;&lt; e.what() &lt;&lt; std::endl;
                        }
                    }
                }
            }
    }
    catch(std::domain_error e)
    {
        std::cout &lt;&lt; e.what();
    }
    catch(std::range_error e)
    {
        std::cout &lt;&lt; e.what();
    }
    return 0;
}
</pre>
</body>
</html>
