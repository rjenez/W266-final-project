<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z1/student8997.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z1/student8997.cpp<p></p><pre>
/B2017/2018: ZadaÄ‡a 3, Zadatak 1
#include &lt;iostream&gt;
#include &lt;cstdio&gt;
#include &lt;cstdlib&gt;
#include &lt;algorithm&gt;
#include &lt;functional&gt;
#include &lt;cmath&gt;
#include &lt;utility&gt;
#include &lt;stdexcept&gt;
#include &lt;vector&gt;

<a name="0"></a><font color="#FF0000"><a href="match142-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_95.gif"/></a>

std::function&lt;double(double)&gt; LinearnaInterpolacija (std::vector&lt;std::pair&lt;double,double&gt;&gt; v)
{
    std::sort(std::begin(v),std::end(v));
   
    
    for(int i=0;i&lt;v.size()-1;i++){
        
        
        if(v.at(i).first == v.at(i+1).first) throw std::domain_error("Neispravni cvorovi");
    }
    
    return [v](double x) {
                            
                  
                                
                          if(x &lt; v.at(0).first || x &gt; v.at(v.size()-1).first) throw std::range_error("Argument izvan opsega");
                            
                          

                            
                            
                          if( x == v.at(v.size()-1).first)  return v.at(v.size()-1).second;
                        
                          std::pair&lt;double,double&gt; par;
                          par.first=x;
                          par.second=0;
                          
                          auto it =  std::lower_bound(v.begin(), v.end(), par);
                          double x1, x2, y1, y2;
                          
                          x2 = it-&gt;first;
                          y2 = it-&gt;second;
                          it--;
                          x1 = it-&gt;first;
                          y1 = it-&gt;second;
                            
                          return (y1 + ((y2-y1)/(x2-x1))*(x-x1));
                          
                         
                        };
    
    
    
}



std::function&lt;double(double)&gt; LinearnaInterpolacija( double  f(double),  double xmin, double xmax, double dx)
{
    
    if((xmin &gt; xmax ) || (dx&lt;=0)) throw std::domain_error ("Nekorektni parametri");
    
    std::vector&lt;std::pair&lt;double,double&gt;&gt; v2 ;
    for(double x=xmin; x&lt;=xmax; x=x+dx){
        
        
        v2.push_back(std::make_pair(x,f(x)));
    }
    
    return LinearnaInterpolacija(v2);
}
    
    

int main ()
{
    
  std::vector&lt;std::pair&lt;double,double&gt;&gt; vek;
  double argument;
  int opcija;
  double arg1;
  
  int cvorovi;
  double xmin;
  double xmax;
  double dx;
  
  
  std::cout&lt;&lt;"Odaberite opciju (1 - unos cvorova, 2 - aproksimacija): ";
  std::cin&gt;&gt;opcija;
    
  if (opcija==1) {
        
        
    std::cout&lt;&lt;"Unesite broj cvorova: ";    
    std::cin&gt;&gt;cvorovi;
    
    std::cout&lt;&lt;"Unesite cvorove kao parove x y: ";
    
    for(int i=0;i&lt;cvorovi;i++){
        double x,y;
        std::cin&gt;&gt;x;
        std::cin&gt;&gt;y;
        vek.push_back(std::make_pair(x,y));
    }
     
    
    try {
        auto f=(LinearnaInterpolacija(vek));
        
        do {
            std::cout&lt;&lt;"Unesite argument (ili \"kraj\" za kraj): ";
            std::cin&gt;&gt;arg1;
    
            
            if(!std::cin || std::cin.peek()!='\n') {
                
                std::cin.clear();
                std::cin.ignore(10000,'\n');
                break;
            }
            
            try {
                auto rez=f(arg1);
            
                std::cout&lt;&lt;"f("&lt;&lt;arg1&lt;&lt;") = "&lt;&lt;rez&lt;&lt;std::endl;
            
            }
        
            catch(std::domain_error izuzetak111) {
               std::cout&lt;&lt;izuzetak111.what()&lt;&lt;std::endl;
            }
            catch(std::range_error izuzetak222) {
               std::cout&lt;&lt;izuzetak222.what()&lt;&lt;std::endl;
            } 
        
        } while(1);
        
    }
        
    catch(std::domain_error izuzetak11) {
        std::cout&lt;&lt;izuzetak11.what()&lt;&lt;std::endl;
    }
    catch(std::range_error izuzetak22) {
        std::cout&lt;&lt;izuzetak22.what()&lt;&lt;std::endl;
    }

  }
        
  else if (opcija==2) {
        
    std::cout&lt;&lt;"Unesite krajeve intervala i korak: ";
        
    std::cin&gt;&gt;xmin;
    std::cin&gt;&gt;xmax;
    std::cin&gt;&gt;dx;
        
        
    try{
        
        auto g=LinearnaInterpolacija([](double x) {return x*x + sin(x);},xmin,xmax,dx);
        
        do {
            std::cout&lt;&lt;"Unesite argument (ili \"kraj\" za kraj): ";
            std::cin&gt;&gt;argument;
    
            
            if(!std::cin || std::cin.peek()!='\n') {
                
                std::cin.clear();
                std::cin.ignore(10000,'\n');
                break;
            }
            
            try {
            
               double   fja = argument*argument + sin(argument);
               std::cout&lt;&lt;"f("&lt;&lt;argument&lt;&lt;") = "&lt;&lt;fja&lt;&lt;" "&lt;&lt;"fapprox("&lt;&lt;argument&lt;&lt;") = "&lt;&lt;g(argument)&lt;&lt;std::endl;
            }
        
            catch(std::domain_error izuzetak1) {
                std::cout&lt;&lt;izuzetak1.what()&lt;&lt;std::endl;
            }
            catch(std::range_error izuzetak2) {
                std::cout&lt;&lt;izuzetak2.what()&lt;&lt;std::endl;
            } 
        
        } while(1);
        
    }    
          
        catch(std::domain_error izuzetak3) {
            std::cout&lt;&lt;izuzetak3.what()&lt;&lt;std::endl;
        }
        catch(std::range_error izuzetak4) {
            std::cout&lt;&lt;izuzetak4.what()&lt;&lt;std::endl;
</font>        }
        
  }    
        
  return 0;
}

</pre>
</body>
</html>
