<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z1/student4011.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z1/student4011.cpp<p></p><pre>
/B2017/2018: ZadaÄ‡a 3, Zadatak 1
#include &lt;iostream&gt;
#include &lt;functional&gt;
#include &lt;vector&gt;
#include &lt;algorithm&gt;
#include &lt;cmath&gt;
#include &lt;stdexcept&gt;

using namespace std;

bool Sortiraj(pair&lt;double,double&gt; x,pair&lt;double,double&gt; y)
{
<a name="3"></a><font color="#00FFFF"><a href="match436-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_4.gif"/></a>

    return x.first&lt;y.first;
}


function&lt;double(double)&gt; LinearnaInterpolacija(vector&lt;pair&lt;double,double&gt;&gt; Cvorovi)
{   
    
    sort(Cvorovi.begin(),Cvorovi.end(),Sortiraj);
</font>    for(int i=0; i&lt;Cvorovi.size()-1; i++)
        if(Cvorovi[i].first==Cvorovi[i+1].first) throw domain_error("Neispravni cvorovi");
    return [Cvorovi](double x)
    {   
        if(x&lt;Cvorovi[0].first || x&gt;Cvorovi[Cvorovi.size()-1].first) throw range_error("Argument izvan opsega");
        pair&lt;double,double&gt; pom(make_pair(x,x));
        
        
        //if(binary_search(Cvorovi.begin(),Cvorovi.end(),NadjiKoeficijentGornji)
      
       auto d=upper_bound(Cvorovi.begin(),Cvorovi.end(),pom);
       //d++; 
       auto g=lower_bound(d,Cvorovi.end(),pom);
       
       
<a name="0"></a><font color="#FF0000"><a href="match436-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_17.gif"/></a>

       if(g==Cvorovi.end())  return Cvorovi[Cvorovi.size()-1].second;
       if(g-&gt;first==x)
                g++;
       else 
           d--;
       
       
       
     // cout&lt;&lt;d-&gt;first&lt;&lt;" "&lt;&lt;g-&gt;first&lt;&lt;endl;
      
     // if(g==Cvorovi.end()) g--;
     // if(d==Cvorovi.end()) d--;
      
          if(d-&gt;first&lt;=x &amp;&amp; g-&gt;first&gt;x)
            return d-&gt;second+((g-&gt;second-d-&gt;second)/(g-&gt;first-d-&gt;first))*(x-d-&gt;first);
          
        return Cvorovi[Cvorovi.size()-1].second;
    };
}

function&lt;double(double)&gt; LinearnaInterpolacija(function&lt;double(double)&gt;f,double xmin,double xmax,double dx)
{
    vector&lt;pair&lt;double,double&gt;&gt; Cvorovi;
</font>    if(xmin&gt;xmax || dx&lt;=0) throw domain_error("Nekorektni parametri");
    for(double i=xmin;i&lt;xmax;i+=dx)
        Cvorovi.push_back(make_pair(i,f(i)));
     //  for(auto a:Cvorovi) cout&lt;&lt;a.first&lt;&lt;","&lt;&lt;a.second&lt;&lt;endl; 
    return LinearnaInterpolacija(Cvorovi);
}

int main ()
{    
    try{
        cout&lt;&lt;"Odaberite opciju (1 - unos cvorova, 2 - aproksimacija): ";
        int n;
        cin&gt;&gt;n;
        
        if(n==1)
        {
            cout&lt;&lt;"Unesite broj cvorova: ";
            int k;cin&gt;&gt;k;vector&lt;pair&lt;double,double&gt;&gt; Cvorovi;
            cout&lt;&lt;"Unesite cvorove kao parove x y: ";
            for(int i=0;i&lt;k;i++)
            {
                double x,y;cin&gt;&gt;x&gt;&gt;y;
                Cvorovi.push_back(make_pair(x,y));
            }
            
            do
            {   
                
                double arg;
                function&lt;double(double)&gt;f=LinearnaInterpolacija(Cvorovi);
                cout&lt;&lt;"Unesite argument (ili \"kraj\" za kraj): ";
                cin&gt;&gt;arg;
<a name="1"></a><font color="#00FF00"><a href="match436-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_5.gif"/></a>

                if(!cin) break;
                try{
                cout&lt;&lt;"f("&lt;&lt;arg&lt;&lt;") = "&lt;&lt;f(arg)&lt;&lt;endl;
                }
                catch(range_error e)
                {
                    cout&lt;&lt;e.what()&lt;&lt;endl;
                }
            }while(cin);
</font>        }
        else if(n==2)
        {   
            
            cout&lt;&lt;"Unesite krajeve intervala i korak: ";
            double xmin,xmax,dx;
            cin&gt;&gt;xmin&gt;&gt;xmax&gt;&gt;dx;
            function&lt;double(double)&gt; f1=[](double x){return x*x+sin(x);};
            
            function&lt;double(double)&gt; f=LinearnaInterpolacija(f1,xmin,xmax,dx);
           
            do
            {
                double arg;
                cout&lt;&lt;"Unesite argument (ili \"kraj\" za kraj): ";
                cin&gt;&gt;arg;
                if(!cin) break;
                try{
<a name="2"></a><font color="#0000FF"><a href="match436-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_5.gif"/></a>

                cout&lt;&lt;"f("&lt;&lt;arg&lt;&lt;") = "&lt;&lt;[](double x){return x*x+sin(x);}(arg)&lt;&lt;" fapprox("&lt;&lt;arg&lt;&lt;") = "&lt;&lt;f(arg)&lt;&lt;endl;
                }
                catch(range_error e)
                {
                cout&lt;&lt;e.what()&lt;&lt;endl;
                }    
            }while(cin);
</font>            
            
            
        }
    }
    catch(domain_error e){
        cout&lt;&lt;e.what();
    }
    return 0;
}
</pre>
</body>
</html>
