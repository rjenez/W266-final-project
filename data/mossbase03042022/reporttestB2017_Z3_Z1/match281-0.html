<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z1/student6462.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z1/student6462.cpp<p></p><pre>
#include &lt;iostream&gt;
#include &lt;functional&gt;
#include &lt;vector&gt;
#include &lt;utility&gt;
#include &lt;algorithm&gt;
#include &lt;cmath&gt;
<a name="0"></a><font color="#FF0000"><a href="match281-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_99.gif"/></a>

using namespace std;

bool funkcijaKriterija(pair&lt;double,double&gt; prvi,pair&lt;double,double&gt; drugi)
{
    return prvi.first&lt;drugi.first;
}

function&lt;double(double)&gt; LinearnaInterpolacija(vector&lt;pair&lt;double,double&gt;&gt; &amp;vektorParova)
{
    sort(vektorParova.begin(),vektorParova.end(),funkcijaKriterija);
    return [vektorParova](double x) {
        for(int i(0); i&lt;vektorParova.size(); i++)
            if(count_if(vektorParova.begin(),vektorParova.end(),[=](pair&lt;double,double&gt; prvi) {
            return prvi.first==vektorParova[i].first;
            })&gt;1)throw domain_error("Neispravni cvorovi");
        if(x&lt;vektorParova[0].first || x&gt;vektorParova[vektorParova.size()-1].first)throw range_error("Argument izvan opsega");
        if(x==vektorParova[vektorParova.size()-1].first)return vektorParova[vektorParova.size()-1].second;//specijalni slucaj
        pair&lt;double,double&gt; par {x,0};
        auto xiplus1(upper_bound(vektorParova.begin(),vektorParova.end(),par,funkcijaKriterija));
        auto xi(xiplus1-1);
        return (xi-&gt;second)+( ((xiplus1-&gt;second)-(xi-&gt;second))/((xiplus1-&gt;first)-(xi-&gt;first)) )*(x-(xi-&gt;first));
    };
}

double f(double x)
{
    return x*x+sin(x);
}

function&lt;double(double)&gt; LinearnaInterpolacija(double funkcija(double),double xmax,double xmin,double xdelta)
{
    if(xmin&gt;xmax || xdelta&lt;=0)throw domain_error("Nekorektni parametri!");
    if(xdelta&gt;xmax)throw range_error("Argument izvan opsega");
    vector&lt;pair&lt;double,double&gt;&gt; vp;
    for(int i(0); xmin&lt;=xmax; xmin+=i*xdelta) {
        vp.resize(i+1);
        vp[i].first=xmin;
        vp[i].second=funkcija(xmin);
        i++;
    }
    return LinearnaInterpolacija(vp);
}

int main ()
{
    cout&lt;&lt;"Odaberite opciju (1 - unos cvorova, 2 - aproksimacija): ";
    int izbor;
    cin&gt;&gt;izbor;
    switch(izbor) {
    case 1:
        {cout&lt;&lt;"Unesite broj cvorova: ";
        int brCvorova;
        cin&gt;&gt;brCvorova;
        vector&lt;pair&lt;double,double&gt;&gt; parParova(brCvorova);
        cout&lt;&lt;"Unesite cvorove kao parove x y: ";
        for(int i(0); i&lt;brCvorova; i++) {
            cin&gt;&gt;parParova[i].first&gt;&gt;parParova[i].second;
        }
        for(;;) {
            cout&lt;&lt;"Unesite argument (ili \"kraj\" za kraj): ";
            double var;
            cin&gt;&gt;var;
            if(!cin)break;
            try {
                function&lt;double(double)&gt; funkcija(LinearnaInterpolacija(parParova));
                cout&lt;&lt;"f("&lt;&lt;var&lt;&lt;")"&lt;&lt;" = "&lt;&lt;funkcija(var)&lt;&lt;endl;
            } catch(domain_error a) {
                cout&lt;&lt;a.what()&lt;&lt;endl;
            } catch(range_error b) {
                cout&lt;&lt;b.what()&lt;&lt;endl;
            }
        }}
        break;
    case 2:
        cout&lt;&lt;"Unesite krajeve intervala i korak: ";
        double var1,var2,korak;
        cin&gt;&gt;var1&gt;&gt;var2&gt;&gt;korak;
        for(;;) {
            cout&lt;&lt;"Unesite argument (ili \"kraj\" za kraj): ";
            double var;
            cin&gt;&gt;var;
            if(!cin)break;
            try {
                function&lt;double(double)&gt; funkcija(LinearnaInterpolacija(f,var2,var1,korak));
                cout&lt;&lt;"f("&lt;&lt;var&lt;&lt;")"&lt;&lt;" = "&lt;&lt;f(var)&lt;&lt;" fapprox(" &lt;&lt;var&lt;&lt;") = "&lt;&lt;funkcija(var)&lt;&lt;endl;
            } catch(domain_error a) {
                cout&lt;&lt;a.what()&lt;&lt;endl;
            } catch(range_error b) {
                cout&lt;&lt;b.what()&lt;&lt;endl;
</font>            }
        }
        break;
    }
    return 0;
}</pre>
</body>
</html>
