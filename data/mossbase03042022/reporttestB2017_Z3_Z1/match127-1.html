<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z1/student4577.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z1/student5122.cpp<p></p><pre>
<a name="0"></a><font color="#FF0000"><a href="match127-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_93.gif"/></a>

/B2017/2018: ZadaÄ‡a 3, Zadatak 1
#include &lt;iostream&gt;
#include &lt;vector&gt;
#include &lt;utility&gt;
#include &lt;algorithm&gt;
#include &lt;cmath&gt;
#include &lt;iterator&gt;
#include &lt;functional&gt;
typedef std::vector&lt;std::pair&lt;double,double&gt;&gt; VektorUredjenihParova;

std::function&lt;double(double)&gt; LinearnaInterpolacija(VektorUredjenihParova Cvorovi)
{
    std::sort(Cvorovi.begin(),Cvorovi.end(),[](std::pair&lt;double,double&gt; x,std::pair&lt;double,double&gt; y) {

        return x.first&lt;y.first;
    });

    for (int i = 0; i &lt; Cvorovi.size()-1; i++) {
        if(Cvorovi.at(i).first==Cvorovi.at(i+1).first) throw std::domain_error("Neispravni cvorovi");
    }


    return [Cvorovi](double x) {
        if(Cvorovi.at(0).first&gt;x || Cvorovi.at(Cvorovi.size()-1).first&lt;x) throw std::range_error("Argument izvan opsega");
        if(x==Cvorovi.at(Cvorovi.size()-1).first) return Cvorovi.at(Cvorovi.size()-1).second;
        std::pair&lt;double,double&gt; par1,par2;



        for(int i=0; i&lt;Cvorovi.size()-1; i++) {
            if(Cvorovi.at(i).first&lt;=x &amp;&amp; Cvorovi.at(i+1).first&gt;x) {
                par1=Cvorovi.at(i);
                par2=Cvorovi.at(i+1);
                
            }
        }

        return par1.second+((par2.second-par1.second)/(par2.first-par1.first))*(x-par1.first);
    };
}

std::function&lt;double(double)&gt; LinearnaInterpolacija(double f(double),double xmin,double xmax,double delta)
{
    if(xmin&gt;xmax || delta&lt;=0) throw std::domain_error("Nekorektni parametri");
    VektorUredjenihParova Cvorovi;
    int povecaj(0);
    while(xmin+povecaj*delta&lt;xmax) {
        Cvorovi.push_back(std::make_pair(xmin+povecaj*delta,f(xmin+povecaj*delta)));
        povecaj++;
    }
    return [Cvorovi](double x) {

        std::pair&lt;double,double&gt; par1,par2;

        if(Cvorovi.at(0).first&gt;x || Cvorovi.at(Cvorovi.size()-1).first&lt;x) throw std::range_error("Argument izvan opsega");

        for(int i=0; i&lt;Cvorovi.size()-1; i++) {
            if(Cvorovi.at(i).first&lt;=x &amp;&amp; Cvorovi.at(i+1).first&gt;x) {
                par1=Cvorovi.at(i);
                par2=Cvorovi.at(i+1);
            }
            
        return par1.second+((par2.second-par1.second)/(par2.first-par1.first))*(x-par1.first);
    };


}

double funk(double x)
{
    return x*x+std::sin(x);
}

int main ()
{

    std::cout&lt;&lt;"Odaberite opciju (1 - unos cvorova, 2 - aproksimacija): ";
    int UnosOpcije;
    std::cin&gt;&gt;UnosOpcije;
    if(UnosOpcije==1) {

        std::cout&lt;&lt;"Unesite broj cvorova: ";
        int BrojCvorova;
        std::cin&gt;&gt;BrojCvorova;
        std::cout&lt;&lt;"Unesite cvorove kao parove x y: ";
        VektorUredjenihParova v;
        double UnosX,UnosY;
        for (int i = 0; i &lt; BrojCvorova; i++) {
            std::cin&gt;&gt;UnosX&gt;&gt;UnosY;
            std::cin.clear();
            std::cin.ignore(10000,'\n');
            v.push_back(std::make_pair(UnosX,UnosY));
        }



        while(1) {
            try {
                auto f(LinearnaInterpolacija(v));

                std::cout&lt;&lt;"Unesite argument (ili \"kraj\" za kraj): ";
                double Argument;
                try {
                    std::cin&gt;&gt;Argument;

                    if(!(std::cin)) return 0;

                    std::cout&lt;&lt;"f("&lt;&lt;Argument&lt;&lt;") = "&lt;&lt;f(Argument)&lt;&lt;std::endl;
                } catch(std::range_error e) {
                    std::cout&lt;&lt;e.what();
                }
            } catch(std::domain_error e) {
                std::cout&lt;&lt;e.what();
                return 0;
            }
        }

    } else {
        std::cout&lt;&lt;"Unesite krajeve intervala i korak: ";
        double min,max,delta;
        std::cin&gt;&gt;min;
        std::cin&gt;&gt;max;
        std::cin&gt;&gt;delta;



        while(1) {
            try {

                auto f(LinearnaInterpolacija(funk,min,max,delta));
                std::cout&lt;&lt;"Unesite argument (ili \"kraj\" za kraj): ";
                double Argument;

                try {
                    std::cin&gt;&gt;Argument;


                    if(!(std::cin)) return 0;
                    
                    std::cout&lt;&lt;"f("&lt;&lt;Argument&lt;&lt;") = "&lt;&lt;funk(Argument)&lt;&lt;" fapprox("&lt;&lt;Argument&lt;&lt;") = "&lt;&lt;f(Argument)&lt;&lt;std::endl;
</font>
                    
                } catch(std::range_error e) {
<a name="1"></a><font color="#00FF00"><a href="match127-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_3.gif"/></a>

                    std::cout&lt;&lt;e.what()&lt;&lt;std::endl;
                }
            } catch(std::domain_error e) {
                std::cout&lt;&lt;e.what();
                return 0;
</font>            }
        }
    }

    return 0;
}
</pre>
</body>
</html>
