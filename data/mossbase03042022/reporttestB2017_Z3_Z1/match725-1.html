<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z1/student7090.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z1/student2210.cpp<p></p><pre>
/B2017/2018: ZadaÄ‡a 3, Zadatak 1
#include &lt;iostream&gt;
#include &lt;vector&gt;
#include &lt;utility&gt;
#include &lt;functional&gt;
#include&lt;algorithm&gt;
#include &lt;cmath&gt;

int Uporedi (std::vector&lt;std::pair&lt;double,double&gt;&gt; V)
{
    for(int i=0; i&lt;V.size()-1; i++) {
        for(int j=i+1; j&lt;V.size(); j++) {
            if(V[i].first==V[j].first)
                return 1;
        }
    }
    return 0;
}

std::function&lt;double(double)&gt;  LinearnaInterpolacija(std::vector&lt;std::pair&lt;double,double&gt;&gt; vector)
{
    //Sortiranje vektora parova:
    std::sort(vector.begin(),vector.end());

    //Provjera da li ima istih first iz parova
    if(Uporedi(vector))
        throw std::domain_error("Neispravni cvorovi");

//vracanje funkcije koja racuna formulu...
    return ([vector](double argument) {

        if(argument&lt;vector[0].first || argument&gt;vector[vector.size()-1].first)
            throw std::range_error("Argument izvan opsega");
        //sve uslove ispitat ako radi sve udure ide ovo:
        auto pocNaParXiYi(std::lower_bound(vector.begin(),vector.end(),argument,
        [](std::pair&lt;double,double&gt; x, double argument ) {
            return x.first&lt;argument;
        }));

<a name="1"></a><font color="#00FF00"><a href="match725-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_4.gif"/></a>

        return((*(pocNaParXiYi-1)).second+(((*pocNaParXiYi).second-(*(pocNaParXiYi-1)).second)/((*pocNaParXiYi).first-(*(pocNaParXiYi-1)).first))*((argument-(*(pocNaParXiYi-1)).first)));

    });
}
std::function&lt;double(double)&gt; LinearnaInterpolacija(double f(double),double Xmin,double Xmax,double deltaX)
{
    if(Xmin&gt;Xmax || deltaX&lt;=0)
        throw std::domain_error("Nekorektni parametri");
    std::vector&lt;std::pair&lt;double,double&gt;&gt; vector;
</font>    std::pair&lt;double,double&gt; P;
    double i=1;
    double a=Xmin;

//kreiranje vektora parova
    while(a&lt;Xmax) {
        double clan=Xmin+i*deltaX;
        P.first=clan;
        P.second=f(clan);

        vector.push_back(P);

        a+=deltaX;
        i++;
    }

//vracanje funkcije koja racuna formulu...
    return ([vector](double argument) {

        if(argument&lt;vector[0].first || argument&gt;vector[vector.size()-1].first)
            throw std::range_error("Argument izvan opsega");
        //sve uslove ispitat ako radi sve udure ide ovo:
        auto pocNaParXiYi(std::lower_bound(vector.begin(),vector.end(),argument,
        [](std::pair&lt;double,double&gt; x, double argument ) {
            return x.first&lt;argument;
        }));

        return((*(pocNaParXiYi-1)).second+(((*pocNaParXiYi).second-(*(pocNaParXiYi-1)).second)/((*pocNaParXiYi).first-(*(pocNaParXiYi-1)).first))*((argument-(*(pocNaParXiYi-1)).first)));

    });
}
double funkcija(double x)
{
<a name="0"></a><font color="#FF0000"><a href="match725-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_6.gif"/></a>

    return(x*x+sin(x));

}
int main ()
{

    int br;
    std::  cout&lt;&lt;"Odaberite opciju (1 - unos cvorova, 2 - aproksimacija): ";
    std::cin&gt;&gt;br;
    if(br==1) {
        int brCvorova;
        std::cout&lt;&lt;"Unesite broj cvorova: ";
        std::cin&gt;&gt;brCvorova;
        std::vector&lt;std::pair&lt;double,double&gt;&gt; V;
</font><a name="3"></a><font color="#00FFFF"><a href="match725-0.html#3" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_3.gif"/></a>

        std::pair&lt;double,double&gt; PAR;
        std::cout&lt;&lt;"Unesite cvorove kao parove x y: ";
        for(int i=0; i&lt;brCvorova; i++) {
            double x,y;
            std::cin&gt;&gt;x&gt;&gt;y;
</font>            PAR.first=x;
            PAR.second=y;
            V.push_back(PAR);

        }

        double arg;
        while(1&lt;2) {
            try {
                auto f=LinearnaInterpolacija(V);
                std::cout&lt;&lt;"Unesite argument (ili \"kraj\" za kraj): ";
                std::cin&gt;&gt;arg;
                if(!arg)
                    return 0;
                else {
                    try {
                        auto f=LinearnaInterpolacija(V);
                        std::cout&lt;&lt;"f("&lt;&lt;arg&lt;&lt;") = "&lt;&lt;f(arg)&lt;&lt;std::endl;
                    } catch(std::range_error r) {
                        std::cout&lt;&lt;r.what()&lt;&lt;std::endl;
                        continue;
                    }


                }
            } catch(std::domain_error r) {
                std::cout&lt;&lt;r.what();
                return 0;
            }
        }
    }

    else if(br==2) {
        int poc,kraj;
        double korak,arg;
        std::cout&lt;&lt;"Unesite krajeve intervala i korak: ",
                 std::cin&gt;&gt;poc&gt;&gt;kraj&gt;&gt;korak;
        while(1&lt;2) {
            std::cout&lt;&lt;"Unesite argument (ili \"kraj\" za kraj): ";
            std::cin&gt;&gt;arg;
            if(!arg)
                return 0;
            else {
                try {
<a name="2"></a><font color="#0000FF"><a href="match725-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_3.gif"/></a>

                    auto f=LinearnaInterpolacija(funkcija,poc,kraj,korak);
                    std::cout&lt;&lt;"f("&lt;&lt;arg&lt;&lt;") = "&lt;&lt;funkcija(arg)&lt;&lt;" fapprox("&lt;&lt;arg&lt;&lt;") = "&lt;&lt; f(arg)&lt;&lt;std::endl;
</font>                } catch(std::domain_error r) {
                    std::cout&lt;&lt;r.what()&lt;&lt;std::endl;
                    continue;
                } catch(std::range_error r) {
                    std::cout&lt;&lt;r.what()&lt;&lt;std::endl;
                    continue;
                }

            }
        }
    }


    return 0;

}
</pre>
</body>
</html>
