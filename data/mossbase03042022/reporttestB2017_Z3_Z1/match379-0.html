<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z1/student7123.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z1/student7123.cpp<p></p><pre>
<a name="4"></a><font color="#FF00FF"><a href="match379-1.html#4" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_4.gif"/></a>

/B2017/2018: ZadaÄ‡a 3, Zadatak 1
#include &lt;iostream&gt;
#include &lt;vector&gt;
#include &lt;stdexcept&gt;
#include &lt;functional&gt;
#include &lt;algorithm&gt;
#include &lt;cmath&gt;
#include &lt;string&gt;
using namespace std;
typedef pair&lt;double,double&gt; p;
</font>

double pomocna(double x, const vector&lt;p&gt; &amp;k_interpl){
    p pom(x,0);
<a name="0"></a><font color="#FF0000"><a href="match379-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_6.gif"/></a>

    auto k1=lower_bound(k_interpl.begin(), k_interpl.end(), x,[](std::pair&lt;double, double&gt; const &amp; x, double br){ return x.first &lt; br; });
    if(k1-&gt;first!=x) k1--;
    auto k2=upper_bound(k_interpl.begin(), k_interpl.end(),pom,[](p l, p br){return l.first&lt;br.first;});
</font><a name="5"></a><font color="#FF0000"><a href="match379-1.html#5" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_3.gif"/></a>

    return k2-&gt;second + (x-k2-&gt;first)*( (k1-&gt;second-k2-&gt;second)/(k1-&gt;first-k2-&gt;first) );
}


function&lt;double(double)&gt; LinearnaInterpolacija(vector&lt;p&gt; k_interpl)
</font>{
    sort(k_interpl.begin(),k_interpl.end(),[](p a, p b){return a.first&lt;b.first;});
<a name="6"></a><font color="#00FF00"><a href="match379-1.html#6" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_3.gif"/></a>

    for(int i=0; i&lt;k_interpl.size()-1; i++)
        if(k_interpl.at(i).first==k_interpl.at(i+1).first) throw domain_error("Neispravni cvorovi");
</font>    auto y= [k_interpl](double x)
    {
        if(x==k_interpl.at(k_interpl.size()-1).first) return k_interpl.at(k_interpl.size()-1).second;
        else if(x&lt;k_interpl.at(0).first || x&gt;k_interpl.at(k_interpl.size()-1).first) throw range_error("Argument izvan opsega");
        else if(x!=k_interpl.at(k_interpl.size()-1).first)
        {
            return pomocna(x,k_interpl);
        }
    };
    return y;
}

void clev(int &amp;n){
    try{
<a name="3"></a><font color="#00FFFF"><a href="match379-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_4.gif"/></a>

        cout&lt;&lt;"Unesite broj cvorova: ";
            cin&gt;&gt;n;
            cout&lt;&lt;"Unesite cvorove kao parove x y: ";
            vector&lt;pair&lt;double,double&gt;&gt; k_interpl(n);
            for(int i=0; i&lt;n; i++){
</font>                cin&gt;&gt;k_interpl.at(i).first; cin&gt;&gt;k_interpl.at(i).second;
            }
<a name="1"></a><font color="#00FF00"><a href="match379-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_6.gif"/></a>

            auto f=LinearnaInterpolacija(k_interpl);
            for(;;){
                cout&lt;&lt;"Unesite argument (ili \"kraj\" za kraj): ";
                double x;
                cin&gt;&gt;x;
                if(cin){
                    try{
                        cout&lt;&lt;"f("&lt;&lt;x&lt;&lt;") = "&lt;&lt;f(x)&lt;&lt;endl; 
                    } catch(range_error er) {cout&lt;&lt;er.what()&lt;&lt;endl;}
</font>                }
                else break;
            }
        
    }
    catch(domain_error er) {throw er;}
}

bool eh(double a, double b, double c){
    if(a&gt;b) return false;
    if(c&lt;0) return false;
    return true;
}

function&lt;double(double)&gt; LinearnaInterpolacija(double f(double), double xmin, double xmax, double dx)
{
    if(eh(xmin,xmax,dx)){
        vector&lt;p&gt; k_interpl;
        while(10==10)
        {
            if(xmin&gt;xmax) break;
            k_interpl.push_back(make_pair(xmin,f(xmin)));
            xmin+=dx;
        }
        auto y= LinearnaInterpolacija(k_interpl);
        return y;
    }
    throw domain_error("Nekorektni parametri");
}



int main ()
{
    int n;
    try{
        cout&lt;&lt;"Odaberite opciju (1 - unos cvorova, 2 - aproksimacija): ";
        cin&gt;&gt;n;
        if(n==1)
        {
            clev(n);
        }
        if(n==2)
        {
            cout&lt;&lt;"Unesite krajeve intervala i korak: ";
            double x,y,z;
            cin&gt;&gt;x&gt;&gt;y;
            cin&gt;&gt;z;
            auto f=LinearnaInterpolacija([](double x){return sin(x)+x*x;},x,y,z);
            for(;;)
            {
                cout&lt;&lt;"Unesite argument (ili \"kraj\" za kraj): ";
                         cin&gt;&gt;x;
<a name="2"></a><font color="#0000FF"><a href="match379-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_5.gif"/></a>

                         if(cin){
                         try{
                          cout&lt;&lt;"f("&lt;&lt;x&lt;&lt;") = "&lt;&lt;x*x+sin(x)&lt;&lt;" fapprox("&lt;&lt;x&lt;&lt;") = "&lt;&lt;f(x);
</font>                          cout&lt;&lt;endl; 
                         }catch(range_error er) { cout&lt;&lt;er.what()&lt;&lt;endl; }
                         }
                         else {break;}
            }
        }
    } 
    catch(domain_error er) {cout&lt;&lt;er.what();}
	return 0;
}
</pre>
</body>
</html>
