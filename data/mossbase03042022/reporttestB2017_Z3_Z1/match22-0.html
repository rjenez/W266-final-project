<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z1/student3594.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z1/student3594.cpp<p></p><pre>
<a name="0"></a><font color="#FF0000"><a href="match22-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_99.gif"/></a>

/B2017/2018: ZadaÄ‡a 3, Zadatak 1
#include &lt;iostream&gt;
#include &lt;vector&gt;
#include &lt;utility&gt;     
#include &lt;algorithm&gt;
#include &lt;functional&gt;
#include &lt;stdexcept&gt;
#include &lt;cmath&gt;
#include &lt;limits&gt;
#include &lt;set&gt;
bool comp (const std::pair&lt;double,double&gt; &amp;i, const std::pair&lt;double,double&gt; &amp;j) {
    double e(0.00001);
    return fabs(i.first - j.first) &lt; e;
}
bool comp2 (const std::pair&lt;double,double&gt; &amp;i, const std::pair&lt;double,double&gt; &amp;j) {

    return i.first &lt;  j.first;
}
std::function&lt;double(double)&gt;  LinearnaInterpolacija (std::vector&lt;std::pair&lt;double,double&gt;&gt; a){
    int i(0);
    std::sort(a.begin(),a.end());
    std::set&lt;double&gt; temp2;
    while(i &lt; a.size()){
        temp2.insert(std::get&lt;0&gt;(a.at(i)));
        i++;
    }
    if(temp2.size() != a.size()){
        throw std::domain_error("Neispravni cvorovi");
    }
    return [a](double x){
        try{
        std::vector&lt;std::pair&lt;double,double&gt;&gt; b;
        
        
        std::vector&lt;std::pair&lt;double,double&gt;&gt;::iterator x1,x2,tm,tm2;
        std::pair&lt;double,double&gt; tem;
        tem = std::make_pair (x,1.1);
        if(!((fabs(x - std::get&lt;0&gt;(a.at(0))) &lt; 0.0001))){
            if(x &lt; std::get&lt;0&gt;(a.at(0))){
                throw std::range_error("Argument izvan opsega");
            }
        }
        if(!((fabs(x - std::get&lt;0&gt;(a.at(a.size() - 1))) &lt; 0.0001))){
            if(x &gt; std::get&lt;0&gt;(a.at(a.size() - 1))){
                throw std::range_error("Argument izvan opsega");
            }
        }
        b =a;
        b.push_back(tem);
        std::sort(b.begin(),b.end());
        x1 = std::lower_bound(b.begin(),b.end(),std::make_pair(x,1.1),comp2);
        if(fabs(x - std::get&lt;0&gt;(a.at(a.size() - 1))) &lt; 0.0001){
            return std::get&lt;1&gt;(a.at(a.size() - 1));
        }
        if(fabs(x - std::get&lt;0&gt;(a.at(0))) &lt; 0.00001){
            return  std::get&lt;1&gt;(a.at(0));
        }
        tm = x1;
        tm++;
        if(fabs(x1-&gt;first - (tm)-&gt;first) &lt; 0.00001 ){
            return tm-&gt;second;
        }
        tm2 = x1;
        tm2--;
        if(fabs(x1-&gt;first - (tm2)-&gt;first) &lt; 0.00001){
            return tm2-&gt;second;
        }
        x2 = std::upper_bound(b.begin(),b.end(),std::make_pair(x,1.1),comp2);
        x1--;
        double f;
        f = x1-&gt;second + ((x2-&gt;second - x1-&gt;second) / (x2-&gt;first - x1-&gt;first))*(x -  x1-&gt;first);
        return f;
        } catch (std::range_error e){
            std::cout &lt;&lt; e.what();
            return -14535453455354535433534534543435.3;
        }
    };
}
std::function&lt;double(double)&gt;  LinearnaInterpolacija (std::function&lt;double(double)&gt; h,double min,double max,double D){
    std::vector&lt;std::pair&lt;double,double&gt;&gt; a;
    int y(0);
    while(!(fabs((min + y*D) - max) &lt; 0.0001)){
        a.push_back(std::make_pair(min+y*D,h(min+y*D)));
        y++;
    }
    a.push_back(std::make_pair(max,h(max)));
    return LinearnaInterpolacija(a);
}

int main ()
{
    int a;
    std::vector&lt;std::pair&lt;double,double&gt;&gt; v;
    std::cout &lt;&lt; "Odaberite opciju (1 - unos cvorova, 2 - aproksimacija): ";
    std::cin &gt;&gt; a;
    std::function&lt;double(double)&gt; f;
    double k;
    int u(a);
    try{
    if(a == 1){
         double x,y;
        std::cout &lt;&lt;"Unesite broj cvorova: ";
        std::cin &gt;&gt; a;
        std::cout &lt;&lt;"Unesite cvorove kao parove x y: ";
        for(int i = 0;i &lt; a;i++){
            std::cin &gt;&gt; x;
            std::cin &gt;&gt; y;
            v.push_back(std::make_pair(x,y));
        }
        f = LinearnaInterpolacija(v);
    } else if (a == 2){
        std::cout &lt;&lt; "Unesite krajeve intervala i korak: ";
        double x,xm,d;
        std::cin &gt;&gt; x &gt;&gt; xm &gt;&gt; d;
         f = LinearnaInterpolacija([] (double u) {return pow(u,2) + sin(u);},x,xm,d);
    }
    }catch (std::domain_error e){
        std::cout &lt;&lt; e.what();
        return 0;
    }
    if(u == 1){
    while(1){
            std::cout &lt;&lt; "Unesite argument (ili \"kraj\" za kraj): ";
            std::cin &gt;&gt; k;
            if(!std::cin){
                break;
            }
            if (f(k) != -14535453455354535433534534543435.3){
            std::cout &lt;&lt; "f(" &lt;&lt; k &lt;&lt; ") = " &lt;&lt; f(k) &lt;&lt; "\n";
            } else {
                std::cout &lt;&lt; "\n";
            }
        }
    } else if(u==2){
         while(1){
            std::cout &lt;&lt; "Unesite argument (ili \"kraj\" za kraj): ";
            std::cin &gt;&gt; k;
            if(!std::cin){
                break;
            }
           
            if (f(k) != -14535453455354535433534534543435.3){
            std::cout &lt;&lt; "f(" &lt;&lt; k &lt;&lt; ") = " &lt;&lt; pow(k,2.0) + sin(k) &lt;&lt; " ";
            std::cout &lt;&lt; "fapprox(" &lt;&lt; k &lt;&lt; ") = " &lt;&lt; f(k) &lt;&lt; '\n';
            } else {
                std::cout &lt;&lt;"\n";
            }
           
        }
    }
	return 0;
</font>}
</pre>
</body>
</html>
