<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z1/student1220.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z1/student3739.cpp<p></p><pre>
<a name="0"></a><font color="#FF0000"><a href="match205-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_99.gif"/></a>

/B2017/2018: ZadaÄ‡a 3, Zadatak 1
#include &lt;iostream&gt;
#include &lt;vector&gt;
#include &lt;utility&gt;
#include &lt;stdexcept&gt;
#include &lt;cmath&gt;
#include &lt;functional&gt;
#include &lt;algorithm&gt;
double xsinx(double x) {
    return x*x+std::sin(x);
}
std::function&lt;double(double)&gt;LinearnaInterpolacija(std::vector&lt;std::pair&lt;double, double&gt;&gt;Par) {
    for(int i=0; i&lt;Par.size(); i++) {
        for(int j=0; j&lt;Par.size(); j++) {
            if(fabs(Par[i].first-Par[j].first)&lt;0) throw std::domain_error("Neispravni cvorovi");
        }
    }
    sort(Par.begin(), Par.end(), [](std::vector&lt;std::pair&lt;double,double&gt;prvi, std::pair&lt;double,double&gt;drugi){
        return prvi.first&lt;drugi.first; });
    auto f=[Par](double x)-&gt;double {
         double rez;
        if(binary_search(Par.begin(), Par.end(),x,[x](std::vector&lt;std::pair&lt;double,double&gt;&gt;Par) {
            for(int i=0; i&lt;Par.size(); i++)
            if(x&gt;Par[i].first &amp;&amp; x&lt;Par[i+1].first) return true;
            return false;})) {
            for(int i=0; i&lt;Par.size(); i++) {
                if(x&gt;Par[i].first &amp;&amp; x&lt;Par[i+1].first) {
                    double clan;
                    clan=(Par[i+1].second-Par[i].second)/(Par[i+1].first-Par[i].first);
                    double clan2;
                    clan2=clan*(x-Par[i].first);
                    rez=Par[i].second+clan2;
                }
            }
        }
        return rez;
    };
    return f;
}
std::function&lt;double(double)&gt;LinearnaInterpolacija(std::function&lt;double(double)&gt;f, double xmin, double xmax, double deltax){
    if(xmin&gt;xmax || deltax&lt;=0) throw std::domain_error("Nekorektni parametri");
    std::vector&lt;std::pair&lt;double,double&gt;&gt;parovi;
    for(auto x=xmin; x&lt;xmax; x+=deltax) {
        std::pair&lt;double, double&gt;par;
        par.first=x; par.second=f(x);
        parovi.push_back(par);
    }
    auto f1=LinearnaInterpolacija(parovi);
    return f1;
} 

int main ()
{
    try{
        int n;
        std::vector&lt;std::pair&lt;double, double&gt;&gt;vektorcvorova;
        std::cout&lt;&lt;"Odaberite opciju (1-unos cvora, 2-aproksimacija): ";
        std::cin&gt;&gt;n;
        switch(n) {
            case 1: {
            std::cout&lt;&lt;"Unesite broj cvora: ";
            int a;
            std::cin&gt;&gt;a;
            std::cout&lt;&lt;"Unesite cvorove kao parove x y: ";
            std::pair&lt;double, double&gt;cvor;
            for(int i=0; i&lt;a; i++) {
                std::cin&gt;&gt;cvor.first;
                std::cin&gt;&gt;cvor.second;
                vektorcvorova.push_back(cvor);
            }
            for(;;) {
                double arg;
                std::cout&lt;&lt;"Unesite argument (ili \"kraj\"za kraj): ";
                std::cin&gt;&gt;arg;
                if(!std::cin) break;
                auto f(LinearnaInterpolacija(vektorcvorova));
                std::cout&lt;&lt;"f("&lt;&lt;arg&lt;&lt;")="&lt;&lt;f(arg)&lt;&lt;std::endl;
            }
            return 0;
        }
        case 2: {
            double i1,i2,k;
            std::cout&lt;&lt;"Unesite krajeve intervala i korak: ";
            std::cin&gt;&gt;i1&gt;&gt;i2&gt;&gt;k;
            for(;;) {
                double arg;
                std::cout&lt;&lt;"Unesite argument (ili\"kraj\"za kraj): ";
                std::cin&gt;&gt;arg;
                if(!std::cin) break;
                auto fun=[](double x) {return x*x+std::sin(x);};
                auto f(LinearnaInterpolacija(xsinx, i1, i2, k));
                std::cout&lt;&lt;"f("&lt;&lt;arg&lt;&lt;")="&lt;&lt;fun(arg)&lt;&lt;"fapprox("&lt;&lt;arg&lt;&lt;")="&lt;&lt;f(arg)&lt;&lt;std::endl;
        }
        return 0;
    }
    }
    }
    catch(std::domain_error e) {
        std::cout&lt;&lt;e.what();
</font>    }
	return 0;
}
</pre>
</body>
</html>
