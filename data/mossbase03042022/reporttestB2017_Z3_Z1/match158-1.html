<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z1/student1845.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z1/student1502.cpp<p></p><pre>
#include &lt;iostream&gt;
#include &lt;functional&gt;
#include &lt;stdexcept&gt;
#include &lt;vector&gt;
#include &lt;utility&gt;
#include &lt;cstring&gt;
#include &lt;cmath&gt;
#include &lt;algorithm&gt;


<a name="0"></a><font color="#FF0000"><a href="match158-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_99.gif"/></a>

using namespace std;
double fija(double x){
    return x*x+sin(x);
}



function&lt;double(double)&gt; LinearnaInterpolacija(vector&lt;pair&lt;double,double&gt;&gt; v){
    
    //Provjeriti sortiranje
    sort(v.begin(),v.end(),[](pair&lt;double,double&gt; a,pair&lt;double,double&gt; b){
        return a.first&lt;b.first;
    });

    for(int i=0;i&lt;v.size();i++){
        for(int j=i+1;j&lt;v.size();j++){
            if(fabs(v[i].first-v[j].first)==0){
                throw domain_error("Neispravni cvorovi");
            }
        }
    }
    
    

    
    return [v](double x){
        if(x&lt;v[0].first or x&gt;v[v.size()-1].first)throw range_error("Argument izvan opsega");
        int i=0;
        
        while(i&lt;v.size()-1){
            if(v[i].first&lt;=x and v[i+1].first&gt;=x){
                return v[i].second+((v[i+1].second-v[i].second)/(v[i+1].first-v[i].first))*(x-v[i].first);
            }
            i++;
        }
        
        
    };
    
    
    
}


function&lt;double(double)&gt; LinearnaInterpolacija(double fija(double),double xmin,double xmax,double deltax){

    vector&lt;pair&lt;double,double&gt;&gt; v;
    
    
    if(deltax&lt;=0 or xmin&gt;xmax)throw domain_error("Nekorektni parametri"); //baciti izuzetak
    int brojac=0;
  for(double i=xmin;i&lt;xmax;i+=deltax){
      brojac++;
  }
    v.resize(brojac);
    int koordinata=0;
    for(double i=xmin;i&lt;xmax;i+=deltax){
                    double a=i;
                    double b=fija(i);
                    v[koordinata]=make_pair(a,b);
                    koordinata++;
    }
    
    
    
    return [v](double x){
         if(x&lt;v[0].first or x&gt;v[v.size()-1].first)throw range_error("Argument izvan opsega");
          int i=0;
        
       while(i&lt;v.size()-1){
            if(v[i].first&lt;=x and v[i+1].first&gt;x){
                return v[i].second+((v[i+1].second-v[i].second)/(v[i+1].first-v[i].first))*(x-v[i].first);
            }
            i++; 
            
        }
       
        
        
    };
    
    
 }

int main (){
    try{
    int p;
    vector&lt;pair&lt;double,double&gt;&gt; v;
    bool kraj=false;

    for(;;){
        if(kraj)break;
        cout&lt;&lt;"Odaberite opciju (1 - unos cvorova, 2 - aproksimacija): ";
        cin&gt;&gt;p;
        switch(p){
           case 1:{
                
                int broj_cvorova;
                cout&lt;&lt;"Unesite broj cvorova: ";
                cin&gt;&gt;broj_cvorova;
                
                v.resize(broj_cvorova);
                cout&lt;&lt;"Unesite cvorove kao parove x y: ";
                for(int i=0;i&lt;broj_cvorova;i++){
                    double a,b;
                    cin&gt;&gt;a&gt;&gt;b;
                    v[i]=make_pair(a,b);
                }
                
                
                auto f(LinearnaInterpolacija(v));
              
                for(;;){
                cin.clear();
                cin.ignore(1000,'\n');
                
                
                cout&lt;&lt;"Unesite argument (ili "&lt;&lt;'"'&lt;&lt;"kraj"&lt;&lt;'"'&lt;&lt;" za kraj): ";
                double argument;
                cin&gt;&gt;argument;
                if(cin.fail()!=true){
                    cout&lt;&lt;"f("&lt;&lt;argument&lt;&lt;") = "&lt;&lt;f(argument)&lt;&lt;endl;
                }else{
                  
                kraj=true;
                    break;
                }
                
                
                
                
            }
            break;
           }
           case 2:{
               cout&lt;&lt;"Unesite krajeve intervala i korak: ";
               double a,b,c;
               cin&gt;&gt;a&gt;&gt;b&gt;&gt;c;
              
              auto f1(LinearnaInterpolacija(fija,a,b,c));
             
              
              for(;;){
                cin.clear();
                cin.ignore(1000,'\n');
                
                
                cout&lt;&lt;"Unesite argument (ili "&lt;&lt;'"'&lt;&lt;"kraj"&lt;&lt;'"'&lt;&lt;" za kraj): ";
                double argument;
                cin&gt;&gt;argument;
                if(cin.fail()!=true){
                    try{
                    cout&lt;&lt;"f("&lt;&lt;argument&lt;&lt;") = "&lt;&lt;fija(argument)&lt;&lt;" fapprox("&lt;&lt;argument&lt;&lt;") = "&lt;&lt;f1(argument)&lt;&lt;endl;
                    }catch(range_error hehe){
                            cout&lt;&lt;hehe.what()&lt;&lt;endl;
                    }
                }else{
                   
                    kraj=true;
                    break;
                }
                
                
                
            }
              
              
                break;
            }
            
            default:
            //pogresan unos
            break;
        }
        
    }
    
    }catch(domain_error hehe){
        cout&lt;&lt;hehe.what();
</font>    }
    

	return 0;
}</pre>
</body>
</html>
