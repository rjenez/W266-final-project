<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z1/student6029.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z1/student6029.cpp<p></p><pre>
<a name="0"></a><font color="#FF0000"><a href="match267-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_99.gif"/></a>

/B2017/2018: ZadaÄ‡a 3, Zadatak 1
#include &lt;iostream&gt;
#include &lt;utility&gt;
#include &lt;cmath&gt;
#include &lt;algorithm&gt;
#include &lt;stdexcept&gt;
#include &lt;cstdlib&gt;
#include &lt;vector&gt;
#include &lt;functional&gt;


constexpr double EPSILON = 0.00000000001;

using namespace std;

bool kriterij( const pair&lt;double,double&gt; &amp;p1, const pair&lt;double,double&gt; &amp;p2)
{
    return p1.first&lt;p2.first;
}

bool kriterij2(double x,const pair&lt;double,double&gt; &amp;p1){
    return p1.first&gt;x;
}



function&lt;double(double)&gt; LinearnaInterpolacija (vector&lt;pair&lt;double,double&gt;&gt; parovi)
{
    sort(parovi.begin(),parovi.end(),kriterij);
    for(int i=0; i&lt;parovi.size()-1; i++)
        for(int j=i+1; j&lt;parovi.size(); j++)
            if(parovi[i].first==parovi[j].first) throw domain_error("Neispravni cvorovi\n");


    
    return [parovi](double x) {
        if(x&lt;parovi[0].first || x&gt;parovi[int(parovi.size())-1].first) throw range_error("Argument izvan opsega\n");

        if(x==parovi.at(int(parovi.size())-1).first) return parovi.at(int(parovi.size())-1).second;

        int indeks = upper_bound(parovi.begin(),parovi.end(),x,kriterij2)-parovi.begin()-1;

        double razl(0);
        razl=parovi[indeks+1].second-parovi[indeks].second;
        razl/=parovi[indeks+1].first-parovi[indeks].first;
        double faktor(0);
        faktor=x-parovi[indeks].first;
        faktor*=razl;
        return parovi[indeks].second+faktor;
    };
}



function&lt;double(double)&gt; LinearnaInterpolacija(function&lt;double(double)&gt; f, double xmin, double xmax, double deltax)
{
    if(xmin&gt;xmax || deltax&lt;=0) throw domain_error("Nekorektni parametri");
    vector&lt;pair&lt;double,double&gt;&gt; cvorovi;
    double x(xmin);
    while(x&lt;xmax) {
        cvorovi.push_back({x,f(x)});
        x+=deltax;
    }
    return LinearnaInterpolacija(cvorovi);
}




int main ()
{
    int opcija(-1),brc(0);
    double x,y,argument;
    vector&lt;pair&lt;double,double&gt;&gt; cvorovi;
    double p,k,delta;
    cout&lt;&lt;"Odaberite opciju (1 - unos cvorova, 2 - aproksimacija): ";
    cin&gt;&gt;opcija;
    if (opcija==1) {
        cout&lt;&lt;"Unesite broj cvorova: ";
        cin&gt;&gt; brc;
        cout&lt;&lt;"Unesite cvorove kao parove x y: ";
        for(int i=0; i&lt;brc; i++) {
            cin&gt;&gt;x&gt;&gt;y;
            cvorovi.push_back({x,y});
        }
    } else {
        cout&lt;&lt;"Unesite krajeve intervala i korak: ";
        cin&gt;&gt;p&gt;&gt;k&gt;&gt;delta;
    }
    for(;;) {
        //cout&lt;&lt;"Unesite argument (ili \"kraj\" za kraj): ";
        //if(!(cin&gt;&gt;argument)) return 0;
        try {

            switch(opcija) {
                case 1: {
                    auto funkcija(LinearnaInterpolacija(cvorovi));
                    cout&lt;&lt;"Unesite argument (ili \"kraj\" za kraj): ";
                    if(!(cin&gt;&gt;argument)) return 0;
                    cout&lt;&lt;"f("&lt;&lt;argument&lt;&lt;") = "&lt;&lt;funkcija(argument)&lt;&lt;endl;
                    break;
    
                }
                case 2: {
                    auto funkcija(LinearnaInterpolacija([](double x) {
                        return x*x+sin(x);
                    },p,k,delta));
                    cout&lt;&lt;"Unesite argument (ili \"kraj\" za kraj): ";
                    if(!(cin&gt;&gt;argument)) return 0;
                    cout&lt;&lt;"f("&lt;&lt;argument&lt;&lt;") = "&lt;&lt;argument*argument+sin(argument)&lt;&lt;" "&lt;&lt; "fapprox("&lt;&lt;argument&lt;&lt;") = "&lt;&lt;funkcija(argument)&lt;&lt;endl;
                    break;
    
                }

            }

        } catch(domain_error e) {
            cout&lt;&lt;e.what();
            return 0;
        } catch(range_error e) {
            cout&lt;&lt;e.what();
</font>        }

    }
    return 0;
}
</pre>
</body>
</html>
