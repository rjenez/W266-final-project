<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z1/student2142.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z1/student1213.cpp<p></p><pre>
#include &lt;iostream&gt;
#include &lt;vector&gt;
#include &lt;stdexcept&gt;
#include &lt;algorithm&gt;
#include &lt;functional&gt;
#include &lt;cmath&gt;
using namespace std;

bool cmp(int br, pair&lt;int, int&gt; const&amp; p)
{
    return (p.first &lt; br);
}

bool cmp1(const pair&lt;double,double&gt; &amp;l,const pair&lt;double,double&gt; &amp;r)
{

    return l.first&lt;r.first;
}
bool cmp2(const pair&lt;double,double&gt; &amp;l,const pair&lt;double,double&gt; &amp;r)
{

    return l.first&gt;r.first;
}
template&lt;typename t&gt;
void uslov(double x, t &amp;prvi){
    if(prvi-&gt;first!=x) prvi--;
}

double fun(const vector&lt;pair&lt;double,double&gt;&gt; &amp;v, double a){
    return a;
}

double funkcija(const vector&lt;pair&lt;double,double&gt;&gt; &amp;koef, double x)
{
    auto prvi=koef.begin();
    prvi=lower_bound(koef.begin(), koef.end(), x,[](std::pair&lt;double, double&gt; const &amp; x, double br){ return x.first &lt; br; });
    uslov(x,prvi);
    auto drugi=koef.begin();
    drugi=upper_bound(koef.begin(), koef.end(),pair&lt;double,double&gt; (x,0),[](pair&lt;double,double&gt; l, pair&lt;double,double&gt; br){return l.first&lt;br.first;});
<a name="0"></a><font color="#FF0000"><a href="match854-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_10.gif"/></a>

    return drugi-&gt;second + (x-drugi-&gt;first)*( (prvi-&gt;second-drugi-&gt;second)/(prvi-&gt;first-drugi-&gt;first) );
}

function&lt;double(double)&gt;LinearnaInterpolacija(vector&lt;pair&lt;double,double&gt;&gt; v)
{
    sort(v.begin(), v.end(), [](pair&lt;double,double&gt; a, pair&lt;double,double&gt; b){ return a.first&lt;b.first; });
    for(int i=0; i&lt;v.size()-1; i++) {
        if(v.at(i).first==v.at(i+1).first) throw domain_error("Neispravni cvorovi");
</font>    }
    
    function&lt;double(double)&gt; linterp;
    linterp=[v](double x){
        if(x&lt;v.at(0).first || x&gt;v.at(v.size()-1).first) throw range_error("Argument izvan opsega");
        if(x==v.at(v.size()-1).first) return fun(v,v.at(v.size()-1).second);
        else return funkcija(v,x);
    };
    return linterp;
}

void unos1(double &amp;x){
    cout&lt;&lt;"Unesite argument (ili \"kraj\" za kraj): ";
               
                    cin&gt;&gt;x;
}

function&lt;double(double)&gt;LinearnaInterpolacija( double f(double), double manji, double veci, double D){
    if(D&lt;=0 || manji&gt;veci) throw domain_error("Nekorektni parametri");
    vector&lt;pair&lt;double,double&gt;&gt; v;
    do{
        pair&lt;double,double&gt; sawe;
        v.push_back(make_pair(manji, f(manji)));
        sawe.first=manji;
        sawe.second=veci;
        manji+=D;
    } while(manji&lt;veci);
    auto linterp= LinearnaInterpolacija(v);
    return linterp;
}



int main ()
{


    try{
            int br;
            cout&lt;&lt;"Odaberite opciju (1 - unos cvorova, 2 - aproksimacija): ";
            cin&gt;&gt;br;
            if(br==1)
            {
                int n;
<a name="1"></a><font color="#00FF00"><a href="match854-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_3.gif"/></a>

                cout&lt;&lt;"Unesite broj cvorova: "; cin&gt;&gt;n;
                cout&lt;&lt;"Unesite cvorove kao parove x y: ";
                vector&lt;pair&lt;double,double&gt;&gt; koef(n);
                for(int i=0; i&lt;n; i++) {
</font>                    cin&gt;&gt;koef.at(i).first; cin&gt;&gt;koef.at(i).second;
                }
                auto inter=LinearnaInterpolacija(koef);
                do {
                    cout&lt;&lt;"Unesite argument (ili \"kraj\" za kraj): ";
                    double x;
                    cin&gt;&gt;x;
                    if(cin){
<a name="2"></a><font color="#0000FF"><a href="match854-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_3.gif"/></a>

                        try{
                            cout&lt;&lt;"f("&lt;&lt;x&lt;&lt;") = "&lt;&lt;inter(x)&lt;&lt;endl; 
                        } catch(range_error r) { cout&lt;&lt;r.what()&lt;&lt;endl; }
</font>                    }
                    else break;
                }while(1);
            }
            else 
            {
                cout&lt;&lt;"Unesite krajeve intervala i korak: ";
                double m1,m2,del;
                cin&gt;&gt;m1&gt;&gt;m2&gt;&gt;del;
                auto inter=LinearnaInterpolacija([](double x){return sin(x)+x*x;},m1,m2,del);
                double x;
                do {
                    unos1(x);
                    if(cin){
                        try{
                            cout&lt;&lt;"f("&lt;&lt;x&lt;&lt;") = "&lt;&lt;sin(x)+x*x&lt;&lt;" fapprox("&lt;&lt;x&lt;&lt;") = "&lt;&lt;inter(x)&lt;&lt;endl; 
                        } catch(range_error r) { cout&lt;&lt;r.what()&lt;&lt;endl; }
                    }
                    else break;
                }while(1);
            }
    }
    catch(domain_error d) { cout&lt;&lt;d.what()&lt;&lt;endl;} 
    catch(...) {}
	return 0;
}
</pre>
</body>
</html>
