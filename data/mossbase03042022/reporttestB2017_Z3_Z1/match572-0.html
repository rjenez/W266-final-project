<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z1/student4736.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z1/student4736.cpp<p></p><pre>
<a name="2"></a><font color="#0000FF"><a href="match572-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_4.gif"/></a>

/B2017/2018: ZadaÄ‡a 3, Zadatak 1
#include &lt;iostream&gt;
#include &lt;vector&gt;
#include &lt;utility&gt;
#include &lt;functional&gt;
#include &lt;cmath&gt;
#include &lt;stdexcept&gt;
#include &lt;set&gt;
#include &lt;algorithm&gt;

using namespace std;

bool JesuLiJednaki(double x, double y, double Eps = 1e-10)
</font>{
    return fabs(x - y) &lt;= Eps * (fabs(x) + fabs(y));
}

bool funkcijaKriterija(pair&lt;double,double&gt;par1, pair&lt;double,double&gt;par2)
{
    return par1.first&lt;=par2.first;
}

function&lt;double(double)&gt; LinearnaInterpolacija(vector&lt;pair&lt;double,double&gt;&gt; parovi)
{
    for(int i = 0; i&lt;parovi.size(); i++) {
        for (int j = i-1; j &gt;= 0; j--) {
            if(JesuLiJednaki( parovi[j].first, parovi[i].first)) {
                throw domain_error("Neispravni cvorovi");
            }
        }
    }


    sort(parovi.begin(),parovi.end(),funkcijaKriterija);

    return [parovi](double x) {

        if(x&lt;parovi[0].first || x&gt;parovi[parovi.size()-1].first) {
            throw range_error("Argument izvan opsega");
        }
        auto veci = upper_bound(parovi.begin(), parovi.end(),pair&lt;double,double&gt;(x,0),funkcijaKriterija);
        int pozicija_veci = veci - parovi.begin();
        int pozicija_manji = pozicija_veci-1;

        double ym = parovi[pozicija_manji].second;
        double yv = parovi[pozicija_veci].second;
        double xm = parovi[pozicija_manji].first;
        double xv = parovi[pozicija_veci].first;



        return ym + ((yv-ym)/(xv-xm))*(x-xm);
    };
}

<a name="0"></a><font color="#FF0000"><a href="match572-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_7.gif"/></a>

function&lt;double(double)&gt; LinearnaInterpolacija(function&lt;double(double)&gt;f, double xMin, double xMax, double delta)
{
    if(xMin&gt;xMax || delta&lt;=0) {
        throw domain_error("Nekorektni parametri");
    }

    vector&lt;pair&lt;double,double&gt;&gt; parovi;

    while(xMin&lt;=xMax) {
        pair&lt;double,double&gt; par = pair&lt;double,double&gt;(xMin, f(xMin));
</font>
        parovi.push_back(par);

        xMin+=delta;
    }

    return LinearnaInterpolacija(parovi);
}

double testnaFunkcija(double x)
{
    return x*x+sin(x);
}
<a name="1"></a><font color="#00FF00"><a href="match572-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_6.gif"/></a>

int main()
{
    try {
        int broj_cvorova;
        int opcija;
        cout&lt;&lt;"Odaberite opciju (1 - unos cvorova, 2 - aproksimacija): ";
        cin&gt;&gt;opcija;

        if(opcija == 1) {
            cout&lt;&lt;"Unesite broj cvorova: ";
            cin&gt;&gt;broj_cvorova;
            vector&lt;pair&lt;double,double&gt;&gt; parovi;
            cout&lt;&lt;"Unesite cvorove kao parove x y: ";
</font>            for (int i = 0; i &lt; broj_cvorova; i++) {
                double x,y;
                cin&gt;&gt;x&gt;&gt;y;
                parovi.push_back(make_pair(x,y));
            }
            auto f(LinearnaInterpolacija(parovi));

            string unos;
            while(true) {
                cout&lt;&lt;"Unesite argument (ili \"kraj\" za kraj): ";
                cin&gt;&gt;unos;
                if(unos=="kraj") {
                    break;
                }
                double argument = stod(unos);
                cout&lt;&lt;"f("&lt;&lt;argument&lt;&lt;") = "&lt;&lt;f(argument)&lt;&lt;endl;
            }
<a name="3"></a><font color="#00FFFF"><a href="match572-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_4.gif"/></a>

        } else if(opcija==2) {
            cout&lt;&lt;"Unesite krajeve intervala i korak: ";
            double pocetak,kraj,korak;
            cin&gt;&gt;pocetak&gt;&gt;kraj&gt;&gt;korak;

            auto fapprox(LinearnaInterpolacija(testnaFunkcija,pocetak,kraj,korak));
</font>            string unos;
            while(true) {
                try {
                    cout&lt;&lt;"Unesite argument (ili \"kraj\" za kraj): ";
                    cin&gt;&gt;unos;
                    if(unos=="kraj") {
                        break;
                    }
                    double argument = stod(unos);
<a name="4"></a><font color="#FF00FF"><a href="match572-1.html#4" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_4.gif"/></a>

                    cout&lt;&lt;"f("&lt;&lt;argument&lt;&lt;") = "&lt;&lt;testnaFunkcija(argument)&lt;&lt;" fapprox("&lt;&lt;argument&lt;&lt;") = "&lt;&lt;fapprox(argument)&lt;&lt;endl;
                } catch(domain_error e) {
                    cout&lt;&lt;e.what()&lt;&lt;endl;
</font>                } catch(range_error e) {
                    cout&lt;&lt;e.what()&lt;&lt;endl;
                }

            }

        }

    } catch(domain_error e) {
        cout&lt;&lt;e.what()&lt;&lt;endl;
    } catch(range_error e) {
        cout&lt;&lt;e.what()&lt;&lt;endl;
    }
}</pre>
</body>
</html>
