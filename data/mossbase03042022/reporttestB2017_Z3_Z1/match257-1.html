<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z1/student8576.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z1/student7582.cpp<p></p><pre>
#include &lt;iostream&gt;
#include &lt;utility&gt;
#include &lt;vector&gt;
#include &lt;functional&gt;
#include &lt;algorithm&gt;
#include &lt;stdexcept&gt;
#include &lt;cmath&gt;
#define EPS 0.00001
<a name="0"></a><font color="#FF0000"><a href="match257-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_99.gif"/></a>

using namespace std;
function&lt;double(double)&gt; LinearnaInterpolacija(vector&lt;pair&lt;double,double&gt;&gt; v)
{
    sort(v.begin(),v.end(),[](pair&lt;double,double&gt; p1, pair&lt;double,double&gt; p2) {
        return p1.first&lt;p2.first;
    });
    int vel(v.size());
    for(int i=0; i&lt;vel; i++) {
            for(int j=i;j&lt;vel-1;j++){
                if(fabs(v.at(i).first-v.at(j+1).first)&lt;EPS){
                    throw domain_error("Neispravni cvorovi");
                } 
            }
        }
    /*for(int i=0; i&lt;v.size()-1; i++) {
        if(fabs(v.at(i).first-v.at(i+1).first)&lt;EPS) throw domain_error("Neispravni cvorovi");
    }*/
    return [v](double x) {
        int vel(v.size());
        for(int i=0; i&lt;vel-1; i++) {
            if(x&gt;=v.at(i).first &amp;&amp; x&lt;v.at(i+1).first)
                return v.at(i).second + ((v.at(i+1).second-v.at(i).second)/(v.at(i+1).first-v.at(i).first))*(x-v.at(i).first);
            else if(fabs(x-v.at(v.size()-1).first)&lt;EPS) return v.at(v.size()-1).second;
        }
        throw range_error("Argument izvan opsega");
    };
}
function&lt;double(double)&gt; LinearnaInterpolacija(function&lt;double(double)&gt; f, double x_min, double x_max, double delta_x)
{
    if(x_max&lt;x_min || delta_x&lt;=0) throw domain_error("Nekorektni parametri");
    vector&lt;pair&lt;double,double&gt;&gt; v;
    while(x_min&lt;=x_max) {
        v.push_back({x_min,f(x_min)});
        x_min+=delta_x;
    }
    return LinearnaInterpolacija(v);
}
int main ()
{
    cout&lt;&lt;"Odaberite opciju (1 - unos cvorova, 2 - aproksimacija): ";
    int n;
    cin&gt;&gt;n;
    if(n==1) {
        cout&lt;&lt;"Unesite broj cvorova: ";
        int x;
        cin&gt;&gt;x;
        vector&lt;pair&lt;double,double&gt;&gt; v(x);
        cout&lt;&lt;"Unesite cvorove kao parove x y: ";
        for(int i=0; i&lt;x; i++) {
            cin&gt;&gt;v.at(i).first&gt;&gt;v.at(i).second;
        }
        for(int i=0; i&lt;v.size(); i++) {
            for(int j=i;j&lt;v.size()-1;j++){
                if(fabs(v.at(i).first-v.at(j+1).first)&lt;EPS){
                    cout&lt;&lt;"Neispravni cvorovi";
                    return 0;
                } 
            }
        }
        cout&lt;&lt;"Unesite argument (ili \"kraj\" za kraj): ";
        double arg;
        while(cin&gt;&gt;arg) {
            try {
                cout&lt;&lt;"f("&lt;&lt;arg&lt;&lt;") = "&lt;&lt;LinearnaInterpolacija(v)(arg)&lt;&lt;endl;
                cout&lt;&lt;"Unesite argument (ili \"kraj\" za kraj): ";
            } catch(domain_error izuzetak) {
                cout&lt;&lt;izuzetak.what()&lt;&lt;endl&lt;&lt;"Unesite argument (ili \"kraj\" za kraj): ";
            } catch(range_error izuzetak) {
                cout&lt;&lt;izuzetak.what()&lt;&lt;endl&lt;&lt;"Unesite argument (ili \"kraj\" za kraj): ";
            }
        }
    } else if(n==2) {
        cout&lt;&lt;"Unesite krajeve intervala i korak: ";
        double x_min,x_max,delta_x;
        cin&gt;&gt;x_min&gt;&gt;x_max&gt;&gt;delta_x;
        cout&lt;&lt;"Unesite argument (ili \"kraj\" za kraj): ";
        double arg;
        while(cin&gt;&gt;arg) {
            try {
                auto aproks(LinearnaInterpolacija([](double x) {
                    return x*x + sin(x);
                },x_min,x_max,delta_x)(arg));
                cout&lt;&lt;"f("&lt;&lt;arg&lt;&lt;") = "&lt;&lt;arg*arg + sin(arg)&lt;&lt;" ";
                cout&lt;&lt;"fapprox("&lt;&lt;arg&lt;&lt;") = "&lt;&lt;aproks&lt;&lt;endl;
                cout&lt;&lt;"Unesite argument (ili \"kraj\" za kraj): ";
            } catch(domain_error izuzetak) {
                cout&lt;&lt;izuzetak.what()&lt;&lt;endl&lt;&lt;"Unesite argument (ili \"kraj\" za kraj): ";
            } catch(range_error izuzetak) {
                cout&lt;&lt;izuzetak.what()&lt;&lt;endl&lt;&lt;"Unesite argument (ili \"kraj\" za kraj): ";
</font>            }
        }

    }

    return 0;
}
</pre>
</body>
</html>
