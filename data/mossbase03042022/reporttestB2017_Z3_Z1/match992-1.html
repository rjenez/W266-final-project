<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z1/student9451.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z1/student6594.cpp<p></p><pre>
/B2017/2018: ZadaÄ‡a 3, Zadatak 1
#include &lt;iostream&gt;
#include &lt;stdexcept&gt;
#include &lt;algorithm&gt;
#include &lt;functional&gt;
#include &lt;vector&gt;
#include &lt;cmath&gt;

using namespace std;

typedef pair&lt;double,double&gt; par;
typedef function&lt;double(double)&gt; op;

void asist(vector&lt;par&gt; &amp;v)
{
     sort(v.begin(), v.end(),[](par a, par b){return a.first&lt;b.first;});
}

bool test(vector&lt;par&gt; &amp;v)
{
<a name="0"></a><font color="#FF0000"><a href="match992-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_3.gif"/></a>

     for(int i=0; i&lt;v.size()-1; i++) 
          if(v.at(i).first==v.at(i+1).first) return false;
</font>     return true;
}

bool testin(const vector&lt;par&gt; &amp;v, double &amp;x)
{
     return (x&lt;v.at(0).first || x&gt;v.at(v.size()-1).first);
}

op LinearnaInterpolacija(vector&lt;par&gt; v)
{
     asist(v);
     if(!test(v))
          throw domain_error("Neispravni cvorovi");
     return [v](double x)
     {
          par p(x,0);
          double y=1;
          if(testin(v,x)) throw range_error("Argument izvan opsega");
          if(x!=v.at(v.size()-1).first) 
          {
               auto it1=lower_bound(v.begin(), v.end(), x,[](std::pair&lt;double, double&gt; const &amp; x, double d){ return x.first &lt; d; });
              // 
               if(it1-&gt;first!=x)
                    it1--;//cout&lt;&lt;it1-&gt;first&lt;&lt;endl;
               
               auto it2=upper_bound(v.begin(), v.end(),p,[](pair&lt;double,double&gt; lhs, pair&lt;double,double&gt; rhs)  { return lhs.first &lt; rhs.first; });
               
                    // cout&lt;&lt;it2-&gt;first&lt;&lt;endl;
//cout&lt;&lt;it1-&gt;first&lt;&lt;" "&lt;&lt;it2-&gt;first;
              
               y=it2-&gt;second + (x-it2-&gt;first)*((it1-&gt;second-it2-&gt;second)/(it1-&gt;first-it2-&gt;first));
          }
          else y=v.at(v.size()-1).second; 
          return y;
     };
}

op LinearnaInterpolacija(double f(double), double xmin, double xmax, double dx)
{
     if(xmin&gt;xmax || dx&lt;0) throw domain_error("Nekorektni parametri");
     vector&lt;par&gt; v;
     for(;;){
          if(xmin&gt;xmax) break;
<a name="1"></a><font color="#00FF00"><a href="match992-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_3.gif"/></a>

          v.push_back(make_pair(xmin,f(xmin)));
          xmin+=dx;
          
          
     }
   
     //cout&lt;&lt;endl;
     return LinearnaInterpolacija(v);
}

int main ()
{
     int n;
     try{
               cout&lt;&lt;"Odaberite opciju (1 - unos cvorova, 2 - aproksimacija): ";
               cin&gt;&gt;n;
</font>               if(n==1)
               {
                    cout&lt;&lt;"Unesite broj cvorova: ";
<a name="2"></a><font color="#0000FF"><a href="match992-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_3.gif"/></a>

                    cin&gt;&gt;n;
                    cout&lt;&lt;"Unesite cvorove kao parove x y: ";
                    vector&lt;pair&lt;double,double&gt;&gt; v(n);
                    for(int i=0; i&lt;n; i++){
</font>                         cin&gt;&gt;v.at(i).first; 
                         cin&gt;&gt;v.at(i).second;
                    }
                    auto f=LinearnaInterpolacija(v);
                    for(;;) {
                    cout&lt;&lt;"Unesite argument (ili \"kraj\" za kraj): ";
                    
                    double ai;
                    cin&gt;&gt;ai;
                    if(cin){
<a name="3"></a><font color="#00FFFF"><a href="match992-0.html#3" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_3.gif"/></a>

                        try{
                            cout&lt;&lt;"f("&lt;&lt;ai&lt;&lt;") = "&lt;&lt;f(ai)&lt;&lt;endl; 
                        } catch(range_error r) { cout&lt;&lt;r.what()&lt;&lt;endl; }
</font>                    }
                    else {std::cin.clear(); std::cin.ignore(10000, '\n');break;}
                  }
          
               }
               else if(n==2)
               {
                    cout&lt;&lt;"Unesite krajeve intervala i korak: ";
                    double a,b,c;
                    cin&gt;&gt;a&gt;&gt;b&gt;&gt;c;
                    auto f=LinearnaInterpolacija([](double x){return x*x+sin(x);},a,b,c);
                    for(;;) {
                         cout&lt;&lt;"Unesite argument (ili \"kraj\" za kraj): ";
                         double ai;
                         cin&gt;&gt;ai;
                         if(cin){
                         try{
<a name="4"></a><font color="#FF00FF"><a href="match992-0.html#4" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_3.gif"/></a>

                            cout&lt;&lt;"f("&lt;&lt;ai&lt;&lt;") = "&lt;&lt;ai*ai+sin(ai)&lt;&lt;" fapprox("&lt;&lt;ai&lt;&lt;") = "&lt;&lt;f(ai)&lt;&lt;endl; 
                         }catch(range_error r) { cout&lt;&lt;r.what()&lt;&lt;endl; }
</font>                         }
                         else {std::cin.clear(); std::cin.ignore(10000, '\n');break;}
                    }
               }
     }
     catch(domain_error iz) { cout&lt;&lt;iz.what();}
     catch(...) {}
	return 0;
}
</pre>
</body>
</html>
