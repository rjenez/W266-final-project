<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z1/student8886.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z1/student8886.cpp<p></p><pre>
/B2017/2018: ZadaÄ‡a 3, Zadatak 1
#include &lt;iostream&gt;
#include &lt;functional&gt;
#include &lt;vector&gt;
#include &lt;algorithm&gt;
#include &lt;stdexcept&gt;
#include &lt;cmath&gt;
#define epsilon 0.001
std::function&lt;double(double)&gt; LinearnaInterpolacija(std::vector&lt;std::pair&lt;double, double&gt;&gt; parovi){
    
    std::sort(parovi.begin(), parovi.end(), [](std::pair&lt;double,double&gt; x, std::pair&lt;double,double&gt; y){return x.first&lt;y.first;});
    return [parovi](double x){
<a name="1"></a><font color="#00FF00"><a href="match862-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_4.gif"/></a>

        for(int i=0; i&lt;parovi.size(); i++){
            for(int j=i+1; j&lt;parovi.size(); j++){
                if(fabs(parovi[j].first-parovi[i].first)&lt;epsilon) throw std::domain_error("Neispravni cvorovi");
</font>            } 
        }
        if(x&lt;parovi[0].first || x&gt;parovi[parovi.size()-1].first) throw std::range_error("Argument izvan opsega");
        for(int it=0; it&lt;parovi.size()-1; it++){
<a name="3"></a><font color="#00FFFF"><a href="match862-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_2.gif"/></a>

            if(fabs(x-parovi[parovi.size()-1].first)&lt;epsilon) return parovi[parovi.size()-1].second;
            if(x&gt;=parovi[it].first &amp;&amp; x&lt;parovi[it+1].first){
</font><a name="2"></a><font color="#0000FF"><a href="match862-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_3.gif"/></a>

                return (parovi[it].second+((parovi[it+1].second-parovi[it].second)/(parovi[it+1].first-parovi[it].first))*(x-parovi[it].first));
</font>            }
        }
        return 0.0;
    };
    
}
std::function&lt;double(double)&gt; LinearnaInterpolacija(double fun(double), double min, double max, double delta_x){
    if(delta_x &lt;= 0 || min&gt; max) throw std::domain_error("Nekorektni parametri");
    int k(0);
    std::vector&lt;std::pair&lt;double,double&gt;&gt; parovi;
    for(double i(min); i&lt;=max; i+=k*delta_x){
        parovi.push_back(std::make_pair(i,fun(i)));
        k++;
    }
    return[fun,parovi,delta_x](double x){
        if(x&lt;parovi[0].first || x&gt;parovi[parovi.size()-1].first) throw std::range_error("Argument izvan opsega");
        if(fabs(x-parovi[parovi.size()-1].first)&lt;epsilon) return parovi[parovi.size()-1].second;
        
        for(int i=1; i&lt;parovi.size(); i++){
            auto it=std::lower_bound(parovi.begin(),parovi.end(),x,[](const std::pair&lt;double,double&gt; &amp;y, const double &amp;z){return y.first&lt;z;});
            return fun(it-&gt;first)+((fun(it-&gt;first-delta_x)-fun(it-&gt;first))/(it-&gt;first-delta_x-it-&gt;first))*(x-it-&gt;first);
        }
        return 0.0;
    };
}
int main ()
{
        int unos(0);
        std::vector&lt;std::pair&lt;double,double&gt;&gt; parovi;
        std::cout&lt;&lt;"Odaberite opciju (1 - unos cvorova, 2 - aproksimacija): ";
        std::cin&gt;&gt;unos;
        if(unos==1){
            try{
            int broj;
            std::cout&lt;&lt;"Unesite broj cvorova: ";
            std::cin&gt;&gt;broj;
            parovi.resize(broj);
            std::cout&lt;&lt;"Unesite cvorove kao parove x y: ";
            for(int i=0; i&lt;broj; i++) std::cin&gt;&gt;parovi[i].first&gt;&gt;parovi[i].second;
            std::function&lt;double(double)&gt; fun(LinearnaInterpolacija(parovi));
            fun(parovi[0].first);
            for(;;){
                double unos1;
<a name="0"></a><font color="#FF0000"><a href="match862-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_4.gif"/></a>

                std::cout&lt;&lt;"Unesite argument (ili \"kraj\" za kraj): ";
                std::cin&gt;&gt;unos1;
                if(!std::cin) break;
                
                std::cout&lt;&lt;"f("&lt;&lt;unos1&lt;&lt;") = "&lt;&lt;fun(unos1)&lt;&lt;std::endl;
            }
            }catch(std::range_error Izuzetak){
</font>                  std::cout&lt;&lt;Izuzetak.what()&lt;&lt;std::endl;
            }catch(std::domain_error Izuzetak1){
                   std::cout&lt;&lt;Izuzetak1.what()&lt;&lt;std::endl;
            }
        }
        else if(unos==2){
                double min,max,korak;
                std::cout&lt;&lt;"Unesite krajeve intervala i korak: ";
                std::cin&gt;&gt;min&gt;&gt;max&gt;&gt;korak;
                std::cin.ignore(1000,'\n');
                for(;;){
                    double unos1;
                    std::cout&lt;&lt;"Unesite argument (ili \"kraj\" za kraj): ";
                    std::cin&gt;&gt;unos1;
                    if(!std::cin) break;
                    try{
                    auto fun(LinearnaInterpolacija([](double x){return x*x+sin(x);},min,max,korak));
                    std::cout&lt;&lt;"f("&lt;&lt;unos1&lt;&lt;") = "&lt;&lt;unos1*unos1+sin(unos1)&lt;&lt;" fapprox("&lt;&lt;unos1&lt;&lt;") = "&lt;&lt;fun(unos1)&lt;&lt;std::endl;
                    }catch(std::range_error Izuzetak){
                     std::cout&lt;&lt;Izuzetak.what()&lt;&lt;std::endl;
                    }catch(std::domain_error Izuzetak1){
                    std::cout&lt;&lt;Izuzetak1.what()&lt;&lt;std::endl;
                    }
                }
        }
    
	return 0;
}
</pre>
</body>
</html>
