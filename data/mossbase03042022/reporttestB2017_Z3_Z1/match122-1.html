<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z1/student2567.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z1/student5943.cpp<p></p><pre>

#include&lt;iostream&gt;
#include &lt;functional&gt;
#include &lt;vector&gt;
#include &lt;algorithm&gt;

<a name="0"></a><font color="#FF0000"><a href="match122-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_99.gif"/></a>

using namespace std;


 double funkcija (double x) {
        return x*x;
    }


int Pronadi(double x, std::vector&lt;std::pair&lt;double, double&gt;&gt; p) {

    int poc(0),kraj(p.size());
    int sred;
    while(poc&lt;=kraj){
    sred=((poc+kraj)/2);
        if(sred==5){
        if(p[sred-1].first &lt; x){
            return sred;
        }
        else if(p[sred-1].first &gt; x) kraj=sred-1;
        
        else poc=sred+1;    
        }else if(sred==0){
            if( p[sred].first&gt;=x){
                return sred;
            }
            else if( p[sred].first&gt;x) kraj=sred-1;
        
            else poc=sred+1;
        
        }else{
            
        if(p[sred-1].first &lt; x &amp;&amp; p[sred].first&gt;=x){
            return sred;
        }
        else if(p[sred-1].first &gt; x &amp;&amp; p[sred].first&gt;x) kraj=sred-1;
        
        else poc=sred+1;
    }}
    return -1 ;    
}



std::function&lt;double(double)&gt; LinearnaInterpolacija(std::vector&lt;std::pair&lt;double, double&gt;&gt; p){
	auto v(p);
        sort(v.begin(),v.end(),[](const pair&lt;double,double&gt; &amp;x,const pair&lt;double,double&gt; &amp;y){
            
            return x.first&lt;y.first;
        });
    
        for(int i(1);i&lt;v.size();i++){
            if(v[i].first==v[i-1].first) throw domain_error("Neispravni cvorovi");
        }
        


	

      return [v](double vr){
	int i(Pronadi(vr,v));
	if(i==-1) throw std::range_error("Argument izvan opsega");
        if(i==v.size()) i--;
        if(i==0)i++;
  	 if(vr==v[v.size()-1].first) return v[v.size()-1].second;  
        return v[i].second + (v[i+1].second-v[i].second)/(v[i+1].first-v[i].first)*(vr-v[i].first);
       
    };
}

std::function&lt;double(double)&gt; LinearnaInterpolacija(std::function&lt;double(double)&gt; f, double xmin,double xmax, double korak){
	std::vector&lt;std::pair&lt;double, double&gt;&gt; parovi;
	if( korak&lt;= 0 || xmin &gt; xmax) throw domain_error ("Nekorektni parametri");
	double vrijednost=xmin;
	int i=0;
	while(true){
		double y(f(vrijednost));
		parovi.push_back(std::make_pair(vrijednost,y));
		i++;
		vrijednost+=korak;
		if(vrijednost&gt;xmax)break;
	}
     return [parovi](double vr){
	int i(Pronadi(vr,parovi));
	if(i==-1) throw std::range_error("Argument izvan opsega");
        if(i==parovi.size()) i--;
        if(i==0)i++;
  	if (vr==parovi[parovi.size()-1].first)  return parovi[parovi.size()-1].second ; 
        return parovi[i].second + (parovi[i+1].second-parovi[i].second)/(parovi[i+1].first-parovi[i].first)*(vr-parovi[i].first);
       
    };

}



int main (){
    
    
   
    
    double opcija, broj_cv, argument,korak,a,b;
   vector&lt;pair &lt;double,double&gt;&gt; p;
    
  cout&lt;&lt;  "Odaberite opciju (1 - unos cvorova, 2 - aproksimacija):";
  
  
  while  (cin&gt;&gt;opcija ){
   
  if (opcija==1){
  
    cout&lt;&lt;" Unesite broj cvorova:";
  cin&gt;&gt;broj_cv;
    cout&lt;&lt;" Unesite cvorove kao parove x y:";
    double prvi, drugi;
    for(int i=0; i&lt;broj_cv; i++){
        
        cin&gt;&gt; prvi;
        cin&gt;&gt; drugi;
        
p.push_back(make_pair(prvi , drugi));
        
    }
              cout&lt;&lt;" Unesite argument (ili ""kraj"" za kraj):";

   while( cin&gt;&gt; argument){
          

     auto f(LinearnaInterpolacija( p));
       double rezultat =f(argument);
       cout&lt;&lt;"f("&lt;&lt;argument&lt;&lt;") = "&lt;&lt;rezultat;
       cout&lt;&lt; endl;
                 cout&lt;&lt;"Unesite argument (ili ""kraj"" za kraj): ";

       }
    
  }
  
  if(opcija == 2) {
      cout&lt;&lt;" Unesite krajeve intervala i korak:";
      cin&gt;&gt; a;
      cin&gt;&gt;b;
      cin&gt;&gt; korak;
                cout&lt;&lt;" Unesite argument (ili \"kraj"\ za kraj):";
</font>
      while(cin&gt;&gt;argument){

      cin&gt;&gt; argument;
      
      auto f(LinearnaInterpolacija (funkcija ,a,b,korak));
     double rezultat = f(argument);
     cout&lt;&lt;"f("&lt;&lt;argument&lt;&lt;") = "&lt;&lt;rezultat;
     cout&lt;&lt;endl;
               cout&lt;&lt;"Unesite argument (ili ""kraj"" za kraj): ";

      }
  }
   
  }
    

    
    return 0;
} 
</pre>
</body>
</html>
