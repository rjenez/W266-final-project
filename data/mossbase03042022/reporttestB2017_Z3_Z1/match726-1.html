<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z1/student6960.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z1/student8224.cpp<p></p><pre>
#include &lt;iostream&gt;
#include &lt;vector&gt;
#include &lt;functional&gt;
#include &lt;stdexcept&gt;
#include &lt;cmath&gt;
#include &lt;algorithm&gt;

#define Eps 0.00001

bool kriterij(std::pair&lt;double, double&gt; a, std::pair&lt;double, double&gt; b)
{
    return a.first&lt;b.first;
}

bool kriterij2(std::pair&lt;double, double&gt; a, std::pair&lt;double, double&gt; b)
{
    return a.first&gt;b.first;
}

std::function&lt;double(double)&gt; LinearnaInterpolacija(std::vector&lt;std::pair&lt;double,double&gt;&gt; v)
{
    for(int i=0;i&lt;v.size();i++)
        for(int j=i+1;j&lt;v.size();j++)
<a name="1"></a><font color="#00FF00"><a href="match726-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_4.gif"/></a>

            if(std::fabs(v[i].first-v[j].first)&lt;Eps)
                throw std::domain_error("Neispravni cvorovi");
    
    std::sort(v.begin(),v.end(),[](std::pair&lt;double,double&gt;a,std::pair&lt;double,double&gt;b){
</font>        return a.first&lt;b.first;
    });
    
    return [v](double br){
        
        if(br&lt;v[0].first || br&gt;v[v.size()-1].first)
            throw std::range_error("Argument izvan opsega");
            
        if(std::fabs(br-v[v.size()-1].first)&lt;Eps)
            return v[v.size()-1].second;
            
            
        std::pair&lt;double,double&gt; par(br,0);
        
        auto kraj(std::lower_bound(v.begin(),v.end(),par,kriterij));
        auto poc(kraj-1);
        
        if(std::fabs(kraj-&gt;first-v[0].first)&lt;Eps)
        {
            poc=kraj;
            kraj++;
        }
        
        double x(poc-&gt;first),y(poc-&gt;second),x1(kraj-&gt;first),y1(kraj-&gt;second);
        
        return y+((y1-y)/(x1-x))*(br-x);
    };
}

<a name="2"></a><font color="#0000FF"><a href="match726-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_4.gif"/></a>

template &lt;typename funk&gt;

std::function&lt;double(double)&gt; LinearnaInterpolacija(funk f, double xmin, double xmax, double deltax)
{
    if(xmin&gt;xmax || deltax&lt;=0)
        throw std::domain_error("Nekorektni parametri");
</font>    std::vector&lt;std::pair&lt;double,double&gt;&gt; v;
    for(;xmin&lt;=xmax;xmin+=deltax)
        v.push_back(std::make_pair(xmin,f(xmin)));
    return LinearnaInterpolacija(v);
}

int main ()
{
    try
    {
        std::cout&lt;&lt;"Odaberite opciju (1 - unos cvorova, 2 - aproksimacija): ";
        int izbor(0);
        std::cin&gt;&gt;izbor;
        if(izbor==1)
        {
            std::cout&lt;&lt;"Unesite broj cvorova: ";
            int n; std::cin&gt;&gt;n;
            std::vector&lt;std::pair&lt;double,double&gt;&gt;v(n);
            
            std::cout&lt;&lt;"Unesite cvorove kao parove x y: ";
<a name="3"></a><font color="#00FFFF"><a href="match726-0.html#3" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_3.gif"/></a>

            for(int i=0;i&lt;n;i++)
                std::cin&gt;&gt;v[i].first&gt;&gt;v[i].second;
                
            auto f(LinearnaInterpolacija(v));
</font>            for(;;)
            {
                try
                {
                    std::cout&lt;&lt;"Unesite argument (ili \"kraj\" za kraj): ";
                    double x; std::cin&gt;&gt;x;
                    if(!std::cin) return 0;
                    auto funk(f(x));
<a name="0"></a><font color="#FF0000"><a href="match726-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_6.gif"/></a>

                    std::cout&lt;&lt;"f("&lt;&lt;x&lt;&lt;") = "&lt;&lt;funk&lt;&lt;std::endl;
                }
                catch(std::range_error e)
                {
                    std::cout&lt;&lt;e.what()&lt;&lt;std::endl;
                }
            }
        }
        else if(izbor==2)
        {
            std::cout&lt;&lt;"Unesite krajeve intervala i korak: ";
            double xmin,xmax,deltax; std::cin&gt;&gt;xmin&gt;&gt;xmax&gt;&gt;deltax;
</font>            auto f([](double x){ return x*x+std::sin(x);});
            auto fapprox(LinearnaInterpolacija(f,xmin,xmax,deltax));
            for(;;)
            {
                try
                {
                    std::cout&lt;&lt;"Unesite argument (ili \"kraj\" za kraj): ";
                    double x; std::cin&gt;&gt;x;
                    if (!std::cin) return 0;
                    auto funk(f(x));
                    auto funk2(fapprox(x));
                    std::cout&lt;&lt;"f("&lt;&lt;x&lt;&lt;") = "&lt;&lt;funk;
                    std::cout&lt;&lt;" fapprox("&lt;&lt;x&lt;&lt;") = "&lt;&lt;funk2&lt;&lt;std::endl;
                }
                catch(std::range_error e)
                {
                    std::cout&lt;&lt;e.what()&lt;&lt;std::endl;
                }
            }
        }
    }
    catch(std::domain_error e)
    {
        std::cout&lt;&lt;e.what();
    }
    
	return 0;
}
</pre>
</body>
</html>
