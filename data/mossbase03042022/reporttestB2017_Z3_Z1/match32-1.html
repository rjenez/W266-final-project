<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z1/student1938.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z1/student4296.cpp<p></p><pre>
#include &lt;iostream&gt;
#include &lt;vector&gt;
#include &lt;iomanip&gt;
#include &lt;stdexcept&gt;
#include &lt;cmath&gt;
#include &lt;utility&gt;
#include &lt;algorithm&gt;
#include &lt;functional&gt;
#include &lt;iterator&gt;
#include &lt;map&gt;
#include &lt;limits&gt;
#define epsilon 0.0000000001
<a name="0"></a><font color="#FF0000"><a href="match32-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_99.gif"/></a>

using std::cout;
using std::cin;
using std::endl;
using std::vector;
double xsinx (double x)
{
    return x * x + std::sin(x);
}
int max(int a,int b)
{
    if(a&gt;=b)
        return a;
    else return b;
}
int min(int a,int b)
{
    if(a&lt;=b)
        return a;
    else return b;
}
std::function&lt;double(double)&gt; LinearnaInterpolacija(std::vector&lt;std::pair&lt;double,double&gt;&gt; V)
{
    bool ima=false;
    for(int i=0; i&lt;V.size(); i++)
        for(int j=i+1; j&lt;V.size(); j++)
            if(fabs(V[i].first-V[j].first)&lt;epsilon)
                ima=true;
    if(ima) throw std::domain_error ("Neispravni cvorovi");
    int n=V.size();
    return [V,n](double x) {
        std::pair&lt;double,double&gt; trazen;
        trazen={x,0};
        auto low=std::lower_bound(V.begin(),V.end(),trazen,[](std::pair&lt;double,double&gt; ba, std::pair&lt;double,double&gt; ca){return ba.first&lt;=ca.first;});
                low--;

        if(low==V.end()) {
            throw std::range_error ("Argument izvan opsega");
        }
        
        int indeks=low-V.begin();
        if(low-&gt;second==V[indeks].first) return V[indeks].second;
        double y;
        y=V[indeks].second+(x-V[indeks].first)*((V[indeks+1].second-V[indeks].second)/(V[indeks+1].first-V[indeks].first));

        return y;
    };
}
std::function&lt;double(double)&gt;  LinearnaInterpolacija(std::function&lt;double(double)&gt; f, double xMin,double xMax, double xD)
{
    std::vector&lt;std::pair&lt;double,double&gt;&gt; V;
    if(xMin&gt;xMax || xD&lt;0) throw std::domain_error ("Nekorektni parametri");
    int i {};
    double m;
    m=(xMax-xMin)/xD;
    while(i&lt;m) {
        V.resize(i+1);
        V[i].first=xMin+xD*i;
        V[i].second=f(V[i].first);
        if(i&gt; std::numeric_limits&lt;int&gt;::max() || i&lt;0)
            break;
        i++;

    }
    return        LinearnaInterpolacija(V);
}

/*
std::function&lt;double(double)&gt;  BaricentricnaInterpolacija(std::function&lt;double(double)&gt; f, double xMin,double xMax, double xD, int d)
{
    std::vector&lt;std::pair&lt;double,double&gt;&gt; V;
    if(xMin&gt;xMax || xD&lt;0) throw std::domain_error ("Nekorektni parametri");
    int i {};
    double m;
    m=(xMax-xMin)/xD;
    if(d&gt;3)
        while(i&lt;m) {
            V.resize(i+1);
            V[i].first=xMin+xD*i;
            V[i].second=f(V[i].first);
            if(i&gt; std::numeric_limits&lt;int&gt;::max() || i&lt;0)
                break;
            i++;

        }
    else  while(i&lt;=m) {
            V.resize(i+1);
            V[i].first=xMin+xD*i;
            V[i].second=f(V[i].first);
            if(V[i].first&gt; std::numeric_limits&lt;double&gt;::max() || V[i].first&lt;0)
                break;
            i++;
        }
    // 2147483647
    return BaricentricnaInterpolacija(V,d);
}*/
int main(){
 auto li(LinearnaInterpolacija([](double x){return x*x;},-1.5,5,0.5));

std::cout &lt;&lt; li(-0.5) &lt;&lt; std::endl;
std::cout &lt;&lt; li(0.6) &lt;&lt; std::endl;
std::cout &lt;&lt; li(1.5) &lt;&lt; std::endl;
std::cout &lt;&lt; li(0.1) &lt;&lt; std::endl;
std::cout &lt;&lt; li(2)&lt;&lt;std::endl;
std::cout &lt;&lt; li(5);

}
int _main ()
{
    int o;
    cout&lt;&lt;"Odaberite opciju (1 - unos cvorova, 2 - aproksimacija): ";
    cin&gt;&gt;o;
    int d;
    std::vector&lt;std::pair&lt;double,double&gt;&gt; V;
    try {
        if(o==1) {
            int n;
            cout&lt;&lt;"Unesite broj cvorova: ";
            cin&gt;&gt;n;
            V.resize(n);
            for(int i=0; i&lt;n; i++) {
                cin&gt;&gt;V[i].first&gt;&gt;V[i].second;
            }
            auto f(LinearnaInterpolacija(V));

            for(;;) {
                std::string b,kraj="kraj";
                char c='"';
                cout&lt;&lt;"Unesite argument (ili "&lt;&lt;c&lt;&lt;kraj&lt;&lt;c&lt;&lt;" za kraj): ";
                cin&gt;&gt;b;
                if(b=="kraj")
                    break;
                double a;
                a=std::stod(b);
                try {
                    auto f(LinearnaInterpolacija(V));
                    cout&lt;&lt;"f("&lt;&lt;a&lt;&lt;") = "&lt;&lt;f(a)&lt;&lt;endl;
                } catch(std::domain_error e) {
                    cout&lt;&lt;e.what()&lt;&lt;endl;
                }
            }
        }
    }

    catch(std::domain_error e) {
        cout&lt;&lt;e.what()&lt;&lt;endl;

    }
    try{
    double xMin,xMax,xD;
    if(o==2) {
        cout&lt;&lt;"Unesite krajeve intervala i korak: ";
        cin&gt;&gt;xMin&gt;&gt;xMax&gt;&gt;xD;
                    auto g(LinearnaInterpolacija(xsinx,xMin,xMax,xD));


        for(;;) {
            std::string b,kraj="kraj";
            char c='"';
            cout&lt;&lt;"Unesite argument (ili "&lt;&lt;c&lt;&lt;kraj&lt;&lt;c&lt;&lt;" za kraj): ";
            cin&gt;&gt;b;
            if(b=="kraj")
                break;
            double a;
            try {
                a=std::stod(b);
            } catch(...) {
                return 1;
            }
        
        try {
            auto g(LinearnaInterpolacija(xsinx,xMin,xMax,xD));
            cout&lt;&lt;"f("&lt;&lt;a&lt;&lt;") = "&lt;&lt;xsinx(a)&lt;&lt;" fapprox("&lt;&lt;a&lt;&lt;") = "&lt;&lt;g(a)&lt;&lt;endl;
        } catch(std::domain_error e) {
            cout&lt;&lt;e.what()&lt;&lt;endl;
        } catch(std::range_error e) {
            cout&lt;&lt;e.what()&lt;&lt;endl;
        }
        }
    }
    }catch(std::domain_error e){
                    cout&lt;&lt;e.what()&lt;&lt;endl;
</font>    }


return 0;
}</pre>
</body>
</html>
