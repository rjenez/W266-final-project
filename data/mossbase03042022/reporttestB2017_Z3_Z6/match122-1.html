<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z6/student7546.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z6/student7791.cpp<p></p><pre>
<a name="0"></a><font color="#FF0000"><a href="match122-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_99.gif"/></a>

/B2017/2018: ZadaÄ‡a 3, Zadatak 6
#include &lt;iostream&gt;
#include &lt;iomanip&gt;
#include &lt;string&gt;
#include &lt;vector&gt;
#include &lt;algorithm&gt;
#include &lt;memory&gt;

const int BrojPredmeta(8);

struct Datum {
    int dan, mjesec, godina;
};

struct Ucenik {
    std::string ime, prezime;
    Datum datum_rodjenja;
    int ocjene[BrojPredmeta];
    double prosjek;
    bool prolaz;
};

int main ()
{
    void UnesiUcenike(std::vector&lt;std::shared_ptr&lt;Ucenik&gt;&gt; &amp;p_ucenici);
    void ObradiUcenike(std::vector&lt;std::shared_ptr&lt;Ucenik&gt;&gt; &amp;p_ucenici);
    void IspisiIzvjestaj(const std::vector&lt;std::shared_ptr&lt;Ucenik&gt;&gt; &amp;p_ucenici);
    void OslobodiMemoriju(std::vector&lt;std::shared_ptr&lt;Ucenik&gt;&gt; &amp;p_ucenici);
    int broj_ucenika;
    std::cout &lt;&lt; "Koliko ima ucenika: ";
    std::cin &gt;&gt; broj_ucenika;
    try {
        std::vector&lt;std::shared_ptr&lt;Ucenik&gt;&gt; p_ucenici(broj_ucenika); 
        UnesiUcenike(p_ucenici);
        ObradiUcenike(p_ucenici);
        IspisiIzvjestaj(p_ucenici);
    } catch(...) {
        std::cout &lt;&lt; "Problemi sa memorijom..." &lt;&lt; std::endl;
    }
    return 0;
}

void UnesiUcenike(std::vector&lt;std::shared_ptr&lt;Ucenik&gt;&gt; &amp;p_ucenici)
{
    void UnesiJednogUcenika(Ucenik *p_ucenik);
    for(int i=0; i&lt;p_ucenici.size(); i++) {
        std::cout &lt;&lt; "Unesite podatke za " &lt;&lt; i+1 &lt;&lt; ". ucenika:" &lt;&lt; std::endl;
        p_ucenici[i] = std::make_shared&lt;Ucenik&gt;();
        UnesiJednogUcenika(p_ucenici[i]);
    }
}

void UnesiJednogUcenika(std::shared_ptr&lt;Ucenik&gt; p_ucenik)
{
    void UnesiDatum(Datum &amp;datum);
    void UnesiOcjene (int ocjene[], int broj_predmeta);
    std::cout &lt;&lt; "  Ime: ";
    std::cin &gt;&gt; p_ucenik-&gt;ime;
    //std::cin &gt;&gt; (*p_ucenik).ime;
    std::cout &lt;&lt; "  Prezime: ";
    std::cin &gt;&gt; p_ucenik-&gt;prezime;
    //std::cin &gt;&gt; (*p_ucenik).prezime;
    std::cout &lt;&lt; "  Datum rodjenja (D/M/G): ";
    UnesiDatum(p_ucenik-&gt;datum_rodjenja);
    UnesiOcjene(p_ucenik-&gt;ocjene, BrojPredmeta);
}

void UnesiDatum(Datum &amp;datum)
{
    char znak;
    std::cin &gt;&gt; datum.dan &gt;&gt; znak &gt;&gt; datum.mjesec &gt;&gt; znak &gt;&gt; datum.godina;
}

void UnesiOcjene(int ocjene[], int broj_predmeta)
{
    for(int i=0; i&lt;broj_predmeta; i++) {
        std::cout &lt;&lt; "Ocjena iz " &lt;&lt; i+1 &lt;&lt; ". predmeta: ";
        std::cin &gt;&gt; ocjene[i];
    }
}

void ObradiUcenike(std::vector&lt;std::shared_ptr&lt;Ucenik&gt;&gt; &amp;p_ucenici)
{
    void ObradiJednogUcenika(Ucenik *p_ucenici);
    for(Ucenik p_ucenik : p_ucenici) ObradiJednogUcenika(p_ucenik);
    std::sort(p_ucenici.begin(), p_ucenici.end(), [](const Ucenik *p_u1, const Ucenik *p_u2) {
        return p_u1-&gt;prosjek &gt; p_u2-&gt;prosjek;
    });
}

void ObradiJednogUcenika(Ucenik *p_ucenik)
{
    double suma_ocjena(0);
    p_ucenik-&gt;prosjek = 1;
    p_ucenik-&gt;prolaz = false;
    for(int ocjena : p_ucenik-&gt;ocjene) {
        if(ocjena == 1) return;
        suma_ocjena += ocjena;
    }
    p_ucenik-&gt;prolaz = true;
    p_ucenik-&gt;prosjek = suma_ocjena/BrojPredmeta;
}

void IspisiIzvjestaj(const std::vector&lt;std::shared_ptr&lt;Ucenik&gt;&gt; &amp;p_ucenici)
{
    void IspisiJednogUcenika(const Ucenik *p_ucenik);
    std::cout &lt;&lt; std::endl;
    for(const Ucenik *p_ucenik : p_ucenici) IspisiJednogUcenika(p_ucenik);
}

void IspisiJednogUcenika(const Ucenik *p_ucenik)
{
    void IspisiDatum(const Datum &amp;datum);
    std::cout &lt;&lt; "Ucenik " &lt;&lt; p_ucenik-&gt;ime &lt;&lt; " " &lt;&lt; p_ucenik-&gt;prezime &lt;&lt; "rodjen ";
    IspisiDatum(p_ucenik-&gt;datum_rodjenja);
    if(p_ucenik-&gt;prolaz) std::cout &lt;&lt; " ima prosjek " &lt;&lt; std::setprecision(3) &lt;&lt; p_ucenik-&gt;prosjek &lt;&lt; std::endl;
    else std::cout &lt;&lt; " mora ponavljati razred" &lt;&lt; std::endl;

}

void IspisiDatum(const Datum &amp;datum)
{
    std::cout &lt;&lt; datum.dan &lt;&lt; "/" &lt;&lt; datum.mjesec &lt;&lt; "/" &lt;&lt; datum.godina;
</font>}


</pre>
</body>
</html>
