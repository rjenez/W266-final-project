<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z5/Z1/student6913.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z5/Z1/student6913.cpp<p></p><pre>
#include &lt;utility&gt;
#include &lt;stdexcept&gt;
#include &lt;map&gt;
#include &lt;iostream&gt;
#include &lt;string&gt;

<a name="0"></a><font color="#FF0000"><a href="match75-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_73.gif"/></a>

struct Korisnik{
    std::string ime;
    std::string prezime;
    std::string adresa;
    std::string telefon;
    friend class Knjiga;
    friend class Biblioteka;
};

class Knjiga {
    std::string naslov;
    std::string pisac;
    int godina;
    std::string zanr;
    Korisnik* p;
    public:
    Knjiga (std::string n,std::string pi,std::string z,int g){
        naslov=n; pisac=pi; zanr=z; godina=g; p=nullptr;
    }
    std::string DajNaslov() const { return naslov; }
    std::string DajZanr () const { return zanr; }
    std::string DajAutora() const { return pisac; }
    int DajGodinuIzdavanja() const { return godina; }
    Korisnik* DajKodKogaJe() const { return p; }
    void ZaduziKnjigu(Korisnik &amp;k){ this-&gt;p=&amp;k; }
    void RazduziKnjigu(){ this-&gt;p=nullptr; }
    bool DaLiJeZaduzena() const {
        if(this-&gt;p==nullptr)
        return false;
        return true;
    }
    friend class Biblioteka;
};

class Biblioteka{
    std::map&lt;int,Korisnik*&gt; Korisnici;
    std::map&lt;int, Knjiga*&gt; Citabi;
    public:
    Biblioteka()=default;
    ~Biblioteka(){
        for(auto it=Korisnici.begin();it!=Korisnici.end();it++){
        auto p=it-&gt;second;
        delete p;
        }
        for(auto it=Citabi.begin();it!=Citabi.end();it++){
        auto p=it-&gt;second;
        delete p;
        }
    }
    Biblioteka(const Biblioteka &amp;b){
        for(auto it=b.Citabi.begin();it!=b.Citabi.end();it++){
            auto p=it-&gt;second;
            auto id=it-&gt;first;
            Knjiga* k=new Knjiga (p-&gt;naslov,p-&gt;pisac,p-&gt;zanr,p-&gt;godina);
            Citabi.insert(std::make_pair(id,k));
        }
        
          for(auto it=b.Korisnici.begin();it!=b.Korisnici.end();it++){
            auto p=it-&gt;second;
            auto id=it-&gt;first;
            Korisnik a;
            a.ime=p-&gt;ime;
            a.prezime=p-&gt;prezime;
            a.adresa=p-&gt;adresa;
            a.telefon=p-&gt;telefon;
            Korisnik*j=new Korisnik(a);
            Korisnici.insert(std::make_pair(id,j));
        }
    }
    Biblioteka &amp;operator=(Biblioteka b){
        std::swap(Korisnici, b.Korisnici);
        std::swap(Citabi, b.Citabi);
        return *this;
    }
    
    void RegistrirajNovogKorisnika(int broj,std::string im,std::string prez,std::string adr,std::string brtel){
        auto it=Korisnici.find(broj);
        if(it!=Korisnici.end()) throw std::logic_error("Korisnik vec postoji");
        auto k=new Korisnik;
        k-&gt;ime=im;
        k-&gt;prezime=prez;
        k-&gt;adresa=adr;
        k-&gt;telefon=brtel;
        Korisnici.insert(std::make_pair(broj,k));
    }
    void RegistrirajNovuKnjigu(int broj,std::string nas,std::string pis,std::string zanr,int god){
        auto it=Citabi.find(broj);
        if(it!=Citabi.end()) throw std::logic_error("Knjiga vec postoji");
        auto c=new Knjiga(nas,pis,zanr,god);
        Citabi.insert(std::make_pair(broj,c));
    }
  
    
    Korisnik &amp;NadjiKorisnika(int broj) const{
        auto it=Korisnici.find(broj);
        if(it==Korisnici.end()) throw std::logic_error("Korisnik nije nadjen");
        auto p=it-&gt;second;
        return *p;
    }
    Knjiga &amp;NadjiKnjigu(int broj) const {
        auto it=Citabi.find(broj);
        if(it==Citabi.end()) throw std::logic_error("Knjiga nije nadjena");
        auto p=it-&gt;second;
        return *p;
    }
    void IzlistajKorisnike(){
        for(auto it=Korisnici.begin();it!=Korisnici.end();it++){
        auto p=it-&gt;second;
        std::cout &lt;&lt; "Clanski broj: " &lt;&lt; it-&gt;first&lt;&lt;std::endl;
        std::cout &lt;&lt; "Ime i prezime: "&lt;&lt;p-&gt;ime&lt;&lt;" "&lt;&lt;p-&gt;prezime &lt;&lt; std::endl;
            std::cout &lt;&lt; "Adresa: "&lt;&lt;p-&gt;adresa &lt;&lt; std::endl;
         std::cout &lt;&lt; "Broj telefona: " &lt;&lt; p-&gt;telefon&lt;&lt; std::endl;
         std::cout&lt;&lt;std::endl;
        }
    }
    
     void PrikaziZaduzenja(int broj){
         auto it1=Korisnici.find(broj);
         bool knj(false);
  for(auto it=Citabi.begin();it!=Citabi.end();it++){
      auto pok=it-&gt;second;
      if (it1-&gt;second==pok-&gt;p) {
          knj=true;
           std::cout &lt;&lt; "Evidencijski broj: "&lt;&lt;it-&gt;first&lt;&lt; std::endl;
            std::cout &lt;&lt; "Naslov: "&lt;&lt;pok-&gt;naslov &lt;&lt; std::endl;
            std::cout &lt;&lt; "Pisac: "&lt;&lt;pok-&gt;pisac &lt;&lt; std::endl;
            std::cout &lt;&lt; "Zanr: "&lt;&lt;pok-&gt;zanr &lt;&lt; std::endl;
            std::cout &lt;&lt; "Godina izdavanja: "&lt;&lt;pok-&gt;godina&lt;&lt;std::endl;
      }
  }
       if(knj==false){
        std::cout &lt;&lt; "Nema zaduzenja za tog korisnika!"&lt;&lt;std::endl;
        }
  }
  
    void IzlistajKnjige(){
        for(auto it=Citabi.begin();it!=Citabi.end();it++){
            auto pok=it-&gt;second;
            std::cout &lt;&lt; "Evidencijski broj: "&lt;&lt;it-&gt;first&lt;&lt; std::endl;
            std::cout &lt;&lt; "Naslov: "&lt;&lt;pok-&gt;naslov &lt;&lt; std::endl;
            std::cout &lt;&lt; "Pisac: "&lt;&lt;pok-&gt;pisac &lt;&lt; std::endl;
            std::cout &lt;&lt; "Zanr: "&lt;&lt;pok-&gt;zanr &lt;&lt; std::endl;
            std::cout &lt;&lt; "Godina izdavanja: "&lt;&lt;pok-&gt;godina&lt;&lt;std::endl;
        if(pok-&gt;p!=nullptr){
        std::cout &lt;&lt; "Zaduzena kod korisnika: "&lt;&lt;pok-&gt;p-&gt;ime&lt;&lt;" "&lt;&lt;pok-&gt;p-&gt;prezime&lt;&lt;std::endl;
        }
        std::cout  &lt;&lt; std::endl;
        }
    }
    
    void ZaduziKnjigu(int knjiga,int citac){
        auto it1=Citabi.find(knjiga);
        if(it1==Citabi.end())
        throw std::logic_error("Knjiga nije nadjena");
        auto it2=Korisnici.find(citac);
        if(it2==Korisnici.end())
        throw std::logic_error("Korisnik nije nadjen");
        auto pok=it1-&gt;second;
        if(pok-&gt;p!=nullptr)
        throw std::logic_error("Knjiga je vec zaduzena");
        else pok-&gt;p=it2-&gt;second;
    }
    void RazduziKnjigu(int knjiga){
        auto it=Citabi.find (knjiga);
        if(it==Citabi.end())
        throw std::logic_error("Knjiga nije nadjena");
        auto pok=it-&gt;second;
        if(pok-&gt;p==nullptr)
        throw std::logic_error ("Knjiga nije zaduzena");
        else pok-&gt;p=nullptr;
    }
};
int main ()
{
    
    Biblioteka b;
    b.RegistrirajNovogKorisnika(1,"Harun","Dzihana","Hendek 8","061060559");
    b.RegistrirajNovogKorisnika(2,"Adela","Burkic","Ulica Slobode","062345943");
</font>    b.RegistrirajNovogKorisnika(3,"Ajla","Loncar","Donjici bb","062267472");
    b.RegistrirajNovogKorisnika(4,"Edah","Karalic","Bosanska bb","061876098");
    b.RegistrirajNovogKorisnika(5,"Hadzera","Dzihana","Hendek 8","062938088");
    b.RegistrirajNovogKorisnika(6,"Ema","Karajlic","Branilaca Sarajeva","070221870");
    b.RegistrirajNovuKnjigu(1,"Harry Potter","J.K.Rowling","sci-fi",1997);
    b.RegistrirajNovuKnjigu(2,"Igre Gladi","Suzanne Collins","sci-fi",2012);
<a name="1"></a><font color="#00FF00"><a href="match75-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_20.gif"/></a>

    b.RegistrirajNovuKnjigu(3,"Romeo i Julija","William Shakespear","drama",1462);
    b.RegistrirajNovuKnjigu(4,"Matematicka analiza","Svetozar Kurepa","sci-fi",1989);
     int br;
     int brj,god;
     std::string naslov, pisac, zanr;
    int bro;
    std::string im,pr,ad,brt;
    for(;;){
    std::cout&lt;&lt;"Odaberite opciju:"&lt;&lt;std::endl&lt;&lt;"1 - ispisivanje svih knjiga"&lt;&lt;std::endl&lt;&lt;"2 - ispisivanje svih korisnika"&lt;&lt;std::endl&lt;&lt;"3 - dodavanje nove knjige"&lt;&lt;std::endl&lt;&lt;"4 - dodavanje novog korisnika"&lt;&lt;std::endl&lt;&lt;"0 - kraj"&lt;&lt;std::endl;
    std::cin&gt;&gt;br;
  if(br==1)
  b.IzlistajKnjige();
  if(br==2)
  b.IzlistajKorisnike();
  if(br==3){
      std::cout&lt;&lt;"Unesite podatke(evidencijski broj, naslov, pisac, zanr, godina izdavanja): ";
      std::cin&gt;&gt;brj;
      std::cin.clear();
      std::cin.ignore(10000,'\n');
      std::getline(std::cin,naslov);
      std::getline(std::cin,pisac);
      std::getline(std::cin,zanr);
      std::cin&gt;&gt;god;
      try{
      b.RegistrirajNovuKnjigu(brj,naslov,pisac,zanr,god);
      } catch(std::logic_error e){
          std::cout&lt;&lt;e.what()&lt;&lt;std::endl;
      }
      }
 
  if(br==4){
      std::cout&lt;&lt;"Unesite podatke(clanski broj ,ime i prezime, adresa, broj telefona): ";
      std::cin&gt;&gt;bro;
      std::cin.clear();
      std::cin.ignore(10000,'\n');
      std::getline(std::cin,im);
      std::getline(std::cin,pr);
      std::getline(std::cin,ad);
      std::getline(std::cin,brt);
      try{
      b.RegistrirajNovogKorisnika(bro,im,pr,ad,brt);
      } 
      catch(std::logic_error e){
          std::cout&lt;&lt;e.what()&lt;&lt;std::endl;
      }
  }
  if(br==0){
      return 0;
</font>  }
    }
	return 0;
}</pre>
</body>
</html>
