<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z5/Z1/student8029.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z5/Z1/student5829.cpp<p></p><pre>
<a name="2"></a><font color="#0000FF"><a href="match755-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_3.gif"/></a>

/B16/17 (ZadaÄ‡a 5, Zadatak 1)
//Autotestovi by Eldar Kurtic (mail: ekurtic3@etf.unsa.ba)
//Za autotestove se obracati *iskljucivo* osobi koja ih pise
#include &lt;iostream&gt;
#include &lt;string&gt;
#include &lt;map&gt;
#include &lt;stdexcept&gt;

struct Korisnik{
    std::string ime;
    std::string prezime;
    std::string adresa;
    std::string telefon;
};

class Knjiga{
    std::string naslov;
    std::string ime_pisca;
    std::string zanr;
    int godina_izdavanja;
    Korisnik *zaduzenje;
</font>    
    public:
    Knjiga (std::string naslov, std::string ime_pisca, std::string zanr, int godina_izdavanja):naslov(naslov),ime_pisca(ime_pisca),zanr(zanr), godina_izdavanja(godina_izdavanja),zaduzenje(nullptr){}
    Knjiga ()= default;
    std::string DajNaslov() const{
        return naslov;
    }
    
    std::string DajAutora() const{
        return ime_pisca;
    }
    std::string DajZanr() const{
        return zanr;
    }
    int DajGodinuIzdavanja() const{
        return godina_izdavanja;
    }
    Korisnik *DajKodKogaJe() const{
        return zaduzenje;
    }
    

    void ZaduziKnjigu(Korisnik &amp;k){
        zaduzenje=&amp;k;
    }
    
    void RazduziKnjigu(){
        zaduzenje=nullptr;
    }
    
    bool DaLiJeZaduzena(){
        if(zaduzenje==nullptr) return 0;
        else return 1;
    }
    
};

class Biblioteka{
<a name="6"></a><font color="#00FF00"><a href="match755-0.html#6" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_2.gif"/></a>

    std::map&lt;int, Korisnik*&gt; korisnici;
    std::map&lt;int, Knjiga*&gt; knjige;
    
    
    public:
    Biblioteka(){}
    
    Biblioteka(const Biblioteka &amp;b);
    Biblioteka(Biblioteka &amp;&amp;b);
</font>    ~Biblioteka();
    void RegistrirajNovogKorisnika(int clanski_broj_korisnika, std::string ime, std::string prezime, std::string adresa, std::string broj_telefona);
<a name="5"></a><font color="#FF0000"><a href="match755-0.html#5" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_2.gif"/></a>

    void RegistrirajNovuKnjigu(int evidencijski_broj_knjige, std::string naslov, std::string ime_pisca, std::string zanr, int godina_izdavanja);
    Korisnik &amp;NadjiKorisnika(int clanski_broj_korisnika) const;
    Knjiga &amp;NadjiKnjigu (int evidencijski_broj_knjige) const;
</font>    void IzlistajKorisnike() const;
    void IzlistajKnjige() const;
    void ZaduziKnjigu(int evidencijski_broj_knjige, int clanski_broj_korisnika);
    void RazduziKnjigu(int evidencijski_broj_knjige);
    void PrikaziZaduzenja(int clanski_broj_korisnika);
    
};

 Biblioteka::Biblioteka (const Biblioteka &amp;b){
     for(auto it=b.korisnici.begin(); it!=b.korisnici.end(); it++){
         Korisnik *pom=new Korisnik;
         pom=it-&gt;second;
         Biblioteka::korisnici[it-&gt;first]=pom;
     }
     
     for(auto it=b.knjige.begin(); it!=b.knjige.end(); it++){
        
         Knjiga *pom=new Knjiga;
         pom=it-&gt;second;
         Biblioteka::knjige[it-&gt;first]=pom;
     }
     
 }
 
 Biblioteka::Biblioteka(Biblioteka &amp;&amp;b){
     Biblioteka::korisnici=b.korisnici;
<a name="3"></a><font color="#00FFFF"><a href="match755-0.html#3" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_2.gif"/></a>

     Biblioteka::knjige=b.knjige;
     for (auto it=b.korisnici.begin(); it!=b.korisnici.end(); it++){
         it-&gt;second=nullptr;
     }
     for (auto it=b.knjige.begin(); it!=b.knjige.end(); it++){
</font>         it-&gt;second=nullptr;
     }
 }
 
 Biblioteka::~Biblioteka(){
     for(auto it=korisnici.begin(); it!=korisnici.end(); it++){
         delete it-&gt;second;
     }
     
     for(auto it=knjige.begin(); it!=knjige.end(); it++){
         delete it-&gt;second;
     }
 }
 
 
 
 
<a name="4"></a><font color="#FF00FF"><a href="match755-0.html#4" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_2.gif"/></a>

 void Biblioteka::RegistrirajNovogKorisnika(int clanski_broj_korisnika, std::string ime, std::string prezime, std::string adresa, std::string broj_telefona){
     auto it(korisnici.find(clanski_broj_korisnika));
     if (it != korisnici.end()) throw std::logic_error ("Korisnik vec postoji");
</font>   
     Korisnik *pok=new Korisnik;
     pok-&gt;ime=ime;
     pok-&gt;prezime=prezime;
     pok-&gt;adresa=adresa;
     pok-&gt;telefon=broj_telefona;
     
     korisnici[clanski_broj_korisnika]=pok;
     pok=nullptr;
 }
 
<a name="1"></a><font color="#00FF00"><a href="match755-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_4.gif"/></a>

 void Biblioteka::RegistrirajNovuKnjigu(int evidencijski_broj_knjige, std::string naslov, std::string ime_pisca, std::string zanr, int godina_izdavanja){
     auto it(knjige.find(evidencijski_broj_knjige));
     if(it!=knjige.end()) throw std::logic_error ("Knjiga vec postoji");
     
     Knjiga *pok= new Knjiga(naslov, ime_pisca, zanr,godina_izdavanja);
</font>     
     
     knjige[evidencijski_broj_knjige]=pok;
     pok=nullptr;
     
     
 }
 
<a name="0"></a><font color="#FF0000"><a href="match755-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_4.gif"/></a>

 Korisnik &amp;Biblioteka::NadjiKorisnika(int clanski_broj_korisnika) const{
     auto it(korisnici.find(clanski_broj_korisnika));
     if (it == korisnici.end()) throw std::logic_error ("Korisnik nije nadjen");
     
     return *(it-&gt;second);
 }
 
 Knjiga &amp;Biblioteka::NadjiKnjigu (int evidencijski_broj_knjige) const{
     auto it (knjige.find(evidencijski_broj_knjige));
     if(it==knjige.end()) throw std::logic_error ("Knjiga nije nadjena");
     
     return *(it-&gt;second);
</font> }
 
 void Biblioteka::IzlistajKorisnike() const{
     for(auto it=korisnici.begin(); it!=korisnici.end(); it++){
         std::cout&lt;&lt;"Clanski broj: "&lt;&lt;it-&gt;first;
         std::cout&lt;&lt;std::endl;
         std::cout&lt;&lt;"Ime i prezime: "&lt;&lt; it-&gt;second-&gt;ime &lt;&lt;" "&lt;&lt;it-&gt;second-&gt;prezime;
         std::cout&lt;&lt;std::endl;
         std::cout&lt;&lt;"Adresa: "&lt;&lt; it-&gt;second-&gt;adresa;
         std::cout&lt;&lt;std::endl;
         std::cout&lt;&lt;"Broj telefona: "&lt;&lt; it-&gt;second-&gt;telefon;
         std::cout&lt;&lt;std::endl;
         std::cout&lt;&lt;std::endl;
     }
 }
 
 void Biblioteka::IzlistajKnjige() const{
     for(auto it=knjige.begin(); it!=knjige.end(); it++){
         std::cout&lt;&lt;"Evidencijski broj: "&lt;&lt;it-&gt;first;
         std::cout&lt;&lt;std::endl;
         std::cout&lt;&lt;"Naslov: "&lt;&lt; it-&gt;second-&gt;DajNaslov();
         std::cout&lt;&lt;std::endl;
         std::cout&lt;&lt;"Pisac: "&lt;&lt; it-&gt;second-&gt;DajAutora();
         std::cout&lt;&lt;std::endl;
         std::cout&lt;&lt;"Zanr: "&lt;&lt; it-&gt;second-&gt;DajZanr();
         std::cout&lt;&lt;std::endl;
         std::cout&lt;&lt;"Godina izdavanja: " &lt;&lt;it-&gt;second-&gt;DajGodinuIzdavanja();
         std::cout&lt;&lt;std::endl;
         if(it-&gt;second-&gt;DaLiJeZaduzena()==1) {
             std::cout&lt;&lt;"Zaduzena kod korisnika: "&lt;&lt;it-&gt;second-&gt;DajKodKogaJe()-&gt;ime&lt;&lt;" "&lt;&lt;it-&gt;second-&gt;DajKodKogaJe()-&gt;prezime;
         }
         std::cout&lt;&lt;std::endl;
         std::cout&lt;&lt;std::endl;
     }
 }
 
 void Biblioteka::ZaduziKnjigu(int evidencijski_broj_knjige, int clanski_broj_korisnika){
     auto it1(knjige.find(evidencijski_broj_knjige));
     if (it1==knjige.end()) throw std::logic_error("Knjiga nije nadjena");
     auto it2(korisnici.find(clanski_broj_korisnika));
     if(it2==korisnici.end()) throw std::logic_error("Korisnik nije nadjen");
     auto it3(knjige.find(evidencijski_broj_knjige));
     if(it3-&gt;second-&gt;DaLiJeZaduzena()==1) throw std::logic_error("Knjiga vec zaduzena");
     
     it1-&gt;second-&gt;ZaduziKnjigu(*(it2-&gt;second));
 }
 
 void Biblioteka::RazduziKnjigu(int evidencijski_broj_knjige){
     auto it(knjige.find(evidencijski_broj_knjige));
     if(it==knjige.end()) throw std::logic_error("Knjiga nije nadjena");
     if(it-&gt;second-&gt;DaLiJeZaduzena()==0)throw std::logic_error ("Knjiga nije zaduzena");
     
     it-&gt;second-&gt;RazduziKnjigu();
 }
 
 void Biblioteka::PrikaziZaduzenja(int clanski_broj_korisnika){
     auto it1(korisnici.find(clanski_broj_korisnika));
     if(it1==korisnici.end()) throw std::logic_error("Korisnik nije nadjen");
     bool pronadjen (0);
     for (auto it=knjige.begin(); it!=knjige.end(); it++){
         if(it-&gt;second-&gt;DajKodKogaJe()==it1-&gt;second) {
            pronadjen=1;
         std::cout&lt;&lt;"Evidencijski broj: "&lt;&lt;it-&gt;first;
         std::cout&lt;&lt;std::endl;
         std::cout&lt;&lt;"Naslov: "&lt;&lt; it-&gt;second-&gt;DajNaslov();
         std::cout&lt;&lt;std::endl;
         std::cout&lt;&lt;"Pisac: "&lt;&lt; it-&gt;second-&gt;DajAutora();
         std::cout&lt;&lt;std::endl;
         std::cout&lt;&lt;"Zanr: "&lt;&lt; it-&gt;second-&gt;DajZanr();
         std::cout&lt;&lt;std::endl;
         std::cout&lt;&lt;"Godina izdavanja: "&lt;&lt; it-&gt;second-&gt;DajGodinuIzdavanja();
         std::cout&lt;&lt;std::endl;
         std::cout&lt;&lt;std::endl;
         }
         if(pronadjen==0) throw std::logic_error("Nema zaduzenja za tog korisnika");
     }
 }

int main ()
{
    
	return 0;
}</pre>
</body>
</html>
