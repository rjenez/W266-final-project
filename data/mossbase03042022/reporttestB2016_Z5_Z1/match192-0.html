<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z5/Z1/student6571.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z5/Z1/student6571.cpp<p></p><pre>
<a name="2"></a><font color="#0000FF"><a href="match192-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_6.gif"/></a>

/B16/17 (ZadaÄ‡a 5, Zadatak 1)
//Autotestovi by Eldar Kurtic (mail: ekurtic3@etf.unsa.ba)
//Za autotestove se obracati *iskljucivo* osobi koja ih pise
#include &lt;iostream&gt;
#include &lt;string&gt;
#include &lt;map&gt;
#include &lt;stdexcept&gt;
#include &lt;vector&gt;
#include &lt;algorithm&gt;
struct Korisnik{
  
  std::string ime ;
  std::string prezime;
  std::string adresa;
  std::string telefon; 
  
};
class Knjiga{
  std::string naslov, ime_pisca, zanr;
   int godina_izdanja;
  Korisnik *kod_koga_je,*zaduzenje=nullptr;
  public:

  Knjiga(std::string naslov, std::string ime_pisca, std::string zanr, int godina_izdanja) : naslov(naslov), ime_pisca(ime_pisca), zanr(zanr), godina_izdanja(godina_izdanja),kod_koga_je(nullptr) {}
</font>  std::string DajNaslov() const{return naslov;}
<a name="0"></a><font color="#FF0000"><a href="match192-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_37.gif"/></a>

  std::string DajAutora() const{return ime_pisca;}
  std::string DajZanr() const {return zanr;}
  int DajGodinuIzdavanja() const {return godina_izdanja;}
 
  Korisnik* DajKodKogaJe()  {
    return zaduzenje;
    
  }
  //int zaduzenje=0;
  void ZaduziKnjigu(Korisnik &amp;kod_koga_je){
   zaduzenje=&amp;kod_koga_je;
  }
  void RazduziKnjigu(){
    zaduzenje=nullptr;
  }
  bool DaLiJeZaduzena(){
    if(zaduzenje!=nullptr) return true;
    
     if(zaduzenje==nullptr){return false;}
  }
};
typedef std::map&lt;int, Korisnik*&gt;mapa1;
typedef  std::pair&lt;int, Korisnik*&gt; par1;
typedef std::map&lt;int, Knjiga*&gt; mapa2;
typedef std::pair&lt;int, Knjiga*&gt; par2;
class Biblioteka{
 mapa1 mapa11;
 mapa2 mapa22;
 
Korisnik* korisnici;
Knjiga* knjige ;
  public:
  
~Biblioteka(){
  
  for(auto it=mapa11.begin(); it!=mapa11.end(); it++){
    delete(it-&gt;second);
  }
  
  for(auto it=mapa22.begin(); it!=mapa22.end(); it++){
    delete(it-&gt;second);
  }
};

  void RegistrirajNovogKorisnika(int clanski_broj, std::string ime, std::string prezime, std::string adresa, std::string telefon){
  for(auto it=mapa11.begin(); it!=mapa11.end(); it++){
    if(clanski_broj==it-&gt;first) throw std::logic_error("Korisnik vec postoji");
    
   
  }
  
       korisnici=new Korisnik{ime,prezime,adresa,telefon};
  mapa11.insert(par1(clanski_broj, korisnici)); 
    
  }
 
  void RegistrirajNovuKnjigu(int clanski_broj, std::string naslov, std::string ime_pisca, std::string zanr, int godina_izdanja){
  for(auto it=mapa22.begin(); it!=mapa22.end(); it++){
    if(clanski_broj==it-&gt;first) throw std::logic_error("Knjiga vec postoji");
  }
    
    knjige=new Knjiga( naslov, ime_pisca, zanr, godina_izdanja);
   
    mapa22.insert(par2(clanski_broj, knjige));
    
  
    
  }
  Korisnik NadjiKorisnika(int clanski_broj){
   
   for(auto it=mapa11.begin(); it!=mapa11.end(); it++) {
      if(it-&gt;first==clanski_broj ){
        return *(it-&gt;second);
      }
 }
  if(mapa11.find(clanski_broj)==mapa11.end()) throw std::logic_error("Korisnik nije nadjen");
  }
  
  Knjiga NadjiKnjigu(int evidencijski_broj){
    for(auto it=mapa22.begin(); it!=mapa22.end(); it++){
      if(it-&gt;first==evidencijski_broj ){
        return *(it-&gt;second);
      }
    }
    if(mapa22.find(evidencijski_broj)==mapa22.end()) throw std::logic_error("Knjiga nije nadjena");
  }
  
  void IzlistajKorisnike(){
    for(auto it=mapa11.begin(); it!=mapa11.end(); it++){
      std::cout&lt;&lt;"Clanski broj: "&lt;&lt;it-&gt;first&lt;&lt;std::endl;
</font>      std::cout&lt;&lt;"Ime i prezime: "&lt;&lt;it-&gt;second-&gt;ime&lt;&lt;" "&lt;&lt;it-&gt;second-&gt;prezime&lt;&lt;std::endl;
      std::cout&lt;&lt;"Adresa: "&lt;&lt;it-&gt;second-&gt;adresa&lt;&lt;std::endl;
<a name="4"></a><font color="#FF00FF"><a href="match192-1.html#4" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_4.gif"/></a>

      std::cout&lt;&lt;"Broj telefona: "&lt;&lt;it-&gt;second-&gt;telefon&lt;&lt;std::endl;
      std::cout&lt;&lt;std::endl;
      
    }
  }
  void IzlistajKnjige(){
  /*  int brojac = 0;
    for(auto it=mapa22.begin(); it!=mapa22.end(); it++){
      for(auto it1=mapa11.begin(); it1!=mapa11.end(); it1++){
        if(it-&gt;second-&gt;DaLiJeZaduzena()) brojac ++;
    }
    }
    int novi_brojac=0;*/
    for(auto it=mapa22.begin(); it!=mapa22.end(); it++){
      std::cout&lt;&lt;"Evidencijski broj: "&lt;&lt;it-&gt;first&lt;&lt;std::endl;
</font>      std::cout&lt;&lt;"Naslov: "&lt;&lt;it-&gt;second-&gt;DajNaslov()&lt;&lt;std::endl;
      std::cout&lt;&lt;"Pisac: "&lt;&lt;it-&gt;second-&gt;DajAutora()&lt;&lt;std::endl;
      std::cout&lt;&lt;"Zanr: "&lt;&lt;it-&gt;second-&gt;DajZanr()&lt;&lt;std::endl;
<a name="1"></a><font color="#00FF00"><a href="match192-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_19.gif"/></a>

      std::cout&lt;&lt;"Godina izdavanja: "&lt;&lt;it-&gt;second-&gt;DajGodinuIzdavanja()&lt;&lt;std::endl;
   
    //if(it-&gt;second-&gt;DaLiJeZaduzena()) novi_brojac++;
      if (it-&gt;second-&gt;DaLiJeZaduzena() ){
        for(auto it1=mapa11.begin(); it1!=mapa11.end(); it1++){
        std::cout&lt;&lt;it1-&gt;second-&gt;ime;
        
          
        }
       }
      
       
       
    
  }
  }
  void ZaduziKnjigu(int evidencijski_broj, int clanski_broj){
    if(!(evidencijski_broj)) throw std::logic_error("Knjiga nije nadjena");
    if(!(clanski_broj)) throw std::logic_error("Korisnik nije nadjen");
    for(auto it=mapa22.begin(); it!=mapa22.end(); it++){
      if(it-&gt;second-&gt;DaLiJeZaduzena()) continue;
    
 else{
     NadjiKnjigu(evidencijski_broj);
     auto k=NadjiKorisnika(clanski_broj);
     for(auto it=mapa22.begin(); it!=mapa22.end(); it++){
       it-&gt;second-&gt;ZaduziKnjigu(k);
       
     }
  }
}
}
void RazduziKnjigu(int evidencijski_broj){
 if(!(evidencijski_broj)) throw std::logic_error("Knjiga nije nadjena");
  for(auto it=mapa22.begin(); it!=mapa22.end(); it++){
    if(!(it-&gt;second-&gt;DaLiJeZaduzena())) throw std::logic_error("Knjiga nije zaduzena");
    it-&gt;second-&gt;RazduziKnjigu();
  }
}
void PrikaziZaduzenja(int clanski_broj){
  //if(!(clanski_broj)) throw std::logic_error("Korisnik nije nadjen");
  for(auto it1=mapa11.begin(); it1!=mapa11.end(); it1++){
    if(it1-&gt;first==clanski_broj){
  for(auto it=mapa22.begin(); it!=mapa22.end(); it++){
  
      std::cout&lt;&lt;"Evidencijski broj: "&lt;&lt;it-&gt;first&lt;&lt;std::endl;
</font>      std::cout&lt;&lt;"Naslov: "&lt;&lt;it-&gt;second-&gt;DajNaslov()&lt;&lt;std::endl;
      std::cout&lt;&lt;"Pisac: "&lt;&lt;it-&gt;second-&gt;DajAutora()&lt;&lt;std::endl;
      std::cout&lt;&lt;"Zanr: "&lt;&lt;it-&gt;second-&gt;DajZanr()&lt;&lt;std::endl;
<a name="3"></a><font color="#00FFFF"><a href="match192-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_4.gif"/></a>

      std::cout&lt;&lt;"Godina izdavanja: "&lt;&lt;it-&gt;second-&gt;DajGodinuIzdavanja()&lt;&lt;std::endl;
      std::cout&lt;&lt;std::endl;
   
  }
  
}
}
}
};
int main(){
Biblioteka b;
b.RegistrirajNovogKorisnika(1234, "Petar", "Petrovic",
"Zmaja od Bosne 30", "032/444-555");
b.RegistrirajNovogKorisnika(4312, "Hasan", "Hasanovic",
</font>"Trg neznalica 111", "030/111-222");
b.RegistrirajNovogKorisnika(3124, "Mehmed", "Mehmedovic",
"Studenata etfovaca 3b", "037/654-321");
b.RegistrirajNovuKnjigu(231, "Prokleta avlija", "Ivo Andric", "Roman", 1955);
<a name="5"></a><font color="#FF0000"><a href="match192-1.html#5" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_2.gif"/></a>

b.RegistrirajNovuKnjigu(555, "Grimove Bajke", "Braca Grim", "Bajke", 1927);
b.RegistrirajNovuKnjigu(136, "Kameni spavac", "Mak Dizdar", "Poezija", 1960);
b.ZaduziKnjigu(231, 1234);
b.ZaduziKnjigu(136, 1234);
b.IzlistajKnjige();
</font>}/*
int smain ()
{
  Biblioteka b;
int clanski_broj=0,n=0,evidencijski_broj=0,godina_izdanja=0;
std::string ime, prezime, adresa, telefon,naslov,ime_pisca,zanr;
for(;;){
  std::cout&lt;&lt;"Unesite: 1 za registrovanje korisnika, 2 za registorovanje knjige, 3 za pronalazenje korisnika, 4 za pronalazanje knjige, 5 za ispis svih registriranih korisnika, 6 za ispis svih registriranih knjiga, 7 za zaduzenje knjige, 8 za razduzenje knjige, 9 za prikaz zaduzenja, 0 za kraj";
  std::cin&gt;&gt;n;
  if(n==1){
    std::cout&lt;&lt;"Unesite clanski broj korisnika: ";
    std::cin&gt;&gt;clanski_broj;
    std::cout&lt;&lt;"Unesite ime korisnika: ";
    std::getline(std::cin, ime);
    std::cout&lt;&lt;"Unesite prezime korisnika: ";
    std::getline(std::cin, prezime);
    std::cout&lt;&lt;"Unesite adresu korisnika ";
    std::getline(std::cin, adresa);
    std::cout&lt;&lt;"Unesite telefon korisnika: ";
    std::getline(std::cin, telefon);
    b.RegistrirajNovogKorisnika(clanski_broj,ime,prezime,adresa,telefon);
  }
  if(n==2){
    std::cout&lt;&lt;"Unesite evidencijski broj knjige: ";
    std::cin&gt;&gt;evidencijski_broj;
    std::cout&lt;&lt;"Unesite naslov knjige: ";
    std::getline(std::cin, naslov);
    std::cout&lt;&lt;"Unesite ime pisca: ";
    std::getline(std::cin, ime_pisca);
    std::cout&lt;&lt;"Unesite zanr: ";
    std::getline(std::cin, zanr);
    std::cout&lt;&lt;"Unesite godina izdanja: ";
    std::cin&gt;&gt;godina_izdanja;
    b.RegistrirajNovuKnjigu(evidencijski_broj,naslov,ime_pisca,zanr,godina_izdanja);
  }
  if(n==3){
    std::cout&lt;&lt;"Unesite clanski broj korisnika kojeg zelite pronaci: ";
    std::cin&gt;&gt;clanski_broj;
    std::cout&lt;&lt;b.NadjiKorisnika(clanski_broj).ime;
  }
  if(n==4){
    std::cout&lt;&lt;"Unesite evidencijski broj knjige koju zelite pronaci: ";
    std::cin&gt;&gt;evidencijski_broj;
    std::cout&lt;&lt;b.NadjiKnjigu(evidencijski_broj).DajNaslov();
  }
  if(n==5){
    b.IzlistajKorisnike();
  }
  if(n==6){
    b.IzlistajKnjige();
  }
  if(n==7){
    std::cout&lt;&lt;"Unesite evidencijski broj knjige koju zelite zaduziti: ";
    std::cin&gt;&gt;evidencijski_broj;
    std::cout&lt;&lt;"Unesite clanski broj korisnika: ";
    std::cin&gt;&gt;clanski_broj;
    b.ZaduziKnjigu(evidencijski_broj,clanski_broj);
  }
  if(n==8){
    std::cout&lt;&lt;"Unesite evidencijski broj knjige koju zelite razduziti: ";
    std::cin&gt;&gt;evidencijski_broj;
    b.RazduziKnjigu(evidencijski_broj);
  }
  if(n==9){
    std::cout&lt;&lt;"Unesite clanski broj korisnika: ";
    std::cin&gt;&gt;clanski_broj;
    b.PrikaziZaduzenja(clanski_broj);
  }
  if(n==0){
    std::cout&lt;&lt;"Dovidjenja!";
    break;
  } 
}
	return 0;
}*/</pre>
</body>
</html>
