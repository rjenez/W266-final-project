<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z5/Z1/student7540.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z5/Z1/student7540.cpp<p></p><pre>
<a name="0"></a><font color="#FF0000"><a href="match207-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_99.gif"/></a>

/B16/17 (ZadaÄ‡a 5, Zadatak 1)
//Autotestovi by Eldar Kurtic (mail: ekurtic3@etf.unsa.ba)
//Za autotestove se obracati *iskljucivo* osobi koja ih pise
#include &lt;iostream&gt;
#include &lt;string&gt;
#include &lt;map&gt;
#include &lt;stdexcept&gt;

using namespace std;

struct Korisnik {
    string ime;
    string prezime;
    string adresa;
    string telefon;
};

class Knjiga {
    string naslov;
    string ime_pisca;
    string zanr;
    int godina_izdavanja;
    Korisnik* zaduzenje;
    public:
    Knjiga(string naslov_knjige, string piscevo_ime, string koji_je_zanr, int god_izd): naslov(naslov_knjige), ime_pisca(piscevo_ime),
    zanr(koji_je_zanr), godina_izdavanja(god_izd) , zaduzenje(nullptr) {}
    
    string DajNaslov() const{
        return naslov;
    }
      string DajAutora() const{
        return ime_pisca;
    }
      string DajZanr() const{
        return zanr;
    }
    int DajGodinuIzdavanja() const{
        return godina_izdavanja;
    }
    Korisnik* DajKodKogaJe() const{
        return zaduzenje;
    }
    void ZaduziKnjigu(const Korisnik &amp;lik) {
        if(DaLiJeZaduzena()) throw domain_error("Vec je zaduzena");
        Korisnik* pok(lik);
        zaduzenje=pok;
    }
    void RazduziKnjigu() {
        if(zaduzenje)
        zaduzenje=nullptr;
    }
    bool DaLiJeZaduzena() const{
        if(zaduzenje) return true;
        return false;
    }
    
    
};

class Biblioteka{
    map&lt;int,Korisnik*&gt; korisnik_mapa;
    map&lt;int,Knjiga*&gt; knjiga_mapa;
    public:
    Biblioteka(){};
    void RegistrirajNovogKorisnika(int clanski_broj, string ime, string prezime, string adresa, string broj_telefona){
        Korisnik* pok(new Korisnik);
          if(korisnik_mapa.find(clanski_broj)) throw logic_error("Korisnik vec postoji");
        *pok.ime=ime;
        *pok.prezime=prezime;
        *pok.adresa=adresa;
        *pok.telefon=broj_telefona;
        korisnik_mapa.insert(make_pair(clanski_broj,*pok));
    }
    void RegistrirajNovuKnjigu(int br, string naslov, string ime, string zanr, int god ){
        Knjiga* pok(new Knjiga);
        if (knjiga_mapa.find(br)) throw logic_error("Knjiga vec postoji");
        *pok.naslov=naslov;
        *pok.ime_pisca=ime;
        *pok.zanr=zanr;
        *pok.godina_izdavanja=god;
        knjiga_mapa.insert(make_pair(br,*pok));
    } 
    Biblioteka(const Biblioteka &amp;b){
        
    }
    Korisnik &amp;NadjiKorisnika(int cl_broj){
       
        if(!korisnik_mapa.find(cl_broj)) throw logic_error("Korisnik nije nadjen");
         Korisnik &amp;referenca;
         referenca=korisnik_mapa.find(cl_broj);
         return referenca;
    }
     Knjiga &amp;NadjiKnjigu(int cl_broj){
       
        if(!knjiga_mapa.find(cl_broj)) throw logic_error("Knjiga nije nadjena");
         Knjiga &amp;referenca;
         referenca=knjiga_mapa.find(cl_broj);
         return referenca;
    }
    void IzlistajKorisnike() const{
        for (auto it=korisnik_mapa.begin(); it!=korisnik_mapa.end(); it++){
            cout&lt;&lt; "Clanski broj: "&lt;&lt; it-&gt;first&lt;&lt; endl;
            cout&lt;&lt; "Ime i prezime: "&lt;&lt;*(it-&gt;second).ime &lt;&lt; " "&lt;&lt; *(it-&gt;second).prezime &lt;&lt;endl;
            cout&lt;&lt; "Adresa: "&lt;&lt; *(it-&gt;second).adresa &lt;&lt; endl;
            cout&lt;&lt; "Broj telefona: "&lt;&lt;*(it-&gt;second).telefon&lt;&lt; endl;
        }
    }
    void IzlistajKnjige() const{
        for (auto it=knjiga_mapa.begin(); it!=knjiga_mapa.end(); it++){
            cout&lt;&lt; "Evidencijski broj: "&lt;&lt; it-&gt;first&lt;&lt; endl;
            cout&lt;&lt; "Naslov: "&lt;&lt;*(it-&gt;second).naslov &lt;&lt; " "&lt;&lt; *(it-&gt;second).prezime &lt;&lt;endl;
            cout&lt;&lt; "Pisac: "&lt;&lt; *(it-&gt;second).ime_pisca &lt;&lt; endl;
            cout&lt;&lt; "Zanr: "&lt;&lt;*(it-&gt;second).zanr&lt;&lt; endl;
            cout&lt;&lt; "Godina izdavanja: "&lt;&lt;*(it-&gt;second).godina_izdavanja&lt;&lt;endl;
            if(((it-&gt;second).zaduzenje))
            cout&lt;&lt; "Zaduzena kod korisnika: "&lt;&lt;*(it-&gt;second).zaduzenje-&gt;ime &lt;&lt; *(it-&gt;second).zaduzenje-&gt;prezime&lt;&lt; endl;
        }
    }
    void ZaduziKnjigu(int ev_broj, int cl_broj) {
          if(!knjiga_mapa.find(ev_broj)) throw logic_error("Knjiga nije nadjena");
          if(!korisnik_mapa.find(cl_broj)) throw logic_error("Korisnik nije nadjen");
           for (auto it=knjiga_mapa.begin(); it!=knjiga_mapa.end(); it++){
               if (ev_broj==it-&gt;first) if (it-&gt;second.zaduzenje) throw logic_error("Knjiga vec zaduzena");
                                        else{
                                           for (auto it1=korisnik_mapa.begin(); it1!=korisnik_mapa.end(); it1++){
                                               if(cl_broj==it1-&gt;first) *(it-&gt;second).zaduzenje=it1-&gt;second;
                                           }  
                                        } 
           }
    }
    void RazduziKnjigu(int ev_broj){
         if(!korisnik_mapa.find(cl_broj)) throw logic_error("Korisnik nije nadjen");
           for (auto it=knjiga_mapa.begin(); it!=knjiga_mapa.end(); it++){
               if (ev_broj==it-&gt;first) { if (!it-&gt;second.zaduzenje) throw logic_error("Knjiga nije zaduzena");
               else it-&gt;second.zaduzenje=nullptr; }
    }
    void PrikaziZaduzenja(int cl_broj){
          if(!korisnik_mapa.find(cl_broj)) throw logic_error("Korisnik nije nadjen");
             for (auto it=knjiga_mapa.begin(); it!=knjiga_mapa.end(); it++){
                 if (cl_broj==*(it-&gt;second).zaduzenje)
             }
    }
};


int main ()
{
	return 0;
</font>}</pre>
</body>
</html>
