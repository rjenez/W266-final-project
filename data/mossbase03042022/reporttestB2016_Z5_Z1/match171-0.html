<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z5/Z1/student7346.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z5/Z1/student7346.cpp<p></p><pre>
<a name="1"></a><font color="#00FF00"><a href="match171-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_16.gif"/></a>

/B16/17 (ZadaÄ‡a 5, Zadatak 1)
//Autotestovi by Eldar Kurtic (mail: ekurtic3@etf.unsa.ba)
//Za autotestove se obracati *iskljucivo* osobi koja ih pise
#include &lt;stdexcept&gt;
#include &lt;iostream&gt;
#include &lt;string&gt;
#include &lt;vector&gt;
#include &lt;memory&gt;
#include &lt;map&gt;
#include &lt;algorithm&gt;

using namespace std;

struct Korisnik {
    string ime, prezime, adresa, telefon;
};

class Knjiga {
    string Naslov, ImePisca, Zanr;
    int GodinaIzdavanja;
    Korisnik *pok;
    
    public:
    Knjiga(string n_k, string i_p, string z_k, int g_i):Naslov(n_k),ImePisca(i_p),Zanr(z_k),GodinaIzdavanja(g_i),pok(nullptr){}

    string DajNaslov()const{ return Naslov; };
    string DajAutora()const{ return ImePisca; };
    string DajZanr()const{ return Zanr; };
    int DajGodinuIzdavanja()const{ return GodinaIzdavanja; };
    Korisnik* DajKodKogaJe()const{ return pok; };
    void ZaduziKnjigu(Korisnik &amp;k) { pok=&amp;k; };
    void RazduziKnjigu() { pok=nullptr; };
    bool DaLiJeZaduzena() { if(pok!=nullptr) return true; else return false; };
};

class Biblioteka {
    map&lt;int,Korisnik*&gt; korisnici;
    map&lt;int,Knjiga*&gt; knjige;
      
    public:
    Biblioteka(){}
    Biblioteka( const Biblioteka &amp;b){
        for(auto it=b.korisnici.begin();it!=b.korisnici.end();it++)
            korisnici[it-&gt;first]=new Korisnik(*it-&gt;second);
</font><a name="2"></a><font color="#0000FF"><a href="match171-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_12.gif"/></a>

        for(auto it=b.knjige.begin();it!=b.knjige.end();it++)
            knjige[it-&gt;first]=new Knjiga(*it-&gt;second);
    }
    Biblioteka( Biblioteka &amp;&amp; b){
        korisnici=b.korisnici;
        knjige=b.knjige;
        b.knjige.clear();
        b.korisnici.clear();
    }
      
    Biblioteka &amp;operator =(const Biblioteka &amp;b){
        if(this==&amp;b) return *this;
        for (auto it=korisnici.begin();it!=korisnici.end();it++)
             delete it-&gt;second;
        for (auto it=knjige.begin();it!=knjige.end();it++)
             delete it-&gt;second;
        knjige.clear();
        korisnici.clear();
        for(auto it=b.korisnici.begin();it!=b.korisnici.end();it++)
            korisnici[it-&gt;first]=new Korisnik(*it-&gt;second);
</font><a name="0"></a><font color="#FF0000"><a href="match171-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_63.gif"/></a>

        for(auto it=b.knjige.begin();it!=b.knjige.end();it++)
            knjige[it-&gt;first]=new Knjiga(*it-&gt;second);
        return *this;   
    }
      
    Biblioteka &amp;operator =(Biblioteka &amp;&amp;b){
        if(this==&amp;b) return *this;
        for(auto it=korisnici.begin();it!=korisnici.end();it++)
            it-&gt;second=nullptr;
        for(auto it=knjige.begin();it!=knjige.end();it++)
            it-&gt;second=nullptr;
        knjige.clear();
        korisnici.clear();
        korisnici=b.korisnici;
        knjige=b.knjige;
        b.knjige.clear();
        b.korisnici.clear();
        
        return *this;  
    }
    
    ~Biblioteka() { 
        for (auto it=korisnici.begin();it!=korisnici.end();it++)
            delete it-&gt;second;
        for (auto it=knjige.begin();it!=knjige.end();it++)
            delete it-&gt;second;
        knjige.clear();
        korisnici.clear();
    }
    void RegistrirajNovogKorisnika( int clanski_broj, string ime, string prezime, string adresa, string br_telefona){
          korisnici[clanski_broj]=new Korisnik();
          korisnici[clanski_broj]-&gt;ime=ime,
          korisnici[clanski_broj]-&gt;prezime=prezime;
          korisnici[clanski_broj]-&gt;adresa=adresa;
          korisnici[clanski_broj]-&gt;telefon=br_telefona;
    }
    void RegistrirajNovuKnjigu(int ev_broj, string naslov, string ime_pisca, string z, int god_izdanja){
          knjige[ev_broj]=new Knjiga(naslov,ime_pisca,z,god_izdanja);
    }
    Korisnik&amp; NadjiKorisnika(int clanski_broj) {
          return *korisnici[clanski_broj];
    }
    Knjiga&amp; NadjiKnjigu(int ev_broj){
          return *knjige[ev_broj];
    }
      
    void IzlistajKorisnike(){
        vector&lt;int&gt; v;
        for (auto it=korisnici.begin();it!=korisnici.end();it++)
              v.push_back(it-&gt;first);
        sort(v.begin(),v.end());
        for(int i=0;i&lt;v.size();i++) {
            cout&lt;&lt;"Clanski broj: "&lt;&lt;v[i]&lt;&lt;endl;
            cout&lt;&lt;"Ime i prezime: "&lt;&lt;korisnici[v[i]]-&gt;ime&lt;&lt;" "&lt;&lt;korisnici[v[i]]-&gt;prezime&lt;&lt;endl;
            cout&lt;&lt;"Adresa: "&lt;&lt;korisnici[v[i]]-&gt;adresa&lt;&lt;endl;
            cout&lt;&lt;"Broj telefona: "&lt;&lt;korisnici[v[i]]-&gt;telefon&lt;&lt;endl&lt;&lt;endl;
         }
    }
    void IzlistajKnjige(){
        vector&lt;int&gt; v;
        for (auto it=knjige.begin();it!=knjige.end();it++)
              v.push_back(it-&gt;first);
        sort(v.begin(),v.end());
        for(int i=0;i&lt;v.size();i++){
            cout&lt;&lt;"Clanski broj: "&lt;&lt;v[i];
            cout&lt;&lt;"Ime i prezime: "&lt;&lt;korisnici[v[i]]-&gt;ime&lt;&lt;" "&lt;&lt;korisnici[v[i]]-&gt;prezime&lt;&lt;endl;
            cout&lt;&lt;"Adresa: "&lt;&lt;korisnici[v[i]]-&gt;adresa&lt;&lt;endl;
            cout&lt;&lt;"Broj telefona: "&lt;&lt;korisnici[v[i]]-&gt;telefon;
         }
    }
    void ZaduziKnjigu(int ev_broj, int clanski_broj){
          knjige[ev_broj]-&gt;ZaduziKnjigu(*korisnici[clanski_broj]);
    }
    void RazduziKnjigu(int ev_broj){
          knjige[ev_broj]-&gt;RazduziKnjigu();
    }
    void PrikaziZaduzenja(int clanski_broj);
};

                                                 
int main(){
    Korisnik korisnik1{"Meho", "Mik", "Dobojska 15", "033/123-456"};
    Knjiga knjiga1("Tvrdjava", "Mesa Selimovic", "Roman", 1965);
    if(knjiga1.DajKodKogaJe() == nullptr) cout&lt;&lt;"Nije zaduzena\n";
    cout&lt;&lt;knjiga1.DaLiJeZaduzena()&lt;&lt;endl;
    knjiga1.ZaduziKnjigu(korisnik1);
    cout&lt;&lt;"Knjigu je zaduzio "&lt;&lt;knjiga1.DajKodKogaJe()-&gt;ime&lt;&lt;endl;
    
    cout&lt;&lt;knjiga1.DaLiJeZaduzena()&lt;&lt;endl;
    
    Biblioteka b;
    b.RegistrirajNovogKorisnika(1234, "Zvjecdan", "Petrovic","Zmaja od Bosne 30", "032/434-455");
    b.RegistrirajNovogKorisnika(1235, "Zvjezdan", "Zvjezdanovic","BB", "032/434-457");
    
    b.RegistrirajNovuKnjigu(231, "Prokleta avlija", "Ivo Andric", "Roman", 1955);
</font>    b.RegistrirajNovuKnjigu(232, "Ruza", "Nura Hubijar", "Roman", 1965);
    b.IzlistajKorisnike();
    return 0;
}
</pre>
</body>
</html>
