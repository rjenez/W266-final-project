<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z5/Z1/student4647.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z5/Z1/student4647.cpp<p></p><pre>

#include &lt;iostream&gt;
#include &lt;string&gt;
#include &lt;map&gt;
#include &lt;stdexcept&gt;

<a name="0"></a><font color="#FF0000"><a href="match184-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_73.gif"/></a>

struct Korisnik {
    std::string ime;
    std::string prezime;
    std::string adresa;
    std::string telefon;
};

class Knjiga {
    std::string naslov;
    std::string ime_pisca;
    std::string zanr;
    int godina_izdavanja;
    Korisnik *zaduzio;
    public:
    Knjiga(const Knjiga &amp;k) {*this=k;}
    Knjiga(std::string nas, std::string ime, std::string z, int god): naslov(nas), 
    ime_pisca(ime), zanr(z), godina_izdavanja(god), zaduzio(nullptr) {}
    std::string DajNaslov() {return naslov;}
    std::string DajAutora() {return ime_pisca;}
    std::string DajZanr() {return zanr;}
    int DajGodinuIzdavanja() {return godina_izdavanja;}
    Korisnik *DajKodKogaJe() {return zaduzio;}
    void ZaduziKnjigu (Korisnik &amp;kor) {zaduzio=&amp;kor;}
    void RazduziKnjigu() {zaduzio=nullptr;}
    bool DaLiJeZaduzena() {if(zaduzio==nullptr) return false; else return true;}
};

class Biblioteka {
    private:
    std::map&lt;int, Korisnik*&gt; korisnici;
    std::map&lt;int, Knjiga*&gt; knjige;
    public:
    Biblioteka() {}
    Biblioteka(const Biblioteka &amp;b){
        *this=b;
    for(auto i=b.korisnici.begin(); i!=b.korisnici.end(); i++) {
        auto kor=korisnici.begin();
        kor-&gt;second=new Korisnik;
        kor-&gt;second=i-&gt;second;
        kor++;
    }
    for(auto i=b.knjige.begin(); i!=b.knjige.end(); i++) {
        auto kor=knjige.begin();
        kor-&gt;second=new Knjiga(*i-&gt;second);
        kor++;
    }
    }
    ~Biblioteka() {
        for(auto i=knjige.begin(); i!=knjige.end(); i++) {
        delete i-&gt;second; i-&gt;second=nullptr; 
        }
        for(auto i=korisnici.begin(); i!=korisnici.end(); i++) {
        delete i-&gt;second; i-&gt;second=nullptr; 
        }
    }
    void RegistrirajNovogKorisnika(int cl_br, std::string ime, std::string prez, std::string adresa, std::string br_tel) {
        Korisnik kor;
        kor.ime=ime;  kor.prezime=prez; kor.adresa=adresa; kor.telefon=br_tel;
        Korisnik *pok=new Korisnik(kor);
        for(auto i=korisnici.begin(); i!=korisnici.end(); i++) {
            if(cl_br==i-&gt;first) {throw std::logic_error("Korisnik vec postoji");}
        }
        korisnici.insert(std::pair&lt;int, Korisnik*&gt;(cl_br, pok)) ;
    }
    void RegistrirajNovuKnjigu(int ev_br, std::string naslov, std::string ime_pisca, std::string zanr, int godina) {
        Knjiga *pok=new Knjiga(naslov, ime_pisca, zanr, godina);
        for(auto i=knjige.begin(); i!=knjige.end(); i++) {
            if(ev_br==i-&gt;first) {throw std::logic_error("Knjiga vec postoji");}
        }
        knjige.insert(std::pair&lt;int, Knjiga*&gt;(ev_br, pok)) ;
    }
    Korisnik &amp;NadjiKorisnika (int cl_br) const {
         for(auto i=korisnici.begin(); i!=korisnici.end(); i++) {
            if(cl_br==i-&gt;first) { return *i-&gt;second;}
        }
        throw std::logic_error("Korisnik nije nadjen");
    }
    Knjiga &amp;NadjiKnjigu  (int ev_br) const {
         for(auto i=knjige.begin(); i!=knjige.end(); i++) {
            if(ev_br==i-&gt;first) { return *i-&gt;second;}
        }
        throw std::logic_error("Knjiga nije nadjena");
    }
    void IzlistajKorisnike() const {
        for(auto i=korisnici.begin(); i!=korisnici.end(); i++) {
        std::cout&lt;&lt;"Clanski broj: "&lt;&lt;i-&gt;first&lt;&lt;std::endl&lt;&lt;"Ime i prezime: "&lt;&lt;i-&gt;second-&gt;ime&lt;&lt;" "&lt;&lt;i-&gt;second-&gt;prezime
        &lt;&lt;std::endl&lt;&lt;"Adresa: "&lt;&lt;i-&gt;second-&gt;adresa&lt;&lt;std::endl&lt;&lt;"Broj telefona: "&lt;&lt;i-&gt;second-&gt;telefon&lt;&lt;std::endl&lt;&lt;std::endl;
        }
    }
    void IzlistajKnjige() const {
        for(auto i=knjige.begin(); i!=knjige.end(); i++) {
        std::cout&lt;&lt;"Evidencijski broj: "&lt;&lt;i-&gt;first&lt;&lt;std::endl&lt;&lt;"Naslov: "&lt;&lt;i-&gt;second-&gt;DajNaslov()&lt;&lt;std::endl
</font><a name="1"></a><font color="#00FF00"><a href="match184-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_20.gif"/></a>

        &lt;&lt;"Pisac: "&lt;&lt;i-&gt;second-&gt;DajAutora()&lt;&lt;std::endl&lt;&lt;"Zanr: "&lt;&lt;i-&gt;second-&gt;DajZanr()&lt;&lt;std::endl
        &lt;&lt;"Godina izdavanja: "&lt;&lt;i-&gt;second-&gt;DajGodinuIzdavanja()&lt;&lt;std::endl;
        if(i-&gt;second-&gt;DajKodKogaJe()!=nullptr) std::cout&lt;&lt;"Zaduzena kod korisnika: "&lt;&lt;i-&gt;second-&gt;DajKodKogaJe()-&gt;ime&lt;&lt;" "&lt;&lt;i-&gt;second-&gt;DajKodKogaJe()-&gt;prezime
        &lt;&lt;std::endl; std::cout&lt;&lt;std::endl;
        }
    }
    void ZaduziKnjigu(int ev_br, int cl_br) {
        bool da=false; 
        auto pok_na_knjigu=knjige.begin();
        for(auto i=knjige.begin(); i!=knjige.end(); i++) {
            if(ev_br==i-&gt;first) {da=true; pok_na_knjigu=i;}
        }
        if(da==false) throw std::logic_error("Knjiga nije nadjena");
        da=false; auto pok_na_korisnika=korisnici.begin();
        for(auto i=korisnici.begin(); i!=korisnici.end(); i++) {
            if(cl_br==i-&gt;first) { da=true; pok_na_korisnika=i;}
        }
        if(da==false) throw std::logic_error("Korisnik nije nadjen");
        pok_na_knjigu-&gt;second-&gt;ZaduziKnjigu(*pok_na_korisnika-&gt;second);
        
    }
};
int main ()
{
    std::cout&lt;&lt;"Unesite "
</font>    

	return 0;
}</pre>
</body>
</html>
