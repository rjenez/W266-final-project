<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z5/Z1/student5496.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z5/Z1/student5496.cpp<p></p><pre>
/B16/17 (ZadaÄ‡a 5, Zadatak 1)
//Autotestovi by Eldar Kurtic (mail: ekurtic3@etf.unsa.ba)
//Za autotestove se obracati *iskljucivo* osobi koja ih pise
#include &lt;iostream&gt;
#include &lt;string&gt;
#include &lt;cstring&gt;
#include &lt;map&gt;

struct Korisnik{
<a name="3"></a><font color="#00FFFF"><a href="match219-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_9.gif"/></a>

    std::string ime, prezime, adresa, telefon;
};
class Knjiga{
    std::string naslov_knjige, ime_pisca, zanr;
    int god_izdavanja;
    Korisnik *kod_kog_je=nullptr;
    public:
    Knjiga(std::string naslov, std::string ime, std::string vrsta, int godina){
        naslov_knjige=naslov; ime_pisca=ime; zanr=vrsta; god_izdavanja=godina;
    }
    std::string DajNaslov() const{ return naslov_knjige;}
    std::string DajAutora() const{ return ime_pisca;}
</font>    std::string DajZanr() const{ return zanr;}
    int DajGodinuIzdavanja() const{ return god_izdavanja;}
<a name="2"></a><font color="#0000FF"><a href="match219-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_16.gif"/></a>

    Korisnik *DajKodKogaJe() const{ return kod_kog_je;}
    void ZaduziKnjigu(Korisnik &amp;clan) { kod_kog_je = &amp;clan;}
    void RazduziKnjigu() { kod_kog_je=nullptr;}
    bool DaLiJeZaduzena() { return kod_kog_je!=nullptr;}
    void Ispis()  const{
        std::cout&lt;&lt;"Naslov: "&lt;&lt;DajNaslov()&lt;&lt;std::endl&lt;&lt;"Pisac: "&lt;&lt;DajAutora()&lt;&lt;std::endl&lt;&lt;"Zanr: "&lt;&lt;DajZanr()&lt;&lt;std::endl&lt;&lt;"Godina izdavanja: "&lt;&lt;DajGodinuIzdavanja()&lt;&lt;std::endl;
    }
};
class Biblioteka{
    std::map&lt;int, Korisnik*&gt; korisnici;
    std::map&lt;int, Knjiga*&gt; knjige;
    public:
    Biblioteka(){}
    ~Biblioteka();
    void RegistrirajNovogKorisnika(int clanski_br, std::string ime, std::string prezime, std::string adresa, std::string br_telefona);
</font>    void RegistrirajNovuKnjigu(int br_knjige, std::string naslov, std::string ime_pisca, std::string zanr, int godina);
    Korisnik &amp;NadjiKorisnika(int broj);
<a name="0"></a><font color="#FF0000"><a href="match219-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_32.gif"/></a>

    Knjiga &amp;NadjiKnjigu(int broj);
    void IzlistajKorisnike() const;
    void IzlistajKnjige() const;
    void ZaduziKnjigu (int broj_knjige, int clanski_br);
    void RazduziKnjigu (int broj_knjige);
    void PrikaziZaduzenja (int clanski_br);
};
void Biblioteka::RegistrirajNovogKorisnika(int clanski_br, std::string ime, std::string prezime, std::string adresa, std::string br_telefona){
        auto it=korisnici.find(clanski_br);
        if(it!=korisnici.end()) throw std::logic_error ("Korisnik vec postoji");
        try{
            Korisnik k{ime,prezime,adresa,br_telefona};
            korisnici.insert(std::make_pair(clanski_br, new Korisnik (k)));
        } catch(...){ throw;
        }
    }
void Biblioteka::RegistrirajNovuKnjigu(int br_knjige, std::string naslov, std::string ime_pisca, std::string zanr, int godina){
        Knjiga k(naslov,ime_pisca,zanr,godina);
        auto it1=knjige.find(br_knjige);
        if(it1!=knjige.end()) throw std::logic_error ("Knjiga vec postoji");
        try{
          knjige.insert(std::make_pair(br_knjige, new Knjiga(naslov, ime_pisca,zanr,godina)));
        }catch(...){ throw;}
    }
Korisnik &amp;Biblioteka::NadjiKorisnika(int broj){
        auto it2(korisnici.find(broj));
        if(it2==korisnici.end()) throw std::logic_error ("Korisnik nije nadjen");
        return *korisnici[broj];
    }
Knjiga &amp;Biblioteka::NadjiKnjigu(int broj){
    auto it2(knjige.find(broj));
    if(it2!=knjige.end()) return *knjige[broj];
    throw std::logic_error ("Knjiga nije nadjena");
}
void Biblioteka::IzlistajKorisnike() const{
    for(auto it=korisnici.begin(); it!=korisnici.end(); it++){
    std::cout&lt;&lt;"Clanski broj: "&lt;&lt;it-&gt;first&lt;&lt;std::endl;
</font>    std::cout&lt;&lt;"Ime i prezime: "&lt;&lt;(it-&gt;second)-&gt;ime&lt;&lt;" "&lt;&lt;(it-&gt;second)-&gt;prezime&lt;&lt;std::endl;
    std::cout&lt;&lt;"Adresa: "&lt;&lt;(it-&gt;second)-&gt;adresa&lt;&lt;std::endl;
<a name="1"></a><font color="#00FF00"><a href="match219-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_23.gif"/></a>

    std::cout&lt;&lt;"Broj telefona: "&lt;&lt;(it-&gt;second)-&gt;telefon&lt;&lt;std::endl;
    std::cout&lt;&lt;std::endl;
    }
}
void Biblioteka::IzlistajKnjige() const{
    for(auto it=knjige.begin(); it!=knjige.end(); it++){
    std::cout&lt;&lt;"Evidencijski broj: "&lt;&lt;it-&gt;first&lt;&lt;std::endl;
    std::cout&lt;&lt;"Naslov: "&lt;&lt;(it-&gt;second)-&gt;Knjiga::DajNaslov()&lt;&lt;std::endl;
    std::cout&lt;&lt;"Pisac: "&lt;&lt;(it-&gt;second)-&gt;Knjiga::DajAutora()&lt;&lt;std::endl;
    std::cout&lt;&lt;"Zanr: "&lt;&lt;(it-&gt;second)-&gt;Knjiga::DajZanr()&lt;&lt;std::endl;
    std::cout&lt;&lt;"Godina izdavanja: "&lt;&lt;(it-&gt;second)-&gt;Knjiga::DajGodinuIzdavanja()&lt;&lt;std::endl;
    }    
}
Biblioteka::~Biblioteka(){
    for(auto it=korisnici.begin(); it!=korisnici.end(); it++){
        delete it-&gt;second;
    }
    for(auto it=knjige.begin(); it!=knjige.end(); it++){
        delete it-&gt;second;
    }
}
   // Biblioteka(const Biblioteka &amp;b)=delete;
    //Biblioteka &amp;operator=(const Biblioteka &amp;b)=delete;
    //void RegistrirajNovogKorisnika
    
int main ()
{
	return 0;
</font>}</pre>
</body>
</html>
