<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z5/Z1/student6981.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z5/Z1/student2142.cpp<p></p><pre>
<a name="0"></a><font color="#FF0000"><a href="match222-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_72.gif"/></a>

/B16/17 (ZadaÄ‡a 5, Zadatak 1)
//Autotestovi by Eldar Kurtic (mail: ekurtic3@etf.unsa.ba)
//Za autotestove se obracati *iskljucivo* osobi koja ih pise
#include &lt;iostream&gt;
#include &lt;string&gt;
#include &lt;map&gt;
#include &lt;stdexcept&gt;

using std::cout;
using std::cin;
using std::endl;
using std::string;
using std::map;
using std::logic_error;
using std::make_pair;

struct Korisnik
{
    string ime;
    string prezime;
    string adresa;
    string telefon;
};

class Knjiga
{
    string naslov;
    string ime_pisca;
    string zanr;
    int godina_izdavanja;
    Korisnik *zaduzenje;
public:
    Knjiga(string naslov, string ime_pisca, string zanr, int godina_izdavanja) : naslov(naslov), ime_pisca(ime_pisca), zanr(zanr), godina_izdavanja(godina_izdavanja), zaduzenje(nullptr) {}
    string DajNaslov() const {return naslov;}
    string DajAutora() const {return ime_pisca;}
    string DajZanr() const {return zanr;}
    int DajGodinuIzdavanja() const {return godina_izdavanja;}
    Korisnik *DajKodKogaJe() const {return zaduzenje;}
    void ZaduziKnjigu(Korisnik &amp;neko) {zaduzenje=&amp;neko;}
    void RazduziKnjigu() {zaduzenje=nullptr;}
    bool DaLiJeZaduzena() {if(zaduzenje!=nullptr)return true; return false;}
};

class Biblioteka
{
    map&lt;int, Korisnik*&gt; korisnici;
    map&lt;int, Knjiga*&gt; knjige;
public :
    Biblioteka(){}
    Biblioteka(const Biblioteka &amp;biblioteka)
    Biblioteka(Biblioteka &amp;&amp;biblioteka)
    ~Biblioteka()
    Biblioteka &amp;operator=(const Biblioteka &amp;biblioteka)
    Biblioteka &amp;operator=(Biblioteka &amp;&amp;biblioteka)
    RegistrirajNovogKorisnika(int clanski_br, string ime, string prezime, string adresa, string telefon)
    {
        if(korisnici.find(clanski_br)!=korisnici.end()) throw logic_error("Korisnik vec postoji");
        Korisnik *pomocni_pok(new Korisnik{ime, prezime, adresa, telefon});
        korisnici.insert(make_pair(clanski_br, pomocni_pok));
    }
    RegistrirajNovuKnjigu(int br_knjige, string naslov, string ime_pisca, string zanr, int godina_izdavanja)
    {
        if(knjige.find(br_knjige)!=knjige.end()) throw logic_error("Knjiga vec postoji");
        void Knjiga *pomocni_pok(new Knjiga{naslov, ime_pisca, zanr, godina_izdavanja});
        void knjige.insert(make_pair(br_knjige, pomocni_pok));
    }
    map &amp;NadjiKorisnika(int clanski_br)
    {
        auto it(korisnici.find(clanski_br));
        if(it==korisnici.end()) throw logic_error("Korisnik nije nadjen");
        return *it;
    }
    map &amp;NadjiKnjigu(int br_knjige)
    {
        auto it(knjige.find(br_knjige));
        if(it==knjige.end()) throw logic_error("Knjiga nije nadjena");
        return *it;
    }
    void IzlistajKorisnike()
    {
        for(auto it=korisnici.begin(); it!=korisnici.end(); it++)
        {
            cout&lt;&lt;"Clanski broj: "&lt;&lt;korisnici-&gt;first&lt;&lt;endl
            &lt;&lt;"Ime i prezime: "&lt;&lt;it-&gt;second-&gt;ime&lt;&lt;" "&lt;&lt;it-&gt;second.prezime&lt;&lt;endl;
            &lt;&lt;"Adresa: "&lt;&lt;it-&gt;second-&gt;adresa&lt;&lt;endl;
            &lt;&lt;"Broj telefona: "&lt;&lt;it-&gt;second-&gt;telefon&lt;&lt;endl&lt;&lt;endl;
        }
    }
    void IzlistajKnjige()
    {
        for(auto it=knjige.begin(); it!=knjige.end(); it++)
        {
            cout&lt;&lt;"Evidencijski broj: "&lt;&lt;it-&gt;first&lt;&lt;endl
            &lt;&lt;"Naslov: "&lt;&lt;it-&gt;second-&gt;DajNaslov()&lt;&lt;endl
            &lt;&lt;"Pisac: "&lt;&lt;it-&gt;second-&gt;DajAutora()&lt;&lt;endl
</font><a name="1"></a><font color="#00FF00"><a href="match222-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_24.gif"/></a>

            &lt;&lt;"Zanr: "&lt;&lt;it-&gt;second-&gt;DajZanr()&lt;&lt;endl
            &lt;&lt;"Godina izdavanja: "&lt;&lt;it-&gt;second-&gt;DajGodinuIzdavanja()&lt;&lt;endl&lt;&lt;endl;
            if(it-&gt;second-&gt;DaLiJeZaduzena())cout&lt;&lt;"Zaduzena kod korisnika: "&lt;&lt;it-&gt;second-&gt;DajKodKogaJe();
        }
    }
    void ZaduziKnjigu(int br_knjige, int clanski_br)
    {
        if(knjige.find(br_knjige)==knjige.end()) throw logic_error("Knjiga nije nadjena");
        if(korisnici.find(clanski_br)==korisnici.end()) throw logic_error("Korisnik nije nadjen");
        if(knjige-&gt;second-&gt;DaLiJeZaduzena()) throw logic_error("Knjiga vec zaduzena");
        knjige-&gt;second-&gt;DajKodKogaJe()=korisnici-&gt;second
    }
    void RazduziKnjigu(int br_knjige)
    {
        if(knjige.find(br_knjige)==knjige.end()) throw logic_error("Knjiga nije nadjena");
        if(knjige-&gt;second-&gt;DaLiJeZaduzena()==false)throw logic_error("Knjiga nije zaduzena");
        delete knjige-&gt;second-&gt;DajKodKogaJe();
        knjige-&gt;second-&gt;DajKodKogaJe()=nullptr;
    }
    void PrikaziZaduzenja(int clanski_br)
    {
        if(korisnici.find(clanski_br)==korisnici.end()) throw logic_error("Korisnik nije nadjen");
        
    }
};

int main ()
{
	return 0;
</font>}</pre>
</body>
</html>
