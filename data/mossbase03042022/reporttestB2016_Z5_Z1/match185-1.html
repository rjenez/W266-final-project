<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z5/Z1/student3421.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z5/Z1/student3715.cpp<p></p><pre>
<a name="1"></a><font color="#00FF00"><a href="match185-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_16.gif"/></a>

/B16/17 (Zadaća 5, Zadatak 1)
//Autotestovi by Eldar Kurtic (mail: ekurtic3@etf.unsa.ba)
//Za autotestove se obracati *iskljucivo* osobi koja ih pise
#include &lt;iostream&gt;
#include &lt;string&gt;
#include &lt;map&gt;
#include &lt;stdexcept&gt;

struct Korisnik {
    std::string ime, prezime, adresa, telefon;
    Korisnik(std::string Ime, std::string Prezime, std::string Adresa, std::string Tel)
    {
        ime = Ime;
        prezime = Prezime;
        adresa = Adresa;
        telefon = Tel;
    }
    Korisnik(Korisnik &amp;neki)
    {
        ime = neki.ime;
        prezime = neki.prezime;
        adresa = neki.adresa;
        telefon = neki.telefon;
    }
    
};

class Knjiga
{
    std::string naslov_knjige, ime_pisca, zanr;
    int god_izdavanja;
    Korisnik *duznik {nullptr};
public:
    Knjiga(std::string a, std::string b, std::string c, int god) {
        naslov_knjige = a;
        ime_pisca = b;
        zanr = c;
        god_izdavanja = god;
    }
    std::string DajNaslov() const {
        return naslov_knjige;
    }
    std::string DajAutora() const {
</font>        return ime_pisca;
    }
    std::string DajZanr() const {
        return zanr;
    }
    int DajGodinuIzdavanja() const {
        return god_izdavanja;
    }
<a name="0"></a><font color="#FF0000"><a href="match185-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_80.gif"/></a>

    Korisnik* DajKodKogaJe() const {
        return duznik;
    }
    void ZaduziKnjigu(Korisnik &amp;covjek) {//PARAMETAR REFERENCA A ONA POKAZUJE NA ONOGA KOJI ZADUZUJE KNJIGU
        duznik = &amp;covjek;                //DA LI STAVITI DA POKAZIVAC DUZNIK POKAZUJE NA DEREFERENCIRANOG COVJEKA???
    }
    void RazduziKnjigu() {
        duznik = nullptr;
    }
    bool DaLiJeZaduzena() {
        if(duznik == nullptr)
            return false;
        return true;
    }
};

class Biblioteka
{
    std::map&lt;int, Korisnik*&gt; korisnici;
    std::map&lt;int, Knjiga*&gt; knjige;
public:
    Biblioteka() {
     //   korisnici.insert(std::make_pair(0,new Korisnik*));
    };
    Biblioteka(const Biblioteka &amp;bejb);
    Biblioteka &amp;operator = (const Biblioteka &amp;bibl);
    //TILDA JE ALTGR + 1
    ~Biblioteka() {//TREBA IZBRISATI SVE DINAMIČKI ALOCIRANE KORISNIKE I KNJIGE U MAPAMA
        for(auto i = korisnici.begin(); i != korisnici.end(); ++i)
            delete i-&gt;second;
        for(auto i = knjige.begin(); i != knjige.end(); ++i)
            delete i-&gt;second;
    }
    void RegistrirajNovogKorisnika(int cl_br, std::string ime, std::string prezime, std::string adresa, int telefon);
    void RegistrirajNovuKnjigu(int br_knjige, std::string naslov, std::string ime_autora, std::string zanrr, int godina_iz);
    Korisnik &amp;NadjiKorisnika(int clanski_broj);
    Knjiga &amp;NadjiKnjigu(int broj_knjige);
    void IzlistajKorisnike() const;
    void IzlistajKnjige() const;
    void ZaduziKnjigu(int broj_knjige, int broj_korisnika);
    void RazduziKnjigu(int broj_knjige);
    void PrikaziZaduzenja(int broj_korisnika) const;
    
};

int main ()
{
    
    return 0;
}

void Biblioteka::RegistrirajNovogKorisnika(int cl_br, std::string ime, std::string prezime, std::string adresa, std::string telefon) {
    if(korisnici.find(cl_br) == korisnici.end())
    {
       auto *pok = new Korisnik(ime, prezime, adresa, telefon);
       korisnici.insert(std::pair&lt;int, Korisnik*&gt;(cl_br, pok));
    } 
    else
    {
        throw std::logic_error("Korisnik vec postoji");
    }
       
}
Korisnik &amp;Biblioteka::NadjiKorisnika(int clanski_broj) {
    if(!korisnici.count(clanski_broj))
       throw std::logic_error("Korisnik nije nadjen");
    
    auto it(korisnici.find(clanski_broj));
    return *it-&gt;second;

}
void Biblioteka::IzlistajKorisnike() const{
    for(auto it = korisnici.begin(); it != korisnici.end(); it++)
    {
        std::cout &lt;&lt; "Clanski broj: " &lt;&lt; it-&gt;first
                  &lt;&lt; "\nIme i prezime: " &lt;&lt; (it-&gt;second).Knjiga::ime &lt;&lt; " " &lt;&lt; (it-&gt;second).Knjiga::prezime
                  &lt;&lt; "\nAdresa: " &lt;&lt; (it-&gt;second).Knjiga.adresa
                  &lt;&lt; "\nBroj telefona: " &lt;&lt; (it-&gt;second).Knjiga.telefon
                  &lt;&lt;std::endl;
    }
}
void IzlistajKnjige() {
    for(auto it = knjige.begin(); it != knjige.end(); it++) 
    {
        std::cout &lt;&lt; "Evidencijski broj: " &lt;&lt; it-&gt;first
                  &lt;&lt; "\nNaslov: " &lt;&lt; (it-&gt;second).Korisnik.DajNaslov()
                  &lt;&lt; "\nPisac: " &lt;&lt; (it-&gt;second).Korisnik.DajAutora()
                  &lt;&lt;"\nZanr: " &lt;&lt; (it-&gt;second).Korisnik.DajZanr()
                  &lt;&lt; "\nGodina izdavanja: " &lt;&lt; (it-&gt;second).Korisnik.DajGodinuIzdavanja();
        if((it-&gt;second).Korisnik.DaLiJeZaduzena())
        {
           auto pok((it-&gt;second).Korisnik.DajKodKogaJe());
           std::cout &lt;&lt; "\nZaduzena kod korisnika: "
                     &lt;&lt; pok.ime &lt;&lt; " " &lt;&lt; pok.prezime;
        }            
        std::cout &lt;&lt; std::endl;
    }
}

void RegistrirajNovuKnjigu(int ev_br, std::string naslov, std::string ime_autora, std::string zanrr, int godina) {
    if(knjige.find(ev_br) == knjige.end())
    {
        Knjiga *pok = new Knjiga(naslov, ime_autora, zanrr, godina);
        knjige.insert(std::pair&lt;int, Knjiga*&gt;(ev_br, pok));
    }
    else
    {
        throw std::logic_error("Knjiga vec postoji");
    }
}
Knjiga &amp;NadjiKnjigu(int broj_knjige) {
    if(!knjige.count(broj_knjige))
       throw std::logic_error("Korisnik nije nadjen");
    return *knjige.find(broj_knjige)-&gt;second;   
}
void ZaduziKnjigu(int broj_knjige, int broj_korisnika) {
    if(!knjige.count(broj_knjige))
       throw std::logic_error("Knjiga nije nadjena");
    if(!korisnici.count(broj_korisnika))
       throw std::logic_error("Korisnik nije nadjen");
    if(((*(knjige.find(broj_knjige))).second)-&gt;DaLiJeZaduzena() == true) 
       throw std::logic_error("Knjiga vec zaduzena");
    
    ((*(knjige.find(broj_knjige))).second)-&gt;ZaduziKnjigu(*(korisnici.find(broj_korisnika)-&gt;second));   
}

void RazduziKnjigu(int broj_knjige)
{
    auto i = knjige.find(broj_knjige);
    if(!knjige.count(broj_knjige))
       throw std::logic_error("Knjiga nije nadjena");
    
    if(((*i).second)-&gt;DaLiJeZaduzena() == false)
      throw std::logic_error("Knjiga nije zaduzena");
    ((*i).second)-&gt;Knjiga.RazduziKnjigu();  
</font>       
       
}







</pre>
</body>
</html>
