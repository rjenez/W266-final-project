<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z5/Z1/student6369.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z5/Z1/student6369.cpp<p></p><pre>
#include &lt;iostream&gt;
#include &lt;stdexcept&gt;
#include &lt;iomanip&gt;

<a name="0"></a><font color="#FF0000"><a href="match189-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_99.gif"/></a>

using std::cout;

class Sat{
	int sati,minute,sekunde;
  public: //Interfejs
    Sat() { 
      sati=0;
      minute=0;
      sekunde=0;
    }
    Sat(int sati, int minute, int sekunde){PostaviNormalizirano(sati,minute,sekunde);}
    static bool DaLiJeIspravno(int sati,int minute,int sekunde){
    	if(sati&lt;0 or sati&gt;23 or minute &lt;0 or minute&gt;59 or sekunde &lt; 0 or sekunde &gt;59) return false;
    	return true;
    }
    
    void Postavi(int sati, int minute, int sekunde){
      if(!DaLiJeIspravno(sati,minute,sekunde)) throw std::domain_error("Neispravno vrijeme");
      Sat::sati=sati; Sat::minute=minute; Sat::sekunde=sekunde;
    }
    Sat&amp; operator ++();
    Sat&amp; operator --();
    Sat operator ++(int);
    Sat operator --(int);
    Sat&amp; operator +=(int sekunde);
    Sat&amp; operator -=(int sekunde);
    
    
    
    void PostaviNormalizirano(int sati, int minute, int sekunde){
      Sat::sati=sati; Sat::minute=minute; Sat::sekunde=sekunde;
      this-&gt;operator --(); //Ove dvije funkcije ce se "ponistiti" a pri tome ce srediti sve negativne brojeve i izvrsit ce "prelivanje"
      this-&gt;operator ++();
    }
    
    
    friend std::ostream&amp; operator &lt;&lt;(std::ostream &amp;tok,const Sat&amp; sat) {
      tok&lt;&lt;std::setfill('0')&lt;&lt;std::setw(2)&lt;&lt;sat.DajSate()&lt;&lt;":"&lt;&lt;std::setw(2)&lt;&lt;sat.DajMinute()&lt;&lt;":"&lt;&lt;std::setw(2)&lt;&lt;sat.DajSekunde(); 
      return tok;
      
    }
    
    
    
    int DajSate() const { return sati; }
    int DajMinute() const { return minute; }
    int DajSekunde() const { return sekunde; }
    friend int operator -(const Sat&amp; sat1, const Sat&amp; sat2);
    friend Sat operator -(const Sat&amp; sat1, int n);
    friend Sat operator +(const Sat&amp; sat1, int n);
};

Sat&amp; Sat::operator ++(){ //Sljedeci
      sekunde ++;
      if(sekunde&gt;59){
        minute+=sekunde/60;
        sekunde%=60;
      }
      if(minute&gt;59){
        sati+=minute/60;
        minute%=60;
      }
      if(sati&gt;23)
        sati%=24;
        
      return *this;
}

Sat Sat::operator++(int){
    Sat sat(*this);
    this-&gt;operator ++();
    return sat;
}

Sat&amp; Sat::operator --(){ //Prethodni
      sekunde--;
      if(sekunde&lt;0){
        minute--; //zbog minusa vec treba jednom smanjit
        minute+=sekunde/60;
        sekunde=60+sekunde%60;
      }
      if(minute&lt;0){
        sati--; //zbog minusa vec treba jednom smanjit
        sati+=minute/60;
        minute=60+minute%60;
      }
      if(sati&lt;0)
        sati=24+sati%24;
          
      return *this;
}
    
Sat Sat::operator--(int){
    Sat sat(*this);
    this-&gt;operator --();
    return sat;
}
    
Sat&amp; Sat::operator +=(int sekunde){ //PomjeriZa

  if(sekunde&lt;0){
    for(int i=0; i&lt;abs(sekunde); i++)
      this-&gt;operator --();
  }
  
  else{
    for(int i=0; i&lt;sekunde; i++)
      this-&gt;operator ++();
  }
  return *this;
  
}

Sat&amp; Sat::operator -=(int sekunde){
    this-&gt;operator+=(-sekunde);
    return *this;
}

int operator -(const Sat&amp; sat1, const Sat&amp; sat2){
  int prve_sekunde ( sat1.DajSekunde()+ sat1.DajMinute()*60 + sat1.DajSate()*3600 );
  int druge_sekunde ( sat2.DajSekunde() + sat2.DajMinute()*60 + sat2.DajSate() * 3600);
  return prve_sekunde-druge_sekunde;
}

Sat operator -(const Sat&amp; sat1, int n){
    Sat rez(sat1);
    rez-=n;
    return rez;
}
Sat operator +(const Sat&amp; sat2, int n){
    Sat rez(sat2);
    rez+=n;
    return rez;
}

int main ()
{
  Sat sat_sa_pijace;
  Sat neki_sat(10,20,30);
  try{
    sat_sa_pijace.Postavi(10,12,42);
    cout&lt;&lt;sat_sa_pijace;
    std::cout&lt;&lt;std::endl;
    sat_sa_pijace.PostaviNormalizirano(213,-212,530);
    cout&lt;&lt;sat_sa_pijace;
    std::cout&lt;&lt;std::endl;
    std::cout&lt;&lt;"Sati: "&lt;&lt;sat_sa_pijace.DajSate()&lt;&lt;std::endl&lt;&lt;"Minute: "&lt;&lt;sat_sa_pijace.DajMinute()&lt;&lt;std::endl&lt;&lt;"Sekunde: "&lt;&lt;sat_sa_pijace.DajSekunde()&lt;&lt;std::endl;
    ++sat_sa_pijace;;
    cout&lt;&lt;sat_sa_pijace;
    std::cout&lt;&lt;std::endl;
    ++sat_sa_pijace;
    cout&lt;&lt;sat_sa_pijace;
    std::cout&lt;&lt;std::endl;
    sat_sa_pijace+=215;
    cout&lt;&lt;sat_sa_pijace;
    std::cout&lt;&lt;std::endl;
    Sat kofa_original;
    kofa_original.Postavi(10,5,0);
    std::cout&lt;&lt;sat_sa_pijace-kofa_original&lt;&lt;std::endl;
    std::cout&lt;&lt;sat_sa_pijace-kofa_original&lt;&lt;std::endl&lt;&lt;kofa_original-sat_sa_pijace&lt;&lt;std::endl;
    kofa_original.Postavi(-10,2,3);
  }
  catch(std::domain_error e){
    std::cout&lt;&lt;e.what()&lt;&lt;std::endl;
  }
	return 0;
</font>}</pre>
</body>
</html>
