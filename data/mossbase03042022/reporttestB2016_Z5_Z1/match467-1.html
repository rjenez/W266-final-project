<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z5/Z1/student4736.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z5/Z1/student9476.cpp<p></p><pre>
/B16/17 (ZadaÄ‡a 5, Zadatak 1)
//Autotestovi by Eldar Kurtic (mail: ekurtic3@etf.unsa.ba)
//Za autotestove se obracati *iskljucivo* osobi koja ih pise
#include &lt;iostream&gt;
#include &lt;string&gt;
#include &lt;map&gt;
#include &lt;stdexcept&gt;
#include &lt;new&gt;

using std::string;
struct Korisnik {
    string ime, prezime, adresa, telefon;
    
};
class Knjiga{
    friend class Biblioteka;
    string naslov, ime_pisca, zanr;
    int god_izdavanja;
    Korisnik* zaduzena;
public:
    Knjiga(string title, string author, string genre, int published) :naslov(title), ime_pisca(author), zanr(genre), god_izdavanja(published), zaduzena(nullptr) {};
    string DajNaslov() const { return naslov;}
    string DajAutora() const {return ime_pisca;}
    string DajZanr() const {return zanr;}
    int DajGodinuIzdavanja() const {return god_izdavanja;}
    Korisnik* DajKodKogaJe() const {return zaduzena;}
    void ZaduziKnjigu( Korisnik &amp;k){ zaduzena=&amp;k;}
    void RazduziKnjigu() {zaduzena=nullptr;}
    bool DaLiJeZaduzena()
        {
            if(zaduzena!=nullptr) return true;
            return false;
        }
};
    class Biblioteka{
<a name="0"></a><font color="#FF0000"><a href="match467-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_13.gif"/></a>

        std::map&lt;int, Korisnik*&gt; korisnici;
        std::map&lt;int, Knjiga*&gt; knjige;
    public:
    Biblioteka(){};
    Biblioteka(Biblioteka &amp;b)
    {  
        for(auto x: b.korisnici) korisnici.insert(std::make_pair(x.first, new Korisnik(*x.second)));
        for(auto y: b.knjige) knjige.insert(std::make_pair(y.first, new Knjiga(*y.second)));
    }
    Biblioteka(Biblioteka &amp;&amp;b)
    {
        for(auto x: b.korisnici) korisnici.insert(std::make_pair(x.first, x.second));
        for(auto y: b.knjige) knjige.insert(std::make_pair(y.first, y.second));
</font>    }
    
   ~Biblioteka() 
   {
       for(auto x: korisnici) delete x.second;
       for(auto y: knjige) delete y.second;
   }
       
      void RegistrirajNovogKorisnika(int ID, string ime_k, string prezime_k, string add, string tel)
       {
           for(auto x: korisnici)
           {
               if(x.first==ID) throw std::logic_error ("Korisnik vec postoji");
           }
           
           Korisnik*k=new Korisnik;
          (*k).ime=ime_k; (*k).prezime=prezime_k; (*k).adresa=add; (*k).telefon=tel;
           
          korisnici.insert(std::make_pair(ID, k ));
           
       }
      void RegistrirajNovuKnjigu(int ID, string title, string author, string genre, int published)
        {
            for(auto x: knjige)
            {
                if(x.first==ID) throw std::logic_error("Knjiga vec postoji");
            }
            Knjiga k(title, author, genre, published);
            knjige.insert(std::make_pair(ID,new Knjiga(k)));
            
        }
<a name="3"></a><font color="#00FFFF"><a href="match467-0.html#3" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_6.gif"/></a>

        Knjiga &amp;NadjiKnjigu(int ID)
        {   
            for(auto x: knjige)
            {   
                
                if(x.first==ID) return *x.second;
            }
            throw std::logic_error("Knjiga nije nadjena");
        }
        Korisnik &amp;NadjiKorisnika(int ID)
        {
            for(auto x: korisnici)
            {
                if(x.first==ID) return *x.second;
            }
            throw(std::logic_error("Korisnik nije nadjen"));
        }
      void IzlistajKorisnike() const
</font>      {
<a name="2"></a><font color="#0000FF"><a href="match467-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_6.gif"/></a>

          for(auto x: korisnici)
          {
              std::cout&lt;&lt;"Clanski broj: " &lt;&lt;x.first&lt;&lt;std::endl;
              std::cout&lt;&lt;"Ime i prezime: "&lt;&lt;x.second-&gt;ime&lt;&lt;" "&lt;&lt;x.second-&gt;prezime&lt;&lt;std::endl;
              std::cout&lt;&lt;"Adresa: "&lt;&lt;x.second-&gt;adresa&lt;&lt;std::endl;
</font>              std::cout&lt;&lt;"Broj telefona: "&lt;&lt;x.second-&gt;telefon&lt;&lt;std::endl;
          }
      }
      void IzlistajKnjige() const
      {
<a name="4"></a><font color="#FF00FF"><a href="match467-0.html#4" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_4.gif"/></a>

          for(auto x: knjige)
          {
              std::cout&lt;&lt;"Evidencijski broj: "&lt;&lt;x.first&lt;&lt;std::endl;
              std::cout&lt;&lt;"Naslov: "&lt;&lt;x.second-&gt;DajNaslov()&lt;&lt;std::endl;
              std::cout&lt;&lt;"Pisac: "&lt;&lt;x.second-&gt;DajAutora()&lt;&lt;std::endl;
</font><a name="1"></a><font color="#00FF00"><a href="match467-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_9.gif"/></a>

              std::cout&lt;&lt;"Zanr: "&lt;&lt;x.second-&gt;DajZanr()&lt;&lt;std::endl;
              std::cout&lt;&lt;"Godina izdavanja: "&lt;&lt;x.second-&gt;DajGodinuIzdavanja()&lt;&lt;std::endl;
              if(x.second-&gt;DajKodKogaJe()!=nullptr)
              {
                  std::cout&lt;&lt;"Zaduzena kod korisnika: "&lt;&lt;(x.second-&gt;DajKodKogaJe())-&gt;ime&lt;&lt;" "&lt;&lt;(x.second-&gt;DajKodKogaJe())-&gt;prezime&lt;&lt;std::endl;
              }
              std::cout&lt;&lt;std::endl;
          }
      }
       
       void ZaduziKnjigu(int book_ID, int user_ID)
</font>       {
           if(!knjige.count(book_ID)) throw std::logic_error("Knjiga nije nadjena");
           if(!korisnici.count(user_ID)) throw std::logic_error("Korisnik nije nadjen");
           for(auto x: knjige)
           {
               if(x.first==book_ID)
               {
                   if(x.second-&gt;zaduzena!=nullptr) throw std::logic_error("Knjiga vec zaduzena");
                    else
                    {
                        for(auto y:korisnici)
                        {
                            if(y.first==user_ID)
                            {
                               x.second-&gt;zaduzena=y.second;
                            }
                        }
                    }
                   break;
               }
           }
            
           
       }
       
       
      void RazduziKnjigu(int book_ID)
       {
           if(!knjige.count(book_ID)) throw std::logic_error("Knjiga nije nadjena");
           for(auto x: knjige)
           {
               if(x.first==book_ID)
               {
                   if(x.second-&gt;zaduzena!=nullptr)
                    
                        for(auto y:korisnici)
                        {
                            if(y.second==x.second-&gt;zaduzena)
                            {
                               x.second-&gt;zaduzena=nullptr;
                            }
                        }
                    
                   break;
               }
           }
            
       }
    /*   void PrikaziZaduzenja(int user_ID)
       {
          for(auto x:knjige)
          {
            for(auto y:korisnici)
            {
               if(y==user_ID)
               {
                   if(x.second-&gt;zaduzena==y)
                   
               }
            }
          }
       }
       
       */
      
       
    };

int main ()
{
	return 0;
}</pre>
</body>
</html>
