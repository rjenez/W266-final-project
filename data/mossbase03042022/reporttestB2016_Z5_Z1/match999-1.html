<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z5/Z1/student9385.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z5/Z1/student4430.cpp<p></p><pre>
<a name="2"></a><font color="#0000FF"><a href="match999-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_3.gif"/></a>

/B16/17 (ZadaÄ‡a 5, Zadatak 1)
//Autotestovi by Eldar Kurtic (mail: ekurtic3@etf.unsa.ba)
//Za autotestove se obracati *iskljucivo* osobi koja ih pise
#include &lt;iostream&gt;
#include &lt;string&gt;
#include &lt;map&gt;
#include &lt;stdexcept&gt;
#include &lt;algorithm&gt;
using namespace std; 
struct Korisnik{
  string ime, prezime, adresa, telefon;   
};
class Knjiga{
</font>    string naslov, ime_pisca, zanr; 
    int godina_izdavanja; 
    Korisnik *zaduzenje; 
public:
<a name="1"></a><font color="#00FF00"><a href="match999-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_6.gif"/></a>

    Knjiga(string naslov, string ime_pisca, string zanr, int godina_izdavanja){
        Knjiga::naslov=naslov; 
        Knjiga::ime_pisca=ime_pisca; 
        Knjiga::zanr=zanr; 
        Knjiga::godina_izdavanja=godina_izdavanja; 
        zaduzenje=nullptr; 
    }
    string DajNaslov() const {
        return naslov; 
    }
    string DajAutora() const {
        return ime_pisca; 
    }
    string DajZanr() const {
        return zanr; 
    }
    int DajGodinuIzdavanja() const {
        return godina_izdavanja; 
    }
    Korisnik* DajKodKogaJe() const {
</font>        return zaduzenje; 
    }
    void ZaduziKnjigu(Korisnik &amp;korisnik){
        zaduzenje=&amp;korisnik; 
    }
    void RazduziKnjigu(){
        zaduzenje=nullptr; 
    }
    bool DaLiJeZaduzena() const {
        if(zaduzenje==nullptr) return false; 
        return true; 
    }
    
};
class Biblioteka{
	map&lt;int, Korisnik*&gt; korisnici; 
	map&lt;int, Knjiga*&gt; knjige; 
public:
	Biblioteka(){}
	// kopirajuci konstrktor
	Biblioteka(const Biblioteka &amp;bib){
		
		//copy(bib.korisnici.begin(), bib.korisnici.end(), korisnici.begin()); 
		//copy(bib.knjige.begin(), bib.knjige.end(), knjige.begin()); 
	}
	// pomjerajuci konstrukor
	Biblioteka(Biblioteka &amp;&amp;bib) : korisnici(bib.korisnici), knjige(bib.knjige) {
		for(auto i=bib.korisnici.begin(); i!=bib.korisnici.end(); i++){
			i-&gt;second=nullptr; 
		}
		for(auto i=bib.knjige.begin(); i!=bib.knjige.end(); i++){
			i-&gt;second=nullptr; 
		}
	} 
	void RegistrirajNovogKorisnika(int clanski_broj, string ime, string prezime, string adresa, string broj_telefona){
<a name="5"></a><font color="#FF0000"><a href="match999-0.html#5" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_2.gif"/></a>

		if(korisnici.count(clanski_broj)) throw logic_error ("Korisnik vec postoji"); 
		auto novi=new Korisnik; 
		novi-&gt;ime=ime; 
		novi-&gt;prezime=prezime; 
		novi-&gt;adresa=adresa; 
		novi-&gt;telefon=broj_telefona; 
</font>		korisnici.insert(make_pair(clanski_broj, novi)); 
	}
	void RegistrirajNovuKnjigu(int evidencijski_broj, string naslov, string pisac, string zanr, int godina){
		if(knjige.count(evidencijski_broj)) throw logic_error ("Knjiga vec postoji"); 
		auto nova=new Knjiga(naslov, pisac, zanr, godina); 
		knjige.insert(make_pair(evidencijski_broj, nova)); 
	}
	~Biblioteka(){
		for(auto i=korisnici.begin(); i!=korisnici.end(); i++) delete i-&gt;second;  
		for(auto i=knjige.begin(); i!=knjige.end(); i++) delete i-&gt;second;
	}
	Korisnik&amp; NadjiKorisnika(int clanski_broj) const{
		if(!korisnici.count(clanski_broj)) throw logic_error ("Korisnik nije nadjen"); 
		return *(korisnici.find(clanski_broj))-&gt;second; 
		
	}
	Knjiga&amp; NadjiKnjigu(int evidencijski_broj) const {
		if(!knjige.count(evidencijski_broj)) throw logic_error ("Knjiga nije nadjena"); 
		return *(knjige.find(evidencijski_broj))-&gt;second; 
	}
	void ZaduziKnjigu(int evidencijski_broj, int clanski_broj){
		if(!knjige.count(evidencijski_broj)) throw logic_error ("Knjiga nije nadjena");
		if(!korisnici.count(clanski_broj)) throw logic_error ("Korisnik nije nadjen"); 
		auto knjiga=knjige.find(evidencijski_broj);
		auto korisnik=korisnici.find(clanski_broj); 
		knjiga-&gt;second-&gt;Knjiga::ZaduziKnjigu(*(korisnik-&gt;second)); 
	}
	void RazduziKnjigu(int evidencijski_broj){
		if(!knjige.count(evidencijski_broj)) throw logic_error ("Knjiga nije nadjena");
		auto knjiga=knjige.find(evidencijski_broj); 
		if(knjiga-&gt;second-&gt;DaLiJeZaduzena()==false) throw logic_error("Knjiga nije zaduzena"); 
		knjiga-&gt;second-&gt;RazduziKnjigu(); 
	}
	void IzlistajKorisnike() const {
		for(auto i=korisnici.begin(); i!=korisnici.end(); i++){
<a name="0"></a><font color="#FF0000"><a href="match999-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_9.gif"/></a>

			cout &lt;&lt; "Clanski broj: " &lt;&lt; i-&gt;first &lt;&lt; endl; 
			cout &lt;&lt; "Ime i prezime: " &lt;&lt; (i-&gt;second)-&gt;ime &lt;&lt; " " &lt;&lt; (i-&gt;second)-&gt;prezime &lt;&lt; endl; 
			cout &lt;&lt; "Adresa: " &lt;&lt; (i-&gt;second)-&gt;adresa &lt;&lt; endl; 
			cout &lt;&lt; "Broj telefona: " &lt;&lt; (i-&gt;second)-&gt;telefon &lt;&lt; endl; 
		}
	}
	void IzlistajKnjige() const {
		for(auto i=knjige.begin(); i!=knjige.end(); i++){
			cout &lt;&lt; "Evidencijski broj: " &lt;&lt; i-&gt;first &lt;&lt; endl; 
</font>			cout &lt;&lt; "Naslov: " &lt;&lt; (i-&gt;second)-&gt;DajNaslov() &lt;&lt; endl; 
			cout &lt;&lt; "Pisac: " &lt;&lt; (i-&gt;second)-&gt;DajAutora() &lt;&lt; endl; 
<a name="4"></a><font color="#FF00FF"><a href="match999-0.html#4" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_2.gif"/></a>

			cout &lt;&lt; "Zanr: " &lt;&lt; (i-&gt;second)-&gt;DajZanr() &lt;&lt; endl; 
			cout &lt;&lt; "Godina izdavanja: " &lt;&lt; (i-&gt;second)-&gt;DajGodinuIzdavanja() &lt;&lt; endl; 
			if(i-&gt;second-&gt;DajKodKogaJe()!=nullptr){
</font>				cout &lt;&lt; "Zaduzena kod korisnika: " &lt;&lt; i-&gt;second-&gt;DajKodKogaJe()-&gt;ime &lt;&lt; " " &lt;&lt; i-&gt;second-&gt;DajKodKogaJe()-&gt;prezime; 
			}
		}
	}
	void PrikaziZaduzenja(int clanski_broj) const {
		if(!korisnici.count(clanski_broj)) throw logic_error ("Korisnik nije nadjen"); 
		int brojac=0; 
		for(auto i=knjige.begin(); i!=knjige.end(); i++){
			if(i-&gt;second-&gt;DajKodKogaJe()==(korisnici.find(clanski_broj)-&gt;second)){
				brojac++; 
				cout &lt;&lt; "Evidencijski broj: " &lt;&lt; i-&gt;first &lt;&lt; endl; 
				cout &lt;&lt; "Naslov: " &lt;&lt; (i-&gt;second)-&gt;DajNaslov() &lt;&lt; endl; 
				cout &lt;&lt; "Pisac: " &lt;&lt; (i-&gt;second)-&gt;DajAutora() &lt;&lt; endl; 
<a name="3"></a><font color="#00FFFF"><a href="match999-0.html#3" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_3.gif"/></a>

				cout &lt;&lt; "Zanr: " &lt;&lt; (i-&gt;second)-&gt;DajZanr() &lt;&lt; endl; 
				cout &lt;&lt; "Godina izdavanja: " &lt;&lt; (i-&gt;second)-&gt;DajGodinuIzdavanja() &lt;&lt; endl; 
			}
		}
		if(brojac==0) cout &lt;&lt; "Nema zaduzenja za tog korisnika!" &lt;&lt; endl; 
</font>	}
	
}; 
int main ()
{
Biblioteka bib8;
bib8.RegistrirajNovogKorisnika(1, "Niko", "Nikic", "Zmaja od Bosne bb", "123 456");
bib8.RegistrirajNovogKorisnika(2, "emina", "catic", "brace bezdrob bb", "364 379");
bib8.RegistrirajNovuKnjigu(1, "Vlak u snijegu2", "Mato Lovrak2", "Roman2", 1941);
bib8.RegistrirajNovuKnjigu(2, "Vlak u snijegu", "Mato Lovrak", "Roman", 1931);
bib8.ZaduziKnjigu(2, 2);
try{
 
bib8.PrikaziZaduzenja(1); cout &lt;&lt; endl; 
 bib8.PrikaziZaduzenja(2);  cout &lt;&lt; endl; 
bib8.PrikaziZaduzenja(3); cout &lt;&lt; endl; 
}
catch(logic_error poruka){
	cout &lt;&lt; poruka.what() &lt;&lt; endl; 
}


	return 0;
}</pre>
</body>
</html>
