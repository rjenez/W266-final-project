<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/A2016/Z4/Z1/student2155.c</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/A2016/Z4/Z1/student1317.c<p></p><pre>
#include &lt;stdio.h&gt;

/* Vraca ukupan broj rijeci u stringu s, popunjava adrese rijeci
i broj slova svake rijeci */
int histogram(char* s, char** adr_rij, int* br_slo)
{
    int nije_slovo=1, broj_rij=0, i=0;

    while(*s!='\0')
    {
        if(!((*s&gt;='A' &amp;&amp; *s&lt;='Z') || (*s&gt;='a' &amp;&amp; *s&lt;='z')))
        {
            nije_slovo=1;
            br_slo[broj_rij]=0;
        }
        else if(nije_slovo==1)
        {
            nije_slovo=0;
            if(broj_rij==0)
            {
                (*adr_rij)=s;
                adr_rij++;
            }
            if(broj_rij&gt;0) 
            {
                br_slo[broj_rij-1]=i;
                i=0;
                (*adr_rij)=s;
                adr_rij++;
            }
            broj_rij++;
        }
        if((*s&gt;='A' &amp;&amp; *s&lt;='Z') || (*s&gt;='a' &amp;&amp; *s&lt;='z')) i++;
        s++;
        if(*s=='\0')
        {
            br_slo[broj_rij-1]=i;
            i=0;
        }
    }
    return broj_rij;
}
/* Vraca broj pojavljivanja rijeci oznacene pokazivacem s2 u stringu na koji pokazuje s1 */
int broji_rijeci(char* s1, char* s2)
{
    int br_poj_r=0, pocetak=1;
    char* p=s1;
<a name="1"></a><font color="#00FF00"><a href="match261-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_2.gif"/></a>

    char* q=s2;
    while(*s1!='\0')
    {
        while(!((*s1&gt;='A' &amp;&amp; *s1&lt;='Z') || (*s1&gt;='a' &amp;&amp; *s1&lt;='z'))) 
</font>        {
            s1++;
            pocetak=0;
        }
        p=s1;
        q=s2;
        while(*p==*q || *p==*q+32 || *p+32==*q)
        {
            p++;
            q++;
<a name="0"></a><font color="#FF0000"><a href="match261-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_3.gif"/></a>

            if(pocetak==1 &amp;&amp; *q=='\0' &amp;&amp; (!((*p&gt;='A' &amp;&amp; *p&lt;='Z') || (*p&gt;='a' &amp;&amp; *p&lt;='z')) || *p=='\0'))
</font>            {
                br_poj_r++;
                break;
            }
            if(pocetak==0 &amp;&amp; *q=='\0' &amp;&amp; (!((*p&gt;='A' &amp;&amp; *p&lt;='Z') || (*p&gt;='a' &amp;&amp; *p&lt;='z')) || *p=='\0') &amp;&amp; !((*(s1-1)&gt;='A' &amp;&amp; *(s1-1)&lt;='Z') || (*(s1-1)&gt;='a' &amp;&amp; *(s1-1)&lt;='z')))  
            {
                br_poj_r++;
                break;
            }
        }
        s1=p;
        if(*s1!='\0') 
        {
            s1++;
            pocetak=0;
        }
    }
    return br_poj_r;
}

void izbaci_rijec(char* s1, char* s2)
{
    while((*s1++=*s2++));
}
/* Funkcija trazi rijec na koju pokazuje pokazivac s2 u stringu na koji pokazuje s1,
vraca adresu sljedeceg znaka iza rijeci koju je nasao, ili NULL ako ne nadje rijec */
char* trazi_rijec(char* s1, char* s2)
{
    int pocetak=1;
    char* p=s1;
<a name="2"></a><font color="#0000FF"><a href="match261-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_2.gif"/></a>

    char* q=s2;
   
    while(*s1!='\0')
    {
        while(!((*s1&gt;='A' &amp;&amp; *s1&lt;='Z') || (*s1&gt;='a' &amp;&amp; *s1&lt;='z'))) 
</font>        {
            s1++;
            pocetak=0;
        }
        p=s1;
        q=s2;
        while(*p==*q || *p==*q+32 || *p+32==*q)
        {
            p++;
            q++;
            if(pocetak==0 &amp;&amp; *q=='\0' &amp;&amp; (!((*p&gt;='A' &amp;&amp; *p&lt;='Z') || (*p&gt;='a' &amp;&amp; *p&lt;='z')) || *p=='\0') &amp;&amp; !((*(s1-1)&gt;='A' &amp;&amp; *(s1-1)&lt;='Z') || (*(s1-1)&gt;='a' &amp;&amp; *(s1-1)&lt;='z')))  return p;
            if(pocetak==1 &amp;&amp; *q=='\0' &amp;&amp; (!((*p&gt;='A' &amp;&amp; *p&lt;='Z') || (*p&gt;='a' &amp;&amp; *p&lt;='z')) || *p=='\0')) return p;
        }   
        s1++;
        pocetak=0;
    }
    return NULL;
}
/* Izbacuje svako pojavljivanje rijeci koja ima najveci broj pojavljivanja */
char* izbaci_najcescu(char* s)
{
    char* pok=s, *pom_pok=s, *pok_max=s;
    int uk_rijeci=0, i=0, j=0, maxim=0, brslov_max=0;
    int br_poj_rij[10000]={0};
    int br_slova[10000]={0};
    char* adr_rijec[10000]={NULL};
    char rijec[1000]="";
    char rij_max[1000]="";
    
    uk_rijeci=histogram(s, adr_rijec, br_slova);
    
    if(uk_rijeci==0) return pok;
    
    for(i=0; i&lt;uk_rijeci; i++)
    {
        pom_pok=adr_rijec[i];
        for(j=0; j&lt;br_slova[i]; j++)
        {
            rijec[j]=*pom_pok;
            pom_pok++;
        }
        rijec[j]='\0';
        br_poj_rij[i]=broji_rijeci(s, rijec);
    }
    /* Odredjivanje rijeci koja se najcesce pojavljuje */
    pok_max=adr_rijec[0];
    maxim=br_poj_rij[0];
    brslov_max=br_slova[0];
    for(i=1; i&lt;uk_rijeci; i++)
    {
        if(br_poj_rij[i]&gt;maxim)
        {
            pok_max=adr_rijec[i];
            maxim=br_poj_rij[i];
            brslov_max=br_slova[i];
        }
    }
    
    pom_pok=pok_max;
    for(j=0; j&lt;brslov_max; j++)
    {
        rij_max[j]=*pom_pok;
        pom_pok++;
    }
    rij_max[j]='\0';
    
    izbaci_rijec(pok_max, pok_max+brslov_max);
    if(maxim&gt;1)
    {
        for(i=1; i&lt;maxim; i++)
        {
            pok_max=trazi_rijec(s, rij_max);
            if(pok_max!=NULL) izbaci_rijec(pok_max-brslov_max, pok_max);
        }
    }
    return pok;
}

int main() 
{
	char s[]="";
	printf("%s", izbaci_najcescu(s));
	return 0;
}
</pre>
</body>
</html>
