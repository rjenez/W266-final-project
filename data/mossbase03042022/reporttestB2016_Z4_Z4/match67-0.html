<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z4/student3116.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z4/student3116.cpp<p></p><pre>
<a name="0"></a><font color="#FF0000"><a href="match67-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_99.gif"/></a>

/B 2016/2017, ZadaÄ‡a 4, Zadatak 3
//Napomena: testovi ce biti dostupni dan pred rok!
#include &lt;iostream&gt;
#include &lt;algorithm&gt;
#include &lt;vector&gt;
#include &lt;string&gt;
#include &lt;memory&gt;

using namespace std;


class Datum
{
    int dan,mjesec,godina;
     
     
     int VratiDane()const
    {
        int niz[12]={31,28,31,30,31,30,30,31,30,31,30,31};
        int suma=0;
        for(int i=2000;i&lt;godina;i++)
        {
            if(i%4==0 &amp;&amp; i%100!=0 &amp;&amp; i%400==0)
                suma+=366;
            else suma+=365;
        }
        for(int i=0;i&lt;mjesec;i++)
            suma+=niz[i];
            
        return suma+dan;
    }
    
      
    public:
    Datum(int dan=1, int mjesec=1, int godina=1900){Postavi(dan,mjesec,godina);};
    void Postavi(int dan, int mjesec, int godina)
    {
        Datum::dan=dan;
        Datum::mjesec=mjesec;
        Datum::godina=godina;
        
    }
    int DajDan() const {return dan;}
    int DajMjesec() const{return mjesec;}
    int DajGodinu() const{return godina;}
    void Ispisi() const
    {
        cout&lt;&lt;dan&lt;&lt;"/"&lt;&lt;mjesec&lt;&lt;"/"&lt;&lt;godina;
    }

};

class Kupac
{
    string ime;
    Datum d;
    
    public:
    Kupac(const std::string &amp;ime_i_prezime="", const Datum &amp;datum_rodjenja=0){Postavi(ime_i_prezime,datum_rodjenja);};
    void Postavi(const std::string &amp;ime_i_prezime, const Datum &amp;datum_rodjenja)
    {
        ime=ime_i_prezime;
        d=datum_rodjenja;   
    }
    std::string DajImePrezime() const{return ime;}
    Datum DajDatumRodjenja() const{return d;}
    void Ispisi() const
    {
        cout&lt;&lt;ime&lt;&lt;"(";d.Ispisi();cout&lt;&lt;")";
    }

};

class Stan
{
    string adresa;
    int sprat,broj;
    bool namjesten;
    double kvad;
    
    public:
    Stan(const std::string &amp;adresa="", int sprat=0, int broj_soba=0, bool namjesten=0, double kvadratura=0){Postavi(adresa,sprat,broj_soba,namjesten,kvadratura);};
    void Postavi(const std::string &amp;adresa, int sprat, int broj_soba, bool namjesten, double kvadratura)
    {
        Stan::adresa=adresa;
        Stan::sprat=sprat;
              broj=broj_soba;
        Stan::namjesten=namjesten;
              kvad=kvadratura;
    }
    std::string DajAdresu() const{return adresa;}
    int DajSprat() const {return sprat;}
    int DajBrojSoba() const {return broj;}
    bool DajNamjesten() const{return namjesten;}
    double DajKvadraturu() const {return kvad;}
    void Ispisi() const
    {
        cout&lt;&lt;"Stan se nalazi na adresi "&lt;&lt;adresa&lt;&lt;" na "&lt;&lt;sprat&lt;&lt;". spratu i ima "&lt;&lt;broj&lt;&lt;" soba."&lt;&lt;endl;
        cout&lt;&lt;"Kvadratura stana je "&lt;&lt;kvad&lt;&lt;" (m^2) i ";
        if(namjesten) cout&lt;&lt;"stan je namjesten.";
        else cout&lt;&lt;"stan nije namjesten.";
        cout&lt;&lt;endl;
    }

};

class Prodaja
{
    string ime;
    double cijena;
    Datum d;
    Kupac k;
    Stan s;
    
    int VratiDane()const
    {
        int niz[12]={31,28,31,30,31,30,30,31,30,31,30,31};
        int suma=0;
        for(int i=2000;i&lt;d.DajGodinu();i++)
        {
            if(i%4==0 &amp;&amp; i%100!=0 &amp;&amp; i%400==0)
                suma+=366;
            else suma+=365;
        }
        for(int i=0;i&lt;d.DajMjesec();i++)
            suma+=niz[i];
            
        return suma+d.DajDan();
    }
    
    
    public:
    Prodaja(const std::string &amp;ime_agenta_prodaje, double cijena_stana,const Datum &amp;datum_prodaje, const Kupac &amp;kupac_stana,const Stan &amp;kupljeni_stan)
    {
        ime=ime_agenta_prodaje;
        cijena=cijena_stana;
        d=datum_prodaje;
        k=kupac_stana;
        s=kupljeni_stan;
    }
    Prodaja(const std::string &amp;ime_agenta_prodaje, double cijena_stana,int dan_prodaje, int mjesec_prodaje, int godina_prodaje,
    std::string &amp;ime_kupca, const Datum &amp;datum_rodjenja_kupca,
    const std::string &amp;adresa_stana, int sprat_stana, int broj_soba,
    bool namjesten_stan, double broj_kvadrata)
    {
        ime=ime_agenta_prodaje;
        cijena=cijena_stana;
        d.Postavi(dan_prodaje,mjesec_prodaje,godina_prodaje);
        k.Postavi(ime_kupca,datum_rodjenja_kupca);
        s.Postavi(adresa_stana,sprat_stana,broj_soba,namjesten_stan,broj_kvadrata);
    }
    void PromijeniKupca(const Kupac &amp;novi_kupac)
    {
        k=novi_kupac;
    }
    void PromijeniStan(const Stan &amp;novi_stan)
    {
        s=novi_stan;
    }
    void PromijeniDatumKupovine(const Datum &amp;novi_datum)
    {
        d=novi_datum;
    }
    void PromijeniCijenuProdaje(const double &amp;nova_cijena)
    {
        cijena=nova_cijena;
    }
    
    void PomjeriDanUnaprijed()
    {
        d.Postavi(d.DajDan()+1,d.DajMjesec(),d.DajGodinu());
    }
    void PomjeriDanUnazad()
    {
         d.Postavi(d.DajDan()-1,d.DajMjesec(),d.DajGodinu());
    }
    std::string DajImeAgenta() const
    {
        return ime;
    }
    std::string DajImeKupca() const
    {
        return k.DajImePrezime();
    }
    Datum DajDatumProdaje() const
    {
        return d;
    }
    double DajCijenuStana() const
    {
        return cijena;
    }
    
    friend bool ProdatPrije(const Prodaja &amp;p1, const Prodaja &amp;p2)
    {
        return p1.VratiDane()&lt;p2.VratiDane();
    }
    friend bool SkupljiStan(const Prodaja &amp;p1, const Prodaja &amp;p2)
    {
        return p1.DajCijenuStana()&gt;p2.DajCijenuStana();
    }
    
    void Ispisi() const
    {
        cout&lt;&lt;"Ime agenta: "&lt;&lt;ime&lt;&lt;endl;
        cout&lt;&lt;"Ime kupca: ";k.Ispisi();cout&lt;&lt;endl;
        cout&lt;&lt;"Zakazani datum prodaje: ";d.Ispisi();cout&lt;&lt;endl;
        cout&lt;&lt;"Cijena stana "&lt;&lt;cijena&lt;&lt;endl;
        cout&lt;&lt;"Informacije o stanu "&lt;&lt;endl;
        s.Ispisi();
    }

    
};

class Prodaje
{
    int stanje;
    vector&lt;shared_ptr&lt;Prodaja&gt;&gt; pok;
    
    public:
    explicit Prodaje()
    {   
        stanje=0;
    }
    
    Prodaje(std::initializer_list&lt;Prodaja&gt; spisak_prodaja)
    {
        stanje=spisak_prodaja.size();
        
        auto it=spisak_prodaja.begin();
        for(int i=0;i&lt;stanje;i++)
        {
            pok.push_back(make_shared&lt;Prodaja&gt;(*it));
            it++;
        }
        
    }
    ~Prodaje()
    {
        for(int i=0;i&lt;stanje;i++)
             pok[i]=nullptr;
        stanje=0;
    }
    
    Prodaje(const Prodaje &amp;prodaje)
    {
        stanje=prodaje.stanje;
        for(int i=0;i&lt;stanje;i++)
            pok.push_back((prodaje.pok[i]));
    }
    
    Prodaje(Prodaje &amp;&amp;prodaje)
    {
        stanje=prodaje.stanje;
       
        pok=prodaje.pok;
        
    }
    Prodaje &amp;operator =(const Prodaje &amp;prodaje)
    {
        if(this!=&amp;prodaje)
        {
            
            for(int i=0;i&lt;stanje;i++)
                     pok[i]=nullptr;
            
            
            stanje=prodaje.stanje;
            
        for(int i=0;i&lt;stanje;i++)
            pok.push_back((prodaje.pok[i]));     
        }
        return *this;
    }
    Prodaje &amp;operator =(Prodaje &amp;&amp;prodaje)
    {
        if(this!=&amp;prodaje)
        {
            
            for(int i=0;i&lt;stanje;i++)
                      pok[i]=nullptr;
            
            
            stanje=prodaje.stanje;
        
        for(int i=0;i&lt;stanje;i++)
            pok.push_back((prodaje.pok[i]));     
        
        }
        return *this;
    }
    
    void RegistrirajProdaju(const std::string &amp;ime_agenta_prodaje,double cijena_stana, const Datum &amp;datum_prodaje, const Kupac &amp;kupac_stana,const Stan &amp;kupljeni_stan)
    {
        pok.push_back(make_shared&lt;Prodaja&gt;(ime_agenta_prodaje,cijena_stana,datum_prodaje,kupac_stana,kupljeni_stan));
        stanje++;
        
    }
    void RegistrirajProdaju(const std::string &amp;ime_agenta_prodaje,double cijena_stana, int dan_prodaje,int mjesec_prodaje, int godina_prodaje, std::string &amp;ime_kupca,
     const Datum &amp;datum_rodjenja_kupca, const std::string &amp;adresa_stana,int sprat_stana, int broj_soba, bool namjesten_stan, double broj_kvadrata)
     {
         pok.push_back(make_shared&lt;Prodaja&gt;(ime_agenta_prodaje,cijena_stana,dan_prodaje,mjesec_prodaje,godina_prodaje,ime_kupca,datum_rodjenja_kupca,adresa_stana,sprat_stana,broj_soba,namjesten_stan,broj_kvadrata));
         stanje++;
         
     }
    void RegistrirajProdaju(shared_ptr&lt;Prodaja&gt; prodaja)
    {  
        pok.push_back((prodaja));
        stanje++;
        
    }
    int DajBrojProdaja() const
    {
        return stanje;
    }
    
    int DajBrojProdajaNaDatum(const Datum &amp;datum) const
    {
        int br=0;
                
        br=count_if(pok.begin(),pok.end(),[&amp;datum](shared_ptr&lt;Prodaja&gt; p1){if(p1-&gt;DajDatumProdaje().DajDan()==datum.DajDan() &amp;&amp; p1-&gt;DajDatumProdaje().DajMjesec()==datum.DajMjesec()
        &amp;&amp; p1-&gt;DajDatumProdaje().DajGodinu()==datum.DajGodinu()) return true;}); 
        
        return br;
    }
    int DajBrojProdajaOdAgenta(const std::string &amp;ime_agenta) const
    {
        int br=0;
        for(int i=0;i&lt;stanje;i++)
        {
            if(ime_agenta==pok[i]-&gt;DajImeAgenta()) br++;
        }
        return br;
    }
    
    Prodaja &amp;DajNajranijuProdaju();
    Prodaja DajNajranijuProdaju() const;
    Prodaja &amp;DajNajskupljuProdaju();
    Prodaja DajNajskupljuProdaju() const;
    
    void IsprazniKolekciju()
    {
        for(int i=0;i&lt;stanje;i++)
               pok[i]=nullptr;
       
    
        stanje=0;
        
    }
    
    void ObrisiNajranijuProdaju();
    void ObrisiProdajeAgenta(const std::string &amp;ime_agenta); 
    void ObrisiProdajeNaDatum(const Datum &amp;datum);
    void IspisiProdajeNaDatum(const Datum &amp;datum) const;
    
    void IspisiSveProdaje() const
    {
        for(int i=0;i&lt;stanje;i++)
             pok[i]-&gt;Ispisi();
    }

};


int main ()
{   
    cout&lt;&lt;"Dobrodosli!"&lt;&lt;endl&lt;&lt;endl&lt;&lt;endl;
	
	Prodaje p;vector&lt;Stan&gt;v;
	for(;;)
	{
	    cout&lt;&lt;"Izaberite opciju:"&lt;&lt;endl;
	    cout&lt;&lt;"0 - kraj"&lt;&lt;endl;
	    cout&lt;&lt;"1 - uredjivanje stanova"&lt;&lt;endl;
	    cout&lt;&lt;"2 - uredjivanje kupaca"&lt;&lt;endl;
	    cout&lt;&lt;"3 - uradjivanje prodaja"&lt;&lt;endl;
	    
	    int n;
	    cin&gt;&gt;n;
	    
	    if(n==0) break;
	    else if(n==1)
	    {   
	        for(;;)
	        {
    	        cout&lt;&lt;"Izaberite opciju: "&lt;&lt;endl;
    	        cout&lt;&lt;"0 - nazad"&lt;&lt;endl;
    	        cout&lt;&lt;"1 - dodavanje stana"&lt;&lt;endl;
    	        cout&lt;&lt;"2 - uredjivanje stanova"&lt;&lt;endl;
    	        cout&lt;&lt;"3 - ispis svih stanova"&lt;&lt;endl;
    	        cout&lt;&lt;"4 - kraj"&lt;&lt;endl;
    	        
    	        int n1;
    	        cin&gt;&gt;n1;
    	        if(n1==4) return 0;
    	        else if(n1==0) break;
    	        else if(n1==1)
    	        {
    	            string s;int sprat;int br;bool namjesten;double kvad;
    	            cout&lt;&lt;"Unesite adresu: ";
    	            getline(cin,s);
    	            cout&lt;&lt;"Unesite sprat: ";
    	            cin&gt;&gt;sprat;
    	            cout&lt;&lt;"Unesite broj soba: ";
    	            cin&gt;&gt;br;
    	            cout&lt;&lt;"Da li je stan namjesten (1 - da, 0 - ne): ";
    	            cin&gt;&gt;namjesten;
    	            cout&lt;&lt;"Unesite kvadraturu: ";
    	            cin&gt;&gt;kvad;
    	            
    	            Stan apar(s,sprat,br,namjesten,kvad);
    	            v.push_back(apar);
    	        }
    	        else if(n1==2)
    	        {
    	            cout&lt;&lt;"Odaberite polje koje zelite urediti:"&lt;&lt;endl;
    	            cout&lt;&lt;" 0 - nazad"&lt;&lt;endl;
    	            cout&lt;&lt;" 1 - adresa"&lt;&lt;endl;
    	            cout&lt;&lt;" 2 - sprat"&lt;&lt;endl;
    	            cout&lt;&lt;" 3 - broj soba"&lt;&lt;endl;
    	            cout&lt;&lt;" 4 - da li je stan namjesten"&lt;&lt;endl;
    	            cout&lt;&lt;" 5 - kvadratura"&lt;&lt;endl;
    	            cout&lt;&lt;" 6 - sve"&lt;&lt;endl;
    	            int n2;
    	            cin&gt;&gt;n2;
    	            
    	           
    	            
    	            
    	            if(n2==0) continue;
    	            else if(n2==1)
    	            {
    	                   
    	            }
    	            
    	            
    	        }
	        }     
	        
	    }
	}
	
	
	
	return 0;
</font>}</pre>
</body>
</html>
