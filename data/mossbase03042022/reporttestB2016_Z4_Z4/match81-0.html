<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z4/student5122.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z4/student5122.cpp<p></p><pre>
#include &lt;iostream&gt;
#include &lt;string&gt;
#include &lt;cstring&gt;
#include &lt;utility&gt;
#include &lt;stdexcept&gt;
<a name="4"></a><font color="#FF00FF"><a href="match81-1.html#4" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_3.gif"/></a>

class Datum{
    int dan, mjesec, godina;
    public:
    Datum(int dan, int mjesec, int godina){
        Postavi(dan,mjesec,godina);
    }
    void Postavi(int dan, int mjesec, int godina){
        int broj_dana[]{31,28,31,30,31,30,31,30,31,30,31,30};
</font>        if((godina%4==0 &amp;&amp; godina%100!=0) || godina%400==0) broj_dana[1]++;
<a name="0"></a><font color="#FF0000"><a href="match81-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_46.gif"/></a>

        if(godina&lt;1 || dan&lt;1 || mjesec&lt;1 || mjesec&gt;12 || dan&gt;broj_dana[mjesec-1])
        throw std::domain_error{"Neispravan datum!"};
        Datum::dan=dan; Datum::mjesec=mjesec; Datum::godina=godina;
    }
    int DajDan() const{
        return dan;
    }
    int DajMjesec() const{
        return mjesec;
    }
    int DajGodinu() const{
        return godina;
    }
    void Ispisi() const{
        std::cout&lt;&lt;DajDan()&lt;&lt;"/"&lt;&lt;DajMjesec()&lt;&lt;"/"&lt;&lt;DajGodinu();
    }
};

class Kupac{
    std::string ime_i_prezime;
    Datum datum_rodjenja;
    public:
    Kupac(const std::string &amp;ime_i_prezime, const Datum &amp;datum_rodjenja):
        datum_rodjenja(datum_rodjenja.DajDan(),datum_rodjenja.DajMjesec(),datum_rodjenja.DajGodinu())
    {
        Kupac::ime_i_prezime=ime_i_prezime;
    }
    void Postavi(const std::string &amp;ime_i_prezime, const Datum &amp;datum_rodjenja)
    {   
        Kupac::datum_rodjenja.Postavi(datum_rodjenja.DajDan(),datum_rodjenja.DajMjesec(),datum_rodjenja.DajGodinu());
        std::string v=ime_i_prezime;
        for(int i=0; i&lt;ime_i_prezime.length(); i++){
            if(!(v[i]&gt;='A' &amp;&amp; v[i]&lt;='Z') &amp;&amp; !(v[i]&gt;='a' &amp;&amp; v[i]&lt;='z') &amp;&amp; !(v[i]&gt;='0' &amp;&amp; v[i]&lt;='9') &amp;&amp; v[i]!=' ' &amp;&amp; v[i]!=39) throw std::domain_error{"Neispravno ime i prezime"}; 
        }
        try{
        Kupac::ime_i_prezime=ime_i_prezime;
        }
        catch(std::domain_error e){
            std::cout&lt;&lt;e.what()&lt;&lt;std::endl;
        }
    }
    std::string DajImePrezime() const{
        return ime_i_prezime;
    }
    Datum DajDatumRodjenja() const{
        return datum_rodjenja;
    }
    void Ispisi() const{
        std::cout&lt;&lt;ime_i_prezime&lt;&lt;"("&lt;&lt;datum_rodjenja.DajDan()&lt;&lt;"/"&lt;&lt;datum_rodjenja.DajMjesec()&lt;&lt;"/"&lt;&lt;datum_rodjenja.DajGodinu()&lt;&lt;")"&lt;&lt;std::endl;
    }

};

class Stan{
    std::string adresa;
    int sprat, broj_soba;
    double kvadratura;
    bool namjesten;
    public:
    Stan(const std::string &amp;adresa, int sprat, int broj_soba, bool namjesten,double kvadratura){
        Postavi(adresa,sprat,broj_soba,namjesten,kvadratura);
    }
    void Postavi(const std::string &amp;adresa, int sprat, int broj_soba,bool namjesten, double kvadratura){
        if(sprat&lt;0 || broj_soba&lt;=0 || kvadratura&lt;=0) throw std::domain_error{"Neispravan unos podataka"};
        try{
        Stan::adresa=adresa; Stan::sprat=sprat; Stan::broj_soba=broj_soba; Stan::namjesten=namjesten; Stan::kvadratura=kvadratura;
        }
        catch(std::domain_error e){
            std::cout&lt;&lt;e.what()&lt;&lt;std::endl;
        }
    }
    std::string DajAdresu() const{
        return adresa;
    }
    int DajSprat() const{
        return sprat;
    }
    int DajBrojSoba() const{
        return broj_soba;
    }
    bool DajNamjesten() const{
        return namjesten;
    }
    double DajKvadraturu() const{
        return kvadratura;
    }
    void Ispisi() const{
        if(DajBrojSoba()&gt;4){
        std::cout&lt;&lt;"Stan se nalazi na adresi "&lt;&lt;DajAdresu()&lt;&lt;" na "&lt;&lt;DajSprat()&lt;&lt;". spratu i ima "&lt;&lt;DajBrojSoba()&lt;&lt;" soba."&lt;&lt;std::endl;
        }else{
        std::cout&lt;&lt;"Stan se nalazi na adresi "&lt;&lt;DajAdresu()&lt;&lt;" na "&lt;&lt;DajSprat()&lt;&lt;". spratu i ima "&lt;&lt;DajBrojSoba()&lt;&lt;" sobe."&lt;&lt;std::endl;    
        }
        if(DajNamjesten()==true){
        std::cout&lt;&lt;"Kvadratura stana je "&lt;&lt;DajKvadraturu()&lt;&lt;" (m^2) i stan je namjesten."&lt;&lt;std::endl;
        }else{
        std::cout&lt;&lt;"Kvadratura stana je "&lt;&lt;DajKvadraturu()&lt;&lt;" (m^2) i stan nijje namjesten."&lt;&lt;std::endl;    
        }
    }
};

class Prodaja{
    std::string ime_agenta_prodaje;
    double cijena_stana;
    Datum datum_prodaje;
    Kupac kupac_stana;
    Stan kupljeni_stan;
    public:
    Prodaja(const std::string &amp;ime_agenta_prodaje, double cijena_stana,const Datum &amp;datum_prodaje, const Kupac &amp;kupac_stana,const Stan &amp;kupljeni_stan):
        datum_prodaje(datum_prodaje.DajDan(),datum_prodaje.DajMjesec(),datum_prodaje.DajGodinu()), kupac_stana(kupac_stana.DajImePrezime(),kupac_stana.DajDatumRodjenja()),kupljeni_stan(kupljeni_stan.DajAdresu(),kupljeni_stan.DajNamjesten(),kupljeni_stan.DajSprat(),kupljeni_stan.DajBrojSoba(),kupljeni_stan.DajKvadraturu())
    {
        Prodaja::ime_agenta_prodaje=ime_agenta_prodaje; Prodaja::cijena_stana=cijena_stana; 
        
    }
    Prodaja(const std::string &amp;ime_agenta_prodaje, double cijena_stana,int dan_prodaje, int mjesec_prodaje, int godina_prodaje,
     std::string &amp;ime_kupca, const Datum &amp;datum_rodjenja_kupca,
</font><a name="3"></a><font color="#00FFFF"><a href="match81-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_7.gif"/></a>

     const std::string &amp;adresa_stana, int sprat_stana, int broj_soba,
     bool namjesten_stan, double broj_kvadrata):
        datum_prodaje(dan_prodaje,mjesec_prodaje,godina_prodaje), kupac_stana(ime_kupca,datum_rodjenja_kupca),kupljeni_stan(adresa_stana,sprat_stana,namjesten_stan,broj_soba,broj_kvadrata)
     {
         Prodaja::ime_agenta_prodaje=ime_agenta_prodaje;
         Prodaja::cijena_stana=cijena_stana; 
         
     }
    void PromijeniKupca(const Kupac &amp;novi_kupac){
        kupac_stana=novi_kupac;
    } 
    void PromijeniStan(const Stan &amp;novi_stan){
        kupljeni_stan=novi_stan;
    }
    void PromijeniDatumKupovine(const Datum &amp;novi_datum){
        datum_prodaje=novi_datum;
    }
    void PromijeniCijenuProdaje(const double &amp;nova_cijena){
        cijena_stana=nova_cijena;
    }
    void PomjeriDanUnaprijed();
    void PomjeriDanUnazad();
    std::string DajImeAgenta() const{
        return ime_agenta_prodaje;
    }
    std::string DajImeKupca() const{
        return kupac_stana.DajImePrezime();
</font>    }
    Datum DajDatumProdaje() const{
        return datum_prodaje;
    }
    double DajCijenuStana() const{
        return cijena_stana;
    }
<a name="1"></a><font color="#00FF00"><a href="match81-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_27.gif"/></a>

    friend bool ProdatPrije(const Prodaja &amp;p1, const Prodaja &amp;p2);
    friend bool SkupljiStan(const Prodaja &amp;p1, const Prodaja &amp;p2);
    void Ispisi() const;
    
};

void Prodaja::PomjeriDanUnaprijed(){
    int d,m,g;
    d=datum_prodaje.DajDan();
    m=datum_prodaje.DajMjesec();
    g=datum_prodaje.DajGodinu();
    d++;
    if(((g%4==0 &amp;&amp; g%100!=0) || g%400==0) &amp;&amp; m==2){
        if(d==30) { d=1; m++; }
    }
    if(d==29 &amp;&amp; m==2) { d=1; m++; }
    if(d==32) { d=1; m++; }
    if(m==13) { m=1; g++; }
    datum_prodaje.Postavi(d,m,g);
}
void Prodaja::PomjeriDanUnazad(){
    int d,m,g;
    d=datum_prodaje.DajDan();
    m=datum_prodaje.DajMjesec();
    g=datum_prodaje.DajGodinu();
    d--;
    if(((g%4==0 &amp;&amp; g%100!=0) || g%400==0) &amp;&amp; m==3){
        if(d==0) {d=29; m--;}   
    }    
    if(d==0 &amp;&amp; m==3) { d=28; m--; }
    if(d==0 &amp;&amp; m%2==0) { d=31; m--; }
    if(d==0 &amp;&amp; m%2!=0) { d=30; m--; }
    datum_prodaje.Postavi(d,m,g);
}
bool ProdatPrije(const Prodaja &amp;p1, const Prodaja &amp;p2){
    if(p1.DajDatumProdaje().DajMjesec()&lt;p2.DajDatumProdaje().DajMjesec() &amp;&amp; p1.DajDatumProdaje().DajGodinu()&lt;=p2.DajDatumProdaje().DajGodinu()) return true;
    if(p1.DajDatumProdaje().DajMjesec()==p2.DajDatumProdaje().DajMjesec() &amp;&amp; p1.DajDatumProdaje().DajGodinu()&lt;p2.DajDatumProdaje().DajGodinu()) return true;
    if(p1.DajDatumProdaje().DajMjesec()==p2.DajDatumProdaje().DajMjesec() &amp;&amp; p1.DajDatumProdaje().DajGodinu()==p2.DajDatumProdaje().DajGodinu() &amp;&amp; p1.DajDatumProdaje().DajDan()&lt;p2.DajDatumProdaje().DajDan()) return true;
    return false;
}
bool SkupljiStan(const Prodaja &amp;p1, const Prodaja &amp;p2){
    if(p1.DajCijenuStana()&lt;p2.DajCijenuStana()) return true;
    return false;
}

class Prodaje{
    explicit Prodaje(int max_broj_prodaja);
    Prodaje(std::initializer_list&lt;Prodaja&gt; spisak_prodaja);
    ~Prodaje();
    Prodaje(const Prodaje &amp;prodaje);
    Prodaje(Prodaje &amp;&amp;prodaje);
    Prodaje &amp;operator =(const Prodaje &amp;prodaje);
    Prodaje &amp;operator =(Prodaje &amp;&amp;prodaje);
</font>    void RegistrirajProdaju(const std::string &amp;ime_agenta_prodaje,
<a name="2"></a><font color="#0000FF"><a href="match81-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_8.gif"/></a>

     double cijena_stana, const Datum &amp;datum_prodaje, const Kupac &amp;kupac_stana,
    const Stan &amp;kupljeni_stan);
    void RegistrirajProdaju(const std::string &amp;ime_agenta_prodaje, int dan_prodaje,
    int mjesec_prodaje, int godina_prodaje, std::string &amp;ime_kupca,
     const Datum &amp;datum_rodjenja_kupca, const std::string &amp;adresa_stana,
     int sprat_stana, int broj_soba, bool namjesten_stan, double broj_kvadrata);
    void RegistrirajProdaju(Prodaja *prodaja);
    int DajBrojProdaja() const;
    int DajBrojProdajaNaDatum(const Datum &amp;datum) const;
    int DajBrojProdajaOdAgenta(const std::string &amp;ime_agenta) const;
    Prodaja &amp;DajNajranijuProdaju();
    Prodaja DajNajranijuProdaju() const;
    Prodaja &amp;DajNajskupljuProdaju();
    Prodaja DajNajskupljuProdaju() const;
    void IsprazniKolekciju();
    void ObrisiNajranijuProdaju();
    void ObrisiProdajeAgenta(const std::string &amp;ime_agenta);
    void ObrisiProdajeNaDatum(const Datum &amp;datum);
    void IspisiProdajeNaDatum(const Datum &amp;datum) const;
    void IspisiSveProdaje() const;

};
int main ()
</font>{
	return 0;
}</pre>
</body>
</html>
