<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z4/student4415.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z4/student4415.cpp<p></p><pre>
/B 2016/2017, Zadaća 4, Zadatak 3
//Napomena: testovi ce biti dostupni dan pred rok!

#include &lt;iostream&gt;
#include &lt;stdexcept&gt;
#include &lt;exception&gt;
#include &lt;string&gt;
#include &lt;iomanip&gt;
#include &lt;algorithm&gt;
#include &lt;memory&gt;
#include &lt;vector&gt;

using std::cin;
using std::cout;
using std::endl;

// KLASA DATUM
class Datum
{
    int dan,mjesec,godina;

public:
    Datum(int dan, int mjesec, int godina) {
        Postavi(dan,mjesec,godina);
    }
    void Postavi(int dan, int mjesec, int godina);
    int DajDan() const {
        return dan;
    }
    int DajMjesec() const {
        return mjesec;
    }
    int DajGodinu() const {
        return godina;
    }
    void Ispisi() const {
        std::cout &lt;&lt; dan &lt;&lt; "/" &lt;&lt; mjesec &lt;&lt; "/" &lt;&lt; godina;
    }
};
// DATUM POSTAVI
void Datum::Postavi(int dan, int mjesec, int godina)
{
    int broj_dana[] {31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31};
    if((godina % 4 == 0 &amp;&amp; godina % 100 != 0) || godina % 400 == 0)
        broj_dana[1]++;
    if(godina &lt; 1 || dan &lt; 1 || mjesec &lt; 1 || mjesec &gt; 12|| dan &gt; broj_dana[mjesec - 1])
        throw std::domain_error("Neispravan datum");
    Datum::dan = dan;
    Datum::mjesec = mjesec;
    Datum::godina = godina;
}
/*********************************************************************/

// KLASA KUPAC
class Kupac
{
    std::string ime_i_prezime;
    Datum datum_rodjenja;
public:
    Kupac(const std::string &amp;ime_i_prezime, const Datum &amp;datum_rodjenja) : ime_i_prezime(ime_i_prezime), datum_rodjenja(datum_rodjenja) {
        for (auto &amp;i : ime_i_prezime) {
            if (!((i &gt;= 'a' and i &lt;= 'z') or (i &gt;= 'A' and i &lt;= 'Z') or (i &gt;= '0' and i &lt;= '9') or i == '-' or i == ' ' or i == '\''))
                throw std::domain_error ("Neispravno ime i prezime");
        }
    }
<a name="1"></a><font color="#00FF00"><a href="match885-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_0.gif"/></a>

    void Postavi(const std::string &amp;ime_i_prezime, const Datum &amp;datum_rodjenja) {
        *this = Kupac(ime_i_prezime,datum_rodjenja);
    }
    std::string DajImePrezime() const {
        return ime_i_prezime;
    }
    Datum DajDatumRodjenja() const {
        return datum_rodjenja;
    }
    void Ispisi() const {
        std::cout &lt;&lt; ime_i_prezime &lt;&lt;" "&lt;&lt; "(";
</font>        datum_rodjenja.Ispisi();
        std::cout  &lt;&lt; ")";
    }
};
/* POSTAVI KUPAC  */


/*********************************************/

// KLASA STAN
<a name="10"></a><font color="#FF0000"><a href="match885-1.html#10" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_0.gif"/></a>

class Stan
{
    std::string adresa;
    int sprat, broj_soba;
    bool namjesten;
    double kvadratura;
public:
    Stan(const std::string &amp;adresa, int sprat, int broj_soba, bool namjesten, double kvadratura) {
</font>        Postavi(adresa,sprat,broj_soba,namjesten,kvadratura);
    }
    void Postavi(const std::string &amp;adresa, int sprat, int broj_soba, bool namjesten, double kvadratura);
    std::string DajAdresu() const {
        return adresa;
    }
    int DajSprat() const {
        return sprat;
    }
    int DajBrojSoba() const {
        return broj_soba;
    }
    bool DajNamjesten() const {
        return namjesten;
    }
    double DajKvadraturu() const {
        return kvadratura;
    }
    void Ispisi() const {
        std::cout &lt;&lt; "Stan se nalazi na adresi " &lt;&lt; adresa &lt;&lt; " na " &lt;&lt;sprat &lt;&lt;". spratu i ima " &lt;&lt; broj_soba;
        if (broj_soba == 1) std::cout &lt;&lt; " sobu.";
        else if (broj_soba == 2 or broj_soba == 3 or broj_soba == 4) std::cout &lt;&lt; " sobe.";
        else std::cout &lt;&lt; " soba.";
<a name="4"></a><font color="#FF00FF"><a href="match885-1.html#4" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_0.gif"/></a>

        std::cout &lt;&lt;  " Kvadratura stana je " &lt;&lt; kvadratura &lt;&lt; " (m^2) i stan ";
        if (namjesten) {
            std::cout &lt;&lt; "je namjesten.";
        } else std::cout  &lt;&lt; "nije namjesten.";
        std::cout  &lt;&lt; std::endl;
</font>    }
};

// STAN POSTAVI
void Stan::Postavi(const std::string &amp;adresa, int sprat, int broj_soba, bool namjesten, double kvadratura)
{
    if (sprat &lt; 0 or broj_soba &lt; 0 or namjesten &lt; 0 or kvadratura &lt; 0) throw std::domain_error ("Neispravan unos podataka");
    Stan::adresa = adresa;
    Stan::sprat = sprat;
    Stan::broj_soba = broj_soba;
    Stan::namjesten = namjesten;
    Stan:: kvadratura = kvadratura;
}
//////////////////////////////////////

// KLASA PRODAJA
class Prodaja
{
    std::string ime_agenta_prodaje;
    double cijena_stana;
    Datum datum_prodaje;
    Kupac kupac_stana;
    Stan kupljeni_stan;
public:
    /// SVI IZUZECI KOJU BUDU BACENI PROVJERITI CE SE U INICIALIZACIOJ LISTI
    // Prvi Konstruktor koji prima cijelovite objektre ( kupac, stan, datum itd..)

    Prodaja(const std::string &amp;ime_agenta_prodaje,
            double cijena_stana,const Datum &amp;datum_prodaje,
            const Kupac &amp;kupac_stana,const Stan &amp;kupljeni_stan) :
        // Konstruktorska inicial. lista

        ime_agenta_prodaje(ime_agenta_prodaje),
        cijena_stana(cijena_stana),
        datum_prodaje(datum_prodaje),
        kupac_stana(kupac_stana),
        kupljeni_stan(kupljeni_stan) {}
    ///

    // Drugi Konstruktor koji prima pojedinacno atribute objekata

    Prodaja(const std::string &amp;ime_agenta_prodaje,double cijena_stana,
            int dan_prodaje,int mjesec_prodaje,int godina_prodaje,
            const std::string &amp;ime_kupca,const Datum &amp;datum_rodjenja_kupca,
            const std::string &amp;adresa_stana, int sprat_stana,
            int broj_soba,bool namjesten_stan, double broj_kvadrata) :
        // Konstruktorska inicial. lista

        ime_agenta_prodaje(ime_agenta_prodaje),
        cijena_stana(cijena_stana),
        datum_prodaje(dan_prodaje,mjesec_prodaje,godina_prodaje),
        kupac_stana(ime_kupca,datum_rodjenja_kupca),
        kupljeni_stan(adresa_stana,sprat_stana,broj_soba,namjesten_stan,broj_kvadrata) {}
    ///
    void PromjeniAgenta (const std::string &amp;novi_agent) {
        ime_agenta_prodaje = novi_agent;
    }
    void PromijeniKupca(const Kupac &amp;novi_kupac) {
        kupac_stana = Kupac(novi_kupac);
    }
    void PromijeniStan(const Stan &amp;novi_stan) {
        kupljeni_stan = Stan(novi_stan);
    }
    void PromijeniDatumKupovine(const Datum &amp;novi_datum) {
        datum_prodaje = Datum(novi_datum);
    }
<a name="12"></a><font color="#0000FF"><a href="match885-1.html#12" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_0.gif"/></a>

    void PromijeniCijenuProdaje(const double &amp;nova_cijena) {
        cijena_stana = nova_cijena;
    }
    void PomjeriDanUnaprijed();
    void PomjeriDanUnazad();
    std::string DajImeAgenta() const {
        return ime_agenta_prodaje;
    }
    std::string DajImeKupca() const {
        return kupac_stana.DajImePrezime();
</font>    }
    Datum DajDatumProdaje() const {
        return datum_prodaje;
    }
    double DajCijenuStana() const {
        return cijena_stana;
    }
    friend bool ProdatPrije(const Prodaja &amp;p1, const Prodaja &amp;p2);
    friend bool SkupljiStan(const Prodaja &amp;p1, const Prodaja &amp;p2);
    void Ispisi() const;
};

void Prodaja::Ispisi() const
{
    std::cout &lt;&lt; std::setw(32) &lt;&lt;std::left&lt;&lt; "Ime agenta: ";
    cout &lt;&lt; ime_agenta_prodaje &lt;&lt; std::endl;
    std::cout &lt;&lt; std::setw(32) &lt;&lt;std::left&lt;&lt; "Ime kupca: ";
    kupac_stana.Ispisi();
    std::cout  &lt;&lt; std::endl;
    std::cout &lt;&lt; std::setw(32) &lt;&lt;std::left&lt;&lt; "Zakazani datum prodaje: ";
    datum_prodaje.Ispisi();
    std::cout  &lt;&lt; std::endl;
    std::cout &lt;&lt; std::setw(32) &lt;&lt;std::left&lt;&lt; "Cijena stana: " &lt;&lt; cijena_stana &lt;&lt; std::endl;
    std::cout &lt;&lt; std::setw(32)&lt;&lt; "Informacije o stanu: " &lt;&lt; std::endl;
    kupljeni_stan.Ispisi();
}

bool ProdatPrije(const Prodaja &amp;p1, const Prodaja &amp;p2)
{
    Datum d1(p1.DajDatumProdaje()), d2(p2.DajDatumProdaje());
    if (d1.DajGodinu() == d2.DajGodinu()) {
        if (d1.DajMjesec() == d2.DajMjesec()) {
            return d1.DajDan() &lt; d2.DajDan();
        } else return d1.DajMjesec() &lt; d2.DajMjesec();
    } else return d1.DajGodinu() &lt; d2.DajGodinu();
}

bool SkupljiStan(const Prodaja &amp;p1, const Prodaja &amp;p2)
{
    return p1.DajCijenuStana() &gt; p2.DajCijenuStana();
}

void Prodaja::PomjeriDanUnaprijed()
{
    int godina(datum_prodaje.DajGodinu());
    int mjesec(datum_prodaje.DajMjesec());
    int dan(datum_prodaje.DajDan());
<a name="0"></a><font color="#FF0000"><a href="match885-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_0.gif"/></a>

    int broj_dana[] {31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31};
    if((godina % 4 == 0 &amp;&amp; godina % 100 != 0) || godina % 400 == 0)
        broj_dana[1]++;
    dan++;
    if(dan &gt; broj_dana[mjesec - 1]) dan = 1, mjesec++;
    if(mjesec &gt; 12) mjesec = 1, godina++;
</font>    Prodaja::datum_prodaje.Postavi(dan,mjesec,godina);
}
void Prodaja::PomjeriDanUnazad()
{
    int godina(datum_prodaje.DajGodinu());
    int mjesec(datum_prodaje.DajMjesec());
    int dan(datum_prodaje.DajDan());
<a name="2"></a><font color="#0000FF"><a href="match885-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_0.gif"/></a>

    int broj_dana[] {31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31};
    if((godina % 4 == 0 &amp;&amp; godina % 100 != 0) || godina % 400 == 0)
        broj_dana[1]++;
    dan--;
    if(dan == 0) {
        mjesec--;
        if(mjesec == 0) {
            mjesec = 12;
</font>            godina--;
        }
        dan = broj_dana[mjesec-1];
    }
    Prodaja::datum_prodaje.Postavi(dan,mjesec,godina);
}

// KLASA PRODAJE
class Prodaje
{
    // ATRIBUTI KLASE
    std::vector&lt;std::shared_ptr&lt;Prodaja&gt;&gt; prodaje_pok;
    
public:
    // GLAVNI MAIN KONSTRUKTOR SA MAX_BR_PRODAJA
    explicit Prodaje(int max_broj_prodaja) : prodaje_pok(max_broj_prodaja) {}

    // SEKVENCIJALNI KONSTUKTOR
    Prodaje(std::initializer_list&lt;Prodaja&gt; spisak_prodaja) {
        for (auto i : spisak_prodaja) {
            prodaje_pok.push_back(std::make_shared&lt;Prodaja&gt; (i));
        }
    }
    
    Prodaje(const Prodaje &amp;prodaje);    // copy constructor
    // POMJERAJUCI KONSTRUKTOR
    Prodaje(Prodaje &amp;&amp;prodaje) = default;
    Prodaje &amp;operator =(Prodaje prodaje); // copy operator dodjele
    Prodaje &amp;operator =(Prodaje &amp;&amp;prodaje) = default;

    void RegistrirajProdaju(const std::string &amp;ime_agenta_prodaje,double cijena_stana,
                            const Datum &amp;datum_prodaje, const Kupac &amp;kupac_stana,const Stan &amp;kupljeni_stan);
    void RegistrirajProdaju(const std::string &amp;ime_agenta_prodaje,double cijena_stana, int dan_prodaje,
                            int mjesec_prodaje, int godina_prodaje, std::string &amp;ime_kupca,
<a name="6"></a><font color="#00FF00"><a href="match885-1.html#6" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_0.gif"/></a>

                            const Datum &amp;datum_rodjenja_kupca, const std::string &amp;adresa_stana,
                            int sprat_stana, int broj_soba, bool namjesten_stan, double broj_kvadrata);
    void RegistrirajProdaju(std::shared_ptr&lt;Prodaja&gt; p) {
</font>        prodaje_pok.push_back(p);
    }
    Prodaja &amp;DajProdaju (int indeks) {
        if (indeks &lt; 1 or indeks &gt; prodaje_pok.size()) throw "";
        return *prodaje_pok[indeks-1];
    }
    int DajBrojProdaja() const {
<a name="11"></a><font color="#00FF00"><a href="match885-1.html#11" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_0.gif"/></a>

        return prodaje_pok.size();
    }
    int DajBrojProdajaNaDatum(const Datum &amp;datum) const;
    int DajBrojProdajaOdAgenta(const std::string &amp;ime_agenta) const;
    Prodaja &amp;DajNajranijuProdaju();
    Prodaja DajNajranijuProdaju() const;
    Prodaja &amp;DajNajskupljuProdaju();
</font>    Prodaja DajNajskupljuProdaju() const;
    void IsprazniKolekciju();
    void ObrisiNajranijuProdaju();
    void ObrisiProdajeAgenta(const std::string &amp;ime_agenta);
    void ObrisiProdajeNaDatum(const Datum &amp;datum);
    void IspisiProdajeNaDatum(const Datum &amp;datum) const;
    void IspisiSveProdaje() const;

};

// KOPIRAJUCI KONSTRUKTOR
Prodaje::Prodaje(const Prodaje &amp;prodaje) : prodaje_pok(prodaje.prodaje_pok.size())
{
    
        for (int i = 0; i &lt; prodaje.prodaje_pok.size(); i++) {
            prodaje_pok[i] = std::make_shared&lt;Prodaja&gt;(*prodaje.prodaje_pok[i]);
        }
    
}
// COPY OPERATOR DODJELE
Prodaje &amp;Prodaje::operator =(Prodaje prodaje)
{
    std::swap (prodaje.prodaje_pok,prodaje_pok);
    return *this;
}

// REGISTRIRAJ PRODAJU
<a name="13"></a><font color="#00FFFF"><a href="match885-1.html#13" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_0.gif"/></a>

void Prodaje::RegistrirajProdaju(const std::string &amp;ime_agenta_prodaje,double cijena_stana,const Datum &amp;datum_prodaje, const Kupac &amp;kupac_stana,const Stan &amp;kupljeni_stan)
{
    prodaje_pok.push_back(std::make_shared&lt;Prodaja&gt;(Prodaja(ime_agenta_prodaje,cijena_stana,datum_prodaje,kupac_stana,kupljeni_stan)));
</font><a name="9"></a><font color="#FF00FF"><a href="match885-1.html#9" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_0.gif"/></a>

    
}
// REGISTRIRAJ PRODAJU
void Prodaje::RegistrirajProdaju(const std::string &amp;ime_agenta_prodaje,double cijena_stana, int dan_prodaje,int mjesec_prodaje, int godina_prodaje, std::string &amp;ime_kupca,const Datum &amp;datum_rodjenja_kupca, const std::string &amp;adresa_stana,int sprat_stana, int broj_soba, bool namjesten_stan, double broj_kvadrata)
</font>{
    prodaje_pok.push_back(std::make_shared&lt;Prodaja&gt;(Prodaja(ime_agenta_prodaje,cijena_stana,dan_prodaje,mjesec_prodaje,godina_prodaje,ime_kupca,datum_rodjenja_kupca,adresa_stana,sprat_stana,broj_soba,namjesten_stan,broj_kvadrata)));
    
}
// DAJ BROJ PRODAJA NA DATUM
int Prodaje::DajBrojProdajaNaDatum(const Datum &amp;datum) const
{
    return std::count_if(prodaje_pok.begin(),prodaje_pok.end(),[datum](std::shared_ptr&lt;Prodaja&gt; temp) {
        Datum d1(temp-&gt;DajDatumProdaje());
<a name="5"></a><font color="#FF0000"><a href="match885-1.html#5" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_0.gif"/></a>

        if(d1.DajGodinu() == datum.DajGodinu() and d1.DajMjesec() == datum.DajMjesec() and d1.DajDan() == datum.DajDan()) return true;
        return false;
    });
}

// DAJ BROJ PRODAJA OD AGENTA

int Prodaje::DajBrojProdajaOdAgenta(const std::string &amp;ime_agenta) const
{
    return std::count_if(prodaje_pok.begin(),prodaje_pok.end(),[ime_agenta](std::shared_ptr&lt;Prodaja&gt; temp) {
</font>        if (ime_agenta == temp-&gt;DajImeAgenta()) return true;
        return false;
    });
}

// DAJ NAJRANIJU PRODAJU

Prodaja &amp;Prodaje::DajNajranijuProdaju()
{
    if (prodaje_pok.empty()) throw std::domain_error ("Nema registriranih prodaja");
    return **std::min_element(prodaje_pok.begin(),prodaje_pok.end(),[](std::shared_ptr&lt;Prodaja&gt; p1, std::shared_ptr&lt;Prodaja&gt; p2) {
        if (ProdatPrije(*p1,*p2)) return true;
        return false;
    });
}
Prodaja Prodaje::DajNajranijuProdaju() const
{
    if (prodaje_pok.empty()) throw std::domain_error ("Nema registriranih prodaja");
    return **std::min_element(prodaje_pok.begin(),prodaje_pok.end(),[](std::shared_ptr&lt;Prodaja&gt; p1, std::shared_ptr&lt;Prodaja&gt; p2) {
        if (ProdatPrije(*p1,*p2)) return true;
        return false;
    });
}

// DAJ NAJSKUPJU PRODAJU

Prodaja &amp;Prodaje::DajNajskupljuProdaju()
{
    if (prodaje_pok.empty()) throw std::domain_error ("Nema registriranih prodaja");
<a name="7"></a><font color="#0000FF"><a href="match885-1.html#7" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_0.gif"/></a>

    return **std::max_element(prodaje_pok.begin(),prodaje_pok.end(),[](std::shared_ptr&lt;Prodaja&gt; p1, std::shared_ptr&lt;Prodaja&gt; p2) {
        if (p1-&gt;DajCijenuStana() &gt; p2-&gt;DajCijenuStana()) return true;
        return false;
</font>    });
}
// ISPRAZNI KOLEKCIJU
void Prodaje::IsprazniKolekciju()
{
    prodaje_pok.resize(0);
}
// OBRISI NAJRANIJU PRODAJU
void Prodaje::ObrisiNajranijuProdaju()
{
    if (prodaje_pok.empty()) throw std::range_error("Prazna kolekcija");
    for (int i = 0; i &lt; prodaje_pok.size(); i++) {
        if (prodaje_pok[i].get() == &amp;DajNajranijuProdaju()) {
            prodaje_pok[i] = nullptr;
            prodaje_pok.erase(prodaje_pok.begin()+i);
            break;
        }
    }
}
// OBRISI PRODAJE AGENTA
void Prodaje::ObrisiProdajeAgenta(const std::string &amp;ime_agenta)
{
    for (int i = 0; i &lt; prodaje_pok.size(); i++) {
        if (prodaje_pok[i]-&gt;DajImeAgenta() == ime_agenta) {
            prodaje_pok[i] = nullptr;
            prodaje_pok.erase(prodaje_pok.begin()+i);
        }
    }
}
// OBRISI PRODAJE NA DATUM
void Prodaje::ObrisiProdajeNaDatum(const Datum &amp;datum)
{
    for (int i = 0; i &lt; prodaje_pok.size(); i++) {
        Datum d1(prodaje_pok[i]-&gt;DajDatumProdaje());
        if(d1.DajGodinu() == datum.DajGodinu() and d1.DajMjesec() == datum.DajMjesec() and d1.DajDan() == datum.DajDan())  {
            prodaje_pok[i] = nullptr;
            prodaje_pok.erase(prodaje_pok.begin()+i);
        }
    }
}
// ISPISI PRODAJE NA DATUM
void Prodaje::IspisiProdajeNaDatum(const Datum &amp;datum) const
{
    auto prodaje_pok2 = prodaje_pok;
<a name="8"></a><font color="#00FFFF"><a href="match885-1.html#8" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_0.gif"/></a>

    std::sort(prodaje_pok2.begin(),prodaje_pok2.end(),[](std::shared_ptr&lt;Prodaja&gt; pr1,std::shared_ptr&lt;Prodaja&gt; pr2) {
        if(pr1-&gt;DajDatumProdaje().DajGodinu() == pr2-&gt;DajDatumProdaje().DajGodinu() and pr1-&gt;DajDatumProdaje().DajMjesec() == pr2-&gt;DajDatumProdaje().DajMjesec() and pr1-&gt;DajDatumProdaje().DajDan() == pr2-&gt;DajDatumProdaje().DajDan()) {
</font><a name="3"></a><font color="#00FFFF"><a href="match885-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_0.gif"/></a>

            return pr1-&gt;DajImeKupca() &gt; pr2-&gt;DajImeKupca();
        }
        return ProdatPrije(*pr1,*pr2);
    });
    for (int i = 0; i &lt; prodaje_pok.size(); i++) {
</font>        Datum d1(prodaje_pok[i]-&gt;DajDatumProdaje());
        if(d1.DajGodinu() == datum.DajGodinu() and d1.DajMjesec() == datum.DajMjesec() and d1.DajDan() == datum.DajDan())  {
            prodaje_pok[i]-&gt;Ispisi();
            std::cout  &lt;&lt; std::endl;
        }
    }
}
void Prodaje::IspisiSveProdaje() const
{
    auto prodaje_pok2 = prodaje_pok;
    std::sort(prodaje_pok2.begin(),prodaje_pok2.end(),[](std::shared_ptr&lt;Prodaja&gt; pr1,std::shared_ptr&lt;Prodaja&gt; pr2) {
        if(pr1-&gt;DajDatumProdaje().DajGodinu() == pr2-&gt;DajDatumProdaje().DajGodinu() and pr1-&gt;DajDatumProdaje().DajMjesec() == pr2-&gt;DajDatumProdaje().DajMjesec() and pr1-&gt;DajDatumProdaje().DajDan() == pr2-&gt;DajDatumProdaje().DajDan()) {
            return pr1-&gt;DajImeKupca() &lt; pr2-&gt;DajImeKupca();
        }
        return ProdatPrije(*pr1,*pr2);
    });
    for (int i = 0; i &lt; prodaje_pok.size(); i++) {
        prodaje_pok[i]-&gt;Ispisi();
        std::cout  &lt;&lt; std::endl;
    }
}




// MAIN CODE
int main ()
{
    
    Prodaje pr_test(20);
    std::vector&lt;std::shared_ptr&lt;Stan&gt;&gt; v1;
    std::vector&lt;std::shared_ptr&lt;Kupac&gt;&gt; v2;
    int opcija;
    int opcija2;
    bool nije_kraj(true);
    std::cout &lt;&lt; "Dobrodosli!" &lt;&lt; std::endl &lt;&lt;std::endl&lt;&lt; endl;
    do {
        std::cout &lt;&lt; "Izaberite opciju:" &lt;&lt; std::endl;
        std::cout &lt;&lt; " 0 - kraj" &lt;&lt; std::endl;
        std::cout &lt;&lt; " 1 - uredjivanje stanova" &lt;&lt; std::endl;
        std::cout &lt;&lt; " 2 - uredjivanje kupaca" &lt;&lt; std::endl;
        std::cout &lt;&lt; " 3 - uredjivanje prodaja" &lt;&lt; std::endl;
        std::cin &gt;&gt; opcija;
        switch (opcija) {
            // MAIN ZA KRAJ CASE 0;
        case 0:
            nije_kraj = false;
            break;
            // MAIN UREDJIVANJE STANOVA CASE 1
        case 1: {
            do {
                std::cout &lt;&lt; "Izaberite opciju:" &lt;&lt; std::endl;
                std::cout &lt;&lt; " 0 - nazad" &lt;&lt; std::endl;
                std::cout &lt;&lt; " 1 - dodavanje stana" &lt;&lt; std::endl;
                std::cout &lt;&lt; " 2 - uredjivanje stanova" &lt;&lt; std::endl;
                std::cout &lt;&lt; " 3 - ispis svih stanova" &lt;&lt; std::endl;
                std::cout &lt;&lt; " 4 - kraj" &lt;&lt; std::endl;
                std::cin &gt;&gt; opcija2;
                switch (opcija2) {
                    // UREDJIVANJE STANOVA NAZAD CASE 0
                case 0:
                    break;
                    // DODOAVANJE STANA CASE 1
                case 1: {
                    bool unos(false);
                    std::string adresa;
                    int sprat,broj_soba;
                    int namjesten;
                    double kvadratura;
                    do {
                        unos = false;
                        std::cout &lt;&lt; "Unesite adresu: ";
                        cin.ignore(100,'\n');
                        std::getline(std::cin,adresa);
                        std::cout &lt;&lt; "Unesite sprat: ";
                        std::cin &gt;&gt; sprat;
                        std::cout &lt;&lt; "Unesite broj soba: ";
                        std::cin &gt;&gt; broj_soba;
                        std::cout &lt;&lt; "Da li je stan namjesten (1 - da, 0 - ne): ";
                        std::cin &gt;&gt; namjesten;

                        std::cout &lt;&lt; "Unesite kvadraturu: ";
                        std::cin &gt;&gt; kvadratura;

                        try {
                            if (namjesten &lt; 0 or namjesten &gt; 1) throw std::domain_error("Neispravan unos podataka");
                            v1.push_back(std::make_shared&lt;Stan&gt;(adresa,sprat,broj_soba,namjesten,kvadratura));
                            std::cout &lt;&lt; "Stan je uspjesno dodan!" &lt;&lt; std::endl &lt;&lt; std::endl;
                        } catch (std::exception &amp;e) {
                            std::cout &lt;&lt; "Izuzetak: " &lt;&lt; e.what()&lt;&lt;". Molimo unesite opet." &lt;&lt; std::endl;
                            unos = true;
                            cin.clear();
                        }
                    } while(unos);
                }
                break;
                // UREDJIVANJE STANOVA PROMJENA STANA
                case 2: {
                    if (v1.empty()) {
                        std::cout &lt;&lt; "Nema dostupni stanova" &lt;&lt; std::endl;
                        break;
                    }
                    std::cout &lt;&lt; "Odaberite stan. Dostupni stanovi su: " &lt;&lt; std::endl;
                    for (int i = 0; i &lt; v1.size(); i++) {
                        std::cout &lt;&lt; " " &lt;&lt; i+1 &lt;&lt; " - ";
                        v1[i]-&gt;Ispisi();
                        std::cout  &lt;&lt; std::endl;
                    }
                    int br_stana;
                    int opcija_ur_stan;
                    std::cin &gt;&gt; br_stana;
                    if (br_stana &lt; 1 or br_stana &gt; v1.size()) {
                        std::cout &lt;&lt; "Neispravan broj stana" &lt;&lt; std::endl;
                        break;
                    }
                    std::cout &lt;&lt; "Odaberite polje koje zelite urediti:" &lt;&lt; std::endl;
                    std::cout &lt;&lt; " 0 - nazad" &lt;&lt; std::endl;
                    std::cout &lt;&lt; " 1 - adresa" &lt;&lt; std::endl;
                    std::cout &lt;&lt; " 2 - sprat" &lt;&lt; std::endl;
                    std::cout &lt;&lt; " 3 - broj soba" &lt;&lt; std::endl;
                    std::cout &lt;&lt; " 4 - da li je stan namjesten" &lt;&lt; std::endl;
                    std::cout &lt;&lt; " 5 - kvadratura" &lt;&lt; std::endl;
                    std::cout &lt;&lt; " 6 - sve" &lt;&lt; std::endl;
                    std::cin &gt;&gt; opcija_ur_stan;
                    switch(opcija_ur_stan) {
                        // UREDJIVANJE STANOVA PROMJENA STANA NAZAD
                    case 0:
                        break;
                        // UREDJIVANJE STANOVA PROMJENA STANA ADRESA
                    case 1: {
                        std::string adresa;
                        bool unos(false);
                        do {
                            std::cout &lt;&lt; "Unesite adresu: ";
                            cin.ignore(100,'\n');
                            std::getline(cin,adresa);
                            unos = false;
                            try {
                                v1[br_stana-1]-&gt;Postavi(adresa,v1[br_stana-1]-&gt;DajSprat(),v1[br_stana-1]-&gt;DajBrojSoba(),v1[br_stana-1]-&gt;DajNamjesten(),v1[br_stana-1]-&gt;DajKvadraturu());
                                std::cout &lt;&lt; "Stan je uspjesno izmijenjen!" &lt;&lt; std::endl &lt;&lt; std::endl;
                            } catch (std::exception &amp;e) {
                                std::cout &lt;&lt; "Izuzetak: " &lt;&lt; e.what()&lt;&lt;". Molimo unesite opet." &lt;&lt; std::endl;
                                unos = true;
                                cin.clear();
                            }
                        } while (unos);
                    }
                    break;
                    // UREDJIVANJE STANOVA PROMJENA STANA SPRAT
                    case 2: {
                        int sprat;
                        bool unos(false);
                        do {
                            std::cout &lt;&lt; "Unesite sprat: ";
                            std::cin &gt;&gt; sprat;
                            unos = false;
                            try {
                                v1[br_stana-1]-&gt;Postavi(v1[br_stana-1]-&gt;DajAdresu(),sprat,v1[br_stana-1]-&gt;DajBrojSoba(),v1[br_stana-1]-&gt;DajNamjesten(),v1[br_stana-1]-&gt;DajKvadraturu());
                                std::cout &lt;&lt; "Stan je uspjesno izmijenjen!" &lt;&lt; std::endl&lt;&lt; std::endl;
                            } catch (std::exception &amp;e) {
                                std::cout &lt;&lt; "Izuzetak: " &lt;&lt; e.what()&lt;&lt;". Molimo unesite opet." &lt;&lt; std::endl;
                                unos = true;
                                cin.clear();
                            }
                        } while (unos);
                    }
                    break;
                    // UREDJIVANJE STANOVA PROMJENA STANA BROJ SOBA
                    case 3: {
                        int broj_soba;
                        bool unos(false);
                        do {
                            std::cout &lt;&lt; "Unesite broj soba: ";
                            std::cin &gt;&gt; broj_soba;
                            unos = false;
                            try {
                                v1[br_stana-1]-&gt;Postavi(v1[br_stana-1]-&gt;DajAdresu(),v1[br_stana-1]-&gt;DajSprat(),broj_soba,v1[br_stana-1]-&gt;DajNamjesten(),v1[br_stana-1]-&gt;DajKvadraturu());
                                std::cout &lt;&lt; "Stan je uspjesno izmijenjen!" &lt;&lt; std::endl&lt;&lt; std::endl;
                            } catch (std::exception &amp;e) {
                                std::cout &lt;&lt; "Izuzetak: " &lt;&lt; e.what()&lt;&lt;". Molimo unesite opet." &lt;&lt; std::endl;
                                unos = true;
                                cin.clear();
                            }
                        } while (unos);
                    }
                    break;
                    // UREDJIVANJE STANOVA PROMJENA STANA NAMJESTEN
                    case 4: {
                        int namjesten;
                        bool unos(false);
                        do {
                            std::cout &lt;&lt; "Da li je stan namjesten (1 - da, 0 - ne): ";
                            std::cin &gt;&gt; namjesten;
                            unos = false;
                            try {
                                if (namjesten &lt; 0 or namjesten &gt; 1) throw std::domain_error("Neispravan unos podataka");
                                v1[br_stana-1]-&gt;Postavi(v1[br_stana-1]-&gt;DajAdresu(),v1[br_stana-1]-&gt;DajSprat(),v1[br_stana-1]-&gt;DajBrojSoba(),namjesten,v1[br_stana-1]-&gt;DajKvadraturu());
                                std::cout &lt;&lt; "Stan je uspjesno izmijenjen!" &lt;&lt; std::endl &lt;&lt; std::endl;
                            } catch (std::exception &amp;e) {
                                std::cout &lt;&lt; "Izuzetak: " &lt;&lt; e.what()&lt;&lt;". Molimo unesite opet." &lt;&lt; std::endl;
                                unos = true;
                                cin.clear();
                            }
                        } while (unos);
                    }
                    break;
                    // UREDJIVANJE STANOVA PROMJENA STANA KVADRATURA
                    case 5: {
                        double kvadratura;
                        bool unos(false);
                        do {
                            std::cout &lt;&lt; "Unesite kvadraturu: ";
                            std::cin &gt;&gt; kvadratura;
                            unos = false;
                            try {
                                v1[br_stana-1]-&gt;Postavi(v1[br_stana-1]-&gt;DajAdresu(),v1[br_stana-1]-&gt;DajSprat(),v1[br_stana-1]-&gt;DajBrojSoba(),v1[br_stana-1]-&gt;DajNamjesten(),kvadratura);
                                std::cout &lt;&lt; "Stan je uspjesno izmijenjen!" &lt;&lt; std::endl&lt;&lt; std::endl;
                            } catch (std::exception &amp;e) {
                                std::cout &lt;&lt; "Izuzetak: " &lt;&lt; e.what()&lt;&lt;". Molimo unesite opet." &lt;&lt; std::endl;
                                unos = true;
                                cin.clear();
                            }
                        } while (unos);
                    }
                    break;
                    // UREDJIVANJE STANOVA PROMJENA STANA SVE
                    case 6: {
                        bool unos(false);
                        std::string adresa;
                        int sprat,broj_soba;
                        int namjesten;
                        double kvadratura;
                        do {
                            unos = false;
                            std::cout &lt;&lt; "Unesite adresu: ";
                            cin.ignore(100,'\n');
                            std::getline(std::cin,adresa);
                            std::cout &lt;&lt; "Unesite sprat: ";
                            std::cin &gt;&gt; sprat;
                            std::cout &lt;&lt; "Unesite broj soba: ";
                            std::cin &gt;&gt; broj_soba;
                            std::cout &lt;&lt; "Da li je stan namjesten (1 - da, 0 - ne): ";
                            std::cin &gt;&gt; namjesten;
                            std::cout &lt;&lt; "Unesite kvadraturu: ";
                            std::cin &gt;&gt; kvadratura;
                            try {
                                if (namjesten &lt; 0 or namjesten &gt; 1) throw std::domain_error("Neispravan unos podataka");
                                v1[br_stana-1]-&gt;Postavi(adresa,sprat,broj_soba,namjesten,kvadratura);
                                std::cout &lt;&lt; "Stan je uspjesno izmijenjen!" &lt;&lt; std::endl&lt;&lt; std::endl;
                            } catch (std::exception &amp;e) {
                                std::cout &lt;&lt; "Izuzetak: " &lt;&lt; e.what()&lt;&lt;". Molimo unesite opet." &lt;&lt; std::endl;
                                unos = true;
                                cin.clear();
                            }
                        } while(unos);
                    }
                    break;
                    }
                }
                break;
                // CASE 3
                case 3: {
                    if (v1.empty()) {
                        std::cout &lt;&lt; "Nema dostupni stanova" &lt;&lt; std::endl;
                        break;
                    }
                    for (int i = 0; i &lt; v1.size(); i++) {
                        std::cout &lt;&lt; i+1 &lt;&lt; ". ";
                        v1[i]-&gt;Ispisi();
                        std::cout  &lt;&lt; std::endl;
                    }
                }
                break;
                // CASE 4
                case 4:
                    nije_kraj = false;
                    break;
                }
            } while(opcija2 != 0 and opcija2 != 4);
        }
        break;
        // CASE 2 UREDJIVANJE KUPACA
        case 2: {
            do {
                std::cout &lt;&lt; "Izaberite opciju:" &lt;&lt; std::endl;
                std::cout &lt;&lt; " 0 - nazad" &lt;&lt; std::endl;
                std::cout &lt;&lt; " 1 - dodavanje kupca" &lt;&lt; std::endl;
                std::cout &lt;&lt; " 2 - uredjivanje kupaca" &lt;&lt; std::endl;
                std::cout &lt;&lt; " 3 - ispis svih kupaca" &lt;&lt; std::endl;
                std::cout &lt;&lt; " 4 - kraj" &lt;&lt; std::endl;
                std::cin &gt;&gt; opcija2;
                switch (opcija2) {
                    // UREDJIVANJE KUPACA NAZAD CASE 0
                case 0:
                    break;
                    // UREDJIVANJE KUPACA DODOAVANJE KUPCA CASE 1
                case 1: {
                    bool unos(false);
                    std::string ime_i_prezime;
                    int dan,mjesec,godina;
                    char temp;
                    do {
                        unos = false;
                        std::cout &lt;&lt; "Unesite ime i prezime kupca: ";
                        cin.ignore(100,'\n');
                        std::getline(std::cin,ime_i_prezime);
                        std::cout &lt;&lt; "Unesite datum rodjenja (formata d/m/g): ";
                        std::cin &gt;&gt; dan &gt;&gt; temp &gt;&gt; mjesec &gt;&gt; temp &gt;&gt; godina;
                        try {
                            v2.push_back(std::make_shared&lt;Kupac&gt;(ime_i_prezime,Datum(dan,mjesec,godina)));
                            std::cout &lt;&lt; "Kupac je uspjesno dodan!" &lt;&lt; std::endl&lt;&lt; std::endl;
                        } catch (std::exception &amp;e) {
                            std::cout &lt;&lt; "Izuzetak: " &lt;&lt; e.what()&lt;&lt;". Molimo unesite opet." &lt;&lt; std::endl;
                            unos = true;
                            cin.clear();
                        }
                    } while(unos);
                }
                break;
                // UREDJIVANJE KUPACA PROMJENA KUPCA
                case 2: {
                    if (v2.empty()) {
                        std::cout &lt;&lt; "Nema dostupni kupaca" &lt;&lt; std::endl;
                        break;
                    }
                    std::cout &lt;&lt; "Odaberite kupca kojeg zelite urediti. Dostupni kupci su:" &lt;&lt; std::endl;
                    for (int i = 0; i &lt; v2.size(); i++) {
                        std::cout &lt;&lt; " " &lt;&lt; i+1 &lt;&lt; " - ";
                        v2[i]-&gt;Ispisi();
                        std::cout  &lt;&lt; std::endl;
                    }
                    int br_kupca;
                    std::cin &gt;&gt; br_kupca;
                    if (br_kupca &lt; 1 or br_kupca &gt; v2.size()) {
                        std::cout &lt;&lt; "Neispravan broj kupca" &lt;&lt; std::endl;
                        break;
                    }
                    bool unos(false);
                    std::string ime_i_prezime;
                    int dan,mjesec,godina;
                    char temp;
                    do {
                        unos = false;

                        cin.ignore(100,'\n');
                        std::cout &lt;&lt; "Unesite ime i prezime kupca: ";
                        std::getline(std::cin,ime_i_prezime);
                        std::cout &lt;&lt; "Unesite datum rodjenja (formata d/m/g): ";
                        std::cin &gt;&gt; dan &gt;&gt; temp &gt;&gt; mjesec &gt;&gt; temp &gt;&gt; godina;
                        try {
                            v2[br_kupca-1]-&gt;Postavi(ime_i_prezime,Datum(dan,mjesec,godina));
                            std::cout &lt;&lt; "Kupac je uspjesno izmijenjen!" &lt;&lt; std::endl&lt;&lt; std::endl;
                        } catch (std::exception &amp;e) {
                            std::cout &lt;&lt; "Izuzetak: " &lt;&lt; e.what()&lt;&lt;". Molimo unesite opet." &lt;&lt; std::endl;
                            unos = true;
                            cin.clear();
                        }
                    } while(unos);
                }
                break;
                // CASE 3
                case 3: {
                    if (v2.empty()) {
                        std::cout &lt;&lt; "Nema dostupni kupaca" &lt;&lt; std::endl;
                        break;
                    }
                    for (int i = 0; i &lt; v2.size(); i++) {
                        v2[i]-&gt;Ispisi();
                        std::cout  &lt;&lt; std::endl;
                    }
                }
                break;
                // CASE 4
                case 4:
                    nije_kraj = false;
                    break;
                }
            } while(opcija2 != 0 and opcija2 != 4);
        }
        break;
        // CASE 3 UREDJIVANJE PRODAJA
        case 3: {
            do {
                std::cout &lt;&lt; "Izaberite opciju:" &lt;&lt; std::endl;
                std::cout &lt;&lt; " 0 - nazad" &lt;&lt; std::endl;
                std::cout &lt;&lt; " 1 - dodavanje prodaje" &lt;&lt; std::endl;
                std::cout &lt;&lt; " 2 - uredjivanje prodaje" &lt;&lt; std::endl;
                std::cout &lt;&lt; " 3 - ispis prodaja" &lt;&lt; std::endl;
                std::cout &lt;&lt; " 4 - brisanje prodaja" &lt;&lt; std::endl;
                std::cout &lt;&lt; " 5 - kraj" &lt;&lt; std::endl;
                std::cin &gt;&gt; opcija2;
                switch (opcija2) {
                    // NAZAD CASE 0
                case 0:
                    break;
                    // DODAVANJE PRODAJE
                case 1: {
                    int opcija3;
                    do {
                        std::cout &lt;&lt; "Izaberite opciju:" &lt;&lt; std::endl;
                        std::cout &lt;&lt; " 0 - nazad" &lt;&lt; std::endl;
                        std::cout &lt;&lt; " 1 - dodavanje potpuno nove prodaje" &lt;&lt; std::endl;
                        std::cout &lt;&lt; " 2 - dodavanje nove prodaje na osnovu arhive" &lt;&lt; std::endl;
                        std::cout &lt;&lt; " 3 - kraj" &lt;&lt; std::endl;
                        std::cin &gt;&gt; opcija3;
                        switch (opcija3) {
                            // NAZAD
                        case 0:
                            break;
                            // DODAVANJE POTPUNO NOVE PRODAJE
                        case 1: {
                            std::string ime_agenta_prodaje;
                            int dan1,dan2,mjesec1,mjesec2,godina1,godina2;
                            int cijena_stana,sprat,broj_soba;
                            int namjesten;
                            double kvadratura;
                            char t;
                            std::string ime_kupca;
                            std::string adresa;
                            bool unos(false);
                            do {
                                unos = false;
                                std::cout &lt;&lt; "Unesite ime i prezime agenta prodaje: ";
                                cin.ignore(100,'\n');
                                std::getline(cin,ime_agenta_prodaje);
                                std::cout &lt;&lt; "Unesite datum prodaje (formata d/m/g): ";
                                std::cin &gt;&gt; dan1 &gt;&gt; t &gt;&gt; mjesec1 &gt;&gt; t &gt;&gt; godina1;
                                std::cout &lt;&lt; "Unesite cijenu stana: ";
                                std::cin &gt;&gt; cijena_stana;
                                std::cout &lt;&lt; "Unesite ime kupca: ";
                                cin.ignore(100,'\n');
                                std::getline(cin,ime_kupca);
                                std::cout &lt;&lt; "Unesite datum rodjenja kupca (formata d/m/g): ";
                                std::cin &gt;&gt; dan2 &gt;&gt; t &gt;&gt; mjesec2 &gt;&gt; t &gt;&gt; godina2;
                                std::cout &lt;&lt; "Unesite adresu: ";
                                cin.ignore(100,'\n');
                                std::getline(cin,adresa);
                                std::cout &lt;&lt; "Unesite sprat: ";
                                std::cin &gt;&gt; sprat;
                                std::cout &lt;&lt; "Unesite broj soba: ";
                                std::cin &gt;&gt; broj_soba;
                                std::cout &lt;&lt; "Da li je stan namjesten (1 - da, 0 - ne): ";
                                std::cin &gt;&gt; namjesten;
                                std::cout &lt;&lt; "Unesite kvadraturu: ";
                                std::cin &gt;&gt; kvadratura;
                                try {
                                    if (namjesten &lt; 0 or namjesten &gt; 1) throw std::domain_error("Neispravan unos podataka");
                                    v1.push_back(std::make_shared&lt;Stan&gt; (adresa,sprat,broj_soba,namjesten,kvadratura));
                                    v2.push_back(std::make_shared&lt;Kupac&gt;(ime_kupca,Datum(dan2,mjesec2,godina2)));
                                    pr_test.RegistrirajProdaju(ime_agenta_prodaje,cijena_stana,dan1,mjesec1,godina1,ime_kupca,Datum(dan2,mjesec2,godina2),adresa,sprat,broj_soba,namjesten,kvadratura);
                                    std::cout &lt;&lt; "Prodaja uspjesno dodana!" &lt;&lt; std::endl&lt;&lt; std::endl;
                                } catch (std::range_error e) {
                                    std::cout &lt;&lt; "Izuzetak: "&lt;&lt; e.what() &lt;&lt; std::endl;
                                    break;
                                } catch (std::exception &amp;e) {
                                    std::cout &lt;&lt; "Izuzetak: " &lt;&lt; e.what()&lt;&lt;". Molimo unesite opet." &lt;&lt; std::endl;
                                    unos = true;
                                    cin.clear();
                                }
                            } while(unos);
                        }
                        break;
                        // CASE 2 DODAVANJE PRODAJE NA OSNOVU ARHIVA
                        case 2: {
                            std::string ime_agenta_prodaje;
                            int dan,mjesec,godina;
                            double cijena_stana;
                            char t;
                            std::cout &lt;&lt; "Unesite ime i prezime agenta prodaje: ";
                            cin.ignore(100,'\n');
                            std::getline(cin,ime_agenta_prodaje);
                            std::cout &lt;&lt; "Unesite datum prodaje (formata d/m/g): ";
                            std::cin &gt;&gt; dan &gt;&gt; t &gt;&gt; mjesec &gt;&gt; t &gt;&gt; godina;
                            std::cout &lt;&lt; "Unesite cijenu stana: ";
                            std::cin &gt;&gt; cijena_stana;
                            if (v2.empty()) {
                                std::cout &lt;&lt; "Nema dostupni kupaca" &lt;&lt; std::endl;
                                break;
                            }
                            std::cout &lt;&lt; "Odaberite kupca. Dostupni kupci su:" &lt;&lt; std::endl;
                            for (int i = 0; i &lt; v2.size(); i++) {
                                std::cout &lt;&lt; " " &lt;&lt; i+1 &lt;&lt; " - ";
                                v2[i]-&gt;Ispisi();
                                std::cout  &lt;&lt; std::endl;
                            }
                            int br_kupca;
                            std::cin &gt;&gt; br_kupca;
                            if (br_kupca &lt; 1 or br_kupca &gt; v2.size()) {
                                std::cout &lt;&lt; "Neispravan broj kupca" &lt;&lt; std::endl;
                                break;
                            }
                            if (v1.empty()) {
                                std::cout &lt;&lt; "Nema dostupni stanova" &lt;&lt; std::endl;
                                break;
                            }
                            std::cout &lt;&lt; "Odaberite stan. Dostupni stanovi su: " &lt;&lt; std::endl;
                            for (int i = 0; i &lt; v1.size(); i++) {
                                std::cout &lt;&lt; " " &lt;&lt; i+1 &lt;&lt; " - ";
                                v1[i]-&gt;Ispisi();
                                std::cout  &lt;&lt; std::endl;
                            }
                            int br_stana;
                            std::cin &gt;&gt; br_stana;
                            if (br_stana &lt; 1 or br_stana &gt; v1.size()) {
                                std::cout &lt;&lt; "Neispravan broj stana" &lt;&lt; std::endl;
                                break;
                            }
                            try {
                                pr_test.RegistrirajProdaju(ime_agenta_prodaje,cijena_stana,Datum(dan,mjesec,godina),*v2[br_kupca-1],*v1[br_stana-1]);
                                std::cout &lt;&lt; "Prodaja uspjesno dodana!" &lt;&lt; std::endl;
                            } catch (std::range_error e) {
                                std::cout &lt;&lt; "Izuzetak: "&lt;&lt; e.what() &lt;&lt; std::endl;
                                break;
                            } catch (std::exception &amp;e) {
                                std::cout &lt;&lt; "Izuzetak: " &lt;&lt; e.what()&lt;&lt;". Molimo unesite opet." &lt;&lt; std::endl;
                                break;
                                cin.clear();
                            }
                        }
                        break;
                        // CASE 3
                        case 3:
                            nije_kraj = false;
                            break;
                        }
                    } while (opcija3 != 3 and opcija3 != 0);
                }
                break;

                // UREDJIVANJE PRODAJE
                case 2: {
                    std::cout &lt;&lt; "Odaberite prodaju koju želite urediti. Dostupne prodaje su:" &lt;&lt; std::endl;
                    if (pr_test.DajBrojProdaja() == 0) {
                        std::cout &lt;&lt; "Nema dostupni prodaja" &lt;&lt; std::endl;
                        break;
                    }
                    for (int i = 0; i &lt; pr_test.DajBrojProdaja(); i++) {
                        std::cout &lt;&lt; i+1 &lt;&lt; "." &lt;&lt; std::endl;
                        pr_test.DajProdaju(i+1).Ispisi();
                        
                    }
                    int br_prodaje;
                    std::cin &gt;&gt; br_prodaje;
                    if (br_prodaje &lt; 1 or br_prodaje &gt; pr_test.DajBrojProdaja()) {
                        std::cout &lt;&lt; "Neispravan broj prodaje" &lt;&lt; std::endl;
                        break;
                    }
                    int opcija_izmjena_prodaje;
                    std::cout &lt;&lt; "Izaberite opciju:" &lt;&lt; std::endl;
                    std::cout &lt;&lt; " 0 - nazad" &lt;&lt; std::endl;
                    std::cout &lt;&lt; " 1 - izmjena agenta" &lt;&lt; std::endl;
                    std::cout &lt;&lt; " 2 - izmjena datuma prodaje" &lt;&lt; std::endl;
                    std::cout &lt;&lt; " 3 - izmjena kupca" &lt;&lt; std::endl;
                    std::cout &lt;&lt; " 4 - izmjena stana" &lt;&lt; std::endl;
                    std::cout &lt;&lt; " 5 - izmjena cijene stana" &lt;&lt; std::endl;
                    std::cin &gt;&gt; opcija_izmjena_prodaje;
                    switch(opcija_izmjena_prodaje) {

                    case 0:
                        break;
                        // UREDJIVANJE PRODAJA PROMJENA AGENT
                    case 1: {
                        std::string ime_agenta_prodaje;
                        bool unos(false);
                        do {
                            std::cout &lt;&lt; "Unesite ime i prezime agenta prodaje: ";
                            cin.ignore(100,'\n');
                            std::getline(cin,ime_agenta_prodaje);
                            unos = false;
                            try {
                                pr_test.DajProdaju(br_prodaje).PromjeniAgenta(ime_agenta_prodaje);
                                std::cout &lt;&lt; "Prodaja je uspjesno izmijenjena!" &lt;&lt; std::endl&lt;&lt; std::endl;
                            } catch (std::exception &amp;e) {
                                std::cout &lt;&lt; "Izuzetak: " &lt;&lt; e.what()&lt;&lt;". Molimo unesite opet." &lt;&lt; std::endl;
                                unos = true;
                                cin.clear();
                            }
                        } while (unos);
                    }
                    break;
                    // UREDJIVANJE PRODAJE IZMJENA DATUMA PRODAJE
                    case 2: {
                        int dan,mjesec,godina;
                        char t;
                        bool unos(false);
                        do {
                            std::cout &lt;&lt; "Unesite datum prodaje (formata d/m/g): ";
                            std::cin &gt;&gt; dan &gt;&gt; t&gt;&gt; mjesec&gt;&gt;t &gt;&gt;godina;
                            unos = false;
                            try {
                                pr_test.DajProdaju(br_prodaje).PromijeniDatumKupovine(Datum(dan,mjesec,godina));
                                std::cout &lt;&lt; "Prodaja je uspjesno izmijenjena!" &lt;&lt; std::endl&lt;&lt; std::endl;
                            } catch (std::exception &amp;e) {
                                std::cout &lt;&lt; "Izuzetak: " &lt;&lt; e.what()&lt;&lt;". Molimo unesite opet." &lt;&lt; std::endl;
                                unos = true;
                                cin.clear();
                            }
                        } while (unos);
                    }
                    break;
                    // UREDJIVANJE PRODAJE IZMJENA KUPCA
                    case 3: {
                        std::cout &lt;&lt; "Izaberite opciju:" &lt;&lt; std::endl;
                        std::cout &lt;&lt; " 0 - nazad" &lt;&lt; std::endl;
                        std::cout &lt;&lt; " 1 - odabir postojeceg kupca" &lt;&lt; std::endl;
                        std::cout &lt;&lt; " 2 - dodavanje novog kupca" &lt;&lt; std::endl;
                        int opcija3;
                        std::cin &gt;&gt; opcija3;
                        switch (opcija3) {
                        case 0 :
                            break;
                        case 1 : {
                            if (v2.empty()) {
                                std::cout &lt;&lt; "Nema dostupni kupaca" &lt;&lt; std::endl;
                                break;
                            }
                            std::cout &lt;&lt; "Odaberite kupca. Dostupni kupci su:" &lt;&lt; std::endl;
                            for (int i = 0; i &lt; v2.size(); i++) {
                                std::cout &lt;&lt; i+1 &lt;&lt; " - ";
                                v2[i]-&gt;Ispisi();
                                std::cout  &lt;&lt; std::endl;
                            }
                            int br_kupca;
                            std::cin &gt;&gt; br_kupca;
                            if (br_kupca &lt; 1 or br_kupca &gt; v2.size()) {
                                std::cout &lt;&lt; "Neispravan broj kupca" &lt;&lt; std::endl;
                                break;
                            }
                            try {
                                pr_test.DajProdaju(br_prodaje).PromijeniKupca(*v2[br_kupca-1]);
                                std::cout &lt;&lt; "Prodaja je uspjesno izmijenjena!" &lt;&lt; std::endl&lt;&lt; std::endl;
                            } catch (std::exception &amp;e) {
                                std::cout &lt;&lt; "Izuzetak: " &lt;&lt; e.what()&lt;&lt;". Molimo unesite opet." &lt;&lt; std::endl;
                                break;
                                cin.clear();
                            }

                        }
                        break;
                        // CASE 2 DODAVANJE KUPCA
                        case 2 : {
                            std::string ime_kupca;
                            int dan,mjesec,godina;
                            char t;
                            bool unos(false);
                            do {
                                unos = false;
                                std::cout &lt;&lt; "Unesite ime i prezime kupca: ";
                                cin.ignore(100,'\n');
                                std::getline(cin,ime_kupca);
                                std::cout &lt;&lt; "Unesite datum rodjenja (formata d/m/g): ";
                                std::cin &gt;&gt; dan &gt;&gt; t &gt;&gt; mjesec &gt;&gt; t &gt;&gt; godina;
                                try {
                                    pr_test.DajProdaju(br_prodaje).PromijeniKupca(Kupac(ime_kupca,Datum(dan,mjesec,godina)));
                                    v2.push_back(std::make_shared&lt;Kupac&gt;(ime_kupca,Datum(dan,mjesec,godina)));
                                    std::cout &lt;&lt; "Prodaja je uspjesno izmijenjena!" &lt;&lt; std::endl&lt;&lt; std::endl;
                                } catch (std::exception &amp;e) {
                                    std::cout &lt;&lt; "Izuzetak: " &lt;&lt; e.what()&lt;&lt;". Molimo unesite opet." &lt;&lt; std::endl;
                                    unos = true;
                                    cin.clear();
                                }
                            } while (unos);
                        }
                        break;
                        }
                    }
                    break;
                    // UREDJIVANJE PRODAJA IZMJENA STANA
                    case 4: {
                        std::cout &lt;&lt; "Izaberite opciju:" &lt;&lt; std::endl;
                        std::cout &lt;&lt; " 0 - nazad" &lt;&lt; std::endl;
                        std::cout &lt;&lt; " 1 - odabir postojeceg kupca" &lt;&lt; std::endl;
                        std::cout &lt;&lt; " 2 - dodavanje novog stana" &lt;&lt; std::endl;
                        int opcija3; 
                        std::cin &gt;&gt; opcija3;
                        switch (opcija3) {
                        case 0 :
                            break;
                        case 1 : {
                            if (v1.empty()) {
                                std::cout &lt;&lt; "Nema dostupni stanova" &lt;&lt; std::endl;
                                break;
                            }
                            std::cout &lt;&lt; "Odaberite stan. Dostupni stanovi su: " &lt;&lt; std::endl;
                            for (int i = 0; i &lt; v1.size(); i++) {
                                std::cout &lt;&lt; i+1 &lt;&lt; " - ";
                                v1[i]-&gt;Ispisi();
                                std::cout  &lt;&lt; std::endl;
                            }
                            int br_stana;
                            std::cin &gt;&gt; br_stana;
                            if (br_stana &lt; 1 or br_stana &gt; v1.size()) {
                                std::cout &lt;&lt; "Neispravan broj stana" &lt;&lt; std::endl;
                                break;
                            }
                            try {
                                pr_test.DajProdaju(br_prodaje).PromijeniStan(*v1[br_stana-1]);
                                std::cout &lt;&lt; "Prodaja je uspjesno izmijenjena!" &lt;&lt; std::endl&lt;&lt; std::endl;
                            } catch (std::exception &amp;e) {
                                break;
                                cin.clear();
                            }
                        }
                        break;
                        // CASE 2 DODAVANJE KUPCA
                        case 2: {
                            bool unos(false);
                            std::string adresa;
                            int sprat,broj_soba;
                            bool namjesten;
                            double kvadratura;
                            do {
                                unos = false;
                                std::cout &lt;&lt; "Unesite adresu: ";
                                cin.ignore(100,'\n');
                                std::getline(std::cin,adresa);
                                std::cout &lt;&lt; "Unesite sprat: ";
                                std::cin &gt;&gt; sprat;
                                std::cout &lt;&lt; "Unesite broj soba: ";
                                std::cin &gt;&gt; broj_soba;
                                std::cout &lt;&lt; "Da li je stan namjesten (1 - da, 0 - ne): ";
                                std::cin &gt;&gt; namjesten;

                                std::cout &lt;&lt; "Unesite kvadraturu: ";
                                std::cin &gt;&gt; kvadratura;
                                try {
                                    v1.push_back(std::make_shared&lt;Stan&gt;(adresa,sprat,broj_soba,namjesten,kvadratura));
                                    pr_test.DajProdaju(br_prodaje).PromijeniStan(Stan(adresa,sprat,broj_soba,namjesten,kvadratura));
                                    std::cout &lt;&lt; "Prodaja uspjesno izmjenjena!" &lt;&lt; std::endl&lt;&lt; std::endl;
                                } catch (std::exception &amp;e) {
                                    std::cout &lt;&lt; "Izuzetak: " &lt;&lt; e.what()&lt;&lt;". Molimo unesite opet." &lt;&lt; std::endl;
                                    unos = true;
                                    cin.clear();

                                }
                            } while(unos);
                        }
                        }
                    }
                    break;
                    // CASE 5 IZMJENA CIJENE STANA
                    case 5: {
                        double cijena_stana;
                        bool unos(false);
                        do {
                            std::cout &lt;&lt; "Unesite cijenu stana: ";
                            cin &gt;&gt; cijena_stana;
                            unos = false;
                            try {
                                pr_test.DajProdaju(br_prodaje).PromijeniCijenuProdaje(cijena_stana);
                                std::cout &lt;&lt; "Prodaja je uspjesno izmijenjena!" &lt;&lt; std::endl&lt;&lt; std::endl;
                            } catch (std::exception &amp;e) {
                                std::cout &lt;&lt; "Izuzetak: " &lt;&lt; e.what()&lt;&lt;". Molimo unesite opet." &lt;&lt; std::endl;
                                unos = true;
                                cin.clear();
                            }
                        } while (unos);
                    }
                    break;
                    }
                }
                break;
                // CASE 3 ISPIS PRODAJA
                case 3: {
                    int opcija3;
                    do {
                        std::cout &lt;&lt; "Izaberite opciju:" &lt;&lt; std::endl;
                        std::cout &lt;&lt; " 0 - nazad" &lt;&lt; std::endl;
                        std::cout &lt;&lt; " 1 - ispis svih prodaja" &lt;&lt; std::endl;
                        std::cout &lt;&lt; " 2 - ispis prodaja na datum" &lt;&lt; std::endl;
                        std::cout &lt;&lt; " 3 - ispis najranije prodaje" &lt;&lt; std::endl;
                        std::cout &lt;&lt; " 4 - ispis najskuplje prodaje" &lt;&lt; std::endl;
                        std::cout &lt;&lt; " 5 - ispis broja prodaja" &lt;&lt; std::endl;
                        std::cout &lt;&lt; " 6 - ispis broja prodaja po datumu" &lt;&lt; std::endl;
                        std::cout &lt;&lt; " 7 - ispis broja prodaja po agentu" &lt;&lt; std::endl;
                        std::cout &lt;&lt; " 8 - kraj" &lt;&lt; std::endl;
                        cin &gt;&gt; opcija3;
                        switch(opcija3) {
                            // CASE 0 NAZAD
                        case 0 :
                            break;
                            // CASE 1 ISPIS SVIH PRODAJA
                        case 1 : {
                            pr_test.IspisiSveProdaje();
                        }
                        break;
                        // CASE 2 ISPIS PRODAJA NA DATUM
                        case 2 : {
                            char t;
                            int dan,mjesec,godina;
                            bool unos(false);
                            do {
                                unos = false;
                                std::cout &lt;&lt; "Unesite datum (d/m/g): ";
                                cin &gt;&gt; dan &gt;&gt; t &gt;&gt; mjesec &gt;&gt; t &gt;&gt; godina;
                                try {
                                    pr_test.IspisiProdajeNaDatum(Datum(dan,mjesec,godina));
                                } catch (std::exception &amp;e) {
                                    std::cout &lt;&lt; "Izuzetak: " &lt;&lt;e.what() &lt;&lt;".Molimo unesite ponovo." &lt;&lt; std::endl;
                                    unos = true;
                                }
                            } while(unos);
                        }
                        break;
                        // CASE 3 ISPIS NAJRANIJE PRODAJE
                        case 3 : {
                            pr_test.DajNajranijuProdaju().Ispisi();
                            std::cout &lt;&lt; std::endl;
                        }
                        break;
                        // CASE 4 ISPIS NAJSKUPLJE PRODAJE
                        case 4 : {
                            pr_test.DajNajskupljuProdaju().Ispisi();
                            std::cout  &lt;&lt; std::endl;
                        }
                        break;
                        // CASE 5 ISPIS BROJA PRODAJA
                        case 5 : {
                            std::cout &lt;&lt; pr_test.DajBrojProdaja() &lt;&lt; std::endl;
                        }
                        break;
                        // CASE 6 ISPIS BROJA PRODAJA PO DATUMU
                        case 6 : {
                            char t;
                            int dan,mjesec,godina;
                            bool unos(false);
                            do {
                                unos = false;
                                std::cout &lt;&lt; "Unesite datum (d/m/g): ";
                                cin &gt;&gt; dan &gt;&gt; t &gt;&gt; mjesec &gt;&gt; t &gt;&gt; godina;
                                try {
                                    std::cout &lt;&lt; pr_test.DajBrojProdajaNaDatum(Datum(dan,mjesec,godina)) &lt;&lt; std::endl;
                                } catch (std::exception &amp;e) {
                                    std::cout &lt;&lt; "Izuzetak: " &lt;&lt;e.what() &lt;&lt;".Molimo unesite ponovo." &lt;&lt; std::endl;
                                    unos = true;
                                }
                            } while(unos);
                        }
                        break;
                        // CASE 7 ISPIS BROJA PRODAJA PO AGENTU
                        case 7 : {
                            std::string ime_agenta;
                            bool unos(false);
                            do {
                                unos = false;
                                std::cout &lt;&lt; "Unesite ime agenta: ";
                                cin.ignore(100,'\n');
                                std::getline(cin,ime_agenta);
                                try {
                                    std::cout &lt;&lt; pr_test.DajBrojProdajaOdAgenta(ime_agenta) &lt;&lt; std::endl;
                                } catch (std::exception &amp;e) {
                                    std::cout &lt;&lt; "Izuzetak: " &lt;&lt;e.what() &lt;&lt;".Molimo unesite ponovo." &lt;&lt; std::endl;
                                    unos = true;
                                }
                            } while(unos);
                        }
                        break;
                        // CASE 8 KRAJ
                        case 8 : {
                            nije_kraj = false;
                            break;
                        }
                        break;
                        }
                    } while(opcija3 != 0 and opcija3 != 8);
                }
                break;
                // CASE 4 BRISANJE PRODAJA
                case 4: {
                    int opcija3;
                    do {
                        std::cout &lt;&lt; "Izaberite opciju:" &lt;&lt; std::endl;
                        std::cout &lt;&lt; " 0 - nazad" &lt;&lt; std::endl;
                        std::cout &lt;&lt; " 1 - brisanje najranije prodaje" &lt;&lt; std::endl;
                        std::cout &lt;&lt; " 2 - brisanje prodaja agenta" &lt;&lt; std::endl;
                        std::cout &lt;&lt; " 3 - brisanje prodaja po datumu" &lt;&lt; std::endl;
                        std::cout &lt;&lt; " 4 - brisanje svih prodaja" &lt;&lt; std::endl;
                        cin &gt;&gt; opcija3;
                        switch (opcija3) {
                            // CASE 0
                        case 0 :
                            break;
                            // CASE 1
                        case 1 : {
                            try {
                                pr_test.ObrisiNajranijuProdaju();
                            } catch (std::exception &amp;e) {
                                std::cout &lt;&lt; "Izuzetak : " &lt;&lt; e.what() &lt;&lt; std::endl;
                            }
                        }
                        break;
                        // CASE 2
                        case 2 : {
                            std::string ime_agenta;
                            std::cout &lt;&lt; "Unesite ime agenta: ";
                            cin.ignore(100,'\n');
                            std::getline(cin,ime_agenta);
                            try {
                                pr_test.ObrisiProdajeAgenta(ime_agenta);
                                std::cout &lt;&lt; "Sve prodaje tog agenta su obrisane." &lt;&lt; std::endl;
                            } catch (std::exception &amp;e) {
                                std::cout &lt;&lt; "Izuzetak: " &lt;&lt;e.what() &lt;&lt;".Molimo unesite ponovo." &lt;&lt; std::endl;

                            }
                        }
                        break;
                        // CASE 3
                        case 3 : {
                            char t;
                            int dan,mjesec,godina;
                            bool unos(false);
                            do {
                                unos = false;
                                std::cout &lt;&lt; "Unesite datum (d/m/g): ";
                                cin &gt;&gt; dan &gt;&gt; t &gt;&gt; mjesec &gt;&gt; t &gt;&gt; godina;
                                try {
                                    pr_test.ObrisiProdajeNaDatum(Datum(dan,mjesec,godina));
                                    std::cout &lt;&lt; "Sve prodaje na taj datum su obrisane." &lt;&lt; std::endl;
                                } catch (std::exception &amp;e) {
                                    std::cout &lt;&lt; "Izuzetak: " &lt;&lt;e.what() &lt;&lt;".Molimo unesite ponovo." &lt;&lt; std::endl;
                                    unos = true;
                                }
                            } while(unos);
                        }
                        break;
                        // CASE 4
                        case 4 : {
                            pr_test.IsprazniKolekciju();
                            std::cout &lt;&lt; "Sve prodaje su obrisane." &lt;&lt; std::endl;
                        } break;
                        }
                    } while(opcija3 != 0);
                }
                break;
                // CASE 5 KRAJ
                case 5: {

                }
                break;
                }
            } while(opcija2 != 0 and opcija2 != 4);
        }
        break;
        }
    } while (nije_kraj);
    std::cout &lt;&lt; std::endl;
    std::cout &lt;&lt; "Dovidjenja!" &lt;&lt; std::endl;
    
    return 0;

}</pre>
</body>
</html>
