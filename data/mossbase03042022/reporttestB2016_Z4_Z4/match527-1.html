<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z4/student5592.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z4/student9464.cpp<p></p><pre>
/B 2016/2017, Zadaća 4, Zadatak 4
//Napomena: testovi ce biti dostupni dan pred rok!
#include &lt;iostream&gt;
#include &lt;string&gt;
#include &lt;stdexcept&gt;
#include &lt;iomanip&gt;
#include &lt;initializer_list&gt;
#include &lt;algorithm&gt;
#include &lt;vector&gt;
#include &lt;new&gt;
#include &lt;memory&gt;

class Datum {
    int d, m, g;
    void valjan(int dan, int mj, int god) const{
        int br_dana[12] {31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31};
        if(god % 4 == 0 &amp;&amp; god % 100 != 0 || god % 400 == 0) br_dana[1]++;
        if(god &lt; 1 || dan &lt; 1 || mj &lt; 1 || mj &gt; 12 || dan &gt; br_dana[mj-1]) throw std::domain_error("Neispravan datum");
    }
public:
    Datum(int dan, int mjesec,int godina) {Postavi(dan, mjesec, godina);}
    void Postavi(int dan, int mjesec, int godina)  {
        valjan(dan, mjesec, godina);
        d = dan, m = mjesec; g = godina;
    }
    int DajDan() const {return d;}
    int DajMjesec() const {return m;}
<a name="6"></a><font color="#00FF00"><a href="match527-0.html#6" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_0.gif"/></a>

    int DajGodinu() const {return g;}
    void Ispisi() const {std::cout &lt;&lt; d &lt;&lt; "/" &lt;&lt; m &lt;&lt; "/" &lt;&lt; g;}
};

class Kupac {
    std::string ip;
    Datum dat_rodjenja;
</font>    void valjano(const std::string &amp;s) const {
<a name="10"></a><font color="#FF0000"><a href="match527-0.html#10" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_0.gif"/></a>

        for(int i = 0; i &lt; s.length(); i++)
            if(!(s[i] &gt;='A' &amp;&amp; s[i] &lt;='Z' || s[i] &gt;='a' &amp;&amp; s[i] &lt;= 'z' || s[i] == '\'' || s[i] == '-' || s[i] == ' ' || s[i]&gt;='0' &amp;&amp; s[i] &lt;= '9'))
</font>                throw std::domain_error("Neispravno ime i prezime");
    }
public:
    Kupac(const std::string &amp;ime_i_prezime, const Datum &amp;datum_rodjenja) : dat_rodjenja(datum_rodjenja.DajDan(), datum_rodjenja.DajMjesec(), datum_rodjenja.DajGodinu()){
    valjano(ime_i_prezime);
    ip = ime_i_prezime;
    }
    void Postavi(const std::string &amp;ime_i_prezime, const Datum &amp;datum_rodjenja) {
        valjano(ime_i_prezime);
        ip = ime_i_prezime;
        dat_rodjenja.Postavi(datum_rodjenja.DajDan(), datum_rodjenja.DajMjesec(), datum_rodjenja.DajGodinu());
        
    }
    std::string DajImePrezime() const {return ip;}
    Datum DajDatumRodjenja() const{return dat_rodjenja;}
    void Ispisi() const {
        std::cout &lt;&lt; ip &lt;&lt; " (";
        dat_rodjenja.Ispisi();
        std::cout &lt;&lt; ")";
    }
};

class Stan {
    std::string adresa;
    int sprat, broj_soba;
    bool namjesten;
    double kvadratura;
    void valjani_parametri(int s, bool brs,  double kvad) {
        if(s &lt; 0 || brs &lt; 0 || kvad &lt; 0) throw std::domain_error("Neispravan unos podataka");
    }
public:
    Stan(const std::string &amp;adresa, int sprat, int broj_soba, bool namjesten, double kvadratura) {
        valjani_parametri(broj_soba, namjesten, kvadratura);
        Postavi(adresa, sprat, broj_soba, namjesten, kvadratura);
    }
    void Postavi(const std::string &amp;adresa, int sprat, int broj_soba, bool namjesten, double kvadratura) {
        valjani_parametri(sprat, broj_soba, kvadratura);
        Stan::adresa = adresa; Stan::sprat = sprat; Stan::broj_soba = broj_soba; Stan::namjesten = namjesten; Stan::kvadratura = kvadratura;
    }
    std::string DajAdresu() const {return adresa;}
    int DajSprat() const {return sprat;}
    int DajBrojSoba() const {return broj_soba;}
    bool DajNamjesten() const {return namjesten;}
    double DajKvadraturu() const {return kvadratura;}
    void Ispisi() const;
};

void Stan::Ispisi() const {
    std::cout &lt;&lt; "Stan se nalazi na adresi " &lt;&lt; adresa &lt;&lt; " na " &lt;&lt; sprat &lt;&lt; ". spratu i ima " &lt;&lt; broj_soba;
    if(broj_soba %10 == 1 &amp;&amp; broj_soba %100 != 11) std::cout &lt;&lt;" sobu.";
    else if(broj_soba % 10 &gt;= 2 &amp; broj_soba % 10 &lt;= 4 &amp;&amp; !(broj_soba %100 &gt;= 12 &amp; broj_soba %100 &lt;= 14)) std::cout &lt;&lt; " sobe.";
    else std::cout &lt;&lt; " soba.";
    std::cout &lt;&lt; " Kvadratura stana je " &lt;&lt; kvadratura &lt;&lt; " (m^2) i stan ";
    if(namjesten) std::cout &lt;&lt; "je ";
    else std::cout &lt;&lt; "nije ";
    std::cout &lt;&lt; "namjesten.";
}

class Prodaja {
    std::string agent;
    double cijena;
    Datum dat_prodaje;
    Kupac kupac;
    Stan kupljeni_stan;
public:
    Prodaja(const std::string &amp;ime_agenta_prodaje, double cijena_stana, const Datum &amp;datum_prodaje, const Kupac &amp;kupac_stana, const Stan &amp;kup_stan) :
        dat_prodaje(datum_prodaje), kupac(kupac_stana), kupljeni_stan(kup_stan), agent(ime_agenta_prodaje), cijena(cijena_stana) {}
    Prodaja(const std::string &amp;ime_agenta_prodaje, double cijena_stana, int dan_prodaje, int mjesec_prodaje, int godina_prodaje,
        const std::string &amp;ime_kupca, const Datum &amp;datum_rodjenja_kupca, const std::string &amp;adresa_stana, int sprat_stana, int broj_soba,
        bool namjesten_stan, double broj_kvadrata) : dat_prodaje(dan_prodaje, mjesec_prodaje, godina_prodaje), kupac(ime_kupca, datum_rodjenja_kupca),
                kupljeni_stan(adresa_stana, sprat_stana, broj_soba, namjesten_stan, broj_kvadrata), agent(ime_agenta_prodaje), cijena(cijena_stana) {}
    void PromijeniKupca(const Kupac &amp;novi_kupac) {kupac = novi_kupac;}
    void PromijeniStan(const Stan &amp;novi_stan) {kupljeni_stan = novi_stan;}
    void PromijeniDatumKupovine(const Datum &amp;novi_datum) {dat_prodaje = novi_datum;}
    void PromijeniCijenuProdaje(const double &amp;nova_cijena) {cijena = nova_cijena;}
    void PromijeniAgentaProdaje(const std::string &amp;novi_agent) {agent = novi_agent;}
    void PomjeriDanUnaprijed();
    void PomjeriDanUnazad();
    std::string DajImeAgenta() const {return agent;}
    std::string DajImeKupca() const {return kupac.DajImePrezime();}
    Datum DajDatumProdaje() const {return dat_prodaje;}
    double DajCijenuStana() const {return cijena;}
    
    friend bool ProdatPrije(const Prodaja &amp;p1, const Prodaja &amp;p2);
    friend bool SkupljiStan(const Prodaja &amp;p1, const Prodaja &amp;p2) {return p1.cijena &gt; p2.cijena;}
    void Ispisi() const;
};
void Prodaja::PomjeriDanUnaprijed() {
    int d(dat_prodaje.DajDan()+1), m(dat_prodaje.DajMjesec()), g(dat_prodaje.DajGodinu());
    int br_dana[12] {31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31};
    if(g % 4 == 0 &amp;&amp; g % 100 != 0 || g % 400 == 0) br_dana[1]++;
    if(d &gt; br_dana[m-1]) {d = 1; m++;}
    if(m &gt; 12) {m = 1; g++;}
    dat_prodaje.Postavi(d, m, g);
}

void Prodaja::PomjeriDanUnazad() {
    int d(dat_prodaje.DajDan()-1), m(dat_prodaje.DajMjesec()), g(dat_prodaje.DajGodinu());
    int br_dana[12] {31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31};
    if(g % 4 == 0 &amp;&amp; g % 100 != 0 || g % 400 == 0) br_dana[1]++;
    if(d == 0) {
        m--; 
        if(m == 0) g--; 
        d = br_dana[m-1];
    }
    dat_prodaje.Postavi(d, m, g);
}

void Prodaja::Ispisi() const {
    std::cout &lt;&lt; std::setw(32) &lt;&lt; std::left &lt;&lt; "Ime agenta:" &lt;&lt; DajImeAgenta() &lt;&lt; "\n";
<a name="2"></a><font color="#0000FF"><a href="match527-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_0.gif"/></a>

    std::cout &lt;&lt; std::setw(32) &lt;&lt; std::left &lt;&lt; "Ime kupca:";
    kupac.Ispisi();
    std::cout &lt;&lt; std::endl;
    std::cout &lt;&lt; std::setw(32) &lt;&lt; std::left &lt;&lt; "Zakazani datum prodaje:";
</font>    DajDatumProdaje().Ispisi();
    std::cout &lt;&lt; std::endl &lt;&lt; std::setw(32) &lt;&lt; std::left &lt;&lt; "Cijena stana:" &lt;&lt; DajCijenuStana();
    std::cout &lt;&lt; "\nInformacije o stanu:\n";
    kupljeni_stan.Ispisi();
}
bool ProdatPrije(const Prodaja &amp;p1, const Prodaja &amp;p2) {
    if(p1.dat_prodaje.DajGodinu() &lt; p2.dat_prodaje.DajGodinu()) return true;
    if(p1.dat_prodaje.DajGodinu() &gt; p2.dat_prodaje.DajGodinu()) return false;
    if(p1.dat_prodaje.DajMjesec() &lt; p2.dat_prodaje.DajMjesec()) return true;
    if(p1.dat_prodaje.DajMjesec() &gt; p2.dat_prodaje.DajMjesec()) return false;
    if(p1.dat_prodaje.DajDan() &lt; p2.dat_prodaje.DajDan()) return true;
    return false;
}
class Prodaje {
    std::vector&lt;std::shared_ptr&lt;Prodaja&gt;&gt; prodaje;
    static bool PorediDatum(const Datum &amp;d1, const Datum &amp;d2) {
        return(d1.DajDan() == d2.DajDan() &amp;&amp; d1.DajMjesec() == d2.DajMjesec() &amp;&amp; d1.DajGodinu() == d2.DajGodinu());
    }
    void Realociraj();
public:
    explicit Prodaje() = default;
    Prodaje(std::initializer_list&lt;Prodaja&gt; spisak_prodaja);
    Prodaje(const Prodaje &amp;prodaje2) {
        prodaje.resize(prodaje2.DajBrojProdaja());
        try{
<a name="15"></a><font color="#FF0000"><a href="match527-0.html#15" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_0.gif"/></a>

            for(int i = 0; i &lt; prodaje.size(); i++)
                prodaje[i] = std::make_shared&lt;Prodaja&gt;(*prodaje2.prodaje[i]);
            }
        catch(std::bad_alloc) {
</font>            throw;
        }
    }
    Prodaje(Prodaje &amp;&amp;prodaje2) : prodaje(std::move(prodaje2.prodaje)) {}
    Prodaje &amp;operator = (const Prodaje &amp;prodaje2);
    Prodaje &amp;operator = (Prodaje &amp;&amp;prodaje2){
        prodaje = std::move(prodaje2.prodaje);
        return *this;
    }
    void RegistrirajProdaju(const std::string &amp;ime_agenta_prodaje, double cijena_stana, const Datum &amp;datum_prodaje, const Kupac &amp;kupac_stana, const Stan &amp;kupljeni_stan);
    void RegistrirajProdaju(const std::string &amp;ime_agenta_prodaje, double cijena_stana, int dan_prodaje, int mjesec_prodaje, int godina_prodaje,
<a name="7"></a><font color="#0000FF"><a href="match527-0.html#7" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_0.gif"/></a>

        std::string &amp;ime_kupca, const Datum &amp;datum_rodjenja_kupca, const std::string &amp;adresa_stana, 
        int sprat_stana, int broj_soba, bool namjesten_stan, double broj_kvadrata);
    void RegistrirajProdaju(std::shared_ptr&lt;Prodaja&gt; prodaja);
</font><a name="12"></a><font color="#0000FF"><a href="match527-0.html#12" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_0.gif"/></a>

    int DajBrojProdaja() const;
    int DajBrojProdajaNaDatum(const Datum &amp;datum) const;
    int DajBrojProdajaOdAgenta(const std::string &amp;ime_agenta) const;
    Prodaja &amp;DajNajranijuProdaju();
    Prodaja DajNajranijuProdaju() const;
    Prodaja &amp;DajNajskupljuProdaju();
</font>    Prodaja DajNajskupljuProdaju() const;
    Prodaja &amp;DajProdaju(int indeks);
    void IsprazniKolekciju();
    void ObrisiNajranijuProdaju();
    void ObrisiProdajeAgenta(const std::string &amp;ime_agenta);
    void ObrisiProdajeNaDatum(const Datum &amp;datum);
    void IspisiProdajeNaDatum(const Datum &amp;datum) const;
    void IspisiSveProdaje() const;
};

void Prodaje::Realociraj() {
    std::vector&lt;std::shared_ptr&lt;Prodaja&gt;&gt; novo_prodaje;
    try{
        for(int i = 0; i &lt; prodaje.size(); i++)
            if(prodaje[i]) {
                novo_prodaje.push_back(std::make_shared&lt;Prodaja&gt;(*prodaje[i]));
                prodaje[i] = nullptr;
            }
        prodaje.resize(0);
        prodaje = novo_prodaje;
    }
    catch(std::bad_alloc) {
        throw;
    }
}
Prodaje::Prodaje(std::initializer_list&lt;Prodaja&gt; spisak_prodaja) {
    try{
    prodaje.resize(spisak_prodaja.size());
    int br(0);
    for(auto x : spisak_prodaja)
        prodaje[br++] = std::make_shared&lt;Prodaja&gt;(Prodaja(x));
    }
    catch(std::bad_alloc) {
        throw;
    }
}
Prodaje &amp;Prodaje::operator=(const Prodaje &amp;prodaje2) {
    prodaje.resize(prodaje2.prodaje.size());
    for(int i = 0; i &lt; prodaje.size(); i++)
        prodaje[i] = std::make_shared&lt;Prodaja&gt;(*prodaje2.prodaje[i]);
    return *this;
}
<a name="16"></a><font color="#00FF00"><a href="match527-0.html#16" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_0.gif"/></a>

void Prodaje::RegistrirajProdaju(const std::string &amp;ime_agenta_prodaje, double cijena_stana, const Datum &amp;datum_prodaje, const Kupac &amp;kupac_stana, const Stan &amp;kupljeni_stan) {
    prodaje.push_back(std::make_shared&lt;Prodaja&gt;(Prodaja(Prodaja(ime_agenta_prodaje, cijena_stana, datum_prodaje, kupac_stana, kupljeni_stan))));
</font>}
void Prodaje::RegistrirajProdaju(const std::string &amp;ime_agenta_prodaje, double cijena_stana, int dan_prodaje, int mjesec_prodaje, int godina_prodaje, std::string &amp;ime_kupca,
        const Datum &amp;datum_rodjenja_kupca, const std::string &amp;adresa_stana, int sprat_stana, int broj_soba, bool namjesten_stan, double broj_kvadrata) {
            Datum tmp_datum(dan_prodaje, mjesec_prodaje, godina_prodaje);
            Kupac tmp_kupac(ime_kupca, datum_rodjenja_kupca);
            Stan tmp_stan(adresa_stana, sprat_stana, broj_soba, namjesten_stan, broj_kvadrata);
            prodaje.push_back(std::make_shared&lt;Prodaja&gt;(Prodaja(Prodaja(ime_agenta_prodaje, cijena_stana, tmp_datum, tmp_kupac, tmp_stan))));
}
void Prodaje::RegistrirajProdaju(std::shared_ptr&lt;Prodaja&gt; prodaja) {
    prodaje.push_back(std::make_shared&lt;Prodaja&gt;(Prodaja(*prodaja)));
}
int Prodaje::DajBrojProdaja() const {
    return prodaje.size();
    
}
int Prodaje::DajBrojProdajaNaDatum(const Datum &amp;datum) const {
    if (!DajBrojProdaja()) throw std::domain_error("Nema registriranih prodaja");
    return std::count_if(prodaje.begin(), prodaje.end(), [datum](std::shared_ptr&lt;Prodaja&gt; pr){
        if(datum.DajDan() != pr-&gt;DajDatumProdaje().DajDan() || datum.DajMjesec() != pr-&gt;DajDatumProdaje().DajMjesec() || datum.DajGodinu() != pr-&gt;DajDatumProdaje().DajGodinu()) return false;
        return true;});
}
int Prodaje::DajBrojProdajaOdAgenta(const std::string &amp;ime_agenta) const {
    if(!DajBrojProdaja()) throw std::domain_error("Nema registriranih prodaja");
    return std::count_if(prodaje.begin(), prodaje.end(), [ime_agenta] (std::shared_ptr&lt;Prodaja&gt; pr) { return pr-&gt;DajImeAgenta() == ime_agenta;});
}
Prodaja&amp; Prodaje::DajNajranijuProdaju() {
    if(!DajBrojProdaja()) throw std::domain_error("Nema registriranih prodaja");
    auto  prod (std::min_element(prodaje.begin(), prodaje.end(), [](std::shared_ptr&lt;Prodaja&gt; p1, std::shared_ptr&lt;Prodaja&gt; p2){return ProdatPrije(*p1, *p2);}));
    return **prod;
}
Prodaja Prodaje::DajNajranijuProdaju() const {
    if(!DajBrojProdaja()) throw std::domain_error("Nema registriranih prodaja");
    auto prod (std::min_element(prodaje.begin(), prodaje.end(), [](std::shared_ptr&lt;Prodaja&gt; p1, std::shared_ptr&lt;Prodaja&gt; p2){return ProdatPrije(*p1, *p2);}));
    return **prod;
}
Prodaja&amp; Prodaje::DajNajskupljuProdaju() {
    if(!DajBrojProdaja()) throw std::domain_error("Nema registriranih prodaja");
    auto prod (std::max_element(prodaje.begin(), prodaje.end(), [](std::shared_ptr&lt;Prodaja&gt; p1,std::shared_ptr&lt;Prodaja&gt; p2){return p2-&gt;DajCijenuStana() &gt; p1-&gt;DajCijenuStana();}));
    return **prod;
}
Prodaja Prodaje::DajNajskupljuProdaju() const {
    if(!DajBrojProdaja()) throw std::domain_error("Nema registriranih prodaja");
    auto prod (std::max_element(prodaje.begin(), prodaje.end(), [](std::shared_ptr&lt;Prodaja&gt; p1, std::shared_ptr&lt;Prodaja&gt; p2){return p2-&gt;DajCijenuStana() &gt; p1-&gt;DajCijenuStana();}));
    return **prod;
}
Prodaja&amp; Prodaje::DajProdaju(int indeks) {
    if(indeks &lt; 1 || indeks &gt; prodaje.size() || !prodaje[indeks-1]) throw std::logic_error("Redni broj nije ispravan;");
    return *prodaje[indeks-1];
}
void Prodaje::IsprazniKolekciju() {
    if(!DajBrojProdaja()) throw std::range_error("Prazna kolekcija");
    prodaje.resize(0);   
}
void Prodaje::ObrisiNajranijuProdaju() {
    if(!DajBrojProdaja()) throw std::range_error("Prazna kolekcija");
    auto prod(std::min_element(prodaje.begin(), prodaje.end(), [](std::shared_ptr&lt;Prodaja&gt; p1, std::shared_ptr&lt;Prodaja&gt; p2){return ProdatPrije(*p1, *p2);}));
    *prod = nullptr;
    Realociraj();
}
void Prodaje::ObrisiProdajeAgenta(const std::string &amp;ime_agenta) {
    if(!DajBrojProdaja()) throw std::range_error("Prazna kolekcija");
    int br(DajBrojProdaja());
    for(int i = 0; i &lt;br; i++)
        if(prodaje[i] &amp;&amp; prodaje[i]-&gt;DajImeAgenta() == ime_agenta) {
            prodaje[i] = nullptr;
        }
    Realociraj();
}
void Prodaje::ObrisiProdajeNaDatum(const Datum &amp;datum) {
    if(!DajBrojProdaja()) throw std::range_error("Prazna kolekcija");
    int br(DajBrojProdaja());
    for(int i = 0; i &lt; br; i++)
        if(prodaje[i] &amp;&amp; PorediDatum(prodaje[i]-&gt;DajDatumProdaje(), datum)) {
            prodaje[i] = nullptr;
        }
    Realociraj();
}
void Prodaje::IspisiProdajeNaDatum(const Datum &amp;datum) const {
    auto prodaje2 = prodaje;
    std::sort(prodaje2.begin(), prodaje2.end(), [](std::shared_ptr&lt;Prodaja&gt; p1, std::shared_ptr&lt;Prodaja&gt; p2) {return p1-&gt;DajImeKupca() &lt; p2-&gt;DajImeKupca();});
    for(int i = 0; i &lt; prodaje.size(); i++)
        if(prodaje2[i] &amp;&amp; PorediDatum(prodaje2[i]-&gt;DajDatumProdaje(), datum)) { prodaje2[i]-&gt;Ispisi(); std::cout &lt;&lt; std::endl &lt;&lt; std::endl;}
}
void Prodaje::IspisiSveProdaje() const {
    auto prodaje2 = prodaje;
<a name="11"></a><font color="#00FF00"><a href="match527-0.html#11" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_0.gif"/></a>

    std::sort(prodaje2.begin(), prodaje2.end(), [](std::shared_ptr&lt;Prodaja&gt; p1, std::shared_ptr&lt;Prodaja&gt; p2) {
        if(ProdatPrije(*p1, *p2)) return true;                                                         
</font>        else if(!PorediDatum(p1-&gt;DajDatumProdaje(), p2-&gt;DajDatumProdaje())) return false;             
        else return p1-&gt;DajImeKupca() &lt; p2-&gt;DajImeKupca();});
    for(int i = 0; i &lt; prodaje.size(); i++)
        if(prodaje2[i]) {
            prodaje2[i]-&gt;Ispisi();
            std::cout &lt;&lt; std::endl &lt;&lt; std::endl;
        }
}

Stan UnesiPodatkeStan(bool &amp;ispravno) {
    std::cout &lt;&lt; "Unesite adresu: ";
<a name="3"></a><font color="#00FFFF"><a href="match527-0.html#3" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_0.gif"/></a>

    std::string adresa;
    getline(std::cin, adresa);
    std::cout &lt;&lt; "Unesite sprat: ";
    int sprat;
    std::cin &gt;&gt; sprat;
    std::cout &lt;&lt; "Unesite broj soba: ";
    int broj_soba;
    std::cin &gt;&gt; broj_soba;
    std::cout &lt;&lt; "Da li je stan namjesten (1 - da, 0 - ne): ";
</font>    int namjesten;
    std::cin &gt;&gt; namjesten;
    std::cout &lt;&lt; "Unesite kvadraturu: ";
    double kvadratura;
    std::cin &gt;&gt; kvadratura;
    std::cin.ignore(1000, '\n');
    if(namjesten != 0 &amp;&amp; namjesten != 1) throw std::domain_error("Neispravan unos podataka");
    Stan tmp_stan(adresa, sprat, broj_soba, namjesten, kvadratura);
    ispravno = true;
    return tmp_stan;
}

int main ()
{
    Prodaje prodaje;
    std::vector&lt;Stan&gt; stanovi;
    std::vector&lt;Kupac&gt; kupci;
    std::cout &lt;&lt; "Dobrodosli!\n\n\n";
    int opcija(1);
    while(opcija != 0) {
        std::cout &lt;&lt; "Izaberite opciju:\n 0 - kraj\n 1 - uredjivanje stanova\n 2 - uredjivanje kupaca\n 3 - uredjivanje prodaja\n";
        std::cin &gt;&gt; opcija;
        std::cin.ignore(10000, '\n');
        if(opcija == 0) {
            break;
        }
        if(opcija == 1) {
            int opcija2(0);
            bool ispravno(true);
            while(opcija2 != 4) {
                if(ispravno) {
                    std::cout &lt;&lt; "Izaberite opciju:\n 0 - nazad\n 1 - dodavanje stana\n 2 - uredjivanje stanova\n 3 - ispis svih stanova\n 4 - kraj\n";
                    std::cin &gt;&gt; opcija2;
                    std::cin.ignore(10000,'\n');
                }
                if(opcija2 == 0)
                    break;
                if(opcija2 == 1) {
                    try{
                        Stan tmp_stan(UnesiPodatkeStan(ispravno));
                        stanovi.push_back(tmp_stan);
                        std::cout &lt;&lt; "Stan je uspjesno dodan!\n\n";
                        ispravno = true;
                    }
                    catch(std::domain_error e) {
                        std::cout &lt;&lt; "Izuzetak: " &lt;&lt; e.what() &lt;&lt; ". Molimo unesite opet.\n";
                        ispravno = false;
                    }
                }
                if(opcija2 == 2) {
                    std::cout &lt;&lt; "Odaberite stan. Dostupni stanovi su:\n";
                    int brojac(1);
                    std::for_each(stanovi.begin(), stanovi.end(), [&amp;brojac] (Stan stan) {std::cout &lt;&lt;" " &lt;&lt; brojac &lt;&lt;" - "; stan.Ispisi(); std::cout &lt;&lt; std::endl; brojac++;});
                    int broj_stana(0);
                    std::cin &gt;&gt; broj_stana;
                    std::cin.ignore(1000, '\n');
                    std::cout &lt;&lt; "Odaberite polje koje zelite urediti:\n";
                    std::cout &lt;&lt; " 0 - nazad\n 1 - adresa\n 2 - sprat\n 3 - broj soba\n 4 - da li je stan namjesten\n 5 - kvadratura\n 6 - sve\n";
                    int opcija3(0);
                    std::cin &gt;&gt; opcija3;
                    std::cin.ignore(10000, '\n');
                    if(opcija3 == 0) continue;
                    if(opcija3 == 1) {
                        std::cout &lt;&lt; "Unesite adresu: ";
                        std::string tmp_adresa;
                        getline(std::cin, tmp_adresa);
                        stanovi[broj_stana-1] = Stan(tmp_adresa, stanovi[broj_stana-1].DajSprat(), stanovi[broj_stana-1].DajBrojSoba(), stanovi[broj_stana-1].DajNamjesten(), stanovi[broj_stana-1].DajKvadraturu());
                        std::cout &lt;&lt; "Stan uspjesno izmijenjen!\n\n";
                    }
                    if(opcija3 == 2) {
                        std::cout &lt;&lt; "Unesite sprat: ";
                        int tmp_sprat;
                        std::cin &gt;&gt; tmp_sprat;
                        std::cin.ignore(1000, '\n');
                        stanovi[broj_stana-1] = Stan(stanovi[broj_stana-1].DajAdresu(), tmp_sprat, stanovi[broj_stana-1].DajBrojSoba(), stanovi[broj_stana-1].DajNamjesten(), stanovi[broj_stana-1].DajKvadraturu());
                        std::cout &lt;&lt; "Stan uspjesno izmijenjen!\n\n";
                    }
                    if(opcija3 == 3) {
                        bool nije_ispravan(true);
                        while(nije_ispravan) {
                            std::cout &lt;&lt; "Unesite broj soba: ";
                            int tmp_broj_soba;
                            std::cin &gt;&gt; tmp_broj_soba;
                            std::cin.ignore(1000, '\n');
                            try{
                                Stan tmp_stan(stanovi[broj_stana].DajAdresu(), stanovi[broj_stana].DajSprat(), tmp_broj_soba, stanovi[broj_stana-1].DajNamjesten(), stanovi[broj_stana-1].DajKvadraturu());
                                nije_ispravan = false;
                                stanovi[broj_stana-1] = tmp_stan;
                                std::cout &lt;&lt; "Stan je uspjesno izmijenjen!\n\n";
                            }
                            catch(std::domain_error e) {
                                std::cout &lt;&lt; "Izuzetak: " &lt;&lt; e.what() &lt;&lt;". Molimo unesite opet.\n";
                                nije_ispravan = true;
                            }
                        }
                        
                    }
                    if(opcija3 == 4) {
                        bool nije_ispravan(true);
                        while(nije_ispravan) {
                            try{
                                std::cout &lt;&lt; "Unesite da li je stan namjesten: ";
                                int namjesten;
                                std::cin &gt;&gt; namjesten;
                                std::cin.ignore();
                                if(namjesten != 0 &amp;&amp; namjesten != 1) throw std::domain_error("Neispravan unos podataka");
                                stanovi[broj_stana-1] = Stan(stanovi[broj_stana-1].DajAdresu(), stanovi[broj_stana-1].DajSprat(), stanovi[broj_stana-1].DajBrojSoba(), namjesten, stanovi[broj_stana-1].DajKvadraturu());
                                nije_ispravan = false;
                            }
                            catch(std::domain_error e) {
                                std::cout &lt;&lt; e.what() &lt;&lt; ". Molimo unesite opet.\n";
                                nije_ispravan = true;
                            }
                        }
                    }
                    if(opcija3 == 5) {
                        bool nije_ispravan(true);
                        while(nije_ispravan) {
                            std::cout &lt;&lt; "Unesite kvadraturu: ";
                            double kvadratura;
                            std::cin &gt;&gt; kvadratura;
                            std::cin.ignore(1000, '\n');
                            try{
                                Stan tmp_stan(stanovi[broj_stana-1].DajAdresu(), stanovi[broj_stana-1].DajSprat(), stanovi[broj_stana-1].DajBrojSoba(), stanovi[broj_stana-1].DajNamjesten(), kvadratura);
                                nije_ispravan = false;
                                stanovi[broj_stana-1] = tmp_stan;
                                std::cout &lt;&lt; "Stan je uspjesno izmijenjen!\n\n";
                            }
                            catch(std::domain_error e) {
                                std::cout &lt;&lt; "Izuzetak: " &lt;&lt; e.what() &lt;&lt; ". Molimo unesite opet.\n";
                                nije_ispravan = true;
                            }
                        }
                    }
                    if(opcija3 == 6) {
                        bool ispravan(false);
                        while(!ispravan) {
                            try{
                                Stan tmp_stan(UnesiPodatkeStan(ispravan));
                                stanovi[broj_stana-1] = tmp_stan;
                                std::cout &lt;&lt; "Stan je uspjesno izmijenjen!\n\n";
                            }
                            catch(std::domain_error e) {
                                std::cout &lt;&lt; "Izuzetak: " &lt;&lt; e.what() &lt;&lt; ". Molimo unesite opet.\n";
                            }
                        }
                    }
                }
                if(opcija2 == 3) {
                    int brojac(1);
                    std::for_each(stanovi.begin(), stanovi.end(), [&amp;brojac] (Stan stan) {std::cout &lt;&lt; brojac &lt;&lt; ". "; stan.Ispisi(); std::cout &lt;&lt; std::endl; brojac++;});
                    std::cout &lt;&lt; std::endl;
                }
                if(opcija2 == 4) {
                    opcija = 0;
                    break;
                }
            }
        }
        if(opcija == 2) {
            int opcija2(0);
            bool ispravno(true);
            while(opcija2 != 4){
                if(ispravno) {
                    std::cout &lt;&lt; "Izaberite opciju:\n 0 - nazad\n 1 - dodavanje kupca\n 2 - uredjivanje kupaca\n 3 - ispis svih kupaca\n 4 - kraj\n";
                    std::cin &gt;&gt; opcija2;
                    std::cin.ignore(1000, '\n');
                }
                if(opcija2 == 0)
                    break;
                if(opcija2 == 1) {
                    std::cout &lt;&lt; "Unesite ime i prezime kupca: ";
                    std::string ime_kupca;
                    getline(std::cin, ime_kupca);
                    std::cout &lt;&lt; "Unesite datum rodjenja (formata d/m/g): ";
                    int d, m, g;
                    char c;
                    std::cin &gt;&gt; d &gt;&gt; c &gt;&gt; m &gt;&gt; c &gt;&gt; g;
                    std::cin.ignore(1000, '\n');
                    try{
                        Kupac tmp_kupac(ime_kupca, Datum(d,m,g));
                        ispravno = true;
                        std::cout &lt;&lt; "Kupac je uspjesno dodan!\n\n";
                        kupci.push_back(tmp_kupac);
                    }
                    catch(std::domain_error e) {
                        std::cout &lt;&lt; "Izuzetak: " &lt;&lt; e.what() &lt;&lt; ". Molimo unesite opet.\n";
                        ispravno = false;
                    }
                }
                if(opcija2 == 2) {
                    std::cout &lt;&lt; "Odaberite kupca kojeg zelite urediti. Dostupni kupci su:\n";
                    int brojac(1);
                    std::for_each(kupci.begin(), kupci.end(), [&amp;brojac](Kupac k) {std::cout &lt;&lt; " " &lt;&lt; brojac++ &lt;&lt; " - "; k.Ispisi(); std::cout &lt;&lt; std::endl;});
                    int broj_kupca;
                    std::cin &gt;&gt; broj_kupca;
                    std::cin.ignore(1000, '\n');
                    bool ispravan(false);
                    while(!ispravan) {
                        try{
                            std::cout &lt;&lt; "Unesite ime i prezime kupca: ";
                            std::string ime_kupca;
                            getline(std::cin, ime_kupca);
                            std::cout &lt;&lt; "Unesite datum rodjenja (formata d/m/g): ";
                            int d,m,g;
                            char c;
                            std::cin &gt;&gt; d &gt;&gt; c &gt;&gt; m &gt;&gt; c &gt;&gt; g;
                            std::cin.ignore(1000, '\n');
                            Kupac tmp_kupac(ime_kupca, Datum(d,m,g));
                            ispravan = true;
                            std::cout &lt;&lt; "Kupac je uspjesno izmijenjen!\n\n";
                            kupci[broj_kupca-1] = tmp_kupac;
                        }
                        catch(std::domain_error e) {
                            std::cout &lt;&lt; "Izuzetak: " &lt;&lt; e.what() &lt;&lt; ". Molimo unesite opet.\n";
                            ispravan = false;
                        }
                    }
                }
                if(opcija2 == 3) {
                    std::for_each(kupci.begin(), kupci.end(), [] (Kupac k) {k.Ispisi(); std::cout &lt;&lt; std::endl;});
                    std::cout &lt;&lt; std::endl;
                }
                if(opcija2 == 4) {
                    opcija = 0;
                    break;
                }
            }
        }
        if(opcija == 3) {
            int opcija2(0);
            while(opcija2 != 5) {
                std::cout &lt;&lt; "Izaberite opciju:\n 0 - nazad\n 1 - dodavanje prodaje\n 2 - uredjivanje prodaje\n 3 - ispis prodaja\n 4 - brisanje prodaja\n 5 - kraj\n";
                std::cin &gt;&gt; opcija2;
                std::cin.ignore(1000, '\n');
                if(opcija2 == 0) break;
                if(opcija2 == 1) {
                    bool ispravno(true);
                    int opcija3(0);
                    while(opcija3 != 3) {
                        if(ispravno) {
                            std::cout &lt;&lt; "Izaberite opciju:\n 0 - nazad\n 1 - dodavanje potpuno nove prodaje\n 2 - dodavanje nove prodaje na osnovu arhive\n 3 - kraj\n";
                            std::cin &gt;&gt; opcija3;
                            std::cin.ignore(1000, '\n');
                        }
                        if(opcija3 == 0) break;
                        if(opcija3 == 1) {
                            try{
                                std::cout &lt;&lt; "Unesite ime i prezime agenta prodaje: ";
                                std::string agent, adresa, kupac;
                                getline(std::cin, agent);
                                std::cout &lt;&lt; "Unesite datum prodaje (formata d/m/g): ";
                                int d,m,g;
                                char c;
                                std::cin &gt;&gt; d &gt;&gt; c &gt;&gt; m &gt;&gt; c &gt;&gt; g;
                                std::cout &lt;&lt; "Unesite cijenu stana: ";
                                double cijena;
                                std::cin &gt;&gt; cijena;
                                std::cin.ignore();
                                std::cout &lt;&lt; "Unesite ime kupca: ";
                                getline(std::cin, kupac);
                                std::cout &lt;&lt; "Unesite datum rodjenja kupca (formata d/m/g): ";
                                int kd, km, kg;
                                std::cin &gt;&gt; kd &gt;&gt; c &gt;&gt; km &gt;&gt; c &gt;&gt; kg;
                                std::cin.ignore(1000, '\n');
                                std::cout &lt;&lt; "Unesite adresu: ";
                                getline(std::cin, adresa);
                                int sprat, broj_soba, namjesten;
                                std::cout &lt;&lt; "Unesite sprat: ";
                                std::cin &gt;&gt; sprat;
                                std::cout &lt;&lt; "Unesite broj soba: ";
<a name="9"></a><font color="#FF00FF"><a href="match527-0.html#9" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_0.gif"/></a>

                                std::cin &gt;&gt; broj_soba;
                                std::cout &lt;&lt; "Da li je stan namjesten (1 - da, 0 - ne): ";
                                std::cin &gt;&gt; namjesten;
                                std::cout &lt;&lt; "Unesite kvadraturu: ";
                                double kvadratura;
                                std::cin &gt;&gt; kvadratura;
</font>                                std::cin.ignore(1000,'\n');
                                if(namjesten != 0 &amp;&amp; namjesten != 1) throw std::domain_error("Neispravan unos podataka");
                                stanovi.push_back(Stan(adresa, sprat, broj_soba, namjesten, kvadratura));
<a name="4"></a><font color="#FF00FF"><a href="match527-0.html#4" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_0.gif"/></a>

                                kupci.push_back(Kupac(kupac, Datum(kd, km, kg)));
                                prodaje.RegistrirajProdaju(agent, cijena, d,m,g, kupac, Datum(kd,km,kg), adresa, sprat, broj_soba, namjesten, kvadratura);
</font>                                ispravno = true;
                                std::cout &lt;&lt; "Prodaja uspjesno dodana!\n\n";
                            }
                            catch(std::domain_error e) {
                                std::cout &lt;&lt; "Izuzetak: " &lt;&lt; e.what() &lt;&lt; ". Molimo unesite opet.\n";
                                ispravno = false;
                            }
                        }
                        if(opcija3 == 2) {
                            try{
                                std::cout &lt;&lt; "Unesite ime i prezime agenta prodaje: ";
                                std::string agent;
                                getline(std::cin, agent);
                                std::cout &lt;&lt; "Unesite datum prodaje (formata d/m/g): ";
                                int d,m,g;
                                char c;
                                std::cin &gt;&gt; d &gt;&gt; c &gt;&gt; m &gt;&gt; c &gt;&gt; g;
                                std::cout &lt;&lt; "Unesite cijenu stana: ";
                                double cijena;
                                std::cin &gt;&gt; cijena;
                                std::cin.ignore(1000, '\n');
                                std::cout &lt;&lt; "Odaberite kupca. Dostupni kupci su:\n";
                                int brojac(1);
                                std::for_each(kupci.begin(), kupci.end(), [&amp;brojac](Kupac k) {std::cout &lt;&lt; " " &lt;&lt; brojac++ &lt;&lt; " - "; k.Ispisi(); std::cout &lt;&lt; std::endl;});
                                int broj_kupca;
                                std::cin &gt;&gt; broj_kupca;
                                std::cout &lt;&lt; "Odaberite stan. Dostupni stanovi su:\n";
                                brojac = 1;
                                std::for_each(stanovi.begin(), stanovi.end(), [&amp;brojac] (Stan s) {std::cout &lt;&lt; " " &lt;&lt; brojac++ &lt;&lt; " - "; s.Ispisi(); std::cout &lt;&lt; std::endl;});
                                int broj_stana;
                                std::cin &gt;&gt; broj_stana;
                                std::cin.ignore(1000, '\n');
<a name="13"></a><font color="#00FFFF"><a href="match527-0.html#13" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_0.gif"/></a>

                                prodaje.RegistrirajProdaju(agent, cijena, Datum(d,m,g), kupci[broj_kupca-1], stanovi[broj_stana-1]);
</font>                                std::cout &lt;&lt; "Prodaja uspjesno dodana!\n\n";
                            }
                            catch(std::domain_error e) {
                                std::cout &lt;&lt; "Izuzetak: " &lt;&lt; e.what() &lt;&lt; ". Molimo unesite opet.\n";
                                ispravno = false;
                            }
                        }
                        if(opcija3 == 3) {
                            opcija2 = 5; break;
                        }
                    }
                }
                if(opcija2 == 2) {
                    std::cout &lt;&lt; "Odaberite prodaju koju želite urediti. Dostupne prodaje su:\n";
                    //prodaje.IspisiSveProdaje();
                    for(int i = 1; i &lt;= prodaje.DajBrojProdaja(); i++) {
                        std::cout &lt;&lt; i &lt;&lt; ".\n";
                        prodaje.DajProdaju(i).Ispisi();
                        std::cout &lt;&lt; std::endl &lt;&lt; std::endl;
                    }
                    int broj_prodaje(0);
                    std::cin &gt;&gt; broj_prodaje;
                    std::cin.ignore(1000, '\n');
                    int opcija3(0);
                    std::cout &lt;&lt; "Izaberite opciju:\n 0 - nazad\n 1 - izmjena agenta\n 2 - izmjena datuma prodaje\n 3 - izmjena kupca\n 4 - izmjena stana\n 5 - izmjena cijene stana\n";
                    std::cin &gt;&gt; opcija3;
                    std::cin.ignore(1000, '\n');
                    if(opcija3 == 0) break;
                    if(opcija3 == 1) {
                        std::cout &lt;&lt; "Unesite ime i prezime agenta prodaje: ";
                        std::string agent;
                        getline(std::cin, agent);
                        prodaje.DajProdaju(broj_prodaje).PromijeniAgentaProdaje(agent);
                        std::cout &lt;&lt; "Prodaja je uspjesno izmijenjena!\n\n";
                    }
                    if(opcija3 == 2) {
                        bool nije_ispravan(true);
                        while(nije_ispravan){
                            std::cout&lt;&lt; "Unesite datum prodaje (formata d/m/g): ";
                            int d,m,g;
                            char c;
                            std::cin &gt;&gt; d &gt;&gt; c &gt;&gt; m &gt;&gt; c &gt;&gt; g;
                            std::cin.ignore(1000,'\n');
                            try{
                                prodaje.DajProdaju(broj_prodaje).PromijeniDatumKupovine(Datum(d,m,g));
                                nije_ispravan = false;
                                std::cout &lt;&lt; "Prodaja je uspjesno izmijenjena!\n\n";
                            }
                            catch(std::domain_error e) {
                                std::cout &lt;&lt; "Izuzetak: " &lt;&lt; e.what() &lt;&lt; ". Molimo unesite opet.\n";
                            }
                        }
                    }
                    if(opcija3 == 3) {
                        std::cout &lt;&lt; "Izaberite opciju:\n 0 - nazad\n 1 - odabir postojeceg kupca\n 2 - dodavanje novog kupca\n";
                        int opcija4(0);
                        std::cin &gt;&gt; opcija4;
                        std::cin.ignore(1000,'\n');
                        if(opcija4 == 0) break;
                        if(opcija4 == 1) {
                            int brojac(1), broj_kupca(0);
                            std::cout &lt;&lt; "Odaberite kupca. Dostupni kupci su:\n";
                            std::for_each(kupci.begin(), kupci.end(), [&amp;brojac](Kupac k) {std::cout &lt;&lt; " " &lt;&lt; brojac++ &lt;&lt; " - "; k.Ispisi(); std::cout &lt;&lt; std::endl;});
                            std::cin &gt;&gt; broj_kupca;
                            std::cin.ignore(1000, '\n');
                            prodaje.DajProdaju(broj_prodaje).PromijeniKupca(kupci[broj_kupca-1]);
                            std::cout &lt;&lt; "Prodaja je uspjesno izmijenjena!\n\n";
                        }
                        if(opcija4 == 2) {
                            bool nije_ispravan(true);
                            while(nije_ispravan){
                                try{
                                    std::cout &lt;&lt; "Unesite ime i prezime kupca: ";
                                    std::string ime;
                                    getline(std::cin, ime);
                                    std::cout &lt;&lt; "Unesite datum rodjenja (formata d/m/g): ";
                                    int d,m,g;
                                    char c;
                                    std::cin &gt;&gt; d &gt;&gt; c &gt;&gt; m &gt;&gt; c &gt;&gt; g;
                                    std::cin.ignore(1000, '\n');
                                    Kupac tmp_kupac(ime, Datum(d,m,g));
                                    kupci.push_back(tmp_kupac);
                                    prodaje.DajProdaju(broj_prodaje).PromijeniKupca(tmp_kupac);
                                    nije_ispravan = false;
                                    std::cout &lt;&lt; "Prodaja je uspjesno izmijenjena!\n\n";
                                }
                                catch(std::domain_error e) {
                                    std::cout &lt;&lt; "Izuzetak: " &lt;&lt; e.what() &lt;&lt; ". Molimo unesite opet.\n";
                                }
                            }
                        }
                    }
                    if(opcija3 == 4) {
                        std::cout &lt;&lt; "Izaberite opciju:\n 0 - nazad\n 1 - odabir postojeceg stana\n 2 - dodavanje novog stana\n";
                        int opcija4;
                        std::cin &gt;&gt; opcija4;
                        std::cin.ignore(1000, '\n');
                        if(opcija4 == 0) break;
                        if(opcija4 == 1) {
                            std::cout &lt;&lt; "Odaberite stan. Dostupni stanovi su:\n";
                            int brojac(1);
                            std::for_each(stanovi.begin(), stanovi.end(), [&amp;brojac] (Stan s) {std::cout &lt;&lt; " " &lt;&lt; brojac++ &lt;&lt; " - "; s.Ispisi(); std::cout &lt;&lt; std::endl;});
                            int broj_stana;
                            std::cin &gt;&gt; broj_stana;
                            std::cin.ignore(1000, '\n');
                            prodaje.DajProdaju(broj_prodaje).PromijeniStan(stanovi[broj_stana-1]);
                            std::cout &lt;&lt; "Prodaja je uspjesno izmijenjena!\n\n";
                        }
                        if(opcija4 == 2) {
                            bool nije_ispravan(true);
                            while(nije_ispravan) {
                                try{
                                    Stan tmp_stan (UnesiPodatkeStan(nije_ispravan));
                                    nije_ispravan = false;
                                    stanovi.push_back(tmp_stan);
                                    std::cout &lt;&lt; "Prodaja je uspjesno izmijenjena!\n\n";
                                }
                                catch(std::domain_error e) {
                                    std::cout &lt;&lt; "Izuzetak: " &lt;&lt; e.what() &lt;&lt; ". Molimo unesite opet.\n";
                                }
                            }
                        }
                    }
                    if(opcija3 == 5) {
                        bool nije_ispravan(true);
                        while(nije_ispravan) {
                            std::cout &lt;&lt; "Unesite cijenu stana: ";
                            double cijena;
                            std::cin &gt;&gt; cijena;
                            std::cin.ignore();
                            try{
                                prodaje.DajProdaju(broj_prodaje).PromijeniCijenuProdaje(cijena);
                                nije_ispravan=false;
                                std::cout &lt;&lt; "Prodaja je uspjesno izmijenjena!\n\n";
                            }
                            catch(std::domain_error e) {
                                std::cout &lt;&lt; "Izuzetak: " &lt;&lt; e.what() &lt;&lt; ". Molimo unesite opet.\n";
                            }
                        }
                    }
                }
                if(opcija2 == 3) {
                    int opcija3(0);
                    while(opcija3 != 8) {
                        std::cout &lt;&lt; "Izaberite opciju:\n 0 - nazad\n 1 - ispis svih prodaja\n 2 - ispis prodaja na datum\n 3 - ispis najranije prodaje\n 4 - ispis najskuplje prodaje\n 5 - ispis broja prodaja\n 6 - ispis broja prodaja po datumu\n 7 - ispis broja prodaja po agentu\n 8 - kraj\n";
                        std::cin &gt;&gt; opcija3;
                        std::cin.ignore(1000,'\n');
                        if(opcija3 == 0) break;
                        if(opcija3 == 1) prodaje.IspisiSveProdaje();
                        if(opcija3 == 2) {
                            int d, m, g;
                            char c;
                            std::cout &lt;&lt; "Unesite datum (d/m/g): ";
                            std::cin &gt;&gt; d &gt;&gt; c &gt;&gt; m &gt;&gt; c &gt;&gt; g;
                            std::cout &lt;&lt; "Prodaje na datum ";
                            Datum(d,m,g).Ispisi();
<a name="14"></a><font color="#FF00FF"><a href="match527-0.html#14" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_0.gif"/></a>

                            std::cout &lt;&lt; " su:\n\n";
                            prodaje.IspisiProdajeNaDatum(Datum(d,m,g));
                        }
                        if(opcija3 == 3) {
                           prodaje.DajNajranijuProdaju().Ispisi();
                           std::cout &lt;&lt; std::endl &lt;&lt; std::endl;
</font>                        }
                        if(opcija3 == 4) {
                            prodaje.DajNajskupljuProdaju().Ispisi();
<a name="0"></a><font color="#FF0000"><a href="match527-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_0.gif"/></a>

                            std::cout &lt;&lt; std::endl &lt;&lt; std::endl;
                        }
                        if(opcija3 == 5) std::cout &lt;&lt; "Broj prodaja: " &lt;&lt; prodaje.DajBrojProdaja() &lt;&lt; std::endl &lt;&lt; std::endl;
                        if(opcija3 == 6) {
                            std::cout &lt;&lt;"Unesite datum (d/m/g): ";
                            int d,m,g;
                            char c;
</font><a name="1"></a><font color="#00FF00"><a href="match527-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_0.gif"/></a>

                            std::cin &gt;&gt; d &gt;&gt; c &gt;&gt; m &gt;&gt; c &gt;&gt; g;
                            std::cout &lt;&lt; "Broj prodaja na uneseni datum: " &lt;&lt; prodaje.DajBrojProdajaNaDatum(Datum(d,m,g)) &lt;&lt; std::endl &lt;&lt; std::endl;
                        }
                        if(opcija3 == 7) {
                            std::string agent;
</font>                            std::cout &lt;&lt; "Unesite ime agenta: ";
<a name="5"></a><font color="#FF0000"><a href="match527-0.html#5" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_0.gif"/></a>

                            getline(std::cin, agent);
                            std::cout &lt;&lt; "Broj prodaja unesenog agenta: " &lt;&lt; prodaje.DajBrojProdajaOdAgenta(agent) &lt;&lt; std::endl &lt;&lt; std::endl;
                        }
                        if(opcija3 == 8) {
</font>                            opcija2 = 5; break;
                        }
                    }
                }
                if(opcija2 == 4) {
                    int opcija3(1);
                    while(opcija3 != 0) {
                        std::cout &lt;&lt; "Izaberite opciju:\n 0 - nazad\n 1 - brisanje najranije prodaje\n 2 - brisanje prodaja agenta\n 3 - brisanje prodaja po datumu\n 4 - brisanje svih prodaja\n";
                        std::cin &gt;&gt; opcija3;
                        std::cin.ignore(1000, '\n');
                        if(opcija3 == 0) break;
                        if(opcija3 == 1) {
                            try{
                                prodaje.ObrisiNajranijuProdaju();
                                std::cout &lt;&lt; "Najranija prodaja je obrisana!\n\n";
                            }
                            catch(std::range_error e) {
                                std::cout &lt;&lt; "Izuzetak: " &lt;&lt; e.what() &lt;&lt; ".\n\n";
                            }
                        }
                        if(opcija3 == 2) {
                            try{
                                std::cout &lt;&lt; "Unesite ime agenta: ";
                                std::string agent;
                                getline(std::cin, agent);
                                prodaje.ObrisiProdajeAgenta(agent);
                                std::cout &lt;&lt; "Sve prodaje tog agenta su obrisane.\n\n";
                            }
                            catch(std::range_error e) {
                                std::cout &lt;&lt; "Izuzetak: " &lt;&lt; e.what() &lt;&lt; ".\n\n";
                            }
                        }
                        if(opcija3 == 3) {
                                try{
                                std::cout &lt;&lt; "Unesite datum: ";
                                int d, m, g;
                                char c;
<a name="8"></a><font color="#00FFFF"><a href="match527-0.html#8" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_0.gif"/></a>

                                std::cin &gt;&gt; d &gt;&gt; c &gt;&gt; m &gt;&gt; c &gt;&gt; g;
                                prodaje.ObrisiProdajeNaDatum(Datum(d,m,g));
                                std::cout &lt;&lt; "Sve prodaje na taj datum su obrisane.\n\n";
</font>                            }
                            catch(std::range_error e) {
                                std::cout &lt;&lt; "Izuzetak: " &lt;&lt; e.what() &lt;&lt; ".\n\n";
                            }
                        }
                        if(opcija3 == 4) {
                            try{
                                prodaje.IsprazniKolekciju();
                                std::cout &lt;&lt; "Sve prodaje su obrisane.\n\n";
                            }
                            catch(std::range_error e) {
                                std::cout &lt;&lt; "Izuzetak: " &lt;&lt; e.what() &lt;&lt; ".\n\n";
                            }
                        }
                    }
                }
                if(opcija2 == 5) {
                    opcija = 0; break;
                }
            }
        }
    }
    
    std::cout &lt;&lt; "\n\nDovidjenja!";
    
	return 0;
}</pre>
</body>
</html>
