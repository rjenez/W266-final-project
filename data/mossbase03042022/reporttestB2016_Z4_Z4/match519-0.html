<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z4/student8923.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z4/student8923.cpp<p></p><pre>
#include &lt;iostream&gt;
#include &lt;string&gt;
#include &lt;stdexcept&gt;
#include &lt;vector&gt;
#include &lt;initializer_list&gt;
#include &lt;algorithm&gt;
#include &lt;memory&gt;
#include &lt;cmath&gt;
using std::vector;
using std::cout;
using std::cin;
using std::string;
class Datum
{
private:

int cdan,cmjesec,cgodina;
public:
Datum(int dan, int mjesec, int godina);
void Postavi(int dan, int mjesec, int godina);
int DajDan() const {return cdan;}
int DajMjesec() const {return cmjesec;}
int DajGodinu() const {return cgodina;}
void Ispisi() const {cout&lt;&lt;cdan&lt;&lt;"/"&lt;&lt;cmjesec&lt;&lt;"/"&lt;&lt;cgodina;}
};
Datum::Datum(int dan,int mjesec,int godina)
{
    int broj_dana[12]={31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31};
    if((godina%4==0 &amp;&amp; godina%100!=0) || godina%400==0) 
    broj_dana[1]++;
    if(godina&lt;1 || dan&lt;1 || mjesec&lt;1 || mjesec&gt;12 || dan&gt;broj_dana[mjesec-1])
    throw std::domain_error("Neispravan datum");
    cdan=dan;
    cmjesec=mjesec;
    cgodina=godina;
}
void Datum::Postavi(int dan,int mjesec,int godina)
{
    int broj_dana[12]={31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31};
    if((godina%4==0 &amp;&amp; godina%100!=0) || godina%400==0) 
    broj_dana[1]++;
    if(godina&lt;1 || dan&lt;1 || mjesec&lt;1 || mjesec&gt;12 || dan&gt;broj_dana[mjesec-1])
    throw std::domain_error("Neispravan datum");
    cdan=dan;
    cmjesec=mjesec;
    cgodina=godina;
}
class Kupac
{
private:
string cime_i_prezime;
Datum cdatum_rodjenja;
bool ProvjeraImena(string ime);
public:
<a name="10"></a><font color="#FF0000"><a href="match519-1.html#10" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_0.gif"/></a>

Kupac(const std::string &amp;ime_i_prezime, const Datum &amp;datum_rodjenja);
void Postavi(const std::string &amp;ime_i_prezime, const Datum &amp;datum_rodjenja);
std::string DajImePrezime() const{ return cime_i_prezime;}
Datum DajDatumRodjenja() const{ return cdatum_rodjenja;}
</font>void Ispisi() const{cout&lt;&lt;cime_i_prezime&lt;&lt;" ("&lt;&lt;cdatum_rodjenja.DajDan()&lt;&lt;"/"&lt;&lt;cdatum_rodjenja.DajMjesec()&lt;&lt;"/"&lt;&lt;cdatum_rodjenja.DajGodinu()&lt;&lt;")";}
};
bool Kupac::ProvjeraImena(string ime)
{
    for(int i=0;i&lt;ime.size();i++)
    {
        if(!((ime[i]&gt;='a' &amp;&amp; ime[i]&lt;='z') || (ime[i]&gt;='A' &amp;&amp; ime[i]&lt;='Z') || (ime[i]&gt;='0' &amp;&amp; ime[i]&lt;='9') || ime[i]=='-' || ime[i]==' ' || ime[i]==27))
        return false;
    }
    return true;
}
Kupac::Kupac(const string &amp;ime_i_prezime,const Datum &amp;datum_rodjenja) : cdatum_rodjenja(datum_rodjenja.Datum::DajDan(),datum_rodjenja.Datum::DajMjesec(),datum_rodjenja.Datum::DajGodinu())
{
    if(!Kupac::ProvjeraImena(ime_i_prezime))
    throw std::domain_error("Neispravno ime i prezime");
   cime_i_prezime=ime_i_prezime;
}
void Kupac::Postavi(const string &amp;ime_i_prezime,const Datum &amp;datum_rodjenja)
{
    try
    {
    *this=Kupac(ime_i_prezime,datum_rodjenja);
    }
    catch(...)
    {
    throw;
    }
}
class Stan
{
private:   
string cadresa;
int csprat,cbroj_soba;
bool cnamjesten;
double ckvadratura;
public:
Stan(const std::string &amp;adresa, int sprat, int broj_soba, bool namjesten, double kvadratura){Postavi(adresa,sprat,broj_soba,namjesten,kvadratura);}
void Postavi(const std::string &amp;adresa, int sprat, int broj_soba, bool namjesten, double kvadratura);
std::string DajAdresu() const{return cadresa;}
int DajSprat() const{return csprat;}
int DajBrojSoba() const{return cbroj_soba;}
bool DajNamjesten() const{return cnamjesten;}
double DajKvadraturu() const{return ckvadratura;}
void Ispisi() const;
};
<a name="6"></a><font color="#00FF00"><a href="match519-1.html#6" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_0.gif"/></a>

void Stan::Postavi(const std::string &amp;adresa, int sprat, int broj_soba, bool namjesten, double kvadratura)
{
    if(sprat&lt;0 || broj_soba&lt;0 || kvadratura&lt;0)
    throw std::domain_error("Neispravan unos podataka");
    cadresa=adresa;
    csprat=sprat;
    cbroj_soba=broj_soba;
    cnamjesten=namjesten;
</font>    ckvadratura=kvadratura;
}
void Stan::Ispisi() const
{
    vector&lt;string&gt; gramatika{" soba."," sobu."," sobe."," sobe."," sobe."," soba."," soba."," soba."," soba."," soba."};
    int pom(cbroj_soba%10);
    if(cnamjesten)
    cout&lt;&lt;"Stan se nalazi na adresi "&lt;&lt;cadresa&lt;&lt;" na "&lt;&lt;csprat&lt;&lt;". spratu i ima "&lt;&lt;cbroj_soba&lt;&lt;gramatika[pom]&lt;&lt;" Kvadratura stana je "&lt;&lt;ckvadratura&lt;&lt;" (m^2) i stan je namjesten.";
    else
    cout&lt;&lt;"Stan se nalazi na adresi "&lt;&lt;cadresa&lt;&lt;" na "&lt;&lt;csprat&lt;&lt;". spratu i ima "&lt;&lt;cbroj_soba&lt;&lt;gramatika[pom]&lt;&lt;" Kvadratura stana je "&lt;&lt;ckvadratura&lt;&lt;" (m^2) i stan nije namjesten.";
}
class Prodaja
{
private:
string cime_agenta_prodaje;
double ccijena_stana;
Datum cdatum_prodaje;
Kupac ckupac_stana;
Stan ckupljeni_stan;
public:
<a name="3"></a><font color="#00FFFF"><a href="match519-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_0.gif"/></a>

Prodaja(const std::string &amp;ime_agenta_prodaje, double cijena_stana, const Datum &amp;datum_prodaje, const Kupac &amp;kupac_stana, const Stan &amp;kupljeni_stan);
Prodaja(const std::string &amp;ime_agenta_prodaje, double cijena_stana, int dan_prodaje, int mjesec_prodaje, int godina_prodaje, std::string &amp;ime_kupca, const Datum &amp;datum_rodjenja_kupca, const std::string &amp;adresa_stana, int sprat_stana, int broj_soba, bool namjesten_stan, double broj_kvadrata);
</font><a name="5"></a><font color="#FF0000"><a href="match519-1.html#5" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_0.gif"/></a>

void PromijeniKupca(const Kupac &amp;novi_kupac){ckupac_stana=novi_kupac;}
void PromijeniStan(const Stan &amp;novi_stan){ckupljeni_stan=novi_stan;}
void PromijeniAgenta(const string ime){cime_agenta_prodaje=ime;}
</font>void PromijeniDatumKupovine(const Datum &amp;novi_datum){cdatum_prodaje=novi_datum;}
void PromijeniCijenuProdaje(const double &amp;nova_cijena){ccijena_stana=nova_cijena;}
void PomjeriDanUnaprijed();
void PomjeriDanUnazad();
std::string DajImeAgenta() const{return cime_agenta_prodaje;}
std::string DajImeKupca() const{return ckupac_stana.Kupac::DajImePrezime();}
Datum DajDatumProdaje() const{return cdatum_prodaje;}
double DajCijenuStana() const{return ccijena_stana;}
<a name="0"></a><font color="#FF0000"><a href="match519-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_0.gif"/></a>

friend bool ProdatPrije(const Prodaja &amp;p1, const Prodaja &amp;p2);
friend bool SkupljiStan(const Prodaja &amp;p1, const Prodaja &amp;p2);
void Ispisi() const;
};
Prodaja::Prodaja(const std::string &amp;ime_agenta_prodaje, double cijena_stana,const Datum &amp;datum_prodaje,const Kupac &amp;kupac_stana,const Stan &amp;kupljeni_stan):cdatum_prodaje(datum_prodaje.Datum::DajDan(),datum_prodaje.Datum::DajMjesec(),datum_prodaje.Datum::DajGodinu()),ckupac_stana(kupac_stana.Kupac::DajImePrezime(),kupac_stana.Kupac::DajDatumRodjenja()),
</font>ckupljeni_stan(kupljeni_stan.Stan::DajAdresu(),kupljeni_stan.Stan::DajSprat(),kupljeni_stan.Stan::DajBrojSoba(),kupljeni_stan.Stan::DajNamjesten(),kupljeni_stan.Stan::DajKvadraturu())
{
<a name="11"></a><font color="#00FF00"><a href="match519-1.html#11" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_0.gif"/></a>

  cime_agenta_prodaje=ime_agenta_prodaje;
  ccijena_stana=cijena_stana;
}
Prodaja::Prodaja(const std::string &amp;ime_agenta_prodaje, double cijena_stana, int dan_prodaje, int mjesec_prodaje, int godina_prodaje, std::string &amp;ime_kupca, const Datum &amp;datum_rodjenja_kupca, const std::string &amp;adresa_stana, int sprat_stana, int broj_soba, bool namjesten_stan, double broj_kvadrata):
</font><a name="12"></a><font color="#0000FF"><a href="match519-1.html#12" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_0.gif"/></a>

cdatum_prodaje(dan_prodaje,mjesec_prodaje,godina_prodaje), ckupac_stana(ime_kupca,datum_rodjenja_kupca), ckupljeni_stan(adresa_stana,sprat_stana,broj_soba,namjesten_stan,broj_kvadrata)
</font>{
    cime_agenta_prodaje=ime_agenta_prodaje;
    ccijena_stana=cijena_stana;
}
void Prodaja::PomjeriDanUnaprijed()
{
int dan(cdatum_prodaje.Datum::DajDan()),mjesec(cdatum_prodaje.Datum::DajMjesec()),godina(cdatum_prodaje.Datum::DajGodinu());
int broj_dana[]{31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31};
 if((godina%4==0 &amp;&amp; godina%100!=0) || godina%400==0)
 broj_dana[1]++;
 dan++;
 if(dan&gt;broj_dana[mjesec-1]) 
 {
 dan=1;
 mjesec++;
 }
 if(mjesec&gt;12) 
 {
mjesec=1;
godina++;
}
cdatum_prodaje.Datum::Postavi(dan,mjesec,godina);
}
void Prodaja::PomjeriDanUnazad()
{
int dan(cdatum_prodaje.Datum::DajDan()),mjesec(cdatum_prodaje.Datum::DajMjesec()),godina(cdatum_prodaje.Datum::DajGodinu());
int broj_dana[]{31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31};
 if((godina%4==0 &amp;&amp; godina%100!=0) || godina%400==0)
 broj_dana[1]++;
 dan--;
 if(dan==0)
 mjesec--;
 if(mjesec!=0)
 dan=broj_dana[mjesec-1];
 else
 {
    godina--;
   mjesec=12;
   dan=broj_dana[mjesec-1];
 }
 cdatum_prodaje.Datum::Postavi(dan,mjesec,godina);
}
bool ProdatPrije(const Prodaja &amp;p1, const Prodaja &amp;p2)
{
    if(p1.cdatum_prodaje.Datum::DajGodinu()&lt;p2.cdatum_prodaje.Datum::DajGodinu())
    return true;
    if(p1.cdatum_prodaje.Datum::DajMjesec()&lt;p2.cdatum_prodaje.Datum::DajMjesec())
    return true;
    if(p1.cdatum_prodaje.Datum::DajDan()&lt;p2.cdatum_prodaje.Datum::DajDan())
    return true;
    return false;
}
bool SkupljiStan(const Prodaja &amp;p1, const Prodaja &amp;p2)
{
    if(p1.ccijena_stana&gt;p2.ccijena_stana)
    return true;
    return false;
}
void Prodaja::Ispisi() const
{
    cout&lt;&lt;"Ime agenta:                     "&lt;&lt;cime_agenta_prodaje&lt;&lt;std::endl;
    cout&lt;&lt;"Ime kupca:                      ";
    ckupac_stana.Kupac::Ispisi();
    cout&lt;&lt;std::endl;
    cout&lt;&lt;"Zakazani datum prodaje:         ";
    cdatum_prodaje.Datum::Ispisi();
    cout&lt;&lt;std::endl;
    cout&lt;&lt;"Cijena stana:                   "&lt;&lt;ccijena_stana&lt;&lt;std::endl;
    cout&lt;&lt;"Informacije o stanu:            "&lt;&lt;std::endl;
    ckupljeni_stan.Stan::Ispisi();
}
class Prodaje
{
private:

vector&lt;std::shared_ptr&lt;Prodaja&gt;&gt; cpok;
public:
explicit Prodaje():cpok(cpok.size()){}
Prodaje(std::initializer_list&lt;Prodaja&gt; spisak_prodaja);
~Prodaje()=default;
Prodaje(const Prodaje &amp;prodaje);
Prodaje(Prodaje &amp;&amp;prodaje)=default;
Prodaje &amp;operator =(const Prodaje &amp;prodaje);
Prodaje &amp;operator =(Prodaje &amp;&amp;prodaje)=default;
void RegistrirajProdaju(const std::string &amp;ime_agenta_prodaje, double cijena_stana, const Datum &amp;datum_prodaje, const Kupac &amp;kupac_stana, const Stan &amp;kupljeni_stan);
<a name="2"></a><font color="#0000FF"><a href="match519-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_0.gif"/></a>

void RegistrirajProdaju(const std::string &amp;ime_agenta_prodaje,double cijena_stana, int dan_prodaje, int mjesec_prodaje, int godina_prodaje, std::string &amp;ime_kupca, const Datum &amp;datum_rodjenja_kupca, const std::string &amp;adresa_stana, int sprat_stana, int broj_soba, bool namjesten_stan, double broj_kvadrata);
void RegistrirajProdaju(std::shared_ptr&lt;Prodaja&gt; prodaja);
int DajBrojProdaja() const{return cpok.size();}
int DajBrojProdajaNaDatum(const Datum &amp;datum) const;
</font>int DajBrojProdajaOdAgenta(const std::string &amp;ime_agenta) const;
Prodaja &amp;DajProdaju(int broj_prodaje);
Prodaja &amp;DajNajranijuProdaju();
Prodaja DajNajranijuProdaju() const;
Prodaja &amp;DajNajskupljuProdaju();
Prodaja DajNajskupljuProdaju() const;
void IsprazniKolekciju();
void ObrisiNajranijuProdaju();
<a name="7"></a><font color="#0000FF"><a href="match519-1.html#7" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_0.gif"/></a>

void ObrisiProdajeAgenta(const std::string &amp;ime_agenta);  
void ObrisiProdajeNaDatum(const Datum &amp;datum);
void IspisiProdajeNaDatum(const Datum &amp;datum) const;
void IspisiSveProdaje() const;
};
Prodaje::Prodaje(std::initializer_list&lt;Prodaja&gt; spisak_prodaja) : cpok(spisak_prodaja.size())
</font>{
    int i(0);
        for(auto it=spisak_prodaja.begin();it!=spisak_prodaja.end();it++)
        {
            cpok[i]=std::make_shared&lt;Prodaja&gt;(*it);
            i++;
            
        }
    
}

<a name="1"></a><font color="#00FF00"><a href="match519-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_0.gif"/></a>

Prodaje::Prodaje(const Prodaje &amp;prodaje) :cpok(prodaje.cpok.size())
{
    
        for(int i=0;i&lt;prodaje.cpok.size();i++)
        {
            cpok[i]=std::make_shared&lt;Prodaja&gt;(*prodaje.cpok[i]);
        }
    
}

Prodaje &amp;Prodaje::operator =(const Prodaje &amp;prodaje) //
</font>{
    if(&amp;prodaje!=this)
    {
<a name="4"></a><font color="#FF00FF"><a href="match519-1.html#4" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_0.gif"/></a>

    cpok.resize(prodaje.cpok.size());
    for(int i=0;i&lt;prodaje.cpok.size();i++)
    cpok[i]=std::make_shared&lt;Prodaja&gt;(*prodaje.cpok[i]);
    }
    return *this;
</font>}


void Prodaje::IsprazniKolekciju()
{
    cpok.resize(0);
}
void Prodaje::RegistrirajProdaju(std::shared_ptr&lt;Prodaja&gt; prodaja)
{
   cpok.push_back(prodaja);
}
void Prodaje::RegistrirajProdaju(const std::string &amp;ime_agenta_prodaje, double cijena_stana, const Datum &amp;datum_prodaje, const Kupac &amp;kupac_stana, const Stan &amp;kupljeni_stan)
{
   
    try
    {
        std::shared_ptr&lt;Prodaja&gt; pom(std::make_shared&lt;Prodaja&gt;(ime_agenta_prodaje,cijena_stana,datum_prodaje,kupac_stana,kupljeni_stan));
       cpok.push_back(pom);
    }
    catch(...)
    {
        throw;
    }
}
void Prodaje::RegistrirajProdaju(const std::string &amp;ime_agenta_prodaje,double cijena_stana, int dan_prodaje, int mjesec_prodaje, int godina_prodaje, std::string &amp;ime_kupca, const Datum &amp;datum_rodjenja_kupca, const std::string &amp;adresa_stana, int sprat_stana, int broj_soba, bool namjesten_stan, double broj_kvadrata)
{
   
    try
    {
<a name="8"></a><font color="#00FFFF"><a href="match519-1.html#8" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_0.gif"/></a>

        std::shared_ptr&lt;Prodaja&gt; pom(std::make_shared&lt;Prodaja&gt;(ime_agenta_prodaje,cijena_stana,dan_prodaje,mjesec_prodaje,godina_prodaje,ime_kupca,datum_rodjenja_kupca,adresa_stana,sprat_stana,broj_soba,namjesten_stan,broj_kvadrata));
</font>        cpok.push_back(pom);
    }
    catch(...)
    {
        throw;
    }
}
int Prodaje::DajBrojProdajaNaDatum(const Datum &amp;datum) const
{
    int pom;
    pom=std::count_if(cpok.begin(),cpok.end(),[=](std::shared_ptr&lt;Prodaja&gt;prodaja) {
    Datum datum2=prodaja-&gt;Prodaja::DajDatumProdaje();
    if(datum2.Datum::DajDan()==datum.Datum::DajDan() &amp;&amp; datum2.Datum::DajMjesec()==datum.Datum::DajMjesec() &amp;&amp; datum2.Datum::DajGodinu()==datum.Datum::DajGodinu())
    return true;
    return false;});
    return pom;
}
int Prodaje::DajBrojProdajaOdAgenta(const std::string &amp;ime_agenta) const
{
    int pom;
    pom=std::count_if(cpok.begin(),cpok.end(),[=](std::shared_ptr&lt;Prodaja&gt; prodaja){
    string ime_agenta2=prodaja-&gt;Prodaja::DajImeAgenta();
    if(ime_agenta2==ime_agenta)
    return true;
    return false;
    });
    return pom;
}
Prodaja &amp;Prodaje::DajProdaju(int broj_prodaje)
{
   if(broj_prodaje&gt;cpok.size()) 
   throw std::range_error("Nema toliko registriranih prodaja");
   return *cpok[broj_prodaje-1];
}
Prodaja &amp;Prodaje::DajNajranijuProdaju()
{
<a name="13"></a><font color="#00FFFF"><a href="match519-1.html#13" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_0.gif"/></a>

    if(cpok.size()==0)
    throw std::domain_error("Nema registriranih prodaja");
    return **std::min_element(cpok.begin(),cpok.end(),[] (std::shared_ptr&lt;Prodaja&gt; prodaja1,std::shared_ptr&lt;Prodaja&gt; prodaja2)
</font>    {
        Datum datum1=prodaja1-&gt;Prodaja::DajDatumProdaje(),datum2=prodaja2-&gt;Prodaja::DajDatumProdaje();
        if(datum1.Datum::DajGodinu()&gt;datum2.Datum::DajGodinu()) return true;
        if(datum1.Datum::DajGodinu()&lt;datum2.Datum::DajGodinu()) return false;
        if(datum1.Datum::DajMjesec()&gt;datum2.Datum::DajMjesec()) return true;
        if(datum1.Datum::DajMjesec()&lt;datum2.Datum::DajMjesec()) return false;
        if(datum1.Datum::DajDan()&gt;datum2.Datum::DajDan()) return true;
        return false;
    });
}
Prodaja Prodaje::DajNajranijuProdaju() const
{
<a name="14"></a><font color="#FF00FF"><a href="match519-1.html#14" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_0.gif"/></a>

    if(cpok.size()==0)
    throw std::domain_error("Nema registriranih prodaja");
    return **std::min_element(cpok.begin(),cpok.end(),[] (std::shared_ptr&lt;Prodaja&gt; prodaja1,std::shared_ptr&lt;Prodaja&gt; prodaja2)
</font>    {
        Datum datum1=prodaja1-&gt;Prodaja::DajDatumProdaje(),datum2=prodaja2-&gt;Prodaja::DajDatumProdaje();
        if(datum1.Datum::DajGodinu()&gt;datum2.Datum::DajGodinu()) return true;
        if(datum1.Datum::DajGodinu()&lt;datum2.Datum::DajGodinu()) return false;
        if(datum1.Datum::DajMjesec()&gt;datum2.Datum::DajMjesec()) return true;
        if(datum1.Datum::DajMjesec()&lt;datum2.Datum::DajMjesec()) return false;
        if(datum1.Datum::DajDan()&gt;datum2.Datum::DajDan()) return true;
        return false;
    });
}
Prodaja &amp;Prodaje::DajNajskupljuProdaju()
{
<a name="15"></a><font color="#FF0000"><a href="match519-1.html#15" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_0.gif"/></a>

    if(cpok.size()==0)
    throw std::domain_error("Nema registriranih prodaja");
    return **std::max_element(cpok.begin(),cpok.end(),[](std::shared_ptr&lt;Prodaja&gt; prodaja1,std::shared_ptr&lt;Prodaja&gt; prodaja2)
</font>    {
        double cijena1,cijena2;
        cijena1=prodaja1-&gt;Prodaja::DajCijenuStana();
        cijena2=prodaja2-&gt;Prodaja::DajCijenuStana();
        if(cijena2&gt;cijena1)
        return true;
        return false;
    });
}
Prodaja Prodaje::DajNajskupljuProdaju() const
{
<a name="16"></a><font color="#00FF00"><a href="match519-1.html#16" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_0.gif"/></a>

    if(cpok.size()==0)
    throw std::domain_error("Nema registriranih prodaja");
    return **std::max_element(cpok.begin(),cpok.end(),[](std::shared_ptr&lt;Prodaja&gt; prodaja1,std::shared_ptr&lt;Prodaja&gt; prodaja2)
</font>    {
        double cijena1,cijena2;
        cijena1=prodaja1-&gt;Prodaja::DajCijenuStana();
        cijena2=prodaja2-&gt;Prodaja::DajCijenuStana();
        if(cijena2&gt;cijena1)
        return true;
        return false;
    });
}
void Prodaje::ObrisiNajranijuProdaju()
{
   if(cpok.size()==0)
   throw std::range_error("Prazna kolekcija");
   Prodaja pom_prodaja=(*this).Prodaje::DajNajranijuProdaju();
   Datum pom_datum=pom_prodaja.Prodaja::DajDatumProdaje();
   string pom_ime_agenta=pom_prodaja.Prodaja::DajImeAgenta();
   double pom_cijena=pom_prodaja.Prodaja::DajCijenuStana();
   for(int i=0;i&lt;cpok.size();i++)
   {
       Datum datum=(*this).cpok[i]-&gt;Prodaja::DajDatumProdaje();
       string ime_agenta=(*this).cpok[i]-&gt;Prodaja::DajImeAgenta();
       double cijena=(*this).cpok[i]-&gt;Prodaja::DajCijenuStana();
       if(pom_ime_agenta==ime_agenta &amp;&amp; std::fabs(pom_cijena-cijena)&lt;0.00000000001 &amp;&amp; pom_datum.Datum::DajDan()==datum.Datum::DajDan() &amp;&amp; pom_datum.Datum::DajMjesec()==datum.Datum::DajMjesec() &amp;&amp; pom_datum.Datum::DajGodinu()==datum.Datum::DajGodinu())
       {
           cpok[i]=cpok[cpok.size()-1];
           cpok[cpok.size()-1]=nullptr;
           cpok.resize(cpok.size()-1);
           
       }
   }
   
}
void Prodaje::ObrisiProdajeAgenta(const std::string &amp;ime_agenta)
{
    for(int i=0;i&lt;cpok.size();i++)
    {
        if((*this).cpok[i]-&gt;Prodaja::DajImeAgenta()==ime_agenta)
        {
            cpok[i]=cpok[cpok.size()-1];
           cpok[cpok.size()-1]=nullptr;
           cpok.resize(cpok.size()-1);
        }
    }
}
void Prodaje::ObrisiProdajeNaDatum(const Datum &amp;datum)
{
    for(int i=0;i&lt;cpok.size();i++)
    {
    Datum pom_datum=(*this).cpok[i]-&gt;Prodaja::DajDatumProdaje();
    if(pom_datum.Datum::DajDan()==datum.Datum::DajDan() &amp;&amp; pom_datum.Datum::DajMjesec()==datum.Datum::DajMjesec() &amp;&amp; pom_datum.Datum::DajGodinu()==datum.Datum::DajGodinu())
    {
        cpok[i]=cpok[cpok.size()-1];
           cpok[cpok.size()-1]=nullptr;
           cpok.resize(cpok.size()-1);
    }
    }
}
void Prodaje::IspisiSveProdaje() const
{
    Prodaje pom_prodaje=*this;
    std::sort(pom_prodaje.cpok.begin(),pom_prodaje.cpok.end(),[](std::shared_ptr&lt;Prodaja&gt; prodaja1,std::shared_ptr&lt;Prodaja&gt; prodaja2)
    {
         Datum datum1=prodaja1-&gt;Prodaja::DajDatumProdaje(),datum2=prodaja2-&gt;Prodaja::DajDatumProdaje();
        if(datum1.Datum::DajGodinu()&lt;datum2.Datum::DajGodinu()) return true;
        if(datum1.Datum::DajGodinu()&gt;datum2.Datum::DajGodinu()) return false;
        if(datum1.Datum::DajMjesec()&lt;datum2.Datum::DajMjesec()) return true;
        if(datum1.Datum::DajMjesec()&gt;datum2.Datum::DajMjesec()) return false;
        if(datum1.Datum::DajDan()&lt;datum2.Datum::DajDan()) return true;
        if(datum1.Datum::DajDan()&gt;datum2.Datum::DajDan()) return false;
        return(prodaja1-&gt;Prodaja::DajImeKupca()&lt;prodaja2-&gt;Prodaja::DajImeKupca());
    });
    for(int i=0;i&lt;cpok.size();i++)
    {
        pom_prodaje.cpok[i]-&gt;Prodaja::Ispisi();
        cout&lt;&lt;std::endl;
    }
}
void Prodaje::IspisiProdajeNaDatum(const Datum &amp;datum) const
{
    Prodaje pom_prodaje=*this;
    std::sort(pom_prodaje.cpok.begin(),pom_prodaje.cpok.end(),[](std::shared_ptr&lt;Prodaja&gt; prodaja1,std::shared_ptr&lt;Prodaja&gt; prodaja2)
    {
        return(prodaja1-&gt;Prodaja::DajImeKupca()&lt;prodaja2-&gt;Prodaja::DajImeKupca());
    });
    for(int i=0;i&lt;cpok.size();i++)
    {
    Datum pom_datum=(*this).cpok[i]-&gt;Prodaja::DajDatumProdaje();
        if(pom_datum.Datum::DajDan()==datum.Datum::DajDan() &amp;&amp; pom_datum.Datum::DajMjesec()==datum.Datum::DajMjesec() &amp;&amp; pom_datum.Datum::DajGodinu()==datum.Datum::DajGodinu())
        pom_prodaje.cpok[i]-&gt;Prodaja::Ispisi();
    }
}
int main ()
{
    
  cout&lt;&lt;"Dobrodosli!"&lt;&lt;std::endl&lt;&lt;" "&lt;&lt;std::endl&lt;&lt;" ";
     vector&lt;Kupac&gt; vekk;
    vector&lt;Stan&gt; veks;
    vector&lt;Prodaja&gt; vekp;
   // Prodaje prodaje(20);
    while(true)
    {
    cout&lt;&lt;std::endl&lt;&lt;"Izaberite opciju:"&lt;&lt;std::endl;
    cout&lt;&lt;" 0 - kraj"&lt;&lt;std::endl&lt;&lt;" 1 - uredjivanje stanova"&lt;&lt;std::endl&lt;&lt;" 2 - uredjivanje kupaca"&lt;&lt;std::endl&lt;&lt;" 3 - uredjivanje prodaja"&lt;&lt;std::endl;
    int opcija;
    cin&gt;&gt;opcija;
    if(opcija==0)
    {
        cout&lt;&lt;std::endl&lt;&lt;"Dovidjenja!";
        return 0;
    }
    if(opcija==1)
    {
    while(true)
    { 
        cout&lt;&lt;"Izaberite opciju:"&lt;&lt;std::endl&lt;&lt;" 0 - nazad"&lt;&lt;std::endl&lt;&lt;" 1 - dodavanje stana"&lt;&lt;std::endl&lt;&lt;" 2 - uredjivanje stanova"&lt;&lt;std::endl&lt;&lt;" 3 - ispis svih stanova"&lt;&lt;std::endl&lt;&lt;" 4 - kraj"&lt;&lt;std::endl;
       int opc1;
       cin&gt;&gt;opc1;
       if(opc1==0)
       break;
       if(opc1==4)
       {
    cout&lt;&lt;std::endl&lt;&lt;"Dovidjenja!";
       return 0;
       }
       if(opc1==1)
       {
           unos:
           cout&lt;&lt;"Unesite adresu: ";
           string adresa;
           cin.ignore(10000,'\n');
           std::getline(cin,adresa);
           cout&lt;&lt;"Unesite sprat: ";
           int sprat;
           cin&gt;&gt;sprat;
           cout&lt;&lt;"Unesite broj soba: ";
           int broj_soba;
           cin&gt;&gt;broj_soba;
           cout&lt;&lt;"Da li je stan namjesten (1 - da, 0 - ne): ";
           int n;
           cin&gt;&gt;n;
           bool namjesten(false);
           if(n==1)
           namjesten=true;
           cout&lt;&lt;"Unesite kvadraturu: ";
           double kvadratura;
           cin&gt;&gt;kvadratura;
           try
           {
               if(n!=1 &amp;&amp; n!=0)
               throw std::domain_error("Neispravan unos podataka");
               Stan novis(adresa,sprat,broj_soba,namjesten,kvadratura);
               veks.push_back(novis);
               cout&lt;&lt;"Stan je uspjesno dodan!"&lt;&lt;std::endl&lt;&lt;" "&lt;&lt;std::endl;
           }
           catch(std::domain_error izuzetak)
           {
               cout&lt;&lt;"Izuzetak: "&lt;&lt;izuzetak.what()&lt;&lt;". Molimo unesite opet."&lt;&lt;std::endl;
               goto unos;
           }
       }
<a name="9"></a><font color="#FF00FF"><a href="match519-1.html#9" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_0.gif"/></a>

       if(opc1==3)
       {
          for(int i=0;i&lt;veks.size();i++)
          {
              cout&lt;&lt;i+1&lt;&lt;". ";
              veks[i].Stan::Ispisi();
</font>              cout&lt;&lt;std::endl;
               if(i==veks.size()-1)
               cout&lt;&lt;" "&lt;&lt;std::endl;
          }
       }
       if(opc1==2)
       {
           cout&lt;&lt;"Odaberite stan. Dostupni stanovi su:"&lt;&lt;std::endl;
           for(int i=0;i&lt;veks.size();i++)
           {
               cout&lt;&lt;" "&lt;&lt;i+1&lt;&lt;" - ";
               veks[i].Stan::Ispisi();
               cout&lt;&lt;std::endl;
           }
           int odaberis;
           cin&gt;&gt;odaberis;
           odaberis--;
           cout&lt;&lt;" "&lt;&lt;std::endl;
           cout&lt;&lt;"Odaberite polje koje zelite urediti:"&lt;&lt;std::endl&lt;&lt;" 0 - nazad"&lt;&lt;std::endl&lt;&lt;" 1 - adresa"&lt;&lt;std::endl&lt;&lt;" 2 - sprat"&lt;&lt;std::endl&lt;&lt;" 3 - broj soba"&lt;&lt;std::endl&lt;&lt;" 4 - da li je stan namjesten"&lt;&lt;std::endl&lt;&lt;" 5 - kvadratura"&lt;&lt;std::endl&lt;&lt;" 6 - sve"&lt;&lt;std::endl;
       int odaberiu;
       cin&gt;&gt;odaberiu;
       if(odaberiu==0)
       break;
       if(odaberiu==1)
       {
        unos1:
       cout&lt;&lt;"Unesite adresu: ";
       string adres;
       cin.ignore(10000,'\n');
       std::getline(cin,adres);
       try
       {
           veks[odaberis].Stan::Postavi(adres,veks[odaberis].Stan::DajSprat(),veks[odaberis].Stan::DajBrojSoba(),veks[odaberis].Stan::DajNamjesten(),veks[odaberis].Stan::DajKvadraturu());
           cout&lt;&lt;"Stan je uspjesno izmijenjen!"&lt;&lt;std::endl&lt;&lt;" "&lt;&lt;std::endl;
       }
       catch(std::domain_error izuzetak)
       {
           cout&lt;&lt;"Izuzetak: "&lt;&lt;izuzetak.what()&lt;&lt;". Molimo unesite opet."&lt;&lt;std::endl;
           goto unos1;
       }
       }
       if(odaberiu==2)
       {
           unos2:
           cout&lt;&lt;"Unesite sprat: ";
           int spra;
           cin&gt;&gt;spra;
        try
       {
           veks[odaberis].Stan::Postavi(veks[odaberis].Stan::DajAdresu(),spra,veks[odaberis].Stan::DajBrojSoba(),veks[odaberis].Stan::DajNamjesten(),veks[odaberis].Stan::DajKvadraturu());
           cout&lt;&lt;"Stan je uspjesno izmijenjen!"&lt;&lt;std::endl&lt;&lt;" "&lt;&lt;std::endl;
       }
       catch(std::domain_error izuzetak)
       {
           cout&lt;&lt;"Izuzetak: "&lt;&lt;izuzetak.what()&lt;&lt;". Molimo unesite opet."&lt;&lt;std::endl;
           goto unos2;
       }
       }
       if(odaberiu==3)
       {
           unos3:
           cout&lt;&lt;"Unesite broj soba: ";
           int br_soba;
           cin&gt;&gt;br_soba;
        try
       {
           veks[odaberis].Stan::Postavi(veks[odaberis].Stan::DajAdresu(),veks[odaberis].Stan::DajSprat(),br_soba,veks[odaberis].Stan::DajNamjesten(),veks[odaberis].Stan::DajKvadraturu());
           cout&lt;&lt;"Stan je uspjesno izmijenjen!"&lt;&lt;std::endl&lt;&lt;" "&lt;&lt;std::endl;
       }
       catch(std::domain_error izuzetak)
       {
           cout&lt;&lt;"Izuzetak: "&lt;&lt;izuzetak.what()&lt;&lt;". Molimo unesite opet."&lt;&lt;std::endl;
           goto unos3;
       }
       }
       if(odaberiu==4)
       {
           unos4:
           cout&lt;&lt;"Da li je stan namjesten (1 - da, 0 - ne): ";
           int n2;
           cin&gt;&gt;n2;
           bool namjes(false);
           if(n2==1)
           namjes=true;
        try
       {
           if(n2!=0 &amp;&amp; n2!=1)
           throw std::domain_error("Neispravan unos podataka");
           veks[odaberis].Stan::Postavi(veks[odaberis].Stan::DajAdresu(),veks[odaberis].Stan::DajSprat(),veks[odaberis].Stan::DajBrojSoba(),namjes,veks[odaberis].Stan::DajKvadraturu());
           cout&lt;&lt;"Stan je uspjesno izmijenjen!"&lt;&lt;std::endl&lt;&lt;" "&lt;&lt;std::endl;
       }
       catch(std::domain_error izuzetak)
       {
           cout&lt;&lt;"Izuzetak: "&lt;&lt;izuzetak.what()&lt;&lt;". Molimo unesite opet."&lt;&lt;std::endl;
           goto unos4;
       }
       }
       if(odaberiu==5)
       {
           unos5:
           cout&lt;&lt;"Unesite kvadraturu: ";
           double kvadrata;
           cin&gt;&gt;kvadrata;
        try
       {
           veks[odaberis].Stan::Postavi(veks[odaberis].Stan::DajAdresu(),veks[odaberis].Stan::DajSprat(),veks[odaberis].Stan::DajBrojSoba(),veks[odaberis].Stan::DajNamjesten(),kvadrata);
           cout&lt;&lt;"Stan je uspjesno izmijenjen!"&lt;&lt;std::endl&lt;&lt;" "&lt;&lt;std::endl;
       }
       catch(std::domain_error izuzetak)
       {
           cout&lt;&lt;"Izuzetak: "&lt;&lt;izuzetak.what()&lt;&lt;". Molimo unesite opet."&lt;&lt;std::endl;
           goto unos5;
       }
       }
       if(odaberiu==6)
       {
           unos6:
          cout&lt;&lt;"Unesite adresu: ";
           string adres;
           cin.ignore(10000,'\n');
           std::getline(cin,adres);
           cout&lt;&lt;"Unesite sprat: ";
           int spra;
           cin&gt;&gt;spra;
           cout&lt;&lt;"Unesite broj soba: ";
           int br_soba;
           cin&gt;&gt;br_soba;
           cout&lt;&lt;"Da li je stan namjesten (1 - da, 0 - ne): ";
           int n2;
           cin&gt;&gt;n2;
           bool namjes(false);
           if(n2==1)
           namjes=true;
           cout&lt;&lt;"Unesite kvadraturu: ";
           double kvadrata;
           cin&gt;&gt;kvadrata; 
        try
       {
           if(n2!=1 &amp;&amp; n2!=0)
           throw std::domain_error("Neispravan unos podataka");
           veks[odaberis].Stan::Postavi(adres,spra,br_soba,namjes,kvadrata);
           cout&lt;&lt;"Stan je uspjesno izmijenjen!"&lt;&lt;std::endl&lt;&lt;" "&lt;&lt;std::endl;
       }
       catch(std::domain_error izuzetak)
       {
           cout&lt;&lt;"Izuzetak: "&lt;&lt;izuzetak.what()&lt;&lt;". Molimo unesite opet."&lt;&lt;std::endl;
           goto unos6;
       }
       }
       }
    } 
    }
    if(opcija==2)
    {
    while(true)
    {
        cout&lt;&lt;"Izaberite opciju:"&lt;&lt;std::endl&lt;&lt;" 0 - nazad"&lt;&lt;std::endl&lt;&lt;" 1 - dodavanje kupca"&lt;&lt;std::endl&lt;&lt;" 2 - uredjivanje kupaca"&lt;&lt;std::endl&lt;&lt;" 3 - ispis svih kupaca"&lt;&lt;std::endl&lt;&lt;" 4 - kraj"&lt;&lt;std::endl;
        int opck;
        cin&gt;&gt;opck;
        if(opck==0)
        break;
        if(opck==4)
        {
            cout&lt;&lt;std::endl&lt;&lt;"Dovidjenja!";
           return 0; 
        }
        if(opck==1)
        {
            unosk1:
            cout&lt;&lt;"Unesite ime i prezime kupca: ";
            string imek;
            cin.ignore(10000,'\n');
            std::getline(cin,imek);
            cout&lt;&lt;"Unesite datum rodjenja (formata d/m/g): ";
            int d,m,g;
            char znak1,znak2;
            cin&gt;&gt;d&gt;&gt;znak1&gt;&gt;m&gt;&gt;znak2&gt;&gt;g;
            try
            {
                Datum dat(d,m,g);
                Kupac kup(imek,dat);
                vekk.push_back(kup);
                cout&lt;&lt;"Kupac je uspjesno dodan!"&lt;&lt;std::endl&lt;&lt;std::endl;
            }
            catch(std::domain_error izuzetak)
            {
                cout&lt;&lt;"Izuzetak: "&lt;&lt;izuzetak.what()&lt;&lt;". Molimo unesite opet."&lt;&lt;std::endl;
                goto unosk1;
            }
        }
        if(opck==3)
        {
            for(int i=0;i&lt;vekk.size();i++)
            {
                vekk[i].Kupac::Ispisi();
                cout&lt;&lt;std::endl;
                 if(i==vekk.size()-1)
               cout&lt;&lt;std::endl;
            }
        }
        if(opck==2)
        {
            cout&lt;&lt;"Odaberite kupca kojeg zelite urediti. Dostupni kupci su:"&lt;&lt;std::endl;
            for(int i=0;i&lt;vekk.size();i++)
            {
                cout&lt;&lt;" "&lt;&lt;i+1&lt;&lt;" - ";
                vekk[i].Kupac::Ispisi();
                cout&lt;&lt;std::endl;
                if(i==vekk.size()-1)
                cout&lt;&lt;std::endl;
            }
            int odaberik;
            cin&gt;&gt;odaberik;
            odaberik--;
            unosnk:
            cout&lt;&lt;"Unesite ime i prezime kupca: ";
            string nime;
            cin.ignore(10000,'\n');
            std::getline(cin,nime);
            cout&lt;&lt;"Unesite datum rodjenja (formata d/m/g): ";
            int nd,nm,ng;
            char nznak1,nznak2;
            cin&gt;&gt;nd&gt;&gt;nznak1&gt;&gt;nm&gt;&gt;nznak2&gt;&gt;ng;
            try
            {
                Datum ndat(nd,nm,ng);
                vekk[odaberik].Kupac::Postavi(nime,ndat);
                cout&lt;&lt;"Kupac je uspjesno izmijenjen!"&lt;&lt;std::endl&lt;&lt;" "&lt;&lt;std::endl;
            }
            catch(std::domain_error izuzetak)
            {
                cout&lt;&lt;"Izuzetak: "&lt;&lt;izuzetak.what()&lt;&lt;". Molimo unesite opet."&lt;&lt;std::endl;
                goto unosnk;
            }
        }
    }
        
    }
    if(opcija==3)
    {
        while(true)
        {
        cout&lt;&lt;"Izaberite opciju:"&lt;&lt;std::endl&lt;&lt;" 0 - nazad"&lt;&lt;std::endl&lt;&lt;" 1 - dodavanje prodaje"&lt;&lt;std::endl&lt;&lt;" 2 - uredjivanje prodaje"&lt;&lt;std::endl&lt;&lt;" 3 - ispis prodaja"&lt;&lt;std::endl&lt;&lt;" 4 - brisanje prodaja"&lt;&lt;std::endl&lt;&lt;" 5 - kraj"&lt;&lt;std::endl;
       int opcprod;
       cin&gt;&gt;opcprod;
       if(opcprod==0)
       break;
       if(opcprod==2)
       {
           cout&lt;&lt;"Odaberite prodaju koju Å¾elite urediti. Dostupne prodaje su:"&lt;&lt;std::endl;
            for(int i=0;i&lt;vekp.size();i++)
               {
                   cout&lt;&lt;i+1&lt;&lt;"."&lt;&lt;std::endl;
                   vekp[i].Prodaja::Ispisi();
                   cout&lt;&lt;std::endl&lt;&lt;std::endl;
               }
            int izmijenip;
            cin&gt;&gt;izmijenip;
            izmijenip--;
            
cout&lt;&lt;"Izaberite opciju:"&lt;&lt;std::endl&lt;&lt;" 0 - nazad"&lt;&lt;std::endl&lt;&lt;" 1 - izmjena agenta"&lt;&lt;std::endl&lt;&lt;" 2 - izmjena datuma prodaje"&lt;&lt;std::endl&lt;&lt;" 3 - izmjena kupca"&lt;&lt;std::endl&lt;&lt;" 4 - izmjena stana"&lt;&lt;std::endl&lt;&lt;" 5 - izmjena cijene stana"&lt;&lt;std::endl;
       int opcizm;
       cin&gt;&gt;opcizm;
       if(opcizm==0)
       break;
       if(opcizm==1)
       {
            cout&lt;&lt;"Unesite ime i prezime agenta prodaje: ";
            string imea;
            cin.ignore(10000,'\n');
            std::getline(cin,imea);
             vekp[izmijenip].Prodaja::PromijeniAgenta(imea);
             cout&lt;&lt;"Prodaja je uspjesno izmijenjena!"&lt;&lt;std::endl&lt;&lt;std::endl;
       }
       if(opcizm==2)
       {
           izmijenid:
           cout&lt;&lt;"Unesite datum prodaje (formata d/m/g): ";
            int d,m,g;
            char znak1,znak2;
            cin&gt;&gt;d&gt;&gt;znak1&gt;&gt;m&gt;&gt;znak2&gt;&gt;g;
            try
            {
                Datum dat(d,m,g);
                vekp[izmijenip].Prodaja::PromijeniDatumKupovine(dat);
                cout&lt;&lt;"Prodaja je uspjesno izmijenjena!"&lt;&lt;std::endl&lt;&lt;std::endl;
            }
            catch(std::domain_error izuzetak)
            {
               cout&lt;&lt;"Izuzetak: "&lt;&lt;izuzetak.what()&lt;&lt;". Molimo unesite opet."&lt;&lt;std::endl;
                goto izmijenid; 
            }
       }
       if(opcizm==3)
       {
           cout&lt;&lt;"Izaberite opciju:"&lt;&lt;std::endl&lt;&lt;" 0 - nazad"&lt;&lt;std::endl&lt;&lt;" 1 - odabir postojeceg kupca"&lt;&lt;std::endl&lt;&lt;" 2 - dodavanje novog kupca"&lt;&lt;std::endl;
           int k;
           cin&gt;&gt;k;
           if(k==0)
           break;
           if(k==2)
           {
           izmijenik:
           cout&lt;&lt;"Unesite ime i prezime kupca: ";
            string imek;
            cin.ignore(10000,'\n');
            std::getline(cin,imek);
            cout&lt;&lt;"Unesite datum rodjenja (formata d/m/g): ";
            int dk,mk,gk;
            char kznak1,kznak2;
            cin&gt;&gt;dk&gt;&gt;kznak1&gt;&gt;mk&gt;&gt;kznak2&gt;&gt;gk;
            try
            {
                Datum datk(dk,mk,gk);
                Kupac kupac(imek,datk);
                vekp[izmijenip].Prodaja::PromijeniKupca(kupac);
                 cout&lt;&lt;"Prodaja je uspjesno izmijenjena!"&lt;&lt;std::endl&lt;&lt;std::endl;
            }
            catch(std::domain_error izuzetak)
            {
                cout&lt;&lt;"Izuzetak: "&lt;&lt;izuzetak.what()&lt;&lt;". Molimo unesite opet."&lt;&lt;std::endl;
                goto izmijenik; 
            }
           }
       }
       if(opcizm==4)
       {
           izmijenis:
            string adresak;
            cout&lt;&lt;"Unesite adresu: ";
            cin.ignore(10000,'\n');
            std::getline(cin,adresak);
            int sprat,broj_soba;
            cout&lt;&lt;"Unesite sprat: ";
            cin&gt;&gt;sprat;
            cout&lt;&lt;"Unesite broj soba: ";
            cin&gt;&gt;broj_soba;
            int n;
            cout&lt;&lt;"Da li je stan namjesten (1 - da, 0 - ne): ";
            cin&gt;&gt;n;
            bool namjesten(false);
            if(n==1)
            namjesten=true;
            cout&lt;&lt;"Unesite kvadraturu: ";
            double kvadratura;
            cin&gt;&gt;kvadratura;
            try
            {
                Stan nstan(adresak,sprat,broj_soba,namjesten,kvadratura);
                vekp[izmijenip].Prodaja::PromijeniStan(nstan);
                cout&lt;&lt;"Prodaja je uspjesno izmijenjena!"&lt;&lt;std::endl&lt;&lt;std::endl;
            }
            catch(std::domain_error izuzetak)
            {
                cout&lt;&lt;"Izuzetak: "&lt;&lt;izuzetak.what()&lt;&lt;". Molimo unesite opet."&lt;&lt;std::endl;
                goto izmijenis;  
            }
       }
       if(opcizm==5)
       {
         cout&lt;&lt;"Unesite cijenu stana: ";
            double cijena;
            cin&gt;&gt;cijena;
            vekp[izmijenip].Prodaja::PromijeniCijenuProdaje(cijena);
       }
       }
       if(opcprod==5)
       {
           cout&lt;&lt;std::endl&lt;&lt;"Dovidjenja!";
           return 0;
       }
       if(opcprod==3)
       {
         while(true)
         {
           cout&lt;&lt;"Izaberite opciju:"&lt;&lt;std::endl&lt;&lt;" 0 - nazad"&lt;&lt;std::endl&lt;&lt;" 1 - ispis svih prodaja"&lt;&lt;std::endl&lt;&lt;" 2 - ispis prodaja na datum"&lt;&lt;std::endl&lt;&lt;" 3 - ispis najranije prodaje"&lt;&lt;std::endl&lt;&lt;" 4 - ispis najskuplje prodaje"&lt;&lt;std::endl&lt;&lt;" 5 - ispis broja prodaja"&lt;&lt;std::endl&lt;&lt;" 6 - ispis broja prodaja po datumu"&lt;&lt;std::endl&lt;&lt;" 7 - ispis broja prodaja po agentu"&lt;&lt;std::endl&lt;&lt;" 8 - kraj"&lt;&lt;std::endl;
           int ispisp;
           cin&gt;&gt;ispisp;
           if(ispisp==0)
           break;
           if(ispisp==8)
           {
              cout&lt;&lt;std::endl&lt;&lt;"Dovidjenja!";
           return 0;    
           }
           if(ispisp==1)
           {
               std::sort(vekp.begin(),vekp.end(),[](Prodaja prodaja1,Prodaja prodaja2)
    {
         Datum datum1=prodaja1.Prodaja::DajDatumProdaje(),datum2=prodaja2.Prodaja::DajDatumProdaje();
        if(datum1.Datum::DajGodinu()&lt;datum2.Datum::DajGodinu()) return true;
        if(datum1.Datum::DajGodinu()&gt;datum2.Datum::DajGodinu()) return false;
        if(datum1.Datum::DajMjesec()&lt;datum2.Datum::DajMjesec()) return true;
        if(datum1.Datum::DajMjesec()&gt;datum2.Datum::DajMjesec()) return false;
        if(datum1.Datum::DajDan()&lt;datum2.Datum::DajDan()) return true;
        if(datum1.Datum::DajDan()&gt;datum2.Datum::DajDan()) return false;
        return(prodaja1.Prodaja::DajImeKupca()&lt;prodaja2.Prodaja::DajImeKupca());
    });
               for(int i=0;i&lt;vekp.size();i++)
               {
                   vekp[i].Prodaja::Ispisi();
                   cout&lt;&lt;std::endl&lt;&lt;std::endl;
               }
           }
         }
      }
        if(opcprod==1)
        {
    while(true)
    {
        cout&lt;&lt;"Izaberite opciju:"&lt;&lt;std::endl&lt;&lt;" 0 - nazad"&lt;&lt;std::endl&lt;&lt;" 1 - dodavanje potpuno nove prodaje"&lt;&lt;std::endl&lt;&lt;" 2 - dodavanje nove prodaje na osnovu arhive"&lt;&lt;std::endl&lt;&lt;" 3 - kraj"&lt;&lt;std::endl;
        int opcp;
        cin&gt;&gt;opcp;
        if(opcp==0)
        break;
        if(opcp==3)
        {
            cout&lt;&lt;std::endl&lt;&lt;"Dovidjenja!";
           return 0; 
        }
        if(opcp==1)
        {
            unosnp:
            cout&lt;&lt;"Unesite ime i prezime agenta prodaje: ";
            string imea;
            cin.ignore(10000,'\n');
            std::getline(cin,imea);
            cout&lt;&lt;"Unesite datum prodaje (formata d/m/g): ";
            int d,m,g;
            char znak1,znak2;
            cin&gt;&gt;d&gt;&gt;znak1&gt;&gt;m&gt;&gt;znak2&gt;&gt;g;
            cout&lt;&lt;"Unesite cijenu stana: ";
            double cijena;
            cin&gt;&gt;cijena;
            cout&lt;&lt;"Unesite ime kupca: ";
            string imek;
            cin.ignore(10000,'\n');
            std::getline(cin,imek);
            cout&lt;&lt;"Unesite datum rodjenja kupca (formata d/m/g): ";
            int dk,mk,gk;
            char kznak1,kznak2;
            cin&gt;&gt;dk&gt;&gt;kznak1&gt;&gt;mk&gt;&gt;kznak2&gt;&gt;gk;
            string adresak;
            cout&lt;&lt;"Unesite adresu: ";
            cin.ignore(10000,'\n');
            std::getline(cin,adresak);
            int sprat,broj_soba;
            cout&lt;&lt;"Unesite sprat: ";
            cin&gt;&gt;sprat;
            cout&lt;&lt;"Unesite broj soba: ";
            cin&gt;&gt;broj_soba;
            int n;
            cout&lt;&lt;"Da li je stan namjesten (1 - da, 0 - ne): ";
            cin&gt;&gt;n;
            bool namjesten(false);
            if(n==1)
            namjesten=true;
            cout&lt;&lt;"Unesite kvadraturu: ";
            double kvadratura;
            cin&gt;&gt;kvadratura;
            try
            {
              Datum datk(dk,mk,gk);
              if(n!=0 &amp;&amp; n!=1)
              throw std::domain_error("Neispravni podaci");
Kupac kup(imek,datk);
Stan stan(adresak,sprat,broj_soba,namjesten,kvadratura);
Prodaja pro(imea,cijena,d,m,g,imek,datk,adresak,sprat,broj_soba,namjesten,kvadratura);
vekp.push_back(pro);
veks.push_back(stan);
vekk.push_back(kup);
//prodaje.Prodaje::RegistrirajProdaju(&amp;pro);
cout&lt;&lt;"Prodaja uspjesno dodana!"&lt;&lt;std::endl&lt;&lt;std::endl;
            }
            catch(std::domain_error izuzetak)
            {
                 cout&lt;&lt;"Izuzetak: "&lt;&lt;izuzetak.what()&lt;&lt;". Molimo unesite opet."&lt;&lt;std::endl;
                goto unosnp;
            }
        }
          if(opcp==2)  
          {
              unosnpa:
            cout&lt;&lt;"Unesite ime i prezime agenta prodaje: ";
            string imea;
            cin.ignore(10000,'\n');
            std::getline(cin,imea);
            cout&lt;&lt;"Unesite datum prodaje (formata d/m/g): ";
            int d,m,g;
            char znak1,znak2;
            cin&gt;&gt;d&gt;&gt;znak1&gt;&gt;m&gt;&gt;znak2&gt;&gt;g;
            cout&lt;&lt;"Unesite cijenu stana: ";
            double cijena;
            cin&gt;&gt;cijena;
            cout&lt;&lt;"Odaberite kupca. Dostupni kupci su:"&lt;&lt;std::endl;
            for(int i=0;i&lt;vekk.size();i++)
            {
                cout&lt;&lt;" "&lt;&lt;i+1&lt;&lt;" - ";
                vekk[i].Kupac::Ispisi();
                cout&lt;&lt;std::endl;
                if(i==vekk.size()-1)
                cout&lt;&lt;std::endl;
            }
            int odaberik;
            cin&gt;&gt;odaberik;
            odaberik--;
            cout&lt;&lt;"Odaberite stan. Dostupni stanovi su:"&lt;&lt;std::endl;
            for(int i=0;i&lt;veks.size();i++)
           {
               cout&lt;&lt;" "&lt;&lt;i+1&lt;&lt;" - ";
               veks[i].Stan::Ispisi();
               cout&lt;&lt;std::endl;
               if(i==veks.size()-1)
               cout&lt;&lt;std::endl;
           }
           int odaberis;
           cin&gt;&gt;odaberis;
           odaberis--;
           try
           {
               Datum datpro(d,m,g);
               Prodaja nprod(imea,cijena,datpro,vekk[odaberik],veks[odaberis]);
              // prodaje.Prodaje::RegistrirajProdaju(&amp;nprod);
vekp.push_back(nprod);
               cout&lt;&lt;"Prodaja uspjesno dodana!"&lt;&lt;std::endl&lt;&lt;std::endl;
           }
           catch(std::domain_error izuzetak)
           {
               cout&lt;&lt;"Izuzetak: "&lt;&lt;izuzetak.what()&lt;&lt;". Molimo unesite opet."&lt;&lt;std::endl;
                goto unosnpa; 
           }
          }
        }
        }
        }
    }
        
}
    
	return 0;
}</pre>
</body>
</html>
