<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z4/student4195.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z4/student4195.cpp<p></p><pre>
#include &lt;iostream&gt;
#include &lt;string&gt;
#include &lt;stdexcept&gt;
#include &lt;iomanip&gt;
#include &lt;algorithm&gt;
#include &lt;vector&gt;
#include &lt;memory&gt;

using std::cout;
using std::string;
using std::cin;
using std::endl;
using std::logic_error;
using std::domain_error;
using std::range_error;
using std::shared_ptr;
using std::vector;
using std::make_shared;



class Datum{
    static void ProvjeriDatum(int,int,int,string);
<a name="2"></a><font color="#0000FF"><a href="match671-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_1.gif"/></a>

    int dan,mjesec,godina;
   public:
    Datum(int dan, int mjesec, int godina){ 
        Postavi(dan,mjesec,godina);
    }
    void Postavi(int dan, int mjesec, int godina);
    int DajDan() const { return dan; }
    int DajMjesec() const { return mjesec; }
    int DajGodinu() const { return godina; }
    void Ispisi() const{ cout&lt;&lt;DajDan()&lt;&lt;"/"&lt;&lt;DajMjesec()&lt;&lt;"/"&lt;&lt;DajGodinu(); }
</font>};


bool PrestupnaGodina(int godina){
    if(godina%400==0 or (godina%100!=0 and godina%4==0)) return true;
    return false;
}

<a name="8"></a><font color="#00FFFF"><a href="match671-1.html#8" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_0.gif"/></a>

int BrojDana(int mjesec, int godina){
    int dani[12]{31,28,31,30,31,30,31,31,30,31,30,31};
</font>    if(PrestupnaGodina(godina))
        dani[1]++;
    return dani[mjesec-1];
}

void Datum::ProvjeriDatum(int dan, int mjesec, int godina,string poruka){ //Baci izuzetak ako ne valja, u supr nista ne radi
    if(mjesec&lt;1 or mjesec&gt;12 or dan&lt;1 or godina&lt;1 or dan&gt;BrojDana(mjesec,godina)) 
        throw domain_error(poruka);
}

void Datum::Postavi(int dan,int mjesec, int godina){
    ProvjeriDatum(dan,mjesec,godina,"Neispravan datum");
    Datum::dan=dan; Datum::mjesec=mjesec; Datum::godina=godina;
}



bool JeLiBroj(char c){
    if(c&gt;='0' and c&lt;='9') return true;
    return false;
}

bool JeLiSlovo(char c){
    if( (c&gt;='A' and c&lt;='Z') or (c&gt;='a' and c&lt;='z')) return true;
    return false;
}

void ProvjeriIme(string ime){
    for(int i=0; i&lt;ime.size(); i++){
        if(!(JeLiSlovo(ime.at(i)) or JeLiBroj(ime.at(i)) or ime.at(i)=='-' or ime.at(i)=='\'' or ime.at(i)==' '))
            throw domain_error("Neispravno ime i prezime");
    }
}

class Kupac{
    string iip;
    Datum dat_rod;
   public:
    Kupac(const std::string &amp;ime_i_prezime, const Datum &amp;datum_rodjenja): iip(ime_i_prezime),dat_rod(datum_rodjenja){
<a name="3"></a><font color="#00FFFF"><a href="match671-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_0.gif"/></a>

        ProvjeriIme(iip);
    };
    void Postavi(const std::string &amp;ime_i_prezime, const Datum &amp;datum_rodjenja);
    std::string DajImePrezime() const { return iip; }
    Datum DajDatumRodjenja() const{ return dat_rod; }
    void Ispisi() const {
        cout&lt;&lt;iip&lt;&lt;" ("; 
        dat_rod.Ispisi();
        cout&lt;&lt;")";
    }
};

void Kupac::Postavi(const string &amp;ime_i_prezime, const Datum &amp;datum_rodjenja){
</font>    ProvjeriIme(ime_i_prezime);
    iip=ime_i_prezime; dat_rod=datum_rodjenja;
}


class Stan{
    string adresa;
    int sprat,broj_soba;
    bool namjesten;
    double kvadratura;
   public:
    Stan(const std::string &amp;adresa, int sprat, int broj_soba, bool namjesten,
<a name="0"></a><font color="#FF0000"><a href="match671-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_1.gif"/></a>

     double kvadratura) {Postavi(adresa,sprat,broj_soba,namjesten,kvadratura);}
    void Postavi(const std::string &amp;adresa, int sprat, int broj_soba,
     bool namjesten, double kvadratura);
    std::string DajAdresu() const { return adresa; }
    int DajSprat() const{return sprat; }
    int DajBrojSoba() const { return broj_soba; }
    bool DajNamjesten() const { return namjesten; }
    double DajKvadraturu() const { return kvadratura; }
    void Ispisi() const;
};

void Stan::Postavi(const std::string &amp;adresa, int sprat, int broj_soba,
     bool namjesten, double kvadratura){
         if(sprat&lt;0 or broj_soba&lt;0 or kvadratura&lt;0) throw domain_error("Neispravni podaci");
</font>         Stan::adresa=adresa; Stan::namjesten=namjesten;
         Stan::sprat=sprat; Stan::broj_soba=broj_soba; Stan::kvadratura=kvadratura;
}

void Stan::Ispisi() const{
    cout&lt;&lt;"Stan se nalazi na adresi "&lt;&lt;DajAdresu()&lt;&lt;" na "&lt;&lt;DajSprat()&lt;&lt;". spratu i ima "&lt;&lt;DajBrojSoba()&lt;&lt;" ";
    int cifra(broj_soba%10);
    if(((broj_soba/10)%10)!=0) cout&lt;&lt;"soba"; //Uzimano u obzir do 20 soba (vrlo realno)
    else if(cifra==1) cout&lt;&lt;"sobu";
    else if(cifra&gt;=2 and cifra&lt;=4) cout&lt;&lt;"sobe";
    else cout&lt;&lt;"soba";
    cout&lt;&lt;". Kvadratura stana je "&lt;&lt;DajKvadraturu()&lt;&lt;" (m^2) i stan ";
    if(DajNamjesten()) cout&lt;&lt;"je ";
    else cout&lt;&lt;"nije ";
    cout&lt;&lt;"namjesten.";
}
     

<a name="9"></a><font color="#FF00FF"><a href="match671-1.html#9" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_0.gif"/></a>

class Prodaja{
    string ime_agenta;
    double cijena_stana;
    Datum datum_prodaje;
    Kupac kupac;
    Stan stan;
   public:
    Prodaja(const std::string &amp;ime_agenta_prodaje, double cijena_stana,             //Prvi konstruktor
    const Datum &amp;datum_prodaje, const Kupac &amp;kupac_stana,
</font>    const Stan &amp;kupljeni_stan):ime_agenta(ime_agenta_prodaje),cijena_stana(cijena_stana), datum_prodaje(datum_prodaje),kupac(kupac_stana),stan(kupljeni_stan){
        ProvjeriIme(ime_agenta_prodaje);
    }
    Prodaja(const std::string &amp;ime_agenta_prodaje, double cijena_stana,
    int dan_prodaje, int mjesec_prodaje, int godina_prodaje,
    std::string &amp;ime_kupca, const Datum &amp;datum_rodjenja_kupca,
<a name="4"></a><font color="#FF00FF"><a href="match671-1.html#4" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_0.gif"/></a>

    const std::string &amp;adresa_stana, int sprat_stana, int broj_soba,
    bool namjesten_stan, double broj_kvadrata): //Konstr inicijalizaciona lista
    ime_agenta(ime_agenta_prodaje), cijena_stana(cijena_stana),datum_prodaje(dan_prodaje,mjesec_prodaje,godina_prodaje),
    kupac(ime_kupca,datum_rodjenja_kupca),stan(adresa_stana,sprat_stana,broj_soba,namjesten_stan,broj_kvadrata){
</font>        ProvjeriIme(ime_agenta_prodaje);
    }
    void PromijeniAgenta(const string &amp;ime) {  //Dodano radi maina 
        ProvjeriIme(ime);
        ime_agenta = ime;
    }
    void PromijeniKupca(const Kupac &amp;novi_kupac) { kupac=novi_kupac; };
<a name="5"></a><font color="#FF0000"><a href="match671-1.html#5" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_0.gif"/></a>

    void PromijeniStan(const Stan &amp;novi_stan) { stan = novi_stan; }
    void PromijeniDatumKupovine(const Datum &amp;novi_datum) { datum_prodaje=novi_datum; }
    void PromijeniCijenuProdaje(const double &amp;nova_cijena) { cijena_stana=nova_cijena; }
    void PomjeriDanUnaprijed();
    void PomjeriDanUnazad();
    std::string DajImeAgenta() const { return ime_agenta; }
    std::string DajImeKupca() const { return kupac.DajImePrezime(); }
</font>    Datum DajDatumProdaje() const { return datum_prodaje; }
    double DajCijenuStana() const { return cijena_stana; }
    friend bool ProdatPrije(const Prodaja &amp;p1, const Prodaja &amp;p2);
    friend bool SkupljiStan(const Prodaja &amp;p1, const Prodaja &amp;p2);
    void Ispisi() const;
};

void Prodaja::Ispisi() const {
    cout&lt;&lt;std::left&lt;&lt;std::setw(32)&lt;&lt;"Ime agenta: "&lt;&lt;DajImeAgenta()&lt;&lt;endl;
    cout&lt;&lt;std::setw(32)&lt;&lt;"Ime kupca: ";
    kupac.Ispisi();
    cout&lt;&lt;endl;
    cout&lt;&lt;std::setw(32)&lt;&lt;"Zakazani datum prodaje: ";
    datum_prodaje.Ispisi();
    cout&lt;&lt;endl;
    cout&lt;&lt;std::setw(32)&lt;&lt;"Cijena stana: "&lt;&lt;cijena_stana&lt;&lt;endl;
    cout&lt;&lt;"Informacije o stanu:            "&lt;&lt;endl;
    stan.Ispisi();
}

bool ProsliDatum(const Datum &amp;dat1, const Datum &amp;dat2){
    if(dat1.DajGodinu()==dat2.DajGodinu()){
        if(dat1.DajMjesec()==dat2.DajMjesec())
            return dat1.DajDan()&lt;dat2.DajDan();
        return dat1.DajMjesec()&lt;dat2.DajMjesec();
    }
    return dat1.DajGodinu()&lt;dat2.DajGodinu();
}

bool ProdatPrije(const Prodaja &amp;p1, const Prodaja &amp;p2){
<a name="10"></a><font color="#FF0000"><a href="match671-1.html#10" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_0.gif"/></a>

    return ProsliDatum( p1.DajDatumProdaje(),p2.DajDatumProdaje() );
}

bool SkupljiStan(const Prodaja &amp;p1, const Prodaja &amp;p2){
    return p1.DajCijenuStana()&gt;p2.DajCijenuStana();
}

void Prodaja::PomjeriDanUnaprijed(){
    int dan(datum_prodaje.DajDan());
</font>    int mjesec(datum_prodaje.DajMjesec());
    int godina(datum_prodaje.DajGodinu());
    dan++;
    if(dan&gt;BrojDana(mjesec,godina)){
        dan=1;
        mjesec++;
        if(mjesec&gt;12){
            mjesec=1;
            godina++;
        }
    }
    datum_prodaje.Postavi(dan,mjesec,godina);
}

void Prodaja::PomjeriDanUnazad(){
    int dan(datum_prodaje.DajDan());
    int mjesec(datum_prodaje.DajMjesec());
    int godina(datum_prodaje.DajGodinu());
    dan--;
    if(dan&lt;1){
        mjesec--;
            if(mjesec&lt;1){
            mjesec=12;
            godina--;
        }
        dan=BrojDana(mjesec,godina);
    }
    datum_prodaje.Postavi(dan,mjesec,godina);
}

bool IstiDatumi(const Datum &amp;dat1, const Datum &amp;dat2){
    if(dat1.DajDan()==dat2.DajDan() and dat1.DajMjesec()==dat2.DajMjesec() and dat1.DajGodinu()==dat2.DajGodinu()) return true;
    return false;
}

typedef vector&lt;shared_ptr&lt;Prodaja&gt;&gt; PametniPok;

class Prodaje{
    PametniPok lista_prodaja;
   public:
    explicit Prodaje()=default;
    Prodaje(std::initializer_list&lt;Prodaja&gt; spisak_prodaja);
    ~Prodaje() { lista_prodaja.resize(0); }
    Prodaje(const Prodaje &amp;prodaje);
    Prodaje(Prodaje &amp;&amp;prodaje):lista_prodaja(std::move(prodaje.lista_prodaja)){};
    Prodaje &amp;operator =(const Prodaje &amp;prodaje);
    Prodaje &amp;operator =(Prodaje &amp;&amp;prodaje);
    void RegistrirajProdaju(const std::string &amp;ime_agenta_prodaje,
     double cijena_stana, const Datum &amp;datum_prodaje, const Kupac &amp;kupac_stana,
    const Stan &amp;kupljeni_stan);
    void RegistrirajProdaju(const std::string &amp;ime_agenta_prodaje, double cijena_stana, int dan_prodaje,
    int mjesec_prodaje, int godina_prodaje, std::string &amp;ime_kupca,
<a name="1"></a><font color="#00FF00"><a href="match671-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_1.gif"/></a>

     const Datum &amp;datum_rodjenja_kupca, const std::string &amp;adresa_stana,
     int sprat_stana, int broj_soba, bool namjesten_stan, double broj_kvadrata);
    void RegistrirajProdaju(shared_ptr&lt;Prodaja&gt; prodaja);
    int DajBrojProdaja() const {return lista_prodaja.size(); }
    int DajBrojProdajaNaDatum(const Datum &amp;datum) const;
    int DajBrojProdajaOdAgenta(const std::string &amp;ime_agenta) const;
    Prodaja &amp;DajNajranijuProdaju();
    Prodaja DajNajranijuProdaju() const;
    Prodaja &amp;DajNajskupljuProdaju();
    Prodaja DajNajskupljuProdaju() const;
    Prodaja &amp;DajProdaju(int indeks) const {
</font>        if(indeks&gt;=lista_prodaja.size()) throw std::domain_error("Nevalidan indeks");
        return *lista_prodaja[indeks];
    }
    void IsprazniKolekciju();
<a name="6"></a><font color="#00FF00"><a href="match671-1.html#6" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_0.gif"/></a>

    void ObrisiNajranijuProdaju();
    void ObrisiProdajeAgenta(const std::string &amp;ime_agenta); 
    void ObrisiProdajeNaDatum(const Datum &amp;datum);
    void IspisiProdajeNaDatum(const Datum &amp;datum) const;
    void IspisiSveProdaje() const;
};


void Prodaje::IspisiSveProdaje() const {
    std::vector&lt;Prodaja&gt; kandid;
</font>    for(int i=0; i&lt;lista_prodaja.size(); i++){
        kandid.push_back(*lista_prodaja[i]);
    }
    std::sort(kandid.begin(), kandid.end(), [](Prodaja a, Prodaja b){
        return ProsliDatum(a.DajDatumProdaje(),b.DajDatumProdaje());
    });
    for(int i=0; i&lt;kandid.size(); i++){
        kandid.at(i).Ispisi();
        cout&lt;&lt;endl;
    }
}

void Prodaje::IspisiProdajeNaDatum(const Datum &amp;datum) const{
     std::vector&lt;Prodaja&gt; kandid;
     for(int i=0; i&lt;lista_prodaja.size(); i++){
        if(IstiDatumi(datum,lista_prodaja[i]-&gt;DajDatumProdaje())){
            kandid.push_back(*lista_prodaja[i]);
        }
    }
    std::sort(kandid.begin(), kandid.end(), [](Prodaja a, Prodaja b){
        return a.DajImeKupca()&lt;b.DajImeKupca();
    });
    for(int i=0; i&lt;kandid.size(); i++){
        kandid[i].Ispisi();
        cout&lt;&lt;endl;
    }
}

void Prodaje::ObrisiProdajeNaDatum(const Datum &amp;datum){
    for(int i=0; i&lt;lista_prodaja.size(); i++){
        if(IstiDatumi(datum,lista_prodaja[i]-&gt;DajDatumProdaje())){
            lista_prodaja[i]=nullptr;
            for(int j=i+1; j&lt;lista_prodaja.size(); j++)
                lista_prodaja[j]=lista_prodaja[j-1];
            i--;
        }
    }
}

void Prodaje::ObrisiProdajeAgenta(const std::string &amp;ime_agenta){
    for(int i=0; i&lt;lista_prodaja.size(); i++){
        if(lista_prodaja[i]-&gt;DajImeAgenta()==ime_agenta){
            lista_prodaja[i]=nullptr;
            for(int j=i+1; j&lt;lista_prodaja.size(); j++)
                lista_prodaja[j]=lista_prodaja[j-1];
            i--;
            
        }
    }
}

void Prodaje::ObrisiNajranijuProdaju(){
    if(lista_prodaja.size()==0) throw range_error("Prazna kolekcija");
    auto pok=std::min_element(lista_prodaja.begin(), lista_prodaja.end(), [](shared_ptr&lt;Prodaja&gt; pok1,shared_ptr&lt;Prodaja&gt; pok2){
        return ProsliDatum(pok1-&gt;DajDatumProdaje(),pok2-&gt;DajDatumProdaje());
    });
    for(int i=0; i&lt;lista_prodaja.size(); i++){
        if(lista_prodaja[i]==*pok){
            lista_prodaja[i]=nullptr;
            for(int j=i+1; j&lt;lista_prodaja.size(); j++) 
                lista_prodaja[j]=lista_prodaja[j-1];
            break;
        }
    }
}

inline void Prodaje::IsprazniKolekciju(){
    lista_prodaja.resize(0);
}

inline Prodaja Prodaje::DajNajskupljuProdaju() const{
    return DajNajskupljuProdaju();
}

Prodaja&amp; Prodaje::DajNajskupljuProdaju(){
    if(!lista_prodaja.size()) throw domain_error("Nema registriranih prodaja");
    return **std::max_element(lista_prodaja.begin(), lista_prodaja.end(), [](shared_ptr&lt;Prodaja&gt; pok1,shared_ptr&lt;Prodaja&gt; pok2){
        return pok1-&gt;DajCijenuStana()&lt;pok2-&gt;DajCijenuStana();
    });
}

Prodaja Prodaje::DajNajranijuProdaju() const{
     return DajNajranijuProdaju();
}

Prodaja&amp; Prodaje::DajNajranijuProdaju(){
    if(lista_prodaja.size()==0) throw domain_error("Nema registriranih prodaja");
    return **std::min_element(lista_prodaja.begin(), lista_prodaja.end(), [](shared_ptr&lt;Prodaja&gt; pok1,shared_ptr&lt;Prodaja&gt; pok2){
        return ProsliDatum(pok1-&gt;DajDatumProdaje(),pok2-&gt;DajDatumProdaje());
    });
}

int Prodaje::DajBrojProdajaOdAgenta(const std::string &amp;ime_agenta) const{
    return std::count_if(lista_prodaja.begin(), lista_prodaja.end(), [ime_agenta](shared_ptr&lt;Prodaja&gt; pok1){
        return pok1-&gt;DajImeAgenta()==ime_agenta;
    });
}

int Prodaje::DajBrojProdajaNaDatum(const Datum &amp;datum) const{
    return std::count_if(lista_prodaja.begin(), lista_prodaja.end(), [datum](shared_ptr&lt;Prodaja&gt; pok1){
        return IstiDatumi(pok1-&gt;DajDatumProdaje(),datum);
    });
}

inline void Prodaje::RegistrirajProdaju(shared_ptr&lt;Prodaja&gt; prodaja){
<a name="11"></a><font color="#00FF00"><a href="match671-1.html#11" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_0.gif"/></a>

        lista_prodaja.push_back(prodaja);
}

inline void Prodaje::RegistrirajProdaju(const std::string &amp;ime_agenta_prodaje, double cijena_stana,int dan_prodaje,int mjesec_prodaje, 
int godina_prodaje, std::string &amp;ime_kupca, const Datum &amp;datum_rodjenja_kupca, 
</font>const std::string &amp;adresa_stana, int sprat_stana, int broj_soba, bool namjesten_stan, double broj_kvadrata){

<a name="7"></a><font color="#0000FF"><a href="match671-1.html#7" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_0.gif"/></a>

     lista_prodaja.push_back(make_shared&lt;Prodaja&gt;(ime_agenta_prodaje, cijena_stana, dan_prodaje, mjesec_prodaje, 
                                             godina_prodaje, ime_kupca,datum_rodjenja_kupca, 
                                             adresa_stana, sprat_stana,broj_soba,
                                             namjesten_stan,broj_kvadrata));
</font>}

inline void Prodaje::RegistrirajProdaju(const std::string &amp;ime_agenta_prodaje,
double cijena_stana, const Datum &amp;datum_prodaje, const Kupac &amp;kupac_stana,const Stan &amp;kupljeni_stan) {
     lista_prodaja.push_back(make_shared&lt;Prodaja&gt;(ime_agenta_prodaje,cijena_stana,datum_prodaje,kupac_stana,kupljeni_stan));
}

Prodaje&amp; Prodaje::operator =(Prodaje &amp;&amp;prodaje){
    lista_prodaja.resize(0);
    lista_prodaja=std::move(prodaje.lista_prodaja); 
    return *this;
}

Prodaje&amp; Prodaje::operator =(const Prodaje &amp;prodaje){
    lista_prodaja.resize(0);
    for(int i=0; i&lt;lista_prodaja.size(); i++) lista_prodaja[i]=nullptr;
    try{
        for(int i=0; i&lt;lista_prodaja.size(); i++)
            lista_prodaja.push_back(make_shared&lt;Prodaja&gt;(*prodaje.lista_prodaja[i]));
    }
    catch(std::bad_alloc){
        lista_prodaja.resize(0);
        throw;
    }
    return *this;
}

Prodaje::Prodaje(const Prodaje &amp;prodaje):lista_prodaja(prodaje.DajBrojProdaja()){
    for(int i=0; i&lt;lista_prodaja.size(); i++){
        lista_prodaja.push_back(make_shared&lt;Prodaja&gt;(*(prodaje.lista_prodaja[i])));
    }
}

Prodaje::Prodaje(std::initializer_list&lt;Prodaja&gt; spisak_prodaja):lista_prodaja(spisak_prodaja.size()){
    int j(0);
    for(auto it=spisak_prodaja.begin(); it!=spisak_prodaja.end(); it++,j++){
        lista_prodaja.push_back(make_shared&lt;Prodaja&gt;(*it));
    }
    

}

//KOPIRAN MAIN IZ 3.
//KOPIRAN MAIN IZ 3.
// KOPIRAN MAIN IZ 3.

void DodavanjeStana(std::vector&lt;Stan&gt;&amp; stanovi){
    string adresa;
    int sprat,broj_soba,nam_int;
    bool namjesten;
    double kvadratura;
    while(true){
        try{
            cin.ignore(10000,'\n'); //U ovu funkc se uslo putem unosa broja
          cout&lt;&lt;"Unesite adresu: ";
          getline(cin,adresa);
          cout&lt;&lt;"Unesite sprat: ";
          cin&gt;&gt;sprat;
          cout&lt;&lt;"Unesite broj soba: ";
          cin&gt;&gt;broj_soba;
          cout&lt;&lt;"Da li je stan namjesten (1 - da, 0 - ne): ";
          cin&gt;&gt;nam_int;
          cout&lt;&lt;"Unesite kvadraturu: ";
          cin&gt;&gt;kvadratura;
          if(nam_int!=0 and nam_int!=1) throw std::domain_error("Neispravan unos podataka");
          if(nam_int==0) namjesten=false;
          else namjesten=true;
          stanovi.push_back(Stan(adresa,sprat,broj_soba,namjesten,kvadratura));
          cout&lt;&lt;"Stan je uspjesno dodan!"&lt;&lt;endl;
          return;
        }
        catch(std::domain_error e){
            cout&lt;&lt;"Izuzetak: "&lt;&lt;e.what()&lt;&lt; ". Molimo unesite opet."&lt;&lt;endl;
        }
    }
}

void IspisSvihStanova(std::vector&lt;Stan&gt;&amp; stanovi){
    for(int i=0; i&lt;stanovi.size(); i++){
        cout&lt;&lt;i+1&lt;&lt;". ";
        stanovi.at(i).Ispisi();
        cout&lt;&lt;endl;
    }
}

void UredjivanjeStana(std::vector&lt;Stan&gt;&amp; stanovi){
    if(stanovi.size()==0){
        cout&lt;&lt;"Nema dostupnih stanova!"&lt;&lt;endl;
        return;
    }
    cout&lt;&lt;"Odaberite stan. Dostupni stanovi su: "&lt;&lt;endl;
    int unos;
    for(int i=0; i&lt;stanovi.size(); i++){
        cout&lt;&lt;" "&lt;&lt;i+1&lt;&lt;" - ";
        stanovi.at(i).Ispisi();
        cout&lt;&lt;endl;
    }
    cin&gt;&gt;unos;
    if(unos&lt;1 or unos&gt;stanovi.size()){
        cout&lt;&lt;"Pogresan indeks!"&lt;&lt;endl;
        return;
    }
    int polje;
    cout&lt;&lt;"\nOdaberite polje koje zelite urediti:"&lt;&lt;endl;
    cout&lt;&lt;" 0 - nazad\n 1 - adresa\n 2 - sprat\n 3 - broj_soba\n 4 - da li je stan namjesten\n 5 - kvadratura\n 6 - sve\n";
    cin&gt;&gt;polje;
    switch(polje){
        case 0: return;
        case 1:{
            string adresa;
            cout&lt;&lt;"Unesite adresu: ";
            cin.ignore(10000,'\n');
            getline(cin,adresa);
            stanovi.at(unos-1).Postavi(
                                adresa,stanovi.at(unos-1).DajSprat(),stanovi.at(unos-1).DajBrojSoba(),
                                stanovi.at(unos-1).DajNamjesten(),stanovi.at(unos-1).DajKvadraturu());
            cout&lt;&lt;"Stan je uspjesno izmijenjen!"&lt;&lt;endl;
            return;    
        }
        case 2:{
            int sprat;
            while(true){
                try{
                    cout&lt;&lt;"Unesite sprat: ";
                    cin&gt;&gt;sprat;
                    if(sprat&lt;0){ //Jednostavnije je mnogo ovako provjeriti, nego pisati try catch blok, smijestati sve to u petlju itd.
                        cout&lt;&lt;"Izuzetak: Neispravan unos podataka. Molimo unesite opet."&lt;&lt;endl;
                        continue;
                    }
                    stanovi.at(unos-1).Postavi(
                                    stanovi.at(unos-1).DajAdresu(),sprat,stanovi.at(unos-1).DajBrojSoba(),
                                    stanovi.at(unos-1).DajNamjesten(),stanovi.at(unos-1).DajKvadraturu());
                    
                    cout&lt;&lt;"Stan je uspjesno izmijenjen!"&lt;&lt;endl;
                    return;
                }
                catch(std::domain_error e){
                    cout&lt;&lt;"Izuzetak: "&lt;&lt;e.what()&lt;&lt; ". Molimo unesite opet."&lt;&lt;endl;
                }
            }
        }
        case 3:{
            int broj_soba;
            while(true){
                try{
                    cout&lt;&lt;"Unesite broj soba: ";
                    cin&gt;&gt;broj_soba;
                    stanovi.at(unos-1).Postavi(
                                    stanovi.at(unos-1).DajAdresu(), stanovi.at(unos-1).DajSprat(),broj_soba,
                                    stanovi.at(unos-1).DajNamjesten(),stanovi.at(unos-1).DajKvadraturu());
                   cout&lt;&lt;"Stan je uspjesno izmijenjen!"&lt;&lt;endl;
                   return;
                }
                catch(std::domain_error e){
                    cout&lt;&lt;"Izuzetak: "&lt;&lt;e.what()&lt;&lt; ". Molimo unesite opet."&lt;&lt;endl;
                }               
            }
        }
        case 4:{
            bool da_li;
            int nam_int;
            while(true){
                try{
                    cout&lt;&lt;"Da li je stan namjesten (1 - da, 0 - ne): ";
                    cin&gt;&gt;nam_int;
                    if(nam_int!=0 and nam_int!=1){
                        cout&lt;&lt;"Izuzetak: Neispravan unos podataka. Molimo unesite opet."&lt;&lt;endl;
                        continue;
                    }
                    if(nam_int==0) da_li=false;
                    else da_li=true;
                    stanovi.at(unos-1).Postavi(
                                        stanovi.at(unos-1).DajAdresu(), stanovi.at(unos-1).DajSprat(),
                                        stanovi.at(unos-1).DajBrojSoba(), da_li,stanovi.at(unos-1).DajKvadraturu());
                    cout&lt;&lt;"Stan je uspjesno izmijenjen!"&lt;&lt;endl;
                    return;
                }
                catch(std::domain_error e){
                    cout&lt;&lt;"Izuzetak: "&lt;&lt;e.what()&lt;&lt; ". Molimo unesite opet."&lt;&lt;endl;
                }                
            }
        }
        case 5:{
            double kvadratura;
            while(true){
                try{
                    cout&lt;&lt;"Unesite kvadraturu: ";
                    cin&gt;&gt;kvadratura;
                    stanovi.at(unos-1).Postavi(
                                    stanovi.at(unos-1).DajAdresu(), stanovi.at(unos-1).DajSprat(),
                                    stanovi.at(unos-1).DajBrojSoba(),
                                    stanovi.at(unos-1).DajNamjesten(),kvadratura);
                    cout&lt;&lt;"Stan je uspjesno izmijenjen!"&lt;&lt;endl;
                    return;
                }
                catch(std::domain_error e){
                    cout&lt;&lt;"Izuzetak: "&lt;&lt;e.what()&lt;&lt; ". Molimo unesite opet."&lt;&lt;endl;
                }                
            }
        }
        case 6:{
            while(true){
                string adresa;
                int broj_soba,sprat,nam_int;
                bool namjesten;
                double kvadratura;
                try{
                  cin.ignore(10000,'\n'); //U ovu funkc se uslo putem unosa broja
                  cout&lt;&lt;"Unesite adresu: ";
                  getline(cin,adresa);
                  cout&lt;&lt;"Unesite sprat: ";
                  cin&gt;&gt;sprat;
                  cout&lt;&lt;"Unesite broj soba: ";
                  cin&gt;&gt;broj_soba;
                  cout&lt;&lt;"Da li je stan namjesten (1 - da, 0 - ne): ";
                  cin&gt;&gt;nam_int;
                  cout&lt;&lt;"Unesite kvadraturu: ";
                  cin&gt;&gt;kvadratura;
                  if(nam_int!=0 and nam_int!=1) throw std::domain_error("Neispravan unos podataka");
                  if(nam_int==0) namjesten=false;
                  else namjesten=true;
                  stanovi.at(unos-1)=Stan (adresa,sprat,broj_soba,namjesten,kvadratura);
                  cout&lt;&lt;"Stan je uspjesno izmijenjen!"&lt;&lt;endl;
                  return;
                }
                catch(std::domain_error e){
                    cout&lt;&lt;"Izuzetak: "&lt;&lt;e.what()&lt;&lt; ". Molimo unesite opet."&lt;&lt;endl;
                }
            }
        }
    }
}

int UredjivanjeSvihStanova(std::vector&lt;Stan&gt;&amp; stanovi){
    std::vector&lt;std::function&lt;void(std::vector&lt;Stan&gt;&amp;)&gt;&gt; funkc{DodavanjeStana,UredjivanjeStana,IspisSvihStanova};
    int br;
    while(true){
        cout&lt;&lt;"Izaberite opciju:\n 0 - nazad\n 1 - dodavanje stana\n 2 - uredjivanje stanova\n 3 - ispis svih stanova\n 4 - kraj"&lt;&lt;endl;
        cin&gt;&gt;br;
        if(br==0) return 1;
        if(br==4) return 0;
        funkc.at(br-1)(stanovi);
        cout&lt;&lt;endl;
    }
    return 1;
}

void DodavanjeKupca(std::vector&lt;Kupac&gt; &amp;kupci){
    string iip;
    while(true){
        try{
            cin.ignore(10000,'\n');
            cout&lt;&lt;"Unesite ime i prezime kupca: ";
            getline(cin,iip);
            int dan,mjesec,godina;
            cout&lt;&lt;"Unesite datum rodjenja (formata d/m/g): ";
            cin&gt;&gt;dan; cin.get();
            cin&gt;&gt;mjesec; cin.get();
            cin&gt;&gt;godina;
            Datum dat(dan,mjesec,godina);
            kupci.push_back(Kupac(iip,dat));
            cout&lt;&lt;"Kupac je uspjesno dodan!"&lt;&lt;endl;
            return;
        }
        catch(std::domain_error e){
            cout&lt;&lt;"Izuzetak: "&lt;&lt;e.what()&lt;&lt; ". Molimo unesite opet."&lt;&lt;endl;
        }
    }
}
/*Odaberite kupca kojeg zelite urediti. Dostupni kupci su:*/
void UredjivanjeKupca(std::vector&lt;Kupac&gt; &amp;kupci){
    int unos;
    cout&lt;&lt;"Odaberite kupca kojeg zelite urediti. Dostupni kupci su:"&lt;&lt;endl;
    for(int i=0; i&lt;kupci.size(); i++){
        cout&lt;&lt;" "&lt;&lt;i+1&lt;&lt;" - ";
        kupci.at(i).Ispisi();
        cout&lt;&lt;endl;
    }
    cin&gt;&gt;unos;
    if(unos&lt;1 or unos&gt;kupci.size()){
        cout&lt;&lt;"Pogresan indeks!";
        return;
    }
    string iip;
    try{
        cin.ignore(10000,'\n');
        cout&lt;&lt;"Unesite ime i prezime kupca: ";
        getline(cin,iip);
        int dan,mjesec,godina;
        cout&lt;&lt;"Unesite datum rodjenja (formata d/m/g): ";
        cin&gt;&gt;dan; cin.get();
        cin&gt;&gt;mjesec; cin.get();
        cin&gt;&gt;godina;
        Datum dat(dan,mjesec,godina);
        kupci.at(unos-1)=Kupac(iip,dat);
        cout&lt;&lt;"Kupac je uspjesno izmijenjen!"&lt;&lt;endl;
        return ;
    }
    catch(std::domain_error e){
        cout&lt;&lt;"Izuzetak: "&lt;&lt;e.what()&lt;&lt; ". Molimo unesite opet."&lt;&lt;endl;
    }
}

void IspisSvihKupaca(std::vector&lt;Kupac&gt; &amp;kupci){
    for(int i=0; i&lt;kupci.size(); i++){
        kupci.at(i).Ispisi();
        cout&lt;&lt;endl;
    }
}

int UredjivanjeSvihKupaca(std::vector&lt;Kupac&gt;&amp; kupci){
    std::vector&lt;std::function&lt;void(std::vector&lt;Kupac&gt;&amp;)&gt;&gt; funkc{DodavanjeKupca,UredjivanjeKupca,IspisSvihKupaca};
    int br;
    while(true){
        cout&lt;&lt;"Izaberite opciju:\n 0 - nazad\n 1 - dodavanje kupca\n 2 - uredjivanje kupaca\n 3 - ispis svih kupaca\n 4 - kraj"&lt;&lt;endl;
        cin&gt;&gt;br;
        if(br==0) return 1;
        if(br==4) return 0;
        funkc.at(br-1)(kupci);
        cout&lt;&lt;endl;
    }
    return 1;
}

 void DodavanjeProdaje(Prodaje &amp;prodaje, std::vector&lt;Stan&gt;&amp; stanovi, std::vector&lt;Kupac&gt;&amp; kupci){
     while(true){
         int opcija(0);
         try{
             cout&lt;&lt;"Izaberite opciju:"&lt;&lt;endl;
             cout&lt;&lt;" 0 - nazad\n 1 - dodavanje potpuno nove prodaje\n 2 - dodavanje nove prodaje na osnovu arhive\n 3 - kraj"&lt;&lt;endl;
             cin&gt;&gt;opcija;
             if(opcija==3) throw std::runtime_error("Kraj");
             switch(opcija){
                 case 0: return;
                 case 1:{
                     string iipa,iipk,adresa;
                     int dan1,mjesec1,godina1,dan,mjesec,godina,cijena,sprat,broj_soba,nam_int;
                     bool namjesten;
                     double kvadratura;
                     while(true){
                         try{
                             cin.ignore(10000,'\n');
                             cout&lt;&lt;"Unesite ime i prezime agenta prodaje: ";
                             getline(cin,iipa);
                             cout&lt;&lt;"Unesite datum prodaje (formata d/m/g): ";
                             cin&gt;&gt;dan1; cin.get();
                             cin&gt;&gt;mjesec1; cin.get();
                             cin&gt;&gt;godina1;
                             cout&lt;&lt;"Unesite cijenu stana: ";
                             cin&gt;&gt;cijena;
                             cin.ignore(10000,'\n');
                             cout&lt;&lt;"Unesite ime kupca: ";
                             getline(cin,iipk);
                             cout&lt;&lt;"Unesite datum rodjenja kupca (formata d/m/g): ";
                             cin&gt;&gt;dan; cin.get();
                             cin&gt;&gt;mjesec; cin.get();
                             cin&gt;&gt;godina;
                             cin.ignore(10000,'\n');
                             cout&lt;&lt;"Unesite adresu: ";
                             getline(cin,adresa);
                             cout&lt;&lt;"Unesite sprat: ";
                             cin&gt;&gt;sprat;
                             cout&lt;&lt;"Unesite broj soba: ";
                             cin&gt;&gt;broj_soba;
                             cout&lt;&lt;"Da li je stan namjesten (1 - da, 0 - ne): ";
                             cin&gt;&gt;nam_int;
                             cout&lt;&lt;"Unesite kvadraturu: ";
                             cin&gt;&gt;kvadratura;
                             if(nam_int!=0 and nam_int!=1) throw std::domain_error("Neispravan unos podataka");
                             if(nam_int==0) namjesten=false;
                             else namjesten=true;
                             prodaje.RegistrirajProdaju(iipa,cijena,dan1,mjesec1,godina1,iipk,Datum(dan,mjesec,godina),adresa,
                             sprat,broj_soba,namjesten,kvadratura);
                             stanovi.push_back(Stan(adresa,sprat,broj_soba,namjesten,kvadratura));
                             kupci.push_back(Kupac(iipk,Datum(dan,mjesec,godina)));
                             cout&lt;&lt;"Prodaja uspjesno dodana!"&lt;&lt;endl;
                             throw std::runtime_error("Kraj");
                             
                         }
                         catch(std::domain_error e){
                             cout&lt;&lt;"Izuzetak: "&lt;&lt;e.what()&lt;&lt;" . Molimo unesite opet."&lt;&lt;endl;
                         }
                         catch(std::range_error e){
                             cout&lt;&lt;"Izuzetak: "&lt;&lt;e.what()&lt;&lt;endl;
                             throw std::runtime_error("Kraj");
                         }
                     }
                 }
                 case 2: {
                     string iipa;
                    // Unesite ime i prezime agenta prodaje: Unesite datum prodaje (formata d/m/g): Unesite cijenu stana: Odaberite kupca. Dostupni kupci su:
                     while(true){
                         try{
                             cin.ignore(1000,'\n');
                             cout&lt;&lt;"Unesite ime i prezime agenta prodaje: ";
                             getline(cin,iipa);
                             cout&lt;&lt;"Unesite datum prodaje (formata d/m/g): ";
                             int dan,mjesec,godina;
                             cin&gt;&gt;dan; cin.get();
                             cin&gt;&gt;mjesec; cin.get();
                             cin&gt;&gt;godina;
                             int cijena;
                             cout&lt;&lt;"Unesite cijenu stana: ";
                             cin&gt;&gt;cijena;
                             cout&lt;&lt;"Odaberite kupca. Dostupni kupci su:"&lt;&lt;endl;
                             int no_kupca;
                             for(int i=0; i&lt;kupci.size(); i++){
                                 cout&lt;&lt;" "&lt;&lt;i+1&lt;&lt;" - ";
                                 kupci.at(i).Ispisi();
                                 cout&lt;&lt;endl;
                             }
                             cin&gt;&gt;no_kupca;
                             int no_stana;
                             cout&lt;&lt;"Odaberite stan. Dostupni stanovi su: "&lt;&lt;endl;
                             for(int i=0; i&lt;stanovi.size(); i++){
                                 cout&lt;&lt;" "&lt;&lt;i+1&lt;&lt;" - ";
                                 stanovi.at(i).Ispisi();
                                 cout&lt;&lt;endl;
                             }
                             cin&gt;&gt;no_stana;
                             prodaje.RegistrirajProdaju(iipa,cijena,Datum(dan,mjesec,godina),kupci.at(no_kupca-1),stanovi.at(no_stana-1));
                             cout&lt;&lt;"Prodaja uspjesno dodana!"&lt;&lt;endl;
                             throw std::runtime_error("e");
                         }
                         catch(std::domain_error e){
                             cout&lt;&lt;"Izuzetak: "&lt;&lt;e.what()&lt;&lt;". Molimo unesite ponovo."&lt;&lt;endl;
                         }
                     }
                }
            }
            return;
        }
        catch(std::runtime_error){
            if (opcija==3){
                cout&lt;&lt;endl;
                throw;
            } 
        }
    }
}

void UredjivanjeProdaja(Prodaje &amp;prodaje, std::vector&lt;Stan&gt;&amp; stanovi, std::vector&lt;Kupac&gt;&amp; kupci){
     int prodaja(0);
     cout&lt;&lt;"Odaberite prodaju koju želite urediti. Dostupne prodaje su:"&lt;&lt;endl;
     for(int i=0; i&lt;prodaje.DajBrojProdaja(); i++){
         cout&lt;&lt;i+1&lt;&lt;"."&lt;&lt;endl;
         prodaje.DajProdaju(i).Ispisi();
         if(i!=prodaje.DajBrojProdaja()-1) cout&lt;&lt;endl;
     }
     cin&gt;&gt;prodaja;
     if(prodaja&lt;0 or prodaja&gt;prodaje.DajBrojProdaja()){
         cout&lt;&lt;"Nevalidan indeks";
         return;
     }
     prodaja--;
     int option(0);
     cout&lt;&lt;"Izaberite opciju:"&lt;&lt;endl;
     cout&lt;&lt;" 0 - nazad\n 1 - izmjena agenta\n 2 - izmjena datuma prodaje\n 3 - izmjena kupca\n 4 - izmjena stana\n 5 - izmjena cijene stana"&lt;&lt;endl;
     cin&gt;&gt;option;
     switch(option){
         case 0: return;
         case 1:{
              cin.ignore(10000,'\n');
             while(true){
                 try{
                     string iip;
                     cout&lt;&lt;"Unesite ime i prezime agenta prodaje: ";
                     getline(cin,iip);
                     prodaje.DajProdaju(prodaja).PromijeniAgenta(iip);
                     cout&lt;&lt;"Prodaja je uspjesno izmijenjena!"&lt;&lt;endl;
                     return;
                 }
                 catch(std::domain_error e){
                     cout&lt;&lt;"Izuzetak: "&lt;&lt;e.what()&lt;&lt;". Molimo unesite opet."&lt;&lt;endl;
                 }
             }
         }
         case 2:{
             while(true){
                 try{
                     cout&lt;&lt;"Unesite datum prodaje (formata d/m/g): ";
                     int dan,mjesec,godina;
                     cin&gt;&gt;dan; cin.get();
                     cin&gt;&gt;mjesec; cin.get();
                     cin&gt;&gt;godina;
                     prodaje.DajProdaju(prodaja).PromijeniDatumKupovine(Datum(dan,mjesec,godina));
                     cout&lt;&lt;"Prodaja je uspjesno izmijenjena!"&lt;&lt;endl;
                     return;
                 }
                 catch(std::domain_error e){
                     cout&lt;&lt;"Izuzetak: "&lt;&lt;e.what()&lt;&lt;". Molimo unesite opet."&lt;&lt;endl;
                 }
             }
         }
         case 3:{
             cout&lt;&lt;"Izaberite opciju:"&lt;&lt;endl;
             int opcija;
             cout&lt;&lt;" 0 - nazad\n 1 - odabir postojeceg kupca\n 2 - dodavanje novog kupca"&lt;&lt;endl;
             cin&gt;&gt;opcija;
             switch(opcija){
                 case 0: return;
                 case 1:{
                     cout&lt;&lt;"Odaberite kupca. Dostupni kupci su:"&lt;&lt;endl;
                     int no_kupca;
                     for(int i=0; i&lt;kupci.size(); i++){
                         cout&lt;&lt;" "&lt;&lt;i+1&lt;&lt;" - ";
                         kupci.at(i).Ispisi();
                         cout&lt;&lt;endl;
                     }
                     cin&gt;&gt;no_kupca;
                     prodaje.DajProdaju(prodaja).PromijeniKupca(kupci.at(no_kupca-1));
                     cout&lt;&lt;"Prodaja je uspjesno izmijenjena!"&lt;&lt;endl;
                     return;
                     
                 }
                 case 2:{
                     string iip;
                      while(true){
                         try{
                             cin.ignore(10000,'\n');
                             cout&lt;&lt;"Unesite ime i prezime kupca: ";
                             getline(cin,iip);
                             cout&lt;&lt;"Unesite datum rodjenja (formata d/m/g): ";
                             int dan,mjesec,godina;
                             cin&gt;&gt;dan; cin.get();
                             cin&gt;&gt;mjesec; cin.get();
                             cin&gt;&gt;godina;
                             prodaje.DajProdaju(prodaja).PromijeniKupca(Kupac(iip,Datum(dan,mjesec,godina)));
                             cout&lt;&lt;"Prodaja je uspjesno izmijenjena!"&lt;&lt;endl;
                             return;
                         }
                         catch(std::domain_error e){
                            cout&lt;&lt;"Izuzetak: "&lt;&lt;e.what()&lt;&lt;". Molimo unesite opet."&lt;&lt;endl;
                         }
                     } 
                 }
             }
         }
         case 4:{
            cout&lt;&lt;"Izaberite opciju:"&lt;&lt;endl;
             int opcija;
             cout&lt;&lt;" 0 - nazad\n 1 - odabir postojeceg stana\n 2 - dodavanje novog stana"&lt;&lt;endl;
             cin&gt;&gt;opcija;
             switch(opcija){
                 case 0:return;
                 case 1:{
                     cout&lt;&lt;"Odaberite stan. Dostupni stanovi su:"&lt;&lt;endl;
                     int no_stana;
                     for(int i=0; i&lt;stanovi.size(); i++){
                         cout&lt;&lt;" "&lt;&lt;i+1&lt;&lt;" - ";
                         stanovi.at(i).Ispisi();
                         cout&lt;&lt;endl;
                     }
                     cin&gt;&gt;no_stana;
                     prodaje.DajProdaju(prodaja).PromijeniStan(stanovi.at(no_stana-1));
                     cout&lt;&lt;"Prodaja je uspjesno izmijenjena!"&lt;&lt;endl;
                     return;
                 }
                 case 2:{
                     string adresa;
                     int sprat,broj_soba,nam_int;
                     double kvadratura;
                     bool namjesten;
                      while(true){
                         try{
                              cin.ignore(10000,'\n'); //U ovu funkc se uslo putem unosa broja
                              cout&lt;&lt;"Unesite adresu: ";
                              getline(cin,adresa);
                              cout&lt;&lt;"Unesite sprat: ";
                              cin&gt;&gt;sprat;
                              cout&lt;&lt;"Unesite broj soba: ";
                              cin&gt;&gt;broj_soba;
                              cout&lt;&lt;"Da li je stan namjesten (1 - da, 0 - ne): ";
                              cin&gt;&gt;nam_int;
                              cout&lt;&lt;"Unesite kvadraturu: ";
                              cin&gt;&gt;kvadratura;
                              if(nam_int!=0 and nam_int!=1) throw std::domain_error("Neispravan unos podataka");
                              if(nam_int==0) namjesten=false;
                              else namjesten=true;
                              prodaje.DajProdaju(prodaja).PromijeniStan(Stan(adresa,sprat,broj_soba,namjesten,kvadratura));
                              cout&lt;&lt;"Prodaja je uspjesno izmijenjena!"&lt;&lt;endl;
                              return;
                         }
                         catch(std::domain_error e){
                            cout&lt;&lt;"Izuzetak: "&lt;&lt;e.what()&lt;&lt;". Molimo unesite opet."&lt;&lt;endl;
                         }
                     } 
                 }
             }            
         }
         case 5:{
             while(true){
                 try{
                     cout&lt;&lt;"Unesite cijenu stana: ";
                     int cijena;
                     cin&gt;&gt;cijena;
                     prodaje.DajProdaju(prodaja).PromijeniCijenuProdaje(cijena);
                     cout&lt;&lt;"Prodaja je uspjesno izmijenjena!"&lt;&lt;endl;
                    return;
                 }
                 catch(std::domain_error e){
                    cout&lt;&lt;"Izuzetak: "&lt;&lt;e.what()&lt;&lt;". Molimo unesite opet."&lt;&lt;endl;
                 }
             }             
         }
     }
 }

 void IspisProdaja(Prodaje &amp;prodaje, std::vector&lt;Stan&gt;&amp; stanovi, std::vector&lt;Kupac&gt;&amp; kupci){
    while(true){
         int opcija(0);
        try{
             cout&lt;&lt;"Izaberite opciju:"&lt;&lt;endl;
             cout&lt;&lt;" 0 - nazad\n 1 - ispis svih prodaja\n 2 - ispis prodaja na datum\n 3 - ispis najranije prodaje";
             cout&lt;&lt;"\n 4 - ispis najskuplje prodaje\n 5 - ispis broja prodaja\n 6 - ispis broja prodaja po datumu\n 7 - ispis broja prodaja po agentu\n 8 - kraj"&lt;&lt;endl;
             cin&gt;&gt;opcija;
             switch(opcija){
                 case 0: return;
                 case 8: throw std::runtime_error("e");
                 case 1: {
                     prodaje.IspisiSveProdaje();
                     throw std::runtime_error("e");
                 }
                 case 2:{
                     while(true){
                         try{
                             cout&lt;&lt;"Unesite datum rodjenja (formata d/m/g): ";
                             int dan,mjesec,godina;
                             cin&gt;&gt;dan; cin.get();
                             cin&gt;&gt;mjesec; cin.get();
                             cin&gt;&gt;godina;
                             Datum dat(dan,mjesec,godina);
                             cout&lt;&lt;"Prodaje na datum ";
                             dat.Ispisi();
                             cout&lt;&lt;" su: "&lt;&lt;endl&lt;&lt;endl;
                             prodaje.IspisiProdajeNaDatum(Datum(dan,mjesec,godina));
                             throw std::runtime_error("e");
                         }
                         catch(std::domain_error e){
                            cout&lt;&lt;"Izuzetak: "&lt;&lt;e.what()&lt;&lt;". Molimo unesite opet."&lt;&lt;endl;
                         }
                     }
                 }
                 case 3: {
                     prodaje.DajNajranijuProdaju().Ispisi();
                     throw std::runtime_error("e");
                 }
                 case 4: {
                     prodaje.DajNajskupljuProdaju().Ispisi();
                     throw std::runtime_error("e") ;
                 }
                 case 5: {
                     cout&lt;&lt;"Broj prodaja: ";
                     cout&lt;&lt;prodaje.DajBrojProdaja();
                     cout&lt;&lt;endl;
                     throw std::runtime_error("e") ;
                 }
                 case 6: {
                     while(true){
                         try{
                             cout&lt;&lt;"Unesite datum rodjenja (formata d/m/g): ";
                             int dan,mjesec,godina;
                             cin&gt;&gt;dan; cin.get();
                             cin&gt;&gt;mjesec; cin.get();
                             cin&gt;&gt;godina;
                             cout&lt;&lt;"Broj prodaja na uneseni datum: ";
                             cout&lt;&lt;prodaje.DajBrojProdajaNaDatum(Datum(dan,mjesec,godina));
                             cout&lt;&lt;endl;
                             throw std::runtime_error("e");
                         }
                         catch(std::domain_error e){
                            cout&lt;&lt;"Izuzetak: "&lt;&lt;e.what()&lt;&lt;". Molimo unesite opet."&lt;&lt;endl;
                         }
                     }
                 }
                 case 7: {
                     cin.ignore(10000,'\n');
                     while(true){
                         try{
                             string iip;
                             cout&lt;&lt;"unesite ime i prezime agenta prodaje: ";
                             getline(cin,iip);
                             cout&lt;&lt;"Broj prodaja unesenog agenta: ";
                             cout&lt;&lt;prodaje.DajBrojProdajaOdAgenta(iip)&lt;&lt;endl;
                             cout&lt;&lt;endl;
                              throw std::runtime_error("e");
                         }
                         catch(std::domain_error e){
                             cout&lt;&lt;"Izuzetak: "&lt;&lt;e.what()&lt;&lt;". Molimo unesite opet."&lt;&lt;endl;
                         }
                     }
                 }
             }
        }
        catch(std::runtime_error) {
            if(opcija==8) throw;
            cout&lt;&lt;endl;
            
        }
    }
}
 
 void BrisanjeProdaja(Prodaje &amp;prodaje, std::vector&lt;Stan&gt;&amp; stanovi, std::vector&lt;Kupac&gt;&amp; kupci){
     while(true){
         try {
             cout&lt;&lt;"Izaberite opciju: "&lt;&lt;endl;
             int opcija(0);
             cout&lt;&lt;" 0 - nazad\n 1 - brisanje najranije prodaje\n 2 - brisanje prodaja agenta";
             cout&lt;&lt;"\n 3 - brisanje prodaja po datumu\n 4 - brisanje svih prodaja\n";
             cin&gt;&gt;opcija;
             switch(opcija){
                 case 0: return;
                 case 1:{
                     try{
                         prodaje.ObrisiNajranijuProdaju(); 
                         cout&lt;&lt;"Najranija prodaja obrisana."&lt;&lt;endl;
                          throw std::runtime_error("e");
                     }
                     catch(std::range_error e){
                         cout&lt;&lt;"Izuzetak: "&lt;&lt;e.what()&lt;&lt;"."&lt;&lt;endl;
                          throw std::runtime_error("e");
                     }
                 } 
                 case 2:{
                     cin.ignore(10000,'\n');
                     while(true){
                         try{
                             string iip;
                             cout&lt;&lt;"unesite ime i prezime agenta prodaje: ";
                             getline(cin,iip);
                             prodaje.ObrisiProdajeAgenta(iip);
                             cout&lt;&lt;"Sve prodaje tog agenta su obrisane."&lt;&lt;endl;
                              throw std::runtime_error("e");
                         }
                         catch(std::domain_error e){
                             cout&lt;&lt;"Izuzetak: "&lt;&lt;e.what()&lt;&lt;". Molimo unesite opet."&lt;&lt;endl;
                         }
                     }
                 }
                 case 3:{
                    while(true){
                         try{
                             cout&lt;&lt;"Unesite datum rodjenja (formata d/m/g): ";
                             int dan,mjesec,godina;
                             cin&gt;&gt;dan; cin.get();
                             cin&gt;&gt;mjesec; cin.get();
                             cin&gt;&gt;godina;
                             prodaje.ObrisiProdajeNaDatum(Datum(dan,mjesec,godina));
                             cout&lt;&lt;"Sve prodaje na taj datum su obrisane."&lt;&lt;endl;
                              throw std::runtime_error("e");
                         }
                         catch(std::domain_error e){
                            cout&lt;&lt;"Izuzetak: "&lt;&lt;e.what()&lt;&lt;". Molimo unesite opet."&lt;&lt;endl;
                         }
                     }
                 }
                 case 4: {
                     prodaje.IsprazniKolekciju(); 
                     cout&lt;&lt;"Sve prodaje obrisane."&lt;&lt;endl; 
                      throw std::runtime_error("e");
                     
                 }
             }
         }
         catch(std::runtime_error e){ cout&lt;&lt;endl; }
     }
 }

int UredjivanjeSvihProdaja(Prodaje &amp;prodaje, std::vector&lt;Stan&gt;&amp; stanovi, std::vector&lt;Kupac&gt;&amp; kupci){
    std::vector&lt;std::function&lt;void(Prodaje&amp;,std::vector&lt;Stan&gt;&amp;,std::vector&lt;Kupac&gt;&amp;)&gt;&gt; funkc{DodavanjeProdaje,UredjivanjeProdaja,IspisProdaja,BrisanjeProdaja};
    int br;
    try{
        while(true){
            cout&lt;&lt;"Izaberite opciju:\n 0 - nazad\n 1 - dodavanje prodaje\n 2 - uredjivanje prodaje\n 3 - ispis prodaja\n 4 - brisanje prodaja\n 5 - kraj"&lt;&lt;endl;
            cin&gt;&gt;br;
            if(br==0) return 1;
            if(br==5) return 0;
            funkc.at(br-1)(prodaje,stanovi,kupci);
            cout&lt;&lt;endl;
        }
    }
    catch(std::runtime_error e){
        return 0; //Kraj
    }
    return 1;
}

int main ()
{
    int br(0), rez(0);
    Prodaje prodaje;
    std::vector&lt;Stan&gt; stanovi;
    std::vector&lt;Kupac&gt; kupci;
    cout&lt;&lt;"Dobrodosli!"&lt;&lt;endl&lt;&lt;" "&lt;&lt;endl&lt;&lt;" "&lt;&lt;endl;
    while(true){
        cout&lt;&lt;"Izaberite opciju:\n 0 - kraj\n 1 - uredjivanje stanova\n 2 - uredjivanje kupaca\n 3 - uredjivanje prodaja"&lt;&lt;endl;
        cin&gt;&gt;br;
        if(br==0) break;
        else if(br==1) rez=UredjivanjeSvihStanova(stanovi);
        else if(br==2) rez = UredjivanjeSvihKupaca(kupci);
        else rez=UredjivanjeSvihProdaja(prodaje,stanovi,kupci);
        if(rez==0) break;
    }
    cout&lt;&lt;endl&lt;&lt;endl&lt;&lt;"Dovidjenja!";
	return 0;
}</pre>
</body>
</html>
