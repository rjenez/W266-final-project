<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z4/student2230.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z4/student2230.cpp<p></p><pre>
#include &lt;iostream&gt;
#include &lt;stdexcept&gt;
#include &lt;iomanip&gt;
#include &lt;vector&gt;
#include &lt;initializer_list&gt;
#include &lt;algorithm&gt;
#include &lt;memory&gt;

class Datum{
    int dan, mjesec, godina;
    friend class Kupac;
    friend class Prodaja;
    friend class Prodaje;
public:
    Datum(int dan, int mjesec, int godina):dan(dan),mjesec(mjesec),godina(godina){if(dan&gt;31 || dan&lt;1 || mjesec&lt;1 || mjesec&gt;12 || godina&lt;1) throw std::domain_error("Neispravan datum"); Datum::dan=dan; Datum::mjesec=mjesec; Datum::godina=godina;}
<a name="10"></a><font color="#FF0000"><a href="match174-1.html#10" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_0.gif"/></a>

    void Postavi(int dan, int mjesec, int godina){if(dan&gt;31 || dan&lt;1 || mjesec&lt;1 || mjesec&gt;12 || godina&lt;1) throw std::domain_error("Neispravan datum"); Datum::dan=dan; Datum::mjesec=mjesec; Datum::godina=godina;}
    int DajDan() const{return dan;}
    int DajMjesec() const {return mjesec;}
    int DajGodinu() const{return godina;}
    void Ispisi()const ;
</font>};
void Datum::Ispisi()const {
    std::cout&lt;&lt;dan&lt;&lt;"/"&lt;&lt;mjesec&lt;&lt;"/"&lt;&lt;godina&lt;&lt;std::endl;
}

class Kupac{
    std::string ime_i_prezime;
    Datum datum;
    friend class Prodaja;
    friend class Prodaje;
public:
    Kupac(const std::string &amp;ime_i_prezime, const Datum &amp;datum_rodjenja): datum(datum_rodjenja){ for(int i(0);i&lt;ime_i_prezime.length();i++){
        if(!((ime_i_prezime[i]&gt;='a' &amp;&amp; ime_i_prezime[i]&lt;='z') || (ime_i_prezime[i]&gt;='A' &amp;&amp; ime_i_prezime[i]&lt;='Z') || ime_i_prezime[i]==' '))
        throw std::domain_error("Neispravno ime i prezime");
    }
    Kupac::ime_i_prezime=ime_i_prezime;
    datum=datum_rodjenja;}
    
    void Postavi(const std::string &amp;ime_i_prezime, const Datum &amp;datum_rodjenja){for(int i(0);i&lt;ime_i_prezime.length();i++){
        if(!((ime_i_prezime[i]&gt;='a' &amp;&amp; ime_i_prezime[i]&lt;='z') || (ime_i_prezime[i]&gt;='A' &amp;&amp; ime_i_prezime[i]&lt;='Z') || ime_i_prezime[i]==' '))
        throw std::domain_error("Neispravno ime i prezime");
    }
    Kupac::ime_i_prezime=ime_i_prezime; datum=datum_rodjenja;}
    std::string DajImePrezime() const { return ime_i_prezime;}
    Datum DajDatumRodjenja() const {return datum;}
    void Ispisi() const;
};
void Kupac::Ispisi() const{
    std::cout&lt;&lt;DajImePrezime()&lt;&lt;" ("&lt;&lt;DajDatumRodjenja().dan&lt;&lt;"/"&lt;&lt;DajDatumRodjenja().mjesec&lt;&lt;"/"&lt;&lt;DajDatumRodjenja().godina&lt;&lt;")"&lt;&lt;std::endl;
}

class Stan{
    std::string adresa;
    int sprat;
    int broj_soba;
    bool namjesten;
    double kvadratura;
    friend class Prodaja;
    friend class Prodaje;

public:
    Stan(const std::string &amp;adresa, int sprat, int broj_soba, bool namjesten, double kvadratura){if(sprat&lt;0 || broj_soba&lt;=0 || kvadratura&lt;=0 || ((int)namjesten!=1 &amp;&amp; (int)namjesten!=0)) throw std::domain_error("Neispravan unos podataka"); Stan::adresa=adresa;Stan::sprat=sprat; Stan::broj_soba=broj_soba; Stan::namjesten=namjesten; Stan::kvadratura=kvadratura;}
<a name="0"></a><font color="#FF0000"><a href="match174-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_0.gif"/></a>

    void Postavi(const std::string &amp;adresa, int sprat,int broj_soba, bool namjesten,double kvadratura){if(sprat&lt;0 || broj_soba&lt;=0 || kvadratura&lt;=0) throw std::domain_error("Neispravan unos podataka"); Stan::adresa=adresa; Stan::sprat=sprat; Stan::broj_soba=broj_soba; Stan::namjesten=namjesten; Stan::kvadratura=kvadratura;}
    std::string DajAdresu() const{return adresa;}
    int DajSprat() const {return sprat;}
    int DajBrojSoba() const{return broj_soba;}
    bool DajNamjesten() const{return namjesten;}
    double DajKvadraturu() const{return kvadratura;}
    void Ispisi() const;
};

void Stan::Ispisi() const{
</font>    if(DajBrojSoba()==1){
        if(DajNamjesten()==true){
            std::cout&lt;&lt;"Stan se nalazi na adresi "&lt;&lt;DajAdresu()&lt;&lt;" na "&lt;&lt;DajSprat()&lt;&lt;". spratu i ima "&lt;&lt;DajBrojSoba()&lt;&lt;" sobu.";
            std::cout&lt;&lt;" Kvadratura stana je "&lt;&lt;DajKvadraturu()&lt;&lt;" (m^2) i stan je namjesten."&lt;&lt;std::endl;
        }
        else{
            std::cout&lt;&lt;"Stan se nalazi na adresi "&lt;&lt;DajAdresu()&lt;&lt;" na "&lt;&lt;DajSprat()&lt;&lt;". spratu i ima "&lt;&lt;DajBrojSoba()&lt;&lt;" sobu.";
            std::cout&lt;&lt;" Kvadratura stana je "&lt;&lt;DajKvadraturu()&lt;&lt;" (m^2) i stan nije namjesten."&lt;&lt;std::endl;
        }
    }
    else if(DajBrojSoba()%10==2 || DajBrojSoba()%10==3 || DajBrojSoba()%10 ==4){
        if(DajNamjesten()==true){
            std::cout&lt;&lt;"Stan se nalazi na adresi "&lt;&lt;DajAdresu()&lt;&lt;" na "&lt;&lt;DajSprat()&lt;&lt;". spratu i ima "&lt;&lt;DajBrojSoba()&lt;&lt;" sobe.";
            std::cout&lt;&lt;" Kvadratura stana je "&lt;&lt;DajKvadraturu()&lt;&lt;" (m^2) i stan je namjesten."&lt;&lt;std::endl;
        }
        else{
            std::cout&lt;&lt;"Stan se nalazi na adresi "&lt;&lt;DajAdresu()&lt;&lt;" na "&lt;&lt;DajSprat()&lt;&lt;". spratu i ima "&lt;&lt;DajBrojSoba()&lt;&lt;" sobe.";
            std::cout&lt;&lt;" Kvadratura stana je "&lt;&lt;DajKvadraturu()&lt;&lt;" (m^2) i stan nije namjesten."&lt;&lt;std::endl;
        }
    }
    else{
        if(DajNamjesten()==true){
            std::cout&lt;&lt;"Stan se nalazi na adresi "&lt;&lt;DajAdresu()&lt;&lt;" na "&lt;&lt;DajSprat()&lt;&lt;". spratu i ima "&lt;&lt;DajBrojSoba()&lt;&lt;" soba.";
            std::cout&lt;&lt;" Kvadratura stana je "&lt;&lt;DajKvadraturu()&lt;&lt;" (m^2) i stan je namjesten."&lt;&lt;std::endl;
        }
        else{
            std::cout&lt;&lt;"Stan se nalazi na adresi "&lt;&lt;DajAdresu()&lt;&lt;" na "&lt;&lt;DajSprat()&lt;&lt;". spratu i ima "&lt;&lt;DajBrojSoba()&lt;&lt;" soba.";
            std::cout&lt;&lt;" Kvadratura stana je "&lt;&lt;DajKvadraturu()&lt;&lt;" (m^2) i stan nije namjesten."&lt;&lt;std::endl;
        }
    }
}

class Prodaja{
    std::string ime_agenta_prodaje;
    double cijena_stana;
    Datum datumprodaje;
    Kupac kupacstana;
    Stan kupljenistan;
    friend class Prodaje;
public:
    Prodaja(const std::string &amp;ime_agenta_prodaje,double cijena_stana,const Datum &amp;datum_prodaje,const Kupac &amp;kupac_stana,const Stan &amp;kupljeni_stan): datumprodaje(datum_prodaje),kupacstana(kupac_stana),kupljenistan(kupljeni_stan){
        if(cijena_stana&lt;0) throw std::domain_error("Neispravna cijena");
        Prodaja::ime_agenta_prodaje=ime_agenta_prodaje; 
        Prodaja::cijena_stana=cijena_stana;
        datumprodaje=datum_prodaje;
        kupacstana=kupac_stana;
        kupljenistan=kupljeni_stan;}
    Prodaja(const std::string &amp;ime_agenta_prodaje,double cijena_stana,int dan_prodaje, int mjesec_prodaje, int godina_prodaje,std::string &amp;ime_kupca, const Datum &amp;datum_rodjenja_kupca,const std::string &amp;adresa_stana, int sprat_stana, int broj_soba, bool namjesten_stan, double broj_kvadrata): datumprodaje(dan_prodaje,mjesec_prodaje,godina_prodaje),kupacstana(ime_kupca,datum_rodjenja_kupca),kupljenistan(adresa_stana,sprat_stana,broj_soba,namjesten_stan,broj_kvadrata){
        if(cijena_stana&lt;0) throw std::domain_error("Neispravna cijena");
        Prodaja::ime_agenta_prodaje=ime_agenta_prodaje;
        Prodaja::cijena_stana=cijena_stana;
        datumprodaje.dan=dan_prodaje;
        datumprodaje.mjesec=mjesec_prodaje;
        datumprodaje.godina=godina_prodaje;
        kupacstana.ime_i_prezime=ime_kupca;
        kupacstana.datum=datum_rodjenja_kupca;
        kupljenistan.adresa=adresa_stana;
        kupljenistan.sprat=sprat_stana;
        kupljenistan.broj_soba=broj_soba;
        kupljenistan.namjesten=namjesten_stan;
        kupljenistan.kvadratura=broj_kvadrata;}
        
    void PromijeniKupca(const Kupac &amp;novi_kupac){kupacstana=novi_kupac;}
    void PromijeniStan(const Stan &amp;novi_stan){kupljenistan=novi_stan;}
    void PromijeniDatumKupovine(const Datum &amp;novi_datum){datumprodaje=novi_datum;}
    void PromijeniCijenuProdaje(const double &amp;nova_cijena){if(nova_cijena&lt;0) throw std::domain_error("Neispravna cijena"); cijena_stana=nova_cijena;}   
    void PomjeriDanUnaprijed(){datumprodaje.dan+=1;}
    void PomjeriDanUnazad(){datumprodaje.dan-=1;}
    std::string DajImeAgenta()const {return ime_agenta_prodaje;}
    std::string DajImeKupca() const{return kupacstana.ime_i_prezime;}
    Datum DajDatumProdaje() const{return datumprodaje;}
    double DajCijenuStana() const{return cijena_stana;}
<a name="17"></a><font color="#0000FF"><a href="match174-1.html#17" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_0.gif"/></a>

    friend bool ProdatPrije(const Prodaja &amp;p1, const Prodaja &amp;p2);
    friend bool SkupljiStan(const Prodaja &amp;p1, const Prodaja &amp;p2);
    void Ispisi() const;
};

void Prodaja::Ispisi() const{
</font>    std::cout&lt;&lt;std::setw(45)&lt;&lt;std::left&lt;&lt;"Ime agenta:";
    std::cout&lt;&lt;Prodaja::DajImeAgenta()&lt;&lt;std::endl;
    std::cout&lt;&lt;std::setw(45)&lt;&lt;std::left&lt;&lt;"Ime kupca:";
    std::cout&lt;&lt;DajImeKupca();
    std::cout&lt;&lt;" ("&lt;&lt;kupacstana.datum.dan&lt;&lt;"/"&lt;&lt;kupacstana.datum.mjesec&lt;&lt;"/"&lt;&lt;kupacstana.datum.godina&lt;&lt;")"&lt;&lt;std::endl;
    std::cout&lt;&lt;std::setw(45)&lt;&lt;std::left&lt;&lt;"Zakazani datum prodaje: ";
    std::cout&lt;&lt;DajDatumProdaje().DajDan()&lt;&lt;"/"&lt;&lt;DajDatumProdaje().DajMjesec()&lt;&lt;"/"&lt;&lt;DajDatumProdaje().DajGodinu()&lt;&lt;std::endl;
    std::cout&lt;&lt;std::setw(45)&lt;&lt;std::left&lt;&lt;"Cijena stana: ";
    std::cout&lt;&lt;DajCijenuStana()&lt;&lt;std::endl;
    std::cout&lt;&lt;"Informacije o stanu: "&lt;&lt;std::endl;
    if(kupljenistan.broj_soba==1){
        if(kupljenistan.DajNamjesten()==true){
            std::cout&lt;&lt;"Stan se nalazi na adresi "&lt;&lt;kupljenistan.DajAdresu()&lt;&lt;" na "&lt;&lt;kupljenistan.DajSprat()&lt;&lt;". spratu i ima "&lt;&lt;kupljenistan.DajBrojSoba()&lt;&lt;" sobu."&lt;&lt;std::endl;
            std::cout&lt;&lt;"Kvadratura stana je "&lt;&lt;kupljenistan.DajKvadraturu()&lt;&lt;" (m^2) i stan je namjesten."&lt;&lt;std::endl;
        }
        else{
            std::cout&lt;&lt;"Stan se nalazi na adresi "&lt;&lt;kupljenistan.DajAdresu()&lt;&lt;" na "&lt;&lt;kupljenistan.DajSprat()&lt;&lt;". spratu i ima "&lt;&lt;kupljenistan.DajBrojSoba()&lt;&lt;" sobu."&lt;&lt;std::endl;
            std::cout&lt;&lt;"Kvadratura stana je "&lt;&lt;kupljenistan.DajKvadraturu()&lt;&lt;" (m^2) i stan nije namjesten."&lt;&lt;std::endl;
        }
    }
    else if(kupljenistan.DajBrojSoba()%10 == 2 || kupljenistan.DajBrojSoba()%10 == 3 || kupljenistan.DajBrojSoba()%10 ==4 ){
        std::cout&lt;&lt;"Stan se nalazi na adresi "&lt;&lt;kupljenistan.DajAdresu()&lt;&lt;" na "&lt;&lt;kupljenistan.DajSprat()&lt;&lt;". spratu i ima "&lt;&lt;kupljenistan.DajBrojSoba()&lt;&lt;" sobe."&lt;&lt;std::endl;
        if(kupljenistan.DajNamjesten()==true) std::cout&lt;&lt;"Kvadratura stana je "&lt;&lt;kupljenistan.DajKvadraturu()&lt;&lt;" (m^2) i stan je namjesten."&lt;&lt;std::endl;
        else std::cout&lt;&lt;"Kvadratura stana je "&lt;&lt;kupljenistan.DajKvadraturu()&lt;&lt;" (m^2) i stan nije namjesten."&lt;&lt;std::endl;
    }
    else {
        std::cout&lt;&lt;"Stan se nalazi na adresi "&lt;&lt;kupljenistan.DajAdresu()&lt;&lt;" na "&lt;&lt;kupljenistan.DajSprat()&lt;&lt;". spratu i ima "&lt;&lt;kupljenistan.DajBrojSoba()&lt;&lt;" soba."&lt;&lt;std::endl;
        if(kupljenistan.DajNamjesten()==true) std::cout&lt;&lt;"Kvadratura stana je "&lt;&lt;kupljenistan.DajKvadraturu()&lt;&lt;" (m^2) i stan je namjesten."&lt;&lt;std::endl;
        else std::cout&lt;&lt;"Kvadratura stana je "&lt;&lt;kupljenistan.DajKvadraturu()&lt;&lt;" (m^2) i stan nije namjesten."&lt;&lt;std::endl;
    }
}

bool ProdatPrije(const Prodaja &amp;p1, const Prodaja &amp;p2){
    if(p1.DajDatumProdaje().DajDan()&lt;p2.DajDatumProdaje().DajDan() &amp;&amp; p1.DajDatumProdaje().DajMjesec()&lt;=p2.DajDatumProdaje().DajMjesec() &amp;&amp; p1.DajDatumProdaje().DajGodinu()&lt;=p2.DajDatumProdaje().DajGodinu()) return true;
    else if(p1.DajDatumProdaje().DajDan()&lt;=p2.DajDatumProdaje().DajDan() &amp;&amp; p1.DajDatumProdaje().DajMjesec()&lt;p2.DajDatumProdaje().DajMjesec() &amp;&amp; p1.DajDatumProdaje().DajGodinu()&lt;=p2.DajDatumProdaje().DajGodinu()) return true;
<a name="18"></a><font color="#00FFFF"><a href="match174-1.html#18" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_0.gif"/></a>

    else if(p1.DajDatumProdaje().DajDan()&lt;=p2.DajDatumProdaje().DajDan() &amp;&amp; p1.DajDatumProdaje().DajMjesec()&lt;=p2.DajDatumProdaje().DajMjesec() &amp;&amp; p1.DajDatumProdaje().DajGodinu()&lt;p2.DajDatumProdaje().DajGodinu()) return true;
    else return false;
}
bool SkupljiStan(const Prodaja &amp;p1, const Prodaja &amp;p2){
    if(p1.DajCijenuStana()&gt;p2.DajCijenuStana()) return true;
</font>    else return false;
}

class Prodaje{
    int broj_prodaja;
    std::vector&lt;std::shared_ptr&lt;Prodaja&gt;&gt; vektor;
    static int brojacnadatum;
    static int brojacnaagenta;
    Prodaja **prodaje;
    std::string ime_agenta_prodaje;
    double cijena_stana;
    Datum datumprodaje;
    Kupac kupacstana;
    Stan kupljenistan;
public:
       explicit Prodaje():datumprodaje(1,1,1),kupacstana("",datumprodaje),kupljenistan("",1,1,true,1),prodaje(nullptr){ 
         //   vektor.push_back(prodaje);
            for(int i(0);i&lt;vektor.size();i++) vektor[i]=nullptr;
    }
    Prodaje(std::initializer_list&lt;Prodaja&gt; spisak_prodaja): datumprodaje(1,1,1),kupacstana("",datumprodaje),kupljenistan("",1,1,true,1),broj_prodaja(0){
            for(auto it1=spisak_prodaja.begin();it1!=spisak_prodaja.end();it1++){
              //3  vektor.push_back(*it1);
                broj_prodaja++;
            }
    }
    ~Prodaje(){if(prodaje==nullptr) return; 
                for(int i(0);i&lt;broj_prodaja;i++) delete prodaje[i]; 
                delete [] prodaje; 
                prodaje=nullptr; 
                broj_prodaja=0;}
   // Prodaje (const Prodaje &amp;prodaje);
    //Prodaje (Prodaje &amp;&amp;prodaje);
    //Prodaje &amp;operator = (const Prodaje &amp;prodaje);
    //Prodaje &amp;operator = (Prodaje &amp;&amp;prodaje);
    void RegistrirajProdaju(const std::string &amp;ime_agenta_prodaje,double cijena_stana,const Datum &amp;datum_prodaje,const Kupac &amp;kupac_stana,const Stan &amp;kupljeni_stan){
        
        datumprodaje= datum_prodaje;
        kupacstana= kupac_stana;
        kupljenistan=kupljeni_stan;
        Prodaje::ime_agenta_prodaje=ime_agenta_prodaje; 
        Prodaje::cijena_stana=cijena_stana; 
        datumprodaje=datum_prodaje; 
        kupacstana=kupac_stana; 
        kupljenistan=kupljeni_stan;
        broj_prodaja++;
        
    }
        void RegistrirajProdaju(const std::string &amp;ime_agenta_prodaje,double cijena_stana,int dan_prodaje,int mjesec_prodaje,int godina_prodaje,std::string &amp;ime_kupca,Datum &amp;datum_rodjenja_kupca, const std::string &amp;adresa_stana,int sprat_stana, int broj_soba,bool namjesten_stan,double broj_kvadrata){
        
        Prodaje::ime_agenta_prodaje=ime_agenta_prodaje;
        Prodaje::cijena_stana=cijena_stana;
        datumprodaje.dan=dan_prodaje; 
        datumprodaje.mjesec=mjesec_prodaje;
        datumprodaje.godina=godina_prodaje; 
        kupacstana.ime_i_prezime=ime_kupca;
        kupacstana.datum=datum_rodjenja_kupca;
        kupljenistan.adresa=adresa_stana; 
        kupljenistan.sprat=sprat_stana; 
        kupljenistan.broj_soba=broj_soba; 
        kupljenistan.namjesten=namjesten_stan; 
        kupljenistan.kvadratura=broj_kvadrata;
        broj_prodaja++;
        
        }
    void RegistrirajProdaju(std::shared_ptr&lt;Prodaja&gt; prodaja);
<a name="1"></a><font color="#00FF00"><a href="match174-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_0.gif"/></a>

    int DajBrojProdaja() const{return broj_prodaja;}
    int DajBrojProdajaNaDatum(const Datum &amp;datum) const;
    int DajBrojProdajaOdAgenta(const std::string &amp;ime_agenta) const;
    Prodaja &amp;DajNajranijuProdaju();
    Prodaja DajNajranijuProdaju() const;
    Prodaja &amp;DajNajskupljuProdaju();
    Prodaja DajNajskupljuProdaju() const;
    void IsprazniKolekciju();
    void ObrisiNajranijuProdaju();
    void ObrisiProdajeAgenta(const std::string &amp;ime_agenta);
    void ObrisiProdajeNaDatum(const Datum &amp;datum);
    void IspisiProdajeNaDatum(const Datum &amp;datum) const;
</font>    void IspisiSveProdaje() const;
};
int Prodaje::DajBrojProdajaNaDatum(const Datum &amp;datum)const{
    if(broj_prodaja==0) throw std::domain_error("Nema registriranih prodaja");
    return std::count_if(prodaje,prodaje+broj_prodaja,[datum](Prodaja *prodaja){
        return (prodaja-&gt;DajDatumProdaje().DajDan()==datum.DajDan() &amp;&amp; prodaja-&gt;DajDatumProdaje().DajMjesec()==datum.DajMjesec() &amp;&amp; prodaja-&gt;DajDatumProdaje().DajGodinu()==datum.DajGodinu());
    });
}
int Prodaje::DajBrojProdajaOdAgenta(const std::string &amp;ime_agenta) const{
    if (broj_prodaja==0) throw std::domain_error("Nema registriranih prodaja");
    return std::count_if(prodaje,prodaje+broj_prodaja,[ime_agenta](Prodaja *prodaja){
        return (prodaja-&gt;DajImeAgenta()==ime_agenta);
    });
}

Prodaja &amp;Prodaje::DajNajranijuProdaju(){
    if(broj_prodaja==0) throw std::domain_error("Nema registriranih prodaja");
    auto najranija=std::min_element(prodaje,prodaje+broj_prodaja,[](Prodaja *p1, Prodaja *p2){
        return ProdatPrije(*p1,*p2);
    });
    
    return **najranija;
}
Prodaja Prodaje::DajNajranijuProdaju() const{
    if(broj_prodaja==0) throw std::domain_error("Nema registriranih prodaja");
    auto najranija=std::min_element(prodaje,prodaje+broj_prodaja,[](Prodaja *p1, Prodaja *p2){
        return ProdatPrije(*p1,*p2);
    });
    
    return **najranija;
}
Prodaja &amp;Prodaje::DajNajskupljuProdaju(){
    if(broj_prodaja==0) throw std::domain_error("Nema registriranih prodaja");
    auto najskuplja=std::max_element(prodaje,prodaje+broj_prodaja,[](Prodaja *p1, Prodaja *p2){
        return SkupljiStan(*p1,*p2);
    });
    return **najskuplja;
}
Prodaja Prodaje::DajNajskupljuProdaju()const{
    if(broj_prodaja==0) throw std::domain_error("Nema registriranih prodaja");
    auto najskuplja=std::max_element(prodaje,prodaje+broj_prodaja,[](Prodaja *p1, Prodaja *p2){
        return SkupljiStan(*p1,*p2);
    });
    return **najskuplja;
}
void Prodaje::IsprazniKolekciju(){
    for(int i(0);i&lt;broj_prodaja;i++) delete prodaje[i];
    delete [] prodaje;
    prodaje=nullptr;
}

void Prodaje::ObrisiNajranijuProdaju(){
    if(broj_prodaja==0) throw std::range_error("Prazna kolekcija");
    auto najranija(DajNajranijuProdaju());
    for(int i(0);i&lt;broj_prodaja;i++){
        if(prodaje[i]-&gt;DajDatumProdaje().DajDan() == najranija.DajDatumProdaje().DajDan() &amp;&amp; prodaje[i]-&gt;DajDatumProdaje().DajMjesec() == najranija.DajDatumProdaje().DajMjesec() &amp;&amp; prodaje[i]-&gt;DajDatumProdaje().DajGodinu() == najranija.DajDatumProdaje().DajGodinu()){
            delete prodaje[i];
            int j=i+1;
            while(j&lt;broj_prodaja){
                prodaje[j-1]=prodaje[j];
                j++;
            }
            broj_prodaja--;
        }
    }
    
}
void Prodaje::ObrisiProdajeAgenta(const std::string &amp;ime_agenta){
    if(broj_prodaja==0) throw std::range_error("Prazna kolekcija");
    for(int i(0);i&lt;broj_prodaja;i++){
        if(prodaje[i]-&gt;DajImeAgenta()==ime_agenta){
            delete prodaje[i];
            int j=i+1;
            while(j&lt;broj_prodaja){
                prodaje[j-1]=prodaje[j];
            }
            broj_prodaja--;
            i--;
        }
    }
}
void Prodaje::ObrisiProdajeNaDatum(const Datum &amp;datum){
    if(broj_prodaja==0) throw std::range_error("Prazna kolekcija");
    for(int i(0);i&lt;broj_prodaja;i++){
        if(prodaje[i]-&gt;DajDatumProdaje().DajDan()==datum.DajDan() &amp;&amp; prodaje[i]-&gt;DajDatumProdaje().DajMjesec()==datum.DajMjesec() &amp;&amp; prodaje[i]-&gt;DajDatumProdaje().DajGodinu()==datum.DajGodinu()){
            delete prodaje[i];
            int j=i+1;
            while(j&lt;broj_prodaja){
                prodaje[j-1]=prodaje[j];
            }
            i--;
            broj_prodaja--;
        }
    }
}
void Prodaje::IspisiProdajeNaDatum(const Datum &amp;datum) const{
    for(int i(0);i&lt;broj_prodaja;i++){
        if(prodaje[i]-&gt;DajDatumProdaje().DajDan()==datum.DajDan() &amp;&amp; prodaje[i]-&gt;DajDatumProdaje().DajMjesec()==datum.DajMjesec() &amp;&amp; prodaje[i]-&gt;DajDatumProdaje().DajGodinu()==datum.DajGodinu()){
            std::cout&lt;&lt;prodaje[i]-&gt;DajDatumProdaje().DajDan()&lt;&lt;"/"&lt;&lt;prodaje[i]-&gt;DajDatumProdaje().DajMjesec()&lt;&lt;"/"&lt;&lt;prodaje[i]-&gt;DajDatumProdaje().DajGodinu()&lt;&lt;std::endl;
        }
    }
}
void Prodaje::IspisiSveProdaje() const{
    for(int i(0);i&lt;broj_prodaja;i++){
        std::cout&lt;&lt;prodaje[i]&lt;&lt;std::endl;
    }
}

int main ()
{  
    std::string adresa;
    int sprat;
    int brsoba;
    bool namjesten;
    int namjestencifra;
    double kvadratura;
    int dan,mjesec,godina;
    double cijena;
    int danprodaje,mjesecprodaje,godinaprodaje;
    std::string ime_i_prezime_kupca;
    std::string ime_i_prezime_agenta;
    int opcija(0);
    int opcija1(0);
    std::vector&lt;Stan&gt; vektorstanova;
    std::vector&lt;Kupac&gt; vektorkupaca;
    std::vector&lt;Prodaja&gt; vektorprodaja;
    std::cout&lt;&lt;"Dobrodosli!"&lt;&lt;std::endl;
    std::cout&lt;&lt;std::endl;
    jodja:
<a name="7"></a><font color="#0000FF"><a href="match174-1.html#7" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_0.gif"/></a>

    std::cout&lt;&lt;"Izaberite opciju:"&lt;&lt;std::endl;
    std::cout&lt;&lt;" 0 - kraj"&lt;&lt;std::endl&lt;&lt;" 1 - uredjivanje stanova"&lt;&lt;std::endl&lt;&lt;" 2 - uredjivanje kupaca"&lt;&lt;std::endl&lt;&lt;" 3 - uredjivanje prodaja"&lt;&lt;std::endl;
</font>    std::cin&gt;&gt;opcija;
    if(opcija==0) return 0;
    if(opcija==1){
        for(;;){
        jodja2:
<a name="8"></a><font color="#00FFFF"><a href="match174-1.html#8" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_0.gif"/></a>

        std::cout&lt;&lt;"Izaberite opciju:"&lt;&lt;std::endl;
        std::cout&lt;&lt;" 0 - nazad"&lt;&lt;std::endl&lt;&lt;" 1 - dodavanje stana"&lt;&lt;std::endl&lt;&lt;" 2 - uredjivanje stanova"&lt;&lt;std::endl&lt;&lt;" 3 - ispis svih stanova"&lt;&lt;std::endl&lt;&lt;" 4 - kraj"&lt;&lt;std::endl;
</font>        std::cin&gt;&gt;opcija1;
        
        if(opcija1==0) goto jodja;
        else if(opcija1==4) return 0;
        else if(opcija1==1){
            jodja1:
<a name="2"></a><font color="#0000FF"><a href="match174-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_0.gif"/></a>

            std::cin.clear();
            std::cin.ignore(1000,'\n');
            std::cout&lt;&lt;"Unesite adresu: ";
            std::getline(std::cin,adresa);
            std::cout&lt;&lt;"Unesite sprat: ";
            std::cin&gt;&gt;sprat;
            std::cout&lt;&lt;"Unesite broj soba: ";
</font>            std::cin&gt;&gt;brsoba;
            std::cout&lt;&lt;"Da li je stan namjesten (1 - da, 0 - ne): ";
            std::cin&gt;&gt;namjestencifra;
            if(namjestencifra==1) namjesten=true;
            if(namjestencifra==0) namjesten=false;
            //std::cin&gt;&gt;std::ws;
            std::cin.clear();
            std::cin.ignore(1000,'\n');
            std::cout&lt;&lt;"Unesite kvadraturu: ";
            std::cin&gt;&gt;kvadratura;
            try{
<a name="16"></a><font color="#00FF00"><a href="match174-1.html#16" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_0.gif"/></a>

                if(namjestencifra!=1 &amp;&amp; namjestencifra!=0) throw std::domain_error("Neispravan unos");
                Stan stan(adresa,sprat,brsoba,namjesten,kvadratura);
                vektorstanova.push_back(stan);
                std::cout&lt;&lt;"Stan je uspjesno dodan!"&lt;&lt;std::endl;
</font>            }
            catch(std::domain_error e){
                std::cout&lt;&lt;"Izuzetak: "&lt;&lt;e.what()&lt;&lt;". Molimo unesite opet."&lt;&lt;std::endl;
                goto jodja1;
            }
            
        }
<a name="13"></a><font color="#00FFFF"><a href="match174-1.html#13" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_0.gif"/></a>

        else if(opcija1==3){
        for(int i(0);i&lt;vektorstanova.size();i++){
            std::cout&lt;&lt;i+1&lt;&lt;". ";
            vektorstanova[i].Ispisi();
</font>                }   
            }
        else if(opcija1==2){
            int opcija2;
            std::cout&lt;&lt;"Odaberite stan. Dostupni stanovi su:"&lt;&lt;std::endl;
            for(int i(0);i&lt;vektorstanova.size();i++){
                std::cout&lt;&lt;i+1&lt;&lt;" - ";
                vektorstanova[i].Ispisi();
            }
            int odabrani_stan;
            std::cin&gt;&gt;odabrani_stan;
<a name="9"></a><font color="#FF00FF"><a href="match174-1.html#9" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_0.gif"/></a>

            std::cout&lt;&lt;"Odaberite polje koje zelite urediti:"&lt;&lt;std::endl;
            std::cout&lt;&lt;" 0 - nazad"&lt;&lt;std::endl&lt;&lt;" 1 - adresa"&lt;&lt;std::endl&lt;&lt;" 2 - sprat"&lt;&lt;std::endl&lt;&lt;" 3 - broj soba"&lt;&lt;std::endl&lt;&lt;" 4 - da li je stan namjesten"&lt;&lt;std::endl&lt;&lt;" 5 - kvadratura"&lt;&lt;std::endl&lt;&lt;" 6 - sve"&lt;&lt;std::endl;
</font>            std::cin&gt;&gt;opcija2;
            if(opcija2==0) goto jodja2;
            else if(opcija2==1){
                std::string nova_adresa;
                std::cin.clear();
                std::cin.ignore(1000,'\n');
                ponovo_adresa:
                std::cout&lt;&lt;"Unesite adresu: ";
                std::getline(std::cin,nova_adresa);
                try{
                vektorstanova[odabrani_stan-1].Postavi(nova_adresa,sprat,brsoba,namjesten,kvadratura);
                adresa=nova_adresa;
                std::cout&lt;&lt;"Stan je uspjesno izmijenjen!"&lt;&lt;std::endl;
                }
                catch(std::domain_error e){
                    std::cout&lt;&lt;"Izuzetak: "&lt;&lt;e.what()&lt;&lt;". Molimo unesite ponovo.";
                    std::cin.clear();
                    std::cin.ignore(1000,'\n');
                    goto ponovo_adresa;
                }
            }
            else if(opcija2==2){
                int novi_sprat;
                std::cin.clear();
                std::cin.ignore(1000,'\n');
                ponovo_sprat:
                std::cout&lt;&lt;"Unesite sprat: ";
                std::cin&gt;&gt;novi_sprat;
                try{
                vektorstanova[odabrani_stan-1].Postavi(adresa,novi_sprat,brsoba,namjesten,kvadratura);
                sprat=novi_sprat;
                std::cout&lt;&lt;"Stan uspjesno izmijenjen!"&lt;&lt;std::endl;
                }
                catch(std::domain_error e){
                    std::cout&lt;&lt;"Izuzetak: "&lt;&lt;e.what()&lt;&lt;". Molimo unesite opet."&lt;&lt;std::endl;
                    std::cin.clear();
                    std::cin.ignore(1000,'\n');
                    goto ponovo_sprat;
                    }
                }
            else if(opcija2==3){
                int novi_broj_soba;
                ponovo_sobe:
                std::cout&lt;&lt;"Unesite broj soba: ";
                std::cin&gt;&gt;novi_broj_soba;
                try{
                vektorstanova[odabrani_stan-1].Postavi(adresa,sprat,novi_broj_soba,namjesten,kvadratura);
                brsoba=novi_broj_soba;
                std::cout&lt;&lt;"Stan uspjesno izmijenjen!"&lt;&lt;std::endl;    
                }
                catch(std::domain_error e){
                    std::cout&lt;&lt;"Izuzetak: "&lt;&lt;e.what()&lt;&lt;". Molimo unesite opet."&lt;&lt;std::endl;
                    std::cin.clear();
                    std::cin.ignore(1000,'\n');
                    goto ponovo_sobe;
            }
            }
            else if(opcija2==4){
                bool novi_namjesten;
                int namjestenko;
                ponovo_namjesten:
                std::cout&lt;&lt;"Da li je stan namjesten (1 - da, 0 - ne): ";
                std::cin&gt;&gt;namjestenko;
                try{
                    if(namjestenko!=1 &amp;&amp; namjestenko!=0) throw std::domain_error("Neispravan unos podataka");
                    if(namjestenko==1) novi_namjesten=true;
                    if(namjestenko==0) novi_namjesten=false;
                    vektorstanova[odabrani_stan-1].Postavi(adresa,sprat,brsoba,novi_namjesten,kvadratura);
                    namjesten=novi_namjesten;
                    std::cout&lt;&lt;"Stan uspjesno izmijenjen!"&lt;&lt;std::endl;
                }
                catch(std::domain_error e){
                    std::cout&lt;&lt;"Izuzetak: "&lt;&lt;e.what()&lt;&lt;". Molimo unesite opet."&lt;&lt;std::endl;
                    std::cin.clear();
                    std::cin.ignore(1000,'\n');
                    goto ponovo_namjesten;
            }
            }
            else if(opcija2==5){
                double nova_kvadratura;
                ponovo_kvadratura:
                std::cout&lt;&lt;"Unesite kvadraturu: ";
                std::cin&gt;&gt;nova_kvadratura;
                try{
                    if(nova_kvadratura&lt;0) throw std::domain_error("Neispravan unos podataka");
                    vektorstanova[odabrani_stan-1].Postavi(adresa,sprat,brsoba,namjesten,nova_kvadratura);
                    kvadratura=nova_kvadratura;
                    std::cout&lt;&lt;"Stan uspjesno izmijenjen!"&lt;&lt;std::endl;
                }
                catch(std::domain_error e){
                    std::cout&lt;&lt;"Izuzetak: "&lt;&lt;e.what()&lt;&lt;". Molimo unesite opet."&lt;&lt;std::endl;
                    std::cin.clear();
                    std::cin.ignore(1000,'\n');
                    goto ponovo_kvadratura;
                }
            }
            else if(opcija2==6){
                std::string nova_adresa;
                int novi_sprat;
                int novi_brsoba;
                bool novi_namjesten;
                double novi_kvadratura;
                novo_sve:
<a name="3"></a><font color="#00FFFF"><a href="match174-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_0.gif"/></a>

                std::cin.clear();
                std::cin.ignore(1000,'\n');
                std::cout&lt;&lt;"Unesite adresu: ";
                std::getline(std::cin,nova_adresa);
                std::cout&lt;&lt;"Unesite sprat: ";
                std::cin&gt;&gt;novi_sprat;
                std::cout&lt;&lt;"Unesite broj soba: ";
</font>                std::cin&gt;&gt;novi_brsoba;
                std::cout&lt;&lt;"Da li je stan namjesten (1 - da, 0 - ne): ";
                std::cin&gt;&gt;novi_namjesten;
                std::cin.clear();
                std::cin.ignore(1000,'\n');
                std::cout&lt;&lt;"Unesite kvadraturu: ";
                std::cin&gt;&gt;novi_kvadratura;
                try{
                    vektorstanova[odabrani_stan-1].Postavi(nova_adresa,novi_sprat,novi_brsoba,novi_namjesten,novi_kvadratura);
                    adresa=nova_adresa; sprat=novi_sprat; brsoba=novi_brsoba; namjesten=novi_namjesten; kvadratura=novi_kvadratura;
                    std::cout&lt;&lt;"Stan uspjesno izmijenjen!"&lt;&lt;std::endl;
                }
                catch(std::domain_error e){
                    std::cout&lt;&lt;"Izuzetak: "&lt;&lt;e.what()&lt;&lt;". Molimo unesite ponovo"&lt;&lt;std::endl;
                    goto novo_sve;
                }
            }
        }
        
    }}  //ovdje gotova za stan svasta nesto
    else if(opcija==2){
        for(;;){
            int opcija1;
            std::cout&lt;&lt;"Izaberite opciju:"&lt;&lt;std::endl;
            std::cout&lt;&lt;" 0 - nazad"&lt;&lt;std::endl&lt;&lt;" 1 - dodavanje kupca"&lt;&lt;std::endl&lt;&lt;" 2 - uredjivanje kupaca"&lt;&lt;std::endl&lt;&lt;" 3 - ispis svih kupaca"&lt;&lt;std::endl&lt;&lt;" 4 - kraj"&lt;&lt;std::endl;
            std::cin&gt;&gt;opcija1;
            if(opcija1==0) goto jodja;
            else if(opcija1==4) return 0;
            else if(opcija1==1){
                jodja4:
                char c1,c2;
                std::cin.clear();
                std::cin.ignore(1000,'\n');
                try{
                std::cout&lt;&lt;"Unesite ime i prezime kupca: ";
                std::getline(std::cin,ime_i_prezime_kupca);
                std::cout&lt;&lt;"Unesite datum rodjenja (formata d/m/g): ";
                std::cin&gt;&gt;dan;
                std::cin&gt;&gt;c1;
                if(c1!='/') throw std::domain_error("Neispravan unos podataka");
                std::cin&gt;&gt;mjesec;
                std::cin&gt;&gt;c2;
                if(c2!='/') throw std::domain_error("Neispravan unos podataka");
                std::cin&gt;&gt;godina;
                
                Datum datummrodjenja(dan,mjesec,godina);
                Kupac kupac(ime_i_prezime_kupca,datummrodjenja);
                vektorkupaca.push_back(kupac);
                std::cout&lt;&lt;"Kupac je uspjesno dodan!"&lt;&lt;std::endl;
                }
                catch(std::domain_error e){
                    std::cout&lt;&lt;"Izuzetak: "&lt;&lt;e.what()&lt;&lt;". Molimo unesite ponovo."&lt;&lt;std::endl;
                    goto jodja4;
                }
            
            }
            else if(opcija1==3){
                for(int i(0);i&lt;vektorkupaca.size();i++){
                    vektorkupaca[i].Ispisi();
                }
            }
            else if(opcija1==2){
<a name="20"></a><font color="#FF0000"><a href="match174-1.html#20" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_0.gif"/></a>

                std::cout&lt;&lt;"Odaberite kupca koje zelite urediti. Dostupni kupci su:"&lt;&lt;std::endl;
                for(int i(0);i&lt;vektorkupaca.size();i++){
                    std::cout&lt;&lt;i+1&lt;&lt;" - ";
</font>                    vektorkupaca[i].Ispisi();
                }
                int odabrani_kupac;
                std::cin&gt;&gt;odabrani_kupac;
                isponove:
                char c1,c2;
                std::cout&lt;&lt;"Unesite ime i prezime kupca: ";
                std::string novo_ime;
                std::cin.clear();
                std::cin.ignore(1000,'\n');
                std::getline(std::cin,novo_ime);
                std::cout&lt;&lt;"Unesite datum rodjenja (formata d/m/g):";
                try{
                int novi_dan,novi_mjesec,nova_godina;
                std::cin&gt;&gt;novi_dan;
                std::cin&gt;&gt;c1; if(c1!='/') throw std::domain_error("Neispravan unos podataka");
                std::cin&gt;&gt;novi_mjesec;
                std::cin&gt;&gt;c2; if(c2!='/') throw std::domain_error("Neispravan unos podataka");
                std::cin&gt;&gt;nova_godina;
                
                    Datum novidatum(novi_dan,novi_mjesec,nova_godina);
                    vektorkupaca[odabrani_kupac-1].Postavi(novo_ime,novidatum);
                    ime_i_prezime_kupca=novo_ime;
                    dan=novi_dan; mjesec=novi_mjesec; godina=nova_godina;
                    std::cout&lt;&lt;"Kupac je uspjesno izmijenjen!"&lt;&lt;std::endl;
                }
                catch(std::domain_error e){
                    std::cout&lt;&lt;"Izuzetak: "&lt;&lt;e.what()&lt;&lt;". Molimo unesite ponovo."&lt;&lt;std::endl;
                    goto isponove;
                }
                
            }
            
        }
    }
    else if(opcija==3){
        for(;;){
            int opcija1;
            jodjara:
            std::cout&lt;&lt;"Izaberite opciju:"&lt;&lt;std::endl;
            std::cout&lt;&lt;" 0 - nazad"&lt;&lt;std::endl&lt;&lt;" 1 - dodavanje prodaje"&lt;&lt;std::endl&lt;&lt;" 2 - uredjivanje prodaje"&lt;&lt;std::endl&lt;&lt;" 3 - ispis prodaja"&lt;&lt;std::endl&lt;&lt;" 4 - brisanje prodaja"&lt;&lt;std::endl&lt;&lt;" 5 - kraj"&lt;&lt;std::endl;
            std::cin&gt;&gt;opcija1;
            if(opcija1==0) goto jodja;
            else if(opcija1==5) return 0;
            else if(opcija1==1){
                int opcija2;
                jodjica:
                std::cout&lt;&lt;"Izaberite opciju:"&lt;&lt;std::endl;
                std::cout&lt;&lt;" 0 - nazad"&lt;&lt;std::endl&lt;&lt;" 1 - dodavanje potpuno nove prodaje"&lt;&lt;std::endl&lt;&lt;" 2 - dodavanje nove prodaje na osnovu arhive"&lt;&lt;std::endl&lt;&lt;" 3 - kraj"&lt;&lt;std::endl;
                std::cin&gt;&gt;opcija2;
                if(opcija2==0) goto jodjara;
                else if(opcija2==3) return 0;
                else if(opcija2==1){
                    ponovno:
                    char c1,c2,c3,c4;
                    try{ 
                    std::cin.clear();
<a name="14"></a><font color="#FF00FF"><a href="match174-1.html#14" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_0.gif"/></a>

                    std::cin.ignore(1000,'\n');
                    std::cout&lt;&lt;"Unesite ime i prezime agenta prodaje: ";
                    std::getline(std::cin,ime_i_prezime_agenta);
                    std::cout&lt;&lt;"Unesite datum prodaje (formata d/m/g): ";
                    std::cin&gt;&gt;danprodaje;
</font>                    std::cin&gt;&gt;c1;
                    if(c1!='/') throw std::domain_error("Neispravan unos podataka ");
                    std::cin&gt;&gt;mjesecprodaje;
                    std::cin&gt;&gt;c2;
                    if(c2!='/') throw std::domain_error("Neispravan unos podataka ");
                    std::cin&gt;&gt;godinaprodaje;
                    std::cout&lt;&lt;"Unesite cijenu stana: ";
                    std::cin&gt;&gt;cijena;
                    std::cout&lt;&lt;"Unesite ime kupca: ";
                    std::cin.clear();
                    std::cin.ignore(1000,'\n');
                    std::getline(std::cin,ime_i_prezime_kupca);
                    std::cout&lt;&lt;"Unesite datum rodjenja kupca (formata d/m/g): ";
                    std::cin&gt;&gt;dan;
                    std::cin&gt;&gt;c3;
                    if(c3!='/') throw std::domain_error("Neispravan unos podataka");
                    std::cin&gt;&gt;mjesec;
                    std::cin&gt;&gt;c4;
                    if(c4!='/') throw std::domain_error("Neispravan unos podataka");
                    std::cin&gt;&gt;godina;
                    std::cin.clear();
                    std::cin.ignore(1000,'\n');
                    std::cout&lt;&lt;"Unesite adresu: ";
                    std::getline(std::cin,adresa);
                    std::cout&lt;&lt;"Unesite sprat: ";
                    std::cin&gt;&gt;sprat;
                    std::cout&lt;&lt;"Unesite broj soba: ";
                    std::cin&gt;&gt;brsoba;
<a name="21"></a><font color="#00FF00"><a href="match174-1.html#21" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_0.gif"/></a>

                    std::cout&lt;&lt;"Da li je stan namjesten (1 - da, 0 - ne): ";
                    std::cin&gt;&gt;namjesten;
                    std::cout&lt;&lt;"Unesite kvadraturu: ";
                    std::cin&gt;&gt;kvadratura;
                    Datum datummrodjenja(dan,mjesec,godina);
</font>                    Datum datumprodaje(danprodaje,mjesecprodaje,godinaprodaje);
                    Kupac kupac(ime_i_prezime_kupca,datummrodjenja);
                    vektorkupaca.push_back(kupac);
                    Stan stan(adresa,sprat,brsoba,namjesten,kvadratura);
                    vektorstanova.push_back(stan);
                    Prodaja prodaja(ime_i_prezime_agenta,cijena,datumprodaje,kupac,stan);
                    vektorprodaja.push_back(prodaja);
                    std::cout&lt;&lt;"Prodaja uspjesno dodana!"&lt;&lt;std::endl;
                    goto jodjica;
                    }
                    catch(std::domain_error e){
                        std::cout&lt;&lt;"Izuzetak: "&lt;&lt;e.what()&lt;&lt;". Molimo unesite ponovo:"&lt;&lt;std::endl;
                        goto ponovno;
                    }
                }
                else if(opcija2==2){
                    char c1,c2;
                    ponovi:
                    try{
                    std::cin.clear();
<a name="15"></a><font color="#FF0000"><a href="match174-1.html#15" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_0.gif"/></a>

                    std::cin.ignore(1000,'\n');
                    std::cout&lt;&lt;"Unesite ime i prezime agenta prodaje: ";
                    std::getline(std::cin,ime_i_prezime_agenta);
                    std::cout&lt;&lt;"Unesite datum prodaje (formata d/m/g): ";
                    std::cin&gt;&gt;danprodaje;
</font>                    std::cin&gt;&gt;c1;
                    if(c1!='/') throw std::domain_error("Neispravan unos podataka");
                    std::cin&gt;&gt;mjesecprodaje;
                    std::cin&gt;&gt;c2;
                    if(c2!='/') throw std::domain_error("Neispravan unos podataka");
                    std::cin&gt;&gt;godinaprodaje;
                    std::cout&lt;&lt;"Unesite cijenu stana: ";
                    std::cin&gt;&gt;cijena;
<a name="11"></a><font color="#00FF00"><a href="match174-1.html#11" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_0.gif"/></a>

                    std::cout&lt;&lt;"Odaberite kupca. Dostupni kupci su:"&lt;&lt;std::endl;
                    for(int i(0);i&lt;vektorkupaca.size();i++){
                        std::cout&lt;&lt;" "&lt;&lt;i+1&lt;&lt;" - ";
                        vektorkupaca[i].Ispisi();
</font>                        }
<a name="6"></a><font color="#00FF00"><a href="match174-1.html#6" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_0.gif"/></a>

                    int odabrani_kupac;
                    std::cin&gt;&gt;odabrani_kupac;
                    
                    std::cout&lt;&lt;"Odaberite stan. Dostupni stanovi su:"&lt;&lt;std::endl;
                    for(int i(0);i&lt;vektorstanova.size();i++){
                        std::cout&lt;&lt;" "&lt;&lt;i+1&lt;&lt;" - ";
</font>                        vektorstanova[i].Ispisi();
                    }
                    int odabrani_stan;
                    std::cin&gt;&gt;odabrani_stan;
                    Datum rodjenje=vektorkupaca[odabrani_kupac-1].DajDatumRodjenja();
                    std::string kupitelj=vektorkupaca[odabrani_kupac-1].DajImePrezime();
                    std::string adresitelj=vektorstanova[odabrani_stan-1].DajAdresu();
<a name="22"></a><font color="#0000FF"><a href="match174-1.html#22" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_0.gif"/></a>

                    Prodaja prodaja(ime_i_prezime_agenta,cijena,danprodaje,mjesecprodaje,godinaprodaje,kupitelj,rodjenje,adresitelj,vektorstanova[odabrani_stan-1].DajSprat(),vektorstanova[odabrani_stan-1].DajBrojSoba(),vektorstanova[odabrani_stan-1].DajNamjesten(),vektorstanova[odabrani_stan-1].DajKvadraturu());
</font>                    vektorprodaja.push_back(prodaja);
                    std::cout&lt;&lt;"Prodaja uspjesno dodana!"&lt;&lt;std::endl;
                    goto jodjica;
                    }
                    catch(std::domain_error e){
                        std::cout&lt;&lt;"Izuzetak: "&lt;&lt;e.what()&lt;&lt;". Molimo unesite ponovo."&lt;&lt;std::endl;
                        goto ponovi;
                    }
                }
            }
            else if(opcija1==2){
                
                int opcija2;
                int odabranaprodaja;
<a name="5"></a><font color="#FF0000"><a href="match174-1.html#5" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_0.gif"/></a>

                std::cout&lt;&lt;"Odaberite prodaju koju zelite urediti. Dostupne prodaje su:"&lt;&lt;std::endl;
                for(int i(0);i&lt;vektorprodaja.size();i++){
                    std::cout&lt;&lt;i+1&lt;&lt;"."&lt;&lt;std::endl;
</font>                    vektorprodaja[i].Ispisi();
                }
                std::cin&gt;&gt;odabranaprodaja;
                nazad:
                std::cout&lt;&lt;"Izaberite opciju:"&lt;&lt;std::endl;
                std::cout&lt;&lt;" 0 - nazad"&lt;&lt;std::endl&lt;&lt;" 1 - izmjena agenta"&lt;&lt;std::endl&lt;&lt;" 2 - izmjena datuma prodaje"&lt;&lt;std::endl&lt;&lt;" 3 - izmjena kupca"&lt;&lt;std::endl&lt;&lt;" 4 - izmjena stana"&lt;&lt;std::endl&lt;&lt;" 5 - izmjena cijene stana"&lt;&lt;std::endl;
                std::cin&gt;&gt;opcija2;
                if(opcija2==0) goto jodjara;
                else if(opcija2==1){
                    std::string novi_agent;
                    std::cin.clear();
                    std::cin.ignore(1000,'\n');
                    std::cout&lt;&lt;"Unesite ime i prezime agenta prodaje:";
                    std::getline(std::cin,novi_agent);
                    vektorprodaja[odabranaprodaja-1].DajImeAgenta()=novi_agent;
                    std::cout&lt;&lt;"Prodaja je uspjesno izmijenjena!"&lt;&lt;std::endl;
                    }
                else if(opcija2==2){
                    ispocetka:
                    try{
                    int nov_dan,nov_mjesec,nov_godina;
                    char c1,c2;
                    std::cout&lt;&lt;"Unesite datum prodaje (formata d/m/g):";
                    std::cin&gt;&gt;nov_dan;
                    std::cin&gt;&gt;c1;
                    if(c1!='/') throw std::domain_error("Neispravan unos podataka");
                    std::cin&gt;&gt;nov_mjesec;
                    std::cin&gt;&gt;c2;
                    if(c2!='/') throw std::domain_error("Neispravan unos podataka");
                    std::cin&gt;&gt;nov_godina;
                    Datum nov_datum(nov_dan,nov_mjesec,nov_godina);
                    vektorprodaja[odabranaprodaja-1].PromijeniDatumKupovine(nov_datum);
                    std::cout&lt;&lt;"Prodaja uspjesno izmijenjena!"&lt;&lt;std::endl;
                    }
                    catch(std::domain_error e){
                        std::cout&lt;&lt;"Izuzetak: "&lt;&lt;e.what()&lt;&lt;". Molimo unesite ponovo."&lt;&lt;std::endl;
                        std::cin.clear();
                        std::cin.ignore(1000,'\n');
                        goto ispocetka;
                    }
                }
                else if(opcija2==3){
                    int opcija3;
                    std::cout&lt;&lt;"Izaberite opciju:"&lt;&lt;std::endl;
                    std::cout&lt;&lt;" 0 - nazad"&lt;&lt;std::endl&lt;&lt;" 1 - odabir postojeceg kupca"&lt;&lt;std::endl&lt;&lt;" 2 - dodavanje novog kupca"&lt;&lt;std::endl;
                    std::cin&gt;&gt;opcija3;
                    if(opcija3==0) goto nazad;
                    if(opcija3==1){
                        int odabranikupac;
<a name="12"></a><font color="#0000FF"><a href="match174-1.html#12" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_0.gif"/></a>

                        std::cout&lt;&lt;"Odaberite kupca. Dostupni kupci su:"&lt;&lt;std::endl;
                        for(int i(0);i&lt;vektorkupaca.size();i++){
                            std::cout&lt;&lt;" "&lt;&lt;i+1&lt;&lt;" - ";
                            vektorkupaca[i].Ispisi();
</font>                        }
                        
                        std::cin&gt;&gt;odabranikupac;
                        mela:
                        try{
                        std::cout&lt;&lt;"Unesite ime i prezime kupca: ";
                        std::cin.clear();
                        std::cin.ignore(1000,'\n');
<a name="19"></a><font color="#FF00FF"><a href="match174-1.html#19" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_0.gif"/></a>

                        std::string novikupac;
                        std::getline(std::cin,novikupac);
                        std::cout&lt;&lt;"Unesite datum rodjenja (formata dan/mjesec/godina): ";
                        int dan,mjesec,godina;
                        char c,cc;
                        std::cin&gt;&gt;dan;
</font>                        std::cin&gt;&gt;c; if(c!='/') throw std::domain_error("Neispravan unos podataka");
                        std::cin&gt;&gt;mjesec;
                        std::cin&gt;&gt;cc; if(cc!='/') throw std::domain_error("Neispravan unos podataka");
                        std::cin&gt;&gt;godina;
                        Datum dat(dan,mjesec,godina);
                        Kupac novi(novikupac,dat);
                        vektorprodaja[odabranikupac-1].PromijeniKupca(novi);
                        std::cout&lt;&lt;"Prodaja uspjesno izmijenjena!"&lt;&lt;std::endl;
                        }
                        catch(std::domain_error e){
                            std::cout&lt;&lt;"Izuzetak: "&lt;&lt;e.what()&lt;&lt;". Molimo unesite opet."&lt;&lt;std::endl;
                            goto mela;
                        }
                    }
                    else if(opcija3==2){
                        prkno:
                        char ch,cha;
                        int d,m,g;
                        std::string novinejm;
                        std::cin.clear();
                        std::cin.ignore(1000,'\n');
                        try{
                            std::cout&lt;&lt;"Uneiste ime i prezime kupca: ";
                            std::getline(std::cin,novinejm);
                            std::cout&lt;&lt;"Unesite datum rodjenja (formata d/m/g): ";
                            std::cin&gt;&gt;d;
                            std::cin&gt;&gt;ch; if(ch!='/') throw std::domain_error("Neispravan unos podataka");
                            std::cin&gt;&gt;m;
                            std::cin&gt;&gt;cha; if(cha!='/') throw std::domain_error("Neispravan unos podataka");
                            std::cin&gt;&gt;g;
                            Datum datu(d,m,g);
                            Kupac kup(novinejm,datu);
                            vektorkupaca.push_back(kup);
                            std::cout&lt;&lt;"Kupac je uspjesno dodan!"&lt;&lt;std::endl;
                        }
                        catch(std::domain_error e){
                            std::cout&lt;&lt;"Izuzetak: "&lt;&lt;e.what()&lt;&lt;". Molimo unesite ponovo."&lt;&lt;std::endl;
                           // std::cin.clear();
                            //std::cin.ignore(1000,'\n');
                            goto prkno;
                        }
                    }
                }
                else if(opcija2==4){
                    int opcija3;
                    std::cout&lt;&lt;"Izaberite opciju:"&lt;&lt;std::endl;
                    std::cout&lt;&lt;" 0 - nazad"&lt;&lt;std::endl&lt;&lt;" 1 - odabir postojeceg stana"&lt;&lt;std::endl&lt;&lt;" 2 - dodavanje novog stana"&lt;&lt;std::endl;
                    std::cin&gt;&gt;opcija3;
                    if(opcija3==0) goto nazad;
                    else if(opcija3==1){
                        int odabranistan;
<a name="23"></a><font color="#00FFFF"><a href="match174-1.html#23" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_0.gif"/></a>

                        std::cout&lt;&lt;"Odaberite stan. Dostupni stanovi su:"&lt;&lt;std::endl;
                        for(int i(0);i&lt;vektorstanova.size();i++){
                            std::cout&lt;&lt;" "&lt;&lt;i+1&lt;&lt;" - ";
</font>                            vektorstanova[i].Ispisi();
                        }
                        
                        std::cin&gt;&gt;odabranistan;
                        mella:
                        try{
                            std::cout&lt;&lt;"Unesite adresu: ";
                            std::cin.clear();
                            std::cin.ignore(1000,'\n');
<a name="4"></a><font color="#FF00FF"><a href="match174-1.html#4" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_0.gif"/></a>

                            std::string novaadresa;
                            std::getline(std::cin,novaadresa);
                            std::cout&lt;&lt;"Unesite sprat: ";
                            int novisprat;
                            std::cin&gt;&gt;novisprat;
                            std::cout&lt;&lt;"Unesite broj soba: ";
                            int novibrsoba;
                            std::cin&gt;&gt;novibrsoba;
                            std::cout&lt;&lt;"Da li je stan namjesten (1 - da, 0 - ne): ";
</font>                            bool novinamjesten;
                            std::cin&gt;&gt;novinamjesten;
                            std::cout&lt;&lt;"Unesite kvadraturu: ";
                            double novakvadratura;
                            std::cin&gt;&gt;novakvadratura;
                            Stan novistan(novaadresa,novisprat,novibrsoba,novinamjesten,novakvadratura);
                            vektorprodaja[odabranistan-1].PromijeniStan(novistan);
                            std::cout&lt;&lt;"Prodaja je uspjesno izmijenjena!"&lt;&lt;std::endl;
                        }
                        catch(std::domain_error e){
                            std::cout&lt;&lt;"Izuzetak: "&lt;&lt;e.what()&lt;&lt;". Molimo unesite ponovo."&lt;&lt;std::endl;
                            goto mella;
                        }
                    }
                    else if(opcija3==2){
                        povratak:
                        std::string adresica;
                        int sobe;
                        int spratt;
                        bool namjestenn;
                        double kvadrat;
                        std::cin.clear();
                        std::cin.ignore(1000,'\n');
                        try{
                            std::cout&lt;&lt;"Unesite adresu: ";
                            std::getline(std::cin,adresica);
                            std::cout&lt;&lt;"Unesite sprat: ";
                            std::cin&gt;&gt;spratt;
                            std::cout&lt;&lt;"Unesite broj soba: ";
                            std::cin&gt;&gt;sobe;
<a name="24"></a><font color="#FF00FF"><a href="match174-1.html#24" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_0.gif"/></a>

                            std::cout&lt;&lt;"Da li je namjesten (1 - da, 0 - ne): ";
                            std::cin&gt;&gt;namjestenn;
                            std::cout&lt;&lt;"Unesite kvadraturu: ";
                            std::cin&gt;&gt;kvadrat;
                            Stan noviji(adresica,spratt,sobe,namjestenn,kvadrat);
</font>                            vektorstanova.push_back(noviji);
                            std::cout&lt;&lt;"Stan je uspjesno dodan!"&lt;&lt;std::endl;
                        }
                        catch(std::domain_error e){
                            std::cout&lt;&lt;"Izuzetak: "&lt;&lt;e.what()&lt;&lt;". Molimo unesite ponovo"&lt;&lt;std::endl;
                            goto povratak;
                        }
                    }
                }
                else if(opcija2==5){
                    cijena:
                    double cijenastana;
                    std::cout&lt;&lt;"Unesite cijenu stana: ";
                    std::cin&gt;&gt;cijenastana;
                    try{
                    vektorprodaja[odabranaprodaja-1].PromijeniCijenuProdaje(cijenastana);
                    std::cout&lt;&lt;"Prodaja je uspjesno izmijenjena!"&lt;&lt;std::endl;}
                    catch(std::domain_error e){
                        std::cout&lt;&lt;"Izuzetak: "&lt;&lt;e.what()&lt;&lt;". Molimo unesite opet."&lt;&lt;std::endl;
                        std::cin.clear();
                        std::cin.ignore(1000,'\n');
                        goto cijena;
                    }
                }
            }
            else if(opcija1==3){
                int opcija2(0);
                oaaaa:
                std::cout&lt;&lt;"Izaberite opciju:"&lt;&lt;std::endl;
                std::cout&lt;&lt;" 0 - nazad"&lt;&lt;std::endl&lt;&lt;" 1 - ispis svih prodaja"&lt;&lt;std::endl&lt;&lt;" 2 - ispis prodaja na datum"&lt;&lt;std::endl&lt;&lt;" 3 - ispis najranije prodaje"&lt;&lt;std::endl&lt;&lt;" 4 - ispis najskuplje prodaje"&lt;&lt;std::endl&lt;&lt;" 5 - ispis broja prodaja"&lt;&lt;std::endl&lt;&lt;" 6 - ispis broja prodaja po datumu"&lt;&lt;std::endl&lt;&lt;" 7 - ispis broj prodaja po agentu"&lt;&lt;std::endl&lt;&lt;" 8 - kraj"&lt;&lt;std::endl;
                std::cin&gt;&gt;opcija2;
                if (opcija2==0) goto jodjara;
                else if(opcija2==8) return 0;
                else if(opcija2==1){
                    for(int i(0);i&lt;vektorprodaja.size();i++){
                        vektorprodaja[i].Ispisi();
                    }
                    goto oaaaa;
                }
                else if(opcija2==2){
                    int da,mjes,god;
                    char k1,k2;
                    std::cout&lt;&lt;"Unesite datum (d/m/g): ";
                    std::cin&gt;&gt;da;
                    std::cin&gt;&gt;k1; if(k1!='/') throw std::domain_error("Neispravan unos podataka");
                    std::cin&gt;&gt;mjes;
                    std::cin&gt;&gt;k2; if(k2!='/') throw std::domain_error("Neispravan unos podataka");
                    std::cin&gt;&gt;god;
                    Datum dat(da,mjes,god);
                    for(int i(0);i&lt;vektorprodaja.size();i++){
                        if(vektorprodaja[i].DajDatumProdaje().DajDan()==dat.DajDan() &amp;&amp; vektorprodaja[i].DajDatumProdaje().DajMjesec()==dat.DajMjesec() &amp;&amp; vektorprodaja[i].DajDatumProdaje().DajGodinu()==dat.DajGodinu()){
                            vektorprodaja[i].Ispisi();
                        }
                    }
                    goto oaaaa;
                    
                }
                else if(opcija2==3){
                   // auto novaprodaja=vektorprodaja[0];
                    for(int i(0);i&lt;vektorprodaja.size();i++){
                     //  if(novaprodaja.DajNajranijuProdaju()&lt;vektorprodaja[i].DajNajranijuProdaju()
                    }
                  //  novaprodaja-&gt;DajDatumProdaje()-&gt;DajDan().Ispisi(); 
                   // goto oaaaa;
                }
                else if(opcija2==4){
                    int k=1;
                    Prodaja novaprodaja=vektorprodaja[0];
                    for(int i(0);i&lt;vektorprodaja.size();i++){
                        if(SkupljiStan(vektorprodaja[i],vektorprodaja[k])==true) novaprodaja=vektorprodaja[i];
                        if(i==vektorprodaja.size()-1){
                            if(SkupljiStan(vektorprodaja[vektorprodaja.size()],vektorprodaja[i])==true) novaprodaja=vektorprodaja[vektorprodaja.size()];
                        }
                        k++;
                    }
                    novaprodaja.Ispisi();
                }
                else if(opcija2==5){
                    
                }
                else if(opcija2==6){
                    ponavljanje:
                    try{
                    std::cout&lt;&lt;"Unesite datum (d/m/g): ";
                    int d,m,g;
                    char c1,c2;
                    std::cin&gt;&gt;d;
                    std::cin&gt;&gt;c1; if(c1!='/') throw std::domain_error("Neispravan unos podataka");
                    std::cin&gt;&gt;m;
                    std::cin&gt;&gt;c2; if(c2!='/') throw std::domain_error("Neispravan unos podataka");
                    std::cin&gt;&gt;g;
                    Datum datum(d,m,g);
                    
                    }
                    catch(std::domain_error e){
                        std::cout&lt;&lt;"Izuzetak: "&lt;&lt;e.what()&lt;&lt;". Molimo unesite ponovo."&lt;&lt;std::endl;
                        std::cin.clear();
                        std::cin.ignore(1000,'\n');
                        goto ponavljanje;
                    }
                }
                else if(opcija2==7){
                    std::string imeagenta;
                    std::cout&lt;&lt;"Unesite ime agenta: ";
                    std::cin.clear();
                    std::cin.ignore(1000,'\n');
                    std::getline(std::cin,imeagenta);
                }
            }
            else if(opcija1==4){
                std::cout&lt;&lt;"Izaberite opciju:"&lt;&lt;std::endl;
                std::cout&lt;&lt;" 0 - nazad"&lt;&lt;std::endl&lt;&lt;" 1 - brisanje najranije prodaje"&lt;&lt;std::endl&lt;&lt;" 2 - brisanje prodaja agenta"&lt;&lt;std::endl&lt;&lt;" 3 - brisanje prodaja po datumu"&lt;&lt;std::endl&lt;&lt;" 4 - brisanje svih prodaja"&lt;&lt;std::endl;
            }
        }
    }
	return 0;
}</pre>
</body>
</html>
