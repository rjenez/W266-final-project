<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z4/student2421.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z4/student2421.cpp<p></p><pre>
<a name="1"></a><font color="#00FF00"><a href="match77-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_7.gif"/></a>

/B 2016/2017, ZadaÄ‡a 4, Zadatak 3
//Napomena: testovi ce biti dostupni dan pred rok!
#include &lt;iostream&gt;
#include&lt;string&gt;
#include&lt;iomanip&gt;
#include&lt;initializer_list&gt;
#include&lt;stdexcept&gt;
#include&lt;algorithm&gt;
#include&lt;memory&gt;
using namespace std; 

class Datum{
    
  int dan, mjesec, godina; 
  
  public:
  Datum(int d, int m, int g); 
  void Postavi(int d, int m, int g);
  int DajMjesec() const;
  int DajDan() const ;
  int DajGodinu() const;
  void Ispisi() const { cout&lt;&lt;"("&lt;&lt;dan&lt;&lt;"/"&lt;&lt;mjesec&lt;&lt; "/"&lt;&lt;godina&lt;&lt;")"; }

};
 Datum::Datum(int d, int m, int g)
  {
    int broj_dana[] {31, 28, 31, 30,31, 30, 31, 31, 30, 31, 30, 31};
</font>    if((g%4==0 &amp;&amp; g%100!=0) || g %400==0)
    broj_dana[1]++;
<a name="2"></a><font color="#0000FF"><a href="match77-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_4.gif"/></a>

    if(g &lt;1 || d&lt;1 || m&lt;1 || m&gt;12 || d&gt;broj_dana[m-1]) throw logic_error("Neispravan datum"); 
    dan=d;
    mjesec=m;
    godina=g;
  } 
  void Datum::Postavi(int d, int m, int g)
   {
    int broj_dana[] {31, 28, 31, 30,31, 30, 31, 31, 30, 31, 30, 31};
</font>    if(g%4==0 &amp;&amp; g%100!=0 || g %400==0)
    broj_dana[1]++;
<a name="0"></a><font color="#FF0000"><a href="match77-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_82.gif"/></a>

    if(g &lt;1 || d&lt;1 || m&lt;1 || m&gt;12 || d&gt;broj_dana[m-1]) throw logic_error("Neispravan datum"); 
    dan=d;
    mjesec=m;
    godina=g;
  }

int Datum::DajMjesec() const{return mjesec; }
int Datum::DajDan() const {return dan; }
int Datum:: DajGodinu() const {return godina;}

 

 class Kupac{
 string ime_i_prezime; 
 Datum datum_rodjenja; 
 
 public: 
 Kupac(const string &amp;ime_i_prezime, const Datum &amp;datum_rodjenja): datum_rodjenja(datum_rodjenja.DajDan(), datum_rodjenja.DajMjesec(), 
 datum_rodjenja.DajGodinu())
 {
  //for(int i=0; i&lt;ime_i_prezime.size(); i++) 
 Kupac::ime_i_prezime=ime_i_prezime; 
 }
 
 void Postavi (const string &amp;ime_i_prezime, const Datum &amp;datum_rodjenja){
  for(int i=0; i&lt;ime_i_prezime.size(); i++) 
  if( ((ime_i_prezime[i]&lt;'A'|| ime_i_prezime[i]&gt;'Z') || (ime_i_prezime[i]&lt;'a'|| ime_i_prezime[i]&gt;'z')
  || (ime_i_prezime[i]&lt;'0'|| ime_i_prezime[i]&gt;'9') || ime_i_prezime[i]=='-' || ime_i_prezime[i]==' ' || ime_i_prezime=="'"))
 Kupac::ime_i_prezime=ime_i_prezime; 
 Kupac::datum_rodjenja.Postavi(datum_rodjenja.DajDan(),datum_rodjenja.DajMjesec(), datum_rodjenja.DajGodinu());
 }
 string DajImePrezime() const{ return ime_i_prezime; }
 Datum DajDatumRodjenja() const {return datum_rodjenja; }
   void Ispisi() const{
     cout&lt;&lt;ime_i_prezime&lt;&lt;"("&lt;&lt;datum_rodjenja.DajDan()&lt;&lt;"/"&lt;&lt;datum_rodjenja.DajMjesec()&lt;&lt;"/"&lt;&lt;datum_rodjenja.DajGodinu()&lt;&lt;")"; 
   }
};

class Stan{
  string adresa;
  int sprat; 
  int broj_soba; 
  bool namjesten;
  double kvadratura; 
  public: 
  Stan (const string &amp;adresa, int sprat, int broj_soba, bool namjesten, double kvadratura)
{
  Stan::adresa=adresa; if(sprat&lt;0 || broj_soba&lt;0 || kvadratura&lt;0) throw domain_error("Neispravan unos podatka");
  Stan::sprat=sprat;  
  Stan::broj_soba=broj_soba; 
  Stan::namjesten=namjesten; 
  Stan::kvadratura=kvadratura; 
} 
void Postavi(const string &amp;adresa, int sprat, int broj_soba, bool namjesten, double kvadratura){
  if(sprat&lt;0 || broj_soba&lt;0 || kvadratura&lt;0) domain_error("Neispravan unos podatka"); 
  Stan::adresa=adresa; 
  Stan::sprat=sprat; 
  Stan::broj_soba=broj_soba; 
  Stan::namjesten=namjesten; 
  Stan::kvadratura=kvadratura; 
}
string  DajAdresu() const{return adresa;}
int DajSprat() const {return sprat; } 
int DajBrojSoba() const{return broj_soba; }
bool DajNamjesten() const{return namjesten; }
double DajKvadraturu() const{return kvadratura; }
void Ispisi() const;
};
void Stan::Ispisi() const {
 if(!namjesten){cout&lt;&lt;"Kvadratura stana je "&lt;&lt;kvadratura&lt;&lt;"(m^2) i stan nije namjesten."; }
  if(namjesten){cout&lt;&lt;"Kvadratura stana je "&lt;&lt;kvadratura&lt;&lt;"(m^2) i stan je namjesten.";}
    
 if(broj_soba==1){ cout&lt;&lt;"Stan se nalazi na adresi "&lt;&lt;adresa&lt;&lt;"na "&lt;&lt;sprat&lt;&lt;" spratu i ima 1 sobu."&lt;&lt;endl; }
 if(broj_soba==2 || broj_soba==3 || broj_soba==4){ 
  cout&lt;&lt;"Stan se nalazi na adresi "&lt;&lt;adresa&lt;&lt;" na "&lt;&lt;sprat&lt;&lt;" spratu i ima "&lt;&lt;broj_soba&lt;&lt;" sobe."&lt;&lt;endl; }
 else { cout&lt;&lt;"Stan se nalazi na adresi "&lt;&lt;adresa&lt;&lt;" na "&lt;&lt;sprat&lt;&lt;" spratu i ima "&lt;&lt;broj_soba&lt;&lt;" soba."&lt;&lt;endl; }
}

class Prodaja {
string ime_agenta_prodaja;
double cijena_stana; 
Datum datum_prodaje; 
Kupac kupac_stana; 
Stan kupljeni_stan;

public:
Prodaja(const string &amp;ime_agenta_prodaja, double cijena_stana, const Datum &amp;datum_prodaje, 
const Kupac &amp;kupac_stana,const Stan &amp;kupljeni_stan)
:
ime_agenta_prodaja(ime_agenta_prodaja),
cijena_stana(cijena_stana),
datum_prodaje(datum_prodaje.DajDan(),datum_prodaje.DajMjesec(),datum_prodaje.DajGodinu()),
kupac_stana(kupac_stana.DajImePrezime(),kupac_stana.DajDatumRodjenja()) ,
kupljeni_stan(kupljeni_stan.DajAdresu(),kupljeni_stan.DajSprat(),kupljeni_stan.DajBrojSoba(),kupljeni_stan.DajNamjesten(), kupljeni_stan.DajKvadraturu())
{}

Prodaja(const string &amp;ime_agenta_prodaja, double cijena_stana,
int dan_prodaje, int mjesec_prodaje, int godina_prodaje, 
string &amp;ime_kupca, const Datum &amp;datum_rodjenja_kupca, 
const string &amp;adresa_stana, int sprat_stana, int broj_soba,
bool namjesten_stan, double broj_kvadrata): 
ime_agenta_prodaja(ime_agenta_prodaja), cijena_stana(cijena_stana),
datum_prodaje(dan_prodaje, mjesec_prodaje, godina_prodaje), 
kupac_stana(ime_kupca, datum_rodjenja_kupca), 
kupljeni_stan(adresa_stana, sprat_stana, broj_soba, namjesten_stan, broj_kvadrata)
{}

void PromijeniKupca(const Kupac &amp; novi_kupac){
 kupac_stana.Postavi(novi_kupac.DajImePrezime(),novi_kupac.DajDatumRodjenja()); }
 void PromijeniDatumKupovine(const Datum &amp;novi_datum){
    datum_prodaje.Postavi(novi_datum.DajDan(), novi_datum.DajMjesec(),novi_datum.DajGodinu()); 
}
void PromijeniStan(const Stan &amp;novi_stan)
{
    kupljeni_stan.Postavi(novi_stan.DajAdresu(),novi_stan.DajSprat(),  novi_stan.DajBrojSoba(),
    novi_stan.DajNamjesten(), novi_stan.DajKvadraturu()); 
}

void PromijeniCijenuProdaje(const double&amp; nova_cijena){
    cijena_stana=nova_cijena; 
} 

string DajImeAgenta() const{return ime_agenta_prodaja;}
string DajImeKupca() const{return kupac_stana.DajImePrezime();}
Datum DajDatumProdaje() const{return datum_prodaje; } 
double DajCijenuStana() const {return cijena_stana; }

//friend bool ProdatPrije(const Prodaja &amp;p1, const Prodaja &amp;p2); 
//friend bool SkupljiStan(const Prodaja &amp;p1, const Prodaja &amp;p2); 

void PomjeriDanUnaprijed() {
    int broj_dana[] {31,28,31,30,31,30,31,31,30,31,30,31}; 
    int dan=datum_prodaje.DajDan(),  mjesec=datum_prodaje.DajMjesec(), godina=datum_prodaje.DajGodinu(); 
    if((godina%4==0 &amp;&amp; godina%100!=0) || godina %400==0)  
    broj_dana[1]++;
    dan++; 
    if(dan&gt;broj_dana[mjesec-1]) 
    {dan=1; mjesec++;  }
    if(mjesec&gt;12) mjesec=1, godina++; 
    datum_prodaje.Postavi(dan, mjesec, godina); 
}
void PomjeriDanUnazad(){
    int broj_dana[]  {31,28,31,30,31,30,31,31,30,31,30,31}; 
    int dan=datum_prodaje.DajDan(), mjesec=datum_prodaje.DajMjesec(),godina=datum_prodaje.DajGodinu(); 
    if((godina %4==0 &amp;&amp; godina%100!=0) || godina%400==0)  broj_dana[1]++;
    dan--; 
    if(dan&gt;0) dan=broj_dana[mjesec-2]; mjesec--; 
    if(mjesec&lt;0) mjesec=12; godina--; 
    
    datum_prodaje.Postavi(dan, mjesec, godina); 
}
 
 void Ispisi() const{
     cout&lt;&lt;"Ime agenta"&lt;&lt;ime_agenta_prodaja&lt;&lt;endl; 
     cout&lt;&lt;"Ime kupca";
     kupac_stana.Ispisi();
     cout&lt;&lt;endl; 
     cout&lt;&lt;"Zakazani datum prodaje";
     datum_prodaje.Ispisi(); 
     cout&lt;&lt;"Cijena stana:"&lt;&lt;cijena_stana&lt;&lt;endl; 
     cout&lt;&lt;"Informacije o stanu: "&lt;&lt;endl; 
     kupljeni_stan.Ispisi(); 
 }
};



class Prodaje{
 int stanje; 
 //initializer_list&lt;Prodaja&gt;stanje; 
 shared_ptr&lt;Prodaje&gt;pok; 
 public: 
 explicit Prodaje();
 
 Prodaje(initializer_list&lt;Prodaja&gt;spisak_prodaja){
    auto it=spisak_prodaja.begin();
 }
 
 Prodaje(const Prodaje &amp;prodaje):
     stanje(prodaje.stanje){} 

 Prodaje(Prodaje &amp;&amp; prodaje):stanje(prodaje.stanje), pok(prodaje.pok) {
      prodaje.stanje=0; 
 }
 Prodaje &amp; operator=(const Prodaje &amp;prodaje){
    if(this==&amp;prodaje) return *this; 
    shared_ptr&lt;Prodaje&gt;pok; 
    
    return *this; 
 } 
 Prodaje &amp;operator =(Prodaje &amp;&amp; prodaje){
    if(this==&amp;prodaje) return *this; 
    
    stanje=prodaje.stanje; 
    pok=prodaje.pok; 
    return *this; 
    
 }
 int DajBrojProdaja() const; 
 int DajBrojProdajaOdAgenta(const string &amp;ime_agenta) const; 
 Prodaja &amp;DajNajranijuProdaju(); 
 Prodaja DajNajranijuProdaju()const;
Prodaja &amp; DajNajskupljuProdaju();
Prodaja DajNajskupljuProdaju() const;


void ObrisiNajranijuProdaju() {
 if(stanje==0) throw range_error("Prazna kolekcija");
 Datum(1,2,3); 
}

};
int Prodaje::DajBrojProdaja() const{return stanje; }

Prodaja Prodaje::DajNajranijuProdaju() const{
 if(stanje==0) throw domain_error("Nema registiriranih prodaja");
}


Prodaja Prodaje::DajNajskupljuProdaju() const{
 if(stanje==0) throw domain_error("Nema registiriranih prodaja");
}

int main ()
{
 cout&lt;&lt;"Dobrodosli!"; 
 cout&lt;&lt;"Izaberite opciju:"; 
 
 
  Datum d(2,3,1997);
  Kupac k("Amina", d); 
  Prodaje(); 
  k.Ispisi();
</font>	return 0;
}
</pre>
</body>
</html>
