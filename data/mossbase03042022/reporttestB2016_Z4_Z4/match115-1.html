<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z4/student3331.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z4/student4124.cpp<p></p><pre>
/B 2016/2017, Zadaća 4, Zadatak 3
//Napomena: testovi ce biti dostupni dan pred rok!
#include &lt;iostream&gt;
#include &lt;stdexcept&gt;
#include &lt;string&gt;
#include &lt;iomanip&gt;
#include &lt;initializer_list&gt;
#include &lt;algorithm&gt;
#include &lt;vector&gt;
#include &lt;memory&gt;

class Datum {
    int dan, mjesec, godina;
    static void TestDatum(int d, int m, int g) {
        int broj_dana[]{31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31};
        if((g%4==0 and g%100!=0) or g%400==0) broj_dana[1]++;
        if(g&lt;1 or m&lt;1 or m&gt;12 or d&lt;1 or d&gt;broj_dana[m-1])
            throw std::domain_error("Neispravan datum");
    }
public:
    Datum(int dan, int mjesec, int godina) { Postavi(dan,mjesec,godina); }
    void Postavi(int dan, int mjesec, int godina) {
        TestDatum(dan, mjesec, godina);
        Datum::dan=dan;
        Datum::mjesec=mjesec;
        Datum::godina=godina;
    }
    int DajDan() const {return dan;}
    int DajMjesec() const {return mjesec;}
    int DajGodinu() const {return godina;}
<a name="19"></a><font color="#FF00FF"><a href="match115-0.html#19" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_0.gif"/></a>

    void Ispisi() const {std::cout &lt;&lt; dan &lt;&lt; "/" &lt;&lt; mjesec &lt;&lt; "/" &lt;&lt; godina;}
};

class Kupac {
    std::string ime_i_prezime;
    Datum datum_rodjenja;
</font>    static void TestImePrezime(const std::string &amp;ime_i_prezime) {
        for(char x : ime_i_prezime)
            if(!((x&gt;='A' and x&lt;='Z') or (x&gt;='a' and x&lt;='z') or x==' ' or x=='"' or x=='-'))
                throw std::domain_error("Neispravno ime i prezime");
    }
public:
    Kupac(const std::string &amp;ime_i_prezime, const Datum &amp;datum_rodjenja) : datum_rodjenja(datum_rodjenja) {
        Kupac::ime_i_prezime = ime_i_prezime;
    }
    void Postavi(const std::string &amp;ime_i_prezime, const Datum &amp;datum_rodjenja) {
        TestImePrezime(ime_i_prezime);
        Kupac::ime_i_prezime=ime_i_prezime;
        Kupac::datum_rodjenja=datum_rodjenja;
    }
    std::string DajImePrezime() const {return ime_i_prezime;}
    Datum DajDatumRodjenja() const{return datum_rodjenja;}
<a name="20"></a><font color="#FF0000"><a href="match115-0.html#20" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_0.gif"/></a>

    void Ispisi() const { std::cout &lt;&lt; ime_i_prezime &lt;&lt; " ("; datum_rodjenja.Ispisi(); std::cout &lt;&lt; ")";}
};

class Stan {
    std::string adresa;
    int sprat, broj_soba;
</font>    bool namjesten;
    double kvadratura;
public:
    Stan(const std::string &amp;adresa, int sprat, int broj_soba, bool namjesten, double kvadratura) {
        Postavi(adresa, sprat, broj_soba, namjesten, kvadratura);
    }
    void Postavi(const std::string &amp;adresa, int sprat, int broj_soba, bool namjesten, double kvadratura) {
<a name="21"></a><font color="#00FF00"><a href="match115-0.html#21" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_0.gif"/></a>

        if(sprat&lt;0 or broj_soba&lt;0 or kvadratura&lt;0) throw std::domain_error("Neispravan unos podataka");
        Stan::adresa=adresa;
        Stan::sprat=sprat;
        Stan::broj_soba=broj_soba;
        Stan::namjesten=namjesten;
</font>        Stan::kvadratura=kvadratura;
    }
    std::string DajAdresu() const {return adresa;}
    int DajSprat() const {return sprat;}
    int DajBrojSoba() const {return broj_soba;}
    bool DajNamjesten() const {return namjesten;}
    double DajKvadraturu() const {return kvadratura;}
    void Ispisi() const;
};

void Stan::Ispisi() const {
    std::cout &lt;&lt; "Stan se nalazi na adresi " &lt;&lt; adresa &lt;&lt; " na " &lt;&lt; sprat &lt;&lt; ". spratu i ima " &lt;&lt; broj_soba &lt;&lt; " ";
    if(broj_soba==1) std::cout &lt;&lt; "sobu.";
        else if(broj_soba==2 or broj_soba==3 or broj_soba==4) std::cout &lt;&lt; "sobe.";
            else std::cout &lt;&lt; "soba.";
<a name="17"></a><font color="#0000FF"><a href="match115-0.html#17" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_0.gif"/></a>

    std::cout &lt;&lt; " Kvadratura stana je " &lt;&lt; kvadratura &lt;&lt; " (m^2) i stan ";
    if(namjesten) std::cout &lt;&lt; "je namjesten.";
        else std::cout &lt;&lt; "nije namjesten.";
}

class Prodaja {
</font>    std::string ime_agenta_prodaje;
    double cijena_stana;
    Datum datum_prodaje;
    Kupac kupac_stana;
    Stan kupljeni_stan;
public:
    Prodaja(const std::string &amp;ime_agenta_prodaje, double cijena_stana, const Datum &amp;datum_prodaje, 
        const Kupac &amp;kupac_stana, const Stan &amp;kupljeni_stan) : ime_agenta_prodaje(ime_agenta_prodaje),
            cijena_stana(cijena_stana), datum_prodaje(datum_prodaje), kupac_stana(kupac_stana),
            kupljeni_stan(kupljeni_stan) {}
    Prodaja(const std::string &amp;ime_agenta_prodaje, double cijena_stana, int dan_prodaje, int mjesec_prodaje,
        int godina_prodaje, std::string &amp;ime_kupca, const Datum &amp;datum_rodjenja_kupca, 
        const std::string &amp;adresa_stana, int sprat_stana, int broj_soba, bool namjesten_stan, double broj_kvadrata) :
            ime_agenta_prodaje(ime_agenta_prodaje), cijena_stana(cijena_stana),
            datum_prodaje(dan_prodaje, mjesec_prodaje, godina_prodaje), kupac_stana(ime_kupca, datum_rodjenja_kupca),
            kupljeni_stan(adresa_stana, sprat_stana, broj_soba, namjesten_stan, broj_kvadrata) {}
    void PromijeniKupca(const Kupac &amp;novi_kupac) {kupac_stana=novi_kupac;}
    void PromijeniStan(const Stan &amp;novi_stan) {kupljeni_stan=novi_stan;}
    void PromijeniDatumKupovine(const Datum &amp;novi_datum) {datum_prodaje=novi_datum;}
    void PromijeniCijenuProdaje(const double &amp;nova_cijena) {cijena_stana=nova_cijena;}
    void PromijeniImeAgenta(const std::string &amp;novo_ime) {ime_agenta_prodaje=novo_ime;}
    void PomjeriDanUnaprijed();
    void PomjeriDanUnazad();
    std::string DajImeAgenta() const {return ime_agenta_prodaje;}
    std::string DajImeKupca() const {return kupac_stana.DajImePrezime();}
    Datum DajDatumProdaje() const {return datum_prodaje;}
    double DajCijenuStana() const {return cijena_stana;}
    friend bool ProdatPrije(const Prodaja &amp;p1, const Prodaja &amp;p2);
    friend bool SkupljiStan(const Prodaja &amp;p1, const Prodaja &amp;p2);
<a name="4"></a><font color="#FF00FF"><a href="match115-0.html#4" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_0.gif"/></a>

    void Ispisi() const;
};

void Prodaja::PomjeriDanUnaprijed() {
    int broj_dana[]{31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31};
    if((datum_prodaje.DajGodinu()%4==0 and datum_prodaje.DajGodinu()%100!=0) or datum_prodaje.DajGodinu()%400==0) broj_dana[1]++;
</font>    int novi_dan = datum_prodaje.DajDan()+1;
    int novi_mjesec(datum_prodaje.DajMjesec()), nova_godina(datum_prodaje.DajGodinu());
    if(novi_dan&gt;broj_dana[datum_prodaje.DajMjesec()-1]) {novi_mjesec = datum_prodaje.DajMjesec()+1; novi_dan=0;}
    if(novi_mjesec==13) {novi_mjesec=0; nova_godina++;}
<a name="2"></a><font color="#0000FF"><a href="match115-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_0.gif"/></a>

    datum_prodaje.Postavi(novi_dan,novi_mjesec,nova_godina);
}

void Prodaja::PomjeriDanUnazad() {
    int broj_dana[]{31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31};
    if((datum_prodaje.DajGodinu()%4==0 and datum_prodaje.DajGodinu()%100!=0) or datum_prodaje.DajGodinu()%400==0) broj_dana[1]++;
</font>    int novi_dan = datum_prodaje.DajDan()-1;
    int novi_mjesec(datum_prodaje.DajMjesec()), nova_godina(datum_prodaje.DajGodinu());
    if(novi_dan==0) {
        novi_mjesec--;
        if(novi_mjesec==0) {
            novi_mjesec=12;
            nova_godina--;
        }
        novi_dan=broj_dana[novi_mjesec-1];
    }
    datum_prodaje.Postavi(novi_dan,novi_mjesec,nova_godina);
}

bool ProdatPrije(const Prodaja &amp;p1, const Prodaja &amp;p2) {
    Datum d1(p1.DajDatumProdaje()), d2(p2.DajDatumProdaje());
    if(d1.DajGodinu()&lt;d2.DajGodinu()) return true;
        else if(d1.DajGodinu()&gt;d2.DajGodinu()) return false;
            else {
                if(d1.DajMjesec()&lt;d2.DajMjesec()) return true;
                    else if(d1.DajMjesec()&gt;d2.DajMjesec()) return false;
                        else {
                            if(d1.DajDan()&lt;d2.DajDan()) return true;
                                else if(d1.DajDan()&gt;d2.DajDan()) return false;
<a name="10"></a><font color="#FF0000"><a href="match115-0.html#10" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_0.gif"/></a>

                                    else return false;
                        }
            }
}

bool SkupljiStan(const Prodaja &amp;p1, const Prodaja &amp;p2) {
    if(p1.DajCijenuStana()&lt;p2.DajCijenuStana()) return true;
    return false;
}

void Prodaja::Ispisi() const {
    std::cout &lt;&lt; std::left &lt;&lt; std::setw(20) &lt;&lt; "Ime agenta: " &lt;&lt; std::right &lt;&lt; std::setw(5) &lt;&lt; ime_agenta_prodaje
</font>        &lt;&lt; std::endl &lt;&lt; std::left &lt;&lt; std::setw(20) &lt;&lt; "Ime kupca: ";
    kupac_stana.Ispisi();
    std::cout &lt;&lt; std::endl &lt;&lt; std::left &lt;&lt; std::setw(20) &lt;&lt; "Zakazani datum prodaje: ";
    datum_prodaje.Ispisi();
    std::cout &lt;&lt; std::endl &lt;&lt; std::left &lt;&lt; std::setw(20) &lt;&lt; "Cijena stana: " &lt;&lt; std::right &lt;&lt; std::setw(5) &lt;&lt; cijena_stana
        &lt;&lt; std::endl &lt;&lt; "Informacije o stanu: " &lt;&lt; std::endl;
    kupljeni_stan.Ispisi();
}

class Prodaje {
    std::vector&lt;std::shared_ptr&lt;Prodaja&gt;&gt; prodaje;
public:
    explicit Prodaje() = default;
    Prodaje(std::initializer_list&lt;Prodaja&gt; spisak_prodaja);
    Prodaje(const Prodaje &amp;prodaje);
    Prodaje(Prodaje &amp;&amp;prodaje);
    Prodaje &amp;operator =(const Prodaje &amp;prodaje);
    Prodaje &amp;operator =(Prodaje &amp;&amp;prodaje);
    void RegistrirajProdaju(const std::string &amp;ime_agenta_prodaje, double cijena_stana, const Datum &amp;datum_prodaje,
        const Kupac &amp;kupac_stana, const Stan &amp;kupljeni_stan);
    void RegistrirajProdaju(const std::string &amp;ime_agenta_prodaje, double cijena_stana, int dan_prodaje, int mjesec_prodaje,
        int godina_prodaje, std::string &amp;ime_kupca, const Datum &amp;datum_rodjenja_kupca, const std::string &amp;adresa_stana,
        int sprat_stana, int broj_soba, bool namjesten_stan, double broj_kvadrata);
    void RegistrirajProdaju(std::shared_ptr&lt;Prodaja&gt; prodaja);
    Prodaja &amp;DajProdaju(int redni_broj) const;
<a name="0"></a><font color="#FF0000"><a href="match115-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_0.gif"/></a>

    int DajBrojProdaja() const;
    int DajBrojProdajaNaDatum(const Datum &amp;datum) const;
    int DajBrojProdajaOdAgenta(const std::string &amp;ime_agenta) const;
    Prodaja &amp;DajNajranijuProdaju();
    Prodaja DajNajranijuProdaju() const;
    Prodaja &amp;DajNajskupljuProdaju();
    Prodaja DajNajskupljuProdaju() const;
    void IsprazniKolekciju();
    void ObrisiNajranijuProdaju();
    void ObrisiProdajeAgenta(const std::string &amp;ime_agenta);
    void ObrisiProdajeNaDatum(const Datum &amp;datum);
    void IspisiProdajeNaDatum(const Datum &amp;datum) const;
</font>    void IspisiSveProdaje() const;
};
    
Prodaje::Prodaje(std::initializer_list&lt;Prodaja&gt; spisak_prodaja) : prodaje(spisak_prodaja.size()) {
    int i(0);
    for(auto it=spisak_prodaja.begin(); it!=spisak_prodaja.end(); it++) {
        prodaje[i]=std::make_shared&lt;Prodaja&gt;(*it);
        i++;
    }
}

Prodaje::Prodaje(const Prodaje &amp;prodaje) : prodaje(prodaje.prodaje.size()) {
    for(int i(0); i&lt;prodaje.prodaje.size(); i++)
<a name="22"></a><font color="#0000FF"><a href="match115-0.html#22" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_0.gif"/></a>

        Prodaje::prodaje[i]=std::make_shared&lt;Prodaja&gt;(*prodaje.prodaje[i]);
}

Prodaje &amp;Prodaje::operator =(const Prodaje &amp;prodaje) {
</font>    Prodaje::prodaje.resize(prodaje.prodaje.size());
    for(int i(0); i&lt;Prodaje::prodaje.size(); i++) Prodaje::prodaje[i]=std::make_shared&lt;Prodaja&gt;(*prodaje.prodaje[i]);
    return *this;
}

Prodaje::Prodaje(Prodaje &amp;&amp;prodaje) : prodaje(prodaje.prodaje.size()) {
    Prodaje::prodaje=std::move(prodaje.prodaje);
}

Prodaje &amp;Prodaje::operator =(Prodaje &amp;&amp;prodaje) {
<a name="23"></a><font color="#00FFFF"><a href="match115-0.html#23" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_0.gif"/></a>

    Prodaje::prodaje = std::move(prodaje.prodaje);
    return *this;
}

void Prodaje::RegistrirajProdaju(const std::string &amp;ime_agenta_prodaje, double cijena_stana, const Datum &amp;datum_prodaje,
        const Kupac &amp;kupac_stana, const Stan &amp;kupljeni_stan) {
</font>            Prodaja p1(ime_agenta_prodaje, cijena_stana, datum_prodaje, kupac_stana, kupljeni_stan);
            prodaje.push_back(std::make_shared&lt;Prodaja&gt;(p1));
}

void Prodaje::RegistrirajProdaju(const std::string &amp;ime_agenta_prodaje, double cijena_stana, int dan_prodaje, int mjesec_prodaje,
    int godina_prodaje, std::string &amp;ime_kupca, const Datum &amp;datum_rodjenja_kupca, const std::string &amp;adresa_stana,
    int sprat_stana, int broj_soba, bool namjesten_stan, double broj_kvadrata) {
<a name="24"></a><font color="#FF00FF"><a href="match115-0.html#24" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_0.gif"/></a>

        Prodaja p1(ime_agenta_prodaje, cijena_stana, dan_prodaje, mjesec_prodaje, godina_prodaje, ime_kupca,
            datum_rodjenja_kupca, adresa_stana, sprat_stana, broj_soba, namjesten_stan, broj_kvadrata);
        prodaje.push_back(std::make_shared&lt;Prodaja&gt;(p1));
</font>}

void Prodaje::RegistrirajProdaju(std::shared_ptr&lt;Prodaja&gt; prodaja) {
    prodaje.push_back(prodaja);
}

Prodaja &amp;Prodaje::DajProdaju(int redni_broj) const {
    if(redni_broj&gt;prodaje.size()) throw std::domain_error("Redni broj nije validan");
    return *prodaje[redni_broj-1];
}

int Prodaje::DajBrojProdaja() const {
    return prodaje.size();
}
    
int Prodaje::DajBrojProdajaNaDatum(const Datum &amp;datum) const {
    return std::count_if(prodaje.begin(), prodaje.end(),
        [datum] (std::shared_ptr&lt;Prodaja&gt; p) {if(p-&gt;DajDatumProdaje().DajDan()==datum.DajDan()
            and p-&gt;DajDatumProdaje().DajMjesec()==datum.DajMjesec() and p-&gt;DajDatumProdaje().DajGodinu()==datum.DajGodinu()) return true; return false;});
}

int Prodaje::DajBrojProdajaOdAgenta(const std::string &amp;ime_agenta) const {
<a name="13"></a><font color="#00FFFF"><a href="match115-0.html#13" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_0.gif"/></a>

    return std::count_if(prodaje.begin(), prodaje.end(), [ime_agenta] (std::shared_ptr&lt;Prodaja&gt; p) {if(p-&gt;DajImeAgenta()==ime_agenta) return true; return false;});
</font>}

<a name="25"></a><font color="#FF0000"><a href="match115-0.html#25" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_0.gif"/></a>

Prodaja &amp;Prodaje::DajNajranijuProdaju() {
    if(prodaje.size()==0) throw std::domain_error("Nema registriranih prodaja");
    return **std::min_element(prodaje.begin(), prodaje.end(),
</font>        [] (std::shared_ptr&lt;Prodaja&gt; p1, std::shared_ptr&lt;Prodaja&gt; p2) {
            if(p1-&gt;DajDatumProdaje().DajGodinu()&gt;p2-&gt;DajDatumProdaje().DajGodinu()) return false;
            else if(p1-&gt;DajDatumProdaje().DajGodinu()&lt;p2-&gt;DajDatumProdaje().DajGodinu()) return true;
            else
                if(p1-&gt;DajDatumProdaje().DajMjesec()&gt;p2-&gt;DajDatumProdaje().DajMjesec()) return false;
                else if(p1-&gt;DajDatumProdaje().DajMjesec()&lt;p2-&gt;DajDatumProdaje().DajMjesec()) return true;
                else
                    if(p1-&gt;DajDatumProdaje().DajDan()&gt;p2-&gt;DajDatumProdaje().DajDan()) return false;
                    else if(p1-&gt;DajDatumProdaje().DajDan()&lt;p2-&gt;DajDatumProdaje().DajDan()) return true;
<a name="14"></a><font color="#FF00FF"><a href="match115-0.html#14" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_0.gif"/></a>

            return false;
        });
}
    
Prodaja Prodaje::DajNajranijuProdaju() const {
    if(prodaje.size()==0) throw std::domain_error("Nema registriranih prodaja");
    return **std::min_element(prodaje.begin(), prodaje.end(),
</font>        [] (std::shared_ptr&lt;Prodaja&gt; p1, std::shared_ptr&lt;Prodaja&gt; p2) {
            if(p1-&gt;DajDatumProdaje().DajGodinu()&gt;p2-&gt;DajDatumProdaje().DajGodinu()) return false;
            else if(p1-&gt;DajDatumProdaje().DajGodinu()&lt;p2-&gt;DajDatumProdaje().DajGodinu()) return true;
            else
                if(p1-&gt;DajDatumProdaje().DajMjesec()&gt;p2-&gt;DajDatumProdaje().DajMjesec()) return false;
                else if(p1-&gt;DajDatumProdaje().DajMjesec()&lt;p2-&gt;DajDatumProdaje().DajMjesec()) return true;
                else
                    if(p1-&gt;DajDatumProdaje().DajDan()&gt;p2-&gt;DajDatumProdaje().DajDan()) return false;
                    else if(p1-&gt;DajDatumProdaje().DajDan()&lt;p2-&gt;DajDatumProdaje().DajDan()) return true;
            return false;
        });
}
    
<a name="26"></a><font color="#00FF00"><a href="match115-0.html#26" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_0.gif"/></a>

Prodaja &amp;Prodaje::DajNajskupljuProdaju() {
    if(prodaje.size()==0) throw std::domain_error("Nema registriranih prodaja");
    return **std::max_element(prodaje.begin(), prodaje.end(),
</font>        [] (std::shared_ptr&lt;Prodaja&gt; p1, std::shared_ptr&lt;Prodaja&gt; p2) {
            if(p1-&gt;DajCijenuStana() &lt; p2-&gt;DajCijenuStana()) return false;
            else if(p1-&gt;DajCijenuStana() &gt; p2-&gt;DajCijenuStana()) return true;
            return false;
        });
}

Prodaja Prodaje::DajNajskupljuProdaju() const {
    if(prodaje.size()==0) throw std::domain_error("Nema registriranih prodaja");
    Prodaja p = **std::max_element(prodaje.begin(), prodaje.end(),
        [] (std::shared_ptr&lt;Prodaja&gt; p1, std::shared_ptr&lt;Prodaja&gt; p2) {
            if(p1-&gt;DajCijenuStana() &lt; p2-&gt;DajCijenuStana()) return false;
            else if(p1-&gt;DajCijenuStana() &gt; p2-&gt;DajCijenuStana()) return true;
            return false;
        });
    return p;
}

void Prodaje::IsprazniKolekciju() {
    for(int i(0); i&lt;prodaje.size(); i++)
        prodaje[i]=nullptr;
}

void Prodaje::ObrisiNajranijuProdaju() {
    if(prodaje.size()==0) throw std::range_error("Prazna kolekcija");
    for(int i(0); i&lt;prodaje.size(); i++)
        if(&amp;(*prodaje[i])==&amp;DajNajranijuProdaju())
            prodaje[i]=nullptr;
}

void Prodaje::ObrisiProdajeAgenta(const std::string &amp;ime_agenta) {
    if(prodaje.size()==0) return;
    for(int i(0); i&lt;prodaje.size(); i++)
        if(prodaje[i]-&gt;DajImeAgenta()==ime_agenta) {
            prodaje[i]=nullptr;
        }
}

void Prodaje::ObrisiProdajeNaDatum(const Datum &amp;datum) {
    if(prodaje.size()==0) return;
    for(int i(0); i&lt;prodaje.size(); i++)
        if(prodaje[i]-&gt;DajDatumProdaje().DajDan()==datum.DajDan() and
            prodaje[i]-&gt;DajDatumProdaje().DajMjesec()==datum.DajMjesec() and
            prodaje[i]-&gt;DajDatumProdaje().DajGodinu()==datum.DajGodinu()) {
            prodaje[i]=nullptr;
        }
}

void Prodaje::IspisiProdajeNaDatum(const Datum &amp;datum) const {
    std::vector&lt;Prodaja&gt; nove;
    for(int i(0); i&lt;prodaje.size(); i++)
        if(prodaje[i]-&gt;DajDatumProdaje().DajDan()==datum.DajDan() and
            prodaje[i]-&gt;DajDatumProdaje().DajMjesec()==datum.DajMjesec() and
            prodaje[i]-&gt;DajDatumProdaje().DajGodinu()==datum.DajGodinu()) {
            nove.push_back(*prodaje[i]);
        }
    std::sort(nove.begin(), nove.end(), [] (const Prodaja p1, const Prodaja p2)
            {if(p1.DajImeKupca()&gt;p2.DajImeKupca()) return true; return false;});
    for(int i(0); i&lt;nove.size(); i++) {
        nove[i].Ispisi(); std::cout &lt;&lt; std::endl; }
}

void Prodaje::IspisiSveProdaje() const {
    std::vector&lt;Prodaja&gt; nove;
    for(int i(0); i&lt;prodaje.size(); i++)
        nove.push_back(*prodaje[i]);
    std::sort(nove.begin(), nove.end(), [] (const Prodaja p1, const Prodaja p2)
            {if(p1.DajDatumProdaje().DajGodinu()&gt;p2.DajDatumProdaje().DajGodinu()) return false;
            else if(p1.DajDatumProdaje().DajGodinu()&lt;p2.DajDatumProdaje().DajGodinu()) return true;
            else
                if(p1.DajDatumProdaje().DajMjesec()&gt;p2.DajDatumProdaje().DajMjesec()) return false;
                else if(p1.DajDatumProdaje().DajMjesec()&lt;p2.DajDatumProdaje().DajMjesec()) return true;
                else
                    if(p1.DajDatumProdaje().DajDan()&gt;p2.DajDatumProdaje().DajDan()) return false;
                    else if(p1.DajDatumProdaje().DajDan()&lt;p2.DajDatumProdaje().DajDan()) return true;
            if(p1.DajImeKupca()&gt;p2.DajImeKupca()) return true; return false;});
}


int main ()
{
    std::cout &lt;&lt; "Dobrodosli!" &lt;&lt; std::endl &lt;&lt; " " &lt;&lt; std::endl &lt;&lt; " " &lt;&lt; std::endl;
    Prodaje p;
    std::vector&lt;Stan&gt; stanovi;
    std::vector&lt;Kupac&gt; kupci;
    std::vector&lt;Prodaja&gt; prodaje;
    while(1) {
        std::cout &lt;&lt; "Izaberite opciju:" &lt;&lt; std::endl &lt;&lt; " 0 - kraj" &lt;&lt; std::endl &lt;&lt; " 1 - uredjivanje stanova"
            &lt;&lt; std::endl &lt;&lt; " 2 - uredjivanje kupaca" &lt;&lt; std::endl &lt;&lt; " 3 - uredjivanje prodaja" &lt;&lt; std::endl;
        int n, a;
        std::cin &gt;&gt; n;
        if(n==0) {
            break;
        } else if(n==1) {
            std::string adresa; int sprat, broj_soba; bool namjesten; double kvadratura;
            while(1) {
                std::cout &lt;&lt; "Izaberite opciju:" &lt;&lt; std::endl &lt;&lt; " 0 - nazad" &lt;&lt; std::endl &lt;&lt; " 1 - dodavanje stana"
                &lt;&lt; std::endl &lt;&lt; " 2 - uredjivanje stanova" &lt;&lt; std::endl &lt;&lt; " 3 - ispis svih stanova" &lt;&lt; std::endl
                &lt;&lt; " 4 - kraj" &lt;&lt; std::endl;
                std::cin &gt;&gt; a;
                if(a==0) {
                    break;
                } else if(a==1) {
                    while(1) {
                        std::cin.clear();
                        std::cin.ignore(1000, '\n');
                        std::cout &lt;&lt; "Unesite adresu: ";
                        std::getline(std::cin, adresa);
                        std::cout &lt;&lt; "Unesite sprat: ";
                        std::cin &gt;&gt; sprat;
                        std::cout &lt;&lt; "Unesite broj soba: ";
                        std::cin &gt;&gt; broj_soba;
                        int nam;
                        std::cin.ignore(1000, '\n');
                        std::cout &lt;&lt; "Da li je stan namjesten (1 - da, 0 - ne): ";
                        std::cin &gt;&gt; nam;
                        if(nam==1) namjesten=true;
                        else if(nam==0) namjesten=false;
                        std::cout &lt;&lt; "Unesite kvadraturu: ";
                        std::cin &gt;&gt; kvadratura;
                        try{
                          if(nam!=1 and nam!=0) throw std::domain_error("Neispravan unos podataka");
                          Stan stan(adresa, sprat, broj_soba, namjesten, kvadratura);
                          stanovi.push_back(stan);
                          std::cout &lt;&lt; "Stan je uspjesno dodan!" &lt;&lt; std::endl &lt;&lt; std::endl;
                          break;
                        }
                        catch(std::domain_error a) {
<a name="15"></a><font color="#FF0000"><a href="match115-0.html#15" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_0.gif"/></a>

                            std::cout &lt;&lt; "Izuzetak: " &lt;&lt; a.what() &lt;&lt; ". Molimo unesite opet." &lt;&lt; std::endl;
                        }
                    }
                } else if(a==2) {
                    std::cout &lt;&lt; "Odaberite stan. Dostupni stanovi su:" &lt;&lt; std::endl;
</font>                    for(int i(0); i&lt;stanovi.size(); i++) {
<a name="11"></a><font color="#00FF00"><a href="match115-0.html#11" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_0.gif"/></a>

                        std::cout &lt;&lt; " " &lt;&lt; i+1 &lt;&lt; " - ";
                        stanovi[i].Ispisi();
                        std::cout &lt;&lt; std::endl;
                    }
                    std::cout &lt;&lt; std::endl;
</font>                    int t; std::cin &gt;&gt; t;
                    std::cout &lt;&lt; "Odaberite polje koje zelite urediti:" &lt;&lt; std::endl &lt;&lt; " 0 - nazad" &lt;&lt; std::endl
                              &lt;&lt; " 1 - adresa" &lt;&lt; std::endl &lt;&lt; " 2 - sprat" &lt;&lt; std::endl &lt;&lt; " 3 - broj soba"
                              &lt;&lt; std::endl &lt;&lt; " 4 - da li je stan namjesten" &lt;&lt; std::endl &lt;&lt; " 5 - kvadratura" &lt;&lt; std::endl
                              &lt;&lt; " 6 - sve" &lt;&lt; std::endl;
                    int t2; std::cin &gt;&gt; t2;
                    if(t2 == 0) continue;
                    else if(t2==1) {
                        
                    } else if(t2==2) {
                        
                    } else if(t2==3) {
                        
                    } else if(t2==4) {
                        
                    } else if(t2==5) {
                        while(1) {
                            double kvadratura2;
                            std::cout &lt;&lt; "Unesite kvadraturu: ";
                            std::cin &gt;&gt; kvadratura2;
                            try {
<a name="12"></a><font color="#0000FF"><a href="match115-0.html#12" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_0.gif"/></a>

                                stanovi[t-1].Postavi(stanovi[t-1].DajAdresu(), stanovi[t-1].DajSprat(), 
                                    stanovi[t-1].DajBrojSoba(), stanovi[t-1].DajNamjesten(), kvadratura2);
</font>                                std::cout &lt;&lt; "Stan je uspjesno izmijenjen!" &lt;&lt; std::endl &lt;&lt; std::endl;
                                break;
                            }
                            catch(std::domain_error a) {
                                std::cout &lt;&lt; "Izuzetak: " &lt;&lt; a.what() &lt;&lt; ". Molimo unesite opet." &lt;&lt; std::endl;
                            }
                        }
                    } else if(t2==6) {
                        while(1) {
                        std::cin.clear();
                        std::cin.ignore(1000, '\n');
                        std::cout &lt;&lt; "Unesite adresu: ";
<a name="1"></a><font color="#00FF00"><a href="match115-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_0.gif"/></a>

                        std::string adresa2; std::getline(std::cin, adresa2);
                        std::cout &lt;&lt; "Unesite sprat: ";
                        int sprat2; std::cin &gt;&gt; sprat2;
                        std::cout &lt;&lt; "Unesite broj soba: ";
                        int broj_soba2; std::cin &gt;&gt; broj_soba2;
                        std::cout &lt;&lt; "Da li je stan namjesten (1 - da, 0 - ne): ";
                        int temp2; std::cin &gt;&gt; temp2; bool namjesten2;
</font>                        if(temp2==1) namjesten2=true;
                        else if(temp2==0) namjesten2=false;
                        std::cout &lt;&lt; "Unesite kvadraturu: ";
                        double kvadratura2; std::cin &gt;&gt; kvadratura2;
                        try{
                          if(temp2!=1 and temp2!=2) throw std::domain_error("Neispravan unos podataka");
                          stanovi[t-1].Postavi(adresa2, sprat2, broj_soba2, namjesten2, kvadratura2);
                          std::cout &lt;&lt; "Stan je uspjesno izmijenjen!" &lt;&lt; std::endl &lt;&lt; std::endl;
                          break;
                        }
                        catch(std::domain_error a) {
<a name="27"></a><font color="#0000FF"><a href="match115-0.html#27" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_0.gif"/></a>

                            std::cout &lt;&lt; "Izuzetak: " &lt;&lt; a.what() &lt;&lt; ". Molimo unesite opet." &lt;&lt; std::endl;
                        }
                    }
                    }
                    
                } else if(a==3) {
                    for(int i(0); i&lt;stanovi.size(); i++) {
</font>                        std::cout &lt;&lt; i+1 &lt;&lt; ". ";
<a name="6"></a><font color="#00FF00"><a href="match115-0.html#6" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_0.gif"/></a>

                        stanovi[i].Ispisi();
                        std::cout &lt;&lt; std::endl;
                    }
                    std::cout &lt;&lt; std::endl;
                } else if(a==4) {
                    return 0;
                }
            }
        } else if(n==2) {
</font>            Datum datum_rodjenja(1,1,1);
            Kupac kupac("", Datum(1,1,1));
            while(1) {
                std::cout &lt;&lt; "Izaberite opciju:" &lt;&lt; std::endl &lt;&lt; " 0 - nazad" &lt;&lt; std::endl &lt;&lt; " 1 - dodavanje kupca"
                    &lt;&lt; std::endl &lt;&lt; " 2 - uredjivanje kupaca" &lt;&lt; std::endl &lt;&lt; " 3 - ispis svih kupaca" 
                    &lt;&lt; std::endl &lt;&lt; " 4 - kraj" &lt;&lt; std::endl;
                int t; std::cin &gt;&gt; t;
                if(t==0) {
                    break;
                } else if(t==1) {
                    while(1) {
                    std::cin.ignore(1000, '\n');
                    std::cout &lt;&lt; "Unesite ime i prezime kupca: ";
<a name="3"></a><font color="#00FFFF"><a href="match115-0.html#3" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_0.gif"/></a>

                    std::string ime_kupca; std::getline(std::cin, ime_kupca);
                    std::cout &lt;&lt; "Unesite datum rodjenja (formata d/m/g): ";
                    int d,m,g; char z1, z2; std::cin &gt;&gt; d &gt;&gt; z1 &gt;&gt; m &gt;&gt; z2 &gt;&gt; g;
                        try {
                        datum_rodjenja.Postavi(d,m,g);
</font>                        kupac.Postavi(ime_kupca, datum_rodjenja);
                        kupci.push_back(kupac);
                        std::cout &lt;&lt; "Kupac je uspjesno dodan!" &lt;&lt; std::endl &lt;&lt; std::endl;
                        break;
                        }
                        catch(std::domain_error a) {
<a name="16"></a><font color="#00FF00"><a href="match115-0.html#16" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_0.gif"/></a>

                            std::cout &lt;&lt; "Izuzetak: " &lt;&lt; a.what() &lt;&lt; ". Molimo unesite opet." &lt;&lt; std::endl;
                        }
                    }
                } else if(t==2) {
                    std::cout &lt;&lt; "Odaberite kupca kojeg zelite urediti. Dostupni kupci su:" &lt;&lt; std::endl;
</font>                    for(int i(0); i&lt;kupci.size(); i++) {
                        std::cout &lt;&lt; " " &lt;&lt; i+1 &lt;&lt; " - "; kupci[i].Ispisi();
                        std::cout &lt;&lt; std::endl;
                    }
                    int t2; std::cin &gt;&gt; t2;
                    std::cin.ignore(1000, '\n');
                    std::cout &lt;&lt; "Unesite ime i prezime kupca: ";
<a name="5"></a><font color="#FF0000"><a href="match115-0.html#5" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_0.gif"/></a>

                    std::string ime_kupca; std::getline(std::cin, ime_kupca);
                    std::cout &lt;&lt; "Unesite datum rodjenja (formata d/m/g): ";
                    int d,m,g; char z1, z2; std::cin &gt;&gt; d &gt;&gt; z1 &gt;&gt; m &gt;&gt; z2 &gt;&gt; g;
</font>                    if(z1=='/' and z2=='/') {
                        try {
                        datum_rodjenja.Postavi(d,m,g);
                        kupci[t2-1].Postavi(ime_kupca, datum_rodjenja);
                        std::cout &lt;&lt; "Kupac je uspjesno izmijenjen!" &lt;&lt; std::endl &lt;&lt; std::endl;
                        }
                        catch(std::domain_error a) {
                            std::cout &lt;&lt; "Izuzetak: " &lt;&lt; a.what() &lt;&lt; ". Molimo unesite opet." &lt;&lt; std::endl;
                        }
                    }
                } else if(t==3) {
                    for(Kupac x : kupci) {
                        x.Ispisi();
                        std::cout &lt;&lt; std::endl;
                    }
                    std::cout &lt;&lt; std::endl;
                } else if(t==4) {
                    return 0;
                }
            }
        } else if(n==3) {
            std::string ime_agenta; int d,m,g; char z1,z2; int d2,m2,g2;  std::string ime_kupca;  int cijena;  std::string adresa;  int sprat; 
             int broj_soba;  int temp; double kvadratura;
             Kupac kupac("", Datum(1,1,1)); Datum dat_prodaje(1,1,1), dat_rodjenja(1,1,1); Prodaja prodaja("", 0, Datum(1,1,1), Kupac("", Datum(1,1,1)), Stan("", 0, 0, false, 0)); Stan stan("", 0, 0, false, 0);
            while(1) {
                std::cout &lt;&lt; "Izaberite opciju:" &lt;&lt; std::endl &lt;&lt; " 0 - nazad" &lt;&lt; std::endl &lt;&lt; " 1 - dodavanje prodaje"
                    &lt;&lt; std::endl &lt;&lt; " 2 - uredjivanje prodaje" &lt;&lt; std::endl &lt;&lt; " 3 - ispis prodaja" &lt;&lt; std::endl &lt;&lt; " 4 - brisanje prodaja" &lt;&lt; std::endl &lt;&lt; " 5 - kraj" &lt;&lt; std::endl;
                int t; std::cin &gt;&gt; t;
                if(t==0) {
                    break;
                } else if(t==1) {
                    while(1) {
                    std::cout &lt;&lt; "Izaberite opciju:" &lt;&lt; std::endl &lt;&lt; " 0 - nazad" &lt;&lt; std::endl &lt;&lt; " 1 - dodavanje potpuno nove prodaje"
                    &lt;&lt; std::endl &lt;&lt; " 2 - dodavanje nove prodaje na osnovu arhive" &lt;&lt; std::endl &lt;&lt; " 3 - kraj" &lt;&lt; std::endl;
                    int t2; std::cin &gt;&gt; t2;
                    if(t2==0) {
                        break;
                    } else if(t2==1) {
                        std::cin.ignore(1000, '\n');
                        std::cout &lt;&lt; "Unesite ime i prezime agenta prodaje: ";
                        std::getline(std::cin, ime_agenta);
                        std::cout &lt;&lt; "Unesite datum prodaje (formata d/m/g): ";
                        std::cin &gt;&gt; d &gt;&gt; z1 &gt;&gt; m &gt;&gt; z2 &gt;&gt; g;
                        std::cout &lt;&lt; "Unesite cijenu stana: "; std::cin &gt;&gt; cijena;
                        std::cin.ignore(1000, '\n');
                        std::cout &lt;&lt; "Unesite ime kupca: ";
                        std::getline(std::cin, ime_kupca);
                        std::cout &lt;&lt; "Unesite datum rodjenja kupca (formata d/m/g): ";
                        std::cin &gt;&gt; d2 &gt;&gt; z1 &gt;&gt; m2 &gt;&gt; z2 &gt;&gt; g2;
                        std::cin.clear();
                        std::cin.ignore(1000, '\n');
                        std::cout &lt;&lt; "Unesite adresu: ";
                        std::getline(std::cin, adresa);
                        std::cout &lt;&lt; "Unesite sprat: "; std::cin &gt;&gt; sprat;
                        std::cout &lt;&lt; "Unesite broj soba: "; std::cin &gt;&gt; broj_soba;
                        std::cout &lt;&lt; "Da li je stan namjesten (1 - da, 0 - ne): "; std::cin &gt;&gt; temp;
                        std::cout &lt;&lt; "Unesite kvadraturu: "; std::cin &gt;&gt; kvadratura;
                        try {
                            bool namjesten;
                            if(temp==1) namjesten=true;
                            if(temp==0) namjesten=false;
                            if(temp!=1 and temp!=0)  throw std::domain_error("Neispravan unos podataka");
                            dat_prodaje.Postavi(d,m,g); dat_rodjenja.Postavi(d2,m2,g2);
                            kupac.Postavi(ime_kupca, dat_rodjenja);
                            stan.Postavi(adresa, sprat, broj_soba, namjesten, kvadratura);
                            Prodaja prodaja2(ime_agenta, cijena, dat_prodaje, kupac, stan);
                            prodaje.push_back(prodaja2);
                            p.RegistrirajProdaju(ime_agenta, cijena, dat_prodaje, kupac, stan);
                            stanovi.push_back(stan);
                            kupci.push_back(kupac);
                            std::cout &lt;&lt; "Prodaja uspjesno dodana!" &lt;&lt; std::endl &lt;&lt; std::endl;
                        }
                        catch(std::domain_error a) {
<a name="31"></a><font color="#00FF00"><a href="match115-0.html#31" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_0.gif"/></a>

                            std::cout &lt;&lt; "Izuzetak: " &lt;&lt; a.what() &lt;&lt; ". Molimo unesite opet." &lt;&lt; std::endl;
                        }
                    } else if(t2==2) {
                        std::cin.ignore(1000, '\n');
</font>                        std::cout &lt;&lt; "Unesite ime i prezime agenta prodaje: "; std::string ime_agenta;
<a name="7"></a><font color="#0000FF"><a href="match115-0.html#7" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_0.gif"/></a>

                        std::getline(std::cin, ime_agenta);
                        std::cout &lt;&lt; "Unesite datum prodaje (formata d/m/g): ";
                        int d,m,g; char z1,z2; std::cin &gt;&gt; d &gt;&gt; z1 &gt;&gt; m &gt;&gt; z2 &gt;&gt; g;
</font>                        std::cout &lt;&lt; "Unesite cijenu stana: "; int cijena; std::cin &gt;&gt; cijena;
                        std::cout &lt;&lt; "Odaberite kupca. Dostupni kupci su:" &lt;&lt; std::endl;
                        for(int i(0); i&lt;kupci.size(); i++) {
                            std::cout &lt;&lt; " " &lt;&lt; i+1 &lt;&lt; " - "; kupci[i].Ispisi();
                            std::cout &lt;&lt; std::endl;
                        }
                        int t4; std::cin &gt;&gt; t4;
                        std::cout &lt;&lt; "Odaberite stan. Dostupni stanovi su:" &lt;&lt; std::endl;
                        for(int i(0); i&lt;stanovi.size(); i++) {
                            std::cout &lt;&lt; " " &lt;&lt; i+1 &lt;&lt; " - "; stanovi[i].Ispisi();
                            std::cout &lt;&lt; std::endl;
                        }
                        int t3; std::cin &gt;&gt; t3;
                        try {
                        dat_prodaje.Postavi(d,m,g);
                        Prodaja prodaja(ime_agenta, cijena, dat_prodaje, kupci[t4-1], stanovi[t3-1]);
                        prodaje.push_back(prodaja);
<a name="29"></a><font color="#FF00FF"><a href="match115-0.html#29" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_0.gif"/></a>

                        p.RegistrirajProdaju(ime_agenta, cijena, dat_prodaje, kupci[t4-1], stanovi[t3-1]);
                        std::cout &lt;&lt; "Prodaja uspjesno dodana!" &lt;&lt; std::endl &lt;&lt; std::endl;
</font>                        }
                        catch(std::domain_error a) {
                            std::cout &lt;&lt; "Izuzetak: " &lt;&lt; a.what() &lt;&lt; ". Molimo unesite opet." &lt;&lt; std::endl;
                        }
                    } else if(t2==3) {
                        
                    }
                    }
                } else if(t==2) {
                    std::cout &lt;&lt; "Odaberite prodaju koju želite urediti. Dostupne prodaje su:" &lt;&lt; std::endl;
                    //p.IspisiSveProdaje();
                    for(int i(0); i&lt;p.DajBrojProdaja(); i++) {
                        std::cout &lt;&lt; i+1 &lt;&lt; "." &lt;&lt; std::endl;
                        p.DajProdaju(i+1).Ispisi();
                        //std::cout &lt;&lt; std::endl;
                    }
                    int t2;
                    std::cin &gt;&gt; t2;
                    std::cout &lt;&lt; "Izaberite opciju:" &lt;&lt; std::endl;
                    std::cout &lt;&lt; " 0 - nazad" &lt;&lt; std::endl &lt;&lt; " 1 - izmjena agenta" &lt;&lt; std::endl &lt;&lt; " 2 - izmjena datuma prodaje"
                              &lt;&lt; std::endl &lt;&lt; " 3 - izmjena kupca" &lt;&lt; std::endl &lt;&lt; " 4 - izmjena stana" &lt;&lt; std::endl
                              &lt;&lt; " 5 - izmjena cijene stana" &lt;&lt; std::endl;
                    int t3;
                    std::cin &gt;&gt; t3;
                    if(t3==0) {
                        continue;
                    } else if(t3==1) {
                        std::cin.ignore(1000, '\n');
                        std::cout &lt;&lt; "Unesite ime i prezime agenta prodaje: ";
                        std::string novo_ime; std::getline(std::cin, novo_ime);
                        try {
                        p.DajProdaju(t2).PromijeniImeAgenta(novo_ime);
                        std::cout &lt;&lt; "Prodaja je uspjesno izmijenjena!" &lt;&lt; std::endl &lt;&lt; std::endl;
                        }
                        catch(std::domain_error a) {
<a name="9"></a><font color="#FF00FF"><a href="match115-0.html#9" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_0.gif"/></a>

                            std::cout &lt;&lt; "Izuzetak: " &lt;&lt; a.what() &lt;&lt; ". Molimo unesite opet." &lt;&lt; std::endl;
                        }
                    } else if(t3==2) {
                        std::cout &lt;&lt; "Unesite datum prodaje (formata d/m/g): ";
                        int d,m,g; char z1,z2; std::cin &gt;&gt; d &gt;&gt; z1 &gt;&gt; m &gt;&gt; z2 &gt;&gt; g;
</font>                        try {
                        Datum novi_dat(d,m,g);
                        p.DajProdaju(t2).PromijeniDatumKupovine(novi_dat);
                        std::cout &lt;&lt; "Prodaja je uspjesno izmijenjena!" &lt;&lt; std::endl;
                        }
                        catch(std::domain_error a) {
                            std::cout &lt;&lt; "Izuzetak: " &lt;&lt; a.what() &lt;&lt; ". Molimo unesite opet." &lt;&lt; std::endl;
                        }
                    } else if(t3==3) {
                        std::cout &lt;&lt; "Izaberite opciju:" &lt;&lt; std::endl &lt;&lt; " 0 - nazad" &lt;&lt; std::endl
                                  &lt;&lt; " 1 - odabir postojeceg kupca" &lt;&lt; std::endl
                                  &lt;&lt; " 2 - dodavanje novog kupca" &lt;&lt; std::endl;
                        int t4; std::cin &gt;&gt; t4;
                        if(t4==0) {
                            continue;
                        } else if(t4==1) {
                            std::cout &lt;&lt; "Odaberite kupca. Dostupni kupci su:" &lt;&lt; std::endl;
                            for(int i(0); i&lt;kupci.size(); i++) {
                                std::cout &lt;&lt; " " &lt;&lt; i+1 &lt;&lt; " - "; kupci[i].Ispisi();
                                std::cout &lt;&lt; std::endl;
                            }
                            int t5; std::cin &gt;&gt; t5;
                            p.DajProdaju(t2).PromijeniKupca(kupci[t5-1]);
                            std::cout &lt;&lt; "Prodaja je uspjesno izmijenjena!" &lt;&lt; std::endl &lt;&lt; std::endl;
                        } else if(t4==2) {
                            while(1) {
                                std::cin.ignore(1000, '\n');
                                std::cout &lt;&lt; "Unesite ime i prezime kupca: ";
<a name="8"></a><font color="#00FFFF"><a href="match115-0.html#8" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_0.gif"/></a>

                                std::string ime_kupca; std::getline(std::cin, ime_kupca);
                                std::cout &lt;&lt; "Unesite datum rodjenja (formata d/m/g): ";
                                int d,m,g; char z1, z2; std::cin &gt;&gt; d &gt;&gt; z1 &gt;&gt; m &gt;&gt; z2 &gt;&gt; g;
</font>                                if(z1=='/' and z2=='/') 
                                    try {
                                        Datum datum_rodjenja(d,m,g);
                                        Kupac kupac(ime_kupca, datum_rodjenja);
                                        //kupci.push_back(kupac);
                                        p.DajProdaju(t2).PromijeniKupca(kupac);
                                        std::cout &lt;&lt; "Prodaja je uspjesno izmijenjena!" &lt;&lt; std::endl;
                                        break;
                                    }
                                catch(std::domain_error a) {
                                    std::cout &lt;&lt; "Izuzetak: " &lt;&lt; a.what() &lt;&lt; ". Molimo unesite opet." &lt;&lt; std::endl;
                                }
                            }
                        }
                    } else if(t3==4) {
                        std::cout &lt;&lt; "Izaberite opciju:" &lt;&lt; std::endl &lt;&lt; " 0 - nazad" &lt;&lt; std::endl
                                  &lt;&lt; " 1 - odabir postojeceg stana" &lt;&lt; std::endl
                                  &lt;&lt; " 2 - dodavanje novog stana" &lt;&lt; std::endl;
                        int t4; std::cin &gt;&gt; t4;
                        if(t4==0) {
                            continue;
                        } else if(t4==1) {
                            std::cout &lt;&lt; "Odaberite stan. Dostupni stanovi su:" &lt;&lt; std::endl;
                            for(int i(0); i&lt;stanovi.size(); i++) {
                                std::cout &lt;&lt; " " &lt;&lt; i+1 &lt;&lt; " - "; stanovi[i].Ispisi();
                                std::cout &lt;&lt; std::endl;
                            }
                            int t5; std::cin &gt;&gt; t5;
                            p.DajProdaju(t2).PromijeniStan(stanovi[t5-1]);
                            std::cout &lt;&lt; "Prodaja je uspjesno izmijenjena!" &lt;&lt; std::endl;
                        } else if(t4==2) {
                            while(1) {
                                std::cin.clear();
                                std::cin.ignore(1000, '\n');
                                std::cout &lt;&lt; "Unesite adresu: ";
                                std::getline(std::cin, adresa);
                                std::cout &lt;&lt; "Unesite sprat: ";
                                std::cin &gt;&gt; sprat;
                                std::cout &lt;&lt; "Unesite broj soba: ";
                                std::cin &gt;&gt; broj_soba;
                                std::cout &lt;&lt; "Da li je stan namjesten (1 - da, 0 - ne): ";
                                std::cin &gt;&gt; temp; bool namjesten;
                                if(temp==1) namjesten=true;
                                else if(temp==0) namjesten=false;
                                std::cout &lt;&lt; "Unesite kvadraturu: ";
                                std::cin &gt;&gt; kvadratura;
                                try{
                                    if(temp!=1 and temp!=0) throw std::domain_error("Neispravan unos podataka");
                                    Stan stan(adresa, sprat, broj_soba, namjesten, kvadratura);
                                    //stanovi.push_back(stan);
                                    p.DajProdaju(t2).PromijeniStan(stan);
                                    std::cout &lt;&lt; "Prodaja je uspjesno izmijenjena!" &lt;&lt; std::endl;
                                    break;
                                }
                                catch(std::domain_error a) {
                                    std::cout &lt;&lt; "Izuzetak: " &lt;&lt; a.what() &lt;&lt; ". Molimo unesite opet." &lt;&lt; std::endl;
                                }
                            }
                        }
                    } else if(t3==5) {
                            std::cin.ignore(1000, '\n');
                            std::cout &lt;&lt; "Unesite cijenu stana: ";
                            double cijena; std::cin &gt;&gt; cijena;
                            p.DajProdaju(t2).PromijeniCijenuProdaje(cijena);
                            std::cout &lt;&lt; "Prodaja je uspjesno izmijenjena!" &lt;&lt; std::endl;
                    }
                } else if(t==3) {
                    while(1) {
                    std::cout &lt;&lt; "Izaberite opciju:" &lt;&lt; std::endl;
                    std::cout &lt;&lt; " 0 - nazad" &lt;&lt; std::endl &lt;&lt; " 1 - ispis svih prodaja" &lt;&lt; std::endl &lt;&lt; " 2 - ispis prodaja na datum"
                              &lt;&lt; std::endl &lt;&lt; " 3 - ispis najranije prodaje" &lt;&lt; std::endl &lt;&lt; " 4 - ispis najskuplje prodaje" &lt;&lt; std::endl
                              &lt;&lt; " 5 - ispis broja prodaja" &lt;&lt; std::endl &lt;&lt; " 6 - ispis broja prodaja po datumu" &lt;&lt; std::endl
                              &lt;&lt; " 7 - ispis broja prodaja po agentu" &lt;&lt; std::endl &lt;&lt; " 8 - kraj" &lt;&lt; std::endl;
                    int t2; std::cin &gt;&gt; t2;
                    if(t2==0) {
                        break;
                    } else if(t2==1) {
                        p.IspisiSveProdaje();
<a name="18"></a><font color="#00FFFF"><a href="match115-0.html#18" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_0.gif"/></a>

                    } else if(t2==2) {
                        std::cout &lt;&lt; "Unesite datum (d/m/g): ";
                        int d,m,g; char z1,z2;
                        std::cin &gt;&gt; d &gt;&gt; z1 &gt;&gt; m &gt;&gt; z2 &gt;&gt; g;
</font>                        try {
                            Datum testni(d,m,g);
                            std::cout &lt;&lt; "Prodaje na datum ";
                            testni.Ispisi(); std::cout &lt;&lt; " su:" &lt;&lt; std::endl;
                            p.IspisiProdajeNaDatum(testni);
                        }
                        catch(std::domain_error a) {
                            std::cout &lt;&lt; "Izuzetak: " &lt;&lt; a.what() &lt;&lt; ". Molimo unesite opet." &lt;&lt; std::endl;
                        }
                    } else if(t2==3) {
                        p.IspisiProdajeNaDatum(p.DajNajranijuProdaju().DajDatumProdaje());
                    } else if(t2==4) {
                        p.IspisiProdajeNaDatum(p.DajNajskupljuProdaju().DajDatumProdaje());
                    } else if(t2==5) {
                        std::cout &lt;&lt; "Broj prodaja: " &lt;&lt; p.DajBrojProdaja() &lt;&lt; std::endl;
                    } else if(t2==6) {
                        std::cout &lt;&lt; "Unesite datum (d/m/g): ";
                        int d,m,g; char z1,z2;
                        std::cin &gt;&gt; d &gt;&gt; z1 &gt;&gt; m &gt;&gt; z2 &gt;&gt; g;
                        try {
                            Datum testni(d,m,g);
                            std::cout &lt;&lt; "Broj Prodaje na uneseni datum: ";
                            std::cout &lt;&lt; p.DajBrojProdajaNaDatum(testni) &lt;&lt; std::endl;
                        }
                        catch(std::domain_error a) {
                            std::cout &lt;&lt; "Izuzetak: " &lt;&lt; a.what() &lt;&lt; ". Molimo unesite opet." &lt;&lt; std::endl;
                        }
                    } else if(t2==7) {
                        std::cin.ignore(1000, '\n');
                        std::cout &lt;&lt; "Unesite ime agenta: ";
                        std::string testno_ime;
                        std::getline(std::cin, testno_ime);
                        std::cout &lt;&lt; "Broj prodaja: " &lt;&lt; p.DajBrojProdajaOdAgenta(testno_ime) &lt;&lt; std::endl;
                    } else if(t2==8) {
                        return 0;
                    }
                    }
                } else if(t==4) {
                    while(1) {
                    std::cout &lt;&lt; std::endl &lt;&lt; "Izaberite opciju:" &lt;&lt; std::endl;
                    std::cout &lt;&lt; " 0 - nazad" &lt;&lt; std::endl &lt;&lt; " 1 - brisanje najranije prodaje" &lt;&lt; std::endl &lt;&lt; " 2 - brisanje prodaja agenta"
                              &lt;&lt; std::endl &lt;&lt; " 3 - brisanje prodaja po datumu" &lt;&lt; std::endl &lt;&lt; " 4 - brisanje svih prodaja" &lt;&lt; std::endl;
                    int t2; std::cin &gt;&gt; t2;
                    try {
                    if(t2==0) {
                        break;
                    } else if(t2==1) {
                        p.ObrisiNajranijuProdaju();
                        std::cout &lt;&lt; "Najranija prodaja je obrisana!" &lt;&lt; std::endl;
                    } else if(t2==2) {
                        std::cin.ignore(1000, '\n');
                        std::cout &lt;&lt; "Unesite ime agenta: ";
                        std::string testno_ime;
                        std::getline(std::cin, testno_ime);
                        p.ObrisiProdajeAgenta(testno_ime);
                        std::cout &lt;&lt; "Sve prodaje tog agenta su obrisane." &lt;&lt; std::endl;
                    } else if(t2==3) {
                        while(1) {
                        std::cout &lt;&lt; "Unesite datum (d/m/g): ";
<a name="28"></a><font color="#00FFFF"><a href="match115-0.html#28" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_0.gif"/></a>

                        int d,m,g; char z1,z2;
                        std::cin &gt;&gt; d &gt;&gt; z1 &gt;&gt; m &gt;&gt; z2 &gt;&gt; g;
                        try {
                            Datum testni(d,m,g);
</font>                            p.ObrisiProdajeNaDatum(testni);
                            std::cout &lt;&lt; "Sve prodaje na taj datum su obrisane." &lt;&lt; std::endl;
                            break;
                        }
                        catch(std::domain_error a) {
                            std::cout &lt;&lt; "Izuzetak: " &lt;&lt; a.what() &lt;&lt; ". Molimo unesite opet." &lt;&lt; std::endl;
                        }
                        }
                    } else if(t2==4) {
                        p.IsprazniKolekciju();
                        std::cout &lt;&lt; "Sve prodaje su obrisane." &lt;&lt; std::endl;
                    }
                    }
                    catch(std::range_error a) {
<a name="30"></a><font color="#FF0000"><a href="match115-0.html#30" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_0.gif"/></a>

                        std::cout &lt;&lt; "Izuzetak: " &lt;&lt; a.what() &lt;&lt; "." &lt;&lt; std::endl;
                    }
                    }
                } else if(t==5) {
                    return 0;
</font>                }
            }
        }
    }
    std::cout &lt;&lt; std::endl &lt;&lt; "Dovidjenja!";
	return 0;
}</pre>
</body>
</html>
