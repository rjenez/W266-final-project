<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z4/student7392.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z4/student7392.cpp<p></p><pre>
/B 2016/2017, ZadaÄ‡a 4, Zadatak 4
//Napomena: testovi ce biti dostupni dan pred rok!
#include &lt;iostream&gt;
#include &lt;string&gt;
#include &lt;stdexcept&gt;
#include &lt;initializer_list&gt;
#include &lt;algorithm&gt;
#include &lt;utility&gt;
#include &lt;vector&gt; 
#include &lt;cstdio&gt;
#include &lt;memory&gt;

bool testdatuma(int dan, int mjesec, int godina){
    int dani[]{31, 29, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31};
    if(godina%4!=0 || godina%400==0)dani[1]--;
    return !(dan&lt;1 || mjesec&lt;1 || godina&lt;1 || dan&gt;dani[mjesec-1] || mjesec&gt;12);
}
bool testimena(const std::string &amp;a){
    for(auto i:a)if(i!='\'' &amp;&amp; i!=' ' &amp;&amp; i!='-' &amp;&amp; !(i&gt;='0' &amp;&amp; i&lt;='9') &amp;&amp; !((i&gt;='a' &amp;&amp; i&lt;='z') || (i&gt;='A' &amp;&amp; i&lt;='Z')))return false;
    return true;
}

class Datum{
<a name="1"></a><font color="#00FF00"><a href="match337-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_1.gif"/></a>

    int dan, mjesec, godina;
public:
    Datum(int dan, int mjesec, int godina){Postavi(dan, mjesec, godina);}
    void Postavi(int dan, int mjesec, int godina);
    int DajDan() const{return dan;}
    int DajMjesec() const{return mjesec;}
    int DajGodinu() const{return godina;}
    void Ispisi() const{std::cout&lt;&lt;dan&lt;&lt;"/"&lt;&lt;mjesec&lt;&lt;"/"&lt;&lt;godina;}
};
void Datum::Postavi(int dan, int mjesec, int godina){
</font>    if(!testdatuma(dan, mjesec, godina))throw std::domain_error("Neispravan datum");
    this-&gt;dan=dan;
    this-&gt;mjesec=mjesec;
    this-&gt;godina=godina;
}

Datum mjenjajdatum(int dan, int mjesec, int godina, int a){
    dan+=a;
    int dani[]{31, 29, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31};
    if(godina%4!=0 || godina%400==0)dani[1]=28;
    if(dan==0){
        mjesec--;
        if(mjesec==0){
            mjesec=12;
            godina--;
        }
        if(godina%4!=0 || godina%400==0)dani[1]=28;
        dan=dani[mjesec-1];
    } else if(dan&gt;dani[mjesec-1]){
        dan=1;
        mjesec++;
        if(mjesec==13){
            mjesec=1;
            godina++;
        }
    }
    return {dan, mjesec, godina};
}
bool provjeridatume(const Datum &amp;d1, const Datum &amp;d2){
    if(d1.DajDan()!=d2.DajDan())return false;
    if(d1.DajMjesec()!=d2.DajMjesec())return false;
    if(d1.DajGodinu()!=d2.DajGodinu())return false;
    return true;
}

<a name="0"></a><font color="#FF0000"><a href="match337-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_1.gif"/></a>

class Kupac{
    std::string ime_i_prezime;
    Datum datum_rodjenja;
public:
    Kupac(const std::string &amp;ime_i_prezime, const Datum &amp;datum_rodjenja): datum_rodjenja(datum_rodjenja){
        Postavi(ime_i_prezime, datum_rodjenja);
    } 
    void Postavi(const std::string &amp;ime_i_prezime, const Datum &amp;datum_rodjenja);
    std::string DajImePrezime() const{return ime_i_prezime;}
    Datum DajDatumRodjenja() const{return datum_rodjenja;}
    void Ispisi() const{std::cout&lt;&lt;ime_i_prezime&lt;&lt;" (";datum_rodjenja.Ispisi();std::cout&lt;&lt;")";}
};
void Kupac::Postavi(const std::string &amp;ime_i_prezime, const Datum &amp;datum_rodjenja){
</font>    if(!testimena(ime_i_prezime))throw std::domain_error("Neispravno ime i prezime");
    this-&gt;datum_rodjenja=datum_rodjenja;
<a name="7"></a><font color="#0000FF"><a href="match337-1.html#7" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_0.gif"/></a>

    this-&gt;ime_i_prezime=ime_i_prezime;
}

class Stan{
    std::string adresa;
    int sprat;
    int broj_soba;
    bool namjesten;
    double kvadratura;
public:
    Stan(const std::string &amp;adresa, int sprat, int broj_soba, bool namjesten, double kvadratura){
</font>        Postavi(adresa, sprat, broj_soba, namjesten, kvadratura);
    }
    void Postavi(const std::string &amp;adresa, int sprat, int broj_soba, bool namjesten, double kvadratura);
    int DajSprat() const{return sprat;}
    int DajBrojSoba() const{return broj_soba;}
    bool DajNamjesten() const{return namjesten;}
    double DajKvadraturu() const{return kvadratura;}
<a name="9"></a><font color="#FF00FF"><a href="match337-1.html#9" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_0.gif"/></a>

    std::string DajAdresu() const{return adresa;}
    void Ispisi() const;
};
void Stan::Postavi(const std::string &amp;adresa, int sprat, int broj_soba, bool namjesten, double kvadratura){
    if(sprat&lt;0 || broj_soba&lt;0 || kvadratura&lt;0)throw std::domain_error("Neispravan unos podataka");
</font>    this-&gt;adresa=adresa;
    this-&gt;sprat=sprat;
    this-&gt;broj_soba=broj_soba;
    this-&gt;namjesten=namjesten;
<a name="11"></a><font color="#00FF00"><a href="match337-1.html#11" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_0.gif"/></a>

    this-&gt;kvadratura=kvadratura;
}
void Stan::Ispisi() const{
    std::cout&lt;&lt;"Stan se nalazi na adresi "&lt;&lt;DajAdresu()&lt;&lt;" na "&lt;&lt;DajSprat()&lt;&lt;". spratu i ima "&lt;&lt;DajBrojSoba()&lt;&lt;" ";
</font>    if((broj_soba&gt;9 &amp;&amp; broj_soba&lt;15) || broj_soba%10&gt;4 || broj_soba%10==0)std::cout&lt;&lt;"soba"; else {
        if(broj_soba%10==1)std::cout&lt;&lt;"sobu";
        if(broj_soba%10&gt;1 &amp;&amp; broj_soba%10&lt;5)std::cout&lt;&lt;"sobe";
    }
    std::cout&lt;&lt;". ";
    std::cout&lt;&lt;"Kvadratura stana je "&lt;&lt;DajKvadraturu()&lt;&lt;" (m^2) i stan ";
    if(!namjesten)std::cout&lt;&lt;"ni";
    std::cout&lt;&lt;"je namjesten.";
}

class Prodaja{
    std::string ime_agenta_prodaje;
    double cijena_stana;
    Datum datum_prodaje;
    Kupac kupac_stana;
    Stan kupljeni_stan;
    friend void PromijeniAgenta(std::string s, Prodaja &amp;p){
        p.ime_agenta_prodaje=s;
    }
public:
<a name="6"></a><font color="#00FF00"><a href="match337-1.html#6" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_0.gif"/></a>

    Prodaja(const std::string &amp;ime_agenta_prodaje, double cijena_stana, const Datum &amp;datum_prodaje, const Kupac &amp;kupac_stana, 
    const Stan &amp;kupljeni_stan);
    Prodaja(const std::string &amp;ime_agenta_prodaje, double cijena_stana, int dan_prodaje, int mjesec_prodaje, int godina_prodaje,
</font>    const std::string &amp;ime_kupca, const Datum &amp;datum_rodjenja_kupca, 
<a name="4"></a><font color="#FF00FF"><a href="match337-1.html#4" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_0.gif"/></a>

    const std::string &amp;adresa_stana, int sprat_stana, int broj_soba, bool namjesten_stan, double broj_kvadrata);
    void PromijeniKupca(const Kupac &amp;novi_kupac){kupac_stana=novi_kupac;}
    void PromijeniStan(const Stan &amp;novi_stan){kupljeni_stan=novi_stan;}
    void PromijeniDatumKupovine(const Datum &amp;datum){datum_prodaje=datum;}
</font>    void PromijeniCijenuProdaje(const double &amp;nova_cijena){cijena_stana=nova_cijena;}
    void PomjeriDanUnaprijed(){datum_prodaje=mjenjajdatum(datum_prodaje.DajDan(), datum_prodaje.DajMjesec(), datum_prodaje.DajGodinu(), 1);}
    void PomjeriDanUnazad(){datum_prodaje=mjenjajdatum(datum_prodaje.DajDan(), datum_prodaje.DajMjesec(), datum_prodaje.DajGodinu(), -1);}
    std::string DajImeAgenta() const{return ime_agenta_prodaje;}
    std::string DajImeKupca() const{return kupac_stana.DajImePrezime();}
    Datum DajDatumProdaje() const{return datum_prodaje;}
    double DajCijenuStana() const{return cijena_stana;}
    friend bool ProdatPrije(const Prodaja &amp;p1, const Prodaja &amp;p2);
    friend bool SkupljiStan(const Prodaja &amp;p1, const Prodaja &amp;p2){return p1.DajCijenuStana()&lt;p2.DajCijenuStana();}
    void Ispisi() const;
};
<a name="10"></a><font color="#FF0000"><a href="match337-1.html#10" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_0.gif"/></a>

bool ProdatPrije(const Prodaja &amp;p1, const Prodaja &amp;p2){
    if(p1.DajDatumProdaje().DajGodinu()&lt;p2.DajDatumProdaje().DajGodinu())return true;
    if(p1.DajDatumProdaje().DajGodinu()&gt;p2.DajDatumProdaje().DajGodinu())return false;
</font>    if(p1.DajDatumProdaje().DajMjesec()&lt;p2.DajDatumProdaje().DajMjesec())return true;
    if(p1.DajDatumProdaje().DajMjesec()&gt;p2.DajDatumProdaje().DajMjesec())return false;
    return p1.DajDatumProdaje().DajDan()&gt;p2.DajDatumProdaje().DajDan();
}
void Prodaja::Ispisi() const{
    std::cout&lt;&lt;"Ime agenta:                     "&lt;&lt;DajImeAgenta()&lt;&lt;'\n';
    std::cout&lt;&lt;"Ime kupca:                      "&lt;&lt;DajImeKupca()&lt;&lt;" (";kupac_stana.DajDatumRodjenja().Ispisi();std::cout&lt;&lt;")\n";
    std::cout&lt;&lt;"Zakazani datum prodaje:         ";DajDatumProdaje().Ispisi();std::cout&lt;&lt;"\n";
    std::cout&lt;&lt;"Cijena stana:                   "&lt;&lt;DajCijenuStana()&lt;&lt;'\n';
    std::cout&lt;&lt;"Informacije o stanu:            \n";
    kupljeni_stan.Ispisi();
}
Prodaja::Prodaja(const std::string &amp;ime_agenta_prodaje, double cijena_stana, int dan_prodaje, int mjesec_prodaje, int godina_prodaje,
const std::string &amp;ime_kupca, const Datum &amp;datum_rodjenja_kupca, 
<a name="3"></a><font color="#00FFFF"><a href="match337-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_0.gif"/></a>

const std::string &amp;adresa_stana, int sprat_stana, int broj_soba, bool namjesten_stan, double broj_kvadrata):
    ime_agenta_prodaje(ime_agenta_prodaje),
    cijena_stana(cijena_stana),
    datum_prodaje(dan_prodaje, mjesec_prodaje, godina_prodaje), 
    kupac_stana(ime_kupca, datum_rodjenja_kupca),
    kupljeni_stan(adresa_stana, sprat_stana, broj_soba, namjesten_stan, broj_kvadrata){}
</font>Prodaja::Prodaja(const std::string &amp;ime_agenta_prodaje, double cijena_stana, const Datum &amp;datum_prodaje, const Kupac &amp;kupac_stana, 
const Stan &amp;kupljeni_stan): datum_prodaje(datum_prodaje), kupac_stana(kupac_stana), kupljeni_stan(kupljeni_stan){
    this-&gt;ime_agenta_prodaje=ime_agenta_prodaje;
    this-&gt;cijena_stana=cijena_stana;
}

class Prodaje{
    std::vector&lt;std::shared_ptr&lt;Prodaja&gt;&gt; niz_prodaja;
    void sortirajpodatumu();
    void sortirajpoimenukupca();
public:
    explicit Prodaje(){}
    Prodaje(std::initializer_list&lt;Prodaja&gt; spisak_prodaja);
    ~Prodaje();
    Prodaje(const Prodaje &amp;prodaje);
    Prodaje(Prodaje &amp;&amp;prodaje);
    Prodaje &amp;operator =(const Prodaje &amp;prodaje);
    Prodaje &amp;operator =(Prodaje &amp;&amp;prodaje);
    void RegistrirajProdaju(const std::string &amp;ime_agenta_prodaje, double cijena_stana, const Datum &amp;datum_prodaje,
    const Kupac &amp;kupac_stana, const Stan &amp;kupljeni_stan);
    void RegistrirajProdaju(const std::string &amp;ime_agenta_prodaje, double cijena_stana, int dan_prodaje, int mjesec_prodaje,
<a name="8"></a><font color="#00FFFF"><a href="match337-1.html#8" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_0.gif"/></a>

    int godina_prodaje, std::string &amp;ime_kupca, const Datum &amp;datum_rodjenja_kupca, const std::string &amp;adresa_stana,
    int sprat_stana, int broj_soba, bool namjesten_stan, double broj_kvadrata);
    void RegistrirajProdaju(std::shared_ptr&lt;Prodaja&gt; prodaja);
    int DajBrojProdaja() const{return niz_prodaja.size();}
</font>    int DajBrojProdajaNaDatum(const Datum &amp;datum) const;
    int DajBrojProdajaOdAgenta(const std::string &amp;ime_agenta) const;
    Prodaja &amp;DajNajranijuProdaju();
    Prodaja DajNajranijuProdaju() const;
    Prodaja &amp;DajNajskupljuProdaju();
    Prodaja DajNajskupljuProdaju() const;
    Prodaja &amp;DajProdaju(int indeks);
    void IsprazniKolekciju();
    void ObrisiNajranijuProdaju();
    void ObrisiProdajeAgenta(const std::string &amp;ime_agenta);
    void ObrisiProdajeNaDatum(const Datum &amp;datum);
    void IspisiProdajeNaDatum(const Datum &amp;datum) const;
    void IspisiSveProdaje() const;
};
void Prodaje::sortirajpodatumu(){
<a name="12"></a><font color="#0000FF"><a href="match337-1.html#12" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_0.gif"/></a>

    std::sort(niz_prodaja.begin(), niz_prodaja.end(), [](std::shared_ptr&lt;Prodaja&gt; p1, std::shared_ptr&lt;Prodaja&gt; p2){
         if(ProdatPrije(*p1, *p2))return false;
</font>         if(ProdatPrije(*p2, *p1))return true;
         return p1-&gt;DajImeKupca()&lt;p2-&gt;DajImeKupca();
    });
}
void Prodaje::sortirajpoimenukupca(){
<a name="13"></a><font color="#00FFFF"><a href="match337-1.html#13" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_0.gif"/></a>

    std::sort(niz_prodaja.begin(), niz_prodaja.end(), [](std::shared_ptr&lt;Prodaja&gt; p1, std::shared_ptr&lt;Prodaja&gt; p2){
         return p1-&gt;DajImeKupca()&lt;p2-&gt;DajImeKupca();
</font>    });
}
Prodaje::Prodaje(std::initializer_list&lt;Prodaja&gt; spisak_prodaja){
    for(auto p=spisak_prodaja.begin();p!=spisak_prodaja.end();p++){
        niz_prodaja.push_back(std::make_shared&lt;Prodaja&gt;(*p));
    }
}
Prodaje::~Prodaje(){}
Prodaje::Prodaje(const Prodaje &amp;prodaje){
    for(int i=0;i&lt;prodaje.niz_prodaja.size();i++){
        niz_prodaja.push_back(std::make_shared&lt;Prodaja&gt;(*prodaje.niz_prodaja[i]));
    }
}
Prodaje::Prodaje(Prodaje &amp;&amp;prodaje){
    niz_prodaja=prodaje.niz_prodaja;
    prodaje.niz_prodaja.clear();
}
Prodaje &amp;Prodaje::operator =(const Prodaje &amp;prodaje){
    for(int i=0;i&lt;prodaje.niz_prodaja.size();i++){
        niz_prodaja.push_back(std::make_shared&lt;Prodaja&gt;(*prodaje.niz_prodaja[i]));
    }
    return *this;
}
Prodaje &amp;Prodaje::operator =(Prodaje &amp;&amp;prodaje){
    niz_prodaja=prodaje.niz_prodaja;
    prodaje.niz_prodaja.clear();
    return *this;
}

<a name="14"></a><font color="#FF00FF"><a href="match337-1.html#14" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_0.gif"/></a>

void Prodaje::RegistrirajProdaju(const std::string &amp;ime_agenta_prodaje, double cijena_stana, const Datum &amp;datum_prodaje,
    const Kupac &amp;kupac_stana, const Stan &amp;kupljeni_stan){
        niz_prodaja.push_back(std::make_shared&lt;Prodaja&gt;(ime_agenta_prodaje, cijena_stana, datum_prodaje, kupac_stana, kupljeni_stan));
</font><a name="2"></a><font color="#0000FF"><a href="match337-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_1.gif"/></a>

}
void Prodaje::RegistrirajProdaju(const std::string &amp;ime_agenta_prodaje, double cijena_stana, int dan_prodaje, int mjesec_prodaje,
    int godina_prodaje, std::string &amp;ime_kupca, const Datum &amp;datum_rodjenja_kupca, const std::string &amp;adresa_stana,
    int sprat_stana, int broj_soba, bool namjesten_stan, double broj_kvadrata){
        niz_prodaja.push_back(std::make_shared&lt;Prodaja&gt;(ime_agenta_prodaje, cijena_stana, dan_prodaje, mjesec_prodaje,
</font><a name="5"></a><font color="#FF0000"><a href="match337-1.html#5" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_0.gif"/></a>

        godina_prodaje, ime_kupca, datum_rodjenja_kupca, adresa_stana, sprat_stana, broj_soba, namjesten_stan, broj_kvadrata));
}
void Prodaje::RegistrirajProdaju(std::shared_ptr&lt;Prodaja&gt; prodaja){
    niz_prodaja.push_back(prodaja);
}
int Prodaje::DajBrojProdajaNaDatum(const Datum &amp;datum) const{
</font>    int k=std::count_if(niz_prodaja.begin(), niz_prodaja.end(), [datum](std::shared_ptr&lt;Prodaja&gt; pro){
        return provjeridatume(pro-&gt;DajDatumProdaje(), datum);
    });
    return k;
}
int Prodaje::DajBrojProdajaOdAgenta(const std::string &amp;ime_agenta) const{
    int k=std::count_if(niz_prodaja.begin(), niz_prodaja.end(), [ime_agenta](std::shared_ptr&lt;Prodaja&gt; pro){
        return ime_agenta==pro-&gt;DajImeAgenta();
    });
    return k;
}
Prodaja &amp;Prodaje::DajNajranijuProdaju(){
    if(niz_prodaja.size()==0)throw std::domain_error("Nema registriranih prodaja");
    return **std::min_element(niz_prodaja.begin(), niz_prodaja.end(), [](std::shared_ptr&lt;Prodaja&gt; pro, std::shared_ptr&lt;Prodaja&gt; pro1){
          return !ProdatPrije(*pro, *pro1);
    });  
}
Prodaja Prodaje::DajNajranijuProdaju() const{
    if(niz_prodaja.size()==0)throw std::domain_error("Nema registriranih prodaja");
    return **std::min_element(niz_prodaja.begin(), niz_prodaja.end(), [](std::shared_ptr&lt;Prodaja&gt; pro, std::shared_ptr&lt;Prodaja&gt; pro1){
          return !ProdatPrije(*pro, *pro1);
    }); 
}
Prodaja &amp;Prodaje::DajNajskupljuProdaju(){
    if(niz_prodaja.size()==0)throw std::domain_error("Nema registriranih prodaja");
    return **std::max_element(niz_prodaja.begin(), niz_prodaja.end(), [](std::shared_ptr&lt;Prodaja&gt; pro, std::shared_ptr&lt;Prodaja&gt; pro1){
          return SkupljiStan(*pro, *pro1);
    }); 
}
Prodaja Prodaje::DajNajskupljuProdaju() const{
    if(niz_prodaja.size()==0)throw std::domain_error("Nema registriranih prodaja");
    return **std::max_element(niz_prodaja.begin(), niz_prodaja.end(), [](std::shared_ptr&lt;Prodaja&gt; pro, std::shared_ptr&lt;Prodaja&gt; pro1){
          return SkupljiStan(*pro, *pro1);
    }); 
}
Prodaja &amp;Prodaje::DajProdaju(int indeks){
    if(indeks&lt;1 || indeks&gt;niz_prodaja.size())throw std::range_error("indeks ne valja");
    return *niz_prodaja[indeks-1];
}
void Prodaje::IsprazniKolekciju(){
    niz_prodaja.clear();
}
void Prodaje::ObrisiNajranijuProdaju(){
    auto p=std::min_element(niz_prodaja.begin(), niz_prodaja.end(), [](std::shared_ptr&lt;Prodaja&gt; pro, std::shared_ptr&lt;Prodaja&gt; pro1){
          return !ProdatPrije(*pro, *pro1);
    });
    niz_prodaja.erase(p);
}
void Prodaje::ObrisiProdajeAgenta(const std::string &amp;ime_agenta){
    for(int i=0;i&lt;niz_prodaja.size();i++){
        if(ime_agenta==niz_prodaja[i]-&gt;DajImeAgenta()){
            niz_prodaja.erase(niz_prodaja.begin()+i);
            i--;
        }
    }
}
void Prodaje::ObrisiProdajeNaDatum(const Datum &amp;datum){
    for(int i=0;i&lt;niz_prodaja.size();i++){
        if(provjeridatume(datum, niz_prodaja[i]-&gt;DajDatumProdaje())){
            niz_prodaja.erase(niz_prodaja.begin()+i);
            i--;
        }
    }
}
void Prodaje::IspisiProdajeNaDatum(const Datum &amp;datum) const{
    Prodaje p=*this;
    p.sortirajpoimenukupca();
    for(int i=0;i&lt;niz_prodaja.size();i++){
        if(provjeridatume(datum, p.niz_prodaja[i]-&gt;DajDatumProdaje())){
            p.niz_prodaja[i]-&gt;Ispisi();
            std::cout&lt;&lt;"\n";
        }
    }
}
void Prodaje::IspisiSveProdaje() const{
    Prodaje p=*this;
    p.sortirajpodatumu();
    for(int i=0;i&lt;niz_prodaja.size();i++){
        std::cout&lt;&lt;i+1&lt;&lt;".\n";
        p.niz_prodaja[i]-&gt;Ispisi();
        std::cout&lt;&lt;"\n";
    }
}

std::vector&lt;Stan&gt; stanovi;
std::vector&lt;Kupac&gt; kupci;
Prodaje prodaje;

void meni1();
Stan dodavanjestana();
void ispissvihstanova(std::string c, std::string a);
void uredjivanjestanova1();
void uredjivanjestanova2();
void uredjivanjestanova3(int indeks);
void uredjivanjekupaca();
void uredjivanjekupaca1();
void uredjivanjeprodaja();
Kupac dodavanjekupca(std::string ss);
void ispissvihkupaca(int t=0);
void uredjivanjekupaca2(int indeks);
void dodavanjeprodaje();
void uredjivanjeprodaje();
void uredjivanjeprodaje1(int indeks);
void ispisprodaja();
void brisanjeprodaja();
void dodavanjepotpunonoveprodaje();
void dodavanjenoveprodajenaosnovuarhive();
void ispissvihprodaja();
void ispisprodajanadatum();
void ispisnajranijeprodaje();
void ispisnajskupljeprodaje();
void ispisbrojaprodaja();
void ispisbrojaprodajapodatumu();
void ispisbrojaprodajapoagentu();
void brisanjenajranijeprodaje();
void brisanjeprodajaagenta();
void brisanjeprodajapodatumu();
void brisanjesvihprodaja();
void meni1(){
    std::cout&lt;&lt;"\n";
    do{
        std::cout&lt;&lt;"Izaberite opciju:\n";
        std::cout&lt;&lt;" 0 - kraj\n";
        std::cout&lt;&lt;" 1 - uredjivanje stanova\n";
        std::cout&lt;&lt;" 2 - uredjivanje kupaca\n";
        std::cout&lt;&lt;" 3 - uredjivanje prodaja\n";
        int n;
        std::cin&gt;&gt;n;
        if(n==0)throw std::invalid_argument("kraj");
        if(n==1)uredjivanjestanova1();
        if(n==2)uredjivanjekupaca();
        if(n==3)uredjivanjeprodaja();
    }while(true);
}
void uredjivanjestanova1(){
    do{
        std::cout&lt;&lt;"Izaberite opciju:\n";
        std::cout&lt;&lt;" 0 - nazad\n";
        std::cout&lt;&lt;" 1 - dodavanje stana\n";
        std::cout&lt;&lt;" 2 - uredjivanje stanova\n";
        std::cout&lt;&lt;" 3 - ispis svih stanova\n";
        std::cout&lt;&lt;" 4 - kraj\n";
        int n;
        std::cin&gt;&gt;n;
        if(n==0)return;
        if(n==1){
            stanovi.push_back(dodavanjestana());
            std::cout&lt;&lt;"Stan je uspjesno dodan!\n\n";
        }
        if(n==2)uredjivanjestanova2();
        if(n==3)ispissvihstanova("", ". ");
        if(n==4)throw std::invalid_argument("kraj");
    }while(true);
}
Stan dodavanjestana(){
    do{
        try{
            std::cout&lt;&lt;"Unesite adresu: ";
            std::string s;
            std::cin.ignore(1000, '\n');
            std::getline(std::cin, s, '\n');
            std::cout&lt;&lt;"Unesite sprat: ";
            int sprat, soba, n;
            bool namjesten=true;
            double kvadratura;
            std::cin&gt;&gt;sprat;
            std::cout&lt;&lt;"Unesite broj soba: ";
            std::cin&gt;&gt;soba;
            std::cout&lt;&lt;"Da li je stan namjesten (1 - da, 0 - ne): ";
            std::cin&gt;&gt;n;
            if(n==0)namjesten=false;
            std::cout&lt;&lt;"Unesite kvadraturu: ";
            std::cin&gt;&gt;kvadratura;
            if(n!=0 &amp;&amp; n!=1)throw std::domain_error("Neispravan unos podataka");
            return Stan(s, sprat, soba, namjesten, kvadratura);
        }
        catch(std::domain_error gg){
            std::cout&lt;&lt;"Izuzetak: "&lt;&lt;gg.what()&lt;&lt;". Molimo unesite opet.\n";
        }
    }while(true);
}
void ispissvihstanova(std::string c, std::string a){
    for(int i=0;i&lt;stanovi.size();i++){
        std::cout&lt;&lt;c&lt;&lt;i+1&lt;&lt;a;
        stanovi[i].Ispisi();
        std::cout&lt;&lt;"\n";
    }
}
void uredjivanjestanova2(){
    std::cout&lt;&lt;"Odaberite stan. Dostupni stanovi su:\n";
    ispissvihstanova(" ", " - ");
    int n;
    std::cin&gt;&gt;n;
    if(n&lt;1 || n&gt;stanovi.size())throw std::domain_error("index ne valja");
    uredjivanjestanova3(n-1);
}
void uredjivanjestanova3(int indeks){
    std::cout&lt;&lt;"Odaberite polje koje zelite urediti:\n";
    std::cout&lt;&lt;" 0 - nazad\n";
    std::cout&lt;&lt;" 1 - adresa\n";
    std::cout&lt;&lt;" 2 - sprat\n";
    std::cout&lt;&lt;" 3 - broj soba\n";
    std::cout&lt;&lt;" 4 - da li je stan namjesten\n";
    std::cout&lt;&lt;" 5 - kvadratura\n";
    std::cout&lt;&lt;" 6 - sve\n";
    int n;
    std::cin&gt;&gt;n;
    if(n==0)return;
    if(n==1){
        do{
            try{
                std::cout&lt;&lt;"Unesite adresu: ";
                std::string s;
                std::cin.ignore(1000, '\n');
                std::getline(std::cin, s, '\n');
                stanovi[indeks]=Stan(s, stanovi[indeks].DajSprat(), stanovi[indeks].DajBrojSoba(), stanovi[indeks].DajNamjesten(), stanovi[indeks].DajKvadraturu());
                std::cout&lt;&lt;"Stan je uspjesno izmijenjen!\n\n";
                return;
            }
            catch(std::domain_error gg){
                std::cout&lt;&lt;"Izuzetak: "&lt;&lt;gg.what()&lt;&lt;". Molimo unesite opet.\n";
            }
        }while(true);
    }
    if(n==2){
        do{
            try{
                std::cout&lt;&lt;"Unesite sprat: ";
                int sprat;
                std::cin&gt;&gt;sprat;
                stanovi[indeks]=Stan(stanovi[indeks].DajAdresu(), sprat, stanovi[indeks].DajBrojSoba(), stanovi[indeks].DajNamjesten(), stanovi[indeks].DajKvadraturu());
                std::cout&lt;&lt;"Stan je uspjesno izmijenjen!\n\n";
                return;
            }
            catch(std::domain_error gg){
                std::cout&lt;&lt;"Izuzetak: "&lt;&lt;gg.what()&lt;&lt;". Molimo unesite opet.\n";
            }
        }while(true);
    }
    if(n==3){
        do{
            try{
                std::cout&lt;&lt;"Unesite broj soba: ";
                int sobe;;
                std::cin&gt;&gt;sobe;
                stanovi[indeks]=Stan(stanovi[indeks].DajAdresu(), stanovi[indeks].DajSprat(), sobe, stanovi[indeks].DajNamjesten(), stanovi[indeks].DajKvadraturu());
                std::cout&lt;&lt;"Stan je uspjesno izmijenjen!\n\n";
                return;
            }
            catch(std::domain_error gg){
                std::cout&lt;&lt;"Izuzetak: "&lt;&lt;gg.what()&lt;&lt;". Molimo unesite opet.\n";
            }
        }while(true);
    }
    if(n==4){
        do{
            try{
                std::cout&lt;&lt;"Da li je stan namjesten (1 - da, 0 - ne): ";
                int nam;
                bool namjesten=true;
                std::cin&gt;&gt;nam;
                if(nam==0)namjesten=false;
                if(nam!=0 &amp;&amp; nam!=1)throw std::domain_error("Neispravan unos podataka");
                stanovi[indeks]=Stan(stanovi[indeks].DajAdresu(), stanovi[indeks].DajSprat(), stanovi[indeks].DajBrojSoba(), namjesten, stanovi[indeks].DajKvadraturu());
                std::cout&lt;&lt;"Stan je uspjesno izmijenjen!\n\n";
                return;
            }
            catch(std::domain_error gg){
                std::cout&lt;&lt;"Izuzetak: "&lt;&lt;gg.what()&lt;&lt;". Molimo unesite opet.\n";
            }
        }while(true);
    }
    if(n==5){
        do{
            try{
                std::cout&lt;&lt;"Unesite kvadraturu: ";
                double kvadratura;
                std::cin&gt;&gt;kvadratura;
                stanovi[indeks]=Stan(stanovi[indeks].DajAdresu(), stanovi[indeks].DajSprat(), stanovi[indeks].DajBrojSoba(), stanovi[indeks].DajNamjesten(), kvadratura);
                std::cout&lt;&lt;"Stan je uspjesno izmijenjen!\n\n";
                return;
            }
            catch(std::domain_error gg){
                std::cout&lt;&lt;"Izuzetak: "&lt;&lt;gg.what()&lt;&lt;". Molimo unesite opet.\n";
            }
        }while(true);
    }
    if(n==6){
        stanovi[indeks]=dodavanjestana();
        std::cout&lt;&lt;"Stan je uspjesno izmijenjen!\n\n";
    }
}
void uredjivanjekupaca(){
    do{
        std::cout&lt;&lt;"Izaberite opciju:\n";
        std::cout&lt;&lt;" 0 - nazad\n";
        std::cout&lt;&lt;" 1 - dodavanje kupca\n";
        std::cout&lt;&lt;" 2 - uredjivanje kupaca\n";
        std::cout&lt;&lt;" 3 - ispis svih kupaca\n";
        std::cout&lt;&lt;" 4 - kraj\n";
        int n;
        std::cin&gt;&gt;n;
        if(n==0)return;
        if(n==1){
            kupci.push_back(dodavanjekupca(""));
            std::cout&lt;&lt;"Kupac je uspjesno dodan!\n\n";
        }
        if(n==2)uredjivanjekupaca1();
        if(n==3)ispissvihkupaca();
        if(n==4)throw std::invalid_argument("kraj");
    }while(true);
}
Kupac dodavanjekupca(std::string ss){
    do{
        try{
            std::cout&lt;&lt;"Unesite ime ";
            if(ss!=" kupca")std::cout&lt;&lt;"i prezime ";
            std::cout&lt;&lt;"kupca: ";
            std::cin.ignore(1000, '\n');
            std::string a;
            std::getline(std::cin, a, '\n');
            std::cout&lt;&lt;"Unesite datum rodjenja"&lt;&lt;ss&lt;&lt;" (formata d/m/g): ";
            int dan, mjesec, godina;
            std::scanf("%d/%d/%d", &amp;dan, &amp;mjesec, &amp;godina);
            return Kupac(a, Datum(dan, mjesec, godina));
        }
        catch(std::domain_error gg){
            std::cout&lt;&lt;"Izuzetak: "&lt;&lt;gg.what()&lt;&lt;". Molimo unesite opet.\n";
        }
    }while(true);
}
void ispissvihkupaca(int t){
    for(int i=0;i&lt;kupci.size();i++){
        if(t!=0)std::cout&lt;&lt;" "&lt;&lt;i+1&lt;&lt;" - ";
        kupci[i].Ispisi();
        std::cout&lt;&lt;'\n';
    }
    if(t==0)std::cout&lt;&lt;"\n";
}
void uredjivanjekupaca1(){
    std::cout&lt;&lt;"Odaberite kupca kojeg zelite urediti. Dostupni kupci su:\n";
    ispissvihkupaca(1);
    int n;
    std::cin&gt;&gt;n;
    if(n&lt;1 || n&gt;kupci.size())throw std::domain_error("index ne valja");
    uredjivanjekupaca2(n-1);
}
void uredjivanjekupaca2(int indeks){
    kupci[indeks]=dodavanjekupca("");
    std::cout&lt;&lt;"Kupac je uspjesno izmijenjen!\n\n";
}
void uredjivanjeprodaja(){
    do{
        std::cout&lt;&lt;"Izaberite opciju:\n";
        std::cout&lt;&lt;" 0 - nazad\n";
        std::cout&lt;&lt;" 1 - dodavanje prodaje\n";
        std::cout&lt;&lt;" 2 - uredjivanje prodaje\n";
        std::cout&lt;&lt;" 3 - ispis prodaja\n";
        std::cout&lt;&lt;" 4 - brisanje prodaja\n";
        std::cout&lt;&lt;" 5 - kraj\n";
        int n;
        std::cin&gt;&gt;n;
        if(n==0)return;
        if(n==1)dodavanjeprodaje();
        if(n==2)uredjivanjeprodaje();
        if(n==3)ispisprodaja();
        if(n==4)brisanjeprodaja();
        if(n==5)throw std::invalid_argument("kraj");
    }while(true);
}
void dodavanjeprodaje(){
    do{
        std::cout&lt;&lt;"Izaberite opciju:\n";
        std::cout&lt;&lt;" 0 - nazad\n";
        std::cout&lt;&lt;" 1 - dodavanje potpuno nove prodaje\n";
        std::cout&lt;&lt;" 2 - dodavanje nove prodaje na osnovu arhive\n";
        std::cout&lt;&lt;" 3 - kraj\n";
        int n;
        std::cin&gt;&gt;n;
        if(n==0)return;
        if(n==1){
            dodavanjepotpunonoveprodaje();
            std::cout&lt;&lt;"Prodaja uspjesno dodana!\n\n";
        }
        if(n==2){
            dodavanjenoveprodajenaosnovuarhive();
            std::cout&lt;&lt;"Prodaja uspjesno dodana!\n\n";
        }
        if(n==3)throw std::invalid_argument("kraj");
    }while(true);
}
void dodavanjepotpunonoveprodaje(){
    do{
        try{
            std::string imeagenta;
            std::cout&lt;&lt;"Unesite ime i prezime agenta prodaje: ";
            std::cin.ignore(1000, '\n');
            std::getline(std::cin, imeagenta, '\n');
            std::cout&lt;&lt;"Unesite datum prodaje (formata d/m/g): ";
            int dan, mjesec, godina;
            std::scanf("%d/%d/%d", &amp;dan, &amp;mjesec, &amp;godina);
            std::cout&lt;&lt;"Unesite cijenu stana: ";
            double cijena;
            std::cin&gt;&gt;cijena;
            Kupac kupac=dodavanjekupca(" kupca");
            Stan stan=dodavanjestana();
            prodaje.RegistrirajProdaju(std::make_shared&lt;Prodaja&gt;(imeagenta, cijena, Datum(dan, mjesec, godina), kupac, stan));
            stanovi.push_back(stan);
            kupci.push_back(kupac);
            return;
        }
        catch(std::domain_error gg){
            std::cout&lt;&lt;"Izuzetak: "&lt;&lt;gg.what()&lt;&lt;". Molimo unesite opet.\n";
        }
    }while(true);
}
void dodavanjenoveprodajenaosnovuarhive(){
    do{
        try{
            std::string imeagenta;
            std::cout&lt;&lt;"Unesite ime i prezime agenta prodaje: ";
            std::cin.ignore(1000, '\n');
            std::getline(std::cin, imeagenta, '\n');
            std::cout&lt;&lt;"Unesite datum prodaje (formata d/m/g): ";
            int dan, mjesec, godina;
            std::scanf("%d/%d/%d", &amp;dan, &amp;mjesec, &amp;godina);
            std::cout&lt;&lt;"Unesite cijenu stana: ";
            double cijena;
            std::cin&gt;&gt;cijena;
            std::cout&lt;&lt;"Odaberite kupca. Dostupni kupci su:\n";
            ispissvihkupaca(1);
            int indekskupca;
            std::cin&gt;&gt;indekskupca;
            if(indekskupca&lt;1 || indekskupca&gt;kupci.size())throw std::domain_error("index ne valja");
            std::cout&lt;&lt;"Odaberite stan. Dostupni stanovi su:\n";
            ispissvihstanova(" ", " - ");
            int indeksstana;
            std::cin&gt;&gt;indeksstana;
            if(indeksstana&lt;1 || indeksstana&gt;stanovi.size())throw std::domain_error("index ne valja");
            prodaje.RegistrirajProdaju(std::make_shared&lt;Prodaja&gt;(imeagenta, cijena, Datum(dan, mjesec, godina), kupci[indekskupca-1], stanovi[indeksstana-1]));
            return;
        }
        catch(std::domain_error gg){
            std::cout&lt;&lt;"Izuzetak: "&lt;&lt;gg.what()&lt;&lt;". Molimo unesite opet.\n";
        }
    }while(true);
}
void uredjivanjeprodaje(){
    std::cout&lt;&lt;"Odaberite prodaju koju Å¾elite urediti. Dostupne prodaje su:\n";
    for(int i=0;i&lt;prodaje.DajBrojProdaja();i++){
        std::cout&lt;&lt;i+1&lt;&lt;".\n";
        prodaje.DajProdaju(i+1).Ispisi();
        std::cout&lt;&lt;"\n";
        if(i!=prodaje.DajBrojProdaja()-1)std::cout&lt;&lt;"\n";
    }
    int n;
    std::cin&gt;&gt;n;
    if(n&lt;1 || n-1&gt;prodaje.DajBrojProdaja())throw std::range_error("ne valja index");
    uredjivanjeprodaje1(n-1);
}
void uredjivanjeprodaje1(int indeks){
    do{
        std::cout&lt;&lt;"Izaberite opciju:\n";
        std::cout&lt;&lt;" 0 - nazad\n";
        std::cout&lt;&lt;" 1 - izmjena agenta\n";
        std::cout&lt;&lt;" 2 - izmjena datuma prodaje\n";
        std::cout&lt;&lt;" 3 - izmjena kupca\n";
        std::cout&lt;&lt;" 4 - izmjena stana\n";
        std::cout&lt;&lt;" 5 - izmjena cijene stana\n";
        int n;
        std::cin&gt;&gt;n;
        if(n==0)return;
        if(n==1){
            std::cout&lt;&lt;"Unesite ime i prezime agenta prodaje: ";
            std::cin.ignore(1000, '\n');
            std::string a;
            std::getline(std::cin, a, '\n');
            PromijeniAgenta(a, prodaje.DajProdaju(indeks+1));
            std::cout&lt;&lt;"Prodaja je uspjesno izmijenjena!\n\n";
            return;
        }
        if(n==2){
            do{
                try{
                    std::cout&lt;&lt;"Unesite datum prodaje (formata d/m/g): ";
                    int dan, mjesec, godina;
                    std::scanf("%d/%d/%d", &amp;dan, &amp;mjesec, &amp;godina);
                    prodaje.DajProdaju(indeks+1).PromijeniDatumKupovine(Datum(dan, mjesec, godina));
                    std::cout&lt;&lt;"Prodaja je uspjesno izmijenjena!\n\n";
                    return;
                }
                catch(std::domain_error gg){
                    std::cout&lt;&lt;"Izuzetak: "&lt;&lt;gg.what()&lt;&lt;". Molimo unesite opet.\n";
                }
            }while(true);
        }
        if(n==3){
            std::cout&lt;&lt;"Izaberite opciju:\n";
            std::cout&lt;&lt;" 0 - nazad\n";
            std::cout&lt;&lt;" 1 - odabir postojeceg kupca\n";
            std::cout&lt;&lt;" 2 - dodavanje novog kupca\n";
            int k;
            std::cin&gt;&gt;k;
            if(k==0)continue;
            if(k==1){
                std::cout&lt;&lt;"Odaberite kupca. Dostupni kupci su:\n";
                ispissvihkupaca(1);
                int ind;
                std::cin&gt;&gt;ind;
                if(ind&lt;1 || ind&gt;kupci.size())throw std::range_error("ne valja index");
                prodaje.DajProdaju(indeks+1).PromijeniKupca(kupci[ind-1]);
                std::cout&lt;&lt;"Prodaja je uspjesno izmijenjena!\n\n";
                return;
            }
            if(k==2){
                do{
                    try{
                        std::cout&lt;&lt;"Unesite ime i prezime kupca: ";
                        std::cin.ignore(1000, '\n');
                        std::string a;
                        std::getline(std::cin, a, '\n');
                        std::cout&lt;&lt;"Unesite datum rodjenja (formata d/m/g): ";
                        int dan, mjesec, godina;
                        std::scanf("%d/%d/%d", &amp;dan, &amp;mjesec, &amp;godina);
                        Kupac k=Kupac(a, Datum(dan, mjesec, godina));
                        prodaje.DajProdaju(indeks+1).PromijeniKupca(k);
                        kupci.push_back(k);
                        std::cout&lt;&lt;"Prodaja je uspjesno izmijenjena!\n\n";
                        return;
                    }
                    catch(std::domain_error gg){
                        std::cout&lt;&lt;"Izuzetak: "&lt;&lt;gg.what()&lt;&lt;". Molimo unesite opet.\n";
                    }
                }while(true);
            }
        }
        if(n==4){
            std::cout&lt;&lt;"Izaberite opciju:\n";
            std::cout&lt;&lt;" 0 - nazad\n";
            std::cout&lt;&lt;" 1 - odabir postojeceg stana\n";
            std::cout&lt;&lt;" 2 - dodavanje novog stana\n";
            int k;
            std::cin&gt;&gt;k;
            if(k==0)continue;
            if(k==1){
                std::cout&lt;&lt;"Odaberite stan. Dostupni stanovi su:\n";
                ispissvihstanova(" ", " - ");
                int ind;
                std::cin&gt;&gt;ind;
                if(ind&lt;1 || ind&gt;stanovi.size())throw std::range_error("ne valja index");
                prodaje.DajProdaju(indeks+1).PromijeniStan(stanovi[ind-1]);
                std::cout&lt;&lt;"Prodaja je uspjesno izmijenjena!\n\n";
                return;
            }
            if(k==2){
                Stan s=dodavanjestana();
                prodaje.DajProdaju(indeks+1).PromijeniStan(s);
                stanovi.push_back(s);
                std::cout&lt;&lt;"Prodaja je uspjesno izmijenjena!\n\n";
                return;
            }
        }
        if(n==5){
            do{
                try{
                    std::cout&lt;&lt;"Unesite cijenu stana: ";
                    double cijena;
                    std::cin&gt;&gt;cijena;
                    if(cijena&lt;0)throw std::domain_error("Neispravan unos podataka");
                    prodaje.DajProdaju(indeks+1).PromijeniCijenuProdaje(cijena);
                    std::cout&lt;&lt;"Prodaja je uspjesno izmijenjena!\n\n";
                    return;
                }
                catch(std::domain_error gg){
                    std::cout&lt;&lt;"Izuzetak: "&lt;&lt;gg.what()&lt;&lt;". Molimo unesite opet.\n";
                }
            }while(true);
        }
    }while(true);
}
void ispisprodaja(){
    do{
        std::cout&lt;&lt;"Izaberite opciju:\n";
        std::cout&lt;&lt;" 0 - nazad\n";
        std::cout&lt;&lt;" 1 - ispis svih prodaja\n";
        std::cout&lt;&lt;" 2 - ispis prodaja na datum\n";
        std::cout&lt;&lt;" 3 - ispis najranije prodaje\n";
        std::cout&lt;&lt;" 4 - ispis najskuplje prodaje\n";
        std::cout&lt;&lt;" 5 - ispis broja prodaja\n";
        std::cout&lt;&lt;" 6 - ispis broja prodaja po datumu\n";
        std::cout&lt;&lt;" 7 - ispis broja prodaja po agentu\n";
        std::cout&lt;&lt;" 8 - kraj\n";
        int n;
        std::cin&gt;&gt;n;
        if(n==0)return;
        if(n==1)ispissvihprodaja();
        if(n==2)ispisprodajanadatum();
        if(n==3)prodaje.DajNajranijuProdaju().Ispisi();
        if(n==4)prodaje.DajNajskupljuProdaju().Ispisi();
        if(n==5)std::cout&lt;&lt;"Broj prodaja: "&lt;&lt;prodaje.DajBrojProdaja()&lt;&lt;"\n\n";
        if(n==6)ispisbrojaprodajapodatumu();
        if(n==7)ispisbrojaprodajapoagentu();
        if(n==8)throw std::invalid_argument("kraj");
    }while(true);
}
void ispissvihprodaja(){
    prodaje.IspisiSveProdaje();
    return;
    std::vector&lt;bool&gt; indeksi(prodaje.DajBrojProdaja(), false);
    for(int j=0;j&lt;prodaje.DajBrojProdaja();j++){
        int najm=0;
        while(indeksi[najm])najm++;
        for(int i=0;i&lt;prodaje.DajBrojProdaja();i++){
            if(!indeksi[i]){
                if(prodaje.DajProdaju(najm+1).DajImeKupca()&gt;prodaje.DajProdaju(i+1).DajImeKupca())najm=i;
            }
        }
        prodaje.DajProdaju(najm+1).Ispisi();
        std::cout&lt;&lt;"\n";
        indeksi[najm]=true;
        if(j==prodaje.DajBrojProdaja()-1)std::cout&lt;&lt;"\n";
    }
}
void ispisprodajanadatum(){
    do{
        try{
            std::cout&lt;&lt;"Unesite datum: ";
            int dan, mjesec, godina;
            std::scanf("%d/%d/%d", &amp;dan, &amp;mjesec, &amp;godina);
            Datum d(dan, mjesec, godina);
            std::cout&lt;&lt;"Prodaje na datum ";d.Ispisi();std::cout&lt;&lt;" su:";
            prodaje.IspisiProdajeNaDatum(d);
            break;
        }
        catch(std::domain_error gg){
            std::cout&lt;&lt;"Izuzetak: "&lt;&lt;gg.what()&lt;&lt;". Molimo unesite opet.\n";
        }
    }while(true);
}
void ispisbrojaprodajapodatumu(){
    do{
        try{
            std::cout&lt;&lt;"Unesite datum (d/m/g): ";
            int dan, mjesec, godina;
            std::scanf("%d/%d/%d", &amp;dan, &amp;mjesec, &amp;godina);
            Datum d(dan, mjesec, godina);
            std::cout&lt;&lt;"Broj prodaja na uneseni datum: "&lt;&lt;prodaje.DajBrojProdajaNaDatum(d)&lt;&lt;"\n\n";
            break;
        }
        catch(std::domain_error gg){
            std::cout&lt;&lt;"Izuzetak: "&lt;&lt;gg.what()&lt;&lt;". Molimo unesite opet.\n";
        }
    }while(true);
}
void ispisbrojaprodajapoagentu(){
    std::string a;
    std::cout&lt;&lt;"Unesite ime agenta: ";
    std::cin.ignore(1000, '\n');
    std::getline(std::cin, a, '\n');
    std::cout&lt;&lt;"Broj prodaja unesenog agenta: "&lt;&lt;prodaje.DajBrojProdajaOdAgenta(a)&lt;&lt;"\n\n";
}
void brisanjeprodaja(){
    do{
    std::cout&lt;&lt;"Izaberite opciju:\n";
    std::cout&lt;&lt;" 0 - nazad\n";
    std::cout&lt;&lt;" 1 - brisanje najranije prodaje\n";
    std::cout&lt;&lt;" 2 - brisanje prodaja agenta\n";
    std::cout&lt;&lt;" 3 - brisanje prodaja po datumu\n";
    std::cout&lt;&lt;" 4 - brisanje svih prodaja\n";
    int n;
    std::cin&gt;&gt;n;
    if(n==0)return;
    if(n==1)brisanjenajranijeprodaje();
    if(n==2)brisanjeprodajaagenta();
    if(n==3)brisanjeprodajapodatumu();
    if(n==4)brisanjesvihprodaja();
    }while(true);
}
void brisanjenajranijeprodaje(){
    try{
        prodaje.ObrisiNajranijuProdaju();
        std::cout&lt;&lt;"Najranija prodaja je obrisana!\n\n";
    }
    catch(std::range_error gg){
        std::cout&lt;&lt;"Izuzetak: "&lt;&lt;gg.what()&lt;&lt;".\n\n";
        return;
    }
}
void brisanjeprodajaagenta(){
    std::string a;
    std::cout&lt;&lt;"Unesite ime agenta: ";
    std::cin.ignore(1000, '\n');
    std::getline(std::cin, a, '\n');
    try{
        prodaje.ObrisiProdajeAgenta(a);
    }
    catch(std::range_error gg){
        std::cout&lt;&lt;"Izuzetak: "&lt;&lt;gg.what()&lt;&lt;".\n\n";
        return;
    }
    std::cout&lt;&lt;"Sve prodaje tog agenta su obrisane.\n\n";
}
void brisanjeprodajapodatumu(){
    do{
        try{
            std::cout&lt;&lt;"Unesite datum: ";
            int dan, mjesec, godina;
            std::scanf("%d/%d/%d", &amp;dan, &amp;mjesec, &amp;godina);
            Datum d(dan, mjesec, godina);
            prodaje.ObrisiProdajeNaDatum(d);
            std::cout&lt;&lt;"Sve prodaje na taj datum su obrisane.\n\n";
            break;
        }
        catch(std::domain_error gg){
            std::cout&lt;&lt;"Izuzetak: "&lt;&lt;gg.what()&lt;&lt;". Molimo unesite opet.\n";
        }
        catch(std::range_error gg){
            std::cout&lt;&lt;"Izuzetak: "&lt;&lt;gg.what()&lt;&lt;".\n\n";
            return;
        }
    }while(true);
}
void brisanjesvihprodaja(){
    try{
        prodaje.IsprazniKolekciju();
    }
    catch(std::range_error gg){
        std::cout&lt;&lt;"Izuzetak: "&lt;&lt;gg.what()&lt;&lt;".\n\n";
        return;
    }
    std::cout&lt;&lt;"Sve prodaje su obrisane.\n\n";
}


int main(){
    /*auto a=Prodaja("falja", 1, 1, 1, 2014, "far", Datum(1, 1, 2000), "zmajevac", 3, 5, true, 64);
    Prodaje g{a, Prodaja("baljaa", 2, 1, 1, 2007, "bar", Datum(1, 1, 2000), "zmajevac", 3, 5, true, 64),
                 Prodaja("falja", .2, 1, 1, 2007, "far", Datum(1, 1, 2000), "zmajevac", 3, 5, true, 64),
                 Prodaja("calja", 4, 1, 1, 2007, "car", Datum(1, 1, 2000), "zmajevac", 3, 5, true, 64)
    };
    g.IspisiProdajeNaDatum(Datum(1, 1, 2007));
    g.RegistrirajProdaju(std::shared_ptr&lt;Prodaja&gt;(&amp;a));
    g.DajNajskupljuProdaju().Ispisi();
    std::cout&lt;&lt;g.DajBrojProdaja();
    g.IspisiSveProdaje();
    g.ObrisiNajranijuProdaju();
    g.IspisiSveProdaje();*/
    std::cout&lt;&lt;"Dobrodosli!\n\n";
    try{
        meni1();
    }
    catch(std::invalid_argument gg){
    }
    std::cout&lt;&lt;"\nDovidjenja!";
    return 0;
}</pre>
</body>
</html>
