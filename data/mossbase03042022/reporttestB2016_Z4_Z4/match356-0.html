<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z4/student8986.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z4/student8986.cpp<p></p><pre>
#include &lt;iostream&gt;
#include &lt;stdexcept&gt;
#include &lt;string&gt;
#include &lt;iomanip&gt;
#include &lt;initializer_list&gt;
#include &lt;algorithm&gt;
#include &lt;vector&gt;
#include &lt;memory&gt;

bool Slovo(char z) {
    if((z&gt;='A' &amp;&amp; z&lt;='Z') || (z&gt;='a' &amp;&amp; z&lt;='z') || (z&gt;='0' &amp;&amp; z&lt;='9')) return true;
    return false;
}

class Datum {
<a name="12"></a><font color="#0000FF"><a href="match356-1.html#12" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_0.gif"/></a>

    int dan, mjesec, godina;
    public:
    Datum(int d, int m, int g) { Postavi(d,m,g); }
    void Postavi(int d, int m, int g);
</font>    void Ispisi() const { std::cout&lt;&lt;dan&lt;&lt;"/"&lt;&lt;mjesec&lt;&lt;"/"&lt;&lt;godina; }
    int DajDan() const { return dan; }
    int DajMjesec() const { return mjesec; }
    int DajGodinu() const { return godina; }
    friend bool JednakiDatumi(const Datum &amp;d1, const Datum &amp;d2);
};
bool JednakiDatumi(const Datum &amp;d1, const Datum &amp;d2) {
<a name="7"></a><font color="#0000FF"><a href="match356-1.html#7" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_0.gif"/></a>

    if(d1.dan==d2.dan &amp;&amp; d1.mjesec==d2.mjesec &amp;&amp; d1.godina==d2.godina) return true; return false;
}
void Datum::Postavi(int d, int m, int g) {
    int broj_dana[12] {31,28,31,30,31,30,31,31,30,31,30,31};
</font>    if((g%4==0  &amp;&amp; g%100!=0) || g%400==0) broj_dana[1]++;
    if(g&lt;1 || m&lt;1 || d&lt;1 || m&gt;12 || d&gt;broj_dana[m-1])
        throw std::domain_error ("Neispravan datum.");
        dan=d; mjesec=m; godina=g;
}

class Kupac {
    std::string ime_i_prezime;
    Datum datum_rodjenja;
    
    bool IspravnoIme(std::string ime) {
        for(int i=0; i&lt;ime.length(); i++) if(ime[i]!= ' ' &amp;&amp; ime[i]!='-' &amp;&amp; int(ime[i])!=39 &amp;&amp; !Slovo(ime[i])) return false;
        return true;
    }
    
    public:
    
    Kupac(const std::string &amp;ime_i_prezime, const Datum datum_rodjenja) : datum_rodjenja(datum_rodjenja) {
        if(!IspravnoIme(ime_i_prezime)) throw std::domain_error ("Neispravno ime i prezime.");
        this-&gt;ime_i_prezime=ime_i_prezime;
    }
    void Postavi(const std::string &amp;ime_i_prezime, const Datum datum_rodjenja) {
        if(!IspravnoIme(ime_i_prezime)) throw std::domain_error ("Neispravno ime i prezime.");
<a name="8"></a><font color="#00FFFF"><a href="match356-1.html#8" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_0.gif"/></a>

        this-&gt;ime_i_prezime=ime_i_prezime; this-&gt;datum_rodjenja=datum_rodjenja;
    }
    
    std::string DajImePrezime() const { return ime_i_prezime; }
    Datum DajDatumRodjenja() const { return datum_rodjenja; }
    void Ispisi() const { std::cout&lt;&lt;ime_i_prezime&lt;&lt;" (";datum_rodjenja.Ispisi();std::cout&lt;&lt;")"; }
</font>    friend bool JednakiKupci(const Kupac &amp;k1, const Kupac &amp;k2);
};

bool JednakiKupci(const Kupac &amp;k1, const Kupac &amp;k2) {
    if(k1.ime_i_prezime!=k2.ime_i_prezime || !JednakiDatumi(k1.datum_rodjenja, k2.datum_rodjenja)) return false; return true;
}


<a name="9"></a><font color="#FF00FF"><a href="match356-1.html#9" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_0.gif"/></a>

class Stan {
    
    std::string adresa;
    int sprat;
    int broj_soba;
    bool namjesten;
    double kvadratura;
    
    public:
    
    Stan(const std::string &amp;adresa, int sprat, int broj_soba, bool namjesten, double kvadratura) { Postavi(adresa, sprat, broj_soba, namjesten, kvadratura); }
</font><a name="5"></a><font color="#FF0000"><a href="match356-1.html#5" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_0.gif"/></a>

    void Postavi(const std::string &amp;adresa, int sprat, int broj_soba, bool namjesten, double kvadratura) {
        if(sprat&lt;0 || broj_soba&lt;0 || kvadratura&lt;0) throw std::domain_error ("Neispravan unos podataka.");
        Stan::adresa=adresa; Stan::sprat=sprat; Stan::broj_soba=broj_soba; Stan::namjesten=namjesten; Stan::kvadratura=kvadratura;
</font>    }
    std::string DajAdresu() const { return adresa; }
    int DajSprat() const { return sprat; }
    int DajBrojSoba() const { return broj_soba; }
    bool DajNamjesten() const { return namjesten; }
    double DajKvadraturu() const { return kvadratura; }
    void Ispisi() const;
    friend bool JednakoStanovi(const Stan &amp;s1, const Stan &amp;s2);
};
bool JednakoStanovi(const Stan &amp;s1, const Stan &amp;s2) {
    if(s1.adresa!=s2.adresa || s1.sprat!=s2.sprat || s1.broj_soba!=s2.broj_soba || s1.namjesten!=s2.namjesten || s1.kvadratura!=s2.kvadratura)
        return false;
    return true;
}

void Stan::Ispisi() const {
    std::string pom;
    if(namjesten==true) pom="je"; else pom="nije";
    
    if(broj_soba%10==1 &amp;&amp; (broj_soba/10)%10!=1 )
        std::cout&lt;&lt;"Stan se nalazi na adresi "&lt;&lt;adresa&lt;&lt;" na "&lt;&lt;sprat&lt;&lt;". spratu i ima "&lt;&lt;broj_soba&lt;&lt;" sobu."
        &lt;&lt;" Kvadratura stana je "&lt;&lt;kvadratura&lt;&lt;" (m^2) i stan "&lt;&lt;pom&lt;&lt;" namjesten.";
    else if((broj_soba%10==2 || broj_soba%10==3 || broj_soba%10==4) &amp;&amp; (broj_soba/10)%10!=1 )
        std::cout&lt;&lt;"Stan se nalazi na adresi "&lt;&lt;adresa&lt;&lt;" na "&lt;&lt;sprat&lt;&lt;". spratu i ima "&lt;&lt;broj_soba&lt;&lt;" sobe."
        &lt;&lt;" Kvadratura stana je "&lt;&lt;kvadratura&lt;&lt;" (m^2) i stan "&lt;&lt;pom&lt;&lt;" namjesten.";
    else
        std::cout&lt;&lt;"Stan se nalazi na adresi "&lt;&lt;adresa&lt;&lt;" na "&lt;&lt;sprat&lt;&lt;". spratu i ima "&lt;&lt;broj_soba&lt;&lt;" soba."
        &lt;&lt;" Kvadratura stana je "&lt;&lt;kvadratura&lt;&lt;" (m^2) i stan "&lt;&lt;pom&lt;&lt;" namjesten.";
}

class Prodaja {
    
    std::string ime_agenta_prodaje;
    double cijena_stana;
    Datum datum_prodaje;
    Kupac kupac_stana;
    Stan kupljeni_stan;
   
    int BrojDana(int mjesec, int godina);
    
    public:
    
<a name="10"></a><font color="#FF0000"><a href="match356-1.html#10" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_0.gif"/></a>

    Prodaja(const std::string &amp;ime_agenta_prodaje, double cijena_stana, const Datum &amp;datum_prodaje,
            const Kupac &amp;kupac_stana, const Stan &amp;kupljeni_stan) : ime_agenta_prodaje(ime_agenta_prodaje), cijena_stana(cijena_stana),
            datum_prodaje(datum_prodaje), kupac_stana(kupac_stana), kupljeni_stan(kupljeni_stan) {}
</font>    
    Prodaja(const std::string &amp;ime_agenta_prodaje, double cijena_stana, int dan_prodaje, int mjesec_prodaje, int godina_prodaje,
<a name="4"></a><font color="#FF00FF"><a href="match356-1.html#4" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_0.gif"/></a>

            std::string &amp;ime_kupca, const Datum &amp;datum_rodjenja_kupca, const std::string &amp;adresa_stana, int sprat_stana,
            int broj_soba, bool namjesten_stan, double broj_kvadrata) : ime_agenta_prodaje(ime_agenta_prodaje), cijena_stana(cijena_stana),
            datum_prodaje(dan_prodaje, mjesec_prodaje, godina_prodaje), kupac_stana(ime_kupca, datum_rodjenja_kupca),
            kupljeni_stan(adresa_stana, sprat_stana, broj_soba, namjesten_stan, broj_kvadrata) {}
    
    void PromijeniAgenta(const std::string &amp;ime) { ime_agenta_prodaje=ime; }        
</font>    void PromijeniKupca(const Kupac &amp;novi_kupac) { kupac_stana=novi_kupac; }
    void PromijeniStan(const Stan &amp;novi_stan) { kupljeni_stan=novi_stan; }
    void PromijeniDatumKupovine(const Datum &amp;novi_datum) { datum_prodaje=novi_datum; }
    void PromijeniCijenuProdaje(const double &amp;nova_cijena) { if(nova_cijena&lt;0) throw std::domain_error ("Neispravan unos podataka"); cijena_stana=nova_cijena; }
    void PomjeriDanUnaprijed();
    void PomjeriDanUnazad();
    void Ispisi() const;
    
    std::string DajImeAgenta() const { return ime_agenta_prodaje; }
    std::string DajImeKupca() const { return kupac_stana.DajImePrezime(); }
    Datum DajDatumProdaje() const { return datum_prodaje; }
    double DajCijenuStana() const { return cijena_stana; }
    
    friend bool ProdatPrije(const Prodaja &amp;p1, const Prodaja &amp;p2);
    friend bool SkupljiStan(const Prodaja &amp;p1, const Prodaja &amp;p2);
    friend bool JednakeProdaje(const Prodaja &amp;p1, const Prodaja &amp;p2);
};
bool JednakeProdaje(const Prodaja &amp;p1, const Prodaja &amp;p2) {
    if(p1.ime_agenta_prodaje!=p2.ime_agenta_prodaje || p1.cijena_stana!=p2.cijena_stana || !JednakiDatumi(p1.datum_prodaje, p2.datum_prodaje) 
        || !JednakiKupci(p1.kupac_stana, p2.kupac_stana) || !JednakoStanovi(p1.kupljeni_stan, p2.kupljeni_stan)) return false;
    return true;
}

bool SkupljiStan(const Prodaja &amp;p1, const Prodaja &amp;p2) {
    if(p1.cijena_stana&gt;p2.cijena_stana) return true;
    return false;
}

bool ProdatPrije(const Prodaja &amp;p1, const Prodaja &amp;p2) {
    if(p1.datum_prodaje.DajGodinu() &lt;  p2.datum_prodaje.DajGodinu()) return true;
    else if(p1.datum_prodaje.DajGodinu() &gt;  p2.datum_prodaje.DajGodinu()) return false;
    else if(p1.datum_prodaje.DajMjesec() &lt;  p2.datum_prodaje.DajMjesec()) return true;
    else if(p1.datum_prodaje.DajMjesec() &gt;  p2.datum_prodaje.DajMjesec()) return false;
    else if(p1.datum_prodaje.DajDan() &lt;  p2.datum_prodaje.DajDan()) return true;
    else if(p1.datum_prodaje.DajDan() &gt;  p2.datum_prodaje.DajDan()) return false;
    return true;
}

void Prodaja::Ispisi() const {
    std::cout&lt;&lt;std::setw(32)&lt;&lt;std::left&lt;&lt;"Ime agenta:"&lt;&lt;std::right&lt;&lt;ime_agenta_prodaje&lt;&lt;std::endl
    &lt;&lt;std::setw(32)&lt;&lt;std::left&lt;&lt;"Ime kupca:"&lt;&lt;std::right; kupac_stana.Ispisi();std::cout&lt;&lt;std::endl
    &lt;&lt;std::setw(32)&lt;&lt;std::left&lt;&lt;"Zakazani datum prodaje:"&lt;&lt;std::right; datum_prodaje.Ispisi();
    std::cout&lt;&lt;std::endl&lt;&lt;std::setw(32)&lt;&lt;std::left&lt;&lt;"Cijena stana:"&lt;&lt;std::right&lt;&lt;cijena_stana&lt;&lt;std::endl
    &lt;&lt;std::setw(32)&lt;&lt;std::left&lt;&lt;"Informacije o stanu:"&lt;&lt;std::endl;
    kupljeni_stan.Ispisi();
}

int Prodaja::BrojDana(int mjesec, int g) {
    int broj_dana[12] {31,28,31,30,31,30,31,31,30,31,30,31};
    if((g%4==0  &amp;&amp; g%100!=0) || g%400==0) broj_dana[1]++;
    return broj_dana[mjesec-1];
}

void Prodaja::PomjeriDanUnaprijed() {
    int dan(datum_prodaje.DajDan()), mjesec(datum_prodaje.DajMjesec()), godina(datum_prodaje.DajGodinu());
    dan++;
    if(dan&gt;Prodaja::BrojDana(mjesec, godina)) { dan=1; mjesec++; }
    if(mjesec&gt;12) { mjesec=1; godina++; }
    datum_prodaje=Datum(dan, mjesec, godina);
    
}

void Prodaja::PomjeriDanUnazad() {
    int dan(datum_prodaje.DajDan()), mjesec(datum_prodaje.DajMjesec()), godina(datum_prodaje.DajGodinu());
    dan--;
    if(dan&lt;1) mjesec--;
    if(mjesec&lt;1) { godina--; mjesec=12; dan=BrojDana(mjesec, godina); }
    else if(dan&lt;1) dan=BrojDana(mjesec, godina);
    datum_prodaje=Datum(dan, mjesec, godina);
}

class Prodaje {
    
    std::vector&lt;std::shared_ptr&lt;Prodaja&gt;&gt; prodaje;
    
    public:
    
    explicit Prodaje()  {}
    Prodaje(std::initializer_list&lt;Prodaja&gt; spisak_prodaja);
    Prodaje(const Prodaje &amp;p);
    Prodaje(Prodaje &amp;&amp;p);
    Prodaje &amp;operator=(const Prodaje &amp;p);
    Prodaje &amp;operator=(Prodaje &amp;&amp;p);
    
    void RegistrirajProdaju(const std::string &amp;ime_agenta_prodaje, double cijena_stana, const Datum &amp;datum_prodaje,
                            const Kupac &amp;kupac_stana, const Stan &amp;kupljeni_stan);
    void RegistrirajProdaju(const std::string &amp;ime_agenta_prodaje, double cijena_stana, int dan_prodaje, int mjesec_prodaje,
                            int godina_prodaje, std::string &amp;ime_kupca, const Datum datum_rodjenja_kupca,
<a name="13"></a><font color="#00FFFF"><a href="match356-1.html#13" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_0.gif"/></a>

                            const std::string &amp;adresa_stana, int sprat_stana, int broj_soba, bool namjesten_stan, double broj_kvadrata);
    void RegistrirajProdaju(std::shared_ptr&lt;Prodaja&gt; prodaja);
    
    int DajBrojProdaja() const;
</font>    int DajBrojProdajaNaDatum(const Datum &amp;datum) const;
    int DajBrojProdajaOdAgenta(const std::string &amp;ime_agenta) const;
    Prodaja &amp;DajNajranijuProdaju();
    Prodaja DajNajranijuProdaju() const;
    Prodaja &amp;DajNajskupljuProdaju();
    Prodaja DajNajskupljuProdaju() const;
    void IsprazniKolekciju();
    void ObrisiNajranijuProdaju();
    void IspisiSveProdaje() const;
    void ObrisiProdajeAgenta(const std::string &amp;ime_agenta);
    void ObrisiProdajeNaDatum(const Datum &amp;datum);
    void IspisiProdajeNaDatum(const Datum &amp;datum) const;
    Prodaja &amp;DajProdaju(int n);
   
};

Prodaje::Prodaje(const Prodaje &amp;p) {
    prodaje.resize(p.prodaje.size());
        try {
            for(int i=0; i&lt;p.prodaje.size(); i++)
                prodaje[i]=std::make_shared&lt;Prodaja&gt;(*(p.prodaje[i]));
        }
    
    catch(...) { throw; }
}
Prodaje::Prodaje(Prodaje &amp;&amp;p) {
    prodaje=p.prodaje;
}
Prodaje &amp;Prodaje::operator=(const Prodaje &amp;p) {
    prodaje.resize(p.prodaje.size());
    try {
        for(int i=0; i&lt;p.prodaje.size(); i++)
            prodaje[i]=std::make_shared&lt;Prodaja&gt;(*(p.prodaje[i]));
        }
    
    catch(...) { throw; }
    return *this;
}
Prodaje &amp;Prodaje::operator=(Prodaje &amp;&amp;p) {    
    prodaje=p.prodaje;
    return *this;
}

Prodaja &amp;Prodaje::DajProdaju(int n) {
    if(n&gt;prodaje.size()) throw std::domain_error ("Neispravan broj prodaje");
    for(int i=0; i&lt;prodaje.size(); i++) {
        if(i==n-1) return *prodaje[i];
    }
}

Prodaje::Prodaje(std::initializer_list&lt;Prodaja&gt; spisak_prodaja) {
        
        prodaje.resize(spisak_prodaja.size());
        try {
            auto it(spisak_prodaja.begin());
            for(int i=0; i&lt;spisak_prodaja.size(); i++) prodaje[i]=std::make_shared&lt;Prodaja&gt;(*it++);
        }
        catch(...) {
            throw;
        }
        
   
}


<a name="15"></a><font color="#FF0000"><a href="match356-1.html#15" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_0.gif"/></a>

void Prodaje::RegistrirajProdaju(const std::string &amp;ime_agenta_prodaje, double cijena_stana, const Datum &amp;datum_prodaje,
                            const Kupac &amp;kupac_stana, const Stan &amp;kupljeni_stan) {
              prodaje.push_back(std::make_shared&lt; Prodaja&gt;(ime_agenta_prodaje,cijena_stana,datum_prodaje, kupac_stana, kupljeni_stan));
</font><a name="11"></a><font color="#00FF00"><a href="match356-1.html#11" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_0.gif"/></a>

    }

void Prodaje::RegistrirajProdaju(const std::string &amp;ime_agenta_prodaje, double cijena_stana, int dan_prodaje, int mjesec_prodaje,
                            int godina_prodaje, std::string &amp;ime_kupca, const Datum datum_rodjenja_kupca,
</font><a name="14"></a><font color="#FF00FF"><a href="match356-1.html#14" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_0.gif"/></a>

                            const std::string &amp;adresa_stana, int sprat_stana, int broj_soba, bool namjesten_stan, double broj_kvadrata) {
     
              prodaje.push_back(std::make_shared&lt;Prodaja&gt;(ime_agenta_prodaje,cijena_stana, dan_prodaje, mjesec_prodaje, godina_prodaje, ime_kupca,
</font><a name="6"></a><font color="#00FF00"><a href="match356-1.html#6" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_0.gif"/></a>

                                     datum_rodjenja_kupca, adresa_stana, sprat_stana, broj_soba, namjesten_stan, broj_kvadrata));
    }                         
   
void Prodaje::RegistrirajProdaju(std::shared_ptr&lt;Prodaja&gt; prodaja) {
        prodaje.push_back(prodaja);
        
    }

int Prodaje::DajBrojProdaja() const {
    return prodaje.size();
</font>}

int Prodaje::DajBrojProdajaNaDatum(const Datum &amp;datum) const {
    int broj(0);
    
    for(int i=0; i&lt;prodaje.size(); i++) {
        
        Datum pom(prodaje[i]-&gt;DajDatumProdaje());
        if(JednakiDatumi(pom,datum)) broj++;
    }
    return broj;
}

int Prodaje::DajBrojProdajaOdAgenta(const std::string &amp;ime_agenta) const {
     int broj(0);
    
    for(int i=0; i&lt;prodaje.size(); i++) {
        
        std::string ime(prodaje[i]-&gt;DajImeAgenta());
        if(ime==ime_agenta) broj++;
    }
    return broj;
}

Prodaja &amp;Prodaje::DajNajranijuProdaju() {
<a name="1"></a><font color="#00FF00"><a href="match356-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_0.gif"/></a>

    if(prodaje.size()==0) throw std::domain_error ("Nema registriranih prodaja");
    
    auto pom=std::min_element(prodaje.begin(), prodaje.end(), [] (std::shared_ptr&lt;Prodaja&gt; x, std::shared_ptr&lt;Prodaja&gt; y) {
        return ProdatPrije(*x, *y);
    });
    return **pom;
}
Prodaja Prodaje::DajNajranijuProdaju() const {
</font><a name="2"></a><font color="#0000FF"><a href="match356-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_0.gif"/></a>

    if(prodaje.size()==0) throw std::domain_error ("Nema registriranih prodaja");
    
    auto pom=std::min_element(prodaje.begin(), prodaje.end(), [] (std::shared_ptr&lt;Prodaja&gt; x, std::shared_ptr&lt;Prodaja&gt; y) {
        return ProdatPrije(*x, *y);
    });
    return **pom;
}
Prodaja &amp;Prodaje::DajNajskupljuProdaju() {
</font><a name="3"></a><font color="#00FFFF"><a href="match356-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_0.gif"/></a>

    if(prodaje.size()==0) throw std::domain_error ("Nema registriranih prodaja");
    
    auto pom=std::min_element(prodaje.begin(), prodaje.end(), [] (std::shared_ptr&lt;Prodaja&gt; x, std::shared_ptr&lt;Prodaja&gt; y) {
        return SkupljiStan(*x, *y);
    });
    return **pom;
}
Prodaja Prodaje::DajNajskupljuProdaju() const {
</font><a name="0"></a><font color="#FF0000"><a href="match356-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_0.gif"/></a>

    if(prodaje.size()==0) throw std::domain_error ("Nema registriranih prodaja");
    
    auto pom=std::min_element(prodaje.begin(), prodaje.end(), [] (std::shared_ptr&lt;Prodaja&gt; x, std::shared_ptr&lt;Prodaja&gt; y) {
        return SkupljiStan(*x, *y);
    });
    return **pom;
}

void Prodaje::IsprazniKolekciju() {
    prodaje.resize(0);
}
void Prodaje::ObrisiNajranijuProdaju() {
</font>    if(prodaje.size()==0) throw std::range_error ("Kolekcija prazna");
    Prodaja najranija{DajNajranijuProdaju()};
    for(int i=0; i&lt;prodaje.size(); i++) {
        Prodaja pom{*prodaje[i]};
        if(JednakeProdaje(pom,najranija)) {
           prodaje.erase(prodaje.begin()+i);
        }
    }
}

void Prodaje::IspisiSveProdaje() const {
    
    auto kopija(prodaje);
    
    std::sort(kopija.begin(), kopija.end(), [] (std::shared_ptr&lt;Prodaja&gt; x, std::shared_ptr&lt;Prodaja&gt; y) {
        if(!JednakiDatumi(x-&gt;DajDatumProdaje(), y-&gt;DajDatumProdaje())) return ProdatPrije(*x,*y);
        else return x-&gt;DajImeKupca() &lt; y-&gt;DajImeKupca();
    });
    for(int i=0; i&lt;prodaje.size(); i++) {
        kopija[i]-&gt;Ispisi(); std::cout&lt;&lt;std::endl;
    }
   
}

void Prodaje::ObrisiProdajeAgenta(const std::string &amp;ime_agenta) {
    
    for(int i=0; i&lt;prodaje.size(); i++) {
        
        if(prodaje[i]-&gt;DajImeAgenta()==ime_agenta) {
            prodaje.erase(prodaje.begin()+i);
        }
    }
}

void Prodaje::ObrisiProdajeNaDatum(const Datum &amp;datum) {
    for(int i=0; i&lt;prodaje.size(); i++) {
        
        Datum pom(prodaje[i]-&gt;DajDatumProdaje());
        if(JednakiDatumi(pom,datum)) {
            prodaje.erase(prodaje.begin()+i);
        }
    }
}

void Prodaje::IspisiProdajeNaDatum(const Datum &amp;datum) const {
    auto kopija(prodaje);
    std::sort(kopija.begin(), kopija.end(), [] (std::shared_ptr&lt;Prodaja&gt; x, std::shared_ptr&lt;Prodaja&gt; y) {
        return (*x).DajImeKupca() &lt; (*y).DajImeKupca();
    });
    
    for(int i=0; i&lt;prodaje.size(); i++) {
        
        
        if(JednakiDatumi(kopija[i]-&gt;DajDatumProdaje(),datum)) {
            kopija[i]-&gt;Ispisi();
        }
    }

}

//Ispod su funkcije za rad sa main-om

void DodavanjeStana(std::vector&lt;Stan&gt; &amp;stanovi) {
    std::string adresa;
    int sprat, broj_soba, pom;
    bool namjesten;
    double kvadratura;
    bool unos_zavrsen(true);
    for(;;) {
        std::cin.ignore(1000, '\n');
        std::cout&lt;&lt;"Unesite adresu: ";
        std::getline(std::cin, adresa);
        
        std::cout&lt;&lt;"Unesite sprat: ";
        std::cin&gt;&gt;sprat;
        std::cout&lt;&lt;"Unesite broj soba: ";
        std::cin&gt;&gt;broj_soba;
        std::cout&lt;&lt;"Da li je stan namjesten (1 - da, 0 - ne): ";
        std::cin&gt;&gt;pom; if(pom==1) namjesten=true; else if(pom==0) namjesten=false;
        std::cout&lt;&lt;"Unesite kvadraturu: ";
        std::cin&gt;&gt;kvadratura;
        try { 
            if(pom!=1 &amp;&amp; pom!=0) throw std::domain_error("Neispravan unos podataka.");
            Stan privremeni(adresa, sprat, broj_soba, namjesten, kvadratura);
            stanovi.push_back(privremeni);
            unos_zavrsen=true;
        }
        catch(std::domain_error greska) {
            std::cout&lt;&lt;"Izuzetak: "&lt;&lt;greska.what()&lt;&lt;" Molimo unesite opet.\n";
            unos_zavrsen=false;
        }
        if(unos_zavrsen) {
            break;
        }
    
    }
}

void IspisSvihStanova(const std::vector&lt;Stan&gt; &amp;stanovi) {
    for(int i=0; i&lt;stanovi.size(); i++) {
        std::cout&lt;&lt;i+1&lt;&lt;". "; stanovi[i].Ispisi();
        std::cout&lt;&lt;std::endl;
    }
}

void UredjivanjeStanova(std::vector&lt;Stan&gt; &amp;stanovi) {
    std::cout&lt;&lt;"Odaberite stan. Dostupni stanovi su:\n";
    int opcija(-1), opcija2;
    for(int i=0; i&lt;stanovi.size(); i++) {
        std::cout&lt;&lt;" "&lt;&lt;i+1&lt;&lt;" - "; stanovi[i].Ispisi();
        std::cout&lt;&lt;std::endl;
    }
    
    std::cin&gt;&gt;opcija;
    std::cout&lt;&lt;"\nOdaberite polje koje zelite urediti:\n"&lt;&lt;
                " 0 - nazad\n"&lt;&lt;
                " 1 - adresa\n"&lt;&lt;
                " 2 - sprat\n"&lt;&lt;
                " 3 - broj soba\n"&lt;&lt;
                " 4 - da li je stan namjesten\n"&lt;&lt;
                " 5 - kvadratura\n"&lt;&lt;
                " 6 - sve\n";
    std::cin&gt;&gt;opcija2;
    if(opcija2==0) return;
    else if(opcija2==1) {
        bool unos_zavrsen;
        for(;;) {
        std::string adresa;
        std::cin.ignore(1000, '\n');
        std::cout&lt;&lt;"Unesite adresu: ";
        std::getline(std::cin,adresa);
        try {
        stanovi[opcija-1]=Stan(adresa, stanovi[opcija-1].DajSprat() ,stanovi[opcija-1].DajBrojSoba(), stanovi[opcija-1].DajNamjesten(), stanovi[opcija-1].DajKvadraturu());
        unos_zavrsen=true;
        }
        catch(std::domain_error greska) {
            std::cout&lt;&lt;"Izuzetak: "&lt;&lt;greska.what()&lt;&lt;" Molimo unesite opet.\n";
            unos_zavrsen=false;
        }
        if(unos_zavrsen) {
            std::cout&lt;&lt;"Stan je uspjesno izmijenjen!\n";
            break;
        }
        }
    }
    else if(opcija2==2) {
        bool unos_zavrsen;
        for(;;) {
        int sprat;
        std::cout&lt;&lt;"Unesite sprat: ";
        std::cin&gt;&gt;sprat;
        try {
        stanovi[opcija-1]=Stan(stanovi[opcija-1].DajAdresu(), sprat ,stanovi[opcija-1].DajBrojSoba(), stanovi[opcija-1].DajNamjesten(), stanovi[opcija-1].DajKvadraturu());
        unos_zavrsen=true;
        }
        catch(std::domain_error greska) {
            std::cout&lt;&lt;"Izuzetak: "&lt;&lt;greska.what()&lt;&lt;" Molimo unesite opet.\n";
            unos_zavrsen=false;
        }
        if(unos_zavrsen) {
            std::cout&lt;&lt;"Stan je uspjesno izmijenjen!\n";
            break;
        }
        }
    }
    else if(opcija2==3) {
        bool unos_zavrsen;
        for(;;) {
        int broj_soba;
        std::cout&lt;&lt;"Unesite broj soba: ";
        std::cin&gt;&gt;broj_soba;
        try {
        stanovi[opcija-1]=Stan(stanovi[opcija-1].DajAdresu(), stanovi[opcija-1].DajSprat() ,broj_soba, stanovi[opcija-1].DajNamjesten(), stanovi[opcija-1].DajKvadraturu());
        unos_zavrsen=true;
        }
        catch(std::domain_error greska) {
            std::cout&lt;&lt;"Izuzetak: "&lt;&lt;greska.what()&lt;&lt;" Molimo unesite opet.\n";
            unos_zavrsen=false;
        }
        if(unos_zavrsen) {
            std::cout&lt;&lt;"Stan je uspjesno izmijenjen!\n";
            break;
        }
        }
    }
    else if(opcija2==4) {
        bool unos_zavrsen;
        for(;;) {
        int pom;
        bool namjesten(true);
        std::cout&lt;&lt;"Da li je stan namjesten (1 - da, 0 - ne): ";
        std::cin&gt;&gt;pom;
        try {
        if(pom!=1 &amp;&amp; pom!=0) throw std::domain_error ("Neispravan unos podataka.");
        if(pom==1) namjesten=true; else if(pom==0) namjesten=false;
        stanovi[opcija-1]=Stan(stanovi[opcija-1].DajAdresu(), stanovi[opcija-1].DajSprat() ,stanovi[opcija-1].DajBrojSoba(), namjesten, stanovi[opcija-1].DajKvadraturu());
        unos_zavrsen=true;
        }
        catch(std::domain_error greska) {
            std::cout&lt;&lt;"Izuzetak: "&lt;&lt;greska.what()&lt;&lt;" Molimo unesite opet.\n";
            unos_zavrsen=false;
        }
        if(unos_zavrsen) {
            std::cout&lt;&lt;"Stan je uspjesno izmijenjen!\n";
            break;
        }
        }
    }
    else if(opcija2==5) {
        bool unos_zavrsen;
        for(;;) {
        double kvadratura;
        std::cout&lt;&lt;"Unesite kvadraturu: ";
        std::cin&gt;&gt;kvadratura;
        try {
        stanovi[opcija-1]=Stan(stanovi[opcija-1].DajAdresu(), stanovi[opcija-1].DajSprat() ,stanovi[opcija-1].DajBrojSoba(), stanovi[opcija-1].DajNamjesten(), kvadratura);
        unos_zavrsen=true;
        }
        catch(std::domain_error greska) {
            std::cout&lt;&lt;"Izuzetak: "&lt;&lt;greska.what()&lt;&lt;" Molimo unesite opet.\n";
            unos_zavrsen=false;
        }
        if(unos_zavrsen) {
            std::cout&lt;&lt;"Stan je uspjesno izmijenjen!\n";
            break;
        }
        }
    }
    else if(opcija2==6) {
        std::string adresa;
    int sprat, broj_soba, pom;
    bool namjesten;
    double kvadratura;
    bool unos_zavrsen(true);
    for(;;) {
        std::cin.ignore(1000, '\n');
        std::cout&lt;&lt;"Unesite adresu: ";
        std::getline(std::cin,adresa);
        std::cout&lt;&lt;"Unesite sprat: ";
        std::cin&gt;&gt;sprat;
        std::cout&lt;&lt;"Unesite broj soba: ";
        std::cin&gt;&gt;broj_soba;
        std::cout&lt;&lt;"Da li je stan namjesten (1 - da, 0 - ne): ";
        std::cin&gt;&gt;pom; if(pom==1) namjesten=true; else if(pom==0) namjesten=false;
        std::cout&lt;&lt;"Unesite kvadraturu: ";
        std::cin&gt;&gt;kvadratura;
        try { 
            if(pom!=1 &amp;&amp; pom!=0) throw std::domain_error("Neispravan unos podataka.");
            Stan privremeni(adresa, sprat, broj_soba, namjesten, kvadratura);
            stanovi[opcija-1]=privremeni;
            unos_zavrsen=true;
        }
        catch(std::domain_error greska) {
            std::cout&lt;&lt;"Izuzetak: "&lt;&lt;greska.what()&lt;&lt;" Molimo unesite opet.\n";
            unos_zavrsen=false;
        }
        if(unos_zavrsen) {
            std::cout&lt;&lt;"Stan je uspjesno izmijenjen!\n";
            break;
        }
    
    }
        
    }

}

bool Meni1(std::vector&lt;Stan&gt; &amp;stanovi) {
    int opcija(-1);
    while(opcija!=0) {
        
       std::cout&lt;&lt;"\nIzaberite opciju:\n"&lt;&lt;
                    " 0 - nazad\n"&lt;&lt;
                    " 1 - dodavanje stana\n"&lt;&lt;
                    " 2 - uredjivanje stanova\n"&lt;&lt;
                    " 3 - ispis svih stanova\n"&lt;&lt;
                    " 4 - kraj\n"; 
        std::cin&gt;&gt;opcija;
        
        if(opcija==0) return true;
        if(opcija==4) return false;
        if(opcija==1) { 
            DodavanjeStana(stanovi);
            std::cout&lt;&lt;"Stan je uspjesno dodan!\n";
        }
        if(opcija==3) {
            IspisSvihStanova(stanovi);
        }
        if(opcija==2) {
            UredjivanjeStanova(stanovi);
        }
    }
    return true;
}

void DodavanjeKupaca(std::vector&lt;Kupac&gt; &amp;kupci) {
    std::string ime;
    int dan,mjesec,godina;
    bool unos_zavrsen;
    for(;;) {
    std::cin.ignore(1000, '\n');
    std::cout&lt;&lt;"Unesite ime i prezime kupca: ";
    std::getline(std::cin, ime);
    std::cout&lt;&lt;"Unesite datum rodjenja (formata d/m/g): ";
    std::cin&gt;&gt;dan;
    std::cin.ignore(1);
    std::cin&gt;&gt;mjesec;
    std::cin.ignore(1);
    std::cin&gt;&gt;godina;
    
    try {
        Kupac privremeni(ime, {dan, mjesec, godina});
        kupci.push_back(privremeni);
        unos_zavrsen=true;
    }
    catch(std::domain_error greska) {
        std::cout&lt;&lt;"Izuzetak: "&lt;&lt;greska.what()&lt;&lt;" Molimo unesite opet.\n";
        unos_zavrsen=false;
    }
    if(unos_zavrsen) {
        
        break;
    }
    }
}

void IspisSvihKupaca(const std::vector&lt;Kupac&gt; &amp;kupci) {
    for(int i=0; i&lt;kupci.size(); i++) {
        kupci[i].Ispisi(); std::cout&lt;&lt;std::endl;
    }
}

void UredjivanjeKupaca(std::vector&lt;Kupac&gt; &amp;kupci) {
    std::cout&lt;&lt;"Odaberite kupca kojeg zelite urediti. Dostupni kupci su:\n";
    int opcija(-1);
    for(int i=0; i&lt;kupci.size(); i++) {
        std::cout&lt;&lt;" "&lt;&lt;i+1&lt;&lt;" - "; kupci[i].Ispisi();
        std::cout&lt;&lt;std::endl;
    }
    
    std::cin&gt;&gt;opcija;
    
    std::string ime;
    int dan,mjesec,godina;
    bool unos_zavrsen;
    for(;;) {
    std::cin.ignore(1000, '\n');
    std::cout&lt;&lt;"Unesite ime i prezime kupca: ";
    std::getline(std::cin, ime);
    std::cout&lt;&lt;"Unesite datum rodjenja (formata d/m/g): ";
    std::cin&gt;&gt;dan;
    std::cin.ignore(1);
    std::cin&gt;&gt;mjesec;
    std::cin.ignore(1);
    std::cin&gt;&gt;godina;
    
    try {
        Kupac privremeni(ime, {dan, mjesec, godina});
        kupci[opcija-1]=privremeni;
        unos_zavrsen=true;
    }
    catch(std::domain_error greska) {
        std::cout&lt;&lt;"Izuzetak: "&lt;&lt;greska.what()&lt;&lt;" Molimo unesite opet.\n";
        unos_zavrsen=false;
    }
    if(unos_zavrsen) {
        std::cout&lt;&lt;"Kupac je uspjesno izmijenjen!\n";
        break;
    }
    }
    
}

bool Meni2(std::vector&lt;Kupac&gt; &amp;kupci) {
    int opcija(-1);
    while(opcija!=0) {
        std::cin.ignore(10000, '\n');
       std::cout&lt;&lt;"\nIzaberite opciju:\n"&lt;&lt;
                    " 0 - nazad\n"&lt;&lt;
                    " 1 - dodavanje kupca\n"&lt;&lt;
                    " 2 - uredjivanje kupaca\n"&lt;&lt;
                    " 3 - ispis svih kupaca\n"&lt;&lt;
                    " 4 - kraj\n"; 
        std::cin&gt;&gt;opcija;
        
        if(opcija==0) return true;
        if(opcija==4) return false;
        if(opcija==1) { 
            DodavanjeKupaca(kupci);
            std::cout&lt;&lt;"Kupac je uspjesno dodan!\n";
        }
        if(opcija==3) {
            IspisSvihKupaca(kupci);
        }
        if(opcija==2) {
            UredjivanjeKupaca(kupci);
        }
    }
    return true;
}

bool DodavanjeProdaje(Prodaje &amp;prodaje, std::vector&lt;Stan&gt; &amp;stanovi, std::vector&lt;Kupac&gt; &amp;kupci) {
    int opcija(-1);
    while(opcija!=0) {
        std::cin.ignore(10000, '\n');
       std::cout&lt;&lt;"\nIzaberite opciju:\n"&lt;&lt;
                    " 0 - nazad\n"&lt;&lt;
                    " 1 - dodavanje potpuno nove prodaje\n"&lt;&lt;
                    " 2 - dodavanje nove prodaje na osnovu arhive\n"&lt;&lt;
                    " 3 - kraj\n"; 
        std::cin&gt;&gt;opcija;
        if(opcija==0) return true;
        if(opcija==3) return 0;
        if(opcija==1) {
            std::string ime_agenta, ime_kupca, adresa;
            int danp, mjesecp, godinap, danr, mjesecr,godinar, sprat, broj_soba, pom ;
            double cijena_stana, kvadratura;
            bool namjesten, unos_zavrsen;
            for(;;) {
                std::cin.ignore(1000, '\n');
                std::cout&lt;&lt;"Unesite ime i prezime agenta prodaje: "; std::getline(std::cin,ime_agenta);
                std::cout&lt;&lt;"Unesite datum prodaje (formata d/m/g): ";
                std::cin&gt;&gt;danp; std::cin.ignore(1); std::cin&gt;&gt;mjesecp; std::cin.ignore(1); std::cin&gt;&gt;godinap;
                std::cout&lt;&lt;"Unesite cijenu stana: "; std::cin&gt;&gt;cijena_stana;
                std::cin.ignore(1000, '\n');
                std::cout&lt;&lt;"Unesite ime kupca: "; std::getline(std::cin, ime_kupca);
                std::cout&lt;&lt;"Unesite datum rodjenja kupca (formata d/m/g): ";
                std::cin&gt;&gt;danr; std::cin.ignore(1); std::cin&gt;&gt;mjesecr; std::cin.ignore(1); std::cin&gt;&gt;godinar;
                std::cin.ignore(1000, '\n');
                std::cout&lt;&lt;"Unesite adresu: "; std::getline(std::cin, adresa);
                std::cout&lt;&lt;"Unesite sprat: "; std::cin&gt;&gt;sprat;
                std::cout&lt;&lt;"Unesite broj soba: "; std::cin&gt;&gt;broj_soba;
                std::cout&lt;&lt;"Da li je stan namjesten (1 - da, 0 - ne): "; std::cin&gt;&gt;pom;
                std::cout&lt;&lt;"Unesite kvadraturu: "; std::cin&gt;&gt;kvadratura;
                try {
                    if(pom!=1 &amp;&amp; pom!=0) throw std::domain_error("Neispravan unos podataka.");
                    if(pom==1) namjesten=true; else if(pom==0) namjesten=false;
                    prodaje.RegistrirajProdaju(ime_agenta, cijena_stana, danp, mjesecp, godinap, ime_kupca, {danr,mjesecr,godinar},
                                                adresa, sprat, broj_soba, namjesten, kvadratura);
                    kupci.push_back(Kupac(ime_kupca, {danr,mjesecr, godinar}));
                    stanovi.push_back(Stan(adresa, sprat, broj_soba, namjesten,kvadratura));
                    unos_zavrsen=true;
                    
                }
                catch(std::domain_error greska) {
                    std::cout&lt;&lt;"Izuzetak: "&lt;&lt;greska.what()&lt;&lt;" Molimo unesite opet.\n";
                    unos_zavrsen=false;
                }
                if(unos_zavrsen) {
                    std::cout&lt;&lt;"Prodaja uspjesno dodana!\n";
                    break;
                }
            }
        }
        if(opcija==2) {
            for(;;) {
                int k,s, danp, mjesecp, godinap; bool unos_zavrsen;
                std::string ime_agenta; double cijena_stana;
                std::cin.ignore(1000, '\n');
                std::cout&lt;&lt;"Unesite ime i prezime agenta prodaje: "; std::getline(std::cin,ime_agenta);
                std::cout&lt;&lt;"Unesite datum prodaje (formata d/m/g): ";
                std::cin&gt;&gt;danp; std::cin.ignore(1); std::cin&gt;&gt;mjesecp; std::cin.ignore(1); std::cin&gt;&gt;godinap;
                std::cout&lt;&lt;"Unesite cijenu stana: "; std::cin&gt;&gt;cijena_stana;
                std::cout&lt;&lt;"Odaberite kupca. Dostupni kupci su:\n";
                for(int i=0; i&lt;kupci.size(); i++) {
                    std::cout&lt;&lt;" "&lt;&lt;i+1&lt;&lt;" - "; kupci[i].Ispisi(); std::cout&lt;&lt;std::endl;
                }
                std::cin&gt;&gt;k;
                std::cout&lt;&lt;"Odaberite stan. Dostupni stanovi su:\n";
                for(int i=0; i&lt;stanovi.size(); i++) {
                    std::cout&lt;&lt;" "&lt;&lt;i+1&lt;&lt;" - "; stanovi[i].Ispisi(); std::cout&lt;&lt;std::endl;
                }
                std::cin&gt;&gt;s;
                try {
                    prodaje.RegistrirajProdaju(ime_agenta, cijena_stana, {danp, mjesecp, godinap}, kupci[k-1], stanovi[s-1]);
                    unos_zavrsen=true;
                }
                catch(std::domain_error greska) {
                    std::cout&lt;&lt;"Izuzetak: "&lt;&lt;greska.what()&lt;&lt;" Molimo unesite opet.";
                    unos_zavrsen=false;
                }
                if(unos_zavrsen) {
                    std::cout&lt;&lt;"Prodaja uspjesno dodana!\n";
                    break;
                }
            
            }
        }
        
    }
    return true;
}

bool UredjivanjeProdaje(Prodaje &amp;prodaje, std::vector&lt;Stan&gt; &amp;stanovi, std::vector&lt;Kupac&gt; &amp;kupci) {
    int opcija_prodaja, opcija;
    std::cout&lt;&lt;"Odaberite prodaju koju zelite urediti. Dostupne prodaje su:\n";
    for(int i=1; i&lt;=prodaje.DajBrojProdaja(); i++) {
        std::cout&lt;&lt;i&lt;&lt;".\n"; prodaje.DajProdaju(i).Ispisi(); std::cout&lt;&lt;std::endl;
    }
    std::cin&gt;&gt;opcija_prodaja;
    std::cout&lt;&lt;"\nIzaberite opciju:\n"&lt;&lt;
                    " 0 - nazad\n"&lt;&lt;
                    " 1 - izmjena agenta\n"&lt;&lt;
                    " 2 - izmjena datuma prodaje\n"&lt;&lt;
                    " 3 - izmjena kupca\n"&lt;&lt;
                    " 4 - izmjena stana\n"&lt;&lt;
                    " 5 - izmjena cijene stana\n"; 
        std::cin&gt;&gt;opcija;
    if(opcija==0) return true;
    if(opcija==1) {
        std::string ime_agenta;
        std::cin.ignore(1000, '\n');
        std::cout&lt;&lt;"Unesite ime i prezime agenta prodaje: "; std::getline(std::cin, ime_agenta);
        prodaje.DajProdaju(opcija_prodaja).PromijeniAgenta(ime_agenta);
    }
    if(opcija==2) {
        for(;;) {
        int d,m,g; bool unos_zavrsen;
        std::cout&lt;&lt;"Unesite datum prodaje (formata d/m/g): ";
        std::cin&gt;&gt;d; std::cin.ignore(1); std::cin&gt;&gt;m; std::cin.ignore(1); std::cin&gt;&gt;g;
        try {
        prodaje.DajProdaju(opcija_prodaja).PromijeniDatumKupovine({d,m,g});
        unos_zavrsen=true;
        }
        catch(std::domain_error g) {
            std::cout&lt;&lt;"Izuzetak: "&lt;&lt;g.what()&lt;&lt;" Molimo unesite opet.\n";
            unos_zavrsen=false;
        }
        if(unos_zavrsen) break;
        }
    }
    if(opcija==3) {
        int opcija_kupac,k;
        std::cout&lt;&lt;"Izaberite opciju:\n"&lt;&lt;
                    " 0 - nazad\n"&lt;&lt;
                    " 1 - odabir postojeceg kupca\n"&lt;&lt;
                    " 2 - dodavanje novog kupca\n";
        std::cin&gt;&gt;opcija_kupac;
        if(opcija_kupac==0) return true;
        if(opcija_kupac==1) {
            std::cout&lt;&lt;"Odaberite kupca. Dostupni kupci su:\n";
            for(int i=0; i&lt;kupci.size(); i++) {
                std::cout&lt;&lt;" "&lt;&lt;i+1&lt;&lt;" - "; kupci[i].Ispisi(); std::cout&lt;&lt;std::endl;
            }
            std::cin&gt;&gt;k;
            prodaje.DajProdaju(opcija_prodaja).PromijeniKupca(kupci[k-1]);
            
        }
        if(opcija_kupac==2) {
            bool unos_zavrsen;
            for(;;) {
            try {
            DodavanjeKupaca(kupci);
            prodaje.DajProdaju(opcija_prodaja).PromijeniKupca(kupci[kupci.size()-1]);
            unos_zavrsen=true;
            }
            catch(std::domain_error g) {
                std::cout&lt;&lt;"Izuzetak: "&lt;&lt;g.what()&lt;&lt;" Molimo unesite opet.\n";
                unos_zavrsen=false;
            }
            if(unos_zavrsen) break;
            }
            
        }
    }
    if(opcija==4) {
         int opcija_stan,s;
        std::cout&lt;&lt;"Izaberite opciju:\n"&lt;&lt;
                    " 0 - nazad\n"&lt;&lt;
                    " 1 - odabir postojeceg stana\n"&lt;&lt;
                    " 2 - dodavanje novog stana\n";
        std::cin&gt;&gt;opcija_stan;
        if(opcija_stan==0) return true;
        if(opcija_stan==1) {
            std::cout&lt;&lt;"Odaberite stan. Dostupni stanovi su:\n";
            for(int i=0; i&lt;stanovi.size(); i++) {
                std::cout&lt;&lt;" "&lt;&lt;i+1&lt;&lt;" - "; stanovi[i].Ispisi(); std::cout&lt;&lt;std::endl;
            }
            std::cin&gt;&gt;s;
            prodaje.DajProdaju(opcija_prodaja).PromijeniStan(stanovi[s-1]);
            
        }
        if(opcija_stan==2) {
            bool unos_zavrsen;
            for(;;) {
            try {
            DodavanjeStana(stanovi);
            prodaje.DajProdaju(opcija_prodaja).PromijeniStan(stanovi[stanovi.size()-1]);
            unos_zavrsen=true;
            }
            catch(std::domain_error g) {
                std::cout&lt;&lt;"Izuzetak: "&lt;&lt;g.what()&lt;&lt;" Molimo unesite opet.\n";
                unos_zavrsen=false;
            }
            if(unos_zavrsen) break;
            }
            
        }
    }
    
    if(opcija==5) {
        double cijena; bool unos_zavrsen;
        for(;;) {
            std::cout&lt;&lt;"Unesite cijenu stana: ";
            std::cin&gt;&gt;cijena;
            try {
                prodaje.DajProdaju(opcija_prodaja).PromijeniCijenuProdaje(cijena);
                unos_zavrsen=true;
            }
            catch(std::domain_error g) {
                std::cout&lt;&lt;"Izuzetak: "&lt;&lt;g.what()&lt;&lt;" Molimo unesite opet.\n";
                unos_zavrsen=false;
            }
            if(unos_zavrsen) break;
        }
    }
    
    std::cout&lt;&lt;"Prodaja je uspjesno izmijenjena!\n";
    return true;
}

bool IspisProdaja(const Prodaje &amp;prodaje) {
    int opcija(-1);
    while(opcija!=0) {
        
       std::cout&lt;&lt;"\nIzaberite opciju:\n"&lt;&lt;
                    " 0 - nazad\n"&lt;&lt;
                    " 1 - ispis svih prodaja\n"&lt;&lt;
                    " 2 - ispis prodaja na datum\n"&lt;&lt;
                    " 3 - ispis najranije prodaje\n"&lt;&lt;
                    " 4 - ispis najskuplje prodaje\n"&lt;&lt;
                    " 5 - ispis broja prodaja\n"&lt;&lt;
                    " 6 - ispis broja prodaja po datumu\n"&lt;&lt;
                    " 7 - ispis broja prodaja po agentu\n"&lt;&lt;
                    " 8 - kraj\n";
        std::cin&gt;&gt;opcija;
        if(opcija==0) return true;
        if(opcija==8) return false;
        if(opcija==1) prodaje.IspisiSveProdaje();
        if(opcija==2) {
            int d,m,g;
            std::cout&lt;&lt;"Unesite datum (d/m/g): ";
            std::cin&gt;&gt;d; std::cin.ignore(1); std::cin&gt;&gt;m; std::cin.ignore(1); std::cin&gt;&gt;g;
            Datum pom(d,m,g);
            std::cout&lt;&lt;"Prodaje na datum: "; pom.Ispisi(); std::cout&lt;&lt;" su:\n";
            prodaje.IspisiProdajeNaDatum(pom);
        }
        if(opcija==3) {
            prodaje.DajNajranijuProdaju().Ispisi();
        }
        if(opcija==4) {
            prodaje.DajNajskupljuProdaju().Ispisi();
        }
        if(opcija==5) {
            std::cout&lt;&lt;"Broj prodaja: "&lt;&lt;prodaje.DajBrojProdaja();
        }
        if(opcija==6) {
           int d,m,g;
            std::cout&lt;&lt;"Unesite datum (d/m/g): ";
            std::cin&gt;&gt;d; std::cin.ignore(1); std::cin&gt;&gt;m; std::cin.ignore(1); std::cin&gt;&gt;g;
            std::cout&lt;&lt;"Broj prodaja na uneseni datum: "&lt;&lt;prodaje.DajBrojProdajaNaDatum({d,m,g});
            
        }
        if(opcija==7) {
            std::string ime;
            std::cout&lt;&lt;"Unesite ime agenta: ";
            std::cin.ignore(1000, '\n');
            std::getline(std::cin, ime);
            std::cout&lt;&lt;"Broj prodaja: "&lt;&lt;prodaje.DajBrojProdajaOdAgenta(ime);
            
        }
        
    }
    return true;
}

bool BrisanjeProdaja(Prodaje &amp;prodaje) {
    int opcija(-1);
    while(opcija!=0) {
        
       std::cout&lt;&lt;"\nIzaberite opciju:\n"&lt;&lt;
                    " 0 - nazad\n"&lt;&lt;
                    " 1 - brisanje najranije prodaje\n"&lt;&lt;
                    " 2 - brisanje prodaja agenta\n"&lt;&lt;
                    " 3 - brisanje prodaja po datumu\n"&lt;&lt;
                    " 4 - brisanje svih prodaja\n";
        std::cin&gt;&gt;opcija;
        
        if(opcija==0) return true;
        if(opcija==1) {
            try {
            prodaje.ObrisiNajranijuProdaju();
            std::cout&lt;&lt;"Najranija prodaja je obrisana!";
            }
            catch(std::range_error g) {
                std::cout&lt;&lt;"Izuzetak: "&lt;&lt;g.what();
            }
        }
        if(opcija==3) {
           int d,m,g;
            std::cout&lt;&lt;"Unesite datum: ";
            std::cin&gt;&gt;d; std::cin.ignore(1); std::cin&gt;&gt;m; std::cin.ignore(1); std::cin&gt;&gt;g; 
            prodaje.ObrisiProdajeNaDatum({d,m,g});
            std::cout&lt;&lt;"Sve prodaje na taj datum su obrisane.";
        }
        if(opcija==2) {
            std::string ime;
            std::cout&lt;&lt;"Unesite ime agenta: ";
            std::cin.ignore(1000, '\n');
            std::getline(std::cin, ime);
            prodaje.ObrisiProdajeAgenta(ime);
            std::cout&lt;&lt;"Sve prodaje tog agenta su obrisane.";
        }
        if(opcija==4) {
            prodaje.IsprazniKolekciju();
            std::cout&lt;&lt;"Sve prodaje su obrisane.";
        }
    }
    return true;
}

bool Meni3(Prodaje &amp;prodaje, std::vector&lt;Stan&gt; &amp;stanovi, std::vector&lt;Kupac&gt; &amp;kupci) {
    int opcija(-1);
    while(opcija!=0) {
        
       std::cout&lt;&lt;"\nIzaberite opciju:\n"&lt;&lt;
                    " 0 - nazad\n"&lt;&lt;
                    " 1 - dodavanje prodaje\n"&lt;&lt;
                    " 2 - uredjivanje prodaje\n"&lt;&lt;
                    " 3 - ispis prodaja\n"&lt;&lt;
                    " 4 - brisanje prodaja\n"&lt;&lt;
                    " 5 - kraj\n"; 
        std::cin&gt;&gt;opcija;
        
        if(opcija==0) return true;
        if(opcija==5) return false;
        if(opcija==1) { 
            if(!DodavanjeProdaje(prodaje, stanovi, kupci)) return false;
        }
       if(opcija==2) {
            if(!UredjivanjeProdaje(prodaje, stanovi, kupci)) return false;
        }
        if(opcija==3) {
            if(!IspisProdaja(prodaje)) return false;
        }
        if(opcija==4) {
            if(!BrisanjeProdaja(prodaje)) return false;
        }
    }
    return true;
}

int main ()
{
    
    std::vector&lt;Stan&gt; stanovi;
    std::vector&lt;Kupac&gt; kupci;
    Prodaje prodaje;
    
    
    std::cout&lt;&lt;"Dobrodosli!\n\n";
    
    int opcija(-1);
    while(opcija!=0) {
        std::cout&lt;&lt;"\nIzaberite opciju:\n"&lt;&lt;
                    " 0 - kraj\n"&lt;&lt;
                    " 1 - uredjivanje stanova\n"&lt;&lt;
                    " 2 - uredjivanje kupaca\n"&lt;&lt;
                    " 3 - uredjivanje prodaja\n";
        std::cin&gt;&gt;opcija;
        if(opcija==0) break;
        if(opcija==1) if(!Meni1(stanovi)) break;
        if(opcija==2) if(!Meni2(kupci)) break;
        if(opcija==3) if(!Meni3(prodaje,stanovi,kupci)) break;
    }
    
    std::cout&lt;&lt;"Dovidjenja!";

	return 0;
}</pre>
</body>
</html>
