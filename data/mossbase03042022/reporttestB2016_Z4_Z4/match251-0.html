<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z4/student1307.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z4/student1307.cpp<p></p><pre>
/B 2016/2017, ZadaÄ‡a 4, Zadatak 3
//Napomena: testovi ce biti dostupni dan pred rok!
#include &lt;iostream&gt;
#include &lt;stdexcept&gt;
#include &lt;string&gt;
#include &lt;iomanip&gt;
#include &lt;initializer_list&gt;
#include &lt;algorithm&gt;
#include &lt;vector&gt;
#include &lt;memory&gt;



class Datum{
    
    int dan,mjesec,godina;
    int BrojDana(int mjesec, int godina);
    
    public:
    
<a name="4"></a><font color="#FF00FF"><a href="match251-1.html#4" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_0.gif"/></a>

    Datum (int dan, int mjesec, int godina){
        Postavi(dan,mjesec,godina);
        
    }
    
    void Postavi(int dan, int mjesec, int godina);
    int DajDan() const { return dan;}
    int DajMjesec() const{ return mjesec; }
    int DajGodinu() const{ return godina; }
    void Ispisi() const { std::cout&lt;&lt; dan &lt;&lt;"/"&lt;&lt; mjesec &lt;&lt;"/"&lt;&lt; godina; }
</font>};

class Kupac {
    
    std::string ime;
    Datum dat;
    
    public:
<a name="12"></a><font color="#0000FF"><a href="match251-1.html#12" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_0.gif"/></a>

    Kupac(const std::string &amp;ime_i_prezime, const Datum &amp;datum_rodjenja) : dat(datum_rodjenja){ Postavi(ime_i_prezime,datum_rodjenja); }
    void Postavi(const std::string &amp;ime_i_prezime, const Datum &amp;datum_rodjenja);
    std::string DajImePrezime() const { return ime; }
    Datum DajDatumRodjenja() const { return dat; }
    void Ispisi() const;
};

class Stan {
</font>    
    std::string adr;
    int sp;
    int br;
    bool namj;
    double kv;
    
    public:
    
<a name="1"></a><font color="#00FF00"><a href="match251-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_0.gif"/></a>

    Stan(const std::string &amp;adresa, int sprat, int broj_soba, bool namjesten, double kvadratura){ Postavi(adresa,sprat,broj_soba,namjesten,kvadratura); }
    void Postavi(const std::string &amp;adresa, int sprat, int broj_soba, bool namjesten, double kvadratura);
    
    std::string DajAdresu() const { return adr; }
    int DajSprat() const { return sp; }
    int DajBrojSoba() const {return br; }
    bool DajNamjesten() const { return namj;}
    double DajKvadraturu() const { return kv; }
</font>    
    void Ispisi() const; 
    
};

class Prodaja {
    
    std::string imeag;
    double cijena;
    Datum dat;
    Kupac k;
    Stan s;
    int BrojDana(int mjesec,int godina);
    
    public:
    
    Prodaja( const std::string &amp;ime_agenta_prodaje, double cijena_stana, const Datum &amp;datum_prodaje,
            const Kupac &amp;kupac_stana, const Stan &amp;kupljeni_stan);
    Prodaja (const std::string &amp;ime_agenta_prodaje, double cijena_stana,int dan_prodaje,
            int mjesec_prodaje, int godina_prodaje, std::string &amp;ime_kupca, const Datum
            &amp;datum_rodjenja_kupca, const std::string &amp;adresa_stana, int sprat_stana, int broj_soba,
            bool namjesten_stan, double broj_kvadrata);
            
    void PromijeniKupca(const Kupac &amp;novi_kupac){ k=novi_kupac;}
<a name="5"></a><font color="#FF0000"><a href="match251-1.html#5" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_0.gif"/></a>

    void PromijeniStan(const Stan &amp;novi_stan) {s=novi_stan;}
    void PromijeniDatumKupovine(const Datum &amp;novi_datum) { dat=novi_datum;}
    void PromijeniCijenuProdaje(const double &amp;nova_cijena) {cijena=nova_cijena;}
    
    void PomjeriDanUnaprijed();
    void PomjeriDanUnazad();
    
    std::string DajImeAgenta() const { return imeag;}
    std::string DajImeKupca() const { return k.DajImePrezime(); }
</font>    Datum DajDatumProdaje() const { return dat; }
    double DajCijenuStana() const { return cijena; }
    
    friend bool ProdatPrije(const Prodaja &amp;p1, const Prodaja &amp;p2);
    
    friend bool SkupljiStan(const Prodaja &amp;p1, const Prodaja &amp;p2){
        if (p1.DajCijenuStana()&gt;p2.DajCijenuStana()) return true;
        else return false;
    }
    
    void Ispisi() const;
    
    
    
    
};


class Prodaje {
    
    std::vector&lt;std::shared_ptr&lt;Prodaja&gt;&gt; niz;
    int broj_prodaja;
    
    public: 
    
    explicit Prodaje() : broj_prodaja(0) { niz.resize(0); }
    
<a name="13"></a><font color="#00FFFF"><a href="match251-1.html#13" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_0.gif"/></a>

    Prodaje (std::initializer_list&lt;Prodaja&gt; spisak_prodaja);
       
    ~Prodaje();
    
    Prodaje (const Prodaje &amp;prodaje);
    Prodaje (Prodaje &amp;&amp;prodaje);
    Prodaje &amp;operator=(const Prodaje &amp;prodaje);
    Prodaje &amp;operator=(Prodaje &amp;&amp;prodaje);
</font>    
    void RegistrirajProdaju(const std::string &amp;ime_agenta_prodaje, double cijena_stana,const Datum
                            &amp;datum_prodaje, const Kupac &amp;kupac_stana, const Stan &amp;kupljeni_stan);
    void RegistrirajProdaju(const std::string &amp;ime_agenta_prodaje,double cijena_stana, int dan_prodaje, int mjesec_prodaje,
                            int godina_prodaje, std::string &amp;ime_kupca, const Datum &amp;datum_rodjenja_kupca,
                            const std::string &amp;adresa_stana, int sprat_stana, int broj_soba, bool namjesten_stan,double broj_kvadrata);
    void RegistrirajProdaju(std::shared_ptr&lt;Prodaja&gt; prodaja);
    
    
    Prodaja &amp;DajProdaju(int redni_broj_prodaje);
<a name="17"></a><font color="#0000FF"><a href="match251-1.html#17" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_0.gif"/></a>

    int DajBrojProdaja() const { return broj_prodaja; }
    int DajBrojProdajaNaDatum (const Datum &amp;datum) const;
    int DajBrojProdajaOdAgenta (const std::string &amp;ime_agenta) const;
    Prodaja &amp;DajNajranijuProdaju();
    Prodaja DajNajranijuProdaju() const;
    Prodaja &amp;DajNajskupljuProdajU();
</font>    Prodaja DajNajskupljuProdajU() const;
    
    
   std::vector&lt;std::shared_ptr&lt;Prodaja&gt;&gt;::const_iterator begin() const { return niz.begin(); }
   std::vector&lt;std::shared_ptr&lt;Prodaja&gt;&gt;::const_iterator end() const { return niz.end(); }
    
    void IsprazniKolekciju();
    void ObrisiNajranijuProdaju();
    void ObrisiProdajeAgenta(const std::string &amp;ime_agenta);
    void ObrisiProdajeNaDatum (const Datum &amp;datum);
    
    void IspisiProdajeNaDatum (const Datum &amp;datum) const;
    void IspisiSveProdaje() const;
};



Stan NapraviStan(){
    
    std::cout&lt;&lt;"Unesite adresu: ";
    std::cin.ignore(1000,'\n');
    std::cin.clear();
    std::string ad;
    getline(std::cin,ad);
    
    std::cout&lt;&lt;"Unesite sprat: ";
    int sprat,broj,e1;
    std::cin&gt;&gt;sprat;
    
    std::cout&lt;&lt;"Unesite broj soba: ";
    std::cin&gt;&gt;broj;
    
    std::cout&lt;&lt;"Da li je stan namjesten (1 - da, 0 - ne): ";
    std::cin&gt;&gt;e1;
    
    std::cout&lt;&lt;"Unesite kvadraturu: ";
    double kvad;
    std::cin&gt;&gt;kvad;
    
    bool e;
    if(e1==0 || e1==1) e=e1;
    else throw std::domain_error  ("Neispravan unos podataka.");
  
    
    Stan s(ad,sprat,broj,e,kvad);
    
    return s;
    
}

int main ()
{
    int a,b,c,d,e,f,e1;
    std::string ad;
    int s,bs;
    bool n;
    double kv;
    std::vector&lt;std::string&gt; i {"Unesite ime i prezime agenta prodaje: ","Unesite datum prodaje (formata d/m/g): ","Unesite cijenu stana: ","Unesite ime kupca: ", "Unesite datum rodjenja kupca (formata d/m/g): ", "Unesite adresu: ","Unesite sprat: ",
                                "Unesite broj soba: ", "Da li je stan namjesten (1 - da, 0 - ne): ", "Unesite kvadraturu: "};
    std::vector&lt;Stan&gt; v;
    std::vector&lt;Kupac&gt; k;
    Prodaje p;
    
<a name="2"></a><font color="#0000FF"><a href="match251-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_0.gif"/></a>

    std::cout&lt;&lt;"Dobrodosli!"&lt;&lt;std::endl&lt;&lt;std::endl&lt;&lt;std::endl;
    
    for(;;){
    std::cout&lt;&lt;"Izaberite opciju:"&lt;&lt;std::endl&lt;&lt;" 0 - kraj"&lt;&lt;std::endl&lt;&lt;" 1 - uredjivanje stanova"&lt;&lt;std::endl&lt;&lt;" 2 - uredjivanje kupaca"&lt;&lt;std::endl&lt;&lt;" 3 - uredjivanje prodaja"&lt;&lt;std::endl;
</font>    
    std::cin&gt;&gt;a;
    
    
    if(a==0) break;
    
<a name="14"></a><font color="#FF00FF"><a href="match251-1.html#14" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_0.gif"/></a>

    if(a==1){
        
        for(;;){
      std::cout&lt;&lt;"Izaberite opciju:"&lt;&lt;std::endl&lt;&lt;" 0 - nazad"&lt;&lt;std::endl&lt;&lt;" 1 - dodavanje stana"&lt;&lt;std::endl&lt;&lt;" 2 - uredjivanje stanova"&lt;&lt;
</font>                        std::endl&lt;&lt;" 3 - ispis svih stanova"&lt;&lt;std::endl&lt;&lt;" 4 - kraj"&lt;&lt;std::endl;
        
        std::cin&gt;&gt;b;
        
        if (b==0) break;
        if (b==1){
            
    
            for(;;){
                try{
            
            std::cin.ignore(1000,'\n');
            std::cin.clear();
            
            std::cout&lt;&lt;"Unesite adresu: ";
            getline(std::cin,ad);
            
            std::cout&lt;&lt;"Unesite sprat: ";
            std::cin&gt;&gt;s;
            
            std::cout&lt;&lt;"Unesite broj soba: ";
<a name="16"></a><font color="#00FF00"><a href="match251-1.html#16" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_0.gif"/></a>

            std::cin&gt;&gt;bs;
            
            std::cout&lt;&lt;"Da li je stan namjesten (1 - da, 0 - ne): ";
            std::cin&gt;&gt;e1;
            
            std::cout&lt;&lt;"Unesite kvadraturu: ";
            std::cin&gt;&gt;kv;
            
            if(e1==0 || e1==1) n=e1;
</font>            
            else throw std::domain_error("Neispravan unos podataka");
        
        
        
        
            
            Stan stan(ad,s,bs,n,kv);
            
            v.push_back(stan);
            
            std::cout&lt;&lt;"Stan je uspjesno dodan!"&lt;&lt;std::endl;
            std::cout&lt;&lt;std::endl;
            
            break;
        }
        
<a name="0"></a><font color="#FF0000"><a href="match251-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_0.gif"/></a>

        catch(std::domain_error e){ std::cout&lt;&lt;"Izuzetak: "&lt;&lt;e.what()&lt;&lt;". Molimo unesite opet."&lt;&lt;std::endl;}
        
        }
        }
        
        
        else if(b==3){
            
            for(int i(0);i&lt;v.size();i++){
                std::cout&lt;&lt;i+1&lt;&lt;". ";
                v[i].Ispisi();
            }
            std::cout&lt;&lt;std::endl;
        }
        
        else if(b==2){
            std::cout&lt;&lt;"Odaberite stan. Dostupni stanovi su:"&lt;&lt;std::endl;
</font><a name="8"></a><font color="#00FFFF"><a href="match251-1.html#8" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_0.gif"/></a>

            
            for(int i(0);i&lt;v.size();i++){
                std::cout&lt;&lt;" "&lt;&lt;i+1&lt;&lt;" - ";
                v[i].Ispisi();
</font>            }
            
            
            std::cin&gt;&gt;c;
            std::cout&lt;&lt;std::endl;
         
                        std::cout&lt;&lt;"Odaberite polje koje zelite urediti:"&lt;&lt;std::endl;
                        std::cout&lt;&lt;" 0 - nazad"&lt;&lt;std::endl&lt;&lt;" 1 - adresa"&lt;&lt;std::endl&lt;&lt;" 2 - sprat"&lt;&lt;std::endl&lt;&lt;" 3 - broj soba"
                                 &lt;&lt;std::endl&lt;&lt;" 4 - da li je stan namjesten"&lt;&lt;std::endl&lt;&lt;" 5 - kvadratura"&lt;&lt;std::endl&lt;&lt;" 6 - sve"&lt;&lt;std::endl;
                        
                        for(int i(0);i&lt;v.size();i++){
                            
                        if (c==i+1){        
                        std::cin&gt;&gt;d;
                        
                        if(d==0) break;
                        
                        else if(d==2){
                            for(;;){
                                std::cout&lt;&lt;"Unesite sprat: ";
                                int novis(0);
                                std::cin&gt;&gt;novis;
                                
                                try{
                                        v[i].Postavi(ad,novis,bs,n,kv);
                                        std::cout&lt;&lt;"Stan je uspjesno izmijenjen!"&lt;&lt;std::endl&lt;&lt;std::endl;
                                        break;
                                }
                                
                                catch(std::domain_error e) {std::cout&lt;&lt;"Izuzetak: "&lt;&lt;e.what()&lt;&lt;". Molimo unesite opet. "&lt;&lt;std::endl; }
                            }
                        }
                        
                        else if(d==3){
                            for(;;){
                                std::cout&lt;&lt;"Unesite broj soba: ";
                                int novas(0);
                                std::cin&gt;&gt;novas;
                                
                                try{
                                        v[i].Postavi(ad,s,novas,n,kv);
                                        std::cout&lt;&lt;"Stan je uspjesno izmijenjen!"&lt;&lt;std::endl&lt;&lt;std::endl;
                                        break;
                                }
                                
                                catch(std::domain_error e){ std::cout&lt;&lt;"Izuzetak: "&lt;&lt;e.what()&lt;&lt;". Molimo unesite opet."&lt;&lt;std::endl;}
                            }
                        }
                        
                        else if(d==4){
                            for(;;){
                                std::cout&lt;&lt;"Da li je stan namjesten (1 - da, 0 - ne): ";
                                 bool m;
                                 std::cin&gt;&gt;m;
                                
                                try{
                                        v[i].Postavi(ad,s,bs,m,kv);
                                        std::cout&lt;&lt;"Stan je uspjesno izmijenjen!"&lt;&lt;std::endl&lt;&lt;std::endl;
                                        break;
                                }
                                
                                catch(std::domain_error e) { std::cout&lt;&lt;"Izuzetak: "&lt;&lt;e.what()&lt;&lt;". Molimo unesite opet."&lt;&lt;std::endl;}
                            }
                        }
                        
                        else if(d==5){
                            for(;;){
                                std::cout&lt;&lt;"Unesite kvadraturu: ";
                                double kvad;
                                std::cin&gt;&gt;kvad;
                                try{
                                        v[i].Postavi(v[i].DajAdresu(),v[i].DajSprat(),v[i].DajBrojSoba(),v[i].DajNamjesten(),kvad);
                                        std::cout&lt;&lt;"Stan je uspjesno izmijenjen!"&lt;&lt;std::endl&lt;&lt;std::endl;
                                        break;
                                }
                                catch(std::domain_error e) {std::cout&lt;&lt;"Izuzetak: "&lt;&lt;e.what()&lt;&lt;". Molimo unesite opet."&lt;&lt;std::endl;
                            }
                        }
                        
                        } 
                        
                        
                        else if(d==6){
                            for(;;){
                                std::cout&lt;&lt;"Unesite adresu: ";
                                std::cin.ignore(1000,'\n');
                                std::cin.clear();
                                std::string s;
                                getline(std::cin,s);
                                
                                std::cout&lt;&lt;"Unesite sprat: ";
                                int spr;
                                std::cin&gt;&gt;spr;
                                
                                std::cout&lt;&lt;"Unesite broj soba: ";
                                int brs;
                                std::cin&gt;&gt;brs;
                                
                                std::cout&lt;&lt;"Da li je stan namjesten (1 - da, 0 - ne): ";
                                bool j;
                                std::cin&gt;&gt;j;
                                
                                std::cout&lt;&lt;"Unesite kvadraturu: ";
                                double kva;
                                std::cin&gt;&gt;kva;
                                try{
                                    v[i].Postavi(s,spr,brs,j,kva);
                                    std::cout&lt;&lt;"Stan je uspjesno izmijenjen!"&lt;&lt;std::endl&lt;&lt;std::endl; 
                                    break;
                                }
                                
                                catch(std::domain_error e) {std::cout&lt;&lt;"Izuzetak: "&lt;&lt;e.what()&lt;&lt;". Molimo unesite opet."&lt;&lt;std::endl; }
                            }
                        }
                        
                }
                
            
            
        }
            
        
        
                
    }
    
    }
    
    
    }
    
<a name="15"></a><font color="#FF0000"><a href="match251-1.html#15" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_0.gif"/></a>

    if(a==2){
        for(;;){
            std::cout&lt;&lt;"Izaberite opciju:"&lt;&lt;std::endl&lt;&lt;" 0 - nazad"&lt;&lt;std::endl&lt;&lt;" 1 - dodavanje kupca"&lt;&lt;std::endl&lt;&lt;" 2 - uredjivanje kupaca"&lt;&lt;std::endl&lt;&lt;" 3 - ispis svih kupaca"&lt;&lt;std::endl&lt;&lt;" 4 - kraj"&lt;&lt;std::endl;
</font>            
        
            std::cin&gt;&gt;e;
            if(e==0) break;
<a name="18"></a><font color="#00FFFF"><a href="match251-1.html#18" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_0.gif"/></a>

            if(e==3) {
                
                for(int i(0);i&lt;k.size();i++)
                k[i].Ispisi();
                
                std::cout&lt;&lt;std::endl;
</font>            }
            
            if(e==1){
                for(;;){
                    std::cout&lt;&lt;"Unesite ime i prezime kupca: ";
                    std::cin.ignore(1000,'\n');
                    std::cin.clear();
                    std::string s;
                    
                    getline(std::cin,s);
                    
                    int dan,mjesec,godina;
                    char znak1,znak2;
                    
                    std::cout&lt;&lt;"Unesite datum rodjenja (formata d/m/g): ";
                    std::cin&gt;&gt;dan&gt;&gt;znak1&gt;&gt;mjesec&gt;&gt;znak2&gt;&gt;godina;
                   try{ 
<a name="7"></a><font color="#0000FF"><a href="match251-1.html#7" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_0.gif"/></a>

                    Kupac ku(s,Datum(dan,mjesec,godina));
                    
                    k.push_back(ku);
                    std::cout&lt;&lt;"Kupac je uspjesno dodan!"&lt;&lt;std::endl&lt;&lt;std::endl;
                    break;
                   }
                   catch(std::domain_error e) { std::cout&lt;&lt;"Izuzetak: "&lt;&lt;e.what()&lt;&lt;". Molimo unesite opet."&lt;&lt;std::endl; }
</font>                }
            }
            
<a name="6"></a><font color="#00FF00"><a href="match251-1.html#6" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_0.gif"/></a>

            if(e==2){
                std::cout&lt;&lt;"Odaberite kupca kojeg zelite urediti. Dostupni kupci su:"&lt;&lt;std::endl;
                
                for(int i(0);i&lt;k.size();i++){
                    std::cout&lt;&lt;" "&lt;&lt;i+1&lt;&lt;" - ";
                    k[i].Ispisi();
</font>                }
                
                std::cin&gt;&gt;f;
                
                for(;;){
                    std::cout&lt;&lt;"Unesite ime i prezime kupca: ";
                    std::cin.ignore(1000,'\n');
                    std::cin.clear();
                    std::string s;
                    getline(std::cin,s);
                    
                    std::cout&lt;&lt;"Unesite datum rodjenja (formata d/m/g): ";
                    int dan, mjesec,godina;
                    char z,l;
                    std::cin&gt;&gt;dan&gt;&gt;z&gt;&gt;mjesec&gt;&gt;l&gt;&gt;godina;
                    
                    try{
                        k[f-1].Postavi(s,Datum(dan,mjesec,godina));
                        std::cout&lt;&lt;"Kupac je uspjesno izmijenjen!"&lt;&lt;std::endl&lt;&lt;std::endl;
                        break;
                    }
                    catch(std::domain_error e) {std::cout&lt;&lt;"Izuzetak: "&lt;&lt;e.what()&lt;&lt;". Molimo unesite opet."&lt;&lt;std::endl;}
                }
                
                
            }
      
        }
    }
    
    if(a==3){
        for(;;){
            std::cout&lt;&lt;"Izaberite opciju:"&lt;&lt;std::endl&lt;&lt;" 0 - nazad"&lt;&lt;std::endl&lt;&lt;" 1 - dodavanje prodaje"&lt;&lt;std::endl&lt;&lt;" 2 - uredjivanje prodaje"&lt;&lt;std::endl&lt;&lt;" 3 - ispis prodaja"&lt;&lt;std::endl&lt;&lt;" 4 - brisanje prodaja"&lt;&lt;std::endl&lt;&lt;" 5 - kraj"&lt;&lt;std::endl;
            
            int b;
            std::cin&gt;&gt;b;
            
            if(b==0) break;
            
            if(b==1){
            
            for(;;){
            
            std::cout&lt;&lt;"Izaberite opciju:"&lt;&lt;std::endl&lt;&lt;" 0 - nazad"&lt;&lt;std::endl&lt;&lt;" 1 - dodavanje potpuno nove prodaje"&lt;&lt;std::endl&lt;&lt;" 2 - dodavanje nove prodaje na osnovu arhive"&lt;&lt;std::endl&lt;&lt;" 3 - kraj"&lt;&lt;std::endl;
            
            std::cin.ignore(1000,'\n');
            std::cin.clear();
            int o;
            std::cin&gt;&gt;o;
            
            if(o==1){
                std::cout&lt;&lt;i[0];
                std::cin.ignore(1000,'\n');
                std::cin.clear();
                std::string imeag; 
                getline(std::cin,imeag);
                
                std::cout&lt;&lt;i[1];
                
                int d,m,g;
                char z1,z2;
                std::cin&gt;&gt;d&gt;&gt;z1&gt;&gt;m&gt;&gt;z2&gt;&gt;g;
                
                std::cout&lt;&lt;i[2];
                int cijena,sprat,soba;
                
                std::cin&gt;&gt;cijena;
                
                std::cout&lt;&lt;i[3];
                std::cin.ignore(1000,'\n');
                std::cin.clear();
                std::string ime;
                getline(std::cin,ime);
                
                std::cout&lt;&lt;i[4];
                int d1,m1,g1;
                char znaknovi,znaknovi1;
                std::cin&gt;&gt;d1&gt;&gt;znaknovi&gt;&gt;m1&gt;&gt;znaknovi1&gt;&gt;g1;
                
                k.push_back(Kupac(ime,Datum(d1,m1,g1)));
                
                std::cout&lt;&lt;i[5];
                std::cin.ignore(1000,'\n');
                std::cin.clear();
                std::string adr;
                getline(std::cin,adr);
                
                std::cout&lt;&lt;i[6];
                std::cin&gt;&gt;sprat;
                std::cout&lt;&lt;i[7];
                std::cin&gt;&gt;soba;
                std::cout&lt;&lt;i[8];
                bool e;
                std::cin&gt;&gt;e;
                
                std::cout&lt;&lt;i[9];
                double kvad;
                std::cin&gt;&gt;kvad;
                
                v.push_back(Stan(adr,sprat,soba,e,kvad));
                
                p.RegistrirajProdaju(imeag,cijena,d,m,g,ime,Datum(d1,m1,g1),adr,sprat,soba,e,kvad);
                std::cout&lt;&lt;"Prodaja uspjesno dodana!"&lt;&lt;std::endl&lt;&lt;std::endl;
            }
            
          if(o==2){
                
                std::cout&lt;&lt;i[0];
                std::cin.ignore(1000,'\n');
                std::cin.clear();
                std::string im;
                getline(std::cin,im);
                
                std::cout&lt;&lt;"Unesite datum prodaje (formata d/m/g): ";
           
                int dat,mj,go,cijena;
                char ze,ze2;
               
                std::cin&gt;&gt;dat&gt;&gt;ze&gt;&gt;mj&gt;&gt;ze2&gt;&gt;go;
                
                
                
                std::cout&lt;&lt;i[2];
                
                std::cin&gt;&gt;cijena;
                
                std::cout&lt;&lt;"Odaberite kupca. Dostupni kupci su:"&lt;&lt;std::endl;
                
                for(int i(0);i&lt;k.size();i++){
                    std::cout&lt;&lt;" "&lt;&lt;i+1&lt;&lt;" - ";
                    k[i].Ispisi();
                }
                
                int pom1;
                std::cin&gt;&gt;pom1;
                
                std::cout&lt;&lt;"Odaberite stan. Dostupni stanovi su:"&lt;&lt;std::endl;
                
                for(int i(0);i&lt;v.size();i++){
                    std::cout&lt;&lt;" "&lt;&lt;i+1&lt;&lt;" - ";
                    v[i].Ispisi();
                }
                
               if(!(std::cin.peek())){
                  std::cout&lt;&lt;"a";
                std::cin.ignore(1000,'\n');
                std::cin.clear();
               }
               
                int pomocna;
                std::cin&gt;&gt;pomocna;
                
                try{
                p.RegistrirajProdaju(im,cijena,Datum(dat,mj,go),k[pom1-1],v[pomocna-1]);
                }
                catch(std::domain_error e) {std::cout&lt;&lt;e.what()&lt;&lt;"."&lt;&lt;std::endl;}
                
                std::cout&lt;&lt;"Prodaja uspjesno dodana!"&lt;&lt;std::endl&lt;&lt;std::endl;
              
            }
            
            if(o==0) break;
            
            if (o==3) {std::cout&lt;&lt;std::endl&lt;&lt;std::endl&lt;&lt;"Dovidjenja!"; return 0;}
            
            
            
            }
        }
        
        
        if(b==2){
            std::cout&lt;&lt;"Odaberite prodaju koju Å¾elite urediti. Dostupne prodaje su:"&lt;&lt;std::endl;
               
                int br(0);
                for(auto i(p.begin());i!=p.end();i++){
                std::cout&lt;&lt;br+1&lt;&lt;"."&lt;&lt;std::endl;
                
                (*i)-&gt;Ispisi();
                if(br!=p.DajBrojProdaja()-1) std::cout&lt;&lt;std::endl;
                br++;
                
            
            }
            int e;
            
            std::cin&gt;&gt;e;
            
        
                
                std::cout&lt;&lt;"Izaberite opciju:"&lt;&lt;std::endl&lt;&lt;" 0 - nazad"&lt;&lt;std::endl&lt;&lt;" 1 - izmjena agenta"&lt;&lt;std::endl&lt;&lt;
<a name="9"></a><font color="#FF00FF"><a href="match251-1.html#9" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_0.gif"/></a>

                            " 2 - izmjena datuma prodaje"&lt;&lt;std::endl&lt;&lt;" 3 - izmjena kupca"&lt;&lt;std::endl&lt;&lt;" 4 - izmjena stana"
                            &lt;&lt;std::endl&lt;&lt;" 5 - izmjena cijene stana"&lt;&lt;std::endl;
                            
                int g;
                std::cin&gt;&gt;g;
                
                if(g==0) break;
</font>                
                if(g==3){
                    for(;;){
<a name="10"></a><font color="#FF0000"><a href="match251-1.html#10" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_0.gif"/></a>

                    std::cout&lt;&lt;"Izaberite opciju:"&lt;&lt;std::endl&lt;&lt;" 0 - nazad"&lt;&lt;std::endl&lt;&lt;" 1 - odabir postojeceg kupca"
                             &lt;&lt;std::endl&lt;&lt;" 2 - dodavanje novog kupca"&lt;&lt;std::endl;
                             
                    int m;
                    std::cin&gt;&gt;m;
                    
                    if(m==0) break;
</font>                    
                    if(m==1){
                        std::cout&lt;&lt;"Odaberite kupca. Dostupni kupci su:"&lt;&lt;std::endl;
                        
                        for(int i(0);i&lt;k.size();i++){
                            std::cout&lt;&lt;i+1&lt;&lt;" - ";
                            k[i].Ispisi();
                        }
                        
                        int postojeci;
                        std::cin&gt;&gt;postojeci;
                        
                        p.DajProdaju(e).PromijeniKupca(k[postojeci-1]);
                        std::cout&lt;&lt;"Prodaja je uspjesno izmijenjena!"&lt;&lt;std::endl&lt;&lt;std::endl;
                        break;
                    }
                    
                    if(m==2){
                        for(;;){
                        std::cout&lt;&lt;"Unesite ime i prezime kupca: ";
                        std::cin.ignore(1000,'\n');
                        std::cin.clear();
                        std::string s;
                        getline(std::cin,s);
                        std::cout&lt;&lt;"Unesite datum rodjenja (formata d/m/g): ";
                        int d,m,g;
                        char z1,z2;
                        std::cin&gt;&gt;d&gt;&gt;z1&gt;&gt;m&gt;&gt;z2&gt;&gt;g;
                        
                        try{p.DajProdaju(e).PromijeniKupca(Kupac(s,Datum(d,m,g)));
                        std::cout&lt;&lt;"Prodaja je uspjesno izmijenjena!"&lt;&lt;std::endl&lt;&lt;std::endl; break; }

                        
                        catch(std::domain_error e){ std::cout&lt;&lt;"Izuzetak: "&lt;&lt;e.what()&lt;&lt;". Molimo unesite opet."&lt;&lt;std::endl; }
                        
                        }
                        break;
                    }
                    
                    }
                }
                
                
                
                if(g==4){
                    
                       
                        std::cout&lt;&lt;"Izaberite opciju:"&lt;&lt;std::endl&lt;&lt;" 0 - nazad"&lt;&lt;std::endl&lt;&lt;" 1 - odabir postojeceg stana"&lt;&lt;std::endl&lt;&lt;" 2 - dodavanje novog stana"&lt;&lt;std::endl;
                   int m;
                   std::cin&gt;&gt;m;
                   
                   if(m==0) break;
                   if(m==2){
                    for(;;){
                    try{
                        Stan s(NapraviStan());
                        p.DajProdaju(e).PromijeniStan(s);
                        std::cout&lt;&lt;"Prodaja je uspjesno izmijenjena!"&lt;&lt;std::endl&lt;&lt;std::endl;
                        break;
                        
                    }
                    catch(std::domain_error e) { std::cout&lt;&lt;"Izuzetak: "&lt;&lt;e.what()&lt;&lt;". Molimo unesite opet. "&lt;&lt;std::endl;}
                    }
                   }
                    
                    if(m==1){
                        
                        for(int i(0);i&lt;v.size();i++){
                            std::cout&lt;&lt;i+1&lt;&lt;" - ";
                            v[i].Ispisi();
                        }
                        
                        int r;
                        std::cin&gt;&gt;r;
                        
                        p.DajProdaju(e).PromijeniStan(v[r-1]);
                        
                        std::cout&lt;&lt;"Prodaja je uspjesno izmijenjena!"&lt;&lt;std::endl&lt;&lt;std::endl;
                        
                    }
                
                    }
                    
                    
                  if (g==5){
                        std::cout&lt;&lt;"Unesite cijenu stana: ";
                        int cijen;
                        std::cin&gt;&gt;cijen;
                        
                        p.DajProdaju(e).PromijeniCijenuProdaje(cijen);
                        std::cout&lt;&lt;"Prodaja je uspjesno izmijenjena!"&lt;&lt;std::endl&lt;&lt;std::endl;
                        
             }
                    
                  if(g==1){
                        
                        std::cout&lt;&lt;"Unesite ime i prezime agenta prodaje: ";
                        std::cin.ignore(1000,'\n');
                        std::cin.clear();
                        std::string a;
                        getline(std::cin,a);
                      //  Prodaja pro= p.DajProdaju(e);
                      
                       p.DajProdaju(e)=Prodaja(a,p.DajProdaju(e).DajCijenuStana(),p.DajProdaju(e).DajDatumProdaje(),k[e-1],v[e-1]);
                       std::cout&lt;&lt;"Prodaja je uspjesno izmijenjena!"&lt;&lt;std::endl&lt;&lt;std::endl;
                      
                      
                    }
                if(g==2){
                        int d,m,g;
                        std::cout&lt;&lt;"Unesite datum prodaje (formata d/m/g): ";
                        char z1,z2;
                        std::cin&gt;&gt;d&gt;&gt;z1&gt;&gt;m&gt;&gt;z2&gt;&gt;g;
                        p.DajProdaju(e).PromijeniDatumKupovine(Datum(d,m,g));
                        std::cout&lt;&lt;"Prodaja je uspjesno izmijenjena!"&lt;&lt;std::endl&lt;&lt;std::endl;
                        
                    }
            
            }
            
        if(b==3){
            
            for(;;){
            std::cout&lt;&lt;"Izaberite opciju:"&lt;&lt;std::endl&lt;&lt;" 0 - nazad"&lt;&lt;std::endl&lt;&lt;" 1 - ispis svih prodaja"&lt;&lt;std::endl&lt;&lt;" 2 - ispis prodaja na datum"
                    &lt;&lt;std::endl&lt;&lt;" 3 - ispis najranije prodaje"&lt;&lt;std::endl&lt;&lt;" 4 - ispis najskuplje prodaje"&lt;&lt;std::endl&lt;&lt;" 5 - ispis broja prodaja"
                    &lt;&lt;std::endl&lt;&lt;" 6 - ispis broja prodaja po datumu"&lt;&lt;std::endl&lt;&lt;" 7 - ispis broja prodaja po agentu"&lt;&lt;std::endl&lt;&lt;" 8 - kraj"&lt;&lt;std::endl;
                    
            int m;
            std::cin&gt;&gt;m;
            
            if(m==0) break;
            if(m==1) p.IspisiSveProdaje();
            if(m==2){
                std::cout&lt;&lt;"Unesite datum (d/m/g): ";
                int d,m,g;
                char z1,z2;
                std::cin&gt;&gt;d&gt;&gt;z1&gt;&gt;m&gt;&gt;z2&gt;&gt;g;
                std::cout&lt;&lt;"Prodaje na datum "&lt;&lt;d&lt;&lt;"/"&lt;&lt;m&lt;&lt;"/"&lt;&lt;g&lt;&lt;" su:";
                p.IspisiProdajeNaDatum(Datum(d,m,g));
            }
            
            if(m==3){
                p.DajNajranijuProdaju().Ispisi();
                std::cout&lt;&lt;std::endl;
            }
            
            if(m==4){
                p.DajNajskupljuProdajU().Ispisi();
                std::cout&lt;&lt;std::endl;
            }
            if(m==5){
               std::cout&lt;&lt;"Broj prodaja: "&lt;&lt;p.DajBrojProdaja()&lt;&lt;std::endl&lt;&lt;std::endl;}
            if(m==6){
                std::cout&lt;&lt;"Unesite datum (d/m/g): ";
                int d,m,g;
                char z1,z2;
                std::cin&gt;&gt;d&gt;&gt;z1&gt;&gt;m&gt;&gt;z2&gt;&gt;g;
                std::cout&lt;&lt;"Broj prodaja na uneseni datum: "&lt;&lt;p.DajBrojProdajaNaDatum(Datum(d,m,g))&lt;&lt;std::endl&lt;&lt;std::endl;
            }
            if(m==7){
                std::cout&lt;&lt;"Unesite ime agenta: ";
                std::cin.ignore(1000,'\n');
                std::cin.clear();
                std::string imeagenta;
                getline(std::cin,imeagenta);
                
                std::cout&lt;&lt;"Broj prodaja unesenog agenta: "&lt;&lt;p.DajBrojProdajaOdAgenta(imeagenta)&lt;&lt;std::endl&lt;&lt;std::endl;
            }
            
            if(m==8) { std::cout&lt;&lt;std::endl&lt;&lt;std::endl&lt;&lt;"Dovidjenja!"; return 0; }
             
                    
        
            }
        }
        if(b==4){
            for(;;){
                std::cout&lt;&lt;"Izaberite opciju:"&lt;&lt;std::endl&lt;&lt;" 0 - nazad"&lt;&lt;std::endl&lt;&lt;" 1 - brisanje najranije prodaje"&lt;&lt;std::endl&lt;&lt;" 2 - brisanje prodaja agenta"
                        &lt;&lt;std::endl&lt;&lt;" 3 - brisanje prodaja po datumu"&lt;&lt;std::endl&lt;&lt;" 4 - brisanje svih prodaja"&lt;&lt;std::endl;
                        
                int m;
                std::cin&gt;&gt;m;
                
                if(m==0) break;
                if (m==1){
                 try{   
                 p.ObrisiNajranijuProdaju();
                 std::cout&lt;&lt;"Najranija prodaja je obrisana!"&lt;&lt;std::endl&lt;&lt;std::endl;
                 }
                 
<a name="19"></a><font color="#FF00FF"><a href="match251-1.html#19" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_0.gif"/></a>

                 catch(std::range_error e){
                 std::cout&lt;&lt;"Izuzetak: "&lt;&lt;e.what()&lt;&lt;"."&lt;&lt;std::endl&lt;&lt;std::endl;
</font>                }
                }
                
                if(m==3) {
                    std::cout&lt;&lt;"Unesite datum: ";
                    int d,m,g;
                    char z1,z2;
                    std::cin&gt;&gt;d&gt;&gt;z1&gt;&gt;m&gt;&gt;z2&gt;&gt;g;
                   
                   p.ObrisiProdajeNaDatum(Datum(d,m,g));
                   std::cout&lt;&lt;"Sve prodaje na taj datum su obrisane."&lt;&lt;std::endl&lt;&lt;std::endl;
          
                }
                
                if(m==2){
                    std::cout&lt;&lt;"Unesite ime agenta: ";
                    std::cin.ignore(1000,'\n');
                    std::cin.clear();
                    std::string ime;
                    getline(std::cin,ime);
                    
                    p.ObrisiProdajeAgenta(ime); 
                   std::cout&lt;&lt;"Sve prodaje tog agenta su obrisane."&lt;&lt;std::endl&lt;&lt;std::endl;
                
                }
                
                if(m==4){
                    
                        p.IsprazniKolekciju();
                        std::cout&lt;&lt;"Sve prodaje su obrisane."&lt;&lt;std::endl&lt;&lt;std::endl;
                    
                }
            }
        }
            
            
        }
        }
    }
    
    
    
    std::cout&lt;&lt;std::endl&lt;&lt;std::endl&lt;&lt;"Dovidjenja!";
    
	return 0;
	
	
	
	
	

}



int Datum::BrojDana(int mjesec, int godina){
    
    int broj_dana[]{31,28,31,30,31,30,31,31,30,31,30,31};
    
    if(godina % 4 == 0 || godina % 100 != 0 || godina%400 == 0)
    broj_dana[1]++;
    
    
    return broj_dana[mjesec-1];
}
void Datum::Postavi (int dan,int mjesec,int godina){
    
    if(godina &lt; 1 || mjesec &lt; 1 || dan &lt; 1 || mjesec &gt; 12 || dan &gt; BrojDana(mjesec,godina))
    throw std::domain_error ("Neispravan datum.");
    
    Datum::dan=dan; Datum::mjesec=mjesec; Datum::godina=godina;
}

void Kupac::Ispisi() const {
    
    std::cout&lt;&lt; ime &lt;&lt;" "&lt;&lt; "(";
    dat.Ispisi();
    std::cout&lt;&lt; ")"&lt;&lt;std::endl; 
}

<a name="3"></a><font color="#00FFFF"><a href="match251-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_0.gif"/></a>

void Kupac::Postavi(const std::string &amp;ime_i_prezime, const Datum &amp;datum_rodjenja){
    
    for (int i(0);i&lt;ime_i_prezime.size();i++){
        
        if(!( (ime_i_prezime[i]&gt;='A' &amp;&amp; ime_i_prezime[i]&lt;='Z') || (ime_i_prezime[i]&gt;='a' &amp;&amp; ime_i_prezime[i]&lt;='z') 
</font><a name="11"></a><font color="#00FF00"><a href="match251-1.html#11" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_0.gif"/></a>

            || (ime_i_prezime[i]&gt;='0' &amp;&amp; ime_i_prezime[i]&lt;='9') || ime_i_prezime[i]==' ' || ime_i_prezime[i]=='\'' || ime_i_prezime[i]=='-'))
            
            throw std::domain_error ("Neispravno ime i prezime.");
</font>    }
    
    ime=ime_i_prezime;
    dat.Postavi(datum_rodjenja.DajDan(),datum_rodjenja.DajMjesec(),datum_rodjenja.DajGodinu());
}

<a name="20"></a><font color="#FF0000"><a href="match251-1.html#20" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_0.gif"/></a>

void Stan::Postavi (const std::string &amp;adresa, int sprat, int broj_soba,bool namjesten, double kvadratura){
 
    
    if(sprat&lt;0 || broj_soba&lt;0 || kvadratura&lt;0)
</font>        throw std::domain_error ("Neispravan unos podataka.");
        
   adr=adresa; sp=sprat; br=broj_soba; namj=namjesten; kv=kvadratura;
}

void Stan::Ispisi () const {
    
    
   if(br%10==1 || br%10&gt;=5){
            std::cout&lt;&lt;"Stan se nalazi na adresi "&lt;&lt;adr&lt;&lt;" na "&lt;&lt;sp&lt;&lt;"."&lt;&lt;" spratu i ima "&lt;&lt;br&lt;&lt;" soba. ";
            std::cout&lt;&lt;"Kvadratura stana je "&lt;&lt;kv;
            
            if(namj==true)   std::cout&lt;&lt;" (m^2) i stan je namjesten."&lt;&lt;std::endl;
            
            else std::cout&lt;&lt; " (m^2) i stan nije namjesten."&lt;&lt;std::endl;
        }
        
   else if (br%10==2 || br%10==3 || br%10==4 ){
       
            std::cout&lt;&lt;"Stan se nalazi na adresi "&lt;&lt;adr&lt;&lt;" na "&lt;&lt;sp&lt;&lt;"."&lt;&lt;" spratu i ima "&lt;&lt;br&lt;&lt;" sobe. ";
            std::cout&lt;&lt;"Kvadratura stana je "&lt;&lt;kv;
            
            if(namj==true) std::cout&lt;&lt;" (m^2) i stan je namjesten."&lt;&lt;std::endl;
            else std::cout&lt;&lt;" (m^2) i stan nije namjesten."&lt;&lt;std::endl;
            
        }
        

}

int Prodaja::BrojDana (int mjesec, int godina){
    int broj_dana[] {31,28,31,30,31,30,31,31,30,31,30,31};
    
    if(godina%4==0 || godina%100!=0 || godina%400==0)
    broj_dana[1]++;
    
    return broj_dana[mjesec-1];
}

Prodaja::Prodaja ( const std::string &amp;ime_agenta_prodaje, double cijena_stana, const Datum &amp;datum_prodaje, const Kupac &amp;kupac_stana,
                        const Stan &amp;kupljeni_stan) :dat(datum_prodaje), k(kupac_stana), s(kupljeni_stan) {
           
                            imeag=ime_agenta_prodaje;
                            cijena=cijena_stana;
                        }
                        
                        
Prodaja::Prodaja (const std::string &amp;ime_agenta_prodaje, double cijena_stana, int dan_prodaje, int mjesec_prodaje, int godina_prodaje,
                        std::string &amp;ime_kupca, const Datum &amp;datum_rodjenja_kupca, const std::string &amp;adresa_stana, int sprat_stana, int broj_soba,
                        bool namjesten_stan, double broj_kvadrata) : dat(Datum(dan_prodaje,mjesec_prodaje,godina_prodaje)), k(Kupac(ime_kupca,datum_rodjenja_kupca)),
                        s(Stan(adresa_stana,sprat_stana,broj_soba,namjesten_stan,broj_kvadrata)) 
                        {
                            imeag=ime_agenta_prodaje;
                            cijena=cijena_stana;
                        }
void Prodaja::PomjeriDanUnaprijed() {
    
    if(dat.DajDan()+1&gt;BrojDana(dat.DajMjesec(),dat.DajGodinu())){
        
        if(dat.DajMjesec()==12) dat.Postavi(1,1,dat.DajGodinu()+1);
        
        else dat.Postavi(1,dat.DajMjesec()+1,dat.DajGodinu());
        
    }
    
    else dat.Postavi(dat.DajDan()+1,dat.DajMjesec(),dat.DajGodinu());
}

void Prodaja::PomjeriDanUnazad() {
    
    if(dat.DajDan()-1==0){
        
        if(dat.DajMjesec()==1) dat.Postavi(31,12,dat.DajGodinu()-1);
        
        else dat.Postavi(BrojDana(dat.DajMjesec()-1,dat.DajGodinu()),dat.DajMjesec()-1,dat.DajGodinu());
    }
    
    else dat.Postavi(dat.DajDan()-1,dat.DajMjesec(),dat.DajGodinu());
}

void Prodaja::Ispisi() const {
    std::cout&lt;&lt;std::setw(32)&lt;&lt;std::left&lt;&lt;"Ime agenta: "&lt;&lt;imeag&lt;&lt;std::endl;
    std::cout&lt;&lt;std::setw(32)&lt;&lt;std::left&lt;&lt;"Ime kupca: "&lt;&lt;k.DajImePrezime()&lt;&lt;" "&lt;&lt;"("&lt;&lt;k.DajDatumRodjenja().DajDan()&lt;&lt;"/"&lt;&lt;k.DajDatumRodjenja().DajMjesec()&lt;&lt;"/"&lt;&lt;k.DajDatumRodjenja().DajGodinu()&lt;&lt;")"&lt;&lt;std::endl;
    std::cout&lt;&lt;std::setw(32)&lt;&lt;std::left&lt;&lt;"Zakazani datum prodaje: ";
    dat.Ispisi();
    std::cout&lt;&lt;std::endl;
    std::cout&lt;&lt;std::setw(32)&lt;&lt;std::left&lt;&lt;"Cijena stana: "&lt;&lt;cijena&lt;&lt;std::endl;
    std::cout&lt;&lt;"Informacije o stanu: "&lt;&lt;std::endl;
    s.Ispisi();
}

bool ProdatPrije( const Prodaja &amp;p1, const Prodaja &amp;p2){
    
    Datum dat1=p1.DajDatumProdaje(), dat2=p2.DajDatumProdaje();
    
    if(dat1.DajGodinu()&lt;dat2.DajGodinu()) return true;
    
    else if(dat1.DajGodinu()&gt;dat2.DajGodinu()) return false;
    
    if(dat1.DajMjesec()&lt;dat2.DajMjesec()) return true;
    
    else if(dat1.DajMjesec()&gt;dat2.DajMjesec()) return false;
    
    if (dat1.DajDan()&lt;dat2.DajDan()) return true;
    else return false;
}

Prodaje::Prodaje(std::initializer_list&lt;Prodaja&gt; spisak_prodaja) : broj_prodaja(0) {
    
    niz.resize(spisak_prodaja.size());
 
    for(int j(0);j&lt;int(spisak_prodaja.size());j++){
        niz[j]=nullptr;
    }
    
    for(auto it=spisak_prodaja.begin(); it != spisak_prodaja.end(); it++){
        niz[broj_prodaja] = std::make_shared&lt;Prodaja&gt;(*it);
        broj_prodaja++;
    }
}

Prodaje::~Prodaje() {
    
    for(int i(0);i&lt;broj_prodaja;i++)
      niz[i]=nullptr;
    
}
Prodaje::Prodaje(const Prodaje &amp;prodaje){
    
    this-&gt;niz.resize(prodaje.broj_prodaja);
    this-&gt;broj_prodaja = prodaje.broj_prodaja;
    
    for(int i(0);i&lt;prodaje.broj_prodaja;i++){
        niz[i]=nullptr;
    }
    
    for(int i(0); i&lt;prodaje.broj_prodaja; i++){
        this-&gt;niz[i] = std::make_shared&lt;Prodaja&gt; (*prodaje.niz[i]);
    }
}

Prodaje::Prodaje(Prodaje &amp;&amp;prodaje){
    
    niz = prodaje.niz;
    broj_prodaja = prodaje.broj_prodaja;
    
    for(int i(0);i&lt;broj_prodaja;i++){
        prodaje.niz[i]=nullptr;
    }
    
    prodaje.broj_prodaja=0;
}

Prodaje&amp; Prodaje::operator =(const Prodaje &amp;prodaje){
    
    if(this==&amp;prodaje)
        return *this;
        
    
    for(int i(0); i&lt;broj_prodaja; i++) niz[i]=nullptr;
    
    broj_prodaja=prodaje.broj_prodaja;
    
    niz.resize((prodaje.niz).size());
    
    for(int i(0);i&lt;int(niz.size());i++)
        niz[i]=nullptr;
    
    for(int i(0); i&lt;prodaje.broj_prodaja; i++) niz[i] = std::make_shared&lt;Prodaja&gt; (*prodaje.niz[i]);

    
    return *this;
}

Prodaje&amp; Prodaje::operator =(Prodaje &amp;&amp;prodaje){
    
    if(this==&amp;prodaje){
        return *this;
    }
    
    for(int i(0);i&lt;broj_prodaja;i++) niz[i]=nullptr;
    
    //plitka kopija, kradem sve  i obrisat cu ga hehe
    
    niz=prodaje.niz;
    broj_prodaja=prodaje.broj_prodaja;
    
    for(int i(0);i&lt;broj_prodaja;i++) prodaje.niz[i]=nullptr;
   
    prodaje.broj_prodaja=0;
    
    return *this;
    
}

void Prodaje::RegistrirajProdaju(const std::string &amp;ime_agenta_prodaje, double cijena_stana, const Datum &amp;datum_prodaje,
                                const Kupac &amp;kupac_stana, const Stan &amp;kupljeni_stan) {
                                    
            niz.push_back(std::make_shared&lt;Prodaja&gt;(ime_agenta_prodaje,cijena_stana,datum_prodaje,kupac_stana,kupljeni_stan));
            broj_prodaja++;
}


void Prodaje::RegistrirajProdaju(const std::string &amp;ime_agenta_prodaje,double cijena_stana, int dan_prodaje, int mjesec_prodaje,
                                int godina_prodaje,  std::string &amp;ime_kupca, const Datum &amp;datum_rodjenja_kupca,
                                const std::string &amp;adresa_stana, int sprat_stana, int broj_soba, bool namjesten_stan, double broj_kvadrata ){
          
            niz.push_back(std::make_shared&lt;Prodaja&gt;(ime_agenta_prodaje,cijena_stana,Datum(dan_prodaje,mjesec_prodaje,godina_prodaje),Kupac(ime_kupca,
                                            datum_rodjenja_kupca),Stan(adresa_stana,sprat_stana,broj_soba,namjesten_stan,broj_kvadrata)));
                                            
            broj_prodaja++;
}

void Prodaje::RegistrirajProdaju(std::shared_ptr&lt;Prodaja&gt; prodaja){
    
    niz.push_back(prodaja);
    broj_prodaja++;
}

int Prodaje::DajBrojProdajaNaDatum(const Datum &amp;datum) const {
    
    
   return  std::count_if(niz.begin(),niz.end(),[datum](std::shared_ptr&lt;Prodaja&gt; p){
            
            Datum dat(p-&gt;DajDatumProdaje());
            
            if(datum.DajDan()==dat.DajDan() &amp;&amp; datum.DajMjesec()==dat.DajMjesec() &amp;&amp; datum.DajGodinu()==dat.DajGodinu())
            return 1;
            
            else return 0;
   });
}

int Prodaje::DajBrojProdajaOdAgenta(const std::string &amp;ime_agenta) const {
    
    
    return std::count_if(niz.begin(),niz.end(),[ime_agenta](std::shared_ptr&lt;Prodaja&gt; p){
        
        if(ime_agenta==(*p).DajImeAgenta())
        return 1;
        
        else return 0;
    });
    
}

Prodaja&amp; Prodaje::DajNajranijuProdaju(){
    
    return **(std::min_element(niz.begin(),niz.end(),[](std::shared_ptr&lt;Prodaja&gt; p1,std::shared_ptr&lt;Prodaja&gt; p2){
        
        if(ProdatPrije(*p1,*p2))
        return 1;
        
        else return 0;
    }));
    
}


Prodaja Prodaje::DajNajranijuProdaju() const{
    
    return **(std::min_element(niz.begin(),niz.end(),[](std::shared_ptr&lt;Prodaja&gt; p1,std::shared_ptr&lt;Prodaja&gt; p2){
        
        if(ProdatPrije(*p1,*p2))
        return 1;
        
        else return 0;
        
        
    }));
}

Prodaja&amp; Prodaje::DajNajskupljuProdajU(){
    
    
    return **(std::max_element(niz.begin(),niz.end(),[](std::shared_ptr&lt;Prodaja&gt; p1,std::shared_ptr&lt;Prodaja&gt; p2){
        
        if(SkupljiStan(*p1,*p2))
            return 0;
            
        else return 1;
        
    }));
}


Prodaja Prodaje::DajNajskupljuProdajU() const{
    
    return **(std::max_element(niz.begin(),niz.end(),[](std::shared_ptr&lt;Prodaja&gt; p1,std::shared_ptr&lt;Prodaja&gt; p2){
        
        if(SkupljiStan(*p1,*p2))
            return 0;
            
        else return 1;
        
        
    }));
}

Prodaja&amp; Prodaje::DajProdaju(int redni_broj_prodaje){
    
    if(redni_broj_prodaje&lt;=0 || redni_broj_prodaje&gt;broj_prodaja)
    throw std::domain_error ("Neispravan redni broj prodaje.");
    
    return *(niz[redni_broj_prodaje-1]);
    
}

void Prodaje::IsprazniKolekciju(){
    
    for (int i(0);i&lt;broj_prodaja;i++){
        niz[i]=nullptr;
    }
    
    broj_prodaja=0;
    
    niz.resize(0);
}
void Prodaje::ObrisiNajranijuProdaju(){
    
    if(broj_prodaja==0) throw std::range_error ("Prazna kolekcija.");
    
    auto min=*(std::min_element(niz.begin(),niz.end(),[](std::shared_ptr&lt;Prodaja&gt; p1,std::shared_ptr&lt;Prodaja&gt; p2){
        
        return ProdatPrije(*p1,*p2);
    }));
    
    int i(0);
    
    while(min!=niz[i])
        i++;
        
    std::copy(niz.begin()+i+1,niz.end(),niz.begin()+i);
    
    niz.resize(broj_prodaja-1);
    min=nullptr;
    
    broj_prodaja--;
    
}

void Prodaje::ObrisiProdajeAgenta(const std::string &amp;ime_agenta){
    
    for(int i (0);i&lt;broj_prodaja;i++){
        
        if(ime_agenta==niz[i]-&gt;DajImeAgenta()){
            
            std::shared_ptr&lt;Prodaja&gt; pom(niz[i]);
            std::copy(niz.begin()+i+1,niz.end(),niz.begin()+i);
            i--;
            pom=nullptr;
            niz.resize(broj_prodaja-1);
            broj_prodaja--;
        }
           
      
    }
    
    
}
void Prodaje::ObrisiProdajeNaDatum(const Datum &amp;datum){
    
    for(int i(0);i&lt;broj_prodaja;i++){
        
        if(niz[i]-&gt;DajDatumProdaje().DajDan()==datum.DajDan() &amp;&amp; niz[i]-&gt;DajDatumProdaje().DajMjesec()==datum.DajMjesec()
            &amp;&amp; niz[i]-&gt;DajDatumProdaje().DajGodinu()==datum.DajGodinu()){
            
            std::shared_ptr&lt;Prodaja&gt; pom(niz[i]);
            std::copy(niz.begin()+i+1,niz.end(),niz.begin()+i);
            i--;
            
            pom=nullptr;
            niz.resize(broj_prodaja-1);
            broj_prodaja--;
        }
    }
}

void Prodaje::IspisiProdajeNaDatum(const Datum &amp;datum) const {
    
    std::vector&lt;std::shared_ptr&lt;Prodaja&gt;&gt; v; 
    
    for (int i(0);i&lt;broj_prodaja;i++){
        
        if((niz[i]-&gt;DajDatumProdaje()).DajDan()==datum.DajDan() &amp;&amp; (niz[i]-&gt;DajDatumProdaje()).DajMjesec()==datum.DajMjesec()
            &amp;&amp; (niz[i]-&gt;DajDatumProdaje()).DajGodinu()==datum.DajGodinu())
        
        v.push_back(niz[i]);
        
    }
    

    
    std::sort(v.begin(),v.end(),[](std::shared_ptr&lt;Prodaja&gt;p1,std::shared_ptr&lt;Prodaja&gt; p2){
        
        if(p1-&gt;DajImeKupca() &lt; p2-&gt;DajImeKupca())
                return 1;
        else return 0;
    });
    
    for(int i(0);i&lt;v.size();i++){
        
        v[i]-&gt;Ispisi();
        std::cout&lt;&lt;std::endl;
    }
}

void Prodaje::IspisiSveProdaje() const{
    
    std::vector&lt;std::shared_ptr&lt;Prodaja&gt;&gt; v;
    
    for(int i(0);i&lt;broj_prodaja;i++){
        v.push_back(niz[i]);
    }
    
    std::sort(v.begin(),v.end(),[](std::shared_ptr&lt;Prodaja&gt; p1,std::shared_ptr&lt;Prodaja&gt; p2){
        
        if( ProdatPrije(*p1,*p2)   )
        return 1;
        
        else if( (p1)-&gt;DajDatumProdaje().DajDan()==(p2)-&gt;DajDatumProdaje().DajDan() &amp;&amp; 
                 (p1)-&gt;DajDatumProdaje().DajMjesec()==(p2)-&gt;DajDatumProdaje().DajMjesec() &amp;&amp;
                  (p1)-&gt;DajDatumProdaje().DajGodinu()==(p2)-&gt;DajDatumProdaje().DajGodinu()){
                      
            if (p1-&gt;DajImeKupca() &lt; p2-&gt;DajImeKupca())
                    return 1;
                  
                  
            else return 0;
        
                  }
                  
        else return 0;
        
    });
    
    for(int i(0);i&lt;v.size();i++){
        v[i]-&gt;Ispisi();
        std::cout&lt;&lt;std::endl;
        
    }
}











</pre>
</body>
</html>
