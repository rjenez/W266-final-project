<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z4/student1571.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z4/student1571.cpp<p></p><pre>
#include &lt;iostream&gt;
#include &lt;string&gt;
#include &lt;stdexcept&gt;
#include &lt;initializer_list&gt;
#include &lt;algorithm&gt;
#include &lt;vector&gt;
#include &lt;memory&gt;
#include &lt;iomanip&gt;

class Datum {
    int dan, mjesec, godina;
    bool ispravan_datum (int d, int m, int g) {
        int broj_dana[] {31,28,31,30,31,30,31,31,30,31,30,31};
        if ((g % 4 == 0 &amp;&amp; g % 100 != 0) || g % 400 == 0) broj_dana[1]++;
        if (g &lt; 1 || m &gt; 12 || m &lt; 1 || d &lt; 1 || d &gt; broj_dana[m - 1]) 
            return false;
        return true;
    }
    public:
    Datum(int dan, int mjesec, int godina) { Postavi (dan, mjesec, godina); }
    void Postavi(int dan, int mjesec, int godina) { 
        if (!(ispravan_datum(dan,mjesec,godina))) throw std::domain_error ("Neispravan datum"); 
        Datum::dan = dan; Datum::mjesec = mjesec; Datum::godina = godina;
    }
    int DajDan() const { return dan; }
    int DajMjesec() const { return mjesec; }
    int DajGodinu() const { return godina; }
    void Ispisi() const { std::cout &lt;&lt; dan &lt;&lt; "/" &lt;&lt; mjesec &lt;&lt; "/" &lt;&lt; godina; }
};
class Kupac {
    std::string ime_i_prezime;
    Datum datum_rodjenja;
    bool da_li_je_ok (std::string s) {
        bool uslov(false); //POPRAVITI NECE
        for (int i=0; i&lt;s.length(); i++) {
            uslov = false ;
            if (!((s[i] &gt;= '0' &amp;&amp; s[i] &lt;= '9') || (s[i] &gt;= 'A' &amp;&amp; s[i] &lt;= 'Z') || (s[i] &gt;= 'a' &amp;&amp; s[i] &lt;= 'z') || s[i] == ' ' || s[i] == '\'' || s[i] == '-')) {
             return false;
            }
        }
        return true;
    }
    public:
    Kupac(const std::string &amp;ime_i_prezime, const Datum &amp;datum_rodjenja): datum_rodjenja(datum_rodjenja) { Postavi (ime_i_prezime, datum_rodjenja); }
    void Postavi(const std::string &amp;ime_i_prezime, const Datum &amp;datum_rodjenja) { 
        if(!(da_li_je_ok(ime_i_prezime))) throw std::domain_error ("Neispravo ime i prezime.");
        Kupac::ime_i_prezime = ime_i_prezime; Kupac::datum_rodjenja = datum_rodjenja; 
    }
    std::string DajImePrezime() const { return ime_i_prezime; }
    Datum DajDatumRodjenja() const { return datum_rodjenja; }
    void Ispisi() const; //
};
void Kupac::Ispisi() const {
    Datum datum = this-&gt;DajDatumRodjenja();
    std::cout &lt;&lt; ime_i_prezime &lt;&lt; " (";
    datum.Ispisi();
    std::cout &lt;&lt; ")";
}
class Stan {
<a name="1"></a><font color="#00FF00"><a href="match184-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_1.gif"/></a>

    std::string adresa;
    int sprat, broj_soba;
    bool namjesten;
    double kvadratura;
    public:
    Stan(const std::string &amp;adresa, int sprat, int broj_soba, bool namjesten, double kvadratura) { Postavi(adresa,sprat,broj_soba,namjesten,kvadratura); }
    void Postavi(const std::string &amp;adresa, int sprat, int broj_soba, bool namjesten, double kvadratura); //
    std::string DajAdresu() const { return adresa; }
    int DajSprat() const { return sprat; }
    int DajBrojSoba() const { return broj_soba; }
    bool DajNamjesten() const { return namjesten; }
    double DajKvadraturu() const { return kvadratura; }
</font>    void Ispisi() const; //
};
void Stan::Ispisi() const { 
    std::string broj;
    broj = std::to_string (DajBrojSoba());
    bool jeste(false);
    if (broj[broj.length()-1] == 0) jeste = true;
    std::cout &lt;&lt; "Stan se nalazi na adresi " &lt;&lt; DajAdresu() &lt;&lt; " na " &lt;&lt; DajSprat() &lt;&lt; ". spratu i ima " &lt;&lt; DajBrojSoba();
    if (DajBrojSoba() % 10 == 1 &amp;&amp; DajBrojSoba() != 11) std::cout &lt;&lt; " sobu.";
    else if ((DajBrojSoba() % 10 == 2 || DajBrojSoba() % 10 == 3 || DajBrojSoba() % 10 == 4) &amp;&amp; (DajBrojSoba() % 100 != 12 &amp;&amp; DajBrojSoba() % 100 != 13 &amp;&amp; DajBrojSoba() % 100 != 14)) std::cout &lt;&lt; " sobe.";
    else std::cout &lt;&lt; " soba.";
    std::cout &lt;&lt; " Kvadratura stana je " &lt;&lt; DajKvadraturu() &lt;&lt; " (m^2) i stan ";
    if (namjesten) std::cout &lt;&lt; "je namjesten.";
    else std::cout &lt;&lt; "nije namjesten.";
}
<a name="2"></a><font color="#0000FF"><a href="match184-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_0.gif"/></a>

void Stan::Postavi(const std::string &amp;adresa, int sprat, int broj_soba, bool namjesten, double kvadratura) {
    if (sprat &lt; 0 || broj_soba &lt; 0 || kvadratura &lt; 0) throw std::domain_error ("Neispravan unos podataka.");
    Stan::adresa = adresa; Stan::sprat = sprat; Stan::broj_soba = broj_soba; Stan::namjesten = namjesten;
    Stan::kvadratura = kvadratura;
}
class Prodaja {
    std::string ime_agenta_prodaje;
    double cijena_stana;
    Datum datum_prodaje;
    Kupac kupac_stana;
    Stan kupljeni_stan;
</font>    int dan_prodaje, mjesec_prodaje, godina_prodaje;
    std::string ime_kupca;
    std::string adresa_stana;
    int sprat_stana, broj_soba;
    bool namjesten_stan;
    double broj_kvadrata;
    int broj_dana (int m, int g) {
        int b_d[] = {31,28,31,30,31,30,31,31,30,31,30,31};
        if ((g % 4 == 0 &amp;&amp; g % 100 != 0) || (g % 400 == 0)) b_d[1]++;
        return b_d[m - 1];
    }
    public:
<a name="0"></a><font color="#FF0000"><a href="match184-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_1.gif"/></a>

    Prodaja(const std::string &amp;ime_agenta_prodaje, double cijena_stana, const Datum &amp;datum_prodaje, const Kupac &amp;kupac_stana, const Stan &amp;kupljeni_stan); //
    Prodaja(const std::string &amp;ime_agenta_prodaje, double cijena_stana, int dan_prodaje, int mjesec_prodaje, int godina_prodaje, std::string &amp;ime_kupca, 
    const Datum &amp;datum_rodjenja_kupca, const std::string &amp;adresa_stana, int sprat_stana, int broj_soba, bool namjesten_stan, double broj_kvadrata); //
    void PromijeniKupca(const Kupac &amp;novi_kupac) { kupac_stana = novi_kupac; }
    void PromijeniStan(const Stan &amp;novi_stan) { kupljeni_stan = novi_stan; }
    void PromijeniDatumKupovine(const Datum &amp;novi_datum) { datum_prodaje = novi_datum; }
</font>    void PromijeniCijenuProdaje(const double &amp;nova_cijena) { cijena_stana = nova_cijena; }
    void PromijeniImeAgenta (const std::string &amp;novo_ime) { ime_agenta_prodaje = novo_ime; }
    void PomjeriDanUnaprijed(); //
    void PomjeriDanUnazad(); //
    std::string DajImeAgenta() const { return ime_agenta_prodaje; }
    std::string DajImeKupca() const { return ime_kupca; }
    Datum DajDatumProdaje() const { return datum_prodaje; }
    double DajCijenuStana() const { return cijena_stana; }
    friend bool ProdatPrije(const Prodaja &amp;p1, const Prodaja &amp;p2); //
    friend bool SkupljiStan(const Prodaja &amp;p1, const Prodaja &amp;p2) { return p1.DajCijenuStana() &gt; p2.DajCijenuStana(); }
<a name="14"></a><font color="#FF00FF"><a href="match184-1.html#14" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_0.gif"/></a>

    void Ispisi() const; //
};
Prodaja::Prodaja (const std::string &amp;ime_agenta_prodaje, double cijena_stana, const Datum &amp;datum_prodaje, const Kupac &amp;kupac_stana, const Stan &amp;kupljeni_stan) : 
</font>datum_prodaje(datum_prodaje), kupac_stana(kupac_stana), kupljeni_stan(kupljeni_stan){
    Prodaja::ime_agenta_prodaje = ime_agenta_prodaje;
    Prodaja::cijena_stana = cijena_stana; 
}
Prodaja::Prodaja (const std::string &amp;ime_agenta_prodaje, double cijena_stana, int dan_prodaje, int mjesec_prodaje, int godina_prodaje, std::string &amp;ime_kupca,
const Datum &amp;datum_rodjenja_kupca, const std::string &amp;adresa_stana, int sprat_stana, int broj_soba, bool namjesten_stan, double broj_kvadrata): 
datum_prodaje(Datum(dan_prodaje,mjesec_prodaje,godina_prodaje)), kupac_stana(Kupac(ime_kupca,datum_rodjenja_kupca)), kupljeni_stan(Stan(adresa_stana,sprat_stana,broj_soba,namjesten_stan,broj_kvadrata)){
    Prodaja::ime_agenta_prodaje = ime_agenta_prodaje;
    Prodaja::cijena_stana = cijena_stana;
    Prodaja::ime_kupca = ime_kupca;
    Prodaja::adresa_stana = adresa_stana;
    Prodaja::sprat_stana = sprat_stana;
    Prodaja::broj_soba = broj_soba;
    Prodaja::broj_kvadrata = broj_kvadrata;
    Prodaja::namjesten_stan = namjesten_stan;
}
void Prodaja::PomjeriDanUnaprijed () {
    dan_prodaje++;
    if (dan_prodaje &gt; broj_dana(mjesec_prodaje, godina_prodaje)) {
        dan_prodaje = 1;
        mjesec_prodaje++;
    }
    if (mjesec_prodaje &gt; 12) {
        mjesec_prodaje = 1;
        godina_prodaje++;
    }
}
void Prodaja::PomjeriDanUnazad () {
    dan_prodaje--;
    if (dan_prodaje &gt; broj_dana(mjesec_prodaje, godina_prodaje)) {
        dan_prodaje = 1;
        mjesec_prodaje++;
    }
    if (mjesec_prodaje &gt; 12) {
        mjesec_prodaje = 1;
        godina_prodaje++;
    }
}
void Prodaja::Ispisi() const { //POPRAVITI SIRINU ISPISA (SAZNATI KOJA JE) - NIJE RECENO KOLIKO JE PA JE 31
    Datum dat_prodaje = this-&gt;DajDatumProdaje();
    Stan stan (adresa_stana,sprat_stana,broj_soba,namjesten_stan,broj_kvadrata);
    std::cout &lt;&lt; std::setw(31) &lt;&lt; std::left &lt;&lt; "Ime agenta: " &lt;&lt; DajImeAgenta() &lt;&lt; std::endl;
    std::cout &lt;&lt; std::setw(31) &lt;&lt; std::left &lt;&lt;"Ime kupca: " &lt;&lt; DajImeKupca() &lt;&lt; std::endl;
    std::cout &lt;&lt; std::setw(31) &lt;&lt; std::left &lt;&lt; "Zakazani datum prodaje: ";
    dat_prodaje.Ispisi(); std::cout &lt;&lt; std::endl;
<a name="15"></a><font color="#FF0000"><a href="match184-1.html#15" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_0.gif"/></a>

    std::cout &lt;&lt; std::setw(31) &lt;&lt; std::left &lt;&lt;"Cijena stana: " &lt;&lt; DajCijenuStana(); std::cout &lt;&lt; std::endl;
    std::cout &lt;&lt;"Informacije o stanu: \n"; stan.Ispisi(); std::cout &lt;&lt; std::endl;
}
bool ProdatPrije (const Prodaja &amp;p1, const Prodaja &amp;p2) {
</font>    Datum dat1 = p1.DajDatumProdaje(), dat2 = p2.DajDatumProdaje();
    int d1, m1, g1, d2, m2, g2;
    d1 = dat1.DajDan(); m1 = dat1.DajMjesec(); g1 = dat1.DajGodinu();
    d2 = dat2.DajDan(); m2 = dat2.DajMjesec(); g2 = dat2.DajGodinu();
    int ukupno1, ukupno2;
    ukupno1 = d1 + m1*100 + g1*10000;
    ukupno2 = d2 + m2*100 + g2*10000;
    if (ukupno1 &lt; ukupno2) return true;
    return false;
}
class Prodaje {

    int broj_prodaja;
    std::vector&lt;std::shared_ptr&lt;Prodaja&gt;&gt; niz_pokazivaca;
 
    public:
    explicit Prodaje(): broj_prodaja(0), niz_pokazivaca(0) {};
    Prodaje(std::initializer_list&lt;Prodaja&gt; spisak_prodaja); //
    Prodaje(const Prodaje &amp;prodaje); // i guess it's ok KOPIRAJUCI
    Prodaje(Prodaje &amp;&amp;prodaje) = default;
    Prodaje &amp;operator =(const Prodaje &amp;prodaje);// GOTOVO OPERATOR DODJELE
    Prodaje &amp;operator =(Prodaje &amp;&amp;prodaje);
    void RegistrirajProdaju(const std::string &amp;ime_agenta_prodaje, double cijena_stana, const Datum &amp;datum_prodaje, const Kupac &amp;kupac_stana, const Stan &amp;kupljeni_stan);//
    void RegistrirajProdaju(const std::string &amp;ime_agenta_prodaje,double cijena_stana, int dan_prodaje, int mjesec_prodaje, int godina_prodaje, std::string &amp;ime_kupca,
    const Datum &amp;datum_rodjenja_kupca, const std::string &amp;adresa_stana, int sprat_stana, int broj_soba, bool namjesten_stan, double broj_kvadrata) {
      niz_pokazivaca.push_back(std::make_shared&lt;Prodaja&gt;(ime_agenta_prodaje,cijena_stana,dan_prodaje,mjesec_prodaje,godina_prodaje,ime_kupca,datum_rodjenja_kupca,adresa_stana,sprat_stana,broj_soba,namjesten_stan,broj_kvadrata));
      broj_prodaja++;
    }
    void RegistrirajProdaju(std::shared_ptr&lt;Prodaja&gt; prodaja);//
    int DajBrojProdaja() const { return niz_pokazivaca.size(); } //
    int DajBrojProdajaNaDatum(const Datum &amp;datum) const; //
    int DajBrojProdajaOdAgenta(const std::string &amp;ime_agenta) const;
    Prodaja &amp;DajNajranijuProdaju();//
    Prodaja DajNajranijuProdaju() const; //
    Prodaja &amp;DajNajskupljuProdaju(); //
    Prodaja DajNajskupljuProdaju() const; //
    Prodaja &amp;DajProdaju (int broj);
    void IsprazniKolekciju(); //
    void ObrisiNajranijuProdaju();//
    void ObrisiProdajeAgenta(const std::string &amp;ime_agenta); //
    void ObrisiProdajeNaDatum(const Datum &amp;datum);//
    void IspisiProdajeNaDatum(const Datum &amp;datum) const; //
    void IspisiSveProdaje() const ; //
};
Prodaje::Prodaje (std::initializer_list&lt;Prodaja&gt; spisak_prodaja): broj_prodaja(spisak_prodaja.size()) {
    for (auto it=spisak_prodaja.begin(); it!=spisak_prodaja.end(); it++) {
        niz_pokazivaca.push_back (std::make_shared&lt;Prodaja&gt;(*it));
    }
} 
void Prodaje::IsprazniKolekciju() {
    for (int i=0; i&lt;broj_prodaja; i++) niz_pokazivaca[i] = nullptr;
    broj_prodaja = 0;
    niz_pokazivaca.resize(0);
}
Prodaje::Prodaje (const Prodaje &amp;prodaje): niz_pokazivaca(prodaje.niz_pokazivaca.size()){
    for (int i=0; i&lt;prodaje.niz_pokazivaca.size(); i++) 
        this-&gt;niz_pokazivaca[i] = std::make_shared&lt;Prodaja&gt; (*prodaje.niz_pokazivaca[i]);
}
Prodaje &amp;Prodaje::operator = (const Prodaje &amp;prodaje) {
    for (int i=broj_prodaja; i&lt;prodaje.niz_pokazivaca.size(); i++)
        niz_pokazivaca.push_back(std::make_shared&lt;Prodaja&gt; (*prodaje.niz_pokazivaca[i]));
    return *this;
}
Prodaje &amp;Prodaje::operator =(Prodaje &amp;&amp;prodaje) {
    if (prodaje.broj_prodaja != broj_prodaja) throw ("Nisu iste velicine");
    std::swap (broj_prodaja, prodaje.broj_prodaja);
    std::swap (niz_pokazivaca, prodaje.niz_pokazivaca);
    return *this;
}
<a name="16"></a><font color="#00FF00"><a href="match184-1.html#16" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_0.gif"/></a>

void Prodaje::RegistrirajProdaju (const std::string &amp;ime_agenta_prodaje, double cijena_stana, const Datum &amp;datum_prodaje, const Kupac &amp;kupac_stana, const Stan &amp;kupljeni_stan){
    niz_pokazivaca.push_back(std::make_shared&lt;Prodaja&gt; (ime_agenta_prodaje, cijena_stana, datum_prodaje, kupac_stana, kupljeni_stan));
</font>}
void Prodaje::RegistrirajProdaju (std::shared_ptr&lt;Prodaja&gt; prodaja) {
    niz_pokazivaca.push_back(prodaja);
    broj_prodaja++;
}
int Prodaje::DajBrojProdajaNaDatum (const Datum &amp;datum) const {
    if (niz_pokazivaca.size() == 0) throw std::domain_error ("Nema registriranih prodaja");
    return std::count_if (niz_pokazivaca.begin(), niz_pokazivaca.end(), [datum] (std::shared_ptr&lt;Prodaja&gt;p1) {
        if (p1-&gt;DajDatumProdaje().DajDan() == datum.DajDan() &amp;&amp; p1-&gt;DajDatumProdaje().DajMjesec() == datum.DajMjesec() 
        &amp;&amp; p1-&gt;DajDatumProdaje().DajGodinu() == datum.DajGodinu()) return true;
        return false;
    });
}
Prodaja &amp;Prodaje::DajNajranijuProdaju() {
    if (niz_pokazivaca.size() == 0) throw std::domain_error ("Nema registriranih prodaja");
    auto min = std::min_element (niz_pokazivaca.begin(), niz_pokazivaca.end(), [] (std::shared_ptr&lt;Prodaja&gt;p1, std::shared_ptr&lt;Prodaja&gt;p2) {
        return (ProdatPrije(*p1, *p2));
    });
    return **min;
}
Prodaja Prodaje::DajNajranijuProdaju() const {
    if (niz_pokazivaca.size() == 0) throw std::domain_error ("Nema registriranih prodaja");
    auto min = std::min_element (niz_pokazivaca.begin(), niz_pokazivaca.end(), [] (std::shared_ptr&lt;Prodaja&gt;p1, std::shared_ptr&lt;Prodaja&gt;p2) {
        return (ProdatPrije(*p1, *p2));
    });
    return **min;
}
Prodaja &amp;Prodaje::DajNajskupljuProdaju() {
    if (niz_pokazivaca.size() == 0) throw std::domain_error ("Nema registriranih prodaja");
    auto max = std::max_element (niz_pokazivaca.begin(), niz_pokazivaca.end(), [] (std::shared_ptr&lt;Prodaja&gt;p1, std::shared_ptr&lt;Prodaja&gt;p2) {
        return (SkupljiStan(*p1, *p2));
    });
    return **max;
}
Prodaja Prodaje::DajNajskupljuProdaju() const {
    if (niz_pokazivaca.size() == 0) throw std::domain_error ("Nema registriranih prodaja");
    auto max = std::max_element (niz_pokazivaca.begin(), niz_pokazivaca.end(), [] (std::shared_ptr&lt;Prodaja&gt;p1, std::shared_ptr&lt;Prodaja&gt;p2) {
        return (SkupljiStan(*p1, *p2));
    });
    return **max;
}
Prodaja &amp;Prodaje::DajProdaju (int broj)  {
    if (broj &lt; 0 || broj &gt; niz_pokazivaca.size()) throw std::domain_error ("RI NIJE KURS");
    auto nesto = niz_pokazivaca[broj - 1];
    return *nesto;
}
void Prodaje::ObrisiNajranijuProdaju() {
    if (niz_pokazivaca.size() == 0) throw std::range_error ("Prazna kolekcija");
    std::sort (niz_pokazivaca.begin(), niz_pokazivaca.end(), [] (std::shared_ptr&lt;Prodaja&gt;p1, std::shared_ptr&lt;Prodaja&gt;p2) {
        return (ProdatPrije(*p1, *p2));
    });
    niz_pokazivaca.erase (niz_pokazivaca.begin() + 0 );
    broj_prodaja--;
}
void Prodaje::ObrisiProdajeAgenta (const std::string &amp;ime_agenta_prodaje) {
    for (int i=0; i&lt;niz_pokazivaca.size(); i++) {
        if (niz_pokazivaca[i]-&gt;DajImeAgenta() == ime_agenta_prodaje) {
            niz_pokazivaca.erase(niz_pokazivaca.begin() + i);
            broj_prodaja--;
        }
        else return;
    }
}
void Prodaje::ObrisiProdajeNaDatum (const Datum &amp;datum) {
    for (int i=0; i&lt;broj_prodaja; i++) {
        if (niz_pokazivaca[i]-&gt;DajDatumProdaje().DajDan() == datum.DajDan() &amp;&amp; niz_pokazivaca[i]-&gt;DajDatumProdaje().DajMjesec() == datum.DajMjesec() 
        &amp;&amp; niz_pokazivaca[i]-&gt;DajDatumProdaje().DajGodinu() == datum.DajGodinu()) {
            niz_pokazivaca.erase (niz_pokazivaca.begin() + i);
            broj_prodaja--;
        }
        else return;
    }
}
void Prodaje::IspisiProdajeNaDatum (const Datum &amp;datum) const {
   std::vector&lt;std::shared_ptr&lt;Prodaja&gt;&gt; pomocni(niz_pokazivaca);
    for (int i=0; i&lt;niz_pokazivaca.size(); i++) pomocni[i] = niz_pokazivaca[i];
    std::sort (pomocni.begin(), pomocni.end(), [] (std::shared_ptr&lt;Prodaja&gt;p1, std::shared_ptr&lt;Prodaja&gt;p2) {
        return (p1-&gt;DajImeKupca() &lt; p2-&gt;DajImeKupca());
    });
    for (int i=0; i&lt;niz_pokazivaca.size(); i++) {
        if (pomocni[i]-&gt;DajDatumProdaje().DajDan() == datum.DajDan() &amp;&amp; pomocni[i]-&gt;DajDatumProdaje().DajMjesec() &amp;&amp; pomocni[i]-&gt;DajDatumProdaje().DajGodinu() == datum.DajGodinu() &amp;&amp; pomocni[i] != nullptr)
        pomocni[i]-&gt;Ispisi();
        std::cout &lt;&lt; std::endl;
    }
}
void Prodaje::IspisiSveProdaje() const {
    std::vector&lt;std::shared_ptr&lt;Prodaja&gt;&gt;pomocni(niz_pokazivaca);
    for (int i=0; i&lt;broj_prodaja; i++) pomocni[i] = niz_pokazivaca[i];
    std::sort (pomocni.begin(), pomocni.end(), [] (std::shared_ptr&lt;Prodaja&gt;p1, std::shared_ptr&lt;Prodaja&gt;p2) {
        if (p1-&gt;DajDatumProdaje().DajDan() == p2-&gt;DajDatumProdaje().DajDan()  &amp;&amp; p1-&gt;DajDatumProdaje().DajMjesec() == p2-&gt;DajDatumProdaje().DajMjesec() &amp;&amp; p1-&gt;DajDatumProdaje().DajGodinu() == p2-&gt;DajDatumProdaje().DajGodinu())
            return p1-&gt;DajImeKupca() &lt; p2-&gt;DajImeKupca();
        return ProdatPrije(*p1, *p2);
    });
    for (int i=0; i&lt;niz_pokazivaca.size(); i++) {
        pomocni[i]-&gt;Ispisi();
        std::cout &lt;&lt; std::endl;
    }
}
int Prodaje::DajBrojProdajaOdAgenta (const std::string &amp;ime_agenta_prodaje) const {
    if (niz_pokazivaca.size() == 0) throw std::domain_error ("Nema registriranih prodaja");
<a name="13"></a><font color="#00FFFF"><a href="match184-1.html#13" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_0.gif"/></a>

    return std::count_if (niz_pokazivaca.begin(), niz_pokazivaca.end(), [ime_agenta_prodaje] (std::shared_ptr&lt;Prodaja&gt;p1) {
        if (p1-&gt;DajImeAgenta() == ime_agenta_prodaje) return true;
</font>        return false;
    });
}
 int main() 
{
    int finito_izbor(0), zadnja_izbor(0), glupa_prodaja(0), glupi_kupac(0), glupi_stan(0), izbor(0), izbor1(0), izbor2(0), izbor3(0), izbor4(0), izbor_stana(0), izbor_kupca(0), izbor_prodaje(0);
    int  sprat, broj, namjesten, dan, mjesec, godina, dan_prodaja, mjesec_prodaja, godina_prodaja;
    std::string adresa, ime_prezime, ime_agenta, ime_kupca, adresa_prodaja;
    double kva, kvadratura, cijena_stana;
    int glupi_izbor, jos_gluplji_izbor, jos_gluplji_kupac;
    std::vector&lt;Stan&gt; stanovi;
    std::vector&lt;Kupac&gt; kupci;
    int dan_rod, mjesec_rod, godina_rod, sprat_prodaja, soba_prodaja;
    bool namjesten_prodaja;
    Prodaje prodaja; // max vel prodaja
    std::cout &lt;&lt; "Dobrodosli!";
    std::cout &lt;&lt; std::endl &lt;&lt; std::endl;
    do {
        petlja:
  
        std::cout &lt;&lt; "Izaberite opciju:\n 0 - kraj\n 1 - uredjivanje stanova\n 2 - uredjivanje kupaca\n 3 - uredjivanje prodaja\n";
<a name="17"></a><font color="#0000FF"><a href="match184-1.html#17" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_0.gif"/></a>

        std::cin &gt;&gt; izbor;
        if (izbor == 0) {
            std::cout &lt;&lt; std::endl &lt;&lt; std::endl &lt;&lt; "Dovidjenja!";
            return 0;
</font>        }
        switch (izbor) {
            case(0): {
                std::cout &lt;&lt; std::endl &lt;&lt; "Dovidjenja!";
                return 0;
            }
            case (1): {
                do {
                    arka:
                    std::cout &lt;&lt; "Izaberite opciju:\n 0 - nazad\n 1 - dodavanje stana\n 2 - uredjivanje stanova\n 3 - ispis svih stanova\n 4 - kraj\n";
                    std::cin &gt;&gt; izbor1;
                    std::cin.ignore(10000,'\n');
                    if (izbor1 == 4) {
                        std::cout &lt;&lt; std::endl &lt;&lt; std::endl &lt;&lt; "Dovidjenja!";
                        return 0;
                    }
                    switch (izbor1) {
                        case (0): {
                            goto petlja;
                            break;
                        }
                        case (1): {
                            spas:
                            try {
                                std::cout &lt;&lt; "Unesite adresu: ";
                                std::getline (std::cin, adresa);
                                std::cout &lt;&lt; "Unesite sprat: ";
                                std::cin &gt;&gt; sprat;
                                std::cout &lt;&lt; "Unesite broj soba: ";
                                std::cin &gt;&gt; broj;
                                std::cout &lt;&lt; "Da li je stan namjesten (1 - da, 0 - ne): ";
                                std::cin &gt;&gt; namjesten;
                                //if (namjesten != 0 &amp;&amp; namjesten != 1) throw std::domain_error("Neispravan unos podataka.");
                                std::cout &lt;&lt; "Unesite kvadraturu: ";
                                std::cin &gt;&gt; kva;
                                if (namjesten != 0 &amp;&amp; namjesten != 1) throw std::domain_error ("Neispravan unos podataka.");
                                stanovi.emplace_back (adresa, sprat, broj, namjesten, kva);
                                std::cout &lt;&lt; "Stan je uspjesno dodan!" &lt;&lt; std::endl;
                                std::cout &lt;&lt; std::endl;
                                //break;
                            }
                            catch (std::domain_error kupus) {
                                std::cout &lt;&lt; "Izuzetak: " &lt;&lt; kupus.what() &lt;&lt; " Molimo unesite opet." &lt;&lt; std::endl;
                                std::cin.ignore(10000,'\n');
                                std::cin.clear();
                                goto spas;
                            }
                            break;
                        }
                        case (2): {
<a name="8"></a><font color="#00FFFF"><a href="match184-1.html#8" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_0.gif"/></a>

                            std::cout &lt;&lt; "Odaberite stan. Dostupni stanovi su: " &lt;&lt; std::endl;
                            for (int i=0; i&lt;stanovi.size(); i++) {
                                std::cout &lt;&lt; " " &lt;&lt; i+1 &lt;&lt; " - " ;
</font>                                stanovi[i].Ispisi();
<a name="7"></a><font color="#0000FF"><a href="match184-1.html#7" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_0.gif"/></a>

                                std::cout &lt;&lt; std::endl;
                            }
                            std::cin &gt;&gt; izbor_stana;
                            std::cout &lt;&lt; "Odaberite polje koje zelite urediti:" &lt;&lt; std::endl;
                            std::cout &lt;&lt; " 0 - nazad\n 1 - adresa\n 2 - sprat\n 3 - broj soba\n 4 - da li je stan namjesten\n 5 - kvadratura\n 6 - sve" &lt;&lt; std::endl;
                            std::cin &gt;&gt; izbor2;
</font>                            std::cin.ignore(10000,'\n');
                        
                            switch (izbor2) {
                                case(0): {
                                    goto petlja;
                                    break;
                                }
                                case(1): {
                                    std::cout &lt;&lt; "Unesite adresu: ";
                                    std::string adresa1;
                                    std::getline (std::cin,adresa1);
                                    stanovi[izbor_stana - 1].Postavi(adresa1, stanovi[izbor_stana-1].DajSprat(),stanovi[izbor_stana-1].DajBrojSoba(),stanovi[izbor_stana-1].DajNamjesten(),stanovi[izbor_stana-1].DajKvadraturu());
                                    std::cout &lt;&lt; "Stan je uspjesno izmijenjen!" &lt;&lt; std::endl;
                                    std::cout &lt;&lt; std::endl;
                                    goto arka;
                                    break;
                                }
                                case(3): {
                                    luis:
                                    try {
                                        std::cout &lt;&lt; "Unesite broj soba: ";
                                        int soba1;
                                        std::cin &gt;&gt; soba1;
                                        stanovi[izbor_stana - 1].Postavi(stanovi[izbor_stana-1].DajAdresu(),stanovi[izbor_stana-1].DajSprat(), soba1,stanovi[izbor_stana-1].DajNamjesten(),stanovi[izbor_stana-1].DajKvadraturu());
                                        std::cout &lt;&lt; "Stan je uspjesno izmijenjen!" &lt;&lt; std::endl;
                                        std::cout &lt;&lt; std::endl;
                                        goto arka;
                                        
                                    }
                                    catch (std::domain_error soba) {
                                        std::cout &lt;&lt; "Izuzetak: " &lt;&lt; soba.what() &lt;&lt; " Molimo unesite opet." &lt;&lt; std::endl;
                                        std::cin.ignore(10000,'\n');
                                        goto luis;
                                    }
                                    break;
                                }
                                case(2): {
                                    danse:
                                        try {
                                        std::cout &lt;&lt; "Unesite sprat: ";
                                        int sprat1;
                                        std::cin &gt;&gt; sprat1;
                                        stanovi[izbor_stana - 1].Postavi(stanovi[izbor_stana-1].DajAdresu(), sprat1, stanovi[izbor_stana-1].DajBrojSoba(),stanovi[izbor_stana-1].DajNamjesten(), stanovi[izbor_stana-1].DajKvadraturu());
                                        std::cout &lt;&lt; "Stan je uspjesno izmijenjen!"&lt;&lt; std::endl;
                                        std::cout &lt;&lt; std::endl;
                                        goto arka;
                                    }
                                    catch (std::domain_error sprat) {
                                        std::cout &lt;&lt; "Izuzetak: " &lt;&lt; sprat.what() &lt;&lt; " Molimo unesite opet." &lt;&lt; std::endl;
                                        std::cin.ignore (10000,'\n');
                                        goto danse;
                                    }
                                    break;
                                }
                                case(4): {
                                    nou:
                                    try {
                                        std::cout &lt;&lt; "Da li je stan namjesten (1 - da, 0 - ne): ";
                                        int namjesten1;
                                        std::cin &gt;&gt; namjesten1;
                                        if (namjesten1 != 0 &amp;&amp; namjesten1 != 1) throw std::domain_error ("Neispravan unos podataka.");
                                        stanovi[izbor_stana - 1].Postavi(stanovi[izbor_stana-1].DajAdresu(),stanovi[izbor_stana-1].DajSprat(),stanovi[izbor_stana-1].DajBrojSoba(), namjesten1,stanovi[izbor_stana-1].DajKvadraturu());
                                        std::cout &lt;&lt; "Stan je uspjesno izmijenjen!" &lt;&lt; std::endl;
                                        std::cout &lt;&lt; std::endl;
                                        goto arka;
                                    }
                                    catch (std::domain_error nam) {
                                        std::cout &lt;&lt; "Izuzetak: " &lt;&lt; nam.what() &lt;&lt; " Molimo unesite opet." &lt;&lt; std::endl;
                                        std::cin.ignore(10000,'\n');
                                        goto nou;
                                    }
                                    break;
                                }
                                case(5): {
                                    novo:
                                    std::cout &lt;&lt; "Unesite kvadraturu: ";
                                    
                                    double kva1;
                                    try {
                                        std::cin &gt;&gt; kva1;
                                        stanovi[izbor_stana - 1].Postavi(stanovi[izbor_stana-1].DajAdresu(), stanovi[izbor_stana-1].DajSprat(),stanovi[izbor_stana-1].DajBrojSoba(), stanovi[izbor_stana-1].DajNamjesten(), kva1);
                                        std::cout &lt;&lt; "Stan je uspjesno izmijenjen!" &lt;&lt; std::endl;
                                        std::cout &lt;&lt; std::endl;
<a name="18"></a><font color="#00FFFF"><a href="match184-1.html#18" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_0.gif"/></a>

                                        goto arka;
                                        break;
                                        
                                    }
                                    catch (std::domain_error por) {
                                        std::cout &lt;&lt; "Izuzetak: " &lt;&lt; por.what() &lt;&lt; " Molimo unesite opet." &lt;&lt; std::endl;
</font>                                        std::cin.ignore(10000,'\n');
                                        goto novo;
                                    }
                                    
                                }
                                case(6): {
                                    pas:
                                    try {
                                        std::cout &lt;&lt; "Unesite adresu: ";
<a name="3"></a><font color="#00FFFF"><a href="match184-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_0.gif"/></a>

                                        std::string adresa1;
                                        std::getline(std::cin, adresa1);
                                        std::cout &lt;&lt; "Unesite sprat: ";
                                        int sprat1;
                                        std::cin &gt;&gt; sprat1;
                                        std::cout &lt;&lt; "Unesite broj soba: ";
                                        int broj1; std::cin &gt;&gt; broj1;
                                        std::cout &lt;&lt; "Da li je stan namjesten (1 - da, 0 - ne): ";
                                        int namjesten1; std::cin &gt;&gt; namjesten1;
</font>                                        std::cout &lt;&lt; "Unesite kvadraturu: ";
                                        double kva1; std::cin &gt;&gt; kva1;
<a name="4"></a><font color="#FF00FF"><a href="match184-1.html#4" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_0.gif"/></a>

                                        if (namjesten1 !=0 &amp;&amp; namjesten1 != 1) throw std::domain_error ("Neispravan unos podataka.");
                                        stanovi[izbor_stana - 1].Postavi(adresa1, sprat1, broj1, namjesten1, kva1);
                                        std::cout &lt;&lt; "Stan je uspjesno izmijenjen!" &lt;&lt;std::endl;
</font>                                        std::cout &lt;&lt; std::endl;
                                        goto arka;
                                    }
                                    catch (std::domain_error jab) {
                                        std::cout &lt;&lt; "Izuzetak: " &lt;&lt; jab.what() &lt;&lt; " Molimo unesite opet." &lt;&lt; std::endl;
                                        std::cin.ignore(10000,'\n');
                                        goto pas;
                                    }
                                    break;
                                }
                            }
                        }
                        case (3): {
<a name="6"></a><font color="#00FF00"><a href="match184-1.html#6" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_0.gif"/></a>

                            for (int i=0; i&lt;stanovi.size(); i++) {
                                std::cout  &lt;&lt; i+1 &lt;&lt; ". ";
                                stanovi[i].Ispisi();
                                std::cout &lt;&lt; std::endl;
</font>                            }
                            goto arka;
                            break;
                        }
                        break;
                    } 
                } while (izbor1 != 4);
                break;
            }
            case(2): {
                do {
                    std::cout &lt;&lt; "Izaberite opciju:\n";
                    std::cout &lt;&lt; " 0 - nazad\n 1 - dodavanje kupca\n 2 - uredjivanje kupaca\n 3 - ispis svih kupaca\n 4 - kraj" &lt;&lt; std::endl;
                    std::cin &gt;&gt; izbor4;
                    if (izbor4 == 4) {
                        std::cout &lt;&lt; std::endl &lt;&lt; std::endl &lt;&lt; "Dovidjenja!";
                        return 0;
                    }
                    std::cin.ignore(10000,'\n');
                    switch(izbor4) {
                        case(0): {
                            goto petlja;
                            break;
                        }
                        case(1): {
                            majmun:
                            try {
                                std::cout &lt;&lt; "Unesite ime i prezime kupca: ";
                                std::getline(std::cin, ime_prezime);
                                std::cout &lt;&lt; "Unesite datum rodjenja (formata d/m/g): ";
                                char znak, znak1;
                                std::cin &gt;&gt; dan &gt;&gt; znak &gt;&gt; mjesec &gt;&gt; znak1 &gt;&gt; godina;
                                if (znak != '/' || znak1 != '/') throw std::domain_error ("Neispravan unos podataka.");
                                Datum dat(dan, mjesec, godina);
                                kupci.emplace_back (ime_prezime, dat);
                                std::cout &lt;&lt; "Kupac je uspjesno dodan!"&lt;&lt; std::endl;
                                //break;
                            }
                            catch (std::domain_error paprika) {
                                std::cout &lt;&lt; "Izuzetak: " &lt;&lt; paprika.what() &lt;&lt; " Molimo unesite opet." &lt;&lt;std::endl;
                                std::cin.ignore (10000,'\n');
                                goto majmun;
                            }
                            break;
                        }
                        case(3): {
                            for (int i=0; i&lt;kupci.size(); i++) {
                                kupci[i].Ispisi();
                                std::cout &lt;&lt; std::endl;
                            }
                            break;
                        }
                        case(2): {
<a name="9"></a><font color="#FF00FF"><a href="match184-1.html#9" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_0.gif"/></a>

                            std::cout &lt;&lt; "Odaberite kupca kojeg zelite urediti. Dostupni kupci su:" &lt;&lt; std::endl;
                            for (int i=0; i&lt;kupci.size(); i++) {
                                std::cout &lt;&lt; " " &lt;&lt; i+1 &lt;&lt; " - ";
</font>                                kupci[i].Ispisi();
                                std::cout &lt;&lt; std::endl;
                            }
                            macka:
                            try {
                                std::cin &gt;&gt; izbor_kupca;
                                std::cin.ignore(10000,'\n');
                                std::cout &lt;&lt; "Unesite ime i prezime kupca: ";
                                std::string ime_i_prezime1;
                                std::getline (std::cin, ime_i_prezime1);
                                std::cout &lt;&lt; "Unesite datum rodjenja (formata d/m/g): ";
                                int dan1,mjesec1,godina1;
                                char znak2,znak3;
                                std::cin &gt;&gt; dan1 &gt;&gt; znak2 &gt;&gt; mjesec1 &gt;&gt; znak3 &gt;&gt; godina1;
                                if (znak2 != '/' || znak3 != '/') throw std::domain_error ("Neispravan unos podataka.");
                                Datum dat1 (dan1, mjesec1, godina1);
                                kupci[izbor_kupca - 1].Postavi(ime_i_prezime1, dat1);
                                std::cout &lt;&lt; "Kupac je uspjesno izmijenjen!" &lt;&lt; std::endl &lt;&lt; std::endl;
                               // break;
                            }
                            catch (std::domain_error hel) {
                                std::cout &lt;&lt; "Izuzetak: " &lt;&lt; hel.what() &lt;&lt; " Molimo unesite opet." &lt;&lt;std::endl;
                                std::cin.ignore(10000,'\n');
                                goto macka;
                            }
                            break;
                        }
                    }
                } while (izbor4 != 4);
                break;
            }
            case(3): {
                do {
                    paun:
                    std::cout &lt;&lt; "Izaberite opciju:" &lt;&lt; std::endl;
                    std::cout &lt;&lt; " 0 - nazad\n 1 - dodavanje prodaje\n 2 - uredjivanje prodaje\n 3 - ispis prodaja\n 4 - brisanje prodaja\n 5 - kraj" &lt;&lt; std::endl;
                    std::cin &gt;&gt; izbor3;
                    if (izbor3 == 5) {
                        std::cout &lt;&lt; std::endl &lt;&lt; std::endl &lt;&lt; "Dovidjenja!";
                        return 0;
                    }
                    switch(izbor3) {
                        case(0): {
                            goto petlja;
                            break;
                        }
                        case(1): {
                            prodaja_izbor:
                            std::cout &lt;&lt;  "Izaberite opciju:" &lt;&lt; std::endl;
                            std::cout &lt;&lt; " 0 - nazad\n 1 - dodavanje potpuno nove prodaje\n 2 - dodavanje nove prodaje na osnovu arhive\n 3 - kraj" &lt;&lt; std::endl;
                            std::cin &gt;&gt; izbor_prodaje;
                            std::cin.ignore(10000,'\n');
                            if (izbor_prodaje == 3) {
                                std::cout &lt;&lt; std::endl &lt;&lt; std::endl &lt;&lt; "Dovidjenja!";
                                return 0;
                            }
                            switch(izbor_prodaje) {
                                case(0): {
                                    goto paun;
                                    break;
                                }
                                case(3): {
                                    std::cout &lt;&lt; std::endl &lt;&lt; std::endl &lt;&lt; "Dovidjenja!";
                                    return 0;
                                    break;
                                }
                                case(1): {
                                    mis:
                                    try {
                                        std::cout &lt;&lt; "Unesite ime i prezime agenta prodaje: ";
                                        std::getline (std::cin, ime_agenta);
                                        std::cout &lt;&lt; "Unesite datum prodaje (formata d/m/g): ";
                                        char znak5, znak6;
                                        std::cin &gt;&gt; dan_prodaja &gt;&gt; znak5 &gt;&gt; mjesec_prodaja &gt;&gt; znak6 &gt;&gt; godina_prodaja;
                                        if (znak5 != '/' || znak6 != '/') throw std::domain_error ("Neispravan unos podataka.");
                                        Datum dat_pom (dan_prodaja, mjesec_prodaja, godina_prodaja);
                                        std::cout &lt;&lt; "Unesite cijenu stana: ";
                                        std::cin &gt;&gt; cijena_stana;
<a name="10"></a><font color="#FF0000"><a href="match184-1.html#10" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_0.gif"/></a>

                                        std::cin.ignore(10000,'\n');
                                        std::cout &lt;&lt; "Unesite ime kupca: ";
                                        std::getline (std::cin, ime_kupca);
                                        std::cout &lt;&lt; "Unesite datum rodjenja kupca (formata d/m/g): ";
                                        std::cin &gt;&gt; dan_rod &gt;&gt; znak5 &gt;&gt; mjesec_rod &gt;&gt; znak6 &gt;&gt; godina_rod;
</font>                                        if (znak5 != '/' || znak6 != '/') throw std::domain_error ("Neispravan unos datuma.");
                                        Datum rodjenje (dan_rod, mjesec_rod, godina_rod);
<a name="19"></a><font color="#FF00FF"><a href="match184-1.html#19" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_0.gif"/></a>

                                        std::cin.ignore(10000,'\n');
                                        std::cout &lt;&lt; "Unesite adresu: ";
                                        std::getline (std::cin, adresa_prodaja);
                                        std::cout &lt;&lt; "Unesite sprat: ";
</font>                                        std::cin &gt;&gt; sprat_prodaja;
                                        std::cout &lt;&lt; "Unesite broj soba: ";
                                        std::cin &gt;&gt; soba_prodaja;
                                        std::cout &lt;&lt; "Da li je stan namjesten (1 - da, 0 - ne): ";
                                        std::cin &gt;&gt; namjesten_prodaja;
                                        if (namjesten_prodaja != 0 &amp;&amp; namjesten_prodaja != 1) throw std::domain_error ("Neispravan unos podataka.");
                                        std::cout &lt;&lt; "Unesite kvadraturu: ";
                                        std::cin &gt;&gt; kvadratura;
                                        prodaja.RegistrirajProdaju(std::make_shared&lt;Prodaja&gt; (ime_agenta,cijena_stana,dan_prodaja, mjesec_prodaja, godina_prodaja, ime_kupca, rodjenje, adresa_prodaja, sprat_prodaja, soba_prodaja, namjesten_prodaja, kvadratura));
                                        std::cout &lt;&lt; "Prodaja uspjesno dodana!" &lt;&lt; std::endl;
                                        kupci.emplace_back(ime_kupca, rodjenje);
                                        stanovi.emplace_back (adresa_prodaja, sprat_prodaja, soba_prodaja, namjesten_prodaja, kvadratura);
                                        //break;
                                    }
                                    catch (std::domain_error glu) {
                                        std::cout &lt;&lt; "Izuzetak: " &lt;&lt; glu.what() &lt;&lt; " Molimo unesite opet." &lt;&lt; std::endl;
                                        std::cin.ignore (10000,'\n');
                                        goto mis;
                                    }
                                    
                                    goto prodaja_izbor;
                                }
                                case(2): {
                                    harli:
                                    try {
                                        std::cout &lt;&lt; "Unesite ime i prezime agenta prodaje: ";
                                        std::string novi_agent;
                                        std::getline (std::cin, novi_agent);
                                        std::cout &lt;&lt; "Unesite datum prodaje (formata d/m/g): ";
                                        char znak9, znak10;
                                        int novi_dan, novi_mjesec, novi_god;
                                        std::cin &gt;&gt; novi_dan &gt;&gt; znak9 &gt;&gt; novi_mjesec &gt;&gt; znak10 &gt;&gt; novi_god;
                                        if (znak9 != '/' || znak10 != '/') throw std::domain_error ("Neispravan unos podataka.");
                                        int nova_cijena;
                                        std::cout &lt;&lt; "Unesite cijenu stana: ";
<a name="5"></a><font color="#FF0000"><a href="match184-1.html#5" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_0.gif"/></a>

                                        std::cin &gt;&gt; nova_cijena;
                                        std::cout &lt;&lt; "Odaberite kupca. Dostupni kupci su:" &lt;&lt; std::endl;
                                        for (int i=0; i&lt;kupci.size(); i++) {
                                            std::cout &lt;&lt; " " &lt;&lt; i+1 &lt;&lt; " - ";
</font>                                            kupci[i].Ispisi();
                                            std::cout &lt;&lt; std::endl;
                                        }
                                        std::cin &gt;&gt; glupi_kupac;
<a name="11"></a><font color="#00FF00"><a href="match184-1.html#11" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_0.gif"/></a>

                                        std::cout &lt;&lt; "Odaberite stan. Dostupni stanovi su:" &lt;&lt; std::endl;
                                        for (int i=0; i&lt;stanovi.size(); i++) {
                                            std::cout &lt;&lt; " " &lt;&lt; i+1 &lt;&lt; " - ";
</font>                                            stanovi[i].Ispisi();
                                            std::cout &lt;&lt; std::endl;
                                        }
                                        std::cin &gt;&gt; glupi_stan;
<a name="20"></a><font color="#FF0000"><a href="match184-1.html#20" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_0.gif"/></a>

                                        std::string nova_adresa = stanovi[glupi_stan - 1].DajAdresu();
                                        int nova_sprat = stanovi[glupi_stan - 1].DajSprat();
                                        double nova_kvadratura = stanovi[glupi_stan - 1].DajKvadraturu();
</font>                                        int nova_broj_soba = stanovi[glupi_stan - 1].DajBrojSoba();
                                        bool nova_namjesten = stanovi[glupi_stan - 1].DajNamjesten();
                                        std::string nova_ime_prezime = kupci[glupi_kupac - 1].DajImePrezime();
                                        Datum nova_datum = kupci[glupi_kupac - 1].DajDatumRodjenja();
                                        prodaja.RegistrirajProdaju(novi_agent, nova_cijena, novi_dan, novi_mjesec, novi_god, nova_ime_prezime, nova_datum, nova_adresa, nova_sprat, nova_broj_soba, nova_namjesten, nova_kvadratura);
                                        std::cout &lt;&lt; "Prodaja uspjesno dodana!" &lt;&lt; std::endl;
                                        goto prodaja_izbor;
                                       // break;
                                    }
                                    catch(std::domain_error nesto) {
                                        std::cout &lt;&lt; "Izuzetak: "  &lt;&lt; nesto.what() &lt;&lt; " Molimo unesite opet." &lt;&lt; std::endl;
                                        std::cin.ignore(10000,'\n');
                                        goto harli;
                                    }
                                    break;
                                }
                            }
                            break;
                        }
                        case(2): {
                            smak:
                            std::cout &lt;&lt; "Odaberite prodaju koju želite urediti. Dostupne prodaje su:" &lt;&lt; std::endl;
                            /*std::sort (prodaja, prodaja.DajBrojProdaja(), [prodaja] (Prodaja *p1, Prodaja *p2) {
                                return(p1-&gt;DajDatumProdaje() &lt; p2-&gt;DajDatumProdaje());
                            });*/
                            /*Prodaje nesto(prodaja);
                            std::sort (nesto, prodaja.DajBrojProdaja(), ProdatPrije());*/
                            for (int i=0; i&lt;prodaja.DajBrojProdaja(); i++) {
                                std::cout &lt;&lt; i+1 &lt;&lt; "." &lt;&lt; std::endl;
                                Prodaja temp = prodaja.DajProdaju(i+1);
                                temp.Ispisi();
                                std::cout &lt;&lt; std::endl;
                            }
                            std::cin &gt;&gt; glupa_prodaja;
                            glupost:
                            std::cout &lt;&lt; "Izaberite opciju:" &lt;&lt; std::endl;
                            std::cout &lt;&lt; " 0 - nazad\n 1 - izmjena agenta\n 2 - izmjena datuma prodaje\n 3 - izmjena kupca\n 4 - izmjena stana\n 5 - izmjena cijene stana" &lt;&lt; std::endl;
                            std::cin &gt;&gt; glupi_izbor;
                            std::cin.ignore(10000,'\n');
                            switch(glupi_izbor) {
                                case(0): {
                                    goto smak;
                                    break;
                                }
                                case(1): {
                                    kvin:
                                    try {
                                        std::string najnovije_ime;
                                        std::cout &lt;&lt; "Unesite ime i prezime agenta prodaje: ";
                                        std::getline (std::cin, najnovije_ime);
                                        Prodaja nova_neka = prodaja.DajProdaju(glupa_prodaja);
                                        prodaja.DajProdaju(glupa_prodaja).PromijeniImeAgenta(najnovije_ime);
                                        std::cout &lt;&lt; "Prodaja je uspjesno izmijenjena!" &lt;&lt; std::endl;
                                        
                                        //break;
                                    }
                                    catch (std::domain_error poruka) {
                                        std::cout &lt;&lt; "Izuzetak: " &lt;&lt; poruka.what() &lt;&lt; " Molimo unesite opet." &lt;&lt; std::endl;
                                        std::cin.ignore(10000,'\n');
                                        goto kvin;
                                    }
                                    break;
                                }
                                case(2): {
                                    mreza:
                                    try {
                                        std::cout &lt;&lt; "Unesite datum prodaje (formata d/m/g): ";
                                        int najnoviji_dan, najn_mje, najn_god;
                                        char ji, ni;
                                        std::cin &gt;&gt; najnoviji_dan &gt;&gt; ji &gt;&gt; najn_mje &gt;&gt; ni &gt;&gt; najn_god;
                                        Datum krava (najnoviji_dan, najn_mje, najn_god);
                                        prodaja.DajProdaju(glupa_prodaja).PromijeniDatumKupovine(krava);
                                        std::cout &lt;&lt; "Prodaja je uspjesno izmijenjena!" &lt;&lt; std::endl;
                                     //   break;
                                    }
                                    catch (std::domain_error oz) {
                                        std::cout &lt;&lt; "Izuzetak: " &lt;&lt; oz.what() &lt;&lt; " Molimo unesite opet." &lt;&lt; std::endl;
                                        std::cin.ignore(10000,'\n');
                                        goto mreza;
                                    }
                                    break;
                                }
                                case(3): {
                                    std::cout &lt;&lt; "Izaberite opciju:"&lt;&lt;std::endl;
                                    std::cout &lt;&lt;" 0 - nazad\n 1 - odabir postojeceg kupca\n 2 - dodavanje novog kupca" &lt;&lt; std::endl;
                                    std::cin &gt;&gt; jos_gluplji_izbor;
                                    std::cin.ignore(10000,'\n');
                                    switch(jos_gluplji_izbor) {
                                        case(0): {
                                            goto glupost;
                                            break;
                                        }
                                        case(1): {
<a name="12"></a><font color="#0000FF"><a href="match184-1.html#12" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_0.gif"/></a>

                                            std::cout &lt;&lt; "Odaberite kupca. Dostupni kupci su:" &lt;&lt; std::endl;
                                            for (int i=0; i&lt;kupci.size(); i++) {
                                                std::cout &lt;&lt; " "&lt;&lt; i+1 &lt;&lt; " - ";
</font>                                                kupci[i].Ispisi();
                                                std::cout &lt;&lt; std::endl;
                                            } 
                                            std::cin &gt;&gt; jos_gluplji_kupac;
                                            std::cin.ignore(10000,'\n');
                                            prodaja.DajProdaju(glupa_prodaja).PromijeniKupca(kupci[jos_gluplji_kupac - 1]);
                                            std::cout &lt;&lt; "Prodaja je uspjesno izmijenjena" &lt;&lt; std::endl;
                                            break;
                                        }
                                        case(2): {
                                            be:
                                            try {
                                                std::cout &lt;&lt; "Unesite ime i prezime kupca: ";
                                                std::string imeneko;
                                                std::getline(std::cin, imeneko);
                                                
                                                std::cout &lt;&lt; "Unesite datum rodjenja (formata d/m/g): ";
                                                int nesto24,nesto13,nesto44;
                                                char zmija('a'), koza('a');
                                    
                                                std::cin &gt;&gt; nesto24 &gt;&gt; zmija &gt;&gt; nesto13 &gt;&gt; koza &gt;&gt; nesto44;
                                                if (zmija != '/' || koza != '/') throw std::domain_error ("Neispravan datum.");
                                                Datum lepidatum(nesto24, nesto13, nesto44);
                                                Kupac glavni (imeneko, lepidatum);
                                                prodaja.DajProdaju(glupa_prodaja).PromijeniKupca(glavni);
                                                std::cout &lt;&lt; "Prodaja je uspjesno izmijenjena!" &lt;&lt; std::endl;
                                               // break;
                                            }
                                            catch (std::domain_error bat) {
                                                std::cout &lt;&lt; "Izuzetak: " &lt;&lt; bat.what() &lt;&lt; " Molimo unesite opet" &lt;&lt; std::endl;
                                                std::cout &lt;&lt; std::endl;
                                                goto be;
                                            }
                                            break;
                                        }
                                        case(4): {
                                            std::cout &lt;&lt; "Izaberite opciju:" &lt;&lt; std::endl;
                                            std::cout &lt;&lt; "0 - nazad\n1 - odabir postojeceg stana\n2 - dodavanje novog stana" &lt;&lt; std::endl;
                                            int neki_izbor; std::cin &gt;&gt; neki_izbor;
                                            std::cin.ignore(10000,'\n');
                                            switch(neki_izbor) {
                                                case(0): {
                                                    goto glupost;
                                                    break;
                                                }
                                                case(1): {
                                                    std::cout &lt;&lt; "Odaberite stan. Dostupni stanovi su:" &lt;&lt; std::endl;
                                                    for (int i=0; i&lt;stanovi.size(); i++) {
                                                        std::cout &lt;&lt; " " &lt;&lt; i+1 &lt;&lt; " - " &lt;&lt; std::endl;
                                                        stanovi[i].Ispisi();
                                                        std::cout &lt;&lt; std::endl;
                                                    }
                                                    int izaberi_stan;
                                                    std::cin &gt;&gt; izaberi_stan;
                                                    prodaja.DajProdaju(glupa_prodaja).PromijeniStan(stanovi[izaberi_stan - 1]);
                                                    std::cout &lt;&lt; "Prodaja je uspjesno izmijenjena!" &lt;&lt; std::endl;
                                                    break;
                                                }
                                                case(2): {
                                                    vukodlak:
                                                    try {
                                                        std::cout &lt;&lt; "Unesite adresu: ";
                                                        std::string neka_adresa;
                                                        std::getline (std::cin, neka_adresa);
                                                        int neki_sprat, neka_soba;
                                                        bool neka_namjesten;
                                                        double neka_kvadratura;
                                                        std::cout &lt;&lt; "Unesite sprat: ";
                                                        std::cin &gt;&gt; neki_sprat;
                                                        std::cout &lt;&lt; "Unesite broj soba: ";
                                                        std::cin &gt;&gt; neka_soba;
                                                        std::cout &lt;&lt; "Da li je stan namjesten (1 - da, 0 - ne): ";
                                                        std::cin &gt;&gt; neka_namjesten;
                                                        if (neka_namjesten != 0 &amp;&amp; neka_namjesten != 1) throw std::domain_error ("Neispravan unos podataka.");
                                                        std::cout &lt;&lt; "Unesite kvadraturu: ";
                                                        std::cin &gt;&gt; neka_kvadratura;
                                                        Stan jeji (neka_adresa, neki_sprat, neka_soba, neka_namjesten, neka_kvadratura);
                                                        prodaja.DajProdaju(glupa_prodaja).PromijeniStan(jeji);
                                                        std::cout &lt;&lt; "Prodaja je uspjesno izmijenjena!"&lt;&lt;std::endl;
                                                        //break;
                                                    }
                                                    catch (std::domain_error vampir) {
                                                        std::cout &lt;&lt; "Izuzetak: " &lt;&lt; vampir.what() &lt;&lt; " Molimo unesite opet." &lt;&lt; std::endl;
                                                        std::cin.ignore(10000,'\n');
                                                        goto vukodlak;
                                                    }
                                                   break;
                                                }
                                            }
                                            break;
                                        }
                                        case(5): {
                                            std::cout &lt;&lt; "Unesite cijenu stana: ";
                                            int neka_cijena;
                                            std::cin &gt;&gt; neka_cijena;
                                            prodaja.DajProdaju(glupa_prodaja).PromijeniCijenuProdaje(neka_cijena);
                                            std::cout &lt;&lt; "Prodaja je uspjesno izmijenjena!" &lt;&lt; std::endl;
                                            break;
                                        }
                                    }
                                    break;
                                }
                            }
                            break;
                        }
                        case(3): {
                            zadnja:
                            //std::cin.ignore(10000,'\n');
                            std::cout &lt;&lt; "Izaberite opciju:"&lt;&lt; std::endl;
                            std::cout &lt;&lt; " 0 - nazad\n 1 - ispis svih prodaja\n 2 - ispis prodaja na datum\n 3 - ispis najranije prodaje\n";
                            std::cout &lt;&lt; " 4 - ispis najskuplje prodaje\n 5 - ispis broja prodaja\n 6 - ispis broja prodaja po datumu\n 7 - ispis broja prodaja po agentu\n 8 - kraj"&lt;&lt;std::endl;
                            std::cin &gt;&gt; zadnja_izbor;
                           // std::cin.ignore(10000,'\n');
                            if (zadnja_izbor == 8) {
                                std::cout &lt;&lt; std::endl &lt;&lt; std::endl &lt;&lt; "Dovidjenja!";
                                return 0;
                            }
                            switch(zadnja_izbor) {
                                case(0): {
                                    goto paun;
                                    break;
                                }
                                case(1): {
                                    prodaja.IspisiSveProdaje();
                                    //std::cin.ignore (10000,'\n');
                                    goto zadnja;
                                 //   break;
                                    
                                }
                                case(2): {
                                    lola:
                                    std::cin.ignore (10000,'\n');
                                    try {
                                        std::cout &lt;&lt; "Unesite datum (d/m/g): ";
                                        int eci, peci, pec;
                                        char zeko, peko;
                                        std::cin &gt;&gt; eci &gt;&gt; zeko &gt;&gt; peci &gt;&gt; peko &gt;&gt; pec;
                                        if (zeko != '/' &amp;&amp; peko != '/') throw std::domain_error ("Neispravan datum.");
<a name="21"></a><font color="#00FF00"><a href="match184-1.html#21" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_0.gif"/></a>

                                        Datum magija (eci, peci, pec);
                                        std::cout &lt;&lt; "Prodaje na datum ";
                                        magija.Ispisi();
                                        std::cout &lt;&lt; "su" &lt;&lt; std::endl;
                                        prodaja.IspisiProdajeNaDatum(magija);
</font>                                       // break;
                                    }
                                    catch (std::domain_error vucko) {
                                        std::cout &lt;&lt; "Izuzetak: " &lt;&lt; vucko.what() &lt;&lt; " Molimo unesite opet." &lt;&lt; std::endl;
                                        std::cin.ignore(10000,'\n');
                                        goto lola;
                                    }
                                    break;
                                }
                                case(3): {
                                    prodaja.DajNajranijuProdaju().Ispisi();
                                    std::cout &lt;&lt; std::endl;
                                    break;
                                }
                                case(4): {
                                    prodaja.DajNajskupljuProdaju().Ispisi();
                                    std::cout &lt;&lt; std::endl;
                                    break;
                                }
                                case(5): {
                                    std::cout &lt;&lt;"Broj prodaja: " &lt;&lt; prodaja.DajBrojProdaja();
                                    std::cout &lt;&lt; std::endl;
                                    break;
                                }
                                case(6): {
                                    malibu:
                                    std::cin.ignore(10000,'\n');
                                    try {
                                        std::cout &lt;&lt; "Unesite datum (d/m/g): ";
                                        int lol, wtf, wat;
                                        char pls, no;
                                        std::cin &gt;&gt; lol &gt;&gt; pls &gt;&gt; wtf &gt;&gt; no &gt;&gt; wat;
                                        if (pls != '/' &amp;&amp; no != '/') throw std::domain_error ("Neispravan datum.");
                                        Datum emsi (lol, wtf, wat);
                                        std::cout &lt;&lt; "Broj prodaja na uneseni datum: ";
                                        prodaja.DajBrojProdajaNaDatum(emsi);
                                        //break;
                                    }
                                    catch (std::domain_error ofc) {
                                        std::cout &lt;&lt; "Izuzetak: " &lt;&lt; ofc.what() &lt;&lt; " Molimo unesite opet." &lt;&lt; std::endl;
                                        std::cin.ignore(10000,'\n');
                                        goto malibu;
                                    }
                                   break;
                                }
                                case(7): {
                                    pls_stop:
                                    std::cin.ignore(10000,'\n');
                                    std::cout &lt;&lt; "Unesite ime agenta: ";
                                    std::string budala;
                                    try {
                                        std::getline (std::cin, budala);
                                        std::cout &lt;&lt; "Broj prodaja: ";
                                        prodaja.DajBrojProdajaOdAgenta(budala);
                                        //break;
                                    }
                                    catch (std::domain_error nemam_pojma_vise) {
                                        std::cout &lt;&lt; "Izuzetak: " &lt;&lt;nemam_pojma_vise.what() &lt;&lt; " Molimo unesite opet." &lt;&lt; std::endl;
                                        std::cin.ignore(10000,'\n');
                                        goto pls_stop;
                                    }
                                  break;
                                }
                                case(8): {
                                    std::cout &lt;&lt; std::endl &lt;&lt; std::endl &lt;&lt; "Dovidjenja!";
                                    return 0;
                                    break;
                                }
                            }
                            break;
                        } 
                       case(4): {
                           nema_ideja:
                           std::cout &lt;&lt; "Izaberite opciju:" &lt;&lt; std::endl;
                           std::cout &lt;&lt; " 0 - nazad\n 1 - brisanje najranije prodaje\n 2 - brisanje prodaja agenta\n 3 - brisanje prodaja po datumu\n 4 - brisanje svih prodaja"; 
                           std::cout &lt;&lt; std::endl;
                           std::cin &gt;&gt; finito_izbor; 
                           std::cin.ignore(10000,'\n');
                           switch(finito_izbor){
                               case(0): {
                                   goto paun;
                                   break;
                               }
                               case(1): {
                                   try {
                                       prodaja.ObrisiNajranijuProdaju();
                                       std::cout &lt;&lt; "Najranija prodaja je obrisana!" &lt;&lt; std::endl;
                                     //  break;
                                   }
                                   catch (std::range_error nema) {
                                       std::cout &lt;&lt; "Izuzetak: " &lt;&lt; nema.what() &lt;&lt; " Molimo unesite opet." &lt;&lt; std::endl;
                                       goto nema_ideja;
                                   }
                                   break;
                               }
                               case(2): {
                                   lila:
                                   try {
                                       std::cout &lt;&lt; "Unesite ime agenta: ";
                                       std::string magarac;
                                       std::getline (std::cin, magarac);
                                       try {
                                           prodaja.ObrisiProdajeAgenta(magarac);
                                           std::cout &lt;&lt; "Sve prodaje tog agenta su obrisane."&lt;&lt;std::endl;
                                         //  break;
                                       }
                                       catch (std::range_error nema) {
                                           std::cout &lt;&lt; "Izuzetak: "&lt;&lt; nema.what() &lt;&lt; " Molimo unesite opet." &lt;&lt; std::endl;
                                           goto lila;
                                       }
                                      break;
                                   }
                                   catch(std::domain_error neko) {
                                       std::cout &lt;&lt; "Izuzetak: " &lt;&lt; neko.what() &lt;&lt; " Molimo unesite opet." &lt;&lt; std::endl;
                                       std::cin.ignore(10000,'\n');
                                       goto lila;
                                   }
                                   break;
                               }
                               case(3): {
                                   neon:
                                   try {
                                       std::cout &lt;&lt; "Unesite datum: ";
                                       int mustang,camaro,dodge;
                                       char konj, viper;
                                       std::cin &gt;&gt; mustang &gt;&gt; konj &gt;&gt; camaro &gt;&gt; viper &gt;&gt; dodge;
                                       if (konj != '/' &amp;&amp; viper != '/') throw std::domain_error ("Neispravan datum.");
                                       Datum car (mustang, camaro, dodge);
                                       try {
                                           prodaja.ObrisiProdajeNaDatum(car);
                                           std::cout &lt;&lt; "Sve prodaje na taj datum su obrisane." &lt;&lt; std::endl;
                                          // break;
                                       }
                                       catch (std::range_error nema) {
                                           std::cout &lt;&lt; "Izuzetak: " &lt;&lt; nema.what() &lt;&lt; " Molimo unesite opet." &lt;&lt; std::endl;
                                           goto neon;
                                       }
                                       break;
                                   }
                                   catch (std::domain_error datum) {
                                       std::cout &lt;&lt; "Izuzetak: " &lt;&lt; datum.what() &lt;&lt; " Molimo unesite opet."&lt;&lt;std::endl;
                                       std::cin.ignore(10000,'\n');
                                       goto neon;
                                   }
                                   break;
                               }
                               case(4): {
                                   briga:
                                   try {
                                       prodaja.IsprazniKolekciju();
                                       std::cout &lt;&lt; "Sve prodaje su obrisane" &lt;&lt; std::endl;
                                      // break;
                                   }
                                   catch (std::range_error nema) {
                                       std::cout &lt;&lt; "Izuzetak: " &lt;&lt; nema.what() &lt;&lt; " Molimo unesite opet."&lt;&lt;std::endl;
                                       goto briga;
                                   }
                                   break;
                               }
                           }
                           break;
                       }
                    }
                } while (izbor3 != 5);
                break;
            }
        }
    } while (izbor != 0);
 
   // std::cout &lt;&lt; std::endl &lt;&lt; std::endl &lt;&lt; "Dovidjenja!";
	return 0;
}</pre>
</body>
</html>
