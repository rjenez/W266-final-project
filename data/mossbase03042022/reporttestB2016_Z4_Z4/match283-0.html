<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z4/student5581.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z4/student5581.cpp<p></p><pre>
/B 2016/2017, Zadaća 4, Zadatak 4
//Napomena: testovi ce biti dostupni dan pred rok!
#include &lt;iostream&gt;
#include &lt;stdexcept&gt;
#include &lt;string&gt;
#include &lt;iomanip&gt;
#include &lt;initializer_list&gt;
#include &lt;algorithm&gt;
#include &lt;vector&gt;
#include &lt;memory&gt;

bool LegalnoIme(std::string ime){
<a name="9"></a><font color="#FF00FF"><a href="match283-1.html#9" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_0.gif"/></a>

    for(int i=0;i&lt;ime.size();i++){
        if(!((ime[i]&gt;='a'&amp;&amp;ime[i]&lt;='z') || (ime[i]&gt;='A'&amp;&amp;ime[i]&lt;='Z') || (ime[i]&gt;='0'&amp;&amp;ime[i]&lt;='9') || ime[i]==' ' || ime[i]== '\'' || ime[i]=='-' ))
</font><a name="10"></a><font color="#FF0000"><a href="match283-1.html#10" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_0.gif"/></a>

            return false;
</font>    }
    return true;
}
class Datum{
    private:
        int dan,mjesec,godina;
    public:
<a name="2"></a><font color="#0000FF"><a href="match283-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_0.gif"/></a>

        Datum(int dan, int mjesec, int godina){Postavi(dan,mjesec,godina);}
        void Postavi(int dan, int mjesec, int godina);
        int DajDan() const {return dan;}
        int DajMjesec() const {return mjesec;}
        int DajGodinu() const {return godina;}
        void Ispisi() const {std::cout&lt;&lt;dan&lt;&lt;"/"&lt;&lt;mjesec&lt;&lt;"/"&lt;&lt;godina;}
</font>};
void Datum::Postavi(int dan, int mjesec, int godina){
    int dani[]={31,28,31,30,31,30,31,31,30,31,30,31};
    if((godina%4==0 &amp;&amp; godina%100 != 0) || godina%400==0)
        dani[1]++;
    if(godina&lt;1 || mjesec&lt;1 || mjesec&gt;12 || dan&lt;1 || dan&gt;dani[mjesec-1])
        throw std::domain_error("Neispravan datum");
    Datum::dan=dan; Datum::mjesec=mjesec; Datum::godina=godina;
    
}

class Kupac{
    private:
        std::string ime_i_prezime;
        Datum datum;
<a name="0"></a><font color="#FF0000"><a href="match283-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_0.gif"/></a>

        friend bool LegalnoIme(std::string ime);
    public: 
        Kupac(const std::string &amp;ime_i_prezime, const Datum &amp;datum_rodjenja):datum(datum_rodjenja){Postavi(ime_i_prezime,datum);}
        void Postavi(const std::string &amp;ime_i_prezime, const Datum &amp;datum_rodjenja);
        std::string DajImePrezime() const {return ime_i_prezime;}
        Datum DajDatumRodjenja() const {return datum;}
        void Ispisi() const {std::cout&lt;&lt;ime_i_prezime&lt;&lt;" ("; datum.Ispisi();std::cout&lt;&lt;")";}
</font>};
void Kupac::Postavi(const std::string &amp;ime_i_prezime, const Datum &amp;datum_rodjenja){
    if(!LegalnoIme(ime_i_prezime))
        throw std::domain_error("Neispravno ime i prezime");
    datum=datum_rodjenja; Kupac::ime_i_prezime=ime_i_prezime;
    
}

class Stan{
    private:
        std::string adresa;
        int sprat,broj_soba;
        bool namjesten;
        double kvadratura;
    public:
<a name="1"></a><font color="#00FF00"><a href="match283-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_0.gif"/></a>

        Stan(const std::string &amp;adresa,int sprat,int broj_soba,bool namjesten, double kvadratura){Postavi(adresa,sprat,broj_soba,namjesten,kvadratura);}
        void Postavi(const std::string &amp;adresa, int sprat, int broj_soba,bool namjesten, double kvadratura);
        std::string DajAdresu() const {return adresa;}
        int DajBrojSoba() const {return broj_soba;}
        int DajSprat() const {return sprat;}
        bool DajNamjesten() const {return namjesten;}
        double DajKvadraturu() const {return kvadratura;}
</font>        void Ispisi() const;
}; 
<a name="16"></a><font color="#00FF00"><a href="match283-1.html#16" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_0.gif"/></a>

void Stan::Postavi(const std::string &amp;adresa, int sprat, int broj_soba, bool namjesten, double kvadratura){
    if(broj_soba&lt;0 || sprat&lt;0 || kvadratura&lt;0 || !LegalnoIme(adresa))
</font>        throw std::domain_error("Neispravan unos podataka");
    Stan::adresa=adresa; Stan::sprat=sprat; Stan::broj_soba=broj_soba; Stan::namjesten=namjesten; Stan::kvadratura=kvadratura;
}
void Stan::Ispisi() const {
    std::string sobe[]={"soba","sobu","sobe","sobe","sobe","soba","soba","soba","soba","soba"};
    if(broj_soba%100&gt;10&amp;&amp;broj_soba%100&lt;20) for(int i=0;i&lt;10;i++) sobe[i]="soba";
    std::string n[]={"nije","je"};
    std::cout&lt;&lt;"Stan se nalazi na adresi "&lt;&lt;adresa
             &lt;&lt;" na "&lt;&lt;sprat&lt;&lt;". spratu i ima "&lt;&lt;broj_soba&lt;&lt;" "&lt;&lt;sobe[broj_soba%10]
             &lt;&lt;".\nKvadratura stana je "&lt;&lt;kvadratura&lt;&lt;" (m^2) i stan "&lt;&lt;n[int(namjesten)]&lt;&lt;" namjesten.";
}

class Prodaja{
    private:
        std::string ime_agenta_prodaje;
        double cijena_stana;
        Datum datum_prodaje;
        Kupac kupac_stana;
        Stan kupljeni_stan;
        friend bool LegalnoIme(std::string ime);
    public:
<a name="3"></a><font color="#00FFFF"><a href="match283-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_0.gif"/></a>

        Prodaja(const std::string &amp;ime_agenta_prodaje, double cijena_stana, const Datum &amp;datum_prodaje, const Kupac &amp;kupac_stana, const Stan &amp;kupljeni_stan);
        Prodaja(const std::string &amp;ime_agenta_prodaje, double cijena_stana, int dan_prodaje, int mjesec_prodaje, int godina_prodaje, const std::string &amp;ime_kupca, const Datum &amp;datum_rodjenja_kupca, const std::string &amp;adresa_stana, int sprat_stana, int broj_soba, bool namjesten_stan, double broj_kvadrata);
</font><a name="6"></a><font color="#00FF00"><a href="match283-1.html#6" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_0.gif"/></a>

        void PromijeniKupca(const Kupac &amp;novi_kupac){kupac_stana=novi_kupac;}
        void PromijeniStan(const Stan &amp;novi_stan){kupljeni_stan=novi_stan;}
        void PromijeniAgenta(const std::string &amp;agent){ime_agenta_prodaje=agent;}
</font>        void PromijeniDatumKupovine(const Datum &amp;novi_datum){datum_prodaje=novi_datum;}
        void PromijeniCijenuProdaje(const double &amp;nova_cijena){if(nova_cijena&lt;0) throw std::domain_error("Neispravan unos podataka"); cijena_stana=nova_cijena;}
        void PomjeriDanUnaprijed();
        void PomjeriDanUnazad();
        std::string DajImeAgenta() const {return ime_agenta_prodaje;}
        std::string DajImeKupca() const {return kupac_stana.DajImePrezime();}
        Datum DajDatumProdaje() const {return datum_prodaje;}
        double DajCijenuStana() const {return cijena_stana;}
        friend bool ProdatPrije(const Prodaja &amp;p1, const Prodaja &amp;p2);
        friend bool SkupljiStan(const Prodaja &amp;p1, const Prodaja &amp;p2);
        void Ispisi() const;
};
Prodaja::Prodaja(const std::string &amp;ime_agenta_prodaje, double cijena_stana, const Datum &amp;datum_prodaje, const Kupac &amp;kupac_stana, const Stan &amp;kupljeni_stan):datum_prodaje(datum_prodaje),kupac_stana(kupac_stana),kupljeni_stan(kupljeni_stan){
    if(!LegalnoIme(ime_agenta_prodaje))
        throw std::domain_error("Neispravno ime i prezime");
    if(cijena_stana&lt;0)
        throw std::domain_error("Neispravan unos podataka");
    Prodaja::ime_agenta_prodaje=ime_agenta_prodaje; Prodaja::cijena_stana=cijena_stana;
}
Prodaja::Prodaja(const std::string &amp;ime_agenta_prodaje,double cijena_stana, int dan_prodaje, int mjesec_prodaje, int godina_prodaje, const std::string &amp;ime_kupca, const Datum &amp;datum_rodjenja_kupca, const std::string &amp;adresa_stana,int sprat_stana,int broj_soba,bool namjesten_stan,double broj_kvadrata):datum_prodaje(dan_prodaje,mjesec_prodaje,godina_prodaje),kupac_stana(ime_kupca,datum_rodjenja_kupca),kupljeni_stan(adresa_stana,sprat_stana,broj_soba,namjesten_stan,broj_kvadrata){
    if(!LegalnoIme(ime_agenta_prodaje))
        throw std::domain_error("Neispravno ime i prezime");
    if(cijena_stana&lt;0)
        throw std::domain_error("Neispravan unos podataka");
    Prodaja::ime_agenta_prodaje=ime_agenta_prodaje; Prodaja::cijena_stana=cijena_stana;
}
void Prodaja::PomjeriDanUnazad(){
    try{datum_prodaje=Datum(datum_prodaje.DajDan()-1,datum_prodaje.DajMjesec(),datum_prodaje.DajGodinu());}
    catch(...){
        try{datum_prodaje=Datum(31,datum_prodaje.DajMjesec()-1,datum_prodaje.DajGodinu());}
        catch(...){
            try{datum_prodaje=Datum(30,datum_prodaje.DajMjesec()-1,datum_prodaje.DajGodinu());}
            catch(...){
                try{datum_prodaje=Datum(29,datum_prodaje.DajMjesec()-1,datum_prodaje.DajGodinu());}
                catch(...){
                    try{datum_prodaje=Datum(28,datum_prodaje.DajMjesec()-1,datum_prodaje.DajGodinu());}
                    catch(...){
                        datum_prodaje=Datum(31,12,datum_prodaje.DajGodinu()-1);}
                    }
                }
            }
        }
    }
void Prodaja::PomjeriDanUnaprijed(){
    try{datum_prodaje=Datum(datum_prodaje.DajDan()+1,datum_prodaje.DajMjesec(),datum_prodaje.DajGodinu());}
    catch(...){
        try{datum_prodaje=Datum(1,datum_prodaje.DajMjesec()+1,datum_prodaje.DajGodinu());}
        catch(...){
            datum_prodaje=Datum(1,1,datum_prodaje.DajGodinu()+1);
        }
    }
}
bool ProdatPrije(const Prodaja &amp;p1, const Prodaja &amp;p2){
    if(p1.datum_prodaje.DajGodinu()&lt;p2.datum_prodaje.DajGodinu()) return true;
    else if(p1.datum_prodaje.DajGodinu()&gt;p2.datum_prodaje.DajGodinu()) return false;
    else {
        if(p1.datum_prodaje.DajMjesec()&lt;p2.datum_prodaje.DajMjesec()) return true;
        else if(p1.datum_prodaje.DajMjesec()&gt;p2.datum_prodaje.DajMjesec()) return false;
        else{
            if(p1.datum_prodaje.DajDan()&lt;p2.datum_prodaje.DajDan()) return true;
            else return false;
        }
    }
}
bool SkupljiStan(const Prodaja &amp;p1, const Prodaja &amp;p2){
    if(p1.DajCijenuStana()&gt;p2.DajCijenuStana())
        return false;
    return true;
}
void Prodaja::Ispisi()const {
    std::cout&lt;&lt;std::left&lt;&lt;std::setw(32)&lt;&lt;"Ime agenta:"&lt;&lt;ime_agenta_prodaje&lt;&lt;std::endl;
    std::cout&lt;&lt;std::left&lt;&lt;std::setw(32)&lt;&lt;"Ime kupca:";kupac_stana.Ispisi(); std::cout&lt;&lt;std::endl;
    std::cout&lt;&lt;std::left&lt;&lt;std::setw(32)&lt;&lt;"Zakazani datum prodaje: "; datum_prodaje.Ispisi(); std::cout&lt;&lt;std::endl;
    std::cout&lt;&lt;std::left&lt;&lt;std::setw(32)&lt;&lt;"Cijena stana:"&lt;&lt;cijena_stana&lt;&lt;std::endl;
    std::cout&lt;&lt;"Informacije o stanu: "&lt;&lt;std::endl;
    kupljeni_stan.Ispisi();
}

typedef std::shared_ptr&lt;Prodaja&gt; pok_na_prodaju;


class Prodaje{
    private:
        std::vector&lt;pok_na_prodaju&gt; p_prodaje;
        
        static int Datumi(const Prodaja &amp;p1, const Prodaja &amp;p2){
        if(ProdatPrije(p1,p2)) return 1;
        else if(ProdatPrije(p2,p1)) return 3;
        else return 2;
    }//z
        friend bool JednakDatum(const Datum &amp;d1, const Datum &amp;d2);//z
    
    public:
        explicit Prodaje();
<a name="8"></a><font color="#00FFFF"><a href="match283-1.html#8" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_0.gif"/></a>

        Prodaje(std::initializer_list&lt;Prodaja&gt; spisak_prodaja);
        ~Prodaje();
        Prodaje(const Prodaje &amp;prodaje);
        Prodaje(Prodaje &amp;&amp;prodaje);
        Prodaje &amp;operator =(const Prodaje &amp;prodaje);
        Prodaje &amp;operator =(Prodaje &amp;&amp;prodaje);
</font>        void RegistrirajProdaju(const std::string &amp;ime_agenta_prodaje, double cijena_stana, const Datum &amp;datum_prodaje, const Kupac &amp;kupac_stana, const Stan &amp;kupljeni_stan);
        void RegistrirajProdaju(const std::string &amp;ime_agenta_prodaje, double cijena_stana, int dan_prodaje, int mjesec_prodaje, int godina_prodaje, std::string &amp;ime_kupca, const Datum &amp;datum_rodjenja_kupca, const  std::string &amp;adresa_stana, int sprat_stana,int broj_soba,bool namjesten_stan,double broj_kvadrata);
        void RegistrirajProdaju(pok_na_prodaju prodaja);
        int DajBrojProdaja() const{return p_prodaje.size();}//zavrseno
        int DajBrojProdajaNaDatum(const Datum &amp;datum) const;
        int DajBrojProdajaOdAgenta(const std::string &amp;ime_agenta) const;
        Prodaja &amp;DajNajranijuProdaju();
        Prodaja DajNajranijuProdaju() const;
        Prodaja &amp;DajNajskupljuProdaju();
        Prodaja DajNajskupljuProdaju() const;
        Prodaja &amp;DajProdaju(int redni_broj);
        void IsprazniKolekciju();
        void ObrisiNajranijuProdaju();
        void ObrisiProdajeAgenta(const std::string &amp;ime_agenta);
        void ObrisiProdajeNaDatum(const Datum &amp;datum);
        void IspisiProdajeNaDatum(const Datum &amp;datum) const;
        void IspisiSveProdaje() const;
};
bool JednakDatum(const Datum &amp;d1, const Datum &amp;d2){
    return(d1.DajDan()==d2.DajDan()&amp;&amp;d1.DajMjesec()==d2.DajMjesec()&amp;&amp;d1.DajGodinu()==d2.DajGodinu());
}
Prodaje::Prodaje(){
}
Prodaje::Prodaje(std::initializer_list&lt;Prodaja&gt; spisak_prodaja){
    try{
        auto it=spisak_prodaja.begin();
        for(int i=0;i&lt;spisak_prodaja.size();i++){
            pok_na_prodaju pok(new Prodaja(*it));
            p_prodaje.push_back(pok);
            it++;
        }
    }
    catch(...){
        for(int i=0;i&lt;p_prodaje.size();i++){
            p_prodaje[i]=nullptr;
        }
        throw;
    }
}
Prodaje::~Prodaje(){
    for(int i=0; i&lt;p_prodaje.size();i++)
        p_prodaje[i]=nullptr;
    p_prodaje.resize(0);
}
Prodaje::Prodaje(const Prodaje &amp;prodaje){
    try{
        p_prodaje.resize(prodaje.p_prodaje.size());
        for(int i=0 ; i&lt;prodaje.p_prodaje.size() ;i++)
            p_prodaje[i]=pok_na_prodaju(new Prodaja(*prodaje.p_prodaje[i]));
        }
    catch(...){
        for(int i=0 ; i&lt;p_prodaje.size() ; i++){
            p_prodaje[i]=nullptr;
        }
    }
}
Prodaje::Prodaje(Prodaje &amp;&amp;prodaje):p_prodaje(prodaje.p_prodaje){
    prodaje.p_prodaje.resize(0);
}
Prodaje &amp;Prodaje::operator =(const Prodaje &amp;prodaje){
    if(prodaje.p_prodaje.size()&gt;p_prodaje.size()){
        try{
            for(int i = p_prodaje.size(); i&lt;prodaje.p_prodaje.size();i++){
                p_prodaje.push_back(pok_na_prodaju(new Prodaja(*prodaje.p_prodaje[i])));
            }
        }
        catch(...) {
            for(int i=p_prodaje.size() ; i&lt;prodaje.p_prodaje.size() ; i++){
                p_prodaje[i] = nullptr;
            }
            throw;
        }
    }
    else {
        p_prodaje.resize(prodaje.p_prodaje.size());
        }
    p_prodaje.resize(prodaje.p_prodaje.size());
    for(int i=0 ; i&lt;p_prodaje.size();i++)
        *p_prodaje[i]=*prodaje.p_prodaje[i];
    return *this;
}
Prodaje &amp;Prodaje::operator =(Prodaje &amp;&amp;prodaje){
        p_prodaje=std::move(prodaje.p_prodaje);
        return *this;
}
int Prodaje::DajBrojProdajaNaDatum(const Datum &amp;datum) const{
    return std::count_if(p_prodaje.begin(),p_prodaje.end(),[datum](pok_na_prodaju p){
        if(JednakDatum(datum,p-&gt;DajDatumProdaje())) return true;
            return false;
    });
}
<a name="17"></a><font color="#0000FF"><a href="match283-1.html#17" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_0.gif"/></a>

int Prodaje::DajBrojProdajaOdAgenta(const std::string &amp;ime_agenta) const {
    return std::count_if(p_prodaje.begin(),p_prodaje.end(),[ime_agenta](pok_na_prodaju p){
</font>        if(ime_agenta==p-&gt;DajImeAgenta())
            return true;
        return false;
    });
}
Prodaja &amp;Prodaje::DajProdaju(int redni_broj){
    if(redni_broj&gt;p_prodaje.size())
        throw std::domain_error("Neispravan redni broj");
    return *p_prodaje[redni_broj-1];
}
void Prodaje::ObrisiProdajeAgenta(const std::string &amp;ime_agenta){
    int obrisano=0;
    for(int i=0;i&lt;p_prodaje.size();i++){
            if(p_prodaje[i]-&gt;DajImeAgenta()==ime_agenta){
                obrisano++;
                p_prodaje[i]=nullptr;
            }
    }
    auto pok=std::remove(p_prodaje.begin(),p_prodaje.end(),nullptr);
    p_prodaje.resize(p_prodaje.size()-obrisano);
}
void Prodaje::ObrisiProdajeNaDatum(const Datum &amp;datum){
    int obrisano=0;
    for(int i=0;i&lt;p_prodaje.size();i++){
            if(JednakDatum(datum,p_prodaje[i]-&gt;DajDatumProdaje())){
                p_prodaje[i]=nullptr;
                obrisano++;
            }
    }
    auto pok=std::remove(p_prodaje.begin(),p_prodaje.end(),nullptr);
    p_prodaje.resize(p_prodaje.size()-obrisano);
}
void Prodaje::IspisiProdajeNaDatum(const Datum &amp;datum)const {
    std::vector&lt;Prodaja&gt; pom;
    for(int i=0;i&lt;p_prodaje.size();i++){
            if(JednakDatum(datum,p_prodaje[i]-&gt;DajDatumProdaje()))
                pom.push_back(*p_prodaje[i]);
    }
    
    std::sort(pom.begin(),pom.end(),[](Prodaja p1, Prodaja p2){
        if(p1.DajImeKupca()&lt;p2.DajImeKupca())
            return true;
        return false;
    });
    
    for(int i=0;i&lt;pom.size();i++){
        pom[i].Ispisi(),std::cout&lt;&lt;std::endl;
    }
}
void Prodaje::IspisiSveProdaje()const{
    std::vector&lt;Prodaja&gt; pom;
    for(int i=0;i&lt;p_prodaje.size();i++){
            pom.push_back(*p_prodaje[i]);
    }
    std::sort(pom.begin(),pom.end(),[](Prodaja p1, Prodaja p2){
        if(ProdatPrije(p1,p2)) return true;
        else if(Datumi(p1,p2)==2){
            if(p1.DajImeKupca()&lt;p2.DajImeKupca()){
                return true;
            }
        }
        return false;
    });
    
    for(int i=0;i&lt;pom.size();i++){
        pom[i].Ispisi(), std::cout&lt;&lt;std::endl;
    }
}
void Prodaje::IsprazniKolekciju(){
    for(int i=0;i&lt;p_prodaje.size();i++){
        p_prodaje[i]=nullptr;
    }
    p_prodaje.resize(0);
}
Prodaja Prodaje::DajNajranijuProdaju()const {
    if(DajBrojProdaja()==0)
        throw std::domain_error("Nema registriranih prodaja");
    auto pok=std::min_element(p_prodaje.begin(),p_prodaje.end(),[](pok_na_prodaju p1, pok_na_prodaju p2){
        if(ProdatPrije(*p1,*p2)) return true;
        return false;});
    return **pok;
}
Prodaja &amp;Prodaje::DajNajranijuProdaju(){
    if(DajBrojProdaja()==0)
        throw std::domain_error("Nema registriranih prodaja");
    auto pok=std::min_element(p_prodaje.begin(),p_prodaje.end(),[](pok_na_prodaju p1, pok_na_prodaju p2){
        if(ProdatPrije(*p1,*p2)) return true;
        return false;
    });
    return **pok;
}
Prodaja Prodaje::DajNajskupljuProdaju() const{
    if(DajBrojProdaja()==0)
        throw std::domain_error("Nema registriranih prodaja");
    auto pok=std::max_element(p_prodaje.begin(),p_prodaje.end(),[](pok_na_prodaju p1, pok_na_prodaju p2){
        if(!SkupljiStan(*p1,*p2)) return true;
        return false;
    });
    return **pok;
}
Prodaja&amp; Prodaje::DajNajskupljuProdaju(){
    if(DajBrojProdaja()==0)
        throw std::domain_error("Nema registriranih prodaja");
    auto pok=std::max_element(p_prodaje.begin(),p_prodaje.end(),[](pok_na_prodaju p1, pok_na_prodaju p2){
        if(!SkupljiStan(*p1,*p2)) return true;
        return false;
    });
    return **pok;
}
void Prodaje::ObrisiNajranijuProdaju(){
    if(DajBrojProdaja()==0)
        throw std::range_error("Prazna kolekcija");
    auto pok=std::min_element(p_prodaje.begin(),p_prodaje.end(),[](pok_na_prodaju p1, pok_na_prodaju p2){
        if(ProdatPrije(*p1,*p2)) return true;
        return false;
    });
    
    Datum za_brisat((**pok).DajDatumProdaje());
    ObrisiProdajeNaDatum(za_brisat);
}
void Prodaje::RegistrirajProdaju(pok_na_prodaju prodaja){
    p_prodaje.push_back(prodaja);
}
void Prodaje::RegistrirajProdaju(const std::string &amp;ime_agenta_prodaje, double cijena_stana, const Datum &amp;datum_prodaje, const Kupac &amp;kupac_stana, const Stan &amp;kupljeni_stan){
   p_prodaje.push_back(pok_na_prodaju(new Prodaja(ime_agenta_prodaje,cijena_stana,datum_prodaje,kupac_stana,kupljeni_stan)));
}
<a name="18"></a><font color="#00FFFF"><a href="match283-1.html#18" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_0.gif"/></a>

void Prodaje::RegistrirajProdaju(const std::string &amp;ime_agenta_prodaje, double cijena_stana, int dan_prodaje, int mjesec_prodaje, int godina_prodaje, std::string &amp;ime_kupca, const Datum &amp;datum_rodjenja_kupca, const std::string &amp;adresa_stana, int sprat_stana, int broj_soba, bool namjesten_stan, double broj_kvadrata){
    p_prodaje.push_back(pok_na_prodaju(new Prodaja(ime_agenta_prodaje,cijena_stana,dan_prodaje,mjesec_prodaje,godina_prodaje,ime_kupca,datum_rodjenja_kupca,adresa_stana,sprat_stana,broj_soba,namjesten_stan,broj_kvadrata)));
</font>}

int main ()
{
    std::cout&lt;&lt;"Dobrodosli!"&lt;&lt;std::endl&lt;&lt;std::endl;
    int opcija;
    std::vector&lt;Stan&gt; stanovi;
    std::vector&lt;Kupac&gt; kupci;
    Prodaje prodaje;
    
    for( ; ; ){
        
        std::cout&lt;&lt;"\nIzaberite opciju:\n 0 - kraj\n 1 - uredjivanje stanova\n 2 - uredjivanje kupaca\n 3 - uredjivanje prodaja"&lt;&lt;std::endl;
        std::cin&gt;&gt;opcija;
        if(opcija==0) break;
        if(opcija==1){
            int opcija_za_stan;
            for( ; ; ){
                std::cout&lt;&lt;"Izaberite opciju:\n 0 - nazad\n 1 - dodavanje stana\n 2 - uredjivanje stanova\n 3 - ispis svih stanova\n 4 - kraj"&lt;&lt;std::endl;
                std::cin&gt;&gt;opcija_za_stan;
                std::cin.ignore(1000,'\n');
                if(opcija_za_stan==0) break;
                if(opcija_za_stan==1){
                    bool neispravan;
                    do{
                        neispravan=false;
                    std::string adresa;
                    std::cout&lt;&lt;"Unesite adresu: ";
                    std::getline(std::cin,adresa);
                    int sprat;
                    std::cout&lt;&lt;"Unesite sprat: ";
                    std::cin&gt;&gt;sprat;
                    int broj_soba;
                    std::cout&lt;&lt;"Unesite broj soba: ";
                    std::cin&gt;&gt;broj_soba;
                    int namjesten;
                    std::cout&lt;&lt;"Da li je stan namjesten (1 - da, 0 - ne): ";
                    std::cin&gt;&gt;namjesten;
                    double kvadratura;
                    std::cout&lt;&lt;"Unesite kvadraturu: ";
                    std::cin&gt;&gt;kvadratura;
                    try{
                        if(namjesten!=0&amp;&amp;namjesten!=1)
                            throw std::domain_error("Neispravan unos podataka");
                        Stan stan(adresa,sprat,broj_soba,namjesten,kvadratura);
                        stanovi.push_back(stan);
                    }
                    catch(std::domain_error e){
                        std::cout&lt;&lt;"Izuzetak: "&lt;&lt;e.what()&lt;&lt;". Molimo unesite opet."&lt;&lt;std::endl;
                        neispravan=true;
                        std::cin.ignore(100,'\n');
                    }
                    }
                    while(neispravan);
                    
<a name="19"></a><font color="#FF00FF"><a href="match283-1.html#19" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_0.gif"/></a>

                    std::cout&lt;&lt;"Stan je uspjesno dodan!"&lt;&lt;std::endl;
                }
                if(opcija_za_stan==2){
                    std::cout&lt;&lt;"Odaberite stan. Dostupni stanovi su:"&lt;&lt;std::endl;
                    for(int i=0;i&lt;stanovi.size();i++){
</font>                        std::cout&lt;&lt;" "&lt;&lt;i+1&lt;&lt;" - ";stanovi[i].Ispisi();std::cout&lt;&lt;std::endl;
                    }
                    int s_opcija;
                    std::cin&gt;&gt;s_opcija;
                    
                    std::cout&lt;&lt;"Odaberite polje koje zelite urediti:\n 0 - nazad\n 1 - adresa\n 2 - sprat\n 3 - broj soba\n 4 - da li je stan namjesten\n 5 - kvadratura\n 6 - sve"&lt;&lt;std::endl;
                    int broj;
                    std::cin&gt;&gt;broj;
                    std::cin.ignore(100,'\n');
                    if(broj==0) break;
                    if(broj==1){
                        bool neispravan2;
                        do{neispravan2=false;
                            std::cout&lt;&lt;"Unesite adresu: ";
                            std::string adresa;
                            std::getline(std::cin,adresa);
                            try{
                                stanovi[s_opcija-1]=Stan(adresa,stanovi[s_opcija-1].DajSprat(),stanovi[s_opcija-1].DajBrojSoba(),stanovi[s_opcija-1].DajNamjesten(),stanovi[s_opcija-1].DajKvadraturu());
                            }
                            catch(std::domain_error e){
                                std::cout&lt;&lt;"Izuzetak: "&lt;&lt;e.what()&lt;&lt;". Molimo unesite opet."&lt;&lt;std::endl;
                                neispravan2=true;
                            }
                        }
                        while(neispravan2);
                        std::cout&lt;&lt;"Stan je uspjesno izmijenjen!"&lt;&lt;std::endl;
                    }//izmjena adrese
                    if(broj==2){
                        bool neispravan2;
                        do{neispravan2=false;
                            std::cout&lt;&lt;"Unesite sprat: ";
                            int sp;
                            std::cin&gt;&gt;sp;
                            try{
                                stanovi[s_opcija-1]=Stan(stanovi[s_opcija-1].DajAdresu(),sp,stanovi[s_opcija-1].DajBrojSoba(),stanovi[s_opcija-1].DajNamjesten(),stanovi[s_opcija-1].DajKvadraturu());
                            }
                            catch(std::domain_error e){
                                std::cout&lt;&lt;"Izuzetak: "&lt;&lt;e.what()&lt;&lt;". Molimo unesite opet."&lt;&lt;std::endl;
                                neispravan2=true;
                            }
                        }
                        while(neispravan2);
                        std::cout&lt;&lt;"Stan je uspjesno izmijenjen!"&lt;&lt;std::endl;
                    }//izmjena sprata
                    if(broj==3){
                        bool neispravan2;
                        do{
                            neispravan2=false;
                            std::cout&lt;&lt;"Unesite broj soba: ";
                            int so;
                            std::cin&gt;&gt;so;
                            try{stanovi[s_opcija-1]=Stan(stanovi[s_opcija-1].DajAdresu(),stanovi[s_opcija-1].DajSprat(),so,stanovi[s_opcija-1].DajNamjesten(),stanovi[s_opcija].DajKvadraturu());}
                           catch(std::domain_error e){
                            std::cout&lt;&lt;"Izuzetak: "&lt;&lt;e.what()&lt;&lt;". Molimo unesite opet."&lt;&lt;std::endl;
                            neispravan2=true;
                        }}
                        while(neispravan2);
                        std::cout&lt;&lt;"Stan je uspjesno izmijenjen!"&lt;&lt;std::endl;
                    }//izmjena sobe
                    if(broj==4){
                        bool neispravan2;
                        do{
                            neispravan2=false;
                            try{std::cout&lt;&lt;"Da li je stan namjesten (1 - da, 0 - ne): ";
                            int namj;
                            std::cin&gt;&gt;namj;
                            if(namj!=0&amp;&amp;namj!=1)
                                throw std::domain_error("Neispravan unos podataka");
                            stanovi[s_opcija-1]=Stan(stanovi[s_opcija-1].DajAdresu(),stanovi[s_opcija-1].DajSprat(),stanovi[s_opcija-1].DajBrojSoba(),namj,stanovi[s_opcija-1].DajKvadraturu());
                            }
                            catch(std::domain_error e){
                                std::cout&lt;&lt;"Izuzetak: "&lt;&lt;e.what()&lt;&lt;". Molimo unesite opet."&lt;&lt;std::endl;
                                neispravan2=true;
                            }
                        }
                        while(neispravan2);
                        std::cout&lt;&lt;"Stan je uspjesno izmijenjen!"&lt;&lt;std::endl;
                    }//izmjena je li namjesten
                    if(broj==5){
                        bool neispravan2;
                        do{
                            neispravan2=false;
                            std::cout&lt;&lt;"Unesite kvadraturu: ";
                            double kv;
                            std::cin&gt;&gt;kv;
                            try{
                                stanovi[s_opcija-1]=Stan(stanovi[s_opcija-1].DajAdresu(),stanovi[s_opcija-1].DajSprat(),stanovi[s_opcija-1].DajBrojSoba(),stanovi[s_opcija-1].DajNamjesten(),kv);
                            }
                            catch(std::domain_error e){
                                std::cout&lt;&lt;"Izuzetak: "&lt;&lt;e.what()&lt;&lt;". Molimo unesite opet."&lt;&lt;std::endl;
                                neispravan2=true;
                            }
                        }
                        while(neispravan2);
                        std::cout&lt;&lt;"Stan je uspjesno izmijenjen!"&lt;&lt;std::endl;
                    }//izmjena kvadrature
                    if(broj==6){
                        bool neispravan2;
                        do{
                        neispravan2=false;
                        std::string adresa;
                        int sp,so,nam;
                        double kv;
                        std::cout&lt;&lt;"Unesite adresu: ";
                        std::getline(std::cin,adresa);
                        std::cout&lt;&lt;"Unesite sprat: ";
                        std::cin&gt;&gt;sp;
                        std::cout&lt;&lt;"Unesite broj soba: ";
                        std::cin&gt;&gt;so;
                        std::cout&lt;&lt;"Da li je stan namjesten (1 - da, 0 - ne): ";
                        std::cin&gt;&gt;nam;
                        std::cout&lt;&lt;"Unesite kvadraturu: ";
                        std::cin&gt;&gt;kv;
                        try{
                            if(nam!=1&amp;&amp;nam!=0)
                                throw std::domain_error("Neispravan unos podataka");
                            stanovi[s_opcija-1]=Stan(adresa,sp,so,nam,kv);
                        }
                        catch(std::domain_error e){
                            std::cout&lt;&lt;"Izutetak: "&lt;&lt;e.what()&lt;&lt;". Molimo unesite opet."&lt;&lt;std::endl;
                            neispravan2=true;
                            std::cin.ignore(100,'\n');
                        }}
                        while(neispravan2);
                        std::cout&lt;&lt;"Stan je uspjesno izmijenjen!"&lt;&lt;std::endl;
                    }
                }//izmjene
                if(opcija_za_stan==3){
<a name="11"></a><font color="#00FF00"><a href="match283-1.html#11" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_0.gif"/></a>

                    for(int i=0;i&lt;stanovi.size();i++){
                        std::cout&lt;&lt;i+1&lt;&lt;". "; stanovi[i].Ispisi();std::cout&lt;&lt;std::endl;
</font>                    }
                }//
                if(opcija_za_stan==4){std::cout&lt;&lt;"Dovidjenja!"; return 0;}
            }
            
        }//stanovi
        if(opcija==2){
            int opcija_za_kupce;
            for( ; ; ){
                
                std::cout&lt;&lt;"Izaberite opciju:\n 0 - nazad\n 1 - dodavanje kupca\n 2 - uredjivanje kupaca\n 3 - ispis svih kupaca\n 4 - kraj"&lt;&lt;std::endl;
                std::cin&gt;&gt;opcija_za_kupce;
                std::cin.ignore();
                if(opcija_za_kupce==0) break;
                if(opcija_za_kupce==1){
                    bool neispravan;
                    do{
                    neispravan=false;
                    std::string ime;
                    int d,m,g;
                    char znak;
                    std::cout&lt;&lt;"Unesite ime i prezime kupca: ";
                    std::getline(std::cin,ime);
<a name="4"></a><font color="#FF00FF"><a href="match283-1.html#4" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_0.gif"/></a>

                    std::cout&lt;&lt;"Unesite datum rodjenja (formata d/m/g): ";
                    std::cin&gt;&gt;d&gt;&gt;znak&gt;&gt;m&gt;&gt;znak&gt;&gt;g;
                    try{
                        Kupac kup(ime,Datum(d,m,g));
                        kupci.push_back(kup);
                    }
                    catch(std::domain_error e){
</font>                        std::cout&lt;&lt;"Izuzetak: "&lt;&lt;e.what()&lt;&lt;". Molimo unesite opet."&lt;&lt;std::endl;
                        neispravan=true;
                        std::cin.ignore();
                    }
                    }
                    while(neispravan);
                    std::cout&lt;&lt;"Kupac je uspjesno dodan!"&lt;&lt;std::endl;
                }//dodavanje kupca
                if(opcija_za_kupce==2){
                    std::cout&lt;&lt;"Odaberite kupca kojeg zelite urediti. Dostupni kupci su: "&lt;&lt;std::endl;
                    for(int i=0;i&lt;kupci.size();i++){
                        std::cout&lt;&lt;" "&lt;&lt;i+1&lt;&lt;" - ";kupci[i].Ispisi(); std::cout&lt;&lt;std::endl;
                    }
                    int opc;
                    std::cin&gt;&gt;opc;
                    std::cin.ignore();
                    bool neispravan;
                    do{
                        std::string ipk;
                        int dd,mm,gg;
                        char z;
                        neispravan=false;
                        std::cout&lt;&lt;"Unesite ime i prezime kupca: ";
                        std::getline(std::cin,ipk);
                        std::cout&lt;&lt;"Unesite datum rodjenja (formata d/m/g): ";
                        std::cin&gt;&gt;dd&gt;&gt;z&gt;&gt;mm&gt;&gt;z&gt;&gt;gg;
                        try{kupci[opc-1]=Kupac(ipk,Datum(dd,mm,gg));}
                        catch(std::domain_error e){
                            std::cout&lt;&lt;"Izuzetak: "&lt;&lt;e.what()&lt;&lt;". Molimo unesite opet."&lt;&lt;std::endl;
                            neispravan=true;
                            std::cin.ignore();
                        }
                    }
                    while(neispravan);
                    std::cout&lt;&lt;"Kupac je uspjesno izmijenjen!"&lt;&lt;std::endl;
                }//uredjivanje kupaca
                if(opcija_za_kupce==3){
                    for(int i=0;i&lt;kupci.size();i++){
                      kupci[i].Ispisi(); std::cout&lt;&lt;std::endl;
                    }
                }//ispisivanje kupca
                if(opcija_za_kupce==4){std::cout&lt;&lt;"Dovidjenja!"; return 0;}
                
            }
        }//kupci
        if(opcija==3){
            
            int opcija_za_prodaju;
            for( ; ; ){
                std::cout&lt;&lt;"Izaberite opciju:\n 0 - nazad\n 1 - dodavanje prodaje\n 2 - uredjivanje prodaje\n 3 - ispis prodaja\n 4 - brisanje prodaja\n 5 - kraj"&lt;&lt;std::endl;
                        std::cin&gt;&gt;opcija_za_prodaju;
                        if(opcija_za_prodaju==0) break;
                        if(opcija_za_prodaju==5){
                            std::cout&lt;&lt;"Dovidjenja!"; return 0;
                        }
                        if(opcija_za_prodaju==1){
                            int opcija_za_dodavanje;
                            for( ; ; ){
                                std::cout&lt;&lt;"Izaberite opciju:\n 0 - nazad\n 1 - dodavanje potpuno nove prodaje\n 2 - dodavanje nove prodaje na osnovu arhive\n 3 - kraj"&lt;&lt;std::endl;
                                std::cin&gt;&gt;opcija_za_dodavanje;
                                if(opcija_za_dodavanje==0) break;
                                if(opcija_za_dodavanje==3){std::cout&lt;&lt;"Dovidjenja!"; return 0;}
                                if(opcija_za_dodavanje==1){
                                    bool neispravan;
                                    
                                    
                                    do{
                                        neispravan=false;
                                        try{std::string ime_agenta;
                                        std::cin.ignore();
                                        std::cout&lt;&lt;"Unesite ime i prezime agenta prodaje: ";
                                        std::getline(std::cin,ime_agenta);
                                        int dp,mp,gp;
                                        char znak;
                                        double cijena,kvad;
                                        std::cout&lt;&lt;"Unesite datum prodaje (formata d/m/g): ";
                                        std::cin&gt;&gt;dp&gt;&gt;znak&gt;&gt;mp&gt;&gt;znak&gt;&gt;gp;
                                        std::cout&lt;&lt;"Unesite cijenu stana: ";
                                        std::cin&gt;&gt;cijena;
                                        std::cin.ignore();
                                        std::string imek,adresa;
                                        int dk,mk,gk,spr,sob,nam;
                                        std::cout&lt;&lt;"Unesite ime kupca: ";
                                        std::getline(std::cin,imek);
                                        std::cout&lt;&lt;"Unesite datum rodjenja kupca (formata d/m/g): ";
                                        std::cin&gt;&gt;dk&gt;&gt;znak&gt;&gt;mk&gt;&gt;znak&gt;&gt;gk;
                                        std::cin.ignore();
                                        std::cout&lt;&lt;"Unesite adresu: ";
                                        std::getline(std::cin,adresa);
                                        std::cout&lt;&lt;"Unesite sprat: ";
                                        std::cin&gt;&gt;spr;
                                        std::cout&lt;&lt;"Unesite broj soba: ";
<a name="15"></a><font color="#FF0000"><a href="match283-1.html#15" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_0.gif"/></a>

                                        std::cin&gt;&gt;sob;
                                        std::cout&lt;&lt;"Da li je stan namjesten (1 - da, 0 - ne): ";
                                        std::cin&gt;&gt;nam;
                                        std::cout&lt;&lt;"Unesite kvadraturu: ";
                                        std::cin&gt;&gt;kvad;
                                        if(nam!=1&amp;&amp;nam!=0)
</font>                                            throw std::domain_error("Neispravan unos podataka");
                                        prodaje.RegistrirajProdaju(ime_agenta,cijena,{dp,mp,gp},{imek,{dk,mk,gk}},{adresa,spr,sob,bool(nam),kvad});
                                        kupci.push_back({imek,{dk,mk,gk}});
                                        stanovi.push_back({adresa,spr,sob,bool(nam),kvad});
                                        }
                                        catch(std::domain_error e){std::cout&lt;&lt;"Izuzetak: "&lt;&lt;e.what()&lt;&lt;". Molimo unesite ponovo."&lt;&lt;std::endl;
                                            neispravan=true;
                                        }
                                    }
                                    while(neispravan);
                                    
                                    std::cout&lt;&lt;"Prodaja uspjesno dodana!"&lt;&lt;std::endl;
                                }
                                if(opcija_za_dodavanje==2){
                                    std::string agent;
                                    std::cin.ignore();
                                    std::cout&lt;&lt;"Unesite ime i prezime agenta prodaje: ";
                                    std::getline(std::cin,agent);
                                    int d,m,g;
                                    char z;
                                    std::cout&lt;&lt;"Unesite datum prodaje (formata d/m/g): ";
                                    std::cin&gt;&gt;d&gt;&gt;z&gt;&gt;m&gt;&gt;z&gt;&gt;g;
                                    double cijena3;
                                    std::cout&lt;&lt;"Unesite cijenu stana: ";
                                    std::cin&gt;&gt;cijena3;
                                    std::cout&lt;&lt;"Odaberite kupca. Dostupni kupci su:"&lt;&lt;std::endl;
                                
                                    for(int i=0;i&lt;kupci.size();i++){
                                        std::cout&lt;&lt;" "&lt;&lt;i+1&lt;&lt;" - "; kupci[i].Ispisi(); std::cout&lt;&lt;std::endl;
                        
                                    }
                                    int op;
                                    std::cin&gt;&gt;op;
                                    Kupac k=kupci[op-1];
                                    std::cout&lt;&lt;"Odaberite stan. Dostupni stanovi su:"&lt;&lt;std::endl;
                                    for(int i=0;i&lt;stanovi.size();i++){
                                        std::cout&lt;&lt;" "&lt;&lt;i+1&lt;&lt;" - ";stanovi[i].Ispisi(); std::cout&lt;&lt;std::endl;
                                    }
        
                                    std::cin&gt;&gt;op;
                                    Stan s=stanovi[op-1];
                                   prodaje.RegistrirajProdaju(agent,cijena3,{d,m,g},k,s);
                                   std::cout&lt;&lt;"Prodaja uspjesno dodana!"&lt;&lt;std::endl;
                                }
                                
                            }}//dodavanje
                        if(opcija_za_prodaju==3){
                            int opcija_za_ispis;
                            for (;;){
                            std::cout&lt;&lt;"\nIzaberite opciju:\n 0 - nazad\n 1 - ispis svih prodaja\n 2 - ispis prodaja na datum\n"
                            &lt;&lt;" 3 - ispis najranije prodaje\n 4 - ispis najskuplje prodaje\n 5 - ispis broja prodaja\n"
                            &lt;&lt;" 6 - ispis broja prodaja po datumu\n 7 - ispis broja prodaja po agentu\n 8 - kraj"&lt;&lt;std::endl;
                            std::cin&gt;&gt;opcija_za_ispis;
                            if(opcija_za_ispis==0) break;
                            if(opcija_za_ispis==8){std::cout&lt;&lt;"Dovidjenja!";return 0;}
                            if(opcija_za_ispis==1){
                                prodaje.IspisiSveProdaje();
                            }//sve prodaje
                            if(opcija_za_ispis==3){
                                try{prodaje.DajNajranijuProdaju().Ispisi();}
                                catch(std::domain_error e){
                                    std::cout&lt;&lt;"Izuzetak: "&lt;&lt;e.what()&lt;&lt;std::endl;
                                }
                                
                            }
                            if(opcija_za_ispis==4){
                                
                                try{prodaje.DajNajskupljuProdaju().Ispisi();}
                                catch(std::domain_error e){
                                    std::cout&lt;&lt;"Izuzetak: "&lt;&lt;e.what()&lt;&lt;std::endl;
                                }
                                
                            }
                            if(opcija_za_ispis==2){
                                std::cout&lt;&lt;"Unesite datum (d/m/g): ";
                                int d,m,g;
                                char z;
                                std::cin&gt;&gt;d&gt;&gt;z&gt;&gt;m&gt;&gt;z&gt;&gt;g;
                                prodaje.IspisiProdajeNaDatum({d,m,g});
                            }
                            if(opcija_za_ispis==5){std::cout&lt;&lt;prodaje.DajBrojProdaja();}
                            if(opcija_za_ispis==6){
                            std::cout&lt;&lt;"Unesite datum (d/m/g): ";
<a name="14"></a><font color="#FF00FF"><a href="match283-1.html#14" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_0.gif"/></a>

                            int d,m,g,z;
                            std::cin&gt;&gt;d&gt;&gt;z&gt;&gt;m&gt;&gt;z&gt;&gt;g;
                            std::cout&lt;&lt;"Broj prodaja na uneseni datum: "&lt;&lt;prodaje.DajBrojProdajaNaDatum({d,m,g});}
</font>                            if(opcija_za_ispis==7){
                                std::cin.ignore();
                                std::string agent;
                                std::cout&lt;&lt;"Unesite ime agenta: ";
                                std::getline(std::cin,agent);
                                std::cout&lt;&lt;"Broj prodaja: "&lt;&lt;prodaje.DajBrojProdajaOdAgenta(agent);
                            }
                            }
                        }//ispis
                        if(opcija_za_prodaju==4){
                            int opcija_za_brisanje;
                            for( ; ; ){
                                std::cout&lt;&lt;"Izaberite opciju:\n 0 - nazad\n 1 - brisanje najranije prodaje\n"
                                &lt;&lt;" 2 - brisanje prodaja agenta\n 3 - brisanje prodaja po datumu\n 4 - brisanje svih prodaja"&lt;&lt;std::endl;
                                std::cin&gt;&gt;opcija_za_brisanje;
                                if(opcija_za_brisanje==0) break;
                                if(opcija_za_brisanje==1){
                                    try{prodaje.ObrisiNajranijuProdaju();}
                                    catch(std::range_error e){
                                        std::cout&lt;&lt;"Izuzetak: "&lt;&lt;e.what()&lt;&lt;std::endl;
                                    }
                                }//najranija
                                if(opcija_za_brisanje==4){prodaje.IsprazniKolekciju();}
                                if(opcija_za_brisanje==3){
                                    std::cout&lt;&lt;"Unesite datum (d/m/g): ";
                                    int d,m,g,z;
                                    std::cin&gt;&gt;d&gt;&gt;z&gt;&gt;m&gt;&gt;z&gt;&gt;g;
                                    prodaje.ObrisiProdajeNaDatum({d,m,g});
                                    std::cout&lt;&lt;"Sve prodaje na taj datum su obrisane."&lt;&lt;std::endl;
                                }
                                if(opcija_za_brisanje==2){
                                    std::cin.ignore();
                                    std::cout&lt;&lt;"Unesite ime agenta: ";
                                    std::string agent;
                                    prodaje.ObrisiProdajeAgenta(agent);
                                    std::cout&lt;&lt;"Sve prodaje tog agenta su obrisane."&lt;&lt;std::endl;
                                }
                                
                            }
                        }//brisanje
                        if(opcija_za_prodaju==2){
                            
                            std::cout&lt;&lt;"Odaberite prodaju koju želite urediti. Dostupne prodaje su:"&lt;&lt;std::endl;
                            
                            for(int i=1;i&lt;=prodaje.DajBrojProdaja();i++){
                                std::cout&lt;&lt;i&lt;&lt;"."&lt;&lt;std::endl;
                                prodaje.DajProdaju(i).Ispisi();
                                std::cout&lt;&lt;std::endl;
                            }
                            int prodaja;
                            std::cin&gt;&gt;prodaja;
                            std::cout&lt;&lt;"Izaberite opciju:\n 0 - nazad\n 1 - izmjena agenta\n 2 - izmjena datuma prodaje\n 3 - izmjena kupca"
<a name="7"></a><font color="#0000FF"><a href="match283-1.html#7" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_0.gif"/></a>

                            &lt;&lt;"\n 4 - izmjena stana\n 5 - izmjena cijene stana"&lt;&lt;std::endl;
                            int opcija_za_izmjenu;
                            std::cin&gt;&gt;opcija_za_izmjenu;
                            if(opcija_za_izmjenu==0) break;
                            if(opcija_za_izmjenu==3){
                                std::cout&lt;&lt;"Izaberite opciju:\n 0 - nazad\n 1 - odabir postojeceg kupca\n 2 - dodavanje novog kupca"&lt;&lt;std::endl;
</font>                                int kopcija;
                                std::cin&gt;&gt;kopcija;
                                if(kopcija==0) break;
                                if(kopcija==1){
                                    std::cout&lt;&lt;"Odaberite kupca. Dostupni kupci su:"&lt;&lt;std::endl;
                                    for(int i=0;i&lt;kupci.size();i++){
                                        std::cout&lt;&lt;" "&lt;&lt;i+1&lt;&lt;" - ";kupci[i].Ispisi(); std::cout&lt;&lt;std::endl;
                                    }
<a name="12"></a><font color="#0000FF"><a href="match283-1.html#12" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_0.gif"/></a>

                                    int kpc;
                                    std::cin&gt;&gt;kpc;
                                    prodaje.DajProdaju(prodaja).PromijeniKupca(kupci[kpc-1]);
                                    std::cout&lt;&lt;"Prodaja je uspjesno izmijenjena!"&lt;&lt;std::endl;
</font>                                
                                }//postojeci kupac
                                if(kopcija==2){
                                    bool neispravan;
                                    do{
                                        try{neispravan=false;
                                        std::cin.ignore();
                                        std::cout&lt;&lt;"Unesite ime i prezime kupca: ";
                                        std::string kk;
                                        std::getline(std::cin,kk);
                                        std::cout&lt;&lt;"Unesite datum rodjenja (formata d/m/g): ";
                                        int d,m,g;
                                        char z;
                                        std::cin&gt;&gt;d&gt;&gt;z&gt;&gt;m&gt;&gt;z&gt;&gt;g;
                                            prodaje.DajProdaju(prodaja).PromijeniKupca({kk,{d,m,g}});
                                        }
                                        catch(std::domain_error e){
                                            std::cout&lt;&lt;"Izuzetak: "&lt;&lt;e.what()&lt;&lt;". Molimo unesite ponovo."&lt;&lt;std::endl;
                                            neispravan=true;
                                        }
                                    }
                                    while(neispravan);
                                    std::cout&lt;&lt;"Prodaja je uspjesno izmijenjena!"&lt;&lt;std::endl;
                                }//novi kupac
                            }//kupac
                            if(opcija_za_izmjenu==4){
<a name="20"></a><font color="#FF0000"><a href="match283-1.html#20" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_0.gif"/></a>

                                std::cout&lt;&lt;"Izaberite opciju:\n 0 - nazad\n 1 - odabir postojeceg stana\n 2 - dodavanje novog stana"&lt;&lt;std::endl;
                                int sopcija;
                                std::cin&gt;&gt;sopcija;
                                if(sopcija==0) break;
                                if(sopcija==1){
</font>                                    std::cout&lt;&lt;"Odaberite stan. Dostupni stanovi su:"&lt;&lt;std::endl;
                                    for(int i=0;i&lt;stanovi.size();i++){
                                        std::cout&lt;&lt;" "&lt;&lt;i+1&lt;&lt;" - ";stanovi[i].Ispisi(); std::cout&lt;&lt;std::endl;
                                    }
<a name="13"></a><font color="#00FFFF"><a href="match283-1.html#13" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_0.gif"/></a>

                                    int ss;
                                    std::cin&gt;&gt;ss;
                                    prodaje.DajProdaju(prodaja).PromijeniStan(stanovi[ss-1]);
                                    std::cout&lt;&lt;"Prodaja je uspjesno izmijenjena!"&lt;&lt;std::endl;
</font>                                    
                                }
                                if(sopcija==2){
                                    bool neispravan3;
                                    
                                    do{try{
                                        std::string adr;
                                        int sobb,sprr,namm;
                                        double kvadd;
                                        std::cout&lt;&lt;"Unesite adresu: ";
                                        std::cin.ignore();
                                        std::getline(std::cin,adr);
                                        std::cout&lt;&lt;"Unesite sprat: ";
                                        std::cin&gt;&gt;sprr;
                                        std::cout&lt;&lt;"Unesite broj soba: ";
                                        std::cin&gt;&gt;sobb;
                                        std::cout&lt;&lt;"Da li je stan namjesten(1 - da, 0 - ne): ";
                                        std::cin&gt;&gt;namm;
                                        std::cout&lt;&lt;"Unesite kvadraturu: ";
                                        std::cin&gt;&gt;kvadd;
                                        if(namm!=1&amp;&amp;namm!=0){
                                            throw std::domain_error("Neispravan unos podataka");
                                        }
                                       
                                    }
                                    catch(std::domain_error e){
                                        std::cout&lt;&lt;"Izuzetak: "&lt;&lt;e.what()&lt;&lt;". Molimo unesite ponovo."&lt;&lt;std::endl;
                                        neispravan3=true;
                                    }}
                                    while(neispravan3);
                                }
                            }//stan
                            if(opcija_za_izmjenu==5){
                                std::cout&lt;&lt;"Unesite cijenu stana: ";
                                double cij;
                                std::cin&gt;&gt;cij;
                                prodaje.DajProdaju(prodaja).PromijeniCijenuProdaje(cij);
                                std::cout&lt;&lt;"Prodaja je uspjesno izmijenjena!"&lt;&lt;std::endl;
                                
                            }//cijena
                            if(opcija_za_izmjenu==1){
                                std::string na;
                                std::cout&lt;&lt;"Unesite ime i prezime agenta prodaje: ";
                                std::cin.ignore();
                                std::getline(std::cin,na);
                                prodaje.DajProdaju(prodaja).PromijeniAgenta(na);
                                std::cout&lt;&lt;"Prodaja je uspjesno izmijenjena!"&lt;&lt;std::endl;
                            }//kupac
                            if(opcija_za_izmjenu==2){
                                bool neispravan3;
                                do{neispravan3=false;
                                    try{int dd,mm,gg;
                                    char zz;
                                    std::cout&lt;&lt;"Unesite datum prodaje (formata d/m/g): ";
<a name="5"></a><font color="#FF0000"><a href="match283-1.html#5" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_0.gif"/></a>

                                    std::cin&gt;&gt;dd&gt;&gt;zz&gt;&gt;mm&gt;&gt;zz&gt;&gt;gg;
                                        prodaje.DajProdaju(prodaja).PromijeniDatumKupovine(Datum(dd,mm,gg));
                                        std::cout&lt;&lt;"Prodaja je uspjesno izmijenjena!"&lt;&lt;std::endl;
</font>                                    }
                                    catch(std::domain_error e){std::cout&lt;&lt;"Izuzetak: "&lt;&lt;e.what()&lt;&lt;". Molimo unesite ponovo."&lt;&lt;std::endl;
                                        neispravan3=true;
                                    }
                                    
                                }
                                while(neispravan3);
                            }
                            
                            
                        }
            
            }
        } 
        
    }   
        
    std::cout&lt;&lt;std::endl&lt;&lt;std::endl&lt;&lt;"Dovidjenja!";
    
    

return 0;
}</pre>
</body>
</html>
