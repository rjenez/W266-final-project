<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/A2017/Z4/Z1/student1828.c</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/A2017/Z4/Z1/student8747.c<p></p><pre>
#include &lt;stdio.h&gt;
#include &lt;math.h&gt;
#include &lt;ctype.h&gt;

<a name="0"></a><font color="#FF0000"><a href="match19-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_98.gif"/></a>

int PrebrojRijeci(char* s)
{
    char Temp=' ';
    int BrojRijeci=0;
    while(*s) {
        if(isspace(Temp) &amp;&amp; !isspace(*s)) {
            BrojRijeci++;
        }
        Temp=*s++;
    }
    return BrojRijeci;
}

void SrediRazmake(char* s)
{
    char* q=s;
    char* p=s;
    int Razmak=0;
    while(*q!=0) {
        if(*q!=' ') {
            break;
        }
        q++;
    }
    while(*q!='\0') {
        if(*q==' ' &amp;&amp; *(q+1)==' ' &amp;&amp; *(q+2)!=' ' ) {
            Razmak++;
            p=q+1;
            while(*(p+1)!='\0') {
                *p=*(p+1);
                p++;
            }
        }
        q++;
        if(*q=='\0' &amp;&amp; Razmak==0) {
            return;
        }
    }
    q=s;
    while(*q!='\0') {
        q++;
    }
    if(*(q-Razmak+1)==*(q-Razmak) &amp;&amp; *(q-Razmak)!=' ' &amp;&amp; Razmak!=0) {
        *(q-Razmak)='\0';
    } else {
        *(q-Razmak+1)='\0';
    }
}

char* ubaci_broj (char* tekst, int broj)
{
    char* p=tekst;
    int SigurnosniBroj=0;
    int x=fabs(broj);
    int Clanovi=0;
    int BrojacClanova=1;
    int BrojRijeci;
    SrediRazmake(tekst);
    BrojRijeci=PrebrojRijeci(p);
    if (BrojRijeci==0) {
        return tekst;
    }
    Clanovi=fabs(broj);
    if(broj&lt;0) {
        BrojacClanova=2;
    }
    while(Clanovi!=0 || Clanovi!=-0) {
        Clanovi=Clanovi/10;
        BrojacClanova++;
    }
    SigurnosniBroj=BrojacClanova;
    char* r=tekst;
    while(*r!='\0') {
        r++;
    }
    int Rbrojac=0;
    while(*r==' ') {
        r--;
        Rbrojac++;
    }
    r=r+Rbrojac;
    while(*p!='\0' &amp;&amp; BrojRijeci-1!=0) {
        x=fabs(broj);
        char*q =tekst;
        BrojacClanova=SigurnosniBroj;
        if(*p!=' ' &amp;&amp; *(p+1)==' ' &amp;&amp; *p!=(x%10)+48 ) {
            while(*q!='\0') {
                q++;
            }
            while(q&gt;p) {
                *(q+BrojacClanova)=*q;
                q--;
            }
            while((BrojacClanova)!=0) {
                if(BrojacClanova==1 &amp;&amp; broj&lt;0) {
                    *(p+BrojacClanova+1)='-';
                } else if(BrojacClanova!=SigurnosniBroj) {
                    if (broj&lt;0) {
                        *(p+BrojacClanova+1)=(x%10)+48;
                    }
                    if(broj&gt;0 ) {
                        *(p+BrojacClanova+1)=(x%10)+48;
                    }
                    x=x/10;
                }
                BrojacClanova--;
            }
            BrojRijeci--;

        }
        p++;
    }

    return tekst;
}

int main()
{
    char s[12] = "hello.world";
    char s2[4] = "Sajam glupih mornara ";
    printf("\"%s\"\n", ubaci_broj(s, 263745));
    printf("\"%s\"", ubaci_broj(s2, 2734));
</font>    return 0;
}</pre>
</body>
</html>
