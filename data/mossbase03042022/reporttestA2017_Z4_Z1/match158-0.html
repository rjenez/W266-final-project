<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/A2017/Z4/Z1/student2916.c</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/A2017/Z4/Z1/student2916.c<p></p><pre>
#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;math.h&gt;

<a name="0"></a><font color="#FF0000"><a href="match158-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_98.gif"/></a>

int broj_cifara (int br)
{
	int n=0,predznak,br_abs=abs(br);
	if (br&lt;0) predznak=-1;
	else predznak=1;
	while (br_abs!=0)
	{
		br_abs/=10;
		n++;
	}
	if (predznak==-1) n++;
	return n;
}

int obrni (int n)
{
	int reverse=0;
	while (n!=0)
	{
	  reverse=reverse*10;
	  reverse=reverse+n%10;
	  n=n/10;
	}
	return reverse;
}

char * ubaci_broj (char * tekst, int broj)
{
	char * ret = tekst;
	int mjesta=broj_cifara(broj)+1,cifra;
	int test=1;
	char cifra_str='\0';
	char * temp1='\0';
	char * temp2='\0';
	char * pocetakslova='\0';
	int broj_temp=abs(broj),i;
	broj_temp=obrni(broj_temp);
	int predznak;
	if (broj&gt;0) predznak=1;
	else predznak=-1;


	while (*tekst == ' ')
	{
		tekst++;
	}

	while (*tekst != '\0')
	{
		if (*tekst==' ' &amp;&amp; tekst!=ret &amp;&amp; *(tekst-1)&gt;='9')
		{

			temp1=tekst;
			temp2=tekst;

			while (*temp1!='\0')
			{
				temp1++;
			}

			temp1=temp1+mjesta;

			while (*(tekst)==' ')
            {
                tekst++;
                temp2++;
            }


			while (temp1!=tekst)
			{
				*temp1=*(temp1-mjesta);
				temp1--;
			}


			broj_temp=abs(broj);
			broj_temp=obrni(broj_temp);
			test=1;
			for (i=0; i&lt;mjesta-1; i++)
			{
				cifra=broj_temp%10;
				broj_temp/=10;
				cifra_str=cifra+'0';
				if (predznak==-1 &amp;&amp; test)
				{
					*temp2='-';
					test=0;
					temp2++;
				}
				*temp2=cifra_str;
				temp2++;
				if (predznak==-1 &amp;&amp; i==mjesta-3) break;
			}
		}
		tekst++;
	}
	return ret;
}

int main ()
{
	char s[77] = "Ovdje  izmedju    rijeci ima      po nekoliko   razmaka";
	printf("\"%s\"", ubaci_broj(s, 320));
</font>
	return 0;
}</pre>
</body>
</html>
