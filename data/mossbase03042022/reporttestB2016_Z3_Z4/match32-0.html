<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z4/student6303.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z4/student6303.cpp<p></p><pre>
<a name="0"></a><font color="#FF0000"><a href="match32-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_99.gif"/></a>

/B2016/2017: ZadaÄ‡a 3, Zadatak 4
#include &lt;iostream&gt;
#include &lt;list&gt;
#include &lt;set&gt;
#include &lt;string&gt;
#include &lt;cstring&gt;
#include &lt;vector&gt;
#include &lt;stdexcept&gt;

using namespace std;

void prebroj(int &amp;slova, string s)
{
    slova=0;
    for(int i=0; i&lt;s.size(); i++)
        if((s[i]&gt;='0'&amp;&amp;s[i]&lt;='9')||(tolower(s[i])&gt;='a'&amp;&amp;tolower(s[i])&lt;='z')) slova++;
    slova--;
}

vector&lt;set&lt;string&gt;&gt; Razvrstavanje(vector&lt;string&gt; v, int n)
{
    list&lt;string&gt; djeca;
    vector&lt;set&lt;string&gt;&gt; timovi;
    if(v.size()&lt;n || 1&gt;n) throw logic_error("Razvrstavanje nemoguce");
    for(int i=0; i&lt;v.size(); i++) djeca.push_back(v[i]);
    int slova;
    auto it=djeca.begin();
    int jednom=1;
    if(n==v.size())
    {
        for(auto x:djeca) { set&lt;string&gt; s; s.insert(x); timovi.push_back(s);}
        return timovi;
    }
    bool jest=false;
    for(int i=0; i&lt;v.size()%n; i++)
    {
        set&lt;string&gt; s;
        jest=true;
        if(i==0) {prebroj(slova,*it);}
        //if(i==0) { skup.insert(*djeca.begin()); it=djeca.erase(it); a--; brs--;}
        for(int j=0; j&lt;(v.size()/n)+1; j++)
        {
            if(i==0 &amp;&amp; jednom==1) { jednom=0; s.insert(*it); it=djeca.erase(it); j++; }
            while(slova&gt;0) 
            { 
               it++;
               slova--;
               if(it==djeca.end()) it=djeca.begin();
            }
            prebroj(slova,*it);
            s.insert(*it);
            it=djeca.erase(it);
            if(it==djeca.end()) it=djeca.begin();
        }
        timovi.push_back(s);
    }
    int hel=9999;
    if(jest) hel=slova;
    
    for(int i=0; i&lt;n-v.size()%n; i++)
    {
        set&lt;string&gt; s;
        if(hel!=9999 &amp;&amp; i==0) { slova=hel; hel=9999;}
        else if(i==0) prebroj(slova,*it);
        //if(i==0 &amp;&amp; jednom==1) { jednom=0; skup.insert(*djeca.begin()); it=djeca.erase(it); a--; brs--;}
        for(int j=0; j&lt;(v.size()/n); j++)
        {
            if(i==0 &amp;&amp; jednom==1) { jednom=0; s.insert(*it); it=djeca.erase(it); if(n!=v.size())j++; }
            while(slova!=0) 
            { 
               it++;
               slova--;
               if(it==djeca.end()) it=djeca.begin();
            }
            prebroj(slova,*it);
            s.insert(*it);
            it=djeca.erase(it);
            if(it==djeca.end()) it=djeca.begin();
        }
        timovi.push_back(s);
    }
    return timovi;
}

void Ispisi(vector&lt;set&lt;string&gt;&gt; timovi)
{
    try
    {
        for(int i=0; i&lt;timovi.size(); i++)
        {
            cout&lt;&lt;"Tim "&lt;&lt;i+1&lt;&lt;": ";
            auto cl=timovi[i].size()-1;
            for(auto it: timovi[i])
            {
                if(cl==0) cout&lt;&lt;it;
                else cout&lt;&lt;it&lt;&lt;", ";
                cl--;
            }
            cout&lt;&lt;endl;
        }
    }
    catch(logic_error izuz) {throw izuz;}
}

int main ()
{
	cout&lt;&lt;"Unesite broj djece: ";
	int br; cin&gt;&gt;br;
	vector&lt;string&gt; djeca; 
	cout&lt;&lt;"Unesite imena djece: "&lt;&lt;endl;
	cin.clear(); cin.ignore(100000, '\n');
	for(int i=0; i&lt;br; i++) { string p; getline(cin,p); djeca.push_back(p);}
	int brt;
	cout&lt;&lt;"Unesite broj timova: ";
	cin&gt;&gt;brt;
	try
	{
	    vector&lt;set&lt;string&gt;&gt; timovi=Razvrstavanje(djeca,brt);
	    Ispisi(timovi);
	    return 0;
	}
	catch(logic_error izuz) {cout&lt;&lt;"Izuzetak: "&lt;&lt;izuz.what();}
	return 0;
</font>}</pre>
</body>
</html>
