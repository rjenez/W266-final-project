<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z4/student7125.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z4/student4682.cpp<p></p><pre>
/B2016/2017: Zadaća 3, Zadatak 4
#include &lt;iostream&gt;
#include &lt;vector&gt;
#include &lt;string&gt;
#include &lt;list&gt;
#include &lt;set&gt;
#include &lt;stdexcept&gt;

<a name="0"></a><font color="#FF0000"><a href="match65-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_96.gif"/></a>

std::vector&lt;std::set&lt;std::string&gt;&gt; Razvrstavanje(std::vector&lt;std::string&gt; ulaz, int br);
bool jestotreba(char &amp;p);
int prebroj(std::string unos);
int main ()
{
    try {
        std::cout&lt;&lt;"Unesite broj djece: ";
        int n;
        std::cin&gt;&gt;n;
        std::cout&lt;&lt;"Unesite imena djece: ";
        std::vector&lt;std::string&gt; imena(n);
        std::cin.ignore(10000, '\n');
        for(int i(0); i &lt; n; i++)
            std::getline(std::cin,imena[i]);

        std::cout&lt;&lt;std::endl&lt;&lt;"Unesite broj timova: ";
        std::cin&gt;&gt;n;

        auto timovi(Razvrstavanje(imena,n));
        for(int i(0); i &lt; n; i++) {
            std::cout&lt;&lt;"Tim "&lt;&lt;i+1&lt;&lt;": ";
            for(auto it(timovi[i].begin()); it != timovi[i].end(); it++) {
                auto it2(timovi[i].end());
                if(it != --it2)
                    std::cout&lt;&lt;*it&lt;&lt;", ";
                else std::cout&lt;&lt;*it;
            }
            std::cout&lt;&lt;std::endl;
        }
    } catch(std::logic_error error) {
        std::cout&lt;&lt;"Izuzetak: "&lt;&lt;error.what();
    }

    return 0;
}

std::vector&lt;std::set&lt;std::string&gt;&gt; Razvrstavanje(std::vector&lt;std::string&gt; ulaz, int br)
{
    if(br &lt; 1 || br &gt; ulaz.size()) throw std::logic_error("Razvrstavanje nemoguce");
    std::list&lt;std::string&gt; djeca; //(beskorisna informacija) da radi đ stavio bih ime đeca
    //kreiraj listu
    for(auto &amp;x: ulaz)
        djeca.push_back(x);

    //kreiraj timove i pomocne varijable da se neke stvari ne racunaju više puta u petlji(br članova tima i koliko prvih timova će imati viška člana)
    std::vector&lt;std::set&lt;std::string&gt;&gt; tim(br);
    int i(0),duz1(ulaz.size()/br+1),duz2(ulaz.size()/br),rbrtima(ulaz.size()%br);
    
    //jedan iterator da ide kroz listu, drugi da briše elemenat koji nam ne treba
    auto it(djeca.begin()), it2(djeca.begin());
    //vrti petlji dok lista en bude prazna
    while(djeca.begin() != djeca.end()) {
        tim.resize(i+1);
        if(tim.size() &lt;= rbrtima)   //unesi prvih nekoliko timova
            while(tim[i].size() &lt; duz1) {
                
                //pomocne varijable, q je broj karaktera nekog imena
                int p(0),q(prebroj(*it));
                //ubaci u tim i postavi it2 na onaj objekat koji treba izbaciti iz liste
                tim[i].insert(*(it2 = it));
                while(p &lt; q) {
                    p++;
                    //kreci se kroz listu
                    it++;
                    //s obzirom da se nije desilo izbacivanje ako naleti na isto dijete samo neka ga preskoci
                    if (it == it2)
                        it++;
                    //ako je došlo do kraja vrati na početak
                    if(it == djeca.end()){
                        it = djeca.begin();
                        //ako je prvi objekat dijete koje je trebalo biti izbačeno a while petlja se prekida neće imati priliku preskočiti onog što ne treba
                        //pa to radimo ovdje
                        if(it == it2)
                            it++;
                    }
                }
                //obriši
                djeca.erase(it2);
                
                //ako nema više djece prekini petlju
                if (djeca.size() == 0)
                    break;
            }

        else {
            //unesi ostale timove
            //isto se ponaša kao i za prve timove, jedina razlika je u veličini tima
            while(tim[i].size() &lt; duz2) {
                int p(0),q(prebroj(*it));
                tim[i].insert(*(it2 = it));
                while(p &lt; q) {
                    p++;
                    it++;
                    if(it == it2)
                        it++;

                    if(it == djeca.end()) {
                        it = djeca.begin();
                        if(it == it2)
                            it++;
                    }

                }
                djeca.erase(it2);
                if (djeca.size() == 0)
                    break;
            }
        }
        i++;
    }
    return tim;
}

bool jestotreba(char &amp;p)
{
    //vrati true ako je karakter onaj koji nam treba
    if ((p &gt;= 'a' &amp;&amp; p &lt;= 'z') ||(p&gt;= '0' &amp;&amp; p &lt;= '9') ||(p&gt;= 'A' &amp;&amp; p&lt;= 'Z'))
        return true;
    return false;
}
int prebroj(std::string unos)
{
    //prebroj "korisne" karaktere imena
    int br(0);
    for(int i(0); i &lt; unos.length(); i++)
        if(jestotreba(unos[i]))
            br++;
    return br;
</font>}</pre>
</body>
</html>
