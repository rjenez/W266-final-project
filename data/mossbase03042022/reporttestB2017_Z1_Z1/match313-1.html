<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z1/Z1/student5961.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z1/Z1/student7795.cpp<p></p><pre>
#include &lt;iostream&gt;
#include &lt;cmath&gt;
#include &lt;vector&gt;
#include &lt;deque&gt;
#include &lt;limits&gt;
#include &lt;algorithm&gt;

#define BASE 		          3
<a name="0"></a><font color="#FF0000"><a href="match313-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_99.gif"/></a>

using IntArr = std::vector&lt;int&gt;;
using DekArr = std::deque&lt;int&gt;;

/* integer validity */
inline bool isValidNum(const long &amp;num) {
     return ((num &lt;= std::numeric_limits&lt;int&gt;::max()) &amp;&amp; (num &gt;= std::numeric_limits&lt;int&gt;::min()));
}

/* prime check */
bool isPrime(const int &amp;num) {
     /* error check */
     if(std::abs(num) &lt;= 1 || !isValidNum(num)) return false;
     
	for(int i(2); i &lt;= static_cast&lt;int&gt;(std::sqrt(std::abs(num))); ++i)
		if(num % i == 0) return false; 		
		
	return true;
}

/* symmetry check in respect of base / WITH CONVERSION */
bool isSymmetricalinBase3(int num, int base) {
     /* error check */
     if(!isValidNum(num) || (std::abs(num) == 1)) 
          return false;
          
     DekArr digits, digReversed;
     for(;abs(num) &gt; 0;) {
          digits.push_back(std::abs(num) % base);
          digReversed.push_front(std::abs(num) % base);
          num /= base;
     }
     
     return (digits == digReversed);
}

/* check if exists in array */
bool PostojiUNizu(const IntArr &amp;niz, const int &amp;num) {
     for(int i(0); i &lt; niz.size(); ++i) {
          if(niz.at(i) == num) return true;
     }
     return false;
}

/* function to find numbers with specified properties */
IntArr IzdvojiSimetricneTernarne(const IntArr &amp;niz, bool returnPrime) {
	IntArr returnArr;
	
	for(int i(0); i &lt; niz.size(); ++i) 
	     if(isSymmetricalinBase3(niz.at(i), BASE) &amp;&amp; (isPrime(niz.at(i)) == returnPrime) &amp;&amp; 
	          !PostojiUNizu(returnArr, niz.at(i)))
	          returnArr.push_back(niz.at(i));
	          
     return returnArr;
}

/* main function */
int main () {
     IntArr niz;
     int num, type;
     
     /* input (improve checking) */
     std::cout &lt;&lt; "Unesite elemente vektora (-1 za kraj): ";
     for(;;) {
          std::cin &gt;&gt; num;
          /* error check */
          if(!std::cin) {
               std::cin.clear();
               std::cin.ignore(10000, '\n');
          } else {
               if(num == -1) break;
               niz.push_back(num);
          }
     }
     
     /* type */
     std::cout &lt;&lt; "Unesite: 1 - za proste brojeve, 0 - za slozene brojeve: ";
     for(;;) {
          std::cin &gt;&gt; type;
          if((type != 1 &amp;&amp; type != 0) || !std::cin) {
               std::cout &lt;&lt; "Neispravan unos! Unesite ponovo: ";
               if(!std::cin) {
                    std::cin.clear();
                    std::cin.ignore(10000, '\n');
               }
          }
          else break;
     }
     
     /* do the job */
     niz = IzdvojiSimetricneTernarne(niz, type);
     if(niz.empty()) std::cout &lt;&lt; "Nema " &lt;&lt; (type ? "prostih":"slozenih") &lt;&lt; " simetricnih brojeva u vektoru.";
     else {
          std::cout &lt;&lt; (type ? "Prosti":"Slozeni") &lt;&lt; " simetricni brojevi iz vektora su: ";
          for(int i = 0; i &lt; niz.size()-1; (std::cout &lt;&lt; niz.at(i++) &lt;&lt; ", "));
          std::cout &lt;&lt; niz.at((niz.size()-1)) &lt;&lt; ".";
     }
	return 0;
</font>}</pre>
</body>
</html>
