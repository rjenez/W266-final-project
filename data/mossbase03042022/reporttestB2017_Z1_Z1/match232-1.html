<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z1/Z1/student8006.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z1/Z1/student8863.cpp<p></p><pre>
#include &lt;iostream&gt;
#include &lt;vector&gt;
#include &lt;stdexcept&gt;
#include &lt;cmath&gt;

<a name="0"></a><font color="#FF0000"><a href="match232-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_99.gif"/></a>

int Stepen(int x, int n) noexcept {
	if (n == 0) return 1;
	int a(x);
	for (int i = 2; i &lt;= n; i++)
		a *= x;
	return a;
}

int MaxTernarni(int x) {
	int max(0);
	while (abs(x) &gt;= 3) {
		x /= 3;
		max++;
	}
	return max;
}

unsigned long long Ternarni(int x) {
	unsigned long long ter(0);
	int stepen(MaxTernarni(x)), a;
	x = abs(x);
	while (stepen &gt;= 0) {
		a = Stepen(3,stepen);
		ter = ter*10 + x/a;
		if(a &lt;= x) x -= (x/a)*a;
		stepen--;
	}
	return ter;
}

bool Simetrican(unsigned long long x) {
	unsigned long long a(x), b(0);
	while (a != 0) {
		b = b*10 + a%10;
		a /= 10;
	}
	return x == b;
}

bool Prost(int x) {
	for (int i = 2; i &lt;= sqrt(abs(x)); i++)
		if (x % i == 0) return false;
	return true;
}

std::vector&lt;int&gt; IzdvojiSimetricneTernarne(std::vector&lt;int&gt; vekt, bool ps) {
	std::vector&lt;int&gt; novi;
	if (ps) 
		for (int x : vekt) {
			bool isti(false);
			if (Prost(x) &amp;&amp; Simetrican(Ternarni(x)) &amp;&amp; x != 1) {
				for (int y : novi) if (y == x) isti = true;
				if (!isti) novi.push_back(x);
			}
		}
	else
		for (int x : vekt) {
			bool isti(false);
			if (!Prost(x) &amp;&amp; Simetrican(Ternarni(x)) &amp;&amp; x != 1) {
				for (int y : novi) if (y == x) isti = true;
				if (!isti) novi.push_back(x);
			}
		}
	return novi;
}

int main ()
{
	std::vector&lt;int&gt; vekt;
	std::cout &lt;&lt; "Unesite elemente vektora (-1 za kraj): ";
	int a, bul;
	while (std::cin &gt;&gt; a, a != -1) vekt.push_back(a);
	bool ps;
	std::cout &lt;&lt; "Unesite: 1 - za proste brojeve, 0 - za slozene brojeve: ";
	while(std::cin &gt;&gt; bul, bul != 1 &amp;&amp; bul != 0) std::cout &lt;&lt; "Neispravan unos! Unesite ponovo: ";
	ps = bul;
	std::vector&lt;int&gt; novi(IzdvojiSimetricneTernarne(vekt,ps));
	if (ps) {
		if (novi.size() == 0) std::cout &lt;&lt; "Nema prostih simetricnih brojeva u vektoru.";
		else std::cout &lt;&lt; "Prosti simetricni brojevi iz vektora su: ";
	}
	else {
		if (novi.size() == 0) std::cout &lt;&lt; "Nema slozenih simetricnih brojeva u vektoru.";
		else std::cout &lt;&lt; "Slozeni simetricni brojevi iz vektora su: ";
	}
	try {
		if (novi.size() != 0) {
			for (int i = 0; i &lt; novi.size(); i++) {
				std::cout &lt;&lt; novi.at(i);
				if (i != novi.size()-1) std::cout &lt;&lt; ", ";
				if (i == novi.size()-1) break;
			}
			std::cout &lt;&lt; ".";
		}
	}
	catch (std::range_error izuzetak) {
		std::cout &lt;&lt; izuzetak.what();
	}
	return 0;
</font>}</pre>
</body>
</html>
