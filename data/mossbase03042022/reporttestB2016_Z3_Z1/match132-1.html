<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z1/student8724.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z1/student2126.cpp<p></p><pre>
#include &lt;iostream&gt;
#include &lt;vector&gt;
#include &lt;utility&gt;
#include &lt;stdexcept&gt;
#include &lt;functional&gt;
#include &lt;cmath&gt;


<a name="0"></a><font color="#FF0000"><a href="match132-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_99.gif"/></a>

using std::cin;
using std::cout;
using std::endl;
using std::domain_error;
using std::pair;
using std::vector;
using std::function;
using std::make_pair;


double F(double x){
    return x*x+sin(x);
}

int Abaskus(int i, int d, bool temp){
        if(temp){
           if(d&gt;1)return d;
           else return 1;
        }

        if(!temp){
              if(i&lt;d)return i;
              else return d;
         }
}
/*
function&lt;double(double)&gt; BaricentricnaInterpolacija(double fija(double),double xmin,double xmax,double deltax,int d){

    if(deltax&lt;=0 or xmin&gt;xmax)throw domain_error("Nekorektni parametri"); //baciti izuzetak
    
    
    vector&lt;pair&lt;double,double&gt;&gt; Parovi;
    
    int brojac=0
  for(double i=xmin;i&lt;xmax;i+=deltax){
      brojac++;
  }
    Parovi.resize(brojac);
    int koordinata=0;
    for(double i=xmin;i&lt;xmax;i+=deltax){
                    double a=i;
                    double b=fija(i);
                    Parovi[koordinata]=make_pair(a,b);
                    koordinata++;
    }
    
    int n=Parovi.size();
    vector&lt;double&gt;wow;

    Parovi.insert(Parovi.begin(), pair&lt;double,double&gt; (0,0));   
   for(int i=1;i&lt;Parovi.size();i++){
    int poc=Abaskus(1, i-d, true)
    int kraj=Abaskus(1, Parovi.size()-1-d, false);
    double suma=0;    
    for(int k=poc;k&lt;=kraj;k++){
        double p=1;        
        for(int j=k;j&lt;=k+d;j++)if(i!=j) p*=(1./(v[i].first-v[j].first));
        if((k-1)%2!=0) p=p*(-1);
        suma+=p;
    }
    
    wow.push_back(suma);
    
        
  }
    
    return [Parovi,d,n,xmin,xmax,deltax,fija,wow](double x){
    
    
        
        double suma1=0.0,suma2=0.0;
        
        
        for(int i=0;i&lt;n;i++){
         
         if(fabs(x-v[i].first)==0) return Parovi[i].second;
        
            double pomoc=(wow[i]/(x-Parovi[i].first));
          
            suma1=suma1+pomoc*Parovi[i].second;
            suma2=suma2+pomoc;
        }
        
        return suma1/suma2;
        
        
    };
    
    
 }
*/

function&lt;double(double)&gt; BaricentricnaInterpolacija(vector&lt;pair&lt;double, double&gt;&gt; parovi, int d){
    
        if(d&lt;0 || d&gt;parovi.size()) throw domain_error ("Nedozovljen red");
        for(int i=0; i&lt;parovi.size();i++){
                for(int j=i+1; j&lt;parovi.size();j++){
                        if(fabs(parovi[i].first-parovi[j].first)==0 ) throw domain_error ("Neispravni cvorovi");
                }
        }
        
       int n(parovi.size());
      
       
    return[parovi, d, n](double a){
            double suma(0), suma1(0), suma2(0);
            vector&lt;double&gt;Wi;
            auto parovi1=parovi;
            parovi1.insert(parovi1.begin(), pair&lt;double, double&gt; (0, 0));
            for(int i=1; i&lt;=parovi.size();i++){
                     int pocetak(Abaskus(1, i-d, true));
                     int kraj(Abaskus(i, parovi.size()-d, false));
                    suma=0;
                    for(int j=pocetak; j&lt;=kraj; j++){
                            double p=1;
                            for(int k=j; k&lt;=j+d; k++){
                                    if(i!=k){
                                            p*=(1./(parovi[i-1].first-parovi[k-1].first));
                                    }
                            }
                            if(j%2==0) p*=(-1);
                            suma+=p;
                    }
                    Wi.push_back(suma);
            }
            for(int i=1; i&lt;=n; i++){
                    if(fabs(a-parovi[i-1].first)==0) return parovi[i-1].second;
                    double temp=(Wi[i-1]/(a-parovi[i-1].first));
                    suma1+=temp*parovi[i-1].second;
                    suma2+=temp;
            }
            return suma1/suma2;
    };
}

int main (){
        try{
            vector&lt;pair&lt;double, double&gt;&gt; Parovi;
            int izbor;
            do{
                cout&lt;&lt;"Odaberite opciju (1 - unos cvorova, 2 - aproksimacija): "&lt;&lt;endl;
                cin&gt;&gt;izbor;
                if(izbor==1){
                    cout&lt;&lt;"Unesite broj cvorova: ";
                    int broj_cv;
                    cin&gt;&gt;broj_cv;
                    pair&lt;double, double&gt; par;
                    for(int i(0); i&lt;broj_cv; i++){
                        cin&gt;&gt;par.first;
                        cin&gt;&gt;par.second;
                        Parovi.push_back(par);
                    }
                    
                    
                    
                    cout&lt;&lt;"Unesite stepen interpolacije: "&lt;&lt;endl;
                    int red_inter;
                    cin&gt;&gt;red_inter;
                    
                    auto f(BaricentricnaInterpolacija(Parovi, red_inter));
                    
                    while(1){
                        cin.clear();
                        cin.ignore(10000, '\n');
                        
                        cout&lt;&lt;"Unesite argument (ili "&lt;&lt;'"'&lt;&lt;"kraj"&lt;&lt;'"'&lt;&lt;"za kraj): "&lt;&lt;endl;
                        double arg;
                        cin&gt;&gt;arg;
                        if(!cin){
                            cin.clear();
                            cin.ignore(1000, '\n');
                            break;
                        }
                        else cout&lt;&lt;"f("&lt;&lt;arg&lt;&lt;")="&lt;&lt;f(arg);
                    }
                    break;
                }
                if(izbor==2){
                    cout&lt;&lt;"Unesite krajeve intervala i korak: ";
                    double a, b, c;
                    cin&gt;&gt;a&gt;&gt;b&gt;&gt;c;
                    cout&lt;&lt;"Unesite red interpolacije: ";
                    int d;
                    cin&gt;&gt;d;
                     auto f(BaricentricnaInterpolacija(F, a, b, c, d));
                    while(1){
                        cin.clear();
                        cin.ignore(10000, '\n');
                        
                        cout&lt;&lt;"Unesite argument (ili "&lt;&lt;'"'&lt;&lt;"kraj"&lt;&lt;'"'&lt;&lt;"za kraj): "&lt;&lt;endl;
                        double arg;
                        cin&gt;&gt;arg;
                        if(!cin){
                            cin.clear();
                            cin.ignore(1000, '\n');
                            break;
                        }
                        else cout&lt;&lt;"f("&lt;&lt;arg&lt;&lt;")="&lt;&lt;f(arg);
                    }
                }
                
                
            }while(1);
            
        }
        catch(domain_error izuzetak){
            cout&lt;&lt;izuzetak.what();
</font>        }
        /*cout&lt;&lt;"Unesite cvorove kao parove x y:";
        vector&lt;pair&lt;double, double&gt;&gt; parovi;
        pair&lt;double, double&gt; par;
        double x, y;
        for(int i=0; i&lt;5; i++){
                cin&gt;&gt;x&gt;&gt;y;
                par.first=x;
                par.second=y;
                parovi.push_back(par);
        }
        int d=2;
        auto f=BaricentricnaInterpolacija(parovi, d);
        
        cout&lt;&lt;f(2.5);
        
        auto f(BaricentricnaInterpolacija({{1, 3}, {2, 5}, {4, 4}, {5, 2}, {7, 1}}, 2));
        std::cout &lt;&lt; f(2.5);
        */
	return 0;
}</pre>
</body>
</html>
