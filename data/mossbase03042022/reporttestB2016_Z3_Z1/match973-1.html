<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z1/student7589.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z1/student9923.cpp<p></p><pre>
#include &lt;iostream&gt;
#include &lt;functional&gt;
#include &lt;vector&gt;
#include &lt;utility&gt;
#include &lt;stdexcept&gt;
#include &lt;cmath&gt;

<a name="2"></a><font color="#0000FF"><a href="match973-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_3.gif"/></a>

std::function&lt;double(double)&gt; BaricentricnaInterpolacija (std::vector&lt;std::pair&lt;double,double&gt;&gt; v, int d)
{
    int n = v.size();
    if (d&lt;0 || d&gt;n)
</font>        throw std::domain_error ("Nedozvoljen red");
        
    for (int i{};i&lt;n-1;i++)
        {
            for (int j{i+1};j&lt;n;j++)
                {
                    if (v[i].first == v[j].first)
                        throw std::domain_error ("Neispravni cvorovi");
                }
        }
        
        
    return [v,d,n] (double x)
    {
        double gornja_suma = 0;
        double donja_suma = 0;
        
        for (int i{1};i&lt;=n;i++)
            {
                if (v[i-1].first == x)
                    return v[i-1].second;
                    
                int pocetak;
                if (1&gt;i-d)
                    pocetak = 1;
                else
                    pocetak = i-d;
                    
                int kraj;
                if (i&lt;n-d)
                    kraj = i;
                else
                    kraj = n-d;
                    
                double suma_w = 0;
                for (int k = pocetak;k&lt;=kraj;k++)
                    {
                        double produkt = 1;
                        for (int j{k};j&lt;=k+d;j++)
                            {
                                if (i != j)
                                    produkt = produkt/(v[i-1].first - v[j-1].first);
                            }
                        suma_w += produkt * (double)std::pow(double(-1),double(k-1));
                    }
                
                gornja_suma += suma_w/(x-v[i-1].first)*v[i-1].second;
                donja_suma += suma_w/(x-v[i-1].first);
                
            }
            
        return gornja_suma/donja_suma;
        
    };
    
}

std::function&lt;double(double)&gt; BaricentricnaInterpolacija (std::function&lt;double(double)&gt; f, double x_min, double x_max, double delta_x, int d)
{
    if (x_min&gt;x_max || delta_x&lt;=0)
        throw std::domain_error ("Nekorektni parametri");
        
    std::vector&lt;std::pair&lt;double,double&gt;&gt; v;
    double x = x_min;
    while (true)
        {
            if (x&gt;x_max)
                break;
                
            double y = f(x);
            std::pair&lt;double,double&gt; par;
            par.first = x;
            par.second = y;
            
            v.push_back(par);
            x+=delta_x;
        }
    
    return BaricentricnaInterpolacija(v,d);
}

double Zadana_funkcija (double x)
{
    return x*x+std::sin(x);
}



int main ()
{
    try
    {
        std::cout&lt;&lt;"Odaberite opciju (1 - unos cvorova, 2 - aproksimacija): ";
        int odabir;
        std::cin&gt;&gt;odabir;
        std::cin.ignore(10000, '\n');
        
        if (odabir == 1)
            {
                std::cout&lt;&lt;"Unesite broj cvorova: ";
                int n;
                std::cin&gt;&gt;n;
                std::cin.ignore(10000, '\n');
                
                std::cout&lt;&lt;"Unesite cvorove kao parove x y: ";
                std::vector&lt;std::pair&lt;double,double&gt;&gt; v;
                for (int i{};i&lt;n;i++)
                    {
                        double x,y;
                        std::cin&gt;&gt;x&gt;&gt;y;
                        std::cin.ignore(10000, '\n');
                        
                        std::pair&lt;double,double&gt; par;
                        par.first = x;
                        par.second = y;
                        v.push_back(par);
                    }
                    
                std::cout&lt;&lt;"Unesite red interpolacije: ";
                int d;
                std::cin&gt;&gt;d;
                std::cin.ignore(10000, '\n');
                
                auto f = BaricentricnaInterpolacija(v,d);
                while (true)
                {
<a name="0"></a><font color="#FF0000"><a href="match973-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_7.gif"/></a>

                    std::cout&lt;&lt;"Unesite argument (ili "&lt;&lt;'"'&lt;&lt;"kraj"&lt;&lt;'"'&lt;&lt;" za kraj): ";
                    double x;
                    std::cin&gt;&gt;x;
                    
                    if (!std::cin)
                        break;
                        
                    std::cout&lt;&lt;"f("&lt;&lt;x&lt;&lt;") = "&lt;&lt;f(x)&lt;&lt;std::endl;
                }
            }
        else if (odabir == 2)
            {
                std::cout&lt;&lt;"Unesite krajeve intervala i korak: ";
                double x_min,x_max,delta_x;
                std::cin&gt;&gt;x_min&gt;&gt;x_max&gt;&gt;delta_x;
</font>                std::cin.ignore(10000, '\n');
                
                std::cout&lt;&lt;"Unesite red interpolacije: ";
                int d;
                std::cin&gt;&gt;d;
                std::cin.ignore(10000, '\n');
                
                auto f = BaricentricnaInterpolacija(Zadana_funkcija,x_min,x_max,delta_x,d);
                
                while (true)
                {
<a name="1"></a><font color="#00FF00"><a href="match973-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_6.gif"/></a>

                    std::cout&lt;&lt;"Unesite argument (ili "&lt;&lt;'"'&lt;&lt;"kraj"&lt;&lt;'"'&lt;&lt;" za kraj): ";
                    double x;
                    std::cin&gt;&gt;x;
                    
                    if (!std::cin)
                        break;
                        
                    std::cout&lt;&lt;"f("&lt;&lt;x&lt;&lt;") = "&lt;&lt;Zadana_funkcija(x)&lt;&lt;" fapprox("&lt;&lt;x&lt;&lt;") = "&lt;&lt;f(x)&lt;&lt;std::endl;
                }
            }
            
        
    }
    catch (std::domain_error e)
</font>    {
        std::cout&lt;&lt;e.what();
    }
    
	return 0;
}</pre>
</body>
</html>
