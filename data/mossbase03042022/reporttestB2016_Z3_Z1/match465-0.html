<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z1/student6613.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z1/student6613.cpp<p></p><pre>
<a name="1"></a><font color="#00FF00"><a href="match465-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_4.gif"/></a>

/B2016/2017: ZadaÄ‡a 3, Zadatak 1
//Autotestovi by Enil Pajic (epajic1@etf.unsa.ba)
#include &lt;iostream&gt;
#include&lt;vector&gt;
#include&lt;utility&gt;
#include&lt;functional&gt; 
#include&lt;cmath&gt;
#include&lt;stdexcept&gt;
using std::cin;
using std::cout;
using std::endl;
using std::function;
using std::vector;
using std::pair;
</font>double f(double x){
    return (x*x+ std::sin(x));
}
vector&lt;double&gt;Omega(vector&lt;pair&lt;double, double&gt;&gt;v, int d){
    vector&lt;double&gt;w;
    double suma(0), produkt(1);
    for(int i=1; i&lt;=v.size(); i++){
        int maks(1), mini(i);
        if(maks&lt;(i-d)) maks=i-d;
        if(mini&gt;v.size()-d) mini=v.size()-d;
        for(int k=maks-1; k&lt;=mini-1; k++){
            for(int j=k; j&lt;=k+d; j++){
                if(j==i-1) continue;
                produkt*=1./(v[i-1].first-v[j].first);
            }
            suma+=(produkt*pow((-1),k-1));
            produkt=1;
        }
        w.push_back(suma);
        suma=0;
        produkt=1;
    }
 
    return w;
}
function&lt;double(double)&gt; Brojnik(vector&lt;pair&lt;double,double&gt;&gt;v, vector&lt;double&gt;w){
    return [v,w](double x)-&gt;double{
        double suma(0);
        for(int i=1; i&lt;=v.size(); i++){
        //    if(x==v[i-1].first) return v[i-1].second;
<a name="3"></a><font color="#00FFFF"><a href="match465-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_3.gif"/></a>

            suma+=((w[i-1]/(x-v[i-1].first))*v[i-1].second);
        }
        return suma;
</font>    };
}
function&lt;double(double)&gt; Nazivnik(vector&lt;pair&lt;double,double&gt;&gt;v, vector&lt;double&gt;w){
    return [v,w](double x)-&gt;double{
        double suma(0);
        for(int i=1; i&lt;=v.size(); i++){
         //   if(x==v[i-1].first) return v[i-1].second;
            suma+=((w[i-1]/(x-v[i-1].first)));
        }
<a name="2"></a><font color="#0000FF"><a href="match465-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_4.gif"/></a>

        return suma;
    };
}
function&lt;double(double)&gt; BaricentricnaInterpolacija(vector&lt;pair&lt;double,double&gt;&gt;v, int d){
    if(d&lt;0 || d&gt;=v.size()) throw std::domain_error("Nedozvoljen red");
</font>    for(int i=0; i&lt;v.size(); i++)
        for(int j=i+1; j&lt;v.size(); j++)
            if(v[i].first==v[j].first) throw std::domain_error("Neispravni cvorovi");
    auto w=Omega(v,d);
    auto brojnik=Brojnik(v,w);
    auto nazivnik=Nazivnik(v,w);
<a name="4"></a><font color="#FF00FF"><a href="match465-1.html#4" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_3.gif"/></a>

    return [brojnik, nazivnik, v](double x)-&gt;double{ for(int i=1; i&lt;=v.size(); i++) if(x==v[i-1].first) return v[i-1].second;  return brojnik(x)/nazivnik(x);};
</font>}
<a name="0"></a><font color="#FF0000"><a href="match465-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_5.gif"/></a>

function&lt;double(double)&gt;BaricentricnaInterpolacija(function&lt;double(double)&gt;fun, double x_min, double x_max, double delta, int d){
    if(x_min&gt;x_max || delta&lt;=0) throw std::domain_error("Nekorektni parametri");
    vector&lt;pair&lt;double, double&gt;&gt;v;
</font>    double y;
    for(double x=x_min; x&lt;=x_max; x+=delta){
        y=fun(x);
        v.push_back(std::make_pair(x,y));
    }
    return BaricentricnaInterpolacija(v,d);
}
int main ()
{
    vector&lt;pair&lt;double,double&gt;&gt;v;
    double unos1, unos2, unos3;
    int unos;
    cout&lt;&lt;"Odaberite opciju (1 - unos cvorova, 2 - aproksimacija): ";
    cin&gt;&gt;unos;
    try{
    if(unos==1){
        cout&lt;&lt;"Unesite broj cvorova: ";
        cin&gt;&gt;unos;
        cout&lt;&lt;"Unesite cvorove kao parove x y: ";
        for(int i=0; i&lt;unos; i++){
            cin&gt;&gt;unos1&gt;&gt;unos2;
            v.push_back(std::make_pair(unos1, unos2));
        }
        cout&lt;&lt;"Unesite red interpolacije: ";
        cin&gt;&gt;unos;
        auto fun=BaricentricnaInterpolacija(v,unos);
        while(1){
        cout&lt;&lt;"Unesite argument (ili \"kraj\" za kraj): ";
        cin&gt;&gt;unos1;
        if(!cin) return 0;
        cout&lt;&lt;"f("&lt;&lt;unos1&lt;&lt;") = "&lt;&lt;fun(unos1)&lt;&lt;endl;
        }
    }
    else if(unos==2){
        cout&lt;&lt;"Unesite krajeve intervala i korak: ";
        cin&gt;&gt;unos1&gt;&gt;unos2&gt;&gt;unos3;
        cout&lt;&lt;"Unesite red interpolacije: ";
        cin&gt;&gt;unos;
        auto fun(BaricentricnaInterpolacija(f, unos1, unos2, unos3, unos));
        while(1){
            cout&lt;&lt;"Unesite argument (ili \"kraj\" za kraj): ";
            cin&gt;&gt;unos1;
            if(!cin) return 0;
            cout&lt;&lt;"f("&lt;&lt;unos1&lt;&lt;") = "&lt;&lt;f(unos1)&lt;&lt;" fapprox("&lt;&lt;unos1&lt;&lt;") = "&lt;&lt;fun(unos1)&lt;&lt;endl;
        }
    }
    }
    catch(std::domain_error izuzetak){
        cout&lt;&lt;izuzetak.what()&lt;&lt;endl;
    }
	return 0;
}</pre>
</body>
</html>
