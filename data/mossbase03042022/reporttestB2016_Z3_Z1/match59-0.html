<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z1/student1466.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z1/student1466.cpp<p></p><pre>
#include &lt;iostream&gt;
#include &lt;vector&gt;
#include &lt;cmath&gt;
#include &lt;functional&gt;


<a name="0"></a><font color="#FF0000"><a href="match59-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_99.gif"/></a>

int min(int n,int d, int i) {
    int min;

        if (i &lt; (n - d)) min = i;
        else min = n-d;
        
        
    return min;
}


int max(int d, int i) {
    int max;

        if (1 &gt; (i - d)) max = 1;
        else max = i-d;
        
    return max;
}


double tezinskikoeficijenti (int d, int i,std::vector&lt;std::pair&lt;double,double&gt;&gt; vektor) {
    double suma(0);
   int n = vektor.size();

for (int k=max(d,i); k &lt;= min(n,d,i); k++) {
        int stepen=pow(-1, k-1);
        double proizvod(1);
        proizvod*=stepen;
      for (int j = k; j &lt;= k+d; j++) {
          
        if (j != i) proizvod=proizvod*(1/(vektor[i-1].first-vektor[j-1].first));

      } 
         
            suma+=proizvod;
     }
     
    return suma;
    
}


std::function&lt;double(double)&gt; BaricentricnaInterpolacija (std::vector&lt;std::pair&lt;double,double&gt;&gt; vektor, int d) {

if (d&lt;0 or d&gt;=vektor.size()) throw std::domain_error ("Nedozvoljen red");
for (int i = 0; i &lt; vektor.size(); i++) {
    
  for (int j = i+1; j&lt; vektor.size(); j++)
  
{
    
 if (vektor[i].first == vektor[j].first ) throw std::domain_error("Neispravni cvorovi");   
    
    
}  

    
}
int n=vektor.size();
    
    return[vektor,d,n] (double x) {
        double a(0);
            double b(0);

        for (int i = 1; i &lt;= vektor.size(); i++) {
    if ( x != vektor[i-1].first)  {

    a += ((tezinskikoeficijenti(d,i,vektor) /  (x-vektor[i-1].first)) * vektor[i-1].second);
        b+=(tezinskikoeficijenti(d,i,vektor) / (x - vektor[i-1].first));    

    }
         else  return vektor[i-1].second;
 }
 return a/b;
};
}


std::function&lt;double(double)&gt; BaricentricnaInterpolacija( double f(double), double xmin, double xmax, double deltax, int d) {

if (xmin &gt; xmax or deltax&lt;=0) throw std::domain_error("Nekorektni parametri");

std::vector&lt;std::pair&lt;double,double&gt;&gt; vektor;
   for(double a=xmin; a&lt;=xmax; a+=deltax) {
      
      std::pair &lt;double,double&gt; cvoric;

cvoric.first=(a);


cvoric.second=f(a);




      vektor.push_back(cvoric);
      
   }
   auto fun=BaricentricnaInterpolacija(vektor,d);
   return fun;
 }
 
 double f (double x)  {
    
    return x*x + sin(x);
}

int main ()
{
 try {
  int opcija;
   std::cout&lt;&lt;"Odaberite opciju (1 - unos cvorova, 2 - aproksimacija): ";
   std::cin&gt;&gt;opcija;

  if (opcija==1) { 
   int broj;
   std::cout&lt;&lt;"Unesite broj cvorova: ";
   std::cin&gt;&gt;broj;
   
   
   std::vector&lt;std::pair&lt;double,double&gt;&gt; vektor;
   std::cout&lt;&lt;"Unesite cvorove kao parove x y: ";
   for (int i = 0; i &lt; broj; i++) {
      
      std::pair &lt;double,double&gt; cvoric;
      std::cin&gt;&gt;cvoric.first;
      std::cin&gt;&gt;cvoric.second;
      vektor.push_back(cvoric);
      
   }
       std::cout&lt;&lt;"Unesite red interpolacije: ";
      int d;
      std::cin&gt;&gt;d;
      double broj2;
      std::cout&lt;&lt;"Unesite argument (ili \"kraj\" za kraj): ";

      std::cin&gt;&gt;broj2;
     auto fun = BaricentricnaInterpolacija(vektor,d);
while (std::cin) {
       std::cout&lt;&lt;"f("&lt;&lt;broj2&lt;&lt;") = "&lt;&lt;fun(broj2)&lt;&lt;std::endl;

      std::cout&lt;&lt;"Unesite argument (ili \"kraj\" za kraj): ";
    if(!std::cin) break;
      std::cin&gt;&gt;broj2;

       }
      
}

if(opcija == 2) {
  double pocetak,kraj,korak;
  std::cout&lt;&lt;"Unesite krajeve intervala i korak: ";
  
  std::cin&gt;&gt;pocetak;
  std::cin&gt;&gt;kraj;
  std::cin&gt;&gt;korak;
   std::cout&lt;&lt;"Unesite red interpolacije: ";
   int d;
   std::cin&gt;&gt;d;
   
   double broj2;
      std::cout&lt;&lt;"Unesite argument (ili \"kraj\" za kraj): ";
 
 
          auto fun1 = BaricentricnaInterpolacija(f,pocetak,kraj,korak,d);


      std::cin&gt;&gt;broj2;

while (std::cin) {
       std::cout&lt;&lt;"f("&lt;&lt;broj2&lt;&lt;") = "&lt;&lt;broj2*broj2+sin(broj2)&lt;&lt;" ";
             std::cout&lt;&lt;"fapprox("&lt;&lt;broj2&lt;&lt;") = "&lt;&lt;fun1(broj2)&lt;&lt;std::endl;

      std::cout&lt;&lt;"Unesite argument (ili \"kraj\" za kraj): ";
    if(!std::cin) break;
      std::cin&gt;&gt;broj2;

       }

}
}

catch (std::domain_error e) {
    
    std::cout&lt;&lt;e.what();
</font>}
        
return 0;
}</pre>
</body>
</html>
