<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z1/student6776.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z1/student7823.cpp<p></p><pre>
<a name="0"></a><font color="#FF0000"><a href="match75-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_99.gif"/></a>

/B2016/2017: ZadaÄ‡a 3, Zadatak 1
//Autotestovi by Enil Pajic (epajic1@etf.unsa.ba)
#include &lt;iostream&gt;
#include &lt;functional&gt;
#include &lt;map&gt;
#include &lt;vector&gt;
#include &lt;algorithm&gt;
#include &lt;stdexcept&gt;
#include &lt;cmath&gt;
#include &lt;utility&gt;

template&lt;typename TIP&gt;
bool JednakiRacionalni(TIP a, TIP b, double Eps=1e-10){
    return (std::fabs(a-b) &lt;= Eps * (std::fabs(a) + std::fabs(b)));
}
double mojafunkcija(double x){
    return x*x + std::sin(x);
}

//Prva veryija funkcije
std::function&lt;double(double)&gt; BaricentricnaInterpolacija(std::vector&lt;std::pair&lt;double, double&gt;&gt; cvor, int d){
    int n(cvor.size());
    std::vector&lt;long double&gt; rezultat;

//Izuzetci    
    if(d&lt;0 || d&gt;n) throw std::domain_error("Nedozvoljen red");
    for(int i=0;i&lt;n;i++){
        for(int j=0;j&lt;n;j++){
            if(i==j) continue;
            if(JednakiRacionalni(cvor[i].first, cvor[j].first)) throw std::domain_error("Nedozvoljen red");
        }
    }
    
    for(int i=1;i&lt;=n;i++){
        long double wi{};
        for(int k=std::max(1,i-d); k&lt;=std::min(i,n-d); k++){
            long double proizvod=1;
            for(int j=k; j&lt;=k+d; j++){
                if(i-1==j-1) continue;
                proizvod=proizvod/(cvor[i-1].first - cvor[j-1].first);
            }
            if(k%2==0) proizvod=-proizvod;
            wi+=proizvod;
        }
        rezultat.push_back(wi);
    }
    
    return [=](double x){
        double suma1{}, suma2{};
        for(int i=0;i&lt;n;i++){
                if(JednakiRacionalni(x, cvor[i].first)){
                return cvor[i].second;
            }    
            suma1 += (rezultat[i]/(x-cvor[i].first)) * cvor[i].second;
            suma2 += (rezultat[i]/(x-cvor[i].first));
        }
        return suma1/suma2;
    };
}
//Druga veryija funkcije
template&lt;typename TIP&gt;
std::function&lt;double(double)&gt; BaricentricnaInterpolacija(TIP f, double xmin, double xmax, double delta ,int d){
//Izuzetci
    if(xmin&gt;xmax || delta&lt;=0) throw std::domain_error("Nekorektni parametri");
    std::vector&lt;std::pair&lt;double, double&gt;&gt; cvorovi;
    
    for(double i=xmin; i&lt;=xmax; i=i+delta){
        std::pair&lt;double, double&gt; tacke;
        tacke = std::make_pair(i, f(i));
        cvorovi.push_back(tacke);
    }
    return BaricentricnaInterpolacija(cvorovi, d);
}

int main (){
    std::cout&lt;&lt;"Odaberite opciju (1 - unos cvorova, 2 - aproksimacija): ";
    int odabir;
    std::cin&gt;&gt;odabir;
    
    
    switch(odabir){
        case 1: {
            std::cout&lt;&lt;"Unesite broj cvorova: ";
            int br_cv;
            std::cin&gt;&gt;br_cv;
            
            std::cout&lt;&lt;"Unesite cvorove kao parove x y: ";
            std::vector&lt;std::pair&lt;double, double&gt;&gt; cvorovi;
            for(int i=0; i&lt;br_cv;i++){
                double x, y;
                std::cin&gt;&gt;x&gt;&gt;y;
                std::pair&lt;double, double&gt; tacke;
                tacke = std::make_pair(x, y);
                cvorovi.push_back(tacke);
            }
            
            std::cout&lt;&lt;"Unesite red interpolacije: ";
            int d;
            std::cin&gt;&gt;d;
            
            do{
                std::cout&lt;&lt;"Unesite argument (ili \"kraj\" za kraj): ";
                double argument;
                std::cin&gt;&gt;argument;
                if(!std::cin) break;
                
                try{
                    auto fun(BaricentricnaInterpolacija(cvorovi,d));
                    std::cout&lt;&lt;"f("&lt;&lt;argument&lt;&lt;") = "&lt;&lt; fun(argument)&lt;&lt;std::endl;
                }catch(std::domain_error izuzetak){
                    std::cout&lt;&lt;izuzetak.what()&lt;&lt;std::endl;
                    break;
                }
            }while(1);
            break;
        }
        
        
        case 2: {
            std::cout&lt;&lt;"Unesite krajeve intervala i korak: ";
            double xmin, xmax, korak;
            std::cin&gt;&gt;xmin&gt;&gt;xmax&gt;&gt;korak;
            
            std::cout&lt;&lt;"Unesite red interpolacije: ";
            int d;
            std::cin&gt;&gt;d;
            
            do{
                std::cout&lt;&lt;"Unesite argument (ili \"kraj\" za kraj): ";
                double argument;
                std::cin&gt;&gt;argument;
                if(!std::cin) break;
                
                try{
                    auto fun(BaricentricnaInterpolacija(mojafunkcija, xmin, xmax, korak, d));
                    std::cout&lt;&lt;"f("&lt;&lt;argument&lt;&lt;") = "&lt;&lt; mojafunkcija(argument)&lt;&lt;" fapprox("&lt;&lt;argument&lt;&lt;") = "&lt;&lt;fun(argument) &lt;&lt;std::endl;
                }catch(std::domain_error izuzetak){
                    std::cout&lt;&lt;izuzetak.what()&lt;&lt;std::endl;
                    break;
                }
            }while(1);
            break;
        }
    }    
	return 0;
</font>}</pre>
</body>
</html>
