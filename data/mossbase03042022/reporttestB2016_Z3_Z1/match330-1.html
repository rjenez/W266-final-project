<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z1/student1725.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z1/student2230.cpp<p></p><pre>
#include &lt;iostream&gt;
#include &lt;vector&gt;
#include &lt;cmath&gt;
#include &lt;stdexcept&gt;
#include &lt;functional&gt;

typedef std::vector&lt;std::pair&lt;double,double&gt;&gt; VektorParova;
typedef std::vector&lt;double&gt; VektorDouble;

double funkcijica(double x){
    return x*x+sin(x);
}

double RacunatorOmege (VektorParova vektor, int d,int i){
    int n=vektor.size();
    double suma(0);
    double proizvod(1);
        int k;
        int a=i-d;
        if(a&lt;=0) k=1;
        else k=a;
        int min;
        int b=n-d;
        if(i&lt;b) min=i;
        else min=b;
       // std::cout&lt;&lt; i&lt;&lt;" je i, "&lt;&lt;k&lt;&lt; " je k "&lt;&lt;min&lt;&lt; " je krajnji"&lt;&lt;std::endl;
        for(int f=k;f&lt;=min;f++){
            int pov=pow(-1,f-1);
            int c=f+d;
<a name="0"></a><font color="#FF0000"><a href="match330-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_4.gif"/></a>

            for(int j=f;j&lt;=c;j++){
              if(vektor[i-1].first==vektor[j-1].first &amp;&amp; i-1!=j-1) throw std::domain_error("Neispravni cvorovi");
              //std::cout&lt;&lt;vektor[i-1].first&lt;&lt;std::endl;
             if(i-1!=j-1) proizvod=proizvod*(1./(vektor[i-1].first-vektor[j-1].first));
</font>            }
           // std::cout&lt;&lt;pov&lt;&lt;" pov "&lt;&lt;proizvod&lt;&lt;" proizvod"&lt;&lt;std::endl;
            suma=suma+(pov*proizvod);
            proizvod=1;
        }
    
    return suma;
}
std::function&lt;double (double)&gt; BaricentricnaInterpolacija(VektorParova vektor, int d){
    int n=vektor.size();
    if(d&lt;0 || d&gt;n) throw std::domain_error("Nedozvoljen red");
    return[vektor,d,n](double x){
            double brojnik(0);
            double nazivnik(0);
            double f;
            for(int i(1);i&lt;=n;i++){
                if(vektor[i-1].first!=x){
<a name="3"></a><font color="#00FFFF"><a href="match330-0.html#3" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_2.gif"/></a>

                brojnik=brojnik+(RacunatorOmege(vektor,d,i)/(x-vektor[i-1].first))*vektor[i-1].second;
                nazivnik=nazivnik+(RacunatorOmege(vektor,d,i)/(x-vektor[i-1].first));}
</font><a name="4"></a><font color="#FF00FF"><a href="match330-0.html#4" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_2.gif"/></a>

                else{
                    return vektor[i-1].second;
</font>                }
            }
            f=brojnik/nazivnik;
        return f;
    };
}

std::function&lt;double(double)&gt; BaricentricnaInterpolacija(std::function&lt;double(double)&gt; f,double xmin,double xmax,double deltax,int d){
    if(xmin&gt;xmax || deltax&lt;=0) throw std::domain_error ("Nekorektni parametri");
    VektorParova vektor;
     double prvi=xmin;
     for(;;){
        vektor.push_back(std::make_pair(prvi,f(prvi)));
        prvi=prvi+deltax;
        if(prvi&gt;xmax) break;
    }
    int n=vektor.size();
    if(d&lt;0 || d&gt;n) throw std::domain_error("Nedozvoljen red");
    return [vektor,d,f,n](double x){
            double brojnik(0);
            double nazivnik(0);
            double vrijednost;
            for(int i(1);i&lt;=n;i++){
                if(vektor[i-1].first!=x){
<a name="5"></a><font color="#FF0000"><a href="match330-0.html#5" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_2.gif"/></a>

                    brojnik=brojnik+(RacunatorOmege(vektor,d,i)/(x-vektor[i-1].first))*vektor[i-1].second;
                    nazivnik=nazivnik+(RacunatorOmege(vektor,d,i)/(x-vektor[i-1].first));}
</font>                else{ return f(x);}
            }
                vrijednost=brojnik/nazivnik;
                return vrijednost;};}

int main ()
{
    int opcija=1;
    std::cout&lt;&lt;"Odaberite opciju (1 - unos cvorova, 2 - aproksimacija): ";
    std::cin&gt;&gt;opcija;
    if(opcija==1){
        int br_cvorova;
        std::cout&lt;&lt;"Unesite broj cvorova: ";
        std::cin&gt;&gt;br_cvorova;
        std::cout&lt;&lt;"Unesite cvorove kao parove x y: ";
        VektorParova vektor;
        for(int i(0);i&lt;br_cvorova;i++){
            double x,y;
            std::cin&gt;&gt;x;
            std::cin&gt;&gt;y;
            std::pair&lt;double,double&gt; p=std::make_pair(x,y);
            vektor.push_back(p);
        }
        int d;
        std::cout&lt;&lt;"Unesite red interpolacije: ";
        std::cin&gt;&gt;d;
        double x;
        for(;;){
        std::cout&lt;&lt;"Unesite argument (ili \"kraj\" za kraj): ";
        std::cin&gt;&gt;x;
        if(!std::cin) return 0;
        try{
        auto f(BaricentricnaInterpolacija(vektor,d));
        double a=f(x);
<a name="1"></a><font color="#00FF00"><a href="match330-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_4.gif"/></a>

        std::cout&lt;&lt;"f("&lt;&lt;x&lt;&lt;") = "&lt;&lt;a&lt;&lt;std::endl;
        }
        catch(std::domain_error e){
            std::cout&lt;&lt;e.what()&lt;&lt;std::endl;
</font>            return 0;
        }
    }}
    else if(opcija==2){
        double xmin,xmax,deltax;
        std::cout&lt;&lt;"Unesite krajeve intervala i korak: ";
        std::cin&gt;&gt;xmin&gt;&gt;xmax&gt;&gt;deltax;
        int d;
        std::cout&lt;&lt;"Unesite red interpolacije: ";
        std::cin&gt;&gt;d;
        for(;;){
            std::cout&lt;&lt;"Unesite argument (ili \"kraj\" za kraj): ";
            double x;
            std::cin&gt;&gt;x;
            if(!std::cin) return 0;
            try{
            auto f(BaricentricnaInterpolacija(funkcijica,xmin,xmax,deltax,d));
            double a=f(x);
<a name="2"></a><font color="#0000FF"><a href="match330-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_3.gif"/></a>

            std::cout&lt;&lt;"f("&lt;&lt;x&lt;&lt;") = "&lt;&lt;funkcijica(x)&lt;&lt;" fapprox("&lt;&lt;x&lt;&lt;") = "&lt;&lt;a&lt;&lt;std::endl;
            }
            catch(std::domain_error e){
                std::cout&lt;&lt;e.what()&lt;&lt;std::endl;
</font>                return 0;
            }
        }
    }
	return 0;
}

















</pre>
</body>
</html>
