<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z1/student1192.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z1/student3610.cpp<p></p><pre>
<a name="0"></a><font color="#FF0000"><a href="match136-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_99.gif"/></a>

/B2016/2017: ZadaÄ‡a 3, Zadatak 1
//Autotestovi by Enil Pajic (epajic1@etf.unsa.ba)
#include &lt;iostream&gt;
#include&lt;utility&gt;
#include &lt;vector&gt;
#include &lt;functional&gt;
#include &lt;cmath&gt;
#include &lt;stdexcept&gt;
using std:: cin;
using std:: cout;
using std:: vector;
using std:: function;

    

function&lt;double(double) &gt;BaricentricnaInterpolacija(vector&lt;std:: pair&lt;double,double&gt;&gt;v, int d){
    if(d&lt;0 || d&gt;v.size()) throw std:: domain_error("Nedozvoljen red");
    for(int i=0; i&lt;v.size(); i++){
        for(int j=i+1; j&lt;v.size(); j++){
            if(std:: fabs(v[i].first-v[j].first)&lt;0.000001) throw std:: domain_error ("Neispravni cvorovi");
        }
    }
    vector&lt;double&gt; w(v.size(),0);
    for (int i=0; i&lt;v.size(); i++){
        int min(1); if(i+1-d&gt;min) min=i+1-d;
        int max(i+1); if(v.size()-d&lt;max) max=v.size()-d;
        for(int k=min; k&lt;=max; k++){
            double p(std:: pow(-1,k-1));
            for(int j=k; j&lt;=k+d; j++){
                if(j-1==i) continue;
                p*=1./(v[i].first-v[j-1].first);
            }
            w[i]+=p;
        }
       
    }
    return [v, w](double x){
         double nazivnik(0), brojnik(0);
        for(int i=0; i&lt;v.size(); i++){
            if(std:: fabs(v[i].first-x)&lt;0.0000001){
                return v[i].second;
            }
            brojnik+=((w[i]*v[i].second)/(x -v[i].first));
            nazivnik+=(w[i]/(x -v[i].first));
        }
      return brojnik/nazivnik;
    
    };
}
std::function&lt;double(double)&gt;BaricentricnaInterpolacija(double f(double), double xmin, double xmax, double deltax, int d){
    if(xmin&gt;xmax || deltax&lt;0) throw std:: domain_error("Nekorektni parametri");
    vector&lt;std:: pair&lt;double, double&gt;&gt; v;
    while(xmin&lt;xmax){
        v.push_back(std:: make_pair(xmin, f(xmin)));
        xmin= xmin+deltax;
    }
    
    return BaricentricnaInterpolacija(v,d);
}
int main ()

{
    try{
    cout &lt;&lt; "Odaberite opciju (1 - unos cvorova, 2 - aproksimacija): ";
    int o; 
    cin &gt;&gt; o;
    if(o==1){
        cout &lt;&lt; "Unesite broj cvorova: ";
        int brc;
        cin&gt;&gt; brc;
        vector&lt;std:: pair&lt;double,double&gt;&gt; v;
        cout &lt;&lt; "Unesite cvorove kao parove x y: ";
        for(int i=0; i&lt;brc; i++){
            double x, y;
            cin &gt;&gt;x&gt;&gt;y;
            v.push_back(std:: make_pair(x,y));
        }
        cout &lt;&lt; "Unesite red interpolacije: ";
        int d;
        cin&gt;&gt;d;
        auto f(BaricentricnaInterpolacija(v,d));
        cout &lt;&lt; "Unesite argument (ili \"kraj\" za kraj): ";
        double a;
        while(cin&gt;&gt; a){
            cout &lt;&lt; "f("&lt;&lt; a &lt;&lt; ") = "&lt;&lt; f(a) &lt;&lt; std:: endl;
            cout &lt;&lt; "Unesite argument (ili \"kraj\" za kraj): ";
        }
    }
    if(o==2){
        cout &lt;&lt; "Unesite krajeve intervala i korak: ";
        double xmin, xmax, deltax;
        cin &gt;&gt; xmin&gt;&gt; xmax&gt;&gt; deltax; 
        cout &lt;&lt; "Unesite red interpolacije: ";
        int d;
        cin&gt;&gt;d;
        auto fun([] (double x) {return x * x + std::sin(x);});
        auto f(BaricentricnaInterpolacija(fun, xmin, xmax, deltax, d));
        cout &lt;&lt; "Unesite argument (ili \"kraj\" za kraj): ";
        double a;
        while(cin&gt;&gt; a){
            cout &lt;&lt; "f("&lt;&lt; a &lt;&lt; ") = "&lt;&lt; fun(a) &lt;&lt;  " fapprox(" &lt;&lt; a &lt;&lt; ") = "&lt;&lt; f(a) &lt;&lt;std:: endl;
            cout &lt;&lt; "Unesite argument (ili \"kraj\" za kraj): ";
        }
        
        
    }
    }
   catch(std:: domain_error e) {
       cout &lt;&lt; e.what();
</font>        
    }
   

	return 0;
}</pre>
</body>
</html>
