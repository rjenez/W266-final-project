<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z1/student8864.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z1/student8864.cpp<p></p><pre>
/B2016/2017: ZadaÄ‡a 3, Zadatak 1
//Autotestovi by Enil Pajic (epajic1@etf.unsa.ba)
#include &lt;iostream&gt;
#include &lt;functional&gt;
#include &lt;stdexcept&gt;
#include &lt;vector&gt;
#include &lt;cmath&gt;
std::function&lt;double(double)&gt; BaricentricnaInterpolacija(std::vector&lt;std::pair&lt;double,double&gt;&gt; vektor,int d){
    const double Eps(1e-10);
    int n(vektor.size());
    if(d&lt;0 || d&gt;n) throw std::domain_error("Nedozvoljen red");
    for(int i=0;i&lt;n-1;i++){
        for(int j=i+1;j&lt;n;j++){
            if(std::fabs(vektor[i].first-vektor[j].first)&lt;=Eps*(std::fabs(vektor[i].first)+std::fabs(vektor[j].first))) throw std::domain_error("Neispravni cvorovi");
        }
    }
    std::vector&lt;double&gt; w(n);
    for(int i=1;i&lt;=n;i++){
        int max,min;
        if(i-d&gt;1)max=i-d;
        else max=1;
        if(i&lt;n-d)min=i;
        else min=n-d;
        for(int k=max;k&lt;=min;k++){
            double temp;
            if((k-1)%2==0) temp=1;
            else temp=-1;
            for(int j=k;j&lt;=k+d;j++){
                if(i!=j)temp*=1/(vektor[i-1].first-vektor[j-1].first);
            }
            w[i-1]+=temp;
        }
    }
    return [vektor,Eps,w](double x){
        double brojnik(0),nazivnik(0);
        int n(vektor.size());
        for(int i=0;i&lt;n;i++){
            if(std::fabs(x-vektor[i].first)&lt;= Eps*(x+vektor[i].first)){
<a name="1"></a><font color="#00FF00"><a href="match258-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_5.gif"/></a>

            return vektor[i].second;
            }
            brojnik+=w[i]/(x-vektor[i].first)*vektor[i].second;
            nazivnik+=w[i]/(x-vektor[i].first);
        }
        return brojnik/nazivnik;
</font>    };
}
std::function&lt;double(double)&gt; BaricentricnaInterpolacija(std::function&lt;double(double)&gt; funkcija,double xmin,double xmax,double delta,int d){
    if(xmin&gt;xmax || delta&lt;=0) throw std::domain_error("Nekorektni parametri");
    std::vector&lt;std::pair&lt;double,double&gt;&gt; cvojovi;
    double temp(xmin);
    while(temp&lt;=xmax){
        cvojovi.push_back({temp,funkcija(temp)});
        temp+=delta;
    }
    return BaricentricnaInterpolacija(cvojovi,d);
}
int main (){
    std::cout&lt;&lt;"Odaberite opciju (1 - unos cvorova, 2 - aproksimacija): ";
    int opcija;
<a name="3"></a><font color="#00FFFF"><a href="match258-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_3.gif"/></a>

    std::cin&gt;&gt;opcija;
    if(opcija==1){
        std::cout&lt;&lt;"Unesite broj cvorova: ";
        int brcvr;
        std::cin&gt;&gt;brcvr;
        std::vector&lt;std::pair&lt;double,double&gt;&gt; cvojovi;
</font>        std::cout&lt;&lt;"Unesite cvorove kao parove x y: ";
        double x,y;
        for(int i=0;i&lt;brcvr;i++){
            std::cin&gt;&gt;x&gt;&gt;y;
            cvojovi.push_back({x,y});
        }
        std::cout&lt;&lt;"Unesite red interpolacije: ";
        int red;
        std::cin&gt;&gt;red;
        std::function&lt;double(double)&gt; f;
        try{
            f=BaricentricnaInterpolacija(cvojovi,red);
        }catch (std::domain_error a){std::cout&lt;&lt;a.what(); return 0;}
        while(true){
<a name="0"></a><font color="#FF0000"><a href="match258-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_12.gif"/></a>

            std::cout&lt;&lt;"Unesite argument (ili \"kraj\" za kraj): ";
            double arg;
            std::cin&gt;&gt;arg;
            if(!std::cin) return 0;
            std::cout&lt;&lt;"f("&lt;&lt;arg&lt;&lt;") = "&lt;&lt;f(arg)&lt;&lt;std::endl;
        }
    }
    else if(opcija==2){
        std::cout&lt;&lt;"Unesite krajeve intervala i korak: ";
        double xmin,xmax,delta;
        std::cin&gt;&gt;xmin&gt;&gt;xmax&gt;&gt;delta;
        std::cout&lt;&lt;"Unesite red interpolacije: ";
        int red;
        std::cin&gt;&gt;red;
        auto funkcija([](double x){return x*x+std::sin(x);});
        std::function&lt;double(double)&gt; f;
</font>        try{
            f=BaricentricnaInterpolacija([](double x){return x*x+std::sin(x);},xmin,xmax,delta,red);
        }catch (std::domain_error a){std::cout&lt;&lt;a.what();return 0;}
        while(true){
<a name="2"></a><font color="#0000FF"><a href="match258-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_4.gif"/></a>

            std::cout&lt;&lt;"Unesite argument (ili \"kraj\" za kraj): ";
            double arg;
            std::cin&gt;&gt;arg;
            if(!std::cin) return 0;
            std::cout&lt;&lt;"f("&lt;&lt;arg&lt;&lt;") = "&lt;&lt;funkcija(arg)&lt;&lt;" fapprox("&lt;&lt;arg&lt;&lt;") = "&lt;&lt;f(arg)&lt;&lt;std::endl;
</font>        }
    }
	return 0;
}</pre>
</body>
</html>
