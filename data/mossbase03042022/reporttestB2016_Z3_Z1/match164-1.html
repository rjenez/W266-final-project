<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z1/student8520.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z1/student5261.cpp<p></p><pre>
<a name="0"></a><font color="#FF0000"><a href="match164-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_99.gif"/></a>

/B2016/2017: ZadaÄ‡a 3, Zadatak 1
//Autotestovi by Enil Pajic (epajic1@etf.unsa.ba)
#include &lt;iostream&gt;
#include &lt;map&gt;
#include &lt;vector&gt;
#include &lt;string&gt;
#include &lt;set&gt;

std::map&lt;std::string, std::set&lt;int&gt;&gt; KreirajIndeksPojmova (std::string s)
{
    std::map&lt;std::string, std::set&lt;int&gt;&gt; m;
    std::vector&lt;std::string&gt; dio;
    for(int i=0; i&lt;s.length(); i++)
    {
        if(s[i] &gt;= 'A' &amp;&amp; s[i] &lt;= 'Z')
        {
            s[i] = s[i] - 32;
        }
    }
    int pomocni(0);
    for(int i=0; i&lt;s.length(); i++)
    {
        if((s[i] &gt;= 'A' &amp;&amp; s[i] &lt;= 'Z') || (s[i] &gt;= 'a' &amp;&amp; s[i] &lt;= 'z') || (s[i] &gt;= '0' &amp;&amp; s[i] &lt;= '9'))
        {
            dio.push_back(s.substr(pomocni, i-pomocni));
            pomocni = i+1;
        }
    }
    for(int i=0; i&lt;dio.size(); i++)
    {
        std::set&lt;int&gt; par;
        for(int j=0; j&lt;s.length(); j++)
        {
            if(dio[i] == s.substr(j, dio[i].size()))   par.insert(j);
        }
    }
    return m;
}

std::set&lt;int&gt; PretraziIndeksPojmova (std::string s, std::map&lt;std::string, std::set&lt;int&gt;&gt; mapa)
{
    std::set&lt;int&gt; par;
    auto pretraga(mapa.find(s));
    if(pretraga == mapa.end())
    {
        throw std::logic_error ("Pojam nije nadjen");
    }
    for(auto i : (*pretraga).second)
        par.insert(i);
        
    return par;
}

void IspisiIndeksPojmova (std::map&lt;std::string, std::set&lt;int&gt;&gt; m)
{
    for(auto it = m.begin(); it != m.end(); it++)
    {
        std::cout &lt;&lt; (*it).first &lt;&lt; ": ";
        int brojac1(0);
        for(int i : (*it).second)
        {
            if(i != 0)
                brojac1 += i/i;
            if(i == 0)
                brojac1++;
        }
        int brojac2(0);
        for(int i : (*it).second)
        {
            brojac2++;
            if(brojac1 &gt; brojac2)
                std::cout &lt;&lt; i &lt;&lt; ",";
            else 
                std::cout &lt;&lt; i;
        }
        std::cout &lt;&lt; std::endl;
    }
}

int main()
{
    std::string unesi;
    std::cout &lt;&lt; "Unesite tekst: ";
    std::getline(std::cin, unesi);
    std::map&lt;std::string, std::set&lt;int&gt;&gt; a = KreirajIndeksPojmova(unesi);
    IspisiIndeksPojmova(a);
    while(true)
    {
        std::string str;
        std::cout &lt;&lt; "Unesite rijec: ";
        std::getline(std::cin, str);
        try
        {
            std::set&lt;int&gt; b = PretraziIndeksPojmova(str, a);
            for(int x : b)
                std::cout &lt;&lt; x &lt;&lt; " ";
        }
        catch(std::logic_error)
        {
            std::cout &lt;&lt; "Unesena rijec nije nadjena!";
</font>        }
    }
    return 0;
}


</pre>
</body>
</html>
