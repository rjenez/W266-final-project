<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z1/student2701.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z1/student3631.cpp<p></p><pre>
<a name="0"></a><font color="#FF0000"><a href="match133-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_99.gif"/></a>

/B2016/2017: ZadaÄ‡a 3, Zadatak 1
//Autotestovi by Enil Pajic (epajic1@etf.unsa.ba)
#include &lt;iostream&gt;
#include &lt;stdexcept&gt;
#include &lt;vector&gt;
#include &lt;utility&gt;
#include &lt;functional&gt;
#include &lt;cmath&gt;
#include &lt;cstdio&gt;
#include &lt;cstdlib&gt;

#define eps 0.1

using namespace std;

int maks(int jedan,int drugi  ){
   if(jedan&gt;drugi) return jedan;
   return drugi;
}

int mini(int i, int j){
    if(i&lt;j) return i;
    return j;
}

double wi(int i, vector&lt;double&gt; koeficijenti){
return koeficijenti[i];    
}

double f(double x){
   
    return (x*x + sin(x));

}

function&lt;double(double)&gt; BaricentricnaInterpolacija(vector&lt;pair&lt;double,double&gt;&gt; parovi, int d){
    if(d&lt;0 ) throw domain_error("Nedozvoljen red");
    if(d&gt;parovi.size()) throw domain_error("Nedozvoljen red");
    
    for(int i=0;i&lt;parovi.size();i++){
        for(int j=i+1;j&lt;parovi.size();j++){
        if(parovi[i].first==parovi[j].first)  throw domain_error("Neispravni cvorovi");   
        }
    }
    vector&lt;double&gt; koeficijenti;
    int n=parovi.size();
    for(int i=1;i&lt;n+1;i++){
        
        int k;
        k=maks(1,i-d);
        int dd;
        dd=mini(i,n-d);
        double suma=0;
        for(int j=k;j&lt;=dd;j++){
           double proizvod=1;
           for(int l=j;l&lt;=j+d;l++){
               if(i==l) continue;
               proizvod*=(1./(parovi[i-1].first - parovi[l-1].first));
           }   
            
            suma+=(pow(-1,(j-1)) *proizvod); 
        }
       koeficijenti.push_back(suma); 
    }
    
    
    return [parovi,d,koeficijenti](double x){
        double novasuma1=0;
        double novasuma2=0;
        
        for(int i=0;i&lt;parovi.size();i++){
            
            if((x-parovi[i].first)==0) return parovi[i].second;
            novasuma1+=(wi(i,koeficijenti)/(x-parovi[i].first)) * parovi[i].second;
            novasuma2+=wi(i,koeficijenti)/(x-parovi[i].first); 
        }
        return novasuma1/novasuma2;
    };
}

template &lt;typename Tip&gt;
function&lt;double(double)&gt; BaricentricnaInterpolacija(Tip f(double), double xmin, double xmax, double deltax, int d){
    if(xmin-xmax&gt;eps) throw domain_error("Nekorektni parametri"); 
    if(deltax&lt;=0.00) throw domain_error("Nekorektni parametri");
   
    
    vector&lt;pair&lt;double,double&gt;&gt; cvorovi;
    for(double i=xmin;i&lt;=xmax;i+=deltax){
       
       cvorovi.push_back(make_pair(i,f(i)));
     
    }
    return BaricentricnaInterpolacija(cvorovi, d);

    
    
}


int main ()
{
    try{
    cout&lt;&lt;"Odaberite opciju (1 - unos cvorova, 2 - aproksimacija): ";
    int n;
    cin&gt;&gt;n;
    
    if(n==1){
        
        cout&lt;&lt;"Unesite broj cvorova: ";
        int brojcvorova;
        vector&lt;pair&lt;double,double&gt;&gt; mojvektor;
        cin&gt;&gt;brojcvorova;
        cout&lt;&lt;"Unesite cvorove kao parove x y: ";
        for(int i=0;i&lt;brojcvorova;i++){
            int x,y;
            cin&gt;&gt;x&gt;&gt;y;
            mojvektor.push_back(make_pair(x,y));
          
        }
        cout&lt;&lt;"Unesite red interpolacije: ";
        int d; cin&gt;&gt;d;
        
        for(;;){
            cout&lt;&lt;"Unesite argument (ili \"kraj\" za kraj): ";
            double brojj;
            cin&gt;&gt;brojj;
            if(!(cin)) break;
            cout&lt;&lt;"f("&lt;&lt;brojj&lt;&lt;") = "&lt;&lt;BaricentricnaInterpolacija(mojvektor,d)(brojj)&lt;&lt;endl;
        }
    
    }
    
    if(n==2){
        cout&lt;&lt;"Unesite krajeve intervala i korak: ";
        double xmin,xmax,deltax;
        cin&gt;&gt;xmin;
        cin&gt;&gt;xmax;
        cin&gt;&gt;deltax;
        cout&lt;&lt;"Unesite red interpolacije: ";
        int redintera;
        cin&gt;&gt;redintera;
        auto funkcija2(BaricentricnaInterpolacija(f,xmin,xmax,deltax,redintera));
        for(;;){
            cout&lt;&lt;"Unesite argument (ili \"kraj\" za kraj): ";
            double brojjj;
            cin&gt;&gt;brojjj;
            if(!(cin)) break;
            double funkcija;
            funkcija=f(brojjj);
            
            cout&lt;&lt;"f("&lt;&lt;brojjj&lt;&lt;") = "&lt;&lt;funkcija;
            cout&lt;&lt;" fapprox("&lt;&lt;brojjj &lt;&lt;") = "&lt;&lt;funkcija2(brojjj)&lt;&lt;endl;
            
        }
    }
   
    
    }catch(domain_error izuzetak){cout&lt;&lt;izuzetak.what();}
</font>	return 0;
}</pre>
</body>
</html>
