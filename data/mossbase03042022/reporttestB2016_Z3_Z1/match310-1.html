<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z1/student5358.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z1/student9897.cpp<p></p><pre>
/B2016/2017: ZadaÄ‡a 3, Zadatak 1
//Autotestovi by Enil Pajic (epajic1@etf.unsa.ba)
#include &lt;iostream&gt;
#include &lt;vector&gt;
#include &lt;utility&gt;
#include &lt;algorithm&gt;
#include &lt;functional&gt;
#include &lt;cmath&gt;
#include &lt;stdexcept&gt;

std::function&lt;double(double)&gt;BaricentricnaInterpolacija (std::vector&lt;std::pair&lt;double,double&gt;&gt; cvorovi, int d) {
    
    int n(cvorovi.size());
    
    if (d&gt;n || d&lt;0) throw std::domain_error ("Nedozvoljen red");
    
    for (int i=0; i&lt;n-1; i++) {
        for (int j=i+1; j&lt;n; j++) {
            if (std::abs(cvorovi[i].first-cvorovi[j].first)&lt;0.00001) throw std::domain_error ("Neispravni cvorovi"); 
        }
    }

    return [=] (double x) {

    double suma1(0), suma2(0);
   for (int i=1; i&lt;=n; i++) {
       double suma(0);
       
       if (std::abs(x-cvorovi[i-1].first)&lt;0.00001) {
           return cvorovi[i-1].second; 
       }

       for (int k=std::max(1,i-d); k&lt;=std::min(i,n-d); k++) {
          double proizvod(1);

<a name="2"></a><font color="#0000FF"><a href="match310-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_4.gif"/></a>

          for (int j=k; j&lt;=k+d; j++) {
              if (j!=i) proizvod*=(1/(cvorovi[i-1].first-cvorovi[j-1].first)); 
</font>}
              suma+=(std::pow(-1,k-1)*proizvod);
      }
            suma1+=((suma*cvorovi[i-1].second)/(x-cvorovi[i-1].first)); 
<a name="1"></a><font color="#00FF00"><a href="match310-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_4.gif"/></a>

            suma2+=suma/(x-cvorovi[i-1].first); 
   }
        
        return (suma1/suma2); 
    };
}

std::function&lt;double(double)&gt;BaricentricnaInterpolacija (std::function&lt;double (double)&gt; f, double a, double b, double c, int d) {
</font>    
    std::vector&lt;std::pair&lt;double,double&gt;&gt; vektor;
    if (a&gt;b || c&lt;0) throw std::domain_error ("Nekorektni parametri");
    
    for (double i=a; i&lt;=b; i=i+c) {
        double x(f(i)); 
        vektor.push_back(std::make_pair(i,x));
    }
    
    auto fun(BaricentricnaInterpolacija(vektor,d));
<a name="0"></a><font color="#FF0000"><a href="match310-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_8.gif"/></a>

    return fun; 
}

int main ()
{
    try {
    std::cout &lt;&lt; "Odaberite opciju (1 - unos cvorova, 2 - aproksimacija): "; 
    int n; 
    std::cin &gt;&gt; n; 
    
    if (n==1) {
        
        std::cout &lt;&lt; "Unesite broj cvorova: "; 
        int broj; 
        std::cin &gt;&gt; broj; 
        
        std::cout &lt;&lt; "Unesite cvorove kao parove x y: "; 
        std::vector&lt;std::pair&lt;double, double&gt;&gt; cvorovi(broj); 
        
        for (int i=0; i&lt;broj; i++) {
</font><a name="3"></a><font color="#00FFFF"><a href="match310-0.html#3" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_4.gif"/></a>

            std::cin &gt;&gt; cvorovi[i].first &gt;&gt; cvorovi[i].second; 
        }
        
        std::cout &lt;&lt; "Unesite red interpolacije: "; 
        int d; 
        std::cin &gt;&gt; d; 
</font>        
        for (;;) {
            double broj1; 
            std::cout &lt;&lt; "Unesite argument (ili " &lt;&lt; '"' &lt;&lt; "kraj" &lt;&lt; '"' &lt;&lt; " za kraj): "; 
            std::cin &gt;&gt; broj1; 
            
            if (!std::cin) {
            std::cin.clear(); 
            std::cin.ignore(10000, '\n');
            break; 
            }
            try {
            auto f(BaricentricnaInterpolacija(cvorovi, d)); 
            std::cout &lt;&lt; "f(" &lt;&lt; broj1 &lt;&lt; ") = " &lt;&lt; f(broj1) &lt;&lt; std::endl; 
            }
            catch (std::domain_error) {
                throw; 
            }
        }
    }
    
    if (n==2) {
        std::cout &lt;&lt; "Unesite krajeve intervala i korak: "; 
        double a,b,c; 
        std::cin &gt;&gt; a &gt;&gt; b &gt;&gt; c; 
        
        std::cout &lt;&lt; "Unesite red interpolacije: "; 
        int d; 
        std::cin &gt;&gt; d; 
        
        for (;;) {
            double broj; 
            std::cout &lt;&lt; "Unesite argument (ili " &lt;&lt; '"' &lt;&lt; "kraj" &lt;&lt; '"' &lt;&lt; " za kraj): "; 
            std::cin &gt;&gt; broj; 
            
            if (!std::cin) {
                std::cin.clear(); 
                std::cin.ignore(10000, '\n'); 
                break; 
            }
            try {
              auto fun([](double x) {
             return (std::pow(x,2) + std::sin(x));
             });
             
            auto f(BaricentricnaInterpolacija(fun, a, b, c, d)); 
<a name="4"></a><font color="#FF00FF"><a href="match310-0.html#4" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_3.gif"/></a>

            std::cout &lt;&lt; "f(" &lt;&lt; broj &lt;&lt; ") = " &lt;&lt; fun(broj) &lt;&lt; " fapprox(" &lt;&lt; broj &lt;&lt; ") = " &lt;&lt; f(broj) &lt;&lt; std::endl; 
            }
            catch (std::domain_error) {
</font>                throw; 
            }
        }
    }
    }
    catch(std::domain_error e) {
        std::cout &lt;&lt; e.what() &lt;&lt; std::endl; 
    }
    
  
	return 0;
}</pre>
</body>
</html>
