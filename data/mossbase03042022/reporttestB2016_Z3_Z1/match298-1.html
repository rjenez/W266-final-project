<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z1/student7492.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z1/student1302.cpp<p></p><pre>
/B2016/2017: ZadaÄ‡a 3, Zadatak 1
//Autotestovi by Enil Pajic (epajic1@etf.unsa.ba)
#include &lt;iostream&gt;
#include &lt;string&gt;
#include &lt;cmath&gt;
#include &lt;iomanip&gt;
#include &lt;vector&gt;
#include &lt;algorithm&gt;
#include &lt;utility&gt;
#include &lt;functional&gt;
#include &lt;stdexcept&gt;
#include &lt;cmath&gt;
#define ep 0.000000001
typedef std::vector&lt;std::pair&lt;double, double&gt;&gt; VektoriParoviDoubleova;

double racunamo (VektoriParoviDoubleova v, int d, int i){
    int velicina = v.size(), k, a = i-d, mini, stepen, c;
    double suma = 0, proizvod = 1;
    int b = velicina - d;
    
    if(a&gt;0)
        k = a;
    else 
        k = 1;
    if(b&lt;i)
        mini = b;   
    else
        mini = i;
   for(int f=k;f&lt;=mini;f++){
            stepen=pow(-1,f-1);
            c=f+d;
            for(int j = f; j &lt; c+1; ++j){
<a name="1"></a><font color="#00FF00"><a href="match298-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_5.gif"/></a>

             if(j-1!=i-1) 
                proizvod=proizvod*(1./(v[i-1].first-v[j-1].first));
            }
            suma=suma+(stepen*proizvod);
            proizvod=1;
        }
    
return suma;
</font>}
bool dozvola (double a, double b){
    if(fabs(a-b)&lt;ep)
        return true;
return false;
}
<a name="3"></a><font color="#00FFFF"><a href="match298-0.html#3" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_3.gif"/></a>

std::function&lt;double (double)&gt; BaricentricnaInterpolacija(VektoriParoviDoubleova v, int d){
    int n = v.size();
    
    if(d&lt;0 || d&gt;=n)
        throw std::domain_error ("Nedozvoljen red");
</font>    
    for(int i = 0; i &lt; n; i++)
        for(int j = i + 1; j &lt; n; j++)
            if(dozvola(v[i].first,v[j].first))
                throw std::domain_error("Neispravni cvorovi");
    
    return [v, d, n](double x){
        double brojnik = 0, nazivnik = 0, f;
        for(int i = 1; i&lt;=n; i++){
            if((fabs(v[i-1].first-x)&gt;ep)){
<a name="0"></a><font color="#FF0000"><a href="match298-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_8.gif"/></a>

                brojnik=brojnik+(racunamo(v,d,i)/(x-v[i-1].first))*v[i-1].second;
                nazivnik=nazivnik+(racunamo(v,d,i)/(x-v[i-1].first));}
                else{
                    return v[i-1].second;
                }
            }
            f=brojnik/nazivnik;
</font>        return f;
    };
}

double funkcija_sinusa (double x){
    double vracam;
    vracam = x*x+std::sin(x);
    return vracam;
}

std::function&lt;double(double)&gt; BaricentricnaInterpolacija(std::function&lt;double(double)&gt; funkcija_sinusa, double m1, double m, double delta, int d){
    VektoriParoviDoubleova v;
    if(m1&gt;m || delta&lt;=0){
        throw std::domain_error ("Nekorektni parametri");
        return 0;
    }
    for(auto i = m1; i&lt;=m; i=i+delta){
        std::pair&lt;double,double&gt; parovi;
        parovi = std::make_pair(i, funkcija_sinusa(i));
        v.push_back(parovi);
    }
    return BaricentricnaInterpolacija(v, d);
}

int main (){
    int unosim; 
    std::cout&lt;&lt;"Odaberite opciju (1 - unos cvorova, 2 - aproksimacija): ";
    std::cin&gt;&gt;unosim;
    VektoriParoviDoubleova vek;
    int n, red;
    if(unosim==1){
        std::cout&lt;&lt;"Unesite broj cvorova: ";
        std::cin&gt;&gt;n;
        std::cout&lt;&lt;"Unesite cvorove kao parove x y: ";
        for(auto i = 0; i&lt;n; ++i){
            double x, y;
            std::pair&lt;double, double&gt; p;
            std::cin&gt;&gt;x;
            std::cin&gt;&gt;y;
            p = std::make_pair(x, y);
            vek.push_back(p);
        }
        std::cout&lt;&lt;"Unesite red interpolacije: ";
        std::cin&gt;&gt;red;
        double ok, vrednost;
        
        try{
            auto funkcija = BaricentricnaInterpolacija(vek, red);
        for(;;){
        vrednost = 0;
        std::cout&lt;&lt;"Unesite argument (ili \"kraj\" za kraj): ";
        std::cin&gt;&gt;ok;
        if(!std::cin) 
            break;
<a name="2"></a><font color="#0000FF"><a href="match298-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_4.gif"/></a>

        vrednost = funkcija(ok);
        std::cout &lt;&lt; "f(" &lt;&lt; ok &lt;&lt; ") = " &lt;&lt; vrednost &lt;&lt; std::endl;
        }
    }
    catch(std::domain_error izuzetak){
        std::cout&lt;&lt;izuzetak.what();
</font>    }
    }
    if(unosim==2){
        double pocetak, kraj, delta, ok;
        int red;
        double vrednost1,vrednost2;
        std::cout&lt;&lt;"Unesite krajeve intervala i korak: ";
        std::cin&gt;&gt;pocetak&gt;&gt;kraj&gt;&gt;delta;
        std::cout&lt;&lt;"Unesite red interpolacije: ";
        std::cin&gt;&gt;red;
        try{
            auto funkcija1 = BaricentricnaInterpolacija(funkcija_sinusa, pocetak, kraj, delta, red);
            for(;;){
                 std::cout &lt;&lt; "Unesite argument (ili \"kraj\" za kraj): ";
                 std::cin&gt;&gt;ok;
                 if(!std::cin)break;
                vrednost1 = funkcija_sinusa(ok);
                vrednost2 = funkcija1(ok);
<a name="4"></a><font color="#FF00FF"><a href="match298-0.html#4" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_3.gif"/></a>

                std::cout &lt;&lt; "f(" &lt;&lt; ok &lt;&lt; ") = " &lt;&lt; vrednost1 &lt;&lt; " fapprox(" &lt;&lt; ok &lt;&lt; ") = " &lt;&lt; vrednost2 &lt;&lt; std::endl;
            }
        }
        catch(std::domain_error izuzetak){
            std::cout&lt;&lt;izuzetak.what();
</font>            return 0;
        }
    }
	return 0;
}</pre>
</body>
</html>
