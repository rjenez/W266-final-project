<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z1/student3320.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z1/student3320.cpp<p></p><pre>
/B2016/2017: ZadaÄ‡a 3, Zadatak 1
//Autotestovi by Enil Pajic (epajic1@etf.unsa.ba)
#include &lt;iostream&gt;
#include &lt;string&gt;
#include &lt;vector&gt;
#include &lt;iomanip&gt;
#include &lt;utility&gt;
#include &lt;functional&gt;
#include &lt;algorithm&gt;
#include &lt;cmath&gt;
#include &lt;stdexcept&gt;

#define epsilon 0.000000001

double Provjera(std::vector&lt;std::pair&lt;double, double&gt;&gt; brojevi3, int red3, int k, int i) {
    double proizvod=1;
<a name="3"></a><font color="#00FFFF"><a href="match169-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_5.gif"/></a>

    for(int j=k-1;j&lt;k+red3; j++) {
        if(j!=i) proizvod*=1./(brojevi3[i].first-brojevi3[j].first);
    }
    return proizvod;
}

double TezinskiKoeficijent(std::vector&lt;std::pair&lt;double, double&gt;&gt; brojevi2, int red2, int i) {
</font>    double suma=0;
    int test;
    int gornja, k;
    int duzina=brojevi2.size();
    
    if(i&lt;(duzina-red2)) { //MIN{i, n-d} GORNJA GRANICA
        gornja=i;
    } else {
        gornja=duzina-red2;
    }
    if(i-red2&gt;1) { //k=MAX{1, i-d} DONJA GRANICA
        k=i-red2;
    } else {
        k=1;
    }
    
    for(int a=k; a&lt;=gornja; a++) {
        test=std::pow(-1, a-1);
<a name="8"></a><font color="#00FFFF"><a href="match169-1.html#8" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_3.gif"/></a>

        suma+=(test*Provjera(brojevi2, red2, a, i-1));
    }
    return suma;
}

double Gornji (std::vector&lt;std::pair&lt;double, double&gt;&gt;brojevi, int red, double x) {
    double suma=0;
</font><a name="1"></a><font color="#00FF00"><a href="match169-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_6.gif"/></a>

    for(int i=0; i&lt;brojevi.size(); i++) {
        suma+=(TezinskiKoeficijent(brojevi, red, i+1)*brojevi[i].second)/(x-brojevi[i].first);
    }
    return suma;
}

double Donji (std::vector&lt;std::pair&lt;double, double&gt;&gt;brojevi, int red, double x) {
    double suma=0;
</font><a name="4"></a><font color="#FF00FF"><a href="match169-1.html#4" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_5.gif"/></a>

    for(int i=0; i&lt;brojevi.size(); i++) {
        suma+=(TezinskiKoeficijent(brojevi, red, i+1))/(x-brojevi[i].first);
    }
    return suma;
}

std::function&lt;double(double)&gt; BaricentricnaInterpolacija(std::vector&lt;std::pair&lt;double, double&gt;&gt; brojevi1, int red1) {
</font>    if(red1&lt;0 || red1&gt;=brojevi1.size()) throw std::domain_error("Nepostojeci red");
    for(int i=0; i&lt;brojevi1.size(); i++) {
<a name="7"></a><font color="#0000FF"><a href="match169-1.html#7" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_4.gif"/></a>

        for(int j=i+1; j&lt;brojevi1.size(); j++) {
            if(std::fabs(brojevi1[i].first-brojevi1[j].first)&lt;epsilon) throw std::domain_error("Neispravni cvorovi");
        }
    }
    return [brojevi1, red1](double x) {
</font>        double suma1;
        double suma2;
<a name="9"></a><font color="#FF00FF"><a href="match169-1.html#9" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_2.gif"/></a>

        for(int i=0; i&lt;brojevi1.size(); i++) {
            if(std::fabs(x-brojevi1[i].first)&lt;epsilon) return brojevi1[i].second;    
</font>        }
        suma1=Gornji(brojevi1, red1, x);
        suma2=Donji(brojevi1, red1, x);
        return suma1/suma2;
    };
}

std::function&lt;double(double)&gt; BaricentricnaInterpolacija(std::function&lt;double(double)&gt; f, double xmin, double xmax, double korak, int red) {
    if(xmin&gt;xmax || korak&lt;=0) throw std::domain_error("Nekorektni parametri");
    std::vector&lt;std::pair&lt;double, double&gt;&gt; brojevi;
    int brojac=0;
    while(1) {
        double par=xmin+korak*brojac;
        if(par&gt;xmax) break;
        brojevi.push_back(std::make_pair(par, f(par)));
        brojac++;
    }
    return BaricentricnaInterpolacija(brojevi, red);
}

int main() {
    std::cout &lt;&lt; "Odaberite opciju (1 - unos cvorova, 2 - aproksimacija): ";
    int opcija;
    std::cin &gt;&gt; opcija;
    int cvorovi;
    char glupost='"';
    
    if(opcija==1) { //ODABIR 1
        std::vector&lt;std::pair&lt;double, double&gt;&gt;brojevi;
        std::cout &lt;&lt; "Unesite broj cvorova: ";
        std::cin &gt;&gt; cvorovi;
        std::cout &lt;&lt; "Unesite cvorove kao parove x y: ";
<a name="6"></a><font color="#00FF00"><a href="match169-1.html#6" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_5.gif"/></a>

        for(int i=0; i&lt;cvorovi; i++) { //UNOS PAROVA
            double x, y;
            std::cin &gt;&gt; x &gt;&gt; y;
            brojevi.push_back(std::make_pair(x, y));
        }
        std::cout &lt;&lt; "Unesite red interpolacije: ";
        int red;
        std::cin &gt;&gt; red;
        try {    
            auto f=BaricentricnaInterpolacija(brojevi, red);
</font>            while(1) {    
<a name="2"></a><font color="#0000FF"><a href="match169-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_6.gif"/></a>

                std::cout &lt;&lt; "Unesite argument (ili " &lt;&lt; glupost &lt;&lt; "kraj" &lt;&lt; glupost &lt;&lt; " za kraj): ";
                double argument;
                std::cin &gt;&gt; argument;
                if(!std::cin) break;
                std::cout &lt;&lt; "f(" &lt;&lt; argument &lt;&lt; ") = " &lt;&lt; f(argument) &lt;&lt; std::endl;
                }
            } catch (std::domain_error izuzetak) {
                std::cout &lt;&lt; izuzetak.what();
</font>                return 1;
            }
        }
            if(opcija==2) {
                std::cout &lt;&lt; "Unesite krajeve intervala i korak: ";
                double a, b, korak;
<a name="5"></a><font color="#FF0000"><a href="match169-1.html#5" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_5.gif"/></a>

                std::cin &gt;&gt; a &gt;&gt; b &gt;&gt; korak;
                std::cout &lt;&lt; "Unesite red interpolacije: ";
                int red;
                std::cin &gt;&gt; red;
        
                try {
                    auto f=(BaricentricnaInterpolacija([](double x) { return x*x+std::sin(x);}, a, b, korak, red));
</font>                    while(1) {
<a name="0"></a><font color="#FF0000"><a href="match169-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_7.gif"/></a>

                        std::cout &lt;&lt; "Unesite argument (ili " &lt;&lt; glupost &lt;&lt; "kraj" &lt;&lt; glupost &lt;&lt; " za kraj): ";
                        double argument;
                        std::cin &gt;&gt; argument;
                        if(!std::cin) break;
                        std::cout &lt;&lt; "f(" &lt;&lt; argument &lt;&lt; ") = " &lt;&lt; argument*argument+std::sin(argument) &lt;&lt; " fapprox(" &lt;&lt; argument &lt;&lt; ") = " &lt;&lt; f(argument) &lt;&lt; std::endl;
                    }
                } catch (std::domain_error izuzetak) {
</font>                    std::cout &lt;&lt; izuzetak.what();
            }
        }
return 0;
}
</pre>
</body>
</html>
