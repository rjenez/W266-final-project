<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z1/student9385.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z1/student6516.cpp<p></p><pre>
/B2016/2017: ZadaÄ‡a 3, Zadatak 1
//Autotestovi by Enil Pajic (epajic1@etf.unsa.ba)
#include &lt;iostream&gt;
#include &lt;functional&gt;
#include &lt;utility&gt;
#include &lt;vector&gt;
#include &lt;cmath&gt;
#include &lt;stdexcept&gt;
using namespace std;




std::function&lt;double( double)&gt; BaricentricnaInterpolacija (std::vector&lt;std::pair&lt;double,double&gt;&gt; cvorovi, int d)
{
<a name="1"></a><font color="#00FF00"><a href="match273-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_7.gif"/></a>

    if(d&lt;0 ||d&gt;cvorovi.size()) throw std::domain_error("Nedozvoljen red");
    for(int i=0; i&lt;cvorovi.size()-1; i++)
    {
        for(int j=i+1; j&lt;cvorovi.size(); j++)
        {
            if(cvorovi[i].first== cvorovi[j].first)
</font>            {
                throw std::domain_error("Neispravni cvorovi");
            }
        }
    }
<a name="2"></a><font color="#0000FF"><a href="match273-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_6.gif"/></a>

    return [cvorovi, d] (double x)
    {
        double suma_brojnika(0), suma_nazivnika(0);
       
        for(int i=1; i&lt;=cvorovi.size(); i++)
        {
            if(x==cvorovi[i-1].first) return cvorovi[i-1].second;
            double omega(0);
</font><a name="3"></a><font color="#00FFFF"><a href="match273-0.html#3" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_5.gif"/></a>

            for( int k=std::max(1, i-d); k&lt;=fmin(i, cvorovi.size()-d); k++)
            {
                double proizvod(1);
                for( int j=k; j&lt;=k+d; j++)
                {   if(j!=i)
</font>                    {
                        proizvod=proizvod/(cvorovi[i-1].first - cvorovi[j-1].first);
                    }
                }
                omega+=proizvod * (pow(-1,k-1));
            }
            double u=omega/(x-cvorovi[i-1].first);
           suma_brojnika+=u*cvorovi[i-1].second;
           suma_nazivnika+=u;
      
        }
        
        return suma_brojnika/suma_nazivnika;
    };
}
double funkcija( double x)
{
    return (x*x + std::sin(x));
}

//druga funkcija
std::function&lt;double(double)&gt; BaricentricnaInterpolacija( double f(double x), double x_min, double x_max, double x_delta, int d)
{
    if(x_delta&lt;=0) throw std::domain_error("Nekorektni parametri");
    if(x_max&lt;x_min) throw std::domain_error("Nekorektni parametri");
    std::vector&lt;std::pair&lt;double,double&gt;&gt; vektor;
    double i=x_min;
    while( i&lt;=x_max )
    {
        std::pair&lt;double,double&gt; cvor=std::make_pair(i, f(i));
        vektor.push_back(cvor);
        i=i+x_delta;
        
    }
    std::function&lt;double(double)&gt; g(BaricentricnaInterpolacija(vektor, d));
    return g;
}





int main ()
{
    cout&lt;&lt;"Odaberite opciju (1 - unos cvorova, 2 - aproksimacija): ";
    int n;
    cin&gt;&gt;n;
    std::vector&lt;std::pair&lt;double,double&gt;&gt; cvorovi ;
   if(n==1){
        
            cout&lt;&lt;"Unesite broj cvorova: ";
            int k;
            cin&gt;&gt;k;
            cout&lt;&lt;"Unesite cvorove kao parove x y: ";
            for( int i=0; i&lt;k ; i++)
            {
                std::pair&lt;double,double&gt; cvor;
                double prvi;
                cin&gt;&gt;prvi;
                double drugi;
                cin&gt;&gt;drugi;
                cvor.first=prvi;
                cvor.second=drugi;
                cvorovi.push_back(cvor);
                
            }
            cout&lt;&lt;"Unesite red interpolacije: ";
            int d;
            cin&gt;&gt;d;
            do{
            cout&lt;&lt;"Unesite argument (ili \"kraj\" za kraj): ";
            double x;
            cin&gt;&gt;x;
            if(!std::cin) break;
       
       try{     auto f(BaricentricnaInterpolacija(cvorovi, d)); 
<a name="4"></a><font color="#FF00FF"><a href="match273-0.html#4" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_3.gif"/></a>

            cout&lt;&lt;"f("&lt;&lt;x&lt;&lt;") = "&lt;&lt; f(x)&lt;&lt;endl;
            }
            catch(std::domain_error e)
            {
                cout&lt;&lt;e.what()&lt;&lt;endl;
</font>            }
            }while(std::cin);
       
   }
   if(n==2)
   {
       cout&lt;&lt;"Unesite krajeve intervala i korak: ";
       double x_min;
       double x_max;
       double x_delta;
       cin&gt;&gt;x_min&gt;&gt;x_max&gt;&gt;x_delta;
       cout&lt;&lt;"Unesite red interpolacije: ";
            int d;
            cin&gt;&gt;d;
        do{
<a name="0"></a><font color="#FF0000"><a href="match273-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_7.gif"/></a>

            cout&lt;&lt;"Unesite argument (ili \"kraj\" za kraj): ";
            double x;
            cin&gt;&gt;x;
            if(!std::cin) break;
            try{
                auto g(BaricentricnaInterpolacija(funkcija, x_min, x_max, x_delta,d));
                cout&lt;&lt;"f("&lt;&lt;x&lt;&lt;") = "&lt;&lt;funkcija(x)&lt;&lt;" fapprox("&lt;&lt;x&lt;&lt;") = "&lt;&lt;g(x)&lt;&lt;endl;
</font>            }
            catch(std::domain_error e)
            {
                cout&lt;&lt;e.what()&lt;&lt;endl;
            }
        }while(std::cin);
       
   }
  
    
    
	return 0;
}</pre>
</body>
</html>
