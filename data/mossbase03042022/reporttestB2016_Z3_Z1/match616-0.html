<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z1/student1725.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z1/student1725.cpp<p></p><pre>
#include &lt;iostream&gt;
#include &lt;vector&gt;
#include &lt;cmath&gt;
#include &lt;stdexcept&gt;
#include &lt;functional&gt;

double W(std::vector&lt;std::pair&lt;double,double&gt;&gt; parovi , int d , int i) {
    double suma{0};
    
    int k{i-d}; if(k&lt;=0) k=1;
    
    int min;  min=parovi.size()-d; if(i&lt;min) min=i; 
    
  
    for(int x=k;x&lt;=min;x++) 
    {
        double koeficijent{pow(-1,x-1)};
        double proizvod{1};
<a name="0"></a><font color="#FF0000"><a href="match616-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_8.gif"/></a>

        for(int y=x;y&lt;=(x+d);y++)
        {
            if(parovi[i-1].first==parovi[y-1].first &amp;&amp; i-1!=y-1) throw std::domain_error("Neispravni cvorovi");
            if((i-1)!=(y-1)) proizvod*=(1./(parovi[i-1].first-parovi[y-1].first));
        }    
            suma+=(koeficijent*proizvod); 
</font>    }
    
    return suma;
}

//PRVA VERZIJA
    
std::function&lt;double (double)&gt; BaricentricnaInterpolacija(std::vector&lt;std::pair&lt;double,double&gt;&gt; parovi, int d) {
    if(d&lt;0 || d&gt;parovi.size()) throw std::domain_error("Nedozvoljen red");
    
    return [parovi,d](double a) {
        double brojnik{0},nazivnik{0};
        
        for(int i=1;i&lt;=parovi.size();i++) 
        {
            if(parovi[i-1].first!=a) 
            {
<a name="1"></a><font color="#00FF00"><a href="match616-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_5.gif"/></a>

                brojnik+=(W(parovi,d,i)/(a-parovi[i-1].first))*parovi[i-1].second;
                nazivnik+=(W(parovi,d,i)/(a-parovi[i-1].first));
</font>            }
            else return parovi[i-1].second;
        }
        return brojnik/nazivnik; 
    };
}


//DRUGA VERZIJA


std::function&lt;double (double)&gt; BaricentricnaInterpolacija(std::function&lt;double(double)&gt; fun,double xmin,double xmax,double delta,int d) {
    if(xmin&gt;xmax || delta&lt;=0) throw std::domain_error("Nekorektni parametri");
    std::vector&lt;std::pair&lt;double,double&gt;&gt; cvorovi;
    while(1) 
    {
        cvorovi.push_back(std::make_pair(xmax,fun(xmin)));
        xmin+=delta;
        if(xmin&gt;xmax) break;
    }
    
    if(d&lt;0 ||d&gt;cvorovi.size())throw std::domain_error("Nedozvoljen red");
    return [cvorovi,d,fun](double a) {
        double brojnik{0},nazivnik{0};
        
        for(int i=1;i&lt;=cvorovi.size();i++) 
        {
            if(cvorovi[i-1].first!=a) 
            {
<a name="2"></a><font color="#0000FF"><a href="match616-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_5.gif"/></a>

                brojnik+=(W(cvorovi,d,i)/(a-cvorovi[i-1].first))*cvorovi[i-1].second;
                nazivnik+=(W(cvorovi,d,i)/(a-cvorovi[i-1].first));
</font>            }
            else return fun(a);
        }
            return brojnik/nazivnik;
        
    };
    }
    
double sinus(double x) {
    return x*x+std::sin(x);
}
    
int main ()
{
    //std::cout&lt;&lt;"Ispravno!";
    
    std::cout&lt;&lt;"Odaberite opciju (1 - unos cvorova, 2 - aproksimacija): ";
    int n; std::cin&gt;&gt;n;
    
    if(n==1) 
    {
        std::cout&lt;&lt;"Unesite broj cvorova: ";
        int brojcvorova; std::cin&gt;&gt;brojcvorova;
        std::cout&lt;&lt;"Unesite cvorove kao parove x y: ";
        
        std::vector&lt;std::pair&lt;double,double&gt;&gt; parovi;
        
        for(int i=0;i&lt;brojcvorova;i++)
        {
            double x,y;
            std::cin&gt;&gt;x&gt;&gt;y;
            std::pair&lt;double,double&gt; par{std::make_pair(x,y)};
            parovi.push_back(par);
        }
        std::cout&lt;&lt;"Unesite red interpolacije: ";
        int d; std::cin&gt;&gt;d;
        
        while(1) {
            std::cout&lt;&lt;"Unesite argument (ili \"kraj\" za kraj): ";
            double argument; std::cin&gt;&gt;argument;
            if(!std::cin) break;
            try 
            {
                std::function&lt;double (double)&gt; f{BaricentricnaInterpolacija(parovi,d)};
                double ispis{f(argument)};
                std::cout&lt;&lt;"f("&lt;&lt;argument&lt;&lt;") = "&lt;&lt;ispis&lt;&lt;std::endl;
            }
            catch(std::domain_error izuzetak) {
                std::cout&lt;&lt;izuzetak.what()&lt;&lt;std::endl;
            }
        }
        
    }
    else 
    {
        std::cout&lt;&lt;"Unesite krajeve intervala i korake: ";
        double xmin,xmax,delta;  std::cin&gt;&gt;xmin&gt;&gt;xmax&gt;&gt;delta;
        
        std::cout&lt;&lt;"Unesite red interpolacije: ";
        int d; std::cin&gt;&gt;d;
        
        while(1) {
            std::cout&lt;&lt;"Unesite argument (ili \"kraj\" za kraj): ";
            double argument; std::cin&gt;&gt;argument;
            
            if(!std::cin) break;
            
            try
            {
                std::function&lt;double (double)&gt; f{BaricentricnaInterpolacija(sinus,xmin,xmax,delta,d)};
                double ispis{f(argument)};
                std::cout&lt;&lt;"f("&lt;&lt;argument&lt;&lt;") = "&lt;&lt;argument*argument+std::sin(argument)&lt;&lt;" fapprox("&lt;&lt;argument&lt;&lt;") = "&lt;&lt;ispis&lt;&lt;std::endl;
            }
            catch(std::domain_error izuzetak)
            {
                std::cout&lt;&lt;izuzetak.what()&lt;&lt;std::endl;
            }
        }
        
    }
	return 0;
}</pre>
</body>
</html>
