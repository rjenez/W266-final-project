<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z1/student7911.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z1/student5741.cpp<p></p><pre>
<a name="1"></a><font color="#00FF00"><a href="match650-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_6.gif"/></a>

    /B2016/2017: ZadaÄ‡a 3, Zadatak 1
//Autotestovi by Enil Pajic (epajic1@etf.unsa.ba)
#include &lt;iostream&gt;
#include &lt;vector&gt;
#include &lt;functional&gt;
#include &lt;utility&gt;
#include &lt;cmath&gt;
#include &lt;stdexcept&gt;

using std::cin;
using std::cout;
using std::endl;
using std::vector;
using std::function;
using std::pair;
using std::make_pair;
using std::domain_error;
</font><a name="0"></a><font color="#FF0000"><a href="match650-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_7.gif"/></a>


function&lt;double (double)&gt; BaricentricnaInterpolacija(vector&lt;pair&lt;double,double&gt;&gt; parovi,int d){
    if(d&lt;0 || d&gt;=parovi.size()){
        throw domain_error("Nedozvoljen red");
    }
    for(int i=1;i&lt;parovi.size();i++){
        for(int j=i+1;j&lt;=parovi.size();j++){
</font>            if(parovi[i-1].first==parovi[j-1].first){
                throw domain_error("Neispravni cvorovi");
            }
        }
    }
    vector&lt;double&gt; tezinski_koeficijenti;
    for(int i=1;i&lt;=parovi.size();i++){
        int k(1);
        if((i-d)&gt;1){
            k=i-d;
        }
        int granica(i);
        if((parovi.size()-d)&lt;granica){
            granica=parovi.size()-d;
        }
        double p(1);
        double suma(0);
        for(;k&lt;=granica;k++){
            p=1;
            for(int j=k;j&lt;=(k+d);j++){
                if(j!=i){
<a name="3"></a><font color="#00FFFF"><a href="match650-0.html#3" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_3.gif"/></a>

                    p=p*(1./(parovi[i-1].first-parovi[j-1].first));
                }
            }
            p=p*pow(-1,k-1);
</font>            suma=suma+p;
        }
        tezinski_koeficijenti.push_back(suma);
    }
    return [parovi,tezinski_koeficijenti,d](double x){double brojnik(0);for(int i=1;i&lt;=parovi.size();i++){
        if(x==parovi[i-1].first){
            return parovi[i-1].second;
        }
    }
        for(int i=1;i&lt;=parovi.size();i++){
        brojnik=brojnik+(tezinski_koeficijenti[i-1]/(x-parovi[i-1].first))*(parovi[i-1].second);
    }
        double nazivnik(0);for(int i=1;i&lt;=parovi.size();i++){
            nazivnik=nazivnik+tezinski_koeficijenti[i-1]/(x-parovi[i-1].first);
        }
        return brojnik/nazivnik;
    };
}

<a name="2"></a><font color="#0000FF"><a href="match650-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_4.gif"/></a>

function&lt;double (double)&gt; BaricentricnaInterpolacija(function &lt;double (double)&gt; f,double x_min,double x_max,double delta_x,int d){
    if(x_min&gt;x_max || delta_x&lt;=0){
        throw domain_error("Nekorektni parametri");
</font>    }
    vector&lt;pair&lt;double,double&gt;&gt; parovi;
    for(int i=0;;i++){
        auto korak(x_min+i*delta_x);
        if(korak&gt;x_max){
            break;
        }
        parovi.push_back(std::make_pair(x_min+i*delta_x,f(x_min+i*delta_x)));
    }
    return BaricentricnaInterpolacija(parovi,d);
}

double SinusnaFunkcija(double argument){
    return argument*argument+sin(argument);
}

int main ()
{
    int opcija;
    cout&lt;&lt;"Odaberite opciju (1 - unos cvorova, 2 - aproksimacija): ";
    cin&gt;&gt;opcija;
    try{
        if(opcija==1){
            int n;
            cout&lt;&lt;"Unesite broj cvorova: ";
            cin&gt;&gt;n;
            vector&lt;pair&lt;double,double&gt;&gt; parovi;
            cout&lt;&lt;"Unesite cvorove kao parove x y: ";
            for(int i=0;i&lt;n;i++){
                double x;
                cin&gt;&gt;x;
                double y;
                cin&gt;&gt;y;
                parovi.push_back(make_pair(x,y));
            }
            int d;
            cout&lt;&lt;"Unesite red interpolacije: ";
            cin&gt;&gt;d;
            auto f(BaricentricnaInterpolacija(parovi,d));
            for(;;){
                double argument;
                cout&lt;&lt;"Unesite argument (ili \"kraj\" za kraj): ";
                cin&gt;&gt;argument;
                if(!cin){
                    break;
                }
                cout&lt;&lt;"f("&lt;&lt;argument&lt;&lt;") = "&lt;&lt;f(argument)&lt;&lt;endl;
            }
        }
    }
    catch(domain_error izuzetak){
        cout&lt;&lt;izuzetak.what();
    }
    try{
            if(opcija==2){
            double x_min,x_max,delta_x;
            cout&lt;&lt;"Unesite krajeve intervala i korak: ";
            cin&gt;&gt;x_min&gt;&gt;x_max&gt;&gt;delta_x;
            int d;
            cout&lt;&lt;"Unesite red interpolacije: ";
            cin&gt;&gt;d;
            for(;;){
                double argument;
                cout&lt;&lt;"Unesite argument (ili \"kraj\" za kraj): ";
                cin&gt;&gt;argument;
                if(!cin){
                    break;
                }
                auto f1(BaricentricnaInterpolacija([](double argument){return argument*argument+sin(argument);},x_min,x_max,delta_x,d));
                cout&lt;&lt;"f("&lt;&lt;argument&lt;&lt;") = "&lt;&lt;SinusnaFunkcija(argument)&lt;&lt;" fapprox("&lt;&lt;argument&lt;&lt;") = "&lt;&lt;f1(argument)&lt;&lt;endl;
            }
        }
    }
    catch(domain_error izuzetak){
        cout&lt;&lt;izuzetak.what();
    }
	return 0;
}</pre>
</body>
</html>
