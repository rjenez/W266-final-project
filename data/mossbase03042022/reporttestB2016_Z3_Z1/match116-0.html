<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z1/student5830.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z1/student5830.cpp<p></p><pre>
<a name="0"></a><font color="#FF0000"><a href="match116-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_99.gif"/></a>

/B2016/2017: ZadaÄ‡a 3, Zadatak 1
//Autotestovi by Enil Pajic (epajic1@etf.unsa.ba)
#include &lt;iostream&gt;
#include &lt;functional&gt;
#include &lt;vector&gt;
#include &lt;utility&gt;
#include &lt;cmath&gt;
#include &lt;cstdlib&gt;
#include &lt;stdexcept&gt;
using namespace std;
function&lt;double(double)&gt; BaricentricnaInterpolacija(vector&lt;pair&lt;double,double&gt;&gt; cvorovi,int d){
    int n=cvorovi.size();
    if(d&lt;0 || d&gt;n) throw std::domain_error("Nedozvoljen red");
    for(int i=0;i&lt;cvorovi.size();i++){
        for(int j=i+1;j&lt;cvorovi.size();j++){
            if(cvorovi[i].first==cvorovi[j].first)throw std::domain_error("Nedozvoljen red");
        }
    }
vector&lt;double&gt; tezinski(n);
for(int i=1;i&lt;=n;i++){
    tezinski[i-1]=0;
    int a=1,b=cvorovi.size()-d;
    if(i-d&gt;a){ a=i-d;}
    if(i&lt;b) b=i;
    for(int k=a;k&lt;=b;k++){
        double proizvod(1);
        for(int j=k;j&lt;=k+d;j++){
            if(i==j) continue;
            proizvod*=1./(cvorovi[i-1].first-cvorovi[j-1].first);
        }
        proizvod*=pow(-1,k-1);
        tezinski[i-1]+=proizvod;
    }
}
return[tezinski,cvorovi](double x)
{
    double brojnik=0,nazivnik=0;
    for(int i=1;i&lt;=cvorovi.size();i++){
        
    if(x-cvorovi[i-1].first==0) {return cvorovi[i-1].second;}
    
    brojnik+=tezinski[i-1]*cvorovi[i-1].second/(x-cvorovi[i-1].first);
    nazivnik+=tezinski[i-1]/(x-cvorovi[i-1].first);}
    return brojnik/nazivnik;};
}
function&lt;double(double)&gt; BaricentricnaInterpolacija(double f(double),double xmin,double xmax,double dx,int d){
    if(xmin&gt;xmax || dx&lt;=0) throw std::domain_error("Nekorektni parametri");
    double pocetak=xmin;
    vector&lt;double&gt; prvi;
    while(pocetak&lt;=xmax){
        prvi.push_back(pocetak);
        pocetak+=dx;
    }
    vector&lt;pair&lt;double,double&gt;&gt; cvorovi(prvi.size());
    for(int i=0;i&lt;prvi.size();i++){
        cvorovi[i].first=prvi[i];
        cvorovi[i].second=f(prvi[i]);
    }
    return BaricentricnaInterpolacija(cvorovi,d);
}
double funkcija(double x){
    return x*x+sin(x);}
int main ()
{
    
    cout&lt;&lt;"Odaberite opciju (1 - unos cvorova, 2 - aproksimacija): ";
    int a;
    cin&gt;&gt;a;
    if(a==1){
        int n;
        cout&lt;&lt;"Unesite broj cvorova: ";
        cin&gt;&gt;n;
        vector&lt;pair&lt;double,double&gt;&gt; cvorovi(n);
        cout&lt;&lt;"Unesite cvorove kao parove x y: ";
        for(int i=0;i&lt;n;i++){ 
        cin&gt;&gt;cvorovi[i].first;
                cin&gt;&gt;cvorovi[i].second;
        }
        cout&lt;&lt;"Unesite red interpolacije: ";
        int d;
        cin&gt;&gt;d;
        try{
        auto f(BaricentricnaInterpolacija(cvorovi,d));
        for(;;){
            cout&lt;&lt;"Unesite argument (ili \"kraj\" za kraj): ";
            double broj;
            cin&gt;&gt;broj;
            if(!std::cin) break;
            cout&lt;&lt;"f("&lt;&lt;broj&lt;&lt;") = "&lt;&lt;f(broj);
            cout&lt;&lt;endl;
        }}
        catch(std::domain_error izuzetak){cout&lt;&lt;izuzetak.what();}
    }
    else 
    if(a==2){    
     cout&lt;&lt;"Unesite krajeve intervala i korak: ";   
        double xmin,xmax,dx;
        cin&gt;&gt;xmin&gt;&gt;xmax&gt;&gt;dx;
        cout&lt;&lt;"Unesite red interpolacije: ";
        int d;
        cin&gt;&gt;d;
        try{
         auto f2(BaricentricnaInterpolacija(funkcija,xmin,xmax,dx,d));
        for(;;){
            cout&lt;&lt;"Unesite argument (ili \"kraj\" za kraj): ";
            double broj;
            cin&gt;&gt;broj;
            if(!std::cin) break;
            cout&lt;&lt;"f("&lt;&lt;broj&lt;&lt;") = "&lt;&lt;funkcija(broj)&lt;&lt;" fapprox("&lt;&lt;broj&lt;&lt;") = "&lt;&lt;f2(broj);
            cout&lt;&lt;endl;
        }}
         catch(std::domain_error izuzetak){cout&lt;&lt;izuzetak.what();}
</font>        }
	return 0;
}</pre>
</body>
</html>
