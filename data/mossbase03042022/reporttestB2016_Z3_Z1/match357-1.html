<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z1/student1649.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z1/student2508.cpp<p></p><pre>
<a name="3"></a><font color="#00FFFF"><a href="match357-0.html#3" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_3.gif"/></a>

/B2016/2017: ZadaÄ‡a 3, Zadatak 1
//Autotestovi by Enil Pajic (epajic1@etf.unsa.ba)
#include &lt;iostream&gt;
#include &lt;vector&gt;
#include &lt;functional&gt;
#include &lt;stdexcept&gt;
#include &lt;cmath&gt;

int max(int x, int y)
{
    if(x&gt;y) return x;
</font>    else return y;
}

int min(int x, int y)
{
    if(x&lt;y) return x;
    else return y;
}

std::function&lt;double(double)&gt; BaricentricnaInterpolacija(std::vector&lt;std::pair&lt;double ,double&gt;&gt; v,int d)
{
    if(d&lt;0 || d&gt;v.size()) throw std::domain_error("Nedozvoljen red");
    for(int i(0);i&lt;v.size();i++)
        for(int j(i+1);j&lt;v.size();j++)
            if(v[i].first==v[j].first) throw std::domain_error("Neispravni cvorovi");
    std::vector&lt;double&gt; teskasi(v.size());
    for(int i(1);i&lt;=v.size();i++)
    {
        int poc(max(1,i-d));
        int kraj(min(i,v.size()-d));
        teskasi[i-1]=0;
        for(int k(poc);k&lt;=kraj;k++)
        {
            int znak; if((k-1)%2==0) znak=1; else znak=-1; //ako je paran + ako je neparan -
            double proizvod(1);
            for(int j(k);j&lt;=k+d;j++)
            {
                if(i==j) continue;
                proizvod*=(1./(v[i-1].first-v[j-1].first));
            }
            proizvod*=znak;
            teskasi[i-1]+=proizvod;
        }
    }
    return [v,teskasi](double x)
    {
        double suma(0),sumay(0);
        for(int i(0);i&lt;v.size();i++)
          {
<a name="0"></a><font color="#FF0000"><a href="match357-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_11.gif"/></a>

              if(v[i].first==x) return v[i].second;
            sumay+=((teskasi[i]/(x-v[i].first))*v[i].second);
            suma+=(teskasi[i]/(x-v[i].first));
          }
          return sumay/suma;
    };
}

template &lt;typename Baklava&gt;

std::function&lt;double(double)&gt; BaricentricnaInterpolacija(Baklava f,double xmin, double xmax,double deltax,int d)
{
    if(xmin&gt;xmax || deltax&lt;=0) throw std::domain_error("Nekorektni parametri");
</font>    std::vector&lt;std::pair&lt;double,double&gt;&gt; v;
    for(;xmin&lt;=xmax;xmin+=deltax)
        v.push_back(std::make_pair(xmin,f(xmin)));
    return BaricentricnaInterpolacija(v,d);
}

int main ()
{
<a name="1"></a><font color="#00FF00"><a href="match357-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_6.gif"/></a>

    try
    {
        std::cout&lt;&lt;"Odaberite opciju (1 - unos cvorova, 2 - aproksimacija): ";
        int izbor(0); std::cin&gt;&gt;izbor;
        if(izbor==1)
        {
            std::cout&lt;&lt;"Unesite broj cvorova: ";
            int n; std::cin&gt;&gt;n;
            std::vector&lt;std::pair&lt;double,double&gt;&gt; v(n);
</font>            std::cout&lt;&lt;"Unesite cvorove kao parove x y: ";
            for(int i(0);i&lt;n;i++)
                std::cin&gt;&gt;v[i].first&gt;&gt;v[i].second;
            std::cout&lt;&lt;"Unesite red interpolacije: ";
            int d; std::cin&gt;&gt;d;
            auto f(BaricentricnaInterpolacija(v,d));
            for(;;)
            {
                std::cout&lt;&lt;"Unesite argument (ili \"kraj\" za kraj): ";
                double x; std::cin&gt;&gt;x;
                if(!std::cin) return 0;
                std::cout&lt;&lt;"f("&lt;&lt;x&lt;&lt;") = "&lt;&lt;f(x)&lt;&lt;std::endl;
            }
        }
        else if(izbor==2)
        {
            std::cout&lt;&lt;"Unesite krajeve intervala i korak: ";
            double xmin,xmax,deltax; std::cin&gt;&gt;xmin&gt;&gt;xmax&gt;&gt;deltax;
            std::cout&lt;&lt;"Unesite red interpolacije: ";
            int d; std::cin&gt;&gt;d;
<a name="2"></a><font color="#0000FF"><a href="match357-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_4.gif"/></a>

            auto f([](double x){ return x*x+std::sin(x); });
            auto fapprox(BaricentricnaInterpolacija(f,xmin,xmax,deltax,d));
            for(;;)
            {
                std::cout&lt;&lt;"Unesite argument (ili \"kraj\" za kraj): ";
                double x; std::cin&gt;&gt;x;
                if(!std::cin) return 0;
</font>                std::cout&lt;&lt;"f("&lt;&lt;x&lt;&lt;") = "&lt;&lt;f(x)&lt;&lt;" ";
                std::cout&lt;&lt;"fapprox("&lt;&lt;x&lt;&lt;") = "&lt;&lt;fapprox(x)&lt;&lt;std::endl;
            }
        }
    }
    catch(std::domain_error izuzetak)
    {
        std::cout&lt;&lt;izuzetak.what();
    }
    	return 0;
}</pre>
</body>
</html>
