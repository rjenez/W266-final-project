<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z1/student4473.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z1/student4473.cpp<p></p><pre>
/B2016/2017: ZadaÄ‡a 3, Zadatak 1
//Autotestovi by Enil Pajic (epajic1@etf.unsa.ba)
#include &lt;iostream&gt;
#include &lt;vector&gt;
#include &lt;stdexcept&gt;
#include &lt;functional&gt;
#include &lt;cmath&gt;
#include &lt;utility&gt;

<a name="2"></a><font color="#0000FF"><a href="match262-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_6.gif"/></a>

std::function&lt;double(double)&gt; BaricentricnaInterpolacija(std::vector&lt;std::pair&lt;double,double&gt;&gt; v, int d){
    if (d&lt;0 or d&gt;v.size()) throw std::domain_error("Nedozvoljen red");
    //identicne koordinate
    for(int i=0;i&lt;v.size();i++)
        for(int k=i+1;k&lt;v.size();k++)
</font>            if(v[i].first==v[k].first)
                throw std::domain_error("Neispravni cvorovi");
    std::vector&lt;double&gt; glavni;
    for(int i=1;i&lt;=v.size();i++){
        double suma(0);
        for(int k=std::max(1,i-d);k&lt;=std::min(i,(int)v.size()-d);k++){
            double pomoc(1);
            for(int j=k;j&lt;=k+d;j++){
                if(j==i) continue;
                pomoc*=1/(v[i-1].first-v[j-1].first);
            }
            pomoc*=pow(-1,k-1);
            suma+=pomoc;
        }
        glavni.push_back(suma);
    }
    return [glavni,v] (double x) {
        double suma(0),suma1(0);
        for(int i=1;i&lt;=v.size();i++){
            if(x==v[i-1].first) return v[i-1].second;
            suma+=(glavni[i-1]*v[i-1].second)/(x-v[i-1].first);
<a name="0"></a><font color="#FF0000"><a href="match262-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_8.gif"/></a>

            suma1+=(glavni[i-1]/(x-v[i-1].first));
        }
         return suma/suma1;
    };
}


std::function&lt;double (double)&gt; BaricentricnaInterpolacija(double f (double), double min,double max,double delta,int d){
    if(min&gt;max or delta&lt;=0) throw std::domain_error("Nekorektni parametri");
    std::vector&lt;std::pair&lt;double,double&gt;&gt; glavni;
    for(double i=min;i&lt;=max;i+=delta){
</font>        glavni.push_back(std::make_pair(i,f(i)));
    }
    return BaricentricnaInterpolacija(glavni,d);
}
int main ()
{   std::cout&lt;&lt;"Odaberite opciju (1 - unos cvorova, 2 - aproksimacija): ";
    int n;
    std::cin&gt;&gt;n;
    if(n==1){
        std::cout&lt;&lt;"Unesite broj cvorova: ";
        int k;
<a name="1"></a><font color="#00FF00"><a href="match262-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_6.gif"/></a>

        std::cin&gt;&gt;k;
        std::vector&lt;std::pair&lt;double,double&gt;&gt; glavni;
        std::cout&lt;&lt;"Unesite cvorove kao parove x y: ";
        for(int i=0;i&lt;k;i++){
            std::pair&lt;double,double&gt; cvor;
            std::cin&gt;&gt;cvor.first&gt;&gt;cvor.second;
</font>            glavni.push_back(cvor);
        }
    int d;
    std::cout&lt;&lt;"Unesite red interpolacije: ";
    std::cin&gt;&gt;d;
    std::cout&lt;&lt;"Unesite argument (ili \"kraj\" za kraj): ";
    double x;
    std::cin&gt;&gt;x;
    try{
<a name="3"></a><font color="#00FFFF"><a href="match262-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_4.gif"/></a>

        auto f(BaricentricnaInterpolacija(glavni,d));
        while(std::cin){
            std::cout&lt;&lt;"f("&lt;&lt;x&lt;&lt;") = "&lt;&lt;f(x)&lt;&lt;std::endl;
            std::cout&lt;&lt;"Unesite argument (ili \"kraj\" za kraj): ";
</font>            std::cin&gt;&gt;x;
        }
        }
    catch(std::domain_error err){
        std::cout&lt;&lt;err.what();
        return 0;
        }
    }
    if(n==2){
        std::cout&lt;&lt;"Unesite krajeve intervala i korak: ";
        double min,max,delta;
        std::cin&gt;&gt;min&gt;&gt;max&gt;&gt;delta;
        int d;
        std::cout&lt;&lt;"Unesite red interpolacije: ";
        std::cin&gt;&gt;d;
        std::cout&lt;&lt;"Unesite argument (ili \"kraj\" za kraj): ";
        double x;
        std::cin&gt;&gt;x;
        try{
            auto fun(BaricentricnaInterpolacija([] (double x) { return x*x+sin(x);},min,max,delta,d));
<a name="4"></a><font color="#FF00FF"><a href="match262-1.html#4" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_3.gif"/></a>

            while(std::cin){
                std::cout&lt;&lt;"f("&lt;&lt;x&lt;&lt;") = "&lt;&lt;x*x+sin(x)&lt;&lt;" fapprox("&lt;&lt;x&lt;&lt;") = "&lt;&lt;fun(x)&lt;&lt;std::endl;
</font>                  std::cout&lt;&lt;"Unesite argument (ili \"kraj\" za kraj): ";
                  std::cin&gt;&gt;x;
            }
            
        }
        catch(std::domain_error err){
            std::cout&lt;&lt;err.what();
            return 0;
        }
    }
	return 0;
}</pre>
</body>
</html>
