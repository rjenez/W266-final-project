<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z1/student4982.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z1/student4982.cpp<p></p><pre>
/B2016/2017: ZadaÄ‡a 3, Zadatak 1
//Autotestovi by Enil Pajic (epajic1@etf.unsa.ba)
#include &lt;iostream&gt;
#include &lt;stdexcept&gt;
#include &lt;vector&gt;
#include &lt;utility&gt;
#include &lt;cmath&gt;
#include &lt;functional&gt;

double stepen(int x, int y)
{
    if(y==0) return 1;
    int z=1;
    for(int i=0;i&lt;y;i++) z*=x;
    return z;
}
std::function&lt;double(double)&gt; BaricentricnaInterpolacija(std::vector&lt;std::pair&lt;double,double&gt;&gt; cvorovi, int d)
{
    if(d&lt;0 || d&gt;=cvorovi.size()) throw std::domain_error ("Nedozvoljen red");
    if(cvorovi.size()&gt;1)
    {
<a name="0"></a><font color="#FF0000"><a href="match901-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_4.gif"/></a>

        for(int i=0;i&lt;cvorovi.size()-1;i++)
        {
            for(int j=i+1;j&lt;cvorovi.size();j++)
            {
                if(cvorovi[i].first==cvorovi[j].first) throw std::domain_error("Neispravni cvorovi");
</font>            }
        }
    }
    
    return [cvorovi,d] (double x)
    {
        double brojnik=0, nazivnik=0;
        int n=cvorovi.size();
        if(n!=0)
        {
            for(int i=1;i&lt;=n;i++)
            {
                int k,k2,trenutni=i-1;
                if(x==cvorovi[trenutni].first) return cvorovi[trenutni].second;
                double w=0;
                if(i-d&gt;1) k=i-d;
                else k=1;
                if(n-d&lt;i) k2=n-d;
                else k2=i;
<a name="3"></a><font color="#00FFFF"><a href="match901-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_3.gif"/></a>

                for(int s=k;s&lt;=k2;s++)
                {
                    double proizvod=1;
                    for(int j=s;j&lt;=s+d;j++)
                    {
                        if(j==i) continue;
                        proizvod*=1./(cvorovi[trenutni].first-cvorovi[j-1].first);
</font>                    } 
                    w+=(proizvod*stepen(-1,s));
                } 
                brojnik+=(w*cvorovi[trenutni].second)/(x-cvorovi[trenutni].first);
<a name="4"></a><font color="#FF00FF"><a href="match901-1.html#4" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_3.gif"/></a>

                nazivnik+=w/(x-cvorovi[trenutni].first);
            }
            return brojnik/nazivnik;
        }
        
        
    };
    }

std::function&lt;double(double)&gt; BaricentricnaInterpolacija(std::function&lt;double(double)&gt; f, double min, double max, double delta, int d)
</font>{
    if(min&gt;max || delta&lt;=0) throw std::domain_error("Nekorektni parametri");
    double t=min;
    std::vector&lt;std::pair&lt;double,double&gt;&gt; cvorovi;
    while(t&lt;=max)
    {
        if(t&gt;max) break;
        cvorovi.push_back(std::make_pair(t,f(t)));
        t+=delta;
    }
    return BaricentricnaInterpolacija(cvorovi,d);
}

int main ()
{
    std::cout&lt;&lt;"Odaberite opciju (1 - unos cvorova, 2 - aproksimacija): ";
    int opcija;
    std::cin&gt;&gt;opcija;
    try {
    if(opcija==1)
    {
        int broj;
<a name="2"></a><font color="#0000FF"><a href="match901-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_3.gif"/></a>

        std::cout&lt;&lt;"Unesite broj cvorova: ";
        std::cin&gt;&gt;broj;
        std::cout&lt;&lt;"Unesite cvorove kao parove x y: ";
        std::vector&lt;std::pair&lt;double,double&gt;&gt; cvorovi;
</font>        for(int i=0;i&lt;broj;i++)
        {
        double x, y;
        std::cin&gt;&gt;x&gt;&gt;y;
        cvorovi.push_back(std::make_pair(x,y));
        }
        std::cout&lt;&lt;"Unesite red interpolacije: ";
        int d;
        std::cin&gt;&gt;d;
        while (1)
        {
            char znak=34;
            std::cout&lt;&lt;"Unesite argument (ili "&lt;&lt;znak&lt;&lt;"kraj"&lt;&lt;znak&lt;&lt;" za kraj): ";
            double arg;
            std::cin&gt;&gt;arg;
            if(!std::cin) break;
            auto f=BaricentricnaInterpolacija(cvorovi,d);
            std::cout&lt;&lt;"f("&lt;&lt;arg&lt;&lt;") = "&lt;&lt;f(arg)&lt;&lt;std::endl;
        }
    }
    if(opcija==2)
    {
<a name="1"></a><font color="#00FF00"><a href="match901-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_4.gif"/></a>

        std::cout&lt;&lt;"Unesite krajeve intervala i korak: ";
        double poc,kraj,delta;
        std::cin&gt;&gt;poc&gt;&gt;kraj&gt;&gt;delta;
        int d;
        std::cout&lt;&lt;"Unesite red interpolacije: ";
        std::cin&gt;&gt;d;
</font>        std::function&lt;double(double)&gt; fun = [](double r) { return r*r+sin(r);}  ;
        while(1)
        {
            char znak=34;
            std::cout&lt;&lt;"Unesite argument (ili "&lt;&lt;znak&lt;&lt;"kraj"&lt;&lt;znak&lt;&lt;" za kraj): ";
            double arg;
            std::cin&gt;&gt;arg;
            if(!std::cin) break;
            std::cout&lt;&lt;"f("&lt;&lt;arg&lt;&lt;") = "&lt;&lt;fun(arg)&lt;&lt;" fapprox("&lt;&lt;arg&lt;&lt;") = "&lt;&lt;BaricentricnaInterpolacija(fun,poc,kraj,delta,d)(arg)&lt;&lt;std::endl;
        }
    
    }
    }
    catch(std::domain_error e)
    {
        std::cout&lt;&lt;e.what();
    }
    return 0;
}</pre>
</body>
</html>
