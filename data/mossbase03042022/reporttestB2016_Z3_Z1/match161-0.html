<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z1/student9391.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z1/student9391.cpp<p></p><pre>
/B2016/2017: ZadaÄ‡a 3, Zadatak 1
//Autotestovi by Enil Pajic (epajic1@etf.unsa.ba)
#include &lt;iostream&gt;
#include &lt;functional&gt;
#include &lt;cmath&gt;
#include &lt;vector&gt;
#include &lt;utility&gt;
#include &lt;stdexcept&gt;

#define PI 3.14159
void ProvjeraIspravnosti(std::vector &lt; std::pair &lt; double, double &gt;&gt; cvorovi, int red) {
<a name="2"></a><font color="#0000FF"><a href="match161-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_7.gif"/></a>

  if (red &lt; 0 || red &gt; cvorovi.size()) throw std::domain_error("Nedozvoljen red");
  for (int i = 0; i &lt; cvorovi.size(); i++) {
    for (int j = 0; j &lt; cvorovi.size(); j++) {
      if (i != j) {
        if (cvorovi[i].first == cvorovi[j].first) throw std::domain_error("Neispravni cvorovi");
      }
    }
  }
}

std:: function &lt; double(double) &gt; BaricentricnaInterpolacija(std::vector &lt; std::pair &lt; double, double &gt;&gt; cvorovi, int red) {
</font>  ProvjeraIspravnosti(cvorovi, red);
<a name="0"></a><font color="#FF0000"><a href="match161-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_37.gif"/></a>

  return [cvorovi, red](double x) {
    for (int i = 0; i &lt; cvorovi.size(); i++)
      if (x == cvorovi[i].first) return cvorovi[i].second;
    double rezultat = 0, brojnik = 0, nazivnik = 0;
    for (int i = 0; i &lt; cvorovi.size(); i++) {
      double wi = 0;
      int pocetak = 0, kraj = i;
      if (pocetak &lt; (i - red))
        pocetak = i - red;
      if (kraj &gt; (cvorovi.size() - red - 1))
        kraj = cvorovi.size() - red - 1;
      for (int k = pocetak; k &lt;= kraj; k++) {
        double koef = 1.0;
        double pom = 1.0;
        if (k % 2 == 1) koef = -1.0;
        for (int j = k; j &lt;= (k + red); j++) {
          if (j == i) continue;
          pom = pom / (cvorovi[i].first - cvorovi[j].first);

        }
        wi = wi + koef * pom;
      }

      brojnik = brojnik + wi * cvorovi[i].second / (x - cvorovi[i].first);
      nazivnik = nazivnik + wi / (x - cvorovi[i].first);
    }
    rezultat = brojnik / nazivnik;
    return rezultat;
  };

}


std::function&lt;double(double)&gt; BaricentricnaInterpolacija(std::function&lt;double(double)&gt; funkcija, double xmin, double xmax, double deltax,int korak)
{
    if(xmin &gt; xmax) throw std::domain_error("Nekorektni parametri");
    std::vector&lt;std::pair&lt;double,double&gt;&gt; cvorovi;
    while(xmin&lt;=xmax)
</font>    {
        cvorovi.push_back(std::make_pair(xmin+deltax,funkcija(xmin)));
    }
    return BaricentricnaInterpolacija(cvorovi,korak);
}
<a name="1"></a><font color="#00FF00"><a href="match161-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_24.gif"/></a>

int main ()
{

    std::cout&lt;&lt;"Odaberite opciju (1 - unos cvorova, 2 - aproksimacija): ";
    int n;
    std::cin&gt;&gt;n;
    std::vector&lt;std::pair&lt;double,double&gt;&gt; cvorovi;
    if(n==1)
    {

        std::cout&lt;&lt;"Unesite broj cvorova: ";
        int m;
        std::cin&gt;&gt;m;
        std::cout&lt;&lt;"Unesite cvorove kao parove x y: ";
        for(int i=0; i&lt;m; i++)
        {
            double x,y;
            std::cin&gt;&gt;x;
            std::cin&gt;&gt;y;
            std::pair&lt;double,double&gt; pom(x,y);
            cvorovi.push_back(pom);
        }
        std::cout&lt;&lt;"Unesite red interpolacije: ";
        int red;
        std::cin&gt;&gt;red;
        auto f=BaricentricnaInterpolacija(cvorovi,red);
        while(true)
        {
            std::cout&lt;&lt;"Unesite argument (ili \"kraj\" za kraj): ";
            double arg;
            std::cin&gt;&gt;arg;
            if(std::cin.fail()) break;
            std::cout&lt;&lt;"f("&lt;&lt;arg&lt;&lt;") = "&lt;&lt;f(arg)&lt;&lt;std::endl;
        }
    }
    else if(n==2)
    {

        std::cout&lt;&lt;"Unesite krajeve intervala i korak: ";
        double xmin,xmax,deltax;
        std::cin&gt;&gt;xmin &gt;&gt; xmax &gt;&gt; deltax;
</font><a name="3"></a><font color="#00FFFF"><a href="match161-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_4.gif"/></a>

        std::cout&lt;&lt;"Unesite red interpolacije: ";
        int red;
        std::cin&gt;&gt;red;
        auto f=BaricentricnaInterpolacija([](double x)-&gt;double{return x*x+sin(x*PI/180);},xmin,xmax,deltax,red);
</font>        while(true)
        {
            std::cout&lt;&lt;"Unesite argument (ili \"kraj\" za kraj): ";
            double arg, rez;
            std::cin&gt;&gt;arg;
            if(std::cin.fail()) break;
            rez=arg*arg+sin(arg);
            std::cout &lt;&lt; "f("&lt;&lt;arg&lt;&lt;") = " &lt;&lt; rez &lt;&lt; " ";
            std::cout &lt;&lt; "fapprox("&lt;&lt;arg&lt;&lt;") = " &lt;&lt; f(arg) &lt;&lt; std::endl;
        }
    }
    return 0;
}</pre>
</body>
</html>
