<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z1/student6604.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z1/student6953.cpp<p></p><pre>
#include&lt;iostream&gt;
#include&lt;vector&gt;
#include&lt;functional&gt;
#include&lt;cmath&gt;
#include&lt;stdexcept&gt;
#include&lt;utility&gt;
double fapprox(double x){
    return x*x+std::sin(x); 
}
std::function&lt;double(double)&gt;BaricentricnaInterpolacija(std::vector&lt;std::pair&lt;double, double&gt;&gt; v, int d)
{
    if(d&lt;0 || d&gt;=v.size())throw std::domain_error("Nedozvoljen red");
    for(int i=0; i&lt;v.size(); i++) {
        for(int j=i+1; j&lt;v.size(); j++) {
            if(v[i].first==v[j].first) throw std::domain_error("Neispravni cvorovi");
        }
    }
   
    int  n=v.size();
    std::vector&lt;double&gt; w(n);
    for(int i=1; i&lt;=n; i++) {
       int k=0, l=0;
        std::pair&lt;int, int&gt; par;
        par=(std::make_pair(1, (i-d)));
        if(par.first&gt;par.second) k=par.first;
        else {k=par.second;}
        std::pair&lt;int, int&gt; par1;
        par1=(std::make_pair(i, (n-d)));
        if(par1.first&lt;par1.second) l=par1.first;
        else {l=par1.second;}
        double sum=0;
        for(int p=k; p&lt;=l; p++) {
            double iz1=1, iz; 
            for(int j=p; j&lt;=p+d; j++) {if(j!=i) iz1*= (1./(v[i-1].first-v[j-1].first));}
             iz=std::pow(-1, p-1)*iz1;
         sum+=iz;
    
        }
        w[i-1]=sum;
    }
    return[v,w,d](double x) {
        double suma1=0, suma2=0;
        for(int i=1; i&lt;=v.size(); i++) {
            if(x==v[i-1].first) return v[i-1].second;
        }
        for(int i=1; i&lt;=v.size(); i++) {
            suma1+= (w[i-1]/(x-v[i-1].first))*v[i-1].second;
        }
        for(int i=1; i&lt;=v.size(); i++) {
            suma2+= (w[i-1]/(x-v[i-1].first));
        }
<a name="2"></a><font color="#0000FF"><a href="match622-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_3.gif"/></a>

        double h=suma1/suma2;
        return h;
    };
}
std::function&lt;double(double)&gt;BaricentricnaInterpolacija(double f(double), double xmin, double xmax,double  deltax, int d)
{
    if(xmin&gt;xmax || deltax&lt;=0) throw std::domain_error("Nekorektni parametri");
</font>    std::vector&lt;std::pair&lt;double, double&gt;&gt;v;
    for( double i=xmin; i&lt;xmax; i=i+deltax) {
            v.push_back(std::make_pair(i, f(i)));
        
    }
    return BaricentricnaInterpolacija(v,d);
}

int main()
{
    try {
        std::string s;
        s.push_back('"');
        s.push_back('k');
        s.push_back('r');
        s.push_back('a');
        s.push_back('j');
        s.push_back('"');
        std::cout&lt;&lt;"Odaberite opciju (1 - unos cvorova, 2 - aproksimacija): ";
        int n;
<a name="3"></a><font color="#00FFFF"><a href="match622-0.html#3" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_2.gif"/></a>

        std::cin&gt;&gt;n;
        if(n==1) {
            std::cout&lt;&lt;"Unesite broj cvorova: ";
            int br;
            std::cin&gt;&gt;br;
            std::cout&lt;&lt;"Unesite cvorove kao parove x y: ";
</font>            double x, y;
<a name="0"></a><font color="#FF0000"><a href="match622-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_7.gif"/></a>

            std::vector&lt;std::pair&lt;double,double&gt;&gt; v(br);
            for(int i=0; i&lt;br; i++) {
                std::cin&gt;&gt;x&gt;&gt;y;
                v[i].first=x;
                v[i].second=y;
            }
            std::cout&lt;&lt;"Unesite red interpolacije: ";
            int d;
            std::cin&gt;&gt;d;
            std::cin.ignore(1000, '\n');
            for(;;) {
                std::cout&lt;&lt;"Unesite argument (ili "&lt;&lt;s&lt;&lt;" za kraj): ";
</font>                         double f;
                std::cin&gt;&gt;f;
                if(!std::cin || std::cin.get()!='\n') break;
                auto a=BaricentricnaInterpolacija(v, d);
                std::cout&lt;&lt;"f("&lt;&lt;f&lt;&lt;") = "&lt;&lt;a(f)&lt;&lt;"\n";
            }
        }
        if(n==2) {
            std::cout&lt;&lt;"Unesite krajeve intervala i korak: ";
            double xmin, xmax, deltax;
<a name="1"></a><font color="#00FF00"><a href="match622-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_4.gif"/></a>

            std::cin&gt;&gt;xmin&gt;&gt;xmax&gt;&gt;deltax;
            std::cout&lt;&lt;"Unesite red interpolacije: ";
            int br1;
            std::cin&gt;&gt;br1;
            std::cin.ignore(1000, '\n');
            for(;;) {
                std::cout&lt;&lt;"Unesite argument (ili "&lt;&lt;s&lt;&lt;" za kraj): ";
</font>                double f;
                std::cin&gt;&gt;f;
                if(!std::cin || std::cin.get()!='\n') break;
                auto a=BaricentricnaInterpolacija(fapprox, xmin, xmax, deltax, br1);
                std::cout&lt;&lt;"f("&lt;&lt;f&lt;&lt;") = "&lt;&lt;fapprox(f)&lt;&lt;" fapprox("&lt;&lt;f&lt;&lt;") = "&lt;&lt;a(f)&lt;&lt;"\n";
            }
        }
    }
    catch(std::domain_error iz){
        std::cout&lt;&lt;iz.what(); 
    }
    return 0;
}</pre>
</body>
</html>
