<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z1/student3872.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z1/student1639.cpp<p></p><pre>
<a name="2"></a><font color="#0000FF"><a href="match296-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_6.gif"/></a>

/B2016/2017: ZadaÄ‡a 3, Zadatak 1
//Autotestovi by Enil Pajic (epajic1@etf.unsa.ba)
#include &lt;iostream&gt;
#include &lt;utility&gt;
#include &lt;vector&gt; 
#include &lt;functional&gt;
#include &lt;stdexcept&gt;
#include &lt;algorithm&gt;
#include &lt;cmath&gt;

using namespace std;

vector&lt;double&gt; DajTezinske(vector&lt;pair&lt;double,double&gt;&gt; cvorovi, int d) // vjerovatno ovdje ne valja nesto
{
    vector&lt;double&gt; wi;
</font>    int n=cvorovi.size();
    double a(0.), b(1.);
    double sum = 0;
    for(int i=1; i&lt;=n; i++)
    {
        sum = 0;
        for(int k=max(1,i-d); k&lt;=min(i,n-d); k++)
        {
                 a=pow(-1,k-1);
                 b = 1;
                for(int j=k; j&lt;=k+d; j++)
                {
                    if(j!=i) b *= 1./(cvorovi.at(i - 1).first-cvorovi.at(j - 1).first);
                }
            
                sum += a * b;
        }
        
<a name="4"></a><font color="#FF00FF"><a href="match296-0.html#4" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_4.gif"/></a>

        wi.push_back(sum);
        
    }
    return wi;
}

function &lt;double(double)&gt; BaricentricnaInterpolacija(vector&lt;pair&lt;double,double&gt;&gt; cvorovi, int d) // prva varijanta
{
   if(d&lt;0 or d&gt;cvorovi.size()) throw domain_error("Nedozvoljen red");
</font>   // JOS JEDAN THROW NE ZABORAVI
   auto tezinski(DajTezinske(cvorovi,d));
   return [cvorovi,tezinski](double x){
       double fu(0.),a(0.),b(0.);
       
       //specijaln slucaj, ako je x == neko xi
       for (int i= 0; i &lt; cvorovi.size(); i ++ ) 
       {
           if ( cvorovi[i].first == x ) {
               return cvorovi[i].second;
           }
       }
       
       for(int i=0; i&lt;cvorovi.size();i++)
       {
            a+=(tezinski.at(i)*cvorovi.at(i).second)/(x-cvorovi.at(i).first);
            b+=tezinski.at(i)/(x-cvorovi.at(i).first);
       }
       
       fu=a/b;
       return fu;
   };
}

function&lt;double(double)&gt; BaricentricnaInterpolacija(double f(double), double xmin, double xmax, double korak, int d)
{
<a name="3"></a><font color="#00FFFF"><a href="match296-0.html#3" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_6.gif"/></a>

    if(korak&lt;=0 or xmax&lt;xmin) throw domain_error("Nekorektni primjeri");
    vector&lt;pair&lt;double,double&gt;&gt; cvorovi;
    for(double i=xmin; i&lt;=xmax; i+=korak)
    {
        cvorovi.push_back(make_pair(i, f(i)));
    }
  
   return BaricentricnaInterpolacija(cvorovi,d);
  
}

int main ()
{
ovdje: cout &lt;&lt; "Odaberite opciju (1 - unos cvorova, 2 - aproksimacija): ";
</font><a name="1"></a><font color="#00FF00"><a href="match296-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_7.gif"/></a>

            int opcija;
            cin &gt;&gt; opcija;
            if(opcija==1)
            {
                cout &lt;&lt; "Unesite broj cvorova: ";
                int broj_cvorova;
                cin &gt;&gt; broj_cvorova;
                cout &lt;&lt; "Unesite cvorove kao parove x y: ";
                vector&lt;pair&lt;double, double&gt;&gt; cvorovi;
                for(int i=0; i&lt;broj_cvorova;i++)
</font>                {
                    int x,y;
                    cin &gt;&gt; x &gt;&gt; y;
                    cvorovi.push_back(make_pair(x,y));
                }
                cout &lt;&lt; "Unesite red interpolacije: ";
                int d;
                cin &gt;&gt; d;
                auto f(BaricentricnaInterpolacija(cvorovi,d));
                double argument;
                while(cin) 
                {
                    cout &lt;&lt; "Unesite argument (ili \"kraj\" za kraj): ";
                    cin &gt;&gt; argument;
<a name="0"></a><font color="#FF0000"><a href="match296-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_8.gif"/></a>

                    if(cin) cout &lt;&lt; "f(" &lt;&lt; argument &lt;&lt; ") = "&lt;&lt; f(argument) &lt;&lt;endl;
                }
                
            }
            else if (opcija==2)
            {
                cout &lt;&lt; "Unesite krajeve intervala i korak: ";
                double korak,poc,kr;
                cin &gt;&gt; poc &gt;&gt; kr &gt;&gt; korak;
                cout &lt;&lt; "Unesite red interpolacije: ";
                int d;
                cin &gt;&gt; d;
</font>                double argument;
                auto f([](double x){return x*x+sin(x);});
                while(cin) 
                {
                    cout &lt;&lt; "Unesite argument (ili \"kraj\" za kraj): ";
                    cin &gt;&gt; argument;
                    if(cin) cout &lt;&lt; "f(" &lt;&lt; argument &lt;&lt; ") = " &lt;&lt; f(argument) &lt;&lt; " fapprox("&lt;&lt; argument &lt;&lt; ") = " &lt;&lt; BaricentricnaInterpolacija(f,poc,kr,korak,d)(argument) &lt;&lt;endl;
                }
                
            }
            else goto ovdje;
	return 0;
}</pre>
</body>
</html>
