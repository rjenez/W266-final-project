<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z1/student3900.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z1/student3900.cpp<p></p><pre>
/B2016/2017: ZadaÄ‡a 3, Zadatak 1
//Autotestovi by Enil Pajic (epajic1@etf.unsa.ba)
#include &lt;iostream&gt;
#include &lt;functional&gt;
#include &lt;vector&gt;
#include &lt;cmath&gt;
#include &lt;algorithm&gt;
<a name="2"></a><font color="#0000FF"><a href="match381-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_5.gif"/></a>

using namespace std;

function&lt;double(double)&gt;BaricentricnaInterpolacija(vector&lt;pair&lt;double, double&gt;&gt;v, int d){
    if(d&lt;=0 || d&gt;=v.size()) throw domain_error("Nedozvoljen red");
</font>    vector&lt;double&gt;v2;
    int n=v.size();
    double proizvod=1;
    for(int i=1; i&lt;=v.size(); i++){
        double suma=0;
<a name="1"></a><font color="#00FF00"><a href="match381-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_6.gif"/></a>

        for(int k=max(1, i-d); k&lt;=min(i,n-d); k++){
            proizvod=1;
            for(int j=k; j&lt;=k+d; j++)
                if(j!=i)
                   proizvod*=1/(v[i-1].first-v[j-1].first);
</font>                suma+=pow(-1,(k-1))*proizvod;
                    
                
            }
        
            v2.push_back(suma);
        }
<a name="0"></a><font color="#FF0000"><a href="match381-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_8.gif"/></a>

    return[v2, v, d](double x){ 
        double rez1=0, rez2=0;
        
        for(int i=1; i&lt;=v.size(); i++){
            if(x==v[i-1].first) return v[i-1].second;
            rez1+=(v2[i-1]/(x-v[i-1].first))*v[i-1].second;
</font>            rez2+=(v2[i-1]/(x-v[i-1].first));
        }
        double rez3=rez1/rez2;
        return rez3;
    };
}

<a name="3"></a><font color="#00FFFF"><a href="match381-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_4.gif"/></a>

function&lt;double(double)&gt;BaricentricnaInterpolacija(function&lt;double(double)&gt;f, double xmin, double xmax, double dx, int d){
    if(xmin&gt;xmax || dx&lt;=0) throw domain_error("Nekorektni parametri");
    vector&lt;pair&lt;double, double&gt;&gt;v;
</font>    for(auto i=xmin; i&lt;xmax; i+=dx){
        v.push_back(make_pair(i, f(i)));
    }
    return BaricentricnaInterpolacija(v, d);
    
}

int main ()
{
   int a, brc;
    double arg;
    vector&lt;pair&lt;double, double&gt;&gt;v;
    cout&lt;&lt;"Odaberite opciju (1 - unos cvorova, 2 - aproksimacija): ";
    cin&gt;&gt;a;
    pair&lt;double, double&gt;m;
    int red;
    if(a==1){
        cout&lt;&lt;"Unesite broj cvorova: ";
        cin&gt;&gt;brc;
        cout&lt;&lt;"Unesite cvorove kao parove x y: ";
        for(int i=0; i&lt;brc; i++){
            cin&gt;&gt;m.first&gt;&gt;m.second;
            v.push_back(m);
        }
        cout&lt;&lt;"Unesite red interpolacije: ";
        cin&gt;&gt;red;
        try{
        for(;;){
        cout&lt;&lt;"Unesite argument (ili \"kraj\" za kraj): ";
        cin&gt;&gt;arg;
        if(!cin) return 0;
        else{
            auto f(BaricentricnaInterpolacija(v,red));
            cout&lt;&lt;"f("&lt;&lt;arg&lt;&lt;") = ";
            cout&lt;&lt;f(arg)&lt;&lt;endl;
        }
        }
    }
    catch(domain_error poruka){
        cout&lt;&lt;poruka.what()&lt;&lt;endl;
    }
    }
    double min, max, korak;
    if(a==2){
        cout&lt;&lt;"Unesite krajeve intervala i korak: ";
        cin&gt;&gt;min&gt;&gt;max&gt;&gt;korak;
        try{
        cout&lt;&lt;"Unesite red interpolacije: ";
        cin&gt;&gt;red;
        for(;;){
        cout&lt;&lt;"Unesite argument (ili \"kraj\" za kraj): ";
        cin&gt;&gt;arg;
        if(!cin) return 0;
        else{
            auto fja(BaricentricnaInterpolacija([](double x){return x*x+sin(x);}, min, max, korak, red));
<a name="4"></a><font color="#FF00FF"><a href="match381-1.html#4" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_4.gif"/></a>

            cout&lt;&lt;"f("&lt;&lt;arg&lt;&lt;") = "&lt;&lt;[](double x){return x*x+sin(x);}(arg);
            cout&lt;&lt;" fapprox("&lt;&lt;arg&lt;&lt;") = "&lt;&lt;fja(arg)&lt;&lt;endl;
        }
    }
    }
    catch(domain_error pp){
        cout&lt;&lt;pp.what()&lt;&lt;endl;
</font>    }
    }
	return 0;
}</pre>
</body>
</html>
