<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z1/student1029.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z1/student1029.cpp<p></p><pre>
/B2016/2017: ZadaÄ‡a 3, Zadatak 1
//Autotestovi by Enil Pajic (epajic1@etf.unsa.ba)
#include &lt;iostream&gt;
#include &lt;utility&gt;
#include &lt;vector&gt;
#include &lt;functional&gt;
#include &lt;cmath&gt;
#include &lt;stdexcept&gt;

using namespace std;

double omega(int i, int d, vector&lt;pair&lt;double,double&gt;&gt; v)
{
    double suma=0;
<a name="3"></a><font color="#00FFFF"><a href="match275-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_4.gif"/></a>

    for( int k=fmax(1,i-d); k&lt;=fmin(i, v.size()-d); k++) {
        double p(1);
        for(int j=k; j&lt;=k+d; j++) {
            if(j!=i) {
</font>                p/=(v[i-1].first - v[j-1].first);
            }
        }
        suma=suma + (p*pow(-1,k-1));
    }
    return suma;
}

void ProvjeraPrveFunkcije(vector&lt;pair&lt;double,double&gt;&gt; v,int d) {
<a name="1"></a><font color="#00FF00"><a href="match275-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_6.gif"/></a>

    if(d&lt;0 || d&gt;v.size()) throw std::domain_error("Nedozvoljen red");
    for(int i=0;i&lt;v.size()-1;i++) {
        for(int j=i+1;j&lt;v.size();j++) {
            if(v[i].first==v[j].first) throw std::domain_error("Neispravni cvorovi");
</font>        }
    }
}

function&lt;double(double)&gt;BaricentricnaInterpolacija(vector&lt;pair&lt;double,double&gt;&gt; v, int d)
{
    ProvjeraPrveFunkcije(v,d);

<a name="2"></a><font color="#0000FF"><a href="match275-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_6.gif"/></a>

    return [v,d](double x) {
        double s1(0), s2(0);
        for( int i=1; i&lt;=v.size(); i++ ) {
            if(x==v[i-1].first) return v[i-1].second;
            double w(omega(i,d,v));
</font>            s1+=(w/(x-v[i-1].first))*v[i-1].second;
        }
        for( int i=1; i&lt;=v.size(); i++ ) {
            double w(omega(i,d,v));
            s2+=w/(x-v[i-1].first);
        }
        return s1/s2;
    };

}

double FunkcijaMaina(double broj)
{
    double vracanje;
    vracanje=pow(broj,2)+ sin(broj);
    return vracanje;
}

pair&lt;double,double&gt; NapraviPar(double a,double b)
{
    pair&lt;double,double&gt; par_za_vracanje;
    par_za_vracanje.first=a;
    par_za_vracanje.second=b;
    return par_za_vracanje;
}

void ProvjeraDrugeFunkcija(double delta, double najmanji, double najveci) {
    if ((delta&lt;=0) || (najveci&lt;najmanji)) throw domain_error("Nekorektni parametri");
}

function&lt;double(double)&gt; BaricentricnaInterpolacija(double f(double n), double najmanji, double najveci, double delta, int d)
{
    ProvjeraDrugeFunkcija(delta,najmanji,najveci);

    vector&lt;pair&lt;double,double&gt;&gt; v;
    for(double i=najmanji ; i&lt;=najveci ; i+=delta ) {
        v.push_back(NapraviPar(i,f(i)));
    }

    function&lt;double(double)&gt; druga(BaricentricnaInterpolacija(v,d));
    return druga;

}

int main ()
{
    cout&lt;&lt;"Odaberite opciju (1 - unos cvorova, 2 - aproksimacija): ";
    int n;
    cin&gt;&gt;n;
    switch(n) {
    case 1: {
        cout&lt;&lt;"Unesite broj cvorova: ";
        int k;
        cin&gt;&gt;k;
        std::vector&lt;pair&lt;double,double&gt;&gt; vektor;
        cout&lt;&lt;"Unesite cvorove kao parove x y: ";
        for(int i=0; i&lt;k; i++) {
            double jedan,dva;
            cin&gt;&gt;jedan&gt;&gt;dva;
            pair&lt;double,double&gt; par;
            par.first=jedan;
            par.second=dva;
            vektor.push_back(par);

        }
        cout&lt;&lt;"Unesite red interpolacije: ";
        int d;
        cin&gt;&gt;d;
        try {
            auto f(BaricentricnaInterpolacija(vektor,d));
            for(;;) {
                cout&lt;&lt;"Unesite argument (ili \"kraj\" za kraj): ";
                double x;
                cin&gt;&gt;x;
                if(!cin) break;
<a name="4"></a><font color="#FF00FF"><a href="match275-1.html#4" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_3.gif"/></a>

                cout&lt;&lt;"f("&lt;&lt;x&lt;&lt;") = "&lt;&lt;f(x)&lt;&lt;endl;
            }
        } catch(std::domain_error e) {
            cout&lt;&lt;e.what()&lt;&lt;endl;
</font>        }
        break;
    }
    case 2: {
        cout&lt;&lt;"Unesite krajeve intervala i korak: ";
        double najmanji,najveci,delta;
        cin&gt;&gt;najmanji;
        cin&gt;&gt;najveci;
        cin&gt;&gt;delta;
        cout&lt;&lt;"Unesite red interpolacije: ";
        int red_interpolacije;
        cin&gt;&gt;red_interpolacije;
        for(;;) {
<a name="0"></a><font color="#FF0000"><a href="match275-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_7.gif"/></a>

            cout&lt;&lt;("Unesite argument (ili \"kraj\" za kraj): ");
            double n;
            cin&gt;&gt;n;
            if(!std::cin) break;
            try {
                auto druga(BaricentricnaInterpolacija(FunkcijaMaina,najmanji,najveci,delta,red_interpolacije));
                cout&lt;&lt;"f("&lt;&lt;n&lt;&lt;") = "&lt;&lt;FunkcijaMaina(n)&lt;&lt; " fapprox("&lt;&lt;n&lt;&lt;") = "&lt;&lt;druga(n)&lt;&lt;endl;
</font>            } catch(domain_error greska) {
                cout&lt;&lt;greska.what()&lt;&lt;endl;
            }
        }
        break;
    }
}
    return 0;
}</pre>
</body>
</html>
