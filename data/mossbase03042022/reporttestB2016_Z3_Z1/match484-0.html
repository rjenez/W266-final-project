<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z1/student3872.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z1/student3872.cpp<p></p><pre>
<a name="2"></a><font color="#0000FF"><a href="match484-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_4.gif"/></a>

/B2016/2017: ZadaÄ‡a 3, Zadatak 1
//Autotestovi by Enil Pajic (epajic1@etf.unsa.ba)
#include &lt;iostream&gt;
#include&lt;cmath&gt;
#include&lt;functional&gt;
#include&lt;algorithm&gt;
#include&lt;vector&gt;
#include&lt;list&gt;
#include&lt;set&gt;
#include&lt;stdexcept&gt;
using namespace std;

vector&lt;double&gt; T(vector&lt;pair&lt;double, double&gt;&gt; CvorInterpolacije, int red_interpolacije)
</font>{
 vector&lt;double&gt; v;
 CvorInterpolacije.insert(CvorInterpolacije.begin(), make_pair&lt;double, double&gt;(0.0, 0.0));
 double produkt;
 for(int i=1;i&lt;CvorInterpolacije.size();i++)
 {
     int prvi(max(1, i-red_interpolacije));
     int drugi(min&lt;int&gt;(i, (CvorInterpolacije.size()-1-red_interpolacije)));
     double suma(0);
<a name="3"></a><font color="#00FFFF"><a href="match484-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_3.gif"/></a>

     for(int k=prvi;k&lt;=drugi;k++)
     {
         produkt=1;
         for(int j=k;j&lt;=k+red_interpolacije;j++)
         {
             if(i==j) continue;
</font>             produkt=produkt*(1./(CvorInterpolacije[i].first-CvorInterpolacije[j].first));
         }
         produkt=pow(-1, k-1)*produkt;
         suma+=produkt;
     }
<a name="4"></a><font color="#FF00FF"><a href="match484-1.html#4" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_3.gif"/></a>

     v.push_back(suma);
 }
 return v;
}

function&lt;double(double)&gt; BaricentricnaInterpolacija(vector&lt;pair&lt;double, double&gt;&gt;CvorInterpolacije, int d)
{
    if(d&lt;0) throw domain_error("Nedozvoljen red");
</font>    if(d&gt;CvorInterpolacije.size()) throw domain_error("Nedozvoljen red");
    vector&lt;double&gt;v{T(CvorInterpolacije, d)};
    for(int i=0;i&lt;CvorInterpolacije.size();i++)
    {
        for(int j=i+1;j&lt;CvorInterpolacije.size();j++)
        {
            if(CvorInterpolacije[i].first==CvorInterpolacije[j].first)
            throw domain_error("Neispravni cvorovi");
            else continue;
        }
    }
    return[CvorInterpolacije,v, d](double y)
    {
        double prva(0);
        double druga(0);
        for(int i=0;i&lt;CvorInterpolacije.size();i++)
        {
            if(y==CvorInterpolacije[i].first) return CvorInterpolacije[i].second;
            prva+=v[i]/(y-CvorInterpolacije[i].first)*CvorInterpolacije[i].second;
        }
        for(int i=0;i&lt;CvorInterpolacije.size();i++)
        {
            if(y==CvorInterpolacije[i].first) return CvorInterpolacije[i].second;
            druga+=v[i]/(y-CvorInterpolacije[i].first);
        }
         double povratna=prva/druga;
         return povratna;
    };
}

double Izracunaj(double x)
{
	return (x*x+sin(x));
}
<a name="0"></a><font color="#FF0000"><a href="match484-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_7.gif"/></a>

function&lt;double(double)&gt; BaricentricnaInterpolacija(function&lt;double(double)&gt; baricentricna, double Xmin, double Xmax, double dx, int d)
{
    if(Xmin&gt;Xmax || dx&lt;0) throw domain_error("Nekorektni parametri");
    vector&lt;pair&lt;double, double&gt;&gt; Cvor;
    for(double i=Xmin; i&lt;=Xmax; i+=dx)
    {
        Cvor.push_back(make_pair(i, baricentricna(i)));
    }
    return (BaricentricnaInterpolacija(Cvor, d));
</font>}


int main ()
{
	cout&lt;&lt;"Odaberite opciju (1 - unos cvorova, 2 - aproksimacija): ";
	int izbor;
	cin&gt;&gt;izbor;
	
	if(izbor==1)
	{
	    cout&lt;&lt;"Unesite broj cvorova: ";
	    int broj_cvorova;
	    cin&gt;&gt;broj_cvorova;
	    cout&lt;&lt;"Unesite cvorove kao parove x y: ";
	    vector&lt;pair&lt;double, double&gt;&gt;Cvor;
	    for(int i=0;i&lt;broj_cvorova;i++)
	    {
	        double x,y;
	        cin&gt;&gt;x;
	        cin&gt;&gt;y;
	        Cvor.push_back(make_pair(x,y));
	    }
	
	    	    
	    cout&lt;&lt;"Unesite red interpolacije: ";
	    int d;
	    cin&gt;&gt;d;
	    for(;;)
	    {
	        cout&lt;&lt;"Unesite argument (ili \"kraj\" za kraj): ";
	        double argument;
	        cin&gt;&gt;argument;
	        if(cin.fail())
	        {
	            return 0;
	        }
	        else
	        {
	            
	            auto novi(BaricentricnaInterpolacija(Cvor, d));
	            
	            cout&lt;&lt;"f("&lt;&lt;argument&lt;&lt;") = "&lt;&lt;novi(argument)&lt;&lt;endl;
	           
	        }
	    }
	}
<a name="1"></a><font color="#00FF00"><a href="match484-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_4.gif"/></a>

	else if(izbor==2)
	{
	    
	    cout&lt;&lt;"Unesite krajeve intervala i korak: ";
	   double xmin, xmax, korak;
	   cin&gt;&gt;xmin&gt;&gt;xmax&gt;&gt;korak;
	   
	   
	   
	   cout&lt;&lt;"Unesite red interpolacije: ";
	   int d;
	   cin&gt;&gt;d;
	   for(;;)
	   {
	       cout&lt;&lt;"Unesite argument (ili \"kraj\" za kraj): ";
</font>	       double argument;
	       cin&gt;&gt;argument;
	       if(cin.fail())
	       {
	           return 0;
	       }
	       else
	       {
	        double prvi=Izracunaj(argument);
	    
	            auto aprox(BaricentricnaInterpolacija(Izracunaj, xmin, xmax, korak, d));
	           cout&lt;&lt;"f("&lt;&lt;argument&lt;&lt;") = "&lt;&lt;prvi&lt;&lt;" ";
	         cout&lt;&lt;"fapprox("&lt;&lt;argument&lt;&lt;") = "&lt;&lt;aprox(argument);
	          cout&lt;&lt;endl;
	       }
	   }
	   
	}



}</pre>
</body>
</html>
