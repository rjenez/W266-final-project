<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z1/student7911.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z1/student7911.cpp<p></p><pre>
<a name="1"></a><font color="#00FF00"><a href="match650-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_6.gif"/></a>

/B2016/2017: ZadaÄ‡a 3, Zadatak 1
//Autotestovi by Enil Pajic (epajic1@etf.unsa.ba)
#include &lt;iostream&gt;
#include &lt;functional&gt;
#include &lt;utility&gt;
#include &lt;vector&gt;
#include &lt;stdexcept&gt;
#include &lt;algorithm&gt;
#include &lt;cmath&gt;
#include &lt;string&gt;
#include &lt;sstream&gt;

using std::cin;
using std::cout;
using std::endl;
using std::pair;
using std::function;
using std::domain_error;
using std::max_element;
using std::min_element;
</font>using std::pow;
using std::make_pair;
using std::string;
using std::vector;
using std::sin;

int ZaMax(int a, int b ){
    if(a&gt;b)return a;
    return b;
}

int ZaMin(int a, int b){
    if(a&lt;b)return a;
<a name="0"></a><font color="#FF0000"><a href="match650-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_7.gif"/></a>

    return b;
}

function&lt;double(double)&gt; BaricentricnaInterpolacija(vector&lt;pair&lt;double,double&gt;&gt; v, int d ){
    
    if(d&lt;0 || d&gt;v.size())throw domain_error("Nedozvoljen red");
    for(int i=0; i&lt;v.size(); i++){
        for(int j=i+1; j&lt;v.size()-1; j++){
</font>            
            if(v[i].first == v[j].first)throw domain_error("Neispravni cvorovi");
        }
    }
    
    
    
    int n = v.size(); //n broj cvorova interpolacije
    
    //dobijanje cvorova interp
    vector&lt;double&gt; w;
    
    for(int i = 1; i&lt;=n; i++){
        
        
        
     double suma = 0;
        for(int k = ZaMax(1,i-d); k&lt;=ZaMin(i,n-d); k++ ){
            
            double proizvod = 1;
            for(int j = k; j&lt;=k+d; j++){
                if(j==i)continue;
<a name="3"></a><font color="#00FFFF"><a href="match650-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_3.gif"/></a>

                proizvod = proizvod * (1./(v[i-1].first-v[j-1].first));
            }
            
            suma = suma + pow(-1,k-1)*proizvod;
</font>        }
        
        w.push_back(suma);
        
    }
    
    return [=](double x)-&gt;double{
        
        for(int i=0; i&lt;v.size(); i++){
            if(v[i].first == x)return v[i].second;
        }
        double sumabrojnika = 0;
        double sumanazivnika = 0;
        double suma;
        for(int i=1; i&lt;=n; i++){
            
            sumabrojnika = sumabrojnika + (w[i-1]*v[i-1].second)/(x-v[i-1].first);
            
            sumanazivnika = sumanazivnika + w[i-1]/(x-v[i-1].first);
             suma = sumabrojnika/sumanazivnika;
            
            
        }
        
        return suma;
    };
    
}


<a name="2"></a><font color="#0000FF"><a href="match650-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_4.gif"/></a>

function&lt;double(double)&gt; BaricentricnaInterpolacija(function &lt;double(double)&gt; f, double xmin, double xmax, double deltax, int d){
    
    if(xmin&gt;xmax || deltax&lt;=0 )throw domain_error("Nekorektni parametri");
</font>    
    
    
    int broj_cvorova = 0;
    for(double t = xmin; t&lt;=xmax; t=t+deltax){
        broj_cvorova++;
    }
    
    vector&lt;pair&lt;double,double&gt;&gt; v(broj_cvorova);
    
    for(int i=0; i&lt;broj_cvorova; i++){
        v[i].first = xmin;
        v[i].second = f(xmin);
        xmin = xmin +deltax;
    }
    
     
     return BaricentricnaInterpolacija(v,d);
}

double fun(double x){
    return x*x+sin(x);
}


int main ()
{
    try{
        
        
            cout&lt;&lt;"Odaberite opciju (1 - unos cvorova, 2 - aproksimacija): ";
            int izbor;
            cin&gt;&gt;izbor;
            
                if(izbor == 1){
            
                    cout&lt;&lt;"Unesite broj cvorova: ";
                    int broj_cvorova;
                    cin&gt;&gt;broj_cvorova;
                    
                    cout&lt;&lt;"Unesite cvorove kao parove x y: ";
                    
                    vector&lt;pair&lt;double,double&gt;&gt; v(broj_cvorova);
                    
                    for(int i=0; i&lt;broj_cvorova; i++){
                        double x,y;
                        cin&gt;&gt;x&gt;&gt;y;
                        v[i] = make_pair(x,y);
                    }
                    
                    cout&lt;&lt;"Unesite red interpolacije: ";
                    int d;
                    cin&gt;&gt;d;
                    
                    
                    while(1){
                       cout&lt;&lt;"Unesite argument (ili \"kraj\" za kraj): ";
                        double argument;
                        cin&gt;&gt;argument;
                        
                        if(!cin)break;
                        
                        auto f(BaricentricnaInterpolacija(v,d));
                        
                        cout&lt;&lt;"f("&lt;&lt;argument&lt;&lt;") = "&lt;&lt;f(argument)&lt;&lt;endl;
                        
                    }
                    
                }
                else{
                    cout&lt;&lt;"Unesite krajeve intervala i korak: ";
                    double xmin,xmax,deltax;
                    cin&gt;&gt;xmin&gt;&gt;xmax&gt;&gt;deltax;
                    
                    cout&lt;&lt;"Unesite red interpolacije: ";
                    int d;
                    cin&gt;&gt;d;
                    
                    while(1){
                        
                        cout&lt;&lt;"Unesite argument (ili \"kraj\" za kraj): ";
                        double argument;
                        cin&gt;&gt;argument;
                        if(!cin)break;
                        
                        auto fapprox(BaricentricnaInterpolacija(fun, xmin, xmax, deltax, d));
                        
                        cout&lt;&lt;"f("&lt;&lt;argument&lt;&lt;") = "&lt;&lt;fun(argument)&lt;&lt;" ";
                        
                        cout&lt;&lt;"fapprox("&lt;&lt;argument&lt;&lt;") = "&lt;&lt;fapprox(argument)&lt;&lt;endl;
                        
                    }
                }
          
    }
    catch(domain_error i){
        i.what();
    }
        
    	return 0;
}</pre>
</body>
</html>
