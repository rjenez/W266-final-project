<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z1/student5370.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z1/student5370.cpp<p></p><pre>
/B2016/2017: ZadaÄ‡a 3, Zadatak 1
//Autotestovi by Enil Pajic (epajic1@etf.unsa.ba)
#include &lt;iostream&gt;
#include &lt;functional&gt;
#include &lt;stdexcept&gt;
#include &lt;vector&gt;
#include &lt;utility&gt;
#include &lt;cmath&gt;
std::function&lt;double(double)&gt; BaricentricnaInterpolacija(std::vector&lt;std::pair&lt;double,double&gt;&gt; vektor_parova,int d) {
    if(d&lt;0 || d&gt;vektor_parova.size()) throw std::domain_error ("Nedozvoljen red");
    for(int i=0;i&lt;vektor_parova.size();i++) {
<a name="1"></a><font color="#00FF00"><a href="match151-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_38.gif"/></a>

        for(int j=i+1;j&lt;vektor_parova.size();j++) {
            if(vektor_parova[i].first==vektor_parova[j].first) throw std::domain_error ("Neispravni cvorovi");
        }
    }
    std::vector&lt;double&gt; wi(vektor_parova.size());
    for(int i=1;i&lt;=vektor_parova.size();i++) {
        int max,min;
        if(i-d&gt;=1) max=i-d;
        else max=1;
        if(i&lt;=vektor_parova.size()-d) min=i;
        else min=vektor_parova.size()-d;
        wi[i-1]=0;
        for(int k=max;k&lt;=min;k++) {
            double proizvod(1);
            for(int j=k;j&lt;=k+d;j++) {
                if(j!=i) proizvod*=1/(vektor_parova[i-1].first-vektor_parova[j-1].first);
            }
            wi[i-1]+=std::pow(-1,k-1)*proizvod;
        }
    }
    return [vektor_parova,wi](double x){double suma1(0),suma2(0);
                                        for(int i=1;i&lt;=vektor_parova.size();i++) {
                                            if(x==vektor_parova[i-1].first) return vektor_parova[i-1].second;
                                            suma1+=(wi[i-1]/(x-vektor_parova[i-1].first));
                                            suma2+=(wi[i-1]/(x-vektor_parova[i-1].first))*vektor_parova[i-1].second;
                                         }
                                        return suma2/suma1;};
}
std::function&lt;double(double)&gt; BaricentricnaInterpolacija(std::function&lt;double(double)&gt; f,double xmin,double xmax,double dx,int d) {
</font>    if(xmin&gt;xmax || dx&lt;=0) throw std::domain_error ("Nekorektni parametri");
<a name="0"></a><font color="#FF0000"><a href="match151-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_46.gif"/></a>

    std::vector&lt;std::pair&lt;double,double&gt;&gt; vektor_parova;
    for(double i=xmin;i&lt;=xmax;i+=dx) {
        std::pair&lt;double,double&gt; par;
        par.first=i;
        par.second=f(i);
        vektor_parova.push_back(par);
    }
    auto fun(BaricentricnaInterpolacija(vektor_parova,d));
    return fun;
}
int main ()
{
    int opcija;
    std::cout&lt;&lt;"Odaberite opciju (1 - unos cvorova, 2 - aproksimacija): ";
    std::cin&gt;&gt;opcija;
    if(opcija==1) {
        int broj_cvorova;
        std::cout&lt;&lt;"Unesite broj cvorova: ";
        std::cin&gt;&gt;broj_cvorova;
        std::cout&lt;&lt;"Unesite cvorove kao parove x y: ";
        std::vector&lt;std::pair&lt;double,double&gt;&gt; vektor_parova(broj_cvorova);
        for(int i=0;i&lt;broj_cvorova;i++) {
            std::cin&gt;&gt;vektor_parova[i].first&gt;&gt;vektor_parova[i].second;
        }
        int d;
        std::cout&lt;&lt;"Unesite red interpolacije: ";
        std::cin&gt;&gt;d;
        std::cout&lt;&lt;"Unesite argument (ili \"kraj\" za kraj): ";
        double argument;
        while(std::cin&gt;&gt;argument) {
            auto f=BaricentricnaInterpolacija(vektor_parova,d);
            std::cout&lt;&lt;"f("&lt;&lt;argument&lt;&lt;") = "&lt;&lt;f(argument);
            std::cout&lt;&lt;"\nUnesite argument (ili \"kraj\" za kraj): ";
        }
    }
    else if(opcija==2) {
        std::cout&lt;&lt;"Unesite krajeve intervala i korak: ";
        double xmin,xmax,dx;
        std::cin&gt;&gt;xmin&gt;&gt;xmax&gt;&gt;dx;
        int d;
        std::cout&lt;&lt;"Unesite red interpolacije: ";
        std::cin&gt;&gt;d;
        std::cout&lt;&lt;"Unesite argument (ili \"kraj\" za kraj): ";
        double argument;
        while(std::cin&gt;&gt;argument) {
            auto fun=BaricentricnaInterpolacija([](double x){return x*x+std::sin(x);},xmin,xmax,dx,d);
            auto f=[](double argument){return argument*argument+std::sin(argument);};
            std::cout&lt;&lt;"f("&lt;&lt;argument&lt;&lt;") = "&lt;&lt;f(argument)&lt;&lt;" fapprox("&lt;&lt;argument&lt;&lt;") = "&lt;&lt;fun(argument);
            std::cout&lt;&lt;"\nUnesite argument (ili \"kraj\" za kraj): ";
</font>        }
    }
	return 0;
}</pre>
</body>
</html>
