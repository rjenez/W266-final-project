<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z1/student8794.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z1/student8794.cpp<p></p><pre>
/B2016/2017: Zadaća 3, Zadatak 1
//Autotestovi by Enil Pajic (epajic1@etf.unsa.ba)
#include &lt;iostream&gt;
#include&lt;vector&gt;
#include&lt;utility&gt;
#include&lt;stdexcept&gt;
#include&lt;functional&gt;
#include &lt;cmath&gt; 
std::function&lt;double(double)&gt; BaricentricnaInterpolacija(std::vector&lt;std::pair&lt;double,double&gt;&gt; cvorovi, int redInterpolacije)
{
    //provjera da li je red interpolacije u opsegu
<a name="0"></a><font color="#FF0000"><a href="match129-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_93.gif"/></a>

    if(redInterpolacije&lt;0 || redInterpolacije&gt;cvorovi.size()) throw std::domain_error("Nedozvoljen red");
    //provjera da li postoje iste x koordinate
    for(int i=0;i&lt;cvorovi.size();i++)
    {
        for(int j=0;j&lt;cvorovi.size();j++)
        {
            if(i!=j)
            {
                if(cvorovi[i].first==cvorovi[j].first) throw std::domain_error("Neispravni cvorovi");
            }
        }
    }
    return [cvorovi,redInterpolacije](double x)
    {
        //ovdje provjeri da li je x zapravo jedna od tačaka
        for(int i=0;i&lt;cvorovi.size();i++)
        if(x==cvorovi[i].first) return cvorovi[i].second;
        double rezultat=0;
        double brojnik=0;
        double nazivnik=0;
        for(int i=0;i&lt;cvorovi.size();i++)
        {
            //racunaj tezinu wi
            double wi=0;
            int donja=0,gornja=i;
            if(donja&lt;(i-redInterpolacije))
            donja=i-redInterpolacije;
            if(gornja&gt;(cvorovi.size()-redInterpolacije-1))
            gornja=cvorovi.size()-redInterpolacije-1;
            for(int k=donja;k&lt;=gornja;k++)
            {
                double koef=1.0;
                double pom=1.0;
                if(k%2==1) koef=-1.0;
                for(int j=k;j&lt;=(k+redInterpolacije);j++)
                {
                    if(j==i) continue;
                    pom=pom/(cvorovi[i].first-cvorovi[j].first);
                    
                }
                wi=wi+koef*pom;
            }
            
        //izracunata tezina
            //sad racunaj brojnik i nazivnik
            brojnik=brojnik+wi*cvorovi[i].second/(x-cvorovi[i].first);
            nazivnik=nazivnik+wi/(x-cvorovi[i].first);
        }
        rezultat=brojnik/nazivnik;
        return rezultat;
    };
    
}


std::function&lt;double(double)&gt; BaricentricnaInterpolacija(std::function&lt;double(double)&gt; funkcija, double xmin, double xmax, double deltax,int korak)
{
    if(xmin&gt;xmax) throw std::domain_error("Nekorektni parametri");
    std::vector&lt;std::pair&lt;double,double&gt;&gt; cvorovi;
    while(xmin&lt;=xmax)
    {
        std::pair &lt;double,double&gt; par (xmin,funkcija(xmin));
        xmin+=deltax;
        cvorovi.push_back(par);
    }
    return BaricentricnaInterpolacija(cvorovi,korak);
}
double xsin(double x)
{
    return x*x+sin(x);
}
int main ()
{
    
    std::cout&lt;&lt;"Odaberite opciju (1 - unos cvorova, 2 - aproksimacija): ";
    int n;
    std::cin&gt;&gt;n;
    std::vector&lt;std::pair&lt;double,double&gt;&gt; cvorovi;
    if(n==1)
    {
     
     std::cout&lt;&lt;"Unesite broj cvorova: ";
     int m;
     std::cin&gt;&gt;m;
     std::cout&lt;&lt;"Unesite cvorove kao parove x y: ";
     for(int i=0;i&lt;m;i++)
     {
         double x,y;
         std::cin&gt;&gt;x;
         std::cin&gt;&gt;y;
         std::pair&lt;double,double&gt; pom(x,y);
         cvorovi.push_back(pom);
     }
     std::cout&lt;&lt;"Unesite red interpolacije: ";
     int red;
     std::cin&gt;&gt;red;
     auto f=BaricentricnaInterpolacija(cvorovi,red);
     while(true)
     {
         std::cout&lt;&lt;"Unesite argument (ili \"kraj\" za kraj): ";
         double arg;
         std::cin&gt;&gt;arg;
         if(std::cin.fail()) break;
         std::cout&lt;&lt;"f("&lt;&lt;arg&lt;&lt;") = "&lt;&lt;f(arg)&lt;&lt;std::endl;
     }
    }
    else if(n==2)
    {
     
     std::cout&lt;&lt;"Unesite krajeve intervala i korak: ";
     double xmin,xmax,deltax;
     std::cin&gt;&gt;xmin;
     std::cin&gt;&gt;xmax;
     std::cin&gt;&gt;deltax;
     std::cout&lt;&lt;"Unesite red interpolacije: ";
     int red;
     std::cin&gt;&gt;red;
     auto f=BaricentricnaInterpolacija([](double x)-&gt;double{return x*x+sin(x*3.14159/180);},xmin,xmax,deltax,red);
     while(true)
     {
         std::cout&lt;&lt;"Unesite argument (ili \"kraj\" za kraj): ";
         double arg;
         std::cin&gt;&gt;arg;
         if(std::cin.fail()) break;
         std::cout&lt;&lt;"f("&lt;&lt;arg&lt;&lt;") = "&lt;&lt;xsin(arg)&lt;&lt;" ";
         std::cout&lt;&lt;"fapprox("&lt;&lt;arg&lt;&lt;") = "&lt;&lt;f(arg)&lt;&lt;std::endl;
</font>     }
    }
    
    
    
	return 0;
}
</pre>
</body>
</html>
