<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z1/Z4/student5961.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z1/Z4/student7795.cpp<p></p><pre>
#include &lt;iostream&gt;
#include &lt;string&gt;
#include &lt;vector&gt;
#include &lt;cctype&gt;

/* user predefined */
<a name="0"></a><font color="#FF0000"><a href="match45-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_99.gif"/></a>

using std::string;
using std::size_t;
using StrArr = std::vector&lt;string&gt;;

/* structure definition and condition */
struct locEdit {
     size_t pos;
     string word;
};

/* check if exists in array */
inline bool containsWord(const std::vector&lt;locEdit&gt; &amp;zaProvjeru, const string &amp;searchingWord) {
     for(size_t i{0}; i &lt; zaProvjeru.size(); ++i)
          if(zaProvjeru.at(i).word == searchingWord)
               return true;
               
     return false;
}

/* reverse string */
string ObrniStringJerSigurnoNisamSmioKoristitiFunkcijuReverse(string input) {
     size_t j {input.length()-1}, i {0};
     char temp;
     for(;i &lt; j;) {
          temp = input.at(i);
          input.at(i) = input.at(j);
          input.at(j) = temp;
          ++i;
          --j;
     }
     
     return input;
}

/* creating search function */
size_t TrazenjePodstringaJerNisamSmioKoristitiBiblotecnuFunkcijuFind(const string &amp;text, 
          const string &amp;param, size_t pos) {
               
     size_t index{string::npos};
     size_t currentPos{0};
     for(size_t i{pos}; i &lt; text.length(); ++i) {
          if(text.at(i) == param.at(currentPos)) {
               if(currentPos == 0)
                    index = i;
               ++currentPos;
               
               if(currentPos == param.length())
                    return index;
          }
          else 
               currentPos = 0;
     }
     /* default output */
     return (string::npos);
}

/* replace part of string within a string */
void IzmjenaDijelaStringaJerNisamSmioKoristitiBibliotecnuFunkcijuReplace(string &amp;input, size_t pos, 
          size_t len, const string &amp;editStr) {
               
     for(size_t i {0}; i &lt; len; i++)
          input.at(i+pos) = editStr.at(i); 
}

/* add string to a string */
void DodajStringUStringJerNisamSmioKoristitiBibliotecnuFunkcijuInsert(string &amp;input, size_t pos, 
          const string &amp;addStr) {
               
     string _cutted = input.substr(pos, input.length());
     input.resize(input.length() + addStr.length());
     
     IzmjenaDijelaStringaJerNisamSmioKoristitiBibliotecnuFunkcijuReplace(input, pos + addStr.length(), _cutted.length(), _cutted);
     IzmjenaDijelaStringaJerNisamSmioKoristitiBibliotecnuFunkcijuReplace(input, pos, addStr.length(), addStr);
}

/* sort an array from min to max */
void SortirajArrayJerPretpostavljamDaNeSmijemKoristitiNiFunkcijuSortIzAlgoritmBiblioteke(std::vector&lt;locEdit&gt; &amp;inputArray) {
     if(inputArray.size() &lt;= 1) return;
               
     locEdit temp;
     for(size_t i{0}; i &lt; inputArray.size()-1; ++i) {
          for(size_t j{i+1}; j &lt; inputArray.size(); ++j) {
               /* swap elements */
               if(inputArray.at(i).pos &gt; inputArray.at(j).pos) {
                    temp = inputArray.at(i);
                    inputArray.at(i) = inputArray.at(j);
                    inputArray.at(j) = temp;
               }
          }
     } 
}

//////////////////////////////
/* kreiraj vektor strukturu */
std::vector&lt;locEdit&gt; createStructureVector(const string &amp;inputStr, const StrArr &amp;inputArray) {
     std::vector&lt;locEdit&gt; zaProvjeru;
     
     /* find all strings */
     for(int i{0}; i &lt; inputArray.size(); ++i) {
          /* check if exists in vector struct */
          if(!containsWord(zaProvjeru, inputArray.at(i)) &amp;&amp; inputArray.at(i).length() &gt; 0) {
               /* search for matching */
               size_t pos{TrazenjePodstringaJerNisamSmioKoristitiBiblotecnuFunkcijuFind(inputStr, inputArray.at(i), 0)};
               
               bool _validity{false};
               size_t _newpos{0};
               for(;pos != string::npos;) {
                    
                    _validity = false;
                    _newpos = pos + inputArray.at(i).length();
                    
                    /* check if really a word | WORD SOMEWHERE IN THE MIDDLE OF TEXT, AT THE BEGGINING, OR AT THE END*/
                    if(pos &gt; 0 &amp;&amp; _newpos &lt; inputStr.length()) {
                         if(!isalnum(inputStr.at(pos-1)) &amp;&amp; !isalnum(inputStr.at(_newpos)))
                              _validity = true;
                    }
                    else if(pos == 0) {
                         if(_newpos &lt; inputStr.length()) {
                              if(!isalnum(inputStr.at(_newpos)))
                                   _validity = true;
                         }
                         else _validity = true;
                    }
                    else {
                         if(!isalnum(inputStr.at(pos-1)))
                              _validity = true;
                    }
                    
                    if(_validity) zaProvjeru.push_back({pos, inputArray.at(i)}); // add to stack if really a word
                    pos = TrazenjePodstringaJerNisamSmioKoristitiBiblotecnuFunkcijuFind(inputStr, inputArray.at(i), pos+1);
               }
          }
     }
     
     /* sort structure by metaID / position */
     SortirajArrayJerPretpostavljamDaNeSmijemKoristitiNiFunkcijuSortIzAlgoritmBiblioteke(zaProvjeru);
     return zaProvjeru;
}

/* Napravi Palindrom funkcija */
string NapraviPalindrom(const string &amp;inputStr, const StrArr &amp;inputArray) {
     /* create vector string  */
     std::vector&lt;locEdit&gt; zaProvjeru{createStructureVector(inputStr, inputArray)};
 
     /* now start editing first string */
     string outputStr{inputStr};
     size_t _shift{0};
     string stringToAdd;
     for(size_t i{0}; i &lt; zaProvjeru.size(); ++i) {
          _shift += zaProvjeru.at(i).word.length();
          stringToAdd = ObrniStringJerSigurnoNisamSmioKoristitiFunkcijuReverse(zaProvjeru.at(i).word);
          DodajStringUStringJerNisamSmioKoristitiBibliotecnuFunkcijuInsert(outputStr, zaProvjeru.at(i).pos + _shift, stringToAdd);
     }
     
     return outputStr;
}

/* Napravi PoluPalindrom funkcija */
string NapraviPoluPalindrom(const string &amp;inputStr, const StrArr &amp;inputArray) {
     /* create vector string  */
     std::vector&lt;locEdit&gt; zaProvjeru{createStructureVector(inputStr, inputArray)};
 
     /* now start editing first string */
     string outputStr{inputStr};
     int o{0};
     size_t _shift{0};
     
     for(size_t i{0}; i &lt; zaProvjeru.size(); ++i) {
          string half {(zaProvjeru.at(i).word)};
          
          o = static_cast&lt;int&gt;(half.length() % 2);
          half = ObrniStringJerSigurnoNisamSmioKoristitiFunkcijuReverse(half.substr(0, half.length()/2));
          _shift = half.length();
     
          /* replace part of the string */
          IzmjenaDijelaStringaJerNisamSmioKoristitiBibliotecnuFunkcijuReplace(outputStr,
               zaProvjeru.at(i).pos + _shift + o, _shift, half); 
     }
      
     return outputStr;
}


/* main function */
int main () {
     /* input */
     string input;
     StrArr fraze;
     
     std::cout &lt;&lt; "Unesite recenicu: ";
     getline(std::cin, input);
     std::cout &lt;&lt; "Unesite fraze: ";
     string line;
     for(;;) {
          getline(std::cin, line);
          if(line.length() == 0) break;
          fraze.push_back(line);
     }
     
     /* output */
     std::cout &lt;&lt; "Recenica nakon Palindrom transformacije: ";
     std::cout &lt;&lt; NapraviPalindrom(input, fraze) &lt;&lt; std::endl;
     
     std::cout &lt;&lt; "Recenica nakon PoluPalindrom transformacije: ";
     std::cout &lt;&lt; NapraviPoluPalindrom(input, fraze) &lt;&lt; std::endl;
</font>	return 0;
}</pre>
</body>
</html>
