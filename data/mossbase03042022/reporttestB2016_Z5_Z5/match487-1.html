<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z5/Z5/student4416.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z5/Z5/student4863.cpp<p></p><pre>
/B16/17 (ZadaÄ‡a 5, Zadatak 5)
//Autotestovi by Berina Cocalic (mail: bcocalic1@etf.unsa.ba)
//Za autotestove se obracati *iskljucivo* osobi koja ih pise
#include &lt;iostream&gt;
#include &lt;list&gt;
#include &lt;utility&gt;
#include &lt;stdexcept&gt;
#include &lt;algorithm&gt;
#include &lt;functional&gt;
#include &lt;vector&gt;
#include &lt;iterator&gt;

class Temperature {
    int MinDozvoljena, MaxDozvoljena;
    std::list&lt;int&gt; MinTemp, MaxTemp;
    void ProvjeriIste();
public:
    Temperature(int min, int max);
    void RegistrirajTemperature(std::pair&lt;int,int&gt; DnevneTemp);
    void BrisiSve();
    void BrisiNegativneTemperature();
    int DajBrojRegistriranihTemperatura() const;
    int DajMaksimalnuTemperaturu() const;
    int DajMinimalnuTemperaturu() const;
    int DajBrojTemperaturaVecihOd(int x) const;
    int DajBrojTemperaturaManjihOd(int x) const;
    bool operator !();
    Temperature&amp; operator ++();
    Temperature operator ++(int);
    Temperature&amp; operator --();
    Temperature operator --(int);
    std::vector&lt;int&gt; operator *() const;
    std::vector&lt;int&gt; operator -() const;
    std::vector&lt;int&gt; operator +() const;
    std::pair&lt;int,int&gt; operator [](int i) const;
    Temperature operator +(int x) const;
    Temperature operator -(int x) const;
    Temperature operator +(const Temperature &amp;t2) const;
    Temperature operator -(const Temperature &amp;t2) const;
    Temperature&amp; operator +=(int x);
    Temperature&amp; operator +=(const Temperature &amp;t2);
    Temperature&amp; operator -=(int x);
    Temperature&amp; operator -=(const Temperature &amp;t2);
    bool operator == (const Temperature &amp;t) const;
    bool operator != (const Temperature &amp;t) const;
    friend std::ostream&amp; operator &lt;&lt; (std::ostream&amp; tok, const Temperature &amp;t);
};
void Temperature::ProvjeriIste() {
    std::vector&lt;bool&gt; pomocni;
    std::transform(MinTemp.begin(), MinTemp.end(), MaxTemp.begin(), std::back_inserter(pomocni), std::equal_to&lt;int&gt;());
    if(std::count(pomocni.begin(), pomocni.end(), true)) throw std::logic_error("Ilegalna operacija");
}
<a name="2"></a><font color="#0000FF"><a href="match487-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_2.gif"/></a>

Temperature::Temperature(int min, int max) {
    if(min &gt; max) throw std::logic_error("Nekorektne temperature");
    MaxDozvoljena = max;
    MinDozvoljena = min;
}
void Temperature::RegistrirajTemperature(std::pair&lt;int,int&gt;DnevneTemp) {
    if(DnevneTemp.first &gt; DnevneTemp.second || DnevneTemp.first &lt; MinDozvoljena || DnevneTemp.second &gt; MaxDozvoljena) throw std::logic_error("Nekorektne temperature");
</font><a name="4"></a><font color="#FF00FF"><a href="match487-0.html#4" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_1.gif"/></a>

    MinTemp.push_back(DnevneTemp.first);
    MaxTemp.push_back(DnevneTemp.second);
}
void Temperature::BrisiSve() {
    MinTemp.clear();
    MaxTemp.clear();
}
void Temperature::BrisiNegativneTemperature() {
</font>    auto it2 = std::find_if(MaxTemp.begin(), MaxTemp.end(), std::bind(std::less&lt;int&gt;(), std::placeholders::_1, 0));
    if(it2 != MaxTemp.end()) {
        auto it1(MinTemp.begin());
        std::advance(it1, std::distance(MaxTemp.begin(), it2));
        MinTemp.erase(it1);
        MaxTemp.erase(it2);
        BrisiNegativneTemperature();
    }
}
int Temperature::DajBrojRegistriranihTemperatura() const {
    return MinTemp.size();
}
<a name="0"></a><font color="#FF0000"><a href="match487-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_7.gif"/></a>

int Temperature::DajMaksimalnuTemperaturu() const {
    if(MaxTemp.size() == 0) throw std::logic_error("Nema registriranih temperatura");
    return *std::max_element(MaxTemp.begin(), MaxTemp.end());
}
int Temperature::DajMinimalnuTemperaturu() const {
    if(MinTemp.size() == 0) throw std::logic_error("Nema registriranih temperatura");
    return *std::min_element(MinTemp.begin(), MinTemp.end());
}
int Temperature::DajBrojTemperaturaVecihOd(int x) const {
    if(MaxTemp.size() == 0) throw std::logic_error("Nema registriranih temperatura");
    return std::count_if(MaxTemp.begin(), MaxTemp.end(), std::bind(std::greater&lt;int&gt;(), std::placeholders::_1, x));
}
int Temperature::DajBrojTemperaturaManjihOd(int x) const {
    if(MinTemp.size() == 0) throw std::logic_error("Nema registriranih temperatura");
    return std::count_if(MinTemp.begin(), MaxTemp.end(), std::bind(std::less&lt;int&gt;(), std::placeholders::_1, x));
</font>}
bool Temperature::operator !() {
    return (!MinTemp.size());
}
Temperature&amp; Temperature::operator ++ () {
    ProvjeriIste();
    std::for_each(MinTemp.begin(), MinTemp.end(), std::bind(std::plus&lt;int&gt;(), std::placeholders::_1, 1));
    return *this;
}
Temperature Temperature::operator ++(int) {
    ProvjeriIste();
    Temperature tmp(*this);
    std::for_each(MinTemp.begin(), MinTemp.end(), std::bind(std::plus&lt;int&gt;(), std::placeholders::_1, 1));
    return tmp;
}
Temperature&amp; Temperature::operator --() {
    ProvjeriIste();
    std::for_each(MaxTemp.begin(), MaxTemp.end(), std::bind(std::minus&lt;int&gt;(), std::placeholders::_1, 1));
    return *this;
}
Temperature Temperature::operator --(int) {
    ProvjeriIste();
    Temperature tmp(*this);
    std::for_each(MaxTemp.begin(), MaxTemp.end(), std::bind(std::minus&lt;int&gt;(), std::placeholders::_1, 1));
    return tmp;
}
std::vector&lt;int&gt; Temperature::operator *() const{
    std::vector&lt;int&gt; v(MaxTemp.size());
    std::transform(MaxTemp.begin(), MaxTemp.end(), MinTemp.begin(), v.begin(), std::minus&lt;int&gt;());
    return v;
}
std::vector&lt;int&gt; Temperature::operator -() const{
    std::vector&lt;int&gt; v(MinTemp.size());
    std::transform(MinTemp.begin(), MinTemp.end(), v.begin(), std::bind(std::minus&lt;int&gt;(), MinDozvoljena, std::placeholders::_1));
    return v;
}
std::vector&lt;int&gt; Temperature::operator +() const{
    std::vector&lt;int&gt; v(MaxTemp.size());
    std::transform(MaxTemp.begin(), MaxTemp.end(), v.begin(), std::bind(std::minus&lt;int&gt;(), MaxDozvoljena, std::placeholders::_1));
    return v;
}
std::pair&lt;int,int&gt; Temperature::operator [] (int i) const{
<a name="3"></a><font color="#00FFFF"><a href="match487-0.html#3" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_2.gif"/></a>

    if (i &lt; 1 || i &gt; MaxTemp.size()) throw std::range_error("Neispravan indeks");
    auto it1(MinTemp.begin());
    auto it2(MaxTemp.begin());
    std::advance(it1, i-1);
    std::advance(it2, i-1);
    return std::make_pair(*it1, *it2);
</font>}
Temperature Temperature::operator +(int x) const{
    Temperature t(*this);
    std::transform(MinTemp.begin(), MinTemp.end(), t.MinTemp.begin(), std::bind(std::plus&lt;int&gt;(), std::placeholders::_1, x));
    std::transform(MaxTemp.begin(), MaxTemp.end(), t.MaxTemp.begin(), std::bind(std::plus&lt;int&gt;(), std::placeholders::_1, x));
    if(std::count_if(t.MinTemp.begin(), t.MinTemp.end(), std::bind(std::less&lt;int&gt;(), std::placeholders::_1, MinDozvoljena)) || std::count_if(t.MaxTemp.begin(), t.MaxTemp.end(), std::bind(std::greater&lt;int&gt;(), std::placeholders::_1, MaxDozvoljena)))
        throw std::logic_error("Prekoracen dozvoljeni opseg temperatura");
    return t;
}
Temperature Temperature::operator -(int x) const {
    return *this + (-x);
}
Temperature Temperature::operator +(const Temperature &amp;t2) const {
    Temperature t(*this);
    std::transform(MinTemp.begin(), MinTemp.end(), t2.MinTemp.begin(), t.MinTemp.begin(), std::plus&lt;int&gt;());
    std::transform(MaxTemp.begin(), MaxTemp.end(), t2.MaxTemp.begin(), t.MaxTemp.begin(), std::plus&lt;int&gt;());
    if(std::count_if(t.MinTemp.begin(), t.MinTemp.end(), std::bind(std::less&lt;int&gt;(),std::placeholders::_1, MinDozvoljena)) || std::count_if(t.MaxTemp.begin(), t.MaxTemp.end(), std::bind(std::greater&lt;int&gt;(), std::placeholders::_1, MaxDozvoljena)))
        throw std::logic_error("Prekoracen dozvoljeni opseg temperatura");
    return t;
}
Temperature Temperature::operator -(const Temperature &amp;t2) const {
    Temperature t(*this);
    std::transform(t2.MinTemp.begin(), t2.MinTemp.end(), MinTemp.begin(), t.MaxTemp.begin(), std::minus&lt;int&gt;());
    std::transform(t2.MaxTemp.begin(), t2.MaxTemp.end(), MaxTemp.begin(), t.MinTemp.begin(), std::minus&lt;int&gt;());
    if(std::count_if(t2.MinTemp.begin(), t2.MinTemp.end(), std::bind(std::less&lt;int&gt;(), std::placeholders::_1, MinDozvoljena)) || std::count_if(t2.MaxTemp.begin(), t2.MaxTemp.end(), std::bind(std::greater&lt;int&gt;(), std::placeholders::_1, MaxDozvoljena)))
        throw std::logic_error("Prekoracen dozvoljeni opseg temperatura");
    return t;
}
Temperature&amp; Temperature::operator +=(int x) {
    *this = *this + x;
    return *this;
}
Temperature&amp; Temperature::operator +=(const Temperature &amp;t2) {
    *this = *this + t2;
    return *this;
}
Temperature&amp; Temperature::operator -=(int x) {
    *this = *this - x;
    return *this;
}
Temperature&amp; Temperature::operator -=(const Temperature &amp;t2) {
    *this = *this - t2;
    return *this;
}
bool Temperature::operator == (const Temperature &amp;t)const {
    return (MaxDozvoljena == t.MaxDozvoljena &amp;&amp; MinDozvoljena == t.MinDozvoljena &amp;&amp; MaxTemp.size() == t.MaxTemp.size() &amp;&amp; std::equal(MaxTemp.begin(), MaxTemp.end(), t.MaxTemp.begin()) &amp;&amp; std::equal(MinTemp.begin(), MinTemp.end(), t.MinTemp.begin()));
}
bool Temperature::operator != (const Temperature &amp;t) const {
    return !(*this == t);
}
<a name="1"></a><font color="#00FF00"><a href="match487-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_3.gif"/></a>

std::ostream&amp; operator &lt;&lt; (std::ostream&amp; tok, const Temperature &amp;t) {
    std::copy(t.MinTemp.begin(), t.MinTemp.end(), std::ostream_iterator&lt;int&gt;(tok, " "));
    tok&lt;&lt;"\n";
    std::copy(t.MaxTemp.begin(), t.MaxTemp.end(), std::ostream_iterator&lt;int&gt;(tok, " "));
    return tok;
}
int main ()
{
    try{
    Temperature t(-5, 5);
</font>    t.RegistrirajTemperature(std::make_pair(3,3));
    t.RegistrirajTemperature(std::make_pair(-3,4));
    t.RegistrirajTemperature(std::make_pair(1, 5));
    t.RegistrirajTemperature(std::make_pair(-3,-1));
    t.RegistrirajTemperature(std::make_pair(-3,-3));
    t.BrisiNegativneTemperature();
    std::cout &lt;&lt; t;
    }
    catch(...) {
        std::cout &lt;&lt; "!";
    }
	return 0;
}</pre>
</body>
</html>
