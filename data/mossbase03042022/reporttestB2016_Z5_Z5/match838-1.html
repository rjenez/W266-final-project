<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z5/Z5/student7001.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z5/Z5/student1016.cpp<p></p><pre>
/B16/17 (ZadaÄ‡a 5, Zadatak 5)
//Autotestovi by Berina Cocalic (mail: bcocalic1@etf.unsa.ba)
//Za autotestove se obracati *iskljucivo* osobi koja ih pise
#include &lt;iostream&gt;
#include &lt;list&gt;
#include &lt;stdexcept&gt;
#include &lt;algorithm&gt;
#include &lt;functional&gt;
#include &lt;vector&gt;
#include &lt;iterator&gt;


class PomocnaFunkcijskaKlasa {
    std::ostream&amp; n; 
public:
    PomocnaFunkcijskaKlasa(std::ostream &amp;n) : n(n) {}
    std::ostream&amp; operator ()(int x) { n&lt;&lt;x &lt;&lt; " "; return n; }
};

class Temperature{
    int max_doz, min_doz, br=0;
    std::list&lt;int&gt; min, max;
    public:
    Temperature(int max, int min);
    void RegistrirajTemperature(std::pair&lt;int, int&gt; temp);
    void BrisiSve();
    void BrisiTemperature(std::pair&lt;int, int&gt; par);
    int DajBrojRegistriranihTemperatura() const;
    int DajBrojTemperaturaVecihOd(int temp) const;
    int DajBrojTemperaturaManjihOd(int temp) const ;
    int DajMaksimalnuTemperaturu() const;
    int DajMinimalnuTemperaturu() const;
    bool operator ! (){
        return min.size()==0;
    }
    void operator++();
    void operator--();
    Temperature operator++(int x);
    Temperature operator--(int x);
    std::vector&lt;int&gt; operator *();
    std::vector&lt;int&gt; operator -();
    std::vector&lt;int&gt; operator +();
    std::pair&lt;int, int&gt; operator [](int indeks) const;
    friend Temperature operator +(Temperature x, int n);
    friend Temperature operator +(int n, Temperature x);
    friend Temperature operator -(Temperature x, int n);
    friend Temperature operator -(int n, Temperature x);
    Temperature operator +=(int n);
    Temperature operator -=(int n);
    friend bool operator !=(Temperature t1, Temperature t2);
    friend bool operator ==(Temperature t1, Temperature t2);
    friend std::ostream&amp; operator &lt;&lt; (std::ostream&amp; tok, Temperature t);
};

Temperature::Temperature(int min, int max){
    if(min&gt;max) throw std::range_error("Nekorektne temperature");
    min_doz=min;
    max_doz=max;
    }
void Temperature::RegistrirajTemperature(std::pair&lt;int, int&gt; temp){
    if(temp.first&lt;min_doz or temp.second&lt;min_doz or temp.first&gt;max_doz or temp.second&gt;max_doz or temp.first&gt;temp.second)
        throw std::range_error("Nekorektne temperature");
    min.push_back(temp.first);
    max.push_back(temp.second);
    br++;
}
void Temperature::BrisiSve(){
    min.resize(0);
    max.resize(0);
}
void Temperature::BrisiTemperature(std::pair&lt;int,int&gt; par){
    bool nadjen(false);
    for(auto it=min.begin(); it!=min.end(); it++){
        if(*it==par.first){
            auto itt=max.begin();
            for(itt=max.begin(); itt!=max.end(); itt++){
                if(*itt==par.second){ 
                    nadjen=true;
                    break;
                }
            }
            if(nadjen){
                min.erase(it);
                max.erase(itt);
            }
        }
    }
    if(!nadjen) throw std::logic_error ("Takve temperature nisu registrirane");
}
int Temperature::DajBrojRegistriranihTemperatura() const{
        return br;
}
                                                // Provjeriti da li treba i min i max porediti sa temp !!!!!
int Temperature::DajBrojTemperaturaVecihOd(int temp) const{
    if(max.size()==0) throw std::logic_error("Nema registriranih temperatura");
<a name="6"></a><font color="#00FF00"><a href="match838-0.html#6" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_1.gif"/></a>

    return std::count_if(max.begin(), max.end(), std::bind(std::greater&lt;int&gt;(), std::placeholders::_1,temp));;
}
int Temperature::DajBrojTemperaturaManjihOd(int temp) const{
</font>    if(min.size()==0) throw std::logic_error("Nema registriranih temperatura");
    return std::count_if(min.begin(), min.end(), std::bind(std::less&lt;int&gt;(),std::placeholders::_1, temp));
}
int Temperature::DajMaksimalnuTemperaturu() const{
    if(max.size()==0) throw std::logic_error("Nema registriranih temperatura");
    auto maximalna=std::max_element(max.begin(), max.end());
    return *maximalna;
}
int Temperature::DajMinimalnuTemperaturu() const{
    if(min.size()==0) throw std::logic_error("Nema registriranih temperatura");
    auto minimalna=std::min_element(min.begin(), min.end());
    return *minimalna;
}
void Temperature::operator++(){
<a name="3"></a><font color="#00FFFF"><a href="match838-0.html#3" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_1.gif"/></a>

    std::transform(min.begin(), min.end(),min.begin(), std::bind(std::plus&lt;int&gt;(),std::placeholders::_1,1));
    if(!std::equal(min.begin(),min.end(),max.begin(),std::less&lt;int&gt;())) throw std::logic_error ("Ilegalna operacija");
</font>}
Temperature Temperature::operator++(int x){
    Temperature y(*this);
    ++(*this);
    return y;
}
void Temperature::operator--(){
<a name="4"></a><font color="#FF00FF"><a href="match838-0.html#4" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_1.gif"/></a>

    std::transform(max.begin(), max.end(),max.begin(), std::bind(std::minus&lt;int&gt;(),std::placeholders::_1,1));
    if(!std::equal(max.begin(),max.end(),min.begin(),std::greater&lt;int&gt;())) throw std::logic_error ("Ilegalna operacija");
</font>}
Temperature Temperature::operator--(int x){
    Temperature y(*this);
    std::transform(max.begin(), max.end(),max.begin(), std::bind(std::minus&lt;int&gt;(),std::placeholders::_1,1));
    if(!std::equal(max.begin(),max.end(),min.begin(),std::greater&lt;int&gt;())) throw std::logic_error ("Ilegalna operacija");
    return y;
}
std::vector&lt;int&gt; Temperature::operator *(){
    std::vector&lt;int&gt; v(min.size());
    std::transform(max.begin(), max.end(),min.begin(),v.begin(), std::minus&lt;int&gt;());
    return v;
}
std::vector&lt;int&gt; Temperature::operator -(){
    std::vector&lt;int&gt; v(min.size());
    std::vector&lt;int&gt; x(min.size(), min_doz);
    std::transform(min.begin(), min.end(), x.begin(), v.begin(), std::minus&lt;int&gt;());
    return v;
}
std::vector&lt;int&gt; Temperature::operator +(){
    std::vector&lt;int&gt; v(min.size());
    std::vector&lt;int&gt; x(min.size(), max_doz);
    std::transform(x.begin(), x.end(), max.begin(), v.begin(), std::minus&lt;int&gt;());
    return v;
}
std::pair&lt;int, int&gt; Temperature::operator [](int indeks) const{
    if(indeks&lt;0 or indeks&gt;min.size()) throw std::range_error("Neispravan indeks");
    auto x=min.begin();
    auto y=max.begin();
    std::advance(y, indeks-1);
    std::advance(x, indeks-1);
    return std::make_pair(*x, *y);
}
Temperature operator +(Temperature x, int n){
    Temperature y(x);
    std::transform(y.max.begin(), y.max.end(), y.max.begin(), std::bind(std::plus&lt;int&gt;(),std::placeholders::_1,n));
<a name="1"></a><font color="#00FF00"><a href="match838-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_1.gif"/></a>

    std::transform(y.min.begin(), y.min.end(), y.min.begin(), std::bind(std::plus&lt;int&gt;(),std::placeholders::_1,n));
    auto it1=std::find_if(y.max.begin(), y.max.end(), std::bind(std::greater&lt;int&gt;(),std::placeholders::_1,y.max_doz));
</font>    auto it2=std::find_if(y.min.begin(), y.min.end(), std::bind(std::greater&lt;int&gt;(),std::placeholders::_1,y.max_doz));
    if(it1!=y.max.end() or it2!=y.min.end()) throw std::logic_error("Prekoracen dozvoljeni opseg temperatura");
    return y;
}
Temperature operator +(int n, Temperature x){
    Temperature y(x);
    return y+n;
}
Temperature operator -(Temperature x, int n){
    Temperature y(x);
    std::transform(y.max.begin(), y.max.end(), y.max.begin(), std::bind(std::minus&lt;int&gt;(),std::placeholders::_1,n));
<a name="2"></a><font color="#0000FF"><a href="match838-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_1.gif"/></a>

    std::transform(y.min.begin(), y.min.end(), y.min.begin(), std::bind(std::minus&lt;int&gt;(),std::placeholders::_1,n));
    auto it1=std::find_if(y.max.begin(), y.max.end(), std::bind(std::less&lt;int&gt;(),std::placeholders::_1,y.min_doz));
</font><a name="5"></a><font color="#FF0000"><a href="match838-0.html#5" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_1.gif"/></a>

    auto it2=std::find_if(y.min.begin(), y.min.end(), std::bind(std::less&lt;int&gt;(),std::placeholders::_1,y.min_doz));
    if(it1!=y.max.end() or it2!=y.min.end()) throw std::logic_error("Prekoracen dozvoljeni opseg temperatura");
</font>    return y;
}
Temperature operator -(int n, Temperature x){
    Temperature y(x);
    auto lista=y.min;
    std::transform(y.max.begin(), y.max.end(), y.min.begin(), std::bind(std::minus&lt;int&gt;(),n,std::placeholders::_1));
<a name="0"></a><font color="#FF0000"><a href="match838-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_1.gif"/></a>

    std::transform(lista.begin(), lista.end(), y.max.begin(), std::bind(std::minus&lt;int&gt;(),n,std::placeholders::_1));
    auto it1=std::find_if(y.max.begin(), y.max.end(), std::bind(std::less&lt;int&gt;(),std::placeholders::_1,y.min_doz));
</font>    auto it2=std::find_if(y.min.begin(), y.min.end(), std::bind(std::less&lt;int&gt;(),std::placeholders::_1,y.min_doz));
    if(it1!=y.max.end() or it2!=y.min.end()) throw std::logic_error("Prekoracen dozvoljeni opseg temperatura");
    return y;
}
Temperature Temperature::operator +=(int n){
    std::transform(max.begin(), max.end(), max.begin(), std::bind(std::plus&lt;int&gt;(),std::placeholders::_1,n));
    std::transform(min.begin(), min.end(), min.begin(), std::bind(std::plus&lt;int&gt;(),std::placeholders::_1,n));
    auto it1=std::find_if(max.begin(), max.end(), std::bind(std::greater&lt;int&gt;(),std::placeholders::_1,max_doz));
    auto it2=std::find_if(min.begin(), min.end(), std::bind(std::greater&lt;int&gt;(),std::placeholders::_1,max_doz));
    if(it1!=max.end() or it2!=min.end()) throw std::logic_error("Prekoracen dozvoljeni opseg temperatura");
    return *this;
}
Temperature Temperature::operator -=(int n){
    std::transform(max.begin(),max.end(), max.begin(), std::bind(std::minus&lt;int&gt;(),std::placeholders::_1,n));
    std::transform(min.begin(), min.end(), min.begin(), std::bind(std::minus&lt;int&gt;(),std::placeholders::_1,n));
    auto it1=std::find_if(max.begin(), max.end(), std::bind(std::less&lt;int&gt;(),std::placeholders::_1,min_doz));
    auto it2=std::find_if(min.begin(), min.end(), std::bind(std::less&lt;int&gt;(),std::placeholders::_1,min_doz));
    if(it1!=max.end() or it2!=min.end()) throw std::logic_error("Prekoracen dozvoljeni opseg temperatura");
    return *this;
}
bool operator ==(Temperature t1, Temperature t2){
    return (t1.max_doz==t2.max_doz and t1.min_doz==t2.min_doz and
        std::equal(t1.max.begin(), t1.max.end(), t2.max.begin()) and
        std::equal(t1.min.begin(), t1.min.end(), t2.max.begin()) and t1.br==t2.br);
}
bool operator !=(Temperature t1, Temperature t2){
    return !(t1==t2);
}
std::ostream&amp; operator &lt;&lt;(std::ostream &amp;tok, Temperature t){
    std::for_each(t.min.begin(), t.min.end(), PomocnaFunkcijskaKlasa(tok));
    tok &lt;&lt; std::endl;
    std::for_each(t.max.begin(), t.max.end(), PomocnaFunkcijskaKlasa(tok));
    return tok;
}

using std::cout;
using std::cin;
int main ()
{
    cout &lt;&lt; "Unesite minimalnu i maksimalnu dozvoljenu temperaturu: \n";
    int a, b;
    cin &gt;&gt; a &gt;&gt; b;
    Temperature x(a, b);
    cout &lt;&lt; "Koliko je registriranih minimalnih i maksimalnih temperatura: \n";
    int n; 
    cin &gt;&gt;n;
    cout &lt;&lt; "Unesite minimalne i maksimalne temperature: ";
    for(int i=0; i&lt;n; i++){
        cin &gt;&gt; a &gt;&gt;b;
        try{
            x.RegistrirajTemperature(std::make_pair(a,b));
        } catch(std::range_error e){
            cout &lt;&lt; e.what() &lt;&lt; std::endl ;
            i--;
        }
    }
    try{
    cout &lt;&lt; "Minimalne temperature uvecane za 1 i maksimalne temperature umanjene za 1 iznose: \n";
    x++; x--;
    std::cout &lt;&lt; x;
    cout &lt;&lt; "Unesite broj koji zelite dodati na temperature: \n";
    cin &gt;&gt;n;
    cout &lt;&lt; x+n;
    cout &lt;&lt; "Unesite broj koji zelite oduzeti od temperatura: \n";
    cin &gt;&gt; n;
    cout &lt;&lt; x-n;
    cout &lt;&lt; "Unesite broj od kojeg zelite oduzeti temperature: \n";
    cin &gt;&gt; n;
    cout &lt;&lt; n-x;
    } catch(std::logic_error e){
        std::cout &lt;&lt; e.what();
    }
	return 0;
}</pre>
</body>
</html>
