<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z5/Z5/student4167.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z5/Z5/student4167.cpp<p></p><pre>
<a name="0"></a><font color="#FF0000"><a href="match12-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_37.gif"/></a>

/B16/17 (ZadaÄ‡a 5, Zadatak 5)
//Autotestovi by Berina Cocalic (mail: bcocalic1@etf.unsa.ba)
//Za autotestove se obracati *iskljucivo* osobi koja ih pise
#include &lt;iostream&gt;
#include &lt;list&gt;
#include &lt;stdexcept&gt;
#include &lt;utility&gt;
#include &lt;algorithm&gt;
#include &lt;functional&gt;
#include &lt;vector&gt;
#include &lt;iterator&gt;

static std::list&lt;int&gt; l(1);

class Temperature {
    int md, Md;
    std::list&lt;int&gt; max, min;
public:
    Temperature(int m, int M);
    
    void RegistrirajTemperature(std::pair&lt;int, int&gt; par);
    void BrisiSve();
    void BrisiNegativneTemperature(std::list&lt;int&gt;::iterator it1 = l.begin(), std::list&lt;int&gt;::iterator it2 = l.begin());
    
    int DajBrojRegistriranihTemperatura() const {return max.size();}
    int DajMinimalnuTemperaturu() const;
    int DajMaksimalnuTemperaturu() const;
    int DajBrojTemperaturaVecihOd(int temp) const;
    int DajBrojTemperaturaManjihOd(int temp) const;
    
    bool operator !();
    
    std::vector&lt;int&gt; operator *();
    std::vector&lt;int&gt; operator -();
    std::vector&lt;int&gt; operator +();
    
    friend Temperature &amp;operator ++(Temperature &amp;t);
    friend Temperature &amp;operator --(Temperature &amp;t);
    friend Temperature operator ++(Temperature &amp;t, int);
    friend Temperature operator --(Temperature &amp;t, int);
    
    std::pair&lt;int,int&gt; operator [](int i) const;
    
    friend Temperature operator +(Temperature t, int n);
    friend Temperature operator -(Temperature t, int n);
    friend Temperature operator +(int n, Temperature t);
    friend Temperature operator -(int n, Temperature t);
    
    friend Temperature &amp;operator +=(Temperature &amp;t, int n);
    friend Temperature &amp;operator -=(Temperature &amp;t, int n);
    
    friend bool operator ==(const Temperature &amp;t1, const Temperature &amp;t2);
    friend bool operator !=(const Temperature &amp;t1, const Temperature &amp;t2);
    
    friend std::ostream &amp;operator &lt;&lt;(std::ostream &amp;tok, const Temperature &amp;t);
};

Temperature::Temperature(int m, int M) {
    if(m&gt;M)
        throw std::range_error("Nekorektne temperature");
    md=m; Md=M;
}

void Temperature::RegistrirajTemperature(std::pair&lt;int, int&gt; par) {
    if(par.first&gt;par.second or par.first&lt;md or par.first&gt;Md or par.second&lt;md or par.second&gt;Md)
        throw std::range_error("Nekorektne temperature");
    max.push_back(par.second);
    min.push_back(par.first);
}

void Temperature::BrisiSve() {
    max.clear();
    min.clear();
}

void Temperature::BrisiNegativneTemperature(std::list&lt;int&gt;::iterator it1, std::list&lt;int&gt;::iterator it2) {
    //auto it1(max.begin()), it2(min.begin());
    if(it1==l.begin()) {
        it1=min.begin();
        it2=max.begin();
    }
    if(it1!=min.end()) {
        if(*it1&lt;0 and *it2&lt;0) {
            it1=min.erase(it1);
            it2=max.erase(it2);
        } else {
        it1++; it2++;
        }
        BrisiNegativneTemperature(it1,it2);
    }
    /*while(it1!=max.end()) {
        if(*it1&lt;0 and *it2&lt;0) {
            it1=max.erase(it1);
            it2=min.erase(it2);
        }
        it1++; it2++;
    }*/
}

int Temperature::DajMinimalnuTemperaturu() const {
    if(max.size()==0)
        throw std::logic_error("Nema registriranih temperatura");
    return *std::min_element(min.begin(), min.end());
}

int Temperature::DajMaksimalnuTemperaturu() const {
    if(max.size()==0)
        throw std::logic_error("Nema registriranih temperatura");
    return *std::max_element(max.begin(), max.end());
}

int Temperature::DajBrojTemperaturaVecihOd(int temp) const {
    if(max.size()==0)
        throw std::logic_error("Nema registriranih temperatura");
    return std::count_if(max.begin(), max.end(), std::bind(std::greater&lt;int&gt;(), std::placeholders::_1, temp));
}

int Temperature::DajBrojTemperaturaManjihOd(int temp) const {
    if(max.size()==0)
        throw std::logic_error("Nema registriranih temperatura");
    return std::count_if(min.begin(), min.end(), std::bind(std::less&lt;int&gt;(), std::placeholders::_1, temp));
}

bool Temperature::operator !() {
    if(max.size()==0)
        return true;
    return false;
}

Temperature &amp;operator ++(Temperature &amp;t) {
    std::transform(t.min.begin(), t.min.end(), t.min.begin(), std::bind(std::plus&lt;int&gt;(), std::placeholders::_1, 1));
    /*auto it(std::find_if(t.min.begin(), t.min.end(), t.max.begin(), std::bind(std::equal_to&lt;int&gt;(), std::placeholders::_1, std::placeholders::_2)));
    if(it!=t.min.end()) {
        std::transform(t.min.begin(), t.min.end(), t.min.begin(), std::bind(std::minus&lt;int&gt;(), std::placeholders::_1, 1));
        throw std::logic_error("Ilegalna operacija");
    }*/
    return t;
}

Temperature &amp;operator --(Temperature &amp;t) {
    std::transform(t.max.begin(), t.max.end(), t.max.begin(), std::bind(std::minus&lt;int&gt;(), std::placeholders::_1, 1));
    return t;
}

Temperature operator ++(Temperature &amp;t, int) {
    auto t2(t);
    std::transform(t.min.begin(), t.min.end(), t.min.begin(), std::bind(std::plus&lt;int&gt;(), std::placeholders::_1, 1));
    /*auto it(std::find_if(t.min.begin(), t.min.end(), t.max.begin(), std::bind(std::equal_to&lt;int&gt;(), std::placeholders::_1, std::placeholders::_2)));
    if(it!=t.min.end()) {
        std::transform(t.min.begin(), t.min.end(), t.min.begin(), std::bind(std::minus&lt;int&gt;(), std::placeholders::_1, 1));
        throw std::logic_error("Ilegalna operacija");
    }*/
    return t2;
}

Temperature operator --(Temperature &amp;t, int) {
    auto t2(t);
    std::transform(t.max.begin(), t.max.end(), t.max.begin(), std::bind(std::minus&lt;int&gt;(), std::placeholders::_1, 1));
    return t2;
}

std::vector&lt;int&gt; Temperature::operator *() {
    std::vector&lt;int&gt; v(max.size());
    std::transform(max.begin(), max.end(), min.begin(), v.begin(), std::bind(std::minus&lt;int&gt;(), std::placeholders::_1, std::placeholders::_2));
    return v;
}

std::vector&lt;int&gt; Temperature::operator -() {
    std::vector&lt;int&gt; v(min.size());
    std::transform(min.begin(), min.end(), v.begin(), std::bind(std::plus&lt;int&gt;(), -md, std::placeholders::_1));
    return v;
}

std::vector&lt;int&gt; Temperature::operator +() {
    std::vector&lt;int&gt; v(max.size());
    std::transform(max.begin(), max.end(), v.begin(), std::bind(std::minus&lt;int&gt;(), Md, std::placeholders::_1));
    return v;
}

std::pair&lt;int,int&gt; Temperature::operator [](int i) const {
    if(i&lt;1 or i&gt;max.size())
        throw std::range_error("Neispravan indeks");
    auto it1(min.begin()), it2(max.begin());
    std::advance(it1,i-1); std::advance(it2,i-1);
    return {*it1,*it2};
}

Temperature operator +(Temperature t, int n) {
    std::transform(t.max.begin(), t.max.end(), t.max.begin(), std::bind(std::plus&lt;int&gt;(), std::placeholders::_1, n));
</font><a name="4"></a><font color="#FF00FF"><a href="match12-1.html#4" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_3.gif"/></a>

    std::transform(t.min.begin(), t.min.end(), t.min.begin(), std::bind(std::plus&lt;int&gt;(), std::placeholders::_1, n));
    auto it = std::find_if(t.max.begin(), t.max.end(), std::bind(std::greater_equal&lt;int&gt;(), std::placeholders::_1, t.Md));
    if(it!=t.max.end()) {
        std::transform(t.max.begin(), t.max.end(), t.max.begin(), std::bind(std::minus&lt;int&gt;(), std::placeholders::_1, n));
</font><a name="10"></a><font color="#FF0000"><a href="match12-1.html#10" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_1.gif"/></a>

        std::transform(t.min.begin(), t.min.end(), t.min.begin(), std::bind(std::minus&lt;int&gt;(), std::placeholders::_1, n));
        throw std::logic_error("Prekoracen dozvoljeni opseg temperatura");
    }
    return t;
}

Temperature operator -(Temperature t, int n) {
    std::transform(t.max.begin(), t.max.end(), t.max.begin(), std::bind(std::minus&lt;int&gt;(), std::placeholders::_1, n));
</font><a name="5"></a><font color="#FF0000"><a href="match12-1.html#5" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_3.gif"/></a>

    std::transform(t.min.begin(), t.min.end(), t.min.begin(), std::bind(std::minus&lt;int&gt;(), std::placeholders::_1, n));
    auto it = std::find_if(t.min.begin(), t.min.end(), std::bind(std::less_equal&lt;int&gt;(), std::placeholders::_1, t.md));
    if(it!=t.min.end()) {
        std::transform(t.max.begin(), t.max.end(), t.max.begin(), std::bind(std::plus&lt;int&gt;(), std::placeholders::_1, n));
</font><a name="9"></a><font color="#FF00FF"><a href="match12-1.html#9" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_2.gif"/></a>

        std::transform(t.min.begin(), t.min.end(), t.min.begin(), std::bind(std::plus&lt;int&gt;(), std::placeholders::_1, n));
        throw std::logic_error("Prekoracen dozvoljeni opseg temperatura");
    }
    return t;
}

Temperature operator +(int n, Temperature t) {
    std::transform(t.max.begin(), t.max.end(), t.max.begin(), std::bind(std::plus&lt;int&gt;(), std::placeholders::_1, n));
</font><a name="6"></a><font color="#00FF00"><a href="match12-1.html#6" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_3.gif"/></a>

    std::transform(t.min.begin(), t.min.end(), t.min.begin(), std::bind(std::plus&lt;int&gt;(), std::placeholders::_1, n));
    auto it = std::find_if(t.max.begin(), t.max.end(), std::bind(std::greater_equal&lt;int&gt;(), std::placeholders::_1, t.Md));
    if(it!=t.max.end()) {
        std::transform(t.max.begin(), t.max.end(), t.max.begin(), std::bind(std::minus&lt;int&gt;(), std::placeholders::_1, n));
</font><a name="3"></a><font color="#00FFFF"><a href="match12-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_6.gif"/></a>

        std::transform(t.min.begin(), t.min.end(), t.min.begin(), std::bind(std::minus&lt;int&gt;(), std::placeholders::_1, n));
        throw std::logic_error("Prekoracen dozvoljeni opseg temperatura");
    }
    return t;
}

Temperature operator -(int n, Temperature t) {
    std::transform(t.max.begin(), t.max.end(), t.max.begin(), std::bind(std::minus&lt;int&gt;(), n, std::placeholders::_1));
    std::transform(t.min.begin(), t.min.end(), t.min.begin(), std::bind(std::minus&lt;int&gt;(), n, std::placeholders::_1));
    auto temp(t.max);
    t.max=t.min; t.min=temp;
    auto it = std::find_if(t.min.begin(), t.min.end(), std::bind(std::less_equal&lt;int&gt;(), std::placeholders::_1, t.md));
    if(it!=t.min.end()) {
        std::transform(t.max.begin(), t.max.end(), t.max.begin(), std::bind(std::plus&lt;int&gt;(), std::placeholders::_1, n));
</font><a name="8"></a><font color="#00FFFF"><a href="match12-1.html#8" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_2.gif"/></a>

        std::transform(t.min.begin(), t.min.end(), t.min.begin(), std::bind(std::plus&lt;int&gt;(), std::placeholders::_1, n));
        throw std::logic_error("Prekoracen dozvoljeni opseg temperatura");
    }
    return t;
}

Temperature &amp;operator +=(Temperature &amp;t, int n) {
    std::transform(t.max.begin(), t.max.end(), t.max.begin(), std::bind(std::plus&lt;int&gt;(), std::placeholders::_1, n));
</font><a name="7"></a><font color="#0000FF"><a href="match12-1.html#7" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_3.gif"/></a>

    std::transform(t.min.begin(), t.min.end(), t.min.begin(), std::bind(std::plus&lt;int&gt;(), std::placeholders::_1, n));
    auto it = std::find_if(t.max.begin(), t.max.end(), std::bind(std::greater_equal&lt;int&gt;(), std::placeholders::_1, t.Md));
    if(it!=t.max.begin()) {
        std::transform(t.max.begin(), t.max.end(), t.max.begin(), std::bind(std::minus&lt;int&gt;(), std::placeholders::_1, n));
</font><a name="2"></a><font color="#0000FF"><a href="match12-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_6.gif"/></a>

        std::transform(t.min.begin(), t.min.end(), t.min.begin(), std::bind(std::minus&lt;int&gt;(), std::placeholders::_1, n));
        throw std::logic_error("Prekoracen dozvoljeni opseg temperatura");
    }
    return t;
}

Temperature &amp;operator -=(Temperature &amp;t, int n) {
    std::transform(t.max.begin(), t.max.end(), t.max.begin(), std::bind(std::minus&lt;int&gt;(), n, std::placeholders::_1));
    std::transform(t.min.begin(), t.min.end(), t.min.begin(), std::bind(std::minus&lt;int&gt;(), n, std::placeholders::_1));
    std::swap_ranges(t.min.begin(), t.min.end(), t.max.begin());
    auto it = std::find_if(t.min.begin(), t.min.end(), std::bind(std::less_equal&lt;int&gt;(), std::placeholders::_1, t.md));
    if(it!=t.min.begin()) {
        std::transform(t.max.begin(), t.max.end(), t.max.begin(), std::bind(std::plus&lt;int&gt;(), std::placeholders::_1, n));
</font><a name="1"></a><font color="#00FF00"><a href="match12-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_18.gif"/></a>

        std::transform(t.min.begin(), t.min.end(), t.min.begin(), std::bind(std::plus&lt;int&gt;(), std::placeholders::_1, n));
        throw std::logic_error("Prekoracen dozvoljeni opseg temperatura");
    }
    return t;
}

bool operator ==(const Temperature &amp;t1, const Temperature &amp;t2) {
    if(t1.md==t2.md and t1.Md==t2.Md and t1.max==t2.max and t1.min==t2.min)
        return true;
    return false;
}

bool operator !=(const Temperature &amp;t1, const Temperature &amp;t2) {
    return !(t1==t2);
}

void I(int i) { std::cout &lt;&lt; i &lt;&lt; " ";}

std::ostream &amp;operator &lt;&lt;(std::ostream &amp;tok, const Temperature &amp;t) {
    std::for_each(t.min.begin(), t.min.end(), std::bind(I, std::placeholders::_1));
    tok &lt;&lt; std::endl;
    std::for_each(t.max.begin(), t.max.end(), std::bind(I, std::placeholders::_1));
    return tok;
}

int main ()
{
    Temperature t(-20,30);
    std::pair&lt;int,int&gt; par(-5,10);
    t.RegistrirajTemperature(par);
    par={-8,3};
    t.RegistrirajTemperature(par);
    std::cout &lt;&lt; "Broj registriranih temperatura: " &lt;&lt; t.DajBrojRegistriranihTemperatura() &lt;&lt; std::endl;
    std::cout &lt;&lt; t &lt;&lt; std::endl;
    t.BrisiSve();
    std::cout &lt;&lt; "Nakon brisanja svih temperatura, broj registriranih temperatura: " &lt;&lt; t.DajBrojRegistriranihTemperatura() &lt;&lt; std::endl;
    par={-5,10};
    t.RegistrirajTemperature(par);
    par={-8,3};
    t.RegistrirajTemperature(par);
    t.BrisiNegativneTemperature();
    std::cout &lt;&lt; "Nakon brisanja negativnih, broj registriranih temperatura: " &lt;&lt; t.DajBrojRegistriranihTemperatura() &lt;&lt; std::endl;
	par={-5,-2};
	t.RegistrirajTemperature(par);
	std::cout &lt;&lt; t &lt;&lt; std::endl;
	std::cout &lt;&lt; "Minimalna: " &lt;&lt; t.DajMinimalnuTemperaturu() &lt;&lt; std::endl &lt;&lt; "Maksimalna: " &lt;&lt; t.DajMaksimalnuTemperaturu() &lt;&lt; std::endl;
	std::cout &lt;&lt; "Broj temperatura vecih od 5 stepeni: " &lt;&lt; t.DajBrojTemperaturaVecihOd(5) &lt;&lt; std::endl;
	std::cout &lt;&lt; "Broj temperatura vecih od -5 stepeni: " &lt;&lt; t.DajBrojTemperaturaManjihOd(-5) &lt;&lt; std::endl;
	std::vector&lt;int&gt; v(*t);
	std::cout &lt;&lt; "Razlika maksimalne i minimalne temperature svakog dana: ";
	for(int x : v) std::cout &lt;&lt; x &lt;&lt; " ";
	std::cout &lt;&lt; std::endl;
	v=-t;
	std::cout &lt;&lt; "Razlika minimalno dozvoljene i minimalne temperature svakog dana: ";
	for(int x : v) std::cout &lt;&lt; x &lt;&lt; " ";
	std::cout &lt;&lt; std::endl;
	v=+t;
	std::cout &lt;&lt; "Razlika maksimalno dozvoljene i maksimalne temperature svakog dana: ";
	for(int x : v) std::cout &lt;&lt; x &lt;&lt; " ";
	std::cout &lt;&lt; std::endl;
	std::cout &lt;&lt; "Druga temperatura po redu: " &lt;&lt; t[2].first &lt;&lt; " " &lt;&lt; t[2].second &lt;&lt; std::endl;
	std::cout &lt;&lt; "Temperature uvecane za 3:" &lt;&lt; std::endl &lt;&lt; t+3 &lt;&lt; std::endl;
</font>	return 0;
}</pre>
</body>
</html>
