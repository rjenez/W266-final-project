<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z5/Z5/student2586.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z5/Z5/student2586.cpp<p></p><pre>
/B16/17 (ZadaÄ‡a 5, Zadatak 5)
//Autotestovi by Berina Cocalic (mail: bcocalic1@etf.unsa.ba)
//Za autotestove se obracati *iskljucivo* osobi koja ih pise

#include &lt;list&gt;
#include &lt;iostream&gt;
#include &lt;stdexcept&gt;
#include &lt;utility&gt;
#include &lt;algorithm&gt;
#include &lt;functional&gt;
#include &lt;iterator&gt;

class Temperature
{
    int min_t, max_t;
    std::list&lt;int&gt; min, max;
public:
    Temperature(int x, int y) : min_t(x), max_t(y)
    {
        if(max_t &lt; min_t)
            throw std::range_error("Nekorektne temperature");
    }
    
    void RegistrirajTemperature(const std::pair&lt;int, int&gt;&amp; t);
    void BrisiSve()
    {
        min.resize(0);
        max.resize(0);
    }
    
    void BrisiNegativneTemperature();
    int DajBrojRegistriranihTemperatura() const
    {
        return min.size();
    }
    int DajMinimalnuTemperaturu() const
    {
        if(DajBrojRegistriranihTemperatura() == 0)
            throw std::logic_error("Nema registriranih temperatura");
        return *std::min_element(min.begin(), min.end());
    }
    
    int DajMaksimalnuTemperaturu() const
    {
        if(DajBrojRegistriranihTemperatura() == 0)
            throw std::logic_error("Nema registriranih temperatura");
        return *std::max_element(min.begin(), min.end());
    }
    
    bool operator!()const
    {
        return DajBrojRegistriranihTemperatura() == 0;
    }
    
<a name="1"></a><font color="#00FF00"><a href="match508-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_2.gif"/></a>

    Temperature&amp; operator++();
    Temperature operator++(int);
    
    Temperature&amp; operator--();
    Temperature operator--(int);
    
    std::vector&lt;int&gt; operator*() const;
    std::vector&lt;int&gt; operator-() const;
    std::vector&lt;int&gt; operator+() const;
    
    std::pair&lt;int, int&gt; operator [] (int i) const;
</font>    
    Temperature operator +(int) const;
    friend Temperature operator +(int, const Temperature&amp;);
    
    Temperature operator -(int) const;
    friend Temperature operator -(int, const Temperature&amp;);
    
    
    Temperature&amp; operator+=(int x);

    
    Temperature&amp; operator-=(int x);
 
    bool operator ==(const Temperature&amp; t)
    {
        return min_t == t.min_t &amp;&amp; max_t == t.max_t &amp;&amp; min == t.min &amp;&amp; max == t.max;
    }
    
    bool operator !=(const Temperature&amp; t)
    {
        return !(*this == t);
    }
    
    friend std::ostream&amp; operator&lt;&lt; (std::ostream&amp;, const Temperature&amp; t);
    
    int DajBrojTeperaturaVecihOd(int t) const;
    int DajBrojTeperaturaManjihOd(int t) const;
    
};


int Temperature::DajBrojTeperaturaVecihOd(int t) const
{
     if(DajBrojRegistriranihTemperatura() == 0)
            throw std::logic_error("Nema registriranih temperatura");
    return std::count_if(min.begin(), min.end(), std::bind(std::greater&lt;int&gt;(), std::placeholders::_1, t)) + 
<a name="3"></a><font color="#00FFFF"><a href="match508-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_1.gif"/></a>

        std::count_if(max.begin(), max.end(), std::bind(std::greater&lt;int&gt;(), std::placeholders::_1, t));
}

int Temperature::DajBrojTeperaturaManjihOd(int t) const
</font>{
     if(DajBrojRegistriranihTemperatura() == 0)
            throw std::logic_error("Nema registriranih temperatura");
    return std::count_if(min.begin(), min.end(), std::bind(std::less&lt;int&gt;(), std::placeholders::_1, t)) + 
        std::count_if(max.begin(), max.end(), std::bind(std::less&lt;int&gt;(), std::placeholders::_1, t));
}

std::ostream&amp; operator&lt;&lt; (std::ostream&amp; os, const Temperature&amp; t)
{
    std::copy(t.min.begin(), t.min.end(), std::ostream_iterator&lt;int&gt;(os, " ") );
    os &lt;&lt; '\n';
    std::copy(t.max.begin(), t.max.end(), std::ostream_iterator&lt;int&gt;(os, " ") );
    os &lt;&lt; '\n';
    return os;
}

Temperature operator -(int x, const Temperature&amp; t)
{
    auto t1 = t;
    std::transform(t.min.begin(), t.min.end(), t1.max.begin(), std::bind(std::minus&lt;int&gt;(), std::placeholders::_1, x));
    if(std::any_of(t1.min.begin(), t1.min.end(), std::bind(std::less&lt;int&gt;(), std::placeholders::_1, t1.min_t)))
        throw std::logic_error("Prekoracen  dozvoljeni  opseg  temperatura");
    std::transform(t.max.begin(), t.max.end(), t1.min.begin(), std::bind(std::minus&lt;int&gt;(), std::placeholders::_1, x));
    if(std::any_of(t1.max.begin(), t1.max.end(), std::bind(std::greater&lt;int&gt;(), std::placeholders::_1, t1.max_t)))
        throw std::logic_error("Prekoracen  dozvoljeni  opseg  temperatura");
    return t1;
}


Temperature operator +(int b, const Temperature&amp; p)
{
    return p + b;
}

Temperature&amp; Temperature::operator-=(int x)
{
<a name="4"></a><font color="#FF00FF"><a href="match508-1.html#4" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_1.gif"/></a>

   std::transform(min.begin(), min.end(), min.begin(), std::bind(std::minus&lt;int&gt;(),std::placeholders::_1, x));
   if(std::any_of(min.begin(), min.end(), std::bind(std::less&lt;int&gt;(), std::placeholders::_1, min_t)))
</font>        throw std::logic_error("Prekoracen  dozvoljeni  opseg  temperatura");
    std::transform(max.begin(), max.end(), max.begin(), std::bind(std::minus&lt;int&gt;(), std::placeholders::_1, x));
    return *this;
}

Temperature Temperature::operator -(int br) const
{
   auto p = *this;
   p -= br;
    return p;
}


Temperature&amp; Temperature::operator+=(int x)
{
<a name="5"></a><font color="#FF0000"><a href="match508-1.html#5" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_1.gif"/></a>

   std::transform(max.begin(), max.end(), max.begin(), std::bind(std::plus&lt;int&gt;(), std::placeholders::_1, x));
   if(std::any_of(max.begin(), max.end(), std::bind(std::greater&lt;int&gt;(), std::placeholders::_1, max_t)))
</font>        throw std::logic_error("Prekoracen  dozvoljeni  opseg  temperatura");
    std::transform(min.begin(), min.end(), min.begin(), std::bind(std::plus&lt;int&gt;(), std::placeholders::_1, x));
    return *this;
}


Temperature Temperature::operator +(int br) const
{
   auto p = *this;
    p += br;
    return p;
}

std::pair&lt;int, int&gt; Temperature::operator[] (int i) const
{
    if( i &lt; 1 || i &gt; max.size())
        throw std::range_error("Neispravan indeks");
    auto it1 = min.begin();
    std::advance(it1, i - 1);
    auto it2 = max.begin();
    std::advance(it2, i - 1);
    return std::make_pair(*it1, *it2);
}

<a name="0"></a><font color="#FF0000"><a href="match508-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_5.gif"/></a>

std::vector&lt;int&gt; Temperature::operator-() const
{
    std::vector&lt;int&gt; v (max.size());
    std::transform(min.begin(), min.end(),v.begin(), std::bind(std::minus&lt;int&gt;(), std::placeholders::_1, min_t) );
    return v;
}

std::vector&lt;int&gt; Temperature::operator+() const
{
    std::vector&lt;int&gt; v (max.size());
    std::transform(max.begin(), max.end(),v.begin(), std::bind(std::minus&lt;int&gt;(), max_t, std::placeholders::_1) );
    return v;
}

std::vector&lt;int&gt; Temperature::operator*() const
</font><a name="2"></a><font color="#0000FF"><a href="match508-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_1.gif"/></a>

{
    std::vector&lt;int&gt; v (max.size());
    std::transform(max.begin(), max.end(), min.begin(),v.begin(), std::minus&lt;int&gt;());
    return v;
</font>}

Temperature Temperature::operator--(int)
{
    Temperature p(*this);
    --p;
    return p;
}

Temperature Temperature::operator++(int)
{
    Temperature p(*this);
    ++p;
    return p;
}

Temperature&amp; Temperature::operator--()
{
    std::transform(max.begin(), max.end(), max.begin(), std::bind(std::minus&lt;int&gt;(), std::placeholders::_1, 1));
    std::vector&lt;int&gt; v (max.size());
    std::transform(max.begin(), max.end(), min.begin(),v.begin(), std::less&lt;int&gt;());
    if(std::find(v.begin(), v.end(), 1) != v.end())
        throw std::logic_error("Ilegalna operacija");
    return *this;
}

Temperature&amp; Temperature::operator++()
{
    std::transform(min.begin(), min.end(), min.begin(), std::bind(std::plus&lt;int&gt;(), std::placeholders::_1, 1));
    std::vector&lt;int&gt; v (min.size());
    std::transform(min.begin(), min.end(), max.begin(),v.begin(), std::greater&lt;int&gt;());
    if(std::find(v.begin(), v.end(), 1) != v.end())
        throw std::logic_error("Ilegalna operacija");
    return *this;
}

void Temperature::BrisiNegativneTemperature()
{
    static auto it1 = min.begin();
    static auto it2 = max.begin();
    
    if(it1 == min.end()){
        it1 = min.begin();
        it2 = max.begin();
        return;
    }
    if(*it1  &lt; 0 &amp;&amp; *it2 &lt; 0)
    {
        it1 = min.erase(it1);
        it2 = max.erase(it2);
        BrisiNegativneTemperature();
    }
    else
    {
        it1++;
        it2++;
        BrisiNegativneTemperature();
    }

}

void Temperature::RegistrirajTemperature(const std::pair&lt;int, int&gt;&amp; t)
{
    if(t.first &lt; min_t || t.first &gt; max_t || t.first &gt; t.second)
        throw std::range_error("Nekorektne temperature");
        
<a name="6"></a><font color="#00FF00"><a href="match508-1.html#6" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_1.gif"/></a>

    if(t.second &lt; min_t || t.second &gt; max_t)
        throw std::range_error("Nekorektne temperature");
    
    min.push_back(t.first);
    max.push_back(t.second);
</font>    
}

int main ()
{
   
  try {
    Temperature t(-30, 30);
    t.RegistrirajTemperature(std::make_pair(0, 10));
    t.RegistrirajTemperature(std::make_pair(2, 10));
    t.RegistrirajTemperature(std::make_pair(1, 10));
    t.RegistrirajTemperature(std::make_pair(-5, 15));
    t.RegistrirajTemperature(std::make_pair(-4, 14));
    t.RegistrirajTemperature(std::make_pair(1, 12));
    t.RegistrirajTemperature(std::make_pair(2, 10));
    t.RegistrirajTemperature(std::make_pair(0, 7));
    t.RegistrirajTemperature(std::make_pair(2, 7));

    std::cout &lt;&lt;  t.DajBrojRegistriranihTemperatura() &lt;&lt; std::endl;
    std::cout &lt;&lt;  t.DajMinimalnuTemperaturu() &lt;&lt; std::endl;
    std::cout &lt;&lt;  t.DajMaksimalnuTemperaturu() &lt;&lt; std::endl;
    std::cout &lt;&lt;  t.DajBrojTeperaturaVecihOd(10) &lt;&lt; std::endl;
    std::cout &lt;&lt;  t.DajBrojTeperaturaManjihOd(2) &lt;&lt; std::endl;
    std::cout &lt;&lt; "Temperature: " &lt;&lt; std::endl;
    std::cout &lt;&lt; t;
    t++;
    ++t;
    std::cout &lt;&lt; std::endl &lt;&lt; std::endl;
    std::cout &lt;&lt; "Temperature poslije t++ i ++t: " &lt;&lt; std::endl;
    std::cout &lt;&lt; t;
    --t;
    t--;
    std::cout &lt;&lt; std::endl &lt;&lt; std::endl;
    std::cout &lt;&lt; "Temperature poslijee t-- i --t: " &lt;&lt; std::endl;
    std::cout &lt;&lt; t;
    std::cout &lt;&lt; std::endl &lt;&lt; "Razlika izmedu minimalnih i maximalnih temperatura: " &lt;&lt; std::endl;
    for(auto x : *t)
      std::cout &lt;&lt; x &lt;&lt; " ";
    std::cout &lt;&lt; std::endl &lt;&lt; std::endl &lt;&lt; "Razlika izmedji minilanih i dozvoljene minimalne temperature: " &lt;&lt; std::endl;
    for(auto x : -t)
      std::cout &lt;&lt; x &lt;&lt; " ";
    std::cout &lt;&lt; std::endl &lt;&lt; std::endl &lt;&lt; "Razlika izmedji maximalnih i dozvoljene maximalne temperature: " &lt;&lt; std::endl;
    for(auto x : +t)
      std::cout &lt;&lt; x &lt;&lt; " ";
    Temperature novi = t + 3;
    std::cout &lt;&lt; "\n\n" &lt;&lt; novi &lt;&lt; std::endl &lt;&lt; std::endl;
    std::cout &lt;&lt; "Da li su t1 i novi razliciti: " &lt;&lt; (t != novi) &lt;&lt; std::endl;
    novi = novi - 3;
    std::cout &lt;&lt; "Da li su t1 i novi isti nakon -3: " &lt;&lt; (t == novi) &lt;&lt; std::endl;
    novi.BrisiSve();
    std::cout &lt;&lt; !novi &lt;&lt; std::endl &lt;&lt; std::endl;
    std::cout &lt;&lt; t &lt;&lt; std::endl;
    Temperature t1 = -10 - t;
    std::cout &lt;&lt; t1;
    t1 += 3;
    std::cout &lt;&lt; std::endl &lt;&lt; t1;
    auto p = t1[5];
    std::cout &lt;&lt; std::endl &lt;&lt; "Peta temperatura je: " &lt;&lt; p.first &lt;&lt; " " &lt;&lt; p.second;
  }

  catch(std::logic_error e) {
    std::cout &lt;&lt; e.what();
  }
  return 0;
}</pre>
</body>
</html>
