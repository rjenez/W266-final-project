<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z5/Z5/student7001.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z5/Z5/student7001.cpp<p></p><pre>
/B16/17 (ZadaÄ‡a 5, Zadatak 5)
//Autotestovi by Berina Cocalic (mail: bcocalic1@etf.unsa.ba)
//Za autotestove se obracati *iskljucivo* osobi koja ih pise
#include &lt;iostream&gt;
#include &lt;list&gt;
#include &lt;stdexcept&gt;
#include &lt;utility&gt;
#include &lt;vector&gt;
#include &lt;algorithm&gt;
#include &lt;functional&gt;
#include &lt;iterator&gt;

class Temperature {
    int min_dozvoljena_temp, max_dozvoljena_temp;
    std::list&lt;int&gt; maksimalne_temperature;
    std::list&lt;int&gt; minimalne_temperature;
public:
    Temperature(int min_dozvoljena_temp, int max_dozvoljena_temp);
    void RegistrirajTemperature(std::pair&lt;int,int&gt; temperature);
    void BrisiSve();
<a name="8"></a><font color="#00FFFF"><a href="match263-1.html#8" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_1.gif"/></a>

    void BrisiNegativneTemperature();
    int DajBrojRegistriranihTemperatura() const;
    int DajMaksimalnuTemperaturu() const;
    int DajMinimalnuTemperaturu() const;
    int DajBrojTemperaturaVecihOd(int temperatura) const;
    int DajBrojTemperaturaManjihOd(int temperatura) const;
    friend bool operator !(const Temperature &amp;t);
</font><a name="4"></a><font color="#FF00FF"><a href="match263-1.html#4" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_1.gif"/></a>

    friend Temperature &amp;operator ++(Temperature &amp;t);
    friend Temperature operator ++(Temperature &amp;t,int);
    friend Temperature &amp;operator --(Temperature &amp;t);
    friend Temperature operator --(Temperature &amp;t,int);
    friend std::vector&lt;int&gt; operator *(const Temperature &amp;t);
</font>    friend std::vector&lt;int&gt; operator -(const Temperature &amp;t);
    friend std::vector&lt;int&gt; operator +(const Temperature &amp;t);
    std::pair&lt;int,int&gt; operator [](int indeks);
    friend Temperature operator +(const Temperature &amp;t,int y);
    friend Temperature operator +(int y,const Temperature &amp;t);
    friend Temperature operator -(const Temperature &amp;t,int y);
    friend Temperature operator -(int y,const Temperature &amp;t);
    friend Temperature &amp;operator +=(Temperature &amp;t1,int y);
    friend Temperature &amp;operator -=(Temperature &amp;t1,int y);
<a name="3"></a><font color="#00FFFF"><a href="match263-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_1.gif"/></a>

    friend bool operator ==(const Temperature &amp;t1,const Temperature &amp;t2);
    friend bool operator !=(const Temperature &amp;t1,const Temperature &amp;t2);
    friend std::ostream &amp;operator &lt;&lt;(std::ostream &amp;tok, const Temperature &amp;t);
};

Temperature::Temperature(int min_dozvoljena_temp, int max_dozvoljena_temp) {
</font>    std::less&lt;int&gt; manji;
    if (manji(max_dozvoljena_temp,min_dozvoljena_temp))
        throw std::range_error("Nekorektne temperature");
    this-&gt;min_dozvoljena_temp=min_dozvoljena_temp;
    this-&gt;max_dozvoljena_temp=max_dozvoljena_temp;
}

void Temperature::RegistrirajTemperature(std::pair&lt;int,int&gt; temperature) {
    std::less&lt;int&gt; manji;
    if (manji(temperature.second,temperature.first))
        throw std::range_error("Nekorektne temperature");
    if (manji(max_dozvoljena_temp,temperature.second))
        throw std::range_error("Nekorektne temperature");
    if (manji(temperature.first,min_dozvoljena_temp))
        throw std::range_error("Nekorektne temperature");
    maksimalne_temperature.push_back(temperature.second);
    minimalne_temperature.push_back(temperature.first);
} 

void Temperature::BrisiSve() {
    if (maksimalne_temperature.size()==0 || minimalne_temperature.size()==0)
        throw std::logic_error("Nema registriranih temperatura");
    maksimalne_temperature.erase(maksimalne_temperature.begin(),maksimalne_temperature.end());
    minimalne_temperature.erase(minimalne_temperature.begin(),minimalne_temperature.end());
} 

void Temperature::BrisiNegativneTemperature() {
    auto it1=std::find_if(maksimalne_temperature.begin(),maksimalne_temperature.end(),std::bind(std::less&lt;int&gt;(),std::placeholders::_1,0));
    if (it1==maksimalne_temperature.end()) return;
    else {
        auto it2=minimalne_temperature.begin();
        int pozicija=std::distance(maksimalne_temperature.begin(),it1);
        std::advance(it2,pozicija);
        maksimalne_temperature.erase(it1);
        minimalne_temperature.erase(it2);
    }
    BrisiNegativneTemperature();
}

<a name="0"></a><font color="#FF0000"><a href="match263-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_2.gif"/></a>

int Temperature::DajBrojRegistriranihTemperatura() const {
    return maksimalne_temperature.size();
} 

int Temperature::DajMaksimalnuTemperaturu() const {
    if (maksimalne_temperature.size()==0)
        throw std::logic_error("Nema registriranih temperatura");
    return *std::max_element(maksimalne_temperature.begin(),maksimalne_temperature.end());
} 

int Temperature::DajMinimalnuTemperaturu() const {
    if (maksimalne_temperature.size()==0)
        throw std::logic_error("Nema registriranih temperatura");
    return *std::min_element(minimalne_temperature.begin(),minimalne_temperature.end());
} 

int Temperature::DajBrojTemperaturaVecihOd(int temperatura) const {
</font><a name="9"></a><font color="#FF00FF"><a href="match263-1.html#9" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_1.gif"/></a>

    return std::count_if(maksimalne_temperature.begin(),maksimalne_temperature.end(),std::bind(std::greater&lt;int&gt;(),std::placeholders::_1,temperatura));
} 

int Temperature::DajBrojTemperaturaManjihOd(int temperatura) const {
</font>    return std::count_if(minimalne_temperature.begin(),minimalne_temperature.end(),std::bind(std::less&lt;int&gt;(),std::placeholders::_1,temperatura));
} 

bool operator!(const Temperature &amp;t) {
<a name="5"></a><font color="#FF0000"><a href="match263-1.html#5" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_1.gif"/></a>

    if (t.DajBrojRegistriranihTemperatura()==0) return true;
    return false;
} 

Temperature &amp;operator ++(Temperature &amp;t) {
    std::transform(t.minimalne_temperature.begin(),t.minimalne_temperature.end(),t.minimalne_temperature.begin(),std::bind(std::plus&lt;int&gt;(),std::placeholders::_1,1));
</font>    if (!(std::equal(t.minimalne_temperature.begin(),t.minimalne_temperature.end(),t.maksimalne_temperature.begin(),
        std::bind(std::less_equal&lt;int&gt;(),std::placeholders::_1,std::placeholders::_2)))) 
<a name="2"></a><font color="#0000FF"><a href="match263-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_1.gif"/></a>

        throw std::logic_error("Ilegalna operacija");
    return t;
}  

Temperature operator ++(Temperature &amp;t,int) {
    Temperature pomocni(t);
    ++t;
    return pomocni;
} 

Temperature &amp;operator --(Temperature &amp;t) {
    std::transform(t.maksimalne_temperature.begin(),t.maksimalne_temperature.end(),t.maksimalne_temperature.begin(),std::bind(std::minus&lt;int&gt;(),std::placeholders::_1,1));
</font>    if (!(std::equal(t.maksimalne_temperature.begin(),t.maksimalne_temperature.end(),t.minimalne_temperature.begin(),
        std::bind(std::greater_equal&lt;int&gt;(),std::placeholders::_1,std::placeholders::_2))))
<a name="7"></a><font color="#0000FF"><a href="match263-1.html#7" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_1.gif"/></a>

        throw std::logic_error("Ilegalana operacija");
    return t;
} 

Temperature operator --(Temperature &amp;t,int) {
    Temperature pomocni(t);
    --t;
    return pomocni;
} 

std::vector&lt;int&gt; operator *(const Temperature &amp;t) {
</font>    std::vector&lt;int&gt; razlike(t.DajBrojRegistriranihTemperatura());
<a name="6"></a><font color="#00FF00"><a href="match263-1.html#6" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_1.gif"/></a>

    std::transform(t.maksimalne_temperature.begin(),t.maksimalne_temperature.end(),t.minimalne_temperature.begin(),
        razlike.begin(),std::bind(std::minus&lt;int&gt;(),std::placeholders::_1,std::placeholders::_2));
</font>    return razlike;
} 

std::vector&lt;int&gt; operator -(const Temperature &amp;t) {
    std::vector&lt;int&gt; razlike(t.DajBrojRegistriranihTemperatura());
    std::transform(t.minimalne_temperature.begin(),t.minimalne_temperature.end(),razlike.begin(),
        std::bind(std::minus&lt;int&gt;(),std::placeholders::_1,t.min_dozvoljena_temp));
    return razlike;
} 

std::vector&lt;int&gt; operator +(const Temperature &amp;t) {
    std::vector&lt;int&gt; razlike(t.DajBrojRegistriranihTemperatura());
    std::transform(t.maksimalne_temperature.begin(),t.maksimalne_temperature.end(),razlike.begin(),
        std::bind(std::minus&lt;int&gt;(),t.max_dozvoljena_temp,std::placeholders::_1));
    return razlike;
} 

std::pair&lt;int,int&gt; Temperature::operator [](int indeks) {
    if (indeks&lt;=0 || indeks&gt;DajBrojRegistriranihTemperatura())
        throw std::range_error("Neispravan indeks");
    auto it1=minimalne_temperature.begin();
    std::advance(it1,indeks-1);
    auto it2=maksimalne_temperature.begin();
    std::advance(it2,indeks-1);
    return std::make_pair(*it1,*it2);
} 

Temperature operator +(const Temperature &amp;t,int y) {
    Temperature rezultat(t.min_dozvoljena_temp,t.max_dozvoljena_temp);
    rezultat.maksimalne_temperature.resize(t.DajBrojRegistriranihTemperatura());
    rezultat.minimalne_temperature.resize(t.DajBrojRegistriranihTemperatura());
    std::copy(t.minimalne_temperature.begin(),t.minimalne_temperature.end(),rezultat.minimalne_temperature.begin());
    std::copy(t.maksimalne_temperature.begin(),t.maksimalne_temperature.end(),rezultat.maksimalne_temperature.begin());
    std::transform(rezultat.minimalne_temperature.begin(),rezultat.minimalne_temperature.end(),rezultat.minimalne_temperature.begin(),
        std::bind(std::plus&lt;int&gt;(),std::placeholders::_1,y));
    std::transform(rezultat.maksimalne_temperature.begin(),rezultat.maksimalne_temperature.end(),rezultat.maksimalne_temperature.begin(),
        std::bind(std::plus&lt;int&gt;(),std::placeholders::_1,y));
    auto tmp1=std::find_if(rezultat.maksimalne_temperature.begin(),rezultat.maksimalne_temperature.end(),
        std::bind(std::greater&lt;int&gt;(),std::placeholders::_1,t.max_dozvoljena_temp));
    if (tmp1!=rezultat.maksimalne_temperature.end()) throw std::logic_error("Prekoracen dozvoljeni opseg temperatura");
    auto tmp2=std::find_if(rezultat.minimalne_temperature.begin(),rezultat.minimalne_temperature.end(),
        std::bind(std::less&lt;int&gt;(),std::placeholders::_1,t.min_dozvoljena_temp));
    if (tmp2!=rezultat.minimalne_temperature.end()) throw std::logic_error("Prekoracen dozvoljeni opseg temperatura");
    return rezultat;
} 

Temperature operator +(int y,const Temperature &amp;t) {
    auto rezultat=t+y;
    return rezultat;
} 

Temperature operator -(const Temperature &amp;t,int y) {
    Temperature rezultat(t.min_dozvoljena_temp,t.max_dozvoljena_temp);
    rezultat.maksimalne_temperature.resize(t.DajBrojRegistriranihTemperatura());
    rezultat.minimalne_temperature.resize(t.DajBrojRegistriranihTemperatura());
    auto it1_1=rezultat.minimalne_temperature.begin(); it1_1++;
    auto it2_1=rezultat.maksimalne_temperature.begin(); it2_1++;
    std::copy(t.minimalne_temperature.begin(),t.minimalne_temperature.end(),rezultat.minimalne_temperature.begin());
    std::copy(t.maksimalne_temperature.begin(),t.maksimalne_temperature.end(),rezultat.maksimalne_temperature.begin());
    std::transform(rezultat.minimalne_temperature.begin(),rezultat.minimalne_temperature.end(),
        rezultat.minimalne_temperature.begin(),std::bind(std::minus&lt;int&gt;(),std::placeholders::_1,y));
    std::transform(rezultat.maksimalne_temperature.begin(),rezultat.maksimalne_temperature.end(),
        rezultat.maksimalne_temperature.begin(),std::bind(std::minus&lt;int&gt;(),std::placeholders::_1,y));
    auto tmp1=std::find_if(rezultat.minimalne_temperature.begin(),rezultat.minimalne_temperature.end(),
        std::bind(std::less&lt;int&gt;(),std::placeholders::_1,t.min_dozvoljena_temp));
    if (tmp1!=rezultat.minimalne_temperature.end()) throw std::logic_error("Prekoracen dozvoljeni opseg temperatura");
    auto tmp2=std::find_if(rezultat.maksimalne_temperature.begin(),rezultat.maksimalne_temperature.end(),
        std::bind(std::greater&lt;int&gt;(),std::placeholders::_1,t.max_dozvoljena_temp));
    if (tmp2!=rezultat.maksimalne_temperature.end()) throw std::logic_error("Prekoracen dozvoljeni opseg temperatura");
    return rezultat;
} 

Temperature operator -(int y,const Temperature &amp;t) {
    Temperature rezultat(t.min_dozvoljena_temp,t.max_dozvoljena_temp);
    rezultat.maksimalne_temperature.resize(t.DajBrojRegistriranihTemperatura());
    rezultat.minimalne_temperature.resize(t.DajBrojRegistriranihTemperatura());
    std::copy(t.minimalne_temperature.begin(),t.minimalne_temperature.end(),rezultat.maksimalne_temperature.begin());
    std::copy(t.maksimalne_temperature.begin(),t.maksimalne_temperature.end(),rezultat.minimalne_temperature.begin());
    std::transform(rezultat.minimalne_temperature.begin(),rezultat.minimalne_temperature.end(),
        rezultat.minimalne_temperature.begin(),std::bind(std::minus&lt;int&gt;(),y,std::placeholders::_1));
    auto tmp1=std::find_if(rezultat.minimalne_temperature.begin(),rezultat.minimalne_temperature.end(),
        std::bind(std::less&lt;int&gt;(),std::placeholders::_1,t.min_dozvoljena_temp));
    if (tmp1!=rezultat.minimalne_temperature.end()) throw std::logic_error("Prekoracen dozvoljeni opseg temperatura");
    std::transform(rezultat.maksimalne_temperature.begin(),rezultat.maksimalne_temperature.end(),
        rezultat.maksimalne_temperature.begin(),std::bind(std::minus&lt;int&gt;(),y,std::placeholders::_1));
    auto tmp2=std::find_if(rezultat.maksimalne_temperature.begin(),rezultat.maksimalne_temperature.end(),
        std::bind(std::greater&lt;int&gt;(),std::placeholders::_1,t.max_dozvoljena_temp));
    if (tmp2!=rezultat.maksimalne_temperature.end()) throw std::logic_error("Prekoracen dozvoljeni opseg temperatura");
    return rezultat;
} 

Temperature &amp;operator +=(Temperature &amp;t1,int y) {
    t1=t1+y;
    return t1;
} 

Temperature &amp;operator -=(Temperature &amp;t1,int y) {
    t1=t1-y;
    return t1;
} 

bool operator ==(const Temperature &amp;t1,const Temperature &amp;t2) {
    if (t1.DajBrojRegistriranihTemperatura()!=t2.DajBrojRegistriranihTemperatura() || t1.max_dozvoljena_temp!=t2.max_dozvoljena_temp ||
        t1.min_dozvoljena_temp!=t2.min_dozvoljena_temp) return false;
    else if (!std::equal(t1.minimalne_temperature.begin(),t1.minimalne_temperature.end(),t2.minimalne_temperature.begin())) return false;
<a name="1"></a><font color="#00FF00"><a href="match263-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_2.gif"/></a>

    else if (!std::equal(t1.maksimalne_temperature.begin(),t1.maksimalne_temperature.end(),t2.maksimalne_temperature.begin())) return false;
    return true;
}

bool operator !=(const Temperature &amp;t1,const Temperature &amp;t2) {
    return !(t1==t2);
}

std::ostream &amp;operator &lt;&lt;(std::ostream &amp;tok, const Temperature &amp;t) {
    std::ostream_iterator&lt;int&gt; izlaz(tok," ");
    std::copy(t.minimalne_temperature.begin(),t.minimalne_temperature.end(),izlaz);
</font>    tok &lt;&lt; std::endl;
    std::copy(t.maksimalne_temperature.begin(),t.maksimalne_temperature.end(),izlaz);
    return tok;
}

int main () {
    Temperature t(-35,35);
    t.RegistrirajTemperature({4,15});
    t.RegistrirajTemperature({-3,8});
    t.RegistrirajTemperature({-11,-3});
    t.RegistrirajTemperature({-7,14});
    t.RegistrirajTemperature({0,21});
    t.RegistrirajTemperature({5,27});
    t.RegistrirajTemperature({-13,-12});
    t.BrisiNegativneTemperature();
    std::cout &lt;&lt; t &lt;&lt; std::endl;
    t++; t--;
    std::cout &lt;&lt; t &lt;&lt; std::endl;
    ++t; --t;
    std::cout &lt;&lt; t &lt;&lt; std::endl;
    t+=3; t-=3;
    std::cout &lt;&lt; t &lt;&lt; std::endl;
    auto t1=0-t;
    std::cout &lt;&lt; t1 &lt;&lt; std::endl;
    auto t2=-0-t;
    std::cout &lt;&lt; t2 &lt;&lt; std::endl;
    if (t1==t2) {
        std::cout &lt;&lt; t.DajBrojRegistriranihTemperatura() &lt;&lt; " " &lt;&lt; t.DajMaksimalnuTemperaturu() &lt;&lt; " " &lt;&lt; t.DajMinimalnuTemperaturu() &lt;&lt; std::endl;
        t.BrisiSve();
        if (!t) std::cout &lt;&lt; "Kraj" &lt;&lt; std::endl;
    }
    else t.BrisiSve();
    return 0;
}</pre>
</body>
</html>
