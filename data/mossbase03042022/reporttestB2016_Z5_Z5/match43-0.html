<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z5/Z5/student3219.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z5/Z5/student3219.cpp<p></p><pre>
<a name="0"></a><font color="#FF0000"><a href="match43-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_99.gif"/></a>

/B16/17 (ZadaÄ‡a 5, Zadatak 5)
//Autotestovi by Berina Cocalic (mail: bcocalic1@etf.unsa.ba)
//Za autotestove se obracati *iskljucivo* osobi koja ih pise
#include &lt;iostream&gt;
#include &lt;list&gt;
#include &lt;vector&gt;
#include &lt;stdexcept&gt;
#include &lt;algorithm&gt;
#include &lt;functional&gt;
#include &lt;iterator&gt;
#include &lt;map&gt;

using namespace std;

class Temperature {
    list&lt;int&gt; min;
    list&lt;int&gt; max;
    
    public:
    Temperature( int minimalna, int maximalna);
    void RegistrirajTemperature( pair&lt;int, int&gt; temp );
    void BrisiSve();
    void BrisiNegativneTemperature();
    int DajBrojRegistriranihTemperatura() const;
    int DajMinimalnuTemperaturu() const;
    int DajMaksimalnuTeperaturu() const;
    int DajBrojTeperaturaVecihOd(int temp) const;
    int DajBrojTeperaturaManjihOd(int temp) const;
    bool operator !();
    Temperature &amp;operator ++();
    Temperature &amp;operator --();
    friend Temperature operator ++(Temperature &amp;t, int);
    friend Temperature operator --(Temperature &amp;t, int);
    vector&lt;int&gt; operator *();
    vector&lt;int&gt; operator -();
    vector&lt;int&gt; operator +();
    pair&lt;int,int&gt; operator [](int i);
    friend Temperature operator +(const Temperature &amp;t, int Y);
    friend Temperature operator -(const Temperature &amp;t, int Y);
    friend Temperature operator +(int Y, const Temperature &amp;t);
    friend Temperature operator -(int Y, const Temperature &amp;t);
    friend Temperature &amp;operator +=(Temperature &amp;t, int Y);
    friend Temperature &amp;operator -=(Temperature &amp;t, int Y);
    friend bool operator ==(const Temperature &amp;t1, const Temperature &amp;t2);
    friend bool operator !=(const Temperature &amp;t1, const Temperature &amp;t2);
    friend ostream &amp;operator &lt;&lt;(ostream &amp;tok, const Temperature &amp;t);
};
    Temperature::Temperature( int minimalna, int maximalna) {
        if(maximalna&lt;minimalna) throw range_error ("Nekorektne temperature");
        min.push_back(minimalna);
        max.push_back(maximalna);
    }
    void Temperature::RegistrirajTemperature( pair&lt;int, int&gt; temp ) {
        auto it1=min.begin();
        auto it2=max.begin();
        if(temp.first&gt;temp.second || temp.first&lt;*it1 || temp.second&gt;*it2) throw range_error ("Nekorektne temperature");
        min.push_back(temp.first);
        max.push_back(temp.second);
    }
    void Temperature::BrisiSve() {
        auto it=min.begin(); int n=*it;
        auto it2=max.begin();  int n1=*it2;
        min.clear();
        max.clear();
        min.push_back(n);
        max.push_back(n1);
    }
    void Temperature::BrisiNegativneTemperature() {
        if(*max_element(max.begin(),max.end())&lt;0) this-&gt;BrisiSve();
        auto it=min.begin(); it++;
        auto it1=max.begin(); it1++;
        pocetak:
        if(*it&lt;0 &amp;&amp; *it1&lt;0) {
            it=min.erase(it);
            it1=max.erase(it1);
        }
        else { it++; it1++; }
        if(it==min.end() || it1==max.end()) {}
        else goto pocetak;
        
        
    }                                                                     //BrisiNegativneTemeprature
    int Temperature::DajBrojRegistriranihTemperatura() const {
        return min.size()-1;
    }
    int Temperature::DajMinimalnuTemperaturu() const {
        auto it=min.begin();
        it++;
        return *min_element(it, min.end());
    }
    int Temperature::DajMaksimalnuTeperaturu() const {
        auto it=max.begin();
        it++;
        return *max_element(it, max.end());
    }
    int Temperature::DajBrojTeperaturaVecihOd(int temp) const {
        auto it=max.begin();
        it++;
        int n=count_if(it, max.end(), bind( greater&lt;int&gt;(), placeholders::_1, temp));
        return n;
    }  
    int Temperature::DajBrojTeperaturaManjihOd(int temp) const {
        auto it=min.begin(); it++;
        return count_if(it, min.end(), bind( less&lt;int&gt;(), placeholders::_1, temp));
    }
    bool Temperature::operator !() {
        if(this-&gt;min.size()==1 &amp;&amp; this-&gt;max.size()==1) return true;
        return false;
    }
    Temperature &amp;Temperature::operator ++() {
        transform(min.begin(), min.end(), min.begin(), bind(plus&lt;int&gt;(), placeholders::_1, 1));
        vector&lt;int&gt; pom=*(*this);
        if(*min_element(pom.begin(),pom.end())&lt;0) throw logic_error("Ilegalna operacija");
        return *this;
    }
    Temperature &amp;Temperature::operator --() {
        transform(max.begin(), max.end(), max.begin(), bind( plus&lt;int&gt;(), placeholders::_1, -1));
        vector&lt;int&gt; pom=*(*this);
        if(*min_element(pom.begin(),pom.end())&lt;0) throw logic_error("Ilegalna operacija");
        return *this;
    }
    Temperature operator ++(Temperature &amp;t, int) {
        Temperature k=t;
        ++t;
        return k;
    }
    Temperature operator --(Temperature &amp;t, int) {
       Temperature k=t;
       --t;
       return k;
    }
    vector&lt;int&gt; Temperature::operator *() {
        vector&lt;int&gt; vektor;
        vektor.resize(min.size()-1);
        auto it=max.begin(); it++;
        auto it1=min.begin(); it1++;
        auto it2=vektor.begin();
        transform(it, max.end(), it1, it2, minus&lt;int&gt;() );
        return vektor;
    }                                                                            
    vector&lt;int&gt; Temperature::operator -() {
        vector&lt;int&gt; vek(min.size()-1);
        //vector&lt;int&gt; pomocni(min.size()-1, *(min.begin()));
        auto it=min.begin(); it++;
        //auto it1=pomocni.begin();
        auto it2=vek.begin();
        transform(it, min.end(),it2, bind(plus&lt;int&gt;(), placeholders::_1, *(min.begin())));
        return vek;
    }
    vector&lt;int&gt; Temperature::operator +() {
        vector&lt;int&gt; vek(max.size()-1);
        vector&lt;int&gt; pomocni(max.size()-1, *(max.begin()));
        auto it=max.begin(); it++;
        auto it1=pomocni.begin();
        auto it2=vek.begin();
        transform(it1, pomocni.end(), it, it2, minus&lt;int&gt;());
        return vek;
    }
    pair&lt;int,int&gt; Temperature::operator [](int i) {
        if(i&gt;min.size() || i&lt;0) throw range_error ("Neispravan indeks");
        vector&lt;int&gt; minimalne(min.size());
        vector&lt;int&gt; maksimalne(max.size());
        auto it=min.begin(); it++;
        auto it1=max.begin(); it1++;
        copy(it, min.end(), minimalne.begin());
        copy(it1, max.end(), maksimalne.begin());
        return make_pair(minimalne[i-1], maksimalne[i-1]);
    }
    Temperature operator +(const Temperature &amp;t, int Y) {
        vector&lt;int&gt; vek(t.min.size()-1, Y);
        Temperature pom=t;
        auto it=pom.min.begin(); it++;
        transform(it, pom.min.end(), vek.begin(), it, plus&lt;int&gt;());
        it=pom.max.begin(); it++;
        transform(it, pom.max.end(), vek.begin(), it, plus&lt;int&gt;());
        if(*max_element(pom.max.begin(),pom.max.end()) &gt; *pom.max.begin() || *min_element(pom.min.begin(), pom.min.end()) &lt; *pom.min.begin()) throw logic_error ("Prekoracen dozvoljeni opseg temperatura");
        return pom;
    }
    Temperature operator -(const Temperature &amp;t, int Y) {
        vector&lt;int&gt; vek(t.min.size()-1, Y);
        Temperature pom=t;
        auto it=pom.min.begin(); it++;
        transform(it, pom.min.end(), vek.begin(), it, minus&lt;int&gt;());
        it=pom.max.begin(); it++;
        transform(it, pom.max.end(), vek.begin(), it, minus&lt;int&gt;());
        if(*max_element(pom.max.begin(),pom.max.end()) &gt; *pom.max.begin() || *min_element(pom.min.begin(), pom.min.end()) &lt; *pom.min.begin()) throw logic_error ("Prekoracen dozvoljeni opseg temperatura");
        return pom;
    }
    Temperature operator +(int Y, const Temperature &amp;t) {
    Temperature pom= t + Y;
    return pom;
    }
    Temperature operator -(int Y, const Temperature &amp;t) {
        vector&lt;int&gt; vek(t.min.size()-1, Y);
        Temperature pom=t;
        auto it=pom.min.begin(); it++;
        transform(vek.begin(), vek.end(), it, it, minus&lt;int&gt;());
        it=pom.max.begin(); it++;
        transform(vek.begin(), vek.end(), it, it, minus&lt;int&gt;());
        pom.min.swap(pom.max);
        if(*max_element(pom.max.begin(),pom.max.end()) &gt; *pom.max.begin() || *min_element(pom.min.begin(), pom.min.end()) &lt; *pom.min.begin()) throw logic_error ("Prekoracen dozvoljeni opseg temperatura");
        return pom;
    }
    Temperature &amp;operator +=(Temperature &amp;t, int Y) {
        return t=t+Y;
    }
    Temperature &amp;operator -=(Temperature &amp;t, int Y) {
        return t=t-Y;
    }
    bool operator ==(const Temperature &amp;t1, const Temperature &amp;t2) {
        if(t1.min.size()!= t2.min.size() || t1.max.size()!= t2.max.size()) return false;
        if(!equal(t1.min.begin(), t1.min.end(), t2.min.begin())) return false;
        if(!equal(t1.max.begin(), t1.max.end(), t2.max.begin())) return false;
        else return true;
    }
    bool operator !=(const Temperature &amp;t1, const Temperature &amp;t2) {
        return !(t1==t2);
    }
    ostream &amp;operator &lt;&lt;(ostream &amp;tok, const Temperature &amp;t) {
        auto it=t.min.begin(); it++;
        ostream_iterator&lt;int&gt; iter(std::cout, " ");
        copy(it, t.min.end(), iter);
        tok&lt;&lt;endl;
        it=t.max.begin(); it++;
        copy(it, t.max.end(), iter);
        tok&lt;&lt;endl;
        return tok;
</font>    }
    
int main ()
{       
	return 0;
}</pre>
</body>
</html>
