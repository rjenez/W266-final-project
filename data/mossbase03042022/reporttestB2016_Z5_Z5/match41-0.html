<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z5/Z5/student5222.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z5/Z5/student5222.cpp<p></p><pre>
<a name="0"></a><font color="#FF0000"><a href="match41-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_99.gif"/></a>

/B16/17 (ZadaÄ‡a 5, Zadatak 5)
//Autotestovi by Berina Cocalic (mail: bcocalic1@etf.unsa.ba)
//Za autotestove se obracati *iskljucivo* osobi koja ih pise
#include &lt;iostream&gt;
#include &lt;utility&gt;
#include &lt;functional&gt;
#include &lt;algorithm&gt;
#include &lt;stdexcept&gt;
#include &lt;vector&gt;
#include &lt;list&gt;
#include &lt;iterator&gt;

using namespace std;
using namespace placeholders;

class Temperature {
    list&lt;int&gt; minimalne;
    list&lt;int&gt; maksimalne;
    int minTemp, maxTemp;
    void Provjera(int, int) const;
public:
    Temperature(int, int);
    void RegistrirajTemperature(pair&lt;int, int&gt;);
    void BrisiSve();
    void BrisiTemperature(pair&lt;int, int&gt;);
    int DajBrojRegistriranihTemperatura() const;
    int DajMaksimalnuTemperaturu() const;
    int DajMinimalnuTemperaturu() const;
    int DajBrojTemperaturaVecihOd(int) const;
    int DajBrojTemperaturaManjihOd(int) const;
    friend bool operator!(Temperature);
    friend Temperature&amp; operator++(Temperature&amp;, int);
    friend Temperature&amp; operator++(Temperature&amp;);
    friend Temperature&amp; operator--(Temperature&amp;, int);
    friend Temperature&amp; operator--(Temperature&amp;);
    friend vector&lt;int&gt; operator*(const Temperature&amp;);
    friend vector&lt;int&gt; operator-(const Temperature&amp;);
    friend vector&lt;int&gt; operator+(const Temperature&amp;);
    pair&lt;int, int&gt;&amp;&amp; operator[](int indeks) const;
    friend Temperature operator+(Temperature, int);
    friend Temperature operator-(Temperature, int);
    friend Temperature operator+(int n, Temperature t) { return t + n; }
    friend Temperature operator-(int, Temperature);
    Temperature operator+=(int n) { return *this = *this + n; }
    Temperature operator-=(int n) { return *this = *this - n; }
    friend bool operator==(const Temperature&amp;, const Temperature&amp;);
    friend bool operator!=(const Temperature&amp; t1, const Temperature&amp; t2) { return !(t1 == t2); }
    friend ostream&amp; operator&lt;&lt; (ostream&amp;, const Temperature&amp;);
};

void Temperature::Provjera(int minTemp, int maxTemp) const {
    if(minTemp &lt; this-&gt;minTemp || maxTemp &lt; this-&gt;minTemp || minTemp &gt; this-&gt;maxTemp || maxTemp &gt; this-&gt;maxTemp || minTemp &gt; maxTemp)
        throw range_error("Nekorektne temperature");
}

Temperature::Temperature(int minTemp, int maxTemp) : minimalne(0), maksimalne(0) {
    if(minTemp &gt; maxTemp) throw range_error("Nekorektne temperature");
    this-&gt;minTemp = minTemp;
    this-&gt;maxTemp = maxTemp;
}

void Temperature::RegistrirajTemperature(pair&lt;int, int&gt; p){
    Provjera(p.first, p.second);
    minimalne.push_back(p.first);
    maksimalne.push_back(p.second);
}

void Temperature::BrisiSve(){
    minimalne.clear();
    maksimalne.clear();
}

int Temperature::DajBrojRegistriranihTemperatura() const{
    return minimalne.size();
}

int Temperature::DajMaksimalnuTemperaturu() const{
    if(minimalne.empty() &amp;&amp; maksimalne.empty()) throw logic_error("Nema registriranih temperatura");
    return *max_element(maksimalne.begin(), maksimalne.end());
}

int Temperature::DajMinimalnuTemperaturu() const{
    if(minimalne.empty() &amp;&amp; maksimalne.empty()) throw logic_error("Nema registriranih temperatura");
    return *min_element(minimalne.begin(), minimalne.end());
}

int Temperature::DajBrojTemperaturaVecihOd(int n) const{
    if(minimalne.empty() &amp;&amp; maksimalne.empty()) throw logic_error("Nema registriranih temperatura");
    return count_if(maksimalne.begin(), maksimalne.end(), bind(greater&lt;int&gt;(), _1, n));
}

int Temperature::DajBrojTemperaturaManjihOd(int n) const{
    if(minimalne.empty() &amp;&amp; maksimalne.empty()) throw logic_error("Nema registriranih temperatura");
    return count_if(minimalne.begin(), minimalne.end(), bind(less&lt;int&gt;(), _1, n));
}

bool operator!(Temperature t){
    return t.minimalne.empty() &amp;&amp; t.maksimalne.empty();
}

Temperature&amp; operator++(Temperature&amp; t, int n){
    transform(t.minimalne.begin(), t.minimalne.end(), t.minimalne.begin(), bind(plus&lt;int&gt;(), _1, 1)); //ubacit provjeru
    return t;
}

Temperature&amp; operator++(Temperature&amp; t){
    transform(t.minimalne.begin(), t.minimalne.end(), t.minimalne.begin(), bind(plus&lt;int&gt;(), _1, 1)); //ubacit provjeru
    return t;
}

Temperature&amp; operator--(Temperature&amp; t, int n){
    transform(t.minimalne.begin(), t.minimalne.end(), t.minimalne.begin(), bind(minus&lt;int&gt;(), _1, 1)); //ubacit provjeru
    return t;
}

Temperature&amp; operator--(Temperature&amp; t){
    transform(t.minimalne.begin(), t.minimalne.end(), t.minimalne.begin(), bind(minus&lt;int&gt;(), _1, 1)); //ubacit provjeru
    return t;
}

vector&lt;int&gt; operator*(const Temperature&amp; t){
    vector&lt;int&gt; rez(t.minimalne.size());
    auto it1 = t.minimalne.begin();
    auto it2 = t.maksimalne.begin();
    generate(rez.begin(), rez.end(), bind(minus&lt;int&gt;(), *it1++, *it2++));
    return rez;
}

void Temperature::BrisiTemperature(pair&lt;int, int&gt; p){
    for(auto it1 = minimalne.begin(); it1 != minimalne.end(); it1++){
        if(*it1 == p.first){
            for(auto it2 = maksimalne.begin(); it2 != maksimalne.end(); it2++)
                if(*it2 == p.second){
                    it1 = minimalne.erase(it1);
                    it2 = maksimalne.erase(it2);
                }
        }
    }
}

vector&lt;int&gt; operator-(const Temperature&amp; t){
    vector&lt;int&gt; rez(t.minimalne.size());
    auto it1 = t.minimalne.begin();
    generate(rez.begin(), rez.end(), bind(minus&lt;int&gt;(), *it1++, t.minTemp));
    return rez;
}

vector&lt;int&gt; operator+(const Temperature&amp; t){
    vector&lt;int&gt; rez(t.minimalne.size());
    auto it1 = t.maksimalne.begin();
    generate(rez.begin(), rez.end(), bind(minus&lt;int&gt;(), t.maxTemp, *it1++));
    return rez;
}

pair&lt;int, int&gt;&amp;&amp; Temperature::operator[](int indeks) const{
    if(indeks &gt;= (int)minimalne.size() || indeks &gt;= (int)maksimalne.size() || indeks &lt; 1)
        throw range_error("Neispravan indeks");
    auto it1 = minimalne.begin();
    auto it2 = maksimalne.begin();
    advance(it1, indeks - 1);
    advance(it2, indeks - 1);
    return move(pair&lt;int, int&gt; (*it1, *it2));
}

Temperature operator+(Temperature t, int n){
    transform(t.minimalne.begin(), t.minimalne.end(), t.minimalne.begin(), bind(plus&lt;int&gt;(), _1, n));
    transform(t.maksimalne.begin(), t.maksimalne.end(), t.maksimalne.begin(), bind(plus&lt;int&gt;(), _1, n));
    auto it1 = find_if(t.minimalne.begin(), t.minimalne.end(), bind(greater&lt;int&gt;(), _1, t.maxTemp));
    auto it2 = find_if(t.maksimalne.begin(), t.maksimalne.end(), bind(greater&lt;int&gt;(), _1, t.maxTemp));
    if(it1 != t.minimalne.end() || it2 != t.maksimalne.end())
        throw logic_error("Prekoracen dozvoljeni opseg temperatura");
    return t;
}

Temperature operator-(Temperature t, int n){
    transform(t.minimalne.begin(), t.minimalne.end(), t.minimalne.begin(), bind(minus&lt;int&gt;(), _1, n));
    transform(t.maksimalne.begin(), t.maksimalne.end(), t.maksimalne.begin(), bind(minus&lt;int&gt;(), _1, n));
    auto it1 = find_if(t.minimalne.begin(), t.minimalne.end(), bind(less&lt;int&gt;(), _1, t.minTemp));
    auto it2 = find_if(t.maksimalne.begin(), t.maksimalne.end(), bind(less&lt;int&gt;(), _1, t.minTemp));
    if(it1 != t.minimalne.end() || it2 != t.maksimalne.end())
        throw logic_error("Prekoracen dozvoljeni opseg temperatura");
    return t;
}

Temperature operator-(int n, Temperature t){
    transform(t.minimalne.begin(), t.minimalne.end(), t.maksimalne.begin(), bind(minus&lt;int&gt;(), n, _1));
    transform(t.maksimalne.begin(), t.maksimalne.end(), t.minimalne.begin(), bind(minus&lt;int&gt;(), n, _1));
    auto it1 = find_if(t.minimalne.begin(), t.minimalne.end(), bind(less&lt;int&gt;(), _1, t.minTemp));
    auto it2 = find_if(t.maksimalne.begin(), t.maksimalne.end(), bind(less&lt;int&gt;(), _1, t.minTemp));
    auto it3 = find_if(t.minimalne.begin(), t.minimalne.end(), bind(greater&lt;int&gt;(), _1, t.maxTemp));
    auto it4 = find_if(t.maksimalne.begin(), t.maksimalne.end(), bind(greater&lt;int&gt;(), _1, t.maxTemp));
    if(it1 != t.minimalne.end() || it2 != t.maksimalne.end() || it3 != t.minimalne.end() || it4 != t.maksimalne.end())
        throw logic_error("Prekoracen dozvoljeni opseg temperatura");
    return t;
}

bool operator==(const Temperature&amp; t1, const Temperature&amp; t2){
    bool istiMin = t1.minTemp == t2.minTemp;
    bool istiMax = t1.maxTemp == t2.maxTemp;
    bool tempMin = t1.minimalne == t2.minimalne;
    bool tempMax = t1.maksimalne == t2.maksimalne;
    return istiMin &amp;&amp; istiMax &amp;&amp; tempMin &amp;&amp; tempMax;
}

ostream&amp; operator&lt;&lt; (ostream&amp; tok, const Temperature&amp; t){
    auto f = [&amp;tok](int n) { tok &lt;&lt; n &lt;&lt; " "; }; // UPITNO UPITNO UPITNO UPITNO UPITNO UPITNO UPITNO UPITNO 
    for_each(t.minimalne.begin(), t.minimalne.end(), f);
    tok &lt;&lt; endl;
    for_each(t.maksimalne.begin(), t.maksimalne.end(), f);
    tok &lt;&lt; endl;
    return tok;
}

int main ()
{
    try{
        Temperature t(2, 44);
        t.RegistrirajTemperature(pair&lt;int, int&gt; (15, 18));
        t.RegistrirajTemperature(pair&lt;int, int&gt; (3, 31));
        cout &lt;&lt; t;
        
    }catch(exception &amp;e){
        cout &lt;&lt; "Izuzetak: " &lt;&lt; e.what();
</font>    }
	return 0;
}</pre>
</body>
</html>
