<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z5/Z5/student6995.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z5/Z5/student2155.cpp<p></p><pre>
#include &lt;iostream&gt;
#include &lt;algorithm&gt;
#include &lt;functional&gt;
#include &lt;utility&gt;
#include &lt;list&gt;
#include &lt;stdexcept&gt;
#include &lt;iterator&gt;
#include &lt;vector&gt;
<a name="0"></a><font color="#FF0000"><a href="match40-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_74.gif"/></a>

class Temperatura{
    std::list&lt;int&gt; max_temperature;
    std::list&lt;int&gt; min_temperature;
    int max_temp,min_temp;
  public:
  Temperatura(int min_temp,int max_temp){
      if(min_temp&gt;max_temp)throw std::range_error("Nekorektne temperature");
      Temperatura::min_temp=min_temp;
      Temperatura::max_temp=max_temp;
  }
  void RegistrirajTemperature(std::pair&lt;int,int&gt; temp);
  void BrisiSve(){max_temperature.resize(0);min_temperature.resize(0);}
  void BrisiTemperature(std::pair&lt;int,int&gt; temp);
  int DajBrojRegistriranihTemperatura() const{return max_temperature.size();}
  int DajMinimalnuTemperaturu() const;
  int DajMaksimalnuTemperaturu() const;
  int DajBrojTemperaturaVecihOd(int temp) const;
  int DajBrojTemperaturaManjihOd(int temp) const;
  bool operator !() const{return !max_temperature.size();}
  friend Temperatura &amp;operator ++(Temperatura &amp;t);
  inline Temperatura operator ++(int);
  friend Temperatura &amp;operator --(Temperatura &amp;t);
  inline Temperatura operator --(int);
  std::vector&lt;int&gt; operator *() const;
  std::vector&lt;int&gt; operator +() const;
  std::vector&lt;int&gt; operator -() const;
  std::pair&lt;int,int&gt; operator [](int i) const;
  friend std::ostream &amp;operator &lt;&lt;(std::ostream &amp;tok,const Temperatura &amp;t);
  friend bool operator ==(const Temperatura &amp;t1,const Temperatura &amp;t2);
  inline friend bool operator !=(const Temperatura &amp;t1,const Temperatura &amp;t2);
  friend Temperatura operator +(const Temperatura &amp;t1,int x);
  Temperatura &amp;operator +=(int x);
  inline friend Temperatura operator +(int x,const Temperatura &amp;t1);
  inline friend Temperatura operator -(const Temperatura &amp;t1,int x);
  Temperatura operator -=(int x);
  inline friend Temperatura operator -(int x,const Temperatura &amp;t1);
  
};
void Temperatura::RegistrirajTemperature(std::pair&lt;int,int&gt; temp){
    if(temp.first &lt; min_temp || temp.second &gt; max_temp || temp.first &gt; temp.second)
        throw std::range_error("Nekorektne temperature");
    min_temperature.push_back(temp.first);
    max_temperature.push_back(temp.second);
}
int Temperatura::DajMinimalnuTemperaturu() const{
    auto it(std::min_element(min_temperature.begin(),min_temperature.end()));
    if(it == min_temperature.end())
        throw std::logic_error("Nema registriranih temperatura");
    return *it;
}
int Temperatura::DajMaksimalnuTemperaturu() const{
    auto it(std::max_element(max_temperature.begin(),max_temperature.end()));
    if(it == max_temperature.end())
        throw std::logic_error("Nema registriranih temperatura");
    return *it;
}
int Temperatura::DajBrojTemperaturaVecihOd(int temp) const{
    if(!max_temperature.size())
        throw std::logic_error("Nema registriranih temperatura");
    return std::count_if(max_temperature.begin(),max_temperature.end(),
    std::bind(std::greater&lt;int&gt;(),std::placeholders::_1,temp));
}
int Temperatura::DajBrojTemperaturaManjihOd(int temp) const{
    if(!min_temperature.size())
        throw std::logic_error("Nema registriranih temperatura");
    return std::count_if(min_temperature.begin(),min_temperature.end(),
    std::bind(std::less&lt;int&gt;(),std::placeholders::_1,temp));
}
Temperatura &amp;operator ++(Temperatura &amp;t){
    int x(std::count_if(t.max_temperature.begin(),t.max_temperature.end(),
    std::bind(std::equal_to&lt;int&gt;(),t.max_temp,std::placeholders::_1)));
    if(x)throw std::logic_error("Ilegalna operacija");
    std::transform(t.max_temperature.begin(),t.max_temperature.end(),
    t.max_temperature.begin(),std::bind(std::plus&lt;int&gt;(),1,std::placeholders::_1));
    std::transform(t.min_temperature.begin(),t.min_temperature.end(),
    t.min_temperature.begin(),std::bind(std::plus&lt;int&gt;(),1,std::placeholders::_1));
    return t;
}
Temperatura Temperatura::operator ++(int){
    Temperatura t(*this);
    ++(*this);
    return t;
}
Temperatura &amp;operator --(Temperatura &amp;t){
    int x(std::count_if(t.min_temperature.begin(),t.min_temperature.end(),
    std::bind(std::equal_to&lt;int&gt;(),t.min_temp,std::placeholders::_1)));
    if(x)throw std::logic_error("Ilegalna operacija");
    std::transform(t.max_temperature.begin(),t.max_temperature.end(),
    t.max_temperature.begin(),std::bind(std::minus&lt;int&gt;(),std::placeholders::_1,1));
    std::transform(t.min_temperature.begin(),t.min_temperature.end(),
    t.min_temperature.begin(),std::bind(std::minus&lt;int&gt;(),std::placeholders::_1,1));
    return t;
}
Temperatura Temperatura::operator --(int){
    Temperatura t(*this);
    --(*this);
    return t;
}
std::vector&lt;int&gt; Temperatura::operator *() const{
    std::vector&lt;int&gt; v;
    std::transform(max_temperature.begin(),max_temperature.end(),
    min_temperature.begin(),std::back_inserter(v),
    std::minus&lt;int&gt;());
    return v;
}
std::vector&lt;int&gt; Temperatura::operator +() const{
    std::vector&lt;int&gt; v;
    std::transform(max_temperature.begin(),max_temperature.end(),
    std::back_inserter(v),std::bind(std::minus&lt;int&gt;(),max_temp,std::placeholders::_1));
    return v;
}
std::vector&lt;int&gt; Temperatura::operator -() const{
    std::vector&lt;int&gt; v;
    std::transform(min_temperature.begin(),min_temperature.end(),
    std::back_inserter(v),std::bind(std::minus&lt;int&gt;(),std::placeholders::_1,min_temp));
    return v;
}

std::pair&lt;int,int&gt; Temperatura::operator [](int i) const{
    if(i &lt; 1 || i &gt; max_temperature.size())
        throw std::range_error("Neispravan indeks");
    auto max(max_temperature.begin());
    auto min(min_temperature.begin());
    std::advance(max,i-1);
    std::advance(min,i-1);
    return {*min,*max};
}
 std::ostream &amp;operator &lt;&lt;(std::ostream &amp;tok,const Temperatura &amp;t){
    std::copy(t.min_temperature.begin(),t.min_temperature.end(),
    std::ostream_iterator&lt;int&gt;(tok," "));
    tok &lt;&lt; std::endl;
    std::copy(t.max_temperature.begin(),t.max_temperature.end(),
    std::ostream_iterator&lt;int&gt;(tok," "));
    return tok;
}
bool operator ==(const Temperatura &amp;t1,const Temperatura &amp;t2){
    return t1.max_temp==t2.max_temp &amp;&amp; t1.min_temp == t2.min_temp &amp;&amp; 
    std::equal(t1.max_temperature.begin(),t1.max_temperature.end(),t2.max_temperature.begin()) &amp;&amp; 
    std::equal(t1.min_temperature.begin(),t1.min_temperature.end(),t2.min_temperature.begin());
}
bool operator !=(const Temperatura &amp;t1,const Temperatura &amp;t2){
    return !(t1==t2);
}
Temperatura operator +(const Temperatura &amp;t1,int x){
    int prekoracenje(std::count_if(t1.max_temperature.begin(),t1.max_temperature.end(),
    std::bind(std::greater&lt;int&gt;(),std::placeholders::_1,t1.max_temp-x))
    +std::count_if(t1.min_temperature.begin(),t1.min_temperature.end(),
    std::bind(std::less&lt;int&gt;(),std::placeholders::_1,t1.min_temp-x)));
    if(prekoracenje)
        throw std::logic_error("Prekoracen dozvoljeni opseg temperatura");
    auto t3(t1);
    std::transform(t1.max_temperature.begin(),t1.max_temperature.end(),
    t3.max_temperature.begin(),std::bind(std::plus&lt;int&gt;(),std::placeholders::_1,x));
</font>    std::transform(t1.min_temperature.begin(),t1.min_temperature.end(),
<a name="1"></a><font color="#00FF00"><a href="match40-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_22.gif"/></a>

    t3.min_temperature.begin(),std::bind(std::plus&lt;int&gt;(),std::placeholders::_1,x));
    return t3;
}
Temperatura &amp;Temperatura::operator +=(int x){
    int prekoracenje(std::count_if(max_temperature.begin(),max_temperature.end(),
    std::bind(std::greater&lt;int&gt;(),std::placeholders::_1,max_temp-x))
    +std::count_if(min_temperature.begin(),min_temperature.end(),
    std::bind(std::less&lt;int&gt;(),std::placeholders::_1,min_temp-x)));
    if(prekoracenje)
        throw std::logic_error("Prekoracen dozvoljeni opseg temperatura");
        std::transform(max_temperature.begin(),max_temperature.end(),
    max_temperature.begin(),std::bind(std::plus&lt;int&gt;(),std::placeholders::_1,x));
    std::transform(min_temperature.begin(),min_temperature.end(),
    min_temperature.begin(),std::bind(std::plus&lt;int&gt;(),std::placeholders::_1,x));
    return *this;
}
Temperatura operator +(int x,const Temperatura &amp;t1){
    return t1+x;
}
Temperatura operator -(const Temperatura &amp;t1,int x){
    return t1+(-x);
}
Temperatura operator -(int x,const Temperatura &amp;t1){
    auto t3(t1);
     std::transform(t1.max_temperature.begin(),t1.max_temperature.end(),
    t3.max_temperature.begin(),std::bind(std::minus&lt;int&gt;(),x,std::placeholders::_1));
    std::transform(t1.min_temperature.begin(),t1.min_temperature.end(),
    t3.min_temperature.begin(),std::bind(std::minus&lt;int&gt;(),x,std::placeholders::_1));
    std::swap(t3.max_temperature,t3.min_temperature);
    t3.max_temp=x-t3.min_temp;
    t3.min_temp=x-t3.max_temp;
    return t3;
}
Temperatura Temperatura::operator -=(int x){
    return (*this)+=-x;
}
void BrisiTemperature(std::pair&lt;int,int&gt; temp){
    
}
int main ()
{
    Temperatura a(100,500);
    a.RegistrirajTemperature({125,300});
    a.RegistrirajTemperature({140,400});
    a.RegistrirajTemperature({200,450});
    a.RegistrirajTemperature({400,450});
    a.RegistrirajTemperature({120,360});
    a++;
    std::cout &lt;&lt; a++;
</font>	return 0;
}</pre>
</body>
</html>
