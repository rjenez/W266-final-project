<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z5/Z5/student3331.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z5/Z5/student9129.cpp<p></p><pre>
/B16/17 (ZadaÄ‡a 5, Zadatak 5)
//Autotestovi by Berina Cocalic (mail: student9129@etf.unsa.ba)
//Za autotestove se obracati *iskljucivo* osobi koja ih pise
#include &lt;iostream&gt;
#include &lt;list&gt;
#include &lt;stdexcept&gt;
#include &lt;utility&gt;
#include &lt;algorithm&gt;
#include &lt;functional&gt;
#include &lt;vector&gt;
#include &lt;iterator&gt;
class Temperature
{
    std::list&lt;int&gt; Minimalne;
    std::list&lt;int&gt; Maximalne;
    int min, max;
public:
    Temperature(int mini, int maxi): min(mini), max(maxi){
        if(mini &gt; maxi)
            throw std::range_error("Nekorektne temperature");
    }
    void RegistrirajTemperature(std::pair&lt;int, int&gt; par);
    void BrisiSve(){
        Minimalne.clear();
        Maximalne.clear();
    }
        void BrisiNegativneTemperature();
    int DajBrojRegistriranihTemperatura() const{ return Minimalne.size();}
    int DajMinimalnuTemperaturu() const;
    int DajMaksimalnuTemperaturu() const;
    int DajBrojTemperaturaVecihOd(int x) const;
    int DajBrojTemperaturaManjihOd(int x) const;
    friend bool operator !(const Temperature &amp;t1){
        return(t1.Maximalne.size() == 0);
    }
<a name="7"></a><font color="#0000FF"><a href="match163-0.html#7" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_1.gif"/></a>

    friend Temperature &amp;operator ++(Temperature &amp;t1);
    friend Temperature operator ++(Temperature &amp;t1, int);
    friend Temperature &amp;operator --(Temperature &amp;t1);
    friend Temperature operator --(Temperature &amp;t1, int);
    friend std::vector&lt;int&gt; operator *(const Temperature &amp;t1);
</font>    friend std::vector&lt;int&gt; operator -(const Temperature &amp;t1);
    friend std::vector&lt;int&gt; operator +(const Temperature &amp;t1);
    std::pair&lt;int,int&gt; operator [] (int x) const;
    friend bool operator ==(const Temperature &amp;t1, const Temperature &amp;t2);
    friend bool operator !=(const Temperature &amp;t1, const Temperature &amp;t2);
<a name="1"></a><font color="#00FF00"><a href="match163-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_1.gif"/></a>

    friend Temperature operator +(const Temperature &amp;t1, int x);
    friend Temperature operator -(const Temperature &amp;t1, int x);
    friend Temperature operator +(int x, const Temperature &amp;t1);
    friend Temperature operator -(int x, const Temperature &amp;t1);
</font>    friend Temperature &amp;operator +=(Temperature &amp;t1, int x);
    friend Temperature &amp;operator -=(Temperature &amp;t1, int x);
    friend Temperature &amp;operator +=(int x, Temperature &amp;t1);
    friend Temperature &amp;operator -=(int x, Temperature &amp;t1);
    friend std::ostream&amp; operator &lt;&lt;(std::ostream&amp; Itok, const Temperature &amp;t1);
};
void Temperature::RegistrirajTemperature(std::pair&lt;int, int&gt; par){
    int mini = par.first;
    int maxi = par.second;
    if(mini &gt; maxi || mini &lt; min || maxi &gt; max)
            throw std::range_error("Nekorektne temperature");
    Minimalne.push_back(mini);
    Maximalne.push_back(maxi);
}
void Temperature::BrisiNegativneTemperature(){
    static auto itMin = Minimalne.begin();
    static auto itMax = Maximalne.begin();
    if(itMax == Maximalne.end()){
        itMin = Minimalne.begin();
        itMax = Maximalne.begin();
        return;
    }
    if(*itMin &lt; 0 &amp;&amp; *itMax &lt; 0){
        itMin = Minimalne.erase(itMin);
        itMax = Maximalne.erase(itMax);
        BrisiNegativneTemperature();
    }
    else{
        itMin++;
        itMax++;
        BrisiNegativneTemperature();
    }
}
int Temperature::DajMinimalnuTemperaturu() const{
    if(Minimalne.size() == 0)
        throw std::logic_error("Nema registriranih temperatura");
    return *std::min_element(Minimalne.begin(), Minimalne.end());
}
int Temperature::DajMaksimalnuTemperaturu() const{
        if(Minimalne.size() == 0)
        throw std::logic_error("Nema registriranih temperatura");
    return *std::max_element(Maximalne.begin(), Maximalne.end());
}
int Temperature::DajBrojTemperaturaVecihOd(int x) const{
<a name="12"></a><font color="#0000FF"><a href="match163-0.html#12" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_1.gif"/></a>

    if(Minimalne.size() == 0)
        throw std::logic_error("Nema registriranih temperatura");
    int suma = std::count_if(Minimalne.begin(), Minimalne.end(), 
        std::bind(std::less&lt;int&gt;(), x, std::placeholders::_1));
</font>    suma += std::count_if(Maximalne.begin(), Maximalne.end(), 
        std::bind(std::less&lt;int&gt;(), x, std::placeholders::_1));
    return suma;
}
int Temperature::DajBrojTemperaturaManjihOd(int x) const{
<a name="13"></a><font color="#00FFFF"><a href="match163-0.html#13" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_1.gif"/></a>

    if(Minimalne.size() == 0)
        throw std::logic_error("Nema registriranih temperatura");
    int suma = std::count_if(Maximalne.begin(), Maximalne.end(), 
        std::bind(std::greater&lt;int&gt;(), x, std::placeholders::_1));
</font>    suma += std::count_if(Minimalne.begin(), Minimalne.end(), 
<a name="8"></a><font color="#00FFFF"><a href="match163-0.html#8" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_1.gif"/></a>

        std::bind(std::greater&lt;int&gt;(), x, std::placeholders::_1));
    return suma;
}
Temperature &amp;operator ++(Temperature &amp;t1){
    std::transform(t1.Minimalne.begin(), t1.Minimalne.end(), t1.Minimalne.begin(), 
        std::bind(std::plus&lt;int&gt;(), std::placeholders::_1, 1));
</font>    if(!std::equal(t1.Minimalne.begin(), t1.Minimalne.end(), t1.Maximalne.begin(), std::less_equal&lt;int&gt;()))
        throw std::logic_error("Ilegalna operacija");
    return t1;
}
Temperature operator ++(Temperature &amp;t1, int){
    Temperature pomocni = t1;
<a name="9"></a><font color="#FF00FF"><a href="match163-0.html#9" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_1.gif"/></a>

    std::transform(t1.Minimalne.begin(), t1.Minimalne.end(), t1.Minimalne.begin(), 
        std::bind(std::plus&lt;int&gt;(), std::placeholders::_1, 1));
    if(!std::equal(t1.Minimalne.begin(), t1.Minimalne.end(), t1.Maximalne.begin(), std::less_equal&lt;int&gt;()))
</font><a name="6"></a><font color="#00FF00"><a href="match163-0.html#6" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_1.gif"/></a>

        throw std::logic_error("Ilegalna operacija");
    return pomocni;
}
Temperature &amp;operator --(Temperature &amp;t1){
    std::transform(t1.Maximalne.begin(), t1.Maximalne.end(), t1.Maximalne.begin(), 
</font>        std::bind(std::minus&lt;int&gt;(), std::placeholders::_1, 1));
    if(!std::equal(t1.Maximalne.begin(), t1.Maximalne.end(), t1.Minimalne.begin(), std::greater_equal&lt;int&gt;()))
        throw std::logic_error("Ilegalna operacija");
    return t1;
}
Temperature operator --(Temperature &amp;t1, int){
    Temperature pomocni = t1;
<a name="10"></a><font color="#FF0000"><a href="match163-0.html#10" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_1.gif"/></a>

    std::transform(t1.Maximalne.begin(), t1.Maximalne.end(), t1.Maximalne.begin(), 
        std::bind(std::minus&lt;int&gt;(), std::placeholders::_1, 1));
    if(!std::equal(t1.Maximalne.begin(), t1.Maximalne.end(), t1.Minimalne.begin(), std::greater_equal&lt;int&gt;()))
</font><a name="0"></a><font color="#FF0000"><a href="match163-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_2.gif"/></a>

        throw std::logic_error("Ilegalna operacija");
    return pomocni;
}
std::vector&lt;int&gt; operator *(const Temperature &amp;t1){
    std::vector&lt;int&gt; v(t1.Minimalne.size());
    std::transform(t1.Maximalne.begin(), t1.Maximalne.end(), t1.Minimalne.begin(), v.begin(),
    std::minus&lt;int&gt;());
</font>    return v;
}
<a name="3"></a><font color="#00FFFF"><a href="match163-0.html#3" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_1.gif"/></a>

std::vector&lt;int&gt; operator -(const Temperature &amp;t1){
    std::vector&lt;int&gt; v(t1.Minimalne.size());
    std::transform(t1.Minimalne.begin(), t1.Minimalne.end(), v.begin(), 
        std::bind(std::minus&lt;int&gt;(), std::placeholders::_1, t1.min));
</font>    return v;
}
<a name="4"></a><font color="#FF00FF"><a href="match163-0.html#4" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_1.gif"/></a>

std::vector&lt;int&gt; operator +(const Temperature &amp;t1){
    std::vector&lt;int&gt; v(t1.Maximalne.size());
    std::transform(t1.Maximalne.begin(), t1.Maximalne.end(), v.begin(), 
        std::bind(std::minus&lt;int&gt;(), t1.max, std::placeholders::_1));
</font>    return v;
}
std::pair&lt;int, int&gt; Temperature::operator [] (int x) const{
    if(x &gt; DajBrojRegistriranihTemperatura() || x &lt; 1)
        throw std::range_error("Neispravan indeks");
    std::vector&lt;int&gt; minimalna(Minimalne.size()), maximalna(Maximalne.size());
    std::copy(Minimalne.begin(), Minimalne.end(), minimalna.begin());
    std::copy(Maximalne.begin(), Maximalne.end(), maximalna.begin());
    return std::make_pair(minimalna[x-1], maximalna[x-1]);
}
bool operator ==(const Temperature &amp;t1, const Temperature &amp;t2){
    if(t1.min != t2.min || t1.max != t2.max)
        return false;
    if(!std::equal(t1.Minimalne.begin(), t1.Minimalne.end(), t2.Minimalne.begin(), std::equal_to&lt;int&gt;()))
        return false;
    if(!std::equal(t1.Maximalne.begin(), t1.Maximalne.end(), t2.Maximalne.begin(), std::equal_to&lt;int&gt;()))
        return false;
    return true;
}
bool operator !=(const Temperature &amp;t1, const Temperature &amp;t2){
    return !(t1 == t2);
}
<a name="11"></a><font color="#00FF00"><a href="match163-0.html#11" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_1.gif"/></a>

Temperature operator +(const Temperature &amp;t1, int x){
    Temperature t3(t1);
    std::transform(t3.Minimalne.begin(), t3.Minimalne.end(), t3.Minimalne.begin(), 
</font>        std::bind(std::plus&lt;int&gt;(), std::placeholders::_1, x));
    std::transform(t3.Maximalne.begin(), t3.Maximalne.end(), t3.Maximalne.begin(), 
        std::bind(std::plus&lt;int&gt;(), std::placeholders::_1, x));
    int y = std::count_if(t3.Maximalne.begin(), t3.Maximalne.end(), 
        std::bind(std::less&lt;int&gt;(), t3.max, std::placeholders::_1));
    if(y != 0)
<a name="2"></a><font color="#0000FF"><a href="match163-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_1.gif"/></a>

        throw std::logic_error("Prekoracen dozvoljeni opseg temperatura");
    return t3;
}
Temperature operator -(const Temperature &amp;t1, int x){
    Temperature t3(t1);
    std::transform(t3.Minimalne.begin(), t3.Minimalne.end(), t3.Minimalne.begin(), 
</font>        std::bind(std::minus&lt;int&gt;(), std::placeholders::_1, x));
    std::transform(t3.Maximalne.begin(), t3.Maximalne.end(), t3.Maximalne.begin(), 
        std::bind(std::minus&lt;int&gt;(), std::placeholders::_1, x));
    int y = std::count_if(t3.Minimalne.begin(), t3.Minimalne.end(), 
        std::bind(std::less&lt;int&gt;(), std::placeholders::_1, t3.min));
    if(y != 0)
        throw std::logic_error("Prekoracen dozvoljeni opseg temperatura");
    return t3;
}
Temperature operator +(int x, const Temperature &amp;t1){   
    return t1 + x;
}
<a name="14"></a><font color="#FF00FF"><a href="match163-0.html#14" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_0.gif"/></a>

Temperature operator -(int x, const Temperature &amp;t1){
    Temperature t3(t1);
    std::transform(t1.Minimalne.begin(), t1.Minimalne.end(), t3.Maximalne.begin(), 
</font><a name="5"></a><font color="#FF0000"><a href="match163-0.html#5" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_1.gif"/></a>

        std::bind(std::minus&lt;int&gt;(), x, std::placeholders::_1));
    std::transform(t1.Maximalne.begin(), t1.Maximalne.end(), t3.Minimalne.begin(), 
</font>        std::bind(std::minus&lt;int&gt;(), x, std::placeholders::_1));
    
    int y = std::count_if(t3.Minimalne.begin(), t3.Minimalne.end(), 
        std::bind(std::less&lt;int&gt;(), std::placeholders::_1, t3.min));
    if(y != 0)
        throw std::logic_error("Prekoracen dozvoljeni opseg temperatura");
    y = std::count_if(t3.Maximalne.begin(), t3.Maximalne.end(), 
        std::bind(std::less&lt;int&gt;(), t3.max, std::placeholders::_1));
    if(y != 0)
        throw std::logic_error("Prekoracen dozvoljeni opseg temperatura");
    return t3;
}
Temperature &amp;operator +=(Temperature &amp;t1, int x){
    return t1 = t1 + x;
}
Temperature &amp;operator -=(Temperature &amp;t1, int x){
    return t1 = t1 - x;
}
Temperature &amp;operator +=(int x, Temperature &amp;t1){
    return t1 = x + t1;
}
Temperature &amp;operator -=(int x, Temperature &amp;t1){
    return t1 = x - t1;
}
std::ostream&amp; operator &lt;&lt;(std::ostream&amp; Itok, const Temperature &amp;t1)
{
    std::copy(t1.Minimalne.begin(), t1.Minimalne.end(), std::ostream_iterator&lt;int&gt;(Itok, " "));
    Itok &lt;&lt; "\n";
    std::copy(t1.Maximalne.begin(), t1.Maximalne.end(), std::ostream_iterator&lt;int&gt;(Itok, " "));
    return Itok;
}
int main ()
{
    try
    {
        Temperature t(-30, 30);
            t.RegistrirajTemperature(std::make_pair(0, 10));
            t.RegistrirajTemperature(std::make_pair(2, 10));
            t.RegistrirajTemperature(std::make_pair(1, 10));
            t.RegistrirajTemperature(std::make_pair(-5, 15));
            t.RegistrirajTemperature(std::make_pair(-4, 14));
            t.RegistrirajTemperature(std::make_pair(1, 12));
            t.RegistrirajTemperature(std::make_pair(2, 10));
            t.RegistrirajTemperature(std::make_pair(0, 5));
            t.RegistrirajTemperature(std::make_pair(2, 7));
            
            std::cout &lt;&lt; "Broj registriranih temperatura je: " &lt;&lt; t.DajBrojRegistriranihTemperatura() &lt;&lt; std::endl;
            std::cout &lt;&lt; "Minimalna temperatura: " &lt;&lt; t.DajMinimalnuTemperaturu() &lt;&lt; std::endl;
            std::cout &lt;&lt; "Maximalna temperatura: " &lt;&lt; t.DajMaksimalnuTemperaturu() &lt;&lt; std::endl;
            std::cout &lt;&lt; "Broj temperatura vecih od 10: " &lt;&lt; t.DajBrojTemperaturaVecihOd(10) &lt;&lt; std::endl;
            std::cout &lt;&lt; "Broj temperatura manjih od 6: " &lt;&lt; t.DajBrojTemperaturaManjihOd(6) &lt;&lt; std::endl;
            std::cout &lt;&lt; "Temperature: " &lt;&lt; std::endl;
            std::cout &lt;&lt; t;
            t++;
            ++t;
            std::cout &lt;&lt; std::endl &lt;&lt; std::endl;
            std::cout &lt;&lt; "Temperature poslije t++ i ++t: " &lt;&lt; std::endl;
            std::cout &lt;&lt; t;
            --t;
            t--;
            std::cout &lt;&lt; std::endl &lt;&lt; std::endl;
            std::cout &lt;&lt; "Temperature poslijee t-- i --t: " &lt;&lt; std::endl;
            std::cout &lt;&lt; t;
            std::cout &lt;&lt; std::endl &lt;&lt; "Razlika izmedu minimalnih i maximalnih temperatura: " &lt;&lt; std::endl;
            for(auto x: *t)
                std::cout &lt;&lt; x &lt;&lt; " ";
            std::cout &lt;&lt; std::endl &lt;&lt; std::endl &lt;&lt; "Razlika izmedji minilanih i dozvoljene minimalne temperature: " &lt;&lt; std::endl;
            for(auto x: -t)
                std::cout &lt;&lt; x &lt;&lt; " ";
            std::cout &lt;&lt; std::endl &lt;&lt; std::endl &lt;&lt; "Razlika izmedji maximalnih i dozvoljene maximalne temperature: " &lt;&lt; std::endl;
            for(auto x: +t)
                std::cout &lt;&lt; x &lt;&lt; " ";
        Temperature novi = t + 3;
        std::cout &lt;&lt; "\n\n" &lt;&lt; novi &lt;&lt; std::endl &lt;&lt; std::endl;
        std::cout &lt;&lt; "Da li su t1 i novi razliciti: " &lt;&lt; (t != novi) &lt;&lt; std::endl;
        novi = novi - 3;
        std::cout &lt;&lt; "Da li su t1 i novi isti nakon -3: " &lt;&lt; (t == novi) &lt;&lt; std::endl;
        novi.BrisiSve();
        std::cout &lt;&lt; !novi &lt;&lt; " Ako je 1 znaci da je novi obrisan!" &lt;&lt; std::endl &lt;&lt; std::endl;
        std::cout &lt;&lt; t &lt;&lt; std::endl;
        Temperature t1 = -10 - t;
        std::cout &lt;&lt; t1;
        t1 += 3;
        std::cout &lt;&lt; std::endl &lt;&lt; t1;
        //! += -= su izvedeni iz + - tako da ne treba provjera
        auto p = t1[5];
        std::cout &lt;&lt; std::endl &lt;&lt; "Peta temperatura je: " &lt;&lt; p.first &lt;&lt; " " &lt;&lt; p.second;
        std::cout &lt;&lt; "\nObrisi negativne iz t1" &lt;&lt; std::endl;
        t1.BrisiNegativneTemperature();
        std::cout &lt;&lt; std::endl &lt;&lt; t1;
    }
    
    catch(std::logic_error e)
    {
        std::cout &lt;&lt; e.what();
    }
	return 0;
}</pre>
</body>
</html>
