<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z5/Z5/student8085.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z5/Z5/student8085.cpp<p></p><pre>
/B16/17 (ZadaÄ‡a 5, Zadatak 5)
//Autotestovi by Berina Cocalic (mail: bcocalic1@etf.unsa.ba)
//Za autotestove se obracati *iskljucivo* osobi koja ih pise
#include &lt;iostream&gt;
#include &lt;utility&gt;
#include &lt;list&gt;
#include &lt;stdexcept&gt;
#include &lt;algorithm&gt;
#include &lt;functional&gt;
#include &lt;vector&gt;
#include &lt;iterator&gt;
#include &lt;cmath&gt;

using std::vector;
using std::list;
using std::pair;
using std::cout;

class Temperature
{
    list&lt;int&gt; min,max;
    int mala,velika;
    void Provjeri()const
    {
        if(min.empty() or max.empty())
            throw std::logic_error("Nema registriranih temperatura");
    }
    public:
    Temperature(int m,int v)
    {
        if(m&gt;v)
            throw std::range_error("Nekorektne temperature");
        mala=m;
        velika=v;
    }
    void RegistrirajTemperature(pair&lt;int,int&gt; par)
    {
        bool neg1(false),neg2(false);
        if(par.first&lt;0)
            neg1=true;
        if(par.second&lt;0)
            neg2=true;
        if(par.first&lt;0 and mala&lt;0 and std::abs(mala)&lt;std::abs(par.first))
            throw std::range_error("Nekorektne temperature");
        else if(par.second&lt;0 and velika&lt;0 and std::abs(velika)&gt;std::abs(par.second))
            throw std::range_error("Nekorektne temperature");
        if(neg1 and neg2 and par.first&gt;par.second)
            throw std::range_error("Nekorektne temperature");
        if(neg2 and !neg1)
            throw std::range_error("Nekorektne temperature");
        if(!neg1 and !neg2)
            if(par.first&gt;par.second or par.first&lt;mala or par.second&gt;velika)
                throw std::range_error("Nekorektne temperature");
        min.push_back(par.first);
        max.push_back(par.second);
    }
    void BrisiSve()
    {
        min.clear();
        max.clear();
        mala=0;
        velika=0;
    }
    void BrisiNegativneTemperature();
    int DajBrojRegistriranihTemperatura()
    {
        if(min.size()!=max.size())
            cout&lt;&lt;"Nemojte prckati po internim stvarima!!";
        return min.size();
        
    }
    int DajMinimalnuTemperaturu()const;
    int DajMaksimalnuTemperaturu()const;
    int DajBrojTemperaturaVecihOd(int x)const;
    int DajBrojTemperaturaManjihOd(int x)const;
    bool operator!()const;
    Temperature &amp;operator ++();
    Temperature operator ++(int);
    Temperature &amp;operator --();
    Temperature operator --(int);
    vector&lt;int&gt; operator *();
    vector&lt;int&gt; operator +();
    vector&lt;int&gt; operator -();
    pair&lt;int,int&gt; operator [](int x);
    Temperature &amp;operator +=(int b);
    Temperature &amp;operator -=(int b);
    Temperature operator +(int b);
    Temperature operator -(int b);
    friend Temperature operator +(int a,Temperature b);
    friend Temperature operator -(int a,Temperature b);
    friend bool operator ==(const Temperature &amp;a,const Temperature &amp;b);
<a name="0"></a><font color="#FF0000"><a href="match171-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_3.gif"/></a>

    friend bool operator !=(const Temperature &amp;a,const Temperature &amp;b);
    friend std::ostream &amp;operator &lt;&lt;(std::ostream &amp;tok,const Temperature &amp;a);
};
std::ostream &amp;operator &lt;&lt;(std::ostream &amp;tok,const Temperature &amp;a)
{
    std::ostream_iterator&lt;int&gt; it(tok," ");
    std::copy(a.min.begin(),a.min.end(),it);
    tok&lt;&lt;"\n";
</font>    std::copy(a.max.begin(),a.max.end(),it);
    return tok;
}
bool operator ==(const Temperature &amp;a,const Temperature &amp;b)
{
    return a.min == b.min and a.max == b.max and a.mala == b.mala and a.velika == b.velika;
}
bool operator !=(const Temperature &amp;a,const Temperature &amp;b)
{
    return !(a == b);
}
Temperature operator +(int a,Temperature b)
{
    return b+=a;
}
Temperature operator -(int a,Temperature b)
{
    return b-=a;
}
Temperature Temperature::operator +(int b)
{
    return *this+=b;
}
Temperature Temperature::operator -(int b)
{
    return *this-=b;
}
Temperature &amp;Temperature::operator +=(int b)
{
    if(b&lt;0)
        *this-=(-b);
    else
    {
    auto pomoc2=+(*this);
    auto brojac=std::count_if(pomoc2.begin(),pomoc2.end(),std::bind(std::less&lt;int&gt;(),std::placeholders::_1,b));
    if(brojac)
        throw std::logic_error("Prekoracen dozvoljeni opseg temperatura");
<a name="1"></a><font color="#00FF00"><a href="match171-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_3.gif"/></a>

    std::transform(min.begin(),min.end(),min.begin(),std::bind(std::plus&lt;int&gt;(),std::placeholders::_1,b));
    std::transform(max.begin(),max.end(),max.begin(),std::bind(std::plus&lt;int&gt;(),std::placeholders::_1,b));
    }
    return *this;
}
Temperature &amp;Temperature::operator -=(int b)
</font>{
    if(b&lt;0)
        *this+=(-b);
    else{
    auto pomoc=-(*this);
    auto brojac=std::count_if(pomoc.begin(),pomoc.end(),std::bind(std::less&lt;int&gt;(),std::placeholders::_1,b));
    if(brojac)
        throw std::logic_error("Prekoracen dozvoljeni opseg temperatura");
<a name="4"></a><font color="#FF00FF"><a href="match171-1.html#4" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_2.gif"/></a>

    std::transform(min.begin(),min.end(),min.begin(),std::bind(std::minus&lt;int&gt;(),std::placeholders::_1,b));
    std::transform(max.begin(),max.end(),max.begin(),std::bind(std::minus&lt;int&gt;(),std::placeholders::_1,b));
    }
    return *this;
</font>}
pair&lt;int,int&gt; Temperature::operator [](int x)
{
    if(x&lt;=0 or x&gt;min.size())
        throw std::range_error("Neispravan indeks");
    //znam da je ruzno sljedece rjesenje ali sta cu :(
<a name="7"></a><font color="#0000FF"><a href="match171-1.html#7" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_1.gif"/></a>

    vector&lt;int&gt; v1(min.size()),v2(max.size());
    std::copy(min.begin(),min.end(),v1.begin());
    std::copy(max.begin(),max.end(),v2.begin());
    return {v1[x-1],v2[x-1]};
</font>}
vector&lt;int&gt; Temperature::operator -()
{
    vector&lt;int&gt; v(min.size());
    std::transform(min.begin(),min.end(),v.begin(),std::bind(std::minus&lt;int&gt;(),std::placeholders::_1,mala));
    return v;
}
vector&lt;int&gt; Temperature::operator +()
{
    vector&lt;int&gt; v(max.size());
    std::transform(max.begin(),max.end(),v.begin(),std::bind(std::minus&lt;int&gt;(),velika,std::placeholders::_1));
    return v;
}
vector&lt;int&gt; Temperature::operator *()
{
<a name="10"></a><font color="#FF0000"><a href="match171-1.html#10" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_1.gif"/></a>

    vector&lt;int&gt; v(min.size());
    std::transform(min.begin(),min.end(),max.begin(),v.begin(),std::bind(std::minus&lt;int&gt;(),std::placeholders::_2,std::placeholders::_1));
</font>    return v;
}
Temperature &amp;Temperature::operator ++()
{
    auto pomoc=*(*this);
    auto brojac=std::count_if(pomoc.begin(),pomoc.end(),std::bind(std::less&lt;int&gt;(),std::placeholders::_1,1));
    if(brojac)
        throw std::logic_error("Ilegalna operacija");
<a name="8"></a><font color="#00FFFF"><a href="match171-1.html#8" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_1.gif"/></a>

    std::transform(min.begin(),min.end(),min.begin(),std::bind(std::plus&lt;int&gt;(),std::placeholders::_1,1));
    return *this;
}
Temperature &amp;Temperature::operator --()
</font>{//zavrsi prepisivanje -- i za prefiksni isto a onda tek + - binarne
    auto pomoc=*(*this);
    auto brojac=std::count_if(pomoc.begin(),pomoc.end(),std::bind(std::less&lt;int&gt;(),std::placeholders::_1,1));
    if(brojac)
        throw std::logic_error("Ilegalna operacija");
<a name="9"></a><font color="#FF00FF"><a href="match171-1.html#9" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_1.gif"/></a>

    std::transform(max.begin(),max.end(),max.begin(),std::bind(std::minus&lt;int&gt;(),std::placeholders::_1,1));
    return *this;
}
Temperature Temperature::operator ++(int)
</font>{
<a name="5"></a><font color="#FF0000"><a href="match171-1.html#5" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_2.gif"/></a>

    Temperature pomoc(mala,velika);
    pomoc.min.resize(min.size());
    pomoc.max.resize(max.size());
    std::copy(min.begin(),min.end(),pomoc.min.begin());
    std::copy(max.begin(),max.end(),pomoc.max.begin());
</font>    ++(*this);
    return pomoc;
}
Temperature Temperature::operator --(int)
{
<a name="6"></a><font color="#00FF00"><a href="match171-1.html#6" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_2.gif"/></a>

    Temperature pomoc(mala,velika);
    pomoc.min.resize(min.size());
    pomoc.max.resize(max.size());
    std::copy(min.begin(),min.end(),pomoc.min.begin());
    std::copy(max.begin(),max.end(),pomoc.max.begin());
</font>    --(*this);
    return pomoc;
}
bool Temperature::operator!()const
{
    if(min.empty() and max.empty())
        return true;
    return false;
}
int Temperature::DajBrojTemperaturaManjihOd(int x)const
{
    Provjeri();
<a name="2"></a><font color="#0000FF"><a href="match171-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_3.gif"/></a>

    int prvi=std::count_if(min.begin(),min.end(),std::bind(std::less&lt;int&gt;(),std::placeholders::_1,x));
    int drugi=std::count_if(max.begin(),max.end(),std::bind(std::less&lt;int&gt;(),std::placeholders::_1,x));
    return prvi+drugi;
}
int Temperature::DajBrojTemperaturaVecihOd(int x)const
</font>{
    Provjeri();
<a name="3"></a><font color="#00FFFF"><a href="match171-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_3.gif"/></a>

    int prvi=std::count_if(min.begin(),min.end(),std::bind(std::greater&lt;int&gt;(),std::placeholders::_1,x));
    int drugi=std::count_if(max.begin(),max.end(),std::bind(std::greater&lt;int&gt;(),std::placeholders::_1,x));
    return prvi+drugi;
}
int Temperature::DajMinimalnuTemperaturu()const
</font>{
    Provjeri();
    return *std::min_element(min.begin(),min.end());
}
int Temperature::DajMaksimalnuTemperaturu()const
{
    Provjeri();
    return *std::max_element(max.begin(),max.end());
}
void Temperature::BrisiNegativneTemperature()
{
    static int i=0;
    if(i&gt;=min.size())
        return;
    auto b=(*this)[i];
    if(b.first&lt;0 and b.second&lt;0)
    {
        auto it=std::find(min.begin(),min.end(),b.first);
        min.erase(it);
        it=find(max.begin(),max.end(),b.second);
        max.erase(it);
    }
    i++;
    Temperature::BrisiNegativneTemperature();
}
int main ()
{
//AT9 - testiranje operatora pristupa[] i izuzetka
{
    Temperature a(-14,19);
    a.RegistrirajTemperature({1,3});
    a.RegistrirajTemperature({1,4});
    a.RegistrirajTemperature({-3,7});
    a.RegistrirajTemperature({1,3});
    a.RegistrirajTemperature({2,5});
    a.RegistrirajTemperature({-5,6});
    
    std::vector&lt;std::pair&lt;int,int&gt;&gt; temperature;
    try
    {
        for (int i{0}; i &lt; a.DajBrojRegistriranihTemperatura(); i++)
        {
            temperature.push_back(a[i]);
            std::cout &lt;&lt; "Ovo se ne smije ispisati.";
        }
    }
    catch(const std::range_error &amp;e)
    {
        std::cout &lt;&lt; e.what() &lt;&lt; std::endl;
    }
    
    try
    {
        for (int i{1}; i &lt;= a.DajBrojRegistriranihTemperatura(); i++)
            temperature.push_back(a[i]);
    }
    catch(const std::range_error &amp;e)
    {
        std::cout &lt;&lt; e.what() &lt;&lt; std::endl;
    }
    
    for(auto t : temperature)   
        std::cout &lt;&lt; t.first &lt;&lt; " " &lt;&lt; t.second &lt;&lt; std::endl;
}
	return 0;
}</pre>
</body>
</html>
