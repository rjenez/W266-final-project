<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z5/Z5/student4167.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z5/Z5/student1571.cpp<p></p><pre>
#include &lt;iostream&gt;
#include &lt;functional&gt;
#include &lt;algorithm&gt;
#include &lt;utility&gt;
#include &lt;list&gt;
#include &lt;stdexcept&gt;
#include &lt;vector&gt;
#include &lt;iterator&gt;

class Temperature {
<a name="5"></a><font color="#FF0000"><a href="match612-0.html#5" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_1.gif"/></a>

    std::list&lt;int&gt; minimalne, maximalne;
    public:
    Temperature (int min, int max);
    void RegistrirajTemperature (std::pair&lt;int, int&gt; vrijednosti);
    void BrisiSve();
</font>    void BrisiNegativneTemperature();
    int DajMaksimalnuTemperaturu() const;
    int DajMinimalnuTemperaturu() const;
    int DajBrojTemperaturaVecihOd (int veci) const;
    int DajBrojTemperaturaManjihOd (int manji) const;
    friend bool operator! (const Temperature &amp;p1);
    friend Temperature operator++ (Temperature &amp;p1);
    friend Temperature operator++ (Temperature &amp;temp, int n);
    friend Temperature operator-- (Temperature &amp;p1);
    friend Temperature operator-- (Temperature &amp;p1, int n);
    friend std::vector&lt;int&gt; operator* (const Temperature &amp;p1);
    friend std::vector&lt;int&gt; operator+ (const Temperature &amp;p1);
    friend std::vector&lt;int&gt; operator- (const Temperature &amp;p1);
    std::pair&lt;int,int&gt; operator[] (int index);
    friend Temperature operator+ (const Temperature &amp;p1, int n); //ubaciti izuzetke i ovo kasnije
    friend Temperature operator- (const Temperature &amp;p1, int n);
    friend Temperature operator- (int n, const Temperature &amp;p1);
    friend Temperature operator+ (int n, const Temperature &amp;p1) { return p1 + n; }
    Temperature &amp;operator+= (int x);
    Temperature &amp;operator-= (int x);
<a name="3"></a><font color="#00FFFF"><a href="match612-0.html#3" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_1.gif"/></a>

    friend std::ostream &amp;operator&lt;&lt; (std::ostream &amp;tok, const Temperature &amp;p1);
};
Temperature::Temperature (int min, int max) {
    if (min &gt; max) throw std::range_error ("Nekorektne temperature");
    minimalne.push_back(min);
</font>    maximalne.push_back(max);
}
void Temperature::RegistrirajTemperature (std::pair&lt;int, int&gt; vrijednosti) {
    if (vrijednosti.first &gt; vrijednosti.second) throw std::range_error ("Nekorektne temperature");
    auto min = (minimalne.begin());
    auto max = (maximalne.begin());
    if (vrijednosti.first &lt; *min || vrijednosti.second &lt; *min || vrijednosti.first &gt; *max || vrijednosti.second &gt; *max)
            throw std::range_error ("Nekorektne temperature");
    minimalne.push_back (vrijednosti.first);
    maximalne.push_back (vrijednosti.second);
}
void Temperature::BrisiSve() {
    minimalne.erase (minimalne.begin(), minimalne.end());
    maximalne.erase (maximalne.begin(), maximalne.end());
}
void Temperature::BrisiNegativneTemperature() {
    std::cout &lt;&lt; "NE RADI";

}
int Temperature::DajMaksimalnuTemperaturu() const {
    if (maximalne.size() == 0) throw std::logic_error ("Nema registriranih temperatura");
    auto it = std::max_element (maximalne.begin(), maximalne.end());
    return *it;
}
int Temperature::DajMinimalnuTemperaturu() const {
    if (minimalne.size() == 0) throw std::logic_error ("Nema registriranih temperatura");
    auto it = std::min_element (minimalne.begin(), minimalne.end());
    return *it;
}
int Temperature::DajBrojTemperaturaVecihOd (int veci) const {
    if (maximalne.size() == 0) throw std::logic_error ("Nema registriranih temperatura");
    int broj = std::count_if (maximalne.begin(), maximalne.end(), std::bind (std::greater&lt;int&gt;(), std::placeholders::_1, veci));
    return broj;
}
int Temperature::DajBrojTemperaturaManjihOd (int manji) const{
    if (minimalne.size() == 0) throw std::logic_error ("Nema registriranih temperatura");
    int broj = std::count_if (minimalne.begin(), minimalne.end(), std::bind (std::less&lt;int&gt;(), std::placeholders::_1, manji));
    return broj;
}
bool operator! (const Temperature &amp;p1) {
    if(p1.minimalne.size() == 0 &amp;&amp; p1.maximalne.size() == 0) return true;
    return false;
}
<a name="1"></a><font color="#00FF00"><a href="match612-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_2.gif"/></a>

Temperature operator++ (Temperature &amp;p1) {
    std::transform (p1.minimalne.begin(), p1.minimalne.end(), p1.minimalne.begin(), std::bind (std::plus&lt;int&gt;(), std::placeholders::_1, 1));
    return p1;
</font>}
Temperature operator++ (Temperature &amp;temp, int n) {
    Temperature p1 = temp;
    std::transform (p1.minimalne.begin(), p1.minimalne.end(), p1.minimalne.begin(), std::bind (std::plus&lt;int&gt;(), std::placeholders::_1, n));
    return temp;
}
<a name="0"></a><font color="#FF0000"><a href="match612-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_2.gif"/></a>

Temperature operator-- (Temperature &amp;p1) {
    std::transform (p1.maximalne.begin(), p1.maximalne.end(), p1.maximalne.begin(), std::bind (std::minus&lt;int&gt;(), std::placeholders::_1, 1));
    return p1;
</font>}
Temperature operator-- (Temperature &amp;p1, int n) {
    Temperature temp = p1;
<a name="7"></a><font color="#0000FF"><a href="match612-0.html#7" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_1.gif"/></a>

    std::transform (temp.maximalne.begin(), temp.maximalne.end(), temp.maximalne.begin(), std::bind (std::minus&lt;int&gt;(), std::placeholders::_1, 1));
    return temp;
}
std::vector&lt;int&gt; operator* (const Temperature &amp;p1) {
</font>    int n = p1.minimalne.size();
    std::vector&lt;int&gt; vek(n);
    std::transform (p1.minimalne.begin(), p1.minimalne.end(), p1.maximalne.begin(), vek.begin(), std::minus&lt;int&gt;());
    return vek;
}
std::vector&lt;int&gt; operator- (const Temperature &amp;p1) {
    auto min = (p1.minimalne.begin());
    int n = p1.minimalne.size();
    std::vector&lt;int&gt; vek (n);
    std::transform (p1.minimalne.begin(), p1.minimalne.end(), vek.begin(), std::bind(std::minus&lt;int&gt;(),std::placeholders::_1,* min));
    return vek;
}
std::vector&lt;int&gt; operator+ (const Temperature &amp;p1) {
    auto max = (p1.maximalne.begin());
    int n = p1.maximalne.size();
    std::vector&lt;int&gt; vek(n);
    std::transform (p1.maximalne.begin(), p1.maximalne.end(), vek.begin(), std::bind (std::minus&lt;int&gt;(), *max, std::placeholders::_1));
    return vek;
}
std::pair&lt;int, int&gt; Temperature::operator[] (int index) {
    if (index &gt; this-&gt;minimalne.size()) throw std::range_error ("Neispravan indeks");
    std::pair&lt;int, int&gt; par;
    auto it = this-&gt;minimalne.begin(), it1 = this-&gt;maximalne.begin();
    std::advance (it, index-1);
    std::advance (it1, index-1);
    par = std::make_pair (*it, *it1);
    return par;
}
Temperature operator+ (const Temperature &amp;p1, int n) {
    Temperature temp = p1;
    auto min = p1.minimalne.begin();
    auto max = p1.maximalne.begin();
    std::transform (temp.minimalne.begin(), temp.minimalne.end(), temp.minimalne.begin(), std::bind (std::plus&lt;int&gt;(), std::placeholders::_1, n));
<a name="2"></a><font color="#0000FF"><a href="match612-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_1.gif"/></a>

    std::transform (temp.maximalne.begin(), temp.maximalne.end(), temp.maximalne.begin(), std::bind (std::plus&lt;int&gt;(), std::placeholders::_1, n));
    auto maxi = std::max_element (temp.maximalne.begin(), temp.maximalne.end());
</font>    auto mini = std::min_element (temp.minimalne.begin(), temp.minimalne.end());
  /*  if (*maxi &gt; *max || *mini &lt; *min)
        throw std::logic_error ("Prekoracen dozvoljeni opseg temperatura");*/
    return temp;
}
Temperature operator- (const Temperature &amp;p1, int n) {
    Temperature temp = p1;
    std::transform (temp.maximalne.begin(), temp.maximalne.end(), temp.maximalne.begin(), std::bind (std::minus&lt;int&gt;(), std::placeholders::_1, n));
    std::transform (temp.minimalne.begin(), temp.minimalne.end(), temp.minimalne.begin(), std::bind (std::minus&lt;int&gt;(), std::placeholders::_1, n));
    return temp;
}
Temperature operator- (int n, const Temperature &amp;p1) {
    Temperature temp = p1;
<a name="4"></a><font color="#FF00FF"><a href="match612-0.html#4" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_1.gif"/></a>

    std::transform (p1.minimalne.begin(), p1.minimalne.end(), temp.maximalne.begin(), std::bind (std::minus&lt;int&gt;(), n, std::placeholders::_1));
    std::transform (p1.maximalne.begin(), p1.maximalne.end(), temp.minimalne.begin(), std::bind (std::minus&lt;int&gt;(), n, std::placeholders::_1));
</font>    return temp;
}
Temperature &amp;Temperature::operator+= (int x) {
    std::transform (this-&gt;minimalne.begin(), this-&gt;minimalne.end(), this-&gt;minimalne.begin(), std::bind (std::plus&lt;int&gt;(), std::placeholders::_1, x));
    std::transform (this-&gt;maximalne.begin(), this-&gt;maximalne.end(), this-&gt;maximalne.begin(), std::bind (std::plus&lt;int&gt;(), std::placeholders::_1, x));
    return *this;
}
Temperature &amp;Temperature::operator-= (int x) {
    std::transform (this-&gt;maximalne.begin(), this-&gt;maximalne.end(), this-&gt;maximalne.begin(), std::bind (std::minus&lt;int&gt;(), std::placeholders::_1, x));
    std::transform (this-&gt;minimalne.begin(), this-&gt;minimalne.end(), this-&gt;minimalne.begin(), std::bind (std::minus&lt;int&gt;(), std::placeholders::_1, x));
    return *this;
}
<a name="6"></a><font color="#00FF00"><a href="match612-0.html#6" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_1.gif"/></a>

std::ostream &amp;operator&lt;&lt; (std::ostream &amp;tok, const Temperature &amp;p1) {
    std::for_each (p1.minimalne.begin(), p1.minimalne.end(), [&amp;tok] (int x) { tok &lt;&lt; x &lt;&lt; " ";});
</font>    tok &lt;&lt; std::endl;
    std::for_each (p1.maximalne.begin(), p1.maximalne.end(), [&amp;tok] (int x) { tok &lt;&lt; x &lt;&lt; " ";});
    return tok;
}
int main ()
{
    try {
        Temperature t(-100,100);
        t.RegistrirajTemperature(std::make_pair(3,4));
        t.RegistrirajTemperature(std::make_pair(-3,2));
        t.RegistrirajTemperature(std::make_pair(-3,-2));
        t.RegistrirajTemperature(std::make_pair(-1,2));
        auto vek = *t; // test da li operator * radi dobro
        for (auto x: vek) std::cout &lt;&lt; x &lt;&lt; " ";
        std::cout &lt;&lt; std::endl;
        auto vek1 = -t; //unarni -
        for (auto x: vek1) std::cout &lt;&lt; x &lt;&lt; " ";
        std::cout &lt;&lt; std::endl &lt;&lt; "Minimalna temperatura je: " &lt;&lt; t.DajMinimalnuTemperaturu();
        std::cout &lt;&lt; std::endl &lt;&lt; "Minimalna temperatura je: " &lt;&lt; t.DajMaksimalnuTemperaturu();
        std::cout &lt;&lt; std::endl &lt;&lt; "Broj temperatura manjih od 3 je " &lt;&lt; t.DajBrojTemperaturaManjihOd(3);
        std::cout &lt;&lt; std::endl &lt;&lt; t;
        t = t + 2 ; // binarni operator +
        t = t - 3; // binarni operator -
        std::cout &lt;&lt; std::endl &lt;&lt; t;
        auto koor = t[2]; // operator[]
        std::cout &lt;&lt; std::endl &lt;&lt; koor.first &lt;&lt; " " &lt;&lt; koor.second;
        t += 3; // opertator +=
        t -= 3; // operator -=
        t.BrisiSve(); // metoda za brisanje
        std::cout &lt;&lt; std::endl &lt;&lt; t;
    }
    catch (std::range_error por) {
        std::cout &lt;&lt; por.what();
    }
    catch (std::logic_error por) {
        std::cout &lt;&lt; por.what();
    }
	return 0;
}</pre>
</body>
</html>
