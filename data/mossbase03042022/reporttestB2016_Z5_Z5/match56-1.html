<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z5/Z5/student1938.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z5/Z5/student9315.cpp<p></p><pre>
#include &lt;iostream&gt;
#include &lt;list&gt;
#include &lt;stdexcept&gt;
#include &lt;utility&gt;
#include &lt;algorithm&gt;
#include &lt;functional&gt;
#include &lt;vector&gt;

<a name="0"></a><font color="#FF0000"><a href="match56-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_99.gif"/></a>

class Temperature{
    std::list&lt;int&gt; min,max;
    int rMin, rMax;
    public:
        Temperature(int min, int max);
        void RegistrirajTemperature(std::pair&lt;int,int&gt; temp);
        void BrisiSve(){ min.resize(0);  max.resize(0); }
        void BrisiNegativneTemperature();
        int DajBrojRegistriranihTemperatura()const{ return min.size(); }
        int DajMinimalnuTemperaturu()const;
        int DajMaksimalnuTemperaturu()const;
        int DajBrojTemperaturaVecihOd(int n)const;
        int DajBrojTemperaturaManjihOd(int n)const;
        bool operator!()const{ return !min.size(); }
        Temperature &amp;operator++();
        Temperature &amp;operator--();
        Temperature operator++(int);
        Temperature operator--(int);
        std::vector&lt;int&gt; operator*()const;
        std::vector&lt;int&gt; operator-()const;
        std::vector&lt;int&gt; operator+()const;
        std::pair&lt;int,int&gt; operator[](int x)const;
        Temperature operator+(int x)const;
        Temperature operator-(int x)const;
        bool operator==( Temperature t)const;
        bool operator!=(const Temperature &amp;t)const{ return !(*this == t); }
        friend std::ostream &amp;operator&lt;&lt;(std::ostream &amp;tok, const Temperature &amp;t);
    private:
        bool validOp(int x)const;
        
};
std::ostream &amp;operator&lt;&lt;(std::ostream &amp;tok, const Temperature &amp;t){
    static bool meh = false;
    std::list&lt;int&gt;::const_iterator i = t.min.begin();
    std::list&lt;int&gt;::const_iterator j = t.max.begin();
    if(meh){ i = t.min.begin(); j = t.max.begin(); }
    meh = false;
    if(i != t.min.end()){
        tok &lt;&lt; *i &lt;&lt; " "; i++;
        return tok &lt;&lt; t;
    }
    if(j == t.max.begin()) tok &lt;&lt; "\n";
    if(j != t.max.end()){
        tok &lt;&lt; *j &lt;&lt; " "; j++;
        return tok &lt;&lt; t;
    }
    meh = true;
    return tok;
}
bool Temperature::operator==(Temperature t)const{
    bool same(true);
    static bool meh = false;
    if(min.size() != t.min.size() || max.size() || t.max.size() ||
    rMin != t.rMin || rMax != t.rMax){ return false; meh = true; }
    static std::list&lt;int&gt;::const_iterator i1 = min.begin();
    static std::list&lt;int&gt;::iterator i2 = t.min.begin();
    static std::list&lt;int&gt;::const_iterator j1 = max.begin();
    static std::list&lt;int&gt;::iterator j2 = t.max.begin();
    if(meh){
        i1 = min.begin(); i2 = t.min.begin(); j1 = max.begin(), j2 = t.max.begin(); 
        meh = false;
    }
    if(i1 == min.end()){ return true; meh = true; }
    if(*i1 != *i2 || *j1 != *j2){ return false; meh = true; }
    i1++; i2++; j1++; j2++;
    return *this == t;
}
Temperature Temperature::operator-(int x)const{
    return *this + (-x);
}
Temperature Temperature::operator+(int x)const{
    if(!validOp(x)) throw std::logic_error("Prekoracen dozvoljeni opseg temperatura");
    Temperature ret(*this);
    std::transform(min.begin(), min.end(), ret.min.begin(),
    std::bind(std::plus&lt;int&gt;(),std::placeholders::_1,x));
    std::transform(max.begin(),max.end(),ret.max.begin(),
    std::bind(std::plus&lt;int&gt;(),std::placeholders::_1,x));
    return ret;
}
std::pair&lt;int,int&gt; Temperature::operator[](int x)const{
    if(x &gt; min.size()) throw std::range_error("Neispravan indeks");
    static  std::list&lt;int&gt;::const_iterator i = min.begin();
    static  std::list&lt;int&gt;::const_iterator j = max.begin();
    if(x == 1){
        return std::make_pair&lt;int,int&gt;(*i+0, *j + 0);
    }
    i++; j++;
    return (*this)[x-1];
}
std::vector&lt;int&gt; Temperature::operator+()const{
    std::vector&lt;int&gt; v(max.size(),rMax);
    std::transform(v.begin(),v.end(),max.begin(), v.begin(), std::minus&lt;int&gt;());
    return v;
}
std::vector&lt;int&gt; Temperature::operator-()const{
    std::vector&lt;int&gt; v(min.size(),rMin);
    std::transform(min.begin(),min.end(),v.begin(),v.begin(),std::minus&lt;int&gt;());
    return v;
}
std::vector&lt;int&gt; Temperature::operator*()const{
    std::vector&lt;int&gt; v(min.size());
    std::transform(max.begin(),max.end(),min.begin(),v.begin(),std::minus&lt;int&gt;());
    return v;
}
Temperature Temperature::operator--(int){
    Temperature ret(*this);
    --(*this);
    return ret;
}
Temperature &amp;Temperature::operator--(){
    if(!validOp(-1)) throw std::logic_error("Ilegalna operacija");
    std::transform(min.begin(), min.end(), min.begin(),
    std::bind(std::plus&lt;int&gt;(),std::placeholders::_1,-1));
    std::transform(max.begin(),max.end(), max.begin(),
    std::bind(std::plus&lt;int&gt;(),std::placeholders::_1,-1));
    return *this;
}
Temperature &amp;Temperature::operator++(){
    if(!validOp(1)) throw std::logic_error("Ilegalna operacija");
    std::transform(min.begin(), min.end(), min.begin(),
    std::bind(std::plus&lt;int&gt;(),std::placeholders::_1,1));
    std::transform(max.begin(), max.end(), max.begin(),
    std::bind(std::plus&lt;int&gt;(),std::placeholders::_1,1));
    return *this;
}
Temperature Temperature::operator++(int){
    Temperature ret(*this);
    ++(*this);
    return ret;
}
bool Temperature::validOp(int x)const{
    return (DajMinimalnuTemperaturu() + x &gt; rMin &amp;&amp;
    DajMaksimalnuTemperaturu() + x &lt; rMax);
}
int Temperature::DajBrojTemperaturaVecihOd(int n)const{
    if(!max.size()) throw std::logic_error("Nema registriranih temperatura");
    return std::count_if(max.begin(), max.end(),
    std::bind(std::greater&lt;int&gt;(),std::placeholders::_1, n));
}
int Temperature::DajBrojTemperaturaManjihOd(int n)const{
    if(min.size() == 0) throw std::logic_error("Nema registriranih temperatura");
    return std::count_if(min.begin(), min.end(),
    std::bind(std::less&lt;int&gt;(),std::placeholders::_1, n));
}
int Temperature::DajMaksimalnuTemperaturu()const{
    if(max.size() == 0) throw std::logic_error("Nema registriranih temperatura");
    return *std::max_element(max.begin(), max.end(), std::greater&lt;int&gt;());
}
int Temperature::DajMinimalnuTemperaturu()const{
    if(min.size() == 0) throw std::logic_error("Nema registriranih temperatura");
    return *std::min_element(min.begin(), min.end(), std::less&lt;int&gt;());
}

void Temperature::BrisiNegativneTemperature(){
    static std::list&lt;int&gt;::iterator i = max.begin();
    static std::list&lt;int&gt;::iterator j = min.begin();
    static bool meh = false;
    if(meh){ i = max.begin(); j = min.begin(); }
    meh = false;
    if(i == max.end()){ meh = true; return; }
    if(*i &lt; 0 &amp;&amp; *j &lt; 0) {
        i = max.erase(i); j = min.erase(j);
        BrisiNegativneTemperature();
    }
    i++;
    j++;
    BrisiNegativneTemperature();
}

void Temperature::RegistrirajTemperature(std::pair&lt;int,int&gt; temp){
    if(temp.first &gt; temp.second || temp.second &gt; rMax || temp.first &lt; rMin)
        throw std::range_error("Nekorektne temperature");
    min.push_back(temp.first); max.push_back(temp.second);
}
Temperature::Temperature(int rMin, int rMax){
    if(rMin &gt; rMax) throw std::range_error("Nekorektne temperature");    
    this-&gt;rMin = rMin; this-&gt;rMax = rMax;
}
int main () {
</font>    
	return 0;
}</pre>
</body>
</html>
