<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z5/Z5/student3301.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z5/Z5/student3301.cpp<p></p><pre>
/B16/17 (ZadaÄ‡a 5, Zadatak 5)
//Autotestovi by Berina Cocalic (mail: bcocalic1@etf.unsa.ba)
//Za autotestove se obracati *iskljucivo* osobi koja ih pise
#include &lt;iostream&gt;
#include &lt;stdexcept&gt;
#include &lt;algorithm&gt;
#include &lt;functional&gt;
#include &lt;list&gt;
#include &lt;utility&gt;
#include &lt;vector&gt;
#include &lt;iterator&gt;


class Temperature{
    std::list&lt;int&gt; minimalne, maksimalne;
    int minimalna, maksimalna;
    public:
      Temperature(int mini, int maksi);
      void RegistrirajTemperature(std::pair&lt;int, int&gt; par);
      void BrisiSve();
      void BrisiNegativneTemperature();
      int DajBrojRegistriranihTemperatura() const;
      int DajMinimalnuTemperaturu() const;
      int DajMaksimalnuTemperaturu() const;
      int DajBrojTemperaturaVecihOd(int t) const;
      int DajBrojTemperaturaManjihOd(int t) const;
      bool operator!();
      friend Temperature &amp;operator++ (Temperature &amp;temp);
      friend Temperature operator++ (Temperature &amp;temp, int);
      friend Temperature &amp;operator-- (Temperature &amp;temp);
      friend Temperature operator-- (Temperature &amp;temp, int);
      std::vector&lt;int&gt; operator*();
      std::vector&lt;int&gt; operator-();
      std::vector&lt;int&gt; operator+();
      std::pair&lt;int, int&gt; operator[] (int i) const;
<a name="5"></a><font color="#FF0000"><a href="match650-1.html#5" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_0.gif"/></a>

      friend bool operator== (const Temperature &amp;t1, const Temperature &amp;t2);
      friend bool operator!= (const Temperature &amp;t1, const Temperature &amp;t2);
</font>      friend std::ostream &amp;operator&lt;&lt; (std::ostream &amp;tok, const Temperature &amp;temp);
      friend Temperature operator+ (const Temperature &amp;temp, int y);
      friend Temperature &amp;operator+=(Temperature &amp;temp, int y);
      friend Temperature &amp;operator+= (int y, Temperature &amp;temp);
      friend Temperature operator+ (int y, const Temperature &amp;temp);
      friend Temperature operator- (const Temperature &amp;temp, int y);
      friend Temperature operator- (int y, const Temperature &amp;temp);
      friend Temperature &amp;operator-= (Temperature &amp;temp, int y);
      friend Temperature &amp;operator -= (int y, Temperature &amp;temp);
};

Temperature::Temperature(int mini, int maksi){
    if(mini&gt;maksi)
      throw std::range_error("Nekorektne temperature");
    minimalna = mini;
    maksimalna = maksi;
}

<a name="0"></a><font color="#FF0000"><a href="match650-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_1.gif"/></a>

void Temperature::RegistrirajTemperature(std::pair&lt;int, int&gt; par){
    if(par.first &lt; minimalna || par.second&gt;maksimalna || par.first&gt;par.second)
      throw std::range_error("Nekorektne temperature");
    minimalne.push_back(par.first);
    maksimalne.push_back(par.second);
}

void Temperature::BrisiSve(){
    minimalne.resize(0);
</font>    maksimalne.resize(0);
}

void Temperature::BrisiNegativneTemperature(){
  auto p = std::find_if(maksimalne.begin(), maksimalne.end(), std::bind(std::less&lt;int&gt;(), std::placeholders::_1, 0));
  int a = std::distance(maksimalne.begin(), p);
  auto q = minimalne.begin();
  std::advance(q, a );
  if(p!=maksimalne.end()){
  p = maksimalne.erase(p);
  q = minimalne.erase(q);
  }
<a name="4"></a><font color="#FF00FF"><a href="match650-1.html#4" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_0.gif"/></a>

  p = std::find_if(maksimalne.begin(), maksimalne.end(), std::bind(std::less&lt;int&gt;(), std::placeholders::_1, 0));
  if(p!=maksimalne.end())
</font>    BrisiNegativneTemperature();
}




int Temperature::DajBrojRegistriranihTemperatura() const{
    return maksimalne.size();
}

int Temperature::DajMinimalnuTemperaturu() const{
    if(minimalne.size()==0)
      throw std::logic_error("Nema registriranih temperatura");
    auto p = std::min_element(minimalne.begin(), minimalne.end());
    return *p;
}

int Temperature::DajMaksimalnuTemperaturu() const{
    if(maksimalne.size()==0)
      throw std::logic_error("Nema registriranih temperatura");
    auto p = std::max_element(maksimalne.begin(), maksimalne.end());
    return *p;
}

int Temperature::DajBrojTemperaturaVecihOd(int t) const{
    if(maksimalne.size()==0)
      throw std::logic_error("Nema registriranih temperatura");
    int brojac = std::count_if(maksimalne.begin(), maksimalne.end(), std::bind(std::greater&lt;int&gt;(), std::placeholders::_1, t ));
    return brojac;
}

int Temperature::DajBrojTemperaturaManjihOd(int t) const{
    if(minimalne.size()==0)
      throw std::logic_error("Nema registriranih temperatura");
    int brojac = std::count_if(minimalne.begin(), minimalne.end(), std::bind(std::less&lt;int&gt;(), std::placeholders::_1, t));
    return brojac;
}


bool Temperature::operator! (){
    return (maksimalne.size()==0 &amp;&amp; minimalne.size()==0);
}


Temperature &amp;operator++ (Temperature &amp;temp){
<a name="6"></a><font color="#00FF00"><a href="match650-1.html#6" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_0.gif"/></a>

  std::transform(temp.minimalne.begin(), temp.minimalne.end(), temp.minimalne.begin(), std::bind(std::plus&lt;int&gt;(), std::placeholders::_1,1));
  std::list&lt;bool&gt; pomocna(temp.minimalne.size());
</font><a name="7"></a><font color="#0000FF"><a href="match650-1.html#7" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_0.gif"/></a>

  std::transform(temp.minimalne.begin(), temp.minimalne.end(), temp.maksimalne.begin(), pomocna.begin(), std::greater&lt;int&gt;());
</font>  int brojac(0);
  brojac = std::count_if(pomocna.begin(), pomocna.end(), std::bind(std::equal_to&lt;bool&gt;(), std::placeholders::_1, true));
  if(brojac!=0){
    std::transform(temp.minimalne.begin(), temp.minimalne.end(), temp.minimalne.begin(), std::bind(std::minus&lt;int&gt;(), std::placeholders::_1,1));
    throw std::logic_error("Ilegalna operacija");
  }
  return temp;
}

Temperature operator++ (Temperature &amp;temp, int){
  Temperature pomocna2(temp);
  std::transform(temp.minimalne.begin(), temp.minimalne.end(), temp.minimalne.begin(), std::bind(std::plus&lt;int&gt;(), std::placeholders::_1,1));
  std::list&lt;bool&gt; pomocna(temp.minimalne.size());
  std::transform(temp.minimalne.begin(), temp.minimalne.end(), temp.maksimalne.begin(), pomocna.begin(), std::greater&lt;int&gt;());
  int brojac(0);
  brojac = std::count_if(pomocna.begin(), pomocna.end(), std::bind(std::equal_to&lt;bool&gt;(), std::placeholders::_1, true));
  if(brojac!=0){
    std::transform(temp.minimalne.begin(), temp.minimalne.end(), temp.minimalne.begin(), std::bind(std::minus&lt;int&gt;(), std::placeholders::_1, 1));
    throw std::logic_error("Ilegalna operacija");
  }
  return pomocna2;
}

Temperature &amp;operator-- (Temperature &amp;temp){
  std::transform(temp.maksimalne.begin(), temp.maksimalne.end(), temp.maksimalne.begin(), std::bind(std::minus&lt;int&gt;(), std::placeholders::_1,1));
  std::list&lt;bool&gt; pomocna(temp.maksimalne.size());
  std::transform(temp.maksimalne.begin(), temp.maksimalne.end(), temp.minimalne.begin(), pomocna.begin(), std::less&lt;int&gt;());
  int brojac(0);
  brojac = std::count_if(pomocna.begin(), pomocna.end(), std::bind(std::equal_to&lt;bool&gt;(), std::placeholders::_1, true));
  if(brojac!=0){
    std::transform(temp.maksimalne.begin(), temp.maksimalne.end(), temp.maksimalne.begin(), std::bind(std::plus&lt;int&gt;(), std::placeholders::_1,1));
    throw std::logic_error("Ilegalna operacija");
  }
  return temp;
}

Temperature operator-- (Temperature &amp;temp, int){
   Temperature pomocna2(temp);
   std::transform(temp.maksimalne.begin(), temp.maksimalne.end(), temp.maksimalne.begin(), std::bind(std::minus&lt;int&gt;(), std::placeholders::_1,1));
   std::list&lt;bool&gt; pomocna(temp.maksimalne.size());
   std::transform(temp.maksimalne.begin(), temp.maksimalne.end(), temp.minimalne.begin(), pomocna.begin(), std::less&lt;int&gt;());
   int brojac(0);
   brojac = std::count_if(pomocna.begin(), pomocna.end(), std::bind(std::equal_to&lt;bool&gt;(), std::placeholders::_1, true));
   if(brojac!=0){
     std::transform(temp.maksimalne.begin(), temp.maksimalne.end(), temp.maksimalne.begin(), std::bind(std::plus&lt;int&gt;(), std::placeholders::_1,1));
     throw std::logic_error("Ilegalna operacija");
   }
   return pomocna2;
}

std::vector&lt;int&gt; Temperature::operator*(){
  std::vector&lt;int&gt; v(maksimalne.size());
  std::transform(maksimalne.begin(), maksimalne.end(), minimalne.begin(), v.begin(), std::minus&lt;int&gt;());
  return v;
}

std::vector&lt;int&gt; Temperature::operator- (){
  std::vector&lt;int&gt; v(minimalne.size());
  std::transform(minimalne.begin(), minimalne.end(), v.begin(), std::bind(std::minus&lt;int&gt;(), std::placeholders::_1, minimalna));
  return v;
}

std::vector&lt;int&gt; Temperature::operator+ (){
  std::vector&lt;int&gt; v(maksimalne.size());
  std::transform(maksimalne.begin(), maksimalne.end(), v.begin(), std::bind(std::minus&lt;int&gt;(), maksimalna, std::placeholders::_1));
  return v;
}

std::pair&lt;int, int&gt; Temperature::operator[] (int i) const{
  if(i&lt;1 || i&gt;maksimalne.size())
<a name="1"></a><font color="#00FF00"><a href="match650-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_1.gif"/></a>

    throw std::range_error("Neispravan indeks");
  auto p(maksimalne.begin());
  auto q(minimalne.begin());
  std::advance(p, i - 1);
  std::advance(q, i - 1);
  return std::make_pair(*p, *q);
}

bool operator== (const Temperature &amp;t1,const Temperature &amp;t2){
</font>  if(t1.maksimalne.size()!=t2.maksimalne.size())
    return false;
  if(t1.maksimalna!=t2.maksimalna || t1.minimalna!=t2.minimalna)
    return false;
  if(std::equal(t1.maksimalne.begin(), t1.maksimalne.end(), t2.maksimalne.begin()) &amp;&amp; std::equal(t1.minimalne.begin(), t1.minimalne.end(), t2.minimalne.begin()))
    return true;
  return false;
}

inline bool operator!= (const Temperature &amp;t1, const Temperature &amp;t2){
  return !(t1==t2);
}

std::ostream &amp;operator&lt;&lt; (std::ostream &amp;tok, const Temperature &amp;temp){
  std::copy(temp.minimalne.begin(), temp.minimalne.end(), std::ostream_iterator&lt;int&gt;(tok, " "));
  tok&lt;&lt;std::endl;
  std::copy(temp.maksimalne.begin(), temp.maksimalne.end(), std::ostream_iterator&lt;int&gt;(tok, " "));
  return tok;
}

Temperature operator+ (const Temperature &amp;temp, int y){
  Temperature novi_temp(temp.minimalna, temp.maksimalna);
  novi_temp.minimalne.resize(temp.minimalne.size());
  novi_temp.maksimalne.resize(temp.maksimalne.size());
  std::transform(temp.minimalne.begin(), temp.minimalne.end(), novi_temp.minimalne.begin(), std::bind(std::plus&lt;int&gt;(), std::placeholders::_1, y));
  std::transform(temp.maksimalne.begin(), temp.maksimalne.end(), novi_temp.maksimalne.begin(), std::bind(std::plus&lt;int&gt;(), std::placeholders::_1, y));
  int brojac(0);
  brojac = std::count_if(novi_temp.minimalne.begin(), novi_temp.minimalne.end(), std::bind(std::greater&lt;int&gt;(), std::placeholders::_1, novi_temp.maksimalna));
  if(brojac!=0)
   throw std::logic_error("Prekoracen dozvoljeni opseg temperatura");
  brojac = std::count_if(novi_temp.maksimalne.begin(), novi_temp.maksimalne.end(), std::bind(std::greater&lt;int&gt;(), std::placeholders::_1, novi_temp.maksimalna));
  if(brojac!=0)
    throw std::logic_error("Prekoracen dozvoljeni opseg temperatura");
  return novi_temp;
}
inline Temperature operator+ (int y, const Temperature &amp;temp){
  return temp + y;
}

Temperature &amp;operator+= (Temperature &amp;temp, int y){
  std::transform(temp.minimalne.begin(), temp.minimalne.end(), temp.minimalne.begin(), std::bind(std::plus&lt;int&gt;(), std::placeholders::_1, y));
  std::transform(temp.maksimalne.begin(), temp.maksimalne.end(),temp.maksimalne.begin() ,std::bind(std::plus&lt;int&gt;(), std::placeholders::_1, y));
  int brojac1(0);
  brojac1 = std::count_if(temp.maksimalne.begin(), temp.maksimalne.end(), std::bind(std::greater&lt;int&gt;(), std::placeholders::_1, temp.maksimalna) );
  if(brojac1!=0){
    std::transform(temp.minimalne.begin(), temp.minimalne.end(),temp.minimalne.begin() ,std::bind(std::minus&lt;int&gt;(), std::placeholders::_1, y));
    std::transform(temp.maksimalne.begin(), temp.maksimalne.end(),temp.maksimalne.begin() ,std::bind(std::minus&lt;int&gt;(), std::placeholders::_1, y));
    throw std::logic_error("Prekoracen dozvoljeni opseg temperatura");
  }
  return temp;
}

inline Temperature &amp;operator+= (int y, Temperature &amp;temp){
  return temp+=y;
}

<a name="3"></a><font color="#00FFFF"><a href="match650-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_0.gif"/></a>

Temperature operator- (const Temperature &amp;temp, int y){
  Temperature novi_temp(temp);
  std::transform(novi_temp.minimalne.begin(), novi_temp.minimalne.end(), novi_temp.minimalne.begin(), std::bind(std::minus&lt;int&gt;(), std::placeholders::_1, y));
</font>  std::transform(novi_temp.maksimalne.begin(), novi_temp.maksimalne.end(), novi_temp.maksimalne.begin(), std::bind(std::minus&lt;int&gt;(), std::placeholders::_1, y));
  int brojac(0);
  brojac = std::count_if(novi_temp.minimalne.begin(), novi_temp.minimalne.end(), std::bind(std::less&lt;int&gt;(), std::placeholders::_1, novi_temp.minimalna));
  if(brojac!=0)
    throw std::logic_error("Prekoracen dozvoljeni opseg temperatura");
  brojac = std::count_if(novi_temp.maksimalne.begin(), novi_temp.maksimalne.end(), std::bind(std::less&lt;int&gt;(), std::placeholders::_1, novi_temp.minimalna));
  if(brojac!=0)
    throw std::logic_error("Prekoracen dozvoljeni opseg temperatura");
  return novi_temp;
}

Temperature operator- (int y, const Temperature &amp;temp){
  Temperature novi_temp(temp.minimalna, temp.maksimalna);
  novi_temp.minimalne.resize(temp.minimalne.size());
  novi_temp.maksimalne.resize(temp.maksimalne.size());
  std::transform(temp.minimalne.begin(), temp.minimalne.end(), novi_temp.maksimalne.begin(), std::bind(std::minus&lt;int&gt;(), y, std::placeholders::_1));
  int brojac(0);
  brojac = std::count_if(novi_temp.maksimalne.begin(), novi_temp.maksimalne.end(), std::bind(std::less&lt;int&gt;(), std::placeholders::_1, novi_temp.minimalna));
  if(brojac!=0)
    throw std::logic_error("Prekoracen dozvoljeni opseg temperatura");
  auto p = std::find_if(novi_temp.maksimalne.begin(), novi_temp.maksimalne.end(), std::bind(std::greater&lt;int&gt;(), std::placeholders::_1, novi_temp.maksimalna));
  if(p!=novi_temp.maksimalne.end())
    throw std::logic_error("Prekoracen dozvoljeni opseg temperatura");
  std::transform(temp.maksimalne.begin(), temp.maksimalne.end(), novi_temp.minimalne.begin(), std::bind(std::minus&lt;int&gt;(),y ,std::placeholders::_1));
  auto s = std::find_if(novi_temp.minimalne.begin(), novi_temp.minimalne.end(), std::bind(std::less&lt;int&gt;(), std::placeholders::_1, novi_temp.minimalna));
  if(s!=novi_temp.minimalne.end())
    throw std::logic_error("Prekoracen dozvoljeni opseg temperatura");
  auto r = std::find_if(novi_temp.minimalne.begin(), novi_temp.minimalne.end(), std::bind(std::greater&lt;int&gt;(), std::placeholders::_1, novi_temp.maksimalna));
  if(r!=novi_temp.minimalne.end())
    throw std::logic_error("Prekoracen dozvoljeni opseg temperatura");
  return novi_temp;
}

Temperature &amp;operator-= (Temperature &amp;temp, int y){
  std::transform(temp.minimalne.begin(), temp.minimalne.end(), temp.minimalne.begin(), std::bind(std::minus&lt;int&gt;(), std::placeholders::_1, y));
  std::transform(temp.maksimalne.begin(), temp.maksimalne.end(), temp.maksimalne.begin(), std::bind(std::minus&lt;int&gt;(), std::placeholders::_1, y));
  auto p = std::find_if(temp.minimalne.begin(), temp.minimalne.end(), std::bind(std::less&lt;int&gt;(), std::placeholders::_1, temp.minimalna));
  if(p!=temp.minimalne.end()){
    std::transform(temp.minimalne.begin(), temp.minimalne.end(), temp.minimalne.begin(), std::bind(std::plus&lt;int&gt;(), std::placeholders::_1, y));
    std::transform(temp.maksimalne.begin(), temp.maksimalne.end(), temp.maksimalne.begin(), std::bind(std::plus&lt;int&gt;(), std::placeholders::_1, y));
    throw std::logic_error("Prekoracen dozvoljeni opseg temperatura");
  }
  return temp;
}

Temperature &amp;operator-= (int y, Temperature &amp;temp){
  Temperature novi_temp(temp);
<a name="2"></a><font color="#0000FF"><a href="match650-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_0.gif"/></a>

  std::transform(novi_temp.maksimalne.begin(), novi_temp.maksimalne.end(), temp.minimalne.begin(), std::bind(std::minus&lt;int&gt;(), y, std::placeholders::_1));
  std::transform(novi_temp.minimalne.begin(), novi_temp.minimalne.end(), temp.maksimalne.begin(), std::bind(std::minus&lt;int&gt;(),y, std::placeholders::_1));
</font>  auto p = std::find_if(temp.maksimalne.begin(), temp.maksimalne.end(), std::bind(std::greater&lt;int&gt;(), std::placeholders::_1, temp.maksimalna));
  auto q = std::find_if(temp.minimalne.begin(), temp.minimalne.end(), std::bind(std::less&lt;int&gt;(), std::placeholders::_1, temp.minimalna));
  if(p!=temp.maksimalne.end() || q!=temp.minimalne.end()){
    temp = novi_temp;
    throw std::logic_error("Prekoracen dozvoljeni opseg temperatura");
  }
  return temp;
}

int main ()
{
  Temperature t(-30, 45);
  t.RegistrirajTemperature({-20, -1});
  t.RegistrirajTemperature({-20, -5});
  t.RegistrirajTemperature({10, 19});
  t.RegistrirajTemperature({-8, 13});
  t.RegistrirajTemperature({-20, -5});
  t.RegistrirajTemperature({-15, 29});
  t.RegistrirajTemperature({-20, -1});
  
  std::cout&lt;&lt;t.DajMinimalnuTemperaturu()&lt;&lt;" "&lt;&lt;t.DajMaksimalnuTemperaturu();
  t+=10;
  std::cout&lt;&lt;"\n"&lt;&lt;t.DajMinimalnuTemperaturu()&lt;&lt;" "&lt;&lt;t.DajMaksimalnuTemperaturu();
  t-=5;
  std::cout&lt;&lt;"\n"&lt;&lt;t.DajMinimalnuTemperaturu()&lt;&lt;" "&lt;&lt;t.DajMaksimalnuTemperaturu();
  10-=t;
  std::cout&lt;&lt;"\n"&lt;&lt;t.DajMinimalnuTemperaturu()&lt;&lt;" "&lt;&lt;t.DajMaksimalnuTemperaturu();
  t++;
  ++t;
  Temperature t2(t);
  if(t==t2)
    std::cout&lt;&lt;"\nObjekti t i t2 sadrze iste elemente\n";
  else if(t!=t2)
    std::cout&lt;&lt;"Objekti t i t2 sadrze razlicite elemente\n";
  std::cout&lt;&lt;t&lt;&lt;std::endl;
  t--;
  --t;
  std::cout&lt;&lt;"\n t:\n"&lt;&lt;t&lt;&lt;std::endl;
  std::cout&lt;&lt;"\n"&lt;&lt;(t + 3)&lt;&lt;std::endl;
  std::cout&lt;&lt;"\n"&lt;&lt;(t2 - 2)&lt;&lt;std::endl;
  std::cout&lt;&lt;t.DajBrojTemperaturaVecihOd(10)&lt;&lt;" "&lt;&lt;t.DajBrojTemperaturaManjihOd(-10)&lt;&lt;" "&lt;&lt;t.DajBrojRegistriranihTemperatura()&lt;&lt;std::endl;
  std::cout&lt;&lt;"\n"&lt;&lt;t;
  t.BrisiNegativneTemperature();
  std::cout&lt;&lt;"\n*****\n"&lt;&lt;t;
	return 0;
}</pre>
</body>
</html>
