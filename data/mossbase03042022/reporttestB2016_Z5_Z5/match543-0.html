<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z5/Z5/student5562.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z5/Z5/student5562.cpp<p></p><pre>
<a name="6"></a><font color="#00FF00"><a href="match543-1.html#6" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_1.gif"/></a>

/B16/17 (ZadaÄ‡a 5, Zadatak 5)
//Autotestovi by Berina Cocalic (mail: bcocalic1@etf.unsa.ba)
//Za autotestove se obracati *iskljucivo* osobi koja ih pise
#include &lt;iostream&gt;
#include &lt;utility&gt;
#include &lt;list&gt;
#include &lt;stdexcept&gt;
#include &lt;algorithm&gt;
#include &lt;functional&gt;
#include &lt;vector&gt;
#include &lt;iterator&gt;
#include &lt;iterator&gt;

class Temperature
{
    std::list&lt;int&gt; minimalne, maksimalne;
    int min_moguca, max_moguca;
</font>    void JeLiPremaseno(const std::list&lt;int&gt; &amp;minimalne, const std::list&lt;int&gt; &amp;maksimalne);
public:
    Temperature(int min_moguca, int max_moguca);
    void RegistrirajTemperature(const std::pair&lt;int, int&gt; &amp;temperature);
    void BrisiSve();
    void BrisiNegativneTemperature();
    int DajBrojRegistriranihTemperatura(){ return minimalne.size();};
    int DajMinimalnuTemperaturu();
    int DajMaksimalnuTemperaturu();
    int DajBrojTemperaturaVecihOd(int temperatura);
    int DajBrojTemperaturaManjihOd(int temperatura);
    bool operator!()const{ return !minimalne.size();}
    Temperature &amp;operator++();
    Temperature operator++(int);
    Temperature &amp;operator--();
    Temperature operator--(int);
    std::vector&lt;int&gt; operator*()const;
    std::vector&lt;int&gt; operator+()const;
    std::vector&lt;int&gt; operator-()const;
    std::pair&lt;int, int&gt; operator[](int i)const;
    Temperature &amp;operator+=(int x);
    friend Temperature operator+(const Temperature &amp;t, int x);
    inline friend Temperature operator+(int x, const Temperature &amp;t){ return t + x;}
    Temperature &amp;operator-=(int x);
    friend Temperature operator-(const Temperature &amp;t, int x);
    friend Temperature operator-(int x, const Temperature &amp;t);
    friend bool operator==(const Temperature &amp;t1, const Temperature &amp;t2){
        return t1.min_moguca == t2.min_moguca &amp;&amp; t1.max_moguca == t2.max_moguca &amp;&amp; t1.minimalne == t2.minimalne &amp;&amp; t1.maksimalne == t2.maksimalne;
    }
<a name="2"></a><font color="#0000FF"><a href="match543-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_1.gif"/></a>

    friend bool operator!=(const Temperature &amp;t1, const Temperature &amp;t2){ return !(t1 == t2);}
    friend std::ostream &amp;operator &lt;&lt; (std::ostream &amp;tok, const Temperature &amp;t);
};
void Temperature::JeLiPremaseno(const std::list&lt;int&gt; &amp;minimalne, const std::list&lt;int&gt; &amp;maksimalne)
</font>{
    std::vector&lt;bool&gt; v(minimalne.size());
    std::transform(minimalne.begin(), minimalne.end(), maksimalne.begin(), v.begin(), std::equal_to&lt;int&gt;());
    if (std::count(v.begin(), v.end(), true))
        throw std::logic_error("Ilegalna operacija");
}
Temperature::Temperature(int min_moguca, int max_moguca)
{
    if (min_moguca &gt; max_moguca)
        throw std::range_error("Nekorektne temperature");
}
void Temperature::RegistrirajTemperature(const std::pair&lt;int, int&gt; &amp;temperature)
{
    if (temperature.first &gt; temperature.second || temperature.first &lt; min_moguca || temperature.second &gt; max_moguca)
        throw std::range_error("Nekorektne temperature");
    minimalne.push_back(temperature.first);
    minimalne.push_back(temperature.second);
}
void Temperature::BrisiSve()
{
    minimalne.erase(minimalne.begin(), minimalne.end());
    maksimalne.erase(maksimalne.begin(), minimalne.end());
}
void Temperature::BrisiNegativneTemperature()
{
    auto max_neg(std::find_if(maksimalne.begin(), maksimalne.end(), std::bind(std::less&lt;int&gt;(), std::placeholders::_1, 0)));
    if (max_neg != maksimalne.end())
    {
        auto min_neg(minimalne.begin());
        for (int i = 0; i&lt; std::distance(max_neg, maksimalne.begin()); i++)
            min_neg++;
        minimalne.erase(min_neg);
        maksimalne.erase(max_neg);
        BrisiNegativneTemperature();
    }
}
int Temperature::DajMinimalnuTemperaturu()
{
    if (!minimalne.size())
        throw std::logic_error("Nema registriranih temperatura");
    int od_minimalnih (*std::min_element(minimalne.begin(), maksimalne.end()));
    int od_maksimalnih(*std::min_element(maksimalne.begin(), maksimalne.end()));
    if (od_minimalnih &lt; od_maksimalnih)
        return od_minimalnih;
    else return od_maksimalnih;
}
int Temperature::DajMaksimalnuTemperaturu()
{
    if (!minimalne.size())
        throw std::logic_error("Nema registriranih temperatura");
    int od_minimalnih(*std::max_element(minimalne.begin(), minimalne.end()));
    int od_maksimalnih(*std::max_element(maksimalne.begin(), minimalne.end()));
    if (od_minimalnih &gt; od_maksimalnih)
        return od_minimalnih;
    else return od_maksimalnih;
}
int Temperature::DajBrojTemperaturaVecihOd(int temperatura)
{
    if (!minimalne.size())
        throw std::logic_error("Nema registriranih temperatura");
    return std::count_if(minimalne.begin(), minimalne.end(), std::bind(std::greater&lt;int&gt;(), std::placeholders::_1, temperatura)) + 
           std::count_if(maksimalne.begin(), maksimalne.end(), std::bind(std::greater&lt;int&gt;(), std::placeholders::_1, temperatura));
}
int Temperature::DajBrojTemperaturaManjihOd(int temperatura)
{
    if (!minimalne.size())
        throw std::logic_error("Nema registriranih temperatura");
    return std::count_if(minimalne.begin(), minimalne.end(), std::bind(std::less&lt;int&gt;(), std::placeholders::_1, temperatura)) + 
           std::count_if(maksimalne.begin(), minimalne.begin(), std::bind(std::less&lt;int&gt;(), std::placeholders::_1, temperatura));
}
Temperature &amp;Temperature::operator++()
{
    if (std::count(minimalne.begin(), minimalne.end(), max_moguca))
        throw std::logic_error("Ilegalna operacija");
<a name="7"></a><font color="#0000FF"><a href="match543-1.html#7" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_1.gif"/></a>

    JeLiPremaseno(minimalne, maksimalne);
    std::transform(minimalne.begin(), minimalne.end(), minimalne.begin(), std::bind(std::plus&lt;int&gt;(), std::placeholders::_1, 1));
</font>    return *this;
}
Temperature Temperature::operator++(int)
{
    if (std::count(minimalne.begin(), minimalne.end(), max_moguca))
        throw std::logic_error("Ilegalna operacija");
    JeLiPremaseno(minimalne, maksimalne);
    Temperature pomocne(*this);
    std::transform(minimalne.begin(), minimalne.end(), minimalne.begin(), std::bind(std::plus&lt;int&gt;(), std::placeholders::_1, 1));
    return pomocne;
}
Temperature &amp;Temperature::operator--()
{
    if (std::count(maksimalne.begin(), maksimalne.end(), min_moguca))
        throw std::logic_error("Ilegalna operacija");
    JeLiPremaseno(minimalne, maksimalne);
    std::transform(maksimalne.begin(), maksimalne.end(), maksimalne.begin(), std::bind(std::minus&lt;int&gt;(), std::placeholders::_1, 1));
    return *this;
}
Temperature Temperature::operator--(int)
{
    if (std::count(maksimalne.begin(), maksimalne.end(), min_moguca))
        throw std::logic_error("Ilegalna operacija");
    JeLiPremaseno(minimalne, maksimalne);
    Temperature pomocne(*this);
    std::transform(maksimalne.begin(), maksimalne.end(), maksimalne.begin(), std::bind(std::minus&lt;int&gt;(), std::placeholders::_1, 1));
    return pomocne;
}
std::vector&lt;int&gt; Temperature::operator*()const
{
    std::vector&lt;int&gt; razlike(minimalne.size());
    std::transform(minimalne.begin(), minimalne.end(), maksimalne.begin(), razlike.begin(), std::minus&lt;int&gt;());
    return razlike;
}
std::vector&lt;int&gt; Temperature::operator+()const
{
    std::vector&lt;int&gt; razlike(maksimalne.size());
<a name="5"></a><font color="#FF0000"><a href="match543-1.html#5" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_1.gif"/></a>

    std::transform(maksimalne.begin(), maksimalne.end(), razlike.begin(), std::bind(std::minus&lt;int&gt;(), max_moguca, std::placeholders::_1));
</font>    return razlike;
}
std::vector&lt;int&gt; Temperature::operator-()const
{
    std::vector&lt;int&gt; razlike(minimalne.size());
    std::transform(minimalne.begin(), minimalne.end(), razlike.begin(), std::bind(std::minus&lt;int&gt;(), std::placeholders::_1, min_moguca));
    return razlike;
}
<a name="4"></a><font color="#FF00FF"><a href="match543-1.html#4" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_1.gif"/></a>

std::pair&lt;int, int&gt; Temperature::operator[](int i)const
{
    if (i &lt; 1 || i &gt; minimalne.size())
        throw std::range_error("Neispravan indeks");
</font><a name="1"></a><font color="#00FF00"><a href="match543-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_2.gif"/></a>

    std::vector&lt;int&gt; minimalne2(minimalne.size()), maksimalne2(maksimalne.size());
    std::copy(minimalne.begin(), minimalne.end(), minimalne2.begin());
    std::copy(maksimalne.begin(), maksimalne.end(), maksimalne2.begin());
    return std::pair&lt;int, int&gt;(minimalne2[i - 1], maksimalne2[i - 1]);
</font>}
Temperature &amp;Temperature::operator+=(int x)
{
    *this = *this + x;
    return *this;
}
Temperature operator +(const Temperature &amp;t, int x)
{
    if (std::count_if(t.maksimalne.begin(), t.maksimalne.end(), std::bind(std::greater&lt;int&gt;(), std::placeholders::_1, t.max_moguca - x)) || std::count_if(t.minimalne.begin(), t.minimalne.end(), std::bind(std::greater&lt;int&gt;(), std::placeholders::_1, t.max_moguca - x)))
        throw std::logic_error("Prekoracen dozvoljeni opseg temperatura"); 
    Temperature t2(t);
    std::transform(t2.minimalne.begin(), t2.minimalne.end(), t2.minimalne.begin(), std::bind(std::plus&lt;int&gt;(), std::placeholders::_1, x));
    std::transform(t2.maksimalne.begin(), t2.maksimalne.end(), t2.maksimalne.begin(), std::bind(std::plus&lt;int&gt;(), std::placeholders::_1, x));
    return t2;
}
Temperature &amp;Temperature::operator-=(int x)
{
    *this = *this - x;
    return *this;
}
Temperature operator -(const Temperature &amp;t, int x)
{
    if (std::count_if(t.maksimalne.begin(), t.maksimalne.end(), std::bind(std::less&lt;int&gt;(), std::placeholders::_1, t.min_moguca + x)) || std::count_if(t.minimalne.begin(), t.minimalne.end(), std::bind(std::less&lt;int&gt;(), std::placeholders::_1, t.min_moguca + x)))
        throw std::logic_error("Prekoracen dozvoljeni opseg temperatura");
    Temperature t2(t);
    std::transform(t2.minimalne.begin(), t2.minimalne.end(), t2.minimalne.begin(), std::bind(std::minus&lt;int&gt;(), std::placeholders::_1, x));
    std::transform(t2.maksimalne.begin(), t2.maksimalne.end(), t2.maksimalne.begin(), std::bind(std::minus&lt;int&gt;(), std::placeholders::_1, x));
    return t2;
}
Temperature operator-(int x, const Temperature &amp;t)
{
    Temperature t2(t);
<a name="3"></a><font color="#00FFFF"><a href="match543-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_1.gif"/></a>

    std::transform(t2.minimalne.begin(), t2.minimalne.end(), t2.minimalne.begin(), std::bind(std::minus&lt;int&gt;(), x, std::placeholders::_1));
    std::transform(t2.maksimalne.begin(), t2.maksimalne.end(), t2.maksimalne.begin(), std::bind(std::minus&lt;int&gt;(), x, std::placeholders::_1));
</font>    std::swap(t2.minimalne, t2.maksimalne);
    if (std::count_if(t2.maksimalne.begin(), t2.maksimalne.end(), std::bind(std::less&lt;int&gt;(), std::placeholders::_1, t2.min_moguca)) || std::count_if(t2.minimalne.begin(), t2.minimalne.end(), std::bind(std::less&lt;int&gt;(), std::placeholders::_1, t2.min_moguca)))
        throw std::logic_error("Prekoracen dozvoljeni opseg temperatura");
    return t2;
}
<a name="0"></a><font color="#FF0000"><a href="match543-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_2.gif"/></a>

std::ostream &amp;operator &lt;&lt;(std::ostream &amp;tok, const Temperature &amp;t)
{
    std::copy(t.minimalne.begin(), t.minimalne.end(), std::ostream_iterator&lt;int&gt;(tok, " "));
    tok &lt;&lt; std::endl;
</font><a name="8"></a><font color="#00FFFF"><a href="match543-1.html#8" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_1.gif"/></a>

    std::copy(t.maksimalne.begin(), t.maksimalne.end(), std::ostream_iterator&lt;int&gt;(tok, " "));
    return tok;
}

int main ()
{
	return 0;
</font>}</pre>
</body>
</html>
