<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z5/Z5/student5800.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z5/Z5/student5800.cpp<p></p><pre>
/B16/17 (ZadaÄ‡a 5, Zadatak 5)
//Autotestovi by Berina Cocalic (mail: bcocalic1@etf.unsa.ba)
//Za autotestove se obracati *iskljucivo* osobi koja ih pise
#include &lt;iostream&gt;
#include &lt;list&gt;
#include &lt;stdexcept&gt;
#include &lt;algorithm&gt;
#include &lt;functional&gt;
#include &lt;vector&gt;
class Temperature{
    int m;
    int M;
    std::list&lt;int&gt;min,max;
    public:
    Temperature(int mi,int ma){
        if(mi&gt;ma)throw std::range_error("Nekorektne temperature");
    Temperature::m=mi;
    Temperature::M=ma;
    min.push_back(mi);
    max.push_back(ma);
    }
    void RegistrirajTemperature(std::pair&lt;int,int&gt; t);
    void BrisiSve();
    void BrisiNegativneTemperature();
    int DajBrojRegistriranihTemperatura()const{
        return min.size();
    }
    int DajMinimalnuTemperaturu();
    int DajMaksimalnuTemperaturu();
    int DajBrojTemperaturaVecihOd(int t)const;
    int DajBrojTemperaturaManjihOd(int t)const;
    friend bool operator !(Temperature &amp;t){
        return t.min.size()==0;
    }
<a name="8"></a><font color="#00FFFF"><a href="match153-1.html#8" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_1.gif"/></a>

    Temperature &amp;operator ++ () { 
         std::transform(min.begin(), min.end(),min.begin(), std::bind(std::plus&lt;int&gt;(), 1, std::placeholders::_1)); 
</font>         if(std::count_if(min.begin(),min.end(),std::bind(std::greater&lt;int&gt;(),std::placeholders::_1,Temperature::M))&gt;0)
         throw std::logic_error("Ilegalna operacija");
        return *this;
    }
<a name="0"></a><font color="#FF0000"><a href="match153-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_3.gif"/></a>

    Temperature &amp;operator --();
    Temperature operator ++(int);
    Temperature operator --(int);
    friend std::vector&lt;int&gt; operator *(const Temperature &amp;t);
    friend std::vector&lt;int&gt; operator -(const Temperature &amp;t);
    friend std::vector&lt;int&gt; operator +(const Temperature &amp;t);
    std::pair&lt;int,int&gt; operator [](int i)const;
    friend Temperature operator +(const Temperature &amp;x,int y);
</font>    friend Temperature operator -(const Temperature &amp;x,int y);
    friend Temperature operator +(int y,const Temperature &amp;x);
<a name="1"></a><font color="#00FF00"><a href="match153-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_2.gif"/></a>

    friend Temperature operator -(int y,const Temperature &amp;x);
    Temperature &amp;operator +=(int y);
    Temperature &amp;operator -=(int y);
    friend bool operator ==(const Temperature &amp;t1,const Temperature &amp;t2);
    friend bool operator !=(const Temperature &amp;t1,const Temperature &amp;t2);
    friend std::ostream &amp;operator &lt;&lt;(std::ostream &amp;cout,const Temperature &amp;t);
</font>};
<a name="9"></a><font color="#FF00FF"><a href="match153-1.html#9" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_1.gif"/></a>

void Temperature::RegistrirajTemperature(std::pair&lt;int,int&gt; t){
    if(t.first&gt;t.second || t.first&lt;Temperature::m || t.second&lt;Temperature::m || t.first&gt;Temperature::M || t.second&gt;Temperature::M )throw std::range_error("Nekorektne temperature");
</font><a name="6"></a><font color="#00FF00"><a href="match153-1.html#6" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_1.gif"/></a>

    min.push_back(t.first);
    max.push_back(t.second);
}
void Temperature::BrisiSve(){
    min.clear();
    max.clear();
}
void Temperature::BrisiNegativneTemperature(){
</font>    
}
int Temperature::DajMinimalnuTemperaturu(){
    if(min.size()==0)throw std::logic_error("Nema registriranih temperatura");
    return *min_element(min.begin(),min.end());
}
int Temperature::DajMaksimalnuTemperaturu(){
<a name="10"></a><font color="#FF0000"><a href="match153-1.html#10" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_1.gif"/></a>

    if(max.size()==0)throw std::logic_error("Nema registriranih temperatura");
    return *max_element(max.begin(),max.end());
}
int Temperature::DajBrojTemperaturaVecihOd(int t)const{
    if(min.size()==0)throw std::logic_error("Nema registriranih temperatura");
</font>    return std::count_if(min.begin(),min.end(),std::bind(std::less&lt;int&gt;(),t,std::placeholders::_1));
}
int Temperature::DajBrojTemperaturaManjihOd(int t)const{
    if(max.size()==0)throw std::logic_error("Nema registriranih temperatura");
    return std::count_if(max.begin(),max.end(),std::bind(std::less&lt;int&gt;(),std::placeholders::_1,t));
}
<a name="5"></a><font color="#FF0000"><a href="match153-1.html#5" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_1.gif"/></a>

Temperature &amp;Temperature::operator --(){
    std::transform(max.begin(), max.end(),max.begin(), std::bind(std::plus&lt;int&gt;(), -1, std::placeholders::_1)); 
</font>         if(std::count_if(max.begin(),max.end(),std::bind(std::greater&lt;int&gt;(),Temperature::m,std::placeholders::_1))&gt;0)
         throw std::logic_error("Ilegalna operacija");
        return *this;
}
Temperature Temperature::operator ++(int){
    Temperature pom(*this);
    std::transform(min.begin(), min.end(),min.begin(), std::bind(std::plus&lt;int&gt;(), 1, std::placeholders::_1)); 
         if(std::count_if(min.begin(),min.end(),std::bind(std::greater&lt;int&gt;(),std::placeholders::_1,Temperature::M))&gt;0)
         throw std::logic_error("Ilegalna operacija");
        return *this;
        return pom;
}
Temperature Temperature::operator --(int){
    Temperature pom(*this);
    std::transform(max.begin(), max.end(),max.begin(), std::bind(std::plus&lt;int&gt;(), -1, std::placeholders::_1)); 
         if(std::count_if(max.begin(),max.end(),std::bind(std::greater&lt;int&gt;(),Temperature::m,std::placeholders::_1))&gt;0)
         throw std::logic_error("Ilegalna operacija");
        return *this;
        return pom;
}
<a name="4"></a><font color="#FF00FF"><a href="match153-1.html#4" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_1.gif"/></a>

std::vector&lt;int&gt; operator *(const Temperature &amp;t){
    std::vector&lt;int&gt; v(t.DajBrojRegistriranihTemperatura());
    std::transform(t.max.begin(),t.max.end(),t.min.begin(),v.begin(),std::bind(std::minus&lt;int&gt;(),std::placeholders::_1,std::placeholders::_2));
</font><a name="2"></a><font color="#0000FF"><a href="match153-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_2.gif"/></a>

    return v;
}
std::vector&lt;int&gt; operator -(const Temperature &amp;t){
    std::vector&lt;int&gt; v(t.DajBrojRegistriranihTemperatura());
    std::transform(t.min.begin(),t.min.end(),v.begin(),std::bind(std::minus&lt;int&gt;(),std::placeholders::_1,t.m));
</font>    return v;
}
<a name="3"></a><font color="#00FFFF"><a href="match153-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_2.gif"/></a>

std::vector&lt;int&gt; operator +(const Temperature &amp;t){
    std::vector&lt;int&gt; v(t.DajBrojRegistriranihTemperatura());
    std::transform(t.max.begin(),t.max.end(),v.begin(),std::bind(std::minus&lt;int&gt;(),t.M,std::placeholders::_1));
    return v;
</font>}
std::pair&lt;int,int&gt; Temperature::operator [](int i)const{
    if(i&gt;DajBrojRegistriranihTemperatura())throw std::range_error("Neispravan indeks");
    auto a=this-&gt;min.begin();
    auto b=this-&gt;max.begin();
    std::advance(a,i-1);
    std::advance(b,i-1);
    return std::make_pair(*a,*b);
    
}
Temperature operator +(const Temperature &amp;x,int y){
    Temperature t=x;
<a name="11"></a><font color="#00FF00"><a href="match153-1.html#11" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_1.gif"/></a>

    std::transform(t.min.begin(), t.min.end(),t.min.begin(), std::bind(std::plus&lt;int&gt;(), y, std::placeholders::_1)); 
         if(std::count_if(t.min.begin(),t.min.end(),std::bind(std::greater&lt;int&gt;(),std::placeholders::_1,x.M))&gt;0)
</font>         throw std::logic_error("Prekoracen dozvoljeni opseg temperatura");
         std::transform(t.max.begin(), t.max.end(),t.max.begin(), std::bind(std::plus&lt;int&gt;(), y, std::placeholders::_1)); 
         if(std::count_if(t.max.begin(),t.max.end(),std::bind(std::greater&lt;int&gt;(),std::placeholders::_1,x.M))&gt;0)
         throw std::logic_error("Prekoracen dozvoljeni opseg temperatura");
        return t;
}
Temperature operator -(const Temperature &amp;x,int y){
    Temperature t=x;
<a name="12"></a><font color="#0000FF"><a href="match153-1.html#12" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_1.gif"/></a>

    std::transform(t.min.begin(), t.min.end(),t.min.begin(), std::bind(std::minus&lt;int&gt;(), std::placeholders::_1,y)); 
         if(std::count_if(t.min.begin(),t.min.end(),std::bind(std::greater&lt;int&gt;(),std::placeholders::_1,x.m))&gt;0)
</font>         throw std::logic_error("Prekoracen dozvoljeni opseg temperatura");
         std::transform(t.max.begin(), t.max.end(),t.max.begin(), std::bind(std::minus&lt;int&gt;(), y, std::placeholders::_1)); 
         if(std::count_if(t.max.begin(),t.max.end(),std::bind(std::greater&lt;int&gt;(),std::placeholders::_1,x.m))&gt;0)
         throw std::logic_error("Prekoracen dozvoljeni opseg temperatura");
        return t;
}
Temperature operator +(int y,const Temperature &amp;x){
    return x+y;
}
Temperature operator -(int y,const Temperature &amp;x){
    Temperature t=x;
    std::transform(x.min.begin(), x.min.end(),t.max.begin(), std::bind(std::minus&lt;int&gt;(),y, std::placeholders::_1)); 
    if(std::count_if(t.min.begin(),t.min.end(),std::bind(std::greater&lt;int&gt;(),std::placeholders::_1,x.m))&gt;0)
         throw std::logic_error("Prekoracen dozvoljeni opseg temperatura");
    std::transform(x.max.begin(), x.max.end(),t.min.begin(), std::bind(std::minus&lt;int&gt;(), y, std::placeholders::_1));
    if(std::count_if(t.max.begin(),t.max.end(),std::bind(std::greater&lt;int&gt;(),std::placeholders::_1,x.m))&gt;0)
         throw std::logic_error("Prekoracen dozvoljeni opseg temperatura");
    return t;
}
Temperature &amp;Temperature::operator +=(int y){
    std::transform(this-&gt;min.begin(), this-&gt;min.end(),this-&gt;min.begin(), std::bind(std::plus&lt;int&gt;(), y, std::placeholders::_1)); 
         if(std::count_if(this-&gt;min.begin(),this-&gt;min.end(),std::bind(std::greater&lt;int&gt;(),std::placeholders::_1,this-&gt;M))&gt;0)
         throw std::logic_error("Prekoracen dozvoljeni opseg temperatura");
         std::transform(this-&gt;max.begin(), this-&gt;max.end(),this-&gt;max.begin(), std::bind(std::plus&lt;int&gt;(), y, std::placeholders::_1)); 
         if(std::count_if(this-&gt;max.begin(),this-&gt;max.end(),std::bind(std::greater&lt;int&gt;(),std::placeholders::_1,this-&gt;M))&gt;0)
         throw std::logic_error("Prekoracen dozvoljeni opseg temperatura");
         return *this;
}
Temperature &amp;Temperature::operator -=(int y){
    std::transform(this-&gt;min.begin(), this-&gt;min.end(),this-&gt;min.begin(), std::bind(std::minus&lt;int&gt;(), std::placeholders::_1,y)); 
         if(std::count_if(this-&gt;min.begin(),this-&gt;min.end(),std::bind(std::greater&lt;int&gt;(),std::placeholders::_1,this-&gt;m))&gt;0)
         throw std::logic_error("Prekoracen dozvoljeni opseg temperatura");
         std::transform(this-&gt;max.begin(), this-&gt;max.end(),this-&gt;max.begin(), std::bind(std::minus&lt;int&gt;(), y, std::placeholders::_1)); 
         if(std::count_if(this-&gt;max.begin(),this-&gt;max.end(),std::bind(std::greater&lt;int&gt;(),std::placeholders::_1,this-&gt;m))&gt;0)
         throw std::logic_error("Prekoracen dozvoljeni opseg temperatura");
        return *this;
}
bool operator ==(const Temperature &amp;t1,const Temperature &amp;t2){
    if(t1.DajBrojRegistriranihTemperatura()!=t2.DajBrojRegistriranihTemperatura() || t1.m!=t2.m || t1.M!=t2.M )return false;
    return std::equal(t1.min.begin(),t1.min.end(),t2.min.begin()) &amp;&amp; std::equal(t1.max.begin(),t1.max.end(),t2.max.begin());
    
}
bool operator !=(const Temperature &amp;t1,const Temperature &amp;t2){
    if(t1.DajBrojRegistriranihTemperatura()==t2.DajBrojRegistriranihTemperatura() &amp;&amp; t1.m==t2.m &amp;&amp; t1.M==t2.M &amp;&amp; std::equal(t1.min.begin(),t1.min.end(),t2.min.begin()) &amp;&amp; std::equal(t1.max.begin(),t1.max.end(),t2.max.begin()) )return false;
    return true;
}
<a name="7"></a><font color="#0000FF"><a href="match153-1.html#7" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_1.gif"/></a>

std::ostream &amp;operator &lt;&lt;(std::ostream &amp;cout,const Temperature &amp;t){
    std::for_each(t.min.begin(),t.min.end(),[&amp;cout](int a){cout&lt;&lt;a&lt;&lt;" ";});
</font>    cout&lt;&lt;std::endl;
    std::for_each(t.max.begin(),t.max.end(),[&amp;cout](int a){cout&lt;&lt;a&lt;&lt;" ";});
    return cout;
}
int main ()
{
    Temperature t(-10,10);
    t.RegistrirajTemperature({5,8});
    //--t;
    std::cout&lt;&lt;t;
    t.BrisiNegativneTemperature();
    std::cout&lt;&lt;t;
    /*std::cout&lt;&lt;std::endl&lt;&lt;t.DajBrojRegistriranihTemperatura()&lt;&lt;std::endl;
    std::cout&lt;&lt;"minimalna "&lt;&lt;t.DajMinimalnuTemperaturu()&lt;&lt;std::endl;
    std::cout&lt;&lt;"maximalna "&lt;&lt;t.DajMaksimalnuTeperaturu()&lt;&lt;std::endl;
    std::cout&lt;&lt;"da vidimo "&lt;&lt;t.DajBrojTeperaturaVecihOd(1)&lt;&lt;std::endl;
    //t.BrisiSve();
    //t.Ispisi();
    std::cout&lt;&lt;!t;
    std::cout&lt;&lt;std::endl&lt;&lt;t.DajBrojRegistriranihTemperatura()&lt;&lt;std::endl;
    std::vector&lt;int&gt;v (+t);
    for(int x:v)std::cout&lt;&lt;x&lt;&lt;" ";
    std::cout&lt;&lt;std::endl;
    std::pair&lt;int,int&gt;po=t[2];
    std::cout&lt;&lt;po.first&lt;&lt;" "&lt;&lt;po.second;*/
	return 0;
}</pre>
</body>
</html>
