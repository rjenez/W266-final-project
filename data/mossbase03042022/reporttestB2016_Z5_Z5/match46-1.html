<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z5/Z5/student2117.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z5/Z5/student7197.cpp<p></p><pre>
<a name="0"></a><font color="#FF0000"><a href="match46-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_99.gif"/></a>

/B16/17 (ZadaÄ‡a 5, Zadatak 5)
//Autotestovi by Berina Cocalic (mail: bcocalic1@etf.unsa.ba)
//Za autotestove se obracati *iskljucivo* osobi koja ih pise
#include &lt;iostream&gt;
#include &lt;list&gt;
#include &lt;stdexcept&gt;
#include &lt;utility&gt;
#include &lt;algorithm&gt;
#include &lt;functional&gt;
#include &lt;iterator&gt; 
#include &lt;vector&gt; 


using namespace std;

class Temperature
{
    list&lt;int&gt; minimalne;
    list&lt;int&gt;maksimalne;
    int minPrag,maxPrag;

public:

    Temperature(int min, int max) {
        if(min&gt;max)throw range_error("Nekorektne temperature");
        //minimalne.push_back(min);
        //maksimalne.push_back(max);
        minPrag = min;
        maxPrag= max;
    }


    void RegistrirajTemperature(pair&lt;int,int&gt;p) {
        if(p.first&lt;minPrag || p.second&gt;maxPrag || p.first&gt;p.second) throw range_error("Nekorektne temperature");

        minimalne.push_back(p.first);
        maksimalne.push_back(p.second);
    }


    void BrisiSve() {
        minimalne.clear();
        maksimalne.clear();
    }

    void BrisiNegativneTemperature() {
        for(auto itMin=minimalne.begin(),itMax = maksimalne.begin(); itMin!=minimalne.end(); itMin++,itMax++) {
            if(*itMin&lt;0 &amp;&amp; *itMax&lt;0) {
                itMin = minimalne.erase(itMin);
                itMin--;
                itMax = maksimalne.erase(itMax);
                itMax--;
            }
        }
    }

    int DajBrojRegistriranihTemperatura()const {
        return minimalne.size();
    }


    int DajMinimalnuTemperaturu()const {
        if(DajBrojRegistriranihTemperatura()==0) throw logic_error("Nema registriranih temperatura");
        return *min_element(minimalne.begin(),minimalne.end());
    }
    int DajMaksimalnuTemperaturu()const {
        if(DajBrojRegistriranihTemperatura()==0) throw logic_error("Nema registriranih temperatura");
        return *max_element(minimalne.begin(),minimalne.end());
    }


    int DajBrojTemperatureVecihOd(int t)const {
        if(DajBrojRegistriranihTemperatura()==0) throw logic_error("Nema registriranih temperatura");
        return count_if(maksimalne.begin(),maksimalne.end(),bind(less&lt;int&gt;(),t,placeholders::_1));
    }

    int DajBrojTemperaturaManjihOd(int t)const {
        if(DajBrojRegistriranihTemperatura()==0) throw logic_error("Nema registriranih temperatura");
        return count_if(minimalne.begin(),minimalne.end(),bind(less&lt;int&gt;(),placeholders::_1,t));
    }

    bool operator!()const {
        return DajBrojRegistriranihTemperatura()==0;
    }

    Temperature&amp; operator++() {

        std::transform(minimalne.begin(),minimalne.end(), minimalne.begin(), bind(std::plus&lt;int&gt;(),placeholders::_1,1));
        vector&lt;int&gt; razlike;
        std::transform(maksimalne.begin(),maksimalne.end(), minimalne.begin(), back_inserter(razlike),std::minus&lt;int&gt;());

        if(count_if(razlike.begin(),razlike.end(),bind(greater&lt;int&gt;(),0,placeholders::_1))!=0) {
            std::transform(minimalne.begin(),minimalne.end(), minimalne.begin(), bind(std::minus&lt;int&gt;(),placeholders::_1,1));
            throw logic_error("Ilegalna operacija");
        }

        return *this;

    }

    /*
    friend Temperature operator++(Temperature&amp;t,int){
        Temperature pomocni(t);
        ++t;
        return pomocni;
    }*/

    Temperature operator++(int) {
        Temperature pomocni(*this);
        ++(*this);
        return pomocni;
    }

    Temperature&amp; operator--() {
        std::transform(maksimalne.begin(),maksimalne.end(), maksimalne.begin(), bind(std::minus&lt;int&gt;(),placeholders::_1,1));
        vector&lt;int&gt; razlike;
        std::transform(maksimalne.begin(),maksimalne.end(), minimalne.begin(), back_inserter(razlike),std::minus&lt;int&gt;());

        if(count_if(razlike.begin(),razlike.end(),bind(greater&lt;int&gt;(),0,placeholders::_1))!=0) {
            std::transform(minimalne.begin(),minimalne.end(), minimalne.begin(), bind(std::minus&lt;int&gt;(),placeholders::_1,1));
            throw logic_error("Ilegalna operacija");
        }

        return *this;
    }

    Temperature operator--(int) {
        Temperature pomocni(*this);
        --(*this);
        return pomocni;
    }

    vector&lt;int&gt; operator*()const {
        vector&lt;int&gt; razlike;
        std::transform(maksimalne.begin(),maksimalne.end(), minimalne.begin(), back_inserter(razlike),std::minus&lt;int&gt;());

        return razlike;
    }

    vector&lt;int&gt; operator+()const {
        vector&lt;int&gt;m;
        transform(maksimalne.begin(),maksimalne.end(),back_inserter(m),bind(minus&lt;int&gt;(),maxPrag,placeholders::_1));

        return m;
    }

    vector&lt;int&gt; operator-()const {
        vector&lt;int&gt;m;
        transform(minimalne.begin(),minimalne.end(),back_inserter(m),bind(minus&lt;int&gt;(),placeholders::_1,minPrag   ));

        return m;
    }


    pair&lt;int,int&gt; operator[](int indeks)const {
        if(indeks&lt;0||indeks&gt;minimalne.size()) throw range_error("Neispravan indeks");

        auto itMin = minimalne.begin();
        std::advance (itMin,indeks-1);


        auto itMax = maksimalne.begin();
        std::advance (itMax,indeks-1);

        return make_pair(*itMin, *itMax);

    }


    friend Temperature operator+(const Temperature&amp;x,int broj) {
        
        Temperature t(x);
        std::transform(t.minimalne.begin(),t.minimalne.end(), t.minimalne.begin(), bind(std::plus&lt;int&gt;(),placeholders::_1,broj));
        std::transform(t.maksimalne.begin(),t.maksimalne.end(), t.maksimalne.begin(), bind(std::plus&lt;int&gt;(),placeholders::_1,broj));



        vector&lt;int&gt; razlike;
        std::transform(t.maksimalne.begin(),t.maksimalne.end(), t.minimalne.begin(), back_inserter(razlike),std::minus&lt;int&gt;());

        if(count_if(razlike.begin(),razlike.end(),bind(greater&lt;int&gt;(),0,placeholders::_1))!=0) {
            std::transform(t.minimalne.begin(),t.minimalne.end(), t.minimalne.begin(), bind(std::minus&lt;int&gt;(),placeholders::_1,1));
            throw logic_error("Prekoracen dozvoljeni opseg temperatura");
        }
        
        return t;
    }

    friend Temperature operator+(int broj, const Temperature&amp;x) {
    
        return x+broj;
    }
    
    

    friend Temperature operator-(const Temperature&amp;x,int broj) {
        
        Temperature t(x);
        std::transform(t.minimalne.begin(),t.minimalne.end(), t.minimalne.begin(), bind(std::minus&lt;int&gt;(),placeholders::_1,broj));
        std::transform(t.maksimalne.begin(),t.maksimalne.end(), t.maksimalne.begin(), bind(std::minus&lt;int&gt;(),placeholders::_1,broj));



        vector&lt;int&gt; razlike;
        std::transform(t.maksimalne.begin(),t.maksimalne.end(), t.minimalne.begin(), back_inserter(razlike),std::minus&lt;int&gt;());

        if(count_if(razlike.begin(),razlike.end(),bind(greater&lt;int&gt;(),0,placeholders::_1))!=0) {
            std::transform(t.minimalne.begin(),t.minimalne.end(), t.minimalne.begin(), bind(std::minus&lt;int&gt;(),placeholders::_1,1));
            throw logic_error("Prekoracen dozvoljeni opseg temperatura");
        }
        
        return t;
    }

    friend Temperature operator-(int broj, const Temperature&amp;x) {
        
        //PROVJERI
          Temperature t(x);
        std::transform(x.minimalne.begin(),x.minimalne.end(), t.maksimalne.begin(), bind(std::minus&lt;int&gt;(),broj,placeholders::_1));
        std::transform(x.maksimalne.begin(),x.maksimalne.end(), t.minimalne.begin(), bind(std::minus&lt;int&gt;(),broj,placeholders::_1));

        
        return t;
    }

    friend Temperature&amp; operator+=(Temperature&amp;t,int broj){
        t=t+broj;
        return t;
    }


    friend Temperature&amp; operator-=(Temperature&amp;t,int broj){
        t=t-broj;
        return t;
    }


    friend bool operator==(const Temperature&amp;t1, const Temperature&amp;t2){
         vector&lt;int&gt; razlikeMax;
        std::transform(t1.maksimalne.begin(),t1.maksimalne.end(), t2.maksimalne.begin(), back_inserter(razlikeMax),std::minus&lt;int&gt;());
        vector&lt;int&gt; razlikeMin;
        std::transform(t1.minimalne.begin(),t1.minimalne.end(), t2.minimalne.begin(), back_inserter(razlikeMax),std::minus&lt;int&gt;());

        
        if(count_if(razlikeMax.begin(),razlikeMax.end(),bind(not_equal_to&lt;int&gt;(),0,placeholders::_1))!=0)
        return false;
        if(count_if(razlikeMin.begin(),razlikeMin.end(),bind(not_equal_to&lt;int&gt;(),0,placeholders::_1))!=0)
        return false;
        
        if(t1.minPrag!=t2.minPrag||t1.maxPrag!=t2.maxPrag) return false;
        
        
        return true;
    }
    
    friend bool operator !=(const Temperature&amp;t1, const Temperature&amp;t2){
        return !(t1==t2);   
    }
    
    
    friend ostream&amp; operator&lt;&lt;(ostream&amp;izlaz,const Temperature&amp;t){
         ostream_iterator&lt;int&gt; out_it (izlaz," ");
        std::copy ( t.minimalne.begin(),t.minimalne.end(), out_it );
        izlaz&lt;&lt;endl;
        std::copy ( t.maksimalne.begin(), t.maksimalne.end(), out_it );
        
        
        return izlaz;
    }
    
    

};
int main ()
{
   std::cout &lt;&lt; "Ovo je dummy AT, mora postojati. Testovi za ovaj zadatak jos nisu specificirani!" &lt;&lt; std::endl;
 Temperature t(1,50);
 
 t.RegistrirajTemperature(make_pair(10,20));
 t.RegistrirajTemperature(make_pair(8,40));
 t.RegistrirajTemperature(make_pair(19,50));
 
 cout&lt;&lt;t&lt;&lt;endl;
 t++;
 cout&lt;&lt;t&lt;&lt;endl;
 
 t--;
 cout&lt;&lt;t&lt;&lt;endl;
</font>    return 0;
}</pre>
</body>
</html>
