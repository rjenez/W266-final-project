<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z5/Z5/student1317.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z5/Z5/student1317.cpp<p></p><pre>
/B16/17 (ZadaÄ‡a 5, Zadatak 5)
//Autotestovi by Berina Cocalic (mail: bcocalic1@etf.unsa.ba)
//Za autotestove se obracati *iskljucivo* osobi koja ih pise
#include &lt;iostream&gt;
#include &lt;functional&gt;
#include &lt;algorithm&gt;
#include &lt;list&gt;
#include &lt;utility&gt;
#include &lt;stdexcept&gt;
#include &lt;iterator&gt;
#include &lt;vector&gt;

using namespace std;

class Temperature
{
    list&lt;int&gt; minimum;
    list&lt;int&gt; maksimum;
    int maks, min;
    
    public:
        explicit Temperature(int minimum, int maksimum) : maks(maksimum), min(minimum) { if(minimum&gt;maksimum) throw range_error("Nekorektne temperature"); }
        void RegistrirajTemperature(pair&lt;int, int&gt; par);
        void BrisiSve();
        void BrisiNegativneTemperature();
        int DajBrojRegistriranihTemperatura() const { return count_if(minimum.begin(), minimum.end(), bind(greater&lt;int&gt;(), placeholders::_1, min)); };
        int DajMinimalnuTemperaturu() const;
        int DajMaksimalnuTemperaturu() const;
        int DajBrojTemperaturaVecihOd(int temp) const;
        int DajBrojTemperaturaManjihOd(int temp) const;
        friend bool operator !(const Temperature &amp;t);
        friend Temperature &amp;operator ++(Temperature &amp;t);
		friend Temperature operator ++(Temperature &amp;t, int);
		friend Temperature &amp;operator --(Temperature &amp;t);
		friend Temperature operator --(Temperature &amp;t, int);
		friend vector&lt;int&gt; operator *(const Temperature &amp;t);
		friend vector&lt;int&gt; operator +(const Temperature &amp;t);
		friend vector&lt;int&gt; operator -(const Temperature &amp;t);
		const pair&lt;int, int&gt; operator [](int indeks) const;
		friend Temperature operator +(const Temperature &amp;t, int y);
<a name="10"></a><font color="#FF0000"><a href="match130-1.html#10" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_1.gif"/></a>

		friend Temperature operator -(const Temperature &amp;t, int y);
		/*friend Temperature &amp;operator +=(int y);
		friend Temperature &amp;operator -=(int y);*/
		friend Temperature operator +(const Temperature &amp;t1, const Temperature &amp;t2);
		friend Temperature operator -(const Temperature &amp;t1, const Temperature &amp;t2);
</font><a name="11"></a><font color="#00FF00"><a href="match130-1.html#11" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_1.gif"/></a>

		friend bool operator ==(const Temperature &amp;t1, const Temperature &amp;t2);
		friend bool operator !=(const Temperature &amp;t1, const Temperature &amp;t2);
</font>		friend ostream &amp;operator &lt;&lt;(ostream &amp;tok, const Temperature &amp;t2);
};

<a name="2"></a><font color="#0000FF"><a href="match130-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_2.gif"/></a>

void Temperature::RegistrirajTemperature(pair&lt;int, int&gt; par)
{
    if(par.first&gt;par.second || par.first&lt;min || par.second&lt;min || par.first&gt;maks || par.second&gt;maks) throw range_error("Nekorektne temperature");
    
    minimum.push_back(par.first);
    maksimum.push_back(par.second);
</font>}

void Temperature::BrisiSve()
{
    minimum.clear();
    maksimum.clear();
}

void Temperature::BrisiNegativneTemperature()
{
    auto pom(minimum.begin());
    ponovo:
    auto pom1(find_if(pom, minimum.end(), bind(less&lt;int&gt;(), placeholders::_1, 0)));
    
    if(pom1==minimum.end()) return;
    int n(distance(minimum.begin(), pom1));
    
    auto pom2(maksimum.begin());
    advance(pom2, n);
    if(*pom2&lt;0 &amp;&amp; *pom1&lt;0)
    {
        pom=minimum.erase(pom1);
        pom2=maksimum.erase(pom2);
        goto ponovo;
    }
    if(pom1!=minimum.end()) pom1++;
    else return;
    pom=pom1;
    goto ponovo;
}

int Temperature::DajMinimalnuTemperaturu() const
{
    if(distance(minimum.begin(), minimum.end())==0) throw logic_error("Nema registriranih temperatura");
    
    return *min_element(minimum.begin(), minimum.end());
}

int Temperature::DajMaksimalnuTemperaturu() const
{
    if(distance(minimum.begin(), minimum.end())==0) throw logic_error("Nema registriranih temperatura");
    
    return *max_element(maksimum.begin(), maksimum.end());
}

int Temperature::DajBrojTemperaturaVecihOd(int temp) const
{
    if(distance(minimum.begin(), minimum.end())==0) throw logic_error("Nema registriranih temperatura");
    
<a name="7"></a><font color="#0000FF"><a href="match130-1.html#7" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_1.gif"/></a>

    return count_if(minimum.begin(), minimum.end(), bind(greater&lt;int&gt;(), placeholders::_1, temp))+count_if(maksimum.begin(), maksimum.end(), bind(greater&lt;int&gt;(), placeholders::_1, temp));
</font>}

int Temperature::DajBrojTemperaturaManjihOd(int temp) const
{
    if(distance(minimum.begin(), minimum.end())==0) throw logic_error("Nema registriranih temperatura");
    
<a name="8"></a><font color="#00FFFF"><a href="match130-1.html#8" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_1.gif"/></a>

    return count_if(minimum.begin(), minimum.end(), bind(less&lt;int&gt;(), placeholders::_1, temp))+count_if(maksimum.begin(), maksimum.end(), bind(less&lt;int&gt;(), placeholders::_1, temp));
</font>}

bool operator !(const Temperature &amp;t)
{
    if(distance(t.minimum.begin(), t.minimum.end())==0) return true;
    return false;
}

Temperature &amp;operator ++(Temperature &amp;t)
{
<a name="1"></a><font color="#00FF00"><a href="match130-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_2.gif"/></a>

    transform(t.minimum.begin(), t.minimum.end(), t.minimum.begin(), bind(plus&lt;int&gt;(), placeholders::_1, 1));
    transform(t.maksimum.begin(), t.maksimum.end(), t.maksimum.begin(), bind(plus&lt;int&gt;(), placeholders::_1, 1));
</font>    if(t.DajBrojTemperaturaVecihOd(t.maks)&gt;0) throw logic_error("Ilegalna opcija");
    
    return t;
}

Temperature operator ++(Temperature &amp;t, int)
{
    Temperature pomocna(t);
    
<a name="3"></a><font color="#00FFFF"><a href="match130-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_2.gif"/></a>

    transform(t.minimum.begin(), t.minimum.end(), t.minimum.begin(), bind(plus&lt;int&gt;(), placeholders::_1, 1));
    transform(t.maksimum.begin(), t.maksimum.end(), t.maksimum.begin(), bind(plus&lt;int&gt;(), placeholders::_1, 1));
</font>    
    if(t.DajBrojTemperaturaVecihOd(t.maks)&gt;0) throw logic_error("Ilegalna opcija");
    
    return pomocna;
}

Temperature &amp;operator --(Temperature &amp;t)
{
<a name="4"></a><font color="#FF00FF"><a href="match130-1.html#4" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_2.gif"/></a>

    transform(t.minimum.begin(), t.minimum.end(), t.minimum.begin(), bind(minus&lt;int&gt;(), placeholders::_1, 1));
    transform(t.maksimum.begin(), t.maksimum.end(), t.maksimum.begin(), bind(minus&lt;int&gt;(), placeholders::_1, 1));
</font>    if(t.DajBrojTemperaturaManjihOd(t.min)&gt;0) throw logic_error("Ilegalna opcija");
    
    return t;
}

Temperature operator --(Temperature &amp;t, int)
{
<a name="0"></a><font color="#FF0000"><a href="match130-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_2.gif"/></a>

    Temperature pomocna(t);
    
    transform(t.minimum.begin(), t.minimum.end(), t.minimum.begin(), bind(minus&lt;int&gt;(), placeholders::_1, 1));
    transform(t.maksimum.begin(), t.maksimum.end(), t.maksimum.begin(), bind(minus&lt;int&gt;(), placeholders::_1, 1));
</font>    if(t.DajBrojTemperaturaManjihOd(t.min)&gt;0) throw logic_error("Ilegalna opcija");
    
    return pomocna;
}

vector&lt;int&gt; operator *(const Temperature &amp;t)
{
    vector&lt;int&gt; v(distance(t.minimum.begin(), t.minimum.end()));
    transform(t.maksimum.begin(), t.maksimum.end(), t.minimum.begin(), &amp;v[0], minus&lt;int&gt;());
    
    return v;
}

vector&lt;int&gt; operator +(const Temperature &amp;t)
{
    vector&lt;int&gt; v(distance(t.maksimum.begin(), t.maksimum.end()));
    transform(t.maksimum.begin(), t.maksimum.end(), &amp;v[0], bind(minus&lt;int&gt;(), t.maks, placeholders::_1));
    
    return v;
}

vector&lt;int&gt; operator -(const Temperature &amp;t)
{
    vector&lt;int&gt; v(distance(t.minimum.begin(), t.minimum.end()));
    transform(t.minimum.begin(), t.minimum.end(), &amp;v[0], bind(minus&lt;int&gt;(), placeholders::_1, t.min));
    
    return v;
}

const pair&lt;int, int&gt; Temperature::operator [](int indeks) const
{
    if(indeks&lt;1 || indeks&gt;distance(minimum.begin(), minimum.end())) throw range_error("Neispravan indeks");
    
    auto it1(minimum.begin());
    advance(it1, indeks-1);
    auto it2(maksimum.begin());
    advance(it2, indeks-1);
    
    return make_pair(*it1, *it2);
}

Temperature operator +(const Temperature &amp;t, int y)
{
    Temperature zbir(t.min, t.maks);
    
    transform(t.minimum.begin(), t.minimum.end(), zbir.minimum.begin(), bind(plus&lt;int&gt;(), placeholders::_1, y));
    transform(t.maksimum.begin(), t.maksimum.end(), zbir.maksimum.begin(), bind(plus&lt;int&gt;(), placeholders::_1, y));
    if(zbir.DajBrojTemperaturaVecihOd(zbir.maks)&gt;0) throw logic_error("Prekoracen dozvoljeni opseg temperatura");
    if(zbir.DajBrojTemperaturaManjihOd(zbir.min)&gt;0) throw logic_error("Prekoracen dozvoljeni opseg temperatura");
    
    return zbir;
}

Temperature operator -(const Temperature &amp;t, int y)
{
    Temperature razlika(t);
    
    transform(t.minimum.begin(), t.minimum.end(), razlika.minimum.begin(), bind(minus&lt;int&gt;(), placeholders::_1, y));
    transform(t.maksimum.begin(), t.maksimum.end(), razlika.maksimum.begin(), bind(minus&lt;int&gt;(), placeholders::_1, y));
    if(razlika.DajBrojTemperaturaVecihOd(razlika.maks)&gt;0) throw logic_error("Prekoracen dozvoljeni opseg temperatura");
    if(razlika.DajBrojTemperaturaManjihOd(razlika.min)&gt;0) throw logic_error("Prekoracen dozvoljeni opseg temperatura");
    
    return razlika;
}

/*Temperature &amp;operator +=(int y)
{
    auto it1(this-&gt;minimum.begin());
    auto it2(this-&gt;maksimum.begin());
    it1++; it2++;
    
    transform(it1, minimum.end(), it1, bind(plus&lt;int&gt;(), placeholders::_1, y));
    transform(it2, maksimum.end(), it2, bind(plus&lt;int&gt;(), placeholders::_1, y));
    if(this-&gt;DajBrojTemperaturaVecihOd(*maksimum.begin())&gt;0) throw logic_error("Prekoracen dozvoljeni opseg temperatura");
    if(this-&gt;DajBrojTemperaturaManjihOd(*minimum.begin())&gt;0) throw logic_error("Prekoracen dozvoljeni opseg temperatura");
    
    return *this;
}

Temperature &amp;operator -=(int y)
{
    auto it1(minimum.begin());
    auto it2(maksimum.begin());
    it1++; it2++;
    
    transform(it1, minimum.end(), it1, bind(minus&lt;int&gt;(), placeholders::_1, y));
    transform(it2, maksimum.end(), it2, bind(minus&lt;int&gt;(), placeholders::_1, y));
    if(this-&gt;DajBrojTemperaturaVecihOd(*maksimum.begin())&gt;0) throw logic_error("Prekoracen dozvoljeni opseg temperatura");
    if(this-&gt;DajBrojTemperaturaManjihOd(*minimum.begin())&gt;0) throw logic_error("Prekoracen dozvoljeni opseg temperatura");
    
    return *this;
}*/

Temperature operator +(const Temperature &amp;t1, const Temperature &amp;t2)
{
    if(distance(t1.minimum.begin(), t1.minimum.end())!=distance(t2.minimum.begin(), t2.minimum.end())) throw logic_error("Nemaju isti broj registrovanih temperatura");
    Temperature zbir(t1);
    
<a name="5"></a><font color="#FF0000"><a href="match130-1.html#5" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_2.gif"/></a>

    transform(zbir.minimum.begin(), zbir.minimum.end(), t2.minimum.begin(), zbir.minimum.begin(), plus&lt;int&gt;());
    transform(zbir.maksimum.begin(), zbir.maksimum.end(), t2.maksimum.begin(), zbir.maksimum.begin(), plus&lt;int&gt;());
</font>    if(zbir.DajBrojTemperaturaVecihOd(zbir.maks)&gt;0) throw logic_error("Prekoracen dozvoljeni opseg temperatura");
    if(zbir.DajBrojTemperaturaManjihOd(zbir.min)&gt;0) throw logic_error("Prekoracen dozvoljeni opseg temperatura");
    
    return zbir;
}

Temperature operator -(const Temperature &amp;t1, const Temperature &amp;t2)
{
    if(distance(t1.minimum.begin(), t1.minimum.end())!=distance(t2.minimum.begin(), t2.minimum.end())) throw logic_error("Nemaju isti broj registrovanih temperatura");
    Temperature razlika(t1);
    
<a name="6"></a><font color="#00FF00"><a href="match130-1.html#6" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_2.gif"/></a>

    transform(razlika.minimum.begin(), razlika.minimum.end(), t2.minimum.begin(), razlika.minimum.begin(), minus&lt;int&gt;());
    transform(razlika.maksimum.begin(), razlika.maksimum.end(), t2.maksimum.begin(), razlika.maksimum.begin(), minus&lt;int&gt;());
</font>    if(razlika.DajBrojTemperaturaVecihOd(razlika.maks)&gt;0) throw logic_error("Prekoracen dozvoljeni opseg temperatura");
    if(razlika.DajBrojTemperaturaManjihOd(razlika.min)&gt;0) throw logic_error("Prekoracen dozvoljeni opseg temperatura");
    
    return razlika;
}

bool operator ==(const Temperature &amp;t1, const Temperature &amp;t2)
{
<a name="9"></a><font color="#FF00FF"><a href="match130-1.html#9" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_1.gif"/></a>

    if(distance(t1.minimum.begin(), t1.minimum.end())==distance(t2.minimum.begin(), t2.minimum.end()) &amp;&amp; equal(t1.minimum.begin(), t1.minimum.end(), t2.minimum.begin()) &amp;&amp; equal(t1.maksimum.begin(), t1.maksimum.end(), t2.maksimum.begin())) return true;
</font><a name="9"></a><font color="#FF00FF"><a href="match130-1.html#9" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_1.gif"/></a>

    
</font>    return false;
}

bool operator !=(const Temperature &amp;t1, const Temperature &amp;t2)
{
    if(distance(t1.minimum.begin(), t1.minimum.end())==distance(t2.minimum.begin(), t2.minimum.end()) &amp;&amp; equal(t1.minimum.begin(), t1.minimum.end(), t2.minimum.begin()) &amp;&amp; equal(t1.maksimum.begin(), t1.maksimum.end(), t2.maksimum.begin())) return false;
    
    return true;
}

ostream &amp;operator &lt;&lt;(ostream &amp;tok, const Temperature &amp;t)
{
    ostream_iterator&lt;int&gt; izlaz(tok, " ");
    copy(t.minimum.begin(), t.minimum.end(), izlaz);
    tok &lt;&lt; endl;
    copy(t.maksimum.begin(), t.maksimum.end(), izlaz);
    return tok;
}


int main ()
{
	Temperature t(-10, 20);
	pair&lt;int, int&gt; par;
	par.first=-2;
	par.second=-1;
	t.RegistrirajTemperature(par);
	pair&lt;int, int&gt; par1;
	par1.first=-5;
	par1.second=-2;
	t.RegistrirajTemperature(par1);
	pair&lt;int, int&gt; par2;
	par2.first=-9;
	par2.second=-1;
	t.RegistrirajTemperature(par2);
	pair&lt;int, int&gt; par3;
	par3.first=-4;
	par3.second=-3;
	t.RegistrirajTemperature(par3);
	pair&lt;int, int&gt; par4;
	par4.first=-3;
	par4.second=-2;
	t.RegistrirajTemperature(par4);
	
	cout &lt;&lt; t.DajBrojRegistriranihTemperatura() &lt;&lt; endl;
/*	vector&lt;int&gt; v1(*t);
	for(auto x: v1) cout &lt;&lt; x &lt;&lt; " ";
	cout &lt;&lt; endl &lt;&lt; t.DajMinimalnuTemperaturu() &lt;&lt; endl &lt;&lt; t.DajMaksimalnuTemperaturu() &lt;&lt; endl &lt;&lt; t.DajBrojTemperaturaVecihOd(8) &lt;&lt; endl &lt;&lt; t.DajBrojTemperaturaManjihOd(12) &lt;&lt; endl;
	t=t-2;
	cout &lt;&lt; endl &lt;&lt; t.DajMinimalnuTemperaturu() &lt;&lt; endl &lt;&lt; t.DajMaksimalnuTemperaturu() &lt;&lt; endl &lt;&lt; t.DajBrojTemperaturaVecihOd(8) &lt;&lt; endl &lt;&lt; t.DajBrojTemperaturaManjihOd(12) &lt;&lt; endl;
	par1=t[2];
	cout &lt;&lt; t[2].first &lt;&lt; " " &lt;&lt; t[2].second &lt;&lt; endl;*/

    cout &lt;&lt; t &lt;&lt; endl;
	   
	t.BrisiNegativneTemperature();
	cout &lt;&lt; t;
	
	return 0;
}</pre>
</body>
</html>
