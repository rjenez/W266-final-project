<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z5/Z5/student8139.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z5/Z5/student3701.cpp<p></p><pre>
<a name="4"></a><font color="#FF00FF"><a href="match590-0.html#4" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_0.gif"/></a>

/B16/17 (ZadaÄ‡a 5, Zadatak 5)
//Autotestovi by Berina Cocalic (mail: bcocalic1@etf.unsa.ba)
//Za autotestove se obracati *iskljucivo* osobi koja ih pise
#include &lt;iostream&gt;
#include &lt;stdexcept&gt;
#include &lt;list&gt;
#include &lt;algorithm&gt;
#include &lt;functional&gt;
#include &lt;vector&gt;
#include &lt;utility&gt;

class Temperature {
    std::list&lt;int&gt; min;
    std::list&lt;int&gt; max;
    int min_dozvoljena,max_dozvoljena;
</font>    public:
    Temperature(int minimalna, int maksimalna);
    void RegistrirajTemperature(std::pair&lt;int,int&gt; t);
    void BrisiSve();
<a name="5"></a><font color="#FF0000"><a href="match590-0.html#5" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_0.gif"/></a>

    void BrisiNegativneTemperature();
    int DajBrojRegistriranihTemperatura() const;
    int DajMinimalnuTemperaturu() const;
    int DajMaksimalnuTemperaturu() const;
    int DajBrojTemperaturaVecihOd(int zadana) const;
    int DajBrojTemperaturaManjihOd(int zadana) const;
    friend bool operator !(Temperature t);
</font>    friend Temperature operator ++(Temperature &amp;t);
    friend Temperature operator ++(Temperature &amp;t, int);
    friend Temperature operator --(Temperature &amp;t);
    friend Temperature operator --(Temperature &amp;t, int);
    friend std::vector&lt;int&gt; operator * (const Temperature &amp;t);
    friend std::vector&lt;int&gt; operator - (const Temperature &amp;t);
    friend std::vector&lt;int&gt; operator + (const Temperature &amp;t);
    std::pair&lt;int,int&gt; operator [] (int index);
    friend Temperature operator +(Temperature t, int x);
    friend Temperature operator -(Temperature t, int x);
    friend Temperature operator +(Temperature t1, Temperature t2);
    friend Temperature operator -(Temperature ti, Temperature t2);
    Temperature &amp;operator +=(int x);
    Temperature &amp;operator -=(int x);
<a name="0"></a><font color="#FF0000"><a href="match590-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_1.gif"/></a>

    friend bool operator ==(const Temperature &amp;t1,const Temperature &amp;t2);
    friend bool operator !=(const Temperature &amp;t1, const Temperature &amp;t2);
    
    friend std::ostream &amp;operator &lt;&lt;(std::ostream &amp;ispisi, const Temperature &amp;t);
};
//KONSTRUKTOR
Temperature::Temperature(int minimalna, int maksimalna) { 
    if (minimalna&gt;maksimalna) throw std::range_error("Nekorektne temperature"); 
    min.push_back(minimalna);
</font>    max.push_back(maksimalna);
    min_dozvoljena=*(min.begin());
    max_dozvoljena=*(max.begin());
}
//DODAVANJE NOVIH DNEVNIH TEMPERATURA
void Temperature::RegistrirajTemperature(std::pair&lt;int,int&gt; t) {
    if (t.first&gt;t.second || t.first&lt;Temperature::min_dozvoljena || t.first&gt;Temperature::max_dozvoljena || t.second&lt;Temperature::min_dozvoljena|| t.second&gt;Temperature::max_dozvoljena) throw std::range_error("Nekorektne temperature");
    min.push_back(t.first);
    max.push_back(t.second);
}
//BRISANJE LISTI
void Temperature::BrisiSve() {
    min.erase(min.begin(), min.end());
    max.erase(max.begin(), max.end());
}
/*
void Temperature:BrisiNegativneTemperature() {
    
}*/
//PREBROJI ZA KOLIKO DANA SU UNESENE TEMPERATURE
int Temperature::DajBrojRegistriranihTemperatura() const {
    int parovi=std::count_if(min.begin(), min.end(), std::bind(std::less_equal&lt;int&gt;(),std::placeholders::_1,max_dozvoljena));
    return parovi;
}
//PRONALAZI NAJMANJU TEMPERATURU
int Temperature::DajMinimalnuTemperaturu() const {
    if (DajBrojRegistriranihTemperatura()==0) throw std::logic_error("Nema registriranih temperatura");
    auto temp=std::min_element(min.begin(), min.end());
    return *temp;
}
//PRONALAZI NAJVECU TEMPERATURU
int Temperature::DajMaksimalnuTemperaturu() const {
    if (DajBrojRegistriranihTemperatura()==0) throw std::logic_error("Nema registriranih temperatura");
    auto temp=std::max_element(max.begin(), max.end());
    return *temp;
}
//VRACA BROJ DANA U KOJIMA JE TEMP. BILA VECA OD ZADANE
int Temperature::DajBrojTemperaturaVecihOd(int zadana) const {
    if (DajBrojRegistriranihTemperatura()==0) throw std::logic_error("Nema registriranih temperatura");
    int veca_od=std::count_if(max.begin(), max.end(), std::bind(std::greater&lt;int&gt;(),std::placeholders::_1,zadana));
    return veca_od;
}
//VRACA BROJ DANA U KOJIMA JE TEMP. BILA MANJA OD ZADANE
int Temperature::DajBrojTemperaturaManjihOd(int zadana) const {
    if (DajBrojRegistriranihTemperatura()==0) throw std::logic_error("Nema registriranih temperatura");
    int manja_od=std::count_if(min.begin(), min.end(), std::bind(std::less&lt;int&gt;(),std::placeholders::_1,zadana));
    return manja_od;
}
//OPERATOR ZA PROVJERU DA LI JE UNESENA TEMPERATURA ZA BAR JEDAN DAN
bool operator !(Temperature t) {
    if (t.DajBrojRegistriranihTemperatura()==0) return true;
    return false;
}
//UVECAVA SVE MIN TEMPERATURE ZA 1, prefiksni
<a name="6"></a><font color="#00FF00"><a href="match590-0.html#6" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_0.gif"/></a>

Temperature operator ++(Temperature &amp;t) {
    std::transform(t.min.begin(), t.min.end(),t.min.begin(),std::bind(std::plus&lt;int&gt;(),1,std::placeholders::_1));
</font>    if (std::count_if(t.min.begin(), t.min.end(), std::bind(std::greater&lt;int&gt;(), std::placeholders::_1,t.max_dozvoljena))&gt;0) 
        throw std::logic_error("Ilegalna operacija");
    return t;
}

//UVECAVA SVE MIN TEMPERATURE ZA 1, postfiksni
Temperature operator ++(Temperature &amp;t, int) {
    Temperature pom(t);
    std::transform(t.min.begin(), t.min.end(),t.min.begin(),std::bind(std::plus&lt;int&gt;(),1,std::placeholders::_1));
    if (std::count_if(t.min.begin(), t.min.end(), std::bind(std::greater&lt;int&gt;(), std::placeholders::_1,t.max_dozvoljena))&gt;0) 
        throw std::logic_error("Ilegalna operacija");
    return pom;
}

//SMANJUJE SVE MAX TEMPERATURE ZA 1, prefiksni
<a name="7"></a><font color="#0000FF"><a href="match590-0.html#7" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_0.gif"/></a>

Temperature operator --(Temperature &amp;t) {
    std::transform(t.max.begin(), t.max.end(),t.max.begin(),std::bind(std::minus&lt;int&gt;(),std::placeholders::_1,1));
</font>    if (std::count_if(t.max.begin(), t.max.end(), std::bind(std::less&lt;int&gt;(), std::placeholders::_1,t.min_dozvoljena))&gt;0) 
        throw std::logic_error("Ilegalna operacija");
    return t;
}

//SMANJUJE SVE MAX TEMPERATURE ZA 1, postfiksni
Temperature operator --(Temperature &amp;t, int) {
    Temperature pom(t);
    std::transform(t.max.begin(), t.max.end(),t.max.begin(),std::bind(std::minus&lt;int&gt;(),std::placeholders::_1,1));
    if (std::count_if(t.max.begin(), t.max.end(), std::bind(std::less&lt;int&gt;(), std::placeholders::_1,t.min_dozvoljena))&gt;0) 
        throw std::logic_error("Ilegalna operacija");
    return pom;
}
//vraca razliku min i max temperature u vektoru
std::vector&lt;int&gt; operator *(const Temperature &amp;t){
    std::vector&lt;int&gt; razlika(t.DajBrojRegistriranihTemperatura());
<a name="3"></a><font color="#00FFFF"><a href="match590-0.html#3" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_0.gif"/></a>

    std::transform(t.max.begin(), t.max.end(), t.min.begin(), razlika.begin(), std::bind(std::minus&lt;int&gt;(), std::placeholders::_1, std::placeholders::_2));
</font>    return razlika;
}
//razlika minimalnih temperatura i min dozvoljene temperature
std::vector&lt;int&gt; operator -(const Temperature &amp;t) {
    std::vector&lt;int&gt; razlika(t.DajBrojRegistriranihTemperatura());
    std::transform(t.min.begin(), t.min.end(), razlika.begin(), std::bind(std::minus&lt;int&gt;(), std::placeholders::_1, t.min_dozvoljena));
    return razlika;
}
//razlika maximalnih temperatura i max dozvoljenje temperature
std::vector&lt;int&gt; operator +(const Temperature &amp;t) {
    std::vector&lt;int&gt; razlika(t.DajBrojRegistriranihTemperatura());
    std::transform(t.max.begin(), t.max.end(), razlika.begin(), std::bind(std::minus&lt;int&gt;(), t.max_dozvoljena, std::placeholders::_1));
    return razlika;
}
//OPERATOR VRACA TEMPERATURU ZA TAJ DAN, TJ ZADANI INDEX DANA
std::pair&lt;int,int&gt; Temperature::operator [] (int index) {
    if (index&gt;DajBrojRegistriranihTemperatura()) throw std::range_error("Neispranav index");
    std::pair&lt;int,int&gt; trazeni;
    auto prvi=this-&gt;min.begin();
    auto drugi=this-&gt;max.begin();
    std::advance(prvi,index-1);
    std::advance(drugi, index-1);
    trazeni=std::make_pair(*prvi,*drugi);
    return trazeni;
}
//SABIRA SVAKU TEMPERATURU ZA X
Temperature operator +(Temperature t, int x) {
    Temperature a=t;
<a name="2"></a><font color="#0000FF"><a href="match590-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_1.gif"/></a>

    std::transform(t.min.begin(), t.min.end(), a.min.begin(), std::bind(std::plus&lt;int&gt;(),x,std::placeholders::_1));
    std::transform(t.max.begin(), t.max.end(), a.max.begin(), std::bind(std::plus&lt;int&gt;(),x,std::placeholders::_1));
</font>    int M=t.max_dozvoljena;
    if (std::count_if(a.max.begin(), a.max.end(), std::bind(std::greater&lt;int&gt;(), std::placeholders::_1,M))&gt;0 || std::count_if(a.min.begin(), a.min.end(), std::bind(std::greater&lt;int&gt;(), std::placeholders::_1,M))&gt;0)
        throw std::logic_error("Prekoracen dozvoljeni opseg temperatura");
    return a;
}
//ODUZIMA OD SVAKE TEMPERATURE X
Temperature operator -(Temperature t, int x) {
    Temperature a=t;
    std::transform(t.min.begin(), t.min.end(), a.min.begin(), std::bind(std::minus&lt;int&gt;(),x,std::placeholders::_1));
    std::transform(t.max.begin(), t.max.end(), a.max.begin(), std::bind(std::minus&lt;int&gt;(),x,std::placeholders::_1));
    int m=t.min_dozvoljena;
    if (std::count_if(a.max.begin(), a.max.end(), std::bind(std::less&lt;int&gt;(), std::placeholders::_1,m))&gt;0 || std::count_if(a.min.begin(), a.min.end(), std::bind(std::less&lt;int&gt;(), std::placeholders::_1,m))&gt;0)
        throw std::logic_error("Prekoracen dozvoljeni opseg temperatura");
    return a;
}
//SABIRA DNEVNU MAX I MIN TEMPERATURU
Temperature operator +(Temperature t1, Temperature t2) {
    Temperature a=t1;
    std::transform(t1.min.begin(), t1.min.end(), t2.min.begin(), a.min.begin(), std::bind(std::plus&lt;int&gt;(), std::placeholders::_1, std::placeholders::_2));
    std::transform(t1.max.begin(), t1.max.end(), t2.max.begin(), a.max.begin(), std::bind(std::plus&lt;int&gt;(), std::placeholders::_1, std::placeholders::_2));
    int M=t1.max_dozvoljena;
    if (std::count_if(a.max.begin(), a.max.end(), std::bind(std::greater&lt;int&gt;(), std::placeholders::_1,M))&gt;0 || std::count_if(a.min.begin(), a.min.end(), std::bind(std::greater&lt;int&gt;(), std::placeholders::_1,M))&gt;0)
        throw std::logic_error("Prekoracen dozvoljeni opseg temperatura");
    return a;
}
//ODUZIMA DNEVNU MAX I MIN TEMPERATURU
Temperature operator -(Temperature t1, Temperature t2) {
    Temperature a(t1);
    std::transform(t1.min.begin(), t1.min.end(), t2.min.begin(), a.min.begin(), std::bind(std::minus&lt;int&gt;(), std::placeholders::_1, std::placeholders::_2));
    std::transform(t1.max.begin(), t1.max.end(), t2.max.begin(), a.max.begin(), std::bind(std::minus&lt;int&gt;(), std::placeholders::_1, std::placeholders::_2));
    int m=t1.min_dozvoljena;
    if (std::count_if(a.max.begin(), a.max.end(), std::bind(std::less&lt;int&gt;(), std::placeholders::_1,m))&gt;0 || std::count_if(a.min.begin(), a.min.end(), std::bind(std::less&lt;int&gt;(), std::placeholders::_1,m))&gt;0)
        throw std::logic_error("Prekoracen dozvoljeni opseg temperatura");
    return a;
}
//RADI ISTO STO I ++, SAMO REZULTAT SMIJESTA U POSTOJECU KLASU
Temperature &amp;Temperature::operator +=(int x) {
    std::transform(this-&gt;min.begin(), this-&gt;min.end(), this-&gt;min.begin(), std::bind(std::plus&lt;int&gt;(), x, std::placeholders::_1));
    if (std::count_if(this-&gt;min.begin(), this-&gt;min.end(), std::bind(std::greater&lt;int&gt;(), std::placeholders::_1, this-&gt;max_dozvoljena))&gt;0) 
        throw std::logic_error("Prekoracen dozvoljeni opseg temperatura");
    std::transform(this-&gt;max.begin(), this-&gt;max.end(), this-&gt;max.begin(), std::bind(std::plus&lt;int&gt;(), x, std::placeholders::_1));
    if (std::count_if(this-&gt;max.begin(), this-&gt;max.end(), std::bind(std::greater&lt;int&gt;(), std::placeholders::_1, this-&gt;max_dozvoljena))&gt;0) 
        throw std::logic_error("Prekoracen dozvoljeni opseg temperatura");
    return *this;
}
//RADI ISTO STO I --. REZULTAT SMJESI U POSTOJECU KLASU
Temperature &amp;Temperature::operator -=(int x) {
    std::transform(this-&gt;min.begin(), this-&gt;min.end(), this-&gt;min.begin(), std::bind(std::minus&lt;int&gt;(), std::placeholders::_1, x));
    if (std::count_if(this-&gt;min.begin(), this-&gt;min.end(), std::bind(std::less&lt;int&gt;(), std::placeholders::_1, this-&gt;min_dozvoljena))&gt;0) 
        throw std::logic_error("Prekoracen dozvoljeni opseg temperatura");
    std::transform(this-&gt;max.begin(), this-&gt;max.end(), this-&gt;max.begin(), std::bind(std::minus&lt;int&gt;(), std::placeholders::_1, x));
    if (std::count_if(this-&gt;max.begin(), this-&gt;max.end(), std::bind(std::less&lt;int&gt;(), std::placeholders::_1, this-&gt;min_dozvoljena))&gt;0) 
        throw std::logic_error("Prekoracen dozvoljeni opseg temperatura");
    return *this;
}
//POREDI DA LI SU DVIJE TEMPERATURE JEDNAKE, LISTE, BROJ PAROVA, I DOZVOLJENE TEMPERATURE
bool operator ==(const Temperature &amp;t1,const Temperature &amp;t2) {
    if (t1.min_dozvoljena==t2.min_dozvoljena &amp;&amp; t1.max_dozvoljena==t2.max_dozvoljena &amp;&amp; t1.DajBrojRegistriranihTemperatura()==t2.DajBrojRegistriranihTemperatura())
<a name="1"></a><font color="#00FF00"><a href="match590-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_1.gif"/></a>

        if (std::equal(t1.min.begin(), t1.min.end(), t1.min.begin(), std::equal_to&lt;int&gt;())==true &amp;&amp; std::equal(t1.max.begin(), t1.max.end(), t1.max.begin(), std::equal_to&lt;int&gt;())==true) return true;
</font><a name="1"></a><font color="#00FF00"><a href="match590-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_1.gif"/></a>

    return false;
</font>}
//AKO SU RAZLICITE TEMP, VRACA TRUE
bool operator !=(const Temperature &amp;t1, const Temperature &amp;t2) {
    if (t1.min_dozvoljena!=t2.min_dozvoljena || t1.max_dozvoljena!=t2.max_dozvoljena || t1.DajBrojRegistriranihTemperatura()!=t2.DajBrojRegistriranihTemperatura())
        if (std::equal(t1.min.begin(), t1.min.end(), t1.min.begin(), std::equal_to&lt;int&gt;())==false || std::equal(t1.max.begin(), t1.max.end(), t1.max.begin(), std::equal_to&lt;int&gt;())==false) return true;
    return false;
}
//ISPIS NA EKRAN
std::ostream &amp;operator &lt;&lt;(std::ostream &amp;ispisi, const Temperature &amp;t) {
    std::for_each(t.min.begin(), t.min.end(), [] (int x) { std::cout&lt;&lt;x&lt;&lt;" "; });
    std::cout&lt;&lt;std::endl;
    std::for_each(t.max.begin(), t.max.end(), [] (int x) { std::cout&lt;&lt;x&lt;&lt;" "; });
    std::cout&lt;&lt;std::endl;
    return ispisi;
}

int main ()
{
    try {
    Temperature a(12,46);
    a.RegistrirajTemperature(std::make_pair&lt;int,int&gt;(16,19));
    std::cout&lt;&lt;"Broj reg parova: "&lt;&lt;a.Temperature::DajBrojRegistriranihTemperatura()&lt;&lt;std::endl;
    std::cout&lt;&lt;a;
    a.RegistrirajTemperature(std::make_pair&lt;int,int&gt;(12,15));
    a.RegistrirajTemperature(std::make_pair&lt;int,int&gt;(13,24));
    a.RegistrirajTemperature(std::make_pair&lt;int,int&gt;(13,19));
    ++a;
    --a;
    std::cout&lt;&lt;"Nakon "&lt;&lt;a;
    Temperature b(a),c(a);
    b+=1;
std::cout&lt;&lt;"Nakon b: "&lt;&lt;b;
    std::vector&lt;int&gt; v(-a);
    for (int i=0; i&lt;v.size(); i++)
        std::cout&lt;&lt;v[i]&lt;&lt;" ";
  //  c=b-a;
  //  std::cout&lt;&lt;"Nakon a-b, c= "&lt;&lt;c;
    b=a++;
    std::cout&lt;&lt;"Nakon ++, a= "&lt;&lt;a;
    std::cout&lt;&lt;"Nakon ++, b= "&lt;&lt;b;
    b=a--;
    std::cout&lt;&lt;"Nakon --, a= "&lt;&lt;a;
    std::cout&lt;&lt;"Nakon --, b= "&lt;&lt;b;
    std::pair&lt;int,int&gt; clan(a[2]);
    std::cout&lt;&lt;clan.first&lt;&lt;" "&lt;&lt;clan.second;
    a.Temperature::BrisiSve();
    std::cout&lt;&lt;"nakon bris: "&lt;&lt;a.Temperature::DajBrojRegistriranihTemperatura()&lt;&lt;std::endl;
    std::cout&lt;&lt;"Radi.";
    }
    catch (std::logic_error a) {
        std::cout&lt;&lt;a.what()&lt;&lt;std::endl;
    }
    catch (std::range_error b) {
        std::cout&lt;&lt;b.what()&lt;&lt;std::endl;
    }
	return 0;
}</pre>
</body>
</html>
