<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z5/Z5/student3301.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z5/Z5/student8794.cpp<p></p><pre>
/B16/17 (ZadaÄ‡a 5, Zadatak 5)
//Autotestovi by Berina Cocalic (mail: bcocalic1@etf.unsa.ba)
//Za autotestove se obracati *iskljucivo* osobi koja ih pise
#include &lt;iostream&gt;
#include &lt;algorithm&gt;
#include &lt;list&gt;
#include &lt;utility&gt;
#include &lt;functional&gt;
#include &lt;iterator&gt;
#include &lt;vector&gt;

using namespace std::placeholders;

class Temperatura
{
    int min,max;
    std::list&lt;int&gt; temp_min;
    std::list&lt;int&gt; temp_max;
    std::vector&lt;bool&gt; temp_jednaki;
    void Test_jed () {
        temp_jednaki.resize(temp_max.size());
        std::transform(temp_min.begin(),temp_min.end(),temp_max.begin(),temp_jednaki.begin(),[](int t1,int t2) {
            return t1 &gt;= t2;
        });
    }
public:
    Temperatura (int min, int max) {
        if ( min &gt; max) throw std::range_error ("Nekorektne temperature");
        Temperatura::min = min;
        Temperatura::max = max;
    }
    void RegistrirajTemperature(std::pair&lt;int,int&gt; temp) {
        if (temp.first &gt; temp.second or temp.first &lt; min or temp.second &gt; max)
            throw std::range_error ("Nekorektne temperature");
        temp_max.push_back(temp.second);
        temp_min.push_back(temp.first);
    }
    void BrisiSve () {
        temp_max.clear();
        temp_min.clear();
    }
    void BrisiNegativneTemperature ();
    int DajBrojRegistriranihTemperatura () const {
        return temp_max.size();
    }
    int DajMinimalnuTemperaturu() const{
        if (temp_max.empty()) throw std::logic_error ("Nema registriranih temperatura");
        return *std::min_element(temp_min.begin(),temp_min.end(),std::less&lt;int&gt;());
    }
    int DajMaksimalnuTeperaturu() const{
        if (temp_max.empty()) throw std::logic_error ("Nema registriranih temperatura");
        return *std::max_element(temp_max.begin(),temp_max.end(),std::greater&lt;int&gt;());
    }
    int DajBrojTeperaturaManjihOd (int t) const{
        if (temp_max.empty()) throw std::logic_error ("Nema registriranih temperatura");
        return std::count_if (temp_min.begin(),temp_min.end(),std::bind(std::less&lt;int&gt;(),t,_1));
    }
    int DajBrojTeperaturaVecihOd (int t) const{
        if (temp_max.empty()) throw std::logic_error ("Nema registriranih temperatura");
        return std::count_if (temp_max.begin(),temp_max.end(),std::bind(std::greater&lt;int&gt;(),t,_1));
    }
    bool operator ! () const{
        return temp_max.empty();
    }
    Temperatura &amp;operator ++ ();
    Temperatura operator ++ (int);
    Temperatura operator -- (int);
    Temperatura &amp;operator -- () ;
    friend std::vector&lt;int&gt; operator * (const Temperatura &amp;t);
    std::vector&lt;int&gt; operator - () const;
    std::vector&lt;int&gt; operator + () const;
    const std::pair&lt;int,int&gt; operator [] (int index) const;
    friend Temperatura operator + (const Temperatura &amp;t,int broj);
<a name="3"></a><font color="#00FFFF"><a href="match708-0.html#3" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_1.gif"/></a>

    friend Temperatura operator + (int broj, const Temperatura &amp;t);
    friend Temperatura operator - (const Temperatura &amp;t,int broj);
    friend Temperatura operator - (int broj, const Temperatura &amp;t);
</font>    Temperatura &amp;operator += (int broj) {
        return *this = *this + broj;
    }
    Temperatura &amp;operator -= (int broj) {
        return *this = *this - broj;
    }
<a name="2"></a><font color="#0000FF"><a href="match708-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_1.gif"/></a>

    friend bool operator == (const Temperatura &amp;t1,const Temperatura &amp;t2);
    friend bool operator != (const Temperatura &amp;t1,const Temperatura &amp;t2);
    friend std::ostream &amp;operator &lt;&lt; (std::ostream &amp;tok,const Temperatura &amp;t);
</font>};
Temperatura &amp;Temperatura::operator ++ () {
        Test_jed();
        if(std::find(temp_jednaki.begin(),temp_jednaki.end(),true) != temp_jednaki.end())
            throw std::logic_error("Ilegalna operacija");
        std::transform(temp_min.begin(),temp_min.end(),temp_min.begin(),std::bind(std::plus&lt;int&gt;(),1,_1));
        return *this;
    }
Temperatura Temperatura::operator ++ (int) {
        Test_jed();
        if(std::find(temp_jednaki.begin(),temp_jednaki.end(),true) != temp_jednaki.end())
            throw std::logic_error("Ilegalna operacija");
        auto t(*this);
        std::transform(temp_min.begin(),temp_min.end(),temp_min.begin(),std::bind(std::plus&lt;int&gt;(),1,_1));
        return t;
    }
Temperatura Temperatura::operator -- (int) {
        Test_jed();
        if(std::find(temp_jednaki.begin(),temp_jednaki.end(),true) != temp_jednaki.end())
            throw std::logic_error("Ilegalna operacija");
        auto t(*this);
        std::transform(temp_max.begin(),temp_max.end(),temp_max.begin(),std::bind(std::minus&lt;int&gt;(),_1,1));
        return t;
    }
Temperatura &amp;Temperatura::operator -- () {
        Test_jed();
        if(std::find(temp_jednaki.begin(),temp_jednaki.end(),true) != temp_jednaki.end())
            throw std::logic_error("Ilegalna operacija");
        std::transform(temp_max.begin(),temp_max.end(),temp_max.begin(),std::bind(std::minus&lt;int&gt;(),_1,1));
        return *this;
    }
std::vector&lt;int&gt; Temperatura::operator - () const{
        std::vector&lt;int&gt; v1(temp_max.size());
<a name="6"></a><font color="#00FF00"><a href="match708-0.html#6" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_1.gif"/></a>

        std::transform(temp_min.begin(),temp_min.end(),v1.begin(),std::bind(std::minus&lt;int&gt;(),_1,min));
</font>        return v1;
    }

std::vector&lt;int&gt; Temperatura::operator + () const{
        std::vector&lt;int&gt; v1(temp_max.size());
        std::transform(temp_max.begin(),temp_max.end(),v1.begin(),std::bind(std::minus&lt;int&gt;(),max,_1));
        return v1;
    }
const std::pair&lt;int,int&gt; Temperatura::operator [] (int index) const{
<a name="0"></a><font color="#FF0000"><a href="match708-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_2.gif"/></a>

        if (index &lt; 1 or index &gt; temp_max.size()) throw std::range_error ("Neispravan index");
        auto it(temp_min.begin());
        auto it2(temp_max.begin());
        std::advance(it,index-1);
        std::advance(it2,index-1);
        return std::make_pair(*it,*it2);
</font>    }
void Temperatura::BrisiNegativneTemperature () {
        std::vector&lt;bool&gt; temp_jednaki;
        temp_jednaki.resize(temp_max.size());
        std::transform(temp_jednaki.begin(),temp_jednaki.end(),temp_max.begin(),temp_jednaki.begin(),[](int t1,int t2) {
            if (t1 &lt; 0 and t2 &lt; 0) return true;
            return false;
        });
        auto it = std::find(temp_jednaki.begin(),temp_jednaki.end(),true);
        if (it == temp_jednaki.end()) return;
        else {
            auto it_min(temp_min.begin());
            std::advance(it_min,std::distance(temp_jednaki.begin(),it));
            auto it_max(temp_max.begin());
            std::advance(it_max,std::distance(temp_jednaki.begin(),it));
            temp_max.erase(it_max);
            temp_min.erase(it_min);
            BrisiNegativneTemperature();
        }
    }

std::vector&lt;int&gt; operator *(const Temperatura &amp;t)
{
    std::vector&lt;int&gt; v1(t.temp_max.size());
    std::transform(t.temp_max.begin(),t.temp_max.end(),t.temp_min.begin(),v1.begin(),std::minus&lt;int&gt;());
    return v1;
}

Temperatura operator + (const Temperatura &amp;t,int broj)
{
    Temperatura t2(t.min,t.max);
    t2.temp_max.resize(t.temp_max.size());
    std::transform(t.temp_max.begin(),t.temp_max.end(),t2.temp_max.begin(),std::bind(std::plus&lt;int&gt;(),broj,_1));
    t2.temp_min.resize(t.temp_max.size());
    std::transform(t.temp_min.begin(),t.temp_min.end(),t2.temp_min.begin(),std::bind(std::plus&lt;int&gt;(),broj,_1));
    t2.Test_jed();
    if(std::find(t2.temp_jednaki.begin(),t2.temp_jednaki.end(),true) != t2.temp_jednaki.end())
        throw std::logic_error("Ilegalna operacija");
    return t2;
}
Temperatura operator + (int broj,const Temperatura &amp;t)
{
    Temperatura t2(t.min,t.max);
<a name="7"></a><font color="#0000FF"><a href="match708-0.html#7" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_1.gif"/></a>

    t2.temp_max.resize(t.temp_max.size());
    std::transform(t.temp_max.begin(),t.temp_max.end(),t2.temp_max.begin(),std::bind(std::plus&lt;int&gt;(),broj,_1));
</font>    t2.temp_min.resize(t.temp_max.size());
    std::transform(t.temp_min.begin(),t.temp_min.end(),t2.temp_min.begin(),std::bind(std::plus&lt;int&gt;(),broj,_1));
    t2.Test_jed();
    if(std::find(t2.temp_jednaki.begin(),t2.temp_jednaki.end(),true) != t2.temp_jednaki.end())
        throw std::logic_error("Ilegalna operacija");
    return t2;
}

Temperatura operator - (const Temperatura &amp;t,int broj)
{
    Temperatura t2(t.min,t.max);
    t2.temp_max.resize(t.temp_max.size());
    std::transform(t.temp_max.begin(),t.temp_max.end(),t2.temp_max.begin(),std::bind(std::minus&lt;int&gt;(),_1,broj));
    t2.temp_min.resize(t.temp_max.size());
    std::transform(t.temp_min.begin(),t.temp_min.end(),t2.temp_min.begin(),std::bind(std::minus&lt;int&gt;(),_1,broj));
    t2.Test_jed();
    if(std::find(t2.temp_jednaki.begin(),t2.temp_jednaki.end(),true) != t2.temp_jednaki.end())
        throw std::logic_error("Ilegalna operacija");
    return t2;
}

Temperatura operator -(int broj,const Temperatura &amp;t)
{
<a name="1"></a><font color="#00FF00"><a href="match708-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_1.gif"/></a>

    Temperatura t2(t.min,t.max);
    t2.temp_max.resize(t.temp_max.size());
    t2.temp_min.resize(t.temp_max.size());
    std::transform(t.temp_max.begin(),t.temp_max.end(),t2.temp_min.begin(),std::bind(std::minus&lt;int&gt;(),broj,_1));
</font>    std::transform(t.temp_min.begin(),t.temp_min.end(),t2.temp_max.begin(),std::bind(std::minus&lt;int&gt;(),broj,_1));
    t2.Test_jed();
    if(std::find(t2.temp_jednaki.begin(),t2.temp_jednaki.end(),true) != t2.temp_jednaki.end())
        throw std::logic_error("Ilegalna operacija");
    return t2;
}

bool operator == (const Temperatura &amp;t1,const Temperatura &amp;t2)
{
    if (t1.min != t2.min or t1.max != t2.max or t1.temp_max.size() != t2.temp_max.size()) return false;
<a name="4"></a><font color="#FF00FF"><a href="match708-0.html#4" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_1.gif"/></a>

    std::vector&lt;bool&gt; v1(t1.temp_max.size());
    std::transform(t1.temp_min.begin(),t1.temp_min.end(),t2.temp_min.begin(),v1.begin(),std::equal_to&lt;int&gt;());
</font>    if(std::find(v1.begin(),v1.end(),false) != v1.end())
        return false;
<a name="5"></a><font color="#FF0000"><a href="match708-0.html#5" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_1.gif"/></a>

    std::transform(t1.temp_max.begin(),t1.temp_max.end(),t2.temp_max.begin(),v1.begin(),std::equal_to&lt;int&gt;());
</font><a name="5"></a><font color="#FF0000"><a href="match708-0.html#5" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_1.gif"/></a>

    if(std::find(v1.begin(),v1.end(),false) != v1.end())
</font>        return false;
    return true;
}

std::ostream &amp;operator &lt;&lt; (std::ostream &amp;tok,const Temperatura &amp;t)
{
    if(t.temp_max.empty()) return tok;
    auto kraj1(t.temp_max.end());
    kraj1--;
    for_each(t.temp_max.begin(),kraj1,[&amp;](int x) {
        tok &lt;&lt; x &lt;&lt; ",";
    });
    tok &lt;&lt; *kraj1 &lt;&lt; std::endl;
    auto kraj2(t.temp_min.end());
    kraj2--;
    for_each(t.temp_min.begin(),kraj2,[&amp;](int x) {
        tok &lt;&lt; x &lt;&lt; ",";
    });
    tok &lt;&lt; *kraj2 &lt;&lt; std::endl;
    return tok;
}

int main ()
{
    Temperatura t(-20,20);
    t.RegistrirajTemperature(std::make_pair(-10,18));
    t.RegistrirajTemperature(std::make_pair(-9,-4));
    t.RegistrirajTemperature(std::make_pair(-12,11));
    t.RegistrirajTemperature(std::make_pair(-7,-2));
    t.RegistrirajTemperature(std::make_pair(-4,15));
    t.RegistrirajTemperature(std::make_pair(5,13));
    t.RegistrirajTemperature(std::make_pair(2,5));
    t.RegistrirajTemperature(std::make_pair(8,19));
    std::cout &lt;&lt; t &lt;&lt; std::endl;
    Temperatura t2(t);
    t2++;
    
    t2--;
    std::cout &lt;&lt; t2 &lt;&lt; std::endl;
    auto s = t[3];
    if (t2 == t) std::cout &lt;&lt; "iste su" &lt;&lt; std::endl;
    std::cout &lt;&lt; s.first &lt;&lt;" " &lt;&lt;s.second &lt;&lt; std::endl;
}</pre>
</body>
</html>
