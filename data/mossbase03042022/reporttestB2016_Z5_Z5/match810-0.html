<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z5/Z5/student4273.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z5/Z5/student4273.cpp<p></p><pre>
/B16/17 (Zadaća 5, Zadatak 5)
//Autotestovi by Berina Cocalic (mail: bcocalic1@etf.unsa.ba)
//Za autotestove se obracati *iskljucivo* osobi koja ih pise
#include &lt;iostream&gt;
#include &lt;list&gt;
#include &lt;stdexcept&gt;
#include &lt;utility&gt;
#include &lt;functional&gt;
#include &lt;algorithm&gt;
#include &lt;vector&gt;
#include &lt;iterator&gt;

using std::cin; using std::cout; using std::endl;

/*class Ispis {
    int el;
    public:
    Ispis(int::iterator x) : el(*x) { cout &lt;&lt; el; }
};*/

class Temperature {
    std::list&lt;int&gt; minimalne, maksimalne;
    int min_doz, max_doz;
    public:
    Temperature(int min, int maks);
<a name="0"></a><font color="#FF0000"><a href="match810-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_2.gif"/></a>

    void RegistrirajTemperature (std::pair&lt;int, int&gt; par_temp) {
        if (par_temp.first&lt;min_doz || par_temp.second&gt;max_doz || par_temp.first&gt;par_temp.second) throw std::range_error("Nekorektne temperature");
        minimalne.push_back(par_temp.first);
        maksimalne.push_back(par_temp.second);
    }
    void BrisiSve() { minimalne.clear(); maksimalne.clear(); }
</font>    void BrisiNegativneTemperture();
    int DajBrojRegistriranihTemperatura() { return minimalne.size()+maksimalne.size(); }
    int DajMinimalnuTemperaturu();
    int DajMaksimalnuTemperaturu();
    int DajBrojTemperaturaVecihOd(int temp);
    int DajBrojTemperaturaManjihOd(int temp);
    bool operator !(); //const Temperature &amp;t
    std::pair&lt;int,int&gt; operator [](int i) const;
    //Postfiksni
    friend Temperature operator ++(Temperature &amp;t, int);
    friend Temperature operator --(Temperature &amp;t, int);
    //Prefiksni
    friend Temperature &amp;operator ++(Temperature &amp;t);
    friend Temperature &amp;operator --(Temperature &amp;t);
    friend std::vector&lt;int&gt; operator *(Temperature &amp;t);
    friend std::vector&lt;int&gt; operator +(Temperature &amp;t);
    friend std::vector&lt;int&gt; operator -(Temperature &amp;t);
    friend Temperature operator+(Temperature t, int broj);
    friend Temperature operator -(Temperature t, int broj);
    friend Temperature operator+(int broj, Temperature t);
    friend Temperature operator -(int broj, Temperature t);
    friend std::ostream &amp;operator &lt;&lt; (std::ostream &amp;tok, const Temperature &amp;t);
};

Temperature::Temperature(int min, int maks) : minimalne(), maksimalne() {
    if (min&gt;maks) throw std::range_error("Nekorektne temperature");
    min_doz=min; max_doz=maks;
}
/*
void Temperature::BrisiNegativneTemperture() {
    auto it(maksimalne.begin());
    std::copy_if(minimalne.begin(), minimalne.end(), minimalne.begin() [&amp;it] (int x) { 
        auto it1(it);
        //cout &lt;&lt; x &lt;&lt; " " &lt;&lt; *it1 &lt;&lt; endl &lt;&lt; bool(x&lt;0) &lt;&lt; " " &lt;&lt; bool(*it1&lt;0) &lt;&lt; endl; 
        if (x&lt;0 &amp;&amp; (*it1)&lt;0) {
            it=
            return true;
        }
        return false; 
    });
    //std::remove_if(minimalne.begin(), minimalne.end(), std::bind(std::less&lt;int&gt;(), 0));
}*/

int Temperature::DajMinimalnuTemperaturu() {
<a name="6"></a><font color="#00FF00"><a href="match810-1.html#6" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_1.gif"/></a>

    if (minimalne.size()==0) throw std::logic_error("Nema registriranih temperatura");
    return *(std::min_element(minimalne.begin(), minimalne.end()));
}
int Temperature::DajMaksimalnuTemperaturu() {
</font><a name="5"></a><font color="#FF0000"><a href="match810-1.html#5" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_1.gif"/></a>

    if (maksimalne.size()==0) throw std::logic_error("Nema registriranih temperatura");
    return *(std::max_element(maksimalne.begin(), maksimalne.end()));
}

int Temperature::DajBrojTemperaturaVecihOd(int temp) {
</font>    if (minimalne.size()==0 &amp;&amp; maksimalne.size()==0) throw std::logic_error("Nema registriranih temperatura");
    //int br1(std::count_if(minimalne.begin(), minimalne.end(), [temp] (int x) { return x&gt;temp; }));
    //int br2(std::count_if(maksimalne.begin(), maksimalne.end(), [temp] (int x) { return x&gt;temp; }));
    int br1(std::count_if(minimalne.begin(), minimalne.end(), std::bind(std::greater&lt;int&gt;(), std::placeholders::_1, temp)));
    int br2(std::count_if(maksimalne.begin(), maksimalne.end(), std::bind(std::greater&lt;int&gt;(), std::placeholders::_1, temp)));
    return br1+br2;
}
int Temperature::DajBrojTemperaturaManjihOd(int temp) {
    if (minimalne.size()==0 &amp;&amp; maksimalne.size()==0) throw std::logic_error("Nema registriranih temperatura");
    //int br1(std::count_if(minimalne.begin(), minimalne.end(), [temp] (int x) { return x&lt;temp; }));
    //int br2(std::count_if(maksimalne.begin(), maksimalne.end(), [temp] (int x) { return x&lt;temp; }));
    int br1(std::count_if(minimalne.begin(), minimalne.end(), std::bind(std::less&lt;int&gt;(), std::placeholders::_1, temp)));
    int br2(std::count_if(maksimalne.begin(), maksimalne.end(), std::bind(std::less&lt;int&gt;(), std::placeholders::_1, temp)));
    return br1+br2;
}

bool Temperature::operator !() {
    if (minimalne.size()==0 &amp;&amp; maksimalne.size()==0) return true;
    return false; 
}
//Unarni operatori “++” i“−−”povećavaju sve minimalne odnosno smanjuju sve maksimalne dnevne temperature za jedinicu. 
//Oba ili samo jedan?
//Postfiksni
Temperature operator ++(Temperature &amp;t, int) {
    //Provjerimo da li ce doci do ilegalne operacije
    auto it(t.maksimalne.begin());
    int brojac_kriticnih(std::count_if(t.minimalne.begin(), t.minimalne.end(), std::bind(std::equal_to&lt;int&gt;(), std::placeholders::_1, *it++)));
    int brojac_kriticnih2(std::count_if(t.minimalne.begin(), t.minimalne.end(), std::bind(std::equal_to&lt;int&gt;(), std::placeholders::_1, t.max_doz-1)));
    if (brojac_kriticnih!=0 || brojac_kriticnih2!=0) throw std::logic_error("Ilegalna operacija");
    Temperature pomocni(t);
<a name="3"></a><font color="#00FFFF"><a href="match810-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_1.gif"/></a>

    std::transform(t.minimalne.begin(), t.minimalne.end(), t.minimalne.begin(), std::bind(std::plus&lt;int&gt;(), std::placeholders::_1, 1));
    //std::for_each(t.maksimalne.begin(), t.maksimalne.end(), std::bind(std::plus&lt;int&gt;(), std::placeholders::_1, 1));
    return pomocni;
}
Temperature operator --(Temperature &amp;t, int) {
    Temperature pomocni(t);
</font>    auto it(t.minimalne.begin());
    int brojac_kriticnih(std::count_if(t.maksimalne.begin(), t.maksimalne.end(), std::bind(std::equal_to&lt;int&gt;(), std::placeholders::_1, *it++)));
    int brojac_kriticnih2(std::count_if(t.minimalne.begin(), t.minimalne.end(), std::bind(std::equal_to&lt;int&gt;(), std::placeholders::_1, t.min_doz+1)));
<a name="4"></a><font color="#FF00FF"><a href="match810-1.html#4" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_1.gif"/></a>

    if (brojac_kriticnih!=0 || brojac_kriticnih2!=0) throw std::logic_error("Ilegalna operacija");
    //std::for_each(t.minimalne.begin(), t.minimalne.end(), std::bind(std::minus&lt;int&gt;(), std::placeholders::_1, 1));
    std::transform(t.maksimalne.begin(), t.maksimalne.end(), t.maksimalne.begin(), std::bind(std::minus&lt;int&gt;(), std::placeholders::_1, 1));
</font>    return pomocni;
}
//Prefiksni
Temperature &amp;operator ++(Temperature &amp;t) {
    //Provjerimo da li ce doci do ilegalne operacije
    auto it(t.maksimalne.begin());
    int brojac_kriticnih(std::count_if(t.minimalne.begin(), t.minimalne.end(), std::bind(std::equal_to&lt;int&gt;(), std::placeholders::_1, *it++)));
    int brojac_kriticnih2(std::count_if(t.minimalne.begin(), t.minimalne.end(), std::bind(std::equal_to&lt;int&gt;(), std::placeholders::_1, t.max_doz-1)));
    if (brojac_kriticnih!=0 || brojac_kriticnih2!=0) throw std::logic_error("Ilegalna operacija");
    std::transform(t.minimalne.begin(), t.minimalne.end(), t.minimalne.begin(), std::bind(std::plus&lt;int&gt;(), std::placeholders::_1, 1));
    //std::transform(t.maksimalne.begin(), t.maksimalne.end(), std::bind(std::plus&lt;int&gt;(), std::placeholders::_1, 1));
    return t;
}
Temperature &amp;operator --(Temperature &amp;t) {
    auto it(t.minimalne.begin());
    int brojac_kriticnih(std::count_if(t.maksimalne.begin(), t.maksimalne.end(), std::bind(std::equal_to&lt;int&gt;(), std::placeholders::_1, *it++)));
    int brojac_kriticnih2(std::count_if(t.minimalne.begin(), t.minimalne.end(), std::bind(std::equal_to&lt;int&gt;(), std::placeholders::_1, t.min_doz+1)));
    if (brojac_kriticnih!=0 || brojac_kriticnih2!=0) throw std::logic_error("Ilegalna operacija");
    //std::for_each(t.minimalne.begin(), t.minimalne.end(), std::bind(std::minus&lt;int&gt;(), std::placeholders::_1, 1));
    std::transform(t.maksimalne.begin(), t.maksimalne.end(), t.maksimalne.begin(), std::bind(std::minus&lt;int&gt;(), std::placeholders::_1, 1));
    return t;
}

std::vector&lt;int&gt; operator *(Temperature &amp;t) {
    std::vector&lt;int&gt; rez(t.minimalne.size()); //Ispravi ovo!
    std::list&lt;int&gt;::iterator it(t.minimalne.begin());
    std::transform(t.maksimalne.begin(), t.maksimalne.end(), rez.begin(), std::bind(std::minus&lt;int&gt;(), std::placeholders::_1, *it++));
    return rez;
}

std::vector&lt;int&gt; operator +(Temperature &amp;t) {
    std::vector&lt;int&gt; rez(t.maksimalne.size());
<a name="2"></a><font color="#0000FF"><a href="match810-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_2.gif"/></a>

    std::transform(t.maksimalne.begin(), t.maksimalne.end(), rez.begin(), std::bind(std::minus&lt;int&gt;(), t.max_doz, std::placeholders::_1));
    return rez;
}

std::vector&lt;int&gt; operator -(Temperature &amp;t) {
</font>    std::vector&lt;int&gt; rez(t.minimalne.size());
<a name="1"></a><font color="#00FF00"><a href="match810-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_2.gif"/></a>

    std::transform(t.minimalne.begin(), t.minimalne.end(), rez.begin(), std::bind(std::minus&lt;int&gt;(), std::placeholders::_1, t.min_doz));
    return rez;
}

std::pair&lt;int,int&gt; Temperature::operator [](int i) const {
</font>    if (i&lt;1 || i&gt;maksimalne.size()) throw std::range_error ("Neispravan indeks"); //Numeracija od 1
    std::vector&lt;int&gt; vek(minimalne.size());
    std::copy(minimalne.begin(), minimalne.end(), vek.begin());
    int min(vek[i-1]);
    std::copy(maksimalne.begin(), maksimalne.end(), vek.begin());
    int maks(vek[i-1]);
    auto temp(std::make_pair(min,maks));
    return temp;
}

/*std::ostream &amp;operator &lt;&lt;(std::ostream &amp;tok, const Temperature &amp;t) {
    //ovo treba izvesti bez petlji i pomoćnih funkcija
    std::for_each(t.minimalne.begin(), t.minimalne.end(), Ispis());
}*/
    
int main () {   
    Temperature temp(-40, 40);
    int min(0), maks(0);
    int n;
    cout &lt;&lt; "Koliko temperatura zelite unijeti? ";
    cin &gt;&gt; n;
    for (int i=0; i&lt;n; i++) {
        cout &lt;&lt; "Unesite minimalnu i maksimalnu temperaturu: ";
        cin &gt;&gt; min; cin &gt;&gt; maks;
        try {
            temp.RegistrirajTemperature(std::make_pair(min, maks));
        }
        catch(std::range_error i) {
            cout &lt;&lt; "Izuzetak: " &lt;&lt; i.what() &lt;&lt; endl;
        }
    }
    try {
    cout &lt;&lt; "Broj registriranih temperatura: " &lt;&lt; temp.DajBrojRegistriranihTemperatura() &lt;&lt; endl;
    cout &lt;&lt; "Najmanja zabiljezena temperatura: " &lt;&lt; temp.DajMinimalnuTemperaturu() &lt;&lt; endl;
    cout &lt;&lt; "Najveca zabiljezena temperatura: " &lt;&lt; temp.DajMaksimalnuTemperaturu() &lt;&lt; endl;
    cout &lt;&lt; "Broj temperatura vecih od 15: " &lt;&lt; temp.DajBrojTemperaturaVecihOd(15) &lt;&lt; endl;
    cout &lt;&lt; "Broj temperatura manjih od 15: " &lt;&lt; temp.DajBrojTemperaturaManjihOd(15) &lt;&lt; endl;
    //temp.BrisiNegativneTemperture();
    cout &lt;&lt; "Broj registriranih temperatura(obje pozitivne): " &lt;&lt; temp.DajBrojRegistriranihTemperatura() &lt;&lt; endl;
    cout &lt;&lt; "Broj registriranih temperatura: " &lt;&lt; temp.DajBrojRegistriranihTemperatura() &lt;&lt; endl;
	std::cout &lt;&lt; "Drugi par temperatura: " &lt;&lt;  temp[2].first &lt;&lt; " " &lt;&lt; temp[2].second &lt;&lt; endl;
	auto vek(+temp);
    for (int i=0; i&lt;vek.size(); i++)
        cout &lt;&lt; vek[i] &lt;&lt; " ";
    cout &lt;&lt; endl;
    auto vek2(-temp);
    for (int i=0; i&lt;vek2.size(); i++)
        cout &lt;&lt; vek2[i] &lt;&lt; " ";
    cout &lt;&lt; endl;
    auto vek3(*temp);
    for (int i=0; i&lt;vek3.size(); i++)
        cout &lt;&lt; vek3[i] &lt;&lt; " ";
    cout &lt;&lt; endl;
	temp++; 
	temp--;
	cout &lt;&lt; "Najmanja zabiljezena temperatura: " &lt;&lt; temp.DajMinimalnuTemperaturu() &lt;&lt; endl;
    cout &lt;&lt; "Najveca zabiljezena temperatura: " &lt;&lt; temp.DajMaksimalnuTemperaturu() &lt;&lt; endl;
    temp.BrisiSve();
    }
    catch (std::logic_error i) {
        cout &lt;&lt; i.what() &lt;&lt; endl;
    }
    catch (std::range_error i) {
        cout &lt;&lt; i.what() &lt;&lt; endl;
    }
	return 0;
}</pre>
</body>
</html>
