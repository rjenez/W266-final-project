<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z5/Z5/student4167.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z5/Z5/student8139.cpp<p></p><pre>
/B16/17 (ZadaÄ‡a 5, Zadatak 5)
//Autotestovi by Berina Cocalic (mail: bcocalic1@etf.unsa.ba)
//Za autotestove se obracati *iskljucivo* osobi koja ih pise
#include &lt;iostream&gt;
#include &lt;list&gt;
#include &lt;stdexcept&gt;
#include &lt;algorithm&gt;
#include &lt;functional&gt;
#include &lt;vector&gt;
#include &lt;iterator&gt;

class Temperature{
    std::list&lt;int&gt; minimalne;
    std::list&lt;int&gt; maximalne;
    int min_dozvoljena, max_dozvoljena;
    std::list&lt;int&gt;::iterator it1;
    std::list&lt;int&gt;::iterator it2;
public:
    Temperature(int minimalna, int maximalna);
    void RegistrirajTemperature(std::pair&lt;int,int&gt; dnevne);
    void BrisiNegativneTemperature();
    int DajBrojRegistriranihTemperatura() const;
    int DajMinimalnuTemperaturu() const;
    int DajMaksimalnuTeperaturu() const;
    int DajBrojTeperaturaVecihOd(int x) const;
    int DajBrojTeperaturaManjihOd(int x) const;
    friend bool operator !(Temperature &amp;temp);
    friend Temperature &amp;operator ++(Temperature &amp;temp);
    friend Temperature operator ++(Temperature &amp;temp, int);
    friend Temperature &amp;operator --(Temperature &amp;temp);
    friend Temperature operator --(Temperature &amp;temp, int);
    friend std::vector&lt;int&gt; operator *(Temperature &amp;temp);
    friend std::vector&lt;int&gt; operator +(Temperature &amp;temp);
    friend std::vector&lt;int&gt; operator -(Temperature &amp;temp);
    std::pair&lt;int,int&gt; operator [](int index) const;
    friend Temperature operator +(Temperature &amp;temp, int y);
    friend Temperature operator -(Temperature &amp;temp, int y);
    friend Temperature operator +(int x, Temperature &amp;temp);
    friend Temperature operator -(int x, Temperature &amp;temp);
    friend Temperature &amp;operator +=(Temperature &amp;temp1, const int y);
    friend Temperature &amp;operator -=(Temperature &amp;temp1, const int y);
<a name="1"></a><font color="#00FF00"><a href="match369-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_4.gif"/></a>

    friend bool operator ==(const Temperature &amp;temp1, const Temperature &amp;temp2);
    friend bool operator !=(const Temperature &amp;temp1, const Temperature &amp;temp2);
    friend std::ostream &amp;operator &lt;&lt;(std::ostream &amp;tok, const Temperature &amp;temp);
};

Temperature::Temperature(int minimalna, int maximalna){
    if(minimalna&gt;maximalna) throw std::range_error("Nekorektne temperature");
    min_dozvoljena=minimalna; max_dozvoljena=maximalna; 
}

void Temperature::RegistrirajTemperature(std::pair&lt;int,int&gt; dnevne){
    if(dnevne.first&lt;min_dozvoljena || dnevne.second&gt;max_dozvoljena || dnevne.first&gt;dnevne.second)
</font>        throw std::range_error("Nekorektne temperature");
    minimalne.push_back(dnevne.first); maximalne.push_back(dnevne.second);
    it1=minimalne.begin(); it2=maximalne.begin();
}

void Temperature::BrisiNegativneTemperature(){
    if(it1==minimalne.end() &amp;&amp; it2==maximalne.end()) return;
    if(*it1 &lt; 0 &amp;&amp; *it2 &lt; 0){ it1=minimalne.erase(it1); it2=maximalne.erase(it2); }
    else{ it1++; it2++; }
    Temperature::BrisiNegativneTemperature();
}

int Temperature::DajBrojRegistriranihTemperatura() const { return minimalne.size(); }

<a name="0"></a><font color="#FF0000"><a href="match369-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_6.gif"/></a>

int Temperature::DajMinimalnuTemperaturu() const{
    if(minimalne.size()==0) throw std::logic_error("Nema registriranih temperatura");
    return *(std::min_element(minimalne.begin(),minimalne.end()));
}

int Temperature::DajMaksimalnuTeperaturu() const{
    if(maximalne.size()==0) throw std::logic_error("Nema registriranih temperatura");
    return *(std::max_element(maximalne.begin(),maximalne.end()));
}

int Temperature::DajBrojTeperaturaVecihOd(int x) const{
    if(maximalne.size()==0) throw std::logic_error("Nema registriranih temperatura");
    return std::count_if(maximalne.begin(), maximalne.end(), std::bind(std::greater&lt;int&gt;(), std::placeholders::_1, x));
}

int Temperature::DajBrojTeperaturaManjihOd(int x) const{
    if(minimalne.size()==0) throw std::logic_error("Nema registriranih temperatura");
    return std::count_if(minimalne.begin(), minimalne.end(), std::bind(std::less&lt;int&gt;(), std::placeholders::_1, x));
</font>}

bool operator !(Temperature &amp;temp){
<a name="2"></a><font color="#0000FF"><a href="match369-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_1.gif"/></a>

    if(temp.maximalne.size()==0 &amp;&amp; temp.minimalne.size()==0) return true;
    return false;
}

Temperature &amp;operator ++(Temperature &amp;temp){
    std::transform(temp.minimalne.begin(), temp.minimalne.end(), temp.minimalne.begin(), std::bind(std::plus&lt;int&gt;(), std::placeholders::_1, 1));
</font>    if(*std::max_element(temp.minimalne.begin(),temp.minimalne.end()) &gt; temp.min_dozvoljena) throw std::logic_error("Ilegalna operacija"); 
    return temp;
}

Temperature operator ++(Temperature &amp;temp, int){
    Temperature pom(temp);
    ++temp;
<a name="4"></a><font color="#FF00FF"><a href="match369-0.html#4" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_1.gif"/></a>

    return pom;
}

Temperature &amp;operator --(Temperature &amp;temp){
    std::transform(temp.maximalne.begin(), temp.maximalne.end(), temp.maximalne.begin(), std::bind(std::minus&lt;int&gt;(), std::placeholders::_1, 1));
</font>    if(*std::min_element(temp.maximalne.begin(),temp.maximalne.end()) &lt; temp.min_dozvoljena) throw std::logic_error("Ilegalna operacija"); 
    return temp;
}

Temperature operator --(Temperature &amp;temp, int){
    Temperature pom(temp); --temp; return pom;
}

std::vector&lt;int&gt; operator *(Temperature &amp;temp){
    std::vector&lt;int&gt; rez;
    rez.resize(temp.maximalne.size());
<a name="5"></a><font color="#FF0000"><a href="match369-0.html#5" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_1.gif"/></a>

    std::transform(temp.maximalne.begin(), temp.maximalne.end(), temp.minimalne.begin(), rez.begin(), std::bind(std::minus&lt;int&gt;(), std::placeholders::_1, 0));
    return rez;
}

std::vector&lt;int&gt; operator +(Temperature &amp;temp){
</font>    std::vector&lt;int&gt; rez; auto pom(temp.max_dozvoljena);
    rez.resize(temp.maximalne.size());
<a name="6"></a><font color="#00FF00"><a href="match369-0.html#6" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_1.gif"/></a>

    std::transform(temp.maximalne.begin(), temp.maximalne.end(), temp.minimalne.begin(), rez.begin(), std::bind(std::minus&lt;int&gt;(), pom, std::placeholders::_1));
    return rez;
}

std::vector&lt;int&gt; operator -(Temperature &amp;temp){
</font>    std::vector&lt;int&gt; rez; auto pom(temp.min_dozvoljena);
    rez.resize(temp.minimalne.size());
    std::transform(temp.minimalne.begin(), temp.minimalne.end(), temp.maximalne.begin(), rez.begin(), std::bind(std::minus&lt;int&gt;(), std::placeholders::_1, pom));
    return rez;
}

std::pair&lt;int,int&gt; Temperature::operator [](int index) const{
    if(index&lt;1 || index&gt;minimalne.size()) throw std::range_error("Neispravan indeks");
    index--;
    auto min = minimalne.begin();
    std::advance(min, index);
    auto max = maximalne.begin();
    std::advance(max, index);
    return std::make_pair(*min,*max);
}

Temperature operator +(Temperature &amp;temp, int y){
    Temperature rez(temp.min_dozvoljena,temp.max_dozvoljena);
    rez.minimalne.resize(temp.minimalne.size()); rez.maximalne.resize(temp.maximalne.size());
    std::transform(temp.minimalne.begin(), temp.minimalne.end(), rez.minimalne.begin(), std::bind(std::plus&lt;int&gt;(), std::placeholders::_1, y));
    std::transform(temp.maximalne.begin(), temp.maximalne.end(), rez.maximalne.begin(), std::bind(std::plus&lt;int&gt;(), std::placeholders::_1, y));
    if(rez.DajMaksimalnuTeperaturu()&gt;rez.max_dozvoljena || rez.DajMinimalnuTemperaturu()&lt;rez.min_dozvoljena) 
        throw std::logic_error("Prekoracen dozvoljeni opseg temperatura");
    return rez;
}

Temperature operator -(Temperature &amp;temp, int y){
    Temperature rez(temp.min_dozvoljena,temp.max_dozvoljena);
    rez.minimalne.resize(temp.minimalne.size()); rez.maximalne.resize(temp.maximalne.size());
    std::transform(temp.minimalne.begin(), temp.minimalne.end(), rez.minimalne.begin(), std::bind(std::minus&lt;int&gt;(), std::placeholders::_1, y));
    std::transform(temp.maximalne.begin(), temp.maximalne.end(), rez.maximalne.begin(), std::bind(std::minus&lt;int&gt;(), std::placeholders::_1, y));
    if(rez.DajMaksimalnuTeperaturu()&gt;rez.max_dozvoljena || rez.DajMinimalnuTemperaturu()&lt;rez.min_dozvoljena) 
        throw std::logic_error("Prekoracen dozvoljeni opseg temperatura");
    return rez;
}

Temperature operator +(int x, Temperature &amp;temp){
    return temp+x;
}

Temperature operator -(int x, Temperature &amp;temp){
    Temperature rez(temp.min_dozvoljena,temp.max_dozvoljena);
    rez.minimalne.resize(temp.minimalne.size()); rez.maximalne.resize(temp.maximalne.size());
<a name="3"></a><font color="#00FFFF"><a href="match369-0.html#3" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_1.gif"/></a>

    std::transform(temp.minimalne.begin(), temp.minimalne.end(), rez.minimalne.begin(), std::bind(std::minus&lt;int&gt;(), x, std::placeholders::_1));
    std::transform(temp.maximalne.begin(), temp.maximalne.end(), rez.maximalne.begin(), std::bind(std::minus&lt;int&gt;(), x, std::placeholders::_1));
</font>    if(rez.DajMaksimalnuTeperaturu()&gt;rez.max_dozvoljena || rez.DajMinimalnuTemperaturu()&lt;rez.min_dozvoljena) 
        throw std::logic_error("Prekoracen dozvoljeni opseg temperatura");
    return rez;
}

bool operator ==(const Temperature &amp;temp1, const Temperature &amp;temp2){
    if(!(temp1.minimalne.size()==temp2.minimalne.size() &amp;&amp; temp1.maximalne.size()==temp2.maximalne.size())) return false;
    auto provjera_minimalnih = std::equal(temp1.minimalne.begin(), temp1.minimalne.end(), temp2.minimalne.begin(), std::equal_to&lt;int&gt;());
    auto provjera_maximalnih = std::equal(temp1.maximalne.begin(), temp1.maximalne.end(), temp2.maximalne.begin(), std::equal_to&lt;int&gt;());
    if(provjera_maximalnih==true &amp;&amp; provjera_minimalnih==true) return true;
    return false;
}

bool operator !=(const Temperature &amp;temp1, const Temperature &amp;temp2){
    return ! (temp1 == temp2);
}

std::ostream &amp;operator &lt;&lt;(std::ostream &amp;tok, const Temperature &amp;temp){
    std::ostream_iterator&lt;int&gt; vanjski(tok," ");
    std::copy(temp.minimalne.begin(), temp.minimalne.end(), vanjski);
    std::cout &lt;&lt; std::endl;
    std::copy(temp.maximalne.begin(), temp.maximalne.end(), vanjski);
    return tok;
}

Temperature &amp;operator +=(Temperature &amp;temp1, const int y){
    temp1=temp1+y;
    return temp1;
}

Temperature &amp;operator -=(Temperature &amp;temp1, const int y){
    temp1=temp1-y;
    return temp1;
}

int main ()
{
	//std::cout &lt;&lt; "I dalje radiiii";
	Temperature t(-10,50);
	t.RegistrirajTemperature(std::make_pair(-10,-10));
	t.RegistrirajTemperature(std::make_pair(-9,-4));
	t.RegistrirajTemperature(std::make_pair(10,30));
	t.RegistrirajTemperature(std::make_pair(1,4));
	
	Temperature t2(0,60);
	t2.RegistrirajTemperature(std::make_pair(2,3));
	t2.RegistrirajTemperature(std::make_pair(2,4));
	t2.RegistrirajTemperature(std::make_pair(35,44));
	t2.RegistrirajTemperature(std::make_pair(1,3));
	try{
	    //t++; 
	    //t--;
	    auto rez(t+11);
	    //for(int i=0; i&lt;rez.size(); i++)
	    std::cout &lt;&lt; rez;
	}
	catch(...){ std::cout &lt;&lt; "napokon belaj" &lt;&lt; std::endl; }
	
	//std::cout &lt;&lt; "MIN: " &lt;&lt; t.DajMinimalnuTemperaturu() &lt;&lt; " MAX: " &lt;&lt; t.DajMaksimalnuTeperaturu() ;
	/*auto rez(-t);
	for(int i=0; i&lt;rez.size(); i++){
	    std::cout &lt;&lt; rez[i] &lt;&lt; " " ;
	}*/
	//auto rez1(t[3]);
	//std::cout &lt;&lt; rez1.first &lt;&lt; " " &lt;&lt; rez1.second ;
	//auto c=1-t;
	//std::cout &lt;&lt; c;
	//std:: cout &lt;&lt; t.DajMinimalnuTemperaturu();
	//std::cout &lt;&lt; t.DajBrojTeperaturaVecihOd(20);
	//std::cout &lt;&lt; t;
	//auto vec = -t;
	//for(int i=0; i&lt;vec.size(); i++) std::cout &lt;&lt; vec[i] &lt;&lt; " ";
	//auto rez(t==t2);
	//std::cout &lt;&lt; rez;
	//t.BrisiNegativneTemperature();
	//std::cout &lt;&lt; t;
	return 0;
}</pre>
</body>
</html>
