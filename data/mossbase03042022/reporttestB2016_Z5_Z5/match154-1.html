<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z5/Z5/student3009.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z5/Z5/student1132.cpp<p></p><pre>
/B16/17 (ZadaÄ‡a 5, Zadatak 5)
//Autotestovi by Berina Cocalic (mail: bcocalic1@etf.unsa.ba)
//Za autotestove se obracati *iskljucivo* osobi koja ih pise
#include &lt;iostream&gt;
#include &lt;algorithm&gt;
#include &lt;functional&gt;
#include &lt;list&gt;
#include &lt;vector&gt;
#include &lt;iterator&gt;
class Temperature
{
    std::list&lt;int&gt; minimalne, maksimalne;
    int min, max;
  public:
    Temperature(int min, int max);
    void RegistrirajTemperature(std::pair&lt;int,int&gt; p);
    void BrisiSve();
    void BrisiNegativneTemperature();
    int DajBrojRegistriranihTemperatura() const;
    int DajMinimalnuTemperaturu() const;
    int DajMaksimalnuTemperaturu() const;
    int DajBrojTemperaturaVecihOd(int t) const;
    int DajBrojTemperaturaManjihOd(int t) const;
    bool operator!();
    Temperature&amp; operator++();
<a name="0"></a><font color="#FF0000"><a href="match154-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_4.gif"/></a>

    Temperature&amp; operator--();
    Temperature operator++(int);
    Temperature operator--(int);
    friend std::vector&lt;int&gt; operator*(const Temperature&amp; t);
    friend std::vector&lt;int&gt; operator-(const Temperature&amp; t);
    friend std::vector&lt;int&gt; operator+(const Temperature&amp; t);
    std::pair&lt;int,int&gt; operator[](int indeks) const;
    friend Temperature operator+(const Temperature&amp; t, int x);
</font>    friend Temperature operator+(int x, const Temperature&amp; t);
    friend Temperature operator-(const Temperature&amp; t, int x);
<a name="1"></a><font color="#00FF00"><a href="match154-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_3.gif"/></a>

    friend Temperature operator-(int x, const Temperature&amp; t);
    Temperature&amp; operator+=(int x);
    Temperature&amp; operator-=(int x);
    friend bool operator==(const Temperature&amp; t1, const Temperature&amp; t2);
    friend bool operator!=(const Temperature&amp; t1, const Temperature&amp; t2);
    friend std::ostream&amp; operator&lt;&lt;(std::ostream&amp; out, const Temperature&amp; t1);
</font>};

Temperature::Temperature(int min, int max)
{
  if(min &gt; max) throw std::range_error("Nekorektne temperature");
  this-&gt;min = min;
  this-&gt;max = max;
}
<a name="9"></a><font color="#FF00FF"><a href="match154-0.html#9" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_1.gif"/></a>

void Temperature::RegistrirajTemperature(std::pair&lt;int,int&gt; p)
{
  if( p.first &gt; p.second || p.first &lt; min || p.second &gt; max)
</font><a name="6"></a><font color="#00FF00"><a href="match154-0.html#6" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_1.gif"/></a>

    throw std::range_error("Nekorektne temperature");
  minimalne.push_back(p.first);
  maksimalne.push_back(p.second);
}
void Temperature::BrisiSve()
{
  minimalne.clear();
  maksimalne.clear();
}
void Temperature::BrisiNegativneTemperature()
</font>{
 auto it = std::find_if(maksimalne.begin(), maksimalne.end(), std::bind(std::less&lt;int&gt;(),std::placeholders::_1, 0));
 if(it == maksimalne.end()) return;
 int dist = std::distance(maksimalne.begin(), it);
 auto iter = minimalne.begin();
 std::advance(iter, dist);
  maksimalne.erase(it);
 minimalne.erase(iter);
 BrisiNegativneTemperature();
}
int Temperature::DajBrojRegistriranihTemperatura()const
{
  return maksimalne.size();
}
int Temperature::DajMinimalnuTemperaturu()const
{
  if(DajBrojRegistriranihTemperatura() == 0)
      throw std::logic_error("Nema registriranih temperatura");
  return *min_element(minimalne.begin(),minimalne.end());
}
int Temperature::DajMaksimalnuTemperaturu()const
{
<a name="10"></a><font color="#FF0000"><a href="match154-0.html#10" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_1.gif"/></a>

  if(DajBrojRegistriranihTemperatura() == 0)
    throw std::logic_error("Nema registriranih temperatura");
  return *max_element(maksimalne.begin(),maksimalne.end());
}
int Temperature::DajBrojTemperaturaVecihOd(int t)const
{
  if(DajBrojRegistriranihTemperatura() == 0)
</font>    throw std::logic_error("Nema registriranih temperatura");
  return std::count_if(minimalne.begin(),minimalne.end(),std::bind(std::greater&lt;int&gt;(),std::placeholders::_1,t));  
}
int Temperature::DajBrojTemperaturaManjihOd(int t)const
{
  if(DajBrojRegistriranihTemperatura() == 0)
    throw std::logic_error("Nema registriranih temperatura");
  return std::count_if(maksimalne.begin(),maksimalne.end(),std::bind(std::less&lt;int&gt;(), std::placeholders::_1, t));
}
bool Temperature::operator!()
{
  return DajBrojRegistriranihTemperatura() == 0;
}
<a name="8"></a><font color="#00FFFF"><a href="match154-0.html#8" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_1.gif"/></a>

Temperature&amp; Temperature::operator++()
{
  std::transform(minimalne.begin(),minimalne.end(),minimalne.begin(),std::bind(std::plus&lt;int&gt;(), std::placeholders::_1, 1));
</font>  std::vector&lt;bool&gt; b(DajBrojRegistriranihTemperatura());
  std::transform(minimalne.begin(),minimalne.end(),maksimalne.begin(),b.begin(),std::greater&lt;int&gt;());
  if(std::count(b.begin(),b.end(),true) != 0) 
  {
    std::transform(minimalne.begin(),minimalne.end(),minimalne.begin(),std::bind(std::minus&lt;int&gt;(), std::placeholders::_1, 1));
    throw std::logic_error("Ilegalna operacija");
  }
  return *this;
}
<a name="5"></a><font color="#FF0000"><a href="match154-0.html#5" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_1.gif"/></a>

Temperature&amp; Temperature::operator--()
{
  std::transform(maksimalne.begin(),maksimalne.end(),maksimalne.begin(),std::bind(std::minus&lt;int&gt;(), std::placeholders::_1, 1));
</font>  std::vector&lt;bool&gt; b(DajBrojRegistriranihTemperatura());
  std::transform(minimalne.begin(),minimalne.end(),maksimalne.begin(),b.begin(),std::greater&lt;int&gt;());
  if(std::count(b.begin(),b.end(),true) != 0) 
  {
    std::transform(maksimalne.begin(),maksimalne.end(),maksimalne.begin(),std::bind(std::plus&lt;int&gt;(), std::placeholders::_1, 1));
    throw std::logic_error("Ilegalna operacija");
  }
  return *this;
}
Temperature Temperature::operator++(int)
{
  return ++*this;
}
Temperature Temperature::operator--(int)
{
  return --*this;
}
<a name="4"></a><font color="#FF00FF"><a href="match154-0.html#4" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_2.gif"/></a>

std::vector&lt;int&gt; operator*(const Temperature&amp; t)
{
  std::vector&lt;int&gt; v(t.DajBrojRegistriranihTemperatura());
  std::transform(t.maksimalne.begin(),t.maksimalne.end(),t.minimalne.begin(),v.begin(),std::minus&lt;int&gt;());
</font><a name="2"></a><font color="#0000FF"><a href="match154-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_3.gif"/></a>

  return std::move(v);
}
std::vector&lt;int&gt; operator-(const Temperature&amp; t)
{
  std::vector&lt;int&gt; v(t.DajBrojRegistriranihTemperatura());
  std::transform(t.minimalne.begin(),t.minimalne.end(),v.begin(),std::bind(std::minus&lt;int&gt;(),std::placeholders::_1, t.min));
</font>  return std::move(v);
}
<a name="3"></a><font color="#00FFFF"><a href="match154-0.html#3" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_3.gif"/></a>

std::vector&lt;int&gt; operator+(const Temperature&amp; t)
{
  std::vector&lt;int&gt; v(t.DajBrojRegistriranihTemperatura());
  std::transform(t.maksimalne.begin(),t.maksimalne.end(),v.begin(),std::bind(std::minus&lt;int&gt;(),t.max, std::placeholders::_1));
  return std::move(v);
</font>}
<a name="7"></a><font color="#0000FF"><a href="match154-0.html#7" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_1.gif"/></a>

std::ostream&amp; operator&lt;&lt;(std::ostream&amp; out, const Temperature&amp; t)
{
  std::copy(t.minimalne.begin(),t.minimalne.end(),std::ostream_iterator&lt;int&gt;(out, " "));
</font>  std::cout&lt;&lt;std::endl;
  std::copy(t.maksimalne.begin(),t.maksimalne.end(),std::ostream_iterator&lt;int&gt;(out," "));
  std::cout&lt;&lt; std::endl;
  return out;
}
std::pair&lt;int,int&gt; Temperature::operator[](int indeks)const
{
  if(indeks &gt; DajBrojRegistriranihTemperatura() || indeks &lt; 1)
    throw std::range_error("Neispravan indeks");
  auto min_it = minimalne.begin(), max_it = maksimalne.begin();
  std::advance(min_it, indeks-1);
  std::advance(max_it, indeks-1);
  return {*min_it, *max_it};
}
Temperature operator+(const Temperature&amp; t, int x)
{
  Temperature novo(t);
  std::transform(novo.minimalne.begin(),novo.minimalne.end(),novo.minimalne.begin(),std::bind(std::plus&lt;int&gt;(), std::placeholders::_1, x));
<a name="12"></a><font color="#0000FF"><a href="match154-0.html#12" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_1.gif"/></a>

  std::transform(novo.maksimalne.begin(),novo.maksimalne.end(),novo.maksimalne.begin(),std::bind(std::plus&lt;int&gt;(), std::placeholders::_1, x));
  if(novo.DajMaksimalnuTemperaturu() &gt; novo.max || novo.DajMinimalnuTemperaturu() &lt; novo.min)
</font>      throw std::logic_error("Prekoracen dozvoljeni opseg temperatura");
  return novo;
}
Temperature operator+(int x, const Temperature&amp; t)
{
  return t + x;
}
Temperature operator-(const Temperature&amp; t, int x)
{
  Temperature novo(t);
  std::transform(novo.minimalne.begin(),novo.minimalne.end(),novo.minimalne.begin(),std::bind(std::minus&lt;int&gt;(),std::placeholders::_1, x));
  std::transform(novo.maksimalne.begin(),novo.maksimalne.end(),novo.maksimalne.begin(),std::bind(std::minus&lt;int&gt;(),std::placeholders::_1, x));
  if(novo.DajMaksimalnuTemperaturu() &gt; novo.max || novo.DajMinimalnuTemperaturu() &lt; novo.min)
    throw std::logic_error("Prekoracen dozvoljeni opseg temperatura");
  return novo;
}
Temperature operator-(int x, const Temperature&amp; t)
{
  Temperature novo(t);
  std::transform(t.minimalne.begin(),t.minimalne.end(),novo.maksimalne.begin(),std::bind(std::minus&lt;int&gt;(), x, std::placeholders::_1));
<a name="11"></a><font color="#00FF00"><a href="match154-0.html#11" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_1.gif"/></a>

  std::transform(t.maksimalne.begin(), t.maksimalne.end(), novo.minimalne.begin(),std::bind(std::minus&lt;int&gt;(),x,std::placeholders::_1));
  if(novo.DajMaksimalnuTemperaturu() &gt; novo.max || novo.DajMinimalnuTemperaturu() &lt; novo.min)
</font>    throw std::logic_error("Prekoracen dozvoljeni opseg temperatura");
  return novo;
}
Temperature&amp; Temperature::operator+=(int x)
{
  *this = *this + x;
  return *this;
}
Temperature&amp; Temperature::operator-=(int x)
{
  *this = *this - x;
  return *this;
}
bool operator==(const Temperature&amp; t1, const Temperature&amp; t2)
{
  return t1.min == t2.min &amp;&amp; t1.max == t2.max &amp;&amp; t1.minimalne == t2.minimalne &amp;&amp; t1.maksimalne == t2.maksimalne;
}
bool operator!=(const Temperature&amp; t1, const Temperature&amp; t2)
{
  return !(t1 == t2);
}
int main ()
{
  Temperature t(-54, 54);
  t.RegistrirajTemperature({1,2});
  t.RegistrirajTemperature({3,3});
  t.RegistrirajTemperature({-3,-1});
  t.RegistrirajTemperature({-43,-41});
  t.RegistrirajTemperature({-5,4});
  t.BrisiNegativneTemperature();
  std::cout&lt;&lt; t &lt;&lt; std::endl;
  try{++t; --t;}catch(...){}
  std::cout &lt;&lt; (t-=2);
  auto v(+t);
  Temperature t2(t+1);
  std::cout&lt;&lt; "\n"&lt;&lt;(t == t2)&lt;&lt;"-"&lt;&lt;(t!=t2)&lt;&lt;"\n";
  std::cout&lt;&lt; t[2].first&lt;&lt;" "&lt;&lt;t[2].second;
	return 0;
}</pre>
</body>
</html>
