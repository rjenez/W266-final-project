<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z5/Z5/student3331.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z5/Z5/student3331.cpp<p></p><pre>
/B16/17 (Zadaća 5, Zadatak 5)
//Autotestovi by Berina Cocalic (mail: bcocalic1@etf.unsa.ba)
//Za autotestove se obracati *iskljucivo* osobi koja ih pise
#include &lt;iostream&gt;
#include &lt;stdexcept&gt;
#include &lt;list&gt;
#include &lt;utility&gt;
#include &lt;algorithm&gt;
#include &lt;functional&gt;
#include &lt;iterator&gt;
#include &lt;vector&gt;




class Temperature {
    std::list&lt;int&gt; minimalneTemp {};
    std::list&lt;int&gt; maximalneTemp {}; 
     
     static bool provjraMaxMin(std::list&lt;int&gt; minimalna, std::list&lt;int&gt; maximalna) {
         auto br1 = std::count_if(minimalna.begin(), minimalna.end(), std::bind(std::less&lt;int&gt;(), std::placeholders::_1, *(minimalna.begin())));
         auto br2 = std::count_if(minimalna.begin(), minimalna.end(), std::bind(std::greater&lt;int&gt;(), std::placeholders::_1, *(maximalna.begin())));
         auto br3 = std::count_if(maximalna.begin(), maximalna.end(), std::bind(std::less&lt;int&gt;(), std::placeholders::_1, *(minimalna.begin())));
         auto br4 = std::count_if(maximalna.begin(), maximalna.end(), std::bind(std::greater&lt;int&gt;(), std::placeholders::_1, *(maximalna.begin())));
         if( br1 == 0 &amp;&amp; br2 == 0 &amp;&amp; br3 == 0 &amp;&amp; br4 == 0) return true;
         return false;
     }
   
   
    
    public:
    Temperature(int minimalna, int maximalna) {
        if( minimalna &gt; maximalna ) throw std::range_error("Nekorektne temperature");        //temperatura manja od minimalno dozvoljene ili veća od maksimalno dozvoljene ??, ili ukoliko je minimalna dnevna temperatura veća od maksimalne
        
        minimalneTemp.push_back(minimalna);
        maximalneTemp.push_back(maximalna);
    }
    
    void RegistrirajTemperature(const std::pair&lt;int,int&gt; temp) {
            if( temp.first &gt; temp.second || temp.first &lt; *(minimalneTemp.begin()) || temp.first &gt; *(maximalneTemp.begin()) || temp.second &lt; *(minimalneTemp.begin()) || temp.second &gt; *(maximalneTemp.begin())) throw std::range_error("Nekorektne temperature"); //temperatura manja od minimalno dozvoljene ili veća od maksimalno dozvoljene ??, ili ukoliko je minimalna dnevna temperatura veća od maksimalne
           minimalneTemp.push_back(temp.first);
           maximalneTemp.push_back(temp.second);
    }
    
    void BrisiSve()  {
        minimalneTemp.clear();
        maximalneTemp.clear();
    }
    
    void BrisiNegativneTemperature()   {
       auto it2 = maximalneTemp.begin();
       static auto i = minimalneTemp.begin();
      
       auto it = std::find_if(i, minimalneTemp.end(), std::bind(std::less&lt;int&gt;(),std::placeholders::_1, 0));
       if(it != minimalneTemp.end()) {
        
       int dis = std::distance(minimalneTemp.begin(),it);
       
       std::advance(it2,dis);
       if(*it2 &gt; 0) i++;
       if( *it2 &lt; 0) {
           
           minimalneTemp.erase(it);
           maximalneTemp.erase(it2);
       }
        BrisiNegativneTemperature();
        }
        
           
       }
   
    
    int DajBrojRegistriranihTemperatura() const {
        return std::distance(minimalneTemp.begin(),minimalneTemp.end());
    }
    
    int DajMinimalnuTemperaturu() const {
        if(std::distance(minimalneTemp.begin(),minimalneTemp.end()) == 0) throw std::logic_error("Nema registriranih temperatura");
       auto pomocna = *(std::min_element(minimalneTemp.begin(), minimalneTemp.end(), std::bind(std::less&lt;int&gt;(),std::placeholders::_1, std::placeholders::_2)));
        return pomocna;
    }
    
    int DajMaksimalnuTemperaturu() const {
        if(std::distance(maximalneTemp.begin(),maximalneTemp.end()) == 0) throw std::logic_error("Nema registriranih temperatura");
       auto pomocna = *(std::max_element(maximalneTemp.begin(), maximalneTemp.end(), std::bind(std::less&lt;int&gt;(),std::placeholders::_1,std::placeholders::_2)));
        return pomocna;
    }
    
   int DajBrojTemperaturaVecihOd( int temp) const {
        if( std::distance(minimalneTemp.begin(),minimalneTemp.end()) == 0) throw std::logic_error("Nema registriranih temperatura");
        int brojac1 = std::count_if(maximalneTemp.begin(), maximalneTemp.end(),std::bind(std::greater&lt;int&gt;(), std::placeholders::_1, temp));
        return brojac1;
    }
    
    int DajBrojTemperaturaManjihOd(int temp) const {
        if( std::distance(minimalneTemp.begin(),minimalneTemp.end()) == 0) throw std::logic_error("Nema registriranih temperatura");
        int brojac = std::count_if(minimalneTemp.begin(), minimalneTemp.end(), std::bind(std::greater&lt;int&gt;(),temp, std::placeholders::_1));
        return brojac;
    }

    // ! ++ -- &lt;&lt; + - += -= == != []
    friend bool operator !(const Temperature &amp;max);
    friend Temperature &amp;operator ++(Temperature &amp;max); // koji valja ++t?
    friend Temperature operator ++( Temperature &amp;max,int); //t++
    friend Temperature &amp;operator --(Temperature &amp;min);
    friend Temperature operator --(Temperature &amp;min,int);
    friend std::ostream &amp;operator &lt;&lt;(std::ostream &amp;tok, const Temperature &amp;t);
<a name="1"></a><font color="#00FF00"><a href="match528-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_1.gif"/></a>

    friend std::vector&lt;int&gt; operator *(const Temperature &amp;t);
    friend std::vector&lt;int&gt; operator +(const Temperature &amp;t);
    friend std::vector&lt;int&gt; operator -(const Temperature &amp;t);
    std::pair&lt;int,int&gt; operator [](int indeks) const;
    friend Temperature operator +(const Temperature &amp;t, int q);
</font>    friend Temperature operator -(const Temperature &amp;t, int q);
    friend Temperature operator +(int q, const Temperature &amp;t);
    friend Temperature operator -(int q, const Temperature &amp;t);
    Temperature &amp;operator +=( int q);
    Temperature &amp;operator -=( int q);
    friend bool operator ==(const Temperature &amp;p, const Temperature &amp;q);
    friend inline bool operator !=(const Temperature &amp;p, const Temperature &amp;q);
    
};

  bool operator !(const Temperature &amp;max) {
      auto br = std::distance(max.minimalneTemp.begin(),max.minimalneTemp.end());
      if(br != 0) return false;
      return true;
  }
  
  Temperature &amp;operator ++(Temperature &amp;max) {
     std::transform(max.minimalneTemp.begin(), max.minimalneTemp.end(),max.minimalneTemp.begin(), std::bind(std::plus&lt;int&gt;(),std::placeholders::_1,1));
     std::transform(max.maximalneTemp.begin(), max.maximalneTemp.end(), max.maximalneTemp.begin(), std::bind(std::plus&lt;int&gt;(),std::placeholders::_1,1));
     
     if(!Temperature::provjraMaxMin(max.minimalneTemp, max.maximalneTemp)) throw std::logic_error("Ilegalna operacija");            // il samo minimalne i max svega
     return max;
     
  }
  
  Temperature operator ++( Temperature &amp;max,int) {
      std::transform(max.minimalneTemp.begin(), max.minimalneTemp.end(),max.minimalneTemp.begin(), std::bind(std::plus&lt;int&gt;(),std::placeholders::_1,1));
      std::transform(max.maximalneTemp.begin(), max.maximalneTemp.end(), max.maximalneTemp.begin(), std::bind(std::plus&lt;int&gt;(),std::placeholders::_1,1));
      
       if(!Temperature::provjraMaxMin(max.minimalneTemp, max.maximalneTemp)) throw std::logic_error("Ilegalna operacija");   //ko gore
    
     return max;
    
  }
  
  Temperature &amp;operator --(Temperature &amp;min) {
      std::transform(min.minimalneTemp.begin(), min.minimalneTemp.end(), min.minimalneTemp.begin(), std::bind(std::minus&lt;int&gt;(),std::placeholders::_1,1));
      std::transform(min.maximalneTemp.begin(), min.maximalneTemp.end(), min.maximalneTemp.begin(), std::bind(std::minus&lt;int&gt;(),std::placeholders::_1,1));
      
       if(!Temperature::provjraMaxMin(min.minimalneTemp, min.maximalneTemp)) throw std::logic_error("Ilegalna operacija"); //isto
      return min;
  }
  
  Temperature operator --(Temperature &amp;min,int) {
      std::transform(min.minimalneTemp.begin(), min.minimalneTemp.end(), min.minimalneTemp.begin(), std::bind(std::minus&lt;int&gt;(),std::placeholders::_1,1));
      std::transform(min.maximalneTemp.begin(), min.maximalneTemp.end(), min.maximalneTemp.begin(), std::bind(std::minus&lt;int&gt;(),std::placeholders::_1,1));
      
      if(!Temperature::provjraMaxMin(min.minimalneTemp, min.maximalneTemp)) throw std::logic_error("Ilegalna operacija");  //isto
      return min;
  }

<a name="0"></a><font color="#FF0000"><a href="match528-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_1.gif"/></a>

  std::vector&lt;int&gt; operator *(const Temperature &amp;t) {
      std::vector&lt;int&gt; razlika(t.minimalneTemp.size());
      std::transform(t.minimalneTemp.begin(), t.minimalneTemp.end(), t.maximalneTemp.begin(), razlika.begin(),std::minus&lt;int&gt;());
</font>      
      std::transform(razlika.begin(),razlika.end(), razlika.begin(), std::bind(std::multiplies&lt;int&gt;(), std::placeholders::_1,-1));
      razlika.erase(razlika.begin());
      
      return razlika;
  }
  
<a name="4"></a><font color="#FF00FF"><a href="match528-1.html#4" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_0.gif"/></a>

  std::vector&lt;int&gt; operator +(const Temperature &amp;t) {
      std::vector&lt;int&gt; maxa(t.minimalneTemp.size());
      std::transform(t.maximalneTemp.begin(), t.maximalneTemp.end(), maxa.begin(), std::bind(std::minus&lt;int&gt;(),  std::placeholders::_1, *(t.maximalneTemp.begin())));
</font>      maxa.erase(maxa.begin());
      return maxa;
  }
  
<a name="5"></a><font color="#FF0000"><a href="match528-1.html#5" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_0.gif"/></a>

  std::vector&lt;int&gt; operator -(const Temperature &amp;t) {
      std::vector&lt;int&gt; mina(t.minimalneTemp.size());
      std::transform(t.minimalneTemp.begin(), t.minimalneTemp.end(), mina.begin(), std::bind(std::minus&lt;int&gt;(),  std::placeholders::_1, *(t.minimalneTemp.begin())));
</font>      mina.erase(mina.begin());
      return mina;
  }
  
  std::pair&lt;int,int&gt; Temperature::operator [](int indeks) const {
      if( indeks &gt; std::distance(maximalneTemp.begin(), maximalneTemp.end())+1) throw std::range_error("Neispravan indeks");
      
      auto i = minimalneTemp.begin();
      auto j = maximalneTemp.begin();
      std::advance(i, indeks-1);
      std::advance(j, indeks-1);
      std::pair&lt;int,int&gt; paric(std::make_pair(*i,*j));
      return paric;
      
  }
  
  Temperature operator +(const Temperature &amp;t, int q ) {
      Temperature p(t);
      std::transform(p.minimalneTemp.begin(), p.minimalneTemp.end(), p.minimalneTemp.begin(), std::bind(std::plus&lt;int&gt;(), std::placeholders::_1, q));
      std::transform(p.maximalneTemp.begin(), p.maximalneTemp.end(), p.maximalneTemp.begin(), std::bind(std::plus&lt;int&gt;(), std::placeholders::_1, q));
      
    auto kraj = std::find_if(p.minimalneTemp.begin(), p.minimalneTemp.end(), std::bind(std::less&lt;int&gt;(), std::placeholders::_1, *(p.minimalneTemp.begin())));
    if(kraj != p.minimalneTemp.end()) throw std::logic_error("Prekoracen dozvoljeni opseg temperatura");
    auto josnijekraj = std::find_if(p.maximalneTemp.begin(), p.maximalneTemp.end(), std::bind(std::greater&lt;int&gt;(), std::placeholders::_1, *(p.maximalneTemp.begin())));
    if(josnijekraj != p.maximalneTemp.end()) throw std::logic_error("Prekoracen dozvoljeni opseg temperatura");
      
      return p;
  }
  
  Temperature operator -(const Temperature &amp;t, int q) {
  Temperature p(t);
  std::transform(p.minimalneTemp.begin(), p.minimalneTemp.end(), p.minimalneTemp.begin(), std::bind(std::minus&lt;int&gt;(), std::placeholders::_1, q));
  std::transform(p.maximalneTemp.begin(), p.maximalneTemp.end(), p.maximalneTemp.begin(), std::bind(std::minus&lt;int&gt;(), std::placeholders::_1, q));
  
    auto kraj = std::find_if(p.minimalneTemp.begin(), p.minimalneTemp.end(), std::bind(std::less&lt;int&gt;(), std::placeholders::_1, *(p.minimalneTemp.begin())));
    if(kraj != p.minimalneTemp.end()) throw std::logic_error("Prekoracen dozvoljeni opseg temperatura");
    auto josnijekraj = std::find_if(p.maximalneTemp.begin(), p.maximalneTemp.end(), std::bind(std::greater&lt;int&gt;(), std::placeholders::_1, *(p.maximalneTemp.begin())));
    if(josnijekraj != p.maximalneTemp.end()) throw std::logic_error("Prekoracen dozvoljeni opseg temperatura");
  
  return p;
  }
  
  Temperature operator +(int q, const Temperature &amp;t) {
      Temperature p(t);
      std::transform(p.minimalneTemp.begin(), p.minimalneTemp.end(), p.minimalneTemp.begin(), std::bind(std::plus&lt;int&gt;(), std::placeholders::_1, q));
      std::transform(p.maximalneTemp.begin(), p.maximalneTemp.end(), p.maximalneTemp.begin(), std::bind(std::plus&lt;int&gt;(), std::placeholders::_1, q));
      
   auto kraj = std::find_if(p.minimalneTemp.begin(), p.minimalneTemp.end(), std::bind(std::less&lt;int&gt;(), std::placeholders::_1,*(p.minimalneTemp.begin())));
    if(kraj != p.minimalneTemp.end()) throw std::logic_error("Prekoracen dozvoljeni opseg temperatura");
    auto josnijekraj = std::find_if(p.maximalneTemp.begin(), p.maximalneTemp.end(), std::bind(std::greater&lt;int&gt;(), std::placeholders::_1, *(p.maximalneTemp.begin())));
    if(josnijekraj != p.maximalneTemp.end()) throw std::logic_error("Prekoracen dozvoljeni opseg temperatura");
      
      return p;
  }
  
  Temperature operator -(int q, const Temperature &amp;t) {
    Temperature p(t);
<a name="6"></a><font color="#00FF00"><a href="match528-1.html#6" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_0.gif"/></a>

    std::transform(t.minimalneTemp.begin(), t.minimalneTemp.end(), p.maximalneTemp.begin(), std::bind(std::minus&lt;int&gt;(), q, std::placeholders::_1));
    std::transform(t.maximalneTemp.begin(), t.maximalneTemp.end(), p.minimalneTemp.begin(), std::bind(std::minus&lt;int&gt;(), q, std::placeholders::_1));
</font>    
    auto kraj = std::find_if(p.minimalneTemp.begin(), p.minimalneTemp.end(), std::bind(std::less&lt;int&gt;(), std::placeholders::_1, *(p.minimalneTemp.begin())));
    if(kraj != p.minimalneTemp.end()) throw std::logic_error("Prekoracen dozvoljeni opseg temperatura");
    auto josnijekraj = std::find_if(p.maximalneTemp.begin(), p.maximalneTemp.end(), std::bind(std::greater&lt;int&gt;(), std::placeholders::_1, *(p.maximalneTemp.begin())));
    if(josnijekraj != p.maximalneTemp.end()) throw std::logic_error("Prekoracen dozvoljeni opseg temperatura");
    
    return p;
  }
  
  Temperature &amp;Temperature::operator +=( int q) {
<a name="2"></a><font color="#0000FF"><a href="match528-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_1.gif"/></a>

      std::transform(minimalneTemp.begin(), minimalneTemp.end(),minimalneTemp.begin(),std::bind(std::plus&lt;int&gt;(), std::placeholders::_1,q));// jesul iste vel ? trebal provjravat jel vece od max i min onih vragova
      std::transform(maximalneTemp.begin(),maximalneTemp.end(), maximalneTemp.begin(), std::bind(std::plus&lt;int&gt;(), std::placeholders::_1,q));
</font>      
       if(!Temperature::provjraMaxMin(minimalneTemp, maximalneTemp)) throw std::logic_error("Ilegalna operacija");
      
      return *this;
  }
  
  Temperature &amp;Temperature::operator -=( int q) {
      std::transform(minimalneTemp.begin(), minimalneTemp.end(), minimalneTemp.begin(), std::bind(std::minus&lt;int&gt;(), std::placeholders::_1,q));
      std::transform(maximalneTemp.begin(), maximalneTemp.end(), maximalneTemp.begin(), std::bind(std::minus&lt;int&gt;(), std::placeholders::_1,q));
      
       if(!Temperature::provjraMaxMin(minimalneTemp, maximalneTemp)) throw std::logic_error("Ilegalna operacija");
      
      return *this;
  }
  
  bool operator ==(const Temperature &amp;p, const Temperature &amp;q) { //mozel min i max lista bit razl dimenzija
<a name="3"></a><font color="#00FFFF"><a href="match528-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_1.gif"/></a>

     if( std::distance(p.minimalneTemp.begin(), p.minimalneTemp.end()) == std::distance(q.minimalneTemp.begin(), q.minimalneTemp.end()) &amp;&amp;    std::equal(p.minimalneTemp.begin(), p.minimalneTemp.end(), q.minimalneTemp.begin()) &amp;&amp; std::equal(p.maximalneTemp.begin(), p.maximalneTemp.end(), q.maximalneTemp.begin())) return true;
</font><a name="3"></a><font color="#00FFFF"><a href="match528-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_1.gif"/></a>

     return false;
</font>  }
  
  inline bool operator !=(const Temperature &amp;p, const Temperature &amp;q) {
      return !(p == q);
  }
  
  std::ostream &amp;operator &lt;&lt;(std::ostream &amp;tok, const Temperature &amp;t) {
      int vel = std::distance(t.minimalneTemp.begin(), t.minimalneTemp.end());
      int brojac = 0;
      std::for_each(t.minimalneTemp.begin(), t.minimalneTemp.end(),[&amp;brojac,vel,&amp;tok]( int br) {
           if(brojac == vel-1) tok &lt;&lt; br&lt;&lt;"\n";
           else  tok &lt;&lt; br &lt;&lt; " "; // dal poslije zadnjeg ide razmaka i novi red il samo novi red
          brojac++;
         
      });
      brojac = 0;
      std::for_each(t.maximalneTemp.begin(), t.maximalneTemp.end(), [&amp;brojac,vel,&amp;tok](int br) {
           if(brojac == vel-1) tok &lt;&lt; br&lt;&lt;"\n";
           else  tok &lt;&lt; br &lt;&lt; " ";
          brojac++;
         
      } );
      
      return tok;
  }


int main ()
{
    try{
      //  Temperature m = Temperature(0,23);
     //   m.RegistrirajTemperature(std::make_pair(1,22));
    Temperature t = Temperature(-100,100);
    t.RegistrirajTemperature(std::make_pair(3,4));
    t.RegistrirajTemperature(std::make_pair(-3,-2));
    t.RegistrirajTemperature(std::make_pair(-3,-2));
    t.RegistrirajTemperature(std::make_pair(-1,2));
    auto m = 2 + t;
    std::cout&lt;&lt;m;
     auto l = *m;
   for(int a : l) std::cout&lt;&lt;a&lt;&lt;"  \n";
    std::cout&lt;&lt;"\n\n";
    std::cout&lt;&lt;t;
    
    t.BrisiNegativneTemperature();
    std::cout&lt;&lt;t;
    std::cout&lt;&lt; t.DajBrojRegistriranihTemperatura() &lt;&lt;std::endl;
    std::cout &lt;&lt; t.DajBrojTemperaturaManjihOd(1) &lt;&lt; std::endl;
    std::cout &lt;&lt; t.DajBrojTemperaturaVecihOd(2) &lt;&lt; std::endl;
    std::cout &lt;&lt; t.DajMaksimalnuTemperaturu() &lt;&lt; std::endl;
    std::cout &lt;&lt; t.DajMinimalnuTemperaturu() &lt;&lt; std::endl;
    if(!t) std::cout &lt;&lt; "jes" &lt;&lt; std::endl;
    else std::cout &lt;&lt; "nije" &lt;&lt; std::endl;
    t--;
    --t;
    std::cout &lt;&lt; t &lt;&lt; std::endl;
    t++;
    ++t;
    std::cout &lt;&lt; t &lt;&lt; std::endl;
    
    auto w = +t;
    for(int q : w) std::cout&lt;&lt;q&lt;&lt;"  \n";
    
    auto s = -t;
    for(int y : s) std::cout&lt;&lt;y&lt;&lt;"  \n";
    
    auto o = *t;
    for(int x : o) std::cout&lt;&lt;x&lt;&lt;"  \n";
    auto pa =t[1];
    std::cout &lt;&lt; pa.first&lt;&lt;"    "&lt;&lt;pa.second &lt;&lt; std::endl;
    t = t +1;
    std::cout &lt;&lt; t &lt;&lt; std::endl;
    t = 1 +t;
    std::cout &lt;&lt; t &lt;&lt; std::endl;
    t = t -1;
    std::cout &lt;&lt; t &lt;&lt; std::endl;
    t = 1-t;     //ne radi dobro
    std::cout &lt;&lt; t &lt;&lt; std::endl;
    t += 1;
    std::cout &lt;&lt; t &lt;&lt; std::endl;
    t -= 1;
    std::cout &lt;&lt; t &lt;&lt; std::endl;
    if(t == m) std::cout &lt;&lt; "jes" &lt;&lt; std::endl;
    else std::cout &lt;&lt; "nije" &lt;&lt; std::endl;
     if(t != m) std::cout &lt;&lt; "jes razl" &lt;&lt; std::endl;
    else std::cout &lt;&lt; "nije" &lt;&lt; std::endl;
    t.BrisiSve();
   std::cout &lt;&lt; t &lt;&lt; std::endl;
    }catch(std::logic_error l) {
        std::cout &lt;&lt; l.what() &lt;&lt; std::endl;
    }catch(std::range_error r) {
        std::cout &lt;&lt; r.what() &lt;&lt; std::endl;
    }
	return 0;
}

</pre>
</body>
</html>
