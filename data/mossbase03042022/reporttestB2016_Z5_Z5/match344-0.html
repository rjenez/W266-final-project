<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z5/Z5/student7597.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z5/Z5/student7597.cpp<p></p><pre>
/B16/17 (ZadaÄ‡a 5, Zadatak 5)
//Autotestovi by Berina Cocalic (mail: bcocalic1@etf.unsa.ba)
//Za autotestove se obracati *iskljucivo* osobi koja ih pise
#include &lt;iostream&gt;
#include &lt;list&gt;
#include &lt;stdexcept&gt;
#include &lt;vector&gt;
#include &lt;functional&gt;
#include &lt;algorithm&gt;
class Temperature{
    std::list&lt;int&gt; minimalne;
    std::list&lt;int&gt; maksimalne;
    int min;
    int max;
    public:
    Temperature(int min,int max):min(min),max(max){
        if(min&gt;max) throw std::range_error("Nekorektne temperature");
    }
    void RegistrirajTemperature(std::pair&lt;int,int&gt; temp);
    void BrisiSve();
    void BrisiTemperature(std::pair&lt;int,int&gt; temp);
    int DajBrojRegistriranihTemperatura() const { return minimalne.size();}
    int DajMinimalnuTemperaturu() const ;
    int DajMaksimalnuTemperaturu() const;
    int DajBrojTemperaturaVecihOd(int temp) const;
     int DajBrojTemperaturaManjihOd(int temp) const;
    bool operator !(){ return maksimalne.size()==0;}
    friend Temperature &amp;operator ++(Temperature &amp;temp);
    friend Temperature &amp;operator --(Temperature &amp;temp);
    friend Temperature operator ++(Temperature &amp;temp,int);
    friend Temperature operator --(Temperature &amp;temp,int);
    std::pair&lt;int,int&gt; operator [](int n);
    friend std::vector&lt;int&gt; operator *(const Temperature &amp;t);
    void BrisiNegativneTemperature();
    friend Temperature operator-(const Temperature &amp;temp,int n);
    friend Temperature operator+(const Temperature &amp;temp,int n);
    friend Temperature operator-(int n,const Temperature &amp;temp);
    Temperature &amp;operator-=(int n);
    Temperature &amp;operator+=(int n);
<a name="3"></a><font color="#00FFFF"><a href="match344-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_1.gif"/></a>

    friend bool operator ==(const Temperature &amp;t1,const Temperature &amp;t2);
    friend bool operator !=(const Temperature &amp;t1,const Temperature &amp;t2);
</font>
};
std::pair&lt;int,int&gt; Temperature::operator [](int n){
    if(n&gt;minimalne.size()||n&lt;1) throw std::range_error("Neispravan indeks");
    auto it1(minimalne.begin()); auto it2(maksimalne.begin());
    std::advance(it1,n-1); std::advance(it2,n-1);
    return std::make_pair(*it1,*it2);
}
Temperature operator ++(Temperature &amp;temp,int){
    auto pomocna(temp);
    ++temp; return pomocna;
}
Temperature operator --(Temperature &amp;temp,int){
    auto pomocna(temp);
    --temp; return pomocna;
}
Temperature &amp;operator ++(Temperature &amp;temp){
    auto tmp(temp);
    std::transform(temp.minimalne.begin(),temp.minimalne.end(),temp.minimalne.begin(),std::bind(std::plus&lt;int&gt;(),std::placeholders::_1,1));
    std::vector&lt;int&gt; v(*temp);
<a name="4"></a><font color="#FF00FF"><a href="match344-1.html#4" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_1.gif"/></a>

    auto it(std::find_if(v.begin(),v.end(),std::bind(std::less&lt;int&gt;(),std::placeholders::_1,0)));
    if(it!=v.end()){
</font>        temp=tmp;
        throw std::logic_error("Ilegalna operacija");
    }
    return temp;
}
Temperature &amp;operator --(Temperature &amp;temp){
    auto tmp(temp);
    std::transform(temp.maksimalne.begin(),temp.maksimalne.end(),temp.maksimalne.begin(),std::bind(std::plus&lt;int&gt;(),std::placeholders::_1,-1));
    auto v(*temp);
    auto it(std::find_if(v.begin(),v.end(),std::bind(std::less&lt;int&gt;(),std::placeholders::_1,0)));
    if(it!=v.end()){
        temp=tmp;
        throw std::logic_error("Ilegalna operacija");
    }
    return temp;
}
int Temperature::DajBrojTemperaturaVecihOd(int temp) const{
    if(maksimalne.size()==0) throw std::logic_error("Nema registriranih temperatura");
<a name="2"></a><font color="#0000FF"><a href="match344-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_1.gif"/></a>

    return std::count_if(maksimalne.begin(),maksimalne.end(),std::bind(std::greater&lt;int&gt;(),std::placeholders::_1,temp));
}
int Temperature::DajBrojTemperaturaManjihOd(int temp) const{
    if(minimalne.size()==0) throw std::logic_error("Nema registriranih temperatura");
</font>    return std::count_if(minimalne.begin(),minimalne.end(),std::bind(std::less&lt;int&gt;(),std::placeholders::_1,temp));
}
int Temperature::DajMinimalnuTemperaturu() const{
    auto it(std::min_element(minimalne.begin(),minimalne.end()));
    if(it==minimalne.end()) throw std::logic_error("Nema registriranih temperatura");
    return *it;
}
int Temperature::DajMaksimalnuTemperaturu() const{
    auto it(std::max_element(maksimalne.begin(),maksimalne.end()));
    if(it==maksimalne.end()) throw std::logic_error("Nema registriranih temperatura");
    return *it;
}
void Temperature::RegistrirajTemperature(std::pair&lt;int,int&gt; temp){
<a name="5"></a><font color="#FF0000"><a href="match344-1.html#5" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_1.gif"/></a>

    if(temp.first&lt;min||temp.second&gt;max||temp.first&gt;temp.second) throw std::range_error("Nekorektne temperature");
    minimalne.emplace_back(temp.first); maksimalne.emplace_back(temp.second);
}
void Temperature::BrisiSve(){
    minimalne.clear(); maksimalne.clear();
</font>}
std::vector&lt;int&gt; operator *(const Temperature &amp;t){
    std::vector&lt;int&gt; v(t.minimalne.size());
<a name="6"></a><font color="#00FF00"><a href="match344-1.html#6" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_1.gif"/></a>

    std::transform(t.maksimalne.begin(),t.maksimalne.end(),t.minimalne.begin(),v.begin(),std::minus&lt;int&gt;());
</font>    return v;
}
void Temperature::BrisiNegativneTemperature(){
    static int a=0;
    auto it1=minimalne.begin(); auto it2=maksimalne.begin();
    std::advance(it1,a); std::advance(it2,a);
    if(a!=minimalne.size()){
        if(*it1&lt;0&amp;&amp;*it2&lt;0){
            minimalne.erase(it1); maksimalne.erase(it2);
            BrisiNegativneTemperature();
        }
        else {a++; BrisiNegativneTemperature();}
    }
}
<a name="7"></a><font color="#0000FF"><a href="match344-1.html#7" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_1.gif"/></a>

Temperature operator-(const Temperature &amp;temp,int n){
    auto tmp(temp);
    std::transform(tmp.maksimalne.begin(),tmp.maksimalne.end(),
</font>    tmp.maksimalne.begin(),std::bind(std::minus&lt;int&gt;(),std::placeholders::_1,n));
<a name="8"></a><font color="#00FFFF"><a href="match344-1.html#8" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_1.gif"/></a>

    std::transform(tmp.minimalne.begin(),tmp.minimalne.end(),tmp.minimalne.begin(),
    std::bind(std::minus&lt;int&gt;(),std::placeholders::_1,n));
    if(tmp.DajBrojTemperaturaManjihOd(tmp.min)!=0) throw std::logic_error("Prekoracen dozvoljeni opseg temperatura");
</font>    return tmp;
}
<a name="9"></a><font color="#FF00FF"><a href="match344-1.html#9" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_1.gif"/></a>

Temperature operator+(const Temperature &amp;temp,int n){
    auto tmp(temp);
    std::transform(tmp.maksimalne.begin(),tmp.maksimalne.end(),
</font>    tmp.maksimalne.begin(),std::bind(std::plus&lt;int&gt;(),std::placeholders::_1,n));
<a name="10"></a><font color="#FF0000"><a href="match344-1.html#10" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_1.gif"/></a>

    std::transform(tmp.minimalne.begin(),tmp.minimalne.end(),tmp.minimalne.begin(),
    std::bind(std::plus&lt;int&gt;(),std::placeholders::_1,n));
    if(tmp.DajBrojTemperaturaVecihOd(tmp.max)!=0) throw std::logic_error("Prekoracen dozvoljeni opseg temperatura");
</font>    return tmp;
}
Temperature operator+(int n,const Temperature &amp;temp){
    return temp+n;
}
<a name="0"></a><font color="#FF0000"><a href="match344-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_6.gif"/></a>

Temperature operator-(int n,const Temperature &amp;temp){
    auto tmp(temp);
    std::transform(temp.maksimalne.begin(),temp.maksimalne.end(),tmp.minimalne.begin(),std::bind(std::minus&lt;int&gt;(),n,
    std::placeholders::_1));
    std::transform(temp.minimalne.begin(),temp.minimalne.end(),tmp.maksimalne.end(),std::bind(std::minus&lt;int&gt;(),n,
    std::placeholders::_1));
    if(tmp.DajBrojTemperaturaVecihOd(tmp.max)!=0||tmp.DajBrojTemperaturaManjihOd(tmp.min)!=0)
</font>    throw std::logic_error("Prekoracen dozvoljeni opseg temperatura");
    return tmp;
}
Temperature&amp; Temperature::operator-=(int n){
    *this=*this-n;
    return *this;
}
Temperature&amp; Temperature:: operator+=(int n){
<a name="1"></a><font color="#00FF00"><a href="match344-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_4.gif"/></a>

    *this=*this+n;
    return *this;
}
bool operator ==(const Temperature &amp;t1,const Temperature &amp;t2){
    return (t1.minimalne==t2.minimalne&amp;&amp;t1.maksimalne==t2.maksimalne&amp;&amp;t1.min==t2.min&amp;&amp;t1.max==t2.max);
}
bool operator !=(const Temperature &amp;t1,const Temperature &amp;t2){
    return !(t1.minimalne==t2.minimalne&amp;&amp;t1.maksimalne==t2.maksimalne&amp;&amp;t1.min==t2.min&amp;&amp;t1.max==t2.max);
</font>}
int main ()
{
    Temperature t(-15,10);
    t.RegistrirajTemperature(std::make_pair(5,6));
    std::cout&lt;&lt;t.DajBrojTemperaturaManjihOd(10);
    t.RegistrirajTemperature(std::make_pair(-10,-2));
    std::cout&lt;&lt;std::endl&lt;&lt;t.DajBrojRegistriranihTemperatura();
    t.BrisiNegativneTemperature();
      
      std::cout&lt;&lt;std::endl&lt;&lt;t.DajMinimalnuTemperaturu();
      t++;
    
      std::cout&lt;&lt;std::endl&lt;&lt;t[1].first;
      auto t1(t+3);
     std::cout&lt;&lt;t1.DajMaksimalnuTemperaturu();
	return 0;
}</pre>
</body>
</html>
