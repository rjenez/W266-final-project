<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z5/Z5/student8317.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z5/Z5/student8317.cpp<p></p><pre>
/B16/17 (ZadaÄ‡a 5, Zadatak 5)
//Autotestovi by Berina Cocalic (mail: bcocalic1@etf.unsa.ba)
//Za autotestove se obracati *iskljucivo* osobi koja ih pise
#include &lt;iostream&gt;
#include &lt;list&gt;
#include &lt;stdexcept&gt;
#include &lt;utility&gt;
#include &lt;algorithm&gt;
#include &lt;iterator&gt;
#include &lt;functional&gt;

class Temperature{
    private:
        std::list&lt;int&gt; min;
        std::list&lt;int&gt; max;
        int h,l;
    public:
        Temperature(int mini, int maxi);
        void RegistrirajTemperature(std::pair&lt;int,int&gt; temp);
        void BrisiSve();
        int DajBrojRegistriranihTemperatura() const {return min.size();}
        friend std::ostream&amp; operator&lt;&lt;(std::ostream&amp; tok, const Temperature &amp;t);
        void BrisiSveNegativneTemperature();
        int DajMinimalnuTemperaturu()const;
        int DajMaksimalnuTemperaturu() const;
        int DajBrojTemperaturaVecihOd(int n) const;
        int DajBrojTemperaturaManjihOd(int n) const;
        bool operator!()const {return min.size()==0;}
        Temperature &amp;operator++();
        Temperature &amp;operator--();
        Temperature operator ++(int);
        Temperature operator --(int);
        friend bool operator==(const Temperature &amp;t1, const Temperature &amp;t2);
        friend bool operator!=(const Temperature &amp;t1, const Temperature &amp;t2);
        std::pair&lt;int,int&gt; operator[](int indeks);
};
std::pair&lt;int,int&gt; Temperature::operator[](int indeks){
    if(indeks&lt;1 || indeks&gt;DajBrojRegistriranihTemperatura())
        throw std::range_error("Neispravan indeks");
    auto minn=min.begin();
    auto maxx=max.begin();
    std::advance(minn,indeks-1);
    std::advance(maxx,indeks-1);
    return {*minn,*maxx};
}
bool operator ==(const Temperature &amp;t1, const Temperature &amp;t2){
    if(t1.DajBrojRegistriranihTemperatura()!=t2.DajBrojRegistriranihTemperatura())
        return false;
    return t1.h==t2.h &amp;&amp; t1.l==t2.l &amp;&amp; std::equal(t1.min.begin(),t1.min.end(),t2.min.begin()) &amp;&amp; std::equal(t1.max.begin(),t1.max.end(),t2.max.begin());
}
bool operator !=(const Temperature &amp;t1, const Temperature &amp;t2){
    return !(t1==t2);
}
Temperature&amp; Temperature::operator++(){
    auto it=std::find_if(min.begin(),min.end(),std::bind(std::greater&lt;int&gt;(), std::placeholders::_1,h-1));
    if(it!=min.end())
        throw std::logic_error("Ilegalna operacija");
<a name="3"></a><font color="#00FFFF"><a href="match719-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_2.gif"/></a>

    std::transform(min.begin(),min.end(),min.begin(),std::bind(std::plus&lt;int&gt;(),std::placeholders::_1,1));
    return *this;
</font>};
Temperature&amp; Temperature::operator--(){
    auto it=std::find_if(max.begin(),max.end(),std::bind(std::less&lt;int&gt;(), std::placeholders::_1,l+1));
    if(it!=max.end())
        throw std::logic_error("Ilegalna operacija");
<a name="4"></a><font color="#FF00FF"><a href="match719-1.html#4" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_2.gif"/></a>

    std::transform(max.begin(),max.end(),max.begin(),std::bind(std::minus&lt;int&gt;(),std::placeholders::_1,1));
    return *this;
</font>}
Temperature::Temperature(int mini, int maxi){
<a name="5"></a><font color="#FF0000"><a href="match719-1.html#5" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_2.gif"/></a>

    if(mini&gt;maxi)
        throw std::range_error("Nekorektne temperature");
    h=maxi; l=mini;
}
void Temperature::RegistrirajTemperature(std::pair&lt;int,int&gt; temp){
    if(temp.first&gt;temp.second || temp.first&lt;l || temp.second&gt;h)
</font>        throw std::range_error("Nekorektne temperature");
    min.push_back(temp.first);
    max.push_back(temp.second);
}
void Temperature::BrisiSve() {
    if(min.size()==0) return;
    else{
        auto it1=min.begin(),it2=max.begin();
        it2=max.erase(it2);
        it1=min.erase(it1);
        BrisiSve();
    }
}
<a name="1"></a><font color="#00FF00"><a href="match719-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_3.gif"/></a>

std::ostream&amp; operator&lt;&lt;(std::ostream&amp; tok, const Temperature &amp;t){
    std::copy(t.min.begin(),t.min.end(),std::ostream_iterator&lt;int&gt;(tok," "));
</font><a name="2"></a><font color="#0000FF"><a href="match719-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_2.gif"/></a>

    tok&lt;&lt;std::endl;
    std::copy(t.max.begin(),t.max.end(),std::ostream_iterator&lt;int&gt;(tok," "));
</font>    return tok;
}
void Temperature::BrisiSveNegativneTemperature(){
<a name="6"></a><font color="#00FF00"><a href="match719-1.html#6" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_2.gif"/></a>

    auto it=std::find_if(max.begin(),max.end(),std::bind(std::less&lt;int&gt;(),std::placeholders::_1,0));
    if(it==max.end()) return;
</font>    auto it2=min.begin();
    std::advance(it2,std::distance(max.begin(),it));
    it=max.erase(it);
    it2=min.erase(it2);
    BrisiSveNegativneTemperature();
}
<a name="0"></a><font color="#FF0000"><a href="match719-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_5.gif"/></a>

int Temperature::DajMinimalnuTemperaturu() const {
    if(min.size()==0)
        throw std::logic_error("Nema registriranih temperatura");
    return *std::min_element(min.begin(),min.end());
}
int Temperature::DajMaksimalnuTemperaturu()const{
    if(max.size()==0)
        throw std::logic_error("Nema registriranih temperatura");
    return *std::max_element(max.begin(),max.end());
}
int Temperature::DajBrojTemperaturaManjihOd(int n) const {
</font>    if(min.size()==0)
        throw std::logic_error("Nema registriranih temperatura");
    return std::count_if(min.begin(),min.end(),std::bind(std::less&lt;int&gt;(), std::placeholders::_1,n));
}
int Temperature::DajBrojTemperaturaVecihOd(int n) const {
    if(max.size()==0)
        throw std::logic_error("Nema registriranih temperatura");
<a name="7"></a><font color="#0000FF"><a href="match719-1.html#7" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_2.gif"/></a>

    return std::count_if(max.begin(),max.end(),std::bind(std::greater&lt;int&gt;(),std::placeholders::_1,n));
}
Temperature Temperature::operator ++(int){
    Temperature pom(*this);
    ++(*this);
    return pom;
}
Temperature Temperature::operator --(int){
    Temperature pom(*this);
</font>    ++(*this);
    return pom;
}
int main ()
{
    Temperature t({-25,30});
    t.RegistrirajTemperature({-24,-24});
    t.RegistrirajTemperature({-20,-2});
    t.RegistrirajTemperature({1,18});
    t.RegistrirajTemperature({-2,-1});
    t.RegistrirajTemperature({8,18});
    std::cout&lt;&lt;t++;
    std::cout&lt;&lt;std::endl;
    
    std::cout&lt;&lt;t[2].first&lt;&lt;" "&lt;&lt;t[2].second;
    
	return 0;
}</pre>
</body>
</html>
