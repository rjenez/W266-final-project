<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z5/Z5/student9340.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z5/Z5/student9340.cpp<p></p><pre>
#include &lt;iostream&gt;
#include &lt;list&gt;
#include &lt;iomanip&gt;
#include &lt;functional&gt;
#include &lt;algorithm&gt;
#include &lt;stdexcept&gt;
#include &lt;utility&gt;
#include &lt;vector&gt;
#include &lt;iterator&gt;

class Temperature {
    std::list&lt;int&gt; min_temp;
    std::list&lt;int&gt; max_temp;
    
    public:
    Temperature(int min,int max) {
        if(min&gt;max) 
        throw std::range_error("Nekorektne temperature");
        min_temp.push_back(min);
        max_temp.push_back(max);
    }
  void RegistrirajTemperature(std::pair&lt;int,int&gt; par);
 void BrisiSve();
 void BrisiTemperature(std::pair&lt;int,int&gt; brojevi);
 int DajBrojRegistriranihTemperatura() const {
        return min_temp.size()-1;
}
 int DajMinimalnuTemperaturu() const  {
     auto it(min_temp.begin());
     it++;
     return *std::min_element(it,min_temp.end(),std::less&lt;int&gt;());
 }
int DajMaksimalnuTemperaturu() const {
    auto it(max_temp.begin());
    it++;
    return *std::max_element(it,max_temp.end(),std::less&lt;int&gt;());
}
 int DajBrojTemperaturaVecihOd(int temperatura);
 int DajBrojTemperaturaManjihOd(int temperatura);
 bool operator !() {
     return min_temp.size()==0;
 }
 std::list&lt;int&gt; operator ++();
 std::list&lt;int&gt; operator++(int);
 std::list&lt;int&gt; operator --();
 std::list&lt;int&gt; operator --(int);
 std::vector&lt;int&gt; operator *();
 std::vector&lt;int&gt; operator -();
 std::vector&lt;int&gt; operator +();
 std::pair&lt;int,int&gt; operator [](int indeks);
 friend Temperature operator +(Temperature &amp;temp,int y);
  friend Temperature operator +(int y,Temperature &amp;temp);
 Temperature operator +=(int k);
 Temperature operator -=(int y);
 bool operator ==(Temperature &amp;temp1);
 bool operator !=(Temperature &amp;temp1);
  friend Temperature  operator-(Temperature &amp;temp,int k);
  friend Temperature operator -(int k,Temperature &amp;temp);
 friend std::ostream &amp;operator &lt;&lt;(std::ostream &amp;tok,Temperature &amp;temp);
 friend std::ostream &amp;operator &lt;&lt;(std::ostream &amp;tok,std::vector&lt;int&gt; v);
};
void Temperature::RegistrirajTemperature(std::pair&lt;int,int&gt; par) {
    static int broj(*std::min_element(min_temp.begin(), min_temp.end(), std::greater&lt;int&gt;()));
    static int  pomoc(*std::max_element(max_temp.begin(), max_temp.end(), std::less&lt;int&gt;()));
<a name="0"></a><font color="#FF0000"><a href="match632-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_1.gif"/></a>

    if(par.first&lt;broj || par.second&gt;pomoc || par.first&gt;par.second || par.first&gt;pomoc || par.second&lt;broj) {
        throw std::range_error("Nekorektne temperature");
    }
  min_temp.push_back(par.first);
  max_temp.push_back(par.second);
}
void Temperature::BrisiSve() {
    min_temp.erase(min_temp.begin(),min_temp.end());
</font>    max_temp.erase(max_temp.begin(),max_temp.end());
}
void Temperature::BrisiTemperature(std::pair&lt;int,int&gt; brojevi) {
      auto broj(std::find(min_temp.begin(),min_temp.end(),brojevi.first));
      auto cifra(std::find(max_temp.begin(),max_temp.end(),brojevi.second));
    if(broj==min_temp.end() || cifra==max_temp.end()) throw std::logic_error("Takve temperature nisu registrirane");
       else {
           int prvi,drugi;
           prvi=std::distance(min_temp.begin(),broj);
           drugi=std::distance(max_temp.begin(),cifra);
           if(prvi==drugi) {
       min_temp.erase(broj);
       max_temp.erase(cifra);
        }
}
}
int Temperature::DajBrojTemperaturaVecihOd(int temperatura) {
 int broj(std::count_if(min_temp.begin(),min_temp.end(),std::bind(std::greater&lt;int&gt;(),std::placeholders::_1,temperatura)));
 int broj2(std::count_if(max_temp.begin(),max_temp.end(),std::bind(std::less&lt;int&gt;(),std::placeholders::_1,temperatura)));
 return broj+broj2;
    }
int Temperature::DajBrojTemperaturaManjihOd(int temperatura) {
int broj(std::count_if(max_temp.begin(),max_temp.end(),std::bind(std::less&lt;int&gt;(),std::placeholders::_1,temperatura)));
int broj2(std::count_if(max_temp.begin(),max_temp.end(),std::bind(std::greater&lt;int&gt;(),std::placeholders::_1,temperatura)));
}

std::list&lt;int&gt; Temperature::operator ++() {
    int najveca(*std::max_element(max_temp.begin(),max_temp.end(),std::greater&lt;int&gt;()));
    std::for_each((min_temp.begin())++,min_temp.end(),std::bind(std::plus&lt;int&gt;(),std::placeholders::_1,1));
<a name="5"></a><font color="#FF0000"><a href="match632-1.html#5" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_1.gif"/></a>

    if(std::count_if((min_temp.begin())++,min_temp.end(),std::bind(std::greater&lt;int&gt;(),std::placeholders::_1,najveca))) {
        throw std::logic_error("Ilegalna operacija");
    }
    return min_temp;
</font>}

std::list&lt;int&gt; Temperature::operator ++(int) {
    std::list&lt;int&gt; povratna;
    int najveca(*std::max_element(max_temp.begin(),max_temp.end(),std::greater&lt;int&gt;()));
    std::copy(min_temp.begin(),min_temp.end(),povratna.begin());
    std::for_each((min_temp.begin())++,min_temp.end(),std::bind(std::plus&lt;int&gt;(),std::placeholders::_1,1));
<a name="6"></a><font color="#00FF00"><a href="match632-1.html#6" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_1.gif"/></a>

     if(std::count_if((min_temp.begin())++,min_temp.end(),std::bind(std::greater&lt;int&gt;(),std::placeholders::_1,najveca))) {
        throw std::logic_error("Ilegalna operacija");
    }
    return povratna;
</font>}

std::list&lt;int&gt; Temperature::operator --() {
    int najmanja(*std::min_element(min_temp.begin(),min_temp.end(),std::less&lt;int&gt;()));
    std::for_each((max_temp.begin())++,max_temp.end(),std::bind(std::minus&lt;int&gt;(),std::placeholders::_1,1));
<a name="7"></a><font color="#0000FF"><a href="match632-1.html#7" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_1.gif"/></a>

 if(count_if((max_temp.begin())++,max_temp.end(),std::bind(std::less&lt;int&gt;(),std::placeholders::_1,najmanja))) {
     throw std::logic_error("Ilegalna operacija");
 }
 return max_temp;
</font>}

std::list&lt;int&gt; Temperature::operator --(int) {
    std::list&lt;int&gt; pomocna;
    int najmanja(*std::min_element(min_temp.begin(),min_temp.end(),std::less&lt;int&gt;()));
    std::copy(max_temp.begin(),max_temp.end(),pomocna.begin());
     std::for_each((max_temp.begin())++,max_temp.end(),std::bind(std::plus&lt;int&gt;(),std::placeholders::_1,1));
     if(std::count_if((max_temp.begin())++,max_temp.end(),std::bind(std::greater&lt;int&gt;(),std::placeholders::_1,najmanja))) {
        throw std::logic_error("Ilegalna operacija");
    }
    return pomocna;
}

std::vector&lt;int&gt; Temperature::operator *() {
    std::vector&lt;int&gt; v;
std::vector&lt;int&gt; v1(min_temp.size());
std::vector&lt;int&gt; v2(max_temp.size());

std::copy(min_temp.begin(),min_temp.end(),v1.begin());
std::copy(max_temp.begin(),max_temp.end(),v2.begin());
std::transform(v1.begin(),v1.end(),v2.begin(),v.begin(),[](int x,int y) {
    return x-y;
});
return v;
}
bool Temperature::operator ==(Temperature &amp;temp1) {
<a name="3"></a><font color="#00FFFF"><a href="match632-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_1.gif"/></a>

    return (std::equal(min_temp.begin(),min_temp.end(),temp1.min_temp.begin()) &amp;&amp; std::equal(max_temp.begin(),max_temp.end(),temp1.max_temp.begin()));
</font>}
 inline bool Temperature::operator !=(Temperature &amp;temp1) {
    return !(*this==temp1);
}

std::pair&lt;int,int&gt; Temperature::operator [] (int indeks) {
    std::pair&lt;int,int&gt; rezultat;
    if(indeks&lt;1 || indeks&gt;min_temp.size())
        throw std::range_error("Neispravan indeks");
    auto it(std::next(min_temp.begin(),indeks));
    rezultat.first=*it;
    
    it=std::next(max_temp.begin(),indeks);
    rezultat.second=*it;
    
    return rezultat;
}

std::vector&lt;int&gt; Temperature::operator -() {
    std::vector&lt;int&gt; v(min_temp.size());
    std::list&lt;int&gt; lista;
    std::copy(min_temp.begin(),min_temp.end(),lista.begin());
    int najmanja(*std::min_element(min_temp.begin(),min_temp.end(),std::less&lt;int&gt;()));
<a name="8"></a><font color="#00FFFF"><a href="match632-1.html#8" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_0.gif"/></a>

    std::for_each((lista.begin()),lista.end(),std::bind(std::minus&lt;int&gt;(),std::placeholders::_1,najmanja));
    std::copy(lista.begin(),lista.end(),v.begin());                                  
</font>   return v;
}
std::vector&lt;int&gt; Temperature::operator +() {
    std::vector&lt;int&gt; v(max_temp.size());
    std::list&lt;int&gt; lista;
    std::copy(max_temp.begin(),max_temp.end(),lista.begin());
    int najveca(*std::max_element(max_temp.begin(),max_temp.end(),std::greater&lt;int&gt;()));
    std::for_each(lista.begin(),lista.end(),std::bind(std::minus&lt;int&gt;(),std::placeholders::_1,najveca));
    std::copy(lista.begin(),lista.end(),v.begin());
    return v;
}
std::ostream &amp;operator &lt;&lt;(std::ostream &amp;tok,Temperature &amp;temp) {
 auto  it(temp.max_temp.begin());
    auto it2(temp.min_temp.begin());
  tok&lt;&lt;*it&lt;&lt;" ";
  it=temp.max_temp.erase(it);
  if(it!=temp.max_temp.end()) {
      tok&lt;&lt;temp;
  }
  else {
      tok&lt;&lt;std::endl;
  tok&lt;&lt;*it2&lt;&lt;" ";
  auto it3(temp.min_temp.begin());
  it3++;
  if(it2==temp.min_temp.begin()) {
      it2=it3;
  }
  }
  if(it2!=temp.min_temp.end()) {
      tok&lt;&lt;temp;
  }
  tok&lt;&lt;std::endl;
  return tok;
}
std::ostream &amp;operator &lt;&lt;(std::ostream &amp;tok,std::vector&lt;int&gt; v) {
    auto it(v.begin());
    tok&lt;&lt;*it;
    it++;
    if(it!=v.end()) {
        tok&lt;&lt;*it;
        it++;
    }
    return tok;
} 
Temperature operator +(Temperature &amp;temp,int y) {
    Temperature novi(0,0);
    std::copy(temp.min_temp.begin(),temp.min_temp.end(),novi.min_temp.begin());
    std::copy(temp.max_temp.begin(),temp.max_temp.end(),novi.max_temp.begin());
    std::for_each(novi.min_temp.begin(),novi.min_temp.end(),std::bind(std::plus&lt;int&gt;(),std::placeholders::_1,y));
    std::for_each(novi.max_temp.begin(),novi.max_temp.end(),std::bind(std::plus&lt;int&gt;(),std::placeholders::_1,y));
    return novi;
}
Temperature operator -(Temperature &amp;temp,int k) {
    Temperature novi(0,0);
    std::copy(temp.min_temp.begin(),temp.min_temp.end(),novi.min_temp.begin());
    std::copy(temp.max_temp.begin(),temp.max_temp.end(),novi.max_temp.begin());
    std::for_each(novi.min_temp.begin(),novi.min_temp.end(),std::bind(std::minus&lt;int&gt;(),std::placeholders::_1,k));
    std::for_each(novi.max_temp.begin(),novi.max_temp.end(),std::bind(std::minus&lt;int&gt;(),std::placeholders::_1,k));
    return novi;
}
inline Temperature operator +(int y,Temperature &amp;temp) {
    return temp+y;
}
Temperature operator -(int k,Temperature &amp;temp) {
    Temperature novi(0,0);
    int najmanja(*std::min_element(temp.min_temp.begin(),temp.min_temp.end(),std::less&lt;int&gt;())); 
<a name="1"></a><font color="#00FF00"><a href="match632-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_1.gif"/></a>

    int najveca(*std::max_element(temp.max_temp.begin(),temp.max_temp.end(),std::greater&lt;int&gt;()));
    std::copy(temp.min_temp.begin(),temp.min_temp.end(),novi.min_temp.begin());
</font>    std::copy(temp.max_temp.begin(),temp.max_temp.end(),novi.max_temp.begin());
    std::swap(novi.min_temp,novi.max_temp);
    std::for_each(novi.min_temp.begin(),novi.min_temp.end(),std::bind(std::minus&lt;int&gt;(),std::placeholders::_1,k));
<a name="2"></a><font color="#0000FF"><a href="match632-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_1.gif"/></a>

    std::for_each(novi.max_temp.begin(),novi.max_temp.end(),std::bind(std::minus&lt;int&gt;(),std::placeholders::_1,k));
     
  if(std::count_if((novi.max_temp.begin())++,novi.max_temp.end(),std::bind(std::greater&lt;int&gt;(),std::placeholders::_1,najveca)) || std::count_if((novi.min_temp.begin())++,novi.min_temp.end(),std::bind(std::less&lt;int&gt;(),std::placeholders::_1,najmanja))) 
</font><a name="4"></a><font color="#FF00FF"><a href="match632-1.html#4" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_1.gif"/></a>

        throw std::logic_error("Ilegalna operacija");
</font>    
     return novi;
}
Temperature Temperature::operator +=(int k) {
    return (*this+k);
}
Temperature Temperature::operator -=(int y) {
    return (*this-y);
}

int main ()
{
    std::cout&lt;&lt;"Unesite maksimalnu i minimalnu temperaturu: ";
    int m,n;
    std::cin&gt;&gt;m&gt;&gt;n;
    Temperature temp(m,n);
    std::cout&lt;&lt;"Unesite temperature za sedam dana: ";
    std::vector&lt;std::pair&lt;int,int&gt;&gt; v(7);
    std::fill(v.begin(),v.end(),std::make_pair(0,0));
    std::transform(v.begin(),v.end(),v.begin(),[&amp;temp](std::pair&lt;int,int&gt; &amp;par) {
        std::cin&gt;&gt;par.first&gt;&gt;par.second;
        try {
        temp.RegistrirajTemperature(std::make_pair(par.first,par.second));
        return par;
        }
        catch(std::range_error e) {
            std::cout&lt;&lt;e.what()&lt;&lt;" Molimo,ponovite unos: "&lt;&lt;std::endl;
        }
    return std::make_pair(0,0);
    });
    
    std::cout&lt;&lt;"Najniza temperatura je: "&lt;&lt;temp.DajMinimalnuTemperaturu()&lt;&lt;std::endl;
    std::cout&lt;&lt;temp;
	return 0;
}</pre>
</body>
</html>
