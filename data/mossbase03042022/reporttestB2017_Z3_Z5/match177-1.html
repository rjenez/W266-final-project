<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z5/student4412.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z5/student6960.cpp<p></p><pre>
<a name="0"></a><font color="#FF0000"><a href="match177-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_98.gif"/></a>

/B2017/2018: ZadaÄ‡a 3, Zadatak 5
#include &lt;iostream&gt;
#include &lt;list&gt;
#include &lt;queue&gt;
#include &lt;string&gt;
#include &lt;vector&gt;
#include &lt;stdexcept&gt;
#include &lt;map&gt;
#include &lt;queue&gt;
#include &lt;memory&gt;
#include &lt;algorithm&gt;
#include &lt;stack&gt;

/*const std::vector&lt;std::string&gt; vrijednost_k =
{"2", "3", "4", "5", "6", "7", "8", "9", "10", "J", "Q", "K", "A"};

enum class Boje
{
    Pik, Tref, Herc, Karo
};

struct Karta {
    Boje boja;
    std::string vrijednost;
};

struct Cvor {
    Karta karta;
    Cvor *sljedeci=nullptr;
};

//bool BacanjeIzuzetka(const Spil &amp;s);

Cvor *KreirajSpil ()
{
    Cvor* pocetak(nullptr), *prethodni;
    int brojac(0), brojac_boja(0), ukupno(0);
    for(;;) {
        if(brojac&gt;12) {
            brojac=0;
            brojac_boja++;
        }
        Cvor *novi(new Cvor);
        if(brojac_boja==0) novi-&gt;karta.boja=Boje::Pik;
        else if(brojac_boja==1) novi-&gt;karta.boja=Boje::Tref;
        else if(brojac_boja==2) novi-&gt;karta.boja=Boje::Herc;
        else novi-&gt;karta.boja=Boje::Karo;
        novi-&gt;karta.vrijednost=vrijednost_k[brojac];
        novi-&gt;sljedeci=nullptr;
        if(!pocetak) pocetak=novi;
        else prethodni-&gt;sljedeci=novi;
        prethodni=novi;
        brojac++;
        ukupno++;
        if(ukupno==52) {
            prethodni-&gt;sljedeci=pocetak;
            delete novi; //???
            break;
        }
    }
    return pocetak;
}

void IzbaciKarte (Cvor *&amp;pocetak, std::multimap&lt;Boje, std::string&gt; &amp;mapa)
{
    int vel_mape(mapa.size());
    /*if(BacanjeIzuzetka(s) || broj_karata&gt;52)
        throw std::logic_error("Neispravna lista!");*/
    auto it(mapa.begin());
    Cvor *prethodni, *p(pocetak);
    for(int i=0; i&lt;vel_mape; i++) {
        bool a(false);
        p=pocetak;
        auto karta(*it);
        while(p-&gt;sljedeci!=pocetak) {
            if(p-&gt;sljedeci-&gt;karta.boja==karta.first &amp;&amp; 
            p-&gt;sljedeci-&gt;karta.vrijednost==karta.second) {
                break; a=true;
            }
            p=p-&gt;sljedeci;
        }
        if(a==false) {//???
        auto temp=p-&gt;sljedeci; //pr
        p-&gt;sljedeci=temp-&gt;sljedeci;
        delete temp;
        it=mapa.erase(it);
        continue;
        }
        
        it++;
    
    
}
}

/*bool BacanjeIzuzetka (const Spil &amp;s)
{
    bool izuzetak(false);
    if(s.size()&gt;52) izuzetak=true;
    auto it(s.begin());
    while(it!=s.end()) {
        if(it-&gt;first!=Boje::Pik &amp;&amp; it-&gt;first!=Boje::Tref &amp;&amp; it-&gt;first!=Boje::Herc &amp;&amp; it-&gt;first!=Boje::Karo)
            izuzetak=true;                                                      //provjera da li je boje karte smislena
        if(std::find(vrijednost_k.begin(), vrijednost_k.end(), it-&gt;second)==vrijednost_k.end())
            izuzetak=true;                                                      //provjera vrijednosti
        it++;
    }
    if(!std::is_sorted(s.begin(), s.end(), [] (Karta k1, Karta k2) {            //provjera da li je spil sortiran
    if(int(k1.first)!=int(k2.first)) return int(k1.first)&lt;int(k2.first);
        else {                                                                  //nakon boje, uporedjuje se vrijednost karata
            if(k1.second==k2.second) return false;                              //ako su karte iste
            return std::find(vrijednost_k.begin(), vrijednost_k.end(), k1.second)
                   &lt;std::find(vrijednost_k.begin(), vrijednost_k.end(), k2.second);
        }
    })) izuzetak=false;
    return izuzetak;
}*/

/*std::stack&lt;std::pair&lt;std::string, std::string&gt;&gt; IzbaciKarteRazbrajanjem (Cvor *&amp;pocetak, const short int &amp;r, const int &amp;b)
{
    if(r&lt;1 || r&gt;52 || b&lt;1)
        throw std::logic_error("Neispravni elementi za izbacivanje!");

    //if(BacanjeIzuzetka(s)) throw std::logic_error("Neispravna lista!");         //sada je provjera za bacanje izuzetaka gotova

    std::stack&lt;std::pair&lt;std::string, std::string&gt;&gt; stek_ik;
    std::multimap&lt;Boje, std::string&gt; mapa_k;
    bool veci(false);
    Cvor *pok(pocetak);
    for(int i=0; i&lt;b; i++) {
        //if(s.size()==0) break;
        veci=false;
        for(int j=0; j&lt;r-1; j++) {
            if(pok-&gt;sljedeci==pocetak) veci=true;
            pok=pok-&gt;sljedeci;
        }
        mapa_k.insert(std::pair&lt;Boje, std::string&gt;(pok-&gt;karta.boja, pok-&gt;karta.vrijednost));
        std::pair&lt;std::string, std::string&gt; izbacena_k;                         //par(izbacena karta) koji cu smjestiti u red
        if(pok-&gt;karta.boja==Boje::Pik) izbacena_k.first="Pik";
        else if(pok-&gt;karta.boja==Boje::Tref) izbacena_k.first="Tref";
        else if(pok-&gt;karta.boja==Boje::Herc) izbacena_k.first="Herc";
        else izbacena_k.first="Karo";
        izbacena_k.second=pok-&gt;karta.vrijednost;
        stek_ik.push(izbacena_k);
        if(veci) pok=pok-&gt;sljedeci;
        pok=pok-&gt;sljedeci;
    }
    try {
        IzbaciKarte(pocetak, mapa_k);
    } catch (...) {
        throw;
    }
    return stek_ik;
}

void VratiPrvihNKarata (Cvor *&amp;pocetak, std::stack&lt;std::pair&lt;std::string, std::string&gt;&gt; &amp;stek, int n)
{
    if(n&lt;0)
        throw std::domain_error("Broj n je besmislen!");
    if(n&gt;stek.size())
        throw std::range_error("Nedovoljno karata u redu!");
    //if(BacanjeIzuzetka(s)) throw std::logic_error("Neispravna lista!");

    for(int i=0; i&lt;n; i++) {
        //if(red.size()==0) break;
        auto element(stek.top());                                               //uzimam element s vrha steka
        stek.pop();                                                             //brisem taj isti element
        std::pair&lt;Boje, std::string&gt; ubacena_k;
        if(element.first=="Pik") ubacena_k.first=Boje::Pik;
        else if(element.first=="Tref") ubacena_k.first=Boje::Tref;
        else if(element.first=="Herc") ubacena_k.first=Boje::Herc;
        else ubacena_k.first=Boje::Karo;
        ubacena_k.second=element.second;
        /*Spil provjera_izuzetak;                                                 //Kreiram spil jer fja za provjeru prima spil karata
        provjera_izuzetak.push_back(ubacena_k);
        if(BacanjeIzuzetka(provjera_izuzetak)) throw std::logic_error("Neispravne karte!");*/
        Cvor *za_ubacivanje(nullptr);
        za_ubacivanje=new Cvor;
        za_ubacivanje-&gt;karta.boja=ubacena_k.first;
        za_ubacivanje-&gt;karta.vrijednost=ubacena_k.second;
        Cvor *pok(pocetak-&gt;sljedeci);
        pocetak-&gt;sljedeci=pok-&gt;sljedeci;
        delete pok;
        
        
        
        
        /*auto it(std::find_if(s.begin(), s.end(), [ubacena_k] (const std::pair&lt;Boje, std::string&gt; &amp;p1) {
            return int (p1.first)==int(ubacena_k.first) &amp;&amp; p1.second==ubacena_k.second;
        }));
        if(it==s.end()) {                                                       //ukoliko nije pronadjena ista karta iz mape u spilu
            auto it1(std::upper_bound(s.begin(), s.end(), ubacena_k, []
                (const std::pair&lt;Boje, std::string&gt; &amp;karta1,const std::pair&lt;Boje, std::string&gt; &amp;karta2) {
                if(int(karta1.first)!=int(karta2.first))
                    return int(karta1.first)&lt;int(karta2.first);
                else {
                    if(karta1.second==karta2.second) return false;
                    return std::find(vrijednost_k.begin(), vrijednost_k.end(), karta1.second)
                           &lt;std::find(vrijednost_k.begin(), vrijednost_k.end(), karta2.second);
                }
            }));
            s.insert(it1, ubacena_k);
        }*/
    }
}

/*void IspisiSpil(Cvor *pocetak)
{
    Cvor *pok(pocetak);
        std::cout&lt;&lt;"Pik: ";
        do  {
            if(pok-&gt;karta.boja==Boje::Pik) std::cout&lt;&lt;pok-&gt;karta.vrijednost&lt;&lt;" ";
            pok=pok-&gt;sljedeci;
        } while (pok!=pocetak);
        pok=pocetak;
        std::cout&lt;&lt;std::endl&lt;&lt;"Tref: ";
        do {
            if(pok-&gt;karta.boja==Boje::Tref) std::cout&lt;&lt;pok-&gt;karta.vrijednost&lt;&lt;" ";
            pok=pok-&gt;sljedeci;
        } while (pok!=pocetak);
        std::cout&lt;&lt;std::endl&lt;&lt;"Herc: ";
        pok=pocetak;
        do {
            if(pok-&gt;karta.boja==Boje::Herc) std::cout&lt;&lt;pok-&gt;karta.vrijednost&lt;&lt;" ";
            pok=pok-&gt;sljedeci;
        } while (pok!=pocetak);
        std::cout&lt;&lt;std::endl&lt;&lt;"Karo: ";
        pok=pocetak;
        do {
            if(pok-&gt;karta.boja==Boje::Karo) std::cout&lt;&lt;pok-&gt;karta.vrijednost&lt;&lt;" ";
            pok=pok-&gt;sljedeci;
        } while (pok!=pocetak);
}

void UnistiSpil(Cvor *pocetak) {
    Cvor *novi(pocetak-&gt;sljedeci);
    while(novi!=pocetak) {
        novi=pocetak-&gt;sljedeci;
        delete pocetak;
        pocetak=novi;
    }
    delete pocetak;
}

int main()
{
    auto spil(KreirajSpil());
    try {
        std::cout&lt;&lt;"Unesite korak razbrajanja: ";
        int r;
        std::cin&gt;&gt;r;
        std::cout&lt;&lt;"Unesite broj karata koje zelite izbaciti: ";
        int n;
        std::cin&gt;&gt;n;
        auto stek_izbacenih(IzbaciKarteRazbrajanjem(spil, r, n));
        /*std::cout&lt;&lt;"Stek je: ";
        while (!stek_izbacenih.empty()) {
            std::cout&lt;&lt;stek_izbacenih.top().second&lt;&lt;" ";
            stek_izbacenih.pop();
        }*/
        std::cout&lt;&lt;"U spilu trenutno ima "&lt;&lt;52-n&lt;&lt;" karata, i to: "&lt;&lt;std::endl;
        IspisiSpil(spil);
        std::cout&lt;&lt;std::endl&lt;&lt;"Unesite broj karata koje zelite vratiti u spil: ";
        int n1;
        std::cin&gt;&gt;n1;
        VratiPrvihNKarata(spil, stek_izbacenih, n1);
        std::cout&lt;&lt;"U spilu trenutno ima "&lt;&lt;52-n+n1&lt;&lt;" karata, i to:"&lt;&lt;std::endl;
        IspisiSpil(spil);
        UnistiSpil(spil);
    } catch (std::logic_error izuzetak) {
        UnistiSpil(spil);
        std::cout&lt;&lt;"Izuzetak: "&lt;&lt;izuzetak.what()&lt;&lt;std::endl;
    } catch (std::range_error izuzetak ) {
        UnistiSpil(spil);
        std::cout&lt;&lt;"Izuzetak: "&lt;&lt;izuzetak.what()&lt;&lt;std::endl;
    } /*catch (std::domain_error izuzetak) {
        std::cout&lt;&lt;"Izuzetak: "&lt;&lt;izuzetak.what()&lt;&lt;std::endl;*/
    
    return 0;
</font>}*/
</pre>
</body>
</html>
