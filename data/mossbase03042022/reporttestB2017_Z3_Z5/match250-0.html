<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z5/student2142.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z5/student2142.cpp<p></p><pre>
<a name="2"></a><font color="#0000FF"><a href="match250-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_2.gif"/></a>

/B2017/2018: ZadaÄ‡a 3, Zadatak 5
#include &lt;iostream&gt;
#include &lt;string&gt;
#include &lt;vector&gt;
#include &lt;map&gt;
#include &lt;stack&gt;

using namespace std;

enum class Boje {Pik, Tref, Herc, Karo};

const vector&lt;string&gt; Karte{"2","3","4","5","6","7","8","9","10","J","Q","K","A"};
</font>const vector&lt;string&gt; Znakovi{"Pik","Tref","Herc","Karo"};
const vector&lt;int&gt; Vrijednosti{2,3,4,5,6,7,8,9,10,12,13,14,15};

typedef multimap&lt;Boje,string&gt; Mapa;
typedef pair&lt;Boje,string&gt; Par;
typedef stack&lt;Par&gt; Stek;

struct Karta
{
    Boje boja;
    string vrijednost;
};

struct Cvor
{
    Karta karta;
    Cvor* sljedeci;
};

void IspisiStek(Stek s)
{   
    while(s.size())
    {
        cout&lt;&lt;Znakovi[(int)s.top().first]&lt;&lt;"-&gt;"&lt;&lt;s.top().second&lt;&lt;" ";
        s.pop();
    }
            
}

Cvor* KreirajSpil()
{
    Cvor *p=nullptr;
    Cvor *temp=nullptr;
    int br=0;
    
    for(int i=0;i&lt;52;i++)
    {
        Karta k;
        if(i%13==0 &amp;&amp; i!=0) br++;
        k.boja=(Boje)br;
        k.vrijednost=Karte[i%13];
        
        
        Cvor* novi=new Cvor;
        novi-&gt;karta=k;
        
        if(i==0)
            p=novi;
        else 
            temp-&gt;sljedeci=novi;
        
        temp=novi;
        novi-&gt;sljedeci=p;
        
       
    }
    
    return p;
}

int VratiBroj(Cvor* dek)
{
    Cvor* temp=dek;
    int i;
  
    for(i=1;temp-&gt;sljedeci!=dek;temp=temp-&gt;sljedeci,i++);
    return i;
}

void IspisiSpil(Cvor* dek)
{
    int br=0;cout&lt;&lt;"U spilu trenutno ima "&lt;&lt;VratiBroj(dek)&lt;&lt;" karata, i to:"&lt;&lt;endl;
    
     if(VratiBroj(dek)==0)
    {
        for(auto a:Znakovi)
        {
            cout&lt;&lt;a&lt;&lt;": "&lt;&lt;endl;
        }
    }
    else
    {
    
    Cvor* temp=dek;
    
    cout&lt;&lt;Znakovi[(int)temp-&gt;karta.boja]&lt;&lt;": ";
    cout&lt;&lt;temp-&gt;karta.vrijednost&lt;&lt;" ";
    temp=temp-&gt;sljedeci;
    
    for(int i=1;temp!=dek;i++,temp=temp-&gt;sljedeci)
    {  
<a name="5"></a><font color="#FF0000"><a href="match250-1.html#5" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_2.gif"/></a>

        if(br!=(int)temp-&gt;karta.boja)
        {   
            cout&lt;&lt;endl;
            cout&lt;&lt;Znakovi[(int)temp-&gt;karta.boja]&lt;&lt;": ";
</font>            br++;
        }
        cout&lt;&lt;temp-&gt;karta.vrijednost&lt;&lt;" ";
    }
    }
    cout&lt;&lt;endl;
}

void IzbaciKarte(Cvor* &amp;dek,Mapa &amp;m)
{
    Cvor* temp=dek;
    Cvor* pret=dek;
      
    while(temp-&gt;sljedeci!=dek)
    {
        for(auto a=m.begin();a!=m.end();a++)
        {
            if((int)temp-&gt;karta.boja==(int)a-&gt;first 
                    &amp;&amp; temp-&gt;karta.vrijednost==a-&gt;second)
            {
<a name="1"></a><font color="#00FF00"><a href="match250-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_3.gif"/></a>

                Cvor* pom=temp;
                
                while(pret-&gt;sljedeci!=pom)
                    pret=pret-&gt;sljedeci;
                
                
                if(pom==dek)
                {
                    pret-&gt;sljedeci=dek-&gt;sljedeci;
                    dek=dek-&gt;sljedeci;
                }
                else 
                    pret-&gt;sljedeci=pom-&gt;sljedeci;
</font>                
                pom=nullptr;
                delete pom;
                pom=pret-&gt;sljedeci;
                a=m.erase(a);
                if(a==m.end()) break;
            }
           
        }
        temp=temp-&gt;sljedeci;    
    }
    
}
Stek IzbaciKarteRazbrajanjem(Cvor* &amp;dek,short int r,int b)
{
    if(r&lt;1 || r&gt;52 || b&lt;1) throw logic_error("Neispravni elementi za izbacivanje!");
    auto it=dek;auto pret=dek;
    Stek s;
    for(int i=0;i&lt;b;i++)
    {
        for(int j=0;j!=r-1;it=it-&gt;sljedeci,j++);
            
            s.push(make_pair(it-&gt;karta.boja,it-&gt;karta.vrijednost));
                
            while(pret-&gt;sljedeci!=it)
                pret=pret-&gt;sljedeci;
                
                pret-&gt;sljedeci=it-&gt;sljedeci;
                
                
                delete it;
                it=pret-&gt;sljedeci;
        
    }
    return s;
}

<a name="0"></a><font color="#FF0000"><a href="match250-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_3.gif"/></a>

bool ManjiString(string a,string b)
{   
    int i,j;
    for(i=0;i&lt;Karte.size();i++)
        if(a==Karte[i]) break;
    for(j=0;j&lt;Karte.size();j++)
        if(b==Karte[j]) break;
</font>        
        return i&lt;j;
}

void VratiPosljednjihNKarata(Cvor* &amp;dek,Stek &amp;s,int n)
{   
    if(n&lt;0) throw domain_error("Broj n je besmislen!");
    if(n&gt;s.size()) throw range_error("Nedovoljno karata u steku!");
    if(VratiBroj(dek)&gt;52) throw logic_error("Neispravna lista!");
    Cvor* pret=dek;
    for(int i=n;i!=0;i--)
    {   
         
        for(Cvor* it=dek;it-&gt;sljedeci!=dek;it=it-&gt;sljedeci)
        {
            if((int)it-&gt;karta.boja==(int)s.top().first)
            {
                while(ManjiString(it-&gt;karta.vrijednost,s.top().second)&amp;&amp; (int)it-&gt;karta.boja==(int)s.top().first)
                    it=it-&gt;sljedeci;
                  
                pret=dek;  
                while(pret-&gt;sljedeci!=it)
<a name="3"></a><font color="#00FFFF"><a href="match250-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_2.gif"/></a>

                    pret=pret-&gt;sljedeci;
                
                Cvor *novi=new Cvor;
                novi-&gt;karta.boja=s.top().first;
                novi-&gt;karta.vrijednost=s.top().second;
</font>                
                pret-&gt;sljedeci=novi;
                novi-&gt;sljedeci=it;
                it=novi;
                s.pop();
                break;
               
            }
          
        }
    }
}



void UnistiSpil(Cvor* dek)
{
    Cvor* temp=dek;
    Cvor* help=dek-&gt;sljedeci;
    for(;help-&gt;sljedeci!=dek;help=help-&gt;sljedeci)
    {   
        delete temp;
        temp=help;
        
    }
    delete temp;
    delete help;
   
}

int main ()
{
    Cvor* dek=KreirajSpil();
    
    try{
    cout&lt;&lt;"Unesite korak razbrajanja: ";
    int n;cin&gt;&gt;n;
    cout&lt;&lt;"Unesite broj karata koje zelite izbaciti: ";
    int a;cin&gt;&gt;a;
<a name="4"></a><font color="#FF00FF"><a href="match250-1.html#4" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_2.gif"/></a>

     Stek s;
    s=IzbaciKarteRazbrajanjem(dek,n,a);
    IspisiSpil(dek);
    cout&lt;&lt;"Unesite broj karata koje zelite vratiti u spil: ";
    cin&gt;&gt;n;
   
   VratiPosljednjihNKarata(dek,s,n);
   IspisiSpil(dek);
    }catch(domain_error er) { cout&lt;&lt;"Izuzetak: "&lt;&lt;er.what();}
</font>     catch(range_error er) { cout&lt;&lt;"Izuzetak: "&lt;&lt;er.what();}
     catch(logic_error er) {cout&lt;&lt;"Izuzetak: "&lt;&lt;er.what();}
   
   UnistiSpil(dek);
  /*  Mapa m;
    m.insert(make_pair((Boje)2,"5"));
    m.insert(make_pair((Boje)3,"9"));
    m.insert(make_pair((Boje)0,"2"));
    
    //IzbaciKarte(dek,m);
    //IspisiSpil(dek);
    cout&lt;&lt;endl;
    Stek s=IzbaciKarteRazbrajanjem(dek,12,6);
    IspisiStek(s);
    cout&lt;&lt;endl;
    IspisiSpil(dek);
    cout&lt;&lt;endl;
    VratiPosljednjihNKarata(dek,s,4);
    IspisiSpil(dek);*/
    return 0;
}
</pre>
</body>
</html>
