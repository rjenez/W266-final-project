<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z5/student5193.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z5/student6321.cpp<p></p><pre>
/B2017/2018: ZadaÄ‡a 3, Zadatak 5

#include &lt;iostream&gt;
#include &lt;utility&gt;
#include &lt;string&gt;
#include &lt;list&gt;
#include &lt;map&gt;
#include &lt;stdexcept&gt;
#include &lt;queue&gt;
#include &lt;iterator&gt;
#include &lt;sstream&gt;

struct Karta {
    
}
<a name="2"></a><font color="#0000FF"><a href="match785-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_1.gif"/></a>

enum class Boje
{
    Pik, Tref, Herc, Karo
};

typedef std::pair&lt;Boje, std::string&gt; Karta;
typedef std::list&lt;std::pair&lt;Boje, std::string&gt;&gt; Spil;
</font>typedef std::multimap&lt;Boje, std::string&gt; Multimapa;
typedef std::queue&lt;Karta&gt; Red;

// funkcija iz predavanja 3_b
template&lt;typename Tip&gt; std::string PretvoriUString(Tip x)
{
    std::ostringstream s;
    s&lt;&lt;x;
    return s.str();
}
int VratiBoju(const Karta &amp;karta)
{
    if((int) (karta.first) == 0) return 0;
    if((int) (karta.first) == 1) return 1;
    if((int) (karta.first) == 2) return 2;
    if((int) (karta.first) == 3) return 3;
    return 4;//neispravna
}

int VratiVrijednost(const Karta &amp;karta)
{
    if(karta.second == "2") return 2;
    if(karta.second == "3") return 3;
    if(karta.second == "4") return 4;
    if(karta.second == "5") return 5;
    if(karta.second == "6") return 6;
    if(karta.second == "7") return 7;
    if(karta.second == "8") return 8;
    if(karta.second == "9") return 9;
    if(karta.second == "10") return 10;
    if(karta.second == "J") return 11;
    if(karta.second == "Q") return 12;
    if(karta.second == "K") return 13;
    if(karta.second == "A") return 14;
    return 0;//neispravna


}
Spil KreirajSpil()
{

    return { {Boje::Pik, "2"}, {Boje::Pik, "3"}, {Boje::Pik, "4"}, {Boje::Pik, "5"},{Boje::Pik, "6"},{Boje::Pik, "7"},{Boje::Pik, "8"},{Boje::Pik, "9"},{Boje::Pik, "10"},{Boje::Pik, "J"},{Boje::Pik, "Q"},{Boje::Pik, "K"},{Boje::Pik, "A"},
        {Boje::Tref, "2"},{Boje::Tref, "3"},{Boje::Tref, "4"},{Boje::Tref, "5"},{Boje::Tref, "6"},{Boje::Tref, "7"},{Boje::Tref, "8"},{Boje::Tref, "9"},{Boje::Tref, "10"},{Boje::Tref, "J"},{Boje::Tref, "Q"},{Boje::Tref, "K"},{Boje::Tref, "A"},
        {Boje::Herc, "2"},{Boje::Herc, "3"},{Boje::Herc, "4"},{Boje::Herc, "5"},{Boje::Herc, "6"},{Boje::Herc, "7"},{Boje::Herc, "8"},{Boje::Herc, "9"},{Boje::Herc, "10"},{Boje::Herc, "J"},{Boje::Herc, "Q"},{Boje::Herc, "K"},{Boje::Herc, "A"},
        {Boje::Karo, "2"},{Boje::Karo, "3"},{Boje::Karo, "4"},{Boje::Karo, "5"},{Boje::Karo, "6"},{Boje::Karo, "7"},{Boje::Karo, "8"},{Boje::Karo, "9"},{Boje::Karo, "10"},{Boje::Karo, "J"},{Boje::Karo, "Q"},{Boje::Karo, "K"},{Boje::Karo, "A"}
    };
}



void IzbaciKarte (Spil &amp;spil, Multimapa &amp;multimapa)
{
    if(spil.size() &gt; 52) throw std::logic_error("Neispravna lista!");
     
    for(auto m:multimapa) {
        Spil::iterator pozicija_s = spil.begin(); //pozicija karte
        for(auto j = spil.begin(); j != spil.end(); j++) {
            if((m.first == j-&gt;first) &amp;&amp; (m.second == j-&gt;second)) {
                j=spil.erase(j);
                j--;
            }
        }

    }
}



Red IzbaciKarteRazbrajanjem(Spil &amp;spil, const short int &amp;r, const int &amp;b)
{
    if((r&lt;1 || r&gt; 52) || b&lt;1) throw std::logic_error("Neispravni elementi za izbacivanje!");
    if(spil.size() &gt; 52 )throw std::logic_error("Neispravna lista!");

    /*   Spil::iterator prethodna = spil.begin();//iterator na prethodnu
       Spil::iterator k=prethodna++;
       for(auto i=k; i!=spil.end(); i++){
           if((int)(prethodna-&gt;first) &gt; (int)(i-&gt;first))
               throw std::logic_error("Neispravna lista!");
           if((prethodna-&gt;second &gt; i-&gt;second) &amp;&amp; (prethodna-&gt;first &gt;= i-&gt;first))

           std::cout&lt;&lt;prethodna-&gt;second &lt;&lt;" "&lt;&lt; i-&gt;second&lt;&lt; " "&lt;&lt;(int)(prethodna-&gt;first)&lt;&lt;" "&lt;&lt;(int) (i-&gt;first)&lt;&lt;std::endl;
               throw std::logic_error("Neispravna lista!");

       }*/

    Red red;
    int brojac = r-1, brisanje = 0;
    for (auto i=spil.begin(); i!=spil.end(); i++) {
        if(brisanje==b) break;
        for(int j=1; j&lt;=brojac; j++) {
            if(i==spil.end()) {
                i=spil.begin();
            }
            i++;
        }
        if(i == spil.end()) {
            i = spil.begin();
        }
        red.push((*i));
        i = spil.erase(i);
        brisanje++;
        i--;
        brojac = r-1;
    }
    return red;
}



<a name="0"></a><font color="#FF0000"><a href="match785-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_1.gif"/></a>

void VratiPrvihNKarata(Spil &amp;spil, Red &amp;red, int n)
{
    int velicina = red.size();

    if(n &gt; velicina) throw std::range_error("Nedovoljno karata u redu!");
    if(n &lt; 0) throw std::domain_error("Broj n je besmislen!");
</font>
    int za_izbacanje(n);
    for(int i=1; i&lt;=za_izbacanje; i++) {
        Karta karta = red.front();
        spil.push_back(karta);
        red.pop();
    }



    spil.sort([](const Karta &amp;karta_1, const Karta &amp;karta_2) {
        if(VratiBoju(karta_1)&gt;VratiBoju(karta_2)) return false;
        if(VratiVrijednost(karta_1)&gt;VratiVrijednost(karta_2) &amp;&amp; VratiBoju(karta_1)&gt;=VratiBoju(karta_2))
            return false;
        return true;
    });



    /*
        for(int i=0; i&lt;velicina; i++) {
            Karta temp = red.front();
            bool ispravna = false;
    */
    //  if((int)(temp.first) &lt; 0 || (int)(temp.first) &gt; 3) throw std::logic_error("Neispravne karte!");
    /*
            for(int j=2; j &lt;= 10; j++) {
                if(temp.second == PretvoriUString(j)) ispravna = true;
            }
            if(temp.second == "J" || temp.second == "Q" || temp.second == "K" || temp.second == "A") ispravna = true;
            if(ispravna == false) throw std::logic_error("Neispravne karte!");
            red.pop();
            red.push(temp);
        }

        for(int i = 0; i&lt;n; i++) {
            Karta k_red = red.front();
            int boja_k_red = VratiBoju(k_red);
            int vrijednost_k_red = VratiVrijednost(k_red);

            for(auto i=spil.begin(); i != spil.end(); i++) {
                Karta k_spil = *i;
                int boja_k_spil = VratiBoju(k_spil);
                int vrijednost_k_spil = VratiVrijednost(k_spil);
                if(boja_k_red &gt; boja_k_spil)
                    continue;
                if((vrijednost_k_red &gt; vrijednost_k_spil) &amp;&amp; (boja_k_red &gt;= boja_k_spil))
                    continue;

                spil.insert(i, k_red);
            }
            red.pop();
        }
         for(int i=0; i &lt; velicina-n; i++) {
             red.pop();
         }
         velicina = red.size();  
    
        int pik_brojac=0, tref_brojac=0, herc_brojac=0, karo_brojac=0;
        for(int i=0; i&lt;velicina; i++) {
            Karta temp = red.front();

            if((int)(temp.first) == 0) pik_brojac++;
            if((int)(temp.first) == 1) tref_brojac++;
            if((int)(temp.first) == 2) herc_brojac++;
            if((int)(temp.first) == 3) karo_brojac++;

            red.pop();
            red.push(temp);
        }*/

    /* while(!red.empty()) {
         Karta temp = red.front();
         for (auto i=spil.begin(); i!=spil.end(); i++) {
             if(((int)(temp.first) &gt; (int)(i-&gt;first)))
                 continue;
             if(((temp.second &gt; i-&gt;second) &amp;&amp; ((int)(temp.first) &gt;=(int)(i-&gt;first))))
                 continue;

             spil.insert(i,temp);
             red.pop();
         }
     }*/

}

int main ()
{
    Spil spil_karata;

    int korak_r, za_izbacanje;
<a name="3"></a><font color="#00FFFF"><a href="match785-0.html#3" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_1.gif"/></a>

    std::cout&lt;&lt;"Unesite korak razbrajanja: ";
    std::cin&gt;&gt;korak_r;

    std::cout&lt;&lt;"Unesite broj karata koje zelite izbaciti: ";
    std::cin&gt;&gt;za_izbacanje;
 try {
    spil_karata = KreirajSpil();
</font>

    Red red = IzbaciKarteRazbrajanjem(spil_karata,korak_r,za_izbacanje);
    std::cout&lt;&lt;"U spilu trenutno ima "&lt;&lt;spil_karata.size()&lt;&lt;" karata, i to: ";

    int pik_brojac=0, tref_brojac=0, herc_brojac=0, karo_brojac=0;

    for(auto i = spil_karata.begin(); i != spil_karata.end(); i++) {
        if((int)((*i).first) == 0) pik_brojac++;
        if((int)((*i).first) == 1) tref_brojac++;
        if((int)((*i).first) == 2) herc_brojac++;
        if((int)((*i).first) == 3) karo_brojac++;
    }


    int pocetak_pik=0, pocetak_tref=pik_brojac,  pocetak_herc=pik_brojac+tref_brojac,  pocetak_karo=pik_brojac+tref_brojac+herc_brojac;
    int ispisao_pik = false, ispisao_tref = false, ispisao_herc = false, ispisao_karo = false;
    int brojac_ispisa = 0;

    for(auto i = spil_karata.begin(); i != spil_karata.end(); i++) {
        if(ispisao_pik == false &amp;&amp; brojac_ispisa == pocetak_pik) {
            ispisao_pik = true;
            std::cout&lt;&lt;std::endl&lt;&lt;"Pik: ";
        }
        //     std::cout&lt;&lt;(int)((*i).first)&lt;&lt;" "&lt;&lt;(*i).second&lt;&lt;std::endl;
        if(ispisao_tref == false &amp;&amp; brojac_ispisa == pocetak_tref) {
            ispisao_tref = true;
            std::cout&lt;&lt;std::endl&lt;&lt;"Tref: ";
        }
        if(ispisao_herc == false &amp;&amp; brojac_ispisa == pocetak_herc) {
            ispisao_herc = true;
            std::cout&lt;&lt;std::endl&lt;&lt;"Herc: ";
        }
        if(ispisao_karo == false &amp;&amp; brojac_ispisa == pocetak_karo) {
            ispisao_karo = true;
            std::cout&lt;&lt;std::endl&lt;&lt;"Karo: ";
        }
        std::cout&lt;&lt;(*i).second&lt;&lt;" ";
        brojac_ispisa++;
    }
        int za_vracanje;
        std::cout&lt;&lt;"\nUnesite broj karata koje zelite vratiti u spil: ";
        std::cin&gt;&gt;za_vracanje;



        VratiPrvihNKarata(spil_karata, red, za_vracanje);

        std::cout&lt;&lt;"U spilu trenutno ima "&lt;&lt;spil_karata.size()&lt;&lt;" karata, i to: ";

        pik_brojac=0;
        tref_brojac=0;
        herc_brojac=0;
        karo_brojac=0;
        ispisao_pik = false;
        ispisao_tref = false;
        ispisao_herc = false;
        ispisao_karo = false;
        brojac_ispisa=0;

        for(auto i = spil_karata.begin(); i != spil_karata.end(); i++) {
            if((int)((*i).first) == 0) pik_brojac++;
            if((int)((*i).first) == 1) tref_brojac++;
            if((int)((*i).first) == 2) herc_brojac++;
            if((int)((*i).first) == 3) karo_brojac++;
        }
        pocetak_pik=0;
        pocetak_tref=pik_brojac;
        pocetak_herc=pik_brojac+tref_brojac;
        pocetak_karo=pik_brojac+tref_brojac+herc_brojac;

        for(auto i = spil_karata.begin(); i != spil_karata.end(); i++) {
            if(ispisao_pik == false &amp;&amp; brojac_ispisa == pocetak_pik) {
                ispisao_pik = true;
                std::cout&lt;&lt;std::endl&lt;&lt;"Pik: ";
            }
            if(ispisao_tref == false &amp;&amp; brojac_ispisa == pocetak_tref) {
                ispisao_tref = true;
                std::cout&lt;&lt;std::endl&lt;&lt;"Tref: ";
            }
            if(ispisao_herc == false &amp;&amp; brojac_ispisa == pocetak_herc) {
                ispisao_herc = true;
                std::cout&lt;&lt;std::endl&lt;&lt;"Herc: ";
            }
            if(ispisao_karo == false &amp;&amp; brojac_ispisa == pocetak_karo) {
                ispisao_karo = true;
                std::cout&lt;&lt;std::endl&lt;&lt;"Karo: ";
            }
            std::cout&lt;&lt;(*i).second&lt;&lt;" ";
            brojac_ispisa++;
        }
    } catch(std::domain_error izuzetak) {
<a name="1"></a><font color="#00FF00"><a href="match785-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_1.gif"/></a>

        std::cout &lt;&lt; "Izuzetak: "&lt;&lt;izuzetak.what();


    }  catch(std::logic_error izuzetak) {
        std::cout &lt;&lt; "Izuzetak: "&lt;&lt;izuzetak.what();
    }  catch(std::range_error izuzetak) {
        std::cout &lt;&lt; "Izuzetak: "&lt;&lt;izuzetak.what();
</font>    }
        return 0;
    }
</pre>
</body>
</html>
