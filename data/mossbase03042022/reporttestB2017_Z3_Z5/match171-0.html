<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z5/student3776.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z5/student3776.cpp<p></p><pre>
#include &lt;iostream&gt;
#include &lt;queue&gt;
#include &lt;stdexcept&gt;
#include &lt;string&gt;
#include &lt;utility&gt;
enum class Boje {Pik,Tref,Herc,Karo};
struct Karta{
    Boje boja;
    std::string vrijednost;
};
struct Cvor{
    Karta karta;
    Cvor *sljedeci;
};
 
 
std::queue&lt;std::pair&lt;std::string,std::string&gt;&gt; IzbaciKarte(Cvor *&amp;pocetak ,const std::pair&lt;int,int&gt; par);
void VratiPrvihNKarata(Cvor *cvor,std::queue&lt;std::pair&lt;std::string,std::string&gt;&gt; &amp;red,int n);
int PrebrojiKarte(Cvor *cvor);
void UnistiSpil(Cvor *cvor);
Cvor *KreirajSpil();
 
int main() {
    try{
<a name="1"></a><font color="#00FF00"><a href="match171-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_3.gif"/></a>

        Cvor *pok=KreirajSpil();
        int korak,brkarata;
        std::cout&lt;&lt;"Unesite korak razbrajanja: ";
        std::cin&gt;&gt;korak;
        std::cout&lt;&lt;"Unesite broj karata koje zelite izbaciti: ";
        std::cin&gt;&gt;brkarata;
        std::pair&lt;int,int&gt; par_izbaci;
        par_izbaci=std::make_pair(korak,brkarata);
        std::queue&lt;std::pair&lt;std::string,std::string&gt;&gt; red=IzbaciKarte(pok,par_izbaci);
        int brizb=PrebrojiKarte(pok);
</font>        std::cout&lt;&lt;"U spilu trenutno ima: "&lt;&lt;52-brizb&lt;&lt;" karata, i to:"&lt;&lt;std::endl;
        //***ISPIS KARATA U SPILU***
        Cvor *pocetni=pok;
        Boje tmpboja=Boje(0);
       
        std::cout&lt;&lt;"Pik: ";
        for(;;){
            Karta tmpkarta=pocetni-&gt;karta;
            if(tmpkarta.boja!=tmpboja){
                if(tmpkarta.boja==Boje(1)){
                    std::cout&lt;&lt;std::endl;
                    std::cout&lt;&lt;"Tref: ";
                    tmpboja=Boje(1);
                }
                else if(tmpkarta.boja==Boje(2)){
                    std::cout&lt;&lt;std::endl;
                    std::cout&lt;&lt;"Herc: ";
                    tmpboja=Boje(2);
                }  
                else if(tmpkarta.boja==Boje(3)){
                    std::cout&lt;&lt;std::endl;
                    std::cout&lt;&lt;"Karo: ";
                    tmpboja=Boje(3);
                }
            }
            std::cout&lt;&lt;tmpkarta.vrijednost&lt;&lt;" ";
            if(pocetni-&gt;sljedeci==pok){
                break;
            }
            pocetni=pocetni-&gt;sljedeci;
        }
        std::cout&lt;&lt;std::endl;
        /*
        int vracanje;
        std::cout&lt;&lt;"Unesite broj karata koje zelite vratiti u spil: ";
        std::cin&gt;&gt;vracanje;
        VratiPrvihNKarata(pok,red,vracanje);
        std::cout&lt;&lt;"Broj karata u steku: "&lt;&lt;red.size()&lt;&lt;std::endl;
        std::cout&lt;&lt;"Trenutne karte u steku: "&lt;&lt;std::endl;
        std::queue&lt;std::pair&lt;std::string,std::string&gt;&gt; red1=red;
        while(!red1.empty()){
            std::pair&lt;std::string,std::string&gt; p=red1.front();          
            std::cout&lt;&lt;p.first&lt;&lt;" "&lt;&lt;p.second&lt;&lt;std::endl;
            red1.pop();
        }
        std::cout&lt;&lt;"Raspored: "&lt;&lt;std::endl;
        Cvor *sort=pok;
        std::cout&lt;&lt;(sort-&gt;karta).vrijednost&lt;&lt;" ";
        sort=sort-&gt;sljedeci;
        while(sort!=pok){
            std::cout&lt;&lt;(sort-&gt;karta).vrijednost&lt;&lt;" ";
            sort=sort-&gt;sljedeci;
        }
        */
<a name="3"></a><font color="#00FFFF"><a href="match171-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_2.gif"/></a>

        return 0;
    }
    catch(std::logic_error izuzetak){
        std::cout&lt;&lt;"Izuzetak: "&lt;&lt;izuzetak.what()&lt;&lt;std::endl;
    }
    catch(std::range_error izuzetak){
        std::cout&lt;&lt;"Izuzetak: "&lt;&lt;izuzetak.what()&lt;&lt;std::endl;
    }
    catch(const char *c){
        std::cout&lt;&lt;c&lt;&lt;std::endl;
</font><a name="2"></a><font color="#0000FF"><a href="match171-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_3.gif"/></a>

    }
}
Cvor *KreirajSpil(){
    try{
        Cvor *pocetak(nullptr), *prethodni;
    for(int i=0;i&lt;4;i++){
        Boje tmpboja=Boje(i);
        for(int j=2;j&lt;=14;j++) {
            Karta tmpkarta;
            std::string tmp;
            if(j==2)tmp="2";
            else if(j==3)tmp="3";
            else if(j==4)tmp="4";
            else if(j==5)tmp="5";
</font>            else if(j==6)tmp="6";
            else if(j==7)tmp="7";
            else if(j==8)tmp="8";
            else if(j==9)tmp="9";
            else if(j==10)tmp="10";
            else if(j==11)tmp="J";
<a name="0"></a><font color="#FF0000"><a href="match171-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_4.gif"/></a>

            else if(j==12)tmp="Q";
            else if(j==13)tmp="K";
            else if(j==14)tmp="A";
            tmpkarta.boja=tmpboja;
            tmpkarta.vrijednost=tmp;
            Cvor *novi(new Cvor);
            novi-&gt;karta = tmpkarta; novi-&gt;sljedeci = nullptr;
            if(i==0 &amp;&amp; j==2){
                pocetak=novi;
                prethodni=novi;
            }
            else if(i==3 &amp;&amp; j==14) {
                prethodni-&gt;sljedeci = novi;
                novi-&gt;sljedeci=pocetak;
               
            }
            else {
                prethodni-&gt;sljedeci = novi;
                prethodni=novi;
            }
        }
    }
    return pocetak;
       
    }
    catch(std::bad_alloc){
</font>        throw ("Memorijska greska");
    }
}
<a name="4"></a><font color="#FF00FF"><a href="match171-1.html#4" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_2.gif"/></a>

std::queue&lt;std::pair&lt;std::string,std::string&gt;&gt; IzbaciKarte(Cvor *&amp;pocetak,const std::pair&lt;int,int&gt; par){
    if(par.first&lt;1 || par.first&gt;52 || par.second&lt;1)throw std::logic_error("Neispravni elementi za izbacivanje!");
</font>    std::queue&lt;std::pair&lt;std::string,std::string&gt;&gt; red;
    int brkarata=par.second;
    int korak=par.first;
    Cvor *poc=pocetak;
    //za izbacivanje svih karata
    if(brkarata==PrebrojiKarte(poc)){
        Cvor *kopija=pocetak;
        for(int i=0;i&lt;brkarata;i++){
            Karta tmpkarta=kopija-&gt;karta;
            //ubacivanje u red
            std::string tmpstringovski;
            if(tmpkarta.boja==Boje(0))tmpstringovski="Herc";
            if(tmpkarta.boja==Boje(1))tmpstringovski="Karo";
            if(tmpkarta.boja==Boje(2))tmpstringovski="Pik";
            if(tmpkarta.boja==Boje(3))tmpstringovski="Tref";
            std::pair&lt;std::string,std::string&gt; sljpar;
            sljpar=std::make_pair(tmpstringovski,tmpkarta.vrijednost);
            red.push(sljpar);
            kopija=kopija-&gt;sljedeci;
            if(i==brkarata-1){
<a name="5"></a><font color="#FF0000"><a href="match171-1.html#5" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_2.gif"/></a>

                Cvor *krajnji=pocetak;
                while(krajnji-&gt;sljedeci!=pocetak)krajnji=krajnji-&gt;sljedeci;
                krajnji-&gt;sljedeci=nullptr;
                while(pocetak-&gt;sljedeci!=nullptr){
                    Cvor *cvor1=pocetak;
                    pocetak=pocetak-&gt;sljedeci;
                    cvor1-&gt;sljedeci=cvor1;
                    delete cvor1;
</font>                }
                pocetak=nullptr;
            }
        }
    }
    //za izbacivanje n-1 karata
    /*else if(brkarata==PrebrojiKarte(poc)-1){
       
    }*/
    else{
        Cvor *poc1=pocetak;
        int k=0;
        int p=0;
        while((poc-&gt;sljedeci)!=poc1)poc=poc-&gt;sljedeci;
        for(int i=0;i&lt;brkarata;i++){
            for(int j=0;j&lt;korak-1;j++){
                poc1=poc1-&gt;sljedeci;
                poc=poc-&gt;sljedeci;
                p++;
                std::cout&lt;&lt;p;
               
            }
            Karta tmpkarta=poc1-&gt;karta;
            //ubacivanje u red
            std::string tmpstringovski;
            if(tmpkarta.boja==Boje(0))tmpstringovski="Pik";
            if(tmpkarta.boja==Boje(1))tmpstringovski="Tref";
            if(tmpkarta.boja==Boje(2))tmpstringovski="Herc";
            if(tmpkarta.boja==Boje(3))tmpstringovski="Karo";
            std::pair&lt;std::string,std::string&gt; sljpar;
            sljpar=std::make_pair(tmpstringovski,tmpkarta.vrijednost);
            red.push(sljpar);
            //BRISANJE
            Cvor *slijed=poc1;
            if(slijed==pocetak){
                Cvor *priv=pocetak;
                while((priv-&gt;sljedeci)!=pocetak)priv=priv-&gt;sljedeci;
                pocetak=pocetak-&gt;sljedeci;
                priv-&gt;sljedeci=pocetak;
                slijed-&gt;sljedeci=slijed;
                delete slijed;
            }
            else{
                poc1=poc1-&gt;sljedeci;
                poc-&gt;sljedeci=slijed-&gt;sljedeci;
                slijed-&gt;sljedeci=slijed;
                delete slijed;
            }
            k++;
        }
    }
    return red;
}
int PrebrojiKarte(Cvor *cvor){
    Cvor *cvorpoc=cvor;
    int br=0;
<a name="7"></a><font color="#0000FF"><a href="match171-1.html#7" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_1.gif"/></a>

    if(cvor==cvor-&gt;sljedeci){
        br=1;
        return br;
    }
    br++;
    while((cvor-&gt;sljedeci)!=cvorpoc){
        cvor=cvor-&gt;sljedeci;
        br++;
    }
    br=52-br;
    return br;
</font>}
<a name="6"></a><font color="#00FF00"><a href="match171-1.html#6" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_2.gif"/></a>

void VratiPrvihNKarata(Cvor *cvor,std::queue&lt;std::pair&lt;std::string,std::string&gt;&gt; &amp;red,int n){
    int vel=red.size();
    if(n&gt;vel)throw std::range_error("Nedovoljno karata u steku!");
</font>    /*if(cvor==nullptr){
        for(int i=0;i&lt;n;i++){
           
        }
    }
    else{*/
        Cvor *poc=cvor;
        Cvor *uporedni=cvor;
        while((uporedni-&gt;sljedeci)!=poc)uporedni=uporedni-&gt;sljedeci;
        for(int i=0;i&lt;n;i++){
            std::pair&lt;std::string,std::string&gt; par=red.front();
            Boje tmpboja;
            int poredbeni;
            int k;
            if(par.first=="Pik"){
                tmpboja=Boje(0);
                k=0;
            }
            if(par.first=="Tref"){
                tmpboja=Boje(1);
                k=1;
            }
            if(par.first=="Herc"){
                tmpboja=Boje(2);
                k=2;
            }
            if(par.first=="Karo"){
                tmpboja=Boje(3);
                k=3;
            }
            if(par.second=="2")poredbeni=2;
            if(par.second=="3")poredbeni=3;
            if(par.second=="4")poredbeni=4;
            if(par.second=="5")poredbeni=5;
            if(par.second=="6")poredbeni=6;
            if(par.second=="7")poredbeni=7;
            if(par.second=="8")poredbeni=8;
            if(par.second=="9")poredbeni=9;
            if(par.second=="10")poredbeni=10;
            if(par.second=="J")poredbeni=11;
            if(par.second=="Q")poredbeni=12;
            if(par.second=="K")poredbeni=13;
            if(par.second=="A")poredbeni=14;
            int cvorboja;
            if((cvor-&gt;karta).boja==Boje(0))cvorboja=0;
            if((cvor-&gt;karta).boja==Boje(1))cvorboja=1;
            if((cvor-&gt;karta).boja==Boje(2))cvorboja=2;
            if((cvor-&gt;karta).boja==Boje(3))cvorboja=3;
            int cvorp;
            if((cvor-&gt;karta).vrijednost=="2")cvorp=2;
            if((cvor-&gt;karta).vrijednost=="3")cvorp=3;
            if((cvor-&gt;karta).vrijednost=="4")cvorp=4;
            if((cvor-&gt;karta).vrijednost=="5")cvorp=5;
            if((cvor-&gt;karta).vrijednost=="6")cvorp=6;
            if((cvor-&gt;karta).vrijednost=="7")cvorp=7;
            if((cvor-&gt;karta).vrijednost=="8")cvorp=8;
            if((cvor-&gt;karta).vrijednost=="9")cvorp=9;
            if((cvor-&gt;karta).vrijednost=="10")cvorp=10;
            if((cvor-&gt;karta).vrijednost=="J")cvorp=11;
            if((cvor-&gt;karta).vrijednost=="Q")cvorp=12;
            if((cvor-&gt;karta).vrijednost=="K")cvorp=13;
            if((cvor-&gt;karta).vrijednost=="A")cvorp=14;
           
           
            while(cvorboja!=k){
                cvor=cvor-&gt;sljedeci;
                uporedni=uporedni-&gt;sljedeci;
                if((cvor-&gt;karta).boja==Boje(0))cvorboja=0;
                if((cvor-&gt;karta).boja==Boje(1))cvorboja=1;
                if((cvor-&gt;karta).boja==Boje(2))cvorboja=2;
                if((cvor-&gt;karta).boja==Boje(3))cvorboja=3;
            }
            while(cvorp&lt;poredbeni){
                cvor=cvor-&gt;sljedeci;
                uporedni=uporedni-&gt;sljedeci;
                if((cvor-&gt;karta).vrijednost=="2")cvorp=2;
                if((cvor-&gt;karta).vrijednost=="3")cvorp=3;
                if((cvor-&gt;karta).vrijednost=="4")cvorp=4;
                if((cvor-&gt;karta).vrijednost=="5")cvorp=5;
                if((cvor-&gt;karta).vrijednost=="6")cvorp=6;
                if((cvor-&gt;karta).vrijednost=="7")cvorp=7;
                if((cvor-&gt;karta).vrijednost=="8")cvorp=8;
                if((cvor-&gt;karta).vrijednost=="9")cvorp=9;
                if((cvor-&gt;karta).vrijednost=="10")cvorp=10;
                if((cvor-&gt;karta).vrijednost=="J")cvorp=11;
                if((cvor-&gt;karta).vrijednost=="Q")cvorp=12;
                if((cvor-&gt;karta).vrijednost=="K")cvorp=13;
                if((cvor-&gt;karta).vrijednost=="A")cvorp=14;
            }
            Cvor *novi(new Cvor);
            (novi-&gt;karta).boja=tmpboja ;
            (novi-&gt;karta).vrijednost=par.second;
            novi-&gt;sljedeci = nullptr;
            uporedni-&gt;sljedeci=novi;
            novi-&gt;sljedeci=cvor;
            red.pop();
            uporedni=uporedni-&gt;sljedeci;
            while((uporedni-&gt;sljedeci)!=poc)uporedni=uporedni-&gt;sljedeci;
            cvor=poc;
        }
       
   /* }*/
   
}
void UnistiSpil(Cvor *cvor){
    Cvor *krajnji=cvor;
    while(krajnji-&gt;sljedeci!=cvor)krajnji=krajnji-&gt;sljedeci;
    krajnji-&gt;sljedeci=nullptr;
    while(cvor-&gt;sljedeci!=nullptr){
        Cvor *cvor1=cvor;
        cvor=cvor-&gt;sljedeci;
        cvor1-&gt;sljedeci=cvor1;
        delete cvor1;
    }
    delete cvor;
}</pre>
</body>
</html>
