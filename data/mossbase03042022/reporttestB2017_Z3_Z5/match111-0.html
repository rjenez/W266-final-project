<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z5/student7888.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z5/student7888.cpp<p></p><pre>
#include &lt;iostream&gt;
#include &lt;map&gt;
#include &lt;queue&gt;
#include &lt;iostream&gt;
#include &lt;list&gt;
#include &lt;string&gt;
#include &lt;deque&gt;
#include &lt;stdexcept&gt;
#include &lt;vector&gt;
#include &lt;cmath&gt;
#include &lt;utility&gt;

<a name="0"></a><font color="#FF0000"><a href="match111-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_99.gif"/></a>

enum class Boje {Pik, Tref, Herc, Karo};

struct Karta {
    Boje boja;
    std::string vrijednost;
};

struct Cvor {
    Karta karta;
    Cvor* sljedeci;
};

std::string Pretvoriti (std::string s) {
    std::string z;
    if (s=="10") z=":";
    else if (s==":") z="10";
    else if (s=="A") z="a";
    else if (s=="a") z="A";
    else if (s=="K") z="R";
    else if (s=="R") z="K";
    else z=s;
    return z;
}

std::list&lt;std::pair&lt;Boje, std::string&gt;&gt; KreirajSpil () {
    std::list&lt;std::pair&lt;Boje, std::string&gt;&gt; spil (52);
    std::vector&lt;std::string&gt; niz={"2", "3", "4", "5", "6", "7", "8", "9", "10", "J", "Q", "K", "A"};
    auto it=spil.begin();
    for (int j=0; j&lt;13; j++) {
        it-&gt;first=Boje::Pik;
        it-&gt;second=niz.at(j);
        it++;
    }
    for (int j=0; j&lt;13; j++) {
        it-&gt;first=Boje::Tref;
        it-&gt;second=niz.at(j);
        it++;
    }
    for (int j=0; j&lt;13; j++) {
        it-&gt;first=Boje::Herc;
        it-&gt;second=niz.at(j);
        it++;
    }
    for (int j=0; j&lt;13; j++) {
        it-&gt;first=Boje::Karo;
        it-&gt;second=niz.at(j);
        it++;
    }
    return spil;
}

bool ImaLiSmisla (std::queue&lt;std::pair&lt;Boje, std::string&gt;&gt; b) {
    auto a=KreirajSpil();
    auto n=b.size();
    int brejk(0);
    for (int i=0; i&lt;n; i++) {
        int brejk=0;
        auto it=a.begin();
        for (int j=0; j&lt;a.size(); j++) {
            if (b.front()==*it) {brejk=1; break;}
            it++;
        }
        if (brejk==0) return false;
    }
    return true;
}

bool SmijemSeBezSmisla (std::list&lt;std::pair&lt;Boje, std::string&gt;&gt; b) {
    auto a=KreirajSpil();
    auto n=b.size();
    int brejk(0);
    auto ti=b.begin();
    for (int i=0; i&lt;n; i++) {
        int brejk=0;
        auto it=a.begin();
        for (int j=0; j&lt;a.size(); j++) {
            if (it-&gt;first==ti-&gt;first and it-&gt;second==ti-&gt;second) {brejk=1; break;}
            it++;
        }
        ti++;
        if (brejk==0) return false;
    }
    return true;
}

void IzbaciKarte (std::list&lt;std::pair&lt;Boje, std::string&gt;&gt; &amp;spil, std::multimap&lt;Boje, std::string&gt; &amp;mlti) {
    if (spil.size()&gt;52 or SmijemSeBezSmisla(spil)==0) throw std::logic_error("Neispravna lista");
    auto n=mlti.size();
    auto m=spil.size();
    auto it=mlti.begin();
    auto ti=spil.begin();
    for (int i=0; i&lt;n; i++) {
        ti=spil.begin();
        for (int j=0; j&lt;m; j++) {
            if (ti-&gt;first==it-&gt;first and ti-&gt;second==it-&gt;second) {
                spil.erase(ti);
                mlti.erase(it);
            }
            ti++;
        }
        it++;
    }
}

std::queue&lt;std::pair&lt;Boje, std::string&gt;&gt; IzbaciKarteRazbrajanjem (std::list&lt;std::pair&lt;Boje, std::string&gt;&gt; &amp;spil, const short int &amp;r, const int &amp;b) {
    std::queue&lt;std::pair&lt;Boje, std::string&gt;&gt; red;
    if (spil.size()&gt;52 or SmijemSeBezSmisla(spil)==0) throw std::logic_error("Neispravna lista");
    if (r&lt;1 or r&gt;52 or b&lt;1) throw std::logic_error("Neispravni elementi za izbacivanje!");
    int k=1, brojac=0;
    auto it=spil.begin();
    int krug=spil.size();
    for (;;) {
        if (k%r==0) {
            red.push(*it);
            it=spil.erase(it);
            brojac++;
        }
        else it++;
        if (brojac==b) break;
        k++;
        if (it==spil.end()) it=spil.begin();
        if (spil.size()==0) break;
    }
    return red;
}

void VratiPosljednjihNKarata (std::list&lt;std::pair&lt;Boje, std::string&gt;&gt; &amp;spil, std::queue&lt;std::pair&lt;Boje, std::string&gt;&gt; &amp;red, int n) {
    auto m=red.size();
    if (n&lt;0) throw std::domain_error("Broj n je besmislen!");
    if (n&gt;m) throw std::range_error("Nedovoljno karata u redu!");
    if (ImaLiSmisla(red)==false) throw std::logic_error("Neispravne karte");
    for (int i=0; i&lt;n; i++) {
        spil.push_back(red.back());
        red.pop();
    }
    spil.sort( [] (const std::pair&lt;Boje, std::string&gt; &amp;jedan, const std::pair&lt;Boje, std::string&gt; &amp;dva) { return (jedan.first &lt; dva.first) or (jedan.first==dva.first and Pretvoriti(jedan.second) &lt; Pretvoriti(dva.second));});
}

void IspisiSpil (std::list&lt;std::pair&lt;Boje, std::string&gt;&gt; spil) {
    auto it=spil.begin();
    std::cout &lt;&lt; "Pik: ";
    for (int i=0; i&lt;spil.size(); i++) {
        if (it-&gt;first==Boje::Pik) std::cout &lt;&lt; it-&gt;second &lt;&lt; " ";
        it++;
    }
    std::cout &lt;&lt; std::endl;
    it=spil.begin();
    std::cout &lt;&lt; "Tref: ";
    for (int i=0; i&lt;spil.size(); i++) {
        if (it-&gt;first==Boje::Tref) std::cout &lt;&lt; it-&gt;second &lt;&lt; " ";
        it++;
    }
    std::cout &lt;&lt; std::endl;
    it=spil.begin();
    std::cout &lt;&lt; "Herc: ";
    for (int i=0; i&lt;spil.size(); i++) {
        if (it-&gt;first==Boje::Herc) std::cout &lt;&lt; it-&gt;second &lt;&lt; " ";
        it++;
    }
    std::cout &lt;&lt; std::endl;
    it=spil.begin();
    std::cout &lt;&lt; "Karo: ";
    for (int i=0; i&lt;spil.size(); i++) {
        if (it-&gt;first==Boje::Karo) std::cout &lt;&lt; it-&gt;second &lt;&lt; " ";
        it++;
    }
    std::cout &lt;&lt; std::endl;
}

int main ()
{
    try {
        int b, n;
        short int r;
        auto spil=KreirajSpil();
        std::cout &lt;&lt; "Unesite korak razbrajanja: ";
        std::cin &gt;&gt; r;
        std::cout &lt;&lt; "Unesite broj karata koje zelite izbaciti: ";
        std::cin &gt;&gt; b;
        auto red=IzbaciKarteRazbrajanjem(spil, r, b);
        auto t=52-red.size();
        std::cout &lt;&lt; "U spilu trenutno ima " &lt;&lt; t &lt;&lt; " karata, i to:" &lt;&lt; std::endl;
        IspisiSpil(spil);
        std::cout &lt;&lt; "Unesite broj karata koje zelite vratiti u spil: ";
        std::cin &gt;&gt; n;
        VratiPosljednjihNKarata(spil, red, n);
        auto k=t+n;
        std::cout &lt;&lt; "U spilu trenutno ima " &lt;&lt; k &lt;&lt; " karata, i to:" &lt;&lt; std::endl;
        IspisiSpil(spil);
    }
    catch (std::logic_error izuzetak1) {
        std::cout &lt;&lt; "Izuzetak: " &lt;&lt; izuzetak1.what() &lt;&lt; std::endl;
    }
    catch (std::range_error izuzetak2) {
        std::cout &lt;&lt; "Izuzetak: " &lt;&lt; izuzetak2.what() &lt;&lt; std::endl;
    }
    catch (std::domain_error izuzetak3) {
        std::cout &lt;&lt; "Izuzetak: " &lt;&lt; izuzetak3.what() &lt;&lt; std::endl;
    }
    return 0;
</font>}
</pre>
</body>
</html>
