<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z5/student7655.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z5/student7655.cpp<p></p><pre>
/B2017/2018: ZadaÄ‡a 3, Zadatak 5
#include &lt;iostream&gt;
#include &lt;map&gt;
#include &lt;utility&gt;
#include &lt;queue&gt;
using std::string;
std::map&lt;int,string&gt;mapa_karata{{2,"2"},{3,"3"},{4,"4"},{5,"5"},{6,"6"},{7,"7"},{8,"8"},{9,"9"},{10,"10"},{11,"J"},{12,"Q"},{13,"K"},{14,"A"}} ;
std::map&lt;std::string,int&gt;mapa_karata1{{"2",2},{"3",3},{"4",4},{"5",5},{"6",6},{"7",7},{"8",8},{"9",9},{"10",10},{"J",11},{"Q",12},{"K",13},{"A",14}} ;
string s1("Herc"),s2("Karo"),s3("Pik"),s4("Tref"); 
enum class Boje {Herc,Pik,Karo,Tref}; 
struct Karta {
    Boje boja;
    string vrijednost;
}; 

struct Cvor {
    Karta karta;
    Cvor *sljedeci_elemenat;
};
Cvor *KrieirajSpil()
{
    Cvor *poc,*pret;
    for(int i(0);i&lt;4;i++)
    {
           for(int j(2);j&lt;15;j++)
           {
               Karta k;
               k.boja=Boje(i);
               auto it(mapa_karata.find(j));
               k.vrijednost=(it-&gt;second);
               Cvor *novi_cvor(new Cvor);
               novi_cvor-&gt;karta=k;
               //novi_cvor-&gt;sljedeci_elemenat=nullptr;
               if(i==3&amp;&amp;j==14)
               {
                   pret-&gt;sljedeci_elemenat=novi_cvor;
                   novi_cvor-&gt;sljedeci_elemenat=poc;
               }
               if(i==0&amp;&amp;j==2) 
               {
                   poc=novi_cvor;
                   pret=novi_cvor;
               }
               if(i!=0&amp;&amp;i!=3&amp;&amp;j!=14&amp;&amp;j!=2)
               {
                   pret-&gt;sljedeci_elemenat=novi_cvor;
                   pret=novi_cvor;
               }
           }
    }
    return poc;
}
std::queue&lt;std::pair&lt;string,string&gt;&gt; IzbaciKarteRazbrajanjem(Cvor *&amp;pocetni,short int &amp;r,int n)
{
    std::pair&lt;int,int&gt;p;
    p=std::make_pair(r,n);
    int nh(0);
<a name="2"></a><font color="#0000FF"><a href="match362-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_2.gif"/></a>

    if(p.first&lt;1||p.first&gt;52||p.second&lt;1) throw std::logic_error("Neispravni elementi za izbacivanje!");
    std::queue&lt;std::pair&lt;string,string&gt;&gt;pomocni ;
</font>    Cvor *p_veza=pocetni,*p_veza1=pocetni;
    while (p_veza-&gt;sljedeci_elemenat!=p_veza1)  
        p_veza=p_veza-&gt;sljedeci_elemenat;
    for(int i(0);i&lt;p.second;i++)
    {
        for(int j(0);j&lt;p.first;j++)
        {
            p_veza1=p_veza1-&gt;sljedeci_elemenat;
             p_veza=p_veza-&gt;sljedeci_elemenat;
             nh++;
             std::cout &lt;&lt; nh&lt;&lt; std::endl;
        }
        Karta spil=p_veza1-&gt;karta;
        string st;
        if(spil.boja==Boje::Herc) st=s1;
        if(spil.boja==Boje::Karo) st=s2;
        if(spil.boja==Boje::Pik) st=s3;
        if(spil.boja==Boje::Tref) st=s4;
<a name="0"></a><font color="#FF0000"><a href="match362-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_5.gif"/></a>

        std::pair&lt;string,string&gt;par;
        par=std::make_pair(st,spil.vrijednost);
        pomocni.push(par);
        Cvor *s=p_veza1;
        if(s==pocetni);
        {
            Cvor *neki=pocetni;
            while (neki-&gt;sljedeci_elemenat!=pocetni) 
               neki=neki-&gt;sljedeci_elemenat;
            
            pocetni=pocetni-&gt;sljedeci_elemenat;
            neki-&gt;sljedeci_elemenat=pocetni;
            s-&gt;sljedeci_elemenat=s;
            delete s;
</font>        }
        if(s!=pocetni)
        {
            p_veza1=p_veza1-&gt;sljedeci_elemenat;
            p_veza-&gt;sljedeci_elemenat=s-&gt;sljedeci_elemenat;
            s-&gt;sljedeci_elemenat=s;
            delete s;
        }
    } 
    return pomocni;
}
void VratiPrvihNKarata(Cvor *c,std::queue&lt;std::pair&lt;string,string&gt;&gt;&amp;red,int n)
{
<a name="3"></a><font color="#00FFFF"><a href="match362-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_2.gif"/></a>

    if(n&gt;red.size()) throw std::range_error("Nedovoljno karata u steku!");
    Cvor *pocetak=c;
    Cvor *pomocni=c;
    while (pomocni-&gt;sljedeci_elemenat!=pocetak) {
        pomocni=pomocni-&gt;sljedeci_elemenat;
</font>    }
    for(int i(0);i&lt;n;i++)
    {
        std::pair&lt;string,string&gt;parovi;
        parovi=red.front();
        Boje b,provjeri;
        int broj,br;
        string provjeri_vrijednost;
        string s(parovi.first);
        if(s==s1) br=0,b=Boje::Herc;
        if(s==s2) br=1,b=Boje::Karo;
        if(s==s3) br=2,b=Boje::Pik;
        if(s==s4) br=3,b=Boje::Tref;
        s=parovi.second;
        auto it(mapa_karata1.find(s));
        broj=it-&gt;second;
        int broj_boja,broj_vrijednosti;
        provjeri=(c-&gt;karta).boja;
        if(provjeri==Boje(0)) broj_boja=0;
        if(provjeri==Boje(1)) broj_boja=1;
        if(provjeri==Boje(2)) broj_boja=2;
        if(provjeri==Boje(3)) broj_boja=3;
        provjeri_vrijednost=(c-&gt;karta).vrijednost;
        auto it1(mapa_karata1.find(provjeri_vrijednost));
        broj_vrijednosti=it1-&gt;second;
        while (broj_boja!=br) {
           c=c-&gt;sljedeci_elemenat;
           pomocni=pomocni-&gt;sljedeci_elemenat;
           Boje bo((c-&gt;karta).boja);
           if(bo==Boje(0)) broj_boja=0;
           if(bo==Boje(1)) broj_boja=1;
           if(bo==Boje(2)) broj_boja=2;
           if(bo==Boje(3)) broj_boja=3;
        }
        while (broj_vrijednosti&lt;broj) {
            c=c-&gt;sljedeci_elemenat;
            pomocni=pomocni-&gt;sljedeci_elemenat;
            string str((c-&gt;karta).vrijednost);
            auto it(mapa_karata1.find(str));
            broj_vrijednosti=it-&gt;second;
        }
<a name="1"></a><font color="#00FF00"><a href="match362-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_5.gif"/></a>

        Cvor *novi_cvor(new Cvor);
        (novi_cvor-&gt;karta).boja=b;
        (novi_cvor-&gt;karta).vrijednost=parovi.second;
        novi_cvor-&gt;sljedeci_elemenat=nullptr;
        pomocni-&gt;sljedeci_elemenat=novi_cvor;
        novi_cvor-&gt;sljedeci_elemenat=c;
        red.pop();
        pomocni=pomocni-&gt;sljedeci_elemenat;
        while (pomocni-&gt;sljedeci_elemenat!=pocetak) {
            pomocni=pomocni-&gt;sljedeci_elemenat;
        }
        c=pocetak;
</font>    }
}
int main ()
{
    //try
   // {
    Cvor *p=KrieirajSpil();
     std::cout &lt;&lt; "Unesite korak razbrajanja: ";
    short int korak;
    std::cin &gt;&gt; korak;
    int br_karata;
    std::cout &lt;&lt; "Unesite broj karata koje zelite izbaciti: ";
    std::cin &gt;&gt; br_karata; 
    std::multimap&lt;Boje,std::string&gt;m;
    std::queue&lt;std::pair&lt;std::string,std::string&gt;&gt;red;
    red = IzbaciKarteRazbrajanjem(p,korak,br_karata);
    std::cout &lt;&lt; red.size() &lt;&lt; std::endl;
    /*std::cout &lt;&lt; "U spilu trenutno ima "&lt;&lt;s.size()&lt;&lt;" karata, i to:";
    int t(1);
    std::string ref{};
    for(auto x : s)
    {
        b=x.first;
        if(b==Boje::Pik) { str=s1 ; if(ref!=str) t=1; }  
        if(b==Boje::Tref) { str=s2; if(ref!=str) t=1; }
        if(b==Boje::Herc) {str=s3; if(ref!=str) t=1;}
        if(b==Boje::Karo) {str=s4; if(ref!=str) t=1;}
        ref=str;
        if(str==ref&amp;&amp;t==1)
        {
            std::cout &lt;&lt;"\n" &lt;&lt;str&lt;&lt;": ";
            t++;
        }    
            std::cout &lt;&lt;x.second&lt;&lt;" ";
    }  
    }
    catch(std::logic_error &amp;i)
    {
        std::cout &lt;&lt; i.what() &lt;&lt; std::endl;
        return 0;
    }
    std::cout &lt;&lt; "\nUnesite broj karata koje zelite vratiti u spil: ";
    int vrati;
    std::cin &gt;&gt; vrati;

    int t=1;
    std::string ref1{};
    try
    {
    VratiPrvihNKarata(s,red,vrati);
    std::cout &lt;&lt; "U spilu trenutno ima "&lt;&lt;s.size()&lt;&lt;" karata, i to:";
    for(auto x : s)
    {
        b=x.first;
        if(b==Boje::Pik) { str=s1; if(ref1!=str) t=1;}
        if(b==Boje::Tref) {str=s2; if(ref1!=str) t=1; }
        if(b==Boje::Herc) { str=s3; if(ref1!=str) t=1; }
        if(b==Boje::Karo) {str=s4; if(ref1!=str) t=1; }
        ref1=str;
        if(str==ref1&amp;&amp;t==1)
        {
            std::cout &lt;&lt; "\n"&lt;&lt;str &lt;&lt;": ";
            t++;
        }
        std::cout &lt;&lt; x.second&lt;&lt;" ";
    }
    }
    catch(std::range_error &amp;i)
    {
        std::cout &lt;&lt; i.what() &lt;&lt; std::endl;
    }
    catch(std::domain_error &amp;i)
    {
        std::cout &lt;&lt; i.what() &lt;&lt; std::endl;
    }
    catch(std::logic_error &amp;i)
    {
        std::cout &lt;&lt; i.what() &lt;&lt; std::endl;
    }
	return 0; */
}
</pre>
</body>
</html>
