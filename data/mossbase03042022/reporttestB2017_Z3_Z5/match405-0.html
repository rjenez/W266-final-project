<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z5/student3756.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z5/student3756.cpp<p></p><pre>
<a name="0"></a><font color="#FF0000"><a href="match405-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_4.gif"/></a>

/B2017/2018: ZadaÄ‡a 3, Zadatak 5
#include &lt;iostream&gt;
#include &lt;string&gt;
#include &lt;map&gt;
#include &lt;stack&gt;
#include &lt;vector&gt;

using namespace std;

enum class Boje {Pik, Tref, Herc, Karo};

struct Karta
{
    Boje boja;
    string vrijednost;
};

struct Cvor
{
    Karta karta;
    Cvor* sljedeci;
};



Cvor* KreirajSpil()
</font>{
    Cvor *poc=nullptr;    
    Cvor *tren=nullptr;
    
    for(int i=0;i&lt;4;i++)
    {
        for(int j=2;j&lt;16;j++)
        {
            if(j==11) continue;
            
            Karta k;
            k.boja=(Boje)i;
            
            string c;
            
           switch(j)
           {
               case 10:
                c.push_back('1');
                c.push_back('0');
                break;
               
               case 12:
                c.push_back('J');
                break;
                
               case 13:
                c.push_back('Q');
                break;
                
                case 14:
                 c.push_back('K');
                 break;
                
                case 15:
                  c.push_back('A');
                  break;
                  
                default:
                  c.push_back(j+'0');
           }
            
            k.vrijednost=c;
            
            Cvor *novi=new Cvor;
            novi-&gt;karta=k;
            
            if(i==0 &amp;&amp; j==2)
            {
                poc=novi;
                tren=novi;
            }
            else 
            {
                tren-&gt;sljedeci=novi;
                tren=novi;
            }    
            
            
                novi-&gt;sljedeci=poc;
                //delete novi;
        }
        
        
    }
    
    return poc;
}
int VratiVelicinu(Cvor *spil)
{
    int br=0;
    Cvor *temp=spil;
    while(temp-&gt;sljedeci!=spil)
    {
        br++;
        temp=temp-&gt;sljedeci;
    }
    return br+1;
    
}
void IspisiSpil(Cvor *spil)
{

    cout&lt;&lt;"U spilu trenutno ima "&lt;&lt;VratiVelicinu(spil)&lt;&lt;" karata, i to:"&lt;&lt;endl;
    vector&lt;string&gt; v={"Pik","Tref","Herc","Karo"};
    
    
    auto it=spil;
    
    
    int br=(int)it-&gt;karta.boja;
    
    for(;it-&gt;sljedeci!=spil;)
    {   
        cout&lt;&lt;v[br]&lt;&lt;": ";
        while(br==(int)it-&gt;karta.boja)
        {
            cout&lt;&lt;it-&gt;karta.vrijednost&lt;&lt;" ";
            it=it-&gt;sljedeci;
            if(it==spil)break;
        }
        cout&lt;&lt;endl;
        br=(int)it-&gt;karta.boja;   
        if(it==spil) break;
    }
    
    cout&lt;&lt;endl;
}

void IspisiStack(stack&lt;pair&lt;Boje,string&gt;&gt; s)
{
    while(s.size()!=0)
    {
        cout&lt;&lt;(int)s.top().first&lt;&lt;" "&lt;&lt;s.top().second&lt;&lt;" ";
        s.pop();
    }
}

bool JesuIsti(Karta k,pair&lt;Boje,string&gt; p)
{
    return k.vrijednost==p.second &amp;&amp; k.boja==p.first;
}

void IzbaciKarte(Cvor *Spil,multimap&lt;Boje,string&gt; m)
{
    for(auto i=Spil;i-&gt;sljedeci!=Spil;i=i-&gt;sljedeci)
    {
        for(auto j=m.begin();j!=m.end();j++)
        {
            if(JesuIsti(i-&gt;karta,*j))
            {
                //IzbrisiCvor
                Cvor *tren=i;
                Cvor *pret=Spil;
                while(pret-&gt;sljedeci!=tren)
                    pret=pret-&gt;sljedeci;
                    
              pret-&gt;sljedeci=tren-&gt;sljedeci;
              tren=nullptr;
              delete tren;
              tren=pret-&gt;sljedeci;
                
                
                j=m.erase(j);
                if(j==m.end())break;
            }
        }
    }
}


stack&lt;pair&lt;Boje,string&gt;&gt;  IzbaciKarteRazbrajanjem(Cvor *spil,const short int &amp;r,const int b)
{
    stack&lt;pair&lt;Boje,string&gt;&gt; s;
    int i=0;auto it=spil;
    for(;i&lt;b;i++)
    {
        int br=0;
        while(br!=r-1)
        {
            it=it-&gt;sljedeci;
            br++;
        }
        
        s.push(make_pair(it-&gt;karta.boja,it-&gt;karta.vrijednost));
        
                Cvor *tren=it;
<a name="2"></a><font color="#0000FF"><a href="match405-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_2.gif"/></a>

                Cvor *pret=spil;
                while(pret-&gt;sljedeci!=tren)
                    pret=pret-&gt;sljedeci;
                    
              pret-&gt;sljedeci=tren-&gt;sljedeci;
              //tren=nullptr;
              delete tren;
              tren=pret-&gt;sljedeci;
</font>              it=tren;
    }
    
    return s;
}

bool JelManji(string a,string b)
{
<a name="3"></a><font color="#00FFFF"><a href="match405-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_2.gif"/></a>

    vector&lt;string&gt; v={"2","3","4","5","6","7","8","9","10","J","Q","K","A"};
</font>    int index,index1;
    
    for(int i=0;i&lt;v.size();i++)
<a name="4"></a><font color="#FF00FF"><a href="match405-1.html#4" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_2.gif"/></a>

        if(v[i]==a) index=i;
    
    for(int i=0;i&lt;v.size();i++)
        if(v[i]==b) index1=i;
   
    return index&lt;index1;
</font>}
void VratiPosljednjihNKarata(Cvor *spil,stack&lt;pair&lt;Boje,string&gt;&gt; &amp;s,int n)
{
    
    int br=0;
     if(n&gt;s.size())throw range_error("Nedovoljno karata u steku!");
    while(br!=n)
    {
        auto it=spil;
        
        while((int)s.top().first!=(int)it-&gt;karta.boja)
            it=it-&gt;sljedeci;
            
        while(JelManji(it-&gt;karta.vrijednost,s.top().second) &amp;&amp; (int)s.top().first==(int)it-&gt;karta.boja)
            it=it-&gt;sljedeci;
            
            Karta k;
            
            k.boja=s.top().first;
            k.vrijednost=s.top().second;
        //Umetni cvor
              Cvor *novi=new Cvor;
              novi-&gt;karta=k;
            
            
                
                Cvor *pret=spil;
                while(pret-&gt;sljedeci!=it)
                    pret=pret-&gt;sljedeci;
        
                pret-&gt;sljedeci=novi;
                novi-&gt;sljedeci=it;
                
                
                
        s.pop();
        br++;
        
    }
    
}

<a name="1"></a><font color="#00FF00"><a href="match405-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_3.gif"/></a>

void UnistiSpil(Cvor *spil)
{
    Cvor *poc=spil;
    Cvor *pom=spil-&gt;sljedeci;
    while(pom-&gt;sljedeci!=spil)
    {
        delete poc;
        poc=pom;
        pom=pom-&gt;sljedeci;
    }
    delete poc;
    delete pom;
</font>}

int main ()
{
   /* Cvor *spil=KreirajSpil();
    IspisiListu(spil);
    
      multimap&lt;Boje,string&gt; m;
    
    string c;
    c.push_back('A');
    m.insert(make_pair((Boje)2,c));
    m.insert(make_pair((Boje)0,c));
    m.insert(make_pair((Boje)1,c));
    m.insert(make_pair((Boje)3,c));
    IzbaciKarte(spil,m);
    
    cout&lt;&lt;endl;
    IspisiListu(spil); 
    
    spil=KreirajSpil();//const short int n=6;
    stack&lt;pair&lt;Boje,string&gt;&gt; s=IzbaciKarteRazbrajanjem(spil,2,23);
    IspisiStack(s);
    cout&lt;&lt;endl;*/
    
    int n,n1,n2;
    
    Cvor *spil;
    spil=KreirajSpil();
   // IspisiSpil(spil);
    cout&lt;&lt;"Unesite korak razbrajanja: ";
    cin&gt;&gt;n;
    
    cout&lt;&lt;"Unesite broj karata koje zelite izbaciti: ";
    cin&gt;&gt;n1;
    
    if(n&lt;0 || n1&lt;0) {
        cout&lt;&lt;"Izuzetak: Neispravni elementi za izbacivanje!";
        return 0; 
    }
    
   stack&lt;pair&lt;Boje,string&gt;&gt; q=IzbaciKarteRazbrajanjem(spil,n,n1);
   //IspisiStack(q);
   IspisiSpil(spil);
    
    
    try {
    
    cout&lt;&lt;"Unesite broj karata koje zelite vratiti u spil: ";
    cin&gt;&gt;n2;
    
    if(n2&lt;0 || !cin) throw domain_error("Broj n je besmislen!");
    
   VratiPosljednjihNKarata(spil,q,n2);
    IspisiSpil(spil);
    }
    catch(domain_error &amp;e) {cout&lt;&lt;"Izuzetak: "&lt;&lt;e.what();}
    catch(range_error e) {cout&lt;&lt;"Izuzetak: "&lt;&lt;e.what(); }
    
    UnistiSpil(spil);
	return 0;
}
</pre>
</body>
</html>
