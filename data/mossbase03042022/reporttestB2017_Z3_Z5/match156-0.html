<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z5/student2371.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z5/student2371.cpp<p></p><pre>
<a name="0"></a><font color="#FF0000"><a href="match156-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_99.gif"/></a>

/B2017/2018: ZadaÄ‡a 3, Zadatak 5
#include &lt;iostream&gt;
#include&lt;string&gt;
#include&lt;vector&gt;
#include&lt;map&gt;
#include&lt;stack&gt;

using namespace std;

enum class Boje {Pik,Tref,Herc,Karo};


 typedef multimap&lt;Boje,string&gt; Mapa;

 
 struct Karta
 {
     Boje boja;
     string vrijednost;
 };
 
 struct Cvor
 {
     Karta karta;
     Cvor*sljedeci;
 };
 
 Karta stvorikartu(Boje b, string s)
 {
   Karta k;
   k.boja=b; k.vrijednost=s;
   return k;
 }
 
 Cvor* KreirajSpil()
 {
  vector&lt;string&gt; v={"2","3","4","5","6","7","8","9","10","11","12","13","14"};
     Cvor*spil=nullptr;
     Cvor *temp=nullptr;
     int br=0;
     Karta k1=stvorikartu((Boje)br,v[0]);
     for(int i=0;i&lt;52;i++)
     {
         if(i!=0)
          if(i%13==0)br++;
         Karta k=stvorikartu((Boje)br,v[i%13]);
         Cvor* pom=new Cvor;
         pom-&gt;karta=k;
         Karta k3=stvorikartu((Boje)br,v[3]);
         if(i!=0)temp-&gt;sljedeci=pom;
         else spil=pom;
         temp=pom;
         pom-&gt;sljedeci=spil;
     }
     return spil;
 }
 
 int sajz(Cvor* pok)
 {
     Cvor* temp=pok;
     Cvor *t1=pok;
     int br=1;
     while(t1-&gt;sljedeci!=temp){ t1=t1-&gt;sljedeci; br++;}
     return br;
 }
 
 void druga(Cvor *pok, Cvor* temp){
  int br=0;
   vector&lt;string&gt; v={"Pik", "Tref","Herc","Karo"};
   for(int i=1;temp!=pok;temp=temp-&gt;sljedeci)
    {
       if(br!=(int)temp-&gt;karta.boja)
       {
           cout&lt;&lt;endl;
           cout&lt;&lt;v[(int)temp-&gt;karta.boja]&lt;&lt;":";
           br++;
   
       } i++;
       cout&lt;&lt;temp-&gt;karta.vrijednost&lt;&lt;" ";
    }
 }
 
 void UnistiSpil(Cvor* spil)
 {
  Cvor* pom=spil;
  Cvor* pom1=pom-&gt;sljedeci;
  while(pom1-&gt;sljedeci!=spil){
   delete pom; 
   pom=pom1;
   pom1=pom1-&gt;sljedeci;
  }
  delete pom;
  delete pom1;
 }
 
 void IspisiSpil(Cvor* pok)
 {
     int br=0;
     cout&lt;&lt;"U spilu ima"&lt;&lt;sajz(pok)&lt;&lt;"karata,i to:";
     cout&lt;&lt;endl;
    Cvor* temp=pok;
    vector&lt;string&gt; v={"Pik", "Tref","Herc","Karo"};
    int a=(int)temp-&gt;karta.boja;
    cout&lt;&lt;v[a]&lt;&lt;":";
    cout&lt;&lt;temp-&gt;karta.vrijednost&lt;&lt;" ";
    temp=temp-&gt;sljedeci;
    druga(pok,temp);
    
 cout&lt;&lt;endl;
 }
 
void azuriraj(Cvor *it, Cvor *iza)
{
 while(iza-&gt;sljedeci!=it)
         iza=iza-&gt;sljedeci;
         iza-&gt;sljedeci=it-&gt;sljedeci;
         
         delete it;
         it=iza-&gt;sljedeci;
}
 
 stack&lt;pair&lt;Boje,string&gt;&gt; IzbaciKarteRazbrajanjem(Cvor* &amp;pok,short int r,int b)
 {
     Cvor* it=pok; 
     Cvor* iza=pok;
     stack&lt;pair&lt;Boje,string&gt;&gt; s;
     for(int i=0;i&lt;b;i++)
     {
         for(int j=0;j&lt;=r-1;it=it-&gt;sljedeci,j++){}
         
         s.push(make_pair(it-&gt;karta.boja,it-&gt;karta.vrijednost));
         
         azuriraj(it,iza); 
     }
 
     return s;
 }
 
 bool prije(string s1,string s2, vector&lt;string&gt; v)
 {
    
     int ii,jj;
     for(int i=0;i&lt;v.size();i++)
     if(s1==v[i]) ii=i;
     for(int j=0;j&lt;v.size();j++)
     if(s2==v[j]) jj=j;
     if(ii&lt;jj) return true;
     return false;
 }
 void azuriraj1(Cvor*iza, Cvor*n, Cvor *it){
  iza-&gt;sljedeci=n;
             n-&gt;sljedeci=it;
             it=n;
 }
 
 void pomjeri(Cvor *it, pair&lt;Boje,string&gt; s){
  vector&lt;string&gt; v={"2","3","4","5","6","7","8","9","10","J","Q","K"};
  while(prije(it-&gt;karta.vrijednost,s.second,v)&amp;&amp; it-&gt;karta.boja==s.first)
                 it=it-&gt;sljedeci;
 }
 
 void VratiPosljednjihNKarata(Cvor* &amp;pok,stack&lt;pair&lt;Boje,string&gt;&gt; &amp;s,int n)
 {
     Cvor* iza=pok;
     for(int i=0;i&lt;n;i++)
     {
         for(Cvor* it=pok;it-&gt;sljedeci!=pok;it=it-&gt;sljedeci)
         {
             if(it-&gt;karta.boja==s.top().first)
             {
                 pomjeri(it,s.top());
                 iza=pok;
                 while(iza-&gt;sljedeci!=it)iza=iza-&gt;sljedeci;
                 Cvor *n=new Cvor;
                 n-&gt;karta.vrijednost=s.top().second;
                 n-&gt;karta.boja=s.top().first;
                 azuriraj1(iza,n,it);
                 s.pop();
                 break;
            }
     }
 }
 }

 
int main ()
{
 Cvor* spil=KreirajSpil();
    try{
    
    int n;
    cout&lt;&lt;"Unesite korak razbrajanja: ";
    cin&gt;&gt;n;
    cout&lt;&lt;"Unesite broj karata koje zelite izbaciti: ";
    int br;
    cin&gt;&gt;br;
    auto s=IzbaciKarteRazbrajanjem(spil,n,br);
    IspisiSpil(spil);
    cout&lt;&lt;"Unesite broj karata koje zelite vratiti u spil: ";
    cin&gt;&gt;br;
    VratiPosljednjihNKarata(spil,s,br);
    IspisiSpil(spil);
     }
     catch(logic_error iz) {
      cout&lt;&lt;"Izuzetak: "&lt;&lt;iz.what();
      
     } 
     catch(domain_error iz) { 
      cout&lt;&lt;"Izuzetak: "&lt;&lt;iz.what();}
     catch(range_error iz) { 
      cout&lt;&lt;"Izuzetak: "&lt;&lt;iz.what();}
     UnistiSpil(spil);
	return 0;
</font>}
</pre>
</body>
</html>
