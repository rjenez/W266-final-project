<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z5/student7051.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z5/student9340.cpp<p></p><pre>
<a name="0"></a><font color="#FF0000"><a href="match133-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_99.gif"/></a>

/B2017/2018: ZadaÄ‡a 3, Zadatak 5
#include &lt;iostream&gt;
#include &lt;string&gt;
#include &lt;utility&gt;
#include &lt;list&gt;
#include &lt;map&gt;
#include &lt;stdexcept&gt;
#include &lt;stack&gt; /*Izmijenjeno samo umjesto queue - &gt; stack*/
enum class Boje
{
    Pik=0, Tref, Herc, Karo
};
typedef std::list&lt;std::pair&lt;Boje,std::string&gt;&gt; Deklaracija;
void KreirajSpil (Deklaracija&amp; lista)
{
    for (int i=0; i&lt;4; i++) {
        for (int j=1; j&lt;=13; j++) {
            std::pair&lt;Boje,std::string&gt; par;
            if (j==10) par = std::make_pair(Boje(i),"J");
            else if (j==11) par = std::make_pair(Boje(i),"Q");
            else if (j==12) par = std::make_pair(Boje(i),"K");
            else if (j==13) par = std::make_pair(Boje(i),"A");
            else par = std::make_pair(Boje(i),std::to_string(j+1));
            lista.push_back(par);
        }
    }
}
void IspisiSpil (const Deklaracija&amp; lista)
{
    int i(0),prviput0(0),prviput1(0),prviput2(0),prviput3(0);
    for (auto it = lista.begin(); it!=lista.end(); it++) {
        if (int (it-&gt;first) == 0 &amp;&amp; prviput0==0) {
            std::cout&lt;&lt; "Pik: ";
            prviput0++;
        } else if (int (it-&gt;first) == 1 &amp;&amp; prviput1==0) {
            std::cout&lt;&lt;std::endl&lt;&lt; "Tref: ";
            prviput1++;
        } else if (int (it-&gt;first) == 2 &amp;&amp; prviput2==0) {
            std::cout&lt;&lt;std::endl&lt;&lt; "Herc: ";
            prviput2++;
        } else if (int (it-&gt;first) == 3 &amp;&amp; prviput3==0) {
            std::cout&lt;&lt;std::endl&lt;&lt; "Karo: ";
            prviput3++;
        } else;
        std::cout&lt;&lt;it-&gt;second&lt;&lt; " ";
        i++;
    }
}
bool Provjera (const Deklaracija&amp; spil)
{
    if ((spil.size())&gt;52) return false;
    return true;
}
void IzbaciKarte(Deklaracija&amp; lista, std::multimap&lt;Boje,std::string&gt;&amp; mapa)
{
    try {
        if (!Provjera(lista)) throw std::logic_error("Neispravna lista!"); /*DORADI FJU PROVJERA*/ for (auto itMAPE=mapa.begin(); itMAPE!=mapa.end(); itMAPE++) {
            for (auto itLISTE=lista.begin(); itLISTE!=lista.end(); itLISTE++) {
                if (itMAPE-&gt;first==itLISTE-&gt;first &amp;&amp; itMAPE-&gt;second==itLISTE-&gt;second) {
                    for (auto it=lista.begin(); it!=lista.end(); it++) {
                        /*Brisanje para iz LISTE*/ if (it-&gt;first==itLISTE-&gt;first &amp;&amp; it-&gt;second==itLISTE-&gt;second) {
                            it=lista.erase(it);
                        }
                    }
                    mapa.erase(itMAPE-&gt;first); /*Brisanje para iz MAPE*/
                }
            }
        }
    } catch (std::logic_error e) {
        std::cout&lt;&lt;e.what();
        throw;
    }
}
std::stack&lt;std::pair&lt;std::string,std::string&gt;&gt; IzbaciKarteRazbrajanjem (Deklaracija &amp;lista, const short int&amp; r, const int&amp; b )
{
    std::stack &lt;std::pair&lt;std::string,std::string&gt;&gt; red;
    try {
        if (r&lt;1 || r&gt;52 || b&lt;1) throw std::logic_error("Neispravni elementi za izbacivanje!");
        if (!Provjera) throw std::logic_error("Neispravna lista!");
        int broj_izbacenih(0);
        int brojac(1);
        int rr(r);
        for (auto it=lista.begin();; it++) {
            if (it==lista.end()) it=lista.begin();
            if (brojac==rr) {
                std::string s;
                if (int (it-&gt;first) == 0) s="Pik";
                else if (int (it-&gt;first) == 1) s="Tref";
                else if (int (it-&gt;first) == 2) s="Herc";
                else if (int (it-&gt;first) == 3) s="Karo";
                else;
                std::pair&lt;std::string,std::string&gt; par(s,it-&gt;second);
                red.push(par);
                it=lista.erase(it);
                rr=r;
                brojac=1;
                broj_izbacenih++;
            }
            brojac++;
            if (broj_izbacenih==b) break;
        }
    } catch (std::logic_error e) {
        std::cout&lt;&lt;"Izuzetak: "&lt;&lt;e.what();
        throw;
    }
    return red;
}
bool DaLiJeVece (const std::string&amp; poslije,const std::string&amp; karta)
{
    if (karta&gt;="2" &amp;&amp; karta&lt;="8") return poslije&gt;karta;
    else if (karta=="9" &amp;&amp; poslije=="10") return true;
    else if (karta=="10" &amp;&amp; poslije=="J") return true;
    else if (karta=="J" &amp;&amp; poslije=="Q") return true;
    else if (karta=="Q" &amp;&amp; poslije=="K") return true;
    else if (karta=="K" &amp;&amp; poslije=="A") return true;
    else return false;
}
void UbaciKartu (std::pair&lt;std::string,std::string&gt;&amp; par, Deklaracija&amp; lista)
{
    std::pair&lt;Boje,std::string&gt; karta;
    if (par.first==std::string("Pik")) karta=std::make_pair(Boje(0),par.second);
    else if (par.first==std::string("Tref")) karta=std::make_pair(Boje(1),par.second);
    else if (par.first==std::string("Herc")) karta=std::make_pair(Boje(2),par.second);
    else karta=std::make_pair(Boje(3),par.second);
    for (auto it=lista.begin(); it!=lista.end(); it++) { /*Provjera da li se nalaze u spilu karta vec*/
        if (it-&gt;first==karta.first &amp;&amp; it-&gt;second==karta.second) return;
    }
    for (auto it=lista.begin(); it!=lista.end(); it++) {
        if (it-&gt;first==karta.first) {
            auto pom(it),prije(it),poslije(it);
            while(pom-&gt;first==karta.first) {
                poslije++;
                if (karta.second=="A" &amp;&amp; prije-&gt;second=="K") {
                    lista.insert(++prije,karta);
                    break;
                }
                if (DaLiJeVece(prije-&gt;second,karta.second) &amp;&amp; prije!=lista.end()) {
                    lista.insert(prije,karta);
                    break;
                }
                if ((DaLiJeVece(poslije-&gt;second,karta.second)) &amp;&amp; poslije!=lista.end()) {
                    lista.insert(poslije,karta);
                    break;
                }
                prije++;
                pom++;
            }
            break;
        }
    }
}
void VratiPrvihNKarata (Deklaracija&amp; lista,std::stack&lt;std::pair&lt;std::string,std::string&gt;&gt;&amp; red, int n)
{
    try {
        if (n&lt;0) throw std::domain_error("Broj n je besmislen!");  /*Provjeri sta se smatra besmislenim*/
        if (n&gt;red.size()) throw std::range_error ("Nedovoljno karata u steku!");
        if(!Provjera(lista)) throw std::logic_error("Neispravna lista!");
        /*DODATI PROVJERU ZA NEISPRAVAN RED*/
        for (int i=0; i&lt;n; i++) {
            std::pair&lt;std::string,std::string&gt; par (red.top()); /*POGRESAN STRING UBACI*/
            red.pop();
            UbaciKartu(par,lista);
        }

    } catch(std::range_error e) {
        std::cout&lt;&lt;"Izuzetak: "&lt;&lt;e.what();
        throw;
    } catch(std::domain_error e) {
        std::cout&lt;&lt;"Izuzetak: "&lt;&lt;e.what();
        throw;
    }
}
int main ()
{
    try {
        std::cout&lt;&lt;"Unesite korak razbrajanja: ";
        short int r;
        std::cin&gt;&gt;r;
        std::cout&lt;&lt;"Unesite broj karata koje zelite izbaciti: ";
        int b;
        std::cin&gt;&gt;b;
        Deklaracija spil;
        KreirajSpil(spil);
        std::stack&lt;std::pair&lt;std::string,std::string&gt;&gt; red (IzbaciKarteRazbrajanjem(spil,r,b));
        std::cout&lt;&lt;"U spilu trenutno ima "&lt;&lt;spil.size()&lt;&lt;" karata, i to: "&lt;&lt;std::endl;
        IspisiSpil(spil);
        std::cout&lt;&lt;std::endl&lt;&lt;"Unesite broj karata koje zelite vratiti u spil: ";
        int n;
        std::cin&gt;&gt;n;
        VratiPrvihNKarata(spil,red,n);
        std::cout&lt;&lt;"U spilu trenutno ima "&lt;&lt;spil.size()&lt;&lt;" karata, i to: "&lt;&lt;std::endl;
        IspisiSpil(spil);
    } catch(...) {
        return 1;
    };
    return 0;
</font>}</pre>
</body>
</html>
