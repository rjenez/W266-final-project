<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z5/student3551.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z5/student3551.cpp<p></p><pre>
/B2017/2018: ZadaÄ‡a 3, Zadatak 4
#include &lt;iostream&gt;
#include &lt;utility&gt;
#include &lt;list&gt;
#include &lt;map&gt;
#include &lt;stdexcept&gt;
#include &lt;queue&gt;
#include &lt;algorithm&gt;
#include &lt;iterator&gt;

enum class Boje{Pik, Tref, Herc, Karo};
std::string Brojevi[13]{"2","3","4","5","6","7", "8","9","10","J","Q","K","A"};

typedef std::pair&lt;Boje, std::string&gt; KARTA;

struct Karta{
    Boje boja;
    std::string vrijednost; //prepraviti  vrijednost
}

struct Cvor{
    Karta karta;
    Cvor *sljedeci;
}

int vrijednost_karte(const KARTA &amp;k){
    //svakoj karti dajem odredjeni broj
    //100 * redni broj boje + redni broj karte
    //na taj nacin ih je lakse poredati po redu koji je definiran u zadatku
    //vraca -1 ako karta nije smislena
    
    int vrijednost (1);
    if(int(k.first)==0 || int(k.first)==1 || int(k.first)==2 || int(k.first)==3)
        vrijednost *= 100 * int(k.first); 
    for(int j=0; j&lt;13; j++)
        if(Brojevi[j] == k.second){
            return vrijednost + j;
        }
    return -1;
}

Cvor *KreirajSpil(){
    Cvor *pok_na_prvi (nullptr) pok_na_prethodni(nullptr);
    for(int i=0; i&lt;13; i++)
    
    /*
    for(int i=0; i&lt;13; i++)
        L.push_back(std::make_pair(Boje(0),Brojevi[i]));
    for(int i=0; i&lt;13; i++)
        L.push_back(std::make_pair(Boje(1),Brojevi[i]));
    for(int i=0; i&lt;13; i++)
        L.push_back(std::make_pair(Boje(2),Brojevi[i]));
    for(int i=0; i&lt;13; i++)
        L.push_back(std::make_pair(Boje(3),Brojevi[i]));
    return L;
    */
}

bool PrvaKartaManja( KARTA &amp;prva, KARTA &amp;druga){
    return(vrijednost_karte(prva)&lt;=vrijednost_karte(druga));
}

bool JeLiSortirana(std::list&lt;std::pair&lt;Boje, std::string&gt;&gt; &amp;L){
    //vraca true ako je lista bila vec sortirana
    //vraca false ako lista nije bila sortirana i uz to je sortira
    auto iterator_na_zadnji = L.end();
    iterator_na_zadnji--;
    
    for (auto i=L.begin(); i!=iterator_na_zadnji; i++){
        int vrijednost_i (vrijednost_karte(*i)); //vrijednost karte na koju pokazuje iterator i 
        auto j(i); 
        for(j++; j!=L.end(); j++){
            int vrijednost_j(vrijednost_karte(*j));
            if(vrijednost_i &gt; vrijednost_j){
                return false;
            }
        }
    }
    return true;
}

bool SmisleneKarte(std::list&lt;std::pair&lt;Boje, std::string&gt;&gt; &amp;L){
    for (auto i=L.begin(); i!=L.end(); i++){
        if (vrijednost_karte(*i)==-1)
<a name="0"></a><font color="#FF0000"><a href="match415-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_3.gif"/></a>

            return false;
    }
    return true;

    
}

void IzbaciKarte(std::list&lt;std::pair&lt;Boje, std::string&gt;&gt; &amp;L, std::multimap&lt;Boje, std::string&gt; &amp;MM){
    if(L.size()&gt;52) throw std::logic_error("Neispravna lista!");
</font>    if(!JeLiSortirana(L)) throw std::logic_error("Neispravna lista!");
    
        for (auto i=MM.begin(); i!= MM.end(); i++){
            auto k=i;
            for (k++; k!=MM.end();)
                if(vrijednost_karte(*k)==vrijednost_karte(*i)){
                    k = MM.erase(k);
                }
                else
                        k++;
        }
        
        for(auto i=MM.begin(); i!=MM.end(); i++)
            for(auto j=L.begin(); j!= L.end(); )
                if(vrijednost_karte(*i)==vrijednost_karte(*j))
                    j=L.erase(j);
<a name="1"></a><font color="#00FF00"><a href="match415-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_2.gif"/></a>

                else j++;
            
        
}

 
std::queue&lt;std::pair&lt;Boje, std::string&gt;&gt; IzbaciKarteRazbrajanjem(std::list&lt;std::pair&lt;Boje, std::string&gt;&gt; &amp;L, const short int &amp;r, const int b){
</font>    if(b&lt;1 || !(r&gt;0 &amp;&amp; r&lt;53)) throw std::logic_error("Neispravni elementi za izbacivanje!");
    if(L.size()&gt;52) throw std::logic_error("Neispravna lista!");
    if(!SmisleneKarte(L) || !JeLiSortirana(L)) throw std::logic_error("Neispravna lista!");
    
    std::queue&lt;std::pair&lt;Boje, std::string&gt;&gt; q;
    int kopija_n(b);
    for(std::list&lt;std::pair&lt;Boje, std::string&gt;&gt;::iterator i=L.begin(); i!=L.end() &amp;&amp; kopija_n&gt;0; i++){
        int kopija_r(r-1);
        while(kopija_r&gt;0){
            i++;
            if(i==L.end()) i=L.begin();
            kopija_r--;
        }
        kopija_n--;     
        q.push((*i));
        i=L.erase(i);
        i--;
    }
<a name="2"></a><font color="#0000FF"><a href="match415-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_2.gif"/></a>

    return q;
}

void VratiPrvihNKarata(std::list&lt;std::pair&lt;Boje, std::string&gt;&gt; &amp;L,std::queue&lt;std::pair&lt;Boje, std::string&gt;&gt; &amp;R, int n){
</font>    if(n&lt;0) throw std::domain_error("Broj n je besmislen!");
    if(n&gt;R.size()) throw std::range_error("Nedovoljno karata u redu!");
    if(L.size()&gt;52) throw std::logic_error("Neispravna lista!");
    if(!SmisleneKarte(L) || !JeLiSortirana(L)) throw std::logic_error("Neispravna lista!");
    
    for(int i=0; i&lt;n; i++){
        L.push_back(R.front());
        R.pop();
    }
    
    
    L.sort(PrvaKartaManja);
    
}

int main (){
    int r,b, n;
    std::pair&lt;Boje, std::string&gt; k;
    std::list&lt;std::pair&lt;Boje, std::string&gt;&gt; moja_lista;
    moja_lista = KreirajSpil();
    
    
    moja_lista.sort(PrvaKartaManja);
    
<a name="3"></a><font color="#00FFFF"><a href="match415-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_1.gif"/></a>

    std::cout &lt;&lt; "Unesite korak razbrajanja: ";
    std::cin &gt;&gt; r;
    std::cout &lt;&lt; "Unesite broj karata koje zelite izbaciti: ";
    std::cin &gt;&gt; b;
    try{

    //std::multimap&lt;Boje, std::string&gt; MM{{Boje::Pik, "2"},{Boje::Pik, "7"},{Boje::Pik, "2"},{Boje::Pik, "7"},{Boje::Tref, "5"}};
    //IzbaciKarte(moja_lista,MM);
    std::queue&lt;std::pair&lt;Boje, std::string&gt;&gt; q;
</font>    q=IzbaciKarteRazbrajanjem(moja_lista,r,b);
    
    std::cout &lt;&lt; "U spilu trenutno ima " &lt;&lt; moja_lista.size() &lt;&lt; " karata, i to: ";
    
    std::cout &lt;&lt; std::endl &lt;&lt; "Pik: ";
    for(std::pair&lt;Boje, std::string&gt; karta: moja_lista)
        if(int(karta.first)==0) std::cout &lt;&lt; karta.second &lt;&lt; " ";
    
    std::cout &lt;&lt; std::endl &lt;&lt; "Tref: ";
    for(std::pair&lt;Boje, std::string&gt; karta: moja_lista)
        if(int(karta.first)==1) std::cout &lt;&lt; karta.second &lt;&lt; " ";
    
    std::cout &lt;&lt; std::endl &lt;&lt; "Herc: ";
    for(std::pair&lt;Boje, std::string&gt; karta: moja_lista)
        if(int(karta.first)==2) std::cout &lt;&lt; karta.second &lt;&lt; " ";
    
    std::cout &lt;&lt; std::endl &lt;&lt; "Karo: ";
    for(std::pair&lt;Boje, std::string&gt; karta: moja_lista)
        if(int(karta.first)==3) std::cout &lt;&lt; karta.second &lt;&lt; " ";
    
    
    std::cout&lt;&lt; std::endl &lt;&lt; "Unesite broj karata koje zelite vratiti u spil: ";
    std::cin &gt;&gt; n;
    VratiPrvihNKarata(moja_lista,q,n);
    
    std::cout &lt;&lt; "U spilu trenutno ima " &lt;&lt; moja_lista.size() &lt;&lt; " karata, i to: ";
    
    
    std::cout &lt;&lt;std::endl &lt;&lt; "Pik: ";
    for(std::pair&lt;Boje, std::string&gt; karta: moja_lista)
        if(int(karta.first)==0) std::cout &lt;&lt; karta.second &lt;&lt; " ";
    
    std::cout &lt;&lt; std::endl &lt;&lt; "Tref: ";
    for(std::pair&lt;Boje, std::string&gt; karta: moja_lista)
        if(int(karta.first)==1) std::cout &lt;&lt; karta.second &lt;&lt; " ";
    
    std::cout &lt;&lt; std::endl &lt;&lt; "Herc: ";
    for(std::pair&lt;Boje, std::string&gt; karta: moja_lista)
        if(int(karta.first)==2) std::cout &lt;&lt; karta.second &lt;&lt; " ";
    
    std::cout &lt;&lt; std::endl &lt;&lt; "Karo: ";
    for(std::pair&lt;Boje, std::string&gt; karta: moja_lista)
        if(int(karta.first)==3) std::cout &lt;&lt; karta.second &lt;&lt; " ";
    
    }
    catch(std::range_error e){
        std::cout &lt;&lt; "Izuzetak: "&lt;&lt;e.what(); 
    }
    catch(std::domain_error e){
        std::cout &lt;&lt; "Izuzetak: "&lt;&lt;e.what(); 
    }
    catch(std::logic_error e){
        std::cout &lt;&lt; "Izuzetak: "&lt;&lt;e.what(); 
    }

    return 0;
	
}</pre>
</body>
</html>
