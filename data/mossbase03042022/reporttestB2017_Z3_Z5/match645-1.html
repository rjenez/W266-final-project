<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z5/student9443.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z5/student1704.cpp<p></p><pre>
<a name="1"></a><font color="#00FF00"><a href="match645-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_3.gif"/></a>

/B2017/2018: ZadaÄ‡a 3, Zadatak 5
#include &lt;iostream&gt;
#include &lt;string&gt;
#include &lt;stdexcept&gt;
#include &lt;map&gt;

enum class Boje {Pik, Tref, Herc, Karo};

struct Karta {
    Boje boja;
    std::string vrijednost;
};

struct Cvor {
    Karta karta;
    Cvor *sljedeci;
};

std::string PostaviVrijednost(int i) {
</font>    std::string s;
    if(i&gt;13) {
        do {
            i-=13;
        } while(i&gt;13);
    }
        if(i%13&gt;=1 &amp;&amp; i%13&lt;=9) s=std::to_string(i+1);
        else if(i%13==10) s="J";
        else if(i%13==11) s="Q";
        else if(i%13==12) s="K";
        else s="A";
        return s;
}

Cvor *KreirajSpil() {
    Karta x;
    Cvor *pocetak(nullptr), *prethodni;
    for(int i=1; i&lt;=52; i++) {
        if(i&gt;=1 &amp;&amp; i&lt;=13) {
            x.boja=Boje::Pik;
            x.vrijednost=PostaviVrijednost(i);
        }
        else if(i&gt;=14 &amp;&amp; i&lt;=26) {
            x.boja=Boje::Tref;
            x.vrijednost=PostaviVrijednost(i);
        }
        else if(i&gt;=27 &amp;&amp; i&lt;=39) {
            x.boja=Boje::Herc;
            x.vrijednost=PostaviVrijednost(i);
        }
        else {
            x.boja=Boje::Karo;
            x.vrijednost=PostaviVrijednost(i);
        }
    Cvor *novi(new Cvor{x, nullptr});
    if(!pocetak) pocetak=novi;
    else prethodni-&gt;sljedeci=novi;
    prethodni=novi;
    }
    prethodni-&gt;sljedeci=pocetak;
    
    return pocetak;
}

bool TestirajSpil(Cvor *pocetak) {
    Cvor *p=pocetak;
    int i(0);
    do {
        p=p-&gt;sljedeci;
        i++;
    }while(p!=pocetak &amp;&amp; p!=nullptr);
    if(i&gt;52) return false;
    p=pocetak;
    do {
        if(!((p-&gt;karta).boja==Boje::Pik || (p-&gt;karta).boja==Boje::Tref || (p-&gt;karta).boja==Boje::Herc || (p-&gt;karta).boja==Boje::Karo)) return false;
<a name="0"></a><font color="#FF0000"><a href="match645-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_8.gif"/></a>

        if(!((p-&gt;karta).vrijednost=="2" || (p-&gt;karta).vrijednost=="3" || (p-&gt;karta).vrijednost=="4" ||
        (p-&gt;karta).vrijednost=="5" || (p-&gt;karta).vrijednost=="6" || (p-&gt;karta).vrijednost=="7" || (p-&gt;karta).vrijednost=="8" ||
        (p-&gt;karta).vrijednost=="9" || (p-&gt;karta).vrijednost=="10" || (p-&gt;karta).vrijednost=="J" ||
        (p-&gt;karta).vrijednost=="Q" ||(p-&gt;karta).vrijednost=="K" || (p-&gt;karta).vrijednost=="A")) return false;
</font>        p=p-&gt;sljedeci;
    }while(p!=pocetak);
    
    p=pocetak;
    Cvor *prethodni=pocetak;
    do {
        if((prethodni-&gt;karta).boja&gt;(p-&gt;karta).boja) return false;
        prethodni=pocetak;
        p=p-&gt;sljedeci;
    }while(p!=pocetak);
    
    p=pocetak;
    Karta prethodna_karta=p-&gt;karta;
    int vrijednost1;
    if(prethodna_karta.vrijednost=="J") vrijednost1=11;
    else if(prethodna_karta.vrijednost=="Q") vrijednost1=12;
    else if(prethodna_karta.vrijednost=="K") vrijednost1=13;
    else if(prethodna_karta.vrijednost=="A") vrijednost1=14;
    else vrijednost1=std::stoi(prethodna_karta.vrijednost);
    p=p-&gt;sljedeci;
    while(p!=pocetak) {
        int vrijednost2;
        if((p-&gt;karta).vrijednost=="J") vrijednost2=11;
        else if((p-&gt;karta).vrijednost=="Q") vrijednost2=12;
        else if((p-&gt;karta).vrijednost=="K") vrijednost2=13;
        else if((p-&gt;karta).vrijednost=="A") vrijednost2=14;
        else vrijednost2=std::stoi((p-&gt;karta).vrijednost);
        if(prethodna_karta.boja==(p-&gt;karta).boja &amp;&amp; vrijednost1&gt;=vrijednost2) return false;
        prethodna_karta=p-&gt;karta;
        p=p-&gt;sljedeci;
    }while(p!=pocetak);
    return true;
    
}

void IzbaciKarte(Cvor *&amp;pocetak, std::multimap&lt;Boje, std::string&gt; &amp;mapa) {
    if(!TestirajSpil(pocetak)) throw std::logic_error("Neispravna lista");
    for(auto it(mapa.begin()); it!=mapa.end(); it++) {
        Boje m_boja=it-&gt;first;
        std::string m_vrijednost=it-&gt;second;
    Cvor *p=pocetak;
    Cvor *kraj, *temp=pocetak;
    do {
        kraj=temp;
        temp=temp-&gt;sljedeci;
    }while(temp!=pocetak);
    
    Cvor* prethodni=pocetak, *brisi=pocetak;
    do {
        if((p-&gt;karta).boja==m_boja &amp;&amp; (p-&gt;karta).vrijednost==m_vrijednost &amp;&amp; p==pocetak) {
           pocetak=p-&gt;sljedeci;
           delete kraj-&gt;sljedeci;
           kraj-&gt;sljedeci=pocetak;
           for(auto iter(mapa.begin()); iter!=mapa.end(); iter++) {
               if(iter-&gt;first==m_boja &amp;&amp; iter-&gt;second==m_vrijednost) mapa.erase(iter);
           }
        }
        if((p-&gt;karta).boja==m_boja &amp;&amp; (p-&gt;karta).vrijednost==m_vrijednost &amp;&amp; p==kraj) {
            prethodni-&gt;sljedeci=pocetak;
            delete brisi-&gt;sljedeci;
            for(auto iter(mapa.begin()); iter!=mapa.begin(); iter++) {
                if(iter-&gt;first==m_boja &amp;&amp; iter-&gt;second==m_vrijednost) mapa.erase(iter);
            }
        }
        if((p-&gt;karta).boja==m_boja &amp;&amp; (p-&gt;karta).vrijednost==m_vrijednost) {
            prethodni-&gt;sljedeci=p-&gt;sljedeci;
            delete brisi-&gt;sljedeci;
            for(auto iter(mapa.begin()); iter!=mapa.end(); iter++) {
                if(iter-&gt;first==m_boja &amp;&amp; iter-&gt;second==m_vrijednost) mapa.erase(iter);
            }
        }
        prethodni=p;
        brisi=p;
        p=p-&gt;sljedeci;
    }while(p!=pocetak);
    }
}

int main ()
{
    std::multimap&lt;Boje, std::string&gt; mapa {{Boje::Pik, "2"}, {Boje::Herc, "3"}, {Boje::Karo, "A"}};
    Cvor *pocetak=KreirajSpil();
    IzbaciKarte(pocetak, mapa);
    Cvor *p=pocetak;
    do {
        std::cout&lt;&lt;int((p-&gt;karta).boja)&lt;&lt;" "&lt;&lt;(p-&gt;karta).vrijednost&lt;&lt;std::endl;
        p=p-&gt;sljedeci;
    }while(p!=pocetak);
    
	return 0;
}
</pre>
</body>
</html>
