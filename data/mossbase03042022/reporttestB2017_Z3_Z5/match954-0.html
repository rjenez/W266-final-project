<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z5/student2364.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z5/student2364.cpp<p></p><pre>
/B2017/2018: ZadaÄ‡a 3, Zadatak 5
#include &lt;iostream&gt;
#include &lt;string&gt;
#include &lt;list&gt;
#include &lt;map&gt;
#include &lt;stdexcept&gt;
#include &lt;utility&gt;
#include &lt;vector&gt;
#include &lt;queue&gt;
#include &lt;algorithm&gt;

enum class Boje{Pik,Tref,Herc,Karo};
std::vector&lt;Boje&gt;nizBoja{Boje::Pik,Boje::Tref,Boje::Herc, Boje::Karo};
<a name="0"></a><font color="#FF0000"><a href="match954-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_1.gif"/></a>

std::vector&lt;std::string&gt; Vrijednosti{"2", "3", "4", "5", "6", "7", "8", "9", "10", "J", "Q", "K", "A"};
std::list&lt;std::pair&lt;Boje, std::string&gt;&gt;KreirajSpil(){
</font>    std::list&lt;std::pair&lt;Boje, std::string&gt;&gt; Spil;

    for(int i=0; i&lt;nizBoja.size(); i++){
        for(int j=0; j&lt;Vrijednosti.size(); j++)
         Spil.push_back(std::make_pair(nizBoja[i], Vrijednosti[j]));
    }
    return Spil;
}

void DodajUVektor(std::vector&lt;int&gt;&amp;a, int c){
    bool ima(false);
    for(int i=0; i&lt;a.size(); i++){
        if(a[i]==c) ima=true;
        break;}
        if(!ima)a.push_back(c);
    }

bool DodajUVektor1(std::vector&lt;int&gt;&amp;vek, std::string s){
    if(s[0]&gt;='0' &amp;&amp; s[0]&lt;='9'){
        DodajUVektor(vek, s[0]-'0');
        return true;

    }else{
        if(s=="10"){
            DodajUVektor(vek,10);
            return true;
        }else if(s=="J"){
            DodajUVektor(vek,12);
            return true;
        }else if(s=="Q"){
            DodajUVektor(vek,13);
            return true;
        }else if(s=="K"){
            DodajUVektor(vek,14);
            return true;
        }else if(s== "A"){
            DodajUVektor(vek,15);
            return true;
        }
    }
    return false;
    
}
void PomocnaFjaZaProvjeruListe(std::list&lt;std::pair&lt;Boje,std::string&gt;&gt; &amp;spil){
        if(spil.size()&gt;52)throw std::logic_error("Neispravna lista!");
    std::vector&lt;int&gt; niz;
    std::vector&lt;int&gt; nizVr;
    for(auto it=spil.begin(); it!=spil.end();it++){
        switch((*it).first){
            case Boje::Pik:
                DodajUVektor(niz,0);
                break;
            case Boje::Tref:
                DodajUVektor(niz,1);
                break;
            case Boje::Herc:
                DodajUVektor(niz,2);
                break;
            case Boje::Karo:
                DodajUVektor(niz,3);
                break;
        }
        auto t=DodajUVektor1(nizVr,(*it).second);
        if(!t)throw std::logic_error("Neispravna lista!");
        for(int i=0; i&lt;niz.size()-1;i++)
            if(niz[i]&gt;niz[i+1])throw std::logic_error("Neispravna lista!");
    
    }
    
}
void IzbaciKarte(std::list&lt;std::pair&lt;Boje,std::string&gt;&gt; &amp;spil,std::multimap&lt;Boje,std::string&gt; &amp;multimapa){
    PomocnaFjaZaProvjeruListe(spil);
    for(auto it=multimapa.begin();it!=multimapa.end();it++){
        
        auto par=*it;
        
        auto pok=spil.begin();
        
        for(auto it1=spil.begin(); it1!=spil.end();it1++)
            if((*it1).first==par.first &amp;&amp; (*it1).second==par.second){pok=it1;break;}
        if(pok!=spil.end()){
            spil.erase(pok);
            multimapa.erase(it);
            it--;
        }
        
    }
}
std::string DajBoju(Boje b){
    std::string rez;
    if(b==Boje::Pik)rez="Pik";
    else if(b==Boje::Tref)rez="Tref";
    else if(b==Boje::Herc)rez="Herc";
    else rez="Karo";
    return rez;
}
Boje StringUBoju(std::string s){
    Boje b;
    if(s=="Pik")b=Boje::Pik;
    else if(s=="Herc")b=Boje::Herc;
    else if(s=="Karo")b=Boje::Karo;
<a name="1"></a><font color="#00FF00"><a href="match954-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_1.gif"/></a>

    else b=Boje::Tref;
    return b;
}
std::queue&lt;std::pair&lt;std::string,std::string&gt;&gt;IzbaciKarteRazbrajanjem(std::list&lt;std::pair&lt;Boje,std::string&gt;&gt; &amp;spil,const short int &amp;r, const int &amp;b){
</font>    if(r&lt;1 || r&gt;52 || b&lt;1)throw std::logic_error("Neispravni elementi za izbacivanje!");
    std::queue&lt;std::pair&lt;std::string,std::string&gt;&gt; rez;
    auto it=spil.begin();
    int brputa=0;
    for(int i=0; i&lt;b;i++){
        if(spil.size()==0)break;
        
        for(int j=0; j&lt;r-1;j++){
            if(it!=spil.end())it++;
            
            if(it==spil.end())it=spil.begin();
        }
        rez.emplace(std::make_pair(DajBoju((*it).first),(*it).second));
        brputa=0;
        auto pok=spil.begin();
        while(pok!=it){pok++;brputa++;}
        spil.erase(it);
        it=spil.begin();
        int x=0;
        while(x&lt;brputa){x++;it++;}
       // if(it!=spil.end())it++;
        if(it==spil.end())it=spil.begin();
    }
    return rez;
    
}
void SortirajSpil(std::list&lt;std::pair&lt;Boje,std::string&gt;&gt; &amp;spil){
     spil.sort([](std::pair&lt;Boje,std::string&gt; karta1,std::pair&lt;Boje,std::string&gt; karta2){
        int boja1,boja2;
        int vr1,vr2;
        if(karta1.first==Boje::Pik)boja1=0;
        else if(karta1.first==Boje::Tref)boja1=1;
        else if(karta1.first==Boje::Herc)boja1=2;
        else boja1=3;
        if(karta2.first==Boje::Pik)boja2=0;
        else if(karta2.first==Boje::Tref)boja2=1;
        else if(karta2.first==Boje::Herc)boja2=2;
        else boja2=3;
        if(boja2&gt;boja1)return true;
        else if(boja2&lt;boja1)return false;
        else{
            if(karta1.second[0]&gt;='0' &amp;&amp; karta1.second[0]&lt;='9' &amp;&amp; karta1.second.size()==1)vr1=karta1.second[0]-'0';
            else if(karta1.second=="10")vr1=10;
            else if(karta1.second=="J")vr1=12;
            else if(karta1.second=="Q")vr1=13;
            else if(karta1.second=="K")vr1=14;
            else if(karta1.second=="A")vr1=15;
            if(karta2.second[0]&gt;='0' &amp;&amp; karta2.second[0]&lt;='9'&amp;&amp; karta2.second.size()==1)vr2=karta2.second[0]-'0';
            else if(karta2.second=="10")vr2=10;
            else if(karta2.second=="J")vr2=12;
            else if(karta2.second=="Q")vr2=13;
            else if(karta2.second=="K")vr2=14;
            else if(karta2.second=="A")vr2=15;
            return vr2&gt;vr1;
           
        }
        
        
    });
    
}
<a name="2"></a><font color="#0000FF"><a href="match954-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_1.gif"/></a>

void VratiPrvihNKarata(std::list&lt;std::pair&lt;Boje,std::string&gt;&gt; &amp;spil,std::queue&lt;std::pair&lt;std::string,std::string&gt;&gt; &amp;red,int n){
</font>    if(n&lt;0)throw std::domain_error("Broj n je besmislen!");
    else if (n&gt;red.size())throw std::range_error("Nedovoljno karata u redu!");
    PomocnaFjaZaProvjeruListe(spil);
    bool sort=false;
    for(int i=0; i&lt;n;i++){
        auto pa=red.front();
        std::pair&lt;Boje,std::string&gt; par=std::make_pair(StringUBoju(pa.first),pa.second);
         auto pok=spil.end();
        
        for(auto it1=spil.begin(); it1!=spil.end();it1++)
            if((*it1).first==par.first &amp;&amp; (*it1).second==par.second){pok=it1;break;}
        if(pok==spil.end()){
            spil.push_back(par);
            red.pop();
            sort=true;
        }
    
    }
    
    if(sort)SortirajSpil(spil);
    
}

void IspisiSpil(std::list&lt;std::pair&lt;Boje,std::string&gt;&gt; &amp;spil){
    std::cout&lt;&lt;"U spilu trenutno ima "&lt;&lt;spil.size()&lt;&lt;" karata, i to: ";
     std::string ispisanaBoja="-1";
      for (auto it=spil.begin();it!=spil.end();it++){
        
        if(ispisanaBoja!=DajBoju(it-&gt;first)){ispisanaBoja=DajBoju(it-&gt;first); std::cout&lt;&lt;std::endl&lt;&lt;ispisanaBoja&lt;&lt;": ";}
        
        std::cout&lt;&lt;it-&gt;second&lt;&lt; " ";
        
    }
    std::cout&lt;&lt;std::endl;
}
int main () {
    std::cout&lt;&lt;"Unesite korak razbrajanja: ";
    int n;
    std::cin&gt;&gt;n;
    std::cout&lt;&lt;"Unesite broj karata koje zelite izbaciti: ";
    int brkar;
    std::cin&gt;&gt;brkar;
    
    auto spil=KreirajSpil();
    try{
        auto red=IzbaciKarteRazbrajanjem(spil,n,brkar);
        
        
        IspisiSpil(spil);
    
        std::cout&lt;&lt;"Unesite broj karata koje zelite vratiti u spil: ";
        int vrati;
        std::cin&gt;&gt;vrati;
        try{
            VratiPrvihNKarata(spil,red,vrati);
            IspisiSpil(spil);
<a name="3"></a><font color="#00FFFF"><a href="match954-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_1.gif"/></a>

        }catch(std::domain_error a){std::cout&lt;&lt;"Izuzetak: "&lt;&lt;a.what();}
        catch(std::range_error a){std::cout&lt;&lt;"Izuzetak: "&lt;&lt;a.what();
        }
    }catch(std::logic_error a){std::cout&lt;&lt;"Izuzetak: "&lt;&lt;a.what();}
</font>
	return 0;
}
</pre>
</body>
</html>
