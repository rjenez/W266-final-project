<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z5/student1688.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z5/student1688.cpp<p></p><pre>
#include &lt;iostream&gt;
#include &lt;list&gt;
#include &lt;stack&gt;
#include &lt;utility&gt;
#include &lt;set&gt;
#include &lt;vector&gt;
#include &lt;stdexcept&gt;

<a name="0"></a><font color="#FF0000"><a href="match104-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_99.gif"/></a>

enum class Boje {Herc, Karo, Pik, Tref};
std::vector&lt;std::string&gt; Boja {"Herc", "Karo", "Pik", "Tref"};
std::vector&lt;std::string&gt; NaziviKarata {"2", "3", "4", "5", "6", "7", "8", "9", "10", "J", "Q", "K", "A"};

std::list&lt;std::set&lt;Boje&gt;&gt; KreirajSpil(){
    std::list&lt;std::set&lt;Boje&gt;&gt; spil;
    for(int i(0); i &lt; 13; i++){
        std::set&lt;Boje&gt; skup {Boje::Herc, Boje::Karo, Boje::Pik, Boje::Tref};
        spil.push_back(skup);
    }
    return spil;
}
std::stack&lt;std::pair&lt;std::string, std::string&gt;&gt; IzbaciKarte(std::list&lt;std::set&lt;Boje&gt;&gt; &amp;spil, const std::pair&lt;int,int&gt; &amp;par){
    if (par.first &lt; 1 || par.first &gt; 52 || par.second &lt; 1) throw std::logic_error("Neispravni elementi za izbacivanje!");
    if(spil.size() != 13) throw std::logic_error("Neispravna lista!");
    std::stack&lt;std::pair&lt;std::string, std::string&gt;&gt; izbaceneKarte;
    int brojKarata(0);
    auto it = spil.begin();
    for(; it != spil.end(); it++)
        if((*it).empty() == false) break;
    if(it == spil.end()) return izbaceneKarte;
    it = spil.begin();
    int prolaz(0), karta(0);
    for(int i(1);; i++, it++, karta++){
        auto it1 = spil.begin();
        for(; it1 != spil.end(); it1++)
            if((*it1).empty() == false) break;
        if(it1 == spil.end()) return izbaceneKarte;
        
        if(it == spil.end()){
            it = spil.begin();
            karta = 0;
            prolaz++;
            if(prolaz == 4) prolaz = 0;
        }
        if(prolaz == 0 &amp;&amp; (*it).count(Boje::Herc) == 0){
            i--;
        }
        else if(prolaz == 1 &amp;&amp; (*it).count(Boje::Karo) == 0){
            i--;
        }
        else if(prolaz == 2 &amp;&amp; (*it).count(Boje::Pik) == 0){
            i--;
        }
        else if(prolaz == 3 &amp;&amp; (*it).count(Boje::Tref) == 0){
            i--;
        }
        if(i == par.first){
            if(prolaz == 0){
                if((*it).count(Boje::Herc) == 1){
                    izbaceneKarte.push(std::make_pair(Boja[0], NaziviKarata[karta]));
                    (*it).erase(Boje::Herc);
                    brojKarata++;
                }
            }
            else if(prolaz == 1){
                if((*it).count(Boje::Karo) == 1){
                    izbaceneKarte.push(std::make_pair(Boja[1], NaziviKarata[karta]));
                    (*it).erase(Boje::Karo);
                    brojKarata++;
                }
            }
            else if(prolaz == 2){
                if((*it).count(Boje::Pik) == 1){
                    izbaceneKarte.push(std::make_pair(Boja[2], NaziviKarata[karta]));
                    (*it).erase(Boje::Pik);
                    brojKarata++;
                }
            }
            else if(prolaz == 3){
                if((*it).count(Boje::Tref) == 1){
                    izbaceneKarte.push(std::make_pair(Boja[3], NaziviKarata[karta]));
                    (*it).erase(Boje::Tref);
                    brojKarata++;
                }
            }
            i = 0;
        }
        if(brojKarata == par.second) break;
    }
    return izbaceneKarte;
}
void VratiPosljednjihNKarata(std::list&lt;std::set&lt;Boje&gt;&gt; &amp;spil, std::stack&lt;std::pair&lt;std::string, std::string&gt;&gt; &amp;karte, int n){
    if(n &gt; karte.size()) throw std::range_error("Nedovoljno karata u steku!");
    if(spil.size() != 13) throw std::logic_error("Neispravna lista!");
    while(n &gt; 0){
        int brojac1(0), brojac2(0);
        if(karte.top().first == "Herc") brojac1 = 0; else if(karte.top().first == "Karo") brojac1 = 1;
        else if(karte.top().first == "Pik") brojac1 = 2; else if(karte.top().first == "Tref") brojac1 = 3;
        else throw std::logic_error("Neispravne karte!");
        
        if(karte.top().second == "2") brojac2 = 0; else if(karte.top().second == "3") brojac2 = 1;
        else if(karte.top().second == "4") brojac2 = 2; else if(karte.top().second == "5") brojac2 = 3;
        else if(karte.top().second == "6") brojac2 = 4; else if(karte.top().second == "7") brojac2 = 5;
        else if(karte.top().second == "8") brojac2 = 6; else if(karte.top().second == "9") brojac2 = 7;
        else if(karte.top().second == "10") brojac2 = 8; else if(karte.top().second == "J") brojac2 = 9;
        else if(karte.top().second == "Q") brojac2 = 10; else if(karte.top().second == "K") brojac2 = 11;
        else if(karte.top().second == "A") brojac2 = 12; else throw std::logic_error("Neispravne karte!");
        
        auto it = spil.begin();
        for(int i(0); i &lt;= brojac2; i++, it++){
            if(i == brojac2){
                if(brojac1 == 0) {
                    if((*it).count(Boje::Herc) == 0) (*it).insert(Boje::Herc); }
                else if(brojac1 == 1) {
                    if((*it).count(Boje::Karo) == 0) (*it).insert(Boje::Karo); }
                else if(brojac1 == 2) {
                    if((*it).count(Boje::Pik) == 0) (*it).insert(Boje::Pik); }
                else if(brojac1 == 3) {
                    if((*it).count(Boje::Tref) == 0) (*it).insert(Boje::Tref); }
            }
        }
        karte.pop();
        n--;
    }
}
int PrebrojiKarte(const std::list&lt;std::set&lt;Boje&gt;&gt; &amp;spil) {
    if(spil.size() != 13) throw std::logic_error("Neispravna lista!");
    int brojac(0);
    for(auto it = spil.begin(); it != spil.end(); it++)
        brojac += (*it).size();
    return 52 - brojac;
}

int main() {
    auto spil = KreirajSpil();
    int korak, brojKarataIzbaciti, brojKarataVratiti;
    std::cout &lt;&lt; "Unesite korak razbrajanja: ";
    std::cin &gt;&gt; korak;
    std::cout &lt;&lt; "Unesite broj karata koje zelite izbaciti: ";
    std::cin &gt;&gt; brojKarataIzbaciti;
    try {
        auto stek = IzbaciKarte(spil, std::make_pair(korak, brojKarataIzbaciti));
        std::cout &lt;&lt; "U spilu trenutno ima: " &lt;&lt; 52 - PrebrojiKarte(spil) &lt;&lt; " karata, i to:\n";
        std::cout &lt;&lt; "Herc:"; int brojac(0);
        for(auto it = spil.begin(); it != spil.end(); it++, brojac++)
            if((*it).count(Boje::Herc) == 1) std::cout &lt;&lt; " " &lt;&lt; NaziviKarata[brojac];
        std::cout &lt;&lt; "\nKaro:"; brojac = 0;
        for(auto it = spil.begin(); it != spil.end(); it++, brojac++)
            if((*it).count(Boje::Karo) == 1) std::cout &lt;&lt; " " &lt;&lt; NaziviKarata[brojac];
        std::cout &lt;&lt; "\nPik: "; brojac = 0;
        for(auto it = spil.begin(); it != spil.end(); it++, brojac++)
            if((*it).count(Boje::Pik) == 1) std::cout &lt;&lt; " " &lt;&lt; NaziviKarata[brojac];
        std::cout &lt;&lt; "\nTref:"; brojac = 0;
        for(auto it = spil.begin(); it != spil.end(); it++, brojac++)
            if((*it).count(Boje::Tref) == 1) std::cout &lt;&lt; " " &lt;&lt; NaziviKarata[brojac];
        std::cout &lt;&lt; "\nUnesite broj karata koje zelite vratiti u spil: ";
        std::cin &gt;&gt; brojKarataVratiti;
        VratiPosljednjihNKarata(spil, stek, brojKarataVratiti);
        while(!stek.empty()){
            std::cout &lt;&lt; stek.top().first &lt;&lt; " " &lt;&lt; stek.top().second &lt;&lt; std::endl;
            stek.pop();
        }
    }
    catch(std::logic_error e) {
        std::cout &lt;&lt; "Izuzetak: " &lt;&lt; e.what();
    }
    catch(std::range_error e) {
        std::cout &lt;&lt; "Izuzetak: " &lt;&lt; e.what();
</font>    }
    return 0;
}</pre>
</body>
</html>
