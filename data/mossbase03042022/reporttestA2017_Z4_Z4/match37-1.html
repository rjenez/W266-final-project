<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/A2017/Z4/Z4/student1132.c</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/A2017/Z4/Z4/student1366.c<p></p><pre>
#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
<a name="0"></a><font color="#FF0000"><a href="match37-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_99.gif"/></a>

int strcmpi(const char *s1, const char *s2) {
	while (*s1 &amp;&amp; *s2) {
		if (*s1&gt;='A' &amp;&amp; *s1&lt;='Z' &amp;&amp; *s2&gt;='a' &amp;&amp; *s2&lt;='z') {
			if (*s1+32&gt;*s2)
				return 1;
			else if (*s1+32&lt;*s2)
				return -1;
			s1++; s2++;
		}
		if (*s2&gt;='A' &amp;&amp; *s2&lt;='Z' &amp;&amp; *s1&gt;='a' &amp;&amp; *s1&lt;='z') {
			if (*s1&gt;*s2+32)
				return 1;
			else if (*s1&lt;*s2+32)
				return -1;
			s1++; s2++;
		}
		if (*s1&gt;*s2)
			return 1;
		else if (*s1&lt;*s2)
			return -1;
		s1++; s2++;
	}
	if (*s1) 
		return 1;
	if (*s2)
		return -1;
	return 0;
}
int duzinataga(char* htmlkod) {
	int duzina= 0;
	while (*htmlkod!='&gt;' &amp;&amp; *htmlkod!=' ') {
		htmlkod++;
		duzina++;
	}
	return duzina;
}
int izbrojiotvorene(char* htmlkod) {
	int brojac = 0;
	while (*htmlkod) {
		if (*htmlkod=='&lt;' &amp;&amp; *(htmlkod+1)!='/') {
			while (*htmlkod!='&gt;')
				htmlkod++;
			brojac++;
		}
		htmlkod++;
	}
	return brojac;
}
int izbrojizatvorene(char* htmlkod) {
	int brojac = 0;
	while (*htmlkod) {
		if (*htmlkod=='&lt;' &amp;&amp; *(htmlkod+1)=='/') {
			while (*htmlkod!='&gt;')
				htmlkod++;
			brojac++;
		}
		htmlkod++;
	}
	return brojac;
	
}
int provjeri(char* htmlkod) {
	int brojotvorenih, brojzatvorenih, i, duzinaTaga;
	brojotvorenih=izbrojiotvorene(htmlkod);
	brojzatvorenih=izbrojizatvorene(htmlkod);
	if (brojzatvorenih!=brojotvorenih) 
		return 0;
	
	char** otvorenitagovi=malloc(brojotvorenih*sizeof(char *));
	char** zatvorenitagovi=malloc(brojzatvorenih*sizeof(char *));
	
	char* temp = htmlkod;
	char* temp2;
	i=0;
	while (*temp) {
		if (*temp=='&lt;' &amp;&amp; *(temp+1)!='/') {
			temp++;
			duzinaTaga=duzinataga(temp);
			otvorenitagovi[i]=(char *)malloc(duzinaTaga+1);
			temp2=otvorenitagovi[i];
			while (*temp!=' ' &amp;&amp; *temp!='&gt;') 
				*temp2++=*temp++;
			*temp2='\0';
			i++;
		}
		temp++;
	}
	
	i=0;
	temp=htmlkod;
	
	while (*temp) {
		if (*temp=='&lt;' &amp;&amp; *(temp+1)=='/') {
			temp+=2;
			duzinaTaga=duzinataga(temp);
			zatvorenitagovi[i]=(char *)malloc(duzinaTaga+1);
			temp2=zatvorenitagovi[i];
			while (*temp!='&gt;')
				*temp2++=*temp++;
			*temp2='\0';
			i++;
		}
		temp++;
	}
	
	for (i=0;i&lt;brojotvorenih;i++) {
		if (strcmpi(otvorenitagovi[i], zatvorenitagovi[brojzatvorenih-1-i])) {
			for (i=0;i&lt;brojotvorenih;i++) {
				free(otvorenitagovi[i]);
				free(zatvorenitagovi[i]);
			}
			free(otvorenitagovi);
			free(zatvorenitagovi);
			return 0;
		}
			
	}
	
	for (i=0;i&lt;brojotvorenih;i++) {
		free(otvorenitagovi[i]);
		free(zatvorenitagovi[i]);
	}
	free(otvorenitagovi);
	free(zatvorenitagovi);
	return 1;
}
int main() {
	char htmlkod[]={"&lt;div id=""tekst""&gt;&lt;h2&gt;Naslov&lt;/h2&gt;&lt;p&gt;Ovo je &lt;b&gt;četvrti&lt;/b&gt; i &lt;i&gt;posljednji&lt;/i&gt; zadatak iz &lt;a href=""zadaca4""&gt;zadaće 4&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;"};
	int brojotvorenih=izbrojiotvorene(htmlkod);
	int brojzatvorenih=izbrojizatvorene(htmlkod);
	int provjera=provjeri(htmlkod);
	printf ("%d %d, %d", brojotvorenih, brojzatvorenih, provjera);
</font>	return 0;
}
</pre>
</body>
</html>
