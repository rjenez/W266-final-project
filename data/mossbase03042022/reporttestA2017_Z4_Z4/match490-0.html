<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/A2017/Z4/Z4/student8598.c</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/A2017/Z4/Z4/student8598.c<p></p><pre>
#include &lt;stdio.h&gt;
#include &lt;string.h&gt;
#include &lt;stdlib.h&gt;
<a name="0"></a><font color="#FF0000"><a href="match490-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_8.gif"/></a>

void unesi(char niz[], int velicina)
{
	char znak = getchar();
	if (znak == '\n') znak=getchar();
	int i = 0;
	while (i &lt; velicina-1 &amp;&amp; znak != '\n') {
		niz[i] = znak;
		i++;
		znak = getchar();
	}
	niz[i]='\0';
</font>}
struct stack_entry {
	char *data;
	struct stack_entry* next;
};

struct stack_t {
	struct stack_entry* head;
};

struct stack_t
*newstack(void)
{
	struct stack_t*stack=malloc(sizeof *stack);
	if(stack) {
		stack-&gt;head=NULL;

	}
	return stack;
}

char*copystring(char* str){
	char *tmp=malloc(strlen(str)+1);
	if(tmp)
	strcpy(tmp,str);
	return tmp;
}

void push(struct stack_t *thestack, char* value){
	struct stack_entry *entry=malloc(sizeof *entry);
	if(entry){
		entry-&gt;data=copystring(value);
		entry-&gt;next=thestack-&gt;head;
		thestack-&gt;head=entry;
	}
}

char* top(struct stack_t *thestack){
	if(thestack &amp;&amp; thestack-&gt;head)
	return thestack-&gt;head-&gt;data;
	else 
	return NULL;
}

void pop(struct stack_t *thestack){
	if(thestack-&gt;head!=NULL){
		struct stack_entry*tmp=thestack-&gt;head;
		thestack-&gt;head=thestack-&gt;head-&gt;next;
		free(tmp-&gt;data);
		free(tmp);
	}
}

void clear(struct stack_t *thestack){
	while(thestack-&gt;head!=NULL)
	pop(thestack);
}

void destroystack(struct stack_t **thestack)
{
  clear(*thestack);
  free(*thestack);
  *thestack = NULL;
}

int provjeri(char *htmlkod)
{
	char tag[100];

	struct stack_t *thestack=newstack();
	int i=0,zatvorentag=0,j=0,d=0, k=0, m=0;
		
	for(i=0; i&lt;strlen(htmlkod); i++) {
		if(htmlkod[i]=='&lt;') {
			if(htmlkod[i+1]=='/')
				zatvorentag=1;
			else
				zatvorentag=0;
			j=0;
			if(htmlkod[i+1] == '&gt;') return 0;
			while(htmlkod[i+1+j]!='&gt;') {
				if(htmlkod[i+1+j]==' ') break;
				j++;
			}
			if(j&gt;0) {
				memset(&amp;tag[0],0,sizeof(tag));
				d=0;
				if(zatvorentag)
					j--;
				while(d&lt;j) {
				
					       if(zatvorentag)
						      tag[d]= htmlkod[i+d+2];
					else
						tag[d]=	htmlkod[i+d+1];
					d++;

				}
			}
			if(zatvorentag){
				
				char *data;
				data=top(thestack);
			 for(k=0; k &lt; strlen(data); k++){
				data[k]=data[k]&gt;0x40&amp;&amp;data[k]&lt;0x5b?data[k]|0x60:data[k];
			}
				for (m = 0; m &lt; strlen(tag); m++) {
            tag[m] = tag[m] &gt; 0x40 &amp;&amp; tag[m] &lt; 0x5b ? tag[m] | 0x60 : tag[m];
          }
				if(strcmp(data,tag)==0) {
					pop(thestack);
				}
				else {
					  clear(thestack);
				  destroystack(&amp;thestack);
				  char *data =  0;
				  return 0;
				}
				}
					else
					push(thestack,tag);
				}
			}
			if(thestack-&gt;head==NULL) {
				  clear(thestack);
					  destroystack(&amp;thestack);
			return 1;
			}
			else {
				  clear(thestack);
				  destroystack(&amp;thestack);
			return 0;
			}
}
int main()
{
	char x[100];
	int a;
	printf("Unesite velicinu stringa: ");
	scanf("%d", &amp;a);
	printf("Unesite html kod: ");
	unesi(x,a);
	printf("%d", provjeri(x));
	return 0;
}</pre>
</body>
</html>
