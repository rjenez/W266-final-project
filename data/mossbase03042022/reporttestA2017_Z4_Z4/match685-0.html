<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/A2017/Z4/Z4/student2351.c</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/A2017/Z4/Z4/student2351.c<p></p><pre>
#include &lt;stdio.h&gt;

int slovoIliBroj(char c) {
	return (c &gt;= 'a' &amp;&amp; c &lt;= 'z') || (c &gt;= 'A' &amp;&amp; c &lt;= 'Z') || (c &gt;= '0' &amp;&amp; c &lt;= '9');
}

/**
 * funkcija provjerava da li su dva slova ili broja ista, zanemaruje razliku izmedju
 * 	velikih i malih slova
 * @param char c1
 * @param char c2
 * @return int | bool vraca 1(true) ako su slova/brojevi ista/i, 0 (false) u suprotnom
 */
int ista_slova_ili_brojevi(char c1, char c2) {
	if (c1 == c2) return 1;
	
	if (c1 &gt;= 'a' &amp;&amp; c1 &lt;= 'z' &amp;&amp; c1 - 32 == c2) return 1;
	
	if (c1 &gt;= 'A' &amp;&amp; c1 &lt;= 'Z' &amp;&amp; c1 + 32 == c2) return 1;
	
	return 0;
}

int porediStringove(char * prvi, char * drugi) {
	while (*prvi != '\0') {
		if (*drugi == '\0') return 0;
		if (! ista_slova_ili_brojevi(*prvi, *drugi)) return 0;
		prvi++;
		drugi++;
	}
	return *drugi == '\0';
}

char * uzmiOtvarajuciTag(char * s, char * tag) {
	int tagUzet= 0;
	while (*s != '&lt;' &amp;&amp; *s != '\0') s++;
	if (*s != '\0') s++;
	if (*s == '/') return NULL;
	while (*s != '&gt;' &amp;&amp; *s != '\0') {
		while (*s != ' ' &amp;&amp; *s != '&gt;' &amp;&amp; ! tagUzet &amp;&amp; *s != '\0') {
			*tag++ = *s++;
		}
		tagUzet = 1;
		if (*s == '&gt;') break;
		else s++;
	}
	*tag = '\0';
	return *s == '\0' ? NULL : s;
}

char * uzmiZatvarajuciTag(char * s, char * tag) {
	int tagUzet= 0;
	while (*s != '&lt;' &amp;&amp; *s != '\0') s++;
	if (*s != '\0') s++;
	if (*s != '/') return NULL;
	while (*s != '&gt;' &amp;&amp; *s != '\0') {
		s++;
		while (*s != ' ' &amp;&amp; *s != '&gt;' &amp;&amp; ! tagUzet &amp;&amp; *s != '\0') {
			*tag++ = *s++;
		}
		tagUzet = 1;
		if (*s == '&gt;') break;
		else s++;
	}
	*tag = '\0';
	return *s == '\0' ? NULL : s;
}

int daLiJeIspravanHTML(char * s) {
	while (*s != '\0') {
		if (*s++ == '&lt;') {
			if (*s == '/') s++;
			if (*s == ' ' || *s == '&gt;') {
				return 0;
			}
			
			// &lt;p&gt;jos gore^2, xd, &lt;/p &lt;/p&gt;
			
			// while (*s != '\0' &amp;&amp; *s != ' ' &amp;&amp; slovoIliBroj(*s)) s++;
			while (*s != '\0' &amp;&amp; slovoIliBroj(*s)) s++;
		
			// if (*s != ' ' &amp;&amp; *s != '/' &amp;&amp; *s != '&gt;') return 0;
			
			
			while (*s != '\0' &amp;&amp; *s != '&gt;') {
				while (*s == ' ') s++;
				
				if (*s == '&lt;') {
					return 0;
				}
				if (*s != '\0' &amp;&amp; *s != '&gt;') s++;
			}
			if (*s != '&gt;') {
				return 0;
			}
		}
	}
	return 1;
}

int istiBrojOtvorenihIZatvorenih(char * s) {
	char * p = s, *temp, tag[100];
	int otvorenih = 0, zatvorenih = 0;
	while (*p != '\0') {
		temp = uzmiOtvarajuciTag(p, tag);
		if (temp != NULL &amp;&amp; ! porediStringove(tag, "")) {
			p = temp;
			otvorenih++;
		} else if (*p != '\0') {
			p++;
		}
		//printf ("\t%s\n", p);
	}
	p = s;
	while (*p != '\0') {
		temp = uzmiZatvarajuciTag(p, tag);
		if (temp != NULL &amp;&amp; ! porediStringove(tag, "")) {
			p = temp;
			zatvorenih++;
		} else if (*p != '\0') {
			p++;
		}
		//printf ("\t%s\n", p);
	}
	
	return otvorenih == zatvorenih;
}



void kopirajString(char * s1, char * s2) {
	while (*s1 != '\0') *s2++ = *s1++;
	*s2 = '\0';
}

int provjeri(char * tekst) {
	char tag[100], tagZaPoredjenje[200];
	char * p = tekst, *temp = tekst, *q;
	int brojacOtvorenih = 0, brojacZatvorenih = 0, pronadjen = 0;
	char izvorni[500];
	kopirajString(tekst, izvorni);
	
	if (! daLiJeIspravanHTML(tekst) || ! istiBrojOtvorenihIZatvorenih(tekst)) return 0;
	
	while (*p != '\0') {
		temp = uzmiOtvarajuciTag(p, tag);
		if (temp != NULL &amp;&amp; ! porediStringove(tag, "")) {
			p = temp;
			q = p;
			// printf("\t%s - ", tag);
			brojacOtvorenih = 0;
			brojacZatvorenih = 0;
			pronadjen = 0;
			while (*q != '\0') {
				temp = uzmiZatvarajuciTag(q, tagZaPoredjenje);
				if (temp != NULL) {
					// printf("%s,\t", tagZaPoredjenje);
					 //printf("\t'%s' poredim sa '%s'\totvorenih = %d\tzatvorenih = %d\n", 
					 //		tag, tagZaPoredjenje, brojacOtvorenih, brojacZatvorenih);
					
					if (porediStringove(tag, tagZaPoredjenje)) {
						
						if (brojacOtvorenih == brojacZatvorenih) {
							pronadjen = 1;
							break;
						}
						//return 0;
						
					}
					brojacZatvorenih++;
					q = temp;
				} else {
					temp = uzmiOtvarajuciTag(q, tagZaPoredjenje);
					if (temp != NULL) {
						// printf("\t%s\n\n", q);
						brojacOtvorenih++;
						q = temp;
					} else if (*q != '\0') {
						q++;
					}
				}
			}
			// printf("\t'%s' poredim sa '%s'\tbrojac = %d\tpronadjen = %s\n", 
			// 		tag, tagZaPoredjenje, brojac, pronadjen ? "true" : "false");
			if (! pronadjen) return 0;
			// printf("\n");
		} else if (*p != '\0') {
			p++;
		}
		//printf ("\t%s\n", p);
	}
	return 1;
}

int main() {
	char s[200] = "&lt;div id=\"tekst\"&gt;&lt;h2&gt;Naslov&lt;/h2&gt;&lt;p&gt;Ovo je &lt;b&gt;četvrti&lt;/b&gt; i &lt;i&gt;posljednji&lt;/i&gt; zadatak iz &lt;a href=\"zadaca4\"&gt;zadaće 4&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;";
    // printf("%s\n\n", s);
    // printf("\n\n%s", daLiJeIspravanHTML(s) ? "ispravan" : "nije ispravan");
    // printf("%s\n", provjeri(s) ? "dobar" : "los");
	// printf ("Provjera 1: %d\n", provjeri("&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;a href='https://etf.unsa.ba'&gt;etf.unsa.ba stranica&lt;/a&gt;&lt;/span&gt;&lt;/span&gt;"));
	// printf ("Provjera 2: %d\n", provjeri("&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;a href='https://etf.unsa.ba'&gt;etf.unsa.ba stranica&lt;/a&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;"));
	// printf ("Provjera 3: %d\n", provjeri("&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;a href='https://etf.unsa.ba'&gt;etf.unsa.ba stranica&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;"));
	// printf ("Provjera 4: %d\n", provjeri("&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;a href='https://etf.unsa.ba'&gt;etf.unsa.ba stranica&lt;/a&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;"));
	
	// printf ("Provjera  3: %d\n", provjeri("&lt;p&gt;jos gore^2, xd, &lt;/p &lt;/p&gt;"));
	
	char etfunsaba[] = "&lt;center&gt;"
	"&lt;a href=\"http://icat.etf.unsa.ba/\"&gt;"
        "&lt;p class=\"tekst\"&gt;"
<a name="0"></a><font color="#FF0000"><a href="match685-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_3.gif"/></a>

        "&lt;span class=\"linkovi\"&gt;"
		"XXVI International Conference on Information,"
		"&lt;br&gt;&lt;/br&gt;"
		"Communication and Automation Technologies"
		"&lt;br&gt;&lt;/br&gt;"
		"&lt;br&gt;&lt;/br&gt;"
		"&lt;strong&gt;ICAT 2017&lt;/strong&gt;&lt;br&gt;&lt;/br&gt;"
		"&lt;br&gt;&lt;/br&gt;"
		"Sarajevo, Bosnia and Herzegovina&lt;br&gt;&lt;/br&gt;"
		"October 26-28, 2017.&lt;br&gt;&lt;/br&gt;"
		"&lt;/span&gt;"
        "&lt;/p&gt;"
        "&lt;/a&gt;"
    "&lt;/center&gt;";
    printf ("Provjera 1: %d\n", provjeri (etfunsaba));
    //izmijenimo prvi tag &lt;center&gt; da bude &lt;zenter&gt;, pa onda nema zatvarajuceg
    etfunsaba[1] = 'z';
    printf ("Provjera 2: %d\n", provjeri (etfunsaba));
</font>	return 0;
}
</pre>
</body>
</html>
