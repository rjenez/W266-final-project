<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/A2017/Z4/Z4/student2478.c</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/A2017/Z4/Z4/student9238.c<p></p><pre>
#if 0
#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
<a name="0"></a><font color="#FF0000"><a href="match0-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_99.gif"/></a>

char ToUp (char c) {return c &gt;= 'a' &amp;&amp; c &lt;= 'z' ? c - 32 : c;}
int poredi (const char *a, const char *b, const char *c)
{
	if (b == c || !*a) return 0;
	if (*b++ != '/') return 0;
	while (*a &amp;&amp; b &lt; c)
		if (ToUp(*a++) != ToUp(*b++))
			return 0;
	return !*a &amp;&amp; b == c;
}
int poredi2 (const char *a, const char *b, const char *c, const char *d)
{
	if (*c++ != '/') return 0;
	while (a &lt; b &amp;&amp; c &lt; d)
		if (ToUp(*a++) != ToUp(*c++))
			return 0;
	return a == b &amp;&amp; c == d;
}
void prekopiraj (char *dest, const char *a, const char *b)
{
	while (a &lt; b)
		*dest++ = *a++;
	*dest = 0;
}
void pobrisi (char **c, int l)
{
	int i;
	for (i = 0; i &lt; l; ++i)
		free(c[i]);
	free (c);
}
int provjeri (const char *c)
{
	int kap = 10, i;  /* kapacitet: neka bude 10 za pocetak */
	char ** stack = malloc (sizeof (char *) * kap);
	int brojt = 0; /* broj tagova */
	while (*c)
		{
			if (*c == '&lt;')
			{
				const char *poc = c, *kraj = c;
				while (*kraj &amp;&amp; *kraj != '&gt;' &amp;&amp; *kraj != ' ')
					kraj++;
				if (kraj &gt; poc)
					poc++;
				if (brojt &gt; 0 &amp;&amp; poredi(stack[brojt - 1], poc, kraj))
					free (stack[--brojt]);
				else 
				{
					if (brojt == kap)
						{
							kap *= 2;
							stack = realloc (stack, sizeof (char *) * kap);
						}
					stack[brojt] = malloc (sizeof (char *) * (kraj - poc + 1));
					prekopiraj(stack[brojt++], poc, kraj);					
				}

			}
			c++;
		}
	pobrisi (stack, brojt);
	return !brojt;
}
int provjeri_pom (const char *a, const char *b)
{
	int br = 0;
	while (a &lt; b)
		{
			if (*a == '&lt;' &amp;&amp; *(1 + a) != '/')
				{
					const char *poc = a, *kraj = a;
					while (kraj &lt; b &amp;&amp; *kraj != '&gt;' &amp;&amp; *kraj != ' ')
						kraj++;
					if (kraj &gt; poc)
						poc++;
					const char *n = kraj;
					while (n &lt; b &amp;&amp; *n != '&lt;' &amp;&amp; *(n + 1) != '/')
						n++;
					if (n == b) return 1;
					n++;
					const char *v = n;
					while (v &lt; b &amp;&amp; *v != '&gt;')
						v++;
					if (v == b) return 1;
					if (poredi2 (poc, kraj, n, v))
						return 0;
					else return provjeri_pom(kraj, n);
				}
			a++;
		}
	return 0;
}
int Len (const char *c)
{
	int br = 0;
	while (*c++) br++;
	return br;
}
int provjeri2 (const char *c)
{
	return provjeri_pom(c, c + Len (c)) == 0;
}
#include &lt;string.h&gt;
int main() {
{//AT12 (skriveni): zbog hardkodiranja (broj tagova)

	char html[5001 * 9 + 1] = "&lt;p&gt;e"; //5000 &lt;a&gt; tagova jedan pored drugog i sve to u jednom &lt;p&gt; tagu
	const char *poc_a = "&lt;a&gt;t", *kraj_a = "&lt;/a&gt;f";
	int i; 
	for (i = 0; i &lt; 5000; ++i)
		strcat (strcat (html, poc_a), kraj_a);
	strcat (html, "p&lt;/p&gt;");
	//string izgleda kao: &lt;p&gt;e&lt;a&gt;t&lt;/a&gt;f&lt;a&gt;t&lt;/a&gt;f&lt;a&gt;t&lt;/a&gt;f ... &lt;a&gt;t&lt;/a&gt;f&lt;a&gt;t&lt;/a&gt;fp&lt;/p&gt;
	//svi su uredno otvoreni i zatvoreni!
	printf ("Provjera 1: %d\n", provjeri (html));
	//sada neki &lt;a&gt; tag izmijenimo da bude &lt;i&gt; tag, naravno da nisu svi otvoreni/zatvoreni validno
	html[24] = 'i';
	printf ("Provjera 2: %d\n", provjeri (html));
}
return 12;	
{//AT11 (skriveni): dugi tagovi (zbog hardkodiranja)
	const char *t1 = "&lt;JedanBasJaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaakoDugHTMLTagKojiJeStavljenOvdjeRadiHardKodiranja&gt;"
					"ovo je cisto stavljeno da vidimo je li napravljena matrica gdje je duzina hardkodirana"
					"&lt;/JedanBasJaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaakoDugHTMLTagKojiJeStavljenOvdjeRadiHardKodiranja&gt;";
	const char *t2 = "&lt;Taaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaag&gt;"
					"tag."
					"&lt;Taaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaagg&gt;"; //dva g na kraju
	printf ("Provjera 1: %d\nProvjera 2: %d", provjeri(t2), provjeri(t1));
}
return 11;
{//AT10: nastavak, neregularan HTML
	printf ("Provjera  7: %d\n", provjeri("&lt;p&gt;razmak prije p a poslije / &lt;/ p&gt;"));
	printf ("Provjera  8: %d\n", provjeri("&lt;p   &gt;a ovo je ipak validno, razmaci NAKON p&lt;/p&gt;"));
	printf ("Provjera  9: %d\n", provjeri("&lt;p   &gt;i ovo je validno, razmaci NAKON p&lt;/p    &gt;"));
	printf ("Provjera 10: %d\n", provjeri("&lt;&gt;&lt;/&gt;")); /* nije validno */
	printf ("Provjera 11: %d\n", provjeri("")); /* ok */
	printf ("Provjera 12: %d\n", provjeri("                                            ")); /* ok */
	printf ("Provjera 13: %d\n", provjeri("&lt; p&gt; razmak prije p i prije / p, sto nije ispravno!  &lt;/ p&gt;"));
	
}	
{//AT9: bas neregularan HTML

	printf ("Provjera  1: %d\n", provjeri("&lt;p&gt;ovdje ide greska &lt;, znak 'manje' ne smije biti ovdje, pise se inace &lt;&lt;/p&gt;"));
	printf ("Provjera  2: %d\n", provjeri("&lt;p&gt;jos gore, xd, &lt;/ &lt;/p&gt;"));
	printf ("Provjera  3: %d\n", provjeri("&lt;p&gt;jos gore^2, xd, &lt;/p &lt;/p&gt;"));
	printf ("Provjera  4: %d\n", provjeri("&lt;p&gt;jos gore, xd&lt;/p&gt;&lt;p"));
	printf ("Provjera  5: %d\n", provjeri("&lt;p&gt;hah, nesto fino p &lt;/p&gt;&lt;p&gt;&lt;/p&gt;"));
	printf ("Provjera  6: %d\n", provjeri("&lt; p&gt; razmak prije p &lt;/p&gt;"));
}
return 9;	
{//AT8: HTML je validan i sa velikim slovima za TAGove, tipa &lt;p&gt;paragraf&lt;/P&gt;
	
	printf ("Provjera 1: %d\n", provjeri("&lt;a href='https://etfba.slack.com'&gt;DODJITE svi na HABER (etf.ba)!&lt;/A&gt;"));
	printf ("Provjera 2: %d\n", provjeri("&lt;P&gt;&lt;a href='https://etfba.slack.com'&gt;DODJITE svi na HABER (etf.ba)!&lt;/A&gt;&lt;/P&gt;"));
	printf ("Provjera 3: %d\n", provjeri("&lt;DiV&gt;&lt;P&gt;&lt;a href='https://etfba.slack.com'&gt;DODJITE svi na HABER (etf.ba)!&lt;/A&gt;&lt;/P&gt;&lt;dIv&gt;"));
	printf ("Provjera 3: %d\n", provjeri("&lt;DiV&gt;&lt;P&gt;&lt;a href='https://etfba.slack.com'&gt;DODJITE svi na HABER (etf.ba)!&lt;/A&gt;&lt;/P&gt;&lt;/dIv&gt;"));
	printf ("Provjera 4: %d\n", provjeri("&lt;h1&gt;&lt;P&gt;&lt;a href='https://etfba.slack.com'&gt;DODJITE svi na HABER (etf.ba)!&lt;/B&gt;&lt;/P&gt;&lt;/h1&gt;"));
	
}
return 8;
{//AT7: vise zatvorenih nego otvorenih
	printf ("Provjera 1: %d\n", provjeri("&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;a href='https://etf.unsa.ba'&gt;etf.unsa.ba stranica&lt;/a&gt;&lt;/span&gt;&lt;/span&gt;"));
	printf ("Provjera 2: %d\n", provjeri("&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;a href='https://etf.unsa.ba'&gt;etf.unsa.ba stranica&lt;/a&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;"));
	printf ("Provjera 3: %d\n", provjeri("&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;a href='https://etf.unsa.ba'&gt;etf.unsa.ba stranica&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;"));
	printf ("Provjera 4: %d\n", provjeri("&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;a href='https://etf.unsa.ba'&gt;etf.unsa.ba stranica&lt;/a&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;"));
	
}
return 7;
{//AT6 (skriveni): ugnijezdeni tagovi (div u div u div-u)
	const char *t1 = "&lt;div id='1' class='container'&gt;"
						"&lt;div id='1-1' class='container'&gt;"
							"&lt;div id='1-1-1' class='container'&gt;"
								"Ovo je unutrasnji DIV, 1-1-1, nalazi se u 1-1 div-u"
								"koji se nalazi u 1 div-u"
							"&lt;/div&gt;"
						"&lt;/div&gt;"
						"&lt;div id='1-2' class='container'&gt;"
						"&lt;/div&gt;"
						"&lt;div id='1-3' class='container'&gt;"
							"&lt;div id='1-3-1&gt;Div 1-3-1"
							"&lt;/div&gt;"
							"&lt;div id='1-3-2&gt;"
								"&lt;div id='1-3-2-1'&gt;"
									"'najunutrasnji' div xD"
								"&lt;/div&gt;"
							"&lt;/div&gt;"
							"&lt;div id='1-3-3&gt;DIV"
							"&lt;/div&gt;"
						"&lt;/div&gt;"
						"&lt;div id='1-4' class='container'&gt;"
						"&lt;/div&gt;"
					"&lt;/div&gt;"
					"&lt;div id='2'&gt;"
					"&lt;/div&gt;";
	const char *t2 = "&lt;div&gt;&lt;div&gt;&lt;a&gt;&lt;/a&gt;&lt;div&gt;&lt;div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;";
	printf ("Provjera 2: %d\n", provjeri (t2));  /* 4 otvorena, 3 zatvorena*/
	printf ("Provjera 1: %d", provjeri (t1));
}	
return 6;
{//AT5: real-world example (dio stranice etf.unsa.ba, sa popravljenim &lt;br&gt; tagovima)
char etfunsaba[] = "&lt;center&gt;"
	"&lt;a href=\"http://icat.etf.unsa.ba/\"&gt;"
        "&lt;p class=\"tekst\"&gt;"
        "&lt;span class=\"linkovi\"&gt;"
		"XXVI International Conference on Information,"
		"&lt;br&gt;&lt;/br&gt;"
		"Communication and Automation Technologies"
		"&lt;br&gt;&lt;/br&gt;"
		"&lt;br&gt;&lt;/br&gt;"
		"&lt;strong&gt;ICAT 2017&lt;/strong&gt;&lt;br&gt;&lt;/br&gt;"
		"&lt;br&gt;&lt;/br&gt;"
		"Sarajevo, Bosnia and Herzegovina&lt;br&gt;&lt;/br&gt;"
		"October 26-28, 2017.&lt;br&gt;&lt;/br&gt;"
		"&lt;/span&gt;"
        "&lt;/p&gt;"
        "&lt;/a&gt;"
    "&lt;/center&gt;";
    printf ("Provjera 1: %d\n", provjeri (etfunsaba));
    //izmijenimo prvi tag &lt;center&gt; da bude &lt;zenter&gt;, pa onda nema zatvarajuceg
    etfunsaba[1] = 'z';
    printf ("Provjera 2: %d\n", provjeri (etfunsaba));
	
}
return 5;	
{//AT4: Prazni tagovi
	printf ("Provjera 1: %d\n", provjeri ("&lt;b&gt;&lt;/b&gt;"));
	printf ("Provjera 2: %d\n", provjeri ("&lt;html&gt;&lt;head&gt;&lt;title&gt;&lt;/title&gt;&lt;/head&gt;&lt;body&gt;&lt;p&gt;&lt;/p&gt;&lt;/body&gt;&lt;/html&gt;"));
	printf ("Provjera 3: %d\n", provjeri ("&lt;i&gt;                          &lt;/i&gt;"));
	printf ("Provjera 4: %d\n", provjeri ("      &lt;i&gt;              &lt;/i&gt;      "));
	printf ("Provjera 5: %d\n", provjeri ("      &lt;i&gt;      &lt;b&gt;&lt;/b&gt;        &lt;/i&gt;      "));
	printf ("Provjera 6: %d\n", provjeri ("      &lt;i&gt;      &lt;b&gt;&lt;/b&gt;        &lt;i&gt;      ")); 
}	
return 4;
{//AT3: pogresno zatvoreni tagovi i bez tagova
 printf ("Provjera 1: %d\n", provjeri ("&lt;h3&gt;Ovo je naslov velicine 3. h3 je skracenica za 'header of size 3', h1 je najveci!&lt;/h2&gt;")); 
 printf ("Provjera 2: %d\n", provjeri ("Ovo je neki isjecak HTML-a koji je potpuno validan - nema tagova"));
}
return 3;
{//AT2: funkcija ne bi trebala da mijenja proslijedjeni string
 //ispravan prototip funkcije je: const char *provjeri (const char *string);
 printf ("Provjera 1: %d\n", provjeri ("&lt;div&gt;&lt;h4&gt;Naslov&lt;/h4&gt;&lt;p&gt;Danasnja vijest&lt;/div&gt;")); /* &lt;p&gt; nije zatvoren */
 printf ("Provjera 2: %d\n", provjeri ("&lt;div&gt;&lt;h4&gt;Naslov&lt;/h4&gt;&lt;p&gt;Danasnja vijest&lt;/p&gt;&lt;/div&gt;"));
}
	return 0;
	char tekst1[] = "&lt;div id=\"tekst\"&gt;&lt;h2&gt;Naslov&lt;/h2&gt;&lt;p&gt;Ovo je &lt;b&gt;cetvrti&lt;/b&gt; i &lt;i&gt;posljednji&lt;/i&gt; zadatak iz &lt;a href=\"zadaca4\"&gt;zadace 4&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;";
	char tekst2[] = "&lt;b&gt;&lt;a&gt;proba&lt;/b&gt;&lt;/a&gt;";
	char tekst3[] = "&lt;b&gt;&lt;b&gt;&lt;/b&gt;&lt;/b&gt;";
	printf("%d ", provjeri(tekst1));
	printf("%d ", provjeri(tekst2));
	printf("%d ", provjeri(tekst3));
	return 0;
}
#endif
#include &lt;stdio.h&gt;

int provjeri(char* p)
{
	char* pok = p;
	int brojac_otvorenih = 0;
	int brojac_zatvorenih = 0;
	int i=0, j=0;
	char tagovi[25][20];
	while(*p!='\0')
	{
		if(*p=='&lt;' &amp;&amp; *(p+1)!='/')
			brojac_otvorenih++;
		else if(*p=='&lt;' &amp;&amp; *(p+1)=='/')
			brojac_zatvorenih++;
		p++;
	}
	if(brojac_zatvorenih != brojac_otvorenih)
		return 0;
	if(brojac_otvorenih==0)
		return 1;
	p = pok;
	while(*p!='\0')
	{
		if(*p=='&lt;' &amp;&amp; *(p+1)!='/')
		{
			p++;
			if(*p==' ' || *p=='&gt;')
				return 0;
			while(*p!='&gt;' &amp;&amp; *p!=' ')
			{
				char c = *p;
				if(c&gt;='A' &amp;&amp; c&lt;='Z')
					c+=32 ;
				tagovi[i][j] = c;
				j++;
				p++;
			}
			tagovi[i][j] = '\0';
			i++;
			j=0;
		}
		else if(*p=='&lt;' &amp;&amp; *(p+1)=='/')
		{
			p++;
			p++;
			if(*p==' ' || *p=='&gt;')
				return 0;
			while(*p!='&gt;' &amp;&amp; *p!=' ')
			{
				char c = *p;
				if(c&gt;='A' &amp;&amp; c&lt;='Z')
					c+=32;
				if(c!=tagovi[i-1][j] || tagovi[i-1][j]=='\0')
					return 0;
				p++;
				j++;
			}
			i--;
			j=0; 
		}
		p++;
	}
	return 1;
}

int main() {
	printf("%d", provjeri("&lt;html&gt;&lt;a&gt;&lt;/a&gt;&lt;/html&gt;"));
</font>	return 0;
}
</pre>
</body>
</html>
