<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/A2017/Z5/Z1/student6462.c</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/A2017/Z5/Z1/student6462.c<p></p><pre>
#include &lt;stdio.h&gt;
#include &lt;time.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;string.h&gt;

<a name="0"></a><font color="#FF0000"><a href="match305-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_98.gif"/></a>

struct Datum {
	int dan, mjesec, godina;
};

struct Uposlenik {
	char ime_prezime[50];
	struct Datum datum_rodjenja;
};

/* PROTOTIPI */
int surnameExtractor(char[2][50], char[50]);
int daysOfDifference(struct Datum, struct Datum);
int suzi_listu(struct Uposlenik*, int, struct Uposlenik, int);

int main() {
	
	return 0;
}

int surnameExtractor(char surnames[2][50], char full_name[50]) {
	int numOfSurname = 0, copyPos = 0;
	int i;
	
	for (i = 0; i &lt; 50 &amp;&amp; full_name[i] != '\0'; i++) {
		/* Ako slucajno postoje razmaci prije imena */
		while (full_name[i] == ' ')
			i++;
			
		/* Ako je dosao do kraja stringa to je to (u slucaju da zavrsavaju sa razmacima) */
		if (full_name[i] == '\0')
			break;
			
		/* Resetuj kopiranje prezimena */
		copyPos = numOfSurname = 0;
		
		while (full_name[i] != ' ' &amp;&amp; full_name[i] != '\0') {
			/* Duplo prezime */
			if (full_name[i] == '-') {
				/* Stavi '\0' na kraj prvog prezimena */
				surnames[numOfSurname][copyPos] = '\0';
				
				numOfSurname++;
				copyPos = 0;
			}
			else
				surnames[numOfSurname][copyPos++] = full_name[i];
				
			i++;
		}
		surnames[numOfSurname][copyPos] = '\0';
	}
	
	return numOfSurname + 1;
}

int daysOfDifference(struct Datum prior, struct Datum latter) {
	struct tm tmp_prior = {0, 0, 0, prior.dan, prior.mjesec - 1, prior.godina - 1900};
	struct tm tmp_latter = {0, 0, 0, latter.dan, latter.mjesec - 1, latter.godina - 1900};
	
	time_t first = mktime(&amp;tmp_prior);
	time_t second = mktime(&amp;tmp_latter);
	
	if (first == (time_t)(-1) || second == (time_t)(-1))
		exit(1);
	
	return (int)(difftime(second, first) / (60 * 60 * 24));
}

int suzi_listu(struct Uposlenik* candidates, int numOfCand, struct Uposlenik CEO, int days) {
	char surnamesOfCEO[2][50];
	char tmpSurname[2][50];
	int numOfCEOSurnames, numOfCandSurnames;
	int i, j, k, stela;
	
	/* Ekstraktuje prezime direktora */
	numOfCEOSurnames = surnameExtractor(surnamesOfCEO, CEO.ime_prezime);
	
	for (i = 0; i &lt; numOfCand; i++) {
		numOfCandSurnames = surnameExtractor(tmpSurname, candidates[i].ime_prezime);
		
		stela = 0;
		for (j = 0; j &lt; numOfCEOSurnames; j++)
			for (k = 0; k &lt; numOfCandSurnames; k++)
				if (!strcmp(surnamesOfCEO[j], tmpSurname[k]))
					stela = 1;
					
		if (stela)
			continue;
		
		if (daysOfDifference(candidates[i].datum_rodjenja, CEO.datum_rodjenja) &lt;= days)
			continue;
			
		for (j = i; j &lt; numOfCand - 1; j++)
			candidates[j] = candidates[j + 1];
</font>			
		i--;
		numOfCand--;
	}
	
	return numOfCand;
}</pre>
</body>
</html>
