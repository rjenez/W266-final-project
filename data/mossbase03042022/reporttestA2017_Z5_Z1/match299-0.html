<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/A2017/Z5/Z1/student7249.c</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/A2017/Z5/Z1/student7249.c<p></p><pre>
#include &lt;stdio.h&gt;
#include &lt;string.h&gt;
#include &lt;stdlib.h&gt;

<a name="0"></a><font color="#FF0000"><a href="match299-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_59.gif"/></a>

struct Datum  {
	int dan;
	int mjesec;
	int godina;
};

struct Uposlenik {
	char ime_prezime[50];
	struct Datum datum_rodjenja;
};


void unesi (char niz[], int velicina)
{
	int i = 0;
	char znak = getchar();
	if (znak == '\n') znak = getchar();
	while (i &lt; velicina - 1 &amp;&amp; znak != '\n') {
		niz[i] = znak;
		i++;
		znak = getchar();
	}
	niz[i] = '\0';
}

int ukupan_broj_dana (struct Datum d)
{
	int ukupno_dana;

	ukupno_dana = 365* d.godina + d.godina/4 - d.godina/100 + d.godina/400 + d.dan + (153*d.mjesec+8)/5;
	return ukupno_dana;

}

int odgovara(char* kandidat, char* direktor)
{

	char* p;

	while(strchr(kandidat, ' ') != NULL) {
		kandidat = strchr (kandidat, ' ');
		kandidat++;
	}

	while(strchr(direktor, ' ') != NULL) {
		direktor = strchr(direktor,' ');
		direktor++;
	}

	if(strchr(kandidat, '-') == NULL) {
		if(strchr(direktor, *kandidat) != NULL) return 1;
	}

	else {
		p = strchr(kandidat, '-');
		p++;
		kandidat[p-kandidat-1] = '\0';
		if(strchr(direktor,*p)!= NULL) {
			kandidat[p - kandidat - 1] = '-';
			return 1;
		}
		if(strchr(direktor,*kandidat) != NULL) {
			kandidat[p - kandidat -1] = '-';
			return 1;
		}
	}
	return 0;
}

int izbaci(struct Uposlenik* kandidati, int vel, int broj)
{
	while (broj &lt; vel -1) {
		*(kandidati + broj) = *(kandidati + broj + 1);
		broj++;
	}
	vel-=1;
	return vel;
}

int suzi_listu (struct Uposlenik* kandidati, int vel, struct Uposlenik direktor, int broj_dana);

int main()
{	
struct Uposlenik direktor = {"Mujo Mujic", {1, 3, 1978} };
struct Uposlenik kandidati[7] = {
</font>    { "Meho Mehic", { 31, 1, 1979 } },
    { "Pero Peric", { 1, 2, 1979 } },
    { "Sara Sarac", { 2, 2, 1979 } },
    { "Fata Mujic", { 1, 2, 1976 } },
    { "Jozo Jozic", { 1, 10, 1980 } },
<a name="1"></a><font color="#00FF00"><a href="match299-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_29.gif"/></a>

    { "Mijo Mijic", { 4, 3, 1978 } },
    { "Suljo Suljic", { 15, 1, 1982 } },
};

int novi_br = suzi_listu(kandidati, 7, direktor, 29);
int i;
printf("Nakon suzenja liste:\n");
for (i=0; i&lt;novi_br; i++)
    printf("%s\n", kandidati[i].ime_prezime);

/* Ispravka za funkcije koje ne rade nista */
kandidati[2].datum_rodjenja.godina = 1977;
novi_br = suzi_listu(kandidati, 7, direktor, 29);
printf("Novi broj: %d\n", novi_br);

return 0;
}


int suzi_listu (struct Uposlenik* kandidati, int vel, struct Uposlenik direktor, int broj_dana)
{
	int i = 0, dir_datum, kan_datum;
	dir_datum = ukupan_broj_dana(direktor.datum_rodjenja);
	kan_datum = ukupan_broj_dana(kandidati[i].datum_rodjenja);
	
	for (i = 0; i &lt; vel; i++) {
		kan_datum = ukupan_broj_dana(kandidati[i].datum_rodjenja);
		if ((dir_datum - kan_datum) &gt; broj_dana) {
			if(odgovara(kandidati[i].ime_prezime, direktor.ime_prezime)!= 1) {
				vel = izbaci(kandidati,vel,i);
				i--;
</font>			}

		}
		
		i++;
	}
	return vel;
}
</pre>
</body>
</html>
