<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z4/student8367.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z4/student5789.cpp<p></p><pre>
/B2017/2018: ZadaÄ‡a 3, Zadatak 4
#include &lt;iostream&gt;
#include &lt;list&gt;
#include &lt;map&gt;
#include &lt;string&gt;
#include &lt;stdexcept&gt;
#include &lt;queue&gt;
#include &lt;utility&gt;
#include &lt;algorithm&gt;
#include &lt;iterator&gt;
#include &lt;vector&gt;
enum class Boje {Pik, Tref, Herc, Karo};

int dajBroj(std::string broj){
    if(broj=="10")
        return 10;
    else
        return broj[0]-'0';
}

int dajPoziciju(std::pair&lt;Boje,std::string&gt; par){
    int pozicija=0;
    if(par.first==Boje::Pik)
        pozicija+=100;
    else if(par.first==Boje::Tref)
        pozicija+=200;
    else if(par.first==Boje::Herc)
        pozicija+=300;
    else
        pozicija+=400;
    
    if(par.second=="10"){
        pozicija+='9'-'0'+1;
        return pozicija;
    }
    if(par.second=="A"){
        pozicija+=65;
    }
    else if(par.second=="J"){
        pozicija+=60;
    }
    else if(par.second=="Q"){
        pozicija+=61;
    }
    else if(par.second=="K"){
        pozicija+=62;
    }
    else{
        pozicija+=par.second[0]-'0';
    }
    return pozicija;
}

std::list&lt;std::pair&lt;Boje,std::string&gt;&gt; KreirajSpil(){
    std::list&lt;std::pair&lt;Boje,std::string&gt;&gt; spil;
    std::pair&lt;Boje,std::string&gt; pom_par;
    std::string pom_string;
    Boje boje=Boje::Pik;
      for(int j(0);j&lt;4;j++){
            if(j==1) boje=Boje::Tref;
            if(j==2) boje=Boje::Herc;
            if(j==3) boje=Boje::Karo;
            for(int i(2);i&lt;15;i++){
                    if(i==11) pom_string='J';
                    if(i==12) pom_string='Q';
                    if(i==13) pom_string='K';
                    if(i==14) pom_string='A';
                       if(i&lt;11){
                            pom_string=std::to_string(i);
                            pom_par=std::make_pair(boje,pom_string);
                            spil.push_back(pom_par);
                        }
                        if(i&gt;=11){
                             pom_par=std::make_pair(boje,pom_string);
                             spil.push_back(pom_par);
                        }
                    }
        }
    return spil;
}
bool DaLiJeBesmislena(std::pair&lt;Boje,std::string&gt; x){
    std::string pom_string;
    Boje boje=Boje::Pik;
    for(int i(2);i&lt;15;i++){
        if(i&lt;11)  pom_string=std::to_string(i);;
        if(i==11) pom_string='J';
        if(i==12) pom_string='Q';
        if(i==13) pom_string='K';
        if(i==14) pom_string='A';
        for(int j(0);j&lt;4;j++){
            if(j==0) boje=Boje::Pik;
            if(j==1) boje=Boje::Tref;
            if(j==2) boje=Boje::Herc;
            if(j==3) boje=Boje::Karo;
                if(x.first==boje&amp;&amp;x.second==pom_string) return true;
        }
    }
    return false;
}
int DaLiSuSortiraniIspravno(std::list&lt;std::pair&lt;Boje,std::string&gt;&gt; spil){
    try{
    int brojac(0);
    auto it=spil.begin();
    std::string pom_string;
    Boje boje=Boje::Pik;
    std::pair&lt;Boje,std::string&gt; pom;
      for(int j(0);j&lt;4;j++){
            if(j==0) boje=Boje::Pik;
            if(j==1) boje=Boje::Tref;
            if(j==2) boje=Boje::Herc;
            if(j==3) boje=Boje::Karo;
            for(int i(2);i&lt;15;i++){
                    if(i&lt;11)  pom_string=std::to_string(i);;
                    if(i==11) pom_string='J';
                    if(i==12) pom_string='Q';
                    if(i==13) pom_string='K';
                    if(i==14) pom_string='A';
                        pom=std::make_pair(boje,pom_string);
                        if(*it==pom){
                             brojac++;
                             it++;
                        }
                    }
        }
    return brojac;
    }
    catch(...){
        throw;
    }
}
void IzbaciKarte(std::list&lt;std::pair&lt;Boje,std::string&gt;&gt; &amp;spil,std::multimap&lt;Boje,std::string&gt; &amp;mapa){
    try{
    if(spil.size()&gt;52) throw std::logic_error("Neispravna lista!");
    for(auto pom=spil.begin();pom!=spil.end();pom++){
       if(!DaLiJeBesmislena(*pom)) throw std::logic_error("Neispravna lista!");
    }
    int brojac=0;
    auto it2=spil.begin();
    while(brojac!=mapa.size()){
    it2=spil.begin();
    for(auto it=mapa.begin();it!=mapa.end();it++)
    {
        while(it2!=spil.end()){
           if((*it).first==(*it2).first&amp;&amp;(*it).second==(*it2).second){
                 it2=spil.erase(it2);
                 it=mapa.erase(it);
            }
            it2++;
        }
    
    }
    brojac++;
    }
    }
    catch(...){
        throw;
    }
}
std::queue&lt;std::pair&lt;std::string,std::string&gt;&gt; IzbaciKarteRazbrajanjem(std::list&lt;std::pair&lt;Boje,std::string&gt;&gt; &amp;spil,const short int &amp;r,const int &amp;b){
    try{
    if(r&lt;1||r&gt;52) throw std::logic_error("Neispravni elementi za izbacivanje!");
    if(b&lt;1) throw std::logic_error("Neispravni elementi za izbacivanje!");
    if(spil.size()&gt;52) throw std::logic_error("Neispravna lista!");
    for(auto pom=spil.begin();pom!=spil.end();pom++){
        if(!DaLiJeBesmislena(*pom)) throw std::logic_error("Neispravna lista!");
    }
    if(DaLiSuSortiraniIspravno(spil)!=spil.size()) throw std::logic_error("Neispravna lista!");
    std::queue&lt;std::pair&lt;std::string,std::string&gt;&gt; rez;
    int brojac(0);
    int d(b);
    std::string pom_string;
    std::pair&lt;std::string,std::string&gt; par;
    while(d!=0){
    for(auto it=spil.begin();it!=spil.end();it++){
        brojac++;
        if(brojac==r){
            if(d==0) break;
            if((*it).first==Boje::Pik) pom_string="Pik";
            if((*it).first==Boje::Tref) pom_string="Tref";
            if((*it).first==Boje::Herc) pom_string="Herc";
            if((*it).first==Boje::Karo) pom_string="Karo";
            par=std::make_pair(pom_string,(*it).second);   
            rez.push(par);
            it=spil.erase(it);
            d--;
            brojac=1;
        }
    }
    }
    return rez;
    }
    catch(...){
        throw;
    }
}
void VratiPrvihNKarata(std::list&lt;std::pair&lt;Boje,std::string&gt;&gt; &amp;spil,std::queue&lt;std::pair&lt;std::string,std::string&gt;&gt; &amp;red,int n){
    if(n&lt;0) throw std::domain_error("Broj n je besmislen!");
    if(n&gt;red.size()) throw std::range_error("Nedovoljno karata u redu!");
    if(int(n)!=n||n&lt;0) throw std::domain_error("Broj n je besmislen!");
    /*while(!red.empty()){
        if(!DaLiJeBesmislena(red.front())) throw std::logic_error("Neispravne karte!");
        red.pop();
    }*/
    if(spil.size()&gt;52) throw std::logic_error("Neispravna lista!");
    for(auto pom=spil.begin();pom!=spil.end();pom++){
        if(!DaLiJeBesmislena(*pom)) throw std::logic_error("Neispravna lista!");
    }
    if(DaLiSuSortiraniIspravno(spil)!=spil.size()) throw std::logic_error("Neispravna lista!");
    std::string pom_string;
    std::pair&lt;std::string,std::string&gt;  pom_par;
    std::pair&lt;Boje,std::string&gt; pravi_par;
    Boje boja=Boje::Pik;
    while(n&gt;0){
       pom_par=red.front();
       if(pom_par.first=="Pik") boja=Boje::Pik;
       if(pom_par.first=="Tref") boja=Boje::Tref;
       if(pom_par.first=="Herc") boja=Boje::Herc;
       if(pom_par.first=="Karo") boja=Boje::Karo;
       pom_string=pom_par.second;
       pravi_par=std::make_pair(boja,pom_string);
       int poz=dajPoziciju(pravi_par);
       for(auto it=spil.begin();it!=spil.end();it++){
           int trenutni=dajPoziciju(*it);
           auto pom=it;
           pom++;
           pom++;
           if(trenutni==poz){
               break;
           }
           if(trenutni&gt;poz){
               spil.insert(it,pravi_par);
               break;
           }
       }
    
       red.pop();
       n--;
       
    }
    
}
int main ()
{
    try{
        std::list&lt;std::pair&lt;Boje,std::string&gt;&gt; spil;
        spil=KreirajSpil();
        std::cout&lt;&lt;"Unesite korak razbrajanja: ";
        short int r;
        int b;
        std::cin&gt;&gt;r;
<a name="0"></a><font color="#FF0000"><a href="match382-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_1.gif"/></a>

        std::cout&lt;&lt;"Unesite broj karata koje zelite izbaciti: ";
        std::cin&gt;&gt;b;
        std::queue&lt;std::pair&lt;std::string,std::string&gt;&gt; red;
</font>        int d(b);
        //red=IzbaciKarteRazbrajanjem(spil,r,b);
        std::cout&lt;&lt;"U spilu trenutno ima "&lt;&lt;52-d&lt;&lt;" karata, i to: ";
        std::cout&lt;&lt;std::endl;
        std::multimap&lt;Boje,std::string&gt; mapa={{Boje::Karo,"2"},{Boje::Tref,"10"}};
        IzbaciKarte(spil,mapa);
        
        auto pom=spil.begin();
       
            if((*pom).first==Boje::Pik){
                std::cout&lt;&lt;"Pik: ";
<a name="1"></a><font color="#00FF00"><a href="match382-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_1.gif"/></a>

                while((*pom).first==Boje::Pik&amp;&amp;pom!=spil.end()){
                    std::cout&lt;&lt;(*pom).second&lt;&lt;" ";
</font>                    pom++;
                }
                std::cout&lt;&lt;std::endl;
        }
             if((*pom).first==Boje::Tref){
                std::cout&lt;&lt;"Tref: ";
<a name="2"></a><font color="#0000FF"><a href="match382-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_1.gif"/></a>

                while((*pom).first==Boje::Tref&amp;&amp;pom!=spil.end()){
                    std::cout&lt;&lt;(*pom).second&lt;&lt;" ";
</font>                    pom++;
                }
                std::cout&lt;&lt;std::endl;
        }
             if((*pom).first==Boje::Herc){
                std::cout&lt;&lt;"Herc: ";
<a name="3"></a><font color="#00FFFF"><a href="match382-0.html#3" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_1.gif"/></a>

                while((*pom).first==Boje::Herc&amp;&amp;pom!=spil.end()){
                    std::cout&lt;&lt;(*pom).second&lt;&lt;" ";
</font>                    pom++;
                }
                std::cout&lt;&lt;std::endl;
        }
         if((*pom).first==Boje::Karo){
                std::cout&lt;&lt;"Karo: ";
<a name="4"></a><font color="#FF00FF"><a href="match382-0.html#4" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_1.gif"/></a>

                while((*pom).first==Boje::Karo&amp;&amp;pom!=spil.end()){
                    std::cout&lt;&lt;(*pom).second&lt;&lt;" ";
</font>                      pom++;
                }
        }
        std::cout&lt;&lt;std::endl;
        std::cout&lt;&lt;"Unesite broj karata koje zelite vratiti u spil: ";
        int n;
        std::cin&gt;&gt;n;
        VratiPrvihNKarata(spil,red,n);
        std::cout&lt;&lt;"U spilu trenutno ima "&lt;&lt;52-d+n&lt;&lt;" karata, i to: ";
        std::cout&lt;&lt;std::endl;       
        pom=spil.begin();
        if((*pom).first==Boje::Pik){
                std::cout&lt;&lt;"Pik: ";
<a name="5"></a><font color="#FF0000"><a href="match382-0.html#5" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_1.gif"/></a>

                while((*pom).first==Boje::Pik&amp;&amp;pom!=spil.end()){
                    std::cout&lt;&lt;(*pom).second&lt;&lt;" ";
</font>                    pom++;
                }
                std::cout&lt;&lt;std::endl;
        }
        if((*pom).first==Boje::Tref){
                std::cout&lt;&lt;"Tref: ";
<a name="6"></a><font color="#00FF00"><a href="match382-0.html#6" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_1.gif"/></a>

                while((*pom).first==Boje::Tref&amp;&amp;pom!=spil.end()){
                    std::cout&lt;&lt;(*pom).second&lt;&lt;" ";
</font>                    pom++;
                }
                std::cout&lt;&lt;std::endl;
        }
        if((*pom).first==Boje::Herc){
                std::cout&lt;&lt;"Herc: ";
<a name="7"></a><font color="#0000FF"><a href="match382-0.html#7" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_1.gif"/></a>

                while((*pom).first==Boje::Herc&amp;&amp;pom!=spil.end()){
                    std::cout&lt;&lt;(*pom).second&lt;&lt;" ";
</font>                    pom++;
                }
                std::cout&lt;&lt;std::endl;
        }
        if((*pom).first==Boje::Karo){
                std::cout&lt;&lt;"Karo: ";
<a name="8"></a><font color="#00FFFF"><a href="match382-0.html#8" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_1.gif"/></a>

                while((*pom).first==Boje::Karo&amp;&amp;pom!=spil.end()){
                    std::cout&lt;&lt;(*pom).second&lt;&lt;" ";
</font>                      pom++;
                }
        }
         
    }
    catch(std::logic_error e){
        std::cout&lt;&lt;"Izuzetak: "&lt;&lt;e.what();
    }
    catch(std::range_error e1){
        std::cout&lt;&lt;"Izuzetak: "&lt;&lt;e1.what();
    }
    catch(std::domain_error e2){
        std::cout&lt;&lt;"Izuzetak: "&lt;&lt;e2.what();
    }
    
	return 0;
}
</pre>
</body>
</html>
