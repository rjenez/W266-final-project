<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z4/student2870.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z4/student2870.cpp<p></p><pre>
/B2017/2018: Zadaća 3, Zadatak 4
#include &lt;iostream&gt;
#include &lt;list&gt;
#include &lt;utility&gt;
#include &lt;string&gt;
#include &lt;vector&gt;
#include &lt;iterator&gt;
#include &lt;map&gt;
#include &lt;stdexcept&gt;
#include &lt;queue&gt;
#include &lt;algorithm&gt;

enum class Boje
{
    Pik,Tref,Herc,Karo
};

const std::vector&lt;std::string&gt; Karte {"2","3","4","5","6","7","8","9","10","J","Q","K","A"};

void IspisiSpil(std::list&lt;std::pair&lt;Boje,std::string&gt;&gt; &amp;KreiraniSpil){
<a name="0"></a><font color="#FF0000"><a href="match420-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_16.gif"/></a>

        std::cout &lt;&lt; "U spilu trenutno ima " &lt;&lt; KreiraniSpil.size() &lt;&lt; " karata, i to:" &lt;&lt; std::endl;
        std::cout &lt;&lt; "Pik: ";
        for(auto it=KreiraniSpil.begin(); it!=KreiraniSpil.end(); it++) if(it-&gt;first==Boje::Pik) std::cout &lt;&lt; it-&gt;second &lt;&lt; " ";
        std::cout &lt;&lt; std::endl;

        std::cout &lt;&lt; "Tref: ";
        for(auto it=KreiraniSpil.begin(); it!=KreiraniSpil.end(); it++) if(it-&gt;first==Boje::Tref) std::cout &lt;&lt; it-&gt;second &lt;&lt; " ";
        std::cout &lt;&lt; std::endl;

        std::cout &lt;&lt; "Herc: ";
        for(auto it=KreiraniSpil.begin(); it!=KreiraniSpil.end(); it++) if(it-&gt;first==Boje::Herc) std::cout &lt;&lt; it-&gt;second &lt;&lt; " ";
        std::cout &lt;&lt; std::endl;

        std::cout &lt;&lt; "Karo: ";
        for(auto it=KreiraniSpil.begin(); it!=KreiraniSpil.end(); it++) if(it-&gt;first==Boje::Karo) std::cout &lt;&lt; it-&gt;second &lt;&lt; " ";
        std::cout &lt;&lt; std::endl;
</font>}

void PredSortiranje(std::list&lt;std::pair&lt;Boje,std::string&gt;&gt; &amp;RefNaSpil){
    
    for(auto it=RefNaSpil.begin();it!=RefNaSpil.end();it++){
        if(it-&gt;second==std::string("10")) it-&gt;second=std::string("B");
        if(it-&gt;second==std::string("J")) it-&gt;second=std::string("C");
        if(it-&gt;second==std::string("Q")) it-&gt;second=std::string("D");
        if(it-&gt;second==std::string("K")) it-&gt;second=std::string("E");
        if(it-&gt;second==std::string("A")) it-&gt;second=std::string("F");
        
    }
}

void VratiNaPravaImena(std::list&lt;std::pair&lt;Boje,std::string&gt;&gt; &amp;RefNaSpil){
    for(auto it=RefNaSpil.begin();it!=RefNaSpil.end();it++){
    if(it-&gt;second==std::string("B")) it-&gt;second=std::string("10");
        if(it-&gt;second==std::string("C")) it-&gt;second=std::string("J");
        if(it-&gt;second==std::string("D")) it-&gt;second=std::string("Q");
        if(it-&gt;second==std::string("E")) it-&gt;second=std::string("K");
        if(it-&gt;second==std::string("F")) it-&gt;second=std::string("A");
    }
}

std::list&lt;std::pair&lt;Boje,std::string&gt;&gt; KreirajSpil()
{

    std::list&lt;std::pair&lt;Boje,std::string&gt;&gt; Spil(52);

    for(auto it=Spil.begin(); it!=Spil.end();) {
        for(int i=0; i&lt;4; i++) {
            for(int j=0; j&lt;13; j++) {
                it-&gt;first=Boje(i);
                it-&gt;second=Karte[j];
                it++;
            }
        }
    }

    return Spil;
}

void IzbaciKarte(std::list&lt;std::pair&lt;Boje,std::string&gt;&gt; &amp;RefNaSpil,std::multimap&lt;Boje,std::string&gt; &amp;RefNaMMapu)
{

    if(RefNaSpil.size()&lt;0 || RefNaSpil.size()&gt;52) throw std::logic_error("Neispravna lista!");

    try {

        for(auto its=RefNaSpil.begin(); its!=RefNaSpil.end(); its++) {

            for(auto itm=RefNaMMapu.begin(); itm!=RefNaMMapu.end();) {
                if((itm-&gt;first==its-&gt;first) &amp;&amp; (itm-&gt;second==its-&gt;second)) {

                    while(itm!=RefNaMMapu.end()) {
                        if((itm-&gt;first==its-&gt;first)&amp;&amp;(itm-&gt;second==its-&gt;second))
                            itm=RefNaMMapu.erase(itm);
                        else itm++;
                    }
                    its=RefNaSpil.erase(its);
                }

                else itm++;
            }
        }

    } catch (...) {
        throw std::logic_error("Neispravna lista!");
    }


}

std::queue&lt;std::pair&lt;Boje,std::string&gt;&gt; IzbaciKarteRazbrajanjem(std::list&lt;std::pair&lt;Boje,std::string&gt;&gt; &amp;RefNaSpil, const short int &amp;r, const int &amp;b)
{

    std::queue&lt;std::pair&lt;Boje,std::string&gt;&gt; PovratniRed;
    if(r&lt;1 || r&gt;52) throw std::logic_error("Neispravni elementi za izbacivanje!");
    if(b&lt;1) throw std::logic_error("Neispravni elementi za izbacivanje!");

    auto it=RefNaSpil.begin();
    int brojac1(0),brojac2(0);

    for(;;) { //Izbacivanje karata iz ŠPILA razbrajanjem
        if(it==RefNaSpil.end()) it=RefNaSpil.begin();
        // brojac1++;

        if(brojac1==r-1) {
            PovratniRed.push({it-&gt;first,it-&gt;second});
            it=RefNaSpil.erase(it);
            brojac1=0;
            brojac2++;
        }

        brojac1++;
        if(brojac2==b) break;
        it++;
    }

    return PovratniRed;
}

void VratiPrvihNKarata(std::list&lt;std::pair&lt;Boje,std::string&gt;&gt; &amp;RefNaSpil, std::queue&lt;std::pair&lt;Boje,std::string&gt;&gt; &amp;RefNaRed, int n)
{
    
    if(n&lt;0) throw std::logic_error("Broj n je besmislen!");
    if(n&gt;RefNaRed.size()) throw std::range_error("Nedovoljno karata u redu!");
    
    while(n!=0){
        RefNaSpil.push_back(RefNaRed.front());
        RefNaRed.pop();
        n--;
    }
    
    PredSortiranje(RefNaSpil);
    RefNaSpil.sort();
    VratiNaPravaImena(RefNaSpil);
    

}

int main ()
{
    try {
        auto KreiraniSpil(KreirajSpil());

        int KorakRazbrajanja, KarteZaIzbacivanje;
<a name="1"></a><font color="#00FF00"><a href="match420-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_2.gif"/></a>

        std::cout &lt;&lt; "Unesite korak razbrajanja: " ;
        std::cin &gt;&gt; KorakRazbrajanja;
        std::cout &lt;&lt; "Unesite broj karata koje zelite izbaciti: " ;
        std::cin &gt;&gt; KarteZaIzbacivanje;

        auto RedIzbacenihKarata = IzbaciKarteRazbrajanjem(KreiraniSpil,KorakRazbrajanja,KarteZaIzbacivanje);
</font>        
        IspisiSpil(KreiraniSpil);

        std::cout &lt;&lt; "Unesite broj karata koje zelite vratiti u spil: ";
        int BrojVracenihKarata;
        std::cin &gt;&gt; BrojVracenihKarata;
        
        VratiPrvihNKarata(KreiraniSpil,RedIzbacenihKarata,BrojVracenihKarata);
        
        IspisiSpil(KreiraniSpil);
        
    } catch (std::logic_error izuzetak) {
        std::cout &lt;&lt; "Izuzetak: " &lt;&lt; izuzetak.what() ;
        return 0;
    } catch (std::range_error izuzetak) {
        std::cout &lt;&lt; "Izuzetak: " &lt;&lt; izuzetak.what() ;
        return 0;
    }
    return 0;
}
</pre>
</body>
</html>
