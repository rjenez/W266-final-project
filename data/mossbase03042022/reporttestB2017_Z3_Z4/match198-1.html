<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z4/student9451.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z4/student2142.cpp<p></p><pre>
<a name="0"></a><font color="#FF0000"><a href="match198-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_99.gif"/></a>

/B2017/2018: ZadaÄ‡a 3, Zadatak 4
#include &lt;iostream&gt;
#include &lt;list&gt;
#include &lt;vector&gt;
#include &lt;string&gt;
#include &lt;map&gt;
#include &lt;queue&gt; 

using namespace std;

enum class Boje {Pik, Tref, Herc, Karo};

typedef list&lt;pair&lt;Boje,string&gt;&gt; Spil;
typedef multimap&lt;Boje,string&gt; Mapa;
typedef pair&lt;Boje,string&gt; Par;
typedef queue&lt;Par&gt; Red;

const vector&lt;string&gt; Karte{"2","3","4","5","6","7","8","9","10","J","Q","K","A"};
const vector&lt;string&gt; Znakovi{"Pik","Tref","Herc","Karo"};
const vector&lt;int&gt; Vrijednosti{2,3,4,5,6,7,8,9,10,12,13,14,15};

Spil KreirajSpil()
{
    Spil dek;int br=0;
    for(int i=0;i&lt;52;i++)
    {   
        if(i%13==0 &amp;&amp; i!=0) br++;
        dek.push_back(make_pair((Boje)(br),Karte[i%13]));
    }
    
    return dek;
}

void IspisiSpil(Spil dek)
{   
    int br=-1;cout&lt;&lt;"U spilu trenutno ima "&lt;&lt;dek.size()&lt;&lt;" karata, i to:"&lt;&lt;endl;
    if(dek.size()==0)
    {
        for(auto a:Znakovi)
        {
            cout&lt;&lt;a&lt;&lt;": "&lt;&lt;endl;
        }
    }
    else for(auto a:dek)
    {     
        if(br!=(int)a.first){if(br!=-1)cout&lt;&lt;endl;cout&lt;&lt;Znakovi[(int)a.first]&lt;&lt;": ";br++;}
        cout&lt;&lt;a.second&lt;&lt;" ";
        
    }
    cout&lt;&lt;endl;
}

bool Jednaki(Par a,Par b)
{
    return (int)a.first==(int)b.first &amp;&amp; a.second==b.second;
}
/*
bool ValjaLista(Spil dek)
{
    for(auto a:dek)
    {
        
    }
}
*/
void IzbaciKarte(Spil &amp;dek,Mapa &amp;m)
{
    if(dek.size()&gt;52) throw logic_error("Neispravna lista!"); 
    for(auto it=dek.begin();it!=dek.end();it++)
    {   
        for(auto mit=m.begin();mit!=m.end();mit++)
        {
            if(Jednaki(*it,*mit))
            {
                it=dek.erase(it);
                mit=m.erase(mit);
                break;    
            }
        }
    }
}

void IspisiMapu(Mapa m)
{
    for(auto a:m)
        cout&lt;&lt;Znakovi[(int)a.first]&lt;&lt;":"&lt;&lt;a.second&lt;&lt;endl;
}

Red IzbaciKarteRazbrajanjem(Spil &amp;dek,const short int &amp;r,const int &amp;b)
{
    if(r&lt;1 || r&gt;52 || b&lt;1) throw logic_error("Neispravni elementi za izbacivanje!");
    if(dek.size()&gt;52)throw logic_error("Neispravna lista!");
    auto it=dek.begin();
    Red q;
    for(int i=0;i&lt;b;i++)
    {
        for(int j=0;j!=r-1;it++,j++)
            if(it==dek.end() &amp;&amp; dek.size()!=0)it=dek.begin();
            
                
            
           if(dek.size()==0) break;
                q.push(*it);
                it=dek.erase(it);
                
                
            
    }
    
    return q;   
}

bool ManjiString(string a,string b)
{   
    int i,j;
    for(i=0;i&lt;Karte.size();i++)
        if(a==Karte[i]) break;
    for(j=0;j&lt;Karte.size();j++)
        if(b==Karte[j]) break;
        
        return i&lt;j;
}

void VratiPrvihNKarata(Spil &amp;dek,Red &amp;q,int n)
{
    if(n&lt;0) throw domain_error("Broj n je besmislen!");
    if(n&gt;q.size()) throw range_error("Nedovoljno karata u redu!");
    if(dek.size()&gt;52) throw logic_error("Neispravna lista!"); 
    for(int i=n;i!=0;i--)
    {
        for(auto it=dek.begin();it!=dek.end();it++)
        {    
            if((int)it-&gt;first==(int)q.front().first)
            {   //cout&lt;&lt;q.front().second;
                //int i=0,j=0;
                while(ManjiString(it-&gt;second,q.front().second) &amp;&amp; q.front().second!="A")
                    it++;
               
                 if(q.front().second=="A") 
                    while((int)q.front().first==(int)it-&gt;first) it++;
                            
                dek.insert(it,q.front());
               // if(it==dek.end())it=dek.begin();
                q.pop();
                break;
            }
        }
    }
}

int main ()
{   try{
    Spil dek=KreirajSpil();int n,br;
    cout&lt;&lt;"Unesite korak razbrajanja: ";
    cin&gt;&gt;n;
    cout&lt;&lt;"Unesite broj karata koje zelite izbaciti: ";
    cin&gt;&gt;br;
    Red q;
    q=IzbaciKarteRazbrajanjem(dek,n,br);
    
    IspisiSpil(dek);
    cout&lt;&lt;"Unesite broj karata koje zelite vratiti u spil: ";
    cin&gt;&gt;br;
    VratiPrvihNKarata(dek,q,br);
    IspisiSpil(dek);
}
    catch(domain_error er) { cout&lt;&lt;"Izuzetak: "&lt;&lt;er.what();}
    catch(logic_error er) {cout&lt;&lt;"Izuzetak: "&lt;&lt;er.what();}
    catch(range_error er) {cout&lt;&lt;"Izuzetak: "&lt;&lt;er.what();}
</font>  return 0;
}
</pre>
</body>
</html>
