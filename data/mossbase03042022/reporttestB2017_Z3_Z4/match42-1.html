<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z4/student7341.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z4/student2208.cpp<p></p><pre>
/B2017/2018: ZadaÄ‡a 3, Zadatak 4
#include &lt;iostream&gt;
#include &lt;string&gt;
#include &lt;vector&gt;
#include &lt;utility&gt;
#include &lt;map&gt;
#include &lt;list&gt;
#include &lt;set&gt;
#include &lt;queue&gt;
#include &lt;stack&gt;
#include &lt;stdexcept&gt;
#include &lt;algorithm&gt;

enum class Boje
{
<a name="0"></a><font color="#FF0000"><a href="match42-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_98.gif"/></a>

    Pik, Tref, Herc, Karo
};

typedef std::list&lt;std::pair&lt;Boje, std::string&gt;&gt; SpilKarata;

SpilKarata KreirajSpil ()
{
    SpilKarata spil;
    std::vector&lt;std::string&gt; nazivi_karata {"2", "3", "4", "5", "6", "7", "8", "9", "10", "J", "Q", "K", "A"};
    int index(0);
    for (int i(0); i&lt;4; i++) {
        while (index&lt;13) {
            std::pair&lt;Boje, std::string&gt; it;
            std::string number;
            number=nazivi_karata[index];
            if (i==0) it = std::make_pair (Boje::Pik, number);
            else if (i==1) it = std::make_pair (Boje::Tref, number);
            else if (i==2) it = std::make_pair (Boje::Herc, number);
            else if (i==3) it = std::make_pair (Boje::Karo, number);
            spil.push_back(it);
            index++;
        }
        index=0;
    }
    return spil;
}

void IzbaciKarte (SpilKarata &amp;spil, std::multimap&lt;Boje, std::string&gt; &amp;za_izbaciti)
{
    
    auto it = spil.begin();
    int broj_karata(0);
    
   for (;;) {
        it++;
        broj_karata++;
        if (it==spil.end()) break;
    }
    if (broj_karata&gt;52) throw std::logic_error("Neispravna lista!");
    //Provjera sortiranja
    auto rijec = spil.begin();//pomocna samo da mi oznaci pocetak
    rijec++;
    auto prethodni_pok = spil.begin();
    for (auto pok = rijec; pok != spil.end(); pok++) {
        int broj;
        int prethodni;
        //std::string temp=it-&gt;second;
        if (pok-&gt;second == "J") broj=11;
        else if (pok-&gt;second == "Q") broj=12;
        else if (pok-&gt;second == "K") broj=13;
        else if (pok-&gt;second == "A") broj=14;
        else broj = std::stoi (pok-&gt;second);
        std::string prethodni_temp = prethodni_pok-&gt;second;
        if (prethodni_pok-&gt;second == "J") prethodni=11;
        else if (prethodni_pok-&gt;second == "Q") prethodni=12;
        else if (prethodni_pok-&gt;second == "K") prethodni=13;
        else if (prethodni_pok-&gt;second == "A") prethodni=14;
        else prethodni = std::stoi (prethodni_pok-&gt;second);

        if (broj &lt; 2 || broj &gt; 14) throw;
        if (prethodni&gt;broj &amp;&amp; ((pok-&gt;first)==(prethodni_pok-&gt;first))) throw std::logic_error ("Neispravna lista!");

        //Izbacivanje
        for (auto it_spil = spil.begin(); it_spil !=spil.end(); it_spil++) {
            for (auto it_map = za_izbaciti.begin(); it_map != za_izbaciti.end(); it_map++) {
                if ((it_spil-&gt;first == it_map-&gt;first) &amp;&amp; (it_spil-&gt;second==it_map-&gt;second)) {
                   
                    it_spil = spil.erase(it_spil);
                    za_izbaciti.erase(it_map);
                }
            }
        }

        prethodni_pok++;

    }


}

std::queue&lt;std::pair&lt;std::string, std::string&gt;&gt; IzbaciKarteRazbrajanjem (SpilKarata &amp;spil, const short int &amp;r, const int &amp;b )
{
    
    if (r&lt;1 || r&gt;52) throw std::logic_error ("Neispravni elementi za izbacivanje!");
    if (b&lt;1) throw std::logic_error ("Neispravni elementi za izbacivanje!");
    if (b&gt;52) {
        //for (auto it_spil=spil.begin(); it_spil!=spil.end(); it_spil++)
        spil.erase(spil.begin(), spil.end());
        std::queue&lt;std::pair&lt;std::string, std::string&gt;&gt; red{};
       return red;
    }
    std::queue&lt;std::pair&lt;std::string, std::string&gt;&gt; red;
    {
        auto it_spil = spil.begin();
        int broj_karata(0);
        for (;;) {
            if (it_spil==spil.end()) break;
            it_spil++;
            broj_karata++;
        }
        if (broj_karata&gt;52) throw std::logic_error ("Neispravna lista!");
        auto rijec = spil.begin();
        rijec++;
        auto prethodni_it = spil.begin();
        for (auto it=rijec; it != spil.end(); it++) {
            int broj;
            int prethodni;
            if (it-&gt;second == "J") broj=11;
            else if (it-&gt;second == "Q") broj=12;
            else if (it-&gt;second == "K") broj=13;
            else if (it-&gt;second == "A") broj=14;
            else broj = std::stoi (it-&gt;second);

            if (prethodni_it-&gt;second == "J") prethodni=11;
            else if (prethodni_it-&gt;second == "Q") prethodni=12;
            else if (prethodni_it-&gt;second == "K") prethodni=13;
            else if (prethodni_it-&gt;second == "A") prethodni=14;
            else prethodni = std::stoi (prethodni_it-&gt;second);
            prethodni_it++;
            if (it-&gt;second&lt;"2" &amp;&amp; it-&gt;second&gt;"10" &amp;&amp; it-&gt;second!="K" &amp;&amp; it-&gt;second!="Q" &amp;&amp; it-&gt;second!="J" &amp;&amp; it-&gt;second!="A") throw std::logic_error ("Neispravna lista!");
            if (prethodni&lt;broj &amp;&amp; ((it-&gt;first)!=(prethodni_it-&gt;first))) throw std::logic_error ("Neispravna lista!");
        }
    }

    std::string boja, broj;
    int broj_karata_za_izbaciti(0);
    auto it_spil = spil.begin();
    while (broj_karata_za_izbaciti!=b) {
        int brojac(1);
        if (it_spil==spil.end() ) it_spil=spil.begin();
        while (brojac!=r) {
            it_spil++;
            if(it_spil==spil.end()) it_spil=spil.begin();
            brojac++;
        }
        if (int(it_spil-&gt;first)==0) boja="Pik";
        else if (int(it_spil-&gt;first)==1) boja="Tref";
        else if (int(it_spil-&gt;first)==2) boja="Herc";
        else if (int(it_spil-&gt;first)==3) boja="Karo";
        broj = it_spil-&gt;second;
        red.push(std::make_pair (boja, broj));
        it_spil=spil.erase(it_spil);
        broj_karata_za_izbaciti++;
        if(broj_karata_za_izbaciti==b) break;
    
    }
    return red;
}

void IspisSpil(const SpilKarata &amp;spil);

void VratiPrvihNKarata (SpilKarata &amp;spil, std::queue&lt;std::pair&lt;std::string,std::string&gt;&gt; &amp;red, int n)
{
    if (n&lt;0) throw std::domain_error ("Broj n je besmislen!");
    if (n&gt;red.size()) throw std::range_error ("Nedovoljno karata u redu!");
    auto it_spil = spil.begin();
    int broj_karata_koje_smo_vratili(0);
    while (broj_karata_koje_smo_vratili&lt;n) {
        Boje znak;
        if (red.front().first=="Pik") znak=Boje::Pik;
        else if (red.front().first=="Tref") znak=Boje::Tref;
        else if (red.front().first=="Herc") znak=Boje::Herc;
        else if (red.front().first=="Karo") znak=Boje::Karo;
        std::pair&lt;Boje, std::string&gt; treba_dodati (znak, red.front().second);


        for (auto it_spil=spil.begin(); it_spil!=spil.end(); it_spil++) {
            if (treba_dodati.first == it_spil-&gt;first) {
                spil.insert(it_spil, treba_dodati);
                break;
            }
        }

        red.pop();
        broj_karata_koje_smo_vratili++;
        it_spil=spil.begin();
    }


    int broj_prolaza(0);
    while (broj_prolaza&lt;=5) {
        auto sljedeci = spil.begin();
        for (auto it_spil=spil.begin(); it_spil!=spil.end(); it_spil++)  {
            sljedeci++;
            if (it_spil-&gt;first == sljedeci-&gt;first) {
                int broj;
                if (it_spil-&gt;second == "J") broj = 11;
                else if (it_spil-&gt;second == "Q") broj = 12;
                else if (it_spil-&gt;second == "K") broj = 13;
                else if (it_spil-&gt;second == "A") broj = 14;
                else broj = std::stoi(it_spil-&gt;second);

                int sljedbenik;
                if (sljedeci-&gt;second =="J") sljedbenik = 11;
                else if (sljedeci-&gt;second == "Q") sljedbenik = 12;
                else if (sljedeci-&gt;second == "K") sljedbenik = 13;
                else if (sljedeci-&gt;second == "A") sljedbenik = 14;
                else sljedbenik = std::stoi(sljedeci-&gt;second);

                if(broj&gt;sljedbenik) {
                    swap(*it_spil,*sljedeci);
                    it_spil--;
                    sljedeci--;
                }

            }
        }
        broj_prolaza++;
    }
}

void IspisSpil (const SpilKarata &amp;spil)
{
    int boja(0);
    auto pocetak = spil.begin();
    auto kraj = spil.end();
    kraj--;
    bool ispisano_imeP(false);
    bool ispisano_imeH(false);
    bool ispisano_imeT(false);
    bool ispisano_imeK(false);
    for (auto it=pocetak; it!=kraj; it++) {
        if (boja==0) {
            if (!ispisano_imeP) {
                std::cout &lt;&lt; "Pik: ";
                ispisano_imeP=true;
            }
            auto sljedeci=it;
            sljedeci++;
            if (it-&gt;first != sljedeci-&gt;first) {
                boja++;
                std::cout &lt;&lt; it-&gt;second &lt;&lt; " "&lt;&lt; std::endl;
                continue;
            } else {
                std::cout &lt;&lt; it-&gt;second &lt;&lt; " ";
            }
        }

        if (boja==1) {
            if(!ispisano_imeT) {
                std::cout&lt;&lt; "Tref: ";
                ispisano_imeT=true;
            }

            auto sljedeci=it;
            sljedeci++;
            if(it-&gt;first != sljedeci-&gt;first) {
                boja++;
                std::cout &lt;&lt; it-&gt;second &lt;&lt; " " &lt;&lt; std::endl;
                continue;
            } else std::cout &lt;&lt; it-&gt;second &lt;&lt; " ";
        }

        if (boja==2) {
            if(!ispisano_imeH) {
                std::cout&lt;&lt;"Herc: ";
                ispisano_imeH=true;
            }
            auto sljedeci=it;
            sljedeci++;
            if(it-&gt;first != sljedeci-&gt; first) {
                boja++;
                std::cout &lt;&lt; it-&gt;second &lt;&lt; " " &lt;&lt; std::endl;
                continue;
            } else std::cout &lt;&lt; it-&gt;second &lt;&lt; " ";
        }

        if (boja==3) {
            if (!ispisano_imeK) {
                std::cout&lt;&lt;"Karo: ";
                ispisano_imeK=true;
            }

            auto sljedeci = it;
            sljedeci++;
            if (it-&gt;first != sljedeci-&gt; first) {
                boja++;
                std::cout &lt;&lt; it-&gt;second &lt;&lt; " " &lt;&lt; std::endl;
                continue;
            }

            else std::cout &lt;&lt; it-&gt;second &lt;&lt; " ";
        }

    }
    std::cout &lt;&lt; kraj-&gt;second &lt;&lt; " " &lt;&lt; std::endl;
}

int main ()
{
    std::cout&lt;&lt;"Unesite korak razbrajanja: ";
    int korak;
    std::cin &gt;&gt; korak;
    std::cout&lt;&lt;"Unesite broj karata koje zelite izbaciti: ";
    int za_izbaciti;
    std::cin &gt;&gt; za_izbaciti;
    SpilKarata spil(KreirajSpil());
    std::multimap&lt;Boje,std::string&gt; multimapa;
    //multimapa.insert({Boje::Herc,"Q"});
    //multimapa.insert({Boje::Karo,"3"});
    IzbaciKarte(spil,multimapa);
    std::queue&lt;std::pair&lt;std::string, std::string&gt;&gt; red;
    try {
        // std::cout &lt;&lt; "ude ovdje" &lt;&lt; std::endl;
        red = IzbaciKarteRazbrajanjem(spil, korak, za_izbaciti);
        if (red.size()==0) return 0;
    }

    catch (std::logic_error greska) {
        std::cout &lt;&lt;"Izuzetak: " &lt;&lt; greska.what();
        return 0;
    }

    catch (...) {
        std::cout&lt;&lt;"Neocekivani izuzetak!";
        return 0;
    }
    int broj_karata(0);
    for (auto it=spil.begin(); it!=spil.end(); it++) broj_karata++;
    std::cout&lt;&lt;"U spilu trenutno ima "&lt;&lt;broj_karata&lt;&lt;" karata, i to:"&lt;&lt;std::endl;
    IspisSpil(spil);
    try {
        std::cout &lt;&lt; "Unesite broj karata koje zelite vratiti u spil: ";
        int za_vratiti;
        std::cin &gt;&gt; za_vratiti;
        VratiPrvihNKarata(spil, red, za_vratiti);
        auto ima=broj_karata+za_vratiti;
        std::cout &lt;&lt; "U spilu trenutno ima " &lt;&lt; ima &lt;&lt; " karata, i to:" &lt;&lt; std::endl;
        IspisSpil(spil);
    }

    catch (std::range_error greska) {
        std::cout &lt;&lt; "Izuzetak: " &lt;&lt;greska.what();
        return 0;
    }

    catch (std::domain_error greska) {
        std::cout &lt;&lt; "Izuzetak: " &lt;&lt; greska.what();
</font>        return 0;
    }
    return 0;
}
</pre>
</body>
</html>
