<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z4/student4770.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z4/student6609.cpp<p></p><pre>
/B2017/2018: ZadaÄ‡a 3, Zadatak 4
#include &lt;iostream&gt;
#include &lt;list&gt;
#include &lt;utility&gt;
#include &lt;map&gt;
#include &lt;string&gt;
#include &lt;stdexcept&gt;
#include &lt;queue&gt;
#include &lt;vector&gt;
#include &lt;algorithm&gt;

enum class Boje {Pik, Tref, Herc, Karo};

typedef std::list&lt;std::pair&lt;Boje, std::string&gt;&gt; ListaParova;
typedef std::queue&lt;std::pair&lt;std::string, std::string&gt;&gt; RedParova;
typedef std::multimap&lt;Boje, std::string&gt; Multimapa;

bool DaLiJeBesmisleno (RedParova red) {
    std::vector&lt;std::string&gt; vr {"2", "3", "4", "5", "6", "7", "8", "9", "10", "J", "Q", "K", "A"};
    std::pair&lt;std::string, std::string&gt; par = red.front();
    std::string pocetak = par.first;
    if (pocetak!="Pik" &amp;&amp; pocetak!="Tref" &amp;&amp; pocetak!="Herc" &amp;&amp; pocetak!="Karo") return true;
    red.push(par);
    red.pop();
    //bool ima(false);
    for (;;) {
        par = red.front();
        std::string prvi = par.first;
        if (prvi!="Pik" &amp;&amp; prvi!="Tref" &amp;&amp; prvi!="Herc" &amp;&amp; prvi!="Karo") return true;
        /*std::string drugi = par.second;
        for (int i=0; i&lt;vr.size(); i++) {
            if (drugi==vr.at(i)) ima==true;
        }
        if (!ima) return true;*/
        red.push(par);
        red.pop();
        par = red.front();
        if (par.first==pocetak) break;
    }
    return false;
}

bool DaLiJeSortiran (ListaParova spil){
    std::vector&lt;std::string&gt; vr {"2", "3", "4", "5", "6", "7", "8", "9", "10", "J", "Q", "K", "A"};
    auto it=spil.begin();
    int boja = int(it-&gt;first);
    it++;
    for (; it!=spil.end(); it++) {
        if (boja &gt; int(it-&gt;first)) return false;
        boja = int(it-&gt;first);
    }
    return true;
}

bool DaLiJeBesmisleno (ListaParova spil) {
    std::vector&lt;std::string&gt; vr {"2", "3", "4", "5", "6", "7", "8", "9", "10", "J", "Q", "K", "A"};
    bool ima(true);
    for (auto it=spil.begin(); it!=spil.end(); it++) {
        auto boja = it-&gt;first;
        if (boja!=Boje::Pik &amp;&amp; boja!=Boje::Tref &amp;&amp; boja!=Boje::Herc &amp;&amp; boja!=Boje::Karo) return true;
        std::string drugi = it-&gt;second;
        for (int i=0; i&lt;vr.size(); i++) {
            if (drugi==vr.at(i)) ima=true;
        }
        if (!ima) return true;
    }
    return false;
}

ListaParova KreirajSpil () {
    ListaParova lista (52);
    std::vector&lt;std::string&gt; vr {"2", "3", "4", "5", "6", "7", "8", "9", "10", "J", "Q", "K", "A"};
    int br(0), i(0);
    for (auto it=lista.begin(); it!=lista.end(); it++) {
        if (br&lt;13)
            *it = std::make_pair(Boje::Pik, vr.at(i));
        else if (br&gt;=13 &amp;&amp; br&lt;26)
            *it = std::make_pair(Boje::Tref, vr.at(i));
        else if (br&gt;=26 &amp;&amp; br&lt;39)
            *it = std::make_pair(Boje::Herc, vr.at(i));
        else 
            *it = std::make_pair(Boje::Karo, vr.at(i));
        br++;
        if (i&lt;12) i++;
        else i=0;
    }
    return lista;
}


void IzbaciKarte (ListaParova &amp;spil, Multimapa &amp;m) {
    if (spil.size()&gt;52 || !DaLiJeSortiran(spil) || DaLiJeBesmisleno(spil)) throw std::logic_error ("Neispravna lista!");
   
    for (auto it1=spil.begin(); it1!=spil.end(); it1++) {
        for (auto it2=m.begin(); it2!=m.end(); it2++) {
            if (it1-&gt;first==it2-&gt;first &amp;&amp; it1-&gt;second==it2-&gt;second) {
                it1 = spil.erase(it1);
                m.erase(it2-&gt;first);
                break;
            }
        }
        it1--;
    }
}


RedParova IzbaciKarteRazbrajanjem (ListaParova &amp;spil, const short int &amp;r, const int &amp;b) { // r-&gt;korak razbrajanja; b-&gt;broj karata koje treba izbaciti;
    if (r&lt;1 || r&gt;52 || b&lt;1) throw std::logic_error ("Neispravni elementi za izbacivanje!");
    if (spil.size()&gt;52 || !DaLiJeSortiran(spil) || DaLiJeBesmisleno(spil)) throw std::logic_error ("Neispravna lista!");
    RedParova red;
    int br(0);
    for (auto it=spil.begin();; it++) {
        
        short int pom(r);
        while(pom&gt;1) {
            if (it==spil.end()) it=spil.begin();
            it++;
            pom--;
        }
        std::string pom1;
        int prvi = int(it-&gt;first);
        if (prvi==0) pom1 = "Pik";
        else if (prvi==1) pom1 = "Tref";
        else if (prvi==2) pom1 = "Herc";
        else if (prvi==3) pom1 = "Karo";
        
        std::string pom2 (it-&gt;second);
        
        std::pair&lt;std::string, std::string&gt; par = std::make_pair (pom1, pom2);
        red.push(par);
        
        it = spil.erase(it);
        it--;
        
        if (spil.size()==0) break;
        
        br++;
        if (br==b) break;
    }
    
    return red;
}


void VratiPrvihNKarata (ListaParova &amp;spil, RedParova &amp;red, int n) {
    if (n&lt;0 || n&gt;52) throw std::domain_error ("Broj n je besmislen!");
    if (n&gt;red.size()) throw std::range_error("Nedovoljno karata u redu!");
    if (DaLiJeBesmisleno(red)) throw std::logic_error ("Neispravne karte");
    if (spil.size()&gt;52 || !DaLiJeSortiran(spil) || DaLiJeBesmisleno(spil)) throw std::logic_error ("Neispravna lista!");
    
    std::vector&lt;std::string&gt; vr {"2", "3", "4", "5", "6", "7", "8", "9", "10", "J", "Q", "K", "A"}; 
    
    int i(0);
    //bool ima(false);
    while (i&lt;n) {
        bool ima = false;
        std::pair&lt;std::string, std::string&gt; pom = red.front();
        std::string boja_s = pom.first;
        Boje prvi;
        if (boja_s=="Pik") prvi = Boje::Pik;
        else if (boja_s=="Tref") prvi = Boje::Tref;
        else if (boja_s=="Herc") prvi = Boje::Herc;
        else if (boja_s=="Karo") prvi = Boje::Karo;
        std::pair&lt;Boje, std::string&gt; par = std::make_pair(prvi, pom.second);
        for (auto it=spil.begin(); it!=spil.end(); it++) {
            if (par.first==it-&gt;first &amp;&amp; par.second==it-&gt;second) {
                ima=true;
                break;
            }
        }
        if (!ima) {
            spil.insert(spil.begin(), par);
            i++;
        }
        else {
            red.push(pom);
        }
        red.pop();
    }
    
    spil.sort([vr](std::pair&lt;Boje, std::string&gt; par1, std::pair&lt;Boje, std::string&gt; par2) {
        int br1(-1), br2(-1);
        for (int i=0; i&lt;vr.size(); i++) {
            if (par1.second==vr.at(i)) br1=i;
            if (par2.second==vr.at(i)) br2=i;
            if (br1!=-1 &amp;&amp; br2!=-1) break;
        }
        return br1&lt;br2;
    });
}


int main ()
{
    try {
        ListaParova Spil (KreirajSpil());
        
        int korak(0);
        std::cout &lt;&lt; "Unesite korak razbrajanja: ";
        std::cin &gt;&gt; korak;
        int br_karata1(0);
        std::cout &lt;&lt; "Unesite broj karata koje zelite izbaciti: ";
        std::cin &gt;&gt; br_karata1;
        RedParova red = IzbaciKarteRazbrajanjem(Spil, korak, br_karata1);
<a name="0"></a><font color="#FF0000"><a href="match693-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_10.gif"/></a>

        std::cout &lt;&lt; "U spilu trenutno ima " &lt;&lt; 52-br_karata1 &lt;&lt; " karata, i to:" &lt;&lt; std::endl;
        std::cout &lt;&lt; "Pik: ";
        for (auto it=Spil.begin(); it!=Spil.end(); it++) {
            if (int(it-&gt;first)==0) std::cout &lt;&lt; it-&gt;second &lt;&lt; " ";
        }
        std::cout &lt;&lt; std::endl &lt;&lt; "Tref: ";
        for (auto it=Spil.begin(); it!=Spil.end(); it++) {
            if (int(it-&gt;first)==1) std::cout &lt;&lt; it-&gt;second &lt;&lt; " ";
        }
        std::cout &lt;&lt; std::endl &lt;&lt; "Herc: ";
        for (auto it=Spil.begin(); it!=Spil.end(); it++) {
            if (int(it-&gt;first)==2) std::cout &lt;&lt; it-&gt;second &lt;&lt; " ";
        }
        std::cout &lt;&lt; std::endl &lt;&lt; "Karo: ";
        for (auto it=Spil.begin(); it!=Spil.end(); it++) {
            if (int(it-&gt;first)==3) std::cout &lt;&lt; it-&gt;second &lt;&lt; " ";
</font>        }
        
        int br_karata2(0);
        std::cout &lt;&lt; std::endl &lt;&lt; "Unesite broj karata koje zelite vratiti u spil: ";
        std::cin &gt;&gt; br_karata2;
        VratiPrvihNKarata(Spil, red, br_karata2);
        std::cout &lt;&lt; "U spilu trenutno ima " &lt;&lt; 52-br_karata1+br_karata2 &lt;&lt; " karata, i to:" &lt;&lt; std::endl;
        std::cout &lt;&lt; "Pik: ";
        for (auto it=Spil.begin(); it!=Spil.end(); it++) {
            if (int(it-&gt;first)==0) std::cout &lt;&lt; it-&gt;second &lt;&lt; " ";
        }
        std::cout &lt;&lt; std::endl &lt;&lt; "Tref: ";
        for (auto it=Spil.begin(); it!=Spil.end(); it++) {
            if (int(it-&gt;first)==1) std::cout &lt;&lt; it-&gt;second &lt;&lt; " ";
        }
        std::cout &lt;&lt; std::endl &lt;&lt; "Herc: ";
        for (auto it=Spil.begin(); it!=Spil.end(); it++) {
            if (int(it-&gt;first)==2) std::cout &lt;&lt; it-&gt;second &lt;&lt; " ";
        }
        std::cout &lt;&lt; std::endl &lt;&lt; "Karo: ";
        for (auto it=Spil.begin(); it!=Spil.end(); it++) {
            if (int(it-&gt;first)==3) std::cout &lt;&lt; it-&gt;second &lt;&lt; " ";
        }
    }
    catch (std::logic_error izuzetak) {
        std::cout &lt;&lt; "Izuzetak: " &lt;&lt; izuzetak.what() &lt;&lt; std::endl;
    }
    catch (std::range_error izuzetak) {
        std::cout &lt;&lt; "Izuzetak: " &lt;&lt; izuzetak.what() &lt;&lt; std::endl;
    }
	return 0;
}
</pre>
</body>
</html>
