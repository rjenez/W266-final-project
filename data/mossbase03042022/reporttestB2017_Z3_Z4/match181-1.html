<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z4/student4740.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z4/student6781.cpp<p></p><pre>
<a name="0"></a><font color="#FF0000"><a href="match181-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_97.gif"/></a>

/B2017/2018: ZadaÄ‡a 3, Zadatak 4
#include &lt;iostream&gt;
#include &lt;vector&gt;
#include &lt;string&gt;
#include &lt;list&gt;
#include &lt;utility&gt;
#include &lt;map&gt;
#include &lt;stdexcept&gt;
#include &lt;algorithm&gt;
#include &lt;queue&gt;

enum class Boje
{
    Pik, Tref, Herc, Karo
} ;
const std::vector&lt;std::string&gt; imena {"2","3","4","5","6","7","8","9","10","J","Q","K","A"} ;
const std::vector&lt;std::string&gt; znakovi {"Pik","Tref","Herc","Karo"} ;

typedef std::list&lt;std::pair&lt;Boje, std::string&gt;&gt; spil_karata ;

spil_karata KreirajSpil()
{
    spil_karata lista;
    for(int i=0; i&lt;4; i++) {
        for(int j=0; j&lt;13; j++) {
            std::pair&lt;Boje, std::string&gt; par(Boje(i),imena[j]);
            lista.push_back(par);
        }
    }
    return lista;
}

void IspisiSpil(spil_karata const &amp;spil)
{
    //  std::cout &lt;&lt; std::endl;
    std::cout &lt;&lt; "U spilu trenutno ima "&lt;&lt; spil.size()&lt;&lt;" karata, i to:" &lt;&lt; std::endl;
    for(int i(0); i&lt;4; i++) {
        std::cout &lt;&lt; znakovi[i] &lt;&lt;": ";
        for(auto it(spil.begin()); it!=spil.end(); it++) {
            if(it-&gt;first==Boje(i)) std::cout &lt;&lt; it-&gt;second &lt;&lt;" ";
        }
        std::cout &lt;&lt; std::endl;
    }
}
void ProvjeriListu(spil_karata const &amp;spil)
{
    if(spil.size()&gt;52) throw std::logic_error("Neispravna lista!");
    for(auto it(spil.begin()); it!=spil.end(); it++) {
        int ok_broj (std::count(imena.begin(), imena.end(), it-&gt;second));
        bool ok_boja(false);
        for(int i=0; i&lt;4; i++) if(it-&gt;first==Boje(i)) ok_boja=true;
        if(ok_broj==0 || ok_boja==false) throw std::logic_error("Neispravna lista!");
    }
    for(auto it(spil.begin()); it!=spil.end(); it++) {
        int pojavljivanje(std::count(spil.begin(), spil.end(), *it));
        if(pojavljivanje&gt;1) throw std::logic_error("Neispravna lista!");
    }
    
    int velicina(spil.size());
    auto it(spil.begin()); 
    auto naredni(spil.begin());
    naredni++;
    for(int i(0);i&lt;velicina-1;i++){
        if(it-&gt;first&gt;naredni-&gt;first) throw std::logic_error("Neispravna lista!");
        else if(it-&gt;first==naredni-&gt;first){
            auto prvi(std::find(imena.begin(), imena.end(), it-&gt;second));
            auto drugi(std::find(imena.begin(), imena.end(), naredni-&gt;second));
            if(prvi&gt;drugi) throw std::logic_error("Neispravna lista!");
        }
        it++; naredni++;
    }
   
}
void IzbaciKarte(spil_karata &amp;spil, std::multimap&lt;Boje, std::string&gt; multim)
{
    ProvjeriListu(spil);
    if(spil.size()==0) throw std::logic_error("Neispravna lista!");
    for(auto it(multim.begin()); it!=multim.end(); it++) {
        std::pair&lt;Boje, std::string&gt; par;
        par.first=it-&gt;first;
        par.second=it-&gt;second;
        auto u_spilu(std::find(spil.begin(),spil.end(),par));
        if(u_spilu!=spil.end()) {
            it=multim.erase(it);
            u_spilu=spil.erase(u_spilu);
            it--;
        }
    }
}
std::queue&lt;std::pair&lt;Boje, std::string&gt;&gt; IzbaciKarteRazbrajanjem(spil_karata &amp;spil, short int r, int b)
{
    if(r&lt;1 || r&gt;52 || b&lt;1) throw std::logic_error("Neispravni elementi za izbacivanje!");
    ProvjeriListu(spil);
    if(spil.size()==0) throw std::logic_error("Neispravna lista!");

    std::queue&lt;std::pair&lt;Boje,std::string&gt;&gt; red ;
    auto it(spil.begin());
    int br(1);
    int bii(0);
    while(br!=r) {
        it++;
        br++;
    }
    while(spil.size()&gt;0 &amp;&amp; bii&lt;b) {
        if(it==spil.end()) it=spil.begin();
        if(br%r==0) {
            red.push(*it);
            it=spil.erase(it);
            br++;
            bii++;
        } else {
            it++;
            br++;
        }
    }
    return red;
}

void ProvjeriRed(std::queue&lt;std::pair&lt;Boje, std::string&gt;&gt; red)
{
    while(!red.empty()) {
        auto clan=red.front();
        if(clan.first!=Boje::Tref &amp;&amp; clan.first!=Boje::Herc &amp;&amp; clan.first!=Boje::Pik &amp;&amp; clan.first!=Boje::Karo) throw std::logic_error ("Neispravne karte!");
        bool ok(false);
        for(int i(0); i&lt;imena.size(); i++) if(clan.second==imena[i]) ok=true;
        if(!ok) throw std::logic_error ("Neispravne karte!");
        red.pop();
    }
}

void VratiPrvihNKarata(spil_karata &amp;spil, std::queue&lt;std::pair&lt;Boje, std::string&gt;&gt; &amp;red, int n)
{
    if(n&lt;0) throw std::domain_error ("Broj n je besmislen!");
    if(n&gt;red.size()) throw std::range_error ("Nedovoljno karata u redu!");
    ProvjeriRed(red);
    for(int i(0); i&lt;n; i++) {
        auto element(red.front());
        auto it(spil.begin());
        while(it-&gt;first&lt;element.first) it++;
        auto tu(std::find(imena.begin(), imena.end(),element.second));
        while(std::find(imena.begin(), imena.end(),it-&gt;second)&lt;tu) it++;
        spil.insert(it, element);
        red.pop();
    }
}

int main ()
{
    spil_karata spil(KreirajSpil());
    try {
        short int korak;
        int broj;
        std::cout &lt;&lt; "Unesite korak razbrajanja: " ;
        std::cin &gt;&gt; korak;
        std::cout &lt;&lt; "Unesite broj karata koje zelite izbaciti: ";
        std::cin &gt;&gt; broj;
        auto izbacene=IzbaciKarteRazbrajanjem(spil,korak,broj);
        IspisiSpil(spil);
        int vracaj;
        std::cout &lt;&lt;  "Unesite broj karata koje zelite vratiti u spil: ";
        std::cin &gt;&gt; vracaj;
        VratiPrvihNKarata(spil,izbacene,vracaj);
        IspisiSpil(spil);
    } catch(std::logic_error greska) {
        std::cout &lt;&lt; "Izuzetak: " &lt;&lt; greska.what() &lt;&lt; std::endl;
    } catch(std::range_error greska) {
</font>        std::cout &lt;&lt; "Izuzetak: " &lt;&lt; greska.what() &lt;&lt; std::endl;
    }
    return 0;
}
</pre>
</body>
</html>
