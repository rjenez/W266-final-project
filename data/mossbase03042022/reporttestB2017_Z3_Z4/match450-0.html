<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z4/student8085.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z4/student8085.cpp<p></p><pre>
<a name="2"></a><font color="#0000FF"><a href="match450-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_4.gif"/></a>

/B2017/2018: Zadaća 3, Zadatak 4
#include &lt;iostream&gt;
#include &lt;list&gt;
#include &lt;vector&gt;
#include &lt;queue&gt;
#include &lt;stdexcept&gt;
#include &lt;algorithm&gt;

using namespace std;

enum class Boje {Pik, Tref, Herc, Karo};

void Ispisi(list&lt;pair&lt;Boje, string&gt;&gt; spil) {
</font>    cout &lt;&lt; "U spilu trenutno ima " &lt;&lt; spil.size() &lt;&lt; " karata, i to:" &lt;&lt; endl;
    for(int i=0; i &lt; 4; i++) {
        switch(i) {
            case 0:
                cout &lt;&lt; "Pik: ";
                break;
            case 1:
                cout &lt;&lt; "Tref: ";
                break;
            case 2:
                cout &lt;&lt; "Herc: ";
                break;
            case 3:
                cout &lt;&lt; "Karo: ";
                break;
        }
        for(auto it = spil.begin(); it != spil.end(); it++) {
            if((int)(*it).first == i) cout &lt;&lt; (*it).second &lt;&lt; " "; 
        }
        cout &lt;&lt; endl;
    }
}

string DajBoju(Boje boja) {
    if(boja == Boje::Pik) return "Pik";
    else if(boja == Boje::Tref) return "Tref";
    else if(boja == Boje::Herc) return "Herc";
    else return "Karo";
}

Boje DajBojuBoju(string boja) {
    if(boja == "Pik") return Boje::Pik;
    else if(boja == "Tref") return Boje::Tref;
    else if(boja == "Herc") return Boje::Herc;
    else return Boje::Karo;
}

int RankKarte(string karta) {
    vector&lt;pair&lt;string, int&gt;&gt; Karte = { make_pair("2", 2), make_pair("3", 3), make_pair("4", 4), make_pair("5", 5), make_pair("6", 6), 
        make_pair("7", 7), make_pair("8", 8), make_pair("9", 9), make_pair("10", 10), make_pair("J", 11), make_pair("Q", 12), make_pair("K", 13),
        make_pair("A", 14) };
    
    int rank;    
    for(int i = 0; i &lt; Karte.size(); i++) 
        if(Karte[i].first == karta) rank = Karte[i].second;
    
    return rank;
}

bool ProvjeriKartu(list&lt;pair&lt;Boje, string&gt;&gt; spil) {
    for(auto it = spil.begin(); it != spil.end(); it++) {
        if((*it).first == Boje::Pik || (*it).first == Boje::Tref 
            || (*it).first == Boje::Herc || (*it).first == Boje::Karo
            || RankKarte((*it).second) &lt; 2 || RankKarte((*it).second) &gt; 14) {
                return true;    
            }
    }
    return false;
}

<a name="0"></a><font color="#FF0000"><a href="match450-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_8.gif"/></a>

list&lt;pair&lt;Boje, string&gt;&gt; KreirajSpil() {
    list&lt;pair&lt;Boje, string&gt;&gt; spil;
    vector&lt;string&gt; Karte = { "2", "3", "4", "5", "6", "7", "8", "9", "10", "J", "Q", "K", "A" };
    
    for(int i=0; i &lt; 4; i++) {
        for(int j=0; j &lt; Karte.size(); j++) {
            spil.push_back(make_pair((Boje)i, Karte[j]));
</font>        }
        
    }
    
    return spil;
}

queue&lt;pair&lt;string, string&gt;&gt; IzbaciKarteRazbrajanjem(list&lt;pair&lt;Boje, string&gt;&gt; &amp;spil, short int const &amp;r, int const &amp;b) {
     queue&lt;pair&lt;string, string&gt;&gt; izbaceneKarte;
     if(r &lt; 1 || r &gt; 52 || b &lt; 1) throw logic_error("Neispravni elementi za izbacivanje!");
     if(spil.size() &gt; 52 ) throw logic_error("Neispravna lista!");
     
     int brKarata = b;
     short int korak = r - 1; 
     int brojac = 0;
     while(true) {
         for(auto it = spil.begin(); it != spil.end(); it++) {
            
            if(brojac == korak) {
                izbaceneKarte.push(make_pair(DajBoju((*it).first), (*it).second));
                spil.erase(it++);
                brojac = 0;
                brKarata--;
            }
            brojac++;
            if(brKarata == 0) break;
         }
         if(brKarata == 0) break;
     }
     
<a name="1"></a><font color="#00FF00"><a href="match450-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_5.gif"/></a>

     return izbaceneKarte;
}

void VratiPrvihNKarata(list&lt;pair&lt;Boje, string&gt;&gt; &amp;spil, queue&lt;pair&lt;string, string&gt;&gt; &amp;red, int n) {
    if(n &lt; 0 || n &gt; 52) throw domain_error("Broj n je besmislen!");
    if(n &gt; red.size()) throw range_error("Nedovoljno karata u redu!");
    if(spil.size() &gt; 52) throw logic_error("Neispravna lista!");
</font>    while(true) {
        for(auto it = spil.begin(); it != spil.end(); it++) {
            if(red.front().first == DajBoju((*it).first) &amp;&amp; RankKarte(red.front().second) &lt; RankKarte((*it).second)
                || red.front().first != DajBoju((*it).first) &amp;&amp; RankKarte(red.front().second) == 14) {
                spil.insert(it, make_pair(DajBojuBoju(red.front().first), red.front().second));
                red.pop();
                n--;
            }
            if(n == 0) break;
        }
        if(n == 0) break;
    }
}

int main () //treba uraditi još 1 fju
{
    auto spil = KreirajSpil();
    short int korak;
    int brKarata;
    try {
        cout &lt;&lt; "Unesite korak razbrajanja: ";
        cin &gt;&gt; korak;
        cout &lt;&lt; "Unesite broj karata koje zelite izbaciti: ";
        cin &gt;&gt; brKarata;
        auto izbaceneKarte = IzbaciKarteRazbrajanjem(spil, korak, brKarata);
        Ispisi(spil);
        cout &lt;&lt; "Unesite broj karata koje zelite vratiti u spil: ";
        cin &gt;&gt; brKarata;
        VratiPrvihNKarata(spil, izbaceneKarte, brKarata);
        Ispisi(spil);    
<a name="3"></a><font color="#00FFFF"><a href="match450-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_3.gif"/></a>

    } catch(domain_error d) {
        cout &lt;&lt; "Izuzetak: " &lt;&lt; d.what();
    } catch(logic_error l) {
        cout &lt;&lt; "Izuzetak: " &lt;&lt; l.what();
    } catch(range_error r) {
        cout &lt;&lt; "Izuzetak: " &lt;&lt; r.what();
</font>    }
    
    
	return 0;
}
</pre>
</body>
</html>
