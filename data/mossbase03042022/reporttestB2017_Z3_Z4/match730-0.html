<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z4/student2464.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z4/student2464.cpp<p></p><pre>
/B2017/2018: ZadaÄ‡a 3, Zadatak 4
#include &lt;iostream&gt;
#include &lt;list&gt;
#include &lt;utility&gt;
#include &lt;string&gt;
#include &lt;sstream&gt;
#include &lt;map&gt;
#include &lt;exception&gt;
#include &lt;queue&gt;
#include &lt;iterator&gt;

enum class Boje
{
    Pik, Herc, Tref, Karo
};

std::map&lt;std::string, int&gt; Poredak
{
    {"2",0},{"3",1}, {"4",2}, {"5",3}, {"6",4} , {"7",5}, {"8",6}, {"9",7}, {"10",8}, {"J",9}, {"Q",10}, {"K",11}, {"A",12}
};

typedef std::list&lt;std::pair&lt;Boje, std::string&gt;&gt; Lista;
typedef std::pair&lt;Boje, std::string&gt; Par;
typedef std::multimap&lt;Boje, std::string&gt; MultiMapa;


Lista KreirajSpil()
{
    Lista l;
    Boje boja_karte;

    Par p;
    for(int i=0; i&lt;4; i++) {

        if(i==0) boja_karte=Boje::Pik;
        else if (i==1) boja_karte=Boje::Herc;
        else if (i==2) boja_karte=Boje::Tref;
        else if(i==3) boja_karte=Boje::Karo;

        for(int j=2; j&lt;=14; j++) {

            std::string s;

            if(j==14) s="A";
            else if(j==13) s="K";
            else if(j==12) s="Q";
            else if(j==11) s="J";
            else s=std::to_string(j);

            p=std::make_pair(boja_karte, s);
            l.push_back(p);

        }
    }
    return l;
}
int BrojElemenataListe(Lista l)
{
    int brojac=0;
    for(auto x:l) brojac++;
    return brojac;
}
bool DaLiJeSortirana(Lista l)
{
    typename Lista::iterator p(l.begin());
    typename Lista::iterator k(l.end());
    typename Lista::iterator pom(l.begin());
    while(p!=k) {
        pom=p;
        pom++;
        while(pom!=k) {
            if(p-&gt;first &gt; pom-&gt;first || (p-&gt;first==pom-&gt;first &amp;&amp; Poredak[p-&gt;second]&gt; Poredak[pom-&gt;second])) return false;
            pom++;
        }
        p++;
    }
    return true;
}

bool DaLiJeSmislena(Lista l){
    for(auto it=l.begin(); it!=l.end(); it++){
        if(it-&gt;first != Boje::Pik &amp;&amp; it-&gt;first != Boje::Herc &amp;&amp; it-&gt;first != Boje::Tref &amp;&amp; it-&gt;first != Boje::Karo) return false;
        if(!Poredak.count(it-&gt;second)) return false;
    }
    return true;
}

void IzbaciKarte(Lista &amp;l, MultiMapa &amp;m)
{
    if(BrojElemenataListe(l)&gt;52 || DaLiJeSortirana(l)==false || DaLiJeSmislena(l)==false) throw std::logic_error ("Neispravna lista!");
    for(auto it= m.begin(); it!=m.end(); it++)
        for(auto it2=l.begin(); it2!=l.end(); it2++)
            if(it-&gt;first==it2-&gt;first &amp;&amp; it-&gt;second == it2-&gt;second) {
                it2=l.erase(it2);
                m.erase(it);
            }
}
std::queue&lt;std::pair&lt;Boje, std::string&gt;&gt; IzbaciKarteRazbrajanjem(Lista &amp;l, const short int &amp;r, const int &amp;b)
{
    if(r&lt;1 || r&gt;52 || b&lt;1) throw std::logic_error("Neispravni elementi za izbacivanje!");
    if(BrojElemenataListe(l)&gt;52 || DaLiJeSortirana(l)==false ||DaLiJeSmislena(l)==false)  throw std::logic_error ("Neispravna lista!");

    std::queue&lt;std::pair&lt;Boje, std::string&gt;&gt; red;

    int korak(r-1);
    for( int i=0 ; i&lt;b; i++) {
        auto it (l.begin());
        korak = korak % BrojElemenataListe(l);
        std::advance(it, korak);

        red.push(*it);
        it=l.erase(it);
        korak--;
        korak+=r;
    }
    return red;
}
int BrojElemenataReda(std::queue&lt;std::pair&lt;Boje,std::string&gt;&gt; red)
{
    int brojac(0);
    while(!red.empty()) {
        brojac++;
        red.pop();
    }
    return brojac;
}

bool DaLiJeuListi(Lista l, std::pair&lt;Boje, std::string&gt; par)
{
    for(auto it=l.begin(); it!=l.end(); it++) {
        if(it-&gt;first == par.first &amp;&amp; it-&gt;second == par.second) return true;
    }
    return false;
}
void Sortirajlistu(Lista &amp;l)
{
    auto p(l.begin());
    auto k(l.end());
    auto pom(l.begin());
    while(p!=k) {
        pom=p;
        pom++;

        while(pom!=k) {
            if(p-&gt;first&gt;pom-&gt;first || (p-&gt;first==pom-&gt;first &amp;&amp; Poredak[p-&gt;second]&gt;Poredak[pom-&gt;second])) {
                auto pomocna(*p);
                *p=*pom;
                *pom=pomocna;
            }
            pom++;
        }
        p++;
    }
}

void VratiPrvihNKarata(Lista &amp;l, std::queue&lt;std::pair&lt;Boje, std::string&gt;&gt; &amp;red, int n)
{
    if(n&gt;BrojElemenataReda(red)) throw std::range_error("Nedovoljno karata u redu!");
    if(n!=int(n) || n&lt;0) throw std::domain_error ("Broj n je besmislen!");
    if(BrojElemenataListe(l)&gt;52 || DaLiJeSortirana(l)==false || DaLiJeSmislena(l)==false) throw std::logic_error ("Neispravna lista!");

    for(int i=0; i&lt;n; i++ ) {
        if(DaLiJeuListi(l,red.front())==true) {
            red.pop();
            continue;
        }
        l.push_back(red.front());
        red.pop();

    }
    Sortirajlistu(l);
}


<a name="0"></a><font color="#FF0000"><a href="match730-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_3.gif"/></a>

void IspisiPik(Lista l)
{
    std::cout&lt;&lt;"Pik: ";
    for(auto it=l.begin(); it!=l.end(); it++) {
        if(int(it-&gt;first)==0)
            std::cout&lt;&lt; it-&gt;second&lt;&lt;" ";

    }
    std::cout &lt;&lt;std::endl;
</font>}
void IspisiTref (Lista l)
{
<a name="1"></a><font color="#00FF00"><a href="match730-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_3.gif"/></a>

    std::cout&lt;&lt;"Tref: ";
    for(auto it=l.begin(); it!=l.end(); it++) {
        if(int(it-&gt;first)==1)
            std::cout&lt;&lt; it-&gt;second&lt;&lt;" ";
    }
    std::cout &lt;&lt;std::endl;
</font>}

void IpisiHerc (Lista l)
{
<a name="2"></a><font color="#0000FF"><a href="match730-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_3.gif"/></a>

    std::cout&lt;&lt;"Herc: ";
    for(auto it=l.begin(); it!=l.end(); it++) {
        if(int(it-&gt;first)==2)
            std::cout&lt;&lt; it-&gt;second&lt;&lt;" ";
    }
    std::cout &lt;&lt;std::endl;
</font>}

void IspisiKaro (Lista l)
{
<a name="3"></a><font color="#00FFFF"><a href="match730-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_2.gif"/></a>

    std::cout&lt;&lt;"Karo: ";
    for(auto it=l.begin(); it!=l.end(); it++) {
        if(int(it-&gt;first)==3)
            std::cout&lt;&lt; it-&gt;second&lt;&lt;" ";
</font>    }
    std::cout &lt;&lt;std::endl;
}
void IpisiListu (Lista l)
{

    IspisiPik(l);
    IspisiTref(l);
    IpisiHerc(l);
    IspisiKaro(l);
}



int main ()
{
    try {
        Lista l(KreirajSpil());
        
        int korak;
        std::cout&lt;&lt;"Unesite korak razbrajanja: ";
        std::cin&gt;&gt; korak;
        int broj;
        std::cout&lt;&lt;"Unesite broj karata koje zelite izbaciti: ";
        std::cin&gt;&gt; broj;
        std::queue&lt;std::pair&lt;Boje, std::string&gt;&gt; red(IzbaciKarteRazbrajanjem(l, korak, broj));
        std::cout&lt;&lt;"U spilu trenutno ima "&lt;&lt; BrojElemenataListe(l)&lt;&lt;" karata, i to: "&lt;&lt;std::endl;
        IpisiListu(l);
        int vrati;
        std::cout&lt;&lt;"Unesite broj karata koje zelite vratiti u spil: ";
        std::cin&gt;&gt;vrati;
        VratiPrvihNKarata(l,red,vrati);
        std::cout&lt;&lt;"U spilu trenutno ima "&lt;&lt;BrojElemenataListe(l)&lt;&lt;" karata, i to: "&lt;&lt;std::endl;
        IpisiListu(l);
    } catch(std::domain_error izuzetak) {
        std::cout&lt;&lt;"Izuzetak: "&lt;&lt;izuzetak.what()&lt;&lt;std::endl;
    } catch (std::logic_error izuzetak) {
        std::cout&lt;&lt;"Izuzetak: "&lt;&lt;izuzetak.what() &lt;&lt; std::endl;
    } catch(std::range_error izuzetak) {
        std::cout&lt;&lt;"Izuzetak: "&lt;&lt;izuzetak.what()&lt;&lt;std::endl;
    }

    return 0;
}
</pre>
</body>
</html>
