<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z4/student9864.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z4/student9864.cpp<p></p><pre>
/B2017/2018: ZadaÄ‡a 3, Zadatak 4
#include &lt;iostream&gt;
#include &lt;list&gt;
#include&lt;utility&gt;
#include&lt;map&gt; 
#include&lt;iterator&gt;
#include&lt;stdexcept&gt;
#include&lt;queue&gt;
#include &lt;vector&gt;
#include &lt;string&gt;
#include &lt;algorithm&gt;

enum class Boje{Pik,Tref,Herc,Karo};
std::vector&lt;std::string&gt; nazivi{"2", "3", "4", "5", "6", "7", "8", "9", "10", "J", "Q", "K", "A"};

std::string PretvoriBojuUString(Boje b) {
    if(b == Boje::Pik) return "Pik";
    else if(b == Boje::Tref) return "Tref";
    else if(b == Boje::Herc) return "Herc";
    else return "Karo";
}

std::list&lt;std::pair&lt;Boje, std::string&gt;&gt; KreirajSpil() {
    std::list&lt;std::pair&lt;Boje,std::string&gt;&gt; rezultat;
    for(int i(0); i &lt; 4 * nazivi.size(); i++) {
        if(i &gt;= 0 &amp;&amp; i &lt; 13) {
            rezultat.push_back(std::make_pair(Boje::Pik, nazivi.at(i)));
        }
        else if(i &gt;= 13 &amp;&amp; i &lt; 26) {
            rezultat.push_back(std::make_pair(Boje::Tref, nazivi.at(i - 13)));
        }
        else if(i &gt;= 26 &amp;&amp; i &lt; 39) {
            rezultat.push_back(std::make_pair(Boje::Herc, nazivi.at(i - 26)));
        }
        else rezultat.push_back(std::make_pair(Boje::Karo, nazivi.at(i - 39)));
    }
    return rezultat;
}

void IzbaciKarte(std::list&lt;std::pair&lt;Boje,std::string&gt;&gt; &amp;spil, std::multimap&lt;Boje,std::string&gt; &amp;izbaci)
{
    if(spil.size()&gt;52) 
        throw std::logic_error("Neispravna lista!");
    for(auto it(spil.begin()); it != spil.end(); it++) {
        auto pomocni = std::find(nazivi.begin(), nazivi.end(), it-&gt;second);
        if(pomocni == nazivi.end()) 
            throw std::logic_error("Neispravna lista!");
    }
    std::list&lt;std::pair&lt;Boje, std::string&gt;&gt; sortirani(spil);
    sortirani.sort([] (const std::pair&lt;Boje, std::string&gt; &amp;a, const std::pair&lt;Boje, std::string&gt; &amp;b) { if(a.first &lt; b.first) return true;
                                                                                                                                      else if(a.first == b.first) {
                                                                                                                                            auto itA = std::find(nazivi.begin(), nazivi.end(), a.second);
                                                                                                                                            auto itB = std::find(nazivi.begin(), nazivi.end(), b.second);
                                                                                                                                            if(itA &lt; itB) return true;
                                                                                                                                            return false;
                                                                                                                                      }
                                                                                                                                      return false; });
    if(!std::equal(spil.begin(), spil.end(), sortirani.begin(), [] (const std::pair&lt;Boje, std::string&gt; &amp;a, const std::pair&lt;Boje, std::string&gt; &amp;b) { if(a.first == b.first &amp;&amp; a.second == b.second) return true; return false; })) throw std::logic_error("Neispravna lista!");
    for(auto it(izbaci.begin()); it != izbaci.end();) {
        auto itLista = std::find_if(spil.begin(), spil.end(), [it] (const std::pair&lt;Boje, std::string&gt; &amp;a) { if(a.first == it-&gt;first &amp;&amp; a.second == it-&gt;second) return true; return false; });
        if(itLista != spil.end()) {
            spil.erase(itLista);
            it = izbaci.erase(it);
        }
        else it++;
    } 
}

std::queue&lt;std::pair&lt;std::string,std::string&gt;&gt; IzbaciKarteRazbrajanjem(std::list&lt;std::pair&lt;Boje,std::string&gt;&gt; &amp;spil,const short int &amp;r,const int &amp;b)
{
    if(r&lt;1 || r&gt;52 || b&lt;1) 
       throw std::logic_error("Neispravni elementi za izbacivanje!");
    if(spil.size()&gt;52) 
        throw std::logic_error("Neispravna lista!");
    for(auto it(spil.begin()); it != spil.end(); it++) {
        auto pomocni = std::find(nazivi.begin(), nazivi.end(), it-&gt;second);
        if(pomocni == nazivi.end()) 
            throw std::logic_error("Neispravna lista!");
    }
    std::list&lt;std::pair&lt;Boje, std::string&gt;&gt; sortirani(spil);
    sortirani.sort([] (const std::pair&lt;Boje, std::string&gt; &amp;a, const std::pair&lt;Boje, std::string&gt; &amp;b) { if(a.first &lt; b.first) return true;
                                                                                                                                      else if(a.first == b.first) {
                                                                                                                                            auto itA = std::find(nazivi.begin(), nazivi.end(), a.second);
                                                                                                                                            auto itB = std::find(nazivi.begin(), nazivi.end(), b.second);
                                                                                                                                            if(itA &lt; itB) return true;
                                                                                                                                            return false;
                                                                                                                                      }
                                                                                                                                      return false; });
    if(!std::equal(spil.begin(), spil.end(), sortirani.begin(), [] (const std::pair&lt;Boje, std::string&gt; &amp;a, const std::pair&lt;Boje, std::string&gt; &amp;b) { if(a.first == b.first &amp;&amp; a.second == b.second) return true; return false; })) throw std::logic_error("Neispravna lista!");
    int brojac = 0;
    auto it = spil.begin();
    std::queue&lt;std::pair&lt;std::string,std::string&gt;&gt; rezultat;
<a name="2"></a><font color="#0000FF"><a href="match447-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_1.gif"/></a>

    while(brojac != b &amp;&amp; spil.size() != 0) {
        for(int i(0); i &lt; r - 1; i++) {
            it++;
            if(it == spil.end()) it = spil.begin();
        }
        rezultat.push(std::make_pair(PretvoriBojuUString(it-&gt;first), it-&gt;second));
</font><a name="5"></a><font color="#FF0000"><a href="match447-1.html#5" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_1.gif"/></a>

        it = spil.erase(it);
        if(it == spil.end()) it = spil.begin();
        brojac++;
    }
    return rezultat;
}

void VratiPrvihNKarata(std::list&lt;std::pair&lt;Boje,std::string&gt;&gt; &amp;spil, std::queue&lt;std::pair&lt;std::string,std::string&gt;&gt; &amp;red, int n)
</font>{
    if(n &gt; red.size()) throw std::range_error("Nedovoljno karata u redu!");
    if(n &lt; 0) throw std::domain_error("Broj n je besmislen!");
    for(int i(0); i &lt; red.size(); i++) {
        std::pair&lt;std::string, std::string&gt; par = red.front();
<a name="3"></a><font color="#00FFFF"><a href="match447-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_1.gif"/></a>

        red.pop();
        if(par.first != "Pik" &amp;&amp; par.first != "Tref" &amp;&amp; par.first != "Herc" &amp;&amp; par.first != "Karo") throw std::logic_error("Neispravne karte!");
        auto it = std::find(nazivi.begin(), nazivi.end(), par.second);
</font>        if(it == nazivi.end()) throw std::domain_error("Neispravne karte!");
        red.push(par);
    }
    if(spil.size()&gt;52) 
        throw std::logic_error("Neispravna lista!");
    for(auto it(spil.begin()); it != spil.end(); it++) {
        auto pomocni = std::find(nazivi.begin(), nazivi.end(), it-&gt;second);
        if(pomocni == nazivi.end()) 
            throw std::logic_error("Neispravna lista!");
    }
    std::list&lt;std::pair&lt;Boje, std::string&gt;&gt; sortirani(spil);
    sortirani.sort([] (const std::pair&lt;Boje, std::string&gt; &amp;a, const std::pair&lt;Boje, std::string&gt; &amp;b) { if(a.first &lt; b.first) return true;
                                                                                                       else if(a.first == b.first) {
                                                                                                             auto itA = std::find(nazivi.begin(), nazivi.end(), a.second);
                                                                                                             auto itB = std::find(nazivi.begin(), nazivi.end(), b.second);
                                                                                                             if(itA &lt; itB) return true;
                                                                                                             return false;
                                                                                                       }
                                                                                                       return false; });
    if(!std::equal(spil.begin(), spil.end(), sortirani.begin(), [] (const std::pair&lt;Boje, std::string&gt; &amp;a, const std::pair&lt;Boje, std::string&gt; &amp;b) { if(a.first == b.first &amp;&amp; a.second == b.second) return true; return false; })) throw std::logic_error("Neispravna lista!");
    for(int i(0); i &lt; n; i++) {
        std::pair&lt;std::string, std::string&gt; par = red.front();
        red.pop();
<a name="0"></a><font color="#FF0000"><a href="match447-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_2.gif"/></a>

        std::pair&lt;Boje, std::string&gt; karta;
        if(par.first == "Pik") karta.first = Boje::Pik;
        else if(par.first == "Tref") karta.first = Boje::Tref;
        else if(par.first == "Herc") karta.first = Boje::Herc;
        else karta.first = Boje::Karo;
</font>        karta.second = par.second;
        auto iter = std::find_if(spil.begin(), spil.end(), [karta] (const std::pair&lt;Boje, std::string&gt; &amp;par) { if(karta.first == par.first &amp;&amp; karta.second == par.second) return true; return false; });
        if(iter == spil.end()) {
            spil.push_back(karta);
        }
        else {
            i--;
        }
    }
    spil.sort([] (const std::pair&lt;Boje, std::string&gt; &amp;a, const std::pair&lt;Boje, std::string&gt; &amp;b) { if(a.first &lt; b.first) return true;
                                                                                                  else if(a.first == b.first) {
                                                                                                        auto itA = std::find(nazivi.begin(), nazivi.end(), a.second);
                                                                                                        auto itB = std::find(nazivi.begin(), nazivi.end(), b.second);
                                                                                                        if(itA &lt; itB) return true;
                                                                                                        return false;
                                                                                                  }
                                                                                                  return false; });    
}

int main () {
    try{
    std::list&lt;std::pair&lt;Boje, std::string&gt;&gt; spil=KreirajSpil();
<a name="4"></a><font color="#FF00FF"><a href="match447-1.html#4" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_1.gif"/></a>

    std::cout&lt;&lt;"Unesite korak razbrajanja: ";
    int r;
    std::cin&gt;&gt;r;
    std::cout&lt;&lt;"Unesite broj karata koje zelite izbaciti: ";
    int b;
    std::cin&gt;&gt;b;
    auto red=IzbaciKarteRazbrajanjem(spil,r,b);
</font>    std::cout&lt;&lt;"U spilu trenutno ima "&lt;&lt;spil.size()&lt;&lt;" karata, i to: ";
    std::cout&lt;&lt;std::endl;
    std::cout&lt;&lt;"Pik: ";
    auto it=spil.begin();
   while(PretvoriBojuUString(it-&gt;first) == "Pik"){
     std::cout&lt;&lt;it-&gt;second&lt;&lt;" ";
     it++;
   }
    std::cout&lt;&lt;std::endl;
    std::cout&lt;&lt;"Tref: ";
   while(PretvoriBojuUString(it-&gt;first) == "Tref"){
       std::cout&lt;&lt;it-&gt;second&lt;&lt;" ";
       it++;
   }
   std::cout&lt;&lt;std::endl;
    std::cout&lt;&lt;"Herc: ";
   while(PretvoriBojuUString(it-&gt;first) == "Herc"){
       std::cout&lt;&lt;it-&gt;second&lt;&lt;" ";
       it++;
   }
   std::cout&lt;&lt;std::endl;
    std::cout&lt;&lt;"Karo: ";
   while(PretvoriBojuUString(it-&gt;first) == "Karo" &amp;&amp; it!=spil.end()){
       std::cout&lt;&lt;it-&gt;second&lt;&lt;" ";
       it++;
   }
   
<a name="1"></a><font color="#00FF00"><a href="match447-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_1.gif"/></a>

   std::cout&lt;&lt;std::endl;
    
std::cout&lt;&lt;"Unesite broj karata koje zelite vratiti u spil: ";
 int n;
 std::cin&gt;&gt;n;
VratiPrvihNKarata(spil,red,n);
 std::cout&lt;&lt;"U spilu trenutno ima "&lt;&lt;spil.size()&lt;&lt;" karata, i to: ";
</font>  std::cout&lt;&lt;std::endl;
   std::cout&lt;&lt;"Pik: ";
   it=spil.begin();
   while(PretvoriBojuUString(it-&gt;first) == "Pik"){
     std::cout&lt;&lt;it-&gt;second&lt;&lt;" ";
     it++;
   }
    std::cout&lt;&lt;std::endl;
    std::cout&lt;&lt;"Tref: ";
   while(PretvoriBojuUString(it-&gt;first)== "Tref"){
       std::cout&lt;&lt;it-&gt;second&lt;&lt;" ";
       it++;
   }
   std::cout&lt;&lt;std::endl;
    std::cout&lt;&lt;"Herc: ";
   while(PretvoriBojuUString(it-&gt;first)== "Herc"){
       std::cout&lt;&lt;it-&gt;second&lt;&lt;" ";
       it++;
   }
   std::cout&lt;&lt;std::endl;
    std::cout&lt;&lt;"Karo: ";
   while(PretvoriBojuUString(it-&gt;first)== "Karo" &amp;&amp; it!=spil.end()){
       std::cout&lt;&lt;it-&gt;second&lt;&lt;" ";
       it++;
   }
}
   
catch (std::range_error e)
{
    std::cout&lt;&lt;"Izuzetak: "&lt;&lt;e.what();
}
catch (std::domain_error e)
{
    std::cout&lt;&lt;"Izuzetak: "&lt;&lt;e.what();
}
catch (std::logic_error e)
{
    std::cout&lt;&lt;"Izuzetak: "&lt;&lt;e.what();
}


return 0;
}
</pre>
</body>
</html>
