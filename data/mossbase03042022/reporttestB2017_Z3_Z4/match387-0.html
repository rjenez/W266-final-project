<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z4/student7080.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z4/student7080.cpp<p></p><pre>
/B2017/2018: ZadaÄ‡a 3, Zadatak 4
#include &lt;iostream&gt;
#include &lt;list&gt;
#include &lt;string&gt;
#include &lt;utility&gt;
#include &lt;stdexcept&gt;
#include &lt;map&gt;
#include &lt;queue&gt;
#include &lt;algorithm&gt;

enum class Boje
{
    Pik,Tref,Herc,Karo
};

std::list&lt;std::pair&lt;Boje,std::string&gt;&gt; KreirajSpil()
{
    std::list&lt;std::pair&lt;Boje,std::string&gt;&gt; spil {{Boje::Pik,"2"},{Boje::Pik,"3"},{Boje::Pik,"4"},{Boje::Pik,"5"},{Boje::Pik,"6"},{Boje::Pik,"7"},{Boje::Pik,"8"},{Boje::Pik,"9"},{Boje::Pik,"10"},{Boje::Pik,"J"},{Boje::Pik,"Q"},{Boje::Pik,"K"},{Boje::Pik,"A"},
        {Boje::Tref,"2"},{Boje::Tref,"3"},{Boje::Tref,"4"},{Boje::Tref,"5"},{Boje::Tref,"6"},{Boje::Tref,"7"},{Boje::Tref,"8"},{Boje::Tref,"9"},{Boje::Tref,"10"},{Boje::Tref,"J"},{Boje::Tref,"Q"},{Boje::Tref,"K"},{Boje::Tref,"A"},
        {Boje::Herc,"2"},{Boje::Herc,"3"},{Boje::Herc,"4"},{Boje::Herc,"5"},{Boje::Herc,"6"},{Boje::Herc,"7"},{Boje::Herc,"8"},{Boje::Herc,"9"},{Boje::Herc,"10"},{Boje::Herc,"J"},{Boje::Herc,"Q"},{Boje::Herc,"K"},{Boje::Herc,"A"},
        {Boje::Karo,"2"},{Boje::Karo,"3"},{Boje::Karo,"4"},{Boje::Karo,"5"},{Boje::Karo,"6"},{Boje::Karo,"7"},{Boje::Karo,"8"},{Boje::Karo,"9"},{Boje::Karo,"10"},{Boje::Karo,"J"},{Boje::Karo,"Q"},{Boje::Karo,"K"},{Boje::Karo,"A"}
    };

    return spil;
}

void IzbaciKarte(std::list&lt;std::pair&lt;Boje,std::string&gt;&gt; &amp;spil,std::multimap&lt;Boje, std::string&gt; &amp;multimapa)
{
    if(spil.size()&gt;52) throw std::logic_error("Neispravna lista!");
    auto pocetakliste1(spil.begin());
    auto izakrajaliste1(spil.end());
    while(pocetakliste1!=izakrajaliste1) {
        pocetakliste1++;
        auto pom(pocetakliste1);
        pocetakliste1--;
        if(!(pocetakliste1-&gt;first==Boje::Pik or pocetakliste1-&gt;first==Boje::Tref or pocetakliste1-&gt;first==Boje::Herc or pocetakliste1-&gt;first==Boje::Karo))
            throw std::logic_error("Neispravna lista!");
        if(int(pocetakliste1-&gt;first) &gt; int(pom-&gt;first)) throw std::logic_error("Neispravna lista!");
    }
    pocetakliste1=spil.begin();
    /*    while(pocetakliste1!=izakrajaliste){
            if(!(pocetakliste1-&gt;second=="2" or pocetakliste1-&gt;second=="3")
        }
    */
    auto pocetakliste(spil.begin());
    auto izakrajaliste(spil.end());
    while(pocetakliste!=izakrajaliste) {
        auto pocetakmultimape(multimapa.begin());
        auto krajmultimape(multimapa.end());
        while(pocetakmultimape!=krajmultimape) {
            if(pocetakmultimape-&gt;first==pocetakliste-&gt;first and pocetakmultimape-&gt;second==pocetakliste-&gt;second) {
                pocetakliste=spil.erase(pocetakliste);
                pocetakmultimape=multimapa.erase(pocetakmultimape);
                pocetakliste--;
                break;
            }
<a name="1"></a><font color="#00FF00"><a href="match387-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_2.gif"/></a>

            pocetakmultimape++;
        }
        pocetakliste++;
    }
}

std::queue&lt;std::pair&lt;std::string,std::string&gt;&gt; IzbaciKarteRazbrajanjem(std::list&lt;std::pair&lt;Boje,std::string&gt;&gt; &amp;spil,short int &amp;r,int &amp;b)
{
    //Bacanje izuzetaka
    if(r&lt;1 or r&gt;52 or b&lt;1) throw std::logic_error("Neispravni elementi za izbacivanje!");
</font>    if(spil.size()&gt;52) throw std::logic_error("Neispravna lista!");
    auto pocetakliste1(spil.begin());
    auto izakrajaliste1(spil.end());
    while (pocetakliste1!=izakrajaliste1) {
        pocetakliste1++;
        auto pom(pocetakliste1);
        pocetakliste1--;
        if(!(pocetakliste1-&gt;first==Boje::Pik or pocetakliste1-&gt;first==Boje::Tref or  pocetakliste1-&gt;first==Boje::Herc or pocetakliste1-&gt;first==Boje::Karo))
            throw std::logic_error("Neispravna lista!");
        if(int(pocetakliste1-&gt;first) &gt; int(pom-&gt;first)) throw std::logic_error("Neispravna lista!");
        if(!(pocetakliste1-&gt;second=="2" or pocetakliste1-&gt;second=="3" or pocetakliste1-&gt;second=="4" or pocetakliste1-&gt;second=="5" or pocetakliste1-&gt;second=="6" or
                pocetakliste1-&gt;second=="7" or pocetakliste1-&gt;second=="8" or pocetakliste1-&gt;second=="9" or pocetakliste1-&gt;second=="10"
                or pocetakliste1-&gt;second=="J" or pocetakliste1-&gt;second=="Q" or pocetakliste1-&gt;second=="K" or  pocetakliste1-&gt;second=="A"))throw std::logic_error("Neispravna lista!");
        //jos trebam za pogresno sortirano pocetakliste1-second
        pocetakliste1++;
    }
    //Obrada funkcije
    std::queue&lt;std::pair&lt;std::string,std::string&gt;&gt; red;
    auto pocetakspila(spil.begin());
    auto izakrajaspila(spil.end());
    int razbrajanje(0);
    int m(b);
    while(pocetakspila!=izakrajaspila) {
        razbrajanje++;
        if(m==0) break;
        if(razbrajanje==r) {
            std::pair&lt;std::string,std::string&gt; pomoc;
            if(pocetakspila-&gt;first==Boje::Pik) {
                pomoc.first="Pik";
            } else if(pocetakspila-&gt;first==Boje::Tref) {
                pomoc.first="Tref";
            } else if(pocetakspila-&gt;first==Boje::Herc) {
                pomoc.first="Herc";
            } else if(pocetakspila-&gt;first==Boje::Karo) {
                pomoc.first="Karo";
            }
            pomoc.second=pocetakspila-&gt;second;
            red.push(pomoc);
            pocetakspila=spil.erase(pocetakspila);
            razbrajanje=0;
            m--;
        } else {
            pocetakspila++;
        }
        if(pocetakspila==izakrajaspila) pocetakspila=spil.begin();
    }
    return red;
}
std::pair&lt;Boje,std::string&gt; PretvoriStringUEnum(std::pair&lt;std::string,std::string&gt; str)
{
    std::pair&lt;Boje,std::string&gt; vraca;
    if(str.first=="Pik") {
        vraca.first=Boje::Pik;
    } else if(str.first=="Tref") {
        vraca.first=Boje::Tref;
    } else if(str.first=="Herc") {
        vraca.first=Boje::Herc;
    } else if(str.first=="Karo") {
        vraca.first=Boje::Karo;
    }
    vraca.second=str.second;
    return vraca;
}
bool NemaUSpilu(std::list&lt;std::pair&lt;Boje,std::string&gt;&gt; &amp;spil,std::pair&lt;Boje,std::string&gt; element)
{
    auto pocetak(spil.begin());
    auto izakraja(spil.end());

    while(pocetak!=izakraja) {
        if(pocetak-&gt;first==element.first and pocetak-&gt;second==element.second)return false;
        pocetak++;
    }
    return true;
}
int PronadjiVrijednostInta(std::string vrijednost){
    int br(0);
    std::vector&lt;std::string&gt; v{"2","3","4","5","6","7","8","9","10","J","Q","K","A"};
    int i(0);
    while(vrijednost!=v[i]){
        i++;
        br++;
    }
    return br;
}
void Sortiraj(std::list&lt;std::pair&lt;Boje,std::string&gt;&gt; &amp;spil)
{
    //moram osmislit sortiranje ovo je uzas
    typename std::list&lt;std::pair&lt;Boje,std::string&gt;&gt;::iterator  pocetak(spil.begin());
    typename std::list&lt;std::pair&lt;Boje,std::string&gt;&gt;::iterator  izakraja(spil.end());
    typename std::list&lt;std::pair&lt;Boje,std::string&gt;&gt;::iterator  pom(spil.begin());
    while(pocetak!=izakraja) {
        pom=pocetak;
        pom++;
        while (pom!=izakraja) {
            if(pocetak-&gt;first&gt;pom-&gt;first or( pocetak-&gt;first==pom-&gt;first and PronadjiVrijednostInta(pocetak-&gt;second)&gt;PronadjiVrijednostInta(pom-&gt;second))){
                auto temp(*pocetak);
                *pocetak=*pom;
                *pom=temp;
            }
            pom++;
        }
       pocetak++;
    }
}
void VratiPrvihNKarata(std::list&lt;std::pair&lt;Boje,std::string&gt;&gt; &amp;spil,std::queue&lt;std::pair&lt;std::string,std::string&gt;&gt; &amp;red,int n)
{
    //Bacanje izuzetaka
    if(n&lt;0) throw std::domain_error("Broj n je besmislen!");  //smisliti kako ispitati d ali je cjelobrojna vrijednost
    if(n&gt;red.size()) throw std::range_error("Nedovoljno karata u redu!");
    if(spil.size()&gt;52 ) throw std::logic_error ("Neispravna lista!");
    auto pomocnired(red);
    while (!pomocnired.empty()) {
        auto pomoc(pomocnired.front());
        if(!(pomoc.first=="Pik" or pomoc.first=="Tref" or pomoc.first=="Herc" or pomoc.first=="Karo")) throw std::logic_error("Neispravne karte!");
        if(!(pomoc.second=="2" or pomoc.second=="3" or pomoc.second=="4" or pomoc.second=="5" or pomoc.second=="6" or pomoc.second=="7" or pomoc.second=="8" or pomoc.second=="9"
                or pomoc.second=="10" or pomoc.second=="J" or pomoc.second=="Q" or pomoc.second=="K"  or pomoc.second=="A")) throw std::logic_error("Neispravne karte!");
        pomocnired.pop();
    }
    //ovo treba jos doradit ispod
    auto pocetakliste1(spil.begin());
    auto izakrajaliste1(spil.end());
    while (pocetakliste1!=izakrajaliste1) {
        pocetakliste1++;
        auto pom(pocetakliste1);
        pocetakliste1--;
        if(!(pocetakliste1-&gt;first==Boje::Pik or pocetakliste1-&gt;first==Boje::Tref or  pocetakliste1-&gt;first==Boje::Herc or pocetakliste1-&gt;first==Boje::Karo))
            throw std::logic_error("Neispravna lista!");
        if(int(pocetakliste1-&gt;first) &gt; int(pom-&gt;first)) throw std::logic_error("Neispravna lista!");
        pocetakliste1++;
    }

    //Obrada funkcije
    std::pair&lt;Boje,std::string&gt; pomocred=PretvoriStringUEnum(red.front());
    int broj(n);
    while(broj&gt;0) {
        auto pocetakspila(spil.begin());
        auto izakraja(spil.end());
        pomocred=PretvoriStringUEnum(red.front());
        if(NemaUSpilu(spil,pomocred)) {
            spil.insert(pocetakspila,pomocred);
            pocetakspila=spil.begin();
        }
        red.pop();
        if(red.empty()) break;
        broj--;
    }
      Sortiraj(spil);
}

int main ()
{
    std::cout&lt;&lt;"Unesite korak razbrajanja: ";
    short int korakRazbrajanja;
    std::cin &gt;&gt; korakRazbrajanja;
    std::cout&lt;&lt;"Unesite broj karata koje zelite izbaciti: ";
    int brkarata;
    std::cin&gt;&gt;brkarata;
    try {
        auto KreiraniSpil=KreirajSpil();
        auto red=IzbaciKarteRazbrajanjem(KreiraniSpil,korakRazbrajanja,brkarata);
        std::cout&lt;&lt;"U spilu trenutno ima "&lt;&lt;52-brkarata&lt;&lt;" karata, i to:"&lt;&lt; std::endl;
        for(auto it(KreiraniSpil.begin()); it!=KreiraniSpil.end(); it++) {
            std::cout&lt;&lt;"Pik: ";
            while(it-&gt;first==Boje::Pik) {
<a name="0"></a><font color="#FF0000"><a href="match387-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_4.gif"/></a>

                std::cout&lt;&lt;it-&gt;second &lt;&lt;" ";
                it++;
            }
            std::cout&lt;&lt;std::endl&lt;&lt;"Tref: ";
            while(it-&gt;first==Boje::Tref) {
                std::cout&lt;&lt;it-&gt;second &lt;&lt;" ";
                it++;
            }
            std::cout&lt;&lt;std::endl &lt;&lt;"Herc: ";
            while(it-&gt;first==Boje::Herc) {
                std::cout&lt;&lt;it-&gt;second &lt;&lt;" ";
                it++;
            }
            std::cout&lt;&lt;std::endl&lt;&lt;"Karo: ";
            while(it-&gt;first==Boje::Karo) {
                std::cout&lt;&lt;it-&gt;second &lt;&lt;" ";
</font>                if(std::distance(it,--KreiraniSpil.end())==0)break;
                it++;
            }
        }

        std::cout&lt;&lt;std::endl&lt;&lt;"Unesite broj karata koje zelite vratiti u spil: ";
        int brkarata2;
        std::cin&gt;&gt;brkarata2;
        VratiPrvihNKarata(KreiraniSpil,red,brkarata2);
        std::cout&lt;&lt;"U spilu trenutno ima "&lt;&lt;52-brkarata+brkarata2&lt;&lt;" karata, i to:"&lt;&lt;std::endl;
        auto it(KreiraniSpil.begin());
        std::cout&lt;&lt;"Pik: ";
        while(it-&gt;first==Boje::Pik and it!=KreiraniSpil.end()) {
<a name="2"></a><font color="#0000FF"><a href="match387-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_1.gif"/></a>

            std::cout&lt;&lt;it-&gt;second &lt;&lt;" ";
            it++;
        }
        std::cout&lt;&lt;std::endl&lt;&lt;"Tref: ";
        while(it-&gt;first==Boje::Tref and it!=KreiraniSpil.end()) {
</font><a name="3"></a><font color="#00FFFF"><a href="match387-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_1.gif"/></a>

            std::cout&lt;&lt;it-&gt;second &lt;&lt;" ";
            it++;
        }
        std::cout&lt;&lt;std::endl &lt;&lt;"Herc: ";
        while(it-&gt;first==Boje::Herc and it!=KreiraniSpil.end()) {
</font><a name="4"></a><font color="#FF00FF"><a href="match387-1.html#4" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_1.gif"/></a>

            std::cout&lt;&lt;it-&gt;second &lt;&lt;" ";
            it++;
        }
        std::cout&lt;&lt;std::endl&lt;&lt;"Karo: ";
        while(it-&gt;first==Boje::Karo and it!=KreiraniSpil.end()) {
</font>            std::cout&lt;&lt;it-&gt;second &lt;&lt;" ";
            if(std::distance(it,--KreiraniSpil.end())==0)break;
            it++;
        }

    } catch(std::domain_error poruka) {
        std::cout&lt;&lt;"Izuzetak: "&lt;&lt;poruka.what();
    } catch(std::range_error poruka) {
        std::cout&lt;&lt;"Izuzetak: "&lt;&lt;poruka.what();
    } catch(std::logic_error poruka) {
        std::cout&lt;&lt;"Izuzetak: "&lt;&lt;poruka.what();
    }
    return 0;
}</pre>
</body>
</html>
