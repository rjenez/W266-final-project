<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z4/student3568.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z4/student2675.cpp<p></p><pre>
/B2017/2018: ZadaÄ‡a 3, Zadatak 4
#include &lt;iostream&gt;
#include &lt;list&gt;
#include &lt;utility&gt;
#include &lt;string&gt;
#include &lt;map&gt;
#include &lt;algorithm&gt;
#include &lt;queue&gt;

enum class Boje
{
<a name="0"></a><font color="#FF0000"><a href="match111-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_95.gif"/></a>

    Pik, Tref, Herc, Karo
};


typedef std::list&lt;std::pair&lt;Boje, std::string&gt;&gt; Spil;

Spil KreirajSpil()
{
    Spil rezultat;
    const std::string vrijednosti[13] {"2", "3", "4", "5", "6", "7", "8", "9", "10", "J", "Q", "K", "A"};

    for(int i=0; i&lt;4; i++) {
        for(int j=0; j&lt;13; j++) {
            rezultat.push_back(std::make_pair(Boje(i), vrijednosti[j]));
        }
    }
    return rezultat;
}

void ValidacijaSpila (Spil spil)
{
    const std::string vrijednosti[13] {"2", "3", "4", "5", "6", "7", "8", "9", "10", "J", "Q", "K", "A"};
    auto iter(spil.begin());
    while (iter != spil.end()) {

        int i, j;
        for(i=0; i&lt;4; i++) {
            for(j=0; j&lt;13; j++) {
                if(iter-&gt;first == Boje(i) &amp;&amp; iter-&gt;second == vrijednosti[j]) break;
            }
            if(j!=13) break;
        } 
        if(i==4 &amp;&amp; j==13) throw std::logic_error ("Neispravna lista!");
    

        if(iter != spil.begin() &amp;&amp; iter != --spil.end()) {
            auto i1(iter); auto i2(iter);
            i1--; i2++;
            i=(std::find(vrijednosti, vrijednosti+13, iter-&gt;second)-vrijednosti);
            j=(std::find(vrijednosti, vrijednosti+13, i1-&gt;second)-vrijednosti);
            int k(std::find(vrijednosti, vrijednosti+13, i2-&gt;second)-vrijednosti);
            if(!(((iter-&gt;first == i1-&gt;first &amp;&amp; i&gt;j ) || (iter-&gt;first &gt; i1-&gt;first)) &amp;&amp; ((iter-&gt;first == i2-&gt;first &amp;&amp; i&lt;k) || (iter-&gt;first &lt; i2-&gt;first)))) throw std::logic_error("Neispravna lista!");
        } else if(iter == spil.begin()) {
            auto i2(iter);
            i2++;
            i=(std::find(vrijednosti, vrijednosti+13, iter-&gt;second)-vrijednosti);
            int k(std::find(vrijednosti, vrijednosti+13, i2-&gt;second)-vrijednosti);
            if(!((iter-&gt;first == i2-&gt;first &amp;&amp; i&lt;k) || (iter-&gt;first &lt; i2-&gt;first))) throw std::logic_error("Neispravna lista!");
        } else if(iter == --spil.end()) {
            auto i1(iter);  
            i1--;
            i=(std::find(vrijednosti, vrijednosti+13, iter-&gt;second)-vrijednosti);
            j=(std::find(vrijednosti, vrijednosti+13, i1-&gt;second)-vrijednosti);
            if(!((iter-&gt;first == i1-&gt;first &amp;&amp; i&gt;j ) || (iter-&gt;first &gt; i1-&gt;first))) throw std::logic_error("Neispravna lista!");
        }

        iter++;
    }
    if(iter != spil.end()) throw std::logic_error ("Neispravna lista!");
}


void IzbaciKarte (Spil &amp;spil, std::multimap &lt;Boje, std::string&gt; &amp;za_izbaciti)
{
    try {
        ValidacijaSpila(spil);
    } catch (...) {
        throw;
    }

    auto it(za_izbaciti.begin());
    while (it != za_izbaciti.end()) {
        auto pozicija = std::find_if(spil.begin(), spil.end(), [=](std::pair&lt;Boje, std::string&gt; p) {
            return (((*it).first == p.first) &amp;&amp; ((*it).second == p.second));
        });

        if(pozicija != spil.end()) {
            spil.erase(pozicija);
            za_izbaciti.erase(it);
        }
        it++;
    }
}

std::queue&lt;std::pair&lt;std::string, std::string&gt;&gt; IzbaciKarteRazbrajanjem(Spil &amp;spil, const short int &amp;r, const int &amp;b)
{
    if(r &lt; 1 || r &gt; 52 || b &lt; 1) throw std::logic_error ("Neispravni elementi za izbacivanje!");
    try {
        ValidacijaSpila(spil);
    } catch (...) {
        throw;
    }

    const std::string boje[4] {"Pik", "Tref", "Herc", "Karo"};

    int izbaceno(0); 
    auto it(spil.begin());
    std::queue&lt;std::pair&lt;std::string, std::string&gt;&gt; izbaceni_parovi;
    while(izbaceno != b &amp;&amp; (spil.begin() != spil.end())) {
        int r_tmp;
        for(r_tmp=0; r_tmp&lt;r; r_tmp++) {
            if(it != --spil.end()) it++;
            else it=spil.begin();
        }
        if(it == spil.begin()) it=--spil.end();
        else it--;
        izbaceni_parovi.push(make_pair(boje[int((*it).first)], (*it).second));
        it = spil.erase(it);
        if(it == spil.end()) it = spil.begin(); 
        izbaceno++;
    }
    return izbaceni_parovi;
}

void VratiPrvihNKarata (Spil &amp;spil,  std::queue&lt;std::pair&lt;std::string, std::string&gt;&gt; &amp;izbaceni_parovi, int n )
{
    if(n&lt;0) throw std::domain_error ("Broj n je besmislen!");
    if(n&gt; izbaceni_parovi.size()) throw std::range_error ("Nedovoljno karata u redu!");
    

    const std::string vrijednosti[13] {"2", "3", "4", "5", "6", "7", "8", "9", "10", "J", "Q", "K", "A"};
    const std::string boje[4] {"Pik", "Tref", "Herc", "Karo"};


    try {
        ValidacijaSpila(spil);
    } catch (...) {
        throw;
    }

    int brojac(0);
    while (brojac != n) {
        std::pair&lt;std::string, std::string&gt; tmp(make_pair(izbaceni_parovi.front().first, izbaceni_parovi.front().second));
        std::pair&lt;Boje, std::string&gt; tmp1;
        tmp1.second = tmp.second;

        int i;
        for(i=0; i&lt;4; i++) {
            if(boje[i] == tmp.first) {
                tmp1.first = Boje(i);
                break;
            }
        }
        if(i==4) throw std::logic_error("Neispravne karte!");
        //validacija podataka u redu
        int j;
        for(i=0; i&lt;4; i++) {
            for(j=0; j&lt;13; j++) {
                if(tmp1.second == vrijednosti[j]) break;
            }
            if(j!=13) break;
        }
        if(i==4 &amp;&amp; j==13) throw std::logic_error ("Neispravne karte!");

        auto pozicija = std::find_if(spil.begin(), spil.end(), [=](std::pair&lt;Boje, std::string&gt; p) {
            int i(std::find(vrijednosti, vrijednosti+13, p.second)-vrijednosti);
            int j(std::find(vrijednosti, vrijednosti+13, tmp1.second)-vrijednosti);
            return((p.first == tmp1.first &amp;&amp; i&gt;j) || p.first &gt; tmp1.first);
        });
        spil.insert(pozicija, tmp1);
        izbaceni_parovi.pop();
        brojac++;
    }

}




int main ()
{
    try {
        const std::string boje[4] {"Pik", "Tref", "Herc", "Karo"};

        std::cout &lt;&lt; "Unesite korak razbrajanja: ";
        short int r;
        std::cin &gt;&gt;  r;

        std::cout &lt;&lt; "Unesite broj karata koje zelite izbaciti: ";
        int b;
        std::cin &gt;&gt; b;

        Spil spil(KreirajSpil());
        auto red = IzbaciKarteRazbrajanjem(spil, r, b);

        std::cout &lt;&lt; "U spilu trenutno ima " &lt;&lt; spil.size() &lt;&lt;" karata, i to: " &lt;&lt; std::endl;
        for(int i=0; i&lt;4; i++) {
            std::cout &lt;&lt; boje[i] &lt;&lt; ": ";
            for(auto e: spil) {
                if(int(e.first) == i) std::cout &lt;&lt; e.second &lt;&lt; " ";
            }
            std::cout &lt;&lt; std::endl;
        }

        std::cout &lt;&lt; "Unesite broj karata koje zelite vratiti u spil: ";
        int n;
        std::cin &gt;&gt; n;

        VratiPrvihNKarata(spil, red, n);

        std::cout &lt;&lt; "U spilu trenutno ima " &lt;&lt; spil.size() &lt;&lt;" karata, i to: " &lt;&lt; std::endl;
        for(int i=0; i&lt;4; i++) {
            std::cout &lt;&lt; boje[i] &lt;&lt; ": ";
            for(auto e: spil) {
                if(int(e.first) == i) std::cout &lt;&lt; e.second &lt;&lt; " ";
            }
            std::cout  &lt;&lt; std::endl;
        }

    } catch(std::domain_error izuzetak) {
        std::cout &lt;&lt; "Izuzetak: " &lt;&lt; izuzetak.what() &lt;&lt; std::endl;
    } catch(std::logic_error izuzetak) {
</font>        std::cout &lt;&lt;  "Izuzetak: " &lt;&lt; izuzetak.what() &lt;&lt; std::endl;
    } catch(std::range_error izuzetak) { 
        std::cout &lt;&lt;  "Izuzetak: " &lt;&lt; izuzetak.what() &lt;&lt; std::endl;
    }

    return 0;
}</pre>
</body>
</html>
