<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z4/student6558.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z4/student1466.cpp<p></p><pre>
<a name="0"></a><font color="#FF0000"><a href="match140-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_99.gif"/></a>

/B2017/2018: ZadaÄ‡a 3, Zadatak 4
#include &lt;iostream&gt;
#include &lt;list&gt;
#include &lt;map&gt;
#include &lt;utility&gt;
#include &lt;algorithm&gt;
#include &lt;string&gt;
#include &lt;vector&gt;
#include &lt;queue&gt;
#include &lt;stdexcept&gt;
#include &lt;iterator&gt;
enum class Boje
{
    Pik=0, Tref, Herc, Karo
};
typedef std::list&lt;std::pair&lt;Boje,std::string&gt;&gt; Spil;
typedef std::queue&lt;std::pair&lt;std::string, std::string&gt;&gt; Deck;
Spil KreirajSpil ()
{
    Spil karte;
    std::vector&lt;std::string&gt; brojevi;
    brojevi= {"2", "3", "4", "5", "6", "7", "8", "9", "10", "J", "Q", "K", "A"};
    for(int i=0; i&lt;4; i++) {
        for(int j=0; j&lt;brojevi.size(); j++) {
            karte.push_back(std::make_pair(Boje(i), brojevi[j]));

        }
    }
    return karte;
}
void IzbaciKarte (Spil &amp;karte, std::multimap&lt;Boje, std::string&gt; &amp;mapa)
{
    if(karte.size()&gt;52) throw std::logic_error ("Neispravna lista!");
    auto savrsen_spil(KreirajSpil());
    auto poc(karte.begin());
    while(poc!=karte.end()) {
        auto provjera(std::find(savrsen_spil.begin(), savrsen_spil.end(), *poc));
        if(provjera==savrsen_spil.end()) throw std::logic_error ("Neispravna lista!");
        poc++;
    }

    auto it=mapa.begin();
    while(it!=mapa.end()) {
        auto pok=karte.begin();
        while(pok!=karte.end()) {
            if(pok-&gt;first==it-&gt;first &amp;&amp; pok-&gt;second==it-&gt;second) {
                auto x=*it;
                auto poc(it);
                do{
                    poc=mapa.erase(poc);
                    poc=std::find(mapa.begin(), mapa.end(), x);
                }while (poc!=mapa.end());
                pok=karte.erase(pok);
                it=mapa.begin();
            }
            pok++;
        }
        it++;
    }
}
void IspisSpila(Spil &amp;karte)
{
    auto it=karte.begin();
    it++;
    auto prije=karte.begin();
    std::vector&lt;std::string&gt; ispis ({"Pik", "Tref", "Herc", "Karo"});
    while(prije!=karte.end()) {
        bool preskoci(false);
        if((prije==std::begin(karte) || (it!=karte.end() &amp;&amp; prije-&gt;first&lt;it-&gt;first))) {
            if(prije!=karte.begin())
                std::cout&lt;&lt;prije-&gt;second&lt;&lt;" ";

            if(prije!=karte.begin()) {
                preskoci=true;
                it++;
                prije++;
            }
            std::cout&lt;&lt;std::endl&lt;&lt;ispis.at(int(prije-&gt;first))&lt;&lt;": ";
        }
        if(preskoci) continue;
        std::cout&lt;&lt;prije-&gt;second&lt;&lt;" ";
        it++;
        prije++;
    }
}
Deck IzbaciKarteRazbrajanjem(Spil &amp;karte, const short int &amp;r, const int &amp;b)
{
    if(!(r&gt;=1 &amp;&amp; r&lt;=52) || b&lt;1) throw std::logic_error ("Neispravni elementi za izbacivanje!");
    if(karte.size()&gt;52) throw std::logic_error ("Neispravna lista!");
    auto savrsen_spil(KreirajSpil());
    auto poc(karte.begin());
    while(poc!=karte.end()) {
        auto provjera(std::find(savrsen_spil.begin(), savrsen_spil.end(), *poc));
        if(provjera==savrsen_spil.end()) throw std::logic_error ("Neispravna lista!");
        poc++;
    }
    std::vector&lt;std::string&gt; vrsta ({"Pik", "Tref", "Herc", "Karo"});
    Deck outcast;
    auto it(karte.begin());
    int i(0);
    while(it!=karte.end() &amp;&amp; i&lt;b) {
        int j(1);
        auto kraj(karte.end());
        kraj--;
        while(it!=karte.end() &amp;&amp; j&lt;r) {
            it++;
            j++;
            if(it==karte.end()) it=karte.begin();
        }
        outcast.push(std::make_pair(vrsta[int(it-&gt;first)], it-&gt;second));
        it=karte.erase(it);
        if(it==karte.end()) it=karte.begin();
        i++;
    }
    return outcast;
}
void VratiPrvihNKarata (Spil &amp;karte, Deck &amp;red, int n)
{
    if(!(n&gt;=0 &amp;&amp; n&lt;=52)) throw std::domain_error ("Broj n je besmislen!");
    if(n&gt;red.size()) throw std::range_error ("Nedovoljno karata u redu!");
    if(karte.size()&gt;52) throw std::logic_error ("Neispravna lista!");
    auto savrsen_spil(KreirajSpil());
    auto poc(karte.begin());
    while(poc!=karte.end()) {
        auto provjera(std::find(savrsen_spil.begin(), savrsen_spil.end(), *poc));
        if(provjera==savrsen_spil.end()) throw std::logic_error ("Neispravna lista!");
        poc++;
    }
    std::vector&lt;std::string&gt; imena({"Pik", "Tref", "Herc", "Karo"});
    std::vector&lt;std::string&gt; brojevi({"2", "3", "4", "5", "6", "7", "8", "9", "10", "J", "Q", "K", "A"});
    int i(0);
    while(!(red.empty()) &amp;&amp; i&lt;n) {
        auto x=red.front();
        auto pok(std::find(imena.begin(), imena.end(), x.first));
        if(pok==imena.end()) throw std::logic_error ("Neispravne karte!");
        int udaljenost(std::distance(std::begin(imena), pok));
        pok=std::find(brojevi.begin(), brojevi.end(), x.second);
        if(pok==brojevi.end()) throw std::logic_error ("Neispravne karte!");
        auto y=std::make_pair(Boje(udaljenost), x.second);
        
        auto it(karte.begin());
        if(karte.size()==0) karte.insert(it, y);
        while(it!=karte.end()) {
            if(y.first&lt;=it-&gt;first) {
                if(y.second=="A") {
                    if(karte.size()!=0)
                        while(it-&gt;first==y.first) it++;
                    karte.insert(it, y);
                    break;
                }
                else if(y.second&gt;="10" &amp;&amp; y.second&lt;="Z" &amp;&amp; it-&gt;second&gt;="10" &amp;&amp; it-&gt;second&lt;="Z") {
                    auto pok1(std::find(brojevi.begin(), brojevi.end(), x.second));
                    int udaljenost1(std::distance(std::begin(brojevi), pok1));
                    auto pok2(std::find(brojevi.begin(), brojevi.end(), it-&gt;second));
                    int udaljenost2(std::distance(std::begin(brojevi), pok2));
                    if(udaljenost1&lt;=udaljenost2) {
                        karte.insert(it, y);
                        break;
                    }
                } else if(y.second&lt;it-&gt;second) {
                    karte.insert(it, y);
                    break;
                }
            }
            it++;
        }
        red.pop();
        i++;
    }


}
int main ()
{
    Spil karte(KreirajSpil());
    std::cout&lt;&lt;"Unesite korak razbrajanja: ";
    short int a;
    std::cin&gt;&gt;a;
    std::cout &lt;&lt;"Unesite broj karata koje zelite izbaciti: ";
    int b;
    std::cin&gt;&gt;b;
    try {
        Deck qvi(IzbaciKarteRazbrajanjem(karte,a,b));
        std::cout&lt;&lt;"U spilu trenutno ima "&lt;&lt;karte.size()&lt;&lt;" karata, i to:";
        IspisSpila(karte);
        std::cout&lt;&lt;std::endl&lt;&lt;"Unesite broj karata koje zelite vratiti u spil: ";
        int n;
        std::cin&gt;&gt;n;
        try {
            VratiPrvihNKarata(karte, qvi, n);
            std::cout&lt;&lt;"U spilu trenutno ima "&lt;&lt;karte.size()&lt;&lt;" karata, i to:";
            IspisSpila(karte);
        } catch (std::exception&amp; izuzetak) {
            std::cout&lt;&lt;"Izuzetak: "&lt;&lt;izuzetak.what();
        }
        
    } catch(std::exception&amp; izuzetak) {
        std::cout&lt;&lt;"Izuzetak: "&lt;&lt;izuzetak.what();
</font>    }

    return 0;
}
</pre>
</body>
</html>
