<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z4/student6728.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z4/student6728.cpp<p></p><pre>
<a name="1"></a><font color="#00FF00"><a href="match130-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_25.gif"/></a>

/B2017/2018: ZadaÄ‡a 3, Zadatak 4
#include &lt;iostream&gt;
#include &lt;utility&gt;
#include &lt;list&gt;
#include &lt;string&gt;
#include &lt;vector&gt;
#include &lt;map&gt;
#include &lt;stdexcept&gt;
#include &lt;queue&gt;
#include &lt;algorithm&gt;


enum class Boje {Pik, Tref, Herc, Karo};
std::vector&lt;std::string&gt; Naziv {"2", "3", "4", "5", "6", "7", "8", "9", "10", "J", "Q", "K", "A"}; 

typedef std::list &lt;std::pair&lt;Boje, std::string&gt;&gt; Lista;
typedef std::multimap &lt;Boje, std::string&gt; Multimapa;
typedef std::queue &lt;std::pair&lt;std::string, std::string&gt;&gt; Queue;


void IspisiKarte (Lista spil) {
    
    auto it=std::begin(spil);
    std::cout &lt;&lt; "Pik: ";
    while (it!=std::end(spil) &amp;&amp; it-&gt;first==Boje::Pik) {
        std::cout &lt;&lt; it-&gt;second &lt;&lt; " ";
        it++;
    }
    std::cout &lt;&lt; std::endl;
    
    std::cout &lt;&lt; "Tref: ";
    while (it!=std::end(spil) &amp;&amp; it-&gt;first==Boje::Tref) {
        std::cout &lt;&lt; it-&gt;second &lt;&lt; " ";
        it++;
    }
    std::cout &lt;&lt; std::endl;
    
    std::cout &lt;&lt; "Herc: ";
    while (it!=std::end(spil) &amp;&amp; it-&gt;first==Boje::Herc) {
        std::cout &lt;&lt; it-&gt;second &lt;&lt; " ";
        it++;
    }
    std::cout &lt;&lt; std::endl;
    
    std::cout &lt;&lt; "Karo: ";
    while (it!=std::end(spil) &amp;&amp; it-&gt;first==Boje::Karo) {
        std::cout &lt;&lt; it-&gt;second &lt;&lt; " ";
        it++;
    }
    std::cout &lt;&lt; std::endl;
}


void TestirajListu (Lista spil) {

    if (spil.size()&gt;52) throw 0;
    
    //provjera smislenosti podataka (samo po vrijednostima)
    for (Lista::iterator it=std::begin(spil); it!=std::end(spil); it++)
        if (it-&gt;second!="2" &amp;&amp; it-&gt;second!="3" &amp;&amp; it-&gt;second!="4" &amp;&amp; it-&gt;second!="5" &amp;&amp; it-&gt;second!="6" &amp;&amp; it-&gt;second!="7" &amp;&amp; it-&gt;second!="8" &amp;&amp; it-&gt;second!="9" &amp;&amp; it-&gt;second!="10" &amp;&amp; it-&gt;second!="J" &amp;&amp; it-&gt;second!="Q" &amp;&amp; it-&gt;second!="K" &amp;&amp; it-&gt;second!="A")
</font><a name="0"></a><font color="#FF0000"><a href="match130-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_70.gif"/></a>

            throw 0;
    
    //provjera sortiranosti
    for (Lista::iterator it=std::begin(spil); it!=--std::end(spil); it++) {
        auto sljedeci=++it; it--;
        if (it-&gt;first&gt;(sljedeci)-&gt;first)
            throw 0;
    }
    
    auto it=std::begin(spil);
    
    while (it!=--std::end(spil) &amp;&amp; it-&gt;first==Boje::Pik) {
        auto sljedeci=++it; it--;
        auto vectit=std::find(std::begin(Naziv), std::end(Naziv), it-&gt;second);
        auto sljvectit=std::find(std::begin(Naziv), std::end(Naziv), sljedeci-&gt;second);
        if (sljvectit&lt;vectit) 
            throw 0;
        it++;
    }

    while (it!=--std::end(spil) &amp;&amp; it-&gt;first==Boje::Tref) {
        auto sljedeci=++it; it--;
        auto vectit=std::find(std::begin(Naziv), std::end(Naziv), it-&gt;second);
        auto sljvectit=std::find(std::begin(Naziv), std::end(Naziv), sljedeci-&gt;second);
        if (sljvectit&lt;vectit) 
            throw 0;
        it++;
    }

    while (it!=--std::end(spil) &amp;&amp; it-&gt;first==Boje::Herc) {
        auto sljedeci=++it; it--;
        auto vectit=std::find(std::begin(Naziv), std::end(Naziv), it-&gt;second);
        auto sljvectit=std::find(std::begin(Naziv), std::end(Naziv), sljedeci-&gt;second);
        if (sljvectit&lt;vectit) 
            throw 0;
        it++;
    }

    while (it!=--std::end(spil) &amp;&amp; it-&gt;first==Boje::Karo) {
        auto sljedeci=++it; it--;
        auto vectit=std::find(std::begin(Naziv), std::end(Naziv), it-&gt;second);
        auto sljvectit=std::find(std::begin(Naziv), std::end(Naziv), sljedeci-&gt;second);
        if (sljvectit&lt;vectit) 
            throw 0;
        it++;
    }
}


Boje StringUBoju (std::string s) {
    
    if (s=="Pik") return Boje::Pik;
    if (s=="Tref") return Boje::Tref;
    if (s=="Herc") return Boje::Herc;
    return Boje::Karo;
}

std::string BojaUString (Boje boja) {
    
    if (boja==Boje::Pik) return "Pik";
    if (boja==Boje::Tref) return "Tref";
    if (boja==Boje::Herc) return "Herc";
    return "Karo";
}

Lista KreirajSpil () {
    Lista spil;
    
    for (int i=0; i&lt;4; i++)
        for (int j=0; j&lt;13; j++)
            spil.push_back(std::make_pair(Boje(i), Naziv[j]));
    
    return spil;
}

void IzbaciKarte (Lista &amp;spil, Multimapa &amp;mapa) {
    
    try { TestirajListu(spil); }
    catch (...) {
        throw std::logic_error ("Neispravna lista!");
    }
    
    for (Lista::iterator it=std::begin(spil); it!=std::end(spil);) {
        Boje boja(it-&gt;first);
        std::string oznaka(it-&gt;second);
        
        auto ima(mapa.find(boja));
        bool obrisano(0);
        if (ima!=std::end(mapa))
            for (auto brisi=mapa.lower_bound(boja); brisi!=mapa.upper_bound(boja); brisi++)
                if (brisi-&gt;second==oznaka) {
                    it=spil.erase(it);
                    mapa.erase(brisi);
                    obrisano=1;
                    break;
                }
        if (obrisano==0) it++; 
    }
}


Queue IzbaciKarteRazbrajanjem (Lista &amp;spil, const short int &amp;r, const int &amp;b) {
    
    if (r&lt;1 || r&gt;52 || b&lt;1) throw std::logic_error ("Neispravni elementi za izbacivanje!");
    
    try { TestirajListu(spil); }
    catch (...) {
        throw std::logic_error ("Neispravna lista!");
    }
    
    
    Queue red;
    Multimapa mapa;
    
    for (int i=0; i&lt;b; i++);
        
    
    
    IzbaciKarte(spil, mapa);
    
    
    // red.push(std::make_pair(BojaUString(boja), vrijednost);
    
    return red;
}


void VratiPrvihNKarata (Lista &amp;spil, Queue &amp;red, int n) {
    
    if (n&gt;red.size()) throw std::range_error ("Nedovoljno karata u redu!");
    if (n&lt;=0) throw std::domain_error ("Broj n je besmislen!");
    
    try { TestirajListu(spil); }
    catch (...) {
        throw std::logic_error ("Neispravna lista!");
    }
    
    for (int i=0; i&lt;n; i++) {
        std::pair&lt;std::string, std::string&gt; par(red.front());
        Boje boja=StringUBoju(par.first);
        std::string vrijednost(par.second);
        
        auto it(std::find(std::begin(spil), std::end(spil), std::make_pair(boja, vrijednost)));
        if (it==std::end(spil)) spil.push_back(std::make_pair(boja, vrijednost));
        
        red.pop();
    }
} 






int main ()
{
    Lista spil(KreirajSpil());
    
    int m, n, x;
    
    try {
        for (;;) {
            std::cout &lt;&lt; "Unesite korak razbrajanja: ";
            std::cin &gt;&gt; x;
            const short int r(x);
            std::cout &lt;&lt; "Unesite broj karata koje zelite izbaciti: ";
            std::cin &gt;&gt; m;
            const int b(m);
            Queue red=IzbaciKarteRazbrajanjem(spil, r, b);
            std::cout &lt;&lt; "U spilu trenutno ima " &lt;&lt; spil.size() &lt;&lt; " karata, i to: " &lt;&lt; std::endl;
            IspisiKarte(spil);
            
            std::cout &lt;&lt; "Unesite broj karata koje zelite vratiti u spil: ";
                std::cin &gt;&gt; n;
            VratiPrvihNKarata(spil, red, n);
            std::cout &lt;&lt; "U spilu trenutno ima " &lt;&lt; spil.size() &lt;&lt; " karata, i to: " &lt;&lt; std::endl;
            IspisiKarte(spil);
                
            std::cout &lt;&lt; "--------------------------------------------------" &lt;&lt; std::endl;
    
        }
    }
    catch (...) {
        std::cout &lt;&lt; "Izuzetak: " &lt;&lt; std::endl;
</font>    }
    
	return 0;
}
</pre>
</body>
</html>
