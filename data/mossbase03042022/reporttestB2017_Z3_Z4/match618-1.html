<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z4/student5284.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z4/student4011.cpp<p></p><pre>
<a name="2"></a><font color="#0000FF"><a href="match618-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_2.gif"/></a>

/B2017/2018: ZadaÄ‡a 3, Zadatak 4
#include &lt;iostream&gt;
#include &lt;list&gt;
#include &lt;vector&gt;
#include &lt;map&gt;
#include &lt;queue&gt; 
#include &lt;stdexcept&gt;
using namespace std;

enum class Boje{Pik, Tref, Herc, Karo};
</font><a name="3"></a><font color="#00FFFF"><a href="match618-0.html#3" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_2.gif"/></a>


const vector&lt;string&gt; Karte={"2","3","4","5","6","7","8","9","10","J","Q","K","A"};
</font>
void IspisiSpil(list&lt;pair&lt;Boje,string&gt;&gt; karte)
{   
    cout&lt;&lt;"U spilu trenutno ima "&lt;&lt;karte.size()&lt;&lt;" karata, i to:"&lt;&lt;endl;
    const vector&lt;string&gt; boje={"Pik","Tref","Herc","Karo"}; 
    
    if(karte.size()==0)
    {
        for(int i=0;i&lt;4;i++)
        {
            cout&lt;&lt;boje[i]&lt;&lt;": "&lt;&lt;endl;
        }
    }
 //   const vector&lt;string&gt; boje={"Pik","Tref","Herc","Karo"}; 
   else
   {
    pair&lt;Boje,string&gt; par=*karte.begin();
    cout&lt;&lt;boje[(int)par.first]&lt;&lt;": ";
    for(auto a:karte)
    {   
        if((int)par.first!=(int)a.first){cout&lt;&lt;endl; cout&lt;&lt;boje[(int)a.first]&lt;&lt;": ";par=a;}
       
        cout&lt;&lt;a.second&lt;&lt;" ";
        
    }
   }
    cout&lt;&lt;endl;
}

<a name="0"></a><font color="#FF0000"><a href="match618-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_3.gif"/></a>

list&lt;pair&lt;Boje,string&gt;&gt; KreirajSpil()
{    
    list&lt;pair&lt;Boje,string&gt;&gt; karte;
    for(int i=0;i&lt;4;i++)
        for(int j=0;j&lt;13;j++)
</font>            karte.push_back(make_pair((Boje)i,Karte[j]));
    return karte;
}   

void IzbaciKarte(list&lt;pair&lt;Boje,string&gt;&gt; &amp;karte,multimap&lt;Boje,string&gt; &amp;mapa)
{   
    
   
    if(karte.size()&gt;52) throw logic_error("Neispravna Lista");
    for(auto a:karte)
    {
         bool ValjaLi=false;
        for(int i=0;i&lt;Karte.size();i++)
            if(Karte[i]==a.second) ValjaLi=true;
        if(ValjaLi==false) throw logic_error("Neispravna Lista");
    }
    
    
    
    
    for(auto m=mapa.begin();m!=mapa.end();m++)
        for(auto k=karte.begin();k!=karte.end();k++)
            if((int)m-&gt;first==(int)k-&gt;first &amp;&amp; m-&gt;second==k-&gt;second)
            {
                m=mapa.erase(m);
                k=karte.erase(k);
                break;
            }
}


<a name="4"></a><font color="#FF00FF"><a href="match618-0.html#4" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_2.gif"/></a>

queue&lt;pair&lt;Boje,string&gt;&gt; IzbaciKarteRazbrajanjem(list&lt;pair&lt;Boje,string&gt;&gt; &amp;karte,const short int &amp;r,int &amp;b)
</font>{   
    
    int pom=r;auto it=karte.begin();
    queue&lt;pair&lt;Boje,string&gt;&gt;red;
        
    if(r&lt;1 || r&gt;52 || b&lt;1) throw logic_error("Neispravni elementi za izbacivanje!");
    if(karte.size()&gt;52) throw logic_error("Neispravna Lista");
    for(auto a:karte)
    {
        bool ValjaLi=false;
        for(int i=0;i&lt;Karte.size();i++)
            if(Karte[i]==a.second) ValjaLi=true;
        if(ValjaLi==false) throw logic_error("Neispravna Lista");
    }
    
    
    
    while(b!=0)
    {
        pom=r;   
        while(pom!=1)
        {
            it++;
            if(it==karte.end()) it=karte.begin();
            pom--;
        }
        
        red.push(*it);
        it=karte.erase(it);
        
        
        b--;
    }
<a name="5"></a><font color="#FF0000"><a href="match618-0.html#5" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_2.gif"/></a>

    return red;
}

void VratiPrvihNkarata(list&lt;pair&lt;Boje,string&gt;&gt; &amp;karte,queue&lt;pair&lt;Boje,string&gt;&gt; &amp;red,int n)
</font>{
    
    if(n&lt;0) throw domain_error("Broj n je besmislen!");
    else if(n&gt;red.size()) throw range_error("Nedovoljno karata u redu!");
    
    if(karte.size()&gt;52) throw logic_error("Neispravna Lista");
    for(auto a:karte)
    {
        bool ValjaLi=false;
        for(int i=0;i&lt;Karte.size();i++)
            if(Karte[i]==a.second) ValjaLi=true;
        if(ValjaLi==false) throw logic_error("Neispravna Lista");
    }
   
    if(karte.size()==0)
    {
        karte.push_back(make_pair(red.front().first,red.front().second));
        red.pop();
        n--;
    }
    if(karte.size()==1 &amp;&amp; red.size()!=0)
    {    
        auto it=karte.begin();
       
        if((int)red.front().first&lt;(int)it-&gt;first)
          karte.push_front(make_pair(red.front().first,red.front().second));
        else
          karte.push_back(make_pair(red.front().first,red.front().second));
        
         red.pop();
         n--;
    }
    
    while(n!=0 &amp;&amp; red.size()!=0)
    {   
       // int p=0;int q=0;
        for(auto i=karte.begin();i!=karte.end();i++)
        {   
           // i--;
        // cout&lt;&lt;red.size();
            
           if ((int)i-&gt;first&gt;(int)red.front().first) {karte.push_front(make_pair(red.front().first,red.front().second)); red.pop();break;}
           else 
             while((int)i-&gt;first&lt;(int)red.front().first)
                i++;
             
             //if(i==karte.end()) karte.insert(i,red.front());
             
             while([](string a,string b){  
                                    int p,q;
                                    for(p=0;p&lt;Karte.size();p++)
                                        if(a==Karte[p]) break;            
                                    for(q=0;q&lt;Karte.size();q++)
                                        if(b==Karte[q]) break;            
                 
                                    if(p&lt;q) return true;
                                    return false;
<a name="1"></a><font color="#00FF00"><a href="match618-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_3.gif"/></a>

                                  }(i-&gt;second,red.front().second) &amp;&amp; (int)red.front().first==(int)i-&gt;first)i++;
            
             
             karte.insert(i,red.front());
             red.pop();
</font>             break;
        }
        n--;
    }
}

int main ()
{   
    int n;
    list&lt;pair&lt;Boje,string&gt;&gt; spil=KreirajSpil();
    int a,b;
    queue&lt;pair&lt;Boje,string&gt;&gt; red;
    
    try
    {
        cout&lt;&lt;"Unesite korak razbrajanja: ";
        cin&gt;&gt;n;
        cout&lt;&lt;"Unesite broj karata koje zelite izbaciti: ";
        cin&gt;&gt;a;
        red=IzbaciKarteRazbrajanjem(spil,n,a);
        IspisiSpil(spil);
        cout&lt;&lt;"Unesite broj karata koje zelite vratiti u spil: ";
        cin&gt;&gt;b;
        VratiPrvihNkarata(spil,red,b);
        IspisiSpil(spil);
    }
    catch(domain_error e)
    {
        cout&lt;&lt;"Izuzetak: "&lt;&lt;e.what();
    }
    catch(range_error e)
    {
         cout&lt;&lt;"Izuzetak: "&lt;&lt;e.what();   
    }
    catch(logic_error e)
    {
         cout&lt;&lt;"Izuzetak: "&lt;&lt;e.what();
    }
    return 0;
}
</pre>
</body>
</html>
