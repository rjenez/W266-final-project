<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z4/student8069.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z4/student8069.cpp<p></p><pre>
/B2017/2018: ZadaÄ‡a 3, Zadatak 4
#include &lt;iostream&gt;
#include &lt;list&gt;
#include &lt;utility&gt;
#include &lt;queue&gt;
#include &lt;stdexcept&gt;
#include &lt;string&gt;
#include &lt;map&gt;
#include &lt;vector&gt;

enum class Boje {Pik, Tref, Herc, Karo};
std::string karte_vrijednost[13]{"2", "3", "4", "5", "6", "7", "8", "9", "10", "J", "Q", "K", "A"};
std::string boje_vrijednosti[]{"Pik", "Tref", "Herc", "Karo"};

typedef std::list&lt;std::pair&lt;Boje, std::string&gt;&gt; Spil;

Spil KreirajSpil() {
    Spil spil_karata;
    for(int i=0; i&lt;4; i++) {
        for(int j=0; j&lt;13; j++) {
            std::pair&lt;Boje, std::string&gt; parovi;
            if(i==0) parovi.first=Boje::Pik;
            else if(i==1) parovi.first=Boje::Tref;
            else if(i==2) parovi.first=Boje::Herc;
            else parovi.first=Boje::Karo;
            parovi.second=karte_vrijednost[j];
            spil_karata.push_back(parovi);    
        }
    }
    return spil_karata;
}


bool TestirajKarte(Spil &amp;karte) {
    if(karte.size()==0) return true;
    else {
    bool ispravan=false;
    for(auto it=karte.begin(); it!=karte.end(); it++) {
        if((it-&gt;first)==Boje::Pik || it-&gt;first==Boje::Tref || it-&gt;first==Boje::Herc || it-&gt;first==Boje::Karo) {
        ispravan=true;
        }
        if(!ispravan) return false;
        
        for(int i=0; i&lt;13; i++) {
            if(it-&gt;second==karte_vrijednost[i]) {
                ispravan=true;
                break;
            }
        }  
        if(!ispravan) return false;
    }
    return ispravan;
    }
}


bool TestirajRed(std::queue&lt;std::pair&lt;std::string, std::string&gt;&gt; red){
    bool ispravan=false;
    while(!red.empty()) {
    auto pom=red.front();
    if(pom.first=="Pik" || pom.first=="Tref" ||pom.first=="Herc" || pom.first=="Karo" ) ispravan=true;
    if(!ispravan) return false;
    for(int i=0; i&lt;13; i++) {
        if(pom.second==karte_vrijednost[i]){
             ispravan=true;
             break;
        }
    }
    if(!ispravan) return false;
    red.pop();
    }
    return ispravan;
}

void IzbaciKarte(Spil &amp;karte, std::multimap&lt;Boje, std::string&gt; &amp;izbaci) {
<a name="2"></a><font color="#0000FF"><a href="match745-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_1.gif"/></a>

    if(!TestirajKarte(karte) || karte.size()&gt;52) throw std::logic_error("Neispravna lista!");
    for(auto it1=karte.begin(); it1!=karte.end(); it1++) {
        for(auto it2=izbaci.begin(); it2!=izbaci.end(); it2++) {
</font>            if(it1-&gt;first==it2-&gt;first &amp;&amp; it1-&gt;second==it2-&gt;second) {
                izbaci.erase(it2);
                it1=karte.erase(it1);
            }
        }
    }
}


std::string PretvoriUString(Boje b) {
    if(b==Boje::Pik) return boje_vrijednosti[0];
    else if(b==Boje::Tref) return boje_vrijednosti[1];
    else if(b==Boje::Herc) return boje_vrijednosti[2];
    else return boje_vrijednosti[3];
}

std::queue&lt;std::pair&lt;std::string, std::string&gt;&gt; IzbaciKarteRazbrajanjem(Spil &amp;karte, const short int &amp;delta, const int &amp;broj) {
    std::queue&lt;std::pair&lt;std::string, std::string&gt;&gt; povratni;
    if(!TestirajKarte(karte) || karte.size()&gt;52) throw std::logic_error("Neispravna lista!");
    if(delta&lt;1 || delta&gt;52 || broj&lt;1) throw std::logic_error("Neispravni elementi za izbacivanje!");
    short int brojac(1);
    int broj_izbacenih(0);
    auto it=karte.begin();
    while(1) {
        if(karte.empty()) break;
        if(broj_izbacenih==broj) break;
        if(brojac==delta) {
            if(it==karte.end()) it=karte.begin();
            std::pair&lt;std::string, std::string&gt; par;
            auto pom=PretvoriUString(it-&gt;first);
            par.first=pom; 
            par.second=it-&gt;second;
            povratni.push(par);
            broj_izbacenih++;
            it=karte.erase(it);
            
            brojac=1;
        }
        if(it==karte.end()) it=karte.begin();
        it++;
        brojac++;
    }
return povratni;
}

std::pair&lt;Boje, std::string&gt; PretvoriUEnum(std::pair&lt;std::string, std::string&gt; par) {
<a name="1"></a><font color="#00FF00"><a href="match745-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_2.gif"/></a>

    std::pair&lt;Boje, std::string&gt; povratni;
    if(par.first=="Pik") povratni.first=Boje::Pik;
    else if(par.first=="Tref") povratni.first=Boje::Tref;
    else if(par.first=="Herc") povratni.first=Boje::Herc;
    else povratni.first=Boje::Karo;
</font>    povratni.second=par.second;
    return povratni;
} 

int VelicinaReda(std::queue&lt;std::pair&lt;std::string, std::string&gt;&gt; red) {
    int vel(0);
    while(!red.empty()) {
        vel++;
        red.pop();
    }
    return vel;
}


std::pair&lt;std::string, std::string&gt; VratiPrethodni(std::pair&lt;std::string, std::string&gt; par) {
    std::pair&lt;std::string, std::string&gt; povratni;
    if(par.second=="2") {
        if(par.first!="Pik") povratni.second="A";

       if(par.first=="Pik") povratni.first="Pik";
       else if(par.first=="Tref") povratni.first="Pik";
       else if(par.first=="Herc") povratni.first="Tref";
       else povratni.first="Herc";
    }
    else {
        povratni.first=par.first;
        for(int i=0; i&lt;13; i++) {
        if(par.second==karte_vrijednost[i])
            povratni.second=karte_vrijednost[i-1];
        }
    }
    return povratni;
}

void VratiPrvihNKarata(Spil &amp;karte, std::queue&lt;std::pair&lt;std::string, std::string&gt;&gt; &amp;red, int n) {
    if(!TestirajKarte(karte) || karte.size()&gt;52) throw std::logic_error("Neispravna lista!");
    if(n&lt;0) throw std::domain_error("Broj n je besmislen!");
    if( n&gt;VelicinaReda(red)) throw std::range_error("Nedovoljno karata u redu!");
    if(!TestirajRed(red)) throw std::logic_error("Neispravne karte");
    int broj_ubacenih(0);
    auto it(karte.begin());
    while(broj_ubacenih&lt;n) {
                 auto pom=red.front();
                auto par=VratiPrethodni(pom);
                auto boje=PretvoriUString(it-&gt;first);
                if(par.first==boje &amp;&amp; par.second==it-&gt;second) {
                    if(it==karte.end()) it=karte.begin();
                    it++;
                    auto ubaci(PretvoriUEnum(pom));
                    karte.insert(it,ubaci);
                    broj_ubacenih++;
                    if(!red.empty()) red.pop();
                    if(broj_ubacenih==n) break;
                    if(red.empty()) break;
                }
       if(it==karte.end()) it=karte.begin();
       it++;
    }
}


void IspisiSpil(Spil &amp;karte) {
    if(karte.size()==0) {
        std::cout &lt;&lt; "Pik: " &lt;&lt; std::endl;
        std::cout &lt;&lt; "Tref: " &lt;&lt; std::endl;
        std::cout &lt;&lt; "Herc: " &lt;&lt; std::endl;
        std::cout &lt;&lt; "Karo: " &lt;&lt; std::endl;
    }
    else {
    for(auto it=karte.begin(); ;) {
        std::cout&lt;&lt;"Pik: ";
        while(PretvoriUString(it-&gt;first)=="Pik" &amp;&amp; it!=karte.end()) {
            std::cout&lt;&lt;it-&gt;second&lt;&lt;" ";
            it++;

        }
        if(it==karte.end()) break;
        std::cout&lt;&lt;std::endl;
        std::cout&lt;&lt;"Tref: ";
        while(PretvoriUString(it-&gt;first)=="Tref" &amp;&amp; it!=karte.end()) {
            std::cout &lt;&lt; it-&gt;second&lt;&lt;" ";
            it++;

        }
        if(it==karte.end()) break;
        std::cout&lt;&lt;std::endl;
        std::cout&lt;&lt;"Herc: ";
        while (PretvoriUString(it-&gt;first)=="Herc" &amp;&amp; it!=karte.end()) {
            std::cout&lt;&lt;it-&gt;second&lt;&lt;" ";
            it++;
           
        }
        if(it==karte.end()) break;
        std::cout &lt;&lt; std::endl;
        std::cout&lt;&lt;"Karo: ";
        while (PretvoriUString(it-&gt;first)=="Karo" &amp;&amp; it!=karte.end()) {
            std::cout &lt;&lt; it-&gt;second&lt;&lt;" ";
             it++;
             if(it==karte.end()) break;
            }
            std::cout &lt;&lt; std::endl;
            if(it==karte.end()) break;
       }
    }
}


int main ()
{
    try {
    auto spil(KreirajSpil());
    short int korak(0);
    std::cout&lt;&lt;"Unesite korak razbrajanja: ";
    std::cin&gt;&gt;korak;
    int broj(0);
    std::cout&lt;&lt;"Unesite broj karata koje zelite izbaciti: ";
    std::cin&gt;&gt;broj;
<a name="0"></a><font color="#FF0000"><a href="match745-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_5.gif"/></a>

    auto red(IzbaciKarteRazbrajanjem(spil, korak, broj));
    std::cout&lt;&lt;"U spilu trenutno ima "&lt;&lt;spil.size()&lt;&lt;" karata, i to:"&lt;&lt;std::endl;
    IspisiSpil(spil);
    std::cout&lt;&lt;"Unesite broj karata koje zelite vratiti u spil: ";
    int vracaj;
    std::cin&gt;&gt;vracaj;
    VratiPrvihNKarata(spil, red, vracaj);
    std::cout&lt;&lt;"U spilu trenutno ima "&lt;&lt;spil.size()&lt;&lt;" karata, i to: "&lt;&lt;std::endl;
    IspisiSpil(spil);
    }
    catch(std::domain_error izuzetak) {
        std::cout&lt;&lt;"Izuzetak: "&lt;&lt;izuzetak.what();
    }
    catch(std::range_error izuzetak2) {
        std::cout &lt;&lt;"Izuzetak: "&lt;&lt; izuzetak2.what();
</font>    }
    catch(std::logic_error izuzetak3) {
        std::cout &lt;&lt;"Izuzetak: "&lt;&lt; izuzetak3.what();
    }
	return 0;
}
</pre>
</body>
</html>
