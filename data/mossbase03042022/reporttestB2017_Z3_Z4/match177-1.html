<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z4/student4110.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z4/student3572.cpp<p></p><pre>
/B2017/2018: ZadaÄ‡a 3, Zadatak 4
#include &lt;iostream&gt;
#include &lt;list&gt;
#include &lt;utility&gt;
#include &lt;string&gt;
#include &lt;vector&gt;
#include &lt;map&gt;
#include &lt;stdexcept&gt;
#include &lt;queue&gt;
#include &lt;iterator&gt;
#include &lt;functional&gt;
enum class Boje {Pik, Tref, Herc, Karo};
<a name="0"></a><font color="#FF0000"><a href="match177-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_97.gif"/></a>

typedef std::list&lt;std::pair&lt;Boje, std::string&gt;&gt; Spil;
typedef std::multimap&lt;Boje, std::string&gt; multimapa;
typedef std::queue&lt;std::pair&lt;Boje, std::string&gt;&gt; red;

Spil KreirajSpil(){
    Spil a;
    std::vector&lt;std::string&gt; karte {"2","3","4","5","6","7","8","9","10","J","Q","K","A"};
    for(int i=0;i&lt;4;i++){
        for(int j=0;j&lt;13;j++){
            a.push_back(std::make_pair(Boje(i),karte[j]));
        }
    }
    return a;
}
int Pretvori(std::string a){
     std::vector&lt;std::string&gt; karte {"2","3","4","5","6","7","8","9","10","J","Q","K","A"};
     int vrati{15};
     for(int i=0;i&lt;karte.size();i++){ if(a==karte[i]) vrati=i;}
     return vrati;
}

bool Sortirano(const Spil &amp;a){
    for(auto it=a.begin();it!=--a.end();it++){
        if(int(it-&gt;first)&gt;int((++it)-&gt;first))return false;
        else {
            --it;
            if(int(it-&gt;first)==int((++it)-&gt;first)&amp;&amp;Pretvori(it-&gt;second)&gt;Pretvori((++it)-&gt;second))return false;
            --it;
        }
    }
    return true;
}
bool Kriterij(std::pair&lt;Boje,std::string&gt; a, std::pair&lt;Boje,std::string&gt; b){
        if(int(a.first)&lt;int(b.first))return true;
        if(int(a.first)==int(b.first)&amp;&amp;Pretvori(a.second)&lt;Pretvori(b.second))return true;
    return false;
}

bool Smisleno(const Spil &amp;a){
    for(auto it=a.begin();it!=a.end();it++){
        if(int(it-&gt;first)&lt;0||int(it-&gt;first)&gt;3)return false;
        if(Pretvori(it-&gt;second)==15)return false;
    }
    return true;
}

bool Smisleno2(red a){
    while(!a.empty()){
        if(int(a.front().first)&lt;0||int(a.front().first)&gt;3)return false;
        if(Pretvori(a.front().second)==15) return false;
        a.pop();
    }
    return true;
}

void IzbaciKarte(Spil &amp;a, multimapa &amp;b){
    if(a.size()&gt;52||!Sortirano(a)||!Smisleno(a)) throw std::logic_error("Izuzetak: Neispravna lista!");
    for(auto it=b.begin();it!=b.end();it++){
        for(auto it2=a.begin();it2!=a.end();it2++){
            if(it-&gt;first==it2-&gt;first &amp;&amp; it-&gt;second==it2-&gt;second){
               it=b.erase(it);
               it--;
               a.erase(it2);
            }
        }
    }
}

red IzbaciKarteRazbrajanjem(Spil &amp;a,const short int r, const int b){
    if(r&lt;1||r&gt;52||b&lt;1)throw std::logic_error("Izuzetak: Neispravni elementi za izbacivanje!");
    if(a.size()&gt;52||!Sortirano(a)||!Smisleno(a)) throw std::logic_error("Izuzetak: Neispravna lista!");
    short int br{0};
    red izbacene;
    auto it(a.begin());
    while(br!=b&amp;&amp;!a.empty()){
        for(int i=1;i&lt;r;i++){if(it==a.end())it=a.begin();it++;}
        izbacene.push(*it);
        it=a.erase(it);
        br++;
    }
    return izbacene;
    
}

void VratiPrvihNKarata(Spil &amp;a, red &amp;b, int n){
    int g(b.size());
    if(n&gt;g) throw std::range_error("Izuzetak: Nedovoljno karata u redu!");
    if(n&lt;0)throw std::domain_error("Izuzetak: Broj n je besmislen!");
    if(!Smisleno2(b)) throw std::logic_error("Izuzetak: Neispravne karte!");
   if(a.size()&gt;52||!Smisleno(a)) throw std::logic_error("Izuzetak: Neispravna lista!");
    int br{0};
    while(br!=n){
        for(auto it=a.begin();it!=a.end();it++){
            if(int(it-&gt;first)==int(b.front().first) &amp;&amp; it-&gt;second==b.front().second){
                b.pop();
            }
        }
        a.push_back(b.front());
        b.pop();
        br++;
    }
    
}
void Ispisi(Spil &amp;a, int boja){
    for(auto it=a.begin();it!=a.end();it++){
        if(int(it-&gt;first)==boja) std::cout&lt;&lt;it-&gt;second&lt;&lt;" ";
    }
}

int main ()
{
    try{
    Spil a(KreirajSpil());
    short int r;
    int b;
    std::cout&lt;&lt;"Unesite korak razbrajanja: ";
    std::cin&gt;&gt;r;
    std::cout&lt;&lt;"Unesite broj karata koje zelite izbaciti: ";
    std::cin&gt;&gt;b;
    red izbacene(IzbaciKarteRazbrajanjem(a,r,b));
    std::cout&lt;&lt;"U spilu trenutno ima "&lt;&lt;a.size()&lt;&lt;" karata, i to:"&lt;&lt;std::endl&lt;&lt;"Pik: ";
    Ispisi(a,0);
    std::cout&lt;&lt;std::endl&lt;&lt;"Tref: ";
    Ispisi(a,1);
    std::cout&lt;&lt;std::endl&lt;&lt;"Herc: ";
    Ispisi(a,2);
    std::cout&lt;&lt;std::endl&lt;&lt;"Karo: ";
    Ispisi(a,3);
    std::cout&lt;&lt;std::endl&lt;&lt;"Unesite broj karata koje zelite vratiti u spil: ";
    int c;
    std::cin&gt;&gt;c;
    //a.sort(Kriterij);
    VratiPrvihNKarata(a,izbacene,c);
    a.sort(Kriterij);
    std::cout&lt;&lt;"U spilu trenutno ima "&lt;&lt;a.size()&lt;&lt;" karata, i to:"&lt;&lt;std::endl&lt;&lt;"Pik: ";
    Ispisi(a,0);
    std::cout&lt;&lt;std::endl&lt;&lt;"Tref: ";
    Ispisi(a,1);
    std::cout&lt;&lt;std::endl&lt;&lt;"Herc: ";
    Ispisi(a,2);
    std::cout&lt;&lt;std::endl&lt;&lt;"Karo: ";
    Ispisi(a,3);
	return 0;}
	catch(std::domain_error e){
	    std::cout&lt;&lt;e.what();
	}
	catch(std::logic_error e){
	    std::cout&lt;&lt;e.what();
	}
	catch(std::range_error e){
	    std::cout&lt;&lt;e.what();
</font>	}
}
</pre>
</body>
</html>
