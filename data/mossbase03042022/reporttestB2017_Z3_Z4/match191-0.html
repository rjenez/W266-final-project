<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z4/student2664.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z4/student2664.cpp<p></p><pre>
<a name="0"></a><font color="#FF0000"><a href="match191-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_99.gif"/></a>

/B2017/2018: Zadaća 3, Zadatak 4
#include &lt;iostream&gt;
#include &lt;algorithm&gt;
#include &lt;stdexcept&gt;
#include &lt;map&gt; //multimapa
#include &lt;list&gt;
#include &lt;queue&gt; //queue = RED = FIFO
#include &lt;string&gt;
#include &lt;utility&gt; //pair

enum class Boje {Pik, Tref, Herc, Karo};
using std::multimap;
using std::domain_error;
using std::logic_error;
using std::range_error;
using std::make_pair;
using std::string;
using std::queue;
using std::list;
using std::pair;
using std::find; 
using std::cout;
using std::endl;
using std::cin;
typedef pair&lt;Boje, string&gt; Par;
typedef list&lt;Par&gt; Lista;
typedef multimap&lt;Boje, string&gt; Multimapa;
typedef queue&lt;pair&lt;string, string&gt;&gt; Red;

bool Legalno(Boje potencijalna_boja, string ime){
    bool ime_je_dobro(false), boja_je_dobra(false);
    Boje boje[4]{Boje::Pik, Boje::Tref, Boje::Herc, Boje::Karo};
    string vrijednosti[13]{"2", "3", "4", "5", "6", "7", "8", "9", "10", "J", "Q", "K", "A"};
    for(string x : vrijednosti) if(x == ime) ime_je_dobro = true;
    for(Boje boja : boje) if(boja == potencijalna_boja) boja_je_dobra = true;
    if(ime_je_dobro &amp;&amp; boja_je_dobra) return true;
    return false;
}
Lista KreirajSpil(){
    Boje boje[4]{Boje::Pik, Boje::Tref, Boje::Herc, Boje::Karo};
    string vrijednosti[13]{"2", "3", "4", "5", "6", "7", "8", "9", "10", "J", "Q", "K", "A"};
    Lista lista;
    for(int i=0; i&lt;4; i++){
        for(int j=0; j&lt;13; j++)
            lista.push_back(make_pair(boje[i], vrijednosti[j]));
    }
    return lista;
}
Lista::iterator Nadji(Lista::iterator p, Lista::iterator q, const pair&lt;Boje,string&gt; &amp;par){
    while(p != q){
        if(p-&gt;first == par.first &amp;&amp; p-&gt;second == par.second) return p;
        p++;
    }
    return q;
}
void IzbaciKarte(Lista &amp;lista, Multimapa &amp;mm){
    if(lista.size() &gt; 52) throw logic_error("Neispravna lista!"); //..još ifova**
    for(Par &amp;x : lista) if(!Legalno(x.first, x.second)) throw logic_error("Neispravna lista!"); //**myb
    for(auto mit = mm.begin(); mit != mm.end(); mit++){
       auto lit(lista.begin());
        lit = Nadji(lista.begin(), lista.end(), *mit);
        if(lit != lista.end()){
            lit = lista.erase(lit);
            mm.erase(mit);
        }
        
    }
}
string ImeBoje(Boje boja){
    Boje boje[4]{Boje::Pik, Boje::Tref, Boje::Herc, Boje::Karo};
    string ime[4]{"Pik", "Tref", "Herc", "Karo"};
    for(int i=0; i&lt;4; i++)  if(boja == boje[i]) return ime[i];
    return "";
}
Red IzbaciKarteRazbrajanjem(Lista &amp;lista, const short int &amp;korak, const int &amp;b){
    if(b&lt;1 || korak&lt;1 || korak&gt;52) throw logic_error("Neispravni elementi za izbacivanje!");
    if(lista.size() &gt; 52) throw logic_error("Neispravna lista!"); //dodaj još..**
    for(Par &amp;x : lista) if(!Legalno(x.first, x.second)) throw logic_error("Neispravna lista!"); //myb**
    
    Red red;
    auto lit(lista.begin());
    for(int i=0; i&lt;b; i++){
        int j;
        for(j=1; j&lt;korak; j++){
            lit++;
            if(lit == lista.end()) lit = lista.begin();
           
        } 
        if(j == korak){
            red.push(make_pair(ImeBoje(lit-&gt;first), lit-&gt;second));
            lit = lista.erase(lit);
        }
    }
    return red;
}
Lista VratiPrvihNKarata(Lista &amp;lista, Red &amp;red, int n){
    if(n &lt; 0) throw domain_error("Broj n je besmislen!"); //??**????
    if(n &gt; red.size()) throw range_error("Nedovoljno karata u redu!");
    for(Par &amp;x : lista) if(!Legalno(x.first, x.second)) throw logic_error("Neispravne karte!"); //***
    if(lista.size() &gt; 52) throw logic_error("Neispravna lista!"); //dodati..**
    
    return lista;
    
}
void IspisiListuZaBoju(const Lista &amp;lista, const Boje &amp;boja){
    for(Par x : lista) if(x.first == boja) cout &lt;&lt; x.second &lt;&lt; " ";
}

int main (){
    short int korak;
    cout &lt;&lt; "Unesite korak razbrajanja: ";
    cin &gt;&gt; korak;
    int b;
    cout &lt;&lt; "Unesite broj karata koje zelite izbaciti: ";
    cin &gt;&gt; b;
    Lista lista(KreirajSpil());
    Red red;
    try{
        red = (IzbaciKarteRazbrajanjem(lista, korak, b));
    }
    catch(logic_error er){
        cout &lt;&lt; "Izuzetak: " &lt;&lt; er.what();
        return 0;
    }
    cout &lt;&lt; "U spilu trenutno ima " &lt;&lt; lista.size() &lt;&lt; " karata, i to: ";
    cout &lt;&lt; "\nPik: "; IspisiListuZaBoju(lista, Boje::Pik);
    cout &lt;&lt; "\nTref: "; IspisiListuZaBoju(lista, Boje::Tref);
    cout &lt;&lt; "\nHerc: "; IspisiListuZaBoju(lista, Boje::Herc);
    cout &lt;&lt; "\nKaro: "; IspisiListuZaBoju(lista, Boje::Karo);
    int n;
    cout &lt;&lt; "\nUnesite broj karata koje zelite vratiti u spil: ";
    cin &gt;&gt; n;
    try{
        lista = VratiPrvihNKarata(lista, red, n);
    }
    catch(range_error er){
        cout &lt;&lt; "Izuzetak: " &lt;&lt; er.what(); return 0;
    }
    catch(domain_error er){
        cout &lt;&lt; "Izuzetak: " &lt;&lt; er.what(); return 0;
    }
    catch(logic_error er){
        cout &lt;&lt; "Izuzetak: " &lt;&lt; er.what(); return 0;
    }
    cout &lt;&lt; "U spilu trenutno ima " &lt;&lt; lista.size() &lt;&lt; " karata, i to:";
    cout &lt;&lt; "\nPik: "; IspisiListuZaBoju(lista, Boje::Pik);
    cout &lt;&lt; "\nTref: "; IspisiListuZaBoju(lista, Boje::Tref);
    cout &lt;&lt; "\nHerc: "; IspisiListuZaBoju(lista, Boje::Herc);
    cout &lt;&lt; "\nKaro: "; IspisiListuZaBoju(lista, Boje::Karo);
    
	return 0;
</font>}

</pre>
</body>
</html>
