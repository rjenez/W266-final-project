<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z4/student5162.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z4/student9048.cpp<p></p><pre>
/B2017/2018: ZadaÄ‡a 3, Zadatak 4
#include &lt;iostream&gt;
#include &lt;list&gt;
#include &lt;string&gt;
#include &lt;vector&gt;
#include &lt;map&gt;
#include &lt;utility&gt;
#include &lt;stdexcept&gt;
#include &lt;algorithm&gt;
#include &lt;queue&gt;
#include &lt;stack&gt;
#include &lt;iterator&gt;

enum class Boje
{
    Pik, Tref, Herc, Karo
};

typedef std::list&lt;std::pair&lt;Boje, std::string&gt;&gt; Spil;
typedef std::pair&lt;Boje, std::string&gt; Par;

std::list&lt;std::pair&lt;Boje, std::string&gt;&gt; KreirajSpil()
{
    //Da sam lud - lud sam, cim sam ovako ovu funkciju uradio
    std::pair&lt;Boje, std::string&gt; karta;
    std::list&lt;std::pair&lt;Boje, std::string&gt;&gt; Lista;
    int i(0), j(0), brojac(0);
    for(;;) {
        if(j % 9 == 0 &amp;&amp; brojac != 0) i++;
        if(i == 0) karta.first = Boje::Pik;
        else if(i == 1) karta.first = Boje::Tref;
        else if(i == 2) karta.first = Boje::Herc;
        else karta.first = Boje::Karo;
        if(50 + j &lt; 58) karta.second = 50 + j;
        else karta.second = "10";
        // auto it(Lista.begin());
        Lista.push_back(karta);
        //karta = {};
        j++;
        if(j == 9) {
            karta.second = 'J';
            Lista.push_back(karta);
            karta.second = 'Q';
            Lista.push_back(karta);
            karta.second = 'K';
            Lista.push_back(karta);
            karta.second = 'A';
            Lista.push_back(karta);
            j = 0;
            brojac++;
            karta = {};
            if(brojac == 4) break;
        }
    }

    return Lista;
}

void IzbaciKarte(Spil &amp;spil, std::multimap&lt;Boje,std::string&gt; &amp;m_mapa)
{
    if(spil.empty()) return;
    if(spil.size() &gt; 52 || spil != KreirajSpil()) throw std::logic_error("Neispravna lista!");
    //treba sada pronaci elemente spila, koji se nalaze u mapi, te ih obrisati
    //iz oba kontejnera
<a name="4"></a><font color="#FF00FF"><a href="match504-0.html#4" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_1.gif"/></a>

    for(auto it(spil.begin()); it != spil.end(); it++) {
        for(auto it2(m_mapa.begin());  it2 != m_mapa.end(); it2++) {
            if(it-&gt;first == it2-&gt;first &amp;&amp; it-&gt;second == it2-&gt;second) {
</font>                it = spil.erase(it);
                // std::remove(m_mapa.begin(), m_mapa.end(), *it2);
                it2 = m_mapa.erase(it2);
                if(m_mapa.empty() || spil.empty()) break;
            }
            if(m_mapa.empty() || spil.empty()) break;
        }
        if(m_mapa.empty() || spil.empty()) break;
    }
}

std::queue&lt;std::pair&lt;std::string, std::string&gt;&gt; IzbaciKarteRazbrajanjem(Spil &amp;spil,const short int &amp;r, int &amp;b)
{
    std::queue&lt;std::pair&lt;std::string, std::string&gt;&gt; prazan;
    if(spil.empty()) return prazan;
    if(r &lt; 1 || r &gt; 52 || b &lt; 1) throw std::logic_error("Izuzetak: Neispravni elementi za izbacivanje!");
    if(spil.size() &gt; 52 || spil != KreirajSpil()) throw std::logic_error("Neispravna lista!");
    std::queue&lt;std::pair&lt;std::string, std::string&gt;&gt; red;
    int krug(1), br_karata(0);
    for(auto it(spil.begin()); ; /*it++*/) {
START:
        if(krug == r) {
            std::pair&lt;std::string, std::string&gt; par;
            std::string pik = "Pik";
            std::string tref = "Tref";
            std::string herc = "Herc";
            std::string karo = "Karo";
            if(it-&gt;first == Boje::Pik) par.first = pik;
            else if(it-&gt;first == Boje::Tref) par.first = tref;
            else if(it-&gt;first == Boje::Herc) par.first = herc;
            else if(it-&gt;first == Boje::Karo) par.first = karo;

            //par.first = boja;
            par.second = it-&gt;second;
            red.push(par);
            //Nakon sto smo je sacuvali, brisemo kartu iz spila
            it = spil.erase(it);
            br_karata++;
            krug = 1;
            if(br_karata == b) break;
            if(it == spil.end()) it = spil.begin();
            goto START;
        }
        if(br_karata == b) break;
        krug++;
        it++;
        if(it == spil.end()) it = spil.begin();
    }
    return red;
}

bool jeLiRavnoOvooo(std::queue&lt;std::pair&lt;std::string, std::string&gt;&gt; red)
{
    while(!red.empty()) {
<a name="5"></a><font color="#FF0000"><a href="match504-0.html#5" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_1.gif"/></a>

        if(red.front().first != "Pik" &amp;&amp; red.front().first != "Tref" &amp;&amp; red.front().first != "Karo" &amp;&amp; red.front().first != "Herc") return true;
</font>        red.pop();
        if(red.empty()) return false;
    }
}

void VratiPrvihNKarata(Spil &amp;spil, std::queue&lt;std::pair&lt;std::string, std::string&gt;&gt; red, int n)
{
    if(n &lt; 0 || n &gt; 52) throw std::domain_error("Broj n je besmislen!");
    if(n &gt; red.size()) throw std::range_error("Nedovoljno karata u redu!");
    if(spil.size() &gt; 52) throw std::logic_error("Neispravna lista!");
    if(jeLiRavnoOvooo(red)) throw std::logic_error("Neispravne karte!");
    int br(0);
    while (br &lt; n) {
        auto temp(red.front());
        Boje poredi;
        if(temp.first == "Pik") poredi = Boje::Pik;
        else if(temp.first == "Tref") poredi = Boje::Tref;
        else if(temp.first == "Herc") poredi = Boje::Herc;
        else if(temp.first == "Karo") poredi = Boje::Karo;
        std::pair&lt;Boje, std::string&gt; trazi (poredi, temp.second);
        if(std::count(spil.begin(), spil.end(), trazi) == 0) {
            spil.insert(spil.begin(), trazi);
        }
        br++;
        // if(br == n) break;
        red.pop();
    }
    spil.sort( [] (const Par &amp;x, const Par &amp;y) -&gt; bool {
        if(x.first == y.first) {
<a name="2"></a><font color="#0000FF"><a href="match504-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_1.gif"/></a>

            if(x.second == "10" &amp;&amp; (y.second == "J" || y.second == "Q" || y.second == "K" || y.second == "A" )) return true;
</font><a name="0"></a><font color="#FF0000"><a href="match504-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_2.gif"/></a>

            else if(x.second  == "10" &amp;&amp; (y.second == "2" || y.second == "3" || y.second == "4" || y.second == "5" || y.second == "6" || y.second == "7" || y.second == "8" || y.second == "9")) return false;
            else if(y.second  == "10" &amp;&amp; (x.second == "2" || x.second == "3" || x.second == "4" || x.second == "5" || x.second == "6" || x.second == "7" || x.second == "8" || x.second == "9")) return true;
</font><a name="1"></a><font color="#00FF00"><a href="match504-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_1.gif"/></a>

            else if(x.second == "A" &amp;&amp; (y.second == "J" || y.second == "K" || y.second == "Q" || y.second == "10")) return false;
            else if(x.second == "K" &amp;&amp; y.second == "A") return true;
            else if(x.second == "K" &amp;&amp; (y.second == "Q" || y.second == "J" || y.second == "10")) return false;
</font>            else if(x.second == "Q" &amp;&amp; (y.second == "J" || y.second == "10")) return false;
            else if(x.second == "Q" &amp;&amp; (y.second == "A" || y.second == "K")) return true;
            else if(x.second == "J" &amp;&amp; y.second == "10") return false;
            else if(x.second == "J" &amp;&amp; (y.second == "A" || y.second == "K" || y.second == "Q")) return true;
            return x.second &lt; y.second;
        } else return x.first &lt; y.first;
    } );
}


int main ()
{
    std::cout &lt;&lt; "Unesite korak razbrajanja: ";
    short int korak(0);
    std::cin &gt;&gt; korak;
    std::cout &lt;&lt; "Unesite broj karata koje zelite izbaciti: ";
    int br_za_izbaciti(0);
    std::cin &gt;&gt; br_za_izbaciti;
    //std::cout &lt;&lt; "U spili trenutno ima"
    auto spil(KreirajSpil());
    std::queue&lt;std::pair&lt;std::string, std::string&gt;&gt; spilNakonIzbacivanja {};
    int br(0);
    try {
        spilNakonIzbacivanja = IzbaciKarteRazbrajanjem(spil, korak, br_za_izbaciti);
        std::cout &lt;&lt; "U spilu trenutno ima " &lt;&lt; spil.size() &lt;&lt; " karata, i to:";
        std::cout &lt;&lt; std::endl &lt;&lt; "Pik: " ;
        //Pik
        auto it(spil.begin());
        for(; it != spil.end(); it++, br++) {
            if(it-&gt;first == Boje::Pik) std::cout &lt;&lt; it-&gt;second;
            if(it-&gt;first != Boje::Pik) break;
            if(br != spil.size()-1)  std::cout &lt;&lt; " ";
        }
        br = 0;
        //Tref
        std::cout &lt;&lt; std::endl &lt;&lt; "Tref: ";
        for(; it != spil.end(); it++, br++) {
            if(it-&gt;first == Boje::Tref) std::cout &lt;&lt; it-&gt;second;
            if(it-&gt;first != Boje::Tref) break;
            if(br != spil.size()-1)  std::cout &lt;&lt; " ";
        }
        br = 0;
        //Herc
        std::cout &lt;&lt; std::endl &lt;&lt; "Herc: ";
        for(; it != spil.end(); it++, br++) {
            if(it-&gt;first == Boje::Herc) std::cout &lt;&lt; it-&gt;second;
            if(it-&gt;first != Boje::Herc) break;
            if(br != spil.size()-1)  std::cout &lt;&lt; " ";
        }
        br = 0;
        //Karo
        std::cout &lt;&lt; std::endl &lt;&lt; "Karo: ";
        for(; it != spil.end(); it++, br++) {
            if(it-&gt;first == Boje::Karo) std::cout &lt;&lt; it-&gt;second;
            if(it-&gt;first != Boje::Karo) break;
            if(br != spil.size()-1)  std::cout &lt;&lt; " ";
        }
    } catch(std::logic_error izuzetak) {
        std::cout &lt;&lt; izuzetak.what();
        return 0;
    }

    std::cout &lt;&lt; std::endl &lt;&lt; "Unesite broj karata koje zelite vratiti u spil: ";
    int br_vratiti(0);
    std::cin &gt;&gt; br_vratiti;
    try {
        VratiPrvihNKarata(spil, spilNakonIzbacivanja, br_vratiti);
        //VRACAMO KARTE U SPIL


        std::cout &lt;&lt; "U spilu trenutno ima " &lt;&lt; spil.size() &lt;&lt; " karata, i to:";
        std::cout &lt;&lt; std::endl &lt;&lt; "Pik: " ;
        br = 0;
        //Pik
        auto it2(spil.begin());
        for(; it2 != spil.end(); it2++, br++) {
            if(it2-&gt;first == Boje::Pik) std::cout &lt;&lt; it2-&gt;second;
            if(it2-&gt;first != Boje::Pik) break;
            if(br != spil.size()-1)  std::cout &lt;&lt; " ";
        }
        br = 0;
        //Tref
        std::cout &lt;&lt; std::endl &lt;&lt; "Tref: ";
        for(; it2 != spil.end(); it2++, br++) {
            if(it2-&gt;first == Boje::Tref) std::cout &lt;&lt; it2-&gt;second;
            if(it2-&gt;first != Boje::Tref) break;
            if(br != spil.size()-1)  std::cout &lt;&lt; " ";
        }
        br = 0;
        //Herc
        std::cout &lt;&lt; std::endl &lt;&lt; "Herc: ";
        for(; it2 != spil.end(); it2++, br++) {
            if(it2-&gt;first == Boje::Herc) std::cout &lt;&lt; it2-&gt;second;
            if(it2-&gt;first != Boje::Herc) break;
            if(br != spil.size()-1)  std::cout &lt;&lt; " ";
        }
        br = 0;
        //Karo
        std::cout &lt;&lt; std::endl &lt;&lt; "Karo: ";
        for(; it2 != spil.end(); it2++, br++) {
            if(it2-&gt;first == Boje::Karo) std::cout &lt;&lt; it2-&gt;second;
            if(it2-&gt;first != Boje::Karo) break;
            if(br != spil.size()-1)  std::cout &lt;&lt; " ";
        }
    } catch(std::domain_error izuzetak) {
        std::cout &lt;&lt; "Izuzetak: "&lt;&lt; izuzetak.what();
        return 0;
    }catch(std::range_error izuzetak){
        std::cout &lt;&lt; "Izuzetak: " &lt;&lt; izuzetak.what();
        return 0;
    }catch(std::logic_error izuzetak){
        std::cout &lt;&lt; "Izuzetak: " &lt;&lt; izuzetak.what();
        return 0;
    }

    return 0;
}
</pre>
</body>
</html>
