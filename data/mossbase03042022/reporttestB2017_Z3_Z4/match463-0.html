<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z4/student2155.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z4/student2155.cpp<p></p><pre>
/B2017/2018: ZadaÄ‡a 3, Zadatak 4
#include &lt;iostream&gt;
#include &lt;list&gt;
#include &lt;utility&gt;
#include &lt;map&gt;
#include &lt;stdexcept&gt;
#include &lt;vector&gt;
#include &lt;string&gt;
#include &lt;algorithm&gt;
#include &lt;queue&gt;

enum class Boje
{
    Pik, Tref, Herc, Karo
};

typedef std::pair&lt;Boje, std::string&gt; par;
std::vector&lt;std::string&gt; NazivKarata {"2", "3", "4", "5", "6", "7", "8", "9", "10", "J", "Q", "K", "A"};

std::list&lt;par&gt; KreirajSpil ()
{
    std::list&lt;par&gt; spil;
    par p;
    Boje boja;
    boja = Boje::Pik;
    for(auto a : NazivKarata) {
        p = std::make_pair (boja, a);
        spil.push_back (p);
    }
    boja = Boje::Tref;
    for(auto a : NazivKarata) {
        p = std::make_pair (boja, a);
        spil.push_back (p);
    }
    boja = Boje::Herc;
    for(auto a : NazivKarata) {
        p = std::make_pair (boja, a);
        spil.push_back (p);
    }
    boja = Boje::Karo;
    for(auto a : NazivKarata) {
        p = std::make_pair (boja, a);
        spil.push_back (p);
    }
    return spil;
}
void NeispravneKarte (const std::queue&lt;std::pair&lt;std::string, std::string&gt;&gt; &amp;red)
{
    std::queue&lt;std::pair&lt;std::string, std::string&gt;&gt; pomocni = red;
    while ( !pomocni.empty() ) {
<a name="2"></a><font color="#0000FF"><a href="match463-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_1.gif"/></a>

        std::pair&lt;std::string, std::string&gt; p = pomocni.front();
        if (p.first != "Pik" &amp;&amp; p.first != "Tref" &amp;&amp; p.first != "Karo" &amp;&amp; p.first != "Herc") throw std::logic_error("Neispravne karte!");
        bool a = false;
</font>        for (int i = 0; i&lt; NazivKarata.size(); i++) {
            if (NazivKarata.at(i) == p.second) a = true;
        }
        if (a == false) throw std::logic_error ("Neispravne karte!");
        pomocni.pop();
    }
}
void Izuzeci(const std::list&lt;par&gt; &amp;spil)
{
    if(spil.size() &gt; 52) throw std::logic_error("Neispravna lista!");
    for(auto x : spil) {
        bool smislen = false;
        for(int i = 0; i &lt; NazivKarata.size(); i++) {
            if(x.second == NazivKarata.at(i)) smislen = true;
        }
        if(smislen == false) throw std::logic_error("Neispravna lista!");
    }
    Boje boja;
    for(auto it = spil.begin(); it != spil.end(); it++) {
        boja = (*it).first;
        while(it != spil.end() &amp;&amp; (*it).first == boja) {
            auto pomocni = it;
            it++;
            if(it == spil.end() || (*it).first != boja) break;
            auto nazivPomocni(std::find(NazivKarata.begin(), NazivKarata.end(), (*pomocni).second)), nazivIt(std::find(NazivKarata.begin(), NazivKarata.end(), (*it).second));
            if(nazivPomocni &gt;= nazivIt) throw std::logic_error("Neispravna lista!");
        }
        if(boja == Boje::Karo &amp;&amp; it != spil.end()) throw std::logic_error("Neispravna lista!");
        for(auto it2 = it; it2 != spil.end(); it2++) {
            if(boja == Boje::Pik) {
                if((*it2).first == Boje::Pik) throw std::logic_error("Neispravna lista!");
            } else if(boja == Boje::Tref) {
                if((*it2).first == Boje::Pik || (*it2).first == Boje::Tref) throw std::logic_error("Neispravna lista!");
            } else if(boja == Boje::Herc) {
                if((*it2).first == Boje::Pik || (*it2).first == Boje::Tref || (*it2).first == Boje::Herc) throw std::logic_error("Neispravna lista!");
            }
        }
        if(it == spil.end()) break;
    }
}

void IzbaciKarte(std::list&lt;par&gt; &amp;spil, std::multimap&lt;Boje, std::string&gt; &amp;m)
{
    Izuzeci(spil);
    for(auto it = m.begin(); it != m.end();) {
        bool pronadjena(false);
        for (auto iter = spil.begin(); iter != spil.end();) {
            if ((*it).first == (*iter).first &amp;&amp; (*it).second == (*iter).second) {
                iter = spil.erase(iter);
                it = m.erase(it);
                pronadjena = true;
                break;
            }
            else {
                iter++;
            }
        }
        if(pronadjena == false) it++;
    }
}

std::queue&lt;std::pair&lt;std::string, std::string&gt;&gt; IzbaciKarteRazbrajanjem (std::list&lt;par&gt; &amp;spil, const short int &amp;r, const int &amp;b)
{
    if (r &lt; 1 || r &gt; 52 || b &lt; 1) throw std::logic_error ("Neispravni elementi za izbacivanje!");
    Izuzeci(spil);
    std::queue&lt;std::pair&lt;std::string, std::string&gt;&gt; red;
    int broj_izbacenih = 0;
    std::list&lt;par&gt;::iterator it(spil.begin());
<a name="3"></a><font color="#00FFFF"><a href="match463-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_1.gif"/></a>

    while(broj_izbacenih != b &amp;&amp; spil.size() != 0) {
        for(int i(0); i &lt; r - 1; i++) {
            it++;
            if(it == spil.end()) it = spil.begin();
        }
        std::pair&lt;std::string, std::string&gt; element_reda;
</font>        if((*it).first == Boje::Pik) element_reda.first = "Pik";
        else if((*it).first == Boje::Tref) element_reda.first = "Tref";
        else if((*it).first == Boje::Herc) element_reda.first = "Herc";
        else element_reda.first = "Karo";
        element_reda.second = (*it).second;
        red.push(element_reda);
<a name="5"></a><font color="#FF0000"><a href="match463-1.html#5" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_1.gif"/></a>

        it = spil.erase(it);
        if(it == spil.end()) it = spil.begin();
        broj_izbacenih++;
    }
    return red;
}

void VratiPrvihNKarata ( std::list&lt;par&gt; &amp;spil, std::queue&lt;std::pair&lt;std::string, std::string&gt;&gt; &amp;red, int n)
</font>{
    if (n &lt; 0 ) throw std::domain_error ("Broj n je besmislen!");
    if ( n &gt; red.size()) throw std::range_error ("Nedovoljno karata u redu!");
    Izuzeci(spil);
    NeispravneKarte(red);

    std::pair&lt;std::string, std::string&gt; p;
    par p1;
    for( int i = 0; i &lt; n; i++) {
        p = red.front();
<a name="0"></a><font color="#FF0000"><a href="match463-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_2.gif"/></a>

        red.pop();
        if(p.first == "Pik") p1.first = Boje::Pik;
        else if(p.first == "Tref") p1.first = Boje::Tref;
        else if(p.first == "Karo") p1.first = Boje::Karo;
        else p1.first = Boje::Herc;
</font>        for( int j = 0; j &lt; NazivKarata.size(); j++) {
            if ( p.second == NazivKarata.at(j)) p1.second = NazivKarata.at(j);
        }
        auto iter = std::find(spil.begin(), spil.end(), p1);
        if ( iter != spil.end()) {
            continue;
        }
        auto it = spil.begin();
        bool ubacena(false);
        for (it = spil.begin(); it != spil.end(); it++) {
            if(it != spil.end() &amp;&amp; p1.first &gt; (*it).first ) continue;

            else if ( it != spil.end() &amp;&amp; p1.first == (*it).first ) {
                auto p1it = std::find(NazivKarata.begin(), NazivKarata.end(), p1.second);
                ubacena = false;
                auto itkrozboje(it);
                for(itkrozboje = it; (*itkrozboje).first == (*it).first; itkrozboje++) {
                    auto itit = std::find(NazivKarata.begin(), NazivKarata.end(), (*itkrozboje).second);
                    if(p1it &gt; itit) continue;
                    spil.insert(itkrozboje, p1);
                    ubacena = true;
                    break;
                }
                if(ubacena == false) spil.insert(itkrozboje, p1);
                break;
            } 
            else if (p1.first &lt; (*it).first) {
                it = spil.insert(it,p1);
                break;
            }
        }
        if(it == spil.end() &amp;&amp; ubacena == false) {
            it = spil.insert(it, p1);
        }
        if(spil.size() == 0) {
            it = spil.insert(spil.begin(), p1);
        }
    }
}

int main ()
{
    try {
        auto spil = KreirajSpil();
<a name="4"></a><font color="#FF00FF"><a href="match463-1.html#4" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_1.gif"/></a>

        std::cout&lt;&lt;"Unesite korak razbrajanja: ";
        int r;
        std::cin&gt;&gt;r;
        std::cout&lt;&lt;"Unesite broj karata koje zelite izbaciti: ";
        int b;
        std::cin&gt;&gt;b;
        std::queue&lt;std::pair&lt;std::string, std::string&gt;&gt;red;
</font>        red = IzbaciKarteRazbrajanjem(spil, r, b);
        std::cout&lt;&lt;"U spilu trenutno ima "&lt;&lt;spil.size()&lt;&lt;" karata, i to:"&lt;&lt;std::endl;
        std::cout &lt;&lt; "Pik: ";
        for(auto element : spil ) {
            if(element.first == Boje::Pik)
                std::cout&lt;&lt;element.second &lt;&lt; " ";
        }
        std::cout&lt;&lt;std::endl;
        std::cout &lt;&lt; "Tref: ";
        for(auto element :spil) {
            if(element.first == Boje::Tref)
                std::cout&lt;&lt;element.second &lt;&lt; " ";
        }
        std::cout&lt;&lt;std::endl;
        std::cout &lt;&lt; "Herc: ";
        for(auto element :spil) {
            if(element.first == Boje::Herc)
                std::cout&lt;&lt;element.second &lt;&lt; " ";
        }
        std::cout&lt;&lt;std::endl;
        std::cout &lt;&lt; "Karo: ";
        for(auto element : spil)
            if(element.first == Boje::Karo)
                std::cout&lt;&lt;element.second &lt;&lt; " ";
<a name="1"></a><font color="#00FF00"><a href="match463-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_2.gif"/></a>

        std::cout&lt;&lt;std::endl;
        std::cout&lt;&lt;"Unesite broj karata koje zelite vratiti u spil: ";
        int n;
        std::cin&gt;&gt;n;
        VratiPrvihNKarata(spil, red, n);
        std::cout&lt;&lt;"U spilu trenutno ima "&lt;&lt;spil.size()&lt;&lt;" karata, i to:"&lt;&lt;std::endl;
</font>        std::cout &lt;&lt; "Pik: ";
        for(auto element : spil ) {
            if(element.first == Boje::Pik)
                std::cout&lt;&lt;element.second &lt;&lt; " ";
        }
        std::cout&lt;&lt;std::endl;
        std::cout &lt;&lt; "Tref: ";
        for(auto element :spil) {
            if(element.first == Boje::Tref)
                std::cout&lt;&lt;element.second &lt;&lt; " ";
        }
        std::cout&lt;&lt;std::endl;
        std::cout &lt;&lt; "Herc: ";
        for(auto element :spil) {
            if(element.first == Boje::Herc)
                std::cout&lt;&lt;element.second &lt;&lt; " ";
        }
        std::cout&lt;&lt;std::endl;
        std::cout &lt;&lt; "Karo: ";
        for(auto element : spil)
            if(element.first == Boje::Karo)
                std::cout&lt;&lt;element.second &lt;&lt; " ";
        std::cout&lt;&lt;std::endl;

    } catch(std::logic_error e) {
        std::cout&lt;&lt;"Izuzetak: "&lt;&lt;e.what()&lt;&lt;std::endl;
    } catch(std::range_error e) {
        std::cout&lt;&lt;"Izuzetak: "&lt;&lt;e.what()&lt;&lt;std::endl;
    }
    return 0;
}
</pre>
</body>
</html>
