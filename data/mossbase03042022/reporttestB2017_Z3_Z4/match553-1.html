<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z4/student2267.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z4/student1477.cpp<p></p><pre>
/B2017/2018: ZadaÄ‡a 3, Zadatak 4
#include &lt;iostream&gt;
#include &lt;list&gt;
#include &lt;utility&gt;
#include &lt;string&gt;
#include &lt;vector&gt;
#include &lt;stdexcept&gt;
#include &lt;map&gt;
#include &lt;algorithm&gt;
#include &lt;queue&gt;

enum class Boje {Pik, Tref, Herc, Karo};
<a name="0"></a><font color="#FF0000"><a href="match553-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_8.gif"/></a>

 std::vector&lt;std::string&gt; pomocni {"2", "3", "4", "5", "6", "7", "8", "9", "10", "J", "Q", "K", "A"};

std::list&lt;std::pair&lt;Boje, std::string&gt;&gt; KreirajSpil () {
    std::list&lt;std::pair&lt;Boje, std::string&gt;&gt;spil;
    for (int i = 0; i &lt; 13; i++) {
        spil.push_back (std::make_pair (Boje::Pik, pomocni[i]));
    }
    for (int i = 0; i &lt; 13; i++) {
        spil.push_back (std::make_pair (Boje::Tref, pomocni[i]));
    } 
    for (int i = 0; i &lt; 13; i++) {
        spil.push_back (std::make_pair (Boje::Herc, pomocni[i]));
    }
    for (int i = 0; i &lt; 13; i++) {
        spil.push_back (std::make_pair (Boje::Karo, pomocni[i]));
</font>    }
    return spil;
}

bool SpilSortiran (const std::list&lt;std::pair&lt;Boje, std::string&gt;&gt; &amp;spil) {
    for (auto it = spil.begin(); it!=spil.end(); it++) {
        bool nalazise (false);
        for (auto it2 = pomocni.begin(); it2 != pomocni.end(); it2++) {
            if (it-&gt;second == *it2) nalazise = true;
        }
        if (!nalazise) return false;
    }
    for (auto it = spil.begin(); it != spil.end(); it++) {
        Boje b = it-&gt;first;
        while (it != spil.end() &amp;&amp; b == it-&gt;first) {
            auto pozicijait = std::find(pomocni.begin(), pomocni.end(), it-&gt;second);
            auto it2 = it;
            it2++;
            std::vector&lt;std::string&gt;::iterator pozicijait2;
            if (it2 != spil.end() &amp;&amp; it2-&gt;first == b) {
                pozicijait2 = std::find(pomocni.begin(), pomocni.end(), it2-&gt;second);
                if (pozicijait2&lt;pozicijait) 
                    return false;
            }
            it++;
        }
        it--;
    }
    for (auto it = spil.begin(); it != spil.end(); it++) {
        for (auto it2 = it; it2 != spil.end(); it2++) {
            if (it2 == it) it2++;
            if(it2 == spil.end()) break;
            if (it-&gt;first &gt; it2-&gt;first) return false;
        }
    }
    return true;
}

void IzbaciKarte (std::list&lt;std::pair&lt;Boje, std::string&gt;&gt; &amp;spil, std::multimap&lt;Boje, std::string&gt; &amp;elementi) {
     int vel(0);
     for (auto it = spil.begin(); it != spil.end(); it++) vel++; // brojanje elemenata liste
     if (vel&gt;52 || !SpilSortiran(spil)) throw std::logic_error ("Neispravna lista!");
     for (auto it = elementi.begin(); it!=elementi.end();) {
         bool nalazise(false);
         for (auto it2 = spil.begin(); it2!=spil.end();) {
             if ((it-&gt;first == it2-&gt;first) &amp;&amp; (it-&gt;second == it2-&gt;second)) {
                 nalazise = true;
                 it2 = spil.erase (it2); // brisanje elementa iz liste
                 it = elementi.erase (it); // brisanje iz multimape
                 if(elementi.size() == 0 || spil.size() == 0) return;
                 break;
             }
             else it2++;
         }
         if(!nalazise) it++;
     }
     
 }
 
std::string BojaUString(Boje boja) {
    if(boja == Boje::Pik) return "Pik";
    else if(boja == Boje::Tref) return "Tref";
    else if(boja == Boje::Herc) return "Herc";
    return "Karo";
}

<a name="1"></a><font color="#00FF00"><a href="match553-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_2.gif"/></a>

std::queue&lt;std::pair&lt;std::string, std::string&gt;&gt; IzbaciKarteRazbrajanjem (std::list&lt;std::pair&lt;Boje, std::string&gt;&gt; &amp;spil, const short int &amp;r, const int &amp;b) {
    if (r&lt;1 || r&gt;52 || b&lt;1) throw std::logic_error ("Neispravni elementi za izbacivanje!");
    std::queue&lt;std::pair&lt;std::string, std::string&gt;&gt; red;
</font>    auto it = spil.begin();
    int novi;
    if (b &gt; spil.size()) novi = spil.size();
    else novi = b;
    for (int i = 0; i &lt; novi; i++) {
        for(int j = 0; j &lt; r - 1; j++) {
            it++;
            if(it == spil.end()) it = spil.begin();
        }
        std::string boja = BojaUString(it-&gt;first);
        red.push (std::make_pair(boja, it-&gt;second));
        it = spil.erase(it);
    }
    return red;
}
bool SmisleneKarte (std::queue&lt;std::pair&lt;std::string, std::string&gt;&gt; red) {
    while (!red.empty()) {
        bool nalazise (false);
        for (auto it = pomocni.begin(); it != pomocni.end(); it++) {
            if ((red.front()).second == *it) nalazise = true;
        }
        if (!nalazise) return false;
        std::string boja = (red.front()).first;
        if (boja != "Pik" &amp;&amp; boja != "Tref" &amp;&amp; boja != "Karo" &amp;&amp; boja != "Herc") return false;
        red.pop();
    }
    return true;
}

Boje StringUBoju (std::string s) {
    if (s == "Pik") return Boje::Pik;
    if (s == "Tref") return Boje::Tref;
    if (s == "Herc") return Boje::Herc;
    if (s == "Karo") return Boje::Karo;
}

void VratiPrvihNKarata (std::list&lt;std::pair&lt;Boje, std::string&gt;&gt;&amp;spil, std::queue&lt;std::pair&lt;std::string, std::string&gt;&gt;&amp;red, int n) {
    if (n &lt; 0) throw std::logic_error ("Broj n je besmislen!");
     if (n &gt; red.size()) throw std::range_error ("Nedovoljno karata u redu!");
     if (!SmisleneKarte(red)) throw std::logic_error ("Neispravne karte!");
     if (spil.size() &gt; 52 || !SpilSortiran(spil)) throw std::logic_error ("Neispravna lista!");
     for (int i = 0; i &lt; n; i++) {
        Boje boja = StringUBoju ((red.front()).first);
        for (auto it = spil.begin(); it != spil.end(); it++) {
            if (it-&gt;first == boja) {
               auto pozicijaizspila = std::find (pomocni.begin(), pomocni.end(), it-&gt;second);
                auto pozicijaizreda = std::find (pomocni.begin(), pomocni.end(), (red.front()).second);
                while (it != spil.end() &amp;&amp; pozicijaizspila != pomocni.end() &amp;&amp; pozicijaizspila &lt; pozicijaizreda) {
                    if (it-&gt;second == *pozicijaizspila) it++;
                    pozicijaizspila++;
                }
            spil.insert (it, std::make_pair(boja, (red.front()).second));
            red.pop();
            break;
            }
        }
    }
}

int main ()
{
    std::cout &lt;&lt; "Unesite korak razbrajanja: ";
    short int r;
    std::cin &gt;&gt; r;
    std::cout &lt;&lt; "Unesite broj karata koje zelite izbaciti: ";
    int b;
    std::cin &gt;&gt; b;
    auto spil = KreirajSpil();
    std::queue&lt;std::pair&lt;std::string, std::string&gt;&gt; red;
    try {
      red = IzbaciKarteRazbrajanjem (spil, r, b);
    } catch (std::logic_error e) {
        std::cout &lt;&lt; "Izuzetak: " &lt;&lt; e.what() &lt;&lt; std::endl;
        return 0;
    }
    std::cout &lt;&lt; "U spilu trenutno ima " &lt;&lt; spil.size() &lt;&lt; " karata, i to: ";
    std::cout &lt;&lt; std::endl &lt;&lt; "Pik: ";
    for (auto it = spil.begin(); it != spil.end(); it++) {
        if (BojaUString(it-&gt;first) == "Pik") std::cout &lt;&lt; it-&gt;second &lt;&lt; " ";
    }
    std::cout &lt;&lt; std::endl &lt;&lt; "Tref: ";
    for (auto it = spil.begin(); it != spil.end(); it++) {
        if (BojaUString(it-&gt;first) == "Tref") std::cout &lt;&lt; it-&gt;second &lt;&lt; " ";
    }
    std::cout &lt;&lt; std::endl &lt;&lt; "Herc: ";
    for (auto it = spil.begin(); it != spil.end(); it++) {
        if (BojaUString(it-&gt;first) == "Herc") std::cout &lt;&lt; it-&gt;second &lt;&lt; " ";
    }
    std::cout &lt;&lt; std::endl &lt;&lt; "Karo: ";
    for (auto it = spil.begin(); it != spil.end(); it++) {
        if (BojaUString(it-&gt;first) == "Karo") std::cout &lt;&lt; it-&gt;second &lt;&lt; " ";
    }
    std::cout &lt;&lt; std::endl &lt;&lt; "Unesite broj karata koje zelite vratiti u spil: ";
    int n;
    std::cin &gt;&gt; n;
   try {
        VratiPrvihNKarata (spil, red, n);
   } catch (std::logic_error e) {
       std::cout &lt;&lt; "Izuzetak: " &lt;&lt; e.what();
       return 0;
   } catch (std::range_error r) {
       std::cout &lt;&lt; "Izuzetak: " &lt;&lt; r.what();
       return 0;
   }
    std::cout &lt;&lt; "U spilu trenutno ima " &lt;&lt; spil.size() &lt;&lt; " karata, i to: ";
    std::cout &lt;&lt; std::endl &lt;&lt; "Pik: ";
    for (auto it = spil.begin(); it != spil.end(); it++) {
        if (BojaUString(it-&gt;first) == "Pik") std::cout &lt;&lt; it-&gt;second &lt;&lt; " ";
    }
    std::cout &lt;&lt; std::endl &lt;&lt; "Tref: ";
    for (auto it = spil.begin(); it != spil.end(); it++) {
        if (BojaUString(it-&gt;first) == "Tref") std::cout &lt;&lt; it-&gt;second &lt;&lt; " ";
    }
    std::cout &lt;&lt; std::endl &lt;&lt; "Herc: ";
    for (auto it = spil.begin(); it != spil.end(); it++) {
        if (BojaUString(it-&gt;first) == "Herc") std::cout &lt;&lt; it-&gt;second &lt;&lt; " ";
    }
    std::cout &lt;&lt; std::endl &lt;&lt; "Karo: ";
    for (auto it = spil.begin(); it != spil.end(); it++) {
        if (BojaUString(it-&gt;first) == "Karo") std::cout &lt;&lt; it-&gt;second &lt;&lt; " ";
    }
	return 0;
}
</pre>
</body>
</html>
