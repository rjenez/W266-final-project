<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z4/student6874.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z4/student6874.cpp<p></p><pre>
/B2017/2018: ZadaÄ‡a 3, Zadatak 4
#include &lt;iostream&gt;
#include &lt;list&gt;
#include &lt;vector&gt;
#include &lt;string&gt;
#include &lt;map&gt;
#include &lt;queue&gt;
#include &lt;stdexcept&gt;

enum class Boje {Pik, Tref, Herc, Karo};
std::vector&lt;std::string&gt; karte = {"2", "3", "4", "5", "6", "7", "8", "9", "10", "J", "Q", "K", "A"};

int PronadjiPoziciju (std::pair&lt;Boje, std::string&gt; karta) {
    for (int i = 0 ; i &lt; karte.size() ; i++)
        if (karta.second == karte.at(i))
            return i;
        return - 1;
}

std::list&lt;std::pair&lt;Boje, std::string&gt;&gt; KreirajSpil() {
    std::list&lt;std::pair&lt;Boje, std::string&gt;&gt; spil;
    for (int i = 0 ; i &lt; 13 ; i++)
        spil.push_back({Boje::Pik, karte.at(i)});
    for (int i = 0 ; i &lt; 13 ; i++)
        spil.push_back({Boje::Tref, karte.at(i)});
    for (int i = 0 ; i &lt; 13 ; i++)
        spil.push_back({Boje::Herc, karte.at(i)});
    for (int i = 0 ; i &lt; 13 ; i++)
        spil.push_back({Boje::Karo, karte.at(i)});
    
    return spil;
}

void IspitajKorektnostListe (std::list&lt;std::pair&lt;Boje, std::string&gt;&gt; &amp;spil) {
    if (spil.size() &gt; 52)
        throw std::logic_error ("Neispravna lista!");
    for (std::list&lt;std::pair&lt;Boje, std::string&gt;&gt;::iterator it = spil.begin() ; it != spil.end() ; it++) {
        bool besmislen = true;
        for (int i = 0 ; i &lt; karte.size() ; i++)
            if (it-&gt;second == karte.at(i))
                besmislen = false;
        for (std::list&lt;std::pair&lt;Boje, std::string&gt;&gt;::iterator itj = spil.begin() ; itj != it ; itj++)
            if (itj-&gt;first == it-&gt;first &amp;&amp; itj-&gt;second == it-&gt;second) {
                besmislen = true;
                break;
            }
            
        if (besmislen == true)
            throw std::logic_error ("Neispravna lista!");
            
        if (it != spil.begin()) {
            std::pair&lt;Boje, std::string&gt; drugi = *it;
            it--;
            std::pair&lt;Boje, std::string&gt; prvi = *it;
            it++;
            if (prvi.first == drugi.first) {
                int pozPrvog = PronadjiPoziciju(prvi), pozDrugog = PronadjiPoziciju(drugi);
                if (pozPrvog &gt; pozDrugog)
                    throw std::logic_error ("Neispravna lista!");
            }
        }
        
    }
}
    
<a name="6"></a><font color="#00FF00"><a href="match412-1.html#6" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_1.gif"/></a>

    void IzbaciKarte (std::list&lt;std::pair&lt;Boje, std::string&gt;&gt; &amp;spil, std::multimap&lt;Boje, std::string&gt; &amp;izbaci) {
        IspitajKorektnostListe(spil);
</font>        for (std::multimap&lt;Boje, std::string&gt;::iterator iti = izbaci.begin() ; iti != izbaci.end() ; iti++) {
            bool postoji = false;
            for (/*std::list&lt;std::pair&lt;Boje, std::string&gt;::iterator*/auto itj = spil.begin() ; itj != spil.end() ; itj++)
                if (iti-&gt;first == itj-&gt;first &amp;&amp; iti-&gt;second == itj-&gt;second) {
                    postoji = true;
                    spil.remove({iti-&gt;first, iti-&gt;second});
                    break;
                }
            if (postoji == true)
                iti = izbaci.erase(iti);
            else
                iti++;
        }
        return;
    }


std::queue&lt;std::pair&lt;std::string, std::string&gt;&gt; IzbaciKarteRazbrajanjem (std::list&lt;std::pair&lt;Boje, std::string&gt;&gt; &amp;spil, const short int r, const int b) {
    if (r &lt; 1 || r &gt; 52 || b &lt; 1)
        throw std::logic_error("Neispravni elementi za izbacivanje!");
    IspitajKorektnostListe(spil);
    std::queue&lt;std::pair&lt;std::string, std::string&gt;&gt; izbaceneKarte;
    int pozicija = 0;
    std::list&lt;std::pair&lt;Boje, std::string&gt;&gt;::iterator it = spil.begin();
    while (izbaceneKarte.size() != b &amp;&amp; spil.size() != 0) {
        int brojac = 1;
        while (brojac &lt; r) {
            it++;
            brojac++;
            if (it == spil.end())
                it = spil.begin();
        }
        std::string boja;
        switch (int(it-&gt;first)) {
            case 0:
                boja = "Pik";
                break;
            case 1:
                boja = "Tref";
                break;
            case 2:
                boja = "Herc";
                break;
            case 3:
                boja = "Karo";
                break;
        }
        izbaceneKarte.push({boja, it-&gt;second});
        it = spil.erase(it);
    }
    return izbaceneKarte;
}

void VratiPrvihNKarata (std::list&lt;std::pair&lt;Boje, std::string&gt;&gt; &amp;spil, std::queue&lt;std::pair&lt;std::string, std::string&gt;&gt; &amp;vratiti, int n) {
    if (n &lt; 0)
        throw std::domain_error ("Broj n je besmislen!");
    else if (n &gt; vratiti.size())
        throw std::range_error ("Nedovoljno karata u redu!");
        
    for (int i = 0 ; i &lt; vratiti.size() ; i++) {
        std::pair&lt;std::string, std::string&gt; karta = vratiti.front();
        vratiti.pop();
        bool korektna = false;
        for (int j = 0 ; j &lt; karte.size() ; j++)
            if (karta.second == karte.at(j)) {
                korektna = true;
                break;
            }
        if (!korektna || (karta.first != "Pik" &amp;&amp; karta.first != "Tref" &amp;&amp; karta.first != "Herc" &amp;&amp; karta.first != "Karo"))
            throw std::logic_error ("Neispravne karte!");
        vratiti.push(karta);
    }
    
    IspitajKorektnostListe(spil);
    
    for (int i = 0 ; i &lt; n ; i++) {
        std::pair&lt;std::string, std::string&gt; temp = vratiti.front();
        vratiti.pop();
        Boje boja;
        if (temp.first == "Pik")
            boja = Boje::Pik;
        else if (temp.first == "Tref")
            boja = Boje::Tref;
        else if (temp.first == "Herc")
            boja = Boje::Herc;
        else if (temp.first == "Karo")
            boja = Boje::Karo;
            
        std::pair&lt;Boje, std::string&gt; karta = {boja, temp.second};
        int pozicijaKarte = PronadjiPoziciju(karta);
        std::list&lt;std::pair&lt;Boje, std::string&gt;&gt;::iterator it = spil.begin();
        it++;
        for (it; it != spil.end() ; it++) {
            if (pozicijaKarte == 0 &amp;&amp; karta.first == Boje::Pik)
                spil.push_front(karta);
            else if (pozicijaKarte == 0 &amp;&amp; it-&gt;first == karta.first)
                spil.insert(it, karta);
            else if (pozicijaKarte == 12 &amp;&amp; karta.first == Boje::Karo)
                spil.push_back(karta);
            else if (pozicijaKarte == 12 &amp;&amp; int(it-&gt;first) == int(karta.first) + 1)
                spil.insert(it, karta);
            else if (it-&gt;first == karta.first) {
                int pozTrenutne = PronadjiPoziciju(*it);
                it--;
                int pozPrethodne = PronadjiPoziciju(*it);
                it++;
                if (pozicijaKarte &gt; pozPrethodne &amp;&amp; pozicijaKarte &lt; pozTrenutne)
                    spil.insert(it, karta);
            }
                
        }
    }
}

void IspisiSpil (std::list&lt;std::pair&lt;Boje, std::string&gt;&gt; &amp;spil) {
    std::list&lt;std::pair&lt;Boje, std::string&gt;&gt;::iterator it = spil.begin();
    std::cout &lt;&lt; "U spilu trenutno ima " &lt;&lt; spil.size() &lt;&lt; " karata, i to:" &lt;&lt; std::endl;
    if (it != spil.end() &amp;&amp; it-&gt;first == Boje::Pik) {
<a name="2"></a><font color="#0000FF"><a href="match412-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_1.gif"/></a>

        std::cout &lt;&lt; "Pik: ";
        while (it != spil.end() &amp;&amp; it-&gt;first == Boje::Pik) {
            std::cout &lt;&lt; it-&gt;second &lt;&lt; " ";
            it++;
        }
        std::cout &lt;&lt; std::endl;
</font>    }
    if (it != spil.end() &amp;&amp; it-&gt;first == Boje::Tref) {
<a name="3"></a><font color="#00FFFF"><a href="match412-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_1.gif"/></a>

        std::cout &lt;&lt; "Tref: ";
        while (it != spil.end() &amp;&amp; it-&gt;first == Boje::Tref) {
            std::cout &lt;&lt; it-&gt;second &lt;&lt; " ";
            it++;
        }
        std::cout &lt;&lt; std::endl;
</font>    }
    if (it != spil.end() &amp;&amp; it-&gt;first == Boje::Herc) {
<a name="4"></a><font color="#FF00FF"><a href="match412-1.html#4" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_1.gif"/></a>

        std::cout &lt;&lt; "Herc: ";
        while (it != spil.end() &amp;&amp; it-&gt;first == Boje::Herc) {
            std::cout &lt;&lt; it-&gt;second &lt;&lt; " ";
            it++;
        }
        std::cout &lt;&lt; std::endl;
</font>    }
    if (it != spil.end() &amp;&amp; it-&gt;first == Boje::Karo) {
<a name="0"></a><font color="#FF0000"><a href="match412-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_2.gif"/></a>

        std::cout &lt;&lt; "Karo: ";
        while (it != spil.end() &amp;&amp; it-&gt;first == Boje::Karo) {
            std::cout &lt;&lt; it-&gt;second &lt;&lt; " ";
            it++;
        }
        std::cout &lt;&lt; std::endl;
    }
    
}

int main ()
{
    try{
</font>        std::cout &lt;&lt; "Unesite korak razbrajanja: ";
        int korak;
        std::cin &gt;&gt; korak;
        std::cout &lt;&lt; "Unesite broj karata koje zelite izbaciti: ";
        int n;
        std::cin &gt;&gt; n;
        
<a name="1"></a><font color="#00FF00"><a href="match412-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_1.gif"/></a>

        std::list&lt;std::pair&lt;Boje, std::string&gt;&gt; spil(KreirajSpil());
        std::queue&lt;std::pair&lt;std::string, std::string&gt;&gt; izbacene(IzbaciKarteRazbrajanjem(spil, korak, n));
</font>        IspisiSpil(spil);
        
        std::cout &lt;&lt; "Unesite broj karata koje zelite vratiti u spil: ";
        int vracanje;
<a name="5"></a><font color="#FF0000"><a href="match412-1.html#5" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_1.gif"/></a>

        std::cin &gt;&gt; vracanje;
        VratiPrvihNKarata(spil, izbacene, vracanje);
        IspisiSpil(spil);
    }
    catch(std::logic_error e) {
        std::cout &lt;&lt; "Izuzetak: " &lt;&lt; e.what() &lt;&lt; std::endl;
</font>    }
    catch(std::domain_error e) {
        std::cout &lt;&lt; "Izuzetak: " &lt;&lt; e.what() &lt;&lt; std::endl;
    }
    catch(std::range_error e) {
        std::cout &lt;&lt; "Izuzetak: " &lt;&lt; e.what() &lt;&lt; std::endl;
    }
    
	return 0;
}
</pre>
</body>
</html>
