<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z4/student7540.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z4/student2232.cpp<p></p><pre>
/B2017/2018: ZadaÄ‡a 3, Zadatak 4
#include &lt;iostream&gt;
#include &lt;list&gt;
#include &lt;map&gt;
#include &lt;stdexcept&gt;
#include &lt;string&gt;
#include &lt;utility&gt;
#include &lt;vector&gt;
#include &lt;queue&gt;
#include &lt;iterator&gt;

enum class Boje{Pik, Tref, Herc, Karo};
typedef std::list&lt;std::pair&lt;Boje, std::string&gt;&gt; Spil;
typedef std::queue&lt;std::pair&lt;std::string, std::string&gt;&gt; RedKarti;

std::vector&lt;std::string&gt; NaziviKarata {"2", "3", "4", "5", "6", "7", "8", "9", "10", "J", "Q", "K", "A"};

Spil KreirajSpil()
{
    Spil spil(52);
    int boje(0);
    for(auto it(spil.begin()); it!=spil.end(); it++) {
        for(int i(0); i&lt;int(NaziviKarata.size()); i++) {
            it-&gt;first=Boje(boje);
            it-&gt;second=NaziviKarata.at(i);
            it++;
        }
        it--;
        boje++;
    }
    return spil;
}


void IspravnostListe(const Spil &amp;spil)
{
    if(spil.size()&gt;52) throw std::logic_error("Neispravna lista!");
    for(auto it1(spil.begin()); it1!=spil.end(); it1++) {
        bool ispravan_element(false);
        int karta1;
        for(int i(0); i&lt;int(NaziviKarata.size()); i++) {
            if(it1-&gt;second==NaziviKarata.at(i)) {
                ispravan_element=true;
                karta1=i;
            }
        }
        if(ispravan_element) {
            for(auto it2(spil.begin()); it2!=it1; it2++) {
                if(it2-&gt;first&gt;it1-&gt;first) throw std::logic_error("Neispravna lista!");
                else if(it2-&gt;first==it1-&gt;first) {
                    int karta2;
                    for(int i(0); i&lt;int(NaziviKarata.size()); i++) {
                        if(it2-&gt;second==NaziviKarata.at(i)) {
                            karta2=i;
                        }
                    }
                    if(karta2&gt;=karta1) throw std::logic_error("Neispravna lista!");
                }
            }
        } else throw std::logic_error("Neispravna lista!");
    }
}

void IspravnostReda(RedKarti red)
{
    while(!red.empty()) {
<a name="4"></a><font color="#FF00FF"><a href="match497-0.html#4" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_1.gif"/></a>

        if(red.front().first=="Pik" || red.front().first=="Tref" || red.front().first=="Herc" || red.front().first=="Karo") {
            bool ispravan_element(false);
</font>            for(int i(0); i&lt;int(NaziviKarata.size()); i++) {
                if(red.front().second==NaziviKarata.at(i)) ispravan_element=true;
            }
            if(!ispravan_element) throw std::logic_error("Neispravne karte!");
        } else throw std::logic_error("Neispravne karte!");
        red.pop();
    }
}


void IzbaciKarte(Spil &amp;spil, std::multimap&lt;Boje, std::string&gt; &amp;karte)
{
    IspravnostListe(spil);
    for(auto it1(spil.begin()); it1!=spil.end(); it1++)
        for(auto it2(karte.begin()); it2!=karte.end(); it2++)
            if(it2-&gt;first==it1-&gt;first &amp;&amp; it2-&gt;second==it1-&gt;second) {
                it1=spil.erase(it1);
                it1--;
                karte.erase(it2);
                break;
            }
}

<a name="3"></a><font color="#00FFFF"><a href="match497-0.html#3" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_1.gif"/></a>

RedKarti IzbaciKarteRazbrajanjem (Spil &amp;spil, const short int &amp;r, const int &amp;b)
{
    if(r&lt;1 || r&gt;52 || b&lt;1) throw std::logic_error("Neispravni elementi za izbacivanje!");
    IspravnostListe(spil);
    RedKarti izbacene_karte;
    auto it(spil.begin());
</font>    for(int i=0; i&lt;b &amp;&amp; spil.size()&gt;0; i++) {
        for(int j=1; j&lt;r; j++) {
            if(it==spil.end()) it=spil.begin();
            it++;
        }
        if(it==spil.end()) it=spil.begin();
        switch(it-&gt;first) {
        case Boje::Pik:
            izbacene_karte.push({"Pik",it-&gt;second});
            break;
        case Boje::Tref:
            izbacene_karte.push({"Tref",it-&gt;second});
            break;
        case Boje::Herc:
            izbacene_karte.push({"Herc",it-&gt;second});
            break;
        case Boje::Karo:
            izbacene_karte.push({"Karo",it-&gt;second});
            break;
        }
        it=spil.erase(it);
    }
    return izbacene_karte;
}

void VratiPrvihNKarata(Spil &amp;spil, RedKarti izbacene_karte, int n)
{
    if(n&lt;0) throw std::domain_error("Broj n je besmislen!");
    if(n&gt;izbacene_karte.size()) throw std::range_error("Nedovoljno karata u redu!");
    IspravnostReda(izbacene_karte);
    IspravnostListe(spil);
<a name="0"></a><font color="#FF0000"><a href="match497-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_4.gif"/></a>

    for(int i(0); i&lt;n; i++) {
        Boje boja_karte;
        if(izbacene_karte.front().first=="Pik") boja_karte=Boje::Pik;
        else if(izbacene_karte.front().first=="Tref") boja_karte=Boje::Tref;
        else if(izbacene_karte.front().first=="Herc") boja_karte=Boje::Herc;
        else if(izbacene_karte.front().first=="Karo") boja_karte=Boje::Karo;
</font>        int pozicija;
        for(int j(0); j&lt;int(NaziviKarata.size()); j++) if(izbacene_karte.front().second==NaziviKarata.at(j)) pozicija=j+13*int(boja_karte);
        if(spil.size()==0) {
            spil.push_back({boja_karte, izbacene_karte.front().second});
            izbacene_karte.pop();
        }
        else {
            for(auto it(spil.begin()); it!=spil.end(); it++) {
                auto temp(it);
                temp++;
                if(temp==spil.end()) temp=spil.begin();
                int pozicija_prethodnog(-1), pozicija_narednog(-1);
                for(int j(0); j&lt;int(NaziviKarata.size()); j++) {
                    if(it-&gt;second==NaziviKarata.at(j)) pozicija_prethodnog=j+13*int(it-&gt;first);
                    if(temp-&gt;second==NaziviKarata.at(j)) pozicija_narednog=j+13*int(temp-&gt;first);
                    if(pozicija_narednog&gt;-1 &amp;&amp; pozicija_prethodnog&gt;-1) break;
                }
                if(temp==it){
                    if(pozicija_narednog&lt;pozicija) spil.push_back({boja_karte, izbacene_karte.front().second});
                    else if(pozicija_narednog&gt;pozicija) spil.insert(temp, {boja_karte, izbacene_karte.front().second});
                    else i--;
                    izbacene_karte.pop();
                    break;
                }
                else if(pozicija_prethodnog==pozicija || pozicija_narednog==pozicija) {
                    i--;
                    izbacene_karte.pop();
                    break;
                } else if((pozicija_prethodnog&lt;pozicija &amp;&amp; pozicija_narednog&gt;pozicija) || (pozicija&lt;pozicija_prethodnog &amp;&amp; pozicija&lt;pozicija_narednog &amp;&amp; pozicija_narednog&lt;pozicija_prethodnog)) {
                    spil.insert(temp, {boja_karte, izbacene_karte.front().second});
                    izbacene_karte.pop();
                    break;
                } else if(pozicija&gt;pozicija_prethodnog &amp;&amp; pozicija&gt;pozicija_narednog &amp;&amp; pozicija_prethodnog&gt;pozicija_narednog) {
                    spil.push_back({boja_karte,izbacene_karte.front().second});
                    izbacene_karte.pop();
                    break;
                }
            }
        }
    }

}

void IspisiKarte(const Spil &amp;spil)
{   
    IspravnostListe(spil);
    std::cout &lt;&lt; "U spilu trenutno ima " &lt;&lt; spil.size() &lt;&lt; " karata, i to:";
<a name="5"></a><font color="#FF0000"><a href="match497-0.html#5" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_1.gif"/></a>

    auto it(spil.begin());
    std::cout &lt;&lt; "\nPik:";
    while(it!=spil.end() &amp;&amp; it-&gt;first==Boje::Pik) { std::cout &lt;&lt; " " &lt;&lt; it-&gt;second; it++;}
</font>    std::cout &lt;&lt; "\nTref:";
    while(it!=spil.end() &amp;&amp; it-&gt;first==Boje::Tref) { std::cout &lt;&lt; " " &lt;&lt; it-&gt;second; it++;}
    std::cout &lt;&lt; "\nHerc:";
    while(it!=spil.end() &amp;&amp; it-&gt;first==Boje::Herc) { std::cout &lt;&lt; " " &lt;&lt; it-&gt;second; it++;}
    std::cout &lt;&lt; "\nKaro:";
    while(it!=spil.end() &amp;&amp; it-&gt;first==Boje::Karo) { std::cout &lt;&lt; " " &lt;&lt; it-&gt;second; it++;}
}


int main ()
{
<a name="1"></a><font color="#00FF00"><a href="match497-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_2.gif"/></a>

    Spil spil(KreirajSpil());
    std::cout &lt;&lt; "Unesite korak razbrajanja: ";
    short int r;
    std::cin &gt;&gt; r;
    std::cout &lt;&lt; "Unesite broj karata koje zelite izbaciti: ";
    int b;
    std::cin &gt;&gt; b;
    try {
        RedKarti izbacene_karte(IzbaciKarteRazbrajanjem(spil, r, b));
</font>        IspisiKarte(spil);
        std::cout &lt;&lt; "\nUnesite broj karata koje zelite vratiti u spil: ";
        int n;
<a name="2"></a><font color="#0000FF"><a href="match497-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_2.gif"/></a>

        std::cin &gt;&gt; n;
        VratiPrvihNKarata(spil, izbacene_karte, n);
        IspisiKarte(spil);

    } catch(std::range_error e) {
        std::cout &lt;&lt; "Izuzetak: "&lt;&lt; e.what() &lt;&lt; std::endl;
</font>    } catch(std::domain_error e) {
        std::cout &lt;&lt; "Izuzetak: "&lt;&lt; e.what() &lt;&lt; std::endl;
    } catch(std::logic_error e) {
        std::cout &lt;&lt; "Izuzetak: "&lt;&lt; e.what() &lt;&lt; std::endl;
    }
    return 0;
}
</pre>
</body>
</html>
