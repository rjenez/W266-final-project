<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z4/student2585.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z4/student4425.cpp<p></p><pre>
/B2017/2018: ZadaÄ‡a 3, Zadatak 4
#include &lt;iostream&gt;
#include &lt;list&gt;
#include &lt;utility&gt;
#include &lt;map&gt;
#include &lt;stdexcept&gt;
#include &lt;queue&gt;
#include &lt;string&gt;

enum class Boje {Pik, Tref, Herc, Karo};

typedef std::list&lt;std::pair&lt;Boje, std::string&gt;&gt; Spil;

Spil KreirajSpil(){
    Spil k;
    int i(0), a(0), p(0);
    Boje b;
    while(p!=4){
    while(i!=13){
        if(p==0)
        b=Boje::Pik;
        if(p==2)
        b=Boje::Herc;
        if(p==1)
        b=Boje::Tref;
        if(p==3)
        b=Boje::Karo;
        int n=a+2;
        std::string s;
        if(n&gt;=2&amp;&amp;n&lt;=10)
        s=std::to_string(n);
        if(n==11) s="J";
        if(n==12) s="Q";
        if(n==13) s="K";
        if(n==14) s="A";
        k.push_back(std::make_pair(b, s));
        a++;
        i++;
    }
    a=0;
    i=0;
    p++;}
    return k;
}

int U_int1(std::string s){
    int a;
    if(s=="2") a=2;
    else if(s=="3") a=3;
    else if(s=="4") a=4;
    else if(s=="5") a=5;
    else if(s=="6") a=6;
    else if(s=="7") a=7;
    else if(s=="8") a=8;
    else if(s=="9") a=9;
    else if(s=="10") a=10;
    else if(s=="J") a=11;
    else if(s=="Q") a=12;
    else if(s=="K") a=13;
    else{
        int i(15);
        while (1) {
            if(s==std::to_string(i)){
                a=i;
                break;
            }
            i++;
        }
    }
    return a;
}

void IzbaciKarte(Spil &amp;n, std::multimap&lt;Boje, std::string&gt; &amp;m){
    if(n.size()&gt;52) throw std::logic_error("Neispravna lista!");
    for(auto it=n.begin(); it!=n.end(); it++){
        if(!(it-&gt;first==Boje::Pik||it-&gt;first==Boje::Tref||it-&gt;first==Boje::Herc||it-&gt;first==Boje::Karo)) throw std::logic_error("Neispravna lista!");
        if(U_int1(it-&gt;second)&lt;2||U_int1(it-&gt;second)&gt;14) throw std::logic_error("Neispravna lista!");
    }
    auto it1=n.begin(), it2=it1;
    it2++;
    while(it1!=n.end()){
        while(it2!=n.end()){
            if((it1-&gt;first==it2-&gt;first)&amp;&amp;(U_int1(it1-&gt;second)&gt;U_int1(it2-&gt;second))) throw std::logic_error("Neispravna lista!");
            it2++;
        }
        it1++;
        it2=it1;
        if(it2==n.end()) break;
        it2++;
        if(it2==n.end()) break;
    }
    it1=n.begin();
    it2=it1;
    it2++;
    int i(0);
    while(it2!=n.end()){
        if(it1-&gt;first!=it2-&gt;first){
            i++;
            if(i==4) throw std::logic_error("Neispravna lista!");
            if(it1-&gt;first==Boje::Tref&amp;&amp;it2-&gt;first==Boje::Pik) throw std::logic_error("Neispravna lista!");
            if(it1-&gt;first==Boje::Herc&amp;&amp;(it2-&gt;first==Boje::Pik||it2-&gt;first==Boje::Tref)) throw std::logic_error("Neispravna lista!");
            if(it1-&gt;first==Boje::Karo&amp;&amp;it2-&gt;first!=Boje::Karo) throw std::logic_error("Neispravna lista!");
        }
        it1++;
        it2++;
    }
    for(auto it=n.begin(); it!=n.end(); it++){
        for(auto ite=m.begin(); ite!=m.end(); ite++){
            if((it-&gt;first==ite-&gt;first)&amp;&amp;(it-&gt;second==ite-&gt;second)){
                it=n.erase(it);
                ite=m.erase(ite);
            }
        }
    }
}

int U_int(std::string s){
    int a;
    if(s=="2") a=2;
    else if(s=="3") a=3;
    else if(s=="4") a=4;
    else if(s=="5") a=5;
    else if(s=="6") a=6;
    else if(s=="7") a=7;
    else if(s=="8") a=8;
    else if(s=="9") a=9;
    else if(s=="10") a=10;
    else if(s=="J") a=11;
    else if(s=="Q") a=12;
    else if(s=="K") a=13;
    else if(s=="A") a=14;
    else{
        int i(15);
        while (1) {
            if(s==std::to_string(i)){
                a=i;
                break;
            }
            i++;
        }
    }
    return a;
}

std::string U_string(int a){
    std::string s;
    int i(0);
     if(a&gt;=2&amp;&amp;a&lt;=10)
        {s=std::to_string(a);i=1;}
        if(a==11) {s="J";i=1;}
        if(a==12) {s="Q";i=1;}
        if(a==13) {s="K";i=1;}
        if(a==14) {s="A";i=1;}
        if(i==0) s=std::to_string(a);
    return s;
}

std::queue&lt;std::pair&lt;std::string, std::string&gt;&gt; IzbaciKarteRazbrajanjem(Spil &amp;n, short int &amp;r, const int &amp;b){
    if(r&gt;52||r&lt;1||b&lt;1) throw std::logic_error("Neispravni elementi za izbacivanje!");
    if(n.size()&gt;52)  throw std::logic_error("Neispravna lista!");
    auto it1=n.begin(), it2=it1;
    it2++;
    while(it1!=n.end()){
        while(it2!=n.end()){
            if((it1-&gt;first==it2-&gt;first)&amp;&amp;(U_int(it1-&gt;second)&gt;U_int(it2-&gt;second))) throw std::logic_error("Neispravna lista!");
            it2++;
        }
        it1++;
        it2=it1;
        if(it2==n.end()) break;
        it2++;
        if(it2==n.end()) break;
    }
    it1=n.begin();
    it2=it1;
    it2++;
    int i(0);
    while(it2!=n.end()){
        if(it1-&gt;first!=it2-&gt;first){
            i++;
            if(i==4) throw std::logic_error("Neispravna lista!");
            if(it1-&gt;first==Boje::Tref&amp;&amp;it2-&gt;first==Boje::Pik) throw std::logic_error("Neispravna lista!");
            if(it1-&gt;first==Boje::Herc&amp;&amp;(it2-&gt;first==Boje::Pik||it2-&gt;first==Boje::Tref)) throw std::logic_error("Neispravna lista!");
            if(it1-&gt;first==Boje::Karo&amp;&amp;it2-&gt;first!=Boje::Karo) throw std::logic_error("Neispravna lista!");
        }
        it1++;
        it2++;
    }
    for(auto it=n.begin(); it!=n.end(); it++){
        if(!(it-&gt;first==Boje::Pik||it-&gt;first==Boje::Tref||it-&gt;first==Boje::Herc||it-&gt;first==Boje::Karo)) throw std::logic_error("Neispravna lista!");
        if(U_int(it-&gt;second)&gt;14||U_int(it-&gt;second)&lt;2) throw std::logic_error("Neispravna lista!");
    }
    std::queue&lt;std::pair&lt;std::string, std::string&gt;&gt; skup_par;
    short int korak(r); // k1(r);
    int br(b), pom(0);
    auto it=n.begin();
    while(br&gt;0&amp;&amp;n.size()&gt;0){
        while(pom!=korak-1){
            pom++;
            it++;
            if(it==n.end())
            it=n.begin();
        }
         std::string s;
                if(it-&gt;first==Boje::Pik) s="Pik";
                if(it-&gt;first==Boje::Tref) s="Tref";
                if(it-&gt;first==Boje::Herc) s="Herc";
                if(it-&gt;first==Boje::Karo) s="Karo";
                skup_par.push(std::make_pair(s, it-&gt;second));
        it=n.erase(it);
        if(n.size()==0) break;
        if(it==n.end()){
            it=n.begin();}
        pom=0;
        br--;
    }
    return skup_par;
}

void Sortiraj_Spil(Spil &amp;n){
    auto it=n.begin(), ite=it;
    ite++;
    Boje b;
    std::string s;
    while(it!=n.end()){
        while(ite!=n.end()){
            if((ite-&gt;first==it-&gt;first)&amp;&amp;(U_int(it-&gt;second)&gt;U_int(ite-&gt;second))){
                b=it-&gt;first;
                s=it-&gt;second;
                it-&gt;first=ite-&gt;first;
                it-&gt;second=ite-&gt;second;
                ite-&gt;first=b;
                ite-&gt;second=s;
            }
            ite++;
        }
        it++;
        ite=it;
        if(ite==n.end()) break;
        ite++;
        if(ite==n.end()) break;
    }
}
   void Sortiraj_Spil_Po_Boji(Spil &amp;n){
    auto it=n.begin(), ite=it;
    ite++;
    Boje b;
    std::string s;
    while(it!=n.end()){
        while(ite!=n.end()){
            if(ite-&gt;first&lt;it-&gt;first){
                b=it-&gt;first;
                s=it-&gt;second;
                it-&gt;first=ite-&gt;first;
                it-&gt;second=ite-&gt;second;
                ite-&gt;first=b;
                ite-&gt;second=s;
            }
            ite++;
        }
        it++;
        ite=it;
        if(ite==n.end()) break;
        ite++;
        if(ite==n.end()) break;
    }
}
    
void VratiPrvihNKarata(Spil &amp;n, std::queue&lt;std::pair&lt;std::string, std::string&gt;&gt; &amp;q, int m){
    if(m&lt;0) throw std::domain_error("Broj n je besmislen!");
    if(m&gt;q.size()) throw std::range_error("Nedovoljno karata u redu!");
     if(n.size()&gt;52)  throw std::logic_error("Neispravna lista!");
     auto it1=n.begin(), it2=it1;
     it2++;
     while(it1!=n.end()){
         while(it2!=n.end()){
             if((it1-&gt;first==it2-&gt;first)&amp;&amp;(U_int(it1-&gt;second)&gt;U_int(it2-&gt;second))) throw std::logic_error("Neispravna lista!");
             it2++;
         }
         it1++;
         it2=it1;
         if(it2==n.end()) break;
         it2++;
         if(it2==n.end()) break;
     }
     it1=n.begin();
     it2=it1;
     it2++;
     int i(0);
     while(it2!=n.end()){
         if(it1-&gt;first!=it2-&gt;first){
             i++;
             if(i==4) throw std::logic_error("Neispravna lista");
             if(it1-&gt;first==Boje::Tref&amp;&amp;it2-&gt;first==Boje::Pik) throw std::logic_error("Neispravna lista!");
             if(it1-&gt;first==Boje::Herc&amp;&amp;(it2-&gt;first==Boje::Tref||it2-&gt;first==Boje::Pik)) throw std::logic_error("Neispravna lista!");
             if(it1-&gt;first==Boje::Karo&amp;&amp;it2-&gt;first!=Boje::Karo) throw std::logic_error("Neispravna lista");
         }
         it2++;
         it1++;
     }
        for(auto it=n.begin(); it!=n.end(); it++){
        if(!(it-&gt;first==Boje::Pik||it-&gt;first==Boje::Tref||it-&gt;first==Boje::Herc||it-&gt;first==Boje::Karo)) throw std::logic_error("Neispravna lista!");
        if(U_int(it-&gt;second)&gt;14||U_int(it-&gt;second)&lt;2) throw std::logic_error("Neispravna lista!");
    }
    while(m!=0){
        int brojac(0);
        if(U_int(q.front().second)&gt;14||U_int(q.front().second)&lt;2) throw std::logic_error("Neispravne karate!");
        if(!(q.front().first=="Pik"||q.front().first=="Tref"||q.front().first=="Herc"||q.front().first=="Karo")) throw std::logic_error("Neispravne karate!");
            std::string s1(q.front().second);
            auto it=n.begin();
            if(n.size()==0){
                while(!q.empty()){
                if(U_int(q.front().second)&gt;14||U_int(q.front().second)&lt;2) throw std::logic_error("Neispravne karate!");
                if(!(q.front().first=="Pik"||q.front().first=="Herc"||q.front().first=="Tref"||q.front().first=="Karo")) throw std::logic_error("Neispravne karate!");
                if(q.front().first=="Pik")
                n.push_front(std::make_pair(Boje::Pik, q.front().second));
                if(q.front().first=="Herc")
                n.insert(it, std::make_pair(Boje::Herc, q.front().second));
                if(q.front().first=="Tref")
                n.insert(it, std::make_pair(Boje::Tref, q.front().second));
                if(q.front().first=="Karo")
                n.push_front(std::make_pair(Boje::Karo, q.front().second));
                q.pop();
                m--;
                it++;
                if(m==0)break;}
                if(m==0){Sortiraj_Spil_Po_Boji(n);
                Sortiraj_Spil(n); continue;}
            }else{
            if(q.front().first=="Pik"){
                if(it-&gt;first!=Boje::Pik) {n.push_front(std::make_pair(Boje::Pik, q.front().second)); q.pop(); m--; continue;}
        while(it!=n.end()&amp;&amp;U_int(it-&gt;second)&lt;U_int(s1)&amp;&amp;it-&gt;first!=Boje::Pik){
            if(it-&gt;first==Boje::Pik&amp;&amp;U_int(it-&gt;second)==U_int(q.front().second)){
                brojac++;
                break;
            }
            it++; 
        }
        if(brojac&gt;0){
            q.pop();
            continue;
        }
            if(q.front().first!="Tref"&amp;&amp;q.front().first!="Herc"&amp;&amp;q.front().first!="Karo")
                n.insert(it, std::make_pair(it-&gt;first, q.front().second)); 
            }
            if(q.front().first=="Tref"){
            while(it-&gt;first&lt;=Boje::Tref) it++;
            if(it-&gt;first==Boje::Herc||it-&gt;first==Boje::Karo){
                 n.insert(it, std::make_pair(Boje::Tref, q.front().second));
                 m--;
                 q.pop();
                 continue;
            }
        while(it!=n.end()&amp;&amp;U_int(it-&gt;second)&lt;U_int(s1)&amp;&amp;it-&gt;first!=Boje::Tref){
             if(it-&gt;first==Boje::Tref&amp;&amp;U_int(it-&gt;second)==U_int(q.front().second)){
                brojac++;
                break;
            }
            it++; 
        }
        if(brojac&gt;0){
            q.pop();
            continue;
        }
         if(q.front().first!="Pik"&amp;&amp;q.front().first!="Herc"&amp;&amp;q.front().first!="Karo")
                n.insert(it, std::make_pair(it-&gt;first, q.front().second));
            }
            if(q.front().first=="Herc"){
            while(it-&gt;first&lt;=Boje::Herc) it++;
             if(it-&gt;first==Boje::Karo){
                 n.insert(it, std::make_pair(Boje::Herc, q.front().second));
                 m--;
                 q.pop();
                 continue;
            }
        while(it!=n.end()&amp;&amp;U_int(it-&gt;second)&lt;U_int(s1)){
             if(it-&gt;first==Boje::Herc&amp;&amp;U_int(it-&gt;second)==U_int(q.front().second)){
                brojac++;
                break;
            }
            it++; 
        }
        if(brojac&gt;0){
            q.pop();
            continue;
        }
         if(q.front().first!="Tref"&amp;&amp;q.front().first!="Pik"&amp;&amp;q.front().first!="Karo")
                n.insert(it, std::make_pair(it-&gt;first, q.front().second));
            }
            if(q.front().first=="Karo"){
                for(auto iter=n.begin(); iter!=n.end(); iter++){
                     if(iter-&gt;first==Boje::Karo&amp;&amp;U_int(iter-&gt;second)==U_int(q.front().second)){
                brojac++;
                break;
            }
                }
                if(brojac&gt;0){
                    q.pop();
                    continue;
                }
                 n.push_back(std::make_pair(Boje::Karo, q.front().second));
                 m--;
                 q.pop();
                 continue;}
            q.pop();
            if(q.size()==0) break;
        m--; 
    }}
    Sortiraj_Spil(n);
}

int main ()
{
    Spil spil(KreirajSpil());
    try{
        int o(0);
        std::cout&lt;&lt;"Unesite korak razbrajanja: ";
        short int r;
        std::cin&gt;&gt;r;
        std::cout&lt;&lt;"Unesite broj karata koje zelite izbaciti: ";
        int b;
        std::cin&gt;&gt;b;
        std::queue&lt;std::pair&lt;std::string, std::string&gt;&gt; q(IzbaciKarteRazbrajanjem(spil, r, b));
        std::cout&lt;&lt;"U spilu trenutno ima "&lt;&lt;spil.size()&lt;&lt;" karata, i to: "&lt;&lt;std::endl;
         for(auto it=spil.begin(); it!=spil.end(); it++){
            std::cout&lt;&lt;"Pik: ";
            while(it-&gt;first==Boje::Pik){
                std::cout&lt;&lt;it-&gt;second&lt;&lt;" ";
                it++;
                o++;
                if(o==spil.size()) break;
            }
<a name="0"></a><font color="#FF0000"><a href="match893-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_0.gif"/></a>

            std::cout&lt;&lt;std::endl&lt;&lt;"Tref: ";
            while(it-&gt;first==Boje::Tref){
                std::cout&lt;&lt;it-&gt;second&lt;&lt;" ";
</font>                it++;
                o++;
                if(o==spil.size()) break;
            }
<a name="1"></a><font color="#00FF00"><a href="match893-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_0.gif"/></a>

            std::cout&lt;&lt;std::endl&lt;&lt;"Herc: ";
            while(it-&gt;first==Boje::Herc){
                std::cout&lt;&lt;it-&gt;second&lt;&lt;" ";
</font>                it++;
                o++;
                if(o==spil.size()) break;
            }
<a name="2"></a><font color="#0000FF"><a href="match893-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_0.gif"/></a>

            std::cout&lt;&lt;std::endl&lt;&lt;"Karo: ";
            while(it-&gt;first==Boje::Karo){
                std::cout&lt;&lt;it-&gt;second&lt;&lt;" ";
</font>                it++;
                o++;
                if(o==spil.size()) break;
            }
            if(o==spil.size()) break;
        }
        std::cout&lt;&lt;std::endl&lt;&lt;"Unesite broj karata koje zelite vratiti u spil: ";
        int m;
        std::cin&gt;&gt;m;
      try{  
            VratiPrvihNKarata(spil, q, m);
            std::cout&lt;&lt;"U spilu trenutno ima "&lt;&lt;spil.size()&lt;&lt;" karata, i to: "&lt;&lt;std::endl;
            o=0;
            for(auto ite=spil.begin(); ite!=spil.end(); ite++){
                std::cout&lt;&lt;"Pik: ";
                while(ite-&gt;first==Boje::Pik){
                std::cout&lt;&lt;ite-&gt;second&lt;&lt;" ";
                ite++;
                o++;
                if(o==spil.size()) break;
            }
<a name="3"></a><font color="#00FFFF"><a href="match893-0.html#3" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_0.gif"/></a>

           std::cout&lt;&lt;std::endl&lt;&lt;"Tref: ";
            while(ite-&gt;first==Boje::Tref){
                std::cout&lt;&lt;ite-&gt;second&lt;&lt;" ";
</font>                ite++;
                o++;
                if(o==spil.size()) break;
            }
<a name="4"></a><font color="#FF00FF"><a href="match893-0.html#4" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_0.gif"/></a>

            std::cout&lt;&lt;std::endl&lt;&lt;"Herc: ";
            while(ite-&gt;first==Boje::Herc){
                std::cout&lt;&lt;ite-&gt;second&lt;&lt;" ";
</font>                ite++;
                o++;
                if(o==spil.size()) break;
            }
<a name="5"></a><font color="#FF0000"><a href="match893-0.html#5" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_0.gif"/></a>

            std::cout&lt;&lt;std::endl&lt;&lt;"Karo: ";
            while(ite-&gt;first==Boje::Karo){
                std::cout&lt;&lt;ite-&gt;second&lt;&lt;" ";
</font>                ite++;
                o++;
                if(o==spil.size()) break;
            }
            if(o==spil.size()) break;
        }}
        catch(std::domain_error iz1){
        std::cout&lt;&lt;"Izuzetak: "&lt;&lt;iz1.what();
    }
    catch(std::logic_error iz){
        std::cout&lt;&lt;"Izuzetak: "&lt;&lt;iz.what();
    }
    catch(std::range_error iz2){
        std::cout&lt;&lt;"Izuzetak: "&lt;&lt;iz2.what();
    }
   }
    catch(std::logic_error iz){
        std::cout&lt;&lt;"Izuzetak: "&lt;&lt;iz.what();
    }
	return 0;
}</pre>
</body>
</html>
