<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z4/student9416.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z4/student9188.cpp<p></p><pre>
/B2017/2018: ZadaÄ‡a 3, Zadatak 4
#include &lt;iostream&gt;
#include &lt;list&gt;
#include &lt;utility&gt;
#include &lt;string&gt;
#include &lt;map&gt;
#include &lt;iterator&gt;
#include &lt;queue&gt;

enum class Boje
{
    Pik, Tref, Herc, Karo
};
bool Broj(std::string x)
{
    if(x[0]&gt;='0' &amp;&amp; x[0]&lt;='9') return true;
    return false;
}
int PretvoriUbroj(std::string s)
{
    int broj(0);
    if(s=="J") {    broj=11;        return broj;}
    else if(s=="Q") {        broj=12;        return broj;    }
    else if(s=="K") {        broj=13;        return broj;    } 
    else if(s=="A") {        broj=14;        return broj;    }
    else if(s=="10") {        broj=10;        return broj;    }
    for(int i=0; i&lt;s.size(); i++) {
        broj+=s.at(i)-'0';
    }

    return broj;
}
void IspravnostListe(std::list&lt;std::pair&lt;Boje,std::string&gt;&gt; spil){
    if(spil.size()&gt;52) throw std::logic_error("Neispravna lista!");
    for(auto x : spil) {
        if(!(x.second.size()&gt;2 || x.second[0]=='A' || x.second[0]=='Q' || x.second[0]=='K' || x.second[0]=='J' || (x.second[0]&gt;='0' &amp;&amp; x.second[0]&lt;='9'))) throw std::logic_error("Neispravna lista!");
        if(!(x.first==Boje::Pik || x.first == Boje::Tref || x.first == Boje::Herc || x.first == Boje::Karo)) throw std::logic_error("Neispravna lista!");
    }
}
std::list&lt;std::pair&lt;Boje ,std::string&gt;&gt; KreirajSpil()
{
    std::list&lt;std::pair&lt;Boje, std::string&gt;&gt; vrati;
    int brojac(0);
    Boje boja;
    for(int j = 0; j &lt; 4; j++) {
        boja = Boje(brojac);
        for(int i = 2 ; i&lt;15; i++) {
            std::pair&lt;Boje,std::string&gt; pomocni;
            pomocni.first = boja;
            if(i&lt;10) pomocni.second.push_back('0'+i);
            else if(i==10) pomocni.second="10";
            else if(i==11) pomocni.second.push_back('J');
            else if(i==12) pomocni.second.push_back('Q');
            else if(i==13) pomocni.second.push_back('K');
            else if(i==14) pomocni.second.push_back('A');
            vrati.push_back(pomocni);
        }
        brojac++;

    }
    return vrati;
}
void IzbaciKarte(std::list&lt;std::pair&lt;Boje,std::string&gt;&gt; &amp;spil, std::multimap&lt;Boje,std::string&gt; &amp;mapa)
{
    IspravnostListe(spil);
    for(auto it = spil.begin(); it != spil.end(); it++) {
        auto it2 = mapa.find(it-&gt;first);
        if(it2!=mapa.end() &amp;&amp; it2-&gt;second == it-&gt;second) {
            mapa.erase(it2);
            it = spil.erase(it);
        } else continue;
    }

}
std::queue&lt;std::pair&lt;Boje,std::string&gt;&gt; IzbaciKarteRazbrajanjem(std::list&lt;std::pair&lt;Boje,std::string&gt;&gt; &amp;spil, const short int &amp;korak_razbrajanja, const int &amp;br_karata)
{
    if(korak_razbrajanja&lt;1 || korak_razbrajanja&gt;52 || br_karata&lt;1 ) throw std::logic_error("Neispravni elementi za izbacivanje!");
    IspravnostListe(spil);
    std::queue&lt;std::pair&lt;Boje,std::string&gt;&gt; arman;
    auto it = spil.begin();
    std::advance(it,korak_razbrajanja-1);
    int brojac(br_karata);
    while(brojac!=0) {
        arman.push(*it);
        it = spil.erase(it);
        for(int i = 0; i&lt;korak_razbrajanja-1; i++) {
            it++;
            if(it == spil.end()) it = spil.begin();
        }
        brojac--;
    }
    return arman;

}
<a name="0"></a><font color="#FF0000"><a href="match725-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_3.gif"/></a>

void IspisiSpil(const std::list&lt;std::pair&lt;Boje ,std::string&gt;&gt; &amp;spil)
{
    std::cout&lt;&lt;"Pik: ";
    for(auto it = spil.begin(); it != spil.end(); it++) {
        if((int)it-&gt;first==0) std::cout&lt;&lt;it-&gt;second&lt;&lt;" ";
    }

    std::cout&lt;&lt;std::endl&lt;&lt;"Tref: ";
</font><a name="1"></a><font color="#00FF00"><a href="match725-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_3.gif"/></a>

    for(auto it = spil.begin(); it != spil.end(); it++) {
        if((int)it-&gt;first==1) std::cout&lt;&lt;it-&gt;second&lt;&lt;" ";
    }

    std::cout&lt;&lt;std::endl&lt;&lt;"Herc: ";
</font><a name="2"></a><font color="#0000FF"><a href="match725-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_3.gif"/></a>

    for(auto it = spil.begin(); it != spil.end(); it++) {
        if((int)it-&gt;first==2) std::cout&lt;&lt;it-&gt;second&lt;&lt;" ";
    }
    std::cout&lt;&lt;std::endl&lt;&lt;"Karo: ";
</font><a name="3"></a><font color="#00FFFF"><a href="match725-0.html#3" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_2.gif"/></a>

    for(auto it = spil.begin(); it != spil.end(); it++) {
        if((int)it-&gt;first==3) std::cout&lt;&lt;it-&gt;second&lt;&lt;" ";
</font>    }
}

void VratiPrvihNKarata(std::list&lt;std::pair&lt;Boje,std::string&gt;&gt; &amp;spil, std::queue&lt;std::pair&lt;Boje,std::string&gt;&gt; &amp;red,int n)
{
    if(n&gt;red.size() &amp;&amp; n&gt;0) throw std::range_error("Nedovoljno karata u redu!");
    else if(n&lt;0) throw std::logic_error("Broj n je besmislen!");
    IspravnostListe(spil);
    int k(n);
    for(;;) {
        if(k==0) break;
        for(auto it = spil.begin(); it!=spil.end(); it++) {
            if(k==0) break;
            if((int)it-&gt;first == (int)red.front().first) {
                if(PretvoriUbroj(it-&gt;second) &gt; PretvoriUbroj(red.front().second)) {
                    spil.insert(it,red.front());
                    red.pop();
                    k--;
                } else if(PretvoriUbroj(it-&gt;second) &lt; PretvoriUbroj(red.front().second) &amp;&amp; PretvoriUbroj(it-&gt;second)==13 &amp;&amp; PretvoriUbroj(red.front().second)==14) {
                    it++;
                    spil.insert(it,red.front());
                    red.pop();
                    k--;
                }
            }
        }
    }
}
int main ()
{
    try {
        std::cout&lt;&lt;"Unesite korak razbrajanja: ";
        int korak_raz;
        std::cin&gt;&gt;korak_raz;
        std::cout&lt;&lt;"Unesite broj karata koje zelite izbaciti: ";
        int br_karata;
        std::cin&gt;&gt;br_karata;
        auto spil(KreirajSpil());
        auto red(IzbaciKarteRazbrajanjem(spil,korak_raz,br_karata));
        std::cout&lt;&lt;"U spilu trenutno ima "&lt;&lt;spil.size()&lt;&lt;" karata, i to:"&lt;&lt;std::endl;
        IspisiSpil(spil);
        std::cout&lt;&lt;std::endl&lt;&lt;"Unesite broj karata koje zelite vratiti u spil: ";
        int n;
        std::cin&gt;&gt;n;
        VratiPrvihNKarata(spil,red,n);
        std::cout&lt;&lt;"U spilu trenutno ima "&lt;&lt;spil.size()&lt;&lt;" karata, i to:"&lt;&lt;std::endl;
        IspisiSpil(spil);
    } catch (std::range_error izuzetak) {
        std::cout&lt;&lt;"Izuzetak: "&lt;&lt;izuzetak.what();
    } catch (std::logic_error izuzetak) {
        std::cout&lt;&lt;"Izuzetak: "&lt;&lt;izuzetak.what();
    }
    return 0;
}
</pre>
</body>
</html>
