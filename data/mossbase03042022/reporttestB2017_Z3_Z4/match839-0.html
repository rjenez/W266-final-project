<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z4/student8288.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z4/student8288.cpp<p></p><pre>
/B2017/2018: Zadaaa 3, Zadatak 4
#include &lt;iostream&gt;
#include &lt;list&gt;
#include &lt;vector&gt;
#include &lt;string&gt;
#include &lt;map&gt;
#include &lt;memory&gt;
#include &lt;queue&gt;
#include &lt;stdexcept&gt;

enum class Boje {Pik, Tref, Herc, Karo};

std::list&lt;std::pair&lt;Boje,std::string&gt;&gt; KreirajSpil() {

    std::list&lt;std::pair&lt;Boje,std::string&gt;&gt; pocetnalista;
    std::vector&lt;std::string&gt; Vrijednosti = {"2","3","4","5","6","7","8","9","10","J","Q","K","A"};
    for(int i{0};i&lt;=3;i++)
        for(int j{0};j&lt;13;j++) {
          if     (i == 0) pocetnalista.push_back(std::make_pair(Boje::Pik,Vrijednosti[j]));
          else if(i == 1) pocetnalista.push_back(std::make_pair(Boje::Tref,Vrijednosti[j]));
          else if(i == 2) pocetnalista.push_back(std::make_pair(Boje::Herc,Vrijednosti[j]));
          else if(i == 3) pocetnalista.push_back(std::make_pair(Boje::Karo,Vrijednosti[j]));
                                }
    return pocetnalista;
}

void IzbaciKarte(std::list&lt;std::pair&lt;Boje,std::string&gt;&gt; &amp;lista,std::multimap&lt;Boje, std::string&gt; ovotrebaizbaciti){

    if(lista.size()&gt;52 || lista.size()&lt;0) throw std::logic_error("Neispravna lista!");
    auto drugi(lista.begin());
    drugi++;
    for(auto iteratorpolisti=lista.begin();iteratorpolisti!=lista.end();iteratorpolisti++) {
        if(!(drugi!=lista.end() &amp;&amp; drugi-&gt;first &gt; iteratorpolisti-&gt;first &amp;&amp; drugi-&gt;second &gt; iteratorpolisti-&gt;second))
         throw std::logic_error("Neispravna lista!");

    }
    std::vector&lt;std::string&gt; Vrijednosti = {"2","3","4","5","6","7","8","9","10","J","Q","K","A"};
<a name="0"></a><font color="#FF0000"><a href="match839-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_3.gif"/></a>

    for(auto iteratorpolisti=lista.begin();iteratorpolisti!=lista.end();iteratorpolisti++) {

        if(!(iteratorpolisti-&gt;first==Boje::Tref ||iteratorpolisti-&gt;first==Boje::Herc || iteratorpolisti-&gt;first==Boje::Pik || iteratorpolisti-&gt;first==Boje::Karo))
        throw std::logic_error("Neispravna lista!");
</font>        int brojac{0};
        for(auto it=Vrijednosti.begin();it!=Vrijednosti.end();it++) {
            if(iteratorpolisti-&gt;second == *it) brojac++;

        }
        if(brojac=0) throw std::logic_error("Neispravna lista!");
    }
    for(auto it(lista.begin());it!=lista.end();it++) {
        for(auto it2(ovotrebaizbaciti.begin());it2!=ovotrebaizbaciti.end();it2++) {

            if(it2-&gt;first==it-&gt;first)

            if(it2-&gt;second==it-&gt;second){

        lista.erase(it);
        ovotrebaizbaciti.erase(it2);
        it--;
        it2--;/* treba provjeriti brisanje*/
        }
      }
    }

}

std::queue&lt;std::pair&lt;std::string,std::string&gt;&gt;IzbaciKarteRazbrajanjem(std::list&lt;std::pair&lt;Boje,std::string&gt;&gt; &amp;spil,const short int &amp;r,const int &amp;b) {
      std::vector&lt;std::string&gt; boje{"Pik","Tref","Herc","Karo"};
      std::queue&lt;std::pair&lt;std::string,std::string&gt;&gt; red;

      std::vector&lt;std::string&gt; Vrijednosti = {"2","3","4","5","6","7","8","9","10","J","Q","K","A"};
if(spil.size()&gt;52 || spil.size()&lt;0) throw std::logic_error("Neispravna lista!");
<a name="1"></a><font color="#00FF00"><a href="match839-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_3.gif"/></a>

for(auto iteratorpolisti=spil.begin();iteratorpolisti!=spil.end();iteratorpolisti++) {
if(!( iteratorpolisti-&gt;first==Boje::Tref ||iteratorpolisti-&gt;first==Boje::Herc
     || iteratorpolisti-&gt;first==Boje::Pik || iteratorpolisti-&gt;first==Boje::Karo))
        throw std::logic_error("Neispravna lista!");
</font>        int brojac{0};
        for(auto it=Vrijednosti.begin();it!=Vrijednosti.end();it++) {
            if(iteratorpolisti-&gt;second == *it) brojac++;

        }
        if(brojac=0) throw std::logic_error("Neispravna lista!");
    }
      if(r&gt;52 || r&lt;1 || b&lt;1) throw std::logic_error ("Neispravni elementi za izbacivanje!");
      auto it(spil.begin());
      int brojac {1},brojac2{0};

      int pocetnavelicinaspila(spil.size());
      while(brojac2!=b){
          if(brojac==r){
          std::string pom2;
          if(it-&gt;first==Boje::Pik)   pom2=boje[0];
          else if(it-&gt;first==Boje::Tref)  pom2 =boje[1];
          else if(it-&gt;first==Boje::Herc)  pom2=boje[2];
          else if(it-&gt;first==Boje::Karo)  pom2=boje[3];
          std::string pom(it-&gt;second);
          red.push(std::make_pair(pom2,pom));
          auto pomocni(it);
          pomocni--;
          spil.erase(it);
          it = pomocni;
          brojac2++;
          if(brojac2==pocetnavelicinaspila) break ;
          brojac=0;
          }
          brojac++;
          it++;
          if(it==spil.end()) it=spil.begin();
      }
      return red ;
  }




 void VratiPrvihNKarata(std::list&lt;std::pair&lt;Boje,std::string&gt;&gt; &amp;spil,std::queue&lt;std::pair&lt;std::string,std::string&gt;&gt; &amp;red,int n) {
     if(n&lt;0)  throw std::domain_error("Broj n je besmislen!");
std::vector&lt;std::string&gt; Vrijednosti = {"2","3","4","5","6","7","8","9","10","J","Q","K","A"};
     if(n&gt;52-spil.size()) throw std::range_error("Nedovoljno karata u redu!");
     
<a name="2"></a><font color="#0000FF"><a href="match839-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_3.gif"/></a>

     for(auto iteratorpolisti=spil.begin();iteratorpolisti!=spil.end();iteratorpolisti++) {
     if(!(iteratorpolisti-&gt;first==Boje::Tref ||iteratorpolisti-&gt;first==Boje::Herc ||
          iteratorpolisti-&gt;first==Boje::Pik || iteratorpolisti-&gt;first==Boje::Karo))
        throw std::logic_error("Neispravna lista!");
</font>
     int brojac{0};

        for(auto it=Vrijednosti.begin();it!=Vrijednosti.end();it++) {
            if(iteratorpolisti-&gt;second == *it) brojac++;


        }
        if(brojac=0) throw std::logic_error("Neispravna lista!");
     }
        while(n!=0){
      auto itk(spil.begin());
      bool nadjena=false ;
      Boje boja;
      if(red.front().first=="Pik")  boja=Boje::Pik;
      else if(red.front().first=="Tref") boja=Boje::Tref;
      else if(red.front().first=="Herc") boja=Boje::Herc;
      else if(red.front().first=="Karo") boja=Boje::Karo;
      for(auto it=itk;it!=spil.end();it++) {
          if(it-&gt;first==boja &amp;&amp; it-&gt;second==red.front().second) {nadjena=true ;break ;}
         }

         if(!(nadjena)) {

            while(boja&gt;itk-&gt;first){ if(itk == spil.end()) itk = spil.begin(); itk++; }

              int pombr(0);
              auto pomitk(itk);
              while(pomitk-&gt;first == boja) {pomitk++; pombr++;}

              int i (0);
              for(;i&lt;Vrijednosti.size();i++){ if(Vrijednosti[i]==red.front().second) break ; }
              i = i - (Vrijednosti.size() - pombr - 1);
              while(i--&gt;0) { if(itk == spil.end()) itk = spil.begin(); itk++; }


               std::pair&lt;Boje,std::string&gt; pomocni(std::make_pair(boja,red.front().second));
               spil.insert(itk,pomocni);
         }
        n--;
        red.pop();
      }


 }

 void IspisiSpil(const std::list&lt;std::pair&lt;Boje,std::string&gt;&gt; &amp;spil) {
     
     //auto iter(spil.begin());
     //iter++;
     auto it(spil.begin());
     if(it-&gt;first==Boje::Pik) std::cout&lt;&lt;"Pik: "; while((it-&gt;first==Boje::Pik))
     {
         /*if(iter++!=spil.end()) */std::cout&lt;&lt;it-&gt;second&lt;&lt;" " ;
         //else if(iter++==spil.end()) std::cout&lt;&lt;it-&gt;second;
         if(it != spil.end()) it++;
     }
     std::cout&lt;&lt;std::endl;
     if(it-&gt;first==Boje::Tref) std::cout&lt;&lt;"Tref: "; while(it-&gt;first==Boje::Tref)
        {
            /*if(iter++!=spil.end())*/ std::cout&lt;&lt;it-&gt;second&lt;&lt;" " ;
            //else if(iter++==spil.end())*/ std::cout&lt;&lt;it-&gt;second;
            if(it != spil.end()) it++;
        }
     std::cout&lt;&lt;std::endl;
     if(it-&gt;first==Boje::Herc) std::cout&lt;&lt;"Herc: "; while(it-&gt;first==Boje::Herc)
        {
            /*if(iter++!=spil.end())*/ std::cout&lt;&lt;it-&gt;second&lt;&lt;" " ;
            //else if(iter++==spil.end()) */std::cout&lt;&lt;it-&gt;second;
            if(it != spil.end()) it++;
        }
     std::cout&lt;&lt;std::endl;
     if(it-&gt;first==Boje::Karo) std::cout&lt;&lt;"Karo: "; while(it-&gt;first==Boje::Karo)
        {
            /*if(iter++!=spil.end())*/ std::cout&lt;&lt;it-&gt;second&lt;&lt;" " ;
            //else if(iter++==spil.end())*/ std::cout&lt;&lt;it-&gt;second;
            if(it != spil.end()) it++;
        }
     std::cout&lt;&lt;std::endl;
 }
int main ()
{   int n,k;

    std::cout&lt;&lt;"Unesite korak razbrajanja: ";
    std::cin&gt;&gt; n;
    
    std::cout&lt;&lt;"Unesite broj karata koje zelite izbaciti: ";
    std::cin&gt;&gt; k;
     
    
    int s(52-k);
   
    try{
    
    auto a=KreirajSpil();
    auto red=IzbaciKarteRazbrajanjem(a,n,k);
    std::cout&lt;&lt;"U spilu trenutno ima "&lt;&lt;s&lt;&lt; " karata, i to:\n";
    IspisiSpil(a);
     
  std::cout&lt;&lt;"Unesite broj karata koje zelite vratiti u spil: ";
  int bttj;
  std::cin&gt;&gt;bttj;
  VratiPrvihNKarata(a,red,bttj);
  std::cout&lt;&lt;"U spilu trenutno ima "&lt;&lt;s+bttj&lt;&lt; " karata, i to:\n";
    
    IspisiSpil(a);
    }
    catch(std::logic_error s) {

    std::cout&lt;&lt;"Izuzetak: "&lt;&lt;s.what();

    }
    catch(std::domain_error k) {

    std::cout&lt;&lt;"Izuzetak: "&lt;&lt;k.what();
    }
    catch(std::range_error s) {

    std::cout&lt;&lt;"Izuzetak: "&lt;&lt;s.what();
    }
	return 0;
}



</pre>
</body>
</html>
