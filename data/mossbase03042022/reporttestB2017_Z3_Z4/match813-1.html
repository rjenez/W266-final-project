<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z4/student1477.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z4/student1202.cpp<p></p><pre>
#include &lt;iostream&gt;
#include &lt;list&gt;
#include &lt;utility&gt;
#include &lt;vector&gt;
#include &lt;stdexcept&gt;
#include&lt;algorithm&gt;
#include &lt;queue&gt;
#include &lt;map&gt;
#include &lt;vector&gt;
using std::cout;
using std::cin;
using std::string;
using std::vector;
enum class Boje
{
    Pik, Tref, Herc, Karo
};
std::vector&lt;string&gt;vK {"2","3","4","5","6","7","8","9","10","J","Q","K","A"};


bool Kriterij(const std::pair&lt; Boje,string&gt; &amp;prva,const std::pair&lt;Boje,string&gt; &amp;druga)
{
    if(prva.first==druga.first) { //ako se porede karte iste boje
        auto iterPrvi(find(vK.begin(),vK.end(),prva.second));
        auto iterDrugi(find(vK.begin(),vK.end(),druga.second));
        return iterPrvi&lt;iterDrugi;
    } else
        return prva.first&lt;druga.first;

}
std::list&lt;std::pair&lt; Boje,string&gt;&gt; KreirajSpil()
{
<a name="0"></a><font color="#FF0000"><a href="match813-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_6.gif"/></a>

    std::list&lt;std::pair&lt; Boje,string&gt;&gt; lista;

    for(int j=0; j&lt;13; j++)
        lista.push_back(std::make_pair(Boje::Pik,vK[j]));

    for(int j=0; j&lt;13; j++)
        lista.push_back(std::make_pair(Boje::Tref,vK[j]));

    for(int j=0; j&lt;13; j++)
        lista.push_back(std::make_pair(Boje::Herc,vK[j]));

    for(int j=0; j&lt;13; j++)
        lista.push_back(std::make_pair(Boje::Karo,vK[j]));

    return lista;


}
bool ProvjeriBoje( Boje boja)
</font>{
    if(boja!=Boje::Pik &amp;&amp; boja!=Boje::Tref &amp;&amp; boja!=Boje::Herc &amp;&amp; boja!=Boje::Karo)
        return false;
    return true;
}
bool ProvjeriKartu(string k)
{

    int istina(1);
    for(int i=0; i&lt;13; i++) {
        if(k==vK[i]) {
            istina=1;
            break;
        } else istina=0;
    }
    if(istina) return true;
    return false;
}
bool ProvjeriRed(std::queue&lt;std::pair&lt;string,string&gt;&gt; red)
{
    while(!red.empty()) {
        std::pair&lt;string,string&gt; par(red.front());
        red.pop();
        if(par.first!="Pik" &amp;&amp; par.first!="Tref" &amp;&amp; par.first!="Herc" &amp;&amp; par.first!="Karo") return false;
        if(!ProvjeriKartu(par.second)) return false;
        
    }
    return true;
}
bool DaLijeRedOk(std::list&lt; std::pair&lt; Boje,string&gt;&gt; &amp;spil)
{
    //PROBLEM
    auto lista(KreirajSpil());
    for(std::list&lt; std::pair&lt; Boje,string&gt;&gt;::iterator it=lista.begin(); it!=lista.end(); it++) {

        auto iter=find(spil.begin(),spil.end(),*it);
        if(iter==spil.end()) {
            it=lista.erase(it);
            it--;
        }
    }

    if(equal(lista.begin(),lista.end(),spil.begin()))
        return true;
    else return false;

}

string Konvertuj(Boje b)
{
<a name="2"></a><font color="#0000FF"><a href="match813-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_1.gif"/></a>

    if(b==Boje::Pik) return "Pik";
    else if(b==Boje::Tref) return "Tref";
    else if(b==Boje::Herc) return "Herc";
</font>    else return "Karo";
}
Boje KonvertujUB(string b)
{
    if(b=="Pik") return Boje::Pik;
    else if(b=="Tref") return Boje::Tref;
    else if(b=="Herc") return Boje::Herc;
    else return Boje::Karo;
}
void IzbaciKarte(std::list&lt;std::pair&lt; Boje,string&gt;&gt; &amp;spil,std::multimap&lt;Boje, std::string&gt; &amp;multimapa)
{
    if(int(spil.size())&gt;52) throw std::logic_error("Neispravna lista!");
    for(auto it=spil.begin(); it!=spil.end(); it++)
        if(!ProvjeriBoje(it-&gt;first)) throw std::logic_error("Neispravna lista!");

    for(auto it=spil.begin(); it!=spil.end();it++)
        if(!ProvjeriKartu(it-&gt;second)) throw std::logic_error("Neispravna lista!"); //provjera da li su karte besmislene
    if(!DaLijeRedOk(spil)) throw std::logic_error("Neispravna lista!");

    for(std::multimap&lt;Boje, std::string&gt;::iterator it=multimapa.begin(); it!=multimapa.end(); it++) {
        auto iter = spil.begin();
        for(iter = spil.begin(); iter != spil.end(); iter++) {
            if(iter-&gt;first == it-&gt;first &amp;&amp; iter-&gt;second == it-&gt;second) break;
        }
        if(iter!=spil.end()) {
            spil.erase(iter);
            it=multimapa.erase(it);
        } else {
            it++;
            continue;
        }
    }

}
std::queue&lt;std::pair&lt;string,string&gt;&gt; IzbaciKarteRazbrajanjem (std::list&lt;std::pair&lt;Boje,string&gt;&gt; &amp;spil,const short int &amp;r,const int &amp;b)
{

    if(r&lt;1 || r&gt;52) throw std::logic_error("Neispravni elementi za izbacivanje!");
    if(b&lt;1) throw std::logic_error("Neispravni elementi za izbacivanje!");

    if(int(spil.size())&gt;52) throw std::logic_error("Neispravna lista!");
    for(auto it=spil.begin(); it!=spil.end(); it++)
        if(!ProvjeriBoje(it-&gt;first)) throw std::logic_error("Neispravna lista!");

    for(auto it=spil.begin(); it!=spil.end(); it++)
        if(!ProvjeriKartu(it-&gt;second)) throw std::logic_error("Neispravna lista!"); //provjera da li su karte besmislene
    if(!DaLijeRedOk(spil)) throw std::logic_error("Neispravna lista!");
    std::queue&lt;std::pair&lt;string,string&gt;&gt; red;
    auto it=spil.begin();
    int pocetak(0);
    for(int i(0); i &lt; r - 1; i++) {
        it++;
        if(it == spil.end()) it = spil.begin();
    }
    while(pocetak!=b &amp;&amp; spil.size() != 0) {

        string boja(Konvertuj(it-&gt;first));
        string karta(it-&gt;second);
        red.push(std::make_pair(boja,karta));
        it=spil.erase(it);
        //it--;
        for(int i(0); i &lt; r - 1; i++) {
            it++;
            if(it == spil.end()) it = spil.begin();
        }

        pocetak++;
    }
    return red;
}

<a name="1"></a><font color="#00FF00"><a href="match813-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_1.gif"/></a>

void VratiPrvihNKarata(std::list&lt;std::pair&lt;Boje,string&gt;&gt; &amp;spil, std::queue&lt;std::pair&lt;string,string&gt;&gt; &amp;red,int n)
{
    if(n&lt;0) throw std::domain_error("Broj n je besmislen!");
    if(n&gt;red.size()) throw std::range_error("Nedovoljno karata u redu!");

    if(!ProvjeriRed(red)) throw std::logic_error("Neispravne karte!");
</font>    if(int(spil.size())&gt;52) throw std::logic_error("Neispravna lista!");
    for(auto it=spil.begin(); it!=spil.end(); it++)
        if(!ProvjeriBoje(it-&gt;first)) throw std::logic_error("Neispravna lista!");

    for(auto it=spil.begin(); it!=spil.end(); it++)
        if(!ProvjeriKartu(it-&gt;second)) throw std::logic_error("Neispravna lista!"); //provjera da li su karte besmislene
    if(!DaLijeRedOk(spil)) throw std::logic_error("Neispravna lista!");
    int j(n);
    while(j!=0) {
        std::pair&lt;string,string&gt; par(red.front()); //uzimam iz reda
        red.pop();
        auto rezPar=std::make_pair(KonvertujUB(par.first),par.second);
        auto iteratorListe(spil.begin());
        bool postoji(false);

        while(iteratorListe != spil.end()) {
            if(Konvertuj(iteratorListe-&gt;first) == par.first &amp;&amp; iteratorListe-&gt;second == par.second) {
                postoji = true;
                break;
            }
            iteratorListe++;
        }
        if(postoji) continue;
        spil.push_back(rezPar);
        j--;
    }
    spil.sort(Kriterij);

}

int main ()
{
    try {
        cout&lt;&lt;"Unesite korak razbrajanja: ";
        short int korak_razbrajanja;
        cin&gt;&gt;korak_razbrajanja;
        cout&lt;&lt;"Unesite broj karata koje zelite izbaciti: ";
        int izbaciti;
        cin&gt;&gt;izbaciti; //poziv funkcije kreiraj spil
        auto spil(KreirajSpil());
        auto red(IzbaciKarteRazbrajanjem(spil,korak_razbrajanja,izbaciti)); //iz spila izbacene karte i vracen red koji sadrzi izbacene karte
        cout&lt;&lt;"U spilu trenutno ima "&lt;&lt;spil.size()&lt;&lt;" karata, i to:"&lt;&lt;std::endl;

        for(auto it(spil.begin()); it!=spil.end(); it++) {
            cout&lt;&lt;Konvertuj(it-&gt;first)&lt;&lt;": ";
            auto boja(it-&gt;first);
            while(it-&gt;first==boja &amp;&amp; it!=spil.end()) {
                cout&lt;&lt;it-&gt;second&lt;&lt;" ";
                it++;
            }
            it--;
            cout&lt;&lt;std::endl;
        }
        cout&lt;&lt;"Unesite broj karata koje zelite vratiti u spil: ";
        int n;
        cin&gt;&gt;n;
        VratiPrvihNKarata(spil,red,n);
        cout&lt;&lt;"U spilu trenutno ima "&lt;&lt;spil.size()&lt;&lt;" karata, i to:"&lt;&lt;std::endl;
        for(auto it =spil.begin(); it!=spil.end(); it++) {
            cout&lt;&lt;Konvertuj(it-&gt;first)&lt;&lt;": ";
            auto boja(it-&gt;first);
            while(it-&gt;first==boja &amp;&amp; it!=spil.end()) {
                cout&lt;&lt;it-&gt;second&lt;&lt;" ";
                it++;
            }
            it--;
            cout&lt;&lt;std::endl;
        }

    } catch(std::logic_error e) {
        cout&lt;&lt;"Izuzetak: "&lt;&lt;e.what();
    } catch(std::domain_error e) {
        cout&lt;&lt;"Izuzetak: "&lt;&lt;e.what();
    } catch(std::range_error e) {
        cout&lt;&lt;"Izuzetak: "&lt;&lt;e.what();
    }

    return 0;
}
</pre>
</body>
</html>
