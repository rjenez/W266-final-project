<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z4/student6029.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z4/student1531.cpp<p></p><pre>
<a name="5"></a><font color="#FF0000"><a href="match313-0.html#5" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_2.gif"/></a>

/B2017/2018: ZadaÄ‡a 3, Zadatak 4
#include &lt;iostream&gt;
#include &lt;set&gt;
#include &lt;list&gt;
#include &lt;map&gt;
#include &lt;utility&gt;
#include &lt;vector&gt;
#include &lt;queue&gt;
#include &lt;stdexcept&gt;
using namespace std;
enum class Boje {Pik, Tref, Herc, Karo} boja;
</font><a name="7"></a><font color="#0000FF"><a href="match313-0.html#7" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_2.gif"/></a>

 vector&lt;string&gt;v{"2", "3", "4", "5", "6", "7", "8", "9", "10", "J", "Q", "K", "A"};
 vector&lt;string&gt;v2{"Pik", "Tref", "Herc", "Karo"};
</font>
   list&lt;pair&lt;Boje, string&gt;&gt; KreirajSpil(){
      
       list&lt;pair&lt;Boje, string&gt;&gt;lista(52);
       int x=0;
       boja=Boje(0);
       int k(0);
       for(auto it=lista.begin();it!=lista.end();it++){
           *it=make_pair(boja, v[k]);
           k++;
           if(k==v.size()){
               k=0;
               x++;
               boja=Boje(x);
           }
           
       }
       return lista;
   }
   bool pom(pair&lt;Boje,string&gt;p, multimap&lt;Boje, string&gt;&amp;m){
       for(auto it=m.begin(); it!=m.end();it++){
           if(p.first==it-&gt;first &amp;&amp; p.second==it-&gt;second)
           return true;
       }
       return false;
   }
   int pretrazi(string s){
       for(int i=0;i&lt;v.size();i++)
       if(s==v[i])return i;
       return -1;
   }
   
   bool smislenspil(list&lt;pair&lt;Boje, string&gt;&gt;&amp;l){
       Boje trenutna=(*(l.begin())).first;
       int trenutni=pretrazi((*(l.begin())).second);
       for(auto it=l.begin();it!=l.end();it++){
           if(it==l.begin())continue;
           Boje procitana=it-&gt;first;
           int procitani=pretrazi(it-&gt;second);
           if((int)procitana==(int)trenutna){
               if(trenutni&gt;=procitani)return false;
           }
           if((int)procitana&lt;(int)trenutna)return false;
       }
       return true;
   }
    void IzbaciKarte(list&lt;pair&lt;Boje, string&gt;&gt;&amp;l, multimap&lt;Boje, string&gt;&amp;m){
    
    if(!smislenspil(l) || l.size()&gt;52)throw logic_error("Neispravna lista!");
        for(auto it=l.begin();it!=l.end();it++){
            pair&lt;Boje, string&gt;p=*it;
            if(pom(*it, m)){
                it=l.erase(it);
                it=l.begin();
                for(auto it2=m.begin();it2!=m.end();it2++){
                    if(p.first==it2-&gt;first &amp;&amp; p.second==it2-&gt;second){
<a name="0"></a><font color="#FF0000"><a href="match313-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_3.gif"/></a>

                        m.erase(it2);
                    }
                }
            }
            
        }
        
    }
    
    queue&lt;pair&lt;string,string&gt;&gt;IzbaciKarteRazbrajanjem(list&lt;pair&lt;Boje, string&gt;&gt;&amp;l, const short int &amp;r, const int &amp;b){
        if(r&lt;1 || r&gt;52 ||b&lt;1)throw logic_error("Neispravni elementi za izbacivanje!");
</font>        if(!smislenspil(l) || l.size()&gt;52)throw logic_error("Neispravna lista!");
        queue&lt;pair&lt;string, string&gt;&gt;red;
        short int br(1);
        int koliko(0);
        for(auto it=l.begin();it!=l.end();){
            if(br==r) {
            koliko++;
            string pom=v2[(int)it-&gt;first];
            red.push(make_pair(pom,it-&gt;second));
            it=l.erase(it);
            br=1;
            it--;}
            else br++;
            if(koliko==b)break;
            it++;
            if(it==l.end())it=l.begin();
        }
        return red;
    
    }
    int pretraziboje(string s){
        for(int i=0;i&lt;v2.size();i++)
        if(s==v2[i])return i;
        return -1;
    }
<a name="6"></a><font color="#00FF00"><a href="match313-0.html#6" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_2.gif"/></a>

    void VratiPrvihNKarata(list&lt;pair&lt;Boje,string&gt;&gt;&amp;l, queue&lt;pair&lt;string, string&gt;&gt;&amp;red, int n){
        if(n&lt;0)throw domain_error("Broj n je besmislen!");
</font>        if(n&gt;red.size())throw range_error("Nedovoljno karata u redu!");
        
        if(!smislenspil(l) || l.size()&gt;52)throw logic_error("Neispravna lista!");
        int br(0);
        while(n!=0){
            auto element=red.front();
            red.pop();
            n--;
            int rednibrboje=pretraziboje(element.first);
            int rednibrbroja=pretrazi(element.second);
            for(auto it=l.begin();it!=l.end();it++){
                int bojaulisti=(int)it-&gt;first;
                int rednibrulisti=pretrazi(it-&gt;second);
                if(rednibrboje==bojaulisti &amp;&amp; rednibrulisti&gt;rednibrbroja){
                    l.insert(it, make_pair(Boje(rednibrboje), element.second));
                    break;
                }
                else if(rednibrboje==bojaulisti &amp;&amp; rednibrbroja==v.size()-1){
                    while((int)it-&gt;first==rednibrboje)it++;
                    l.insert(it, make_pair(Boje(rednibrboje), element.second));
                    break;
                }
                /*else if(rednibrboje&gt;bojaulisti){
                    
                    l.insert(it, make_pair(Boje(rednibrboje), element.second));
                    break;
                }*/
                
            }
        }
    }
    void ispisi(list&lt;pair&lt;Boje, string&gt;&gt; &amp;l){
    //for(auto i=l.begin();i!=l.end();){
            
            /*if(i-&gt;first==Boje(0)){cout&lt;&lt;"Pik: ";
            while(i-&gt;first==Boje(0)) {cout&lt;&lt;i-&gt;second&lt;&lt;" ";
            if(i!=l.end())
            i++;}
            cout&lt;&lt;endl;
            }
            else if(i-&gt;first==Boje(1)){cout&lt;&lt;"Tref: ";
            while(i-&gt;first==Boje(1)) {cout&lt;&lt;i-&gt;second&lt;&lt;" ";
            if(i!=l.end())
            i++;}
            cout&lt;&lt;endl;
            }
            else if(i-&gt;first==Boje(2)){cout&lt;&lt;"Herc: ";
            while(i-&gt;first==Boje(2)) {cout&lt;&lt;i-&gt;second&lt;&lt;" ";
            if(i!=l.end())
            i++;}
            cout&lt;&lt;endl;
            }
            else {cout&lt;&lt;"Karo: ";
            while(i-&gt;first==Boje(3)) {cout&lt;&lt;i-&gt;second&lt;&lt;" ";
            if(i!=l.end())
            i++;}
            cout&lt;&lt;endl;
            }
             
    }*/
    
    cout&lt;&lt;"Pik: ";
   for(auto it=l.begin();it!=l.end();it++){
<a name="2"></a><font color="#0000FF"><a href="match313-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_2.gif"/></a>

       if(it-&gt;first==Boje(0))cout&lt;&lt;it-&gt;second&lt;&lt;" ";
   }
     cout&lt;&lt;endl&lt;&lt;"Tref: ";
    for(auto it=l.begin();it!=l.end();it++){
       if(it-&gt;first==Boje(1))cout&lt;&lt;it-&gt;second&lt;&lt;" ";
</font><a name="3"></a><font color="#00FFFF"><a href="match313-0.html#3" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_2.gif"/></a>

   }
     cout&lt;&lt;endl&lt;&lt;"Herc: ";
    for(auto it=l.begin();it!=l.end();it++){
       if(it-&gt;first==Boje(2))cout&lt;&lt;it-&gt;second&lt;&lt;" ";
</font><a name="4"></a><font color="#FF00FF"><a href="match313-0.html#4" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_2.gif"/></a>

   
    }
     cout&lt;&lt;endl&lt;&lt;"Karo: ";
    for(auto it=l.begin();it!=l.end();it++){
       if(it-&gt;first==Boje(3))cout&lt;&lt;it-&gt;second&lt;&lt;" ";
</font>   }
    cout&lt;&lt;endl;
    }
int main ()
{
    
    int k;
    cout&lt;&lt;"Unesite korak razbrajanja: ";
    cin&gt;&gt;k;
    int br;
    cout&lt;&lt;"Unesite broj karata koje zelite izbaciti: ";
    cin&gt;&gt;br;
    
    list&lt;pair&lt;Boje, string&gt;&gt;l=KreirajSpil();

    try{
    queue&lt;pair&lt;string, string&gt;&gt;red=IzbaciKarteRazbrajanjem(l, k, br);
    cout&lt;&lt;"U spilu trenutno ima "&lt;&lt;l.size()&lt;&lt;" karata, i to:"&lt;&lt;endl;
    ispisi(l);
    
        int vrati;
        cout&lt;&lt;"Unesite broj karata koje zelite vratiti u spil: ";
        cin&gt;&gt;vrati;
        VratiPrvihNKarata(l, red, vrati);
        cout&lt;&lt;"U spilu trenutno ima "&lt;&lt;l.size()&lt;&lt;" karata, i to:"&lt;&lt;endl;
        ispisi(l);
    
    
}
<a name="1"></a><font color="#00FF00"><a href="match313-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_2.gif"/></a>

    catch(domain_error f){
        cout&lt;&lt;"Izuzetak: "&lt;&lt;f.what();
    }
    catch(logic_error k){
        cout&lt;&lt;"Izuzetak: "&lt;&lt;k.what();
    }
    catch(range_error e){
        cout&lt;&lt;"Izuzetak: "&lt;&lt;e.what();
</font>    }
    
	return 0;
}
</pre>
</body>
</html>
