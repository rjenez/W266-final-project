<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z4/student7868.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z4/student6369.cpp<p></p><pre>
<a name="0"></a><font color="#FF0000"><a href="match202-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_26.gif"/></a>

/B2017/2018: ZadaÄ‡a 3, Zadatak 4
#include &lt;iostream&gt;
#include &lt;queue&gt;
#include &lt;map&gt;
#include &lt;list&gt;
#include &lt;stdexcept&gt;
#include &lt;iomanip&gt;
#include &lt;vector&gt;
using namespace std;

enum class Boje {Pik, Tref, Herc, Karo};

list&lt;pair&lt;Boje,string&gt;&gt; KreirajSpil()
{
     list&lt;pair&lt;Boje,string&gt;&gt; spil;
     for(int i=2; i&lt;=14; i++)
     {
          char a=i+48;
          if(a=='&gt;') a='A';
          if(a==';') a='J';
          if(a=='&lt;') a='Q';
          if(a=='=') a='K';
          string pom; pom+=a;
          if(a==':') pom="10";
          spil.push_back(make_pair(Boje::Pik,pom));
     }
     for(int i=2; i&lt;=14; i++)
    {
        char a=i+48;
        if(a=='&gt;') a='A';
        if(a==';') a='J';
        if(a=='&lt;') a='Q';
        if(a=='=') a='K';
        string pom; pom+=a;
        if(a==':') pom="10";
        spil.push_back(make_pair(Boje::Tref,pom));
    }
    for(int i=2; i&lt;=14; i++)
    {
        char a=i+48;
        if(a=='&gt;') a='A';
        if(a==';') a='J';
        if(a=='&lt;') a='Q';
        if(a=='=') a='K';
        string pom; pom+=a;
        if(a==':') pom="10";
        spil.push_back(make_pair(Boje::Herc,pom));
    }
    for(int i=2; i&lt;=14; i++)
    {
        char a=i+48;
        if(a=='&gt;') a='A';
        if(a==';') a='J';
        if(a=='&lt;') a='Q';
        if(a=='=') a='K';
        string pom; pom+=a;
        if(a==':') pom="10";
        spil.push_back(make_pair(Boje::Karo,pom));
    }
    return spil;
</font>}


bool testliste(list&lt;pair&lt;Boje,string&gt;&gt; &amp;spil)
{
     bool a=true;
<a name="5"></a><font color="#FF0000"><a href="match202-0.html#5" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_2.gif"/></a>

     vector&lt;string&gt; v={"2","3","4","5","6","7","8","9","10","J","Q","K","A"};
</font>     if(spil.size()&gt;52) return false;
     for(auto it=spil.begin(); it!=spil.end(); it++){
          bool znj=false;
          for(int i=0; i&lt;v.size(); i++) if(it-&gt;second==v[i]) znj=true;
          if(!znj) return false;
     }
     return a;
}

void IzbaciKarte(list&lt;pair&lt;Boje,string&gt;&gt; &amp;spil, multimap&lt;Boje,string&gt;&amp;m)
{
     if(!testliste(spil)) throw logic_error("Neispravna lista!");
     for(auto it=m.begin(); it!=m.end(); it++)
          for(auto it1=spil.begin(); it1!=spil.end(); it1++)
<a name="3"></a><font color="#00FFFF"><a href="match202-0.html#3" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_4.gif"/></a>

               if(it-&gt;first==it1-&gt;first &amp;&amp; it-&gt;second==it1-&gt;second) { it1=spil.erase(it1); it=m.erase(it);}
}

queue&lt;pair&lt;Boje, string&gt;&gt; IzbaciKarteRazbrajanjem(list&lt;pair&lt;Boje,string&gt;&gt; &amp;spil, const short int r, const int n)
</font>{
     if(r&lt;1 || r&gt;52 || n&lt;1) throw logic_error("Neispravni elementi za izbacivanje!");
     if(!testliste(spil)) throw logic_error("Neispravna lista!");
     int br=1, n1=n;
     queue&lt;pair&lt;Boje,string&gt;&gt; rez;
     auto it=spil.begin();
     while(n1!=0)
     {
          if(it==spil.end()) it=spil.begin();
<a name="4"></a><font color="#FF00FF"><a href="match202-0.html#4" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_2.gif"/></a>

          if(br==r){
               //cout&lt;&lt;"DADADA ";
               pair&lt;Boje,string&gt; pom=*it;
               rez.push(pom); br=1; it=spil.erase(it); n1--;
</font>          }
          it++; br++; 
     }
     return rez;
}

<a name="1"></a><font color="#00FF00"><a href="match202-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_15.gif"/></a>

void IspisiSpil(list&lt;pair&lt;Boje,string&gt;&gt; &amp;spil)
{
    auto it=spil.begin();
    int br=0;
    while(it!=spil.end() &amp;&amp; it-&gt;first==Boje::Pik)
    {
        if(br==0) {cout&lt;&lt;"Pik: "; br=1;}
        cout&lt;&lt;it-&gt;second&lt;&lt;" ";
        it++;
    }
    cout&lt;&lt;endl; br=0;
    while(it!=spil.end() &amp;&amp; it-&gt;first==Boje::Tref)
    {
        if(br==0) {cout&lt;&lt;"Tref: "; br=1;}
        cout&lt;&lt;it-&gt;second&lt;&lt;" ";
        it++;
    }
    cout&lt;&lt;endl; br=0;
    while(it!=spil.end() &amp;&amp; it-&gt;first==Boje::Herc)
    {
        if(br==0) {cout&lt;&lt;"Herc: "; br=1;}
        cout&lt;&lt;it-&gt;second&lt;&lt;" ";
        it++;
    }
    cout&lt;&lt;endl; br=0;
    while(it!=spil.end() &amp;&amp; it-&gt;first==Boje::Karo)
    {
        if(br==0) {cout&lt;&lt;"Karo: "; br=1;}
        cout&lt;&lt;it-&gt;second&lt;&lt;" ";
        it++;
</font>    }
    cout&lt;&lt;endl;
}

bool iza(string s, int ind)
{
     vector&lt;string&gt; v={"2","3","4","5","6","7","8","9","10","J","Q","K","A"};
<a name="2"></a><font color="#0000FF"><a href="match202-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_4.gif"/></a>

     int ind1;
     for(int i=0; i&lt;v.size(); i++) if(v[i]==s) ind1=i;
     return ind1&lt;ind;
}

void VratiPrvihNKarata(list&lt;pair&lt;Boje,string&gt;&gt; &amp;spil, queue&lt;pair&lt;Boje,string&gt;&gt; &amp;red, int n)
{
     int br=0;
</font>     if(n&lt;0) throw domain_error("Broj n je besmislen!");
     if(n&gt;red.size()) throw range_error("Nedovoljno karata u redu!");
     if(!testliste(spil)) throw logic_error("Neispravna lista!");
     vector&lt;string&gt; v={"2","3","4","5","6","7","8","9","10","J","Q","K","A"};
     while(br!=n)
     {
          auto it=spil.begin();
          while(red.front().first!=it-&gt;first) it++;
          int ind=0;
          for(int i=0; i&lt;v.size(); i++) if(v[i]==red.front().second) ind=i;
          while(iza(it-&gt;second,ind)){
               if(it-&gt;first!=red.front().first) break; 
               it++;
          }
          spil.insert(it,red.front());
          red.pop();
          br++;                                                                      
     }
}

int main ()
{ 
     auto spil=KreirajSpil();
    // IspisiSpil(spil);
     int n;
     cout&lt;&lt;"Unesite korak razbrajanja: ";
     cin&gt;&gt;n;
     cout&lt;&lt;"Unesite broj karata koje zelite izbaciti: ";
     int n1;
     cin&gt;&gt;n1;
     try{
<a name="6"></a><font color="#00FF00"><a href="match202-0.html#6" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_2.gif"/></a>

          auto red = IzbaciKarteRazbrajanjem(spil,n,n1);
          cout&lt;&lt;"U spilu trenutno ima "&lt;&lt;spil.size()&lt;&lt;" karata, i to: "&lt;&lt;endl;
          IspisiSpil(spil);
     
          cout&lt;&lt;"Unesite broj karata koje zelite vratiti u spil: ";
</font>          cin&gt;&gt;n;
          VratiPrvihNKarata(spil,red,n);
          cout&lt;&lt;"U spilu trenutno ima "&lt;&lt;spil.size()&lt;&lt;" karata, i to: "&lt;&lt;endl;
          IspisiSpil(spil); 
     }
     catch(domain_error iz) { cout&lt;&lt;"Izuzetak: "&lt;&lt;iz.what();}
     catch(range_error iz) { cout&lt;&lt;"Izuzetak: "&lt;&lt;iz.what();}
     catch(logic_error iz) { cout&lt;&lt;"Izuzetak: "&lt;&lt;iz.what();}
	return 0;
}
</pre>
</body>
</html>
