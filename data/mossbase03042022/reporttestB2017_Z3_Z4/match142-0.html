<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z4/student6029.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z4/student6029.cpp<p></p><pre>
<a name="0"></a><font color="#FF0000"><a href="match142-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_99.gif"/></a>

/B2017/2018: ZadaÄ‡a 3, Zadatak 4
#include &lt;iostream&gt;
#include &lt;list&gt;
#include &lt;string&gt;
#include &lt;utility&gt;
#include &lt;map&gt;
#include &lt;stdexcept&gt;
#include &lt;queue&gt;
#include &lt;vector&gt;

using namespace std;

enum class Boje {Pik, Tref, Herc, Karo};

void IspisiRed( queue&lt;pair&lt;string, string&gt;&gt; karte)
{
    while(!karte.empty())
    {
        auto k=karte.front();
        cout&lt;&lt;k.first&lt;&lt;" "&lt;&lt;k.second&lt;&lt;endl;
        karte.pop();
    }
}

list&lt;pair&lt;Boje, string&gt;&gt; KreirajSpil()
{
    list&lt;pair&lt;Boje, string&gt;&gt; spil;
    vector&lt;string&gt; karte={"2","3", "4", "5", "6", "7", "8", "9", "10", "J", "Q", "K", "A"};
    for(int i=0; i&lt;4; i++)
        for(int j=0; j&lt;karte.size(); j++)
                spil.push_back(make_pair(Boje(i), karte[j]));
                
    return spil;
}


void IzbaciKarte(list&lt;pair&lt;Boje, string&gt;&gt; &amp;spil, multimap&lt;Boje, string&gt; &amp;karte)
{
    if(spil.size()&gt;52) throw logic_error("Neispravna lista!");
    
    for(auto i=spil.begin(); i!=spil.end(); i++)
        for(auto j=karte.begin(); j!=karte.end(); j++)
            if(i-&gt;first==j-&gt;first &amp;&amp; i-&gt;second==j-&gt;second)
                    i=spil.erase(i);
   
}

queue&lt;pair&lt;string, string&gt;&gt; IzbaciKarteRazbrajanjem(list&lt;pair&lt;Boje, string&gt;&gt; &amp;spil, const short int &amp;r, const int &amp;b)
{
    if(r&lt;1 || r&gt;52 || b&lt;1) throw logic_error ("Neispravni elementi za izbacivanje!");
    
    int korak_razbrajanja=r, broj_karata_za_izbacivanje=b;
    
    if(broj_karata_za_izbacivanje&gt;spil.size()) 
        broj_karata_za_izbacivanje=spil.size();
    
    queue&lt;pair&lt;string, string&gt;&gt; karte; 
    
    auto i=spil.begin(); int brojac=1;
    while(broj_karata_za_izbacivanje!=0)
    {
        if(i==spil.end())
            i=spil.begin();
        if(brojac==korak_razbrajanja)
            {
                if(i-&gt;first==Boje::Pik) karte.push(make_pair("Pik", i-&gt;second));
                else if(i-&gt;first==Boje::Tref) karte.push(make_pair("Tref", i-&gt;second));
                else if(i-&gt;first==Boje::Herc) karte.push(make_pair("Herc", i-&gt;second));
                else  karte.push(make_pair("Karo", i-&gt;second));
                
                i=spil.erase(i);
                i--;
                brojac=0;
                broj_karata_za_izbacivanje--;
            }
                
        brojac++; i++; 
        
    }
    
    return karte;
}

void VratiPrvihNKarata(list&lt;pair&lt;Boje, string&gt;&gt; &amp;spil, queue&lt;pair&lt;string, string&gt;&gt; &amp;izbacene_karte, int n)
{
    if(n&lt;0 || n&gt;52) throw domain_error ("Broj n je besmislen!");
    if (n&gt;izbacene_karte.size()) throw range_error ("Nedovoljno karata u redu!");
     if(n==0) return;
     if(n==izbacene_karte.size())
     {
         spil=KreirajSpil();
         return;
     }
    //USLOV ZA BESMISLENE
     vector&lt;string&gt; v={"2", "3", "4", "5", "6", "7", "8", "9", "10", "J", "Q", "K", "A"};
     queue&lt;pair&lt;string, string&gt;&gt; provjeri=izbacene_karte;
     while(!provjeri.empty())
     {
         bool uredu=false;
         pair&lt;string, string&gt; pom=provjeri.front();
         for(int i=0; i&lt;v.size(); i++)
            if(pom.second==v[i])
                uredu=true;
        if(!uredu)
            throw logic_error("Neispravne karte!");
        
        if(pom.second!="Herc")
            if(pom.second!="Karo")
                if(pom.second!="Pik")
                    if(pom.second!="Tref")
                        throw logic_error("Neispravne karte!");
        provjeri.pop();
     }
 
    for(int i=0; i&lt;n; i++)
        izbacene_karte.pop();

    Boje b;
    multimap&lt;Boje, string&gt; mapa;
    auto pom=izbacene_karte;
    while(!pom.empty())
    {
        auto k=pom.front();
        if(k.first=="Pik") b=Boje::Pik;
        if(k.first=="Tref") b=Boje::Tref;
        if(k.first=="Herc") b=Boje::Herc;
        if(k.first=="Karo") b=Boje::Karo;
        
        mapa.insert(make_pair(b, k.second));
        pom.pop();
    }
    auto pom_spil=KreirajSpil();
    IzbaciKarte(pom_spil, mapa);
    spil=pom_spil;
}


int main ()
{
    
    cout&lt;&lt;"Unesite korak razbrajanja: ";
    int korak;
    cin&gt;&gt;korak;
    cout&lt;&lt;"Unesite broj karata koje zelite izbaciti: ";
    int br_karata_za_izbaciti;
    cin&gt;&gt;br_karata_za_izbaciti;
    try
    {
        list&lt;pair&lt;Boje, string&gt;&gt; spil;
        queue&lt;pair&lt;string, string&gt;&gt; izbacene_karte;
        
        spil=KreirajSpil();
        izbacene_karte=IzbaciKarteRazbrajanjem(spil, korak, br_karata_za_izbaciti);
        cout&lt;&lt;"U spilu trenutno ima "&lt;&lt;spil.size()&lt;&lt;" karata, i to: "&lt;&lt;endl;
        
        cout&lt;&lt;"Pik: ";
        for(auto i=spil.begin(); i!=spil.end(); i++)
            if(i-&gt;first==Boje::Pik)
                cout&lt;&lt;i-&gt;second&lt;&lt;" ";
        cout&lt;&lt;endl&lt;&lt;"Tref: ";
        for(auto i=spil.begin(); i!=spil.end(); i++)
            if(i-&gt;first==Boje::Tref)
                cout&lt;&lt;i-&gt;second&lt;&lt;" ";
        cout&lt;&lt;endl&lt;&lt;"Herc: ";
        for(auto i=spil.begin(); i!=spil.end(); i++)
            if(i-&gt;first==Boje::Herc)
                cout&lt;&lt;i-&gt;second&lt;&lt;" ";
        cout&lt;&lt;endl&lt;&lt;"Karo: ";
        for(auto i=spil.begin(); i!=spil.end(); i++)
            if(i-&gt;first==Boje::Karo)
                cout&lt;&lt;i-&gt;second&lt;&lt;" ";  
        
    cout&lt;&lt;endl&lt;&lt;"Unesite broj karata koje zelite vratiti u spil: ";
    int br_karata_za_vratiti;
    cin&gt;&gt;br_karata_za_vratiti;
    VratiPrvihNKarata(spil, izbacene_karte, br_karata_za_vratiti);
    cout&lt;&lt;"U spilu trenutno ima "&lt;&lt;spil.size()&lt;&lt;" karata, i to: "&lt;&lt;endl;
    
    cout&lt;&lt;"Pik: ";
        for(auto i=spil.begin(); i!=spil.end(); i++)
            if(i-&gt;first==Boje::Pik)
                cout&lt;&lt;i-&gt;second&lt;&lt;" ";
        cout&lt;&lt;endl&lt;&lt;"Tref: ";
        for(auto i=spil.begin(); i!=spil.end(); i++)
            if(i-&gt;first==Boje::Tref)
                cout&lt;&lt;i-&gt;second&lt;&lt;" ";
        cout&lt;&lt;endl&lt;&lt;"Herc: ";
        for(auto i=spil.begin(); i!=spil.end(); i++)
            if(i-&gt;first==Boje::Herc)
                cout&lt;&lt;i-&gt;second&lt;&lt;" ";
        cout&lt;&lt;endl&lt;&lt;"Karo: ";
        for(auto i=spil.begin(); i!=spil.end(); i++)
            if(i-&gt;first==Boje::Karo)
                cout&lt;&lt;i-&gt;second&lt;&lt;" "; 
    }
    catch(logic_error l) {cout&lt;&lt;"Izuzetak: "&lt;&lt;l.what();}
    catch(domain_error d) {cout&lt;&lt;"Izuzetak: "&lt;&lt;d.what();}
    catch(range_error r) {cout&lt;&lt;"Izuzetak: "&lt;&lt;r.what();}
</font>	return 0;
}
</pre>
</body>
</html>
