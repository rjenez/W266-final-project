<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z4/student7582.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z4/student3288.cpp<p></p><pre>
#include &lt;iostream&gt;
#include &lt;list&gt;
#include &lt;utility&gt;
#include &lt;string&gt;
#include &lt;map&gt;
#include &lt;queue&gt;
#include &lt;stdexcept&gt;
#include &lt;iterator&gt;
<a name="0"></a><font color="#FF0000"><a href="match149-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_99.gif"/></a>

using namespace std;
enum class Boje {Pik=0, Tref, Herc, Karo};
typedef list&lt;pair&lt;Boje,string&gt;&gt; ListaParova;
int Karta(pair&lt;Boje,string&gt; p){
    string s[]={"2","3","4","5","6","7","8","9","10","J","Q","K","A"};
    for(int i=0;i&lt;13;i++){
        if(p.second==s[i]) return i;
    }
}
void SortirajListu(ListaParova &amp;l){
    l.sort([](pair&lt;Boje,string&gt; p1,pair&lt;Boje,string&gt; p2){return Karta(p1)&lt;Karta(p2);});
    l.sort([](pair&lt;Boje,string&gt; p1,pair&lt;Boje,string&gt; p2){return p1.first&lt;p2.first;});
}
bool Sortirana(ListaParova l){
 ListaParova pomocna(l);
 SortirajListu(l);
 auto iter(pomocna.begin());
 for(auto it=l.begin();it!=l.end();it++){
     if(it-&gt;first!=iter-&gt;first || it-&gt;second!=iter-&gt;second) return false;
     iter++;
 }
 return true;
}
bool Ispravna(ListaParova &amp;l){
    string s[]={"2","3","4","5","6","7","8","9","10","J","Q","K","A"};
    int br(0);
    for(auto it=l.begin();it!=l.end();it++){
      for(int i=0;i&lt;13;i++){
          if(it-&gt;second==s[i]) br++;
      }
      if(!br) return false;
      br=0;
      if(!(it-&gt;first==Boje::Pik || it-&gt;first==Boje::Tref || it-&gt;first==Boje::Herc || it-&gt;first==Boje::Karo)) return false;
    }
    return true;
}
bool IspravanRed(queue&lt;pair&lt;string,string&gt;&gt; q){
    string s[]={"2","3","4","5","6","7","8","9","10","J","Q","K","A"};
    string Boje[]={"Pik", "Tref", "Herc", "Karo"};
    int br1(0),br2(0);
    while(!q.empty()){
    for(int i=0;i&lt;13;i++){
        if(q.front().second==s[i]) br1++;
    }
    for(int i=0;i&lt;4;i++){
       if(q.front().first==Boje[i]) br2++; 
    }
    if(!br1 || !br2) return false;
    br1=0;
    br2=0;
    q.pop();
    }
    return true;
}
ListaParova KreirajSpil(){
    ListaParova l;
    string s[]={"2","3","4","5","6","7","8","9","10","J","Q","K","A"};
    for(int i=0;i&lt;4;i++){
        for(int j=0;j&lt;13;j++){
            l.push_back(make_pair(Boje(i),s[j]));
        }
    }
    return l;
}
void IzbaciKarte(ListaParova &amp;l, multimap&lt;Boje,string&gt; &amp;m){
    if(l.size()&gt;52 || !Ispravna(l) || !Sortirana(l)) throw logic_error("Neispravna lista!");
    for(auto it=l.begin();it!=l.end();it++){
        for(auto iter=m.begin();iter!=m.end();iter++){
            if(it-&gt;first==iter-&gt;first &amp;&amp; it-&gt;second==iter-&gt;second){
                it=l.erase(it);
                m.erase(iter);
            }
        }
    }
}
queue&lt;pair&lt;string,string&gt;&gt; IzbaciKarteRazbrajanjem(ListaParova &amp;l, const short int &amp;r, const int &amp;b){
    if(l.size()&gt;52 || !Ispravna(l) || !Sortirana(l)) throw logic_error("Neispravna lista!");
    queue&lt;pair&lt;string,string&gt;&gt; q;
    string Boje[]={"Pik", "Tref", "Herc", "Karo"};
    if(r&lt;1 || r&gt;52 || b&lt;1) throw logic_error("Neispravni elementi za izbacivanje!");
        auto it=l.begin();
        for(int i=0;i&lt;b;i++){
        if(distance(it,l.end())&gt;=r) advance(it,r-1);
        else{
          int nova_distanca=r-distance(it,l.end());
          it=l.begin();
          advance(it,nova_distanca-1);
        }
        //if(it-&gt;first==Boje)
        q.push({Boje[static_cast&lt;int&gt;(it-&gt;first)],it-&gt;second});
        it=l.erase(it);
        }
        return q;
}
void VratiPrvihNKarata(ListaParova &amp;l, queue&lt;pair&lt;string,string&gt;&gt; &amp;q, int n){
    if(l.size()&gt;52 || !Ispravna(l) || !Sortirana(l)) throw logic_error("Neispravna lista!");
    int vel=q.size();
    if(n&gt;vel) throw range_error("Nedovoljno karata u redu!");
    if(n&lt;0) throw domain_error("Broj n je besmislen!");
    if(!IspravanRed(q)) throw logic_error("Neispravne karte!");
    string Boja[]={"Pik", "Tref", "Herc", "Karo"};
    while(n){
    for(int i=0;i&lt;4;i++)
    if(Boja[i]==q.front().first)
    l.push_back({Boje(i),q.front().second});
    q.pop();
    n--;
    }
   SortirajListu(l); 
}
int main ()
{   
    string Boja[]={"Pik", "Tref", "Herc", "Karo"};
    cout&lt;&lt;"Unesite korak razbrajanja: ";
    int r;
    cin&gt;&gt;r;
    cout&lt;&lt;"Unesite broj karata koje zelite izbaciti: ";
    int b;
    cin&gt;&gt;b;
    ListaParova l;
    l=KreirajSpil();
    queue&lt;pair&lt;string,string&gt;&gt; q;
    try{
    q=IzbaciKarteRazbrajanjem(l,r,b);
    }catch(logic_error izuzetak){
        cout&lt;&lt;"Izuzetak: "&lt;&lt;izuzetak.what();
        return 0;
    }
    cout&lt;&lt;"U spilu trenutno ima "&lt;&lt;l.size()&lt;&lt;" karata, i to:"&lt;&lt;endl;
    for(int i=0;i&lt;4;i++){
        cout&lt;&lt;Boja[i]&lt;&lt;": ";
    for(auto it=l.begin();it!=l.end();it++){
    if(it-&gt;first==Boje(i)) cout&lt;&lt;it-&gt;second&lt;&lt;" ";
    }
    cout&lt;&lt;endl;
    }
    cout&lt;&lt;"Unesite broj karata koje zelite vratiti u spil: ";
    int n;
    cin&gt;&gt;n;
    try{
    VratiPrvihNKarata(l,q,n);
    }catch(domain_error izuzetak){
        cout&lt;&lt;"Izuzetak: "&lt;&lt;izuzetak.what();
        return 0;
    }catch(logic_error izuzetak){
        cout&lt;&lt;"Izuzetak: "&lt;&lt;izuzetak.what();
        return 0;
    }catch(range_error izuzetak){
        cout&lt;&lt;"Izuzetak: "&lt;&lt;izuzetak.what();
        return 0;
    }
    cout&lt;&lt;"U spilu trenutno ima "&lt;&lt;l.size()&lt;&lt;" karata, i to:"&lt;&lt;endl;
    for(int i=0;i&lt;4;i++){
    cout&lt;&lt;Boja[i]&lt;&lt;": ";
    for(auto it=l.begin();it!=l.end();it++){
    if(it-&gt;first==Boje(i)) cout&lt;&lt;it-&gt;second&lt;&lt;" ";
    }
    cout&lt;&lt;endl;
    }
	return 0;
</font>}

/*#include &lt;iostream&gt;
#include &lt;list&gt;
#include &lt;utility&gt;
#include &lt;string&gt;
#include &lt;map&gt;
#include &lt;queue&gt;
#include &lt;stdexcept&gt;
#include &lt;iterator&gt;
using namespace std;
enum class Boje
{
    Pik=0, Tref, Herc, Karo
};
typedef list&lt;pair&lt;Boje,string&gt;&gt; ListaParova;
int Karta(pair&lt;Boje,string&gt; p)
{
    string s[]= {"2","3","4","5","6","7","8","9","10","J","Q","K","A"};
    for(int i=0; i&lt;13; i++) {
        if(p.second==s[i]) return i;
    }
}
void SortirajListu(ListaParova &amp;l)
{
    l.sort([](pair&lt;Boje,string&gt; p1,pair&lt;Boje,string&gt; p2) {
        return Karta(p1)&lt;Karta(p2);
    });
    l.sort([](pair&lt;Boje,string&gt; p1,pair&lt;Boje,string&gt; p2) {
        return p1.first&lt;p2.first;
    });
}
bool Sortirana(ListaParova l)
{
    ListaParova pomocna(l);
    SortirajListu(l);
    auto iter(pomocna.begin());
    for(auto it=l.begin(); it!=l.end(); it++) {
        if(it-&gt;first!=iter-&gt;first || it-&gt;second!=iter-&gt;second) return false;
        iter++;
    }
    return true;
}
bool Ispravna(ListaParova &amp;l)
{
    string s[]= {"2","3","4","5","6","7","8","9","10","J","Q","K","A"};
    int br(0);
    for(auto it=l.begin(); it!=l.end(); it++) {
        for(int i=0; i&lt;13; i++) {
            if(it-&gt;second==s[i]) br++;
        }
        if(!br) return false;
        br=0;
        if(!(it-&gt;first==Boje::Pik || it-&gt;first==Boje::Tref || it-&gt;first==Boje::Herc || it-&gt;first==Boje::Karo)) return false;
    }
    return true;
}
bool IspravanRed(queue&lt;pair&lt;string,string&gt;&gt; q)
{
    string s[]= {"2","3","4","5","6","7","8","9","10","J","Q","K","A"};
    string Boje[]= {"Pik", "Tref", "Herc", "Karo"};
    int br1(0),br2(0);
    while(!q.empty()) {
        for(int i=0; i&lt;13; i++) {
            if(q.front().second==s[i]) br1++;
        }
        for(int i=0; i&lt;4; i++) {
            if(q.front().first==Boje[i]) br2++;
        }
        if(!br1 || !br2) return false;
        br1=0;
        br2=0;
        q.pop();
    }
    return true;
}
ListaParova KreirajSpil()
{
    ListaParova l;
    string s[]= {"2","3","4","5","6","7","8","9","10","J","Q","K","A"};
    for(int i=0; i&lt;4; i++) {
        for(int j=0; j&lt;13; j++) {
            l.push_back(make_pair(Boje(i),s[j]));
        }
    }
    return l;
}
void IzbaciKarte(ListaParova &amp;l, multimap&lt;Boje,string&gt; &amp;m)
{
    if(l.size()&gt;52 || !Ispravna(l) || !Sortirana(l)) throw logic_error("Neispravna lista!");
    for(auto it=l.begin(); it!=l.end(); it++) {
        for(auto iter=m.begin(); iter!=m.end(); iter++) {
            if(it-&gt;first==iter-&gt;first &amp;&amp; it-&gt;second==iter-&gt;second) {
                it=l.erase(it);
                m.erase(iter);
            }
        }
    }
}
queue&lt;pair&lt;string,string&gt;&gt; IzbaciKarteRazbrajanjem(ListaParova &amp;l, const short int &amp;r, const int &amp;b)
{
    if(l.size()&gt;52 || !Ispravna(l) || !Sortirana(l)) throw logic_error("Neispravna lista!");
    queue&lt;pair&lt;string,string&gt;&gt; q;
    string Boje[]= {"Pik", "Tref", "Herc", "Karo"};
    if(r&lt;1 || r&gt;52 || b&lt;1) throw logic_error("Neispravni elementi za izbacivanje!");
    auto it=l.begin();
    int za_izbaciti(b);
    int razlika(za_izbaciti-l.size());
    if(razlika&gt;0) za_izbaciti=l.size();
    for(int i=0; i&lt;za_izbaciti; i++) {
        if(distance(it,l.end())&gt;=r) advance(it,r-1);
        else {
            int nova_distanca=r-distance(it,l.end());
            it=l.begin();
            advance(it,nova_distanca-1);
        }
        //if(it-&gt;first==Boje)
        if(it!=l.end()) {
            q.push({Boje[static_cast&lt;int&gt;(it-&gt;first)],it-&gt;second});
            it=l.erase(it);
        }
    }
    return q;
}
void VratiPrvihNKarata(ListaParova &amp;l, queue&lt;pair&lt;string,string&gt;&gt; &amp;q, int n)
{
    if(l.size()&gt;52 || !Ispravna(l) || !Sortirana(l)) throw logic_error("Neispravna lista!");
    int vel=q.size();
    if(n&gt;vel) throw range_error("Nedovoljno karata u redu!");
    if(n&lt;0) throw domain_error("Broj n je besmislen!");
    if(!IspravanRed(q)) throw logic_error("Neispravne karte!");
    string Boja[]= {"Pik", "Tref", "Herc", "Karo"};
    int br(0);
    while(n) {
        for(int i=0; i&lt;4; i++) {
            if(Boja[i]==q.front().first){
                for(auto it=l.begin(); it!=l.end(); it++) {
                    if(it-&gt;first==Boje(i) &amp;&amp; it-&gt;second==q.front().second) q.pop();
                    br++;
                    i--;
                    break;
                }
                if(!br){
                l.push_back({Boje(i),q.front().second});
                q.pop();
                }
               

            }
             br=0;
        }
        n--;
    }
    SortirajListu(l);
}
int main ()
{
    string Boja[]= {"Pik", "Tref", "Herc", "Karo"};
    cout&lt;&lt;"Unesite korak razbrajanja: ";
    int r;
    cin&gt;&gt;r;
    cout&lt;&lt;"Unesite broj karata koje zelite izbaciti: ";
    int b;
    cin&gt;&gt;b;
    ListaParova l;
    l=KreirajSpil();
    queue&lt;pair&lt;string,string&gt;&gt; q;
    try {
        q=IzbaciKarteRazbrajanjem(l,r,b);
    } catch(logic_error izuzetak) {
        cout&lt;&lt;"Izuzetak: "&lt;&lt;izuzetak.what();
        return 0;
    }
    cout&lt;&lt;"U spilu trenutno ima "&lt;&lt;l.size()&lt;&lt;" karata, i to:"&lt;&lt;endl;
    for(int i=0; i&lt;4; i++) {
        cout&lt;&lt;Boja[i]&lt;&lt;": ";
        for(auto it=l.begin(); it!=l.end(); it++) {
            if(it-&gt;first==Boje(i)) cout&lt;&lt;it-&gt;second&lt;&lt;" ";
        }
        cout&lt;&lt;endl;
    }
    cout&lt;&lt;"Unesite broj karata koje zelite vratiti u spil: ";
    int n;
    cin&gt;&gt;n;
    try {
        VratiPrvihNKarata(l,q,n);
    } catch(domain_error izuzetak) {
        cout&lt;&lt;"Izuzetak: "&lt;&lt;izuzetak.what();
        return 0;
    } catch(logic_error izuzetak) {
        cout&lt;&lt;"Izuzetak: "&lt;&lt;izuzetak.what();
        return 0;
    } catch(range_error izuzetak) {
        cout&lt;&lt;"Izuzetak: "&lt;&lt;izuzetak.what();
        return 0;
    }
    cout&lt;&lt;"U spilu trenutno ima "&lt;&lt;l.size()&lt;&lt;" karata, i to:"&lt;&lt;endl;
    for(int i=0; i&lt;4; i++) {
        cout&lt;&lt;Boja[i]&lt;&lt;": ";
        for(auto it=l.begin(); it!=l.end(); it++) {
            if(it-&gt;first==Boje(i)) cout&lt;&lt;it-&gt;second&lt;&lt;" ";
        }
        cout&lt;&lt;endl;
    }
    return 0;
}*/
</pre>
</body>
</html>
