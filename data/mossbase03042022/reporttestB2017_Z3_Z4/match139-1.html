<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z4/student1468.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z4/student2148.cpp<p></p><pre>
#include &lt;iostream&gt;
#include &lt;list&gt;
#include &lt;string&gt;
#include &lt;vector&gt;
#include &lt;map&gt;
#include &lt;queue&gt;

<a name="0"></a><font color="#FF0000"><a href="match139-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_99.gif"/></a>

enum class Boje {Pik, Tref, Herc, Karo};

void DodajKarte(std::vector&lt;std::string&gt; &amp;karte)
{
    karte.push_back("2"); karte.push_back("3");
    karte.push_back("4"); karte.push_back("5");
    karte.push_back("6"); karte.push_back("7");
    karte.push_back("8"); karte.push_back("9");
    karte.push_back("10"); karte.push_back("J");
    karte.push_back("Q"); karte.push_back("K");
    karte.push_back("A");
}

std::list&lt;std::pair&lt;Boje,std::string&gt;&gt; KreirajSpil()
{
    std::list&lt;std::pair&lt;Boje, std::string&gt;&gt; spil;
    Boje boja;
    std::vector&lt;std::string&gt; karte;
    DodajKarte(karte);
    for(int i=1; i&lt;=52; i+=13)
    {
        if(i&lt;=13) boja=Boje::Pik;
        else if(i&gt;13 &amp;&amp; i&lt;=26) boja=Boje::Tref;
        else if(i&gt;26 &amp;&amp; i&lt;=39) boja=Boje::Herc;
        else if(i&gt;39 &amp;&amp; i&lt;=52) boja=Boje::Karo;
        for(int j=0; j&lt;13; j++)
        {
            spil.push_back(std::make_pair(boja, karte[j]));
        }
    }
    return spil;
}

void IspisiKarte(const std::list&lt;std::pair&lt;Boje, std::string&gt;&gt; &amp;spil)
{
    for(auto it=spil.begin(); it!=spil.end();)
    {
        if(int(it-&gt;first)==0)
        {
            std::cout &lt;&lt; "Pik: ";
            while(int(it-&gt;first)==0)
            {
                std::cout &lt;&lt; " " &lt;&lt; it-&gt;second;
                it++;
            }
            std::cout &lt;&lt; std::endl;
        }
        if(int(it-&gt;first)==1)
        {
            std::cout &lt;&lt; "Tref: ";
            while(int(it-&gt;first)==1)
            {
                std::cout &lt;&lt; " " &lt;&lt; it-&gt;second;
                it++;
            }
            std::cout &lt;&lt; std::endl;
        }
        if(int(it-&gt;first)==2)
        {
            std::cout &lt;&lt; "Herc: ";
            while(int(it-&gt;first)==2)
            {
                std::cout &lt;&lt; " " &lt;&lt; it-&gt;second;
                it++;
            }
            std::cout &lt;&lt; std::endl;
        }
        if(int(it-&gt;first)==3)
        {
            std::cout &lt;&lt; "Karo: ";
            while(int(it-&gt;first)==3)
            {
                std::cout &lt;&lt; " " &lt;&lt; it-&gt;second;
                it++;
            }
            std::cout &lt;&lt; std::endl;
        }
    }
}

void IzbaciKarte(std::list&lt;std::pair&lt;Boje, std::string&gt;&gt; &amp;spil, std::multimap&lt;Boje, std::string&gt; &amp;mapa)
{
    for(auto it=mapa.begin(); it!=mapa.end();)
    {
        bool obrisan(false);
        for(auto it2=spil.begin(); it2!=spil.end();)
        {
            std::cout &lt;&lt; int(it-&gt;first) &lt;&lt; std::endl;
            if(it-&gt;first==it2-&gt;first &amp;&amp; it-&gt;second==it2-&gt;second)
            {
                it2=spil.erase(it2);
                it=mapa.erase(it);
                obrisan=true;
            }
            else if(it-&gt;first!=it2-&gt;first)
            {
                while(it-&gt;first!=it2-&gt;first &amp;&amp; it2!=spil.end()) it2++;
            }
            else
            {
                while(it-&gt;second!=it2-&gt;second &amp;&amp; it2!=spil.end()) it2++;
            }
        }
        if(!obrisan) it++;
    }
}

void DodajKartu(std::list&lt;std::pair&lt;Boje, std::string&gt;&gt; &amp;spil, std::pair&lt;std::string, std::string&gt; karta)
{
    Boje boja;
    if(karta.first=="Pik") boja=Boje::Pik;
    else if(karta.first=="Tref") boja=Boje::Tref;
    else if(karta.first=="Herc") boja=Boje::Herc;
    else if(karta.first=="Karo") boja=Boje::Karo;
    for(auto it=spil.begin(); it!=spil.end();)
    {
        int i=0;
        if(boja==it-&gt;first)
        {
            while(it-&gt;second!=karta.second) it++;
            spil.insert(it, std::make_pair(it-&gt;first, karta.second));
            break;
        }
        else
        {
            while(it-&gt;first!=boja) it++;
        }
    }
}

void VratiPrvihNKarata(std::list&lt;std::pair&lt;Boje, std::string&gt;&gt; &amp;spil, std::queue&lt;std::pair&lt;std::string,std::string&gt;&gt; &amp;redIzbacenih, int n)
{
    if(n&gt;redIzbacenih.size()) throw std::range_error("Nedovoljno karata u redu!");
    else if(n&lt;1) throw std::domain_error("Broj n je besmislen!");
    for(int i=0; i&lt;n; i++)
    {
        std::pair&lt;std::string, std::string&gt; karta=redIzbacenih.front();
        redIzbacenih.pop();
        DodajKartu(spil, karta);
    }
}

std::queue&lt;std::pair&lt;std::string, std::string&gt;&gt; IzbaciKarteRazbrajanjem(std::list&lt;std::pair&lt;Boje, std::string&gt;&gt; &amp;spil, const short int &amp;r, const int &amp;b)
{
    std::queue&lt;std::pair&lt;std::string, std::string&gt;&gt; redIzbacenih;
    if(r&lt;1 || r&gt;52 || b&lt;1) throw std::logic_error("Neispravni elementi za izbacivanje!");
    int kolikoIzbaciti=b;
    for(auto it=spil.begin(); kolikoIzbaciti&gt;0;)
    {
        if(it==spil.end()) it=spil.begin();
        int broj=1;
        while(broj&lt;r)
        {
            if(it==spil.end()) it=spil.begin();
            it++;
            broj++;
        }
        std::pair&lt;std::string, std::string&gt; par;
        std::string boja;
        if(int(it-&gt;first)==0) boja="Pik";
        else if(int(it-&gt;first)==1) boja="Tref";
        else if(int(it-&gt;first)==2) boja="Herc";
        else if(int(it-&gt;first)==3) boja="Karo";
        par=std::make_pair(boja, it-&gt;second);
        redIzbacenih.push(par);
        it=spil.erase(it);
        kolikoIzbaciti--;
    }
    return redIzbacenih;
}



int main()
{
    std::list&lt;std::pair&lt;Boje, std::string&gt;&gt; spil=KreirajSpil();
    std::cout &lt;&lt; "U spilu trenutno ima " &lt;&lt; spil.size() &lt;&lt; " karata, i to: " &lt;&lt; std::endl;
    IspisiKarte(spil);
    std::cout &lt;&lt; std::endl;
    int korak;
    std::cout &lt;&lt; "Unesite korak razbrajanja: ";
    std::cin &gt;&gt; korak;
    int brojKarata;
    std::cout &lt;&lt; "Unesite broj karata koje zelite izbaciti: ";
    std::cin &gt;&gt; brojKarata;
    /*std::multimap&lt;Boje, std::string&gt; mapa;
    std::pair&lt;Boje, std::string&gt; par=std::make_pair(Boje::Pik, "2");
    mapa.insert(par);
    par=std::make_pair(Boje::Tref, "K");
    mapa.insert(par);
    par=std::make_pair(Boje::Karo, "10");
    mapa.insert(par);
    IzbaciKarte(spil, mapa);
    IspisiKarte(spil);
    std::cout &lt;&lt; std::endl;*/
    std::queue&lt;std::pair&lt;std::string, std::string&gt;&gt; redKarata=IzbaciKarteRazbrajanjem(spil, korak, brojKarata);
    std::cout &lt;&lt; "U spilu trenutno ima " &lt;&lt; spil.size() &lt;&lt; " karata, i to: " &lt;&lt; std::endl;
    IspisiKarte(spil);
    std::cout &lt;&lt; std::endl;
    std::cout &lt;&lt; "Unesite broj karata koje zelite vratiti u spil: ";
    std::cin &gt;&gt; brojKarata;
    VratiPrvihNKarata(spil, redKarata, brojKarata);
    std::cout &lt;&lt; "U spilu trenutno ima " &lt;&lt; spil.size() &lt;&lt; " karata, i to: " &lt;&lt; std::endl;
    IspisiKarte(spil);
    return 0;
</font>}
</pre>
</body>
</html>
