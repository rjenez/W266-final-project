<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z4/student5162.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z4/student5162.cpp<p></p><pre>
/B2017/2018: ZadaÄ‡a 3, Zadatak 4
#include &lt;iostream&gt;
#include &lt;list&gt;
#include &lt;map&gt;
#include &lt;stdexcept&gt;
#include &lt;queue&gt;
#include &lt;utility&gt;
#include &lt;string&gt;
#include &lt;vector&gt;
#include &lt;iterator&gt;
#include &lt;algorithm&gt;
enum class Boje {Pik, Tref, Herc, Karo};
std::vector&lt;std::string&gt; bojekarata{"Pik", "Tref", "Herc", "Karo"};

std::list&lt;std::pair&lt;Boje, std::string&gt;&gt; KreirajSpil(){
    std::vector&lt;std::string&gt; ImenaKarata{"2", "3", "4", "5", "6", "7", "8", "9", "10", "J", "Q", "K", "A"};
    std::list&lt;std::pair&lt;Boje, std::string&gt;&gt; lista;
    for(int i(0); i&lt;4; i++){
        for(int j(0); j&lt;13; j++){
            if(i==0)
            lista.push_back(std::make_pair(Boje::Pik,ImenaKarata.at(j)));
            else if(i==1)
            lista.push_back(std::make_pair(Boje::Tref,ImenaKarata.at(j)));
            else if(i==2)
            lista.push_back(std::make_pair(Boje::Herc,ImenaKarata.at(j)));
            else if(i==3)
            lista.push_back(std::make_pair(Boje::Karo,ImenaKarata.at(j)));
        }
    }
    return lista;
}
bool Poredak(std::list&lt;std::pair&lt;Boje,std::string&gt;&gt;::iterator it, std::list&lt;std::pair&lt;Boje,std::string&gt;&gt;::iterator it2){
    if(int(it-&gt;first)&gt;int(it2-&gt;first)) return false;
    else if(int(it-&gt;first)==int(it2-&gt;first)){
    if((it-&gt;second=="2" || it-&gt;second=="3" || it-&gt;second=="4" || it-&gt;second=="5" || it-&gt;second=="6" || it-&gt;second=="7" || it-&gt;second=="8" || it-&gt;second=="9") &amp;&amp; (it2-&gt;second=="2" || it2-&gt;second=="3" || it2-&gt;second=="4" || it2-&gt;second=="5" || it2-&gt;second=="6" || it2-&gt;second=="7" || it2-&gt;second=="8" || it2-&gt;second=="9") &amp;&amp; (it-&gt;second&gt;it2-&gt;second)) return false;
    else if((it-&gt;second=="10" || it-&gt;second=="J" || it-&gt;second=="K" || it-&gt;second=="Q" || it-&gt;second=="A") &amp;&amp; (it2-&gt;second=="2" || it2-&gt;second=="3" || it2-&gt;second=="4" || it2-&gt;second=="5" || it2-&gt;second=="6" || it2-&gt;second=="7" || it2-&gt;second=="8" || it2-&gt;second=="9")) return false;
    else if((it-&gt;second=="J") &amp;&amp; (it2-&gt;second=="10")) return false;
    else if((it-&gt;second=="Q") &amp;&amp; (it2-&gt;second=="10" || it2-&gt;second=="J")) return false;
    else if((it-&gt;second=="K") &amp;&amp; (it2-&gt;second=="10" || it2-&gt;second=="J" || it2-&gt;second=="Q")) return false;
    else if((it-&gt;second=="A") &amp;&amp; (it2-&gt;second=="10" || it2-&gt;second=="J" || it2-&gt;second=="K" || it2-&gt;second=="Q")) return false;
    }
    return true;
}
bool KonacnoPoredjenje(const std::pair&lt;Boje, std::string&gt; &amp;p1, const std::pair&lt;Boje, std::string&gt; &amp;p2){
    if(int(p1.first)&gt;int(p2.first)) return false;
    else if(int(p1.first)==int(p2.first)){
<a name="2"></a><font color="#0000FF"><a href="match504-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_0.gif"/></a>

    if((p1.second=="2" || p1.second=="3" || p1.second=="4" || p1.second=="5" || p1.second=="6" || p1.second=="7" || p1.second=="8" || p1.second=="9") &amp;&amp; (p2.second=="2" || p2.second=="3" || p2.second=="4" || p2.second=="5" || p2.second=="6" || p2.second=="7" || p2.second=="8" || p2.second=="9")) return p1.second&lt;p2.second;
</font><a name="1"></a><font color="#00FF00"><a href="match504-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_1.gif"/></a>

    else if((p1.second=="10" || p1.second=="J" || p1.second=="K" || p1.second=="Q" || p1.second=="A") &amp;&amp; (p2.second=="2" || p2.second=="3" || p2.second=="4" || p2.second=="5" || p2.second=="6" || p2.second=="7" || p2.second=="8" || p2.second=="9")) return false;
    else if((p1.second=="J") &amp;&amp; (p2.second=="10")) return false;
    else if((p1.second=="Q") &amp;&amp; (p2.second=="10" || p2.second=="J")) return false;
</font><a name="0"></a><font color="#FF0000"><a href="match504-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_1.gif"/></a>

    else if((p1.second=="K") &amp;&amp; (p2.second=="10" || p2.second=="J" || p2.second=="Q")) return false;
    else if((p1.second=="A") &amp;&amp; (p2.second=="10" || p2.second=="J" || p2.second=="K" || p2.second=="Q")) return false;
</font>    }
    return true;
}
void IzbaciKarte(std::list&lt;std::pair&lt;Boje, std::string&gt;&gt; &amp;lista, std::multimap&lt;Boje, std::string&gt; &amp;multimapa){
    if(lista.size()&gt;52) throw std::logic_error("Neispravna lista!");
    for(auto it(lista.begin()); it!=lista.end(); it++){
        if(it-&gt;first!=Boje::Pik &amp;&amp; it-&gt;first!=Boje::Herc &amp;&amp; it-&gt;first!=Boje::Karo &amp;&amp; it-&gt;first!=Boje::Tref) throw std::logic_error("Neispravna lista!");
        if(it-&gt;second!="2" &amp;&amp; it-&gt;second!="3" &amp;&amp; it-&gt;second!="4" &amp;&amp; it-&gt;second!="5" &amp;&amp; it-&gt;second!="6" &amp;&amp; it-&gt;second!="7" &amp;&amp; it-&gt;second!="8" &amp;&amp; it-&gt;second!="9" &amp;&amp; it-&gt;second!="10" &amp;&amp; it-&gt;second!="J" &amp;&amp; it-&gt;second!="K" &amp;&amp; it-&gt;second!="Q" &amp;&amp; it-&gt;second!="A") throw std::logic_error("Neispravna lista!");
    }
    auto pomocni1(lista.begin());
    auto pomocni2(lista.begin());
    pomocni2++;
    for(int i(0); i&lt;lista.size(); i++){
        if(pomocni2==lista.end()) break;
        if(!Poredak(pomocni1,pomocni2)) throw std::logic_error("Neispravna lista!");
        pomocni1++;
        pomocni2++;
    }
<a name="4"></a><font color="#FF00FF"><a href="match504-1.html#4" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_0.gif"/></a>

    for(auto it(lista.begin()); it!=lista.begin(); it++){
        for(auto it2(multimapa.begin()); it2!=multimapa.end(); it2++){
            if(int(it-&gt;first)==int(it2-&gt;first) &amp;&amp; it-&gt;second==it2-&gt;second){
</font>                it=lista.erase(it);
                if(it!=lista.begin()) it--;
                multimapa.erase(it2);
            }
        }
    }
}
std::queue&lt;std::pair&lt;std::string, std::string&gt;&gt; IzbaciKarteRazbrajanjem(std::list&lt;std::pair&lt;Boje, std::string&gt;&gt; &amp;lista, const short int &amp;razbrajanje, const int &amp;brojkarata){
    if(razbrajanje&lt;1 || razbrajanje&gt;52 || brojkarata&lt;1) throw std::logic_error("Neispravni elementi za izbacivanje!");
     for(auto it(lista.begin()); it!=lista.end(); it++){
        if(it-&gt;first!=Boje::Pik &amp;&amp; it-&gt;first!=Boje::Herc &amp;&amp; it-&gt;first!=Boje::Karo &amp;&amp; it-&gt;first!=Boje::Tref) throw std::logic_error("Neispravna lista!");
        if(it-&gt;second!="2" &amp;&amp; it-&gt;second!="3" &amp;&amp; it-&gt;second!="4" &amp;&amp; it-&gt;second!="5" &amp;&amp; it-&gt;second!="6" &amp;&amp; it-&gt;second!="7" &amp;&amp; it-&gt;second!="8" &amp;&amp; it-&gt;second!="9" &amp;&amp; it-&gt;second!="10" &amp;&amp; it-&gt;second!="J" &amp;&amp; it-&gt;second!="K" &amp;&amp; it-&gt;second!="Q" &amp;&amp; it-&gt;second!="A") throw std::logic_error("Neispravna lista!");
    }
    auto pomocni1(lista.begin());
    auto pomocni2(lista.begin());
    pomocni2++;
    for(int i(0); i&lt;lista.size(); i++){
        if(pomocni2==lista.end()) break;
        if(!Poredak(pomocni1,pomocni2)) throw std::logic_error("Neispravna lista!");
        pomocni1++;
        pomocni2++;
    }
    std::queue&lt;std::pair&lt;std::string, std::string&gt;&gt; red;
    auto it(lista.begin());
    int brojac(1);
    int izbaceni(0);
    for(; ;){
        if(lista.size()==0 || izbaceni==brojkarata) break;
        if(it==lista.end()) it=lista.begin();
        if(brojac%razbrajanje==0){
            if(it-&gt;first==Boje::Pik) red.push(std::make_pair("Pik",it-&gt;second));
            else if(it-&gt;first==Boje::Karo) red.push(std::make_pair("Karo", it-&gt;second));
            else if(it-&gt;first==Boje::Herc) red.push(std::make_pair("Herc", it-&gt;second));
            else if(it-&gt;first==Boje::Tref) red.push(std::make_pair("Tref", it-&gt;second));
            it=lista.erase(it);
            izbaceni++;
        }
        else
        it++;
        brojac++;
        }
        return red;
}
void VratiPrvihNKarata(std::list&lt;std::pair&lt;Boje, std::string&gt;&gt; &amp;lista, std::queue&lt;std::pair&lt;std::string, std::string&gt;&gt; &amp;red, int n){
    if(int(n)&gt;int(red.size()))
        throw std::range_error("Nedovoljno karata u redu!");
    if(n&lt;0) throw std::domain_error("Broj n je besmislen!");
    if(lista.size()&gt;52) throw std::logic_error("Neispravna lista!");
    for(auto it(lista.begin()); it!=lista.end(); it++){
        if(it-&gt;first!=Boje::Pik &amp;&amp; it-&gt;first!=Boje::Herc &amp;&amp; it-&gt;first!=Boje::Karo &amp;&amp; it-&gt;first!=Boje::Tref) throw std::logic_error("Neispravna lista!");
        if(it-&gt;second!="2" &amp;&amp; it-&gt;second!="3" &amp;&amp; it-&gt;second!="4" &amp;&amp; it-&gt;second!="5" &amp;&amp; it-&gt;second!="6" &amp;&amp; it-&gt;second!="7" &amp;&amp; it-&gt;second!="8" &amp;&amp; it-&gt;second!="9" &amp;&amp; it-&gt;second!="10" &amp;&amp; it-&gt;second!="J" &amp;&amp; it-&gt;second!="K" &amp;&amp; it-&gt;second!="Q" &amp;&amp; it-&gt;second!="A") throw std::logic_error("Neispravna lista!");
    }
    auto pomocni1(lista.begin());
    auto pomocni2(lista.begin());
    pomocni2++;
    for(int i(0); i&lt;lista.size(); i++){
        if(pomocni2==lista.end()) break;
        if(!Poredak(pomocni1,pomocni2)) throw std::logic_error("Neispravna lista!");
        pomocni1++;
        pomocni2++;
    }
    
    while((!red.empty()) &amp;&amp; (n&gt;0)){
<a name="5"></a><font color="#FF0000"><a href="match504-1.html#5" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_0.gif"/></a>

        if((red.front()).first!="Karo" &amp;&amp; (red.front()).first!="Herc" &amp;&amp; (red.front()).first!="Pik" &amp;&amp; (red.front()).first!="Tref") throw std::logic_error("Neispravne karte!");
</font><a name="5"></a><font color="#FF0000"><a href="match504-1.html#5" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_0.gif"/></a>

        else if((red.front()).second!="2" &amp;&amp; (red.front()).second!="3" &amp;&amp; (red.front()).second!="4" &amp;&amp; (red.front()).second!="5" &amp;&amp; (red.front()).second!="6" &amp;&amp; (red.front()).second!="7" &amp;&amp; (red.front()).second!="8" &amp;&amp; (red.front()).second!="9" &amp;&amp; (red.front()).second!="10" &amp;&amp; (red.front()).second!="J" &amp;&amp; (red.front()).second!="K" &amp;&amp; (red.front()).second!="Q" &amp;&amp; (red.front()).second!="A") throw std::logic_error("Neispravne karte!");
</font>        if((red.front()).first=="Karo"){
        auto it(std::find(lista.begin(), lista.end(), std::make_pair(Boje::Karo,(red.front()).second)));
        if(it==lista.end()) lista.push_back(std::make_pair(Boje::Karo, (red.front()).second)); 
        }
        else if((red.front()).first=="Herc"){
            auto it(std::find(lista.begin(), lista.end(), std::make_pair(Boje::Herc,(red.front()).second)));
            if(it==lista.end()) lista.push_back(std::make_pair(Boje::Herc, (red.front()).second)); 
        }
        else if((red.front()).first=="Pik"){
            auto it(std::find(lista.begin(), lista.end(), std::make_pair(Boje::Pik,(red.front()).second)));
            if(it==lista.end()) lista.push_back(std::make_pair(Boje::Pik, (red.front()).second)); 
        }
        else if((red.front()).first=="Tref"){
            auto it(std::find(lista.begin(), lista.end(), std::make_pair(Boje::Tref,(red.front()).second)));
            if(it==lista.end()) lista.push_back(std::make_pair(Boje::Tref, (red.front()).second)); 
        }
        red.pop();
        n--;
    }
    lista.sort(KonacnoPoredjenje);
}
int main ()
{
    try{
    short int korak_razbrajanja;
    int broj_karata_za_izbaciti;
    std::cout&lt;&lt;"Unesite korak razbrajanja: ";
    std::cin&gt;&gt;korak_razbrajanja;
    std::cout&lt;&lt;"Unesite broj karata koje zelite izbaciti: ";
    std::cin&gt;&gt;broj_karata_za_izbaciti;
    if((korak_razbrajanja&lt;1 || korak_razbrajanja&gt;52) || (broj_karata_za_izbaciti&lt;1)) throw std::logic_error("Neispravni elementi za izbacivanje!");
    std::list&lt;std::pair&lt;Boje, std::string&gt;&gt; lista(KreirajSpil());
    try{
    auto red(IzbaciKarteRazbrajanjem(lista,korak_razbrajanja,broj_karata_za_izbaciti));
    std::cout&lt;&lt;"U spilu trenutno ima "&lt;&lt;lista.size()&lt;&lt;" karata, i to: ";
    auto it(lista.begin());
    int i(0);
    for(i=0; i&lt;4; i++){
        std::cout&lt;&lt;"\n"&lt;&lt;bojekarata.at(i)&lt;&lt;": ";
        while((it!=lista.end()) &amp;&amp; (int(it-&gt;first)==i)) std::cout&lt;&lt;(*it++).second&lt;&lt;" "; 
    }    
    try{
        int broj_karata_za_vratiti;
        std::cout&lt;&lt;"\nUnesite broj karata koje zelite vratiti u spil: ";
        std::cin&gt;&gt;broj_karata_za_vratiti;
        VratiPrvihNKarata(lista,red, broj_karata_za_vratiti);
        std::cout&lt;&lt;"U spilu trenutno ima "&lt;&lt;lista.size()&lt;&lt;" karata, i to: ";
        it=lista.begin();
        int i(0);
        for(i=0; i&lt;4; i++){
        std::cout&lt;&lt;"\n"&lt;&lt;bojekarata.at(i)&lt;&lt;": ";
        while((it!=lista.end()) &amp;&amp; (int(it-&gt;first)==i)) std::cout&lt;&lt;(*it++).second&lt;&lt;" "; 
        }
    }catch(std::range_error rang1){
        std::cout&lt;&lt;"Izuzetak: "&lt;&lt;rang1.what();
    }catch(std::domain_error  domena1){
        std::cout&lt;&lt;"Izuzetak: "&lt;&lt;domena1.what();
    }catch(std::logic_error logika1){
        std::cout&lt;&lt;"Izuzetak: "&lt;&lt;logika1.what();
    }  
    }catch(std::logic_error logika2){
        std::cout&lt;&lt;"Izuzetak: "&lt;&lt;logika2.what();
    }
    }catch(std::logic_error logika3){
        std::cout&lt;&lt;"Izuzetak: "&lt;&lt;logika3.what();
    }
	return 0;
}
</pre>
</body>
</html>
