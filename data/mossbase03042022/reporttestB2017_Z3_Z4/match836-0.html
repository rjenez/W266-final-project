<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z4/student9081.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z4/student9081.cpp<p></p><pre>
/B2017/2018: ZadaÄ‡a 3, Zadatak 4
#include &lt;iostream&gt;
#include &lt;list&gt;
#include &lt;utility&gt;
#include &lt;string&gt;
#include &lt;map&gt;
#include &lt;queue&gt;
#include &lt;stdexcept&gt;

enum class Boje {Pik, Tref, Herc, Karo};

const char *karte[13]{"2","3","4","5","6","7","8","9","10","J","Q","K","A"};

std::string PretvoriUString (Boje b)
{
    if (b==Boje::Pik) return "Pik";
    else if (b==Boje::Tref) return "Tref";
    else if (b==Boje::Karo) return "Karo";
    return "Herc";
}

Boje PretvoriUBoju (std::string s)
{
    if (s=="Pik") return Boje::Pik;
    else if (s=="Tref") return Boje::Tref;
    else if (s=="Herc") return Boje::Herc;
    return Boje::Karo;
}

bool Kriterij2 (std::string s1, std::string s2)
{
    std::string Fun (std::string s);
    s1=Fun(s1); s2=Fun(s2);
    if (s1.size()==s2.size())
    return s1&gt;s2;
    return s1.size()&gt;s2.size();
}

bool DaLiJeIspravnaLista (const std::list&lt;std::pair&lt;Boje,std::string&gt;&gt; &amp;lista)
{
    if (lista.size()&gt;52)
        return false;
    auto it(lista.begin()),kraj(lista.end());
    while (it!=kraj)
    {
        if (it-&gt;first!=Boje::Pik &amp;&amp; it-&gt;first!=Boje::Karo &amp;&amp; it-&gt;first!=Boje::Herc &amp;&amp; it-&gt;first!=Boje::Tref)
            return false;
        bool ispravno(false);
        for (int i=0;i&lt;13;i++)
        {
            if (it-&gt;second==karte[i])
            {
                ispravno=true;
                break;
            }
        }
        if (!ispravno)
            return false;
        it++;
    }
    it=lista.begin();
    while (it!=kraj)
    {
        auto temp(it);
        temp++;
        if (temp!=kraj)
        {
            if (it-&gt;first&gt;temp-&gt;first)
            return false;
            else if (it-&gt;first==temp-&gt;first &amp;&amp; Kriterij2(it-&gt;second,temp-&gt;second))
            return false;
        }
        it++;
    }
    return true;
}

std::list&lt;std::pair&lt;Boje,std::string&gt;&gt; KreirajSpil ()
{
    Boje niz[4]{Boje::Pik,Boje::Tref,Boje::Herc,Boje::Karo};
    std::list&lt;std::pair&lt;Boje,std::string&gt;&gt; vrati;
    for (int i=0;i&lt;4;i++)
    {
        for (int j=0;j&lt;13;j++)
            vrati.push_back({niz[i],karte[j]});
    }
    return vrati;
}
<a name="3"></a><font color="#00FFFF"><a href="match836-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_1.gif"/></a>

void IzbaciKarte (std::list&lt;std::pair&lt;Boje,std::string&gt;&gt; &amp;spil, std::multimap&lt;Boje,std::string&gt; &amp;mapa)
{
    if (!DaLiJeIspravnaLista(spil))
        throw std::logic_error ("Neispravna lista!");
    auto poc(spil.begin()),kraj(spil.end());
</font>    while (poc!=kraj)
    {
        bool brisi(false);
        auto it(mapa.begin()),it2(mapa.end());
        while (it!=it2)
        {
            if (it-&gt;first==poc-&gt;first &amp;&amp; it-&gt;second==poc-&gt;second)
            {
                brisi=true;
                it=mapa.erase(it);
                break;
            }
            else
            it++;
        }
        if (brisi)
        poc=spil.erase(poc);
        else
        poc++;
    }
}
std::queue&lt;std::pair&lt;std::string,std::string&gt;&gt; IzbaciKarteRazbrajanjem (std::list&lt;std::pair&lt;Boje,std::string&gt;&gt; &amp;spil, const short int &amp;r, const int &amp;b)
{
    if (!DaLiJeIspravnaLista(spil))
        throw std::logic_error ("Neispravna lista!");
    if (r&lt;1 || r&gt;52 || b&lt;1)
        throw std::logic_error ("Neispravni elementi za izbacivanje!");
    auto it(spil.begin());
    std::queue&lt;std::pair&lt;std::string,std::string&gt;&gt; vrati;
    if (it!=spil.end()) {
    for (int i=0;i&lt;b;i++)
    {
       for (int j=0;j&lt;r-1;j++)
       {
            if (it==spil.end())
            it=spil.begin();
            it++;
       }
       if (it==spil.end())
       it=spil.begin();
       if (it!=spil.end()){
       vrati.push({PretvoriUString(it-&gt;first),it-&gt;second});
       it=spil.erase(it);}
    }}
    return vrati;
}
std::string Fun (std::string s)
{
    if (s=="J") s="11";
    if (s=="Q") s="12";
    if (s=="K")  s="13";
    if (s=="A")  s="14";
    return s;
}
bool Sortiraj (std::pair&lt;Boje,std::string&gt; a, std::pair&lt;Boje,std::string&gt; b)
{
    a.second=Fun(a.second); b.second=Fun(b.second);
    if (a.first==b.first)
    {
        if (a.second.size()==b.second.size())
        return a.second&lt;b.second;
        return a.second.size()&lt;b.second.size();
    }
    return a.first&lt;b.first;
}

bool DaLiJeIspravanRed (std::queue&lt;std::pair&lt;std::string,std::string&gt;&gt; red)
{
    while (!red.empty())
    {
        auto temp(red.front());
        red.pop();
        if (temp.first!="Pik" &amp;&amp; temp.first!="Karo" &amp;&amp; temp.first!="Tref" &amp;&amp; temp.first!="Herc")
            return false;
        bool ispravno(false);
        for (int i=0;i&lt;13;i++)
        {
            if (temp.second==karte[i])
            {
                ispravno=true;
                break;
            }
        }
        if (!ispravno)
            return false;
    }
    return true;
}

<a name="2"></a><font color="#0000FF"><a href="match836-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_2.gif"/></a>

void VratiPrvihNKarata (std::list&lt;std::pair&lt;Boje,std::string&gt;&gt; &amp;spil,std::queue&lt;std::pair&lt;std::string,std::string&gt;&gt; &amp;red, int n )
{
    if (n&lt;0)
        throw std::domain_error ("Broj n je besmislen!");
    if (n&gt;red.size())
        throw std::range_error ("Nedovoljno karata u redu!");
    if (!DaLiJeIspravnaLista(spil))
        throw std::logic_error ("Neispravna lista!");
    if (!DaLiJeIspravanRed(red))
        throw std::logic_error ("Neispravne karte!");
</font>    for (int i=0;i&lt;n;i++)
    {
        auto temp(red.front());
        red.pop();
        bool ubaci(true);
        auto poc(spil.begin()),kraj(spil.end());
        while (poc!=kraj)
        {
            if (poc-&gt;first==PretvoriUBoju(temp.first) &amp;&amp; poc-&gt;second==temp.second)
            {
                ubaci=false;
                break;
            }
            poc++;
        }
        if (ubaci)
        spil.insert(spil.end(),{PretvoriUBoju(temp.first),temp.second});
    }
    spil.sort(Sortiraj);
}

void IspisiSpil (const std::list&lt;std::pair&lt;Boje,std::string&gt;&gt; &amp;lista)
{
    if (lista.size()==0)
    {
        std::cout&lt;&lt;"Pik: \nTref: \nHerc: \nKaro: \n";
        return;
    }
    auto it(lista.begin()),kraj(lista.end());
    std::cout&lt;&lt;"Pik: ";
    while (it!=kraj &amp;&amp; it-&gt;first==Boje::Pik)
    {
        std::cout&lt;&lt;it-&gt;second&lt;&lt;" ";
        it++;
    }
    std::cout&lt;&lt;std::endl&lt;&lt;"Tref: ";
    while (it!=kraj &amp;&amp; it-&gt;first==Boje::Tref)
    {
        std::cout&lt;&lt;it-&gt;second&lt;&lt;" ";
        it++;
    }
    std::cout&lt;&lt;std::endl&lt;&lt;"Herc: ";
    while (it!=kraj &amp;&amp; it-&gt;first==Boje::Herc)
    {
        std::cout&lt;&lt;it-&gt;second&lt;&lt;" ";
        it++;
    }
    std::cout&lt;&lt;std::endl&lt;&lt;"Karo: ";
    while (it!=kraj &amp;&amp; it-&gt;first==Boje::Karo)
    {
        std::cout&lt;&lt;it-&gt;second&lt;&lt;" ";
        it++;
    }
    std::cout&lt;&lt;std::endl;
}
int main()
{
   auto lista(KreirajSpil());
   try 
   {
       short int korak;
       int izbaci;
<a name="1"></a><font color="#00FF00"><a href="match836-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_2.gif"/></a>

       std::cout&lt;&lt;"Unesite korak razbrajanja: ";
       std::cin&gt;&gt;korak;
       std::cout&lt;&lt;"Unesite broj karata koje zelite izbaciti: ";
       std::cin&gt;&gt;izbaci;
       auto red(IzbaciKarteRazbrajanjem(lista,korak,izbaci));
       std::cout&lt;&lt;"U spilu trenutno ima "&lt;&lt;lista.size()&lt;&lt;" karata, i to:\n";
</font>       IspisiSpil(lista);
       int x;
<a name="0"></a><font color="#FF0000"><a href="match836-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_3.gif"/></a>

       std::cout&lt;&lt;"Unesite broj karata koje zelite vratiti u spil: ";
       std::cin&gt;&gt;x;
       VratiPrvihNKarata(lista,red,x);
       std::cout&lt;&lt;"U spilu trenutno ima "&lt;&lt;lista.size()&lt;&lt;" karata, i to:\n";
       IspisiSpil(lista);
   }
   catch (std::domain_error izuz)
   {
       std::cout&lt;&lt;"Izuzetak: "&lt;&lt;izuz.what()&lt;&lt;std::endl;
</font>   }
   catch (std::range_error izuz2)
   {
       std::cout&lt;&lt;"Izuzetak: "&lt;&lt;izuz2.what()&lt;&lt;std::endl;
   }
   catch (std::logic_error izuz3)
   {
       std::cout&lt;&lt;"Izuzetak: "&lt;&lt;izuz3.what()&lt;&lt;std::endl;
   }
   return 0;
}
</pre>
</body>
</html>
