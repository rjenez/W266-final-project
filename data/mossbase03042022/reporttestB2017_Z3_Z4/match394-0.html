<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z4/student3169.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z4/student3169.cpp<p></p><pre>
/B2017/2018: ZadaÄ‡a 3, Zadatak 4
#include &lt;iostream&gt;
#include &lt;list&gt;
#include &lt;string&gt;
#include &lt;sstream&gt;
#include &lt;utility&gt;
#include &lt;map&gt;
#include &lt;queue&gt;


enum class Boje {Pik, Tref, Herc, Karo};

template &lt;typename T&gt; std::string U_string(T x)
{
	std::ostringstream s;
	s&lt;&lt;x;
	return s.str();
}

std::string Pretvori(Boje boja)
{
    std::string s;
    if(boja==Boje(0))s="Pik";
    else if(boja==Boje(1))s="Tref";
    else if(boja==Boje(2))s="Herc";
    else if(boja==Boje(3))s="Karo";
    return s;
}

Boje Pretvori2(std::string s)
{
    Boje boja;
    if(s=="Pik")boja=Boje(0);
    else if(s=="Tref")boja=Boje(1);
    else if(s=="Herc")boja=Boje(2);
    else if(s=="Karo")boja=Boje(3);
    return boja;
}

int Pretvori1(std::string s)
{
    int broj;
    if(s=="J"){broj=11;return broj;}
    if(s=="Q"){broj=12;return broj;}
    if(s=="K"){broj=13;return broj;}
    if(s=="A"){broj=14;return broj;}
    else broj=std::stoi(s);
    return broj;
    
}

std::list&lt;std::pair&lt;Boje, std::string&gt;&gt; KreirajSpil()
{
    std::list&lt;std::pair&lt;Boje, std::string&gt;&gt; Spil;
    Boje trenutna_boja;
    for(int i(0);i&lt;4;i++)
    {
        trenutna_boja=Boje(i);
        for(int j(2);j&lt;=10;j++)
        {
            std::pair&lt;Boje, std::string&gt; tmp;
            tmp.first= trenutna_boja;
            tmp.second=U_string(j);
            Spil.push_back(tmp);
        }
        std::pair&lt;Boje, std::string&gt; tmp;
        tmp=std::make_pair(trenutna_boja, 'J');
        Spil.push_back(tmp);
        tmp=std::make_pair(trenutna_boja, 'Q');
        Spil.push_back(tmp);
        tmp=std::make_pair(trenutna_boja, 'K');
        Spil.push_back(tmp);
        tmp=std::make_pair(trenutna_boja, 'A');
        Spil.push_back(tmp);
        
    }
    
    return Spil;
}

void IzbaciKarte(std::list&lt;std::pair&lt;Boje, std::string&gt;&gt; &amp;Spil, std::multimap&lt;Boje, std::string&gt;&amp; Mapa)
{
    if(Spil.size()&gt;52)throw std::logic_error("Neispravna lista!");
    for(auto x: Spil)
    {
        if(!(x.first==Boje::Pik || x.first==Boje::Herc || x.first==Boje::Tref || x.first==Boje::Karo))throw std::logic_error("Neispravna lista");
        if(!((x.second.at(0)&gt;='0' &amp;&amp; x.second.at(0)&lt;='9') || x.second.at(0)=='K' || x.second.at(0)=='Q' || x.second.at(0)=='A' || x.second.at(0)=='J'))throw std::logic_error("Neispravna lista");
    }
    for(auto it(Spil.begin());it!=Spil.end();it++)
    {
        auto it2=Mapa.find(it-&gt;first);
        if(it2!=Mapa.end() &amp;&amp; it-&gt;second==it2-&gt;second)
        {
            Mapa.erase(it2);
            it=Spil.erase(it);
        }
    }
}

<a name="1"></a><font color="#00FF00"><a href="match394-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_1.gif"/></a>

std::queue&lt;std::pair&lt;std::string, std::string&gt;&gt; IzbaciKarteRazbrajanjem(std::list&lt;std::pair&lt;Boje, std::string&gt;&gt; &amp;Spil, const short int &amp;r, const int &amp;b)
{
    if(r&lt;1 || r&gt;52 || b&lt;1)throw std::logic_error("Neispravni elementi za izbacivanje!");
</font>    if(Spil.size()&gt;52)throw std::logic_error("Neispravna lista!");
    for(auto x: Spil)
    {
        if(!(x.first==Boje::Pik || x.first==Boje::Herc || x.first==Boje::Tref || x.first==Boje::Karo))throw std::logic_error("Neispravna lista");
        if(!((x.second.at(0)&gt;='0' &amp;&amp; x.second.at(0)&lt;='9') || x.second.at(0)=='K' || x.second.at(0)=='Q' || x.second.at(0)=='A' || x.second.at(0)=='J'))throw std::logic_error("Neispravna lista");
    }
    std::queue&lt;std::pair&lt;std::string, std::string&gt;&gt; red;
    int a(0);
    auto it=Spil.begin();

    while(!(Spil.size()==0 || a==b))
    {
        int brojac(0);
        while(brojac!=r)
        {
            brojac++;
            if(brojac==r)break;
            it++;
            if(it==Spil.end())it=Spil.begin();
            
        }
        std::string pomocni;
        if(it-&gt;first==Boje(0))pomocni="Pik";
        else if(it-&gt;first==Boje(1))pomocni="Tref";
        else if(it-&gt;first==Boje(2))pomocni="Herc";
        else if(it-&gt;first==Boje(3))pomocni="Karo";
        std::pair&lt;std::string, std::string&gt; temp;
        temp.first=pomocni;
        temp.second=it-&gt;second;
        red.push(temp);
        a++;
        it=Spil.erase(it);
        if(it==Spil.end())it=Spil.begin();
    }
    return red;
}


void VratiPrvihNKarata(std::list&lt;std::pair&lt;Boje, std::string&gt;&gt; &amp;Spil, std::queue&lt;std::pair&lt;std::string, std::string&gt;&gt; &amp;Red, int n)
{
    if(Spil.size()&gt;52)throw std::logic_error("Neispravna lista!");
    for(auto x: Spil)
    {
        if(!(x.first==Boje::Pik || x.first==Boje::Herc || x.first==Boje::Tref || x.first==Boje::Karo))throw std::logic_error("Neispravna lista");
        if(!((x.second.at(0)&gt;='0' &amp;&amp; x.second.at(0)&lt;='9') || x.second.at(0)=='K' || x.second.at(0)=='Q' || x.second.at(0)=='A' || x.second.at(0)=='J'))throw std::logic_error("Neispravna lista");
    }
    if(n&lt;0)throw std::domain_error("Broj n je besmislen!");
    if(n&gt;Red.size())throw std::range_error("Nedovoljno karata u redu!");
    int a(0);
    while(a!=n)
    {
        if(a==n)break;
        for(auto it(Spil.begin());it!=Spil.end();it++)
        {
            if(a==n)break;
            if(Pretvori(it-&gt;first)==Red.front().first)
            {
                if(Pretvori1(it-&gt;second)&gt;Pretvori1(Red.front().second))
                {
                    std::pair&lt;Boje, std::string&gt;Par;
                    Par=std::make_pair(Pretvori2(Red.front().first),Red.front().second);
                    Spil.insert(it,Par);
                    Red.pop();
                    a++;
                }
                
                else if(Pretvori1(it-&gt;second)&lt;Pretvori1(Red.front().second) &amp;&amp; Pretvori1(Red.front().second)==14 &amp;&amp; Pretvori1(it-&gt;second)==13)
                {
                    it++;
                    std::pair&lt;Boje, std::string&gt;Par;
                    Par=std::make_pair(Pretvori2(Red.front().first),Red.front().second);
                    Spil.insert(it,Par);
                    Red.pop();
                    a++;
                }
            }
        }
    }
}

int main ()
{

    try
    {
    std::cout&lt;&lt;"Unesite korak razbrajanja: ";
    int n;
    std::cin&gt;&gt;n;
    std::cout&lt;&lt;"Unesite broj karata koje zelite izbaciti: ";
    int broj;
    std::cin&gt;&gt;broj;
    std::list&lt;std::pair&lt;Boje, std::string&gt;&gt; Spil(KreirajSpil());
<a name="0"></a><font color="#FF0000"><a href="match394-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_2.gif"/></a>

    std::queue&lt;std::pair&lt;std::string, std::string&gt;&gt; Red(IzbaciKarteRazbrajanjem(Spil,n,broj));
    
    std::cout&lt;&lt;"U spilu trenutno ima "&lt;&lt;Spil.size()&lt;&lt;" karata, i to:"&lt;&lt;std::endl;
    std::cout&lt;&lt;"Pik: ";
    for(auto it=Spil.begin();it!=Spil.end();it++)
    {
        if(it-&gt;first==Boje(0))std::cout&lt;&lt;it-&gt;second&lt;&lt;" ";
</font>    }
<a name="2"></a><font color="#0000FF"><a href="match394-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_1.gif"/></a>

    std::cout&lt;&lt;std::endl&lt;&lt;"Tref: ";
    for(auto it=Spil.begin();it!=Spil.end();it++)
    {
        if(it-&gt;first==Boje(1))std::cout&lt;&lt;it-&gt;second&lt;&lt;" ";
</font>    }
<a name="3"></a><font color="#00FFFF"><a href="match394-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_1.gif"/></a>

    std::cout&lt;&lt;std::endl&lt;&lt;"Herc: ";
    for(auto it=Spil.begin();it!=Spil.end();it++)
    {
        if(it-&gt;first==Boje(2))std::cout&lt;&lt;it-&gt;second&lt;&lt;" ";
</font>    }
<a name="4"></a><font color="#FF00FF"><a href="match394-1.html#4" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_1.gif"/></a>

    std::cout&lt;&lt;std::endl&lt;&lt;"Karo: ";
    for(auto it=Spil.begin();it!=Spil.end();it++)
    {
        if(it-&gt;first==Boje(3))std::cout&lt;&lt;it-&gt;second&lt;&lt;" ";
</font>    }
    std::cout&lt;&lt;std::endl&lt;&lt;"Unesite broj karata koje zelite vratiti u spil: ";
    int br1;
    std::cin&gt;&gt;br1;
    VratiPrvihNKarata(Spil,Red,br1);
    
     std::cout&lt;&lt;"U spilu trenutno ima "&lt;&lt;Spil.size()&lt;&lt;" karata, i to:"&lt;&lt;std::endl;
    std::cout&lt;&lt;"Pik: ";
    for(auto it=Spil.begin();it!=Spil.end();it++)
    {
        if(it-&gt;first==Boje(0))std::cout&lt;&lt;it-&gt;second&lt;&lt;" ";
    }
<a name="5"></a><font color="#FF0000"><a href="match394-1.html#5" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_1.gif"/></a>

    std::cout&lt;&lt;std::endl&lt;&lt;"Tref: ";
    for(auto it=Spil.begin();it!=Spil.end();it++)
    {
        if(it-&gt;first==Boje(1))std::cout&lt;&lt;it-&gt;second&lt;&lt;" ";
</font>    }
<a name="6"></a><font color="#00FF00"><a href="match394-1.html#6" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_1.gif"/></a>

    std::cout&lt;&lt;std::endl&lt;&lt;"Herc: ";
    for(auto it=Spil.begin();it!=Spil.end();it++)
    {
        if(it-&gt;first==Boje(2))std::cout&lt;&lt;it-&gt;second&lt;&lt;" ";
</font>    }
<a name="7"></a><font color="#0000FF"><a href="match394-1.html#7" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_1.gif"/></a>

    std::cout&lt;&lt;std::endl&lt;&lt;"Karo: ";
    for(auto it=Spil.begin();it!=Spil.end();it++)
    {
        if(it-&gt;first==Boje(3))std::cout&lt;&lt;it-&gt;second&lt;&lt;" ";
</font>    }
        
    }
    catch(std::domain_error Izuzetak){
        std::cout&lt;&lt;"Izuzetak: "&lt;&lt;Izuzetak.what()&lt;&lt;std::endl;
    }
    catch(std::logic_error Izuzetak){
        std::cout&lt;&lt;"Izuzetak: "&lt;&lt;Izuzetak.what()&lt;&lt;std::endl;
    }
    catch(std::range_error Izuzetak){
        std::cout&lt;&lt;"Izuzetak: "&lt;&lt;Izuzetak.what()&lt;&lt;std::endl;
    }
    
	return 0;
}
</pre>
</body>
</html>
