<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z4/student9443.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z4/student9443.cpp<p></p><pre>
/B2017/2018: ZadaÄ‡a 3, Zadatak 4
#include &lt;iostream&gt;
#include &lt;list&gt;
#include &lt;utility&gt;
#include &lt;string&gt;
#include &lt;map&gt;
#include &lt;stdexcept&gt;
#include &lt;queue&gt;

enum class Boje { Pik, Tref, Herc, Karo };

std::list&lt;std::pair&lt;Boje, std::string&gt;&gt; KreirajSpil() {
    std::list&lt;std::pair&lt;Boje, std::string&gt;&gt; Spil(52);
    auto it(Spil.begin());
    int i{1};
    while(it != Spil.end() &amp;&amp; i &lt;=4) {
        if(i == 1) {
            for(int j=0; j&lt;13; j++) {
                it-&gt;first = Boje::Pik;
                if(j&lt;9) it-&gt;second = std::to_string(j+2);
                else if(j == 9) (*it).second = 'J';
                else if(j == 10) (*it).second = 'Q';
                else if(j == 11) (*it).second = 'K';
                else if(j == 12) (*it).second = 'A';
                it++;
            }
        }
        if(i == 2) {
            for(int j=0; j&lt;13; j++) {
                (*it).first = Boje::Tref;
                if(j&lt;9) (*it).second = std::to_string(j+2);
                else if(j == 9) (*it).second = 'J';
                else if(j == 10) (*it).second = 'Q';
                else if(j == 11) (*it).second = 'K';
                else if(j == 12) (*it).second = 'A';
                it++;
            }
        }
        if(i == 3) {
            for(int j=0; j&lt;13; j++) {
                (*it).first = Boje::Herc;
                if(j&lt;9) (*it).second = std::to_string(j+2);
                else if(j == 9) (*it).second = 'J';
                else if(j == 10) (*it).second = 'Q';
                else if(j == 11) (*it).second = 'K';
                else if(j == 12) (*it).second = 'A';
                it++;
            }
        }
        if(i == 4) {
            for(int j=0; j&lt;13; j++) {;
                it-&gt;first = Boje::Karo;
                if(j&lt;9) it-&gt;second = std::to_string(j+2);
                else if(j == 9) it-&gt;second = 'J';
                else if(j == 10) it-&gt;second = 'Q';
                else if(j == 11) it-&gt;second = 'K';
                else if(j == 12) it-&gt;second = 'A';
                it++;
            }
        }
        i++;
    }
    return Spil;
}

void Vrijednost(int &amp;vrij, int &amp;vrij2, std::string it, std::string R) {
    if(it == "2") vrij=1;
    else if(it == "3") vrij=2;
    else if(it == "4") vrij=3;
    else if(it == "5") vrij=4;
    else if(it == "6") vrij=5;
    else if(it == "7") vrij=6;
    else if(it == "8") vrij=7;
    else if(it == "9") vrij=8;
    else if(it == "10") vrij=9;
    else if(it == "J") vrij=10;
    else if(it == "Q") vrij=11;
    else if(it == "K") vrij=12;
    else if(it == "A") vrij=13;
                
    if(R == "2") vrij2=1;
    else if(R == "3") vrij2=2;
    else if(R == "4") vrij2=3;
    else if(R == "5") vrij2=4;
    else if(R == "6") vrij2=5;
    else if(R == "7") vrij2=6;
    else if(R == "8") vrij2=7;
    else if(R == "9") vrij2=8;
    else if(R == "10") vrij2=9;
    else if(R == "J") vrij2=10;
    else if(R == "Q") vrij2=11;
    else if(R == "K") vrij2=12;
    else if(R == "A") vrij2=13;
}

void Provjera(std::list&lt;std::pair&lt;Boje, std::string&gt;&gt; S) {
    if(S.size() &gt; 52) throw std::logic_error("Neispravna lista!");
    auto it(S.begin());
    while(it != S.end()) {
        auto it2(it);
        while(it2 != S.end()) {
            if(it-&gt;first &gt; it2-&gt;first) throw std::logic_error("Neispravna lista!");
            if(it-&gt;first == it2-&gt;first) {
                if(( it-&gt;second == "2" || it-&gt;second == "3" || it-&gt;second == "4" || it-&gt;second == "5" || it-&gt;second == "6" || it-&gt;second == "7" || it-&gt;second == "8" ||
                   it-&gt;second == "9" || it-&gt;second == "10" || it-&gt;second == "J" || it-&gt;second == "Q" || it-&gt;second == "K" || it-&gt;second == "A") &amp;&amp; 
                    (it2-&gt;second == "2" || it2-&gt;second == "3" || it2-&gt;second == "4" || it2-&gt;second == "5" || it2-&gt;second == "6" || it2-&gt;second == "7" || it2-&gt;second == "8" ||
                     it2-&gt;second == "9" || it2-&gt;second == "10" || it2-&gt;second == "J" || it2-&gt;second == "Q" || it2-&gt;second == "K" || it2-&gt;second == "A")) {
                        int vrij{0}, vrij2{0};
                        Vrijednost(vrij, vrij2, it-&gt;second, it2-&gt;second);
                        if(vrij &gt; vrij2) throw std::logic_error("Neispravna lista!");
                }
                else throw std::logic_error("Neispravna lista!");
            }
            it2++;
        }
        it++;
    }
}

void IzbaciKarte(std::list&lt;std::pair&lt;Boje, std::string&gt;&gt; &amp;S, std::multimap&lt;Boje, std::string&gt; &amp;M) {
    Provjera(S);
    auto itmap(M.begin());
    auto it(S.begin());
<a name="1"></a><font color="#00FF00"><a href="match407-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_1.gif"/></a>

    while(itmap != M.end()) {
        while(it != S.end()) {
            if(itmap-&gt;first == it-&gt;first &amp;&amp; itmap-&gt;second == it-&gt;second) {
                itmap=M.erase(itmap);
                it=S.erase(it);
                it=S.begin();
</font>            }
            else it++;
        }
        itmap++;
    }
    
}

<a name="5"></a><font color="#FF0000"><a href="match407-1.html#5" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_1.gif"/></a>

std::queue&lt;std::pair&lt;std::string, std::string&gt;&gt; IzbaciKarteRazbrajanjem(std::list&lt;std::pair&lt;Boje, std::string&gt;&gt; &amp;S, const short int &amp;r, const int &amp;b) {
    if(r &lt; 1 || r &gt; 52 || b &lt; 1) throw std::logic_error("Neispravni elementi za izbacivanje!");
    Provjera(S);
    auto it(S.begin());
</font>    int brojac{1}, jelb{0};
    std::queue&lt;std::pair&lt;std::string, std::string&gt;&gt; VRATI;
    while(it != S.end()) {
        if(brojac &gt;= r &amp;&amp; brojac%r == 0) {
<a name="2"></a><font color="#0000FF"><a href="match407-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_1.gif"/></a>

            std::string upisBoje;
            if(it-&gt;first == Boje::Pik) upisBoje="Pik";
            else if(it-&gt;first == Boje::Tref) upisBoje="Tref";
            else if(it-&gt;first == Boje::Herc) upisBoje="Herc";
            else if(it-&gt;first == Boje::Karo) upisBoje="Karo";
</font>            VRATI.push(std::pair&lt;std::string, std::string&gt;(upisBoje, it-&gt;second));
            it=S.erase(it);
            jelb++;
            if(jelb == b) break;
        }
        else it++;
        brojac++;
        if(it == S.end()) it=S.begin();
    }
    return VRATI;
}

void VratiPrvihNKarata(std::list&lt;std::pair&lt;Boje, std::string&gt;&gt; &amp;S, std::queue&lt;std::pair&lt;std::string, std::string&gt;&gt; &amp;R, int n) {
    Provjera(S);
    if(n &lt; 0) throw std::domain_error("Broj n je besmislen!");
    if(n &gt; R.size()) throw std::range_error("Nedovoljno karata u redu!");
<a name="0"></a><font color="#FF0000"><a href="match407-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_2.gif"/></a>

    for(int i=0; i&lt;n; i++) {
        Boje bojko;
        if((R.front()).first == "Pik") bojko=Boje::Pik;
        else if((R.front()).first == "Tref") bojko=Boje::Tref;
        else if((R.front()).first == "Herc") bojko=Boje::Herc;
</font>        else if((R.front()).first == "Karo") bojko=Boje::Karo;
        else throw std::logic_error("Neispravne karte!");
        if((R.front()).second=="2"||(R.front()).second=="3"||(R.front()).second=="4"||(R.front()).second=="5"||(R.front()).second=="6"||(R.front()).second=="7"||(R.front()).second=="8"
           ||(R.front()).second=="9"||(R.front()).second=="10"||(R.front()).second=="J"||(R.front()).second=="Q"||(R.front()).second=="K"||(R.front()).second=="A") {
            auto it(S.begin());
            bool ImalGa{false};
            while(it != S.end() &amp;&amp; !ImalGa) {
                if(it-&gt;first == bojko &amp;&amp; it-&gt;second == (R.front()).second)  ImalGa=true;
                it++;
            }
            if(!ImalGa) {
                it=S.begin();
                bool PrijeManji{false};
                while(it != S.end()) {
                    if(it-&gt;first == bojko) {
                        int vrij{0}, vrij2{0};
                        Vrijednost(vrij, vrij2, it-&gt;second, (R.front()).second);
                        auto pomit(it);
                        pomit++;
                        if(vrij2 &lt; vrij &amp;&amp; !PrijeManji) {
                            PrijeManji=false;
                            S.insert(it, std::pair&lt;Boje, std::string&gt;(bojko, (R.front()).second));
                            break;
                        }
                        else if(vrij2 &gt; vrij &amp;&amp; PrijeManji &amp;&amp; (pomit==S.end() || pomit-&gt;first!=bojko)) {
                            PrijeManji=false;
                            S.insert(pomit, std::pair&lt;Boje, std::string&gt;(bojko, (R.front()).second));
                            break;
                        }
                        else if(vrij2 &lt; vrij &amp;&amp; PrijeManji &amp;&amp; it != S.begin()) {
                            S.insert(it, std::pair&lt;Boje, std::string&gt;(bojko, (R.front()).second));
                            PrijeManji=false;
                            break;
                        }
                        else if(vrij2 &gt; vrij) PrijeManji=true;
                    }
                    it++;
                }
            }
        }
        else throw std::logic_error("Neispravne karte!");
        R.pop();
    }
}

void ISPISI(std::list&lt;std::pair&lt;Boje, std::string&gt;&gt; SPIL) {
    std::cout &lt;&lt; "U spilu trenutno ima " &lt;&lt; SPIL.size() &lt;&lt; " karata, i to:" &lt;&lt; std::endl;
    auto itspil(SPIL.begin());
    std::cout &lt;&lt; "Pik: ";
    while(itspil != SPIL.end() &amp;&amp; itspil-&gt;first == Boje::Pik) {
        std::cout &lt;&lt; itspil-&gt;second &lt;&lt; " ";
        itspil++;
    }
    std::cout &lt;&lt; std::endl &lt;&lt; "Tref: ";
    while(itspil != SPIL.end() &amp;&amp; itspil-&gt;first == Boje::Tref) {
    std::cout &lt;&lt; itspil-&gt;second &lt;&lt; " ";
        itspil++;
    }
    std::cout &lt;&lt; std::endl &lt;&lt; "Herc: ";
    while(itspil != SPIL.end() &amp;&amp; itspil-&gt;first == Boje::Herc) {
        std::cout &lt;&lt; itspil-&gt;second &lt;&lt; " ";
        itspil++;
    }
    std::cout &lt;&lt; std::endl &lt;&lt; "Karo: ";
    while(itspil != SPIL.end() &amp;&amp; itspil-&gt;first == Boje::Karo) {
        std::cout &lt;&lt; itspil-&gt;second &lt;&lt; " ";
        itspil++;
    }
    std::cout &lt;&lt; std::endl;
}

<a name="4"></a><font color="#FF00FF"><a href="match407-1.html#4" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_1.gif"/></a>

int main () {
    std::cout &lt;&lt; "Unesite korak razbrajanja: ";
    short int r;
    std::cin &gt;&gt; r;
    std::cout &lt;&lt; "Unesite broj karata koje zelite izbaciti: ";
    int n;
    std::cin &gt;&gt; n;
    try {
        std::list&lt;std::pair&lt;Boje, std::string&gt;&gt; SPIL{ KreirajSpil() };
</font>        std::queue&lt;std::pair&lt;std::string, std::string&gt;&gt; RED;
        RED=IzbaciKarteRazbrajanjem(SPIL, r, n);
        ISPISI(SPIL);
        std::cout &lt;&lt; "Unesite broj karata koje zelite vratiti u spil: ";
<a name="3"></a><font color="#00FFFF"><a href="match407-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_1.gif"/></a>

        std::cin &gt;&gt; n;
        VratiPrvihNKarata(SPIL, RED, n);
        ISPISI(SPIL);
    }
    catch(std::logic_error izuzetak) {
        std::cout &lt;&lt; "Izuzetak: " &lt;&lt; izuzetak.what();
    }
    catch(std::range_error izuzetak) {
        std::cout &lt;&lt; "Izuzetak: " &lt;&lt; izuzetak.what();
</font>    }
	return 0;
}
</pre>
</body>
</html>
