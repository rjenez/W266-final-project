<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z4/student3871.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z4/student3871.cpp<p></p><pre>
<a name="0"></a><font color="#FF0000"><a href="match30-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_97.gif"/></a>

/B2017/2018: ZadaÄ‡a 3, Zadatak 4
#include &lt;iostream&gt;
#include &lt;vector&gt;
#include &lt;list&gt;
#include &lt;map&gt;
#include &lt;stdexcept&gt;
#include &lt;algorithm&gt;
#include &lt;queue&gt;
#include &lt;string&gt;
#include &lt;utility&gt;
enum class Boje { Pik, Tref, Herc, Karo };

std::list&lt;std::pair&lt;Boje,std::string&gt;&gt; KreirajSpil()
{
 std::list&lt;std::pair&lt;Boje,std::string&gt;&gt; karte;
 std::pair&lt;Boje,std::string&gt; par;
 std::vector&lt;Boje&gt; bojekarti{Boje::Pik,Boje::Tref,Boje::Herc,Boje::Karo};
 std::vector&lt;std::string&gt; brojevikarti{"2","3","4","5","6","7","8","9","10","J","Q","K","A"};
 for(int i(0);i&lt;bojekarti.size();i++)
 {
  for(int j(0);j&lt;brojevikarti.size();j++)
  {
   par=std::make_pair(bojekarti[i],brojevikarti[j]);
   karte.push_back(par);
  }
 }
 return karte;
}

void IzbaciKarte(std::list&lt;std::pair&lt;Boje,std::string&gt;&gt; &amp;spil, std::multimap&lt;Boje,std::string&gt; &amp;multimapa)
{
 int brojac(0);
 for(auto it(spil.begin());it!=spil.end();it++)
 {
  brojac++;
 }
 if(brojac&gt;52) throw std::logic_error("Neispravna lista!");
 std::vector&lt;std::string&gt; brojevikarti{"2","3","4","5","6","7","8","9","10","J","Q","K","A"};
 for(auto it(spil.begin());it!=spil.end();it++)
 {
  Boje b=it-&gt;first;
  while((it-&gt;first)==b)
  {
   int brojac2(0);
   std::string s=(it-&gt;second);
   for(int i(0);i&lt;brojevikarti.size();i++)
   {
    if(s==brojevikarti[i]) brojac2++;
   }
   if(brojac2&lt;1) throw std::logic_error("Neispravna lista!");
   it++;
  }
  it--;
  if((it-&gt;first)&lt;b) throw std::logic_error("Neispravna lista!");
 }
 for(auto it(spil.begin());it!=spil.end();it++)
 {
  auto prvi=(it-&gt;first);
  auto drugi=(it-&gt;second);
  for(auto it2(multimapa.begin());it2!=multimapa.end(); )
  {
   if(prvi==(it2-&gt;first) &amp;&amp; drugi==(it2-&gt;second))
   {
    it=spil.erase(it);
    it2=multimapa.erase(it2);
   }
   else ++it2;
  }
 }
}

std::queue&lt;std::pair&lt;std::string,std::string&gt;&gt; IzbaciKarteRazbrajanjem(std::list&lt;std::pair&lt;Boje,std::string&gt;&gt; &amp;spil,const short int &amp;r,const int &amp;b)
{
 if(r&lt;1 || r&gt;52) throw std::logic_error("Neispravni elementi za izbacivanje!");
 if(b&lt;1) throw std::logic_error("Neispravni elementi za izbacivanje!");
 int br(0);
 for(auto it(spil.begin());it!=spil.end();it++)
 {
  br++;
 }
 if(br&gt;52) throw std::logic_error("Neispravna lista!");
 std::vector&lt;std::string&gt; elementi{"2","3","4","5","6","7","8","9","10","J","Q","K","A"};
 for(auto it(spil.begin());it!=spil.end();it++)
 {
  Boje b=it-&gt;first;
  while((it-&gt;first)==b)
  {
   int br2(0);
   std::string s=(it-&gt;second);
   for(int i(0);i&lt;elementi.size();i++)
   {
    if(s==elementi[i]) br2++;
   }
   if(br2&lt;1) throw std::logic_error("Neispravna lista!");
   it++;
  }
  it--;
  if((it-&gt;first)&lt;b) throw std::logic_error("Neispravna lista!");
 }
 std::queue&lt;std::pair&lt;std::string,std::string&gt;&gt; izbacene;
 std::string pomocni;
 auto it(spil.begin());
 int brojac(0),n(1);
 while(1)
 {
  brojac++;
  if(n==b+1) break;
  if(it==spil.end()) it=spil.begin();
  if(r*n==brojac) 
  {
   if(it-&gt;first==Boje::Pik) pomocni="Pik";
   if(it-&gt;first==Boje::Tref) pomocni="Tref";
   if(it-&gt;first==Boje::Herc) pomocni="Herc";
   if(it-&gt;first==Boje::Karo) pomocni="Karo";
   izbacene.push(std::make_pair(pomocni,it-&gt;second));
   it=spil.erase(it);
   n++;
  }
  else ++it;
 }
 return izbacene;
}

bool kriterij(std::pair&lt;Boje,std::string&gt; par1, std::pair&lt;Boje,std::string&gt; par2)
{
 std::vector&lt;std::string&gt; elementi{"2","3","4","5","6","7","8","9","10","J","Q","K","A"};
 if(par1.first&gt;par2.first) return false;
 if(par1.first==par2.first)
 {
  int pozicija_par1(0),pozicija_par2(0);
  for(int i(0);i&lt;elementi.size();i++)
  {
   if(par1.second==elementi[i]) pozicija_par1=i;
   if(par2.second==elementi[i]) pozicija_par2=i;
  }
  if(pozicija_par1&lt;pozicija_par2) return true;
  else return false;
 }
 return true;
}

void VratiPrvihNKarata(std::list&lt;std::pair&lt;Boje,std::string&gt;&gt; &amp;spil, std::queue&lt;std::pair&lt;std::string,std::string&gt;&gt; &amp;red, int k)
{
 std::vector&lt;std::string&gt; elementi{"2","3","4","5","6","7","8","9","10","J","Q","K","A"};
 std::vector&lt;Boje&gt; boje{ Boje::Pik,Boje::Tref,Boje::Herc,Boje::Karo };
 if(k&lt;0) throw std::domain_error("Broj n je besmislen!");
 if(k&gt;red.size()) throw std::range_error("Nedovoljno karata u redu!");
 int br(0);
 for(auto it(spil.begin());it!=spil.end();it++)
 {
  br++;
 }
 if(br&gt;52) throw std::logic_error("Neispravna lista!");
 for(auto it(spil.begin());it!=spil.end();it++)
 {
  Boje b=it-&gt;first;
  while((it-&gt;first)==b)
  {
   int br2(0);
   std::string s=(it-&gt;second);
   for(int i(0);i&lt;elementi.size();i++)
   {
    if(s==elementi[i]) br2++;
   }
   if(br2&lt;1) throw std::logic_error("Neispravna lista!");
   it++;
  }
  it--;
  if((it-&gt;first)&lt;b) throw std::logic_error("Neispravna lista!");
 }
 Boje pomocni;
 int i(0);
 while(!red.empty() &amp;&amp; i&lt;k)
 {
  if(red.front().first=="Pik") pomocni=Boje::Pik;
  if(red.front().first=="Tref") pomocni=Boje::Tref;
  if(red.front().first=="Herc") pomocni=Boje::Herc;
  if(red.front().first=="Karo") pomocni=Boje::Karo;
  std::pair&lt;Boje,std::string&gt; par=std::make_pair(pomocni,red.front().second);
  int brojac1(0);
  for(int i(0);i&lt;boje.size();i++)
  {
   if(par.first==boje[i]) brojac1++;
  }
  if(brojac1&lt;1) throw std::logic_error("Neispravne karte!");
  int brojac2(0);
  for(int i(0);i&lt;elementi.size();i++)
  {
   if(par.second==elementi[i]) brojac2++;
  }
  if(brojac2&lt;1) throw std::logic_error("Neispravne karte!");
  spil.push_back(par);
  red.pop();
  i++;
 }
 spil.sort();
 spil.sort(kriterij);
}

int main ()
{
 try
 {
  int m,n,vrati;
  std::vector&lt;Boje&gt; boje{Boje::Pik,Boje::Tref,Boje::Herc,Boje::Karo};
  std::vector&lt;std::string&gt; boje2{"Pik","Tref","Herc","Karo"};
  std::list&lt;std::pair&lt;Boje,std::string&gt;&gt; lista;
  std::multimap&lt;Boje,std::string&gt; multimapa;
  //multimapa.insert({Boje::Pik,"4"});
  //multimapa.insert({Boje::Pik,"6"});
  std::cout &lt;&lt; "Unesite korak razbrajanja: ";
  std::cin &gt;&gt; m;
  std::cout &lt;&lt; "Unesite broj karata koje zelite izbaciti: ";
  std::cin &gt;&gt; n;
  lista=KreirajSpil();
  int ostalo=(52-n);
  IzbaciKarte(lista,multimapa);
  std::queue&lt;std::pair&lt;std::string,std::string&gt;&gt; red;
  red=IzbaciKarteRazbrajanjem(lista,m,n);
  std::cout &lt;&lt; "U spilu trenutno ima " &lt;&lt; ostalo &lt;&lt; " karata, i to:" &lt;&lt; std::endl;
  for(auto it(lista.begin());it!=lista.end(); )
  {
   if(it-&gt;first==Boje::Pik)
   {
    std::cout &lt;&lt; "Pik: ";
    while(it-&gt;first==Boje::Pik)
    {
     std::cout &lt;&lt; it-&gt;second &lt;&lt; " ";
     it++;
    } 
   } 
   std::cout &lt;&lt; std::endl;
   if(it-&gt;first==Boje::Tref) 
   {
    std::cout &lt;&lt; "Tref: ";
    while(it-&gt;first==Boje::Tref)
    {
     std::cout &lt;&lt; it-&gt;second &lt;&lt; " ";
     it++;
    }
   }
   std::cout &lt;&lt; std::endl;
   if(it-&gt;first==Boje::Herc)
   {
    std::cout &lt;&lt; "Herc: ";
    while(it-&gt;first==Boje::Herc)
    {
     std::cout &lt;&lt; it-&gt;second &lt;&lt; " ";
     it++;
    }
   }
   std::cout &lt;&lt; std::endl;
   if(it-&gt;first==Boje::Karo)
   {
    std::cout &lt;&lt; "Karo: ";
    while(it-&gt;first==Boje::Karo)
    {
     std::cout &lt;&lt; it-&gt;second &lt;&lt; " ";
     it++;
    }
   }
   std::cout &lt;&lt; std::endl;
  }
  std::cout &lt;&lt;"Unesite broj karata koje zelite vratiti u spil: ";
  std::cin &gt;&gt; vrati;
  int nazad=ostalo+vrati;
  VratiPrvihNKarata(lista,red,vrati);
  std::cout &lt;&lt; "U spilu trenutno ima " &lt;&lt; nazad &lt;&lt; " karata, i to: " &lt;&lt; std::endl;
  for(auto it(lista.begin());it!=lista.end(); )
  {
   if(it-&gt;first==Boje::Pik)
   {
    std::cout &lt;&lt; "Pik: ";
    while(it-&gt;first==Boje::Pik)
    {
     std::cout &lt;&lt; it-&gt;second &lt;&lt; " ";
     it++;
    }
   }
   std::cout &lt;&lt; std::endl;
   if(it-&gt;first==Boje::Tref)
   {
    std::cout &lt;&lt; "Tref: ";
    while(it-&gt;first==Boje::Tref)
    {
     std::cout &lt;&lt; it-&gt;second &lt;&lt; " ";
     it++;
    }
   }
   std::cout &lt;&lt; std::endl;
   if(it-&gt;first==Boje::Herc)
   {
    std::cout &lt;&lt; "Herc: ";
    while(it-&gt;first==Boje::Herc)
    {
     std::cout &lt;&lt; it-&gt;second &lt;&lt; " ";
     it++;
    }
   }
   std::cout &lt;&lt; std::endl;
   if(it-&gt;first==Boje::Karo)
   {
    std::cout &lt;&lt; "Karo: ";
    while(it-&gt;first==Boje::Karo)
    {
     std::cout &lt;&lt; it-&gt;second &lt;&lt; " ";
     it++;
    }
   }
   std::cout &lt;&lt; std::endl;
  }
 }
 catch(std::domain_error e)
 {
  std::cout &lt;&lt; "Izuzetak: " &lt;&lt; e.what() &lt;&lt; std::endl;
 }
 catch(std::logic_error e)
</font> {
  std::cout &lt;&lt; "Izuzetak: " &lt;&lt; e.what() &lt;&lt; std::endl;
 }
 catch(std::range_error e)
 {
  std::cout &lt;&lt; "Izuzetak: " &lt;&lt; e.what() &lt;&lt;std::endl;
 }
 return 0;
}
</pre>
</body>
</html>
