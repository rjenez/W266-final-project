<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z4/student1581.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z4/student1029.cpp<p></p><pre>
<a name="0"></a><font color="#FF0000"><a href="match78-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_96.gif"/></a>

/B2017/2018: ZadaÄ‡a 3, Zadatak 4
#include &lt;iostream&gt;
#include &lt;list&gt;
#include &lt;utility&gt;
#include &lt;string&gt;
#include &lt;map&gt;
#include &lt;stdexcept&gt;
#include &lt;queue&gt;
#include &lt;vector&gt;
#include &lt;algorithm&gt;
#include &lt;cmath&gt;

enum class Boje {Pik, Tref, Herc, Karo};
static std::vector&lt;std::string&gt; naziviKarata{"2", "3", "4", "5", "6", "7", "8", "9", "10", "J", "Q", "K", "A"};
typedef std::list&lt;std::pair&lt;Boje, std::string&gt;&gt; Spil;
typedef std::queue&lt;std::pair&lt;std::string, std::string&gt;&gt; Red;

Spil KreirajSpil() {
    Spil spil;
    Boje b = Boje::Pik;
    switch(b) {
        case Boje::Pik: {
            for (auto x:naziviKarata) spil.push_back(std::make_pair(Boje::Pik, x)); 
        }
        case Boje::Tref: {
            for (auto x:naziviKarata) spil.push_back(std::make_pair(Boje::Tref, x)); 
        }
        case Boje::Herc: {
            for (auto x:naziviKarata) spil.push_back(std::make_pair(Boje::Herc, x)); 
        }
        case Boje::Karo: {
            for (auto x:naziviKarata) spil.push_back(std::make_pair(Boje::Karo, x));
            break;
        }
    }
    return spil;
}


bool jeLiBoja(Boje b) {
    if (b == Boje::Pik || b == Boje::Tref || b == Boje::Herc || b == Boje::Karo) return true;
    else return false;
}

bool jeLiBoja(std::string s) {
    if (s == "Pik" || s == "Tref" || s == "Herc" ||s == "Karo") return true;
    else return false;
}

bool jeLiNaziv(std::string s) {
    for (auto a:naziviKarata) { 
        if (s == a) {
            return true;
            break;
        }
    }
    return false;
}

bool imaLiBesmislenihPodataka(Spil spil) {
    bool nema = true;
    for (auto x:spil) {
        if (!jeLiBoja(x.first) || !jeLiNaziv(x.second)) {
            nema = false;
            break;
        }
    }
    return nema;
}

bool imaLiBesmislenihPodataka(Red red) {
    bool nema = true;
    while (!red.empty()){
       
        if (!jeLiBoja(red.front().first) || !jeLiNaziv(red.front().second)) {
            nema = false;
            break;
        }
        red.pop();
    }
    return nema;
}

bool provjeriNazive(Spil spil, Boje b) {
    auto it = spil.begin();
    bool x = true;
    while (it-&gt;first != b) it++;
    int i{};
    if (it-&gt;second != naziviKarata[i]) return false;
    else {
        i++; it++;
        while ( i&lt;naziviKarata.size() &amp;&amp; it-&gt;first == b) {
            if (it-&gt;second != naziviKarata[i]) {
                x = false; break;
            }
            else { it++; i++; }
        }
        return x;
    }
}

bool provjeriBoje(Spil spil) {
    auto it = spil.begin();
    if (it-&gt;first != Boje::Pik) return false;
    else {
        while (it-&gt;first == Boje::Pik) it++;
        if (it-&gt;first != Boje::Tref) return false;
        else {
            while (it-&gt;first == Boje::Tref) it++;
            if (it-&gt;first != Boje::Herc) return false;
            else {
                while (it-&gt;first == Boje::Herc) it++;
                if (it-&gt;first != Boje::Karo) return false;
                else return true;
            }
        }
    }
}

bool jeLiSortiranSpil(Spil spil) {
  /*  if (provjeriBoje(spil)) {
        if (provjeriNazive(spil, Boje::Pik)) {
            if (provjeriNazive(spil, Boje::Tref)) {
                if (provjeriNazive(spil, Boje::Herc)) {
                    if (provjeriNazive(spil, Boje::Karo)) return true;
                    else return false;
                }
                else return false;
                
            }
            else return false;
        }
        else return false;
    }
    else*/ return true;
}

void IzbaciKarte(Spil &amp;spil, std::multimap&lt;Boje, std::string&gt; &amp;m) {
    if (spil.size() &gt; 52 || !jeLiSortiranSpil(spil) || !imaLiBesmislenihPodataka(spil))
        throw std::logic_error("Neispravna lista!");
    
    for (auto it2 = m.begin(); it2 != m.end(); it2++) {
         auto it = std::find(spil.begin(), spil.end(), std::make_pair(it2-&gt;first, it2-&gt;second));
         if (it != spil.end()) {
             it = spil.erase(it);
             m.erase(it2);
         }
    }
}

Red IzbaciKarteRazbrajanjem(Spil &amp;spil, const short int &amp;r, const int &amp;b) {
    if (r &lt; 1 || r &gt; 52 || b &lt; 1) throw std::logic_error("Neispravni elementi za izbacivanje!");
    else if (spil.size() &gt; 52 || !jeLiSortiranSpil(spil) || !imaLiBesmislenihPodataka(spil)) 
        throw std::logic_error("Neispravna lista!");
    std::string dajBoju(Boje b);
    Red red;
    int i=0;
    int k=r-1;
        auto it = spil.begin(); 
        while (i &lt; b) {
            while (k != 0) {
                it++;
                k--;
                if (it == spil.end()) it = spil.begin();
            }
            red.push(std::make_pair(dajBoju(it-&gt;first), it-&gt;second));
            it = spil.erase(it);
            if (it == spil.end()) it = spil.begin();
            k=r-1;
            i++;
        }
        
    return red;
    
}

Boje dajBojuEnum(std::string s) {
    if (s == "Pik") return Boje::Pik;
    else if (s == "Tref") return Boje::Tref;
    else if (s == "Herc") return Boje::Herc;
    else return Boje::Karo;
}


int dajBroj(std::string s) {
    int x{}, vel = s.length();
    for (int i=0, j=vel; i &lt; vel; i++)
        x += (s[--j] - '0')*pow(10,i);
    return x;
}

 bool jeLiBroj(std::string s) {
     if (s == "2" || s == "3" || s == "4" || s == "5" || s == "6" || s == "7" || s == "8" || s == "9" || s == "10") return true;
     else return false;
 }
 
void VratiPrvihNKarata(Spil &amp;spil, Red &amp;red, int n) {
    std::string dajBoju(Boje b);
    if (static_cast&lt;int&gt;(red.size()) &lt; n) throw std::range_error("Nedovoljno karata u redu!");
    else if (n &lt; 0) throw std::domain_error("Broj n je besmislen!");
    else if (!imaLiBesmislenihPodataka(red)) throw std::logic_error("Neispravne karte!");
    else if (spil.size() &gt; 52 || !jeLiSortiranSpil(spil) || !imaLiBesmislenihPodataka(spil))
        throw std::logic_error("Neispravna lista!");
        
    while (!red.empty() &amp;&amp; n &gt; 0) {
        auto it2 = spil.end();
        it2--;
       
        auto it = std::find(spil.begin(), spil.end(), std::make_pair(dajBojuEnum(red.front().first), red.front().second));
        if (it == spil.end()) {
            if (dajBroj(red.front().second) &gt;= 2 &amp;&amp; dajBroj(red.front().second) &lt;= 10) {
                 if (dajBoju(it2-&gt;first) != red.front().first) { while (dajBoju(it2-&gt;first) != red.front().first) it2--; }
                while (!jeLiBroj(it2-&gt;second)) it2--;
                while (dajBroj(red.front().second) &lt; dajBroj(it2-&gt;second) &amp;&amp; jeLiBroj(it2-&gt;second)) {
                     it2--;
                }
                it2++;
                spil.insert(it2, std::make_pair(dajBojuEnum(red.front().first), red.front().second));
            }
            else {
               
                if (red.front().second == "A") {
                    it2 = spil.end();
                    it2--;
                    if (dajBoju(it2-&gt;first) != red.front().first) { while (dajBoju(it2-&gt;first) != red.front().first) it2--; }
                    spil.push_back(std::make_pair(dajBojuEnum(red.front().first), red.front().second));
                }
                else if (red.front().second == "J") {
                    it2 = spil.begin();
                    if (dajBoju(it2-&gt;first) != red.front().first) {while (dajBoju(it2-&gt;first) != red.front().first) it2++;}
                    do {
                        it2++;
                    }
                    while (jeLiBroj(it2-&gt;second));
                   
                    spil.insert(it2, std::make_pair(dajBojuEnum(red.front().first), red.front().second));
                }
                else if (red.front().second == "K") {
                    it2 = spil.end();
                    it2--;
                    if (dajBoju(it2-&gt;first) != red.front().first) {while (dajBoju(it2-&gt;first) != red.front().first) it2--;}
                    spil.insert(it2, std::make_pair(dajBojuEnum(red.front().first), red.front().second));
                }
                else if (red.front().second == "Q") {
                    it2 = spil.begin();
                    if (dajBoju(it2-&gt;first) != red.front().first) {while (dajBoju(it2-&gt;first) != red.front().first) it2++; }
                    while (jeLiBroj(it2-&gt;second)) it2++;
                    if (it2-&gt;second == "J") it2++;
                    spil.insert(it2, std::make_pair(dajBojuEnum(red.front().first), red.front().second));
                }
            }
        }
        red.pop();
        n--;
    }
}

std::string dajBoju(Boje b) {
    switch(b) {
        case Boje::Pik: {return "Pik"; break;}
        case Boje::Tref: {return "Tref"; break;}
        case Boje::Herc: {return "Herc"; break;}
        case Boje::Karo: {return "Karo"; break; }
    }
}

void ispisiNazive(Spil spil, std::string boja) {
    for (auto x:spil) 
       if (dajBoju(x.first) == boja) std::cout&lt;&lt;x.second&lt;&lt;" ";
}

void ispisiSpil(Spil spil) {
   std::cout&lt;&lt;"Pik: ";
   ispisiNazive(spil, "Pik");
   std::cout&lt;&lt;"\nTref: ";
   ispisiNazive(spil, "Tref");
   std::cout&lt;&lt;"\nHerc: ";
   ispisiNazive(spil, "Herc");
   std::cout&lt;&lt;"\nKaro: ";
   ispisiNazive(spil, "Karo");
}

int main ()
{
    try {
       int r{}, b{};
        Spil spil = KreirajSpil();
        std::cout&lt;&lt;"Unesite korak razbrajanja: ";
        std::cin&gt;&gt;r;
        std::cout&lt;&lt;"Unesite broj karata koje zelite izbaciti: ";
        std::cin&gt;&gt;b;
        Red red = IzbaciKarteRazbrajanjem(spil, r, b);
        std::cout&lt;&lt;"U spilu trenutno ima "&lt;&lt;spil.size()&lt;&lt;" karata, i to: \n";
        ispisiSpil(spil);
        int n{};
        std::cout&lt;&lt;"\nUnesite broj karata koje zelite vratiti u spil: ";
        std::cin&gt;&gt;n;
        VratiPrvihNKarata(spil, red, n);
        std::cout&lt;&lt;"U spilu trenutno ima "&lt;&lt;spil.size()&lt;&lt;" karata, i to: \n";
        ispisiSpil(spil);
    }
    catch(std::logic_error e) {
        std::cout&lt;&lt;"Izuzetak: "&lt;&lt;e.what()&lt;&lt;std::endl;
    }
    catch(std::range_error e2) {
</font>        std::cout&lt;&lt;"Izuzetak: "&lt;&lt;e2.what()&lt;&lt;std::endl;
    }
    catch(std::domain_error e3) {
        std::cout&lt;&lt;"Izuzetak: "&lt;&lt;e3.what()&lt;&lt;std::endl;
    }
	return 0;
}

</pre>
</body>
</html>
