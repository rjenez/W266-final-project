<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z4/student9081.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z4/student4185.cpp<p></p><pre>
/B2017/2018: ZadaÄ‡a 3, Zadatak 4
#include &lt;iostream&gt;
#include &lt;utility&gt;
#include &lt;list&gt;
#include &lt;stdexcept&gt;
#include &lt;string&gt;
#include &lt;vector&gt;
#include &lt;map&gt;
#include &lt;queue&gt;
#include &lt;cmath&gt;
#include &lt;algorithm&gt;

enum class Boje{Pik, Tref, Herc, Karo};

typedef std::list&lt;std::pair&lt;Boje,std::string&gt;&gt; Spil;
typedef std::queue&lt;std::pair&lt;std::string,std::string&gt;&gt; Red;

bool DaLiJeRedIspravan(Red red)
{
    std::vector&lt;std::string&gt; boje{"Pik", "Tref", "Herc", "Karo"};
    std::vector&lt;std::string&gt; imena{"2","3","4","5","6","7","8","9","10","J","Q","K","A"};
    bool ispravno(false);
    while(!red.empty()) {
        
        ispravno = false;
        for(int j = 0; j &lt; boje.size(); j++) {
            if(red.front().first == boje[j]) {
                ispravno = true; break;
            }
        }
        if(!ispravno) return false;
        
        ispravno = false;
        for(int i = 0; i &lt; imena.size(); i++) {
            if(red.front().second == imena[i]) {
                ispravno = true; break;
            }
        }
        if(!ispravno) return false;

        red.pop();
    }
    return ispravno;
}

bool DaLiJeListaIspravna(Spil &amp;spil)
{
    if(spil.size() &gt; 52) return false;
    if(spil.size() == 0) return true;
    std::vector&lt;std::string&gt; S{"2","3","4","5","6","7","8","9","10","J","Q","K","A"};
    bool ispravno(false);
    auto it(spil.begin());
    for(int i = 0; i &lt; spil.size(); i++) {
        if(std::count(spil.begin(), spil.end(), *it) &gt; 1) return false;
        ispravno = false;
        for(int j = 0; j &lt; S.size(); j++) {
            if(it-&gt;second == S[j]) {
                ispravno = true; break;
            }
        }
        if(!ispravno) return false;
        
        ispravno = false;
        for(int k = 0; k &lt; 4; k++) {
            if(it-&gt;first == Boje(k)) {
                ispravno = true; break;
            }
        }
        if(!ispravno) return false;
        it++;
    }
    int index1(0),index2(0),index3(0),index4(0);
    if(spil.size() &gt; 1) {
        it = spil.begin();
        auto it1(it);
        it1++;
        for(int i = 0; i &lt; spil.size()-1; i++) {
            while(it-&gt;first != Boje(index1)) index1++;
            while(it-&gt;second != S[index2]) index2++;
            while(it1-&gt;first != Boje(index3)) index3++;
            while(it1-&gt;second != S[index4]) index4++;
            if(index1 == index3) {
                if(index2 &gt; index4) return false;
            }
            it++; it1++;
            index1 = 0; index2 = 0; index3 = 0; index4 = 0;
        }
    }
    return ispravno;
}

void PrintajSpil(const Spil &amp;spil) 
{
    int brojac(0);
    auto it(spil.begin());
    for(int i = 0; i &lt; spil.size(); i++) {
        if(it-&gt;first == Boje(0)) { 
            std::cout &lt;&lt; "Pik: ";
            while(it-&gt;first == Boje(0)) {
                std::cout &lt;&lt; it-&gt;second &lt;&lt; " ";
                brojac++;
                it++;
            }
            std::cout &lt;&lt; std::endl;
        }
        else if(it-&gt;first == Boje(1)) { 
            std::cout &lt;&lt; "Tref: ";
            while(it-&gt;first == Boje(1)) {
                std::cout &lt;&lt; it-&gt;second &lt;&lt; " ";
                brojac++;
                it++;
            }
            std::cout &lt;&lt; std::endl;
        }
        else if(it-&gt;first == Boje(2)) { 
            std::cout &lt;&lt; "Herc: ";
            while(it-&gt;first == Boje(2)) {
                std::cout &lt;&lt; it-&gt;second &lt;&lt; " ";
                brojac++;
                it++;
            }
            std::cout &lt;&lt; std::endl;
        }
        else if(it-&gt;first == Boje(3)) { 
            std::cout &lt;&lt; "Karo: ";
            while(it-&gt;first == Boje(3)) {
                std::cout &lt;&lt; it-&gt;second &lt;&lt; " ";
                brojac++;
                it++;
            }
            std::cout &lt;&lt; std::endl;
        }
        i += brojac - 1;
        brojac = 0;
    }
}

Spil KreirajSpil()
{
    Spil spil2;
    int brojac(0);
    int index(0);
    int karte[14] = {'2','3','4','5','6','7','8','9','0','J','Q','K','A'};
    
    //pravim listu petlja
    for(int i = 0; i &lt; 52; i++) {
        if(index == 13) index -= 13;
        if(i != 0 &amp;&amp; i % 13 == 0) brojac++;
        std::pair&lt;Boje, std::string&gt; par;
        std::string tmp;
        if(index != 8) {
          tmp.push_back(karte[index]);
        } else {
            tmp.push_back('1');
            tmp.push_back('0');
            }
        par = std::make_pair(Boje(brojac), tmp);
        spil2.push_back(par);
        
        index++;
    }
    return spil2;
}

<a name="3"></a><font color="#00FFFF"><a href="match838-0.html#3" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_1.gif"/></a>

void IzbaciKarte(Spil &amp;spil, std::multimap&lt;Boje, std::string&gt; &amp;mapa)
{
    if(!DaLiJeListaIspravna(spil)) throw std::logic_error("Neispravna lista!");
    auto it(spil.begin());
</font>    bool ima(false);
    for(auto it = mapa.begin(); it != mapa.end();) {
        for(auto it1 = spil.begin(); it1 != spil.end(); it1++) {
            if(it-&gt;first == it1-&gt;first &amp;&amp; it-&gt;second == it1-&gt;second) {
               it1 = spil.erase(it1);
                ima = true;
                auto karta_iz_mape(*it);
                it++;
                for(auto it2 = mapa.begin(); it2 != mapa.end(); it2++) {
                    if(*it2 == karta_iz_mape) {
                       it2 = mapa.erase(it2);
                       if(mapa.size() == 0) break; 
                    }
                }
            }
        }
        if(!ima) it++;
        ima = false;
    }
    
}

Red IzbaciKarteRazbrajanjem(Spil &amp;spil, short int n, int x)
{
    if(n &lt; 1 || n &gt; 52 || x &lt; 1) throw std::logic_error("Neispravni elementi za izbacivanje!");
    if(!DaLiJeListaIspravna(spil)) throw std::logic_error("Neispravna lista!");
    
    Red red;
    
    auto it(spil.begin());
    for(int i = 0; i &lt; x; i++) {
        if(spil.size() == 0) break;
        if(it==spil.end())  it = spil.begin();
        for(int j = 0; j &lt; n - 1; j++) {
            it++;
            if(it==spil.end())  it = spil.begin();
            
        }
        std::pair&lt;std::string, std::string&gt; par;
        if(it-&gt;first == Boje(0)) {
            par.first = "Pik"; par.second = it-&gt;second;
        } else if(it-&gt;first == Boje(1)) {
            par.first = "Tref"; par.second = it-&gt;second;
        } else if(it-&gt;first == Boje(2)) {
            par.first = "Herc"; par.second = it-&gt;second;
        } else {
            par.first = "Karo"; par.second = it-&gt;second;
        }
        red.push(par);
        it = spil.erase(it);
    }
    return red;
}

<a name="2"></a><font color="#0000FF"><a href="match838-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_2.gif"/></a>

void VratiPrvihNKarata(Spil &amp;spil, Red &amp;red, int n)
{
    if(n &lt; 0) throw std::domain_error("Broj n je besmislen!");
    if(n &gt; red.size()) throw std::range_error("Nedovoljno karata u redu!");
    if(!DaLiJeRedIspravan(red)) throw std::logic_error("Neispravne karte!");
    if(!DaLiJeListaIspravna(spil)) throw std::logic_error("Neispravna lista!");
</font>   
    std::vector&lt;std::string&gt; boje{"Pik", "Tref", "Herc", "Karo"};
    std::vector&lt;std::string&gt; imena{"2","3","4","5","6","7","8","9","10","J","Q","K","A"};
    int index(0);
    for(int i = 0; i &lt; n; i++) {
            auto it = std::find_if(spil.begin(), spil.end(), [&amp;spil,&amp;red] (std::pair&lt;Boje,std::string&gt; par) -&gt; bool {
                std::vector&lt;std::string&gt; boje{"Pik", "Tref", "Herc", "Karo"};
                std::vector&lt;std::string&gt; imena{"2","3","4","5","6","7","8","9","10","J","Q","K","A"};
                int index_red(0),index_boje(0),index_lista(0);
                
                while(red.front().second != imena[index_red]) index_red++;
                while(red.front().first != boje[index_boje]) index_boje++;
                while(par.second != imena[index_lista]) index_lista++;
                
                if((par.first &gt;= Boje(index_boje) &amp;&amp; index_lista &gt; index_red) || (par.first &gt;= Boje(index_boje + 1) &amp;&amp; index_lista &gt; index_red) 
                || (par.first &gt;= Boje(index_boje + 1) &amp;&amp; index_lista &lt; index_red)) return true;
    
                return false;
                
            });
            
             while(red.front().first != boje[index]) index++;
             std::pair&lt;Boje,std::string&gt; par{Boje(index), red.front().second};
             index = 0;
             red.pop();
             if(std::count(spil.begin(), spil.end(), par)) continue;
             spil.insert(it, par);
    }
    
}

int main ()
{
   
    Spil spil1(KreirajSpil());
    int n,x;
    try {
<a name="1"></a><font color="#00FF00"><a href="match838-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_2.gif"/></a>

    std::cout &lt;&lt; "Unesite korak razbrajanja: ";
    std::cin &gt;&gt; n;
    std::cout &lt;&lt; "Unesite broj karata koje zelite izbaciti: ";
    std::cin &gt;&gt; x;
    Red red(IzbaciKarteRazbrajanjem(spil1,n,x));
    std::cout &lt;&lt; "U spilu trenutno ima " &lt;&lt; spil1.size() &lt;&lt; " karata, i to: \n";
</font>    PrintajSpil(spil1);
<a name="0"></a><font color="#FF0000"><a href="match838-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_2.gif"/></a>

    std::cout &lt;&lt; "Unesite broj karata koje zelite vratiti u spil: ";
    std::cin &gt;&gt; n;
    VratiPrvihNKarata(spil1, red, n);
    std::cout &lt;&lt; "U spilu trenutno ima " &lt;&lt; spil1.size() &lt;&lt; " karata, i to: \n";
    PrintajSpil(spil1);
    } catch (std::range_error izuzetak) {
        std::cout &lt;&lt; "Izuzetak: " &lt;&lt; izuzetak.what();
</font>    } catch (std::domain_error izuzetak) {
        std::cout &lt;&lt; "Izuzetak: " &lt;&lt; izuzetak.what();
    } catch (std::logic_error izuzetak) {
        std::cout &lt;&lt; "Izuzetak: " &lt;&lt; izuzetak.what();
    }
	return 0;
}
</pre>
</body>
</html>
