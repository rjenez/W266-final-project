<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z5/student7425.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z5/student7425.cpp<p></p><pre>
<a name="2"></a><font color="#0000FF"><a href="match220-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_2.gif"/></a>

/B2016/2017: ZadaÄ‡a 3, Zadatak 5
#include &lt;iostream&gt;
#include &lt;set&gt;
#include &lt;string&gt;
#include &lt;cstring&gt;
#include &lt;vector&gt;
#include &lt;stdexcept&gt;

using namespace std;

struct Dijete
{
    string ime;
    Dijete *sljedeci;
</font>};

Dijete* lista(vector&lt;string&gt; v)
{
<a name="1"></a><font color="#00FF00"><a href="match220-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_3.gif"/></a>

    Dijete* pocetak=nullptr, *temp=nullptr;
    for(int i=0; i&lt;v.size(); i++)
    {
        Dijete *temp2= new Dijete;
        temp2-&gt;ime=v[i];
        if(i!=0)
</font>        {
            temp-&gt;sljedeci=temp2;
            temp=temp2;
        }
        else { pocetak=temp2; temp=temp2;}
        if(i==v.size()-1) temp2-&gt;sljedeci=pocetak;
    }
    return pocetak;
}

void prebroj(int &amp;slova, string s)
{
<a name="3"></a><font color="#00FFFF"><a href="match220-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_2.gif"/></a>

    slova=0;
    for(int i=0; i&lt;s.size(); i++)
        if((s[i]&gt;='0'&amp;&amp;s[i]&lt;='9')||(tolower(s[i])&gt;='a'&amp;&amp;tolower(s[i])&lt;='z')) slova++;
</font>    slova--;
}

vector&lt;set&lt;string&gt;&gt; Razvrstavanje(vector&lt;string&gt; v, int n)
{
    vector&lt;set&lt;string&gt;&gt; timovi;
    if(v.size()&lt;n || 1&gt;n) throw logic_error("Razvrstavanje nemoguce");
    Dijete *djeca=lista(v);
    Dijete *poc=djeca, *kraj=djeca;
    while(kraj-&gt;sljedeci!=poc) kraj=kraj-&gt;sljedeci;
    int slova;
    Dijete* it=poc;
    int jednom=1;
    if(n==v.size())
    {
        while(it-&gt;sljedeci!=poc) { 
            set&lt;string&gt;s; s.insert(it-&gt;ime); timovi.push_back(s); it=it-&gt;sljedeci;}
        set&lt;string&gt;s1; s1.insert(it-&gt;ime); timovi.push_back(s1); it=poc;
        while(it-&gt;sljedeci!=poc) {
            kraj-&gt;sljedeci=it-&gt;sljedeci;
            it-&gt;sljedeci=nullptr; delete it;
            it=kraj-&gt;sljedeci;
        }
        
        return timovi;
    } 
    bool jest=false;
    for(int i=0; i&lt;v.size()%n; i++)
    {
        set&lt;string&gt; s;
        jest=true;
        if(i==0) {prebroj(slova,it-&gt;ime);}
        for(int j=0; j&lt;(v.size()/n)+1; j++)
        {
            if(i==0 &amp;&amp; jednom==1) { jednom=0; s.insert(it-&gt;ime); kraj-&gt;sljedeci=it-&gt;sljedeci;
            it-&gt;sljedeci=nullptr; delete it;
            it=kraj-&gt;sljedeci; j++; }
            while(slova&gt;0) 
            { 
               it=it-&gt;sljedeci;
               kraj=kraj-&gt;sljedeci;
               slova--;
            }
            prebroj(slova,it-&gt;ime);
            s.insert(it-&gt;ime);
            kraj-&gt;sljedeci=it-&gt;sljedeci;
            it-&gt;sljedeci=nullptr; delete it;
            it=kraj-&gt;sljedeci;
            
        }
        timovi.push_back(s);
    }
    int hel=9999;
    if(jest) hel=slova;
    for(int i=0; i&lt;n-v.size()%n; i++)
    {
        set&lt;string&gt; s;
        if(hel!=9999 &amp;&amp; i==0) { slova=hel; hel=9999;}
        else if(i==0) prebroj(slova,it-&gt;ime);
        //if(i==0 &amp;&amp; jednom==1) { jednom=0; skup.insert(*djeca.begin()); it=djeca.erase(it); a--; brs--;}
        for(int j=0; j&lt;(v.size()/n); j++)
        {
            if(i==0 &amp;&amp; jednom==1) { jednom=0; s.insert(it-&gt;ime); if(j==(v.size()/n)-1 &amp;&amp; i==n-v.size()%n-1) { it-&gt;sljedeci=nullptr; delete it;}
            else
            {
                kraj-&gt;sljedeci=it-&gt;sljedeci;
            it-&gt;sljedeci=nullptr; delete it;
            it=kraj-&gt;sljedeci;
            } j++; }
            while(slova!=0) 
            { 
               it=it-&gt;sljedeci;
               kraj=kraj-&gt;sljedeci;
               slova--;
            }
            prebroj(slova,it-&gt;ime);
            s.insert(it-&gt;ime);
            if(j==(v.size()/n)-1 &amp;&amp; i==n-v.size()%n-1) { it-&gt;sljedeci=nullptr; delete it;}
            else
            {
                kraj-&gt;sljedeci=it-&gt;sljedeci;
            it-&gt;sljedeci=nullptr; delete it;
            it=kraj-&gt;sljedeci;
            }
        }
        timovi.push_back(s);
    }
    return timovi;
}

void Ispisi(vector&lt;set&lt;string&gt;&gt; timovi)
{
    try
    {
        for(int i=0; i&lt;timovi.size(); i++)
        {
            cout&lt;&lt;"Tim "&lt;&lt;i+1&lt;&lt;": ";
            auto cl=timovi[i].size()-1;
            for(auto it: timovi[i])
            {
                if(cl==0) cout&lt;&lt;it;
                else cout&lt;&lt;it&lt;&lt;", ";
                cl--;
            }
            cout&lt;&lt;endl;
        }
    }
    catch(logic_error izuz) {throw izuz;}
}

int main ()
{
	cout&lt;&lt;"Unesite broj djece: ";
<a name="0"></a><font color="#FF0000"><a href="match220-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_7.gif"/></a>

	int br; cin&gt;&gt;br;
	vector&lt;string&gt; djeca; 
	cout&lt;&lt;"Unesite imena djece: "&lt;&lt;endl;
	cin.clear(); cin.ignore(100000, '\n');
	for(int i=0; i&lt;br; i++) { string p; getline(cin,p); djeca.push_back(p);}
	int brt;
	cout&lt;&lt;"Unesite broj timova: ";
	cin&gt;&gt;brt;
	try
	{
	    vector&lt;set&lt;string&gt;&gt; timovi=Razvrstavanje(djeca,brt);
	    Ispisi(timovi);
</font>	    return 0;
	}
	catch(logic_error izuz) {cout&lt;&lt;"Izuzetak: "&lt;&lt;izuz.what();}
	return 0;
}</pre>
</body>
</html>
