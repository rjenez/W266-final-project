<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z5/student5961.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z5/student2142.cpp<p></p><pre>
#include &lt;iostream&gt;
#include &lt;stdexcept&gt;
#include &lt;cmath&gt;
#include &lt;cstdio&gt;
#include &lt;vector&gt;
#include &lt;deque&gt;
#include &lt;type_traits&gt;
#include &lt;string&gt;
#include &lt;iomanip&gt;
#include &lt;functional&gt;
#include &lt;set&gt;
#include &lt;map&gt;
#include &lt;list&gt;

<a name="1"></a><font color="#00FF00"><a href="match138-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_7.gif"/></a>

struct Cvor {
    std::string ime;
    Cvor *sljedeci;
};

int duzinaStringa(std::string dijete){
    int brojac(0);
    for(int i(0); i &lt; dijete.length(); i++){
        if((dijete[i] &gt;= 'A' &amp;&amp; dijete[i] &lt;= 'Z') || (dijete[i] &gt;= 'a' &amp;&amp; dijete[i] &lt;= 'z') || (dijete[i] &gt;= '0' &amp;&amp; dijete[i] &lt;= '9'))
</font><a name="0"></a><font color="#FF0000"><a href="match138-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_89.gif"/></a>

            brojac++;
    }
    return brojac-1;
}

void unistiCvorove(Cvor *djeca){
    Cvor* p = djeca;
    while(p != nullptr){
        Cvor* prethodni = p;
        p = p-&gt;sljedeci;
        delete prethodni;
    }
}

std::vector&lt;std::set&lt;std::string&gt;&gt; Razvrstavanje(std::vector&lt;std::string&gt; djeca, int br_timova){
    if(br_timova &gt; djeca.size() || br_timova &lt; 1) throw std::logic_error("Razvrstavanje nemoguce");
    int ukupan_broj_djece = djeca.size();
    Cvor *pocetak(nullptr), *prethodni;
    for(int i(0); i &lt; djeca.size(); i++) {
        try{
            Cvor *novi(new Cvor);
            novi-&gt;ime = djeca[i]; novi-&gt;sljedeci = nullptr;
            if(!pocetak) pocetak = novi;
            else prethodni-&gt;sljedeci = novi;
            prethodni = novi;
            if(i == djeca.size()-1)
                novi-&gt;sljedeci = pocetak;
        }
        catch(...){
            unistiCvorove(pocetak);
            throw;
        }
    }
    std::vector&lt;std::set&lt;std::string&gt;&gt; grupe;
    int po_timu = djeca.size() / br_timova, prvih(0);
    if(djeca.size() % br_timova) prvih = djeca.size() % br_timova;
    grupe.resize(br_timova);
    int i(0), br_unesene_djece(0);
    Cvor* p = pocetak;
    while(true){
        grupe[i].insert(p-&gt;ime);
        br_unesene_djece++;
        ukupan_broj_djece--;
        Cvor* tmp = p;
        p = p-&gt;sljedeci;
        prethodni-&gt;sljedeci = p;
        int br_pomjeranja = duzinaStringa(tmp-&gt;ime);
        delete tmp;
        if(!ukupan_broj_djece) break;
        for(int i(0); i &lt; br_pomjeranja; i++){
            p = p-&gt; sljedeci;
            prethodni = prethodni-&gt;sljedeci;
        }
        if((i &lt; prvih &amp;&amp; br_unesene_djece == po_timu+1) || ( i &gt;= prvih &amp;&amp; br_unesene_djece == po_timu)){
            br_unesene_djece = 0; i++;
        }
    }
    return grupe;
}

int main (){
    std::cout &lt;&lt; "Unesite broj djece: ";
    int br_djece;
    std::cin &gt;&gt; br_djece;
    std::cout &lt;&lt; "Unesite imena djece:" &lt;&lt; std::endl;
    std::vector&lt;std::string&gt; djeca;
    std::cin.ignore(10000, '\n');
    for(int i(0); i &lt; br_djece; i++){
        std::string dijete;
        std::getline(std::cin, dijete);
        djeca.push_back(dijete);
    }
    std::cout &lt;&lt; "Unesite broj timova: ";
    int br_timova, i(1);
    std::cin &gt;&gt; br_timova;
    try{
        for(auto tim: Razvrstavanje(djeca, br_timova)){
            std::cout &lt;&lt; "Tim " &lt;&lt; i &lt;&lt; ":" ;
            for(auto it = tim.begin(); it != tim.end(); it++){
                std::cout &lt;&lt; " " &lt;&lt; *it;
                auto p = it;
                p++;
                if(p != tim.end()) std::cout &lt;&lt; ",";
            }
            i++;
            std::cout &lt;&lt; std::endl;
        }
    }
    catch(std::logic_error e){
        std::cout &lt;&lt; "Izuzetak: " &lt;&lt; e.what();
</font>    }
	return 0;
}</pre>
</body>
</html>
