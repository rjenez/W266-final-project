<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z5/student5533.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z5/student5533.cpp<p></p><pre>
<a name="0"></a><font color="#FF0000"><a href="match119-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_99.gif"/></a>

/B2016/2017: ZadaÄ‡a 3, Zadatak 5
#include &lt;iostream&gt;
#include &lt;stdexcept&gt;
#include &lt;vector&gt;
#include &lt;set&gt;
#include &lt;algorithm&gt;
#include &lt;list&gt;

using std::logic_error;

int brojslova(std::string s) {
    return std::count_if(s.begin(), s.end(), [](char c){return (c &gt;= 'a' &amp;&amp; c &lt;= 'z') || (c &gt;= 'A' &amp;&amp; c &lt;= 'Z') || (c &gt;= '0' &amp;&amp; c &lt;= '9');});
}

struct Dijete{
    std::string ime;
    Dijete* sljedeci;
};

Dijete *dajprethodni(Dijete *poc, Dijete *koji){
    for (;;poc = poc -&gt; sljedeci) {
        if (poc -&gt; sljedeci == koji) return poc;
    }
}

std::vector&lt;std::set&lt;std::string&gt;&gt; Razvrstavanje(std::vector&lt;std::string&gt; vs, int k) {
    if (k &gt; vs.size() || k &lt; 1) throw logic_error("Razvrstavanje nemoguce");
    std::vector&lt;std::set&lt;std::string&gt;&gt; vss(k);
    if (vs.size() == 0) return vss;
    Dijete *poc, *sadasnji;
    poc = new Dijete {vs[0], nullptr};
    sadasnji = poc;
    for (int i = 1; i &lt; vs.size(); i++) {
        sadasnji -&gt; sljedeci = new Dijete {vs[i], nullptr};
        sadasnji = sadasnji -&gt; sljedeci;
    }
    sadasnji -&gt; sljedeci = poc;
    sadasnji = poc;
    int trenutnitim(0), velicina(vs.size() / k);
    if (trenutnitim &lt; vs.size() % k) velicina++;
    int b(0);
    while (b &lt; vs.size()) {
        if(vss[trenutnitim].size() == velicina) {
            trenutnitim++;
            velicina = vs.size() / k;
            if (trenutnitim &lt; vs.size() % k) velicina++;
        }
        vss[trenutnitim].insert(sadasnji -&gt; ime);
        int bslova(brojslova(sadasnji -&gt; ime));
        Dijete *prethodni = dajprethodni(sadasnji, sadasnji);
        prethodni -&gt; sljedeci = sadasnji -&gt; sljedeci;
        delete sadasnji;
        if (b + 1 &lt; vs.size()) {
            sadasnji = prethodni -&gt; sljedeci;
            for (int i = 1; i &lt; bslova; i++) {
                sadasnji = sadasnji -&gt; sljedeci;
            }
        }
        b++;
    }
    return vss;
}

int main ()
{
    std::cout &lt;&lt; "Unesite broj djece: ";
    int n;
    std::cin &gt;&gt; n;
    std::cin.ignore(10000, '\n');
    std::cout &lt;&lt; "Unesite imena djece: " &lt;&lt; std::endl;
    std::vector&lt;std::string&gt; vs(n);
    for (int i = 0; i &lt; n; i++)
        std::getline(std::cin, vs[i], '\n');
    std::cout &lt;&lt; "Unesite broj timova: ";
    int k;
    std::cin &gt;&gt; k;
    try {
        std::vector&lt;std::set&lt;std::string&gt;&gt; vss=Razvrstavanje(vs, k);
        int b(1);
        for (auto i = vss.begin(); i != vss.end(); i++, b++) {
            std::cout &lt;&lt; "Tim " &lt;&lt; b &lt;&lt; ":";
            auto it (i-&gt;begin());
            if (it != (i-&gt;end())) it++;
            for (auto j = (i -&gt; begin()); j != (i -&gt; end()); j++) {
                std::cout &lt;&lt; " " &lt;&lt; *j;
                if (it != (i-&gt;end())) {
                    it++;
                    std::cout &lt;&lt; ",";
                }
            }
            std::cout &lt;&lt; std::endl;
        }
    }
    catch(logic_error e) {
        std::cout &lt;&lt; "Izuzetak: " &lt;&lt; e.what();
    }
	return 0;
</font>}</pre>
</body>
</html>
