<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z5/student8797.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z5/student8797.cpp<p></p><pre>
#include &lt;iostream&gt;
#include &lt;string&gt;
#include &lt;set&gt;
#include &lt;stdexcept&gt;
#include &lt;vector&gt;
//#include "sake.h"

struct Dijete {
    std::string ime;
    Dijete *sljedeci;
};    

Dijete *NapraviMojuListu(std::vector&lt;std::string&gt; v){
    Dijete*pocetni=nullptr, *kraj;
    try{
        for(int i=0; i&lt;v.size(); i++){
            Dijete *novi=new Dijete;
            (*novi).ime=v[i];
              (*novi).sljedeci=nullptr;
            if(i==0)
                pocetni=novi;
            else 
                (*kraj).sljedeci=novi; 
            kraj=novi;    
            if(i==v.size()-1)
            (*kraj).sljedeci=pocetni;
        }    
        return pocetni;
    }
    catch(...){
        for(auto p=pocetni; p!=nullptr;){
              auto w=p;
              p=p-&gt;sljedeci;
              delete w;
        }
        throw;
    }
}

Dijete  *Izbaci(Dijete* p){
    auto q=p;
    for(auto it2(p-&gt;sljedeci); it2!=p; it2=it2-&gt;sljedeci){
        q=q-&gt;sljedeci;
    }
    q-&gt;sljedeci=p-&gt;sljedeci;
    delete p;//std::cout &lt;&lt; "Pozvan" &lt;&lt; std::endl;
<a name="3"></a><font color="#00FFFF"><a href="match230-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_4.gif"/></a>

    return (q-&gt;sljedeci);
}

int Koliko(std::string s){
    int br(0);
    for(int i=0;i&lt;s.length(); i++)
        if((s[i]&gt;='a' &amp;&amp; s[i]&lt;='z') || (s[i]&gt;='A' &amp;&amp; s[i]&lt;='Z') || (s[i]&gt;='0' &amp;&amp; s[i]&lt;='9')) 
</font><a name="0"></a><font color="#FF0000"><a href="match230-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_6.gif"/></a>

            br++;
    return br;
}

std::vector&lt;std::set&lt;std::string&gt;&gt; Razvrstavanje(std::vector&lt;std::string&gt; v, int n){
</font>    if(n&lt;1 || n&gt;v.size()) throw std::logic_error("Razvrstavanje nemoguce");
    try{
        auto it(NapraviMojuListu(v)); 
        int v_size;
        std::vector&lt;std::set&lt;std::string&gt;&gt; a(n);
        for(int i=0; i&lt;n; i++)    
        {    
            int max_vel=v.size()/n; 
            if(v.size()%n&gt;i) max_vel+=1;
            v_size=max_vel;
            while (v_size!=0) 
            {
                    a[i].insert((*it).ime);
                    if(i==n-1 &amp;&amp; v_size==1){
                         delete it;v_size--; 
                }
                else{
                    int potez(Koliko((*it).ime));
                    it=Izbaci(it); v_size--;
                    int w(1);
                    while(w!=potez){
                        it=(*it).sljedeci;w++;}
                }
            }
        }
        return a;
    }           
    catch(...){
        throw;
    }
}

int main ()
{
    std::cout &lt;&lt; "Unesite broj djece: ";
    int br_osoba; std::cin &gt;&gt; br_osoba;
    std::vector&lt;std::string&gt; w(br_osoba);
    std::cout &lt;&lt;"Unesite imena djece: \n";
    std::cin.ignore(10000, '\n');
    {
        std::string pomocni;
        for(int i=0; i&lt;br_osoba;i++){
            std::getline(std::cin, pomocni);
            w[i]=pomocni;
        }
    }
<a name="1"></a><font color="#00FF00"><a href="match230-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_6.gif"/></a>

    std::cout &lt;&lt; "Unesite broj timova: "; int k; std::cin &gt;&gt; k;
    try {
        auto a(Razvrstavanje(w,k));
        for(int i=0; i&lt;a.size(); i++){
            std::cout &lt;&lt; "Tim " &lt;&lt;i+1&lt;&lt;": ";
</font>            int brojac(0);
            for(auto x(a[i].begin()); x!=a[i].end();x++)
                if(brojac++==a[i].size()-1)
<a name="2"></a><font color="#0000FF"><a href="match230-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_6.gif"/></a>

                    std::cout &lt;&lt; *x;
                else
                    std::cout &lt;&lt; *x&lt;&lt;", ";
            std::cout  &lt;&lt; std::endl; 
        }
    }
    catch (std::logic_error error) {
        std::cout &lt;&lt;"Izuzetak: "&lt;&lt;error.what() &lt;&lt; std::endl;
</font>    }
    
    /*try{
         std::shared_ptr
        auto a(Razvrstavanje(v,3));
        for(int i=0; i&lt;a.size(); i++){
            std::cout &lt;&lt; "Tim " &lt;&lt;i+1&lt;&lt;":";
            for(auto x:a[i])
                std::cout &lt;&lt;x&lt;&lt;" ";
            std::cout  &lt;&lt; std::endl;    
        }
    }
    catch (std::logic_error error) {
        std::cout &lt;&lt; error.what() &lt;&lt; std::endl;
    }*/
	return 0;
}</pre>
</body>
</html>
