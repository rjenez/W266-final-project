<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z5/student8288.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z5/student8288.cpp<p></p><pre>
#include &lt;iostream&gt;
#include &lt;iomanip&gt;
#include &lt;string&gt;
#include &lt;new&gt;
#include &lt;vector&gt;
#include &lt;stdexcept&gt;
#include &lt;set&gt;
#include &lt;algorithm&gt;
#include &lt;cmath&gt;
#include &lt;list&gt;

struct Dijete {
    std::string ime;
    Dijete* sljedeci=nullptr;
};
  std::vector&lt;std::set&lt;std::string&gt;&gt;  Razvrstavanje(std::vector&lt;std::string&gt; v,int n) {
  std::vector&lt;std::set&lt;std::string&gt;&gt; rezultat;
  try {
<a name="1"></a><font color="#00FF00"><a href="match350-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_6.gif"/></a>

      if(n&lt;=0 || n&gt;v.size()) {
          throw std::logic_error("Razvrstavanje nemoguce");
      }
      Dijete * pocetak(nullptr),*prethodni(nullptr);
  
      for(int i=0;i&lt;v.size();i++) {
        Dijete* novi(nullptr);
        novi=new Dijete;
</font>        novi-&gt;ime=v[i];
        novi-&gt;sljedeci=nullptr;
        if(!pocetak) pocetak=novi;
        else {
          if(i==v.size()-1) {
            prethodni-&gt;sljedeci=pocetak;
          }
          else {
        prethodni-&gt;sljedeci=novi;
      }
        }
  }
  int cijeli(v.size()/n);
  int ost(v.size()%n);
  for(int j=0;j&lt;n;j++) {
    for(auto p=pocetak;p-&gt;sljedeci!=pocetak;p=p-&gt;sljedeci) {
      int broj(0);
      if(j&lt;ost) {
         std::set&lt;std::string&gt; pomocni;
        while(broj&lt;cijeli+1) {
        pomocni.insert(p-&gt;ime);
        auto tu(p);
        while(p-&gt;sljedeci!=tu) {
          p=p-&gt;sljedeci;
        }
        p-&gt;sljedeci=tu-&gt;sljedeci;
        delete tu;
      p=p-&gt;sljedeci;
        broj++;
        int duz((p-&gt;ime).length());
        for(int i=0;i&lt;duz-1;i++) {
          p=p-&gt;sljedeci;
        }
      }
      rezultat.push_back(pomocni);
    }
    else {
      broj=0;
      std::set&lt;std::string&gt; usput;
      while(broj&lt;cijeli) {
        usput.insert(p-&gt;ime);
        auto prije(p);
        while(p-&gt;sljedeci!=prije) {
          p=p-&gt;sljedeci;
        }
        p-&gt;sljedeci=prije-&gt;sljedeci;
        delete prije;
        p=p-&gt;sljedeci;
        broj++;
        int pom((p-&gt;ime).length());
        for(int i=0;i&lt;pom-1;i++) {
          p=p-&gt;sljedeci;
        }
      }
      rezultat.push_back(usput);
    }
  }
}
}
catch(std::logic_error e) {
  std::cout&lt;&lt;e.what()&lt;&lt;std::endl;
}
catch(std::bad_alloc) {
<a name="0"></a><font color="#FF0000"><a href="match350-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_15.gif"/></a>

  std::cout&lt;&lt;"Neuspjela alokacija!"&lt;&lt;std::endl;
}
return rezultat;
}

int main() {
  std::cout&lt;&lt;"Unesite broj djece: ";
  int s;
  std::cin&gt;&gt;s;
  std::cin.ignore(1000,'\n');
  std::vector&lt;std::string&gt; v;
  std::cout&lt;&lt;"Unesite imena djece: ";
  for(int i=0;i&lt;s;i++) {
    std::string  ulaz;
    std::getline(std::cin,ulaz);
    v.push_back(ulaz);
  }
  std::cout&lt;&lt;std::endl&lt;&lt;"Unesite broj timova: ";
  int d;
  std::cin&gt;&gt;d;
  
  auto vrsta(Razvrstavanje(v,d));
</font>  for(int t=0;t&lt;vrsta.size();t++) {
    std::cout&lt;&lt;"Tim "&lt;&lt;t+1&lt;&lt;": ";
    std::set&lt;std::string&gt;::iterator it(vrsta[t].end());
    it--;
    for(std::string izlaz: vrsta[t]) {
      if(izlaz!=*it) {
        std::cout&lt;&lt;izlaz&lt;&lt;", ";
        }
        else 
        std::cout&lt;&lt;izlaz;
    }
    std::cout&lt;&lt;std::endl;
  }
  return 0;
}</pre>
</body>
</html>
