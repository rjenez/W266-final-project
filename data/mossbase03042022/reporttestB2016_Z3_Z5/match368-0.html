<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z5/student7085.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z5/student7085.cpp<p></p><pre>
#include &lt;iostream&gt;
#include &lt;vector&gt;
#include &lt;set&gt;
#include &lt;stdexcept&gt;
#include &lt;string&gt;
#include &lt;iterator&gt;


typedef std::vector&lt;std::string&gt; vekstring;

std::vector&lt;int&gt; BrojDjece(vekstring v, int broj_timova)
{
    int broj_clanova_tima=v.size()/broj_timova;
    std::vector&lt;int&gt; clanovi_tima;
    clanovi_tima.resize(broj_timova);
<a name="1"></a><font color="#00FF00"><a href="match368-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_5.gif"/></a>

    int velicina=v.size();
    for(int i=0; i&lt;broj_timova; i++) {
        clanovi_tima[i]=broj_clanova_tima;
        if(velicina%broj_timova!=0) {
            clanovi_tima[i]=broj_clanova_tima+1;
            velicina--;
</font>        }
    }
    return clanovi_tima;
}

int KolikoSlovaImaIme(std::string s)
{
    unsigned int brojac(0);
    for(unsigned int i(0); i&lt;s.size(); i++) {
        if((s[i]&gt;='A' &amp;&amp; s[i]&lt;='Z') || (s[i]&gt;='a' &amp;&amp; s[i]&lt;='z') ||(s[i]&gt;='0' &amp;&amp; s[i]&lt;='9'))
            brojac++;
    }
    return brojac;
}


void IsprazniSet(std::set&lt;std::string&gt; &amp;skup)
{
    auto it=skup.begin();
    while(skup.begin()!=skup.end()) {
        it=skup.erase(it);

    }
}


std::vector&lt;std::set&lt;std::string&gt;&gt; Razvrstavanje(  vekstring v, int broj_timova)
{
    if(broj_timova&lt;=0 || broj_timova&gt;v.size()) throw std::logic_error("Razvrstavanje nemoguce");
    struct Dijete {
        std::string ime;
        Dijete * sljedeci;
    }
<a name="0"></a><font color="#FF0000"><a href="match368-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_5.gif"/></a>

    std::vector&lt;std::set&lt;std::string&gt;&gt; konacno;
    std::set&lt;std::string&gt; tim;
    std::vector&lt;int&gt; vek=BrojDjece(v, broj_timova); //vektor ciji su elementi broj clanova svakog tima

    //kreiranje kruzne liste
    Dijete*prvi(nullptr),*poslednji,*novi;
</font>    for(int i=0; i&lt;v.size(); i++) {
        novi=new Dijete;
        novi-&gt;ime=v[i];    //kopiranje imena u listu
        novi-&gt;sljedeci=nullptr;
        if(prvi==nullptr)prvi=novi;
        else poslednji-&gt;sljedeci=novi;
        poslednji=novi;
/*
        for(Dijete *p=prvi; p!=poslednji; p=p-&gt;sljedeci) {
            if(p==poslednji) p-&gt;sljedeci=prvi;
        }*/

        int brojac=v.size();//brojac djece

        int br_zadnjeg_u_timu(0);
        int br(0);
        Dijete prvo;
        for(int i=0; i&lt;broj_timova; i++) {

            int trenutni_tim=vek[i];

            for(int j=0; j&lt;trenutni_tim; j++) {
                if(brojac==0) break;

                if(i==0 &amp;&amp; j==0) {
                    tim.insert(prvo.ime);
                    br=KolikoSlovaImaIme(prvo.ime);
                    j++;

                    //brisanje imena iz liste
<a name="2"></a><font color="#0000FF"><a href="match368-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_3.gif"/></a>

                    Dijete pom;
                    
                    brojac--;
                    if(j==vek[i])break;
                }
                if(i==0) {
                    for(int k=0; k&lt;br-1; k++) {
</font>                        if(p==poslednji) p-&gt;sljedeci=prvi;
                        p=p-&gt;sljedeci;
                        if(p==poslednji) p-&gt;sljedeci=prvi;
                    }
                } else {
                    for(int k=0; k&lt;br_zadnjeg_u_timu-1; k++) {
                        if(*p==poslednji) p-&gt;sljedeci=prvi;
                        p=p-&gt;sljedeci;
                        if(*p==poslednji) p-&gt;sljedeci=prvi;
                    }

                }

                br=KolikoSlovaImaIme(p-&gt;ime);
                tim.insert(p-&gt;ime);
                br_zadnjeg_u_timu=br;
                it=lista.erase(it);
                if(it==lista.end()) it=lista.begin();
                brojac--;
            }
            konacno.push_back(tim);
            IsprazniSet(tim);
            if(brojac==0)break;
        }

        return konacno;

    }

    void IspisiSkupSaZarezima(std::set&lt;std::string&gt; skup) {
        int mjesto(0);
        for(auto it=skup.begin(); it!=skup.end(); it++) {
            if( mjesto==skup.size()-1) std::cout&lt;&lt;*it;
            else std::cout&lt;&lt;*it&lt;&lt;", ";
            mjesto++;
        }
    }


    int main () {

        int n;
<a name="3"></a><font color="#00FFFF"><a href="match368-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_3.gif"/></a>

        std::cout&lt;&lt;"Unesite broj djece: ";
        std::cin&gt;&gt;n;

        std::cout&lt;&lt;"Unesite imena djece: ";
        std::cin.ignore(1000, '\n');
</font>        vekstring imena;
        for(int i=0; i&lt;n; i++) {
            std::string s;
            std::getline (std::cin, s);
            imena.push_back(s);
        }
        std::cout&lt;&lt;"\nUnesite broj timova: ";
        int broj_timova;
        std::cin&gt;&gt;broj_timova;
        try {
            auto v(Razvrstavanje(imena,broj_timova));

            for(int i=0; i&lt;v.size(); i++) {
                std::cout&lt;&lt;"Tim "&lt;&lt;i+1&lt;&lt;": ";
                IspisiSkupSaZarezima(v[i]);
                std::cout&lt;&lt;std::endl;
            }
        } catch(std::logic_error e) {
            std::cout&lt;&lt;e.what();
        }
        return 0;
    }



    /*
    struct Dijete{
        std::string element;
        Dijete*veza;
    };
    */
    /*
       //kreiranje kruzne liste
       Dijete*prvi(nullptr),*poslednji,*novi;
       for(int i=0;i&lt;v.size();i++){
       novi=new Dijete;
       novi-&gt;element=v[i];    //kopiranje imena u listu
       novi-&gt;veza=nullptr;
       if(prvi==nullptr)prvi=novi;
       else poslednji-&gt;veza=novi;
       poslednji=novi;
       poslednji-&gt;veza=prvi-&gt;veza;
       }
      */</pre>
</body>
</html>
