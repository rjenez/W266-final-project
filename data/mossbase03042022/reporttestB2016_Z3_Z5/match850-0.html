<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z5/student5536.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z5/student5536.cpp<p></p><pre>
/B2016/2017: ZadaÄ‡a 3, Zadatak 5
#include &lt;iostream&gt;
#include &lt;vector&gt;
#include &lt;string&gt;
#include &lt;set&gt;
#include &lt;iterator&gt;
#include &lt;stdexcept&gt;

struct Dijete{
  std::string ime;
  Dijete *sljedeci;
};
int IzbrojiSlova(std::string s){
    int broj(0);
    for(int j=0;j&lt;s.length();j++){
        if((s[j]&gt;='a' &amp;&amp; s[j]&lt;='z') || (s[j]&gt;='A' &amp;&amp; s[j]&lt;='Z') || (s[j]&gt;='0' &amp;&amp; s[j]&lt;='9'))broj++;
    }
    return broj-1;
}

<a name="1"></a><font color="#00FF00"><a href="match850-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_3.gif"/></a>

std::vector&lt;std::set&lt;std::string&gt;&gt; Razvrstavanje(std::vector&lt;std::string&gt; v, int br_timova){
    if(br_timova&lt;1 || br_timova&gt;v.size())throw std::logic_error("Izuzetak: Razvrstavanje nemoguce");
    std::vector&lt;std::set&lt;std::string&gt;&gt; vektor;
</font>    std::vector&lt;int&gt; broj_timova_konacni;
    if((v.size()%br_timova)==0){for(int i=0;i&lt;br_timova;i++)broj_timova_konacni.push_back(v.size()/br_timova);}
    else {
        int broj_tim=v.size()%br_timova;
        int razlika=v.size()/br_timova;
    for(int i=0;i&lt;br_timova;i++){
        if(broj_tim&gt;i)broj_timova_konacni.push_back(razlika+1);
        else broj_timova_konacni.push_back(razlika);
    }
    }
    Dijete *trenutni=nullptr;
    Dijete *pocetak=nullptr;
    int clanovi(0);
    for(int i=0;i&lt;v.size();i++){
        Dijete *novo_dijete;
        try{
            novo_dijete=new Dijete();
        novo_dijete-&gt;ime=v[i];
        if(pocetak==nullptr){
            pocetak=trenutni=novo_dijete;
            novo_dijete-&gt;sljedeci=pocetak;
            clanovi++;
        }else {
            trenutni-&gt;sljedeci=novo_dijete;
            novo_dijete-&gt;sljedeci=pocetak;
            trenutni=novo_dijete;
            clanovi++;
        }
        }catch(...){
            delete novo_dijete;
            throw ;
        }
    }
    
    trenutni=pocetak;
    int slova_onog_kog_posmatramo(0);
    for(int i=0;i&lt;broj_timova_konacni.size();i++){
        std::set&lt;std::string&gt; skup;
        int broj_djece_u_timu=broj_timova_konacni[i];
      while(broj_djece_u_timu&gt;0){
          while(slova_onog_kog_posmatramo--&gt;0)trenutni=trenutni-&gt;sljedeci;
                skup.insert(trenutni-&gt;ime);
                broj_djece_u_timu--;
                clanovi--;
                slova_onog_kog_posmatramo=IzbrojiSlova(trenutni-&gt;ime);
                Dijete *pom=pocetak;
                while(pom-&gt;sljedeci!=trenutni)pom=pom-&gt;sljedeci;
                pom-&gt;sljedeci=trenutni-&gt;sljedeci;
                if(trenutni==pocetak)pocetak=pocetak-&gt;sljedeci;
                    trenutni-&gt;sljedeci=nullptr;
                    delete trenutni;
                if(clanovi!=0)trenutni=pom-&gt;sljedeci;
      }
      vektor.push_back(skup);
               
    }
    return vektor;
}
int main ()
{
    std::cout &lt;&lt; "Unesite broj djece: " ;
    int n;
    std::cin &gt;&gt; n;
    std::cin.ignore(10000,'\n');
    std::cout &lt;&lt; "Unesite imena djece: " &lt;&lt; std::endl;
    std::vector&lt;std::string&gt; v;
<a name="0"></a><font color="#FF0000"><a href="match850-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_7.gif"/></a>

    std::string a;
    for(int i=0;i&lt;n;i++){
        std::getline(std::cin,a);
        v.push_back(a);
    }
    std::cout &lt;&lt; "Unesite broj timova: ";
    int timovi;
    std::cin &gt;&gt; timovi;
    std::vector&lt;std::set&lt;std::string&gt;&gt; vek;
    try{
</font><a name="2"></a><font color="#0000FF"><a href="match850-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_3.gif"/></a>

    vek=Razvrstavanje(v,timovi);
    for(int i=0;i&lt;vek.size();i++){
        std::cout &lt;&lt; "Tim "&lt;&lt;i+1&lt;&lt;": " ;
</font>        auto it1(vek[i].begin());
        auto it2(vek[i].end());
        it2--;
        while(it1!=it2)std::cout &lt;&lt; *it1++ &lt;&lt;", ";
        std::cout &lt;&lt; *it1&lt;&lt;std::endl;
    }
    }catch(std::logic_error e){
        std::cout &lt;&lt; e.what() &lt;&lt; std::endl;
    }catch(...){
        std::cout &lt;&lt; "Neuspjela alokacija" &lt;&lt; std::endl;
    }
	return 0;
}</pre>
</body>
</html>
