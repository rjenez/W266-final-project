<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z5/student5297.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z5/student5297.cpp<p></p><pre>
<a name="2"></a><font color="#0000FF"><a href="match717-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_4.gif"/></a>

/B2016/2017: ZadaÄ‡a 3, Zadatak 5
#include &lt;iostream&gt;
#include &lt;vector&gt;
#include &lt;string&gt;
#include &lt;set&gt;
#include &lt;stdexcept&gt;
#include &lt;new&gt;

struct Dijete {
    std::string ime;
    Dijete *sljedeci;
};

int DuzinaStringa (std::string rijec) {
    int duzina=rijec.length();
</font>    auto it(rijec.begin());
    while(it!=rijec.end()) {
        if(!((*it&gt;='A' &amp;&amp; *it&lt;='Z') || (*it&gt;='a' &amp;&amp; *it&lt;='z') || (*it&gt;='0' &amp;&amp; *it&lt;='9'))) duzina--;
        it++;
    }
    return duzina;
}

<a name="0"></a><font color="#FF0000"><a href="match717-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_4.gif"/></a>

std::vector&lt;std::set&lt;std::string&gt;&gt; Razvrstavanje (std::vector&lt;std::string&gt; vektor, int br_timova) {
    if(br_timova&lt;1 || br_timova&gt;vektor.size()) throw std::logic_error("Razvrstavanje nemoguce");
    Dijete *pocetni(nullptr), *prethodni(nullptr);
</font>    for(int i(0); i&lt;vektor.size(); i++) {
        Dijete *novi(nullptr);
        try {
            novi=new Dijete;
        } catch(...) {
            throw;
        }
        novi-&gt;ime=vektor[i];
<a name="1"></a><font color="#00FF00"><a href="match717-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_4.gif"/></a>

        novi-&gt;sljedeci=nullptr;
        if(!pocetni) pocetni=novi;
        else prethodni-&gt;sljedeci=novi;
        prethodni=novi;
    }
    prethodni-&gt;sljedeci=pocetni;
    std::vector&lt;std::set&lt;std::string&gt;&gt; novi(br_timova); 
</font>    int modul=vektor.size()%br_timova;
    int broj_cl=vektor.size()/br_timova;
    std::vector&lt;int&gt; pomocni;
    for(int i(0); i&lt;br_timova; i++) {
        if(i&lt;modul) pomocni.push_back(broj_cl+1);
        else pomocni.push_back(broj_cl);
    }
    auto it(pocetni);
    int brojac(0);
    int i(0), tim(0);
    int koliko_mjesta(0), pomjereno(0), uneseno(0);
    for(;;) {
        if(brojac==0) { novi[tim].insert(it-&gt;ime); uneseno++; brojac++; koliko_mjesta=DuzinaStringa(it-&gt;ime); if(it==it-&gt;sljedeci) {delete it; it=nullptr; break;} prethodni-&gt;sljedeci=it-&gt;sljedeci; delete it; it=prethodni-&gt;sljedeci; pomjereno=1;} 
        if(uneseno==pomocni[i]) {uneseno=0; i++; tim++; }
        while(pomjereno!=koliko_mjesta) {
            it=it-&gt;sljedeci;
            prethodni=prethodni-&gt;sljedeci;
            pomjereno++; 
        }
        if(pomjereno==koliko_mjesta) { novi[tim].insert(it-&gt;ime); uneseno++; koliko_mjesta=DuzinaStringa(it-&gt;ime); if(it==it-&gt;sljedeci) {delete it; it=nullptr; break;} prethodni-&gt;sljedeci=it-&gt;sljedeci; delete it; it=prethodni-&gt;sljedeci; pomjereno=1; }
        if(tim==br_timova-1 &amp;&amp; uneseno==pomocni[i]) break;
    }
    return novi;
}

int main () {
    std::cout &lt;&lt; "Unesite broj djece: ";
    int broj;
    std::cin &gt;&gt; broj;
    std::cout &lt;&lt; "Unesite imena djece: " &lt;&lt; std::endl;
    std::vector&lt;std::string&gt; vektor;
    for(int i(0); i&lt;broj; i++) {
        std::string pomocni;
        std::cin &gt;&gt; std::ws;
        std::getline(std::cin, pomocni);
        vektor.push_back(pomocni);
    }
    std::cout &lt;&lt; "Unesite broj timova: ";
    int br_timova;
    std::cin &gt;&gt; br_timova;
    try {
        auto v(Razvrstavanje(vektor, br_timova));
        for(int i(0); i&lt;v.size(); i++) {
            std::cout &lt;&lt; "Tim " &lt;&lt; i+1 &lt;&lt; ": ";
            int brojac(0);
            for(auto x: v[i]) {
                if(brojac==0) { std::cout &lt;&lt; x; brojac++; }
                else std::cout &lt;&lt; ", " &lt;&lt; x;
            }
<a name="3"></a><font color="#00FFFF"><a href="match717-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_4.gif"/></a>

            std::cout &lt;&lt; std::endl;
        }
    } catch(std::logic_error izuzetak) {
        std::cout &lt;&lt; "Izuzetak: " &lt;&lt; izuzetak.what() &lt;&lt; std::endl;
    } catch(...) {
</font>        std::cout &lt;&lt; "Izuzetak: Problemi sa memorijom" &lt;&lt; std::endl;
    }
	return 0;
}</pre>
</body>
</html>
