<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z5/student3424.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z5/student3424.cpp<p></p><pre>
<a name="0"></a><font color="#FF0000"><a href="match99-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_99.gif"/></a>

/B2016/2017: ZadaÄ‡a 3, Zadatak 5
#include &lt;iostream&gt;
#include &lt;vector&gt;
#include &lt;set&gt;
#include &lt;stdexcept&gt;

struct Dijete
{
    std::string ime;
    Dijete* sljedeci;
};

std::vector&lt;int&gt; velicine;

void IzracunajVelicineTimova(int br_djece, int br_timova)
{
    velicine.resize(br_timova);
    for(int i(0); i &lt; br_timova; i++)
    {
        if(i &lt; br_djece%br_timova)
          velicine[i] = (br_djece / br_timova) + 1;
        else
          velicine[i] = (br_djece / br_timova);
    }
}

int BrojKaraktera(const std::string &amp;s)
{
    int br(0);
    for(int i(0); i &lt; s.length(); i++)
    {
        if((s[i] &gt;= 'A' &amp;&amp; s[i] &lt;= 'z') || (s[i] &gt;= '0' &amp;&amp; s[i] &lt;= '9'))
          br++;
    }
    return br;
}

Dijete* KreirajKruznuListu(const std::vector&lt;std::string&gt; &amp;dijeca)
{
    Dijete *pocetak(nullptr), *prethodni;
    
    for(int i(0); i &lt; dijeca.size(); i++)
    {
        Dijete *novi = new Dijete;
        novi-&gt;ime = dijeca[i];
        if(pocetak == nullptr)
        {
            pocetak = novi;
        }
        else if(i == dijeca.size() - 1)
        {
            novi-&gt;sljedeci = pocetak;
        }
        else
          prethodni-&gt;sljedeci = novi;
        prethodni = novi;
    }
    return pocetak;
}

void UbijDijete(Dijete* trenutni, Dijete* prethodni)
{
    if(trenutni-&gt;sljedeci == trenutni)
    {
        delete trenutni;
        return;
    }
    prethodni-&gt;sljedeci = trenutni-&gt;sljedeci;
    delete trenutni;
}

std::vector&lt;std::set&lt;std::string&gt;&gt; Razvrstavanje(const std::vector&lt;std::string&gt; &amp;dijeca, int br_timova)
{
    if(br_timova &lt;= 0 || br_timova &gt; dijeca.size()) throw std::logic_error("Razvrstavanje nemoguce");
    
    Dijete *pocetak(KreirajKruznuListu(dijeca));
    Dijete *prethodni = pocetak;
    for(int i(0); i &lt; dijeca.size() - 1; i++) prethodni = prethodni-&gt;sljedeci;
    
    std::vector&lt;std::set&lt;std::string&gt;&gt; timovi(br_timova);
    IzracunajVelicineTimova(dijeca.size(), br_timova);
    
    int i(0), br_d(0), vel(dijeca.size());
    auto it(pocetak);
    while(i &lt; br_timova)
    {
        timovi[i].insert(it-&gt;ime);
        int korak(BrojKaraktera(it-&gt;ime));
        UbijDijete(it, prethodni);
        br_d++;
        vel--;
        
        for(int j(0); j &lt; korak%vel; j++)
        {
            prethodni = it;
            it = it-&gt;sljedeci; 
        }
        
        if(br_d == velicine[i])
        {
            i++;
            br_d = 0;
        }
    }
    return timovi;
}

int main ()
{
    int vel;
    std::cout &lt;&lt; "Unesite broj djece: ";
    std::cin &gt;&gt; vel;
    
    std::cout &lt;&lt; "Unesite imena djece:" &lt;&lt; std::endl;
    std::vector&lt;std::string&gt; djeca(vel);
    for(int i(0); i &lt; vel; i++)
      std::cin &gt;&gt; djeca[i];
    
    int br_timova;
    std::cout &lt;&lt; "Unesite broj timova: ";
    std::cin &gt;&gt; br_timova;
    try
    {
        auto timovi(Razvrstavanje(djeca, br_timova));
        for(int i(0); i &lt; br_timova; i++)
        {
            std::cout &lt;&lt; "Tim " &lt;&lt; i + 1 &lt;&lt; ": ";
            
            int j(1);
            for(auto it(timovi[i].begin()); it != timovi[i].end(); it++)
            {
                if(j == velicine[i])
                  std::cout &lt;&lt; *it &lt;&lt; std::endl;
                else
                {
                    std::cout &lt;&lt; *it &lt;&lt; ", ";
                    j++;
                }
            }
        }
    }
    catch(std::logic_error e)
    {
        std::cout &lt;&lt; e.what();
    }
    return 0;
</font>}</pre>
</body>
</html>
