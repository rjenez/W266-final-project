<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z5/Z4/student5834.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z5/Z4/student5834.cpp<p></p><pre>
/B16/17 (ZadaÄ‡a 5, Zadatak 4)
//Autotestovi by Ivona Ivkovic (mail: iivkovic2@etf.unsa.ba)
//Za autotestove se obracati *iskljucivo* osobi koja ih pise
#include &lt;iostream&gt;
#include&lt;stdexcept&gt;
#include&lt;vector&gt;
#include&lt;initializer_list&gt;
#include&lt;iomanip&gt;
#include&lt;string&gt;
template&lt;typename tip&gt;
class GMatrica
{
    int red,kolona;
    tip mat[4][4];
public:
    GMatrica () {
        red=0;
        kolona=0;
    }

<a name="6"></a><font color="#00FF00"><a href="match106-1.html#6" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_1.gif"/></a>

    GMatrica(int x,int y,tip n=tip()):red(x),kolona(y) {
        if(x&lt;0 || x&gt;4 || y&lt;0 || y&gt;4) throw std::logic_error("Ilegalan format matrice");
        for(int i=0; i&lt;x; i++)
            for(int j=0; j&lt;y; j++)
                mat[i][j]=n;
</font>    }
    template&lt;typename tip2&gt;
    GMatrica(const GMatrica&lt;tip2&gt; &amp;m) {
<a name="9"></a><font color="#FF00FF"><a href="match106-1.html#9" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_1.gif"/></a>

        for(int i=0; i&lt;m.red; i++)
            for(int j=0; j&lt;m.kolona; j++)
                mat[i][j]=m[i][j];
        red=m.red;
        kolona=m.kolona;
    }
    template&lt;typename tip1&gt;
    GMatrica(tip1 m[4][4]) {
</font>        for(int i=0; i&lt;4; i++)
            for(int j=0; j&lt;4; j++)
                mat[i][j]=m[i][j];
        kolona=4;
        red=4;
    }
    GMatrica(std::vector&lt;std::vector&lt;tip&gt;&gt; m) {
        if(m.size()&lt;0 || m.size()&gt;4 || m[0].size()&lt;0 || m[0].size()&gt;4) throw std::logic_error("Ilegalan format matrice");
        for(int i=0; i&lt;m.size()-1; i++)
            if(m[i].size()!=m[i+1].size())
                throw std::logic_error("Ilegalan format matrice");
        red=m.size();
        kolona=m[0].size();
        for(int i=0; i&lt;red; i++)
<a name="13"></a><font color="#00FFFF"><a href="match106-1.html#13" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_1.gif"/></a>

            for(int j=0; j&lt;kolona; j++)
                mat[i][j]=m[i][j];
    }
    GMatrica(std::initializer_list&lt;std::initializer_list&lt;tip&gt;&gt; m) {
        auto it(m.begin()),it1(m.begin());
</font>        if(m.size()&lt;0 || m.size()&gt;4 || it-&gt;size()&lt;0 || it-&gt;size()&gt;4) throw std::logic_error("Ilegalan format matrice");
        for(auto i(m.begin()); i!=m.end(); i++)
            if(i-&gt;size()!=(i)-&gt;size())
                throw std::logic_error("Ilegalan format matrice");
        red=m.size();
        kolona=it1-&gt;size();
<a name="17"></a><font color="#0000FF"><a href="match106-1.html#17" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_1.gif"/></a>

        for(int i=0; i&lt;red; i++) {
            auto it2=it1-&gt;begin();
            for(int j=0; j&lt;kolona; j++)
                mat[i][j]=*it2++;
</font>            it1++;
        }
    }
    int DajBrojRedova() {
        return red;
    }
    int DajBrojKolona() {
        return kolona;
    }
    template &lt;typename Tip6&gt;
    friend std::ostream&amp; operator &lt;&lt;(std::ostream &amp;tok,const GMatrica&lt;Tip6&gt; &amp;m);
    template &lt;typename Tip3&gt;
    friend std::istream&amp; operator &gt;&gt;(std::istream &amp;tok, GMatrica&lt;Tip3&gt; &amp;m) ;

    template &lt;typename Tip3&gt;
    friend GMatrica&lt;Tip3&gt; operator +(const GMatrica&lt;Tip3&gt; &amp;m1,const GMatrica&lt;Tip3&gt; &amp;m2);
    template &lt;typename Tip8&gt;
    friend GMatrica&lt;Tip8&gt; operator +(const GMatrica&lt;Tip8&gt; &amp;m1,const Tip8 n);
    template &lt;typename Tip7&gt;
<a name="14"></a><font color="#FF00FF"><a href="match106-1.html#14" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_1.gif"/></a>

    friend GMatrica&lt;Tip7&gt; operator +(const Tip7 n,const GMatrica&lt;Tip7&gt; &amp;m2);

    template &lt;typename Tip4&gt;
    friend GMatrica&lt;Tip4&gt; operator -(const GMatrica&lt;Tip4&gt; &amp;m1,const GMatrica&lt;Tip4&gt; &amp;m2);
    template &lt;typename Tip8&gt;
</font>    friend GMatrica&lt;Tip8&gt; operator -(const GMatrica&lt;Tip8&gt; &amp;m1,const Tip8 n);
    template &lt;typename Tip7&gt;
<a name="15"></a><font color="#FF0000"><a href="match106-1.html#15" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_1.gif"/></a>

    friend GMatrica&lt;Tip7&gt; operator -(const Tip7 n,const GMatrica&lt;Tip7&gt; &amp;m2);

    template &lt;typename Tip5&gt;
    friend GMatrica&lt;Tip5&gt; operator *(const GMatrica&lt;Tip5&gt; &amp;m1,const GMatrica&lt;Tip5&gt; &amp;m2);
    template &lt;typename Tip8&gt;
</font>    friend GMatrica&lt;Tip8&gt; operator *(const GMatrica&lt;Tip8&gt; &amp;m1,const Tip8 n);
    template &lt;typename Tip7&gt;
    friend GMatrica&lt;Tip7&gt; operator *(const Tip7 n,const GMatrica&lt;Tip7&gt; &amp;m2);

<a name="19"></a><font color="#FF00FF"><a href="match106-1.html#19" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_0.gif"/></a>

    template &lt;typename Tip9&gt;
    friend GMatrica&lt;Tip9&gt; &amp;operator +=(GMatrica&lt;Tip9&gt; &amp;m1, GMatrica&lt;Tip9&gt; &amp;m2);
    template &lt;typename Tip10&gt;
</font><a name="18"></a><font color="#00FFFF"><a href="match106-1.html#18" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_0.gif"/></a>

    friend GMatrica&lt;Tip10&gt; &amp;operator -=(GMatrica&lt;Tip10&gt; &amp;m1, GMatrica&lt;Tip10&gt; &amp;m2);
    template &lt;typename Tip11&gt;
</font>    friend GMatrica&lt;Tip11&gt; &amp;operator *=(GMatrica&lt;Tip11&gt; &amp;m1, GMatrica&lt;Tip11&gt; &amp;m2);
    template &lt;typename Tip9&gt;
    friend GMatrica&lt;Tip9&gt; &amp;operator +=( GMatrica&lt;Tip9&gt; &amp;m1,const Tip9 n);
    template &lt;typename Tip10&gt;
    friend GMatrica&lt;Tip10&gt; &amp;operator -=( GMatrica&lt;Tip10&gt; &amp;m1,const Tip10 n);
    template &lt;typename Tip11&gt;
<a name="11"></a><font color="#00FF00"><a href="match106-1.html#11" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_1.gif"/></a>

    friend GMatrica&lt;Tip11&gt; &amp;operator *=( GMatrica&lt;Tip11&gt; &amp;m1,const Tip11 n);

    template &lt;typename Tip11&gt;
    friend bool operator ==(const GMatrica&lt;Tip11&gt; &amp;m1,const GMatrica&lt;Tip11&gt; &amp;m2);
    template &lt;typename Tip11&gt;
    friend bool operator !=(const GMatrica&lt;Tip11&gt; &amp;m1,const GMatrica&lt;Tip11&gt; &amp;m2);
</font>    
<a name="10"></a><font color="#FF0000"><a href="match106-1.html#10" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_1.gif"/></a>

    tip *operator[](int x) {
        return mat[x];
    }
    auto operator ()(int x,int y)-&gt; decltype(mat[0][0]);
    auto operator ()(int x,int y)const-&gt; decltype(mat[0][0]+mat[0][0]);
</font>    
};
<a name="0"></a><font color="#FF0000"><a href="match106-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_4.gif"/></a>

template &lt;typename Tip11&gt;
auto GMatrica&lt;Tip11&gt;::operator ()(int x,int y)-&gt;decltype(mat[0][0]){
    if(x&lt;0 || x&gt;4 || y&lt;0 || y&gt;4) throw std::logic_error("Ilegalan format matrice");
    return mat[x-1][y-1];
}
template &lt;typename Tip11&gt;
auto GMatrica&lt;Tip11&gt;::operator ()(int x,int y)const -&gt;decltype(mat[0][0]+mat[0][0]){
    if(x&lt;0 || x&gt;4 || y&lt;0 || y&gt;4) throw std::logic_error("Ilegalan format matrice");
    return mat[x-1][y-1];
}
//********************************
template &lt;typename Tip11&gt;
bool operator ==(const GMatrica&lt;Tip11&gt; &amp;m1,const GMatrica&lt;Tip11&gt; &amp;m2)
</font>{

    for(int i = 0; i &lt; m1.red; i++)
        for(int j = 0; j &lt; m1.kolona; j++)
<a name="16"></a><font color="#00FF00"><a href="match106-1.html#16" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_1.gif"/></a>

            if(m1.mat[i][j] != m2.mat[i][j]) return false;
    return true;
}
template &lt;typename Tip11&gt;
bool operator !=(const GMatrica&lt;Tip11&gt; &amp;m1,const GMatrica&lt;Tip11&gt; &amp;m2)
</font>{

    for(int i = 0; i &lt; m1.red; i++)
        for(int j = 0; j &lt; m1.kolona; j++)
            if(m1.mat[i][j] != m2.mat[i][j]) return true;
    return false;
}
//***********************
template &lt;typename Tip9&gt;
GMatrica&lt;Tip9&gt; &amp;operator +=( GMatrica&lt;Tip9&gt; &amp;m1,const Tip9 n)
{
    for(int i = 0; i &lt; m1.red; i++)
        for(int j = 0; j &lt; m1.kolona; j++)
            m1.mat[i][j] = m1.mat[i][j] + n;
    return m1;
}
template &lt;typename Tip10&gt;
GMatrica&lt;Tip10&gt; &amp;operator -=( GMatrica&lt;Tip10&gt; &amp;m1,const Tip10 n)
{
    for(int i = 0; i &lt; m1.red; i++)
        for(int j = 0; j &lt; m1.kolona; j++)
            m1.mat[i][j] = m1.mat[i][j] -n;
    return m1;
}
template &lt;typename Tip11&gt;
GMatrica&lt;Tip11&gt; &amp;operator *=( GMatrica&lt;Tip11&gt; &amp;m1,const Tip11 n)
{
    for(int i = 0; i &lt; m1.red; i++)
        for(int j = 0; j &lt; m1.kolona; j++)
            m1.mat[i][j] = m1.mat[i][j] * n;
<a name="4"></a><font color="#FF00FF"><a href="match106-1.html#4" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_1.gif"/></a>

    return m1;
}
//*********************
template &lt;typename Tip9&gt;
GMatrica&lt;Tip9&gt; &amp;operator +=(GMatrica&lt;Tip9&gt; &amp;m1, GMatrica&lt;Tip9&gt; &amp;m2)
{
    if(m1.red != m2.red || m1.kolona != m2.kolona)
        throw std::domain_error("Nedozvoljena operacija");
    for(int i = 0; i &lt; m1.red; i++)
        for(int j = 0; j &lt; m1.kolona; j++)
</font>            m1.mat[i][j] = m1.mat[i][j] + m2.mat[i][j];
<a name="5"></a><font color="#FF0000"><a href="match106-1.html#5" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_1.gif"/></a>

    return m1;
}
template &lt;typename Tip9&gt;
GMatrica&lt;Tip9&gt; &amp;operator -=(GMatrica&lt;Tip9&gt; &amp;m1, GMatrica&lt;Tip9&gt; &amp;m2)
{
    if(m1.red != m2.red || m1.kolona != m2.kolona)
        throw std::domain_error("Nedozvoljena operacija");
    for(int i = 0; i &lt; m1.red; i++)
        for(int j = 0; j &lt; m1.kolona; j++)
</font>            m1.mat[i][j] = m1.mat[i][j] - m2.mat[i][j];
    return m1;
}
<a name="12"></a><font color="#0000FF"><a href="match106-1.html#12" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_1.gif"/></a>

template &lt;typename Tip9&gt;
GMatrica&lt;Tip9&gt; &amp;operator *=(GMatrica&lt;Tip9&gt; &amp;m1, GMatrica&lt;Tip9&gt; &amp;m2)
{
    if(m1.kolona!=m2.red)
        throw std::domain_error("Nedozvoljena operacija");
    GMatrica&lt;Tip9&gt; m3;
    m3.red=m1.red;
</font>    m3.kolona=m2.kolona;
    for(int i = 0; i &lt; m1.br_redova; i++)
        for(int j = 0; j &lt; m2.br_kolona; j++)
            m3.elementi[i][j]=0;

    for(int i = 0; i &lt; m1.red; i++)
        for(int j = 0; j &lt; m2.kolona; j++)
            for(int k=0; k&lt;m1.kolona; k++) {
<a name="2"></a><font color="#0000FF"><a href="match106-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_2.gif"/></a>

                m3.mat[i][j]+=m1.mat[i][k]*m2.mat[k][j];
            }
    for(int i = 0; i &lt; m3.red; i++)
        for(int j = 0; j &lt; m3.kolona; j++)
            m1.mat[i][j]=m3.mat[i][j];
    return m1;
</font>}
//****************************
<a name="8"></a><font color="#00FFFF"><a href="match106-1.html#8" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_1.gif"/></a>

template&lt;typename tip&gt;
GMatrica&lt;tip&gt; operator +(const GMatrica&lt;tip&gt; &amp;m1,const GMatrica&lt;tip&gt; &amp;m2)
{
    if(m1.red != m2.red || m1.kolona != m2.kolona)
        throw std::domain_error("Nedozvoljena operacija");
    GMatrica&lt;tip&gt; m3;
    m3.red=m1.red;
</font>    m3.kolona=m1.kolona;
    for(int i = 0; i &lt; m1.red; i++)
        for(int j = 0; j &lt; m1.kolona; j++)
            m3.mat[i][j] = m1.mat[i][j] + m2.mat[i][j];
    return m3;
}
template &lt;typename Tip8&gt;
GMatrica&lt;Tip8&gt; operator +(const GMatrica&lt;Tip8&gt; &amp;m1,const Tip8 n)
{
    GMatrica&lt;Tip8&gt; m3;
    m3.red=m1.red;
    m3.kolona=m1.kolona;
    for(int i = 0; i &lt; m1.red; i++)
        for(int j = 0; j &lt; m1.kolona; j++)
            m3.mat[i][j] = m1.mat[i][j] + n;
    return m3;
}
template &lt;typename Tip7&gt;
GMatrica&lt;Tip7&gt; operator +(const Tip7 n,const GMatrica&lt;Tip7&gt; &amp;m2)
{
    GMatrica&lt;Tip7&gt; m3;
    m3.red=m2.red;
    m3.kolona=m2.kolona;
    for(int i = 0; i &lt; m2.red; i++)
        for(int j = 0; j &lt; m2.kolona; j++)
            m3.mat[i][j] = m2.mat[i][j] + n;
    return m3;
}
//*******************************
template &lt;typename Tip8&gt;
GMatrica&lt;Tip8&gt; operator -(const GMatrica&lt;Tip8&gt; &amp;m1,const Tip8 n)
{
    GMatrica&lt;Tip8&gt; m3;
    m3.red=m1.red;
    m3.kolona=m1.kolona;
    for(int i = 0; i &lt; m1.red; i++)
        for(int j = 0; j &lt; m1.kolona; j++)
            m3.mat[i][j] = m1.mat[i][j] - n;
    return m3;
}
template &lt;typename Tip7&gt;
GMatrica&lt;Tip7&gt; operator -(const Tip7 n,const GMatrica&lt;Tip7&gt; &amp;m2)
{
    GMatrica&lt;Tip7&gt; m3;
    m3.red=m2.red;
    m3.kolona=m2.kolona;
    for(int i = 0; i &lt; m2.red; i++)
        for(int j = 0; j &lt; m2.kolona; j++)
            m3.mat[i][j] = m2.mat[i][j] -n;
    return m3;
}
<a name="7"></a><font color="#0000FF"><a href="match106-1.html#7" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_1.gif"/></a>

template&lt;typename tip&gt;
GMatrica&lt;tip&gt; operator -(const GMatrica&lt;tip&gt; &amp;m1,const GMatrica&lt;tip&gt; &amp;m2)
{
    if(m1.red != m2.red || m1.kolona != m2.kolona)
        throw std::domain_error("Nedozvoljena operacija");
    GMatrica&lt;tip&gt; m3;
    m3.red=m1.red;
</font>    m3.kolona=m1.kolona;
    for(int i = 0; i &lt; m1.red; i++)
        for(int j = 0; j &lt; m1.kolona; j++)
<a name="3"></a><font color="#00FFFF"><a href="match106-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_1.gif"/></a>

            m3.mat[i][j] = m1.mat[i][j] - m2.mat[i][j];
    return m3;
}

template &lt;typename tip&gt;
GMatrica&lt;tip&gt; operator *(const GMatrica&lt;tip&gt; &amp;m1, const GMatrica&lt;tip&gt; &amp;m2)
{
    if(m1.kolona!=m2.red)
        throw std::domain_error("â€œMatrice nisu saglasne za mnoÅ¾enje");
    GMatrica&lt;tip&gt; m3;
    m3.red=m1.red;
</font>    m3.kolona=m1.kolona;
    for(int i = 0; i &lt; m1.red; i++)
        for(int j = 0; j &lt; m2.kolona; j++)
            m3.mat[i][j]=0;
    for(int i = 0; i &lt; m1.red; i++)
        for(int j = 0; j &lt; m2.kolona; j++)
            for(int k=0; k&lt;m1.kolona; k++)
                m3.mat[i][j]+=m1.mat[i][k]*m2.mat[k][j];
    return m3;
}
template &lt;typename TipEl&gt;
GMatrica&lt;TipEl&gt; operator *(const GMatrica&lt;TipEl&gt; &amp;m1,const TipEl n)
{
    GMatrica&lt;TipEl&gt; m3;
    m3.red=m1.red;
    m3.kolona=m1.kolona;
    for(int i = 0; i &lt; m1.red; i++)
        for(int j = 0; j &lt; m1.kolona; j++)
            m3.mat[i][j] = m1.mat[i][j] *n;
    return m3;
}

template &lt;typename TipEl&gt;
GMatrica&lt;TipEl&gt; operator *(const TipEl n,const GMatrica&lt;TipEl&gt; &amp;m1)
{
    GMatrica&lt;TipEl&gt; m3;
    m3.red=m1.red;
    m3.kolona=m1.kolona;
    for(int i = 0; i &lt; m1.red; i++)
        for(int j = 0; j &lt; m1.kolona; j++)
            m3.mat[i][j] = m1.mat[i][j] *n;
    return m3;
}
//************************
template &lt;typename tip&gt;
<a name="1"></a><font color="#00FF00"><a href="match106-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_2.gif"/></a>

std::ostream &amp;operator &lt;&lt;(std::ostream &amp;tok,const GMatrica&lt;tip&gt; &amp;m)
{
    int sirina=tok.width();
    if(sirina&lt;6) sirina=6;
    for(int i = 0; i &lt; m.red; i++) {
        for(int j = 0; j &lt; m.kolona; j++) {
            tok&lt;&lt;std::setw(sirina)&lt;&lt;m.mat[i][j];
        }
        tok&lt;&lt;std::endl;
    }
    return tok;
}
template &lt;typename Tip3&gt;
</font>std::istream&amp; operator &gt;&gt;(std::istream &amp;tok, GMatrica&lt;Tip3&gt; &amp;m)
{
    std::string s;
    tok&gt;&gt;s;
    int r=0,k=0,kol;
    for(int i=0;i&lt;s.length();i++){
       if(s[i]=='['){
          g: i++;
           if(s[i]&lt;'0' || s[i]&gt;'9'); //neispravan;
           if(s[i]&gt;='0' &amp;&amp; s[i]&lt;='9') m.mat[r][k++]=s[i]-'0';
           
           i++;
           if(s[i]==',') goto g;
           if(s[i]==';') {kol=k; k=0; r++;  goto g;}
           if(s[i]==']') { break;}
       }
    }
    m.red=r+1;
    m.kolona=kol;

    return tok;
}
//*************************************

int main ()
{
   GMatrica&lt;int&gt; m1({{1, 2}, {3, 4}});
   std::cout &lt;&lt; m1(1,1) &lt;&lt; std::endl;
   std::cout &lt;&lt; m1[1][1] &lt;&lt; std::endl;
    return 0;
}</pre>
</body>
</html>
