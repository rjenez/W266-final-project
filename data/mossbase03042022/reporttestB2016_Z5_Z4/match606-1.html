<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z5/Z4/student6877.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z5/Z4/student8864.cpp<p></p><pre>
<a name="6"></a><font color="#00FF00"><a href="match606-0.html#6" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_1.gif"/></a>

/B16/17 (ZadaÄ‡a 5, Zadatak 4)
//Autotestovi by Ivona Ivkovic (mail: iivkovic2@etf.unsa.ba)
//Za autotestove se obracati *iskljucivo* osobi koja ih pise
#include &lt;iostream&gt;
#include &lt;stdexcept&gt;
#include &lt;vector&gt;
#include &lt;iomanip&gt;
#include &lt;iterator&gt;
template &lt;typename tip&gt;
class GMatrica{
    tip matrica[4][4];
    int br_redova,br_kolona;
  public:
    GMatrica();
    GMatrica(int red,int kolona,tip vrijednost={});
</font>    template &lt;typename tip2&gt;
    GMatrica(const GMatrica&lt;tip2&gt;&amp;m);
    template &lt;typename tip2&gt;
    GMatrica(tip2** niz);
    GMatrica(std::vector&lt;std::vector&lt;tip&gt;&gt; vektor);
    template &lt;typename tip2&gt;
    GMatrica(std::initializer_list&lt;std::initializer_list&lt;tip2&gt;&gt; a);
    int DajBrojRedova()const{return br_redova;}
    int DajBrojKolona()const{return br_kolona;}
    tip&amp;operator()(int a,int b){
        if(a&lt;1 || b&lt;1 || a&gt;br_kolona || b&gt;br_redova)throw std::range_error("Nedozvoljen indeks");
        return matrica[a-1][b-1];
    }
    tip operator()(int a,int b)const{
        if(a&lt;1 || b&lt;1 || a&gt;br_kolona || b&gt;br_redova)throw std::range_error("Nedozvoljen indeks");
        return matrica[a-1][b-1];
    }
    template &lt;typename tip1,typename tip2&gt;
<a name="10"></a><font color="#FF0000"><a href="match606-0.html#10" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_1.gif"/></a>

    friend auto operator+(const GMatrica&lt;tip1&gt;&amp;a,const GMatrica&lt;tip2&gt;&amp;b)-&gt;GMatrica&lt;decltype(a[0][0]+b[0][0])&gt;;
    template &lt;typename tip1,typename tip2&gt;
    friend auto operator-(const GMatrica&lt;tip1&gt;&amp;a,const GMatrica&lt;tip2&gt;&amp;b)-&gt;GMatrica&lt;decltype(a[0][0]-b[0][0])&gt;;
</font><a name="11"></a><font color="#00FF00"><a href="match606-0.html#11" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_1.gif"/></a>

    template &lt;typename tip1,typename tip2&gt;
    friend auto operator*(const GMatrica&lt;tip1&gt;&amp;a,const GMatrica&lt;tip2&gt;&amp;b)-&gt;GMatrica&lt;decltype(a[0][0]*b[0][0])&gt;;
</font>    template &lt;typename tip1&gt;
    friend std::ostream&amp;operator&lt;&lt;(std::ostream&amp;tok,const GMatrica&lt;tip1&gt;&amp;m);
    template &lt;typename tip1&gt;
    friend std::istream&amp;operator&gt;&gt;(std::istream&amp;tok,GMatrica&lt;tip1&gt;&amp;m);
    tip* operator[](int indeks){return matrica[indeks];}
    tip* operator[](int indeks)const{return matrica[indeks];}
    template &lt;typename tip1&gt;
    friend auto operator*(const GMatrica&lt;tip1&gt;&amp;a,double koef)-&gt;GMatrica&lt;decltype(a[0][0]*koef)&gt;{
        GMatrica&lt;tip1&gt;b(a);
<a name="7"></a><font color="#0000FF"><a href="match606-0.html#7" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_1.gif"/></a>

        for(int i=0;i&lt;b.br_redova;i++)
            for(int j=0;j&lt;b.br_kolona;j++)
                b.matrica[i][j]*=koef;
        return b;        
    }
    template &lt;typename tip1&gt;
</font>    friend auto operator*(double koef,GMatrica&lt;tip1&gt;a)-&gt;GMatrica&lt;decltype(a[0][0]*koef)&gt;{
        return a*koef;
    }
<a name="2"></a><font color="#0000FF"><a href="match606-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_2.gif"/></a>

    template &lt;typename tip1,typename tip2&gt;
    friend bool operator==(const GMatrica&lt;tip1&gt;&amp;a,const GMatrica&lt;tip2&gt;&amp;b);
    template &lt;typename tip1,typename tip2&gt;
    friend bool operator!=(const GMatrica&lt;tip1&gt;&amp;a,const GMatrica&lt;tip2&gt;&amp;b);
</font>    template &lt;typename tip1,typename tip2&gt;
    friend GMatrica&lt;tip1&gt;&amp;operator+=(GMatrica&lt;tip1&gt;&amp;a,const GMatrica&lt;tip2&gt;&amp;b);
    template &lt;typename tip1,typename tip2&gt;
    friend GMatrica&lt;tip1&gt;&amp;operator*=(GMatrica&lt;tip1&gt;&amp;a,const GMatrica&lt;tip2&gt;&amp;b);
    template &lt;typename tip1,typename tip2&gt;
    friend GMatrica&lt;tip1&gt;&amp;operator-=(GMatrica&lt;tip1&gt;&amp;a,const GMatrica&lt;tip2&gt;&amp;b);
    template &lt;typename tip1&gt;
    friend GMatrica&lt;tip1&gt; &amp;operator*=(GMatrica&lt;tip1&gt;&amp;a,double koef){
        for(int i=0;i&lt;a.br_redova;i++)
            for(int j=0;j&lt;a.br_kolona;j++)
                a.matrica[i][j]*=koef;
<a name="4"></a><font color="#FF00FF"><a href="match606-0.html#4" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_1.gif"/></a>

        return a;        
    }
};
template &lt;typename tip1&gt;
GMatrica&lt;tip1&gt;::GMatrica(){
    br_redova=0;br_kolona=0;
}
template &lt;typename tip1&gt;
GMatrica&lt;tip1&gt;::GMatrica(int red,int kolona,tip1 vrijednost){
    if(red&lt;0 || red&gt;4 || kolona&lt;0 || kolona&gt;4)throw std::logic_error("Ilegalan format matrice"); 
</font>    br_redova=red; br_kolona=kolona;
    for(int i=0;i&lt;red;i++)
        for(int j=0;j&lt;kolona;j++)
<a name="12"></a><font color="#0000FF"><a href="match606-0.html#12" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_1.gif"/></a>

            matrica[i][j]=vrijednost;
}
template &lt;typename tip1&gt;
template &lt;typename tip2&gt;
GMatrica&lt;tip1&gt;::GMatrica(const GMatrica&lt;tip2&gt;&amp;m){
</font>    br_redova=m.br_redova;
    br_kolona=m.br_kolona;
<a name="3"></a><font color="#00FFFF"><a href="match606-0.html#3" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_1.gif"/></a>

    for(int i=0;i&lt;br_redova;i++)
        for(int j=0;j&lt;br_kolona;j++)
            matrica[i][j]=m.matrica[i][j];
}
template &lt;typename tip1&gt;
template &lt;typename tip2&gt;
GMatrica&lt;tip1&gt;::GMatrica(tip2** niz){
</font>    br_kolona=4;br_redova=4;
    for(int i=0;i&lt;br_redova;i++)
        for(int j=0;j&lt;br_kolona;j++)
            matrica[i][j]=niz[i][j];
}
template &lt;typename tip1&gt;
GMatrica&lt;tip1&gt;::GMatrica(std::vector&lt;std::vector&lt;tip1&gt;&gt; vektor){
    if(vektor.size()&gt;4)throw std::logic_error("Ilegalan format matrice");
    for(int i=0;i&lt;vektor.size()-1;i++)if(vektor[i].size()!=vektor[i+1].size())throw std::logic_error("Ilegalan format matrice");
    br_redova=vektor.size();
    if(br_redova&gt;0)br_kolona=vektor[0].size();
    else br_kolona=0;
    for(int i=0;i&lt;br_redova;i++)
        for(int j=0;j&lt;br_kolona;j++)
            matrica[i][j]=vektor[i][j];
}
template &lt;typename tip1&gt;
template &lt;typename tip2&gt;
GMatrica&lt;tip1&gt;::GMatrica(std::initializer_list&lt;std::initializer_list&lt;tip2&gt;&gt; a){
    br_redova=a.size();
    int i=0,j;
    auto it(a.begin());
    br_kolona=it-&gt;size();
    while(it!=a.end()){
        if(br_kolona!=it-&gt;size())throw std::logic_error("Ilegalan format matrice");
        j=0;
        auto it2(it-&gt;begin());
        auto it3(it-&gt;end());
        while(it2!=it3){
            matrica[i][j]=tip1(*it2++);
            j++;
        }
        it++;
        i++;
    }
}
template &lt;typename tip1,typename tip2&gt;
auto operator+(const GMatrica&lt;tip1&gt;&amp;a,const GMatrica&lt;tip2&gt;&amp;b)-&gt;GMatrica&lt;decltype(a[0][0]+b[0][0])&gt;{
    if(a.br_kolona!=b.br_kolona || a.br_redova!=b.br_redova)throw std::domain_error("Nedozvoljena operacija");
    GMatrica&lt;decltype(a[0][0]+b[0][0])&gt; c(a.br_redova,a.br_kolona);
    for(int i=0;i&lt;a.br_redova;i++)
        for(int j=0;j&lt;a.br_kolona;j++)
            c.matrica[i][j]=a.matrica[i][j]+b.matrica[i][j];
    return c;        
}
template &lt;typename tip1,typename tip2&gt;
auto operator*(const GMatrica&lt;tip1&gt;&amp;a,const GMatrica&lt;tip1&gt;&amp;b)-&gt;GMatrica&lt;decltype(a[0][0]-b[0][0])&gt;{
    if(a.br_kolona!=b.br_redova)throw std::domain_error("Nedozvoljena operacija");
<a name="13"></a><font color="#00FFFF"><a href="match606-0.html#13" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_1.gif"/></a>

    GMatrica&lt;decltype(a[0][0]*b[0][0])&gt; c(a.br_redova,b.br_kolona);
    for(int i=0;i&lt;a.br_redova;i++)
        for(int j=0;j&lt;b.br_kolona;j++)
            for(int k=0;k&lt;a.br_kolona;k++)
</font><a name="9"></a><font color="#FF00FF"><a href="match606-0.html#9" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_1.gif"/></a>

                c.matrica[i][j]=a.matrica[i][k]+b.matrica[k][j];
    return c;            
}
template &lt;typename tip1,typename tip2&gt;
auto operator-(const GMatrica&lt;tip1&gt;&amp;a,const GMatrica&lt;tip2&gt;&amp;b)-&gt;GMatrica&lt;decltype(a[0][0]-b[0][0])&gt;{
</font>    if(a.br_kolona!=b.br_kolona || a.br_redova!=b.br_redova)throw std::domain_error("Nedozvoljena operacija");
    GMatrica&lt;decltype(a[0][0]-b[0][0])&gt; c(a.br_redova,a.br_kolona);
    for(int i=0;i&lt;a.br_redova;i++)
        for(int j=0;j&lt;a.br_kolona;j++)
            c.matrica[i][j]=a.matrica[i][j]-b.matrica[i][j];
    return c;        
}
template &lt;typename tip1&gt;
std::ostream&amp;operator&lt;&lt;(std::ostream&amp;tok,const GMatrica&lt;tip1&gt;&amp;m){
    int x(std::cout.width());
    if(x&lt;6)x=6;
    for(int i=0;i&lt;m.br_redova;i++){
<a name="8"></a><font color="#00FFFF"><a href="match606-0.html#8" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_1.gif"/></a>

        for(int j=0;j&lt;m.br_kolona;j++){
            tok&lt;&lt;std::setw(x)&lt;&lt;m.matrica[i][j];
        }
        tok&lt;&lt;std::endl;
    }
    return tok;
}
template &lt;typename tip1&gt;
</font>std::istream&amp;operator&gt;&gt;(std::istream&amp;tok,GMatrica&lt;tip1&gt;&amp;m){
    char znak;
    int i(0),j(0);
    tok&gt;&gt;znak; 
    if(znak!='[') tok.setstate(std::ios::failbit);
    while(znak!=']'&amp;&amp; znak!=0){
        znak='x';
        j=0;
        if(znak==0)tok.setstate(std::ios::failbit);
        while(znak!=';'&amp;&amp;znak!=0&amp;&amp;znak!=']'){
            if(znak==0)tok.setstate(std::ios::failbit);
            if(j&gt;3)tok.setstate(std::ios::failbit);
            tok&gt;&gt;m.matrica[i][j];
            j++;
            tok&gt;&gt;znak;
        }
        if(i&gt;3)tok.setstate(std::ios::failbit);
        i++;
    }
    m.br_redova=i;
    m.br_kolona=j;
    return tok;
}
/*template &lt;typename tip1&gt;
auto operator*(GMatrica&lt;tip1&gt;a,double koef)-&gt;GMatrica&lt;decltype(a[0][0]*koef)&gt;{
        for(int i=0;i&lt;a.br_redova;i++)
            for(int j=0;j&lt;a.br_kolona;j++)
                a[i][j]*=koef;
        return a;
}
template &lt;typename tip1&gt;
auto operator*(double koef,GMatrica&lt;tip1&gt;a)-&gt;GMatrica&lt;decltype(a[0][0]*koef)&gt;{
    return a*koef;
}*/
template &lt;typename tip1,typename tip2&gt;
bool operator==(const GMatrica&lt;tip1&gt;&amp;a,const GMatrica&lt;tip2&gt;&amp;b){
    if(a.br_kolona!=b.br_kolona||a.br_redova!=b.br_redova)return false;
    for(int i=0;i&lt;a.br_redova;i++)
        for(int j=0;j&lt;a.br_kolona;j++)
            if(a.matrica[i][j]!=b.matrica[i][j])return false;
    return true;        
}
<a name="5"></a><font color="#FF0000"><a href="match606-0.html#5" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_1.gif"/></a>

template &lt;typename tip1,typename tip2&gt;
bool operator!=(const GMatrica&lt;tip1&gt;&amp;a,const GMatrica&lt;tip2&gt;&amp;b){
    return !(a==b);
}
template &lt;typename tip1,typename tip2&gt;
</font>GMatrica&lt;tip1&gt;&amp;operator+=(GMatrica&lt;tip1&gt;&amp;a,const GMatrica&lt;tip2&gt;&amp;b){
<a name="0"></a><font color="#FF0000"><a href="match606-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_2.gif"/></a>

    if(a.br_kolona!=b.br_kolona || a.br_redova!=b.br_redova)throw std::domain_error("Nedozvoljena operacija");
    for(int i=0;i&lt;a.br_redova;i++)
        for(int j=0;j&lt;a.br_kolona;j++)
            a.matrica[i][j]+=b.matrica[i][j];
    return a;        
}
template &lt;typename tip1,typename tip2&gt;
</font>GMatrica&lt;tip1&gt;&amp;operator-=(GMatrica&lt;tip1&gt;&amp;a,const GMatrica&lt;tip2&gt;&amp;b){
<a name="1"></a><font color="#00FF00"><a href="match606-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_2.gif"/></a>

    if(a.br_kolona!=b.br_kolona || a.br_redova!=b.br_redova)throw std::domain_error("Nedozvoljena operacija");
    for(int i=0;i&lt;a.br_redova;i++)
        for(int j=0;j&lt;a.br_kolona;j++)
            a.matrica[i][j]-=b.matrica[i][j];
    return a;
}
template &lt;typename tip1,typename tip2&gt;
</font>GMatrica&lt;tip1&gt;&amp;operator*=(GMatrica&lt;tip1&gt;&amp;a,const GMatrica&lt;tip2&gt;&amp;b){
    if(a.br_kolona!=a.br_redova || b.br_kolona!=b.br_redova || a.br_kolona!=b.br_kolona)throw std::domain_error("Nedozvoljena operacija");
<a name="14"></a><font color="#FF00FF"><a href="match606-0.html#14" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_1.gif"/></a>

    GMatrica&lt;tip1&gt;c(a.br_redova,a.br_kolona);
    for(int i=0;i&lt;a.br_redova;i++)
        for(int j=0;j&lt;a.br_redova;j++)
            for(int k=0;k&lt;a.br_redova;k++)
</font>                c.matrica[i][j]=a.matrica[i][k]+b.matrica[k][j];
    a=c;
    return a;
}



int main (){
    std::cout&lt;&lt;"blabla\n";
    GMatrica&lt;int&gt; m({{1,2},{3,4}});
    GMatrica&lt;int&gt;m2(m);
    std::cout&lt;&lt;m2;
    //    m*2;
    m[0][0];
    /*//std::cout&lt;&lt;2*m&lt;&lt;std::endl;
    GMatrica&lt;double&gt; b({{1,2},{3,4}});
    std::cout&lt;&lt;m+b&lt;&lt;std::endl;*/
    //auto a(m);
    //std::cout&lt;&lt;a.DajBrojRedova()&lt;&lt;" "&lt;&lt;a.DajBrojKolona()&lt;&lt;" ";
	return 0;
}</pre>
</body>
</html>
