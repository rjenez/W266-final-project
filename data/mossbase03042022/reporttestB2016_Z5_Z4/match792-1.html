<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z5/Z4/student4124.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z5/Z4/student5413.cpp<p></p><pre>
/B16/17 (ZadaÄ‡a 5, Zadatak 4)
//Autotestovi by Ivona Ivkovic (mail: iivkovic2@etf.unsa.ba)
//Za autotestove se obracati *iskljucivo* osobi koja ih pise
#include &lt;iostream&gt;
#include &lt;vector&gt;
#include &lt;stdexcept&gt;
#include &lt;iomanip&gt;
#include &lt;algorithm&gt;

template&lt;typename Tip&gt;
class Gmatrica
{
  Tip elementi[4][4];
  int br_redova, br_kolona;
public:
    Gmatrica();
    Gmatrica(int m, int n);
    Gmatrica(int m, int n, Tip v);
    Gmatrica(const Gmatrica&lt;Tip&gt; &amp;mat);
    Gmatrica(Tip mat[]);
    Gmatrica(const std::vector&lt;std::vector&lt;Tip&gt;&gt; &amp;mat);
    Gmatrica(const std::initializer_list&lt;std::initializer_list&lt;Tip&gt;&gt; &amp;lista);
    
    int DajBrojRedova() const { return br_redova; }
    int DajBrojKolona() const { return br_kolona; }
    
    /*friend std::istream &amp;operator &gt;&gt; (std::istream &amp;tok, Gmatrica &amp;mat);*/
    template &lt;typename Tip1&gt;
    friend std::ostream &amp;operator &lt;&lt; (std::ostream &amp;tok, const Gmatrica&lt;Tip1&gt; &amp;mat);
    
    Tip &amp;operator () (int i, int j);
    Tip *operator [] (int i);
    Tip const *operator [] (int i) const; 
    
    template &lt;typename Tip1&gt;
    friend bool operator == (const Gmatrica&lt;Tip1&gt; &amp;mat1, const Gmatrica&lt;Tip1&gt; &amp;mat2); 
    template &lt;typename Tip1&gt;
    friend bool operator != (const Gmatrica&lt;Tip1&gt; &amp;mat1, const Gmatrica&lt;Tip1&gt; &amp;mat2); 
    
    template &lt;typename Tip1, typename Tip2&gt;
    friend Gmatrica operator + (const Gmatrica&lt;Tip1&gt; &amp;mat1, const Gmatrica&lt;Tip2&gt; &amp;mat2);
    template &lt;typename Tip1, typename Tip2&gt;
    friend Gmatrica operator - (const Gmatrica&lt;Tip1&gt; &amp;mat1, const Gmatrica&lt;Tip2&gt; &amp;mat2);
    template &lt;typename Tip1, typename Tip2&gt;
    friend Gmatrica operator * (const Gmatrica&lt;Tip1&gt; &amp;mat1, const Gmatrica&lt;Tip2&gt; &amp;mat2);

    
    Gmatrica &amp;operator += (const Gmatrica &amp;x);
    Gmatrica &amp;operator -= (const Gmatrica &amp;x);
    Gmatrica &amp;operator *= (const Gmatrica &amp;x);
};

//Konstruktori
template &lt;typename Tip&gt;
Gmatrica&lt;Tip&gt;::Gmatrica() : br_redova(0), br_kolona(0) {}

template&lt;typename Tip&gt;
Gmatrica&lt;Tip&gt;::Gmatrica(int m, int n) : br_redova(m), br_kolona(n)
{
    if(m &lt; 0 || m &gt; 4 || n &lt; 0 || n &gt; 4)
      throw std::logic_error("Ilegalan format matrice");
    for(int i(0); i &lt; br_redova; i++)
    {
        for(int j(0); j &lt; br_kolona; j++)
          elementi[i][j] = 0;
    }
}

<a name="7"></a><font color="#0000FF"><a href="match792-0.html#7" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_1.gif"/></a>

template&lt;typename Tip&gt;
Gmatrica&lt;Tip&gt;::Gmatrica(int m, int n, Tip v) : br_redova(m), br_kolona(n)
{
    if(m &lt; 0 || m &gt; 4 || n &lt; 0 || n &gt; 4)
</font>      throw std::logic_error("Ilegalan format matrice");
    for(int i(0); i &lt; br_redova; i++)
    {
        for(int j(0); j &lt; br_kolona; j++)
          elementi[i][j] = v;
    }
}

<a name="2"></a><font color="#0000FF"><a href="match792-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_2.gif"/></a>

template &lt;typename Tip&gt;
Gmatrica&lt;Tip&gt;::Gmatrica(const Gmatrica&lt;Tip&gt; &amp;mat) : br_redova(mat.br_redova), br_kolona(mat.br_kolona)
{
    for(int i(0); i &lt; br_redova; i++)
    {
        for(int j(0); j &lt; br_kolona; j++)
          elementi[i][j] = mat[i][j];
</font>    }
}

template &lt;typename Tip&gt;
Gmatrica&lt;Tip&gt;::Gmatrica(Tip mat[]) : br_redova(4), br_kolona(4)
{
    for(int i(0); i &lt; br_redova; i++)
    {
        for(int j(0); j &lt; br_kolona; j++)
          elementi[i][j] = mat[i][j];
    }
}

template &lt;typename Tip&gt;
Gmatrica&lt;Tip&gt;::Gmatrica(const std::vector&lt;std::vector&lt;Tip&gt;&gt; &amp;mat) : br_redova(mat.size()), br_kolona(mat[0].size())
{
    if(mat.size() &lt; 0 || mat.size() &gt; 4 || mat[0].size() &lt; 0 || mat[0].size() &gt; 4)
      throw std::logic_error("Ilegalan format matrice");
    for(int i(0); i &lt; br_redova; i++)
    {
        for(int j(0); j &lt; br_kolona; j++)
          elementi[i][j] = mat[i][j];
    }
}

template &lt;typename Tip&gt;
Gmatrica&lt;Tip&gt;::Gmatrica(const std::initializer_list&lt;std::initializer_list&lt;Tip&gt;&gt; &amp;lista) : br_redova(lista.size()), br_kolona(lista.begin()-&gt;size())
{
    if(lista.size() &lt; 0 || lista.size() &gt; 4)
      throw std::logic_error("Ilegalan format matice");
    
    int i(0), j(0);
    for (const auto&amp; l : lista)
    {
        for (const auto&amp; v : l)
        {
           elementi[i][j] = v;
           ++j;
        }
        j = 0;
        ++i;
    }
}

//Operatori
template &lt;typename Tip1&gt;
<a name="1"></a><font color="#00FF00"><a href="match792-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_4.gif"/></a>

std::ostream &amp;operator &lt;&lt; (std::ostream &amp;tok, const Gmatrica&lt;Tip1&gt; &amp;mat)
{
    int wide(tok.width());
    if(wide &lt; 6) wide = 6;
    for(int i(0); i &lt; mat.br_redova(); i++)
    {
        for(int j(0); j &lt; mat.br_kolona(); j++)
        {
            tok &lt;&lt; std::setw(wide) &lt;&lt; mat.elementi[i][j]; 
        }
        tok &lt;&lt; std::endl;
    }
    return tok;
}

template &lt;typename Tip&gt;
</font>Tip &amp;Gmatrica&lt;Tip&gt;::operator () (int i, int j)
{
    if(i &lt;= 0 || i &gt; br_redova || j &lt;= 0 || j &gt; br_kolona)
      throw std::range_error("Nedozvoljen indeks");
    
    return elementi[i - 1][j - 1];
}

template &lt;typename Tip&gt;
Tip *Gmatrica&lt;Tip&gt;::operator [] (int i)
{
    return elementi[i];
}

template &lt;typename Tip&gt;
Tip const *Gmatrica&lt;Tip&gt;::operator [] (int i) const
{
    return elementi[i];
}

template &lt;typename Tip1&gt;
bool operator == (const Gmatrica&lt;Tip1&gt; &amp;mat1, const Gmatrica&lt;Tip1&gt; &amp;mat2)
{
<a name="3"></a><font color="#00FFFF"><a href="match792-0.html#3" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_2.gif"/></a>

    if(mat1.br_redova != mat2.br_redova || mat1.br_kolona != mat2.br_kolona)
      return false;
    for(int i(0); i &lt; mat1.br_redova; i++)
    {
        for(int j(0); j &lt; mat1.br_kolona; j++)
        {
            if(mat1.elementi[i][j] != mat2.elementi[i][j])
</font>              return false;
        }
    }
    return true;
}

template &lt;typename Tip1&gt;
<a name="6"></a><font color="#00FF00"><a href="match792-0.html#6" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_1.gif"/></a>

bool operator != (const Gmatrica&lt;Tip1&gt; &amp;mat1, const Gmatrica&lt;Tip1&gt; &amp;mat2)
{
    return !(mat1 == mat2);
}

template &lt;typename Tip1, typename Tip2&gt;
</font>auto operator + (const Gmatrica&lt;Tip1&gt; &amp;mat1, const Gmatrica&lt;Tip2&gt; &amp;mat2) -&gt; Gmatrica&lt;decltype(mat1[0][0] + mat2[0][0])&gt;
{
    if(mat1.br_redova != mat2.br_redova || mat1.br_kolona != mat2.br_kolona)
      throw std::domain_error("Nedozvoljena operacija");
<a name="4"></a><font color="#FF00FF"><a href="match792-0.html#4" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_2.gif"/></a>

   Gmatrica&lt;decltype(mat1[0][0] + mat2[0][0])&gt; mat3(mat1.br_redova, mat2.br_kolona);
   
   for(int i(0); i &lt; mat1.br_redova(); i++)
   {
       for(int j(0); j &lt; mat1.br_kolona(); j++)
       {
           mat1[i][j] = mat1[i][j] + mat2[i][j];
</font>       }
   }
   return mat3;
}

template &lt;typename Tip1, typename Tip2&gt;
auto operator - (const Gmatrica&lt;Tip1&gt; &amp;mat1, const Gmatrica&lt;Tip2&gt; &amp;mat2) -&gt; Gmatrica&lt;decltype(mat1[0][0] - mat2[0][0])&gt;
{
    if(mat1.br_redova != mat2.br_redova || mat1.br_kolona != mat2.br_kolona)
      throw std::domain_error("Nedozvoljena operacija");
<a name="5"></a><font color="#FF0000"><a href="match792-0.html#5" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_2.gif"/></a>

    Gmatrica&lt;decltype(mat1[0][0] - mat2[0][0])&gt; mat3(mat1.br_redova, mat2.br_kolona);
    
    for(int i(0); i &lt; mat1.br_redova(); i++)
    {
       for(int j(0); j &lt; mat1.br_kolona(); j++)
       {
           mat1[i][j] = mat1[i][j] - mat2[i][j];
</font>       }
    }
   return mat3;
}

template &lt;typename Tip1, typename Tip2&gt;
auto operator * (const Gmatrica&lt;Tip1&gt; &amp;x, const Gmatrica&lt;Tip2&gt; &amp;y) -&gt; Gmatrica&lt;decltype(x[0][0] * y[0][0])&gt;
{
    if(x.br_kolona != y.br_redova)
      throw std::domain_error("Nedozvoljena operacija");
}

<a name="0"></a><font color="#FF0000"><a href="match792-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_11.gif"/></a>

template &lt;typename Tip&gt;
Gmatrica&lt;Tip&gt; &amp;Gmatrica&lt;Tip&gt;::operator += (const Gmatrica&lt;Tip&gt; &amp;x)
{
    if(br_redova != x.br_redova || br_kolona != x.br_kolona)
      throw std::domain_error("Nedozvoljena operacija");
    
    for(int i(0); i &lt; br_redova; i++)
    {
        for(int j(0); j &lt; br_kolona; j++)
        {
            elementi[i][j] += x.elementi[i][j];
        }
    }
    return *this;
}

template &lt;typename Tip&gt;
Gmatrica&lt;Tip&gt; &amp;Gmatrica&lt;Tip&gt;::operator -= (const Gmatrica&lt;Tip&gt; &amp;x)
{
    if(br_redova != x.br_redova || br_kolona != x.br_kolona)
      throw std::domain_error("Nedozvoljena operacija");
    
    for(int i(0); i &lt; br_redova; i++)
    {
        for(int j(0); j &lt; br_kolona; j++)
        {
            elementi[i][j] -= x.elementi[i][j];
        }
    }
    return *this;
}

template &lt;typename Tip&gt;
Gmatrica&lt;Tip&gt; &amp;Gmatrica&lt;Tip&gt;::operator *= (const Gmatrica&lt;Tip&gt; &amp;x)
{
    if(br_kolona != x.br_redova)
      throw std::domain_error("Nedozvoljena operacija");
    
    Gmatrica&lt;Tip&gt; m3(br_redova, x.br_kolona);
</font>    
    for(int i(0); i &lt; br_redova; i++)
    {
        for(int j(0); j &lt; x.br_kolona; j++)
        {
            for(int k(0); k &lt; br_kolona; k++)
            {
                m3.elementi[i][j] += (elementi[i][k] * x.elementi[k][j]);
            }
        }
    }
    *this = m3;
    return *this;
}

int main ()
{
    /*std::vector&lt;std::vector&lt;int&gt;&gt; a{{1,2}, {3,4}};
    std::vector&lt;std::vector&lt;double&gt;&gt; b{{2,4}, {6,8}};*/
    Gmatrica&lt;int&gt; x({{1, 2}, {3, 4}});
    
    for(int i(0); i &lt; x.DajBrojRedova(); i++)
    {
        for(int j(0); j &lt; x.DajBrojKolona(); j++)
        {
            std::cout &lt;&lt; x[i][j] &lt;&lt; " ";            
        }
        std::cout &lt;&lt; std::endl;
    }
  
    return 0;
}</pre>
</body>
</html>
