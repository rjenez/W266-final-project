<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z5/Z4/student5172.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z5/Z4/student5172.cpp<p></p><pre>

#include &lt;iostream&gt;
#include&lt;stdexcept&gt;
#include&lt;vector&gt;
#include&lt;iomanip&gt;
#include&lt;initializer_list&gt;
template &lt;typename Tip&gt;
class GMatrica{
    Tip mat[4][4]; 
    int brojkolona; 
    int brojredova; 
    public: 
    GMatrica(){
        brojkolona=0; 
        brojredova=0; 
    }
<a name="4"></a><font color="#FF00FF"><a href="match99-1.html#4" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_2.gif"/></a>

    GMatrica(int brojkol, int brojred, Tip element=Tip());
    template&lt; typename Tip1&gt;
    GMatrica(const GMatrica &lt;Tip1&gt;&amp;a );
    template&lt; typename Tip1&gt;
    GMatrica(Tip1 niz[4][4]);
    GMatrica(const std::vector&lt;std::vector&lt;Tip&gt;&gt; &amp;a);
    GMatrica( std::initializer_list&lt;std::vector&lt;Tip&gt;&gt; lista);
    int DajBrojRedova() const{
        return brojredova; 
    }
    int DajBrojKolona() const{
        return brojkolona; 
    }
    template&lt;typename Tip1, typename Tip2&gt;
</font><a name="1"></a><font color="#00FF00"><a href="match99-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_7.gif"/></a>

    friend auto operator+(const GMatrica&lt;Tip1&gt; &amp;a, const GMatrica&lt;Tip2&gt; &amp;b)-&gt;GMatrica &lt;decltype(a.mat[0][0]+b.mat[0][0])&gt;; 
    template&lt;typename Tip1, typename Tip2&gt;
    friend auto operator-(const GMatrica&lt;Tip1&gt; &amp;a, const GMatrica&lt;Tip2&gt; &amp;b)-&gt;GMatrica&lt;decltype(a.mat[0][0]-b.mat[0][0])&gt;; 
    template&lt;typename Tip1, typename Tip2&gt;
    friend auto operator*(const GMatrica&lt;Tip1&gt; &amp;a, const GMatrica&lt;Tip2&gt; &amp;b)-&gt;GMatrica&lt;decltype(a.mat[0][0]*b.mat[0][0])&gt;; 
    template&lt;typename Tip1, typename Tip2&gt;
    friend auto operator*(const GMatrica&lt;Tip1&gt; &amp;a, Tip2 x)-&gt;GMatrica&lt;decltype(a.mat[0][0]*x)&gt;; 
    template &lt;typename Tip1, typename Tip2&gt;
    friend auto operator*( Tip1 x, const GMatrica&lt;Tip2&gt; &amp;a)-&gt;GMatrica&lt;decltype(x*a.mat[0][0])&gt;;
</font>    template &lt;typename Tip1&gt;
    GMatrica &lt;Tip&gt; &amp;operator+=(const GMatrica&lt;Tip1&gt; &amp;a); 
    template &lt;typename Tip1&gt;
    GMatrica &lt;Tip&gt; &amp;operator-=(const GMatrica&lt;Tip1&gt; &amp;a);
    template &lt;typename Tip1&gt;
    GMatrica &lt;Tip&gt; &amp;operator*=(Tip1 x);
    template &lt;typename Tip1&gt;
    GMatrica &lt;Tip&gt; &amp;operator*=(const GMatrica&lt;Tip1&gt; &amp;a); 
    template&lt; typename Tip2&gt;
    bool operator ==( const GMatrica&lt;Tip2&gt; &amp;b);
    template&lt; typename Tip2&gt;
    bool operator !=( const GMatrica&lt;Tip2&gt; &amp;b);
    Tip* &amp;operator [](int broj_redova)const;
    Tip* operator [](int broj_redova);
    Tip  operator () (int a, int b) const;
    Tip  &amp;operator () (int a, int b);
<a name="13"></a><font color="#00FFFF"><a href="match99-1.html#13" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_0.gif"/></a>

    template&lt; typename Tip1&gt;
    friend std::ostream &amp;operator&lt;&lt;(std::ostream &amp;tok,  GMatrica&lt;Tip1&gt; &amp;a);
    template&lt; typename Tip1&gt;
</font>    friend std::istream &amp;operator&gt;&gt;(std::istream &amp;tok,  GMatrica&lt;Tip1&gt; &amp;a);
};
template &lt;typename Tip&gt;
<a name="14"></a><font color="#FF00FF"><a href="match99-1.html#14" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_0.gif"/></a>

GMatrica&lt;Tip&gt;::GMatrica(int brojkol, int brojred, Tip element){
        if(brojkol&gt;4 || brojkol&lt;0 || brojred&gt;4 || brojkol&lt;0) throw std::logic_error("Ilegalan format matrice");
        GMatrica::brojkolona=brojkol, GMatrica::brojredova=brojred; 
</font>        for(int i=0; i&lt;DajBrojRedova(); i++){
            for(int j=0; j&lt;DajBrojKolona(); j++){
<a name="2"></a><font color="#0000FF"><a href="match99-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_5.gif"/></a>

                mat[i][j]=element; 
            }
        }
    }
/*
template &lt;typename Tip&gt;
template&lt; typename Tip1&gt;
  GMatrica&lt;Tip&gt;::GMatrica(const GMatrica &lt;Tip1&gt;&amp;a ){
        GMatrica::brojkolona=a.DajBrojKolona(); 
       GMatrica::brojredova=a.DajBrojRedova();
        for(int i=0; i&lt;DajBrojRedova(); i++){
            for(int j=0; j&lt;DajBrojKolona(); j++){
                mat[i][j]=a.mat[i][j]; 
            }
        }
    }
*/
template&lt;typename Tip&gt;
template&lt;typename Tip1&gt;
GMatrica&lt;Tip&gt;::GMatrica(const GMatrica&lt;Tip1&gt;&amp;m)
{
    if(m.brojredova&lt;0 || m.brojkolona&lt;0 || m.brojredova&gt;4 || m.brojkolona&gt;4) throw std::logic_error("Ilegalan format matrica");
    GMatrica::brojkolona=m.brojkolona;
    GMatrica::broj_redova=m.brojredova;
    for(int i=0; i&lt;brojredova; i++) {
        for(int j=0; j&lt;brojkolona; j++) {
            mat[i][j]=m.mat[i][j];
        }
    }
}
template &lt;typename Tip&gt;
template&lt; typename Tip1&gt;
 GMatrica&lt;Tip&gt;::GMatrica(Tip1 niz[4][4]){
        GMatrica::brojkolona=4; GMatrica::brojredova=4; 
        for(int i=0; i&lt;4; i++){
            for(int j=0; j&lt;4; j++){
                mat[i][j]=niz[i][j]; 
</font>            }
        }
    }
    template &lt;typename Tip&gt;
template &lt;typename Tip1&gt;
    GMatrica &lt;Tip&gt; &amp; GMatrica &lt;Tip&gt;::operator*=(Tip1 x){
        for(int i=0; i&lt;DajBrojRedova(); i++){
            for(int j=0; j&lt;DajBrojKolona(); j++){
                mat[i][j]*=x; 
            }
        }
        return *this; 
    }
    

<a name="11"></a><font color="#00FF00"><a href="match99-1.html#11" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_1.gif"/></a>

template &lt;typename Tip&gt;

 GMatrica&lt;Tip&gt;::GMatrica(const std::vector&lt;std::vector&lt;Tip&gt;&gt; &amp;a){
        if(a.size()&gt;4 || a.size(a[0])&gt;4) throw std::logic_error("Ilegalan format matrice"); 
</font>        for(int i=0; i&lt;a.size(); i++){
            for(int j=0; j&lt;a[i].size(); j++){
                if(a[0].size()!=a[i].size())  throw std::logic_error("Ilegalan format matrice"); 
            }
        }
        brojredova=a.size(); 
        brojkolona=a.size(a[0]); 
        for(int i=0; i&lt;brojredova; i++){
            for(int j=0; j&lt;brojkolona; j++){
                mat[i][j]=a[i][j]; 
            }
        }
    }

<a name="3"></a><font color="#00FFFF"><a href="match99-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_3.gif"/></a>

template &lt;typename Tip&gt;
GMatrica&lt;Tip&gt;::GMatrica(std::initializer_list&lt;std::vector&lt;Tip&gt;&gt; lista ){
        GMatrica::brojkolona=lista.begin()-&gt;size();
    GMatrica::brojredova=lista.size();
    auto it=lista.begin();
    for(int i=0; i&lt;lista.size(); i++) {
        int k(0);
        for(int j=0; j&lt;lista.begin()-&gt;size(); j++) {
            mat[i][j]=(*it)[k];
            k++;
        }
        it++;
    }
    }
template &lt;typename Tip1, typename Tip2&gt;
</font>auto operator + (const GMatrica&lt;Tip1&gt; &amp;a, const GMatrica&lt;Tip2&gt; &amp;b)-&gt;GMatrica &lt;decltype(a.mat[0][0]+b.mat[0][0])&gt;{
    if(a.DajBrojRedova()!=b.DajBrojRedova() || a.DajBrojKolona()!=b.DajBrojKolona()) throw std::domain_error("Nedozvoljena operacija"); 
       GMatrica&lt;decltype(a.mat[0][0]+b.mat[0][0])&gt;s(a.DajBrojRedova(), a.DajBrojKolona(), a.mat[0][0]+b.mat[0][0]);
        for(int i=0; i&lt;a.DajBrojRedova(); i++){
            for(int j=0; j&lt;a.DajBrojKolona(); j++){
<a name="12"></a><font color="#0000FF"><a href="match99-1.html#12" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_1.gif"/></a>

                s.mat[i][j]=a.mat[i][j]+b.mat[i][j]; 
            }
        }
        return s; 
     
}
template &lt;typename Tip1, typename Tip2&gt;
auto operator - (const GMatrica&lt;Tip1&gt; &amp;a, const GMatrica&lt;Tip2&gt; &amp;b)-&gt;GMatrica &lt;decltype(a.mat[0][0]-b.mat[0][0])&gt;{
</font><a name="6"></a><font color="#00FF00"><a href="match99-1.html#6" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_2.gif"/></a>

 if(a.DajBrojRedova()!=b.DajBrojRedova() || a.DajBrojKolona()!=b.DajBrojKolona()) throw std::domain_error("Nedozvoljena operacija"); 
       GMatrica&lt;decltype(a.mat[0][0]-b.mat[0][0])&gt;s(a.DajBrojRedova(), a.DajBrojKolona(), a.mat[0][0]-b.mat[0][0]);
</font>        for(int i=0; i&lt;a.DajBrojRedova(); i++){
            for(int j=0; j&lt;a.DajBrojKolona(); j++){
                s.mat[i][j]=a.mat[i][j]-b.mat[i][j]; 
            }
        }
        return s; 
   
}
template &lt;typename Tip1, typename Tip2&gt;
<a name="8"></a><font color="#00FFFF"><a href="match99-1.html#8" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_2.gif"/></a>

auto operator * (const GMatrica&lt;Tip1&gt; &amp;a, const GMatrica&lt;Tip2&gt; &amp;b)-&gt;GMatrica &lt;decltype(a.mat[0][0]*b.mat[0][0])&gt;{
    if( a.DajBrojKolona()!=b.DajBrojRedova()) throw std::domain_error("Nedozvoljena operacija"); 
       GMatrica&lt;decltype(a.mat[0][0]*b.mat[0][0])&gt;s(a.DajBrojRedova(), a.DajBrojKolona(), a.mat[0][0]*b.mat[0][0]);
</font>        for(int i=0; i&lt;a.DajBrojRedova(); i++){
            for(int j=0; j&lt;b.DajBrojKolona(); j++){
                for(int k=0; k&lt;a.DajBrojKolona(); k++)
                s.mat[i][j]=a.mat[i][k]+b.mat[k][j]; 
            }
        }
        return s; 
    
}
<a name="7"></a><font color="#0000FF"><a href="match99-1.html#7" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_2.gif"/></a>

template &lt;typename Tip1, typename Tip2&gt;
auto operator*(const GMatrica&lt;Tip1&gt; &amp;a, Tip2 x)-&gt;GMatrica&lt;decltype(a.mat[0][0]*x)&gt;{
    GMatrica&lt;decltype(a.mat[0][0]*x)&gt;s((a.DajBrojRedova(), a.DajBrojKolona()));
    for(int i=0; i&lt;a.DajBrojRedova(); i++){
</font>        for(int j=0; j&lt;a.DajBrojKolona(); j++){
            s[i][j]=x*a[i][j]; 
        }
    }
    return s; 
}
<a name="10"></a><font color="#FF0000"><a href="match99-1.html#10" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_1.gif"/></a>

template &lt;typename Tip1, typename Tip2&gt;
auto operator*( Tip1 x, const GMatrica&lt;Tip2&gt; &amp;a)-&gt;GMatrica&lt;decltype(a.mat[0][0]*x)&gt;{
</font>    GMatrica&lt;decltype(a.mat[0][0]*x)&gt;s((a.DajBrojRedova(), a.DajBrojKolona() ));
    for(int i=0; i&lt;a.DajBrojRedova(); i++){
        for(int j=0; j&lt;a.DajBrojKolona(); j++){
            s[i][j]=x*a[i][j]; 
        }
    }
    return s; 
}
template &lt;typename Tip&gt; 
template &lt;typename Tip1&gt;
GMatrica &lt;Tip&gt;&amp; GMatrica&lt;Tip&gt;:: operator+=(const GMatrica&lt;Tip1&gt; &amp;b){
        if(DajBrojRedova()==b.DajBrojRedova() &amp;&amp; DajBrojKolona()==b.DajBrojKolona()){
        for(int i=0; i&lt;DajBrojRedova(); i++){
            for(int j=0; j&lt;DajBrojKolona(); j++){
                mat[i][j]+=b.mat[i][j]; 
            }
        }
        return *this; 
    }
    else throw std::domain_error("Nedozvoljena operacija"); 
    } 
template &lt;typename Tip&gt; 
template &lt;typename Tip1&gt;
GMatrica &lt;Tip&gt;&amp; GMatrica&lt;Tip&gt;:: operator-=(const GMatrica&lt;Tip1&gt; &amp;b){
        if(DajBrojRedova()==b.DajBrojRedova() &amp;&amp; DajBrojKolona()==b.DajBrojKolona()){
        for(int i=0; i&lt;DajBrojRedova(); i++){
            for(int j=0; j&lt;DajBrojKolona(); j++){
                mat[i][j]-=b.mat[i][j]; 
            }
        }
        return *this; 
    }
    else throw std::domain_error("Nedozvoljena operacija"); 
    } 
    
template &lt;typename Tip&gt; 
template &lt;typename Tip1&gt;
GMatrica &lt;Tip&gt;&amp; GMatrica&lt;Tip&gt;:: operator*=(const GMatrica&lt;Tip1&gt; &amp;b){
    if( DajBrojKolona()==b.DajBrojRedova()){
        for(int i=0; i&lt;DajBrojRedova(); i++){
            for(int j=0; j&lt;b.DajBrojKolona(); j++){
                for(int k=0; k&lt;DajBrojKolona(); k++)
                mat[i][j]*=b.mat[k][j]; 
            }
        }
        return *this; 
    }
    else throw std::domain_error("Nedozvoljena operacija"); 
}
template &lt;typename Tip&gt; 
 template&lt;typename Tip2&gt;
    bool GMatrica&lt;Tip&gt;:: operator ==( const GMatrica&lt;Tip2&gt; &amp;b){
        if(DajBrojKolona()!=b.DajBrojKolona() || b.DajBrojRedova()!=DajBrojRedova()) throw std::domain_error("Nedozvoljena operacija"); 
        for(int i=0; i&lt;DajBrojRedova(); i++){
            for(int j=0; j&lt;DajBrojKolona(); j++){
                if(mat[i][j]==b.mat[i][j]) return true; 
            }
        }
        return false; 
    }
    template &lt;typename Tip &gt; 
     template&lt; typename Tip2&gt;
    bool GMatrica&lt;Tip&gt;:: operator !=( const GMatrica&lt;Tip2&gt; &amp;b){
        if(DajBrojKolona()!=b.DajBrojKolona() || b.DajBrojRedova()!=DajBrojRedova()) throw std::domain_error("Nedozvoljena operacija"); 
        for(int i=0; i&lt;DajBrojRedova(); i++){
            for(int j=0; j&lt;DajBrojKolona(); j++){
                if(mat[i][j]!=b.mat[i][j]) return true; 
            }
        }
        return false; 
    }
<a name="9"></a><font color="#FF00FF"><a href="match99-1.html#9" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_1.gif"/></a>

    template &lt;typename Tip&gt;
Tip*&amp;GMatrica&lt;Tip&gt;::operator [](int broj_redova) const
{
    return mat[broj_redova];
}

template &lt;typename Tip&gt;
Tip* GMatrica&lt;Tip&gt;::operator [](int broj_redova)
{
    return mat[broj_redova];
}
    template&lt;typename Tip&gt;
</font>    Tip GMatrica&lt;Tip&gt;::operator () (int a, int b)const  {
        if(a&lt;=0 || b&lt;=0 || (a&gt;DajBrojRedova())|| b&gt;DajBrojKolona()) throw std::range_error("Nedozvoljen indeks");
        return mat[a-1][b-1]; 
    }
    template&lt;typename Tip&gt;
    Tip &amp;GMatrica&lt;Tip&gt;::operator () (int a, int b)  {
        if(a&lt;=0 || b&lt;=0 || (a&gt;DajBrojRedova())|| b&gt;DajBrojKolona()) throw std::range_error("Nedozvoljen indeks");
        return mat[a-1][b-1]; 
    }
     template&lt; typename Tip1&gt;
<a name="5"></a><font color="#FF0000"><a href="match99-1.html#5" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_2.gif"/></a>

     std::ostream &amp;operator&lt;&lt;(std::ostream &amp;tok,  GMatrica&lt;Tip1&gt; &amp;a){
         std::streamsize n; 
         if(tok.width()&lt;6) n=6; 
         else n=tok.width();
         for(int i=0; i&lt;a.DajBrojRedova(); i++){
             for(int j=0; j&lt;a.DajBrojKolona(); j++){
                 tok&lt;&lt;std::setw(n)&lt;&lt;a.mat[i][j]; 
             }
             tok&lt;&lt;std::endl; 
         }
         return tok; 
     }
     template&lt;typename Tip1&gt;
</font><a name="0"></a><font color="#FF0000"><a href="match99-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_8.gif"/></a>

std::istream &amp;operator &gt;&gt;(std::istream &amp;tok,  GMatrica&lt;Tip1&gt; &amp;m)
{
    char znak;
    tok &gt;&gt; std::ws;
    tok&gt;&gt;znak;
    if(znak!='[') tok.setstate(std::ios::failbit);
    Tip1 x;
    int i(0), j(0);
    if(m.brojredova==0 &amp;&amp; m.brojkolona==0) {
        for(;;) {
            tok&gt;&gt;x&gt;&gt;znak;
            m[i][j]=x;
            if(znak!=',') {
                m.brojredova++;
                i++;
                j=0;
            }
            if(znak==',') {
                j++;
                m.brojkolona++;
            }
            if(znak==']') break;
            if(znak!=',' &amp;&amp; znak!=';' &amp;&amp; znak!=']') tok.setstate(std::ios::failbit);

        }
    } else {
        int br(0), br2(0);
        for(;;) {
            Tip1 x;
            tok&gt;&gt;x&gt;&gt;znak;
            m.mat[i][j]=x;
            if(znak!=',') {
                br++;
                i++;
                j=0;
            }
            if(znak==',') {
                j++;
                br2++;
            }
            if(znak==']') break;
            if(br!=m.brojredova-1 &amp;&amp; br2!=m.brojkolona-1) tok.setstate(std::ios::failbit);
            if(znak!=',' &amp;&amp; znak!=';' &amp;&amp; znak!=']') tok.setstate(std::ios::failbit);

        }
    }
    return tok;
}
    
    
    
    

    

int main ()
{
     GMatrica&lt;int&gt; m1;
</font>   std::cin &gt;&gt; m1;
   std::cout &lt;&lt; m1 &lt;&lt; std::endl;
}</pre>
</body>
</html>
