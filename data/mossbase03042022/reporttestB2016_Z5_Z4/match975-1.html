<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z5/Z4/student4602.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z5/Z4/student3515.cpp<p></p><pre>
<a name="0"></a><font color="#FF0000"><a href="match975-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_2.gif"/></a>

/B16/17 (ZadaÄ‡a 5, Zadatak 4)
//Autotestovi by Ivona Ivkovic (mail: iivkovic2@etf.unsa.ba)
//Za autotestove se obracati *iskljucivo* osobi koja ih pise
#include &lt;iostream&gt;
#include &lt;vector&gt;
#include &lt;stdexcept&gt;
#include &lt;initializer_list&gt;
#include &lt;iomanip&gt;
#include &lt;type_traits&gt;
#include &lt;algorithm&gt;
using namespace std;
template &lt;typename TipEl&gt;
class GMatrica {
    int br_redova, br_kolona;
    TipEl niz[4][4];
    public:
    GMatrica():br_redova(0),br_kolona(0) {};
    GMatrica(int br_re, int br_ko, TipEl vrij=0);
</font>    GMatrica(const GMatrica &amp;m);
    GMatrica(TipEl niz1[4][4]);
    GMatrica(const vector&lt;vector&lt;TipEl&gt;&gt; &amp;v);
    GMatrica(initializer_list&lt;initializer_list&lt;TipEl&gt;&gt; v);
    int DajBrojRedova() const { return br_redova; }
<a name="11"></a><font color="#00FF00"><a href="match975-0.html#11" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_1.gif"/></a>

    int DajBrojKolona() const { return br_kolona; }
    GMatrica &amp;operator +=(const GMatrica &amp;m2);
    GMatrica &amp;operator -=(const GMatrica &amp;m2);
    GMatrica &amp;operator *=(const GMatrica &amp;m2);
</font>    GMatrica &amp;operator *=(TipEl d);
    template&lt;typename TipEl2&gt;
    friend bool operator ==(const GMatrica&lt;TipEl2&gt; &amp;m1, const GMatrica&lt;TipEl2&gt; &amp;m2);
    template&lt;typename TipEl2&gt;
    friend bool operator !=(const GMatrica&lt;TipEl2&gt; &amp;m1, const GMatrica&lt;TipEl2&gt; &amp;m2);
    TipEl &amp;operator ()(int a, int b);
    TipEl operator() (int a, int b) const;
    TipEl const*  operator [](int const a) const {return niz[a]; }
    TipEl* operator [](int const a) { return niz[a];}
    template&lt;typename TipEl2&gt;
    friend ostream &amp;operator &lt;&lt;(ostream &amp;tok, const GMatrica&lt;TipEl2&gt; &amp;m);
    template&lt;typename TipEl2&gt;
    friend istream &amp;operator &gt;&gt;(istream &amp;izlaz, GMatrica&lt;TipEl2&gt; &amp;m);
    template&lt;typename TipEl2, typename TipEl3&gt;
<a name="8"></a><font color="#00FFFF"><a href="match975-0.html#8" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_1.gif"/></a>

    friend auto operator+(const GMatrica&lt;TipEl2&gt; &amp;m1, const GMatrica&lt;TipEl3&gt; &amp;m2)-&gt; GMatrica&lt;decltype(m1.niz[0][0]+m2.niz[0][0])&gt;;
    template&lt;typename TipEl3, typename TipEl2&gt;
    friend auto operator-(const GMatrica&lt;TipEl3&gt; &amp;m1, const GMatrica&lt;TipEl2&gt; &amp;m2)-&gt; GMatrica&lt;decltype(m1.niz[0][0]-m2.niz[0][0])&gt;;
</font><a name="10"></a><font color="#FF0000"><a href="match975-0.html#10" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_1.gif"/></a>

    template&lt;typename TipEl3, typename TipEl2&gt;
    friend auto operator *(TipEl2 d, const GMatrica&lt;TipEl3&gt; &amp;m) -&gt; GMatrica&lt;decltype(d*m.niz[0][0])&gt;;
</font><a name="9"></a><font color="#FF00FF"><a href="match975-0.html#9" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_1.gif"/></a>

    template&lt;typename TipEl3,typename TipEl2&gt;
    friend auto operator *(const GMatrica&lt;TipEl3&gt; &amp;m, TipEl2 d) -&gt; GMatrica&lt;decltype(m.niz[0][0]*d)&gt;;
</font>    void Ispisi() const {
         for(int i=0;i&lt;br_redova;i++) {
            for(int j=0;j&lt;br_kolona;j++)
                cout&lt;&lt;setw(10)&lt;&lt;niz[i][j];
<a name="3"></a><font color="#00FFFF"><a href="match975-0.html#3" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_1.gif"/></a>

         cout&lt;&lt;endl;}       
    }
    
};
template &lt;typename TipEl&gt;
GMatrica&lt;TipEl&gt;::GMatrica(int br_re,int br_ko, TipEl vrij) {
    if(br_re&lt;0 || br_re&gt;4 || br_ko&lt;0 || br_ko&gt;4) throw logic_error("Ilegalan format matrice");
    br_redova=br_re; br_kolona=br_ko; 
</font>    for(int i=0;i&lt;br_redova;i++)
        for(int j=0;j&lt;br_kolona;j++)
            niz[i][j]=vrij;
}
template &lt;typename TipEl&gt;
GMatrica&lt;TipEl&gt;::GMatrica(const GMatrica&lt;TipEl&gt; &amp;m) {
    br_redova=m.br_redova; br_kolona=m.br_kolona; 
    for(int i=0;i&lt;br_redova;i++)
        for(int j=0;j&lt;br_kolona;j++)
            niz[i][j]=m.niz[i][j];
}
template&lt;typename TipEl&gt;
GMatrica&lt;TipEl&gt;::GMatrica(TipEl niz1[4][4]) {
    br_redova=4; br_kolona=4;
    for(int i=0;i&lt;4;i++)
        for(int j=0;j&lt;4;j++)
            niz[i][j]=niz1[i][j];
}
template&lt;typename TipEl&gt;
GMatrica&lt;TipEl&gt;::GMatrica(const vector&lt;vector&lt;TipEl&gt;&gt; &amp;v) {
    if(v.size()&lt;0 || v.size()&gt;4) throw logic_error("Ilegalan format matrice");
    for(int i=0;i&lt;v.size();i++) if(v[i].size()&lt;0 || v[i].size()&gt;4) throw logic_error("Ilegalan format matrice");
    br_redova=v.size(); br_kolona=v[0].size();
<a name="1"></a><font color="#00FF00"><a href="match975-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_1.gif"/></a>

    for(int i=0;i&lt;v.size();i++) {
        for(int j=0;j&lt;v[i].size();j++)
            niz[i][j]=v[i][j]; }
}
template&lt;typename TipEl&gt;
</font>GMatrica&lt;TipEl&gt;::GMatrica(initializer_list&lt;initializer_list&lt;TipEl&gt;&gt; v)  {
    if(v.size()&lt;0 || v.size()&gt;4) throw logic_error("Ilegalan format matrice");
    for(int i=0;i&lt;v.size();i++) if(v.begin()-&gt;size()&lt;0 || v.begin()-&gt;size()&gt;4) throw logic_error("Ilegalan format matrice");
    br_redova=v.size(); br_kolona=v.begin()-&gt;size();
    auto in=begin(v);
    for(int i=0;i&lt;br_redova;++i,++in)
    copy(begin(*in),end(*in),&amp;niz[i][0]);
}
template&lt;typename TipEl, typename TipEl2&gt;
auto operator +(const GMatrica&lt;TipEl&gt; &amp;m1, const GMatrica&lt;TipEl2&gt; &amp;m2)  -&gt; GMatrica &lt;decltype(m1.niz[0][0]+m2.niz[0][0])&gt; {
    if(m1.br_kolona&lt;0 || m1.br_kolona&gt;4 || m1.br_redova&lt;0 || m1.br_redova&gt;4 || m2.br_kolona&lt;0 || m2.br_kolona&gt;4 || m2.br_redova&lt;0 ||m2.br_redova&gt;4) throw domain_error("Nedozvoljena operacija");
    GMatrica&lt;decltype(m1.niz[0][0]+m2.niz[0][0])&gt;  m;
    m.br_kolona=m1.br_kolona; m.br_redova=m1.br_redova;
    for(int i=0;i&lt;m.br_redova;i++)
        for(int j=0;j&lt;m.br_kolona;j++) {
<a name="7"></a><font color="#0000FF"><a href="match975-0.html#7" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_1.gif"/></a>

            m.niz[i][j]=m1.niz[i][j]+m2.niz[i][j];}
    return m;
} 
template&lt;typename TipEl3, typename TipEl2&gt;
auto operator -(const GMatrica&lt;TipEl3&gt; &amp;m1, const GMatrica&lt;TipEl2&gt; &amp;m2) -&gt; GMatrica&lt;decltype(m1.niz[0][0]-m2.niz[0][0])&gt; {
</font>    if(m1.br_kolona&lt;0 || m1.br_kolona&gt;4 || m1.br_redova&lt;0 || m1.br_redova&gt;4 || m2.br_kolona&lt;0 || m2.br_kolona&gt;4 || m2.br_redova&lt;0 ||m2.br_redova&gt;4) throw domain_error("Nedozvoljena operacija");
    GMatrica&lt;decltype(m1.niz[0][0]-m2.niz[0][0])&gt; m;
    m.br_kolona=m1.br_kolona; m.br_redova=m1.br_redova;
    for(int i=0;i&lt;m.br_redova;i++)
        for(int j=0;j&lt;m.br_kolona;j++)
            m.niz[i][j]= (m1.niz[i][j]-m2.niz[i][j]);
    return m;
}
<a name="13"></a><font color="#00FFFF"><a href="match975-0.html#13" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_1.gif"/></a>

template&lt;typename TipEl3,typename TipEl2&gt;
auto operator *(TipEl2 d, const GMatrica&lt;TipEl3&gt; &amp;m) -&gt; GMatrica&lt;decltype(d*m.niz[0][0])&gt; {
</font>    if(m.br_kolona&lt;0 || m.br_kolona&gt;4 || m.br_redova&lt;0 || m.br_redova&gt;4) throw domain_error("Nedozvoljena operacija");
    GMatrica&lt;decltype(d*m.niz[0][0])&gt; m1;
    m1.br_kolona=m.br_kolona; m1.br_redova=m.br_redova;
    for(int i=0;i&lt;m1.br_redova;i++)
        for(int j=0;j&lt;m1.br_kolona;j++)
            m1.niz[i][j]=d*m.niz[i][j];
<a name="12"></a><font color="#0000FF"><a href="match975-0.html#12" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_1.gif"/></a>

    return m1;
}
template&lt;typename TipEl3,typename TipEl2&gt;
auto operator *(const GMatrica&lt;TipEl3&gt; &amp;m, TipEl2 d) -&gt; GMatrica&lt;decltype(m.niz[0][0]*d)&gt; {
</font>    if(m.br_kolona&lt;0 || m.br_kolona&gt;4 || m.br_redova&lt;0 || m.br_redova&gt;4) throw domain_error("Nedozvoljena operacija");
    GMatrica&lt;decltype(d*m.niz[0][0])&gt; m1;
    m1.br_kolona=m.br_kolona; m1.br_redova=m.br_redova;
    for(int i=0;i&lt;m1.br_redova;i++)
        for(int j=0;j&lt;m1.br_kolona;j++)
            m1.niz[i][j]=d*m.niz[i][j];
<a name="5"></a><font color="#FF0000"><a href="match975-0.html#5" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_1.gif"/></a>

    return m1;
}
template&lt;typename TipEl&gt;
GMatrica&lt;TipEl&gt; &amp;GMatrica&lt;TipEl&gt;::operator +=(const GMatrica&lt;TipEl&gt; &amp;m2) {
    for(int i=0;i&lt;m2.br_redova;i++)
</font>        for(int j=0;j&lt;m2.br_kolona;j++)
<a name="2"></a><font color="#0000FF"><a href="match975-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_1.gif"/></a>

            niz[i][j] += m2.niz[i][j];
    return *this;
}
template&lt;typename TipEl&gt;
GMatrica&lt;TipEl&gt; &amp;GMatrica&lt;TipEl&gt;::operator -=(const GMatrica&lt;TipEl&gt; &amp;m2) {
    for(int i=0;i&lt;m2.br_redova;i++)
</font>        for(int j=0;j&lt;m2.br_kolona;j++)
<a name="4"></a><font color="#FF00FF"><a href="match975-0.html#4" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_1.gif"/></a>

            niz[i][j] -= m2.niz[i][j];
    return *this;
}
template&lt;typename TipEl&gt;
GMatrica&lt;TipEl&gt; &amp;GMatrica&lt;TipEl&gt;::operator *=(const GMatrica&lt;TipEl&gt; &amp;m2) {
</font>    for(int i=0;i&lt;br_redova;i++) 
        for(int j=0;j&lt;m2.br_kolona;j++)
            for(int k=0;k&lt;m2.br_redova;k++)
                niz[i][j] +=niz[i][k]*m2.niz[k][j];
    return *this;
}
template&lt;typename TipEl&gt;
GMatrica&lt;TipEl&gt; &amp;GMatrica&lt;TipEl&gt;::operator *=(TipEl d) {
    for(int i=0;i&lt;br_redova;i++) 
        for(int j=0;j&lt;br_kolona;j++)
            niz[i][j]=niz[i][j]*d;
    return *this;
}
template&lt;typename TipEl&gt;
bool operator ==(const GMatrica&lt;TipEl&gt; &amp;m1, const GMatrica&lt;TipEl&gt; &amp;m2) {
    if(m1.br_redova!=m2.br_redova) return false;
    if(m1.br_kolona!=m2.br_kolona) return false;
    for(int i=0;i&lt;m1.br_redova;i++)
        for(int j=0;j&lt;m1.br_kolona;j++)
            if(m1.niz[i][j]!=m2.niz[i][j]) return false;
    return true;
}
template&lt;typename TipEl&gt;
bool operator !=(const GMatrica&lt;TipEl&gt; &amp;m1, const GMatrica&lt;TipEl&gt; &amp;m2) {
    if(m1.br_redova!=m2.br_redova) return true;
    if(m1.br_kolona!=m2.br_kolona) return true;    
    for(int i=0;i&lt;m1.br_redova;i++)
        for(int j=0;j&lt;m1.br_kolona;j++)
            if(m1.niz[i][j]!=m2.niz[i][j]) return true;
    return false;
}
template&lt;typename TipEl&gt;
TipEl &amp;GMatrica&lt;TipEl&gt;::operator ()(int a, int b) {
    if(a&lt;1 || a&gt;4 || b&lt;1 || b&gt;4) throw range_error("Nedozvoljen indeks");
    return niz[a-1][b-1];
}
template&lt;typename TipEl&gt;
TipEl GMatrica&lt;TipEl&gt;::operator ()(int a, int b) const {
    if(a&lt;1 || a&gt;4 || b&lt;1 || b&gt;4) throw range_error("Nedozvoljen indeks");
    return niz[a-1][b-1];
} 

template&lt;typename TipEl&gt;
ostream&amp; operator&lt;&lt;(ostream &amp;tok, const GMatrica&lt;TipEl&gt; &amp;m) {
    for(int i=0;i&lt;m.br_redova;i++)  {
        for(int j=0;j&lt;m.br_kolona;j++)
            tok &lt;&lt; setw(6) &lt;&lt; m.niz[i][j]; 
        tok&lt;&lt;endl; }
    return tok;
}
template&lt;typename TipEl&gt;
istream &amp;operator &gt;&gt;(istream &amp;izlaz, GMatrica&lt;TipEl&gt; &amp;m) {
    char znak;
    izlaz&gt;&gt; ws;
    if(izlaz.peek()!='[') {
<a name="6"></a><font color="#00FF00"><a href="match975-0.html#6" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_1.gif"/></a>

        for(int i=0;i&lt;m.br_redova;i++) 
            for(int j=0;j&lt;m.br_kolona;j++)
               izlaz&gt;&gt; m.niz[i][j];
</font>    }
    else { 
        for(int i=0;i&lt;m.br_redova;i++) {
            for(int j=0;j&lt;m.br_kolona;j++){
                izlaz&gt;&gt; m.niz[i][j] &gt;&gt;znak;
                if(znak!=',') izlaz.setstate(std::ios::failbit); }
                if(znak!=';') izlaz.setstate(std::ios::failbit); }
        if(znak!=']') izlaz.setstate(std::ios::failbit);
    }
    return izlaz; 
}

int main ()
{
   GMatrica&lt;int&gt; m1;
   std::cin &gt;&gt; m1;
   std::cout &lt;&lt; m1 &lt;&lt; std::endl;
	return 0;
}</pre>
</body>
</html>
