<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z5/Z4/student5358.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z5/Z4/student5358.cpp<p></p><pre>
<a name="10"></a><font color="#FF0000"><a href="match722-1.html#10" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_1.gif"/></a>

/B16/17 (ZadaÄ‡a 5, Zadatak 4)
//Autotestovi by Ivona Ivkovic (mail: iivkovic2@etf.unsa.ba)
//Za autotestove se obracati *iskljucivo* osobi koja ih pise
#include &lt;iostream&gt;
#include &lt;stdexcept&gt;
#include &lt;vector&gt;
#include &lt;iomanip&gt;
using namespace std;
template &lt;typename tip&gt;
class GMatrica{
    int br_redova;
</font>    int br_kolona;
    tip matrica[4][4];
    public:
    GMatrica(){
        br_redova=0;
        br_kolona=0;
    }
    template &lt;typename tipm&gt;
    GMatrica(int br_r, int br_k,tipm poc_vrij={}){
        if(br_r&lt;0||br_r&gt;4||br_k&lt;0||br_k&gt;4) throw std::logic_error("Ilegalan format matrice");
    br_redova=br_r;
    br_kolona=br_k;
    for(int i(0); i&lt;br_r; i++) for(int j(0); j&lt;br_k; j++) matrica[i][j]=poc_vrij;
    }
    template &lt;typename tip2&gt;
<a name="1"></a><font color="#00FF00"><a href="match722-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_2.gif"/></a>

    GMatrica(GMatrica&lt;tip2&gt; m){
        br_redova=m.br_redova;
        br_kolona=m.br_kolona;
        for(int i=0;i&lt;br_redova;i++)
        for(int j=0;j&lt;br_kolona;j++)
        matrica[i][j]=m.matrica[i][j];
    }
    template &lt;typename tip444&gt;
    GMatrica(const std::initializer_list&lt;std::initializer_list&lt;tip444&gt;&gt;  &amp;brojevi)//:br_redova(brojevi.size()),br_kolona(brojevi[0].size()){
</font>    {
        br_redova=brojevi.size();
        br_kolona=(*brojevi.begin()).size();
        auto it=brojevi.begin();
        for(int i=0;i&lt;br_kolona;i++){
            auto it1=it-&gt;begin();
            for(int j=0;j&lt;2;j++){
                matrica[i][j]=*it1;
                it1++;
            }
            it++;
        }
    }
    template &lt;typename tip1&gt;
    GMatrica(tip1 matrica[4][4]): br_redova(4), br_kolona(4) {
    for(int i(0); i&lt;4; i++) for(int j(0); j&lt;4; j++) GMatrica::matrica[i][j]=matrica[i][j];
    }
    GMatrica(std::vector&lt;std::vector&lt;int&gt;&gt; v){
        br_redova=v.size();
        br_kolona=v[0].size();
        if(br_redova&gt;4)throw std::logic_error("Ilegalan format matrice");
        for(int i=0;i&lt;br_redova;i++){
            if(v[i].size()!=br_kolona || v[i].size()&gt;4)throw std::logic_error("Ilegalan format matrice");
        }
<a name="2"></a><font color="#0000FF"><a href="match722-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_1.gif"/></a>

        for(int i=0;i&lt;v.size();i++){
        for(int j=0;j&lt;v[i].size();j++){
            matrica[i][j]=v[i][j];
</font>        }
    }
    }
    int DajBrojKolona()const{
        return br_kolona;
    }
    int DajBrojRedova()const{
        return br_redova;
    }
<a name="0"></a><font color="#FF0000"><a href="match722-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_4.gif"/></a>

    template &lt;typename tip5,typename tip6&gt;
    friend auto operator +(const GMatrica&lt;tip5&gt; &amp;m1, const GMatrica&lt;tip6&gt; &amp;m2)-&gt;GMatrica&lt;decltype(m1.matrica[0][0]+m2.matrica[0][0])&gt;;
    template &lt;typename tip7,typename tip8&gt;
    friend auto operator -(const GMatrica&lt;tip7&gt; &amp;m1, const GMatrica&lt;tip8&gt; &amp;m2)-&gt;GMatrica&lt;decltype(m1.matrica[0][0]-m2.matrica[0][0])&gt;;
    template &lt;typename tip9,typename tip10&gt;
    friend auto operator *(const GMatrica&lt;tip9&gt; &amp;m1, const GMatrica&lt;tip10&gt; &amp;m2)-&gt;GMatrica&lt;decltype(m1.matrica[0][0]*m2.matrica[0][0])&gt;;
</font><a name="3"></a><font color="#00FFFF"><a href="match722-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_1.gif"/></a>

    template &lt;typename tip11,typename tip100&gt;
    friend auto operator *(const GMatrica&lt;tip11&gt; &amp;m, tip100 t)-&gt;GMatrica&lt;decltype(m.matrica[0][0]*t)&gt;;
</font>    template &lt;typename tip101,typename tip12&gt;
    friend auto operator *(tip101 t, const GMatrica&lt;tip12&gt; &amp;m)-&gt;GMatrica&lt;decltype(t*m.matrica[0][0])&gt;;
    template &lt;typename tip13&gt;
    GMatrica &amp;operator +=(const GMatrica&lt;tip13&gt; &amp;m){
        if(br_redova!=m.br_redova || br_kolona!=m.br_kolona)throw std::domain_error("Nedozvoljena operacija");
        for(int i=0;i&lt;br_redova;i++)
        for(int j=0;j&lt;br_kolona;j++)
        matrica[i][j]=matrica[i][j]+m.matrica[i][j];
        return *this;
    }
    template &lt;typename tip14&gt;
    GMatrica &amp;operator -=(const GMatrica&lt;tip14&gt; &amp;m){
        if(br_redova!=m.br_redova || br_kolona!=m.br_kolona)throw std::domain_error("Nedozvoljena operacija");
        for(int i=0;i&lt;br_redova;i++)
        for(int j=0;j&lt;br_kolona;j++)
        matrica[i][j]=matrica[i][j]-m.matrica[i][j];
        return *this;
        }
    template &lt;typename tip15&gt;
    GMatrica &amp;operator *=(const GMatrica&lt;tip15&gt; &amp;m){
        if(br_redova==m.br_kolona || br_kolona==m.br_redova){
            *this=*this*m;
            return *this;
        }
        else throw std::domain_error("Nedozvoljena operacija");
    }
    GMatrica &amp;operator *=(const double t){
        for(int i=0;i&lt;br_redova;i++)
        for(int j=0;j&lt;br_redova;j++)
        matrica[i][j]*=t;
        return *this;
    }
    template &lt;typename tip16,typename tip17&gt;
    friend bool operator ==(const GMatrica&lt;tip16&gt; &amp;m1, const GMatrica&lt;tip17&gt; &amp;m2);
    template &lt;typename tip18,typename tip19&gt;
<a name="8"></a><font color="#00FFFF"><a href="match722-1.html#8" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_1.gif"/></a>

    friend bool operator !=(const GMatrica&lt;tip18&gt; &amp;m1, const GMatrica&lt;tip19&gt; &amp;m2);
    template &lt;typename tip4&gt;
    friend istream &amp;operator &gt;&gt;(istream &amp;cin, GMatrica&lt;tip4&gt; &amp;m);
    template &lt;typename tip3&gt;
</font>    friend ostream &amp;operator &lt;&lt;(ostream &amp;cout, const GMatrica&lt;tip3&gt; &amp;m);
    int &amp;operator ()(int i, int j){
        if(i&lt;1 || j&lt;1 || i&gt;br_redova || j&gt;br_kolona)throw range_error("Nedozvoljen indeks");
    return matrica[i-1][j-1];
    }
    int operator ()(int i, int j) const{
        if(i&lt;1 || j&lt;1 || i&gt;br_redova || j&gt;br_kolona)throw range_error("Nedozvoljen indeks");
    return matrica[i-1][j-1];
    }
    int* operator [](int i) {
        //if(i&lt;0 || j&lt;0 || i&gt;br_redova-1 || j&gt;br_kolona-1)throw range_error("Nedozvoljen indeks");
    return matrica[i];
    }
};
template &lt;typename tip3&gt;
ostream &amp;operator &lt;&lt;(std::ostream &amp;cout, const GMatrica&lt;tip3&gt; &amp;m) {
    int sirina(6);
    if (cout.width()&gt;sirina) sirina=cout.width();
    for(int i(0); i&lt;m.br_redova; i++) {
        for(int j(0); j&lt;m.br_kolona; j++)
<a name="5"></a><font color="#FF0000"><a href="match722-1.html#5" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_1.gif"/></a>

            cout &lt;&lt; setw(sirina) &lt;&lt; m.matrica[i][j];
        cout &lt;&lt; endl;
    }
    return cout;
}
template &lt;typename tip4&gt;
     istream &amp;operator &gt;&gt;(istream &amp;cin, GMatrica&lt;tip4&gt; &amp;m){
</font>         int a=4,b=4;
         m.br_redova=a;
         m.br_kolona=b;
         int i=0,j=0;
         if(cin.peek()=='[')
         for(;;){
             cin.ignore(1,'\n');
             if(cin.peek()&gt;='0' &amp;&amp; cin.peek()&lt;='9'){
                 cin&gt;&gt;m.matrica[i][j++];
             }
             else cin.setstate(ios::failbit);
             if(cin.peek()==',')continue;
             else if(cin.peek()==';'){
                 i++;
                 //std::cout&lt;&lt;j&lt;&lt;std::endl;
                 m.br_kolona=j;
                 j=0;
                 continue;
             }
             else if(cin.peek()==']'){
                 //std::cout&lt;&lt;i+1&lt;&lt;std::endl;
                 m.br_redova=i+1;
                 break;
             }
             else cin.setstate(ios::failbit);
         }
         else cin.setstate(ios::failbit);
         if(m.br_kolona!=j+1 || m.br_redova!=i+1)cin.setstate(ios::failbit);
         return cin;
     }
     template &lt;typename tip5,typename tip6&gt;
     auto operator +(const GMatrica&lt;tip5&gt; &amp;m1, const GMatrica&lt;tip6&gt; &amp;m2)-&gt; GMatrica&lt;decltype(m1.matrica[0][0]+m2.matrica[0][0])&gt;{
         if(m1.br_redova!=m2.br_redova || m1.br_kolona!=m2.br_kolona)throw std::domain_error("Nedozvoljena operacija");
         GMatrica&lt;decltype(m1.matrica[0][0]+m2.matrica[0][0])&gt; m(m1.br_redova,m1.br_kolona,0);
         for(int i=0;i&lt;m.br_redova;i++)
         for(int j=0;j&lt;m.br_kolona;j++)
<a name="7"></a><font color="#0000FF"><a href="match722-1.html#7" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_1.gif"/></a>

         m.matrica[i][j]=m1.matrica[i][j]+m2.matrica[i][j];
         return m;
     }
template &lt;typename tip7,typename tip8&gt;
     auto operator -(const GMatrica&lt;tip7&gt; &amp;m1, const GMatrica&lt;tip8&gt; &amp;m2)-&gt;GMatrica&lt;decltype(m1.matrica[0][0]-m2.matrica[0][0])&gt;{
</font><a name="9"></a><font color="#FF00FF"><a href="match722-1.html#9" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_1.gif"/></a>

         if(m1.br_redova!=m2.br_redova || m1.br_kolona!=m2.br_kolona)throw std::domain_error("Nedozvoljena operacija");
</font><a name="11"></a><font color="#00FF00"><a href="match722-1.html#11" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_1.gif"/></a>

         GMatrica&lt;decltype(m1.matrica[0][0]-m2.matrica[0][0])&gt; m(m1.br_redova,m1.br_kolona,0);
</font>         for(int i=0;i&lt;m.br_redova;i++)
         for(int j=0;j&lt;m.br_kolona;j++)
         m.matrica[i][j]=m1.matrica[i][j]-m2.matrica[i][j];
         return m;
     }
     template &lt;typename tip9,typename tip10&gt;
    auto operator *(const GMatrica&lt;tip9&gt; &amp;m1, const GMatrica&lt;tip10&gt; &amp;m2)-&gt;GMatrica&lt;decltype(m1.matrica[0][0]*m2.matrica[0][0])&gt;{
        if(m1.br_redova==m2.br_kolona || m1.br_kolona==m2.br_redova){
            GMatrica&lt;decltype(m1.matrica[0][0]*m2.matrica[0][0])&gt; m(m1.br_redova,m2.br_kolona,0);
            for(int i=0;i&lt;m1.br_redova;i++)
            for(int j=0;j&lt;m2.br_kolona;j++){
                double suma=0;
                for(int k=0;k&lt;m2.br_redova;k++)suma+=m1.matrica[i][k]*m2.matrica[k][j];
                m.matrica[i][j]=suma;
            }
            return m;
        }
        else throw std::domain_error("Nedozvoljena operacija");
    }
<a name="6"></a><font color="#00FF00"><a href="match722-1.html#6" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_1.gif"/></a>

    template &lt;typename tip11,typename tip100&gt;
     auto operator *(const GMatrica&lt;tip11&gt; &amp;m, tip100 t)-&gt;GMatrica&lt;decltype(m.matrica[0][0]*t)&gt;{
</font>         GMatrica&lt;decltype(m.matrica[0][0]*t)&gt; m1(m.br_redova,m.br_kolona,0);
         for(int i=0;i&lt;m.br_redova;i++)
         for(int j=0;j&lt;m.br_kolona;j++)
         m1.matrica[i][j]=m.matrica[i][j]*t;
         return m1;
     }
<a name="4"></a><font color="#FF00FF"><a href="match722-1.html#4" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_1.gif"/></a>

     template &lt;typename tip101,typename tip12&gt;
     auto operator *(tip101 t, const GMatrica&lt;tip12&gt; &amp;m)-&gt;GMatrica&lt;decltype(t*m.matrica[0][0])&gt;{
</font>         return m*t;
     }
template &lt;typename tip16,typename tip17&gt;
    bool operator ==(const GMatrica&lt;tip16&gt; &amp;m1, const GMatrica&lt;tip17&gt; &amp;m2){
        if(m1.br_kolona!=m2.br_kolona || m1.br_redova!=m2.br_redova)return false;
        for(int i=0;i&lt;m1.br_redova;i++)
        for(int j=0;j&lt;m1.br_kolona;j++)
        if(m1.matrica[i][j]!=m2.matrica[i][j])return false;
        return true;
    }
<a name="12"></a><font color="#0000FF"><a href="match722-1.html#12" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_1.gif"/></a>

template &lt;typename tip18,typename tip19&gt;
     bool operator !=(const GMatrica&lt;tip18&gt; &amp;m1, const GMatrica&lt;tip19&gt; &amp;m2){
        if(m1.br_kolona!=m2.br_kolona || m1.br_redova!=m2.br_redova)return true;
</font>        for(int i=0;i&lt;m1.br_redova;i++)
        for(int j=0;j&lt;m1.br_kolona;j++)
<a name="13"></a><font color="#00FFFF"><a href="match722-1.html#13" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_1.gif"/></a>

        if(m1.matrica[i][j]!=m2.matrica[i][j])return true;
        return false;
    }
int main ()
{
    /*double m3[4][4]= {{1,1,1,1},{1,1,1,1},{1,1,1,1},{1,1,1,1}};
        double m4[4][4]= {{2,0,0,2},{2,2,2,2},{2,2,2,2},{2,2,2,2}};
        GMatrica&lt;double&gt; m1(m3);
        GMatrica&lt;int&gt; m2(m4);
        GMatrica&lt;int&gt; m(4,4,0);
        m1(1,1)=34;
        cout &lt;&lt; setw(2) &lt;&lt; m1(1,1)&lt;&lt;endl ;
        GMatrica&lt;int&gt; mm(2,3,0);
    cin &gt;&gt; mm;
    cout &lt;&lt; setw(10) &lt;&lt; mm;*/
    GMatrica&lt;int&gt; m1;
    std::cin&gt;&gt;m1;
   std::cout &lt;&lt; m1 &lt;&lt; std::endl;
</font>   //std::cout &lt;&lt; m1[1][1] &lt;&lt; std::endl;
	return 0;
}</pre>
</body>
</html>
