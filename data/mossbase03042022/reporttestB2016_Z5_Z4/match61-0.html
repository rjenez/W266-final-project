<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z5/Z4/student2340.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z5/Z4/student2340.cpp<p></p><pre>
<a name="1"></a><font color="#00FF00"><a href="match61-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_7.gif"/></a>

/B16/17 (ZadaÄ‡a 5, Zadatak 4)
//Autotestovi by Ivona Ivkovic (mail: iivkovic2@etf.unsa.ba)
//Za autotestove se obracati *iskljucivo* osobi koja ih pise

#include &lt;iostream&gt;
#include &lt;stdexcept&gt;
#include &lt;new&gt;
#include &lt;iomanip&gt;
#include &lt;vector&gt;
#include &lt;initializer_list&gt;

template &lt;typename Tipic&gt;
class GMatrica{
    
    int br_redova;
    int br_kolona;
    Tipic elementi[4][4];
    char ime_matrice;
    
    public:  
        
        GMatrica(): br_redova(0), br_kolona(0) {}
        GMatrica(int br_redova, int br_kolona, Tipic Vrijednost=Tipic());
        
        template&lt;typename Tipic1&gt;
        GMatrica(const GMatrica&lt;Tipic1&gt; &amp;m);
        
        template&lt;typename Tipic1&gt;
        GMatrica(const std::initializer_list&lt;std::initializer_list&lt;Tipic1&gt;&gt; &amp;listica);
        
        template&lt;typename Tipic1&gt;
        GMatrica(std::vector&lt;std::vector&lt;Tipic1&gt;&gt; vektorcic);
        
        GMatrica (Tipic dvaDniz[4][4]);
        
        int DajBrojRedova() {return br_redova;}
        int DajBrojKolona() {return br_kolona;}
        
        template &lt;typename Tip&gt;
        friend std::ostream &amp;operator &lt;&lt;(std::ostream &amp;tok, const GMatrica&lt;Tip&gt; &amp;mat);  
</font>        
        template &lt;typename Tip&gt;
<a name="0"></a><font color="#FF0000"><a href="match61-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_91.gif"/></a>

        friend std::istream &amp;operator &gt;&gt;(std::istream &amp;tok, GMatrica&lt;Tip&gt; &amp;mat);        
        
        template &lt;typename Tip&gt;
        friend GMatrica&lt;Tip&gt; operator +(const GMatrica&lt;Tip&gt; &amp;mat1, const GMatrica&lt;Tip&gt; &amp;mat2);
        
        template &lt;typename Tip&gt;
        friend GMatrica&lt;Tip&gt; operator -(const GMatrica&lt;Tip&gt; &amp;mat1, const GMatrica&lt;Tip&gt; &amp;mat2);
        
        template &lt;typename Tip&gt;
        friend GMatrica&lt;Tip&gt; operator *(const GMatrica&lt;Tip&gt; &amp;mat1, const GMatrica&lt;Tip&gt; &amp;mat2);
        
        template &lt;typename Tip&gt;
        friend GMatrica&lt;Tip&gt; operator +=(GMatrica&lt;Tip&gt; &amp;mat1, const GMatrica&lt;Tip&gt; &amp;mat2);
        
        template &lt;typename Tip&gt;
        friend GMatrica&lt;Tip&gt; operator *=(GMatrica&lt;Tip&gt; &amp;mat1, const GMatrica&lt;Tip&gt; &amp;mat2);
        
        template &lt;typename Tip,typename Tip1&gt;
        friend GMatrica&lt;Tip&gt; operator -=(GMatrica&lt;Tip&gt; &amp;mat1, const GMatrica&lt;Tip&gt; &amp;mat2);
        
        template &lt;typename Tip,typename Tip1&gt;
        friend GMatrica&lt;Tip&gt; operator *(const GMatrica&lt;Tip&gt; &amp;mat1, Tip1 n);
        
        template &lt;typename Tip,typename Tip1&gt;
        friend GMatrica&lt;Tip&gt; operator *=(const GMatrica&lt;Tip&gt; &amp;mat1, Tip1 n);
        
        template &lt;typename Tip1,typename Tip&gt;
        friend GMatrica&lt;Tip&gt; operator *(Tip1 n, const GMatrica&lt;Tip&gt; &amp;mat2);
        
        template &lt;typename Tip1,typename Tip&gt;
        friend GMatrica&lt;Tip&gt; operator *=(Tip1 n, const GMatrica&lt;Tip&gt; &amp;mat2);
        
        template &lt;typename Tip&gt;
        friend bool operator ==(const GMatrica&lt;Tip&gt; &amp;mat1, const GMatrica&lt;Tip&gt; &amp;mat2);
        
        template &lt;typename Tip&gt;
        friend bool operator !=(const GMatrica&lt;Tip&gt; &amp;mat1, const GMatrica&lt;Tip&gt; &amp;mat2);
       
        
        
        
        
    const Tipic operator [](int indeks) const{

        return elementi[indeks];
    }
    const Tipic operator () (int i,int j) const{
      if(i&lt;1 || i&gt;br_redova) throw std::range_error("Neispravan indeks");
        if(j&lt;1 || j&gt;br_kolona) throw std::range_error("Neispravan indeks");
        return elementi[i-1][j-1];
    }
    
    
    auto operator [](int indeks) -&gt;decltype(*elementi){
        return elementi[indeks];
    }
    auto operator () (int i,int j) -&gt;decltype(**elementi){
        if(i&lt;1 || i&gt;br_redova) throw std::range_error("Neispravan indeks");
        if(j&lt;1 || j&gt;br_kolona) throw std::range_error("Neispravan indeks");
        return elementi[i-1][j-1];
    }
    
    
};

//2D VEKTOR

template &lt;typename Tipic&gt;
template&lt;typename Tipic1&gt;
GMatrica&lt;Tipic&gt;::GMatrica(std::vector&lt;std::vector&lt;Tipic1&gt;&gt; vektorcic){
    for(int i=0; i&lt;vektorcic.size();i++){
        for(int j=0; j&lt;vektorcic[i].size(); j++){
            elementi[i][j]=vektorcic[i][j];
        }
    }
}

template &lt;typename Tipic&gt;
template&lt;typename Tipic1&gt;
GMatrica&lt;Tipic&gt;::GMatrica(const std::initializer_list&lt;std::initializer_list&lt;Tipic1&gt;&gt; &amp;listica) {
    br_redova = listica.size();
    br_kolona = (*listica.begin()).size();
    int i(0), j(0);
    for(auto red : listica) {
        for (auto el: red) {
            elementi[i][j] = el;
            j++;
        }
        j=0;
        i++;
    }
}

template &lt;typename Tipic&gt;
GMatrica&lt;Tipic&gt;::GMatrica (Tipic dvaDniz[4][4]) : br_redova(4), br_kolona(4) {

        for(int i(0);i&lt;4;i++){
            for(int j(0);j&lt;4;j++){
                elementi[i][j]=dvaDniz[i][j];
            }
        }
}

template&lt;typename Tipic&gt;
template&lt;typename Tipic1&gt;//,typename Tip2&gt;
GMatrica&lt;Tipic&gt;::GMatrica (const GMatrica&lt;Tipic1&gt; &amp;m) : br_kolona(m.br_kolona),br_redova(m.br_redova), ime_matrice(m.ime_matrice), elementi(m.elementi){
    if(m.br_kolona&lt;0 || m.br_kolona&gt;4 || m.br_redova&lt;0 || m.br_redova&gt;4)
        throw std::logic_error("Ilegalan format matrice");
         for(int i(0);i&lt;m.br_redova;i++){
            for(int j(0);j&lt;m.br_kolona;j++){
                elementi[i][j]=m.elementi[i][j];
            }
        }
}

//INICIJALIZACIJA ZADAVANJEM PARAMETARA
template&lt;typename Tipic&gt;
 GMatrica&lt;Tipic&gt;::GMatrica(int br_redova, int br_kolona, Tipic Vrijednost) : br_redova(br_redova), br_kolona(br_kolona){
     if (br_kolona&gt;4 || br_kolona&lt;0 || br_redova&gt;4 || br_redova&lt;0)
        throw std::logic_error("Ilegalan format matrice");
         for(int i(0);i&lt;br_redova;i++){
            for(int j(0);j&lt;br_kolona;j++){
                elementi[i][j]=Vrijednost;
            }
        }
    }
 
 
 
template&lt;typename Tipic&gt;
std::ostream &amp;operator &lt;&lt;(std::ostream &amp;tok, const GMatrica&lt;Tipic&gt; &amp;mat){
      int sirina_ispisa(tok.width());
      if (tok.width() &lt; 6)
        sirina_ispisa = 6;
      for(int i(0);i&lt;mat.br_redova;i++){
            for(int j(0);j&lt;mat.br_kolona;j++){
                tok&lt;&lt;std::setw(sirina_ispisa)&lt;&lt;mat.elementi[i][j];
            }
        std::cout&lt;&lt;std::endl;
      }
      return tok;
  }
    
template&lt;typename Tipic&gt;
std::istream &amp;operator &gt;&gt;(std::istream &amp;tok, GMatrica&lt;Tipic&gt; &amp;mat){
    //  int sirina_ispisa(tok.width());
    char znak(0);
      tok &gt;&gt; znak;
      mat = GMatrica&lt;Tipic&gt;(4,4, Tipic());
      int i(0), j(0);
      while(i &lt; 4) {
          while(j &lt; 4) {
              tok &gt;&gt; mat.elementi[i][j];
              j++;
              tok &gt;&gt; znak;
              if (znak == ';' || znak == ']') {
                  mat.br_kolona = j;
                  j = 0;
                  break;
              }
              
          }
          
          i++;
          if (znak == ']') {
              mat.br_redova = i;
            break;
          }
      }
      return tok;
  }
template&lt;typename Tipic&gt;
GMatrica&lt;Tipic&gt; operator -(const GMatrica&lt;Tipic&gt; &amp;mat1, const GMatrica&lt;Tipic&gt; &amp;mat2){
    
    if((mat1.br_kolona!=mat2.br_kolona) || (mat1.br_redova!=mat2.br_redova))
        throw std::domain_error("Nedozvoljena operacija");
        
        GMatrica&lt;Tipic&gt; mat3(mat1.br_redova,mat1.br_kolona, Tipic());
        for(int i(0);i&lt;mat1.br_redova;i++){
            for(int j(0);j&lt;mat1.br_kolona;j++){
                mat3.elementi[i][j]=mat1.elementi[i][j]-mat2.elementi[i][j];
            }
        }
    return mat3;
}

template&lt;typename Tipic&gt;
GMatrica&lt;Tipic&gt; operator +(const GMatrica&lt;Tipic&gt; &amp;mat1, const GMatrica&lt;Tipic&gt; &amp;mat2){
    
    if((mat1.br_kolona!=mat2.br_kolona) || (mat1.br_redova!=mat2.br_redova))
        throw std::domain_error("Nedozvoljena operacija");
        
        GMatrica&lt;Tipic&gt; mat3(mat1.br_redova,mat1.br_kolona);
        for(int i(0);i&lt;mat1.br_redova;i++){
            for(int j(0);j&lt;mat1.br_kolona;j++){
                mat3.elementi[i][j]=mat1.elementi[i][j]+mat2.elementi[i][j];
            }
        }
    return mat3;
}

template&lt;typename Tipic&gt;
GMatrica&lt;Tipic&gt; operator -=(GMatrica&lt;Tipic&gt; &amp;mat1, const GMatrica&lt;Tipic&gt; &amp;mat2){
    return mat1=mat1-mat2;
}

template&lt;typename Tipic&gt;
GMatrica&lt;Tipic&gt; operator +=(GMatrica&lt;Tipic&gt; &amp;mat1, const GMatrica&lt;Tipic&gt; &amp;mat2){
    return mat1=mat1+mat2;
}

template&lt;typename Tipic&gt;
GMatrica&lt;Tipic&gt; operator *=(GMatrica&lt;Tipic&gt; &amp;mat1, const GMatrica&lt;Tipic&gt; &amp;mat2){
    return mat1=mat1*mat2;
}
       

template&lt;typename Tipic&gt;
GMatrica&lt;Tipic&gt; operator *(const GMatrica&lt;Tipic&gt; &amp;mat1, const GMatrica&lt;Tipic&gt; &amp;mat2){
    
    if(mat1.br_kolona!=mat2.br_redova)
        throw std::domain_error("Nedozvoljena operacija");
        
        GMatrica&lt;Tipic&gt; mat3(mat1.br_redova,mat1.br_kolona);
        for(int i(0);i&lt;mat1.br_redova;i++){
            for(int j(0);j&lt;mat1.br_kolona;j++){
                mat3.elementi[i][j]={};
            }
        }
         for(int i(0);i&lt;mat1.br_redova;i++){
            for(int k(0);k&lt;mat2.br_kolona;k++){
                 for(int j(0);j&lt;mat1.br_kolona;j++){
                    mat3.elementi[i][k]+=(mat1.elementi[i][j]*mat2.elementi[j][k]);
                 }}}
    return mat3;
}

template&lt;typename Tip,typename Tip1&gt;
GMatrica&lt;Tip&gt; operator *(const GMatrica&lt;Tip&gt; &amp;mat1, Tip1 n){
    GMatrica&lt;Tip&gt; mat3(mat1);
        for(int i(0);i&lt;mat3.br_redova;i++){
            for(int j(0);j&lt;mat3.br_kolona;j++){
                mat3.elementi[i][j]*=n;
            }
        }
    return mat3;
}

template&lt;typename Tip,typename Tip1&gt;
GMatrica&lt;Tip&gt; operator *=(GMatrica&lt;Tip&gt; &amp;mat1, Tip1 n){
    return mat1=mat1*n;
}

template&lt;typename Tip,typename Tip1&gt;
GMatrica&lt;Tip1&gt; operator *(Tip n,const GMatrica&lt;Tip1&gt; &amp;mat1){
    GMatrica&lt;Tip&gt; mat3(mat1);
        for(int i(0);i&lt;mat3.br_redova;i++){
            for(int j(0);j&lt;mat3.br_kolona;j++){
                mat3.elementi[i][j]*=n;
            }
        }
    return mat3;
}

template&lt;typename Tip,typename Tip1&gt;
GMatrica&lt;Tip1&gt; operator *=(Tip n,GMatrica&lt;Tip1&gt; &amp;mat1){
    return mat1=n*mat1;
}


template&lt;typename Tipic&gt;
bool operator ==(const GMatrica&lt;Tipic&gt; &amp;mat1, const GMatrica&lt;Tipic&gt; &amp;mat2){
    if(mat1.br_redova != mat2.br_redova || mat1.br_kolona != mat2.br_kolona)
        return false;
    
    for(int i(0);i&lt;mat1.br_redova;i++){
        for(int j(0);j&lt;mat1.br_kolona;j++){
            if(mat1.elementi[i][j]!=mat2.elementi[i][j])
                return false;
        }
    }
    return true;
}

template&lt;typename Tipic&gt;
bool operator !=(const GMatrica&lt;Tipic&gt; &amp;mat1, const GMatrica&lt;Tipic&gt; &amp;mat2){
    if(!(mat1==mat2)) return true;
return false;
}

 
int main ()
{
   GMatrica&lt;int&gt; m1,m2;
   std::cin &gt;&gt; m1&gt;&gt;m2;
   std::cout &lt;&lt; m1 &lt;&lt; std::endl;
   std::cout&lt;&lt; m1*m2 &lt;&lt; " "&lt;&lt;m1+m2;
	return 0;
</font>}</pre>
</body>
</html>
