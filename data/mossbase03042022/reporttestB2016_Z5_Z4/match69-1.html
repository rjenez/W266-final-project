<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z5/Z4/student7834.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z5/Z4/student1981.cpp<p></p><pre>
<a name="0"></a><font color="#FF0000"><a href="match69-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_58.gif"/></a>

/B16/17 (ZadaÄ‡a 5, Zadatak 4)
//Autotestovi by Ivona Ivkovic (mail: iivkovic2@etf.unsa.ba)
//Za autotestove se obracati *iskljucivo* osobi koja ih pise
#include &lt;iostream&gt;
#include &lt;iomanip&gt;
#include &lt;cstring&gt;
#include &lt;stdexcept&gt;
#include &lt;new&gt;
#include &lt;string&gt;
#include &lt;cmath&gt;
#include &lt;map&gt;
#include &lt;vector&gt;
#include &lt;memory&gt;
#include &lt;climits&gt;
using namespace std;
template &lt;typename tip&gt;
class GMatrica{
    int br_redova;
    int br_kolona;
    tip niz[4][4];
    public:
    GMatrica(){
        br_kolona=0;
        br_redova=0;
    }
    GMatrica(int br_k,int br_r,tip vrijednost){
        if(br_k&lt;0 || br_k&gt;4 || br_r&lt;0 || br_r&gt;4)throw logic_error("Ilegalan format matrice");
        br_kolona=br_k;
        br_redova=br_r;
        for(int i=0;i&lt;br_kolona;i++){
            fill(niz[i].begin(),niz[i].end,vrijednost);
        }
    }
    template &lt;typename tip1&gt;
    GMatrica(GMatrica &amp;matrica){
        for(int i=0;i&lt;matrica.br_kolona;i++){
            for(int j=0;j&lt;matrica.br_redova;j++){
                niz[i][j]=matrica[i][j];
            }
        }
        br_kolona=matrica.br_kolona;
        br_redova=matrica.br_redova;
    }
    template &lt;typename tip2&gt;
    GMatrica(tip2 niz1[4][4]){
        for(int i=0;i&lt;4;i++){
            for(int j=0;j&lt;4;j++){
                niz[i][j]=niz1[i][j];
            }
        }
        br_kolona=4;
        br_redova=4;
    }
    GMatrica(vector&lt;vector&lt;tip&gt; &gt; &amp;v){
        if(v.size()&gt;4 || v.size()&lt;0)throw logic_error("Ilegalan formal matrice");
        for(int i=0;i&lt;v.size();i++)if(v[i].size()&lt;0 || v[i].size()&gt;4)throw logic_error("Ilegalan format matrice");
        GMatrica pomocna;
        for(int i=0;i&lt;4;i++){
            for(int j=0;j&lt;4;j++){
                pomocna.niz[i][j]=v[i][j];
            }
        }
        br_kolona=v.size();
        br_redova=v[0].size();
    }
    GMatrica(initializer_list&lt;initializer_list&lt;tip&gt; &gt; v){
        if(v.size()&gt;4 || v.size()&lt;0)throw logic_error("Ilegalan formal matrice");
        for(auto i=v.begin();i!=v.end();i++)if(i-&gt;size()&lt;0 || i-&gt;size()&gt;4)throw logic_error("Ilegalan formal matrice");
        int br(0),br_r;
        for(auto i=v.begin();i!=v.end();i++){
            int br1(0);
            for(auto j=i-&gt;begin();j!=i-&gt;end();j++){
                niz[br][br1]=*j;
                br1++;
            }
            br++;
            br_r=br1;
        }
        br_kolona=br;
        br_redova=br_r;
    }
    tip&amp; operator ()(tip a,tip b){
    if(a&lt;0 || a&gt;4 || b&lt;0 || b&gt;4)throw range_error("Nedozvoljen indeks");
    return niz[a-1][b-1];
    }
    tip operator ()(tip a,tip b)const{
    if(a&lt;0 || a&gt;4 || b&lt;0 || b&gt;4)throw range_error("Nedozvoljen indeks");
    return niz[a-1][b-1];
    }
    tip* operator [](int a){
        tip* pok(niz[a]);
    return pok;
    }
    tip operator [](int a)const{
    return niz[a];
    }
    template &lt;typename tip1&gt;
    friend GMatrica&lt;tip1&gt;&amp; operator +=(GMatrica&lt;tip1&gt;&amp; m,GMatrica&lt;tip1&gt; m1);
    template &lt;typename tip1&gt;
    friend GMatrica&lt;tip1&gt;&amp; operator -=(GMatrica&lt;tip1&gt;&amp; m,GMatrica&lt;tip1&gt; m1);
    template &lt;typename tip1&gt;
    friend GMatrica&lt;tip1&gt;&amp; operator *=(GMatrica&lt;tip1&gt;&amp; m,GMatrica&lt;tip1&gt; m1);
    template &lt;typename tip1&gt;
    friend GMatrica&lt;tip1&gt;&amp; operator *=(GMatrica&lt;tip1&gt;&amp; m,tip1 n);
    template &lt;typename tip1&gt;
    friend bool operator ==(GMatrica&lt;tip1&gt;&amp; m,GMatrica&lt;tip1&gt;&amp; m1);
    template &lt;typename tip1&gt;
    friend bool operator !=(GMatrica&lt;tip1&gt;&amp; m,GMatrica&lt;tip1&gt;&amp; m1);
    template &lt;typename tip1&gt;
    friend inline GMatrica&lt;tip1&gt; operator +(GMatrica&lt;tip1&gt; &amp;m1,GMatrica&lt;tip1&gt; m2);
    template &lt;typename tip1&gt;
    friend inline GMatrica&lt;tip1&gt; operator -(GMatrica&lt;tip1&gt;&amp; m1,GMatrica&lt;tip1&gt; m2);
    template &lt;typename tip1&gt;
    friend inline GMatrica&lt;tip1&gt; operator *(GMatrica&lt;tip1&gt; m1,GMatrica&lt;tip1&gt; m2);
    template &lt;typename tip1&gt;
    friend inline GMatrica&lt;tip1&gt; operator *(GMatrica&lt;tip1&gt; m1,tip1 n);
    tip DajBrojRedova()const{return br_redova;}
    tip DajBrojKolona()const{return br_kolona;}
    template &lt;typename tip1&gt;
    friend ostream &amp;operator &lt;&lt;(ostream &amp;tok,const GMatrica&lt;tip1&gt;&amp; m);
    template &lt;typename tip1&gt;
    friend istream &amp;operator &gt;&gt;(istream &amp;tok,GMatrica&lt;tip1&gt;&amp; m);
};
template &lt;typename tip&gt;
    inline GMatrica&lt;tip&gt; operator +(GMatrica&lt;tip&gt; &amp;m1,GMatrica&lt;tip&gt; m2){
    if(m1.br_kolona!=m2.br_kolona || m1.br_redova!=m2.br_redova)throw domain_error("Nedozvoljena operacija");
    return (m1+=m2);
}
template &lt;typename tip&gt;
    inline GMatrica&lt;tip&gt; operator *(GMatrica&lt;tip&gt; &amp;m1,GMatrica&lt;tip&gt; m2){
        if(m1.br_kolona!=m2.br_kolona || m1.br_redova!=m2.br_redova)throw domain_error("Nedozvoljena operacija");
        return (m1*=m2);
}
template &lt;typename tip&gt;
    inline GMatrica&lt;tip&gt; operator *(GMatrica&lt;tip&gt; m,tip n){
        return m*=n;
}
template &lt;typename tip&gt;
    inline GMatrica&lt;tip&gt; operator *(tip n,GMatrica&lt;tip&gt; m){
        return m*=n;
}
template &lt;typename tip&gt;
    inline GMatrica&lt;tip&gt; operator -(GMatrica&lt;tip&gt;&amp; m1,GMatrica&lt;tip&gt; m2){
        if(m1.br_kolona!=m2.br_kolona || m1.br_redova!=m2.br_redova)throw domain_error("Nedozvoljena operacija");
        return (m1-=m2);
}
template &lt;typename tip&gt;
GMatrica&lt;tip&gt;&amp; operator +=(GMatrica&lt;tip&gt;&amp; m,GMatrica&lt;tip&gt; m1){
    if(m1.br_kolona!=m.br_kolona || m1.br_redova!=m.br_redova)throw domain_error("Nedozvoljena operacija");
    for(int i=0;i&lt;m1.br_kolona;i++){
        for(int j=0;j&lt;m1.br_redova;j++){
</font><a name="3"></a><font color="#00FFFF"><a href="match69-0.html#3" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_4.gif"/></a>

            m.niz[i][j]=m.niz[i][j]+m1.niz[i][j];
        }
    }
    return m;
}
template &lt;typename tip&gt;
GMatrica&lt;tip&gt;&amp; operator -=(GMatrica&lt;tip&gt; &amp;m,GMatrica&lt;tip&gt; m1){
    if(m1.br_kolona!=m.br_kolona || m1.br_redova!=m.br_redova)throw domain_error("Nedozvoljena operacija");
    for(int i=0;i&lt;m1.br_kolona;i++){
        for(int j=0;j&lt;m1.br_redova;j++){
</font><a name="2"></a><font color="#0000FF"><a href="match69-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_13.gif"/></a>

            m.niz[i][j]=m.niz[i][j]-m1.niz[i][j];
        }
    }
    return m;
}
template &lt;typename tip&gt;
GMatrica&lt;tip&gt;&amp; operator *=(GMatrica&lt;tip&gt; &amp;m,GMatrica&lt;tip&gt; m1){
    if(m1.br_kolona!=m.br_kolona || m1.br_redova!=m.br_redova)throw domain_error("Nedozvoljena operacija");
    for(int i=0;i&lt;m1.br_kolona;i++){
        for(int j=0;j&lt;m1.br_redova;j++){
            tip clan;
            for(int k=0;k&lt;m1.br_redova;k++)clan+=m.niz[i][k]*m1.niz[k][j];
        m.niz[i][j]=clan;
        }
        
    }
    return m;
}
template &lt;typename tip&gt;
inline GMatrica&lt;tip&gt;&amp; operator *=(GMatrica&lt;tip&gt; &amp;m,tip n){
    for(int i=0;i&lt;m.br_kolona;i++){
        for(int j=0;j&lt;m.br_redova;j++){
            m.niz[i][j]*=n;
        }
    }
    return m;
}
template &lt;typename tip&gt;
inline bool operator ==(GMatrica&lt;tip&gt; &amp;m,GMatrica&lt;tip&gt; &amp;m1){
    if(m1.br_kolona!=m.br_kolona || m1.br_redova!=m.br_redova)throw domain_error("Nedozvoljena operacija");
    for(int i=0;i&lt;m1.br_kolona;i++){
        for(int j=0;j&lt;m1.br_redova;j++){
</font><a name="4"></a><font color="#FF00FF"><a href="match69-0.html#4" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_4.gif"/></a>

            if(m.niz[i][j]!=m1.niz[i][j])return false;
        }
    }
    return true;
}
template &lt;typename tip&gt;
inline bool operator !=(GMatrica&lt;tip&gt; &amp;m,GMatrica&lt;tip&gt; &amp;m1){
    if(m1.br_kolona!=m.br_kolona || m1.br_redova!=m.br_redova)throw domain_error("Nedozvoljena operacija");
    for(int i=0;i&lt;m1.br_kolona;i++){
        for(int j=0;j&lt;m1.br_redova;j++){
</font><a name="1"></a><font color="#00FF00"><a href="match69-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_15.gif"/></a>

            if(m.niz[i][j]!=m1.niz[i][j])return true;
        }
    }
    return false;
}
template &lt;typename tip1&gt;
    ostream &amp;operator &lt;&lt;(ostream &amp;tok,const GMatrica&lt;tip1&gt;&amp; m){
        for(int i=0;i&lt;m.br_kolona;i++){
            for(int j=0;j&lt;m.br_redova;j++){
                tok&lt;&lt;setw(6)&lt;&lt;m.niz[i][j];
            }
            tok&lt;&lt;'\n';
        }
        return tok;
    }
template &lt;typename tip1&gt;
    istream &amp;operator &gt;&gt;(istream &amp;tok,GMatrica&lt;tip1&gt;&amp; m){
        string unos;
        int br(0),br1(0);
        tok&gt;&gt;unos;
        if(unos[0]!='[')tok.setstate(ios::failbit);
        for(int i=0;i&lt;unos.length();i++){
            if(i%2!=0)br++;
            if(unos[i]==';' || unos[i]==']'){
            m.br_redova=br;
            br=0;
            br1++;
        }
        }
        m.br_kolona=br1;
        int k(0),r(0);
        for(int i=0;i&lt;unos.length();i++){
            if(i%2!=0){
                m.niz[k][r]=unos[i]-48;
                r++;
            }
            if(i%2==0 &amp;&amp; i&gt;0  &amp;&amp; unos[i]!=';' &amp;&amp; unos[i]!=',')tok.setstate(ios::failbit);
            if(unos[i]==';'){
                k++;
                r=0;
            }
        }
        return tok;
    }

int main (){   
   GMatrica&lt;int&gt; m1,m2{{1}};
   cout&lt;&lt;m2;
   std::cin &gt;&gt; m1;
   std::cout &lt;&lt; m1 &lt;&lt; std::endl;
</font>	return 0;
}</pre>
</body>
</html>
