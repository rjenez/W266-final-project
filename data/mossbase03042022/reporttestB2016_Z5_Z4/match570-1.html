<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z5/Z4/student6604.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z5/Z4/student6353.cpp<p></p><pre>
/B16/17 (ZadaÄ‡a 5, Zadatak 4)
//Autotestovi by Ivona Ivkovic (mail: iivkovic2@etf.unsa.ba)
//Za autotestove se obracati *iskljucivo* osobi koja ih pise
#include &lt;iostream&gt;
#include &lt;stdexcept&gt;
#include &lt;vector&gt;
#include &lt;initializer_list&gt;
#include &lt;algorithm&gt;

template&lt;typename Tip&gt;
class GMatrica{
    
    Tip niz[4][4];
    int broj_redova, broj_kolona;
    void popuniMatricu(Tip n){
        for(int i = 0; i &lt; broj_redova; i++){
            for(int j = 0; j &lt; broj_kolona; j++){
                niz[i][j]= n;
            }
        }
    }
    Tip vrati_defaultnu(){
        return Tip();
    }
public:
    GMatrica();
    GMatrica(int br_r, int br_k, const Tip inic_vrijednost= {});
    template&lt;typename Tip2&gt;
    GMatrica(const GMatrica&lt;Tip2&gt; &amp;g);
    GMatrica(std::vector&lt;std::vector&lt;Tip&gt;&gt; vektor);
    GMatrica(Tip **niz);
    GMatrica(std::initializer_list&lt;Tip&gt; lista);
    int DajBrojRedova(){
        return broj_redova;
    }
    int DajBrojKolona(){
        return broj_kolona;
    }
<a name="10"></a><font color="#FF0000"><a href="match570-0.html#10" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_1.gif"/></a>

    template&lt;typename Tip2&gt;
    friend auto operator +(const GMatrica&lt;Tip&gt; &amp;g1, const GMatrica&lt;Tip2&gt; &amp;g2) -&gt;GMatrica&lt;decltype(g1.niz[0][0]+g2.niz[0][0])&gt;;
</font>    
    template&lt;typename Tip2&gt;
    friend auto operator -(const GMatrica&lt;Tip&gt; &amp;g1, const GMatrica&lt;Tip2&gt; &amp;g2) -&gt;GMatrica&lt;decltype(g1.niz[0][0]+g2.niz[0][0])&gt;;
    
    template&lt;typename Tip2&gt;
<a name="13"></a><font color="#00FFFF"><a href="match570-0.html#13" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_1.gif"/></a>

    friend auto operator *(const GMatrica&lt;Tip&gt; &amp;g1, const GMatrica&lt;Tip2&gt; &amp;g2) -&gt;GMatrica&lt;decltype(g1.niz[0][0]*g2.niz[0][0])&gt;;
    
    template&lt;typename Tip2&gt;
</font>    friend auto operator *(const GMatrica&lt;Tip&gt; &amp;g1, const Tip2 broj)-&gt;GMatrica&lt;decltype(g1.niz[0][0]*broj)&gt;;
    
    template&lt;typename Tip2&gt;
<a name="11"></a><font color="#00FF00"><a href="match570-0.html#11" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_1.gif"/></a>

    friend auto operator *(const Tip2 broj, const GMatrica&lt;Tip&gt; &amp;g1)-&gt;GMatrica&lt;decltype(g1.niz[0][0]*broj)&gt;;
    
    template&lt;typename Tip2&gt;
</font>    friend GMatrica&lt;Tip&gt; &amp;operator +=(GMatrica&lt;Tip&gt; &amp;g1, const GMatrica&lt;Tip2&gt; &amp;g2);
    
    template&lt;typename Tip2&gt;
    friend GMatrica&lt;Tip&gt; &amp;operator -=(GMatrica&lt;Tip&gt; &amp;g1, const GMatrica&lt;Tip2&gt; &amp;g2);
    
    template&lt;typename Tip2&gt;
    friend GMatrica&lt;Tip&gt; &amp;operator *=(GMatrica&lt;Tip&gt; &amp;g1, const GMatrica&lt;Tip2&gt; &amp;g2);
    
    template&lt;typename Tip2&gt;
    friend bool operator ==(GMatrica&lt;Tip&gt; &amp;g1, const GMatrica&lt;Tip2&gt; &amp;g2){
        if(g1.broj_kolona != g2.broj_kolona || g1.broj_redova != g2. broj_redova) return false;
        for(int i = 0; i &lt; g1.broj_redova; i++)
            for(int j = 0; j &lt; g2.broj_kolona; j++)
                if(g1.niz[i][j] != g2.niz[i][j]) return false;
        return true;
    }
    
    template&lt;typename Tip2&gt;
    friend bool operator !=(GMatrica&lt;Tip&gt; &amp;g1, const GMatrica&lt;Tip2&gt; &amp;g2){
<a name="5"></a><font color="#FF0000"><a href="match570-0.html#5" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_1.gif"/></a>

        return !(g1==g2);
    }
    
    /*friend &amp;operator ()(const GMatrica&lt;Tip&gt; &amp;g1, int m, int n){
        if(m&gt;g1.broj_redova+1 || n&gt;g1.broj_kolona+1) throw std::range_error("Nedozvoljen indeks");
        
        return g1.niz[m-1][n-1];
    }*/
    
};


template&lt;typename Tip&gt;
GMatrica&lt;Tip&gt;::GMatrica(){
         broj_kolona = 0;
        broj_redova = 0;
}

template&lt;typename Tip&gt;
GMatrica&lt;Tip&gt;::GMatrica(int br_r, int br_k,const Tip inic_vrijednost){
</font>        if(br_r &gt; 4 || br_r &lt; 0 || br_k &lt; 0 || br_k &gt;4) throw std::logic_error("Ilegalan fromat matrice");
        broj_kolona = br_k;
        broj_redova = br_r;
        popuniMatricu(inic_vrijednost);
    
}

template&lt;typename Tip&gt;
template&lt;typename Tip2&gt;
GMatrica&lt;Tip&gt;::GMatrica(const GMatrica&lt;Tip2&gt; &amp;g){
    broj_kolona = g.broj_kolona;
    broj_redova = g.broj_redova;
<a name="4"></a><font color="#FF00FF"><a href="match570-0.html#4" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_1.gif"/></a>

    for(int i=0;i&lt;broj_redova; i++){
        for(int j =0; j &lt; broj_kolona; j++)
            niz[i][j] = g.niz[i][j];
            
    }
}

template&lt;typename Tip&gt;
GMatrica&lt;Tip&gt;::GMatrica(Tip** nizp){
</font>    broj_kolona = 4;
<a name="12"></a><font color="#0000FF"><a href="match570-0.html#12" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_1.gif"/></a>

    broj_redova = 4;
    for(int i = 0; i &lt; 4; i++)
        for(int j = 0; j &lt; 4; j++)
            niz[i][j] = nizp[i][j];
</font>}

template&lt;typename Tip&gt;
GMatrica&lt;Tip&gt;::GMatrica(std::vector&lt;std::vector&lt;Tip&gt;&gt; vektor){
<a name="3"></a><font color="#00FFFF"><a href="match570-0.html#3" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_2.gif"/></a>

     if(vektor.size() &gt;4 || vektor[0].size() &gt; 4 || vektor.size() &lt;0 || vektor[0].size() &lt;0)
        throw std::logic_error("Ilegalan format matrice");
    for(int i = 0; i &lt; vektor.size() ; i++ ) if(vektor[i].size()!= vektor[0].size()) throw std::logic_error("Ilegalan format matrice");
</font>    
    broj_redova = vektor.size();
    broj_kolona = vektor[0].size();
    for(int i = 0; i&lt; vektor.size(); i++){
        for(int j = 0; i &lt; vektor[i].size(); j++){
            niz[i][j] = vektor[i][j];
        }
    }
}

template&lt;typename Tip&gt;
GMatrica&lt;Tip&gt;::GMatrica(std::initializer_list&lt;Tip&gt; lista){
    std::copy(lista.begin(), lista.end(), niz);
}

template&lt;typename Tip2, typename Tip&gt;
auto operator +(const GMatrica&lt;Tip&gt; &amp;g1, const GMatrica&lt;Tip2&gt; &amp;g2) -&gt;GMatrica&lt;decltype(g1.niz[0][0]+g2.niz[0][0])&gt;{
    if(g1.broj_kolona != g2.broj_kolona || g1.broj_redova != g2.broj_redova) throw std::domain_error("Nedozvoljena operacija");
    
<a name="9"></a><font color="#FF00FF"><a href="match570-0.html#9" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_1.gif"/></a>

    GMatrica&lt;decltype(g1.niz[0][0]+g2.niz[0][0])&gt; g(g1.broj_redova, g1.broj_kolona);
    for(int i = 0; i &lt; g1.broj_redova; i++)
</font>        for(int j = 0; j &lt; g1.broj_kolona; j++)
<a name="8"></a><font color="#00FFFF"><a href="match570-0.html#8" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_1.gif"/></a>

            g.niz[i][j] = g1.niz[i][j] + g2.niz[i][j];
    
    return g;
}
    
template&lt;typename Tip2, typename Tip&gt;
auto operator -(const GMatrica&lt;Tip&gt; &amp;g1, const GMatrica&lt;Tip2&gt; &amp;g2) -&gt;GMatrica&lt;decltype(g1.niz[0][0]+g2.niz[0][0])&gt;{
</font>    if(g1.broj_kolona != g2.broj_kolona || g1.broj_redova != g2.broj_redova) throw std::domain_error("Nedozvoljena operacija");
    
    GMatrica&lt;decltype(g1.niz[0][0]+g2.niz[0][0])&gt; g(g1.broj_redova, g1.broj_kolona);
    for(int i = 0; i &lt; g1.broj_redova; i++)
        for(int j = 0; j &lt; g1.broj_kolona; j++)
            g.niz[i][j] = g1.niz[i][j] - g2.niz[i][j];
    
    return g;
}
    
template&lt;typename Tip2, typename Tip&gt;
<a name="2"></a><font color="#0000FF"><a href="match570-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_2.gif"/></a>

auto operator *(const GMatrica&lt;Tip&gt; &amp;g1, const GMatrica&lt;Tip2&gt; &amp;g2) -&gt;GMatrica&lt;decltype(g1.niz[0][0]*g2.niz[0][0])&gt;{
    if(g1.broj_kolona  != g2.broj_redova) throw std::domain_error("Nedozvoljena operacija");
    
    GMatrica&lt;decltype(g1.niz[0][0]+g2.niz[0][0])&gt; g(g1.broj_redova, g1.broj_kolona);
</font><a name="14"></a><font color="#FF00FF"><a href="match570-0.html#14" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_1.gif"/></a>

    for(int i = 0; i &lt; g1.broj_redova; i++)
        for(int j = 0; j &lt; g2.broj_kolona; j++)
            for (int k = 0; k &lt; g1.broj_kolona; k++){
</font><a name="6"></a><font color="#00FF00"><a href="match570-0.html#6" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_1.gif"/></a>

                g.niz[i][j] += g1.niz[i][k]*g2.niz[k][j];
            }
            
    
    return g;
}
    
template&lt;typename Tip2, typename Tip&gt;
auto operator *(const GMatrica&lt;Tip&gt; &amp;g1, const Tip2 broj)-&gt;GMatrica&lt;decltype(g1.niz[0][0]*broj)&gt;{
</font><a name="7"></a><font color="#0000FF"><a href="match570-0.html#7" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_1.gif"/></a>

    GMatrica&lt;decltype(g1.niz[0][0]*broj)&gt; g(g1);
</font>    for(int i = 0; i &lt; g.broj_redova; i++)
        for(int j=0; j &lt; g.broj_kolona; j++)
            g.niz[i][j] = g1.niz[i][j]*broj;
            
    return g;
}
    
template&lt;typename Tip2, typename Tip&gt;
<a name="15"></a><font color="#FF0000"><a href="match570-0.html#15" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_1.gif"/></a>

auto operator *(const Tip2 broj, const GMatrica&lt;Tip&gt; &amp;g1)-&gt;GMatrica&lt;decltype(g1.niz[0][0]*broj)&gt;{
     GMatrica&lt;decltype(g1.niz[0][0]*broj)&gt; g(g1);
</font>    for(int i = 0; i &lt; g.broj_redova; i++)
        for(int j=0; j &lt; g.broj_kolona; j++)
            g.niz[i][j] = g1.niz[i][j]*broj;
            
    return g;
}

template&lt;typename Tip, typename Tip2&gt;
GMatrica&lt;Tip&gt; &amp;operator +=(GMatrica&lt;Tip&gt; &amp;g1, const GMatrica&lt;Tip2&gt; &amp;g2) {
<a name="0"></a><font color="#FF0000"><a href="match570-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_3.gif"/></a>

    if(g1.broj_kolona != g2.broj_kolona || g1.broj_redova != g2.broj_redova) throw std::domain_error("Nedozvoljena operacija");
    
    for(int i = 0; i &lt; g1.broj_redova; i++)
        for(int j = 0; j &lt; g1.broj_kolona; j++)
            g1.niz[i][j] +=g2.niz[i][j];
    return g1;
}

template&lt;typename Tip, typename Tip2&gt;
</font>GMatrica&lt;Tip&gt; &amp;operator -=(GMatrica&lt;Tip&gt; &amp;g1, const GMatrica&lt;Tip2&gt; &amp;g2) {
<a name="1"></a><font color="#00FF00"><a href="match570-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_3.gif"/></a>

    if(g1.broj_kolona != g2.broj_kolona || g1.broj_redova != g2.broj_redova) throw std::domain_error("Nedozvoljena operacija");
    
    for(int i = 0; i&lt; g1.broj_redova; i++)
        for(int j = 0; j &lt; g1.broj_kolona; j++)
            g1.niz[i][j] -=g2.niz[i][j];
</font>}


int main ()
{
    GMatrica&lt;double&gt; m1({{1, 2}, {3, 4}});
   GMatrica&lt;double&gt; m2({{1, 2}, {3, 4}});
   auto m3 = m1 + m2;
   std::cout &lt;&lt; m3 &lt;&lt; std::endl;
   GMatrica&lt;double&gt; m4({{1, 2}, {3, 4}});
   auto m5 = m3-m4;
   std::cout &lt;&lt; m5 &lt;&lt; std::endl;
	return 0;
}</pre>
</body>
</html>
