<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z5/Z4/student4628.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z5/Z4/student5420.cpp<p></p><pre>
/B16/17 (ZadaÄ‡a 5, Zadatak 4)
//Autotestovi by Ivona Ivkovic (mail: iivkovic2@etf.unsa.ba)
//Za autotestove se obracati *iskljucivo* osobi koja ih pise
#include &lt;iostream&gt;
#include &lt;stdexcept&gt;
#include &lt;iomanip&gt;
#include &lt;vector&gt;

template &lt;typename Tip&gt;
class GMatrica{
    int br_redova, br_kolona;
    Tip matrica[4][4];
    
    public:
    GMatrica() { br_kolona=0; br_redova=0;}
    GMatrica(int br_redova, int br_kolona, Tip vrijednost_el=0);
    GMatrica(std::initializer_list&lt;std::initializer_list&lt;Tip&gt;&gt; lista);
    template&lt;typename tip2&gt;
    GMatrica(GMatrica&lt;tip2&gt; &amp;mat);
    GMatrica(Tip niz[4][4]);
    GMatrica(std::vector&lt;std::vector&lt;Tip&gt;&gt; vekt);
    int DajBrojRedova() { return br_redova; }
    int DajBrojKolona() { return br_kolona; }
    
<a name="2"></a><font color="#0000FF"><a href="match836-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_3.gif"/></a>

    template&lt;typename tip&gt;
    friend GMatrica&lt;tip&gt; operator +(const GMatrica&lt;tip&gt; &amp;m1, const GMatrica&lt;tip&gt; &amp;m2);
    template&lt;typename tip&gt;
    friend GMatrica&lt;tip&gt; operator -(const GMatrica&lt;tip&gt; &amp;m1, const GMatrica&lt;tip&gt; &amp;m2);
    template&lt;typename tip&gt;
    friend GMatrica&lt;tip&gt; operator *(GMatrica&lt;tip&gt; m1, const GMatrica&lt;tip&gt; &amp;m2);
</font>    template &lt;typename tip,typename Tip2&gt;
    friend GMatrica&lt;tip&gt; operator *(const GMatrica&lt;tip&gt; &amp;m, Tip2 broj);
    template &lt;typename tip, typename Tip2&gt;
    friend GMatrica&lt;tip&gt; operator *(Tip2 broj, GMatrica&lt;tip&gt; &amp;m1) { return m1*broj; }
    GMatrica &amp;operator +=(const GMatrica &amp;m);
    GMatrica &amp;operator -=(const GMatrica &amp;m);
    GMatrica &amp;operator *=(const GMatrica &amp;m);
    GMatrica &amp;operator +=(Tip br);
    GMatrica &amp;operator -=(Tip br);
    GMatrica &amp;operator *=(Tip br);
    bool operator ==(const GMatrica &amp;m1) const;
    bool operator !=(const GMatrica &amp;m1) const;
    Tip operator()(int red, int kolona);
   // Tip* operator [](int red, int kolona) {return mat[red]; }
    template&lt;typename tip&gt;
    friend std::ostream &amp;operator &lt;&lt;(std::ostream &amp;tok, const GMatrica&lt;tip&gt; &amp;m);
    template&lt;typename tip&gt;
<a name="9"></a><font color="#FF00FF"><a href="match836-0.html#9" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_1.gif"/></a>

    friend std::istream &amp;operator &gt;&gt;(std::istream &amp;tok, GMatrica&lt;tip&gt; &amp;m);
};


template&lt;typename Tip&gt;
GMatrica&lt;Tip&gt;::GMatrica(Tip niz[4][4]) {
</font>    for(int i=0; i&lt;4; i++) {
        for(int j=0; j&lt;4; j++) {
            matrica[i][j]=niz[i][j];
        }
    }
}

template&lt;typename Tip&gt;
GMatrica&lt;Tip&gt;::GMatrica(std::vector&lt;std::vector&lt;Tip&gt;&gt; vekt) {
    for(int i=0; i&lt;vekt.size(); i++) {
        if(vekt[0].size()!=vekt[i].size()) throw std::logic_error("Ilegalan format matrica");
    }
    if(vekt[0].size()&gt;4 || vekt.size()&gt;4) throw std::logic_error("Ilegalan format matrica");
    
    br_redova=vekt.size(); br_kolona=vekt[0].size();
    for(int i=0; i&lt;vekt.size(); i++) {
        for(int j=0; j&lt;vekt[0].size(); j++) {
            matrica[i][j]=vekt[i][j];
        }
    }
}

template &lt;typename Tip&gt;
<a name="1"></a><font color="#00FF00"><a href="match836-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_3.gif"/></a>

GMatrica&lt;Tip&gt;::GMatrica(int br_red, int br_kol, Tip vrijednost_el) {
    if(br_kol&gt;4 || br_kol&lt;0 || br_red&gt;4 || br_red&lt;0) throw std::logic_error("Ilegalan format matrice");
    
            br_kolona=br_kol; br_redova=br_red; 
            for(int i=0; i&lt;br_redova; i++) { 
                for(int j=0; j&lt;br_kolona; j++) {
                    matrica[i][j]=vrijednost_el; //std::cout &lt;&lt; matrica[i][j]; } std::cout &lt;&lt; std::endl;
                } }
    }

template&lt;typename Tip&gt;
GMatrica&lt;Tip&gt;::GMatrica(std::initializer_list&lt;std::initializer_list&lt;Tip&gt;&gt; lista) {
</font>    int red(0), kolona(0);
    for(auto it=lista.begin(); it!=lista.end(); it++) { 
        kolona=0;
        for(auto it2=it-&gt;begin(); it2!=it-&gt;end(); it2++)  kolona++;
        if(kolona&gt;4) throw std::logic_error("Ilegalan format matrice");
        red++;
    }
    if(red&gt;4) throw std::logic_error("Ilegalan format matrice");
    
    int i=0, j=0; 
    for(auto it=lista.begin(); it!=lista.end(); it++) {
        j=0;
        for(auto it2=(*it).begin(); it2!=it-&gt;end(); it2++) {
            matrica[i][j]=*it2;
            j++;
        }
        i++;
    }
    br_redova=i; br_kolona=j;
}

//template&lt;typename Tip, typename tip2&gt;
//GMatrica&lt;Tip&gt;::GMatrica(GMatrica&lt;tip2&gt; &amp;mat) {}

<a name="8"></a><font color="#00FFFF"><a href="match836-0.html#8" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_1.gif"/></a>

template&lt;typename Tip&gt;
GMatrica&lt;Tip&gt; operator +(const GMatrica&lt;Tip&gt; &amp;m1, const GMatrica&lt;Tip&gt; &amp;m2) {
    if(m1.br_kolona!=m2.br_kolona || m1.br_redova!=m2.br_redova) throw std::domain_error("Nedozvoljena operacija");
</font>    GMatrica&lt;Tip&gt; m3(m1);
    m3+=m2;
    return m3;
} 

<a name="5"></a><font color="#FF0000"><a href="match836-0.html#5" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_1.gif"/></a>

template &lt;typename Tip&gt;
GMatrica&lt;Tip&gt; operator -(const GMatrica&lt;Tip&gt; &amp;m1, const GMatrica&lt;Tip&gt; &amp;m2) {
    if(m1.br_kolona!=m2.br_kolona || m1.br_redova!=m2.br_redova) throw std::domain_error("Nedozvoljena operacija");
</font>    GMatrica&lt;Tip&gt; m3(m1);
    m3-=m2;
<a name="7"></a><font color="#0000FF"><a href="match836-0.html#7" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_1.gif"/></a>

    return m3;
}

template &lt;typename Tip&gt;
GMatrica&lt;Tip&gt; operator *(const GMatrica&lt;Tip&gt; &amp;m1, const GMatrica&lt;Tip&gt; &amp;m2) {
    if(m1.br_kolona!=m2.br_redova) throw std::domain_error("Nedozvoljena operacija");
</font>    GMatrica&lt;Tip&gt; m3(m1);
    m3*=m2;
    return m3;
}

template &lt;typename Tip,typename tip2&gt;
GMatrica&lt;Tip&gt; operator *(const GMatrica&lt;Tip&gt; &amp;m, tip2 broj) {
    GMatrica&lt;Tip&gt; m1(m);
    for(int i=0; i&lt;m1.br_redova; i++) {
        for(int j=0; j&lt;m1.br_kolona; j++) m1.matrica[i][j]*=broj;
    }
<a name="0"></a><font color="#FF0000"><a href="match836-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_4.gif"/></a>

    return m1;
}

template &lt;typename Tip&gt;
GMatrica&lt;Tip&gt; &amp;GMatrica&lt;Tip&gt;::operator +=(const GMatrica&lt;Tip&gt; &amp;m) {
    if(br_redova!=m.br_redova || br_kolona!=m.br_kolona) throw std::domain_error("Nedozvoljena operacija");
    for(int i=0; i&lt;br_redova; i++) {
        for(int j=0; j&lt;br_kolona; j++) matrica[i][j]+=m.matrica[i][j];
    }
    return *this;
</font>}

template &lt;typename Tip&gt;
GMatrica&lt;Tip&gt; &amp;GMatrica&lt;Tip&gt;::operator +=(Tip br) {
    for(int i=0; i&lt;br_redova; i++) {
        for(int j=0; j&lt;br_kolona; j++) matrica[i][j]+=br;
    }
<a name="3"></a><font color="#00FFFF"><a href="match836-0.html#3" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_3.gif"/></a>

    return *this;
}

template &lt;typename Tip&gt;
GMatrica&lt;Tip&gt; &amp;GMatrica&lt;Tip&gt;::operator *=(Tip br) {
    for(int i=0; i&lt;br_redova; i++) {
        for(int j=0; j&lt;br_kolona; j++) matrica[i][j]*=br;
    }
    return *this;
}

template &lt;typename Tip&gt;
</font>GMatrica&lt;Tip&gt; &amp;GMatrica&lt;Tip&gt;::operator -=(Tip br) {
    for(int i=0; i&lt;br_redova; i++) {
        for(int j=0; j&lt;br_kolona; j++) matrica[i][j]-=br;
    }
<a name="4"></a><font color="#FF00FF"><a href="match836-0.html#4" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_2.gif"/></a>

    return *this;
}

template &lt;typename Tip&gt;
GMatrica&lt;Tip&gt; &amp;GMatrica&lt;Tip&gt;::operator -=(const GMatrica&lt;Tip&gt; &amp;m) {
    if(br_kolona!=m.br_kolona || br_redova!=m.br_redova) throw std::domain_error("Nedozvoljena operacija");
</font>    for(int i=0; i&lt;m.br_redova; i++) {
        for(int j=0; j&lt;m.br_kolona; j++) matrica[i][j]-=m.matrica[i][j];
    }
    return *this;
}

template &lt;typename Tip&gt;
GMatrica&lt;Tip&gt; &amp;GMatrica&lt;Tip&gt;::operator *=(const GMatrica&lt;Tip&gt; &amp;m) {
    if(br_kolona!=m.br_redova) throw std::domain_error("Nedozvoljena operacija");
    for(int i=0; i&lt;m.br_redova; i++) {
<a name="10"></a><font color="#FF0000"><a href="match836-0.html#10" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_1.gif"/></a>

        for(int j=0; j&lt;m.br_kolona; j++) {
            int suma(0);
            for(int k=0; k&lt;m.br_redova; k++) suma+=matrica[i][k]*m.matrica[k][j];
</font>        matrica[i][j]=suma;
        }
    }
   // *this=m3;
    return *this;
}

template &lt;typename Tip&gt;
bool GMatrica&lt;Tip&gt;::operator ==(const GMatrica&lt;Tip&gt; &amp;m1) const {
    if(br_kolona!=m1.br_kolona || br_redova!=m1.br_redova) return false;
    
    for(int i=0; i&lt;m1.br_redova; i++) {
        for(int j=0; j&lt;m1.br_kolona; j++) 
        if(matrica[i][j]!=m1.matrica[i][j]) return false;
    }
    return true;
}

template &lt;typename Tip&gt;
bool GMatrica&lt;Tip&gt;::operator !=(const GMatrica&lt;Tip&gt; &amp;m1) const {
    if(!(*this==m1)) return true;
    return false;
}

template &lt;typename Tip&gt;
std::ostream &amp;operator &lt;&lt;(std::ostream &amp;tok, const GMatrica&lt;Tip&gt; &amp;m) {
    int sirina(tok.width());
    if(sirina&lt;6) {
    for(int i=0; i&lt;m.br_redova; i++) {
<a name="6"></a><font color="#00FF00"><a href="match836-0.html#6" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_1.gif"/></a>

        for(int j=0; j&lt;m.br_kolona; j++) tok &lt;&lt; std::setw(6) &lt;&lt; m.matrica[i][j];
        tok &lt;&lt; std::endl;
    }
    }
    return tok;
}

template &lt;typename Tip&gt;
std::istream &amp;operator &gt;&gt;(std::istream &amp;tok, GMatrica&lt;Tip&gt; &amp;m) {
</font>    char znak;
    int i=0, j=0;
    tok &gt;&gt; std::ws;
        tok&gt;&gt; znak;
        if(znak!='[') tok.setstate(std::ios::failbit);
        while(znak!=']') {
            tok &gt;&gt; m.matrica[i][j] &gt;&gt; znak;
            if(znak!=';' &amp;&amp; znak!=']' &amp;&amp; znak!=',') tok.setstate(std::ios::failbit);
            j++;
            if(znak==';') { i++; j=0; }
        }
        m.br_redova=i+1; m.br_kolona=j;
    return tok;
}

template&lt;typename Tip&gt;
Tip GMatrica&lt;Tip&gt;::operator ()(int red, int kolona) {
    if(red&gt;4 || red&lt;1 || kolona&gt;4 || red&lt;1) throw std::range_error("Nedozvoljen indeks");
    return matrica[red-1][kolona-1];
}

//template&lt;typename Tip&gt;
/*Tip &amp;GMatrica&lt;Tip&gt;::operator [](int red, int kolona) {
  return matrica[red][kolona];
    
} */


int main ()
{
 
    	return 0;
}</pre>
</body>
</html>
