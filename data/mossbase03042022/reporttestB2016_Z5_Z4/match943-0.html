<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z5/Z4/student4628.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z5/Z4/student4628.cpp<p></p><pre>
/B16/17 (ZadaÄ‡a 5, Zadatak 4)
//Autotestovi by Ivona Ivkovic (mail: iivkovic2@etf.unsa.ba)
//Za autotestove se obracati *iskljucivo* osobi koja ih pise
#include &lt;iostream&gt;
#include &lt;vector&gt;
#include &lt;stdexcept&gt;
#include &lt;iomanip&gt;

template &lt;typename Tip&gt;
class GMatrica {
    Tip mat[4][4];
    int br_redova, br_kolona;
public:
    GMatrica();
    GMatrica(int redovi, int kolone, Tip vrijednost = 0);
    template &lt;typename Tip2&gt;
    GMatrica(GMatrica&lt;Tip2&gt; m) {
        for(int i = 0; i &lt; br_redova; i++)
            for(int j = 0; j &lt; br_kolona; j++)
                mat[i][j] = m[i][j];
    }
    GMatrica(Tip m[4][4]);
    GMatrica(std::vector&lt;std::vector&lt;Tip&gt;&gt; v);
    GMatrica(std::initializer_list&lt;std::initializer_list&lt;Tip&gt;&gt; lista);
    
    int DajBrojRedova() { return br_redova; }
    int DajBrojKolona() { return br_kolona; }
    GMatrica&lt;Tip&gt; &amp;operator +=(const GMatrica&lt;Tip&gt; &amp;m2);
    GMatrica&lt;Tip&gt; &amp;operator -=(const GMatrica&lt;Tip&gt; &amp;m2);
    GMatrica&lt;Tip&gt; &amp;operator *=(Tip br);
    Tip *operator [](int index) const{
        return mat[index];
    }
    Tip *&amp;operator [](int index) {
        return mat[index];
    }
    Tip &amp;operator()(int i, int j) const{
        if(i &lt;= 0 || i &gt; br_redova || j &lt;= 0 || j &gt; br_kolona) throw std::range_error("Nedozvoljen indeks");
        return mat[i - 1][j - 1];
    }
    Tip operator()(int i, int j) {
        if(i &lt;= 0 || i &gt; br_redova || j &lt;= 0 || j &gt; br_kolona) throw std::range_error("Nedozvoljen indeks");
        return mat[i - 1][j - 1];
    }
    
<a name="3"></a><font color="#00FFFF"><a href="match943-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_2.gif"/></a>

    template&lt;typename Tip2&gt;
    friend GMatrica&lt;Tip2&gt; operator +(const GMatrica&lt;Tip2&gt; &amp;m1, const GMatrica&lt;Tip2&gt; &amp;m2);//-&gt; GMatrica&lt;decltype(m1[0][0] + m2[0][0])&gt;;
    template&lt;typename Tip2&gt;
    friend GMatrica&lt;Tip2&gt; operator -(const GMatrica&lt;Tip2&gt; &amp;m1, const GMatrica&lt;Tip2&gt; &amp;m2);//-&gt; GMatrica&lt;decltype(m1[0][0] - m2[0][0])&gt;;
    template&lt;typename Tip2&gt;
</font>    friend GMatrica&lt;Tip2&gt; operator *(const GMatrica&lt;Tip2&gt; &amp;m1, const GMatrica&lt;Tip2&gt; &amp;m2);//-&gt; GMatrica&lt;decltype(m1[0][0] * m2[0][0])&gt;;
<a name="8"></a><font color="#00FFFF"><a href="match943-1.html#8" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_1.gif"/></a>

    template&lt;typename Tip2&gt;
    friend GMatrica&lt;Tip2&gt; operator *(const GMatrica&lt;Tip2&gt; &amp;m1, Tip2 br);
    template&lt;typename Tip2&gt;
    friend GMatrica&lt;Tip2&gt; operator *(Tip2 br, const GMatrica&lt;Tip2&gt; &amp;m1);
</font><a name="5"></a><font color="#FF0000"><a href="match943-1.html#5" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_2.gif"/></a>

    template&lt;typename Tip2&gt;
    friend bool operator ==(const GMatrica&lt;Tip2&gt; &amp;m1, const GMatrica&lt;Tip2&gt; &amp;m2);
    template&lt;typename Tip2&gt;
    friend bool operator !=(const GMatrica&lt;Tip2&gt; &amp;m1, const GMatrica&lt;Tip2&gt; &amp;m2);
    template&lt;typename Tip2&gt;
</font>    friend std::ostream &amp;operator &lt;&lt;(std::ostream &amp;tok, const GMatrica&lt;Tip2&gt; &amp;m);
    template&lt;typename Tip2&gt;
    friend std::istream &amp;operator &gt;&gt;(std::istream &amp;tok, GMatrica&lt;Tip2&gt; &amp;m);
};

template&lt;typename Tip&gt;
GMatrica&lt;Tip&gt;::GMatrica() {
    br_kolona = 0; br_redova = 0;
    for(int i = 0; i &lt; 4; i++)
        for(int j = 0; j &lt; 4; j++)
            mat[i][j] = 0;
} 
template &lt;typename Tip&gt;
GMatrica&lt;Tip&gt;::GMatrica(int redovi, int kolone, Tip vrijednost) {
    if(redovi &lt; 0 || redovi &gt; 4 || kolone &lt; 0 || redovi &gt; 4) throw std::logic_error("Ilegalan format matrice");
    br_redova = redovi;
    br_kolona = kolone;
    for(int i = 0; i &lt; br_redova; i++)
        for(int j = 0; j &lt; br_kolona; j++)
            mat[i][j] = vrijednost;
} 
template&lt;typename Tip&gt;
GMatrica&lt;Tip&gt;::GMatrica(Tip m[4][4]) {
    for(int i = 0; i &lt; br_redova; i++)
        for(int j = 0; j &lt; br_kolona; j++)
            mat[i][j] = m[i][j];
}
template&lt;typename Tip&gt;
GMatrica&lt;Tip&gt;::GMatrica(std::vector&lt;std::vector&lt;Tip&gt;&gt; v) {
    if(v[0].size() &lt; 0 || v[0].size() &gt; 4 || v.size() &lt; 0 || v.size() &gt; 4) std::logic_error("Ilegalan format matrice");
    for(int i = 0; i &lt; v.size(); i++)
        for(int j = i + 1; j &lt; v.size(); j++)
            if(v[i].size() != v[j].size) throw std::logic_error("Ilegalan format matrice");
    for(int i = 0; i &lt; v.size(); i++) {
        for(int j = 0; j &lt; v[i].size(); j++)
            mat.mat[i][j] = v.mat[i][j];
    }
}
template&lt;typename Tip&gt;
GMatrica&lt;Tip&gt;::GMatrica(std::initializer_list&lt;std::initializer_list&lt;Tip&gt;&gt; lista) {
    if(lista.size() &lt; 0 || lista.size() &gt; 4 || (*lista.begin()).size() &lt; 0 || (*lista.begin()).size() &gt; 4) throw std::logic_error ("Ilegalan format matrice");
    br_redova = lista.size();
    br_kolona = (*lista.begin()).size();
    int i(0);
    for(auto it1 = lista.begin(); it1 != lista.end(); it1++,i++) {
        int j(0);
        for(auto it2 = it1 -&gt; begin(); it2 != it1 -&gt; end(); it2++, j++)
            mat[i][j] = *it2;
    }
}
<a name="2"></a><font color="#0000FF"><a href="match943-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_2.gif"/></a>

template&lt;typename Tip2&gt;//, typename Tip3&gt;
GMatrica&lt;Tip2&gt; operator +(const GMatrica&lt;Tip2&gt; &amp;m1, const GMatrica&lt;Tip2&gt; &amp;m2) {//-&gt; GMatrica&lt;decltype(m1[0][0] + m2[0][0])&gt; {
    if(m1.br_redova != m2.br_redova || m1.br_kolona != m2.br_kolona) throw std::domain_error("Nedozvoljena operacija");
    GMatrica&lt;Tip2&gt; m3(m1.br_redova, m1.br_kolona);
</font>    for(int i = 0; i &lt; m1.br_redova; i++)
        for(int j = 0; j &lt; m1.br_kolona; j++)
            m3.mat[i][j] = m1.mat[i][j] + m2.mat[i][j];
    return m3;
}
<a name="1"></a><font color="#00FF00"><a href="match943-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_2.gif"/></a>

template&lt;typename Tip2&gt;
GMatrica&lt;Tip2&gt; operator -(const GMatrica&lt;Tip2&gt; &amp;m1, const GMatrica&lt;Tip2&gt; &amp;m2) {//-&gt; GMatrica&lt;decltype(m1[0][0] - m2[0][0])&gt; {
    if(m1.br_redova != m2.br_redova || m1.br_kolona != m2.br_kolona) throw std::domain_error("Nedozvoljena operacija");
    GMatrica&lt;Tip2&gt; m3(m1.br_redova, m1.br_kolona);
</font>    for(int i = 0; i &lt; m1.br_redova; i++)
        for(int j = 0; j &lt; m1.br_kolona; j++)
<a name="4"></a><font color="#FF00FF"><a href="match943-1.html#4" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_2.gif"/></a>

            m3.mat[i][j] = m1.mat[i][j] - m2.mat[i][j];

    return m3;
}
template&lt;typename Tip2&gt;
GMatrica&lt;Tip2&gt; operator *(const GMatrica&lt;Tip2&gt; &amp;m1, const GMatrica&lt;Tip2&gt; &amp;m2) {//-&gt; GMatrica&lt;decltype(m1[0][0] * m2[0][0])&gt; {
    if(m1.br_redova != m2.br_kolona || m1.br_kolona != m2.br_redova) throw std::domain_error("Nedozvoljena operacija");
</font>    GMatrica&lt;Tip2&gt; m3(m1.br_redova, m1.br_kolona);
    for(int i = 0; i &lt; m1.br_redova; i++)
        for(int j = 0; j &lt; m1.br_kolona; j++)
            m3.mat[i][j] = m1.mat[i][j] * m2.mat[i][j];
    return m3;
}
template&lt;typename Tip2&gt;
GMatrica&lt;Tip2&gt; operator *(const GMatrica&lt;Tip2&gt; &amp;m1, Tip2 br) {//-&gt; GMatrica&lt;decltype(m1[0][0] * br)&gt; {
    GMatrica&lt;Tip2&gt; m3(m1.br_redova, m1.br_kolona);
    for(int i = 0; i &lt; m1.br_redova; i++)
        for(int j = 0; j &lt; m1.br_kolona; j++)
            m3.mat[i][j] = m1.mat[i][j] * br;
    return m3;
}
<a name="6"></a><font color="#00FF00"><a href="match943-1.html#6" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_1.gif"/></a>

template&lt;typename Tip2&gt;
GMatrica&lt;Tip2&gt; operator *(Tip2 br, const GMatrica&lt;Tip2&gt; &amp;m1) {//-&gt; GMatrica&lt;decltype(m1[0][0] * br)&gt; {
    GMatrica&lt;Tip2&gt; m3(m1.br_redova, m1.br_kolona);
    for(int i = 0; i &lt; m1.br_redova; i++)
</font>        for(int j = 0; j &lt; m1.br_kolona; j++)
            m3.mat[i][j] = m1.mat[i][j] * br;
    return m3;
}
template&lt;typename Tip&gt;
GMatrica&lt;Tip&gt; &amp;GMatrica&lt;Tip&gt;::operator +=(const GMatrica&lt;Tip&gt; &amp;m2) {
    if(br_redova != m2.br_redova || br_kolona != m2.br_kolona) throw std::domain_error("Nedozvoljena operacija");
    for(int i = 0; i &lt; br_redova; i++)
        for(int j = 0; j &lt; br_kolona; j++)
            mat[i][j] += m2.mat[i][j];
    return *this;
}
template&lt;typename Tip&gt;
GMatrica&lt;Tip&gt; &amp;GMatrica&lt;Tip&gt;::operator -=(const GMatrica&lt;Tip&gt; &amp;m2) {
    if(br_redova != m2.br_redova || br_kolona != m2.br_kolona) throw std::domain_error("Nedozvoljena operacija");
    for(int i = 0; i &lt; br_redova; i++)
        for(int j = 0; j &lt; br_kolona; j++)
            mat[i][j] -= m2.mat[i][j];
    return *this;
}  
template&lt;typename Tip&gt;
GMatrica&lt;Tip&gt; &amp;GMatrica&lt;Tip&gt;::operator *=(Tip br) {
    for(int i = 0; i &lt; br_redova; i++)
        for(int j = 0; j &lt; br_kolona; j++)
            mat[i][j] *= br;
    return *this;
}
<a name="9"></a><font color="#FF00FF"><a href="match943-1.html#9" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_1.gif"/></a>

template&lt;typename Tip2&gt;
bool operator ==(const GMatrica&lt;Tip2&gt; &amp;m1, const GMatrica&lt;Tip2&gt; &amp;m2) {
    if(m1.br_redova != m2.br_redova || m1.br_kolona != m2.br_kolona) return false;
</font>    for(int i = 0; i &lt; m1.br_redova; i++)
        for(int j = 0; j &lt; m1.br_kolona; j++)
<a name="7"></a><font color="#0000FF"><a href="match943-1.html#7" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_1.gif"/></a>

            if(m1.mat[i][j] != m2.mat[i][j]) return false;
    return true;
}
template&lt;typename Tip2&gt;
bool operator !=(const GMatrica&lt;Tip2&gt; &amp;m1, const GMatrica&lt;Tip2&gt; &amp;m2) {
</font>    return !(m1 == m2);
}
template&lt;typename Tip2&gt;
<a name="0"></a><font color="#FF0000"><a href="match943-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_3.gif"/></a>

std::ostream &amp;operator &lt;&lt;(std::ostream &amp;tok, const GMatrica&lt;Tip2&gt; &amp;m) {
    int sirina = tok.width();
    if(sirina &lt; 6) sirina = 6;
    for(int i = 0; i &lt; m.br_redova; i++){
        for(int j = 0; j &lt; m.br_kolona; j++)
            tok &lt;&lt; std::setw(sirina) &lt;&lt; m.mat[i][j];
        tok &lt;&lt; std::endl;
    }
    return tok;
}
template&lt;typename Tip2&gt;
</font>std::istream &amp;operator &gt;&gt;(std::istream &amp;tok, GMatrica&lt;Tip2&gt; &amp;m) {
    char znak;
    tok &gt;&gt; znak;
    if(znak != '[') tok.setstate(std::ios::failbit);
    int br(0);
    for(int i = 0; i &lt; m.br_redova; i++){
        int br1(0);
        for(int j = 0; j &lt; m.br_kolona; j++) {
            tok &gt;&gt; m.mat[i][j] &gt;&gt; znak;
            if(znak != ',') tok.setstate(std::ios::failbit);
            br++;
        }
        if(br1 != m.br_kolona) tok.setstate(std::ios::failbit);
        //tok &gt;&gt; znak;
        if(br &lt; m.br_redova - 1) if(znak != ';') tok.setstate(std::ios::failbit);
        br++;
    }
//    tok &gt;&gt; znak;
    if(znak != ']') tok.setstate(std::ios::failbit);
    return tok;
}

int main ()
{
    GMatrica&lt;int&gt; m1({{1, 2}, {3, 4}});
    GMatrica&lt;int&gt; m2({{5, 6}, {1, 4}});
    auto m3 = m1 + m2;
    auto m6 = m1 - m2;
    auto m5 = m1 * m2;
    GMatrica&lt;int&gt; m4 = m1 * 2; 
    std::cout &lt;&lt; "Oduzimanje: \n";
    std::cout &lt;&lt;  m6 &lt;&lt; std::endl;
    std::cout &lt;&lt; "Sabiranje: \n";
    std::cout &lt;&lt; m3 &lt;&lt; std::endl;
    std::cout &lt;&lt; "Mnozenje skalarom: \n";
    std::cout &lt;&lt;  m4 &lt;&lt; std::endl;
    std::cout &lt;&lt; "Mnozenje matrice: \n";
    std::cout &lt;&lt;  m5 &lt;&lt; std::endl;
    bool iste(m1 == m2);
    std::cout &lt;&lt; "Jesu li iste: \n" &lt;&lt; iste;


	return 0;
}</pre>
</body>
</html>
