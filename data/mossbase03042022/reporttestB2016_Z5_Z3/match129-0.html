<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z5/Z3/student2949.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z5/Z3/student2949.cpp<p></p><pre>
<a name="1"></a><font color="#00FF00"><a href="match129-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_23.gif"/></a>

/B16/17 (ZadaÄ‡a 5, Zadatak 3)
//Autotestovi by Enil Pajic (mail: epajic1@etf.unsa.ba)
//Za autotestove se obracati *iskljucivo* osobi koja ih pise
#include &lt;iostream&gt;
#include &lt;stdexcept&gt;
#include &lt;cmath&gt;
#include &lt;iomanip&gt;

class Razlomak{
    long long int brojnik, nazivnik;
    static long long int NadjiNajmanjiZajednicki(long long int br, long long int naz){
        if(naz==0) return naz;
        br%=naz;
        return NadjiNajmanjiZajednicki(naz, br);
    }
     
public:

    Razlomak(long long int BROJNIK, long long int NAZIVNIK){
        if(NAZIVNIK==0) throw std::logic_error("Nekorektan razlomak");
        NadjiNajmanjiZajednicki(BROJNIK, NAZIVNIK);
        if(BROJNIK&gt;0 &amp;&amp; NAZIVNIK&lt;0) {
            Razlomak::brojnik=-BROJNIK; Razlomak::nazivnik=std::abs(NAZIVNIK);
        }
        if(BROJNIK&lt;0 &amp;&amp; NAZIVNIK&lt;0){
            Razlomak::brojnik=std::abs(BROJNIK); Razlomak::nazivnik=std::abs(NAZIVNIK);
        }
        else{
            Razlomak::brojnik=BROJNIK; Razlomak::nazivnik=NAZIVNIK;
        }
    }
    Razlomak(long long int BR){ Razlomak::brojnik=BR; Razlomak::nazivnik=1; }
    Razlomak(){ Razlomak::brojnik=0; Razlomak::nazivnik=1; }
    
    long long int DajBrojnik() const{ return brojnik; }
    long long int DajNazivnik() const{ return nazivnik; }
    operator long double() const;
   
    friend Razlomak operator +(const Razlomak &amp;p, const Razlomak &amp;q);
    friend Razlomak operator -(const Razlomak &amp;p, const Razlomak &amp;q);
    friend Razlomak operator *(const Razlomak &amp;p, const Razlomak &amp;q);
    friend Razlomak operator /(const Razlomak &amp;p, const Razlomak &amp;q);

    friend Razlomak &amp;operator +(Razlomak &amp;p){ return p; }
    friend Razlomak &amp;operator -(Razlomak &amp;p){ return -p; }
    friend Razlomak &amp;operator +=(Razlomak &amp;p, const Razlomak &amp;q);
    friend Razlomak &amp;operator -=(Razlomak &amp;p, const Razlomak &amp;q);
</font><a name="2"></a><font color="#0000FF"><a href="match129-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_10.gif"/></a>

    friend Razlomak &amp;operator *=(Razlomak &amp;p, const Razlomak &amp;q);
    friend Razlomak &amp;operator /=(Razlomak &amp;p, const Razlomak &amp;q);
    
    friend Razlomak &amp;operator ++(Razlomak &amp;p){
        p+=1;
        return p;
    }
    friend Razlomak operator ++(Razlomak &amp;p, int){
        Razlomak pom(p);
        pom+=1;
        return pom;
    }
    friend Razlomak &amp;operator --(Razlomak &amp;p){
        p-=1;
        return p;
    }
    friend Razlomak operator --(Razlomak &amp;p, int){
        Razlomak pom(p);
        pom-=1;
        return pom;
    }
    
    friend bool operator ==(const Razlomak &amp;p, const Razlomak &amp;q);
    friend bool operator !=(const Razlomak &amp;p, const Razlomak &amp;q);
    friend bool operator &lt;(const Razlomak &amp;p, const Razlomak &amp;q);
    friend bool operator &gt;(const Razlomak &amp;p, const Razlomak &amp;q);
</font><a name="0"></a><font color="#FF0000"><a href="match129-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_62.gif"/></a>

    friend bool operator &lt;=(const Razlomak &amp;p, const Razlomak &amp;q);
    friend bool operator &gt;=(const Razlomak &amp;p, const Razlomak &amp;q);
    friend std::ostream &amp;operator &lt;&lt;(std::ostream &amp;tok, const Razlomak &amp;p);
    friend std::istream &amp;operator &gt;&gt;(std::istream &amp;tok, Razlomak &amp;p);
    
};
    Razlomak operator /(const Razlomak &amp;p, const Razlomak &amp;q){
        auto r(Razlomak::NadjiNajmanjiZajednicki(p.nazivnik, q.nazivnik));
        auto u(Razlomak::NadjiNajmanjiZajednicki(p.brojnik, q.brojnik));
        return ((p.brojnik/u)*(q.nazivnik/r))/((p.nazivnik/r)*(q.brojnik/u));
    }
    
    Razlomak operator *(const Razlomak &amp;p, const Razlomak &amp;q){
        auto s(Razlomak::NadjiNajmanjiZajednicki(p.brojnik, q.nazivnik));
        auto t(Razlomak::NadjiNajmanjiZajednicki(q.brojnik, p.nazivnik)); 
        
        return ((p.brojnik/s)*(q.brojnik/t))/((p.nazivnik/t)*(q.nazivnik/s));
    } 
    
    Razlomak operator -(const Razlomak &amp;p1, const Razlomak &amp;p2){
        auto r(Razlomak::NadjiNajmanjiZajednicki(p1.nazivnik, p2.nazivnik));
        long long int br(p1.brojnik*int(p2.nazivnik/r) - p2.brojnik*int(p1.nazivnik/r)), naz(p1.nazivnik*int(p2.nazivnik/r));
        Razlomak PomRazlomak(br, naz);
        return  PomRazlomak;
    }
    
    Razlomak operator +(const Razlomak &amp;p1, const Razlomak &amp;p2){
        auto r(Razlomak::NadjiNajmanjiZajednicki(p1.nazivnik, p2.nazivnik));
        long long int br(p1.brojnik*int(p2.nazivnik/r) + p2.brojnik*int(p1.nazivnik/r)), naz(p1.nazivnik*int(p2.nazivnik/r));
        Razlomak PomRazlomak(br, naz);
        return  PomRazlomak;
    }

    Razlomak &amp;operator +=(Razlomak &amp;p, const Razlomak &amp;q){ p=p+q; return p; }
    Razlomak &amp;operator -=(Razlomak &amp;p, const Razlomak &amp;q){ p=p-q; return p; }
    Razlomak &amp;operator *=(Razlomak &amp;p, const Razlomak &amp;q){ p=p*q; return p; }
    Razlomak &amp;operator /=(Razlomak &amp;p, const Razlomak &amp;q){ p=p*q; return p; }
    
    
    bool operator == (const Razlomak &amp;p, const Razlomak &amp;q){
        return (long double) p.brojnik/p.nazivnik == (long double) q.brojnik/q.nazivnik;
    }
    
    bool operator !=(const Razlomak &amp;p, const Razlomak &amp;q){
        return !(p==q);
    }
    
    bool operator &lt;(const Razlomak &amp;p, const Razlomak &amp;q){
        return (long double) p.brojnik/p.nazivnik &lt; (long double) q.brojnik/q.nazivnik;        
    }
    
    bool operator &gt;(const Razlomak &amp;p, const Razlomak &amp;q){
         return (long double) p.brojnik/p.nazivnik &gt; (long double) q.brojnik/q.nazivnik;       
    }
    
    bool operator &lt;=(const Razlomak &amp;p, const Razlomak &amp;q){
         return (long double) p.brojnik/p.nazivnik &lt;= (long double) q.brojnik/q.nazivnik;       
    }
    
    bool operator &gt;=(const Razlomak &amp;p, const Razlomak &amp;q){
         return (long double) p.brojnik/p.nazivnik &gt;= (long double) q.brojnik/q.nazivnik;       
    }   
    
    std::ostream &amp;operator &lt;&lt;(std::ostream &amp;tok, const Razlomak &amp;p){
        if(p.nazivnik==1) return tok&lt;&lt;p.brojnik;
        return tok&lt;&lt;p.brojnik&lt;&lt;"/"&lt;&lt;p.nazivnik;
    }
    
    std::istream &amp;operator &gt;&gt;(std::istream &amp;tok, Razlomak &amp;p){
        char znak;
        tok&gt;&gt;p.brojnik;
        if(tok.peek()!= '/'){
            p.nazivnik=1;
        }
        else{
            tok&gt;&gt;znak&gt;&gt;p.nazivnik;
            if(!p.brojnik || !p.nazivnik) tok.setstate(std::ios::failbit);
        }
    }
    
    Razlomak::operator long double() const{ return (long double) brojnik/nazivnik; }
    
int main ()
{
    Razlomak r(2337, 3740), q (4014, 5225);
    std::cout &lt;&lt; r &lt;&lt; " + " &lt;&lt; q &lt;&lt; " = " &lt;&lt; r + q;
</font>	
	return 0;
}</pre>
</body>
</html>
