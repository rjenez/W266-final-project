<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z5/Z3/student4628.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z5/Z3/student4628.cpp<p></p><pre>
/B16/17 (ZadaÄ‡a 5, Zadatak 3)
//Autotestovi by Enil Pajic (mail: epajic1@etf.unsa.ba)
//Za autotestove se obracati *iskljucivo* osobi koja ih pise
#include &lt;iostream&gt;
#include &lt;stdexcept&gt;
#include &lt;limits&gt;

long long int M = std::numeric_limits&lt;long long int&gt;::max();
long long int m = std::numeric_limits&lt;long long int&gt;::min();

class Razlomak {
    long long int brojnik;
    long long int nazivnik;
    static int NZD (long long int p, long long int q) {
        while(q != 0) {
            long long int tmp(p);
            p = q;
            q = tmp % q;
        }
        return p;
    }
public:
    Razlomak(long long int b, long long int n) {
        if(n == 0) throw std::logic_error ("Nekorektan razlomak");
        if(n &lt; 0 &amp;&amp; b &gt; 0) n *= -1, b *= -1;
        if(n &lt; 0 &amp;&amp; b &lt; 0) n *= -1, b *= -1;
        long long int nzd = NZD(b, n);
        n /= nzd; b /= nzd;
        brojnik = b;
        nazivnik = n;
    }
    
    Razlomak(long long int b) { brojnik = b; nazivnik = 1; }
    Razlomak() { brojnik = 0; nazivnik = 1; }
    long long int DajBrojnik() const{ return brojnik; }
    long long int DajNazivnik() const{ return nazivnik; }
    operator long double() const;
    friend Razlomak operator +(const Razlomak &amp;z1, const Razlomak &amp;z2);         //URADI PREKORACENJE!!!
    friend Razlomak operator -(const Razlomak &amp;z1, const Razlomak &amp;z2);
    friend Razlomak operator *(const Razlomak &amp;z1, const Razlomak &amp;z2);
    friend Razlomak operator /(const Razlomak &amp;z1, const Razlomak &amp;z2);
    friend Razlomak &amp;operator -(Razlomak &amp;z);
    friend Razlomak &amp;operator +(Razlomak &amp;z);
    friend Razlomak operator +=(const Razlomak &amp;z1, const Razlomak &amp;z2);        
    friend Razlomak operator -=(const Razlomak &amp;z1, const Razlomak &amp;z2);
    friend Razlomak operator *=(const Razlomak &amp;z1, const Razlomak &amp;z2);
<a name="0"></a><font color="#FF0000"><a href="match614-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_4.gif"/></a>

    friend Razlomak operator /=(const Razlomak &amp;z1, const Razlomak &amp;z2);
    friend Razlomak &amp;operator ++(Razlomak &amp;z);
    friend Razlomak operator ++(Razlomak &amp;z, int);
    friend Razlomak &amp;operator --(Razlomak &amp;z);
    friend Razlomak operator --(Razlomak &amp;z, int);
    friend bool operator &lt;(const Razlomak &amp;z1, const Razlomak &amp;z2);
    friend bool operator &lt;=(const Razlomak &amp;z1, const Razlomak &amp;z2);
</font>    friend bool operator &gt;(const Razlomak &amp;z1, const Razlomak &amp;z2);
    friend bool operator &gt;=(const Razlomak &amp;z1, const Razlomak &amp;z2);
    friend bool operator ==(const Razlomak &amp;z1, const Razlomak &amp;z2);
    friend bool operator !=(const Razlomak &amp;z1, const Razlomak &amp;z2);
    friend std::ostream &amp;operator &lt;&lt;(std::ostream &amp;tok, const Razlomak &amp;z);
    friend std::istream &amp;operator &gt;&gt;(std::istream &amp;tok, Razlomak &amp;z);
}; 
Razlomak::operator long double() const {
<a name="5"></a><font color="#FF0000"><a href="match614-1.html#5" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_1.gif"/></a>

    return (long double)brojnik / nazivnik;
}
Razlomak operator +(const Razlomak &amp;z1, const Razlomak &amp;z2) {
    long long int r = Razlomak::NZD(z1.nazivnik, z2.nazivnik);
</font>    long long int n = z1.nazivnik * int(z2.nazivnik / r);
    long long int b = z1.brojnik * int(z2.nazivnik / r) + z2.brojnik * int(z1.nazivnik / r);
<a name="4"></a><font color="#FF00FF"><a href="match614-1.html#4" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_2.gif"/></a>

    Razlomak z3(b, n);
    return z3;
}
Razlomak operator -(const Razlomak &amp;z1, const Razlomak &amp;z2) {
    long long int r = Razlomak::NZD(z1.nazivnik, z2.nazivnik);
</font>    long long int n = z1.nazivnik * int(z2.nazivnik / r);
    long long int b = z1.brojnik * int(z2.nazivnik / r) - z2.brojnik * int(z1.nazivnik / r);
<a name="3"></a><font color="#00FFFF"><a href="match614-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_2.gif"/></a>

    Razlomak z3(b, n);
    return z3;
}
Razlomak operator *(const Razlomak &amp;z1, const Razlomak &amp;z2) {
    long long int s = Razlomak::NZD(z1.brojnik, z2.nazivnik);
</font>    long long int t = Razlomak::NZD(z2.brojnik, z1.nazivnik);
    long long int b = int(z1.brojnik / s) * int(z2.brojnik / t);
<a name="2"></a><font color="#0000FF"><a href="match614-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_2.gif"/></a>

    long long int n = int(z1.nazivnik / t) * int(z2.nazivnik / s);
    Razlomak z3(b, n);
    return z3;
}
Razlomak operator /(const Razlomak &amp;z1, const Razlomak &amp;z2) {
    long long int u = Razlomak::NZD(z1.brojnik, z2.brojnik);
</font>    long long int r = Razlomak::NZD(z1.nazivnik, z2.nazivnik);
    long long int b = int(z1.brojnik / u) * int(z2.nazivnik / r);
    long long int n = int(z1.nazivnik / r) * int(z2.brojnik / u);
    Razlomak z3(b, n);
    return z3;
}
Razlomak &amp;operator -(Razlomak &amp;z) {
    z.brojnik *= -1;
    return z;
}
Razlomak &amp;operator +(Razlomak &amp;z) { return z; }
Razlomak operator +=(const Razlomak &amp;z1, const Razlomak &amp;z2) {
    return z1 + z2;
}
Razlomak operator -=(const Razlomak &amp;z1, const Razlomak &amp;z2) {
    return z1 - z2;
}
Razlomak operator *=(const Razlomak &amp;z1, const Razlomak &amp;z2) {
    return z1 * z2;
}
Razlomak operator /=(const Razlomak &amp;z1, const Razlomak &amp;z2) {
    return z1 / z2;
}
Razlomak &amp;operator ++(Razlomak &amp;z) {
    z += 1;
    return z;
}
Razlomak operator ++(Razlomak &amp;z, int){
    Razlomak tmp(z);
    z += 1;
    return tmp;
}
Razlomak &amp;operator --(Razlomak &amp;z) {
    z -= 1;
    return z;
}
Razlomak operator --(Razlomak &amp;z, int){
    Razlomak tmp(z);
    z -= 1;
    return tmp;
}
bool operator &lt;(const Razlomak &amp;z1, const Razlomak &amp;z2) {
    long double p = (long double)z1.brojnik / z1.nazivnik;
    long double q = (long double)z2.brojnik / z2.nazivnik;
    return p &lt; q;
}
bool operator &gt;(const Razlomak &amp;z1, const Razlomak &amp;z2) {
    long double p = (long double) z1.brojnik / z1.nazivnik;
    long double q = (long double) z2.brojnik / z2.nazivnik;
    return p &gt; q;
}
bool operator &lt;=(const Razlomak &amp;z1, const Razlomak &amp;z2) {
    long double p = (long double) z1.brojnik / z1.nazivnik;
    long double q = (long double) z2.brojnik / z2.nazivnik;
    return p &lt;= q;
}
bool operator &gt;=(const Razlomak &amp;z1, const Razlomak &amp;z2) {
    long double p = (long double) z1.brojnik / z1.nazivnik;
    long double q = (long double) z2.brojnik / z2.nazivnik;
    return p &gt;= q;
}
bool operator ==(const Razlomak &amp;z1, const Razlomak &amp;z2) {
    long double p = (long double) z1.brojnik / z1.nazivnik;
    long double q = (long double) z2.brojnik / z2.nazivnik;
    return p == q;
}
bool operator !=(const Razlomak &amp;z1, const Razlomak &amp;z2) {
    long double p = (long double) z1.brojnik / z1.nazivnik;
    long double q = (long double) z2.brojnik / z2.nazivnik;
    return p != q;
}
std::ostream &amp;operator &lt;&lt;(std::ostream &amp;tok, const Razlomak &amp;z) {
    long long int nzd = Razlomak::NZD(z.brojnik, z.nazivnik);
    Razlomak z1(z);
    z1.brojnik /= nzd; z1.nazivnik /= nzd;
    if(z1.nazivnik == 1) return tok &lt;&lt; z1.brojnik;
<a name="1"></a><font color="#00FF00"><a href="match614-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_2.gif"/></a>

    return tok &lt;&lt; z1.brojnik &lt;&lt; "/" &lt;&lt; z1.nazivnik;
}
std::istream &amp;operator &gt;&gt;(std::istream &amp;tok, Razlomak &amp;z) {
    char znak;
    tok &gt;&gt; std::ws;
    tok &gt;&gt; z.brojnik;
</font>    if(tok.peek() != '/') z.nazivnik = 1;
    else { 
        tok &gt;&gt; znak &gt;&gt; z.nazivnik;
        if(znak != '/') tok.setstate(std::ios::failbit);
        tok.clear();
        //if(tok.peek() != ' ' || tok.peek() != '\n' || tok.peek() != '\t' || tok.peek() != '\v' || tok.peek() != '\f') tok.setstate(std::ios::failbit);
    }
    return tok;
}

int main ()
{
	return 0;
}</pre>
</body>
</html>
