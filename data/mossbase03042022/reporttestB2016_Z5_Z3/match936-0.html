<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z5/Z3/student7755.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z5/Z3/student7755.cpp<p></p><pre>
<a name="5"></a><font color="#FF0000"><a href="match936-1.html#5" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_2.gif"/></a>

/B16/17 (ZadaÄ‡a 5, Zadatak 3)
//Autotestovi by Enil Pajic (mail: epajic1@etf.unsa.ba)
//Za autotestove se obracati *iskljucivo* osobi koja ih pise
#include &lt;iostream&gt;
#include &lt;stdexcept&gt;
#include &lt;sstream&gt;
class Razlomak {
    long long int brojnik;
    long long int nazivnik;
    static int nzd(long long int p, long long int q) {
</font><a name="1"></a><font color="#00FF00"><a href="match936-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_3.gif"/></a>

        if(q==0) return p;
        p=p%q;
        return nzd(q,p);
    }
    public:
    Razlomak(long long int b, long long int n);
</font>    Razlomak () { brojnik=0; nazivnik=1; }
    Razlomak(long long int x) { brojnik=x; nazivnik=1; }
    long long int DajBrojnik() const { return brojnik; }
    long long int DajNazivnik() const { return nazivnik; }
    friend std::ostream &amp;operator &lt;&lt;(std::ostream &amp;tok,const Razlomak &amp;r);
    friend std::istream &amp;operator&gt;&gt; (std::istream &amp;tok,Razlomak &amp;r);
    friend Razlomak operator+ (const Razlomak &amp;r1,const Razlomak &amp;r2);
    friend Razlomak operator- (const Razlomak &amp;r1, const Razlomak &amp;r2);
    friend Razlomak operator* (const Razlomak &amp;r1,const Razlomak &amp;r2);
    friend Razlomak operator/ (const Razlomak &amp;r1,const Razlomak &amp;r2);
    Razlomak operator-() const { return {-brojnik,-nazivnik}; }
    friend Razlomak operator +(const Razlomak &amp;r);
    Razlomak &amp;operator+= (const Razlomak &amp;r);
    Razlomak &amp;operator-= (const Razlomak &amp;r);
    Razlomak &amp;operator*= (const Razlomak &amp;r);
    //friend Razlomak &amp;operator/= (const Razlomak &amp;r);
    friend Razlomak &amp;operator++ (Razlomak &amp;r);
    //Razlomak operator++ (Razlomak &amp;r);
    
};

Razlomak::Razlomak(long long int b, long long int n) {
    if(n==0) {
        throw std::logic_error("Nekorektan razlomak");
    }
    if(n&lt;0) {
        b=b*(-1);
    }
    if(b&lt;0 &amp;&amp; n&lt;0) {
        b*=(-1);
        n*=(-1);
    }
    b=b/nzd(b,n);
    n=n/nzd(b,n);
    brojnik=b;
    nazivnik=n;
}
std::ostream &amp;operator &lt;&lt;(std::ostream &amp;tok,const Razlomak &amp;r) {
        if(r.nazivnik==1) {
            tok&lt;&lt;r.brojnik;
            return tok;
        }
        
        tok&lt;&lt;r.brojnik&lt;&lt;"/"&lt;&lt;r.nazivnik;
        return tok;
    }
std::istream &amp;operator &gt;&gt;(std::istream &amp;tok, Razlomak &amp;r) {
    char znak;
    tok&gt;&gt;r.brojnik&gt;&gt;znak&gt;&gt;r.nazivnik;
    if(znak=='\n' || znak=='\r') {
        r.nazivnik=1;
        return tok;
    }
    if(znak!='/' || znak!=' ') {
        tok.setstate(std::ios::failbit);
    }
 int n=Razlomak::nzd(r.brojnik,r.nazivnik);
    r.brojnik/=n;
    r.nazivnik/=n;
 


  return tok;
  
}
Razlomak operator+ (const Razlomak &amp;r1,const Razlomak &amp;r2) {
    Razlomak r3;
<a name="2"></a><font color="#0000FF"><a href="match936-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_3.gif"/></a>

    int r=Razlomak::nzd(r1.nazivnik,r2.nazivnik);
    r3.brojnik=r1.brojnik*(r2.nazivnik/r)+r2.brojnik*(r1.nazivnik/r);
    r3.nazivnik=r1.nazivnik*(r2.nazivnik/r);
</font>    int n=Razlomak::nzd(r3.brojnik,r3.nazivnik);
    r3.brojnik/=n;
    r3.nazivnik/=n;
    return r3;
}
Razlomak operator- (const Razlomak &amp;r1,const Razlomak &amp;r2) {
    Razlomak r3;
<a name="0"></a><font color="#FF0000"><a href="match936-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_4.gif"/></a>

    int r=Razlomak::nzd(r1.nazivnik,r2.nazivnik);
    r3.brojnik=r1.brojnik*(r2.nazivnik/r)-r2.brojnik*(r1.nazivnik/r);
    r3.nazivnik=r1.nazivnik*(r2.nazivnik/r);
</font>    int n=Razlomak::nzd(r3.brojnik,r3.nazivnik);
    r3.brojnik/=n;
    r3.nazivnik/=n;
    return r3;
} 
Razlomak operator* (const Razlomak &amp;r1, const Razlomak &amp;r2) {
    Razlomak r3;
    int s=Razlomak::nzd(r1.brojnik,r2.nazivnik);
<a name="3"></a><font color="#00FFFF"><a href="match936-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_2.gif"/></a>

    int t=Razlomak::nzd(r2.brojnik,r1.nazivnik);
    r3.brojnik=(r1.brojnik/s)*(r2.brojnik/t);
    r3.nazivnik=(r1.nazivnik/t)*(r2.nazivnik/s);
</font>    int n=Razlomak::nzd(r3.brojnik,r3.nazivnik);
    r3.brojnik/=n;
    r3.nazivnik/=n;
    return r3;
    
}
Razlomak operator/ (const Razlomak &amp;r1, const Razlomak &amp;r2) {
    Razlomak r3;
    int r=Razlomak::nzd(r1.nazivnik,r2.nazivnik);
<a name="4"></a><font color="#FF00FF"><a href="match936-1.html#4" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_2.gif"/></a>

    int u=Razlomak::nzd(r1.brojnik,r2.brojnik);
    r3.brojnik=(r1.brojnik/u)*(r2.nazivnik/r);
    r3.nazivnik=(r1.nazivnik/r)*(r2.brojnik/u);
</font>    int n=Razlomak::nzd(r3.brojnik,r3.nazivnik);
    r3.brojnik/=n;
    r3.nazivnik/=n;
    return r3;
}
Razlomak operator +(const Razlomak &amp;r)  {
     Razlomak r1(r);
     +r.brojnik; 
     +r.nazivnik;
     return r1;
}
Razlomak &amp;Razlomak::operator+= (const Razlomak &amp;r) {
    brojnik+=r.brojnik;
    nazivnik+=r.nazivnik;
    return *this;
}
Razlomak &amp;Razlomak::operator-= (const Razlomak &amp;r) {
    brojnik-=r.brojnik;
    nazivnik-=r.nazivnik;
    return *this;
}
Razlomak &amp;Razlomak::operator*= (const Razlomak &amp;r) {
    brojnik*=r.brojnik;
    nazivnik*=r.nazivnik;
    return *this;
}
/*Razlomak &amp;Razlomak::operator/= (const Razlomak &amp;r) {
    brojnik/=r.brojnik;
    nazivnik/=r.nazivnik;
    return *this;
}*/
Razlomak &amp;operator++ (Razlomak &amp;r) {  //prefiksni
    r.brojnik++;
    r.nazivnik++;
    return r;
}
/*Razlomak operator++ (Razlomak &amp;r, int) {
    Razlomak pomocni(r);
    r.brojnik++;
    r.nazivnik++;
    return pomocni;
}*/

int main ()
{
      Razlomak r, p, q;
        std::cin &gt;&gt; r; //5/17
        std::cout &lt;&lt; r &lt;&lt; std::endl;
        std::cin.clear(); std::cin.ignore (100, '\n');
        //tri zaredom
        std::cin &gt;&gt; r &gt;&gt; p &gt;&gt; q; //10 20 30 -&gt; 10/1 20/1 30/1
        std::cout &lt;&lt; r &lt;&lt; " " &lt;&lt; p &lt;&lt; " " &lt;&lt; q &lt;&lt; std::endl;
        std::cin.clear(); std::cin.ignore (100, '\n');
        std::cin &gt;&gt; r;
        std::cout &lt;&lt; r;
    
	return 0;
}</pre>
</body>
</html>
