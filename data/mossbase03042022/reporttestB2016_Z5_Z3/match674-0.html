<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z5/Z3/student1390.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z5/Z3/student1390.cpp<p></p><pre>
/B16/17 (ZadaÄ‡a 5, Zadatak 3)
//Autotestovi by Enil Pajic (mail: epajic1@etf.unsa.ba)
//Za autotestove se obracati *iskljucivo* osobi koja ih pise
#include &lt;iostream&gt;
#include &lt;stdexcept&gt;


class Razlomak{
  long long int brojnik,nazivnik;
  static long long int NZD(long long int a, long long int b){
  while(b!=0){
    if(b==0)return a;
    if(a&gt;b)a-=b;
    else b-=a;
  }
  return a;
}
  public:
  Razlomak(){brojnik=0; nazivnik=1;}
  Razlomak(long long int broj){brojnik=broj; nazivnik=1;}
  Razlomak(long long int br,long long int naz);
  long long int DajBrojnik() const{return brojnik;}
  long long int DajNazivnik() const{return nazivnik;}
  friend Razlomak operator +(const Razlomak &amp;r1){return r1;}
  friend Razlomak operator -(const Razlomak &amp;r1){return {-r1.brojnik, -r1.nazivnik};}
  friend Razlomak operator +(const Razlomak &amp;r1, const Razlomak &amp;r2){
<a name="1"></a><font color="#00FF00"><a href="match674-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_2.gif"/></a>

    long long int r=NZD(r1.nazivnik,r2.nazivnik);
    Razlomak a;
    a.brojnik=(r1.brojnik*(r2.nazivnik/r)+r2.brojnik*(r1.nazivnik/r));
</font>    a.nazivnik=(r1.nazivnik*(r2.nazivnik/r));
    long long int broj=NZD(a.brojnik,a.nazivnik);
    a.brojnik/=broj;
    a.nazivnik/=broj;
    return a;
  }
  friend Razlomak operator -(const Razlomak &amp;r1, const Razlomak &amp;r2){
      long long int r=NZD(r1.nazivnik,r2.nazivnik);
<a name="0"></a><font color="#FF0000"><a href="match674-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_3.gif"/></a>

     Razlomak a;
    a.brojnik=(r1.brojnik*(r2.nazivnik/r)-r2.brojnik*(r1.nazivnik/r));
    a.nazivnik=(r1.nazivnik*(r2.nazivnik/r));
    long long int broj=NZD(a.brojnik,a.nazivnik);
</font>    a.brojnik/=broj;
    a.nazivnik/=broj;
    return a;
  }
  friend Razlomak operator *(const Razlomak &amp;r1, const Razlomak &amp;r2){
    long long int s=NZD(r1.brojnik,r2.nazivnik);
<a name="2"></a><font color="#0000FF"><a href="match674-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_2.gif"/></a>

    long long int t=NZD(r2.brojnik,r1.nazivnik);
    Razlomak a;
    a.brojnik=((r1.brojnik/s)*(r2.brojnik/t));
    a.nazivnik=((r1.nazivnik/t)*(r2.nazivnik/s));
</font>    long long int broj=NZD(a.brojnik,a.nazivnik);
    a.brojnik/=broj;
    a.nazivnik/=broj;
    return a;
  }
  friend Razlomak operator /(const Razlomak &amp;r1, const Razlomak &amp;r2){
    long long int u=NZD(r1.brojnik,r2.brojnik);
<a name="3"></a><font color="#00FFFF"><a href="match674-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_2.gif"/></a>

    long long int r=NZD(r1.nazivnik,r2.nazivnik);
    Razlomak a;
    a.brojnik=((r1.brojnik/u)*(r2.nazivnik/r));
    a.nazivnik=((r1.nazivnik/r)*(r2.brojnik/u));
</font>    long long int broj=NZD(a.brojnik,a.nazivnik);
    a.brojnik/=broj;
    a.nazivnik/=broj;
    return a;
  }
  friend Razlomak operator ++(const Razlomak &amp;r1){return {r1.brojnik+1,r1.nazivnik+1};}
  friend Razlomak operator --(const Razlomak &amp;r1){return {r1.brojnik-1,r1.nazivnik-1};}
  friend std::ostream &amp;operator &lt;&lt;(std::ostream &amp;tok, const Razlomak &amp;r1){
    if(r1.brojnik&gt;0 &amp;&amp; r1.nazivnik==1)return tok&lt;&lt;r1.brojnik;
    if(r1.brojnik==0)return tok&lt;&lt;r1.brojnik;
    if(r1.brojnik&gt;0 &amp;&amp; r1.nazivnik&gt;0)return tok&lt;&lt;r1.brojnik&lt;&lt;"/"&lt;&lt;r1.nazivnik;
  }
<a name="4"></a><font color="#FF00FF"><a href="match674-1.html#4" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_2.gif"/></a>

  friend bool operator &gt;(const Razlomak &amp;r1, const Razlomak &amp;r2){
    long double prvi=r1.brojnik/r1.nazivnik;
    long double drugi=r2.brojnik/r2.nazivnik;
</font>    if(prvi&gt;drugi)return true;
    else return false;
  }
<a name="5"></a><font color="#FF0000"><a href="match674-1.html#5" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_2.gif"/></a>

  friend bool operator &lt;(const Razlomak &amp;r1, const Razlomak &amp;r2){
    long double prvi=r1.brojnik/r1.nazivnik;
    long double drugi=r2.brojnik/r2.nazivnik;
</font>    if(prvi&lt;drugi)return true;
    else return false;
  }
<a name="6"></a><font color="#00FF00"><a href="match674-1.html#6" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_2.gif"/></a>

  friend bool operator &gt;=(const Razlomak &amp;r1, const Razlomak &amp;r2){
    long double prvi=r1.brojnik/r1.nazivnik;
    long double drugi=r2.brojnik/r2.nazivnik;
</font>    if(prvi&gt;=drugi)return true;
    else return false;
  }
<a name="7"></a><font color="#0000FF"><a href="match674-1.html#7" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_2.gif"/></a>

  friend bool operator &lt;=(const Razlomak &amp;r1, const Razlomak &amp;r2){
    long double prvi=r1.brojnik/r1.nazivnik;
    long double drugi=r2.brojnik/r2.nazivnik;
</font>    if(prvi&lt;=drugi)return true;
    else return false;
  }
  friend bool operator ==(const Razlomak &amp;r1, const Razlomak &amp;r2){
    if(r1.brojnik==r2.brojnik &amp;&amp; r1.nazivnik==r2.nazivnik)return true;
    else return false;
  }
  friend bool operator !=(const Razlomak &amp;r1, const Razlomak &amp;r2){
    if(!(r1.brojnik==r2.brojnik &amp;&amp; r1.nazivnik==r2.nazivnik))return true;
    else return false;
  }
  friend std::istream &amp;operator &gt;&gt;(std::istream &amp;tok, Razlomak &amp;r1);
  //friend Razlomak operator ++(const Razlomak &amp;r1, const Razlomak &amp;r2);

};
Razlomak::Razlomak (long long int br,long long int naz){
    long long int broj=NZD(br,naz);
    if(naz==0)throw std::logic_error("Nekorektan razlomak");
    if(naz&lt;0 &amp;&amp; br&lt;0){brojnik=(br*-1); nazivnik=(naz*-1);}
    if(naz&lt;0 &amp;&amp; br&gt;0){brojnik=(br*-1);nazivnik=(naz*-1);}
    else {
     br/=broj;
     naz/=broj;
     brojnik=br;
     nazivnik=naz;
    }
}
 std::istream &amp;operator &gt;&gt;(std::istream &amp;tok, Razlomak &amp;r1){
    char znak;
    tok&gt;&gt;std::ws;
    long long int a;
    long long int b;
    tok&gt;&gt;a;
    if(tok.peek()!='/'){
      r1.brojnik=a;
      r1.nazivnik=1;
      return tok;
    }
    tok&gt;&gt;znak;
    if(znak!='/')tok.setstate(std::ios::failbit);
    tok&gt;&gt;b;
      if(Razlomak::NZD(a,b)==1){
        r1.brojnik=a;
        r1.nazivnik=b;
        return tok;
        
      }
    else{
      r1.brojnik= a/(Razlomak::NZD(a,b));
      r1.nazivnik=b/(Razlomak::NZD(a,b));
      return tok;
    }
 }


int main ()
{
	return 0;
}</pre>
</body>
</html>
