<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z5/Z3/student6419.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z5/Z3/student4554.cpp<p></p><pre>
/B16/17 (ZadaÄ‡a 5, Zadatak 3)
//Autotestovi by Enil Pajic (mail: epajic1@etf.unsa.ba)
//Za autotestove se obracati *iskljucivo* osobi koja ih pise
#include &lt;iostream&gt;
#include &lt;stdexcept&gt;
#include &lt;limits&gt;
#include &lt;cmath&gt;
#include &lt;cctype&gt;

using namespace std;
class Razlomak{
  long long int brojnik, nazivnik;
  static int nzd(long long int a, long long int b){
      int n;
      for(int i=1; i&lt;=a &amp;&amp; i&lt;=b; i++){
          if(a%i==0 &amp;&amp; b%i==0){
              n=i;
          }
      }
      return n;
  }
  static bool sabiranje(long long int x,long long int y){
      if(y&gt;0 &amp;&amp; x&gt;numeric_limits&lt;long long int&gt;::max()-y) return true;
      else if(y&lt;0 &amp;&amp; x&lt;numeric_limits&lt;long long int&gt;::min()-y) return true;
      else return false;
  }
  static bool mnozenje(long long int x, long long int y){
      if(y&gt;0 &amp;&amp; (x&lt;(numeric_limits&lt;long long int&gt;::min()/y) || x&gt;numeric_limits&lt;long long int&gt;::max()/y)) return true;
      else if(y&lt;0 &amp;&amp; (x&lt;numeric_limits&lt;long long int&gt;::max()/y || x&gt;numeric_limits&lt;long long int&gt;::min()/y)) return true;
      else return false;
  }
  static bool oduzmise(long long int x, long long int y){
      if((y&lt;0 &amp;&amp; x&gt;numeric_limits&lt;long long int&gt;::max()+y) || (y&gt;=0 &amp;&amp; x&lt;numeric_limits&lt;long long int&gt;::min()+y)) return true;
      else return false;
  }
  static long double DijeliPls(long long int a, long long int b){
      long double c,d,n;
      c=a;
      d=b;
      n=c/d;
      return n;
  }
  public:
  Razlomak(long long int brojnik=0, long long int nazivnik=1){
      if(nazivnik==0) throw logic_error("Nekorektan razlomak");
      if(brojnik&lt;0 &amp;&amp; nazivnik&lt;0) {
          brojnik*=-1; 
          nazivnik*=-1;
      
      }
      if(brojnik&gt;0 &amp;&amp; nazivnik&lt;0){
          if(brojnik==numeric_limits&lt;long long int&gt;::min()) throw overflow_error("Nekorektan razlomak");
          else {
              brojnik*=-1;
              nazivnik*=-1;
      }
      }
      if(brojnik&gt;1 &amp;&amp; nazivnik&gt;1){
          int a=nzd(brojnik, nazivnik);
          if(brojnik%a==0 &amp;&amp; nazivnik%a==0){
              brojnik/=a;
              nazivnik/=a;
          }
      }
      Razlomak::brojnik=brojnik;
      Razlomak::nazivnik=nazivnik;
  }
  int DajBrojnik() const{
      return brojnik;
  }
  int DajNazivnik() const{
      return nazivnik;
  }
  
  friend Razlomak operator+(const Razlomak &amp;r1, const Razlomak &amp;r2);
  friend Razlomak operator-(const Razlomak &amp;r1, const Razlomak &amp;r2);
  friend Razlomak operator*(const Razlomak &amp;r1, const Razlomak &amp;r2);
  friend Razlomak operator/(const Razlomak &amp;r1, const Razlomak &amp;r2);
  friend Razlomak operator-(const Razlomak &amp;r){ r.brojnik*(-1); r.nazivnik*(-1); return r;}
<a name="6"></a><font color="#00FF00"><a href="match473-0.html#6" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_1.gif"/></a>

  friend Razlomak operator+(const Razlomak &amp;r){return r;}
  friend Razlomak &amp;operator+=(Razlomak &amp;r1, const Razlomak &amp;r2);
  friend Razlomak &amp;operator-=(Razlomak &amp;r1, const Razlomak &amp;r2);
</font>  friend Razlomak &amp;operator*=(Razlomak &amp;r1, const Razlomak &amp;r2);
<a name="2"></a><font color="#0000FF"><a href="match473-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_1.gif"/></a>

  friend Razlomak &amp;operator/=(Razlomak &amp;r1, const Razlomak &amp;r2);
  friend Razlomak &amp;operator++(Razlomak &amp;r1);
  friend Razlomak &amp;operator--(Razlomak &amp;r1);
  friend Razlomak operator++(Razlomak &amp;r1,int);
  friend Razlomak operator--(Razlomak &amp;r1,int);
</font><a name="3"></a><font color="#00FFFF"><a href="match473-0.html#3" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_1.gif"/></a>

  friend bool operator==(const Razlomak &amp;r1, const Razlomak &amp;r2);
  friend bool operator!=(const Razlomak &amp;r1, const Razlomak &amp;r2);
  friend bool operator&lt;(const Razlomak &amp;r1, const Razlomak &amp;r2);
  friend bool operator&gt;(const Razlomak &amp;r1, const Razlomak &amp;r2);
</font>  friend bool operator&lt;=(const Razlomak &amp;r1, const Razlomak &amp;r2);
  friend bool operator&gt;=(const Razlomak &amp;r1, const Razlomak &amp;r2);
  friend ostream &amp;operator&lt;&lt;(ostream &amp;tok, const Razlomak &amp;r1);
  friend istream &amp;operator&gt;&gt;(istream &amp;tok, const Razlomak &amp;r1);
   operator long double() const {
      long double jojneznam;
      jojneznam = ((static_cast&lt;long double&gt;(brojnik))/(nazivnik));
      return jojneznam;
  }
};
Razlomak operator+(const Razlomak &amp;r1, const Razlomak &amp;r2){
    if(Razlomak::sabiranje(r1.DajBrojnik(), r1.DajNazivnik()) || Razlomak::sabiranje(r2.DajBrojnik(), r2.DajNazivnik())) throw overflow_error("Nemoguce dobiti tacan rezultat");
    int r;
    long long int a,b;
<a name="1"></a><font color="#00FF00"><a href="match473-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_1.gif"/></a>

    r=Razlomak::nzd(r1.DajNazivnik(), r2.DajNazivnik());
    a=r1.DajBrojnik()*(r2.DajNazivnik()/r)+r2.DajBrojnik()*(r1.DajNazivnik()/r);
    b=r1.DajNazivnik()*(r2.DajNazivnik()/r);
    Razlomak raza(a,b);
</font>    return raza;
}
Razlomak operator-(const Razlomak &amp;r1, const Razlomak &amp;r2){
    if(Razlomak::oduzmise(r1.DajBrojnik(), r1.DajNazivnik()) || Razlomak::oduzmise(r2.DajBrojnik(), r2.DajNazivnik())) throw overflow_error("Nemoguce dobiti tacan rezultat");
    int r;
    long long int a,b;
<a name="0"></a><font color="#FF0000"><a href="match473-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_1.gif"/></a>

    r=Razlomak::nzd(r1.DajNazivnik(), r2.DajNazivnik());
    a=r1.DajBrojnik()*(r2.DajNazivnik()/r)-r2.DajBrojnik()*(r1.DajNazivnik()/r);
    b=r1.DajNazivnik()*(r2.DajNazivnik()/r);
    Razlomak oduzmi_me(a,b);
</font>    return oduzmi_me;
    
}
Razlomak operator*(const Razlomak &amp;r1, const Razlomak &amp;r2){
    if(Razlomak::mnozenje(r1.DajBrojnik(), r1.DajNazivnik()) || Razlomak::mnozenje(r2.DajBrojnik(), r2.DajNazivnik())) throw overflow_error("Nemoguce dobiti tacan rezultat");
    int s=Razlomak::nzd(r1.DajBrojnik(),r2.DajNazivnik());
    int t=Razlomak::nzd(r2.DajBrojnik(), r1.DajNazivnik());
    long long int a, b;
    a=(r1.DajBrojnik()/s)*(r2.DajBrojnik()/t);
    b=(r1.DajNazivnik()/t)*(r2.DajNazivnik()/s);
    Razlomak pomnozi(a,b);
    return pomnozi;
}
Razlomak operator/(const Razlomak &amp;r1, const Razlomak &amp;r2){
    long long int a,b;
    int u=Razlomak::nzd(r1.brojnik,r2.brojnik);
<a name="4"></a><font color="#FF00FF"><a href="match473-0.html#4" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_1.gif"/></a>

    int r=Razlomak::nzd(r1.nazivnik, r2.nazivnik);
    a=(r1.DajBrojnik()/u)*(r2.DajNazivnik()/r);
    b=(r1.DajNazivnik()/r)*(r2.DajBrojnik()/u);
</font>    Razlomak dijeli(a,b);
    return dijeli;
}

Razlomak &amp;operator+=(Razlomak &amp;r1, const Razlomak &amp;r2){
    if(Razlomak::sabiranje(r1.DajBrojnik(), r1.DajNazivnik()) || Razlomak::sabiranje(r2.DajBrojnik(), r2.DajNazivnik())) throw overflow_error("Nemoguce dobiti tacan rezultat");
    int r;
    long long int a,b;
    r=Razlomak::nzd(r1.nazivnik, r2.nazivnik);
    a=r1.DajBrojnik()*(r2.DajNazivnik()/r)+r2.DajBrojnik()*(r1.DajNazivnik()/r);
    b=r1.DajNazivnik()*(r2.DajNazivnik()/r);
    Razlomak pomi(a,b);
    r1=pomi;
    return r1;
}
Razlomak &amp;operator-=(Razlomak &amp;r1, const Razlomak &amp;r2){
    if(Razlomak::oduzmise(r1.DajBrojnik(), r1.DajNazivnik()) || Razlomak::oduzmise(r2.DajBrojnik(), r2.DajNazivnik())) throw overflow_error("Nemoguce dobiti tacan rezultat");
    int r;
    long long int a,b;
    r=Razlomak::nzd(r1.nazivnik, r2.nazivnik);
    a=r1.DajBrojnik()*(r2.DajNazivnik()/r)-r2.DajBrojnik()*(r1.DajNazivnik()/r);
    b=r1.DajNazivnik()*(r2.DajNazivnik()/r);
    Razlomak fuj(a,b);
    r1=fuj;
    return r1;
}
Razlomak &amp;operator*=(Razlomak &amp;r1, const Razlomak &amp;r2){
    if(Razlomak::mnozenje(r1.DajBrojnik(), r1.DajNazivnik()) || Razlomak::mnozenje(r2.DajBrojnik(), r2.DajNazivnik())) throw overflow_error("Nemoguce dobiti tacan rezultat.");
    int s=Razlomak::nzd(r1.brojnik,r2.nazivnik);
    int t=Razlomak::nzd(r2.brojnik, r1.nazivnik);
    long long int a,b;
    a=(r1.DajBrojnik()/s)*(r2.DajBrojnik()/t);
    b=(r1.DajNazivnik()/t)*(r2.DajNazivnik()/s);
    Razlomak mnozi(a,b);
    r1=mnozi;
    return r1;
}
Razlomak &amp;operator/=(Razlomak &amp;r1, const Razlomak &amp;r2){
    long long int a,b;
    int u=Razlomak::nzd(r1.brojnik,r2.brojnik);
<a name="5"></a><font color="#FF0000"><a href="match473-0.html#5" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_1.gif"/></a>

    int r=Razlomak::nzd(r1.nazivnik, r2.nazivnik);
    a=(r1.DajBrojnik()/u)*(r2.DajNazivnik()/r);
    b=(r1.DajNazivnik()/r)*(r2.DajBrojnik()/u);
</font>    Razlomak mm(a,b);
    r1=mm;
    return r1;
}
Razlomak &amp;operator++(Razlomak &amp;r1){
    long long int a,b;
    a=r1.DajBrojnik()+ 1;
    b=r1.DajNazivnik()+ 1;
    Razlomak huehue(a,b);
    r1=huehue;
    return r1;
}

Razlomak &amp;operator--(Razlomak &amp;r1){
    long long int a,b;
    a=r1.DajBrojnik()- 1;
    b=r1.DajNazivnik()- 1;
    Razlomak uh(a,b);
    r1=uh;
    return r1;
}
Razlomak operator++(Razlomak &amp;r1,int){
    long long int a,b;
    a=r1.DajBrojnik()+ 1;
    b=r1.DajNazivnik()+ 1;
    Razlomak p(a,b);
    r1=p;
    return r1;
}
Razlomak operator--(Razlomak &amp;r1,int){
    long long int a,b;
    a=r1.DajBrojnik() - 1;
    b=r1.DajNazivnik()- 1;
    Razlomak pp(a,b);
    r1=pp;
    return r1;
}

bool operator==(const Razlomak &amp;r1, const Razlomak &amp;r2){
    long double rez1, rez2;
    rez1=Razlomak::DijeliPls(r1.DajBrojnik(), r1.DajNazivnik());
    rez2=Razlomak::DijeliPls(r2.DajBrojnik(), r2.DajNazivnik());
    return(rez1==rez2);
}
bool operator!=(const Razlomak &amp;r1, const Razlomak &amp;r2){
    long double rezi, rezi2;
    rezi=Razlomak::DijeliPls(r1.DajBrojnik(),r1.DajNazivnik());
    rezi2=Razlomak::DijeliPls(r2.DajBrojnik(), r2.DajNazivnik());
    return(!(rezi==rezi2));
}
bool operator&lt;(const Razlomak &amp;r1, const Razlomak &amp;r2){
    long double rezii, reziii;
    rezii=Razlomak::DijeliPls(r1.DajBrojnik(), r1.DajNazivnik());
    reziii=Razlomak::DijeliPls(r2.DajBrojnik(), r2.DajNazivnik());
    return(rezii&lt;reziii);
}
bool operator&gt;(const Razlomak &amp;r1, const Razlomak &amp;r2){
    long double raza1, raza2;
    raza1=Razlomak::DijeliPls(r1.DajBrojnik(), r1.DajNazivnik());
    raza2=Razlomak::DijeliPls(r2.DajBrojnik(), r2.DajNazivnik());
    return(raza1&gt;raza2);
}
bool operator&lt;=(const Razlomak &amp;r1, const Razlomak &amp;r2){
    long double rr, rrr;
    rr=Razlomak::DijeliPls(r1.DajBrojnik(), r1.DajNazivnik());
    rrr=Razlomak::DijeliPls(r2.DajBrojnik(), r2.DajNazivnik());
    return(rr&lt;=rrr);
}
bool operator&gt;=(const Razlomak &amp;r1, const Razlomak &amp;r2){
    long double razl, razlo;
    razl=Razlomak::DijeliPls(r1.DajBrojnik(), r1.DajNazivnik());
    razlo=Razlomak::DijeliPls(r2.DajBrojnik(), r2.DajNazivnik());
    return(razl&gt;=razlo);
}
ostream &amp;operator&lt;&lt;(ostream &amp;tok, const Razlomak &amp;r1){
    if(r1.DajNazivnik()==1){
        tok&lt;&lt;r1.DajBrojnik();
    }
    else {
        tok&lt;&lt;r1.DajBrojnik();
        tok&lt;&lt;"/";
        tok&lt;&lt;r1.DajNazivnik();
    }
    return tok;
}

istream &amp;operator&gt;&gt;(istream &amp;tok, Razlomak &amp;r1){
    char znakic;
    long long int a,b;
    tok&gt;&gt;ws;
    
    if (isdigit(tok.peek())) {
    tok&gt;&gt;a;
    }
    else {
        tok.setstate(ios::failbit);
        return tok;
    }
    
    if(tok.peek() != '/'){
        b=1;
        Razlomak novi=Razlomak(a,b);
        r1=novi;
    }
    else if (tok.peek() == '/') {
    tok&gt;&gt; znakic &gt;&gt; b;
    Razlomak novi=Razlomak(a,b);
    r1=novi;
    }
    
    if (!isblank(tok.peek())) {
        tok.setstate(ios::failbit);
    }
    return tok;
}

int main ()
{
   Razlomak r(1,2), p(3,4);
   cout&lt;&lt;r&lt;&lt;endl;
   cout&lt;&lt;p&lt;&lt;endl;
   r+=p;
   cout&lt;&lt;r&lt;&lt;endl;
   cout&lt;&lt;r+p&lt;&lt;endl;
   if(r&gt;p) cout&lt;&lt;"Razlomak r je veci od razlomka p."&lt;&lt;endl;
   else cout&lt;&lt;"Razlomak r nije veci od razlomka p."&lt;&lt;endl;
   if(r&lt;p) cout&lt;&lt;"Razlomak r je manji od razlomka p."&lt;&lt;endl;
   else cout&lt;&lt;"Razlomak r je veci od razlomka p."&lt;&lt;endl;
   if(r==p) cout&lt;&lt;"Razlomci su isti."&lt;&lt;endl;
   else cout&lt;&lt;"Razlomci su razliciti."&lt;&lt;endl;
   p*=r;
   cout&lt;&lt;p&lt;&lt;endl;
   cout&lt;&lt;p*r&lt;&lt;endl;
   if(p&gt;r) cout&lt;&lt;"Razlomak p je veci od razlomka r"&lt;&lt;endl;
   else cout&lt;&lt;"Razlomak p nije veci od razlomka r."&lt;&lt;endl;
   p/=r;
   cout&lt;&lt;p&lt;&lt;endl;
   cout&lt;&lt;p/r&lt;&lt;endl;
   

   
    return 0;
}</pre>
</body>
</html>
