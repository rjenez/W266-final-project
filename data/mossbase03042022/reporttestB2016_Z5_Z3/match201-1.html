<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z5/Z3/student7673.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z5/Z3/student4192.cpp<p></p><pre>
#include &lt;iostream&gt;
#include &lt;stdexcept&gt;
#include &lt;climits&gt;
#include &lt;cmath&gt;

using namespace std;
                                                    
class Razlomak {
    long long int brojnik,nazivnik;
    void skaliraj(){
      int i=2;
        while(i&lt;=brojnik &amp;&amp; i&lt;=nazivnik){
            
            if(brojnik%i==0 &amp;&amp; nazivnik%i==0){
                brojnik/=i; nazivnik/=i;
            }
            else i++;
        }
    }
    public:
<a name="1"></a><font color="#00FF00"><a href="match201-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_6.gif"/></a>

    Razlomak(long long int b=0,long long int n=1){
        int i=2;
        if(n==0)throw;
        while(i&lt;=b &amp;&amp; i&lt;=n){
            
            if(b%i==0 &amp;&amp; n%i==0){
                b/=i; n/=i;
            }
            else  i++;
        }
        brojnik=b;
        nazivnik=n;
    }
    
    Razlomak(initializer_list&lt;long long int&gt;  lista){
</font>        if(lista.size()==1)
            *this=Razlomak(*lista.begin(),1);
        else{
            auto it=lista.begin();
            it++;
<a name="2"></a><font color="#0000FF"><a href="match201-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_2.gif"/></a>

            *this=Razlomak(*lista.begin(),*it);
        }
    }
    long long int DajBrojnik() const { return brojnik; };
    long long int DajNazivnik() const { return nazivnik; };
    friend Razlomak operator +(Razlomak r1, const Razlomak &amp;r2){
</font>        long long int br=r1.brojnik*r2.nazivnik+r2.brojnik*r1.nazivnik;
        long long int nz=r1.nazivnik*r2.nazivnik;
        Razlomak r3(br,nz);
        r3.skaliraj();
        return r3;
    }
    friend Razlomak operator -(Razlomak r1, const Razlomak &amp;r2){
        long long int br=r1.brojnik*r2.nazivnik-r2.brojnik*r1.nazivnik;
        long long int nz=r1.nazivnik*r2.nazivnik;
        Razlomak r3(br,nz);
        r3.skaliraj();
        return r3;   
    }
    friend Razlomak operator *(Razlomak r1, const Razlomak &amp;r2){
        long long int br=r1.brojnik*r2.brojnik;
        long long int nz=r1.nazivnik*r2.nazivnik;
        Razlomak r3(br,nz);
        r3.skaliraj();
        return r3;
    }
    friend Razlomak operator /(Razlomak r1, const Razlomak &amp;r2){
        
        long long int br=r1.brojnik*r2.nazivnik;
        long long int nz=r1.nazivnik*r2.brojnik;
        Razlomak r3(br,nz);
        r3.skaliraj();
        return r3;
    }
    
    friend Razlomak operator +(const Razlomak &amp;r1){
        Razlomak r2(r1); return r2;
    }
    friend Razlomak operator -(Razlomak &amp;r1){
        Razlomak r2(-r1.brojnik,r1.nazivnik); return r2;
    }
    friend Razlomak &amp;operator +=(Razlomak &amp;r1, const Razlomak &amp;r2){
         r1=r1+r2; return r1;
    }
    friend Razlomak &amp;operator -=(Razlomak &amp;r1, const Razlomak &amp;r2){
         r1=r1-r2; return r1;
    }
    
    friend Razlomak &amp;operator *=(Razlomak &amp;r1, const Razlomak &amp;r2){
         r1=r1*r2; return r1;
    }
    friend Razlomak &amp;operator /=(Razlomak &amp;r1, const Razlomak &amp;r2){
         r1=r1/r2; return r1;
    }
    
    friend Razlomak &amp;operator ++(Razlomak &amp;r1){
            r1.brojnik+=r1.nazivnik;
            r1.skaliraj();
            return r1;
    }
    friend Razlomak &amp;operator --(Razlomak &amp;r1){
            r1.brojnik-=r1.nazivnik;
            r1.skaliraj();
            return r1;
    }
    
    friend Razlomak operator ++(Razlomak &amp;r1, int){
        Razlomak rh=r1;
        r1.brojnik+=r1.nazivnik;
         r1.skaliraj();
        return rh;
    }
    friend Razlomak operator --(Razlomak &amp;r1, int){
        Razlomak rh=r1;
        r1.brojnik-=r1.nazivnik;
          r1.skaliraj();
<a name="0"></a><font color="#FF0000"><a href="match201-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_26.gif"/></a>

        return rh;
    }
    
    friend bool operator &lt;(const Razlomak &amp;r1, const Razlomak &amp;r2){
        return r1.brojnik/r1.nazivnik &lt; r2.brojnik/r2.nazivnik;
    }
    friend bool operator &gt;(const Razlomak &amp;r1, const Razlomak &amp;r2){
         return r1.brojnik/r1.nazivnik &gt; r2.brojnik/r2.nazivnik;
    }
    friend bool operator &lt;=(const Razlomak &amp;r1, const Razlomak &amp;r2){
        return !(r1&lt;r2);
    }
    friend bool operator &gt;=(const Razlomak &amp;r1, const Razlomak &amp;r2){
        return !(r1&lt;r2);
    }
    friend bool operator ==(const Razlomak &amp;r1, const Razlomak &amp;r2){
        return !(r1&lt;r2 || r1&gt;r2);
    }
    friend bool operator !=(const Razlomak &amp;r1, const Razlomak &amp;r2){
        return (r1&lt;r2 || r1&gt;r2);
    }
    
    
    friend ostream &amp;operator &lt;&lt;(ostream &amp;tok, const Razlomak &amp;r1){
        if(r1.brojnik==0) return tok&lt;&lt;"0";
        else if(r1.nazivnik==1) return tok&lt;&lt;r1.brojnik;
        else return tok&lt;&lt;r1.brojnik&lt;&lt;"/"&lt;&lt;r1.nazivnik;
    }
    friend istream &amp;operator &gt;&gt;(istream &amp;tok,Razlomak &amp;r1){
        char znak;
        tok&gt;&gt;std::ws;
        tok&gt;&gt;r1.brojnik;
        if(tok.peek()!= '/') { r1.nazivnik=1; return tok; }
        else {
            tok&gt;&gt;znak&gt;&gt;r1.nazivnik;
        }
        if(tok.peek()!=' ' &amp;&amp; tok.peek()!='\t' &amp;&amp; tok.peek()!='\n' &amp;&amp; tok.peek()!='\v' &amp;&amp; tok.peek()!='\f') tok.setstate(ios::failbit);
</font><a name="3"></a><font color="#00FFFF"><a href="match201-0.html#3" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_2.gif"/></a>

        r1=Razlomak(r1.brojnik,r1.nazivnik);
       
        return tok;
    }
    explicit operator long double() const { 
        return (double)brojnik/nazivnik; }
    
};


int main(){
    Razlomak razlomak(17,15);
</font>    cout&lt;&lt;"Brojnik: "&lt;&lt;razlomak.DajBrojnik()&lt;&lt;",a nazivnik: "&lt;&lt;razlomak.DajNazivnik()&lt;&lt;endl;
    Razlomak r1(15,2), r2(15,2);
    Razlomak r3(r1+r2); cout&lt;&lt;r3.DajBrojnik()&lt;&lt;","&lt;&lt;r3.DajNazivnik()&lt;&lt;endl;
    r3+=r1*r2/r1; cout&lt;&lt;r3.DajBrojnik()&lt;&lt;","&lt;&lt;r3.DajNazivnik()&lt;&lt;endl;
    r3++; r3--; cout&lt;&lt;r3.DajBrojnik()&lt;&lt;","&lt;&lt;r3.DajNazivnik()&lt;&lt;endl;
    
    return 0;
}</pre>
</body>
</html>
