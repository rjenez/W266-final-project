<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z5/Z3/student5122.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z5/Z3/student7713.cpp<p></p><pre>
/B16/17 (ZadaÄ‡a 5, Zadatak 3)
//Autotestovi by Enil Pajic (mail: epajic1@etf.unsa.ba)
//Za autotestove se obracati *iskljucivo* osobi koja ih pise
#include &lt;iostream&gt;
#include &lt;stdexcept&gt;
#include &lt;cmath&gt;
#include &lt;initializer_list&gt;
#include &lt;limits&gt;
#include &lt;sstream&gt;

class Razlomak {
    long long int brojnik;
    long long int nazivnik;
    static long long int NZD(long long int a, long long int b); 
    public:
    Razlomak(long long int b, long long int n) {
        if(n==0) throw std::logic_error("Nekorektan razlomak");
        long long int najmanji = NZD(b,n);
        if(n&lt;0) {
            b*=(-1);
            n*=(-1);
        }
        if(n&lt;0 &amp;&amp; b&lt;0) {
            b*=(-1);
            n*=(-1);
        }
        brojnik = b/najmanji;
        nazivnik = n/najmanji;
    }
    Razlomak() {
        brojnik=0;
        nazivnik=1;
    }
    Razlomak(long long int b) {
        nazivnik=1;
        brojnik = b;
    }
    
    Razlomak(std::initializer_list&lt;long long int&gt; l) {
        if(l.size() == 2) {
        long long int b, n;
        auto i(l.begin());
        b=*i;
        i++;
        n=*i;
        if(n==0) throw std::logic_error("Nekorektan razlomak");
        long long int najmanji = NZD(b,n);
        if(n&lt;0) {
            b*=(-1);
            n*=(-1);
        }
        if(n&lt;0 &amp;&amp; b&lt;0) {
            b*=(-1);
            n*=(-1);
        }
        brojnik = b/najmanji;
        nazivnik = n/najmanji;
        }
        else if(l.size() == 1) {
            auto i(l.begin());
            nazivnik=1;
            brojnik = *i;
        }
    }
    long long int DajBrojnik() const { return brojnik; }
    long long int DajNazivnik() const { return nazivnik; }
    
    friend Razlomak operator +(const Razlomak &amp;prvi, const Razlomak &amp;drugi);
    friend Razlomak operator -(const Razlomak &amp;prvi, const Razlomak &amp;drugi);
<a name="10"></a><font color="#FF0000"><a href="match180-0.html#10" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_0.gif"/></a>

    friend Razlomak operator *(const Razlomak &amp;prvi, const Razlomak &amp;drugi);
    friend Razlomak operator /(const Razlomak &amp;prvi, const Razlomak &amp;drugi);
    
    friend Razlomak operator +(const Razlomak &amp;prvi) { return prvi;}
    friend Razlomak operator -(Razlomak &amp;prvi) { prvi.brojnik*=(-1); return prvi; }
</font>    
    friend Razlomak &amp;operator +=(Razlomak &amp;prvi, const Razlomak &amp;drugi);
    friend Razlomak &amp;operator -=(Razlomak &amp;prvi, const Razlomak &amp;drugi);
    friend Razlomak &amp;operator *=(Razlomak &amp;prvi, const Razlomak &amp;drugi);
    friend Razlomak &amp;operator /=(Razlomak &amp;prvi, const Razlomak &amp;drugi);
    
    friend bool operator &lt;(const Razlomak &amp;prvi, const Razlomak &amp;drugi);
    friend bool operator &gt;(const Razlomak &amp;prvi, const Razlomak &amp;drugi);
    friend bool operator &lt;=(const Razlomak &amp;prvi, const Razlomak &amp;drugi);
    friend bool operator &gt;=(const Razlomak &amp;prvi, const Razlomak &amp;drugi);
<a name="5"></a><font color="#FF0000"><a href="match180-0.html#5" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_1.gif"/></a>

    friend bool operator ==(const Razlomak &amp;prvi, const Razlomak &amp;drugi);
    friend bool operator !=(const Razlomak &amp;prvi, const Razlomak &amp;drugi);
    
    friend std::ostream &amp;operator &lt;&lt;(std::ostream &amp;tok, const Razlomak &amp;r);
</font>    friend std::istream &amp;operator &gt;&gt;(std::istream &amp;tok, Razlomak &amp;r);
    
    friend Razlomak &amp;operator ++(Razlomak &amp;r);
    friend Razlomak &amp;operator --(Razlomak &amp;r);
    friend Razlomak operator ++(Razlomak &amp;r, int);
    friend Razlomak operator --(Razlomak &amp;r, int);
    
};
long long int Razlomak::NZD(long long int a, long long int b) {
    long long int p, q;
    if(a&gt;b) {
        p=std::abs(a); q=std::abs(b);
    }
    if(b&gt;a) {
        p=std::abs(b); q=std::abs(a);
    }
    while (q!=0) {
        while (p&gt;=q) {
            p-=q;
            if(p==0) return q;
        }
        long long int temp = p;
        p=q;
        q=temp;
    }
    return 1;
}
Razlomak &amp;operator ++(Razlomak &amp;r) {
    Razlomak r2(1);
    r+=r2;
    return r;
}
Razlomak &amp;operator --(Razlomak &amp;r) {
    Razlomak r2(1);
    r-=r2;
    return r;
}
Razlomak operator ++(Razlomak &amp;r, int) {
    Razlomak pom(r);
    Razlomak r2(1);
    r+=r2;
    return pom;
}

Razlomak operator --(Razlomak &amp;r, int) {
    Razlomak pom(r);
    Razlomak r2(1);
    r-=r2;
    return pom;
}
std::ostream &amp;operator &lt;&lt;(std::ostream &amp;tok, const Razlomak &amp;r) {
    if(r.nazivnik == 1) tok &lt;&lt; r.brojnik;
<a name="11"></a><font color="#00FF00"><a href="match180-0.html#11" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_0.gif"/></a>

    else tok &lt;&lt; r.brojnik &lt;&lt; "/" &lt;&lt; r.nazivnik;
    return tok;
}

std::istream &amp;operator &gt;&gt;(std::istream &amp;tok, Razlomak &amp;r) {
</font>    std::string s;
    tok&gt;&gt;s;
    long long int nazivn=0,brojn=0; 
    for(int i(0); i&lt;s.length(); i++) {
        while (s[i] == ' ' || s[i] == '\n' || s[i] == '\t' || s[i] == '\r' || s[i] == '\f' || s[i] == '\v') {
            i++;
        }
        if(s[i]&lt;'0' &amp;&amp; s[i]&gt;'9') tok.setstate(std::ios::failbit);
        if(s[i]&gt;='0' &amp;&amp; s[i]&lt;='9') {
            int brojcifara = 0;
            int k=i;
            while (s[k]&gt;='0' &amp;&amp; s[k]&lt;='9') {
                brojcifara++; 
                k++;
            }
            int multiplikator = std::pow(10,brojcifara-1);
            while(s[i]&gt;='0' &amp;&amp; s[i]&lt;='9') {
                brojn += multiplikator*(s[i] - '0');
                multiplikator/=10;
                i++;
            }
            if(s[i]=='/') {
                i++;
                if(s[i]&gt;='0' &amp;&amp; s[i]&lt;='9') {
                
                    int brojcifara1 = 0;
                    int d=i;
                    while (s[d]&gt;='0' &amp;&amp; s[d]&lt;='9') {
                            brojcifara1++; 
                            d++;
                    }
                    //std::cout &lt;&lt; brojcifara1&lt;&lt;"=";
                    int multiplikator1 = std::pow(10,brojcifara1-1);
                    //std::cout &lt;&lt; multiplikator1&lt;&lt;"*";
                    while(s[i]&gt;='0' &amp;&amp; s[i]&lt;='9') {
                    nazivn += multiplikator1*(s[i] - '0');
                    multiplikator1/=10;
                    i++;
                    //std::cout &lt;&lt;nazivn;
                    }
                    long long int skr=Razlomak::NZD(brojn,nazivn);
                    brojn/=skr;
                    nazivn/=skr;
                    //std::cout &lt;&lt;brojn;
                    //std::cout &lt;&lt;nazivn;
                    
                    r.brojnik=brojn;
                    r.nazivnik=nazivn;
                    
                    if(!(s[i] == ' ' || s[i] == '\n' || s[i] == '\t' || s[i] == '\r' || s[i] == '\f' || s[i] == '\v')) tok.setstate(std::ios::failbit);
                }
                if(s[i]&lt;'0' &amp;&amp; s[i]&gt;'9') tok.setstate(std::ios::failbit);
            }
            if(s[i]!='/') {
                if(i==s.length() || s[i+1] == ' ' || s[i+1] == '\n' || s[i+1] == '\t' || s[i+1] == '\r' || s[i+1] == '\f' || s[i+1] == '\v') {
                    long long int n=1;
                    r.brojnik=brojn;
                    r.nazivnik=n;
                }
                else tok.setstate(std::ios::failbit);
            }
        }
        
    }
    return tok;
}

Razlomak operator +(const Razlomak &amp;prvi, const Razlomak &amp;drugi) {
    long long int m = std::numeric_limits&lt;long long int&gt;::min();
    long long int M = std::numeric_limits&lt;long long int&gt;::max();
    Razlomak rez;
    long long int x,y;
    x=prvi.brojnik*(drugi.nazivnik / Razlomak::NZD(prvi.nazivnik, drugi.nazivnik));
    y=drugi.brojnik*(prvi.nazivnik/Razlomak::NZD(prvi.nazivnik, drugi.nazivnik));
    if(y&gt;=0) {
        if(x&gt;M-y) throw std::overflow_error("Nemoguce dobiti tacan rezultat");
    }
    if(y&lt;0) {
        if(x&lt;m-y) throw std::overflow_error("Nemoguce dobiti tacan rezultat");
    }
<a name="2"></a><font color="#0000FF"><a href="match180-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_1.gif"/></a>

    rez.brojnik = prvi.brojnik*(drugi.nazivnik / Razlomak::NZD(prvi.nazivnik, drugi.nazivnik)) + drugi.brojnik*(prvi.nazivnik/Razlomak::NZD(prvi.nazivnik, drugi.nazivnik));
    rez.nazivnik = prvi.nazivnik * (drugi.nazivnik /Razlomak::NZD(prvi.nazivnik, drugi.nazivnik));
</font>    long long int skratiti = Razlomak::NZD(rez.brojnik, rez.nazivnik);
    rez.brojnik /=skratiti;
    rez.nazivnik/=skratiti;
    return rez;
}

Razlomak &amp;operator +=(Razlomak &amp;prvi, const Razlomak &amp;drugi) {
    long long int m = std::numeric_limits&lt;long long int&gt;::min();
    long long int M = std::numeric_limits&lt;long long int&gt;::max();
    Razlomak rez;
    long long int x,y;
    x=prvi.brojnik*(drugi.nazivnik / Razlomak::NZD(prvi.nazivnik, drugi.nazivnik));
    y=drugi.brojnik*(prvi.nazivnik/Razlomak::NZD(prvi.nazivnik, drugi.nazivnik));
    if(y&gt;=0) {
        if(x&gt;M-y) throw std::overflow_error("Nemoguce dobiti tacan rezultat");
    }
    if(y&lt;0) {
        if(x&lt;m-y) throw std::overflow_error("Nemoguce dobiti tacan rezultat");
    }
    rez.brojnik = prvi.brojnik*(drugi.nazivnik / Razlomak::NZD(prvi.nazivnik, drugi.nazivnik)) + drugi.brojnik*(prvi.nazivnik/Razlomak::NZD(prvi.nazivnik, drugi.nazivnik));
    rez.nazivnik = prvi.nazivnik * (drugi.nazivnik /Razlomak::NZD(prvi.nazivnik, drugi.nazivnik));
    long long int skratiti = Razlomak::NZD(rez.brojnik, rez.nazivnik);
    rez.brojnik /=skratiti;
    rez.nazivnik/=skratiti;
    prvi.brojnik=rez.brojnik; prvi.nazivnik=rez.nazivnik;
    return prvi;
}

Razlomak operator -(const Razlomak &amp;prvi, const Razlomak &amp;drugi) {
    long long int m = std::numeric_limits&lt;long long int&gt;::min();
    long long int M = std::numeric_limits&lt;long long int&gt;::max();
    Razlomak rez;
    long long int x,y;
    x=prvi.brojnik*(drugi.nazivnik / Razlomak::NZD(prvi.nazivnik, drugi.nazivnik));
    y=drugi.brojnik*(prvi.nazivnik/Razlomak::NZD(prvi.nazivnik, drugi.nazivnik));
    if(y&gt;=0) {
        if(x&lt;m-y) throw std::overflow_error("Nemoguce dobiti tacan rezultat");
    }
    if(y&lt;0) {
        if(x&gt;M-y) throw std::overflow_error("Nemoguce dobiti tacan rezultat");
    }
<a name="3"></a><font color="#00FFFF"><a href="match180-0.html#3" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_1.gif"/></a>

    rez.brojnik = prvi.brojnik*(drugi.nazivnik / Razlomak::NZD(prvi.nazivnik, drugi.nazivnik)) - drugi.brojnik*(prvi.nazivnik/Razlomak::NZD(prvi.nazivnik, drugi.nazivnik));
    rez.nazivnik = prvi.nazivnik * (drugi.nazivnik /Razlomak::NZD(prvi.nazivnik, drugi.nazivnik));
</font>    long long int skratiti = Razlomak::NZD(rez.brojnik, rez.nazivnik);
    rez.brojnik /=skratiti;
    rez.nazivnik/=skratiti;
    return rez;
}

Razlomak &amp;operator -=(Razlomak &amp;prvi, const Razlomak &amp;drugi) {
    long long int m = std::numeric_limits&lt;long long int&gt;::min();
    long long int M = std::numeric_limits&lt;long long int&gt;::max();
    Razlomak rez;
    long long int x,y;
    x=prvi.brojnik*(drugi.nazivnik / Razlomak::NZD(prvi.nazivnik, drugi.nazivnik));
    y=drugi.brojnik*(prvi.nazivnik/Razlomak::NZD(prvi.nazivnik, drugi.nazivnik));
    if(y&gt;=0) {
        if(x&lt;m-y) throw std::overflow_error("Nemoguce dobiti tacan rezultat");
    }
    if(y&lt;0) {
        if(x&gt;M-y) throw std::overflow_error("Nemoguce dobiti tacan rezultat");
    }
    rez.brojnik = prvi.brojnik*(drugi.nazivnik / Razlomak::NZD(prvi.nazivnik, drugi.nazivnik)) - drugi.brojnik*(prvi.nazivnik/Razlomak::NZD(prvi.nazivnik, drugi.nazivnik));
    rez.nazivnik = prvi.nazivnik * (drugi.nazivnik /Razlomak::NZD(prvi.nazivnik, drugi.nazivnik));
    long long int skratiti = Razlomak::NZD(rez.brojnik, rez.nazivnik);
    rez.brojnik /=skratiti;
    rez.nazivnik/=skratiti;
    prvi.brojnik=rez.brojnik; prvi.nazivnik=rez.nazivnik;
    return prvi;
}

Razlomak operator *(const Razlomak &amp;prvi, const Razlomak &amp;drugi) {
    long long int m = std::numeric_limits&lt;long long int&gt;::min();
    long long int M = std::numeric_limits&lt;long long int&gt;::max();
    Razlomak rez;
    long long int x,y;
    x=(prvi.brojnik/Razlomak::NZD(prvi.brojnik, drugi.nazivnik));
    y=(drugi.brojnik/Razlomak::NZD(drugi.brojnik,prvi.nazivnik));
    if(y&gt;=0) {
        if(x&lt;m/y || x&gt;M/y) throw std::overflow_error("Nemoguce dobiti tacan rezultat");
    }
    if(y&lt;0) {
        if(x==m || x*(-1)&gt;M/(y*(-1)) || x*(-1)&lt;m/(y*(-1))) throw std::overflow_error("Nemoguce dobiti tacan rezultat");
    }
<a name="0"></a><font color="#FF0000"><a href="match180-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_1.gif"/></a>

    rez.brojnik = (prvi.brojnik/Razlomak::NZD(prvi.brojnik, drugi.nazivnik))*(drugi.brojnik/Razlomak::NZD(drugi.brojnik,prvi.nazivnik));
    rez.nazivnik = (prvi.nazivnik/Razlomak::NZD(drugi.brojnik,prvi.nazivnik))*(drugi.nazivnik/Razlomak::NZD(prvi.brojnik, drugi.nazivnik));
</font>    long long int skratiti = Razlomak::NZD(rez.brojnik, rez.nazivnik);
    rez.brojnik /=skratiti;
    rez.nazivnik/=skratiti;
    return rez;
}

Razlomak &amp;operator *=(Razlomak &amp;prvi, const Razlomak &amp;drugi) {
    long long int m = std::numeric_limits&lt;long long int&gt;::min();
    long long int M = std::numeric_limits&lt;long long int&gt;::max();
    Razlomak rez;
    long long int x,y;
    x=(prvi.brojnik/Razlomak::NZD(prvi.brojnik, drugi.nazivnik));
    y=(drugi.brojnik/Razlomak::NZD(drugi.brojnik,prvi.nazivnik));
    if(y&gt;=0) {
        if(x&lt;m/y || x&gt;M/y) throw std::overflow_error("Nemoguce dobiti tacan rezultat");
    }
    if(y&lt;0) {
        if(x==m || x*(-1)&gt;M/(y*(-1)) || x*(-1)&lt;m/(y*(-1))) throw std::overflow_error("Nemoguce dobiti tacan rezultat");
    }
<a name="1"></a><font color="#00FF00"><a href="match180-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_1.gif"/></a>

    rez.brojnik = (prvi.brojnik/Razlomak::NZD(prvi.brojnik, drugi.nazivnik))*(drugi.brojnik/Razlomak::NZD(drugi.brojnik,prvi.nazivnik));
    rez.nazivnik = (prvi.nazivnik/Razlomak::NZD(drugi.brojnik,prvi.nazivnik))*(drugi.nazivnik/Razlomak::NZD(prvi.brojnik, drugi.nazivnik));
</font>    long long int skratiti = Razlomak::NZD(rez.brojnik, rez.nazivnik);
    rez.brojnik /=skratiti;
    rez.nazivnik/=skratiti;
    prvi.brojnik=rez.brojnik; prvi.nazivnik=rez.nazivnik;
    return prvi;
}

Razlomak operator /(const Razlomak &amp;prvi, const Razlomak &amp;drugi) {
    Razlomak rez;
    rez.brojnik = (prvi.brojnik/Razlomak::NZD(prvi.brojnik, drugi.brojnik))*(drugi.nazivnik/Razlomak::NZD(drugi.nazivnik,prvi.nazivnik));
    rez.nazivnik = (prvi.nazivnik/Razlomak::NZD(drugi.nazivnik,prvi.nazivnik))*(drugi.brojnik/Razlomak::NZD(prvi.brojnik, drugi.brojnik));
    long long int skratiti = Razlomak::NZD(rez.brojnik, rez.nazivnik);
    rez.brojnik /=skratiti;
    rez.nazivnik/=skratiti;
    return rez;
}

Razlomak &amp;operator /=(Razlomak &amp;prvi, const Razlomak &amp;drugi) {
    Razlomak rez;
    rez.brojnik = (prvi.brojnik/Razlomak::NZD(prvi.brojnik, drugi.brojnik))*(drugi.nazivnik/Razlomak::NZD(drugi.nazivnik,prvi.nazivnik));
    rez.nazivnik = (prvi.nazivnik/Razlomak::NZD(drugi.nazivnik,prvi.nazivnik))*(drugi.brojnik/Razlomak::NZD(prvi.brojnik, drugi.brojnik));
    long long int skratiti = Razlomak::NZD(rez.brojnik, rez.nazivnik);
    rez.brojnik /=skratiti;
    rez.nazivnik/=skratiti;
<a name="4"></a><font color="#FF00FF"><a href="match180-0.html#4" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_1.gif"/></a>

    prvi.brojnik=rez.brojnik; prvi.nazivnik=rez.nazivnik;
    return prvi;
}

bool operator &lt;(const Razlomak &amp;prvi, const Razlomak &amp;drugi) {
    long double a,b;
    a = prvi.brojnik/prvi.nazivnik;
    b = drugi.brojnik/drugi.nazivnik;
</font>    if(a&lt;b) return true;
    return false;
}

<a name="7"></a><font color="#0000FF"><a href="match180-0.html#7" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_1.gif"/></a>

bool operator &gt;(const Razlomak &amp;prvi, const Razlomak &amp;drugi) {
    long double a,b;
    a = prvi.brojnik/prvi.nazivnik;
    b = drugi.brojnik/drugi.nazivnik;
</font>    if(a&gt;b) return true;
    return false;
}
<a name="8"></a><font color="#00FFFF"><a href="match180-0.html#8" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_1.gif"/></a>

bool operator &lt;=(const Razlomak &amp;prvi, const Razlomak &amp;drugi) {
    long double a,b;
    a = prvi.brojnik/prvi.nazivnik;
    b = drugi.brojnik/drugi.nazivnik;
</font>    if(a&lt;=b) return true;
    return false;
}

<a name="9"></a><font color="#FF00FF"><a href="match180-0.html#9" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_1.gif"/></a>

bool operator &gt;=(const Razlomak &amp;prvi, const Razlomak &amp;drugi) {
    long double a,b;
    a = prvi.brojnik/prvi.nazivnik;
    b = drugi.brojnik/drugi.nazivnik;
</font>    if(a&gt;=b) return true;
<a name="6"></a><font color="#00FF00"><a href="match180-0.html#6" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_1.gif"/></a>

    return false;
}
bool operator ==(const Razlomak &amp;prvi, const Razlomak &amp;drugi) {
    long double a,b;
    a = prvi.brojnik/prvi.nazivnik;
    b = drugi.brojnik/drugi.nazivnik;
</font>    if(a==b) return true;
    return false;
}

bool operator !=(const Razlomak &amp;prvi, const Razlomak &amp;drugi) {
    long double a,b;
    a = prvi.brojnik/prvi.nazivnik;
    b = drugi.brojnik/drugi.nazivnik;
    if(a!=b) return true;
    return false;
}

int main ()
{
	return 0;
}</pre>
</body>
</html>
