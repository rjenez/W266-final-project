<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z5/Z3/student8288.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z5/Z3/student9340.cpp<p></p><pre>
#include &lt;iostream&gt;
#include &lt;iomanip&gt;
#include &lt;vector&gt;
#include &lt;string&gt;
#include &lt;algorithm&gt;
#include &lt;new&gt;
#include &lt;stdexcept&gt;
#include &lt;utility&gt;
#include &lt;memory&gt;
#include &lt;cmath&gt;
#include &lt;initializer_list&gt;
#include &lt;sstream&gt;

<a name="0"></a><font color="#FF0000"><a href="match75-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_99.gif"/></a>

const double eps(1e-16);
class Razlomak {
    long long int brojnik,nazivnik;
   static int DajNZD(int broj,int drugi) {
        if(drugi==0) return broj;
   return DajNZD(drugi,broj%drugi);
    } 
    public:
    Razlomak(long long int broj=0,long long int drugi=1);
     long long int &amp;DajBrojnik() {
        return brojnik;
    }
    long long int &amp;DajNazivnik() {
        return nazivnik;
    }
    Razlomak (std::initializer_list&lt;long long int&gt; lista) {
        auto it(lista.begin());
         brojnik=*it;
         it++;
         nazivnik=*it;
    }
Razlomak  operator +(Razlomak &amp;razlomak) {
    Razlomak rezultat;
    int nzd(Razlomak::DajNZD(this-&gt;nazivnik,razlomak.DajNazivnik()));
    rezultat.DajNazivnik()=this-&gt;nazivnik*(razlomak.DajNazivnik()/nzd);
  rezultat.DajBrojnik()=this-&gt;brojnik*(razlomak.DajNazivnik()/nzd)+razlomak.DajBrojnik()*(this-&gt;nazivnik/nzd);
    return Razlomak(rezultat.DajBrojnik(),rezultat.DajNazivnik());
}
Razlomak operator -(Razlomak razlomak);
Razlomak operator /(Razlomak razlomak);
Razlomak operator *(Razlomak &amp;razlomak);
Razlomak operator +();
Razlomak operator -();
Razlomak operator +=(Razlomak &amp;razlomak);
Razlomak operator -=(Razlomak &amp;razlomak);
Razlomak operator  *=(Razlomak &amp;razlomak);
Razlomak operator /=(Razlomak &amp;razlomak);
Razlomak operator ++();
 friend Razlomak operator ++(Razlomak &amp;razlomak, int);
  Razlomak operator --();
 friend Razlomak operator --(Razlomak &amp;razlomak, int);
 Razlomak operator =(Razlomak kolicnik);
 friend std::ostream &amp;operator&lt;&lt;(std::ostream &amp;tok,Razlomak razlomak);
 friend std::istream &amp;operator&gt;&gt;(std::istream &amp;tok,Razlomak &amp;razlomak);
bool operator&lt;(Razlomak &amp;razlomak);
bool operator&gt;(Razlomak &amp;razlomak);
bool operator&lt;=(Razlomak &amp;razlomak);
bool operator&gt;=(Razlomak &amp;razlomak);
bool operator==(Razlomak razlomak);
bool operator!=(Razlomak &amp;razlomak);
  operator long double() const {
      long double prvi,drugi;
      prvi=this-&gt;brojnik;
      drugi=this-&gt;nazivnik;
 return prvi/drugi;      
  }
};

 Razlomak::Razlomak(long long int broj,long long int drugi) {
        if(drugi==0) throw std::logic_error("Nekorektan razlomak");
        if(broj&gt;drugi) {
            long long int b1,b2;
            b1=std::abs(broj);
            b2=std::abs(drugi);
            for(int i=2;i&lt;=b2;i++) {
                if(b1%i==0 &amp;&amp; b2%i==0) {
                    b1/=i;
                    b2/=i;
                    i--;
                }
            }
            if(b1&lt;0 &amp;&amp; b2&lt;0) {
                brojnik=b1;
                this-&gt;nazivnik=b2;
            }
            else {
                if(b1&lt;0 &amp;&amp; b2&gt;0) {
                    brojnik=-b1;
                    this-&gt;nazivnik=b2;
                }
                else {
                    if(b1&gt;0 &amp;&amp; b2&lt;0) {
                        brojnik=-b1;
                        this-&gt;nazivnik=b2;
                    }
                    else {
                        brojnik=b1;
                       this-&gt;nazivnik=b2;
                    }
                }
            }
        }
        else {
            long long int b3,b4;
            b3=std::abs(broj);
            b4=std::abs(drugi);
            for(int j=2;j&lt;=b3;j++) {
                if(b3%j==0 &amp;&amp; b4%j==0) {
                    b3/=j;
                    b4/=j;
                    j--;
                }
            }
                  if(b3&lt;0 &amp;&amp; b4&lt;0) {
                brojnik=b3;
                this-&gt;nazivnik=b4;
            }
            else {
                if(b3&lt;0 &amp;&amp;  b4&gt;0) {
                    brojnik=-b3;
                    this-&gt;nazivnik=b4;
                }
                else {
                    if(b3&gt;0 &amp;&amp; b4&lt;0) {
                        brojnik=-b3;
                        this-&gt;nazivnik=b4;
                    }
                    else {
                        brojnik=b3;
                        this-&gt;nazivnik=b4;
                    }
                }
            }
        }
    }
    Razlomak Razlomak::operator -(Razlomak razlomak)  {
        Razlomak rezultat;
         int nzd(Razlomak::DajNZD(this-&gt;nazivnik,razlomak.DajNazivnik()));
    rezultat.DajNazivnik()=this-&gt;nazivnik*(razlomak.DajNazivnik()/nzd);
  rezultat.DajBrojnik()=this-&gt;brojnik*(razlomak.DajNazivnik()/nzd)-razlomak.DajBrojnik()*(this-&gt;nazivnik/nzd);
    return rezultat;
    }
Razlomak Razlomak::operator *(Razlomak &amp;razlomak) {
    Razlomak rezultat;
    
    int nzd(Razlomak::DajNZD(this-&gt;brojnik,razlomak.DajNazivnik()));
    int nzd2(Razlomak::DajNZD(this-&gt;nazivnik,razlomak.DajBrojnik()));
    rezultat.DajNazivnik()=(this-&gt;nazivnik/nzd2)*(razlomak.DajNazivnik()/nzd);
    rezultat.DajBrojnik()=(this-&gt;brojnik/nzd)*(razlomak.DajBrojnik()/nzd2);
    return rezultat;
}
Razlomak Razlomak::operator /(Razlomak razlomak) {
    Razlomak rezultat;
    int nzd(Razlomak::DajNZD(this-&gt;nazivnik,razlomak.DajNazivnik()));
    int drugi(Razlomak::DajNZD(this-&gt;brojnik,razlomak.DajBrojnik()));
    rezultat.DajBrojnik()=(this-&gt;brojnik/drugi)*(razlomak.DajNazivnik()/nzd);
    rezultat.DajNazivnik()=(this-&gt;nazivnik/nzd)*(razlomak.DajBrojnik()/drugi);
    return rezultat;
}
Razlomak Razlomak::operator+() {
    return *this;
}
Razlomak Razlomak::operator -() {
    return -(*this);
}
Razlomak Razlomak::operator +=(Razlomak &amp;razlomak) {
    Razlomak rezultat;
    int nzd(Razlomak::DajNZD(this-&gt;nazivnik,razlomak.DajNazivnik()));
    rezultat.DajNazivnik()+=this-&gt;nazivnik*(razlomak.DajNazivnik()/nzd);
  rezultat.DajBrojnik()+=this-&gt;brojnik*(razlomak.DajNazivnik()/nzd)+razlomak.DajBrojnik()*(this-&gt;nazivnik/nzd);
    return rezultat;
}

Razlomak Razlomak::operator -=(Razlomak &amp;razlomak) {
     Razlomak rezultat;
    int nzd(Razlomak::DajNZD(this-&gt;nazivnik,razlomak.DajNazivnik()));
    rezultat.DajNazivnik()-=this-&gt;nazivnik*(razlomak.DajNazivnik()/nzd);
  rezultat.DajBrojnik()-=this-&gt;brojnik*(razlomak.DajNazivnik()/nzd)+razlomak.DajBrojnik()*(this-&gt;nazivnik/nzd);
    return rezultat;
}
Razlomak Razlomak::operator *=(Razlomak &amp;razlomak) {
    Razlomak rezultat;
     int nzd(Razlomak::DajNZD(this-&gt;brojnik,razlomak.DajNazivnik()));
    int nzd2(Razlomak::DajNZD(this-&gt;nazivnik,razlomak.DajBrojnik()));
    rezultat.DajNazivnik()*=(this-&gt;nazivnik/nzd2)*(razlomak.DajNazivnik()/nzd);
    rezultat.DajBrojnik()*=(this-&gt;brojnik/nzd)*(razlomak.DajBrojnik()/nzd2);
    return rezultat;
}
Razlomak Razlomak::operator /=(Razlomak &amp;razlomak) {
     Razlomak rezultat;
    int nzd(Razlomak::DajNZD(this-&gt;nazivnik,razlomak.DajNazivnik()));
    int drugi(Razlomak::DajNZD(this-&gt;brojnik,razlomak.DajBrojnik()));
    rezultat.DajBrojnik()/=(this-&gt;brojnik/drugi)*(razlomak.DajNazivnik()/nzd);
    rezultat.DajNazivnik()/=(this-&gt;nazivnik/nzd)*(razlomak.DajBrojnik()/drugi);
    return rezultat;
}
Razlomak Razlomak::operator ++() {
    this-&gt;brojnik=this-&gt;brojnik+this-&gt;nazivnik;
    return *this;
}
Razlomak operator ++(Razlomak &amp;razlomak,int) {
    Razlomak kolicnik;
    kolicnik.DajBrojnik()=razlomak.DajBrojnik();
    kolicnik.DajNazivnik()=razlomak.DajNazivnik();
    razlomak.DajBrojnik()=razlomak.DajBrojnik()+razlomak.DajNazivnik();
    return kolicnik;
}
Razlomak Razlomak::operator --() {
    this-&gt;brojnik=this-&gt;brojnik-this-&gt;nazivnik;
    return *this;
}
Razlomak operator --(Razlomak &amp;razlomak,int) {
    Razlomak kolicnik;
    kolicnik.DajBrojnik()=razlomak.DajBrojnik();
    kolicnik.DajNazivnik()=razlomak.DajNazivnik();
    razlomak.DajBrojnik()=razlomak.DajBrojnik()-razlomak.DajNazivnik();
    return razlomak;
}
Razlomak Razlomak::operator =(Razlomak kolicnik) {
    Razlomak pomocni(kolicnik.DajBrojnik(),kolicnik.DajNazivnik());
    this-&gt;DajBrojnik()=pomocni.DajBrojnik();
    this-&gt;DajNazivnik()=pomocni.DajNazivnik();
    return *this;
}

bool Razlomak::operator &lt;(Razlomak &amp;razlomak) {
  long  double prvi,drugi;
  prvi=this-&gt;brojnik/this-&gt;nazivnik;
  drugi=razlomak.DajBrojnik()/razlomak.DajNazivnik();
  return drugi-prvi&gt;std::fabs(eps);
}
bool Razlomak::operator &gt;(Razlomak &amp;razlomak) {
    long  double prvi,drugi;
    prvi=this-&gt;brojnik/this-&gt;nazivnik;
    drugi=razlomak.DajBrojnik()/razlomak.DajNazivnik();
    return prvi-drugi&gt;std::fabs(eps);
}
bool Razlomak::operator &gt;=(Razlomak &amp;razlomak) {
    double prvi,drugi;
    prvi=this-&gt;brojnik/this-&gt;nazivnik;
    drugi=razlomak.DajBrojnik()/razlomak.DajNazivnik();
    return prvi-drugi&gt;=std::fabs(eps);
}
bool Razlomak::operator &lt;=(Razlomak &amp;razlomak) {
    double prvi,drugi;
    prvi=this-&gt;brojnik/this-&gt;nazivnik;
    drugi=razlomak.DajBrojnik()/razlomak.DajNazivnik();
    return drugi-prvi&lt;=std::fabs(eps);
}
bool Razlomak::operator ==(Razlomak razlomak) {
    return this-&gt;brojnik-razlomak.DajBrojnik()&lt;=std::fabs(eps);
}
bool Razlomak::operator !=(Razlomak &amp;razlomak) {
    return !(*this==razlomak);
}
std::istream &amp;operator&gt;&gt;(std::istream &amp;tok,Razlomak &amp;razlomak)  {
    int broj1(0),broj2(0);
    char znak;
    tok&gt;&gt;std::ws;
   tok&gt;&gt;broj1;
   razlomak.DajBrojnik()=broj1;
    if(tok.peek()!='/') {
  razlomak.DajNazivnik()=1;
  return tok;
    }
    else {
        tok&gt;&gt;znak;
          tok&gt;&gt;broj2;
              razlomak.nazivnik=broj2;
              if(tok.peek()!=' ' &amp;&amp;  tok.peek()!='\n' &amp;&amp; tok.peek()!='\v' &amp;&amp; tok.peek()!='\f' &amp;&amp; tok.peek()!='\r' &amp;&amp; tok.peek()!='\t')  tok.setstate(std::ios::failbit);
              auto pomoc=razlomak.DajBrojnik();
              razlomak.DajBrojnik()/=Razlomak::DajNZD(razlomak.DajBrojnik(),razlomak.DajNazivnik());
              razlomak.DajNazivnik()/=Razlomak::DajNZD(pomoc,razlomak.DajNazivnik());
          return tok;
  }
}
std::ostream &amp;operator &lt;&lt;(std::ostream &amp;tok,Razlomak razlomak) {
    if(razlomak.DajNazivnik()==1) {
        tok&lt;&lt;razlomak.DajBrojnik();
    }
    else {
    Razlomak pomocni(razlomak.DajBrojnik(),razlomak.DajNazivnik());
    if(pomocni.DajNazivnik()==1) {
        tok&lt;&lt;pomocni.DajBrojnik();
    }
    else 
    tok&lt;&lt;pomocni.DajBrojnik()&lt;&lt;"/"&lt;&lt;pomocni.DajNazivnik();
    }
    return tok;
}
int main ()
{
    std::cout&lt;&lt;"unesite sta hocete ";
</font>    
	return 0;
}</pre>
</body>
</html>
