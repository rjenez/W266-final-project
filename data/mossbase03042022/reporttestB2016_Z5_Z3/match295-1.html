<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z5/Z3/student2664.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z5/Z3/student6255.cpp<p></p><pre>
#include&lt;iostream&gt;
#include&lt;stdexcept&gt;
#include&lt;cmath&gt;
#include&lt;limits&gt;
using namespace std;

class Razlomak{
    long long int brojnik;
    long long int nazivnik;
    static long long int NZD(long long int vr_brojnikak, long long int vr_nazivnika);
    public:
    Razlomak(){ brojnik=0; nazivnik=1; } //bez parametara
    Razlomak(long long int vr_brojnika){ brojnik=vr_brojnika; nazivnik=1; } //s jednim parametrom
    Razlomak(long long int vr_brojnika, long long int vr_nazivnika); 
    long long int DajBrojnik()const{ return brojnik; }
    long long int DajNazivnik()const { return nazivnik; }
    friend Razlomak operator+(const Razlomak &amp;prvi, const Razlomak &amp;drugi);
    friend Razlomak operator-(const Razlomak &amp;prvi, const Razlomak &amp;drugi);
    friend Razlomak operator*(const Razlomak &amp;prvi, const Razlomak &amp;drugi);
    friend Razlomak operator/(const Razlomak &amp;prvi, const Razlomak &amp;drugi);
    friend Razlomak operator+(const Razlomak &amp;r){ return r; }
    friend Razlomak operator-(const Razlomak &amp;r);
    friend Razlomak operator+=(Razlomak &amp;p,const Razlomak &amp;q);
    friend Razlomak operator-=(Razlomak &amp;p,const Razlomak &amp;q);
    friend Razlomak operator*=(Razlomak &amp;p,const Razlomak &amp;q);
    friend Razlomak operator/=(Razlomak &amp;p,const Razlomak &amp;q);
    friend Razlomak &amp;operator++(Razlomak &amp;r);
    friend Razlomak operator++(Razlomak &amp;r,int); 
    friend Razlomak &amp;operator--(Razlomak &amp;r);
    friend Razlomak operator--(Razlomak &amp;r,int); 
    friend bool operator&lt;(const Razlomak &amp;p,const Razlomak &amp;q);
    friend bool operator&gt;(const Razlomak &amp;p,const Razlomak &amp;q);
    friend bool operator&lt;=(const Razlomak &amp;p,const Razlomak &amp;q);
    friend bool operator&gt;=(const Razlomak &amp;p,const Razlomak &amp;q);
    friend bool operator==(const Razlomak &amp;p,const Razlomak &amp;q);
<a name="1"></a><font color="#00FF00"><a href="match295-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_1.gif"/></a>

    friend bool operator!=(const Razlomak &amp;p,const Razlomak &amp;q);
    friend ostream &amp;operator &lt;&lt;(ostream&amp;tok, const Razlomak &amp;a);
    friend istream &amp;operator &gt;&gt;(istream &amp;tok, Razlomak &amp;r);
</font>    explicit operator long double() const;
    
};

Razlomak::Razlomak(long long int vr_brojnika, long long int vr_nazivnika){
    if(vr_nazivnika==0) throw logic_error("Nekorektan razlomak");
    brojnik=vr_brojnika/NZD(vr_brojnika,vr_nazivnika);
    nazivnik=vr_nazivnika/NZD(vr_brojnika,vr_nazivnika);
    if(nazivnik&lt;0){ nazivnik=nazivnik*(-1); brojnik=brojnik*(-1); }
    if(brojnik&lt;0 &amp;&amp; nazivnik&lt;0){ brojnik=brojnik*(-1); nazivnik=nazivnik*(-1); }
}

<a name="6"></a><font color="#00FF00"><a href="match295-0.html#6" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_1.gif"/></a>

long long int Razlomak::NZD(long long int x, long long int y){
    if(x%y==0) return y;
    else return NZD(y,x%y);
</font>}

Razlomak operator+(const Razlomak &amp;prvi, const Razlomak &amp;drugi){ 
long long int m,M;
m=numeric_limits&lt;long long int&gt;::min();
M=numeric_limits&lt;long long int&gt;::max();
if(drugi.brojnik&gt;0 &amp;&amp; drugi.nazivnik&gt;0 &amp;&amp; prvi.brojnik/prvi.nazivnik&gt;M-drugi.brojnik/drugi.nazivnik) throw overflow_error("Nemoguce dobiti tacan rezultst");
if((drugi.brojnik&lt;0 || drugi.nazivnik&lt;0) &amp;&amp; prvi.brojnik/prvi.nazivnik&gt;M+drugi.brojnik/drugi.nazivnik) throw overflow_error("Nemoguce dobiti tacan rezultst");
    long long int s,r;
    s=Razlomak::NZD(prvi.brojnik, drugi.nazivnik);
    r=Razlomak::NZD(prvi.nazivnik, drugi.nazivnik);
    Razlomak emo;
    emo.brojnik=prvi.brojnik*(drugi.nazivnik/r)+drugi.brojnik*(prvi.nazivnik/r);
    emo.nazivnik=prvi.nazivnik*(drugi.nazivnik/r);
    Razlomak emo1;
    emo1.brojnik=emo.brojnik/Razlomak::NZD(emo.brojnik,emo.nazivnik);
    emo1.nazivnik=emo.nazivnik/Razlomak::NZD(emo.brojnik,emo.nazivnik);
    return emo1;
}

Razlomak operator-(const Razlomak &amp;prvi, const Razlomak &amp;drugi){ 
long long int m,M;
m=numeric_limits&lt;long long int&gt;::min();
M=numeric_limits&lt;long long int&gt;::max();
if(drugi.brojnik/drugi.nazivnik&gt;0 &amp;&amp; prvi.brojnik/prvi.nazivnik&gt;M+drugi.brojnik/drugi.nazivnik) throw overflow_error("Nemoguce dobiti tacan rezultst");
if((drugi.brojnik&lt;0 || drugi.nazivnik&lt;0) &amp;&amp; prvi.brojnik/prvi.nazivnik&lt;M+drugi.brojnik/drugi.nazivnik) throw overflow_error("Nemoguce dobiti tacan rezultst");
    long long int s,r;
    s=Razlomak::NZD(prvi.brojnik, drugi.nazivnik);
    r=Razlomak::NZD(prvi.nazivnik, drugi.nazivnik);
    Razlomak emo;
    emo.brojnik=prvi.brojnik*(drugi.nazivnik/r)-drugi.brojnik*(prvi.nazivnik/r);
    emo.nazivnik=prvi.nazivnik*(drugi.nazivnik/r);
    Razlomak(emo.brojnik, emo.nazivnik);
    Razlomak emo1;
    emo1.brojnik=emo.brojnik/Razlomak::NZD(emo.brojnik,emo.nazivnik);
    emo1.nazivnik=emo.nazivnik/Razlomak::NZD(emo.brojnik,emo.nazivnik);
    return emo1;
}

Razlomak operator*(const Razlomak &amp;prvi, const Razlomak &amp;drugi){ 
long long int m,M;
m=numeric_limits&lt;long long int&gt;::min();
M=numeric_limits&lt;long long int&gt;::max();
if(drugi.brojnik&gt;0 &amp;&amp; drugi.nazivnik&gt;0 &amp;&amp; (prvi.brojnik/prvi.nazivnik&lt;m/(drugi.brojnik/drugi.nazivnik)||prvi.brojnik/prvi.nazivnik&gt;M/(drugi.brojnik/drugi.nazivnik))) throw overflow_error("Nemoguce dobiti tacan rezultst");
if((drugi.brojnik&lt;0 || drugi.nazivnik&lt;0) &amp;&amp; ((prvi.brojnik/prvi.nazivnik==M || (prvi.brojnik*(-1))/prvi.nazivnik&gt;M/(drugi.brojnik*(-1))/drugi.nazivnik)|| ((prvi.brojnik*(-1))/prvi.nazivnik)&lt;m/(drugi.brojnik*(-1))/drugi.nazivnik)) throw overflow_error("Nemoguce dobiti tacan rezultst");
    long long int s,t;
    s=Razlomak::NZD(prvi.brojnik, drugi.nazivnik);
    t=Razlomak::NZD(drugi.brojnik, prvi.nazivnik);
    Razlomak emo;
    emo.brojnik=(prvi.brojnik/s)*(drugi.brojnik/t);
    emo.nazivnik=(prvi.nazivnik/t)*(drugi.nazivnik/s);
    Razlomak emo1;
    emo1.brojnik=emo.brojnik/Razlomak::NZD(emo.brojnik,emo.nazivnik);
    emo1.nazivnik=emo.nazivnik/Razlomak::NZD(emo.brojnik,emo.nazivnik);
    return emo1;
}

Razlomak operator/(const Razlomak &amp;prvi, const Razlomak &amp;drugi){ 
    long long int u,r;
    u=Razlomak::NZD(prvi.brojnik,drugi.brojnik);
    r=Razlomak::NZD(prvi.nazivnik, drugi.nazivnik);
    Razlomak emo;
    emo.brojnik=(prvi.brojnik/u)*(drugi.nazivnik/r);
    emo.nazivnik=(prvi.nazivnik/r)*(drugi.brojnik/u);
    Razlomak emo1;
    emo1.brojnik=emo.brojnik/Razlomak::NZD(emo.brojnik,emo.nazivnik);
    emo1.nazivnik=emo.nazivnik/Razlomak::NZD(emo.brojnik,emo.nazivnik);
    return emo1;
}

Razlomak operator-(const Razlomak &amp;r){ 
    Razlomak emo;
    emo.brojnik=r.brojnik*(-1);
    emo.nazivnik=r.nazivnik;
    return emo;
}

Razlomak operator+=(Razlomak &amp;p,const Razlomak &amp;q){
    long long int s,r;
    s=Razlomak::NZD(p.brojnik, q.nazivnik);
    r=Razlomak::NZD(p.nazivnik, q.nazivnik);
    p.brojnik+=p.brojnik*(q.nazivnik/r)+q.brojnik*(q.nazivnik/r);
    p.nazivnik+=p.nazivnik*(q.nazivnik/r);
    return p;
}

Razlomak operator-=(Razlomak &amp;p,const Razlomak &amp;q){
    long long int s,r;
    s=Razlomak::NZD(p.brojnik, q.nazivnik);
    r=Razlomak::NZD(p.nazivnik, q.nazivnik);
    p.brojnik-=p.brojnik*(q.nazivnik/r)-q.brojnik*(q.nazivnik/r);
    p.nazivnik-=p.nazivnik*(q.nazivnik/r);
    return p;
}

Razlomak operator*=(Razlomak &amp;p, const Razlomak &amp;q){ 
    long long int s,t;
    s=Razlomak::NZD(p.brojnik, q.nazivnik);
    t=Razlomak::NZD(p.brojnik, q.nazivnik);
    p.brojnik*=(p.brojnik/s)*(q.brojnik/t);
    p.nazivnik*=(p.nazivnik/t)*(q.nazivnik/s);
    return p;
}

Razlomak operator/=(Razlomak &amp;p,const Razlomak &amp;q){
 long long int u,r;
    u=Razlomak::NZD(p.brojnik,q.brojnik);
    r=Razlomak::NZD(p.nazivnik,q.nazivnik);
    p.brojnik/=(p.brojnik/u)*(q.nazivnik/r);
    p.nazivnik/=(p.nazivnik/r)*(q.brojnik/u);
    return p;   
}

Razlomak &amp;operator++(Razlomak &amp;r){
    r.brojnik=r.brojnik+r.nazivnik;
    r.nazivnik=r.nazivnik;
    return r;
}

Razlomak operator++(Razlomak &amp;r,int){
    Razlomak pomocni=r;
    r.brojnik=r.brojnik+r.nazivnik;
    r.nazivnik=r.nazivnik;
    return pomocni;
}

Razlomak &amp;operator--(Razlomak &amp;r){
    r.brojnik=r.brojnik-r.nazivnik;
    r.nazivnik=r.nazivnik;
    return r;
}

Razlomak operator--(Razlomak &amp;r,int){
    Razlomak pomocni=r;
    r.brojnik=r.brojnik-r.nazivnik;
    r.nazivnik=r.nazivnik;
    return pomocni;
}

bool operator==(const Razlomak &amp;p,const Razlomak &amp;q){
    return p.brojnik==q.brojnik &amp;&amp; p.nazivnik==q.brojnik;
}

bool operator!=(const Razlomak &amp;p,const Razlomak &amp;q){
    return !(p==q);
}

<a name="2"></a><font color="#0000FF"><a href="match295-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_1.gif"/></a>

bool operator&lt;(const Razlomak &amp;p,const Razlomak &amp;q){
    long long int razlomak1, razlomak2;
    razlomak1=p.brojnik/p.nazivnik;
    razlomak2=q.brojnik/q.nazivnik;
</font>    return razlomak1&lt;razlomak2;
}

<a name="3"></a><font color="#00FFFF"><a href="match295-0.html#3" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_1.gif"/></a>

bool operator&gt;(const Razlomak &amp;p,const Razlomak &amp;q){
    long long int razlomak1, razlomak2;
    razlomak1=p.brojnik/p.nazivnik;
    razlomak2=q.brojnik/q.nazivnik;
</font>    return razlomak1&gt;razlomak2;
}

<a name="4"></a><font color="#FF00FF"><a href="match295-0.html#4" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_1.gif"/></a>

bool operator&lt;=(const Razlomak &amp;p,const Razlomak &amp;q){
    long long int razlomak1, razlomak2;
    razlomak1=p.brojnik/p.nazivnik;
    razlomak2=q.brojnik/q.nazivnik;
</font>    return razlomak1&lt;=razlomak2;
}

<a name="5"></a><font color="#FF0000"><a href="match295-0.html#5" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_1.gif"/></a>

bool operator&gt;=(const Razlomak &amp;p,const Razlomak &amp;q){
    long long int razlomak1, razlomak2;
    razlomak1=p.brojnik/p.nazivnik;
    razlomak2=q.brojnik/q.nazivnik;
</font>    return razlomak1&gt;=razlomak2;
}

ostream &amp;operator &lt;&lt;(ostream&amp;tok, const Razlomak &amp;a){
    Razlomak emo1;
    emo1.brojnik=a.brojnik/Razlomak::NZD(a.brojnik,a.nazivnik);
    emo1.nazivnik=a.nazivnik/Razlomak::NZD(a.brojnik,a.nazivnik);
    if(emo1.nazivnik==1) return tok&lt;&lt;emo1.brojnik;
    else{
        
        return tok&lt;&lt;emo1.brojnik&lt;&lt;"/"&lt;&lt;emo1.nazivnik;
    } 
}

istream &amp;operator &gt;&gt;(istream &amp;tok, Razlomak &amp;r){ 
        char znak;
<a name="0"></a><font color="#FF0000"><a href="match295-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_6.gif"/></a>

        tok&gt;&gt;ws;
            if(tok.peek()&lt;'1' || tok.peek()&gt;'9')  tok.setstate(ios::failbit); 
            tok&gt;&gt;r.brojnik;
            if(tok.peek()==' ' || tok.peek()=='\0' || tok.peek()=='\n' || tok.peek()==-1){r.nazivnik=1;return tok; }
            if(tok.peek()!='/' &amp;&amp; tok.peek()!='\0') tok.setstate(ios::failbit);
            if(tok.peek()=='\0'){r.nazivnik=1; tok.setstate(ios::failbit); }
            tok&gt;&gt;znak;
            if(tok.peek()&lt;'1' || tok.peek()&gt;'9') tok.setstate(ios::failbit);
            tok&gt;&gt;r.nazivnik;
            if(tok.peek()==' ' || tok.peek()=='\0' || tok.peek()=='\n' || tok.peek()==-1){ return tok; }
</font>            else tok.setstate(ios::failbit);
            return tok;
}

Razlomak::operator long double() const {
return (long double) brojnik/nazivnik;
}


int main(){
    return 0;
}</pre>
</body>
</html>
