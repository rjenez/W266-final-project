<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z5/Z3/student8854.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z5/Z3/student7429.cpp<p></p><pre>
<a name="0"></a><font color="#FF0000"><a href="match158-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_99.gif"/></a>

/B16/17 (ZadaÄ‡a 5, Zadatak 3)
//Autotestovi by Enil Pajic (mail: epajic1@etf.unsa.ba)
//Za autotestove se obracati *iskljucivo* osobi koja ih pise
#include &lt;iostream&gt;
#include &lt;limits&gt;
#include &lt;stdexcept&gt;
long long int NZD(long long int a, long long int b)
    {
        if(b==0)
        return a;
        else
        return NZD(b,a%b);
    }
const long long int minimum(std::numeric_limits&lt;long long int&gt;::min());
const long long int maximum(std::numeric_limits&lt;long long int&gt;::max());
class Razlomak{
    long long int brojnik,nazivnik;
    static long long int NadjimiNZD(long long int a, long long int b)
    {
        if(b==0)
        return a;
        else
        return NadjimiNZD(b,a%b);
    }
    
    public:
    Razlomak(long long int brojnik=0, long long int nazivnik=1)
    {
        if(nazivnik==0)
        throw std::logic_error("Nekorektan razlomak");
        Razlomak::brojnik=brojnik/NadjimiNZD(brojnik,nazivnik);
        Razlomak::nazivnik=nazivnik=nazivnik/NadjimiNZD(brojnik,nazivnik);
        
    }
    
    long long int DajBrojnik() const {return brojnik;}
    long long int DajNazivnik() const {return nazivnik;}
    
    friend std::ostream &amp;operator &lt;&lt;(std::ostream &amp;tok, const Razlomak &amp;b)
    {
        long long int broj(b.DajBrojnik()),naziv(b.DajNazivnik());
        if(broj==0)
        {
            tok&lt;&lt;0;
            return tok;
        }
        if(naziv==1)
        {
            tok&lt;&lt;broj;
            return tok;
        }
        tok&lt;&lt;broj&lt;&lt;"/"&lt;&lt;naziv;
        
        return tok;
    }
    friend std::istream &amp;operator &gt;&gt;(std::istream &amp;tok, Razlomak &amp;b)
    {
        char znak;
        znak='/';
        long long int aa(b.DajBrojnik()),bb(b.DajNazivnik());
        return tok&gt;&gt;aa&gt;&gt;znak&gt;&gt;bb;
    }
    
    
    
    
    
    
    
};
    Razlomak operator + (const Razlomak &amp;a,const Razlomak &amp;b)
    {
        long long int p1,p2,q1,q2,r;
        p1=a.DajBrojnik();
        q1=a.DajNazivnik();
        p2=b.DajBrojnik();
        q2=b.DajNazivnik();
        r=NZD(q1,q2);
        if((q2/r)&gt;0 &amp;&amp; ((p1&lt;minimum/(q2/r)) || (p1&gt;maximum/(q2/r))))
        throw std::overflow_error("Nemoguce dobiti tacan rezultat");
        if((q1/r)&gt;0 &amp;&amp; ((p2&lt;minimum/(q1/r)) || (p2&gt;maximum/(q1/r))))
        throw std::overflow_error("Nemoguce dobiti tacan rezultat");
        if((q2/r)&gt;0 &amp;&amp; ((q1&lt;minimum/(q2/r)) || (q1&gt;maximum/(q2/r))))
        throw std::overflow_error("Nemoguce dobiti tacan rezultat");
        
        if((p2*(q1/r)&gt;0 &amp;&amp; p1*(q2/r)&gt;maximum-p2*(q1/r)) || (p2*(q1/r)&lt;0 &amp;&amp; p1*(q2/r)&lt;minimum-p2*(q1/r)))
        throw std::overflow_error("Nemoguce dobiti tacan rezultat");
        
        return Razlomak{p1*(q2/r)+p2*(q1/r),q1*(q2/r)};
        
        
        
        
    }
  
    Razlomak operator - (const Razlomak &amp;a,const Razlomak &amp;b)
    {
        long long int p2,q2;
        
        p2=b.DajBrojnik();
        q2=b.DajNazivnik();
        Razlomak b1(-p2,q2);
        return a+b1;
        
        
        
        
    }
    Razlomak operator * (const Razlomak &amp;a,const Razlomak &amp;b)
    {
        long long int broj1,naziv1,broj2,naziv2,nzd;
        broj1=a.DajBrojnik();
        naziv1=a.DajNazivnik();
        broj2=b.DajBrojnik();
        naziv2=b.DajNazivnik();
        nzd=NZD(naziv1,naziv2);
        
        
        
        
        
        
        
        
    }
    Razlomak operator / (const Razlomak &amp;a,const Razlomak &amp;b)
    {
        return a;
        
        
    }
 /*   std::ostream operator &lt;&lt; (std::ostream &amp;a,const Razlomak &amp;b)
    {
        a&lt;&lt;b.DajBrojnik()&lt;&lt;"/"&lt;&lt;b.DajNazivnik();
        
        return a;
    }
   */ 

int main ()
{
	Razlomak a(5,7);
	Razlomak b(2,9);
	Razlomak c=a+b;
	std::cout&lt;&lt;"ekstrica"&lt;&lt;std::endl&lt;&lt;std::endl&lt;&lt;c.DajBrojnik()&lt;&lt;" "&lt;&lt;c.DajNazivnik();
	c=a-b;
	std::cout&lt;&lt;"ekstrica"&lt;&lt;std::endl&lt;&lt;std::endl&lt;&lt;c.DajBrojnik()&lt;&lt;" "&lt;&lt;c.DajNazivnik();
	Razlomak d{2,2};
</font>	return 0;
}</pre>
</body>
</html>
