<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z5/Z3/student3386.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z5/Z3/student7802.cpp<p></p><pre>
/B16/17 (ZadaÄ‡a 5, Zadatak 3)
//Autotestovi by Enil Pajic (mail: epajic1@etf.unsa.ba)
//Za autotestove se obracati *iskljucivo* osobi koja ih pise
#include &lt;iostream&gt;
#include &lt;stdexcept&gt;
#include &lt;initializer_list&gt;
using std::cin;
using std::cout;
using std::endl;

#include &lt;sstream&gt;
class Razlomak{
  long long int brojnik;
  long long int nazivnik;
  static long long int NZD(long long int prvi,long long int drugi){
      
      if(drugi==0){return prvi;}
      return NZD(drugi,prvi%drugi);
  }
    public:
    
    Razlomak (long long int brojni=0,long long int nazivni=1);
    Razlomak (std::initializer_list&lt;long long int&gt; li);
    Razlomak(const Razlomak &amp;a);
    Razlomak(Razlomak &amp;&amp;a);
    Razlomak &amp;operator =(const Razlomak &amp;a);
    Razlomak &amp;operator =(Razlomak &amp;&amp;a);
    long long int DajBrojnik()const{
        return brojnik;
    }
    long long int DajNazivnik()const{
        return nazivnik;
    }
    friend Razlomak operator +(const Razlomak &amp;a, const Razlomak &amp;b);
    friend Razlomak operator -(const Razlomak &amp;a, const Razlomak &amp;b);
    friend std::ostream &amp;operator &lt;&lt;(std::ostream &amp;tok,const Razlomak &amp;a);
    friend std::istream &amp;operator &gt;&gt;(std::istream &amp;tok,const Razlomak &amp;a);
    friend Razlomak operator *(const Razlomak &amp;a,const Razlomak &amp;b);
    friend Razlomak operator /(const Razlomak &amp;a,const Razlomak &amp;b);
    operator long double(){
    return Razlomak::brojnik/static_cast&lt;long double&gt;(Razlomak::nazivnik);
}
    Razlomak &amp;operator -();
    Razlomak &amp;operator +();
<a name="1"></a><font color="#00FF00"><a href="match972-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_2.gif"/></a>

    Razlomak &amp;operator +=(const Razlomak &amp;a);
    Razlomak &amp;operator -=(const Razlomak &amp;a);
    Razlomak &amp;operator *=(const Razlomak &amp;a);
    Razlomak &amp;operator /=(const Razlomak &amp;a);
    friend bool operator  &lt;(Razlomak a, Razlomak b);
</font>    friend bool operator  &gt;(Razlomak a, Razlomak b);
    friend bool operator &lt;=(Razlomak a, Razlomak b);
    friend bool operator &gt;=(Razlomak a, Razlomak b);
    friend bool operator ==( Razlomak a, Razlomak b);
    friend bool operator !=(Razlomak a,Razlomak b);
    Razlomak &amp;operator ++();
    Razlomak operator ++(int);
    Razlomak &amp;operator --();
    Razlomak operator --(int);
};

Razlomak::Razlomak (std::initializer_list&lt;long long int&gt; li){
        if(li.size()==0) {nazivnik=1;brojnik=0;}
        else if(li.size()==1){nazivnik=1;brojnik=*(li.begin());}
        else if(li.size()==2){
        long long int brojni(*(li.begin()));
        auto it(li.begin());it++;
        long long int nazivni(*it);
        if(nazivni==0) throw std::logic_error("Nekorektan razlomak");
        long long int nzd(NZD(brojni,nazivni));
        brojni=brojni/nzd;
        nazivni=nazivni/nzd;
        if(nazivni&lt;0 &amp;&amp; brojni&gt;0){brojnik=-brojni;nazivnik=-nazivni;}
        else if(nazivni&lt;0 &amp;&amp; brojni&lt;0){brojnik=-brojni;nazivnik=-nazivni;}
        else{
            brojnik=brojni;
            nazivnik=nazivni;
        }
            
        }
    }
Razlomak::Razlomak (long long int brojni,long long int nazivni):brojnik(brojni),nazivnik(nazivni){
        if(nazivnik==0) throw std::logic_error("Nekorektan razlomak");
        long long int nzd(NZD(brojni,nazivni));
        brojni=brojni/nzd;
        nazivni=nazivni/nzd;
        if(nazivni&lt;0 &amp;&amp; brojni&gt;0){brojnik=-brojni;nazivnik=-nazivni;}
        else if(nazivni&lt;0 &amp;&amp; brojni&lt;0){brojnik=-brojni;nazivnik=-nazivni;}
        else{
            brojnik=brojni;
            nazivnik=nazivni;
        }
    }
Razlomak::Razlomak(const Razlomak &amp;a){
    brojnik=a.brojnik;
    nazivnik=a.nazivnik;
}
Razlomak::Razlomak(Razlomak &amp;&amp;a){
    brojnik=a.brojnik;
    nazivnik=a.nazivnik;
}
Razlomak &amp;Razlomak::operator =(const Razlomak &amp;a){
    brojnik=a.brojnik;
    nazivnik=a.nazivnik;
    return *this;
}
Razlomak &amp;Razlomak::operator =(Razlomak &amp;&amp;a){
    brojnik=a.brojnik;
    nazivnik=a.nazivnik;
    return *this;
}
Razlomak operator +(const Razlomak &amp;a, const Razlomak &amp;b){
    long long int r(Razlomak::NZD(a.nazivnik,b.nazivnik));
<a name="4"></a><font color="#FF00FF"><a href="match972-0.html#4" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_1.gif"/></a>

    Razlomak c(a.brojnik*(b.nazivnik/r)+b.brojnik*(a.nazivnik/r),a.nazivnik*(b.nazivnik/r));
    return c;
</font>}
Razlomak operator -(const Razlomak &amp;a, const Razlomak &amp;b){
    long long int r(Razlomak::NZD(a.nazivnik,b.nazivnik));
<a name="3"></a><font color="#00FFFF"><a href="match972-0.html#3" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_2.gif"/></a>

    Razlomak c(a.brojnik*(b.nazivnik/r)-b.brojnik*(a.nazivnik/r),a.nazivnik*(b.nazivnik/r));
    return c;
</font>}
std::ostream &amp;operator &lt;&lt;(std::ostream &amp;tok,const Razlomak &amp;a){
<a name="2"></a><font color="#0000FF"><a href="match972-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_2.gif"/></a>

    if(a.brojnik==0 || a.nazivnik==1) tok&lt;&lt;a.brojnik;
    else{
        tok&lt;&lt;a.brojnik&lt;&lt;"/"&lt;&lt;a.nazivnik;
    }
    return tok;
}
std::istream &amp;operator &gt;&gt;(std::istream &amp;tok, Razlomak &amp;a){
</font>    tok&gt;&gt;std::ws;
    long long int brojnik,nazivnik;
    tok&gt;&gt;brojnik;
    if(cin.peek()=='\n' || cin.peek()==' '){
        Razlomak c(brojnik);
        a=c;
    }else if(cin.peek()=='/'){
        char znak;
        znak=cin.get();
        tok&gt;&gt;nazivnik;

        Razlomak c(brojnik,nazivnik);
        a=c;
        if(cin.peek()!=' '||cin.peek()!='\n') tok.setstate(std::ios::failbit);
    }
    return tok;
}
Razlomak operator *(const Razlomak &amp;a,const Razlomak &amp;b){
    return {(a.brojnik/Razlomak::NZD(a.brojnik,b.nazivnik))*(b.brojnik/Razlomak::NZD(b.brojnik,a.nazivnik)),(a.nazivnik/Razlomak::NZD(b.brojnik,a.nazivnik))*(b.nazivnik/Razlomak::NZD(a.brojnik,b.nazivnik))};
    
}
Razlomak operator /(const Razlomak &amp;a,const Razlomak &amp;b){
    long long int r(Razlomak::NZD(a.nazivnik,b.nazivnik)),u(Razlomak::NZD(a.brojnik,b.brojnik));
    return {(a.brojnik/u)*(b.nazivnik/r),(a.nazivnik/r)*(b.brojnik/u)};
}
Razlomak &amp;Razlomak::operator -(){
    brojnik=-brojnik;
    return *this;
}
Razlomak &amp;Razlomak::operator +(){
    return *this;
}
<a name="0"></a><font color="#FF0000"><a href="match972-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_4.gif"/></a>

Razlomak &amp;Razlomak::operator +=(const Razlomak &amp;a){
    return *this=*this+a;
    
}
Razlomak &amp;Razlomak::operator *=(const Razlomak &amp;a){
    return *this=*this*a;
    
}
Razlomak &amp;Razlomak::operator -=(const Razlomak &amp;a){
    return *this=*this-a;
    
}
Razlomak &amp;Razlomak::operator /=(const Razlomak &amp;a){
    return *this=*this/a;
</font>    
}
Razlomak &amp;Razlomak::operator ++(){
    brojnik=brojnik+nazivnik;
    return *this;
}
Razlomak Razlomak::operator ++(int){
    Razlomak pomocni(brojnik,nazivnik);
    brojnik=brojnik+nazivnik;
    return pomocni;
}
Razlomak Razlomak::operator --(int){
    Razlomak pomocni(brojnik,nazivnik);
    brojnik=brojnik-nazivnik;
    return pomocni;
}
Razlomak &amp;Razlomak::operator --(){
    brojnik=brojnik-nazivnik;
    return *this;
}
bool operator &lt; ( Razlomak a, Razlomak b){
    return static_cast&lt;long double&gt;(a) &lt; static_cast&lt;long double&gt;(b);
}
bool operator &gt; ( Razlomak a, Razlomak b){
    return static_cast&lt;long double&gt;(a)&gt;static_cast&lt;long double&gt;(b);
}
bool operator &lt;=( Razlomak a, Razlomak b){
   return static_cast&lt;long double&gt;(a)&lt;=static_cast&lt;long double&gt;(b);
}
bool operator &gt;=( Razlomak a, Razlomak b){
    return static_cast&lt;long double&gt;(a)&gt;=static_cast&lt;long double&gt;(b);
}
bool operator ==(Razlomak a,Razlomak b){
    return (static_cast&lt;long double&gt;(a))==(static_cast&lt;long double&gt;(b));
}
bool operator !=( Razlomak a, Razlomak b){
  return static_cast&lt;long double&gt;(a)!=static_cast&lt;long double&gt;(b);
}

int main ()
{
Razlomak r,p;
        cout&lt;&lt;"Unesite prvi razlomak kao a/b: "&lt;&lt;endl;
        cin&gt;&gt;r;
        cout&lt;&lt;"Unesite drugi razlomak kao brojnik i nazivnik: "&lt;&lt;endl;
        cin.ignore(1000,'\n');
        cin.clear();
        long long int a,b;
        cin&gt;&gt;a&gt;&gt;b;
        Razlomak q(a,b);
        cout&lt;&lt;"Unesite treci razlomka kao a/b: "&lt;&lt;endl;
        cin&gt;&gt;p;
        cout&lt;&lt;"Zbir ova dva razlomka je "&lt;&lt;q+r&lt;&lt;" a proizvod je "&lt;&lt;q*r&lt;&lt;endl;
        if(p&gt;q) cout&lt;&lt;"Treci razlomak je veci od drugo."&lt;&lt;endl;
        cout&lt;&lt;"Razlmoci nakon povecanja sa ++ glase: ";
        cout&lt;&lt;r++&lt;&lt;endl;
        cout&lt;&lt;q++&lt;&lt;endl;
        cout&lt;&lt;p++&lt;&lt;endl;
	return 0;
}</pre>
</body>
</html>
