<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z5/Z3/student1375.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z5/Z3/student1375.cpp<p></p><pre>
/B16/17 (ZadaÄ‡a 5, Zadatak 3)
//Autotestovi by Enil Pajic (mail: epajic1@etf.unsa.ba)
//Za autotestove se obracati *iskljucivo* osobi koja ih pise
#include &lt;iostream&gt;
#include &lt;limits&gt;

const long long int M(std::numeric_limits&lt;int&gt;::max());
const long long int m(std::numeric_limits&lt;int&gt;::min());

class Razlomak {
<a name="3"></a><font color="#00FFFF"><a href="match303-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_2.gif"/></a>

    long long int brojnik, nazivnik;
    static long long int NZD(long long int p, long long int q) {
        if(q==0) return p;
        p%=q;
        return NZD(q,p);
    }
    public:
    Razlomak (long long int brojnik=0, long long int nazivnik=1) {
</font>        long long int nzd(NZD(brojnik,nazivnik));
        brojnik/=nzd;
        nazivnik/=nzd;
        if(nazivnik&lt;0) { brojnik=-brojnik; nazivnik=abs(nazivnik); }
        else Razlomak::brojnik=brojnik; Razlomak::nazivnik=nazivnik;
    }
    long long int DajBrojnik() { return brojnik; }
    long long int DajNazivnik() { return nazivnik; }
    friend Razlomak operator + (const Razlomak &amp;r1, const Razlomak &amp;r2);
    friend Razlomak operator - (const Razlomak &amp;r1, const Razlomak &amp;r2);
    friend Razlomak operator * (const Razlomak &amp;r1, const Razlomak &amp;r2);
    friend Razlomak operator / (const Razlomak &amp;r1, const Razlomak &amp;r2);
    friend Razlomak operator - (const Razlomak &amp;r1);
    friend Razlomak operator + (const Razlomak &amp;r1);
    friend Razlomak operator += (const Razlomak &amp;r1, const Razlomak &amp;r2);
    friend Razlomak operator -= (const Razlomak &amp;r1, const Razlomak &amp;r2);
    friend Razlomak operator *= (const Razlomak &amp;r1, const Razlomak &amp;r2);
    friend Razlomak operator /= (const Razlomak &amp;r1, const Razlomak &amp;r2);
    friend bool operator &lt; (const Razlomak &amp;r1, const Razlomak &amp;r2);
    friend bool operator &gt; (const Razlomak &amp;r1, const Razlomak &amp;r2);
    friend bool operator &lt;= (const Razlomak &amp;r1, const Razlomak &amp;r2);
    friend bool operator &gt;= (const Razlomak &amp;r1, const Razlomak &amp;r2);
    friend bool operator == (const Razlomak &amp;r1, const Razlomak &amp;r2);
    friend bool operator != (const Razlomak &amp;r1, const Razlomak &amp;r2);
    operator long double () const;
    friend std::ostream &amp;operator &lt;&lt; (std::ostream &amp;tok, const Razlomak &amp;r1);
<a name="4"></a><font color="#FF00FF"><a href="match303-1.html#4" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_2.gif"/></a>

    friend std::istream &amp;operator &gt;&gt; (std::istream &amp;tok, Razlomak &amp;r1);
};

std::ostream &amp;operator &lt;&lt; (std::ostream &amp;tok, const Razlomak &amp;r1) {
        if(r1.nazivnik==1) return tok &lt;&lt; r1.brojnik;
</font>        else return tok &lt;&lt; r1.brojnik &lt;&lt; "/" &lt;&lt; r1.nazivnik; 
    }

Razlomak::operator long double () const {
    return (long double) brojnik/nazivnik;
}

Razlomak operator + (const Razlomak &amp;r1, const Razlomak &amp;r2) {
    long long int r(r1.NZD(r1.nazivnik,r2.nazivnik));
    long long int p1(r1.brojnik), p2(r2.brojnik), q1(r1.nazivnik), q2(r2.nazivnik);
    long long int b=(p1*(q2/r)+p2*(q1/r));
    long long int n=q1*(q2/r);
    return Razlomak(b,n);
}
Razlomak operator - (const Razlomak &amp;r1, const Razlomak &amp;r2) {
    long long int r(r1.NZD(r1.nazivnik,r2.nazivnik));
    long long int p1(r1.brojnik), p2(r2.brojnik), q1(r1.nazivnik), q2(r2.nazivnik);
    long long int b=(p1*(q2/r)-p2*(q1/r));
    long long int n=q1*(q2/r);
    return Razlomak(b,n);
}
Razlomak operator * (const Razlomak &amp;r1, const Razlomak &amp;r2) {
    long long int s(r1.NZD(r1.brojnik,r2.nazivnik)),t(r1.NZD(r2.brojnik,r1.nazivnik));
    long long int p1(r1.brojnik), p2(r2.brojnik), q1(r1.nazivnik), q2(r2.nazivnik);
    long long int b=(p1/s)*(p2/t);
    long long int n=(q1/t)*(q2/s);
    return Razlomak(b,n);
}
Razlomak operator / (const Razlomak &amp;r1, const Razlomak &amp;r2) {
    long long int r(r1.NZD(r1.nazivnik,r2.nazivnik)),u(r1.NZD(r1.brojnik,r2.brojnik));
    long long int p1(r1.brojnik), p2(r2.brojnik), q1(r1.nazivnik), q2(r2.nazivnik);
    long long int b=(p1/u)*(q2/r);
    long long int n=(q1/r)*(p2/u);
    return Razlomak(b,n);
}
Razlomak operator - (const Razlomak &amp;r1) {
    long long int pom(r1.brojnik);
    pom=-pom;
    return Razlomak(pom,r1.nazivnik);
}
Razlomak operator + (const Razlomak &amp;r1) {
    return r1;
}
<a name="1"></a><font color="#00FF00"><a href="match303-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_5.gif"/></a>

Razlomak operator += (Razlomak &amp;r1, const Razlomak &amp;r2) {
    r1=r1+r2;
    return r1;
}
Razlomak &amp;operator -= (Razlomak &amp;r1, const Razlomak &amp;r2) {
    r1=r1-r2;
    return r1;
}
Razlomak &amp;operator *= (Razlomak &amp;r1, const Razlomak &amp;r2) {
    r1=r1*r2;
    return r1;
}
Razlomak &amp;operator /= (Razlomak &amp;r1, const Razlomak &amp;r2) {
    r1=r1/r2;
</font><a name="0"></a><font color="#FF0000"><a href="match303-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_9.gif"/></a>

    return r1;
}
bool operator &lt; (const Razlomak &amp;r1, const Razlomak &amp;r2) {
    return ((long double)r1.brojnik/r1.nazivnik)&lt;((long double)r2.brojnik/r2.nazivnik);
}
bool operator &gt; (const Razlomak &amp;r1, const Razlomak &amp;r2) {
    return ((long double)r1.brojnik/r1.nazivnik)&gt;((long double)r2.brojnik/r2.nazivnik);
}
bool operator &lt;= (const Razlomak &amp;r1, const Razlomak &amp;r2) {
    return ((long double)r1.brojnik/r1.nazivnik)&lt;=((long double)r2.brojnik/r2.nazivnik);
}
bool operator &gt;= (const Razlomak &amp;r1, const Razlomak &amp;r2) {
    return ((long double)r1.brojnik/r1.nazivnik)&gt;=((long double)r2.brojnik/r2.nazivnik);
</font>}
<a name="2"></a><font color="#0000FF"><a href="match303-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_3.gif"/></a>

bool operator == (const Razlomak &amp;r1, const Razlomak &amp;r2) {
    return ((long double)r1.brojnik/r1.nazivnik)==((long double)r2.brojnik/r2.nazivnik);
}
bool operator != (const Razlomak &amp;r1, const Razlomak &amp;r2) {
    return !((long double)r1.brojnik/r1.nazivnik)==((long double)r2.brojnik/r2.nazivnik);
</font>}
std::istream &amp;operator &gt;&gt; (std::istream &amp;tok, Razlomak &amp;r1) {
    char znak;
    tok &gt;&gt; r1.brojnik;
    if(!tok) tok.setstate(std::ios::failbit);
    if(tok.peek()!='/') {
        return tok;
    }
    else {
        tok &gt;&gt; znak &gt;&gt; r1.nazivnik;
        if(!tok) tok.setstate(std::ios::failbit);
    }
    return tok;
}





int main ()
{
    Razlomak r,s;
    std::cout &lt;&lt; "Unesite prvi razlomak: ";
    std::cin &gt;&gt; r;
    if(!(std::cin)) {
        std::cout &lt;&lt; "Neispravno stanje" &lt;&lt; std::endl;
        return 0;
    }
    std::cout &lt;&lt; "Unesite drugi razlomak: ";
    std::cin &gt;&gt; s;
    if(!(std::cin)) { 
        std::cout &lt;&lt; "Neispravno stanje" &lt;&lt; std::endl;
        return 0;
    }
    std::cout &lt;&lt; "Razlomak 1: " &lt;&lt; r &lt;&lt; std::endl;
    std::cout &lt;&lt; "Razlomak 2: " &lt;&lt; s &lt;&lt; std::endl;
    std::cout &lt;&lt; "Zbir razlomaka je " &lt;&lt; r+s &lt;&lt; ", a njihova razlika je " &lt;&lt; r-s &lt;&lt; "." &lt;&lt; std::endl;
    std::cout &lt;&lt; "Proizvod razlomaka je " &lt;&lt; r*s &lt;&lt; ", a njihov kolicnik je " &lt;&lt; r/s &lt;&lt; "." &lt;&lt; std::endl;
    if(r&lt;s) std::cout &lt;&lt; "Prvi razlomak je manji od drugog!" &lt;&lt; std::endl;
    else if(r&gt;s) std::cout &lt;&lt; "Prvi razlomak je veci od drugog!" &lt;&lt; std::endl;
    else if(r==s) std::cout &lt;&lt; "Razlomci su jednaki!" &lt;&lt; std::endl;
	return 0;
}</pre>
</body>
</html>
