<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z5/Z3/student3186.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z5/Z3/student3186.cpp<p></p><pre>
/B16/17 (ZadaÄ‡a 5, Zadatak 3) a.k.a Wolfram Alpha
#include &lt;stdexcept&gt;
#include &lt;iostream&gt;
#include &lt;limits&gt;
#include &lt;string&gt;
#include &lt;cmath&gt;

class Razlomak {
    long long int brojnik, nazivnik;
    static long long int NZD (long long int x_, long long int y_) {
        if (y_ == 0) return x_; return Razlomak::NZD(y_, x_%y_);
    }
    static void overflow_test (const long long int &amp;x, const long long int &amp;y, char kontrol_znak) {
        if (kontrol_znak == '+') {
            if (y &gt; 0) if (x &gt; std::numeric_limits&lt;long long int&gt;::max() - y) throw std::overflow_error ("Nemoguce dobiti tacan rezultat");
            if (y &lt; 0) if (x &lt; std::numeric_limits&lt;long long int&gt;::min() - y) throw std::overflow_error ("Nemoguce dobiti tacan rezultat");
        }   else if (kontrol_znak == '*') {
            if (y &gt; 0) 
                if (x &lt; (std::numeric_limits&lt;long long int&gt;::min() / y) or x &gt; (std::numeric_limits&lt;long long int&gt;::max() / y))
                    throw std::overflow_error ("Nemoguce dobiti tacan rezultat");
            if (y &lt; 0)
                if (x == std::numeric_limits&lt;long long int&gt;::min() or (-1)*x &gt; (std::numeric_limits&lt;long long int&gt;::max() / ((-1)*y)) or 
                (-1)*x &lt; (std::numeric_limits&lt;long long int&gt;::min() / ((-1)*y)))  throw std::overflow_error ("Nemoguce dobiti tacan rezultat");
        }
    }
    static bool JesuLiJednaki (long double x, long double y, double Eps = 1e-10) {
        return std::fabs(x - y) &lt;= Eps * (std::fabs(x) + std::fabs(y));
    }
public:
    Razlomak (long long int brojnik = 0, long long int nazivnik = 1) {
        if (nazivnik == 0) throw std::logic_error ("Nekorektan razlomak");
        if (brojnik &lt; 0 and nazivnik &lt; 0) brojnik *= -1, nazivnik *= -1;
        else if (brojnik &gt; 0 and nazivnik &lt; 0) brojnik *= -1, nazivnik *= -1;
            Razlomak::brojnik = brojnik/NZD(std::abs(brojnik), std::abs(nazivnik));
            Razlomak::nazivnik = nazivnik/NZD(std::abs(brojnik), std::abs(nazivnik));
    }
    
    long long int DajBrojnik() const {  return brojnik; }
    long long int DajNazivnik() const { return nazivnik; }
    
    // automatizovana konverzija 
    operator long double() const;
    // Osnovni operatori (binarni)..
    friend Razlomak operator +(const Razlomak &amp;x, const Razlomak &amp;y);
    friend Razlomak operator -(const Razlomak &amp;x, const Razlomak &amp;y);
    friend Razlomak operator *(const Razlomak &amp;x, const Razlomak &amp;y);
    friend Razlomak operator /(const Razlomak &amp;x, const Razlomak &amp;y);
    // Unarni operatori ..
    friend Razlomak operator +(const Razlomak &amp;razlomak);
    friend Razlomak operator -(const Razlomak &amp;razlomak);
    // +=, -=, *=, /= ..
    Razlomak &amp;operator +=(const Razlomak &amp;razlomak);
    Razlomak &amp;operator -=(const Razlomak &amp;razlomak);
    Razlomak &amp;operator *=(const Razlomak &amp;razlomak);
    Razlomak &amp;operator /=(const Razlomak &amp;razlomak);
    // ++i, i++, --i, i-- ..
    friend Razlomak &amp;operator ++(const Razlomak &amp;razlomak);
    friend Razlomak &amp;operator ++(const Razlomak &amp;razlomak, int);
    friend Razlomak &amp;operator --(const Razlomak &amp;razlomak);
<a name="4"></a><font color="#FF00FF"><a href="match517-1.html#4" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_1.gif"/></a>

    friend Razlomak &amp;operator --(const Razlomak &amp;razlomak, int);
    // Par buleana ..
    friend Razlomak operator &lt;(const Razlomak &amp;x, const Razlomak &amp;y);
    friend Razlomak operator &gt;(const Razlomak &amp;x, const Razlomak &amp;y);
</font>    friend Razlomak operator &lt;=(const Razlomak &amp;x, const Razlomak &amp;y);
    friend Razlomak operator &gt;=(const Razlomak &amp;x, const Razlomak &amp;y);
<a name="3"></a><font color="#00FFFF"><a href="match517-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_1.gif"/></a>

    friend Razlomak operator ==(const Razlomak &amp;x, const Razlomak &amp;y);
    friend Razlomak operator !=(const Razlomak &amp;x, const Razlomak &amp;y);
    // &lt;&lt; &gt;&gt; &lt;&lt; &gt;&gt; ..
    friend std::ostream &amp;operator &lt;&lt;(std::ostream &amp;tok, const Razlomak &amp;raz);
</font>    friend std::istream &amp;operator &gt;&gt;(std::istream &amp;tok, Razlomak &amp;raz);
};

// automatische konverzische
Razlomak::operator long double()const {
    long double x = (long double)(brojnik)/nazivnik;
    return x;
}

// Osnovni operatori (binarni)..
Razlomak operator +(const Razlomak &amp;x, const Razlomak &amp;y) {
    long long int NZD_ = Razlomak::NZD(x.nazivnik, y.nazivnik);
    Razlomak::overflow_test(x.brojnik, (y.nazivnik/NZD_), '*'); 
    Razlomak::overflow_test(y.brojnik, (x.nazivnik/NZD_), '*');
    Razlomak::overflow_test(x.nazivnik, (y.nazivnik/NZD_), '*');
    Razlomak::overflow_test((x.brojnik*(y.nazivnik/NZD_)), (y.brojnik*(x.nazivnik/NZD_)), '+');
<a name="0"></a><font color="#FF0000"><a href="match517-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_1.gif"/></a>

    Razlomak output ({(x.brojnik * (y.nazivnik/NZD_)) + (y.brojnik * (x.nazivnik/NZD_))}, 
        {x.nazivnik * (y.nazivnik/NZD_)});  return output;
}

Razlomak operator -(const Razlomak &amp;x, const Razlomak &amp;y) {
    long long int NZD_ = Razlomak::NZD(x.nazivnik, y.nazivnik);
</font>    Razlomak::overflow_test(x.brojnik, (y.nazivnik/NZD_), '*');
    Razlomak::overflow_test(y.brojnik, (x.nazivnik/NZD_), '*');
    Razlomak::overflow_test(x.nazivnik, (y.nazivnik/NZD_), '*');
    Razlomak::overflow_test((x.brojnik*(y.nazivnik/NZD_)), (y.brojnik*(x.nazivnik/NZD_)), '+');
<a name="1"></a><font color="#00FF00"><a href="match517-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_1.gif"/></a>

    Razlomak output ({(x.brojnik * (y.nazivnik/NZD_)) - (y.brojnik * (x.nazivnik/NZD_))},
        {x.nazivnik * (y.nazivnik/NZD_)});  return output;
}

Razlomak operator *(const Razlomak &amp;x, const Razlomak &amp;y) {
    long long int s = Razlomak::NZD(x.brojnik, y.nazivnik), t = Razlomak::NZD(y.brojnik, x.nazivnik);
</font>    Razlomak::overflow_test((x.brojnik/s), (y.brojnik/t), '*');
    Razlomak::overflow_test((x.nazivnik/t), (y.nazivnik/s), '*');
<a name="2"></a><font color="#0000FF"><a href="match517-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_1.gif"/></a>

    Razlomak output ({(x.brojnik/s)*(y.brojnik/t)}, {(x.nazivnik/t)*(y.nazivnik/s)}); return output;
}

Razlomak operator /(const Razlomak &amp;x, const Razlomak &amp;y) {
    long long int r = Razlomak::NZD(x.nazivnik, y.nazivnik), u = Razlomak::NZD(x.brojnik, y.brojnik);
</font>    Razlomak::overflow_test((x.brojnik/u), (y.nazivnik/r), '*');
    Razlomak::overflow_test((x.nazivnik/r), (y.brojnik/u), '*');
<a name="5"></a><font color="#FF0000"><a href="match517-1.html#5" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_1.gif"/></a>

    Razlomak output ({(x.brojnik/u)*(y.nazivnik/r)}, {(x.nazivnik/r)*(y.brojnik/u)}); return output;
}

// Unarni operatori ..
Razlomak operator +(const Razlomak &amp;razlomak) {
</font>    return razlomak;
}

Razlomak operator -(const Razlomak &amp;razlomak) {
    Razlomak::overflow_test((-1), razlomak.brojnik, '*');
    return Razlomak {(-1)*razlomak.brojnik, razlomak.nazivnik};
}

// +=, -=, *=, /= ...
Razlomak &amp;Razlomak::operator +=(const Razlomak &amp;razlomak) {
    Razlomak(brojnik, nazivnik) = Razlomak(brojnik, nazivnik) + razlomak;
    return *this;
}

Razlomak &amp;Razlomak::operator -=(const Razlomak &amp;razlomak) {
    Razlomak(brojnik, nazivnik) = Razlomak(brojnik, nazivnik) + razlomak;
    return *this;
}

Razlomak &amp;Razlomak::operator *=(const Razlomak &amp;razlomak) {
    Razlomak(brojnik, nazivnik) = Razlomak(brojnik, nazivnik) * razlomak;
    return *this;
}

Razlomak &amp;Razlomak::operator /=(const Razlomak &amp;razlomak) {
    Razlomak(brojnik, nazivnik) = Razlomak(brojnik, nazivnik) / razlomak;
    return *this;
}

// i++, i--, ++i, --i ...
Razlomak operator ++(Razlomak &amp;razlomak) {
    razlomak += Razlomak{1};  return razlomak;
}

Razlomak operator ++(Razlomak &amp;razlomak, int) {
    Razlomak temp{razlomak};  temp += Razlomak{1};
    return temp;
}

Razlomak operator --(Razlomak &amp;razlomak) {
    razlomak -= Razlomak{1};  return razlomak;
}

Razlomak operator --(Razlomak &amp;razlomak, int) {
    Razlomak temp{razlomak};  temp += Razlomak{1};
    return temp;
}

// Par buleana .....
Razlomak operator ==(const Razlomak &amp;x, const Razlomak &amp;y) {
    if ( Razlomak::JesuLiJednaki( (long double) x, (long double) y )) 
        return true; return false;
}

Razlomak operator !=(const Razlomak &amp;x, const Razlomak &amp;y) {
    if ( not( Razlomak::JesuLiJednaki( (long double) x, (long double) y ) )) 
        return true; return false;
}

Razlomak operator &lt;(const Razlomak &amp;x, const Razlomak &amp;y) {
    if ( (long double) x &lt; (long double) y ) 
        return true;   return false;
}

Razlomak operator &gt;(const Razlomak &amp;x, const Razlomak &amp;y) {
    if ( (long double) x &gt; (long double)y ) 
        return true;   return false;
}

Razlomak operator &lt;=(const Razlomak &amp;x, const Razlomak &amp;y) {
    if ( (long double)x &lt; (long double) y or Razlomak::JesuLiJednaki( (long double)x, (long double)y) )
        return true; return false;
}

Razlomak operator &gt;=(const Razlomak &amp;x, const Razlomak &amp;y) {
    if ( (long double) x &gt; (long double) y or Razlomak::JesuLiJednaki( (long double) x, (long double) y) ) 
<a name="6"></a><font color="#00FF00"><a href="match517-1.html#6" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_1.gif"/></a>

        return true; return false;
}

// &lt;&lt; &gt;&gt; &lt;&lt; &gt;&gt; ...
std::ostream &amp;operator &lt;&lt;(std::ostream &amp;tok, const Razlomak &amp;raz) {
    if (raz.brojnik == 0 or raz.nazivnik == 1) tok &lt;&lt; raz.brojnik;
</font>    else tok &lt;&lt; raz.brojnik &lt;&lt; "/" &lt;&lt; raz.nazivnik ; return tok;
}

std::istream &amp;operator &gt;&gt;(std::istream &amp;tok, Razlomak &amp;raz) {
    char znak; long long int x{0}, y{1};
    
    tok &gt;&gt; std::ws;
    if (tok.peek() &gt;= '0' and tok.peek() &lt;= '9')
        tok &gt;&gt; x;   else tok.setstate(std::ios::failbit);
    if (tok.peek() != ' ' and tok.peek() != '\n' and
    tok.peek() != '\r' and tok.peek() != '\f' and
    tok.peek() != '\v' and tok.peek() != '\t' and 
    tok.peek() != '/') tok.setstate(std::ios::failbit);
    if (tok.peek() == '/') {
        tok &gt;&gt; znak;
            if (tok.peek() &gt;= '0' and tok.peek() &lt;= '9')
                tok &gt;&gt; y;   else tok.setstate(std::ios::failbit);
    }   
    if (tok.peek() != ' ' and tok.peek() != '\n' and
    tok.peek() != '\r' and tok.peek() != '\f' and
    tok.peek() != '\v' and tok.peek() != '\t') tok.setstate(std::ios::failbit);
    raz = Razlomak{x,y}; return tok;
}

int main ()
{
    // Ma nisam puk'o 100% :') :')
    std::string lozinka;
    std::cout &lt;&lt; "..::Dobrodosli u Svijet Razlomaka::.." &lt;&lt; std::endl;
    std::cout &lt;&lt; "+-----------------------------------+" &lt;&lt; std::endl;
    std::cout &lt;&lt; "| Molimo unesite lozinku za pristup |" &lt;&lt; std::endl;
    std::cout &lt;&lt; "+-----------------------------------+" &lt;&lt; std::endl;
    std::cout &lt;&lt; "Lozinka (HINT: ispod 50 je karaktera):"&lt;&lt; std::endl;
    std::getline (std::cin, lozinka);
    if (lozinka == "insomnija") {
        std::cout &lt;&lt; "Tacno !" &lt;&lt; std::endl;
        Razlomak prvi, drugi;
        std::cout &lt;&lt; "Unesite prvi razlomak: " &lt;&lt; std::endl;
        std::cin &gt;&gt; prvi;
        std::cout &lt;&lt; "Unesite drugi razlomak: " &lt;&lt; std::endl;
        std::cin &gt;&gt; drugi;
        for (;;) {
            int kontrolna{0};
            std::cout &lt;&lt; "Unesite opciju (0 za listu opcija): ";
            std::cin &gt;&gt; kontrolna;
            if (kontrolna == 0) {
                std::cout &lt;&lt; "+-----------------------------------+" &lt;&lt; std::endl;
                std::cout &lt;&lt; "| 1. Za sabiranje 2 razlomka        |" &lt;&lt; std::endl;
                std::cout &lt;&lt; "| 2. Za oduzimanje 2 razlomka       |" &lt;&lt; std::endl;
                std::cout &lt;&lt; "| 3. Za dijeljenje 2 razlomka       |" &lt;&lt; std::endl;
                std::cout &lt;&lt; "| 4. Za mnozenje 2 razlomka         |" &lt;&lt; std::endl;
                std::cout &lt;&lt; "| 5. Za == provjeru 2 razlomka      |" &lt;&lt; std::endl;
                std::cout &lt;&lt; "| 6. Za != provjeru 2 razlomka      |" &lt;&lt; std::endl;
                std::cout &lt;&lt; "| 7. Za &gt; provjeru 2 razlomka       |" &lt;&lt; std::endl;
                std::cout &lt;&lt; "| 8. Za &lt; provjeru 2 razlomka       |" &lt;&lt; std::endl;
                std::cout &lt;&lt; "| 9. Za &gt;= provjeru 2 razlomka      |" &lt;&lt; std::endl;
                std::cout &lt;&lt; "| 10. Za ispis 2 razlomka           |" &lt;&lt; std::endl;
                std::cout &lt;&lt; "| 11. Za ispis u double             |" &lt;&lt; std::endl;
                std::cout &lt;&lt; "| 12. ili else za izlaz             |" &lt;&lt; std::endl;
                std::cout &lt;&lt; "+-----------------------------------+" &lt;&lt; std::endl;
            }
            else if (kontrolna == 1) {
                std::cout &lt;&lt; "Sabrana 2 razlomka su: " &lt;&lt; prvi + drugi &lt;&lt; std::endl;
            }
            else if (kontrolna == 2) {
                std::cout &lt;&lt; "Oduzeta 2 razlomka su: " &lt;&lt; prvi - drugi &lt;&lt; std::endl;
            }
            else if (kontrolna == 3) {
                std::cout &lt;&lt; "Podijeljena 2 razlomka su: " &lt;&lt; prvi / drugi &lt;&lt; std::endl;
            }
            else if (kontrolna == 4) {
                std::cout &lt;&lt; "Pomnozena 2 razlomka su: " &lt;&lt; prvi * drugi &lt;&lt; std::endl;
            }
            else if (kontrolna == 5) {
                bool tacnost(prvi == drugi);
                std::cout &lt;&lt; "prvi razlomak == drugi razlomak" &lt;&lt; std::boolalpha &lt;&lt; " je " &lt;&lt; tacnost &lt;&lt; "." &lt;&lt; std::endl;
            }
            else if (kontrolna == 6) {
                bool tacnost(prvi != drugi);
                std::cout &lt;&lt; "prvi razlomak != drugi razlomak" &lt;&lt; std::boolalpha &lt;&lt; " je " &lt;&lt; tacnost &lt;&lt; "." &lt;&lt; std::endl;
            }
            else if (kontrolna == 7) {
                bool tacnost(prvi &gt; drugi);
                std::cout &lt;&lt; "prvi razlomak &gt; drugi razlomak" &lt;&lt; std::boolalpha &lt;&lt; " je " &lt;&lt; tacnost &lt;&lt; "." &lt;&lt; std::endl;
            }
            else if (kontrolna == 8) {
                bool tacnost (prvi &lt; drugi);
                std::cout &lt;&lt; "prvi razlomak &lt; drugi razlomak" &lt;&lt; std::boolalpha &lt;&lt; " je " &lt;&lt; tacnost &lt;&lt; "." &lt;&lt; std::endl;
            }
            else if (kontrolna == 9) {
                bool tacnost (prvi &gt;= drugi);
                std::cout &lt;&lt; "prvi razlomak &gt;= drugi razlomak" &lt;&lt; std::boolalpha &lt;&lt; " je " &lt;&lt; tacnost &lt;&lt; "." &lt;&lt; std::endl;
            }
            else if (kontrolna == 10) {
                std::cout &lt;&lt; "Ispis 2 razlomka.. prvi: " &lt;&lt; prvi &lt;&lt; " drugi: " &lt;&lt; drugi &lt;&lt; "." &lt;&lt; std::endl;
            }
            else if (kontrolna == 11) {
                std::cout &lt;&lt; "Ispis u double .. prvi: " &lt;&lt; (long double)(prvi) &lt;&lt; " drugi: " &lt;&lt; (long double)(drugi) &lt;&lt; "." &lt;&lt; std::endl;
            }   else {  std::cout &lt;&lt; "Hvala, doÄ‘ite opet!" &lt;&lt; std::endl; break;    }
        }
    }   else std::cout &lt;&lt; "Netacna lozinka :(";
    return 0;
}</pre>
</body>
</html>
