<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z5/Z3/student5536.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z5/Z3/student5226.cpp<p></p><pre>
/B16/17 (ZadaÄ‡a 5, Zadatak 3)
//Autotestovi by Enil Pajic (mail: epajic1@etf.unsa.ba)
//Za autotestove se obracati *iskljucivo* osobi koja ih pise
#include &lt;iostream&gt;
#include &lt;stdexcept&gt;
class Razlomak{
    long long int brojnik, nazivnik;
    static  int NZD(long long int p,long long int q){
        int nzd;
        if(p==0) {
            nzd=0;
            return nzd;
        }
        else{
           return  nzd=q/(p%q);}
    }
    
    public:
    Razlomak (long long int br,long long int naz){
        if(naz&lt;0 &amp;&amp; br&gt;0) {
            naz=naz*(-1);
            br=br*(-1);
        }
        else if(naz&lt;0 &amp;&amp; br&lt;0){
            naz=naz*(-1);
            br=br*(-1);
        }
        else if(naz==0) throw std::logic_error("Nekorektna razlomak");
        int broj;
        broj=NZD(br,naz);
        if(broj!=0 &amp;&amp; br%broj==0 &amp;&amp; naz%broj==0){
            br=br/broj;
            naz=naz/broj;
        }
        brojnik=br;
        nazivnik=naz;
    }
    
    
    
    Razlomak(long long int br){
        brojnik=br;
        nazivnik=1;
    }
    Razlomak(){
        brojnik=0;
        nazivnik=1;
    }
   long long int DajBrojnik() const { return brojnik;}
    long long int DajNazivnik() const { return nazivnik; }
    
    friend Razlomak operator+(const Razlomak &amp;r1,const Razlomak &amp;r2){
<a name="1"></a><font color="#00FF00"><a href="match859-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_2.gif"/></a>

        int r=NZD(r1.nazivnik,r2.nazivnik);
        Razlomak r3;
        r3.brojnik=r1.brojnik*(r2.nazivnik/r)+r2.brojnik*(r1.nazivnik/r);
</font>        r3.nazivnik=r1.nazivnik*r2.nazivnik/r;
        return r3;
    }
    friend Razlomak operator-(const Razlomak &amp;r1, const Razlomak &amp;r2){
<a name="0"></a><font color="#FF0000"><a href="match859-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_3.gif"/></a>

        int r=NZD(r1.nazivnik,r2.nazivnik);
        Razlomak r3;
        r3.brojnik=r1.brojnik*(r2.nazivnik/r)-r2.brojnik*(r1.nazivnik/r);
        r3.nazivnik=r1.nazivnik*r2.nazivnik/r;
</font>        return r3;
    }
    
    friend Razlomak operator *(const Razlomak &amp;r1, const Razlomak &amp;r2){
        int s=NZD(r1.brojnik,r2.nazivnik);
<a name="2"></a><font color="#0000FF"><a href="match859-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_2.gif"/></a>

        int t=NZD(r1.nazivnik,r2.brojnik);
        Razlomak r3;
        r3.brojnik=r1.brojnik/s * r2.brojnik/t;
        r3.nazivnik=r1.nazivnik/t * r2.nazivnik/s;
</font>        return r3;
    }
    
    friend Razlomak operator/(const Razlomak &amp;r1, const Razlomak &amp;r2){
        int r=NZD(r1.nazivnik,r2.nazivnik);
<a name="3"></a><font color="#00FFFF"><a href="match859-0.html#3" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_2.gif"/></a>

        int u=NZD(r1.brojnik,r2.brojnik);
        Razlomak r3;
        r3.brojnik=r1.brojnik/u * r2.brojnik/u;
        r3.nazivnik=r1.nazivnik/r * r2.nazivnik/r;
</font>        return r3;
    }
    //uvesti prekoracenja u operatorima gore
    
    friend Razlomak operator -(const Razlomak &amp;r1){
        return { -r1.brojnik/r1.nazivnik };
    }
    
    friend Razlomak operator + (const Razlomak &amp;r1){
        return { r1.brojnik / r1.nazivnik };
    }
    
    friend Razlomak &amp;operator +=(Razlomak &amp;r1, const Razlomak &amp;r2){
        int r=NZD(r1.nazivnik,r2.nazivnik);
        r1=(r1.brojnik * r2.nazivnik/r + r2.brojnik *r1.nazivnik/r) / (r1.nazivnik*r2.nazivnik/r);
        return r1;
    }
    friend Razlomak &amp;operator-=(Razlomak &amp;r1, const Razlomak &amp;r2){
        int r=NZD(r1.nazivnik,r2.nazivnik);
        r1=(r1.brojnik *r2.nazivnik/r -r2.brojnik *r1.nazivnik/r) / (r1.nazivnik*r2.nazivnik/r);
        return r1;
    }
    
    friend Razlomak &amp;operator *=(Razlomak &amp;r1, const Razlomak &amp;r2){
        int s=NZD(r1.brojnik,r2.nazivnik);
        int t=NZD(r1.nazivnik,r2.brojnik);
        r1=(r1.brojnik/s) * (r2.brojnik/t) / (r1.nazivnik/t) * (r2.brojnik/s);
        return r1;
    }
    friend Razlomak &amp;operator /=(Razlomak &amp;r1, const Razlomak &amp;r2){
        int u=NZD(r1.brojnik,r2.brojnik);
        int r=NZD(r1.nazivnik,r2.nazivnik);
        r1= (r1.brojnik/u) *(r2.nazivnik/r) / (r1.nazivnik/r) *(r2.brojnik/u);
        return r1;
    }
    
    friend Razlomak operator++(Razlomak &amp;r,int) {
        Razlomak pomocni(r);
        r=r.brojnik+r.nazivnik / r.nazivnik;
        return pomocni;
    }
    
    friend Razlomak &amp;operator++(Razlomak &amp;r){
        r=r.brojnik+r.nazivnik / r.nazivnik;
        return r;
    }
    friend bool operator ==(const Razlomak &amp;r1, const Razlomak &amp;r2){
        if(r1.brojnik%r2.brojnik==0 &amp;&amp; r1.nazivnik%r2.nazivnik==0)
        return r1.brojnik==r2.brojnik &amp;&amp; r1.nazivnik==r2.nazivnik;
    }
    friend bool operator!=(const Razlomak &amp;r1, const Razlomak &amp;r2){
        return !(r1==r2);
    }
    friend bool operator &lt;(const Razlomak &amp;r1, const Razlomak &amp;r2){
        long double razlomak1, razlomak2;
        razlomak1=r1.brojnik/r2.nazivnik;
<a name="4"></a><font color="#FF00FF"><a href="match859-0.html#4" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_2.gif"/></a>

        razlomak2=r2.brojnik/r2.nazivnik;
        if(razlomak1&lt;razlomak2) return true;
        else return false;
    }
    friend bool operator&gt;(const Razlomak &amp;r1, const Razlomak &amp;r2){
        long double razlomak1,razlomak2;
</font>        razlomak1=r1.brojnik/r1.nazivnik;
<a name="5"></a><font color="#FF0000"><a href="match859-0.html#5" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_2.gif"/></a>

        razlomak2=r2.brojnik/r2.nazivnik;
        if(razlomak1&gt;razlomak2) return true;
        else return false;
    }
    friend bool operator &lt;=(const Razlomak &amp;r1, const Razlomak &amp;r2){
        long double razlomak1,razlomak2;
</font>        razlomak1=r1.brojnik/r1.nazivnik;
        razlomak2=r2.brojnik/r2.nazivnik;
        if(razlomak1&lt;razlomak2 || razlomak1==razlomak2) return true;
        else return false;
        
    }
    friend bool operator &gt;=(const Razlomak &amp;r1, const Razlomak &amp;r2){
        long double razlomak1,razlomak2;
        razlomak1=r1.brojnik/r1.nazivnik;
        razlomak2=r2.brojnik/r2.nazivnik;
        if(razlomak1&gt;razlomak2 || razlomak1==razlomak2) return true;
        else return false;
    }
    friend std::ostream &amp;operator &lt;&lt;(std::ostream &amp;tok, const Razlomak &amp;r1){
       
        if(r1.nazivnik!=1)
        tok&lt;&lt;r1.brojnik&lt;&lt;"/"&lt;&lt;r1.nazivnik;
        else 
        tok&lt;&lt;r1.brojnik;
        return tok;
    }
    
    friend std::istream &amp;operator &gt;&gt; (std::istream &amp;tok, Razlomak &amp;r1){
        char znak;
        tok&gt;&gt;std::ws;
        tok&gt;&gt;r1.brojnik;
        if(tok.peek()!='/') r1.nazivnik=1;
        else {
            tok&gt;&gt;znak;
            if(znak!='/') tok.setstate(std::ios::failbit);
            tok&gt;&gt;r1.nazivnik;
        }
        return tok;
    }
};
int main ()
{
    Razlomak r1(17,8),r2(4),r3,r4=10/20;
    std::cout&lt;&lt;"r1= "&lt;&lt;r1&lt;&lt;" r2= "&lt;&lt;r2&lt;&lt;" r3= "&lt;&lt;r3&lt;&lt;"r4= "&lt;&lt;r4;
    std::cout&lt;&lt;r3+r4;
	return 0;
}</pre>
</body>
</html>
