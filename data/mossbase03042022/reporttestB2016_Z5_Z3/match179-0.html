<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z5/Z3/student5122.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z5/Z3/student5122.cpp<p></p><pre>
/B16/17 (ZadaÄ‡a 5, Zadatak 3)
//Autotestovi by Enil Pajic (mail: epajic1@etf.unsa.ba)
//Za autotestove se obracati *iskljucivo* osobi koja ih pise
#include &lt;iostream&gt;
#include &lt;stdexcept&gt;
#include &lt;iomanip&gt;
class Razlomak{
    long long int b, n;
    static int NZD(long long int p, long long int q){
        if(q==0) return p;
        return NZD(q,p%q);
    }
    public:
    Razlomak(){
        b=0; n=1;
    }
    Razlomak(long long int brojnik, long long int nazivnik){
        if(nazivnik==0) throw std::logic_error("Nekorektan razlomak");
        if(nazivnik&lt;0){
            brojnik=-brojnik;
            nazivnik=-nazivnik;
        }
            b=brojnik/NZD(brojnik,nazivnik);
            n=nazivnik/NZD(brojnik,nazivnik);
        
    }
    Razlomak(long long int brojnik){
        b=brojnik;
        n=1;
    }
    Razlomak(std::initializer_list&lt;long long int&gt; l){
        b=*l.begin();
        n=*(l.end()-1);
    }
    long long int DajNazivnik()const{return n;}
    long long int DajBrojnik()const{return b;}
    friend Razlomak operator+(const Razlomak &amp;r1, const Razlomak &amp;r2);
    friend Razlomak operator-(const Razlomak &amp;r1, const Razlomak &amp;r2);
<a name="10"></a><font color="#FF0000"><a href="match179-1.html#10" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_2.gif"/></a>

    friend Razlomak operator*(const Razlomak &amp;r1, const Razlomak &amp;r2);
    friend Razlomak operator/(const Razlomak &amp;r1, const Razlomak &amp;r2);
    friend Razlomak operator+(const Razlomak &amp;r){
        return r;
    }
    friend Razlomak operator-(const Razlomak &amp;r){
</font>        return Razlomak(-r.b,-r.n);
    }
    friend Razlomak &amp;operator +=(Razlomak &amp;r1, const Razlomak &amp;r2){
        r1=r1+r2;
        return r1;
    }
    friend Razlomak &amp;operator -=(Razlomak &amp;r1, const Razlomak &amp;r2){
        r1=r1-r2;
        return r1;
    }
    friend Razlomak &amp;operator *=(Razlomak &amp;r1, const Razlomak &amp;r2){
        r1=r1*r2;
        return r1;
    }
    friend Razlomak &amp;operator /=(Razlomak &amp;r1, const Razlomak &amp;r2){
        r1=r1/r2;
        return r1;
    }
    friend Razlomak &amp;operator ++(Razlomak &amp;r);
    friend Razlomak operator ++(Razlomak &amp;r, int);
    friend Razlomak &amp;operator --(Razlomak &amp;r);
    friend Razlomak operator --(Razlomak &amp;r, int);
    friend bool operator&lt;(const Razlomak &amp;r1, const Razlomak &amp;r2);
    friend bool operator&gt;(const Razlomak &amp;r1, const Razlomak &amp;r2);
    friend bool operator&lt;=(const Razlomak &amp;r1, const Razlomak &amp;r2);
    friend bool operator&gt;=(const Razlomak &amp;r1, const Razlomak &amp;r2);
<a name="5"></a><font color="#FF0000"><a href="match179-1.html#5" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_2.gif"/></a>

    friend bool operator==(const Razlomak &amp;r1, const Razlomak &amp;r2);
    friend bool operator!=(const Razlomak &amp;r1, const Razlomak &amp;r2);
    friend std::ostream &amp;operator&lt;&lt;(std::ostream &amp;tok, const Razlomak &amp;r);
</font>    friend std::istream &amp;operator&gt;&gt;(std::istream &amp;tok, Razlomak &amp;r);
    operator long double()const{
        long double a,b;
        a=this-&gt;b; b=this-&gt;n;
        return a/b;
    }
};
Razlomak operator +(const Razlomak &amp;r1, const Razlomak &amp;r2){
    Razlomak s;
<a name="2"></a><font color="#0000FF"><a href="match179-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_4.gif"/></a>

    s.b=(r1.b*(r2.n/Razlomak::NZD(r1.n,r2.n))+r2.b*(r1.n/Razlomak::NZD(r1.n,r2.n)));
    s.n=(r1.n*(r2.n/Razlomak::NZD(r1.n,r2.n)));    
</font>    return Razlomak(s.b,s.n);
}
Razlomak operator -(const Razlomak &amp;r1, const Razlomak &amp;r2){
    Razlomak s;
<a name="3"></a><font color="#00FFFF"><a href="match179-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_3.gif"/></a>

    s.b=(r1.b*(r2.n/Razlomak::NZD(r1.n,r2.n))-r2.b*(r1.n/Razlomak::NZD(r1.n,r2.n)));
    s.n=(r1.n*(r2.n/Razlomak::NZD(r1.n,r2.n)));
</font>     return Razlomak(s.b,s.n);
}
Razlomak operator *(const Razlomak &amp;r1, const Razlomak &amp;r2){
    Razlomak s;
<a name="0"></a><font color="#FF0000"><a href="match179-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_4.gif"/></a>

    s.b=((r1.b/Razlomak::NZD(r1.b,r2.n))*(r2.b/Razlomak::NZD(r2.b,r1.n)));
    s.n=((r1.n/Razlomak::NZD(r2.b,r1.n))*(r2.n/Razlomak::NZD(r1.b,r2.n)));
</font>    return Razlomak(s.b,s.n);
}
Razlomak operator /(const Razlomak &amp;r1, const Razlomak &amp;r2){
    Razlomak s;
<a name="1"></a><font color="#00FF00"><a href="match179-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_4.gif"/></a>

    s.b=((r1.b/Razlomak::NZD(r1.b,r2.b))*(r2.n/Razlomak::NZD(r1.n,r2.n)));
    s.n=((r1.n/Razlomak::NZD(r1.n,r2.n))*(r2.b/Razlomak::NZD(r1.b,r2.b)));
</font>    return Razlomak(s.b,s.n);
}
Razlomak &amp;operator ++(Razlomak &amp;r){
    r+=1;
    return r;
}
Razlomak operator ++(Razlomak &amp;r,int){
    Razlomak pom(r);
    r++;
    return pom;
}
Razlomak &amp;operator --(Razlomak &amp;r){
    r-=1;
    return r;
}
Razlomak operator --(Razlomak &amp;r,int){
    Razlomak pom(r);
    r--;
    return pom;
}
std::ostream &amp;operator&lt;&lt;(std::ostream &amp;tok, const Razlomak &amp;r){
    if(r.n==1){
        tok&lt;&lt;r.b; return tok;
    }else{
        Razlomak novi(r.b,r.n);
        if(novi.n==1){
            tok&lt;&lt;novi.b; return tok;
        }else{
<a name="11"></a><font color="#00FF00"><a href="match179-1.html#11" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_1.gif"/></a>

        tok&lt;&lt;novi.b&lt;&lt;"/"&lt;&lt;novi.n;
    }}
    return tok;
}
std::istream &amp;operator&gt;&gt;(std::istream &amp;tok,Razlomak &amp;r){
</font>    char znak;
    tok&gt;&gt;std::ws;
    tok&gt;&gt;r.b;
    if(tok.peek()!='/'){
        r.n=1;
        return tok;
    }else{
        tok&gt;&gt;znak&gt;&gt;r.n;
    if(tok.peek()!=' ' &amp;&amp; tok.peek()!='\n' &amp;&amp; tok.peek()!='\t' &amp;&amp; tok.peek()!='\r' &amp;&amp; tok.peek()!='\v' &amp;&amp; tok.peek()!='\f') tok.setstate(std::ios::failbit);
    auto pom=r.b;
    r.b/=Razlomak::NZD(r.b,r.n);
<a name="4"></a><font color="#FF00FF"><a href="match179-1.html#4" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_2.gif"/></a>

    r.n/=Razlomak::NZD(pom,r.n);
    return tok;
    }
}
bool operator&lt;(const Razlomak &amp;r1, const Razlomak &amp;r2){
    long double a,b;
    a=r1.b/r1.n; b=r2.b/r2.n;
</font>    return a&lt;b;
}
<a name="7"></a><font color="#0000FF"><a href="match179-1.html#7" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_2.gif"/></a>

bool operator&gt;(const Razlomak &amp;r1, const Razlomak &amp;r2){
    long double a,b;
    a=r1.b/r1.n; b=r2.b/r2.n;
</font>    return a&gt;b;
}
<a name="8"></a><font color="#00FFFF"><a href="match179-1.html#8" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_2.gif"/></a>

bool operator&lt;=(const Razlomak &amp;r1, const Razlomak &amp;r2){
    long double a,b;
    a=r1.b/r1.n; b=r2.b/r2.n;
</font>    return a&lt;=b;
}
<a name="9"></a><font color="#FF00FF"><a href="match179-1.html#9" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_2.gif"/></a>

bool operator&gt;=(const Razlomak &amp;r1, const Razlomak &amp;r2){
    long double a,b;
    a=r1.b/r1.n; b=r2.b/r2.n;
</font><a name="6"></a><font color="#00FF00"><a href="match179-1.html#6" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_2.gif"/></a>

    return a&gt;=b;
}
bool operator==(const Razlomak &amp;r1, const Razlomak &amp;r2){
    long double a,b;
    a=r1.b/r1.n; b=r2.b/r2.n;
</font>    return a==b;
}
bool operator!=(const Razlomak &amp;r1, const Razlomak &amp;r2){
    return !(r1==r2);
}

int main ()
{

	return 0;
}</pre>
</body>
</html>
