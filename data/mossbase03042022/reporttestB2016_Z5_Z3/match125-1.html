<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z5/Z3/student3736.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z5/Z3/student9352.cpp<p></p><pre>
<a name="0"></a><font color="#FF0000"><a href="match125-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_99.gif"/></a>

/B16/17 (ZadaÄ‡a 5, Zadatak 3)
//Autotestovi by Enil Pajic (mail: epajic1@etf.unsa.ba)
//Za autotestove se obracati *iskljucivo* osobi koja ih pise
#include &lt;iostream&gt;
#include &lt;stdexcept&gt;
#include &lt;cmath&gt;

using namespace std;

class Razlomak{
    long long int brojnik;
    long long int nazivnik;
public:

    Razlomak() { brojnik=0; nazivnik=1; }


    Razlomak(long long int _brojnik) { brojnik=_brojnik; nazivnik=1; }


    Razlomak (long long int _brojnik, long long int _nazivnik)
    {
       if(_nazivnik==0) throw logic_error("Nekorektan razlomak");
       long long int r;
       if(_brojnik&lt;0 &amp;&amp; _nazivnik&lt;0)
       {
           r=NZD(-_brojnik,-_nazivnik);
           brojnik=(_brojnik*(-1))/r;
           nazivnik=_nazivnik*(-1)/r;
       }
       else{
           if(_brojnik&lt;0)
           {
                r=NZD(-_brojnik,_nazivnik);
                brojnik=_brojnik/r;
                nazivnik=_nazivnik/r;
           }
           if(_nazivnik&lt;0) 
           {
               r=NZD(_brojnik, -_nazivnik);
               brojnik=_brojnik*(-1)/r;
               nazivnik=_nazivnik*(-1)/r;
           }
           if(_brojnik&gt;0 &amp;&amp; _nazivnik&gt; 0)
           {
                r=NZD(_brojnik, _nazivnik);
                brojnik=_brojnik/r;
                nazivnik=_nazivnik/r;
           }
       }
    }
    
    static long long int NZD(long long int _brojnik, long long int _nazivnik)
    {
        for(;;)
        {
            if(_brojnik==0) return _nazivnik;
            _nazivnik %= _brojnik;
            if(_nazivnik==0) return _brojnik;
            _brojnik %= _nazivnik;
        }
    }
    
    Razlomak operator+(const Razlomak &amp;raz2)
    {
        Razlomak rez;
        // raz1 = p1/q1    raz2=p2/q2    
        
        long long int p1{this-&gt;brojnik};
        long long int q1{this-&gt;nazivnik};
        long long int p2{raz2.brojnik};
        long long int q2{raz2.nazivnik};
        
        long long int nzd1 = NZD(p1,q1);
        long long int nzd2 = NZD(p2,q2);
        p1/=nzd1; q1/=nzd1;
        p2/=nzd2; q2/=nzd2;
        
        long long int r = NZD(q1, q2);
        rez.brojnik = p1*(q2/r) + p2*(q1/r);
        rez.nazivnik = q1*(q2/r);
        
        r=NZD(rez.brojnik, rez.nazivnik);
        rez.brojnik /= r;
        rez.nazivnik /= r;
        return rez;
    }
    
    Razlomak operator-(const Razlomak &amp;raz2)
    {
        Razlomak rez;
        
        long long int p1{this-&gt;brojnik};
        long long int q1{this-&gt;nazivnik};
        long long int p2{raz2.brojnik};
        long long int q2{raz2.nazivnik};
        
        long long int nzd1 = NZD(p1,q1);
        long long int nzd2 = NZD(p2,q2);
        p1/=nzd1;  q1/=nzd1;
        p2/=nzd2;  q2/=nzd2;
        
        long long int r = NZD(q1, q2);
        rez.brojnik = p1*(q2/r) - p2*(q1/r);
        rez.nazivnik = q1*(q2/r);
        r=NZD(rez.brojnik,rez.nazivnik);
        rez.brojnik /= r;
        rez.nazivnik /= r;
        return rez;
    }
    
    Razlomak operator*(const Razlomak &amp;raz2)
    {
        Razlomak rez;
        
        long long int p1{this-&gt;brojnik};
        long long int q1{this-&gt;nazivnik};
        long long int p2{raz2.brojnik};
        long long int q2{raz2.nazivnik};
        
        long long int s = NZD(p1, q2);
        long long int t = NZD(p2, q1);
        
        rez.brojnik = (p1/s)*(p2/t);
        rez.nazivnik = (q1/t)*(q2/s);
        t=NZD(rez.brojnik,rez.nazivnik);
        rez.brojnik/=t;
        rez.nazivnik/=t;
        return rez;
    }
    
    Razlomak operator/(const Razlomak &amp;raz2)
    {
        Razlomak rez;
        
        long long int p1{this-&gt;brojnik};
        long long int q1{this-&gt;nazivnik};
        long long int p2{raz2.brojnik};
        long long int q2{raz2.nazivnik};
        
        long long int r = NZD(q1, q2);
        long long int u = NZD(p1, p2);
        
        rez.brojnik = (p1/u)*(q2/r);
        rez.nazivnik = (q1/r)*(p2/u);
        r = NZD(rez.brojnik,rez.nazivnik);
        rez.brojnik/=r;
        rez.nazivnik/=r;
        return rez;
    }
    
    Razlomak operator-() const
    {
        long long int _brojnik = - this-&gt;brojnik;
        Razlomak rez(_brojnik,this-&gt;nazivnik);
        return rez;
    }
    
    Razlomak operator+() const
    {
        Razlomak rez = *this;
        return rez;
    }
    
    Razlomak &amp;operator+=(const Razlomak &amp;razl)
    {
        *this = *this + razl;
        return *this;
    }
    
    long long int DajBrojnik() const 
    {
        return brojnik;
    }
    
    long long int DajNazivnik() const
    {
        return nazivnik;
    }
    
    Razlomak &amp;operator-=(const Razlomak &amp;razl)
    {
        *this = *this - razl;
        return *this;
    }
    
    Razlomak &amp;operator*=(const Razlomak &amp;razl)
    {
        *this = *this * razl;
        return *this;
    }
    
    Razlomak &amp;operator/=(const Razlomak &amp;razl)
    {
        *this = *this / razl;
        return *this;
    }
    
    Razlomak &amp;operator++()
    {
        *this = *this + Razlomak(1);
        return *this;
    }
    
    Razlomak operator++(int)
    {
        Razlomak rez(this-&gt;brojnik, this-&gt;nazivnik);
        ++(*this);
        return rez;
    }
    
    friend ostream &amp;operator&lt;&lt;(ostream &amp;cout, const Razlomak &amp;raz)
    {
        if(raz.nazivnik==1)  return cout&lt;&lt;raz.brojnik;
        return cout&lt;&lt;raz.brojnik&lt;&lt;"/"&lt;&lt;raz.nazivnik;
    }
    
    friend istream &amp;operator&gt;&gt;(istream &amp;cin, Razlomak &amp;raz)
    {
        if(!cin)
        {
            cin.clear();
            cin.ignore(1000,'\n');
        }
        raz.nazivnik=1;
        char kolicnik{'/'};
        cin&gt;&gt;ws;
        cin&gt;&gt;raz.brojnik;
        if(!cin)
        {
            cin.setstate(ios::failbit);
        }
        cin.get(kolicnik);
        if(kolicnik=='/') 
        {
            cin&gt;&gt;raz.nazivnik;
            if(cin.peek()!=' ' &amp;&amp; cin.peek()!='\n')  cin.setstate(ios::failbit);
        }
        else if(kolicnik==' ') { cin&gt;&gt;ws; raz.nazivnik=1;}
        else { raz.nazivnik=1; cin.setstate(ios::failbit); return cin; }
        long long int nzd = NZD(raz.brojnik, raz.nazivnik);
        raz.brojnik /= nzd;
        raz.nazivnik /= nzd;
        return cin;
    }
    
    operator long double() const
    {
        long double aproks =  static_cast&lt;long double&gt;(this-&gt;brojnik) / static_cast&lt;long double&gt;(this-&gt;nazivnik);
        return aproks;
    }
    
    bool operator&lt;(const Razlomak &amp;razl)
    {
        return static_cast&lt;long double&gt;(*this) &lt; static_cast&lt;long double&gt;(razl);
    }
    
    bool operator&gt;(const Razlomak &amp;razl)
    {
        return static_cast&lt;long double&gt;(*this) &gt; static_cast&lt;long double&gt;(razl);
    }
    
    bool operator&lt;=(const Razlomak &amp;razl)
    {
        return static_cast&lt;long double&gt;(*this) &lt;= static_cast&lt;long double&gt;(razl);
    }
    
    bool operator&gt;=(const Razlomak &amp;razl)
    {
        return static_cast&lt;long double&gt;(*this) &gt;= static_cast&lt;long double&gt;(razl);
    }
    
    bool operator==(const Razlomak &amp;razl)
    {
        return static_cast&lt;long double&gt;(*this) == static_cast&lt;long double&gt;(razl);
    }
    
    bool operator!=(const Razlomak &amp;razl)
    {
        return !( *this==razl );
    }
    
};



int main ()
</font>{
    
	return 0;
}</pre>
</body>
</html>
