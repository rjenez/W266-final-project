<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z5/Z3/student3424.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z5/Z3/student3424.cpp<p></p><pre>
/B16/17 (ZadaÄ‡a 5, Zadatak 3)
//Autotestovi by Enil Pajic (mail: epajic1@etf.unsa.ba)
//Za autotestove se obracati *iskljucivo* osobi koja ih pise
#include &lt;iostream&gt;
#include &lt;stdexcept&gt;
#include &lt;string&gt;

class Razlomak
{
    long long int brojnik, nazivnik;
    static int NZD(long long int p, long long int q);
public:
    Razlomak() : brojnik(0), nazivnik(1) {}
<a name="5"></a><font color="#FF0000"><a href="match832-1.html#5" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_2.gif"/></a>

    Razlomak(long long int p) : brojnik(p), nazivnik(1) {}
    Razlomak(long long int p, long long int q);
    
    long long int DajBrojnik() const { return brojnik; }
    long long int DajNazivnik() const { return nazivnik; }
</font>    
    friend std::istream &amp;operator &gt;&gt; (std::istream &amp;tok, Razlomak &amp;raz);
    friend std::ostream &amp;operator &lt;&lt; (std::ostream &amp;tok, const Razlomak &amp;raz); 
    
    friend bool operator == (const Razlomak &amp;r1, const Razlomak &amp;r2);
    friend bool operator != (const Razlomak &amp;r1, const Razlomak &amp;r2);
    friend bool operator &lt;= (const Razlomak &amp;r1, const Razlomak &amp;r2);
    friend bool operator &gt;= (const Razlomak &amp;r1, const Razlomak &amp;r2);
    friend bool operator &lt; (const Razlomak &amp;r1, const Razlomak &amp;r2);
    friend bool operator &gt; (const Razlomak &amp;r1, const Razlomak &amp;r2);

    
    friend Razlomak &amp;operator + (Razlomak &amp;r);
    friend Razlomak &amp;operator - (Razlomak &amp;r);
    
    friend Razlomak operator ++ (Razlomak &amp;r, int);
    friend Razlomak &amp;operator ++ (Razlomak &amp;r);
    friend Razlomak operator -- (Razlomak &amp;r, int);
    friend Razlomak &amp;operator -- (Razlomak &amp;r);
    
    friend Razlomak operator + (const Razlomak &amp;r1, const Razlomak &amp;r2);
    friend Razlomak operator - (const Razlomak &amp;r1, const Razlomak &amp;r2);
<a name="0"></a><font color="#FF0000"><a href="match832-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_3.gif"/></a>

    friend Razlomak operator * (const Razlomak &amp;r1, const Razlomak &amp;r2);
    friend Razlomak operator / (const Razlomak &amp;r1, const Razlomak &amp;r2);
    
    friend Razlomak &amp;operator += (Razlomak &amp;r1, const Razlomak &amp;r2);
    friend Razlomak &amp;operator -= (Razlomak &amp;r1, const Razlomak &amp;r2);
</font>    friend Razlomak &amp;operator *= (Razlomak &amp;r1, const Razlomak &amp;r2);
    friend Razlomak &amp;operator /= (Razlomak &amp;r1, const Razlomak &amp;r2);
};

int Razlomak::NZD(long long int p, long long int q)
{
    if(q == 0) return p;
    if(p &lt; 0 || q &lt; 0)
    {
        p = std::abs(p);
        q = std::abs(q);
    }
    
    int nzd;
    for(int i(1); i &lt;= p &amp;&amp; i &lt;= q; i++)
    {
        if(p%i == 0 &amp;&amp; q%i == 0)
          nzd = i;
    }
    return nzd;
}

Razlomak::Razlomak(long long int p, long long int q) : brojnik(p), nazivnik(q)
{
    if(q == 0)
      throw std::logic_error("Nekorektan razlomak");
    
    if(p &lt; 0 &amp;&amp; q &lt; 0)
    {
        brojnik = std::abs(brojnik);
        nazivnik = std::abs(nazivnik);
    }
    else if(brojnik &gt; 0 &amp;&amp; nazivnik &lt; 0)
    {
        brojnik = -brojnik;
        nazivnik = std::abs(nazivnik);
    }
    
    int nzd(NZD(p, q));
    
    brojnik /= nzd;
    nazivnik /= nzd;
}

//Operatori
//Ulaz / Izlaz
/*std::istream &amp;operator &gt;&gt; (std::istream &amp;tok, Razlomak &amp;raz)
{
    char znak;
    
    
}*/

std::ostream &amp;operator &lt;&lt; (std::ostream &amp;tok, const Razlomak &amp;raz)
{
    tok &lt;&lt; raz.brojnik;
    if(raz.nazivnik != 1 &amp;&amp; raz.brojnik != 0)
    {
        tok &lt;&lt; "/" &lt;&lt; raz.nazivnik;
    }
    return tok;
}

//Logicki
bool operator == (const Razlomak &amp;r1, const Razlomak &amp;r2)
{
<a name="4"></a><font color="#FF00FF"><a href="match832-1.html#4" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_2.gif"/></a>

    return (r1.brojnik == r2.brojnik &amp;&amp; r1.nazivnik == r2.nazivnik);
}

bool operator != (const Razlomak &amp;r1, const Razlomak &amp;r2)
{
    return !(r1 == r2);
</font>}

bool operator &lt;= (const Razlomak &amp;r1, const Razlomak &amp;r2)
{
    auto x(Razlomak::NZD(r1.brojnik, r2.brojnik)), y(Razlomak::NZD(r2.nazivnik, r2.nazivnik));
<a name="1"></a><font color="#00FF00"><a href="match832-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_2.gif"/></a>

    return (r1.brojnik / x) * (r2.nazivnik / y) &lt;= (r2.brojnik / x) * (r1.nazivnik / y);   
}

bool operator &gt;= (const Razlomak &amp;r1, const Razlomak &amp;r2)
{
    auto x(Razlomak::NZD(r1.brojnik, r2.brojnik)), y(Razlomak::NZD(r2.nazivnik, r2.nazivnik));
</font><a name="2"></a><font color="#0000FF"><a href="match832-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_2.gif"/></a>

    return (r1.brojnik / x) * (r2.nazivnik / y) &gt;= (r2.brojnik / x) * (r1.nazivnik / y);   
}

bool operator &lt; (const Razlomak &amp;r1, const Razlomak &amp;r2)
{
    auto x(Razlomak::NZD(r1.brojnik, r2.brojnik)), y(Razlomak::NZD(r2.nazivnik, r2.nazivnik));
</font><a name="3"></a><font color="#00FFFF"><a href="match832-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_2.gif"/></a>

    return (r1.brojnik / x) * (r2.nazivnik / y) &lt; (r2.brojnik / x) * (r1.nazivnik / y);   
}

bool operator &gt; (const Razlomak &amp;r1, const Razlomak &amp;r2)
{
    auto x(Razlomak::NZD(r1.brojnik, r2.brojnik)), y(Razlomak::NZD(r2.nazivnik, r2.nazivnik));
</font>    return (r1.brojnik / x) * (r2.nazivnik / y) &lt;= (r2.brojnik / x) * (r1.nazivnik / y);   
}

//Unarni
Razlomak &amp;operator + (Razlomak &amp;r) { return r; }

Razlomak &amp;operator - (Razlomak &amp;r) { r.brojnik = -r.brojnik; return r;}
    
/*Razlomak operator ++ (Razlomak &amp;r, int)
{
    Razlomak x(r);
    
}*/

/*friend Razlomak &amp;operator ++ (Razlomak &amp;r);
    friend Razlomak operator -- (Razlomak &amp;r, int);
    friend Razlomak &amp;operator -- (Razlomak &amp;r);*/
    
Razlomak &amp;operator += (Razlomak &amp;r1, const Razlomak &amp;r2)
{
    auto x(Razlomak::NZD(r2.nazivnik, r2.nazivnik));
    
    r1.brojnik = r1.brojnik * (r2.nazivnik / x) + r2.brojnik * (r1.nazivnik / x);
    r1.nazivnik *= (r2.nazivnik / x);
    
    r1 = Razlomak(r1.brojnik, r2.nazivnik);
    return r1;
}

Razlomak &amp;operator -= (Razlomak &amp;r1, const Razlomak &amp;r2)
{
    auto x(Razlomak::NZD(r2.nazivnik, r2.nazivnik));
    
    r1.brojnik = r1.brojnik * (r2.nazivnik / x) - r2.brojnik * (r1.nazivnik / x);
    r1.nazivnik *= (r2.nazivnik / x);
    
    r1 = Razlomak(r1.brojnik, r2.nazivnik);
    return r1;
}

Razlomak &amp;operator *= (Razlomak &amp;r1, const Razlomak &amp;r2)
{
    auto x(Razlomak::NZD(r1.brojnik, r2.nazivnik)), y(Razlomak::NZD(r2.brojnik, r1.nazivnik));
    
    r1.brojnik = (r1.brojnik / x) * (r2.brojnik / y);
    r1.nazivnik = (r1.nazivnik / y) * (r2.nazivnik / x);
    
    r1 = Razlomak(r1.brojnik, r2.nazivnik);
    return r1;
}

Razlomak &amp;operator /= (Razlomak &amp;r1, const Razlomak &amp;r2)
{
    auto x(Razlomak::NZD(r1.nazivnik, r2.nazivnik)), y(Razlomak::NZD(r1.brojnik, r2.brojnik));
    
    r1.brojnik = (r1.brojnik / y) * (r2.nazivnik / x);
    r1.nazivnik = (r1.nazivnik / x) * (r2.brojnik / y);
    
    r1 = Razlomak(r1.brojnik, r2.nazivnik);
    return r1;
}

int main ()
{
    Razlomak r1(7, -5), r2(7, -5);
    
    r1 *= r2;
    std::cout &lt;&lt; r1;
	return 0;
}</pre>
</body>
</html>
