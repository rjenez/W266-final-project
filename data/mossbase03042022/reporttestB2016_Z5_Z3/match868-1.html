<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z5/Z3/student2908.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z5/Z3/student2351.cpp<p></p><pre>
/B16/17 (ZadaÄ‡a 5, Zadatak 3)
#include &lt;stdexcept&gt;
#include &lt;iostream&gt;

class Razlomak {
    long long int brojnik, nazivnik;
    
    static int EuklidovAlgoritam (int a, int b) {
        if (b==0) return a;
        a%=b;
        return EuklidovAlgoritam(b,a);
    }
    public:
    Razlomak (long long int b=0, long long int n=1) { brojnik=b; nazivnik=n; 
        if (EuklidovAlgoritam(b,n)==0) std::logic_error ("Nekorektan razlomak");
        long long int skracivanje = EuklidovAlgoritam(abs(brojnik), abs(nazivnik));
        brojnik/=skracivanje;
        nazivnik/=skracivanje;
    }
    int DajBrojnik () const { return brojnik; }
    int DajNazivnik () const { return nazivnik; }
<a name="2"></a><font color="#0000FF"><a href="match868-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_4.gif"/></a>

    friend std::ostream &amp;operator &lt;&lt;(std::ostream &amp;tok, const Razlomak &amp;r);
    friend std::istream &amp;operator &gt;&gt;(std::istream &amp;tok, Razlomak &amp;r);
    friend Razlomak operator +(const Razlomak &amp;r1, const Razlomak &amp;r2);
</font>    friend Razlomak operator -(const Razlomak &amp;r1, const Razlomak &amp;r2);
    friend Razlomak operator *(const Razlomak &amp;r1, const Razlomak &amp;r2);
    friend Razlomak operator /(const Razlomak &amp;r1, const Razlomak &amp;r2);
     operator long double() const;
    
};



Razlomak operator +(const Razlomak &amp;r1, const Razlomak &amp;r2) {
<a name="1"></a><font color="#00FF00"><a href="match868-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_8.gif"/></a>

    int r = Razlomak::EuklidovAlgoritam(r1.nazivnik, r2.nazivnik);
    return Razlomak ((r1.brojnik*(r2.nazivnik/r) + r2.brojnik*(r1.nazivnik/r)) , (r1.nazivnik*(r2.nazivnik/r)));
}
Razlomak operator -(const Razlomak &amp;r1, const Razlomak &amp;r2) {
    int r = Razlomak::EuklidovAlgoritam(r1.nazivnik, r2.nazivnik);
</font><a name="0"></a><font color="#FF0000"><a href="match868-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_19.gif"/></a>

    return Razlomak ((r1.brojnik*(r2.nazivnik/r) - r2.brojnik*(r1.nazivnik/r)), (r1.nazivnik*(r2.nazivnik/r)));
}

Razlomak operator *(const Razlomak &amp;r1, const Razlomak &amp;r2) {
    int t = Razlomak::EuklidovAlgoritam(r2.brojnik, r1.nazivnik);
    int s = Razlomak::EuklidovAlgoritam(r1.brojnik, r2.nazivnik);
    return Razlomak (((r1.brojnik/s)*(r2.brojnik/t)), ((r1.nazivnik/t)*(r2.nazivnik/s)));
}

Razlomak operator /(const Razlomak &amp;r1, const Razlomak &amp;r2) {
    int u = Razlomak::EuklidovAlgoritam(r1.brojnik, r2.brojnik);
    int r = Razlomak::EuklidovAlgoritam(r1.nazivnik, r2.nazivnik);
</font>    return Razlomak (((r1.brojnik/u)*(r2.nazivnik/r)), ((r1.nazivnik/r)*(r2.brojnik/u)));
}

Razlomak::operator long double() const {
    return(long double)brojnik/nazivnik; }


std::ostream &amp;operator &lt;&lt;(std::ostream &amp;tok, const Razlomak &amp;r) {
    if (r.nazivnik == 1) {
        return tok &lt;&lt; r.brojnik;
    }
    else { return tok &lt;&lt; r.brojnik &lt;&lt; "/" &lt;&lt; r.nazivnik; }
}
std::istream &amp;operator &gt;&gt;(std::istream &amp;tok, Razlomak &amp;r) {
    int br1;
    int peek;
    int m=0;
    int naz1=1;
    bool a=false;
    
    
    tok &gt;&gt; br1;
    if (naz1) { m=br1; a=true; }
    
    if (tok.peek()=='\r') {
        tok.ignore();
        m=br1;
        tok &gt;&gt; naz1;
        a=true;
    }
    
    if (tok.peek()=='/') {
        tok.ignore();
        tok &gt;&gt; naz1;
        peek=tok.peek();
        a=true;
    }
    if (tok.peek() !=' ') {
        tok.setstate(std::ios::failbit);
    }
    if (tok || a) {
        if (naz1==0) naz1=1;
        r = Razlomak(br1,naz1);
    }
    
    return tok;
    
}








int main ()
{
    Razlomak r(5,10);
    
	return 0;
}</pre>
</body>
</html>
