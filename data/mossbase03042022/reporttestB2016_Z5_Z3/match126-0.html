<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z5/Z3/student8029.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z5/Z3/student8029.cpp<p></p><pre>
<a name="1"></a><font color="#00FF00"><a href="match126-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_10.gif"/></a>

/B16/17 (ZadaÄ‡a 5, Zadatak 3)
//Autotestovi by Enil Pajic (mail: epajic1@etf.unsa.ba)
//Za autotestove se obracati *iskljucivo* osobi koja ih pise
#include &lt;iostream&gt;
#include &lt;cmath&gt;
#include &lt;stdexcept&gt;
class Razlomak{
    long long int brojnik;
    long long int nazivnik;
    friend long long int NZD(long long int a,long long int b);
    friend void koeficienti(long long int &amp;p,long long int &amp;q,long long int &amp;c,long long int &amp;d, Razlomak &amp;a, Razlomak &amp;b);
    public:
    Razlomak (long long int a,long long int b);
    Razlomak();
    Razlomak(long long int a);
    long long int DajBrojnik() const
    {
        return brojnik;
    }
    long long int DajNazivnik() const
    {
        return nazivnik;
    }
 friend  Razlomak &amp;operator +=(Razlomak &amp;a,const Razlomak &amp;b);
 friend Razlomak &amp;operator -=(Razlomak &amp;a,const Razlomak &amp;b);
</font><a name="0"></a><font color="#FF0000"><a href="match126-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_87.gif"/></a>

 friend Razlomak &amp;operator *=(Razlomak &amp;a,const Razlomak &amp;b);
 friend Razlomak &amp;operator /=(Razlomak &amp;a,const Razlomak &amp;b);
 friend Razlomak operator *(const Razlomak &amp;a,const Razlomak &amp;b);
 friend Razlomak operator +(const Razlomak &amp;a,const Razlomak &amp;b);
 friend Razlomak operator -(const Razlomak &amp;a,const Razlomak &amp;b);
 friend Razlomak operator /(const Razlomak &amp;a,const Razlomak &amp;b);
 friend Razlomak operator +(const Razlomak &amp;a){return a;}
 const Razlomak operator -(const Razlomak &amp;b){
     return{-b.brojnik,b.nazivnik};
 }
 friend std::iostream &amp;operator &gt;&gt;(std::iostream &amp;tok,Razlomak &amp;a);
friend  std::ostream &amp;operator &lt;&lt;(std::ostream &amp;tok,const Razlomak &amp;a)
 {
     if(a.brojnik==0)
     {
         tok&lt;&lt;a.DajBrojnik();
         return tok;
     }
     if(a.nazivnik==1)
     {tok&lt;&lt;a.DajBrojnik();
     
         return tok;
     }
     else
     tok&lt;&lt;a.DajBrojnik()&lt;&lt;"/"&lt;&lt;a.DajNazivnik();
     return tok;
 }
};
long long int NZD(long long int a,long long int b){
    int vrati=1;
    if(b==0)
    return a;
    if(a&lt;0)
    a=0-a;
    if(b&lt;0)
    b=0-b;
    long long int manji=a;
    if(a&gt;b)
    manji=b;
    for(long long int i=2;i&lt;=manji;i++)
    if(a%i==0 &amp;&amp; b%i==0)
    vrati=i;
    return vrati;
    
    
    
}
void koeficienti(long long int &amp;p,long long int &amp;q,long long int &amp;c,long long int &amp;d, Razlomak &amp;a, Razlomak &amp;b)
{
      p=NZD(a.nazivnik,b.nazivnik);
    long long int s=NZD(a.brojnik,b.brojnik);
    long long int t=NZD(b.brojnik,a.nazivnik);
    long long int u=NZD(a.brojnik,b.brojnik);
    q=s;
    c=t;
    d=u;
}
Razlomak::Razlomak(long long int a,long long int b)
{
    if(b==0)
     {
         throw std::logic_error("Nekorektan razlomak");
     }
    auto djelilac=NZD(a,b);
    if(djelilac!=0)
    {a=a/djelilac;
    b=b/djelilac;
    }
    if(a&lt;0 &amp;&amp; b&lt;0)
    {
        a=0-a;
        b=0-b;
    }
    if(a&lt;0 || b&lt;0)
    {
        a=0-a;
        b=0-a;
        a=0-a;
    }
    brojnik=a;
    nazivnik=b;
}
Razlomak::Razlomak()
{
    brojnik=0;
    nazivnik=1;
}
Razlomak::Razlomak(long long int a)
{
    brojnik=a;
    nazivnik=1;
}

Razlomak &amp;operator+=(Razlomak &amp;a,const Razlomak &amp;b)
{
    long long int r=NZD(a.nazivnik,b.nazivnik);
    long long int s=NZD(a.brojnik,b.brojnik);
    long long int t=NZD(b.brojnik,a.nazivnik);
    long long int u=NZD(a.brojnik,b.brojnik);
    a.brojnik=a.brojnik*(b.nazivnik/r)+b.brojnik*(a.nazivnik/r);
    a.nazivnik=a.nazivnik*(b.nazivnik/r);
    long long int djelilac=NZD(a.brojnik,a.nazivnik);
    a.brojnik/=djelilac;
    a.nazivnik/=djelilac;
    return a;
 
    
}
Razlomak &amp;operator -=(Razlomak &amp;a,const Razlomak &amp;b)
{
    long long int r=NZD(a.nazivnik,b.nazivnik);
    a.brojnik=a.brojnik*(b.nazivnik/r)-b.brojnik*(a.nazivnik/r);
    a.nazivnik=a.nazivnik*(b.nazivnik/r);
    long long int djelilac=NZD(a.brojnik,a.nazivnik);
    a.brojnik/=djelilac;
    a.nazivnik/=djelilac;
    return a;
}
Razlomak &amp;operator *=(Razlomak &amp;a,const Razlomak &amp;b)
{
    long long int s=NZD(a.brojnik,b.brojnik);
    long long int t=NZD(b.brojnik,a.nazivnik);
    a.brojnik=(a.brojnik/s)*(b.brojnik/t);
    a.nazivnik=(a.nazivnik/t)*(b.nazivnik/s);
    long long int djelilac=NZD(a.brojnik,a.nazivnik);
    a.brojnik/=djelilac;
    a.nazivnik/=djelilac;
    return a;
}
Razlomak &amp;operator /=(Razlomak &amp;a,const Razlomak &amp;b)
{
    long long int r=NZD(a.nazivnik,b.nazivnik);
    long long int u=NZD(a.brojnik,b.brojnik);

    a.brojnik=(a.brojnik/u)*(b.nazivnik/r);
    a.nazivnik=(a.nazivnik/r)*(b.brojnik/u);
    long long int djelilac=NZD(a.brojnik,a.nazivnik);
    a.brojnik/=djelilac;
    a.nazivnik/=djelilac;
    return a;
    
}
Razlomak operator *(const Razlomak &amp;a,const Razlomak &amp;b)
{
    auto temp(a);
    temp*=b;
    return temp;
    
}
Razlomak operator +(const Razlomak &amp;a,const Razlomak &amp;b)
{
    auto temp(a);
    temp+=b;
    return temp;

}
Razlomak operator -(const Razlomak &amp;a,const Razlomak &amp;b)
 {
     auto temp(a);
     temp-=b;
     return temp;
 }
 Razlomak operator /(const Razlomak &amp;a,const Razlomak &amp;b)
 {
     auto temp(a);
     temp/=b;
     return temp;
 }
 std::iostream &amp;operator &gt;&gt;(std::iostream &amp;tok,Razlomak &amp;a)
 {
     char znak;
     tok&gt;&gt;std::ws;
     tok&gt;&gt;a.brojnik&gt;&gt;znak&gt;&gt;a.brojnik;
     
     if(znak!='/') tok.setstate(std::ios::failbit); 
     
      return tok;
 }
int main ()
 {
     Razlomak a;
     
     std::cout&lt;&lt;a;
</font>    
	return 0;
}</pre>
</body>
</html>
