<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z5/Z3/student7834.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z5/Z3/student7834.cpp<p></p><pre>
<a name="0"></a><font color="#FF0000"><a href="match87-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_99.gif"/></a>

/B16/17 (ZadaÄ‡a 5, Zadatak 3)
//Autotestovi by Enil Pajic (mail: epajic1@etf.unsa.ba)
//Za autotestove se obracati *iskljucivo* osobi koja ih pise
#include &lt;iostream&gt;
#include &lt;iomanip&gt;
#include &lt;cstring&gt;
#include &lt;stdexcept&gt;
#include &lt;new&gt;
#include &lt;string&gt;
#include &lt;cmath&gt;
#include &lt;map&gt;
#include &lt;vector&gt;
#include &lt;memory&gt;
#include &lt;climits&gt;
#include &lt;sstream&gt;
using namespace std;
int NZD(int p,int q){
      int ostatak(1);
      if(p&lt;q){
          int pomocna(p);
          p=q;
          q=pomocna;
      }
      if(p%q==0)return q;
      while(ostatak!=0){
        if(p%q==0)break;
        else {ostatak=p%q;
        p=q;
        q=ostatak;
        }
      }
      return ostatak;
  }
class Razlomak{
  long long int brojnik,nazivnik;
  bool PrekoracenjeMnozenja(long long int x,long long int y)const{
    if(y&gt;0 &amp;&amp; (x&lt;LLONG_MIN/y || x&gt;LLONG_MAX/y))return true;
    if(y&lt;0 &amp;&amp; (x==LLONG_MIN || -x&gt;LLONG_MAX/(-y) || -x&lt;LLONG_MIN/(-y)))return true;
    return false;
    }
  bool PrekoracenjeSabiranja(long long int x,long long int y)const{
    if(y&gt;0 &amp;&amp; x&gt;LLONG_MAX-y)return true;
    if(y&lt;0 &amp;&amp; x&lt;LLONG_MIN-y)return true;
    return false;
    }
  bool PrekoracenjeOduzimanja(long long int x,long long int y)const{
    if(y&lt;0 &amp;&amp; x&gt;LLONG_MAX+y)return true;
    if(y&gt;0 &amp;&amp; x&lt;LLONG_MIN+y)return true;
    return false;
    }
  
  public:
  Razlomak(long long int b,long long int n){
      if(b&lt;0 &amp;&amp; n&lt;0){b*=-1;n*=-1;}
      else if(n&lt;0){b*=-1;n*=-1;}
      if(n==0)throw logic_error("Nekorektan razlomak");
      if(b%n==0){
        brojnik=b/n;
        nazivnik=1;
      }
      else{
      nazivnik=n/(NZD(n,b));
      brojnik=b/(NZD(n,b));
        
      }
      
  }
  Razlomak(long long int brojnik){
      Razlomak::brojnik=brojnik;
      Razlomak::nazivnik=1;
  }
  Razlomak(){
      Razlomak::brojnik=0;Razlomak::nazivnik=1;
  }
  Razlomak &amp;operator=(const Razlomak &amp;r){
    brojnik=r.brojnik;
    nazivnik=r.nazivnik;
    return *this;
  }
  Razlomak &amp;operator += (const Razlomak &amp;q){
      long long int r(NZD(q.nazivnik,nazivnik));
      if(PrekoracenjeMnozenja(brojnik,q.nazivnik/r) || PrekoracenjeMnozenja(q.brojnik,nazivnik/r) || PrekoracenjeSabiranja(brojnik*(q.nazivnik/r),q.brojnik*(nazivnik/r)) || PrekoracenjeMnozenja(nazivnik,q.nazivnik/r))throw overflow_error("Nemoguce dobiti tacan rezultat");
      brojnik=brojnik*(q.nazivnik/r)+q.brojnik*(nazivnik/r);
      nazivnik=nazivnik*(q.nazivnik/r);
      long long int b=brojnik;
      long long int n=nazivnik;
      brojnik=brojnik/NZD(b,n);
      nazivnik=nazivnik/NZD(b,n);
      return *this;
  }
  Razlomak &amp;operator -= (const Razlomak &amp;q){
      long long int r(NZD(q.nazivnik,nazivnik));
      if(PrekoracenjeMnozenja(brojnik,q.nazivnik/r) || PrekoracenjeMnozenja(q.brojnik,nazivnik/r) || PrekoracenjeOduzimanja(brojnik*(q.nazivnik/r),q.brojnik*(nazivnik/r)) || PrekoracenjeMnozenja(nazivnik,q.nazivnik/r))throw overflow_error("Nemoguce dobiti tacan rezultat");
      brojnik=brojnik*(q.nazivnik/r)-q.brojnik*(nazivnik/r);
      nazivnik=nazivnik*(q.nazivnik/r);
      long long int b=brojnik;
      long long int n=nazivnik;
      brojnik=brojnik/NZD(b,n);
      nazivnik=nazivnik/NZD(b,n);
      return *this;
  }
  Razlomak &amp;operator *= (const Razlomak &amp;q){
      long long int s(NZD(brojnik,q.nazivnik)),t(NZD(q.brojnik,nazivnik));
      if(PrekoracenjeMnozenja(brojnik/s,q.brojnik/t) || PrekoracenjeMnozenja(nazivnik/t,q.nazivnik/s))throw overflow_error("Nemoguce dobiti tacan rezultat");
      brojnik=(brojnik/s)*(q.brojnik/t);
      nazivnik=(nazivnik/t)*(q.nazivnik/s);
      long long int b=brojnik;
      long long int n=nazivnik;
      brojnik=brojnik/NZD(b,n);
      nazivnik=nazivnik/NZD(b,n);
      return *this;
  }
  Razlomak &amp;operator /= (const Razlomak &amp;q){
      long long int r(NZD(nazivnik,q.nazivnik)),u(NZD(q.brojnik,brojnik));
      if(PrekoracenjeMnozenja(brojnik/u,q.nazivnik/r) || PrekoracenjeMnozenja(nazivnik/r,q.brojnik/u))throw overflow_error("Nemoguce dobiti tacan rezultat");
      brojnik=(brojnik/u)*(q.nazivnik/r);
      nazivnik=(nazivnik/r)*(q.brojnik/u);
      long long int b=brojnik;
      long long int n=nazivnik;
      brojnik=brojnik/NZD(b,n);
      nazivnik=nazivnik/NZD(b,n);
      return *this;
  }
  Razlomak operator -() const {
      return{-brojnik,-nazivnik};
  }
  Razlomak operator +() const {
      return{brojnik,nazivnik};
  }
  Razlomak &amp;operator ++ (){
      this-&gt;brojnik+=this-&gt;nazivnik;
      return *this;
  }
  Razlomak &amp;operator -- (){
      this-&gt;brojnik-=this-&gt;nazivnik;
      return *this;
  }
  Razlomak operator ++(int){
      Razlomak pomocni(*this);
      this-&gt;brojnik+=this-&gt;nazivnik;
      return pomocni;
  }
  Razlomak operator --(int){
      Razlomak pomocni(*this);
      this-&gt;brojnik-=this-&gt;nazivnik;
      return pomocni;
  }
  long long int DajBrojnik() const {return brojnik;}
  long long int DajNazivnik() const {return nazivnik;}
  bool operator &lt;(const Razlomak &amp;r2){
      if((long double)this-&gt;brojnik/this-&gt;nazivnik&lt;(long double)r2.brojnik/r2.nazivnik)return true;
      return false;
  }
  bool operator &gt;(const Razlomak &amp;r2){
      if((long double)this-&gt;brojnik/this-&gt;nazivnik&gt;(long double)r2.brojnik/r2.nazivnik)return true;
      return false;
  }
  bool operator &lt;=(const Razlomak &amp;r2){
      if((long double)this-&gt;brojnik/this-&gt;nazivnik&lt;=(long double)r2.brojnik/r2.nazivnik)return true;
      return false;
  }
  bool operator &gt;=(const Razlomak &amp;r2){
      if((long double)this-&gt;brojnik/this-&gt;nazivnik&gt;=(long double)r2.brojnik/r2.nazivnik)return true;
      return false;
  }
  bool operator ==(const Razlomak &amp;r2){
      if(this-&gt;brojnik/NZD(brojnik,nazivnik)==r2.brojnik/NZD(r2.brojnik,r2.nazivnik) &amp;&amp; this-&gt;nazivnik/NZD(brojnik,nazivnik)==r2.nazivnik/NZD(r2.brojnik,r2.nazivnik))return true;
      return false;
  }
  bool operator !=(const Razlomak &amp;r2){
      if(this-&gt;brojnik/NZD(brojnik,nazivnik)!=r2.brojnik/NZD(r2.brojnik,r2.nazivnik) || this-&gt;nazivnik/NZD(brojnik,nazivnik)!=r2.nazivnik/NZD(r2.brojnik,r2.nazivnik))return true;
      return false;
  }
  friend ostream&amp; operator &lt;&lt;(ostream &amp;tok,const Razlomak &amp;r);
  friend istream&amp; operator &gt;&gt;(istream &amp;tok,Razlomak &amp;r);
  friend inline Razlomak operator + (Razlomak r1,const Razlomak &amp;r2);
  friend inline Razlomak operator - (Razlomak r1,const Razlomak &amp;r2);
  friend Razlomak operator * (Razlomak r1,const Razlomak &amp;r2);
  friend Razlomak operator / (Razlomak r1,const Razlomak &amp;r2);
  friend int StringUInt(string s);
  void Ispis()const{
      cout&lt;&lt;brojnik&lt;&lt;"/"&lt;&lt;nazivnik;
      
  }
  operator long double()const{return static_cast&lt;long double&gt;(brojnik)/nazivnik;}
};

ostream&amp; operator &lt;&lt;(ostream &amp;tok,const Razlomak &amp;r){
      tok&lt;&lt;r.brojnik;
      if(r.nazivnik!=1)tok&lt;&lt;"/"&lt;&lt;r.nazivnik;
      return tok;
  }
int StringUInt(string s);
istream&amp; operator &gt;&gt;(istream &amp;tok,Razlomak &amp;r){
      char znak;
      int a,b;
      tok&gt;&gt;ws;
      tok&gt;&gt;a;
      if(tok.peek()!='/'){
        r.brojnik=a;
        r.nazivnik=1;
        return tok;
      }
      else {
        tok&gt;&gt;znak&gt;&gt;b;
        if(znak!='/')tok.setstate(ios::failbit);
        r.brojnik=a/NZD(a,b);
        r.nazivnik=b/NZD(a,b);
        if(tok.peek()!=' ')tok.setstate(ios::failbit);
      }
      return tok;
}
inline Razlomak operator + (Razlomak r1,const Razlomak &amp;r2){
      r1.brojnik/=NZD(r1.DajBrojnik(),r1.DajNazivnik());
      return r1+=r2;
  }
inline Razlomak operator - (Razlomak r1,const Razlomak &amp;r2){
      r1.brojnik/=NZD(r1.DajBrojnik(),r1.DajNazivnik());
      return r1-=r2;
  }
Razlomak operator * (Razlomak r1,const Razlomak &amp;r2){
      r1.brojnik/=NZD(r1.DajBrojnik(),r1.DajNazivnik());
      return r1*=r2;
  }
Razlomak operator / (Razlomak r1,const Razlomak &amp;r2){
      r1.brojnik/=NZD(r1.DajBrojnik(),r1.DajNazivnik());
      return r1/=r2;
  }
int StringUInt(string s){
  int konacni(0);
  for(int i=0;i&lt;s.length();i++){
    konacni+=(s[i]-48)*(pow(10,s.length()-1-i));
  }
  return konacni;
</font>}

int main ()
{
 return 0;
}</pre>
</body>
</html>
