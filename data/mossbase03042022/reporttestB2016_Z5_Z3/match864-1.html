<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z5/Z3/student7425.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z5/Z3/student3116.cpp<p></p><pre>
/B16/17 (ZadaÄ‡a 5, Zadatak 3)
//Autotestovi by Enil Pajic (mail: epajic1@etf.unsa.ba)
//Za autotestove se obracati *iskljucivo* osobi koja ih pise
#include &lt;iostream&gt;
#include &lt;stdexcept&gt;
#include &lt;limits&gt;
#include &lt;cctype&gt;

#define M numeric_limits&lt;long long&gt;::max()
#define m numeric_limits&lt;long long&gt;::min()

using namespace std;

class Razlomak
{
    long long int n,b;
    
    static long long int NZD(long long int a,long long int b)
    {
        if(b==0) return a;
        return(NZD(b,a%b));
    }
    
    public:
<a name="4"></a><font color="#FF00FF"><a href="match864-0.html#4" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_2.gif"/></a>

    Razlomak(long long int b=0,long long int n=1)
    {   
        if(n==0) throw logic_error("Nekorektan razlomak");
        if(n&lt;0){n*=-1;b*=-1;}
</font>        if(n&lt;0 &amp;&amp; b&lt;0){n*=-1;b*=-1;}
        long long int a=NZD(b,n);
        if(a!=1){n/=a;b/=a;}
        
        Razlomak::n=n;
        Razlomak::b=b;
    }
    long long int DajNazivnik()const{return n;}
    long long int DajBrojnik()const{return b;}
    
    friend Razlomak operator+(Razlomak r1,Razlomak r2)
    {
        long long int r=NZD(r1.n,r2.n);
        long long int a=r1.b*(r2.n/r)+r2.b*(r1.n/r);
<a name="3"></a><font color="#00FFFF"><a href="match864-0.html#3" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_2.gif"/></a>

        long long int b=r1.n*(r2.n/r);
    
    
    
        if(a&gt;m &amp;&amp; b&gt;m &amp;&amp; a&lt;M &amp;&amp; b&lt;M)
            return Razlomak(a,b);
</font>        else throw overflow_error("Nemoguce dobiti tacan rezultat");
    }
<a name="1"></a><font color="#00FF00"><a href="match864-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_4.gif"/></a>

    friend Razlomak operator-(Razlomak r1,Razlomak r2)
    {
        long long int r=NZD(r1.n,r2.n);
        long long int a=r1.b*(r2.n/r)-r2.b*(r1.n/r);
</font>        long long int b=r1.n*(r2.n/r);
        
        
        if(a&gt;m &amp;&amp; b&gt;m &amp;&amp; a&lt;M &amp;&amp; b&lt;M)
            return Razlomak(a,b);
        else throw overflow_error("Nemoguce dobiti tacan rezultat");
    }
<a name="0"></a><font color="#FF0000"><a href="match864-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_4.gif"/></a>

    friend Razlomak operator*(Razlomak r1,Razlomak r2)
    {
        long long int s=NZD(r1.b,r2.n);
        long long int t=NZD(r1.n,r2.b);
        
        long long int a=(r1.b/s)*(r2.b/t);
</font><a name="2"></a><font color="#0000FF"><a href="match864-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_4.gif"/></a>

        long long int b=(r1.n/t)*(r2.n/s);
         
        
        if(a&gt;m &amp;&amp; b&gt;m &amp;&amp; a&lt;M &amp;&amp; b&lt;M)
            return Razlomak(a,b);
        else throw overflow_error("Nemoguce dobiti tacan rezultat");
    }
    friend Razlomak operator/(Razlomak r1,Razlomak r2)
</font>    {
        long long int r=NZD(r1.n,r2.n);
        long long int u=NZD(r1.b,r2.b);
        
        long long int a=(r1.b/u)*(r2.n/r);
        long long int b=(r1.n/r)*(r2.b/u);
        
        if(a&gt;m &amp;&amp; b&gt;m &amp;&amp; a&lt;M &amp;&amp; b&lt;M)
            return Razlomak(a,b);
        else throw overflow_error("Nemoguce dobiti tacan rezultat");
    }
    friend Razlomak &amp;operator+(Razlomak &amp;r1)
    {
        return r1;
    }
    friend Razlomak &amp;operator-(Razlomak &amp;r1)
    {
        r1.b*=-1;
        r1.n*=-1;
        
        if(r1.n&lt;0){r1.n*=-1;}
        if(r1.n&lt;0 &amp;&amp; r1.b&lt;0){r1.b*=-1;}
        
        if(r1.b&gt;m &amp;&amp; r1.b&lt;M &amp;&amp; r1.n&lt;M &amp;&amp; r1.n&gt;m)
            return r1;
        else throw overflow_error("Nemoguce dobiti tacan rezultat");
      }
    friend Razlomak &amp;operator+=(Razlomak &amp;r1,Razlomak r2)
    { 
        r1=r1+r2;
        return r1;
    }
    friend Razlomak &amp;operator-=(Razlomak &amp;r1,Razlomak r2)
    {
        r1=r1-r2;
        return r1;
    }
    friend Razlomak &amp;operator*=(Razlomak &amp;r1,Razlomak r2)
    {
        r1=r1*r2;
        return r1;
    }
    friend Razlomak &amp;operator/=(Razlomak &amp;r1,Razlomak r2)
    {
        r1=r1/r2;
        return r1;
    }
    friend Razlomak &amp;operator++(Razlomak &amp;r1)
    {
        r1+=1;
        return r1;
    }
    friend Razlomak &amp;operator--(Razlomak &amp;r1)
    {
        r1-=1;
        return r1;
    }
    friend Razlomak operator++(Razlomak &amp;r1,int)
    {   
        Razlomak r(r1.DajBrojnik(),r1.DajNazivnik());
        r1+=1;
        return r;
    }
    friend Razlomak operator--(Razlomak &amp;r1,int)
    {
        Razlomak r(r1.DajBrojnik(),r1.DajNazivnik());
        r1-=1;
        return r;
    }
    friend ostream &amp;operator&lt;&lt;(ostream &amp;iziso,Razlomak r1)
    {
        if(r1.DajNazivnik()!=1 &amp;&amp; r1.DajBrojnik()!=0)
            iziso&lt;&lt;r1.DajBrojnik()&lt;&lt;"/"&lt;&lt;r1.DajNazivnik();
<a name="5"></a><font color="#FF0000"><a href="match864-0.html#5" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_2.gif"/></a>

        else iziso&lt;&lt;r1.DajBrojnik();
        return iziso;
    }
    friend istream &amp;operator&gt;&gt;(istream &amp;uso,Razlomak &amp;r1)
    {
        r1.b=0;r1.n=1;
</font>        uso&gt;&gt;r1.b;
        int jel=uso.peek();
        if(jel!='\n' &amp;&amp; jel!=' ')
        {
            char c;
            uso&gt;&gt;c&gt;&gt;r1.n;
            
        }
        //else uso.setstate(ios::failbit);
        return uso;
    }
    operator long double()const
    {
        return (long double)b/n;
    }
    
};


int main ()
{   
    Razlomak r1(396679,437786),r2(147419,131439);
    cout&lt;&lt;r1.DajBrojnik()&lt;&lt;" "&lt;&lt;r1.DajNazivnik()&lt;&lt;endl;
    Razlomak r3(1,3);
    ++r3;
    cout&lt;&lt;r3.DajBrojnik()&lt;&lt;" "&lt;&lt;r3.DajNazivnik()&lt;&lt;endl;
    cin&gt;&gt;r3;
    cout&lt;&lt;r3&lt;&lt;endl;
    Razlomak p,q,r;
    cin&gt;&gt;p&gt;&gt;q&gt;&gt;r;
    cout&lt;&lt;p&lt;&lt;" "&lt;&lt;q&lt;&lt;" "&lt;&lt;r;
	return 0;
}</pre>
</body>
</html>
