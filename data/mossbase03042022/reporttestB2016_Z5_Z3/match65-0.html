<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z5/Z3/student6198.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z5/Z3/student6198.cpp<p></p><pre>
<a name="0"></a><font color="#FF0000"><a href="match65-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_99.gif"/></a>

/B16/17 (ZadaÄ‡a 5, Zadatak 3)
//Autotestovi by Enil Pajic (mail: epajic1@etf.unsa.ba)
//Za autotestove se obracati *iskljucivo* osobi koja ih pise
#include &lt;iostream&gt;
#include &lt;limits&gt;
#include &lt;stdexcept&gt;
#include &lt;math.h&gt;
#include &lt;algorithm&gt;
#define epslinon 0.0000000001

class Razlomak{
    long long int brojnik;
    long long int nazivnik;
    const static long long int m=std::numeric_limits&lt;long long int&gt;::min();//najmanja vrijednost long long inta
    const static long long int M=std::numeric_limits&lt;long long int&gt;::max();//najveca vrijednost long long inta
    static long long int NZD(long long int p, long long int q){
        if(p&lt;q) std::swap(p, q);
        while(q!=0){
            long long int pomocni1,pomocni2;//ovi pomocni su prelazni koraci
            pomocni1=p;
            pomocni2=q;
            p=pomocni2;
            q=pomocni1%pomocni2;
        }
        return p;
    }
    static void PrekoracenjeZaSabiranje(long long int x, long long int y){
        if(y&gt;0){
            if(x&gt;M-y) throw std::overflow_error("Nemoguce dobiti tacan rezultat");
        }
        else if(y&lt;0){
            if(x&lt;m-y) throw std::overflow_error("Nemoguce dobiti tacan rezultat");
        }
    }
    static void PrekoracenjeZaOduzimanje(long long int x, long long int y){
        long long int y1=y*(-1);
        PrekoracenjeZaSabiranje(x,y1);
    }
    static void PrekoracenjeZaMnozenje(long long int x, long long int y){
        if(y&gt;0){
            if(x&lt;m/y || x&gt;M/y) throw std::overflow_error("Nemoguce dobiti tacan rezultat");
        }
        else if(y&lt;0){
            if(x==m || x*(-1)&gt; M/(y*(-1)) || x*(-1)&lt;m/(y*(-1))) throw std::overflow_error("Nemoguce dobiti tacan rezultat");
        }
    }
    public:
    Razlomak(long long brojnik=0, long long nazivnik=1){
        if(nazivnik&lt;0 &amp;&amp; (brojnik&gt;0 || brojnik&lt;0)) {
            brojnik*=-1;
            nazivnik*=-1;
        }
        if(nazivnik==0) throw std::logic_error("Nekorektan razlomak");
        long long int nzd=NZD(brojnik,nazivnik);
        brojnik/=nzd;
        nazivnik/=nzd;
        this-&gt;brojnik=brojnik;
        this-&gt;nazivnik=nazivnik;
    }
    
    Razlomak(const Razlomak &amp;r){
        this-&gt;brojnik=r.brojnik;
        this-&gt;nazivnik=r.nazivnik;
    }
    
    Razlomak &amp;operator= (const Razlomak &amp;r){
        this-&gt;brojnik=r.brojnik;
        this-&gt;nazivnik=r.nazivnik;
        return *this;
    }
    
    Razlomak &amp;operator= (Razlomak &amp;&amp;r){
        this-&gt;brojnik=r.brojnik;
        this-&gt;nazivnik=r.nazivnik;
        return *this;
    }
    
    long long int DajBrojnik(){ return brojnik;}
    long long int DajNazivnik(){ return nazivnik;}
    
     
    friend Razlomak operator+(const Razlomak &amp;r1, const Razlomak &amp;r2){
        auto nzd=NZD(r1.nazivnik, r2.nazivnik);
        PrekoracenjeZaMnozenje(r1.brojnik, r2.nazivnik/nzd);
        PrekoracenjeZaMnozenje(r1.nazivnik,r2.nazivnik/nzd);
        PrekoracenjeZaMnozenje(r2.brojnik, r1.nazivnik/nzd);
        PrekoracenjeZaSabiranje(r1.brojnik*(r2.nazivnik/nzd), r2.brojnik*(r1.nazivnik/nzd));
        long long int naziv=r1.nazivnik*(r2.nazivnik/nzd);
        long long int broj=r1.brojnik*(r2.nazivnik/nzd) + r2.brojnik*(r1.nazivnik/nzd);
        Razlomak vrati(broj,naziv);
        return vrati;
    }
    
    
    friend Razlomak operator-(const Razlomak &amp;r1, const Razlomak &amp;r2){
        auto nzd=NZD(r1.nazivnik, r2.nazivnik);
        PrekoracenjeZaMnozenje(r1.brojnik, r2.nazivnik/nzd);
        PrekoracenjeZaMnozenje(r1.nazivnik,r2.nazivnik/nzd);
        PrekoracenjeZaMnozenje(r2.brojnik, r1.nazivnik/nzd);
        PrekoracenjeZaOduzimanje(r1.brojnik*(r2.nazivnik/nzd), r2.brojnik*(r1.nazivnik/nzd));
        long long int naziv=r1.nazivnik*(r2.nazivnik/nzd);
        long long int broj=r1.brojnik*(r2.nazivnik/nzd) - r2.brojnik*(r1.nazivnik/nzd);
        Razlomak vrati(broj,naziv);
        return vrati;
    }
    
    friend Razlomak operator*(const Razlomak &amp;r1, const Razlomak &amp;r2){
        auto nzd1=NZD(r1.brojnik,r2.nazivnik);
        auto nzd=NZD(r2.nazivnik, r1.nazivnik);
        PrekoracenjeZaMnozenje(r1.brojnik/nzd1, r2.brojnik/nzd);
        PrekoracenjeZaMnozenje(r1.nazivnik/nzd,r2.nazivnik/nzd1);
        
        long long int naziv=(r1.nazivnik/nzd)*(r2.nazivnik/nzd1);
        long long int broj=(r1.brojnik/nzd1)*(r2.brojnik/nzd);
        Razlomak vrati(broj,naziv);
        return vrati;
    }
    friend Razlomak operator/(const Razlomak &amp;r1, const Razlomak &amp;r2){
        auto nzd1=NZD(r1.brojnik,r2.nazivnik);
        auto nzd=NZD(r1.nazivnik, r2.nazivnik);
        PrekoracenjeZaMnozenje(r1.brojnik/nzd1, r2.brojnik/nzd);
        PrekoracenjeZaMnozenje(r1.nazivnik/nzd,r2.brojnik/nzd1);
        
        long long int naziv=(r1.nazivnik/nzd)*(r2.brojnik/nzd1);
        long long int broj=(r1.brojnik/nzd1)*(r2.nazivnik/nzd);
        Razlomak vrati(broj,naziv);
        return vrati;
    }
    friend Razlomak operator ++(Razlomak &amp;r1, int){
        auto vrati=r1;
        ++r1;
        return r1;
    }
    friend Razlomak operator --(Razlomak &amp;r1, int){
        auto vrati=r1;
        --r1;
        return r1;
    }
    friend Razlomak &amp;operator ++(Razlomak &amp;r1){
        Razlomak r(1);
        r1+=r;
        return r1;
    }
    friend Razlomak &amp;operator --(Razlomak &amp;r1){
        Razlomak r(1);
        r1-=r;
        return r1;
    }
    
     friend Razlomak operator+=(Razlomak &amp;r1, const Razlomak &amp;r2){
        auto nzd=NZD(r1.nazivnik, r2.nazivnik);
        auto nzd1=NZD(r1.brojnik,r1.nazivnik);
        PrekoracenjeZaMnozenje(r1.brojnik, r2.nazivnik/nzd);
        PrekoracenjeZaMnozenje(r1.nazivnik,r2.nazivnik/nzd);
        PrekoracenjeZaMnozenje(r2.brojnik, r1.nazivnik/nzd);
        PrekoracenjeZaSabiranje(r1.brojnik*(r2.nazivnik/nzd), r2.brojnik*(r1.nazivnik/nzd));
        r1.brojnik=r1.brojnik*(r2.nazivnik/nzd)+r2.brojnik*(r1.nazivnik/nzd);
        r1.nazivnik=r1.nazivnik*(r2.nazivnik/nzd);
        r1.brojnik/=nzd1;
        r1.nazivnik/=nzd1;
        return r1;
        
    }
    
    friend Razlomak operator-=(Razlomak &amp;r1, const Razlomak &amp;r2){
        auto nzd=NZD(r1.nazivnik, r2.nazivnik);
        auto nzd1=NZD(r1.brojnik,r1.nazivnik);
        PrekoracenjeZaMnozenje(r1.brojnik, r2.nazivnik/nzd);
        PrekoracenjeZaMnozenje(r1.nazivnik,r2.nazivnik/nzd);
        PrekoracenjeZaMnozenje(r2.brojnik, r1.nazivnik/nzd);
        PrekoracenjeZaOduzimanje(r1.brojnik*(r2.nazivnik/nzd), r2.brojnik*(r1.nazivnik/nzd));
        r1.brojnik=r1.brojnik*(r2.nazivnik/nzd)+r2.brojnik*(r1.nazivnik/nzd);
        r1.nazivnik=r1.nazivnik*(r2.nazivnik/nzd);
        r1.brojnik/=nzd1;
        r1.nazivnik/=nzd1;
        return r1;
    }
    friend Razlomak operator*=(Razlomak &amp;r1, const Razlomak &amp;r2){
        auto nzd1=NZD(r1.brojnik,r2.nazivnik);
        auto nzd=NZD(r2.nazivnik, r1.nazivnik);
        auto nzd2=NZD(r1.brojnik, r1.nazivnik);
        PrekoracenjeZaMnozenje(r1.brojnik/nzd1, r2.brojnik/nzd);
        PrekoracenjeZaMnozenje(r1.nazivnik/nzd,r2.nazivnik/nzd1);
        r1.brojnik=(r1.brojnik/nzd1)*(r2.brojnik/nzd);
        r1.nazivnik=(r1.nazivnik/nzd)*(r2.nazivnik/nzd1);
        r1.brojnik/=nzd2;
        r1.nazivnik/=nzd2;
        return r1;
        
    }
    friend Razlomak operator/=(Razlomak &amp;r1, const Razlomak &amp;r2){
        auto nzd1=NZD(r1.brojnik,r2.nazivnik);
        auto nzd=NZD(r1.nazivnik, r2.nazivnik);
        auto nzd2=NZD(r1.brojnik, r1.nazivnik);
        PrekoracenjeZaMnozenje(r1.brojnik/nzd1, r2.brojnik/nzd);
        PrekoracenjeZaMnozenje(r1.nazivnik/nzd,r2.brojnik/nzd1);
        r1.brojnik=(r1.brojnik/nzd1)*(r2.brojnik/nzd);
        r1.nazivnik=(r1.nazivnik/nzd)*(r2.nazivnik/nzd1);
        r1.brojnik/=nzd2;
        r1.nazivnik/=nzd2;
        return r1;
    }
    friend bool operator&lt; (const Razlomak &amp;r1, const Razlomak &amp;r2){
        long double razlomak1=r1.brojnik/r1.nazivnik;
        long double razlomak2=r2.brojnik/r2.nazivnik;
        if(razlomak1-razlomak2&lt;epslinon) return true;
        return false;
    }
    friend bool operator &gt;(const Razlomak &amp;r1, const Razlomak &amp;r2){
        long double razlomak1=r1.brojnik/r1.nazivnik;
        long double razlomak2=r2.brojnik/r2.nazivnik;
        if(razlomak1-razlomak2&gt;epslinon) return true;
        return false;
    }
    friend bool operator ==(const Razlomak &amp;r1, const Razlomak &amp;r2){
        long double razlomak1=r1.brojnik/r1.nazivnik;
        long double razlomak2=r2.brojnik/r2.nazivnik;
        if(fabs(razlomak1-razlomak2)&lt;epslinon) return true;
        return false;
    }
    friend bool operator &lt;=(const Razlomak &amp;r1, const Razlomak &amp;r2){
        return (r1&lt;r2 || r1==r2);
    }
     friend bool operator &gt;=(const Razlomak &amp;r1, const Razlomak &amp;r2){
        return (r1&gt;r2 || r1==r2);
    }
    
    friend bool operator !=(const Razlomak &amp;r1, const Razlomak &amp;r2){
        return !(r1==r2);
    }
    
    friend std::ostream &amp;operator&lt;&lt; (std::ostream &amp;tok, const Razlomak &amp;r){
        if(r.nazivnik==1) return tok&lt;&lt;r.brojnik;
        return tok&lt;&lt;r.brojnik&lt;&lt;"/"&lt;&lt;r.nazivnik;
    }
    friend std::istream &amp;operator&gt;&gt;(std::istream &amp;tok, Razlomak &amp;r){
        return tok;
    }
    operator long double() const{
        return brojnik/(long double)nazivnik;
    }
    
    
    
};
int main ()
{
	return 0;
</font>}</pre>
</body>
</html>
