<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z5/Z3/student1542.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z5/Z3/student2965.cpp<p></p><pre>
#include &lt;iostream&gt;
#include &lt;stdexcept&gt;
<a name="1"></a><font color="#00FF00"><a href="match114-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_24.gif"/></a>

class Razlomak {
    long long int brojnik,nazivnik;
    static int najmanji_zaj(long long int broj,long long int naz) {
        if(broj&lt;0) broj=-broj;
        if(naz==0) return broj;
        broj=broj%naz;
        return najmanji_zaj(naz,broj);
    }
public:
    Razlomak(long long int brojnik,long long int nazivnik) {
        if(nazivnik==0) throw std::logic_error("Nekorektan razlomak");
        if(nazivnik&lt;0) {
            brojnik=-brojnik;
            nazivnik=abs(nazivnik);
        }
        else if(brojnik&lt;0 &amp;&amp; nazivnik&lt;0) {
            brojnik=abs(brojnik);
            nazivnik=abs(nazivnik);
        }
        int rez(najmanji_zaj(brojnik,nazivnik));
        Razlomak::brojnik=brojnik/rez;
        Razlomak::nazivnik=nazivnik/rez;
    }
    Razlomak (int n) {
        brojnik=n;
        nazivnik=1;
    }
    Razlomak() {
        brojnik=0;
        nazivnik=1;
    }
    friend Razlomak operator+ (const  Razlomak &amp;v1, const Razlomak &amp;v2);
    friend Razlomak operator- (const  Razlomak &amp;v1, const Razlomak &amp;v2);
    friend Razlomak operator* (const  Razlomak &amp;v1, const Razlomak &amp;v2);
    friend Razlomak operator/ (const  Razlomak &amp;v1, const Razlomak &amp;v2);
    friend std::ostream &amp;operator &lt;&lt;(std::ostream &amp;tok, const Razlomak &amp;v);
    friend std::istream &amp;operator &gt;&gt;(std::istream &amp;tok,Razlomak &amp;v);
    friend Razlomak &amp;operator +( Razlomak &amp;v);
    friend Razlomak &amp;operator -( Razlomak &amp;v);
    friend Razlomak &amp;operator++( Razlomak &amp;v);
    friend Razlomak &amp;operator--( Razlomak &amp;v);
    friend Razlomak &amp; operator +=(Razlomak &amp;v1, const Razlomak &amp;v2);
    friend Razlomak &amp; operator -=(Razlomak &amp;v1, const Razlomak &amp;v2);
    friend Razlomak &amp; operator *=(Razlomak &amp;v1, const Razlomak &amp;v2);
    friend Razlomak &amp; operator /=(Razlomak &amp;v1, const Razlomak &amp;v2);
    friend bool operator &lt;(const Razlomak  &amp;v1, const Razlomak &amp;v2);
    friend bool operator &gt;(const Razlomak  &amp;v1, const Razlomak &amp;v2);
</font><a name="0"></a><font color="#FF0000"><a href="match114-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_73.gif"/></a>

    friend bool operator &lt;=(const Razlomak  &amp;v1, const Razlomak &amp;v2);
    friend bool operator &gt;=(const Razlomak  &amp;v1, const Razlomak &amp;v2);
    friend Razlomak operator++(Razlomak &amp;v,int);
    friend Razlomak operator--(Razlomak &amp;v,int);
    friend bool operator ==(const Razlomak &amp;v1, const Razlomak &amp;v2);
    friend bool operator !=(const Razlomak &amp;v1, const Razlomak &amp;v2);
    int DajBrojnik() const { return brojnik; }
    int DajNazivnik() const { return nazivnik; }
    operator long double () const;
};
Razlomak::operator long double() const {
        return (long double)brojnik/nazivnik;
    }
Razlomak operator+ (const  Razlomak &amp;v1, const Razlomak &amp;v2) {
    int r=Razlomak::najmanji_zaj(v1.nazivnik,v2.nazivnik);
    Razlomak a (v1.brojnik*(v2.nazivnik/r)+v2.brojnik*(v1.nazivnik/r),v1.nazivnik*(v2.nazivnik/r));
    return a;
}
Razlomak operator- (const  Razlomak &amp;v1, const Razlomak &amp;v2) {
    int r(Razlomak::najmanji_zaj(v1.nazivnik,v2.nazivnik));
    Razlomak a (v1.brojnik*(v2.nazivnik/r)-v2.brojnik*(v1.nazivnik/r),v1.nazivnik*(v2.nazivnik/r));
    return a;
    
}
Razlomak operator*( const Razlomak &amp;v1, const Razlomak &amp;v2) {
        int s=Razlomak::najmanji_zaj(v1.brojnik,v2.nazivnik);
        int t=Razlomak::najmanji_zaj(v2.brojnik,v1.nazivnik);
        Razlomak a ((v1.brojnik/s)*(v2.brojnik/t),(v1.nazivnik/t)*(v2.nazivnik/s));
        return a;
    }
Razlomak operator / ( const Razlomak &amp;v1, const Razlomak &amp;v2) {
        int u=Razlomak::najmanji_zaj(v1.brojnik,v2.brojnik);
        int r=Razlomak::najmanji_zaj(v1.nazivnik,v2.nazivnik);
        Razlomak a((v1.brojnik/u)*(v2.nazivnik/r),(v1.nazivnik/r)*(v2.brojnik/u));
        return a;
}
Razlomak &amp;operator +( Razlomak &amp;v) {
    return v;
}
Razlomak &amp;operator -(Razlomak &amp;v) {
    v.brojnik=-v.brojnik;
    return v;
}
std::ostream &amp;operator &lt;&lt;(std::ostream &amp;tok, const Razlomak &amp;v) {
    if(v.nazivnik==1) return tok&lt;&lt;v.brojnik;
    return (tok&lt;&lt;v.brojnik&lt;&lt;"/"&lt;&lt;v.nazivnik);
}
std::istream &amp;operator &gt;&gt;(std::istream &amp;tok,Razlomak &amp;v) {
    char znak;
    tok&gt;&gt;std::ws;
    tok&gt;&gt;v.brojnik;
    if(tok.peek()!='/') {
        v.nazivnik=1;
    }
    else {
        tok&gt;&gt;znak&gt;&gt;v.nazivnik;
        if(tok.peek()!=' ') tok.setstate(std::ios::failbit);
        v=Razlomak(v.brojnik,v.nazivnik);
    }
    return tok;
}
Razlomak &amp;operator++( Razlomak &amp;v) {
    return v+=1;
}
Razlomak operator++(Razlomak &amp;v,int) {
    Razlomak neki(v);
    v+=1;
    return neki;
}
Razlomak &amp;operator--(Razlomak &amp;v) {
    return v-=1;
}
Razlomak operator--(Razlomak &amp;v,int) {
    Razlomak neki(v);
    v-=1;
    return neki;
}
inline Razlomak &amp;operator +=(Razlomak &amp;v1, const Razlomak &amp;v2) {
    v1=v1+v2;
}
inline Razlomak &amp;operator -=(Razlomak &amp;v1, const Razlomak &amp;v2) {
    v1=v1-v2;
}
inline Razlomak &amp;operator *=(Razlomak &amp;v1, const Razlomak &amp;v2) {
    v1=v1*v2;
}
inline Razlomak &amp; operator /=(Razlomak &amp;v1, const Razlomak &amp;v2){
    v1=v1/v2;
}
bool operator &lt;(const Razlomak  &amp;v1, const Razlomak &amp;v2) {
    long double jedan, drugi;
    jedan =(long double)v1.brojnik/v1.nazivnik;
    drugi=(long double)v2.brojnik/v2.nazivnik;
    if(jedan&lt;drugi) return true;
    return false;
}
bool operator &gt;(const Razlomak  &amp;v1, const Razlomak &amp;v2) {
    long double jedan, drugi;
    jedan =(long double)v1.brojnik/v1.nazivnik;
    drugi=(long double)v2.brojnik/v2.nazivnik;
    if(jedan&gt;drugi) return true;
    return false;
}
bool operator &lt;=(const Razlomak  &amp;v1, const Razlomak &amp;v2) {
    long double jedan, drugi;
    jedan =(long double)v1.brojnik/v1.nazivnik;
    drugi=(long double)v2.brojnik/v2.nazivnik;
    if(jedan&lt;=drugi) return true;
    return false;
}
bool operator &gt;=(const Razlomak  &amp;v1, const Razlomak &amp;v2) {
    long double jedan, drugi;
    jedan =(long double)v1.brojnik/v1.nazivnik;
    drugi=(long double)v2.brojnik/v2.nazivnik;
    if(jedan&gt;=drugi) return true;
    return false;
}
bool operator ==(const Razlomak &amp;v1, const Razlomak &amp;v2) {
    return v1.brojnik==v2.brojnik &amp;&amp; v1.nazivnik==v2.nazivnik;
}
bool operator !=(const Razlomak &amp;v1, const Razlomak &amp;v2) {
    return v1.brojnik!=v2.brojnik || v1.nazivnik==v2.nazivnik;
}
int main ()
{
    Razlomak a(5,2);
    Razlomak b(5,1);
    Razlomak d=a/b;
    std::cout&lt;&lt;d.DajBrojnik()&lt;&lt;std::endl&lt;&lt;d.DajNazivnik()&lt;&lt;std::endl;
    std::cout&lt;&lt;"Zbir, razlika, proizvod i kolicnik razlomaka respektivno su: "&lt;&lt;a+b&lt;&lt;", "&lt;&lt;a-b&lt;&lt;", "&lt;&lt;a*b&lt;&lt;", "&lt;&lt;a/b;
</font>	return 0;
}</pre>
</body>
</html>
