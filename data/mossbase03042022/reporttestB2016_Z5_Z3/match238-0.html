<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z5/Z3/student8004.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z5/Z3/student8004.cpp<p></p><pre>
/B16/17 (ZadaÄ‡a 5, Zadatak 3)
//Autotestovi by Enil Pajic (mail: epajic1@etf.unsa.ba)
//Za autotestove se obracati *iskljucivo* osobi koja ih pise
#include &lt;iostream&gt;
#include &lt;cctype&gt;
#include &lt;stdexcept&gt;
#include &lt;limits&gt;

using namespace std;

class Razlomak
{
    long long int brojnik, nazivnik;
<a name="3"></a><font color="#00FFFF"><a href="match238-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_6.gif"/></a>

    static long long int nzd(long long int x, long long int y)
    {
        if(y==0) return x;
        return nzd(y,x%y);
    }
public:
    Razlomak(long long int b=0, long long int n=1)
    {
        if(n==0) throw logic_error("Nekorektan razlomak");
</font>        if(n&lt;0) { n=-n; b=-b;}
<a name="5"></a><font color="#FF0000"><a href="match238-1.html#5" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_5.gif"/></a>

        auto p=nzd(b,n);
        b/=p;
        n/=p;
        brojnik=b;
        nazivnik=n;
    }
    long long int DajBrojnik() const { return brojnik;}
    long long int DajNazivnik() const { return nazivnik;}
    friend istream &amp;operator &gt;&gt; (istream &amp;cin, Razlomak &amp;r)
    {
        r.brojnik=0; r.nazivnik=1;
</font><a name="7"></a><font color="#0000FF"><a href="match238-1.html#7" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_3.gif"/></a>

        cin&gt;&gt;r.brojnik;
        if(cin.peek()!=' ' &amp;&amp; cin.peek()!='\n') { char a; cin&gt;&gt;a&gt;&gt;r.nazivnik;}
</font>        return cin;
    }
<a name="6"></a><font color="#00FF00"><a href="match238-1.html#6" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_4.gif"/></a>

    friend ostream &amp;operator &lt;&lt; (ostream &amp;cout, Razlomak r)
    {
        cout&lt;&lt;r.brojnik;
        if(r.nazivnik!=1) cout&lt;&lt;"/"&lt;&lt;r.nazivnik;
        return cout;
</font>    }
    operator long double()const
    {
<a name="0"></a><font color="#FF0000"><a href="match238-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_7.gif"/></a>

        return (long double) brojnik/nazivnik;
    }
    friend Razlomak operator + (Razlomak r1, Razlomak r2)
    {
        auto r=nzd(r1.nazivnik,r2.nazivnik);
        Razlomak rez((r1.brojnik*(r2.nazivnik/r)+r2.brojnik*r1.nazivnik/r),r1.nazivnik*r2.nazivnik/r);
        return rez;
    }
    friend Razlomak &amp;operator += (Razlomak &amp;r1, Razlomak r2)
</font>    {
        r1=r1+r2;
        return r1;
    }
    friend Razlomak operator - (Razlomak r1, Razlomak r2)
    {
<a name="1"></a><font color="#00FF00"><a href="match238-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_6.gif"/></a>

        auto r=nzd(r1.nazivnik,r2.nazivnik);
        Razlomak rez((r1.brojnik*(r2.nazivnik/r)-r2.brojnik*r1.nazivnik/r),r1.nazivnik*r2.nazivnik/r);
        return rez;
    }
    friend Razlomak &amp;operator -= (Razlomak &amp;r1, Razlomak r2)
</font>    {
        r1=r1-r2;
        return r1;
    }
<a name="4"></a><font color="#FF00FF"><a href="match238-1.html#4" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_6.gif"/></a>

    friend Razlomak operator * (Razlomak r1, Razlomak r2)
    {
        auto s=nzd(r1.brojnik, r2.nazivnik), t=nzd(r2.brojnik,r1.nazivnik);
        Razlomak rez(r1.brojnik/s*r2.brojnik/t, r1.nazivnik/t*r2.nazivnik/s);
</font>        return rez;
    }
    friend Razlomak &amp;operator *= (Razlomak &amp;r1, Razlomak r2)
    {
<a name="2"></a><font color="#0000FF"><a href="match238-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_6.gif"/></a>

        r1=r1*r2;
        return r1;
    }
    friend Razlomak operator / (Razlomak r1, Razlomak r2)
    {
        auto r=nzd(r1.nazivnik,r2.nazivnik), u=nzd(r1.brojnik, r2.brojnik);
        Razlomak rez(r1.brojnik/u*r2.nazivnik/r, r1.nazivnik/r*r2.brojnik/u);
</font>        return rez;
    }
    friend Razlomak &amp;operator /= (Razlomak &amp;r1, Razlomak r2)
    {
        r1=r1/r2;
        return r1;
    }
    friend Razlomak &amp;operator +(Razlomak &amp;r) { return r;}
    friend Razlomak &amp;operator -(Razlomak &amp;r)
    {
        r.brojnik=-r.brojnik;
        return r;
    }
    friend Razlomak &amp;operator ++(Razlomak &amp;r)
    {
        Razlomak p{1,1};
        r+=p;
        return r;
    }
    friend Razlomak operator ++(Razlomak &amp;r, int)
    {
        Razlomak p=r, t{1,1};
        r+=t;
        return p;
    }
    friend bool operator ==(Razlomak r1, Razlomak r2)
    {
        return r1.brojnik==r2.brojnik &amp;&amp; r1.nazivnik==r2.nazivnik;
    }
    friend bool operator !=(Razlomak r1, Razlomak r2)
    {
        return !(r1.brojnik==r2.brojnik &amp;&amp; r1.nazivnik==r2.nazivnik);
    }
    friend bool operator &gt;(Razlomak r1, Razlomak r2)
    {
        long double b1=r1.brojnik/r1.nazivnik, b2=r2.brojnik/r2.nazivnik;
        return b1&gt;b2;
    }
    friend bool operator &lt;(Razlomak r1, Razlomak r2) { return !(r1&gt;r2); }
    friend bool operator &gt;=(Razlomak r1, Razlomak r2) { return r1&gt;r2 || r1==r2; }
    friend bool operator &lt;=(Razlomak r1, Razlomak r2) { return r1&lt;r2 || r1==r2; }
    
};

int main ()
{
	 Razlomak r (17, 18), t (21), v;
	 t++;
    std::cout &lt;&lt; "r = " &lt;&lt; r &lt;&lt; ", t = " &lt;&lt; t &lt;&lt; ", v = " &lt;&lt; v;
	return 0;
}</pre>
</body>
</html>
