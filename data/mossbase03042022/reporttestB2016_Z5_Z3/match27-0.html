<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z5/Z3/student4296.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z5/Z3/student4296.cpp<p></p><pre>
#include &lt;iostream&gt;
#include &lt;memory&gt;
#include &lt;cmath&gt;
#include &lt;locale&gt;
#include &lt;sstream&gt;
#include &lt;limits&gt;
#define eps 0.0000000000000001
<a name="1"></a><font color="#00FF00"><a href="match27-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_21.gif"/></a>

const long long int m=std::numeric_limits&lt;long long int&gt;::lowest();
const long long int M=std::numeric_limits&lt;long long int&gt;::max();
long long int NZD(long long int p,long long int q)
{
    long long int p1(p);
    while(q!=0) {
        p=q;
        q=fabs(p1%q);
        p1=p;
    }
    return p;
}
bool Sabiranje(long long int x,long long int y)
{
    if((y&gt;=0 &amp;&amp; x&gt;M-y) || (y&lt;0 &amp;&amp; x&lt;m-y)) return false;
    else return true;
}
bool Mnozenje(long long int x,long long int y)
{
    if((y&lt;0 &amp;&amp; (x==m || (x*-1)&gt;M/(y*-1) || (x*-1)&lt;m/(y*-1)))) return false;
    else return true;
}
class Razlomak
{
    long long int brojnik, nazivnik;
public:
    Razlomak(long long int b, long long int n) {
        if(n==0) throw std::logic_error ("Nekorektan razlomak");
        if(n&lt;0) {
            b*=-1;
            n*=-1;
        }
        long long int p;
        p=NZD(b,n);
        brojnik = b/p;
        nazivnik = n/p;
    }
    Razlomak(long long int b): brojnik(b),nazivnik(1) {}
    Razlomak(): brojnik(0),nazivnik(1) {}

    operator long double() const;

    long long int DajBrojnik() const{
        return brojnik;
    }
    long long int DajNazivnik() const{
        return nazivnik;
    }
    Razlomak operator +=(const Razlomak &amp;R2);
    Razlomak operator -=(const Razlomak &amp;R2);
    Razlomak operator *=(const Razlomak &amp;R2);
    Razlomak operator /=(const Razlomak &amp;R2);
    Razlomak &amp;operator ++();
    Razlomak operator ++(int);
    Razlomak &amp;operator --();
    Razlomak operator --(int);
    Razlomak &amp;operator -() {
        if(!Mnozenje(brojnik,-1))  throw std::overflow_error("Nemoguce dobiti tacan rezultat");
        brojnik*=-1;
        return *this;
    }
    Razlomak &amp;operator +() {
        return *this;
    }
    friend Razlomak operator +(const Razlomak &amp;R1,const Razlomak &amp;R2);
    friend Razlomak operator -(const Razlomak &amp;R1,const Razlomak &amp;R2);
    friend Razlomak operator *(const Razlomak &amp;R1,const Razlomak &amp;R2);
    friend Razlomak operator /(const Razlomak &amp;R1,const Razlomak &amp;R2);
    friend std::ostream &amp;operator &lt;&lt;(std::ostream &amp;tok, const Razlomak &amp;R);
    friend bool operator ==(const Razlomak &amp;R1, const Razlomak &amp;R2);
    friend bool operator !=(const Razlomak &amp;R1, const Razlomak &amp;R2);
    friend bool operator &gt;(const Razlomak &amp;R1, const Razlomak &amp;R2);
    friend bool operator &lt;(const Razlomak &amp;R1, const Razlomak &amp;R2);
</font><a name="0"></a><font color="#FF0000"><a href="match27-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_77.gif"/></a>

    friend bool operator &gt;=(const Razlomak &amp;R1, const Razlomak &amp;R2);
    friend bool operator &lt;=(const Razlomak &amp;R1, const Razlomak &amp;R2);
    friend std::istream &amp;operator &gt;&gt;(std::istream &amp;tok, const Razlomak &amp;R);

};
Razlomak::operator long double() const
{
    long double k;
    k=double(brojnik)/nazivnik;
    return k;
}
bool operator &lt;(const Razlomak &amp;R1, const Razlomak &amp;R2)
{
    long double kolicnik[2];
    kolicnik[0]=R1.brojnik/R1.nazivnik;
    kolicnik[1]=R2.brojnik/R2.nazivnik;
    if(kolicnik[0]&lt;kolicnik[1])
        return true;
    else return false;
}
bool operator &lt;=(const Razlomak &amp;R1, const Razlomak &amp;R2)
{
    long double kolicnik[2];
    kolicnik[0]=R1.brojnik/R1.nazivnik;
    kolicnik[1]=R2.brojnik/R2.nazivnik;
    if(kolicnik[0]&lt;kolicnik[1] || fabs(kolicnik[0]-kolicnik[1])&lt;eps)
        return true;
    else return false;
}
bool operator &gt;(const Razlomak &amp;R1, const Razlomak &amp;R2)
{
    long double kolicnik[2];
    kolicnik[0]=R1.brojnik/R1.nazivnik;
    kolicnik[1]=R2.brojnik/R2.nazivnik;
    if(kolicnik[0]&gt;kolicnik[1])
        return true;
    else return false;
}
bool operator &gt;=(const Razlomak &amp;R1, const Razlomak &amp;R2)
{
    long double kolicnik[2];
    kolicnik[0]=R1.brojnik/R1.nazivnik;
    kolicnik[1]=R2.brojnik/R2.nazivnik;
    if(kolicnik[0]&gt;kolicnik[1] || fabs(kolicnik[0]-kolicnik[1])&lt;eps)
        return true;
    else return false;
}
bool operator ==(const Razlomak &amp;R1, const Razlomak &amp;R2)
{
    long double kolicnik[2];
    kolicnik[0]=R1.brojnik/R1.nazivnik;
    kolicnik[1]=R2.brojnik/R2.nazivnik;
    if(fabs(kolicnik[0]-kolicnik[1])&lt;eps)
        return true;
    else return false;
}
bool operator !=(const Razlomak &amp;R1, const Razlomak &amp;R2)
{
    return !(R1==R2);
}
Razlomak &amp;Razlomak::operator ++()
{
    *this+=1;
    *this=Razlomak(*this);
    return *this;
}
Razlomak Razlomak::operator ++(int)
{
    Razlomak pomocni(*this);
    ++(*this);
    return pomocni;
}
Razlomak &amp;Razlomak::operator --()
{
    *this-=1;
    *this=Razlomak(*this);
    return *this;
}
Razlomak Razlomak::operator --(int)
{
    Razlomak pomocni(*this);
    --(*this);
    return pomocni;
}

Razlomak operator +(const Razlomak &amp;R1,const Razlomak &amp;R2)
{
    long long int broj, naz;
    long long int r=NZD(R1.nazivnik, R2.nazivnik);
    if(!Mnozenje(R1.brojnik,(R2.nazivnik/r)) || !Mnozenje(R2.brojnik,(R1.nazivnik/r)) || !Sabiranje(R1.brojnik*(R2.nazivnik/r),R2.brojnik*(R1.nazivnik/r))) throw std::overflow_error("Nemoguce dobiti tacan rezultat");

    broj=R1.brojnik*(R2.nazivnik/r)+R2.brojnik*(R1.nazivnik/r);
    naz=R1.nazivnik*(R2.nazivnik/r);
    return Razlomak(broj,naz);
}
Razlomak operator -(const Razlomak &amp;R1,const Razlomak &amp;R2)
{
    Razlomak R3(R2.brojnik,R2.nazivnik);
    return R1+(-R3);

}
Razlomak operator *(const Razlomak &amp;R1,const Razlomak &amp;R2)
{
    long long int broj, naz;
    long long int s=NZD(R1.brojnik, R2.nazivnik),t=NZD(R2.brojnik,R1.nazivnik);
    if(!Mnozenje((R1.brojnik/s),(R2.brojnik/t)) || !Mnozenje(R1.nazivnik/t,(R2.nazivnik/s))) throw std::overflow_error("Nemoguce dobiti tacan rezultat");
    broj=(R1.brojnik/s)*(R2.brojnik/t);
    naz=(R1.nazivnik/t)*(R2.nazivnik/s);
    return Razlomak(broj,naz);

}
Razlomak operator /(const Razlomak &amp;R1,const Razlomak &amp;R2)
{
    long long int broj, naz;
    long long int r=NZD(R1.nazivnik, R2.nazivnik),u=NZD(R1.brojnik,R2.brojnik);
    if(!Mnozenje((R1.brojnik/u),(R2.nazivnik/r)) || !Mnozenje((R1.nazivnik/r),(R2.brojnik/u))) throw std::overflow_error("Nemoguce dobiti tacan rezultat");

    broj=(R1.brojnik/u)*(R2.nazivnik/r);
    naz=(R1.nazivnik/r)*(R2.brojnik/u);
    return Razlomak(broj,naz);
}
Razlomak Razlomak::operator +=(const Razlomak &amp;R2)
{
    long long int broj, naz;
    long long int r=NZD(nazivnik, R2.nazivnik);
    if(!Mnozenje(brojnik,(R2.nazivnik/r)) || !Mnozenje(R2.brojnik,(nazivnik/r)) || !Sabiranje(brojnik*(R2.nazivnik/r),R2.brojnik*(nazivnik/r))) throw std::overflow_error("Nemoguce dobiti tacan rezultat");
    broj=brojnik*(R2.nazivnik/r)+R2.brojnik*(nazivnik/r);
    naz=nazivnik*(R2.nazivnik/r);
    brojnik=broj;
    nazivnik=naz;
    *this=Razlomak(*this);
    return *this;
}
Razlomak Razlomak::operator -=(const Razlomak &amp;R2)
{
        Razlomak R3(R2.brojnik,R2.nazivnik);

    *this=*this+(-R3);
    return *this;
}
Razlomak Razlomak::operator *=(const Razlomak &amp;R2)
{
    long long int broj, naz;
    long long int s=NZD(brojnik, R2.nazivnik),t=NZD(R2.brojnik,nazivnik);
    if(!Mnozenje((brojnik/s),(R2.brojnik/t)) || !Mnozenje(nazivnik/t,(R2.nazivnik/s))) throw std::overflow_error("Nemoguce dobiti tacan rezultat");

    broj=(brojnik/s)*(R2.brojnik/t);
    naz=(nazivnik/t)*(R2.nazivnik/s);
    brojnik=broj;
    nazivnik=naz;
    *this=Razlomak(*this);
    return *this;
}
Razlomak Razlomak::operator /=(const Razlomak &amp;R2)
{
    long long int broj, naz;
    long long int r=NZD(nazivnik, R2.nazivnik),u=NZD(brojnik,R2.brojnik);
        if(!Mnozenje((brojnik/u),(R2.nazivnik/r)) || !Mnozenje((nazivnik/r),(R2.brojnik/u))) throw std::overflow_error("Nemoguce dobiti tacan rezultat");

    broj=(brojnik/u)*(R2.nazivnik/r);
    naz=(nazivnik/r)*(R2.brojnik/u);
    brojnik=broj;
    nazivnik=naz;
    *this=Razlomak(*this);
    return *this;
}
std::ostream &amp;operator &lt;&lt;(std::ostream &amp;tok, const Razlomak &amp;R)
{
    if(R.nazivnik==1) tok&lt;&lt;R.brojnik;
    else tok&lt;&lt;R.brojnik&lt;&lt;"/"&lt;&lt;R.nazivnik;
    return tok;
}
std::istream &amp;operator &gt;&gt;(std::istream &amp;tok, Razlomak &amp;R)
{
    char razmak;
    bool ocisti(true);
    long long int broj(1),naz(1);
    tok &gt;&gt; std::ws;
    tok &gt;&gt; broj;

    if(tok.eof() || std::isspace(static_cast&lt;unsigned char&gt;(tok.peek()))) {
        R=Razlomak(broj);
        tok.clear();
        return tok;
    }
    tok &gt;&gt; razmak;
    tok &gt;&gt; naz;

    if(!std::isspace(static_cast&lt;unsigned char&gt;(tok.peek())) || razmak != '/') {
        tok.setstate(std::ios::failbit);
        ocisti = false;
    }
    //tok &gt;&gt; std::ws;

    R=Razlomak(broj,naz);
    if(ocisti) std::cin.clear();
    return tok;
}

int main ()
{
    Razlomak a(100, 200), b(10, 20), c(5, 50), d; 
    std::cout &lt;&lt; "a = " &lt;&lt; a &lt;&lt; " b = " &lt;&lt; b &lt;&lt; " c = " &lt;&lt; c &lt;&lt; std::endl;
    std::cout &lt;&lt; "Zbir razlomaka a i b: " &lt;&lt; a + b &lt;&lt; std::endl;
    std::cout &lt;&lt; "Razlika razlomaka a i c: " &lt;&lt; a - c &lt;&lt; std::endl;
    std::cout &lt;&lt; "Proizvod razlomaka b i c: " &lt;&lt; b * c &lt;&lt; std::endl;
    std::cout &lt;&lt; "Kolicnik razlomaka a i b: " &lt;&lt; a / b &lt;&lt; std::endl;
    std::cout &lt;&lt; "Inkrement razlomka a: " &lt;&lt; ++a &lt;&lt; std::endl;
    std::cout &lt;&lt; "Dekrement razlomka b: " &lt;&lt; --b &lt;&lt; std::endl;
    if(a == b) std::cout &lt;&lt; "Razlomci a i b su jednaki." &lt;&lt; std::endl;
    if(a != b) std::cout &lt;&lt; "Razlomci a i b nisu jednaki." &lt;&lt; std::endl;
    std::cout &lt;&lt; "Unesi razlomak d = " &lt;&lt; std::endl;
    std::cin &gt;&gt; d;
    std::cout &lt;&lt; d &lt;&lt; std::endl;
    if(d &lt; a) std::cout &lt;&lt; "Razlomak d je manji od razlomka a." &lt;&lt; std::endl;
    if(d &gt; b) std::cout &lt;&lt; "Razlomak d je veci od razlomka b." &lt;&lt; std::endl;
</font>    return 0;
}
</pre>
</body>
</html>
