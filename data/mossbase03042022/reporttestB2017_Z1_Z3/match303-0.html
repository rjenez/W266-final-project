<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z1/Z3/student5961.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z1/Z3/student5961.cpp<p></p><pre>
#include &lt;iostream&gt;
#include &lt;cmath&gt;
#include &lt;vector&gt;
#include &lt;deque&gt;
#include &lt;limits&gt;

<a name="0"></a><font color="#FF0000"><a href="match303-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_99.gif"/></a>

using IntArr = std::vector&lt;int&gt;;
using DekVek = std::deque&lt;std::vector&lt;int&gt;&gt;;
enum Smjer {Rastuci, Opadajuci};  

/* integer validity */
inline bool isValidNum(const long &amp;num) {
     return ((num &lt;= std::numeric_limits&lt;int&gt;::max()) &amp;&amp; (num &gt;= std::numeric_limits&lt;int&gt;::min()));
}

/* check if m=2^n */
inline bool isPowTwo(const long &amp;num) {
     return (isValidNum(num) &amp;&amp; (num &gt; 0) &amp;&amp; !(num &amp; (num-1)));
}

/* print an array */
void IspisiArr(const IntArr &amp;niz) {
     for(auto element:niz) std::cout &lt;&lt; element &lt;&lt; " ";
     std::cout &lt;&lt; std::endl;
}

/* function to implement */
DekVek MaksimalniPodnizoviStepenaDvojke(const IntArr &amp;arr, Smjer p) {
     DekVek returnDek;
     
     /* validate input parameters first */
     if(arr.empty() || ((p != Rastuci) &amp;&amp; (p != Opadajuci))) 
          return returnDek; 
     
     /* start checking */
     IntArr temp;
     int pos{0};
     for(;;) {
          temp.clear();
          if((pos &gt;= (arr.size()-1))) break;
          /* start checking through array */
          while((pos+1 &lt; arr.size()) 
                    &amp;&amp; (((arr.at(pos) &gt; arr.at(pos+1)) == static_cast&lt;std::underlying_type&lt;Smjer&gt;::type&gt;(p)) ||
                         ((arr.at(pos) == arr.at(pos+1))))
                    &amp;&amp; isPowTwo(arr.at(pos)) &amp;&amp; isPowTwo(arr.at(pos+1))) {
               temp.push_back(arr.at(pos));
               pos++;
          }
          /* add last element into array */
          if(!temp.empty()) {
               temp.push_back(arr.at(pos));
               returnDek.push_back(temp);
               
               /* in case of same elements, get back one place */
               if(arr.at(pos) == arr.at(pos-1)) pos--;
          }
          pos++;
     }
     
     /* default output */
     return returnDek;
}

/* main function */
int main () {
     IntArr niz;
     int size, type, num;
     /* read data (with error checking) */
     std::cout &lt;&lt; "Unesite broj elemenata vektora: ";
     std::cin &gt;&gt; size;
     
     std::cout &lt;&lt; "Unesite elemente vektora: ";
     for(int i(0); i &lt; size; ++i) {
          std::cin &gt;&gt; num;
          niz.push_back(num);
     }
     
     std::cout &lt;&lt; "Unesite: 1 - za rastuce podnizove, 2 - za opadajuce podnizove: ";
     for(;;) {
          std::cin &gt;&gt; type;
          if(type == 1 or type == 2) break;
          else std::cout &lt;&lt; "Pogresan unos!" &lt;&lt; std::endl;
     }
     
     /* do the job */
     DekVek arr{MaksimalniPodnizoviStepenaDvojke(niz, static_cast&lt;Smjer&gt;(type-1))};
     if(arr.empty()) std::cout &lt;&lt; "U datom nizu nema monotono "&lt;&lt; ((type == 1) ? "rastucih":"opadajucih") &lt;&lt; " podnizova.";
     else {
          std::cout &lt;&lt; "Maksimalni "&lt;&lt; ((type == 1) ? "rastuci":"opadajuci") &lt;&lt; " podnizovi: " &lt;&lt; std::endl;
          for(auto niz:arr) IspisiArr(niz);
     }
	return 0;
</font>}</pre>
</body>
</html>
