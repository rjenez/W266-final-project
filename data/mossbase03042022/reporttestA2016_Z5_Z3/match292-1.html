<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/A2016/Z5/Z3/student4415.c</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/A2016/Z5/Z3/student7697.c<p></p><pre>
#include &lt;stdio.h&gt;
#include &lt;string.h&gt;
#define KAPACITET 200

/* random record description - could be anything */
struct Vrijeme {
    int sati, minute, sekunde;
};

struct Cas {
    char predmet[10];
    int dan_u_sedmici;
    struct Vrijeme pocetak, kraj;
};

struct Cas raspored[200], cas;

struct CasoviZaDan {
    int rb;
    int predmetid;
    char predmet[10];
    struct Vrijeme pocetak, kraj;
};

struct CasoviZaDan casovizadan[200];

int ukupno_casova = 1, br, ukupno_casova_za_dan = 0;

int kraj_predmeta_sati(struct Cas raspored[], int ukupno_casova, int dan_u_sedmici, const char* predmet) {
    int j, kraj = 9;
    for (j = 0; j &lt; ukupno_casova; ++j) {
        if (strcmp(raspored[j].predmet, predmet) == 0 &amp;&amp; raspored[j].dan_u_sedmici == dan_u_sedmici) {
<a name="2"></a><font color="#0000FF"><a href="match292-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_0.gif"/></a>

            if (raspored[j].kraj.sati &gt; kraj) {
                kraj = raspored[j].kraj.sati;
            }
        }
    }
    return kraj;
}

int kraj_predmeta_minute(struct Cas raspored[], int ukupno_casova, int dan_u_sedmici, const char* predmet) {
</font>    int j, kraj = 9;
    for (j = 0; j &lt; ukupno_casova; ++j) {
        if (raspored[j].predmet == predmet &amp;&amp; raspored[j].dan_u_sedmici == dan_u_sedmici) {
            if (raspored[j].kraj.sati &gt; kraj) {
                kraj = raspored[j].kraj.minute;
            }
        }
    }
    return kraj;
}

void ispis_rasporeda(struct Cas raspored[], int ukupno_casova) {
    int i, j, dat;

    for (i = 1; i &lt; ukupno_casova; i++) printf("predmet=%3s dan u sedmici=%d pocetak=%d\n", raspored[i].predmet, raspored[i].dan_u_sedmici, raspored[i].pocetak.sati);

    printf("      PON       UTO       SRI       CET       PET       SUB\n");
    printf("09:00 ");
    for (j = 0; j &lt; ukupno_casova; j++) if (raspored[j].pocetak.sati == 9 &amp;&amp; raspored[j].dan_u_sedmici == 0) {
            printf("%1s", raspored[j].predmet);
            break;
        }
    if (j == ukupno_casova) printf("          ");
    for (j = 0; j &lt; ukupno_casova; j++) if (raspored[j].pocetak.sati == 9 &amp;&amp; raspored[j].dan_u_sedmici == 1) {
            printf("%10s", raspored[j].predmet);
            break;
        }
    if (j == ukupno_casova) printf("          ");
    for (j = 0; j &lt; ukupno_casova; j++) if (raspored[j].pocetak.sati == 9 &amp;&amp; raspored[j].dan_u_sedmici == 2) {
            printf("%10s", raspored[j].predmet);
            break;
        }
    if (j == ukupno_casova) printf("          ");
    for (j = 0; j &lt; ukupno_casova; j++) if (raspored[j].pocetak.sati == 9 &amp;&amp; raspored[j].dan_u_sedmici == 3) {
            printf("%10s", raspored[j].predmet);
            break;
        }
    if (j == ukupno_casova) printf("          ");
    for (j = 0; j &lt; ukupno_casova; j++) if (raspored[j].pocetak.sati == 9 &amp;&amp; raspored[j].dan_u_sedmici == 4) {
            printf("%10s", raspored[j].predmet);
            break;
        }
    if (j == ukupno_casova) printf("          ");
    for (j = 0; j &lt; ukupno_casova; j++) if (raspored[j].pocetak.sati == 9 &amp;&amp; raspored[j].dan_u_sedmici == 5) {
            printf("%10s", raspored[j].predmet);
            break;
        }
    if (j == ukupno_casova) printf("          ");
    printf("\n");
    printf("10:00 ");
    for (j = 0; j &lt; ukupno_casova; j++) if (raspored[j].pocetak.sati == 10 &amp;&amp; raspored[j].dan_u_sedmici == 0) {
            printf("%1s", raspored[j].predmet);
            break;
        }
    if (j == ukupno_casova) printf("          ");
    for (j = 0; j &lt; ukupno_casova; j++) if (raspored[j].pocetak.sati == 10 &amp;&amp; raspored[j].dan_u_sedmici == 1) {
            printf("%10s", raspored[j].predmet);
            break;
        }
    if (j == ukupno_casova) printf("          ");
    for (j = 0; j &lt; ukupno_casova; j++) if (raspored[j].pocetak.sati == 10 &amp;&amp; raspored[j].dan_u_sedmici == 2) {
            printf("%10s", raspored[j].predmet);
            break;
        }
    if (j == ukupno_casova) printf("          ");
    for (j = 0; j &lt; ukupno_casova; j++) if (raspored[j].pocetak.sati == 10 &amp;&amp; raspored[j].dan_u_sedmici == 3) {
            printf("%10s", raspored[j].predmet);
            break;
        }
    if (j == ukupno_casova) printf("          ");
    for (j = 0; j &lt; ukupno_casova; j++) if (raspored[j].pocetak.sati == 10 &amp;&amp; raspored[j].dan_u_sedmici == 4) {
            printf("%10s", raspored[j].predmet);
            break;
        }
    if (j == ukupno_casova) printf("          ");
    for (j = 0; j &lt; ukupno_casova; j++) if (raspored[j].pocetak.sati == 10 &amp;&amp; raspored[j].dan_u_sedmici == 5) {
            printf("%10s", raspored[j].predmet);
            break;
        }
    if (j == ukupno_casova) printf("          ");
    printf("\n");
    printf("11:00 ");
    for (j = 0; j &lt; ukupno_casova; j++) if (raspored[j].pocetak.sati == 11 &amp;&amp; raspored[j].dan_u_sedmici == 0) {
            printf("%1s", raspored[j].predmet);
            break;
        }
    if (j == ukupno_casova) printf("          ");
    for (j = 0; j &lt; ukupno_casova; j++) if (raspored[j].pocetak.sati == 11 &amp;&amp; raspored[j].dan_u_sedmici == 1) {
            printf("%10s", raspored[j].predmet);
            break;
        }
    if (j == ukupno_casova) printf("          ");
    for (j = 0; j &lt; ukupno_casova; j++) if (raspored[j].pocetak.sati == 11 &amp;&amp; raspored[j].dan_u_sedmici == 2) {
            printf("%10s", raspored[j].predmet);
            break;
        }
    if (j == ukupno_casova) printf("          ");
    for (j = 0; j &lt; ukupno_casova; j++) if (raspored[j].pocetak.sati == 11 &amp;&amp; raspored[j].dan_u_sedmici == 3) {
            printf("%10s", raspored[j].predmet);
            break;
        }
    if (j == ukupno_casova) printf("          ");
    for (j = 0; j &lt; ukupno_casova; j++) if (raspored[j].pocetak.sati == 11 &amp;&amp; raspored[j].dan_u_sedmici == 4) {
            printf("%10s", raspored[j].predmet);
            break;
        }
    if (j == ukupno_casova) printf("          ");
    for (j = 0; j &lt; ukupno_casova; j++) if (raspored[j].pocetak.sati == 11 &amp;&amp; raspored[j].dan_u_sedmici == 5) {
            printf("%10s", raspored[j].predmet);
            break;
        }
    if (j == ukupno_casova) printf("          ");
    printf("\n");
    printf("12:00 ");
    for (j = 0; j &lt; ukupno_casova; j++) if (raspored[j].pocetak.sati == 12 &amp;&amp; raspored[j].dan_u_sedmici == 0) {
            printf("%1s", raspored[j].predmet);
            break;
        }
    if (j == ukupno_casova) printf("          ");
    for (j = 0; j &lt; ukupno_casova; j++) if (raspored[j].pocetak.sati == 12 &amp;&amp; raspored[j].dan_u_sedmici == 1) {
            printf("%10s", raspored[j].predmet);
            break;
        }
    if (j == ukupno_casova) printf("          ");
    for (j = 0; j &lt; ukupno_casova; j++) if (raspored[j].pocetak.sati == 12 &amp;&amp; raspored[j].dan_u_sedmici == 2) {
            printf("%10s", raspored[j].predmet);
            break;
        }
    if (j == ukupno_casova) printf("          ");
    for (j = 0; j &lt; ukupno_casova; j++) if (raspored[j].pocetak.sati == 12 &amp;&amp; raspored[j].dan_u_sedmici == 3) {
            printf("%10s", raspored[j].predmet);
            break;
        }
    if (j == ukupno_casova) printf("          ");
    for (j = 0; j &lt; ukupno_casova; j++) if (raspored[j].pocetak.sati == 12 &amp;&amp; raspored[j].dan_u_sedmici == 4) {
            printf("%10s", raspored[j].predmet);
            break;
        }
    if (j == ukupno_casova) printf("          ");
    for (j = 0; j &lt; ukupno_casova; j++) if (raspored[j].pocetak.sati == 12 &amp;&amp; raspored[j].dan_u_sedmici == 5) {
            printf("%10s", raspored[j].predmet);
            break;
        }
    if (j == ukupno_casova) printf("          ");
    printf("\n");
    printf("13:00 ");
    for (j = 0; j &lt; ukupno_casova; j++) if (raspored[j].pocetak.sati == 13 &amp;&amp; raspored[j].dan_u_sedmici == 0) {
            printf("%1s", raspored[j].predmet);
            break;
        }
    if (j == ukupno_casova) printf("          ");
    for (j = 0; j &lt; ukupno_casova; j++) if (raspored[j].pocetak.sati == 13 &amp;&amp; raspored[j].dan_u_sedmici == 1) {
            printf("%10s", raspored[j].predmet);
            break;
        }
    if (j == ukupno_casova) printf("          ");
    for (j = 0; j &lt; ukupno_casova; j++) if (raspored[j].pocetak.sati == 13 &amp;&amp; raspored[j].dan_u_sedmici == 2) {
            printf("%10s", raspored[j].predmet);
            break;
        }
    if (j == ukupno_casova) printf("          ");
    for (j = 0; j &lt; ukupno_casova; j++) if (raspored[j].pocetak.sati == 13 &amp;&amp; raspored[j].dan_u_sedmici == 3) {
            printf("%10s", raspored[j].predmet);
            break;
        }
    if (j == ukupno_casova) printf("          ");
    for (j = 0; j &lt; ukupno_casova; j++) if (raspored[j].pocetak.sati == 13 &amp;&amp; raspored[j].dan_u_sedmici == 4) {
            printf("%10s", raspored[j].predmet);
            break;
        }
    if (j == ukupno_casova) printf("          ");
    for (j = 0; j &lt; ukupno_casova; j++) if (raspored[j].pocetak.sati == 13 &amp;&amp; raspored[j].dan_u_sedmici == 5) {
            printf("%10s", raspored[j].predmet);
            break;
        }
    if (j == ukupno_casova) printf("          ");
    printf("\n");
    printf("14:00 ");
    for (j = 0; j &lt; ukupno_casova; j++) if (raspored[j].pocetak.sati == 14 &amp;&amp; raspored[j].dan_u_sedmici == 0) {
            printf("%1s", raspored[j].predmet);
            break;
        }
    if (j == ukupno_casova) printf("          ");
    for (j = 0; j &lt; ukupno_casova; j++) if (raspored[j].pocetak.sati == 14 &amp;&amp; raspored[j].dan_u_sedmici == 1) {
            printf("%10s", raspored[j].predmet);
            break;
        }
    if (j == ukupno_casova) printf("          ");
    for (j = 0; j &lt; ukupno_casova; j++) if (raspored[j].pocetak.sati == 14 &amp;&amp; raspored[j].dan_u_sedmici == 2) {
            printf("%10s", raspored[j].predmet);
            break;
        }
    if (j == ukupno_casova) printf("          ");
    for (j = 0; j &lt; ukupno_casova; j++) if (raspored[j].pocetak.sati == 14 &amp;&amp; raspored[j].dan_u_sedmici == 3) {
            printf("%10s", raspored[j].predmet);
            break;
        }
    if (j == ukupno_casova) printf("          ");
    for (j = 0; j &lt; ukupno_casova; j++) if (raspored[j].pocetak.sati == 14 &amp;&amp; raspored[j].dan_u_sedmici == 4) {
            printf("%10s", raspored[j].predmet);
            break;
        }
    if (j == ukupno_casova) printf("          ");
    for (j = 0; j &lt; ukupno_casova; j++) if (raspored[j].pocetak.sati == 14 &amp;&amp; raspored[j].dan_u_sedmici == 5) {
            printf("%10s", raspored[j].predmet);
            break;
        }
    if (j == ukupno_casova) printf("          ");
    printf("\n");

}

void ispisi_sve(struct Cas raspored[], int ukupno_casova) {
    int i;
    for (i = 0; i &lt; ukupno_casova; i++) printf("predmet=%s dan u sedmici=%d pocetak=%d:%d kraj=%d:%d\n",
<a name="0"></a><font color="#FF0000"><a href="match292-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_0.gif"/></a>

            raspored[i].predmet, raspored[i].dan_u_sedmici,
            raspored[i].pocetak.sati, raspored[i].pocetak.minute,
            raspored[i].kraj.sati, raspored[i].kraj.minute);
</font>}

void ispisi_dan(struct Cas raspored[], int ukupno_casova, int dan) {
    int i, j, k, m, dat, pom_sati, pom_minute;

    //izdvoji casove u danu
    ukupno_casova_za_dan = 0;
    for (j = 0; j &lt; ukupno_casova; j++) {
        if (raspored[j].dan_u_sedmici == dan/*-1*/) {
            casovizadan[ukupno_casova_za_dan].rb = ukupno_casova_za_dan;
            strcpy(casovizadan[ukupno_casova_za_dan].predmet, raspored[j].predmet);
            casovizadan[ukupno_casova_za_dan].pocetak = raspored[j].pocetak;
            casovizadan[ukupno_casova_za_dan].kraj = raspored[j].kraj;
            ukupno_casova_za_dan++;
        }
    }
    //sifriraj predmete
    i = 0;
    casovizadan[i].predmetid = i;
    for (j = 1; j &lt; ukupno_casova_za_dan; j++) {
        if (strcmp(casovizadan[j].predmet, casovizadan[j - 1].predmet) == 0) {
            casovizadan[j].predmetid = i;
        } else {
            i++;
            casovizadan[j].predmetid = i;
        }
    }
    // azurirati rb
    for (i = 0; i &lt; ukupno_casova_za_dan; i++) {
        casovizadan[i].rb = i + 1;
    }
    //ispis
    printf("Uneseni su casovi:\n");
    for (j = 0; j &lt; ukupno_casova_za_dan; j++) {
        printf("%d) %s (%02d:%02d-%02d:%02d)\n", casovizadan[j].rb, casovizadan[j].predmet,
                casovizadan[j].pocetak.sati, casovizadan[j].pocetak.minute,
                casovizadan[j].kraj.sati, casovizadan[j].kraj.minute);
    }
}

int zapisi_datoteku(struct Cas raspored[], int ukupno_casova) {
    FILE* dat = fopen("raspored.dat", "wb");
    if (dat == NULL) {
        printf("Greska pri otvaranju datoteke.\n");
    }
    int zapisano = fwrite(raspored, sizeof (struct Cas),
            ukupno_casova, dat);
    if (ferror(dat)) {
        printf("Greska prilikom pisanja datoteke.\n");
        printf("Zapisano je samo %d osoba\n", zapisano);
    }
    fclose(dat);
    if (zapisano &gt; 0) return 1;
    else return 0;
}

int ucitaj_datoteku(struct Cas raspored[]) {

    FILE* dat = fopen("raspored.dat", "rb");
    if (dat == NULL) {
        printf("Greska pri otvaranju datoteke.\n");
        return 0;
    }
<a name="3"></a><font color="#00FFFF"><a href="match292-0.html#3" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_0.gif"/></a>

    int ukupno_casova = fread(raspored, sizeof (struct Cas),
            KAPACITET, dat);
    fclose(dat);
    return ukupno_casova;
}

int dodaj_cas(struct Cas raspored[], int ukupno_casova, const char* predmet, int trajanje) {
</font>    char naziv_predmeta;
    int ukupno_casova_pocetak, i, j, k, l = 0, m = 0, n = 0, broj_slobodnih_termina = 0, broj_zauzetih_termina = 0,
            slobodni_sat = 9, slobodni_dan = 0, termin_nadjen = 0, dat;

    int nadji_termin(struct Cas raspored[], int ukupno_casova, int dan, int sati, int trajanje) {
        int j, k, termin_zauzet = 0;

        for (k = 0; k &lt; ukupno_casova; ++k) {
            if (raspored[k].dan_u_sedmici == dan &amp;&amp;
                    raspored[k].pocetak.sati &lt;= sati &amp;&amp;
                    raspored[k].kraj.sati &gt; sati) {
                termin_zauzet = 1;
            }
        }
        if (termin_zauzet == 1) return 0;
        else return 1;
    }
    // dani u sedmici
    i = 1;
    termin_nadjen = 0;
    ukupno_casova_pocetak = ukupno_casova;
    if (trajanje &lt; 10) {
        while (i &lt;= 6 &amp;&amp; termin_nadjen == 0) {
            // sati u danu
            j = 9;
            while (j &lt;= 19 - trajanje &amp;&amp; termin_nadjen == 0) {
                termin_nadjen = nadji_termin(raspored, ukupno_casova, i, j, trajanje);
                j++;
            }
            i++;
        }
        if (nadji_termin(raspored, ukupno_casova, i - 1, j - 1, trajanje) == 1) {
            strcpy(raspored[ukupno_casova].predmet, predmet);
            raspored[ukupno_casova].dan_u_sedmici = i - 1;
            raspored[ukupno_casova].pocetak.sati = j - 1;
            raspored[ukupno_casova].pocetak.minute = 0;
            raspored[ukupno_casova].kraj.sati = j - 1 + trajanje;
            raspored[ukupno_casova].kraj.minute = 0;
            ukupno_casova++;
        }
    }
    if (ukupno_casova_pocetak == ukupno_casova) return 0;
    else return 1;
}

int dodaj_cas_ulaz(struct Cas raspored[], int ukupno_casova, const char* predmet, int trajanje) {
    char naziv_predmeta;
    int i, j, k, l = 0, m = 0, n = 0, broj_slobodnih_termina = 0, broj_zauzetih_termina = 0,
            slobodni_sat = 9, slobodni_dan = 0, termin_nadjen = 0, dat;

    printf("Unesite naziv predmeta:");
    scanf("%9s", &amp;predmet);
    printf("Unesite broj casova:");
    scanf("%d", &amp;trajanje);
    ukupno_casova = dodaj_cas(raspored, ukupno_casova, &amp;predmet, &amp;trajanje);
    return ukupno_casova;
}

int preklapanje(struct Cas raspored[], int ukupno_casova, struct Cas cas) {
    int i, j, k, l = 0, m = 0, n = 0, ukupno_casova_predmeta, broj_slobodnih_termina = 0, broj_zauzetih_termina = 0,
            slobodni_sat = 9, slobodni_dan = 0, termin_nadjen = 0, dat, preklapanje = 0;

    int poredi_vrijeme(int sati1, int minute1, int sati2, int minute2) {
        if (sati1 &gt; sati2) {
            return 1;
        } else if (sati1 &lt; sati2) {
            return 2;
        } else if (sati1 = sati2) {
            if (minute1 &gt; minute2) {
                return 1;
            } else if (minute1 &lt; minute2) {
                return 2;
            } else if (minute1 = minute2) {
                return 0;
            }
        }
    }
    if (cas.dan_u_sedmici == 1 &amp;&amp; cas.pocetak.sati &lt;= 9) preklapanje = 1;
    for (j = 0; j &lt;= ukupno_casova; ++j) {
        if (strcmp(raspored[j].predmet, cas.predmet) != 0 &amp;&amp;
                raspored[j].dan_u_sedmici == cas.dan_u_sedmici &amp;&amp;
                poredi_vrijeme(raspored[j].kraj.sati, raspored[j].kraj.minute, cas.pocetak.sati, cas.pocetak.minute) == 2) {
            preklapanje = 1;
        };
    };

    return preklapanje;

    int nadji_termin(struct Cas raspored[], int ukupno_casova, int dan, int sati, int ukupno_casova_predmet) {
        int j, k, termin_zauzet = 0;

        for (j = 0; j &lt;= ukupno_casova_predmet; ++j) {
            for (k = 0; k &lt;= ukupno_casova; ++k) {
                if (raspored[k].dan_u_sedmici == dan &amp;&amp; raspored[k].pocetak.sati == sati + j) {
                    termin_zauzet = 1;
                }
            }
        }
        if (termin_zauzet == 1) return 0;
        else return 1;
    }

    printf("Unesite broj casova:");
    scanf("%d", &amp;ukupno_casova_predmeta);
    // dani u sedmici
    i = 0;
    termin_nadjen = 0;
    while (i &lt; 6 &amp;&amp; termin_nadjen == 0) {
        // sati u danu
        j = 9;
        while (j &lt; 16 - ukupno_casova_predmeta &amp;&amp; termin_nadjen == 0) {
            termin_nadjen = nadji_termin(raspored, ukupno_casova, i, j, ukupno_casova_predmeta);
            j++;
        }
        i++;
    }
    if (nadji_termin(raspored, ukupno_casova, i, j, ukupno_casova_predmeta) == 1) {
        for (k = 0; k &lt; ukupno_casova_predmeta; k++) {
            raspored[ukupno_casova] = raspored[0];
            raspored[ukupno_casova].dan_u_sedmici = i - 1;
            raspored[ukupno_casova].pocetak.sati = j - 1 + k;
            ukupno_casova++;
        }
    }

    return ukupno_casova;
}

int promjeni_cas(struct Cas raspored[], int ukupno_casova) {
    int i, j, k, dan_u_sedmici, redni_broj_casa, ukupno_casova_za_dan = 0,
            pocetak_sati, pocetak_minute, kraj_sati, kraj_minute;
    char predmet;

    printf("Unesite dan (1=ponedeljak, 2=utorak, 3=srijeda,4=cetvrtak, 5=petak, 6=subota):");
    scanf("%d", &amp;cas.dan_u_sedmici);
    printf("Uneseni su casovi:\n");
    ispisi_dan(raspored, ukupno_casova, cas.dan_u_sedmici);
    printf("Izaberite koji cas zelite promijeniti:");
    scanf("%d", &amp;redni_broj_casa);
    printf("Naziv predmeta:");
    scanf("%s", &amp;cas.predmet);
<a name="1"></a><font color="#00FF00"><a href="match292-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_0.gif"/></a>

    printf("Vrijeme pocetka:");
    scanf("%d:%d", &amp;cas.pocetak.sati, &amp;cas.pocetak.minute);
    printf("Vrijeme zavrsetka:");
    scanf("%d:%d", &amp;cas.kraj.sati, &amp;cas.kraj.minute);
</font></pre></body></html>