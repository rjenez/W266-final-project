<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/A2016/Z5/Z3/student3594.c</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/A2016/Z5/Z3/student7697.c<p></p><pre>
#include &lt;stdio.h&gt;
#include &lt;string.h&gt;
#define KAPACITET 200

/* random record description - could be anything */
struct Vrijeme {
    int sati, minute, sekunde;
};

struct Cas {
    char predmet[10];
    int dan_u_sedmici;
    struct Vrijeme pocetak, kraj;
};

struct Cas raspored[200], cas;

struct CasoviZaDan {
    int rb;
    int predmetid;
    char predmet[10];
    struct Vrijeme pocetak, kraj;
};

struct CasoviZaDan casovizadan[200];

int ukupno_casova = 1, br, ukupno_casova_za_dan = 0;

int kraj_predmeta_sati(struct Cas raspored[], int ukupno_casova, int dan_u_sedmici, const char* predmet) {
    int j, kraj = 9;
    for (j = 0; j &lt; ukupno_casova; ++j) {
        if (strcmp(raspored[j].predmet, predmet) == 0 &amp;&amp; raspored[j].dan_u_sedmici == dan_u_sedmici) {
            if (raspored[j].kraj.sati &gt; kraj) {
                kraj = raspored[j].kraj.sati;
            }
        }
    }
    return kraj;
}

int kraj_predmeta_minute(struct Cas raspored[], int ukupno_casova, int dan_u_sedmici, const char* predmet) {
    int j, kraj = 9;
    for (j = 0; j &lt; ukupno_casova; ++j) {
        if (raspored[j].predmet == predmet &amp;&amp; raspored[j].dan_u_sedmici == dan_u_sedmici) {
            if (raspored[j].kraj.sati &gt; kraj) {
                kraj = raspored[j].kraj.minute;
            }
        }
    }
    return kraj;
}

void ispis_rasporeda(struct Cas raspored[], int ukupno_casova) {
    int i, j, dat;

    for (i = 1; i &lt; ukupno_casova; i++) printf("predmet=%3s dan u sedmici=%d pocetak=%d\n", raspored[i].predmet, raspored[i].dan_u_sedmici, raspored[i].pocetak.sati);

    printf("      PON       UTO       SRI       CET       PET       SUB\n");
    printf("09:00 ");
    for (j = 0; j &lt; ukupno_casova; j++) if (raspored[j].pocetak.sati == 9 &amp;&amp; raspored[j].dan_u_sedmici == 0) {
            printf("%1s", raspored[j].predmet);
            break;
        }
    if (j == ukupno_casova) printf("          ");
    for (j = 0; j &lt; ukupno_casova; j++) if (raspored[j].pocetak.sati == 9 &amp;&amp; raspored[j].dan_u_sedmici == 1) {
            printf("%10s", raspored[j].predmet);
            break;
        }
    if (j == ukupno_casova) printf("          ");
    for (j = 0; j &lt; ukupno_casova; j++) if (raspored[j].pocetak.sati == 9 &amp;&amp; raspored[j].dan_u_sedmici == 2) {
            printf("%10s", raspored[j].predmet);
            break;
        }
    if (j == ukupno_casova) printf("          ");
    for (j = 0; j &lt; ukupno_casova; j++) if (raspored[j].pocetak.sati == 9 &amp;&amp; raspored[j].dan_u_sedmici == 3) {
            printf("%10s", raspored[j].predmet);
            break;
        }
    if (j == ukupno_casova) printf("          ");
    for (j = 0; j &lt; ukupno_casova; j++) if (raspored[j].pocetak.sati == 9 &amp;&amp; raspored[j].dan_u_sedmici == 4) {
            printf("%10s", raspored[j].predmet);
            break;
        }
    if (j == ukupno_casova) printf("          ");
    for (j = 0; j &lt; ukupno_casova; j++) if (raspored[j].pocetak.sati == 9 &amp;&amp; raspored[j].dan_u_sedmici == 5) {
            printf("%10s", raspored[j].predmet);
            break;
        }
    if (j == ukupno_casova) printf("          ");
    printf("\n");
    printf("10:00 ");
    for (j = 0; j &lt; ukupno_casova; j++) if (raspored[j].pocetak.sati == 10 &amp;&amp; raspored[j].dan_u_sedmici == 0) {
            printf("%1s", raspored[j].predmet);
            break;
        }
    if (j == ukupno_casova) printf("          ");
    for (j = 0; j &lt; ukupno_casova; j++) if (raspored[j].pocetak.sati == 10 &amp;&amp; raspored[j].dan_u_sedmici == 1) {
            printf("%10s", raspored[j].predmet);
            break;
        }
    if (j == ukupno_casova) printf("          ");
    for (j = 0; j &lt; ukupno_casova; j++) if (raspored[j].pocetak.sati == 10 &amp;&amp; raspored[j].dan_u_sedmici == 2) {
            printf("%10s", raspored[j].predmet);
            break;
        }
    if (j == ukupno_casova) printf("          ");
    for (j = 0; j &lt; ukupno_casova; j++) if (raspored[j].pocetak.sati == 10 &amp;&amp; raspored[j].dan_u_sedmici == 3) {
            printf("%10s", raspored[j].predmet);
            break;
        }
    if (j == ukupno_casova) printf("          ");
    for (j = 0; j &lt; ukupno_casova; j++) if (raspored[j].pocetak.sati == 10 &amp;&amp; raspored[j].dan_u_sedmici == 4) {
            printf("%10s", raspored[j].predmet);
            break;
        }
    if (j == ukupno_casova) printf("          ");
    for (j = 0; j &lt; ukupno_casova; j++) if (raspored[j].pocetak.sati == 10 &amp;&amp; raspored[j].dan_u_sedmici == 5) {
            printf("%10s", raspored[j].predmet);
            break;
        }
    if (j == ukupno_casova) printf("          ");
    printf("\n");
    printf("11:00 ");
    for (j = 0; j &lt; ukupno_casova; j++) if (raspored[j].pocetak.sati == 11 &amp;&amp; raspored[j].dan_u_sedmici == 0) {
            printf("%1s", raspored[j].predmet);
            break;
        }
    if (j == ukupno_casova) printf("          ");
    for (j = 0; j &lt; ukupno_casova; j++) if (raspored[j].pocetak.sati == 11 &amp;&amp; raspored[j].dan_u_sedmici == 1) {
            printf("%10s", raspored[j].predmet);
            break;
        }
    if (j == ukupno_casova) printf("          ");
    for (j = 0; j &lt; ukupno_casova; j++) if (raspored[j].pocetak.sati == 11 &amp;&amp; raspored[j].dan_u_sedmici == 2) {
            printf("%10s", raspored[j].predmet);
            break;
        }
    if (j == ukupno_casova) printf("          ");
    for (j = 0; j &lt; ukupno_casova; j++) if (raspored[j].pocetak.sati == 11 &amp;&amp; raspored[j].dan_u_sedmici == 3) {
            printf("%10s", raspored[j].predmet);
            break;
        }
    if (j == ukupno_casova) printf("          ");
    for (j = 0; j &lt; ukupno_casova; j++) if (raspored[j].pocetak.sati == 11 &amp;&amp; raspored[j].dan_u_sedmici == 4) {
            printf("%10s", raspored[j].predmet);
            break;
        }
    if (j == ukupno_casova) printf("          ");
    for (j = 0; j &lt; ukupno_casova; j++) if (raspored[j].pocetak.sati == 11 &amp;&amp; raspored[j].dan_u_sedmici == 5) {
            printf("%10s", raspored[j].predmet);
            break;
        }
    if (j == ukupno_casova) printf("          ");
    printf("\n");
    printf("12:00 ");
    for (j = 0; j &lt; ukupno_casova; j++) if (raspored[j].pocetak.sati == 12 &amp;&amp; raspored[j].dan_u_sedmici == 0) {
            printf("%1s", raspored[j].predmet);
            break;
        }
    if (j == ukupno_casova) printf("          ");
    for (j = 0; j &lt; ukupno_casova; j++) if (raspored[j].pocetak.sati == 12 &amp;&amp; raspored[j].dan_u_sedmici == 1) {
            printf("%10s", raspored[j].predmet);
            break;
        }
    if (j == ukupno_casova) printf("          ");
    for (j = 0; j &lt; ukupno_casova; j++) if (raspored[j].pocetak.sati == 12 &amp;&amp; raspored[j].dan_u_sedmici == 2) {
            printf("%10s", raspored[j].predmet);
            break;
        }
    if (j == ukupno_casova) printf("          ");
    for (j = 0; j &lt; ukupno_casova; j++) if (raspored[j].pocetak.sati == 12 &amp;&amp; raspored[j].dan_u_sedmici == 3) {
            printf("%10s", raspored[j].predmet);
            break;
        }
    if (j == ukupno_casova) printf("          ");
    for (j = 0; j &lt; ukupno_casova; j++) if (raspored[j].pocetak.sati == 12 &amp;&amp; raspored[j].dan_u_sedmici == 4) {
            printf("%10s", raspored[j].predmet);
            break;
        }
    if (j == ukupno_casova) printf("          ");
    for (j = 0; j &lt; ukupno_casova; j++) if (raspored[j].pocetak.sati == 12 &amp;&amp; raspored[j].dan_u_sedmici == 5) {
            printf("%10s", raspored[j].predmet);
            break;
        }
    if (j == ukupno_casova) printf("          ");
    printf("\n");
    printf("13:00 ");
    for (j = 0; j &lt; ukupno_casova; j++) if (raspored[j].pocetak.sati == 13 &amp;&amp; raspored[j].dan_u_sedmici == 0) {
            printf("%1s", raspored[j].predmet);
            break;
        }
    if (j == ukupno_casova) printf("          ");
    for (j = 0; j &lt; ukupno_casova; j++) if (raspored[j].pocetak.sati == 13 &amp;&amp; raspored[j].dan_u_sedmici == 1) {
            printf("%10s", raspored[j].predmet);
            break;
        }
    if (j == ukupno_casova) printf("          ");
    for (j = 0; j &lt; ukupno_casova; j++) if (raspored[j].pocetak.sati == 13 &amp;&amp; raspored[j].dan_u_sedmici == 2) {
            printf("%10s", raspored[j].predmet);
            break;
        }
    if (j == ukupno_casova) printf("          ");
    for (j = 0; j &lt; ukupno_casova; j++) if (raspored[j].pocetak.sati == 13 &amp;&amp; raspored[j].dan_u_sedmici == 3) {
            printf("%10s", raspored[j].predmet);
            break;
        }
    if (j == ukupno_casova) printf("          ");
    for (j = 0; j &lt; ukupno_casova; j++) if (raspored[j].pocetak.sati == 13 &amp;&amp; raspored[j].dan_u_sedmici == 4) {
            printf("%10s", raspored[j].predmet);
            break;
        }
    if (j == ukupno_casova) printf("          ");
    for (j = 0; j &lt; ukupno_casova; j++) if (raspored[j].pocetak.sati == 13 &amp;&amp; raspored[j].dan_u_sedmici == 5) {
            printf("%10s", raspored[j].predmet);
            break;
        }
    if (j == ukupno_casova) printf("          ");
    printf("\n");
    printf("14:00 ");
    for (j = 0; j &lt; ukupno_casova; j++) if (raspored[j].pocetak.sati == 14 &amp;&amp; raspored[j].dan_u_sedmici == 0) {
            printf("%1s", raspored[j].predmet);
            break;
        }
    if (j == ukupno_casova) printf("          ");
    for (j = 0; j &lt; ukupno_casova; j++) if (raspored[j].pocetak.sati == 14 &amp;&amp; raspored[j].dan_u_sedmici == 1) {
            printf("%10s", raspored[j].predmet);
            break;
        }
    if (j == ukupno_casova) printf("          ");
    for (j = 0; j &lt; ukupno_casova; j++) if (raspored[j].pocetak.sati == 14 &amp;&amp; raspored[j].dan_u_sedmici == 2) {
            printf("%10s", raspored[j].predmet);
            break;
        }
    if (j == ukupno_casova) printf("          ");
    for (j = 0; j &lt; ukupno_casova; j++) if (raspored[j].pocetak.sati == 14 &amp;&amp; raspored[j].dan_u_sedmici == 3) {
            printf("%10s", raspored[j].predmet);
            break;
        }
    if (j == ukupno_casova) printf("          ");
    for (j = 0; j &lt; ukupno_casova; j++) if (raspored[j].pocetak.sati == 14 &amp;&amp; raspored[j].dan_u_sedmici == 4) {
            printf("%10s", raspored[j].predmet);
            break;
        }
    if (j == ukupno_casova) printf("          ");
    for (j = 0; j &lt; ukupno_casova; j++) if (raspored[j].pocetak.sati == 14 &amp;&amp; raspored[j].dan_u_sedmici == 5) {
            printf("%10s", raspored[j].predmet);
            break;
        }
    if (j == ukupno_casova) printf("          ");
    printf("\n");

}

void ispisi_sve(struct Cas raspored[], int ukupno_casova) {
    int i;
    for (i = 0; i &lt; ukupno_casova; i++) printf("predmet=%s dan u sedmici=%d pocetak=%d:%d kraj=%d:%d\n",
            raspored[i].predmet, raspored[i].dan_u_sedmici,
            raspored[i].pocetak.sati, raspored[i].pocetak.minute,
            raspored[i].kraj.sati, raspored[i].kraj.minute);
}

void ispisi_dan(struct Cas raspored[], int ukupno_casova, int dan) {
    int i, j, k, m, dat, pom_sati, pom_minute;

    //izdvoji casove u danu
    ukupno_casova_za_dan = 0;
    for (j = 0; j &lt; ukupno_casova; j++) {
        if (raspored[j].dan_u_sedmici == dan/*-1*/) {
            casovizadan[ukupno_casova_za_dan].rb = ukupno_casova_za_dan;
<a name="0"></a><font color="#FF0000"><a href="match894-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_0.gif"/></a>

            strcpy(casovizadan[ukupno_casova_za_dan].predmet, raspored[j].predmet);
            casovizadan[ukupno_casova_za_dan].pocetak = raspored[j].pocetak;
            casovizadan[ukupno_casova_za_dan].kraj = raspored[j].kraj;
</font>            ukupno_casova_za_dan++;
        }
    }
    //sifriraj predmete
    i = 0;
    casovizadan[i].predmetid = i;
    for (j = 1; j &lt; ukupno_casova_za_dan; j++) {
        if (strcmp(casovizadan[j].predmet, casovizadan[j - 1].predmet) == 0) {
            casovizadan[j].predmetid = i;
        } else {
            i++;
            casovizadan[j].predmetid = i;
        }
    }
    // azurirati rb
    for (i = 0; i &lt; ukupno_casova_za_dan; i++) {
        casovizadan[i].rb = i + 1;
    }
    //ispis
    printf("Uneseni su casovi:\n");
    for (j = 0; j &lt; ukupno_casova_za_dan; j++) {
        printf("%d) %s (%02d:%02d-%02d:%02d)\n", casovizadan[j].rb, casovizadan[j].predmet,
                casovizadan[j].pocetak.sati, casovizadan[j].pocetak.minute,
                casovizadan[j].kraj.sati, casovizadan[j].kraj.minute);
    }
}

int zapisi_datoteku(struct Cas raspored[], int ukupno_casova) {
    FILE* dat = fopen("raspored.dat", "wb");
    if (dat == NULL) {
        printf("Greska pri otvaranju datoteke.\n");
    }
    int zapisano = fwrite(raspored, sizeof (struct Cas),
            ukupno_casova, dat);
    if (ferror(dat)) {
        printf("Greska prilikom pisanja datoteke.\n");
        printf("Zapisano je samo %d osoba\n", zapisano);
    }
    fclose(dat);
    if (zapisano &gt; 0) return 1;
    else return 0;
}

int ucitaj_datoteku(struct Cas raspored[]) {

    FILE* dat = fopen("raspored.dat", "rb");
    if (dat == NULL) {
        printf("Greska pri otvaranju datoteke.\n");
        return 0;
    }
<a name="1"></a><font color="#00FF00"><a href="match894-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_0.gif"/></a>

    int ukupno_casova = fread(raspored, sizeof (struct Cas),
            KAPACITET, dat);
    fclose(dat);
    return ukupno_casova;
}

int dodaj_cas(struct Cas raspored[], int ukupno_casova, const char* predmet, int trajanje) {
</font></pre></body></html>