<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/A2017/Z5/Z4/student6267.c</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/A2017/Z5/Z4/student8923.c<p></p><pre>
#include &lt;stdio.h&gt;


struct Prodavnica{
	char naziv[100];
<a name="1"></a><font color="#00FF00"><a href="match626-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_6.gif"/></a>

	int ID;
};

struct Artikal{
	char naziv[100];
	double cijena;
	int prodavnica;
};


int ucitaj_artikle(struct Artikal* niz,int kap) {
	int ucitano;
   FILE* dat = fopen("artikli.bin", "rb");
</font>   if (dat == NULL) {
   printf("Greska pri otvaranju datoteke.\n");
   return 0;
   }
   ucitano = fread(niz, sizeof(niz[0]),kap, dat);
   fclose(dat);
        
return ucitano;
}




int ucitaj_prodavnice(struct Prodavnica *niz,int kap)
{
	int i=0,j=0;
	FILE* ulaz=fopen("prodavnice.txt","r");
	while(1&gt;0)
	{
		char znak=fgetc(ulaz);
		if(znak==EOF)
		break;
		if(znak!=',' &amp;&amp; j==99)
		{
			while((znak=fgetc(ulaz))!=',');
		}
		if(znak!=',')
		niz[i].naziv[j++]=znak;
		else
		{
			niz[i].naziv[j]='\0';
			j=0;
			if(fscanf(ulaz,"%d\n",&amp;niz[i].ID)==1)
			i++;
			else
			break;
			if(i==kap)
			break;
		}
		
		
	}
	fclose(ulaz);
	return i;
}




int izbaci_skupe(struct Prodavnica *p,int np,struct Artikal *a,int na)
{
	float prosjek_svi=0,prosjek=0;
	int i=0,j=0,k=0,m;
	for(i=0;i&lt;np;i++)
	{
		for(j=0;j&lt;na;j++)
		{
			if(a[j].prodavnica==p[i].ID)
			{k++;prosjek_svi+=a[j].cijena;}
		}
	}
	for(i=0;i&lt;np;i++)
	{
<a name="2"></a><font color="#0000FF"><a href="match626-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_6.gif"/></a>

		prosjek=0;k=0;
		for(j=0;j&lt;na;j++)
		{
			if(a[j].prodavnica==p[i].ID)
			{k++;prosjek+=a[j].cijena;}
</font>		}
<a name="0"></a><font color="#FF0000"><a href="match626-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_11.gif"/></a>

		prosjek=prosjek/k;
		if(prosjek&gt;prosjek_svi)
		{
			for(m=i;m&lt;np-1;m++)
			p[m]=p[m+1];
			np--;
			i--;
		}
		
	}
	
	
	return np;
}

int sacuvaj(struct Prodavnica *p,int n,const char *ime_datoteke)
</font>{
	
	return 0;
}

int main() {
	struct Artikal a[50];
int n = ucitaj_artikle(a, 50), i;
for (i = 0; i &lt; n; ++i)
	printf ("%s (cijena: %g, prodavnica: %d)\n", a[i].naziv, a[i].cijena, a[i].prodavnica);
	return 0;
}
</pre>
</body>
</html>
