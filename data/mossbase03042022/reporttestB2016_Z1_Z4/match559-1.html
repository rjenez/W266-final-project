<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z1/Z4/student4124.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z1/Z4/student1013.cpp<p></p><pre>
#include &lt;iostream&gt;
#include &lt;string&gt;
#include &lt;vector&gt;
#include &lt;stdexcept&gt;

std::string okreni (std::string s,int poc, int vel) {
	int k=0;
	for(int i=poc;i&lt;poc+vel;i++) {
		char pomocna=s[i];
		s[i]=s[poc+vel-1-k];
		s[poc+vel-1-k]=pomocna;
		k++;
		if(k==vel/2) break;
	}
	return s;
}

bool JelTUFraza(std::string s, int k, int vel, std::vector&lt;std::string&gt; fraze) {
	std::string rijec;
	for(int i=k;i&lt;k+vel;i++) {
		if(i==s.length()) return false;
		rijec.push_back(s[i]);
	}
	for(int j=0;j&lt;fraze.size();j++) {
		if(rijec==fraze[j]) return true;
	}
	return false;
}

bool JelTUFrazaPIG(std::string s, int k, int vel, std::vector&lt;std::string&gt; fraze) {
	std::string rijec;
	if(k+vel&gt;s.length()) return false ;
	if(k!=0 and k+vel&lt;=s.length()) {
<a name="0"></a><font color="#FF0000"><a href="match559-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_3.gif"/></a>

		if(k+vel==s.length() and (s[k-1]&gt;='A' and s[k-1]&lt;='Z') or (s[k-1]&gt;='a' and s[k-1]&lt;='z') ) return false ;
</font>		if( k+vel&lt;s.length() and ( (s[k-1]&gt;='A' and s[k-1]&lt;='Z') or (s[k-1]&gt;='a' and s[k-1]&lt;='z') ) or ( (s[k+vel]&gt;='A' and s[k+vel]&lt;='Z') or (s[k+vel]&gt;='a' and s[k+vel]&lt;='z') ) ) return false ;
	}
	if(k==0 and k+vel&lt;s.length()) {
		if( (s[k+vel]&gt;='A' and s[k+vel]&lt;='Z') or (s[k+vel]&gt;='a' and s[k+vel]&lt;='z') ) return false ;
	}
	for(int i=k;i&lt;k+vel;i++) {
	 	if(i==s.length()) return false;
		rijec.push_back(s[i]);
	}
	for(int j=0;j&lt;fraze.size();j++) {
		if(rijec==fraze[j]) return true;
	}
	return false;
}

std::string unkcijafunjo (std::string s, int poc, int vel) {
	s.resize(s.length()+2);
	char k=s[poc];
	for(int i=poc;i&lt;poc+vel;i++) {
		if(i==poc+vel-1) s[i]=k;
		else s[i]=s[i+1];
	}
	for(int i=s.length();i&gt;=poc+vel+2;i--) {
		s[i]=s[i-2];
	}
	s[poc+vel]='a';
	s[poc+vel+1]='y';
	return s;
}

std::string ObrniFraze (std::string s, std::vector&lt;std::string&gt; fraze ) {
	std::vector&lt;int&gt; duzine;
	if(fraze.size()==0) return s;
	for(int i=0;i&lt;fraze.size();i++) {
		duzine.push_back(fraze[i].length());
	}
	int j=0;
	for(int i=0;i&lt;s.length();i++) {
			if(JelTUFraza(s,i,duzine[j],fraze)==true) {
				s=okreni(s,i,duzine[j]);			
			}
			if(i==s.length()-1 and j!=duzine.size()-1) {
				i=0;
				j++;
		}
	}
	return s;
}

std::string IzmijeniUPigLatin (std::string s, std::vector&lt;std::string&gt; fraze) {
	std::vector&lt;int&gt; duzine;
	for(int i=0;i&lt;fraze.size();i++) {
		duzine.push_back(fraze[i].length());
	}
	if(fraze.size()==0) {
		for(int i=0;i&lt;s.length();i++) {
<a name="2"></a><font color="#0000FF"><a href="match559-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_2.gif"/></a>

			if( (s[i]&gt;='A' and s[i]&lt;='Z') or (s[i]&gt;='a' and s[i]&lt;='z') ) {
</font>				int brojac=0;
<a name="3"></a><font color="#00FFFF"><a href="match559-0.html#3" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_2.gif"/></a>

				while( (s[i]&gt;='A' and s[i]&lt;='Z') or (s[i]&gt;='a' and s[i]&lt;='z') ) {
</font>					brojac++;
					i++;
					if(i==s.length()) break;
				}
				i=i-brojac;
				s=unkcijafunjo(s,i,brojac);
				i=i+brojac+2;
			}
		}	
	}
	else {
		for(int i=0;i&lt;fraze.size();i++) {
			for(int j=0;j&lt;fraze[i].length();j++) {
				if( !( (fraze[i][j]&gt;='A' and fraze[i][j]&lt;='Z') or (fraze[i][j]&gt;='a' and fraze[i][j]&lt;='z') )) throw std::domain_error ("Nekorektan izbor rijeci");
			}
		}
		for(int i=0;i&lt;s.length();i++) {
			for(int j=0;j&lt;duzine.size();j++) {
				if(JelTUFrazaPIG(s,i,duzine[j],fraze)==true) {
					s=unkcijafunjo(s,i,duzine[j]) ;
				}
			}
		}
	}
	return s;
}

int main () {
	std::cout &lt;&lt; "Unesite recenicu: " ;
	std::string recenica;
	std::getline (std::cin, recenica) ;
	std::cout &lt;&lt; "Unesite fraze: " ;
	std::string fraza ;
	std::vector&lt;std::string&gt; v;
	while(2) {
		std::getline(std::cin, fraza);
		if(!fraza.length()) break ;
		v.push_back(fraza);
	}
	try {
<a name="1"></a><font color="#00FF00"><a href="match559-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_2.gif"/></a>

	std::cout &lt;&lt; "Recenica nakon PigLatin transformacije: "&lt;&lt; IzmijeniUPigLatin(recenica,v) &lt;&lt;std::endl ; 
	}
	catch(std::domain_error izuzetak) {
		std::cout &lt;&lt; "Izuzetak: " &lt;&lt; izuzetak.what() &lt;&lt; std::endl ;
</font>	}
	std::cout &lt;&lt; "Recenica nakon obrtanja fraza: " &lt;&lt; ObrniFraze(recenica,v) ;
	return 0;
}</pre>
</body>
</html>
