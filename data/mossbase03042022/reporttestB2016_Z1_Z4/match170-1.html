<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z1/Z4/student2922.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z1/Z4/student3071.cpp<p></p><pre>
/*B 2016/2017, ZadaÄ‡a 1, Zadatak 4
	
	NAPOMENA: ulaz/izlaz za zadatke je specificiran
	javnim autotestovima. Zalbe za ne analiziranje testova
	se ne uvazavaju!
	
	NAPOMENA: nece svi (javni) testovi sa zamgera biti 
	dostupni na c9.
	
*/
#include&lt;string&gt;
#include&lt;iostream&gt;
#include&lt;vector&gt;
#include&lt;stdexcept&gt;
<a name="0"></a><font color="#FF0000"><a href="match170-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_99.gif"/></a>

using namespace std;
typedef vector&lt;string&gt; Vektor;

bool Slovo(char znak){
	if( (znak &gt;='A' &amp;&amp; znak&lt;='Z') || (znak &gt;='a' &amp;&amp; znak&lt;='z') ) return true;
	return false;
}

string ObrniFraze( string recenica, Vektor fraze ){
	//Dio ide frazu po frazu
	for(int i{0}; i&lt;fraze.size(); i++){
		//Trazimo svako pojavljivanje i-te fraze u recenici
		
		for(int j{0}; j&lt;recenica.length(); j++){
			//Logicki uslov pronalaska
			bool found{true};
			if(fraze[i][0]==recenica[j] ){
				//Trazenje poklapanja svih elemenata
				if( j+fraze[i].length()&gt;recenica.length() || recenica.substr(j,fraze[i].length())!=fraze[i] ) {
					found = false; 
				}
				//Ukoliko su identicni substring i fraza, obrcemo frazu u recenici
				
			if(found){
				//Mijenjanje fraze u recenici, slijeva nadesno
				for(int l{j+(int)fraze[i].length()-1}, m{0}; l&gt;=j; l--,m++){
					recenica[l]=fraze[i][m];
				}
			}
			
			}
			
		}
		
	}
	
	return recenica;
}
string IzmijeniUPigLatin ( string recenica, Vektor fraze ){
	//Test korektnosti fraza
	for(int i{0}; i&lt;fraze.size(); i++){
		for(int j{0}; j&lt;fraze[i].length(); j++) if(!Slovo(fraze[i][j])) throw domain_error("Nekorektan izbor rijeci");
	}
	//Uslov za izmjenu svih rijeci
	bool izmijeni_sve{false};
	if(fraze.size()==0) izmijeni_sve=true; 
	//Dio ide frazu po frazu
	for(int i{0}; i&lt;fraze.size(); i++){
		//Trazimo svako pojavljivanje i-te fraze u recenici
		
		for(int j{0}; j&lt;recenica.length(); j++){
			//Logicki uslov pronalaska i-te fraze pocev od j-tog indeksa recenica nadalje
			bool found{true}, skok{false};
			if(izmijeni_sve || fraze[i][0]==recenica[j]){
				//Trazenje poklapanja svih elemenata
				if(!izmijeni_sve &amp;&amp; (j+fraze[i].length()&gt;recenica.length() || recenica.substr(j,fraze[i].length())!=fraze[i])  /* Uslov omedjenja*/  ) {
					found = false; 
				}
				
				if(j&gt;0 &amp;&amp; Slovo(recenica[j-1])) found=false;
				//Ukoliko kontraprimjer nije prosao, obradjujemo recenicu!
				
				if(found){
					//Zamjena slova 
					int x,z;
					char pomocni_znak{recenica[j]};
					for( x=j+1, z=j; x&lt;j+fraze[i].length(); x++, z++){
						recenica[z]=recenica[x];
					}
					recenica[z]=pomocni_znak;
					//Dodavanje "ay"
					string do_dodavanja{recenica.substr(0, j+fraze[i].length())};
					string od_dodavanja{recenica.substr(j+fraze[i].length(), recenica.length()-j)};
					recenica=do_dodavanja+"ay"+od_dodavanja;
					
				}
				if (found) skok=true;
				
			}
			if (found &amp;&amp; skok) j=j+fraze[i].length()-1;
		}
	}
	return recenica;
}



int main (){
	
	string recenicaMain;
	cout&lt;&lt;"Unesite recenicu: ";
	getline(cin, recenicaMain);
	cout&lt;&lt;"Unesite fraze: ";
	Vektor frazeMain;
	while(cin.peek()!='\n'){
		string fraza;
		getline(cin,fraza);
		frazeMain.push_back(fraza);
	}
	
	
	try{
	cout&lt;&lt;"Recenica nakon PigLatin transformacije: "&lt;&lt;IzmijeniUPigLatin(recenicaMain, frazeMain)&lt;&lt;endl;
	} catch (domain_error nekorektnoPigLatin) {
		cout&lt;&lt;"Izuzetak: "&lt;&lt;nekorektnoPigLatin.what()&lt;&lt;endl;
		cout&lt;&lt;"Recenica nakon obrtanja fraza: "&lt;&lt;ObrniFraze(recenicaMain, frazeMain);
		return 0;
	}
	
	cout&lt;&lt;"Recenica nakon obrtanja fraza: "&lt;&lt;ObrniFraze(recenicaMain, frazeMain);
	
	
	return 0;
</font>}</pre>
</body>
</html>
