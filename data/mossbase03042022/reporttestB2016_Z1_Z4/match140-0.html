<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z1/Z4/student9029.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z1/Z4/student9029.cpp<p></p><pre>
#include &lt;iostream&gt;
#include &lt;stdexcept&gt;
#include &lt;string&gt;
#include &lt;vector&gt;

<a name="0"></a><font color="#FF0000"><a href="match140-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_99.gif"/></a>

std::string ObrniFraze(std::string recenica, std::vector&lt;std::string&gt; fraze){
	
	for(auto fraza : fraze)
		for(int i=0;i+((int)fraza.size()-1)&lt;(int)recenica.size();i++)
			if(recenica.substr(i,fraza.size())==fraza)
				for(int pocetak=i, kraj=i+fraza.size()-1;pocetak&lt;=kraj;pocetak++,kraj--){
					char temp{recenica[pocetak]};
					recenica[pocetak]=recenica[kraj];
					recenica[kraj]=temp;
				}
	return recenica;
}

bool Isalpha(char c){
	if((c&gt;='a' &amp;&amp; c&lt;='z') || (c&gt;='A' &amp;&amp; c&lt;='Z'))
		return true;
	return false;
}

bool Alfabet(std::string rijec){
	for(int i=0;i&lt;(int)rijec.size();i++)
		if(!Isalpha(rijec[i]))
			return false;
	if(!rijec.size())return false;
	return true;
}

std::string PigLatin(std::string fraza){
	fraza.push_back(fraza[0]);
	fraza.push_back('a');
	fraza.push_back('y');
	for(int i=0;i+1&lt;(int)fraza.size();i++)
		fraza[i]=fraza[i+1];
	fraza.resize((int)fraza.size()-1);
	return fraza;
}

int KrajRijeci(std::string recenica, int pocetak_rijeci){
	int kraj{pocetak_rijeci};
	while(kraj&lt;recenica.size() &amp;&amp; Isalpha(recenica[kraj]))
		kraj++;
	return kraj-pocetak_rijeci;
}

std::string IzmijeniCitavuRecenicu(std::string recenica){
	for(int i=0;i&lt;(int)recenica.size();i++){
		if(Isalpha(recenica[i]) &amp;&amp; (i-1&lt;0 || !Isalpha(recenica[i-1]))){
			int kraj{KrajRijeci(recenica,i)};
			if(i+kraj==(int)recenica.size() || !Isalpha(recenica[i+kraj])){
				std::string fraza=PigLatin(recenica.substr(i,kraj));
				recenica.erase(i,kraj);
				recenica.insert(i,fraza);
			}
		}		
	}
	return recenica;
}

std::string IzmijeniUPigLatin(std::string recenica,std::vector&lt;std::string&gt; fraze){
	
	for(auto fraza : fraze){
		
		if(!Alfabet(fraza)) throw std::domain_error("Nekorektan izbor rijeci");
		
		for(int i=0;i+((int)fraza.size()-1)&lt;(int)recenica.size();i++)
			if(recenica.substr(i,fraza.size())==fraza &amp;&amp; (i-1&lt;0 || !Isalpha(recenica[i-1])) &amp;&amp; ((i+(int)fraza.size())==recenica.size() || !Isalpha(recenica[i+(int)fraza.size()]))){
				recenica.erase(i,fraza.size());
				recenica.insert(i,PigLatin(fraza));
				i+=(int)fraza.size()+2;
			}
	}
	
	if(fraze.size()==0)
		recenica=IzmijeniCitavuRecenicu(recenica);
	
	return recenica;
}

int main (){
	
	std::cout&lt;&lt;"Unesite recenicu: ";
	std::string recenica;
	std::getline(std::cin, recenica);
	
	std::cout&lt;&lt;"Unesite fraze: ";
	std::vector&lt;std::string&gt; fraze;

	while(std::cin.peek()!='\n'){
		std::string fraza;
		std::getline(std::cin, fraza);
		fraze.push_back(fraza);
	}
	try{
	std::cout&lt;&lt;"Recenica nakon PigLatin transformacije: "&lt;&lt;IzmijeniUPigLatin(recenica, fraze)&lt;&lt;"\n";
	}catch(std::domain_error izuzetak){
		std::cout&lt;&lt;"Izuzetak: "&lt;&lt;izuzetak.what()&lt;&lt;"\n";}
	std::cout&lt;&lt;"Recenica nakon obrtanja fraza: "&lt;&lt;ObrniFraze(recenica, fraze);
</font>	
	return 0;
}</pre>
</body>
</html>
