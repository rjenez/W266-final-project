<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z1/Z4/student6248.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z1/Z4/student6248.cpp<p></p><pre>
/*B 2016/2017, ZadaÄ‡a 1, Zadatak 4
	
	NAPOMENA: ulaz/izlaz za zadatke je specificiran
	javnim autotestovima. Zalbe za ne analiziranje testova
	se ne uvazavaju!
	
	NAPOMENA: nece svi (javni) testovi sa zamgera biti 
	dostupni na c9.
	
*/

#include &lt;iostream&gt;
#include &lt;string&gt;
#include &lt;vector&gt;
#include &lt;stdexcept&gt;

<a name="0"></a><font color="#FF0000"><a href="match15-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_99.gif"/></a>

typedef std::vector&lt;std::string&gt; VektorStringova;

std::string VratiJednuFrazu(VektorStringova fraze, int red)
{
	std::string trazena_rijec;
	for(int i(0); i&lt;fraze.size(); i++)
	{
		if(i==red)
		{
			for(int j(0); j&lt;fraze.at(i).size(); j++)
			{
				trazena_rijec.push_back(fraze.at(i).at(j));
				if(j==fraze.at(i).size()) break;
			}
		}
	}
	return trazena_rijec;
}

std::string ObrniFraze(std::string recenica, VektorStringova fraze)
{
	for(int i(0); i&lt;fraze.size(); i++)
	{
		std::string s;
		s=VratiJednuFrazu(fraze,i);
		int duzina_fraze;
		duzina_fraze=s.length();
		for(int j(0); j&lt;recenica.length(); j++)
		{
			int br(0),pom(0);
			if(recenica.at(j)==s.at(pom))
			{
				while(recenica.at(j)==s.at(pom))
				{
					j++;
					pom++;
					br++;
					if(pom==s.length()) break;   // visak
					if(j==recenica.length()) break;
				}
				if(br==duzina_fraze)
				{
					int p(j-1),k(j-br);
					while(p&gt;k) 
					{
						char temp;
						temp=recenica.at(k);
						recenica.at(k)=recenica.at(p);
						recenica.at(p)=temp;
						k++;
						p--;
						if(p==recenica.length() || k==recenica.length()) break; // ovo nije nuzno potrebno 
					}
				}
			}
			if(j==recenica.length()) break;
		}
	    if(i==fraze.size()) break;
	}
	return recenica;
}

bool ProvjeraFraza(VektorStringova fraze)
{
	bool eng(true);
	for(int i(0); i&lt;fraze.size(); i++)
	{
		for(int j(0); j&lt;fraze.at(i).size(); j++)
		{
			if(fraze.at(i).at(j)&lt;'A' || (fraze.at(i).at(j)&gt;'Z' &amp;&amp; fraze.at(i).at(j)&lt;'a') || fraze.at(i).at(j)&gt;'z')
			{
				return false;
			}
		}
	}
	return eng;
}

bool ProvjeraAlfabeta(char znak)
{
	if(znak&lt;'A' || (znak&gt;'Z' &amp;&amp; znak&lt;'a') || znak&gt;'z') return false;
	else return true;
}

std::string IzmijeniUPigLatin(std::string recenica, VektorStringova fraze)
{
	if(fraze.size()==0)
	{
		for(int i(0); i&lt;recenica.length(); i++)
		{
			int br(0);
			if(i&lt;recenica.length() &amp;&amp; ((i==0 &amp;&amp; ProvjeraAlfabeta(recenica.at(i))==true) || (i&gt;0 &amp;&amp; ProvjeraAlfabeta(recenica.at(i))==true &amp;&amp; ProvjeraAlfabeta(recenica.at(i-1))==false)))
			{
			while(i&lt;recenica.length() &amp;&amp; ProvjeraAlfabeta(recenica.at(i))==true)
			{
				br++;
				i++;
				if(i==recenica.length()) break;
			}
			i--;
			if((i==recenica.length()-1 &amp;&amp; ProvjeraAlfabeta(recenica.at(i))==true) || (i&lt;recenica.length()-1 &amp;&amp; ProvjeraAlfabeta(recenica.at(i))==true &amp;&amp; ProvjeraAlfabeta(recenica.at(i+1))==false))
			{
			int j(i-br+1),k(i);
			char temp;
			temp=recenica.at(j);
			while(j&lt;k)
			{
				recenica.at(j)=recenica.at(j+1);
				j++;
			}
			recenica.at(j)=temp;
			int kraj;
			kraj=int(recenica.length()-1);
			int duzina;
			duzina=recenica.length();
			recenica.resize(duzina+2);
			while(kraj&gt;k)
			{
				recenica.at(kraj+2)=recenica.at(kraj);
				kraj--;
			}
			recenica.at(k+1)='a';
			recenica.at(k+2)='y';
			i=k+2;
			}
			}
			if(i==recenica.length()) break;
		}
	}
	else
	{
		if(ProvjeraFraza(fraze)==false) throw std::domain_error("Nekorektan izbor rijeci");
	    for(int i(0); i&lt;fraze.size(); i++)
	    {
		    std::string s;
		    s=VratiJednuFrazu(fraze,i);
		    int duzina_fraze;
		    duzina_fraze=fraze.at(i).size();
		    for(int j(0); j&lt;recenica.length(); j++)
		    {
			    int br(0),pom(0);
			    if(j&lt;recenica.length() &amp;&amp; ((j==0 &amp;&amp; recenica.at(j)==s.at(pom)) || (recenica.at(j)==s.at(pom) &amp;&amp; ProvjeraAlfabeta(recenica.at(j-1))==false)))
			    {
				    while(j&lt;recenica.length() &amp;&amp; recenica.at(j)==s.at(pom))
				    {
					    j++;
					    pom++;
					    br++;
					    if(pom==s.length()) break;
					    if(j==recenica.length()) break;
				    }
				    j--;
				    if(br==duzina_fraze &amp;&amp; ((j==recenica.length()-1 &amp;&amp; ProvjeraAlfabeta(recenica.at(j))==true) || (j&lt;recenica.length()-1 &amp;&amp; ProvjeraAlfabeta(recenica.at(j))==true &amp;&amp; ProvjeraAlfabeta(recenica.at(j+1))==false)))
				    {
					    int p(j),k(j-br+1);
					    char temp;
					    temp=recenica.at(k);  
					    while(k&lt;p)
					    {
						    recenica.at(k)=recenica.at(k+1);
						    k++;
					    }
					    recenica.at(k)=temp;
					    int kraj;
					    kraj=recenica.length()-1;
					    int duzina;
					    duzina=recenica.length();
					    recenica.resize(duzina+2);
					    while(kraj&gt;k)
					    {
						    recenica.at(kraj+2)=recenica.at(kraj);
						    kraj--;
					    }
					    recenica.at(k+1)='a';
					    recenica.at(k+2)='y';
				     }
			    }
			    if(j==recenica.length()) break;
		    }
		    if(i==fraze.size()) break;
	    }
	}
	return recenica;
}

int main ()
{
	std::string recenica;
	std::cout &lt;&lt; "Unesite recenicu: ";
	std::getline(std::cin, recenica);
	VektorStringova fraze(0, std::string (""));
	std::cout &lt;&lt; "Unesite fraze: ";
	try
	{
	int i(0);
    for(;;)
    {
    	char znak=std::cin.get();
    	if(znak=='\n') break;
    	fraze.resize(i+1);
    	while(znak!='\n')
    	{
    		fraze[i].push_back(znak);
    		znak=std::cin.get();
    		if(znak=='\n') break;
    		
    	}
    	i++;
    }
	std::string s;
	s=IzmijeniUPigLatin(recenica,fraze);
	std::cout &lt;&lt; "Recenica nakon PigLatin transformacije: " &lt;&lt; s;
	}
	catch(std::domain_error izuzetak)
	{
		std::cout &lt;&lt; "Izuzetak: " &lt;&lt; izuzetak.what();
	}
	std::string s1;
	s1=ObrniFraze(recenica,fraze);
	std::cout &lt;&lt; std::endl &lt;&lt; "Recenica nakon obrtanja fraza: " &lt;&lt; s1;
	return 0;
</font>}</pre>
</body>
</html>
