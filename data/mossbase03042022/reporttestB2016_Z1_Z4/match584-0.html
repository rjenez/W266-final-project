<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z1/Z4/student4377.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z1/Z4/student4377.cpp<p></p><pre>
/*B 2016/2017, ZadaÄ‡a 1, Zadatak 4
	
	NAPOMENA: ulaz/izlaz za zadatke je specificiran
	javnim autotestovima. Zalbe za ne analiziranje testova
	se ne uvazavaju!
	
	NAPOMENA: nece svi (javni) testovi sa zamgera biti 
	dostupni na c9.
	
*/

#include &lt;iostream&gt;
#include &lt;string&gt;
#include &lt;vector&gt;
#include &lt;stdexcept&gt;

bool AlfabetProvjera(std::vector&lt;std::string&gt; rijeci)
{
	for(int i=0; i&lt;rijeci.size(); i++)
	for(int j=0; j&lt;rijeci[i].size(); j++)
	if(!((rijeci[i][j] &gt;= 'A' &amp;&amp; rijeci[i][j] &lt;= 'Z') || (rijeci[i][j] &gt;= 'a' &amp;&amp; rijeci[i][j] &lt;= 'z'))) return false;

	return true;
}

int Trazi(std::string recenica, std::string rijec, int pos)
{
	for(int i = pos; i&lt;=recenica.size()-rijec.size(); i++)
	{
		int j (0);
		while(j &lt; rijec.size() &amp;&amp; recenica[i+j] == rijec[j]) j++;
		if(j == rijec.size()) return i;
	}
	return -1;
}

int Trazi2(std::string recenica, std::string rijec)
{
	for(int i = 0; i&lt;=recenica.size()-rijec.size(); i++)
	{
		int j (0);
		while(j &lt; rijec.size() &amp;&amp; recenica[i+j] == rijec[j]) j++;
		if(j == rijec.size() &amp;&amp; ((!(((recenica[i+j] &gt;= 'A') &amp;&amp; (recenica[i+j] &lt;= 'Z')) || ((recenica[i+j] &gt;= 'a') &amp;&amp; (recenica[i+j] &lt;= 'z')))) 
		
<a name="1"></a><font color="#00FF00"><a href="match584-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_3.gif"/></a>

		|| recenica.size() == i+j) &amp;&amp; (i==0 ||       (!(((recenica[i-1] &gt;= 'A') &amp;&amp; (recenica[i-1] &lt;= 'Z')) || ((recenica[i-1] &gt;= 'a') &amp;&amp; (recenica[i-1] &lt;= 'z'))))  )) return i;
</font>	}
	
	return -1;
}

std::string ObrniRijec(std::string rijec)
{
	std::string nova_rijec;
	for(int i = rijec.size()-1; i &gt;= 0; i--)
	{
		nova_rijec.push_back(rijec[i]);
	}
	return nova_rijec;
}

std::string ObrniFraze(std::string recenica, std::vector&lt;std::string&gt; fraze)
{
	int pos(0);
	for(int x=0; x&lt;fraze.size(); x++)
	{
		int vel (fraze[x].size()); 
		if(vel != 1)
		{
			pos = Trazi(recenica, fraze[x] , pos);
		
			if (pos != -1)
			{
				std::string rijec(recenica.substr(pos,vel));
				rijec = ObrniRijec(rijec);
		
				for(int i=0; i&lt;vel; i++)
				{
					recenica.erase(recenica.begin() + pos);
				}
				for(int i =0; i &lt; rijec.size(); i++)
				{
					recenica.insert(recenica.begin() + pos+i, rijec[i]);
				}
				pos = rijec.size()+pos;
				x--;
			}	
			else
			{
				pos = 0;
			}
		}
	}
	return recenica;
}

std::string IzmijeniUPigLatin(std::string recenica, std::vector&lt;std::string&gt; rijeci)
{
	if(!AlfabetProvjera(rijeci)) throw std::domain_error("Nekorektan izbor rijeci");
	if(rijeci.size() == 0)
	{
		bool znak (false);
		int broj_rijeci(0);
<a name="2"></a><font color="#0000FF"><a href="match584-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_3.gif"/></a>

		for(int x=0; x&lt;=recenica.size(); x++)
		{
			if( (((recenica[x] &gt;= 'A') &amp;&amp; (recenica[x] &lt;= 'Z')) || ((recenica[x] &gt;= 'a') &amp;&amp; (recenica[x] &lt;= 'z')))  &amp;&amp; recenica.size() != x)
</font>			{
				if(znak == false)
				{
					rijeci.resize(broj_rijeci+1);
				}
				znak = true;
				rijeci[broj_rijeci].push_back(recenica[x]);
			}
			else if(znak == true)
			{
				broj_rijeci++;
				znak = false;
			}
		}
	}
	
	for(int x=0; x&lt;rijeci.size(); x++)
	{
		int vel (rijeci[x].size()); 
		int pos(Trazi2(recenica, rijeci[x]));
		
		if (pos != -1)
		{
			std::string rijec(recenica.substr(pos,vel));
			if(rijec.size() == 1)
			{
				rijec += "ay";
			}
			else
			{
				char prvo_slovo(rijec[0]);
				rijec.erase(rijec.begin());
				rijec += prvo_slovo;
				rijec += "ay";
			}
			
			for(int i=0; i&lt;vel; i++)
			{
				recenica.erase(recenica.begin() + pos);
			}
			for(int i =0; i &lt; rijec.size(); i++)
			{
				recenica.insert(recenica.begin() + pos+i, rijec[i]);
			}
			x--;
		}
	}
	return recenica;
}


int main ()
{

	std::cout &lt;&lt; "Unesite recenicu: ";
	std::string recenica;
	std::getline(std::cin, recenica);
	
	std::vector&lt;std::string&gt; rijeci;
	std::string rijec;
	std::cout &lt;&lt; "Unesite fraze: ";
	for(;;)
	{
		if(std::cin.peek() == '\n') break;
		else
		{
			std::getline(std::cin, rijec);
			rijeci.push_back(rijec);
		}
	}
  	
  	try
  	{
<a name="0"></a><font color="#FF0000"><a href="match584-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_6.gif"/></a>

  		std::string nova_recenica (IzmijeniUPigLatin(recenica, rijeci));
  		std::cout &lt;&lt; "Recenica nakon PigLatin transformacije: ";
  		std::cout &lt;&lt; nova_recenica &lt;&lt; std::endl;
  	}
  	catch(std::domain_error izuzetak) 
	{
 		std::cout &lt;&lt; "Izuzetak: "&lt;&lt;izuzetak.what() &lt;&lt; std::endl;
	}
	
  	std::cout &lt;&lt; "Recenica nakon obrtanja fraza: ";
  	std::cout &lt;&lt; ObrniFraze(recenica, rijeci);
</font>	
	return 0;
}</pre>
</body>
</html>
