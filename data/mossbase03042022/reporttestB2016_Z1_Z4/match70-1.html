<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z1/Z4/student4628.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z1/Z4/student1976.cpp<p></p><pre>
//B 2016/2017, ZadaÄ‡a 1, Zadatak 4

#include &lt;iostream&gt;
#include &lt;vector&gt;
#include &lt;string&gt;
#include &lt;stdexcept&gt;

<a name="0"></a><font color="#FF0000"><a href="match70-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_99.gif"/></a>

using std::cin;
using std::cout;
using std::endl;
using std::string;
typedef std::vector&lt;string&gt; Vektor;

string ObrniFraze (string s, Vektor v)
{
    for(int j = 0; j &lt; v.size(); j++) {     //prolazim kroz elemente vektora(rijec ili fraza)
        bool nalazise(false);

        for(int i = 0; i &lt; s.length(); i++) {  
            int index(i);

            for(int k = 0; k &lt; v.at(j).length(); k++) {    //prolazim kroz znakove u rijeci ili frazi

                if(i + (v.at(j).length() - 1) &gt; s.length()) break;  //rijec na kraju stringa kraca on rijeci u vekotu npr dan i danas

                if(s.at(index) == v.at(j).at(k)) {
                    nalazise = true;
                    index++;
                    continue;
                } else {
                    nalazise = false;
                    break;
                }
            }

            if(nalazise) {
                //obrtanje redoslijeda rijeci/fraze
                for(int m = i + (v.at(j).length() - 1), n = i; n &lt; m; m--, n++) {
                    char temp = s.at(n);                                        
                    s.at(n) = s.at(m);
                    s.at(m) = temp;
                }
                //pomijerim i za jedno mjesto
                if(i + v.at(j).length() &lt; s.length()) {
                    i += v.at(j).length();
                    nalazise = false;
                }
            }
        }
    }
    return s;
}

string IzmijeniUPigLatin (string s, Vektor v)
{
    //ukoliko je vekotor prazna pronalazim rijeci u stringu i mijenjam ih rediom u pig latin
    if(v.empty()) {
        bool razmak(true);
        for(int i = 0; i &lt; s.length(); i++) {
            if(s.at(i) == ' ')
                razmak = true;
            else if(razmak) {
                razmak = false;
                int kraj(i);
                while(kraj &lt; s.length() &amp;&amp; s.at(kraj) != ' ')
                    kraj++;

                char temp = s.at(i);
                int brojac(i);
                
                //zadnje slovo prebacijem na kraj rijeci
                for(int n = i + 1; n &lt; kraj; n++) {
                    s.at(brojac) = s.at(n);
                    brojac++;
                }
                //dodajem ay na kraj    
                s.at(kraj - 1) = temp;
                s.insert(s.begin() + kraj, 'a');
                s.insert(s.begin() + kraj + 1, 'y');

                i = kraj + 1;
            }
        }
    } else {
        //bacanje izuzetka
        for(int i = 0; i &lt; v.size(); i++) {
            for(int j = 0; j &lt; v.at(i).length(); j++) {
                if(!((v.at(i).at(j) &gt;= 'A' &amp;&amp; v.at(i).at(j) &lt;= 'Z') || (v.at(i).at(j) &gt;= 'a' &amp;&amp; v.at(i).at(j) &lt;= 'z')))
                    throw std::domain_error("Nekorektan izbor rijeci");
            }
        }

        for(int j = 0; j &lt; v.size(); j++) {
            bool nalazise(false);

            for(int i = 0; i &lt; s.length(); i++) {
                int index(i);

                for(int k = 0; k &lt; v.at(j).length(); k++) {

                    if(i + (v.at(j).length() - 1) &gt; s.length()) break;
                    if(s.at(index) == v.at(j).at(k)) {
                        nalazise = true;
                        index++;
                        continue;
                    } else {
                        nalazise = false;
                        break;
                    }
                }
                //provjeravam da li je rijec (element vektora) podstring rijeci stringa
                if(i != 0 &amp;&amp; s.at(i - 1) != ' ') 
                    nalazise = false;
                else if(index != s.length() &amp;&amp; s.at(index) != ' ')
                    nalazise = false;
                    
                if(nalazise) {
        
                    char temp = s.at(i);
                    int brojac(i);

                    for(int n = i + 1; n &lt; i + v.at(j).length(); n++) {
                        s.at(brojac) = s.at(n);
                        brojac++;
                    }

                    s.at(i + (v.at(j).length() - 1)) = temp;
                    s.insert(s.begin() + (i + v.at(j).length()), 'a');
                    s.insert(s.begin() + (i + v.at(j).length() + 1), 'y');

                    if(i + v.at(j).length() &lt; s.length()) {
                        i += v.at(j).length();
                        nalazise = false;
                    }
                }
            }
        }
    }
    return s;
}

int main ()
{
    string s;
    cout &lt;&lt; "Unesite recenicu: ";
    std::getline(cin, s);
    cout &lt;&lt; "Unesite fraze: ";
    string p;
    Vektor v;

    for(;;) {
        std::getline(cin, p);
        v.push_back(p);
        if(cin.peek() == '\n') break;
    }

    try {
        string q = std::move(IzmijeniUPigLatin(s, v));
        cout &lt;&lt; "Recenica nakon PigLatin transformacije: ";
        cout &lt;&lt; q;
    } catch (std::domain_error izuzetak) {
        cout &lt;&lt; "Izuzetak: " &lt;&lt; izuzetak.what() &lt;&lt; endl;
    }

    cout &lt;&lt; endl &lt;&lt; "Recenica nakon obrtanja fraza: ";
    string t = std::move(ObrniFraze(s, v));
    cout &lt;&lt; t;

    return 0;
</font>}</pre>
</body>
</html>
