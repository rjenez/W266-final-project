<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z1/Z4/student6462.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z1/Z4/student6462.cpp<p></p><pre>
/*B 2016/2017, ZadaÄ‡a 1, Zadatak 4
	
	NAPOMENA: ulaz/izlaz za zadatke je specificiran
	javnim autotestovima. Zalbe za ne analiziranje testova
	se ne uvazavaju!
	
	NAPOMENA: nece svi (javni) testovi sa zamgera biti 
	dostupni na c9.
	
*/

#include &lt;iostream&gt;
#include &lt;vector&gt;
#include &lt;string&gt;
#include &lt;sstream&gt;
#include &lt;stdexcept&gt;

<a name="0"></a><font color="#FF0000"><a href="match56-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_99.gif"/></a>

template &lt;typename T&gt; std::string PretvoriUString (T x){
	std::ostringstream s; s&lt;&lt;x; return s.str();
}

int BrojRijeci(std::string s){
	int razmak(1), broj_rijeci(0);
	for(int i=0; i&lt;s.length(); i++){
		if(s[i]==' '){
			razmak=1;
		}
		else if(razmak==1){
			razmak=0;
			broj_rijeci++;
		}
	}
	return broj_rijeci;
}

bool JeLiEngleski(std::vector&lt;std::string&gt; v){
	for(int i=0; i&lt;v.size(); i++){
		for(int j=0; j&lt;v[i].length(); j++){
			if(!(v[i][j]&gt;64 &amp;&amp; v[i][j]&lt;91) &amp;&amp; !(v[i][j]&gt;96 &amp;&amp; v[i][j]&lt;123) ){
				return false;
			}
		}
	}
	return true;
}

std::string ObrniFraze(std::string s, std::vector&lt;std::string&gt; fraze){
//	int razmak=1;
	for(int i=0; i&lt;fraze.size(); i++){
	//	razmak=1;
		for(int j=0; j&lt;s.length(); j++){
	/*		if(s.at(j)==' '){
				razmak=1;
			}
			else if(razmak==1){
				razmak=0;   */
				if(fraze[i]==s.substr(j, fraze[i].size())  /*  &amp;&amp; (!(s[j+fraze[i].size()]&gt;96 &amp;&amp; s[j+fraze[i].size()]&lt;123) || j+fraze[i].size()==s.length())  */){
					/*obrni*/
					int brojac(0);
					for(int k=j; k&lt;j+(fraze[i].size()/2); k++){
						int l=j+fraze[i].size()-1-brojac;
						brojac++;
						char c=s[k];
						s[k]=s[l];
						s[l]=c;
					}
				}
		//	}
		}
	}
	return s;
}

std::string IzmijeniUPigLatin(std::string s, std::vector&lt;std::string&gt; fraze){
	try{
		if(JeLiEngleski(fraze)==false) throw std::domain_error("Nekorektan izbor rijeci");
	if(fraze.size()!=0){
		for(int i=0; i&lt;fraze.size(); i++){
			int razmak(1);
			for(int j=0; j&lt;s.length(); j++){
				if(s.at(j)==' '){
					razmak=1;
				}
				else if(razmak==1){
					razmak=0; 
					if(fraze[i]==s.substr(j, fraze[i].size())  &amp;&amp; (!(s[j+fraze[i].size()]&gt;96 &amp;&amp; s[j+fraze[i].size()]&lt;123) || j+fraze[i].size()==s.length())){
						/*prebacivanje slova na kraj rijeci*/
						int k=j;
						int l=j+fraze[i].size()-1;
						std::string c=PretvoriUString(s[k]);
						s.erase(k,1);
						s.insert(l, c);
						/*dodavanje sloga na kraj rijeci*/
						s.insert(l+1, "ay");
					}
				}
			}
		}
	}
	
	else{
		int razmak(1), brojac(0);
		int broj_rijeci=BrojRijeci(s);
		for(int i=0; i&lt;s.length(); i++){
			if(s[i]==' '){
				razmak=1;
			}
			else if(s[i]!=' '){
				razmak=0;
				int k=i;
				while(s[k]!=' ' &amp;&amp; k&lt;s.length() &amp;&amp; ((s[k]&gt;96 &amp;&amp; s[k]&lt;123) || (s[k]&gt;64 &amp;&amp; s[k]&lt;91))) k++;
				k--;
				int j=i;
				std::string c=PretvoriUString(s[j]);
				s.erase(j,1);
				s.insert(k,c);
				s.insert(k+1, "ay");
				i+=k-i+2;
				while(s[i]!=' ' &amp;&amp; i&lt;s.length()) i++;
				brojac++;
				if(brojac==broj_rijeci) break;
			}
		}
	}  
	return s;
	}
	catch(std::domain_error izuzetak){
		std::cout&lt;&lt;"Izuzetak: "&lt;&lt;izuzetak.what()&lt;&lt;std::endl;
	}
	s.resize(0);
	return s;
}



int main ()
{
	std::string s;
	std::cout&lt;&lt;"Unesite recenicu: ";
	std::getline(std::cin, s);
	
	std::cout&lt;&lt;"Unesite fraze: ";
	std::vector&lt;std::string&gt; fraze;
	std::string rijec;
	do{
		std::getline(std::cin, rijec);
		if(rijec.length()!=0) fraze.push_back(rijec);
	}while(rijec.length()!=0);

	std::string s2=IzmijeniUPigLatin(s, fraze);
	if(s2.length()!=0){
	std::cout&lt;&lt;"Recenica nakon PigLatin transformacije: ";
	std::cout&lt;&lt;s2&lt;&lt;std::endl; }
	std::cout&lt;&lt;"Recenica nakon obrtanja fraza: ";
	std::string obrnuti=ObrniFraze(s, fraze);
	std::cout&lt;&lt;obrnuti&lt;&lt;std::endl;

	
	return 0;
</font>}</pre>
</body>
</html>
