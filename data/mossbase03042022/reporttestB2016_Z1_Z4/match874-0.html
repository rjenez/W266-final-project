<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z1/Z4/student5624.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z1/Z4/student5624.cpp<p></p><pre>
/*B 2016/2017, ZadaÄ‡a 1, Zadatak 4
	
	NAPOMENA: ulaz/izlaz za zadatke je specificiran
	javnim autotestovima. Zalbe za ne analiziranje testova
	se ne uvazavaju!
	
	NAPOMENA: nece svi (javni) testovi sa zamgera biti 
	dostupni na c9.
*/
#include &lt;iostream&gt;
#include &lt;string&gt;
#include &lt;stdexcept&gt;
#include &lt;vector&gt;
#include &lt;cctype&gt;
using std::string;
using std::vector;
bool sengPIG(string s){
	for(int i=0; i&lt;s.length(); i++){
<a name="2"></a><font color="#0000FF"><a href="match874-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_2.gif"/></a>

		if(s[i]&lt;'A'|| (s[i]&gt;'Z' &amp;&amp; s[i]&lt;'a') || s[i]&gt;'z') return false;
</font>	}
	return true;
}
bool Eng(vector&lt;string&gt; s){
	for(int i=0; i&lt;s.size(); i++){
		if(!sengPIG(s[i])) return false;
		}
	return true;
}
bool sengFRAZE(string s){
	for(int i=0; i&lt;s.length(); i++){
		if((s[i]&lt;'A'|| (s[i]&gt;'Z' &amp;&amp; s[i]&lt;'a') || s[i]&gt;'z') &amp;&amp; s[i]!=' ' &amp;&amp; s[i]!=',') return false;
	}
	return true;
}
bool Eng1(vector&lt;string&gt;s){
	for(int i=0; i&lt;s.size(); i++){
		if(!sengFRAZE(s[i])) return false;
		}
	return true;
}
/*string IzdvojiRijecFraze(string s, string d){
	string s1="";
	string s2="";
	if(d.length()&gt;s.length()) return s1;
	if(s[0]==d[0]){
		s1=s.substr(0, d.length());
		if(s1==d) return s1;
		return s2;
	}
	else{
		bool a(Podstring(s,d));
		
	}
	return s1;
}*/

string IzdvojiRijec(string s){
	string s1="";
	int index1(0);
	int index2(0);
	for(int i=0; i&lt;s.length(); i++){
		if((toupper(s[i])&gt;='A' &amp;&amp; toupper(s[i])&lt;='Z') &amp;&amp; (i==0|| s[i-1]==' '|| s[i-1]=='.'||s[i-1]==',')) index1=i;
		if(s[i]==' '||s[i]==','||s[i]=='.') {
			index2=i;
			s1=s.substr(index1, index2-index1);
		}
		if(i==s.length()-1){
			s1=s.substr(index1, s.length());
		}
		if(s1.size()!=0) break;
	}
	return s1;
}
bool IstaRijec(string s, string d){
	if(d.length()==s.length() &amp;&amp; d==s) return true;
	for(int i=0; i&lt;s.length(); i++){
		//if(i==0 &amp;&amp; s[i]==' ') s.erase(0,1);
		if(s[i]==' ') s.erase(i,1);
	}
	for(int i=0; i&lt;d.length(); i++){
		//if(i==0 &amp;&amp; d[i]==' ') d.erase(0,1)
		if(d[i]==' ') d.erase(i,1);
		
	}
	if( d.length()&lt;s.length() || d.length()&gt;s.length()) return false;
	if(d==s) return true;
	return false;
	
}
/*bool Podstring(string s, string d){
	string s1;
	if(d.length()&gt;=s.length()){
		bool a(IstaRijec(s,d));
		return a;
	} 
	else {
		for(int i=0; i&lt;s.length(); i++){
			if(s[i]==d[0]){
				s1=s.substr(i, d.length());
			}
		}
		if(s1==d) return true;
	}
	return false;
}*/
string IzvrniRijec(string s){
<a name="0"></a><font color="#FF0000"><a href="match874-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_3.gif"/></a>

	for(int i=0; i&lt;s.length()/2; i++){
		char temp(s[i]);
		s[i]=s[s.length()-1-i];
		s[s.length()-1-i]=temp;
</font>	}
	return s;
}
string Pig(string s){
	char a(s[0]);
	for(int i=0; i&lt;s.length(); i++){
		if(i==0) {
			a=s[0];
			for(int j=1; j&lt;s.length(); j++){
				s[j-1]=s[j];
			}
		}
		if(i==s.length()-1) s[i]=a;
	}
	s+="ay";
	return s;
}
string podstring(string s, string d){
	string novi="";
	string novistring="";
	for(int i=0; i&lt;s.length(); i++){
		if(d[0]==s[i]) {
			novi=s.substr(i, d.length());
			if(novi==d){
				novi=IzvrniRijec(novi);
				novistring+=novi;
				//novistring+=" ";
				i+=d.length()-1;
			}
			else novistring+=s[i];
		}
		else novistring+=s[i];
	}
	return novistring;
}
string ObrniFraze(string s, vector&lt;string&gt; v){
	if(v.size()==0) return s;
	if(!Eng1(v)) throw std::domain_error ("Nekorektan izbor rijeci");
	string novi(s);
	for(int i=0; i&lt;v.size(); i++){
		novi=podstring(novi,v[i]);
	}
	return novi;
	/*		int index1(0);
		string s2; 
		if((toupper(s[i])&gt;='A'&amp;&amp; toupper(s[i])&lt;='Z') &amp;&amp; (i==0|| s[i-1]==' ')){
			string fraza;
			index1=i;
			string s1(s.substr(index1, s.length()-index1));
			for(int j=0; j&lt;v.size(); j++){
				fraza=IzdvojiRijecFraze(s1, v[j]);
				if(fraza.length()!=0) {
					s1=IzvrniRijec(s1);
				}
				else {
					s1=IzdvojiRijec(s1);
				}
			}
			novi+=s1;
			novi+=" ";
		}
	}
	return novi;*/
}
string IzmijeniUPigLatin(string s, vector&lt;string&gt; v){
	string novi;
	if(v.size()==0){
		for(int i=0; i&lt;s.length(); i++){
		int index;
		string s3;
		if((toupper(s[i]&gt;='A') &amp;&amp; toupper(s[i])&lt;='Z')&amp;&amp; (i==0 || s[i-1]==' ')){
			index=i;
			string s4(s.substr(index, s.length()-index));
			s3=IzdvojiRijec(s4);
			s3=Pig(s3);
			novi+=s3;
			novi+=" ";
			}
		}
	return novi;
	}
	if(!Eng(v)) throw std::domain_error ("Nekorektan izbor rijeci");
	for(int i=0; i&lt;s.length(); i++){
		int index1;
		string s2;
		if((toupper(s[i]&gt;='A') &amp;&amp; toupper(s[i])&lt;='Z')&amp;&amp; (i==0 || s[i-1]==' ')){
			index1=i;
			string s1(s.substr(index1, s.length()-index1));
			s2=IzdvojiRijec(s1);
			for(int j=0; j&lt;v.size(); j++){
				if(IstaRijec(s2, v[j])) s2=Pig(s2);
			}
			novi+=s2;
			novi+=" ";
		}
	}
	return novi;
}
int main ()
{
	std::cout&lt;&lt;"Unesite recenicu: ";
	string s;
	std::getline(std::cin, s);
	std::cout&lt;&lt;"Unesite fraze: ";
	vector&lt;string&gt; v;
	string s1;
	do{
		s1="";
		std::getline(std::cin, s1);
		if(s1.size()==0) break;
		v.push_back(s1);
	}while(s1.size()!=0);
	string pig;
	try{
<a name="1"></a><font color="#00FF00"><a href="match874-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_3.gif"/></a>

		pig=IzmijeniUPigLatin(s, v);
		std::cout&lt;&lt;"Recenica nakon PigLatin transformacije: "&lt;&lt;pig&lt;&lt;std::endl;
	}
	catch(std::domain_error izuzetak){
		std::cout&lt;&lt;"Izuzetak: "&lt;&lt;izuzetak.what()&lt;&lt; std::endl;
</font>	}

	string fraza;
	try{
		fraza=ObrniFraze(s,v);
		std::cout&lt;&lt;"Recenica nakon obrtanja fraza: "&lt;&lt;fraza;
	}
	catch(std::domain_error izuzetak1){
		std::cout&lt;&lt;"Izuzetak: "&lt;&lt;izuzetak1.what()&lt;&lt;std::endl;
	}
	
	
	return 0;
}</pre>
</body>
</html>
