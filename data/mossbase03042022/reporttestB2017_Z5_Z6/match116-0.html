<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z5/Z6/student6410.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z5/Z6/student6410.cpp<p></p><pre>
#include &lt;iostream&gt;
#include &lt;vector&gt;
#include &lt;stdexcept&gt;
#include &lt;algorithm&gt;
#include &lt;functional&gt;

class Berza{
     std::vector&lt;int&gt; dionice;
     int maxi, mini;
     public:
     Berza(int max, int min);
     Berza(int max);
     void RegistrirajCijenu(int dionica);
<a name="12"></a><font color="#0000FF"><a href="match116-1.html#12" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_2.gif"/></a>

     int DajBrojRegistriranihCijena() const{return dionice.size();}
     void BrisiSve() { dionice.resize(0);}
     int DajMinimalnuCijenu() const;
     int DajMaksimalnuCijenu() const;
     bool operator !();
     int DajBrojCijenaVecihOd(int broj) const;
     void Ispisi() const;
     int operator[] (int i);
     friend Berza operator++(Berza b);
     friend Berza operator++(Berza b, int);
     friend Berza operator--(Berza b);
</font>     friend Berza operator--(Berza b, int);
     friend Berza operator-(Berza b);
     friend Berza operator+(Berza b);
     friend Berza operator-(Berza b, int br);
     friend Berza operator+(Berza b, int br);
     friend Berza operator-(int br, Berza b);
     friend Berza operator+(int br, Berza b);
     friend Berza operator-(Berza b1, Berza b2);
     friend Berza operator+(Berza b1, Berza b2);
     friend Berza &amp;operator-=(Berza &amp;b1, Berza &amp;b2){return b1=b1-b2;}
     friend Berza &amp;operator+=(Berza &amp;b1, Berza &amp;b2){return b1=b1+b2;}
     friend Berza &amp;operator-=(Berza &amp;b, int br){return b=b-br;}
     friend Berza &amp;operator+=(Berza &amp;b, int br){return b=b+br;}
     friend Berza &amp;operator-=(int br, Berza &amp;b){return b=b-br;}
     friend Berza &amp;operator+=(int br, Berza &amp;b){return b=b+br;}
     friend bool operator ==(Berza b1, Berza b2);
     friend bool operator !=(Berza b1, Berza b2);
};

Berza::Berza(int max, int min){
     if(max&lt;0 || min&lt;0) throw std::range_error("Ilegalne granicne cijene");
     maxi=max;
     mini=min;
}

Berza::Berza(int max){
     if(max&lt;0) throw std::range_error("Ilegalne granicne cijene");
     mini=0;
     maxi=max;
}

void Berza::RegistrirajCijenu(int dionica){
<a name="13"></a><font color="#00FFFF"><a href="match116-1.html#13" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_2.gif"/></a>

     dionice.push_back(dionica);
}

int Berza::DajMinimalnuCijenu() const{
     if(dionice.size()==0) throw std::range_error("Nema registriranih cijena");
     return *std::min_element(dionice.begin(), dionice.end());
}

int Berza::DajMaksimalnuCijenu() const{
     if(dionice.size()==0) throw std::range_error("Nema registriranih cijena");
     return *max_element(dionice.begin(), dionice.end());
</font>}

bool Berza::operator!(){
     if(dionice.size()==0) return true;
     return false;
}

<a name="6"></a><font color="#00FF00"><a href="match116-1.html#6" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_3.gif"/></a>

int Berza::DajBrojCijenaVecihOd(int broj) const{
     if(dionice.size()==0) throw std::range_error("Nema registriranih cijena");
     return std::count_if(dionice.begin(), dionice.end(), std::bind(std::greater&lt;int&gt;(), std::placeholders::_1, broj));
}

void Berza::Ispisi() const{
     if(dionice.size()==0) throw std::range_error("Nema registriranih cijena");
     std::vector&lt;int&gt; v(dionice);
</font><a name="0"></a><font color="#FF0000"><a href="match116-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_7.gif"/></a>

     std::sort(v.begin(), v.end(), std::greater&lt;int&gt;());
     for(int i=0; i&lt;v.size(); i++){
          std::cout&lt;&lt;v[i]/100&lt;&lt;".";
          if(v[i]%100&lt;10) std::cout&lt;&lt;"0"&lt;&lt;v[i]%100&lt;&lt;std::endl;
          else std::cout&lt;&lt;v[i]%100&lt;&lt;std::endl;
     }
}

int Berza::operator [](int i){
     if(i&lt;1 || i&gt;dionice.size()) throw std::range_error("Neispravan indeks");
     return int{dionice[i-1]};
}

Berza operator++(Berza b){
     std::for_each(b.dionice.begin(), b.dionice.end(), std::bind(std::plus&lt;int&gt;(), std::placeholders::_1, 100));
     int br=0;
</font><a name="15"></a><font color="#FF0000"><a href="match116-1.html#15" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_1.gif"/></a>

     br=std::count_if(b.dionice.begin(), b.dionice.end(), std::bind(std::greater&lt;int&gt;(), std::placeholders::_1, b.DajMaksimalnuCijenu()));
     if(br&gt;0) throw std::range_error("Prekoracen dozvoljeni opseg cijena");
     return b;
}

Berza operator++(Berza b, int){
</font><a name="18"></a><font color="#00FFFF"><a href="match116-1.html#18" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_1.gif"/></a>

     std::for_each(b.dionice.begin(), b.dionice.end(), std::bind(std::plus&lt;int&gt;(), std::placeholders::_1, 100));
     int br=0;
</font><a name="5"></a><font color="#FF0000"><a href="match116-1.html#5" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_3.gif"/></a>

     br=std::count_if(b.dionice.begin(), b.dionice.end(), std::bind(std::greater&lt;int&gt;(), std::placeholders::_1, b.DajMaksimalnuCijenu()));
     if(br&gt;0) throw std::range_error("Prekoracen dozvoljeni opseg cijena");
     return b;
}

Berza operator--(Berza b){
     std::for_each(b.dionice.begin(), b.dionice.end(), std::bind(std::minus&lt;int&gt;(), std::placeholders::_1, 100));
     int br=0;
</font><a name="14"></a><font color="#FF00FF"><a href="match116-1.html#14" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_1.gif"/></a>

     br=std::count_if(b.dionice.begin(), b.dionice.end(), std::bind(std::greater&lt;int&gt;(),b.DajMaksimalnuCijenu(),std::placeholders::_1));
     if(br&gt;0) throw std::range_error("Prekoracen dozvoljeni opseg cijena");
     return b;
}

Berza operator--(Berza b, int){
</font><a name="19"></a><font color="#FF00FF"><a href="match116-1.html#19" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_1.gif"/></a>

     std::for_each(b.dionice.begin(), b.dionice.end(), std::bind(std::minus&lt;int&gt;(), std::placeholders::_1, 100));
     int br=0;
</font><a name="3"></a><font color="#00FFFF"><a href="match116-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_3.gif"/></a>

     br=std::count_if(b.dionice.begin(), b.dionice.end(), std::bind(std::greater&lt;int&gt;(),b.DajMaksimalnuCijenu(),std::placeholders::_1));
     if(br&gt;0) throw std::range_error("Prekoracen dozvoljeni opseg cijena");
     return b;
}

Berza operator-(Berza b){
     std::for_each(b.dionice.begin(), b.dionice.end(), std::bind(std::minus&lt;int&gt;(),b.DajMaksimalnuCijenu()+b.DajMinimalnuCijenu(), std::placeholders::_1));
     return b;
</font>}

Berza operator+(Berza b, int br){
<a name="9"></a><font color="#FF00FF"><a href="match116-1.html#9" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_2.gif"/></a>

     std::for_each(b.dionice.begin(), b.dionice.end(), std::bind(std::plus&lt;int&gt;(), std::placeholders::_1, br));
     int broj=0;
     broj=std::count_if(b.dionice.begin(), b.dionice.end(), std::bind(std::greater&lt;int&gt;(), std::placeholders::_1, b.DajMaksimalnuCijenu()));
</font>     if(broj&gt;0) throw std::domain_error("Prekoracen dozvoljeni opseg cijena");
     return b;
}

Berza operator-(Berza b, int br){
<a name="10"></a><font color="#FF0000"><a href="match116-1.html#10" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_2.gif"/></a>

     std::for_each(b.dionice.begin(), b.dionice.end(), std::bind(std::minus&lt;int&gt;(), std::placeholders::_1, br));
     int broj=0;
     broj=std::count_if(b.dionice.begin(), b.dionice.end(), std::bind(std::greater&lt;int&gt;(),b.DajMaksimalnuCijenu(), std::placeholders::_1));
</font><a name="2"></a><font color="#0000FF"><a href="match116-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_4.gif"/></a>

     if(broj&gt;0) throw std::domain_error("Prekoracen dozvoljeni opseg cijena");
     return b;
}

Berza operator+(int br, Berza b){
     std::for_each(b.dionice.begin(), b.dionice.end(), std::bind(std::plus&lt;int&gt;(), std::placeholders::_1, br));
     int broj=0;
     broj=std::count_if(b.dionice.begin(), b.dionice.end(), std::bind(std::greater&lt;int&gt;(), std::placeholders::_1, b.DajMaksimalnuCijenu()));
</font><a name="11"></a><font color="#00FF00"><a href="match116-1.html#11" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_2.gif"/></a>

     if(broj&gt;0) throw std::domain_error("Prekoracen dozvoljeni opseg cijena");
     return b;
}

Berza operator-(int br, Berza b){
     std::for_each(b.dionice.begin(), b.dionice.end(), std::bind(std::minus&lt;int&gt;(), std::placeholders::_1, br));
</font>     int broj=0;
<a name="16"></a><font color="#00FF00"><a href="match116-1.html#16" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_1.gif"/></a>

     broj=std::count_if(b.dionice.begin(), b.dionice.end(), std::bind(std::greater&lt;int&gt;(),b.DajMaksimalnuCijenu(), std::placeholders::_1));
     if(broj&gt;0) throw std::domain_error("Prekoracen dozvoljeni opseg cijena");
     return b;
}

Berza operator +(Berza b1, Berza b2){
    if(b1.dionice.size() != b2.dionice.size() || b1.DajMaksimalnuCijenu() != b2.DajMaksimalnuCijenu()
</font><a name="7"></a><font color="#0000FF"><a href="match116-1.html#7" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_3.gif"/></a>

    || b1.DajMinimalnuCijenu() != b2.DajMinimalnuCijenu()) throw std::domain_error("Nesaglasni operandi");

    Berza b(b1.DajMaksimalnuCijenu(), b2.DajMinimalnuCijenu());
    std::transform(b1.dionice.begin(), b1.dionice.end(), b2.dionice.begin(), b.dionice.begin(),
    std::bind(std::plus&lt;int&gt;(), std::placeholders::_1, std::placeholders::_2));

    int broj(0);
</font><a name="17"></a><font color="#0000FF"><a href="match116-1.html#17" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_1.gif"/></a>

    broj = std::count_if(b.dionice.begin(), b.dionice.end(), std::bind(std::greater&lt;int&gt;(), std::placeholders::_1, b.DajMaksimalnuCijenu()));
    if (broj &gt; 0) throw std::domain_error("Prekoracen dozvoljeni opseg cijena");
    return b;
}

Berza operator -(Berza b1, Berza b2){
    if(b1.dionice.size() != b2.dionice.size() || b1.DajMaksimalnuCijenu() != b2.DajMaksimalnuCijenu()
</font><a name="8"></a><font color="#00FFFF"><a href="match116-1.html#8" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_3.gif"/></a>

    || b1.DajMinimalnuCijenu() != b2.DajMinimalnuCijenu()) throw std::domain_error("Nesaglasni operandi");

    Berza b(b1.DajMaksimalnuCijenu(), b2.DajMinimalnuCijenu());
    std::transform(b1.dionice.begin(), b1.dionice.end(), b2.dionice.begin(), b.dionice.begin(),
    std::bind(std::minus&lt;int&gt;(), std::placeholders::_1, std::placeholders::_2));

    int broj(0);
</font>    broj = std::count_if(b.dionice.begin(), b.dionice.end(), std::bind(std::greater&lt;int&gt;(), b.DajMaksimalnuCijenu(), std::placeholders::_1));
    if (broj &gt; 0) throw std::domain_error("Prekoracen dozvoljeni opseg cijena");
    return b;
}


bool operator==(Berza b1, Berza b2){
<a name="1"></a><font color="#00FF00"><a href="match116-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_4.gif"/></a>

     if(b1.dionice.size()!=b2.dionice.size() || b1.DajMaksimalnuCijenu()!=b2.DajMaksimalnuCijenu() || b1.DajMinimalnuCijenu()!= b2.DajMinimalnuCijenu()) return false;
     Berza b(b1.DajMaksimalnuCijenu(), b2.DajMinimalnuCijenu());
     std::transform(b1.dionice.begin(), b1.dionice.end(), b2.dionice.begin(), b.dionice.begin(),std::bind(std::equal_to&lt;int&gt;(), std::placeholders::_1, std::placeholders::_2));
     if(b.dionice.size()!=b1.dionice.size()) return false;
     return true;
}

bool operator!=(Berza b1, Berza b2){
     if(b1.dionice.size()!=b2.dionice.size() || b1.DajMaksimalnuCijenu()!=b2.DajMaksimalnuCijenu() || b1.DajMinimalnuCijenu()!= b2.DajMinimalnuCijenu()) return true;
</font><a name="4"></a><font color="#FF00FF"><a href="match116-1.html#4" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_3.gif"/></a>

     Berza b(b1.DajMaksimalnuCijenu(), b2.DajMinimalnuCijenu());
     std::transform(b1.dionice.begin(), b1.dionice.end(), b2.dionice.begin(), b.dionice.begin(),std::bind(std::equal_to&lt;int&gt;(), std::placeholders::_1, std::placeholders::_2));
     if(b.dionice.size()!=b1.dionice.size()) return true;
     return false;
}

int main(){ 
</font>     try{ 
           Berza b1 = Berza(1000,4000);
    b1.RegistrirajCijenu(3000);
    b1.RegistrirajCijenu(1500);
    std::cout &lt;&lt; "Minimalna cijena: " &lt;&lt; b1.DajMinimalnuCijenu() &lt;&lt; std::endl;
    std::cout &lt;&lt; "Maksimalna cijena: " &lt;&lt; b1.DajMaksimalnuCijenu();
}
     catch(std::range_error e){
          std::cout&lt;&lt;e.what();
     }
     catch(std::domain_error d){
          std::cout&lt;&lt;d.what();
     }
     return 0;
}
</pre>
</body>
</html>
