<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z5/Z6/student6328.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z5/Z6/student6328.cpp<p></p><pre>
/B2017/2018: ZadaÄ‡a 5, Zadatak 6
#include &lt;iostream&gt;
#include &lt;vector&gt;
#include &lt;functional&gt;
#include &lt;cmath&gt;
#include &lt;stdexcept&gt;
#include &lt;algorithm&gt;

class Berza
{
    int max,min;
    std::vector&lt;int&gt;dionice;
public:
    Berza(int mm,int mx);
    Berza(int mx);
    void RegistrirajCijenu(int cijena);
    int DajBrojRegistriranihCijena() const {
        return dionice.size();
    }
    void BrisiSve() {
        dionice.resize(0);
    }
    int DajMinimalnuCijenu() const;
    int DajMaksimalnuCijenu() const;
    bool operator !();
    int DajBrojCijenaVecihOd(int broj) const;
    void Ispisi()const;
    int operator [](int br);
    friend Berza operator ++(Berza b);
    friend Berza operator ++(Berza b,int);
    friend Berza operator --(Berza b);
    friend Berza operator --(Berza b, int);
    friend Berza operator -(Berza b);
    friend Berza operator +(Berza b, int broj);
    friend Berza operator +(int broj, Berza b);
    friend Berza operator -(Berza b, int broj);
    friend Berza operator -(int broj, Berza b);
    friend Berza operator +(Berza b1, Berza b2);
    friend Berza operator -(Berza b1, Berza b2);
    friend Berza &amp;operator +=(Berza &amp;b1, Berza b2);
    friend Berza &amp;operator -=(Berza &amp;b1, Berza b2);
    friend Berza &amp;operator +=(Berza &amp;b1, int broj);
    friend Berza &amp;operator +=(int broj, Berza &amp;b);
    friend Berza &amp;operator -=(Berza &amp;b1, int broj) ;
    friend Berza &amp;operator -=(int broj, Berza &amp;b);
    friend bool operator ==(Berza b1, Berza b2);
    friend bool operator !=(Berza b1, Berza b2);
};

Berza::Berza(int mm, int mx)
{
    if(mx&lt;0 || mm&lt;0) throw std::range_error("Ilegalne granicne cijene");
    min=mm;
    max=mx;
}
Berza::Berza(int mx)
{
    if(mx&lt;0) throw std::range_error("Ilegalne granicne cijene");
    max=mx;
    min=0;
}

void Berza::RegistrirajCijenu(int cijena)
{
    if(cijena&lt;min || cijena&gt;max) throw std::range_error("Ilegalna cijena");
    dionice.push_back(cijena);
}

int Berza::DajMinimalnuCijenu()const
{
<a name="5"></a><font color="#FF0000"><a href="match317-1.html#5" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_1.gif"/></a>

    if(dionice.size()==0) throw std::range_error("Nema registriranih cijena");
    return *std::min_element(dionice.begin(),dionice.end());
}

int Berza::DajMaksimalnuCijenu()const
{
    if(dionice.size()==0) throw std::range_error("Nema registriranih cijena");
</font>    return *std::max_element(dionice.begin(),dionice.end());
}

bool Berza::operator !()
{
    if(dionice.size()==0) return true;
    return false;
}
<a name="3"></a><font color="#00FFFF"><a href="match317-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_1.gif"/></a>

int Berza::DajBrojCijenaVecihOd(int broj)const
{
    if(dionice.size()==0) throw std::range_error("Nema registriranih cijena");
    return std::count_if(dionice.begin(),dionice.end(),std::bind(std::greater&lt;int&gt;(), std::placeholders::_1,broj));
</font>}

void Berza::Ispisi()const
{
    if(dionice.size()==0) throw std::range_error("Nema registriranih cijena");
    std::vector&lt;int&gt; v(dionice);
    std::sort(v.begin(),v.end(),std::greater&lt;int&gt;());
    for(int i(0); i&lt;v.size(); i++) {
        std::cout&lt;&lt;v[i]/100&lt;&lt;".";
        if(v[i]%100&lt;10) std::cout&lt;&lt;"0"&lt;&lt;v[i]%100&lt;&lt;std::endl;
<a name="6"></a><font color="#00FF00"><a href="match317-1.html#6" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_1.gif"/></a>

        else std::cout&lt;&lt;v[i]%100&lt;&lt;std::endl;

    }
}

int Berza::operator [](int br)
{
    if(br&lt;1 || br&gt;dionice.size() ) throw std::range_error("Neispravan indeks");
</font>    return int {dionice[br-1]};
}
Berza operator ++(Berza b)
{
    Berza pomocna(b);
    std::for_each(b.dionice.begin(),b.dionice.end(),std::bind(std::plus&lt;int&gt;(),std::placeholders::_1,100));
    int br(0);
    br=std::count_if(b.dionice.begin(),b.dionice.end(),std::bind(std::greater&lt;int&gt;(),std::placeholders::_1,b.DajMaksimalnuCijenu()));
    if(br&lt;b.min || br&gt;b.max) throw std::range_error("Prekoracen dozvoljeni opseg cijena");
    return pomocna;
}
Berza operator ++(Berza b,int)
{
    std::for_each(b.dionice.begin(),b.dionice.end(),std::bind(std::plus&lt;int&gt;(),std::placeholders::_1,100));
    int br(0);
    br=std::count_if(b.dionice.begin(),b.dionice.end(),std::bind(std::greater&lt;int&gt;(),std::placeholders::_1,b.DajMaksimalnuCijenu()));
    if(br&lt;b.min || br&gt;b.max) throw std::range_error("Prekoracen dozvoljeni opseg cijena");
    return b;
}
Berza operator --(Berza b)
{
    Berza pomocna(b);
    std::for_each(b.dionice.begin(),b.dionice.end(),std::bind(std::minus&lt;int&gt;(),std::placeholders::_1,100));
    int br(0);
    br=std::count_if(b.dionice.begin(),b.dionice.end(),std::bind(std::greater&lt;int&gt;(),b.DajMinimalnuCijenu(),std::placeholders::_1));
    if(br&lt;b.min || br&gt;b.max) throw std::range_error("Prekoracen dozvoljeni opseg cijena");
    return pomocna;
}
Berza operator --(Berza b,int)
{
    std::for_each(b.dionice.begin(),b.dionice.end(),std::bind(std::minus&lt;int&gt;(),std::placeholders::_1,100));
    int br(0);
    br=std::count_if(b.dionice.begin(),b.dionice.end(),std::bind(std::greater&lt;int&gt;(),b.DajMinimalnuCijenu(),std::placeholders::_1));
    if(br&lt;b.min || br&gt;b.max) throw std::range_error("Prekoracen dozvoljeni opseg cijena");
    return b;
}
Berza operator -(Berza b)
{
<a name="2"></a><font color="#0000FF"><a href="match317-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_2.gif"/></a>

    std::for_each(b.dionice.begin(),b.dionice.end(),std::bind(std::minus&lt;int&gt;(),b.DajMaksimalnuCijenu()+b.DajMinimalnuCijenu(),std::placeholders::_1));
    return b;
}
Berza operator +(Berza b,int broj)
</font>{
    std::for_each(b.dionice.begin(),b.dionice.end(),std::bind(std::plus&lt;int&gt;(),std::placeholders::_1,broj));
    int n(0);
    n=std::count_if(b.dionice.begin(),b.dionice.end(),std::bind(std::greater&lt;int&gt;(),std::placeholders::_1,b.DajMaksimalnuCijenu()));
    if(n&lt;b.min || n&gt;b.max) throw std::range_error("Prekoracen dozvoljeni opseg cijena");
    return b;
}
Berza operator -(Berza b,int broj)
{
    std::for_each(b.dionice.begin(),b.dionice.end(),std::bind(std::minus&lt;int&gt;(),std::placeholders::_1,broj));
    int br(0);
    br=std::count_if(b.dionice.begin(),b.dionice.end(),std::bind(std::greater&lt;int&gt;(),b.DajMinimalnuCijenu(),std::placeholders::_1));
    if(br&lt;b.min || br&gt;b.max) throw std::range_error("Prekoracen dozvoljeni opseg cijena");
    return b;
}
Berza operator +(int broj, Berza b)
{
    return b+broj;
}
Berza operator -(int broj, Berza b)
{
    return b-broj;
}
Berza operator +(Berza b1, Berza b2)
{
<a name="0"></a><font color="#FF0000"><a href="match317-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_2.gif"/></a>

    if(b1.dionice.size()!=b2.dionice.size() || b1.DajMaksimalnuCijenu()!=b2.DajMaksimalnuCijenu() || b1.DajMinimalnuCijenu()!=b2.DajMinimalnuCijenu())
        throw std::domain_error("Nesaglasni operandi");

    Berza b(b1.DajMinimalnuCijenu(),b1.DajMaksimalnuCijenu());
    std::transform(b1.dionice.begin(),b1.dionice.end(),b2.dionice.begin(),b.dionice.begin(),std::bind(std::plus&lt;int&gt;(),std::placeholders::_1,std::placeholders::_2));
</font>    int broj(0);
    broj=std::count_if(b.dionice.begin(),b.dionice.end(),std::bind(std::greater&lt;int&gt;(),std::placeholders::_1,b.DajMaksimalnuCijenu()));
    if(broj&lt;b.min || broj&gt;b.max) throw std::range_error("Prekoracen dozvoljeni opseg cijena");
    return b;
}
Berza operator -(Berza b1, Berza b2)
{
<a name="1"></a><font color="#00FF00"><a href="match317-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_2.gif"/></a>

    if(b1.dionice.size()!=b2.dionice.size() || b1.DajMaksimalnuCijenu()!=b2.DajMaksimalnuCijenu() || b1.DajMinimalnuCijenu()!=b2.DajMinimalnuCijenu())
        throw std::domain_error("Nesaglasni operandi");

    Berza b(b1.DajMinimalnuCijenu(),b1.DajMaksimalnuCijenu());
    std::transform(b1.dionice.begin(),b1.dionice.end(),b2.dionice.begin(),b.dionice.begin(),std::bind(std::minus&lt;int&gt;(),std::placeholders::_1,std::placeholders::_2));
</font>    int broj(0);
    broj=std::count_if(b.dionice.begin(),b.dionice.end(),std::bind(std::greater&lt;int&gt;(),b.DajMaksimalnuCijenu(),std::placeholders::_1));
    if(broj&lt;b.min || broj&gt;b.max) throw std::range_error("Prekoracen dozvoljeni opseg cijena");
    return b;
}

bool operator ==(Berza b1, Berza b2)
{
<a name="4"></a><font color="#FF00FF"><a href="match317-1.html#4" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_1.gif"/></a>

    if(b1.dionice.size()!=b2.dionice.size() || b1.DajMaksimalnuCijenu()!=b2.DajMaksimalnuCijenu() || b1.DajMinimalnuCijenu()!=b2.DajMinimalnuCijenu())
        return false;
    Berza b(b1.DajMinimalnuCijenu(),b1.DajMaksimalnuCijenu());
    std::transform(b1.dionice.begin(),b1.dionice.end(),b2.dionice.begin(),b.dionice.begin(),std::bind(std::equal_to&lt;int&gt;(),std::placeholders::_1,std::placeholders::_2));
</font><a name="7"></a><font color="#0000FF"><a href="match317-1.html#7" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_1.gif"/></a>

    if(b.dionice.size()!=b1.dionice.size()) return false;
</font>    return true;
}
bool operator !=(Berza b1, Berza b2)
{
    return !(b1==b2);
}
Berza &amp;operator +=(Berza &amp;b1, Berza b2)
{
    return b1=b1+b2;
}
Berza &amp;operator -=(Berza &amp;b1, Berza b2)
{
    return b1=b1-b2;
}

Berza &amp;operator +=(Berza &amp;b1,int broj)
{
    return b1=b1+broj;
}

Berza &amp;operator +=(int broj, Berza &amp;b)
{
    return b=b+broj;
}
Berza &amp;operator -=(Berza &amp;b1, int broj)
{
    return b1=b1-broj;
}
Berza &amp;operator -=(int broj, Berza &amp;b)
{
    return b=b-broj;
}


int main ()
{
   /* Berza b1 = Berza(1000,4000);
    b1.RegistrirajCijenu(3000);
    b1.RegistrirajCijenu(1500);
    std::cout &lt;&lt; "Minimalna cijena: " &lt;&lt; b1.DajMinimalnuCijenu() &lt;&lt; std::endl;
    std::cout &lt;&lt; "Maksimalna cijena: " &lt;&lt; b1.DajMaksimalnuCijenu()&lt;&lt;std::endl;
    std::cout&lt;&lt;b1.DajBrojCijenaVecihOd(1200)&lt;&lt;std::endl&lt;&lt;b1.DajBrojRegistriranihCijena();
     b1 = Berza(1000,4000);
    b1.RegistrirajCijenu(3000);
    b1.RegistrirajCijenu(1500);
    b1.RegistrirajCijenu(2000);
    std::cout &lt;&lt; "Broj registrovanih cijena: " &lt;&lt; b1.DajBrojRegistriranihCijena() &lt;&lt; std::endl;
    b1.Ispisi();
    b1.BrisiSve();
    std::cout &lt;&lt; "Broj registrovanih cijena: " &lt;&lt; b1.DajBrojRegistriranihCijena();
    */
    return 0;
}
</pre>
</body>
</html>
