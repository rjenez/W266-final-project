<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z5/Z6/student1547.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z5/Z6/student6781.cpp<p></p><pre>
<a name="4"></a><font color="#FF00FF"><a href="match660-0.html#4" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_1.gif"/></a>

/B2017/2018: ZadaÄ‡a 5, Zadatak 6
#include &lt;iostream&gt;
#include &lt;vector&gt;
#include &lt;stdexcept&gt;
#include &lt;algorithm&gt;
#include &lt;functional&gt;
#include &lt;iomanip&gt;

class Berza{
    int minimalna_cijena, maksimalna_cijena;
    std::vector&lt;int&gt; elementi;
</font>    public:
    Berza(int min, int max){if(min&lt;0 || max&lt;0) throw std::range_error("Ilegalne granicne cijene"); minimalna_cijena=min; maksimalna_cijena=max;}
    explicit Berza(int max){if(max&lt;0) throw std::range_error("Ilegalne granicne cijene"); minimalna_cijena=0; maksimalna_cijena=max;}
    void RegistrirajCijenu(int cijena){
        if(cijena&lt;minimalna_cijena || cijena&gt;maksimalna_cijena) throw std::range_error("Ilegalna cijena");
        elementi.push_back(cijena);
    }
    int DajBrojRegistriranihCijena() const {return elementi.size();}
    void BrisiSve() {elementi.resize(0);}
    int DajMinimalnuCijenu() const {
        if(elementi.size()==0) throw std::range_error ("Nema registriranih cijena"); 
        return *std::min_element(elementi.begin(), elementi.end());;}
    int DajMaksimalnuCijenu() const {
        if(elementi.size()==0) throw std::range_error ("Nema registriranih cijena"); 
        return *std::max_element(elementi.begin(), elementi.end());}
    friend bool operator!(Berza b); 
    int DajBrojCijenaVecihOd(int a) const;
    void Ispisi() const;
    int operator[](int indeks) const{
        if(indeks&lt;1 || indeks&gt;elementi.size()) throw std::range_error("Neispravan indeks");
        return elementi[indeks];
    }
    friend bool operator!=(const Berza &amp;b1, const Berza &amp;b2);
    friend bool operator==(const Berza &amp;b1, const Berza &amp;b2); 
    friend Berza operator-(Berza b);
    friend Berza operator-(Berza b, int n);
    friend Berza operator-(int n, Berza b);
    friend Berza operator+(Berza b, int n);
    friend Berza operator+(int n, Berza b);
    friend Berza operator+(Berza b1, Berza b2);
    friend Berza operator-(Berza b1, Berza b2);
    friend Berza &amp;operator +=( Berza &amp;b, int n);
    friend Berza &amp;operator -=( Berza &amp;b, int n);
    friend Berza &amp;operator +=( Berza &amp;b1, const Berza &amp;b2){ b1=b1+b2; return b1;}
<a name="1"></a><font color="#00FF00"><a href="match660-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_2.gif"/></a>

    friend Berza &amp;operator -=( Berza &amp;b1, const Berza &amp;b2){ b1=b1-b2; return b1;}
    friend Berza &amp;operator++(Berza &amp;b);
    friend Berza operator++(Berza &amp;b,int);
    friend Berza &amp;operator--(Berza &amp;b);
    friend Berza operator--(Berza &amp;b,int);
};
    Berza &amp;operator +=( Berza &amp;b, int n){b= b+n; return b;}
</font>    Berza &amp;operator -=( Berza &amp;b, int n){b= b-n; return b;}
    bool operator!(Berza b){
        return b.elementi.size()==0;
    }
    int Berza::DajBrojCijenaVecihOd(int a) const{
        if(elementi.size()==0) throw std::range_error ("Nema registriranih cijena");
        int br(0);
<a name="5"></a><font color="#FF0000"><a href="match660-0.html#5" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_1.gif"/></a>

        br=std::count_if(elementi.begin(), elementi.end(), std::bind(std::greater&lt;int&gt;(),std::placeholders::_1,a));
        return br;
    }
    void Berza::Ispisi() const{
</font>        std::vector&lt;int&gt; cijene;
        cijene=elementi;
<a name="0"></a><font color="#FF0000"><a href="match660-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_2.gif"/></a>

        std::sort(cijene.begin(), cijene.end(), std::greater&lt;int&gt;());
        for(int i=0;i&lt;cijene.size();i++){
            std::cout &lt;&lt; std::setprecision(2)&lt;&lt;std::fixed&lt;&lt; cijene[i]/100. &lt;&lt; std::endl;
</font>        }
    }
    bool operator!=(const Berza &amp;b1, const Berza &amp;b2){
                return (!(b1.elementi.size()==b2.elementi.size() &amp;&amp; b1.elementi==b2.elementi));
    }
    bool operator==(const Berza &amp;b1, const Berza &amp;b2){
                return (b1.elementi.size()==b2.elementi.size() &amp;&amp; b1.elementi==b2.elementi);
    }
    Berza operator-(Berza b){
        Berza nova(b.minimalna_cijena, b.maksimalna_cijena);
        nova.elementi.resize(b.elementi.size());
        int zbir(b.minimalna_cijena+b.maksimalna_cijena);
        std::transform(b.elementi.begin(), b.elementi.end(), nova.elementi.begin(), std::bind(std::minus&lt;int&gt;(),zbir, std::placeholders::_1));
        return b;
    }
    Berza operator-(Berza b, int n){
        Berza nova(b.minimalna_cijena, b.maksimalna_cijena);
        nova.elementi.resize(b.elementi.size());
        std::transform(b.elementi.begin(), b.elementi.end(), nova.elementi.begin(), std::bind(std::minus&lt;int&gt;(),std::placeholders::_1,n));
         if(nova.DajBrojCijenaVecihOd(nova.maksimalna_cijena)&gt;0 || nova.elementi.size()-nova.DajBrojCijenaVecihOd(nova.minimalna_cijena)&gt;0)
        throw std::domain_error("Prekoracen dozvoljeni opseg cijena");
        return nova;
    }
    Berza operator-(int n, Berza b){
        Berza nova(b.minimalna_cijena, b.maksimalna_cijena);
        nova.elementi.resize(b.elementi.size());
        std::transform(b.elementi.begin(), b.elementi.end(), nova.elementi.begin(), std::bind(std::minus&lt;int&gt;(),n,std::placeholders::_1));
        if(nova.DajBrojCijenaVecihOd(nova.maksimalna_cijena)&gt;0 || nova.elementi.size()-nova.DajBrojCijenaVecihOd(nova.minimalna_cijena)&gt;0)
        throw std::domain_error("Prekoracen dozvoljeni opseg cijena");
        return nova;
    }
    Berza operator+(Berza b, int n){
        Berza nova(b.minimalna_cijena, b.maksimalna_cijena);
        nova.elementi.resize(b.elementi.size());
        std::transform(b.elementi.begin(), b.elementi.end(), nova.elementi.begin(), std::bind(std::plus&lt;int&gt;(),std::placeholders::_1,n));
         if(nova.DajBrojCijenaVecihOd(nova.maksimalna_cijena)&gt;0 || nova.elementi.size()-nova.DajBrojCijenaVecihOd(nova.minimalna_cijena)&gt;0)
        throw std::domain_error("Prekoracen dozvoljeni opseg cijena");
        return nova;
    }
    Berza operator+(int n, Berza b){
        return b+n;
    }
    Berza operator+(Berza b1, Berza b2){
<a name="2"></a><font color="#0000FF"><a href="match660-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_2.gif"/></a>

    if(b1.minimalna_cijena!=b2.minimalna_cijena || b1.maksimalna_cijena!=b2.maksimalna_cijena || b1.elementi.size()!=b2.elementi.size())
        throw std::domain_error("Nesaglasni operandi");
        
     Berza nova(b1.minimalna_cijena, b1.maksimalna_cijena);
</font>     nova.elementi.resize(b1.elementi.size());
     std::transform(b1.elementi.begin(), b1.elementi.end(), b2.elementi.begin(), nova.elementi.begin(), std::plus&lt;int&gt;());
     
     if(nova.DajBrojCijenaVecihOd(nova.maksimalna_cijena)&gt;0 || nova.elementi.size()-nova.DajBrojCijenaVecihOd(nova.minimalna_cijena)&gt;0)
        throw std::domain_error("Prekoracen dozvoljeni opseg cijena");
     return nova;
    }
    Berza operator-(Berza b1, Berza b2){
<a name="3"></a><font color="#00FFFF"><a href="match660-0.html#3" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_2.gif"/></a>

    if(b1.minimalna_cijena!=b2.minimalna_cijena || b1.maksimalna_cijena!=b2.maksimalna_cijena || b1.elementi.size()!=b2.elementi.size())
        throw std::domain_error("Nesaglasni operandi");
        
     Berza nova(b1.minimalna_cijena, b1.maksimalna_cijena);
</font>     nova.elementi.resize(b1.elementi.size());
     std::transform(b1.elementi.begin(), b1.elementi.end(), b2.elementi.begin(), nova.elementi.begin(), std::minus&lt;int&gt;());
     
     if(nova.DajBrojCijenaVecihOd(nova.maksimalna_cijena)&gt;0 || nova.elementi.size()-nova.DajBrojCijenaVecihOd(nova.minimalna_cijena)&gt;0)
        throw std::domain_error("Prekoracen dozvoljeni opseg cijena");
     return nova;
    }
    Berza &amp;operator++(Berza &amp;b){
        b=b+1;
        if(b.DajBrojCijenaVecihOd(b.maksimalna_cijena)&gt;0 || b.elementi.size()-b.DajBrojCijenaVecihOd(b.minimalna_cijena)&gt;0)
        throw std::domain_error("Prekoracen dozvoljeni opseg cijena");
        return b;
    }
    Berza operator++(Berza &amp;b, int){
        Berza pomocna(b.minimalna_cijena, b.maksimalna_cijena);
        pomocna.elementi=b.elementi;
        ++b;
        if(b.DajBrojCijenaVecihOd(b.maksimalna_cijena)&gt;0 || b.elementi.size()-b.DajBrojCijenaVecihOd(b.minimalna_cijena)&gt;0)
        throw std::domain_error("Prekoracen dozvoljeni opseg cijena");
        return pomocna;
    }
    Berza &amp;operator--(Berza &amp;b){
        b=b-1;
        if(b.DajBrojCijenaVecihOd(b.maksimalna_cijena)&gt;0 || b.elementi.size()-b.DajBrojCijenaVecihOd(b.minimalna_cijena)&gt;0)
        throw std::domain_error("Prekoracen dozvoljeni opseg cijena");
        return b;
    }
    Berza operator--(Berza &amp;b, int){
        Berza pomocna(b.minimalna_cijena, b.maksimalna_cijena);
        pomocna.elementi=b.elementi;
        --b;
        if(b.DajBrojCijenaVecihOd(b.maksimalna_cijena)&gt;0 || b.elementi.size()-b.DajBrojCijenaVecihOd(b.minimalna_cijena)&gt;0)
        throw std::domain_error("Prekoracen dozvoljeni opseg cijena");
        return pomocna;
    }
int main ()
{
	return 0;
}
</pre>
</body>
</html>
