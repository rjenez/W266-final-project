<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z5/Z6/student6900.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z5/Z6/student6900.cpp<p></p><pre>
#include &lt;iostream&gt;
#include &lt;stdexcept&gt;
#include &lt;vector&gt;
#include &lt;algorithm&gt;
#include &lt;functional&gt;
#include &lt;iomanip&gt;

class Berza
{
    std::vector&lt;int&gt; uk_cijene;
    int min_cijena, max_cijena;
public:
    Berza (int min, int max) {
        if (min&lt;0 || max&lt;0)
            throw std::range_error("Ilegalne granice cijene");
        min_cijena=min;
        max_cijena=max;
    }
    explicit Berza(int max) {
        if (max&lt;0)
            throw std::range_error("Ilegalne granice cijene");
        min_cijena=0;
        max_cijena=max;
    }
    Berza&amp; RegistrirajCijenu(int cijena) {
        if (cijena&lt;min_cijena || cijena&gt;max_cijena)
            throw std::range_error("Ilegalna cijena");
        uk_cijene.push_back(cijena);
        return *this;
    }
<a name="0"></a><font color="#FF0000"><a href="match347-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_4.gif"/></a>

    int DajBrojRegistriranihCijena() const {
        return uk_cijene.size();
    }
    void BrisiSve() {
        uk_cijene.resize(0);
    }
    int DajMinimalnuCijenu() const {
        if (!uk_cijene.size())
            throw std::range_error("Nema registriranih cijena");
        return *std::min_element(uk_cijene.begin(), uk_cijene.end());
    }
    int DajMaksimalnuCijenu() const {
        if (!uk_cijene.size())
            throw std::range_error("Nema registriranih cijena");
        return *std::max_element(uk_cijene.begin(), uk_cijene.end());
    }
    bool operator !() {
</font>        return !uk_cijene.size();
        return false;
    }
<a name="1"></a><font color="#00FF00"><a href="match347-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_3.gif"/></a>

    int DajBrojCijenaVecihOd(int c) const {
        if (!uk_cijene.size())
            throw std::range_error("Nema registriranih cijena");
        return std::count_if(uk_cijene.begin(), uk_cijene.end(), std::bind(std::less&lt;int&gt;(), c, std::placeholders::_1));
    }
    void Ispisi() const {
</font>        std::vector&lt;int&gt; kopija = uk_cijene;
        std::sort(kopija.begin(), kopija.end(), std::greater&lt;int&gt;());
        for (auto i : kopija)
            std::cout &lt;&lt; std::setprecision(2) &lt;&lt; std::fixed &lt;&lt; i/100. &lt;&lt; std::endl;
    }
<a name="5"></a><font color="#FF0000"><a href="match347-1.html#5" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_1.gif"/></a>

    int operator [](int indeks) const {
        if (indeks&lt;1 || indeks&gt;uk_cijene.size())
            throw std::range_error("Neispravan indeks");
        return uk_cijene[indeks-1];
</font>    }
    Berza&amp; operator++();
    Berza&amp; operator--();
    Berza operator++(int);
    Berza operator--(int);
    Berza operator -();

    friend Berza operator +(const Berza &amp;b, int broj);
    friend Berza operator -(const Berza &amp;b, int broj);
    friend Berza operator +(int broj, const Berza &amp;b);
    friend Berza operator -(int broj, const Berza &amp;b);
    friend Berza operator -(const Berza &amp;b1, const Berza &amp;b2);

    Berza&amp; operator +=(int broj) {
        return *this = *this + broj;
    }
    Berza&amp; operator -=(int broj) {
        return *this = *this - broj;
    }
    Berza operator -=(const Berza &amp;b) {
        return *this = *this - b;
    }

    friend bool operator ==(const Berza &amp;b1, const Berza &amp;b2);
    friend bool operator !=(const Berza &amp;b1, const Berza &amp;b2);
};

Berza&amp; Berza::operator++()
{
    if (DajMaksimalnuCijenu()+1&gt;max_cijena)
<a name="2"></a><font color="#0000FF"><a href="match347-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_2.gif"/></a>

        throw std::range_error("Prekoracen dozvoljeni opseg cijena");
    std::transform(uk_cijene.begin(), uk_cijene.end(), uk_cijene.begin(), std::bind(std::plus&lt;int&gt;(), std::placeholders::_1, 1));
</font>    return *this;
}

Berza&amp; Berza::operator--()
{
    if (DajMinimalnuCijenu()-1&lt;min_cijena)
<a name="3"></a><font color="#00FFFF"><a href="match347-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_2.gif"/></a>

        throw std::range_error("Prekoracen dozvoljeni opseg cijena");
    std::transform(uk_cijene.begin(), uk_cijene.end(), uk_cijene.begin(), std::bind(std::plus&lt;int&gt;(), std::placeholders::_1, -1));
</font>    return *this;
}

Berza Berza::operator++(int)
{
    if (DajMaksimalnuCijenu()+1&gt;max_cijena)
        throw std::range_error("Prekoracen dozvoljeni opseg cijena");
    Berza kopija(min_cijena, max_cijena);
    kopija.uk_cijene.resize(uk_cijene.size());
    std::copy(uk_cijene.begin(), uk_cijene.end(), kopija.uk_cijene.begin());
    std::transform(uk_cijene.begin(), uk_cijene.end(), uk_cijene.begin(), std::bind(std::plus&lt;int&gt;(), std::placeholders::_1, 1));
    return kopija;
}

Berza Berza::operator--(int)
{
    if (DajMinimalnuCijenu()-1&lt;min_cijena)
        throw std::range_error("Prekoracen dozvoljeni opseg cijena");
    Berza kopija(min_cijena, max_cijena);
    kopija.uk_cijene.resize(uk_cijene.size());
    std::copy(uk_cijene.begin(), uk_cijene.end(), kopija.uk_cijene.begin());
    std::transform(uk_cijene.begin(), uk_cijene.end(), uk_cijene.begin(), std::bind(std::plus&lt;int&gt;(), std::placeholders::_1, -1));
    return kopija;
}

Berza Berza::operator -()
{
    int zbir(min_cijena+max_cijena);
    Berza kopija(min_cijena, max_cijena);
    kopija.uk_cijene.resize(uk_cijene.size());
<a name="6"></a><font color="#00FF00"><a href="match347-1.html#6" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_1.gif"/></a>

    std::transform(uk_cijene.begin(), uk_cijene.end(), kopija.uk_cijene.begin(), std::bind(std::minus&lt;int&gt;(), zbir, std::placeholders::_1));
    return kopija;
}

bool operator ==(const Berza &amp;b1, const Berza &amp;b2)
</font>{
    if (b1.uk_cijene.size()!=b2.uk_cijene.size())
        return false;
    return std::equal(b1.uk_cijene.begin(), b1.uk_cijene.end(), b2.uk_cijene.begin());
}

bool operator !=(const Berza &amp;b1, const Berza &amp;b2)
{
    return !(b1==b2);
}

Berza operator +(const Berza &amp;b, int broj)
{
    if (b.DajMaksimalnuCijenu()+broj&gt;b.max_cijena)
        throw std::domain_error("Prekoracen dozvoljeni opseg cijena");
    Berza kopija(b.min_cijena, b.max_cijena);
    kopija.uk_cijene.resize(b.uk_cijene.size());
    std::transform(b.uk_cijene.begin(), b.uk_cijene.end(), kopija.uk_cijene.begin(), std::bind(std::plus&lt;int&gt;(), std::placeholders::_1, broj));
    return kopija;
}

Berza operator -(const Berza &amp;b, int broj)
{
    if (b.DajMinimalnuCijenu()-broj&lt;b.min_cijena)
        throw std::domain_error("Prekoracen dozvoljeni opseg cijena");
    Berza kopija(b.min_cijena, b.max_cijena);
    kopija.uk_cijene.resize(b.uk_cijene.size());
<a name="4"></a><font color="#FF00FF"><a href="match347-1.html#4" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_2.gif"/></a>

    std::transform(b.uk_cijene.begin(), b.uk_cijene.end(), kopija.uk_cijene.begin(), std::bind(std::minus&lt;int&gt;(), std::placeholders::_1, broj));
    return kopija;
}

Berza operator +(int broj, const Berza &amp;b)
</font>{
    return b + broj;
}

Berza operator -(int broj, const Berza &amp;b)
{
    if (broj-b.DajMaksimalnuCijenu()&lt;b.min_cijena || broj-b.DajMinimalnuCijenu()&gt;b.max_cijena)
        throw std::domain_error("Prekoracen dozvoljeni opseg cijena");
    Berza kopija(b.min_cijena, b.max_cijena);
    kopija.uk_cijene.resize(b.uk_cijene.size());
<a name="7"></a><font color="#0000FF"><a href="match347-1.html#7" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_1.gif"/></a>

    std::transform(b.uk_cijene.begin(), b.uk_cijene.end(), kopija.uk_cijene.begin(), std::bind(std::minus&lt;int&gt;(), broj, std::placeholders::_1));
    return kopija;
}

Berza operator -(const Berza &amp;b1, const Berza &amp;b2)
</font>{
    if (b1.DajBrojRegistriranihCijena()!=b2.DajBrojRegistriranihCijena() || b1.min_cijena!=b2.min_cijena || b1.max_cijena!=b2.max_cijena)
        throw std::domain_error("Nesaglasni operandi");
    Berza kopija(b1.min_cijena, b1.max_cijena);
    kopija.uk_cijene.resize(b1.uk_cijene.size());
    std::copy(b1.uk_cijene.begin(), b1.uk_cijene.end(), kopija.uk_cijene.begin());
    std::transform(kopija.uk_cijene.begin(), kopija.uk_cijene.end(), b2.uk_cijene.begin(), kopija.uk_cijene.begin(), std::minus&lt;int&gt;());
    if (*std::min_element(kopija.uk_cijene.begin(), kopija.uk_cijene.end())&lt;kopija.min_cijena || *std::max_element(kopija.uk_cijene.begin(), kopija.uk_cijene.end())&gt;kopija.max_cijena)
        throw std::domain_error("Prekoracen dozvoljeni opseg cijena");
    return kopija;
}

int main ()
{
    Berza b(50000);
    b.RegistrirajCijenu(100).RegistrirajCijenu(200).RegistrirajCijenu(500).RegistrirajCijenu(10000);
    Berza b2(50000);
    b2.RegistrirajCijenu(101).RegistrirajCijenu(300).RegistrirajCijenu(500).RegistrirajCijenu(20000);
    b.Ispisi();
    (b2-b).Ispisi();
    return 0;
}
</pre>
</body>
</html>
