<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z5/Z6/student7341.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z5/Z6/student2208.cpp<p></p><pre>
<a name="0"></a><font color="#FF0000"><a href="match43-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_99.gif"/></a>

/B2017/2018: ZadaÄ‡a 5, Zadatak 6
#include &lt;iostream&gt;
#include &lt;stdexcept&gt;
#include &lt;vector&gt;
#include &lt;algorithm&gt;
#include &lt;functional&gt;
#include &lt;iomanip&gt;

class Berza {
    int maksimalna_cijena, minimalna_cijena;
    std::vector&lt;int&gt; cijene;
    void FunkcijaSortiranja () {
        std::sort(cijene.begin(), cijene.end(), std::bind(std::greater&lt;int&gt;(), std::placeholders::_1, std::placeholders::_2));
    }

public:
  
Berza(int minimalna, int maksimalna) {
    if (maksimalna &lt; 0 || minimalna &lt; 0) throw std::range_error ("Ilegalne granicne cijene");
    maksimalna_cijena = maksimalna;
    minimalna_cijena = minimalna;
}

Berza(int maksimalna):minimalna_cijena(0) {
    if (maksimalna &lt; 0) throw std::range_error ("Ilegalne granicne cijene");
    maksimalna_cijena = maksimalna;
}

void RegistrirajCijenu(int unesena_cijena) {
    if (unesena_cijena &gt; maksimalna_cijena || unesena_cijena &lt; minimalna_cijena) throw std::range_error ("Ilegalna cijena");
    cijene.push_back(unesena_cijena);
    FunkcijaSortiranja();
}

int DajBrojRegistriranihCijena() {
    return cijene.size();
}

void BrisiSve () {
    for (int i(0); i&lt;cijene.size(); i++) {
        cijene[i] = 0;
    }
    cijene.resize(0);
}

int DajMinimalnuCijenu() {
    if (cijene.size() == 0) throw std::range_error ("Nema registriranih cijena");
    int najmanja = *min_element (cijene.begin(), cijene.end(), [=] (int c1, int c2) {
        return c1 &lt; c2;
    });
    return najmanja;
}

int DajMaksimalnuCijenu() {
    if (cijene.size() == 0) throw std::range_error ("Nema registriranih cijena");
    int najveca = *max_element (cijene.begin(), cijene.end(), [=] (int c1, int c2){
        return c1 &lt; c2;
    });
    return najveca;
}

bool operator !() {
    if (cijene.size() == 0) return true;
    return false;
}

int DajBrojCijenaVecihOd(int cijena_od_koje_treba_biti_vece) {
    
    if (cijene.size()==0) throw std::range_error ("Nema registriranih cijena");
    int broj;
    broj = std::count_if(cijene.begin(), cijene.end(), std::bind(std::equal_to&lt;int&gt;(), 1, std::placeholders::_1));
    return broj;
}

void Ispisi() const {
    std::for_each(cijene.begin(), cijene.end(), [=] (int c) {
        std::cout &lt;&lt; std::fixed &lt;&lt; std::setprecision(2) &lt;&lt; c / 100. &lt;&lt; std::endl;
    });
}

int operator [] (int indeks_broja_koji_nas_interesuje) {
    if (indeks_broja_koji_nas_interesuje &gt; cijene.size()) throw std::range_error ("Neispravan indeks");
    return cijene[indeks_broja_koji_nas_interesuje - 1];
}

Berza operator ++() {
    transform(cijene.begin(), cijene.end(), cijene.begin(), std::bind(std::plus&lt;int&gt;(), 100/*ovo je vrijednost koji dodajemo, 100 je zbog toga sto je u feninzima*/, std::placeholders::_1));
    int broj;
    broj = std::count_if(cijene.begin(), cijene.end(), std::bind(std::greater&lt;int&gt;(), std::placeholders::_1, maksimalna_cijena));
    if (broj &gt; 0) throw std::range_error ("Prekoracen dozvoljen opseg cijena");
    return *this;
}

Berza operator --(){
    transform (cijene.begin(), cijene.end(),cijene.begin(), std::bind(std::minus&lt;int&gt; (), std::placeholders::_1, 100));
    int broj;
    broj = std::count_if(cijene.begin(), cijene.end(), std::bind(std::less&lt;int&gt;(), std::placeholders::_1, minimalna_cijena));
    if (broj &gt; 0) throw std::range_error ("Prekoracen dozvoljen opseg cijena");
    return *this;
}

Berza operator -(){
    std::transform(cijene.begin(), cijene.end(), cijene.begin(), std::bind(std::minus&lt;int&gt;(), minimalna_cijena+maksimalna_cijena, std::placeholders::_1));
    int broj3, broj4;
    broj3 = std::count_if(this-&gt;cijene.begin(), this-&gt;cijene.end(), std::bind(std::less&lt;int&gt;(), std::placeholders::_1, minimalna_cijena));
    broj4 = std::count_if(this-&gt;cijene.begin(), this-&gt;cijene.end(), std::bind(std::greater&lt;int&gt;(), std::placeholders::_1, maksimalna_cijena));
    if (broj3 &gt; 0 || broj4 &gt; 0) ;
    return *this;
}

bool operator ==(Berza b){
    int broj1,broj2,broj3,broj4;
    if (b.cijene.size() != this-&gt;cijene.size()) return false;
    else {
        broj1 = std::count_if(b.cijene.begin(), b.cijene.end(), std::bind(std::less&lt;int&gt;(), std::placeholders::_1, b.minimalna_cijena));//provjeriti ovdje kako ukljuciti b1 i b2 u pricu
        broj2 = std::count_if(b.cijene.begin(), b.cijene.end(), std::bind(std::greater&lt;int&gt;(), std::placeholders::_1, b.maksimalna_cijena));
        broj3 = std::count_if(this-&gt;cijene.begin(), this-&gt;cijene.end(), std::bind(std::less&lt;int&gt;(), std::placeholders::_1, minimalna_cijena));
        broj4 = std::count_if(this-&gt;cijene.begin(), this-&gt;cijene.end(), std::bind(std::greater&lt;int&gt;(), std::placeholders::_1, maksimalna_cijena));
        if(broj1 &gt; 0 || broj2 &gt; 0 || broj3 &gt; 0 || broj4 &gt; 0) return false;
        auto it1 = b.cijene.begin();
        auto it2 = this-&gt;cijene.begin();
        int brojac = std::count_if(this-&gt;cijene.begin(), this-&gt;cijene.end(), std::bind(std::equal_to&lt;int&gt;(), *it1++, *it2++));
        if (brojac != this-&gt;cijene.size()) return false;
        return true;
    }
}

bool operator !=(Berza b) {
    int broj1,broj2,broj3,broj4;
    if (b.cijene.size() == this-&gt;cijene.size()) return false;
    else {
        broj1 = std::count_if(b.cijene.begin(), b.cijene.end(), std::bind(std::less&lt;int&gt;(), std::placeholders::_1, b.minimalna_cijena));//provjeriti ovdje kako ukljuciti b1 i b2 u pricu
        broj2 = std::count_if(b.cijene.begin(), b.cijene.end(), std::bind(std::greater&lt;int&gt;(), std::placeholders::_1, b.maksimalna_cijena));
        broj3 = std::count_if(this-&gt;cijene.begin(), this-&gt;cijene.end(), std::bind(std::less&lt;int&gt;(), std::placeholders::_1, minimalna_cijena));
        broj4 = std::count_if(this-&gt;cijene.begin(), this-&gt;cijene.end(), std::bind(std::greater&lt;int&gt;(), std::placeholders::_1, maksimalna_cijena));
        if(broj1 &gt; 0 || broj2 &gt; 0 || broj3 &gt; 0 || broj4 &gt; 0) return false;
        auto it1 = b.cijene.begin();
        auto it2 = this-&gt;cijene.begin();
        int brojac = std::count_if(this-&gt;cijene.begin(), this-&gt;cijene.end(), std::bind(std::not_equal_to&lt;int&gt;(), *it1++, *it2++));
        if (brojac != this-&gt;cijene.size()) return false;
        return true;
        
    }
}
friend Berza operator +(int y, Berza b);
friend Berza operator +(Berza b, int y);
friend Berza operator -(Berza b, int y);
friend Berza operator -(Berza b1, Berza b2);
};

Berza operator +(int y, Berza b) {
    std::transform(b.cijene.begin(), b.cijene.end(), b.cijene.begin(), std::bind(std::plus&lt;int&gt;(),  y, std::placeholders::_1));
        int  broj3, broj4;
        broj3 = std::count_if(b.cijene.begin(), b.cijene.end(), std::bind(std::less&lt;int&gt;(), std::placeholders::_1, b.minimalna_cijena));
        broj4 = std::count_if(b.cijene.begin(), b.cijene.end(), std::bind(std::greater&lt;int&gt;(), std::placeholders::_1,b.maksimalna_cijena));
        if( broj3 &gt; 0 || broj4 &gt; 0) throw std::domain_error("Prekoracen dozvoljeni opseg cijena");
    return b;
}

Berza operator +(Berza b, int y) {
    return y+b;
}

Berza operator - (Berza b, int y) {
    std::transform(b.cijene.begin(), b.cijene.end(), b.cijene.begin(), std::bind(std::minus&lt;int&gt;(), std::placeholders::_1, y));
        int  broj3, broj4;
        broj3 = std::count_if(b.cijene.begin(), b.cijene.end(), std::bind(std::less&lt;int&gt;(), std::placeholders::_1, b.minimalna_cijena));
        broj4 = std::count_if(b.cijene.begin(), b.cijene.end(), std::bind(std::greater&lt;int&gt;(), std::placeholders::_1, b.maksimalna_cijena));
        if( broj3 &gt; 0 || broj4 &gt; 0) throw std::domain_error ("Prekoracen dozvoljeni opseg cijena");
        
    return b;
}

Berza operator -(Berza b1, Berza b2) {
    if (b1.cijene.size() != b2.cijene.size() || b1.maksimalna_cijena != b2.maksimalna_cijena || b1.minimalna_cijena != b2.minimalna_cijena) throw std::domain_error ("Nesaglasni operandi");
    auto it1 = b1.cijene.begin();
    auto it2 = b2.cijene.begin();
    Berza konacno = Berza(b1.minimalna_cijena, b2.maksimalna_cijena);
    konacno.cijene.resize(b1.cijene.size());
    int broj3, broj4;
    std::transform(b1.cijene.begin(), b2.cijene.end(),konacno.cijene.begin(),std::bind(std::minus&lt;int&gt;(), *it1++, *it2++));
    broj3 = std::count_if(konacno.cijene.begin(), konacno.cijene.end(), std::bind(std::less&lt;int&gt;(), std::placeholders::_1, konacno.minimalna_cijena));
    broj4 = std::count_if(konacno.cijene.begin(), konacno.cijene.end(), std::bind(std::greater&lt;int&gt;(), std::placeholders::_1, konacno.maksimalna_cijena));
    if( broj3 &gt; 0 || broj4 &gt; 0) throw std::domain_error ("Prekoracen dozvoljeni opseg cijena");
        
return konacno;
    
}

int main ()
</font>{   /*Berza b1 = Berza(1000,4000);
    b1.RegistrirajCijenu(3000);
    b1.RegistrirajCijenu(1500);
    b1.Ispisi();
    --b1;
    b1.Ispisi();
    b1=b1+1;
    b1=1+b1;
    b1=b1-5;
    b1.Ispisi();
    -b1;
    b1.Ispisi();
    std::cout &lt;&lt; "Minimalna cijena: " &lt;&lt; b1.DajMinimalnuCijenu() &lt;&lt; std::endl;
    std::cout &lt;&lt; "Maksimalna cijena: " &lt;&lt; b1.DajMaksimalnuCijenu();*/
	return 0;
}
</pre>
</body>
</html>
