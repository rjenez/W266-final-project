<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z5/Z6/student1581.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z5/Z6/student1581.cpp<p></p><pre>
/B2017/2018: ZadaÄ‡a 5, Zadatak 6
#include &lt;iostream&gt;
#include &lt;vector&gt;
#include &lt;stdexcept&gt;
#include &lt;algorithm&gt;
#include &lt;functional&gt;
#include &lt;iomanip&gt;

using std::vector;

class Berza{
    vector&lt;int&gt; cijene;
    int min, max;
    
    void Overflow(int change){
        if( (change &gt;= 0 &amp;&amp; (DajMaksimalnuCijenu() + change &gt; max)) || (change &lt;= 0 &amp;&amp; (DajMinimalnuCijenu() + change &lt; min)) )
            throw std::range_error("Prekoracen dozvoljeni opseg cijena");
    }
public:
    Berza(int min, int max);
    explicit Berza(int max);
    
    void RegistrirajCijenu(int cijena);
    int DajBrojRegistriranihCijena() const { return cijene.size(); }
    void BrisiSve() { cijene.clear(); }
    int DajMinimalnuCijenu() const;
    int DajMaksimalnuCijenu() const;
    bool operator !() const { return cijene.empty(); }
    int DajBrojCijenaVecihOd(int cijena) const;
    void Ispisi() const;
    
    int&amp;&amp; operator [](int i);
    Berza&amp; operator ++ ();
    Berza operator ++ (int temp);
    Berza&amp; operator -- ();
    Berza operator -- (int temp);
    Berza operator -();
    Berza&amp; operator +=(int i);
    Berza&amp; operator -=(int i);
    Berza&amp; operator -=(Berza&amp; b);
    bool operator ==(const Berza&amp; b);
    bool operator !=(const Berza&amp; b);
    friend Berza operator -(Berza b1, Berza&amp; b2);
    Berza operator +(int i);
    Berza operator -(int i);
    friend Berza operator +(int i, Berza&amp; b);
    friend Berza operator -(int i, Berza&amp; b);
};

<a name="3"></a><font color="#00FFFF"><a href="match693-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_2.gif"/></a>

Berza::Berza(int min, int max) : min(min), max(max) {
    if(min &lt; 0 || max &lt; 0)
        throw std::range_error("Ilegalne granice cijene");
}

Berza::Berza(int max) : min(0), max(max) {
</font>    if(max &lt; 0)
        throw std::range_error("Ilegalne granice cijene");
}

void Berza::RegistrirajCijenu(int cijena){
    if(cijena &lt; min || cijena &gt; max)
        throw std::range_error("Ilegalna cijena");
    
    cijene.push_back(cijena);
}

int Berza::DajMinimalnuCijenu() const {
    if(cijene.empty())
        throw std::range_error("Nema registriranih cijena");
    return *std::min_element(cijene.begin(), cijene.end());
}

int Berza::DajMaksimalnuCijenu() const {
    if(cijene.empty())
        throw std::range_error("Nema registriranih cijena");
    return *std::max_element(cijene.begin(), cijene.end());
}

int Berza::DajBrojCijenaVecihOd(int cijena) const {
<a name="4"></a><font color="#FF00FF"><a href="match693-1.html#4" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_2.gif"/></a>

    if(cijene.empty())
        throw std::range_error("Nema registriranih cijena");
    
    return std::count_if(cijene.begin(), cijene.end(), std::bind(std::greater&lt;int&gt;(), std::placeholders::_1, cijena));
</font>}

void Berza::Ispisi() const {
    vector&lt;int&gt; temp = cijene;
    
    std::sort(temp.begin(), temp.end(), std::greater&lt;int&gt;());
    
    for(int i = 0; i &lt; temp.size(); i++)
        std::cout &lt;&lt; std::fixed &lt;&lt; std::setprecision(2) &lt;&lt; temp[i]/100. &lt;&lt; std::endl;
}

int&amp;&amp; Berza::operator [](int i){
    if(i &lt;= 0 || i &gt; DajBrojRegistriranihCijena())
        throw std::range_error("Neispravan indeks");
    return std::move(cijene[i-1]);
}

Berza&amp; Berza::operator ++ (){
    Overflow(100);
<a name="1"></a><font color="#00FF00"><a href="match693-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_2.gif"/></a>

    std::transform(cijene.begin(), cijene.end(), cijene.begin(), std::bind(std::plus&lt;int&gt;(), std::placeholders::_1, 100));
    return *this;
}

Berza Berza::operator ++ (int i){
</font>    Overflow(100);
    Berza temp(*this);
<a name="2"></a><font color="#0000FF"><a href="match693-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_2.gif"/></a>

    std::transform(cijene.begin(), cijene.end(), cijene.begin(), std::bind(std::plus&lt;int&gt;(), std::placeholders::_1, 100));
    return temp;
}

Berza&amp; Berza::operator -- (){
</font>    Overflow(-100);
    std::transform(cijene.begin(), cijene.end(), cijene.begin(), std::bind(std::plus&lt;int&gt;(), std::placeholders::_1, -100));
    return *this;
}

Berza Berza::operator -- (int i){
    Overflow(-100);
    Berza temp(*this);
    std::transform(cijene.begin(), cijene.end(), cijene.begin(), std::bind(std::plus&lt;int&gt;(), std::placeholders::_1, -100));
    return temp;
}

Berza Berza::operator -(){
    Berza temp(*this);
    std::transform(temp.cijene.begin(), temp.cijene.end(), temp.cijene.begin(), std::bind(std::minus&lt;int&gt;(), max+min, std::placeholders::_1 ));
    return temp;
}

Berza&amp; Berza::operator +=(int i){
    Overflow(i);
<a name="0"></a><font color="#FF0000"><a href="match693-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_2.gif"/></a>

    std::transform(cijene.begin(), cijene.end(), cijene.begin(), std::bind(std::plus&lt;int&gt;(), std::placeholders::_1, i));
    return *this;
}

Berza&amp; Berza::operator -=(int i){
</font>    Overflow(-i);
    std::transform(cijene.begin(), cijene.end(), cijene.begin(), std::bind(std::plus&lt;int&gt;(), std::placeholders::_1, -i));
    return *this;
}

Berza&amp; Berza::operator -=(Berza&amp; b){
    if(*this != b)
<a name="5"></a><font color="#FF0000"><a href="match693-1.html#5" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_2.gif"/></a>

        throw std::domain_error("Nesaglasni operandi");
    
    std::transform(cijene.begin(), cijene.end(), b.cijene.begin(), cijene.begin(), std::minus&lt;int&gt;());
</font>    
    Overflow(0);
    return *this;
}

Berza operator -(Berza b1, Berza&amp; b2){
    return b1-=b2;
}

bool Berza::operator ==(const Berza&amp; b){
    return cijene == b.cijene;
}

bool Berza::operator !=(const Berza&amp; b){
    return !(*this == b);
}

Berza Berza::operator +(int i){
    return (*this) += i;
}

Berza Berza::operator -(int i){
    return (*this) -= i;
}

Berza operator +(int i, Berza&amp; b){
    Berza temp(b);
    std::transform(b.cijene.begin(), b.cijene.end(), temp.cijene.begin(), std::bind(std::plus&lt;int&gt;(), i, std::placeholders::_1 ));
    temp.Overflow(0);
    return temp;
}

Berza operator -(int i, Berza&amp; b){
    Berza temp(b);
    std::transform(b.cijene.begin(), b.cijene.end(), temp.cijene.begin(), std::bind(std::minus&lt;int&gt;(), i, std::placeholders::_1 ));
    temp.Overflow(0);
    return temp;
}


int main () {
    
    Berza berza1(1000);
<a name="6"></a><font color="#00FF00"><a href="match693-1.html#6" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_2.gif"/></a>

    Berza berza2(1000);
    
    berza1.RegistrirajCijenu(100);
    berza1.RegistrirajCijenu(75);
    berza1.RegistrirajCijenu(10);
    berza1.RegistrirajCijenu(45);
    berza1.RegistrirajCijenu(30);
    
    berza2.RegistrirajCijenu(120);
</font>    berza2.RegistrirajCijenu(80);
    berza2.RegistrirajCijenu(20);
    berza2.RegistrirajCijenu(64);
    berza2.RegistrirajCijenu(37);
    
    try{
        berza1.Ispisi();
        std::cout &lt;&lt; std::endl;
        berza2.Ispisi();
        std::cout &lt;&lt; std::endl;
        
        berza2 = -berza1;
        berza2.Ispisi();
        
    }catch(std::exception &amp;err){
        std::cout &lt;&lt; "Izuzetak: " &lt;&lt; err.what();
        return 0;
    }
    
    
	return 0;
}
</pre>
</body>
</html>
