<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z5/Z6/student8416.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z5/Z6/student8416.cpp<p></p><pre>
<a name="0"></a><font color="#FF0000"><a href="match129-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_99.gif"/></a>

/B2017/2018: ZadaÄ‡a 5, Zadatak 6
#include &lt;iostream&gt;
#include &lt;vector&gt;
#include &lt;stdexcept&gt;
#include &lt;algorithm&gt;
#include &lt;functional&gt;
#include &lt;iomanip&gt;
class Berza{
    std::vector&lt;double&gt; cijene;
    int min, max;
    void Test(const double &amp;a){
       try{
       if(a&lt;min || a&gt;max) throw std::range_error("Prekoracen dozvoljeni opseg cijena");
       }catch(std::range_error e){
           throw;
       }
   }
   void Testiraj(const double &amp;a){
       try{
       if(a&lt;min || a&gt;max) throw std::domain_error("Prekoracen dozvoljeni opseg cijena");
       }catch(std::range_error e){
           throw;
       }
   }
   public:
   Berza(int min, int max): min(min), max(max){
       try{
           if(min&lt;0 || max&lt;0) throw std::range_error("Ilegalne granicne cijene");
       }catch(std::range_error e){
           throw;
       }
   }
   explicit Berza(int max):min(0), max(max){
       try{
           if(max&lt;0) throw std::range_error("Ilegalne granicne cijene");
       }catch(std::range_error e){
           throw;
       }
   }
   void RegistrirajCijenu(int cijena){
       try {
           if(cijena&lt;min || cijena&gt;max) throw std::range_error("Ilegalna cijena");
           cijene.push_back(cijena);
       }
       catch (std::range_error e) {
           throw;
       }
   }
   int DajBrojRegistriranihCijena()const{return cijene.size();}
   void BrisiSve(){cijene.resize(0);}
   int DajMinimalnuCijenu()const{
       try{
           if(cijene.size()==0) throw std::range_error("Nema registriranih cijena");
       return *std::min_element(cijene.begin(), cijene.end());
       }catch(std::range_error e){
           throw;
       }
   }
   int DajMaksimalnuCijenu()const{
       try{
           if(cijene.size()==0) throw std::range_error("Nema registriranih cijena");
       return *std::max_element(cijene.begin(), cijene.end());
       }catch(std::range_error e){
           throw;
       }
   }
   bool operator!(){
       if(cijene.size()==0) return true;
       else return false;
   }
   int DajBrojCijenaVecihOd(int broj){
       try {
           if(cijene.size()==0) throw std::range_error("Nema registriranih cijena");
           return std::count_if(cijene.begin(), cijene.end(), std::bind(std::less&lt;double&gt;(), broj, std::placeholders::_1));
       }
       catch (std::range_error e) {
           throw;
       }
       
   }
   void Ispisi(){
       std::sort(cijene.begin(), cijene.end(), std::greater&lt;int&gt;());
       std::transform(cijene.begin(), cijene.end(), cijene.begin(), std::bind(std::multiplies&lt;double&gt;(), (0.01), std::placeholders::_1));
       for(int i=0; i&lt;cijene.size(); i++){
           std::cout&lt;&lt;std::fixed&lt;&lt;std::setprecision(2)&lt;&lt;cijene.at(i)&lt;&lt;std::endl;
       }
   }
   double operator [](int indeks)const{
       try {
           if(indeks&lt;1 || indeks&gt;cijene.size()) throw std::range_error("Neispravan indeks");
           return cijene.at(indeks-1);
       }
       catch (std::range_error e) {
           throw;
       }
   }
   double operator [](int indeks){
       try {
           if(indeks&lt;1 || indeks&gt;cijene.size()) throw std::range_error("Neispravan indeks");
           return cijene.at(indeks-1);
       }
       catch (std::range_error e) {
           throw;
       }
   }
   Berza &amp;operator++(){
       try{
       std::transform(cijene.begin(), cijene.end(), cijene.begin(), std::bind(std::plus&lt;double&gt;(),std::placeholders::_1,100));
       std::for_each(cijene.begin(), cijene.end(), [this](double a){Test(a);});
       return *this;
       }catch(std::range_error e){
           throw;
       }
   }
   Berza operator ++(int a){
       Berza pomocni(*this);
       ++(*this);
       return pomocni;
   }
   Berza &amp;operator--(){
       std::transform(cijene.begin(), cijene.end(), cijene.begin(), std::bind(std::minus&lt;double&gt;(),std::placeholders::_1,100));
       std::for_each(cijene.begin(), cijene.end(), [this](double a){Test(a);});
       return *this;
   }
   Berza operator --(int a){
       Berza pomocni(*this);
       --(*this);
       return pomocni;
   }
   Berza operator-(){
       Berza pomocni(*this), novi(*this);
       std::transform(cijene.begin(), cijene.end(), cijene.begin(), std::bind(std::minus&lt;double&gt;(), (min+max), std::placeholders::_1));
       novi=*this;
       *this=pomocni;
       return novi;
   }
   Berza operator +(int b){
       try{
       Berza pomocni(*this), novi(*this);
       std::transform(cijene.begin(), cijene.end(), cijene.begin(), std::bind(std::plus&lt;double&gt;(), std::placeholders::_1, b));
       std::for_each(cijene.begin(), cijene.end(), [this](double a){Testiraj(a);});
       novi=*this;
       *this=pomocni;
       return novi;
       }catch(std::range_error e){
           throw;
       }
   }
   Berza operator+(const Berza &amp;b){
       try{
          // if(cijene.size()!=b.(cijene.begin())) throw std::domain_error("Nesaglasni operandi");
          
       Berza pomocna(*this), nova(*this);
       for(int i=0; i&lt;cijene.size(); i++){
       std::transform(cijene.begin(), cijene.end(), cijene.begin(), std::bind(std::plus&lt;double&gt;(), std::placeholders::_1, cijene.at(i)));
       nova=*this;
       *this=pomocna;
       return nova;
       }
   }catch(std::domain_error e){
       throw;
   }
   }
   Berza operator -(int b){
       try{
       Berza pomocni(*this), novi(*this);
       std::transform(cijene.begin(), cijene.end(), cijene.begin(), std::bind(std::minus&lt;double&gt;(), std::placeholders::_1, b));
       std::for_each(cijene.begin(), cijene.end(), [this](double a){Testiraj(a);});
       novi=*this;
       *this=pomocni;
       return novi;
       }catch(std::range_error e){
           throw;
       }
   }
   bool operator==()
};


int main ()
{
    try{
    Berza b1 = Berza(1000,4000);
    b1.RegistrirajCijenu(1000);
    b1.RegistrirajCijenu(1500);
    b1.RegistrirajCijenu(2000);
    std::cout &lt;&lt; "Broj registrovanih cijena: " &lt;&lt; b1.DajBrojRegistriranihCijena() &lt;&lt; std::endl;
    std::cout &lt;&lt; "Broj vecih od: "&lt;&lt;b1.DajBrojCijenaVecihOd(1600)&lt;&lt;std::endl;
    std::cout &lt;&lt;"1. clan je: "&lt;&lt;b1[1]&lt;&lt;std::endl;
    b1++;
    b1++;
    b1--;
    b1--;
    Berza a=(-b1);
    a.Ispisi();
    Berza c=b1+1;
    std::cout&lt;&lt;"Uvecan: "&lt;&lt;b1[1]&lt;&lt;std::endl;
    b1.Ispisi();
    b1.BrisiSve();
    std::cout &lt;&lt; "Broj registrovanih cijena: " &lt;&lt; b1.DajBrojRegistriranihCijena();
    }catch(std::range_error e){
        std::cout&lt;&lt;e.what();
    }catch(std::domain_error e){
        std::cout&lt;&lt;e.what();
</font>    }
    
	return 0;
}
</pre>
</body>
</html>
