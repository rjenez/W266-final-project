<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z5/Z6/student6363.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z5/Z6/student6363.cpp<p></p><pre>
#include &lt;iostream&gt;
#include &lt;iomanip&gt;
#include &lt;vector&gt;
#include &lt;functional&gt;
#include &lt;algorithm&gt;
#include &lt;stdexcept&gt;
#include &lt;exception&gt;
#include &lt;iterator&gt;
using std::cin;
using std::cout;
using std::vector;
using std::endl;

class Berza
{
    vector&lt;int&gt; cd;
    int min, max;
    static bool Ispravno(const int x,const int y=0) {
        return (x&gt;=0 &amp;&amp; y&gt;=0);
    }
public:
    Berza() {}
    explicit Berza(int max) {
        if(!Ispravno(max)) throw std::range_error("Ilegalne granicne cijene");
        Berza::max=max;
        min=0;
    }
    Berza(int min, int max) {
        if(!Ispravno(max,min)) throw std::range_error("Ilegalne granicne cijene");
        Berza::max=max;
<a name="0"></a><font color="#FF0000"><a href="match226-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_4.gif"/></a>

        Berza::min=min;
    }

    void RegistrirajCijenu(int cijena) {
        if(cijena&gt;max || cijena&lt;min) throw std::range_error("Ilegalna cijena");
        cd.push_back(cijena);
    }

    int DajBrojRegistriranihCijena() const {
        return cd.size();
    }

    void BrisiSve() {
        cd.clear();
    }

    int DajMinimalnuCijenu() const {
        if(cd.empty()) throw std::range_error("Nema registriranih cijena");
        return *std::min_element(cd.begin(),cd.end());
    }

    int DajMaksimalnuCijenu() const {
        if(cd.empty()) throw std::range_error("Nema registriranih cijena");
        return *std::max_element(cd.begin(),cd.end());
</font>    }


    int DajBrojCijenaVecihOd(int x) const {
        if(cd.empty()) throw std::range_error("Nema registriranih cijena");
        return static_cast&lt;int&gt;(std::count_if(cd.begin(),cd.end(),std::bind(std::greater&lt;int&gt;(),std::placeholders::_1,x)));
    }

    void Ispisi() const {
        vector&lt;double&gt; temp(cd.size());
        std::copy(cd.begin(),cd.end(),temp.begin());
        std::sort(temp.begin(),temp.end(),std::greater&lt;int&gt;());
<a name="3"></a><font color="#00FFFF"><a href="match226-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_1.gif"/></a>

        std::transform(temp.begin(),temp.end(),temp.begin(),std::bind(std::divides&lt;double&gt;(),std::placeholders::_1,100));
</font>        std::streamsize ss = std::cout.precision();
        std::copy(temp.begin(),temp.end(),std::ostream_iterator&lt;double&gt;(cout &lt;&lt;std::fixed &lt;&lt; std::setprecision(2)," \n"));
        cout.precision(ss);
    }
    bool operator !() const {
        return cd.empty();
    }
    int operator[](int indeks) const {
        if(indeks&gt;cd.size()) throw std::range_error("Neispravan indeks");
        return cd.at(indeks-1);
    }
    Berza &amp; operator ++() {
        std::transform(this-&gt;cd.begin(),this-&gt;cd.end(),cd.begin(),std::bind(std::plus&lt;int&gt;(),std::placeholders::_1,100));
        auto i=std::find_if(this-&gt;cd.begin(),this-&gt;cd.end(),std::bind(std::greater&lt;int&gt;(),std::placeholders::_1,this-&gt;max));
        if(i!=cd.end()) {
<a name="5"></a><font color="#FF0000"><a href="match226-1.html#5" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_1.gif"/></a>

            std::transform(this-&gt;cd.begin(),this-&gt;cd.end(),cd.begin(),std::bind(std::minus&lt;int&gt;(),std::placeholders::_1,100));
            throw std::range_error("Prekoracen dozvoljeni opseg cijena");
        }
        return *this;
    }
    Berza &amp;operator--() {
</font><a name="6"></a><font color="#00FF00"><a href="match226-1.html#6" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_1.gif"/></a>

        std::transform(cd.begin(),cd.end(),cd.begin(),std::bind(std::minus&lt;int&gt;(),std::placeholders::_1,100));
</font>
        auto i=std::find_if(this-&gt;cd.begin(),this-&gt;cd.end(),std::bind(std::less&lt;int&gt;(),std::placeholders::_1,this-&gt;min));
        if(i!=cd.end()) {
<a name="8"></a><font color="#00FFFF"><a href="match226-1.html#8" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_1.gif"/></a>

            std::transform(this-&gt;cd.begin(),this-&gt;cd.end(),cd.begin(),std::bind(std::plus&lt;int&gt;(),std::placeholders::_1,100));
            throw std::range_error("Prekoracen dozvoljeni opseg cijena");
</font>        }
        return *this;
    }
    Berza operator--(int) {
        Berza temp;
        temp.cd=cd;
        --(*this);
        return temp;
    }
    Berza operator ++(int) {
        Berza temp;
        temp.cd=cd;
        ++(*this);
        return temp;
    }
    Berza operator -() {
        Berza temp;
        temp.cd=cd;
<a name="1"></a><font color="#00FF00"><a href="match226-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_2.gif"/></a>

        std::transform(temp.cd.begin(),temp.cd.end(),temp.cd.begin(),std::bind(std::minus&lt;int&gt;(),max+min,std::placeholders::_1));
        return temp;
    }

    friend Berza operator - (const Berza &amp;b1,const Berza &amp;b2);
</font>    friend Berza operator + (const Berza &amp;b,int x);
    friend Berza operator - (int x,const Berza &amp;b);
    friend Berza operator - (const Berza &amp;b,int x);
    friend Berza operator + (int x,const Berza &amp;b);
    friend bool operator ==(const Berza &amp;b1,const Berza &amp;b2);
    friend bool operator !=(const Berza &amp;b1,const Berza &amp;b2);
    friend Berza&amp;operator +=(Berza &amp;b,int x);
    friend Berza&amp;operator -=(Berza &amp;b,int x);
    friend Berza&amp;operator -=(Berza &amp;b1,const Berza &amp;b2);
};

<a name="4"></a><font color="#FF00FF"><a href="match226-1.html#4" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_1.gif"/></a>

Berza operator + (const Berza &amp;b,int x)
{
    Berza temp(b);
    std::transform(temp.cd.begin(),temp.cd.end(),temp.cd.begin(),std::bind(std::plus&lt;int&gt;(),std::placeholders::_1,x));
</font>    auto i=std::find_if(temp.cd.begin(),temp.cd.end(),std::bind(std::greater&lt;int&gt;(),std::placeholders::_1,temp.max));
<a name="2"></a><font color="#0000FF"><a href="match226-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_1.gif"/></a>

    if(i!=temp.cd.end()) throw std::domain_error("Prekoracen dozvoljeni opseg cijena");
    return temp;
}

Berza operator + (int x,const Berza &amp;b)
{
    return b+x;
}

Berza operator - (const Berza &amp;b,int x)
{
    Berza temp(b);
</font>    std::transform(temp.cd.begin(),temp.cd.end(),temp.cd.begin(),std::bind(std::minus&lt;int&gt;(),std::placeholders::_1,x));
    auto i=std::find_if(temp.cd.begin(),temp.cd.end(),std::bind(std::less&lt;int&gt;(),std::placeholders::_1,temp.min));
    if(i!=temp.cd.end()) throw std::domain_error("Prekoracen dozvoljeni opseg cijena");
    return temp;
}

<a name="7"></a><font color="#0000FF"><a href="match226-1.html#7" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_1.gif"/></a>

Berza operator - (int x,const Berza &amp;b)
{
    Berza temp(b);
    std::transform(b.cd.begin(),b.cd.end(),temp.cd.begin(),std::bind(std::minus&lt;int&gt;(),x,std::placeholders::_1));
</font>    auto i=std::find_if(temp.cd.begin(),temp.cd.end(),std::bind(std::less&lt;int&gt;(),std::placeholders::_1,temp.min));
    if(i!=temp.cd.end()) throw std::domain_error("Prekoracen dozvoljeni opseg cijena");
    return temp;
}

Berza operator - (const Berza &amp;b1,const Berza &amp;b2)
{
    if(b1.cd.size()!=b2.cd.size() || b1.max!=b2.max || b1.min!=b2.min)
        throw std::domain_error("Nesaglasni operandi");
    Berza temp;
    temp.cd=b1.cd;
    temp.max=b1.max;
    temp.min=b1.min;
    std::transform(b1.cd.begin(),b1.cd.end(),b2.cd.begin(),temp.cd.begin(),std::minus&lt;int&gt;());
    auto i=std::find_if(temp.cd.begin(),temp.cd.end(),std::bind(std::less&lt;int&gt;(),std::placeholders::_1,temp.min));
    if(i!=temp.cd.end()) throw std::domain_error("Prekoracen dozvoljeni opseg cijena");
    return temp;
}


Berza&amp;operator +=(Berza &amp;b,int x)
{
    b=b+x;
    return b;
}

Berza&amp;operator -=(Berza &amp;b,int x)
{
    b=b-x;
    return b;
}

Berza&amp;operator -=(Berza &amp;b1,const Berza &amp;b2)
{
    b1=b1-b2;
    return b1;
}

bool operator ==(const Berza &amp;b1,const Berza &amp;b2)
{
    return (b1.cd==b2.cd);
}

bool operator !=(const Berza &amp;b1,const Berza &amp;b2)
{
    return !(b1.cd==b2.cd);
}

int main ()
{
    try {
        Berza b1 = Berza(600,4000);
        Berza b2 = Berza(600,4000);
        int n;
        cout &lt;&lt; "Unesite broj cijena: ";
        cin &gt;&gt; n;
        try {
            int i=0;
            cout &lt;&lt; "Unesite cijene u kf: " &lt;&lt; endl;
            while(i!=n) {
                int kf;
                cin &gt;&gt; kf;
                b1.RegistrirajCijenu(kf);
                i++;
            }

        } catch(std::exception &amp;ex) {
            cout &lt;&lt; "IZUZETAK: " &lt;&lt; ex.what() &lt;&lt; endl;
        }
        std::cout &lt;&lt; "Broj registrovanih cijena: " &lt;&lt; b1.DajBrojRegistriranihCijena() &lt;&lt; std::endl;
        if(n-b1.DajBrojRegistriranihCijena()==0) cout&lt;&lt; "Sve ok" &lt;&lt; endl;
        else cout &lt;&lt; "Neuspjelo zapisivanje " &lt;&lt; n-b1.DajBrojRegistriranihCijena() &lt;&lt; " cijena" &lt;&lt;endl;

        cout &lt;&lt; "Ispis: " &lt;&lt; endl;
        b1.Ispisi();
        Berza b3=b1;
        b1.BrisiSve();
        std::cout &lt;&lt; "Nakon brisanja b1, broj registrovanih cijena (b1): " &lt;&lt; b1.DajBrojRegistriranihCijena();
        cout &lt;&lt; endl;
        cout &lt;&lt; " Max: " &lt;&lt; b3.DajMaksimalnuCijenu() &lt;&lt; " Min: " &lt;&lt; b3.DajMinimalnuCijenu() &lt;&lt;endl;
        cout &lt;&lt; "Broj cijena vecih od 1500: " &lt;&lt; b3.DajBrojCijenaVecihOd(1500);
        if(b3==b2) cout &lt;&lt; "b2 b3 isti" &lt;&lt;endl;
        if(b3!=b2) cout &lt;&lt; "b2 b3 razlicit" &lt;&lt; endl;
        cout &lt;&lt; "Novi b3: ++" &lt;&lt; endl;
        b3+=234;
        b3.Ispisi();
        cout &lt;&lt; "Novi b3: --" &lt;&lt; endl;
        b3-=12;
        b3.Ispisi();
        b2.RegistrirajCijenu(2321);
        b2.RegistrirajCijenu(659);
        b2.RegistrirajCijenu(1337);
        b2.RegistrirajCijenu(3000);
        cout &lt;&lt; "B2: ispis " &lt;&lt;endl;
        b2.Ispisi();
        cout &lt;&lt;endl;
        cout &lt;&lt; "B3-b2: " &lt;&lt; endl;
        b3=b3-b2;
        b3.Ispisi();
    } catch(std::exception &amp;ex) {
        cout &lt;&lt; "Izuzetak: " &lt;&lt; ex.what() &lt;&lt; endl;
    }
    return 0;
}
</pre>
</body>
</html>
