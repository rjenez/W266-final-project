<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z5/Z6/student5957.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z5/Z6/student5957.cpp<p></p><pre>
/B2017/2018: ZadaÄ‡a 5, Zadatak 6
#include &lt;iostream&gt;
#include &lt;iomanip&gt;
#include &lt;stdexcept&gt;
#include &lt;functional&gt;
#include &lt;vector&gt;
#include &lt;algorithm&gt;
using std::vector;
using std::cout;
using std::cin;

class Berza{
    int min,max;
    mutable vector&lt;int&gt; v;
    public:
    Berza(int min,int max){
        if(min&lt;0 || max&lt;0) throw std::range_error("Ilegalne granicne cijene");
        Berza::min=min; Berza::max=max;
    }
    explicit Berza(int max){
        if(min&lt;0 || max&lt;0) throw std::range_error("Ilegalne granicne cijene");
        Berza::min=0; Berza::max=max;
    }
    void RegistrirajCijenu(int n);
    int DajBrojRegistriranihCijena() const{ return v.size(); }
    void BrisiSve(){ v.resize(0); }
    int DajMinimalnuCijenu() const;
    int DajMaksimalnuCijenu() const;
    friend bool operator!(const Berza &amp;b){ return b.DajBrojRegistriranihCijena()==0; }
    int DajBrojCijenaVecihOd(int n) const;
    void Ispisi() const;
    int operator[](int n) const;
    friend Berza &amp;operator++(Berza &amp;b);
    friend Berza &amp;operator--(Berza &amp;b);
    friend Berza operator++(Berza &amp;b,int);
    friend Berza operator--(Berza &amp;b,int);
    friend Berza operator-(Berza &amp;b);
    friend Berza operator-(Berza &amp;b,int n);
    friend Berza operator+(Berza &amp;b,int n);
    friend Berza operator+(int n,Berza &amp;b);
    friend Berza operator-(int n,Berza &amp;b);
    friend Berza operator+(Berza &amp;b1,Berza &amp;b2);
    friend bool operator==(Berza &amp;b1,Berza &amp;b2);
    friend bool operator!=(Berza &amp;b1,Berza &amp;b2);
    friend Berza &amp;operator+=(Berza &amp;b1,Berza &amp;b2);
    friend Berza &amp;operator-=(Berza &amp;b,int n);
    friend Berza &amp;operator+=(Berza &amp;b,int n);
};
<a name="0"></a><font color="#FF0000"><a href="match899-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_4.gif"/></a>

void Berza::RegistrirajCijenu(int n){
    if(n&lt;min || n&gt;max) throw std::range_error("Ilegalna cijena");
    v.push_back(n);
}
int Berza::DajMinimalnuCijenu() const{
    if(v.size()==0) throw std::range_error("Nema registriranih cijena");
    return *std::min_element(v.begin(),v.end());
}
int Berza::DajMaksimalnuCijenu() const{
    if(v.size()==0) throw std::range_error("Nema registriranih cijena");
    return *std::max_element(v.begin(),v.end());
</font>}
int Berza::DajBrojCijenaVecihOd(int n) const{
    if(v.size()==0) throw std::range_error("Nema registriranih cijena");
<a name="1"></a><font color="#00FF00"><a href="match899-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_1.gif"/></a>

    return std::count_if(v.begin(),v.end(),std::bind(std::greater&lt;int&gt;(), std::placeholders::_1, n));
}
void Berza::Ispisi() const{
    std::sort(v.begin(),v.end(),std::greater&lt;int&gt;());
</font>    for(auto x : v) cout&lt;&lt;std::fixed&lt;&lt;std::setprecision(2)&lt;&lt;x/100.&lt;&lt;std::endl;
}
int Berza::operator[](int n) const{
    if(n&lt;0 || n&gt;v.size()) throw std::range_error("Neispravan indeks");
    return v[n-1];
}
Berza &amp;operator++(Berza &amp;b){
    if(*std::max_element(b.v.begin(),b.v.end())+100&gt;b.max) throw std::range_error("Prekoracen dozvoljeni opseg cijena");
    std::transform(b.v.begin(),b.v.end(),b.v.begin(),std::bind(std::plus&lt;int&gt;(),std::placeholders::_1,100));
    return b;
}
Berza &amp;operator--(Berza &amp;b){
    if(*std::min_element(b.v.begin(),b.v.end())-100&lt;b.min) throw std::range_error("Prekoracen dozvoljeni opseg cijena");
    std::transform(b.v.begin(),b.v.end(),b.v.begin(),std::bind(std::minus&lt;int&gt;(),std::placeholders::_1,100));
    return b;
}
Berza operator++(Berza &amp;b,int){
    if(*std::max_element(b.v.begin(),b.v.end())+100&gt;b.max) throw std::range_error("Prekoracen dozvoljeni opseg cijena");
    Berza pom(b);
    ++b;
    return pom;
}
Berza operator--(Berza &amp;b,int){
    if(*std::min_element(b.v.begin(),b.v.end())-100&lt;b.min) throw std::range_error("Prekoracen dozvoljeni opseg cijena");
    Berza pom(b);
    --b;
    return pom;
}
Berza operator-(Berza &amp;b){
    Berza pom(b);
    std::transform(pom.v.begin(),pom.v.end(),pom.v.begin(),std::bind(std::minus&lt;int&gt;(),std::placeholders::_1,pom.min+pom.max));
    std::transform(pom.v.begin(),pom.v.end(),pom.v.begin(),std::bind(std::multiplies&lt;int&gt;(),std::placeholders::_1,-1));
    return pom;
}
Berza operator-(Berza &amp;b,int n){
    Berza pom(b);
    if(n&gt;=0){
         if(*std::max_element(b.v.begin(),b.v.end())+n&gt;b.max) throw std::domain_error("Prekoracen dozvoljeni opseg cijena");
         std::transform(pom.v.begin(),pom.v.end(),pom.v.begin(),std::bind(std::minus&lt;int&gt;(),std::placeholders::_1,n));
    }
    else{
<a name="2"></a><font color="#0000FF"><a href="match899-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_1.gif"/></a>

        if(*std::min_element(b.v.begin(),b.v.end())-n&lt;b.min) throw std::domain_error("Prekoracen dozvoljeni opseg cijena");
</font><a name="3"></a><font color="#00FFFF"><a href="match899-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_1.gif"/></a>

         std::transform(pom.v.begin(),pom.v.end(),pom.v.begin(),std::bind(std::plus&lt;int&gt;(),std::placeholders::_1,n));
    }
    return pom;
}
Berza operator+(Berza &amp;b,int n){
</font>    Berza pom(b);
    if(n&gt;=0){
         if(*std::max_element(b.v.begin(),b.v.end())+n&gt;b.max) throw std::domain_error("Prekoracen dozvoljeni opseg cijena");
         std::transform(pom.v.begin(),pom.v.end(),pom.v.begin(),std::bind(std::plus&lt;int&gt;(),std::placeholders::_1,n));
    }
    else{
        if(*std::min_element(b.v.begin(),b.v.end())-n&lt;b.min) throw std::domain_error("Prekoracen dozvoljeni opseg cijena");
         std::transform(pom.v.begin(),pom.v.end(),pom.v.begin(),std::bind(std::minus&lt;int&gt;(),std::placeholders::_1,n));
    }
    return pom;
}
Berza operator+(int n,Berza &amp;b){
    try{ Berza pom(b+n); return pom; }
    catch(...){ throw std::domain_error("Prekoracen dozvoljeni opseg cijena"); }
}
Berza operator-(int n,Berza &amp;b){
    int min(*std::min_element(b.v.begin(),b.v.end())),max(*std::max_element(b.v.begin(),b.v.end()));
    min=n-min; max=n-max;
    if(!(max&lt;=b.max &amp;&amp; max&gt;=b.min &amp;&amp; min&lt;=b.max &amp;&amp; min&gt;=b.min)) throw std::domain_error("Prekoracen dozvoljeni opseg cijena");
    Berza pom(b);
    std::transform(pom.v.begin(),pom.v.end(),pom.v.begin(),std::bind(std::multiplies&lt;int&gt;(),std::placeholders::_1,-1));
    std::transform(pom.v.begin(),pom.v.end(),pom.v.begin(),std::bind(std::plus&lt;int&gt;(),std::placeholders::_1,n));
    return pom;
}
Berza operator+(Berza &amp;b1,Berza &amp;b2){
    if(b1.v.size()!=b2.v.size() || b1.min!=b2.min || b1.max!=b2.max) throw std::domain_error("Nesaglasni operandi");
<a name="4"></a><font color="#FF00FF"><a href="match899-1.html#4" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_1.gif"/></a>

    if(*std::max_element(b1.v.begin(),b1.v.end())+*std::max_element(b2.v.begin(),b2.v.end())&gt;b1.max)
        throw std::domain_error("Prekoracen dozvoljeni opseg cijena");
    Berza pom(b1);
</font>    std::transform(pom.v.begin(),pom.v.end(),b2.v.begin(),pom.v.begin(),std::plus&lt;int&gt;());
    return pom;
}
bool operator==(Berza &amp;b1,Berza &amp;b2){
    if(b1.v.size()!=b2.v.size()) return false;
    return std::equal(b1.v.begin(),b1.v.end(),b2.v.begin(),std::equal_to&lt;int&gt;());
}
bool operator!=(Berza &amp;b1,Berza &amp;b2){
    return !(b1==b2);
}
Berza &amp;operator+=(Berza &amp;b1,Berza &amp;b2){
    b1=b1+b2;
    return b1;
}
Berza &amp;operator-=(Berza &amp;b,int n){
    b=b-n;
    return b;
}
Berza &amp;operator+=(Berza &amp;b,int n){
    b=b+n;
    return b;
}

int main ()
{
    int min1(0),max1(0),min2(0),max2(0),dim(0);
    cout&lt;&lt;"Unesi min i max cijenu prve berze: ";
    cin&gt;&gt;min1&gt;&gt;max1;
    cout&lt;&lt;"Unesi min i max cijenu druge berze: ";
    cin&gt;&gt;min2&gt;&gt;max2;
    cout&lt;&lt;"Unesi broj registriranih cijena berzi: ";
    cin&gt;&gt;dim;
    Berza b1(min1,max1),b2(min2,max2);
    try{
        cout&lt;&lt;"Unesi cijene prve berze: ";
        for(int i(0);i&lt;dim;i++){
        int n(0);
        cin&gt;&gt;n;
        b1.RegistrirajCijenu(n);
    }
        cout&lt;&lt;"Unesi cijene druge berze: ";
        for(int i(0);i&lt;dim;i++){
        int n(0);
        cin&gt;&gt;n;
        b2.RegistrirajCijenu(n);
    }
        Berza b3(b1+b2);
        cout&lt;&lt;"Zbir ove dvije berze je :";
        b3.Ispisi();
    }
    catch(std::domain_error izuzetak){
        cout&lt;&lt;izuzetak.what();
    }
    catch(std::range_error izuzetak){
        cout&lt;&lt;izuzetak.what();
    }
    
	return 0;
}
</pre>
</body>
</html>
