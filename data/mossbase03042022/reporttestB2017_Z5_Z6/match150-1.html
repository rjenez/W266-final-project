<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z5/Z6/student9160.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z5/Z6/student4959.cpp<p></p><pre>
<a name="0"></a><font color="#FF0000"><a href="match150-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_99.gif"/></a>

/B2017/2018: ZadaÄ‡a 5, Zadatak 6
#include &lt;iostream&gt;
#include &lt;vector&gt;
#include &lt;stdexcept&gt;
#include &lt;algorithm&gt;
#include &lt;functional&gt;
#include &lt;iterator&gt;
#include &lt;iomanip&gt;
class Berza {
    
    std::vector&lt;int&gt; cijene;
    int mini,maxi;
    public: 
    
    Berza(int minimum, int maximum);
    explicit Berza(int maximum);
    void RegistrirajCijenu(int nova);
    int DajBrojRegistriranihCijena() const { return cijene.size(); }
    void BrisiSve();
    int DajMinimalnuCijenu() const;
    int DajMaksimalnuCijenu() const;
    bool operator !(){
        return cijene.size() == 0;
    }
    int DajBrojCijenaVecihOd(int broj) const;
    void Ispisi() const;
    int operator [] (int i) const;
    // prefixni
    friend Berza &amp;operator ++(Berza &amp;b){
        Berza nova(b);
        std::vector&lt;int&gt; marka(b.cijene.size(),100);
        std::transform(nova.cijene.begin(),nova.cijene.end(), marka.begin(), nova.cijene.begin(), std::plus&lt;int&gt;());
        if(nova.DajMaksimalnuCijenu() &gt; nova.maxi)throw std::range_error("Prekoracen dozvoljeni opseg cijena");
        b = nova;
        return b;
    }
    // postfixni
    friend Berza operator ++(Berza &amp;b, int){
        Berza nova(b);
        ++b;
        return nova;
    }
    Berza &amp;operator - ();
    friend bool operator == (const Berza &amp;a, const Berza &amp;b){
        return a.cijene == b.cijene &amp;&amp; a.mini == b.mini &amp;&amp; a.maxi == b.maxi;
    }
    friend bool operator != (const Berza &amp;a, const Berza &amp;b){
        return a.cijene != b.cijene || a.mini != b.mini || a.maxi != b.maxi;
    }
};



Berza &amp;Berza::operator -() {
    Berza nova(*this);
    std::vector&lt;int&gt; nove_cijene(cijene.size(), maxi+mini);
    std::transform(nove_cijene.begin(), nove_cijene.end(),nova.cijene.begin(), nova.cijene.begin(), std::minus&lt;int&gt;());
    return nova;
}
int Berza::operator [](int i) const {
    if(i&lt;0 || i&gt;=cijene.size()) throw std::range_error("Neispravan indeks");
    return cijene[i];
}
void Berza::Ispisi() const {
    std::vector&lt;int&gt; v(cijene);
    std::sort(v.begin(),v.end(),std::greater&lt;int&gt;());
    std::vector&lt;double&gt; novi(v.size(),100);
    std::transform(v.begin(),v.end(),novi.begin(), novi.begin(), std::divides&lt;double&gt;());
    std::remove_copy(novi.begin(),novi.end(),std::ostream_iterator&lt;double&gt;(std::cout&lt;&lt;std::fixed&lt;&lt;std::setprecision(2), "\n"),-1);
}

int Berza::DajBrojCijenaVecihOd(int broj) const {
    
    if(cijene.size() == 0) throw std::range_error("Nema registriranih cijena");
    return std::count_if(cijene.begin(), cijene.end(), 
        std::bind(std::greater&lt;int&gt;(), std::placeholders::_1, broj));
}
int Berza::DajMinimalnuCijenu() const {
    if(cijene.size() == 0) throw std::range_error("Nema registriranih cijena");
    return *std::min_element(cijene.begin(),cijene.end());
}

int Berza::DajMaksimalnuCijenu() const {
    if(cijene.size() == 0) throw std::range_error("Nema registriranih cijena");
    return *std::max_element(cijene.begin(),cijene.end());
}
void Berza::BrisiSve() {
    cijene.clear();
    cijene.resize(0);
}

Berza::Berza(int minimum, int maximum){
    if(minimum&lt; 0 || maximum &lt;= 0 || maximum &lt; minimum)
        throw std::range_error("Ilegalne granicne cijene");
    mini = minimum;
    maxi = maximum;
}

Berza::Berza(int maximum){
    if(maximum&lt;=0)throw std::range_error("Ilegalne granicne cijene");
    mini = 0;
    maxi = maximum;
}

void Berza::RegistrirajCijenu(int nova){
    if(nova&lt;mini || nova &gt; maxi)throw std::range_error("Ilegalna cijena");
    cijene.push_back(nova);
}


int main ()
{
    Berza b(1,25000);
    b.RegistrirajCijenu(200);
    b.RegistrirajCijenu(400);
    b.RegistrirajCijenu(600);
    b.RegistrirajCijenu(210);
    b.RegistrirajCijenu(220);
    b.RegistrirajCijenu(230);
    b.Ispisi();
    std::cout&lt;&lt;b.DajBrojCijenaVecihOd(0)&lt;&lt;std::endl;
</font>    
	return 0;
}
</pre>
</body>
</html>
