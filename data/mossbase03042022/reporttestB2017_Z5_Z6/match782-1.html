<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z5/Z6/student2675.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z5/Z6/student8909.cpp<p></p><pre>
<a name="0"></a><font color="#FF0000"><a href="match782-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_2.gif"/></a>

/B2017/2018: ZadaÄ‡a 5, Zadatak 6
#include &lt;iostream&gt;
#include &lt;vector&gt;
#include &lt;iomanip&gt;
#include &lt;functional&gt;
#include &lt;iterator&gt;
#include &lt;stdexcept&gt;
#include &lt;algorithm&gt;

class Berza
{
    std::vector&lt;int&gt; cijene_dionica;
    int min_cijena, max_cijena;
    
    public:
    
    Berza(int min_cijena, int max_cijena)
    {
        if(min_cijena &lt; 0 || max_cijena &lt; 0 || max_cijena &lt; min_cijena) throw std::range_error("Ilegalne granice cijene");
</font>        Berza::min_cijena = 0;
        Berza::max_cijena = max_cijena;
    }
    
    explicit Berza(int max_cijena)
    {
        if(max_cijena &lt; 0) throw std::range_error("Ilegalne granice cijene");
        Berza::min_cijena = 0;
        Berza::max_cijena = max_cijena;
    }
    
    void RegistrirajCijenu(int cijena)
    {
        if(cijena &lt; min_cijena || cijena &gt; max_cijena) throw std:: range_error("Ilegalna cijena");
        cijene_dionica.push_back(cijena);
    }
    
    int DajBrojRegistriranihCijena() const
    {
        return cijene_dionica.size();
    }
    
    void BrisiSve()
    {
        cijene_dionica.resize(0);
    }
    
    int DajMinimalnuCijenu();
    int DajMaksimalnuCijenu();
    bool operator ! ();
    int DajBrojCijenaVecihOd(int cijena);
    void Ispisi() const;
    int operator [](int index) const
    {
<a name="1"></a><font color="#00FF00"><a href="match782-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_2.gif"/></a>

        if(index &lt; 1 || index &gt; cijene_dionica.size()) throw std::range_error("Neispravan index");
        return cijene_dionica[index - 1];
    }
    
    Berza &amp;operator ++ ();
    Berza operator ++ (int);
    Berza &amp;operator -- ();
    Berza operator -- (int);
    Berza operator - () const;
</font>    Berza &amp;operator += (Berza b1);
    Berza &amp;operator -= (Berza b2);
    
    friend Berza operator + (Berza b1, int broj);
    friend Berza operator + (int broj, Berza b1);
    friend Berza operator - (Berza b1, int broj);
    friend Berza operator - (int broj, Berza b1);
    
    friend Berza operator - (Berza b1, Berza b2);
    friend Berza operator + (Berza b1, Berza b2);
    friend bool operator == (const Berza &amp;b1, const Berza &amp;b2);
    friend bool operator != (const Berza &amp;b1, const Berza &amp;b2);
};

int Berza::DajMinimalnuCijenu()
{
    if(cijene_dionica.size() == 0) throw std::range_error("Nema registriranih cijena");
    return *std::min_element(cijene_dionica.begin(), cijene_dionica.end());
}

int Berza::DajMaksimalnuCijenu()
{
    if(cijene_dionica.size() == 0) throw std::range_error("Nema registriranih cijena");
    return *std::max_element(cijene_dionica.begin(), cijene_dionica.end());
}

bool Berza::operator ! () 
{
    if(cijene_dionica.size() == 0) return true;
    return false;
}

int Berza::DajBrojCijenaVecihOd (int cijena)
{
    if(cijene_dionica.size() == 0) throw std::range_error("Nema registriranih cijena");
    return std::count_if(cijene_dionica.begin(), cijene_dionica.end(), std::bind(std::greater&lt;int&gt;(), std::placeholders::_1, cijena));
}

void Berza::Ispisi() const
{
    std::vector&lt;double&gt; c_cijene(cijene_dionica.size());
    std::copy(cijene_dionica.begin(), cijene_dionica.end(), c_cijene.begin());
    std::sort(c_cijene.begin(), c_cijene.end(), std::greater&lt;double&gt;());
    std::transform(c_cijene.begin(), c_cijene.end(), c_cijene.begin(), std::bind(std::multiplies&lt;double&gt;(), 1./100, std::placeholders::_1));
<a name="2"></a><font color="#0000FF"><a href="match782-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_2.gif"/></a>

    std::copy(c_cijene.begin(), c_cijene.end(), std::ostream_iterator&lt;double&gt;(std::cout&lt;&lt; std::fixed &lt;&lt; std::setprecision(2), "\n"));
}

Berza &amp;Berza::operator ++ ()
</font>{
    std::transform(cijene_dionica.begin(), cijene_dionica.end(), cijene_dionica.begin(), std::bind(std::plus&lt;int&gt;(), std::placeholders::_1, 100));
    if(this -&gt; DajMaksimalnuCijenu() &gt; max_cijena || this -&gt; DajMinimalnuCijenu() &lt; min_cijena) throw std::range_error("Prekoracen dozvoljeni opseg cijena");
    return *this;
}

Berza Berza::operator ++ (int)
{
    Berza pomocni(min_cijena, max_cijena);
    pomocni.cijene_dionica = cijene_dionica;
    std::transform(cijene_dionica.begin(), cijene_dionica.end(), cijene_dionica.begin(), std::bind(std::plus&lt;int&gt;(), std::placeholders::_1, 100));
    if(this -&gt; DajMaksimalnuCijenu() &gt; max_cijena || this -&gt; DajMinimalnuCijenu() &lt; min_cijena) throw std::range_error("Prekoracen dozvoljeni opseg cijena");
    return pomocni;
}

Berza &amp;Berza::operator -- () 
{
    std::transform(cijene_dionica.begin(), cijene_dionica.end(), cijene_dionica.begin(), std::bind(std::minus&lt;int&gt;(), std::placeholders::_1, 100));
    if(this -&gt; DajMaksimalnuCijenu() &gt; max_cijena || this -&gt; DajMinimalnuCijenu() &lt; min_cijena) throw std::range_error("Prekoracen dozvoljeni opseg cijena");
    return *this;
}

Berza Berza::operator -- (int)
{
    Berza pomocni (min_cijena, max_cijena);
    pomocni.cijene_dionica = cijene_dionica;
    std::transform(cijene_dionica.begin(), cijene_dionica.end(), cijene_dionica.begin(), std::bind(std::minus&lt;int&gt;(), std::placeholders::_1,100));
    if(this -&gt; DajMaksimalnuCijenu() &gt; max_cijena || this -&gt; DajMinimalnuCijenu() &lt; min_cijena) throw std::range_error("Prekoracen dozvoljeni opseg cijena");
    return pomocni;
}

Berza Berza::operator - () const
{
    Berza pomocni(min_cijena, max_cijena);
    pomocni.cijene_dionica = cijene_dionica;
    std::transform(cijene_dionica.begin(), cijene_dionica.end(), pomocni.cijene_dionica.begin(), std::bind(std::minus&lt;int&gt;(), std::placeholders::_1, min_cijena + max_cijena));
    return pomocni;
}

bool operator ==(const Berza &amp;b1, const Berza &amp;b2)
{
    return b1.cijene_dionica.size() == b2.cijene_dionica.size() &amp;&amp; b1.cijene_dionica == b2.cijene_dionica;
}

bool operator != (const Berza &amp;b1, const Berza &amp;b2)
{
    return !(b1 == b2);
}

Berza &amp;Berza::operator -= (Berza b1)
{
<a name="3"></a><font color="#00FFFF"><a href="match782-0.html#3" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_2.gif"/></a>

    if(min_cijena != b1.min_cijena || max_cijena != b1.max_cijena || cijene_dionica.size() != b1.cijene_dionica.size()) throw std::domain_error("Nesaglasni operandi");
    
    std::transform(cijene_dionica.begin(), cijene_dionica.end(), b1.cijene_dionica.begin(), cijene_dionica.begin(), std::minus&lt;int&gt;());
</font>    if(this -&gt; DajMinimalnuCijenu() &lt; min_cijena || this -&gt; DajMaksimalnuCijenu() &gt; max_cijena) throw std::domain_error("Prekoracen dozvoljeni opseg cijena");
    return *this;
}

Berza &amp;Berza::operator += (Berza b1)
{
<a name="4"></a><font color="#FF00FF"><a href="match782-0.html#4" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_2.gif"/></a>

    if(min_cijena != b1.min_cijena || max_cijena != b1.max_cijena || cijene_dionica.size() != b1.cijene_dionica.size()) throw std::domain_error("Nesaglasni operndi");
    
    std::transform(cijene_dionica.begin(), cijene_dionica.end(), b1.cijene_dionica.begin(), cijene_dionica.begin(), std::plus&lt;int&gt;());
</font>    if(this -&gt; DajMinimalnuCijenu() &lt; min_cijena || this -&gt; DajMaksimalnuCijenu() &gt; max_cijena) throw std::domain_error("Prekoracen dozvoljeni opseg cijena");
    return *this;
}

Berza operator + (Berza b1, Berza b2)
{
    if(b1.min_cijena != b2.min_cijena || b1.max_cijena != b2.max_cijena || b1.cijene_dionica.size() != b2.cijene_dionica.size()) throw std::domain_error("Nesaglasni operandi");
    Berza pomocni(b1.min_cijena, b1.max_cijena);
    pomocni.cijene_dionica = b1.cijene_dionica;
    
    std::transform(b1.cijene_dionica.begin(), b1.cijene_dionica.end(), b2.cijene_dionica.begin(), pomocni.cijene_dionica.begin(), std::plus&lt;int&gt;());
    if(pomocni.DajMaksimalnuCijenu() &gt; b1.max_cijena || b1.max_cijena || pomocni.DajMinimalnuCijenu() &lt; b1.min_cijena) throw std::domain_error("Prekoracen dozvoljeni opseg cijena");
    return pomocni;
}

Berza operator - (Berza b1, Berza b2)
{
    Berza pomocni(b1.min_cijena, b1.max_cijena);
    pomocni.cijene_dionica = b1.cijene_dionica;
    
    if(b1.min_cijena != b2.min_cijena || b1.max_cijena != b2.max_cijena || b1.cijene_dionica.size() != b2.cijene_dionica.size()) throw std::domain_error("Nesaglasni operandi");
    
    std::transform(b1.cijene_dionica.begin(), b1.cijene_dionica.end(), b2.cijene_dionica.begin(), pomocni.cijene_dionica.begin(), std::minus&lt;int&gt; ());
    if(pomocni.DajMinimalnuCijenu() &lt; b1.min_cijena || pomocni.DajMaksimalnuCijenu() &gt; b1.max_cijena) throw std::domain_error("Prekoracen dozvoljeni opseg cijena");
    return pomocni;
}

Berza operator - (int broj, Berza b1)
{
    Berza pomocni(b1.min_cijena, b1.max_cijena);
    pomocni.cijene_dionica = b1.cijene_dionica;
    
    std::transform(b1.cijene_dionica.begin(), b1.cijene_dionica.end(), pomocni.cijene_dionica.begin(), std::bind(std::minus&lt;int&gt;(), std::placeholders::_1, broj));
    if(pomocni.DajMinimalnuCijenu() &lt; b1.min_cijena || pomocni.DajMaksimalnuCijenu() &gt; b1.max_cijena) throw std::domain_error("Prekoracen dozvoljeni opseg cijena");
    return pomocni;
}

Berza operator - (Berza b1, int broj)
{
    Berza pomocni(b1.min_cijena, b1.max_cijena);
    pomocni.cijene_dionica = b1.cijene_dionica;
    
    std::transform(b1.cijene_dionica.begin(), b1.cijene_dionica.end(), pomocni.cijene_dionica.begin(), std::bind(std::minus&lt;int&gt;(), std::placeholders::_1, broj));
    if(pomocni.DajMinimalnuCijenu() &lt; b1.min_cijena || pomocni.DajMaksimalnuCijenu() &gt; b1.max_cijena ) throw std::domain_error("Prekoracen dozvoljeni opseg cijena");
    return pomocni;
}

Berza operator + (int broj, Berza b1)
{
    return b1 + broj;
}

Berza operator + (Berza b1, int broj)
{
    Berza pomocni(b1.min_cijena, b1.max_cijena);
    pomocni.cijene_dionica = b1.cijene_dionica;
    
    std::transform(b1.cijene_dionica.begin(), b1.cijene_dionica.end(), pomocni.cijene_dionica.begin(), std::bind(std::plus&lt;int&gt;(), std::placeholders::_1, broj));
    if(pomocni.DajMaksimalnuCijenu() &gt; b1.max_cijena || pomocni.DajMinimalnuCijenu() &lt; b1.min_cijena) throw std::domain_error("Prekoracen dozvoljeni opseg cijena");
    return pomocni;
}

int main ()
{
    //std::cout &lt;&lt; "Radi daaa!!!!";
	
	Berza b (1, 10000);
	b.RegistrirajCijenu(3000);
	b.RegistrirajCijenu(4000);
	b.RegistrirajCijenu(8000);
	b.RegistrirajCijenu(6000);
	b++++;
	b.Ispisi();
	
	return 0;
}
</pre>
</body>
</html>
