<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z5/Z6/student4290.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z5/Z6/student4290.cpp<p></p><pre>
/B2017/2018: ZadaÄ‡a 5, Zadatak 6
#include &lt;iostream&gt;
#include &lt;vector&gt;
#include &lt;algorithm&gt;
#include &lt;iomanip&gt;
#include &lt;functional&gt;
class Berza
{
    std::vector&lt;int&gt;v;
    int max,min;
public:
    Berza(int mini,int maxi) {
        if(mini&lt;0||maxi&lt;0) throw std::range_error("Ilegalne granice cijene");
        max=maxi;
        min=mini;
    }
    explicit Berza(int maxi) {
        if(maxi&lt;0) throw std::range_error("Ilegalne granice cijene");
        max=maxi;
        min=0;
    }
    void RegistrirajCijenu(int cijena) {
        if(cijena&lt;min||cijena&gt;max) throw std::range_error("Ilegalna cijena");
        v.push_back(cijena);
    }
    int DajBrojRegistriranihCijena() const {
        return v.size();
    }
    void BrisiSve() {
        for(int i(0); i&lt;v.size(); i++) v[i]=0;
        v.resize(0);
    }
    int DajMinimalnuCijenu() const {
        if(v.size()==0) throw std::range_error("Nema registriranih cijena");
        auto p(std::min_element(v.begin(),v.end()));
        return *p;
    }
    int DajMaksimalnuCijenu() const {
        if(v.size()==0) throw std::range_error("Nema registriranih cijena");
        auto p(std::max_element(v.begin(),v.end()));
        return *p;
    }
    bool operator ! () {
        if(v.size()==0) return true;
        return false;
    }
    int DajBrojCijenaVecihOd (int ref) const {
        int b(std::count_if(v.begin(),v.end(),std::bind(std::greater&lt;int&gt;(),std::placeholders::_1,ref)));//[ref](int x) {return x&gt;ref; } ) );
        return b;
    }
    void Ispisi() const {
<a name="2"></a><font color="#0000FF"><a href="match993-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_1.gif"/></a>

        std::vector&lt;int&gt;v1(v) ;
        std::sort(v1.begin(),v1.end(),std::greater&lt;int&gt;());
        for(int i(0); i&lt;v1.size(); i++) {
</font>            std::cout &lt;&lt;std::fixed&lt;&lt;std::setprecision(2)&lt;&lt;(v1.at(i)*(1./100))&lt;&lt; std::endl;
        }
    }
    int operator [] (int index) const {
        if(index&lt;1||index&gt;v.size()) throw std::range_error("Neispravan indeks");
        return v[index-1];
    }
    Berza operator ++(int) {
        Berza temp(*this);
        std::transform(v.begin(),v.end(),v.begin(),std::bind(std::plus&lt;int&gt;(),std::placeholders::_1,100));
        int broj_manjih(std::count_if(v.begin(),v.end(),std::bind(std::less&lt;int&gt;(),std::placeholders::_1,max)));
        if(broj_manjih!=v.size()-1)
            throw std::range_error("Prekoracen dozvoljeni opseg cijena");
        return temp;
    }
    Berza operator --(int) {
        Berza temp(*this);
        std::transform(v.begin(),v.end(),v.begin(),std::bind(std::minus&lt;int&gt;(),std::placeholders::_1,100));
        int broj_vecih(std::count_if(v.begin(),v.end(),std::bind(std::greater&lt;int&gt;(),std::placeholders::_1,min)));
        if(broj_vecih!=v.size()-1) throw std::range_error("Prekoracen dozvoljeni opseg");
        return temp;
    }
    Berza operator ++() {
        std::transform(v.begin(),v.end(),v.begin(),std::bind(std::plus&lt;int&gt;(),std::placeholders::_1,100));
        int broj_manjih(std::count_if(v.begin(),v.end(),std::bind(std::less&lt;int&gt;(),std::placeholders::_1,max)));
        if(broj_manjih!=v.size()-1) throw std::range_error("Prekoracen dozvoljeni opseg cijena");
        return *this;
    }
    Berza operator --() {
        std::transform(v.begin(),v.end(),v.begin(),std::bind(std::minus&lt;int&gt;(),std::placeholders::_1,100));
        int broj_vecih(std::count_if(v.begin(),v.end(),std::bind(std::greater&lt;int&gt;(),std::placeholders::_1,min)));
        if(broj_vecih!=v.size()-1) throw std::range_error("Prekoracen dozvoljeni opseg cijena");
        return *this;
    }
    Berza operator -() {
        int oduzeti(max-min);
        Berza temp(*this);
        std::transform(temp.v.begin(),temp.v.end(),temp.v.begin(),std::bind(std::minus&lt;int&gt;(),std::placeholders::_1,oduzeti));
        return temp;
    }
    Berza operator +(int x) {
        Berza temp(*this);
        std::transform(temp.v.begin(),temp.v.end(),temp.v.begin(),std::bind(std::plus&lt;int&gt;(),std::placeholders::_1,x));
        int broj_manjih(std::count_if(temp.v.begin(),temp.v.end(),std::bind(std::less&lt;int&gt;(),std::placeholders::_1,max)));
        if(broj_manjih!=v.size()-1) throw std::domain_error("Prekoracen dozvoljeni opseg cijena");
        return temp;
    }
    Berza operator -(int x) {
        Berza temp(*this);
        std::transform(temp.v.begin(),temp.v.end(),temp.v.begin(),std::bind(std::minus&lt;int&gt;(),std::placeholders::_1,x));
        int broj_vecih(std::count_if(temp.v.begin(),temp.v.end(),std::bind(std::greater&lt;int&gt;(),std::placeholders::_1,min)));
        if(broj_vecih!=v.size()-1) throw std::domain_error("Prekoracen dozvoljeni opseg cijena");
        return temp;
    }
    friend Berza operator +(int x, Berza b) {
        Berza temp(b+x);
        return temp;
    }
    friend Berza operator -(int x, Berza b) {

    }
    friend Berza operator +(Berza b1,Berza b2) {
<a name="0"></a><font color="#FF0000"><a href="match993-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_3.gif"/></a>

        if(b1.max!=b2.max||b1.min!=b2.min||b1.v.size()!=b2.v.size())
            throw std::domain_error("Nesaglasni operandi");
        Berza temp(b1);
        std::transform(b1.v.begin(),b1.v.end(),b2.v.begin(),temp.v.begin(),std::bind(std::plus&lt;int&gt;(),std::placeholders::_1,std::placeholders::_2));
</font>        int broj_manjih(std::count_if(temp.v.begin(),temp.v.end(),std::bind(std::less&lt;int&gt;(),std::placeholders::_1,b1.max)));
        if(broj_manjih!=temp.v.size()) throw std::domain_error("Prekoracen dozvoljeni opseg cijena");
        return temp;
    }
    friend Berza operator -(Berza b1,Berza b2) {
<a name="1"></a><font color="#00FF00"><a href="match993-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_3.gif"/></a>

        if(b1.max!=b2.max||b1.min!=b2.min||b1.v.size()!=b2.v.size())
            throw std::domain_error("Nesaglasni operandi");
        Berza temp(b1);
        std::transform(b1.v.begin(),b1.v.end(),b2.v.begin(),temp.v.begin(),std::bind(std::minus&lt;int&gt;(),std::placeholders::_1,std::placeholders::_2));
</font>
        int broj_vecih(std::count_if(temp.v.begin(),temp.v.end(),std::bind(std::less&lt;int&gt;(),std::placeholders::_1,b1.min)));
        if(broj_vecih!=temp.v.size()) throw std::domain_error("Prekoracen dozvoljeni opseg cijena");
        return temp;
    }
    Berza &amp;operator +=(const Berza &amp;b) {
<a name="3"></a><font color="#00FFFF"><a href="match993-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_1.gif"/></a>

        std::transform(v.begin(),v.end(),b.v.begin(),v.begin(),std::bind(std::plus&lt;int&gt;(),std::placeholders::_1,std::placeholders::_2));
</font><a name="3"></a><font color="#00FFFF"><a href="match993-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_1.gif"/></a>

        int broj_manjih(std::count_if(v.begin(),v.end(),std::bind(std::less&lt;int&gt;(),std::placeholders::_1,max)));
</font>        if(broj_manjih!=v.size()) throw std::domain_error("Prekoracen dozvoljeni opseg cijena");
        return *this;
    }
    Berza &amp;operator -=(const Berza &amp;b) {
        std::transform(v.begin(),v.end(),b.v.begin(),v.begin(),std::bind(std::minus&lt;int&gt;(),std::placeholders::_1,std::placeholders::_2));
        int broj_vecih(std::count_if(v.begin(),v.end(),std::bind(std::less&lt;int&gt;(),std::placeholders::_1,min)));
        if(broj_vecih!=v.size()) throw std::domain_error("Prekoracen dozvoljeni opseg cijena");        
        return *this;
    }
    friend bool operator == ( Berza b1, Berza b2)  {
        if(b1.v.size()!=b2.v.size()) return false;
        Berza tmp(b1);
        tmp.v.resize(0);
        std::transform(b1.v.begin(),b1.v.end(),b2.v.begin(),tmp.v.begin(),std::bind(std::equal_to&lt;int&gt;(),std::placeholders::_1,std::placeholders::_2));
        if(tmp.v.size()==b1.v.size()) return true;
        return false;
    }
    friend bool operator !=( Berza b1, Berza b2) {
        if(b1==b2) return false;
        return true;
    }
};

int main ()
{
    try {
        Berza b(6000,20000);
        b.RegistrirajCijenu(8000);
        b.RegistrirajCijenu(9000);
        b.RegistrirajCijenu(7000);
        Berza a(6000,20000);
        a.RegistrirajCijenu(8000);
        a.RegistrirajCijenu(9000);
        a.RegistrirajCijenu(7000);
        b.Ispisi();
        std::cout  &lt;&lt; std::endl;
        a.Ispisi();
        std::cout  &lt;&lt; std::endl;
        std::cout &lt;&lt; (a==b) &lt;&lt; std::endl;
    } catch (std::range_error i) {
        std::cout &lt;&lt; i.what() &lt;&lt; std::endl;
    }

    return 0;
}
</pre>
</body>
</html>
