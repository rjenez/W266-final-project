<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z5/Z6/student1066.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z5/Z6/student8209.cpp<p></p><pre>
<a name="2"></a><font color="#0000FF"><a href="match895-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_1.gif"/></a>

/B2017/2018: ZadaÄ‡a 5, Zadatak 6
#include &lt;iostream&gt;
#include &lt;stdexcept&gt;
#include &lt;algorithm&gt;
#include &lt;vector&gt;
#include &lt;functional&gt;
#include &lt;iomanip&gt;

class Berza
{
    std::vector&lt;int&gt; cijene;
    int max_cijena, min_cijena;
</font>
    void Prekoracenje() {
        if(std::count_if(cijene.begin(), cijene.end(), std::bind(std::greater&lt;int&gt;(), std::placeholders::_1, max_cijena))
                || std::count_if(cijene.begin(), cijene.end(), std::bind(std::less&lt;int&gt;(), std::placeholders::_1, min_cijena)))
            throw std::range_error("Prekoracen dozvoljeni opseg cijena");
    }


public:
    explicit Berza(int max_cijena);
    Berza(int min_cijena, int max_cijena);

    void RegistrirajCijenu(int nova_cijena);
    int DajBrojRegistriranihCijena() const;
    void BrisiSve();

    int DajMinimalnuCijenu() const;
    int DajMaksimalnuCijenu() const;

    bool operator! () const;
    int operator [] (int x) const;
    Berza &amp;operator ++ ();
    Berza &amp;operator -- ();
    Berza operator ++ (int);
    Berza operator -- (int);
    Berza operator -() const;
    friend Berza operator +(const Berza &amp;x, int y);
    friend Berza operator -(const Berza &amp;x, int y);
    friend Berza operator +(int y , const Berza &amp;x);
    friend Berza operator -(int y, const Berza &amp; x);
    friend Berza operator -(const Berza &amp;x, const Berza &amp;y);
    operator int() const = delete;
    Berza &amp;operator +=(int y);
    Berza &amp;operator -=(int y);
    Berza &amp;operator -=(const Berza &amp;y);
    bool operator ==(const Berza &amp;y);
    bool operator != (const Berza &amp;y);

    int DajBrojCijenaVecihOd(int vrijednost) const;

    void Ispisi() const;



};

struct ZaIspis {

    void operator() (double x) {
        std::cout &lt;&lt; std::fixed &lt;&lt; std::setprecision(2) &lt;&lt; x &lt;&lt;std::endl;
    }
};

Berza::Berza(int min_cijena, int max_cijena): cijene(0)
{

    if(min_cijena &lt; 0 || max_cijena &lt; 0) throw std::range_error("Ilegalne granice cijene");

    Berza::max_cijena = max_cijena;
    Berza::min_cijena = min_cijena;
}
Berza::Berza(int max_cijena): min_cijena(0), cijene(0)
{
    if(max_cijena &lt; 0) throw std::range_error("Ilegalne granice cijene");
    Berza::max_cijena = max_cijena;
}
void Berza::RegistrirajCijenu(int nova_cijena)
{
    if(nova_cijena &lt; min_cijena || nova_cijena &gt; max_cijena) throw std::range_error("Ilegalna cijena");

    cijene.emplace_back(nova_cijena);
}
int Berza::DajBrojRegistriranihCijena() const
{
    return cijene.size();
}
void Berza::BrisiSve()
{
    cijene.resize(0);
}
int Berza::DajMinimalnuCijenu() const
{
    if(cijene.size() == 0) throw std::range_error("Nema registriranih cijena");
    return *min_element(cijene.begin(), cijene.end());
}

int Berza::DajMaksimalnuCijenu() const
{
    if(cijene.size() == 0) throw std::range_error("Nema registriranih cijena");
    return *max_element(cijene.begin(), cijene.end());
}

bool Berza::operator! () const
{
    return cijene.size() == 0;
}
<a name="0"></a><font color="#FF0000"><a href="match895-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_3.gif"/></a>

int Berza::DajBrojCijenaVecihOd(int vrijednost) const
{
    if(cijene.size() == 0) throw std::range_error("Nema registriranih cijena");
    return std::count_if(cijene.begin(), cijene.end(), std::bind(std::greater&lt;int&gt;(), std::placeholders::_1 , vrijednost));
}
void Berza::Ispisi() const
{
    std::vector&lt;double&gt; novi(cijene.size());
</font>    std::copy(cijene.begin(), cijene.end(), novi.begin());
<a name="4"></a><font color="#FF00FF"><a href="match895-0.html#4" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_1.gif"/></a>

    std::sort(novi.begin(), novi.end(), std::greater&lt;int&gt;());
    std::transform(novi.begin(), novi.end(), novi.begin() ,std::bind(std::divides&lt;double&gt;(), std::placeholders::_1, 100));
</font>    std::for_each(novi.begin(), novi.end(), ZaIspis());
}
int Berza::operator [] (int x) const
{
    if(x &lt; 1 || x &gt;= cijene.size()) throw std::range_error("Prekoracen dozvoljeni opseg cijena");
    return cijene[x - 1];
}
Berza &amp;Berza::operator ++ ()
{
    std::transform(cijene.begin(), cijene.end(), cijene.begin(), std::bind(std::plus&lt;int&gt;(), std::placeholders::_1, 100));
    Prekoracenje();
    return *this;
}
Berza &amp;Berza::operator -- ()
{
    std::transform(cijene.begin(), cijene.end(), cijene.begin() , std::bind(std::minus&lt;int&gt;(), std::placeholders::_1, 100));
    Prekoracenje();
    return *this;
}
Berza Berza::operator ++ (int)
{
    Berza pomocna(*this);
    std::transform(cijene.begin(), cijene.end(), cijene.begin() , std::bind(std::plus&lt;int&gt;(), std::placeholders::_1, 100));
    return pomocna;
}
Berza Berza::operator -- (int)
{
    Berza pomocna(*this);
    std::transform(cijene.begin(), cijene.end(), cijene.begin() , std::bind(std::minus&lt;int&gt;(), std::placeholders::_1, 100));
    return pomocna;
}
Berza Berza::operator -() const
{
    Berza novi(this-&gt;min_cijena, this-&gt;max_cijena);
    novi.cijene.resize(this-&gt;cijene.size());
    std::transform(novi.cijene.begin(), novi.cijene.end(), novi.cijene.begin(), std::bind(std::minus&lt;int&gt;(),
                   max_cijena + min_cijena, std::placeholders::_1 ));
    return novi;
}
Berza operator +(const Berza &amp;x, int y)
{
    Berza novi(x.min_cijena, x.max_cijena);
    novi.cijene.resize(x.cijene.size());
    std::transform(x.cijene.begin(), x.cijene.end(), novi.cijene.begin(), std::bind(std::plus&lt;int&gt;(), std::placeholders::_1, y));
    novi.Prekoracenje();
    return novi;
}
Berza operator -(const Berza &amp;x, int y)
{
    Berza novi(x.min_cijena, x.max_cijena);
    novi.cijene.resize(x.cijene.size());
    std::transform(x.cijene.begin(), x.cijene.end(), novi.cijene.begin(), std::bind(std::minus&lt;int&gt;(), std::placeholders::_1, y));
    novi.Prekoracenje();
<a name="3"></a><font color="#00FFFF"><a href="match895-0.html#3" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_1.gif"/></a>

    return novi;
}
inline Berza operator +(int y , const Berza &amp;x)
{
    return x + y;
}
Berza operator -(int y, const Berza &amp; x)
{
    Berza novi(x.min_cijena, x.max_cijena);
</font>    novi.cijene.resize(x.cijene.size());
    std::transform(x.cijene.begin(), x.cijene.end(), novi.cijene.begin(), std::bind(std::minus&lt;int&gt;(), y, std::placeholders::_1));
    novi.Prekoracenje();
    return novi;
}
Berza operator -(const Berza &amp;x, const Berza &amp;y)
{
    if(x.cijene.size() != y.cijene.size() || x.min_cijena != y.min_cijena || x.min_cijena != y.min_cijena)
        throw std::domain_error("Nesaglasni operandi");

    Berza novi(x.min_cijena, x.max_cijena);
    novi.cijene.resize(x.cijene.size());
    std::transform(x.cijene.begin(), x.cijene.end(), y.cijene.begin(), novi.cijene.begin(), std::minus&lt;int&gt;());
    novi.Prekoracenje();
<a name="1"></a><font color="#00FF00"><a href="match895-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_2.gif"/></a>

    return novi;
}
Berza &amp;Berza::operator +=(int y)
{
    *this = *this + y;
    return *this;
}
Berza &amp;Berza::operator -=(int y)
{
    *this = *this - y;
    return *this;
</font>}
Berza &amp;Berza::operator -=(const Berza &amp;y)
{
    *this = *this - y;
    return *this;
}
bool Berza::operator ==(const Berza &amp;y)
{
    return (cijene.size() == y.cijene.size()) &amp;&amp; std::equal(cijene.begin(), cijene.end(), y.cijene.begin(), std::equal_to&lt;int&gt;());
}
inline bool Berza::operator != (const Berza &amp;y)
{
    return (cijene.size() != y.cijene.size()) || std::equal(cijene.begin(), cijene.end(), y.cijene.begin(), std::not_equal_to&lt;int&gt;());
}



int main ()
{
    Berza test (1, 10000);
    test.RegistrirajCijenu(900);
    test.RegistrirajCijenu(400);
    test.RegistrirajCijenu(1000);

    Berza test2 (1, 10000);
    test2.RegistrirajCijenu(900);
    test2.RegistrirajCijenu(500);
    test2.RegistrirajCijenu(1000);


    std::cout &lt;&lt; (test2 == test);

    return 0;
}
</pre>
</body>
</html>
