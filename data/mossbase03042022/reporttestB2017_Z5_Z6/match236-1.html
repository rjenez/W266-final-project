<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z5/Z6/student8886.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z5/Z6/student4261.cpp<p></p><pre>
<a name="4"></a><font color="#FF00FF"><a href="match236-0.html#4" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_1.gif"/></a>

/B2017/2018: ZadaÄ‡a 5, Zadatak 6
#include &lt;iostream&gt;
#include &lt;vector&gt;
#include &lt;algorithm&gt;
#include &lt;functional&gt;
#include &lt;stdexcept&gt;
#include &lt;iterator&gt;
#include &lt;iomanip&gt;

class Berza {
    
    std::vector&lt;int&gt; v;
    int min, max;
  public:
    
    Berza(int min, int max) {
</font>        if (min&lt;=0 || max&lt;=0) throw std::range_error("Ilegalne granicne cijene");
        Berza::min=min;
        Berza::max=max;
    }
    
    explicit Berza (int max) {
        if (min&lt;=0) throw std::range_error("Ilegalne granicne cijene");
        Berza::min=0;
        Berza::max=max;
    }
    
    void RegistrirajCijenu (int nova) {
        if (nova&lt;min || nova&gt;max) throw std::range_error("Ilegalna cijena");
        v.push_back(nova);
    }
    
    int DajBrojRegistriranihCijena() const { return v.size(); }
    
    void BrisiSve() { v.resize(0); }
    
    int DajMinimalnuCijenu() const {
        if (v.size()==0) throw std::range_error("Nema registriranih cijena");
        return *(std::min_element(v.begin(), v.end()));
    }
    
    int DajMaksimalnuCijenu() const {
        if (v.size()==0) throw std::range_error("Nema registriranih cijena");
        return *(std::max_element(v.begin(), v.end()));
    }
    
    friend bool operator !(const Berza &amp;b);
    
<a name="8"></a><font color="#00FFFF"><a href="match236-0.html#8" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_1.gif"/></a>

    int DajBrojCijenaVecihOd(int x) const {
        if (v.size()==0) throw std::range_error("Nema registriranih cijena");
        return std::count_if(v.begin(), v.end(), std::bind(std::greater&lt;int&gt;(), std::placeholders::_1, x));
</font>    }
    
    void Ispisi() const {
        std::vector&lt;double&gt; pomocni;
        pomocni.resize(v.size());
        std::transform(pomocni.begin(), pomocni.end(), v.begin(), pomocni.begin(), std::plus&lt;double&gt;());
        std::sort(pomocni.begin(), pomocni.end(), std::greater&lt;int&gt;());
        std::transform(pomocni.begin(), pomocni.end(), pomocni.begin(), std::bind(std::divides&lt;double&gt;(), std::placeholders::_1, 100));
        std::streamsize ss=std::cout.precision();
        std::copy(pomocni.begin(), pomocni.end(), std::ostream_iterator&lt;double&gt;(std::cout &lt;&lt; std::fixed &lt;&lt; std::setprecision(2), " \n"));
        std::cout.precision(ss);
    }
    
    int operator [] (int k) const {
        if (k&lt;0 || k&gt;=v.size()) throw std::range_error("Neispravan indeks");
        return v.at(k);
    }
    
    friend Berza &amp;operator ++(Berza &amp;berz);
	friend Berza operator ++(Berza &amp;berz, int);
		
	friend Berza &amp;operator --(Berza &amp;berz);
	friend Berza operator --(Berza &amp;berz, int);
    
    friend Berza operator -(const Berza &amp;berz);
    
    friend Berza operator +(const Berza &amp;berz, int n);
    
	friend Berza operator +(int n, const Berza &amp;berz);
	
	friend Berza operator -(const Berza &amp;berz, int n);
	
	friend Berza operator -(int n, const Berza &amp;berz);
		
	friend Berza &amp;operator +=(Berza &amp;berz, int n);
		
	friend Berza &amp;operator -=(Berza &amp;berz, int n);
	
	friend Berza &amp;operator -=(Berza &amp;b1, Berza &amp;b2);
	
<a name="5"></a><font color="#FF0000"><a href="match236-0.html#5" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_1.gif"/></a>

	friend Berza operator -(const Berza &amp;b1, const Berza &amp;b2);
    
    friend bool operator == (const Berza &amp;b1, const Berza &amp;b2);
    
    friend bool operator != (const Berza &amp;b1, const Berza &amp;b2);
</font>};

Berza &amp;operator ++(Berza &amp;berz) {
    std::vector&lt;int&gt; pomocni(berz.v);
    std::transform(pomocni.begin(), pomocni.end(), pomocni.begin(), std::bind(std::plus&lt;int&gt;(), std::placeholders::_1, 100));
    if (std::count_if(pomocni.begin(), pomocni.end(), std::bind(std::less&lt;int&gt;(), std::placeholders::_1, berz.min)) || std::count_if(pomocni.begin(), pomocni.end(), std::bind(std::greater&lt;int&gt;(), std::placeholders::_1, berz.max))) throw std::range_error("Prekoracen dozvoljeni opseg cijena");
    berz.v=pomocni;
    return berz;
}

Berza operator ++(Berza &amp;berz, int) {
	Berza pomocna(berz);
	++berz;
	return pomocna;
}

Berza &amp;operator --(Berza &amp;berz) {
	std::vector&lt;int&gt; pomocni(berz.v);
    std::transform(pomocni.begin(), pomocni.end(), pomocni.begin(), std::bind(std::minus&lt;int&gt;(), std::placeholders::_1, 100));
    if (std::count_if(pomocni.begin(), pomocni.end(), std::bind(std::less&lt;int&gt;(), std::placeholders::_1, berz.min)) || std::count_if(pomocni.begin(), pomocni.end(), std::bind(std::greater&lt;int&gt;(), std::placeholders::_1, berz.max))) throw std::range_error("Prekoracen dozvoljeni opseg cijena");
    berz.v=pomocni;
	return berz;
}

Berza operator --(Berza &amp;berz, int) {
	Berza pomocna(berz);
	--berz;
	return pomocna;
}

Berza operator -(const Berza &amp;berz) {
    Berza pomocni(berz.min, berz.max);
    pomocni.v=berz.v;
<a name="1"></a><font color="#00FF00"><a href="match236-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_1.gif"/></a>

    std::transform(pomocni.v.begin(), pomocni.v.end(), pomocni.v.begin(), std::bind(std::minus&lt;int&gt;(), berz.max+berz.min, std::placeholders::_1));
    return pomocni;
}

Berza operator +(const Berza &amp;berz, int n) {
</font>	Berza pomocna(berz.min, berz.max);
	pomocna.v=berz.v;
	pomocna+=n;
	return pomocna; 
}

Berza operator +(int n, const Berza &amp;berz) {
	return berz+n;
}

Berza operator -(const Berza &amp;berz, int n) {
	Berza pomocna(berz.min, berz.max);
	pomocna.v=berz.v;
	pomocna-=n;
	return pomocna;
}

Berza operator -(int n, const Berza &amp;berz) {
	Berza pomocni(berz.min, berz.max);
	pomocni.v=berz.v;
	
<a name="7"></a><font color="#0000FF"><a href="match236-0.html#7" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_1.gif"/></a>

	std::transform(pomocni.v.begin(), pomocni.v.end(), pomocni.v.begin(), std::bind(std::minus&lt;int&gt;(), n, std::placeholders::_1));
	if (std::count_if(pomocni.v.begin(), pomocni.v.end(), std::bind(std::less&lt;int&gt;(), std::placeholders::_1, berz.min)) || std::count_if(pomocni.v.begin(), pomocni.v.end(), std::bind(std::greater&lt;int&gt;(), std::placeholders::_1, berz.max))) throw std::domain_error("Prekoracen dozvoljeni opseg cijena");
</font>	
	return pomocni;
}

Berza &amp;operator +=(Berza &amp;berz, int n) {
    Berza pomocni(berz.min, berz.max);
	pomocni.v=berz.v;
	if (n&lt;0) {
	    n=-n;
<a name="2"></a><font color="#0000FF"><a href="match236-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_1.gif"/></a>

	    std::transform(pomocni.v.begin(), pomocni.v.end(), pomocni.v.begin(), std::bind(std::minus&lt;int&gt;(), std::placeholders::_1, n));
        if (std::count_if(pomocni.v.begin(), pomocni.v.end(), std::bind(std::less&lt;int&gt;(), std::placeholders::_1, berz.min)) || std::count_if(pomocni.v.begin(), pomocni.v.end(), std::bind(std::greater&lt;int&gt;(), std::placeholders::_1, berz.max))) throw std::domain_error("Prekoracen dozvoljeni opseg cijena");
</font>	}
	else {
<a name="3"></a><font color="#00FFFF"><a href="match236-0.html#3" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_1.gif"/></a>

	    std::transform(pomocni.v.begin(), pomocni.v.end(), pomocni.v.begin(), std::bind(std::plus&lt;int&gt;(), std::placeholders::_1, n));
        if (std::count_if(pomocni.v.begin(), pomocni.v.end(), std::bind(std::less&lt;int&gt;(), std::placeholders::_1, berz.min)) || std::count_if(pomocni.v.begin(), pomocni.v.end(), std::bind(std::greater&lt;int&gt;(), std::placeholders::_1, berz.max))) throw std::domain_error("Prekoracen dozvoljeni opseg cijena");
</font>	}
	berz.v=pomocni.v;
	return berz;
}

Berza &amp;operator -=(Berza &amp;berz, int n) {
	berz+=(-n);
	return berz;
}

Berza &amp;operator -=(Berza &amp;b1, Berza &amp;b2) {
    Berza temp(b1-b2);
    b1.v=temp.v;
    return b1;
}

Berza operator -(const Berza &amp;b1, const Berza &amp;b2) {
    if (b1.max!=b2.max || b1.min!=b2.min || b1.v.size()!=b2.v.size()) throw std::domain_error("Nesaglasni operandi");
    
    Berza rez(b1.min, b1.max);
    rez.v=b1.v;
    
    std::transform(b1.v.begin(), b1.v.end(), b2.v.begin(), rez.v.begin(), std::minus&lt;int&gt;());
    if (std::count_if(rez.v.begin(), rez.v.end(), std::bind(std::less&lt;int&gt;(), std::placeholders::_1, b1.min)) || std::count_if(rez.v.begin(), rez.v.end(), std::bind(std::greater&lt;int&gt;(), std::placeholders::_1, b1.max))) throw std::domain_error("Prekoracen dozvoljeni opseg cijena");
    
    return rez;
}

bool operator == (const Berza &amp;b1, const Berza &amp;b2) {
    if (b1.max!=b2.max || b1.min!=b2.min || b1.v.size()!=b2.v.size()) return false;
    return std::equal(b1.v.begin(), b1.v.end(), b2.v.begin(), std::equal_to&lt;int&gt;());
}

bool operator != (const Berza &amp;b1, const Berza &amp;b2) {
    return !(b1==b2);
}

bool operator !(const Berza &amp;b) {
    return !(b.v.size());
}

int main ()
{
    /*try {
        std::vector&lt;int&gt; cijene{50, 120, 133, 540, 3600};
        int min(1), max(3950);
        
        Berza b(min, max);
        
        for (int x: cijene) {
            b.RegistrirajCijenu(x);
        }
        
        b.Ispisi();
    
        std::cout &lt;&lt; "Broj reg. cijena je " &lt;&lt; b.DajBrojRegistriranihCijena() &lt;&lt; std::endl;
        std::cout &lt;&lt; "Broj reg. cijena vecih od 120 je " &lt;&lt; b.DajBrojCijenaVecihOd(120) &lt;&lt; std::endl;
        std::cout &lt;&lt; "Minimalna cijena je " &lt;&lt; b.DajMinimalnuCijenu() &lt;&lt; std::endl;
        std::cout &lt;&lt; "Maksimalna cijena je " &lt;&lt; b.DajMaksimalnuCijenu() &lt;&lt; std::endl;
        
        std::cout &lt;&lt; std::endl;
        
        std::cout &lt;&lt; "Treca cijena je " &lt;&lt; b[2] &lt;&lt; std::endl;
    
        b++;
        ++b;
        b.Ispisi();
    
        b--;
        --b;
        b.Ispisi(); 
    
        Berza negb(-b);
        negb.Ispisi();
    
    
        Berza b4(b+3);
        Berza b5(3+b);
    
        if (b4!=b5) std::cout &lt;&lt; "Nesto ne valja" &lt;&lt; std::endl;
        else std::cout &lt;&lt; "Dobro je" &lt;&lt; std::endl;
        b4.Ispisi();
    
    
        Berza b6(4000-b);
        b6.Ispisi();
    
        b.BrisiSve();
        if (!b) std::cout &lt;&lt; "Obrisalo se";
    }
    catch(std::exception &amp;iz) {
        std::cout &lt;&lt; iz.what();
    }*/
    
    try {
         Berza b1 = Berza(600,4000);
         Berza b2 = Berza(600,4000);
         int n;
         std::cout &lt;&lt; "Unesite broj cijena: ";
         std::cin &gt;&gt; n;
         try {
             int i=0;
             std::cout &lt;&lt; "Unesite cijene u kf: " &lt;&lt; std::endl;
             while(i!=n){
                 int kf;
                 std::cin &gt;&gt; kf;
                 b1.RegistrirajCijenu(kf);
                 i++;
             }

         } catch(std::exception &amp;ex) {std::cout &lt;&lt; "IZUZETAK: " &lt;&lt; ex.what() &lt;&lt; std::endl;}
             std::cout &lt;&lt; "Broj registrovanih cijena: " &lt;&lt; b1.DajBrojRegistriranihCijena() &lt;&lt; std::endl;
             if(n-b1.DajBrojRegistriranihCijena()==0) std::cout&lt;&lt; "Sve ok" &lt;&lt; std::endl;
             else std::cout &lt;&lt; "Neuspjelo zapisivanje " &lt;&lt; n-b1.DajBrojRegistriranihCijena() &lt;&lt; " cijena" &lt;&lt;std::endl;

         std::cout &lt;&lt; "Ispis: " &lt;&lt; std::endl;
         b1.Ispisi();
         Berza b3=b1;
         std::cout &lt;&lt; b3.DajMaksimalnuCijenu();
         b1.BrisiSve();
<a name="0"></a><font color="#FF0000"><a href="match236-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_2.gif"/></a>

         std::cout &lt;&lt; "Nakon brisanja b1, broj registrovanih cijena (b1): " &lt;&lt; b1.DajBrojRegistriranihCijena();
         std::cout &lt;&lt; std::endl;
         std::cout &lt;&lt; " Max: " &lt;&lt; b3.DajMaksimalnuCijenu() &lt;&lt; " Min: " &lt;&lt; b3.DajMinimalnuCijenu() &lt;&lt;std::endl;
         std::cout &lt;&lt; "Broj cijena vecih od 1500: " &lt;&lt; b3.DajBrojCijenaVecihOd(1500);
</font>         if(b3==b2) std::cout &lt;&lt; "b2 b3 isti" &lt;&lt;std::endl;
         if(b3!=b2) std::cout &lt;&lt; "b2 b3 razlicit" &lt;&lt; std::endl;
         std::cout &lt;&lt; "Novi b3: ++" &lt;&lt; std::endl;
         b3+=234;
         b3.Ispisi();
         std::cout &lt;&lt; "Novi b3: --" &lt;&lt; std::endl;
         b3-=12;
         b3.Ispisi();
         b2.RegistrirajCijenu(2321);
         b2.RegistrirajCijenu(659);
         b2.RegistrirajCijenu(1337);
         b2.RegistrirajCijenu(3000);
<a name="6"></a><font color="#00FF00"><a href="match236-0.html#6" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_1.gif"/></a>

         std::cout &lt;&lt; "B2: ispis " &lt;&lt;std::endl;
         b2.Ispisi(); std::cout &lt;&lt;std::endl;
         std::cout &lt;&lt; "B3-b2: " &lt;&lt; std::endl;
</font>         b3=b3-b2;
         b3.Ispisi();
     } catch(std::exception &amp;ex) {
         std::cout &lt;&lt; "Izuzetak: " &lt;&lt; ex.what() &lt;&lt; std::endl;
     }
    
	return 0;
}
</pre>
</body>
</html>
