<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z5/Z6/student3867.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z5/Z6/student3867.cpp<p></p><pre>
#include &lt;iostream&gt;
#include &lt;vector&gt;
#include &lt;stdexcept&gt;
#include &lt;algorithm&gt;
#include &lt;functional&gt;
#include &lt;iomanip&gt;

<a name="0"></a><font color="#FF0000"><a href="match151-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_99.gif"/></a>

class Berza
{
    std::vector &lt; int &gt; cijena;
    
    int min, max;

    void NegativeParam ( int x, int y ) const { if ( x &lt; 0 or y &lt; 0 ) throw std::range_error ( "Ilegalne granice cijene" ); }

public:
    Berza ( int min, int max ) : min { min }, max { max } { NegativeParam ( min, max ); }
    explicit Berza ( int max ) : min { 0 }, max { max } { NegativeParam ( min, max ); }
    
    void RegistrirajCijenu ( int nova_cijena )
    {
        if ( nova_cijena &lt; min or nova_cijena &gt; max )
            throw std::range_error ( "Ilegalna cijena" );
            
        cijena.push_back ( nova_cijena );
    }
    
    int DajBrojRegistriranihCijena ( void ) const { return cijena.size (); }
    
    void BrisiSve ( void ) { cijena.clear (); }
    
    int DajMinimalnuCijenu ( void ) const
    {
        if ( cijena.empty () )
            throw std::range_error ( "Nema registriranih cijena" );
        return *std::min_element ( cijena.begin (), cijena.end () );
    }
    
    int DajMaksimalnuCijenu ( void ) const
    {
        if ( cijena.empty () )
            throw std::range_error ( "Nema registriranih cijena" );
        return *std::max_element ( cijena.begin (), cijena.end () );
    }
    
    bool operator ! ( void ) const { return cijena.empty (); }
    
    int DajBrojCijenaVecihOd ( int x ) const
    {
        if ( cijena.empty () ) 
            throw std::range_error ( "Nema registriranih cijena" );
        
        return std::count_if ( cijena.begin (), cijena.end (), std::bind ( std::greater &lt; int &gt; (), std::placeholders::_1, x ) );
    }
    
    void Ispisi ( void ) const
    {
        std::vector &lt; int &gt; temp = cijena;
        std::sort ( temp.begin (), temp.end (), std::greater &lt; int &gt; () );
        
        std::cout.setf ( std::ios::fixed );
        for ( int x : temp )
        {
            float w = static_cast &lt; float &gt; ( x ) / 100.0;
            std::cout &lt;&lt; std::setprecision ( 2 ) &lt;&lt; w &lt;&lt; std::endl;
        }
    }
    
    int operator [] ( int idx )
    {
        if ( idx &lt; 1 or idx &gt; cijena.size () )
            throw std::range_error ( "Neispravan indeks" );
        return cijena.at ( idx + 1 );
    }
    
    Berza &amp;operator ++ ( void )
    {
        std::for_each ( cijena.begin (), cijena.end (), std::bind ( std::multiplies &lt; int &gt; (), std::placeholders::_1, 100 ) );
    
        for ( int x : cijena )
            if ( x &lt; min or x &gt; max )
             throw std::range_error ( "Prekoracen dozvoljeni opseg cijena" );
    }
    
    Berza operator ++ ( int ) 
    {
        Berza temp = *this;
        ++( *this );
        return temp;
    }
    
    Berza &amp;operator -- ( void )
    {
        std::for_each ( cijena.begin (), cijena.end (), std::bind ( std::divides &lt; int &gt; (), std::placeholders::_1, 100 ) );
    
        for ( int x : cijena )
            if ( x &lt; min or x &gt; max )
             throw std::range_error ( "Prekoracen dozvoljeni opseg cijena" );
    }
    
    Berza operator -- ( int ) 
    {
        Berza temp = *this;
        --( *this );
        return temp;
    }
    
    Berza &amp;operator - ( void )
    {
        int avg = min + max;
        Berza nova = *this;
        std::for_each ( nova.cijena.begin (), nova.cijena.end (), std::bind ( std::minus &lt; int &gt; (), avg, std::placeholders::_1 ) );
        return nova;
    }
};


int main ( void )
</font>{
    return 0;
}</pre>
</body>
</html>
