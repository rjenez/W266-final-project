<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z5/Z6/student8705.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z5/Z6/student4682.cpp<p></p><pre>
/B2017/2018: ZadaÄ‡a 5, Zadatak 6
#include &lt;iostream&gt;
#include &lt;vector&gt;
#include &lt;algorithm&gt;
#include &lt;stdexcept&gt;
#include &lt;functional&gt;
#include &lt;iomanip&gt;

class Berza {
    std::vector&lt;int&gt; dionice;
    int minimalna, maksimalna;
    Berza()=default;
    public:
    Berza(int min, int max) {
        if(min&lt;0 || max&lt;0) throw std::range_error("Ilegalne granicne cijene");
        minimalna=min; maksimalna=max;
    }
    explicit Berza(int max) {
        if(max&lt;0) throw std::range_error("Ilegalne granicne cijene");
        minimalna=0; maksimalna=max;
    }
    void RegistrirajCijenu(int cijena);
    int DajBrojRegistriranihCijena() const;
    void BrisiSve();
    int DajMinimalnuCijenu() const;
    int DajMaksimalnuCijenu() const;
    bool operator! ();
    int DajBrojVecihOd(int x) const;
    void Ispisi() const;
    int operator[] (int indeks) const;
    Berza &amp;operator ++();
    Berza operator ++(int=0);
    Berza &amp;operator --();
    Berza operator --(int=0);
    Berza operator -();
    Berza operator + (int x);
    Berza operator - (int x);
  //  Berza operator - (int x, Berza b);
 //   Berza operator + (Berza b1, Berza b2);
    Berza operator - (Berza b2);
    Berza operator +=(int x);
    Berza operator -=(int x);
    bool operator == (Berza b);
    bool operator !=(Berza b);
};

void Berza::RegistrirajCijenu(int cijena) {
    if(cijena&lt;minimalna || cijena&gt;maksimalna) throw std::range_error("Ilegalna cijena");
    dionice.push_back(cijena);
}
int Berza::DajBrojRegistriranihCijena() const {
    return dionice.size();
}
void Berza::BrisiSve() {
    dionice.clear();
}
int Berza::DajMinimalnuCijenu()const {
    if(dionice.empty()) throw std::range_error("Nema registriranih cijena");
    return *(std::min_element(dionice.begin(), dionice.end()));
}
int Berza::DajMaksimalnuCijenu() const {
    if(dionice.empty()) throw std::range_error("Nema registriranih cijena");
    return *(std::max_element(dionice.begin(), dionice.end()));
}
bool Berza::operator! () {
    return dionice.empty();
}
<a name="1"></a><font color="#00FF00"><a href="match749-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_2.gif"/></a>

int Berza::DajBrojVecihOd(int x) const {
    if(dionice.empty()) throw std::range_error("Nema registriranih cijena");
    return std::count_if(dionice.begin(), dionice.end(), std::bind(std::greater&lt;int&gt;(), std::placeholders::_1, x));
</font>}
void Berza::Ispisi() const {
    std::vector&lt;int&gt; pom;
    pom=this-&gt;dionice;
    std::sort(pom.begin(), pom.end(),  std::bind(std::greater&lt;int&gt;(), std::placeholders::_1, std::placeholders::_2));
    for(int i=0; i&lt;pom.size(); i++) {
        double marke(pom[i]/100.);
        std::cout&lt;&lt;std::fixed&lt;&lt;std::setprecision(2)&lt;&lt;marke&lt;&lt;std::endl;
    }
}
<a name="4"></a><font color="#FF00FF"><a href="match749-0.html#4" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_1.gif"/></a>

int Berza::operator[] (int indeks) const {
    if(indeks&lt;=0 || indeks&gt;dionice.size()) throw std::range_error("Neispravan indeks");
    return dionice[indeks-1];
</font>}
Berza &amp;Berza::operator ++() {
<a name="2"></a><font color="#0000FF"><a href="match749-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_2.gif"/></a>

    if(std::find_if(dionice.begin(), dionice.end(), std::bind(std::greater&lt;int&gt;(), std::placeholders::_1, maksimalna-100))!=dionice.end())
    throw std::range_error("Prekoracen dozvoljeni opseg cijena");
</font>    else
<a name="5"></a><font color="#FF0000"><a href="match749-0.html#5" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_1.gif"/></a>

    std::transform(dionice.begin(), dionice.end(), dionice.begin(), std::bind(std::plus&lt;int&gt;(), std::placeholders::_1, 100));
    return *this;
</font>}
Berza Berza::operator ++(int=0) {
    auto povratni(*this);
    povratni.dionice=dionice;
    if(std::find(dionice.begin(), dionice.end(), maksimalna-100)!=dionice.end())
    throw std::range_error("Prekoracen dozvoljeni opseg cijena");
    else
    std::for_each(dionice.begin(), dionice.end(), std::bind(std::plus&lt;int&gt;(), std::placeholders::_1, 100));
    return povratni;
}
Berza &amp;Berza::operator --() {
<a name="0"></a><font color="#FF0000"><a href="match749-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_2.gif"/></a>

    if(std::find_if(dionice.begin(), dionice.end(),std::bind(std::less&lt;int&gt;(), std::placeholders::_1, minimalna+100))!=dionice.end())
    throw std::range_error("Prekoracen dozvoljeni opseg cijena");
</font>    else
    std::transform(dionice.begin(), dionice.end(), dionice.begin(), std::bind(std::minus&lt;int&gt;(), std::placeholders::_1, 100));
    return *this;
}
Berza Berza::operator --(int=0) {
    auto povratni(*this);
    if(std::find_if(dionice.begin(), dionice.end(),std::bind(std::less&lt;int&gt;(), std::placeholders::_1, minimalna+100))!=dionice.end())
    throw std::range_error("Prekoracen dozvoljeni opseg cijena");
    else
    std::for_each(dionice.begin(), dionice.end(), std::bind(std::minus&lt;int&gt;(), std::placeholders::_1, 100));    
    return povratni;
}
Berza Berza::operator -() {
    Berza povratni;
    int cijena(maksimalna+minimalna);
    povratni.dionice=dionice;
    std::transform(povratni.dionice.begin(), povratni.dionice.end(), povratni.dionice.begin(), std::bind(std::minus&lt;int&gt;(), cijena, std::placeholders::_1));
    return povratni;
}
Berza Berza::operator + (int x) {
    Berza povratni;
    povratni.dionice=dionice;
<a name="3"></a><font color="#00FFFF"><a href="match749-0.html#3" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_2.gif"/></a>

    if(std::find_if(povratni.dionice.begin(),povratni.dionice.end(), std::bind(std::greater&lt;int&gt;(), std::placeholders::_1, maksimalna-x))!=povratni.dionice.end())
    throw std::domain_error("Prekoracen dozvoljeni opseg cijena");
    std::transform(povratni.dionice.begin(), povratni.dionice.end(),povratni.dionice.begin(), std::bind(std::plus&lt;int&gt;(), std::placeholders::_1, x));
</font>    return povratni;
}/*
Berza Berza::operator + (int x, Berza b) {
    auto povratni(b+x);
}*/
Berza Berza::operator - (int x) {
    Berza povratni;
    povratni.dionice=dionice;
    if(std::find_if(povratni.dionice.begin(),povratni.dionice.end(), std::bind(std::less&lt;int&gt;(), std::placeholders::_1, minimalna+x))!=povratni.dionice.end())
    throw std::domain_error("Prekoracen dozvoljeni opseg cijena");
    else
    std::transform(povratni.dionice.begin(),povratni.dionice.end(), povratni.dionice.begin(), std::bind(std::minus&lt;int&gt;(), std::placeholders::_1, x));
    return povratni;
}
/*Berza Berza::operator -(int x, Berza b) {
    Berza povratni;
    povratni.dionice=b.dionice;
    if(std::find_if(povratni.dionice.begin(),povratni.dionice.end(), std::bind(std::less&lt;int&gt;(), x-minimalna, std::placeholders::_1))!=povratni.dionice.end())
    throw std::domain_error("Prekoracen dozvoljeni opseg cijena");
    else
    std::for_each(povratni.dionice.begin(),povratni.dionice.end(), std::bind(std::minus&lt;int&gt;(), x, std::placeholders::_1));
    return povratni; 
}*/
Berza Berza::operator - (Berza b2) {
    if(minimalna!=b2.minimalna || maksimalna!=b2.maksimalna || dionice.size()!=b2.dionice.size()) 
    throw std::domain_error("Nesaglasni operandi");
    Berza povratni;
    for(int i=0; i&lt;dionice.size(); i++) povratni.dionice[i]=0;
   // std::for_each(povratni.dionice.begin(),povratni.dionice.end(), std::bind(std::plus&lt;int&gt;(), , std::placeholders::_1));
    return povratni; 
}
bool Berza::operator == (Berza b) {
    if(b.dionice.size()!=dionice.size()) return false;
    else {
        return std::equal(b.dionice.begin(), b.dionice.end(), dionice.end());
    }
}
bool Berza::operator !=(Berza b) {
     if(b.dionice.size()!=dionice.size()) return true;
    else {
        return !(std::equal(b.dionice.begin(), b.dionice.end(), dionice.end()));
    }
}
Berza Berza::operator +=(int x) {
    *this=*this+x;
    return *this;
}
Berza Berza::operator -=(int x) {
    *this=*this-x;
    return *this;
}  

int main ()
{
    try {
    Berza b1(100, 10000);
    b1.RegistrirajCijenu(1500);
    b1.RegistrirajCijenu(2000); b1.RegistrirajCijenu(3000); b1.RegistrirajCijenu(6500);
    std::cout&lt;&lt;b1.DajBrojVecihOd(50)&lt;&lt;std::endl;
    b1.Ispisi(); std::cout&lt;&lt;std::endl;
    std::cout&lt;&lt;b1[2];
    auto poma(b1+150);
    poma.Ispisi();
    ++poma;
    poma.Ispisi();
    }
    catch(std::exception &amp;ex) {
        std::cout&lt;&lt;ex.what();
    }
	return 0;
}
</pre>
</body>
</html>
