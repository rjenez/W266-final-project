<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z5/Z6/student6900.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z5/Z6/student6151.cpp<p></p><pre>
#include &lt;iostream&gt;
#include &lt;iomanip&gt;
#include &lt;iterator&gt;
#include &lt;algorithm&gt;
#include &lt;stdexcept&gt;
#include &lt;functional&gt;
#include &lt;vector&gt;


class Berza {
    int minimalna, maksimalna;
    std::vector&lt;int&gt; cijene;

    public:
    Berza (int x, int y) {
        if (x &lt;= 0 || y &lt;= 0) throw std::range_error("Ilegalne granicne cijene");
        else { minimalna = x; maksimalna = y; }
    }
    explicit Berza (int y) : minimalna(0) {
        if (y &lt;= 0) throw std::range_error("Ilegalne granicne cijene");
        maksimalna = y;
    }
    void RegistrirajCijenu(int ncijena) {
        if (ncijena &gt; maksimalna || ncijena &lt; minimalna) throw std::range_error("Ilegalna cijena");
        else cijene.push_back(ncijena);
    }
    int DajBrojRegistriranihCijena() const { return cijene.size(); }
    void BrisiSve() { cijene.resize(0); }
    int DajMinimalnuCijenu() const {
        if (cijene.size() == 0) throw std::range_error("Nema registriranih cijena");
        return *(std::min_element(cijene.begin(), cijene.end(), std::less&lt;int&gt;()));
    }
    int DajMaksimalnuCijenu() const {
        if (cijene.size() == 0) throw std::range_error("Nema registriranih cijena");
        return *(std::max_element(cijene.begin(), cijene.end(), std::less&lt;int&gt;()));
    }
    bool operator !() const;
    int DajBrojCijenaVecihOd (int x) const {
        if (cijene.size() == 0) throw std::range_error("Nema registriranih cijena");
        return std::count_if(cijene.begin(), cijene.end(), std::bind(std::greater&lt;int&gt;(), std::placeholders::_1, x));
    }
    void Ispisi() const {
        if (cijene.size() == 0) return;
        std::vector &lt;double&gt; pom(cijene.size());
        //std::copy(cijene.begin(), cijene.end(), std::back_inserter(pom.begin()));
        std::transform(cijene.begin(), cijene.end(), pom.begin(), std::bind(std::divides&lt;double&gt;(), std::placeholders::_1, 100.));
        std::sort(pom.begin(), pom.end(), std::greater&lt;double&gt;());
        std::copy(pom.begin(), pom.end(), std::ostream_iterator&lt;double&gt;(std::cout &lt;&lt; std::setprecision(2) &lt;&lt; std::fixed, "\n"));
    }
    int operator [](int n) const;
    Berza &amp;operator += (int x);
    Berza &amp;operator -= (int x);
    Berza &amp;operator -= (const Berza &amp;x);
    friend bool operator == (const Berza &amp;x, const Berza &amp;y);
    friend bool operator != (const Berza &amp;x, const Berza &amp;y);
    friend Berza operator - (const Berza &amp;x, const Berza &amp;y);
<a name="0"></a><font color="#FF0000"><a href="match535-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_3.gif"/></a>

    friend Berza operator + (const Berza &amp;x, int y);
    friend Berza operator - (const Berza &amp;x, int y);
    friend Berza operator + (int x, const Berza &amp;y);
    friend Berza operator - (int x, const Berza &amp;y);
    friend Berza operator - (const Berza &amp;x);
</font>    friend Berza operator ++ (Berza &amp;x, int);
    friend Berza operator -- (Berza &amp;x, int);
    friend Berza &amp;operator ++ (Berza &amp;x);
    friend Berza &amp;operator -- (Berza &amp;x);
};
    bool Berza::operator !()  const{
        if (cijene.size() == 0) return true;
        else return false;
    }
    int Berza::operator [](int n) const {
        if (n &gt; cijene.size() || n &lt; 0) throw std::range_error("Neispravan indeks");
        return cijene[n - 1];
    }
    Berza &amp;Berza::operator += (int x) {
        *this = *this + x;
        return *this;
    }
    Berza &amp;Berza::operator -= (int x) {
        *this = *this - x;
        return *this;
    }
    Berza &amp;Berza::operator -= (const Berza &amp;x) {
        Berza pom = *this;
<a name="5"></a><font color="#FF0000"><a href="match535-0.html#5" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_1.gif"/></a>

        if (x.cijene.size() == cijene.size()) {
            std::transform(pom.cijene.begin(), pom.cijene.end(), x.cijene.begin(), pom.cijene.begin(), std::bind(std::minus&lt;int&gt;(), std::placeholders::_1, std::placeholders::_2));
</font>            int h = std::count_if(pom.cijene.begin(), pom.cijene.end(), std::bind(std::greater&lt;int&gt;(), std::placeholders::_1, this-&gt;maksimalna));
            int j = std::count_if(pom.cijene.begin(), pom.cijene.end(), std::bind(std::less&lt;int&gt;(), std::placeholders::_1, this-&gt;minimalna));
            if (h &gt; 0 || j &gt; 0) throw std::domain_error ("Prekoracen dozvoljeni opseg cijena");
            else *this = pom;
        }   
        return *this;
    }
    Berza operator - (const Berza &amp;x) {
        Berza pom = x;
        std::transform(pom.cijene.begin(), pom.cijene.end(), pom.cijene.begin(), std::bind(std::minus&lt;int&gt;(), pom.maksimalna + pom.minimalna, std::placeholders::_1));
        return pom;
    }
    Berza operator + (const Berza &amp;x, int y) {
        Berza pom = x;
        int h = std::count_if(x.cijene.begin(), x.cijene.end(), std::bind(std::greater&lt;int&gt;(), std::bind(std::plus&lt;int&gt;(), std::placeholders::_1 , y), x.maksimalna));
        int j = std::count_if(x.cijene.begin(), x.cijene.end(), std::bind(std::less&lt;int&gt;(), std::bind(std::plus&lt;int&gt;(), std::placeholders::_1 , y), x.minimalna));
        if (h &gt; 0 || j &gt; 0) throw std::domain_error ("Prekoracen dozvoljeni opseg cijena");
<a name="3"></a><font color="#00FFFF"><a href="match535-0.html#3" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_1.gif"/></a>

        std::transform(pom.cijene.begin(), pom.cijene.end(), pom.cijene.begin(), std::bind(std::plus&lt;int&gt;(), std::placeholders::_1, y));
        return pom;
    }
    Berza operator - (const Berza &amp;x, int y) {
</font>        Berza pom = x;
        int h = std::count_if(x.cijene.begin(), x.cijene.end(), std::bind(std::greater&lt;int&gt;(), std::bind(std::minus&lt;int&gt;(), std::placeholders::_1 , y), x.maksimalna));
        int j = std::count_if(x.cijene.begin(), x.cijene.end(), std::bind(std::less&lt;int&gt;(), std::bind(std::minus&lt;int&gt;(), std::placeholders::_1 , y), x.minimalna));
        if (h &gt; 0 || j &gt; 0) throw std::domain_error ("Prekoracen dozvoljeni opseg cijena");
<a name="1"></a><font color="#00FF00"><a href="match535-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_2.gif"/></a>

        std::transform(pom.cijene.begin(), pom.cijene.end(), pom.cijene.begin(), std::bind(std::minus&lt;int&gt;(), std::placeholders::_1, y));
        return pom;

    }
    Berza operator + (int x, const Berza &amp;y) {
        return y + x;

    }
    Berza operator - (int x, const Berza &amp;y) {
</font>        Berza pom = y;
        int h = std::count_if(y.cijene.begin(), y.cijene.end(), std::bind(std::greater&lt;int&gt;(), std::bind(std::minus&lt;int&gt;(), x, std::placeholders::_1), y.maksimalna));
        int j = std::count_if(y.cijene.begin(), y.cijene.end(), std::bind(std::less&lt;int&gt;(), std::bind(std::minus&lt;int&gt;(), x, std::placeholders::_1), y.minimalna));
        if (h &gt; 0 || j &gt; 0) throw std::domain_error ("Prekoracen dozvoljeni opseg cijena");
<a name="2"></a><font color="#0000FF"><a href="match535-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_2.gif"/></a>

        std::transform(pom.cijene.begin(), pom.cijene.end(), pom.cijene.begin(), std::bind(std::minus&lt;int&gt;(), x, std::placeholders::_1));
        return pom;
    }
    Berza operator - (const Berza &amp;x, const Berza &amp;y) {
        if (x.cijene.size() == y.cijene.size() || x.maksimalna == y.maksimalna || y.minimalna == y.minimalna)
</font>            throw std::domain_error("Nesaglasni operandi");
            
            auto pom = x;
            pom -= y;
            return pom;
    }
<a name="4"></a><font color="#FF00FF"><a href="match535-0.html#4" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_1.gif"/></a>

    bool operator == (const Berza &amp;x, const Berza &amp;y) {
        if (x.cijene.size() != y.cijene.size()) return false;
        bool brojac = std::equal(x.cijene.begin(), x.cijene.end(), y.cijene.begin(), std::bind(std::equal_to&lt;int&gt;(), std::placeholders::_1, std::placeholders::_2));
</font>        if (brojac) return true;
        else return false;
    }
    bool operator != (const Berza &amp;x, const Berza &amp;y) {
        if (x == y) return false;
        else return true;
    }
    Berza &amp;operator ++(Berza &amp;x) {
        try {
            x = x + 100.;
            return x;
        }
        catch(std::domain_error) {
            throw std::range_error ("Prekoracen dozvoljeni opseg cijena");
        }
    }
    Berza &amp;operator --(Berza &amp;x) {
        try {
            x = x - 100.;
            return x;
        }
        catch(std::domain_error) {
            throw std::range_error ("Prekoracen dozvoljeni opseg cijena");
        }
    }
    Berza operator ++(Berza &amp;x, int) {
        Berza pomocni = x;
        ++x;
        return pomocni;
    }
    Berza operator --(Berza &amp;x, int) {
        Berza pomocni = x;
        --x;
        return pomocni;
    }
    
int main() {
    try {
    const Berza b(260);
    //std::cout &lt;&lt; b[3];
    Berza c(260);
    c.RegistrirajCijenu(3);
    c.RegistrirajCijenu(35);
    std::cout &lt;&lt; c[2];
    
    //b += c;
    //b.Ispisi();
    /*c.RegistrirajCijenu(25.);
    auto l = c - 5;
    auto m = b - l;
    m++.Ispisi();
    m.Ispisi();*/
    return 0;
    }
    catch (std::range_error Izuzetak) { std::cout &lt;&lt; Izuzetak.what();}
}

</pre>
</body>
</html>
