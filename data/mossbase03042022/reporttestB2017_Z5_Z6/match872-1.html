<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z5/Z6/student5829.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z5/Z6/student8923.cpp<p></p><pre>
/B2017/2018: ZadaÄ‡a 5, Zadatak 6
#include &lt;iostream&gt;
#include &lt;stdexcept&gt;
#include &lt;vector&gt;
#include &lt;tuple&gt;
#include &lt;cmath&gt;
#include &lt;memory&gt;
#include &lt;algorithm&gt;
#include &lt;functional&gt;
#include &lt;iomanip&gt;
#include &lt;utility&gt;
#include &lt;string&gt;
#include &lt;iterator&gt;


class Berza {
    int maximalna, minimalna;
    std::vector&lt;int&gt; berza;
  public:  
  Berza(int min, int max) : maximalna(max), minimalna(min) {
      if(maximalna  &lt; 0 || minimalna &lt; 0) throw std::range_error("Ilegalne granicne cijene"); 
  }
  explicit Berza(int max) : maximalna(max), minimalna(0) {
      if(maximalna  &lt; 0) throw std::range_error("Ilegalne granicne cijene"); 
  }
  void RegistrirajCijenu(int cijena) {
      if(cijena &gt; maximalna || cijena &lt; minimalna) throw std::range_error("Ilegalna cijena");
      berza.push_back(cijena);
  }
  int DajBrojRegistriranihCijena() const { return berza.size(); }
  void BrisiSve() { berza.resize(0); }
  int DajMinimalnuCijenu() const {
      if(!berza.size()) throw std::range_error("Nema registriranih cijena");
      return*std::min_element(berza.begin(), berza.end());
  }
  int DajMaksimalnuCijenu() const {
      if(!berza.size()) throw std::range_error("Nema registriranih cijena");
      return*std::max_element(berza.begin(), berza.end());
  }
  bool operator!() const {
      return berza.size() == 0;
  }
  int DajBrojCijenaVecihOd(int cijena) const {
      if(!berza.size()) throw std::range_error("Nema registriranih cijena");
      return std::count_if(berza.begin(), berza.end(), std::bind(std::less&lt;int&gt;(), cijena, std::placeholders::_1));
  }
  void Ispisi() const;
<a name="4"></a><font color="#FF00FF"><a href="match872-0.html#4" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_0.gif"/></a>

  int operator[] (int i) const {
      if(i &lt; 1 || i &gt; berza.size()) throw std::range_error("Neispravan indeks");
      return berza[i-1];
</font>  }
  Berza operator++(int);
  Berza&amp; operator++();
  Berza operator--(int);
  Berza&amp; operator--();
  Berza operator-();
  Berza operator+(int n);
  friend Berza operator+(int n, Berza &amp;b);
  friend Berza operator-(Berza &amp;b, int n);
  friend Berza operator-(int n, Berza &amp;b);
  Berza operator+(Berza &amp;b);
  Berza operator-(Berza &amp;b);
  bool operator ==(Berza &amp;b) const;
  bool operator !=(Berza &amp;b) const;
  Berza &amp;operator+=(const int n);
  Berza &amp;operator+=(const Berza &amp;b);
  Berza &amp;operator-=(const int n);
  Berza &amp;operator-=(const Berza &amp;b);
};

Berza &amp;Berza::operator-=(const int n)
{
    std::vector&lt;int&gt; v(berza);
    Berza berz  = *this;
    std::transform(v.begin(), v.end(), v.begin(), std::bind(std::minus&lt;int&gt;(), std::placeholders::_1, n));
    if(std::count_if(v.begin(), v.end(), std::bind(std::greater&lt;int&gt;(), std::placeholders::_1, maximalna))) throw std::domain_error("Prekoracen dozvoljeni opseg cijena");
    if(std::count_if(v.begin(), v.end(), std::bind(std::less&lt;int&gt;(), std::placeholders::_1, minimalna))) throw std::domain_error("Prekoracen dozvoljeni opseg cijena");
    std::transform(berz.berza.begin(), berz.berza.end(), berza.begin(), std::bind(std::minus&lt;int&gt;(), std::placeholders::_1, n));
    return *this;
}

Berza &amp;Berza::operator-=(const Berza &amp;b)
{
    if(maximalna != b.maximalna || minimalna != b.minimalna || berza.size() != b.berza.size()) throw std::domain_error("Nesaglasni operandi");
    Berza berz  = b;
    std::vector&lt;int&gt; v(berza);
    std::transform(v.begin(), v.end(), b.berza.begin(),v.begin(), std::minus&lt;int&gt;());
    if(std::count_if(v.begin(), v.end(), std::bind(std::greater&lt;int&gt;(), std::placeholders::_1, b.maximalna))) throw std::domain_error("Prekoracen dozvoljeni opseg cijena");
    if(std::count_if(v.begin(), v.end(), std::bind(std::less&lt;int&gt;(), std::placeholders::_1, b.minimalna))) throw std::domain_error("Prekoracen dozvoljeni opseg cijena");
    std::transform(berza.begin(), berza.end(), b.berza.begin(), berza.begin(), std::minus&lt;int&gt;());
    return *this;
}

Berza &amp;Berza::operator+=(const Berza &amp;b)
{
    if(maximalna != b.maximalna || minimalna != b.minimalna || berza.size() != b.berza.size()) throw std::domain_error("Nesaglasni operandi");
    Berza berz  = b;
    std::vector&lt;int&gt; v(b.berza);
    std::transform(v.begin(), v.end(), berza.begin(),v.begin(), std::plus&lt;int&gt;());
    if(std::count_if(v.begin(), v.end(), std::bind(std::greater&lt;int&gt;(), std::placeholders::_1, b.maximalna))) throw std::domain_error("Prekoracen dozvoljeni opseg cijena");
    if(std::count_if(v.begin(), v.end(), std::bind(std::less&lt;int&gt;(), std::placeholders::_1, b.minimalna))) throw std::domain_error("Prekoracen dozvoljeni opseg cijena");
    std::transform(berza.begin(), berza.end(), b.berza.begin(), berza.begin(), std::plus&lt;int&gt;());
    return *this;
}

Berza &amp;Berza::operator+=(const int n)
{
    std::vector&lt;int&gt; v(berza);
    Berza berz = *this;
    std::transform(v.begin(), v.end(),v.begin(),  std::bind(std::plus&lt;int&gt;(), n, std::placeholders::_1));
    if(std::count_if(v.begin(), v.end(), std::bind(std::greater&lt;int&gt;(), std::placeholders::_1, maximalna))) throw std::domain_error("Prekoracen dozvoljeni opseg cijena");
    if(std::count_if(v.begin(), v.end(), std::bind(std::less&lt;int&gt;(), std::placeholders::_1, minimalna))) throw std::domain_error("Prekoracen dozvoljeni opseg cijena");
    std::transform(berza.begin(), berza.end(), berza.begin(), std::bind(std::plus&lt;int&gt;(), n, std::placeholders::_1));
    return *this;
}

bool Berza::operator !=(Berza &amp;b) const
{
    return !(b.berza.size() == berza.size() &amp;&amp; std::equal(berza.begin(), berza.end(), b.berza.begin()));
}

bool Berza::operator ==(Berza &amp;b) const
{
    return (b.berza.size() == berza.size() &amp;&amp; std::equal(berza.begin(), berza.end(), b.berza.begin()));
}

Berza Berza::operator-(Berza &amp;b)
{
    if(maximalna != b.maximalna || minimalna != b.minimalna || berza.size() != b.berza.size()) throw std::domain_error("Nesaglasni operandi");
    Berza berz  = b;
    std::vector&lt;int&gt; v(berza);
    std::transform(v.begin(), v.end(), b.berza.begin(),v.begin(), std::minus&lt;int&gt;());
    if(std::count_if(v.begin(), v.end(), std::bind(std::greater&lt;int&gt;(), std::placeholders::_1, b.maximalna))) throw std::domain_error("Prekoracen dozvoljeni opseg cijena");
    if(std::count_if(v.begin(), v.end(), std::bind(std::less&lt;int&gt;(), std::placeholders::_1, b.minimalna))) throw std::domain_error("Prekoracen dozvoljeni opseg cijena");
<a name="5"></a><font color="#FF0000"><a href="match872-0.html#5" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_0.gif"/></a>

    std::transform(berza.begin(), berza.end(), b.berza.begin(), berz.berza.begin(), std::minus&lt;int&gt;());
    return berz;
}

Berza Berza::operator+(Berza &amp;b)
</font>{
    if(maximalna != b.maximalna || minimalna != b.minimalna || berza.size() != b.berza.size()) throw std::domain_error("Nesaglasni operandi");
    Berza berz  = b;
    std::vector&lt;int&gt; v(b.berza);
    std::transform(v.begin(), v.end(), berza.begin(),v.begin(), std::plus&lt;int&gt;());
    if(std::count_if(v.begin(), v.end(), std::bind(std::greater&lt;int&gt;(), std::placeholders::_1, b.maximalna))) throw std::domain_error("Prekoracen dozvoljeni opseg cijena");
    if(std::count_if(v.begin(), v.end(), std::bind(std::less&lt;int&gt;(), std::placeholders::_1, b.minimalna))) throw std::domain_error("Prekoracen dozvoljeni opseg cijena");
    std::transform(berza.begin(), berza.end(), b.berza.begin(), berz.berza.begin(), std::plus&lt;int&gt;());
    return berz;
}

Berza operator-(int n, Berza &amp;b)
{
    std::vector&lt;int&gt; v(b.berza);
    Berza berz  = b;
    std::transform(v.begin(), v.end(),v.begin(),  std::bind(std::minus&lt;int&gt;(), n, std::placeholders::_1));
    if(std::count_if(v.begin(), v.end(), std::bind(std::greater&lt;int&gt;(), std::placeholders::_1, b.maximalna))) throw std::domain_error("Prekoracen dozvoljeni opseg cijena");
<a name="0"></a><font color="#FF0000"><a href="match872-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_0.gif"/></a>

    if(std::count_if(v.begin(), v.end(), std::bind(std::less&lt;int&gt;(), std::placeholders::_1, b.minimalna))) throw std::domain_error("Prekoracen dozvoljeni opseg cijena");
    std::transform(berz.berza.begin(), berz.berza.end(), berz.berza.begin(), std::bind(std::minus&lt;int&gt;(), n, std::placeholders::_1));
</font>    return berz;
}

Berza operator-(Berza &amp;b, int n)
{
    std::vector&lt;int&gt; v(b.berza);
    Berza berz  = b;
    std::transform(v.begin(), v.end(),v.begin(),  std::bind(std::minus&lt;int&gt;(), std::placeholders::_1 , n));
<a name="1"></a><font color="#00FF00"><a href="match872-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_0.gif"/></a>

    if(std::count_if(v.begin(), v.end(), std::bind(std::less&lt;int&gt;(), std::placeholders::_1, b.minimalna))) throw std::domain_error("Prekoracen dozvoljeni opseg cijena");
    std::transform(berz.berza.begin(), berz.berza.end(), berz.berza.begin(), std::bind(std::minus&lt;int&gt;(), std::placeholders::_1 , n));
</font>    return berz;
}

Berza operator+(int n, Berza &amp;b)
{
    std::vector&lt;int&gt; v(b.berza);
    Berza berz = b;
    std::transform(v.begin(), v.end(),v.begin(),  std::bind(std::plus&lt;int&gt;(), n, std::placeholders::_1));
    if(std::count_if(v.begin(), v.end(), std::bind(std::greater&lt;int&gt;(), std::placeholders::_1, b.maximalna))) throw std::domain_error("Prekoracen dozvoljeni opseg cijena");
<a name="2"></a><font color="#0000FF"><a href="match872-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_0.gif"/></a>

    if(std::count_if(v.begin(), v.end(), std::bind(std::less&lt;int&gt;(), std::placeholders::_1, b.minimalna))) throw std::domain_error("Prekoracen dozvoljeni opseg cijena");
    std::transform(berz.berza.begin(), berz.berza.end(), berz.berza.begin(), std::bind(std::plus&lt;int&gt;(), n, std::placeholders::_1));
</font>    return berz;
}

Berza Berza::operator+(int n)
{
    std::vector&lt;int&gt; v(berza);
    Berza berz = *this;
    std::transform(v.begin(), v.end(),v.begin(),  std::bind(std::plus&lt;int&gt;(), n, std::placeholders::_1));
    if(std::count_if(v.begin(), v.end(), std::bind(std::greater&lt;int&gt;(), std::placeholders::_1, maximalna))) throw std::domain_error("Prekoracen dozvoljeni opseg cijena");
<a name="3"></a><font color="#00FFFF"><a href="match872-0.html#3" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_0.gif"/></a>

    if(std::count_if(v.begin(), v.end(), std::bind(std::less&lt;int&gt;(), std::placeholders::_1, minimalna))) throw std::domain_error("Prekoracen dozvoljeni opseg cijena");
    std::transform(berz.berza.begin(), berz.berza.end(), berz.berza.begin(), std::bind(std::plus&lt;int&gt;(), n, std::placeholders::_1));
</font>    return berz;
}

Berza Berza::operator++(int)
{
    std::vector&lt;int&gt; v(berza);
    Berza berz = *this;
    std::transform(v.begin(), v.end(),v.begin(),  std::bind(std::plus&lt;int&gt;(), 100, std::placeholders::_1));
    if(std::count_if(v.begin(), v.end(), std::bind(std::greater&lt;int&gt;(), std::placeholders::_1, maximalna))) throw std::range_error("Prekoracen dozvoljeni opseg cijena");
    std::transform(berza.begin(), berza.end(), berza.begin(), std::bind(std::plus&lt;int&gt;(), 100, std::placeholders::_1));
    return berz;
}
Berza&amp; Berza::operator++()
{
    std::vector&lt;int&gt; v(berza);
    std::transform(v.begin(), v.end(),v.begin(), std::bind(std::plus&lt;int&gt;(), 100, std::placeholders::_1));
    if(std::count_if(v.begin(), v.end(), std::bind(std::greater&lt;int&gt;(), std::placeholders::_1, maximalna))) throw std::range_error("Prekoracen dozvoljeni opseg cijena");
    std::transform(berza.begin(), berza.end(), berza.begin(), std::bind(std::plus&lt;int&gt;(), 100, std::placeholders::_1));
    return *this;
}
Berza Berza::operator--(int)
{
    std::vector&lt;int&gt; v(berza);
    Berza berz  = *this;
    std::transform(v.begin(), v.end(),v.begin(),  std::bind(std::minus&lt;int&gt;(), std::placeholders::_1 , 100));
    if(std::count_if(v.begin(), v.end(), std::bind(std::less&lt;int&gt;(), std::placeholders::_1, minimalna))) throw std::range_error("Prekoracen dozvoljeni opseg cijena");
    std::transform(berza.begin(), berza.end(), berza.begin(), std::bind(std::minus&lt;int&gt;(), std::placeholders::_1 , 100));
    return berz;
}
Berza&amp; Berza::operator--()
{
    std::vector&lt;int&gt; v(berza);
    std::transform(v.begin(), v.end(),v.begin(), std::bind(std::minus&lt;int&gt;(), std::placeholders::_1 , 100));
    if(std::count_if(v.begin(), v.end(), std::bind(std::less&lt;int&gt;(), std::placeholders::_1, minimalna))) throw std::range_error("Prekoracen dozvoljeni opseg cijena");
    std::transform(berza.begin(), berza.end(), berza.begin(), std::bind(std::minus&lt;int&gt;(), std::placeholders::_1 , 100));
    return *this;
}

Berza Berza::operator-()
{
    int maxmin = maximalna + minimalna;
    Berza berz = *this;
    std::transform(berz.berza.begin(), berz.berza.end(), berz.berza.begin(), std::bind(std::minus&lt;int&gt;(), maxmin, std::placeholders::_1));
    return berz;
}

void Berza::Ispisi() const 
{
    std::vector&lt;int&gt; v(berza);
    std::vector&lt;double&gt;v1(v.size());
    std::sort(v.begin(), v.end(), std::greater&lt;int&gt;());
    std::transform(v.begin(), v.end(), v1.begin(), std::bind(std::divides&lt;double&gt;(), std::placeholders::_1, 100));
    std::copy(v1.begin(), v1.end(), std::ostream_iterator&lt;double&gt;(std::cout &lt;&lt; std::fixed &lt;&lt; std::setprecision(2), "\n"));
}


int main ()
{
    Berza b(100000),b2(100000);
    b.RegistrirajCijenu(1000);
    b.RegistrirajCijenu(5000);
    b.RegistrirajCijenu(2000);
    b2.RegistrirajCijenu(300);
    b2.RegistrirajCijenu(220);
    b2.RegistrirajCijenu(200);
    std::cout &lt;&lt; b.DajBrojRegistriranihCijena() &lt;&lt;std::endl;
    std::cout &lt;&lt; b.DajMaksimalnuCijenu() &lt;&lt; std::endl;
    std::cout &lt;&lt; b2.DajMinimalnuCijenu() &lt;&lt;std::endl;
    std::cout &lt;&lt; b.DajBrojCijenaVecihOd(2000) &lt;&lt; std::endl;
    std::cout &lt;&lt; !b2 &lt;&lt; std::endl;
    std::cout &lt;&lt; b2[2] &lt;&lt; std::endl;
    b += b2;
    b += 100;
    b -= 100;
    Berza b1(100000);
    b1 = b - b2;
    b1.Ispisi();
    b1++;
    b1.Ispisi();
    ++b1;
    b1.Ispisi();
    b1--;
    b1.Ispisi();
    --b1;
    b1.Ispisi();
    b1.BrisiSve();
    b2.BrisiSve();
    b1.Ispisi(); b2.Ispisi();
	return 0;
}
</pre>
</body>
</html>
