<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z5/Z6/student9081.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z5/Z6/student9081.cpp<p></p><pre>
/B2017/2018: ZadaÄ‡a 5, Zadatak 6
#include &lt;iostream&gt;
#include &lt;vector&gt;
#include &lt;algorithm&gt;
#include &lt;functional&gt;
#include &lt;stdexcept&gt;
#include &lt;iomanip&gt;

class Berza
{
    int min,max;
    std::vector&lt;int&gt; cijene;
    void BaciIzuzetak();
public:
    Berza (int min, int max):min(min),max(max) {
        if (min&lt;0 || max&lt;0) throw std::range_error ("Ilegalne granicne cijene");
    }
    explicit Berza (int max): min(0),max(max) {
        if (max&lt;0) throw std::range_error ("Ilegalne granicne cijene");
    }
    void RegistrirajCijenu (int cijena);
    int DajBrojRegistriranihCijena () const {return cijene.size();}
    void BrisiSve () {cijene.resize(0);}
    int DajMinimalnuCijenu () const;
    int DajMaksimalnuCijenu () const;
    bool operator ! () {return cijene.size()==0;}
    int DajBrojCijenaVecihOd (int cijena) const;
    void Ispisi() const;
    int operator [] (int indeks) const;
    Berza &amp;operator++();
    Berza operator++(int);
    Berza &amp;operator--();
    Berza operator--(int);
    Berza operator-();
<a name="1"></a><font color="#00FF00"><a href="match188-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_2.gif"/></a>

    friend Berza operator+ (const Berza &amp;b, int n);
    friend Berza operator- (const Berza &amp;b, int n);
    friend Berza operator+ (int n, const Berza &amp;b);
    friend Berza operator- (int n, const Berza &amp;b);
    friend Berza operator- (const Berza &amp;b1, const Berza &amp;b2);
</font>    Berza &amp;operator+=(int n);
    Berza &amp;operator-=(int n);
    Berza &amp;operator-=(const Berza &amp;b);
    friend bool operator == (const Berza &amp;b1, const Berza &amp;b2);
    friend bool operator != (const Berza &amp;b1, const Berza &amp;b2);
};

bool operator== (const Berza &amp;b1, const Berza &amp;b2)
{
    if (std::not_equal_to&lt;int&gt;()(b1.cijene.size(),b2.cijene.size())) return false;
    return std::equal (b1.cijene.begin(),b1.cijene.end(),b2.cijene.begin(),std::equal_to&lt;int&gt;());
}

bool operator!= (const Berza &amp;b1, const Berza &amp;b2)
{
    if (std::not_equal_to&lt;int&gt;() (b1.cijene.size(),b2.cijene.size())) return true;
    return !std::equal(b1.cijene.begin(),b1.cijene.end(),b2.cijene.begin(),std::equal_to&lt;int&gt;());
}

Berza &amp;Berza::operator-=(const Berza &amp;b)
{
    if (std::not_equal_to&lt;int&gt;()(b.min,min) || std::not_equal_to&lt;int&gt;()(b.max,max) || std::not_equal_to&lt;int&gt;()(b.cijene.size(),cijene.size())) 
        throw std::domain_error ("Nesaglasni operandi");
    auto temp(*this);
    std::transform(cijene.begin(),cijene.end(),b.cijene.begin(),cijene.begin(),std::minus&lt;int&gt;());
    try
    {
        BaciIzuzetak();
    }
    catch (std::domain_error iz)
    {
        *this=temp; throw;
    }
    return *this;
}

Berza &amp;Berza::operator-= (int n)
{
    auto temp(*this);
    std::transform(cijene.begin(),cijene.end(),cijene.begin(),std::bind(std::minus&lt;int&gt;(),std::placeholders::_1,n));
    try
    {
        BaciIzuzetak();
    }
    catch (std::domain_error iz)
    {
        *this=temp; throw;
    }
    return *this;
}

Berza &amp;Berza::operator+= (int n)
{
    auto temp(*this);
    std::transform(cijene.begin(),cijene.end(),cijene.begin(),std::bind(std::plus&lt;int&gt;(),std::placeholders::_1,n));
    try 
    {
        BaciIzuzetak();
    }
    catch (std::domain_error iz)
    {
        *this=temp; throw;
    }
    return *this;
}

Berza operator- (const Berza &amp;b1, const Berza &amp;b2)
{
<a name="0"></a><font color="#FF0000"><a href="match188-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_3.gif"/></a>

    if (std::not_equal_to&lt;int&gt;()(b1.min,b2.min) || std::not_equal_to&lt;int&gt;() (b1.max,b2.max) || std::not_equal_to&lt;int&gt;()(b1.cijene.size(),b2.cijene.size()))
        throw std::domain_error ("Nesaglasni operandi");
    Berza temp(b1.min,b1.max);
    temp.cijene.resize(b1.cijene.size());
    std::transform(b1.cijene.begin(),b1.cijene.end(),b2.cijene.begin(),temp.cijene.begin(),std::minus&lt;int&gt;());
    temp.BaciIzuzetak();
    return temp;
</font>}

void Berza::BaciIzuzetak ()
{
    if (std::count_if(cijene.begin(),cijene.end(),std::bind(std::greater&lt;int&gt;(),std::placeholders::_1,max))!=0)
        throw std::domain_error ("Prekoracen dozvoljeni opseg cijena");
    if (std::count_if(cijene.begin(),cijene.end(),std::bind(std::less&lt;int&gt;(),std::placeholders::_1,min))!=0)
        throw std::domain_error ("Prekoracen dozvoljeni opseg cijena");
}

Berza operator- (int n, const Berza &amp;b)
{
    auto temp(b);
<a name="4"></a><font color="#FF00FF"><a href="match188-1.html#4" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_1.gif"/></a>

    std::transform(temp.cijene.begin(),temp.cijene.end(),temp.cijene.begin(),std::bind(std::minus&lt;int&gt;(),n,std::placeholders::_1));
    temp.BaciIzuzetak();
    return temp;
}

inline Berza operator+(int n, const Berza &amp;b)
</font>{
    return b+n;
}

Berza operator+ (const Berza &amp;b, int n)
{
    auto temp(b);
<a name="2"></a><font color="#0000FF"><a href="match188-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_2.gif"/></a>

    std::transform(temp.cijene.begin(),temp.cijene.end(),temp.cijene.begin(),std::bind(std::plus&lt;int&gt;(),std::placeholders::_1,n));
    temp.BaciIzuzetak();
    return temp;
}

Berza operator- (const Berza &amp;b, int n)
{
    auto temp(b);
</font><a name="5"></a><font color="#FF0000"><a href="match188-1.html#5" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_1.gif"/></a>

    std::transform(temp.cijene.begin(),temp.cijene.end(),temp.cijene.begin(),std::bind(std::minus&lt;int&gt;(),std::placeholders::_1,n));
    temp.BaciIzuzetak();
    return temp;
</font>}

Berza Berza::operator- ()
{
    auto temp(*this);
    std::transform(temp.cijene.begin(),temp.cijene.end(),temp.cijene.begin(),std::bind(std::minus&lt;int&gt;(),temp.min+temp.max,std::placeholders::_1));
    return temp;
}

<a name="8"></a><font color="#00FFFF"><a href="match188-1.html#8" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_1.gif"/></a>

Berza Berza::operator--(int)
{
    auto temp(*this);
    std::transform(cijene.begin(),cijene.end(),cijene.begin(),std::bind(std::minus&lt;int&gt;(),std::placeholders::_1,100));
</font>    if (std::count_if(cijene.begin(),cijene.end(),std::bind(std::less&lt;int&gt;(),std::placeholders::_1,min))!=0)
    {
        *this=temp;
        throw std::range_error ("Prekoracen dozvoljeni opseg cijena");
    }
    return temp;
}

Berza &amp;Berza::operator--()
{
    auto temp(*this);
    std::transform(cijene.begin(),cijene.end(),cijene.begin(),std::bind(std::minus&lt;int&gt;(),std::placeholders::_1,100));
    if (std::count_if(cijene.begin(),cijene.end(),std::bind(std::less&lt;int&gt;(),std::placeholders::_1,min))!=0)
    {
        *this=temp;
        throw std::range_error ("Prekoracen dozvoljeni opseg cijena");
    }
    return *this;
}

<a name="3"></a><font color="#00FFFF"><a href="match188-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_1.gif"/></a>

Berza Berza::operator++ (int)
{
    auto temp(*this);
    std::transform(cijene.begin(),cijene.end(),cijene.begin(),std::bind(std::plus&lt;int&gt;(),std::placeholders::_1,100));
</font>    if (std::count_if(cijene.begin(),cijene.end(),std::bind(std::greater&lt;int&gt;(),std::placeholders::_1,max))!=0)
    {
        *this=temp;
        throw std::range_error ("Prekoracen dozvoljeni opseg cijena");
    }
    return temp;
}

Berza &amp;Berza::operator++ ()
{
    auto temp(*this);
    std::transform(cijene.begin(),cijene.end(),cijene.begin(),std::bind(std::plus&lt;int&gt;(),std::placeholders::_1,100));
    if (std::count_if(cijene.begin(),cijene.end(),std::bind(std::greater&lt;int&gt;(),std::placeholders::_1,max))!=0) {
        *this=temp;
        throw std::range_error ("Prekoracen dozvoljeni opseg cijena");}
    return *this;
}

<a name="6"></a><font color="#00FF00"><a href="match188-1.html#6" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_1.gif"/></a>

int Berza::operator[] (int indeks) const
{
    if (indeks&lt;1 || indeks&gt;cijene.size()) throw std::range_error ("Neispravan indeks");
    return cijene[indeks-1];
</font>}

<a name="7"></a><font color="#0000FF"><a href="match188-1.html#7" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_1.gif"/></a>

int Berza::DajBrojCijenaVecihOd (int cijena) const
{
    if (cijene.size()==0) throw std::range_error ("Nema registriranih cijena");
    return std::count_if(cijene.begin(),cijene.end(),std::bind(std::greater&lt;int&gt;(),std::placeholders::_1,cijena));
</font>}

void Berza::RegistrirajCijenu (int cijena)
{
    if (cijena&lt;min || cijena&gt;max) throw std::range_error ("Ilegalna cijena");
    cijene.push_back(cijena);
}

int Berza::DajMinimalnuCijenu () const
{
    if (cijene.size()==0) throw std::range_error ("Nema registriranih cijena");
    return *std::min_element(cijene.begin(),cijene.end());
}

int Berza::DajMaksimalnuCijenu () const
{
    if (cijene.size()==0) throw std::range_error ("Nema registriranih cijena");
    return *std::max_element(cijene.begin(),cijene.end());
}

void Berza::Ispisi () const
{
    std::vector&lt;bool&gt; vec(cijene.size(),false);
    for (int i=0;i&lt;cijene.size();i++)
    {
        int maxi(0);
        while (vec[maxi]==true) maxi++;
        for (int j=0;j&lt;cijene.size();j++)
        {
            if (std::logical_and&lt;int&gt;()(std::greater&lt;int&gt;()(cijene[j],cijene[maxi]),std::not_equal_to&lt;int&gt;()(vec[j],true)))
            maxi=j;
        }
        vec[maxi]=true;
        std::cout&lt;&lt;std::fixed&lt;&lt;std::setprecision(2)&lt;&lt;double(cijene[maxi])/100&lt;&lt;std::endl;
    }
    std::cout.unsetf(std::ios::floatfield);
}

int main ()
{
    int min,max;
    std::cout&lt;&lt;"Unesite minimalnu i maksimalnu cijenu: ";
    while (std::cin&gt;&gt;min&gt;&gt;max,min&lt;0 || max&lt;0)
        std::cout&lt;&lt;"Unesite ponovo!Parametri moraju biti nenegativni!\n";
    Berza b(min,max);
    for(;;)
    {
        int n;
        std::cout&lt;&lt;"Odaberite opciju:\n1 - Dodaj cijenu\n2 - Ispis\n3 - Povecaj za 1KM\n4 - Smanji za 1 KM\n5 - Povecaj/smanji\n";
        std::cout&lt;&lt;"6 - Maksimalna cijena\n7 - Minimalna cijena\n8 - Broj vecih od\n9 - Kraj\n";
        std::cin&gt;&gt;n;
        if (n==1)
        {
            int c;
            std::cout&lt;&lt;"Unesite cijenu: "; std::cin&gt;&gt;c;
            try{b.RegistrirajCijenu(c);}
            catch(...)
            {std::cout&lt;&lt;"Unesite ponovo!\n";}
        }
        else if (n==2) b.Ispisi();
        else if (n==3) 
        {
            try{b++;}
            catch(...)
            {std::cout&lt;&lt;"Prekoracen opseg!\n";}
        }
        else if (n==4)
        {
            try{b--;}
            catch(...)
            {std::cout&lt;&lt;"Prekoracen opseg!\n";}
        }
        else if (n==5)
        {
            std::cout&lt;&lt;"Unesite pomak: \n"; int p;
            std::cin&gt;&gt;p;
            if (p&lt;0) {
                try{b-=p;}
                catch(...)
                {std::cout&lt;&lt;"Prekoracen opseg!\n";}
            }
            else {
                try {b+=p;}
                catch(...)
                {std::cout&lt;&lt;"Prekoracen opseg!\n";}
            }
        }
        else if (n==6) std::cout&lt;&lt;"Maksimalna cijena je "&lt;&lt;b.DajMaksimalnuCijenu()&lt;&lt;"\n";
        else if (n==7) std::cout&lt;&lt;"Minimalna cijene je "&lt;&lt;b.DajMinimalnuCijenu()&lt;&lt;"\n";
        else if (n==8)
        {
            int bp;
            std::cout&lt;&lt;"Unesite broj: "; std::cin&gt;&gt;bp;
            std::cout&lt;&lt;"Broj cijena vecih od "&lt;&lt;bp&lt;&lt;" je "&lt;&lt;b.DajBrojCijenaVecihOd(bp);
        }
        else if (n==9) break;
    }
	return 0;
}
</pre>
</body>
</html>
