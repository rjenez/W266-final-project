<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z5/Z6/student6168.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z5/Z6/student4966.cpp<p></p><pre>
/B2017/2018: ZadaÄ‡a 5, Zadatak 6
#include &lt;iostream&gt;
#include &lt;stdexcept&gt;
#include &lt;vector&gt;
#include &lt;functional&gt;
#include &lt;algorithm&gt;
#include &lt;iomanip&gt;
#include &lt;iterator&gt;
class Berza {
	int maxcijena, mincijena;
	std::vector&lt;int&gt; cijene;
	static bool DaLiSuSaglasni(const Berza &amp;b1, const Berza &amp;b2);
public:
	Berza(int min, int max) { if (min &lt; 0 || max &lt; 0) throw std::range_error("Ilegalne granicne cijene"); mincijena = min; maxcijena = max; }
	explicit Berza(int max) { if (max &lt; 0) throw std::range_error("Ilegalne granicne cijene"); mincijena = 0; maxcijena = max; }
	void RegistrirajCijenu(int cijena) { if (cijena &gt; maxcijena || cijena &lt; mincijena) throw std::range_error("Ilegalna cijena"); cijene.push_back(cijena); }
	int DajBrojRegistriranihCijena() const { return cijene.size(); }
	void BrisiSve() { cijene.clear(); }
	int DajMinimalnuCijenu() const { if (cijene.empty()) throw std::range_error("Nema registriranih cijena"); return *std::min_element(cijene.begin(), cijene.end()); }
	int DajMaksimalnuCijenu() const { if (cijene.empty()) throw std::range_error("Nema registriranih cijena"); return *std::max_element(cijene.begin(), cijene.end()); }
	bool operator !() const { return cijene.empty(); }
	int DajBrojCijenaVecihOd(int n) const;
	void Ispisi() const;
	int operator [](int i) const;
	Berza&amp; operator ++();
	Berza operator ++(int);
	Berza&amp; operator --();
	Berza operator --(int);
	Berza operator -();
	friend Berza operator +(const Berza &amp;b1, const Berza &amp;b2);
	friend Berza operator -(const Berza &amp;b1, const Berza &amp;b2);
	friend Berza operator +(const Berza &amp;b1, int n);
	friend Berza operator +(int n, const Berza &amp;b1);
	friend Berza operator -(const Berza &amp;b1, int n);
	friend Berza operator -(int n, const Berza &amp;b1);
	Berza&amp; operator +=(const Berza &amp;b1);
	Berza&amp; operator -=(const Berza &amp;b1);
	Berza&amp; operator +=(int n);
	Berza&amp; operator -=(int n);
	bool operator ==(const Berza &amp;b) const;
	bool operator !=(const Berza &amp;b) const;
};

int main()
{
	Berza b(500);
	b.RegistrirajCijenu(100); b.RegistrirajCijenu(150); b.RegistrirajCijenu(200);
	b.Ispisi();
	std::cout &lt;&lt; "----------" &lt;&lt; std::endl;
	b++;
	b.Ispisi();
	std::cout &lt;&lt; "----------" &lt;&lt; std::endl;
	b--;
	b.Ispisi();
	std::cout &lt;&lt; "----------" &lt;&lt; std::endl;
	b=-b;
	b.Ispisi();
	std::cout &lt;&lt; "----------" &lt;&lt; std::endl;
	b += 30;
	b.Ispisi();
	std::cout &lt;&lt; "----------" &lt;&lt; std::endl;
	b -= 30;
	b.Ispisi();
    return 0;
}

// IMPLEMENTACIJA
	// Berza::private
bool Berza::DaLiSuSaglasni(const Berza &amp;b1, const Berza &amp;b2) {
	return b1.DajBrojRegistriranihCijena() == b2.DajBrojRegistriranihCijena() &amp;&amp; b1.DajMaksimalnuCijenu() == b2.DajMaksimalnuCijenu() &amp;&amp; b1.DajMinimalnuCijenu() == b2.DajMinimalnuCijenu();
}
	// Berza::public
int Berza::DajBrojCijenaVecihOd(int n) const {
	if (!*this) throw std::range_error("Nema registriranih cijena");
	return std::count_if(cijene.begin(), cijene.end(), std::bind(std::greater&lt;int&gt;(), std::placeholders::_1, n));
}
void Berza::Ispisi() const {
	std::vector&lt;double&gt; pomocni;
	pomocni.resize(cijene.size());
<a name="6"></a><font color="#00FF00"><a href="match167-0.html#6" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_1.gif"/></a>

	std::transform(cijene.begin(),cijene.end(),pomocni.begin(),std::bind(std::divides&lt;double&gt;(),std::placeholders::_1,100.0));
	std::sort(pomocni.begin(), pomocni.end(), std::greater&lt;int&gt;());
</font>	std::copy(pomocni.begin(), pomocni.end(), std::ostream_iterator&lt;double&gt;(std::cout&lt;&lt;std::fixed&lt;&lt;std::setprecision(2), "\n"));
}
int Berza::operator [](int i) const {
<a name="4"></a><font color="#FF00FF"><a href="match167-0.html#4" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_2.gif"/></a>

	if (i &gt; DajBrojRegistriranihCijena()) throw std::range_error("Neispravan indeks");
	return cijene[i - 1];
}
Berza&amp; Berza::operator ++() {
	std::transform(cijene.begin(), cijene.end(), cijene.begin(), std::bind(std::plus&lt;int&gt;(), std::placeholders::_1, 100));
</font><a name="0"></a><font color="#FF0000"><a href="match167-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_2.gif"/></a>

	if (std::count_if(cijene.begin(), cijene.end(), std::bind(std::greater&lt;int&gt;(), std::placeholders::_1, maxcijena))) {
		std::transform(cijene.begin(), cijene.end(), cijene.begin(), std::bind(std::plus&lt;int&gt;(), std::placeholders::_1, -100));
</font>		throw std::range_error("Prekoracen dozvoljeni opseg cijena");
	}
	return *this;
}
Berza Berza::operator ++(int) {
	Berza pomocni(*this);
	std::transform(cijene.begin(), cijene.end(), cijene.begin(), std::bind(std::plus&lt;int&gt;(), std::placeholders::_1, 100));
<a name="1"></a><font color="#00FF00"><a href="match167-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_2.gif"/></a>

	if (std::count_if(cijene.begin(), cijene.end(), std::bind(std::greater&lt;int&gt;(), std::placeholders::_1, maxcijena))) {
		std::transform(cijene.begin(), cijene.end(), cijene.begin(), std::bind(std::plus&lt;int&gt;(), std::placeholders::_1, -100));
</font>		throw std::range_error("Prekoracen dozvoljeni opseg cijena");
	}
	return pomocni;
}
<a name="7"></a><font color="#0000FF"><a href="match167-0.html#7" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_1.gif"/></a>

Berza&amp; Berza::operator --() {
	std::transform(cijene.begin(), cijene.end(), cijene.begin(), std::bind(std::plus&lt;int&gt;(), std::placeholders::_1, -100));
</font><a name="2"></a><font color="#0000FF"><a href="match167-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_2.gif"/></a>

	if (std::count_if(cijene.begin(), cijene.end(), std::bind(std::less&lt;int&gt;(), std::placeholders::_1, mincijena))) {
		std::transform(cijene.begin(), cijene.end(), cijene.begin(), std::bind(std::plus&lt;int&gt;(), std::placeholders::_1, 100));
</font>		throw std::range_error("Prekoracen dozvoljeni opseg cijena");
	}
	return *this;
}
Berza Berza::operator --(int) {
	Berza pomocni(*this);
	std::transform(cijene.begin(), cijene.end(), cijene.begin(), std::bind(std::plus&lt;int&gt;(), std::placeholders::_1, -100));
<a name="3"></a><font color="#00FFFF"><a href="match167-0.html#3" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_2.gif"/></a>

	if (std::count_if(cijene.begin(), cijene.end(), std::bind(std::less&lt;int&gt;(), std::placeholders::_1, mincijena))) {
		std::transform(cijene.begin(), cijene.end(), cijene.begin(), std::bind(std::plus&lt;int&gt;(), std::placeholders::_1, 100));
</font>		throw std::range_error("Prekoracen dozvoljeni opseg cijena");
	}
	return pomocni;
}
Berza Berza::operator -() {
	Berza novi(*this);
	std::transform(novi.cijene.begin(), novi.cijene.end(), novi.cijene.begin(), std::bind(std::minus&lt;int&gt;(), maxcijena + mincijena, std::placeholders::_1));
	return novi;
}
bool Berza::operator ==(const Berza &amp;b) const {
	return DajBrojRegistriranihCijena() == b.DajBrojRegistriranihCijena() &amp;&amp; std::equal(cijene.begin(), cijene.end(), b.cijene.begin());
}
bool Berza::operator !=(const Berza &amp;b) const {
	return !(*this == b);
}
Berza operator +(const Berza &amp;b1, const Berza &amp;b2) {
	if (!Berza::DaLiSuSaglasni(b1, b2)) throw std::domain_error("Nesaglasni operandi");
	Berza b3(b1);
<a name="8"></a><font color="#00FFFF"><a href="match167-0.html#8" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_1.gif"/></a>

	std::transform(b1.cijene.begin(), b1.cijene.end(), b2.cijene.begin(), b3.cijene.begin(), std::plus&lt;int&gt;());
	if (std::count_if(b3.cijene.begin(), b3.cijene.end(), std::bind(std::greater&lt;int&gt;(), std::placeholders::_1, b3.maxcijena)))
</font>		throw std::domain_error("Prekoracen dozvoljeni opseg cijena");
	return b3;
}
Berza operator -(const Berza &amp;b1, const Berza &amp;b2) {
	if (!Berza::DaLiSuSaglasni(b1, b2)) throw std::domain_error("Nesaglasni operandi");
	Berza b3(b1);
<a name="9"></a><font color="#FF00FF"><a href="match167-0.html#9" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_1.gif"/></a>

	std::transform(b1.cijene.begin(), b1.cijene.end(), b2.cijene.begin(), b3.cijene.begin(), std::minus&lt;int&gt;());
	if (std::count_if(b3.cijene.begin(), b3.cijene.end(), std::bind(std::less&lt;int&gt;(), std::placeholders::_1, b3.mincijena)))
</font>		throw std::domain_error("Prekoracen dozvoljeni opseg cijena");
	return b3;
}
Berza operator +(const Berza &amp;b1, int n) {
	Berza b3(b1);
<a name="5"></a><font color="#FF0000"><a href="match167-0.html#5" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_2.gif"/></a>

	std::transform(b3.cijene.begin(), b3.cijene.end(), b3.cijene.begin(), std::bind(std::plus&lt;int&gt;(), std::placeholders::_1, n));
	if (std::count_if(b3.cijene.begin(), b3.cijene.end(), std::bind(std::greater&lt;int&gt;(), std::placeholders::_1, b3.maxcijena)) || std::count_if(b3.cijene.begin(), b3.cijene.end(), std::bind(std::less&lt;int&gt;(), std::placeholders::_1, b3.mincijena)))
</font>		throw std::domain_error("Prekoracen dozvoljeni opseg cijena");
	return b3;
}
Berza operator +(int n, const Berza &amp;b1) {
	return b1 + n;
}
Berza operator -(const Berza &amp;b1, int n) {
	return b1 + (-n);
}
Berza operator -(int n, const Berza &amp;b1) {
	Berza b3(b1);
	std::transform(b3.cijene.begin(), b3.cijene.end(), b3.cijene.begin(), std::bind(std::minus&lt;int&gt;(), n, std::placeholders::_1));
	if (std::count_if(b3.cijene.begin(), b3.cijene.end(), std::bind(std::greater&lt;int&gt;(), std::placeholders::_1, b3.maxcijena)) || std::count_if(b3.cijene.begin(), b3.cijene.end(), std::bind(std::less&lt;int&gt;(), std::placeholders::_1, b3.mincijena)))
		throw std::domain_error("Prekoracen dozvoljeni opseg cijena");
	return b3;
}
Berza&amp; Berza::operator +=(const Berza &amp;b1) {
	return *this = *this + b1;
}
Berza&amp; Berza::operator -=(const Berza &amp;b1) {
	return *this = *this - b1;
}
Berza&amp; Berza::operator +=(int n) {
	return *this = *this + n;
}
Berza&amp; Berza::operator -=(int n) {
	return *this = *this - n;
}</pre>
</body>
</html>
