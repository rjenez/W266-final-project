<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z5/Z6/student5261.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z5/Z6/student9673.cpp<p></p><pre>
/B2017/2018: Zadaća 5, Zadatak 6
#include &lt;iostream&gt;
#include &lt;vector&gt;
#include &lt;stdexcept&gt;
#include &lt;algorithm&gt;
#include &lt;functional&gt;
#include &lt;iomanip&gt;

class Berza
{
    private:
    
    int minimalna, maksimalna;
    std::vector&lt;int&gt; v;
    
    public:
    Berza (int min, int maks);
    Berza(int maks);
    Berza() =delete;   //????
    void RegistrirajCijenu(int nova);
    int DajBrojRegistriranihCijena() const { return v.size();}
    void BrisiSve() { v.resize(0);}
    int DajMinimalnuCijenu() const;
    int DajMaksimalnuCijenu() const;
    bool operator !();
    bool operator !() const;
    int DajBrojCijenaVecihOd(int od_koje_cijene); //treba l biti const
    void Ispisi() const;
    int operator[](int indeks); //kaze u postavci da s ene moze korisiti za izmjenu podataka s lijeve strane jednakosti, tj. ne vraca referencu
    int operator[](int indeks) const;
    
    Berza &amp;operator ++();
    Berza &amp;operator --();
    
    Berza operator ++(int);
    Berza operator --(int);
    
    friend Berza operator + (const Berza &amp;b, int dodaj);
    friend Berza operator - (const Berza &amp;b, int oduzmi);
    
    friend Berza operator + (int dodaj, const Berza &amp;b);
    friend Berza operator - (int oduzmi, const Berza &amp;b);
    
    friend Berza operator + (const Berza &amp;b1, const Berza &amp;b2);
    friend Berza operator - (const Berza &amp;b1, const Berza &amp;b2);
    
    Berza &amp;operator +=(const Berza &amp;b); 
    Berza &amp;operator -=(const Berza &amp;b);
    
    bool operator ==(const Berza &amp;b);
    bool operator !=(const Berza &amp;b);
};

Berza::Berza(int min, int maks)
{
    if( min&lt;0 || maks&lt;0)
    throw std::range_error ("“Ilegalne granicne cijene");
    
    minimalna=min;
    maksimalna=maks;
}

Berza::Berza(int maks)
{
     if(maks&lt;0)
    throw std::range_error ("“Ilegalne granicne cijene");
    
    minimalna=0;
<a name="0"></a><font color="#FF0000"><a href="match877-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_2.gif"/></a>

    maksimalna=maks;
}

void Berza::RegistrirajCijenu(int nova)
{
    if(nova&lt;minimalna || nova&gt;maksimalna)
    throw std::range_error("Ilegalna cijena");
    
    v.push_back(nova);
    
}

int Berza::DajMinimalnuCijenu() const
{
    if(v.size()==0)
    throw std::range_error ("Nema registriranih cijena");
</font>    
    return *std::min_element(v.begin(), v.end());
}

int Berza::DajMaksimalnuCijenu() const
{
    if(v.size()==0)
    throw std::range_error ("Nema registriranih cijena");
    
    return *std::max_element(v.begin(), v.end());  //max_element vraca iterator na najveci element, a ne samo najveci element
}

 bool Berza::operator !()
 {
    if(v.size()==0)
    return true;
    else
    return false;
 }
 
 bool Berza::operator !() const
 {
    if(v.size()==0)
    return true;
    else
    return false; 
 }
 
 int Berza::DajBrojCijenaVecihOd(int od_koje_cijene)
 {
    if(v.size()==0)
    throw std::range_error ("Nema registriranih cijena");
    
<a name="1"></a><font color="#00FF00"><a href="match877-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_1.gif"/></a>

    return std::count_if(v.begin(), v.end(), std::bind(std::greater&lt;int&gt;(), std::placeholders::_1,od_koje_cijene)); 
 }
 
 void Berza::Ispisi() const
 {
    std::vector&lt;int&gt; pomocni(v);
</font>     
    std::sort(pomocni.begin(), pomocni.end(), std::greater&lt;int&gt;() );
     
    //std::transform(pomocni.begin(), pomocni.end(), pomocni.begin(), std::bind(std::divides&lt;int&gt;(), std::placeholders::_1, 100)); 
     
    for(int i=0; i&lt;pomocni.size(); i++)
    std::cout&lt;&lt;std::fixed&lt;&lt;std::setprecision(2)&lt;&lt;pomocni.at(i)/100.&lt;&lt;std::endl;
     
 }
 
 int Berza::operator[](int indeks)
 {
    if(indeks-1&lt;0 || indeks&gt;v.size())
    throw std::range_error("“Neispravan indeks");
    
    return v.at(indeks-1);
 }
 
 int Berza::operator[](int indeks) const
 {
    if(indeks-1&lt;0 || indeks&gt;v.size())
    throw std::range_error("“Neispravan indeks");
    
    return v.at(indeks-1);
 }
 
 Berza &amp;Berza::operator ++()
 {
    if(*std::max_element(v.begin(), v.end())+100&gt;maksimalna)   //da li su minimalna i maksimalna cijena u markama ili feninzima??
    throw std::range_error("Prekoracen dozvoljeni opseg cijena");
    
    std::transform(v.begin(), v.end(), v.begin(), std::bind(std::plus&lt;int&gt;(), std::placeholders::_1, 100));
    
    return *this;
 }
 
 Berza &amp;Berza::operator --()
 {
    if(*std::min_element(v.begin(), v.end())-100&lt;minimalna)   //da li su minimalna i maksimalna cijena u markama ili feninzima??
    throw std::range_error("Prekoracen dozvoljeni opseg cijena");
    
    std::transform(v.begin(), v.end(), v.begin(), std::bind(std::minus&lt;int&gt;(), std::placeholders::_1, 100));
    
    return *this;
 }
 
 Berza Berza::operator ++(int)
 {
    if(*std::max_element(v.begin(), v.end())+100&gt;maksimalna)   //da li su minimalna i maksimalna cijena u markama ili feninzima??
    throw std::range_error("Prekoracen dozvoljeni opseg cijena");
    
    Berza pomocna(*this);
    
    std::transform(v.begin(), v.end(), v.begin(), std::bind(std::plus&lt;int&gt;(), std::placeholders::_1, 100));
    
    return pomocna; 
 }
 
 Berza Berza::operator --(int)
 {
    if(*std::min_element(v.begin(), v.end())-100&lt;minimalna)   //da li su minimalna i maksimalna cijena u markama ili feninzima??
    throw std::range_error("Prekoracen dozvoljeni opseg cijena");
    
    Berza pomocna(*this);
    
    std::transform(v.begin(), v.end(), v.begin(), std::bind(std::minus&lt;int&gt;(), std::placeholders::_1, 100));
    
    return pomocna; 
 }
 
 Berza operator + (const Berza &amp;b, int dodaj)
 {
    if(*std::max_element(b.v.begin(), b.v.end())+dodaj&gt;b.maksimalna)   //da li su minimalna i maksimalna cijena u markama ili feninzima??
    throw std::range_error("Prekoracen dozvoljeni opseg cijena"); 
    
    Berza b1(b.minimalna, b.maksimalna);
    
    std::transform(b1.v.begin(), b1.v.end(), b1.v.begin(), std::bind(std::plus&lt;int&gt;(), std::placeholders::_1, dodaj));
    
    return b1;
 }
 
 Berza operator - (const Berza &amp;b, int oduzmi)
 {
    if(*std::min_element(b.v.begin(), b.v.end())-oduzmi&lt;b.minimalna)   //da li su minimalna i maksimalna cijena u markama ili feninzima??
    throw std::range_error("Prekoracen dozvoljeni opseg cijena"); 
    
    Berza b2(b.minimalna, b.maksimalna);
    
    std::transform(b2.v.begin(), b2.v.end(), b2.v.begin(), std::bind(std::minus&lt;int&gt;(), std::placeholders::_1, oduzmi));
    
    return b2;
 }

 Berza operator + (int dodaj, const Berza &amp;b)
 {
    b+dodaj;
    
    return b;
 }
 
 Berza operator - (int oduzmi, const Berza &amp;b)
 {
    b-oduzmi;
    
    return b;
 }
 
<a name="2"></a><font color="#0000FF"><a href="match877-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_1.gif"/></a>

 Berza operator + (const Berza &amp;b1, const Berza &amp;b2)
 {
    if(b1.maksimalna!=b2.maksimalna || b1.maksimalna!=b2.minimalna || b1.v.size()!=b2.v.size())
</font>    throw std::domain_error("“Nesaglasni operandi");
    
    Berza b3(b1.minimalna, b1.maksimalna);
    
<a name="4"></a><font color="#FF00FF"><a href="match877-0.html#4" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_1.gif"/></a>

    std::transform(b1.v.begin(), b1.v.end(), b2.v.begin(), b3.v.begin(), std::plus&lt;int&gt;() );
    
    if(*std::max_element(b3.v.begin(), b3.v.end())&gt;b3.maksimalna)
</font>    throw std::range_error("Prekoracen dozvoljeni opseg cijena"); 
    
    return b3;
 }
 
<a name="3"></a><font color="#00FFFF"><a href="match877-0.html#3" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_1.gif"/></a>

 Berza operator - (const Berza &amp;b1, const Berza &amp;b2)
 {
    if(b1.maksimalna!=b2.maksimalna || b1.maksimalna!=b2.minimalna || b1.v.size()!=b2.v.size())
</font>    throw std::domain_error("“Nesaglasni operandi");
    
    Berza b3(b1.minimalna, b1.maksimalna);
    
<a name="5"></a><font color="#FF0000"><a href="match877-0.html#5" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_1.gif"/></a>

    std::transform(b1.v.begin(), b1.v.end(), b2.v.begin(), b3.v.begin(), std::minus&lt;int&gt;() );
    
    if(*std::min_element(b3.v.begin(), b3.v.end())&lt;b3.minimalna)
</font>    throw std::range_error("Prekoracen dozvoljeni opseg cijena"); 
    
    return b3;
 }
 
 Berza &amp;Berza::operator +=(const Berza &amp;b)
 {
    if(maksimalna!=b.maksimalna || maksimalna!=b.minimalna || v.size()!=b.v.size())
    throw std::domain_error("“Nesaglasni operandi");
    
    Berza b3(minimalna, maksimalna);
    
    std::transform(v.begin(), v.end(), b.v.begin(), b3.v.begin(), std::plus&lt;int&gt;() );
    
    if(*std::max_element(b3.v.begin(), b3.v.end())&gt;b3.maksimalna)
    throw std::range_error("Prekoracen dozvoljeni opseg cijena");
    
    *this=b3;
    
    return *this;
 }
 
Berza &amp;Berza::operator -=(const Berza &amp;b)
 {
    if(maksimalna!=b.maksimalna || maksimalna!=b.minimalna || v.size()!=b.v.size())
    throw std::domain_error("“Nesaglasni operandi");
    
    Berza b3(minimalna, maksimalna);
    
    std::transform(v.begin(), v.end(), b.v.begin(), b3.v.begin(), std::minus&lt;int&gt;() );
    
    if(*std::min_element(b3.v.begin(), b3.v.end())&lt;b3.minimalna)
    throw std::range_error("Prekoracen dozvoljeni opseg cijena");
    
    *this=b3;
    
    return *this;
 }
 
bool Berza::operator ==(const Berza &amp;b)
{
    if(v.size()==b.v.size())
    {
        return std::equal(v.begin(), v.end(), b.v.begin(), std::equal_to&lt;int&gt;() );
    }
    else
    return false;
}

bool Berza::operator !=(const Berza &amp;b)
{
    if(v.size()==b.v.size())
    {
        return std::equal(v.begin(), v.end(), b.v.begin(), std::not_equal_to&lt;int&gt;() );
    }
    else
    return false; //ovdje true??
}

int main ()
{
    
    Berza b1 = Berza(1000,4000);
    b1.RegistrirajCijenu(3000);
    b1.RegistrirajCijenu(1500);
    b1.RegistrirajCijenu(2000);
    std::cout &lt;&lt; "Broj registrovanih cijena: " &lt;&lt; b1.DajBrojRegistriranihCijena() &lt;&lt; std::endl;
    b1.Ispisi();
    b1.BrisiSve();
    std::cout &lt;&lt; "Broj registrovanih cijena: " &lt;&lt; b1.DajBrojRegistriranihCijena();
    
	return 0;
}
</pre>
</body>
</html>
