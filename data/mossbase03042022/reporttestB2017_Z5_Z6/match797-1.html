<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z5/Z6/student5287.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z5/Z6/student8705.cpp<p></p><pre>
#include &lt;iostream&gt;
#include &lt;stdexcept&gt;
#include &lt;vector&gt;
#include &lt;algorithm&gt;
#include &lt;iomanip&gt;
#include &lt;functional&gt;
using std::vector;

class Berza
{
    int min, max;
    vector&lt;int&gt; cijene;
public:
<a name="2"></a><font color="#0000FF"><a href="match797-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_1.gif"/></a>

    Berza(int min, int max) : min(min), max(max)
    {
        if (min &lt;= 0 || max &lt;= 0) throw std::range_error("Ilegalne granicne cijene");
    }
    //?Kontradikcija. U prethodnom konstruktoru obe granicne cijene trebaju biti pozitivne, a ovdje se minimalna postavlja na nulu
    //Logicno bi bilo prepraviti uslov u prvom konstruktoru da min moze biti i nula, ali cu se drzati postavke zadatka
    explicit Berza(int max) : min(0), max(max)
</font>    {
        if (max &lt;= 0) throw std::range_error("Ilegalne granicne cijene");
    }
    void RegistrirajCijenu(int);
    int DajBrojRegistriranihCijena() const { return cijene.size(); }
    void BrisiSve() { cijene.clear(); }
    int DajMinimalnuCijenu() const;
    int DajMaksimalnuCijenu() const;
    int DajBrojCijenaVecihOd(int) const;
    void Ispisi() const;
    bool operator !() const { return cijene.empty(); }
    Berza &amp;operator ++();
    Berza &amp;operator --();
    Berza operator ++(int) { Berza b(*this); ++*this; return b; }
    Berza operator --(int) { Berza b(*this); --*this; return b; }
    Berza &amp;operator +=(int);
    Berza &amp;operator -=(int x) { return *this += -x; }
    
    bool operator ==(const Berza&amp;) const;
    bool operator !=(const Berza &amp;b) const { return !(*this == b); }
    
    int operator [](int i) const { if (i &lt; 1 || i &gt; cijene.size()) throw std::range_error("Neispravan indeks"); return cijene[i-1]; }
    friend Berza operator -(int, Berza);
    friend Berza operator -(Berza);
    friend Berza operator -(Berza, const Berza&amp;);
};
<a name="1"></a><font color="#00FF00"><a href="match797-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_2.gif"/></a>

void Berza::RegistrirajCijenu(int c)
{
    if (c &lt; min || c &gt; max)
        throw std::range_error("Ilegalna cijena");
    cijene.push_back(c);
}
int Berza::DajMinimalnuCijenu() const
{
    if (cijene.empty()) throw std::range_error("Nema registriranih cijena");
    return *min_element(cijene.begin(), cijene.end());
</font>}
int Berza::DajMaksimalnuCijenu() const
{
    if (cijene.empty()) throw std::range_error("Nema registriranih cijena");
<a name="0"></a><font color="#FF0000"><a href="match797-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_2.gif"/></a>

    return *max_element(cijene.begin(), cijene.end());
}
int Berza::DajBrojCijenaVecihOd(int c) const
{
    if (cijene.empty()) throw std::range_error("Nema registriranih cijena");
    return std::count_if(cijene.begin(), cijene.end(), std::bind(std::greater&lt;int&gt;(), std::placeholders::_1, c));
</font>}
void Berza::Ispisi() const
{
    auto v(cijene);
    std::sort(v.begin(), v.end(), std::greater&lt;int&gt;());
    for_each(v.begin(), v.end(), [](int x) {
        std::cout &lt;&lt; x / 100 &lt;&lt; '.' &lt;&lt; (x % 100 &lt; 10 ? "0" : "") &lt;&lt; x % 100 &lt;&lt; '\n';
    });
}
Berza &amp;Berza::operator ++()
{
    if (cijene.empty()) return *this;
    if (std::find_if(cijene.begin(), cijene.end(), std::bind(std::greater&lt;int&gt;(), std::placeholders::_1, max - 100)) != cijene.end())
        throw std::range_error("Prekoracen dozvoljeni opseg cijena");
<a name="3"></a><font color="#00FFFF"><a href="match797-0.html#3" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_1.gif"/></a>

    std::transform(cijene.begin(), cijene.end(), cijene.begin(), std::bind(std::plus&lt;int&gt;(), std::placeholders::_1, 100));
    return *this;
</font>}
Berza &amp;Berza::operator --()
{
    if (cijene.empty()) return *this;
    if (std::find_if(cijene.begin(), cijene.end(), std::bind(std::less&lt;int&gt;(), std::placeholders::_1, min + 100)) != cijene.end())
        throw std::range_error("Prekoracen dozvoljeni opseg cijena");
<a name="4"></a><font color="#FF00FF"><a href="match797-0.html#4" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_1.gif"/></a>

    std::transform(cijene.begin(), cijene.end(), cijene.begin(), std::bind(std::plus&lt;int&gt;(), std::placeholders::_1, -100));
    return *this;
</font>}
Berza &amp;Berza::operator +=(int x)
{
    if (cijene.empty()) return *this;
    if (std::find_if(cijene.begin(), cijene.end(), std::bind(std::greater&lt;int&gt;(), std::placeholders::_1, max - x)) != cijene.end()
    || std::find_if(cijene.begin(), cijene.end(), std::bind(std::less&lt;int&gt;(), std::placeholders::_1, min - x)) != cijene.end())
        throw std::domain_error("Prekoracen dozvoljeni opseg cijena");
<a name="5"></a><font color="#FF0000"><a href="match797-0.html#5" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_1.gif"/></a>

    std::transform(cijene.begin(), cijene.end(), cijene.begin(), std::bind(std::plus&lt;int&gt;(), std::placeholders::_1, x));
    return *this;
</font>}
bool Berza::operator ==(const Berza &amp;b) const
{
    return cijene.size() == b.cijene.size() &amp;&amp; std::equal(cijene.begin(), cijene.end(), b.cijene.begin());
}
//?Pretpostavljam da ostaju iste granicne vrijednosti za vraceni objekat
Berza operator -(Berza b)
{
    std::transform(b.cijene.begin(), b.cijene.end(), b.cijene.begin(), std::bind(std::minus&lt;int&gt;(), b.min + b.max, std::placeholders::_1));
    return b;
}
inline Berza operator +(Berza b, int x) { return b += x; }
inline Berza operator -(Berza b, int x) { return b -= x; }
inline Berza operator +(int x, Berza b) { return b += x; }
Berza operator -(int x, Berza b)
{
    if (std::find_if(b.cijene.begin(), b.cijene.end(), std::bind(std::greater&lt;int&gt;(), x-b.max, std::placeholders::_1)) != b.cijene.end()
    || std::find_if(b.cijene.begin(), b.cijene.end(), std::bind(std::less&lt;int&gt;(), x-b.min, std::placeholders::_1)) != b.cijene.end())
        throw std::domain_error("Prekoracen dozvoljeni opseg cijena");
    std::transform(b.cijene.begin(), b.cijene.end(), b.cijene.begin(), std::bind(std::minus&lt;int&gt;(), x, std::placeholders::_1));
    return b;
}
Berza operator -(Berza a, const Berza &amp;b)
{
    if (a.cijene.size() != b.cijene.size() || a.min != b.min || a.max != b.max)
        throw std::domain_error("Nesaglasni operandi");
    std::transform(a.cijene.begin(), a.cijene.end(), b.cijene.begin(), a.cijene.begin(), std::minus&lt;int&gt;());
    if (std::find_if(a.cijene.begin(), a.cijene.end(), std::bind(std::greater&lt;int&gt;(), std::placeholders::_1, a.max)) != a.cijene.end()
    || std::find_if(a.cijene.begin(), a.cijene.end(), std::bind(std::less&lt;int&gt;(), std::placeholders::_1, a.min)) != a.cijene.end())
        throw std::domain_error("Prekoracen dozvoljeni opseg cijena");
    return a;
}

int main()
{
    Berza berza(1, 109);
    for (int i(1); i &lt; 10; ++i)
        berza.RegistrirajCijenu(i);
    std::cout &lt;&lt; "Broj cijena: " &lt;&lt; berza.DajBrojRegistriranihCijena() &lt;&lt; '\n';
    berza.BrisiSve();
    std::cout &lt;&lt; "Prazno: " &lt;&lt; std::boolalpha &lt;&lt; !berza;
    std::cout &lt;&lt; "\nBroj cijena: " &lt;&lt; berza.DajBrojRegistriranihCijena() &lt;&lt; '\n';
    for (int i(1); i &lt; 10; ++i)
        berza.RegistrirajCijenu(i);
    std::cout &lt;&lt; "Broj cijena: " &lt;&lt; berza.DajBrojRegistriranihCijena()
    &lt;&lt; "\nNajmanja cijena: " &lt;&lt; berza.DajMinimalnuCijenu()
    &lt;&lt; "\nNajveca cijena: " &lt;&lt; berza.DajMaksimalnuCijenu() &lt;&lt; "\nBroj elemenata vecih od: ";
    for (int i(0); i &lt; 10; ++i)
        std::cout &lt;&lt; berza.DajBrojCijenaVecihOd(i) &lt;&lt; ' ';
    berza++;
    std::cout &lt;&lt; '\n'; berza.Ispisi();
    berza--;
    std::cout &lt;&lt; '\n'; berza.Ispisi();
    ++berza;
    std::cout &lt;&lt; '\n'; berza.Ispisi();
    --berza;
    std::cout &lt;&lt; '\n'; berza.Ispisi();
    std::cout &lt;&lt; '\n'; (berza += 10).Ispisi();
    std::cout &lt;&lt; '\n'; (berza -= 10).Ispisi();
    for (int i(1); i &lt;= 9; ++i) std::cout &lt;&lt; berza[i] &lt;&lt; ' ';
    berza = 100 - berza;
    std::cout &lt;&lt; '\n'; berza.Ispisi();
    berza = -berza; std::cout &lt;&lt; '\n'; berza.Ispisi();
    Berza b(1, 109);
    for (int i(10); i &lt; 19; ++i) b.RegistrirajCijenu(i);
    std::cout &lt;&lt; '\n'; (berza - b).Ispisi();
    std::cout &lt;&lt; "Jednaki: " &lt;&lt; (b == berza);
	return 0;
}</pre>
</body>
</html>
