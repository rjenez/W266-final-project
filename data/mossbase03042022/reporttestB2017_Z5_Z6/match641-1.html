<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z5/Z6/student8118.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z5/Z6/student8035.cpp<p></p><pre>
<a name="4"></a><font color="#FF00FF"><a href="match641-0.html#4" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_1.gif"/></a>

/B2017/2018: ZadaÄ‡a 5, Zadatak 5
#include &lt;iostream&gt;
#include &lt;vector&gt;
#include &lt;stdexcept&gt;
#include &lt;algorithm&gt;
#include &lt;functional&gt;
#include &lt;iomanip&gt;

class Berza
{
    int MIN,MAX;
    std::vector&lt;int&gt; cijene;
</font>    void Test()
    {
        int n = std::count_if(cijene.begin(), cijene.end(), std::bind(std::greater&lt;int&gt;(),std::placeholders::_1,MAX));
        if(n!=0) throw std::range_error("Prekoracen dozvoljeni opseg cijena");
        n = std::count_if(cijene.begin(), cijene.end(), std::bind(std::less&lt;int&gt;(),std::placeholders::_1,MIN));
        if(n!=0) throw std::range_error("Prekoracen dozvoljeni opseg cijena");
    }
public:
    explicit Berza(int max);
    Berza(int min, int max);
    void RegistrirajCijenu(int cijena);
    int DajBrojRegistriranihCijena() const { return cijene.size(); }
    void BrisiSve() { cijene.clear(); }
    int DajMinimalnuCijenu() const;
    int DajMaksimalnuCijenu() const;
    int DajBrojCijenaVecihOd(int cijena);
    void Ispisi() const;
    friend bool operator!(Berza berza);
    int operator[](int x) const;
    friend Berza&amp; operator++(Berza &amp;berza);
    friend Berza operator++(Berza &amp;berza, int);
    friend Berza&amp; operator--(Berza &amp;berza);
    friend Berza operator--(Berza &amp;berza, int);
    friend Berza operator-(Berza berza);
    friend Berza operator+(const Berza &amp;berza, int);
    friend Berza operator+(int, const Berza &amp;berza);
    friend Berza operator-(const Berza &amp;berza, int);
<a name="6"></a><font color="#00FF00"><a href="match641-0.html#6" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_1.gif"/></a>

    friend Berza operator-(int, const Berza &amp;berza);
    friend Berza operator-(const Berza &amp;berza1, const Berza &amp;berza2);
    friend Berza operator+(const Berza &amp;berza1, const Berza &amp;berza2);
</font>    friend Berza operator-=(Berza &amp;berza1, const Berza &amp;berza2);
    friend Berza operator+=(Berza &amp;berza1, const Berza &amp;berza2);
    friend bool operator==(const Berza &amp;berza1, const Berza &amp;berza2);
    friend bool operator!=(const Berza &amp;berza1, const Berza &amp;berza2);
};

Berza::Berza(int max)
{
    if(max&lt;0) throw std::range_error("Ilegalne granice cijene");
    MIN=0;
    MAX=max;
}
Berza::Berza(int min, int max)
{
    if(max&lt;0 || min&lt;0) throw std::range_error("Ilegalne granice cijene");
    MAX=max;
    MIN=min;
}
void Berza::RegistrirajCijenu(int cijena) 
{ 
    if(cijena&lt;MIN || cijena&gt;MAX) throw std::range_error("Ilegalna cijena"); 
    cijene.push_back(cijena);
}
int Berza::DajMinimalnuCijenu() const
{
    if(cijene.size()==0) throw std::range_error("Nema registriranih cijena");
    auto p = std::min_element(cijene.begin(),cijene.end());
    return *p;
}
int Berza::DajMaksimalnuCijenu() const
{
    if(cijene.size()==0) throw std::range_error("Nema registriranih cijena");
    auto p = std::max_element(cijene.begin(),cijene.end());
    return *p;
}
int Berza::DajBrojCijenaVecihOd(int cijena)
{
    if(cijene.size()==0) throw std::range_error("Nema registriranih cijena");
    int n = std::count_if(cijene.begin(),cijene.end(),std::bind(std::greater&lt;int&gt;(),std::placeholders::_1,cijena));
    return n;
}
void Berza::Ispisi() const
{
    if(cijene.size()==0) return;
    std::vector&lt;int&gt; pom(cijene);
    std::sort(pom.begin(),pom.end(),std::greater&lt;int&gt;());
    
    for(int i=0;i&lt;cijene.size();i++) 
    {
        std::cout&lt;&lt;std::setprecision(2)&lt;&lt;std::fixed;
        std::cout&lt;&lt;pom.at(i)/100.&lt;&lt;std::endl;
    }
}
bool operator!(Berza berza)
{
    return !berza.DajBrojRegistriranihCijena();
}
int Berza::operator[](int x) const
{
    if(x&lt;0 || x&gt;=cijene.size()) throw std::range_error("Neispravan indeks");
    return cijene.at(x);
}
Berza&amp; operator++(Berza &amp;berza)
{
    std::vector&lt;int&gt; nove(berza.cijene.size());
    std::transform(berza.cijene.begin(), berza.cijene.end(), nove.begin(), std::bind(std::plus&lt;int&gt;(), 100, std::placeholders::_1));
    int n = std::count_if(nove.begin(), nove.end(), std::bind(std::greater&lt;int&gt;(),std::placeholders::_1,berza.MAX));
    if(n!=0) throw std::range_error("Prekoracen dozvoljeni opseg cijena");
    n = std::count_if(nove.begin(), nove.end(), std::bind(std::less&lt;int&gt;(),std::placeholders::_1,berza.MIN));
    if(n!=0) throw std::range_error("Prekoracen dozvoljeni opseg cijena");
    berza.cijene=nove;
    return berza;
}
Berza operator++(Berza &amp;berza, int)
{
    Berza pomocni(berza);
    ++berza;
    return pomocni;
}
Berza&amp; operator--(Berza &amp;berza)
{
    std::vector&lt;int&gt; nove(berza.cijene.size());
    std::transform(berza.cijene.begin(), berza.cijene.end(), nove.begin(), std::bind(std::minus&lt;int&gt;(), std::placeholders::_1, 100));
    int n = std::count_if(nove.begin(), nove.end(), std::bind(std::greater&lt;int&gt;(),std::placeholders::_1,berza.MAX));
    if(n!=0) throw std::range_error("Prekoracen dozvoljeni opseg cijena");
    n = std::count_if(nove.begin(), nove.end(), std::bind(std::less&lt;int&gt;(),std::placeholders::_1,berza.MIN));
    if(n!=0) throw std::range_error("Prekoracen dozvoljeni opseg cijena");
    berza.cijene=nove;
    return berza;
}
Berza operator--(Berza &amp;berza, int)
{
    Berza pomocni(berza);
    --berza;
    return pomocni;
}
Berza operator-(Berza berza)
{
    std::transform(berza.cijene.begin(), berza.cijene.end(), berza.cijene.begin(), std::bind(std::minus&lt;int&gt;(), berza.MAX + berza.MIN, std::placeholders::_1));
    return berza;
}
<a name="1"></a><font color="#00FF00"><a href="match641-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_1.gif"/></a>

Berza operator+(const Berza &amp;berza, int x)
{
    Berza pomocna(berza);
    std::transform(pomocna.cijene.begin(), pomocna.cijene.end(), pomocna.cijene.begin(), std::bind(std::plus&lt;int&gt;(), x, std::placeholders::_1));
</font>    pomocna.Test();
    return pomocna;
}
Berza operator+(int x, const Berza &amp;berza)
{
    Berza pomocna(berza);
    pomocna=pomocna+x;
    return pomocna;
}
Berza operator-(const Berza &amp;berza, int x)
{
    Berza pomocna(berza);
    std::transform(pomocna.cijene.begin(), pomocna.cijene.end(), pomocna.cijene.begin(), std::bind(std::minus&lt;int&gt;(), std::placeholders::_1, x));
    pomocna.Test();
    return pomocna;
}
<a name="5"></a><font color="#FF0000"><a href="match641-0.html#5" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_1.gif"/></a>

Berza operator-(int x, const Berza &amp;berza)
{
    Berza pomocna(berza);
    std::transform(pomocna.cijene.begin(), pomocna.cijene.end(), pomocna.cijene.begin(), std::bind(std::minus&lt;int&gt;(), x, std::placeholders::_1));
</font>    pomocna.Test();
    return pomocna;
}
Berza operator-(const Berza &amp;berza1, const Berza &amp;berza2)
{
<a name="2"></a><font color="#0000FF"><a href="match641-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_1.gif"/></a>

    if(berza1.MAX != berza2.MAX || berza1.MIN != berza2.MIN || berza1.cijene.size() != berza2.cijene.size()) throw std::domain_error("Nesaglasni operandi");
    Berza pomocna(berza1);
    std::transform(berza1.cijene.begin(), berza1.cijene.end(), berza2.cijene.begin(), pomocna.cijene.begin(), std::minus&lt;int&gt;());
</font>    pomocna.Test();
    return pomocna;
}
Berza operator+(const Berza &amp;berza1, const Berza &amp;berza2)
{
<a name="3"></a><font color="#00FFFF"><a href="match641-0.html#3" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_1.gif"/></a>

    if(berza1.MAX != berza2.MAX || berza1.MIN != berza2.MIN || berza1.cijene.size() != berza2.cijene.size()) throw std::domain_error("Nesaglasni operandi");
    Berza pomocna(berza1);
    std::transform(berza1.cijene.begin(), berza1.cijene.end(), berza2.cijene.begin(), pomocna.cijene.begin(), std::plus&lt;int&gt;());
</font>    pomocna.Test();
    return pomocna;
}
Berza operator-=(Berza &amp;berza1, const Berza &amp;berza2)
{
    return berza1=berza1-berza2;
}
Berza operator+=(Berza &amp;berza1, const Berza &amp;berza2)
{
    return berza1=berza1+berza2;
}
bool operator==(const Berza &amp;berza1, const Berza &amp;berza2)
{
    if(berza1.cijene.size() != berza2.cijene.size()) return false; 
    std::vector&lt;int&gt; priv1(berza1.cijene);
    std::vector&lt;int&gt; priv2(berza2.cijene);
<a name="0"></a><font color="#FF0000"><a href="match641-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_1.gif"/></a>

    std::sort(priv1.begin(),priv1.end(),std::less&lt;int&gt;());
    std::sort(priv2.begin(),priv2.end(),std::less&lt;int&gt;());
</font>    return std::equal(priv1.begin(),priv1.end(),priv2.begin());
}
bool operator!=(const Berza &amp;berza1, const Berza &amp;berza2)
{
    if(berza1.cijene.size() != berza2.cijene.size()) return true; 
    std::vector&lt;int&gt; priv1(berza1.cijene);
    std::vector&lt;int&gt; priv2(berza2.cijene);
    std::sort(priv1.begin(),priv1.end(),std::less&lt;int&gt;());
    std::sort(priv2.begin(),priv2.end(),std::less&lt;int&gt;());
    return !std::equal(priv1.begin(),priv1.end(),priv2.begin());
}
int main ()
{
    std::cout&lt;&lt;"Unesite minimalnu i maksimalnu cijenu (min max): ";
    int n,m;
    std::cin&gt;&gt;n&gt;&gt;m;
    Berza berza(n,m);
    while(true)
    {
        try
        {
            std::cout&lt;&lt;"1 - Registriraj novu cijenu"&lt;&lt;std::endl&lt;&lt;"2 - Prikazi broj registriranih cijena"&lt;&lt;std::endl&lt;&lt;"3 - Obrisi sve cijene"&lt;&lt;std::endl&lt;&lt;"4 - Ispisi najmanju cijenu"&lt;&lt;std::endl&lt;&lt;"5 - Ispisi najvecu cijenu"&lt;&lt;std::endl&lt;&lt;"6 - Ispisi sve cijene"&lt;&lt;std::endl&lt;&lt;"7 - Dodaj 1KM na sve cijene"&lt;&lt;std::endl&lt;&lt;"8 - Oduzmi 1KM od svih cijena"&lt;&lt;std::endl;
            int unos;
            std::cin&gt;&gt;unos;
            if(unos == 1)
            {
                std::cout&lt;&lt;"Unesite cijenu: ";
                int cijena;
                std::cin&gt;&gt;cijena;
                berza.RegistrirajCijenu(cijena);
            }
            else if(unos==2)
            {
                std::cout&lt;&lt;"Broj cijena: "&lt;&lt;berza.DajBrojRegistriranihCijena()&lt;&lt;std::endl;
            }
            else if(unos==3)
            {
                berza.BrisiSve();
                std::cout&lt;&lt;"Sve cijene uspjesno obrisane"&lt;&lt;std::endl;
            }
            else if(unos==4)
            {
                std::cout&lt;&lt;"Najmanja cijena: "&lt;&lt;berza.DajMinimalnuCijenu()/100.&lt;&lt;std::endl;
            }
            else if(unos==5)
            {
                std::cout&lt;&lt;"Najveca cijena: "&lt;&lt;berza.DajMaksimalnuCijenu()/100.&lt;&lt;std::endl;
            }
            else if(unos==6)
            {
                berza.Ispisi();
            }
            else if(unos==7)
            {
                berza++;
                std::cout&lt;&lt;"Dodana marka na sve cijene"&lt;&lt;std::endl;
            }
            else if(unos==8)
            {
                berza--;
                std::cout&lt;&lt;"Oduzeta marka od svih cijena"&lt;&lt;std::endl;
            }
        }
        catch(std::range_error izuzetak)
        {
            std::cout&lt;&lt;"IZUZETAK: "&lt;&lt;izuzetak.what()&lt;&lt;std::endl;
        }
        catch(std::domain_error izuzetak)
        {
            std::cout&lt;&lt;"IZUZETAK: "&lt;&lt;izuzetak.what()&lt;&lt;std::endl;
        }
    }
	return 0;
}
</pre>
</body>
</html>
