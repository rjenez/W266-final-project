<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z4/Z2/student9451.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z4/Z2/student2142.cpp<p></p><pre>
<a name="1"></a><font color="#00FF00"><a href="match169-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_41.gif"/></a>

/B2017/2018: ZadaÄ‡a 4, Zadatak 2
#include &lt;iostream&gt;
#include &lt;tuple&gt;
#include &lt;cmath&gt;
#include &lt;memory&gt;
#include &lt;vector&gt;
#include &lt;algorithm&gt;
#include &lt;stdexcept&gt;

using namespace std;


const double pi=4*atan(1);
const double eps=0.000001;
bool Jednakost(double k1,double k2)
{
    return abs(k1-k2)&lt;eps*(abs(k1)+abs(k2));
}



class NepreklapajucaKugla
{   
    double x,y,z,r;
    static NepreklapajucaKugla *prethodni;
           NepreklapajucaKugla *trenutni;
    static int br;
    
        bool DaLiSePreklapaju(NepreklapajucaKugla s,NepreklapajucaKugla *s1)
        {   
            
            while(s1-&gt;prethodni!=nullptr)
            { 
                
                s1-&gt;Ispisi();
                if(s.DaLiSadrzi(*s1-&gt;prethodni) &amp;&amp; s1-&gt;prethodni!=nullptr)
                {
                    return true;
                }
               s1=s1-&gt;prethodni;
                
    
            }
            return false;
        }
        
    public:
       /* explicit NepreklapajucaKugla(double r = 0):x(0),y(0),z(0)
        {
            NepreklapajucaKugla::r;
        }*/
        NepreklapajucaKugla(double x, double y, double z, double r = 0)
        {    
                NepreklapajucaKugla::x=x;
                NepreklapajucaKugla::y=y;
                NepreklapajucaKugla::z=z;
                NepreklapajucaKugla::r=r;
                
                NepreklapajucaKugla *novi=this;
                
                
                
                
                if(br==0)
                {
                    prethodni=nullptr;
                    trenutni=novi;
                    
                }
                else 
                {   
                    NepreklapajucaKugla *temp=prethodni;
                    
                    while(temp!=nullptr)
                    {  
                        if(novi-&gt;DaLiSadrzi(*temp))
                            throw logic_error("Ne valja");
                        temp=temp-&gt;prethodni;
                    }
                    prethodni=novi-&gt;prethodni;
                    trenutni=novi;
                }
                
            br++;
        }
        explicit NepreklapajucaKugla(const std::tuple&lt;double, double, double&gt; &amp;centar, double r = 0):
            x(get&lt;0&gt;(centar)),y(get&lt;1&gt;(centar)),z(get&lt;2&gt;(centar)),r(r){};
        double DajX() const{ return x;}
        double DajY() const{ return y;}
        double DajZ() const{ return z;}
        std::tuple&lt;double, double, double&gt; DajCentar() const
        {
            return make_tuple(x,y,z);
        }
        double DajPoluprecnik() const
        {
            return r;
        }
        double DajPovrsinu() const
        {
            return r*r*pi;
        }
        double DajZapreminu() const
        {
            return (4/3)*r*r*r*pi;
        }
        NepreklapajucaKugla &amp;PostaviX(double x)
        {
            NepreklapajucaKugla::x=x;
            return *this;
        }
        NepreklapajucaKugla &amp;PostaviY(double y)
        {
            NepreklapajucaKugla::y=y;
</font>            return *this;
        }
        NepreklapajucaKugla &amp;PostaviZ(double z)
        {
            NepreklapajucaKugla::z=z;
            return *this;
        }
       
<a name="0"></a><font color="#FF0000"><a href="match169-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_53.gif"/></a>

        NepreklapajucaKugla &amp;PostaviCentar(double x, double y, double z)
        {
            NepreklapajucaKugla::x=x;
            NepreklapajucaKugla::y=y;
            NepreklapajucaKugla::z=z;
            return *this;
        }
       
        NepreklapajucaKugla &amp;PostaviCentar(const std::tuple&lt;double, double, double&gt; &amp;centar)
        {
            NepreklapajucaKugla::x=get&lt;0&gt;(centar);
            NepreklapajucaKugla::y=get&lt;1&gt;(centar);
            NepreklapajucaKugla::z=get&lt;2&gt;(centar);
            return *this;
        }
       
        NepreklapajucaKugla &amp;PostaviPoluprecnik(double r)
        {
            NepreklapajucaKugla::r=r;
            return *this;
        }
       
        void Ispisi() const
        {
            cout&lt;&lt;"{("&lt;&lt;x&lt;&lt;","&lt;&lt;y&lt;&lt;","&lt;&lt;z&lt;&lt;"),"&lt;&lt;r&lt;&lt;"}"&lt;&lt;endl;
        }
        
        void Transliraj(double delta_x, double delta_y, double delta_z)
        {
            x=x+delta_x;
            y=y+delta_y;
            z=z+delta_z;
        }
       
        bool DaLiSadrzi(const NepreklapajucaKugla &amp;k) const
        {
                if(this-&gt;DajPoluprecnik()&lt;k.DajPoluprecnik())
                {
                    return RastojanjeCentara(*this,k)&lt;k.DajPoluprecnik();
                }
              
               return (this-&gt;DajPoluprecnik()&gt;RastojanjeCentara(*this,k)) ;
                   
                      
        }
       
        friend double RastojanjeCentara(const NepreklapajucaKugla &amp;k1, const NepreklapajucaKugla &amp;k2)
        {
           double d=sqrt((k2.DajX()-k1.DajX())*(k2.DajX()-k1.DajX())+(k2.DajY()-k1.DajY())*(k2.DajY()-k1.DajY())+(k2.DajZ()-k1.DajZ())*(k2.DajZ()-k1.DajZ()));
           return d;
        }
};



NepreklapajucaKugla *NepreklapajucaKugla::prethodni=nullptr;
//NepreklapajucaKugla *NepreklapajucaKugla::trenutni=nullptr;
int NepreklapajucaKugla::br=0;

int main ()
{
   int n;
   cout&lt;&lt;"Unesite broj kugli: ";
   cin&gt;&gt;n;
   vector&lt;shared_ptr&lt;NepreklapajucaKugla&gt;&gt; Lopte;
   
   for(int i=0;i&lt;n;i++)
   {
       cout&lt;&lt;"Unesite centar za "&lt;&lt;i+1&lt;&lt;". kuglu: ";
       int x,y,z;
       cin&gt;&gt;x&gt;&gt;y&gt;&gt;z;
       cout&lt;&lt;"Unesite poluprecnik: ";
       double  r;
       cin&gt;&gt;r;
      
       try
       {
         Lopte.push_back(make_shared&lt;NepreklapajucaKugla&gt;(x,y,z,r));
        
       }
       catch(logic_error e)
       {
           //a=1;
           cout&lt;&lt;e.what()&lt;&lt;endl;
           i--;
       }
      // cout&lt;&lt;"Ovdje sam";//if(a) i--;
   }
   
  
   
   sort(Lopte.begin(),Lopte.end(),[](shared_ptr&lt;NepreklapajucaKugla&gt; s1,shared_ptr&lt;NepreklapajucaKugla&gt; s2)
            {
                double v1=s1-&gt;DajPovrsinu();
                double v2=s2-&gt;DajPovrsinu();
                
                return v1&gt;v2;
            }
       );
    
    cout&lt;&lt;"Kugle nakon obavljenog sortiranja: "&lt;&lt;endl;
    for_each(Lopte.begin(),Lopte.end(),[](shared_ptr&lt;NepreklapajucaKugla&gt; s)
                {
                    s-&gt;Ispisi();
</font>                }
            );
         
   	return 0;
}
</pre>
</body>
</html>
