<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z4/Z2/student6774.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z4/Z2/student6774.cpp<p></p><pre>
#include &lt;iostream&gt;
#include&lt;tuple&gt;
#include&lt;stdexcept&gt;
#include&lt;memory&gt;
#include&lt;vector&gt;
#include&lt;cmath&gt;
#include&lt;algorithm&gt;

#define PI 4*atan(1)
#define epsilon pow(10,-10)

<a name="0"></a><font color="#FF0000"><a href="match402-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_5.gif"/></a>

class NepreklapajucaKugla{
    double x,y,z,r;
    public:
    explicit NepreklapajucaKugla(double r1 = 0){
        if(r1&lt;0)throw  std::domain_error{"Ilegalan poluprecnik"};
        x=0;y=0;z=0;r=r1;
    }
NepreklapajucaKugla(double x1, double y1, double z1, double r1 = 0){
    if(r1&lt;0)throw  std::domain_error{"Ilegalan poluprecnik"};
    x=x1;y=y1;z=z1;r=r1;
}
explicit NepreklapajucaKugla(const std::tuple&lt;double, double, double&gt; &amp;centar, double r1 = 0){
    if(r1&lt;0)throw  std::domain_error{"Ilegalan poluprecnik"};
    x=std::get&lt;0&gt;(centar);y=std::get&lt;1&gt;(centar);z=std::get&lt;2&gt;(centar);r=r1;
}
double DajX() const{return x;}
double DajY() const{return y;}
double DajZ() const{return z;}
std::tuple&lt;double, double, double&gt; DajCentar() const{
</font>    return std::make_tuple(x,y,z);
}
double DajPoluprecnik() const{return r;}
double DajPovrsinu() const{return  4*r*r*PI;}
double DajZapreminu() const{return (4/3)*r*r*r*PI;}
<a name="1"></a><font color="#00FF00"><a href="match402-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_3.gif"/></a>

NepreklapajucaKugla &amp;PostaviX(double x1){x=x1;return *this;}
NepreklapajucaKugla &amp;PostaviY(double y1){y=y1;return *this;}
NepreklapajucaKugla &amp;PostaviZ(double z1){z=z1;return *this;}
NepreklapajucaKugla &amp;PostaviCentar(double x1, double y1, double z1){x=x1;y=y1;z=z1;return *this;}
NepreklapajucaKugla &amp;PostaviCentar(const std::tuple&lt;double, double, double&gt; &amp;centar){x=std::get&lt;0&gt;(centar);y=std::get&lt;1&gt;(centar);z=std::get&lt;2&gt;(centar);return *this;}
NepreklapajucaKugla &amp;PostaviPoluprecnik(double r1){r=r1;return *this;}
</font>void Ispisi() const{std::cout &lt;&lt; "{("&lt;&lt;x&lt;&lt;","&lt;&lt; y&lt;&lt;","&lt;&lt; z&lt;&lt;"),"&lt;&lt; r&lt;&lt;"}" &lt;&lt; std::endl;}
void Transliraj(double dx, double dy, double dz){x+=dx;y+=dy;z+=dz;}
friend bool DaLiSuIdenticne(const NepreklapajucaKugla &amp;k1, const NepreklapajucaKugla &amp;k2);
friend bool DaLiSuPodudarne(const NepreklapajucaKugla &amp;k1, const NepreklapajucaKugla &amp;k2);
friend bool DaLiSuKoncentricne(const NepreklapajucaKugla &amp;k1, const NepreklapajucaKugla &amp;k2);
friend bool DaLiSeDodirujuIzvana(const NepreklapajucaKugla &amp;k1, const NepreklapajucaKugla &amp;k2);
friend bool DaLiSeDodirujuIznutra(const NepreklapajucaKugla &amp;k1, const NepreklapajucaKugla &amp;k2);
friend bool DaLiSePreklapaju(const NepreklapajucaKugla &amp;k1, const NepreklapajucaKugla &amp;k2);
friend bool DaLiSeSijeku(const NepreklapajucaKugla &amp;k1, const NepreklapajucaKugla &amp;k2);
bool DaLiSadrzi(const NepreklapajucaKugla &amp;k2) const{
    if(sqrt((x-k2.x)*(x-k2.x)+(y-k2.y)*(y-k2.y)+(z-k2.z)*(z-k2.z))&lt;r-k2.r||sqrt((x-k2.x)*(x-k2.x)+(y-k2.y)*(y-k2.y)+(z-k2.z)*(z-k2.z))&lt;k2.r-r)return true;
     if(sqrt((x-k2.x)*(x-k2.x)+(y-k2.y)*(y-k2.y)+(z-k2.z)*(z-k2.z))-epsilon&lt;r-k2.r+epsilon||sqrt((x-k2.x)*(x-k2.x)+(y-k2.y)*(y-k2.y)+(z-k2.z)*(z-k2.z))-epsilon&lt;k2.r-r+epsilon)return true;
   if(sqrt((x-k2.x)*(x-k2.x)+(y-k2.y)*(y-k2.y)+(z-k2.z)*(z-k2.z))+epsilon&lt;r-k2.r-epsilon||sqrt((x-k2.x)*(x-k2.x)+(y-k2.y)*(y-k2.y)+(z-k2.z)*(z-k2.z))+epsilon&lt;k2.r-r-epsilon)return true;
    return false;
}
friend double RastojanjeCentara(const NepreklapajucaKugla &amp;k1, const NepreklapajucaKugla &amp;k2);
};
bool DaLiSuIdenticne(const NepreklapajucaKugla &amp;k1, const NepreklapajucaKugla &amp;k2){
    if(k1.x==k2.x&amp;&amp;k1.y==k2.y&amp;&amp;k1.z==k2.z&amp;&amp;k1.r==k2.r)return true;
    if(k1.x-epsilon==k2.x+epsilon&amp;&amp;k1.y-epsilon==k2.y+epsilon&amp;&amp;k1.z-epsilon==k2.z+epsilon&amp;&amp;k1.r-epsilon==k2.r+epsilon)return true;
   if(k1.x+epsilon==k2.x-epsilon&amp;&amp;k1.y+epsilon==k2.y-epsilon&amp;&amp;k1.z+epsilon==k2.z-epsilon&amp;&amp;k1.r+epsilon==k2.r-epsilon)return true;
   return false;
}
bool DaLiSuPodudarne(const NepreklapajucaKugla &amp;k1, const NepreklapajucaKugla &amp;k2){if(k1.r==k2.r)return true; if(k1.r+epsilon==k2.r-epsilon)return true;if(k1.r-epsilon==k2.r+epsilon)return true;return false; }
bool DaLiSuKoncentricne(const NepreklapajucaKugla &amp;k1, const NepreklapajucaKugla &amp;k2){if(k1.x==k2.x&amp;&amp;k1.y==k2.y&amp;&amp;k1.z==k2.z)return true;if(k1.x+epsilon==k2.x-epsilon&amp;&amp;k1.y+epsilon==k2.y-epsilon&amp;&amp;k1.z+epsilon==k2.z-epsilon)return true;if(k1.x-epsilon==k2.x+epsilon&amp;&amp;k1.y-epsilon==k2.y+epsilon&amp;&amp;k1.z-epsilon==k2.z+epsilon)return true;return false;}
bool DaLiSeDodirujuIzvana(const NepreklapajucaKugla &amp;k1, const NepreklapajucaKugla &amp;k2){
    if(sqrt((k1.x-k2.x)*(k1.x-k2.x)+(k1.y-k2.y)*(k1.y-k2.y)+(k1.z-k2.z)*(k1.z-k2.z))+epsilon==k1.r+k2.r-epsilon)return true;
   if(sqrt((k1.x-k2.x)*(k1.x-k2.x)+(k1.y-k2.y)*(k1.y-k2.y)+(k1.z-k2.z)*(k1.z-k2.z))-epsilon==k1.r+k2.r+epsilon)return true;
   if(sqrt((k1.x-k2.x)*(k1.x-k2.x)+(k1.y-k2.y)*(k1.y-k2.y)+(k1.z-k2.z)*(k1.z-k2.z))==k1.r+k2.r)return true;
    return false;
}
bool DaLiSeDodirujuIznutra(const NepreklapajucaKugla &amp;k1, const NepreklapajucaKugla &amp;k2){
    if(sqrt((k1.x-k2.x)*(k1.x-k2.x)+(k1.y-k2.y)*(k1.y-k2.y)+(k1.z-k2.z)*(k1.z-k2.z))+epsilon==k1.r-k2.r-epsilon||sqrt((k1.x-k2.x)*(k1.x-k2.x)+(k1.y-k2.y)*(k1.y-k2.y)+(k1.z-k2.z)*(k1.z-k2.z))+epsilon==k2.r-k1.r-epsilon)return true;
    if(sqrt((k1.x-k2.x)*(k1.x-k2.x)+(k1.y-k2.y)*(k1.y-k2.y)+(k1.z-k2.z)*(k1.z-k2.z))-epsilon==k1.r-k2.r+epsilon||sqrt((k1.x-k2.x)*(k1.x-k2.x)+(k1.y-k2.y)*(k1.y-k2.y)+(k1.z-k2.z)*(k1.z-k2.z))-epsilon==k2.r-k1.r+epsilon)return true;
    if(sqrt((k1.x-k2.x)*(k1.x-k2.x)+(k1.y-k2.y)*(k1.y-k2.y)+(k1.z-k2.z)*(k1.z-k2.z))+epsilon==k1.r-k2.r-epsilon||sqrt((k1.x-k2.x)*(k1.x-k2.x)+(k1.y-k2.y)*(k1.y-k2.y)+(k1.z-k2.z)*(k1.z-k2.z))-epsilon==k2.r-k1.r+epsilon)return true;
  if(sqrt((k1.x-k2.x)*(k1.x-k2.x)+(k1.y-k2.y)*(k1.y-k2.y)+(k1.z-k2.z)*(k1.z-k2.z))+epsilon==k1.r-k2.r-epsilon||sqrt((k1.x-k2.x)*(k1.x-k2.x)+(k1.y-k2.y)*(k1.y-k2.y)+(k1.z-k2.z)*(k1.z-k2.z))+epsilon==k2.r-k1.r-epsilon)return true;
    if(sqrt((k1.x-k2.x)*(k1.x-k2.x)+(k1.y-k2.y)*(k1.y-k2.y)+(k1.z-k2.z)*(k1.z-k2.z))==k1.r-k2.r||sqrt((k1.x-k2.x)*(k1.x-k2.x)+(k1.y-k2.y)*(k1.y-k2.y)+(k1.z-k2.z)*(k1.z-k2.z))==k2.r-k1.r)return true;
  
    return false;
}
bool DaLiSeSijeku(const NepreklapajucaKugla &amp;k1, const NepreklapajucaKugla &amp;k2){
    if(sqrt((k1.x-k2.x)*(k1.x-k2.x)+(k1.y-k2.y)*(k1.y-k2.y)+(k1.z-k2.z)*(k1.z-k2.z))+epsilon&lt;k1.r+k2.r-epsilon&amp;&amp;!DaLiSeDodirujuIznutra(k1,k2)&amp;&amp;!DaLiSeDodirujuIzvana(k1,k2))return true;
    if(sqrt((k1.x-k2.x)*(k1.x-k2.x)+(k1.y-k2.y)*(k1.y-k2.y)+(k1.z-k2.z)*(k1.z-k2.z))-epsilon&lt;k1.r+k2.r+epsilon&amp;&amp;!DaLiSeDodirujuIznutra(k1,k2)&amp;&amp;!DaLiSeDodirujuIzvana(k1,k2))return true;
   return false;
}
bool DaLiSePreklapaju(const NepreklapajucaKugla &amp;k1, const NepreklapajucaKugla &amp;k2){
    if(sqrt((k1.x-k2.x)*(k1.x-k2.x)+(k1.y-k2.y)*(k1.y-k2.y)+(k1.z-k2.z)*(k1.z-k2.z))+epsilon&lt;k1.r+k2.r-epsilon)return true;
    if(sqrt((k1.x-k2.x)*(k1.x-k2.x)+(k1.y-k2.y)*(k1.y-k2.y)+(k1.z-k2.z)*(k1.z-k2.z))-epsilon&lt;k1.r+k2.r+epsilon)return true;
    return false;
}
double RastojanjeCentara(const NepreklapajucaKugla &amp;k1, const NepreklapajucaKugla &amp;k2){
    return sqrt((k1.x-k2.x)*(k1.x-k2.x)+(k1.y-k2.y)*(k1.y-k2.y)+(k1.z-k2.z)*(k1.z-k2.z));
}

int main (){
    std::cout&lt;&lt;"Unesite broj Kugla: ";
    int n;
    std::cin&gt;&gt;n;
    std::vector&lt;std::shared_ptr&lt;NepreklapajucaKugla&gt;&gt; v(n);
    for(int i=0;i&lt;n;i++){
        std::cout &lt;&lt; "Unesite centar "&lt;&lt;i+1&lt;&lt;". kugle: Unesite poluprecnik "&lt;&lt;i+1&lt;&lt;". kugle: ";
        double a1,a2,a3,a4;
        if(!(std::cin&gt;&gt;a1&gt;&gt;a2&gt;&gt;a3&gt;&gt;a4)){
            std::cout&lt;&lt;"Nepravilan unos. Unesite ponovo\n";
               std::cin.clear();
            std::cin.ignore(1000,'\n');
            i--;continue;
        }
     
        if(a4&lt;0){
            std::cout&lt;&lt;"Ilegalan poluprecnik\n";
            i--;continue;
        }
        v[i]=std::make_shared&lt;NepreklapajucaKugla&gt;(a1,a2,a3,a4);
    }
    std::cout &lt;&lt; "Unesite parametre translacije (delta_x,delta_y,delta_z): ";
    double dex,dey,dez;
    std::cin&gt;&gt;dex&gt;&gt;dey&gt;&gt;dez;
    std::vector&lt;std::shared_ptr&lt;NepreklapajucaKugla&gt;&gt; kys(n);
    std::cout &lt;&lt; "Kugle nakon obavljenje transformacije imaju sljedece vrijednosti: \n";
    std::transform(v.begin(),v.end(),kys.begin(),[ dex, dey, dez](std::shared_ptr&lt;NepreklapajucaKugla&gt; k){k-&gt;Transliraj(dex,dey,dez);return k;});
    std::sort(kys.begin(),kys.end(),[](std::shared_ptr&lt;NepreklapajucaKugla&gt; k1,std::shared_ptr&lt;NepreklapajucaKugla&gt; k2){return k1-&gt;DajZapreminu()&lt;k2-&gt;DajZapreminu();});
    std::for_each(kys.begin(),kys.end(),[](std::shared_ptr&lt;NepreklapajucaKugla&gt;k){k-&gt;Ispisi();});
    std::cout &lt;&lt; "Kugla sa najvecom povrsinom je: ";
auto p=std::max_element(kys.begin(),kys.end(),[](std::shared_ptr&lt;NepreklapajucaKugla&gt;k1,std::shared_ptr&lt;NepreklapajucaKugla&gt;k2){return k1-&gt;DajPovrsinu()&lt;k2-&gt;DajPovrsinu();});
	(*p)-&gt;Ispisi();
	int e=0;
	int br=0;
	std::for_each(kys.begin(),kys.end(),[kys,&amp;e,&amp;br](std::shared_ptr&lt;NepreklapajucaKugla&gt; k1){
	    std::for_each(kys.begin()+e,kys.end(),[k1,&amp;br](std::shared_ptr&lt;NepreklapajucaKugla&gt; k2){
	        if(k2==k1);else{
	            if(DaLiSeSijeku(*k1,*k2)){std::cout &lt;&lt; "Presjecaju se kugle: " ;k1-&gt;Ispisi();k2-&gt;Ispisi();br++;}
	            
	        }
	        
	    });
	    e++;
	});
	if(br==0)std::cout &lt;&lt; "Ne postoje kugle koje se presjecaju!" &lt;&lt; std::endl;
	return 0;
}
</pre>
</body>
</html>
