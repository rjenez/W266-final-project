<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z4/Z2/student1237.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z4/Z2/student3756.cpp<p></p><pre>
<a name="0"></a><font color="#FF0000"><a href="match170-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_99.gif"/></a>

class Liga {
	int broj_timova;
	const int max_br_timova;
	Tim **timovi;
	public:
	explicit Liga(int velicina_lige);
	explicit Liga(std::initializer_list&lt;Tim&gt; lista_timova);
	~Liga();
	Liga(const Liga &amp;l);
	Liga(Liga &amp;&amp;l);
	Liga &amp;operator = (const Liga &amp;l);
	Liga &amp;operator = (Liga &amp;&amp;l);
	void DodajNoviTim(const char ime_tima[]);
	void RegistrirajUtakmicu(const char tim1[], const char tim2[], int rezultat_1, int rezultat_2);
	void IspisiTabelu();
};
void Liga::IspisiTabelu() {
	std::sort(timovi, timovi + broj_timova, [](const Tim *t1, const Tim *t2) {
		if (t1-&gt;DajBrojPoena() == t2-&gt;DajBrojPoena()) {
			if (t1-&gt;DajGolRazliku() == t2-&gt;DajGolRazliku()) return (strcmp(t1-&gt;DajImeTima(), t2-&gt;DajImeTima()) &lt; 0); 
			return t1-&gt;DajGolRazliku() &gt; t2-&gt;DajGolRazliku();
		}
		return t1-&gt;DajBrojPoena() &gt; t2-&gt;DajBrojPoena();
	});
	for (int i = 0; i &lt; broj_timova; i++) timovi[i]-&gt;IspisiPodatke();
}
void Liga::RegistrirajUtakmicu(const char tim1[], const char tim2[], int rezultat_1, int rezultat_2) {
	if (rezultat_1 &lt; 0 || rezultat_2 &lt; 0) throw std::range_error ("Neispravan broj golova");
	int index_prvog(-1), index_drugog(-1);
	for (int i = 0; i &lt; broj_timova; i++) {
		if (index_prvog == -1 &amp;&amp; std::strcmp(timovi[i]-&gt;DajImeTima(), tim1) == 0) index_prvog = i;
		if (index_drugog == -1 &amp;&amp; std::strcmp(timovi[i]-&gt;DajImeTima(), tim2) == 0) index_drugog = i;
 	}
 	if (index_prvog &lt; 0 || index_drugog &lt; 0) throw std::logic_error ("Tim nije nadjen");
 	timovi[index_prvog]-&gt;ObradiUtakmicu(rezultat_1, rezultat_2);
 	timovi[index_drugog]-&gt;ObradiUtakmicu(rezultat_2, rezultat_1);
}
void Liga::DodajNoviTim(const char ime_tima[]) {
	if (std::strlen(ime_tima) &gt; 19) throw std::range_error ("Predugacko ime tima");
	if (broj_timova == max_br_timova) throw std::range_error ("Liga popunjena");
	for (int i = 0; i &lt; broj_timova; i++) 
		if (std::strcmp(timovi[i]-&gt;DajImeTima(), ime_tima) == 0) throw std::logic_error ("Tim vec postoji");
	timovi[broj_timova++] = new Tim(ime_tima);
}
Liga &amp;Liga::operator =(Liga &amp;&amp;l) {
	if (max_br_timova != l.max_br_timova) throw std::logic_error ("Nesaglasni kapaciteti liga");
	if (&amp;l != this) {
		for (int i = 0; i &lt; broj_timova; i++) delete timovi[i];
		timovi = l.timovi;
		l.broj_timova = 0;
		l.timovi = nullptr;
	}
	return *this;
}
Liga::Liga(Liga &amp;&amp;l) : broj_timova(l.broj_timova), max_br_timova(l.max_br_timova) {
	timovi = l.timovi;
	l.broj_timova = 0;
	l.timovi = nullptr;
}
Liga::Liga(int velicina_lige) : broj_timova(0), max_br_timova(velicina_lige), timovi(new Tim*[velicina_lige] {}) {};
Liga::Liga(std::initializer_list&lt;Tim&gt; lista_timova) : broj_timova(lista_timova.size()), max_br_timova(lista_timova.size()), timovi(new Tim*[lista_timova.size()] {}) {
	int i(0);
	for (auto it(lista_timova.begin()); it != lista_timova.end(); it++) timovi[i++] = new Tim(*it);
};
Liga::~Liga() {
	for (int i = 0; i &lt; broj_timova; i++) delete timovi[i];
	delete[] timovi;
}
Liga::Liga(const Liga &amp;l) : broj_timova(l.broj_timova), max_br_timova(l.max_br_timova), timovi(new Tim*[l.max_br_timova]) {
	if (max_br_timova != l.max_br_timova) throw std::logic_error ("Nesaglasni kapaciteti liga");
	try {
		for (int i = 0; i &lt; l.broj_timova; i++) timovi[i] = new Tim(*l.timovi[i]);
	}
	catch(...) {
		for (int i = 0; i &lt; l.broj_timova; i++) delete timovi[i];
		delete[] timovi; throw;
	}
}
Liga &amp;Liga::operator = (const Liga &amp;l) {
	if (max_br_timova != l.max_br_timova) throw std::logic_error ("Nesaglasni kapaciteti liga");
	if (&amp;l != this) {
		for (int i = 0; i &lt; broj_timova; i++) 
			delete timovi[i]; 
		for (int i = 0; i &lt; l.broj_timova; i++) 
			timovi[i] = new Tim(*l.timovi[i]);
		broj_timova = l.broj_timova;
</font>	}
	return *this;
}</pre>
</body>
</html>
