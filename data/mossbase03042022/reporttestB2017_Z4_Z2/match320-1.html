<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z4/Z2/student7540.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z4/Z2/student2035.cpp<p></p><pre>
/B2017/2018: ZadaÄ‡a 4, Zadatak 2
#include &lt;iostream&gt;
#include &lt;vector&gt;
#include &lt;memory&gt;
#include &lt;algorithm&gt;
#include &lt;cmath&gt;
#include &lt;memory&gt;
#include &lt;tuple&gt;
#include &lt;stdexcept&gt;

class NepreklapajucaKugla {
      private: 
      static constexpr double PI=atan(1)*4;
      double x,y,z,r; 
      NepreklapajucaKugla *ona_prije_mene; 
      static NepreklapajucaKugla *pok_na_zadnju;
      static int kolikoihjekreirano;

      void TestPreklapanja(double x, double y, double z, double r) {
            NepreklapajucaKugla *pokazivac(pok_na_zadnju);
            while(pokazivac!=nullptr) { 
                  if(r+pokazivac-&gt;r &gt;= std::sqrt((x-pokazivac-&gt;x)*(x-pokazivac-&gt;x)+(y-pokazivac-&gt;y)*(y-pokazivac-&gt;y)+(z-pokazivac-&gt;z)*(z-pokazivac-&gt;z))) throw std::logic_error("Nedozvoljeno preklapanje"); 
              //    else std::cout &lt;&lt; "prosao sam provjeru_ \n";                  
                  pokazivac=pokazivac-&gt;ona_prije_mene;
            }
      }
      
      void Postavi(double x, double y, double z, double r) {
            if(kolikoihjekreirano==0) { pok_na_zadnju=nullptr; /*pok_na_zadnju=this; kolikoihjekreirano++; TestPreklapanja(x,y,z,r); */}
            else {
                  TestPreklapanja(x,y,z,r);
             //     ona_prije_mene=pok_na_zadnju;
               /*   pok_na_zadnju=this;*/
              //    kolikoihjekreirano++;
            }
<a name="6"></a><font color="#00FF00"><a href="match320-0.html#6" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_2.gif"/></a>

            this-&gt;x=x; this-&gt;y=y; this-&gt;z=z; this-&gt;r=r;
            ona_prije_mene=pok_na_zadnju;
            pok_na_zadnju=this;
</font>          //  if(kolikoihjekreirano!=1) TestPreklapanja(); }
      }
<a name="5"></a><font color="#FF0000"><a href="match320-0.html#5" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_2.gif"/></a>

      void Promijeni(double x, double y, double z, double r) {
            TestPreklapanja(x,y,z,r);
            this-&gt;x=x; this-&gt;y=y; this-&gt;z=z; this-&gt;r=r; 
</font>           // TestPreklapanja();  }
      }
      void TestPoluprecnika(double r) { if (r&lt;0) throw std::domain_error("Ilegalan poluprecnik"); }
      public: 
      //delete operator =
      //delete inciijalizacija kopirajuca
      //
      ~NepreklapajucaKugla() = default; 
      explicit NepreklapajucaKugla(double r=0) { TestPoluprecnika(r); Postavi(0,0,0,r); kolikoihjekreirano++;}
      NepreklapajucaKugla(double x, double y, double z, double r=0) { TestPoluprecnika(r); Postavi(x,y,z,r); kolikoihjekreirano++; }
      explicit NepreklapajucaKugla(const std::tuple&lt;double, double, double&gt; &amp;centar, double r=0) { TestPoluprecnika(r); Postavi(std::get&lt;0&gt;(centar), std::get&lt;1&gt;(centar), std::get&lt;2&gt;(centar), r); kolikoihjekreirano++;}
      double DajX() const { return x; }
      double DajY() const { return y; }
      double DajZ() const { return z; }
      std::tuple&lt;double, double, double&gt; DajCentar() const { return std::tie(x,y,z); } 
      double DajPoluprecnik() const { return r; }
      double DajPovrsinu() const { return 4*PI*r*r; }
      double DajZapreminu() const { return DajPovrsinu()*r/3; }
      NepreklapajucaKugla &amp;PostaviX(double x) { Promijeni(x, this-&gt;y, this-&gt;z, this-&gt;r); return *this; }
      NepreklapajucaKugla &amp;PostaviY(double y) { Promijeni(this-&gt;x, y, this-&gt;z, this-&gt;r); return *this; }
      NepreklapajucaKugla &amp;PostaviZ(double z) { Promijeni(this-&gt;x, this-&gt;y, z, this-&gt;r); return *this; }
<a name="1"></a><font color="#00FF00"><a href="match320-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_4.gif"/></a>

      NepreklapajucaKugla &amp;PostaviCentar(double x, double y, double z) { Promijeni(x, y, z, this-&gt;r); return *this; }
      NepreklapajucaKugla &amp;PostaviCentar(const std::tuple&lt;double, double, double&gt; &amp;centar) { Promijeni(std::get&lt;0&gt;(centar), std::get&lt;1&gt;(centar), std::get&lt;2&gt;(centar), this-&gt;r); return *this; }
</font>      NepreklapajucaKugla &amp;PostaviPoluprecnik(double r) { TestPoluprecnika(r);  Promijeni(this-&gt;x, this-&gt;y, this-&gt;z, r); return *this; }
      void Ispisi() const { std::cout &lt;&lt; "{(" &lt;&lt; x &lt;&lt; "," &lt;&lt; y &lt;&lt; "," &lt;&lt; z &lt;&lt; ")," &lt;&lt; r &lt;&lt; "}" &lt;&lt; std::endl;  } //provjeri
      void Translatiraj(double delta_x, double delta_y, double delta_z) { Promijeni(this-&gt;x+delta_x, this-&gt;y+delta_y, this-&gt;z+delta_z, this-&gt;r); } 
<a name="0"></a><font color="#FF0000"><a href="match320-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_6.gif"/></a>

      friend double RastojanjeCentara(const NepreklapajucaKugla &amp;k1, const NepreklapajucaKugla &amp;k2);
      
};

double RastojanjeCentara(const NepreklapajucaKugla &amp;k1, const NepreklapajucaKugla &amp;k2) {
      return std::sqrt((k2.x-k1.x)*(k2.x-k1.x)+(k2.y-k1.y)*(k2.y-k1.y)+(k2.z-k1.z)*(k2.z-k1.z));
}

NepreklapajucaKugla* NepreklapajucaKugla::pok_na_zadnju(nullptr);
</font>int NepreklapajucaKugla::kolikoihjekreirano(0);

int main ()
{
      int n; 
      std::cout &lt;&lt; "Unesite broj kugli: ";
      while(!(std::cin &gt;&gt; n) || n&lt;1) {
            std::cin.clear(); 
            std::cin.ignore(10000, '\n');
            std::cout &lt;&lt; "Neispravan broj kugli, unesite ponovo!\n"; 
      }
      
<a name="2"></a><font color="#0000FF"><a href="match320-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_3.gif"/></a>

      std::vector&lt;std::shared_ptr&lt;NepreklapajucaKugla&gt;&gt; vektor(n); 
      
      for(int i=0; i&lt;n; i++) {
            std::cout &lt;&lt; "Unesite centar za " &lt;&lt; i+1 &lt;&lt; ". kuglu: ";
            double a, b, c; 
</font>            while(!(std::cin &gt;&gt; a &gt;&gt; b &gt;&gt; c)) {
                  std::cin.clear(); 
                  std::cin.ignore(1000,'\n'); 
                  std::cout &lt;&lt; "Neispravan centar, unesite ponovo: \n";           }
      
            
            std::cout &lt;&lt; "Unesite poluprecnik: "; 
            double pp; 
            while(!(std::cin &gt;&gt; pp) || pp&lt;0) {
                  std::cin.clear();
                  std::cin.ignore(1000, '\n');
                  std::cout &lt;&lt; "Neispravan poluprecnik, unesite ponovo: \n"; 
            //      while(!(std::cin &gt;&gt; a &gt;&gt; b &gt;&gt; c)) {
                 //       std::cin.clear(); 
                   //     std::cin.ignore(1000,'\n');
                     //   std::cout &lt;&lt; "Neispravan centar\nUnesite centar za "&lt;&lt; i+1 &lt;&lt; ". kuglu: "; 
               //   }
                 // std::cout &lt;&lt; "Unesite poluprecnik"; 
            }
            try {
<a name="3"></a><font color="#00FFFF"><a href="match320-0.html#3" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_3.gif"/></a>

            vektor[i]=std::make_shared&lt;NepreklapajucaKugla&gt;(a,b,c,pp); }
            catch(std::logic_error m) {
                  std::cout &lt;&lt; m.what() &lt;&lt; std::endl; 
                  i--;
            }
            
      }
      
      std::cout &lt;&lt; "\nKugle nakon obavljenog sortiranja: \n"; 
</font><a name="4"></a><font color="#FF00FF"><a href="match320-0.html#4" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_3.gif"/></a>

      std::sort(vektor.begin(), vektor.end(), [](std::shared_ptr&lt;NepreklapajucaKugla&gt; k1, std::shared_ptr&lt;NepreklapajucaKugla&gt; k2) { return (*k1).DajPovrsinu()&lt;(*k2).DajPovrsinu(); } ); 
      std::for_each(vektor.begin(), vektor.end(), [](std::shared_ptr&lt;NepreklapajucaKugla&gt; k) { k-&gt;Ispisi(); });
</font>
	return 0;
}
</pre>
</body>
</html>
