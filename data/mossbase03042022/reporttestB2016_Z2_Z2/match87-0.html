<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z2/Z2/student7173.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z2/Z2/student7173.cpp<p></p><pre>
// B 16/17, ZadaÄ‡a 2, Zadatak 2
//	Autotestovi by Enil Pajic (epajic1@etf.unsa.ba | @eon : etf.ba)
//	NAPOMENA: i javni ATo-vi su dio postavke!	

#include &lt;iostream&gt;
#include &lt;vector&gt;
#include &lt;type_traits&gt;
#include &lt;stdexcept&gt;
#include &lt;deque&gt;
#include &lt;iomanip&gt;

<a name="0"></a><font color="#FF0000"><a href="match87-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_99.gif"/></a>

using std::cout;
using std::cin;
using std::domain_error;
using std::endl;
using std::vector;
using std::deque;
using std::remove_reference;

typedef int (*PokNaFun) (int, int, int);

enum class SmjerKretanja {
    NaprijedNazad, NazadNaprijed, GoreDolje, DoljeGore, LijevoDesno, DesnoLijevo
};

template &lt;typename Matrica&gt;
    void IspisiMatricu(const Matrica &amp;mat)
    {
        int len1(mat.size()), len2(0);
        if (len1 &gt; 0) len2 = mat.at(0).size();
        
        for (int row = 0; row &lt; len1; row++) {
            for (int col = 0; col &lt; len2; col++) {
                cout &lt;&lt; std::setw(4) &lt;&lt; mat.at(row).at(col);
            }
            cout &lt;&lt; endl;
        }
    }

        
template &lt;typename Kocka&gt;
    auto IzdvojiDijagonale3D(const Kocka &amp;cube, SmjerKretanja smjer) -&gt; typename remove_reference&lt;decltype(cube.at(0))&gt;::type
    {
        int len1(cube.size()), len2(0), len3(0);
        if (len1 &gt; 0) len2 = cube.at(0).size();
        if (len2 &gt; 0) len3 = cube.at(0).at(0).size();
        
        // Projera ispravnosti kontejnera
        bool plohe(true);
        for (int i = 0; i &lt; len1; i++) {
            for (int j = 0; j &lt; len2; j++) { // POGRESNO PRETPOSTAVILI DA JE LEN2 == J!!!!
                if (cube.at(i).at(j).size() != len3) throw domain_error("Redovi nemaju isti broj elemenata");
            }
            if (cube.at(i).size() != len2) plohe = false;
        }
        if (!plohe) throw domain_error("Plohe nemaju isti broj redova");
        
        auto kvadrat(typename remove_reference&lt;decltype(cube.at(0))&gt;::type {});
        auto linija(typename remove_reference&lt;decltype(kvadrat.at(0))&gt;::type {});

        int n, m, broj((int)smjer);
        PokNaFun f1, f2, f3, f4;
        f1 = [](int i, int j, int len) { return i; };
        f2 = [](int i, int j, int len) { return len - 1 - i; };
        f3 = [](int i, int j, int len) { return j; };
        f4 = [](int i, int j, int len) { return len - 1 - j; };
        PokNaFun fp1, fp2, fp3;
        if (broj &lt; 2) {
            n = len1;
            m = len2 &lt; len3 ? len2 : len3;
            fp2 = f3;
            if (broj == 0) {
                fp1 = f1;
                fp3 = f3;
            } else {
                fp1 = f2;
                fp3 = f4;
            }
        } else if (broj &lt; 4) {
            n = len2;
            m = len1 &lt; len3 ? len1 : len3;
            fp1 = f4;
            if (broj == 2) {
                fp2 = f1;
                fp3 = f3;
            } else {
                fp2 = f2;
                fp3 = f4;
            }
        } else {
            n = len3;
            m = len1 &lt; len2 ? len1 : len2;
            fp2 = f3;
            if (broj == 4) {
                fp1 = f4;
                fp3 = f1;
            } else {
                fp1 = f3;
                fp3 = f2;
            }
        }
        
        for (int i = 0; i &lt; n; i++) {
            kvadrat.push_back(linija);
            for (int j = 0; j &lt; m; j++) {
                kvadrat.at(i).push_back( cube.at(fp1 (i, j, len1)).at
                    (fp2 (i, j, len2)).at(fp3 (i, j, len3)) );
            }
        }
        
        return kvadrat;
    }
        
int main() {
    int x(0), y(0), z(0);
    cout &lt;&lt; "Unesite dimenzije (x y z): ";
    cin &gt;&gt; x &gt;&gt; y &gt;&gt; z;
    if (x &lt; 0 || y &lt; 0 || z &lt; 0) {
        cout &lt;&lt; "Neispravne dimenzije kontejnera!\n";
        return 0;
    }
    
    vector&lt;deque&lt;deque&lt;int&gt;&gt;&gt; kocka(x, deque&lt;deque&lt;int&gt;&gt;(y, deque&lt;int&gt;(z, 0)));
    cout &lt;&lt; "Unesite elemente kontejnera: \n";
    for (int i = 0; i &lt; x; i++) {
        for (int j = 0; j &lt; y; j++) {
            for (int k = 0; k &lt; z; k++) {
                cin &gt;&gt; kocka.at(i).at(j).at(k);
            }
        }
    }
    
    int broj(0);
    cout &lt;&lt; "Unesite smjer kretanja [0 - 5]: ";
    cin &gt;&gt; broj;
    if (broj &lt; 0 || broj &gt; 5) {
        cout &lt;&lt; "Smjer kretanja nije ispravan!\n";
        return 0;
    }
    
    vector&lt;std::string&gt; smjerovi {"NaprijedNazad", "NazadNaprijed", "GoreDolje",
        "DoljeGore", "LijevoDesno", "DesnoLijevo"};
    cout &lt;&lt; smjerovi[broj] &lt;&lt; ": \n";
    
    try {
        IspisiMatricu(IzdvojiDijagonale3D(kocka, SmjerKretanja(broj) ));
    } catch (const std::domain_error &amp;e) {
        cout &lt;&lt; e.what();
</font>    }

    return 0;
}

</pre>
</body>
</html>
