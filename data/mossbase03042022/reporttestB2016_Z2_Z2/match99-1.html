<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z2/Z2/student9451.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z2/Z2/student5370.cpp<p></p><pre>
#include &lt;iostream&gt;
#include &lt;vector&gt;
#include &lt;algorithm&gt;
#include &lt;stdexcept&gt;
#include &lt;type_traits&gt;

#define E 0.00001

<a name="0"></a><font color="#FF0000"><a href="match99-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_99.gif"/></a>

int BrojDjelioca(int n);
bool SavrsenBroj(int n);

template &lt;typename Ona&gt;
    int* Izdvajanje (Ona p1, Ona &amp;p2,int &amp;n){
        n=0; //Neophodno je da imamo ovo na 0
        Ona p{p1}; //ovdje Ä‡emo pisati template
        while(p!=p2)
            if(SavrsenBroj(int(*p++)))
                n++;
        int *pok{nullptr};
        try{
            if(n&gt;0)
            pok=new int[n];
        }
        catch(...){
            delete pok;
            throw std::domain_error("Nedovoljno memorije!");
        }
        int *t{pok};
        p=p1;
        while(p!=p2){
            if(SavrsenBroj(int(*p)))
                *pok++=int(*p);
            p++;
        }
        
        Ona m{p1};
        //imamo pokazivace TIP p,p1,p2  i int pok
        while(p1!=p2){
            int mjerilo{BrojDjelioca(int(*p1))};
            p=p2-1;
            bool brisi{false};
            while(p!=p1){
                if(mjerilo==BrojDjelioca(int(*p))){
                    brisi=true;
                    auto z=p;
                    while(z++!=p2);
                    z-=2;
                    *p=*z;
                    p2--;
                }
                p--;
            }
            if(brisi){
                *p1=*(p2-1);
                p2--;p1--;
            }
            p1++;
        }
        
        std::sort(m,p2,[](typename std::remove_reference &lt;decltype (*m)&gt;::type x,typename std::remove_reference &lt;decltype (*p2)&gt;::type y)-&gt;bool{int a=x,b=y,t{0};for(int i=a;i&gt;=1;i--)if(a%i==0)t+=i;int t1{0};for(int i=b;i&gt;=1;i--)if(b%i==0)t1+=i;if(t==t1) return a&gt;b;return t&lt;t1;});
        
        return t; //ovo se ne dira!
    }  
   

int main() {
    int n;
    std::vector&lt;float&gt; v;
    std::cout&lt;&lt;"Unesite brojeve: ";
    for(;;){
        float t{-1};
        std::cin&gt;&gt;t;
        if(std::abs(t+1)&lt;E)
            break;
        v.push_back(t);
    }
    float *t=&amp;v[0]+v.size();
    float *s=&amp;v[0];
    try{
        auto p=Izdvajanje(s,t,n);
        std::cout&lt;&lt;"Modificirani kontejner: ";
        while(s!=t-1 &amp;&amp; s!=t)         //ovdje ce ispisati modificirane
            std::cout&lt;&lt;*s++&lt;&lt;", ";
        if(s!=t)
            std::cout&lt;&lt;*s;
        std::cout&lt;&lt;"\nSavrseni brojevi: ";
        auto r=p;
        int i{0};
        for(i=0;i&lt;n-1;i++)
            std::cout&lt;&lt;*p++&lt;&lt;" ";
        if(n!=0)
            std::cout&lt;&lt;*p;
        delete[] r;
    }
    catch(std::domain_error tekst){
        std::cout&lt;&lt;tekst.what();
    }
    return 0;
}

bool SavrsenBroj(int n){
    int t{0};
    for(int i=n-1;i&gt;=1;i--)
        if(n%i==0)
            t+=i;
    if(n&lt;=0)
        return false;
    if(n==t)
        return true;
    return false;
}

int BrojDjelioca(int n){
    int t{0};
    if(n&lt;0)
        n*=-1;
    for(int i=n;i&gt;=1;i--)
        if(n%i==0)
</font>            t++;
    return t;
}</pre>
</body>
</html>
