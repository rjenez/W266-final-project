<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z5/Z2/student2503.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z5/Z2/student2503.cpp<p></p><pre>
/B2017/2018: ZadaÄ‡a 5, Zadatak 2
#include &lt;iostream&gt;
#include &lt;cmath&gt;
#include &lt;string&gt;
#include &lt;cstring&gt;
#include &lt;new&gt;
#include &lt;stdexcept&gt;
#include &lt;map&gt;
#include &lt;algorithm&gt;
#include &lt;utility&gt;
#include &lt;memory&gt;

std::string izbaci_razmake(std::string ime)
{
    while(ime[0]==' ') {
        ime.erase(ime.begin()+0);
    }
    while(ime[ime.size()-1]==' ') {
        ime.erase(ime.begin()+ime.size()-1);
    }
    for(int i(1); i&lt;ime.size()-1; i++) {
        if(ime[i]==' ' &amp;&amp; ime[i-1]==' ') {
            ime.erase(ime.begin()+i);
            i--;
        }
    }
    return ime;
}
class Student
{
<a name="2"></a><font color="#0000FF"><a href="match597-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_1.gif"/></a>

    int broj_indeksa;
    std::string godina_studija,ime_prezime, adresa, broj_telefona;

public:

    Student (int indeks,std::string godina, std::string ime, std::string adr, std::string telefon) {
</font>        bool T(true);
        if(indeks/10000&lt;1 || indeks/10000&gt;9) T=false;
        if(godina!="1" &amp;&amp; godina!="2" &amp;&amp; godina!="3" &amp;&amp; godina!="1/B" &amp;&amp; godina!="2/B" &amp;&amp; godina!="3/B" &amp;&amp; godina!="1/M" &amp;&amp; godina!="2/M" &amp;&amp; godina!="1/D" &amp;&amp; godina!="2/D" &amp;&amp; godina!="3/D") T=false;
        if(telefon.size()==0) T=false;
        int i(0);
        if(T) {
            while(telefon[i]!='/' &amp;&amp; i!=telefon.size()-1) {
                if(telefon[i]&lt;'0' || telefon[i]&gt;'9') T=false;
                i++;
            }
            if(i==telefon.size()-1) T=false;
        }
        if(T) {
            i++;
            if(i==telefon.size()-1) T=false;
            while(telefon[i]!='-' &amp;&amp; i!=telefon.size()-1) {
                if(telefon[i]&lt;'0' || telefon[i]&gt;'9') T=false;
                i++;
            }
            if(i==telefon.size()-1) T=false;
        }
        if(T) {
            i++;
            if(telefon[i]&lt;'0' || telefon[i]&gt;'9') T=false;
            while(i!=telefon.size()-1) {
                if(telefon[i]&lt;'0' || telefon[i]&gt;'9') T=false;
                i++;
            }
        }
        if(T) {
            broj_indeksa=indeks;
            godina_studija=godina;
            ime_prezime=izbaci_razmake(ime);
            adresa=izbaci_razmake(adr);
            broj_telefona=telefon;
<a name="3"></a><font color="#00FFFF"><a href="match597-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_1.gif"/></a>

        } else throw std::domain_error("Neispravni parametri");
    }
    int DajIndeks() const {
        return broj_indeksa;
    }
    std::string DajImePrezime() const {
        return ime_prezime;
    }
    std::string DajAdresu() const {
        return adresa;
    }
    std::string DajTelefon() const {
        return broj_telefona;
    }
    std::string DajGodinuStudija() {
</font>        std::string god(godina_studija);
        if(god.size()==1) {
            god.push_back('/');
            god.push_back('B');
        }
        return god;
    }
    void Ispisi() {
        std::cout&lt;&lt;"Broj indeksa: "&lt;&lt;DajIndeks()&lt;&lt;std::endl;
        std::cout&lt;&lt;"Godina studija: "&lt;&lt;DajGodinuStudija()&lt;&lt;std::endl;
        std::cout&lt;&lt;"Ime i prezime: "&lt;&lt;DajImePrezime()&lt;&lt;std::endl;
<a name="4"></a><font color="#FF00FF"><a href="match597-1.html#4" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_1.gif"/></a>

        std::cout&lt;&lt;"Adresa: "&lt;&lt;DajAdresu()&lt;&lt;std::endl;
        std::cout&lt;&lt;"Telefon: "&lt;&lt;DajTelefon()&lt;&lt;std::endl;
    }
};

class Laptop
{
    int ev_broj;
    std::string naziv, karakteristike;
</font>    std::shared_ptr&lt;Student&gt; kod_koga_je;

public:
    Laptop (int br, std::string ime, std::string osobine) {
        if(br&lt;0) throw std::domain_error("Neispravni parametri");
        else {
            ev_broj=br;
            naziv=ime;
            karakteristike=osobine;
            kod_koga_je=nullptr;
        }
    }
    int DajEvidencijskiBroj() const {
        return ev_broj;
    }
    std::string DajNaziv() const {
        return naziv;
    }
    std::string DajKarakteristike() const {
        return karakteristike;
    }
    void Zaduzi(Student &amp;s) {
        if(kod_koga_je==nullptr)
            kod_koga_je=std::make_shared&lt;Student&gt; (s) ;
    }
    void Razduzi() {
        if(kod_koga_je!=nullptr)
            kod_koga_je=nullptr;
    }
    bool DaLiJeZaduzen() const {
        return (kod_koga_je!=nullptr);
    }
    Student &amp;DajKodKogaJe () {
        if(kod_koga_je!=nullptr) return *kod_koga_je;
        else throw std::domain_error("Laptop nije zaduzen");
    }
    std::shared_ptr&lt;Student&gt; DajPokKodKogaJe() {
        return kod_koga_je;
    }
    void Ispisi()  {
        std::cout&lt;&lt;"Evidencijski broj: "&lt;&lt;DajEvidencijskiBroj()&lt;&lt;std::endl;
<a name="1"></a><font color="#00FF00"><a href="match597-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_2.gif"/></a>

        std::cout&lt;&lt;"Naziv: "&lt;&lt;DajNaziv()&lt;&lt;std::endl;
        std::cout&lt;&lt;"Karakteristike: "&lt;&lt;DajKarakteristike()&lt;&lt;std::endl;
    }
};

class Administracija
{
    std::map&lt;int,std::shared_ptr&lt;Student&gt;&gt; studenti;
    std::map&lt;int,std::shared_ptr&lt;Laptop&gt;&gt; laptopi;
</font>public:
    Administracija() {
studenti.insert({0,nullptr});
laptopi.insert({0,nullptr});
    }
Administracija(const Administracija &amp;a) {
  for(auto it=a.studenti.begin(); it!=a.studenti.end();it++) {
  std::shared_ptr&lt;Student&gt; pok(std::make_shared&lt;Student&gt;(it-&gt;second-&gt;DajIndeks(),it-&gt;second-&gt;DajGodinuStudija(),it-&gt;second-&gt;DajImePrezime(),it-&gt;second-&gt;DajAdresu(),it-&gt;second-&gt;DajAdresu()));
      studenti.insert({it-&gt;first,pok}); 
  }
  for(auto it=a.laptopi.begin(); it!=a.laptopi.end();it++) {
      std::shared_ptr&lt;Laptop&gt; pok(std::make_shared&lt;Laptop&gt;(it-&gt;second-&gt;DajEvidencijskiBroj(), it-&gt;second-&gt;DajNaziv(), it-&gt;second-&gt;DajKarakteristike()));
      laptopi.insert({it-&gt;first,pok}); 
  }
}
Administracija(Administracija &amp;&amp;a) {
   for(auto it=a.studenti.begin(); it!=a.studenti.end();it++) 
       studenti.insert({it-&gt;first, it-&gt;second});
       for(auto it=a.laptopi.begin(); it!=a.laptopi.end();it++) 
       laptopi.insert({it-&gt;first, it-&gt;second});
}

    void RegistrijrajNovogStudenta(int indeks,std::string godina, std::string ime, std::string adr, std::string telefon) {
        int brojac(0);
        for(auto it = studenti.begin(); it != studenti.end(); it++)
            if(indeks==it-&gt;first) brojac++;
        if(brojac&gt;0) throw std::domain_error("Student s tim indeksom vec postoji");
        else {
            std::shared_ptr&lt;Student&gt; neki_student(std::make_shared&lt;Student&gt;(indeks,godina,ime,adr,telefon));
            studenti.insert({indeks,neki_student});
        }
    }

    void RegistrijrajLaptop (int br, std::string ime, std::string osobine) {
        int brojac(0);
        for(auto it= laptopi.begin(); it!= laptopi.end(); it++)
            if(br==it-&gt;first) brojac++;
        if(brojac&gt;0) throw std::domain_error("Laptop s tim evidencijskim brojem vec postoji");
        else {
           std::shared_ptr&lt;Laptop&gt; neki_laptop(std::make_shared&lt;Laptop&gt;(br,ime,osobine));
            laptopi.insert({br,neki_laptop});
        }
    }
    Student &amp;NadjiStudenta(int indeks) {
        auto it(studenti.find(indeks));
        if(it == studenti.end()) throw std::domain_error("Student nije nadjen");
        else return *(it-&gt;second);
    }
    Laptop &amp;NadjiLaptop(int br) {
        auto it(laptopi.find(br));
        if(it == laptopi.end()) throw std::domain_error("Laptop nije nadjen");
        else return *(it-&gt;second);
    }
    void IzlistajStudente() {
        for( auto it=studenti.begin(); it!=studenti.end(); it++) 
<a name="5"></a><font color="#FF0000"><a href="match597-1.html#5" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_1.gif"/></a>

            std::cout&lt;&lt;(it-&gt;second)-&gt;DajIndeks()&lt;&lt;" "&lt;&lt;(it-&gt;second)-&gt;DajImePrezime()&lt;&lt;" "&lt;&lt;(it-&gt;second)-&gt;DajAdresu()&lt;&lt;" "&lt;&lt;(it-&gt;second)-&gt;DajTelefon()&lt;&lt;std::endl&lt;&lt;std::endl;
</font>        }
        void IzlistajLaptope() {
            for( auto it=laptopi.begin(); it!=laptopi.end(); it++) {
<a name="0"></a><font color="#FF0000"><a href="match597-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_3.gif"/></a>

                std::cout&lt;&lt;(it-&gt;second)-&gt;DajEvidencijskiBroj()&lt;&lt;" "&lt;&lt;(it-&gt;second)-&gt;DajNaziv()&lt;&lt;" "&lt;&lt;(it-&gt;second)-&gt;DajKarakteristike()&lt;&lt;std::endl;
                if(it-&gt;second-&gt;DaLiJeZaduzen()) std::cout&lt;&lt;"Zaduzio(la): "&lt;&lt;it-&gt;second-&gt;DajKodKogaJe().DajImePrezime()&lt;&lt;"("&lt;&lt;it-&gt;second-&gt;DajKodKogaJe().DajIndeks()&lt;&lt;")"&lt;&lt;std::endl;
</font>                else std::cout&lt;&lt;std::endl;
            }
        }
        void ZaduziLaptop(int br, int ev) {
            bool T(false);
            for(auto it = studenti.begin(); it != studenti.end(); it++)
                if(it-&gt;first==br) {
                    T=true;
                    break;
                }
            if(!T) throw std::domain_error("Student nije nadjen");
            else {
                T=false;
                for(auto it=laptopi.begin(); it!= laptopi.end(); it++)
                    if(it-&gt;first==ev) {
                        T=true;
                        break;
                    }
                if(!T) throw std::domain_error("Laptop nije nadjen");
                else {
                    for(auto it=laptopi.begin(); it!= laptopi.end() ; it++)
                        if(it-&gt;first==ev) if(it-&gt;second-&gt;DaLiJeZaduzen()) throw std::domain_error("Laptop vec zaduzen");

                    for(auto it=laptopi.begin(); it!= laptopi.end() ; it++)
                        for(auto its=studenti.begin(); its!=studenti.end() ; its++)
                            if(it-&gt;first==ev &amp;&amp; its-&gt;first == br) {
                               it-&gt;second-&gt;Zaduzi(*(its-&gt;second));
                            }
                }
            }
        }
        int NajdiSlobodniLaptop() {
            for(auto it=laptopi.begin(); it!= laptopi.end() ; it++)
                if(it-&gt;second-&gt;DaLiJeZaduzen()) return it-&gt;first;
            throw std::domain_error("Nema slobodnih laptopa");
        }
        void RazduziLaptop(int ev) {
            int br(0);
            for(auto it=laptopi.begin(); it!= laptopi.end() ; it++)
                if(it-&gt;first==ev) {
                    br++;
                    if(!(it-&gt;second-&gt;DaLiJeZaduzen())) throw std::domain_error("Laptop nije zaduzen");
                    else it-&gt;second-&gt;Razduzi();
                }
            if(br==0) throw std::domain_error("Laptop nije nadjen");
        }
        void PrikaziZaduzenja() {
            int brojac(0);
            for(auto it=laptopi.begin(); it!=laptopi.end(); it++)
                if(it-&gt;second-&gt;DaLiJeZaduzen()) {
                    brojac++;
                    std::cout&lt;&lt;"Student "&lt;&lt;it-&gt;second-&gt;DajKodKogaJe().DajImePrezime()&lt;&lt;" ("&lt;&lt;it-&gt;second-&gt;DajKodKogaJe().DajIndeks()&lt;&lt;")"&lt;&lt;" zaduzio/la laptop broj "&lt;&lt;it-&gt;second-&gt;DajEvidencijskiBroj()&lt;&lt;std::endl;
                }
            if(brojac&gt;0)  std::cout&lt;&lt;"Nema zaduzenja"&lt;&lt;std::endl;
        }
    };
    int main () {
        return 0;
    }
</pre>
</body>
</html>
