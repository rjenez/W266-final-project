<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z5/Z2/student8412.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z5/Z2/student8412.cpp<p></p><pre>
/B2017/2018: ZadaÄ‡a 5, Zadatak 1
#include &lt;iostream&gt;
#include&lt;string&gt;
#include&lt;vector&gt;
#include&lt;stdexcept&gt;
#include&lt;map&gt;
#include&lt;memory&gt;
class Student
{
    int broj_indeksa;
    std::string godina_studija;
    std::string ime_prezime;
<a name="2"></a><font color="#0000FF"><a href="match803-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_1.gif"/></a>

    std::string adresa_studenta;
    std::string broj_telefona;
public:
    Student(int broj_indeksa1,std::string godina_studija1, std::string ime_prezime1,std::string adresa_studenta1,std::string broj_telefona1) {
</font>        for(int i=0; i&lt;ime_prezime1.size(); i++) {
            if(ime_prezime1[i]==' ') {
                ime_prezime1.erase(ime_prezime1.begin()+i);
                i--;
            } else break;
        }
        for(int i=ime_prezime1.size()-1; i&gt;=0; i--) {
            if(ime_prezime1[i]==' ') ime_prezime1.erase(ime_prezime1.begin()+i);
            else break;
        }
        for(int i=0; i&lt;ime_prezime1.size()-1; i++) {
            if(ime_prezime1[i]==' ' &amp;&amp; ime_prezime1[i+1]==' ') {
                ime_prezime1.erase(ime_prezime1.begin()+i);
                i--;
            }
        }
        broj_indeksa=broj_indeksa1;
        std::string b="/B";
        if(godina_studija1.size()==1) godina_studija1+=b;
        godina_studija=godina_studija1;
        ime_prezime=ime_prezime1;
        adresa_studenta=adresa_studenta1;
        broj_telefona=broj_telefona1;
    }
    int DajIndeks()const {
<a name="4"></a><font color="#FF00FF"><a href="match803-1.html#4" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_1.gif"/></a>

        return broj_indeksa;
    }
    std::string DajGodinuStudija()const {
        return godina_studija;
    }
    std::string DajImePrezime()const {
        return ime_prezime;
    }
    std::string DajAdresu()const {
        return adresa_studenta;
    }
    std::string DajTelefon()const {
</font>        return broj_telefona;
    }
    /*Broj indeksa: 12345
    Godina studija: 1/D
    Ime i prezime: Neko Nekic
    Adresa: Bascarsija 1
    Telefon: 1/1-1*/
    void Ispisi()const {
        std::cout&lt;&lt;"Broj indeksa: "&lt;&lt;broj_indeksa&lt;&lt;std::endl;
        std::cout&lt;&lt;"Godina studija: ";
        for(auto x:godina_studija) {
            std::cout&lt;&lt;x;
        }
        if(godina_studija.size()==1) std::cout&lt;&lt;"/B";
        std::cout&lt;&lt;std::endl;
        std::cout&lt;&lt;"Ime i prezime: ";
        for(auto x:ime_prezime) {
            std::cout&lt;&lt;x;
        }
        std::cout&lt;&lt;std::endl;
        std::cout&lt;&lt;"Adresa: ";
        for(auto x:adresa_studenta) {
            std::cout&lt;&lt;x;
        }
        std::cout&lt;&lt;std::endl;
        std::cout&lt;&lt;"Telefon: ";
        for(auto x:broj_telefona) {
            std::cout&lt;&lt;x;
        }
        std::cout&lt;&lt;std::endl;
    }
    void IspisiPodatke()const {
        std::cout&lt;&lt;"Broj indeksa: "&lt;&lt;broj_indeksa&lt;&lt;std::endl;
        std::cout&lt;&lt;"Godina studija: ";
        for(auto x:godina_studija) {
            std::cout&lt;&lt;x;
        }
        if(godina_studija.size()==1) std::cout&lt;&lt;"/B";
        std::cout&lt;&lt;std::endl;
        std::cout&lt;&lt;"Ime i prezime: ";
        for(auto x:ime_prezime) {
            std::cout&lt;&lt;x;
        }
        std::cout&lt;&lt;std::endl;
        std::cout&lt;&lt;"Adresa: ";
        for(auto x:adresa_studenta) {
            std::cout&lt;&lt;x;
        }
        std::cout&lt;&lt;std::endl;
        std::cout&lt;&lt;"Telefon: ";
        for(auto x:broj_telefona) {
            std::cout&lt;&lt;x;
        }
        std::cout&lt;&lt;std::endl;
    }

};
class Laptop
{
    int  ev_broj;
    std::string naziv;
    std::string karakteristike;
    Student* kod_koga_je;
public:
    Laptop(int  ev_broj1, std::string naziv1, std::string karakteristike1) {
        if(ev_broj1&lt;0) throw std::domain_error("Neispravni parametri");
        ev_broj=ev_broj1;
        naziv=naziv1;
        karakteristike=karakteristike1;
        kod_koga_je=nullptr;
    }
    int DajEvidencijskiBroj()const {
        return ev_broj;
    }
    std::string DajNaziv()const {
        return naziv;
    }
    std::string DajKarakteristike()const {
        return karakteristike;
    }
    //OVDJE MOZDA TREBA PRIMAT CONST STUDENDT &amp;S
    void  Zaduzi(Student &amp;s) {
        if(kod_koga_je!=nullptr) throw std::domain_error("Laptop vec zaduzen");
        kod_koga_je=&amp;s;
    }
    void Razduzi() {
        if(kod_koga_je!=nullptr) {
            kod_koga_je=nullptr;
        }
    }
    bool DaLiJeZaduzen() {
        return (kod_koga_je!=nullptr);
    }
    Student&amp; DajKodKogaJe() {
        if(kod_koga_je==nullptr) throw std::domain_error("Laptop nije zaduzen");
        return *kod_koga_je;
    }
    Student* DajPokKodKogaJe() {
        return kod_koga_je;
    }
    void Ispisi() {
        std::cout &lt;&lt; "Evidencijski broj: " &lt;&lt;ev_broj&lt;&lt; std::endl;
<a name="1"></a><font color="#00FF00"><a href="match803-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_2.gif"/></a>

        std::cout &lt;&lt; "Naziv: "&lt;&lt;naziv &lt;&lt; std::endl;
        std::cout &lt;&lt;"Karakteristike: "&lt;&lt; karakteristike &lt;&lt; std::endl;
    }
};
class Administracija
{
    std::map&lt;int,std::shared_ptr&lt;Student&gt;&gt; mapa_studenata;
    std::map&lt;int ,std::shared_ptr&lt;Laptop&gt;&gt; mapa_laptopa;
</font>public:
    Administracija(){}
    Administracija(const Administracija&amp; a){
        
        for(auto x:a.mapa_laptopa){ mapa_laptopa[x.first]=std::make_shared&lt;Laptop&gt;(*(x.second));}
        for(auto x:a.mapa_studenata){mapa_studenata[x.first]=std::make_shared&lt;Student&gt;(*(x.second));}
    }
    Administracija(Administracija&amp;&amp; a){
      for(auto x:a.mapa_laptopa){ mapa_laptopa[x.first]=x.second; }
        for(auto x:a.mapa_studenata){mapa_studenata[x.first]=x.second; }
    }
   
    void operator=(const Administracija&amp; a){
        
        for(auto x:a.mapa_laptopa){ mapa_laptopa[x.first]=std::make_shared&lt;Laptop&gt;(*(x.second));}
        for(auto x:a.mapa_studenata){mapa_studenata[x.first]=std::make_shared&lt;Student&gt;(*(x.second));}
    }
    void operator=(Administracija&amp;&amp; a){
      for(auto x:a.mapa_laptopa){ mapa_laptopa[x.first]=x.second; }
<a name="0"></a><font color="#FF0000"><a href="match803-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_4.gif"/></a>

        for(auto x:a.mapa_studenata){mapa_studenata[x.first]=x.second; }
    }
    void RegistrirajNovogStudenta(int broj_indeksa1,std::string godina_studija1, std::string ime_prezime1,std::string adresa_studenta1,std::string broj_telefona1);
    void  RegistrirajNoviLaptop(int  ev_broj1, std::string naziv1, std::string karakteristike1);
    Student&amp; NadjiStudenta(int broj_indeksa1);
    Student NadjiStudenta(int broj_indeksa1)const;
    Laptop&amp; NadjiLaptop(int ev_broj1);
    Laptop NadjiLaptop(int ev_broj1)const;
    void IzlistajStudente()const;
    void IzlistajLaptope()const;
    void ZaduziLaptop(int broj_indeksa1,int ev_broj1);
    int NadjiSlobodniLaptop()const;
    void RazduziLaptop(int ev_broj1);
</font><a name="3"></a><font color="#00FFFF"><a href="match803-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_1.gif"/></a>

    void PrikaziZaduzenja();
};
//KRAJ KLASE
void Administracija::RegistrirajNovogStudenta(int broj_indeksa1,std::string godina_studija1, std::string ime_prezime1,std::string adresa_studenta1,std::string broj_telefona1)
{
    if( mapa_studenata.find(broj_indeksa1)==mapa_studenata.end()) //ako ne postoji student vec
</font>        mapa_studenata[broj_indeksa1]=std::make_shared&lt;Student&gt;(broj_indeksa1,godina_studija1,ime_prezime1,adresa_studenta1,broj_telefona1);
    else throw std::domain_error("Student s tim indeksom vec postoji");
}
void Administracija:: RegistrirajNoviLaptop(int  ev_broj1, std::string naziv1, std::string karakteristike1)
{
    if(mapa_laptopa.find(ev_broj1)==mapa_laptopa.end())
        mapa_laptopa[ev_broj1]=std::make_shared&lt;Laptop&gt;(ev_broj1,naziv1,karakteristike1);
    else throw std::domain_error("Laptop s tim evidencijskim brojem vec postoji");
}
Student&amp; Administracija:: NadjiStudenta(int broj_indeksa1)
{
    if( mapa_studenata.find(broj_indeksa1)==mapa_studenata.end()) throw std::domain_error("Student nije nadjen");
    Student&amp; s=*mapa_studenata[broj_indeksa1];
    return s;
}
Student Administracija:: NadjiStudenta(int broj_indeksa1)const
{
    if( mapa_studenata.find(broj_indeksa1)==mapa_studenata.end()) throw std::domain_error("Student nije nadjen");
    auto it=mapa_studenata.find(broj_indeksa1);
    auto p=(*it).second;
    Student s=*p;
    return s;
}
Laptop&amp; Administracija:: NadjiLaptop(int ev_broj1)
{
    if( mapa_laptopa.find(ev_broj1)==mapa_laptopa.end()) throw std::domain_error("Laptop nije nadjen");
    Laptop&amp; l=*mapa_laptopa[ev_broj1];
    return l;
}
Laptop Administracija:: NadjiLaptop(int ev_broj1)const
{
    if( mapa_laptopa.find(ev_broj1)==mapa_laptopa.end()) throw std::domain_error("Laptop nije nadjen");
    auto it=mapa_laptopa.find(ev_broj1);
    auto p=(*it).second;
    Laptop l=*p;
    return l;
}
void Administracija:: IzlistajStudente()const
{
    for(auto x:mapa_studenata) {
        x.second-&gt;IspisiPodatke();
    }
}
void Administracija:: IzlistajLaptope()const
{
    for(auto x:mapa_laptopa) {
        x.second-&gt;Ispisi();
        if(x.second-&gt;DaLiJeZaduzen()==1) {
            std::cout&lt;&lt;"Zaduzio(la): "&lt;&lt; x.second-&gt;DajKodKogaJe().DajImePrezime()&lt;&lt;" ("&lt;&lt;x.second-&gt;DajKodKogaJe().DajIndeks()&lt;&lt;")"&lt;&lt;std::endl;
        }
        std::cout&lt;&lt;std::endl;
    }
}
void Administracija:: ZaduziLaptop(int broj_indeksa1,int ev_broj1)
{
    if( mapa_studenata.find(broj_indeksa1)==mapa_studenata.end()) throw std::domain_error("Student nije nadjen");
    if( mapa_laptopa.find(ev_broj1)==mapa_laptopa.end()) throw std::domain_error("Laptop nije nadjen");
    if(mapa_laptopa[ev_broj1]-&gt;DaLiJeZaduzen()) throw std::domain_error("Laptop vec zaduzen");
    mapa_laptopa[ev_broj1]-&gt;Zaduzi(*mapa_studenata[broj_indeksa1]);
}
int Administracija::NadjiSlobodniLaptop()const
{
    for(auto x:mapa_laptopa) {
        if(x.second-&gt;DaLiJeZaduzen()==0) return x.second-&gt;DajEvidencijskiBroj();
    }
    throw std::domain_error("Nema slobodnih laptopa");
}
void Administracija::RazduziLaptop(int ev_broj1)
{
    if( mapa_laptopa.find(ev_broj1)==mapa_laptopa.end()) throw std::domain_error("Laptop nije nadjen");
    if(mapa_laptopa[ev_broj1]-&gt;DaLiJeZaduzen()==0) throw std::domain_error("Laptop nije zaduzen");
    mapa_laptopa[ev_broj1]-&gt;Razduzi();
}
void Administracija::PrikaziZaduzenja()
{
    int i=0;
    for(auto x:mapa_laptopa) {

        if(x.second-&gt;DaLiJeZaduzen()==1) {
            std::cout&lt;&lt;"Student "&lt;&lt; x.second-&gt;DajKodKogaJe().DajImePrezime()&lt;&lt;" ("&lt;&lt;x.second-&gt;DajKodKogaJe().DajIndeks()&lt;&lt;") zaduzio/la laptop broj "&lt;&lt;x.second-&gt;DajEvidencijskiBroj()&lt;&lt;std::endl;

            i++;
        }

    }

    if(i==0) std::cout&lt;&lt;"Nema zaduzenja";
}

int main ()
{
    //AT3 - (javni) Test klase Student - metoda Ispisi
    Student s1(12345, "1/D", "Neko Nekic", "Bascarsija 1", "1/1-1");
    Student s2(12346, "1", "    Neko  Nekic    ", "Bascarsija 2", "1/1-1");
    s1.Ispisi();
    std::cout &lt;&lt; std::endl;
    s2.Ispisi();
    return 0;
}
</pre>
</body>
</html>
