<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z5/Z2/student4011.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z5/Z2/student6960.cpp<p></p><pre>
#include &lt;iostream&gt;
#include &lt;string&gt;
#include &lt;stdexcept&gt;
#include &lt;map&gt;
#include &lt;algorithm&gt;
#include &lt;memory&gt;

class Student
{
    int broj_indeksa;                                                           //peterocifreni broj
    std::string godina_studija;
    std::string ime_prezime, adresa, broj_telefona;
<a name="3"></a><font color="#00FFFF"><a href="match411-0.html#3" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_1.gif"/></a>

public:
    Student (int broj_indeksa, std::string godina_studija, std::string ime_prezime, //konstruktor
             std::string adresa, std::string broj_telefona) ;
    //Pristupne metode:
    int DajIndeks () const {
        return broj_indeksa;
    }
    std::string DajGodinuStudija () const {
</font>        if(godina_studija=="1" || godina_studija=="2" || godina_studija=="3")
            return godina_studija+std::string("/B");
        return godina_studija;
    }
    std::string DajImePrezime () const {
        return ime_prezime;
    }
    std::string DajAdresu () const {
        return adresa;
    }
    std::string DajTelefon () const {
        return broj_telefona;
    }
    void Ispisi () const ;
};

<a name="4"></a><font color="#FF00FF"><a href="match411-0.html#4" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_0.gif"/></a>

Student::Student (int broj_indeksa, std::string godina_studija, std::string ime_prezime, //konstruktor
                  std::string adresa, std::string broj_telefona)
{
    std::string novi;
</font>    for(int i=0; i&lt;ime_prezime.length(); i++) {                                 //brisanje suvisnih razmaka
        /*while(i&lt;ime_prezime.length() &amp;&amp; ime_prezime[i]==' ')
            ime_prezime.erase(ime_prezime.begin()+i);
        while(i&lt;ime_prezime.length() &amp;&amp; ime_prezime[i]!=' ') i++;*/
        if(novi.length()==0)
            while(i&lt;ime_prezime.length() &amp;&amp; !(ime_prezime[i]==' ')) {
                novi.push_back(ime_prezime[i]);
                i++;
            }
        if(i&lt;ime_prezime.length() &amp;&amp; novi.length()!=0 &amp;&amp; ime_prezime.at(i)!=' ') {
            novi.push_back(' ');
            while(i&lt;ime_prezime.length() &amp;&amp; ime_prezime.at(i)!=' ') {
                novi.push_back(ime_prezime.at(i));
                i++;
            }
        }
    }
    ime_prezime=novi;
    novi="";
    for(int i=0; i&lt;adresa.length(); i++) {                                      //brisanje suvisnig razmaka
        if(novi.length()==0)
            while(i&lt;adresa.length() &amp;&amp; !(adresa[i]==' ')) {
                novi.push_back(adresa[i]);
                i++;
            }
        if(i&lt;adresa.length() &amp;&amp; novi.length()!=0 &amp;&amp; adresa[i]!=' ') {
            novi.push_back(' ');
            while(i&lt;adresa.length() &amp;&amp; adresa.at(i)!=' ') {
                novi.push_back(adresa.at(i));
                i++;
            }
        }
    }
    adresa=novi;
    int i(0);                                                                   //provjera broja telefona
    while(i&lt;broj_telefona.length() &amp;&amp; (broj_telefona[i]&gt;='0' &amp;&amp; broj_telefona[i]&lt;='9')) i++;
    if(!std::cin || broj_telefona[i]!='/') throw std::domain_error("Neispravni parametri");
    i++;
    while(i&lt;broj_telefona.length() &amp;&amp; (broj_telefona[i]&gt;='0' &amp;&amp; broj_telefona[i]&lt;='9')) i++;
    if(!std::cin || broj_telefona[i]!='-') throw std::domain_error("Neispravni parametri");
    i++;
    while(i&lt;broj_telefona.length() &amp;&amp; (broj_telefona[i]&gt;='0' &amp;&amp; broj_telefona[i]&lt;='9')) i++;
    if(!std::cin) throw std::domain_error("Neispravni parametri");


    for(int i=0; i&lt;godina_studija.length(); i++)
        while(i&lt;godina_studija.length() &amp;&amp; godina_studija[i]==' ')
            godina_studija.erase(godina_studija.begin()+i);
    if (broj_indeksa/10000==0 || broj_indeksa/10000&gt;=10 || !(godina_studija=="1"
            || godina_studija=="2" || godina_studija=="3" || godina_studija=="1/B"
            || godina_studija=="2/B" || godina_studija=="3/B" || godina_studija=="1/M"
            || godina_studija=="2/M" || godina_studija=="3/M" || godina_studija=="1/D"
            || godina_studija=="2/D" || godina_studija=="3/D" ))
        throw std::domain_error("Neispravni parametri");
    Student::broj_indeksa=broj_indeksa;
    Student::godina_studija=godina_studija;
    Student::ime_prezime=ime_prezime;
    Student::adresa=adresa;
    Student::broj_telefona=broj_telefona;
}

void Student::Ispisi() const
{
    std::cout&lt;&lt;"Broj indeksa: "&lt;&lt;DajIndeks()&lt;&lt;std::endl
             &lt;&lt;"Godina studija: "&lt;&lt;DajGodinuStudija()&lt;&lt;std::endl
             &lt;&lt;"Ime i prezime: "&lt;&lt;DajImePrezime()&lt;&lt;std::endl
             &lt;&lt;"Adresa: "&lt;&lt;DajAdresu()&lt;&lt;std::endl
             &lt;&lt;"Telefon: "&lt;&lt;DajTelefon()&lt;&lt;std::endl;
}

class Laptop
{
<a name="1"></a><font color="#00FF00"><a href="match411-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_2.gif"/></a>

    int ev_broj;
    std::string naziv, karakteristike;
    Student *kod_koga_je;
public:
    Laptop (int ev_broj, std::string naziv, std::string karakteristike);        //konstruktor
    int DajEvidencijskiBroj () const {
        return ev_broj;
    }
    std::string DajNaziv () const {
        return naziv;
    }
    std::string DajKarakteristike () const {
        return karakteristike;
    }
    void Zaduzi (Student &amp;s) {
        if(kod_koga_je!=nullptr)
            throw std::domain_error("Laptop vec zaduzen");
</font>        kod_koga_je=&amp;s;
    }
    void Razduzi () {
        kod_koga_je=nullptr;
    }
    bool DaLiJeZaduzen () const {
        return kod_koga_je!=nullptr;
    }
    Student &amp;DajKodKogaJe () const {
        if(kod_koga_je==nullptr)
            throw std::domain_error ("Laptop nije zaduzen");
        return *kod_koga_je;
    }
    Student *DajPokKodKogaJe () const {
        return kod_koga_je;
    }
<a name="2"></a><font color="#0000FF"><a href="match411-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_1.gif"/></a>

    void Ispisi () const ;
};

Laptop::Laptop (int ev_broj, std::string naziv, std::string karakteristike)
{
    if(ev_broj&lt;0) throw std::domain_error("Neispravni parametri");
    Laptop::ev_broj=ev_broj;
    Laptop::naziv=naziv;
    Laptop::karakteristike=karakteristike;
</font>    Laptop::kod_koga_je=nullptr;
}

void Laptop::Ispisi() const
{
    std::cout&lt;&lt;"Evidencijski broj: "&lt;&lt;ev_broj&lt;&lt;std::endl
             &lt;&lt;"Naziv: "&lt;&lt;naziv&lt;&lt;std::endl
             &lt;&lt;"Karakteristike: "&lt;&lt;karakteristike&lt;&lt;std::endl;
}

class Administracija
{
    std::map&lt;int, std::shared_ptr&lt;Student&gt;&gt; studenti;                           //kljucno polje je broj indeksa
    std::map&lt;int, std::shared_ptr&lt;Laptop&gt;&gt; laptopi;                             //kljucno polje je evidencijski broj
public:
    Administracija () = default;
<a name="0"></a><font color="#FF0000"><a href="match411-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_3.gif"/></a>

    Administracija (const Administracija &amp;a);                                   //kopirajuci konstruktor
    Administracija (Administracija &amp;&amp;a);                                        //pomjerajuci konstruktor
    Administracija &amp;operator =(const Administracija &amp;a);                        //kopirajuci operator dodjele
    Administracija &amp;operator =(Administracija &amp;&amp;a);                              //pomjerajuci operator dodjele
    
    void RegistrirajNovogStudenta (int broj_indeksa, std::string godina_studija,
                                   std::string ime_prezime, std::string adresa, std::string broj_telefona);
    void RegistrirajNoviLaptop (int ev_broj, std::string naziv, std::string karakteristike);

    Student &amp;NadjiStudenta (int broj_indeksa);
    Student NadjiStudenta(int broj_indeksa) const ;

    Laptop &amp;NadjiLaptop (int ev_broj);
    Laptop NadjiLaptop(int ev_broj) const;

    void IzlistajStudente () const ;
    void IzlistajLaptope () const;

    void ZaduziLaptop (int broj_indeksa, int ev_broj);

    int NadjiSlobodniLaptop ();

    void RazduziLaptop (int ev_broj);

    void PrikaziZaduzenja () const ;
</font>};

Administracija &amp;Administracija::operator =(Administracija &amp;&amp;a) {
    if(this==&amp;a) return *this;
    for(auto it=this-&gt;studenti.begin(); it!=this-&gt;studenti.end(); it++) {
        studenti.erase(it-&gt;first);
    }
    for(auto it=this-&gt;laptopi.begin(); it!=this-&gt;laptopi.end(); it++) {
        laptopi.erase(it-&gt;first);
    }
    for(auto it=a.studenti.begin(); it!=a.studenti.end(); it++) {
        this-&gt;studenti.insert({it-&gt;first, it-&gt;second});
        it-&gt;second=nullptr;
    }
    for(auto it=a.laptopi.begin(); it!=a.laptopi.end(); it++) {
        this-&gt;laptopi.insert({it-&gt;first, it-&gt;second});
        it-&gt;second=nullptr;
    }
    return *this;
} 

Administracija::Administracija (Administracija &amp;&amp;a) {
    for(auto it=a.studenti.begin(); it!=a.studenti.end(); it++) {
        this-&gt;studenti.insert({it-&gt;first, it-&gt;second});
        it-&gt;second=nullptr;
    }
    for(auto it=a.laptopi.begin(); it!=a.laptopi.end(); it++) {
        this-&gt;laptopi.insert({it-&gt;first, it-&gt;second});
        it-&gt;second=nullptr;
    }
}

Administracija &amp;Administracija::operator =(const Administracija &amp;a)
{
    if(this==&amp;a) return *this;                                                  //provjera na destruktivnu samododjelu
    for(auto it=a.studenti.begin(); it!=a.studenti.end(); it++)
        this-&gt;studenti.insert({it-&gt;first, std::shared_ptr&lt;Student&gt; (new  Student(it-&gt;first,
                               it-&gt;second-&gt;DajGodinuStudija(), it-&gt;second-&gt;DajImePrezime(), it-&gt;second-&gt;DajAdresu(), it-&gt;second-&gt;DajTelefon())
                              )});
    for(auto it=a.laptopi.begin(); it!=a.laptopi.end(); it++)
        this-&gt;laptopi.insert({it-&gt;first,std::shared_ptr&lt;Laptop&gt;( new Laptop(it-&gt;first,
                              it-&gt;second-&gt;DajNaziv(), it-&gt;second-&gt;DajKarakteristike()))
                             });
    return *this;
}

Administracija::Administracija (const Administracija &amp;a)
{
    for(auto it=a.studenti.begin(); it!=a.studenti.end(); it++)
       
                              this-&gt;studenti.insert({it-&gt;first, std::shared_ptr&lt;Student&gt; (new  Student(it-&gt;first,
                               it-&gt;second-&gt;DajGodinuStudija(), it-&gt;second-&gt;DajImePrezime(), it-&gt;second-&gt;DajAdresu(), it-&gt;second-&gt;DajTelefon())
                              )});
    for(auto it=a.laptopi.begin(); it!=a.laptopi.end(); it++)
        this-&gt;laptopi.insert({it-&gt;first,std::shared_ptr&lt;Laptop&gt;( new Laptop(it-&gt;first,
                              it-&gt;second-&gt;DajNaziv(), it-&gt;second-&gt;DajKarakteristike()))
                             });
}

void Administracija::PrikaziZaduzenja () const
{
    bool postoji(false);
    for(auto it1=laptopi.begin(); it1!=laptopi.end(); it1++) {
        if(it1-&gt;second-&gt;DajPokKodKogaJe()!=nullptr) {
            postoji=true;
            for(auto it2=studenti.begin(); it2!=studenti.end(); it2++) {
                if(((it1-&gt;second)-&gt;DajPokKodKogaJe()-&gt;DajIndeks())==(it2-&gt;first))
                    std::cout&lt;&lt;"Student "&lt;&lt;(it2-&gt;second)-&gt;DajImePrezime()&lt;&lt;" ("
                             &lt;&lt;(it2-&gt;second)-&gt;DajIndeks()&lt;&lt;") zaduzio/la laptop broj "
                             &lt;&lt;it1-&gt;first&lt;&lt;std::endl;
            }
        }
    }
    if(postoji==false) std::cout&lt;&lt;"Nema zaduzenja";
}

void Administracija::RazduziLaptop (int ev_broj)
{
    for(auto it=laptopi.begin(); it!=laptopi.end(); it++)
        if(it-&gt;first==ev_broj) {
            if((it-&gt;second)-&gt;DajPokKodKogaJe()==nullptr)
                throw std::domain_error("Laptop nije zaduzen");
            else {
                (it-&gt;second)-&gt;Razduzi();
                return;
            }
        }
    throw std::domain_error("Laptop nije nadjen");
}

int Administracija::NadjiSlobodniLaptop ()
{
    for(auto it=laptopi.begin(); it!=laptopi.end(); it++)
        if((it-&gt;second)-&gt;DaLiJeZaduzen()==false) return it-&gt;first;
    throw std::domain_error("Nema slobodnih laptopa");
}

void Administracija::ZaduziLaptop (int broj_indeksa, int ev_broj)
{
    bool pronadjen(false);
    for(auto it=studenti.begin(); it!=studenti.end(); it++)
        if(it-&gt;first==broj_indeksa) {
            pronadjen=true;
            break;
        }
    if(pronadjen==false)
        throw std::domain_error("Student nije nadjen");
    pronadjen=false;
    for(auto it=laptopi.begin(); it!=laptopi.end(); it++)
        if(it-&gt;first==ev_broj) {
            pronadjen=true;
            break;
        }
    if(pronadjen==false)
        throw std::domain_error("Laptop nije nadjen");

    for(auto it=laptopi.begin(); it!=laptopi.end(); it++)
        if(it-&gt;first==ev_broj &amp;&amp; (it-&gt;second)-&gt;DaLiJeZaduzen())
            throw std::domain_error("Laptop vec zaduzen");

    for(auto it=laptopi.begin(); it!=laptopi.end(); it++) {
        if(it-&gt;second-&gt;DaLiJeZaduzen() &amp;&amp; it-&gt;second-&gt;DajPokKodKogaJe()-&gt;DajIndeks()==broj_indeksa)
            throw std::domain_error("Student je vec zaduzio laptop");
    }

    auto laptop = laptopi.find(ev_broj)-&gt;second;
    auto student = studenti.find(broj_indeksa)-&gt;second;
    laptop-&gt;Zaduzi(*student);

}

void Administracija::IzlistajLaptope () const
{
    int brojac(1);
    for(auto it=laptopi.begin(); it!=laptopi.end(); it++) {
        (it-&gt;second)-&gt;Ispisi();
        if((it-&gt;second)-&gt;DaLiJeZaduzen())
            std::cout&lt;&lt;"Zaduzio(la): "&lt;&lt;((it-&gt;second)-&gt;DajPokKodKogaJe())-&gt;DajImePrezime()&lt;&lt;" "
                     &lt;&lt;"("&lt;&lt;((it-&gt;second)-&gt;DajPokKodKogaJe())-&gt;DajIndeks()&lt;&lt;")"&lt;&lt;std::endl;
        std::cout&lt;&lt;std::endl;
        brojac++;
        if(brojac%2!=0) std::cout&lt;&lt;std::endl;
    }
}

void Administracija::IzlistajStudente() const
{
    int brojac(1);
    for(auto it=studenti.begin(); it!=studenti.end(); it++) {
        (it-&gt;second)-&gt;Ispisi();
        brojac++;
        if(brojac%2!=0) std::cout&lt;&lt;std::endl;
    }
}

Laptop &amp;Administracija::NadjiLaptop (int ev_broj)
{
    for(auto it=laptopi.begin(); it!=laptopi.end(); it++)
        if(it-&gt;first==ev_broj)
            return *(it-&gt;second);
    throw std::domain_error("Laptop nije nadjen");
}

Laptop Administracija::NadjiLaptop (int ev_broj) const
{
    for(auto it=laptopi.begin(); it!=laptopi.end(); it++)
        if(it-&gt;first==ev_broj)
            return Laptop(*(it-&gt;second));
    throw std::domain_error("Laptop nije nadjen");
}

Student Administracija::NadjiStudenta (int broj_indeksa) const
{
    for(auto it=studenti.begin(); it!=studenti.end(); it++)
        if(it-&gt;first==broj_indeksa)
            return Student(*(it-&gt;second));
    throw std::domain_error("Student nije nadjen");
}

Student &amp;Administracija::NadjiStudenta (int broj_indeksa)
{
    for(auto it=studenti.begin(); it!=studenti.end(); it++)
        if(it-&gt;first==broj_indeksa)
            return *(it-&gt;second);
    throw std::domain_error("Student nije nadjen");
}

void Administracija::RegistrirajNoviLaptop (int ev_broj, std::string naziv, std::string karakteristike)
{
    for(auto it=laptopi.begin(); it!=laptopi.end(); it++)
        if(it-&gt;first==ev_broj)
            throw std::domain_error("Laptop s tim evidencijskim brojem vec postoji");
    laptopi.insert({ev_broj, std::shared_ptr&lt;Laptop&gt;(new Laptop(ev_broj, naziv, karakteristike))});
}

void Administracija::RegistrirajNovogStudenta (int broj_indeksa, std::string godina_studija, std::string ime_prezime,
        std::string adresa, std::string broj_telefona)
{
    for(auto it=studenti.begin(); it!=studenti.end(); it++)
        if(it-&gt;first==broj_indeksa)
            throw std::domain_error("Student s tim indeksom vec postoji");
    studenti.insert({broj_indeksa, std::shared_ptr&lt;Student&gt; (new Student(broj_indeksa,
                     godina_studija, ime_prezime, adresa, broj_telefona))
                    });
}

int main ()
{
    Administracija etf;
    try {
        for(;;) {
            std::cout&lt;&lt;"Odaberite opciju: "&lt;&lt;std::endl
                     &lt;&lt;" 1 - Registriraj novog studenta"&lt;&lt;std::endl
                     &lt;&lt;" 2 - Registriraj novi laptop"&lt;&lt;std::endl
                     &lt;&lt;" 3 - Nadji studenta"&lt;&lt;std::endl
                     &lt;&lt;" 4 - Nadji laptop"&lt;&lt;std::endl
                     &lt;&lt;" 5 - Zaduzi laptop"&lt;&lt;std::endl
                     &lt;&lt;" 6 - Razduzi laptop"&lt;&lt;std::endl
                     &lt;&lt;" 7 - Nadji slobodan laptop"&lt;&lt;std::endl
                     &lt;&lt;" 8 - Izlistaj studente"&lt;&lt;std::endl
                     &lt;&lt;" 9 - IzlistajLaptope"&lt;&lt;std::endl
                     &lt;&lt;" 10 - PrikaziZaduzenja"&lt;&lt;std::endl
                     &lt;&lt;" 0 ili 'Kraj' za kraj"&lt;&lt;std::endl;
            int unos;
            std::cin&gt;&gt;unos;
            if(!std::cin || unos==0) break;
            else if(unos==1) {
                int broj_indeksa;
                std::string godina_studija, ime_prezime, adresa, broj_telefona;
                std::cout&lt;&lt;"Unesite indeks: ";
                std::cin&gt;&gt;broj_indeksa;
                std::cin.ignore(10000, '\n');
                std::cout&lt;&lt;"Unesite godinu studija: ";
                std::getline(std::cin, godina_studija);
                std::cout&lt;&lt;"Unesite ime i prezime: ";
                std::getline(std::cin, ime_prezime);
                std::cout&lt;&lt;"Unesite broj telefona: ";
                std::getline(std::cin, broj_telefona);
                etf.RegistrirajNovogStudenta(broj_indeksa, godina_studija,
                                             ime_prezime, adresa, broj_telefona);
            } else if(unos==2) {
                std::cout&lt;&lt;"Unesite evidencijski broj:";
                int ev_broj;
                std::cin&gt;&gt;ev_broj;
                std::cin.clear();
                std::cin.ignore(10000, '\n');
                std::string naziv, karakteristike;
                std::cout&lt;&lt;"Unesite naziv: ";
                std::getline(std::cin, naziv);
                std::cout&lt;&lt;"Unesite karakteristike: ";
                std::getline(std::cin, karakteristike);
                etf.RegistrirajNoviLaptop(ev_broj, naziv, karakteristike);
            } else if(unos==3) {
                int broj_indeksa;
                std::cout&lt;&lt;"Unesite indeks: ";
                std::cin&gt;&gt;broj_indeksa;
                etf.NadjiStudenta(broj_indeksa).Ispisi();
                std::cout&lt;&lt;std::endl;
            } else if(unos==4) {
                int ev_broj;
                std::cout&lt;&lt;"Unesite evidencijski broj:";
                std::cin&gt;&gt;ev_broj;
                etf.NadjiLaptop(ev_broj).Ispisi();
                std::cout&lt;&lt;std::endl;
            } else if(unos==5) {
                int broj_indeksa;
                std::cout&lt;&lt;"Unesite indeks: ";
                std::cin&gt;&gt;broj_indeksa;
                int ev_broj;
                std::cout&lt;&lt;"Unesite evidencijski broj:";
                std::cin&gt;&gt;ev_broj;
                etf.ZaduziLaptop(broj_indeksa, ev_broj);
            } else if(unos==6) {
                int ev_broj;
                std::cout&lt;&lt;"Unesite evidencijski broj:";
                std::cin&gt;&gt;ev_broj;
                etf.RazduziLaptop(ev_broj);
            } else if(unos==7) {
                std::cout&lt;&lt;"Slobodan je laptop sa evidencijskim brojem: "&lt;&lt;
                         etf.NadjiSlobodniLaptop();
            } else if(unos==8) {
                etf.IzlistajStudente();
                std::cout&lt;&lt;std::endl;
            } else if(unos==9) {
                etf.IzlistajLaptope();
                std::cout&lt;&lt;std::endl;
            } else if(unos==10) {
                etf.PrikaziZaduzenja();
                std::cout&lt;&lt;std::endl;
            }
        }
    } catch (std::domain_error izuzetak) {
        std::cout&lt;&lt;izuzetak.what()&lt;&lt;std::endl;
    }

    std::cout&lt;&lt;"Dovidjenja!";
    return 0;
}
</pre>
</body>
</html>
