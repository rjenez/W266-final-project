<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z5/Z2/student7255.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z5/Z2/student7255.cpp<p></p><pre>
<a name="4"></a><font color="#FF00FF"><a href="match473-1.html#4" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_2.gif"/></a>

/B2017/2018: ZadaÄ‡a 5, Zadatak 2
#include &lt;iostream&gt;
#include &lt;string&gt;
#include &lt;stdexcept&gt;
#include &lt;map&gt;
#include &lt;memory&gt;

class Student
{
    int br_indeksa;
    std::string god_studija, ime_prezime, adresa, br_tel;
</font><a name="0"></a><font color="#FF0000"><a href="match473-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_3.gif"/></a>

public:
    Student(int br_indeksa, std::string god_studija, std::string ime_prezime,
            std::string adresa, std::string br_tel);
    int DajIndeks() const { return br_indeksa; }
    std::string DajGodinuStudija() const { return god_studija; }
    std::string DajImePrezime() const { return ime_prezime; }
</font><a name="6"></a><font color="#00FF00"><a href="match473-1.html#6" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_2.gif"/></a>

    std::string DajAdresu() const { return adresa; }
    std::string DajTelefon() const { return br_tel; }
    void Ispisi() const {
        std::cout&lt;&lt;"Broj indeksa: "&lt;&lt;DajIndeks()&lt;&lt;std::endl
</font>                 &lt;&lt;"Godina studija: "&lt;&lt;DajGodinuStudija()&lt;&lt;std::endl
                 &lt;&lt;"Ime i prezime: "&lt;&lt;DajImePrezime()&lt;&lt;std::endl
<a name="2"></a><font color="#0000FF"><a href="match473-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_3.gif"/></a>

                 &lt;&lt;"Adresa: "&lt;&lt;DajAdresu()&lt;&lt;std::endl
                 &lt;&lt;"Telefon: "&lt;&lt;DajTelefon()&lt;&lt;std::endl;
    }
};

Student::Student(int br_indeksa, std::string god_studija, std::string ime_prezime,
                 std::string adresa, std::string br_tel) : adresa(adresa)
</font>{
    int br_cif(0), tmp(br_indeksa);
    while(tmp!=0) {
        tmp/=10;
        br_cif++;
    }
    if(br_cif!=5) throw std::domain_error ("Neispravni parametri");
    else Student::br_indeksa=br_indeksa;

    if(god_studija=="1") Student::god_studija ="1/B";
    else if(god_studija=="2") Student::god_studija ="2/B";
    else if(god_studija=="3") Student::god_studija ="3/B";
    else {
        if(god_studija!="1/B" &amp;&amp; god_studija!="2/B" &amp;&amp; god_studija!="3/B"
                &amp;&amp; god_studija!="1/M" &amp;&amp; god_studija!="2/M" &amp;&amp;
                god_studija!="1/D" &amp;&amp; god_studija!="2/D" &amp;&amp; god_studija!="3/D")
            throw std::domain_error ("Neispravni parametri");
        Student::god_studija=god_studija;
    }
    int i=0;
    int vel=ime_prezime.length();
    while(i&lt;vel) {
        while(ime_prezime[i]==' ') i++;
        while(ime_prezime[i]!=' ' &amp;&amp; i&lt;vel) {
            Student::ime_prezime.push_back(ime_prezime[i]);
            i++;
        }
        Student::ime_prezime.push_back(' ');
        i++;
    }
    int j=Student::ime_prezime.length()-1;
    while(Student::ime_prezime[j]==' ') {
        Student::ime_prezime.resize(j);
        j--;
    }
    
    bool ispravno_1=false, ispravno_2=false;
    for(int i=0; i&lt;br_tel.length(); i++) {
        if(br_tel[i]=='/') ispravno_1=true;
        if(br_tel[i]=='-') ispravno_2=true;
    }
    if(!ispravno_1) throw std::domain_error ("Neispravni parametri");
    else if(!ispravno_2) throw std::domain_error ("Neispravni parametri");
    else Student::br_tel=br_tel;
}

class Laptop
{
    int ev_broj;
    std::string naziv, karakteristike;
    Student *kod_koga_je;
<a name="5"></a><font color="#FF0000"><a href="match473-1.html#5" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_2.gif"/></a>

public:
    Laptop(int ev_broj, std::string naziv, std::string karakteristike) :
        naziv(naziv), karakteristike(karakteristike), kod_koga_je(nullptr)
    {
        if(ev_broj&lt;0) throw std::domain_error ("Neispravni parametri");
</font><a name="3"></a><font color="#00FFFF"><a href="match473-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_3.gif"/></a>

        Laptop::ev_broj=ev_broj;
    }
    int DajEvidencijskiBroj() const { return ev_broj; }
    std::string DajNaziv() const { return naziv; }
    std::string DajKarakteristike() const { return karakteristike; }
    void Zaduzi(Student &amp;s) {
        if(kod_koga_je!=nullptr) throw std::domain_error ("Laptop vec zaduzen");
        kod_koga_je=&amp;s;
</font>    }
    void Razduzi() { if(kod_koga_je!=nullptr) kod_koga_je=nullptr; }
    bool DaLiJeZaduzen() const { return kod_koga_je!=nullptr; }
    Student &amp;DajKodKogaJe() {
        if(!DaLiJeZaduzen()) throw std::domain_error ("Laptop nije zaduzen");
        return *kod_koga_je;
    }
    Student *DajPokKodKogaJe() const { return kod_koga_je; }
    void Ispisi() const {
        std::cout&lt;&lt;"Evidencijski broj: "&lt;&lt;DajEvidencijskiBroj()&lt;&lt;std::endl
<a name="1"></a><font color="#00FF00"><a href="match473-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_3.gif"/></a>

                 &lt;&lt;"Naziv: "&lt;&lt;DajNaziv()&lt;&lt;std::endl
                 &lt;&lt;"Karakteristike: "&lt;&lt;DajKarakteristike()&lt;&lt;std::endl;
    }
};

class Administracija
{
    std::map&lt;int, std::shared_ptr&lt;Student&gt; &gt; studenti;
    std::map&lt;int, std::shared_ptr&lt;Laptop&gt; &gt; laptopi;
</font>public:
    void RegistrirajNovogStudenta(int br_indeksa, std::string god_studija, std::string ime_prezime,
                 std::string adresa, std::string br_tel) 
    {
        for(auto it=studenti.begin(); it!=studenti.end(); it++) {
            if(br_indeksa==it-&gt;first) 
                throw std::domain_error ("Student s tim indeksom vec postoji");
        }
        studenti.insert( {br_indeksa, std::make_shared &lt;Student&gt; (br_indeksa, god_studija, 
                          ime_prezime, adresa, br_tel) } );
    }
    void RegistrirajNoviLaptop(int ev_broj, std::string naziv, std::string karakteristike) 
    {
        for(auto it=laptopi.begin(); it!=laptopi.end(); it++) {
            if(ev_broj==it-&gt;first) 
                throw std::domain_error ("Laptop s tim evidencijskim brojem vec postoji");
        }
        laptopi.insert( {ev_broj, std::make_shared &lt;Laptop&gt; (ev_broj, naziv, karakteristike) } );
    }
    
    Student &amp;NadjiStudenta(int br_indeksa) const {
        for(auto it=studenti.begin(); it!=studenti.end(); it++) {
            if(br_indeksa==it-&gt;first)
                return (Student &amp;)*it;
            if(it==studenti.end()) throw std::domain_error ("Student nije nadjen");
        }
    }
    Laptop &amp;NadjiLaptop(int ev_broj) const {
        for(auto it=laptopi.begin(); it!=laptopi.end(); it++) {
            if(ev_broj==it-&gt;first)
                return (Laptop &amp;) (it-&gt;second)-&gt;Laptop::DajKodKogaJe();
            if(it==laptopi.end()) throw std::domain_error ("Laptop nije nadjen");
        }
    }
    void IzlistajStudente() const {
        for(auto it=studenti.begin(); it!=studenti.end(); it++) {
            (it-&gt;second)-&gt;Student::Ispisi();
            std::cout&lt;&lt;std::endl;
        }
    }
    void IzlistajLaptope() const {
        for(auto it=laptopi.begin(); it!=laptopi.end(); it++) {
            it-&gt;second-&gt;Laptop::Ispisi();
            std::cout&lt;&lt;std::endl;
        }
    }
    int NadjiSlobodniLaptop() const {
        for(auto it=laptopi.begin(); it!=laptopi.end(); it++) {
            if( !(it-&gt;second-&gt;DaLiJeZaduzen()) )
                return it-&gt;second-&gt;DajEvidencijskiBroj();
            if(it==laptopi.end())
                throw std::domain_error ("Nema slobodnih laptopa");
        }
    }
    

};

int main ()
{
    Student s(12345,"1","  a  q   sg   dc            f    ","1", "1/1-1");
    s.Ispisi();
    Administracija a;
    a.RegistrirajNovogStudenta(12345,"1","2","3","4/2-1");
    a.RegistrirajNovogStudenta(12395,"1","2","3","4/2-1");
    a.IzlistajStudente();
    return 0;
}
</pre>
</body>
</html>
