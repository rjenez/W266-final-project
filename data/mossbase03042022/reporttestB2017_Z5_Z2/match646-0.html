<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z5/Z2/student6410.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z5/Z2/student6410.cpp<p></p><pre>
#include &lt;iostream&gt;
#include &lt;string&gt;
#include &lt;stdexcept&gt;
#include &lt;memory&gt;
#include &lt;vector&gt;
#include &lt;algorithm&gt;

class Student{
     int index;
     std::string ime, adresa, telefon, godina_studija;
     public:
     bool ProvjeraIndexa(int indeks){
          if(indeks&lt;10000) return false;
          return true;
     }
     bool ProvjeraStudGodine(std::string god_stud){
          if(god_stud.length()&gt;3 || god_stud.length()==2 || god_stud.length()==0) return false;
    if(god_stud.length()==1 &amp;&amp; god_stud[0]!='1' &amp;&amp; god_stud[0]!='2' &amp;&amp; god_stud[0]!='3') return false;
    if(godina_studija.length()==3) {
    for(int i(0);i&lt;3;i++) {
        if(god_stud[0]!='1' &amp;&amp; god_stud[0]!='2' &amp;&amp; god_stud[0]!='3') return false;
        if(god_stud[1]!='/') return false;
        if(god_stud[2]!='B' &amp;&amp; god_stud[2]!='M' &amp;&amp; god_stud[2]!='D') return false;
        if(god_stud[0]=='3' &amp;&amp; god_stud[2]=='M') return false;
    }
    }
    return true;
     }
     bool ProvjeraBrojaTelefona(std::string br_tel){
          if(br_tel.length()&lt;5) return false;
          for(int i=0;i&lt;br_tel.length();i++) {
        if(br_tel[0]&lt;'0' || br_tel[0]&gt;'9')
            return false;
        if(br_tel[i]!='/' &amp;&amp; br_tel[i]!='-' &amp;&amp; (br_tel[i]&lt;'0' || br_tel[i]&gt;'9'))
            return false;
        if(br_tel[br_tel.length()-1]=='-' || br_tel[br_tel.length()-1]=='/')
            return false;
    }
    int br1=0,br2=0;
    for(int i=0;i&lt;br_tel.length();i++) {
        if(br_tel[i]=='/') {
            br1++;
            if(br1&gt;1) return false;
        }
        if(br_tel[i]=='-') {
            br2++;
            if(br2&gt;1) return false;
        }
    }
    if(br1==0 || br2==0) return false;

    for(int i=0;i&lt;br_tel.length();i++) {
        if(br_tel[i]=='/' &amp;&amp; (br_tel[i-1]=='-' || br_tel[i+1]=='-'))
            return false;
    }
    return true;
     }


     std::string SrediIme(std::string s){
          int duzina=s.size();
    for(int i=0;i&lt;duzina-1;i++) {
        if(s[i]==' ' &amp;&amp; s[i+1]==' ' &amp;&amp; i!=0) {
            for(int j=i;j&lt;duzina-1;j++) {
                s[j]=s[j+1];
            }
            duzina--;
            i--;
        }
        if(s[0]==' ') {
            for(int j=i;j&lt;duzina-1;j++)
                s[j]=s[j+1];
            duzina--;
            i--;
        }
    }

    if(s[duzina-1]==' ' || s[0]==' ') duzina--;

    std::string pomocni;
    for(int i=0;i&lt;duzina;i++){

        pomocni.push_back(s[i]);
    }
    s.resize(0);
    for(int i=0;i&lt;duzina;i++) {
        s.push_back(pomocni[i]);
    }
    return s;
     }
     
     
     Student(int indeks, std::string god_stud, std::string ime_prezime, std::string a_stanovanja, std::string br_tel){
          if(!ProvjeraIndexa(indeks)) throw std::domain_error("Neispravni parametri");
          if(!ProvjeraStudGodine(god_stud)) throw std::domain_error("Neispravni parametri");
          if(!ProvjeraBrojaTelefona(br_tel)) throw std::domain_error("Neispravni parametri");

          index=indeks;
          godina_studija=god_stud;
          ime=SrediIme(ime_prezime);
          adresa=SrediIme(a_stanovanja);
          telefon=br_tel;
     }

     int DajIndeks() const{
          return index;
     }
     std::string DajGodinuStudija() {
          if(godina_studija.length()==1 &amp;&amp; (godina_studija[0]=='1' || godina_studija[0]=='2' || godina_studija[0]=='3'))
        godina_studija=godina_studija+std::string("/B");
    return godina_studija;
     }
     std::string DajImePrezime() const{
          return ime;
     }
     std::string DajAdresu() const{
          return adresa;
     }
     std::string DajTelefon(){
          return telefon;
     }
     void Ispisi(){
          std::cout&lt;&lt;"Broj indeksa: "&lt;&lt;index&lt;&lt;std::endl;
          std::cout&lt;&lt;"Godina studija: "&lt;&lt;(*this).DajGodinuStudija()&lt;&lt;std::endl;
          std::cout&lt;&lt;"Ime i prezime: "&lt;&lt;ime&lt;&lt;std::endl;
<a name="4"></a><font color="#FF00FF"><a href="match646-1.html#4" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_1.gif"/></a>

          std::cout&lt;&lt;"Adresa: "&lt;&lt;adresa&lt;&lt;std::endl;
          std::cout&lt;&lt;"Telefon: "&lt;&lt;telefon&lt;&lt;std::endl;
     }
    
};


class Laptop{
    int evidencijski_broj;
    std::string naziv, karakteristike ;
</font>    std::shared_ptr&lt;Student&gt; kod_koga_je=nullptr;
public:
std::string SrediIme(std::string s){
          int duzina=s.size();
    for(int i=0;i&lt;duzina-1;i++) {
        if(s[i]==' ' &amp;&amp; s[i+1]==' ' &amp;&amp; i!=0) {
            for(int j=i;j&lt;duzina-1;j++) {
                s[j]=s[j+1];
            }
            duzina--;
            i--;
        }
        if(s[0]==' ') {
            for(int j=i;j&lt;duzina-1;j++)
                s[j]=s[j+1];
            duzina--;
            i--;
        }
    }

    if(s[duzina-1]==' ' || s[0]==' ') duzina--;

    std::string pomocni;
    for(int i=0;i&lt;duzina;i++){

        pomocni.push_back(s[i]);
    }
    s.resize(0);
    for(int i=0;i&lt;duzina;i++) {
        s.push_back(pomocni[i]);
    }
    return s;
     }

    Laptop(int ev_broj, std::string naziv_laptopa, std::string karakteristike_l){
    if (ev_broj &lt; 0) throw std::domain_error("Neispravni parametri");
    evidencijski_broj = ev_broj;
    naziv = SrediIme(naziv_laptopa);
    karakteristike = SrediIme(karakteristike_l);
    }
    
    
    int DajEvidencijskiBroj(){ return evidencijski_broj; }
    std::string DajNaziv(){ return naziv; }
<a name="2"></a><font color="#0000FF"><a href="match646-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_1.gif"/></a>

    std::string DajKarakteristike(){ return karakteristike; }
    
    void Zaduzi(Student &amp;s){
    if(kod_koga_je != nullptr) throw std::domain_error("Laptop vec zaduzen");
    kod_koga_je = std::make_shared&lt;Student&gt;(s);
    }
    
    void Razduzi(){ kod_koga_je = nullptr; }
    
    bool DaLiJeZaduzen(){ 
</font>         if(kod_koga_je != nullptr) return true;
    else return false; }
    
    
<a name="0"></a><font color="#FF0000"><a href="match646-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_3.gif"/></a>

    Student &amp;DajKodKogaJe(){
         if(kod_koga_je==nullptr) throw std::domain_error("Laptop nije zaduzen");
         return *kod_koga_je;
    }
    
  std::shared_ptr&lt;Student&gt; DajPokKodKogaJe(){
         return kod_koga_je;
   }
    
    void Ispisi(){
         std::cout &lt;&lt; "Evidencijski broj: " &lt;&lt; evidencijski_broj &lt;&lt; std::endl;
    std::cout &lt;&lt; "Naziv: " &lt;&lt; naziv &lt;&lt; std::endl;
    std::cout &lt;&lt; "Karakteristike: " &lt;&lt; karakteristike &lt;&lt; std::endl;
    }
};


class Administracija{
    std::vector&lt;std::shared_ptr&lt;Student&gt;&gt; studenti;
</font>    std::vector&lt;std::shared_ptr&lt;Laptop&gt;&gt; laptopi;
public:
    Administracija(){}
    Administracija &amp;operator=(Administracija &amp;a) = delete;
    Administracija(const Administracija &amp;a) = delete;
    Administracija(Administracija &amp;&amp;a){
    studenti = std::move(a.studenti);
    }
  
    Administracija &amp;operator=(Administracija &amp;&amp;a){
<a name="3"></a><font color="#00FFFF"><a href="match646-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_1.gif"/></a>

    studenti = std::move(a.studenti);
    return *this;
    }
    void RegistrirajNovogStudenta(int indeks, std::string god_stud, std::string ime_prezime, std::string a_stanovanja, std::string br_tel){
     for(int i = 0; i &lt; studenti.size(); i++){
</font>        if(studenti[i]-&gt;DajIndeks() == indeks) throw std::domain_error("Student s tim indeksom vec postoji");
    }
    studenti.resize(studenti.size() + 1);
    studenti[studenti.size() - 1] = std::make_shared&lt;Student&gt;(Student(indeks, god_stud, ime_prezime, a_stanovanja, br_tel));

    }
    void RegistrirajNoviLaptop(int ev_broj, std::string naziv_laptopa, std::string karakteristike_l){
    for(int i = 0; i &lt; laptopi.size(); i++){
        if(laptopi[i]-&gt;DajEvidencijskiBroj() == ev_broj) throw std::domain_error("Laptop s tim evidencijskim brojem vec postoji");
    }
    laptopi.resize(laptopi.size() + 1);
    laptopi[laptopi.size() - 1] = std::make_shared&lt;Laptop&gt;(Laptop(ev_broj, naziv_laptopa, karakteristike_l));

    }
    Student &amp;NadjiStudenta(int indeks){
    for(int i = 0; i &lt; studenti.size(); i++){
        if(studenti[i]-&gt;DajIndeks() == indeks) return *(studenti[i]);
    }
    throw std::domain_error("Student nije nadjen");
    }
    Student NadjiStudenta(int indeks) const{
    std::shared_ptr&lt;Student&gt; s;
    for(int i = 0; i &lt; studenti.size(); i++){
        if(studenti[i]-&gt;DajIndeks() == indeks){
            s = std::make_shared&lt;Student&gt;(*(studenti[i]));
            return *s;
        }
    }
    throw std::domain_error("Student nije nadjen");
    }
    Laptop &amp;NadjiLaptop(int ev_broj){
        for(int i = 0; i &lt; laptopi.size(); i++){
        if(laptopi[i]-&gt;DajEvidencijskiBroj() == ev_broj) return *(laptopi[i]);
    }
    throw std::domain_error("Laptop nije nadjen");
    }
    Laptop NadjiLaptop(int ev_broj) const{
    std::shared_ptr&lt;Laptop&gt; l;
    for(int i = 0; i &lt; laptopi.size(); i++){
        if(studenti[i]-&gt;DajIndeks() == ev_broj){
            l = std::make_shared&lt;Laptop&gt;(*(laptopi[i]));
            return *l;
        }
    }
    throw std::domain_error("Laptop nije nadjen");
    }
    void IzlistajStudente() const{
     for(int i = 0; i &lt; studenti.size(); i++){
        studenti[i]-&gt;Ispisi();
        std::cout &lt;&lt; std::endl;
    }
    }
    
    void IzlistajLaptope() const{
    for(int i = 0; i &lt; laptopi.size(); i++){
        laptopi[i]-&gt;Ispisi();
        if(laptopi[i]-&gt;DaLiJeZaduzen()) std::cout &lt;&lt; "Zaduzio(la): " &lt;&lt; laptopi[i]-&gt;DajKodKogaJe().DajImePrezime() &lt;&lt;" (" &lt;&lt; laptopi[i]-&gt;DajKodKogaJe().DajIndeks() &lt;&lt; ")" &lt;&lt; std::endl;
    std::cout &lt;&lt; std::endl;
    }
    }
    void ZaduziLaptop(int indeks, int ev_broj){
    for(int i = 0; i &lt; studenti.size(); i++){
        if(studenti[i]-&gt;DajIndeks() == indeks) break;
        if(i == studenti.size() - 1) throw std::domain_error("Student nije nadjen");
    }
    for(int j = 0; j &lt; laptopi.size(); j++){
        if(laptopi[j]-&gt;DajEvidencijskiBroj() == ev_broj) break;
        if(j == laptopi.size() - 1) throw std::domain_error("Laptop nije nadjen");
    }

    if(NadjiLaptop(ev_broj).DaLiJeZaduzen()) throw std::domain_error("Laptop vec zaduzen");

    for(int k = 0; k &lt; laptopi.size(); k++){
        if(laptopi[k]-&gt;DajKodKogaJe().DajIndeks() == indeks) std::domain_error("Student je vec zaduzio laptop");
    }

    NadjiLaptop(ev_broj).Zaduzi(NadjiStudenta(indeks));
    }
    
    
    int NadjiSlobodniLaptop(){
    for(int i = 0; i &lt; laptopi.size(); i++){
        if(laptopi[i]-&gt;DaLiJeZaduzen() == false) return laptopi[i]-&gt;DajEvidencijskiBroj();
        if(i == laptopi.size() - 1) throw std::domain_error("Nema slobodnih laptopa");
    }
    }
    void RazduziLaptop(int ev_broj){
    if(NadjiLaptop(ev_broj).DaLiJeZaduzen() == false) throw std::domain_error("Laptop nije zaduzen");
    NadjiLaptop(ev_broj).Razduzi();
    }
    void PrikaziZaduzenja() const{
        bool tacno(false);
    for(int i = 0; i &lt; laptopi.size(); i++){
        if(laptopi[i]-&gt;DaLiJeZaduzen()){
            std::cout &lt;&lt; "Student " &lt;&lt; laptopi[i]-&gt;DajKodKogaJe().DajImePrezime() &lt;&lt; " (" &lt;&lt; laptopi[i]-&gt;DajKodKogaJe().DajIndeks()
            &lt;&lt; ") zaduzio/la laptop broj " &lt;&lt; laptopi[i]-&gt;DajEvidencijskiBroj() &lt;&lt; std::endl;
            tacno = true;
        }
    }
    if(!tacno) throw std::domain_error("Nema zaduzenja");
    }
};



int main() { try{
 Student studentica(17353,"1/B","     Segmedina     Kavaz    ","Sejmenska       10","061/463-514");
 std::shared_ptr&lt;Student&gt; student;
 
 std::cout&lt;&lt;student;
    studentica.Ispisi();
    Laptop l(102,"acer","z8      kejdn");
    l.Ispisi();
<a name="1"></a><font color="#00FF00"><a href="match646-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_2.gif"/></a>

    Administracija etf;

    etf.RegistrirajNoviLaptop(123, "Dell", "CPU 3.0 GHz, 4 GB RAM");
    etf.RegistrirajNoviLaptop(331, "ASUS", "CPU 3.5 GHz, 2 GB RAM");
    etf.RegistrirajNoviLaptop(122, "Dell 2", "CPU 3.2 GHz, 6 GB RAM");


    etf.RegistrirajNovogStudenta(14212, "1","Benjamin", "Francuska revolucija 23", "12/34-56");
    etf.RegistrirajNovogStudenta(17528, "2","Ivan", "Trg vjecnih studenata 12", "048/597-585");
    etf.RegistrirajNovogStudenta(17525, "3", "Ante" ,"Trg vjecnih studenata 11", "062/582-757");
</font>
    etf.ZaduziLaptop(14212, 122);
    etf.ZaduziLaptop(17525,331);
    etf.IzlistajLaptope();}
    catch (std::domain_error e){
        std::cout&lt;&lt;e.what();
    }
    return 0;
}
</pre>
</body>
</html>
