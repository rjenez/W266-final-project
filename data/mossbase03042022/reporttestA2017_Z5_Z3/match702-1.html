<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/A2017/Z5/Z3/student7135.c</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/A2017/Z5/Z3/student2503.c<p></p><pre>
#include &lt;stdio.h&gt;
#include &lt;string.h&gt;
#include &lt;stdlib.h&gt;
#define epsilon 0.001

struct Oblik {
	char naziv[20];
	int br_stranica;
	double stranice[300];
};

void dodaj_oblik(struct Oblik a)
{
	int i=0,j=0;
	float temp=0;
	unsigned short int N=0;
	struct Oblik oblici[50]= {{"Trougao"},{3},{1.1,1.1,1.1}};
	FILE *ulaz=fopen("oblici.dat","rb");
	if (ulaz == NULL) {
		exit (1);
	}
	fseek(ulaz, 0, SEEK_SET);
	fread(&amp;N,2,1,ulaz);
	/*Kroz petlju prolazimo onoliko puta koliko ima oblika, te posebno svaki element svakog oblika upisujemo u niz*/
	for(i=0; i&lt;N; i++) {
		fread(&amp;oblici[i].naziv,20,1,ulaz);
		fread(&amp;oblici[i].br_stranica,1,1,ulaz);
		/*Svaku stranicu moramo posebno upisati u niz*/
		for(j=0; j&lt;oblici[i].br_stranica; j++) {
			fread(&amp;temp,4,1,ulaz);
			oblici[i].stranice[j]=temp;
		}
	}
	fclose(ulaz);
	oblici[i]=a; /*Dodajemo u niz oblik koji treba unijeti u datoteku*/
	N++; /*Broj oblika se poveca za jedan*/
	ulaz=fopen("oblici.dat","wb");
	if(ulaz==NULL) {
		exit(1);
	}
	/*Vrsimo upis elemenata u datoteku iz niza*/
	fwrite(&amp;N,2,1,ulaz);
	for(i=0; i&lt;N; i++) {
		fwrite(&amp;oblici[i].naziv,20,1,ulaz);
		fwrite(&amp;oblici[i].br_stranica,1,1,ulaz);
		/*Potrebno je svaku stranicu posebno unijeti*/
		for(j=0; j&lt;oblici[i].br_stranica; j++) {
			temp=oblici[i].stranice[j];
			fwrite(&amp;temp,4,1,ulaz);
		}
	}
	fclose(ulaz);
}
void izbaci_duple()
{
	unsigned short int N=0;
	int j=0,k=0,T=0,m=0,i=0;
	float temp=0;
	struct Oblik oblici[50]= {{"Trougao"},{3},{1.1,1.1,1.1}};
	FILE *ulaz=fopen("oblici.dat","rb");
	if (ulaz == NULL) {
		exit (1);
	}
	/*Ucitamo elemente datoteke u niz*/
	fseek(ulaz, 0, SEEK_SET);
	fread(&amp;N,2,1,ulaz);
	for(i=0; i&lt;N; i++) {
		fread(&amp;oblici[i].naziv,20,1,ulaz);
		fread(&amp;oblici[i].br_stranica,1,1,ulaz);
		for(j=0; j&lt;oblici[i].br_stranica; j++) {
			fread(&amp;temp,4,1,ulaz);
			oblici[i].stranice[j]=temp;
		}
	}
	fclose(ulaz);
	/*Prolazimo kroz sve elemente niza osim provg (zato sto on sigurno ostaje u datoteci), te provjeravamo da li ima prethodnika sa istim nazivom*/
	for(j=1; j&lt;N; j++) {
		for(k=0; k&lt;j; k++) {
			T=strcmp(oblici[j].naziv,oblici[k].naziv); /*Funkcija vraca nulu ako su stringovi jednaki*/
			if(T==0) {
				/*Petlja koja izbacuje element iz niza*/
				for(m=j; m&lt;N-1; m++)
					oblici[m]=oblici[m+1];
				N--; /*Broj elementa smanjujemo za jedan*/
				j--; /*Brojac smanjujemo za jedan kako bi ispitali element koji je dosao na mjesto izbacenog*/
				break;
			}
		}
	}
	ulaz=fopen("oblici.dat","wb");
	if (ulaz == NULL) {
		exit (1);
	}
	/*Upisujemo elemente niza u datoteku*/
	fseek(ulaz, 0, SEEK_SET);
	fwrite(&amp;N,2,1,ulaz);
	for(i=0; i&lt;N; i++) {
		fwrite(&amp;oblici[i].naziv,20,1,ulaz);
		fwrite(&amp;oblici[i].br_stranica,1,1,ulaz);
		for(j=0; j&lt;oblici[i].br_stranica; j++) {
			temp=oblici[i].stranice[j];
			fwrite(&amp;temp,4,1,ulaz);
		}
	}
	fclose(ulaz);
}
struct Oblik daj_najveci()
{
	struct Oblik oblici[50]= {{"Trougao"},{3},{1.1,1.1,1.1}};
	struct Oblik trazeni;
	int j=0,k=0,i=0;
	float temp=0;
	double obim=0,max=0;
	unsigned short int N=0;
	FILE *ulaz=fopen("oblici.dat","rb");
	if (ulaz == NULL) {
		exit (1);
	}
	/*Ucitavamo elemente datoteke u niz*/
	fseek(ulaz, 0, SEEK_SET);
	fread(&amp;N,2,1,ulaz);
	for(i=0; i&lt;N; i++) {
		fread(&amp;oblici[i].naziv,20,1,ulaz);
		fread(&amp;oblici[i].br_stranica,1,1,ulaz);
		for(j=0; j&lt;oblici[i].br_stranica; j++) {
			fread(&amp;temp,4,1,ulaz);
			oblici[i].stranice[j]=temp;
		}
	}
	fclose(ulaz);
	/*Petljom trazimo obim prvog elementa i postavljamo ga za maksimalni obim, kako bi poslije ostale elemente mogli poredit s prethodnim*/
	for(k=0; k&lt;oblici[0].br_stranica; k++)
		max+=oblici[0].stranice[k];
	trazeni=oblici[0];
	for(j=1; j&lt;N; j++) {
		/*Racnuamo obim svakog oblika*/
<a name="0"></a><font color="#FF0000"><a href="match702-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_2.gif"/></a>

		for(k=0; k&lt;oblici[j].br_stranica; k++)
			obim+=oblici[j].stranice[k];
		/*Svaki izracunati obim uporedjujemo s trenutno najvecim obimom*/
		if((obim-max)&gt;=epsilon) {
</font>			max=obim;
			trazeni=oblici[j];
		}
		obim=0;
	}
	return trazeni;
}
int main()
{
	return 0;
}
</pre>
</body>
</html>
