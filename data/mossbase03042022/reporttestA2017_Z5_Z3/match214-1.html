<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/A2017/Z5/Z3/student4639.c</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/A2017/Z5/Z3/student4016.c<p></p><pre>
#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;

struct Oblik{
	char naziv[20];
	int br_stranica;
	double stranice[300];
};

void dodaj_oblik(struct Oblik a){
	FILE *ulaz=fopen("oblici.dat", "ab");

	int zapisano=fwrite(&amp;a, sizeof(struct Oblik), 1, ulaz);
	fclose(ulaz);
	FILE *dat=fopen("oblici.dat", "rb");
	int n=0;
	fread(&amp;n,sizeof(char),2,dat);
	fclose(dat);
	n++;
	dat=fopen("oblici.dat", "wb");
	fwrite(&amp;n, sizeof(char),2, dat);
	fclose(dat);
}
double obim(struct Oblik a){
	int i=0;
	double o=0;
	for(i=0;i&lt;a.br_stranica;i++)
		o=o+a.stranice[i];
	
	return o;
}
struct Oblik daj_najveci(){
	struct Oblik povratni={"Trougao",3, {1.1, 2.1, 1.1}};
	struct Oblik porediti={"Trougao",3, {1.1, 2.1, 1.1}};
	FILE *dat=fopen("oblici.dat", "rb");
	int n=0, i=0;
	fread(&amp;n, sizeof(char), 2, dat);
	
	if (n==0)return povratni;
	
	//int dummy=0;
	//fread(&amp;dummy, sizeof(char), 2, dat);
	fread(&amp;povratni, sizeof(struct Oblik), 1, dat);
	printf("n = %d\n", n);
	
	for(i=1;i&lt;n;i++){
		fread(&amp;porediti, sizeof(struct Oblik), 1, dat);
		printf("poredim %f i %f\n", obim(porediti), obim(povratni));
		if(obim(porediti)&gt;obim(povratni)) povratni=porediti;
		
	}
	
<a name="0"></a><font color="#FF0000"><a href="match214-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_22.gif"/></a>

	fclose(dat);
	return povratni;
}




int main() {
struct Oblik niz[] = {
   {"Trougao", 3, {1.1, 1.1, 1.1}},
   {"Trougao", 3, {1.1, 1.1, 1.1}},
   {"Trougao", 3, {100.1, 100.1, 100.1}},
   {"Kvadrat", 4, {1.1, 1.1, 1.1, 1.1}},
   {"Trougao", 3, {1.1, 1.1, 1.1}}
</font>};

int n = 0;
FILE * dat = fopen("oblici.dat", "rb");
fread(&amp;n,sizeof(char),2,dat);
printf("%d", n); fclose(dat);
dodaj_oblik(niz[0]);
dat = fopen("oblici.dat", "rb");
fread(&amp;n,sizeof(char),2,dat);
printf("%d", n);
	return 0;
}
</pre>
</body>
</html>
