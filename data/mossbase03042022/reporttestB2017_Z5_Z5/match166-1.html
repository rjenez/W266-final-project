<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z5/Z5/student1176.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z5/Z5/student1366.cpp<p></p><pre>
/B2017/2018: ZadaÄ‡a 5, Zadatak 5
#include &lt;iostream&gt;
#include &lt;cmath&gt;
#include &lt;vector&gt;
#include &lt;initializer_list&gt;
#include &lt;functional&gt;
#include &lt;utility&gt;
#include &lt;algorithm&gt;
#include &lt;stdexcept&gt;

class FourierovRed {
	static constexpr double PI = 4*std::atan(1.);
	double period;
	std::vector&lt;double&gt; nizAk;
	std::vector&lt;double&gt; nizBk;
	int stepen;
<a name="0"></a><font color="#FF0000"><a href="match166-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_7.gif"/></a>

public:
	FourierovRed(double t, std::initializer_list&lt;double&gt; ak, std::initializer_list&lt;double&gt; bk);
	FourierovRed(int n, double t, std::function&lt;double(int)&gt; f1, std::function&lt;double(int)&gt; f2);
	FourierovRed(int n, double p, double q, std::function&lt;double(double)&gt; f, int m);
	double operator()(double x) const;
</font>	std::pair&lt;double&amp;, double&amp;&gt; operator [](int k);
	std::pair&lt;double, double&gt; operator [](int k) const;
	~FourierovRed();
	FourierovRed(const FourierovRed &amp;fr);
	FourierovRed(FourierovRed &amp;&amp;fr);
	FourierovRed &amp;operator =(const FourierovRed &amp;fr);
	FourierovRed &amp;operator =(FourierovRed &amp;&amp;fr);
};
int main()
{
	FourierovRed f(2 * 3.14159, { 2,3,4,5 }, { 3,4,5,6,7,8 });
	FourierovRed f2(f);
	FourierovRed f3(10, -3.14159, 3.14159, [](double x) { return x*x; }, 50);
	std::cout &lt;&lt; f3(2);
    return 0;
}

// IMPLEMENTACIJA
	// FourierovRed::public

FourierovRed::~FourierovRed() {}
FourierovRed::FourierovRed(const FourierovRed &amp;fr) : period(fr.period), stepen(fr.stepen){
	for (int i = 0; i &lt;= stepen; i++) {
		nizAk.push_back(fr.nizAk[i]);
		nizBk.push_back(fr.nizBk[i]);
	}
}
FourierovRed::FourierovRed(FourierovRed &amp;&amp;fr) : period(fr.period), stepen(fr.stepen), nizAk(std::move(fr.nizAk)), nizBk(std::move(fr.nizBk)) {}
FourierovRed&amp; FourierovRed::operator =(const FourierovRed &amp;fr) {
	stepen=fr.stepen; period=fr.period; nizAk=fr.nizAk; nizBk=fr.nizBk;
	return *this;
}
FourierovRed&amp; FourierovRed::operator =(FourierovRed &amp;&amp;fr) {
	std::swap(nizAk, fr.nizAk); std::swap(nizBk, fr.nizBk);
	std::swap(period, fr.period); std::swap(stepen, fr.stepen);
	return *this;
}
FourierovRed::FourierovRed(double t, std::initializer_list&lt;double&gt; ak, std::initializer_list&lt;double&gt; bk) {
	stepen = ak.size()+1 &gt; bk.size() ? ak.size() - 1 : bk.size();
	period = t;
	auto it(ak.begin()), it2(bk.begin());
	for (int i = 0; i &lt;= stepen; i++) {
		if (i &lt; int(ak.size())) nizAk.push_back(*it);
		else nizAk.push_back(0);
			it++;
	}
	for (int i = 0; i &lt;= stepen; i++) {
		if (i != 0 &amp;&amp; i &lt;= int(bk.size())) nizBk.push_back(*it2++);
			else nizBk.push_back(0);
	}
	
}
<a name="3"></a><font color="#00FFFF"><a href="match166-0.html#3" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_3.gif"/></a>

FourierovRed::FourierovRed(int n, double t, std::function&lt;double(int)&gt; f1, std::function&lt;double(int)&gt; f2) {
	if (n &lt;= 0) throw std::domain_error("Stepen mora biti pozitivan");
</font>	stepen = n;
	period = t;
	for (int i = 0; i &lt;= stepen; i++) {
		nizAk.push_back(f1(i));
		if (i != 0) nizBk.push_back(f2(i));
		else nizBk.push_back(0);
	}

}
<a name="2"></a><font color="#0000FF"><a href="match166-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_4.gif"/></a>

FourierovRed::FourierovRed(int n, double p, double q, std::function&lt;double(double)&gt; f, int m) {
	if (n &lt; 0) throw std::domain_error("Stepen mora biti pozitivan");
	if (m &lt;= 0) throw std::domain_error("Broj podintervala mora biti pozitivan");
	if (p &gt;= q) throw std::range_error("Neispravan interval");
</font>	stepen = n; period = q - p;
		for (int i = 0; i &lt;= stepen; i++) {
			double suma1(0), suma2(0);
			for (int j = 1; j &lt;= m - 1; j++) {
<a name="1"></a><font color="#00FF00"><a href="match166-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_5.gif"/></a>

				suma1 += f(p + j*period / m)*std::cos(2 * i*PI*((p / period) + double(j / m)));
				suma2 += f(p + j*period / m)*std::sin(2 * i*PI*((p / period) + double(j / m)));
</font>			}
			nizAk.push_back((f(p) + f(q))*std::cos(2 * i*PI*p / period) / m + 2 * suma1 / m);
			nizBk.push_back((f(p) + f(q))*std::sin(2 * i*PI*p / period) / m + 2 * suma2 / m);
		}
	
}
double FourierovRed::operator()(double x) const {
	double sumakosinusa(0), sumasinusa(0);
	for (int i = 1; i &lt;= stepen; i++) {
		sumakosinusa += nizAk[i] * std::cos(2 * PI*i*x / period);
		sumasinusa += nizBk[i] * std::sin(2 * PI*i*x / period);
	}
	return (nizAk[0] / 2.) + sumakosinusa + sumasinusa;
}
<a name="4"></a><font color="#FF00FF"><a href="match166-0.html#4" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_3.gif"/></a>

std::pair&lt;double&amp;, double&amp;&gt; FourierovRed::operator [](int k) {
	if (k&lt;0 || k&gt;stepen) throw std::range_error("Neispravan indeks");
</font><a name="5"></a><font color="#FF0000"><a href="match166-0.html#5" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_2.gif"/></a>

	return std::make_pair(std::ref(nizAk[k]), std::ref(nizBk[k]));
}
std::pair&lt;double, double&gt; FourierovRed::operator [](int k) const {
	if (k&lt;0 || k&gt;stepen) throw std::range_error("Neispravan indeks");
</font>	return std::make_pair(nizAk[k], nizBk[k]);
}

</pre>
</body>
</html>
