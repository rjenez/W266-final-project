<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z5/Z5/student8909.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z5/Z5/student2009.cpp<p></p><pre>
#include &lt;iostream&gt;
#include &lt;initializer_list&gt;
#include &lt;functional&gt;
#include &lt;vector&gt;
#include &lt;stdexcept&gt;
#include &lt;exception&gt;
#include &lt;cmath&gt;
#include &lt;algorithm&gt;
#include &lt;iomanip&gt;
using std::vector;
using std::initializer_list;
using std::cin;
using std::cout;
using std::endl;


class FourierovRed
{
    double period;
    int n;
    vector&lt;double&gt; a;
    vector&lt;double&gt; b;
    static constexpr double pi=3.14159265358979323846;
public:
    FourierovRed(double T, initializer_list&lt;double&gt; i1, initializer_list&lt;double&gt; i2) {
        n = (i1.size()&gt;=i2.size())?i1.size():i2.size();
        if(n!=i1.size() &amp;&amp; n==i2.size()) n++;
        period=T;
        a=std::move(vector&lt;double&gt;(n,0));
        b=std::move(vector&lt;double&gt;(n,0));
        std::copy(i1.begin(),i1.end(),a.begin());
        std::copy(i2.begin(),i2.end(),b.begin()+1);
    }

<a name="1"></a><font color="#00FF00"><a href="match744-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_3.gif"/></a>

    FourierovRed(int n, double T,std::function&lt;double(int)&gt; fun1, std::function&lt;double(int)&gt; fun2) {
        if(n&lt;=0) throw std::domain_error("Stepen mora biti pozitivan");
</font>        FourierovRed::n=n+1;
        period = T;
        a=std::move(vector&lt;double&gt;(n+1,0));
        b=std::move(vector&lt;double&gt;(n+1,0));
        for(int k=0; k&lt;n+1; k++)
            a.at(k)=fun1(k);
        for(int k=1; k&lt;n+1; k++)
            b.at(k)=fun2(k);
    }

<a name="0"></a><font color="#FF0000"><a href="match744-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_3.gif"/></a>

    FourierovRed(int n, double p, double q,std::function&lt;double(double)&gt; fun, int m) {
        if(n&lt;=0) throw std::domain_error("Stepen mora biti pozitivan");
        if(m&lt;=0) throw std::domain_error("Broj podintervala mora biti pozitivan");
</font>        if(!(p&lt;q)) throw std::range_error("Neispravan interval");
        FourierovRed::n=n+1;
        period=q-p;
        a=std::move(vector&lt;double&gt;(n+1,0));
        b=std::move(vector&lt;double&gt;(n+1,0));
        for(int k=0; k&lt;n+1; k++) {
            double suma {};
            for(int i=1; i&lt;=m-1; i++)
                suma+=fun(p+(i*period)/m)*cos(2*k*pi*(p/period+double(i)/m));
            a.at(k)=(fun(p)+fun(q))/m*cos((2*k*pi*p)/period)+ (2./m)*suma;
        }

        for(int k=1; k&lt;n+1; k++) {
            double suma {};
            for(int i=1; i&lt;=m-1; i++)
                suma+=fun(p+(i*period)/m)*sin(2*k*pi*(p/period+double(i)/m));
            b.at(k)=(fun(p)+fun(q))/m*sin((2*k*pi*p)/period)+ (2./m) *suma;
        }
    }

    FourierovRed(const FourierovRed &amp;f) {
        n=f.n;
        period=f.period;
        a=std::move(vector&lt;double&gt;(n,0));
        b=std::move(vector&lt;double&gt;(n,0));
        std::copy(f.a.begin(),f.a.end(),a.begin());
        std::copy(f.b.begin(),f.b.end(),b.begin());
    }

    FourierovRed(FourierovRed&amp;&amp;f) {
        n=f.n;
        period=f.period;
        a=std::move(f.a);
        b=std::move(f.b);
    }

    FourierovRed &amp; operator =(const FourierovRed &amp;f) {
        if(this!=&amp;f) {
            n=f.n;
            period=f.period;
            a =f.a;
            b= f.b;
        }
        return *this;
    }

    FourierovRed&amp; operator =(FourierovRed &amp;&amp;f) {
        if(this!=&amp;f) {
            n=f.n;
            period=f.period;
            a=std::move(a);
            b=std::move(b);
        }
        return *this;
    }

    double operator ()(double x) const {
        double suma=a.at(0)/2;
        for(int k=1; k&lt;n; k++)
            suma+=(a.at(k)*std::cos((2*k*pi*x)/period)+b.at(k)*std::sin((2*k*pi*x)/period));
        return suma;
    }

    std::pair&lt;double&amp;,double &amp;&gt; operator [](int k) {
        if(k&gt;=n || k&lt;0) throw std::range_error("Neispravan indeks");
        return std::pair&lt;double&amp;,double &amp;&gt;(a.at(k),b.at(k));
    }

    std::pair&lt;double,double&gt; operator [](int k) const {
        if(k&gt;=n || k&lt;0) throw std::range_error("Neispravan indeks");
        return std::make_pair(a.at(k),b.at(k));
    }

    ~FourierovRed() {}
};

int main ()
{

    return 0;
}
</pre>
</body>
</html>
