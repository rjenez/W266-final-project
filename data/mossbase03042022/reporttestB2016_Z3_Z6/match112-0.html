<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z6/student9972.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z6/student9972.cpp<p></p><pre>
#include &lt;iostream&gt;
#include &lt;list&gt;
#include &lt;vector&gt;
#include &lt;string&gt;
#include &lt;set&gt;
#include &lt;stdexcept&gt;
#include &lt;memory&gt;
<a name="0"></a><font color="#FF0000"><a href="match112-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_99.gif"/></a>

using namespace std;


struct Dijete
{
    string ime;
    shared_ptr&lt;Dijete&gt;sljedeci; 
};


vector&lt;int&gt; broji(vector&lt;string&gt;s, int n)
{
    vector&lt;int&gt;v(n);
    if((s.size()%n)==0)
    {
        for(int i=0;i&lt;n;i++)
        v[i]=s.size()/n;
    }
    else
    {
        for(int i=0;i&lt;(s.size()%n);i++)
        v[i]=(s.size()/n)+1;
        for(int i=s.size()%n;i&lt;n;i++)
        v[i]=s.size()/n;
    }
    return v;
}

int BrojanjeRijeci(string s)
{
    int br=0;
    for(const auto &amp;i:s)
    if((toupper(i)&gt;='A' &amp;&amp; toupper(i)&lt;='Z') || (i&gt;='0' &amp;&amp; i&lt;='9'))
    br++;
    return br;
}
int prebrojitim(set&lt;string&gt; tim)
{
    int br=0;
    for(auto i: tim)
    br++;
    return br;
}

vector&lt;set&lt;string&gt;&gt; Razvrstavanje(vector&lt;string&gt;s, int n)
{
    if(n&gt;s.size() || n&lt;1)throw logic_error("Razvrstavanje nemoguce");
    vector&lt;int&gt;timovi=broji(s,n);
    vector&lt;set&lt;string&gt;&gt; poziv;
    set&lt;string&gt;tim;
    int velicina=s.size();
    shared_ptr&lt;Dijete&gt;pocetak(nullptr), prethodni;
   try
    {
        for(const auto &amp;i:s)
        {
        
            shared_ptr&lt;Dijete&gt;novi(new Dijete);
            novi-&gt;ime=i; novi-&gt;sljedeci=nullptr;
            if(!pocetak)pocetak=novi;
            else prethodni-&gt;sljedeci=novi;
            prethodni=novi;
         }
         
        prethodni-&gt;sljedeci=pocetak; 
        shared_ptr&lt;Dijete&gt;pom=pocetak;
        
        for(int i=0;i&lt;n;i++)
        {
            int vel=timovi[i];
            set&lt;string&gt;tim;
            while(1)
            {
                if(prebrojitim(tim)&lt;vel)
                {
                tim.insert(pom-&gt;ime);
                velicina--;
                if(velicina==0){pom-&gt;sljedeci=nullptr;break;}
                }
                else break;
                int duzina=BrojanjeRijeci(pom-&gt;ime);
            
                shared_ptr&lt;Dijete&gt;pom1=pom-&gt;sljedeci;
                
                while(pom1-&gt;sljedeci!=pom)
                pom1=pom1-&gt;sljedeci;
                pom1-&gt;sljedeci=pom-&gt;sljedeci;
                if(pom!=nullptr)
                pom=nullptr;
                pom=pom1;
                    for(int i=0;i&lt;duzina;i++)
                pom=pom-&gt;sljedeci;
                
            }
        poziv.push_back(tim);
    }
    
    return poziv;
    }
    catch(bad_alloc)
    {
        throw;
    }
    
}
int main ()
{
    vector&lt;string&gt;djeca;
    vector&lt;set&lt;string&gt;&gt;poziv;
    cout&lt;&lt;"Unesite broj djece: ";
    int br_djece=0;
    cin&gt;&gt;br_djece;
    cout&lt;&lt;"Unesite imena djece: "&lt;&lt;endl;
    string s;
    getline(cin,s);
    for(int i=0;i&lt;br_djece;i++)
    {
        getline(cin,s),
        djeca.push_back(s);
    }
    cout&lt;&lt;"Unesite broj timova: ";
    int br_timova=0;
    cin&gt;&gt;br_timova;
    try
    {
        poziv=Razvrstavanje(djeca,br_timova);
        for(int j=0;j&lt;poziv.size();j++)
        {
            cout&lt;&lt;"Tim "&lt;&lt;j+1&lt;&lt;": ";
            for(auto i=poziv[j].begin();i!=poziv[j].end();)
            {
                cout&lt;&lt;*i;
                i++;
             if(i!=poziv[j].end())
             cout&lt;&lt;", ";
            }
            cout&lt;&lt;endl;
        }
    }
    catch(logic_error Izuzetak)
    {
    cout&lt;&lt;"Izuzetak: "&lt;&lt;Izuzetak.what();
</font>    }
	return 0;
}</pre>
</body>
</html>
