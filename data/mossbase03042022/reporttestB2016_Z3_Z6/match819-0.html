<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z6/student5185.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z6/student5185.cpp<p></p><pre>
#include &lt;iostream&gt;
#include &lt;vector&gt;
#include &lt;string&gt;
#include &lt;set&gt;
#include &lt;stdexcept&gt;
#include &lt;memory&gt;

struct Dijete{
<a name="2"></a><font color="#0000FF"><a href="match819-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_5.gif"/></a>

    std::string ime;
    std::shared_ptr&lt;Dijete&gt; sljedeci;
};

int nadjiRazmak (std::string s){
    int brojac(0);
    for (int i = 0; i &lt; s.length(); i++) {
</font><a name="0"></a><font color="#FF0000"><a href="match819-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_7.gif"/></a>

        if ((s[i] &gt;= 'a' &amp;&amp; s[i] &lt;= 'z') || (s[i] &gt;= 'A' &amp;&amp; s[i] &lt;= 'Z') || (s[i] &gt;= '0' &amp;&amp; s[i] &lt;= '9')) {
            brojac++;
        }
    }
    
    return brojac;
}

std::vector&lt;std::set&lt;std::string&gt;&gt; Razvrstavanje (std::vector&lt;std::string&gt; imenaDjece, int brojTimova){
</font>    if (brojTimova &lt; 1 || brojTimova &gt; imenaDjece.size()) throw std::logic_error("Razvrstavanje nemoguce");
   
    //Prvo kopiraj iz vec string -&gt; listu
    
    std::shared_ptr&lt;Dijete&gt; pocetak(nullptr), prethodni(nullptr);
    
    for (int i = imenaDjece.size()-1; i &gt;= 0; i--) {
        std::shared_ptr&lt;Dijete&gt; novo(std::make_shared&lt;Dijete&gt;());
        if (!pocetak) pocetak = novo;
        novo-&gt;ime = imenaDjece[i]; novo-&gt;sljedeci = prethodni;
        prethodni = novo;
    }
    std::shared_ptr&lt;Dijete&gt; temp(pocetak);
    pocetak-&gt;sljedeci = prethodni;
    prethodni = temp;
    pocetak = pocetak-&gt;sljedeci;
    
    
    int n(imenaDjece.size()%brojTimova); std::vector&lt;int&gt; brIgracaPoTimu(brojTimova);
    
    //Postavljanje velicine timova
    
    for (int i = 0; i &lt; brojTimova; i++) {
        brIgracaPoTimu[i] = imenaDjece.size() / brojTimova;
        if (n-- &gt; 0) brIgracaPoTimu[i]++;
    }
        
    std::vector&lt;std::set&lt;std::string&gt;&gt; Timovi(brojTimova);
    
    
    //Svrstavanje u timove
    int o(0), razmak(0), p(imenaDjece.size());
    for (auto j : brIgracaPoTimu) {
        std::set&lt;std::string&gt; trenutniTim;
        
        for (int i = 0; i &lt; j; i++) {
           
            for (int k = 0; k &lt; razmak; k++) { 
                prethodni = pocetak;
                pocetak = pocetak-&gt;sljedeci;
            } //Simulacija advance-a
       
            trenutniTim.insert(pocetak-&gt;ime);
            razmak = nadjiRazmak(pocetak-&gt;ime);
            
            if (p == 1) {
                prethodni-&gt;sljedeci = nullptr;
                continue;
            }
            
            
            prethodni-&gt;sljedeci = pocetak-&gt;sljedeci; 
     
            pocetak = prethodni; //Simulacija delete-a
            
        
            
            p--;
        }
        
        Timovi[o++] = trenutniTim;
    }    
    
    return Timovi;
}

<a name="1"></a><font color="#00FF00"><a href="match819-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_6.gif"/></a>

int main (){
    
    int n; std::cout &lt;&lt; "Unesite broj djece: "; std::cin &gt;&gt; n; std::cin.ignore(10000, '\n'); 
    std::cout &lt;&lt; "Unesite imena djece: " &lt;&lt; std::endl;
    std::vector&lt;std::string&gt; imenaDjece(n);
</font>   
    for (int i = 0; i &lt; n; i++) {
        std::string temp; std::getline(std::cin, temp);
        imenaDjece[i]=temp;
    }

   std::cout &lt;&lt; "Unesite broj timova: "; std::cin &gt;&gt; n; std::cin.ignore(10000, '\n');
  
    try{
        std::vector&lt;std::set&lt;std::string&gt;&gt; Timovi(Razvrstavanje(imenaDjece, n)); n=1;
        
        for (auto i : Timovi) {
            int o(0);
            std::cout &lt;&lt; "Tim " &lt;&lt; n &lt;&lt; ": ";
            for (auto j : i) {
                if (o == 0) {
                    std::cout &lt;&lt; j; o++;
                }
                else{
                    std::cout &lt;&lt; ", " &lt;&lt; j;
                }
            }
            std::cout &lt;&lt; std::endl;
            n++;
        }
    }
    catch (std::logic_error e){
        std::cout &lt;&lt; "Izuzetak: " &lt;&lt; e.what() &lt;&lt; std::endl;
    }
    
   
	return 0;
}</pre>
</body>
</html>
