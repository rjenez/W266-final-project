<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z6/student2340.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z6/student2340.cpp<p></p><pre>
<a name="0"></a><font color="#FF0000"><a href="match67-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_97.gif"/></a>

/B2016/2017: Zadaća 3, Zadatak 6
#include &lt;iostream&gt;
#include &lt;string&gt;
#include &lt;vector&gt;
#include &lt;algorithm&gt;
#include &lt;set&gt;
#include &lt;cmath&gt;
#include &lt;memory&gt;
#include &lt;stdexcept&gt;

struct Dijete{
  std::string ime;
  std::shared_ptr&lt;Dijete&gt; sljedeci;
};

int Duzinarijeci(std::string s){
    int brojac(0);
    for (int i=0; i&lt;s.size(); i++){
        if((s[i]&gt;='A' &amp;&amp; s[i]&lt;='z') || (s[i]&gt;='0' &amp;&amp; s[i]&lt;='9')) brojac++;
    }
    return brojac;
}

void Ispisi(std::vector&lt;std::set&lt;std::string&gt;&gt; vektor) {
for(int i=0; i&lt;vektor.size();i++){
           std::cout&lt;&lt;"Tim "&lt;&lt;i+1&lt;&lt;": ";
            for(auto it=vektor[i].begin(); it!=vektor[i].end(); ++it){
               if(it!=vektor[i].begin())
               std::cout&lt;&lt;", "&lt;&lt;*it;
               else std::cout&lt;&lt;*it;
            }
            std::cout&lt;&lt;std::endl;
            
        }
}


std::vector&lt;std::set&lt;std::string&gt;&gt; Razvrstavanje(std::vector&lt;std::string&gt; imenadjece, int broj_timova){
std::vector&lt;std::set&lt;std::string&gt;&gt; parovi(broj_timova);

if(broj_timova&lt;=1 || broj_timova&gt;imenadjece.size()) throw std::logic_error("Razvrstavanje nemoguce");

std::shared_ptr&lt;Dijete&gt; pocetak(nullptr);
std::shared_ptr&lt;Dijete&gt; prethodni;
        for(int i=0; i&lt;imenadjece.size();i++){
        std::shared_ptr&lt;Dijete&gt; novi(new Dijete);
            novi-&gt;ime=imenadjece[i];
            novi-&gt;sljedeci=nullptr;
                if(i==imenadjece.size()-1) novi-&gt;sljedeci=pocetak;
                if(!pocetak) pocetak=novi;
                else prethodni-&gt;sljedeci=novi;
                prethodni=novi;
        }

    int n=imenadjece.size();
    int b=n%broj_timova;
    auto iter=pocetak;
    std::set&lt;std::string&gt; tim;
    int brTima=0;
            //prolazimo kroz citavu listu
            while(iter!=nullptr){
                std::string temp(iter-&gt;ime);
                tim.insert(iter-&gt;ime);
                
                    if(iter-&gt;sljedeci == prethodni){
                        iter-&gt;sljedeci=nullptr;
                        
                            if(tim.size()==int(n/broj_timova)){
                                parovi[brTima]=tim;
                                tim.clear();
                                brTima++;
                            }
                        
                        tim.insert(prethodni-&gt;ime);
                        parovi[brTima]=tim;
                        tim.clear();
                    
                     prethodni-&gt;sljedeci=nullptr; 
                     iter-&gt;sljedeci=nullptr;
                     pocetak=nullptr;
                     break;
                        }
                        
                
                    prethodni-&gt;sljedeci=iter-&gt;sljedeci;
                    std::shared_ptr&lt;Dijete&gt; temp_dijete=iter;
                    iter=iter-&gt;sljedeci;
                
                
                     //provjeravamo ostatke, ukoliko je ostatak veći od nula
                        if(brTima&lt;b){
                            if(tim.size()==int (n/broj_timova)+1) {
                            parovi[brTima]=tim;
                            brTima++;
                            tim.clear();
                        }     
                        }
                        else {
                            if(tim.size()==int (n/broj_timova)){
                                parovi[brTima]=tim;
                                brTima++;
                                tim.clear();
                                
                            }
                            
                        }
                   
                for(int i=1; i&lt;Duzinarijeci(temp); i++){
                    prethodni=iter;
                    iter=iter-&gt;sljedeci;
                }
                            
            }
        
    
return parovi;
}

int main ()
{
    try{
    int n(0),br_timova(0);
    std::vector&lt;std::string&gt; v;
    std::string ime;
    std::cout&lt;&lt;"Unesite broj djece: ";
    std::cin&gt;&gt;n;
    std::cout&lt;&lt;"Unesite imena djece: ";
    for(int i=0; i&lt;n; i++){
        std::getline(std::cin,ime);
        if(ime==""){
            i--;
            continue;
        }
        v.push_back(ime);

    }
    
    std::cout&lt;&lt;std::endl&lt;&lt;"Unesite broj timova: ";
    std::cin&gt;&gt;br_timova;
        
        
    auto vektor=Razvrstavanje(v,br_timova);
    
    Ispisi(vektor);
        /*
        
        std::vector&lt;std::string&gt; imena({"Damir","Ana","Muhamed","Marko","Ivan","Mirsad","Nikolina","Alen","Jasmina","Merima"});
        std::vector&lt;std::set&lt;std::string&gt;&gt; timovi =Razvrstavanje(imena,3);
        Ispisi(timovi);
        */
	return 0;
    }
    catch(std::logic_error e){
        std::cout&lt;&lt;"Izuzetak: "&lt;&lt;e.what();
</font>    }
}</pre>
</body>
</html>
