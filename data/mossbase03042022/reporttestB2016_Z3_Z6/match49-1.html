<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z6/student8964.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z6/student4973.cpp<p></p><pre>
<a name="0"></a><font color="#FF0000"><a href="match49-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_99.gif"/></a>

/B2016/2017: ZadaÄ‡a 3, Zadatak 5
#include &lt;iostream&gt;
#include &lt;list&gt;
#include &lt;vector&gt;
#include &lt;set&gt;
#include &lt;string&gt;
#include &lt;stdexcept&gt;
#include &lt;memory&gt;

using namespace std;

struct Dijete {
    string ime;
    shared_ptr&lt;Dijete&gt;sljedeci;
};


int BrojSlova(string s)
{
    int br=0;
    for(char c : s) {
        if((c&gt;='a' &amp;&amp; c&lt;='z') || (c&gt;='A' &amp;&amp; c&lt;='Z') || (c&gt;='0' &amp;&amp; c&lt;='9')) br++;
    }
    return br;
}
shared_ptr&lt;Dijete&gt;KreirajCvor(vector&lt;string&gt; djeca)
{
    shared_ptr&lt;Dijete&gt;poc=nullptr;
    shared_ptr&lt;Dijete&gt;tren=nullptr;

    for(int i=0; i&lt;djeca.size(); i++) {
        shared_ptr&lt;Dijete&gt;novo=make_shared&lt;Dijete&gt;();
        novo-&gt;ime=djeca[i];

        if(i&lt;1) {
            poc=novo;
            tren=novo;
        } else {
            tren-&gt;sljedeci=novo;
            tren=novo;
        }
        if(i==djeca.size()-1) novo-&gt;sljedeci=poc;
    }
    return poc;
}

vector&lt;set&lt;string&gt;&gt;Razvrstavanje(vector&lt;string&gt;djeca,int broj_timova)
{
    if(!broj_timova || !djeca.size() ||broj_timova&gt;djeca.size()) throw logic_error("Razvrstavanje nemoguce");
    for(int i=0; i&lt;djeca.size(); i++) {
        if(BrojSlova(djeca[i])==0) throw "Greska";
    }
    shared_ptr&lt;Dijete&gt;l=KreirajCvor(djeca);
    set&lt;string&gt;pomocna;
    vector&lt;set&lt;string&gt;&gt;timovi;
    timovi.resize(broj_timova);
    vector&lt;int&gt;velicina_timova;
    velicina_timova.resize(broj_timova);
    for(int i=0; i&lt;velicina_timova.size(); i++)
        velicina_timova[i]=djeca.size()/broj_timova;
    int preostali_broj_djece=djeca.size()%broj_timova;
    for(int i=0; i&lt;preostali_broj_djece; i++)
        velicina_timova[i]++;
    int k=djeca.size();
    shared_ptr&lt;Dijete&gt;it=l;
    shared_ptr&lt;Dijete&gt;pom=l;
    while(pom-&gt;sljedeci!=it)pom=pom-&gt;sljedeci;
    vector&lt;set&lt;string&gt;&gt;::iterator it_timovi=timovi.begin();
    int broj_slova_prethodnog=0,index_tima=0,br_djece_u_timu=0;
    while(k&gt;0) {
        br_djece_u_timu++;
        for(int i=broj_slova_prethodnog; i&gt;0; i--) {
            it=it-&gt;sljedeci;
            pom=pom-&gt;sljedeci;

        }
        pomocna.insert(it-&gt;ime);
        k--;
        broj_slova_prethodnog=BrojSlova(it-&gt;ime)-1;
        if(k!=0) {
            pom-&gt;sljedeci=it-&gt;sljedeci;
            it-&gt;sljedeci=nullptr;
            it=pom-&gt;sljedeci;
        } else {
            it-&gt;sljedeci=nullptr;
        }
        if(velicina_timova[index_tima]==br_djece_u_timu) {
            *it_timovi++=pomocna;
            pomocna.clear();
            index_tima++;
            br_djece_u_timu=0;
        }
    }
    return timovi;
}

int main ()
{
    try {
        int broj_djece,broj_timova;
        string ime;
        vector&lt;string&gt;djeca;
        cout&lt;&lt;"Unesite broj djece: ";
        cin&gt;&gt;broj_djece;
        cout&lt;&lt;"Unesite imena djece: "&lt;&lt;endl;
        cin.ignore(1000,'\n');
        cin.clear();
        for(int i=0; i&lt;broj_djece; i++) {
            getline(cin,ime);
            djeca.push_back(ime);
        }
        cout&lt;&lt;"Unesite broj timova: ";
        cin&gt;&gt;broj_timova;
        vector&lt;set&lt;string&gt;&gt;timovi=Razvrstavanje(djeca,broj_timova);
        vector&lt;set&lt;string&gt;&gt;::iterator it1=timovi.begin();
        int br=0;
        for(auto i=it1; i!=timovi.end(); i++) {
            br++;
            set&lt;string&gt;l=*i;
            set&lt;string&gt;::iterator itl;
            set&lt;string&gt;::iterator itl1=l.end();
            itl1--;
            cout&lt;&lt;"Tim " &lt;&lt; br &lt;&lt;": ";
            for(itl=l.begin(); itl!=l.end(); itl++) {
                if(itl!=itl1) cout&lt;&lt;*itl&lt;&lt;", ";
                else cout&lt;&lt;*itl &lt;&lt;endl;
            }
        }
    } catch(logic_error tekst) {
        cout&lt;&lt;"Izuzetak: "&lt;&lt; tekst.what()&lt;&lt;endl;
</font>    }
    return 0;
}
</pre>
</body>
</html>
