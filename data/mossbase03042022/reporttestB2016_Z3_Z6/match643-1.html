<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z6/student2830.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z6/student9823.cpp<p></p><pre>
/B2016/2017: ZadaÄ‡a 3, Zadatak 6
// pametni samo isto sve
#include &lt;iostream&gt;
#include &lt;vector&gt;
#include &lt;set&gt;
#include &lt;list&gt;
#include &lt;stdexcept&gt;
#include &lt;memory&gt;

char toUpper(char c)
{
	if (c&gt;='a' &amp;&amp; c&lt;='z')
		return c - ('a' - 'A'); // prebaci c u veliko i vrati
	return c; // ako nije bilo malo slovo, ostaje nepromjenjeno
}

int isSiliC(char c)
{
    if(c&gt;='0' &amp;&amp; c&lt;='9') return true;
	c = toUpper(c);
	// vrati 1 ako je c slovo, 0 ako nije
	return c&gt;='A' &amp;&amp; c&lt;='Z';
}

int duzinaprez(const std::string &amp;s){
    int duzina(0);
    for(int i=0; i &lt; s.size(); i++){
        if(isSiliC(s[i])) duzina++;
    }
    return duzina;
}

struct Dijete {
  std::string ime;
  std::shared_ptr&lt;Dijete&gt; sljedeci = nullptr;
};

std::vector&lt;std::set&lt;std::string&gt;&gt; Razvrstavanje(const std::vector&lt;std::string&gt; &amp;vekt, int k){
    if(k &lt; 1 || k &gt; vekt.size()) throw std::logic_error("Razvrstavanje nemoguce");
    
    int prvitimovi = vekt.size()%k; // kolicina prvih
    int ostalitimovi = k - prvitimovi; // kolicina drugih
    
    int brojclanovaprvih = int(vekt.size())/k +1; // broj djece prvih
    int brojclanovadrugih = int(vekt.size())/k;  // broj djece drugih
    
    std::vector&lt;std::set&lt;std::string&gt;&gt; zaVratit(k);
    
    std::shared_ptr&lt;Dijete&gt; pocetak(nullptr), prethodni;
    try{
    for(int i=0; i &lt; vekt.size(); i++){
<a name="2"></a><font color="#0000FF"><a href="match643-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_2.gif"/></a>

        std::shared_ptr&lt;Dijete&gt; novi = std::make_shared&lt;Dijete&gt;();
        novi-&gt;ime = vekt[i];
        novi-&gt;sljedeci = nullptr;
</font>        if(!pocetak) pocetak = novi;
        else prethodni-&gt;sljedeci = novi;
        prethodni = novi;
        novi = nullptr;
    }
    prethodni-&gt;sljedeci = pocetak;
    
    }catch(...){
        if(pocetak == nullptr) throw std::bad_alloc();
        std::shared_ptr&lt;Dijete&gt; pomocni;
            while (pocetak != nullptr) {
                pomocni = pocetak;
                pocetak = pocetak-&gt;sljedeci;
                pomocni = nullptr;
            }
        throw std::bad_alloc();
    }
    
    int brojdjece(0);
    int j(0);
    if(prvitimovi != 0){
    for(;;){
        if(j&gt;=prvitimovi) break;
        if(brojdjece == brojclanovaprvih){
            j++;
            brojdjece =0;
        }
        if(j&gt;=prvitimovi) break;
        zaVratit[j].insert(pocetak-&gt;ime);
        int duzina = duzinaprez(pocetak-&gt;ime);
        prethodni-&gt;sljedeci = pocetak-&gt;sljedeci;
        auto it2(pocetak);
        pocetak = pocetak-&gt;sljedeci;
        it2-&gt;sljedeci = nullptr;
        it2 = nullptr;
        
        int h(0);
        while(h &lt; duzina -1){
            pocetak = pocetak-&gt;sljedeci;
            prethodni = prethodni-&gt;sljedeci;
            h++;
        }
        brojdjece++;
    }
    
    if(ostalitimovi == 0){ pocetak = nullptr; prethodni = nullptr; return zaVratit; }
    }
    brojdjece = 0;
    int z = 0;
    if(ostalitimovi !=0) {
    for(;;){
        if(z&gt;=ostalitimovi) break;
        if(brojdjece == brojclanovadrugih){
            j++;
            z++;
            brojdjece =0;
        }
        if(z&gt;=ostalitimovi) break;
        zaVratit[j].insert(pocetak-&gt;ime);
        int duzina = duzinaprez(pocetak-&gt;ime);
        prethodni-&gt;sljedeci = pocetak-&gt;sljedeci;
        auto it2(pocetak);
        pocetak = pocetak-&gt;sljedeci;
        it2-&gt;sljedeci = nullptr;
        it2 = nullptr;
        
        int h(0);
        while(h &lt; duzina -1){
            if(pocetak != pocetak-&gt;sljedeci){
            pocetak = pocetak-&gt;sljedeci;
            prethodni = prethodni-&gt;sljedeci;
            }
            else {
                j++;
                z++;
                if(z&gt;=ostalitimovi){
                    zaVratit[j-1].insert(pocetak-&gt;ime);
                    prethodni-&gt;sljedeci = nullptr;
                    pocetak-&gt;sljedeci = nullptr;
                    prethodni = nullptr;
                    pocetak = nullptr;
                    return zaVratit;
                }
                zaVratit[j].insert(pocetak-&gt;ime);
                prethodni-&gt;sljedeci = nullptr;
                pocetak-&gt;sljedeci = nullptr;
                prethodni = nullptr;
                pocetak = nullptr;
                return zaVratit;
            }
            h++;
        }
        brojdjece++;
    }
    }
    
    return zaVratit;
}


int main ()
{
    int x, y;
<a name="3"></a><font color="#00FFFF"><a href="match643-0.html#3" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_2.gif"/></a>

    std::vector&lt;std::set&lt;std::string&gt;&gt; a;
    std::cout &lt;&lt; "Unesite broj djece: ";
    std::cin &gt;&gt; x;
    std::cout &lt;&lt; "Unesite imena djece: " &lt;&lt; std::endl;
</font>    std::vector&lt;std::string&gt; imena(x);
    std::cin.ignore(10000, '\n');
    for(int i=0; i &lt; x; i++) std::getline(std::cin, imena[i]);
<a name="1"></a><font color="#00FF00"><a href="match643-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_3.gif"/></a>

    std::cout &lt;&lt; "Unesite broj timova: ";
    std::cin &gt;&gt; y;
    try {
        a = Razvrstavanje(imena, y);
    }catch(std::logic_error exec){
        std::cout &lt;&lt; "Izuzetak: " &lt;&lt; exec.what();
</font>        return 0;
    }catch(std::bad_alloc exec){
        return 0;
    }
    for(int i=0; i &lt; y; i++){
<a name="0"></a><font color="#FF0000"><a href="match643-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_4.gif"/></a>

        auto it2 = a[i].begin(); it2++;
        std::cout &lt;&lt; "Tim " &lt;&lt; i + 1 &lt;&lt; ": ";
        for(auto it = a[i].begin(); it != a[i].end(); it++){
            if(it2 == a[i].end()) std::cout &lt;&lt; *it;
</font>            else std::cout &lt;&lt; *it &lt;&lt; ", ";
            it2++;
        }
        std::cout &lt;&lt; std::endl;
    }
	return 0;
}</pre>
</body>
</html>
