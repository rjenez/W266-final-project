<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z6/student6924.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z6/student6924.cpp<p></p><pre>
<a name="2"></a><font color="#0000FF"><a href="match934-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_3.gif"/></a>

/B2016/2017: ZadaÄ‡a 3, Zadatak 5
#include &lt;iostream&gt;
#include &lt;vector&gt;
#include &lt;set&gt;
#include &lt;string&gt;
#include &lt;stdexcept&gt;
#include &lt;memory&gt;


struct Dijete {
    std::string ime;
    std::shared_ptr&lt;Dijete&gt; sljedeci;
};

int BrojSlova(std::string s){
    int brojac(0);
</font>    for(int i = 0; i &lt; s.size(); i++){
<a name="0"></a><font color="#FF0000"><a href="match934-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_5.gif"/></a>

        if((s[i]&gt;='A' &amp;&amp; s[i]&lt;='Z') || (s[i]&gt;='a' &amp;&amp; s[i]&lt;='z') || (s[i]&gt;='0' &amp;&amp; s[i]&lt;='9')) brojac++;
    }
    return brojac;
}
std::vector&lt;std::set&lt;std::string&gt;&gt; Razvrstavanje(std::vector&lt;std::string&gt; v, int broj_timova){
</font>    
    
    if(broj_timova&lt;1 || broj_timova&gt;v.size()) throw std::logic_error("Razvrstavanje nemoguce");
    std::shared_ptr&lt;Dijete&gt; t = std::make_shared&lt;Dijete&gt;();
    t-&gt;ime = v[0];
   // t-&gt;sljedeci(nullptr);
    std::shared_ptr&lt;Dijete&gt; pocetak(t);
    //std::shared_ptr&lt;Dijete&gt; kraj(t);
    for(int i = 1; i &lt; v.size(); i++){
        std::shared_ptr&lt;Dijete&gt; dijete = std::make_shared&lt;Dijete&gt;();
        dijete-&gt;ime = v[i];
        
        t-&gt;sljedeci = dijete;
        t = t-&gt;sljedeci;
        if(i==v.size()-1) {
            t-&gt;sljedeci = pocetak;
            //kraj = t;
        }
        
    }
    t = pocetak;
    std::vector&lt;std::set&lt;std::string&gt;&gt; vektor;
    int ukupno = v.size();
    if(v.size()%broj_timova==0){
        
        int broj_slova (0);
        for(int i = 0; i &lt; broj_timova; i++){
            std::set&lt;std::string&gt; pomocni_skup;
            int broj_smjestenih = 0;
            int maksimalno_smjestenih = v.size()/broj_timova;
            while (broj_smjestenih&lt;maksimalno_smjestenih){
                
                while(broj_slova!=0){
                
                    t=t-&gt;sljedeci;
                    broj_slova--;
                }
                
                pomocni_skup.insert(t-&gt;ime);
                broj_smjestenih++;
                broj_slova=BrojSlova(t-&gt;ime)-1;
                auto pom = pocetak; 
                while(pom-&gt;sljedeci!=t){
                    pom=pom-&gt;sljedeci;
                }
                pom-&gt;sljedeci = t-&gt;sljedeci;
                if(t==pocetak){
                    pocetak = pocetak-&gt;sljedeci;
                }
                //t-&gt;sljedeci(nullptr);
                //delete t;
                ukupno--;
                if(ukupno!=0) t=pom-&gt;sljedeci;
                pom = nullptr;
                
                
            }
            vektor.push_back(pomocni_skup);
            
            
        }
        t-&gt;sljedeci = nullptr;
        
    }
    else {
            int broj_slova(0);
            int ostatak(v.size()%broj_timova);
            for(int i = 0; i &lt; broj_timova; i++){
                std::set&lt;std::string&gt; pomocni_set;
                int broj_smjestenih(0);
                int maksimalno_smjestenih;
                if(ostatak!=0){
                    maksimalno_smjestenih = (v.size()/broj_timova)+1;
                    ostatak--;
                }
                else
                    maksimalno_smjestenih = v.size()/broj_timova;
                
                while(broj_smjestenih&lt;maksimalno_smjestenih){
                    
                    while(broj_slova!=0){
                        t = t-&gt;sljedeci;
                        broj_slova--;
                    }
                    pomocni_set.insert(t-&gt;ime);
                    broj_smjestenih++;
                    broj_slova = BrojSlova(t-&gt;ime)-1;
                    auto pom = pocetak; 
                    while(pom-&gt;sljedeci!=t){
                        pom=pom-&gt;sljedeci;
                    }
                    if(t==pocetak)
                        pocetak = pocetak-&gt;sljedeci;
                    pom-&gt;sljedeci = t-&gt;sljedeci;
                    //t-&gt;sljedeci(nullptr);
                    //delete t;
                    ukupno--;
                    if(ukupno!=0) t=pom-&gt;sljedeci;
                    pom = nullptr;
                        
                }
                vektor.push_back(pomocni_set);
            }
            t-&gt;sljedeci = nullptr;
    }
    
    return vektor;
}
int main ()
{
    try{
        int n,k;
        std::vector&lt;std::string&gt; v;
        std::cout &lt;&lt; "Unesite broj djece: ";
        std::cin &gt;&gt; n;
<a name="1"></a><font color="#00FF00"><a href="match934-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_5.gif"/></a>

        std::cout &lt;&lt; "Unesite imena djece: " &lt;&lt; std::endl;
        std::cin.clear();
        std::cin.ignore(1000, '\n');
        for(int i = 0; i &lt; n; i++){
            std::string pom;
            std::getline(std::cin, pom);
            v.push_back(pom);
</font>        }
        std::cout &lt;&lt; "Unesite broj timova: ";
        std::cin &gt;&gt; k;
        std::vector&lt;std::set&lt;std::string&gt;&gt; vektor = Razvrstavanje(v,k);
        for(int i = 0; i &lt; vektor.size(); i++){
            std::cout &lt;&lt; "Tim " &lt;&lt; i+1 &lt;&lt; ": ";
            int velicina_seta ( vektor[i].size() - 1), j(0);
            for(auto x : vektor[i]){
                if(j!=velicina_seta) std::cout &lt;&lt; x &lt;&lt; ", ";
                else std::cout &lt;&lt; x;
                j++;
            }
            std::cout &lt;&lt; std::endl;
        }
    }
    catch(std::logic_error e){
        std::cout &lt;&lt; "Izuzetak: " &lt;&lt; e.what();
    }
	return 0;
}</pre>
</body>
</html>
