<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z6/student7977.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z6/student2830.cpp<p></p><pre>
#include &lt;vector&gt;
#include &lt;string&gt;
#include &lt;set&gt;
#include &lt;iostream&gt;
#include &lt;stdexcept&gt;
#include &lt;memory&gt;
struct Dijete{
    std::string ime;
    std::shared_ptr&lt;Dijete&gt; sljedeci;
};
std::vector&lt;std::set&lt;std::string&gt;&gt; Razvrstavanje(std::vector&lt;std::string&gt; djeca, int k){
    if(k&lt;1 || k&gt;djeca.size())  throw std::logic_error("Razvrstavanje nemoguce");
    std::string ime1;
    int n(djeca.size());
    int granica(n%k);
    int clanovi_skupa(n/k);
    int brojac(0);
    int drugi(0);
    int oznaka(0);
    int dojava(0);
    
<a name="1"></a><font color="#00FF00"><a href="match956-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_4.gif"/></a>

    std::vector&lt;std::set&lt;std::string&gt;&gt; v(k);
   std::shared_ptr&lt;Dijete&gt; pocetni; std::shared_ptr&lt;Dijete&gt; prethodni;
    for(int i=0; i&lt;n; i++){
</font>   std::shared_ptr&lt;Dijete&gt; novi=std::make_shared&lt;Dijete&gt;();
    novi-&gt;ime=djeca[i]; 
    novi-&gt;sljedeci=nullptr;
     if(i==n-1) {
        novi-&gt;sljedeci=pocetni;
    }    
    if(!pocetni) pocetni=novi;
    else prethodni-&gt;sljedeci=novi;
    prethodni=novi;
    }
 auto p=pocetni;

    for(; ;){
        if(n==0) break;
        v[oznaka].insert(p-&gt;ime);
        dojava++;
        ime1=p-&gt;ime;
    if(dojava==clanovi_skupa+1 &amp;&amp; oznaka&lt;granica){
        oznaka++;
       dojava=0;
    }
    if(oznaka&gt;=granica &amp;&amp;  dojava==clanovi_skupa){
        oznaka++;
        dojava=0;
    }
        if(p==pocetni){
            for(int i=0; i&lt;n; i++){
               if(i==n-1){
                   
                   p-&gt;sljedeci=p-&gt;sljedeci-&gt;sljedeci;
                   n-=1;
                   break;
               }
                p=p-&gt;sljedeci;
            }
        }else{
           for(; ;){
               p=p-&gt;sljedeci;
               if(p-&gt;sljedeci-&gt;ime==ime1){
                   if(n==1){
                 p-&gt;sljedeci=nullptr;
                 n-=1;
                 break;
                   }
                   p-&gt;sljedeci=p-&gt;sljedeci-&gt;sljedeci;
                  
                   n-=1;
                   break;
               }
               
           }
        }
        brojac=0;
        for(int i=0; i&lt;ime1.length(); i++){
            if((ime1[i]&gt;='a' &amp;&amp; ime1[i]&lt;='z') || (ime1[i]&gt;='A' &amp;&amp; ime1[i]&lt;='Z') || (ime1[i]&gt;='0' &amp;&amp; ime1[i]&lt;='9')) brojac++;
        }
        while(drugi&lt;brojac){
            if(n==0) break;
        p=p-&gt;sljedeci;
        drugi++;
        if(drugi==brojac-1) {
            
            drugi=0;
            break;
        }
        }
        if(n==0) {
            break;
        }
        p=p-&gt;sljedeci;
    }
    return v;
}
int main ()
{
    int n,m;
    std::vector&lt;std::string&gt; djeca;
	std::vector&lt;std::set&lt;std::string&gt;&gt; v;
	std::cout&lt;&lt;"Unesite broj djece: ";
	std::cin&gt;&gt;n;
	std::cin.ignore(10000,'\n');
<a name="2"></a><font color="#0000FF"><a href="match956-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_4.gif"/></a>

	std::string s;
	std::cout&lt;&lt;"Unesite imena djece: "&lt;&lt;std::endl;
	for(int i=0; i&lt;n; i++){
	    std::getline(std::cin,s);
</font>	    djeca.push_back(s);
	}
	std::cout&lt;&lt;"Unesite broj timova: ";
	std::cin&gt;&gt;m;
	try{
	v=Razvrstavanje(djeca,m);
	}catch(std::logic_error izuzetak){
	    std::cout&lt;&lt;"Izuzetak: "&lt;&lt;izuzetak.what();
	}
<a name="0"></a><font color="#FF0000"><a href="match956-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_6.gif"/></a>

	for(int i=0; i&lt;v.size(); i++){
	    std::cout&lt;&lt;"Tim "&lt;&lt;i+1&lt;&lt;": ";
	    for(auto it=v[i].begin(); it!=v[i].end(); it++){
	        if(it!=v[i].begin()){
</font>	            std::cout&lt;&lt;", ";
	    }
	        std::cout&lt;&lt;*it;
	    }
	    std::cout&lt;&lt;std::endl;
	}
	return 0;
}</pre>
</body>
</html>
