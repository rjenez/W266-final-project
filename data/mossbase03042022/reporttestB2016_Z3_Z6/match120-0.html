<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z6/student4495.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z6/student4495.cpp<p></p><pre>
#include &lt;iostream&gt;
#include &lt;string&gt;
#include &lt;set&gt;
#include &lt;stdexcept&gt;
#include &lt;vector&gt;
#include &lt;memory&gt;
//#include "sake.h"

<a name="1"></a><font color="#00FF00"><a href="match120-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_30.gif"/></a>

struct Dijete {
    std::string ime;
    std::shared_ptr&lt;Dijete&gt;sljedeci;
};    

Dijete *NapraviListu(std::vector&lt;std::string&gt; v){
    std::shared_ptr&lt;Dijete&gt; pocetni=nullptr, kraj;
    for(int i=0; i&lt;v.size(); i++){
        std::shared_ptr&lt;Dijete&gt; novi(new Dijete);
        (*novi).ime=v[i];
          (*novi).sljedeci=nullptr;
        if(i==0)
            pocetni=novi;
        else 
            (*kraj).sljedeci=novi; 
        kraj=novi;    
    }
    (*kraj).sljedeci=pocetni;
    return pocetni.get();
}

Dijete  *Izbaci(Dijete* p){
    auto q=p;
    for(auto it2(p-&gt;sljedeci.get()); it2!=p; it2=it2-&gt;sljedeci.get()){
        q=q-&gt;sljedeci.get();
    }
    q-&gt;sljedeci=p-&gt;sljedeci;
    return (q-&gt;sljedeci.get());
}

int Koliko(std::string s){
    int br(0);
    for(int i=0;i&lt;s.length(); i++)
        if((s[i]&gt;='a' &amp;&amp; s[i]&lt;='z') || (s[i]&gt;='A' &amp;&amp; s[i]&lt;='Z') || (s[i]&gt;='0' &amp;&amp; s[i]&lt;='9')) 
</font><a name="0"></a><font color="#FF0000"><a href="match120-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_65.gif"/></a>

            br++;
    return br;
}

std::vector&lt;std::set&lt;std::string&gt;&gt; Razvrstavanje(std::vector&lt;std::string&gt; v, int n){
    if(n&lt;1 || n&gt;v.size()) throw std::logic_error("Razvrstavanje nemoguce");
    auto it(NapraviListu(v)); int v_size;
    std::vector&lt;std::set&lt;std::string&gt;&gt; a(n);
    for(int i=0; i&lt;n; i++)    
    {    
        int max_vel=v.size()/n; 
        if(v.size()%n&gt;i) max_vel+=1;
        v_size=max_vel;
        while (v_size!=0) 
        {
            a[i].insert((*it).ime);
            if(i==n-1 &amp;&amp; v_size==1)
            {
                 it-&gt;sljedeci=nullptr;
                 v_size--; 
            }
            else
                {
                int potez(Koliko((*it).ime));
                it=Izbaci(it); 
                v_size--;
                int w(1);
                while(w!=potez){
                    it=(*it).sljedeci.get();
                    w++;
                }
            }
        }
    }
    return a;
}

int main ()
{
    std::cout &lt;&lt; "Unesite broj djece: ";
    int br_osoba; std::cin &gt;&gt; br_osoba;
    std::vector&lt;std::string&gt; w(br_osoba);
    std::cout &lt;&lt;"Unesite imena djece:";
    std::cin.ignore(10000, '\n');
    {
        std::string pomocni;
        for(int i=0; i&lt;br_osoba;i++){
            std::getline(std::cin, pomocni);
            w[i]=pomocni;
        }
    }
    std::cout &lt;&lt; "\nUnesite broj timova: "; int k; std::cin &gt;&gt; k;
    try {
        auto a(Razvrstavanje(w,k));
        for(int i=0; i&lt;a.size(); i++){
            std::cout &lt;&lt; "Tim " &lt;&lt;i+1&lt;&lt;": ";
            int brojac(0);
            for(auto x(a[i].begin()); x!=a[i].end();x++)
                if(brojac++==a[i].size()-1)
                    std::cout &lt;&lt; *x;
                else
                    std::cout &lt;&lt; *x&lt;&lt;", ";
            std::cout  &lt;&lt; std::endl; 
        }
    }
    catch (std::logic_error error) {
        std::cout &lt;&lt;"Izuzetak: "&lt;&lt; error.what() &lt;&lt; std::endl;
    }
	return 0;
</font>}</pre>
</body>
</html>
