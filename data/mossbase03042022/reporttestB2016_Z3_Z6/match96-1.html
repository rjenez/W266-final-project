<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z6/student4659.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z6/student1324.cpp<p></p><pre>
<a name="0"></a><font color="#FF0000"><a href="match96-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_97.gif"/></a>

/B2016/2017: ZadaÄ‡a 3, Zadatak 6
#include &lt;iostream&gt;
#include &lt;vector&gt;
#include &lt;string&gt;
#include &lt;set&gt;
#include &lt;stdexcept&gt;
#include &lt;algorithm&gt;
#include &lt;memory&gt;

struct Dijete{
    std::string ime;
    std::shared_ptr&lt;Dijete&gt;  veza;
};

int br_slova(std::string s){
    return std::count_if(s.begin(),s.end(),[](char x){bool vrati(false); if((x&gt;='0' &amp;&amp; x&lt;='9') || (x&gt;='A' &amp;&amp; x&lt;='Z') || (x&gt;='a' &amp;&amp; x&lt;='z'))vrati=true; return vrati;});
}

std::vector&lt;std::set&lt;std::string&gt;&gt; Razvrstavanje(std::vector&lt;std::string&gt; v, int n){
    
    if(n&lt;1 || n&gt;v.size())throw std::logic_error("Razvrstavanje nemoguce");
    
    std::shared_ptr&lt;Dijete&gt; pocetak(nullptr),prethodni;
    for(int i=0;i&lt;v.size();i++){
        std::shared_ptr&lt;Dijete&gt; novi(new Dijete);
        novi-&gt;ime=v[i]; novi-&gt;veza=nullptr;
        if(!pocetak)pocetak=novi;
        else prethodni-&gt;veza=novi;
        prethodni=novi;
    }
    prethodni-&gt;veza=pocetak;
    
        int br(0),br_clanova(v.size()/n+1);
        std::vector&lt;std::set&lt;std::string&gt;&gt; v1;
        auto it1(pocetak);
        auto prije(prethodni);
        for(int i=0;i&lt;n;i++){
            std::set&lt;std::string&gt; skup;
            if(br==v.size()%n)br_clanova--;
            for(int j=0;j&lt;br_clanova;j++){
                if(i==n-1 &amp;&amp; j==br_clanova-1){
                    skup.insert(pocetak-&gt;ime);
                    pocetak-&gt;veza=nullptr;
                    break;
                }    
                skup.insert(it1-&gt;ime);
                auto it2(it1);auto poslije(it1-&gt;veza);
                int x=br_slova(it1-&gt;ime),flag(0),novi_br(0);
                for(int i=0;i&lt;x;i++){
                    it1=it1-&gt;veza;
                    if(it1-&gt;ime==it2-&gt;ime){flag=1;x++;novi_br++;}
                }
                prije-&gt;veza=poslije;
                if(prethodni==it2)prethodni=prije;
                if(pocetak==it2)pocetak=poslije;
                    
                if(flag)x-=novi_br;
                if(pocetak!=prethodni){
                    for(int i=0;i&lt;x-1;i++){
                        prije=prije-&gt;veza;
                    }    
                }
            }
            br++;
            v1.push_back(skup);
        }
    return v1;
}

int main ()
{
    int n(0);
    std::cout &lt;&lt; "Unesite broj djece: ";
    std::cin &gt;&gt; n;
    
        std::vector&lt;std::string&gt; v(n);
        std::cout &lt;&lt; "Unesite imena djece: "&lt;&lt; std::endl;
        std::cin.ignore(100,'\n');
        for(int i=0;i&lt;n;i++) std::getline(std::cin,v[i]);
        
            int br_timova(0);
            std::cout &lt;&lt; "Unesite broj timova: ";
            std::cin &gt;&gt; br_timova;
            try{
                std::vector&lt;std::set&lt;std::string&gt;&gt; v1;
                v1=Razvrstavanje(v,br_timova);
                
                    for(int i=0;i&lt;v1.size();i++){
                        std::cout &lt;&lt; "Tim " &lt;&lt; i+1 &lt;&lt; ": ";
                        int br(0);
                        for(auto x : v1[i]){
                            if(br==v1[i].size()-1)std::cout &lt;&lt; x ;
                            else std::cout &lt;&lt; x &lt;&lt; ", ";
                            br++;
                        }    
                        std::cout &lt;&lt; std::endl;
                    }
            }
            catch(std::logic_error e){
                std::cout &lt;&lt; "Izuzetak: " &lt;&lt; e.what();
</font>            }
	return 0;
}</pre>
</body>
</html>
