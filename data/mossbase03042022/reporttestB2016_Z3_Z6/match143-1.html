<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z6/student5562.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z6/student2553.cpp<p></p><pre>
<a name="0"></a><font color="#FF0000"><a href="match143-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_98.gif"/></a>

/B2016/2017: ZadaÄ‡a 3, Zadatak 6
#include &lt;iostream&gt;
#include &lt;vector&gt;
#include &lt;set&gt;
#include &lt;string&gt;
#include &lt;stdexcept&gt;
#include &lt;algorithm&gt;
#include &lt;memory&gt;

struct Dijete
{
    std::string ime;
    std::shared_ptr&lt;Dijete&gt; sljedeci;
};

typedef std::vector&lt;std::set&lt;std::string&gt;&gt; Timovi;

Timovi Razvrstavanje (std::vector&lt;std::string&gt; djeca, int br_timova)
{
    if (br_timova &lt; 1 || br_timova &gt; djeca.size())
        throw std::logic_error("Razvrstavanje nemoguce");
    
    Timovi timovi;
    std::shared_ptr&lt;Dijete&gt; novo, prethodno, prvo(nullptr);
    try
    {
        for (int i = 0; i &lt; djeca.size(); i++)
        {
            novo = std::make_shared&lt;Dijete&gt;();
            novo-&gt;ime = djeca[i]; novo-&gt;sljedeci = nullptr;
            if (!prvo) prvo = novo;
            else prethodno-&gt;sljedeci = novo;
            prethodno = novo;
        }
    }
    catch(std::bad_alloc)
    {
        throw;
    }
    prethodno-&gt;sljedeci = prvo;
    
    int tim(0), vel_tima, u_timu(0), naprijed(0), preostalih(djeca.size());
    std::shared_ptr&lt;Dijete&gt; p(prvo);
    while (preostalih)
    {
        if (tim &lt; djeca.size()%br_timova) vel_tima = djeca.size()/br_timova  + 1;
        else vel_tima = djeca.size()/br_timova;
        
        timovi.push_back(std::set&lt;std::string&gt;());
        while (u_timu &lt; vel_tima)
        {
            for (int i = 0; i &lt; naprijed; i++){prethodno = p; p = p-&gt;sljedeci;}
            naprijed = std::count_if(p-&gt;ime.begin(), p-&gt;ime.end(), 
            [](char x)
            {
                if (x &lt; '0' || (x &gt; '9' &amp;&amp; x &lt; 'A') || (x &gt; 'Z' &amp;&amp; x &lt; 'a') || x &gt; 'z')
                    return false;
                return true;
            });
            timovi[tim].insert(p-&gt;ime);
            prethodno-&gt;sljedeci = p-&gt;sljedeci; 

            p = prethodno;
            preostalih--;
            u_timu++;
        }
        u_timu = 0;
        tim++;
    }
    p-&gt;sljedeci = nullptr;
    
    return timovi;
}

int main ()
{
    int br_djece;
    std::cout &lt;&lt; "Unesite broj djece: ";
    std::cin &gt;&gt; br_djece;
    std::cin.ignore(10, '\n');
    std::vector&lt;std::string&gt; djeca(br_djece);
    std::cout &lt;&lt; "Unesite imena djece:\n";
    for (int i = 0; i &lt; djeca.size(); i++)
        std::getline(std::cin, djeca[i]);
    int br_timova;
    std::cout &lt;&lt; "Unesite broj timova: ";
    
    std::cin &gt;&gt; br_timova;
    try
    {
        Timovi timovi(Razvrstavanje(djeca, br_timova));
        Timovi::iterator it(timovi.begin());
        for (int i = 0; i &lt; timovi.size(); i++)
        {
            std::cout &lt;&lt; "Tim " &lt;&lt; i + 1 &lt;&lt; ": ";
            typename std::set&lt;std::string&gt;::iterator it2(timovi[i].begin());
            for (int j = 0; j &lt; timovi[i].size() - 1; j++)
                std::cout &lt;&lt; *it2++ &lt;&lt; ", ";
            std::cout &lt;&lt; *it2 &lt;&lt; "\n";
            it++;
        }
    }
    catch(std::bad_alloc)
    {
        
    }
    catch(std::logic_error e)
    {
        std::cout &lt;&lt; "Izuzetak: " &lt;&lt; e.what();
    }
	return 0;
</font>}</pre>
</body>
</html>
