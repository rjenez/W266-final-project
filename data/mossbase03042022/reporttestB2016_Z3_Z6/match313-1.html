<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z6/student3009.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z6/student9998.cpp<p></p><pre>
<a name="0"></a><font color="#FF0000"><a href="match313-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_7.gif"/></a>

/B2016/2017: ZadaÄ‡a 3, Zadatak 5
#include &lt;iostream&gt;
#include&lt;set&gt;
#include&lt;vector&gt;
#include&lt;string&gt;
#include&lt;stdexcept&gt;
#include&lt;memory&gt;

struct Dijete{
    std::string ime;
    std::shared_ptr&lt;Dijete&gt;sljedeci;
};

int broj_znakova(std::string s){
    int broj=0;
    for(int i=0;i&lt;s.length();i++){
        if((s[i]&gt;='a' &amp;&amp; s[i]&lt;='z') || (s[i]&gt;='A' &amp;&amp; s[i]&lt;='Z') || (s[i]&gt;='0' &amp;&amp; s[i]&lt;='9')) broj++;
</font><a name="1"></a><font color="#00FF00"><a href="match313-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_6.gif"/></a>

    }
    return broj;
}
std::vector&lt;std::set&lt;std::string&gt;&gt; Razvrstavanje (std::vector&lt;std::string&gt;v, int broj_timova){
</font>   if(broj_timova&lt;1 || broj_timova&gt;v.size()) throw std::logic_error("Razvrstavanje nemoguce");
   
   std::shared_ptr&lt;Dijete&gt; pocetak(nullptr);
   std::shared_ptr&lt;Dijete&gt; prethodni(nullptr);
    try{
    for(int i=0;i&lt;v.size();i++){
        std::shared_ptr&lt;Dijete&gt; novi(new Dijete);
        if(pocetak==nullptr) pocetak=novi;
        else prethodni-&gt;sljedeci=novi;
        novi-&gt;ime=v[i];
        novi-&gt;sljedeci=pocetak;
        prethodni=novi;
     }
    }
    catch(...){
        while(pocetak!=prethodni){
           std::shared_ptr&lt;Dijete&gt;pom=pocetak;
            pocetak=pocetak-&gt;sljedeci;
            pom-&gt;sljedeci=nullptr;
            pom=nullptr;
        }
        prethodni=nullptr;
    }
    
    int mod=v.size()%broj_timova;
    std::vector&lt;std::set&lt;std::string&gt;&gt;vrati;
    vrati.resize(broj_timova);
    int n=v.size();
    int limit;
    std::shared_ptr&lt;Dijete&gt;trenutni=pocetak;
    for(int i=0;i&lt;broj_timova;i++){
        if(i&lt;mod) limit=(int) n/broj_timova+1;
        else limit=(int)n/broj_timova;
        std::set&lt;std::string&gt;s;
        for(int i=0;i&lt;limit;i++){
            s.insert(trenutni-&gt;ime);
            int brojac=1;
            int j=broj_znakova(trenutni-&gt;ime);
            std::shared_ptr&lt;Dijete&gt;pom;
            pom=trenutni;
            while(pom-&gt;sljedeci!=trenutni){
                pom=pom-&gt;sljedeci;
            }
            pom-&gt;sljedeci=trenutni-&gt;sljedeci;
            if(pom-&gt;sljedeci==trenutni){
                trenutni-&gt;sljedeci=nullptr;
                break;
            }
            trenutni=nullptr;
            trenutni=pom-&gt;sljedeci;
            while(brojac&lt;j){
                trenutni=trenutni-&gt;sljedeci;
                brojac++;
            }
        }
<a name="2"></a><font color="#0000FF"><a href="match313-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_3.gif"/></a>

        vrati[i]=s;
    }
    return vrati;
    
}
int main ()
{
    try{
        std::cout&lt;&lt;"Unesite broj djece: ";
        int n;
        std::cin&gt;&gt;n;
        std::cout&lt;&lt;"Unesite imena djece: \n";
</font>        std::vector&lt;std::string&gt;v;
        v.resize(n);
<a name="3"></a><font color="#00FFFF"><a href="match313-0.html#3" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_3.gif"/></a>

        std::cin.ignore(1000,'\n');
        for(int i=0;i&lt;n;i++){
            std::string s;
            std::getline(std::cin, s);
</font>            v[i]=s;
        }
        std::cout&lt;&lt;"Unesite broj timova: ";
        int br;
        std::cin&gt;&gt;br;
        std::vector&lt;std::set&lt;std::string&gt;&gt; vrati=Razvrstavanje(v,br);
        for(int i=0;i&lt;vrati.size();i++){
            std::cout&lt;&lt;"Tim "&lt;&lt;i+1&lt;&lt;": ";
            auto zadnji=vrati[i].end();
            zadnji--;
            for(auto it=vrati[i].begin();it!=vrati[i].end();it++){
                if(it!=zadnji) std::cout&lt;&lt;*it&lt;&lt;", ";
                else std::cout&lt;&lt;*it;
            }
            std::cout&lt;&lt;std::endl;
        }
    }
    catch(std::logic_error e){
        std::cout&lt;&lt;"Izuzetak: "&lt;&lt;e.what();
    }
	return 0;
}</pre>
</body>
</html>
