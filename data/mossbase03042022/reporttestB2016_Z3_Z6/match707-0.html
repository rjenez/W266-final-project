<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z6/student2472.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z6/student2472.cpp<p></p><pre>
/B2016/2017: ZadaÄ‡a 3, Zadatak 6
#include &lt;iostream&gt;
#include &lt;string&gt;
#include &lt;vector&gt;
#include &lt;set&gt;
#include &lt;memory&gt;

typedef std::vector&lt;std::string&gt; vektor;

using std::cout;
using std::cin;
using std::endl;

struct Dijete{
<a name="0"></a><font color="#FF0000"><a href="match707-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_6.gif"/></a>

    std::string ime;
    std::shared_ptr&lt;Dijete&gt; sljedeci;
};

int IzbrojZnakove(std::string s){
    int br(0);
    for(int i=0; i&lt;s.length(); i++)
        if((s[i] &gt;= 'a' &amp;&amp; s[i] &lt;= 'z') || (s[i] &gt;= 'A' &amp;&amp; s[i] &lt;= 'Z') || (s[i] &gt;= '0' &amp;&amp; s[i] &lt;= '9'))
</font><a name="1"></a><font color="#00FF00"><a href="match707-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_4.gif"/></a>

            br++;
    return br;
}

std::vector&lt;int&gt; Rasporedi(int brojdjece, int bt){
</font>    int br(brojdjece/bt);
    int ostatak(brojdjece%bt);
    std::vector&lt;int&gt; v(bt);
    for(int i=0; i&lt;bt; i++){
        v[i] = br;
        if(ostatak &gt; 0) v[i]++;
        ostatak--;
    }
    return v;
}

std::vector&lt;std::set&lt;std::string&gt;&gt; Razvrstavanje(vektor v, int bt){
    if(bt &lt; 1 || bt &gt; v.size()) throw std::logic_error("Razvrstavanje nemoguce");
    std::vector&lt;std::set&lt;std::string&gt;&gt; timovi(bt);
    std::shared_ptr&lt;Dijete&gt; pocetak;
    std::shared_ptr&lt;Dijete&gt; prethodni;

    for(int i=0; i&lt;v.size(); i++){
<a name="2"></a><font color="#0000FF"><a href="match707-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_4.gif"/></a>

      std::shared_ptr&lt;Dijete&gt; novi(new Dijete);
      novi-&gt;ime = v[i];
      novi-&gt;sljedeci = nullptr;
      if(!pocetak)pocetak = novi;
</font>         else prethodni-&gt;sljedeci = novi;
      prethodni = novi;
    if(i == v.size()-1) prethodni-&gt;sljedeci = pocetak;
    }
   
    int br_znakova(0);
    std::vector&lt;int&gt; brt(Rasporedi(v.size(), bt));
    std::shared_ptr&lt;Dijete&gt; pici = pocetak;
    int br(v.size());
    for(;;){
        if(br == 0) break;
        while(br_znakova &gt; 0){
            br_znakova--;
            prethodni = pici;
            pici = pici-&gt;sljedeci;
        }
        for(int i=0; i&lt;bt; i++){
            if(brt[i] &gt; 0){
                timovi[i].insert(pici-&gt;ime);
                brt[i]--;
                break;
            }
        }
        br_znakova = IzbrojZnakove(pici-&gt;ime) -1;
        prethodni-&gt;sljedeci = pici-&gt;sljedeci;
        pici = pici-&gt;sljedeci;
    if(br-1 == 0) pici-&gt;sljedeci = nullptr; //Smanjivanje brojaca pametnog pokazivaca
        br--;
    }
    return timovi;
}

int main ()
{
   int brd, bt;
   cout &lt;&lt; "Unesite broj djece: ";
   cin &gt;&gt; brd;
   vektor v(brd);
   cout &lt;&lt; "Unesite imena djece: ";
   cin.ignore(1000, '\n');
   for(int i=0; i&lt;brd; i++)
        getline(cin, v[i]);
    cout &lt;&lt; endl &lt;&lt; "Unesite broj timova: ";
    cin &gt;&gt; bt;
    try{
    std::vector&lt;std::set&lt;std::string&gt;&gt; vek(Razvrstavanje(v, bt));
    for(int i=0; i&lt;bt; i++){
<a name="3"></a><font color="#00FFFF"><a href="match707-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_4.gif"/></a>

        cout &lt;&lt; "Tim " &lt;&lt; i+1 &lt;&lt; ": ";
        for(auto it=vek[i].begin(); it!=vek[i].end(); it++){
            auto it2(it);
</font>            it2++;
           if(it2 != vek[i].end()) cout &lt;&lt; *it &lt;&lt; ", ";
           else cout &lt;&lt; *it;
        }
        cout &lt;&lt; endl;
    }
    }catch(std::logic_error cigla){
        cout &lt;&lt; "Izuzetak: " &lt;&lt; cigla.what();
    }
	return 0;
}</pre>
</body>
</html>
