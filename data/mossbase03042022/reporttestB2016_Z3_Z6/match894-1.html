<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z6/student6507.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z6/student9464.cpp<p></p><pre>
/B2016/2017: ZadaÄ‡a 3, Zadatak 6

#include &lt;iostream&gt;
#include &lt;vector&gt;
#include &lt;string&gt;
#include &lt;set&gt;
#include &lt;stdexcept&gt;
#include &lt;memory&gt;

struct Dijete {
    std::string ime;
    std::shared_ptr&lt;Dijete&gt; sljedeci;
};

<a name="0"></a><font color="#FF0000"><a href="match894-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_4.gif"/></a>

int DuzinaImena(std::string ime) {
    int brojac(0);
    for(int i = 0; i &lt; ime.length(); i++)
        if((ime[i] &gt;= 'a' &amp;&amp; ime[i] &lt;= 'z') || (ime[i] &gt;= 'A' &amp;&amp; ime[i] &lt;= 'Z') ||(ime[i] &gt;= '0' &amp;&amp; ime[i] &lt;= '9'))
</font><a name="2"></a><font color="#0000FF"><a href="match894-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_4.gif"/></a>

            brojac++;
    return brojac;
}
std::vector&lt;std::set&lt;std::string&gt;&gt; Razvrstavanje(std::vector&lt;std::string&gt; imena, int k) {
</font>    if(k &lt; 1 || k &gt; imena.size()) throw std::logic_error("Razvrstavanje nemoguce");
    std::vector&lt;std::set&lt;std::string&gt;&gt; v(k);
    int n (imena.size());
    std::shared_ptr&lt;Dijete&gt; pocetak (std::make_shared&lt;Dijete&gt;());
    pocetak = nullptr;
    std::shared_ptr&lt;Dijete&gt; prosli, kraj;
    try{
        for(int i = 0; i &lt; n; i++) {
            std::shared_ptr&lt;Dijete&gt; novo (std::make_shared&lt;Dijete&gt;());
          novo-&gt;ime = imena[i];
          novo-&gt;sljedeci = nullptr;
          if(!pocetak) pocetak = novo;
          else prosli-&gt;sljedeci = novo;
          if(i == n-1) {
              novo-&gt;sljedeci = pocetak;
                kraj = novo;
            }
            prosli = novo;
        }
        int brojac(DuzinaImena(pocetak-&gt;ime)), br_tima(0),  br_clana(0), br_djece(n);
        auto pok(pocetak);
        for(int i = 0; i &lt; n; i++) {
            v[br_tima].insert(pok-&gt;ime);
            br_clana++;
            if((br_tima &lt;= n%k -1 &amp;&amp; br_clana == n/k +1) || (br_tima &gt; n%k -1 &amp;&amp; br_clana == n/k)) {
                br_tima++;
                br_clana = 0;
            }
            auto tmp(pok), tmp2(pok);
            for(int j = 0; j &lt; br_djece-1; j++)
                tmp = tmp-&gt;sljedeci;
            tmp -&gt; sljedeci = pok -&gt; sljedeci;
            br_djece--;
            for(int i = 0; i &lt; brojac; i++)
                pok = pok -&gt; sljedeci;
            brojac = DuzinaImena(pok-&gt;ime);
            if(!br_djece) {pok-&gt;sljedeci = nullptr;pok = nullptr;}
        }
        return v;
    }
    catch(std::bad_alloc) {
        throw;
    }
}
int main ()
{
<a name="3"></a><font color="#00FFFF"><a href="match894-0.html#3" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_4.gif"/></a>

    std::cout &lt;&lt; "Unesite broj djece: ";
    int n;
    std::cin &gt;&gt; n;
    std::cin.ignore(10000, '\n');
    std::vector&lt;std::string&gt; v(n);
</font>    std::cout &lt;&lt; "Unesite imena djece:\n";
    for(int i = 0; i &lt; n; i++)
        getline(std::cin, v[i]);
    std::cout &lt;&lt; "Unesite broj timova: ";
    int k;
    std::cin &gt;&gt; k;
<a name="1"></a><font color="#00FF00"><a href="match894-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_4.gif"/></a>

    try {
        auto timovi(Razvrstavanje(v, k));
        for(int i = 0; i &lt; k; i++) {
            std::cout &lt;&lt; "Tim "&lt;&lt; i+1 &lt;&lt; ": ";
</font>            auto it(timovi[i].begin());
            while(it != timovi[i].end()) {
                std::cout &lt;&lt; *it;
                if(++it != timovi[i].end())
                    std::cout &lt;&lt; ", ";
            }
            std::cout &lt;&lt; std::endl;
        }
    }
    catch(std::logic_error e) {
        std::cout &lt;&lt; "Izuzetak: " &lt;&lt; e.what();
    }
    catch(std::bad_alloc) {
        
    }
	return 0;
}</pre>
</body>
</html>
