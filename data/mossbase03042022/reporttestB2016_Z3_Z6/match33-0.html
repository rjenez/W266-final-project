<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z6/student3386.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z6/student3386.cpp<p></p><pre>
<a name="0"></a><font color="#FF0000"><a href="match33-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_99.gif"/></a>

/B2016/2017: ZadaÄ‡a 3, Zadatak 6
#include &lt;iostream&gt;
#include &lt;vector&gt;
#include &lt;string&gt;
#include &lt;set&gt;
#include &lt;memory&gt;
#include &lt;stdexcept&gt;

using std::set;
using std::cin;
using std::cout;
using std::string;
using std::vector;
using std::shared_ptr;
struct Dijete
{
    string ime;
    shared_ptr&lt;Dijete&gt; sljedeci;
};
bool SlBr(char a)
{
    return ((a&gt;='A' and a&lt;='Z')or(a&gt;='a' and a&lt;='z')or(a&gt;='0' and a&lt;='9'));
}
vector&lt;set&lt;string&gt;&gt; Razvrstavanje(vector&lt;string&gt; v,int n)
{
    if(n&lt;1 or n&gt;v.size())
        throw std::logic_error("Razvrstavanje nemoguce");
    int broj_vel_timova(v.size()%n);
    int broj_vel_clanova(v.size()/n+1);
    int preostali_clanovi(v.size()/n);
    shared_ptr&lt;Dijete&gt; pocetak(nullptr),prethodni(nullptr);
    auto it=v.begin();
    vector&lt;set&lt;string&gt;&gt; vracam(n);
    if(v.size()==1)
    {
        string pomoc(*it);
        shared_ptr&lt;Dijete&gt; novi(std::make_shared&lt;Dijete&gt;());
        novi-&gt;ime=pomoc;
        novi-&gt;sljedeci=nullptr;
        vracam[0].insert(pomoc);
        novi=nullptr;
        return vracam;
    }
    for(int i=0;i&lt;v.size()-1;i++)
    {
        string pomoc(*it++);
        shared_ptr&lt;Dijete&gt; novi(std::make_shared&lt;Dijete&gt;());
        novi-&gt;ime=pomoc;
        novi-&gt;sljedeci=nullptr;
        if(!pocetak)
            pocetak=novi;
        else
            prethodni-&gt;sljedeci=novi;
        prethodni=novi;
    }
    shared_ptr&lt;Dijete&gt; zadnji(std::make_shared&lt;Dijete&gt;());
    prethodni-&gt;sljedeci=zadnji;
    zadnji-&gt;ime=*it;
    zadnji-&gt;sljedeci=pocetak;
    string pomoc;
    int j=0;
    int duzina(0);
    shared_ptr&lt;Dijete&gt; pok=pocetak;
    shared_ptr&lt;Dijete&gt; prosli=zadnji;
    while(pok!=nullptr)
    {
        for(int i=0;i&lt;pomoc.size();i++)
            if(SlBr(pomoc[i]))
                duzina++;
        for(int i=0;i&lt;duzina-1;i++)
        {
            if(duzina==0)
                break;
            prosli=pok;
            pok=pok-&gt;sljedeci;
        }
        if(pok-&gt;sljedeci==pok)
            pok-&gt;sljedeci=nullptr;
        pomoc=pok-&gt;ime;
        duzina=0;
        if(vracam[j].size()&lt;broj_vel_clanova and j&lt;broj_vel_timova)
            vracam[j].insert(pomoc);
        else if(vracam[j].size()&gt;=broj_vel_clanova and j&lt;broj_vel_timova)
        {
            j++;
            if(vracam[j].size()&lt;broj_vel_clanova and j&lt;broj_vel_timova)
                vracam[j].insert(pomoc);
        }
        if(vracam[j].size()&lt;preostali_clanovi and j&gt;=broj_vel_timova)
            vracam[j].insert(pomoc);
        else if(vracam[j].size()&gt;=preostali_clanovi and j&gt;=broj_vel_timova)
        {
            j++;
            vracam[j].insert(pomoc);
        }
        if(pok-&gt;sljedeci==nullptr)
        {
            pok=nullptr;
            break;
        }
        prosli-&gt;sljedeci=pok-&gt;sljedeci;
        pok-&gt;sljedeci=nullptr;
        pok=nullptr;
        pok=prosli-&gt;sljedeci;
    }
    return vracam;
}
int main ()
{
    cout&lt;&lt;"Unesite broj djece: ";
    int n;
    cin&gt;&gt;n;
    cout&lt;&lt;"Unesite imena djece: ";
    vector&lt;string&gt; v(n);
    cin.ignore(1000,'\n');
    for(int i=0;i&lt;v.size();i++)
        getline(cin,v[i]);
    cout&lt;&lt;"\nUnesite broj timova: ";
    int x;
    cin&gt;&gt;x;
    try{
    auto a=Razvrstavanje(v,x);
    auto it=a.begin();
    int j=1;
    for(int i=0;i&lt;a.size();i++)
    {
        auto f=*it++;
        auto s=f.begin();
        cout&lt;&lt;"Tim "&lt;&lt;j&lt;&lt;": ";
        for(int i=0;i&lt;f.size()-1;i++)
        {    if(f.size()==1)
                break;
            else
                cout&lt;&lt;*s++&lt;&lt;", ";}
        cout&lt;&lt;*s&lt;&lt;"\n";
        j++;
    }
    }
    catch(std::logic_error e)
    {
        cout&lt;&lt;"Izuzetak: "&lt;&lt;e.what();
    }
	return 0;
</font>}</pre>
</body>
</html>
