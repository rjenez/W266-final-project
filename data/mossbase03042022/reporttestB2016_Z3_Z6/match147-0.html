<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z6/student3671.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z3/Z6/student3671.cpp<p></p><pre>
<a name="0"></a><font color="#FF0000"><a href="match147-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_97.gif"/></a>

/B2016/2017: ZadaÄ‡a 3, Zadatak 6
#include &lt;iostream&gt;
#include &lt;vector&gt;
#include &lt;string&gt;
#include &lt;set&gt;
#include &lt;stdexcept&gt;
#include &lt;memory&gt;

struct Dijete {
    std::string ime;
    std::shared_ptr&lt;Dijete&gt; sljedeci;
};

int BrojSlova(std::string s){
    int i(0), brojac(0);
    while(i!=s.length()){
        if((s[i]&gt;='A' &amp;&amp; s[i]&lt;='Z') || (s[i]&gt;='a' &amp;&amp; s[i]&lt;='z') || (s[i]&gt;='0' &amp;&amp; s[i]&lt;='9'))
            brojac++;
        i++;
    }
    return brojac;
}

std::vector&lt;std::set&lt;std::string&gt;&gt; Razvrstavanje(std::vector&lt;std::string&gt; s, int brojTimova) {
    if(brojTimova&lt;1 || brojTimova&gt;s.size()) {
        throw std::logic_error ("Razvrstavanje nemoguce");
    }
    
    std::vector&lt;std::set&lt;std::string&gt;&gt; p(brojTimova);
    std::shared_ptr&lt;Dijete&gt; pocetni(nullptr), trenutni(nullptr);
    
    for (auto x : s) {
        std::shared_ptr&lt;Dijete&gt; novi = std::make_shared&lt;Dijete&gt;();
        novi-&gt;ime = x;
        novi-&gt;sljedeci = pocetni;
        
        if (pocetni == nullptr) {
            pocetni = novi;
            trenutni = novi;
        } else {
            trenutni-&gt;sljedeci = novi;
            trenutni = novi;
        }
    }

    int korak(0), tim(0), max;
    trenutni = pocetni;
    while (true) {
        while (korak != 0) {
            korak--;
            trenutni = trenutni-&gt;sljedeci;
        }
        p[tim].insert(trenutni-&gt;ime);
        korak = BrojSlova(trenutni-&gt;ime) - 1;
        
        if (trenutni == trenutni-&gt;sljedeci) {
            trenutni-&gt;sljedeci = nullptr;
            break;
        }
        
        auto pom(trenutni);
        while (pom-&gt;sljedeci != trenutni) {
            pom = pom-&gt;sljedeci;
        }
        pom-&gt;sljedeci = trenutni-&gt;sljedeci;
        trenutni = trenutni-&gt;sljedeci;

        if ((tim+1) &lt;= (s.size() % brojTimova)) {
            max = s.size() / brojTimova + 1;
        } else {
            max = s.size() / brojTimova;
        }
        if (p[tim].size() == max) {
            tim++;
        }

        
    }
    return p;
}

int main ()
{
    try {
        int n, m;
        std::vector&lt;std::string&gt; s;
        std::cout&lt;&lt;"Unesite broj djece: ";
        std::cin&gt;&gt; n;
        std::cin.ignore(100, '\n');
        std::cout&lt;&lt;"Unesite imena djece: "&lt;&lt;std::endl;
        s.resize(n);
        for(int i=0; i&lt;n; i++){
            getline(std::cin,s[i]);
        }
        std::cout&lt;&lt;"Unesite broj timova: ";
        std::cin&gt;&gt; m;
        std::vector&lt;std::set&lt;std::string&gt;&gt; p = Razvrstavanje(s, m);
        for (int i = 0; i &lt; p.size(); i++) {
            std::string ispis = "Tim " + std::to_string(i+1) + ": ";
            for (auto x : p[i]) {
                ispis += x + ", ";
            }
            std::cout &lt;&lt; ispis.substr(0, ispis.length()-2) &lt;&lt; std::endl;
        }
        
    } catch(std::logic_error error) {
        std::cout&lt;&lt;"Izuzetak: "&lt;&lt;error.what();
    }
	return 0;
</font>}</pre>
</body>
</html>
