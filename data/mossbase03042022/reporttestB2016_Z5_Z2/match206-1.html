<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z5/Z2/student8964.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z5/Z2/student4973.cpp<p></p><pre>
<a name="0"></a><font color="#FF0000"><a href="match206-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_92.gif"/></a>

/B16/17 (ZadaÄ‡a 5, Zadatak 1)
//Autotestovi by Eldar Kurtic (mail: ekurtic3@etf.unsa.ba)
//Za autotestove se obracati *iskljucivo* osobi koja ih pise

#include &lt;iostream&gt;
#include &lt;string&gt;
#include &lt;stdexcept&gt;
#include &lt;map&gt;
#include &lt;iomanip&gt;
#include &lt;memory&gt;

using namespace std;

struct Korisnik {
    string ime;
    string prezime;
    string adresa;
    string telefon;

    Korisnik(string ime,string prezime,string adresa,string telefon):
        ime(ime),prezime(prezime),adresa(adresa),telefon(telefon) {};
    friend bool operator ==(Korisnik a, Korisnik b) {
        return a.ime==b.ime &amp;&amp; a.prezime==b.prezime &amp;&amp; a.adresa==b.adresa &amp;&amp; a.telefon==b.telefon;
    }
    void Ispisi() {
        cout&lt;&lt;"Ime i prezime: "&lt;&lt;ime&lt;&lt;" "&lt;&lt;prezime&lt;&lt;endl;
        cout&lt;&lt;"Adresa: "&lt;&lt;adresa&lt;&lt;endl;
        cout&lt;&lt;"Broj telefona: "&lt;&lt;telefon&lt;&lt;endl&lt;&lt;endl;
    }

};


class Knjiga
{
    string naslov;
    string imepisca;
    string zanr;
    int godinaizdavanja;
    Korisnik *kod_koga_je;

public:
    Knjiga(string naslov,string imepisca,string zanr,int godinaizdavanja):
        naslov(naslov),imepisca(imepisca),zanr(zanr),godinaizdavanja(godinaizdavanja),kod_koga_je(nullptr) {}
    string DajNaslov() const {
        return naslov;
    }
    string DajAutora() const {
        return imepisca;
    }
    string DajZanr() const {
        return zanr;
    }
    int DajGodinuIzdavanja() const {
        return godinaizdavanja;
    }
    Korisnik *DajKodKogaJe()const {
        return kod_koga_je;
    }
    void ZaduziKnjigu(Korisnik &amp;k) {
        kod_koga_je=&amp;k;
    }
    void RazduziKnjigu() {
        kod_koga_je=nullptr;
    }
    bool DaLiJeZaduzena() const {
        if(kod_koga_je==nullptr) return false;
        return true;
    }
    void Ispisi() const;
};

void Knjiga::Ispisi() const
{
    cout&lt;&lt;"Naslov: "&lt;&lt;DajNaslov()&lt;&lt;endl;
    cout&lt;&lt;"Pisac: "&lt;&lt;DajAutora()&lt;&lt;endl;
    cout&lt;&lt;"Zanr: "&lt;&lt;DajZanr()&lt;&lt;endl;
    cout&lt;&lt;"Godina izdavanja: "&lt;&lt;DajGodinuIzdavanja()&lt;&lt;endl;
    if(DajKodKogaJe()!=nullptr)
        cout&lt;&lt;"Zaduzena kod korisnika: "&lt;&lt;DajKodKogaJe()-&gt;ime&lt;&lt;" "&lt;&lt;DajKodKogaJe()-&gt;prezime&lt;&lt;endl;
    cout&lt;&lt;endl;
}


class Biblioteka
{

    map&lt;int,shared_ptr&lt;Korisnik&gt;&gt;m1;
    map&lt;int,shared_ptr&lt;Knjiga&gt;&gt;m2;


public:
    Biblioteka() {};
    Biblioteka(Biblioteka &amp;b)=delete;
    Biblioteka &amp;operator=(Biblioteka &amp;b)=delete;
    ~Biblioteka() {
        for(auto i=m1.begin(); i!=m1.end(); i++)
            i-&gt;second=nullptr;

        for(auto i=m2.begin(); i!=m2.end(); i++)
            i-&gt;second=nullptr;
    }
    void RegistrirajNovogKorisnika(int clanski_broj,string ime,string prezime,string adresa,string telefon) {
        m1.insert(make_pair(clanski_broj,make_shared&lt;Korisnik&gt;(ime,prezime,adresa,telefon)));
    }
    void RegistrirajNovuKnjigu(int evidencijski_broj,string naslov,string imepisca,string zanr,int godinaizdavanja) {
        m2.insert(make_pair(evidencijski_broj,make_shared&lt;Knjiga&gt;(naslov,imepisca,zanr,godinaizdavanja)));
    }
    Korisnik &amp;NadjiKorisnika(int clanski_broj) {
        return *m1[clanski_broj];
    }
    Knjiga &amp;NadjiKnjigu(int evidencijski_broj) {
        return *m2[evidencijski_broj];
    }
    void IzlistajKorisnike() const {
        for(auto i:m1) {
            cout&lt;&lt;"Clanski broj: "&lt;&lt;i.first&lt;&lt;endl;
            i.second-&gt;Ispisi();
        }
    }
    void IzlistajKnjige() const {
        for(auto i:m2) {
            cout&lt;&lt;"Evidencijski broj: "&lt;&lt;i.first&lt;&lt;endl;
            i.second-&gt;Ispisi();
        }
    }
    void ZaduziKnjigu(int indexa,int indexb) {
        m2[indexa]-&gt;ZaduziKnjigu(*m1[indexb]);
    }
    void RazduziKnjigu(int index) {
        m2[index]-&gt;RazduziKnjigu();
    }
    void PrikaziZaduzenje(int index) {
        for(auto i:m2) {
            if(*m1[index]==*i.second-&gt;DajKodKogaJe()) {
                cout&lt;&lt;"Naslov: "&lt;&lt;i.second-&gt;DajNaslov()&lt;&lt;endl;
                cout&lt;&lt;"Pisac: "&lt;&lt;i.second-&gt;DajAutora()&lt;&lt;endl;
</font><a name="1"></a><font color="#00FF00"><a href="match206-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_3.gif"/></a>

                cout&lt;&lt;"Zanr: "&lt;&lt;i.second-&gt;DajZanr()&lt;&lt;endl;
                cout&lt;&lt;"Godina izdavanja: "&lt;&lt;i.second-&gt;DajGodinuIzdavanja()&lt;&lt;endl;
                cout&lt;&lt;endl;
            }
        }
    }
};


int main ()
</font>{


    return 0;
}</pre>
</body>
</html>
