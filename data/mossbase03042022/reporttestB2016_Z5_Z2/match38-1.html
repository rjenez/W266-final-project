<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z5/Z2/student1482.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z5/Z2/student3136.cpp<p></p><pre>
<a name="0"></a><font color="#FF0000"><a href="match38-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_99.gif"/></a>

/B16/17 (ZadaÄ‡a 5, Zadatak 2)
//Autotestovi by Eldar Kurtic (mail: ekurtic3@etf.unsa.ba)
//Za autotestove se obracati *iskljucivo* osobi koja ih pise
#include &lt;iostream&gt;
#include &lt;tuple&gt;
#include &lt;stdexcept&gt;
#include &lt;cmath&gt;
#include &lt;vector&gt;
#include &lt;algorithm&gt;
#include &lt;memory&gt;
using namespace std;
const double epsilon=0.0000000001;
const double PI=4*atan(1.);
class Kugla{
    private:
    double x,y,z,r;
    public:
  explicit Kugla(double r=0){if(r&lt;0) throw domain_error("Ilegalan poluprecnik"); Kugla::x=0;Kugla::y=0;Kugla::z=0; Kugla::r=r;}
  
  Kugla(double x,double y,double z,double r=0){ if(r&lt;0) throw domain_error("Ilegalan poluprecnik"); Kugla::x=x; Kugla::y=y; Kugla::z=z; Kugla::r=r;}
  
  explicit Kugla(const tuple&lt;double,double,double&gt;&amp;centar,double r=0){ 
      if(r&lt;0) throw domain_error("Ilegalan poluprecnik"); Kugla::x=get&lt;0&gt;(centar);
      Kugla::y=get&lt;1&gt;(centar);
      Kugla::z=get&lt;2&gt;(centar);
      Kugla::r=r;
  }
  
  double DajX() const { return x;}
  double DajY() const { return y;}
  double DajZ() const { return z;}
  tuple&lt;double,double,double&gt;DajCentar() const { return make_tuple(Kugla::x,Kugla::y,Kugla::z);}
  double DajPoluprecnik() const { return r;}
  double DajPovrsinu() const { return 4.*r*r*PI;}
  double DajZapreminu() const { return (4./3)*r*r*r*PI;}
  Kugla &amp;PostaviX(double x){ Kugla::x=x; return *this;}
  Kugla &amp;PostaviY(double y){ Kugla::y=y; return *this;}
  Kugla &amp;PostaviZ(double z){ Kugla::z=z; return *this;}
  Kugla &amp;PostaviCentar(double x,double y,double z){ Kugla::x=x; Kugla::y=y; Kugla::z=z; return *this;}
  Kugla &amp;PostaviCentar(tuple&lt;double,double,double&gt;&amp;centar){ Kugla::x=get&lt;0&gt;(centar); Kugla::y=get&lt;1&gt;(centar); Kugla::z=get&lt;2&gt;(centar); return *this;}
  Kugla &amp;PostaviPoluprecnik(double r){ if(r&lt;0) throw domain_error("Ilegalan poluprecnik"); Kugla::r=r; return *this;}
  void Ispisi() const{ cout&lt;&lt;"{("&lt;&lt;x&lt;&lt;","&lt;&lt;y&lt;&lt;","&lt;&lt;z&lt;&lt;"),"&lt;&lt;r&lt;&lt;"}"&lt;&lt;endl;}
  void Transliraj(double delta_x,double delta_y,double delta_z){ Kugla::x+=delta_x; Kugla::y+=delta_y; Kugla::z+=delta_z;}
  friend bool DaLiSuIdenticne(const Kugla &amp;k1,const Kugla &amp;k2);
  friend bool DaLiSuPodudarne(const Kugla &amp;k1,const Kugla &amp;k2);
  friend bool DaLiSuKoncentricne(const Kugla &amp;k1,const Kugla &amp;k2);
  friend bool DaLiSeDodirujuIzvana(const Kugla &amp;k1,const Kugla &amp;k2);
  friend bool DaLiSeDodirujuIznutra(const Kugla &amp;k1,const Kugla &amp;k2);
  friend bool DaLiSePreklapaju(const Kugla &amp;k1,const Kugla &amp;k2);
  friend bool DaLiSeSijeku(const Kugla &amp;k1,const Kugla &amp;k2);
  bool DaLiSadrzi(const Kugla &amp;k) const{
    tuple&lt;double,double,double&gt;t(k.DajCentar());
    //provjeriti za dodirivanje iznutra
    double d=sqrt((Kugla::x-get&lt;0&gt;(t))*(Kugla::x-get&lt;0&gt;(t))+(Kugla::y-get&lt;1&gt;(t))*(Kugla::y-get&lt;1&gt;(t))+(Kugla::z-get&lt;2&gt;(t))*(Kugla::z-get&lt;2&gt;(t)));
    if(d&lt;fabs(Kugla::r-k.DajPoluprecnik())) return true;
    return false;
}
   friend double RastojanjeCentara(const Kugla &amp;k1,const Kugla &amp;k2);
};
bool DaLiSuIdenticne(const Kugla &amp;k1,const Kugla &amp;k2){
    tuple&lt;double,double,double&gt;t1(k1.DajCentar());
    tuple&lt;double,double,double&gt;t2(k2.DajCentar());
    double r1(k1.DajPoluprecnik());
    double r2(k2.DajPoluprecnik());
    if(fabs(r1-r2)&lt;epsilon*(fabs(r1)+fabs(r2)) &amp;&amp; t1==t2) return true; 
    return false;
}
bool DaLiSuPodudarne(const Kugla &amp;k1,const Kugla &amp;k2){
    if(fabs(k1.DajPoluprecnik()-k2.DajPoluprecnik())&lt;epsilon*(fabs(k1.DajPoluprecnik())+fabs(k2.DajPoluprecnik()))) return true; 
    return false;
}
bool DaLiSuKoncentricne(const Kugla &amp;k1,const Kugla &amp;k2){
    if(k1.DajCentar()==k2.DajCentar()) return true;  
    return false;
}
bool DaLiSeDodirujuIzvana(const Kugla &amp;k1,const Kugla &amp;k2){
      return (fabs(k1.DajPoluprecnik()+k2.DajPoluprecnik()-RastojanjeCentara(k1,k2))&lt;epsilon*(fabs(k1.DajPoluprecnik()+k2.DajPoluprecnik())+fabs(RastojanjeCentara(k1,k2))));
}
bool DaLiSeDodirujuIznutra(const Kugla &amp;k1,const Kugla &amp;k2){
    return (fabs(k1.DajPoluprecnik()-k2.DajPoluprecnik())-RastojanjeCentara(k1,k2))&lt;epsilon*(fabs(k1.DajPoluprecnik()-k2.DajPoluprecnik())+RastojanjeCentara(k1,k2));
}
bool DaLiSePreklapaju(const Kugla &amp;k1,const Kugla &amp;k2){
    if(DaLiSeSijeku(k1,k2)) return true;
    return false;
} 
bool DaLiSeSijeku(const Kugla &amp;k1,const Kugla &amp;k2){
    if(k1.DajPoluprecnik()+k2.DajPoluprecnik()&gt;RastojanjeCentara(k1,k2) &amp;&amp; fabs(k1.DajPoluprecnik()-k2.DajPoluprecnik())&lt;RastojanjeCentara(k1,k2)) return true;
    return false;
}
double RastojanjeCentara(const Kugla &amp;k1,const Kugla &amp;k2){
    tuple&lt;double,double,double&gt;t1(k1.DajCentar());
    tuple&lt;double,double,double&gt;t2(k2.DajCentar());
    return sqrt((get&lt;0&gt;(t1)-get&lt;0&gt;(t2))*(get&lt;0&gt;(t1)-get&lt;0&gt;(t2))+(get&lt;1&gt;(t1)-get&lt;1&gt;(t2))*(get&lt;1&gt;(t1)-get&lt;1&gt;(t2))+(get&lt;2&gt;(t1)-get&lt;2&gt;(t2))*(get&lt;2&gt;(t1)-get&lt;2&gt;(t2)));
} 
int main ()
{
    cout&lt;&lt;"Unesite broj kugla: ";
    int n;
    cin&gt;&gt;n;
    while(!cin || n&lt;=0){
         cout&lt;&lt;"Neispravan broj kugli, unesite ponovo!"&lt;&lt;endl;
         cin.clear(); 
         cin.ignore(10000, '\n'); 
         cin&gt;&gt;n;
    }
    vector&lt;shared_ptr&lt;Kugla&gt;&gt;v(n);//*
    double x,y,z,r;
    for(int i=0;i&lt;n;i++){
        cout&lt;&lt;"Unesite centar "&lt;&lt;i+1&lt;&lt;". kugle: ";
        cin&gt;&gt;x&gt;&gt;y&gt;&gt;z;
        while(!cin){
         cout&lt;&lt;"Neispravan centar"&lt;&lt;endl;
         cin.clear(); 
         cin.ignore(10000, '\n'); 
         cout&lt;&lt;"Unesite centar "&lt;&lt;i+1&lt;&lt;". kugle: ";
         cin&gt;&gt;x&gt;&gt;y&gt;&gt;z;
    } 
    
        cout&lt;&lt;"Unesite poluprecnik "&lt;&lt;i+1&lt;&lt;". kugle: ";
        cin&gt;&gt;r;
               while(!cin || r&lt;0){
         cout&lt;&lt;"Ilegalan poluprecnik"&lt;&lt;endl;
         cin.clear(); 
         cin.ignore(10000, '\n'); 
         cout&lt;&lt;"Unesite centar "&lt;&lt;i+1&lt;&lt;". kugle: ";
         cin&gt;&gt;x&gt;&gt;y&gt;&gt;z; 
         cout&lt;&lt;"Unesite poluprecnik "&lt;&lt;i+1&lt;&lt;". kugle: ";
         cin&gt;&gt;r;
    } 
       Kugla k(x,y,z,r);
        v.push_back(make_shared&lt;Kugla&gt;(k));
    }
    cout&lt;&lt;"Unesite parametre translacije (delta_x,delta_y,delta_z): ";
    double dx,dy,dz;
    cin&gt;&gt;dx;
    cin&gt;&gt;dy;
    cin&gt;&gt;dz;
    transform(v.begin(),v.end(),v.begin(),[dx,dy,dz](shared_ptr&lt;Kugla&gt;k){k-&gt;Transliraj(dx,dy,dz); return k;});
    sort(v.begin(),v.end(),[](shared_ptr&lt;Kugla&gt;k1,shared_ptr&lt;Kugla&gt;k2){return k1-&gt;DajZapreminu()&lt;k2-&gt;DajZapreminu();});
    cout&lt;&lt;"Kugle nakon obavljenje transformacije imaju sljedece vrijednosti:"&lt;&lt;endl;
    for_each(v.begin(),v.end(),[](shared_ptr&lt;Kugla&gt;k){k-&gt;Ispisi();});
    auto pok=max_element(v.begin(),v.end(),[](shared_ptr&lt;Kugla&gt;k1,shared_ptr&lt;Kugla&gt;k2){return k1-&gt;DajPovrsinu()&lt;k2-&gt;DajPovrsinu();});
    cout&lt;&lt;"Kugla sa najvecom povrsinom je: ";(*pok)-&gt;Ispisi();
    vector&lt;pair&lt;shared_ptr&lt;Kugla&gt;,shared_ptr&lt;Kugla&gt;&gt;&gt;v1;
    for_each(v.begin(),v.end(),[&amp;v1,v](shared_ptr&lt;Kugla&gt;p1){
        for_each(v.begin(),v.end(),[&amp;v1,v,p1](shared_ptr&lt;Kugla&gt;p2){
            if(DaLiSeSijeku(*p1,*p2) &amp;&amp; v1.size()==0) v1.push_back(make_pair(p1,p2));
            else if(DaLiSeSijeku(*p1,*p2) &amp;&amp; v1.size()&gt;0){
                int a(0);
                for_each(v1.begin(),v1.end(),[p1,p2,&amp;a](pair&lt;shared_ptr&lt;Kugla&gt;,shared_ptr&lt;Kugla&gt;&gt;par){
                    if((par).first==p2 &amp;&amp; (par).second==p1) a++;});
                    if(a==0) v1.push_back(make_pair(p1,p2));
                    else a=0;
            }
            ;});
        ;});
        for_each(v1.begin(),v1.end(),[](pair&lt;shared_ptr&lt;Kugla&gt;,shared_ptr&lt;Kugla&gt;&gt;k){cout&lt;&lt;"Presjecaju se kugle: ";(k).first-&gt;Ispisi();(k).second-&gt;Ispisi();});
        if(v1.size()==0) cout&lt;&lt;"Ne postoje kugle koje se presjecaju!";
	return 0;
</font>}</pre>
</body>
</html>
