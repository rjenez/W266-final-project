<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/A2016/Z4/Z4/student7085.c</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/A2016/Z4/Z4/student4425.c<p></p><pre>
#include &lt;stdio.h&gt;
#include &lt;math.h&gt;
#define EPS 0.0001

struct Tacka {
	int x_main;
	int y_main;
	int x_dec;
	int y_dec;
	int neg;
	float x;
	float y;
};

int stepenuj (int counter) {
	int vrati;
	if (counter == 0) vrati = 0;
	else if (counter == 1) vrati = 1;
	else if (counter != 1) vrati = pow (10, counter-1);
	return vrati;
}

int IsInside (float x, float y, float x1, float y1, float x2, float y2) {
	int flag = 0;
	if (x &gt;= x1 - EPS &amp;&amp; x &lt;= x2 + EPS &amp;&amp; y &gt;= y1 - EPS &amp;&amp; y &lt;= y2 + EPS) flag = 1;
	return flag;
}

<a name="0"></a><font color="#FF0000"><a href="match672-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_2.gif"/></a>

char* obuhvat (char* string, float x1, float y1, float x2, float y2) {
	char* vrati = string, *pocetak, *kraj, *pocetak_y;
</font>	struct Tacka tacka;	
	int counter, counter_main, counter_dec, IsDec, stepen1, stepen2, power, pripada_li, count=0;
	
	if (*string == '\0') return vrati;

	while (*string != '\0') {
		if (*string != '.' &amp;&amp; *string != ',' &amp;&amp; *string != '-' &amp;&amp; *string != ')' &amp;&amp; *string != '(' &amp;&amp; !(*string &gt;= '0' &amp;&amp; *string &lt;= '9' )) return NULL;
		string++;
		count++;
	}
	
	if(*(string-1)!=')') return NULL;
	string = vrati;
	
	while (*string != '\0') {
		if (*string != '(') return NULL;
		pocetak = string; 
		counter = 1;
		while (*string != ')' &amp;&amp; *string!='\0'){ 
			counter++;
			string++;
		}
		if(*string=='\0') return NULL;
		string = pocetak;
		kraj = string + counter +1;
		string++; 


		/*  KOORDINATA X */
		if (*string == '-') tacka.neg = 1; 
		else tacka.neg = 0; 
		if(*string != '-' &amp;&amp; !(*string &gt;= '0' &amp;&amp; *string &lt;= '9' )) return NULL;
		string = pocetak;

		
		counter_main = 0; IsDec = 0; counter_dec = 0;
		while (*string != ',' &amp;&amp; *string!='\0') {
			if (*string == '.'){
				if(*(string-1)=='(')
					return NULL;
				IsDec = 1;
			}
			if(*string == '\0') return NULL;
			string++;
		}
		string++;
		if(!(*string &gt;= '0' &amp;&amp; *string &lt;= '9') &amp;&amp; *string!='-')return NULL;
		string = pocetak;
		string++;
		
		if (IsDec == 0) {
			while (*string != ',') {
				if(*string=='-'){
					tacka.neg=1;
					string++;
					if(*string=='-')
						return NULL;
					continue;
				}
				if (*string &gt;= '0' &amp;&amp; *string &lt;= '9') counter_main++;
				else 
					return NULL;
				string++;
			}
		} 
		else if (IsDec == 1) {
			while (*string != '.') {
				if(*string=='-'){
					tacka.neg=1;
					string++;
					if(*string=='-')
						return NULL;
					continue;
				}
				if (*string &gt;= '0' &amp;&amp; *string &lt;= '9') counter_main++;
				else return NULL; 
				string++;
			}
			string++; 
			while (*string != ',') {
				if (*string &gt;= '0' &amp;&amp; *string &lt;= '9') counter_dec++;
				else return NULL; 
				string++;
			}
		}
		string = pocetak;
		
		stepen1 = stepenuj(counter_main);
		stepen2 = pow(10, counter_dec); 
		power = stepen2;
		stepen2 = stepenuj(counter_dec);
		tacka.x_main = 0; tacka.x_dec = 0;
		if (IsDec == 0) {
			while (*string != ',') { 
				if (*string &gt;= '0' &amp;&amp; *string &lt;= '9') {
					tacka.x_main += stepen1 * ((int)(*string)-'0');
					stepen1/=10;
				}
				string++;
			}
			if (tacka.neg == 0) tacka.x = tacka.x_main;
			else if (tacka.neg == 1) tacka.x = - tacka.x_main;
		}
		else if (IsDec == 1) {
			while (*string != '.') {
				if (*string &gt;= '0' &amp;&amp; *string &lt;= '9') {
					tacka.x_main += stepen1 * ((int)(*string)-'0');
					stepen1/=10;
				}
				string++;
			}
			string++; 
			while (*string != ',') {
				if (*string &gt;= '0' &amp;&amp; *string &lt;= '9') {
					tacka.x_dec += stepen2 * ((int)(*string)-'0');
					stepen2/=10;
				}
				string++;
			}
			tacka.x = tacka.x_main + 1.0*tacka.x_dec/power; 
			if (tacka.neg == 1) tacka.x = - tacka.x;
		}
		
		/* KOORDINATA Y */
		
		
		string++;
		pocetak_y = string;
		if (*string == '-') tacka.neg = 1;  
		else tacka.neg = 0; 
		if(*string != '-' &amp;&amp; !(*string &gt;= '0' &amp;&amp; *string &lt;= '9' )) return NULL;

		counter_main = 0; IsDec = 0; counter_dec = 0;
		while (*string != ')' &amp;&amp; *string !='\0') {
			if (*string == '.'){
				if(*(string-1)==',')
					return NULL;
				IsDec = 1;
			}
			if(*string=='\0')
				return NULL;
			string++;
		} 
		string = pocetak_y;

		if (IsDec == 0) {
			while (*string != ')') {
				if(*string=='-'){
					tacka.neg=1;
					string++;
					if(*string=='-')
						return NULL;
					continue;
				}
				if (*string &gt;= '0' &amp;&amp; *string &lt;= '9') counter_main++;
				else 
					return NULL;
				string++;
			}
		}
			
		else if (IsDec == 1) {
			while (*string != '.') {
				if(*string=='-'){
					string++;
					if(*string=='-')
						return NULL;
					continue;
				}
				if (*string &gt;= '0' &amp;&amp; *string &lt;= '9') counter_main++;
				else return NULL; 
				string++;
			}
			string++; 
			while (*string != ')') {
				if (*string &gt;= '0' &amp;&amp; *string &lt;= '9') counter_dec++;
				else return NULL; 
				string++;
			}
		}
		string = pocetak_y;
		
		stepen1 = stepenuj(counter_main); 
		stepen2 = pow(10, counter_dec); 
		power = stepen2;
		stepen2 = stepenuj(counter_dec);
		tacka.y_main = 0; tacka.y_dec = 0;
		if (IsDec == 0) {
			while (*string != ')') {
				if (*string &gt;= '0' &amp;&amp; *string &lt;= '9') {
					tacka.y_main += stepen1 * ((int)(*string)-'0');
					stepen1/=10;
				}
				string++;
			}
			if (tacka.neg == 0) tacka.y = tacka.y_main;
			else if (tacka.neg == 1) tacka.y = - tacka.y_main;
		}
		else if (IsDec == 1) {
			while (*string != '.') {
				if (*string &gt;= '0' &amp;&amp; *string &lt;= '9') {
					tacka.y_main += stepen1 * ((int)(*string)-'0');
					stepen1/=10;
				}
				string++;
			}
			string++; 
			while (*string != ')') {
				if (*string &gt;= '0' &amp;&amp; *string &lt;= '9') {
					tacka.y_dec += stepen2 * ((int)(*string)-'0');
					stepen2/=10;
				}
				string++;
			}
			tacka.y = tacka.y_main + 1.0*tacka.y_dec/power;
			if (tacka.neg == 1) tacka.y = - tacka.y;
		}

		
		pripada_li = IsInside (tacka.x, tacka.y, x1, y1, x2, y2);
		kraj=string+1;
		if(*kraj==',')
			kraj++;

		if (pripada_li == 0) {
			string=pocetak;
			while (*string != '\0') {
				if(*(string+counter)=='\0'){
					*string='\0';
					string--;}
				else
					*string = *(string+counter+1);
				string++;
			}
			string=pocetak;
		}
		else
		string = kraj;
		if(*string=='\0' &amp;&amp; *(string-1)==',')
			*(string-1)='\0';
		else if(*string==',' &amp;&amp; ((*(string-1)&gt;='0' &amp;&amp; *(string-1)&lt;='9') || *(string-1)=='.'))
			string++;
	}
	
	return vrati;
}

int main() {
	return 0;
}</pre>
</body>
</html>
