<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/A2016/Z4/Z4/student8337.c</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/A2016/Z4/Z4/student8337.c<p></p><pre>
#include &lt;stdio.h&gt;
#include &lt;math.h&gt;
#define EPSILON 0.0001

void unesi(char* s, int velicina){
	char znak = getchar();
	int i;
	if(znak == '\n') znak = getchar();
	i=0;
	while(i&lt;velicina &amp;&amp; znak != '\n'){
		s[i] = znak;
		i++;
		znak = getchar();
	}
	s[i] = '\0';
}

int formatiraj(char* s){
	int zarez=0, tacka=0;
	while(*s != '\0'){
		if((*s&gt;='0' &amp;&amp; *s&lt;='9')||(*s == '.')||(*s == '-')||(*s == ',')||(*s == '(' ) || (*s == ')')){
			
			if(*s == '('){
				tacka = 0;
				zarez = 0;
				s++;
			    while(*s != '\0' &amp;&amp; *s != ')'){
			    	if((*s&gt;='0' &amp;&amp; *s&lt;='9')||(*s == '.')||(*s == '-')||(*s == ',')){
			    		if(*s == '.'){
			    			tacka++;
			    			if(tacka&gt;2) return 0;
			    			if(!(*(s-1)&gt;='0' &amp;&amp; *(s-1)&lt;='9')) return 0;
			    			s++;
			    		}else if(*s == ','){
			    			zarez++;
			    			if(zarez&gt;1) return 0;
			    			if(!(*(s-1)&gt;='0' &amp;&amp; *(s-1)&lt;='9') &amp;&amp; *(s-1) != '.'){
			    				return 0;
			    			}
			    			s++;
			    			
			    			if(!(*s&gt;='0' &amp;&amp; *s&lt;='9') &amp;&amp; (*s != '-')){
			    				 return 0;
			    			}
			    			if(*s == '-'){
			    				s++;
			    				if(!(*s&gt;='0' &amp;&amp; *s&lt;='9')){
			    					return 0;
			    				}
			    			}
			    		}else{
			    			s++;
			    		}
			    		
			    	}else{
			    		return 0;
			    	}
			    }
			    if(zarez == 0) return 0;
			    if(*s == '\0') return 0;
			    if(*s == ')'){
			    	s++;
			    	if(*s == ','){
			    		s++;
			    		continue;
			    	}else if(*s == '\0'){ 
			    		return 1;
			    	}else{
			    		return 0;
			    	}
			    }
			}else{
				return 0;
			}
		}else{
			return 0;
		}
	}
	return 0;
}

<a name="0"></a><font color="#FF0000"><a href="match458-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_2.gif"/></a>

char* obuhvat(char* p, float x1, float y1, float x2, float y2){
	char* pocetak = p;
	char* s;
	char* poc;
</font>	char* kraj;
	int predznak = 1, tacka, k=0;
    float a, b, c, d;

	if(formatiraj(p)){
		
		while(*p != '\0'){
			poc = p;
			s=p;
			if(*p == '('){
				p++;
				a=0; 
				b=0;
				tacka = 0;
				predznak = 1;
				k=0;
				while(*p != '\0' &amp;&amp; *p != ','){
					if(tacka == 0 &amp;&amp; *p != '-' &amp;&amp; *p != '.'){
						a =  a * 10 + *p - '0';
					}else if(*p == '.' || tacka == 1){
						tacka = 1;
						if(*p != '.'){
                       	   k++;
							b = b * 10 + *p - '0';
						}
					}else if(*p == '-'){
						predznak = -1;
					}
					p++;
				}
                a = predznak * (a + (b * pow(10, -k)));
				
			}
			p++;
			c = 0;
			d = 0;
			tacka = 0;
			predznak = 1;
			k=0;
			while(*p != '\0' &amp;&amp; *p != ')'){
		  		if(tacka == 0 &amp;&amp; *p != '.' &amp;&amp; *p != '-'){
		   			c = c * 10 + *p - '0';
		    	}else if(*p == '.' || tacka == 1){
	    			tacka = 1;
	    			if(*p != '.'){
		   				k++;
		   				d = d * 10 + *p - '0';
		   			}
		   		}else if(*p == '-'){
		    		predznak = -1;
		    	}
		    	p++;
		    }
		    c = predznak * (c + (d*pow(10, -k)));

		    p++;
			if(*p != '\0'){
				p++;
				kraj = p;
				if(x1&lt;x2 &amp;&amp; y1&lt;y2){
					if(a&lt;x1 || a&gt;x2 || c&lt;y1 || c&gt;y2){
						while(*poc++ = *kraj++);
						p=s;
					}
				}else if(x1&gt;x2 &amp;&amp; y1&lt;y2){
					if(a&gt;x1 || a&lt;x2 || c&lt;y1 || c&gt;y2){
						while (*poc++ = *kraj++);
						p=s;
					}
				}else if(x1&gt;x2 &amp;&amp; y1&gt;y2){
					if(a&gt;x1 || a&lt;x2 || c&gt;y1 || c&lt;y2){
						while (*poc++ = *kraj++);
						p=s;
					}
				}else if(x1&lt;x2 &amp;&amp; y1&gt;y2){
					if(a&lt;x1 || a&gt;x2 || c&gt;y1 || c&lt;y2){
						while (*poc++ = *kraj++);
						p=s;
					}
				}
			}else{
				kraj = p;
				if(*(poc-1) == ','){
					poc = poc-1;
				}
				
				
				if(x1&lt;x2 &amp;&amp; y1&lt;y2){
					if(a&lt;x1 || a&gt;x2 || c&lt;y1 || c&gt;y2){
						*poc = *kraj;
					}
				}else if(x1&lt;x2 &amp;&amp; y1&gt;y2){
					if(a&lt;x1 || a&gt;x2 || c&gt;y1 || c&lt;y2){
						*poc = *kraj;
					}
				}else if(x1&gt;x2 &amp;&amp; y1&lt;y2){
					if(a&gt;x1 || a&lt;x2 || c&lt;y1 || c&gt;y2){
						*poc = *kraj;
					}
				}else if(x1&gt;x2 &amp;&amp; y1&gt;y2){
					if(a&gt;x1 || a&lt;x2 || c&gt;y1 || c&lt;y2){
						*poc = *kraj;
					}
				}
				break;
			}
		}
	}else{
		*p = '\0';
		return NULL;
	}
	return pocetak;
}

int main() {
	char niz[] = {"(1.1,5.5),(1.2,5.5),(1.3,5.5),(1.4,5.5),(1.5,5.5)"};
	float x1=1.2, y1=5.499, x2=1.4, y2=5.501;
	if(0){
	printf("Unesite string: ");
	unesi(niz, 500);
    printf("Unesite x1, y1, x2 i y2: ");
    scanf("%f", &amp;x1);
    scanf("%f", &amp;y1);
	scanf("%f", &amp;x2);
	scanf("%f", &amp;y2);
    }
	printf("%s", obuhvat(niz, x1, y1, x2, y2));
	return 0;
}
</pre>
</body>
</html>
