<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/A2016/Z4/Z4/student8337.c</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/A2016/Z4/Z4/student5562.c<p></p><pre>
#include &lt;stdio.h&gt;
#include &lt;math.h&gt;
#define E 0.0001

void unesi(char*s, int duzina){
	
	int i = 0;
	char znak = getchar();
	if (znak == '\n') znak = getchar();
	
	while (znak != '\n' &amp;&amp; i &lt; duzina - 1){
		
<a name="0"></a><font color="#FF0000"><a href="match181-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_3.gif"/></a>

		s[i] = znak;
		i++;
		znak = getchar();
	}
	s[i] = '\0';
	
}

int pravilan(char*unos){
    
    int lijevih = 0, desnih = 0, zareza = 0;
</font>    char * p = unos;
    
    /*Prazan string*/
    if (*unos == '\0')
        return 1;
    
    while(*p != '\0'){
        
        /*Ako se nadje znak koji uopste ne spada u opseg koristenih znakova*/
        if (((int)*p &lt; 48 || (int)*p &gt;57) &amp;&amp; *p != '(' &amp;&amp; *p != ')' &amp;&amp; *p != ',' &amp;&amp; *p != '-' &amp;&amp; *p != '.')
            return 0;
            
        /*Ako prvi znak nije otvorena zagrada*/
        if (p == unos &amp;&amp; *p != '(')
            return 0;
            
        /*Ako zadnji znak nije zatvorena zagrada*/
        if (*(p + 1) == '\0' &amp;&amp; *p != ')')
            return 0;
        
        /*Ako se oko zagrada nalaze nedozvoljeni znakovi*/
        if (*p == '('){
            lijevih++;
            if ((p &gt; unos &amp;&amp; *(p - 1) != ',') || (*(p + 1) != '-' &amp;&amp; ((int)*(p + 1) &lt; 48 || (int)*(p + 1) &gt; 57) &amp;&amp; *(p + 1) != '\0'))
                return 0;
        }
        if (*p == ')'){
            desnih++;
            if ((((int)*(p - 1) &lt; 48 || (int)*(p - 1) &gt;57) &amp;&amp; *(p - 1) != '.') || (*(p + 1) != ',' &amp;&amp; *(p + 1) != '\0'))    
                return 0;
        }
        
        /*Ako se oko zareza nalaze nedozvoljeni znakovi*/
        if (*p == ','){
            zareza++;
            if (*(p - 1) == '(' || *(p - 1) == '-' || *(p + 1) == ',' || *(p + 1) == '.' || *(p + 1) == ')')
                return 0;
        }
        
        /*Ako se oko decimala (tacke) nalaze nedozvoljeni znakovi*/
        if (*p == '.')
            if (*(p + 1) == '.' || *(p - 1) == '.' || *(p + 1) == '-' || *(p - 1) == '-')
                return 0;
        
        /*Ponavljanje minusa*/
        if (*p == '-')
            if (*(p + 1) == '-' || *(p - 1) == '-')
                return 0;
        
        /*Broj ne smije biti okruzen decimalima*/
        if(*p &gt;= 48 &amp;&amp; *p &lt;= 57)
            if (*(p + 1) == '.' &amp;&amp; *(p - 1) == '.')
                return 0;
        p++;
        
    }
    
    if (desnih + lijevih - zareza != 1)
<a name="1"></a><font color="#00FF00"><a href="match181-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_3.gif"/></a>

        return 0;
    
    return 1;
}

char* obuhvat(char*unos, float x1, float y1, float x2, float y2){
    
    char*p = unos, *ppoc, *p2;
</font>    float koord[100];
    float cijeli = 0, decimala = 0;
    int br_decimala = 0;
    int i = 0, j = 0, m, minus = 0, br_koor = 0, unutar;
    float xT, yT;
    char*pok[100];
    
    /*Ako je unos nepravilan vrati nul pokazivac*/
    if (pravilan(unos) == 0)
        return NULL;
    
    /*Skeniranje koordinata iz stringa*/
    while (*p != '\0'){
        
        if (*p == '-')
            minus = 1;
        
        if ((*p &gt;= 48 &amp;&amp; *p &lt;= 57)){ 
            
            /*Spasiti adresu trenutne zagrade*/
            ppoc = p;
            while (*p != '(')
                p--;
            
            /*Spasi lokaciju u niz pokazivaca*/
            pok[i] = p;
            p = ppoc;
            
            /*Dodavanje cifri cijelog dijela*/
            while (*p &gt;= 48 &amp;&amp; *p &lt;= 57){
                
                cijeli = cijeli*10 + (float)*p - 48;
                
                p++;
            }
            
            /*Dodavanje cifri decimalnog dijela*/
            if (*p == '.'){ 
                    
                p++;
                    
                while (*p &gt;= 48 &amp;&amp; *p &lt;= 57){
                    
                    decimala = decimala*10 + (float)*p - 48;
                    br_decimala++;
                    
                    p++;
                }
                
                decimala /= pow(10, br_decimala);
            }
            
            /*Reset vrijednosti i store-ovanje koordinate*/
            koord[i] = cijeli + decimala;
            br_koor++;
            if (minus == 1)
                koord[i] = -koord[i];
            
            cijeli = 0;
            decimala = 0;
            br_decimala = 0;
            minus = 0;
            
            i++;
        }
    
    p++;    
    }
    br_koor = i;
    p = unos;
    
    
    /*Provjeravanje da li tacke pripadaju cetverouglu*/
    for (i = 0; i &lt; br_koor - 1; i = i + 2){
        xT = koord[i];
        yT = koord[i + 1];
        
        /*Uslov*/
        
        if (xT &lt; x1 || (xT &gt; x2 &amp;&amp; fabsf(xT - x2) &gt; E) || yT &lt; y1  || (yT &gt; y2 &amp;&amp; fabsf (yT - y2) &gt; E))
            unutar = 0;
        else
            unutar = 1;
        
        /*Izbacivanje ako uslov nije ispunjen*/
        
        if (unutar == 0){
            
            p = pok[i];
            ppoc = p;
            
            while (*p != ')' &amp;&amp; *p != '\0')
                p++;
            p2 = p;
            p = ppoc;
            
            for (j = 0; j &lt;= p2 - p + 1; j++){
                
                while (*p != '\0'){
                    
                    *p = *(p + 1);
                    
                    p++;
                }
                
                /*Pokazivaci se moraju pomjeriti jer su vrijednosti pomjerene*/
                for (m = 0; m &lt; br_koor; m++){
                    pok[m]--;
                }
                
                p = ppoc;
                
            }
        
        }
            
    }
    
    /*Uklanjanje viska zareza na kraju*/
    p = unos;
    while (*p != '\0'){
        
        if (*p == ',' &amp;&amp; *(p + 1) == '\0')
            *p = *(p + 1);
        
        p++;
    }
    
    return unos;
}

int main() {
	
	char unos[100];
	unesi(unos,1000);
	
	printf("%s", obuhvat(unos, 3, 3, 7, 7));
	
	return 0;
}
</pre>
</body>
</html>
