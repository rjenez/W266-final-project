<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/A2016/Z4/Z4/student3567.c</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/A2016/Z4/Z4/student3567.c<p></p><pre>
#include &lt;stdio.h&gt;
#include &lt;math.h&gt;
#define epsilon 0.0001

float konvertor(char *string, char *kraj)
{
	float broj = 0, zarez = 0;
	int minus = 0, bio_zarez = 0, na = 1;
	while(string != kraj)
	{
		if(*string == '.')
		{
			bio_zarez = 1;
			string++;
			continue;
		}
		else if(*string == '-')
		{
			minus = 1;
			string++;
			continue;
		}
		if(!bio_zarez)
		{
			broj *= 10;
			broj += *string - '0';
		}
		else
		{
			zarez *= 10;
			zarez += *string -'0';
			na *= 10;
		}
		string++;
	}
	if(zarez &gt; epsilon)
		broj += pow(zarez, -na);
	if(minus)
		broj *= -1;
	return broj;
}
char *obuhvat(char *tacke, float x1, float y1, float x2, float y2)
{
	char *setac = tacke;
	char *medja1, *medja2, *pomocni;
	float x, y;
	int zarezi = 0;
<a name="0"></a><font color="#FF0000"><a href="match748-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_6.gif"/></a>

	while(*setac != '\0')
	{
		if((*setac != '.' &amp;&amp; *setac != ',' &amp;&amp; *setac != '-' &amp;&amp; *setac != '(' &amp;&amp; *setac != ')') &amp;&amp; (*setac &lt; '0' || *setac &gt; '9'))
</font>			return 0;
		else if(*setac == '.' &amp;&amp; (*(setac-1) &lt; '0' || *(setac-1) &gt; '9'))
			return 0;
		if(*setac == ',')
			zarezi++;
		if(*setac == '(')
			medja1 = setac;
		else if(*setac == ')')
		{
			if(zarezi != 1)
				return 0;
			zarezi = 0;
			medja2 = setac;
			pomocni = medja1;
			while(*pomocni != ',') pomocni++;
			x = konvertor(medja1+1, pomocni);
			y = konvertor(pomocni+1, medja2);
			pomocni = medja1;
			if(x &lt; x1 || y &lt; y1 || x &gt; x2 || y &gt; y2)
			{
				if(*(medja2+1) != '\0')
					medja2++;
				medja2++;
				pomocni = medja1;
				while(*medja2 != '\0')
					*medja1++ = *medja2++;
				setac = pomocni-1;
				*medja1 = '\0';
			}
			else
			{
				if(*(medja2+1) != '\0')
					setac = medja2+1;
				else setac = medja2;
			}
		}
		setac++;
	}
	setac = tacke;
	while(*(setac+1) != '\0') setac++;
	if(*setac != ')')
        *setac = '\0';
	return tacke;
}

int main()
{
	char s[] = "(1,7),(2,5),(1,6),(3,3)";
	obuhvat(s, 3, 3, 1, 7);
	printf("'%s' ", s);
	return 0;
}
</pre>
</body>
</html>
