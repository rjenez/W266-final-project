<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/A2016/Z4/Z4/student2941.c</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/A2016/Z4/Z4/student2941.c<p></p><pre>
#include &lt;stdio.h&gt;
#include &lt;string.h&gt;
#define epsilon 0.0001


int provjera_ispravnosti(char* pocetak) {
	char* p, *s1; 
	int imalzareza=0;
	p=pocetak;
	if(p[0] != '(') return 1;
	p++;
	s1=p;
	while(*s1 != ')' &amp;&amp; *s1 != '\0'){ 
		if(*s1 == ',') imalzareza++; 
		if(imalzareza&gt;0)  break;
		s1++;
	}
	if(imalzareza==0) return 1;
	if(imalzareza!=0) imalzareza=0;
	while(*p != '\0') {
		
		if(*p == '(') { 
			s1=p; 
			while(*s1 != ')' &amp;&amp; *s1 != '\0'){
				if(*s1 == ',') imalzareza++; 
				if(imalzareza&gt;0) break; 
				s1++;
				} 
		if(imalzareza==0) return 1;
		if(imalzareza!=0) imalzareza=0;
		}
		if(!(*p=='(' || *p==')' || *p=='.' || *p==',' || *p=='-' || (*p&gt;='0' &amp;&amp; *p&lt;='9'))) return 1;
		if(*p == '.'){ if(!((*(p-1)&gt;='0' &amp;&amp; *(p-1)&lt;='9') &amp;&amp; ((*(p+1)&gt;='0' &amp;&amp; *(p+1)&lt;='9') || *(p+1)==',' || *(p+1)==')' ))) return 1; }
<a name="0"></a><font color="#FF0000"><a href="match768-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_2.gif"/></a>

		if(*p == '-') { if(!((*(p-1)=='(' || *(p-1)==',') &amp;&amp; (*(p+1)&gt;='0' &amp;&amp; *(p+1)&lt;='9'))) return 1; }
		if(*p == ',' &amp;&amp; *(p+1)!= '(' &amp;&amp; *(p-1) != ')') { if(!(((*(p-1)&gt;= '0' &amp;&amp; *(p-1)&lt;= '9') || *(p-1)=='.') &amp;&amp; ((*(p+1)&gt;= '0' &amp;&amp; *(p+1)&lt;= '9') || *(p+1)=='-'))) return 1; }
</font>		if(*p == ',' &amp;&amp; *(p+1)!= '(' &amp;&amp; *(p-1) != ')') { s1=p; s1++; while( *s1 != ')' &amp;&amp; *s1!= '\0') { if(*s1 == ',') return 1; s1++; } }
		if(*p == ',' &amp;&amp; (*(p+1)== '(' || *(p-1) == ')')) { if(!(*(p-1)==')' &amp;&amp; *(p+1)=='(')) return 1; }
		if(*p == '(') { if(!((*(p-1)== ',') &amp;&amp; ((*(p+1)&gt;='0' &amp;&amp; *(p+1)&lt;='9') || *(p+1)== '-')))  return 1; }
		if(*p == ')') { if(!((*(p+1)== ',' || *(p+1)== '\0') &amp;&amp; ((*(p-1)&gt;='0' &amp;&amp; *(p-1)&lt;='9') || *(p-1)== '.')))  return 1; }
		p++;
		if(*p == '\0') if(*(p-1) != ')') return 1;
	
	}
	return 0;
}
char* obuhvat(char* koordinate,float x1, float y1, float x2, float y2){
	float a=0,b=0,d=1;
	char* p1, *p2;
	char* p;
	int negativan=0,br=0;
	p=koordinate;
	if(provjera_ispravnosti(p)) return NULL;
	p=koordinate;
	while(*p != '\0') {
		if(*p == '(' ) {
			p1=p;
			p++;
			a=0;
			if(*p == '-')  { p++; negativan=1; }
			while((*p&gt;='0' &amp;&amp; *p&lt;='9') || *p != ',') {
				if(*p == '.'){
					d=10;
					p++;
					if(*p== ',') break;
					while(*p != ','){
						a+=(*p-48)/d;
						d*=10;
						p++;
					}
				}
				if(*p== ',') break;
				a=a*d+(*p-48);
				
				d=10;
				p++;
			}
			
			
		}
		if(negativan==1) { a=a*(-1); negativan=0; }
			
		d=1;
		b=0;
		if(*p == ',' &amp;&amp; *(p+1) != '(' ) {
			p++;
			if(*p == '-') { p++; negativan=1; }
			while((*p&gt;='0' &amp;&amp; *p&lt;='9') || *p != ')') {
				if(*p == '.'){
					
					d=10;
					p++;
					if(*p== ')') break;
					else {while(*p != ')'){
						b+=(*p-48)/d;
						d*=10;
						p++;
						
					}
				}
				}
				if(*p== ')') break;
				b=b*d+(*p-48);
				
				d=10;
				p++;
			}
		}
		if(negativan==1) { b=b*(-1); negativan=0; }
		while( *p != '(') {p++; if( *p == '\0') break; }
		p2=p;
		br++;
		if(!(( a&gt;=x1 &amp;&amp; a&lt;=x2)  &amp;&amp; (b&gt;=y1 &amp;&amp; b&lt;=y2))) {
			br--;
			if(*p == '\0') { 
				p-=2; 
				if(br&gt;0) {
					while(*p != ')') { 
					*p--='\0'; 
					
				
			} 
				}
				while(*p != ')' &amp;&amp; p!=p1) { 
					*(--p)='\0'; 
					
				
			} 
			if(br!=0) 
			
			return koordinate;
			}
			while ( p != p1) {
				
				p2=p;
				while(*p2 != '\0') {
					 
					*(p2-1)=*p2;
					p2++;
					if (*p2 == '\0') *(p2-1)='\0';
				}
				
				
				p--;
			}
			a=0; b=0;
		}
		
	}
	
	
	return koordinate;
}

int main() {
	char s[] = "(1.1,5.5),(1.2,5.5),(1.3,5.5),(1.4,5.5),(1.5,5.5)";
char* rez = obuhvat(s, 1.2, 5.499, 1.4, 5.501);
printf("%s", rez);
	return 0;
}
</pre>
</body>
</html>
