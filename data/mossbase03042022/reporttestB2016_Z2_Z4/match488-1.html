<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z2/Z4/student3219.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z2/Z4/student3567.cpp<p></p><pre>
#include&lt;iostream&gt;
#include&lt;stdexcept&gt;
#include&lt;vector&gt;
#include&lt;string&gt;
#include&lt;cstring&gt;
using namespace std;
int PotencijalniKrivci(char **&amp;niz,vector&lt;string&gt; imena){
	//char** pomocniNiz;
	try{
		niz=new char*[imena.size()];
		try{
		for(int i(0);i&lt;imena.size();i++){
			niz[i]=nullptr;
		}
<a name="1"></a><font color="#00FF00"><a href="match488-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_3.gif"/></a>

		for(int i(0);i&lt;imena.size();i++){
			niz[i]=new char [imena[i].size()+1];
</font><a name="2"></a><font color="#0000FF"><a href="match488-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_3.gif"/></a>

		for(int j(0);j&lt;imena[i].size();j++){
		   niz[i][j]=imena[i][j];
</font>		}
		niz[i][imena[i].size()]='\0';
		}
		return imena.size();
	}
<a name="3"></a><font color="#00FFFF"><a href="match488-0.html#3" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_3.gif"/></a>

	catch(...){
		for(int i(0);i&lt;imena.size();i++){
		delete[] niz[i];
	}
	delete[] niz;
		throw bad_alloc();
</font>	}
	}
	catch(...){
		delete[] niz;
		throw bad_alloc();
}
}
int OdbaciOptuzbu( char **&amp; niz,int vel, string nevin){
	bool pronadjen =false;
	for(int i(0);i&lt;vel;i++){
		string pomocniString="";
		char *tmp=niz[i];
		while(*tmp!='\0'){
			pomocniString+=*tmp;
			tmp++;
		}
		int br(0);
		if(pomocniString==nevin){
			pronadjen=true;
			delete[] niz[i];
			niz[i]=nullptr;
			for(int j(0);j&lt;vel;j++)
				if(!niz[j]) br++;
				if(br&gt;10){
					int Novavelicina=vel - br;
					char **pomocniNiz=new char*[Novavelicina];
					int k=0;
<a name="4"></a><font color="#FF00FF"><a href="match488-0.html#4" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_3.gif"/></a>

					for(int j(0);j&lt;vel;j++){
						if(niz[j]!=nullptr){
							pomocniNiz[k]=niz[j];
							k++;
</font>						}
					}
					delete [] niz;
					niz=pomocniNiz;
					return Novavelicina;
				}
				return vel;
			
			
		}
		
	}
	if(!pronadjen)
		throw domain_error("Osoba sa imenom"+ nevin +"nije bila optuzena");
}
int DodajOptuzbu( char **&amp; niz,int vel, string optuzen){
	bool pronadjen=false;
	char*nizznakova;
	try{
<a name="0"></a><font color="#FF0000"><a href="match488-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_4.gif"/></a>

	nizznakova=new char[optuzen.size()+1];
	for(int i(0);i&lt;optuzen.size();i++){
		nizznakova[i]=optuzen[i];
	}
	nizznakova[optuzen.size()]='\0';
</font>	for(int i(0);i&lt;vel;i++){
		if(niz[i]==nullptr){
			pronadjen=true;
		niz[i]=nizznakova;
		break;
	}
	}
	if(pronadjen==false){
		char**novi;
		novi=new char*[vel+1];
<a name="5"></a><font color="#FF0000"><a href="match488-0.html#5" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_3.gif"/></a>

		for(int i(0);i&lt;vel;i++){
			novi[i]=niz[i];
		}
		novi[vel]=nizznakova;
		//for(int i(0);i&lt;vel;i++)
		delete[] niz;
</font>		niz=novi;
	}
}
catch(...){
	delete[] nizznakova;
	throw bad_alloc();
}
return vel+1;
}
void IzlistajOptuzbu( char **pok,int vel){
	for(int i(0);i&lt;vel;i++){
		if(pok[i]!=nullptr)
		cout&lt;&lt;pok[i]&lt;&lt;endl;
	}
}
int main ()
{
	int n=3,m=5;
	int vel;
	char **pok;
	
	vector&lt;string&gt; imena;
	string rijec;
	try{
		cout&lt;&lt;"Koliko potencijalnih krivaca zelite unijeti?"&lt;&lt;endl;
		cin&gt;&gt;n;
		cout&lt;&lt;"Unesite potencijalne krivce: "&lt;&lt;endl;
		for(int i(0);i&lt;n;i++){
			cin&gt;&gt;rijec;
			imena.push_back(rijec);
		}
		vel=PotencijalniKrivci(pok,imena);
		do{
		cout&lt;&lt;"Odaberite opciju: 1 za unos novog optuzenog, 2 za brisanje nekog optuzenog 3 za izlistavanje optuzenih, 0 za kraj: "&lt;&lt;endl;
		cin&gt;&gt;m;
		if(m==1){
			cout&lt;&lt;"Unesite ime novog optuzenog: "&lt;&lt;endl;
				cin&gt;&gt;rijec;
		vel=DodajOptuzbu(pok,vel,rijec);
		}
		if(m==2){
			cout&lt;&lt;"Unesite ime koje zelite izbaciti: "&lt;&lt;endl;
		cin&gt;&gt;rijec;
		vel=OdbaciOptuzbu(pok,vel,rijec);
		}
		if(m==3){
			IzlistajOptuzbu(pok,vel);
		}
		
		if(m==0)
		break;
		}while(m!=0);
	
	for(int i(0);i&lt;vel;i++){
	delete[] pok[i];
	}
	delete[] pok;
	}
	catch(...){
		delete[] pok;
		cout&lt;&lt;"Nedovoljno memorije"&lt;&lt;endl;
	}
	return 0;
}</pre>
</body>
</html>
