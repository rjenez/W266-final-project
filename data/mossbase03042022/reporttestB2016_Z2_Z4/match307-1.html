<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z2/Z4/student7616.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z2/Z4/student1649.cpp<p></p><pre>
/*B 16/17, ZadaÄ‡a 2, Zadatak 4
	
	NAPOMENA: i javni ATo-vi su dio postavke
	strcmp strcpy .c_str()
	Autotestovi by Ivona Ivkovic. Sva pitanja, sugestije
	i prijave gresaka saljite na mail: iivkovic2@etf.unsa.ba
*/
#include &lt;iostream&gt;
#include &lt;vector&gt;
#include &lt;string&gt;
#include &lt;cstring&gt;
#include &lt;stdexcept&gt;
int PotencijalniKrivci(char** &amp;Niz , std::vector&lt;std::string&gt; PotencijalniProdavaci ){
	int BrojNizova(PotencijalniProdavaci.size());
	Niz=new char* [BrojNizova];
	for(int i=0;i&lt;BrojNizova;i++) Niz[i]=nullptr;
	try{
		for(int i=0;i&lt;BrojNizova;i++) Niz[i]=new char[PotencijalniProdavaci.at(i).size()+1];
	}catch(...){
		for(int i=0;i&lt;BrojNizova;i++) delete[] Niz[i];
		delete[] Niz;
		throw;
	}
	for(int i=0;i&lt;BrojNizova;i++){
		for(int j=0;j&lt;PotencijalniProdavaci.at(i).size();j++){
			Niz[i][j]=PotencijalniProdavaci.at(i).at(j);
		}
		Niz[i][PotencijalniProdavaci.at(i).size()]='\0'; //+1??
	}
	return BrojNizova;
}
<a name="1"></a><font color="#00FF00"><a href="match307-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_3.gif"/></a>

int OdbaciOptuzbu(char** &amp;Niz,int VelNiza,std::string Osoba){
	bool Postoji(false);
	for(int i=0;i&lt;VelNiza;i++){
		if(Niz[i]!=nullptr){
</font>			if(strcmp(Niz[i],Osoba.c_str())==0){
				Postoji=true;
				delete[] Niz[i];
				Niz[i]=nullptr;
				break;
			}
		}
	}
	if(!Postoji){
		std::string Poruka("Osoba sa imenom "+Osoba+" nije bila optuzena");
		throw std::domain_error(Poruka);
	}
	int NovaVelicina(0);
	for(int i=0;i&lt;VelNiza; i++) if(Niz[i]!=nullptr) NovaVelicina++;
	if((VelNiza-NovaVelicina)&lt;=10) return VelNiza;
	try{
<a name="0"></a><font color="#FF0000"><a href="match307-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_5.gif"/></a>

		char** NoviNiz(new char* [NovaVelicina]);
		for(int i=0;i&lt;NovaVelicina;i++) NoviNiz[i]=nullptr;
		try{
			int j(0);
			for(int i=0;i&lt;VelNiza;i++){
				if(Niz[i]!=nullptr){
					NoviNiz[j]=(new char[strlen(Niz[i])+1]);
</font><a name="2"></a><font color="#0000FF"><a href="match307-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_3.gif"/></a>

					strcpy(NoviNiz[j],Niz[i]);
					j++;
				}
			}
			for(int i=0;i&lt;VelNiza;i++) delete[] Niz[i];
			delete[] Niz;
			Niz=NoviNiz;
</font><a name="3"></a><font color="#00FFFF"><a href="match307-0.html#3" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_3.gif"/></a>

			return NovaVelicina;
		}catch(...){
			for(int i=0;i&lt;NovaVelicina;i++) delete[] NoviNiz[i];
			delete[] NoviNiz;
</font><a name="4"></a><font color="#FF00FF"><a href="match307-0.html#4" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_3.gif"/></a>

			return  VelNiza;
		}
	}catch(...){
		return VelNiza;
	}
}
int DodajOptuzbu(char** &amp;Niz, int VelNiza,std::string Osoba){
	char* Pok(new char[Osoba.length()+1]);
</font>	strcpy(Pok,Osoba.c_str());
	bool Ubacen(false);
	for(int i=0;i&lt;VelNiza;i++){
		if(Niz[i]==nullptr){
			Niz[i]=Pok;
			Ubacen=true;
			break;
		}
	}
	if(!Ubacen){
		try{
			char** NoviNiz(new char* [VelNiza+1]);
<a name="5"></a><font color="#FF0000"><a href="match307-0.html#5" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_3.gif"/></a>

			for(int i=0;i&lt;VelNiza;i++) NoviNiz[i]=Niz[i];
			NoviNiz[VelNiza]=Pok;
			delete[] Niz;
</font>			Niz=NoviNiz;
			VelNiza++;
		}catch(...){
			delete[] Pok;
			throw std::bad_alloc();
		}
	}
	return VelNiza;
}
void IzlistajOptuzbu(char** Niz,int VelNiza){
	for(int i=0;i&lt;VelNiza;i++) if(Niz[i]!=nullptr) std::cout&lt;&lt;"\n"&lt;&lt;Niz[i];
}

int main()
{
	int Velicina;
	std::cout&lt;&lt;"Koliko potencijalnih krivaca zelite unijeti? ";
	std::cin&gt;&gt;Velicina;
	std::cin.ignore(100000,'\n');
	try{
		std::vector&lt;std::string&gt; Krivci(Velicina);
		std::cout&lt;&lt;"\nUnesite potencijalne krivce: ";
		for(auto &amp;x:Krivci) std::getline(std::cin, x);
		try{
			char** Niz;
			Velicina=(PotencijalniKrivci(Niz,Krivci));
			while(1){
				std::cout&lt;&lt;"\nOdaberite opciju: 1 za unos novog optuzenog, 2 za brisanje nekog optuzenog 3 za izlistavanje optuzenih, 0 za kraj: ";
				int x;
				std::cin&gt;&gt;x;
				std::cin.ignore(100000,'\n');
				if(x==0) break;
				if(x==1){
					std::cout&lt;&lt;"\nUnesite ime novog optuzenog: ";
					std::string Ime;
					std::getline(std::cin,Ime);
					try{
						Velicina=DodajOptuzbu(Niz,Velicina,Ime);
					}catch(...){
						std::cout&lt;&lt;"Dodavanje nije uspjelo";
					}
				}
				if(x==2){
					std::cout&lt;&lt;"\nUnesite ime koje zelite izbaciti: ";
					std::string Ime;
					std::getline(std::cin,Ime);
					try{
						Velicina=OdbaciOptuzbu(Niz,Velicina,Ime);
					}catch(std::domain_error izuzetak){
						std::cout&lt;&lt;izuzetak.what();
					}
				}
				if(x==3) IzlistajOptuzbu(Niz,Velicina);
			}
			for(int i=0;i&lt;Velicina;i++) delete[] Niz[i];
			delete[] Niz;
		}catch(...){
			throw;
		}
	}catch(...){
		std::cout&lt;&lt;"Greska";
	}
	return 0;
}</pre>
</body>
</html>
