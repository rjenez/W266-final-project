<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z2/Z4/student5222.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z2/Z4/student8532.cpp<p></p><pre>
/*B 16/17, ZadaÄ‡a 2, Zadatak 4
	
	NAPOMENA: i javni ATo-vi su dio postavke
	
	Autotestovi by Ivona Ivkovic. Sva pitanja, sugestije
	i prijave gresaka saljite na mail: iivkovic2@etf.unsa.ba
*/

#include &lt;iostream&gt;
#include &lt;stdexcept&gt;


<a name="0"></a><font color="#FF0000"><a href="match125-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_99.gif"/></a>

int** KreirajTrougao (int n)
{
	if (n&lt;=0)
		throw std::domain_error ("Broj redova mora biti pozitivan");


	int **matrica = nullptr;
	try
	{
		matrica = new int* [n];
		for (int i{};i&lt;n;i++)
			matrica[i] = nullptr;
	}
	catch (...)
	{
		delete [] matrica;
		matrica = nullptr;

		std::bad_alloc e;
		throw e;
	}

	try
	{
	    int k = 0;
		matrica[0] = new int [n*n];
		for (int i{1};i&lt;n;i++)
			{
			    matrica[i] = matrica[i-1]+2*k+1;
			    k++;
			}
	}
	catch (...)
	{
		delete [] matrica[0];
		delete [] matrica;
		matrica = nullptr;

		std::bad_alloc e;
		throw e;
	}


	for (int i{};i&lt;n;i++)
		{
			int broj = i+1;
			bool uslov = false;
			for (int j{};j&lt;2*i+1;j++)
				{
					if (broj == 1)
						{
							matrica[i][j] = 1;
							broj = 2;
							uslov = true;
						}
					else if (uslov == false)
						{
							matrica[i][j] = broj;
							broj--;
						}
					else if (uslov == true)
						{
							matrica[i][j] = broj;
							broj++;
						}
				}
		}



	return matrica;


}


int main ()
{
	try
	{
		std::cout&lt;&lt;"Koliko zelite redova: ";
		int n;
		std::cin&gt;&gt;n;
		std::cin.ignore(100000,'\n');

		int **matrica = KreirajTrougao(n);

		for (int i{};i&lt;n;i++)
			{
				for (int j{};j&lt;2*i+1;j++)
					std::cout&lt;&lt;matrica[i][j]&lt;&lt;" ";

				std::cout&lt;&lt;std::endl;
			}

		delete [] matrica[0];
		delete [] matrica;
		matrica = nullptr;
	}
	catch (std::domain_error e)
		{
			std::cout&lt;&lt;"Izuzetak: "&lt;&lt;e.what();
		}
	catch (std::bad_alloc)
		{
			std::cout&lt;&lt;"Izuzetak: Nedovoljno memorije!";
		}







	return 0;
}









































#include &lt;iostream&gt;
#include &lt;stdexcept&gt;
#include &lt;vector&gt;
#include &lt;deque&gt;


template&lt;typename kontejner_tip&gt;
auto KreirajDinamickuKopiju2D (kontejner_tip struktura) -&gt; decltype (struktura[0][0] + struktura[0][0])**
{
    decltype (struktura[0][0] + struktura[0][0])** matrica = nullptr;

    try
    {
        matrica = new decltype (struktura[0][0] + struktura[0][0])* [struktura.size()];
        for (int i{};i&lt;struktura.size();i++)
            matrica[i] = nullptr;

    }
    catch (...)
    {
        delete [] matrica;
        matrica = nullptr;

        std::bad_alloc e;
        throw e;
    }

    try
    {
        int velicina = 0;
        for (int i{};i&lt;struktura.size();i++)
            velicina+=struktura[i].size();

        matrica[0] = new decltype (struktura[0][0] + struktura[0][0]) [velicina];
        for (int i{1};i&lt;struktura.size();i++)
            matrica[i] = matrica[i-1] + struktura[i-1].size();
    }
    catch(...)
    {
        delete [] matrica[0];
        delete [] matrica;
        matrica = nullptr;

        std::bad_alloc e;
        throw e;
    }

    for (int i{};i&lt;struktura.size();i++)
        {
            for (int j{};j&lt;struktura[i].size();j++)
                matrica[i][j] = struktura[i][j];
        }

    return matrica;
}


int main ()
{

    try
    {
        std::cout&lt;&lt;"Unesite broj redova kvadratne matrice: ";
        int n;
        std::cin&gt;&gt;n;

        std::vector&lt;std::deque&lt;int&gt;&gt; struktura (n, std::deque&lt;int&gt; (n));
        std::cout&lt;&lt;"Unesite elemente matrice: ";

        for (int i{};i&lt;n;i++)
            {
                for (int j{};j&lt;n;j++)
                    std::cin&gt;&gt;struktura[i][j];
            }

        int **matrica = KreirajDinamickuKopiju2D(struktura);

        for (int i{};i&lt;n;i++)
            {
                for (int j{};j&lt;n;j++)
                    std::cout&lt;&lt;matrica[i][j]&lt;&lt;" ";

                std::cout&lt;&lt;std::endl;
            }


        delete [] matrica[0];
        delete [] matrica;
        matrica = nullptr;

    }
    catch (std::bad_alloc)
        {
            std::cout&lt;&lt;"Nedovoljno memorije";
        }



	return 0;
</font>}
</pre>
</body>
</html>
