<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z2/Z4/student7755.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z2/Z4/student7755.cpp<p></p><pre>
/*B 16/17, ZadaÄ‡a 2, Zadatak 4

	NAPOMENA: i javni ATo-vi su dio postavke

	Autotestovi by Ivona Ivkovic. Sva pitanja, sugestije
	i prijave gresaka saljite na mail: iivkovic2@etf.unsa.ba
*/
#include &lt;iostream&gt;
#include &lt;vector&gt;
#include &lt;stdexcept&gt;
#include &lt;algorithm&gt;


<a name="0"></a><font color="#FF0000"><a href="match95-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_99.gif"/></a>

void IzlistajOptuzbu(char **niz,int &amp;n) {
	for(int i=0;i&lt;n;i++) {
		if(niz[i] != nullptr) {
			std::cout &lt;&lt; niz[i];
			std::cout&lt;&lt;std::endl;
		}
	}
}


int PotencijalniKrivci(char **(&amp;niz),std::vector&lt;std::string&gt;krivci) {
		int duzina = 0;
	int n=krivci.size();
	niz = new char*[n];
	char **nizPokazivaca(nullptr);
	try {
		nizPokazivaca = new char*[n];
		for(int i=0;i&lt;n;i++) {
			duzina = krivci[i].size()+1;
			nizPokazivaca[i]=new char[duzina];
			for(int j=0;j&lt;duzina-1;j++)
				nizPokazivaca[i][j]=krivci[i][j];
		}
		std::copy(nizPokazivaca, nizPokazivaca+n, niz);
	
	/*for(int i=0;i&lt;n;i++) {
		delete [] nizPokazivaca[i];
			delete [] nizPokazivaca;
	}*/
	return n;
	}
	catch(std::bad_alloc) {
		std::cout&lt;&lt;"Problem: Nema dovoljno memorije!";
	}
}

bool JesuLiIsti(char *niz, std::string s){
	for(int i=0; i&lt;s.size(); i++){         //ovdje
		if(*niz != s[i])
			return false;
		niz++;
	}
	return true;
}

int OdbaciOptuzbu(char **(&amp;niz),int &amp;n,std::string osoba) {
	int brojac1(0);
	for(int i=0;i&lt;n;i++) {
		
		if(JesuLiIsti(niz[i], osoba)) {
			delete[] niz[i];
			niz[i]=nullptr;
			int brojac(0);
			for(int j=0;j&lt;n;j++) {
				if(niz[j]==nullptr)
					brojac++;
			}
			if(brojac&gt;=10) {
				char **noviNiz = nullptr;
				try{
					noviNiz=new char*[n-brojac];
					int j(0);
					while(j&lt;n-brojac) {
						for(int i=0;i&lt;n;i++) {
							if(niz[i]!=nullptr) {
								noviNiz[j]=niz[i];
								j++;
							}
						}
					}
					for(int i=0; i&lt;n; i++){
						delete[] niz[i];
					delete[] niz;
					}
					niz = new char*[n];
					std::copy(noviNiz, noviNiz+n, niz);
				for(int i=0;i&lt;n;i++)
					delete[] noviNiz[i];
				delete[] noviNiz;
				return n;
		   }
		   catch(std::bad_alloc) {
					std::cout &lt;&lt; "Problemi sa memorijom." &lt;&lt; std::endl;
				}
				} else {
				return n;
			}
		}else{
			brojac1++;
		}

	if(brojac1 == n-1)
		throw std::domain_error("Osoba sa imenom &lt;osoba&gt; nije bila optuzena."); }

}

int DodajOptuzbu(char **(&amp;niz),int &amp;n,std::string osoba) {
 char **noviNiz = nullptr;
 char *optuzena = nullptr;
	try {
		int duzina = osoba.size()+1;
		optuzena = new char[duzina];
		for(int i=0; i&lt;duzina; i++)
			optuzena[i] = osoba[i];
		//optuzena[duzina-1] = '\0';
		for(int i=0;i&lt;n;i++) {
			if(niz[i] == nullptr) {
				niz[i] = optuzena;
				return n;
			}
		}
		noviNiz = new char*[n+1];
		std::copy(niz, niz+n, noviNiz);
		noviNiz[n]=optuzena;
		for(int i=0;i&lt;n;i++)
			delete[] niz[i];
		delete [] niz;
		n++;
		niz = new char*[n];
		std::copy(noviNiz, noviNiz+n, niz);
		return n;
	
	for(int i=0;i&lt;n;i++)
		delete[] noviNiz[i];
	delete [] noviNiz;
	delete[] optuzena;
	}
		catch(std::bad_alloc) {
		std::cout&lt;&lt;"Problem: Nema dovoljno memorije";
	}
}



int main ()
{   
	try {
	int n = 0;
	char **niz = nullptr;
	std::cout&lt;&lt;"Koliko potencijalnih krivaca zelite unijeti? "&lt;&lt;std::endl;
	std::cin&gt;&gt;n;
	//niz = new char*[n];
	std::cout &lt;&lt; "Unesite potencijalne krivce: "&lt;&lt;std::endl;
	std::vector&lt;std::string&gt; krivci(n);
	for(int i=0; i&lt;n; i++){
		std::cin &gt;&gt; krivci[i];
	}
	n = PotencijalniKrivci(niz, krivci);
	int opcija = 0;
	do{
		std::cout&lt;&lt;"Odaberite opciju: 1 za unos novog optuzenog, 2 za brisanje nekog optuzenog, 3 za izlistavanje optuzenih, 0 za kraj: "&lt;&lt;std::endl;
		std::cin&gt;&gt; opcija;
		if(opcija==1){
			std::string krivac;
			std::cout &lt;&lt; "Unesite ime novog optuzenog: "&lt;&lt;std::endl;
			std::cin &gt;&gt; krivac;
			n = DodajOptuzbu(niz, n, krivac);
		}else if(opcija == 2){
			std::string krivac;
			std::cout &lt;&lt; "Unesite ime koje zelite izbaciti: "&lt;&lt;std::endl;
			std::cin &gt;&gt; krivac;
			n = OdbaciOptuzbu(niz, n, krivac);
		}else if(opcija == 3){
			IzlistajOptuzbu(niz, n);
		}
	}while(opcija != 0);
}
catch(std::bad_alloc) {
	std::cout&lt;&lt;"Nedovoljno memorije!";
</font>}

	//AT2
	
	/*char **nizPotencijalnih;
  std::vector&lt;std::string&gt; imena = {"Fudo", "Pero", "Meho", "Fata", "Bajro", "Luca", "Jovo"};
  int n = PotencijalniKrivci( nizPotencijalnih, imena);
  IzlistajOptuzbu(nizPotencijalnih, n);
  
  //AT3
  int m = OdbaciOptuzbu(nizPotencijalnih, n, "Fata");
  std::cout &lt;&lt; m &lt;&lt; std::endl;
  dealociraj(nizPotencijalnih, n);*/
	return 0;
}</pre>
</body>
</html>
