<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z2/Z4/student7678.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z2/Z4/student7678.cpp<p></p><pre>
#include &lt;iostream&gt;
#include &lt;string&gt;
#include &lt;vector&gt;
#include &lt;cstring&gt;
#include &lt;stdexcept&gt;

int PotencijalniKrivci(char **&amp;a, std::vector&lt;std::string&gt; string)
{
	int brojac(0);
	try
	{
		a = new char* [string.size()];
		for(int i=0; i&lt;string.size(); i++)
		{
			a[i] = new char[string[i].size()+1];
			brojac++;
		}
<a name="3"></a><font color="#00FFFF"><a href="match276-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_3.gif"/></a>

		for(int i=0; i&lt;string.size(); i++) strcpy(a[i], string[i].c_str());
	}
	catch(...)
	{
		for(int i=0; i&lt;string.size(); i++) delete [] a[i];
		delete [] a;
</font>		
	
		throw;
	}
	
	return brojac;
}

int OdbaciOptuzbu(char **&amp;a, int vel, std::string nevin)
{
	bool logika (true);
	for(int i=0; i&lt;vel; i++)
	{
		if(a[i] == nullptr) continue;
		if(!strcmp(nevin.c_str(), a[i]))
		{
			logika = false;
			delete [] a[i];
			a[i] = nullptr;
		}
	}
	if(logika) throw std::domain_error("Osoba sa imenom " + nevin + " nije bila optuzena");
	
	int brojac(0);
<a name="1"></a><font color="#00FF00"><a href="match276-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_5.gif"/></a>

	for(int i=0; i&lt;vel; i++)
	{	
		if(a[i] == nullptr) brojac++;
	}
	
	if(brojac &gt; 10)
	{
		char **a2 = nullptr;
		try
		{
			a2 = new char* [vel-brojac];
			int index(0);
</font>			for(int i=0; i&lt;vel; i++)
			{	
				if(a[i] == nullptr) continue;
				a2[index] = a[i];
				index++;
			}
			delete []a;
			a = a2;
		}
		catch(...){	}
	}
	return vel;
}


int DodajOptuzbu(char **&amp;a, int vel, std::string kriv)
{
	char *ime = nullptr;
	try
	{
		ime = new char[kriv.size()+1];
		strcpy(ime, kriv.c_str());
		
		bool stao(false);
		for(int i=0; i&lt;vel; i++)
		{
			if(a[i] == nullptr)
			{
				a[i] = ime;
				stao = true;
			}
		}
		if(!stao)
		{
			vel++;
<a name="2"></a><font color="#0000FF"><a href="match276-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_4.gif"/></a>

			char **a2 = new char*[vel];
			for(int i=0; i&lt;vel-1; i++)
			{
				a2[i] = a[i];
			}
			a2[vel-1] = ime;
</font>			delete [] a;
			a = a2;
		}
	}
	catch(...)
	{
		
		throw;
	}
	return vel;
}

void IzlistajOptuzbu(char **a, int vel)
{
	for(int i=0; i&lt;vel; i++) 
 	{
 		if(a[i] == nullptr) continue;
 		std::cout &lt;&lt; a[i];
 		std::cout &lt;&lt; std::endl;
 	}
}


int  main()
{
	std::cout &lt;&lt; "Koliko potencijalnih krivaca zelite unijeti? ";
	int n;
	std::cin &gt;&gt; n;
	std::cin.ignore(10000, '\n');
	std::vector&lt;std::string&gt; imena(n);
	
<a name="4"></a><font color="#FF00FF"><a href="match276-1.html#4" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_3.gif"/></a>

	std::cout &lt;&lt; "\nUnesite potencijalne krivce: ";
	for(int i=0; i&lt;n; i++)
	{
		std::getline(std::cin, imena[i]);
</font>	}
	
	//char **a (nullptr);
	char **b (nullptr);
	
	int vel(0);
	vel = PotencijalniKrivci(b, imena);
	
	char **a (b);
		
	for(;;)
	{
		std::cout &lt;&lt; "\nOdaberite opciju: 1 za unos novog optuzenog, 2 za brisanje nekog optuzenog 3 za izlistavanje optuzenih, 0 za kraj: ";
		int n;
		std::cin &gt;&gt; n;
		std::cin.ignore(10000, '\n');
		
<a name="0"></a><font color="#FF0000"><a href="match276-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_8.gif"/></a>

		if(n==0)
		{
			break;
		}
		else if(n==1)	
		{
			std::cout &lt;&lt; "\nUnesite ime novog optuzenog: ";
			std::string ime;
			std::getline(std::cin, ime);
			vel = DodajOptuzbu(a, vel, ime);
		}	
		else if(n==2) 
		{
			std::cout &lt;&lt; "\nUnesite ime koje zelite izbaciti: ";
			std::string ime;
			std::getline(std::cin, ime);
			vel = OdbaciOptuzbu(a, vel, ime);
		}	
		else if(n==3)
		{
			std::cout &lt;&lt; std::endl;
</font>			IzlistajOptuzbu(a, vel);
		}
	}
	
	for(int i=0; i &lt; vel; i++) delete [] a[i];
	delete [] a;
	
	return 0;
}


int main2 ()
{
	std::vector&lt;std::string&gt; st = {"benjo", "tarzan", "betmen", "supermen", "spajdermen", "benjo", "ranko"};
	char **a =nullptr;
	int vel = PotencijalniKrivci(a, st);
	
	
	std::cout &lt;&lt; std::endl;
	
 	
 	std::string nevin = {"spajdermen"};
 	vel = OdbaciOptuzbu(a, vel, nevin);
 	
 	std::string kriv = {"hulk"};
 	vel = DodajOptuzbu(a, vel, kriv);
 	
 	kriv = {"nidal"};
 	vel = DodajOptuzbu(a, vel, kriv);
 	
	IzlistajOptuzbu(a, vel);
 	
	return 0;
}</pre>
</body>
</html>
