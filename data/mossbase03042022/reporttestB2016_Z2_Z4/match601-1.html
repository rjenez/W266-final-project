<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z2/Z4/student9589.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z2/Z4/student7616.cpp<p></p><pre>
/*B 16/17, ZadaÄ‡a 2, Zadatak 4

	NAPOMENA: i javni ATo-vi su dio postavke

	Autotestovi by Ivona Ivkovic. Sva pitanja, sugestije
	i prijave gresaka saljite na mail: iivkovic2@etf.unsa.ba
*/
#include &lt;iostream&gt;
#include &lt;vector&gt;
#include &lt;stdexcept&gt;
#include &lt;new&gt;
#include &lt;string&gt;
#include &lt;cstring&gt;

int	PotencijalniKrivci(char **&amp;p,std::vector&lt;std::string&gt; s){
	p = nullptr;
	int br(0);
	p = new char* [s.size()];
		for(int i = 0; i &lt; s.size(); i++)p[i] = nullptr;
		try{
<a name="1"></a><font color="#00FF00"><a href="match601-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_3.gif"/></a>

			for(int i = 0; i &lt; s.size(); i++){
				p[i] = new char[s[i].size() + 1];
				std::strcpy(p[i],s[i].c_str());
</font>				br++;
			}
		}
		catch(...){
			for(int i = 0; i &lt; s.size(); i++) delete []p[i];
			delete []p;
			throw;
		}
	return br;
}

........
int	OdbaciOptuzbu(char **&amp;p,int vel, std::string s){
	bool cs(false);
	for(int i = 0; i &lt; vel; i++){
		if(p[i] != nullptr &amp;&amp; std::strcmp(p[i],s.c_str()) == 0)cs = true;
		if(cs)break;
	}
	if(!cs){
		std::string pom{"Osoba sa imenom "};
		pom += s;
		pom += " nije bila optuzena";
		throw std::domain_error (pom.c_str());
	}

	for(int i = 0; i &lt; vel; i++){
		if(std::strcmp(p[i],s.c_str()) == 0 &amp;&amp; p[i] != nullptr){delete []p[i]; p[i] = nullptr; break;}
	}
	int br(0);
	for(int i = 0; i &lt; vel; i++)if(p[i] == nullptr)br++;
	if(br &lt;= 10)return vel;
		char **pom(nullptr);
		int n_vel = vel - br;
			try{
				pom = new char* [n_vel];
				for(int i = 0; i &lt; n_vel; i++)pom[i] = nullptr;
<a name="2"></a><font color="#0000FF"><a href="match601-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_3.gif"/></a>

				try{
					int k(0);
					for(int i = 0; i &lt; vel; i++)
						if(p[i] != nullptr) {
							pom[k] = new char[std::strlen(p[i]) + 1];
</font><a name="3"></a><font color="#00FFFF"><a href="match601-0.html#3" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_2.gif"/></a>

						        std::strcpy(pom[k],p[i]);
                                k++;
						}

					for(int i = 0; i &lt; vel; i++)delete [] p[i]; delete []p;
					p = nullptr;
</font>					p = pom;
					return n_vel;
				}
				catch(...){
				    for(int i = 0; i &lt; n_vel; i++) delete []pom[i];
					delete []pom;
					throw;
				}
			}
			catch(...) {}
	return vel;
}

int DodajOptuzbu(char **&amp;p,int vel, std::string s){
	char *novi_niz(nullptr);
    novi_niz = new char[s.size() + 1];
    for(int i = 0; i &lt; s.size(); i++)novi_niz[i] = s[i]; novi_niz[s.size()] = '\0';
	for(int i = 0; i &lt; vel; i++)if(p[i] == nullptr){p[i] = novi_niz; novi_niz = nullptr; return vel;}
    char **pom(nullptr);
		int n_vel = vel + 1;
            try{
				pom = new char* [n_vel];
				for(int i = 0; i &lt; vel; i++)pom[i] = p[i];
                    pom[vel] = nullptr;
                    pom[vel] = novi_niz;
                    novi_niz = nullptr;
                    delete []p;
					p = nullptr;
					p = pom;
					return n_vel;
            }
<a name="4"></a><font color="#FF00FF"><a href="match601-0.html#4" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_2.gif"/></a>

            catch(...){delete []novi_niz;throw;}
return vel;
}

void IzlistajOptuzbu(char **p,int vel){
	for(int i = 0; i &lt; vel; i++)
</font>	if(p[i] != nullptr)std::cout&lt;&lt;p[i] &lt;&lt; std::endl;
}
int main (){
	int vel;
	std::cout&lt;&lt;"Koliko potencijalnih krivaca zelite unijeti? " &lt;&lt;std::endl;
<a name="0"></a><font color="#FF0000"><a href="match601-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_3.gif"/></a>

	std::cin&gt;&gt;vel;
	std::vector&lt;std::string&gt; v(vel);
	std::cin.ignore (10000, '\n');
	std::cout&lt;&lt;"Unesite potencijelne krivce: ";
	for(int i = 0; i &lt; v.size(); i++)
</font>	{
		std::getline(std::cin, v[i]);
	}
	std::cout&lt;&lt;std::endl;

 	//for(int i = 0; i &lt; v.size();i++)
		//	std::cout&lt;&lt; v[i] &lt;&lt; std::endl;
	char **p;
//	for(int i=0; i&lt;vel; i++){
	//	p[i]=nullptr;
	
	
	try{
		
		int br;
		do{
		std::cout&lt;&lt;"Odaberite opciju: 1 za unos novog optuzenog, 2 za brisanje nekog optuzenog 3 za izlistavanje optuzenih, 0 za kraj: ";
		std::cin&gt;&gt;br;
		if(br==1)
		{
			std::cout&lt;&lt;"Unesite ime novog optuzenog: ";
			std::string s;
			std::cin.ignore(1000, '\n');
			std::getline(std::cin,s);
			vel= DodajOptuzbu(p, s.length(), s);
		}
		else if(br==2)
		{
			std::cout&lt;&lt;"Unesite ime koje zelite izbaciti: ";
			std::string s;
			std::cin.ignore(1000, '\n');
			std::getline(std::cin,s);
			vel= OdbaciOptuzbu(p, s.length(), s);
		}
		else if(br==3)	
		{
			IzlistajOptuzbu(p,vel);
		}

		
		}
		while(br!=0);
	for(int i=0; i&lt;vel; i++) delete [] p[i];
	delete [] p;
	}
		
		//vel = PotencijalniKrivci(p,v);
		//std::cout&lt;&lt;std::endl&lt;&lt;"PotencijalniKrivci:"&lt;&lt;std::endl;
		//std::cout&lt;&lt; "Broj alociranih znakova: " &lt;&lt; vel &lt;&lt;std::endl;
		//for(int i = 0; i &lt; vel; i++)std::cout&lt;&lt; p[i] &lt;&lt;std::endl;
		//std::cout&lt;&lt;std::endl&lt;&lt;"OdbaciOptuzbu:"&lt;&lt;std::endl;
		//for(int i = 15; i &lt; 30; i++){delete []p[i]; p[i] = nullptr;}
      
	catch(std::domain_error d){
		std::cout&lt;&lt; d.what()&lt;&lt;std::endl;
	}
	catch(...){
		std::cout&lt;&lt;"Nema memorije!";
	}

	return 0;
}
</pre>
</body>
</html>
