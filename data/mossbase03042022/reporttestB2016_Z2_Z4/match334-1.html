<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z2/Z4/student6303.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z2/Z4/student5263.cpp<p></p><pre>
/*B 16/17, ZadaÄ‡a 2, Zadatak 4
	
	NAPOMENA: i javni ATo-vi su dio postavke
	
	Autotestovi by Ivona Ivkovic. Sva pitanja, sugestije
	i prijave gresaka saljite na mail: iivkovic2@etf.unsa.ba
*/
#include &lt;iostream&gt;
#include &lt;vector&gt;
#include &lt;stdexcept&gt;
#include &lt;string&gt;
#include &lt;cstring&gt;

using std::cout;
using std::cin;
using std::endl;
using std::vector;
using std::string;
using std::domain_error;
using std::getline;

int PotencijalniKrivci (char **&amp; pok_na_znak, vector&lt;string&gt; v){
	char **pok(nullptr);
<a name="0"></a><font color="#FF0000"><a href="match334-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_3.gif"/></a>

	pok=new char* [v.size()];
	for(int i=0;i&lt;v.size();i++){
		pok[i]=nullptr;
	}
	try{
		for(int i=0;i&lt;v.size();i++){
</font>			pok[i]=new char[v[i].size()+1];
		}
		for(int i=0;i&lt;v.size();i++){
			strcpy(pok[i],v[i].c_str());
		}
		pok_na_znak=pok;
<a name="2"></a><font color="#0000FF"><a href="match334-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_2.gif"/></a>

		return v.size();
	}
	catch(...){
		for(int i=0;i&lt;v.size();i++){
			delete [] pok[i];
		}
		delete [] pok;
</font>		throw;
	}
}
int OdbaciOptuzbu (char **&amp; pok_na_znak, int n, string s){
	bool ima(false);
	for(int i=0;i&lt;n;i++){
		if(strcmp(pok_na_znak[i],s.c_str())==0){
			ima=true;
			delete [] pok_na_znak[i];
			pok_na_znak[i]=nullptr;
		}
	}
	if (!ima) {
		string s1;
		s1="Osoba sa imenom " +s+" nije bila optuzena";
		throw domain_error (s1);
		
	}
	int br(0);
<a name="3"></a><font color="#00FFFF"><a href="match334-0.html#3" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_2.gif"/></a>

	for(int i=0;i&lt;n;i++){
		if(pok_na_znak[i]==nullptr) br++;
	}
	if(br&gt;10){
		char **pok(nullptr);
</font><a name="1"></a><font color="#00FF00"><a href="match334-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_2.gif"/></a>

		pok=(new char* [n-br]);
		for(int i=0;i&lt;(n-br);i++){
			pok[i]=nullptr;
</font>		}
		try{
		for(int i=0;i&lt;n;i++){
			if(pok_na_znak[i]!=nullptr){
				pok[i]=new char [strlen(pok_na_znak[i])+1];
			}
		}
		for(int i=0;i&lt;n;i++){
			if(pok_na_znak[i]!=nullptr){
				strcpy(pok[i],pok_na_znak[i]);
			}
		}
		for(int i=0;i&lt;n;i++){
			delete [] pok_na_znak[i];
		}delete[] pok_na_znak;
		pok_na_znak=pok;
		return n-br;
	}
	catch(...){
		for(int i=0;i&lt;(n-br);i++){
			delete [] pok[i];
		}
		delete [] pok;
		throw ;
	}
	}
	return n;
}
int DodajOptuzbu (char **&amp; pok_na_znak, int n, string s){
	bool nemamjesta(true);
	char **pok(nullptr);
	char* novi (nullptr);
	novi= new char[s.size()+1];
	strcpy(novi,s.c_str());
<a name="4"></a><font color="#FF00FF"><a href="match334-0.html#4" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_2.gif"/></a>

	try{
	for(int i=0;i&lt;n;i++){
		if(pok_na_znak[i]==nullptr){
			nemamjesta=false;
			pok_na_znak[i]=new char[s.size()+1];
</font>			strcpy(pok_na_znak[i],novi);
			break;
		}
	}
	if(nemamjesta){
		pok=(new char* [n+1]);
		for(int i=0;i&lt;n;i++){
		pok[i]=nullptr;
		}
		for(int i=0;i&lt;n;i++){
			pok[i]=new char[strlen(pok_na_znak[i])+1];
		}
		for(int i=0;i&lt;n;i++){
			strcpy(pok[i],pok_na_znak[i]);
		}
<a name="5"></a><font color="#FF0000"><a href="match334-0.html#5" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_2.gif"/></a>

		pok[n]=novi;
		for(int i=0;i&lt;n;i++){
			delete [] pok_na_znak[i];
		} delete[] pok_na_znak;
		pok_na_znak=pok;
</font>		return n+1;
	}
	return n;
	}
	catch(...){
		for(int i=0;i&lt;n;i++){
		delete [] pok[i];
		}
		delete[] pok;
<a name="6"></a><font color="#00FF00"><a href="match334-0.html#6" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_2.gif"/></a>

		throw;
	}
}
void IzlistajOptuzbu (char ** pok_na_znak, int n){
	for(int i=0;i&lt;n;i++){
		if(pok_na_znak[i]==nullptr) continue;
</font>		else{
			char* q;
			q=pok_na_znak[i];
			while(*q!='\0'){
				cout&lt;&lt;*q;
				q++;
			}
			cout&lt;&lt;endl;
		}
	}
}
int main ()
{
	cout&lt;&lt;"Koliko potencijalnih krivaca zelite unijeti? "&lt;&lt;endl;
	int n;
	cin&gt;&gt;n;
	cin.ignore(1000, '\n');
	try{
		vector&lt;string&gt; Krivi (n);
		cout&lt;&lt;"Unesite potencijalne krivce: "&lt;&lt;endl;
		for(int i=0;i&lt;n;i++){
			getline(cin, Krivi[i]);
		}
		char** Optuzeni;
		char**&amp; NizOptuzenih(Optuzeni);
		try{
			n= PotencijalniKrivci(NizOptuzenih,Krivi);
			while(1){
				cout&lt;&lt;"Odaberite opciju: 1 za unos novog optuzenog, 2 za brisanje nekog optuzenog 3 za izlistavanje optuzenih, 0 za kraj: "&lt;&lt;endl;
				int x;
				cin&gt;&gt;x;
				cin.ignore(10000,'\n');
				if (x==0) break;
				if(x==2){
					cout&lt;&lt;"Unesite ime koje zelite izbaciti: "&lt;&lt;endl;
					string s;
					getline(cin,s);
					try{
						n=OdbaciOptuzbu(NizOptuzenih,n,s);
					}
					catch(domain_error izuzetak){
						cout&lt;&lt;izuzetak.what();
					}
				}
				if (x==1){
					cout&lt;&lt;"Unesite ime novog optuzenog: "&lt;&lt;endl;
					string s1;
					getline(cin,s1);
					try{
						n=DodajOptuzbu(NizOptuzenih,n,s1);
					}
					catch(...){
						cout&lt;&lt;"Dodavanje nije uspjelo";
					}
				}
				if (x==3)
				IzlistajOptuzbu(NizOptuzenih,n);
			}
			for(int i=0;i&lt;n;i++){
				delete [] Optuzeni[i];
			}
			delete[] Optuzeni;
		}
		catch(...){
		throw;
		}
	}
	catch(...){
		cout&lt;&lt;"Greska";
	}
	return 0;
}</pre>
</body>
</html>
