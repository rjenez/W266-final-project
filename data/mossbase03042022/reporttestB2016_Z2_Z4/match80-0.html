<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z2/Z4/student8199.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z2/Z4/student8199.cpp<p></p><pre>
/*B 16/17, ZadaÄ‡a 2, Zadatak 4
	
	NAPOMENA: i javni ATo-vi su dio postavke
	
	Autotestovi by Ivona Ivkovic. Sva pitanja, sugestije
	i prijave gresaka saljite na mail: iivkovic2@etf.unsa.ba
*/

#include &lt;iostream&gt;
#include &lt;vector&gt;
#include &lt;string&gt;

<a name="0"></a><font color="#FF0000"><a href="match80-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_99.gif"/></a>

using namespace std;


void IzlistajOptuzbu(char **pokStr, int n)
{
	for (int i = 0; i &lt; n; i++) {
		if (pokStr[i]) {
			int j = 0;
			while (pokStr[i][j] != '\0') {
				cout &lt;&lt; pokStr[i][j];
				j++;
			} cout &lt;&lt; endl;
		}
	}
}

int PotencijalniKrivci(char **&amp;pokStr, vector&lt;string&gt; s)
{
	int br = 0;
	try
	{
		pokStr = new char *[s.size()];

		try
		{
			for (int i = 0; i &lt; s.size(); i++)
			{
				pokStr[i] = new char[s[i].size() + 1];
				if (pokStr) br++;
			}

			for (int i = 0; i &lt; s.size(); i++)
			{
				for (int j = 0; j &lt;= s[i].size(); j++)
				{
					pokStr[i][j] = s[i][j];
					if (j == s[i].size()) pokStr[i][j] = '\0';
				}
			}

			return br;
		}
		catch (...)
		{
			throw;
		}
	}
	catch (...)
	{
		delete[] pokStr;
		throw;
	}
}

int OdbaciOptuzbu(char **&amp;pokStr, int n, string str)
{
	int br = n;
	int brim = 0;
	for (int i = 0; i &lt; n; i++) {
		if (!pokStr[i]) continue;
		int k = 0;
		if (pokStr[i][k] != '\0' &amp;&amp; pokStr[i])
		{
			while (pokStr[i][k] != '\0') k++;
		}

		int j = 0;
		if (pokStr[i][j] != '\0' &amp;&amp; pokStr[i])
		{
			while (j &lt; str.size() &amp;&amp; pokStr[i][j] == str[j]) j++;
		}

		if (j == k)
		{
			pokStr[i] = nullptr;
			delete[] pokStr[i];
			continue;
		}
		brim++;
	}


	return n;
}

int DodajOptuzbu(char **&amp;pokStr, int n, string str)
{
	try
	{
		for (int i = 0; i &lt; n; i++) {
			if (!pokStr[i])
			{
				pokStr[i] = new char[str.size() + 1];

				for (int j = 0; j &lt;= str.size(); j++)
				{
					if (i == str.size()) pokStr[i][j] = '\0';
					pokStr[i][j] = str[j];
				}
				return n;
			}
		}

		char **pokChar;
		pokChar = new char *[n + 1];

		for (int i = 0; i &lt; n; i++)
		{
			int j = 0;
			while (pokStr[i][j] != '\0')
			{
				j++;
			}
			pokChar[i] = new char[j];

			for (int k = 0; k &lt;= j; k++)
			{
				pokChar[i][k] = pokStr[i][k];
			}
		}

		pokChar[n] = new char[str.size() + 1];
		for (int i = 0; i &lt;= str.size(); i++)
		{
			if (i == str.size()) pokChar[n][i] = '\0';
			pokChar[n][i] = str[i];
		}

		for (int i = 0; i &lt; n; i++)
		{
			delete[] pokStr[i];
		}

		delete[] pokStr;

		n++;

		pokStr = new char *[n];

		for (int i = 0; i &lt; n; i++)
		{
			int j = 0;

			while (pokChar[i][j] != '\0') j++;

			pokStr[i] = new char[j];
		}

		for (int i = 0; i &lt; n; i++)
		{
			int j = 0;
			while (pokChar[i][j] != '\0')
			{
				pokStr[i][j] = pokChar[i][j];
				j++;
			}
		}

		return n;
	}
	catch (...)
	{
		for (int i = 0; i &lt; n; i++)
		{
			delete[] pokStr[i];
		}
		
		delete[] pokStr;
	}
}

int main()
{
	try
	{
		cout &lt;&lt; "Koliko potencijalnih krivaca zelite unijeti? " &lt;&lt; endl;
		int n;
		cin &gt;&gt; n;
		cin.ignore(10000, '\n');

		cout &lt;&lt; "Unesite potencijalne krivce: " &lt;&lt; endl;
		vector&lt;string&gt; s;

		for (int i = 0; i &lt; n; i++)
		{
			string pom;
			getline(cin, pom);

			s.push_back(pom);
		}


		char **pokStr = nullptr;

		n = PotencijalniKrivci(pokStr, s);

		int input;
		do
		{
			cout &lt;&lt; "Odaberite opciju: 1 za unos novog optuzenog, 2 za brisanje nekog optuzenog 3 za izlistavanje optuzenih, 0 za kraj: " &lt;&lt; endl;
			cin &gt;&gt; input;

			if (input == 1)
			{
				cout &lt;&lt; "Unesite ime novog optuzenog: " &lt;&lt; endl;
				cin.ignore(100000, '\n');
				string ime;
				getline(cin, ime);

				n = DodajOptuzbu(pokStr, n, ime);
			}

			if (input == 2)
			{
				cout &lt;&lt; "Unesite ime koje zelite izbaciti: " &lt;&lt; endl;
				cin.ignore(100000, '\n');
				string ime;
				getline(cin, ime);
				n = OdbaciOptuzbu(pokStr, n, ime);
			}

			if (input == 3)
			{
				IzlistajOptuzbu(pokStr, n);
			}

		} while (input != 0);

		return 0;
	}

	catch (...)
</font>	{
		return 0;
	}
}</pre>
</body>
</html>
