<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z2/Z4/student4296.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z2/Z4/student1981.cpp<p></p><pre>
/*B 16/17, ZadaÄ‡a 2, Zadatak 4
	
	NAPOMENA: i javni ATo-vi su dio postavke
	
	Autotestovi by Ivona Ivkovic. Sva pitanja, sugestije
	i prijave gresaka saljite na mail: iivkovic2@etf.unsa.ba
*/

#include &lt;iostream&gt;
#include &lt;cmath&gt;
#include &lt;new&gt;
#include &lt;stdexcept&gt;
#include &lt;string&gt;
#include &lt;algorithm&gt;
#include &lt;iomanip&gt;
#include &lt;vector&gt;
#include &lt;type_traits&gt;

<a name="1"></a><font color="#00FF00"><a href="match321-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_4.gif"/></a>

using std::cout;
using std::cin;
using std::endl;
using std::string;
using std::vector;


int PotencijalniKrivci (char **&amp;pok, vector&lt;string&gt; s) {
</font>	int broj(0);
	
	pok=new char*[s.size()];
	for(int i=0; i&lt;s.size(); i++) pok[i]=nullptr;
	try {
	for(int i=0; i&lt;s.size(); i++) {
		pok[i]=new char[s[i].size()+1];
		broj++;
	}

<a name="2"></a><font color="#0000FF"><a href="match321-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_4.gif"/></a>

	for(int i=0; i&lt;s.size(); i++) {
		for(int j=0; j&lt;s[i].size(); j++) {
			
			pok[i][j]=s[i][j]; 
</font>			if(j==s[i].size()-1) pok[i][j+1]='\0';
			
		}
	}
	
	}
<a name="3"></a><font color="#00FFFF"><a href="match321-0.html#3" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_3.gif"/></a>

	catch (std::bad_alloc) {
		for(int i=0; i&lt;s.size(); i++) delete[] pok[i];
		delete[]pok;
</font>		throw;
	}
	return broj;
}

int OdbaciOptuzbu (char **&amp;pok, int vel, string s) {
	
	int broj(0);
	for(int i=0; i&lt;vel; i++) { 
		int j(0),br(0);
		char *p=pok[i];
		while(j&lt;s.size()) { 
			if(*p==s[j] )br++;
			p++;
			j++;
		} 
	
	
		if(br==s.size() &amp;&amp; isalpha(*(p))==false ) {
			delete[]pok[i];
			pok[i]=nullptr;
			broj++;
		}
	
	}
	
	if(broj==0) throw std::domain_error ("Osoba sa imenom "+s+" nije bila optuzena");
	if(broj&gt;10) {
		
		char **novi=new char*[vel-broj];
		try{
		for(int i=0; i&lt;vel; i++) {
			if(pok[i]!=nullptr)novi[i]=pok[i];
		}
		}
		catch(...) {
			for(int i=0; i&lt;vel-broj; i++) delete[] novi[i];
			delete[]novi;
		}
		
	}
	
	
	

	return vel;
}

int DodajOptuzbu(char **&amp;pok, int vel, string s){

	int br(0);
	
	char*novi=new char[s.size()+1];
	try {
	 for(int i=0; i&lt;s.size()+1; i++) {
	 	novi[i]=s[i];
	 }
	
	for(int i=0; i&lt;vel; i++) { 
		if(pok[i]==nullptr) { 
			pok[i]=novi;
			br++;
		}
	}
	if(br==0) {
		
<a name="0"></a><font color="#FF0000"><a href="match321-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_5.gif"/></a>

		char **n=new char*[vel+1];
		for(int i=0; i&lt;vel; i++) 
			n[i]=pok[i];
		n[vel]=novi;
		
		
		delete[] pok;
		pok=n;
		
	vel++;
	}
	}
	catch (...) {
</font>		
		delete[]novi;
<a name="4"></a><font color="#FF00FF"><a href="match321-0.html#4" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_3.gif"/></a>

		throw;
	}

	return vel;

}


void IzlistajOptuzbu (char **pok, int vel ){

	for(int i=0; i&lt;vel; i++) {
		if(pok[i] !=nullptr)cout&lt;&lt;pok[i];
</font>		cout&lt;&lt;endl;
	}
}

int main ()
{
	
	cout&lt;&lt;"Koliko potencijalnih krivaca zelite unijeti? \n";
	int n;
	cin&gt;&gt;n;
	
	cout&lt;&lt;"Unesite potencijalne krivce: ";
	char **niz=nullptr;
	vector&lt;string&gt; imena;
	string s;
	cin.ignore(1000,'\n');
	do {
		getline(cin,s);
		imena.push_back(s);
		n--;
	} while(n!=0);
	int opcija;
	
		
	int velicina=PotencijalniKrivci(niz,imena);
	do {
	cout&lt;&lt;endl&lt;&lt;"Odaberite opciju: 1 za unos novog optuzenog, 2 za brisanje nekog optuzenog 3 za izlistavanje optuzenih, 0 za kraj: \n";
	cin&gt;&gt;opcija;
	try {
	if(opcija==1) {
		string optuzeni;
		cout&lt;&lt;"Unesite ime novog optuzenog: ";
		cin.ignore(1000,'\n');
		getline(cin,optuzeni);
		velicina=DodajOptuzbu(niz,velicina,optuzeni);
	}
	if(opcija==2) {
		cout&lt;&lt;"Unesite ime koje zelite izbaciti: ";
		cin.ignore(1000,'\n');
		string izbaci;
		getline(cin,izbaci);
		velicina=OdbaciOptuzbu(niz,velicina,izbaci);
		
	}
	
	if(opcija==3) 	IzlistajOptuzbu(niz,velicina);
	
	
		}
	catch(std::bad_alloc) {
		for(int i=0; i&lt;velicina; i++) delete[] niz[i];
		delete[]niz;
	}
	catch(std::domain_error i) {
<a name="5"></a><font color="#FF0000"><a href="match321-0.html#5" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_3.gif"/></a>

	cout&lt;&lt;i.what()&lt;&lt;endl;
	}
	
	} while(opcija!=0);
	for(int i=0; i&lt;velicina; i++) delete[] niz[i];
	delete[]niz;
</font>
	return 0;
}



</pre>
</body>
</html>
