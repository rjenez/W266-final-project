<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z2/Z4/student9538.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z2/Z4/student9538.cpp<p></p><pre>
/*B 16/17, ZadaÄ‡a 2, Zadatak 4
	
	NAPOMENA: i javni ATo-vi su dio postavke
	
	Autotestovi by Ivona Ivkovic. Sva pitanja, sugestije
	i prijave gresaka saljite na mail: iivkovic2@etf.unsa.ba
*/

#include &lt;iostream&gt;
#include &lt;vector&gt;
#include &lt;cmath&gt;
#include &lt;string&gt;
#include &lt;stdexcept&gt;

using namespace std;



int PotencijalniKrivci(char **&amp;k,vector&lt;string&gt;s)
{
	char **pok;
	
	pok=new char *[s.size()];
	
<a name="2"></a><font color="#0000FF"><a href="match889-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_3.gif"/></a>

	for(int i=0;i&lt;s.size();i++)
		pok[i]=new char [s[i].size()+1];
		
	for(int i=0;i&lt;s.size();i++)
</font>	{
		for(int j=0;j&lt;s[i].size();j++)
			{
				pok[i][j]=s[i][j];
			}
		pok[i][s[i].size()]='\0';
	}
	
		
	
	k=pok;
	return s.size();
}

int Alociraj(char **&amp;k,int br,int count)
{
	char **pok=new char*[br-count];
		
<a name="0"></a><font color="#FF0000"><a href="match889-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_4.gif"/></a>

		int cn=0;
		for(int i=0;i&lt;br;i++)
		{
			if(k[i]!=nullptr){
				pok[cn]=k[i];
				cn++;
			}
		}
	delete []k;
	k=pok;
	return br-count;
</font>	
}

bool ProvjeriString(char *p,string s)
{    
	char *pom;int i;
	for(i=0,pom=p;i&lt;s.size() || *pom!='\0';i++,pom++)
	{
		if(s[i]!=*pom) return false;
	}
<a name="3"></a><font color="#00FFFF"><a href="match889-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_3.gif"/></a>

	return true;
}


int OdbaciOptuzbu(char **&amp;k,int br,string s)
{	
 	bool ima=false;
 	
 	for(int i=0;i&lt;br;i++)
 	{
 	 	if(ProvjeriString(k[i],s))
</font> 			ima=true;
 	}
 	if(!ima) throw domain_error("Osoba sa imenom "+s+" nije bila optuzena");
 	
	for(int i=0;i&lt;br;i++)
	{   
		int j=0;
		bool postoji=true;
		
		while(*k[i]!='\0')
		{	
			if(*k[i]!=s[j]) postoji=false;
			j++;
			k[i]++;
		}
		k[i]-=j;
		
		if(postoji==true)
		{   
			delete [] k[i];
			k[i]=nullptr;
			int count=0;
			for(int p=0;p&lt;br;p++)
				if (k[p]==nullptr) count++;
			if(count&gt;10)
				br=Alociraj(k,br,count);
			
			
		}
		
		
	}
	
	 
	
	
	return br;
}

void Dealociraj(char **&amp;k,int br)
{
	if(k==nullptr) return;
	
	for(int i=0;i&lt;br;i++)
	delete [] k[i];
	delete [] k;
	k=nullptr;
	
}
int Alociraj(char **&amp;k,int br,char *pok)
{
<a name="1"></a><font color="#00FF00"><a href="match889-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_4.gif"/></a>

	char **p=new char*[br+1];
    
    for(int i=0;i&lt;br;i++)
    {
    	p[i]=k[i];
    }
    p[br]=pok;
    delete [] k;
</font>    k=p;

    return br+1;
}



int DodajOptuzbu(char **&amp;k,int br,string s)
{
	
	char *pok=new char [s.size()+1];
	for(int i=0;i&lt;s.size();i++)
		pok[i]=s[i];
	pok[s.size()]='\0';
	
	for(int i=0;i&lt;br;i++)
	{   
		if(k[i]==nullptr){
			k[i]=pok;
		return br;
		}
	}
	
	br=Alociraj(k,br,pok);

	return br;

}



void IzlistajOptuzbu(char **k,int br)
{   

	for(int i=0;i&lt;br;i++)
	{	int count=0;
		if(k[i]==nullptr)continue;
		while(*k[i]!='\0')
		{
			cout&lt;&lt;*k[i];
			k[i]++;
			count++;
		}
		cout&lt;&lt;endl;
		k[i]-=count;
	}
}

int main ()
{  
	cout&lt;&lt;"Koliko potencijalnih krivaca zelite unijeti? "&lt;&lt;endl;
	int n;
	cin&gt;&gt;n;
	
	cout&lt;&lt;"Unesite potencijalne krivce: "&lt;&lt;endl;
	vector&lt;string&gt; s(n);
	for(int i=0;i&lt;s.size();i++)
		cin&gt;&gt;s[i];
	
	char **k=nullptr;
	

	int br=PotencijalniKrivci(k,s);
	
	

		while(1)
		{
			cout&lt;&lt;"Odaberite opciju: 1 za unos novog optuzenog, 2 za brisanje nekog optuzenog 3 za izlistavanje optuzenih, 0 za kraj: "&lt;&lt;endl;
			cin&gt;&gt;n;
			if(n==0) break;
			string s;
			switch(n){
				case 1:cout&lt;&lt;"Unesite ime novog optuzenog: "&lt;&lt;endl;cin&gt;&gt;s;br=DodajOptuzbu(k,br,s);break;		
			
				case 2:
					   cout&lt;&lt;"Unesite ime koje zelite izbaciti: "&lt;&lt;endl;
					   cin&gt;&gt;s;
				try
				{
					br=OdbaciOptuzbu(k,br,s);break;
					
				}
				catch(domain_error e) {cout&lt;&lt;e.what();}
			
				case 3:IzlistajOptuzbu(k,br);break;
			}
		}
		Dealociraj(k,br);

	
	return 0;
}</pre>
</body>
</html>
