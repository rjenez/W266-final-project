<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z2/Z4/student6303.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z2/Z4/student6303.cpp<p></p><pre>
/*B 16/17, ZadaÄ‡a 2, Zadatak 4
	
	NAPOMENA: i javni ATo-vi su dio postavke
	
	Autotestovi by Ivona Ivkovic. Sva pitanja, sugestije
	i prijave gresaka saljite na mail: iivkovic2@etf.unsa.ba
*/
#include&lt;iostream&gt;
#include&lt;vector&gt;
#include&lt;string&gt;
#include&lt;stdexcept&gt;
using namespace std;

int PotencijalniKrivci(char ** &amp;sp, vector&lt;string&gt; lista)
{
	sp=nullptr;
	for(int i=0; i&lt;lista.size(); i++) lista[i]+='\0';
	try
	{
<a name="0"></a><font color="#FF0000"><a href="match334-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_2.gif"/></a>

		sp=new char*[lista.size()];
		for(int i=0; i&lt;lista.size(); i++) sp[i]=nullptr;
		try
		{
			for(int i=0; i&lt;lista.size(); i++) sp[i]=new char[lista[i].size()];
</font>			for(int i=0; i&lt;lista.size(); i++)
				for(int j=0; j&lt;lista[i].size(); j++) sp[i][j]=lista[i][j];
<a name="2"></a><font color="#0000FF"><a href="match334-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_2.gif"/></a>

			return lista.size();
		} catch(...) { for(int i=0; i&lt;lista.size(); i++) delete [] sp[i]; throw;}
</font>	}
	catch(...)
	{
		delete [] sp; throw;
	}
}

bool isti(char* niz, string s)
{
	for(int i=0; i&lt;s.size(); i++)
		if(s[i]!=niz[i]) return false;
	return true;
}

int OdbaciOptuzbu(char ** &amp;lista, int n, string rec)
{
	bool egzistira=false;
	for(int i=0; i&lt;n; i++)
	{
		int br=0;
		char*z=&amp;lista[i][0];
	while(*z!='\0') { br++; z++;}
		if(rec.size()==br)
		{
			if(isti(lista[i], rec))
			{
				egzistira=true;
				delete [] lista[i];
				lista[i]=nullptr;
			}
		}
	}
	if(!egzistira) throw domain_error("Osoba sa imenom "+rec+" nije bila optuzena");
	int broj=0;
<a name="3"></a><font color="#00FFFF"><a href="match334-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_2.gif"/></a>

	for(int i=0; i&lt;n; i++) if(lista[i]==nullptr) broj++;
	if(broj&gt;=10)
	{
		char **l1;
		l1=nullptr;
</font>		try
		{
<a name="1"></a><font color="#00FF00"><a href="match334-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_2.gif"/></a>

			l1=new char*[n-broj];
			for(int i=0; i&lt;n-broj; i++) l1[i]=nullptr;
</font>			try {
				int br=0;
			for(int i=0; i&lt;n; i++)
				if(lista[i]!=nullptr)
				{
					int brr=0;
					char* z=&amp;lista[i][0];
	                while(*z!='\0') { brr++; z++;}
					l1[br]=new char[brr+1];
					for(int j=0; j&lt;brr; j++)l1[br][j]=lista[i][j];
					l1[br][brr]='\0';
					br++;
				}
			for(int i=0; i&lt;n; i++) delete [] lista[i];
			delete [] lista;
			lista=l1;
			l1=nullptr;
			n-=broj;
			return n;
			}
			catch (...) {
				throw;
			}
		}
		catch(...) { throw; }
	} else return n;
}

int DodajOptuzbu(char ** &amp;lista, int n, string rec)
{
	bool ima=false;
	rec+='\0';
	char *pok=nullptr;
	try
	{
		pok=new char[rec.size()];
		for(int i=0; i&lt;rec.size(); i++) pok[i]=rec[i];
	}
<a name="4"></a><font color="#FF00FF"><a href="match334-1.html#4" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_2.gif"/></a>

	catch(...) {throw;}
	for(int i=0; i&lt;n; i++)
	{
		if(lista[i]==nullptr)
		{
			ima=true;
			lista[i]=pok;
</font>		}
	}
	if(ima) return n;
	else
	{
		char **li=nullptr;
		try
		{
			li=new char *[n+1];
			for(int i=0; i&lt;n+1; i++) li[i]=nullptr;
			for(int i=0; i&lt;n; i++){ 
				int brr=0;
				char* z=&amp;lista[i][0];
	            while(*z!='\0') { brr++; z++;}
				li[i]=new char[brr+1];
				for(int j=0; j&lt;brr; j++)
				li[i][j]=lista[i][j];
				li[i][brr]='\0';
			}
<a name="5"></a><font color="#FF0000"><a href="match334-1.html#5" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_2.gif"/></a>

			li[n]=pok;
			for(int i=0; i&lt;n; i++) delete [] lista[i];
			delete [] lista;
			lista=li;
</font>			li=nullptr;
			n++;
			return n;
<a name="6"></a><font color="#00FF00"><a href="match334-1.html#6" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_2.gif"/></a>

		} catch(...) {throw;}
	}
}

void IzlistajOptuzbu(char** lista, int n)
{
	for(int i=0; i&lt;n; i++)
	{
		if(lista[i]==nullptr) continue;
</font>		else cout&lt;&lt;lista[i]&lt;&lt;endl;
	}
}

void deal(char** &amp;lista, int vel)
{
	for(int i=0; i&lt;vel; i++) delete [] lista[i];
	delete [] lista;
}

int main ()
{
	int vel;
	cout&lt;&lt;"Koliko potencijalnih krivaca zelite unijeti? ";
	cin&gt;&gt;vel;
	cout&lt;&lt;endl;
	vector&lt;string&gt; s(vel);
	cout&lt;&lt;"Unesite potencijalne krivce: "&lt;&lt;endl;
	for(int i=0; i&lt;s.size(); i++) cin&gt;&gt;s[i];
	char **lista=nullptr;
	try
	{
		vel=PotencijalniKrivci(lista,s);
		for(;;)
		{
			cout&lt;&lt;"Odaberite opciju: 1 za unos novog optuzenog, 2 za brisanje nekog optuzenog 3 za izlistavanje optuzenih, 0 za kraj: "&lt;&lt;endl;
			int n; 
			cin&gt;&gt;n;
			if(n==0) break;
			if(n==1)
			{
				cout&lt;&lt;"Unesite ime novog optuzenog: "&lt;&lt;endl;
				string s1;
				cin&gt;&gt;s1;
				try
				{
					vel=DodajOptuzbu(lista,vel,s1);
				}
				catch(...) { cout&lt;&lt;"Nema dovoljno memorije";}
			}
			if(n==2)
			{
				string s1;
				cout&lt;&lt;"Unesite ime koje zelite izbaciti: "&lt;&lt;endl;
				cin&gt;&gt;s1;
				try
				{
					vel=OdbaciOptuzbu(lista,vel,s1);
				}
				catch(domain_error izuz) {cout&lt;&lt;izuz.what();}
			}
			if(n==3) IzlistajOptuzbu(lista,vel);
		}
		deal(lista,vel);
		return 0;
	} catch(...) { cout&lt;&lt;"Nema dovoljno memorije";}
}</pre>
</body>
</html>
