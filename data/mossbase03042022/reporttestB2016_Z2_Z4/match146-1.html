<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z2/Z4/student6516.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z2/Z4/student7891.cpp<p></p><pre>
#include &lt;iostream&gt;
#include &lt;vector&gt;
#include &lt;string&gt;
#include &lt;stdexcept&gt;

<a name="0"></a><font color="#FF0000"><a href="match146-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_99.gif"/></a>

using std::cout;
using std::cin;
using std::endl;

int PotencijalniKrivci( char**&amp;x, std::vector&lt;std::string&gt; krivci)
{
	char**pok;
	try{
		pok=new char*[krivci.size()];
		for(int i=0; i&lt;krivci.size(); i++)
		{
			pok[i]=nullptr;
		}
		for(int i=0; i&lt;krivci.size(); i++)
		{
			pok[i]=new char[krivci[i].size()+1];
			
		}
		for(int i(0); i&lt;krivci.size(); i++)
		{
			int k(0);
			for(int j(0); j&lt;krivci[i].size(); j++)
			{
				pok[i][j]=krivci[i][j];
				k=j;
			} 
			k++;
			pok[i][k]='\0';
		}
		x=pok;
		return krivci.size();
	}
	catch(...)
	{
		for(int i=0; i&lt;krivci.size(); i++)
		{
			delete[] pok[i];
		}
		delete[] pok;
		throw std::bad_alloc();
	}
}


int OdbaciOptuzbu( char**&amp;x, int n, std::string s)
{
	int br(0);
	for(int i=0; i&lt;n; i++)
	{
		if(x[i]==nullptr) br++;
		
	}
	
	std::string pomocni;
	pomocni=s;
	std::vector&lt;int&gt;indexi;
	for(int i=0; i&lt;n; i++)
	{
		std::string s2;
		for(int j=0; j&lt;pomocni.size(); j++)
		{
			s2=s2+x[i][j];
		}
		if(s2==pomocni)
		{
			indexi.push_back(i);
			br++;
			
		}
		
	}
	if(indexi.size()==0) 
	{
		throw std::domain_error("Osoba sa imenom "+s+" nije bila optuzena");
	}
	for(int i=0; i&lt;indexi.size(); i++ )
	{
		delete[] x[indexi[i]];
		x[indexi[i]] = nullptr;
		
	}
	int vel=n-br;
	int index(0);
	if(br&gt;=10)
	{
		char**pok=new char*[vel];
		for(int i(0); i&lt;vel; i++)
		{
			pok[i]=nullptr;
		}
		for(int i(0); i&lt;n; i++)
		{
			if(x[i]!=nullptr)
			{
				pok[index]= x[i];
				index++;
			}
			delete[] x[i];
		}
		delete[] x;
		x=pok;
		return vel;
		
	}
	else return n;
}

void IzlistajOptuzbu( char**x, int n )
{
	for(int i(0); i&lt;n; i++)
	{
		if(x[i]!=0)
		{
			cout&lt;&lt;x[i];
		}
		cout&lt;&lt;endl;
	}
}

int main ()
{
	int n;
	cout&lt;&lt;"Koliko potencijalnih krivaca zelite unijeti? "&lt;&lt;endl;
	cin&gt;&gt;n;
	std::cin.ignore(10000, '\n');
	 std::vector&lt;std::string&gt; vs;
	 std::string s;
	 
	 cout&lt;&lt;"Unesite potencijalne krivce: "&lt;&lt;endl;
	 for(int i(0); i&lt;n; i++)
	 {
	 	std::getline(cin, s);
	 	vs.push_back(s);
	 }
	 char **krivci;
	 n=PotencijalniKrivci(krivci, vs);
	 int x;
	 do{
	 	cout&lt;&lt;"Odaberite opciju: 1 za unos novog optuzenog, 2 za brisanje nekog optuzenog 3 za izlistavanje optuzenih, 0 za kraj: "&lt;&lt;endl;
	 	cin&gt;&gt;x;
	 	if(x==0) {
	 		for(int i(0); i&lt;n; i++)
	 		{
	 			delete[] krivci[i];
	 		}
	 		delete[] krivci;
	 	
	 	}
	 	else if(x==2)
	 	{
	 		cout&lt;&lt;"Unesite ime koje zelite izbaciti: "&lt;&lt;endl;
	 		try{
	 			std::string ime;
	 			std::getline(cin,ime);
	 			n=OdbaciOptuzbu(krivci,n,ime );
	 			
	 		}
	 		catch(std::domain_error e)
	 		{
	 			cout&lt;&lt;e.what()&lt;&lt;endl;
	 		}
	 		
	 		
	 	}
	 	else if(x==3)
	 	{
	 		IzlistajOptuzbu(krivci, n);
	 	}
	 	
	 	
	 	
	 }while(x!=0);
</font>	 
	 
	
	
	
	return 0;
}</pre>
</body>
</html>
