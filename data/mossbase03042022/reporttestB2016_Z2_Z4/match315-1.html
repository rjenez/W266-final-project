<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z2/Z4/student8986.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z2/Z4/student7977.cpp<p></p><pre>
/*B 16/17, ZadaÄ‡a 2, Zadatak 4
	
	NAPOMENA: i javni ATo-vi su dio postavke
	
	Autotestovi by Ivona Ivkovic. Sva pitanja, sugestije
	i prijave gresaka saljite na mail: iivkovic2@etf.unsa.ba
*/
#include &lt;iostream&gt;
#include &lt;vector&gt;
#include &lt;string&gt;
#include &lt;stdexcept&gt;
#include &lt;cmath&gt;

int PotencijalniKrivci(char **&amp;pocetak, std::vector&lt;std::string&gt; vs){
	int brojac(0);
	char **pok(nullptr);
	try{
		pok = new char* [vs.size()];
<a name="0"></a><font color="#FF0000"><a href="match315-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_4.gif"/></a>

		for(int i=0; i&lt;vs.size(); i++){
			pok[i] = nullptr;
		}
		
		for(int i=0; i&lt;vs.size(); i++){
			pok[i] = new char[vs[i].length()+1];
</font>			brojac++;
			
			for(int j=0; j&lt;vs[i].length(); j++){
				pok[i][j] = vs[i][j];
			}
			pok[i][vs[i].length()] = '\0';
		}
		pocetak = pok;
	}catch(std::bad_alloc){
		for(int i=0; i&lt;vs.size(); i++){
			delete[] pok[i];
		}
		delete[] pok;
		throw;
	}
	
	return brojac;
}

int OdbaciOptuzbu(char **&amp;pocetak, int n , std::string ime){
	int i;
	int brojac(0);
	bool a(true);
	for(i=0; i&lt;n ; i++){
		int j;
		if(pocetak[i] != nullptr){
<a name="3"></a><font color="#00FFFF"><a href="match315-0.html#3" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_3.gif"/></a>

			for(j=0; j&lt;ime.length(); j++){
				if(ime[j] != pocetak[i][j]){
					break;
				}
			}
		
			if(j == ime.length()){
</font>				delete[] pocetak[i];
				pocetak[i] = nullptr;
				a = false;
				brojac++;
			}
		}else{
			brojac++;
		}
	}
	
	if(a){
		std::string izuzetak("Osoba sa imenom " + ime + " nije bila optuzena");
		throw std::domain_error (izuzetak);
	}
	
	int k(0);
	if(brojac &gt; 10){
		char **pok(nullptr);
<a name="5"></a><font color="#FF0000"><a href="match315-0.html#5" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_2.gif"/></a>

		pok = new char *[n-brojac];
		for(int j=0; j&lt; n-brojac; j++){
			pok[j] = nullptr;
</font>		}
		for(i=0; i &lt; n; i++){
			if(pocetak[i] != nullptr){
				int duzina(1);
				while(pocetak[i][duzina] != '\0'){
					duzina++;
				}
				pok[k] = new char[duzina + 1];
				
<a name="4"></a><font color="#FF00FF"><a href="match315-0.html#4" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_2.gif"/></a>

				for(int j=0; j&lt;duzina; j++){
					pok[k][j] = pocetak[i][j];
				}
				pok[k][duzina] = '\0';
				k++;
</font>			}
		}
		
		for(i=0; i&lt;n; i++) delete[] pocetak[i];
		delete[] pocetak;
		pocetak = pok;
	}else{
<a name="1"></a><font color="#00FF00"><a href="match315-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_3.gif"/></a>

		k = n;
	}
	
	return k;
}

int DodajOptuzbu(char **&amp;pocetak, int n, std::string ime){
	char *pomocni(nullptr);
	try{
		pomocni = new char [ime.length()+1];
</font>		for(int i=0; i&lt;ime.length(); i++){
			pomocni[i] = ime[i];
		}
		pomocni[ime.length()] = '\0';
	
		int i(0);
<a name="2"></a><font color="#0000FF"><a href="match315-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_3.gif"/></a>

		for(i=0; i&lt;n; i++){
			if(pocetak[i] == nullptr){
				pocetak[i] = pomocni;
				break;
			}
		}
	
		if(i == n){
			char **pok(nullptr);
</font>			pok = new char *[n+1];
			for(i=0; i&lt;n; i++){
				pok[i] = pocetak[i]; 
			}
			pok[n] = pomocni;
		
			delete[] pocetak;
			n++;
		
			pocetak = pok;
		}
	}catch(std::bad_alloc){
		throw;
	}
	
	return n;
}

void IzlistajOptuzbu(char **pocetak, int n){
	for(int i=0; i&lt;n; i++){
		if(pocetak[i] != nullptr){
			std::cout &lt;&lt; pocetak[i] &lt;&lt; std::endl;
		}
	}
}

int main ()
{
	std::cout &lt;&lt; "Koliko potencijalnih krivaca zelite unijeti? " &lt;&lt; std::endl;
	int n;
	std::cin &gt;&gt; n;
	std::cin.ignore (10000,'\n');
	std::vector&lt;std::string&gt; vs(n);
	std::cout &lt;&lt; "Unesite potencijalne krivce: " &lt;&lt; std::endl;
	std::string rijec;
	for(int i=0; i&lt;n; i++){
		std::getline(std::cin, rijec);
		vs[i].resize(rijec.length());
		vs[i] = rijec;
	}
	char **pok;
	int br_alociranih( PotencijalniKrivci(pok, vs) );
	
	std::cout &lt;&lt; "Odaberite opciju: 1 za unos novog optuzenog, 2 za brisanje nekog optuzenog 3 za izlistavanje optuzenih, 0 za kraj: " &lt;&lt; std::endl;
	int opcija;
	std::cin &gt;&gt; opcija;
	std::string ime;
	
	while(opcija != 0){
		
		if(opcija == 1){
			std::cout &lt;&lt; "Unesite ime novog optuzenog: " &lt;&lt; std::endl;
			try {
				std::cin.ignore(1000, '\n');
				std::getline(std::cin, ime);
				br_alociranih = DodajOptuzbu(pok, n, ime);
			}catch(std::bad_alloc){
				
			}
		}else if(opcija == 2){
			std::cout &lt;&lt; "Unesite ime koje zelite izbaciti: " &lt;&lt; std::endl;
			try{
				std::cin.ignore(1000, '\n');
				std::getline(std::cin, ime);
				br_alociranih = OdbaciOptuzbu(pok, br_alociranih, ime);
			}catch(std::domain_error izuzetak){
				std::cout &lt;&lt; izuzetak.what() &lt;&lt; std::endl;
			}
			
		}else if(opcija == 3){
			IzlistajOptuzbu(pok, br_alociranih);
			
		}
		
		std::cout &lt;&lt; "Odaberite opciju: 1 za unos novog optuzenog, 2 za brisanje nekog optuzenog 3 za izlistavanje optuzenih, 0 za kraj: " &lt;&lt; std::endl;
		std::cin &gt;&gt; opcija;
	}
	
	for(int i=0; i&lt;br_alociranih; i++) delete[] pok[i];
	delete[] pok;
	
	return 0;
}</pre>
</body>
</html>
