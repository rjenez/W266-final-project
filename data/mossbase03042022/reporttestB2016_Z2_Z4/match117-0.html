<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z2/Z4/student3899.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z2/Z4/student3899.cpp<p></p><pre>
/*B 16/17, ZadaÄ‡a 2, Zadatak 4
	
	NAPOMENA: i javni ATo-vi su dio postavke
	
	Autotestovi by Ivona Ivkovic. Sva pitanja, sugestije
	i prijave gresaka saljite na mail: iivkovic2@etf.unsa.ba
*/
#include&lt;iostream&gt;
#include&lt;stdexcept&gt;
#include&lt;vector&gt;
#include&lt;string&gt;
#include&lt;new&gt;
#include&lt;cstring&gt;


<a name="0"></a><font color="#FF0000"><a href="match117-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_99.gif"/></a>

int PotencijalniKrivci(char **&amp;pok,std::vector&lt;std::string&gt; imena){
	
	int n(imena.size());
	
	int brojac(0);
try{
	pok=nullptr;
	pok=(new char *[n]);
}catch(...){
	
//	delete [] pok;
	
	
	throw ;
	
}


	for(int i=0;i&lt;n;i++){
			int m(imena[i].length());
		
		try{
			pok[i]=nullptr;
		pok[i]=new char[m+1];
		
		}catch(...){
		for(int i=0;i&lt;n;i++){
			delete [] pok[i];	
			
			}
			delete [] pok;
		
		throw;}
	
		for(int j=0;j&lt;m;j++){
			pok[i][j]=imena[i][j];
		}
		pok[i][m]='\0';
		
	brojac++;
		
		
	}

	return brojac;
	
}

int OdbaciOptuzbu(char **&amp;pok,int n,std::string ime){
	int brnul(0);

	

	
	char **pok2(pok);

bool ima(false);

	for(int i=0;i&lt;n;i++){
		if(pok2[i]==nullptr) continue;
		
	//	if(ime.length()==std::strlen(pok2[i])){
	
		if(pok2[i]==ime){
			delete [] pok2[i];
			pok2[i]=nullptr;
			brnul++;
			ima=true;
		}
	//	}
		
}
bool pr(false);
if(ima){



	
	if(brnul&gt;=10){
		pr=true;
		try{
		char **p(new char *[n-brnul]);
		int j(0);
		for(int i=0;i&lt;n;i++){
			if(pok2[i]==nullptr) continue;
		
			p[j]=pok2[i];
			j++;
		}
		for(int i=0;i&lt;n;i++){
			pok[i]=nullptr;
		delete [] pok[i];
		}
		delete []pok;
		pok=p;
		
	}
	catch(...){
		throw;
	}
	}
} else {
	std::cout&lt;&lt;"Osoba sa imenom "&lt;&lt;ime&lt;&lt;" nije bila optuzena";
}
	
	if(pr) return n-brnul;
	else	return n;
	
}

int DodajOptuzbu(char **&amp;pok,int n,std::string ime){
	

	int m(ime.length());
	
	char **pok2(pok);
	/*
for(int i=0;i&lt;n;i++){
	std::cout&lt;&lt;pok2[i];
}

*/


	bool provjera(true);
//	char **pomniz=nullptr;
	

	char *pomocni(nullptr);
	
	try{
		
	//	std::cout&lt;&lt;"pr++";
	pomocni=new char[m+1];
		
	}
	catch(...){
	
//	delete [] pomocni;
	
	throw ;
		return n;
	}
	
	for(int i=0;i&lt;m;i++){
		pomocni[i]=ime[i];
		
		
	}
	pomocni[m]='\0';
	

	//std::cout&lt;&lt;pomocni;
	//bool provjera(true);
	
	
	
	for(int i=0;i&lt;n;i++){
		
		if (pok2[i]==nullptr){
		
			pok2[i]=pomocni;
			
			provjera=false;
			
		//	delete [] pomocni;
			
			break;
			
		}
		
		
	}
	if(provjera==false) return n;
	




	else{
		//char **pok2=nullptr;
	//	int m(n+1);
		//char **pomniz2(pomniz);
	
 char**pomniz=nullptr;

		try{
		pomniz=new char *[n+1];
			for(int i=0;i&lt;n;i++){
			
			pomniz[i]=&amp;pok[i][0];
			//pomniz[i]=new char [std::strlen(pok[i])];
			//std::strcpy(pomniz[i],pok[i]);
		
		}
			pomniz[n]=pomocni;
			delete [] pok;
		
		
		pok=nullptr;
		
		pok=pomniz;
		
	
		
		}
		catch(...){
			
			for(int i=0;i&lt;n+1;i++){
				delete [] pomniz[i];
			}
			delete [] pomniz ;
			throw;
			return n;
		}
	//	pomniz=pok2;
	   // pomniz2 = pomniz;
		
	
		
		


	

	
		/*
	//	pomniz=nullptr;
		for(int i=0;i&lt;n+1;i++){
			std::cout&lt;&lt;"|"&lt;&lt;pok[i]&lt;&lt;"|"&lt;&lt;std::endl;
		}
		*/
		
	//	pomniz=nullptr;
		
	
	//	pok=nullptr;
	/*	try{
	pok=new char*[n+1];

    

	for(int i=0;i&lt;n+1;i++){
		pok[i]=nullptr;
		pok[i]=pomniz[i];
	}
	
	
		}catch(...){
			for(int i=0;i&lt;n+1;i++){
			delete[] pok[i];
			}
			delete [] pok;
			throw;
		}
		*/
/*	
	for(int i=0;i&lt;n+1;i++){
		std::cout&lt;&lt;pomniz[i]&lt;&lt;std::endl;
	}

*/
//    pok=&amp;pomniz[0];
  /*  
    for(int i=0;i&lt;n;i++){
    	pomniz[i]=nullptr;
    	delete [] pomniz[i];
    }
   delete [] pomniz;
    pomniz=nullptr;
    */
 
    return n+1;
    
}



}





	



void IzlistajOptuzbu(char **pok,int n){
	
	for(int i=0;i&lt;n;i++){
		
		if(pok[i]==nullptr) continue;
		std::cout&lt;&lt;pok[i]&lt;&lt;std::endl;
	}
	
	
	
}
int main ()
{


	std::cout&lt;&lt;"Koliko potencijalnih krivaca zelite unijeti? "&lt;&lt;std::endl;
	int n;
	std::cin&gt;&gt;n;
	std::cout&lt;&lt;"Unesite potencijalne krivce: "&lt;&lt;std::endl;
	std::vector&lt;std::string&gt; lista(0);
	for(int i=0;i&lt;n;i++){
		
		std::string ime;
		std::cin&gt;&gt;ime;
		lista.push_back(ime);
	
	}
	char **pok;
	int br1(PotencijalniKrivci(pok,lista));
	
	
	int a;
	do{
	
	std::cout&lt;&lt;"Odaberite opciju: 1 za unos novog optuzenog, 2 za brisanje nekog optuzenog 3 za izlistavanje optuzenih, 0 za kraj: "&lt;&lt;std::endl;
	std::cin&gt;&gt;a;
	int br2(0),br3(0);
	if(a==1){
		std::string s;
		std::cout&lt;&lt;"Unesite ime novog optuzenog: "&lt;&lt;std::endl;
		std::cin&gt;&gt;s;
		br2=DodajOptuzbu(pok,br1,s);
	//	std::cout&lt;&lt;br2&lt;&lt;"*";
		br1=br2;
		
	}
	
	if(a==2){
		std::string s;
		std::cout&lt;&lt;"Unesite ime koje zelite izbaciti: "&lt;&lt;std::endl;
		std::cin&gt;&gt;s;
		br3=OdbaciOptuzbu(pok,br1,s);
		br1=br3;
		
	}
	if(a==3){
		IzlistajOptuzbu(pok,br1);
		
	}
	
	

	}while(a!=0);
</font>

	return 0;
}</pre>
</body>
</html>
