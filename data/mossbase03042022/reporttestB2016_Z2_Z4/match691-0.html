<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z2/Z4/student3178.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z2/Z4/student3178.cpp<p></p><pre>
#include &lt;iostream&gt;
#include &lt;algorithm&gt;
#include &lt;stdexcept&gt;
#include &lt;memory&gt;
#include &lt;string&gt;
#include &lt;vector&gt;
#include &lt;new&gt;

int PotencijalniKrivci(char**&amp; mat, std::vector&lt;std::string&gt; imena){

try{
	mat = new char* [imena.size()];
	try{
		for(int i=0; i&lt;imena.size(); i++)
	    	mat[i] = new char[imena[i].size() + 1];
	    	
	}catch(std::bad_alloc bd){
		delete[] mat;
		throw bd;
	}
	}catch(std::bad_alloc bd){
		throw bd;
    }
    for(int i=0; i&lt;imena.size(); i++){
    	for(int j=0; j&lt;imena[i].size(); j++){
    		mat[i][j] = imena[i][j];
    	}
    	mat[i][imena[i].size()] = '\0';
    }
    return imena.size();
}

bool JednakiSu(char* p, std::string ime){
	if(p == nullptr) return false;
	int i{0};
	while(i&lt;ime.length() &amp;&amp; p[i] !='\0'){
		if(p[i] != ime[i]) return false;
		i++;
	}
	if(p[i] != '\0' || ime.length() != i) return false;
	
    return true;	
}
  
  int DajVelicinu(char* p){
  	int i{0};
  	while(p[i] != '\0') i++;
  	return i;
  }

int OdbaciOptuzbu(char**&amp; mat, int vel, std::string ime){

   int brNull(0);
   bool nadjen=false;
   for(int i=0; i&lt;vel; i++){
      	if(mat[i] == nullptr)
   	       brNull++;
   	       
   	    if(JednakiSu(mat[i],ime)){
   	    	delete[] mat[i];
   	    	mat[i] = nullptr;
   	    	brNull++;
   	    	nadjen=true;
   	    }
   }
   	 
   if(!nadjen)
       throw std::domain_error("Osoba sa imenom " + ime + " nije bila optuzena");
   if(brNull &gt;= 10){
     	try{
   		    char** tmpP = new char*[vel- brNull];
   		    int tmpBr = 0;
   		    try{
   		    	for(int i=0; i&lt;vel; i++){
   		    		if(mat[i] != nullptr){
   		    			int k = DajVelicinu(mat[i]);
   		    			tmpP[tmpBr] = new char[k+1];
   		    			while(k&gt;=0){
   		    				 tmpP[tmpBr][k] = mat[i][k];
   		    				 k--;
   		    			}
   		    			tmpBr++;
   		    		}
   		    	}
   		    }catch(std::bad_alloc bd){
   		    	
   		    	for(int i=0; i&lt;tmpBr; i++)
   		    	    delete[] tmpP[i];
   		    	    
   		    	delete[] tmpP;
   		    	throw bd;
   		    	
   		    }
   		    
<a name="2"></a><font color="#0000FF"><a href="match691-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_2.gif"/></a>

   		    for(int i=0; i&lt;vel; i++)
   		        delete[] mat[i];
   		        
   		    delete[] mat;
   		    
   		    mat = tmpP;
   		    vel = tmpBr;
</font>     	}catch(std::bad_alloc bd){}
   }
   return vel;
}
   		    

int DodajOptuzbu(char**&amp; mat, int vel, std::string ime){
	try{
<a name="0"></a><font color="#FF0000"><a href="match691-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_6.gif"/></a>

		char* novi = new char[ime.length() + 1];
		
		for(int i=0; i&lt;ime.length(); i++)
		    novi[i] = ime[i];
		novi[ime.length()] = '\0';
		
		for(int i=0; i&lt;vel; i++){
			if(mat[i] == nullptr){
				mat[i] = novi;
</font>				return vel;
			}
		}
		char** tmp;
		try{
			tmp = new char*[vel + 1];
			
			for(int i=0;i&lt;vel; i++){
				try{
					tmp[i] = new char[DajVelicinu(mat[i]) + 1];
				}catch(std::bad_alloc bd){
					for(int j=0; j&lt;i; j++)
					   delete[] tmp[j];
					delete[] tmp;
					throw bd;
				}
				int k(0);
				while(mat[i][k] != '\0'){
					tmp[i][k] = mat[i][k];
					k++;
				}
				tmp[i][k] = '\0';
			}
		}catch(std::bad_alloc bd){
			throw bd;
		}
		tmp[vel] = novi;
		vel++;
		for(int i=0; i&lt;vel; i++)
		   delete[] mat[i];
		   delete[] mat;
		   mat=tmp;
	}catch(std::bad_alloc bd){
			throw bd;
		}
		return vel;
}
				
				

void IzlistajOptuzbu(char** mat, int vel){
<a name="1"></a><font color="#00FF00"><a href="match691-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_3.gif"/></a>

	for(int i=0; i&lt;vel; i++){
		if(mat[i] != nullptr)
		     std::cout &lt;&lt; mat[i] &lt;&lt;std::endl;
	}
}

	


int main(){
	int n;
//char** pok;

std::vector&lt;std::string&gt; lista_pot_krivaca;
</font>std::cout&lt;&lt; "Koliko potencijalnih krivaca zelite unijeti? " &lt;&lt;std::endl;
std::cin&gt;&gt; n;
if(n&lt;0) return 0;
std::cin.ignore(10000, '\n');

std::cout&lt;&lt; "Unesite potencijalne krivce: " &lt;&lt;std::endl;

for(int i{0}; i&lt;n; i++){
	std::string krivac;
	std::getline(std::cin, krivac);
	lista_pot_krivaca.push_back(krivac);
}

try{
std::cout &lt;&lt; "Odaberite opciju: 1 za unos novog optuzenog, 2 za brisanje nekog optuzenog 3 za izlistavanje optuzenih, 0 za kraj: " &lt;&lt;std::endl;
int broj{0};
std::cin &gt;&gt;broj;

if(broj==1){
	std::cout&lt;&lt; "Unesite ime novog optuzenog: " &lt;&lt;std::endl;
	std::string novi;
	std::cin.ignore(10000, '\n');
	std::getline(std::cin, novi);
//DodajOptuzbu(,lista_pot_krivaca);
}
else if(broj == 2){
	std::cout &lt;&lt;"Unesite ime koje zelite izbaciti: " &lt;&lt;std::endl;
	std::string za_izb;
	std::cin.ignore(10000, '\n');
	std::getline(std::cin, za_izb);
//OdbaciOptuzbu( ,lista_pot_krivaca);	
}
else if(broj==3){
//	IzlistajOptuzbu(,lista_pot_krivaca);
}
else if(broj==0){
	return 0; 
}

}

<a name="3"></a><font color="#00FFFF"><a href="match691-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_2.gif"/></a>

catch(std::domain_error e){
std::cout &lt;&lt; e.what() &lt;&lt; std::endl;}
catch(...){
	std::cout &lt;&lt; "Problem: Nema dovoljno memorije! " &lt;&lt; std::endl;}
</font>return 0;
}</pre>
</body>
</html>
