<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z2/Z4/student8288.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z2/Z4/student8288.cpp<p></p><pre>
#include &lt;iostream&gt;
#include &lt;iomanip&gt;
#include &lt;string&gt;
#include &lt;vector&gt;
#include &lt;algorithm&gt;
#include &lt;stdexcept&gt;
#include &lt;new&gt;
#include &lt;cstring&gt;

<a name="0"></a><font color="#FF0000"><a href="match107-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_99.gif"/></a>

int vel(0);
int PotencijalniKrivci(char** &amp;parametar,std::vector&lt;std::string&gt; imena) {
	int broj(0);
	try {
	   parametar=nullptr;
	parametar=new char* [imena.size()];
	for(int i=0;i&lt;imena.size();i++) {
		parametar[i]=nullptr;
	}
	for(int j=0;j&lt;imena.size();j++) {
		parametar[j]= new char [imena[j].length()+1];
		broj++;
		std::strcpy(parametar[j],imena[j].c_str());
	}
}
catch(std::bad_alloc) {
	std::cout&lt;&lt;"Neuspjela alokacija"&lt;&lt;std::endl;
	}
	return broj;
}
int OdbaciOptuzbu(char** &amp;parametar,int velicina,std::string ime) {
	int broj(0);
	for(int i=0;i&lt;velicina;i++) {
		if(parametar[i]!=nullptr) {
		if(std::strcmp(parametar[i],ime.c_str())==0) {
			delete[] parametar[i];
			parametar[i]=nullptr;
			broj++;
		}
	}
	}
	if(broj&gt;=10) {
		int razlika(velicina-broj);
		char **pokazivac;
		try {
			char** pomocni(parametar);
		  pokazivac=nullptr;
		  pokazivac=new char* [razlika];
		  for(int j=0;j&lt;razlika;j++) {
		  	pokazivac[j]=nullptr;
		  }
		  for(int f=0;f&lt;velicina;f++) {
		  for(int k=0;k&lt;razlika;k++) {
		  	if(parametar[f]!=nullptr) {
		  	pokazivac[k]=parametar[f];
		  	f++;
		  }
		  else {
		  k--;
		  f++;
	}
		  }
		  }
		  delete[] pomocni;
		  parametar=pokazivac;
		}
	catch(std::bad_alloc) {
		
	std::cout&lt;&lt;"Neuspjela alokacija!"&lt;&lt;std::endl;	
	}
	return razlika;
}
else {
try {
if(broj==0) {
	std::string greska("Osoba sa imenom ");
	greska+=ime;
	greska+=" nije bila optuzena";
	throw std::domain_error (greska);
}
}
catch(std::domain_error s) {
	std::cout&lt;&lt;s.what()&lt;&lt;std::endl;
}
}
return velicina;
}
int DodajOptuzbu(char** &amp;parametar,int velicina,std::string krivac) {
	try {
	char*novi(nullptr);
	novi=new char [krivac.length()+1];
	std::strcpy(novi,krivac.c_str());
	int i(0);
	for(i=0;i&lt;velicina;i++) {
		if(parametar[i]==nullptr) {
			parametar[i]=novi;
		break;
		}
	}
	
	if(i==velicina) {
		char** pomocni=parametar;
		char (** alocirano)(nullptr);
		alocirano=new char* [velicina+1];
		for(int j=0;j&lt;velicina;j++) {
			if(j&lt;velicina-1) {
				alocirano[j]=parametar[j];
			}
			alocirano[j]=novi;
		}
	delete[] pomocni;
	parametar=alocirano;
		return velicina+1;
	}
}
catch(std::bad_alloc) {
	std::cout&lt;&lt;"Neuspjela alokacija"&lt;&lt;std::endl; 
}
return velicina;
}

void IzlistajOptuzbu(char** parametar,int velicina) {
	for(int i=0;i&lt;velicina;i++) {
		if(parametar[i]!=nullptr) {
			std::cout&lt;&lt;parametar[i]&lt;&lt;std::endl;
		}
	}
}


int main ()
{
	char** nizPotencijalnih(nullptr);
	std::vector&lt;std::string&gt; imena;
	std::cout&lt;&lt;"Koliko potencijalnih krivaca zelite unijeti?: ";
	int s(0);
	std::cin&gt;&gt;s;
	vel=s;
	std::cin.ignore(1000,'\n');
	std::cout&lt;&lt;std::endl&lt;&lt;"Unesite potencijalne krivce: ";
	std::string ulaz;
for(int i=0;i&lt;s;i++) {
	std::getline(std::cin,ulaz);
if(ulaz.length()!=0) {
imena.push_back(ulaz);
}
std::cin.ignore(1000,'\n');
}
int n=PotencijalniKrivci(nizPotencijalnih,imena);
int x;
  do {
	std::cout&lt;&lt;std::endl&lt;&lt;"Odaberite opciju: 1 za unos novog optuzenog, 2 za brisanje nekog optuzenog 3 za izlistavnje optuzenih, 0 za kraj: ";
	std::cin&gt;&gt;x;
 switch(x) {
 	case 0:
 	break;
 	case 1:
 	{
 		std::cin.ignore(1000,'\n');
 	std::cout&lt;&lt;std::endl&lt;&lt;"Unesite ime novog optuzenog: ";
 	std::string sumnjivac;
 	std::getline(std::cin,sumnjivac);
 	imena.push_back(sumnjivac);
     DodajOptuzbu(nizPotencijalnih,vel+1,sumnjivac);
     vel+=1;
     break;
     
 	}
     case 2:
     {
     	std::cin.ignore(1000,'\n');
     std::cout&lt;&lt;std::endl&lt;&lt;"Unesite ime koje zelite izbaciti: ";
     std::string nijeon;
     std::getline(std::cin,nijeon);
     OdbaciOptuzbu(nizPotencijalnih,vel,nijeon);
     vel-=1;
     break;
     }
     case 3:
     IzlistajOptuzbu(nizPotencijalnih,vel);
     break;
     default:
     std::cout&lt;&lt;"Nepoznata opcija!"&lt;&lt;std::endl;
 }
}while(x!=0);
</font>	return 0;
}</pre>
</body>
</html>
