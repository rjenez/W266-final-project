<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z2/Z4/student6705.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z2/Z4/student2830.cpp<p></p><pre>
#include &lt;iostream&gt;
#include &lt;string&gt;
#include &lt;vector&gt;
#include &lt;stdexcept&gt;
int PotencijalniKrivci(char ** &amp;p, std::vector&lt;std::string&gt;v){
	int brojac(0);
	int j(0);
	 	p=nullptr;
		 p=new char*[v.size()];
		if(p==nullptr) throw std::bad_alloc();
		for(int i=0; i&lt;v.size(); i++){
			p[i]=nullptr;
		}
		for(int i=0; i&lt;v.size(); i++){
			p[i]=new char[v[i].length()+1];
			if(p[i]==nullptr) {
				for(int j=0; j&lt;brojac; j++){
					delete[] p[j];
				}
				delete[] p;
				throw std::bad_alloc();
		}
		brojac++;
		}
		for(int i=0; i&lt;v.size(); i++){
<a name="3"></a><font color="#00FFFF"><a href="match340-0.html#3" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_2.gif"/></a>

			for(j=0; j&lt;v[i].length(); j++){
				p[i][j]=v[i][j];
			}
			p[i][j]='\0';
		}
	return brojac;
</font>}
int OdbaciOptuzbu(char ** &amp;p, int n, std::string s){
	int j,k(0),brojac(0);
	for(int i=0; i&lt;n; i++){
		j=0;
			while(p[i][j]!='\0' &amp;&amp; j&lt;s.length()){
				if(p[i][j]!=s[j]){
					break;
				}
				j++;
			}
			if(p[i][j]=='\0' &amp;&amp; j==s.length()) {
				k=1;
				p[i][0]='\0';
				p[i]=nullptr;
				for(int i=0; i&lt;n; i++){
					if(p[i]==nullptr) brojac++;
				}
				if(brojac&lt;=10){
					return n;
				}else if(brojac&gt;10){
					char **l;
					l=nullptr;
					l=new char*[n-brojac];
					if(l!=nullptr){
					for(int i=0; i&lt;n; i++){
						if(p[i]!=nullptr){
<a name="4"></a><font color="#FF00FF"><a href="match340-0.html#4" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_2.gif"/></a>

					l[i]=p[i];	
					}
					}
				for(int i=0; i&lt;n; i++){
					delete[] p[i];
				}
			delete[] p; 
				p=l;
</font>				return n-brojac;
				}
			}
		
	}
		
	
	}
	if(k==0){
		std::string izuzetak="Osoba sa imenom " + s + " nije bila optuzena";
throw std::domain_error(izuzetak);
}
	
return n;	
}
int DodajOptuzbu(char ** &amp;p, int n, std::string s){
	char *k;
	k=nullptr;
	k=new char[s.length()+1];
	if(k==nullptr) throw std::bad_alloc();
<a name="0"></a><font color="#FF0000"><a href="match340-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_5.gif"/></a>

	for(int i=0; i&lt;s.length(); i++){
		k[i]=s[i];
	}
	k[s.length()]='\0';
	for(int i=0; i&lt;n; i++){
		if(p[i]==nullptr){
			p[i]=k;
			return n;
		}
	}
	char**pomocni;
</font>	pomocni=nullptr;
	pomocni=new char*[n+1];
	if(pomocni==nullptr) {
		delete[] k;
		throw std::bad_alloc();
	}
<a name="1"></a><font color="#00FF00"><a href="match340-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_4.gif"/></a>

	for(int i=0; i&lt;n; i++){
	pomocni[i]=p[i];	
	}
	pomocni[n]=k;
	delete[] p;
	p=pomocni;
return n+1;	
}
void IzlistajOptuzbu(char**p, int n){
for(int i=0; i&lt;n; i++){
</font>	// if(p[i]==nullptr) continue;
 std::cout&lt;&lt;p[i]&lt;&lt;std::endl;
}
}
int main ()
{
		char **d;
		int x,n;
	std::string s;
	std::vector&lt;std::string&gt;v;
	std::cout&lt;&lt;"Koliko potencijalnih krivaca zelite unijeti?"&lt;&lt;std::endl;
	std::cin&gt;&gt;n;
	v.resize(n);
<a name="2"></a><font color="#0000FF"><a href="match340-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_3.gif"/></a>

	std::cin.ignore(10000,'\n');
	std::cout&lt;&lt;"Unesite potencijalne krivce: "&lt;&lt;std::endl;
	for(int i=0; i&lt;n; i++){
	std::getline(std::cin,s);
</font>		v[i]=s;
	}
	try{
	n=PotencijalniKrivci(d,v);
		
		}catch(...){
		for(int j=0; j&lt;n; j++){
					delete[] d[j];
				}
				delete[] d;	
		}
	
	do{
	std::cout&lt;&lt;"Odaberite opciju: 1 za unos novog optuzenog, 2 za brisanje nekog optuzenog 3 za izlistavanje optuzenih, 0 za kraj: "&lt;&lt;std::endl;	
	std::cin&gt;&gt;x;
	std::cin.ignore(10000,'\n');
if(x==1){
		std::cout&lt;&lt;"Unesite ime novog optuzenog: "&lt;&lt;std::endl;
		std::getline(std::cin,s);
		try{
			n=DodajOptuzbu(d,n,s);
		}catch(...){
			for(int j=0; j&lt;n; j++){
				delete[] d[j];
			}
			delete[] d;
		}
}
else if(x==2){
	std::cout&lt;&lt;"Unesite ime koje zelite izbaciti: "&lt;&lt;std::endl;
	std::getline(std::cin,s);
	try{
		n=OdbaciOptuzbu(d,n,s);
	}catch(...){
		for(int j=0; j&lt;n; j++){
		delete[] d[j];
		}
	delete[] d;
	}
}
else if(x==3){
	IzlistajOptuzbu(d,n);
}
else if(x==0){
	for(int j=0; j&lt;n; j++){
		delete[] d[j];
	}
	delete[] d;
	return 0;
}
		
}while(x!=0);

	for(int j=0; j&lt;n; j++){
		delete[] d[j];
	}
	delete[] d;
	return 0;
}</pre>
</body>
</html>
