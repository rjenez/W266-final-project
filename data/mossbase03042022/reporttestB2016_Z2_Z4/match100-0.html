<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z2/Z4/student5185.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z2/Z4/student5185.cpp<p></p><pre>
#include &lt;iostream&gt;
#include &lt;string&gt;
#include &lt;vector&gt;
#include &lt;cstring&gt;
#include &lt;stdexcept&gt;

<a name="0"></a><font color="#FF0000"><a href="match100-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_99.gif"/></a>

int PotencijalniKrivci (char **(&amp;pok), std::vector&lt;std::string&gt; imenaKrivaca){
	int brojac(0);
	int brojKrivaca = imenaKrivaca.size();
	
	try{
		char **a(new char* [brojKrivaca]);
		
		for (int i = 0; i &lt; brojKrivaca; i++) {
			int duzinaImena = imenaKrivaca[i].length();
			try{
			a[i] = new char [duzinaImena+1];
			int j;
			for (j = 0; j &lt; duzinaImena; j++) {
				a[i][j] = imenaKrivaca[i][j];
			}
			a[i][j] = '\0';
			
			brojac++;
			}
			catch (std::bad_alloc e){
				throw;
			}
		}
		pok = a;
		
	}
	catch (std::bad_alloc e){
		
		std::cout &lt;&lt; e.what() &lt;&lt; std::endl;
	}


	return brojac;
} //Fja valjda radi

int OdbaciOptuzbu (char **(&amp;pok), int n, std::string ime){
	char niz[100];
	int internibrojac(0);

	std::strcpy(niz, ime.c_str());

	
	bool uSistemu(false);
	for (int i = 0; i &lt; n; i++) {
		if (pok[i] == nullptr) {
			continue;
		}
		
		if (std::strcmp(pok[i], niz)==0) {
			uSistemu=true;
			delete [] pok[i];
			pok[i]=nullptr;
			internibrojac++;
		}
	}
	if (!uSistemu) 	throw std::domain_error ("Osoba sa imenom " + ime + " nije bila optuzena");
	
	
	if (internibrojac &gt; 10) {
		
		try{
			char **a(new char* [n-internibrojac]);
			
			int i;
			for (i = 0; i &lt; n-internibrojac; i++) {
				if (a[i] != nullptr) {a[i] = pok[i];}
			}
			
			pok = a;
			return n-internibrojac;
		}
		
		catch (std::bad_alloc e){
			std::cout &lt;&lt; e.what() &lt;&lt; std::endl;
		}
	} //Ovo se ne testir
	

	return n;
}

int DodajOptuzbu (char **(&amp;pok), int n, std::string ime){
	
	char* poky = new char[ime.length()+1];
	int i;
	for (i = 0; i &lt; ime.length(); i++) {
		poky[i] = ime[i];
	}
	poky [i] = '\0';
	
	for (i = 0; i &lt; n; i++) {
		if (pok[i] == nullptr) {
			
			pok[i] = poky;
	
		
			
			return n;
		}
	} //izgleda ok
	
	try{
		char **a(new char* [n+1]);
		
		int i;
		for (i = 0; i &lt; n; i++) {
			a[i] = pok[i]; 
			pok[i] = nullptr;
			
		}
		
		
		a[i]=poky;
		
	
		
	
		pok = a;
	}
	catch (std::bad_alloc e){
		std::cout &lt;&lt; e.what() &lt;&lt; std::endl;
	}
	
	return n+1;
}

void IzlistajOptuzbu(char **(&amp;pok), int n){
	for (int i = 0; i &lt; n; i++) {
		if (pok[i] != nullptr) {
			std::cout &lt;&lt; pok[i] &lt;&lt; std::endl;
		}
	
	}
} 

int main (){
	
	int brPotKriv;
	std::cout &lt;&lt; "Koliko potencijalnih krivaca zelite unijeti?" &lt;&lt; std::endl;
	std::cin &gt;&gt; brPotKriv;
	
	std::vector&lt;std::string&gt; imenaKrivaca (brPotKriv);
	
	std::cout &lt;&lt; "Unesite potencijalne krivce: " &lt;&lt; std::endl;
	for (int i = 0; i &lt; brPotKriv; i++) {
		std::cin &gt;&gt; imenaKrivaca[i];
	}
		
	char **pok=nullptr;
	int a;
	
	try{
	a = PotencijalniKrivci(pok, imenaKrivaca);
	
	for(;;) {
		std::cout &lt;&lt; "Odaberite opciju: 1 za unos novog optuzenog, 2 za brisanje nekog optuzenog 3 za izlistavanje optuzenih, 0 za kraj: "&lt;&lt; std::endl;
		std::cin &gt;&gt; brPotKriv;
		if (brPotKriv == 0) {
			break;
		}
		else if (brPotKriv == 1){
			std::cout &lt;&lt; "Unesite ime novog optuzenog: "&lt;&lt; std::endl;
			std::string ime;
			std::cin.ignore(10000, '\n');
			std::cin &gt;&gt; ime;
			
			a= DodajOptuzbu(pok, a, ime);
		}
		else if (brPotKriv == 2){
			std::cout &lt;&lt; "Unesite ime koje zelite izbaciti:  "&lt;&lt;std::endl;
			std::string ime;
			std::cin.ignore(10000, '\n');
			std::cin &gt;&gt; ime;
			
			
			a= OdbaciOptuzbu(pok, a, ime);
		}
		else if(brPotKriv == 3){
			IzlistajOptuzbu(pok, a);
		}
	}
	}
	catch(std::bad_alloc e){
		for (int i = 0; i &lt; a; i++) {
			delete [] pok[i];
		}
		delete [] pok;
		std::cout &lt;&lt; e.what() &lt;&lt; std::endl;
	}
	catch(std::domain_error e){
		for (int i = 0; i &lt; a; i++) {
			delete [] pok[i];
		}
		delete [] pok;
		std::cout &lt;&lt; e.what() &lt;&lt; std::endl;
	}


	for (int i = 0; i &lt; a; i++) {
			delete [] pok[i];
			pok[i] = nullptr;
	}
	delete [] pok;
	pok = nullptr;
	

	
	
	return 0;
</font>}</pre>
</body>
</html>
