<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z2/Z4/student7335.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z2/Z4/student4982.cpp<p></p><pre>
#include &lt;iostream&gt;
#include &lt;vector&gt;
#include &lt;string&gt;
#include &lt;new&gt;
#include &lt;stdexcept&gt;
#include &lt;type_traits&gt;
#include &lt;cstring&gt;

int PotencijalniKrivci(char**&amp; c, std::vector&lt;std::string&gt; imena)
{
   char **niz=nullptr;; 
   int broj=0;
   try
   {
       niz=new char*[imena.size()];
       try
       {
          for(int i=0;i&lt;imena.size();i++)
          {
             niz[i]=new char[imena[i].size()+1];
             std::strcpy(niz[i],imena[i].c_str());
             broj++;
          }
          c=niz;
          return broj;
       }
       
       catch(...)
       {
           for(int i=0;i&lt;broj;i++) delete[] niz[i];
           delete[] niz; throw;
       }
   }
   catch(std::bad_alloc)
   {
       throw;
   }
}

int OdbaciOptuzbu(char**&amp; c, int vel, std::string s)
{
    
    int nulptr=0;
    bool ime=false;
    for(int i=0;i&lt;vel;i++)
    {
        if(c[i]!=nullptr)
        {
            if(std::strcmp(c[i],s.c_str())==0) {
            ime=true;
            delete[] c[i]; c[i]=nullptr; nulptr++;
            }
        }
    }
    if(ime==false) throw std::domain_error("Osoba sa imenom "+s+" nije bila optuzena");
    if(nulptr&gt;10)
    {
        if(nulptr-vel==0) return 0;
        char **c2=nullptr;
        try
        {
            int broj=0;
            c2=new char*[nulptr-vel];
            try
            {
                
                for(int i=0;i&lt;vel;i++)
                {
                    if(c[i]!=nullptr)
                    {
                        std::strcpy(c2[broj],c[i]);
                        broj++;
                    }
                }
                return broj;
            }
            catch(...)
            {
<a name="1"></a><font color="#00FF00"><a href="match365-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_3.gif"/></a>

                for(int i=0;i&lt;broj;i++)
                {
                    delete[] c2[i];
                }
                delete[] c2; throw;
            }
        }
        catch(std::bad_alloc)
        {
            throw;
        }
    }
    return vel;
}

int DodajOptuzbu(char**&amp; c, int vel, std::string s)
</font>{
    bool puno=true;
    for(int i=0;i&lt;vel;i++)
    {
        if(c[i]==nullptr)
        {
            c[i]=new char[s.size()+1];
            std::strcpy(c[i],s.c_str());
            puno=false;
            break;
        }
    }
    if(puno==true)
    {
        char **c2=nullptr;
        try
        {
            c2=new char*[vel+1]; int broj=0;
            try
            {
                for(int i=0;i&lt;vel;i++)
                {
                    c2[i]=new char[std::strlen(c[i])+1];
                    std::strcpy(c2[i],c[i]);
                    broj++;
                }
                c2[vel]=new char[s.size()+1];
                std::strcpy(c2[vel],s.c_str());
                broj++;
<a name="3"></a><font color="#00FFFF"><a href="match365-0.html#3" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_2.gif"/></a>

                for(int i=0;i&lt;vel;i++)
                {
                    delete[] c[i];
                }
                delete[] c; c=c2; c2=nullptr;
</font>                return vel+1;
            }
            catch(...)
            {
                for(int i=0;i&lt;broj;i++)
                {
                    delete[] c2[i];
                }
                delete[] c2; c2=nullptr; throw;
            }
        }
        catch(std::bad_alloc)
        {
            throw;
        }
    }
    return vel;
}

void IzlistajOptuzbu(char** c, int vel)
{
    for(int i=0;i&lt;vel;i++)
    {
        if(c[i]==nullptr) continue;
        else
        {
<a name="2"></a><font color="#0000FF"><a href="match365-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_3.gif"/></a>

            for(int j=0;j&lt;std::strlen(c[i]);j++) std::cout&lt;&lt;c[i][j];
            std::cout&lt;&lt;std::endl;
        }
    }
}

int main ()
{
    
	std::cout&lt;&lt;"Koliko potencijalnih krivaca zelite unijeti? "&lt;&lt;std::endl;
	int vel;
</font>	std::cin&gt;&gt;vel;
	std::cin.ignore(10000,'\n');
	std::vector&lt;std::string&gt; krivci;
	std::cout&lt;&lt;"Unesite potencijalne krivce: "&lt;&lt;std::endl;
	for(int i=0;i&lt;vel;i++)
	{
	    std::string ime;
	    std::getline(std::cin,ime);
	    krivci.push_back(ime);
	}
	char **niz;
	int n=PotencijalniKrivci(niz,krivci);
	char o;
	try {
	do {
	std::cout&lt;&lt;"Odaberite opciju: 1 za unos novog optuzenog, 2 za brisanje nekog optuzenog 3 za izlistavanje optuzenih, 0 za kraj: "&lt;&lt;std::endl;
	std::cin&gt;&gt;o;
	if(o=='1')
	{
<a name="0"></a><font color="#FF0000"><a href="match365-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_9.gif"/></a>

	    std::cout&lt;&lt;"Unesite ime novog optuzenog: "&lt;&lt;std::endl;
	    std:: string ime;
	    std::cin.ignore(10000,'\n');
	    std::getline(std::cin, ime);
	    n=DodajOptuzbu(niz,n,ime);
	}
	if(o=='2')
	{
	    std::cout&lt;&lt;"Unesite ime koje zelite izbaciti: "&lt;&lt;std::endl;
	    std::string ime;
	    std::cin.ignore(10000,'\n');
	    std::getline(std::cin, ime);
	    n=OdbaciOptuzbu(niz,n,ime);
	}
	if(o=='3')
</font>	{
	    IzlistajOptuzbu(niz,n);
	}
	} while(o!='0');
    }
    catch(std::domain_error e)
    {
        std::cout&lt;&lt;e.what()&lt;&lt;std::endl;
    }
	for(int i=0;i&lt;n;i++)
	{
	    delete[] niz[i];
	}
	delete[] niz;
	return 0;
}</pre>
</body>
</html>
