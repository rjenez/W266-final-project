<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z2/Z4/student9946.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z2/Z4/student8430.cpp<p></p><pre>
/*B 16/17, ZadaÄ‡a 2, Zadatak 4
	
	NAPOMENA: i javni ATo-vi su dio postavke
	
	Autotestovi by Ivona Ivkovic. Sva pitanja, sugestije
	i prijave gresaka saljite na mail: iivkovic2@etf.unsa.ba
*/

#include &lt;vector&gt;
#include &lt;iostream&gt;
#include &lt;stdexcept&gt;
using namespace std;


void IzlistajOptuzbu(char **a , int n){
	
	for(int i = 0 ; i &lt; n ; i++){
		
		char *pok = a[i];
		if(pok == nullptr){
			continue;
		}
		while(*pok != '\0'){
			cout &lt;&lt; *pok;
			pok++;
		}
		cout &lt;&lt; endl;
	}
	
}

int PotencijalniKrivci(char **&amp; a , vector&lt;string&gt; v){
	
	char **pom;
	int broj = 0;
	
	try{

		char **pok(new char*[v.size()]);
		pom = pok;
		
<a name="1"></a><font color="#00FF00"><a href="match958-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_4.gif"/></a>

		for(int i = 0 ; i &lt; v.size() ; i++){
			pok[i] = new char[v[i].size() + 1];
		}
		
		for(int i = 0 ; i &lt; v.size() ; i++){
</font>			char *p = pok[i];
			for(int j = 0 ; j &lt; v[i].size() ; j++){
				*p = v[i][j];
				p++;
			}
			*p = '\0';
			broj++;
		}
		
		a = pok;
		
	}
	catch(exception e){
		
<a name="3"></a><font color="#00FFFF"><a href="match958-0.html#3" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_3.gif"/></a>

		for(int i = 0 ; i &lt; v.size() ; i++){
			delete[] pom[i];
		}
		delete[] pom;
		
		throw bad_alloc();
	}
	
	return broj;
	
}

bool provjeraImena(char *pok , string ime){
</font>	
	bool provjera = true;
	for(int i = 0 ; i &lt; ime.length() ; i++){
		
		if(*pok != ime[i] || *pok == '\0'){
			provjera = false;
			break;
		}
		pok++;
	}
	
	return provjera;
}

int OdbaciOptuzbu(char **&amp; a , int n , string ime){
	
	bool ima = false;
	
	for(int i = 0 ; i &lt; n ; i++){
		
		if(*a == nullptr){
			continue;
		}
			
		if(provjeraImena(a[i] , ime)){
			delete[] a[i];
			a[i] = nullptr;
			ima = true;
			return n;
		}
		
	}
	
	if(!ima){
		throw domain_error("Osoba sa imenom " + ime + " nije bila optuzena");
	}
	
	int brojNull = 0;
	for(int i = 0 ; i &lt; n ; i++){
		if(a[i] == nullptr){
			brojNull++;
		}
	}
	
	if(brojNull &gt; 10){
		
		char **pom(new char*[n - 11]);
		int brojDodjeljenih = 0;
<a name="2"></a><font color="#0000FF"><a href="match958-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_3.gif"/></a>

		for(int i = 0 ; i &lt; n ; i++){
			if(a[i] != nullptr){
				pom[brojDodjeljenih] = a[i];
				brojDodjeljenih++;
			}
		}
		
		delete[] a;
		a = pom;
</font>	}
	return n - 11;	
}

int DodajOptuzbu(char **&amp; a , int n , string ime){
	
	try{
		
		char *p = new char[ime.length() + 1];
		char *p_pom = p;
		for(int i = 0 ; i &lt; ime.length() ; i++){
			*p_pom = ime[i];
			p_pom++;
		}
		*p_pom = '\0';
		
		for(int i = 0 ; i &lt; n ; i++){
			if(a[i] == nullptr){
				a[i] = p;
				return n;
			}
		}

	
		char **pok = a;
		a = new char*[n + 1];
		for(int i = 0 ; i &lt; n ; i++){
			a[i] = pok[i];
		}
		a[n] = p;
		delete[] pok;
	}
	catch(exception e){
		throw bad_alloc();
	}
	
	return n + 1;	
}

int main ()
{
	
	
	int x , n;
	vector&lt;string&gt; v;
<a name="0"></a><font color="#FF0000"><a href="match958-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_5.gif"/></a>

	char **pok;
	
	cout &lt;&lt; "Koliko potencijalnih krivaca zelite unijeti?" &lt;&lt; endl;
	cin &gt;&gt; x;
	
	cout &lt;&lt; "Unesite potencijalne krivce: " &lt;&lt; endl;
	for(int i = 0 ; i &lt; x ; i++){
		string s;
		cin &gt;&gt; s;
		v.push_back(s);
	}
	
	n = PotencijalniKrivci(pok , v);
</font>	
	int broj = 1;
	while(broj != 0){
		
		cout &lt;&lt; "Odaberite opciju: 1 za unos novog optuzenog, 2 za brisanje nekog optuzenog 3 za izlistavanje optuzenih, 0 za kraj: " &lt;&lt; endl;
		cin &gt;&gt; broj;
		if(broj == 1){
			cout &lt;&lt; "Unesite ime novog optuzenog: " &lt;&lt; endl;
			string ime;
			cin &gt;&gt; ime;
			n = DodajOptuzbu(pok , n , ime);	
		}
		else if(broj == 2){
			cout &lt;&lt; "Unesite ime koje zelite izbaciti: " &lt;&lt; endl;
			string ime;
			cin &gt;&gt; ime;
			n = OdbaciOptuzbu(pok,n,ime);
		}
		else if(broj == 3){
			IzlistajOptuzbu(pok , n);
		}
	}
	
	for(int i = 0 ; i &lt; n ; i++){
		delete[] pok[i];
	}
	delete[] pok;


	return 0;
}</pre>
</body>
</html>
