<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z2/Z4/student2364.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z2/Z4/student2364.cpp<p></p><pre>
#include &lt;iostream&gt;
#include &lt;vector&gt;
#include &lt;new&gt;
#include &lt;stdexcept&gt;

int PotencijalniKrivci(char **&amp;aD , std::vector&lt;std::string&gt; Vstringova)
{

	try {
		int Duzina(0);
		aD = nullptr;
		aD = new char *[Vstringova.size()];

		try {
			for(int i(0); i&lt; Vstringova.size(); i++) {
				aD[i] = nullptr;
				aD[i] = new char[Vstringova[i].length()+1];
				Duzina++;
			}
			for(int i(0); i &lt; Vstringova.size(); i++) {
				int j;
<a name="2"></a><font color="#0000FF"><a href="match490-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_3.gif"/></a>

				for(j = 0; j &lt; Vstringova.at(i).length(); j++) {
					aD[i][j] = Vstringova[i][j];
				}
				aD[i][j] = '\0';
</font>			}
			return Duzina;
		} catch(std::bad_alloc) {
			for(int i(0); i &lt; Duzina; i++)
				delete [] aD[i];
			delete [] aD;
			throw;
		}
	} catch(std::bad_alloc) {
		delete [] aD;
		throw;
	}
}

int OdbaciOptuzbu(char **&amp;aD, int n, std::string Pametan)
{
	bool Na_spisku(false);
	
	for(int i(0); i &lt; n; i++)
	{
		if(aD[i] != nullptr &amp;&amp; aD[i] == Pametan) {
			Na_spisku= true;
			delete []aD[i];
			aD[i] = nullptr;
		}
	}
	if(!Na_spisku)
	{
		std::string s = "Osoba sa imenom " + Pametan + " nije bila optuzena";
		throw std::domain_error(s);
	}
	int brojac(0);
	std::vector&lt;std::string&gt; Novi_s;
	for(int i(0); i &lt; n; i++){
		if(aD[i] == nullptr)brojac++;
		else Novi_s.push_back(aD[i]);
	}
	if(brojac &gt; 10)
	{
		char **Novi;
		int broj_novih(PotencijalniKrivci(Novi, Novi_s));
	
	for(int i(0); i &lt; n; i++){
		delete []aD[i];
	}
	delete[]aD;
	aD = nullptr;
	for(int i(0); i &lt; broj_novih; i++){
		aD[i] = Novi[i];
	}
	n = broj_novih;}
	return n;
}

int DodajOptuzbu(char **&amp;aD, int n, std::string PotKrivac)
{

	try {
		char *niz=nullptr;
		niz= new char[PotKrivac.length()+1];

		for(int i(0); i &lt; PotKrivac.length(); i++) {
			niz[i] = PotKrivac[i];
		}
		niz[PotKrivac.length()] = '\0';
		std::vector&lt;std::string&gt; Stringici;
		bool ima_null(false);
		for(int i(0); i &lt; n; i++) {
			if(aD[i] == nullptr) {
				aD[i] = niz;
				delete [] niz;
				niz = nullptr;
				ima_null = true;
				break;
			}
			Stringici.push_back(aD[i]);
		}
		Stringici.push_back(PotKrivac);

		if(!ima_null) {
			char **Novi_s;
			int broj_novih(PotencijalniKrivci(Novi_s, Stringici));
			for(int i(0); i &lt; n; i++) {
				delete [] aD[i];
			}
			delete [] aD;
			delete [] niz;
			niz=nullptr;
			aD = nullptr;

			aD = Novi_s;
			n = broj_novih;

			Novi_s = nullptr;

		}

	} catch(std::bad_alloc) {
		std::cout &lt;&lt; "Neuspjela alokacija" &lt;&lt; std::endl;
	}
	return n;
}

void IzlistajOptuzbu(char **Stringovi, int velicina)
{

	for(int i(0); i &lt; velicina; i++) {
		if(Stringovi[i] != nullptr)
			std::cout &lt;&lt; Stringovi[i] &lt;&lt; std::endl;
	}

}


int main ()
{

	try {
<a name="3"></a><font color="#00FFFF"><a href="match490-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_3.gif"/></a>

		std::cout &lt;&lt; "Koliko potencijalnih krivaca zelite unijeti? " &lt;&lt; std::endl;
		int BrojPotKrivaca(0);
		std::cin &gt;&gt; BrojPotKrivaca;

		std::cout &lt;&lt; "Unesite potencijalne krivce: " &lt;&lt; std::endl;
		std::vector&lt;std::string&gt; PotKrivci;
</font>		std::string Krivac;

		std::cin.ignore(1000, '\n');

		for(int i(0); i &lt; BrojPotKrivaca; i++) {

			std::getline(std::cin, Krivac);
			PotKrivci.push_back(Krivac);
		}


		char** aD;
		int broj(PotencijalniKrivci(aD, PotKrivci));
		int &amp;trenutni_broj = broj;
		int opcija;
<a name="0"></a><font color="#FF0000"><a href="match490-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_6.gif"/></a>

		do {
			std::cout &lt;&lt; "Odaberite opciju: 1 za unos novog optuzenog, 2 za brisanje nekog optuzenog 3 za izlistavanje optuzenih, 0 za kraj: " &lt;&lt; std::endl;
			std::cin &gt;&gt; opcija;

			if(opcija == 1) {
				std::cout &lt;&lt; "Unesite ime novog optuzenog: " &lt;&lt; std::endl;
				std::string ime;
				std::cin.ignore(1000, '\n');
				std::getline(std::cin, ime);
				trenutni_broj = DodajOptuzbu(aD, broj, ime);
</font>			}

<a name="1"></a><font color="#00FF00"><a href="match490-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_4.gif"/></a>

			else if(opcija == 2) {
				std::cout &lt;&lt; "Unesite ime koje zelite izbaciti: " &lt;&lt; std::endl;
				std::string ime;
				std::cin.ignore(1000, '\n');
				std::getline(std::cin, ime);
				trenutni_broj = OdbaciOptuzbu(aD, broj, ime);
</font>			} else if(opcija == 3) IzlistajOptuzbu(aD, trenutni_broj);

		} while(opcija != 0);

		for(int i(0); i &lt; broj; i++) {
			delete [] aD[i];
		}
		delete [] aD;
		return 0;
	} catch(std::domain_error izuzetak) {
		std::cout &lt;&lt; izuzetak.what();
	}
	return 0;
}</pre>
</body>
</html>
