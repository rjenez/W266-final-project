<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z2/Z4/student5542.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z2/Z4/student5542.cpp<p></p><pre>
#include &lt;iostream&gt;
#include &lt;string&gt;
#include &lt;vector&gt;
#include &lt;new&gt;
#include &lt;cstring&gt;
#include &lt;stdexcept&gt;

int PotencijalniKrivci(char **&amp;pok1, std::vector&lt;std::string&gt; vektor) {
	
	int brojalociranih=0;
	char **pok=nullptr;
	
	try {
	pok=new char*[vektor.size()];
	
	for(int i=0; i&lt;vektor.size(); i++) {
		pok[i]=nullptr;
	}
	
	try {
	for(int i=0; i&lt;vektor.size(); i++) {
		pok[i]=new char[vektor[i].length()+1];
		brojalociranih++;
	}
	int j;
	for(int i=0; i&lt;vektor.size(); i++) {
		for(j=0; j&lt;vektor[i].size(); j++) {
			pok[i][j]=vektor[i][j];
		}
		pok[i][j]='\0';
	}
	
	
	pok1=pok;
	
	
	return brojalociranih;
	}
	catch(std::bad_alloc) {
		for(int i=0; i&lt;vektor.size(); i++) {
			delete[] pok[i];
		}
		delete[] pok;
		throw;
		
	}
	}
	catch(std::bad_alloc) {
		throw "Neuspjela alokacija";
	}
	
}

int OdbaciOptuzbu(char **&amp;pok,  int velicina, std::string nije_prodao) {
	
	char nizime[20];
	int i;
	for(i=0; i&lt;nije_prodao.length(); i++) {
		nizime[i]=nije_prodao[i];
	}
	nizime[i]='\0';
	bool imauspisku=0;
	for(int i=0; i&lt;velicina; i++) {
		
		if(strcmp(pok[i], nizime)==0) { imauspisku=1; break; }

	}
	
	if(imauspisku==0) {
		throw std::domain_error("Osoba sa imenom " + nije_prodao + " nije bila optuzena");
	}
	
	for(int i=0; i&lt;velicina; i++) {
		
<a name="1"></a><font color="#00FF00"><a href="match878-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_4.gif"/></a>

		if(strcmp(pok[i], nizime)==0) { delete[] pok[i]; pok[i]=nullptr;  }
	
	}
	int brojac=0;
	for(int i=0; i&lt;velicina; i++) {
		if(pok[i]==nullptr) brojac++;
	}
	
	if(brojac&lt;=10) return velicina;
</font>	
	int novibrojredova=velicina-brojac;
	try {
	
	if(brojac&gt;10) {
		
		char **novipok;
		
<a name="2"></a><font color="#0000FF"><a href="match878-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_3.gif"/></a>

		novipok=new char*[novibrojredova];
		
		int k=0;
		for(int i=0; i&lt;velicina; i++) {
			if(pok[i]!=nullptr) {
				novipok[k]=pok[i];
</font>				k++;
			}
		}
		
		pok=novipok;
		
		return novibrojredova;
		}
	}
	catch(std::bad_alloc) {
		for(int i=0; i&lt;velicina; i++) delete[] pok[i]; delete[] pok;
		throw ("Neuspjela alokacija");
	}
	return 0;
}

int DodajOptuzbu(char **&amp;pok,  int velicina, std::string novo_ime) {
	
	char *poknaniz;
	poknaniz=new char[novo_ime.length()+1];
	int i;
	for(i=0; i&lt;novo_ime.length(); i++) {
		poknaniz[i]=novo_ime[i];
	}
<a name="3"></a><font color="#00FFFF"><a href="match878-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_2.gif"/></a>

	poknaniz[i]='\0';
	
	for(int i=0; i&lt;velicina; i++) {
		if(pok[i]==nullptr) { pok[i]=poknaniz; return velicina; }
</font>	}
	
	char **novipok;
<a name="0"></a><font color="#FF0000"><a href="match878-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_4.gif"/></a>

	novipok=new char*[velicina+1];
	
	for(int i=0; i&lt;velicina; i++) {
		novipok[i]=pok[i];
	}
	
	novipok[velicina]=poknaniz;
	
	delete[] pok;
	
	pok=novipok;
	
	return velicina+1;
</font>}

void IzlistajOptuzbu( char **pok, int velicina) {
	
	for(int i=0; i&lt;velicina; i++) {
	    if(pok[i]!=nullptr) { std::cout &lt;&lt; pok[i];
		std::cout &lt;&lt; std::endl;
	    }
	}
	
	
}

int main ()
{
	try {
	char **a;
	int brojalociranih;
	std::cout &lt;&lt; "Koliko potencijalnih krivaca zelite unijeti? " &lt;&lt; std::endl;
	int n;
	std::cin &gt;&gt; n;
	std::string krivac;
	std::vector&lt;std::string&gt; krivci;
	std::cin.ignore(1000,'\n');
	std::cout &lt;&lt; "Unesite potencijalne krivce: " &lt;&lt; std::endl;
	
	for(int i=0; i&lt;n; i++) {
		std::getline(std::cin, krivac);
		
		krivci.push_back(krivac);
		
	}
	
	brojalociranih=PotencijalniKrivci(a, krivci);
	
	std::string ime;
	int broj=5;
	
	while(broj!=0) {
	std::cout &lt;&lt; "Odaberite opciju: 1 za unos novog optuzenog, 2 za brisanje nekog optuzenog 3 za izlistavanje optuzenih, 0 za kraj: " &lt;&lt; std::endl;
	
	
	std::cin &gt;&gt; broj;
	std::cin.ignore(1000, '\n');
	
	if(broj==1) {
		std::cout &lt;&lt; "Unesite ime novog optuzenog: " &lt;&lt;std::endl;
		std::getline(std::cin, ime);
		krivci.push_back(ime);
		brojalociranih=DodajOptuzbu(a, brojalociranih, ime);
		
	}
	
	if(broj==2) {
		std::cout &lt;&lt; "Unesite ime koje zelite izbaciti: " &lt;&lt; std::endl;
		std::getline(std::cin, ime);
		try {
		brojalociranih=OdbaciOptuzbu(a, brojalociranih, ime);
		}
		catch(std::domain_error izuzetak) {
			std::cout &lt;&lt;  izuzetak.what();
			for(int i=0; i&lt;brojalociranih; i++) delete[] a[i]; delete[] a;
			return 0;
		}
	}
	
	if(broj==3) {
		IzlistajOptuzbu(a, brojalociranih);
	}
	
	}
	
	for(int i=0; i&lt;brojalociranih; i++) {
		delete[] a[i];
	}
	delete[] a;
	}
	catch(std::bad_alloc) {
		std::cout &lt;&lt;"Neuspjela alokacija";
	}
	
	
	return 0;
}</pre>
</body>
</html>
