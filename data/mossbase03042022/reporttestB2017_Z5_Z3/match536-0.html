<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z5/Z3/student3871.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z5/Z3/student3871.cpp<p></p><pre>
/B2017/2018: ZadaÄ‡a 5, Zadatak 3
#include &lt;iostream&gt;
#include &lt;stdexcept&gt;
 
class Datum
{
    int dan,mjesec,godina;
    char mjeseci[12][10]{"Januar","Februar","Mart","April","Maj","Juni","Juli","August","Septembar","Oktobar","Novembar","Decembar"};
    char dani[7][12]{"Ponedjeljak","Utorak","Srijeda","Cetvrtak","Petak","Subota","Nedjelja"};
public:
    enum Mjeseci {Januar = 1, Februar, Mart, April, Maj, Juni, Juli, August, Septembar, Oktobar, Novembar, Decembar};
<a name="0"></a><font color="#FF0000"><a href="match536-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_3.gif"/></a>

    enum Dani {Ponedjeljak = 1, Utorak, Srijeda, Cetvrtak, Petak, Subota, Nedjelja};
    Datum(int d, int m, int g);
    Datum(int d, Mjeseci mj, int g);
    void Postavi(int d, int m, int g);
    void Postavi(int d, Mjeseci mj, int g);
    int DajDan() const { return dan; }
    Mjeseci DajMjesec() const { return Mjeseci(mjesec); }
    int DajGodinu() const { return godina; }
    char *DajImeMjeseca() const { return (char *)(mjeseci[mjesec-1]); }
</font>    Dani DanUSedmici() const
    {
        int ukupnodana=0;
        for(int i=1800;i&lt;godina;i++)
        {
            int broj_dana=365;
            if((i%4==0 &amp;&amp; i%100!=0) || i%400==0) broj_dana++;
            ukupnodana+=broj_dana;
        }
        int broj_dana[12]{31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31};
        if((godina % 4 == 0 &amp;&amp; godina % 100 != 0 ) || godina % 400 == 0) broj_dana[1]++;
        for(int i=1;i&lt;mjesec;i++) ukupnodana+=broj_dana[i-1];
        for(int i=1;i&lt;dan;i++) ukupnodana++;
        return Dani((ukupnodana+2)%7+1);
    }
    char *DajImeDanaUSedmici() const { return (char *)(dani[DanUSedmici()-1]); }
    friend Datum&amp; operator++(Datum &amp;d);
    friend Datum operator++(Datum &amp;d, int);
    friend Datum&amp; operator--(Datum &amp;d);
    friend Datum operator--(Datum &amp;d, int);
    friend Datum&amp; operator+(Datum &amp;d1, int broj);
    friend Datum&amp; operator-(Datum &amp;d1, int broj);
    friend Datum&amp; operator+=(Datum &amp;d1, int broj);
    friend Datum&amp; operator-=(Datum &amp;d1, int broj);
    friend int operator-(Datum d1, Datum d2);
    friend bool operator&lt;(const Datum &amp;d1, const Datum &amp;d2);
    friend bool operator&gt;(const Datum &amp;d1, const Datum &amp;d2);
    friend bool operator&lt;=(const Datum &amp;d1, const Datum &amp;d2);
<a name="3"></a><font color="#00FFFF"><a href="match536-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_1.gif"/></a>

    friend bool operator&gt;=(const Datum &amp;d1, const Datum &amp;d2);
    friend bool operator==(const Datum &amp;d1, const Datum &amp;d2);
    friend bool operator!=(const Datum &amp;d1, const Datum &amp;d2);
</font>    friend std::ostream &amp;operator&lt;&lt;(std::ostream &amp;tok, const Datum &amp;d);
    friend std::istream &amp;operator&gt;&gt;(std::istream &amp;tok, Datum &amp;d);
    operator std::string() { return std::to_string(DajDan())+". "+std::string(DajImeMjeseca())+" "+std::to_string(DajGodinu())+". ("+std::string(DajImeDanaUSedmici())+")"; }
    explicit operator int();
};
Datum::operator int()
{
    int ukupnodana=0;
    for(int i=1800;i&lt;godina;i++)
    {
        int broj_dana=365;
        if((i%4==0 &amp;&amp; i%100!=0) || i%400==0) broj_dana++;
        ukupnodana+=broj_dana;
    }
    int broj_dana[12]{31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31};
    if((godina % 4 == 0 &amp;&amp; godina % 100 != 0 ) || godina % 400 == 0) broj_dana[1]++;
    for(int i=1;i&lt;mjesec;i++) ukupnodana+=broj_dana[i-1];
    for(int i=1;i&lt;dan;i++) ukupnodana++;
    return ukupnodana;
}
Datum::Datum(int d, int m, int g)
{
    int broj_dana[12]{31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31};
    if((g % 4 == 0 &amp;&amp; g % 100 != 0 ) || g % 400 == 0) broj_dana[1]++;
    if(g &lt; 1 || d &lt; 1 || m &lt; 1 || m &gt; 12 || d &gt; broj_dana[m - 1] || g &lt; 1800) throw std::domain_error("Nelegalan datum");
    dan = d; mjesec = m; godina = g;
}
Datum::Datum(int d, Mjeseci mj, int g)
{
    int m;
    m=int(mj);
    int broj_dana[12]{31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31};
    if((g % 4 == 0 &amp;&amp; g % 100 != 0) || g % 400 == 0) broj_dana[1]++;
    if(g &lt; 1 || d &lt; 1 || m &lt; 1 || m &gt; 12 || d &gt; broj_dana[m - 1] || g &lt; 1800) throw std::domain_error("Nelegalan datum");
    dan = d; mjesec = m; godina = g;
}
void Datum::Postavi(int d, int m, int g)
{
    int broj_dana[12]{31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31};
    if((g % 4 == 0 &amp;&amp; g % 100 != 0 ) || g % 400 == 0) broj_dana[1]++;
    if(g &lt; 1 || d &lt; 1 || m &lt; 1 || m &gt; 12 || d &gt; broj_dana[m - 1] || g &lt; 1800) throw std::domain_error("Nelegalan datum");
    dan = d; mjesec = m; godina = g;
}
void Datum::Postavi(int d, Mjeseci mj, int g)
{
    int m;
    m=int(mj);
    int broj_dana[12]{31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31};
    if((g % 4 == 0 &amp;&amp; g % 100 != 0) || g % 400 == 0) broj_dana[1]++;
    if(g &lt; 1 || d &lt; 1 || m &lt; 1 || m &gt; 12 || d &gt; broj_dana[m - 1] || g &lt; 1800) throw std::domain_error("Nelegalan datum");
    dan = d; mjesec = m; godina = g;
}
<a name="4"></a><font color="#FF00FF"><a href="match536-1.html#4" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_1.gif"/></a>

std::ostream&amp; operator&lt;&lt;(std::ostream &amp;tok, const Datum &amp;d)
{
    tok&lt;&lt;d.DajDan()&lt;&lt;". "&lt;&lt;d.DajImeMjeseca()&lt;&lt;" "&lt;&lt;d.DajGodinu()&lt;&lt;". ("&lt;&lt;d.DajImeDanaUSedmici()&lt;&lt;")"&lt;&lt;std::endl;
</font>    return tok;
}
std::istream &amp;operator&gt;&gt;(std::istream &amp;tok, Datum &amp;d)
{
    int dan,mjesec,godina;
    char znak;
    std::cin&gt;&gt;dan;
    if(!std::cin) { tok.setstate(std::ios::failbit); return tok; }
    std::cin&gt;&gt;znak;
    if(znak!='/' || !std::cin) { tok.setstate(std::ios::failbit); return tok; }
    std::cin&gt;&gt;mjesec;
    if(!std::cin) { tok.setstate(std::ios::failbit); return tok; }
    std::cin&gt;&gt;znak;
    if(!std::cin) { tok.setstate(std::ios::failbit); return tok; }
    std::cin&gt;&gt;godina;
    if(!std::cin) { tok.setstate(std::ios::failbit); return tok; }
    try
    {
        d=Datum(dan,mjesec,godina);
    }
    catch(...)
    {
        tok.setstate(std::ios::failbit);
    }
    return tok;
}
bool operator!=(const Datum &amp;d1, const Datum &amp;d2)
{
    return !(d1.dan==d2.dan &amp;&amp; d1.mjesec==d2.mjesec &amp;&amp; d1.godina==d2.godina);
}
bool operator==(const Datum &amp;d1, const Datum &amp;d2)
{
    return d1.dan==d2.dan &amp;&amp; d1.mjesec==d2.mjesec &amp;&amp; d1.godina==d2.godina;
}
bool operator&lt;(const Datum &amp;d1, const Datum &amp;d2)
{
    if(d1.godina!=d2.godina) return d1.godina&lt;d2.godina;
    if(d1.mjesec!=d2.mjesec) return d1.mjesec&lt;d2.mjesec;
    return d1.dan&lt;d2.dan;
}
bool operator&gt;(const Datum &amp;d1, const Datum &amp;d2)
{
    if(d1.godina!=d2.godina) return d1.godina&gt;d2.godina;
    if(d1.mjesec!=d2.mjesec) return d1.mjesec&gt;d2.mjesec;
    return d1.dan&gt;d2.dan;
}
bool operator&lt;=(const Datum &amp;d1, const Datum &amp;d2)
{
    if(d1.godina!=d2.godina) return d1.godina&lt;d2.godina;
    if(d1.mjesec!=d2.mjesec) return d1.mjesec&lt;d2.mjesec;
    return d1.dan&lt;=d2.dan;
}
bool operator&gt;=(const Datum &amp;d1, const Datum &amp;d2)
{
    if(d1.godina!=d2.godina) return d1.godina&gt;d2.godina;
    if(d1.mjesec!=d2.mjesec) return d1.mjesec&gt;d2.mjesec;
    return d1.dan&gt;=d2.dan;
}
int operator-(Datum d1, Datum d2)
{
    if(d2&lt;d1)
    {
        Datum pomocni(d2);
        d2=d1;
        d1=pomocni;
    }
    int broj(0);
    while(d1.dan!=d2.dan || d1.mjesec!=d2.mjesec || d1.godina!=d2.godina) {broj++;d1++;}
    return broj;
}
inline Datum&amp; operator+(Datum &amp;d1, int broj)
{
    return d1+=broj;
}
inline Datum&amp; operator-(Datum &amp;d1, int broj)
{
    return d1-=broj;
}
Datum &amp;operator+=(Datum &amp;d1, int broj)
{
    if(broj&lt;0) return d1-=(-1)*broj;
    else
    {
        for(int i=0;i&lt;broj;i++) d1++;
        return d1;
    }
}
Datum &amp;operator-=(Datum &amp;d1, int broj)
{
    if(broj&lt;0) return d1+=(-1)*broj;
    else
    {
        for(int i=0;i&lt;broj;i++) d1--;
        return d1;
    }
}
Datum &amp;operator++(Datum &amp;d)
{
<a name="1"></a><font color="#00FF00"><a href="match536-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_2.gif"/></a>

    int broj_dana[12]{31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31};
    if((d.godina % 4 == 0 &amp;&amp; d.godina % 100 != 0 ) || d.godina % 400 == 0) broj_dana[1]++;
</font>    if(broj_dana[d.mjesec-1]==d.dan)
    {
        if(d.mjesec==12) { d.dan=1; d.mjesec=1; d.godina++; }
        else { d.dan=1; d.mjesec++; }
    }
    else d.dan++;
    return d;
}
Datum operator++(Datum &amp;d, int)
{
    Datum pomocni(d);
    ++d;
    return pomocni;
}
Datum &amp;operator--(Datum &amp;d)
{
    if(d.dan==1 &amp;&amp; d.mjesec==1 &amp;&amp; d.godina==1800) throw std::domain_error("Nelegalan datum");
<a name="2"></a><font color="#0000FF"><a href="match536-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_2.gif"/></a>

    int broj_dana[12]{31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31};
    if((d.godina % 4 == 0 &amp;&amp; d.godina % 100 != 0 ) || d.godina % 400 == 0) broj_dana[1]++;
</font>    if(d.dan==1)
    {
        if(d.mjesec==1) { d.dan=31; d.mjesec=12; d.godina--; }
        else { d.mjesec--; d.dan=broj_dana[d.mjesec-1]; }
    }
    else d.dan--;
    return d;
}
Datum operator--(Datum &amp;d, int)
{
    if(d.dan==1 &amp;&amp; d.mjesec==1 &amp;&amp; d.godina==1800) throw std::domain_error("Nelegalan datum");
    Datum pomocni(d);
    --d;
    return pomocni;
}
 
 
int main ()
{
    Datum datum1(9,6,2018);
    Datum datum2(8,5,2019);
    std::cout&lt;&lt;datum1-datum2;
    //std::cout&lt;&lt;datum.DajDan()&lt;&lt;" "&lt;&lt;datum.DajMjesec()&lt;&lt;" "&lt;&lt;datum.DajGodinu()&lt;&lt;std::endl;
    return 0;
}</pre>
</body>
</html>
