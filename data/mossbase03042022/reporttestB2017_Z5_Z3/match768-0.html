<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z5/Z3/student7985.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z5/Z3/student7985.cpp<p></p><pre>
/B2017/2018: ZadaÄ‡a 5, Zadatak 3
#include &lt;cmath&gt;
#include &lt;string&gt;
#include &lt;iostream&gt;
#include &lt;stdexcept&gt;
using std::domain_error;
using std::to_string;
using std::ostream;
using std::istream;
using std::string;
using std::endl;
using std::cout;
using std::cin;
using std::ios; //std::ios::failbit

class Datum {
    int dan, mjesec, godina;
    static bool Prestupna(int g){
        if((g % 4 == 0 &amp;&amp; g % 100 != 0) || g % 400 == 0) return true;
        return false;
    }
    static int BrojDanaOdReferentnogDatuma(const Datum &amp;dat2);
    static int BrojDanaUGodiniDoTogDatuma(const Datum &amp;dat);
  public:
    enum Mjeseci {
        Januar = 1, Februar, Mart, April, Maj, Juni, Juli, August, Septembar, Oktobar, Novembar, Decembar
};
    enum Dani {
<a name="1"></a><font color="#00FF00"><a href="match768-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_3.gif"/></a>

        Ponedjeljak = 1, Utorak, Srijeda, Cetvrtak, Petak, Subota, Nedjelja
};
     Datum(int d, int m, int g) { Postavi(d, m, g); }
     Datum(int d, Mjeseci m, int g) { Postavi(d, int(m), g); }
</font><a name="0"></a><font color="#FF0000"><a href="match768-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_3.gif"/></a>

    void Postavi(int d, int m, int g);
    void Postavi(int d, Mjeseci m, int g) { Postavi(d, int(m), g); }
    int DajDan() const { return dan; }
    Mjeseci DajMjesec() const { return Mjeseci(mjesec); }
    int DajGodinu() const { return godina; }
    const char* DajImeMjeseca() const;
</font>    const char* DajImeDanaUSedmici() const;
    Dani DanUSedmici() const { return Dani(dan); }
    Datum&amp; operator ++();
    Datum&amp; operator --();
<a name="3"></a><font color="#00FFFF"><a href="match768-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_1.gif"/></a>

    Datum&amp; operator +=(int n);
    Datum&amp; operator -=(int n) { return *this += -n; }
    Datum operator +(int n) const;
</font>    Datum operator -(int n) const;
    Datum operator ++(int);
    Datum operator --(int);
    int operator -(const Datum &amp;d) const;
<a name="2"></a><font color="#0000FF"><a href="match768-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_2.gif"/></a>

    bool operator ==(const Datum &amp;d) const {
        return dan == d.dan &amp;&amp; mjesec == d.mjesec &amp;&amp; godina == d.godina;
    }
    bool operator !=(const Datum &amp;d) const {
        return dan != d.dan || mjesec != d.mjesec || godina != d.godina;
</font>    }
    bool operator &lt;(const Datum &amp;d) const;
    bool operator &gt;(const Datum &amp;d) const;
<a name="4"></a><font color="#FF00FF"><a href="match768-1.html#4" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_1.gif"/></a>

    bool operator &lt;=(const Datum &amp;d) const {
        return *this &lt; d || *this == d;
    }
    bool operator &gt;=(const Datum &amp;d) const {
</font>        return *this &gt; d || *this == d;
    }
    friend ostream&amp; operator &lt;&lt;(ostream &amp;tok, const Datum &amp;d);
    friend istream&amp; operator &gt;&gt;(istream &amp;tok, Datum &amp;d);
    operator string() const;
    explicit operator int() const;
};
int Datum::BrojDanaUGodiniDoTogDatuma(const Datum &amp;dat){
    int suma(dat.dan - 1); // jer taj dan ne treba da uracunamo u sumu
    int broj_dana[12]{31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31};
    if(Prestupna(dat.godina)) broj_dana[1]++;
    for(int i=1; i&lt;dat.mjesec; i++) suma += broj_dana[i-1];
    return suma;
}
int Datum::BrojDanaOdReferentnogDatuma(const Datum &amp;dat2){
    Datum dat1(1,1,1800); // referentni datum
    int suma(0), pom_godina(dat1.godina);
    while(pom_godina &lt; dat2.godina){
        suma += 365 + int(Prestupna(pom_godina));
        pom_godina++;
    }
    suma += BrojDanaUGodiniDoTogDatuma(dat2);
    return suma;
}
void Datum::Postavi(int d, int m, int g){
    int broj_dana[12]{31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31};
    if(Prestupna(g)) broj_dana[1]++;
    if(g&lt;1800 || d&lt;1 || m&lt;1 || m&gt;12 || d&gt;broj_dana[m-1]) throw domain_error("Nelegalan datum");
    dan = d;
    mjesec = m;
    godina = g;
}
const char* Datum::DajImeMjeseca() const {
    const char* imena[13]{"" ,"Januar", "Februar", "Mart", "April", "Maj", "Juni", "Juli", "August", "Septembar", "Oktobar", "Novembar", "Decembar"};
    return imena[int(mjesec)];
}
const char* Datum::DajImeDanaUSedmici() const {
    const char* imena[7]{"Nedjelja", "Ponedjeljak", "Utorak", "Srijeda", "Cetvrtak", "Petak", "Subota"}; 
    //const char* imena[7]{"Sri", "Cet", "Pet", "Sub", "Ned", "Pon", "Uto"}; // *****
    int x(*this - Datum(1,1,1800));
    return imena[x % 7];
}
Datum&amp; Datum::operator ++() { 
    int broj_dana[]{31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31};
    if(Prestupna(godina)) broj_dana[1]++;
    dan++;
    if(dan &gt; broj_dana[mjesec-1]) dan = 1, mjesec++;
    if(mjesec &gt; 12) mjesec = 1, godina++;
    return *this;
}
Datum&amp; Datum::operator --() { 
    dan--;
    if(dan == 0) mjesec--;
    if(mjesec == 0) mjesec = 12, godina--;
    int broj_dana[]{31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31};
    if(dan == 0){
        if(Prestupna(godina)) broj_dana[1]++;
        dan = broj_dana[mjesec-1];
    }
    if(godina &lt; 1800) throw domain_error("Nelegalan datum");
    return *this;
}
Datum&amp; Datum::operator +=(int n) {
    for(; n&lt;0; n++) --(*this);
    for(; n&gt;0; n--) ++(*this);
    return *this;
}
Datum Datum::operator +(int n) const {
    Datum pom(*this);
    return pom += n;
}
Datum Datum::operator -(int n) const {
    Datum pom(*this);
    return pom -= n;
}
Datum Datum::operator ++(int) {
    Datum pom(*this); 
    *this += 1; // no no (*this)++
    return pom;
}
Datum Datum::operator --(int) {
    Datum pom(*this);
    *this -= 1; // no no (*this)--;
    return pom;
}
int Datum::operator -(const Datum &amp;d) const {
    return std::abs(BrojDanaOdReferentnogDatuma(*this) - BrojDanaOdReferentnogDatuma(d));  // abs ?? ** ** ??
}
bool Datum::operator &lt;(const Datum &amp;d) const {
    if(godina &lt; d.godina) return true;
    if(godina &gt; d.godina) return false;
    if(mjesec &lt; d.mjesec) return true;
    if(mjesec &gt; d.mjesec) return false;
    if(dan &lt; d.dan) return true;
    if(dan &gt; d.dan) return false;
    return false;
}
bool Datum::operator &gt;(const Datum &amp;d) const {
    if(godina &gt; d.godina) return true;
    if(godina &lt; d.godina) return false;
    if(mjesec &gt; d.mjesec) return true;
    if(mjesec &lt; d.mjesec) return false;
    if(dan &gt; d.dan) return true;
    if(dan &lt; d.dan) return false;
    return false;
}
ostream&amp; operator &lt;&lt;(ostream &amp;tok, const Datum &amp;d) {
    return tok &lt;&lt; d.dan &lt;&lt; "." &lt;&lt; d.DajImeMjeseca() &lt;&lt; " " &lt;&lt; d.godina &lt;&lt; ".(" &lt;&lt; d.DajImeDanaUSedmici() &lt;&lt; ")";
}
istream&amp; operator &gt;&gt;(istream &amp;tok, Datum &amp;d) {
    int dan, mjesec, godina;
    char kosa1, kosa2;
    tok &gt;&gt; dan &gt;&gt; kosa1 &gt;&gt; mjesec &gt;&gt; kosa2 &gt;&gt; godina;
    if(!tok || kosa1 != '/' || kosa2 != '/') tok.setstate(ios::failbit);
    try{
        d = Datum(dan, mjesec, godina);
    }
    catch(...){
        tok.setstate(ios::failbit);
    }
    return tok;
}
Datum::operator int() const {
    return BrojDanaOdReferentnogDatuma(*this);
}
Datum::operator string() const {
    string s(to_string(dan) + ".");
    const char* pok(DajImeMjeseca());
    while(*pok != '\0') {
        s.push_back(*pok);
        pok++;
    }
    s += " " + to_string(godina) + ".(";
    pok = DajImeDanaUSedmici();
    while(*pok != '\0') {
        s.push_back(*pok);
        pok++;
    }
    s += ")";
    return s;
}


int main (){
   /* ;
    cout &lt;&lt; Datum (6,6,1944); */
    
    // *Brisi** ne rade dobro test 10 i 11 **
    
    
    
    
   /* Datum d(11,6,2018);
    cout &lt;&lt; d &lt;&lt; endl;
    d.Postavi(13,6,2018);
    cout &lt;&lt; d &lt;&lt; endl;
    
    cout &lt;&lt; "Unesi datum (d/m/g): ";
    cin &gt;&gt; d;
    cout &lt;&lt; "Datum je " &lt;&lt; d &lt;&lt; endl;
    
    Datum dat(1,1,1800);
    cout &lt;&lt; "Novi datum d je " &lt;&lt; dat &lt;&lt; endl;
    dat.Postavi(2,2,1999);
    cout &lt;&lt; "Lejlin datum je " &lt;&lt; dat &lt;&lt; endl;
    cout &lt;&lt; "to je mjesec " &lt;&lt; int(dat.DajMjesec()) &lt;&lt; ". a godina " &lt;&lt; dat.DajGodinu() &lt;&lt; endl;
    cout &lt;&lt; "naziv tog mjeseca je " &lt;&lt; dat.DajImeMjeseca() &lt;&lt; " a ime dana u sedmici je " &lt;&lt; dat.DajImeDanaUSedmici() &lt;&lt; endl;
    cout &lt;&lt; "to je " &lt;&lt; int(dat.DanUSedmici()) &lt;&lt; ". dan u sedmici" &lt;&lt; endl;
    
    cout &lt;&lt; "Datum je " &lt;&lt; dat++ &lt;&lt; " a sljedeci datum je " &lt;&lt; dat &lt;&lt; endl;
    cout &lt;&lt; "Datum prethodni je " &lt;&lt; dat-2 &lt;&lt; endl;
    --dat;
    dat += 2;
    cout &lt;&lt; "datum povecan za 2 je " &lt;&lt; dat &lt;&lt; endl;
    dat--;
    cout &lt;&lt; "datum umanjen za 1 je " &lt;&lt; dat &lt;&lt; endl;
    dat -= 5;
    cout &lt;&lt; "datum umanjen za 5 je " &lt;&lt; dat &lt;&lt; endl;
    cout &lt;&lt; "datum + 3 je " &lt;&lt; dat + 3 &lt;&lt; endl;
    cout &lt;&lt; "prefiksni operator ++ daje datum " &lt;&lt;  ++dat &lt;&lt; " a prefiksni -- daje datum" &lt;&lt; --dat &lt;&lt; endl;
    
    
    cout &lt;&lt; dat - Datum(1,3, 1800) &lt;&lt; endl;
    cout &lt;&lt; dat &lt;&lt; endl;
    cout &lt;&lt; bool(dat == Datum(1,1,1800)) &lt;&lt; endl;
    cout &lt;&lt; bool(dat != Datum(1,1,1800)) &lt;&lt; endl;
    dat = {5,1,1800};
    cout &lt;&lt; dat.DajImeDanaUSedmici() &lt;&lt; endl;
    
    Datum dd(10,5,2018);
    cout &lt;&lt; (string)(dd);
    cout &lt;&lt; (int)(dd);
    cout &lt;&lt; "\ntrue/false: " &lt;&lt; endl;
    Datum tt(3,3,2003);
    cout &lt;&lt; bool(dd &lt; tt) &lt;&lt; bool(dd &gt; tt) &lt;&lt; bool(dd &lt;= tt) &lt;&lt; bool(dd &gt;= tt);
*/	return 0;

}</pre>
</body>
</html>
