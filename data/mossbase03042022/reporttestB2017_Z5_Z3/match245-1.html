<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z5/Z3/student5612.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z5/Z3/student5957.cpp<p></p><pre>
/B2017/2018: ZadaÄ‡a 5, Zadatak 3
#include &lt;iostream&gt;
#include &lt;stdexcept&gt;
#include &lt;string&gt;
using std::string;
using std::cout;
using std::cin;

int BrojDana(int mjesec,int godina){
    int dani[]{31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31};
    if((godina%4==0 &amp;&amp; godina%100!=0) || godina%400==0) dani[1]++;
    return dani[mjesec-1];
}

<a name="5"></a><font color="#FF0000"><a href="match245-0.html#5" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_1.gif"/></a>

class Datum{
    int dan,mjesec,godina;
    public:
    enum Mjeseci{Januar=1, Februar, Mart, April, Maj, Juni, Juli, August, Septembar, Oktobar, Novembar, Decembar};
</font><a name="2"></a><font color="#0000FF"><a href="match245-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_3.gif"/></a>

    enum Dani{Ponedjeljak=1, Utorak, Srijeda, Cetvrtak, Petak, Subota, Nedjelja};
    Datum(int d,int m,int g);
    Datum(int d,Mjeseci m,int g);
    void Postavi(int d,int m,int g);
    void Postavi(int d,Mjeseci m,int g);
    int DajDan() const{ return dan; }
</font>    Mjeseci DajMjesec() const{ return Mjeseci(mjesec); }
    int DajGodinu() const{ return godina; }
    const char *DajImeMjeseca() const;
    Dani DanUSedmici() const;
    const char *DajImeDanaUSedmici() const;
    friend Datum &amp;operator--(Datum &amp;dat);
    friend Datum &amp;operator++(Datum &amp;dat);
    friend Datum operator--(Datum &amp;dat,int);
    friend Datum operator++(Datum &amp;dat,int);
    friend Datum &amp;operator+=(Datum &amp;dat,int n);
    friend Datum &amp;operator-=(Datum &amp;dat,int n);
    friend Datum operator+(Datum dat,int n);
<a name="1"></a><font color="#00FF00"><a href="match245-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_3.gif"/></a>

    friend Datum operator-(Datum dat,int n);
    friend int operator-(const Datum &amp;dat1,const Datum &amp;dat2);
    friend bool operator==(const Datum &amp;dat1,const Datum &amp;dat2);
    friend bool operator!=(const Datum &amp;dat1,const Datum &amp;dat2);
    friend bool operator&lt;(const Datum &amp;dat1,const Datum &amp;dat2);
    friend bool operator&gt;(const Datum &amp;dat1,const Datum &amp;dat2);
</font><a name="3"></a><font color="#00FFFF"><a href="match245-0.html#3" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_3.gif"/></a>

    friend bool operator&lt;=(const Datum &amp;dat1,const Datum &amp;dat2);
    friend bool operator&gt;=(const Datum &amp;dat1,const Datum &amp;dat2);
    friend std::ostream &amp;operator&lt;&lt;(std::ostream &amp;tok,const Datum &amp;dat);
    friend std::istream &amp;operator&gt;&gt;(std::istream &amp;tok,const Datum &amp;dat);
</font>    operator string() const;
    operator int() const;
};
Datum::Datum(int d,int m,int g){
    if(g&lt;1 || g&lt;1800 || d&lt;1 || m&lt;1 || m&gt;12 || d&gt;BrojDana(m,g))
    throw std::domain_error("Nelegalan datum!");
    dan=d; mjesec=m; godina=g;
}
Datum::Datum(int d,Mjeseci m,int g){
    if(g&lt;1 || g&lt;1800 || d&lt;1 || m&lt;1 || m&gt;12 || d&gt;BrojDana(m,g))
    throw std::domain_error("Nelegalan datum!");
    dan=d; mjesec=m; godina=g;
}
void Datum::Postavi(int d,int m,int g){
    if(g&lt;1 || g&lt;1800 || d&lt;1 || m&lt;1 || m&gt;12 || d&gt;BrojDana(m,g))
    throw std::domain_error("Nelegalan datum!");
    dan=d; mjesec=m; godina=g;
}
void Datum::Postavi(int d,Mjeseci m,int g){
    if(g&lt;1 || g&lt;1800 || d&lt;1 || m&lt;1 || m&gt;12 || d&gt;BrojDana(m,g))
    throw std::domain_error("Nelegalan datum!");
    dan=d; mjesec=m; godina=g;
}
const char *Datum::DajImeMjeseca() const{
    const char *mjeseci[]{"Januar","Februar","Mart","April","Maj","Juni","Juli","August","Septembar","Oktobar","Novembar","Decembar"};
    return mjeseci[mjesec-1];
}
Datum::Dani Datum::DanUSedmici() const{
    int suma(0);
    for(int i(1800);i&lt;godina;i++){
        if((godina%4==0  &amp;&amp; godina%100!=0) || godina%400==0) suma+=356;
        else suma+=365;
    }
    for(int i(0);i&lt;mjesec-1;i++) suma+=BrojDana(i+1,godina);
    suma+=dan;
    while(suma&gt;7) suma-=7; suma--;
    if(suma==0) suma=7;
    return Dani(suma);
}
const char *Datum::DajImeDanaUSedmici() const{
    const char *dani[]{"Ponedjeljak","Utorak","Srijeda","Cetvrtak","Petak","Subota","Nedjelja"};
    return dani[DanUSedmici()-1];
}
Datum &amp;operator--(Datum &amp;dat){
    int poc_mj(dat.mjesec),poc_dan(dat.dan);
    dat.dan--;
    if(dat.dan&lt;1) dat.mjesec--;
    if(dat.mjesec&lt;1){ dat.mjesec=12; dat.dan=BrojDana(dat.mjesec,dat.godina); dat.godina--; }
    if(dat.godina&lt;1800){
        dat.dan=poc_dan; dat.mjesec=poc_mj; dat.godina++;
        throw std::domain_error("Nelegalan datum");
    }
    return dat;
}
Datum &amp;operator++(Datum &amp;dat){
    dat.dan++;
    if(dat.dan&gt;BrojDana(dat.mjesec,dat.godina)){ dat.mjesec++; dat.dan=1; }
    if(dat.mjesec&gt;12){ dat.mjesec=1; dat.godina++; }
    return dat;
}
Datum operator--(Datum &amp;dat,int){
    Datum pom(dat);
    --dat;
    return pom;
}
Datum operator++(Datum &amp;dat,int){
    Datum pom(dat);
    ++dat;
    return pom;
}
Datum &amp;operator+=(Datum &amp;dat,int n){
    if(n&gt;0) for(int i(0);i&lt;n;i++) ++dat;
    if(n&lt;0){
        Datum pom(dat);
        for(int i(0);i&lt;-n;i++) --pom;
        dat=pom;
    }
    return dat;
}
Datum &amp;operator-=(Datum &amp;dat,int n){
    if(n&lt;0) for(int i(0);i&lt;-n;i++) ++dat;
    if(n&gt;0){
        Datum pom(dat);
        for(int i(0);i&lt;n;i++) --pom;
        dat=pom;
    }
    return dat;
}
Datum operator+(Datum dat,int n){
    dat+=n;
    return dat;
}
Datum operator-(Datum dat,int n){
    dat-=n;
    return dat;
}
int operator-(const Datum &amp;d1,const Datum &amp;d2){
    Datum dat1(d1),dat2(d2);
    int br_dana(0);
    if(dat1&lt;=dat2){
        for(;;){
            if(dat1==dat2) break;
            ++dat1;
            br_dana++;
        }
    }
    else{
        for(;;){
            if(dat1==dat2) break;
            ++dat2;
            br_dana++;
        }
    }
    return br_dana;
}
<a name="4"></a><font color="#FF00FF"><a href="match245-0.html#4" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_2.gif"/></a>

bool operator==(const Datum &amp;dat1,const Datum &amp;dat2){
    return (dat1.dan==dat2.dan &amp;&amp; dat1.mjesec==dat2.mjesec &amp;&amp; dat1.godina==dat2.godina);
}
bool operator!=(const Datum &amp;dat1,const Datum &amp;dat2){
    return !(dat1==dat2);
</font>}
bool operator&lt;(const Datum &amp;dat1,const Datum &amp;dat2){
    if(dat1.godina!=dat2.godina) return dat1.godina&lt;dat2.godina;
    else{
        if(dat1.mjesec!=dat2.mjesec) return dat1.mjesec&lt;dat2.mjesec;
        else return dat1.dan&lt;dat2.dan;
    }
}
bool operator&gt;(const Datum &amp;dat1,const Datum &amp;dat2){
    if(dat1.godina!=dat2.godina) return dat1.godina&gt;dat2.godina;
    else{
        if(dat1.mjesec!=dat2.mjesec) return dat1.mjesec&gt;dat2.mjesec;
        else return dat1.dan&gt;dat2.dan;
    }
}
bool operator&lt;=(const Datum &amp;dat1,const Datum &amp;dat2){
    return (dat1&lt;dat2 || dat1==dat2);
}
bool operator&gt;=(const Datum &amp;dat1,const Datum &amp;dat2){
    return (dat1&gt;dat2 || dat1==dat2);
}
<a name="0"></a><font color="#FF0000"><a href="match245-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_3.gif"/></a>

std::ostream &amp;operator&lt;&lt;(std::ostream &amp;tok,const Datum &amp;dat){
    tok&lt;&lt;dat.dan&lt;&lt;"."&lt;&lt;dat.DajImeMjeseca()&lt;&lt;" "&lt;&lt;dat.godina&lt;&lt;".("&lt;&lt;dat.DajImeDanaUSedmici()&lt;&lt;")";
    return tok;
}
std::istream &amp;operator&gt;&gt;(std::istream &amp;tok,Datum &amp;dat){
</font>    int d(0),m(0),g(0);
    char znak1,znak2;
    tok&gt;&gt;d&gt;&gt;znak1&gt;&gt;m&gt;&gt;znak2&gt;&gt;g;
    if(!cin || znak1!='/' || znak2!='/')  tok.setstate(std::ios::failbit);
    else if(g&lt;1800 || d&lt;1 || m&lt;1 || m&gt;12 || d&gt;BrojDana(m,g))  tok.setstate(std::ios::failbit);
    else dat.Postavi(d,m,g);
    return tok;
}
Datum::operator string() const{
    string s(std::to_string(dan));
    s+='.';
<a name="6"></a><font color="#00FF00"><a href="match245-0.html#6" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_1.gif"/></a>

    s+=DajImeMjeseca();
    s+=" ";
    s+=std::to_string(godina);
    s+=".(";
    s+=DajImeDanaUSedmici();
    s+=')';
</font>    return s;
}
Datum::operator int() const{
    int n(Datum(1,1,1800)-(*this));
    return n;
}
    
int main ()
{
    Datum d1(1,1,1800),d2(1,1,1800);
    for(;;){
       try{
           cout&lt;&lt;"Unesi datum rodjenja (d/m/g) : ";
           cin&gt;&gt;d1;
           cout&lt;&lt;"Unesi danasnji datum (d/m/g) : ";
           cin&gt;&gt;d2;
           if(!cin) throw std::domain_error("Greska, unesi oba datum ponovo!");
           if(d1&gt;=d2) throw std::domain_error("Greska, jos se nisi rodio, unesi oba datum ponovo!");
           string s(d1);
           cout&lt;&lt;"Izmedju datuma rodjenja "&lt;&lt;s&lt;&lt;"\ni danasnjeg datuma "&lt;&lt;d2&lt;&lt;" proteklo je tacno "&lt;&lt;d1-d2&lt;&lt;" dana.";
           break;
       } 
        catch(std::domain_error izuzetak){
            cout&lt;&lt;izuzetak.what();
            cin.clear();
            cin.ignore(1000,'\n');
        }
        cout&lt;&lt;std::endl;
    }
    
	return 0;
}
</pre>
</body>
</html>
