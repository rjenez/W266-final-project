<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z5/Z3/student5140.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z5/Z3/student5140.cpp<p></p><pre>
/B2017/2018: ZadaÄ‡a 5, Zadatak 3
#include &lt;iostream&gt;
#include &lt;stdexcept&gt;
#include &lt;cmath&gt;
bool Prestupna(int g) {
        if(g % 400 == 0 || (g % 4 == 0 &amp;&amp; g % 100 != 0)) return true;
        return false;
    }
static int broj_dana[12] {31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31};
static char mjeseci[12][10]{"Januar", "Februar", "Mart", "April", "Maj", "Juni", "Juli", "August", "Septembar", "Oktobar", "Novembar", "Decembar"};
static char dani[7][12]{"Ponedjeljak", "Utorak", "Srijeda", "Cetvrtak", "Petak", "Subota", "Nedjelja"};
<a name="4"></a><font color="#FF00FF"><a href="match285-1.html#4" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_1.gif"/></a>

class Datum
{
    int dan, mjesec, godina;
    
public:
    enum Mjeseci {Januar = 1, Februar, Mart, April, Maj, Juni, Juli, August, Septembar, Oktobar, Novembar, Decembar};
</font>    enum Dani {Ponedjeljak = 1, Utorak, Srijeda, Cetvrtak, Petak, Subota, Nedjelja};
    Datum(int d, int m, int g): dan(d), mjesec(m), godina(g) {
        if(d &gt; broj_dana[m-1] || d &lt; 1 || mjesec &gt; 12 || mjesec &lt; 1 || godina &lt; 1800)
            throw std::domain_error("Nelegalan datum");
    }
    Datum(int d, Mjeseci m, int g): dan(d), mjesec(m), godina(g) {
        if(d &gt; broj_dana[m-1] || d &lt; 1 || mjesec &gt; 12 || mjesec &lt; 1 || godina &lt; 1800)
            throw std::domain_error("Nelegalan datum");
    }
    void Postavi(int d, int m, int g) {
        dan=d, mjesec=m, godina=g;
    }
    void Postavi(int d, Mjeseci m, int g) {
        dan=d, mjesec=m, godina=g;
    }
    int DajDan() const {
        return dan;
    }
    Mjeseci DajMjesec() const {
        return Mjeseci(mjesec);
    }
    int DajGodinu() const {
        return godina;
    }
    char *DajImeMjeseca() const {
        return &amp;mjeseci[mjesec-1][0];
    }
    
    Dani DanUSedmici() const {
        int suma(BrojDanaIzmedju(*this));
        if(suma==0) return static_cast&lt;Dani&gt;(7);
        return static_cast&lt;Dani&gt;(suma%7 + 1);
    }
    char *DajImeDanaUSedmici() const {
        return &amp;dani[DanUSedmici()-1][0];
    }
    
    
    friend Datum &amp;operator ++(Datum &amp;d);
    friend Datum operator ++(Datum &amp;d, int);
    friend Datum &amp;operator --(Datum &amp;d);
    friend Datum operator --(Datum &amp;d, int);
    friend Datum &amp;operator +(Datum &amp;d, int n);
    friend Datum &amp;operator -(Datum &amp;d, int n);
    friend Datum &amp;operator +=(Datum &amp;d, int n);
    friend Datum &amp;operator -=(Datum &amp;d, int n);
<a name="1"></a><font color="#00FF00"><a href="match285-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_2.gif"/></a>

    friend long int operator -(Datum &amp;d1, Datum &amp;d2);
    friend bool operator ==(const Datum &amp;d1, const Datum &amp;d2);
    friend bool operator !=(const Datum &amp;d1, const Datum &amp;d2);
    friend bool operator &lt;=(const Datum &amp;d1, const Datum &amp;d2);
    friend bool operator &gt;=(const Datum &amp;d1, const Datum &amp;d2);
</font><a name="0"></a><font color="#FF0000"><a href="match285-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_3.gif"/></a>

    friend bool operator &lt;(const Datum &amp;d1, const Datum &amp;d2);
    friend bool operator &gt;(const Datum &amp;d1, const Datum &amp;d2);
    friend std::ostream &amp;operator&lt;&lt;(std::ostream &amp;tok, const Datum &amp;d);
    friend std::istream &amp;operator&gt;&gt;(std::istream &amp;tok, Datum &amp;d);
    operator std::string() const;
</font>    explicit operator int() const;
    friend long int BrojDanaIzmedju(const Datum &amp;d) ;
};
long int BrojDanaIzmedju(const Datum &amp;d) {
        long int suma(0);
<a name="5"></a><font color="#FF0000"><a href="match285-1.html#5" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_1.gif"/></a>

        for(int i=1; i&lt;d.dan; i++) {
            suma++;
        }
        for(int i=1; i&lt;d.mjesec; i++) {
</font>            suma+=broj_dana[i-1];
            if(d.mjesec == 2) {
<a name="3"></a><font color="#00FFFF"><a href="match285-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_1.gif"/></a>

                if((d.godina % 4 == 0 &amp;&amp; d.godina % 100 != 0) || d.godina % 400 == 0) suma++;
            }
        }
        for(int i=1800; i&lt;d.godina; i++) {
</font>            suma+=365;
            if((i % 4 == 0 &amp;&amp; i % 100 != 0) || i % 400 == 0) suma++;
        }
        return suma;
    }
Datum &amp;operator ++(Datum &amp;d)
{
    d.dan+=1;
    if(d.dan &gt; broj_dana[d.mjesec-1]) {
        d.dan=1;
        d.mjesec++;
    }
    if(d.mjesec &gt; 12) {
        d.mjesec=1;
        d.godina++;
    }
    return d;
}
Datum operator ++(Datum &amp;d, int)
{
    Datum pomocni(d);
    ++d;
    return pomocni;
}
Datum &amp;operator --(Datum &amp;d)
{
    d.dan-=1;
    if(d.dan &lt; broj_dana[d.mjesec-1]) {
        d.mjesec--;
        d.dan = broj_dana[d.mjesec-1];
    }
    if(d.mjesec &lt;= 0) {
        d.godina--;
        if(d.godina &lt; 1800) throw std::domain_error("Nelegalan datum");
        d.mjesec = 12;
    }
    return d;
}
Datum operator --(Datum &amp;d, int)
{
    Datum pomocni(d);
    --d;
    return pomocni;
}
Datum &amp;operator +(Datum &amp;d, int n)
{
    d.dan += n;
    if(n &gt; 0) {
        while(d.dan &gt; broj_dana[d.mjesec - 1]) {
            d.dan -= broj_dana[d.mjesec - 1];
            d.mjesec++;
            if(d.mjesec &gt; 12) {
                d.godina++;
                d.mjesec=1;
            }
            if(d.mjesec == 2 &amp;&amp; Prestupna(d.godina)) d.dan--;
        }
    } else if(n &lt; 0) d = d - abs(n);
    if(d.godina &lt; 1800) throw std::domain_error("Nelegalan datum");
    return d;
}
Datum &amp;operator -(Datum &amp;d, int n)
{
    d.dan -= n;
    if(n &gt; 0) {
        while(d.dan &lt; 1) {
            d.mjesec--;
            if(d.mjesec &lt; 1) {
                d.godina--;
                d.mjesec = 12;
            }
            d.dan += broj_dana[d.mjesec - 1];
            if(d.mjesec == 2 &amp;&amp; Prestupna(d.godina)) d.dan++;
        }
    } else if(n &lt; 0) d = d + n;
    if(d.godina &lt; 1800) throw std::domain_error("Nelegalan datum");
    return d;
}
Datum &amp;operator+=(Datum &amp;d, int n) {
    d = d + n;
    return d;   
}
Datum &amp;operator-=(Datum &amp;d, int n) {
    d = d - n;
    return d;
}
long int operator-(Datum &amp;d1, Datum &amp;d2) {
    return abs(BrojDanaIzmedju(d1) - BrojDanaIzmedju(d2));
}
bool operator!=(const Datum &amp;d1, const Datum &amp;d2) {
    if(d1.godina != d2.godina || d1.dan != d2.dan || d1.mjesec != d2.mjesec) return true;
    return false;
}
bool operator==(const Datum &amp;d1, const Datum &amp;d2) {
<a name="6"></a><font color="#00FF00"><a href="match285-1.html#6" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_1.gif"/></a>

    if(d1.godina == d2.godina &amp;&amp; d1.mjesec == d2.mjesec &amp;&amp; d1.dan == d2.mjesec) return true;
    return false;
}
bool operator&gt;=(const Datum &amp;d1, const Datum &amp;d2) {
    if(d1.godina &gt; d2.godina) return true;
</font>    else if(d1.godina == d2.godina) {
        if(d1.mjesec &gt; d2.mjesec) return true;
        else if(d1.mjesec == d2.mjesec) {
            if(d1.dan &gt;= d2.dan) return true;
<a name="7"></a><font color="#0000FF"><a href="match285-1.html#7" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_1.gif"/></a>

            return false;
        }
        return false;
    }
    return false;
}
bool operator&lt;=(const Datum &amp;d1, const Datum &amp;d2) {
    if(d1.godina &lt; d2.godina) return true;
</font>    else if(d1.godina == d2.godina) {
        if(d1.mjesec &lt; d2.mjesec) return true;
        else if(d1.mjesec == d2.mjesec) {
            if(d1.dan &lt;= d2.dan) return true;
<a name="8"></a><font color="#00FFFF"><a href="match285-1.html#8" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_1.gif"/></a>

            return false;
        }
        return false;
    }
    return false;
}
bool operator&gt;(const Datum &amp;d1, const Datum &amp;d2) {
    if(d1.godina &gt; d2.godina) return true;
</font>    else if(d1.godina == d2.godina) {
        if(d1.mjesec &gt; d2.mjesec) return true;
        else if(d1.mjesec == d2.mjesec) {
            if(d1.dan &gt; d2.dan) return true;
            return false;
        }
        return false;
    }
    return false;
}
bool operator&lt;(const Datum &amp;d1, const Datum &amp;d2) {
    if(d1.godina &lt; d2.godina) return true;
    else if(d1.godina == d2.godina) {
        if(d1.mjesec &lt; d2.mjesec) return true;
        else if(d1.mjesec == d2.mjesec) {
            if(d1.dan &lt; d2.dan) return true;
            return false;
        }
<a name="2"></a><font color="#0000FF"><a href="match285-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_2.gif"/></a>

        return false;
    }
    return false;
}
std::ostream &amp;operator&lt;&lt;(std::ostream &amp;tok, const Datum &amp;d) {
    tok&lt;&lt;d.DajDan()&lt;&lt;"."&lt;&lt;d.DajImeMjeseca()&lt;&lt;" "&lt;&lt;d.DajGodinu()&lt;&lt;".("&lt;&lt;d.DajImeDanaUSedmici()&lt;&lt;")"&lt;&lt;std::endl;
</font>    return tok;
}
std::istream &amp;operator&gt;&gt;(std::istream &amp;tok, Datum &amp;dat) {
    char znak1, znak2;
    int d, m, g;
    tok&gt;&gt;d&gt;&gt;znak1&gt;&gt;m&gt;&gt;znak2&gt;&gt;g;
    if(std::cin.peek() != '\n' || !std::cin || znak1 != '/' || znak2 != '/') tok.setstate(std::ios::failbit);
    else dat.dan = d, dat.mjesec = m, dat.godina = g;
    return tok;
}
Datum::operator std::string() const {
    std::string s;
    Datum d(*this);
    s+=std::to_string(this-&gt;DajDan());
    s.push_back('.');
    s += std::to_string(*(d.DajImeMjeseca()));
    s.push_back(' ');
    s+=std::to_string(this-&gt;DajGodinu());
    s.push_back('.');
    s.push_back('(');
    s += std::to_string(*(d.DajImeDanaUSedmici()));
    s.push_back(')');
    return s;
}
Datum::operator int() const {
    return BrojDanaIzmedju(*this);
}
int main ()
{
    try{
    Datum d1(11, 6, 2019), d2(1, 7, 2019);
    std::string s=d1;
    std::cout&lt;&lt;s;
    }
    catch(std::domain_error izuzetak){
        std::cout&lt;&lt;izuzetak.what();
    }
    return 0;
}
</pre>
</body>
</html>
