<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z5/Z3/student9081.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z5/Z3/student9081.cpp<p></p><pre>
/B2017/2018: ZadaÄ‡a 5, Zadatak 3
#include &lt;iostream&gt;
#include &lt;stdexcept&gt;
#include &lt;string&gt;

class Datum
{
    int dan,mjesec,godina;
    static int BrojDana (int m, int g);
    int UkupnoDana () const;
<a name="0"></a><font color="#FF0000"><a href="match855-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_4.gif"/></a>

    static bool Prestupna (int g) {return g%4==0 &amp;&amp; (g%100!=0 || g%400==0);}
public:
    enum Mjeseci {Januar=1, Februar, Mart, April, Maj, Juni, Juli, August, Septembar, Oktobar, Novembar, Decembar};
    enum Dani {Ponedjeljak=1, Utorak, Srijeda, Cetvrtak, Petak, Subota, Nedjelja};
    Datum (int d, int m, int g) {Postavi (d,m,g);}
    Datum (int d, Mjeseci m, int g) {Postavi (d,int(m),g);}
</font><a name="1"></a><font color="#00FF00"><a href="match855-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_3.gif"/></a>

    void Postavi (int d, int m, int g);
    void Postavi (int d, Mjeseci m, int g) {Postavi(d,int(m),g);}
    int DajDan () const {return dan;}
    Mjeseci DajMjesec () const {return Mjeseci(mjesec);}
    int DajGodinu () const {return godina;}
    const char *DajImeMjeseca () const;
    Dani DanUSedmici () const {int temp(0); const char *ime[]{"Ponedjeljak","Utorak","Srijeda","Cetvrtak","Petak","Subota","Nedjelja"}; 
</font>    for (int i=0;i&lt;7;i++) {if (DajImeDanaUSedmici()==ime[i]) {temp=i; break;}} return Dani(temp+1);}
    const char *DajImeDanaUSedmici () const;
    Datum &amp;operator++();
    Datum operator++(int);
    Datum &amp;operator--();
    Datum operator--(int);
    Datum &amp;operator+=(int n);
    inline Datum operator + (int n) {Datum d(*this); d+=n; return d;}
    inline Datum &amp;operator-= (int n) {return *this+=-n;}
    inline Datum operator - (int n) {Datum d(*this); d-=n; return d;}
    friend int operator - (const Datum &amp;d1, const Datum &amp;d2);
    friend bool operator == (const Datum &amp;d1, const Datum &amp;d2);
    friend bool operator != (const Datum &amp;d1, const Datum &amp;d2);
    friend bool operator &lt; (const Datum &amp;d1, const Datum &amp;d2);
    friend bool operator &gt; (const Datum &amp;d1, const Datum &amp;d2);
    friend bool operator &lt;= (const Datum &amp;d1, const Datum &amp;d2);
    friend bool operator &gt;= (const Datum &amp;d1, const Datum &amp;d2);
    friend std::ostream &amp;operator &lt;&lt; (std::ostream &amp;tok, const Datum &amp;d);
    friend std::istream &amp;operator &gt;&gt; (std::istream &amp;tok, Datum &amp;d);
    operator std::string () const {return std::to_string(dan)+"."+DajImeMjeseca()+" "+std::to_string(godina)+".("+DajImeDanaUSedmici()+")";}
    explicit operator int () const {return this-&gt;UkupnoDana();}
};

std::istream &amp;operator&gt;&gt; (std::istream &amp;tok, Datum &amp;d)
{
    char znak;
    tok&gt;&gt;d.dan&gt;&gt;znak;
    if (znak!='/') tok.setstate(std::ios::failbit);
    tok&gt;&gt;d.mjesec&gt;&gt;znak;
    if (znak!='/') tok.setstate(std::ios::failbit);
    tok&gt;&gt;d.godina;
    if (d.dan&lt;1 || d.mjesec&lt;1 || d.godina&lt;1800 || d.mjesec&gt;12 || d.dan&gt;Datum::BrojDana(d.mjesec,d.godina)) tok.setstate(std::ios::failbit);
    return tok;
}

std::ostream &amp;operator &lt;&lt; (std::ostream &amp;tok, const Datum &amp;d)
{
    return tok&lt;&lt;d.dan&lt;&lt;"."&lt;&lt;d.DajImeMjeseca()&lt;&lt;" "&lt;&lt;d.godina&lt;&lt;".("&lt;&lt;d.DajImeDanaUSedmici()&lt;&lt;")";
}

inline bool operator &gt;= (const Datum &amp;d1, const Datum &amp;d2)
{
    return d1&gt;d2 || d1==d2;
}

inline bool operator &lt;= (const Datum &amp;d1, const Datum &amp;d2)
{
    return d1&lt;d2 || d1==d2;
}

bool operator &gt; (const Datum &amp;d1, const Datum &amp;d2)
{
    if (d1.godina==d2.godina)
    {
        if (d1.mjesec==d2.mjesec)
        {
            return d1.dan&gt;d2.dan;
        }
        return d1.mjesec&gt;d2.mjesec;
    }
    return d1.godina&gt;d2.godina;
}

bool operator &lt; (const Datum &amp;d1, const Datum &amp;d2)
{
    if (d1.godina==d2.godina)
    {
        if (d1.mjesec==d2.mjesec)
        {
            return d1.dan&lt;d2.dan;
        }
        return d1.mjesec&lt;d2.mjesec;
    }
    return d1.godina&lt;d2.godina;
}

bool operator == (const Datum &amp;d1, const Datum &amp;d2)
{
    return d1.dan==d2.dan &amp;&amp; d1.mjesec==d2.mjesec &amp;&amp; d1.godina==d2.godina;
}

inline bool operator != (const Datum &amp;d1, const Datum &amp;d2)
{
    return !(d1==d2);
}

int operator - (const Datum &amp;d1, const Datum &amp;d2)
{
    return d1.UkupnoDana()-d2.UkupnoDana();
}

Datum &amp;Datum::operator+= (int n)
{
    Datum temp(*this);
    try
    {
        if (n&gt;=0)
        {
            for (int i=0;i&lt;n;i++)
            ++(*this);
        }
        else
        {
            for (int i=0;i&lt;-n;i++)
            --(*this);
        }
    }
    catch (std::domain_error)
    {
        *this=temp;
        throw;
    }
    return *this;
}

Datum Datum::operator-- (int)
{
    Datum temp(*this);
    --(*this);
    return temp;
}

Datum &amp;Datum::operator-- ()
{
    Datum temp(*this);
    dan--;
    if (dan==0)
    {
        mjesec--;
        if (mjesec==0)
        {
            mjesec=12;
            godina--;
        }
        dan=BrojDana(mjesec,godina);
    }
    if (godina&lt;1800)
    {
        *this=temp;
        throw std::domain_error ("Nelegalan datum");
    }
    return *this;
}

Datum &amp;Datum::operator++ ()
{
    dan++;
    if (dan&gt;BrojDana(mjesec,godina)) dan=1,mjesec++;
    if (mjesec&gt;12) mjesec=1,godina++;
    return *this;
}

Datum Datum::operator++ (int)
{
    Datum temp(*this);
    ++(*this);
    return temp;
}

const char *Datum::DajImeDanaUSedmici () const
{
    const char *ime[]{"Srijeda","Cetvrtak","Petak","Subota","Nedjelja","Ponedjeljak","Utorak"};
    return ime[UkupnoDana()%7];
}

int Datum::UkupnoDana() const
{
    int ukupno(0);
    for (int i=1800;i&lt;godina;i++)
        ukupno+=365+int(Prestupna(i));
    for (int i=1;i&lt;mjesec;i++)
        ukupno+=BrojDana(i,godina);
    for (int i=1;i&lt;dan;i++)
        ++ukupno;
    return ukupno;
}

const char *Datum::DajImeMjeseca() const
{
<a name="2"></a><font color="#0000FF"><a href="match855-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_2.gif"/></a>

    const char *ime[]{"Januar","Februar","Mart","April","Maj","Juni","Juli","August","Septembar","Oktobar","Novembar","Decembar"};
    return ime[mjesec-1];
</font>}

int Datum::BrojDana (int m, int g)
{
    int bd[]{31,28,31,30,31,30,31,31,30,31,30,31};
    if (Datum::Prestupna(g)) bd[1]++;
    return bd[m-1];
}

void Datum::Postavi(int d, int m, int g)
{
    if (g&lt;1800 || d&lt;1 || m&lt;1 || m&gt;12 || d&gt;BrojDana(m,g)) throw std::domain_error ("Nelegalan datum");
    dan=d; mjesec=m; godina=g;
}

int main ()
{
    try 
    {
        Datum d(14,2,1998);
        for (;;)
        {
            int n;
            std::cout&lt;&lt;"Odaberite opciju:\n1 - Pomjeri unaprijed\n2 - Pomjeri unazad\n3 - Koji je danas dan?\n4 - Pretvori u string\n5 - Daj broj dana od 1.1.1800.\n";
            std::cout&lt;&lt;"6 - Ime mjeseca\n7 - Ispisi datum\n8 - Kraj\n";
            std::cin&gt;&gt;n;
            if (n==1)
            {
                int p;
                std::cout&lt;&lt;"Unesite pomak: "; std::cin&gt;&gt;p;
                try {d+=p;}
                catch (std::domain_error e)
                { std::cout&lt;&lt;e.what()&lt;&lt;"\n";}
            }
            else if (n==2)
            {
                int p;
                std::cout&lt;&lt;"Unesite pomak: "; std::cin&gt;&gt;p;
                try{d-=p;}
                catch(std::domain_error e)
                {std::cout&lt;&lt;e.what()&lt;&lt;"\n";}
            }
            else if (n==3) std::cout&lt;&lt;"Danas je "&lt;&lt;d.DajImeDanaUSedmici()&lt;&lt;std::endl;
            else if (n==4) std::cout&lt;&lt;std::string(d)&lt;&lt;std::endl;
            else if (n==5) std::cout&lt;&lt;"Broj proteklih dana od 1.1.1800. je "&lt;&lt;int(d)&lt;&lt;std::endl;
            else if (n==6) std::cout&lt;&lt;"Ime mjeseca je "&lt;&lt;d.DajImeMjeseca()&lt;&lt;std::endl;
            else if (n==7) std::cout&lt;&lt;d&lt;&lt;std::endl;
            else if (n==8) break;
        }
    }
    catch (std::domain_error e)
    {
        std::cout&lt;&lt;e.what()&lt;&lt;"\n";
    }
	return 0;
}
</pre>
</body>
</html>
