<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z5/Z3/student8863.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z5/Z3/student3739.cpp<p></p><pre>
/B2017/2018: Zadaća 5, Zadatak 3
#include &lt;iostream&gt;
#include &lt;stdexcept&gt;
#include &lt;cmath&gt;
#include &lt;string&gt;
#include &lt;sstream&gt;

template &lt;typename T&gt; std::string PretvoriUString(T x)
{
  std::ostringstream s;
  s &lt;&lt; x;
  return s.str();
}

class Datum {

  int d, m, g;
  static int BrojDana (int mjesec, int godina) {
    int broj_dana[12] {31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31};
    if ((godina%4==0 &amp;&amp; godina%100!=0) || godina%400==0) broj_dana[1]++;
    return broj_dana[mjesec-1];
  }

  static bool DolaziPrije(const Datum &amp;dat1, const Datum &amp;dat2) {
    int dan1(dat1.d), mj1(dat1.m), god1(dat1.g), dan2(dat2.d), mj2(dat2.m), god2(dat2.g);
    return ((god1&lt;god2) || (god1==god2 &amp;&amp; mj1&lt;mj2) || (god1==god2 &amp;&amp; mj1==mj2 &amp;&amp; dan1&lt;dan2));
  }

  static int BrojDanaDoDatuma(int dan, int mj, int god) {
    int dani(0);
    for (int i=1800; i&lt;god; i++) dani+=365+((i%4==0 &amp;&amp; i%100!=0) || i%400==0);
    for (int i=1; i&lt;mj; i++) dani+=BrojDana(i, god);
    dani+=dan;
    return dani;
  }

public:

  enum Mjeseci {Januar = 1, Februar, Mart, April, Maj, Juni, Juli, August, Septembar, Oktobar, Novembar, Decembar};
<a name="1"></a><font color="#00FF00"><a href="match658-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_2.gif"/></a>

  enum Dani {Ponedjeljak = 1, Utorak, Srijeda, Cetvrtak, Petak, Subota, Nedjelja};

  Datum(int dan, int mjesec, int godina) {
    Postavi(dan, mjesec, godina);
  }
  Datum(int dan, Mjeseci mjesec, int godina) {
    Postavi(dan, mjesec, godina);
  }


  Datum &amp;operator =(const Datum &amp;dat) {
</font>    if (&amp;dat!=this) {
      d=dat.d;
      m=dat.m;
      g=dat.g;
    }
    return *this;
  }

  Datum &amp;operator =(Datum &amp;&amp;dat) {
    if (&amp;dat!=this) {
      d=dat.d;
      m=dat.m;
      g=dat.g;
    }
    return *this;
  }

  Datum(const Datum &amp;dat) {
    d=dat.d;
    m=dat.m;
    g=dat.g;
  }
  Datum(Datum &amp;&amp;dat) {
    d=dat.d;
    m=dat.m;
    g=dat.g;
  }


  void Postavi(int dan, int mjesec, int godina) {
    if (godina&lt;1800 || mjesec&lt;1 || mjesec&gt;12) throw std::domain_error("Neispravan datum");
    if (dan&lt;1 || dan&gt;BrojDana(mjesec, godina)) throw std::domain_error("Neispravan datum");
    d=dan;
    m=mjesec;
    g=godina;
  }

  void Postavi(int dan, Mjeseci mjesec, int godina) {
    if (godina&lt;1800 || mjesec&lt;1 || mjesec&gt;12) throw std::domain_error("Neispravan datum");
    if (dan&lt;1 || dan&gt;BrojDana(mjesec, godina)) throw std::domain_error("Neispravan datum");
    d=dan;
    m=mjesec;
    g=godina;
  }

  int DajDan() const {
    return d;
  }
  Mjeseci DajMjesec() const {
    return Mjeseci(m);
  }
  int DajGodinu() const {
    return g;
  }

<a name="2"></a><font color="#0000FF"><a href="match658-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_1.gif"/></a>

  const char* DajImeMjeseca() const {
    const char* niz[12] { "Januar", "Februar", "Mart", "April", "Maj", "Juni", "Juli", "August", "Septembar", "Oktobar", "Novembar", "Decembar"};
    return niz[int(m)-1];
</font>  }

  Dani DanUSedmici() const {

    int niz[] {0, 3, 2, 5, 0, 3, 5, 1, 4, 6, 2, 4};

    int god(g), mj(m), dan(d);

    god-=mj&lt;3;

    if ((god + god/4 - god/100 + god/400 + niz[mj-1] + dan) % 7==0) return Dani(7);
    return Dani((god + god/4 - god/100 + god/400 + niz[mj-1] + dan) % 7);
  }

<a name="4"></a><font color="#FF00FF"><a href="match658-0.html#4" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_1.gif"/></a>

  const char* DajImeDanaUSedmici() const {
    const char* niz[7] { "Ponedjeljak", "Utorak", "Srijeda", "Cetvrtak", "Petak", "Subota", "Nedjelja"};
    return niz[int(DanUSedmici())-1];
</font>  }

  friend Datum &amp;operator ++(Datum &amp;dat);

  friend Datum operator ++(Datum &amp;dat, int);

  friend Datum &amp;operator --(Datum &amp;dat);

  friend Datum operator --(Datum &amp;dat, int);

  friend Datum operator +(const Datum &amp;dat, int n);

<a name="3"></a><font color="#00FFFF"><a href="match658-0.html#3" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_1.gif"/></a>

  friend Datum operator -(const Datum &amp;dat, int n);

  friend Datum &amp;operator +=(Datum &amp;dat, int n);

  friend Datum &amp;operator -=(Datum &amp;dat, int n) {
    dat+=(-n);
</font>    return dat;
  }

  friend int operator -(const Datum &amp;dat1, const Datum &amp;dat2);

<a name="0"></a><font color="#FF0000"><a href="match658-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_3.gif"/></a>

  friend bool operator ==(const Datum &amp;dat1, const Datum &amp;dat2) {
    return dat1.d == dat2.d &amp;&amp; dat1.m == dat2.m &amp;&amp; dat1.g==dat2.g;
  }

  friend bool operator !=(const Datum &amp;dat1, const Datum &amp;dat2) {
    return !(dat1 == dat2);
  }

  friend bool operator &lt;(const Datum &amp;dat1, const Datum &amp;dat2) {
</font>    return DolaziPrije(dat1, dat2);
  }

  friend bool operator &gt;(const Datum &amp;dat1, const Datum &amp;dat2) {
    return !(dat1&lt;dat2) &amp;&amp; dat1!=dat2;
  }

  friend bool operator &lt;=(const Datum &amp;dat1, const Datum &amp;dat2) {
    return dat1&lt;dat2 || dat1==dat2;
  }

  friend bool operator &gt;=(const Datum &amp;dat1, const Datum &amp;dat2) {
    return dat1&gt;dat2 || dat1==dat2;
  }

  friend std::ostream &amp;operator &lt;&lt;(std::ostream &amp;tok, const Datum &amp;dat) {
    tok  &lt;&lt; std::string(dat) &lt;&lt; std::endl;
    return tok;
  }

  friend std::istream &amp;operator &gt;&gt;(std::istream &amp;tok, Datum &amp;dat);

  operator std::string() const {
    std::string s(PretvoriUString(d));

    s=s+".";
    s=s+DajImeMjeseca();
    s=s+" ";
    s=s+PretvoriUString(g);
    s=s+".(";
    s=s+DajImeDanaUSedmici();
    s=s+")";

    return s;
  }

  explicit operator int() const {
    return BrojDanaDoDatuma(d, m, g);
  }

};

Datum &amp;operator ++(Datum &amp;dat)
{
  dat.d++;
  if (dat.d&gt;Datum::BrojDana(dat.m, dat.g)) {
    dat.d=1;
    dat.m++;
  }
  if (dat.m&gt;12) {
    dat.m=1;
    dat.g++;
  }
  return dat;
}

Datum operator ++(Datum &amp;dat, int)
{
  Datum pomocna(dat.d, dat.m, dat.g);
  ++dat;
  return pomocna;
}

Datum &amp;operator --(Datum &amp;dat)
{
  int dan(dat.d), mj(dat.m), god(dat.g);
  dan--;
  if (dan&lt;1) {
    mj--;
    if (mj&gt;0) dan=Datum::BrojDana(mj, god);
  }
  if (mj&lt;1) {
    mj=12;
    god--;
    if (god&lt;1800) throw std::domain_error("Nelegalan datum");
    dan=31;
  }

  dat.d=dan;
  dat.m=mj;
  dat.g=god;
  return dat;
}

Datum operator --(Datum &amp;dat, int)
{
  Datum pomocna(dat);
  --dat;
  return pomocna;
}


Datum operator +(const Datum &amp;dat, int n)
{
  Datum pomocna(dat.d, dat.m, dat.g);
  pomocna+=n;
  return pomocna;
}

Datum operator -(const Datum &amp;dat, int n)
{
  Datum pomocna(dat.d, dat.m, dat.g);
  pomocna-=n;
  return pomocna;
}

Datum &amp;operator +=(Datum &amp;dat, int n)
{
  if (n&gt;0) for (int i=0; i&lt;n; i++) dat++;
  else {
    Datum pomocna(dat);
    for (int i=n; i&lt;0; i++) pomocna--;
    dat=pomocna;
  }
  return dat;
}


int operator -(const Datum &amp;dat1, const Datum &amp;dat2)
{
  int n1(Datum::BrojDanaDoDatuma(dat1.d, dat1.m, dat1.g)), n2(Datum::BrojDanaDoDatuma(dat2.d, dat2.m, dat2.g));
  return std::abs(n1-n2);
}

std::istream &amp;operator &gt;&gt;(std::istream &amp;tok, Datum &amp;dat)
{
  char znak;
  int dan, mj, god;
  try {
    tok &gt;&gt; dan;
    if (tok.peek()!='/') throw "";
    tok &gt;&gt; znak &gt;&gt; mj;
    if (tok.peek()!='/') throw "";
    tok &gt;&gt; znak &gt;&gt; god;
    if (tok.peek()!='\n') throw "";
  } catch(...) {
    tok.setstate(std::ios::failbit);
    return tok;
  }
  dat.Postavi(dan, mj, god);
  return tok;
}




int main ()
{

  try {
    Datum d1(16, 2, 2007);
    Datum d2(26, 8, 1998);

    d2.Postavi(22, 11, 1998);

    std::cout &lt;&lt; d1.DajDan() &lt;&lt; std::endl;
    std::cout &lt;&lt; d1.DajMjesec() &lt;&lt; std::endl;
    std::cout &lt;&lt; d1.DajGodinu() &lt;&lt; std::endl;
    std::cout &lt;&lt; d1.DajImeMjeseca() &lt;&lt; std::endl;
    std::cout &lt;&lt; d1.DajImeDanaUSedmici() &lt;&lt; std::endl;
    std::cout &lt;&lt; d1.DanUSedmici() &lt;&lt; std::endl;

    d1++;
    ++d1;
    std::cout &lt;&lt; d1 &lt;&lt; std::endl;
    d1--;
    --d1;
    std::cout &lt;&lt; d1 &lt;&lt; std::endl;


    std::cout &lt;&lt; "Unesite datum: ";
    Datum d3(1,1,1800);

    std::cin &gt;&gt; d3;

    if (!std::cin) std::cout &lt;&lt; "Greska pri unosu" &lt;&lt; std::endl;

    std::cout &lt;&lt; d3;


    if (d1==d2) std::cout &lt;&lt; "Jednaki su"  &lt;&lt; std::endl;
    if (d1!=d2) std::cout &lt;&lt; "Nisu jednaki"  &lt;&lt; std::endl;
    if (d1&lt;d2) std::cout &lt;&lt; "d1 je manji od d2"  &lt;&lt; std::endl;
    if (d1&lt;=d2) std::cout &lt;&lt; "d1 je manji ili jednak d2"  &lt;&lt; std::endl;
    if (d1&gt;d2) std::cout &lt;&lt; "d1 je veci od d2"  &lt;&lt; std::endl;
    if (d1&gt;=d2) std::cout &lt;&lt; "d1 je veci ili jednak d2"  &lt;&lt; std::endl;

    std::cout &lt;&lt; "Proslo je " &lt;&lt; d1-d2 &lt;&lt; " dana između " &lt;&lt; d1 &lt;&lt; " i " &lt;&lt; d2 &lt;&lt; std::endl;


    std::cout &lt;&lt; d2 &lt;&lt; std::endl;
    d2-=44;
    std::cout &lt;&lt; d2 &lt;&lt; std::endl;
    --d2;
    std::cout &lt;&lt; d2 &lt;&lt; std::endl;

    d1+=8;
    std::cout &lt;&lt; d1 &lt;&lt; std::endl;

  } catch(std::exception &amp;iz) {
    std::cout &lt;&lt; iz.what();
  }


  return 0;
}
</pre>
</body>
</html>
