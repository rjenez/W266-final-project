<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z5/Z3/student7834.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z5/Z3/student4785.cpp<p></p><pre>
/B2017/2018: ZadaÄ‡a 5, Zadatak 3
#include &lt;iostream&gt;
#include &lt;string&gt;
#include &lt;stdexcept&gt;

class Datum
{
    int dan,mjesec,godina;
<a name="4"></a><font color="#FF00FF"><a href="match541-0.html#4" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_1.gif"/></a>

    void Normaliziraj(int d, int m, int g) {
        int broj_dana[12] {31,28,31,30,31,30,31,31,30,31,30,31};
</font>        if(g%4==0 &amp;&amp; g%100!=0 || g&amp;400==0)broj_dana[1]++;
        while(d&gt;broj_dana[m-1]) {
            d-=broj_dana[m-1];
            m++;
            if(m&gt;12) {
                m=1;
                g++;
                if(g%4==0 &amp;&amp; g%100!=0 || g&amp;400==0) broj_dana[1]=29;
                else broj_dana[1]=28;
            }
        }
        while(d&lt;1) {
            m--;
            d+=broj_dana[m-1];
            if(m&lt;1) {
                m=12;
                g--;
                if(g%4==0 &amp;&amp; g%100!=0 || g&amp;400==0) broj_dana[1]=29;
                else broj_dana[1]=28;
            }
        }
        if(g&lt;1800) throw std::domain_error("Nelegalan datum");
        dan=d;
        mjesec=m;
        godina=g;
    }
    static int DajRazliku(const Datum &amp;d1, const Datum &amp;d2) {
        int b_d,b_m,b_g,d,m,g;
        if(d1==d2) return 0;
        if(d1&lt;d2) {
            b_d=d1.dan;
            b_m=d1.mjesec;
            b_g=d1.godina;
            d=d2.dan;
            m=d2.mjesec;
            g=d2.godina;
        } else {
            b_d=d2.dan;
            b_m=d2.mjesec;
            b_g=d2.godina;
            d=d1.dan;
            m=d1.mjesec;
            g=d1.godina;
        }
        int razlika(0);
        while(b_g!=g) {
            bool prvi(b_g%4==0);
            bool drugi(b_g%100!=0);
            bool treci(b_g&amp;400==0);
            if(b_g==2000) razlika++;
            else if(prvi&amp;&amp;drugi ||treci) razlika++;
            razlika+=365;
            b_g++;
        }
        while(b_m!=m) {
            int broj_dana[12] {31,28,31,30,31,30,31,31,30,31,30,31};
            if(b_g==2000 || (b_g%4==0 &amp;&amp; b_g%100!=0 || b_g&amp;400==0)) broj_dana[1]++;
            razlika+=broj_dana[b_m-1];
            b_m++;
        }
        while(b_d!=d) {
            razlika++;
            b_d++;
        }
        return razlika;
    }

public:
    enum Mjeseci {Januar=1,Februar,Mart,April,Maj,Juni,Juli,August,Septembar,Oktobar,Novembar,Decembar};
    enum Dani {Ponedjeljak=1,Utorak,Srijeda,Cetvrtak,Petak,Subota,Nedjelja};
    Datum(int d, int m, int g) {
        Postavi(d,m,g);
    }
    Datum(int d, Mjeseci m, int g) {
        Postavi(d,m,g);
    }
    void Postavi(int d, int m, int g);
    void Postavi(int d, Mjeseci mj, int g) {
        Postavi(d,int(mj),g);
    }
    int DajDan() const {
        return dan;
    }
    int DajGodinu() const {
        return godina;
    }
    Mjeseci DajMjesec() const {
        return Mjeseci(Januar+mjesec-1);
    }
    Dani DanUSedmici() const {
        Datum d1(1,1,1800);
        int razlika=DajRazliku(d1,*this);
        razlika=(razlika+Srijeda)%7;
        if(razlika==0) return Srijeda;
        return Dani(razlika);
    }
    char *DajImeMjeseca() const ;
    char *DajImeDanaUSedmici() const ;
    friend Datum&amp; operator++(Datum &amp;d) ;
    friend Datum&amp; operator--(Datum &amp;d) ;
    friend Datum operator++(Datum &amp;d, int) ;
    friend Datum operator--(Datum &amp;d, int) ;
    friend std::istream &amp;operator&gt;&gt;(std::istream &amp;tok, Datum &amp;d);
<a name="5"></a><font color="#FF0000"><a href="match541-0.html#5" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_1.gif"/></a>

    friend std::ostream &amp;operator&lt;&lt;(std::ostream &amp;tok, const Datum &amp;d);
    friend Datum &amp;operator+=(Datum &amp;d, int n) ;
    friend Datum &amp;operator-=(Datum &amp;d, int n) ;
    friend Datum operator +(const Datum &amp;d, int n) ;
</font>    friend Datum operator +(int n, const Datum &amp;d) {
        return d+n;
    }
    friend Datum operator-(const Datum &amp;d, int n) ;
    friend bool operator &lt;(const Datum &amp;d1, const Datum &amp;d2) ;
    friend bool operator &lt;=(const Datum &amp;d1, const Datum &amp;d2) {
        if(d1==d2) return true;
        return (d1&lt;d2);
    }
    friend bool operator &gt;(const Datum &amp;d1, const Datum &amp;d2) {
        return (d1!=d2 &amp;&amp; !(d1&lt;d2));
    }
    friend bool operator &gt;=(const Datum &amp;d1, const Datum &amp;d2) {
        if(d1==d2) return true;
        return (!(d1&lt;d2));
    }
<a name="2"></a><font color="#0000FF"><a href="match541-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_2.gif"/></a>

    friend bool operator ==(const Datum &amp;d1, const Datum &amp;d2) {
        return (d1.godina==d2.godina &amp;&amp; d1.mjesec==d2.mjesec &amp;&amp; d1.dan==d2.dan);
    }
    friend bool operator !=(const Datum &amp;d1, const Datum &amp;d2) {
</font>        return !(d1==d2);
    }
    friend int operator-(const Datum &amp;d1, const Datum &amp;d2) {
        return DajRazliku(d1,d2);
    }
    operator std::string() const {
        std::string datum;
        datum=std::to_string(dan)+"."+std::to_string(mjesec)+" "+std::to_string(godina)+".("+DajImeDanaUSedmici()+")";
        return datum;
    }
    explicit operator int () const {
        int r;
        Datum d(1,1,1800);
        r=DajRazliku(d,*this);
<a name="3"></a><font color="#00FFFF"><a href="match541-0.html#3" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_1.gif"/></a>

        return r;
    }
};


void Datum::Postavi(int d, int m, int g)
{
    int broj_dana[12] {31,28,31,30,31,30,31,31,30,31,30,31};
</font>    if(g%4==0 &amp;&amp; g%100!=0 || g&amp;400==0)broj_dana[1]++;
<a name="1"></a><font color="#00FF00"><a href="match541-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_2.gif"/></a>

    if(g&lt;1 || d&lt;1 || m&lt;1 || m&gt;12 || d&gt;broj_dana[m-1] || g&lt;1800) throw std::domain_error("Nelegalan datum");
    dan=d;
    mjesec=m;
    godina=g;
</font>}
char *Datum::DajImeMjeseca() const
{
    char *mjeseci[12] {"Januar","Februar","Mart","April","Maj","Juni","Juli","August","Septembar","Oktobar","Novembar","Decembar"};
    return mjeseci[mjesec-1];
}
char *Datum::DajImeDanaUSedmici() const
{
    char *dani[7] {"Ponedjeljak","Utorak","Srijeda","Cetvrtak","Petak","Subota","Nedjelja"};
    return dani[DanUSedmici()-1];
}
Datum &amp;operator++(Datum &amp;d)
{
    d.dan++;
    d.Normaliziraj(d.dan,d.mjesec,d.godina);
    return d;
}
Datum&amp; operator--(Datum &amp;d)
{
    d.dan--;
    d.Normaliziraj(d.dan,d.mjesec,d.godina);
    return d;
}
Datum operator++(Datum &amp;d, int)
{
    Datum pomocni(d);
    ++d;
    return pomocni;
}
Datum operator--(Datum &amp;d, int)
{
    Datum pomocni(d);
    --d;
    return pomocni;
}

std::istream &amp;operator&gt;&gt;(std::istream &amp;tok, Datum &amp;d)
{
    char znak;
    double a,b,c;
    int ok(true);
    tok&gt;&gt;std::ws;
    tok&gt;&gt;a;
    if(!tok || int(a)!=a) {
        ok=false;
        tok.setstate(std::ios::failbit);
    }
    tok&gt;&gt;znak;
    if(znak!='/') {
        ok=false;
        tok.setstate(std::ios::failbit);
    }
    tok&gt;&gt;b;
    if(!tok || int(b)!=b) {
        ok=false;
        tok.setstate(std::ios::failbit);
    }
    tok&gt;&gt;znak;
    if(znak!='/') {
        ok=false;
        tok.setstate(std::ios::failbit);
    }
    tok&gt;&gt;c;
    if(!tok || int(c)!=c) {
        ok=false;
        tok.setstate(std::ios::failbit);
    }
    if(ok) d.Postavi(a,b,c);
    return tok;
}
<a name="0"></a><font color="#FF0000"><a href="match541-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_3.gif"/></a>

std::ostream &amp;operator&lt;&lt;(std::ostream &amp;tok, const Datum &amp;d)
{
    tok&lt;&lt;d.DajDan()&lt;&lt;"."&lt;&lt;d.DajImeMjeseca()&lt;&lt;" "&lt;&lt;d.DajGodinu()&lt;&lt;".("&lt;&lt;d.DajImeDanaUSedmici()&lt;&lt;")"&lt;&lt;std::endl;
    return tok;
</font>}
Datum &amp;operator+=(Datum &amp;d, int n)
{
    d.Normaliziraj(d.dan+n,d.mjesec,d.godina);
    return d;
}
Datum &amp;operator-=(Datum &amp;d, int n)
{
    d.Normaliziraj(d.dan+n,d.mjesec,d.godina);
    return d;
}
Datum operator +(const Datum &amp;d, int n)
{
    Datum d2(d);
    d2+=n;
    return d2;
}
Datum operator-(const Datum &amp;d, int n)
{
    Datum d2(d);
    d2-=n;
    return d2;
}
bool operator &lt;(const Datum &amp;d1, const Datum &amp;d2)
{
    if(d1==d2) return false;
    if(d1.godina&lt;d2.godina) return true;
    else if(d1.godina&gt;d2.godina) return false;
    else if(d1.mjesec&lt;d2.mjesec) return true;
    else if(d1.mjesec&gt;d2.mjesec) return false;
    else if(d1.dan&lt;d2.dan) return true;
    else return false;
}

int main ()
{
    return 0;
}
</pre>
</body>
</html>
