<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z5/Z3/student2009.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z5/Z3/student2009.cpp<p></p><pre>
#include &lt;iostream&gt;
#include &lt;stdexcept&gt;
#include &lt;exception&gt;
#include &lt;string&gt;
#include &lt;sstream&gt;
using std::string;
using std::cin;
using std::cout;
using std::endl;

class Datum
{
    int dan,mjesec,godina;
    int dansedmica;
    static bool DaLiJeIspravno(int m, int g) {
        return (m&gt;=1 &amp;&amp; m&lt;=12 &amp;&amp; g&gt;=1800);
    }
    static int BrojDana (int mjesec, int godina) {
        int BrojDana[12] {31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31};
        if ((godina%4==0 &amp;&amp; godina%100!=0) || godina%400==0) BrojDana[1]++;
        return BrojDana[mjesec-1];
    }
    static int Prestupne(const Datum &amp;d) {
        int godine=d.godina;
        if (d.mjesec &lt;= 2)
            godine--;
        return godine/4 - godine/100 + godine/400;
    }

    static int KojiJeDan(int dan, int mjesec, int godina) {
        static int t[] = {0, 3, 2, 5, 0, 3, 5, 1, 4, 6, 2, 4};
        godina -= mjesec &lt; 3;
        int x = (godina + godina/4 - godina/100 + godina/400 + t[mjesec-1] + dan) % 7;
        if(x==0) x=7;
        return x;
    }

    const char * mjechr[12]= {"Januar", "Februar", "Mart", "April", "Maj", "Juni", "Juli", "August",
                              "Septembar", "Oktobar", "Novembar", "Decembar"
                             };
<a name="1"></a><font color="#00FF00"><a href="match787-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_1.gif"/></a>

    const char * dachr[7]= {"Ponedjeljak", "Utorak", "Srijeda", "Cetvrtak", "Petak", "Subota", "Nedjelja"};
public:

    enum Mjeseci {Januar = 1, Februar, Mart, April, Maj, Juni, Juli, August,
                  Septembar, Oktobar, Novembar, Decembar
</font>                 };
    enum Dani {Ponedjeljak = 1, Utorak, Srijeda, Cetvrtak, Petak, Subota, Nedjelja};

    Datum() {}
    Datum(int d, int m, int g) {
        if(!DaLiJeIspravno(m,g) || d&lt;1 || d&gt;BrojDana(m,g)) throw std::domain_error("Nelegalan datum");
        dan=d;
        mjesec=m;
        godina=g;
        dansedmica=KojiJeDan(dan,mjesec,godina);
    }

    Datum(int d, Mjeseci m, int g) {
        if(!DaLiJeIspravno(m,g) || d&lt;1 || d&gt;BrojDana(m,g)) throw std::domain_error("Nelegalan datum");
        dan=d;
        mjesec=m;
        godina=g;
        dansedmica=KojiJeDan(dan,mjesec,godina);
    }

    void Postavi(int dan, int mjesec, int godina) {
        if(!DaLiJeIspravno(mjesec,godina) || dan&lt;1 || dan&gt;BrojDana(mjesec,godina)) throw std::domain_error("Nelegalan datum");
        Datum::dan = dan;
        Datum::mjesec = mjesec;
        Datum::godina = godina;
        dansedmica=KojiJeDan(Datum::dan,Datum::mjesec,Datum::godina);
    }

    void Postavi(int dan, Mjeseci mjesec, int godina) {
        if(!DaLiJeIspravno(mjesec,godina) || dan&lt;1 || dan&gt;BrojDana(mjesec,godina)) throw std::domain_error("Nelegalan datum");
        Datum::dan = dan;
        Datum::mjesec = static_cast&lt;int&gt;(mjesec);
        Datum::godina = godina;
        dansedmica=KojiJeDan(Datum::dan,Datum::mjesec,Datum::godina);
    }

    int DajDan() const {
        return dan;
    }

    int DajGodinu() const {
        return godina;
    }

    Mjeseci DajMjesec() const {
        return static_cast&lt;Mjeseci&gt;(mjesec);
    }

    const char * DajImeMjeseca() const {
        return mjechr[mjesec-1];
    }

    Dani DanUSedmici() const {
        return static_cast&lt;Dani&gt;(dansedmica);
    }

    const char * DajImeDanaUSedmici() const {
        return dachr[dansedmica-1];
    }

    Datum &amp; operator ++() {
        int dan1(dan), mjesec1(mjesec), godina1(godina);
        dan1++;
        if(dan1&gt;Datum::BrojDana(mjesec1,godina1)) {
            dan1=1;
            mjesec1++;
        }
        if (mjesec1&gt;12) {
            mjesec1=1;
            godina1++;
        }
        this-&gt;Postavi(dan1, mjesec1, godina1);
        return *this;
    }

    Datum operator ++(int) {
        Datum temp(*this);
        ++(*this);
        return temp;
    }

    Datum &amp;operator --() {
        int dan1(dan), mjesec1(mjesec), godina1(godina);
        dan1--;
        if (dan1&lt;1) {
            mjesec1--;
            if (mjesec1&gt;0) dan1=Datum::BrojDana(mjesec1, godina1);
        }
        if(mjesec1&lt;1) {
            mjesec1=12;
            godina1--;
            if(godina1&lt;1800) throw std::domain_error("Nelegalan datum");
            dan1=Datum::BrojDana(mjesec1,godina1);
        }
        this-&gt;Postavi(dan1, mjesec1, godina1);
        return *this;
    }

    Datum operator --(int) {
        Datum temp(*this);
        --(*this);
        return temp;
    }

    Datum &amp;operator +=(int n) {
        while(n!=0) {
            ++(*this);
            n--;
        }
        return *this;
    }

    Datum &amp;operator -=(int n) {
        while(n!=0) {
            --(*this);
            n--;
        }
        return *this;
    }

    operator std::string() const {
        string s(std::to_string(dan) + "." + mjechr[mjesec-1] + " " + std::to_string(godina) + ".(" + dachr[dansedmica-1] + ")");
        return s;
    }

    explicit operator int() const {
        Datum ref(1,1,1800);
        return *this-ref;
    }

<a name="2"></a><font color="#0000FF"><a href="match787-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_1.gif"/></a>

    friend std::ostream &amp; operator &lt;&lt; (std::ostream &amp;tok, const Datum &amp;d);
    friend std::istream &amp; operator &gt;&gt; (std::istream &amp;utok, Datum &amp;d);
</font>    friend Datum operator +(Datum d, int n);
    friend Datum operator -(Datum d, int n);
<a name="4"></a><font color="#FF00FF"><a href="match787-1.html#4" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_1.gif"/></a>

    friend int operator -(const Datum &amp;d1, const Datum &amp;d2);
    friend bool operator ==(const Datum &amp;d1, const Datum &amp;d2);
    friend bool operator !=(const Datum &amp;d1, const Datum &amp;d2);
</font>    friend bool operator &lt;(const Datum &amp;d1, const Datum &amp;d2);
    friend bool operator &gt;(const Datum &amp;d1, const Datum &amp;d2);
    friend bool operator &lt;=(const Datum &amp;d1, const Datum &amp;d2);
    friend bool operator &gt;=(const Datum &amp;d1, const Datum &amp;d2);

};

std::ostream &amp; operator &lt;&lt; (std::ostream &amp;tok, const Datum &amp;d)
{
    tok &lt;&lt; string(d) &lt;&lt; endl;
    return tok;
}

std::istream &amp; operator &gt;&gt; (std::istream &amp;utok, Datum &amp;d1)
{
    int d,m,g;
    char znak;
    utok &gt;&gt; d;
    if(!utok.fail() &amp;&amp; utok.peek()=='/') {
        utok &gt;&gt; znak &gt;&gt; m;
        if(!utok.fail() &amp;&amp; utok.peek()=='/') utok &gt;&gt; znak&gt;&gt; g;
        else utok.setstate(std::ios::failbit);
    } else utok.setstate(std::ios::failbit);

    d1.Postavi(d,m,g);
    return utok;
}

Datum operator +(Datum d, int n)
{
    while(n!=0) {
        ++d;
        n--;
    }
    return d;
}

Datum operator -(Datum d, int n)
{
    while(n!=0) {
        --d;
        n--;
    }
    return d;
}


int operator -(const Datum &amp;d1, const Datum &amp;d2)
{
    long int x = d1.godina*365+d1.dan;
    for(int i=1; i&lt;d1.mjesec; i++) x+=Datum::BrojDana(i,d1.godina);
    x+=Datum::Prestupne(d1);

    long int y = d2.godina*365+d2.dan;
    for(int i=1; i&lt;d2.mjesec; i++) y+=Datum::BrojDana(i,d2.godina);
    y+=Datum::Prestupne(d2);

<a name="0"></a><font color="#FF0000"><a href="match787-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_1.gif"/></a>

    return abs(x-y);
}

bool operator ==(const Datum &amp;d1, const Datum &amp;d2)
{
    return (d1.dan==d2.dan &amp;&amp; d1.mjesec==d2.mjesec &amp;&amp; d1.godina==d2.godina);
}

bool operator !=(const Datum &amp;d1, const Datum &amp;d2)
</font><a name="3"></a><font color="#00FFFF"><a href="match787-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_1.gif"/></a>

{
    return !(d1.dan==d2.dan &amp;&amp; d1.mjesec==d2.mjesec &amp;&amp; d1.godina==d2.godina);
</font>}

bool operator &lt;(const Datum &amp;d1, const Datum &amp;d2)
{
    return (d1.godina&lt;d2.godina || (d1.godina==d2.godina &amp;&amp; d1.mjesec&lt;d2.mjesec) || (d1.godina==d2.godina &amp;&amp; d1.mjesec==d2.mjesec &amp;&amp; d1.dan&lt;d2.dan));
}

bool operator &gt;(const Datum &amp;d1, const Datum &amp;d2)
{
    return (d1!=d2 &amp;&amp; !(d1&lt;d2));
}
bool operator &lt;=(const Datum &amp;d1, const Datum &amp;d2)
{
    return (d1==d2 || d1&lt;d2);
}

bool operator &gt;=(const Datum &amp;d1, const Datum &amp;d2)
{
    return (d1==d2 || d1&gt;d2);
}


int main ()
{
    try {
        Datum d1(31, 12, 1998);
        Datum d2(22, 12, 1998);
        d2.Postavi(22, 11, 1998);
        std::cout &lt;&lt; d1.DajDan() &lt;&lt; std::endl;
        std::cout &lt;&lt; d1.DajMjesec() &lt;&lt; std::endl;
        std::cout &lt;&lt; d1.DajGodinu() &lt;&lt; std::endl;
        std::cout &lt;&lt; d1.DajImeMjeseca() &lt;&lt; std::endl;
        std::cout &lt;&lt; d1.DajImeDanaUSedmici() &lt;&lt; std::endl;
        std::cout &lt;&lt; d1.DanUSedmici() &lt;&lt; std::endl;
        d1++;
        ++d1;
        std::cout &lt;&lt; d1 &lt;&lt; std::endl;
        d1--;
        --d1;
        std::cout &lt;&lt; d1 &lt;&lt; std::endl;
        Datum d3;
        std::cout &lt;&lt; "Unesite datum: ";
        std::cin &gt;&gt; d3;
        if (!std::cin) std::cout &lt;&lt; "Greska pri unosu" &lt;&lt; std::endl;
       std::cout &lt;&lt; d3;
        if (d1==d2) std::cout &lt;&lt; "Jednaki su"  &lt;&lt; std::endl;
        if (d1!=d2) std::cout &lt;&lt; "Nisu jednaki"  &lt;&lt; std::endl;
        if (d1&lt;d2) std::cout &lt;&lt; "d1 je manji od d2"  &lt;&lt; std::endl;
        if (d1&lt;=d2) std::cout &lt;&lt; "d1 je manji ili jednak d2"  &lt;&lt; std::endl;
        if (d1&gt;d2) std::cout &lt;&lt; "d1 je veci od d2"  &lt;&lt; std::endl;
        if (d1&gt;=d2) std::cout &lt;&lt; "d1 je veci ili jednak d2"  &lt;&lt; std::endl;
        std::cout &lt;&lt; "Proslo je " &lt;&lt; d1-d2 &lt;&lt; " dana između " &lt;&lt; d1 &lt;&lt; " i " &lt;&lt; d2 &lt;&lt; std::endl;
        std::cout &lt;&lt; d2;
        d2-=44;
        std::cout &lt;&lt; d2;
        --d2;
        std::cout &lt;&lt; d2;
        d1+=8;
        std::cout &lt;&lt; d1;

    } catch(std::exception &amp;iz) {
        std::cout &lt;&lt; iz.what();
    }
    return 0;
}</pre>
</body>
</html>
