<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z5/Z3/student9238.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z5/Z3/student9238.cpp<p></p><pre>
<a name="0"></a><font color="#FF0000"><a href="match65-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_99.gif"/></a>

/B2017/2018: ZadaÄ‡a 5, Zadatak 3
#include &lt;iostream&gt;
#include &lt;stdexcept&gt;
#include &lt;string.h&gt;
using namespace std;

bool Provjera(int dan,int mjesec,int god){
      
      int dani[]{31,28,31,30,31,30,31,31,30,31,30,31};
      if(god%4==0){
          dani[1]++;
          if(god%100==0 )dani[1]--;
          
      }
      if(mjesec&lt;=0 ||mjesec&gt;12){cout&lt;&lt;dan&lt;&lt;" "&lt;&lt;mjesec&lt;&lt;" "&lt;&lt;god&lt;&lt;endl; throw domain_error("Nelegalan datum");}
      if(dan&lt;=0 || dan&gt;dani[mjesec-1]  || god&lt;1800) throw domain_error("Nelegalan datum");
      return true;
  }
  
int Velicina(int mjesec,int god){
    int dani[]{31,28,31,30,31,30,31,31,30,31,30,31};
    
      if(god%4==0){
          dani[1]++;
          if(god%100==0)
          dani[1]--;
          
      }
      
      return dani[mjesec-1];
}

void Uvecaj(int &amp;dan,int &amp;mjesec,int &amp;god){
    
    
    if(++dan&gt;Velicina(mjesec,god)){
        dan=0;
        if(++mjesec&gt;12){mjesec=0;god++;}
    }
    
}

int DajDane(int dan,int mjesec,int god){
    
    Provjera(dan,mjesec,god);
    
    int dani1=0;
    dani1=(god-1)*365+dan-1;
    
    for(int i=1;i&lt;mjesec;i++)
        dani1+=Velicina(i,god);
    
   dani1+=(god-1)/4-(god-1)/100+(god-1)/400;
    
    return dani1;
}

int Umanji(int &amp;dan,int &amp;mjesec,int &amp;god){
    
   
    if(--dan&lt;=0){
        if(--mjesec&lt;=0){mjesec=12;god--;}
        dan=Velicina(mjesec,god);
    }
    
}

class Datum{
  
  int dan,mjesec,god;
  
  char imena_dana[7][15]{"Ponedeljak","Utorak","Srijeda","Cetvrtak","Petak","Subota","Nedelja"};
  char imena_mjeseci[12][15]{"Januar","Februar","Mart","April","Maj","Juni","Juli","August","Septembar","Oktobar","Novembar","Decembar"};
  
  
  public:
  enum Mjeseci {Januar = 1, Februar, Mart, April, Maj, Juni, Juli, August, Septembar, Oktobar, Novembar, Decembar};
enum Dani {Ponedjeljak = 1, Utorak, Srijeda, Cetvrtak, Petak, Subota, Nedjelja};

Datum(int dan,int mjesec,int god):dan(dan),mjesec(mjesec),god(god){
    
    Provjera(dan,mjesec,god);
}

Datum(Dani dan,Mjeseci mjesec,int god):dan(Dani(dan)),mjesec(Mjeseci(mjesec)),god(god){
    
    Provjera(Dani(dan),Mjeseci(mjesec),god);
    
}

Datum Postavi(int dan,int mjesec,int god){
    
    Provjera(dan,mjesec,god);
    
    this-&gt;dan=dan;
    this-&gt;mjesec=mjesec;
    this-&gt;god=god;
    return *this;
    
}

Datum Postavi(Dani dan,Mjeseci mjesec,int god){
    
    Provjera(Dani(dan),Mjeseci(mjesec),god);
    
    this-&gt;dan=Dani(dan);
    this-&gt;mjesec=Mjeseci(mjesec);
    this-&gt;god=god;
    return *this;
}

int DajDan()const{return dan;}

int DajGodinu()const{return god;}

Mjeseci DajMjesec()const{return Mjeseci(mjesec);}

char* DajImeMjeseca(){
    
  return imena_mjeseci[this-&gt;mjesec-1];
    
}

char *DajImeDanaUSedmici(){
    
    return imena_dana[(2+int(*this))%7];
}

Dani DanUSedmici()const{return Dani(dan);}

Datum &amp;operator ++(){
    
    Uvecaj(dan,mjesec,god);
    return *this;
    
}

Datum &amp;operator ++(int){
    Datum d(*this);
    ++(*this);
    return d;
    
}

Datum &amp;operator --(){
    
    Umanji(dan,mjesec,god);
    return *this;
    
}

Datum &amp;operator --(int){
    Datum d(*this);
    --(*this);
    return d;
    
}

Datum operator +(int i){
    Datum d(*this);
    int temp(i);
    if(i&lt;0)temp*=-1;
    
    for(int j=0;j&lt;temp;j++){
        
        if(i&lt;0) Umanji(d.dan,d.mjesec,d.god);
        else Uvecaj(d.dan,d.mjesec,d.god);
        
    }
    return d;
    
}

Datum operator -(int i){
    Datum d(*this);
    int temp(i);
    if(i&lt;0)temp*=-1;
    
    for(int j=0;j&lt;temp;j++){
        
        if(i&lt;0) Uvecaj(d.dan,d.mjesec,d.god);
        else Umanji(d.dan,d.mjesec,d.god);
        
    }
    return d;
    
}

Datum &amp;operator +=(int i){
    *this=*this+i;
    return *this;
}

Datum &amp;operator -=(int i){
    *this=*this-i;
    return *this;
}

int operator-(Datum &amp;d1){
    
    int dani1=0,dani2=0;
    
   dani1=DajDane(this-&gt;dan,this-&gt;mjesec,this-&gt;god);
   
   dani2=DajDane(d1.dan,d1.mjesec,d1.god);
   
   return abs(dani1-dani2);
   
}

bool operator==(Datum &amp;d1){
    return(this-&gt;dan==d1.dan &amp;&amp; this-&gt;mjesec==d1.mjesec &amp;&amp; this-&gt;god==d1.god);
    
}

bool operator !=(Datum &amp;d1){
 return(this-&gt;dan!=d1.dan || this-&gt;mjesec!=d1.mjesec ||this-&gt;god!=d1.god);
    
}

bool operator &lt;(Datum &amp;d1){
    
    return(DajDane(this-&gt;dan,this-&gt;mjesec,this-&gt;god)&lt;DajDane(d1.dan,d1.mjesec,d1.god));
    
}

bool operator &lt;=(Datum &amp;d1){
    
     return(DajDane(this-&gt;dan,this-&gt;mjesec,this-&gt;god)&lt;=DajDane(d1.dan,d1.mjesec,d1.god));
    
}

bool operator &gt;(Datum &amp;d1){
    
     return(DajDane(this-&gt;dan,this-&gt;mjesec,this-&gt;god)&gt;DajDane(d1.dan,d1.mjesec,d1.god));
    
}

bool operator &gt;=(Datum &amp;d1){
   
   return(DajDane(this-&gt;dan,this-&gt;mjesec,this-&gt;god)&gt;=DajDane(d1.dan,d1.mjesec,d1.god));
    
}

friend ostream &amp;operator&lt;&lt;(ostream &amp;tok,Datum &amp;d1){
    
    tok&lt;&lt;d1.DajDan()&lt;&lt;". "&lt;&lt;d1.DajImeMjeseca()&lt;&lt;" "&lt;&lt;d1.DajGodinu()&lt;&lt;". ("&lt;&lt;d1.DajImeDanaUSedmici()&lt;&lt;")"&lt;&lt;endl;
    return tok;
    
}

friend istream &amp;operator&gt;&gt;(istream &amp;tok,Datum &amp;d1){
    
    int d,g,m;
    char c1,c2;
    tok&gt;&gt;d&gt;&gt;c1&gt;&gt;m&gt;&gt;c2&gt;&gt;g;
        
        if(!tok || Provjera(d,m,g)==false || c1!='/' || c2!='/'){
            tok.clear();
            tok.ignore(10000,'\n');
            tok.setstate(ios_base::failbit);
        }
    return tok;
    
    
}

operator string(){
    
    
    return to_string(this-&gt;DajDan())+". "+this-&gt;DajImeMjeseca()+" "+to_string(this-&gt;DajGodinu())+". ("+this-&gt;DajImeDanaUSedmici()+")";
  
    
}

explicit operator int(){
    
    
    return DajDane(this-&gt;dan,this-&gt;mjesec,this-&gt;god)-DajDane(1,1,1800);
    
}


};

int main ()
{
    
  /*  Datum d1(15,2,2018);
    
    string s=d1;
    cout&lt;&lt;s;*/
    Datum d1(1,1,1800);
    d1+=20;
    d1+=-20;
    string s=d1;
    s+="hi";
    cout&lt;&lt;s&lt;&lt;endl;
   // cout&lt;&lt;DajDane(25,5,1766);
    //cout&lt;&lt;int(d1)&lt;&lt;endl;
    cout&lt;&lt;d1&lt;&lt;" "&lt;&lt;d1.DajImeDanaUSedmici();




return 0;
</font>}
</pre>
</body>
</html>
