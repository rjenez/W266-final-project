<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z4/Z1/student5939.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z4/Z1/student5939.cpp<p></p><pre>
<a name="1"></a><font color="#00FF00"><a href="match207-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_5.gif"/></a>

/B2017/2018: ZadaÄ‡a 4, Zadatak 1
#include &lt;iostream&gt;
#include &lt;cmath&gt;
#include &lt;stdexcept&gt;
#include &lt;tuple&gt;
#include &lt;iostream&gt;
#include &lt;vector&gt; 
#include &lt;memory&gt;
#include &lt;algorithm&gt;
#include &lt;locale&gt;
#define PI 3.14159265359
//#define eps 10e-10

class Kugla {
    private:
        double x,y,z,r;
    public:
        explicit Kugla(double r = 0): x{0},y{0},z{0} {
            if (r &lt; 0) throw std::domain_error("Ilegalan poluprecnik");
            Kugla::r = r;
        }
        
        Kugla(double x, double y, double z, double r = 0) {
            if (r &lt; 0) throw std::domain_error("Ilegalan poluprecnik");
</font>            Kugla::x = x;
            Kugla::y = y;
            Kugla::z = z;
            Kugla::r = r;
        }
        
        explicit Kugla(const std::tuple&lt;double, double, double&gt; &amp;centar, double r = 0) {
            if (r &lt; 0) throw std::domain_error("Ilegalan poluprecnik");
            Kugla::x = std::get&lt;0&gt;(centar);
            Kugla::y = std::get&lt;1&gt;(centar);
            Kugla::z = std::get&lt;2&gt;(centar);
            Kugla::r = r;
        }
        
        double DajX() const {
            return x;
        }
        
        double DajY() const {
            return y;
        }
        
        double DajZ() const {
            return z;
        }
        
<a name="2"></a><font color="#0000FF"><a href="match207-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_4.gif"/></a>

        std::tuple&lt;double, double, double&gt; DajCentar() const {
            return std::make_tuple(x,y,z);
        }
        
        double DajPoluprecnik() const {
            return r;
        }
        
        double DajPovrsinu() const {
            return 4*PI*pow(DajPoluprecnik(),2);
        }
        
        double DajZapreminu() const {
            return 4/3*pow(DajPoluprecnik(), 3.0) * PI; 
        }
        
        Kugla &amp;PostaviX(double x) {
            Kugla::x = x;
            return *this;
        }
        
        Kugla &amp;PostaviY(double y) {
            Kugla::y=y;
</font>            return *this;
        }
        
        Kugla &amp;PostaviZ(double z) {
            Kugla::z=z;
            return *this;
        }
        
        Kugla &amp;PostaviCentar(double x, double y, double z) {
            Kugla::x=x;
            Kugla::y=y;
            Kugla::z=z;
            return *this;
        }
        
 
        
        Kugla &amp;PostaviCentar(const std::tuple&lt;double, double, double&gt; &amp;centar) {
            Kugla::x=std::get&lt;0&gt;(centar);
            Kugla::y=std::get&lt;1&gt;(centar);
            Kugla::z=std::get&lt;2&gt;(centar);
           // if ((int(Kugla::x)&gt;='a' &amp;&amp; int(Kugla::x)&lt;='z') ||  (int(Kugla::y)&gt;='a' &amp;&amp; int(Kugla::y)&lt;='z') || (int(Kugla::z)&gt;='a' &amp;&amp; int(Kugla::z)&lt;='z')) throw std::domain_error("Neispravan centar");
            return *this;
        }
        
        Kugla &amp;PostaviPoluprecnik(double r) {
<a name="0"></a><font color="#FF0000"><a href="match207-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_74.gif"/></a>

            if (r &lt; 0) throw std::domain_error("Ilegalan poluprecnik");
            Kugla::r = r;
            return *this;
        }
        
        void Ispisi() const {
            std::cout &lt;&lt; "{(" &lt;&lt; this-&gt;x &lt;&lt; "," &lt;&lt; this-&gt;y &lt;&lt; "," &lt;&lt; this-&gt;z &lt;&lt; ")," &lt;&lt; DajPoluprecnik() &lt;&lt; "}" &lt;&lt; std::endl;
         }
        
        void Transliraj(double delta_x, double delta_y, double delta_z) {
            Kugla::x += delta_x;
            Kugla::y += delta_y;
            Kugla::z += delta_z;
        }
        
        friend bool DaLiSuIdenticne(const Kugla &amp;k1, const Kugla &amp;k2) {
            return k1.x == k2.x &amp;&amp; k1.y == k2.y &amp;&amp; k1.z == k2.z &amp;&amp; k1.r == k2.r;
        }
        
        friend bool DaLiSuPodudarne(const Kugla &amp;k1, const Kugla &amp;k2) {
            return k1.r == k2.r;
        }
        
        friend bool DaLiSuKoncentricne(const Kugla &amp;k1, const Kugla &amp;k2) {
            return k1.x == k2.x &amp;&amp; k1.y == k2.y &amp;&amp; k1.z == k2.z;
        }
        
        friend bool DaLiSeDodirujuIzvana(const Kugla &amp;k1, const Kugla &amp;k2) {
            return fabs(RastojanjeCentara(k1,k2)) == k1.r + k2.r || fabs(RastojanjeCentara(k1,k2)) == fabs(k1.r - k2.r);
        }
        
        friend bool DaLiSeDodirujuIznutra(const Kugla &amp;k1, const Kugla &amp;k2) {
            return fabs(RastojanjeCentara(k1,k2)) &gt; k1.r + k2.r &amp;&amp; fabs(RastojanjeCentara(k1,k2)) &lt; fabs(k1.r - k2.r);
        }
        
        friend bool DaLiSePreklapaju(const Kugla &amp;k1, const Kugla &amp;k2) {
            if (DaLiSeSijeku(k1,k2))
            return true;
            else if (fabs(RastojanjeCentara(k1,k2)) &lt; veci_poluprecnik(k1,k2)) return true;
            else return false;
            
        }
        
        friend double veci_poluprecnik(const Kugla &amp;k1, const Kugla &amp;k2) {
            if (k1.r &gt; k2.r) return k1.r;
            else return k2.r;
            
        }
        
        friend bool DaLiSeSijeku(const Kugla &amp;k1, const Kugla &amp;k2) {
            /*bool a = fabs(RastojanjeCentara(k1,k2)) &lt; k1.r + k2.r;
            std::cout &lt;&lt; "PRVI USLOV: " &lt;&lt; a &lt;&lt; std::endl;
            bool b = fabs(RastojanjeCentara(k1,k2)) &gt; fabs(k1.r - k2.r);
            std::cout &lt;&lt; "DRUGI USLOV: " &lt;&lt; b &lt;&lt; std::endl;
            bool c = a &amp;&amp; b;
            return c;*/
            return (fabs(RastojanjeCentara(k1,k2)) &lt; k1.r + k2.r) &amp;&amp; (fabs(RastojanjeCentara(k1,k2)) &gt; fabs(k1.r - k2.r));
            
        }
        
        bool DaLiSadrzi(const Kugla &amp;k) const {
            double s(std::sqrt((k.x-x)*(k.x-x)+(k.y-y)*(k.y-y)+(k.z-z)*(k.z-z)));
            if(s&lt;std::fabs(r-k.r)) return true;
            else return false;
            
        }
        
        friend double RastojanjeCentara(const Kugla &amp;k1, const Kugla &amp;k2) {
          return sqrt(pow((k2.x - k1.x),2.0) + pow((k2.y - k1.y), 2.0) + pow((k2.z - k1.z), 2.0));
        }
        /*friend bool DaLiJeJednako (double x, double y) {
            return abs(x-y) &lt; eps*(abs(x)+abs(y));
        }*/
        
        
        };

int main ()
{
    int n{0};
    double x,y,z,r;
    double delta_y, delta_x, delta_z;

    std::cout &lt;&lt; "Unesite broj kugla: " ;
    //std::cin &gt;&gt; n;
    
    while(!(std::cin &gt;&gt; n) || n &lt;= 0) {
        std::cout &lt;&lt; "Neispravan broj kugli, unesite ponovo!" &lt;&lt; std::endl;
        std::cin.clear();
        std::cin.ignore(10000, '\n');
    }
    std::tuple&lt;double, double, double&gt; t;
    
    std::vector&lt;std::shared_ptr&lt;Kugla&gt;&gt; e(n);
    
    for (int i = 0; i &lt; e.size(); i++) {
        
        std::cout &lt;&lt; "Unesite centar " &lt;&lt; i+1 &lt;&lt; ". kugle: ";
        while (!(std::cin &gt;&gt; x) || !(std::cin &gt;&gt; y) || !(std::cin &gt;&gt; z)) {
                std::cout &lt;&lt; "Neispravan centar";
                std::cin.clear();
                std::cin.ignore(10000, '\n');
                std::cout &lt;&lt; std::endl;
                std::cout &lt;&lt; "Unesite centar " &lt;&lt; i+1 &lt;&lt; ". kugle: ";
        }
        //std::cin &gt;&gt; x &gt;&gt; y &gt;&gt; z;
        t = std::make_tuple(x,y,z);
        
        std::cout &lt;&lt; "Unesite poluprecnik " &lt;&lt; i+1 &lt;&lt; ". kugle: ";
        while(!(std::cin &gt;&gt; r)) {
            std::cout &lt;&lt; "Ilegalan poluprecnik";
            std::cin.clear();
            std::cin.ignore(10000, '\n');
            std::cout &lt;&lt; std::endl;
            std::cout &lt;&lt; "Unesite centar " &lt;&lt; i+1 &lt;&lt; ". kugle: ";
            std::cin &gt;&gt; x &gt;&gt; y &gt;&gt; z;
            std::cout &lt;&lt; "Unesite poluprecnik " &lt;&lt; i+1 &lt;&lt; ". kugle: ";
        }
 
        try {
        e[i] = std::make_shared&lt;Kugla&gt;(t,r);
        e[i]-&gt;PostaviPoluprecnik(r);
        e[i]-&gt;PostaviCentar(t);
        
        }
        catch(std::domain_error e) {
            std::cout &lt;&lt; e.what();
            i--;
            std::cout &lt;&lt; std::endl;
        }
        
    }

    std::cout &lt;&lt; "Unesite parametre translacije (delta_x,delta_y,delta_z): ";
    while (!(std::cin &gt;&gt; delta_x) || !(std::cin &gt;&gt; delta_y) || !(std::cin &gt;&gt; delta_z)) {
        std::cout &lt;&lt; "Neispravni parametri translacije, unesite ponovo!";
        std::cin.clear();
        std::cin.ignore (10000, '\n');
        std::cout &lt;&lt; std::endl;
    }
    //std::cin &gt;&gt;delta_x &gt;&gt; delta_y &gt;&gt; delta_z;
    
    transform(e.begin(), e.end(), e.begin(), [delta_x,delta_y,delta_z](std::shared_ptr &lt;Kugla&gt; &amp;u) {u-&gt;Transliraj(delta_x,delta_y,delta_z); return move(u); });
    std::cout &lt;&lt; "Kugle nakon obavljenje transformacije imaju sljedece vrijednosti: " &lt;&lt; std::endl;
    sort(e.begin(), e.end(), [](const std::shared_ptr&lt;Kugla&gt; &amp;k, const std::shared_ptr&lt;Kugla&gt; &amp;k1) {return k-&gt;DajZapreminu() &lt; k1 -&gt; DajZapreminu();});
    
    std::for_each(e.begin(), e.end(), [](const std::shared_ptr &lt;Kugla&gt; &amp;u) {u-&gt;Ispisi();});
    std::cout &lt;&lt; "Kugla sa najvecom povrsinom je: ";
    std::shared_ptr&lt;Kugla&gt; max_povrsina = *max_element(e.begin(), e.end(), [](const std::shared_ptr &lt;Kugla&gt; &amp;u1, const std::shared_ptr &lt;Kugla&gt; &amp;u2) {return u2-&gt;DajPovrsinu() &gt; u1-&gt;DajPovrsinu();});
    max_povrsina-&gt;Ispisi();
    //std::cout &lt;&lt; std::endl;
    
    int brojac=0;
    int broj=0;
    
    std::for_each(e.begin(), e.end(), [&amp;e, &amp;brojac, &amp;broj](std::shared_ptr&lt;Kugla&gt; k1) {
        brojac++;
        std::for_each (e.begin()+brojac, e.end(), [&amp;e, &amp;k1,&amp;brojac,&amp;broj](std::shared_ptr&lt;Kugla&gt; k2) {
            if (DaLiSeSijeku(*k1,*k2)) {
                std::cout &lt;&lt; "Presjecaju se kugle: ";
                broj++;
                k1-&gt;Ispisi();
                k2-&gt;Ispisi();
            }
        }
    );});
    
    if(broj == 0) std::cout &lt;&lt; "Ne postoje kugle koje se presjecaju!";
    
    
	return 0;
</font>}
</pre>
</body>
</html>
