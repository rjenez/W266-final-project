<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z4/Z1/student7382.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z4/Z1/student7382.cpp<p></p><pre>
<a name="3"></a><font color="#00FFFF"><a href="match229-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_8.gif"/></a>

/B2017/2018: ZadaÄ‡a 4, Zadatak 1
#include &lt;iostream&gt;
#include &lt;tuple&gt;
#include &lt;cmath&gt;
#include &lt;stdexcept&gt;
#include &lt;vector&gt;
#include &lt;memory&gt;
#include &lt;algorithm&gt;

class Kugla
{
     double x, y, z, r;
     const double PI = 4 * std::atan(1);
     static bool Jednaki(double x, double y, double epsilon = 10e-10) {
          if(std::fabs(x - y) &lt;= epsilon * (std::fabs(x) + std::fabs(y))) return true;
          return false;
     }
public:
     explicit Kugla(double r = 0) {
          if(r &lt; 0) throw std::domain_error("Ilegalan poluprecnik");
          Kugla::r = r;
          Kugla::x = 0;
          Kugla::y = 0;
          Kugla::z = 0;
     }
     Kugla(double x, double y, double z, double r = 0) {
          if(r &lt; 0) throw std::domain_error("Ilegalan poluprecnik");
</font>          Kugla::r = r;
          Kugla::x = x;
          Kugla::y = y;
          Kugla::z = z;
     }
     explicit Kugla(const std::tuple&lt;double, double, double&gt; &amp;centar, double r = 0) {
          if(r &lt; 0) throw std::domain_error("Ilegalan poluprecnik");
<a name="6"></a><font color="#00FF00"><a href="match229-1.html#6" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_2.gif"/></a>

          x = std::get&lt;0&gt;(centar);
          y = std::get&lt;1&gt;(centar);
          z = std::get&lt;2&gt;(centar);
          Kugla::r = r;
     }
     double DajX() const {
          return x;
     }
     double DajY() const {
          return y;

     }
     double DajZ() const {
</font>          return z;
     }
     std::tuple&lt;double, double, double&gt; DajCentar() const {
<a name="4"></a><font color="#FF00FF"><a href="match229-1.html#4" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_3.gif"/></a>

          return std::make_tuple(x, y, z);
     }
     double DajPoluprecnik() const {
          return r;
     }
     double DajPovrsinu() const {
          return 4 * r * r * PI;
     }
     double DajZapreminu() const {
          return r * r * r * PI * 4./3.;
     }
     Kugla &amp;PostaviX(double x) {
          Kugla::x = x;
          return *this;
     }
     Kugla &amp;PostaviY(double y) {
          Kugla::y = y;
          return *this;
</font>     }
     Kugla &amp;PostaviZ(double z) {
          Kugla::z = z;
          return *this;
     }
     Kugla &amp;PostaviCentar(double x, double y, double z) {
          Kugla::x = x;
          Kugla::y = y;
          Kugla::z = z;
          return *this;
     }
     Kugla &amp;PostaviCentar(const std::tuple&lt;double, double, double&gt; &amp;centar) {
          x = std::get&lt;0&gt;(centar);
          y = std::get&lt;1&gt;(centar);
          z = std::get&lt;2&gt;(centar);
<a name="5"></a><font color="#FF0000"><a href="match229-1.html#5" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_2.gif"/></a>

          return *this;
     }
     Kugla &amp;PostaviPoluprecnik(double r) {
          if(r &lt; 0) throw std::domain_error("Ilegalan poluprecnik");
          Kugla::r = r;
     }
     void Ispisi() const {
          std::cout&lt;&lt; "{(" &lt;&lt; DajX() &lt;&lt; "," &lt;&lt; DajY() &lt;&lt; "," &lt;&lt; DajZ() &lt;&lt; ")," &lt;&lt; DajPoluprecnik() &lt;&lt; "}" &lt;&lt; std::endl;
</font>     }
     void Transliraj(double delta_x, double delta_y, double delta_z) {
          x += delta_x;
          y += delta_y;
          z += delta_z;
     }
     friend bool DaLiSuIdenticne(const Kugla &amp;k1, const Kugla &amp;k2);
     friend bool DaLiSuPodudarne(const Kugla &amp;k1, const Kugla &amp;k2);
     friend bool DaLiSuKoncentricne(const Kugla &amp;k1, const Kugla &amp;k2);
     friend bool DaLiSeDodirujuIzvana(const Kugla &amp;k1, const Kugla &amp;k2);
     friend bool DaLiSeDodirujuIznutra(const Kugla &amp;k1, const Kugla &amp;k2);
     friend bool DaLiSePreklapaju(const Kugla &amp;k1, const Kugla &amp;k2);
     friend bool DaLiSeSijeku(const Kugla &amp;k1, const Kugla &amp;k2);
     bool DaLiSadrzi(const Kugla &amp;k) const;
<a name="0"></a><font color="#FF0000"><a href="match229-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_26.gif"/></a>

     friend double RastojanjeCentara(const Kugla &amp;k1, const Kugla &amp;k2);
};

bool DaLiSuIdenticne(const Kugla &amp;k1, const Kugla &amp;k2)
{
     if(Kugla::Jednaki(k1.DajX(), k2.DajX()) &amp;&amp; Kugla::Jednaki(k1.DajY(), k2.DajY()) &amp;&amp;
     Kugla::Jednaki(k1.DajZ(), k2.DajZ()) &amp;&amp; Kugla::Jednaki(k1.DajPoluprecnik(), k2.DajPoluprecnik())) return true;
     return false;
}
bool DaLiSuPodudarne(const Kugla &amp;k1, const Kugla &amp;k2)
{
     if(Kugla::Jednaki(k1.DajPoluprecnik(), k2.DajPoluprecnik())) return true;
     return false;
}
bool DaLiSuKoncentricne(const Kugla &amp;k1, const Kugla &amp;k2)
{
     if(Kugla::Jednaki(k1.DajX(), k2.DajX()) &amp;&amp; Kugla::Jednaki(k1.DajY(), k2.DajY()) &amp;&amp; Kugla::Jednaki(k1.DajZ(), k2.DajZ())) return true;
     return false;
}
bool DaLiSeDodirujuIzvana(const Kugla &amp;k1, const Kugla &amp;k2)
{
     if(Kugla::Jednaki(RastojanjeCentara(k1, k2), k1.DajPoluprecnik() + k2.DajPoluprecnik())) return true;
     return false;
}
bool DaLiSeDodirujuIznutra(const Kugla &amp;k1, const Kugla &amp;k2)
{
     if(Kugla::Jednaki(RastojanjeCentara(k1, k2), std::fabs(k1.DajPoluprecnik() - k2.DajPoluprecnik()))) return true;
     return false;
}
bool DaLiSePreklapaju(const Kugla &amp;k1, const Kugla &amp;k2)
{
     if(DaLiSeDodirujuIznutra(k1, k2) || DaLiSeSijeku(k1, k2) || DaLiSuIdenticne(k1, k2) || DaLiSuKoncentricne(k1, k2) ||
     k1.DaLiSadrzi(k2) || k2.DaLiSadrzi(k1)) return true;
     return false;
}
bool DaLiSeSijeku(const Kugla &amp;k1, const Kugla &amp;k2)
{
     if(RastojanjeCentara(k1, k2) &lt; k1.DajPoluprecnik() + k2.DajPoluprecnik() &amp;&amp;
     DaLiSeDodirujuIznutra(k1, k2) == false &amp;&amp; k1.DaLiSadrzi(k2) == false &amp;&amp; k2.DaLiSadrzi(k1) == false &amp;&amp;
     DaLiSuIdenticne(k1, k2) == false &amp;&amp; DaLiSuKoncentricne(k1, k2) == false)
          return true;
     return false;
}
bool Kugla::DaLiSadrzi(const Kugla &amp;k) const
{
     if(DajPoluprecnik() &gt; k.DajPoluprecnik()) {
          if(DaLiSuKoncentricne(*this, k)) return true;
     }
     if(DaLiSeDodirujuIznutra(*this, k) || DaLiSuIdenticne(*this, k)) return true;
     double veci, manji;
     if(DajPoluprecnik() &gt; k.DajPoluprecnik()) {
          veci = DajPoluprecnik();
          manji = k.DajPoluprecnik();
     } else {
          veci = k.DajPoluprecnik();
          manji = DajPoluprecnik();
     }
     if(RastojanjeCentara(*this, k) + manji &lt; veci) return true;
     return false;
}
double RastojanjeCentara(const Kugla &amp;k1, const Kugla &amp;k2)
{
     return std::sqrt((k1.DajX() - k2.DajX()) * (k1.DajX() - k2.DajX()) +
</font><a name="1"></a><font color="#00FF00"><a href="match229-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_19.gif"/></a>

     (k1.DajY() - k2.DajY()) * (k1.DajY() - k2.DajY()) +
     (k1.DajZ() - k2.DajZ()) * (k1.DajZ() - k2.DajZ()));
}

int main ()
{
     int a;
     std::cout &lt;&lt; "Unesite broj kugla: ";
     for(; ;) {
          std::cin &gt;&gt; a;
          if(!std::cin || a &lt;= 0) {
               std::cout&lt;&lt; "Neispravan broj kugli, unesite ponovo!" &lt;&lt; std::endl;
               std::cin.clear();
               std::cin.ignore(10000, '\n');
               continue;
          } break;
     }
     std::vector&lt;std::shared_ptr&lt;Kugla&gt;&gt; vektor(a);
     double x, y, z, r;
     int pomocna(0);
     for(int i(0); i&lt;a; i++) {
          for(; ;) {
               pomocna++;
               std::cout&lt;&lt;"Unesite centar " &lt;&lt; pomocna &lt;&lt;". kugle: ";
               std::cin&gt;&gt; x &gt;&gt; y &gt;&gt; z;
               if(!std::cin) {
                    std::cout&lt;&lt; "Neispravan centar" &lt;&lt; std::endl;;
                    std::cin.clear();
                    std::cin.ignore(10000, '\n');
                    pomocna--;
                    continue;
               }
               std::cout&lt;&lt; "Unesite poluprecnik " &lt;&lt; pomocna &lt;&lt; ". kugle: ";
               std::cin&gt;&gt; r;
               if(!std::cin || r &lt; 0) {
                    std::cout &lt;&lt; "Ilegalan poluprecnik" &lt;&lt;std::endl;
                    pomocna--;
                    std::cin.clear();
                    std::cin.ignore(10000, '\n');
                    continue;
               }
               break;
          }
          vektor.at(i) = std::make_shared&lt;Kugla&gt; (x,y,z,r);
     }
     double delta_x, delta_y, delta_z;
     std::cout&lt;&lt; "Unesite parametre translacije (delta_x,delta_y,delta_z): ";
     for(; ;) {
          std::cin&gt;&gt; delta_x &gt;&gt; delta_y &gt;&gt; delta_z;
          if(!std::cin) {
               std::cout&lt;&lt; "Neispravni parametri translacije, unesite ponovo!" &lt;&lt; std::endl;
               std::cin.clear();
               std::cin.ignore(10000, '\n');
               continue;
          } break;
     }
     std::transform(vektor.begin(), vektor.end(), vektor.begin(), [delta_x, delta_y, delta_z](std::shared_ptr&lt;Kugla&gt; k) {
</font>          k-&gt; Transliraj(delta_x, delta_y, delta_z);
          return k;
     });
<a name="2"></a><font color="#0000FF"><a href="match229-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_14.gif"/></a>

     std::sort(vektor.begin(), vektor.end(), [] (std::shared_ptr&lt;Kugla&gt; k1, std::shared_ptr&lt;Kugla&gt; k2) {
          if(k1-&gt;DajZapreminu() &lt; k2-&gt;DajZapreminu()) return true;
          return false;
     });
     std::cout &lt;&lt; "Kugle nakon obavljenje transformacije imaju sljedece vrijednosti: " &lt;&lt; std::endl;
     std::for_each(vektor.begin(), vektor.end(), [] (std::shared_ptr&lt;Kugla&gt; k) {
          k-&gt; Ispisi();
     });
     std::cout&lt;&lt;std::endl &lt;&lt; "Kugla sa najvecom povrsinom je: ";
     auto iter = std::max_element(vektor.begin(), vektor.end(), [] (std::shared_ptr&lt;Kugla&gt; k1, std::shared_ptr&lt;Kugla&gt; k2) {
          if(k1-&gt; DajPovrsinu() &lt; k2-&gt;DajPovrsinu()) return true;
          return false;
     });
     (*iter)-&gt;Ispisi();
     int indeks(0);
     bool bio(false);
     std::for_each(vektor.begin(), vektor.end(), [&amp;bio, &amp;indeks, vektor] (std::shared_ptr&lt;Kugla&gt; k1) {
          indeks++;
          std::for_each(vektor.begin()+indeks, vektor.end(), [&amp;bio, k1] (std::shared_ptr&lt;Kugla&gt; k2) {
               if(DaLiSeSijeku(*k1, *k2)) {
                    bio = true;
                    std::cout&lt;&lt;std::endl&lt;&lt; "Presjecaju se kugle: ";
                    k1-&gt;Ispisi();
                    k2-&gt;Ispisi();
               }

          });
     });
     if(bio == false)
          std::cout&lt;&lt;std::endl&lt;&lt; "Ne postoje kugle koje se presjecaju!";
     return 0;
</font>}</pre>
</body>
</html>
