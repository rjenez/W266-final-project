<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z4/Z1/student4331.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z4/Z1/student5276.cpp<p></p><pre>
<a name="2"></a><font color="#0000FF"><a href="match71-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_12.gif"/></a>

/B2017/2018: ZadaÄ‡a 4, Zadatak 1
#include &lt;iostream&gt;
#include &lt;stdexcept&gt;
#include &lt;cmath&gt;
#include &lt;tuple&gt;
#include &lt;vector&gt;
#include &lt;algorithm&gt;
#include &lt;memory&gt;

#define PI 4*atan(1)
#define EPSILON pow(10, (-10))

using namespace std;

class Kugla {
    
    double x , Y, Z, r;
    
    public:
    
    explicit Kugla(double r = 0) { Kugla::x=0; Kugla::Y=0; Kugla::Z=0; Kugla::r=r; }
    
Kugla(double X, double Y, double Z, double r = 0) { if (r&lt;0) throw domain_error ("Ilegalan popluprecnik");
Kugla::x=X; Kugla::Y=Y; Kugla::Z=Z; Kugla::r=r; }

explicit Kugla(const std::tuple&lt;double, double, double&gt; &amp;centar, double r = 0) { if (r&lt;0) throw domain_error ("Ilegalan popluprecnik");

    tie(Kugla::x,Kugla::Y,Kugla::Z) = centar; 
    Kugla::r=r;
}

double DajX() const { return x; }

double DajY() const { return Y; }

double DajZ() const { return Z; }

std::tuple&lt;double, double, double&gt; DajCentar() const { return tie(x,Y,Z); }

double DajPoluprecnik() const { return r; }

double DajPovrsinu() const { return 4*r*r*PI; }

double DajZapreminu() const { 
    return 4*r*r*r*PI/3; 
</font>}

Kugla &amp;PostaviX(double x) { Kugla::x=x; return *this; }
Kugla &amp;PostaviY(double y) { Kugla::Y=y; return *this; }

Kugla &amp;PostaviZ(double z) { Kugla::Z=z; return *this; }

<a name="1"></a><font color="#00FF00"><a href="match71-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_14.gif"/></a>

Kugla &amp;PostaviCentar(double x, double y, double z) { Kugla::x=x; Kugla::Y=y; Kugla::Z=z; return *this; }

Kugla &amp;PostaviCentar(const std::tuple&lt;double, double, double&gt; &amp;centar) { tie(x,Y,Z)=centar; return *this;}
    
Kugla &amp;PostaviPoluprecnik(double p) { Kugla::r=p; if(p&lt;0) throw domain_error ("Ilegalan poluprecnik"); return *this; }

void Ispisi() const;

void Transliraj(double delta_x, double delta_y, double delta_z) {
    x+=delta_x;
    Y+=delta_y;
    Z+=delta_z;
}

friend bool DaLiSuIdenticne(const Kugla &amp;k1, const Kugla &amp;k2);
friend bool DaLiSuPodudarne(const Kugla &amp;k1, const Kugla &amp;k2) { if(abs(k1.DajPoluprecnik() - k2.DajPoluprecnik())&lt;EPSILON*( abs( k1.DajPoluprecnik()) + abs (k2.DajPoluprecnik() ) ) ) return true; else return false; }

friend bool DaLiSuKoncentricne(const Kugla &amp;k1, const Kugla &amp;k2) {
    
    if(abs(k1.DajX() - k2.DajX())&lt;EPSILON*( abs( k1.DajX()) + abs (k2.DajX()) ) ) {
        if(abs(k1.DajY() - k2.DajY())&lt;EPSILON*( abs( k1.DajY()) + abs (k2.DajY()) ) ) {
            if(abs(k1.DajZ() - k2.DajZ())&lt;EPSILON*( abs( k1.DajZ()) + abs (k2.DajZ()) ) ) return true ;
    }
    }
    
    
    else 
    return false; 
    
}
friend bool DaLiSeDodirujuIzvana(const Kugla &amp;k1, const Kugla &amp;k2);
friend bool DaLiSeDodirujuIznutra(const Kugla &amp;k1, const Kugla &amp;k2);
</font>friend bool DaLiSePreklapaju(const Kugla &amp;k1, const Kugla &amp;k2);
friend bool DaLiSeSijeku(const Kugla &amp;k1, const Kugla &amp;k2);
<a name="0"></a><font color="#FF0000"><a href="match71-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_66.gif"/></a>

bool DaLiSadrzi(const Kugla &amp;k) const;
friend double RastojanjeCentara(const Kugla &amp;k1, const Kugla &amp;k2) { 
    return  sqrt ( pow((k2.DajX()-k1.DajX()),2) + pow((k2.DajY()-k1.DajY()),2) + pow((k2.DajZ()-k1.DajZ()),2) ); }
};

void Kugla::Ispisi () const {
    cout&lt;&lt;"{("&lt;&lt;DajX()&lt;&lt;","&lt;&lt;DajY()&lt;&lt;","&lt;&lt;DajZ()&lt;&lt;"),"&lt;&lt;DajPoluprecnik()&lt;&lt;"}"&lt;&lt;endl;
}

 bool DaLiSuIdenticne(const Kugla &amp;k1, const Kugla &amp;k2) {
     if(abs(k1.DajPoluprecnik() - k2.DajPoluprecnik() ) &lt; EPSILON*( abs( k1.DajPoluprecnik()) + abs (k2.DajPoluprecnik() ) ) ) {
         
     if(abs(k1.DajX() - k2.DajX())&lt;EPSILON*( abs( k1.DajX()) + abs (k2.DajX()) ) ) {
        if(abs(k1.DajY() - k2.DajY())&lt;EPSILON*( abs( k1.DajY()) + abs (k2.DajY()) ) ) {
            if(abs(k1.DajZ() - k2.DajZ())&lt;EPSILON*( abs( k1.DajZ()) + abs (k2.DajZ()) ) ) return true ;
        }
     }
     }
     else return false;
 }
 
 bool DaLiSeDodirujuIzvana(const Kugla &amp;k1, const Kugla &amp;k2) {
     double udaljenost = sqrt ( pow((k2.DajX()-k1.DajX()),2) + pow((k2.DajY()-k1.DajY()),2) + pow((k2.DajZ()-k1.DajZ()),2) );
     
     if((k1.DajPoluprecnik()+k2.DajPoluprecnik()) == udaljenost) return true;
     else
     return false;
 }
 
 bool DaLiSeDodirujuIznutra(const Kugla &amp;k1, const Kugla &amp;k2) {
     double veci, manji;
     if(k1.DajPoluprecnik()&gt;k2.DajPoluprecnik()) { 
         veci=k1.DajPoluprecnik();
         manji=k2.DajPoluprecnik();
         
           double udaljenost = sqrt ( pow((k2.DajX()-k1.DajX()),2) + pow((k2.DajY()-k1.DajY()),2) + pow((k2.DajZ()-k1.DajZ()),2) );
           
           if((udaljenost+manji)==veci) return true;
         
 } 
 if(k1.DajPoluprecnik()&lt;k2.DajPoluprecnik()) {
       manji=k1.DajPoluprecnik();
         veci=k2.DajPoluprecnik();
         
          double udaljenost = sqrt ( pow((k2.DajX()-k1.DajX()),2) + pow((k2.DajY()-k1.DajY()),2) + pow((k2.DajZ()-k1.DajZ()),2) );
           
           if((udaljenost+manji)==veci) return true;
 }
 
 return false;
 }
 
 
 bool DaLiSePreklapaju(const Kugla &amp;k1, const Kugla &amp;k2) {
  
  double manji, veci;
  
   if(k1.DajPoluprecnik()&lt;k2.DajPoluprecnik()) {
       
       manji=k1.DajPoluprecnik();
         veci=k2.DajPoluprecnik();
   double udaljenost = sqrt ( pow((k2.DajX()-k1.DajX()),2) + pow((k2.DajY()-k1.DajY()),2) + pow((k2.DajZ()-k1.DajZ()),2) );
   
   if(udaljenost&lt;veci) return true;
 }
 
   if(k1.DajPoluprecnik()&gt;k2.DajPoluprecnik()) {
       veci=k1.DajPoluprecnik();
         manji=k2.DajPoluprecnik();
   double udaljenost = sqrt ( pow((k2.DajX()-k1.DajX()),2) + pow((k2.DajY()-k1.DajY()),2) + pow((k2.DajZ()-k1.DajZ()),2) );
   
   if(udaljenost&lt;veci) return true;
 }
 
 return false;
 }
 
  bool DaLiSeSijeku(const Kugla &amp;k1, const Kugla &amp;k2) { 
      
      if(DaLiSuIdenticne(k1,k2) || k1.DaLiSadrzi(k2) || k2.DaLiSadrzi(k1))    
      return false;
  
   double udaljenost = sqrt ( pow((k2.DajX()-k1.DajX()),2) + pow((k2.DajY()-k1.DajY()),2) + pow((k2.DajZ()-k1.DajZ()),2) );
   
   if(udaljenost&lt;(k1.DajPoluprecnik()+k2.DajPoluprecnik()) &amp;&amp;  (udaljenost&gt;k1.DajPoluprecnik() || udaljenost&gt;k2.DajPoluprecnik()) ) return true;
   return false;
 }
 

 bool Kugla::DaLiSadrzi(const Kugla &amp;k) const {
     
     if(k.DajPoluprecnik()&lt;DajPoluprecnik()) {
     
     double udaljenost = sqrt ( pow((DajX()-k.DajX()),2) + pow((DajY()-k.DajY()),2) + pow((DajZ()-k.DajZ()),2) );
     if(udaljenost+k.DajPoluprecnik()&lt;DajPoluprecnik()) return true;
     
     }
     else return false;
     
 }
 int main ()
{
    try {
        
    int n;
    
    while (true) {
        
    
     cout&lt;&lt;"Unesite broj kugla: ";
        cin&gt;&gt; n;
        
   while(!cin) {
       cout&lt;&lt;"Neispravan broj kugli, unesite ponovo!"&lt;&lt;endl; 
    
     cin.clear();
     cin.ignore(10000, '\n');
     cin&gt;&gt;n;
   }
   
        
       
   if(n&lt;0 ){
        cout&lt;&lt;"Neispravan broj kugli, unesite ponovo!"&lt;&lt;endl; 
   
     cin.clear();
      cin.ignore(10000, '\n');
     cin&gt;&gt;n;
   
   
   }
     if(n&gt;0) break;
        
    }
        double x,y,z;
        
        vector &lt;shared_ptr &lt;Kugla&gt;&gt; niz ;
        
        for(int i=0; i&lt;n; i++){
            
            cout&lt;&lt;"Unesite centar "&lt;&lt;i+1&lt;&lt;". kugle: ";
           
            cin&gt;&gt;x&gt;&gt;y&gt;&gt;z;
            
            while(1) {
            try {  
           
            cout&lt;&lt;"Unesite poluprecnik "&lt;&lt;i+1&lt;&lt;". kugle: ";
            
            double k;
            
            cin&gt;&gt;k;
            if(k&gt;=0) {
                std::shared_ptr&lt;Kugla&gt; kugla = std::make_shared&lt;Kugla&gt;(x,y,z,k);
                niz.push_back(kugla);
                break;
            }
           
            }
            catch (domain_error e) { cout&lt;&lt;e.what(); } }
        }
        
        cout&lt;&lt;"Unesite parametre translacije (delta_x,delta_y,delta_z): ";
        
       double t1,t2,t3;
       cin&gt;&gt;t1&gt;&gt;t2&gt;&gt;t3;
       
       std::transform(niz.begin(), niz.end(), niz.begin(),[t1,t2,t3](std::shared_ptr&lt;Kugla&gt; kugla) {
    
     kugla-&gt;Transliraj(t1,t2,t3);
     return kugla;
});
       
        
   
sort(niz.begin(), niz.end(), [] (shared_ptr&lt;Kugla&gt; Neka1, shared_ptr&lt;Kugla&gt; Neka2) -&gt; bool {
    
    return Neka1-&gt;DajZapreminu()&lt;Neka2-&gt;DajZapreminu();
}); 

cout&lt;&lt;"Kugle nakon obavljenje transformacije imaju sljedece vrijednosti:"&lt;&lt;endl;

for (auto x: niz) 

x-&gt;Ispisi();


shared_ptr&lt;Kugla&gt;  pokazivac=*max_element (niz.begin(), niz.end(), [] (shared_ptr&lt;Kugla&gt; Prva, shared_ptr&lt;Kugla&gt; Druga) {
    return Druga-&gt;DajPovrsinu()&gt;Prva-&gt;DajPovrsinu();
});

cout&lt;&lt;"Kugla sa najvecom povrsinom je: ";
pokazivac-&gt;Ispisi();

bool postojeKojeSeSijeku = false;
int index = 0;
for_each(niz.begin(), niz.end(), [niz,&amp;postojeKojeSeSijeku,&amp;index] (shared_ptr&lt;Kugla&gt; Prva) { 
    
    
    for_each(niz.begin() + index++, niz.end(),[&amp;postojeKojeSeSijeku, Prva]  (shared_ptr&lt;Kugla&gt; Prva1)  { 
        
            
        if(DaLiSeSijeku(*Prva,*Prva1))
        
        {
            cout&lt;&lt;"Presjecaju se kugle: ";
            Prva-&gt;Ispisi();
            Prva1-&gt;Ispisi();
            postojeKojeSeSijeku = true; 
        }
    });
    
});

if(!postojeKojeSeSijeku) cout&lt;&lt;"Ne postoje kugle koje se presjecaju!";
        
    }
    
    catch(domain_error izuzetak) {
        cout&lt;&lt;izuzetak.what()&lt;&lt;endl;
</font>    }
	return 0;
}

</pre>
</body>
</html>
