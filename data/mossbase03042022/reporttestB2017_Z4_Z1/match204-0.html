<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z4/Z1/student8705.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z4/Z1/student8705.cpp<p></p><pre>
#include &lt;iostream&gt;
#include &lt;tuple&gt;
#include &lt;cmath&gt;
#include &lt;algorithm&gt;
#include &lt;memory&gt;
#include &lt;vector&gt;
<a name="1"></a><font color="#00FF00"><a href="match204-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_13.gif"/></a>

class Kugla
{
    double x, y, z, r;
    static double PI;
    static bool eq(double a, double b);
public:
    explicit Kugla(double p = 0) { PostaviPoluprecnik(p); x = y = z = 0; }
    Kugla(double a, double b, double c, double p = 0) { PostaviPoluprecnik(p).PostaviCentar(a, b, c); }
    explicit Kugla(const std::tuple&lt;double, double, double&gt; &amp;centar, double p = 0) { PostaviPoluprecnik(p).PostaviCentar(centar); }
    double DajX() const { return x; }
    double DajY() const { return y; }
    double DajZ() const { return z; }
    std::tuple&lt;double, double, double&gt; DajCentar() const { return std::make_tuple(x, y, z); }
    double DajPoluprecnik() const { return r; }
    double DajPovrsinu() const { return r*r * 4*PI; }
    double DajZapreminu() const { return r*r*r * 4*PI/3; }
    Kugla &amp;PostaviX(double a) { x = a; return *this; }
    Kugla &amp;PostaviY(double a) { y = a; return *this; }
    Kugla &amp;PostaviZ(double a) { z = a; return *this; }
</font><a name="0"></a><font color="#FF0000"><a href="match204-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_84.gif"/></a>

    Kugla &amp;PostaviCentar(double a, double b, double c) { x = a; y = b; z = c; return *this; }
    Kugla &amp;PostaviCentar(const std::tuple&lt;double, double, double&gt; &amp;centar) { std::tie(x, y, z) = centar; return *this; }
    Kugla &amp;PostaviPoluprecnik(double);
    void Ispisi() const;
    void Transliraj(double delta_x, double delta_y, double delta_z) { x += delta_x; y += delta_y; z += delta_z; }
    friend bool DaLiSuIdenticne(const Kugla&amp;, const Kugla&amp;);
    friend bool DaLiSuPodudarne(const Kugla&amp;, const Kugla&amp;);
    friend bool DaLiSuKoncentricne(const Kugla&amp;, const Kugla&amp;);
    friend bool DaLiSeDodirujuIzvana(const Kugla&amp;, const Kugla&amp;);
    friend bool DaLiSeDodirujuIznutra(const Kugla&amp;, const Kugla&amp;);
    friend bool DaLiSePreklapaju(const Kugla&amp;, const Kugla&amp;);
    friend bool DaLiSeSijeku(const Kugla&amp;, const Kugla&amp;);
    bool DaLiSadrzi(const Kugla&amp;) const;
    friend double RastojanjeCentara(const Kugla&amp;, const Kugla&amp;);
};
double Kugla::PI{std::atan(1)*4};
bool Kugla::eq(double a, double b) { return std::abs(a - b) &lt;= 1e-10 * (std::abs(a) + std::abs(b)); }
Kugla &amp;Kugla::PostaviPoluprecnik(double p)
{
    if (p &lt; 0) throw std::domain_error("Ilegalan poluprecnik");
    r = p;
    return *this;
}
void Kugla::Ispisi() const { std::cout &lt;&lt; "{(" &lt;&lt; x &lt;&lt; ',' &lt;&lt; y &lt;&lt; ',' &lt;&lt; z &lt;&lt; ")," &lt;&lt; r &lt;&lt; '}' &lt;&lt; std::endl; }
bool DaLiSuIdenticne(const Kugla &amp;k1, const Kugla &amp;k2) { return DaLiSuPodudarne(k1, k2) &amp;&amp; DaLiSuKoncentricne(k1, k2); }
bool DaLiSuPodudarne(const Kugla &amp;k1, const Kugla &amp;k2) { return Kugla::eq(k1.r, k2.r); }
bool DaLiSuKoncentricne(const Kugla &amp;k1, const Kugla &amp;k2) { return Kugla::eq(k1.x, k2.x) &amp;&amp; Kugla::eq(k1.y, k2.y) &amp;&amp; Kugla::eq(k1.z, k2.z); }
bool DaLiSeDodirujuIzvana(const Kugla &amp;k1, const Kugla &amp;k2) { return Kugla::eq(RastojanjeCentara(k1, k2), k1.r + k2.r); }
bool DaLiSeDodirujuIznutra(const Kugla &amp;k1, const Kugla &amp;k2)
{
    return Kugla::eq(std::abs(k1.r - k2.r), RastojanjeCentara(k1, k2)) &amp;&amp; (k1.r == 0 || k2.r == 0 || !DaLiSuIdenticne(k1, k2));
}
bool DaLiSePreklapaju(const Kugla &amp;k1, const Kugla &amp;k2)
{
    return RastojanjeCentara(k1, k2) &lt; k1.r + k2.r &amp;&amp; k1.r &gt; 0 &amp;&amp; k2.r &gt; 0 &amp;&amp; !DaLiSeDodirujuIzvana(k1, k2);
}
bool DaLiSeSijeku(const Kugla &amp;k1, const Kugla &amp;k2)
{
    return k1.r &gt; 0 &amp;&amp; k2.r &gt; 0 &amp;&amp; ((RastojanjeCentara(k1, k2) &lt; k1.r + k2.r &amp;&amp; RastojanjeCentara(k1, k2) &gt; std::abs(k1.r - k2.r)
        &amp;&amp; !DaLiSeDodirujuIznutra(k1, k2) &amp;&amp; !DaLiSeDodirujuIzvana(k1, k2)) || DaLiSuIdenticne(k1, k2));
}
bool Kugla::DaLiSadrzi(const Kugla &amp;k) const
{
    return RastojanjeCentara(k, *this) + k.r &lt;= r || eq(RastojanjeCentara(k, *this) + k.r, r) || DaLiSuIdenticne(k, *this);
}
double RastojanjeCentara(const Kugla &amp;k1, const Kugla &amp;k2)
{
    return std::sqrt(pow(k1.x - k2.x, 2) + pow(k1.y - k2.y, 2) + pow(k1.z - k2.z, 2));
}
int main()
{
    int n;
    std::cout &lt;&lt;"Unesite broj kugla: ";
    while (!(std::cin &gt;&gt; n) || n &lt; 1)
    {
        std::cout &lt;&lt; "Neispravan broj kugli, unesite ponovo!\n";
        std::cin.clear(); std::cin.ignore(10000, '\n');
    }
    try
    {
        std::vector&lt;std::shared_ptr&lt;Kugla&gt;&gt; v;
        double x, y, z, r;
        for (int i(0); i &lt; n; ++i)
        {
            std::cout &lt;&lt; "Unesite centar " &lt;&lt; i+1 &lt;&lt; ". kugle: ";
            if (!(std::cin &gt;&gt; x &gt;&gt; y &gt;&gt; z))
            {
                std::cout &lt;&lt; "Neispravan centar\n";
                std::cin.clear(); std::cin.ignore(10000, '\n');
                --i; continue;
            }
            std::cout &lt;&lt; "Unesite poluprecnik " &lt;&lt; i+1 &lt;&lt; ". kugle: ";
            if (!(std::cin &gt;&gt; r) || r &lt; 0)
            {
                std::cout &lt;&lt; "Ilegalan poluprecnik\n";
                std::cin.clear(); std::cin.ignore(10000, '\n');
                --i; continue;
            }
            v.emplace_back(std::move(std::make_shared&lt;Kugla&gt;(x, y, z, r)));
        }
        std::cout &lt;&lt; "Unesite parametre translacije (delta_x,delta_y,delta_z): ";
        while (!(std::cin &gt;&gt; x &gt;&gt; y &gt;&gt; z))
        {
            std::cout &lt;&lt; "Neispravni parametri translacije, unesite ponovo!\n";
            std::cin.clear(); std::cin.ignore(10000, '\n');
        }
        std::transform(v.begin(), v.end(), v.begin(), [=](const std::shared_ptr&lt;Kugla&gt; &amp;a) { a-&gt;Transliraj(x, y, z); return a; });
        std::sort(v.begin(), v.end(), [](const std::shared_ptr&lt;Kugla&gt; &amp;a, const std::shared_ptr&lt;Kugla&gt; &amp;b) { return a-&gt;DajPoluprecnik() &lt; b-&gt;DajPoluprecnik(); });
        std::cout &lt;&lt; "Kugle nakon obavljenje transformacije imaju sljedece vrijednosti: \n";
        std::for_each(v.begin(), v.end(), [](const std::shared_ptr&lt;Kugla&gt; &amp;a) { a-&gt;Ispisi(); });
        std::cout &lt;&lt; "Kugla sa najvecom povrsinom je: ";
        if (!v.empty())
            (*std::max_element(v.begin(), v.end(), [](const std::shared_ptr&lt;Kugla&gt; &amp;a, const std::shared_ptr&lt;Kugla&gt; &amp;b) { return a-&gt;DajPoluprecnik() &lt; b-&gt;DajPoluprecnik(); }))-&gt;Ispisi();
        bool f(false);
        for_each(v.begin(), v.end(), [&amp;](const std::shared_ptr&lt;Kugla&gt; &amp;a) {
            std::for_each(v.begin() + (&amp;a - &amp;*v.begin()) + 1, v.end(), [&amp;](const std::shared_ptr&lt;Kugla&gt; &amp;b) {
                if (DaLiSeSijeku(*a, *b))
                {
                    std::cout &lt;&lt; "Presjecaju se kugle: ";
                    a-&gt;Ispisi();b-&gt;Ispisi();
                    if (!f) f = true;
                }
            });
        });
        if (!f) std::cout &lt;&lt; "Ne postoje kugle koje se presjecaju!";
    }
    catch (...) {}
</font>	return 0;
}</pre>
</body>
</html>
