<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z4/Z1/student7709.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z4/Z1/student3857.cpp<p></p><pre>
/B2017/2018: ZadaÄ‡a 4, Zadatak 1
#include &lt;iostream&gt;
#include &lt;tuple&gt;
#include &lt;cmath&gt;
#include &lt;vector&gt;
#include &lt;memory&gt;
#include &lt;string&gt;
#include &lt;algorithm&gt;

const double  PI = 4 * atan(1);
const double EPSILON = pow (10,-10);

class Kugla
{


    double X,Y,Z,R;
 
    
    public:

    explicit Kugla(double r = 0) {if (r &lt; 0) throw std::domain_error ("Ilegalan poluprecnik"); X=0;Y=0;Z=0;R=r;}
    
    Kugla(double x, double y, double z, double r = 0) {
        if (r &lt; 0) throw std::domain_error ("Ilegalan poluprecnik");

        X = x;
        Y = y;
        Z = z;
        R = r;
       
        
    };
    explicit Kugla(const std::tuple&lt;double, double, double&gt; &amp;centar, double r = 0) {
        if (r &lt; 0) throw std::domain_error ("Ilegalan poluprecnik");
        R=r;
        X = std::get&lt;0&gt;(centar);
        Y = std::get&lt;1&gt;(centar);
        Z = std::get&lt;2&gt;(centar);

    }  ;

    double DajX() const {
        return X;
    };
    double DajY() const {
        return Y;
    };
    double DajZ() const {
        return Z;
    };
    std::tuple&lt;double, double, double&gt; DajCentar() const {
        std::tuple&lt;double,double,double&gt; temp;
        temp = std::make_tuple(X,Y,Z);
        return temp;

    };
    double DajPoluprecnik() const {
        return R;
    };

    double DajPovrsinu() const {
        double P;
        P = PI * R * R;

        return P;

    };
    double DajZapreminu() const {
        double Vol;
        Vol = ((4.0 / 3.0) * PI * (R * R * R));
        return Vol;

    };

    Kugla &amp;PostaviX(double x) {
        X = x;
        return *this;

    }
    Kugla &amp;PostaviY(double y) {
        Y = y;
        return *this;
    };
    Kugla &amp;PostaviZ(double z) {
        Z = z;
        return *this;
    };
<a name="3"></a><font color="#00FFFF"><a href="match647-0.html#3" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_2.gif"/></a>

    Kugla &amp;PostaviCentar(double x, double y, double z) {
        X = x;
        Y = y;
        Z = z;
        return *this;


    };
    Kugla &amp;PostaviCentar(const std::tuple&lt;double, double, double&gt; &amp;centar) {
        
        X = std::get&lt;0&gt;(centar);
</font>         Y = std::get&lt;1&gt;(centar);
<a name="2"></a><font color="#0000FF"><a href="match647-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_2.gif"/></a>

          Z = std::get&lt;2&gt;(centar);
        
        return *this;
    };


    Kugla &amp;PostaviPoluprecnik(double r) {
        if (r &lt; 0) throw std::domain_error ("Ilegalan poluprecnik");
        R = r;
        return *this;
    };

    void Ispisi() const {

        std::cout &lt;&lt; "{(" &lt;&lt; X &lt;&lt; "," &lt;&lt; Y &lt;&lt; "," &lt;&lt; Z &lt;&lt; ")," &lt;&lt; R &lt;&lt; "}\n";
</font>
    };
    void Transliraj(double delta_x, double delta_y, double delta_z) {

        X += delta_x;
        Y += delta_y;
        Z += delta_z;

    };

    friend bool DaLiSuIdenticne(const Kugla &amp;k1, const Kugla &amp;k2) {
        // x = y ODNOSNO fabs (x-y) &lt; epsilon * (fabs(x)+fabs(y))
        if (!(k1.X - k2.X &lt; EPSILON * (fabs(k1.X)+fabs(k2.X)))) return false;
        else if (!(k1.Y - k2.Y &lt; EPSILON * (fabs(k1.Y)+fabs(k2.Y)))) return false;
        else if (!(k1.Z - k2.Z &lt; EPSILON * (fabs(k1.Z)+fabs(k2.Z)))) return false;
        else if (!(k1.R - k2.R &lt; EPSILON * (fabs(k1.R)+fabs(k2.R)))) return false;

        return true;


    };


    friend bool DaLiSuPodudarne(const Kugla &amp;k1, const Kugla &amp;k2) {

        if ((fabs(k1.R - k2.R) &lt; EPSILON * (fabs(k1.R)+fabs(k2.R)))) return true;

        return false;


    };

    friend bool DaLiSuKoncentricne(const Kugla &amp;k1, const Kugla &amp;k2) {

        std::tuple&lt;double,double,double&gt; prva,druga;
        prva = k1.DajCentar();
        druga = k2.DajCentar();

        if (!fabs((std::get&lt;0&gt;(prva) - std::get&lt;0&gt;(druga)) &lt; EPSILON * (fabs(std::get&lt;0&gt;(prva))+fabs(std::get&lt;0&gt;(druga))))) return false;
        if (!fabs((std::get&lt;1&gt;(prva) - std::get&lt;1&gt;(druga)) &lt; EPSILON * (fabs(std::get&lt;1&gt;(prva))+fabs(std::get&lt;1&gt;(druga))))) return false;
        if (!fabs((std::get&lt;2&gt;(prva) - std::get&lt;2&gt;(druga)) &lt; EPSILON * (fabs(std::get&lt;2&gt;(prva))+fabs(std::get&lt;2&gt;(druga))))) return false;

<a name="4"></a><font color="#FF00FF"><a href="match647-0.html#4" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_1.gif"/></a>

        return true;


    };



    friend bool DaLiSeDodirujuIzvana(const Kugla &amp;k1, const Kugla &amp;k2) {

        double x = RastojanjeCentara(k1,k2);
        double y = k1.R + k2.R;
</font>
<a name="5"></a><font color="#FF0000"><a href="match647-0.html#5" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_1.gif"/></a>

        if (!(fabs(x - y) &lt; EPSILON * (fabs(x)+fabs(y)))) return false;
        return true;

    };

    friend bool DaLiSeDodirujuIznutra(const Kugla &amp;k1, const Kugla &amp;k2) {

        double x = RastojanjeCentara(k1,k2);
        double y = k1.DajPoluprecnik() - k2.DajPoluprecnik();
</font>
        if (!(fabs(x - y) &lt; EPSILON * (fabs(x)+fabs(y)))) return false;
        return true;


    };


    friend bool DaLiSePreklapaju(const Kugla &amp;k1, const Kugla &amp;k2) {

        double x = RastojanjeCentara(k1,k2);
        double razlikaP = k1.R - k2.R;

        if (fabs(razlikaP) &lt; x) return true;
        return false;

    };


    friend bool DaLiSeSijeku(const Kugla &amp;k1, const Kugla &amp;k2) {
        double x = RastojanjeCentara(k1,k2);
        double temp = k1.R + k2.R;
        double tempminus = fabs(k1.R-k2.R);
        if (!(x&lt;temp &amp;&amp; x&gt;tempminus)) return false;
        return true;
        
       
            };

    bool DaLiSadrzi(const Kugla &amp;k) const {

        double AB = sqrt ((pow((k.X-X),2)) +(pow((k.Y-Y),2)) + (pow((k.Z-Z),2)));
        return (fabs(k.R-R) - AB &lt; 0);


    };


    friend double RastojanjeCentara(const Kugla &amp;k1, const Kugla &amp;k2) {

        std::tuple&lt;double,double,double&gt; prva,druga;
        prva = k1.DajCentar();
        druga = k2.DajCentar();

        double povratna;
        
      
        povratna = sqrt( pow( std::get&lt;0&gt;(prva) - std::get&lt;0&gt;(druga), 2 ) +
                     pow( std::get&lt;1&gt;(prva) - std::get&lt;1&gt;(druga), 2 ) +
                     pow( std::get&lt;2&gt;(prva) - std::get&lt;2&gt;(druga), 2 ));
                     
        return povratna;

    };


};

void OcistiTok ()
{
    std::cin.clear();
    std::cin.ignore (1000,'\n');
}




void UnosBroja (std::string s, double &amp;broj)  //Kopirana sa jedne od prethodnih zadaca
{

    std::cin &gt;&gt; broj;

    while (!std::cin || broj&lt;=0) {


        std::cout &lt;&lt; s &lt;&lt; std::endl;
        std::cin.clear();
        std::cin.ignore (1000,'\n');
        std::cin &gt;&gt; broj;

    }
}




int main ()
{

    double n;
    
    
    std::cout &lt;&lt; "Unesite broj kugla: ";
    UnosBroja("Neispravan broj kugli, unesite ponovo!",n);

    std::vector&lt;std::shared_ptr&lt;Kugla&gt;&gt; pok(n);

    try {

        for (int i = 0; i &lt; n; i++) {
            double x,y,z,r;


            for (;;) {
                std::cout &lt;&lt; "Unesite centar " &lt;&lt; i+1 &lt;&lt; ". kugle: ";
                std::cin &gt;&gt; x &gt;&gt; y &gt;&gt; z;

                if (!std::cin) {
                    std::cout &lt;&lt; "Neispravan centar\n";
                    OcistiTok();
                    continue;
                }


                std::cout &lt;&lt; "Unesite poluprecnik " &lt;&lt; i+1 &lt;&lt; ". kugle: ";

                std::cin &gt;&gt; r;

                if (!std::cin || r&lt;0) {
                    std::cout &lt;&lt; "Ilegalan poluprecnik\n";
                    OcistiTok();
                    continue;
                }

                break;
            }
            try {

                std::shared_ptr&lt;Kugla&gt; p(new Kugla(x,y,z,r));
                
                pok[i] = p;

            } catch(const std::domain_error &amp;e) {
                std::cout &lt;&lt; e.what() &lt;&lt; std::endl;
            } catch (std::bad_alloc) {
                throw;
            }

        }
    } catch (...) {
        std::cout &lt;&lt; "Problemi sa memorijom";
    }

    std::cout &lt;&lt; "Unesite parametre translacije (delta_x,delta_y,delta_z): ";
    double xi,yi,zi;


    for (;;) {
        std::cin &gt;&gt; xi &gt;&gt; yi &gt;&gt; zi;

        if (!std::cin) {
            std::cout &lt;&lt; "Neispravni parametri translacije, unesite ponovo!\n";
            OcistiTok();
            continue;
        }
        break;
    }
<a name="1"></a><font color="#00FF00"><a href="match647-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_3.gif"/></a>

    std::transform (pok.begin(),pok.end(),pok.begin(), [xi,yi,zi] (std::shared_ptr&lt;Kugla&gt; p)  {
       (*p).Transliraj(xi,yi,zi);
        
        return p;  });
    
    std::sort (pok.begin(),pok.end(),[] (std::shared_ptr&lt;Kugla&gt; prva, std::shared_ptr&lt;Kugla&gt; druga) -&gt; bool {
</font>        return (*prva).DajZapreminu()&lt;(*druga).DajZapreminu();
    });
    
    std::cout &lt;&lt; "Kugle nakon obavljenje transformacije imaju sljedece vrijednosti: \n";

<a name="6"></a><font color="#00FF00"><a href="match647-0.html#6" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_1.gif"/></a>

    std::for_each(pok.begin(), pok.end(), [](std::shared_ptr&lt;Kugla&gt; sladoleda) {(*sladoleda).Ispisi();});
    
    std::cout &lt;&lt; "Kugla sa najvecom povrsinom je: ";
</font><a name="7"></a><font color="#0000FF"><a href="match647-0.html#7" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_1.gif"/></a>

    auto pokazivac = (*(*max_element(pok.begin(),pok.end(),[](std::shared_ptr&lt;Kugla&gt; prva,std::shared_ptr&lt;Kugla&gt; druga) {
</font>            
            return (*prva).DajPovrsinu()&lt;(*druga).DajPovrsinu();
        
    })));
    
    pokazivac.Ispisi();

<a name="8"></a><font color="#00FFFF"><a href="match647-0.html#8" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_1.gif"/></a>

    int brojac(0);
    std::for_each(pok.begin(), pok.end(), [pok,&amp;brojac](std::shared_ptr&lt;Kugla&gt; prva) {
        
      auto it(std::find(pok.begin(),pok.end(),prva));
</font><a name="0"></a><font color="#FF0000"><a href="match647-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_3.gif"/></a>

      int indeks (it-pok.begin());
      
        
       std::for_each(pok.begin()+indeks+1, pok.end(), [prva,&amp;brojac](std::shared_ptr&lt;Kugla&gt; druga) {
           
       
         
            if(DaLiSeSijeku(*prva,*druga)) {
                brojac++;
                std::cout &lt;&lt; "Presjecaju se kugle: ";
                (*prva).Ispisi();
                (*druga).Ispisi();
            }});
        
        
        
    });
    
        if (brojac==0) std::cout &lt;&lt; "Ne postoje kugle koje se presjecaju!";
</font>        
    return 0;
}
</pre>
</body>
</html>
