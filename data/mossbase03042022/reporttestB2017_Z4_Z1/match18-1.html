<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z4/Z1/student1269.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z4/Z1/student3512.cpp<p></p><pre>
<a name="3"></a><font color="#00FFFF"><a href="match18-0.html#3" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_5.gif"/></a>

/B2017/2018: ZadaÄ‡a 4, Zadatak 1
#include &lt;iostream&gt;
#include &lt;cmath&gt;
#include &lt;stdexcept&gt;
#include &lt;tuple&gt;
#include &lt;algorithm&gt;
#include &lt;memory&gt;
#include &lt;vector&gt;

// AKO NISU BROJEVI PREPRAVITI !

const double pi = 4*atan(1);
const double eps = 1E-10;

bool DaLiSuIstiDoubleovi (double x, double y){
    return std::abs(x - y) &lt; eps;
}

class Kugla {
private:
   double x, y, z;
    double r;
public:
    // Konstruktori
    explicit Kugla (double r = 0){
        if(r &lt; 0){
            throw std::domain_error("Ilegalan poluprecnik");
        }
        Kugla::r = r;
        Kugla::x = 0;
        Kugla::y = 0;
        Kugla::z = 0;
    }
    Kugla (double x, double y, double z, double r = 0){
        if(r &lt; 0){
            throw std::domain_error("Ilegalan poluprecnik");
</font>        }
        Kugla::r = r;
        Kugla::x = x;
        Kugla::y = y;
        Kugla::z = z;
    }
<a name="2"></a><font color="#0000FF"><a href="match18-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_8.gif"/></a>

    explicit Kugla (const std::tuple&lt;double, double, double&gt; &amp;centar, double r = 0){
        if(r &lt; 0){
            throw std::domain_error("Ilegalan poluprecnik");
        }
        Kugla::r = r;
        Kugla::x = std::get&lt;0&gt;(centar);
        Kugla::y = std::get&lt;1&gt;(centar);
        Kugla::z = std::get&lt;2&gt;(centar);
    }
    
    // Inspektori
    double DajX() const{
        return Kugla::x;
    }
    double DajY() const{
        return Kugla::y;
    }
    double DajZ() const{
        return Kugla::z;
    }
    
    std::tuple&lt;double, double, double&gt; DajCentar() const{
        auto tmp = std::make_tuple(Kugla::x, Kugla::y, Kugla::z);
        return tmp;
    }
    double DajPoluprecnik() const{
        return Kugla::r;
    }
    double DajPovrsinu() const{
        return (4 * Kugla::r*Kugla::r * pi);
    }
    double DajZapreminu() const{
        return ((4/3) * (Kugla::r*Kugla::r*Kugla::r) * pi);
    }
    
    // Mutatori - POSTAVLJANJE ATRIBUTA
    Kugla &amp;PostaviX (double x){
        Kugla::x = x;
        return *this;
    }
    Kugla &amp;PostaviY (double y){
        Kugla::y = y;
</font>        return *this;
    }
    Kugla &amp;PostaviZ (double z){
        Kugla::z = z;
        return *this;
    }
    
    Kugla &amp;PostaviCentar (double x, double y, double z){
        Kugla::x = x;
        Kugla::y = y;
        Kugla::z = z;
        return *this;
    }
    Kugla &amp;PostaviCentar (const std::tuple&lt;double, double, double&gt; &amp;centar){
        Kugla::x = std::get&lt;0&gt;(centar);
        Kugla::y = std::get&lt;1&gt;(centar);
        Kugla::z = std::get&lt;2&gt;(centar);
        return *this;
    }
    Kugla &amp;PostaviPoluprecnik (double r){
        if(r &lt; 0){
<a name="1"></a><font color="#00FF00"><a href="match18-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_11.gif"/></a>

            throw std::domain_error("Ilegalan poluprecnik");
        }
        Kugla::r = r;
        return *this;
    }
    
    // Mutatori - MIJENJANJE I ISPIS ATRIBUTA
    void Ispisi() const{
        std::cout &lt;&lt; "{(" &lt;&lt; Kugla::x &lt;&lt; "," &lt;&lt; Kugla::y &lt;&lt; "," &lt;&lt; Kugla::z &lt;&lt; ")," &lt;&lt; Kugla::r &lt;&lt; "}";
    }
    void Transliraj (double delta_x, double delta_y, double delta_z){
        Kugla::x = Kugla::x + delta_x;
        Kugla::y = Kugla::y + delta_y;
        Kugla::z = Kugla::z + delta_z;
    }
    bool DaLiSadrzi (const Kugla &amp;k) const{
        // ne moze sadrzati ako je manja
        if(Kugla::r &lt; k.DajPoluprecnik()){
            return false;
        }
        
        // Udaljenost
        // Centra kugle objekta klase
        // Centra kugle objekta k + poluprecnik kugle k
        // Ako je udaljenost veca od r objekta klase onda ne pripada
        if(DaLiSuIstiDoubleovi(Kugla::x,k.DajX()) == true &amp;&amp; DaLiSuIstiDoubleovi(Kugla::y,k.DajY()) == true &amp;&amp; DaLiSuIstiDoubleovi(Kugla::z, k.DajZ()) == true){
            return true;
        }
        
        double udaljenost_centara = std::sqrt( (Kugla::x - k.DajX())*(Kugla::x - k.DajX()) + (Kugla::y - k.DajY())*(Kugla::y - k.DajY()) + (Kugla::z - k.DajZ())*(Kugla::z - k.DajZ()) );
        double udaljenost = udaljenost_centara + k.DajPoluprecnik();
        
        if(Kugla::r &gt;= udaljenost){
            return true;
        }
        return false;
    }
    
    // Prijateljske Fcije
    friend bool DaLiSuIdenticne (const Kugla &amp;k1, const Kugla &amp;k2);
    friend bool DaLiSuPodudarne (const Kugla &amp;k1, const Kugla &amp;k2);
    friend bool DaLiSuKoncentricne (const Kugla &amp;k1, const Kugla &amp;k2);
</font>    friend bool DaLiSeDodirujuIzvana (const Kugla &amp;k1, const Kugla &amp;k2);
    friend bool DaLiSeDodirujuIznutra (const Kugla &amp;k1, const Kugla &amp;k2);
<a name="0"></a><font color="#FF0000"><a href="match18-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_64.gif"/></a>

    friend bool DaLiSePreklapaju (const Kugla &amp;k1, const Kugla &amp;k2);
    friend bool DaLiSeSijeku (const Kugla &amp;k1, const Kugla &amp;k2);
    friend double RastojanjeCentara (const Kugla &amp;k1, const Kugla &amp;k2);
};

// ako je sve isto
bool DaLiSuIdenticne (const Kugla &amp;k1, const Kugla &amp;k2){
    if( (DaLiSuIstiDoubleovi(k1.DajPoluprecnik(), k2.DajPoluprecnik()) == true) &amp;&amp; (DaLiSuIstiDoubleovi(k1.DajX(), k2.DajX()) == true) &amp;&amp; (DaLiSuIstiDoubleovi(k1.DajY(), k2.DajY()) == true) &amp;&amp; (DaLiSuIstiDoubleovi(k1.DajZ(), k2.DajZ()) == true) ){
        return true;
    }
    return false;
}
// ako su poluprecnici isti
bool DaLiSuPodudarne (const Kugla &amp;k1, const Kugla &amp;k2){
    if(DaLiSuIstiDoubleovi(k1.DajPoluprecnik(), k2.DajPoluprecnik()) == true){
        return true;
    }
    return false;
}
// ako je centar isti
bool DaLiSuKoncentricne (const Kugla &amp;k1, const Kugla &amp;k2){
    if( (DaLiSuIstiDoubleovi(k1.DajX(), k2.DajX()) == true ) &amp;&amp; (DaLiSuIstiDoubleovi(k1.DajY(), k2.DajY()) == true) &amp;&amp; (DaLiSuIstiDoubleovi(k1.DajZ(), k2.DajZ()) == true) ){
        return true;
    }
    return false;
}
bool DaLiSeDodirujuIzvana (const Kugla &amp;k1, const Kugla &amp;k2){
    double udaljenost_centara = std::sqrt( (k1.DajX() - k2.DajX())*(k1.DajX() - k2.DajX()) + (k1.DajY() - k2.DajY())*(k1.DajY() - k2.DajY()) + (k1.DajZ() - k2.DajZ())*(k1.DajZ() - k2.DajZ()) );
    double poluprecnici = k1.DajPoluprecnik() + k2.DajPoluprecnik();
    if(DaLiSuIstiDoubleovi(poluprecnici, udaljenost_centara) == true){
        return true;
    }
    return false;
}
bool DaLiSeDodirujuIznutra (const Kugla &amp;k1, const Kugla &amp;k2){
    double udaljenost_centara = std::sqrt( (k1.DajX() - k2.DajX())*(k1.DajX() - k2.DajX()) + (k1.DajY() - k2.DajY())*(k1.DajY() - k2.DajY()) + (k1.DajZ() - k2.DajZ())*(k1.DajZ() - k2.DajZ()) );
    if(DaLiSuIstiDoubleovi(udaljenost_centara+k1.DajPoluprecnik(), k2.DajPoluprecnik()) == true){
        return true;
    }
    if(DaLiSuIstiDoubleovi(udaljenost_centara+k2.DajPoluprecnik(), k1.DajPoluprecnik()) == true){
        return true;
    }
    return false;
}
bool DaLiSePreklapaju (const Kugla &amp;k1, const Kugla &amp;k2){
    if(DaLiSeDodirujuIzvana(k1, k2) == true){
        return true;
    }
    if(DaLiSeSijeku(k1, k2) == true){
        return true;
    }
    if(DaLiSuKoncentricne(k1, k2) == true){
        return true;
    }
    if(DaLiSuIdenticne(k1, k2) == true){
        return true;
    }
    if(k1.DaLiSadrzi(k2)==true || k2.DaLiSadrzi(k1)==true){
        return true;
    }
    return false;
}
bool DaLiSeSijeku (const Kugla &amp;k1, const Kugla &amp;k2){
    double udaljenost_centara = RastojanjeCentara(k1, k2);
    if(udaljenost_centara &lt; k1.DajPoluprecnik() + k2.DajPoluprecnik() &amp;&amp; udaljenost_centara &gt; std::abs(k1.DajPoluprecnik() - k2.DajPoluprecnik()) ){
        return true;
    }
    return false;
}
double RastojanjeCentara(const Kugla &amp;k1, const Kugla &amp;k2){
    double udaljenost_centara = std::sqrt( (k1.DajX() - k2.DajX())*(k1.DajX() - k2.DajX()) + (k1.DajY() - k2.DajY())*(k1.DajY() - k2.DajY()) + (k1.DajZ() - k2.DajZ())*(k1.DajZ() - k2.DajZ()) );
    return udaljenost_centara;
}

int main(){
    try{
        std::vector&lt;std::shared_ptr&lt;Kugla&gt;&gt; v;
        
        int broj_kugli;
        std::cout &lt;&lt; "Unesite broj kugla: ";
        while(1){
            std::cin &gt;&gt; broj_kugli;
            if(std::cin.fail()){
                std::cout &lt;&lt; "Neispravan broj kugli, unesite ponovo!" &lt;&lt; std::endl;
                std::cin.clear();
                std::cin.ignore(10000, '\n');
                continue;
            } else if(broj_kugli &lt;= 0){
                std::cout &lt;&lt; "Neispravan broj kugli, unesite ponovo!" &lt;&lt; std::endl;
                continue;
            } else {
                break;
            }
        }
        
        for(int i=0; i&lt;broj_kugli; i++){
            double x, y, z, r(0);
            std::cout &lt;&lt; "Unesite centar " &lt;&lt; i+1 &lt;&lt; ". kugle: ";
            std::cin &gt;&gt; x;
            // Nije precizirana poruka za unos koji nije broj !!!!
            if(std::cin.fail()){
                std::cout &lt;&lt; "Neispravan centar" &lt;&lt; std::endl;
                std::cin.clear();
                std::cin.ignore(10000, '\n');
                i--;
                continue;
            } // ilegalan unos - NIJE BROJ
            std::cin &gt;&gt; y;
            if(std::cin.fail()){
                std::cout &lt;&lt; "Neispravan centar" &lt;&lt; std::endl;
                std::cin.clear();
                std::cin.ignore(10000, '\n');
                i--;
                continue;
            } // ilegalan unos - NIJE BROJ
            std::cin &gt;&gt; z;
            if(std::cin.fail()){
                std::cout &lt;&lt; "Neispravan centar" &lt;&lt; std::endl;
                std::cin.clear();
                std::cin.ignore(10000, '\n');
                i--;
                continue;
            } // ilegalan unos - NIJE BROJ
            std::cout &lt;&lt; "Unesite poluprecnik " &lt;&lt; i+1 &lt;&lt; ". kugle: ";
            std::cin &gt;&gt; r;
            if(std::cin.fail()){
                std::cout &lt;&lt; "Ilegalan poluprecnik" &lt;&lt; std::endl;
                std::cin.clear();
                std::cin.ignore(10000, '\n');
                i--;
                continue;
            } else if(r&lt;0){
                std::cout &lt;&lt; "Ilegalan poluprecnik" &lt;&lt; std::endl;
                i--;
                continue;
            }
            // provjeta unosa
            v.push_back(std::make_shared&lt;Kugla&gt;(x,y,z,r));
        }
        
        std::cout &lt;&lt; "Unesite parametre translacije (delta_x,delta_y,delta_z): ";
        double delta_x, delta_y, delta_z;
        while(1){
            std::cin &gt;&gt; delta_x;
            if(std::cin.fail()){
                std::cout &lt;&lt; "Neispravni parametri translacije, unesite ponovo!" &lt;&lt; std::endl;
                std::cin.clear();
                std::cin.ignore(10000, '\n');
                continue;
            }
            std::cin &gt;&gt; delta_y;
            if(std::cin.fail()){
                std::cout &lt;&lt; "Neispravni parametri translacije, unesite ponovo!" &lt;&lt; std::endl;
                std::cin.clear();
                std::cin.ignore(10000, '\n');
                continue;
            }
            std::cin &gt;&gt; delta_z;
            if(std::cin.fail()){
                std::cout &lt;&lt; "Neispravni parametri translacije, unesite ponovo!" &lt;&lt; std::endl;
                std::cin.clear();
                std::cin.ignore(10000, '\n');
                continue;
            }
            break;
        }
        
        // transformacija
        std::transform(v.begin(), v.end(), v.begin(), [delta_x, delta_y, delta_z](std::shared_ptr&lt;Kugla&gt; x){
            (*x).Transliraj(delta_x, delta_y, delta_z); 
            return x;
        });
        
        // sortiranje po volumenu
        std::sort(v.begin(), v.end(), [](std::shared_ptr&lt;Kugla&gt; x, std::shared_ptr&lt;Kugla&gt; y){
            return (*x).DajZapreminu() &lt; (*y).DajZapreminu();
        });
        
        std::cout &lt;&lt; "Kugle nakon obavljenje transformacije imaju sljedece vrijednosti: " &lt;&lt; std::endl;
        
        // ispis sa for each
        std::for_each(v.begin(), v.end(), [](std::shared_ptr&lt;Kugla&gt; x){
            (*x).Ispisi();
            std::cout &lt;&lt; std::endl;
        });
        
        // kugla sa najvecom povrsinom
        std::shared_ptr&lt;Kugla&gt; najveca_povrsina;
        najveca_povrsina = *(std::max_element(v.begin(), v.end(), [](std::shared_ptr&lt;Kugla&gt; x, std::shared_ptr&lt;Kugla&gt; y){
            return ((*x).DajPovrsinu() &lt; (*y).DajPovrsinu());}
        ));
        std::cout &lt;&lt; "Kugla sa najvecom povrsinom je: ";
        (*najveca_povrsina).Ispisi();
        
        std::cout &lt;&lt; std::endl;
        bool presjecaju_se(false);
        for_each(v.begin(), v.end() - 1, [v, &amp;presjecaju_se](std::shared_ptr&lt;Kugla&gt; x){
            int brojac=0;
            for_each(v.begin() + brojac + 1, v.end(), [x, brojac, &amp;presjecaju_se](std::shared_ptr&lt;Kugla&gt; y){
                if(DaLiSeSijeku(*x, *y) == true){
                    presjecaju_se = true;
                    std::cout &lt;&lt; "Presjecaju se kugle: ";
                    (*x).Ispisi();
                    std::cout &lt;&lt; std::endl;
                    (*y).Ispisi();
                    std::cout &lt;&lt; std::endl;
                }
            });
            std::cout &lt;&lt; std::endl;
            brojac++;
        });
        if(presjecaju_se == false){
            std::cout &lt;&lt; "Ne postoje kugle koje se presjecaju!";
        }
        
    } catch(std::domain_error greska){
        std::cout &lt;&lt; greska.what() &lt;&lt; std::endl;
</font>    }
    
    return 0;
}</pre>
</body>
</html>
