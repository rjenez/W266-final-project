<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z4/Z1/student3517.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z4/Z1/student1600.cpp<p></p><pre>
/B2017/2018: Zadaća 4, Zadatak 1
#include &lt;iostream&gt;
#include &lt;cmath&gt;
#include &lt;tuple&gt;
#include &lt;stdexcept&gt;
#include &lt;vector&gt;
#include &lt;memory&gt;
#include &lt;algorithm&gt;

const double PI=4*std::atan (1);
const double Eps(1e-10);

class Kugla
{
    double X, Y, Z, R;

public:

<a name="0"></a><font color="#FF0000"><a href="match957-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_4.gif"/></a>

    explicit Kugla (double r=0) {
        if(r&lt;0) throw std::domain_error ("Ilegalan poluprecnik");
        X=0;
        Y=0;
        Z=0;
        R=r;
    }

    Kugla (double x, double y, double z, double r=0) {
        if(r&lt;0) throw std::domain_error ("Ilegalan poluprecnik");
        X=x;
        Y=y;
        Z=z;
        R=r;
    }

    explicit Kugla (const std::tuple&lt;double, double, double&gt; &amp;centar, double r=0) {
</font>        if(r&lt;0) throw std::domain_error ("Ilegalan poluprecnik");
<a name="1"></a><font color="#00FF00"><a href="match957-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_2.gif"/></a>

        X=std::get&lt;0&gt;(centar);
        X=std::get&lt;1&gt;(centar);
        Z=std::get&lt;2&gt;(centar);
        R=r;
    }

    double DajX () const {
        return X;
    }

    double DajY () const {
        return Y;
    }

    double DajZ () const {
        return Z;
    }

    std::tuple&lt;double, double,double&gt; DajCentar () const {
</font>        std::tuple&lt;double, double, double&gt; t (std::make_tuple(X, Y, Z));
        return t;
    }

    double DajPoluprecnik () const {
        return R;
    }

    double DajPovrsinu () const {
        return 4*R*R*PI;
    }

    double DajZapreminu () const {
        return 4*R*R*R*PI/3.;
    }

    Kugla &amp;PostaviX (double x) {
        X=x;
        return *this;
    }

    Kugla &amp;PostaviY (double y) {
        Y=y;
        return *this;
    }

    Kugla &amp;PostaviZ (double z) {
        Z=z;
        return *this;
    }

<a name="2"></a><font color="#0000FF"><a href="match957-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_1.gif"/></a>

    Kugla &amp;PostaviCentar (double x, double y, double z) {
        X=x;
        Y=y;
        Z=z;
        return *this;
    }

    Kugla &amp;PostaviCentar (const std::tuple&lt;double, double, double&gt; &amp;centar) {
        X=std::get&lt;0&gt;(centar);
</font>        Y=std::get&lt;1&gt;(centar);
<a name="3"></a><font color="#00FFFF"><a href="match957-0.html#3" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_1.gif"/></a>

        Z=std::get&lt;2&gt;(centar);
        return *this;
    }

    Kugla &amp;PostaviPoluprecnik (double r) {
        if(r&lt;0) throw std::domain_error ("Ilegalan poluprecnik");
        R=r;
        return *this;
    }

    void Ispisi () const {
        std::cout&lt;&lt;"{("&lt;&lt;X&lt;&lt;","&lt;&lt;Y&lt;&lt;","&lt;&lt;Z&lt;&lt;"),"&lt;&lt;R&lt;&lt;"}\n";
</font>    }

    void Transliraj (double delta_x, double delta_y, double delta_z) {
        X+=delta_x;
        Y+=delta_y;
        Z+=delta_z;
    }

    friend bool DaLiSuIdenticne (const Kugla &amp;k1, const Kugla &amp;k2) {
        //if(k1.X==k2.X &amp;&amp; k1.Y==k2.Y &amp;&amp; k1.Z==k2.Z &amp;&amp; k1.R==k2.R) return true;
        if(std::fabs(k1.X-k2.X)&lt;Eps*(std::fabs(k1.X)+std::fabs(k2.X)) &amp;&amp; std::fabs(k1.Y-k2.Y)&lt;Eps*(std::fabs(k1.Y)+std::fabs(k2.Y)) &amp;&amp; std::fabs(k1.Z-k2.Z)&lt;Eps*(std::fabs(k1.Z)+std::fabs(k2.Z)) &amp;&amp; std::fabs(k1.R-k2.R)&lt;Eps*(std::fabs(k1.R)+std::fabs(k2.R))) return true;
        return false;
    }

    friend bool DaLiSuPodudarne (const Kugla &amp;k1, const Kugla &amp;k2) {
        // if(k1.R==k2.R) return true;
        if(std::fabs(k1.R-k2.R)&lt;Eps*(std::fabs(k1.R)+std::fabs(k2.R))) return true;
        return false;
    }

    friend bool DaLiSuKoncentricne (const Kugla &amp;k1, const Kugla &amp;k2) {
        //if(k1.X==k2.X &amp;&amp; k1.Y==k2.Y &amp;&amp; k1.Z==k2.Z) return true;
        if(std::fabs(k1.X-k2.X)&lt;Eps*(std::fabs(k1.X)+std::fabs(k2.X)) &amp;&amp; std::fabs(k1.Y-k2.Y)&lt;Eps*(std::fabs(k1.Y)+std::fabs(k2.Y)) &amp;&amp; std::fabs(k1.Z-k2.Z)&lt;Eps*(std::fabs(k1.Z)+std::fabs(k2.Z))) return true;
        return false;
    }

    friend bool DaLiSeDodirujuIzvana (const Kugla &amp;k1, const Kugla &amp;k2) {
        //if(k1.R+k2.R==std::sqrt(pow(k2.X-k1.X,2)+pow(k2.Y-k1.Y,2)+pow(k2.Z-k1.Z,2))) return true;
        if(std::fabs(k1.R+k2.R-std::sqrt(pow(k2.X-k1.X,2)+pow(k2.Y-k1.Y,2)+pow(k2.Z-k1.Z,2)))&lt;Eps*(std::fabs(k1.R+k2.R)+std::fabs(std::sqrt(pow(k2.X-k1.X,2)+pow(k2.Y-k1.Y,2)+pow(k2.Z-k1.Z,2))))) return true;
        else return false;
    }

    friend bool DaLiSeDodirujuIznutra (const Kugla &amp;k1, const Kugla &amp;k2) {
        //if(std::sqrt(pow(k1.R-k2.R,2))==std::sqrt(pow(k2.X-k1.X,2)+pow(k2.Y-k1.Y,2)+pow(k2.Z-k1.Z,2))) return true;
        if(std::fabs(std::sqrt(pow(k1.R-k2.R,2))-std::sqrt(pow(k2.X-k1.X,2)+pow(k2.Y-k1.Y,2)+pow(k2.Z-k1.Z,2)))&lt;Eps*(std::fabs(std::sqrt(pow(k1.R-k2.R,2))+std::fabs(std::sqrt(pow(k2.X-k1.X,2)+pow(k2.Y-k1.Y,2)+pow(k2.Z-k1.Z,2)))))) return true;
        return false;
    }

    friend bool DaLiSePreklapaju (const Kugla &amp;k1, const Kugla &amp;k2) {
        if(DaLiSeSijeku(k1, k2)) return true; /*Svake dvije kugle koje se sijeku također se i preklapaju, dok obrnuto ne mora vrijediti*/
        if(std::sqrt(pow(k2.X-k1.X,2)+pow(k2.Y-k1.Y,2)+pow(k2.Z-k1.Z,2))&lt;k1.R+k2.R) return true;
        return false;
    }

    friend bool DaLiSeSijeku (const Kugla &amp;k1, const Kugla &amp;k2) {
        if(std::sqrt(pow(k2.X-k1.X,2)+pow(k2.Y-k1.Y,2)+pow(k2.Z-k1.Z,2))&lt;k1.R+k2.R &amp;&amp; std::sqrt(pow(k1.R-k2.R,2))&lt;std::sqrt(pow(k2.X-k1.X,2)+pow(k2.Y-k1.Y,2)+pow(k2.Z-k1.Z,2))) return true;
        return false;
    }

    bool DaLiSadrzi (const Kugla &amp;k) const {
        if(R&gt;=std::sqrt(pow(k.X-X,2)+pow(k.Y-Y,2)+pow(k.Z-Z,2))+k.R) return true;
        return false;
    }
    /*bool DaLiSadrzi (const Kugla &amp;k) const {
        if(R+k.R&gt;std::sqrt(pow(k.X-X,2)+pow(k.Y-Y,2)+pow(k.Z-Z,2))) return true;
        return false;
    }*/

    friend double RastojanjeCentara (const Kugla &amp;k1, const Kugla &amp;k2) {
<a name="4"></a><font color="#FF00FF"><a href="match957-0.html#4" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_1.gif"/></a>

        return std::sqrt(pow(k2.X-k1.X,2)+pow(k2.Y-k1.Y,2)+pow(k2.Z-k1.Z,2));
    }
};

int main ()
{
    int n;
    std::cout&lt;&lt;"Unesite broj kugla: ";
</font>    for(;;) {
        bool pom(true);
        std::cin&gt;&gt;n;
        if(!std::cin || n&lt;=0)
            pom=false;
        if(pom) break;
        std::cout&lt;&lt;"Neispravan broj kugli, unesite ponovo!\n";
        std::cin.clear();
        std::cin.ignore(1000, '\n');
    }

    std::vector&lt;std::shared_ptr&lt;Kugla&gt;&gt; v;

    for(int i=0; i&lt;n; i++) {
        double x,y,z,r;
        for(;;) {
UNOS:
            std::cout&lt;&lt;"Unesite centar "&lt;&lt;i+1&lt;&lt;". kugle: ";
            bool pom_x(true), pom_y(true), pom_z(true), pom_r(true);
            std::cin&gt;&gt;x;
            if(!std::cin) pom_x=false;
            std::cin&gt;&gt;y;
            if(!std::cin) pom_y=false;
            std::cin&gt;&gt;z;
            if(!std::cin) pom_z=false;
            if(pom_x==false || pom_y==false || pom_z==false) {
                std::cout&lt;&lt;"Neispravan centar\n";
                std::cin.clear();
                std::cin.ignore(1000, '\n');
                goto UNOS;
            }
<a name="6"></a><font color="#00FF00"><a href="match957-0.html#6" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_1.gif"/></a>

            std::cout&lt;&lt;"Unesite poluprecnik "&lt;&lt;i+1&lt;&lt;". kugle: ";
            std::cin&gt;&gt;r;
            if(!std::cin || r&lt;0) {
</font>                pom_r=false;
                std::cout&lt;&lt;"Ilegalan poluprecnik\n";
                std::cin.clear();
                std::cin.ignore(1000, '\n');
            }
            if(pom_x &amp;&amp; pom_y &amp;&amp; pom_z &amp;&amp; pom_r) break;

        }
        try {
            auto pok=new Kugla(x,y,z,r);
            v.push_back(std::shared_ptr&lt;Kugla&gt;(pok));
        } catch (std::bad_alloc) {
            std::cout&lt;&lt;"Problem sa memorijom!";
        } catch (std::domain_error izuzetak) {
            std::cout&lt;&lt;izuzetak.what()&lt;&lt;std::endl;
        } catch(...) {}
    }

    double trans_x, trans_y, trans_z;
    std::cout&lt;&lt;"Unesite parametre translacije (delta_x,delta_y,delta_z): ";
    for(;;) {
        bool pom_x(true), pom_y(true), pom_z(true);

        std::cin&gt;&gt;trans_x;
        if(!std::cin) pom_x=false;

        std::cin&gt;&gt;trans_y;
        if(!std::cin) pom_y=false;

        std::cin&gt;&gt;trans_z;
        if(!std::cin) pom_z=false;

        if(pom_x &amp;&amp; pom_y &amp;&amp; pom_z) break;
        std::cout&lt;&lt;"Neispravni parametri translacije, unesite ponovo!\n";
        std::cin.clear();
        std::cin.ignore(1000, '\n');
    }

    std::cout&lt;&lt;"Kugle nakon obavljenje transformacije imaju sljedece vrijednosti: \n";

    std::transform (v.begin(), v.end(), v.begin(), [trans_x, trans_y, trans_z] (const std::shared_ptr&lt;Kugla&gt; &amp;k) {
<a name="5"></a><font color="#FF0000"><a href="match957-0.html#5" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_1.gif"/></a>

        k-&gt;Transliraj (trans_x, trans_y, trans_z);
        return k;
    });

    std::sort (v.begin(), v.end(), [] (const std::shared_ptr&lt;Kugla&gt; &amp;k1, const std::shared_ptr&lt;Kugla&gt; &amp;k2) {
</font>        return k1-&gt;DajZapreminu()&lt;k2-&gt;DajZapreminu();
    });

    for_each(v.begin(), v.end(), [] (const std::shared_ptr&lt;Kugla&gt; &amp;k)-&gt;void {k-&gt;Ispisi();});

    auto max_pov (max_element(v.begin(), v.end(), [](const std::shared_ptr&lt;Kugla&gt; &amp;k1, const std::shared_ptr&lt;Kugla&gt; &amp;k2)-&gt;bool {return k1-&gt;DajPovrsinu()&lt;k2-&gt;DajPovrsinu();}));
    std::cout&lt;&lt;"Kugla sa najvecom povrsinom je: ";
    (*max_pov)-&gt;Ispisi();

    int brojac(0);
    for_each(v.begin(), v.end(), [&amp;](const std::shared_ptr&lt;Kugla&gt; &amp;k1) {
        for_each(v.begin(), v.end(), [&amp;](const std::shared_ptr&lt;Kugla&gt; &amp;k2) {
            if (&amp;k2 &gt; &amp;k1 &amp;&amp; DaLiSeSijeku(*k1, *k2)) {
                std::cout&lt;&lt;"Presjecaju se kugle: ";
                k1-&gt;Ispisi();
                k2-&gt;Ispisi();
                brojac++;
            }
        });
    });

    if(brojac==0)
        std::cout&lt;&lt;"Ne postoje kugle koje se presjecaju!";

    return 0;
}
</pre>
</body>
</html>
