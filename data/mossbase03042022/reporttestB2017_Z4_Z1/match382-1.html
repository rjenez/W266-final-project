<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z4/Z1/student6328.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z4/Z1/student4261.cpp<p></p><pre>
/B2017/2018: ZadaÄ‡a 4, Zadatak 1
#include &lt;iostream&gt;
#include &lt;cmath&gt;
#include &lt;stdexcept&gt;
#include &lt;algorithm&gt;
#include &lt;memory&gt;
#include &lt;vector&gt;

const double pi=4*atan(1);
const double eps=0.0000000001;

class Kugla {
    double x, y, z, r;
    
  public:
  
    explicit Kugla(double r = 0) {
        if (r&lt;0) throw std::domain_error("Ilegalan poluprecnik");
        x=0; y=0; z=0; Kugla::r=r;
    }
    
    Kugla(double x, double y, double z, double r = 0) {
        if (r&lt;0) throw std::domain_error("Ilegalan poluprecnik");
        Kugla::x=x; Kugla::y=y; Kugla::z=z; Kugla::r=r;
    }
    
    explicit Kugla(const std::tuple&lt;double, double, double&gt; &amp;centar, double r = 0) {
        if (r&lt;0) throw std::domain_error("Ilegalan poluprecnik");
<a name="2"></a><font color="#0000FF"><a href="match382-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_2.gif"/></a>

        x=std::get&lt;0&gt;(centar); y=std::get&lt;1&gt;(centar); z=std::get&lt;2&gt;(centar); Kugla::r=r; 
        
    }
    
    double DajX() const { return x; }
    double DajY() const { return y; }
    double DajZ() const { return z; }
</font>    
    std::tuple&lt;double, double, double&gt; DajCentar() const { return std::make_tuple(x, y, z); }
    double DajPoluprecnik() const { return r; }
    double DajPovrsinu() const { return 4*r*r*pi; }
    double DajZapreminu() const { return 4*r*r*r*pi/3; }
    
    Kugla &amp;PostaviX(double x) { Kugla::x=x; return *this; }
    Kugla &amp;PostaviY(double y) { Kugla::y=y; return *this; }
    Kugla &amp;PostaviZ(double z) { Kugla::z=z; return *this; }
    
    Kugla &amp;PostaviCentar(double x, double y, double z) { Kugla::x=x; Kugla::y=y; Kugla::z=z; return *this; }
    Kugla &amp;PostaviCentar(const std::tuple&lt;double, double, double&gt; &amp;centar) { x=std::get&lt;0&gt;(centar); y=std::get&lt;1&gt;(centar); z=std::get&lt;2&gt;(centar); return *this; }
    Kugla &amp;PostaviPoluprecnik(double r) { if (r&lt;0) throw std::domain_error("Ilegalan poluprecnik"); Kugla::r=r; return *this; }
    
    void Ispisi() const { std::cout &lt;&lt; "{(" &lt;&lt; DajX() &lt;&lt; "," &lt;&lt; DajY() &lt;&lt; "," &lt;&lt; DajZ() &lt;&lt; ")," &lt;&lt; DajPoluprecnik() &lt;&lt; "}" &lt;&lt; std::endl; }
    
    void Transliraj(double delta_x, double delta_y, double delta_z) { x+=delta_x; y+=delta_y; z+=delta_z; }
    
    friend bool DaLiSuIdenticne(const Kugla &amp;k1, const Kugla &amp;k2);
    friend bool DaLiSuPodudarne(const Kugla &amp;k1, const Kugla &amp;k2);
    friend bool DaLiSuKoncentricne(const Kugla &amp;k1, const Kugla &amp;k2);
    
    friend bool DaLiSeDodirujuIzvana(const Kugla &amp;k1, const Kugla &amp;k2);
    friend bool DaLiSeDodirujuIznutra(const Kugla &amp;k1, const Kugla &amp;k2);
    
    friend bool DaLiSePreklapaju(const Kugla &amp;k1, const Kugla &amp;k2);
    friend bool DaLiSeSijeku(const Kugla &amp;k1, const Kugla &amp;k2);
    
    bool DaLiSadrzi(const Kugla &amp;k) const { 
        if (DaLiSuIdenticne(*this, k)) return true;
        return (RastojanjeCentara(*this, k)&lt;r-k.DajPoluprecnik() || std::fabs(RastojanjeCentara(*this, k)-(r-k.DajPoluprecnik()) ) &lt;= eps* (std::fabs(RastojanjeCentara(*this, k))+std::fabs(r-k.DajPoluprecnik())) );
    }
    
    friend double RastojanjeCentara(const Kugla &amp;k1, const Kugla &amp;k2);
};


bool DaLiSuIdenticne(const Kugla &amp;k1, const Kugla &amp;k2) { return (std::fabs(k1.x-k2.x)&lt;=eps*(std::fabs(k1.x)+std::fabs(k2.x)) &amp;&amp; std::fabs(k1.y-k2.y)&lt;=eps*(std::fabs(k1.y)+std::fabs(k2.y)) &amp;&amp; std::fabs(k1.z-k2.z)&lt;=eps*(std::fabs(k1.z)+std::fabs(k2.z)) &amp;&amp; std::fabs(k1.r-k2.r)&lt;=eps*(std::fabs(k1.r)+std::fabs(k2.r))); }
bool DaLiSuPodudarne(const Kugla &amp;k1, const Kugla &amp;k2) { return std::fabs(k1.r-k2.r)&lt;=eps*(std::fabs(k1.r)+std::fabs(k2.r)); }
bool DaLiSuKoncentricne(const Kugla &amp;k1, const Kugla &amp;k2) { return (RastojanjeCentara(k1, k2)&lt;eps); }

bool DaLiSeDodirujuIzvana(const Kugla &amp;k1, const Kugla &amp;k2) {
    double x(RastojanjeCentara(k1, k2));
    double zbir(k1.DajPoluprecnik()+k2.DajPoluprecnik());
    return (std::fabs(x-zbir)&lt;=eps*(std::fabs(x)+std::fabs(zbir)));
}
    
bool DaLiSeDodirujuIznutra(const Kugla &amp;k1, const Kugla &amp;k2) {
    if (DaLiSuIdenticne(k1, k2)) return false;
    double x(RastojanjeCentara(k1, k2));
    double razlika(std::fabs(k1.DajPoluprecnik()-k2.DajPoluprecnik()));
    return (std::fabs(x-razlika)&lt;=eps*(std::fabs(x)+std::fabs(razlika)));
}
    
bool DaLiSePreklapaju(const Kugla &amp;k1, const Kugla &amp;k2) { return ( RastojanjeCentara(k1, k2)&lt;k1.DajPoluprecnik()+k2.DajPoluprecnik() ); }
    
bool DaLiSeSijeku(const Kugla &amp;k1, const Kugla &amp;k2) {
    if (DaLiSuIdenticne(k1, k2)) return true; //hm
    return (RastojanjeCentara(k1, k2)&lt;k1.DajPoluprecnik()+k2.DajPoluprecnik() &amp;&amp;  RastojanjeCentara(k1, k2)&gt;std::fabs(k1.DajPoluprecnik()-k2.DajPoluprecnik()));
}

double RastojanjeCentara(const Kugla &amp;k1, const Kugla &amp;k2) {
    return sqrt((k1.x-k2.x)*(k1.x-k2.x)+(k1.y-k2.y)*(k1.y-k2.y)+(k1.z-k2.z)*(k1.z-k2.z));
}

int main ()
{
    int n;
    std::cout &lt;&lt; "Unesite broj kugla: ";
    while (std::cin &gt;&gt; n, !std::cin || n&lt;=0) {
        std::cout &lt;&lt; "Neispravan broj kugli, unesite ponovo!" &lt;&lt; std::endl;
        std::cin.clear(); std::cin.ignore(1000, '\n');
    }
    
    std::vector&lt;std::shared_ptr&lt;Kugla&gt;&gt; v;
    v.resize(n);
    
<a name="1"></a><font color="#00FF00"><a href="match382-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_10.gif"/></a>

    for (int i=0; i&lt;n; i++) {
        std::cout &lt;&lt; "Unesite centar " &lt;&lt; i+1 &lt;&lt; ". kugle: ";
        double x, y, z, r;
        std::cin &gt;&gt; x &gt;&gt; y &gt;&gt; z;
        if (!std::cin) { std::cout &lt;&lt; "Neispravan centar" &lt;&lt; std::endl; std::cin.clear(); std::cin.ignore(1000, '\n'); i--; continue; }
        std::cout &lt;&lt; "Unesite poluprecnik " &lt;&lt; i+1 &lt;&lt; ". kugle: ";
        std::cin &gt;&gt; r;
        if (!std::cin) { std::cout &lt;&lt; "Ilegalan poluprecnik" &lt;&lt; std::endl; std::cin.clear(); std::cin.ignore(1000, '\n'); i--; continue; }
        try {
            v.at(i)=std::make_shared&lt;Kugla&gt;(x, y, z, r);
        }
        catch(std::exception &amp;izuzetak) {
            std::cout &lt;&lt; izuzetak.what() &lt;&lt; std::endl;
            i--;
        }
    }
    double d_x, d_y, d_z;
    std::cout &lt;&lt; "Unesite parametre translacije (delta_x,delta_y,delta_z): ";
</font>    while ( std::cin &gt;&gt; d_x &gt;&gt; d_y &gt;&gt; d_z, !std::cin) {
        std::cout &lt;&lt; "Neispravni parametri translacije, unesite ponovo!" &lt;&lt; std::endl;
        std::cin.clear(); std::cin.ignore(10000, '\n');
    }
<a name="0"></a><font color="#FF0000"><a href="match382-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_16.gif"/></a>

    std::transform(v.begin(), v.end(), v.begin(), [d_x, d_y, d_z] (std::shared_ptr&lt;Kugla&gt; p1) { (*p1).Transliraj(d_x, d_y, d_z); return p1; } );
    std::sort (v.begin(), v.end(), [](std::shared_ptr&lt;Kugla&gt; p1, std::shared_ptr&lt;Kugla&gt; p2) { return (*p1).DajZapreminu()&lt;(*p2).DajZapreminu(); });
    std::cout &lt;&lt; "Kugle nakon obavljenje transformacije imaju sljedece vrijednosti: " &lt;&lt; std::endl;
    std::for_each (v.begin(), v.end(), [](std::shared_ptr&lt;Kugla&gt; p) { (*p).Ispisi(); });
    
    
    auto it(std::max_element(v.begin(), v.end(), [](std::shared_ptr&lt;Kugla&gt; p1, std::shared_ptr&lt;Kugla&gt; p2) { return (*p1).DajPovrsinu()&lt;(*p2).DajPovrsinu(); }) );
	std::cout &lt;&lt; "Kugla sa najvecom povrsinom je: "; if (it!=v.end()) (*it)-&gt;Ispisi();
	
	
	int i(0);
	bool ima_nekih_koje_se_presjecaju(false);
	std::for_each( v.begin(), v.end(), [v, &amp;i, &amp;ima_nekih_koje_se_presjecaju] (std::shared_ptr&lt;Kugla&gt; p1) { i++;
	    std::for_each ( v.begin()+i, v.end(), [p1, &amp;ima_nekih_koje_se_presjecaju] (std::shared_ptr&lt;Kugla&gt; p2) { 
	        if (DaLiSeSijeku(*p1, *p2)) { ima_nekih_koje_se_presjecaju=true; std::cout &lt;&lt; "Presjecaju se kugle: "; (*p1).Ispisi(); (*p2).Ispisi(); std::cout &lt;&lt; std::endl; } } ); } );
	
	if (!ima_nekih_koje_se_presjecaju) std::cout &lt;&lt; "Ne postoje kugle koje se presjecaju!";
	
	
	
	
	/*Kugla k1(1, 0, 0, 2);
	Kugla k2(1, 0, 0, 2);
	
	if (DaLiSuKoncentricne(k1, k2)) std::cout &lt;&lt; "koncentricne" &lt;&lt; std::endl;
	if (DaLiSuIdenticne(k1, k2)) std::cout &lt;&lt; "identicne" &lt;&lt; std::endl;
	if (DaLiSeDodirujuIznutra(k1, k2)) std::cout &lt;&lt; "dodiruju se iznutra" &lt;&lt; std::endl;
	if (DaLiSeDodirujuIzvana(k1, k2)) std::cout &lt;&lt; "dodiruju se izvana" &lt;&lt; std::endl;
	if (DaLiSePreklapaju(k1, k2)) std::cout &lt;&lt; "preklapaju se" &lt;&lt; std::endl;
	if (DaLiSeSijeku(k1, k2)) std::cout &lt;&lt; "sijeku se" &lt;&lt; std::endl;
	if (DaLiSuPodudarne(k1, k2)) std::cout &lt;&lt; "podudarne" &lt;&lt; std::endl;
	if (k1.DaLiSadrzi(k2)) std::cout &lt;&lt; "sadrzi";
	*/
	
	
	return 0;
</font>}
</pre>
</body>
</html>
