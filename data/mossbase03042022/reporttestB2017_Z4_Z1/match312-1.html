<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z4/Z1/student8055.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z4/Z1/student2478.cpp<p></p><pre>

#include &lt;iostream&gt;
#include &lt;tuple&gt;
#include &lt;stdexcept&gt;
#include &lt;cmath&gt;
#define PI 4*std::atan(1)
#include &lt;algorithm&gt;
#include &lt;memory&gt;

<a name="3"></a><font color="#00FFFF"><a href="match312-0.html#3" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_6.gif"/></a>

bool JesuLiJednaki (double x, double y, double Eps = 1e-10) {
    return std::fabs(x-y) &lt;= Eps * (std::fabs(x) + std::fabs(y));
}
class Kugla {
double x, y, z, r;
public:
 explicit Kugla(double r = 0) {
     if (r&lt;0) throw std::domain_error ("Ilegalan poluprecnik");
     Kugla::r = r;
 }
Kugla(double x, double y, double z, double r = 0){
    if (r&lt;0) throw std::domain_error ("Ilegalan poluprecnik");
</font>    Kugla::x=x; Kugla::y=y; Kugla::z=z; Kugla::r=r;
}
explicit Kugla(const std::tuple&lt;double, double, double&gt; &amp; centar, double r = 0){
    if (r&lt;0) throw std::domain_error ("Ilegalan poluprecnik");
    Kugla::x=std::get&lt;0&gt;(centar); Kugla::y=std::get&lt;1&gt;(centar); Kugla::z=std::get&lt;2&gt;(centar); Kugla::r=r;
}
double DajX() const {
 return x;
}
double DajY() const {
    return y;
};
double DajZ() const {
    return z;
};
std::tuple&lt;double, double, double&gt; DajCentar() const {
<a name="8"></a><font color="#00FFFF"><a href="match312-0.html#8" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_3.gif"/></a>

    return std::make_tuple(x, y, z);
}
double DajPoluprecnik() const {
    return r;
}
double DajPovrsinu() const {
    return 4*PI*r*r;
}
double DajZapreminu() const {
    return 4/3*PI*r*r*r;
}
Kugla &amp;PostaviX(double x) {
    Kugla::x = x;
    return *this;
}
Kugla &amp; PostaviY(double y) {
</font>      Kugla::y = y;
    return *this;
}
Kugla &amp; PostaviZ(double z) {
    Kugla::z = z;
    return *this;
}
Kugla &amp;PostaviCentar(double x, double y, double z) {
    Kugla::x=x; Kugla::y=y; Kugla::z=z;
    return *this;
}
Kugla &amp;PostaviCentar(const std::tuple&lt;double, double, double&gt; &amp; centar){
    Kugla::x = std::get&lt;0&gt; (centar);
<a name="7"></a><font color="#0000FF"><a href="match312-0.html#7" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_4.gif"/></a>

    Kugla::y = std::get&lt;1&gt; (centar);
    Kugla::z = std::get&lt;2&gt; (centar);
    return *this;
}
Kugla &amp;PostaviPoluprecnik(double r){
    Kugla::r = r;
    if (r&lt;0) throw std::domain_error ("Ilegalan poluprecnik");
    return *this;
}
void Ispisi() const {
    std::cout&lt;&lt;"{("&lt;&lt;x&lt;&lt;","&lt;&lt;y&lt;&lt;","&lt;&lt;z&lt;&lt;"),"&lt;&lt;r&lt;&lt;"}\n";
</font>}
void Transliraj(double delta_x, double delta_y, double delta_z){
    x+=delta_x; y+=delta_y; z+=delta_z;
}
friend bool DaLiSuIdenticne(const Kugla &amp; k1, const Kugla &amp; k2);
friend bool DaLiSuPodudarne(const Kugla &amp; k1, const Kugla &amp; k2);
friend bool DaLiSuKoncentricne(const Kugla &amp; k1, const Kugla &amp; k2);
friend bool DaLiSeDodirujuIzvana(const Kugla &amp; k1, const Kugla &amp; k2);
friend bool DaLiSeDodirujuIznutra(const Kugla &amp; k1, const Kugla &amp; k2);
friend bool DaLiSePreklapaju(const Kugla &amp; k1, const Kugla &amp; k2);
friend bool DaLiSeSijeku(const Kugla &amp; k1, const Kugla &amp; k2);
bool DaLiSadrzi(const Kugla &amp; k) const;
<a name="9"></a><font color="#FF00FF"><a href="match312-0.html#9" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_2.gif"/></a>

friend double RastojanjeCentara(const Kugla &amp; k1, const Kugla &amp; k2);
};

bool DaLiSuIdenticne(const Kugla &amp; k1, const Kugla &amp; k2) {
    return (JesuLiJednaki (k1.x, k2.x  ) &amp;&amp;
        JesuLiJednaki (k1.y, k2.y  ) &amp;&amp;
</font>        JesuLiJednaki (  k1.z, k2.z) &amp;&amp;
<a name="0"></a><font color="#FF0000"><a href="match312-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_12.gif"/></a>

       JesuLiJednaki (  k1.r, k2.r) ) ;
}
bool DaLiSuPodudarne(const Kugla &amp;k1, const Kugla &amp;k2){
    return JesuLiJednaki (  k1.r, k2.r);
}
bool DaLiSuKoncentricne(const Kugla &amp; k1, const Kugla &amp; k2){
    return (JesuLiJednaki (  k1.x, k2.x) &amp;&amp;
        JesuLiJednaki (  k1.y, k2.y) &amp;&amp;
        JesuLiJednaki (  k1.z, k2.z) );
}
double RastojanjeCentara (double x1, double y1, double z1,
 double x2, double y2, double z2) {
    return std::sqrt (  (x1-x2)*(x1-x2)+
                    (y1-y2)*(y1-y2)+
                    (z1-z2)*(z1-z2)
        );
}
bool DaLiSeDodirujuIzvana(const Kugla &amp; k1, const Kugla &amp; k2) {
    return  JesuLiJednaki (  RastojanjeCentara(k1.x, k1.y, k1.z, k2.x, k2.y, k2.z), k1.r +k2.r);
}
bool DaLiSeDodirujuIznutra(const Kugla &amp; k1, const Kugla &amp; k2) {
    return  RastojanjeCentara(k1.x, k1.y, k1.z, k2.x, k2.y, k2.z) &lt; (k1.r +k2.r);
</font><a name="6"></a><font color="#00FF00"><a href="match312-0.html#6" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_4.gif"/></a>

}
bool DaLiSePreklapaju(const Kugla &amp; k1, const Kugla &amp; k2) {
    return  RastojanjeCentara(k1.x, k1.y, k1.z, k2.x, k2.y, k2.z) &lt;  (k1.r +k2.r) ;
</font>}
bool DaLiSeSijeku (const Kugla &amp; k1, const Kugla &amp; k2) {
    return DaLiSePreklapaju(k1, k2);
}

<a name="5"></a><font color="#FF0000"><a href="match312-0.html#5" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_4.gif"/></a>

bool Kugla::DaLiSadrzi(const Kugla &amp; k) const {
    if (Kugla::r - k.r &lt; 0 ) return false;
    return !(RastojanjeCentara(k.x, k.y, k.z, Kugla::x, Kugla::y, Kugla::z) &gt; (Kugla::r - k.r) ) ;
}

typedef std::shared_ptr&lt;Kugla&gt; pametni;
int main ()
{

    int n;
    std::cout&lt;&lt;"Unesite broj kugla: ";
</font>    std::cin&gt;&gt;n;
<a name="1"></a><font color="#00FF00"><a href="match312-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_10.gif"/></a>

   std::vector&lt;pametni&gt; vektor;
   double x,y,z,r;
    for (int i=1; i&lt;=n; i++){
        try {
        std::cout&lt;&lt;"Unesite centar "&lt;&lt;i&lt;&lt;". kugle: ";
        std::cin&gt;&gt;x;
        if (!std::cin) throw std::domain_error("Ilegalan unos!");
        std::cin&gt;&gt;y;
        if (!std::cin) throw std::domain_error("Ilegalan unos!");
        std::cin&gt;&gt;z;
        if (!std::cin) throw std::domain_error("Ilegalan unos!");
        std::cout&lt;&lt;"Unesite poluprecnik "&lt;&lt;i&lt;&lt;". kugle: ";
        std::cin&gt;&gt;r;
        if (!std::cin) throw std::domain_error("Ilegalan unos!");
        auto p (std::make_shared&lt;Kugla&gt; (Kugla(x,y,z,r)));
        vektor.push_back(p);
        }
        catch(std::domain_error e){
            std::cout&lt;&lt;e.what();
</font>            i--;
        }
    }   
  std::cout&lt;&lt;"Unesite parametre translacije (delta_x,delta_y,delta_z): ";
    double delta_x, delta_y, delta_z;
    std::cin&gt;&gt; delta_x&gt;&gt; delta_y&gt;&gt;delta_z;
<a name="4"></a><font color="#FF00FF"><a href="match312-0.html#4" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_5.gif"/></a>

    std::transform (std::begin(vektor), std::end(vektor), std::begin(vektor), [&amp;delta_x, &amp;delta_y, &amp;delta_z] (pametni &amp;k) { k-&gt;Transliraj(delta_x, delta_y, delta_z); return k; }  );
    std::sort (std::begin(vektor), std::end(vektor), [](pametni k1, pametni k2) { return  (k1-&gt;DajZapreminu() ) &lt; (k2-&gt;DajZapreminu() ); } );
</font><a name="2"></a><font color="#0000FF"><a href="match312-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_10.gif"/></a>

    std::for_each (std::begin(vektor), std::end(vektor), [](pametni &amp;k) {k-&gt;Ispisi();} );
    auto q ( std::max_element (std::begin (vektor), std::end(vektor), [] (pametni &amp;k1, pametni &amp;k2){return k1-&gt;DajPovrsinu()&lt;k2-&gt;DajPovrsinu();  }   ) );
    std::cout&lt;&lt;"Kugla sa najvecom povrsinom je: "; (*q)-&gt;Ispisi();
    int ima (0);
    int i(1);
    std::for_each (std::begin(vektor), std::end(vektor), [&amp;vektor, &amp;ima, &amp;i](pametni &amp;k1) {
    std::for_each (std::begin (vektor)+i, std::end(vektor), [&amp;k1, &amp;ima](pametni &amp;k2) {
   // std::cout&lt;&lt;!DaLiSuIdenticne(  (*k1), (*k2) ) &lt;&lt; DaLiSeSijeku(  (*k1), (*k2) ) &lt;&lt;"\n" ;
        if (!DaLiSuIdenticne(  (*k1), (*k2) )  &amp;&amp; DaLiSeSijeku(  (*k1), (*k2) )) {
            ima = 1;
            std::cout&lt;&lt;"Presjecaju se kugle: "; k1-&gt;Ispisi(); std::cout&lt;&lt; "\n"; k2-&gt;Ispisi();
</font>        }
     } );
    i++;
    });
    if (!ima) std::cout&lt;&lt;"Ne postoje kugle koje se presjecaju!";

    return 0;
}

</pre>
</body>
</html>
