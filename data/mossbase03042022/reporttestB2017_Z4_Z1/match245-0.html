<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z4/Z1/student1583.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z4/Z1/student1583.cpp<p></p><pre>
<a name="1"></a><font color="#00FF00"><a href="match245-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_19.gif"/></a>

/B2017/2018: Zada√¶a 4, Zadatak 1
#include &lt;iostream&gt;
#include &lt;cmath&gt;
#include &lt;tuple&gt;
#include &lt;vector&gt;
#include &lt;new&gt;
#include &lt;memory&gt;
#include &lt;stdexcept&gt;
#include &lt;algorithm&gt;

using std::cout;
using std::cin;
using std::endl;

constexpr double pi{4*atan(1)};
constexpr double epsilon{1e-10};


class Kugla{

double x,y,z;
double r;

static bool Ispravan_poluprecnik (const Kugla &amp;kugla){ return kugla.DajPoluprecnik()&gt;=0; }

static bool Ista_vrijednost (double a, double b) {return std::fabs(a-b)&lt;=epsilon*(std::fabs(a)+std::fabs(b));} //da li su dva realna broja jednaka

static double Udaljenost_izmedju_tacaka (const std::tuple&lt;double,double,double&gt; &amp;koordinata1, const std::tuple&lt;double,double,double&gt; &amp;koordinata2) {
    double x1,x2,y1,y2,z1,z2; std::tie(x1,y1,z1) = koordinata1; std::tie(x2,y2,z2) = koordinata2;
    return std::sqrt( (x2-x1)*(x2-x1) + (y2-y1)*(y2-y1) + (z2-z1)*(z2-z1) );
}


public:

explicit Kugla(double r = 0 ) { PostaviPoluprecnik(r); PostaviCentar(0,0,0); }
Kugla(double x, double y, double z, double r = 0) {PostaviPoluprecnik(r); PostaviCentar(x,y,z);}
explicit Kugla(const std::tuple&lt;double, double, double&gt; &amp;centar, double r = 0){ PostaviPoluprecnik(r); PostaviCentar(centar); }
double DajX() const{return x;}
double DajY() const{return y;}
double DajZ() const{return z;}
std::tuple&lt;double, double, double&gt; DajCentar() const { return std::make_tuple(x,y,z); }
</font><a name="4"></a><font color="#FF00FF"><a href="match245-1.html#4" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_1.gif"/></a>

double DajPoluprecnik() const { return r; }
double DajPovrsinu() const { return 4*DajPoluprecnik()*DajPoluprecnik()*pi; }
double DajZapreminu() const { return (4*DajPoluprecnik()*DajPoluprecnik()*DajPoluprecnik()*pi)/3; }
</font>Kugla &amp;PostaviX(double x){ Kugla::x=x; return *this;}
Kugla &amp;PostaviY(double y){ Kugla::y=y; return *this;}
Kugla &amp;PostaviZ(double z){ Kugla::z=z; return *this;}
<a name="3"></a><font color="#00FFFF"><a href="match245-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_5.gif"/></a>

Kugla &amp;PostaviCentar(double x, double y, double z){ Kugla::x=x; Kugla::y=y; Kugla::z=z; return *this; }
Kugla &amp;PostaviCentar(const std::tuple&lt;double, double, double&gt; &amp;centar) { std::tie(x,y,z) = centar; return *this; }
Kugla &amp;PostaviPoluprecnik(double r) { if(r&lt;0) throw std::domain_error ("Ilegalan poluprecnik"); Kugla::r=r; return *this;}
void Ispisi() const { cout&lt;&lt;"{("&lt;&lt;DajX()&lt;&lt;","&lt;&lt;DajY()&lt;&lt;","&lt;&lt;DajZ()&lt;&lt;"),"&lt;&lt;DajPoluprecnik()&lt;&lt;"}\n"; }
</font><a name="0"></a><font color="#FF0000"><a href="match245-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_46.gif"/></a>

void Transliraj(double delta_x, double delta_y, double delta_z) {x+=delta_x; y+=delta_y; z+=delta_z;}

friend bool DaLiSuIdenticne(const Kugla &amp;k1, const Kugla &amp;k2) {
    return { Ista_vrijednost(k1.DajX(),k2.DajX()) &amp;&amp; Ista_vrijednost(k1.DajY(),k2.DajY()) &amp;&amp; Ista_vrijednost(k1.DajZ(),k2.DajZ()) &amp;&amp; Ista_vrijednost(k1.DajPoluprecnik(),k2.DajPoluprecnik()) };
}
friend bool DaLiSuPodudarne(const Kugla &amp;k1, const Kugla &amp;k2) { return Ista_vrijednost(k1.DajPoluprecnik(),k2.DajPoluprecnik()); }
friend bool DaLiSuKoncentricne(const Kugla &amp;k1, const Kugla &amp;k2) { return Ista_vrijednost(k1.DajX(),k2.DajX()) &amp;&amp; Ista_vrijednost(k1.DajY(),k2.DajY()) &amp;&amp; Ista_vrijednost(k1.DajZ(),k2.DajZ()); }
friend bool DaLiSeDodirujuIzvana(const Kugla &amp;k1, const Kugla &amp;k2) { return Ista_vrijednost(k1.DajPoluprecnik()+k2.DajPoluprecnik(),RastojanjeCentara(k1,k2)); }
friend bool DaLiSeDodirujuIznutra(const Kugla &amp;k1, const Kugla &amp;k2) { return { Ista_vrijednost(std::fabs(k1.DajPoluprecnik()-k2.DajPoluprecnik()),RastojanjeCentara(k1,k2)) &amp;&amp; ( !DaLiSuIdenticne(k1,k2) || (Ista_vrijednost(k1.DajPoluprecnik(),0) &amp;&amp; Ista_vrijednost(k2.DajPoluprecnik(),0)) )  };  }
friend bool DaLiSePreklapaju(const Kugla &amp;k1, const Kugla &amp;k2) { return k1.DajPoluprecnik()+k2.DajPoluprecnik()&gt;RastojanjeCentara(k1,k2); }
friend bool DaLiSeSijeku(const Kugla &amp;k1, const Kugla &amp;k2) { return { k1.DajPoluprecnik()+k2.DajPoluprecnik()&gt;RastojanjeCentara(k1,k2) &amp;&amp;
                            !k1.DaLiSadrzi(k2) &amp;&amp; !k2.DaLiSadrzi(k1)  }; }
bool DaLiSadrzi(const Kugla &amp;k) const{ return DajPoluprecnik()-k.DajPoluprecnik()&gt;RastojanjeCentara(*this,k) ||
                                        Ista_vrijednost( DajPoluprecnik()-k.DajPoluprecnik(),RastojanjeCentara(*this,k) ); }
friend double RastojanjeCentara(const Kugla &amp;k1, const Kugla &amp;k2) { return Udaljenost_izmedju_tacaka(k1.DajCentar(), k2.DajCentar()); }

};


int main(){
   
   
cout&lt;&lt;"Unesite broj kugla: ";
int n;
while(!(cin&gt;&gt;n) || n&lt;=0){
cout&lt;&lt;"Neispravan broj kugli, unesite ponovo!"&lt;&lt;endl;
std::cin.clear();
std::cin.ignore(10000,'\n');
}


try{
std::vector&lt;std::shared_ptr&lt;Kugla&gt;&gt; v;

for(int i=0;i&lt;n;i++){
    
        double x,y,z,r;

cout&lt;&lt;"Unesite centar "&lt;&lt;i+1&lt;&lt;". kugle: ";


    
while(!(cin&gt;&gt;x&gt;&gt;y&gt;&gt;z) ){
        cout&lt;&lt;"Neispravan centar"&lt;&lt;endl;
        cout&lt;&lt;"Unesite centar "&lt;&lt;i+1&lt;&lt;". kugle: ";
        std::cin.clear();
        std::cin.ignore(10000,'\n');
}

cout&lt;&lt;"Unesite poluprecnik "&lt;&lt;i+1&lt;&lt;". kugle: ";
cin&gt;&gt;r;

while(!cin || r&lt;0 ){
    
    cout&lt;&lt;"Ilegalan poluprecnik"&lt;&lt;endl;
    cout&lt;&lt;"Unesite centar "&lt;&lt;i+1&lt;&lt;". kugle: ";
        std::cin.clear();
        std::cin.ignore(10000,'\n');
        
        while(!(cin&gt;&gt;x&gt;&gt;y&gt;&gt;z) ){
        cout&lt;&lt;"Neispravan centar"&lt;&lt;endl;
        cout&lt;&lt;"Unesite centar "&lt;&lt;i+1&lt;&lt;". kugle: ";
        std::cin.clear();
        std::cin.ignore(10000,'\n');
}

cout&lt;&lt;"Unesite poluprecnik "&lt;&lt;i+1&lt;&lt;". kugle: ";
cin&gt;&gt;r;
        
}




std::shared_ptr&lt;Kugla&gt; pok_na_kuglu( std::make_shared&lt;Kugla&gt; (Kugla(x,y,z,r)) );

v.push_back(pok_na_kuglu);

}


cout&lt;&lt;"Unesite parametre translacije (delta_x,delta_y,delta_z): ";
double delta_x,delta_y,delta_z;
while(!(cin&gt;&gt;delta_x&gt;&gt;delta_y&gt;&gt;delta_z)){
    cout&lt;&lt;"Neispravni parametri translacije, unesite ponovo!"&lt;&lt;endl;
    std::cin.clear();
    std::cin.ignore(10000,'\n');
}

std::transform( v.begin(),v.end(),v.begin(), [delta_x,delta_y,delta_z]  (std::shared_ptr&lt;Kugla&gt; pok_na_kuglu) { pok_na_kuglu-&gt;Transliraj(delta_x,delta_y,delta_z); return pok_na_kuglu; } );
</font>
<a name="2"></a><font color="#0000FF"><a href="match245-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_15.gif"/></a>

std::sort( v.begin(),v.end(), [] (std::shared_ptr&lt;Kugla&gt; pok_na_kuglu1, std::shared_ptr&lt;Kugla&gt; pok_na_kuglu2 ) {return pok_na_kuglu1-&gt;DajZapreminu()&lt;pok_na_kuglu2-&gt;DajZapreminu(); } );

cout&lt;&lt;"Kugle nakon obavljenje transformacije imaju sljedece vrijednosti: "&lt;&lt;endl;
std::for_each(v.begin() ,v.end(), [] (std::shared_ptr&lt;Kugla&gt; pok_na_kuglu) { pok_na_kuglu-&gt;Ispisi(); } );

auto pok_na_max (std::max_element( v.begin(),v.end(),[] (std::shared_ptr&lt;Kugla&gt; pok_na_kuglu1, std::shared_ptr&lt;Kugla&gt; pok_na_kuglu2 ) { return pok_na_kuglu1-&gt;DajPovrsinu()&lt;pok_na_kuglu2-&gt;DajPovrsinu(); } ));
cout&lt;&lt;"Kugla sa najvecom povrsinom je: ";
if(pok_na_max!=v.end()) (*pok_na_max)-&gt;Ispisi();

int cnt(0);
bool nalaze_se_barem_dvije_kugle_koje_se_sijeku{false};

std::for_each(v.begin(),v.end(), [v,&amp;cnt,&amp;nalaze_se_barem_dvije_kugle_koje_se_sijeku] (std::shared_ptr&lt;Kugla&gt; p) { 
    std::for_each(v.begin()+cnt+1,v.end(),[p,&amp;nalaze_se_barem_dvije_kugle_koje_se_sijeku] (std::shared_ptr&lt;Kugla&gt; q) { if( DaLiSeSijeku(*p,*q) ) { nalaze_se_barem_dvije_kugle_koje_se_sijeku=true; cout&lt;&lt;"Presjecaju se kugle: "; p-&gt;Ispisi(); q-&gt;Ispisi();} } ); 
    cnt++;
} );

if(!nalaze_se_barem_dvije_kugle_koje_se_sijeku) cout&lt;&lt;"Ne postoje kugle koje se presjecaju!"&lt;&lt;endl;
}
catch(std::bad_alloc){
    cout&lt;&lt;"Problemi sa memorijom\n";
</font>}




return 0;
}
</pre>
</body>
</html>
