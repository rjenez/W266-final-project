<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z4/Z1/student6029.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z4/Z1/student3288.cpp<p></p><pre>
#include &lt;iostream&gt;
#include &lt;tuple&gt;
#include &lt;cmath&gt;
#include &lt;algorithm&gt;
#include &lt;memory&gt;
#include &lt;vector&gt;
#include &lt;stdexcept&gt;
using namespace std;
const double PI(4*atan(1));
const long double EPSILON(10e-10);
class Kugla{
    double x,y,z,r;
    static bool Jednaki(const double &amp;x, const double &amp;y){
<a name="2"></a><font color="#0000FF"><a href="match907-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_2.gif"/></a>

        return fabs(x-y)&lt;EPSILON*(fabs(x)+fabs(y));
    }
    public:
explicit Kugla(double r=0);
Kugla(double x, double y, double z, double r=0);
explicit Kugla(const tuple&lt;double, double, double&gt; &amp;centar, double r=0);
</font>double DajX() const;
double DajY() const;
double DajZ() const;
tuple&lt;double, double, double&gt; DajCentar() const;
double DajPoluprecnik() const;
double DajPovrsinu() const;
double DajZapreminu() const;
Kugla &amp;PostaviX(double x);
Kugla &amp;PostaviY(double y);
Kugla &amp;PostaviZ(double z);
Kugla &amp;PostaviCentar(double x, double y, double z);
Kugla &amp;PostaviCentar(tuple&lt;double, double, double&gt; &amp;centar);
Kugla &amp;PostaviPoluprecnik(double r);
void Ispisi() const;
void Transliraj(double delta_x, double delta_y, double delta_z);
friend bool DaLiSuIdenticne(const Kugla &amp;k1, const Kugla &amp;k2);
friend bool DaLiSuPodudarne(const Kugla &amp;k1, const Kugla &amp;k2);
friend bool DaLiSuKoncentricne(const Kugla &amp;k1, const Kugla &amp;k2);
friend bool DaLiSeDodirujuIzvana(const Kugla &amp;k1, const Kugla &amp;k2);
friend bool DaLiSeDodirujuIznutra(const Kugla &amp;k1, const Kugla &amp;k2);
friend bool DaLiSePreklapaju(const Kugla &amp;k1, const Kugla &amp;k2);
friend bool DaLiSeSijeku(const Kugla &amp;k1, const Kugla &amp;k2);
bool DaLiSadrzi(const Kugla &amp;k) const;
friend double RastojanjeCentara(const Kugla &amp;k1, const Kugla &amp;k2);
};
Kugla::Kugla(double r):x(0),y(0),z(0){
    if(r&lt;0) throw domain_error("Ilegalan poluprecnik");
    Kugla::r=r;
}
Kugla::Kugla(double x, double y, double z, double r):x(x),y(y),z(z){
    if(r&lt;0) throw domain_error("Ilegalan poluprecnik");
    Kugla::r=r;
}
//expllicit se ne smije ponavljati i default parametar stavljamo samo u deklaraciji
Kugla::Kugla(const tuple&lt;double, double, double&gt; &amp;centar, double r):x(get&lt;0&gt;(centar)), y(get&lt;1&gt;(centar)), z(get&lt;2&gt;(centar)){
    if(r&lt;0) throw domain_error("Ilegalan poluprecnik");
    Kugla::r=r;
}
double Kugla::DajX() const{return x;}
double Kugla::DajY() const{return y;}
double Kugla::DajZ() const{return z;}
tuple&lt;double, double, double&gt; Kugla::DajCentar() const{
    return make_tuple(x,y,z);
}
double Kugla::DajPoluprecnik() const{return r;}
double Kugla::DajPovrsinu() const{
    return 4*r*r*PI;
}
double Kugla::DajZapreminu() const{
    return (4./3)*r*r*r*PI;
}
Kugla &amp;Kugla::PostaviX(double x){Kugla::x=x; return *this;}
Kugla &amp;Kugla::PostaviY(double y){Kugla::y=y; return *this;}
Kugla &amp;Kugla::PostaviZ(double z){Kugla::z=z; return *this;}
Kugla &amp;Kugla::PostaviCentar(double x, double y, double z){
    Kugla::x=x;
    Kugla::y=y;
    Kugla::z=z;
    return *this;
}
<a name="0"></a><font color="#FF0000"><a href="match907-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_5.gif"/></a>

Kugla &amp;Kugla::PostaviCentar(tuple&lt;double, double, double&gt; &amp;centar){
    x=get&lt;0&gt;(centar);
    y=get&lt;1&gt;(centar);
    z=get&lt;2&gt;(centar);
    return *this;
}
Kugla &amp;Kugla::PostaviPoluprecnik(double r){
    if(r&lt;0) throw domain_error("Ilegalan poluprecnik");
    Kugla::r=r;
    return *this;
}
void Kugla::Ispisi() const{
    cout&lt;&lt;"{("&lt;&lt;x&lt;&lt;","&lt;&lt;y&lt;&lt;","&lt;&lt;z&lt;&lt;"),"&lt;&lt;r&lt;&lt;"}"&lt;&lt;endl;
</font>}
<a name="3"></a><font color="#00FFFF"><a href="match907-0.html#3" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_2.gif"/></a>

void Kugla::Transliraj(double delta_x, double delta_y, double delta_z){
    x+=delta_x;
    y+=delta_y;
    z+=delta_z;
}
bool DaLiSuIdenticne(const Kugla &amp;k1, const Kugla &amp;k2){
</font>    return (Kugla::Jednaki(k1.x,k2.x) &amp;&amp; Kugla::Jednaki(k1.y,k2.y) &amp;&amp; Kugla::Jednaki(k1.z,k2.z) &amp;&amp; Kugla::Jednaki(k1.r,k2.r));
}
bool DaLiSuPodudarne(const Kugla &amp;k1, const Kugla &amp;k2){
    return Kugla::Jednaki(k1.r,k2.r);
}
bool DaLiSuKoncentricne(const Kugla &amp;k1, const Kugla &amp;k2){
    return (Kugla::Jednaki(k1.x,k2.x) &amp;&amp; Kugla::Jednaki(k1.y,k2.y) &amp;&amp; Kugla::Jednaki(k1.z,k2.z));
}
double RastojanjeCentara(const Kugla &amp;k1, const Kugla &amp;k2){
    return sqrt(pow(k1.x-k2.x,2)+pow(k1.y-k2.y,2)+pow(k1.z-k2.z,2));
}
bool DaLiSeDodirujuIzvana(const Kugla &amp;k1, const Kugla &amp;k2){
    return Kugla::Jednaki(k1.r+k2.r,RastojanjeCentara(k1,k2));
}
bool DaLiSeDodirujuIznutra(const Kugla &amp;k1, const Kugla &amp;k2){
    return Kugla::Jednaki(fabs(k1.r-k2.r),RastojanjeCentara(k1,k2));
}
bool DaLiSePreklapaju(const Kugla &amp;k1, const Kugla &amp;k2){
    return RastojanjeCentara(k1,k2)&lt;=k1.r+k2.r;
}
bool DaLiSeSijeku(const Kugla &amp;k1, const Kugla &amp;k2){
    return RastojanjeCentara(k1,k2)&lt;k1.r+k2.r &amp;&amp; RastojanjeCentara(k1,k2)&gt;fabs(k1.r-k2.r);
}
bool Kugla::DaLiSadrzi(const Kugla &amp;k) const{
    return RastojanjeCentara(*this,k)&lt;=this-&gt;r-k.r;
}
int main ()
{
    /*Kugla k(3,4,5,3);
    k.Ispisi();
    Kugla k1(3,4,5,2);
    cout&lt;&lt;DaLiSuIdenticne(k,k1)&lt;&lt;endl;
    cout&lt;&lt;k.DaLiSadrzi(k1)&lt;&lt;endl;
    cout&lt;&lt;DaLiSeSijeku(k,k1)&lt;&lt;endl;
    cout&lt;&lt;DaLiSePreklapaju(k,k1);
    */
    cout&lt;&lt;"Unesite broj kugla: ";
    int n;
    cin&gt;&gt;n;
    while(!cin || n&lt;=0){
        cout&lt;&lt;"Neispravan broj kugli, unesite ponovo!"&lt;&lt;endl;
        cin.clear();
<a name="4"></a><font color="#FF00FF"><a href="match907-0.html#4" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_1.gif"/></a>

        cin.ignore(1000,'\n');
        cin&gt;&gt;n;
    }
    vector&lt;shared_ptr&lt;Kugla&gt;&gt; v(n);
    for(int i=0;i&lt;n;i++){
        cout&lt;&lt;"Unesite centar "&lt;&lt;i+1&lt;&lt;". kugle: ";
</font>        double x,y,z,r;
<a name="1"></a><font color="#00FF00"><a href="match907-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_4.gif"/></a>

        cin&gt;&gt;x&gt;&gt;y&gt;&gt;z;
        if(!cin){
          cout&lt;&lt;"Neispravan centar"&lt;&lt;endl;
          cin.clear();
          cin.ignore(1000,'\n');
          i--;
        }else{
        cout&lt;&lt;"Unesite poluprecnik "&lt;&lt;i+1&lt;&lt;". kugle: ";
        cin&gt;&gt;r;
        if(!cin){
          cout&lt;&lt;"Ilegalan poluprecnik"&lt;&lt;endl;
          cin.clear();
          cin.ignore(1000,'\n');
</font>          i--;
        }
        else{
            try{
<a name="5"></a><font color="#FF0000"><a href="match907-0.html#5" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_1.gif"/></a>

            v.at(i)=make_shared&lt;Kugla&gt;(x,y,z,r);
            }
            catch(domain_error izuzetak){
                cout&lt;&lt;izuzetak.what()&lt;&lt;endl;
                i--;
</font>            }
        }
        }
    }
    cout&lt;&lt;"Unesite parametre translacije (delta_x,delta_y,delta_z): ";
    double x,y,z;
    cin&gt;&gt;x&gt;&gt;y&gt;&gt;z;
    while(!cin){
        cout&lt;&lt;"Neispravni parametri translacije, unesite ponovo!"&lt;&lt;endl;
        cin.clear();
        cin.ignore(1000,'\n');
<a name="6"></a><font color="#00FF00"><a href="match907-0.html#6" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_1.gif"/></a>

        cin&gt;&gt;x&gt;&gt;y&gt;&gt;z;
    }
    transform(v.begin(), v.end(), v.begin(),[x,y,z](shared_ptr&lt;Kugla&gt; &amp;k){k-&gt;Transliraj(x,y,z); return k;});
</font>    sort(v.begin(),v.end(),[](const shared_ptr&lt;Kugla&gt; &amp;k1,const shared_ptr&lt;Kugla&gt; &amp;k2){return k1-&gt;DajZapreminu()&lt;k2-&gt;DajZapreminu();});
    cout&lt;&lt;"Kugle nakon obavljenje transformacije imaju sljedece vrijednosti: "&lt;&lt;endl;
    for_each(v.begin(),v.end(),[](shared_ptr&lt;Kugla&gt; &amp;k){k-&gt;Ispisi();});
    cout&lt;&lt;"Kugla sa najvecom povrsinom je: ";
    auto najveci=max_element(v.begin(),v.end(),[](const shared_ptr&lt;Kugla&gt; &amp;k1,const shared_ptr&lt;Kugla&gt; &amp;k2){return k2-&gt;DajPovrsinu()&gt;k1-&gt;DajPovrsinu();});
    (*najveci)-&gt;Ispisi();
    int br(0);
    bool nesjekuse(true);
    for_each(v.begin(),v.end(),[&amp;v,&amp;br,&amp;nesjekuse](const shared_ptr&lt;Kugla&gt; &amp;k1){
        br++;
        for_each(v.begin()+br,v.end(),[&amp;k1, &amp;nesjekuse](const shared_ptr&lt;Kugla&gt; &amp;k2){
            if(DaLiSeSijeku(*k1,*k2)){
                nesjekuse=false;
                cout&lt;&lt;"Presjecaju se kugle: ";
                k1-&gt;Ispisi();
                k2-&gt;Ispisi();
            }
            
        });
    });
    if(nesjekuse) cout&lt;&lt;"Ne postoje kugle koje se presjecaju!";
	return 0;
}
</pre>
</body>
</html>
