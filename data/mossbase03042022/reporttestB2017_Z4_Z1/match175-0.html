<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z4/Z1/student6216.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z4/Z1/student6216.cpp<p></p><pre>
<a name="2"></a><font color="#0000FF"><a href="match175-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_17.gif"/></a>

/B2017/2018: ZadaÄ‡a 4, Zadatak 1
#include &lt;iostream&gt;
#include &lt;stdexcept&gt;
#include &lt;cmath&gt;
#include &lt;tuple&gt;
#include &lt;vector&gt;
#include &lt;memory&gt;
#include &lt;utility&gt;
#include &lt;algorithm&gt;
#define PI 4*atan(1)
#define EPS 10e-10
using namespace std;
class Kugla{
    double x, y, z, r;
public: 
    explicit Kugla(double r = 0){ if(r&lt;0) throw domain_error("Ilegalan poluprecnik"); Kugla::x = 0; Kugla::y = 0; Kugla::z = 0; Kugla::r = r; }
    Kugla(double x, double y, double z, double r = 0){ if(r&lt;0) throw domain_error("Ilegalan poluprecnik"); Kugla::x = x; Kugla::y = y; Kugla::z = z; Kugla::r = r;}
    explicit Kugla(const tuple&lt;double, double, double&gt; &amp;centar, double r = 0){ 
        if(r&lt;0) throw domain_error("Ilegalan poluprecnik");
        x = get&lt;0&gt;(centar); y = get&lt;1&gt;(centar); z = get&lt;2&gt;(centar); Kugla::r = r;
    }
    double DajX() const{ return x; }
    double DajY() const{ return y; }
    double DajZ() const{ return z; }
    
    tuple&lt;double, double, double&gt; DajCentar() const { return tuple&lt;double, double, double&gt;(x,y,z); }
    double DajPoluprecnik () const{ return r; }
    double DajPovrsinu() const{ return 4*PI*r*r;}
    double DajZapreminu() const{ return (4/3)*r*r*r*PI; }
    Kugla &amp;PostaviX(double x){
        Kugla::x = x; return *this;
    }
    Kugla &amp;PostaviY(double y){
</font>        Kugla::y = y; return *this;
    }
    Kugla &amp;PostaviZ(double z){
        Kugla::z = z; return *this;
    }
    
<a name="1"></a><font color="#00FF00"><a href="match175-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_25.gif"/></a>

    Kugla &amp;PostaviCentar(double x, double y, double z){
        Kugla::x = x; Kugla::y = y; Kugla::z = z; return *this;
    }
    Kugla &amp;PostaviCentar(const tuple&lt;double, double, double&gt; &amp;centar){
        Kugla::x = get&lt;0&gt;(centar); Kugla::y = get&lt;1&gt;(centar); Kugla::z = get&lt;2&gt;(centar); return *this;
    }
    Kugla &amp;PostaviPoluprecnik(double r){
        if(r&lt;0) throw domain_error("Ilegalan poluprecnik");
        Kugla::r = r; return *this;
    }
    
    void Ispisi() const{
        cout &lt;&lt; "{(" &lt;&lt; DajX() &lt;&lt; "," &lt;&lt; DajY() &lt;&lt; "," &lt;&lt; DajZ() &lt;&lt; ")," &lt;&lt; DajPoluprecnik() &lt;&lt; "}"; 
    }
    void Transliraj(double delta_x, double delta_y, double delta_z){
        Kugla::x += delta_x; Kugla::y += delta_y; Kugla::z += delta_z; 
    }
    friend bool DaLiSuIdenticne(const Kugla &amp;k1, const Kugla &amp;k2);
    friend bool DaLiSuPodudarne(const Kugla &amp;k1, const Kugla &amp;k2);
    friend bool DaLiSuKoncentricne(const Kugla &amp;k1, const Kugla &amp;k2);
    friend bool DaLiSeDodirujuIzvana(const Kugla &amp;k1, const Kugla &amp;k2);
    friend double RastojanjeCentara(const Kugla &amp;k1, const Kugla &amp;k2);
    friend bool DaLiSeSijeku(const Kugla &amp;k1, const Kugla &amp;k2);
    friend bool DaLiSePreklapaju(const Kugla &amp;k1, const Kugla &amp;k2);
    friend bool DaLiSadrzi(const Kugla &amp;k1, const Kugla &amp;k2);
    

    };
    
bool DaLiSuIdenticne(const Kugla &amp;k1, const Kugla &amp;k2){
     if (DaLiSuKoncentricne(k1,k2) &amp;&amp; fabs(k1.DajPoluprecnik()-k2.DajPoluprecnik())&lt;EPS*(fabs(k1.DajPoluprecnik())+fabs(k2.DajPoluprecnik()))) return true; return false;
}
bool DaLiSuPodudarne(const Kugla &amp;k1, const Kugla &amp;k2){
    return fabs(k1.DajPoluprecnik()-k2.DajPoluprecnik())&lt;EPS*(fabs(k1.DajPoluprecnik())+fabs(k2.DajPoluprecnik()));
}
bool DaLiSuKoncentricne(const Kugla &amp;k1, const Kugla &amp;k2){
    return fabs(k1.DajX()-k2.DajX())&lt;EPS*(fabs(k1.DajX())+fabs(k2.DajX()))
    &amp;&amp; fabs(k1.DajY()-k2.DajY())&lt;EPS*(fabs(k1.DajY())+fabs(k2.DajY()))
</font><a name="0"></a><font color="#FF0000"><a href="match175-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_53.gif"/></a>

    &amp;&amp; fabs(k1.DajZ()-k2.DajZ())&lt;EPS*(fabs(k1.DajZ())+fabs(k2.DajZ()));
}
double RastojanjeCentara(const Kugla &amp;k1, const Kugla &amp;k2){
        return sqrt(pow(k1.DajX() - k2.DajX(), 2) + pow(k1.DajY() - k2.DajY(), 2) + pow(k1.DajZ() - k2.DajZ(), 2));
    }
bool DaLiSeDodirujuIzvana(const Kugla &amp;k1, const Kugla &amp;k2){
    return fabs(RastojanjeCentara(k1,k2)-(k1.DajPoluprecnik() + k2.DajPoluprecnik()))&lt;EPS*(fabs(RastojanjeCentara(k1,k2))+fabs(k1.DajPoluprecnik() + k2.DajPoluprecnik()));
   // return RastojanjeCentara(k1, k2) == (k1.DajPoluprecnik() + k2.DajPoluprecnik());
}
bool DaLiSeDodirujuIznutra(const Kugla &amp;k1, const Kugla &amp;k2){
     if(fabs(RastojanjeCentara(k1, k2)-(k1.DajPoluprecnik() - k2.DajPoluprecnik()))&lt;EPS*(fabs(RastojanjeCentara(k1,k2))+fabs(k1.DajPoluprecnik() - k2.DajPoluprecnik()))) 
     return true; return false;
}
bool DaLiSadrzi(const Kugla &amp;k1, const Kugla &amp;k2){
    if( RastojanjeCentara(k1, k2) &lt; (k1.DajPoluprecnik() - k2.DajPoluprecnik()) ) return true; return false;
}
bool DaLiSeSijeku(const Kugla &amp;k1, const Kugla &amp;k2){
    return (RastojanjeCentara(k1, k2) &lt; (k1.DajPoluprecnik() + k2.DajPoluprecnik())) &amp;&amp; (sqrt(pow(k1.DajPoluprecnik()-k2.DajPoluprecnik(),2)) &lt; RastojanjeCentara(k1,k2));
 } 
bool DaLiSePreklapaju(const Kugla &amp;k1, const Kugla &amp;k2){
    return (DaLiSeSijeku(k1,k2) || DaLiSeDodirujuIznutra(k1, k2) || DaLiSadrzi(k1, k2));
}






int main ()
{   bool provjera(false);
    int n;
    bool ok(false);
    cout &lt;&lt; "Unesite broj kugla: ";
    while(!ok){
        
    cin &gt;&gt; n;
    
    
            if(cin.fail() || n&lt;=0)
        {
            cin.clear();
            cin.ignore(10000,'\n');
            cout &lt;&lt; "Neispravan broj kugli, unesite ponovo!\n";
            ok = false;
        } else
        {   
            cin.ignore(10000,'\n');
            ok = true;
            break;
        }
         }
   
    
    vector&lt;shared_ptr&lt;Kugla&gt;&gt; v;
    
    for(int i=0; i&lt;n; i++){
        double x, y, z, r;
        for(;;){
            provjera=false;
            ok=false;
        while(!ok){
        cout &lt;&lt; "Unesite centar " &lt;&lt;i+1&lt;&lt;". kugle: ";
        cin &gt;&gt; x &gt;&gt; y &gt;&gt; z;
         
            if(cin.fail())
        {
            cin.clear();
            cin.ignore(10000,'\n');
            cout &lt;&lt; "Neispravan centar\n";
            ok = false;
        } else
        {   
            cin.ignore(10000,'\n');
            ok = true;
            break;
        }
        
       }
       ok=false;
        while(!ok){
            
        cout &lt;&lt; "Unesite poluprecnik "&lt;&lt;i+1&lt;&lt;". kugle: ";
        cin &gt;&gt; r;
        
        
            if(cin.fail() || r&lt;0)
        {
            cin.clear();
            cin.ignore(10000,'\n');
            cout &lt;&lt; "Ilegalan poluprecnik\n";
            provjera = true;
            ok = false;
        } else 
        {   
            cin.ignore(10000,'\n');
            ok = true;
            break;
        }
        
         if(provjera) break;
        }
        if(!provjera) break;
        }
      //  }
       /* if(!ok){
            if(cin.fail())
        {
            cin.clear();
            cout &lt;&lt; "Unesite ponovo";
            ok = false;
        } else
        {   
            cin.ignore();
            ok = true;
            break;
        }
        } */
        
     //   v[i]-&gt;PostaviPoluprecnik(r);
        v.push_back(make_shared&lt;Kugla&gt;(x,y,z,r));
    }
    ok = false;
    double dx,dy,dz;
    cout &lt;&lt; "Unesite parametre translacije (delta_x,delta_y,delta_z): ";
    while(!ok){
    cin &gt;&gt; dx &gt;&gt; dy &gt;&gt; dz;
    
            if(cin.fail())
        {
            cin.clear();
            cin.ignore(10000,'\n');
            cout &lt;&lt; "Neispravni parametri translacije, unesite ponovo!\n";
            ok = false;
        } else
        {   
            cin.ignore(10000,'\n');
            ok = true;
            break;
        }
        
    
    
    }
    for(int i=0; i&lt;n; i++){
        v[i]-&gt;Transliraj(dx,dy,dz);
    }
    sort(v.begin(),v.end(),[](shared_ptr&lt;Kugla&gt; p1, shared_ptr&lt;Kugla&gt; p2){
        if(p1-&gt;DajPoluprecnik() &lt; p2-&gt;DajPoluprecnik()) return true; else return false;
    });
    cout &lt;&lt; "Kugle nakon obavljenje transformacije imaju sljedece vrijednosti: \n";
    //treba foreach
    for(int i=0; i&lt;n; i++){
        v[i]-&gt;Ispisi(); cout &lt;&lt; "\n";
    }
    shared_ptr&lt;Kugla&gt; max = *(max_element(v.begin(),v.end(),[](shared_ptr&lt;Kugla&gt; p1, shared_ptr&lt;Kugla&gt; p2){
        if(p1-&gt;DajPovrsinu() &lt; p2-&gt;DajPovrsinu()) return true; else return false;
    }));
    cout &lt;&lt; "Kugla sa najvecom povrsinom je: " ; max-&gt;Ispisi();
   int brojac(0);
    for_each(v.begin(), v.end(),[&amp;brojac,&amp;v](shared_ptr&lt;Kugla&gt; p1){
        
        for_each(v.begin()+brojac, v.end(), [&amp;brojac,&amp;p1](shared_ptr&lt;Kugla&gt; p2){
            if(DaLiSeSijeku(*p1,*p2)){ cout &lt;&lt; "\nPresjecaju se kugle: ";
            p1-&gt;Ispisi(); cout &lt;&lt; "\n"; p2-&gt;Ispisi(); brojac++; }
        });
    });
    if(brojac==0) cout &lt;&lt; "\nNe postoje kugle koje se presjecaju!";
	return 0;
</font>}
</pre>
</body>
</html>
