<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z4/Z1/student2941.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z4/Z1/student6053.cpp<p></p><pre>
<a name="1"></a><font color="#00FF00"><a href="match156-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_6.gif"/></a>

/B2017/2018: ZadaÄ‡a 4, Zadatak 1
#include &lt;iostream&gt;
#include &lt;cmath&gt;
#include &lt;vector&gt;
#include &lt;algorithm&gt;
#include &lt;stdexcept&gt;
#include &lt;tuple&gt;
#include &lt;memory&gt;

using std::vector;
using std::cout;
using std::cin;

const double PI=4*atan(1.);
const double epsilon=0.0000000001;

class Kugla{
    double x;
    double y;
    double z;
    double r;
    public:
  explicit Kugla(double r=0){
  if(r&lt;0) throw std::domain_error("Ilegalan poluprecnik");
  Kugla::x=0;
  Kugla::y=0;
  Kugla::z=0;
  Kugla::r=r;
  }
  Kugla(double x,double y,double z,double r=0){
  if(r&lt;0) throw std::domain_error("Ilegalan poluprecnik");
</font>  Kugla::x=x;
  Kugla::y=y;
  Kugla::z=z;
  Kugla::r=r;
  }
  explicit Kugla(const std::tuple&lt;double,double,double&gt;&amp;centar,double r=0){ 
      if(r&lt;0) throw std::domain_error("Ilegalan poluprecnik");
      Kugla::x=std::get&lt;0&gt;(centar);
      Kugla::y=std::get&lt;1&gt;(centar);
      Kugla::z=std::get&lt;2&gt;(centar);
      Kugla::r=r;
  }
  double DajX() const { return x;}
<a name="3"></a><font color="#00FFFF"><a href="match156-0.html#3" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_5.gif"/></a>

  double DajY() const { return y;}
  double DajZ() const { return z;}
  std::tuple&lt;double,double,double&gt;DajCentar() const {
  return std::make_tuple(Kugla::x,Kugla::y,Kugla::z);
  }
  double DajPoluprecnik() const { return r;}
  double DajPovrsinu() const { return 4.*r*r*PI;}
  double DajZapreminu() const { return (4./3)*r*r*r*PI;}
  Kugla &amp;PostaviX(double x){ Kugla::x=x; return *this;}
  Kugla &amp;PostaviY(double y){ Kugla::y=y; return *this;}
</font>  Kugla &amp;PostaviZ(double z){ Kugla::z=z; return *this;}
<a name="4"></a><font color="#FF00FF"><a href="match156-0.html#4" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_2.gif"/></a>

  Kugla &amp;PostaviCentar(double x,double y,double z){
      Kugla::x=x;
      Kugla::y=y; 
      Kugla::z=z; 
      return *this;
  }
  Kugla &amp;PostaviCentar(std::tuple&lt;double,double,double&gt;&amp;centar){
      Kugla::x=std::get&lt;0&gt;(centar);
      Kugla::y=std::get&lt;1&gt;(centar);
</font>      Kugla::z=std::get&lt;2&gt;(centar);
      return *this;
  }
<a name="2"></a><font color="#0000FF"><a href="match156-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_6.gif"/></a>

  Kugla &amp;PostaviPoluprecnik(double r){
      if(r&lt;0) throw std::domain_error("Ilegalan poluprecnik");
      Kugla::r=r; 
      return *this;
  }
  
  void Ispisi() const{ cout&lt;&lt;"{("&lt;&lt;x&lt;&lt;","&lt;&lt;y&lt;&lt;","&lt;&lt;z&lt;&lt;"),"&lt;&lt;r&lt;&lt;"}"&lt;&lt;std::endl;}
  void Transliraj(double delta_x,double delta_y,double delta_z){ Kugla::x+=delta_x; Kugla::y+=delta_y; Kugla::z+=delta_z;}
  
  friend bool DaLiSuIdenticne(const Kugla &amp;k1,const Kugla &amp;k2);
  friend bool DaLiSuPodudarne(const Kugla &amp;k1,const Kugla &amp;k2);
</font>  friend bool DaLiSuKoncentricne(const Kugla &amp;k1,const Kugla &amp;k2);
  friend bool DaLiSeDodirujuIzvana(const Kugla &amp;k1,const Kugla &amp;k2);
  friend bool DaLiSeDodirujuIznutra(const Kugla &amp;k1,const Kugla &amp;k2);
<a name="0"></a><font color="#FF0000"><a href="match156-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_64.gif"/></a>

  friend bool DaLiSePreklapaju(const Kugla &amp;k1,const Kugla &amp;k2);
  friend bool DaLiSeSijeku(const Kugla &amp;k1,const Kugla &amp;k2);
  friend double RastojanjeCentara(const Kugla &amp;k1,const Kugla &amp;k2);
  bool DaLiSadrzi(const Kugla &amp;k) const{
    std::tuple&lt;double,double,double&gt;t(k.DajCentar());
    double d=sqrt((Kugla::x-std::get&lt;0&gt;(t))*(Kugla::x-std::get&lt;0&gt;(t))+(Kugla::y-std::get&lt;1&gt;(t))*(Kugla::y-std::get&lt;1&gt;(t))+(Kugla::z-std::get&lt;2&gt;(t))*(Kugla::z-std::get&lt;2&gt;(t)));
    if(d&lt;fabs(Kugla::r-k.DajPoluprecnik())) return true;
    return false;
 }
 };
    double RastojanjeCentara(const Kugla &amp;k1,const Kugla &amp;k2){
    std::tuple&lt;double,double,double&gt;t1(k1.DajCentar());
    std::tuple&lt;double,double,double&gt;t2(k2.DajCentar());
    return sqrt((std::get&lt;0&gt;(t1)-std::get&lt;0&gt;(t2))*(std::get&lt;0&gt;(t1)-std::get&lt;0&gt;(t2))+(std::get&lt;1&gt;(t1)-std::get&lt;1&gt;(t2))*(std::get&lt;1&gt;(t1)-std::get&lt;1&gt;(t2))+(std::get&lt;2&gt;(t1)-std::get&lt;2&gt;(t2))*(std::get&lt;2&gt;(t1)-std::get&lt;2&gt;(t2)));}
    bool DaLiSuKoncentricne(const Kugla &amp;k1,const Kugla &amp;k2){
    if(k1.DajCentar()==k2.DajCentar()) return true;  
    return false;}
    bool DaLiSuPodudarne(const Kugla &amp;k1,const Kugla &amp;k2){
    if(fabs(k1.DajPoluprecnik()-k2.DajPoluprecnik())&lt;epsilon) return true;
    return false;}

    bool DaLiSeDodirujuIzvana(const Kugla &amp;k1,const Kugla &amp;k2){
      return k1.DajPoluprecnik()+k2.DajPoluprecnik()==RastojanjeCentara(k1,k2);}
    bool DaLiSeDodirujuIznutra(const Kugla &amp;k1,const Kugla &amp;k2){
    return fabs(k1.DajPoluprecnik()-k2.DajPoluprecnik())==RastojanjeCentara(k1,k2);}
    bool DaLiSePreklapaju(const Kugla &amp;k1,const Kugla &amp;k2){
    if(DaLiSeSijeku(k1,k2)) return true;
    return false;} 
    bool DaLiSeSijeku(const Kugla &amp;k1,const Kugla &amp;k2){
    if(k1.DajPoluprecnik()+k2.DajPoluprecnik()&gt;RastojanjeCentara(k1,k2) &amp;&amp; fabs(k1.DajPoluprecnik()-k2.DajPoluprecnik())&lt;RastojanjeCentara(k1,k2)) return true;
    return false;}

    bool DaLiSuIdenticne(const Kugla &amp;k1,const Kugla &amp;k2){
    std::tuple&lt;double,double,double&gt;t1(k1.DajCentar());
    std::tuple&lt;double,double,double&gt;t2(k2.DajCentar());
    double r1(k1.DajPoluprecnik());
    double r2(k2.DajPoluprecnik());
    if(fabs(r1-r2)&lt;epsilon &amp;&amp; t1==t2) return true; 
    return false;}
int main ()
{
    vector&lt;std::shared_ptr&lt;Kugla&gt;&gt;v;
    int l;
    cout&lt;&lt;"Unesite broj kugla: ";
    cin&gt;&gt;l;
    while(!cin || l&lt;=0){
         cout&lt;&lt;"Neispravan broj kugli, unesite ponovo!"&lt;&lt;std::endl;
         cin.clear(); 
         cin.ignore(10000, '\n'); 
         cin&gt;&gt;l;
    }
    double x,y,z,r;
    for(int i=1;i&lt;=l;i++){
        cout&lt;&lt;"Unesite centar "&lt;&lt;i&lt;&lt;". kugle: ";
        cin&gt;&gt;x&gt;&gt;y&gt;&gt;z;
        cout&lt;&lt;"Unesite poluprecnik "&lt;&lt;i&lt;&lt;". kugle: ";
        cin&gt;&gt;r;
       Kugla k(x,y,z,r);
        v.push_back(std::make_shared&lt;Kugla&gt;(k));
    }
    cout&lt;&lt;"Unesite parametre translacije (delta_x,delta_y,delta_z): ";
    double d_x,d_y,d_z;
    cin&gt;&gt;d_x&gt;&gt;d_y&gt;&gt;d_z;
    transform(v.begin(),v.end(),v.begin(),[d_x,d_y,d_z](std::shared_ptr&lt;Kugla&gt;k){k-&gt;Transliraj(d_x,d_y,d_z); return k;});
    sort(v.begin(),v.end(),[](std::shared_ptr&lt;Kugla&gt;k1,std::shared_ptr&lt;Kugla&gt;k2){return k1-&gt;DajZapreminu()&lt;k2-&gt;DajZapreminu();});
    cout&lt;&lt;"Kugle nakon obavljenje transformacije imaju sljedece vrijednosti:"&lt;&lt;std::endl;
    for_each(v.begin(),v.end(),[](std::shared_ptr&lt;Kugla&gt;k){k-&gt;Ispisi();});
    auto pokazivac=max_element(v.begin(),v.end(),[](std::shared_ptr&lt;Kugla&gt;k1,std::shared_ptr&lt;Kugla&gt;k2){return k1-&gt;DajPovrsinu()&lt;k2-&gt;DajPovrsinu();});
    cout&lt;&lt;"Kugla sa najvecom povrsinom je: ";(*pokazivac)-&gt;Ispisi();
    vector&lt;std::pair&lt;std::shared_ptr&lt;Kugla&gt;,std::shared_ptr&lt;Kugla&gt;&gt;&gt;vektor1;
    for_each(v.begin(),v.end(),[&amp;vektor1,v](std::shared_ptr&lt;Kugla&gt;p1){
        for_each(v.begin(),v.end(),[&amp;vektor1,v,p1](std::shared_ptr&lt;Kugla&gt;p2){
            if(DaLiSeSijeku(*p1,*p2) &amp;&amp; vektor1.size()==0) vektor1.push_back(std::make_pair(p1,p2));
            else if(DaLiSeSijeku(*p1,*p2) &amp;&amp; vektor1.size()&gt;0){
                int a(0);
                for_each(vektor1.begin(),vektor1.end(),[p1,p2,&amp;a](std::pair&lt;std::shared_ptr&lt;Kugla&gt;,std::shared_ptr&lt;Kugla&gt;&gt;par){
                    if((par).first==p2 &amp;&amp; (par).second==p1) a++;});
                    if(a==0) vektor1.push_back(make_pair(p1,p2));
                    else a=0;
            };});;});
        for_each(vektor1.begin(),vektor1.end(),[](std::pair&lt;std::shared_ptr&lt;Kugla&gt;,std::shared_ptr&lt;Kugla&gt;&gt;k){cout&lt;&lt;"Presjecaju se kugle: ";(k).first-&gt;Ispisi();(k).second-&gt;Ispisi();});
        if(vektor1.size()==0) cout&lt;&lt;"Ne postoje kugle koje se presjecaju!";
	return 0;
</font>}</pre>
</body>
</html>
