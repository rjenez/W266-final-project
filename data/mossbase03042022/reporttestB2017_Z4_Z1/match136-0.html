<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z4/Z1/student9238.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z4/Z1/student9238.cpp<p></p><pre>
<a name="0"></a><font color="#FF0000"><a href="match136-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_99.gif"/></a>

/B2017/2018: ZadaÄ‡a 4, Zadatak 1
#include &lt;iostream&gt;
#include &lt;cmath&gt;
#include &lt;tuple&gt;
#include &lt;vector&gt;
#include &lt;memory&gt;
#include &lt;algorithm&gt;
#include &lt;stdexcept&gt;

using namespace std;

class Kugla
{
    double x,y,z,r;
    
    double pi=atan(1)*4;
    
    double ep=pow(10,-10);
    
    public:
    
    explicit Kugla(double r = 0):x(0),y(0),z(0){
        if (r&lt;0) throw domain_error("Ilegalan poluprecnik");
    }
    
    Kugla(double x, double y, double z, double r = 0):x(x),y(y),z(z),r(r){}
    
    explicit Kugla(const std::tuple&lt;double, double, double&gt; &amp;centar, double r = 0){
        
        double x,y,z;
        tie(x,y,z)=centar;
        this-&gt;x=x;
        this-&gt;y=y;
        this-&gt;z=z;
        this-&gt;r=r;
    }
    
    
    double DajX() const{
        return this-&gt;x;
    }
    
    double DajY() const{
        return this-&gt;y;
    }
    
    double DajZ() const{
        return this-&gt;z;
    }
    
    std::tuple&lt;double, double, double&gt; DajCentar() const{
        return make_tuple(this-&gt;x,this-&gt;y,this-&gt;z);
    }
    
    double DajPoluprecnik() const{
        return this-&gt;r;
    }
    
    double DajPovrsinu() const{
        
        return 4*pi*r*r;
        
    }
    
    double DajZapreminu() const{
        
        return (4/3)*pi*r*r*r;
        
    }
    
    Kugla &amp;PostaviX(double x){
        this-&gt;x=x;
        return *this;
    }
    
    Kugla &amp;PostaviY(double y){
        this-&gt;y=y;
        return *this;
    }
    
    Kugla &amp;PostaviZ(double z){
        this-&gt;z=z;
        return *this;
    }
    
    Kugla &amp;PostaviCentar(double x, double y, double z){
        this-&gt;x=x;
        this-&gt;y=y;
        this-&gt;z=z;
        return *this;
    }
    
    Kugla &amp;PostaviCentar(const std::tuple&lt;double, double, double&gt; &amp;centar){
        
        double x,y,z;
        tie(x,y,z)=centar;
        this-&gt;x=x;
        this-&gt;y=y;
        this-&gt;z=z;
        return *this;
    }
    
    Kugla &amp;PostaviPoluprecnik(double r){
        
        if (r&lt;0) throw domain_error("Ilegalan poluprecnik");
        this-&gt;r=r;
        return *this;
    }
    
    void Ispisi() const{
        
        cout&lt;&lt;"{"&lt;&lt;"("&lt;&lt;this-&gt;x&lt;&lt;","&lt;&lt;this-&gt;y&lt;&lt;","&lt;&lt;this-&gt;z&lt;&lt;")"&lt;&lt;","&lt;&lt;r&lt;&lt;"}"&lt;&lt;endl;
        
    }
    
    void Transliraj(double delta_x, double delta_y, double delta_z){
        
        this-&gt;x+=delta_x;
        this-&gt;y+=delta_y;
        this-&gt;z+=delta_z;
    }
    
    friend bool DaLiSuIdenticne(const Kugla &amp;k1, const Kugla &amp;k2){
        
    return(k1.x==k2.x &amp;&amp; k1.y==k2.y &amp;&amp; k1.z==k2.z &amp;&amp; k1.r==k2.r);
    }
    
    friend bool DaLiSuPodudarne(const Kugla &amp;k1, const Kugla &amp;k2){
        
        return k1.r==k2.r;
    }
    
    friend bool DaLiSuKoncentricne(const Kugla &amp;k1, const Kugla &amp;k2){
    
          return(k1.x==k2.x &amp;&amp; k1.y==k2.y &amp;&amp; k1.z==k2.z);
    }
    
    friend bool DaLiSeDodirujuIzvana(const Kugla &amp;k1, const Kugla &amp;k2){
        
    double udaljenost=sqrt(pow(k1.x-k2.x,2)+pow(k1.y-k2.y,2)+pow(k1.z-k2.z,2));
    
    double temp=k1.r+k2.r;
    
        return (fabs(temp-udaljenost)&lt;k1.ep*(fabs(temp)+fabs(udaljenost)));
        
    }
    
    friend bool DaLiSeDodirujuIznutra(const Kugla &amp;k1, const Kugla &amp;k2){
        
    double udaljenost=sqrt(pow(k1.x-k2.x,2)+pow(k1.y-k2.y,2)+pow(k1.z-k2.z,2));
    
    double temp=fabs(k1.r-k2.r);//temp=udaljenost
    
    
    return (fabs(temp-udaljenost)&lt;k1.ep*(fabs(temp)+fabs(udaljenost)));
    
    
    
    }
    
    friend bool DaLiSePreklapaju(const Kugla &amp;k1, const Kugla &amp;k2){
        
    if(DaLiSeSijeku(k1,k2)==true || k1.DaLiSadrzi(k2)==true || k2.DaLiSadrzi(k1))return true;
    return false;
    
    }
    
    friend bool DaLiSeSijeku(const Kugla &amp;k1, const Kugla &amp;k2){
        
    double udaljenost=sqrt(pow(k1.x-k2.x,2)+pow(k1.y-k2.y,2)+pow(k1.z-k2.z,2));
   
     double min,max;
     
     if(k1.r&gt;k2.r){
         max=k1.r;
         min=k2.r;
     }
     else{
         max=k2.r;
         min=k1.r;
     }
    
     
     if(k1.DaLiSadrzi(k2))return false;
     
        
    
     
     if(udaljenost==k1.r || udaljenost==k2.r) return true;
     
     return(min&gt;fabs(max-udaljenost));
    
    }
    
    bool DaLiSadrzi(const Kugla &amp;k) const{
        
    double udaljenost=sqrt(pow(this-&gt;x-k.x,2)+pow(this-&gt;y-k.y,2)+pow(this-&gt;z-k.z,2));
    
    return (fabs(this-&gt;r-k.r)&gt;=udaljenost);
    }
    
    friend double RastojanjeCentara(const Kugla &amp;k1, const Kugla &amp;k2){
         double udaljenost=sqrt(pow(k1.x-k2.x,2)+pow(k1.y-k2.y,2)+pow(k1.z-k2.z,2));
         return udaljenost;
    }
    
};





int main ()
{
    vector&lt;shared_ptr&lt;Kugla&gt;&gt; v,vt;
     int n;
    cout&lt;&lt;"Unesite broj kugla: ";
    
    while(1){
    cin&gt;&gt;n;
    if(n&lt;=0){cout&lt;&lt;"Neispravan broj kugli, unesite ponovo!"&lt;&lt;endl;cin.clear();cin.ignore(10000, '\n');}
    else break;
    }
    
    for(int i=0;i&lt;n;i++){
        double p=0,x=0,y=0,z=0;
        
        
        
        cout&lt;&lt;"Unesite centar "&lt;&lt;i+1&lt;&lt;". kugle: ";
        if(!(cin&gt;&gt;x&gt;&gt;y&gt;&gt;z)){cout&lt;&lt;"Neispravan centar"&lt;&lt;endl;cin.clear();cin.ignore(10000, '\n');i--;continue;}
        
        
        cout&lt;&lt;"Unesite poluprecnik "&lt;&lt;i+1&lt;&lt;". kugle: ";
       if(!(cin&gt;&gt;p )){
           cout&lt;&lt;"Ilegalan poluprecnik"&lt;&lt;endl;cin.clear();cin.ignore(10000, '\n');i--;continue;
       }
        if(p&lt;0){
           cout&lt;&lt;"Ilegalan poluprecnik"&lt;&lt;endl;cin.clear();cin.ignore(10000, '\n');i--;continue;
       }
        
        shared_ptr&lt;Kugla&gt; ptr=make_shared&lt;Kugla&gt;(x,y,z,p);
        v.push_back(ptr);
        
    }
    
    
    double dx,dy,dz;
    vt.resize(v.size());
    
    cout&lt;&lt;"Unesite parametre translacije (delta_x,delta_y,delta_z): ";
    
    while(1){
         if(!(cin&gt;&gt;dx&gt;&gt;dy&gt;&gt;dz)){cout&lt;&lt;"Neispravni parametri translacije, unesite ponovo!"&lt;&lt;endl;cin.clear();cin.ignore(10000, '\n');continue;}
         else break;
    }
    
    transform(v.begin(),v.end(),vt.begin(),[dx,dy,dz](shared_ptr&lt;Kugla&gt; k){k-&gt;Transliraj(dx,dy,dz);return k;});
    
    sort(vt.begin(),vt.end(),[](shared_ptr&lt;Kugla&gt; k1,shared_ptr&lt;Kugla&gt; k2){return k1-&gt;DajZapreminu()&lt;k2-&gt;DajZapreminu();});
    
    cout&lt;&lt;"Kugle nakon obavljenje transformacije imaju sljedece vrijednosti: "&lt;&lt;endl;
    
  for_each(vt.begin(),vt.end(),[](shared_ptr&lt;Kugla&gt; k){k-&gt;Ispisi();});
    
    
    auto temp=*max_element(vt.begin(),vt.end(),
  [](shared_ptr&lt;Kugla&gt; k1,shared_ptr&lt;Kugla&gt; k2){return k1-&gt;DajPovrsinu()&lt;k2-&gt;DajPovrsinu();});
  cout&lt;&lt;"Kugla sa najvecom povrsinom je: ";temp-&gt;Ispisi();
 
 int brojac=1;
 int pres=0;
 
 for_each(vt.begin(),vt.end(),
 [vt,brojac,&amp;pres](shared_ptr&lt;Kugla&gt; k1)mutable
 {
 for_each(vt.begin()+brojac,vt.end(),
 [vt,brojac,&amp;pres,k1](shared_ptr&lt;Kugla&gt; k2)mutable
 {
     
     if( DaLiSeSijeku(*k1,*k2)==true &amp;&amp; DaLiSuIdenticne(*k1,*k2)==false){
         cout&lt;&lt;"Presjecaju se kugle: ";
         k1-&gt;Ispisi();
         k2-&gt;Ispisi();
         pres++;
     }

 });
 brojac++;
 });
 if(pres==0)cout&lt;&lt;"Ne postoje kugle koje se presjecaju!";
 
    return 0;
</font>}
</pre>
</body>
</html>
