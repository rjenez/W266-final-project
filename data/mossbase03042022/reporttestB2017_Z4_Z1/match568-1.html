<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z4/Z1/student7540.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z4/Z1/student2035.cpp<p></p><pre>
/B2017/2018: ZadaÄ‡a 4, Zadatak 1
#include &lt;iostream&gt;
#include &lt;cmath&gt;
#include &lt;tuple&gt;
#include &lt;stdexcept&gt;
#include &lt;algorithm&gt;
#include &lt;memory&gt;
#include &lt;vector&gt;

class Kugla {
      private: 
      double x, y, z; 
      double r; 
      const long double EPSILON=10e-10; //razmisli
      void TestPoluprecnika(double poluprecnik)  { if(poluprecnik&lt;0) throw std::domain_error("Ilegalan poluprecnik"); } 
      static bool TestJednakosti(double a, double b) { return std::abs(a-b)&lt;(10e-10)*(std::abs(a)+std::abs(b)); }
      static double mini(double r1, double r2) { if(r1&lt;r2) return r1; return r2; }
      static double maxi(double r1, double r2) { if(r1&gt;r2) return r1; return r2; }
      const double PI=atan(1)*4; //razmisli
      public: 
      explicit Kugla(double r=0) { PostaviPoluprecnik(r); PostaviCentar(0,0,0); }
      Kugla(double x, double y, double z, double r=0) { PostaviPoluprecnik(r); PostaviCentar(x,y,z); }
      explicit Kugla(const std::tuple&lt;double, double, double&gt; &amp;centar, double r=0) { PostaviPoluprecnik(r); Kugla::PostaviCentar(centar); }
      double DajX() const { return x; }
      double DajY() const { return y; }
      double DajZ() const { return z; }
      std::tuple&lt;double, double, double&gt; DajCentar() const { return std::tie(x,y,z); }
      double DajPoluprecnik() const { return r; }
      double DajPovrsinu() const { return PI*4*DajPoluprecnik()*DajPoluprecnik(); }
<a name="1"></a><font color="#00FF00"><a href="match568-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_3.gif"/></a>

      double DajZapreminu() const { return (DajPovrsinu()*DajPoluprecnik())/3; }
      Kugla &amp;PostaviX(double x) { this-&gt;x=x; return *this; }
      Kugla &amp;PostaviY(double y) { this-&gt;y=y; return *this;}
      Kugla &amp;PostaviZ(double z) { this-&gt;z=z; return *this; }
      Kugla &amp;PostaviCentar(double x, double y, double z) { PostaviX(x); PostaviY(y); PostaviZ(z); return *this;} 
</font>      Kugla &amp;PostaviCentar(const std::tuple&lt;double, double, double&gt; &amp;centar) { PostaviCentar(std::get&lt;0&gt;(centar), std::get&lt;1&gt;(centar), std::get&lt;2&gt;(centar)); return *this;}
<a name="4"></a><font color="#FF00FF"><a href="match568-0.html#4" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_1.gif"/></a>

      Kugla &amp;PostaviPoluprecnik(double r) { TestPoluprecnika(r); this-&gt;r=r; return *this;}
      void Ispisi() const { std::cout &lt;&lt; "{(" &lt;&lt; DajX() &lt;&lt; "," &lt;&lt; DajY() &lt;&lt; "," &lt;&lt; DajZ() &lt;&lt; ")," &lt;&lt; DajPoluprecnik() &lt;&lt; "}" &lt;&lt; std::endl;  }
</font><a name="5"></a><font color="#FF0000"><a href="match568-0.html#5" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_1.gif"/></a>

      void Translatiraj(double delta_x, double delta_y, double delta_z) { PostaviX(x+delta_x); PostaviY(y+delta_y); PostaviZ(z+delta_z); } 
      friend bool DaLiSuIdenticne(const Kugla &amp;k1, const Kugla &amp;k2); 
      friend bool DaLiSuPodudarne(const Kugla &amp;k1, const Kugla &amp;k2);
      friend bool DaLiSuKoncentricne(const Kugla &amp;k1, const Kugla &amp;k2);
</font>      friend bool DaLiSeDodirujuIzvana(const Kugla &amp;k1, const Kugla &amp;k2); 
      friend bool DaLiSeDodirujuIznutra(const Kugla &amp;k1, const Kugla &amp;k2); 
      friend bool DaLiSePreklapaju(const Kugla &amp;k1, const Kugla &amp;k2); 
      friend bool DaLiSeSijeku(const Kugla &amp;k1, const Kugla &amp;k2);
      bool DaLiSadrzi(const Kugla &amp;k) const;
      friend double RastojanjeCentara(const Kugla &amp;k1, const Kugla &amp;k2); 
};

bool DaLiSuPodudarne(const Kugla &amp;k1, const Kugla &amp;k2) { return Kugla::TestJednakosti(k1.DajPoluprecnik(), k2.DajPoluprecnik()); }
bool DaLiSuKoncentricne(const Kugla &amp;k1, const Kugla &amp;k2) { if(Kugla::TestJednakosti(k1.DajX(), k2.DajX()) &amp;&amp; Kugla::TestJednakosti(k1.DajY(), k2.DajY()) &amp;&amp; Kugla::TestJednakosti(k1.DajZ(), k2.DajZ())) return true; return false; }
bool DaLiSuIdenticne(const Kugla &amp;k1, const Kugla &amp;k2) { if(DaLiSuKoncentricne(k1, k2) &amp;&amp; DaLiSuPodudarne(k1, k2)) return true; return false; }

bool DaLiSeDodirujuIznutra(const Kugla &amp;k1, const Kugla &amp;k2) {
      double veciprecnik(Kugla::maxi(k1.DajPoluprecnik(),k2.DajPoluprecnik()));
      double manjiprecnik(Kugla::mini(k1.DajPoluprecnik(), k2.DajPoluprecnik()));
      return Kugla::TestJednakosti(manjiprecnik+RastojanjeCentara(k1,k2), veciprecnik); 
}

bool DaLiSeDodirujuIzvana(const Kugla &amp;k1, const Kugla &amp;k2) { return Kugla::TestJednakosti(RastojanjeCentara(k1,k2), k1.DajPoluprecnik()+k2.DajPoluprecnik()); }
bool Kugla::DaLiSadrzi(const Kugla &amp;k1) const { //da li se preklapaju i ako se dodiruju or?
      double veciprecnik(Kugla::maxi(k1.DajPoluprecnik(), this-&gt;r)); 
      double manjiprecnik(Kugla::mini(k1.DajPoluprecnik(), this-&gt;r));
      return manjiprecnik+RastojanjeCentara(k1,*this)&lt;veciprecnik; //vidi ovdje ovo manje ili jednako da li test jednakosti or what
}
bool DaLiSePreklapaju(const Kugla &amp;k1, const Kugla &amp;k2) {
      return k1.DajPoluprecnik()+k2.DajPoluprecnik()&lt;RastojanjeCentara(k1, k2); 
}
double RastojanjeCentara(const Kugla &amp;k1, const Kugla &amp;k2) { return std::sqrt((k2.DajX()-k1.DajX())*(k2.DajX()-k1.DajX())+(k2.DajY()-k1.DajY())*(k2.DajY()-k1.DajY())+(k2.DajZ()-k1.DajZ())*(k2.DajZ()-k1.DajZ())); }

bool DaLiSeSijeku(const Kugla &amp;k1, const Kugla &amp;k2) {
      //opet da li je sjeci se i dodirivati isto vidi nekako ako jeste dodaj ona 2 uvijeta i eto
      //ovo ispod daj boze da je ovako kako si ti navela ali eto hajde treba mastati
      if((k1.DajPoluprecnik()+k2.DajPoluprecnik()&gt;RastojanjeCentara(k1,k2)) &amp;&amp; RastojanjeCentara(k1,k2)&gt;Kugla::maxi(k1.r, k2.r)-Kugla::mini(k1.r, k2.r))return true;
      return false;

      
}

int main ()
{
      double n; 
     std::cout &lt;&lt; "Unesite broj kugla: "; 
     while(1) {
           std::cin &gt;&gt; n; 
           if(std::cin) {if(n&gt;0 &amp;&amp; n-(int)n==0) break; }
           std::cin.clear();
           std::cout &lt;&lt; "Neispravan broj kugli, unesite ponovo!" &lt;&lt; std::endl;
           
           std::cin.ignore(1000, '\n');
     } 
      
<a name="2"></a><font color="#0000FF"><a href="match568-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_2.gif"/></a>

      std::vector&lt;std::shared_ptr&lt;Kugla&gt;&gt; vektor_pok_na_klasu(n);
      for(int i=0; i&lt;n; i++) {
            
      std::cout &lt;&lt; "Unesite centar " &lt;&lt; i+1 &lt;&lt; ". kugle: ";
      double koordinatax, koordinatay, koordinataz; 
</font>      while(1) {
      std::cin &gt;&gt; koordinatax &gt;&gt; koordinatay &gt;&gt; koordinataz;
      if(std::cin) break;
      std::cin.clear(); std::cin.ignore(1000, '\n'); 
      std::cout &lt;&lt; "Neispravan centar\n"; std::cout &lt;&lt; "Unesite centar " &lt;&lt; i+1 &lt;&lt; ". kugle: ";  }
      std::cout &lt;&lt; "Unesite poluprecnik " &lt;&lt; i+1 &lt;&lt; ". kugle: "; 
      double pp; 
      while(!(std::cin &gt;&gt; pp) || pp&lt;0) {
            std::cin.clear(); std::cin.ignore(1000,'\n');
            std::cout &lt;&lt; "Ilegalan poluprecnik\n"; 
            std::cout &lt;&lt; "Unesite centar " &lt;&lt; i+1 &lt;&lt; ". kugle: "; 
            while(!(std::cin &gt;&gt; koordinatax &gt;&gt; koordinatay &gt;&gt; koordinataz)) {
                  std::cin.clear(); std::cin.ignore(1000,'\n'); 
                  std::cout &lt;&lt; "Neispravan centar\n"; std::cout &lt;&lt; "Unesite centar " &lt;&lt; i+1 &lt;&lt; ". kugle: "; 
            }
            std::cout &lt;&lt; "Unesite poluprecnik " &lt;&lt; i+1 &lt;&lt; ". kugle: "; 
      }
      
<a name="6"></a><font color="#00FF00"><a href="match568-0.html#6" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_1.gif"/></a>

      vektor_pok_na_klasu[i]=std::make_shared&lt;Kugla&gt;(koordinatax, koordinatay, koordinataz, pp);            
      }
      
      std::cout &lt;&lt; "Unesite parametre translacije (delta_x,delta_y,delta_z): ";
      double dx, dy, dz; 
</font>      //uradi provjeru
      
      while(!(std::cin &gt;&gt; dx &gt;&gt; dy &gt;&gt; dz)) {
            std::cin.clear(); std::cin.ignore(1000, '\n');
            std::cout &lt;&lt; "Neispravni parametri translacije, unesite ponovo!\n"; 
      } 
<a name="0"></a><font color="#FF0000"><a href="match568-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_10.gif"/></a>

      std::transform(vektor_pok_na_klasu.begin(), vektor_pok_na_klasu.end(), vektor_pok_na_klasu.begin(), [dx,dy,dz](std::shared_ptr&lt;Kugla&gt; k){ (*k).Translatiraj(dx,dy,dz);  return k; }); 
      std::sort(vektor_pok_na_klasu.begin(), vektor_pok_na_klasu.end(), [](std::shared_ptr&lt;Kugla&gt; k1, std::shared_ptr&lt;Kugla&gt; k2) { return (*k1).DajZapreminu()&lt;(*k2).DajZapreminu(); });  
      std::cout &lt;&lt; "Kugle nakon obavljenje transformacije imaju sljedece vrijednosti: " &lt;&lt; std::endl;
      std::for_each(vektor_pok_na_klasu.begin(), vektor_pok_na_klasu.end(), [](std::shared_ptr&lt;Kugla&gt; k) {(*k).Ispisi(); });
      std::cout &lt;&lt; "Kugla sa najvecom povrsinom je: "; 
      auto nesto=std::max_element(vektor_pok_na_klasu.begin(), vektor_pok_na_klasu.end(), [](std::shared_ptr&lt;Kugla&gt; k1, std::shared_ptr&lt;Kugla&gt; k2) {return (*k1).DajPovrsinu()&lt;(*k2).DajPovrsinu(); }); 
      (*nesto)-&gt;Ispisi();
</font>      int na=0;
      bool barjednasepresjeka(false); 
      std::for_each(vektor_pok_na_klasu.begin(), vektor_pok_na_klasu.end(), [&amp;na, &amp;barjednasepresjeka,vektor_pok_na_klasu](std::shared_ptr&lt;Kugla&gt; k)
<a name="3"></a><font color="#00FFFF"><a href="match568-0.html#3" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_1.gif"/></a>

      {na++; std::for_each(vektor_pok_na_klasu.begin()+na, vektor_pok_na_klasu.end(), [k, &amp;barjednasepresjeka](std::shared_ptr&lt;Kugla&gt; k2)
      { if(DaLiSeSijeku(*k, *k2)) {barjednasepresjeka=true; std::cout &lt;&lt; "Presjecaju se kugle: ";(*k).Ispisi(); std::cout &lt;&lt; std::endl; (*k2). Ispisi();   } }); });
</font>	if(!barjednasepresjeka) std::cout &lt;&lt; "Ne postoje kugle koje se presjecaju!";
	return 0;
}
//ispravi u ispisi da ide samo u novi red ili vidi s nekim kako su oni u toj postupili, provjeri rade li ti ostale funkcije i provjeri nazive funkcija</pre>
</body>
</html>
