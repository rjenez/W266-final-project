<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z4/Z1/student7791.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z4/Z1/student2585.cpp<p></p><pre>
/B2017/2018: ZadaÄ‡a 4, Zadatak 1
#include &lt;iostream&gt;
#include &lt;utility&gt;
#include &lt;cmath&gt;
#include &lt;algorithm&gt;
#include &lt;stdexcept&gt;
#include &lt;vector&gt;
#include &lt;memory&gt;

constexpr double EPS=0.0000000001;
constexpr double PI=4*std::atan(1);


class Kugla{
    double x, y, z, r;
    static bool DaLiJeIsto(double prvi, double drugi);
    public:
    explicit Kugla(double r = 0){
        if(r&lt;0) throw std::domain_error("Ilegalan poluprecnik");
        Kugla::r=r;
    }
    Kugla(double x, double y, double z, double r = 0){
        if(r&lt;0) throw std::domain_error("Ilegalan poluprecnik");
        Kugla::x=x;
        Kugla::y=y;
        Kugla::z=z;
        Kugla::r=r;
    }
    explicit Kugla(const std::tuple&lt;double, double, double&gt; &amp;centar, double r = 0){
        if(r&lt;0) throw std::domain_error("Ilegalan poluprecnik");
        Kugla::x=std::get&lt;0&gt;(centar);
        Kugla::y=std::get&lt;1&gt;(centar);
        Kugla::z=std::get&lt;2&gt;(centar);
        Kugla::r=r;
    }
<a name="1"></a><font color="#00FF00"><a href="match978-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_1.gif"/></a>

    double DajX() const;
    double DajY() const;
    double DajZ() const;
    std::tuple&lt;double, double, double&gt; DajCentar() const;
    double DajPoluprecnik() const;
    double DajPovrsinu() const;
    double DajZapreminu() const;
    Kugla &amp;PostaviX(double x);
    Kugla &amp;PostaviY(double y);
    Kugla &amp;PostaviZ(double z);
</font>    Kugla &amp;PostaviCentar(double x, double y, double z);
<a name="3"></a><font color="#00FFFF"><a href="match978-0.html#3" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_1.gif"/></a>

    Kugla &amp;PostaviCentar(const std::tuple&lt;double, double, double&gt; &amp;centar);
    Kugla &amp;PostaviPoluprecnik(double r);
    void Ispisi() const;
    void Transliraj(double delta_x, double delta_y, double delta_z);
</font>    friend bool DaLiSuIdenticne(const Kugla &amp;k1, const Kugla &amp;k2);
    friend bool DaLiSuPodudarne(const Kugla &amp;k1, const Kugla &amp;k2);
    friend bool DaLiSuKoncentricne(const Kugla &amp;k1, const Kugla &amp;k2);
    friend bool DaLiSeDodirujuIzvana(const Kugla &amp;k1, const Kugla &amp;k2);
    friend bool DaLiSeDodirujuIznutra(const Kugla &amp;k1, const Kugla &amp;k2);
    friend bool DaLiSePreklapaju(const Kugla &amp;k1, const Kugla &amp;k2);
    friend bool DaLiSeSijeku(const Kugla &amp;k1, const Kugla &amp;k2);
    bool DaLiSadrzi(const Kugla &amp;k) const;
    friend double RastojanjeCentara(const Kugla &amp;k1, const Kugla &amp;k2);
    
};
bool Kugla::DaLiJeIsto(double prvi, double drugi){
    if(std::fabs(prvi-drugi)&lt;=EPS*(std::fabs(prvi)+std::fabs(drugi))) return true;
    return false;
}/*
//konstruktori
Kugla::Kugla(double r=0){
    if(r&lt;0) throw std::domain_error("Ilegalan poluprecnik");
    Kugla::r=r;
}
Kugla::Kugla(double x, double y, double z, double r=0){
    if(r&lt;0) throw std::domain_error("Ilegalan poluprecnik");
    Kugla::x=x;
    Kugla::y=y;
    Kugla::z=z;
    Kugla::r=r;
}
Kugla::Kugla(const tuple&lt;double, double, double&gt; &amp;centar, double r=0){
    if(r&lt;0) throw std::domain_error("Ilegalan poluprecnik");
    Kugla::x=std::get&lt;0&gt;(centar);
    Kugla::y=std::get&lt;1&gt;(centar);
    Kugla::z=std::get&lt;2&gt;(centar);
    Kugla::r=r;
}*/
//get
<a name="2"></a><font color="#0000FF"><a href="match978-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_1.gif"/></a>

double Kugla::DajX() const{
    return x;
}
double Kugla::DajY() const{
    return y;
}
double Kugla::DajZ() const{
    return z;
}
std::tuple&lt;double, double, double&gt; Kugla::DajCentar() const{
</font>    std::tuple&lt;double, double, double&gt; povratni;
    povratni=std::make_tuple(x, y, z);
    return povratni;
}
double Kugla::DajPoluprecnik() const{
    return r;
}
double Kugla::DajPovrsinu() const{
    return 4*r*r*PI;
}
double Kugla::DajZapreminu() const{
    return (4.00/3.00)*r*r*r*PI;
}
//set
Kugla &amp;Kugla::PostaviX(double x){
    Kugla::x=x;
    return *this;
}
Kugla &amp;Kugla::PostaviY(double y){
    Kugla::y=y;
<a name="0"></a><font color="#FF0000"><a href="match978-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_7.gif"/></a>

    return *this;
}
Kugla &amp;Kugla::PostaviZ(double z){
    Kugla::z=z;
    return *this;
}
Kugla &amp;Kugla::PostaviCentar(double x, double y, double z){
    Kugla::x=x;
    Kugla::y=y;
    Kugla::z=z;
    return *this;
}
Kugla &amp;Kugla::PostaviCentar(const std::tuple&lt;double, double, double&gt; &amp;centar){
    Kugla::x=std::get&lt;0&gt;(centar);
    Kugla::y=std::get&lt;1&gt;(centar);
    Kugla::z=std::get&lt;2&gt;(centar);
    return *this;
}
Kugla &amp;Kugla::PostaviPoluprecnik(double r){
    if(r&lt;0) throw std::domain_error("Ilegalan poluprecnik");
    Kugla::r=r;
    return *this;
}

void Kugla::Ispisi() const{
    std::cout&lt;&lt;"{("&lt;&lt;x&lt;&lt;","&lt;&lt;y&lt;&lt;","&lt;&lt;z&lt;&lt;"),"&lt;&lt;r&lt;&lt;"}";
</font>}
void Kugla::Transliraj(double delta_x, double delta_y, double delta_z){
    x+=delta_x;
    y+=delta_y;
    z+=delta_z;
}

//prijatelji
bool DaLiSuIdenticne(const Kugla &amp;k1, const Kugla &amp;k2){
<a name="4"></a><font color="#FF00FF"><a href="match978-0.html#4" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_1.gif"/></a>

     if(Kugla::DaLiJeIsto(k1.DajX(), k2.DajX()) &amp;&amp; Kugla::DaLiJeIsto(k1.DajY(), k2.DajY()) &amp;&amp; Kugla::DaLiJeIsto(k1.DajZ(), k2.DajZ()) &amp;&amp; Kugla::DaLiJeIsto(k1.DajPoluprecnik(), k2.DajPoluprecnik())) return true;
</font><a name="4"></a><font color="#FF00FF"><a href="match978-0.html#4" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_1.gif"/></a>

     return false;
</font>}
bool DaLiSuPodudarne(const Kugla &amp;k1, const Kugla &amp;k2){
    if(Kugla::DaLiJeIsto(k1.DajPoluprecnik(), k2.DajPoluprecnik())) return true;
    return false;
}

double RastojanjeCentara(const Kugla &amp;k1, const Kugla &amp;k2){
    return std::sqrt((k1.x-k2.x)*(k1.x-k2.x) + (k1.y-k2.y)*(k1.y-k2.y) + (k1.z-k2.z)*(k1.z-k2.z));
}
bool DaLiSuKoncentricne(const Kugla &amp;k1, const Kugla &amp;k2){
    if(Kugla::DaLiJeIsto(k1.DajX(), k2.DajX()) &amp;&amp; Kugla::DaLiJeIsto(k1.DajY(), k2.DajY()) &amp;&amp; Kugla::DaLiJeIsto(k1.DajZ(), k2.DajZ())) return true;
    return false;
}
bool DaLiSeDodirujuIzvana(const Kugla &amp;k1, const Kugla &amp;k2){
    double udaljenost=k1.DajPoluprecnik()+k2.DajPoluprecnik();
    double udaljenostCentar=RastojanjeCentara(k1, k2);
    if(Kugla::DaLiJeIsto(udaljenost, udaljenostCentar)) return true;
    return false;
}
bool DaLiSeDodirujuIznutra(const Kugla &amp;k1, const Kugla &amp;k2){
        double razlikaRadijusa=std::fabs(k1.DajPoluprecnik()-k2.DajPoluprecnik());
        if(Kugla::DaLiJeIsto(RastojanjeCentara(k1, k2), razlikaRadijusa)) return true;
        return false;
}
bool DaLiSeSijeku(const Kugla &amp;k1, const Kugla &amp;k2){
    double zbirRadijusa=std::fabs(k1.DajPoluprecnik()+k2.DajPoluprecnik());
    double razlikaRadijusa=std::fabs(k1.DajPoluprecnik()-k2.DajPoluprecnik());
    double rastojanje=RastojanjeCentara(k1,k2);
 
    
    if(!Kugla::DaLiJeIsto(zbirRadijusa, rastojanje) &amp;&amp; !Kugla::DaLiJeIsto(razlikaRadijusa, rastojanje) &amp;&amp; zbirRadijusa&gt;rastojanje &amp;&amp; rastojanje&gt;razlikaRadijusa) return true;
    return false;
}
bool Kugla::DaLiSadrzi(const Kugla &amp;k) const{
    double ras=std::sqrt((x-k.x)*(x-k.x) + (y-k.y)*(y-k.y) + (z-k.z)*(z-k.z));
    if(ras+k.r&lt;r || std::fabs(ras+k.r-r)&lt;=EPS*(std::fabs(ras+k.r)+std::fabs(r))) return true;
    return false;
}

bool DaLiSePreklapaju(const Kugla &amp;k1, const Kugla &amp;k2){
    if(DaLiSuIdenticne(k1, k2) || DaLiSeSijeku(k1, k2) || k1.DaLiSadrzi(k2) || k2.DaLiSadrzi(k1)) return true;
    return false;
}

int main ()
{
   
    std::cout&lt;&lt;"Unesite broj kugla: ";
    int n(0);
    while(true){
        std::cin&gt;&gt;n;
        if(n&lt;=0 || std::cin.peek()!='\n'){
            std::cout&lt;&lt;"Neispravan broj kugli, unesite ponovo!\n";
            std::cin.clear();
            std::cin.ignore(10000, '\n');
        }
        else break;
    }
    std::vector&lt;std::shared_ptr&lt;Kugla&gt;&gt; pok(n);
    for(int i=0; i&lt;n; i++){
        double unosX(0), unosY(0), unosZ(0), unosR(0);
        pocetak:
        std::cout&lt;&lt;"Unesite centar "&lt;&lt;i+1&lt;&lt;". kugle: ";
        
        std::cin&gt;&gt;unosX;
        if(std::cin.peek()!='\n' &amp;&amp; std::cin.peek()!=' ') {std::cout&lt;&lt;"Neispravan centar\n"; std::cin.clear(); std::cin.ignore(10000, '\n'); goto pocetak;}
        std::cin&gt;&gt;unosY;
        if(std::cin.peek()!='\n' &amp;&amp; std::cin.peek()!=' ') {std::cout&lt;&lt;"Neispravan centar\n"; std::cin.clear(); std::cin.ignore(10000, '\n'); goto pocetak;}
        std::cin&gt;&gt;unosZ;
        if(std::cin.peek()!='\n' &amp;&amp; std::cin.peek()!=' ') {std::cout&lt;&lt;"Neispravan centar\n"; std::cin.clear(); std::cin.ignore(10000, '\n'); goto pocetak;}
        std::cout&lt;&lt;"Unesite poluprecnik "&lt;&lt;i+1&lt;&lt;". kugle: ";
        std::cin&gt;&gt;unosR;
        if(std::cin.peek()!='\n' &amp;&amp; std::cin.peek()!=' ') {std::cout&lt;&lt;"Ilegalan poluprecnik\n"; std::cin.clear(); std::cin.ignore(10000, '\n'); goto pocetak;}
        if(unosR&lt;0){std::cin.clear(); std::cin.ignore(10000, '\n'); std::cout&lt;&lt;"Ilegalan poluprecnik\n"; goto pocetak;}
        
        pok.at(i)=std::make_shared&lt;Kugla&gt; (unosX, unosY, unosZ, unosR);
        
    }
    std::cin.clear();
    std::cin.ignore(10000, '\n');
    std::cout&lt;&lt;"Unesite parametre translacije (delta_x,delta_y,delta_z): ";
    double delta_x(0), delta_y(0), delta_z(0);
    while(true){
        std::cin&gt;&gt;delta_x&gt;&gt;delta_y&gt;&gt;delta_z;
        if(!std::cin){
            std::cout&lt;&lt;"Neispravni parametri translacije, unesite ponovo!\n";
            std::cin.clear();
            std::cin.ignore(10000, '\n');
        }
        else break;
        
    }
    std::transform(pok.begin(), pok.end(), pok.begin(), [delta_x, delta_y, delta_z](std::shared_ptr&lt;Kugla&gt; a) {std::shared_ptr&lt;Kugla&gt; povratni=std::make_shared&lt;Kugla&gt;(a-&gt;DajX()+delta_x, a-&gt;DajY()+delta_y, a-&gt;DajZ()+delta_z, a-&gt;DajPoluprecnik()); return povratni;} );
    
    std::sort(pok.begin(), pok.end(), [](std::shared_ptr&lt;Kugla&gt; k1, std::shared_ptr&lt;Kugla&gt; k2) {
        if(!(std::fabs(k1-&gt;DajZapreminu()-k2-&gt;DajZapreminu())&lt;=EPS*(std::fabs(k1-&gt;DajZapreminu()) + std::fabs(k2-&gt;DajZapreminu()))) &amp;&amp; k1-&gt;DajZapreminu()&lt;k2-&gt;DajZapreminu()) return true;
        return false;
    });
    std::cout&lt;&lt;"Kugle nakon obavljenje transformacije imaju sljedece vrijednosti: "&lt;&lt;std::endl;
    std::for_each(pok.begin(), pok.end(), [](std::shared_ptr&lt;Kugla&gt; k) {
        std::cout&lt;&lt;"{("&lt;&lt;k-&gt;DajX()&lt;&lt;","&lt;&lt;k-&gt;DajY()&lt;&lt;","&lt;&lt;k-&gt;DajZ()&lt;&lt;"),"&lt;&lt;k-&gt;DajPoluprecnik()&lt;&lt;"}"&lt;&lt;std::endl;
    });
    
    std::vector&lt;std::shared_ptr&lt;Kugla&gt;&gt;::iterator it=std::max_element(pok.begin(), pok.end(), [](std::shared_ptr&lt;Kugla&gt; k1, std::shared_ptr&lt;Kugla&gt; k2) {
        if(!(std::fabs(k1-&gt;DajPovrsinu()-k2-&gt;DajPovrsinu())&lt;=EPS*(std::fabs(k1-&gt;DajPovrsinu()) + std::fabs(k2-&gt;DajPovrsinu()))) &amp;&amp; k1-&gt;DajPovrsinu()&lt;k2-&gt;DajPovrsinu()) return true;
        return false;
    });
    
    std::cout&lt;&lt;"Kugla sa najvecom povrsinom je: {("&lt;&lt;(*it)-&gt;DajX()&lt;&lt;","&lt;&lt;(*it)-&gt;DajY()&lt;&lt;","&lt;&lt;(*it)-&gt;DajZ()&lt;&lt;"),"&lt;&lt;(*it)-&gt;DajPoluprecnik()&lt;&lt;"}";
    
    int koliko(0);
    std::vector&lt;std::shared_ptr&lt;Kugla&gt;&gt;::iterator pomocni=pok.begin();
    std::vector&lt;std::shared_ptr&lt;Kugla&gt;&gt;::iterator kraj=pok.end();
    
    std::for_each(pok.begin(), pok.end(), [&amp;pomocni, kraj, &amp;koliko](std::shared_ptr&lt;Kugla&gt; a){
        std::for_each(pomocni, kraj, [a, &amp;pomocni, &amp;koliko](std::shared_ptr&lt;Kugla&gt; b){
            if(DaLiSeSijeku(*a, *b)){
                std::cout&lt;&lt;std::endl&lt;&lt;"Presjecaju se kugle: ";
                (*a).Ispisi();
                std::cout&lt;&lt;std::endl;
                (*b).Ispisi();
                koliko++;
            }
            
        });
        pomocni++;
    });  
    
    if(!koliko) std::cout&lt;&lt;std::endl&lt;&lt;"Ne postoje kugle koje se presjecaju!";
    /*Kugla k1(0, 0, 0, 1);
    Kugla k2(0, 0, 2, 1);
    std::cout&lt;&lt;DaLiSePreklapaju(k1, k2);*/
	return 0;
}
</pre>
</body>
</html>
