<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z4/Z1/student3350.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z4/Z1/student4290.cpp<p></p><pre>
<a name="4"></a><font color="#FF00FF"><a href="match239-0.html#4" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_4.gif"/></a>

/B2017/2018: ZadaÄ‡a 4, Zadatak 1
#include &lt;iostream&gt;
#include &lt;cmath&gt;
#include &lt;stdexcept&gt;
#include &lt;tuple&gt;
#include &lt;vector&gt;
#include &lt;memory&gt;
#include &lt;algorithm&gt;
#include &lt;map&gt;
const double e=10e-10;
class Kugla
{
    double x,y,z,poluprecnik;
    public:
    explicit Kugla(double r=0) { x=0; y=0; z=0; Kugla::poluprecnik=r; }
    Kugla(double x, double y, double z, double r=0) {
</font>        if(r&lt;0) throw std::domain_error("Ilegalan poluprecnik");
        Kugla::x=x; Kugla::y=y; Kugla::z=z;; Kugla::poluprecnik=r;
    }
    explicit Kugla(const std::tuple&lt;double,double,double&gt; &amp;centar, double r=0) {
        if(r&lt;0) throw std::domain_error("Ilegalan poluprecnik");
        Kugla::x=std::get&lt;0&gt;(centar);
        Kugla::y=std::get&lt;1&gt;(centar);
        Kugla::z=std::get&lt;2&gt;(centar);
        Kugla::poluprecnik=r;
    }
    double DajX() const { return x; }
    double DajY() const { return y; }
    double DajZ() const { return z; }
<a name="3"></a><font color="#00FFFF"><a href="match239-0.html#3" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_5.gif"/></a>

    std::tuple&lt;double,double,double&gt; DajCentar() const {
        std::tuple&lt;double,double,double&gt;c;
        c=std::make_tuple(x,y,z);
        return c;
    }
    double DajPoluprecnik() const { return poluprecnik; }
    double DajPovrsinu() const { return 4*poluprecnik*poluprecnik*4*atan(1); }
    double DajZapreminu() const { return (4/3)*poluprecnik*poluprecnik*poluprecnik*4*atan(1); }
    Kugla &amp;PostaviX(double x) { Kugla::x=x; return *this; }
    Kugla &amp;PostaviY(double y) { Kugla::y=y; return *this; }
</font>    Kugla &amp;PostaviZ(double z) { Kugla::z=z; return *this; }
    Kugla &amp;PostaviCentar(double x, double y, double z) {
        Kugla::x=x; Kugla::y=y; Kugla::z=z;
        return *this;
    }
    Kugla &amp;PostaviCentar(const std::tuple&lt;double,double,double&gt; &amp;centar) {
        Kugla::x=std::get&lt;0&gt;(centar);
        Kugla::y=std::get&lt;1&gt;(centar);
        Kugla::z=std::get&lt;2&gt;(centar);
        return *this;
    }
    Kugla &amp;PostaviPoluprecnik(double r) { 
        if(r&lt;0) throw std::domain_error("Ilegalan poluprecnik");
        Kugla::poluprecnik=r;
        return *this;
    }
    void Ispisi() const { std::cout &lt;&lt; "{("&lt;&lt;x&lt;&lt;","&lt;&lt;y&lt;&lt;","&lt;&lt;z&lt;&lt;"),"&lt;&lt;poluprecnik&lt;&lt;"}" &lt;&lt; std::endl; }
    void Transliraj (double delta_x, double delta_y, double delta_z) {
        x+=delta_x; y+=delta_y; z+=delta_z;
    }
    friend bool DaLiSuIdenticne (const Kugla &amp;k1, const Kugla &amp;k2);
    friend bool DaLiSuPodudarne (const Kugla &amp;k1, const Kugla &amp;k2);
    friend bool DaLiSuKoncentricne (const Kugla &amp;k1, const Kugla &amp;k2);
    friend bool DaLiSeDodirujuIzvana (const Kugla &amp;k1, const Kugla &amp;k2);
    friend bool DaLiSeDodirujuIznutra (const Kugla &amp;k1, const Kugla &amp;k2);
<a name="2"></a><font color="#0000FF"><a href="match239-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_12.gif"/></a>

    friend bool DaLiSePreklapaju (const Kugla &amp;k1, const Kugla &amp;k2);
    friend bool DaLiSeSijeku (const Kugla &amp;k1, const Kugla &amp;k2);
    bool DaLiSadrzi(const Kugla &amp;k) const {
        double r_min,r_max;
        if(poluprecnik&lt;k.poluprecnik) r_min=poluprecnik, r_max=k.poluprecnik;
        else r_min=k.poluprecnik, r_max=poluprecnik;
        return (RastojanjeCentara(k,*this)+r_min&lt;r_max);
    }
    friend double RastojanjeCentara(const Kugla &amp;k1, const Kugla &amp;k2);
    
};
bool DaLiSuIdenticne (const Kugla &amp;k1, const Kugla &amp;k2) {
    int brojac(0);
    if(abs(k1.poluprecnik-k2.poluprecnik)&lt;e*(abs(k1.poluprecnik)+abs(k2.poluprecnik))) brojac++;
    if(abs(k1.x-k2.x)&lt;e*(abs(k1.x)+abs(k2.x))) brojac++;
    if(abs(k1.y-k2.y)&lt;e*(abs(k1.y)+abs(k2.y))) brojac++;
    if(abs(k1.z-k2.z)&lt;e*(abs(k1.z)+abs(k2.z))); brojac++;
    if(brojac==4) return true;
    return false;
}
double RastojanjeCentara (const Kugla &amp;k1, const Kugla &amp;k2) {
   return std::sqrt((k2.x-k1.x)*(k2.x-k1.x)+(k2.y-k1.y)*(k2.y-k1.y)+(k2.z-k1.z)*(k2.z-k1.z)); 
</font><a name="0"></a><font color="#FF0000"><a href="match239-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_38.gif"/></a>

}
bool DaLiSuPodudarne (const Kugla &amp;k1, const Kugla &amp;k2) {
    return (abs(k1.poluprecnik-k2.poluprecnik)&lt;e*(abs(k1.poluprecnik)+abs(k2.poluprecnik)));
}
bool DaLiSuKoncentricne (const Kugla &amp;k1, const Kugla &amp;k2) {
    int brojac(0);
    if(abs(k1.x-k2.x)&lt;e*(abs(k1.x)+abs(k2.x))) brojac++;
    if(abs(k1.y-k2.y)&lt;e*(abs(k1.y)+abs(k2.y))) brojac++;
    if(abs(k1.z-k2.z)&lt;e*(abs(k1.z)+abs(k2.z))) brojac++;
    if(brojac==3) return true;
    return false;
}
bool DaLiSeDodirujuIzvana (const Kugla &amp;k1, const Kugla &amp;k2) {
    double r3(k1.poluprecnik+k2.poluprecnik);
    return (fabs(RastojanjeCentara(k1,k2)-r3)&lt;(e*(fabs(RastojanjeCentara(k1,k2))+fabs(r3))));
    //if(RastojanjeCentara(k1,k2)==k1.poluprecnik+k2.poluprecnik) return true;
    //return false;
}
bool DaLiSeDodirujuIznutra (const Kugla &amp;k1, const Kugla &amp;k2) {
    double r3(k1.poluprecnik-k2.poluprecnik);
    return (fabs(RastojanjeCentara(k1,k2)-r3)&lt;(e*(fabs(RastojanjeCentara(k1,k2))+fabs(r3))));
    //if(RastojanjeCentara(k1,k2)==abs(k1.poluprecnik-k2.poluprecnik)) return true;
    //return false;
}
bool DaLiSePreklapaju (const Kugla &amp;k1, const Kugla &amp;k2) {
    return (RastojanjeCentara(k1,k2)&lt;fabs(k1.poluprecnik+k2.poluprecnik));
}
bool DaLiSeSijeku (const Kugla &amp;k1, const Kugla &amp;k2) {
    double r_min,r_max;
    if(k1.poluprecnik&lt;k2.poluprecnik) r_min=k1.poluprecnik, r_max=k2.poluprecnik;
    else r_min=k2.poluprecnik, r_max=k1.poluprecnik;
    return (RastojanjeCentara(k1,k2)&lt;r_max+r_min&amp;&amp;RastojanjeCentara(k1,k2)&gt;r_max-r_min);
}
int main ()
{
    int n;
    std::vector&lt;std::shared_ptr&lt;Kugla&gt;&gt; niz ;

    std::cout &lt;&lt; "Unesite broj kugla: " ;
    std::cin &gt;&gt; n;

    while (!std::cin||n&lt;=0) {
        std::cout &lt;&lt; "Neispravan broj kugli, unesite ponovo!" &lt;&lt; std::endl;
        std::cin.clear();
        std::cin.ignore(1000,'\n');
        std::cin &gt;&gt; n;
    }
    niz.resize(n);
    for(int i(0);i&lt;n;i++) {
        double x,y,z,r;
        std::cout &lt;&lt; "Unesite centar "&lt;&lt;i+1&lt;&lt;". kugle: ";
         std::cin &gt;&gt; x &gt;&gt; y &gt;&gt; z;
         while (!std::cin) {
             std::cout &lt;&lt; "Neispravan centar " &lt;&lt; std::endl;
             std::cin.clear();
             std::cin.ignore(1000,'\n');
             std::cout &lt;&lt; "Unesite centar "&lt;&lt;i+1&lt;&lt;". kugle: ";
             std::cin &gt;&gt; x&gt;&gt;y&gt;&gt;z;
         }
            std::cout &lt;&lt; "Unesite poluprecnik "&lt;&lt;i+1&lt;&lt;". kugle: ";
            std::cin &gt;&gt; r;
            if(!std::cin||r&lt;0) { std::cin.clear(); std::cin.ignore(1000,'\n'); std::cout &lt;&lt; "Ilegalan poluprecnik" &lt;&lt; std::endl; i--; }
               else  niz[i]=std::make_shared&lt;Kugla&gt;(x,y,z,r);

    }
    std::cout &lt;&lt; "Unesite parametre translacije (delta_x,delta_y,delta_z): ";
    double dx,dy,dz;
    std::cin &gt;&gt; dx &gt;&gt; dy &gt;&gt; dz;
    while (!std::cin) {
       std::cout &lt;&lt; "Neispravni parametri translacije, unesite ponovo!" &lt;&lt; std::endl; 
       std::cin.clear();
       std::cin.ignore(1000,'\n');
       std::cin &gt;&gt; dx&gt;&gt;dy&gt;&gt;dz;
    }
    std::cout &lt;&lt; "Kugle nakon obavljenje transformacije imaju sljedece vrijednosti: " &lt;&lt; std::endl;
    std::transform(niz.begin(),niz.end(),niz.begin(),[dx,dy,dz] (std::shared_ptr&lt;Kugla&gt;p) { p-&gt;Transliraj(dx,dy,dz); return p; } );
</font><a name="1"></a><font color="#00FF00"><a href="match239-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_12.gif"/></a>

    std::sort(niz.begin(),niz.end(),[] (std::shared_ptr&lt;Kugla&gt;x,std::shared_ptr&lt;Kugla&gt;y) { return x-&gt;DajZapreminu()&lt;y-&gt;DajZapreminu(); } );
    std::for_each(niz.begin(),niz.end(),[] (std::shared_ptr&lt;Kugla&gt; p) {std::cout &lt;&lt; "{("&lt;&lt;p-&gt;DajX()&lt;&lt;","&lt;&lt;p-&gt;DajY()&lt;&lt;","&lt;&lt;p-&gt;DajZ()&lt;&lt;"),"&lt;&lt;p-&gt;DajPoluprecnik()&lt;&lt;"}" &lt;&lt; std::endl;} );
    auto it(std::max_element(niz.begin(),niz.end(),[] (std::shared_ptr&lt;Kugla&gt;x,std::shared_ptr&lt;Kugla&gt;y) { return x-&gt;DajPovrsinu()&lt;y-&gt;DajPovrsinu(); } ) );
    int razmak(std::distance(niz.begin(),it));
    std::cout &lt;&lt; "Kugla sa najvecom povrsinom je: ";
    niz[razmak]-&gt;Ispisi();
   /* std::for_each(niz.begin(),niz.end(),[niz,parovi] (std::shared_ptr&lt;Kugla&gt;p) { 
        std::for_each(niz.begin(),niz.end(),[p,parovi](std::shared_ptr&lt;Kugla&gt;p1) { 
            if(DaLiSeSijeku(*p,*p1)) {
                
            }
        });
    });  */
    int brojac(0);
    for(int i(0);i&lt;niz.size()-1;i++) {
        for(int k(i+1);k&lt;niz.size();k++) {
            if(DaLiSeSijeku(*niz[i],*niz[k])) {
                brojac++;
                std::cout &lt;&lt; "Presjecaju se kugle: ";
                niz[i]-&gt;Ispisi(); niz[k]-&gt;Ispisi();
            }
        }
    }
    if(brojac==0) std::cout &lt;&lt; "Ne postoje kugle koje se presjecaju!" &lt;&lt; std::endl;
</font>    return 0;
}
</pre>
</body>
</html>
