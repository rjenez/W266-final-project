<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z4/Z1/student8412.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z4/Z1/student9466.cpp<p></p><pre>
<a name="2"></a><font color="#0000FF"><a href="match241-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_11.gif"/></a>

/B2017/2018: Zadaća 4, Zadatak 1
#include &lt;iostream&gt;
#include&lt;tuple&gt;
#include&lt;stdexcept&gt;
#include&lt;cmath&gt;
#include&lt;exception&gt;
#include&lt;memory&gt;
#include&lt;vector&gt;
#include&lt;algorithm&gt;
#define pi (4*atan(1.0))
#define eps (10e-10)

template&lt;typename tip&gt;
bool jednako(tip x,tip y)
{
    if(x&lt;0) x=-x;
    if(y&lt;0) y=-y;
    if(x&gt;y)
    return ((x-y)&lt;eps*((x)+(y)));
    else return ((y-x)&lt;eps*((x)+(y)));
}
class Kugla{
double x,y,z,r;
public:
explicit Kugla(double pol = 0){
    if(pol&lt;0) throw std::domain_error("Ilegalan poluprecnik");
    x=0;
    y=0;
    z=0;
    r=pol;
}
Kugla(double x1, double y1, double z1, double r1 = 0){
    if(r1&lt;0) throw std::domain_error("Ilegalan poluprecnik");
    x=x1;
    y=y1;
    z=z1;
    r=r1;
}
explicit Kugla(const std::tuple&lt;double, double, double&gt; &amp;centar, double r1 = 0){
</font>    if(r1&lt;0) throw std::domain_error("Ilegalan poluprecnik");
<a name="5"></a><font color="#FF0000"><a href="match241-0.html#5" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_3.gif"/></a>

    x=std::get&lt;0&gt;(centar);
    y=std::get&lt;1&gt;(centar);
    z=std::get&lt;2&gt;(centar);
    r=r1;
}
double DajX() const{
    return x;
}
double DajY() const{
    return y;
}
double DajZ() const{
    return z;
}
std::tuple&lt;double, double, double&gt; DajCentar() const{
</font><a name="4"></a><font color="#FF00FF"><a href="match241-0.html#4" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_3.gif"/></a>

    return (std::make_tuple(x,y,z));
   
}
double DajPoluprecnik() const{
    return r;
}
double DajPovrsinu() const{
    return 4*r*r*pi;
}
double DajZapreminu() const{
    return (4/3)*r*r*r*pi;
}
Kugla &amp;PostaviX(double x1){
    x=x1;
    return *this;
}
Kugla &amp;PostaviY(double y1){
    y=y1;
    return *this;
</font>}
Kugla &amp;PostaviZ(double z1){
    z=z1;
    return *this;
}
<a name="3"></a><font color="#00FFFF"><a href="match241-0.html#3" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_6.gif"/></a>

Kugla &amp;PostaviCentar(double x1, double y1, double z1){
    x=x1;
    y=y1;
    z=z1;
    return *this;
}
Kugla &amp;PostaviCentar(const std::tuple&lt;double, double, double&gt; &amp;centar){
    x=std::get&lt;0&gt;(centar);
    y=std::get&lt;1&gt;(centar);
    z=std::get&lt;2&gt;(centar);
    return *this;
}
Kugla &amp;PostaviPoluprecnik(double r1){
    r=r1;
    return *this;
}
//“{( , , ), }”.
void Ispisi() const{
    std::cout&lt;&lt;"{("&lt;&lt;x&lt;&lt;","&lt;&lt;y&lt;&lt;","&lt;&lt;z&lt;&lt;"),"&lt;&lt;r&lt;&lt;"}"&lt;&lt;std::endl;
</font>}
void Transliraj(double delta_x, double delta_y, double delta_z){
    x+=delta_x;
    y+=delta_y;
    z+=delta_z;
}

friend bool DaLiSuIdenticne(const Kugla &amp;k1, const Kugla &amp;k2);//URADJENO
friend bool DaLiSuPodudarne(const Kugla &amp;k1, const Kugla &amp;k2);//URADJENO
friend bool DaLiSuKoncentricne(const Kugla &amp;k1, const Kugla &amp;k2);//URADJENO
friend bool DaLiSeDodirujuIzvana(const Kugla &amp;k1, const Kugla &amp;k2);//URADJENO
friend bool DaLiSeDodirujuIznutra(const Kugla &amp;k1, const Kugla &amp;k2);//URADJENO
<a name="1"></a><font color="#00FF00"><a href="match241-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_11.gif"/></a>

friend bool DaLiSePreklapaju(const Kugla &amp;k1, const Kugla &amp;k2);//URADJENO
friend bool DaLiSeSijeku(const Kugla &amp;k1, const Kugla &amp;k2);
bool DaLiSadrzi(const Kugla &amp;k) const{
return (r&gt;=k.r+RastojanjeCentara(*this,k));
}
friend double RastojanjeCentara(const Kugla &amp;k1, const Kugla &amp;k2);
};
bool DaLiSuIdenticne(const Kugla &amp;k1, const Kugla &amp;k2){
    return (jednako(k1.x,k2.x) and jednako(k2.y,k1.y) and  jednako(k2.z,k1.z) and jednako(k1.r,k2.r));
}
bool DaLiSuPodudarne(const Kugla &amp;k1, const Kugla &amp;k2){
    return jednako(k1.r,k2.r);
}
bool DaLiSuKoncentricne(const Kugla &amp;k1, const Kugla &amp;k2){
return (jednako(k1.x,k2.x) and jednako(k2.y,k1.y) and  jednako(k2.z,k1.z) );
}
double RastojanjeCentara(const Kugla &amp;k1, const Kugla &amp;k2)
{
    return sqrt((k1.x-k2.x)*(k1.x-k2.x)+(k1.y-k2.y)*(k1.y-k2.y)+(k1.z-k2.z)*(k1.z-k2.z));
</font><a name="0"></a><font color="#FF0000"><a href="match241-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_49.gif"/></a>

}
bool DaLiSeDodirujuIzvana(const Kugla &amp;k1, const Kugla &amp;k2){
    return (!(k1.DaLiSadrzi(k2) or k2.DaLiSadrzi(k1)) and jednako(RastojanjeCentara(k1,k2),k1.r+k2.r));
}
bool DaLiSeDodirujuIznutra(const Kugla &amp;k1, const Kugla &amp;k2){
    return ((k1.DaLiSadrzi(k2) and jednako(k1.r,k2.r+RastojanjeCentara(k1,k2))) or (k2.DaLiSadrzi(k1) and jednako(k2.r,k1.r+RastojanjeCentara(k1,k2)) ) );
}
bool DaLiSePreklapaju(const Kugla &amp;k1, const Kugla &amp;k2){
    return(RastojanjeCentara(k1,k2)&lt;k1.r+k2.r);
}
bool DaLiSeSijeku(const Kugla &amp;k1, const Kugla &amp;k2){
    return (DaLiSePreklapaju(k1,k2) and !(k1.DaLiSadrzi(k2)  or k2.DaLiSadrzi(k1)));
}
int main ()
{
    int k=0;
    int n=0;
    std::cout&lt;&lt;"Unesite broj kugla: ";
    do{
      
    if(k&gt;0) std::cout&lt;&lt;"Neispravan broj kugli, unesite ponovo!\n";
    
    std::cin&gt;&gt;n;
    if(n&lt;1){std::cin.clear(); std::cin.ignore(10000,'\n'); }
      k++;
     
    }while(n&lt;1);
    std::vector&lt;std::shared_ptr&lt;Kugla&gt;&gt; v(n);
    try{
        for(int i=0;i&lt;n;i++)
        {
            do{
            std::cout&lt;&lt;"Unesite centar "&lt;&lt;i+1 &lt;&lt;". kugle: ";
            double x,y,z;
            std::cin&gt;&gt;x&gt;&gt;y&gt;&gt;z;
            if(!(std::cin)) { std::cin.clear(); std::cin.ignore(10000,'\n'); std::cout&lt;&lt;"Neispravan centar\n"; continue;}
            
            v[i]=std::make_shared&lt;Kugla&gt;(x,y,z);
            double r;
            
            std::cout&lt;&lt;"Unesite poluprecnik "&lt;&lt;i+1 &lt;&lt;". kugle: ";
            std::cin&gt;&gt;r;
            if(!(std::cin) or r&lt;0){ std::cin.clear(); std::cin.ignore(10000,'\n'); std::cout&lt;&lt;"Ilegalan poluprecnik\n"; continue;}
            else{
            (*v[i]).PostaviPoluprecnik(r);
                break;
            }
            }while (1); 
            
            
            
        }
        double delta_x,delta_y,delta_z;
        
        std::cout&lt;&lt;"Unesite parametre translacije (delta_x,delta_y,delta_z): ";
        do{
        std::cin&gt;&gt;delta_x&gt;&gt;delta_y&gt;&gt;delta_z;
        if(!(std::cin)){std::cin.clear(); std::cin.ignore(10000,'\n'); std::cout&lt;&lt;"Neispravni parametri translacije, unesite ponovo!\n"; continue;}
        else break;
        }while (true);
        std::transform(v.begin(),v.end(),v.begin(),[delta_x,delta_y,delta_z] (std::shared_ptr&lt;Kugla&gt; p1) {(*p1).Transliraj(delta_x,delta_y,delta_z); return p1; });
        std::sort(v.begin(),v.end(),[](std::shared_ptr&lt;Kugla&gt; p1,std::shared_ptr&lt;Kugla&gt; p2){return ((*p1).DajZapreminu()&lt;(*p2).DajZapreminu());});
        std::cout&lt;&lt;"Kugle nakon obavljenje transformacije imaju sljedece vrijednosti: \n";
        std::for_each(v.begin(),v.end(),[](std::shared_ptr&lt;Kugla&gt; p1){(*p1).Ispisi();   });
        auto p=std::max_element(v.begin(),v.end(),[](std::shared_ptr&lt;Kugla&gt; p1,std::shared_ptr&lt;Kugla&gt; p2){return ((*p1).DajPovrsinu()&lt;(*p2).DajPovrsinu());});
        std::cout&lt;&lt;"Kugla sa najvecom povrsinom je: ";
        (**p).Ispisi();
        int br=0,br1=0;
        std::for_each(v.begin(),v.end(),[&amp;br,v,&amp;br1](std::shared_ptr&lt;Kugla&gt; p1){
            
            std::for_each(v.begin()+br1,v.end(),[&amp;br,p1](std::shared_ptr&lt;Kugla&gt; p2){
                if(DaLiSeSijeku(*p1,*p2)){ std::cout&lt;&lt;"\nPresjecaju se kugle: ";
                (*p1).Ispisi();
                std::cout&lt;&lt;std::endl;
                (*p2).Ispisi();
                br++;}
            });
           br1++; 
        });
        if(br==0) std::cout&lt;&lt;"\nNe postoje kugle koje se presjecaju!";
    }
    catch(std::exception &amp;e){
        std::cout&lt;&lt;e.what();
</font>    }
	return 0;
}
</pre>
</body>
</html>
