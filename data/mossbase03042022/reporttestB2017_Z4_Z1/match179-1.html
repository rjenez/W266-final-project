<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z4/Z1/student1237.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z4/Z1/student3756.cpp<p></p><pre>
<a name="1"></a><font color="#00FF00"><a href="match179-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_7.gif"/></a>

/B2017/2018: ZadaÄ‡a 4, Zadatak 1
#include &lt;iostream&gt;
#include &lt;cmath&gt; 
#include &lt;stdexcept&gt; 
#include &lt;tuple&gt; 
#include &lt;memory&gt;
#include &lt;algorithm&gt; 
#include &lt;new&gt;
#include &lt;iterator&gt; 
#include &lt;vector&gt;

double const Pi(4*atan(1));


class Kugla{
   double x, y, z, r; 
   
   public:
   
    explicit Kugla(double r = 0){
        if(r &lt; 0) throw std::domain_error("Ilegalan poluprecnik"); 
        Kugla::x = 0; Kugla::y = 0; Kugla::z = 0; 
        Kugla::r = r; 
    }
    Kugla(double x, double y, double z, double r = 0){
        if(r &lt; 0) throw std::domain_error("Ilegalan poluprecnik"); 
        Kugla::x = x, Kugla::y = y; Kugla::z = z; 
        Kugla::r = r; 
    }
    explicit Kugla(const std::tuple&lt;double, double, double&gt; &amp;centar, double r = 0){
</font>        if(r &lt; 0) throw std::domain_error("Ilegalan poluprecnik"); 
<a name="2"></a><font color="#0000FF"><a href="match179-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_7.gif"/></a>

        x = std::get&lt;0&gt;(centar); y = std::get&lt;1&gt;(centar); z = std::get&lt;2&gt;(centar); 
        Kugla::r = r; 
    }
    double DajX() const{ return x; }
    double DajY() const{ return y; }
    double DajZ() const{ return z; }
    std::tuple&lt;double, double, double&gt; DajCentar() const{
        std::tuple&lt;double, double, double&gt; centar; 
        centar = std::make_tuple(x, y, z); 
        return centar;
    }
    double DajPoluprecnik() const{ return r; }
    double DajPovrsinu() const{ return 4*DajPoluprecnik()*DajPoluprecnik()*Pi; }
    double DajZapreminu() const{ return 4/3. * DajPoluprecnik() * DajPoluprecnik() * DajPoluprecnik() * Pi; }
    Kugla &amp;PostaviX(double x) { Kugla::x = x; return *this; }
    Kugla &amp;PostaviY(double y) { Kugla::y = y; return *this; }
</font>    Kugla &amp;PostaviZ(double z) { Kugla::z = z; return *this; }
    Kugla &amp;PostaviCentar(double x, double y, double z){ Kugla::x = x; Kugla::y = y; Kugla::z = z; return *this; } 
    Kugla &amp;PostaviCentar(const std::tuple&lt;double, double, double&gt; &amp;centar) {
        x = std::get&lt;0&gt;(centar); y = std::get&lt;1&gt;(centar); z = std::get&lt;2&gt;(centar); 
        return *this; 
    }
    Kugla &amp;PostaviPoluprecnik(double r){
        if(r &lt; 0) throw std::domain_error("Ilegalan poluprecnik"); 
        Kugla::r = r; 
        return *this; 
    }
    void Ispisi() const{
        std::cout &lt;&lt; "{(" &lt;&lt; DajX() &lt;&lt; "," &lt;&lt; DajY() &lt;&lt; "," &lt;&lt; DajZ() &lt;&lt; ")," &lt;&lt; DajPoluprecnik() &lt;&lt; "}" &lt;&lt; std::endl; 
    }
    void Transliraj(double delta_x, double delta_y, double delta_z){
        x += delta_x; y += delta_y; z += delta_z; 
    }
    friend bool DaLiSuIdenticne(const Kugla &amp;k1, const Kugla &amp;k2); 
    friend bool DaLiSuPodudarne(const Kugla &amp;k1, const Kugla &amp;k2);
    friend bool DaLiSuKoncentricne(const Kugla &amp;k1, const Kugla &amp;k2);
    friend bool DaLiSeDodirujuIzvana(const Kugla &amp;k1, const Kugla &amp;k2);
    friend bool DaLiSeDodirujuIznutra(const Kugla &amp;k1, const Kugla &amp;k2);
    friend bool DaLiSePreklapaju(const Kugla &amp;k1, const Kugla &amp;k2);
    friend bool DaLiSeSijeku(const Kugla &amp;k1, const Kugla &amp;k2);
    bool DaLiSadrzi(const Kugla &amp;k) const;
<a name="0"></a><font color="#FF0000"><a href="match179-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_65.gif"/></a>

    friend double RastojanjeCentara(const Kugla &amp;k1, const Kugla &amp;k2);
}; 

    bool DaLiSuIdenticne(const Kugla &amp;k1, const Kugla &amp;k2){
        if(!DaLiSuPodudarne(k1, k2)) return false; 
        if(!DaLiSuKoncentricne(k1, k2)) return false; 
        return true; 
    }
    bool DaLiSuPodudarne(const Kugla &amp;k1, const Kugla &amp;k2){
        if(k1.DajPoluprecnik() == k2.DajPoluprecnik()) return true; 
        return false; 
    }
    
    bool DaLiSuKoncentricne(const Kugla &amp;k1, const Kugla &amp;k2){
        if(k1.DajX() != k2.DajX()) return false; 
        if(k1.DajY() != k2.DajY()) return false; 
        if(k1.DajZ() != k2.DajZ()) return false; 
        return true; 
    }
    
    double RastojanjeCentara(const Kugla &amp;k1, const Kugla &amp;k2){
        double rastojanje; 
        rastojanje = sqrt((k1.DajX()-k2.DajX()) * (k1.DajX()-k2.DajX()) + (k1.DajY()-k2.DajY()) * (k1.DajY()-k2.DajY()) + (k1.DajZ()-k2.DajZ()) * (k1.DajZ()-k2.DajZ()));
        return rastojanje;     
    }
    
    bool DaLiSeDodirujuIzvana(const Kugla &amp;k1, const Kugla &amp;k2){
        return RastojanjeCentara(k1, k2) == (k1.DajPoluprecnik() + k2.DajPoluprecnik());
    } 
    
    bool DaLiSeDodirujuIznutra(const Kugla &amp;k1, const Kugla &amp;k2){
        return RastojanjeCentara(k1, k2) + std::min(k1.DajPoluprecnik(), k2.DajPoluprecnik()) == std::max(k1.DajPoluprecnik(), k2.DajPoluprecnik()); 
    }
    
    bool DaLiSeSijeku(const Kugla &amp;k1, const Kugla &amp;k2){
        return RastojanjeCentara(k1, k2) &gt;= std::max(k1.DajPoluprecnik(), k2.DajPoluprecnik()) &amp;&amp; RastojanjeCentara(k1, k2) &lt; k1.DajPoluprecnik() + k2.DajPoluprecnik() ||
               RastojanjeCentara(k1, k2) &lt; std::max(k1.DajPoluprecnik(), k2.DajPoluprecnik()) &amp;&amp; RastojanjeCentara(k1, k2) + std::min(k1.DajPoluprecnik(), k2.DajPoluprecnik()) &gt; std::max(k1.DajPoluprecnik(), k2.DajPoluprecnik());
    }
    
    bool Kugla::DaLiSadrzi(const Kugla &amp;k) const{
        return RastojanjeCentara(*this, k) &lt; this-&gt;DajPoluprecnik() &amp;&amp; 
               RastojanjeCentara(*this, k) + k.DajPoluprecnik() &lt;= this-&gt;DajPoluprecnik();
    }
    
    bool DaLiSePreklapaju(const Kugla &amp;k1, const Kugla &amp;k2){
        if(!DaLiSeDodirujuIznutra(k1, k2) &amp;&amp; !DaLiSeDodirujuIzvana(k1, k2) &amp;&amp; DaLiSeSijeku(k1, k2)) return true; 
        return false; 
    }
    
   
   
int main ()
{
   
    std::cout &lt;&lt; "Unesite broj kugla: "; 
    int n; 
    std::cin &gt;&gt; n; 
    while (!std::cin || n &lt;= 0) {
        std::cout &lt;&lt; "Neispravan broj kugli, unesite ponovo!" &lt;&lt; std::endl; 
        std::cin.clear(); 
        std::cin.ignore(10000, '\n');
        std::cin &gt;&gt; n; 
    }
    std::vector&lt;std::shared_ptr&lt;Kugla&gt;&gt; vektor_pokazivaca(n); 
    for(int i = 0; i &lt; n; i++){
        
        std::cout &lt;&lt; "Unesite centar " &lt;&lt; i+1 &lt;&lt;". kugle: "; 
        int x, y, z; 
        std::cin &gt;&gt; x &gt;&gt; y &gt;&gt; z; 
        while (!std::cin) {
            std::cout &lt;&lt; "Neispravan centar" &lt;&lt; std::endl; 
            std::cout &lt;&lt; "Unesite centar " &lt;&lt; i+1 &lt;&lt;". kugle: "; 
            std::cin.clear(); 
            std::cin.ignore(10000, '\n'); 
            std::cin &gt;&gt; x &gt;&gt; y &gt;&gt; z; 
        }
        std::cout &lt;&lt; "Unesite poluprecnik " &lt;&lt; i+1 &lt;&lt; ". kugle: "; 
        double r; 
        std::cin &gt;&gt; r; 
        while(!std::cin || r &lt; 0){ 
            std::cout &lt;&lt; "Ilegalan poluprecnik" &lt;&lt; std::endl; 
            std::cout &lt;&lt; "Unesite centar " &lt;&lt; i+1 &lt;&lt;". kugle: ";
            std::cin.clear(); 
            std::cin.ignore(10000, '\n');
            std::cin &gt;&gt; x &gt;&gt; y &gt;&gt; z; 
            std::cout &lt;&lt; "Unesite poluprecnik " &lt;&lt; i+1 &lt;&lt; ". kugle: "; 
            std::cin &gt;&gt; r; 
        }
        
        vektor_pokazivaca[i] = std::make_shared&lt;Kugla&gt;(x, y, z, r); 
    }
    
    std::cout &lt;&lt; "Unesite parametre translacije (delta_x,delta_y,delta_z): "; 
    int delta_x, delta_y, delta_z; 
    std::cin &gt;&gt; delta_x &gt;&gt; delta_y &gt;&gt; delta_z; 
    while (!std::cin) {
        std::cout &lt;&lt; "Neispravni parametri translacije, unesite ponovo!" &lt;&lt; std::endl; 
        std::cin.clear(); 
        std::cin.ignore(10000, '\n');
        std::cin &gt;&gt; delta_x &gt;&gt; delta_y &gt;&gt; delta_z; 
    }
    
    std::transform(vektor_pokazivaca.begin(), vektor_pokazivaca.end(), vektor_pokazivaca.begin(), 
    [delta_x, delta_y, delta_z] (std::shared_ptr&lt;Kugla&gt; k)-&gt; std::shared_ptr&lt;Kugla&gt; { (*k).Transliraj(delta_x, delta_y, delta_z); return k; }   );
    
    std::sort(vektor_pokazivaca.begin(), vektor_pokazivaca.end(), 
    [](std::shared_ptr&lt;Kugla&gt; k1, std::shared_ptr&lt;Kugla&gt; k2){return (*k1).DajZapreminu() &lt; (*k2).DajZapreminu(); }); 
    std::cout &lt;&lt; "Kugle nakon obavljenje transformacije imaju sljedece vrijednosti: " &lt;&lt; std::endl; 
    
    std::for_each(vektor_pokazivaca.begin(), vektor_pokazivaca.end(), 
    [](std::shared_ptr&lt;Kugla&gt; k) -&gt; std::shared_ptr&lt;Kugla&gt; {(*k).Ispisi(); return k;});
    
    
    std::vector&lt;std::shared_ptr&lt;Kugla&gt;&gt;::iterator najveci = std::max_element(vektor_pokazivaca.begin(), vektor_pokazivaca.end(), 
    [](std::shared_ptr&lt;Kugla&gt; k1, std::shared_ptr&lt;Kugla&gt; k2){return (*k1).DajPovrsinu() &lt; (*k2).DajPovrsinu(); } );
    std::cout &lt;&lt; "Kugla sa najvecom povrsinom je: "; (**najveci).Ispisi();

    
   static bool st(false); 
   static std::vector&lt;std::pair&lt;std::shared_ptr&lt;Kugla&gt;, std::shared_ptr&lt;Kugla&gt;&gt;&gt; parovi; 
   std::for_each(vektor_pokazivaca.begin(), vektor_pokazivaca.end(), [vektor_pokazivaca](std::shared_ptr&lt;Kugla&gt; p1){
       std::for_each(vektor_pokazivaca.begin(), vektor_pokazivaca.end(), [p1, vektor_pokazivaca](std::shared_ptr&lt;Kugla&gt; p2){
           if(DaLiSeSijeku(*p1, *p2)){
               auto pp = std::make_pair(p2, p1); 
               auto pp1 = std::make_pair(p1, p2); 
               auto it = std::find(parovi.begin(), parovi.end(), pp);
               if(it == parovi.end()){
                   parovi.push_back(pp1); 
                   std::cout &lt;&lt; "Presjecaju se kugle: "; 
                   st = true; 
                   p1-&gt;Ispisi(); p2-&gt;Ispisi();
               }
           }
           
       });
       
   });
    if(!st) std::cout &lt;&lt;"Ne postoje kugle koje se presjecaju!" &lt;&lt; std::endl;
    
	return 0;
</font>	
}

</pre>
</body>
</html>
