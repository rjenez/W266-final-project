<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z4/Z1/student1021.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z4/Z1/student1021.cpp<p></p><pre>
/B2017/2018: ZadaÄ‡a 4, Zadatak 1
#include &lt;iostream&gt;
#include &lt;cmath&gt;
#include &lt;stdexcept&gt;
#include &lt;algorithm&gt;
#include &lt;tuple&gt;
#include &lt;vector&gt;
#include &lt;memory&gt;

const double PI(4*atan(1));

template &lt;typename Tip&gt;
bool JesuLiJednaki(Tip x, Tip y, double eps=1e-10) {
    if ((x&lt;0 &amp;&amp; y&gt;0) || (x&gt;0 &amp;&amp; y&lt;0)) return false;
    return std::fabs(x-y) &lt;= eps*(std::fabs(x)+std::fabs(y));
}

class Kugla {
    double x, y, z, r;
    public:
        explicit Kugla(double r=0) { x=y=z=0; }
        
        Kugla(double x, double y, double z, double r=0) {
            if (r&lt;0) throw std::domain_error ("Ilegalan poluprecnik");
            Kugla::x=x; Kugla::y=y; Kugla::z=z; Kugla::r=r;
        }
        explicit Kugla(const std::tuple&lt;double, double, double&gt; &amp;centar, double r=0) {
            if (r&lt;0) throw std::domain_error ("Ilegalan poluprecnik");
<a name="1"></a><font color="#00FF00"><a href="match479-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_2.gif"/></a>

            x=std::get&lt;0&gt;(centar); y=std::get&lt;1&gt;(centar); z=std::get&lt;2&gt;(centar);
            Kugla::r=r;
        }
        
        double DajX() const;
        double DajY() const;
        double DajZ() const; 
        std::tuple&lt;double, double, double&gt; DajCentar() const;
        double DajPoluprecnik() const;
        double DajPovrsinu() const;
        double DajZapreminu() const;
        Kugla &amp;PostaviX (double x);
        Kugla &amp;PostaviY (double y);
        Kugla &amp;PostaviZ (double z);
</font>        Kugla &amp;PostaviCentar(double x, double y, double z);
<a name="4"></a><font color="#FF00FF"><a href="match479-1.html#4" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_1.gif"/></a>

        Kugla &amp;PostaviCentar(const std::tuple&lt;double, double, double&gt; &amp;centar);
        Kugla &amp;PostaviPoluprecnik(double r);
        void Ispisi() const;
        void Transliraj (double delta_x, double delta_y, double delta_z);
</font>        friend bool DaLiSuIdenticne(const Kugla &amp;k1, const Kugla &amp;k2);
        friend bool DaLiSuPodudarne(const Kugla &amp;k1, const Kugla &amp;k2);
        friend bool DaLiSuKoncentricne(const Kugla &amp;k1, const Kugla &amp;k2);
        friend bool DaLiSeDodirujuIzvana(const Kugla &amp;k1, const Kugla &amp;k2);
        friend bool DaLiSeDodirujuIznutra(const Kugla &amp;k1, const Kugla &amp;k2);
        friend bool DaLiSePreklapaju(const Kugla &amp;k1, const Kugla &amp;k2);
        friend bool DaLiSeSijeku(const Kugla &amp;k1, const Kugla &amp;k2);
        
        bool DaLiSadrzi (const Kugla &amp;k) const {
            double d(std::sqrt((k.x-x)*(k.x-x) + (k.y-y)*(k.y-y) + (k.z-z)*(k.z-z)));
            if (d&lt;std::fabs(r-k.r)) return true;
            else return false;
        }
        
        friend double RastojanjeCentara(const Kugla &amp;k1, const Kugla &amp;k2);
}; // KRAJ KLASE

<a name="2"></a><font color="#0000FF"><a href="match479-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_2.gif"/></a>

double Kugla::DajX() const { return x; }
double Kugla::DajY() const { return y; }
double Kugla::DajZ() const { return z; }

std::tuple&lt;double, double, double&gt; Kugla::DajCentar() const {
    std::tuple&lt;double, double, double&gt; pomocna;
</font><a name="3"></a><font color="#00FFFF"><a href="match479-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_1.gif"/></a>

    std::get&lt;0&gt;(pomocna)=x; std::get&lt;1&gt;(pomocna)=y; std::get&lt;2&gt;(pomocna)=z;
    return pomocna;
}

double Kugla::DajPoluprecnik() const { return r; }
double Kugla::DajPovrsinu() const { return(4*r*r*PI); }
double Kugla::DajZapreminu() const { return(4/3.*r*r*r*PI); }
</font><a name="0"></a><font color="#FF0000"><a href="match479-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_13.gif"/></a>


Kugla &amp;Kugla::PostaviX (double x) { Kugla::x=x; return *this; }
Kugla &amp;Kugla::PostaviY (double y) { Kugla::y=y; return *this; }
Kugla &amp;Kugla::PostaviZ (double z) { Kugla::z=z; return *this; }

Kugla &amp;Kugla::PostaviCentar(double x, double y, double z) {
    Kugla::x=x; Kugla::y=y; Kugla::z=z; 
    return *this; 
}

Kugla &amp;Kugla::PostaviCentar(const std::tuple&lt;double, double, double&gt; &amp;centar) {
    Kugla::x=std::get&lt;0&gt;(centar); Kugla::y=std::get&lt;1&gt;(centar); Kugla::z=std::get&lt;2&gt;(centar);
    return *this;
}

Kugla &amp;Kugla::PostaviPoluprecnik(double r) { 
    if (r&lt;0) throw std::domain_error ("Ilegalan poluprecnik"); 
    Kugla::r=r; 
    return *this;
}

void Kugla::Ispisi() const { std::cout&lt;&lt;"{("&lt;&lt;DajX()&lt;&lt;","&lt;&lt;DajY()&lt;&lt;","&lt;&lt;DajZ()&lt;&lt;"),"&lt;&lt;r&lt;&lt;"}"; }

void Kugla::Transliraj(double delta_x, double delta_y, double delta_z) { x+=delta_x; y+=delta_y; z+=delta_z; }

bool DaLiSuIdenticne(const Kugla &amp;k1, const Kugla &amp;k2) {
</font>    return (JesuLiJednaki(k1.x, k2.x) &amp;&amp; JesuLiJednaki(k1.y, k2.y) &amp;&amp; JesuLiJednaki(k1.z, k2.z) &amp;&amp; JesuLiJednaki(k1.r, k2.r));
}

bool DaLiSuPodudarne(const Kugla &amp;k1, const Kugla &amp;k2) {
    return (JesuLiJednaki(k1.r, k2.r));
}

bool DaLiSuKoncentricne(const Kugla &amp;k1, const Kugla &amp;k2) {
    return (JesuLiJednaki(k1.x, k2.x) &amp;&amp; JesuLiJednaki(k1.y, k2.y) &amp;&amp; JesuLiJednaki(k1.z,k2.z));
}

bool DaLiSeDodirujuIzvana(const Kugla &amp;k1, const Kugla &amp;k2) {
    if (JesuLiJednaki(k1.r+k2.r, RastojanjeCentara(k1, k2))) return true;
    else return false;
}

bool DaLiSeDodirujuIznutra(const Kugla &amp;k1, const Kugla &amp;k2) {
    if (JesuLiJednaki(k1.r-k2.r, RastojanjeCentara(k1, k2))) return true;
    else return false;
}

bool DaLiSePreklapaju(const Kugla &amp;k1, const Kugla &amp;k2) {
    if (DaLiSeSijeku(k1, k2)) return true;
    else return false;
}

bool DaLiSeSijeku(const Kugla &amp;k1, const Kugla &amp;k2) {
<a name="5"></a><font color="#FF0000"><a href="match479-1.html#5" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_1.gif"/></a>

    if ((std::fabs(k2.r-k1.r) &lt; std::fabs(RastojanjeCentara(k1, k2))) &amp;&amp; (std::fabs(RastojanjeCentara(k1, k2))&lt;k1.r+k2.r)) return true;
    return false;
}

double RastojanjeCentara(const Kugla &amp;k1, const Kugla &amp;k2) {
    return (std::sqrt((k1.x-k2.x)*(k1.x-k2.x) + (k1.y-k2.y)*(k1.y-k2.y) + (k1.z-k2.z)*(k1.z-k2.z)));
</font>}


int main () {
    int n;
    double pom1, pom2, pom3, pom4;
    double p1, p2, p3;
    std::cout&lt;&lt;"Unesite broj kugla: ";
    
    do {
        std::cin&gt;&gt;n;
        if (n&lt;=0 || !std::cin) {
            std::cout&lt;&lt;"Neispravan broj kugli, unesite ponovo!"&lt;&lt;std::endl;
            std::cin.clear();
            std::cin.ignore(10000,'\n');
        }
    } while (n&lt;=0 || !std::cin);
    
    std::vector&lt;std::shared_ptr&lt;Kugla&gt;&gt;vektor_kugli(n);
    
    for (int i=0; i&lt;n; i++) {
        BA:
        std::cout&lt;&lt;"Unesite centar "&lt;&lt; i+1 &lt;&lt;". kugle: ";
        std::cin&gt;&gt;pom1&gt;&gt;pom2&gt;&gt;pom3;
        while (!std::cin) {
            std::cout&lt;&lt;"Neispravan centar"&lt;&lt;std::endl;
            std::cout&lt;&lt;"Unesite centar "&lt;&lt; i+1 &lt;&lt;". kugle: ";
            std::cin.clear();
            std::cin.ignore(10000,'\n');
            std::cin&gt;&gt;pom1&gt;&gt;pom2&gt;&gt;pom3;
        } 

        std::cout&lt;&lt;"Unesite poluprecnik "&lt;&lt; i+1 &lt;&lt;". kugle: ";
        std::cin&gt;&gt;pom4;
        while (!std::cin || pom4&lt;0) {
            std::cout&lt;&lt;"Ilegalan poluprecnik"&lt;&lt;std::endl;
            std::cin.clear();
            std::cin.ignore(10000,'\n');
            goto BA;
        }
        try {
            Kugla kugla(pom1, pom2, pom3, pom4);
            vektor_kugli[i]=std::make_shared&lt;Kugla&gt;(kugla);
        } 
        catch (std::domain_error izuzetak1) {
            std::cout&lt;&lt;izuzetak1.what();
            std::cout&lt;&lt;std::endl;
            i--;
        }
        catch (...) {
            std::cout&lt;&lt;"Ponovite unos: "&lt;&lt;std::endl;
            i--;
        }
        
    }
    
    std::cout&lt;&lt;"Unesite parametre translacije (delta_x,delta_y,delta_z): ";
    std::cin&gt;&gt;p1&gt;&gt;p2&gt;&gt;p3;
    while (!std::cin) {
        std::cout&lt;&lt;"Neispravni parametri translacije, unesite ponovo!"&lt;&lt;std::endl;
        std::cin.clear();
        std::cin.ignore(10000,'\n');
        std::cin&gt;&gt;p1&gt;&gt;p2&gt;&gt;p3;
    }
    
    std::cout&lt;&lt;"Kugle nakon obavljenje transformacije imaju sljedece vrijednosti: ";
    std::cout&lt;&lt;std::endl;
    std::transform(std::begin(vektor_kugli), std::end(vektor_kugli), std::begin(vektor_kugli), [p1,p2,p3](std::shared_ptr&lt;Kugla&gt; &amp;k){
        k-&gt;Transliraj(p1,p2,p3);
        return k;
    });
    
    std::sort(std::begin(vektor_kugli), std::end(vektor_kugli), [](const std::shared_ptr&lt;Kugla&gt; &amp;k1, const std::shared_ptr&lt;Kugla&gt; &amp;k2){
        return (k1-&gt;DajZapreminu() &lt; k2-&gt;DajZapreminu());
    });
    
    std::for_each(std::begin(vektor_kugli), std::end(vektor_kugli), [](const std::shared_ptr&lt;Kugla&gt; &amp;k){ 
        k-&gt;Ispisi();
        std::cout&lt;&lt;std::endl;
    });
    
    std::cout&lt;&lt;"Kugla sa najvecom povrsinom je: ";
    auto max_povrsina(*std::max_element(std::begin(vektor_kugli), std::end(vektor_kugli), [](const std::shared_ptr&lt;Kugla&gt; &amp;k1, const std::shared_ptr&lt;Kugla&gt; &amp;k2){
        return (k1-&gt;DajPovrsinu() &lt; k2-&gt;DajPovrsinu());
    }));
    max_povrsina-&gt;Ispisi();
    std::cout&lt;&lt;std::endl;
    
    bool sijeku_se(false);
    int brojac(0);
    
    std::for_each(std::begin(vektor_kugli), std::end(vektor_kugli), [&amp;brojac, &amp;sijeku_se, vektor_kugli](const std::shared_ptr&lt;Kugla&gt; &amp;k1){
        brojac++;
        std::for_each(std::begin(vektor_kugli)+brojac, std::end(vektor_kugli), [&amp;k1, &amp;sijeku_se](const std::shared_ptr&lt;Kugla&gt; &amp;k2){
           if (DaLiSeSijeku(*k1, *k2)) {
               sijeku_se=true;
               std::cout&lt;&lt;"Presjecaju se kugle: ";
               k1-&gt;Ispisi(); std::cout&lt;&lt;std::endl;
               k2-&gt;Ispisi(); std::cout&lt;&lt;std::endl;
           }
       }); 
    });
    
    if (!(sijeku_se)) {
        std::cout&lt;&lt;"Ne postoje kugle koje se presjecaju!";
    }
    
    
	return 0;
}
</pre>
</body>
</html>
