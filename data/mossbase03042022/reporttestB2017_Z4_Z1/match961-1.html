<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z4/Z1/student9340.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z4/Z1/student4966.cpp<p></p><pre>
/B2017/2018: ZadaÄ‡a 4, Zadatak 1
#include &lt;iostream&gt;
#include &lt;stdexcept&gt;
#include &lt;cmath&gt;
#include &lt;tuple&gt;
#include &lt;algorithm&gt;
#include &lt;memory&gt;
#include &lt;vector&gt;
#include &lt;iomanip&gt;

class Kugla {
    double x,y,z,r;
    static constexpr double PI{4*atan(1.)};
    static bool DaliSuJednaki(double x1, double x2) { return fabs(x1-x2)&lt;=pow(10,-10)*(fabs(x1)+fabs(x2)); }
    static bool DaLiJeCentarUnutar(double x,double y, double z, const Kugla &amp;k1);
    static bool DaLiJeCentarIzvan(double x, double y, double z, const Kugla &amp;k1);
    static double RastojanjeCentara2(double x, double y, double z, const Kugla &amp;k2);
<a name="0"></a><font color="#FF0000"><a href="match961-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_3.gif"/></a>

public:
    explicit Kugla(double r=0);
    Kugla(double x, double y, double z, double r=0);
    explicit Kugla(const std::tuple&lt;double,double,double&gt; &amp;centar, double r=0);
    double DajX() const { return x; }
    double DajY() const { return y; }
    double DajZ() const { return z; }
    std::tuple&lt;double,double,double&gt; DajCentar() const { return std::make_tuple(x,y,z); }
</font>    double DajPoluprecnik() const { return r; }
    double DajPovrsinu() const { return 4*r*r*PI; }
    double DajZapreminu() const { return 4*r*r*r*PI/3; }
    Kugla &amp;PostaviX(double x) { Kugla::x=x; return *this; }
    Kugla &amp;PostaviY(double y) { Kugla::y=y; return *this; }
    Kugla &amp;PostaviZ(double z) { Kugla::z=z; return *this; }
    Kugla &amp;PostaviCentar(double x, double y, double z);
<a name="3"></a><font color="#00FFFF"><a href="match961-0.html#3" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_1.gif"/></a>

    Kugla &amp;PostaviCentar(const std::tuple&lt;double,double,double&gt; &amp;centar);
    Kugla &amp;PostaviPoluprecnik(double r);
    void Ispisi() const { std::cout&lt;&lt;"{("&lt;&lt;x&lt;&lt;","&lt;&lt;y&lt;&lt;","&lt;&lt;z&lt;&lt;"),"&lt;&lt;r&lt;&lt;"}"&lt;&lt;std::endl; }
</font>    void Transliraj(double delta_x, double delta_y, double delta_z);
    friend bool DaLiSuIdenticne(const Kugla &amp;k1, const Kugla &amp;k2);
    friend bool DaLiSuPodudarne(const Kugla &amp;k1, const Kugla &amp;k2);
    friend bool DaLiSuKoncentricne(const Kugla &amp;k1, const Kugla &amp;k2);
    friend bool DaLiSeDodirujuIzvana(const Kugla &amp;k1, const Kugla &amp;k2);
    friend bool DaLiSeDodirujuIznutra(const Kugla &amp;k1, const Kugla &amp;k2);
    friend bool DaLiSePreklapaju(const Kugla &amp;k1, const Kugla &amp;k2);
    friend bool DaLiSeSijeku(const Kugla &amp;k1, const Kugla &amp;k2);
    bool DaLiSadrzi(const Kugla &amp;k) const;
    friend double RastojanjeCentara(const Kugla &amp;k1, const Kugla &amp;k2);
};

int _main ()
{
    std::cout&lt;&lt;"Unesite broj kugla: ";
    int brojkugla;
    std::cin&gt;&gt;brojkugla;
    if (!std::cin || brojkugla&lt;=0) {
        do {
            std::cout&lt;&lt;"Neispravan broj kugli, unesite ponovo!"&lt;&lt;std::endl;
            std::cin.clear();
            std::cin.ignore(1000,'\n');
            std::cin&gt;&gt;brojkugla;
        }while(brojkugla&lt;=0 || !std::cin); 
    }
    std::vector&lt;std::shared_ptr&lt;Kugla&gt;&gt; VektorKugli(brojkugla);
    for (int i=0;i&lt;brojkugla;i++) {
        std::cout&lt;&lt;"Unesite centar "&lt;&lt;i+1&lt;&lt;". kugle: ";
        double x,y,z;
        std::cin&gt;&gt;x&gt;&gt;y&gt;&gt;z;
        if (!std::cin) {
            do {
                std::cout&lt;&lt;"Neispravan centar"&lt;&lt;std::endl&lt;&lt;"Unesite centar "&lt;&lt;i+1&lt;&lt;". kugle: ";
                std::cin.clear();
                std::cin.ignore(1000,'\n');
                std::cin&gt;&gt;x&gt;&gt;y&gt;&gt;z;
            } while (!std::cin);
        }
        std::cout&lt;&lt;"Unesite poluprecnik "&lt;&lt;i+1&lt;&lt;". kugle: ";
        double r;
        std::cin&gt;&gt;r;
        if (r&lt;0 || !std::cin) {
            std::cout&lt;&lt;"Ilegalan poluprecnik"&lt;&lt;std::endl;
            std::cin.clear();
            std::cin.ignore(1000,'\n');
            i--; continue;
        }
        VektorKugli.at(i)=std::make_shared&lt;Kugla&gt;(x,y,z,r);
    }
    std::cout&lt;&lt;"Unesite parametre translacije (delta_x,delta_y,delta_z): ";
    double dx,dy,dz;
    std::cin&gt;&gt;dx&gt;&gt;dy&gt;&gt;dz;
    if (!std::cin) {
        do {
            std::cout&lt;&lt;"Neispravni parametri translacije, unesite ponovo!"&lt;&lt;std::endl;
            std::cin.clear();
            std::cin.ignore(1000,'\n');
            std::cin&gt;&gt;dx&gt;&gt;dy&gt;&gt;dz;
        } while (!std::cin);
    }
    std::transform(VektorKugli.begin(),VektorKugli.end(),VektorKugli.begin(),[dx,dy,dz](std::shared_ptr&lt;Kugla&gt; k) { k-&gt;Transliraj(dx,dy,dz); return k;});
    std::sort(VektorKugli.begin(),VektorKugli.end(),[](std::shared_ptr&lt;Kugla&gt; k1, std::shared_ptr&lt;Kugla&gt; k2) { return k1-&gt;DajZapreminu()&lt;k2-&gt;DajZapreminu();});
    std::cout&lt;&lt;"Kugle nakon obavljenje transformacije imaju sljedece vrijednosti: "&lt;&lt;std::endl;
    std::for_each(VektorKugli.begin(),VektorKugli.end(),[](std::shared_ptr&lt;Kugla&gt; k1) { k1-&gt;Ispisi();});
    std::cout&lt;&lt;"Kugla sa najvecom povrsinom je: ";
    (**(std::max_element(VektorKugli.begin(),VektorKugli.end(),[](std::shared_ptr&lt;Kugla&gt; k1, std::shared_ptr&lt;Kugla&gt; k2) { return k1-&gt;DajPovrsinu()&lt;k2-&gt;DajPovrsinu();}))).Ispisi();
    int brojacpresjeka(0), i(1);
    std::for_each(VektorKugli.begin(),VektorKugli.end(), [&amp;brojacpresjeka,VektorKugli,&amp;i](std::shared_ptr&lt;Kugla&gt; k1) {
        std::for_each(VektorKugli.begin()+i,VektorKugli.end(),[&amp;brojacpresjeka,k1,VektorKugli](std::shared_ptr&lt;Kugla&gt; k2) {
            if (DaLiSeSijeku(*k1,*k2)) {
                std::cout&lt;&lt;"Presjecaju se kugle: ";
                k1-&gt;Ispisi();k2-&gt;Ispisi(); brojacpresjeka++;
            }
        }); i++;
    });
    if (!brojacpresjeka) std::cout&lt;&lt;"Ne postoje kugle koje se presjecaju!";
	return 0;
}

//IMPLEMENTACIJA
Kugla::Kugla(double r) {
    if (r&lt;0) throw std::domain_error("Ilegalan poluprecnik");
    x=0;y=0;z=0;Kugla::r=r;
}
Kugla::Kugla(double x, double y, double z, double r) {
    if (r&lt;0) throw std::domain_error("Ilegalan poluprecnik");
    Kugla::x=x; Kugla::y=y; Kugla::z=z; Kugla::r=r;
}
<a name="1"></a><font color="#00FF00"><a href="match961-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_3.gif"/></a>

Kugla::Kugla(const std::tuple&lt;double,double,double&gt; &amp;centar, double r) {
    if (r&lt;0) throw std::domain_error("Ilegalan poluprecnik");
    x=std::get&lt;0&gt;(centar); y=std::get&lt;1&gt;(centar); z=std::get&lt;2&gt;(centar); Kugla::r=r;
} 
Kugla&amp; Kugla::PostaviCentar(double x, double y, double z) {
</font>    Kugla::x=x; Kugla::y=y; Kugla::z=z; return *this;
}
Kugla&amp; Kugla::PostaviCentar(const std::tuple&lt;double,double,double&gt; &amp;centar) {
<a name="2"></a><font color="#0000FF"><a href="match961-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_2.gif"/></a>

    x=std::get&lt;0&gt;(centar); y=std::get&lt;1&gt;(centar); z=std::get&lt;2&gt;(centar); return *this; 
}
Kugla&amp; Kugla::PostaviPoluprecnik(double r) { 
    if (r&lt;0) throw std::domain_error("Ilegalan poluprecnik");
</font>    Kugla::r=r; return *this; 
}
<a name="4"></a><font color="#FF00FF"><a href="match961-0.html#4" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_1.gif"/></a>

void Kugla::Transliraj(double delta_x, double delta_y, double delta_z) {
    x+=delta_x; y+=delta_y; z+=delta_z;
}
bool DaLiSuIdenticne(const Kugla &amp;k1, const Kugla &amp;k2) {
</font>    return (DaLiSuKoncentricne(k1,k2) &amp;&amp; DaLiSuPodudarne(k1,k2));
}
bool DaLiSuKoncentricne(const Kugla &amp;k1, const Kugla &amp;k2) {
    return (Kugla::DaliSuJednaki(k1.x,k2.x) &amp;&amp; Kugla::DaliSuJednaki(k1.y,k2.y) &amp;&amp; Kugla::DaliSuJednaki(k1.z,k2.z));
}
bool DaLiSuPodudarne(const Kugla &amp;k1, const Kugla &amp;k2) {
    return Kugla::DaliSuJednaki(k1.r,k2.r);
}
bool Kugla::DaLiJeCentarUnutar(double x,double y, double z, const Kugla &amp;k1) {
    return (RastojanjeCentara2(x,y,z,k1)&lt;k1.r || DaliSuJednaki(RastojanjeCentara2(x,y,z,k1),k1.r)); 
}
bool Kugla::DaLiJeCentarIzvan(double x, double y, double z, const Kugla &amp;k1) {
    return ((x&gt;=k1.x+k1.r || x&lt;=k1.x-k1.r) || (y&gt;=k1.y+k1.r || y&lt;=k1.y-k1.r) || (z&gt;=k1.z+k1.r || z&lt;=k1.z-k1.r));
}
bool DaLiSeDodirujuIznutra(const Kugla &amp;k1, const Kugla &amp;k2) {
    bool logicka(false);
    if (Kugla::DaLiJeCentarUnutar(k1.x,k1.y,k1.z,k2)) {
        logicka=Kugla::DaliSuJednaki(RastojanjeCentara(k1,k2)+k1.r,k2.r);
    }
    if (!logicka) {
        if (Kugla::DaLiJeCentarUnutar(k2.x,k2.y,k2.z,k1)) {
            logicka=Kugla::DaliSuJednaki(RastojanjeCentara(k1,k2)+k2.r,k1.r);
        }
    }
    return logicka;
}
bool DaLiSeDodirujuIzvana(const Kugla &amp;k1, const Kugla &amp;k2) {
    return (Kugla::DaLiJeCentarIzvan(k1.x,k1.y,k1.z,k2) &amp;&amp; Kugla::DaliSuJednaki(RastojanjeCentara(k1,k2),k1.r+k2.r));
}
double RastojanjeCentara(const Kugla &amp;k1, const Kugla &amp;k2) {
    return sqrt(pow(k2.x-k1.x,2)+pow(k2.y-k1.y,2)+pow(k2.z-k1.z,2));
}
bool Kugla::DaLiSadrzi(const Kugla &amp;k) const {
    return (Kugla::DaLiJeCentarUnutar(k.DajX(),k.DajY(),k.DajZ(),*this) &amp;&amp; r&gt;=RastojanjeCentara(k,*this)+k.DajPoluprecnik());
}
bool DaLiSePreklapaju(const Kugla &amp;k1, const Kugla &amp;k2) {
    return (Kugla::DaLiJeCentarUnutar(k1.x,k1.y,k1.z,k2) || Kugla::DaLiJeCentarUnutar(k2.x,k2.y,k2.z,k1) || DaLiSeSijeku(k1,k2));
}
bool DaLiSeSijeku(const Kugla &amp;k1, const Kugla &amp;k2) {
    bool logicka(false);
    if (Kugla::DaLiJeCentarUnutar(k1.x,k1.y,k1.z,k2)) {
        logicka=(k1.r+RastojanjeCentara(k1,k2)&gt;k2.r);
    }
    else if (Kugla::DaLiJeCentarUnutar(k2.x,k2.y,k2.z,k1)) {
        logicka=(k2.r+RastojanjeCentara(k1,k2)&gt;k1.r);
    }
    else 
        logicka=(RastojanjeCentara(k1,k2)&lt;k1.r+k2.r);
    return logicka;
}
double Kugla::RastojanjeCentara2(double x, double y, double z, const Kugla &amp;k2) {
<a name="5"></a><font color="#FF0000"><a href="match961-0.html#5" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_1.gif"/></a>

    return sqrt(pow(k2.x-x,2)+pow(k2.y-y,2)+pow(k2.z-z,2));
</font><a name="5"></a><font color="#FF0000"><a href="match961-0.html#5" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_1.gif"/></a>

}</font></pre>
</body>
</html>
