<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z4/Z1/student6007.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z4/Z1/student6007.cpp<p></p><pre>
#include &lt;iostream&gt;
#include &lt;tuple&gt;
#include &lt;cmath&gt;
#include &lt;vector&gt;
#include &lt;memory&gt;
#include &lt;algorithm&gt;

<a name="3"></a><font color="#00FFFF"><a href="match20-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_3.gif"/></a>

const double eps = 1e-10;
class Kugla
{
    double x, y, z, r;
public:
    explicit Kugla(double r = 0) {
        if(r &lt; 0) throw std::domain_error("Ilegalan poluprecnik");
        Kugla::r = 0;
        Kugla::x = 0;
        Kugla::y = 0;
        Kugla::z = 0;
    }
    Kugla(double x, double y, double z, double r = 0) {
        if(r &lt; 0) throw std::domain_error("Ilegalan poluprecnik");
</font>        Kugla::x = x;
        Kugla::y = y;
        Kugla::z = z;
        Kugla::r = r;
    }
    explicit Kugla(const std::tuple&lt;double,double,double&gt; &amp;centar, double r1 = 0) {
        if(r &lt; 0) throw std::domain_error("Ilegalan poluprecnik");
<a name="2"></a><font color="#0000FF"><a href="match20-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_5.gif"/></a>

        x = std::get&lt;0&gt;(centar);
        y = std::get&lt;1&gt;(centar);
        z = std::get&lt;2&gt;(centar);
        r = r1;
    }
    double DajX() const {
        return x;
    }
    double DajY() const {
        return y;
    }
    double DajZ() const {
        return z;
    }
    std::tuple&lt;double,double,double&gt; DajCentar() const {
        std::tuple&lt;double,double,double&gt; t(std::make_tuple(x,y,z));
        return t;
    }
    double DajPoluprecnik() const {
        return r;
    }
    double DajPovrsinu() const {
        return 4*r*r*(4*atan(1));
    }
    double DajZapreminu() const {
        return (4/3.)*r*r*r*(4*atan(1));
    }
    Kugla &amp;PostaviX(double x) {
        Kugla::x = x;
        return *this;
    }
    Kugla &amp;PostaviY(double y) {
        Kugla::y = y;
        return *this;
</font>    }
    Kugla &amp;PostaviZ(double z) {
        Kugla::z = z;
        return *this;
    }
    Kugla &amp;PostaviCentar(double x, double y, double z) {
        Kugla::x = x;
        Kugla::y = y;
        Kugla::z = z;
        return *this;
    }
    Kugla &amp;PostaviCentar(const std::tuple&lt;double, double, double&gt; &amp;centar) {
        x = std::get&lt;0&gt;(centar);
        y = std::get&lt;1&gt;(centar);
        z = std::get&lt;2&gt;(centar);
        return *this;
    }
    Kugla &amp;PostaviPoluprecnik(double r) {
        if(r &lt; 0) throw std::domain_error("Ilegalan poluprecnik");
        Kugla::r = r;
        return  *this;
    }
    void Ispisi() const {
        std::cout &lt;&lt; "{(" &lt;&lt; x &lt;&lt; "," &lt;&lt; y &lt;&lt; "," &lt;&lt; z &lt;&lt; ")," &lt;&lt; r &lt;&lt; "}";
    }
    void Transliraj(double delta_x, double delta_y, double delta_z) {
        x += delta_x;
        y += delta_y;
        z += delta_z;
    }
    friend bool DaLiSuIdenticne(const Kugla &amp;k1, const Kugla &amp;k2);
    friend bool DaLiSuPodudarne(const Kugla &amp;k1, const Kugla &amp;k2);
    friend bool DaLiSuKoncentricne(const Kugla &amp;k1, const Kugla &amp;k2);
    friend bool DaLiSeDodirujuIzvana(const Kugla &amp;k1, const Kugla &amp;k2);
    friend bool DaLiSeDodirujuIznutra(const Kugla &amp;k1, const Kugla &amp;k2);
    friend bool DaLiSePreklapaju(const Kugla &amp;k1, const Kugla &amp;k2);
    friend bool DaLiSeSijeku(const Kugla &amp;k1, const Kugla &amp;k2);
    bool DaLiSadrzi(const Kugla &amp;k) const;
<a name="5"></a><font color="#FF0000"><a href="match20-1.html#5" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_1.gif"/></a>

    friend double RastojanjeCentara(const Kugla &amp;k1, const Kugla &amp;k2);
};
bool DaLiSuIdenticne(const Kugla &amp;k1, const Kugla &amp;k2)
{
    if((std::abs(k1.x - k2.x) &lt; eps*(std::abs(k1.x) + std::abs(k2.x))) &amp;&amp;
</font>            (std::abs(k1.y - k2.y) &lt; eps*(std::abs(k1.y) + std::abs(k2.y))) &amp;&amp;
            (std::abs(k1.z - k2.z) &lt; eps*(std::abs(k1.z) + std::abs(k2.z))) &amp;&amp;
<a name="4"></a><font color="#FF00FF"><a href="match20-1.html#4" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_3.gif"/></a>

            (std::abs(k1.r - k2.r) &lt; eps*(std::abs(k1.r) + std::abs(k2.r))))
        return true;
    return false;
}
bool DaLiSuPodudarne(const Kugla &amp;k1, const Kugla &amp;k2)
{
    if(std::abs(k1.r - k2.r) &lt; eps*(std::abs(k1.r) + std::abs(k2.r))) return true;
    return false;
}

bool DaLiSuKoncentricne(const Kugla &amp;k1, const Kugla &amp;k2)
{
    if((std::abs(k1.x - k2.x) &lt; eps*(std::abs(k1.x) + std::abs(k2.x))) &amp;&amp;
</font>            (std::abs(k1.y - k2.y) &lt; eps*(std::abs(k1.y) + std::abs(k2.y))) &amp;&amp;
<a name="1"></a><font color="#00FF00"><a href="match20-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_11.gif"/></a>

            (std::abs(k1.z - k2.z) &lt; eps*(std::abs(k1.z) + std::abs(k2.z)))) return true;

    return false;
}
bool DaLiSeDodirujuIzvana(const Kugla &amp;k1, const Kugla &amp;k2)
{
    if(std::abs(RastojanjeCentara(k1,k2) - (k1.r + k2.r))
            &lt; eps*(std::abs(RastojanjeCentara(k1,k2)) +
                   std::abs(k1.r + k2.r))) return true;
    return false;
}
bool DaLiSeDodirujuIznutra(const Kugla &amp;k1, const Kugla &amp;k2)
{
    if(std::abs(RastojanjeCentara(k1,k2) - std::abs(k1.r-k2.r)) &lt; eps*(std::abs(RastojanjeCentara(k1,k2)) + std::abs(k1.r-k2.r)))
        return true;
    return false;
}
bool DaLiSePreklapaju(const Kugla &amp;k1, const Kugla &amp;k2)
{
    if(DaLiSeSijeku(k1,k2)) return true;
    if(RastojanjeCentara(k1,k2) &lt; (k1.r + k2.r)) return true;
    return false;
}

bool DaLiSeSijeku(const Kugla &amp;k1, const Kugla &amp;k2)
{
    if((RastojanjeCentara(k1,k2) &lt; (k1.r + k2.r)) &amp;&amp; (RastojanjeCentara(k1,k2) &gt;  std::abs(k1.r-k2.r))) return true;
    return false;
}
bool Kugla::DaLiSadrzi(const Kugla &amp;k) const
{

    if(std::sqrt((x-k.x)*(x-k.x) + (y-k.y)*(y-k.y) + (z-k.z)*(z-k.z)) &lt; r) return true;
    return false;
}
double RastojanjeCentara(const Kugla &amp;k1, const Kugla &amp;k2)
{
    return std::sqrt((k1.x-k2.x)*(k1.x-k2.x) + (k1.y-k2.y)*(k1.y-k2.y) + (k1.z-k2.z)*(k1.z-k2.z));
</font><a name="0"></a><font color="#FF0000"><a href="match20-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_52.gif"/></a>

}
int main ()
{
    int broj_kugla;
    std::cout &lt;&lt; "Unesite broj kugla: ";
    try {
        do {
            std::cin &gt;&gt; broj_kugla;
            if(broj_kugla &gt; 0) break;
            if(broj_kugla &lt;= 0) {
                std::cout &lt;&lt; "Neispravan broj kugli, unesite ponovo!\n";
                std::cin.clear();
                std::cin.ignore(10000, '\n');
            }
        } while(broj_kugla &lt;= 0 || !std::cin);
        int brojac(0);
        double x, y, z, r;
        std::vector&lt;std::shared_ptr&lt;Kugla&gt;&gt; v;
        do {
            std::cout &lt;&lt; "Unesite centar " &lt;&lt; brojac+1 &lt;&lt; ". kugle: ";
            std::cin &gt;&gt; x &gt;&gt; y &gt;&gt; z;

            while(!std::cin) {
                std::cout &lt;&lt; "Neispravan centar\n";
                std::cout &lt;&lt; "Unesite centar " &lt;&lt; brojac + 1 &lt;&lt; ". kugle: ";
                std::cin.clear();
                std::cin.ignore(10000,'\n');
                std::cin &gt;&gt; x &gt;&gt; y &gt;&gt; z;
            }
            std::cout &lt;&lt; "Unesite poluprecnik " &lt;&lt; brojac+1 &lt;&lt; ". kugle: ";
            std::cin &gt;&gt; r;
            while(r &lt; 0 || !std::cin) {
                std::cout &lt;&lt; "Ilegalan poluprecnik\n";
                std::cout &lt;&lt; "Unesite centar " &lt;&lt; brojac + 1 &lt;&lt; ". kugle: ";
                std::cin.clear();
                std::cin.ignore(10000,'\n');
                std::cin &gt;&gt; x &gt;&gt; y &gt;&gt; z;
                while(!std::cin) {
                    std::cout &lt;&lt; "Neispravan centar\n";
                    std::cout &lt;&lt; "Unesite centar " &lt;&lt; brojac + 1 &lt;&lt; ". kugle: ";
                    std::cin.clear();
                    std::cin.ignore(10000,'\n');
                    std::cin &gt;&gt; x &gt;&gt; y &gt;&gt; z;
                }
                std::cout &lt;&lt; "Unesite poluprecnik " &lt;&lt; brojac + 1 &lt;&lt; ". kugle: ";
                std::cin &gt;&gt; r;
            }
            std::shared_ptr&lt;Kugla&gt; p(std::make_shared&lt;Kugla&gt;(x,y,z,r));
            v.push_back(p);
            brojac++;

        } while(brojac != broj_kugla);
        double delta_x, delta_y, delta_z;
        do {
            std::cout &lt;&lt; "Unesite parametre translacije (delta_x,delta_y,delta_z): ";
            std::cin &gt;&gt; delta_x &gt;&gt; delta_y &gt;&gt; delta_z;
            while(!std::cin) {
                std::cout &lt;&lt; "Neispravni parametri translacije, unesite ponovo!\n";
                std::cin.clear();
                std::cin.ignore(10000,'\n');
                std::cin &gt;&gt; delta_x &gt;&gt; delta_y &gt;&gt; delta_z;
            }
        } while(!std::cin);
        std::transform(v.begin(), v.end(), v.begin(),[delta_x,delta_y,delta_z](std::shared_ptr&lt;Kugla&gt; p1) {
            (*p1).Transliraj(delta_x,delta_y,delta_z);
            return p1;
        });

        std::sort(v.begin(),v.end(),[](std::shared_ptr&lt;Kugla&gt; p2, std::shared_ptr&lt;Kugla&gt; p3) {
            return (*p2).DajZapreminu() &lt; (*p3).DajZapreminu();
        });

        std::cout &lt;&lt; "Kugle nakon obavljenje transformacije imaju sljedece vrijednosti: \n";
        std::for_each(v.begin(), v.end(), [](std::shared_ptr&lt;Kugla&gt; p) {
            std::cout &lt;&lt; "{(" &lt;&lt; (*p).DajX() &lt;&lt; "," &lt;&lt; (*p).DajY() &lt;&lt; "," &lt;&lt; (*p).DajZ() &lt;&lt; ")"
                      &lt;&lt; "," &lt;&lt; (*p).DajPoluprecnik() &lt;&lt; "}\n";
        });
        std::cout &lt;&lt; "Kugla sa najvecom povrsinom je: ";
        auto Max = std::max_element(v.begin(), v.end(), [](std::shared_ptr&lt;Kugla&gt; p1, std::shared_ptr&lt;Kugla&gt; p2) {
            return (*p1).DajPovrsinu() &lt; (*p2).DajPovrsinu();
        });
        std::cout &lt;&lt; "{(" &lt;&lt; (**Max).DajX() &lt;&lt; "," &lt;&lt; (**Max).DajY() &lt;&lt; "," &lt;&lt; (**Max).DajZ() &lt;&lt; ")"
                  &lt;&lt; "," &lt;&lt; (**Max).DajPoluprecnik() &lt;&lt; "}\n";

        std::vector&lt;std::pair&lt;Kugla,Kugla&gt;&gt; P;
        std::for_each(v.begin(), v.end(), [&amp;P,v](std::shared_ptr&lt;Kugla&gt; k1) {
            std::for_each(v.begin(),v.end(), [&amp;P,v,k1](std::shared_ptr&lt;Kugla&gt; k2) {
                if(DaLiSeSijeku(*k1,*k2) &amp;&amp; k1 != k2 ) {
                    P.push_back(std::make_pair(*k1,*k2));
                }
            });
        });
        if(P.size() == 0) std::cout &lt;&lt; "Ne postoje kugle koje se presjecaju!";
        else {
            for(int i = 0; i &lt; P.size(); i++) {
                Kugla K1(P[i].first);
                Kugla K2(P[i].second);
                for(int j = i+1; j &lt; P.size(); j++) {

                    if(
                        (std::abs(K1.DajX() - P[j].second.DajX())) &lt;= eps*(std::abs(K1.DajX()) + std::abs(P[j].second.DajX())) &amp;&amp;
                        (std::abs(K1.DajY() - P[j].second.DajY())) &lt;= eps*(std::abs(K1.DajY()) + std::abs(P[j].second.DajY())) &amp;&amp;
                        (std::abs(K1.DajZ() - P[j].second.DajZ())) &lt;= eps*(std::abs(K1.DajZ()) + std::abs(P[j].second.DajZ())) &amp;&amp;

                        (std::abs(K2.DajX() - P[j].first.DajX())) &lt;= eps*(std::abs(K2.DajX()) + std::abs(P[j].first.DajX())) &amp;&amp;
                        (std::abs(K2.DajY() - P[j].first.DajY())) &lt;= eps*(std::abs(K2.DajY()) + std::abs(P[j].first.DajY())) &amp;&amp;
                        (std::abs(K2.DajZ() - P[j].first.DajZ())) &lt;= eps*(std::abs(K2.DajZ()) + std::abs(P[j].first.DajZ()))
                    ) {
                        P.erase(P.begin() + j);
                        i--;
                        break;
                    }
                }
            }
            for(int i = 0; i &lt; P.size(); i++) {
                std::cout &lt;&lt; "Presjecaju se kugle: ";
                std::cout &lt;&lt; "{(" &lt;&lt; P[i].first.DajX() &lt;&lt; "," &lt;&lt; P[i].first.DajY() &lt;&lt; "," &lt;&lt; P[i].first.DajZ() &lt;&lt; "),"
                          &lt;&lt; P[i].first.DajPoluprecnik() &lt;&lt; "}" &lt;&lt; std::endl;
                std::cout &lt;&lt; "{(" &lt;&lt; P[i].second.DajX() &lt;&lt; "," &lt;&lt; P[i].second.DajY() &lt;&lt; "," &lt;&lt; P[i].second.DajZ() &lt;&lt; "),"
                          &lt;&lt; P[i].second.DajPoluprecnik() &lt;&lt; "}" &lt;&lt; std::endl;
            }
        }
    } catch(std::domain_error e) {
        std::cout &lt;&lt; e.what() &lt;&lt; std::endl;
</font>    }
    return 0;
}
</pre>
</body>
</html>
