<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z4/Z1/student4473.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z4/Z1/student3819.cpp<p></p><pre>
/B2017/2018: ZadaÄ‡a 4, Zadatak 1
#include &lt;iostream&gt;
#include "cmath"
#include "stdexcept"
#include "tuple"
#include "memory"
#include "vector"
#include "algorithm"
double pi = 3.14159265359;
 bool jednako(double x, double y = 0) {
        double epsi(std::pow(10,-10));
        return (std::abs(x-y)&lt;epsi*(std::abs(x)+std::abs(y)));
    }
class Kugla {
  double x, y, z, r;
  public:
  explicit Kugla(double r = 0) { 
      if(r &lt; 0) throw std::domain_error("Ilegalan poluprecnik");
      this-&gt;r = r; this-&gt;x = 0; this-&gt;y = 0; this-&gt;z = 0;
  }
<a name="1"></a><font color="#00FF00"><a href="match899-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_3.gif"/></a>

  Kugla(double x, double y, double z, double r = 0) {
      if(r &lt; 0) throw std::domain_error("Ilegalan poluprecnik");
      this-&gt;x = x;
      this-&gt;y = y;
      this-&gt;z = z;
      this-&gt;r = r;
  }
  
  explicit Kugla(const std::tuple&lt;double, double, double&gt; &amp;centar, double r = 0) {
      if(r &lt; 0) throw std::domain_error("Ilegalan poluprecnik");
</font>      this-&gt;x = std::get&lt;0&gt;(centar);
      this-&gt;y = std::get&lt;1&gt;(centar);
<a name="4"></a><font color="#FF00FF"><a href="match899-0.html#4" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_1.gif"/></a>

      this-&gt;z = std::get&lt;2&gt;(centar);
      this-&gt;r = r;
  }
  
  double DajX() const {
      return x;
  }
  
  double DajY() const {
      return y;
  }
  
  double DajZ() const {
      return z;
  }
  
  std::tuple&lt;double, double, double&gt; DajCentar() const {
</font>      return std::make_tuple(x, y, z);
  }
  
  double DajPoluprecnik() const {
      return r;
  }
  
  double DajPovrsinu() const {
      return 4 * pi * std::pow(r,2);
  }
  
  double DajZapreminu() const {
      return (DajPovrsinu() * r) / 3;
  }
  
  Kugla &amp;PostaviX(double x) {
<a name="2"></a><font color="#0000FF"><a href="match899-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_2.gif"/></a>

      this-&gt;x = x;
      return *this;
  }
  
  Kugla &amp;PostaviY(double y) {
      this-&gt;y = y;
      return *this;
  }
  
  Kugla &amp;PostaviZ(double z) {
      this-&gt;z = z;
      return *this;
  }
  
  Kugla &amp;PostaviCentar(double x, double y, double z) {
      this-&gt;x = x;
      this-&gt;y = y;
      this-&gt;z = z;
      return *this;
</font>  }
  
<a name="0"></a><font color="#FF0000"><a href="match899-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_4.gif"/></a>

  Kugla &amp;PostaviCentar(const std::tuple&lt;double, double, double&gt; &amp;centar) {
      this-&gt;x = std::get&lt;0&gt;(centar);
      this-&gt;y = std::get&lt;1&gt;(centar);
      this-&gt;z = std::get&lt;2&gt;(centar);
      return *this;
  }
  
  Kugla &amp;PostaviPoluprecnik(double r) {
      if(r &lt; 0) throw std::domain_error("Ilegalan poluprecnik");
      this-&gt;r = r;
      return *this;
  }
  
  void Ispisi() const {
      std::cout &lt;&lt; "{(" &lt;&lt; x &lt;&lt; "," &lt;&lt; y &lt;&lt; "," &lt;&lt; z &lt;&lt; ")," &lt;&lt; r &lt;&lt; "}";
</font>  }
  
  void Transliraj(double delta_x, double delta_y, double delta_z) {
      x += delta_x;
      y += delta_y;
      z += delta_z;
  }
  
  friend bool DaLiSuIdenticne(const Kugla &amp;k1, const Kugla &amp;k2);
  friend bool DaLiSuPodudarne(const Kugla &amp;k1, const Kugla &amp;k2);
  friend bool DaLiSuKoncentricne(const Kugla &amp;k1, const Kugla &amp;k2);
  friend bool DaLiSeDodirujuIzvana(const Kugla &amp;k1, const Kugla &amp;k2);
  friend bool DaLiSeDodirujuIznutra(const Kugla &amp;k1, const Kugla &amp;k2);
  friend bool DaLiSePreklapaju(const Kugla &amp;k1, const Kugla &amp;k2);
  friend bool DaLiSeSijeku(const Kugla &amp;k1, const Kugla &amp;k2);
  bool DaLiSadrzi(const Kugla &amp;k) const {
      double distance = std::sqrt(std::pow(k.DajX()-x, 2) + std::pow(k.DajY()-y, 2) + std::pow(k.DajZ()-z, 2));
      double x(distance - k.r); if(x&lt;0) x*=-1;
    double y(distance + k.r); if(y&lt;0) y*=-1;
        if(!jednako(k.r)&amp;&amp; !jednako(r))
        if(x &lt; r &amp;&amp; y &lt; r) return true;
      return false;
  }
  friend double RastojanjeCentara(const Kugla &amp;k1, const Kugla &amp;k2);
};

    bool DaLiSuIdenticne(const Kugla &amp;k1, const Kugla &amp;k2) {
        return (jednako(k1.DajX(), k2.DajX()) &amp;&amp; jednako(k1.DajY(), k2.DajY()) &amp;&amp; jednako(k1.DajZ(), k2.DajZ()) &amp;&amp; jednako(k1.DajPoluprecnik(), k2.DajPoluprecnik()));
    }
    bool DaLiSuPodudarne(const Kugla &amp;k1, const Kugla &amp;k2) {
        return (jednako(k1.DajPoluprecnik(), k2.DajPoluprecnik()));
    }
    bool DaLiSuKoncentricne(const Kugla &amp;k1, const Kugla &amp;k2) {
        return (jednako(k1.DajX(), k2.DajX()) &amp;&amp; jednako(k1.DajY(), k2.DajY()) &amp;&amp; jednako(k1.DajZ(), k2.DajZ()));
    }
    bool DaLiSeDodirujuIzvana(const Kugla &amp;k1, const Kugla &amp;k2) {
        double distance(std::sqrt(std::pow(k2.DajX()-k1.DajX(), 2) + std::pow(k2.DajY()-k1.DajY(), 2) + std::pow(k2.DajZ()-k1.DajZ(), 2)));
        double x(distance - k2.r); if(x&lt;0) x*=-1;
        double y(distance + k2.r); if(y&lt;0) y*=-1;
        if(!jednako(k1.r) &amp;&amp; !jednako(k2.r))
        if(jednako(x, k1.r) &amp;&amp; y &gt; k1.r) return true;
        return false;
    }
    bool DaLiSeDodirujuIznutra(const Kugla &amp;k1, const Kugla &amp;k2) {
        double distance(std::sqrt(std::pow(k2.DajX()-k1.DajX(), 2) + std::pow(k2.DajY()-k1.DajY(), 2) + std::pow(k2.DajZ()-k1.DajZ(), 2)));
        double x(distance - k2.r); if(x&lt;0) x*=-1;
        double y(distance + k2.r); if(y&lt;0) y*=-1;
        double x1(distance - k1.r); if(x1&lt;0) x1*=-1;
        double y1(distance + k1.r); if(y1&lt;0) y1*=-1;
        if(!jednako(k1.r) &amp;&amp; !jednako(k2.r))
        if((jednako(y, k1.r) &amp;&amp; x &lt; k1.r) || (jednako(y1, k2.r) &amp;&amp; x1 &lt; k2.r)) return true;
        return false;
    }
    bool DaLiSePreklapaju(const Kugla &amp;k1, const Kugla &amp;k2) {
        if(DaLiSeSijeku(k1, k2)) return true;
        double distance(std::sqrt(std::pow(k2.DajX()-k1.DajX(), 2) + std::pow(k2.DajY()-k1.DajY(), 2) + std::pow(k2.DajZ()-k1.DajZ(), 2)));
         double x(distance - k2.r); if(x&lt;0) x*=-1;
        double y(distance + k2.r); if(y&lt;0) y*=-1;
        double x1(distance - k1.r); if(x1&lt;0) x1*=-1;
        double y1(distance + k1.r); if(y1&lt;0) y1*=-1;
        if(jednako(k2.DajPoluprecnik())|| jednako(k1.DajPoluprecnik())) return false;
        else
            if((y &lt; k1.DajPoluprecnik() &amp;&amp; x &lt; k1.DajPoluprecnik()) || (y1 &lt; k2.DajPoluprecnik() &amp;&amp; x1 &lt; k2.DajPoluprecnik())) return true;
        return false;
    }
    bool DaLiSeSijeku(const Kugla &amp;k1, const Kugla &amp;k2) {
        if(DaLiSuIdenticne(k1, k2)) return false;
        double distance(std::sqrt(std::pow(k2.DajX()-k1.DajX(), 2) + std::pow(k2.DajY()-k1.DajY(), 2) + std::pow(k2.DajZ()-k1.DajZ(), 2)));
        double x(distance - k1.r);
        double y(distance + k1.r);
        if(x &lt; 0) x *= -1;
        if(y &lt; 0) y *= -1;
        if(jednako(k2.r) || jednako(k1.r)) return false;
        else
            if(x &lt; k2.r &amp;&amp; y &gt; k2.r) return true;
        return false;
    }
    double RastojanjeCentara(const Kugla &amp;k1, const Kugla &amp;k2) {
        return std::sqrt(std::pow(k2.DajX()-k1.DajX(), 2) + std::pow(k2.DajY()-k1.DajY(), 2) + std::pow(k2.DajZ()-k1.DajZ(), 2));
    }
    
   
int main ()
{
    std::cout &lt;&lt; "Unesite broj kugla: ";
    int n;
    do{
    std::cin &gt;&gt; n;
    
    if(n&lt;=0) std::cout &lt;&lt; "Neispravan broj kugli, unesite ponovo!\n";
    std::cin.clear(); std::cin.ignore(10000, '\n');
    }while(n&lt;=0 || std::cin.fail());
    std::vector&lt;std::shared_ptr&lt;Kugla&gt;&gt; vector(n);
    bool out(false);
    for(int i = 1; i &lt;= n; i++) {
        double x, y, z, r;
        std::cout &lt;&lt; "Unesite centar " &lt;&lt; i &lt;&lt; ". kugle: ";
        std::cin &gt;&gt; x &gt;&gt; y &gt;&gt; z;
        while(std::cin.fail()) {
            std::cin.clear();
            std::cin.ignore(10000, '\n');
            std::cout &lt;&lt; "Neispravan centar\n";
            --i; out = true;
        }
        if(out) {out = false; continue; }
        std::cout &lt;&lt; "Unesite poluprecnik " &lt;&lt; i &lt;&lt; ". kugle: ";
        std::cin &gt;&gt; r;
        if(r &lt; 0 || std::cin.fail()) {if(std::cin.fail()) {std::cin.clear(); std::cin.ignore(10000, '\n');} std::cout &lt;&lt; "Ilegalan poluprecnik\n"; --i; continue; }
        vector.at(i-1) = std::make_shared&lt;Kugla&gt;(x, y, z, r);
    }
    
    std::cout &lt;&lt; "Unesite parametre translacije (delta_x,delta_y,delta_z): ";
    double x, y, z;
    do {
    std::cin &gt;&gt; x &gt;&gt; y &gt;&gt; z;
    if(/*std::cin &gt;&gt; x || std::cin &gt;&gt; y || std::cin &gt;&gt; z*/std::cin.fail()) {
        std::cin.clear();
        std::cin.ignore(10000, '\n');
        std::cout &lt;&lt; "Neispravni parametri translacije, unesite ponovo!\n";
    } else break;
    }while(true);
    
    std::cout &lt;&lt; "Kugle nakon obavljenje transformacije imaju sljedece vrijednosti: \n";
    std::transform(vector.begin(), vector.end(), vector.begin(), [x, y, z](std::shared_ptr&lt;Kugla&gt; k)-&gt;std::shared_ptr&lt;Kugla&gt;{(*k).Transliraj( x, y, z); return k;});
    std::sort(vector.begin(), vector.end(), [] (std::shared_ptr&lt;Kugla&gt;k1, std::shared_ptr&lt;Kugla&gt; k2)-&gt;bool{if((*k1).DajZapreminu()&lt;(*k2).DajZapreminu()) return true; return false;});
    std::for_each(vector.begin(), vector.end(), [](std::shared_ptr&lt;Kugla&gt; k) {(*k).Ispisi(); std::cout &lt;&lt; std::endl;});
    auto bla = std::max_element(vector.begin(), vector.end(), [](std::shared_ptr&lt;Kugla&gt; k1, std::shared_ptr&lt;Kugla&gt; k2)-&gt;bool {return((*k1).DajPovrsinu()&lt;(*k2).DajPovrsinu());});
    if(bla != vector.end()) {std::cout &lt;&lt; "Kugla sa najvecom povrsinom je: "; (*bla)-&gt;Ispisi();}/*else ???*/
    std::cout &lt;&lt; std::endl;
    bool imal(false); int c(-1);
<a name="3"></a><font color="#00FFFF"><a href="match899-0.html#3" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_1.gif"/></a>

    std::for_each(vector.begin(), vector.end(), [vector, &amp;imal, &amp;c](std::shared_ptr&lt;Kugla&gt; k1){c++; std::for_each(vector.begin() + c, vector.end(), [k1, &amp;imal](std::shared_ptr&lt;Kugla&gt; k2){
        if(DaLiSeSijeku(*k1, *k2)) {std::cout &lt;&lt; "Presjecaju se kugle: ";
        k1-&gt;Ispisi();
        std::cout &lt;&lt; std::endl;
</font>        (*k2).Ispisi(); 
        std::cout &lt;&lt; std::endl;
        imal = true;}
    });});
    if(!imal) std::cout &lt;&lt; "Ne postoje kugle koje se presjecaju!";
    return 0;
}
</pre>
</body>
</html>
