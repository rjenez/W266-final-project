<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z4/Z1/student8416.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z4/Z1/student8416.cpp<p></p><pre>
#include &lt;iostream&gt;
#include &lt;tuple&gt;
#include &lt;stdexcept&gt;
#include &lt;cmath&gt;
#include &lt;vector&gt;
#include &lt;memory&gt;
#include &lt;algorithm&gt;
#include &lt;ctime&gt;
<a name="2"></a><font color="#0000FF"><a href="match149-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_14.gif"/></a>

const double pi(4*atan(1));
const double eps(1e-10);

class Kugla{
    double x, y, z, r;
    public:
explicit Kugla(double r = 0){
    try{
    if(r&lt;0) throw std::domain_error("Ilegalan poluprecnik");
    Kugla::r=r;
    }catch(std::domain_error e){
        throw;
    }
}
Kugla(double x, double y, double z, double r = 0){
    try{
    if(r&lt;0) throw std::domain_error("Ilegalan poluprecnik");
    Kugla::x=x;
    Kugla::y=y;
    Kugla::z=z;
    Kugla::r=r;
    }catch(std::domain_error e){
        throw;
    }
}
explicit Kugla(const std::tuple&lt;double, double, double&gt; &amp;centar, double r = 0){
    try{
    if(r&lt;0) throw std::domain_error("Ilegalan poluprecnik");
    x=std::get&lt;0&gt;(centar);
    y=std::get&lt;1&gt;(centar);
    z=std::get&lt;2&gt;(centar);
    Kugla::r=r;
    }catch(std::domain_error e){
        throw;
    }
}
double DajX() const{return x;}
double DajY() const{return y;}
double DajZ() const{return z;}
std::tuple&lt;double, double, double&gt; DajCentar() const{return std::tuple&lt;double, double, double&gt;(DajX(), DajY(), DajZ());}
double DajPoluprecnik() const{return r;}
double DajPovrsinu() const{return (4*DajPoluprecnik()*DajPoluprecnik()*pi);}
double DajZapreminu() const{return((4./3)*pi*DajPoluprecnik()*DajPoluprecnik()*DajPoluprecnik());}
Kugla &amp;PostaviX(double x){Kugla::x=x; return *this;}
Kugla &amp;PostaviY(double y){Kugla::y=y; return *this;}
</font>Kugla &amp;PostaviZ(double z){Kugla::z=z; return *this;}
Kugla &amp;PostaviCentar(double x, double y, double z){
    Kugla::x=x;
    Kugla::y=y;
    Kugla::z=z;
    return *this;
}
Kugla &amp;PostaviCentar(const std::tuple&lt;double, double, double&gt; &amp;centar){
    x=std::get&lt;0&gt;(centar);
<a name="5"></a><font color="#FF0000"><a href="match149-1.html#5" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_4.gif"/></a>

    y=std::get&lt;1&gt;(centar);
    z=std::get&lt;2&gt;(centar);
    return *this;
}
Kugla &amp;PostaviPoluprecnik(double r){
    try{
    if(r&lt;0) throw std::domain_error("Ilegalan poluprecnik");
    Kugla::r=r;
    return *this;
    }catch(std::domain_error e){
        throw;
    }
}
void Ispisi() const{std::cout&lt;&lt;"{("&lt;&lt;DajX()&lt;&lt;","&lt;&lt;DajY()&lt;&lt;","&lt;&lt;DajZ()&lt;&lt;"),"&lt;&lt;DajPoluprecnik()&lt;&lt;"}"&lt;&lt;std::endl;}
</font>void Transliraj(double delta_x, double delta_y, double delta_z){
    x+=delta_x;
    y+=delta_y;
    z+=delta_z;
}
friend bool DaLiSuIdenticne(const Kugla &amp;k1, const Kugla &amp;k2);
friend bool DaLiSuPodudarne(const Kugla &amp;k1, const Kugla &amp;k2);
friend bool DaLiSuKoncentricne(const Kugla &amp;k1, const Kugla &amp;k2);
friend bool DaLiSeDodirujuIzvana(const Kugla &amp;k1, const Kugla &amp;k2);
friend bool DaLiSeDodirujuIznutra(const Kugla &amp;k1, const Kugla &amp;k2);
<a name="6"></a><font color="#00FF00"><a href="match149-1.html#6" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_4.gif"/></a>

friend bool DaLiSePreklapaju(const Kugla &amp;k1, const Kugla &amp;k2);
friend bool DaLiSeSijeku(const Kugla &amp;k1, const Kugla &amp;k2);
bool DaLiSadrzi(const Kugla &amp;k) const{
    return (RastojanjeCentara(k, *this)+k.DajPoluprecnik()&lt;=(this-&gt;DajPoluprecnik()));
}
friend double RastojanjeCentara(const Kugla &amp;k1, const Kugla &amp;k2);
};

bool DaLiSuIdenticne(const Kugla &amp;k1, const Kugla &amp;k2){ //Okej
    if((std::abs(k1.DajX()-k2.DajX())&lt;=eps*(std::abs(k1.DajX())+std::abs(k2.DajX()))) &amp;&amp; (std::abs(k1.DajY()-k2.DajY())&lt;=eps*(std::abs(k1.DajY())+std::abs(k2.DajY()))) &amp;&amp; (std::abs(k1.DajZ()-k2.DajZ())&lt;=eps*(std::abs(k1.DajZ())+std::abs(k2.DajZ()))) &amp;&amp; (std::abs(k1.DajPoluprecnik()-k2.DajPoluprecnik())&lt;=eps*(std::abs(k1.DajPoluprecnik())+std::abs(k2.DajPoluprecnik())))) return true;
</font><a name="4"></a><font color="#FF00FF"><a href="match149-1.html#4" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_5.gif"/></a>

    else return false;
}

bool DaLiSuPodudarne(const Kugla &amp;k1, const Kugla &amp;k2){ //Okej
    return (std::abs(k1.DajPoluprecnik()-k2.DajPoluprecnik())&lt;=eps*(std::abs(k1.DajPoluprecnik())+std::abs(k2.DajPoluprecnik())));
}

bool DaLiSuKoncentricne(const Kugla &amp;k1, const Kugla &amp;k2){ //Okej
    if((std::abs(k1.DajX()-k2.DajX())&lt;=eps*(std::abs(k1.DajX())+std::abs(k2.DajX()))) &amp;&amp; (std::abs(k1.DajY()-k2.DajY())&lt;=eps*(std::abs(k1.DajY())+std::abs(k2.DajY()))) &amp;&amp; (std::abs(k1.DajZ()-k2.DajZ())&lt;=eps*(std::abs(k1.DajZ())+std::abs(k2.DajZ())))) return true;
</font><a name="1"></a><font color="#00FF00"><a href="match149-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_16.gif"/></a>

    else return false;
}

bool DaLiSeDodirujuIzvana(const Kugla &amp;k1, const Kugla &amp;k2){ //Okej
    double D(RastojanjeCentara(k1, k2));
    double D1((k1.DajPoluprecnik()+k2.DajPoluprecnik()));
    if(std::abs(D1-D)&lt;=eps*(std::abs(D)+std::abs(D1))) return true;
    else return false;
}

bool DaLiSeDodirujuIznutra(const Kugla &amp;k1, const Kugla &amp;k2){ //Okej
    double D(RastojanjeCentara(k1, k2));
    double D1(std::abs(k1.DajPoluprecnik()-k2.DajPoluprecnik()));
    if(DaLiSuIdenticne(k1, k2)) return false;
    if(std::abs(D1-D)&lt;=eps*(std::abs(D)+std::abs(D1))) return true;
    else return false;
}

bool DaLiSePreklapaju(const Kugla &amp;k1, const Kugla &amp;k2){ //Okej
    if(DaLiSeDodirujuIzvana(k1, k2)) return false;
    if(DaLiSeSijeku(k1, k2)) return true;
    if(k1.DaLiSadrzi(k2) || k2.DaLiSadrzi(k1)) return true;
    if(DaLiSeDodirujuIznutra(k1, k2)) return true;
    return false;
}

bool DaLiSeSijeku(const Kugla &amp;k1, const Kugla &amp;k2){ //Okej
    double D(RastojanjeCentara(k1, k2));
    if(k1.DajPoluprecnik()==0 || k2.DajPoluprecnik()==0) return false;
    if(DaLiSuIdenticne(k1, k2) &amp;&amp; (k1.DajPoluprecnik()!=0 &amp;&amp; k2.DajPoluprecnik()!=0)) return true;
    if((k1.DajPoluprecnik()+k2.DajPoluprecnik())&gt;D &amp;&amp; std::abs(k1.DajPoluprecnik()-k2.DajPoluprecnik())&lt;D) return true;
    else return false;
}

double RastojanjeCentara(const Kugla &amp;k1, const Kugla &amp;k2){ //Okej
    return (sqrt(  ((k1.DajX()-k2.DajX())*(k1.DajX()-k2.DajX())) + ((k1.DajY()-k2.DajY())*(k1.DajY()-k2.DajY())) +  ((k1.DajZ()-k2.DajZ())*(k1.DajZ()-k2.DajZ())) ));
</font><a name="0"></a><font color="#FF0000"><a href="match149-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_24.gif"/></a>

}



int main()
{
    int n;
    double a, b, c;
    std::cout &lt;&lt; "Unesite broj kugla: ";
    std::cin&gt;&gt;n;
    while(n&lt;0 || n==0 || !std::cin){
        std::cin.clear();
        std::cin.ignore(1000, '\n');
        std::cout&lt;&lt;"Neispravan broj kugli, unesite ponovo!"&lt;&lt;std::endl;
        std::cin&gt;&gt;n;
    }

    std::vector&lt;std::shared_ptr&lt;Kugla&gt;&gt; v;
    for(int i=0; i&lt;n; i++){
        try{
        double x, y, z, r;
        std::cout&lt;&lt;"Unesite centar "&lt;&lt;i+1&lt;&lt;". kugle: ";
        std::cin&gt;&gt;x&gt;&gt;y&gt;&gt;z;
        if(!std::cin) throw std::domain_error("Neispravan centar");
        std::cout &lt;&lt; "Unesite poluprecnik "&lt;&lt;i+1&lt;&lt;". kugle: ";
        std::cin&gt;&gt;r;
        if(!std::cin) throw std::range_error("Ilegalan poluprecnik");
        v.push_back(std::shared_ptr&lt;Kugla&gt;(new Kugla(x, y, z, r)));
        }catch(std::domain_error e){
            std::cout&lt;&lt;e.what()&lt;&lt;std::endl;
            i--;
            std::cin.clear();
            std::cin.ignore(1000, '\n');
        }catch(std::range_error e){
            std::cout&lt;&lt;e.what()&lt;&lt;std::endl;
            i--;
            std::cin.clear();
            std::cin.ignore(1000, '\n');
        }
    }

    std::cout&lt;&lt;"Unesite parametre translacije (delta_x,delta_y,delta_z): ";
    for(;;){
        try{
    std::cin&gt;&gt;a;
    if(!std::cin || a&lt;0) throw std::logic_error("Neispravni parametri translacije, unesite ponovo!\n");
    std::cin&gt;&gt;b;
    if(!std::cin || b&lt;0) throw std::logic_error("Neispravni parametri translacije, unesite ponovo!\n");
    std::cin&gt;&gt;c;
    if(!std::cin || c&lt;0) throw std::logic_error("Neispravni parametri translacije, unesite ponovo!\n");
    break;
        }catch(std::logic_error e){
            std::cout&lt;&lt;e.what();
            std::cin.clear();
            std::cin.ignore(1000, '\n');
        }
    }


    std::transform(v.begin(), v.end(), v.begin(), [a, b, c](std::shared_ptr&lt;Kugla&gt; k){k-&gt;Transliraj(a, b, c); return std::shared_ptr&lt;Kugla&gt;(new Kugla(*k));});
    std::sort(v.begin(), v.end(), [](std::shared_ptr&lt;Kugla&gt; k1, std::shared_ptr&lt;Kugla&gt; k2){return k1-&gt;DajZapreminu()&lt;k2-&gt;DajZapreminu();});
</font>    std::cout &lt;&lt; "Kugle nakon obavljenje transformacije imaju sljedece vrijednosti: " &lt;&lt; std::endl;
<a name="3"></a><font color="#00FFFF"><a href="match149-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_9.gif"/></a>

    std::for_each(v.begin(), v.end(), [](std::shared_ptr&lt;Kugla&gt; k){k-&gt;Ispisi();});
    auto k=std::max_element(v.begin(), v.end(), [](std::shared_ptr&lt;Kugla&gt; k1, std::shared_ptr&lt;Kugla&gt; k2)-&gt;bool{return k1-&gt;DajPovrsinu()&lt;k2-&gt;DajPovrsinu();});
    std::cout&lt;&lt;"Kugla sa najvecom povrsinom je: ";
    (*k)-&gt;Ispisi();

    int br(0), p(0);
    std::for_each(v.begin(), v.end(), [&amp;p, &amp;br, v](std::shared_ptr&lt;Kugla&gt; k1){
        p++;
        std::for_each(v.begin()+p, v.end(), [&amp;p, &amp;br, k1](std::shared_ptr&lt;Kugla&gt; k2){
            if(DaLiSeSijeku(*k1, *k2)==true){
                std::cout&lt;&lt;"Presjecaju se kugle: "; k1-&gt;Ispisi(); k2-&gt;Ispisi();
                br++;
            }
        });
    });
    if(br==0) std::cout&lt;&lt;"Ne postoje kugle koje se presjecaju!";
    return 0;
</font>}</pre>
</body>
</html>
