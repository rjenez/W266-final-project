<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z4/Z1/student7956.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z4/Z1/student7956.cpp<p></p><pre>
/B2017/2018: ZadaÄ‡a 4, Zadatak 1
#include &lt;iostream&gt;
#include &lt;exception&gt;
#include &lt;tuple&gt;
#include &lt;cmath&gt;
#include &lt;vector&gt;
#include &lt;memory&gt;
#include &lt;algorithm&gt;
#include &lt;iterator&gt;
const double Eps(1e-10);
using namespace std;

bool JesuLiJednaki(double a, double b) {
 
 return fabs(a - b) &lt;= Eps * (fabs(a) + fabs(b));
}

class Kugla
{
<a name="5"></a><font color="#FF0000"><a href="match903-1.html#5" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_1.gif"/></a>

  double poluprecnik, x, y, z;
  
public:

  explicit Kugla(double r = 0)
  {
      if (r &lt; 0) throw domain_error ("Ilegalan poluprecnik");
      poluprecnik = r;
</font>      this-&gt;x = 0;
      this-&gt;y = 0;
      this-&gt;z = 0;
  }
  Kugla(double x, double y, double z, double r = 0)
  {
      if (r &lt; 0) throw domain_error ("Ilegalan poluprecnik");
      Kugla::x = x;
      Kugla::y = y;
      Kugla::z = z;
      Kugla::poluprecnik = r;
  }
<a name="1"></a><font color="#00FF00"><a href="match903-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_3.gif"/></a>

  explicit Kugla(const std::tuple&lt;double, double, double&gt; &amp;centar, double r = 0)
  {
      if (r &lt; 0) throw domain_error ("Ilegalan poluprecnik");
      poluprecnik = r;
      x = get&lt;0&gt;(centar);
      y = get&lt;1&gt;(centar);
      z = get&lt;2&gt;(centar);
  }
  double DajX() const
  {
      return x;
  }
  double DajY() const
  {
      return y;
  }
  double DajZ() const
</font>  {
      return z;
  }
<a name="3"></a><font color="#00FFFF"><a href="match903-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_2.gif"/></a>

  tuple&lt;double, double, double&gt; DajCentar() const
  {
      return make_tuple(x, y, z);
  }
  double DajPoluprecnik() const
  {
      return poluprecnik;
  }
  double DajPovrsinu() const
  {
      return 4 * M_PI * poluprecnik * poluprecnik;
  }
  double DajZapreminu() const
  {
      return 4/3. * M_PI * poluprecnik * poluprecnik * poluprecnik; 
</font>  }
  Kugla &amp;PostaviX(double x)
  {
      this-&gt; x = x;
      return *this;
  }
  Kugla &amp;PostaviY(double y)
  {
      this-&gt; y = y;
      return *this;
  }
  Kugla &amp;PostaviZ(double z)
  {
      this-&gt; z = z;
      return *this;
  }
  Kugla &amp;PostaviCentar(double x, double y, double z)
  {
      this-&gt; x = x;
      this-&gt; y = y;
      this-&gt; y = z;
      return *this;
  }
  Kugla &amp;PostaviCentar(const std::tuple&lt;double, double, double&gt; &amp;centar)
  {
      this-&gt; x = get&lt;0&gt;(centar);
      this-&gt; y = get&lt;1&gt;(centar);
<a name="0"></a><font color="#FF0000"><a href="match903-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_5.gif"/></a>

      this-&gt; z = get&lt;2&gt;(centar);
      return *this;
  }
  Kugla &amp;PostaviPoluprecnik(double r)
  {
      if (r &lt; 0) throw domain_error ("Ilegalan poluprecnik \n");
      poluprecnik = r;
      return *this;
  }
  void Ispisi() const
  {
      cout &lt;&lt; "{(" &lt;&lt; DajX() &lt;&lt; "," &lt;&lt; DajY() &lt;&lt; "," &lt;&lt; DajZ() &lt;&lt; ")," &lt;&lt; DajPoluprecnik() &lt;&lt; "}" &lt;&lt; endl;
  }
  void Transliraj(double delta_x, double delta_y, double delta_z)
  {
      x += delta_x;
      y += delta_y;
      z += delta_z;
</font>  }
  friend bool DaLiSuIdenticne(const Kugla &amp;k1, const Kugla &amp;k2)
  {
      if( JesuLiJednaki(k1.x, k2.x) &amp;&amp; JesuLiJednaki(k1.y, k2.y) &amp;&amp;
            JesuLiJednaki(k1.z, k2.z) &amp;&amp; JesuLiJednaki(k1.poluprecnik, k2.poluprecnik)) return true;
      return false;
  }
  friend bool DaLiSuPodudarne(const Kugla &amp;k1, const Kugla &amp;k2)
  {
      if (JesuLiJednaki(k1.poluprecnik, k2.poluprecnik)) return true;
      return false;
  }
  friend bool DaLiSuKoncentricne(const Kugla &amp;k1, const Kugla &amp;k2)
  {
      if ( JesuLiJednaki(k1.x, k2.x) &amp;&amp; JesuLiJednaki(k1.y, k2.y) &amp;&amp; JesuLiJednaki(k1.z, k2.z)) return true;
      return false;
  }
  friend bool DaLiSeDodirujuIzvana(const Kugla &amp;k1, const Kugla &amp;k2)
  {
      double a = sqrt( (k1.x - k2.x) * (k1.x - k2.x) + (k1.y - k2.y) * (k1.y - k2.y) + (k1.z - k2.z) * (k1.z - k2.z) );
      if (JesuLiJednaki(k2.poluprecnik + k1.poluprecnik, a)) return true;
      return false;
  }
  friend bool DaLiSeDodirujuIznutra(const Kugla &amp;k1, const Kugla &amp;k2)
  {
      double b = sqrt( (k1.x - k2.x) * (k1.x - k2.x) + (k1.y - k2.y) * (k1.y - k2.y) + (k1.z - k2.z) * (k1.z - k2.z) );
      if (JesuLiJednaki(k1.poluprecnik + b, k2.poluprecnik)) return true;
      else if (JesuLiJednaki(k2.poluprecnik + b, k1.poluprecnik)) return true;
      return false;
  }
  friend bool DaLiSePreklapaju(const Kugla &amp;k1, const Kugla &amp;k2)
  {
      double c = sqrt( (k1.x - k2.x) * (k1.x - k2.x) + (k1.y - k2.y) * (k1.y - k2.y) + (k1.z - k2.z) * (k1.z - k2.z) );
      if ( (k1.poluprecnik + c &lt; k2.poluprecnik) || JesuLiJednaki(k1.poluprecnik + c, k2.poluprecnik)) return true;
      else if ( (k2.poluprecnik + c &lt; k1.poluprecnik) || JesuLiJednaki(k2.poluprecnik + c, k1.poluprecnik)) return true;
      return false;
  }
  friend bool DaLiSeSijeku(const Kugla &amp;k1, const Kugla &amp;k2)
  {
      double d = sqrt( (k1.x - k2.x) * (k1.x - k2.x) + (k1.y - k2.y) * (k1.y - k2.y) + (k1.z - k2.z) * (k1.z - k2.z) );
      if (d &lt; k1.poluprecnik + k2.poluprecnik &amp;&amp; !k1.DaLiSadrzi(k2) &amp;&amp; !k2.DaLiSadrzi(k1)) return true;
      return false;
  }
  
 
  bool DaLiSadrzi(const Kugla &amp;k) const
  {
      double e = sqrt( (this-&gt;x - k.x) * (this-&gt;x - k.x) + (this-&gt; y - k.y) * (this-&gt;y - k.y) + (this-&gt;z - k.z) * (this-&gt;z - k.z) );
      
        if (k.poluprecnik + e &lt;= this-&gt;poluprecnik) return true;
      return false;
  }
  friend double RastojanjeCentara(const Kugla &amp;k1, const Kugla &amp;k2)
  {
      double udaljenost = sqrt( (k1.x - k2.x) * (k1.x - k2.x) + (k1.y - k2.y) * (k1.y - k2.y) + (k1.z - k2.z) * (k1.z - k2.z) );
      return udaljenost;
  }
};

int main ()
{
    int n, m = 1;
    cout &lt;&lt; "Unesite broj kugla: ";
    while (1)
            {
                if (cin &gt;&gt; n &amp;&amp; n &gt; 0)
                    break;
                else
                {
                cout &lt;&lt; "Neispravan broj kugli, unesite ponovo!\n";
                cin.clear();
                cin.ignore(100000, '\n');
                }
            }
    vector&lt;shared_ptr&lt;Kugla&gt;&gt; kugle;
    
    double a, b, c, r;
    while (n &gt; 0)
    {
        cout &lt;&lt; "Unesite centar " &lt;&lt; m &lt;&lt; ". kugle: ";
        
        cin &gt;&gt; a &gt;&gt; b &gt;&gt; c;
        if (!cin)
        {
            cin.clear();
            cin.ignore(10000, '\n');
            cout &lt;&lt; "Neispravan centar\n";
            continue;
        }
        cout &lt;&lt; "Unesite poluprecnik " &lt;&lt; m &lt;&lt; ". kugle: ";
         cin &gt;&gt; r;
         if (!cin || r &lt; 0)
        {
            cin.clear();
            cin.ignore(100000, '\n');
            cout &lt;&lt; "Ilegalan poluprecnik\n";
            continue;
        }
        kugle.push_back(make_shared&lt;Kugla&gt;(a, b, c, r));
        n--;
        m++;
    }
<a name="4"></a><font color="#FF00FF"><a href="match903-1.html#4" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_2.gif"/></a>

    double o, p, l;
    
    cout &lt;&lt; "Unesite parametre translacije (delta_x,delta_y,delta_z): ";
    while(1)
    {
    cin &gt;&gt; o &gt;&gt; p &gt;&gt; l;
    if (!cin)
        {
            cin.clear();
            cin.ignore(10000, '\n');
            cout &lt;&lt; "Neispravni parametri translacije, unesite ponovo!\n";
</font>            continue;
        }
    else break;
    }
<a name="2"></a><font color="#0000FF"><a href="match903-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_3.gif"/></a>

    transform(kugle.begin(), kugle.end(), kugle.begin(), [o, p, l] (shared_ptr&lt;Kugla&gt; k)
                 {
                     k-&gt;Transliraj(o, p, l);
                     return k;
                 } );
    sort(kugle.begin(), kugle.end(), [] (shared_ptr&lt;Kugla&gt; k1, shared_ptr&lt;Kugla&gt; k2)
</font>                 {
                     if (k1-&gt;DajZapreminu() &lt; k2-&gt;DajZapreminu()) 
                        return true;
                     else
                        return false;
                 } );
    cout &lt;&lt; "Kugle nakon obavljenje transformacije imaju sljedece vrijednosti: " &lt;&lt; endl;
    for_each(kugle.begin(), kugle.end(), [](shared_ptr&lt;Kugla&gt; k)
                 {
                    return k-&gt;Ispisi();
                 } );
    cout &lt;&lt; "Kugla sa najvecom povrsinom je: ";
    (* max_element(kugle.begin(), kugle.end(), [] (shared_ptr&lt;Kugla&gt; k1, shared_ptr&lt;Kugla&gt; k2)
                 {
                     if (k1-&gt;DajPovrsinu() &lt; k2-&gt;DajPovrsinu()) 
                        return true;
                     else
                        return false;
                 }))-&gt;Ispisi();
    int i(1);
   
    
    bool sijeku(false);
 
    std::for_each(kugle.begin(),kugle.end(),[&amp;i, &amp;kugle, &amp;sijeku](const std::shared_ptr&lt;Kugla&gt; &amp;k)
    {
        std::for_each(kugle.begin()+i,kugle.end(),[&amp;k, &amp;sijeku](const std::shared_ptr&lt;Kugla&gt; &amp;y)
        {
            if(DaLiSeSijeku(*k, *y))
            {
                std::cout&lt;&lt;"Presjecaju se kugle: ";
                k-&gt;Ispisi();
                y-&gt;Ispisi();
                sijeku=true;
            }
        });
        i++;
    });
    if(!sijeku) std::cout&lt;&lt;"Ne postoje kugle koje se presjecaju!"&lt;&lt;std::endl;
	return 0;
}
</pre>
</body>
</html>
