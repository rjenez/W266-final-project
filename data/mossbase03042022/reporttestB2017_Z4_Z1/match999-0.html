<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z4/Z1/student8367.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z4/Z1/student8367.cpp<p></p><pre>
/B2017/2018: ZadaÄ‡a 4, Zadatak 1
#include &lt;iostream&gt;
#include &lt;stdexcept&gt;
#include &lt;vector&gt;
#include &lt;cmath&gt;
#include &lt;memory&gt;
#include &lt;algorithm&gt;
#include &lt;string&gt;
#include &lt;tuple&gt;
const double PI = 4 * atan(1);
const double Eps(1e-10);

class Kugla
{
    double x, y, z, r;
<a name="1"></a><font color="#00FF00"><a href="match999-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_3.gif"/></a>

public:
    explicit Kugla (double r = 0) {
        if (r &lt; 0) throw std::domain_error ("Ilegalan poluprecnik");
        Kugla::r = r;
        Kugla::x = 0;
        Kugla::y = 0;
        Kugla::z = 0;
    }

    Kugla (double x, double y, double z, double r = 0) {
        if (r &lt; 0) throw std::domain_error ("Ilegalan poluprecnik");
</font>        Kugla::r = r;
        Kugla::x = x;
        Kugla::y = y;
        Kugla::z = z;
    }

    explicit Kugla (const std::tuple &lt; double, double, double &gt; &amp;centar, double r = 0) {
        if (r &lt; 0) throw std::domain_error ("Ilegalan poluprecnik");
        Kugla::r = r;
        Kugla::x = std::get &lt; 0 &gt; (centar);
        Kugla::y = std::get &lt; 1 &gt; (centar);
        Kugla::z = std::get &lt; 2 &gt; (centar);
    }

    double DajX() const {
        return x;
    }

    double DajY() const {
        return y;
    }

    double DajZ() const {
        return z;
    }

    bool static TestirajJednakost (double a, double b) {
        if (fabs (a - b) &lt; Eps *(fabs(a) + fabs(b)))
            return true;
        return false;
    }

    std::tuple &lt; double, double, double &gt; DajCentar() const {
        return std::make_tuple(x, y, z);
    }

    double DajPoluprecnik() const {
        return r;
    }

    double DajPovrsinu() const {
        return 4 * r * r * PI;
    }

    double DajZapreminu() const {
        return 4. / 3 * r * r * r * PI;
    }

    Kugla &amp;PostaviX (double x) {
        Kugla::x = x;
        return *this;
    }

    Kugla &amp;PostaviY (double y) {
        Kugla::y = y;
        return *this;
    }

    Kugla &amp;PostaviZ (double z) {
        Kugla::z = z;
        return *this;
    }

    Kugla &amp;PostaviCentar(double x, double y, double z) {
        Kugla::x = x;
        Kugla::y = y;
        Kugla::z = z;
        return *this;
    }

    Kugla &amp;PostaviCentar (const std::tuple &lt; double, double, double &gt; &amp;centar) {
        Kugla::x = std::get &lt; 0 &gt; (centar);
        Kugla::y = std::get &lt; 1 &gt; (centar);
        Kugla::z = std::get &lt; 2 &gt; (centar);
        return *this;
    }

    Kugla &amp;PostaviPoluprecnik (double r) {
        if (r &lt; 0) throw std::domain_error ("Ilegalan poluprecnik");
        Kugla::r = r;
        return *this;
    }

    void Ispisi() const {
        std::cout &lt;&lt; "{(" &lt;&lt; x &lt;&lt; "," &lt;&lt; y &lt;&lt; "," &lt;&lt; z &lt;&lt; ")," &lt;&lt; r &lt;&lt; "}";
    }

    void Transliraj (double delta_x, double delta_y, double delta_z) {
        Kugla::x += delta_x;
        Kugla::y += delta_y;
        Kugla::z += delta_z;
    }

    friend bool DaLiSuIdenticne (const Kugla &amp;k1, const Kugla &amp;k2);
    friend bool DaLiSuPodudarne (const Kugla &amp;k1, const Kugla &amp;k2);
    friend bool DaLiSuKoncentricne (const Kugla &amp;k1, const Kugla &amp;k2);
    friend bool DaLiSeDodirujuIzvana (const Kugla &amp;k1, const Kugla &amp;k2);
    friend bool DaLiSeDodirujuIznutra (const Kugla &amp;k1, const Kugla &amp;k2);
    friend bool DaLiSePreklapaju (const Kugla &amp;k1, const Kugla &amp;k2);
    friend bool DaLiSeSijeku (const Kugla &amp;k1, const Kugla &amp;k2);
    friend double RastojanjeCentara (const Kugla &amp;k1, const Kugla &amp;k2);
    bool DaLiSadrzi (const Kugla &amp;k) const {
        return RastojanjeCentara (*this, k) &lt;= r - k.r;
    }
};

<a name="0"></a><font color="#FF0000"><a href="match999-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_9.gif"/></a>

bool DaLiSuIdenticne (const Kugla &amp;k1, const Kugla &amp;k2)
{
    if (Kugla::TestirajJednakost(k1.DajX(), k2.DajX()) &amp;&amp; Kugla::TestirajJednakost(k1.DajY(), k2.DajY()) &amp;&amp; Kugla::TestirajJednakost(k1.DajZ(), k2.DajZ())
            &amp;&amp; Kugla::TestirajJednakost(k1.DajPoluprecnik(), k2.DajPoluprecnik()))
        return true;
    return false;
}

bool DaLiSuPodudarne (const Kugla &amp;k1, const Kugla &amp;k2)
{
    if (Kugla::TestirajJednakost(k1.DajPoluprecnik(), k2.DajPoluprecnik()))
        return true;
    return false;
}

bool DaLiSuKoncentricne (const Kugla &amp;k1, const Kugla &amp;k2)
{
    if (Kugla::TestirajJednakost(k1.DajX(), k2.DajX()) &amp;&amp; Kugla::TestirajJednakost(k1.DajY(), k2.DajY()) &amp;&amp; Kugla::TestirajJednakost(k1.DajZ(), k2.DajZ()))
        return true;
    return false;
}

bool DaLiSeDodirujuIzvana (const Kugla &amp;k1, const Kugla &amp;k2)
{
    if (Kugla::TestirajJednakost(k1.DajPoluprecnik() + k2.DajPoluprecnik(), RastojanjeCentara(k1, k2))) {
</font>        return true;
    }
    return false;
}

bool DaLiSeDodirujuIznutra (const Kugla &amp;k1, const Kugla &amp;k2)
{
    if (Kugla::TestirajJednakost(fabs(k1.DajPoluprecnik() - k2.DajPoluprecnik()), RastojanjeCentara(k1, k2)))
        return true;
    return false;
}

bool DaLiSePreklapaju (const Kugla &amp;k1, const Kugla &amp;k2)
{
<a name="3"></a><font color="#00FFFF"><a href="match999-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_2.gif"/></a>

    if (DaLiSeSijeku(k1, k2) || DaLiSuIdenticne(k1, k2) || k1.DaLiSadrzi(k2) || k2.DaLiSadrzi(k1))
        return true;
    return false;
}

bool DaLiSeSijeku (const Kugla &amp;k1, const Kugla &amp;k2)
{
    if ((fabs(RastojanjeCentara(k1, k2)) &lt; k1.r + k2.r) &amp;&amp; (fabs(RastojanjeCentara(k1, k2)) &gt; fabs(k1.r - k2.r)))
</font>        return true;
    return false;
}

double RastojanjeCentara (const Kugla &amp;k1, const Kugla &amp;k2)
{
    return sqrt (pow(k2.x - k1.x, 2) + pow(k2.y - k1.y, 2) + pow(k2.z - k1.z, 2));
}

template &lt; typename TIP &gt;
bool ValidanUnos (TIP &amp;unos, std::string s)
{
    //std::cout &lt;&lt; s;
    while (1) {
        if (std::cin &gt;&gt; unos) {
            break;
        } else {
            
            //std::cout &lt;&lt; s;
            return false;
        }
    }
    return true;
}

int main ()
{
    int n;
    std::cout&lt;&lt;"Unesite broj kugla: ";
    bool validanUnos=true;
    while (true) 
    {
        validanUnos=ValidanUnos(n, "Unesite broj kugla: ");
        if(n&lt;1 || validanUnos==false)
        {
            std::cout&lt;&lt;"Neispravan broj kugli, unesite ponovo!\n";
            std::cin.clear();
            std::cin.ignore(10000, '\n');
        }
        else break;
    }
    std::vector &lt; std::shared_ptr &lt; Kugla &gt;&gt; kugle (n);
    for (int i = 0; i &lt; n; i++) {
        ponovo:
        validanUnos=true;
        double x, y, z, r;
        std::cout &lt;&lt; "Unesite centar " &lt;&lt; i+1 &lt;&lt; ". kugle: ";
        if(ValidanUnos(x, "x = ")==false) validanUnos=false; 
        if(ValidanUnos(y, "y = ")==false) validanUnos=false;
        if(ValidanUnos(z, "z = ")==false) validanUnos=false;
        if(validanUnos==false)
        {
            std::cout&lt;&lt;"Neispravan centar\n";
            std::cin.clear();
            std::cin.ignore(10000, '\n');
            goto ponovo;
        }
        std::cout &lt;&lt; "Unesite poluprecnik " &lt;&lt; i+1 &lt;&lt; ". kugle: ";
        validanUnos=ValidanUnos(r, "r = ");
        while (1) {
            if (r &lt; 0 || validanUnos==false) {
                std::cout &lt;&lt; "Ilegalan poluprecnik" &lt;&lt; std::endl;
                std::cin.clear();
                std::cin.ignore(10000, '\n');
                goto ponovo;
            } else break;
        }
        kugle [i] = std::make_shared &lt; Kugla &gt; (x, y, z, r);
    }
    double delta_x, delta_y, delta_z;
    int brojac(1);
    std::cout &lt;&lt; "Unesite parametre translacije (delta_x,delta_y,delta_z): ";
    ponovo1:
       bool v=true;
       if(ValidanUnos(delta_x, "x = ")==false) v=false; 
        if(ValidanUnos(delta_y, "y = ")==false) v=false;
        if(ValidanUnos(delta_z, "z = ")==false) v=false;
        if(v==false)
        {
            std::cout&lt;&lt;"Neispravni parametri translacije, unesite ponovo!\n";
            std::cin.clear();
            std::cin.ignore(10000, '\n');
            goto ponovo1;
        }
    std::transform (kugle.begin(), kugle.end(), kugle.begin(), [&amp;delta_x, &amp;delta_y, &amp;delta_z, &amp;brojac] (std::shared_ptr &lt; Kugla &gt; k) {
       (*k).Transliraj(delta_x, delta_y, delta_z);
       brojac++;
       return k;
    });

    std::sort (kugle.begin(), kugle.end(), [] (std::shared_ptr &lt; Kugla &gt; k1, std::shared_ptr &lt; Kugla &gt; k2) {
        return k1 -&gt; DajZapreminu() &lt; k2 -&gt; DajZapreminu();
    });
    std::cout &lt;&lt; "Kugle nakon obavljenje transformacije imaju sljedece vrijednosti:\n";
    brojac = 1;
    std::for_each (kugle.begin(), kugle.end(), [&amp;brojac] (std::shared_ptr &lt; Kugla &gt; za_ispis) {
        za_ispis -&gt; Ispisi();
        std::cout &lt;&lt; std::endl;
        brojac++;
    });

<a name="2"></a><font color="#0000FF"><a href="match999-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_2.gif"/></a>

    auto max_kugla = *max_element (kugle.begin(), kugle.end(), [](std::shared_ptr &lt; Kugla &gt; najveci, std::shared_ptr &lt; Kugla &gt; sljedeci) {
        if (najveci -&gt; DajPovrsinu() &lt; sljedeci -&gt; DajPovrsinu()) return true;
        return false;
    });

    std::cout &lt;&lt; "Kugla sa najvecom povrsinom je: ";
</font>    max_kugla -&gt; Ispisi();
    bool t = true;
    for (int i = 0; i &lt; n; i++) {
        for (int j = i+1; j &lt; n; j++) {
            if (DaLiSeSijeku(*kugle[i], *kugle[j])) {
                std::cout &lt;&lt; "\nPresjecaju se kugle: ";
                kugle[i] -&gt; Ispisi();
                std::cout &lt;&lt; "\n";
                kugle[j] -&gt; Ispisi();
                t = false;
            }
        }
    }
    std::cout &lt;&lt; std::endl;
    if (t) std::cout &lt;&lt; "Ne postoje kugle koje se presjecaju!" &lt;&lt; std::endl;
    return 0;
}
</pre>
</body>
</html>
