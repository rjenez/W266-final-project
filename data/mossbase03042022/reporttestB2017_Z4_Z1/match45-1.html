<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z4/Z1/student4469.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z4/Z1/student4026.cpp<p></p><pre>
<a name="3"></a><font color="#00FFFF"><a href="match45-0.html#3" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_4.gif"/></a>

/B2017/2018: ZadaÄ‡a 4, Zadatak 1
#include &lt;iostream&gt;
#include &lt;stdexcept&gt;
#include &lt;tuple&gt;
#include &lt;cmath&gt;
#include &lt;memory&gt;
#include &lt;vector&gt;
#include &lt;algorithm&gt;
#include &lt;map&gt;
int brojac=0;
class Kugla
{

  double x,y,z,r;
public:
  explicit Kugla(double r=0) {
    if(r&lt;0) throw std::domain_error("Ilegalan poluprecnik");
    x=0;
    y=0;
    z=0;
    Kugla::r=r;
  }
  Kugla(double x, double y, double z, double r=0) {
</font>    if(r&lt;0)throw std::domain_error("Ilegalan poluprecnik");
    Kugla::x=x;
    Kugla::y=y;
    Kugla::z=z;
    Kugla::r=r;
  }
<a name="2"></a><font color="#0000FF"><a href="match45-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_6.gif"/></a>

  explicit Kugla(const std::tuple&lt;double,double,double&gt;&amp;centar, double r=0) {
    if(r&lt;0)throw std::domain_error("Ilegalan poluprecnik");
    std::tie(x,y,z)=centar;
    Kugla::r=r;
  }
  double DajX()const {
    return x;
  }
  double DajY()const {
    return y;
  }
  double DajZ()const {
    return z;
  }
  std::tuple&lt;double, double, double&gt; DajCentar() {
    return std::make_tuple(x,y,z);
  }
  double DajPoluprecnik()const {
    return r;
  }
  double DajPovrsinu()const {
    return 4*r*r*4*atan(1);
  }
  double DajZapreminu()const {
    return r*r*r*4*atan(1)*4/3;
  }
  Kugla&amp; PostaviX(double x) {
    Kugla::x=x;
    return*this;
  }
  Kugla&amp; PostaviY(double y) {
    Kugla::y=y;
</font>    return *this;
  }
  Kugla&amp; PostaviZ(double z) {
    Kugla::z=z;
    return *this;
  }
  Kugla&amp; PostaviCentar(double x, double y, double z) {
    Kugla::x=x;
    Kugla::y=y;
<a name="4"></a><font color="#FF00FF"><a href="match45-0.html#4" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_2.gif"/></a>

    Kugla::z=z;
    return *this;
  }
  Kugla&amp; PostaviCentar(const std::tuple&lt;double,double,double&gt; &amp;centar) {
    std::tie(x,y,z)=centar;
    return *this;
  }
  Kugla&amp; PostaviPoluprecnik(double r) {
    if(r&lt;0)throw std::domain_error("Ilegalan poluprecnik");
    Kugla::r=r;
</font>    return *this;
  }
  void Ispisi()const {
    std::cout&lt;&lt;"{("&lt;&lt;x&lt;&lt;","&lt;&lt;y&lt;&lt;","&lt;&lt;z&lt;&lt;"),"&lt;&lt;r&lt;&lt;"}"&lt;&lt;std::endl;
  }
  void Transliraj(double delta_x, double delta_y, double delta_z) {
<a name="0"></a><font color="#FF0000"><a href="match45-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_43.gif"/></a>

    x+=delta_x;
    y+=delta_y;
    z+=delta_z;
  }
  friend bool DaLiSuIdenticne(const Kugla &amp;k1, const Kugla &amp;k2) {
    if(k1.x==k2.x &amp;&amp; k1.y==k2.y &amp;&amp; k1.z==k2.z &amp;&amp; k1.r==k2.r)return true;
  
  
    return false;
  }
  friend bool DaLiSuPodudarne(const Kugla &amp;k1, const Kugla &amp;k2) {
   if(k1.r==k2.r)return true;
  
    return false;
  }
  friend bool DaLiSuKoncentricne(const Kugla &amp;k1, const Kugla &amp;k2) {
    if(k1.x==k2.x &amp;&amp; k1.y==k2.y &amp;&amp; k1.z==k2.z)return true;
   
    
    return false;
  }
  friend bool DaLiSeDodirujuIzvana(const Kugla &amp;k1, const Kugla &amp;k2) {
    double epsilon=0.0000000001;
    if(fabs(RastojanjeCentara(k1,k2)-k2.r-k1.r)&lt;epsilon*(fabs(RastojanjeCentara(k1,k2)+ fabs(k1.r+k2.r))))return true;
    return false;
  }
  friend bool DaLiSeDodirujuIznutra(const Kugla &amp;k1, const Kugla &amp;k2) {
    double epsilon=0.0000000001;
    if(k1.DaLiSadrzi(k2)) {
      if(fabs(RastojanjeCentara(k1,k2) + k2.r - k1.r )&lt;epsilon*(fabs(RastojanjeCentara(k1,k2) +k2.r) +fabs(k1.r)))return true;
    }
    if(k2.DaLiSadrzi(k1)) {
      if(fabs(RastojanjeCentara(k1,k2) + k1.r - k2.r )&lt;epsilon*(fabs(RastojanjeCentara(k1,k2) +k1.r) +fabs(k2.r)))return true;
    }
    return false;
  }
  friend bool DaLiSePreklapaju(const Kugla &amp;k1, const Kugla &amp;k2) {
    if(DaLiSeSijeku(k1,k2))return true;
    if(k1.DaLiSadrzi(k2)||k2.DaLiSadrzi(k1))return true;
    return false;
  }
  friend double RastojanjeCentara(const Kugla &amp;k1, const Kugla &amp;k2) {
    return sqrt( pow((k2.x-k1.x),2) + pow((k2.y-k1.y),2) + pow((k2.z-k1.z),2) );
  }
  bool DaLiSadrzi(const Kugla &amp;k)const {

    if(k.x+k.r&lt;=x+r &amp;&amp; k.y+k.r&lt;=y+r &amp;&amp; k.z+k.r&lt;=z+r)return true;
    return false;

  }
  friend bool DaLiSeSijeku(const Kugla &amp;k1, const Kugla &amp;k2) {
    if(RastojanjeCentara(k1,k2)&lt;k1.r+k2.r &amp;&amp; RastojanjeCentara(k1,k2)&gt;fabs(k1.r-k2.r) ) return true;
    return false;
  }


};

int main ()
{
  std::cout&lt;&lt;"Unesite broj kugla: ";
  int n;
  do {
    if(!std::cin) {
      std::cin.clear();
      std::cin.ignore(10000,'\n');
    }
    std::cin&gt;&gt;n;
    if(!std::cin || n&lt;=0)std::cout&lt;&lt;"Neispravan broj kugli, unesite ponovo!"&lt;&lt;std::endl;

  } while(!std::cin || n&lt;=0);

  std::vector&lt;std::shared_ptr&lt;Kugla&gt;&gt; vektor;
  for(int i=0; i&lt;n; i++) {
    double r;
    double x,y,z;
    do {
      if(!std::cin) {
        std::cin.clear();
        std::cin.ignore(10000,'\n');
      }
      std::cout&lt;&lt;"Unesite centar "&lt;&lt;i+1&lt;&lt;". kugle: ";
      std::cin&gt;&gt;x;
      if(!std::cin) std::cout&lt;&lt;"Neispravan centar"&lt;&lt;std::endl;
      else {
        std::cin&gt;&gt;y;
        if(!std::cin)std::cout&lt;&lt;"Neispravan centar"&lt;&lt;std::endl;
        else {
          std::cin&gt;&gt;z;
          if(!std::cin)std::cout&lt;&lt;"Neispravan centar"&lt;&lt;std::endl;
          else {
            std::cout&lt;&lt;"Unesite poluprecnik "&lt;&lt;i+1&lt;&lt;". kugle: ";
            std::cin&gt;&gt;r;
            if(r&lt;0 || !std::cin) std::cout&lt;&lt;"Ilegalan poluprecnik"&lt;&lt;std::endl;
          }
        }
      }

    } while(!std::cin || r&lt;0);
    vektor.push_back(std::make_shared&lt;Kugla&gt;(Kugla(x,y,z,r)));
  }


  
  std::cout&lt;&lt;"Unesite parametre translacije (delta_x,delta_y,delta_z): "; double deltax, deltaz, deltay;
  do{
    if(!std::cin) {
      std::cin.clear();
      std::cin.ignore(10000,'\n'); }
  std::cin&gt;&gt;deltax; std::cin&gt;&gt;deltay; std::cin&gt;&gt;deltaz;
  if(!std::cin)std::cout&lt;&lt;"Neispravni parametri translacije, unesite ponovo!"&lt;&lt;std::endl;
  }
  while(!std::cin);

  std::transform(vektor.begin(),vektor.end(),vektor.begin(),[deltax, deltaz, deltay] (std::shared_ptr&lt;Kugla&gt; pok) {
</font>
    pok-&gt;Transliraj(deltax,deltay,deltaz);
    return pok;

  } );
  std::sort(vektor.begin(),vektor.end(),[] (std::shared_ptr&lt;Kugla&gt; pok1, std::shared_ptr&lt;Kugla&gt; pok2) {
    return pok1-&gt;DajZapreminu()&lt;pok2-&gt;DajZapreminu();
  } );

  std::cout&lt;&lt;"Kugle nakon obavljenje transformacije imaju sljedece vrijednosti: "&lt;&lt;std::endl;
<a name="1"></a><font color="#00FF00"><a href="match45-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_30.gif"/></a>

  std::for_each(vektor.begin(),vektor.end(),[] (std::shared_ptr&lt;Kugla&gt; pok1) {
   pok1-&gt;Ispisi();
  });
  auto it= std::max_element(vektor.begin(),vektor.end(),[] (std::shared_ptr&lt;Kugla&gt; pok1, std::shared_ptr&lt;Kugla&gt; pok2) {
    return pok1-&gt;DajPovrsinu()&lt;pok2-&gt;DajPovrsinu();
  });
  std::cout&lt;&lt;"Kugla sa najvecom povrsinom je: "; (*it)-&gt;Ispisi();

    std::vector&lt;std::tuple&lt;double,double,double,double&gt;&gt; vektor_tupleova1;
    std::vector&lt;std::tuple&lt;double,double,double,double&gt;&gt; vektor_tupleova2;

  std::for_each(vektor.begin(),vektor.end(),[&amp;vektor,&amp;vektor_tupleova1,&amp;vektor_tupleova2] (std::shared_ptr&lt;Kugla&gt; pok1) {

    std::for_each(vektor.begin(),vektor.end(),[&amp;pok1,&amp;vektor_tupleova1,&amp;vektor_tupleova2] (std::shared_ptr&lt;Kugla&gt; pok2) {

      if(pok1!=pok2 &amp;&amp; DaLiSeSijeku(*pok1, *pok2)) {
         int i=0;
         for(;i&lt;vektor_tupleova1.size();i++) {
          if(std::get&lt;0&gt;(vektor_tupleova1[i])==pok1-&gt;DajX() &amp;&amp; std::get&lt;1&gt;(vektor_tupleova1[i])==pok1-&gt;DajY()
           &amp;&amp; std::get&lt;2&gt;(vektor_tupleova1[i])==pok1-&gt;DajZ() &amp;&amp;std::get&lt;3&gt;(vektor_tupleova1[i])==pok1-&gt;DajPoluprecnik()
           ) {
             int j=i;
             for(;j&lt;vektor_tupleova2.size();j++)
             if(std::get&lt;0&gt;(vektor_tupleova2[j])==pok2-&gt;DajX() &amp;&amp; std::get&lt;1&gt;(vektor_tupleova2[j])==pok2-&gt;DajY()
           &amp;&amp; std::get&lt;2&gt;(vektor_tupleova2[j])==pok2-&gt;DajZ() &amp;&amp;std::get&lt;3&gt;(vektor_tupleova2[j])==pok2-&gt;DajPoluprecnik()
           )break;
            if(j!=vektor_tupleova2.size())
              break;

           }

         }
         
          
    
         int k=0;
         
         for(;k&lt;vektor_tupleova2.size();k++) {
       
           
           
           if(std::get&lt;0&gt;(vektor_tupleova2[k])==pok1-&gt;DajX() &amp;&amp; std::get&lt;1&gt;(vektor_tupleova2[k])==pok1-&gt;DajY()
           &amp;&amp; std::get&lt;2&gt;(vektor_tupleova2[k])==pok1-&gt;DajZ() &amp;&amp;std::get&lt;3&gt;(vektor_tupleova2[k])==pok1-&gt;DajPoluprecnik()
           ) {
             int z=k;
             for(;z&lt;vektor_tupleova1.size();z++)
             if(std::get&lt;0&gt;(vektor_tupleova1[z])==pok2-&gt;DajX() &amp;&amp; std::get&lt;1&gt;(vektor_tupleova1[z])==pok2-&gt;DajY()
           &amp;&amp; std::get&lt;2&gt;(vektor_tupleova1[z])==pok2-&gt;DajZ() &amp;&amp;std::get&lt;3&gt;(vektor_tupleova1[z])==pok2-&gt;DajPoluprecnik()
           )break;
            if(z!=vektor_tupleova1.size())
              break;

           } 

         }

         if(i==vektor_tupleova1.size() &amp;&amp; k==vektor_tupleova2.size()) {

        std::cout&lt;&lt;"Presjecaju se kugle: "; pok1-&gt;Ispisi(); pok2-&gt;Ispisi();
        brojac++;
        vektor_tupleova1.push_back(std::make_tuple(pok1-&gt;DajX(),pok1-&gt;DajY(),pok1-&gt;DajZ(),pok1-&gt;DajPoluprecnik()));
        vektor_tupleova2.push_back(std::make_tuple(pok2-&gt;DajX(),pok2-&gt;DajY(),pok2-&gt;DajZ(),pok2-&gt;DajPoluprecnik()));
         }
      }

    });

  });

  if(brojac==0) std::cout&lt;&lt;"Ne postoje kugle koje se presjecaju!";
  


  return 0;
</font>}
</pre>
</body>
</html>
