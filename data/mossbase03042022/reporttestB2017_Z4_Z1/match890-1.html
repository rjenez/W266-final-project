<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z4/Z1/student4896.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z4/Z1/student3517.cpp<p></p><pre>
/B2017/2018: ZadaÄ‡a 4, Zadatak 1
#include &lt;iostream&gt;
#include &lt;cmath&gt;
#include &lt;algorithm&gt;
#include &lt;stdexcept&gt;
#include &lt;utility&gt;
#include &lt;new&gt;
#include &lt;memory&gt;
#include &lt;vector&gt;

#define pi 4*atan(1)
#define Epsilon 10e-10

class Kugla {
    double centarx, centary, centarz, poluprecnik;
    public:
<a name="0"></a><font color="#FF0000"><a href="match890-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_4.gif"/></a>

       explicit Kugla(double r=0) {
           if(r&lt;0) throw std::domain_error("Ilegalan poluprecnik");
           centarx=0;centary=0;centarz=0;
           poluprecnik=r;
       }
       
       Kugla(double x, double y, double z, double r=0) {
           if(r&lt;0) throw std::domain_error("Ilegalan poluprecnik");
           centarx=x;centary=y;centarz=z;
           poluprecnik=r;
       }
       
       explicit Kugla(const std::tuple&lt;double, double, double&gt; &amp;centar, double r=0) {
</font>           if(r&lt;0) throw std::domain_error("Ilegalan poluprecnik");
           centarx=std::get&lt;0&gt;(centar);
           centary=std::get&lt;1&gt;(centar);
           centarz=std::get&lt;2&gt;(centar);
           poluprecnik=r;
       }
       
       double DajX() const { return centarx; }
       double DajY() const { return centary; }
       double DajZ() const { return centarz; }
       std::tuple&lt;double, double, double&gt; DajCentar() const {
<a name="1"></a><font color="#00FF00"><a href="match890-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_3.gif"/></a>

           return std::make_tuple(centarx, centary, centarz);
       }
       
       double DajPoluprecnik() const { return poluprecnik; }
       double DajPovrsinu() const { return 4*poluprecnik*poluprecnik*pi; }
       double DajZapreminu() const { return (4/3.)*poluprecnik*poluprecnik*poluprecnik*pi; }
       
       Kugla &amp;PostaviX(double x) {
           centarx=x;
           return *this;
       }
       
       Kugla &amp;PostaviY(double y) {
           centary=y;
           return *this;
</font>       }
       
       Kugla &amp;PostaviZ(double z) {
           centarz=z;
           return *this;
       }
       
<a name="2"></a><font color="#0000FF"><a href="match890-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_2.gif"/></a>

       Kugla &amp;PostaviCentar(double x, double y, double z) {
           centarx=x;
           centary=y;
           centarz=z;
           return *this;
       }
       
       Kugla &amp;PostaviCentar(const std::tuple&lt;double, double, double&gt; &amp;centar) {
           centarx=std::get&lt;0&gt;(centar);
</font>           centary=std::get&lt;1&gt; (centar);
<a name="3"></a><font color="#00FFFF"><a href="match890-0.html#3" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_2.gif"/></a>

           centarz=std::get&lt;2&gt; (centar);
           return *this;
       }
       
       Kugla &amp;PostaviPoluprecnik(double r) {
           if(r&lt;0) throw std::domain_error("Ilegalan poluprecnik");
           poluprecnik=r;
           return *this;
       }
       
       void Ispisi() const {
           std::cout&lt;&lt;"{"&lt;&lt;"("&lt;&lt;centarx&lt;&lt;","&lt;&lt;centary&lt;&lt;","&lt;&lt;centarz&lt;&lt;"),"&lt;&lt;poluprecnik&lt;&lt;"}";
</font>       }
       
       void Transliraj(double deltax, double deltay, double deltaz) {
           centarx+=deltax;
           centary+=deltay;
           centarz+=deltaz;
       }
       
       friend bool DaLiSuIdenticne(const Kugla &amp;k1, const Kugla &amp;k2) {
           if((fabs(k1.centarx-k2.centarx)&lt;Epsilon*(fabs(k1.centarx)+fabs(k2.centarx))) &amp;&amp; (fabs(k1.centary-k2.centary)&lt;Epsilon*(fabs(k1.centary)+fabs(k2.centary))) &amp;&amp; (fabs(k1.centarz-k2.centarz)&lt;Epsilon*(fabs(k1.centarz)+fabs(k2.centarz))) &amp;&amp; (fabs(k1.poluprecnik-k2.poluprecnik)&lt;Epsilon*(fabs(k1.poluprecnik)+fabs(k2.poluprecnik))))  return true;
           return false;
       }
       
       friend bool DaLiSuPodudarne(const Kugla &amp;k1, const Kugla &amp;k2) {
           if(fabs(k1.poluprecnik-k2.poluprecnik)&lt;Epsilon*(fabs(k1.poluprecnik)+fabs(k2.poluprecnik))) return true;
           return false;
       } 
    
       friend bool DaLiSuKoncentricne( const Kugla &amp;k1, const Kugla &amp;k2) {
           if((fabs(k1.centarx-k2.centarx)&lt;Epsilon*(fabs(k1.centarx)+fabs(k2.centarx))) &amp;&amp; (fabs(k1.centary-k2.centary)&lt;Epsilon*(fabs(k1.centary)+fabs(k2.centary))) &amp;&amp; (fabs(k1.centarz-k2.centarz)&lt;Epsilon*(fabs(k1.centarz)+fabs(k2.centarz)))) return true;
           return false;
       }
       
       friend bool DaLiSeDodirujuIzvana( const Kugla &amp;k1, const Kugla &amp;k2) {
           if(k1.poluprecnik&lt;Epsilon &amp;&amp; k2.poluprecnik&lt;Epsilon) {
                if((fabs(k1.centarx-k2.centarx)&lt;Epsilon*(fabs(k1.centarx)+fabs(k2.centarx))) &amp;&amp; (fabs(k1.centary-k2.centary)&lt;Epsilon*(fabs(k1.centary)+fabs(k2.centary))) &amp;&amp; (fabs(k1.centarz-k2.centarz)&lt;Epsilon*(fabs(k1.centarz)+fabs(k2.centarz)))) return true;
                return false;
           }
           if(RastojanjeCentara(k1,k2)==k1.poluprecnik+k2.poluprecnik &amp;&amp; !DaLiSeDodirujuIznutra(k1,k2)) return true;
           return false;
       }
       
       friend bool DaLiSeDodirujuIznutra(const Kugla &amp;k1, const Kugla &amp;k2) {
           if(k1.poluprecnik&lt;Epsilon &amp;&amp; k2.poluprecnik&lt;Epsilon) {
                if((fabs(k1.centarx-k2.centarx)&lt;Epsilon*(fabs(k1.centarx)+fabs(k2.centarx))) &amp;&amp; (fabs(k1.centary-k2.centary)&lt;Epsilon*(fabs(k1.centary)+fabs(k2.centary))) &amp;&amp; (fabs(k1.centarz-k2.centarz)&lt;Epsilon*(fabs(k1.centarz)+fabs(k2.centarz)))) return true;
                return false;
           }
           if(RastojanjeCentara(k1,k2)==k1.poluprecnik-k2.poluprecnik &amp;&amp; !DaLiSeDodirujuIzvana(k1,k2)) return true;
           return false;
       }
       
       friend bool DaLiSePreklapaju(const Kugla &amp;k1, const Kugla &amp;k2) {
           if (DaLiSeSijeku(k1,k2)) return true;
           return false;
       }
       
       friend bool DaLiSeSijeku(const Kugla &amp;k1, const Kugla &amp;k2) {
           return (RastojanjeCentara(k1,k2)&lt;(k1.poluprecnik+k2.poluprecnik) &amp;&amp; RastojanjeCentara(k1,k2)&gt;std::abs(k1.poluprecnik-k2.poluprecnik));
       }
       
       bool DaLiSadrzi(const Kugla &amp;k) {
           if((RastojanjeCentara(*this, k)+k.poluprecnik)&lt;=poluprecnik) return true;
           return false;
       }
       
       friend double RastojanjeCentara(const Kugla &amp;k1, const Kugla &amp;k2) {
           return sqrt(pow(k1.centarx-k2.centarx, 2)+ pow(k1.centary-k2.centary, 2)+ pow(k1.centarz-k2.centarz, 2));
       }
};


int main ()
{
    int n;
    std::cout &lt;&lt; "Unesite broj kugla: ";
    std::cin&gt;&gt;n;
    while(!std::cin || n&lt;=0) {
        std::cout &lt;&lt; "Neispravan broj kugli, unesite ponovo!\n";
        std::cin.clear();
        std::cin.ignore(10000,'\n');
        std::cin &gt;&gt; n;
    }
    try {
    std::vector&lt;std::shared_ptr&lt;Kugla&gt;&gt; v;
    for(int i=0;i&lt;n;i++) {
        double x,y,z;
        std::cout &lt;&lt; "Unesite centar "&lt;&lt;i+1&lt;&lt;". kugle: ";
        std::cin&gt;&gt;x&gt;&gt;y&gt;&gt;z;
        if(!std::cin) {
            std::cout &lt;&lt; "Neispravan centar\n";
            std::cin.clear();
            std::cin.ignore(10000,'\n');
            i--;
            continue;
        }
        std::tuple&lt;double, double, double&gt; centar=std::make_tuple(x,y,z);
        double r;
        std::cout &lt;&lt; "Unesite poluprecnik "&lt;&lt;i+1&lt;&lt;". kugle: ";
        std::cin &gt;&gt; r;
        if(!(std::cin) || r&lt;0) {
            std::cout &lt;&lt; "Ilegalan poluprecnik\n";
            std::cin.clear();
            std::cin.ignore(10000,'\n');
            i--;
            continue;
        }
        std::shared_ptr&lt;Kugla&gt; pok(std::make_shared&lt;Kugla&gt;(centar, r));
        v.push_back(pok);
    }
    double dx, dy,dz;
    std::cout &lt;&lt; "Unesite parametre translacije (delta_x,delta_y,delta_z): ";
    std::cin.clear();
    std::cin.ignore(10000,'\n');
    std::cin &gt;&gt; dx&gt;&gt;dy&gt;&gt;dz;
    while(!std::cin) {
        std::cout &lt;&lt; "Neispravni parametri translacije, unesite ponovo!" &lt;&lt; std::endl;
        std::cin.clear();
        std::cin.ignore(10000,'\n');
        std::cin &gt;&gt; dx&gt;&gt;dy&gt;&gt;dz;
    }
<a name="4"></a><font color="#FF00FF"><a href="match890-0.html#4" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_1.gif"/></a>

    std::transform(v.begin(),v.end(), v.begin(), [=] (const std::shared_ptr&lt;Kugla&gt; &amp;poknakuglu) { (*poknakuglu).Transliraj(dx,dy,dz); return poknakuglu; });
    std::sort(v.begin(), v.end(), [] (const std::shared_ptr&lt;Kugla&gt; &amp;x, const std::shared_ptr&lt;Kugla&gt; &amp;y) { 
</font>        if(x-&gt;DajPoluprecnik()&lt; y-&gt;DajPoluprecnik()) return true;
        else return false;
    });
    std::cout &lt;&lt;"Kugle nakon obavljenje transformacije imaju sljedece vrijednosti: \n";
    std::for_each(v.begin(), v.end(), [] (const std::shared_ptr&lt;Kugla&gt; &amp;kug) {
        (*kug).Ispisi();
        std::cout&lt;&lt; std::endl;
    });
    std::cout&lt;&lt;"\nKugla sa najvecom povrsinom je: ";
<a name="6"></a><font color="#00FF00"><a href="match890-0.html#6" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_1.gif"/></a>

    auto poknamaxele= std::max_element(v.begin(), v.end(), [] (const std::shared_ptr&lt;Kugla&gt; &amp;kugla1, const std::shared_ptr&lt;Kugla&gt; &amp;kugla2) {
</font><a name="6"></a><font color="#00FF00"><a href="match890-0.html#6" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_1.gif"/></a>

        if((*kugla1).DajPoluprecnik()&lt;(*kugla2).DajPoluprecnik()) return true;
</font>        else return false;
    });;
    (*poknamaxele)-&gt;Ispisi();
    int brojac=0;
    std::for_each(v.begin(), v.end(), [&amp;] (const std::shared_ptr&lt;Kugla&gt; &amp;k1) {
        std::for_each(v.begin(), v.end(), [&amp;] (const std::shared_ptr&lt;Kugla&gt; &amp;k2) {
            if(DaLiSeSijeku(*k1,*k2) &amp;&amp; (&amp;k2&gt;&amp;k1)) {
            std::cout &lt;&lt; "\nPresjecaju se kugle: ";
            (*k1).Ispisi();
            std::cout&lt;&lt; std::endl;
            (*k2).Ispisi();
           brojac++;
        }
        });
    });
    if(brojac==0) std::cout &lt;&lt; "\nNe postoje kugle koje se presjecaju!" &lt;&lt; std::endl;
    }
    
    catch(...) {
        std::cout &lt;&lt; "Problemi sa memorijom" &lt;&lt; std::endl;
    }
return 0;
}</pre>
</body>
</html>
