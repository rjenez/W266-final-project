<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z4/Z1/student3871.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z4/Z1/student3871.cpp<p></p><pre>
<a name="1"></a><font color="#00FF00"><a href="match152-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_15.gif"/></a>

/B2017/2018: ZadaÄ‡a 4, Zadatak 1
#include &lt;iostream&gt;
#include &lt;cmath&gt;
#include &lt;vector&gt;
#include &lt;tuple&gt;
#include &lt;algorithm&gt;
#include &lt;memory&gt;
#include &lt;stdexcept&gt;
const double EPSILON=0.000000001;
const double PI=4*atan(1.);

class Kugla
{
 double x,y,z,r;
 public:
 explicit Kugla(double r=0) 
 {
  if(std::cin &amp;&amp; r&gt;=0)
  {
   x=0; 
   y=0; 
   z=0; 
   Kugla::r=r;
  }
  else throw std::domain_error("Ilegalan poluprecnik");
 }
 Kugla(double x, double y, double z, double r=0)
 {
  if(std::cin &amp;&amp; r&gt;=0) 
  {
   Kugla::x=x; 
   Kugla::y=y; 
   Kugla::z=z;
   Kugla::r=r;
  }
  else throw std::domain_error("Ilegalan poluprecnik");
 }
 explicit Kugla(const std::tuple&lt;double,double,double&gt; &amp;centar, double r=0)
 {
  if(std::cin &amp;&amp; r&gt;=0)
  {
   x=std::get&lt;0&gt;(centar);
   y=std::get&lt;1&gt;(centar);
   z=std::get&lt;2&gt;(centar);
   Kugla::r=r;
  }
  else throw std::domain_error("Ilegalan poluprecnik");
 }
 double DajX() const { return x; }
 double DajY() const { return y; }
 double DajZ() const { return z; }
 std::tuple&lt;double,double,double&gt; DajCentar() const 
 {
  auto pomocni=std::make_tuple(x,y,z);
  return pomocni;
 }
 double DajPoluprecnik() const { return r; }
 double DajPovrsinu() const { return 4*r*r*PI; }
 double DajZapreminu() const { return (4./3)*r*r*r*PI; }
 Kugla &amp;PostaviX(double x) { Kugla::x=x; return *this; }
 Kugla &amp;PostaviY(double y) { Kugla::y=y; return *this; }
</font> Kugla &amp;PostaviZ(double z) { Kugla::z=z; return *this; }
 Kugla &amp;PostaviCentar(double x, double y, double z) 
 {
  Kugla::x=x;
  Kugla::y=y;
  Kugla::z=z;
  return *this;
 }
 Kugla &amp;PostaviCentar(const std::tuple&lt;double,double,double&gt; &amp;centar)
 {
  Kugla::x=std::get&lt;0&gt; (centar);
<a name="4"></a><font color="#FF00FF"><a href="match152-1.html#4" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_2.gif"/></a>

  Kugla::y=std::get&lt;1&gt; (centar);
  Kugla::z=std::get&lt;2&gt; (centar);
  return *this;
 }
 Kugla &amp;PostaviPoluprecnik(double r)
 {
  Kugla::r=r;
  return *this;
 }
 void Ispisi() const
 {
  std::cout &lt;&lt; "{(" &lt;&lt; DajX() &lt;&lt; "," &lt;&lt; DajY() &lt;&lt; "," &lt;&lt; DajZ() &lt;&lt; ")," &lt;&lt; DajPoluprecnik() &lt;&lt; "}";
</font> }
 void Transliraj(double delta_x, double delta_y, double delta_z)
 {
  x+=delta_x;
  y+=delta_y;
  z+=delta_z;
 }
 friend bool DaLiSuIdenticne(const Kugla &amp;k1, const Kugla &amp;k2);
 friend bool DaLiSuPodudarne(const Kugla &amp;k1, const Kugla &amp;k2);
 friend bool DaLiSuKoncentricne(const Kugla &amp;k1, const Kugla &amp;k2);
 friend bool DaLiSeDodirujuIzvana(const Kugla &amp;k1, const Kugla &amp;k2);
 friend bool DaLiSeDodirujuIznutra(const Kugla &amp;k1, const Kugla &amp;k2);
<a name="2"></a><font color="#0000FF"><a href="match152-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_6.gif"/></a>

 friend bool DaLiSePreklapaju(const Kugla &amp;k1, const Kugla &amp;k2);
 friend bool DaLiSeSijeku(const Kugla &amp;k1, const Kugla &amp;k2);
 bool DaLiSadrzi(const Kugla &amp;k) const
 {
  auto rastojanje=std::sqrt(((x-k.x)*(x-k.x))+((y-k.y)*(y-k.y))+((z-k.z)*(z-k.z)));
  auto ukupno=rastojanje+k.r;
  if(ukupno&lt;=r) return true;
  return false;
 }
 friend double RastojanjeCentara(const Kugla &amp;k1, const Kugla &amp;k2);
};

double RastojanjeCentara(const Kugla &amp;k1, const Kugla &amp;k2)
{
 return std::sqrt(((k1.x-k2.x)*(k1.x-k2.x))+((k1.y-k2.y)*(k1.y-k2.y))+((k1.z-k2.z)*(k1.z-k2.z)));
</font><a name="5"></a><font color="#FF0000"><a href="match152-1.html#5" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_1.gif"/></a>

}

bool DaLiSuIdenticne(const Kugla &amp;k1, const Kugla &amp;k2)
{
 if((std::fabs(k1.r-k2.r)&lt;=EPSILON*(std::fabs(k1.r)+std::fabs(k2.r))) &amp;&amp; (std::fabs(k1.x-k2.x)&lt;=EPSILON*(std::fabs(k1.x)+std::fabs(k2.x))) &amp;&amp; (std::fabs(k1.y-k2.y)&lt;=EPSILON*(std::fabs(k1.y)+std::fabs(k2.y))) &amp;&amp; (std::fabs(k1.z-k2.z)&lt;=EPSILON*(std::fabs(k1.z)+std::fabs(k2.z)))) return true;
</font><a name="3"></a><font color="#00FFFF"><a href="match152-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_4.gif"/></a>

 return false;
}

bool DaLiSuPodudarne(const Kugla &amp;k1, const Kugla &amp;k2)
{
 if(std::fabs(k1.r-k2.r)&lt;=EPSILON*(std::fabs(k1.r)+std::fabs(k2.r))) return true;
 return false;
}

bool DaLiSuKoncentricne(const Kugla &amp;k1, const Kugla &amp;k2)
{
 if((std::fabs(k1.x-k2.x)&lt;=EPSILON*(std::fabs(k1.x)+std::fabs(k2.x))) &amp;&amp; (std::fabs(k1.y-k2.y)&lt;=EPSILON*(std::fabs(k1.y)+std::fabs(k2.y))) &amp;&amp; (std::fabs(k1.z-k2.z)&lt;=EPSILON*(std::fabs(k1.z)+std::fabs(k2.z)))) return true;
</font><a name="0"></a><font color="#FF0000"><a href="match152-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_46.gif"/></a>

 return false;
}

bool DaLiSeDodirujuIzvana(const Kugla &amp;k1, const Kugla &amp;k2)
{
 auto rastojanje=RastojanjeCentara(k1,k2);
 auto ukupni_poluprecnik=(k1.r+k2.r);
 if(std::fabs(rastojanje-ukupni_poluprecnik)&lt;EPSILON*(std::fabs(rastojanje)+std::fabs(ukupni_poluprecnik))) return true;
 return false;
}

bool DaLiSeDodirujuIznutra(const Kugla &amp;k1, const Kugla &amp;k2)
{
 auto rastojanje=RastojanjeCentara(k1,k2);
 if(k1.r&gt;k2.r)
 {
  auto ukupno1=rastojanje+k2.r;
  if((std::fabs(ukupno1-k1.r)&lt;EPSILON*(std::fabs(ukupno1)+std::fabs(k1.r)))) return true;
 }
 else if(k1.r&lt;k2.r)
 {
  auto ukupno2=rastojanje+k1.r;
  if((std::fabs(ukupno2-k2.r)&lt;EPSILON*(std::fabs(ukupno2)+std::fabs(k2.r)))) return true;
 }
 return false;
}

bool DaLiSeSijeku(const Kugla &amp;k1, const Kugla &amp;k2)
{
 if(DaLiSeDodirujuIzvana(k1,k2)==true) return false;
 if(DaLiSeDodirujuIznutra(k1,k2)==true) return false;
 if(k1.DaLiSadrzi(k2)==true) return false;
 auto rastojanje=RastojanjeCentara(k1,k2);
 auto zbir_poluprecnika=(k1.r+k2.r);
 if(rastojanje&lt;zbir_poluprecnika) return true;
 return false;
}

bool DaLiSePreklapaju(const Kugla &amp;k1, const Kugla &amp;k2)
{
 if(DaLiSeSijeku(k1,k2)==true) return true;
 return false;
}

int main ()
{
 int n;
 double x,y,z,r;
 std::cout &lt;&lt; "Unesite broj kugla: ";
 unos: std::cin &gt;&gt; n;
 if(std::cin &amp;&amp; n&gt;0)
 {
  std::vector&lt;std::shared_ptr&lt;Kugla&gt;&gt; kugle(n);
  for(int i(0);i&lt;n;i++)
  {
   unos2: std::cout &lt;&lt; "Unesite centar " &lt;&lt; i+1 &lt;&lt; ". kugle: ";
   std::cin &gt;&gt; x &gt;&gt; y &gt;&gt; z;
   if(std::cin)
   {
    std::cout &lt;&lt; "Unesite poluprecnik " &lt;&lt; i+1 &lt;&lt; ". kugle: ";
    std::cin &gt;&gt; r;
    try
    {
     kugle[i]=std::make_shared&lt;Kugla&gt; (x,y,z,r);
    }
    catch(std::domain_error e)
    {
     --i;
     std::cout &lt;&lt; e.what() &lt;&lt; std::endl;
     std::cin.clear();
     std::cin.ignore(10000,'\n');
    }
   }
   else 
   {
    std::cout &lt;&lt; "Neispravan centar" &lt;&lt;  std::endl;
    std::cin.clear();
    std::cin.ignore(10000,'\n');
    goto unos2;
   }
  }
  double delta_x, delta_y, delta_z;
  std::cout &lt;&lt; "Unesite parametre translacije (delta_x,delta_y,delta_z): ";
  unos3: std::cin &gt;&gt; delta_x &gt;&gt; delta_y &gt;&gt; delta_z;
  if(std::cin)
  {
   std::transform(kugle.begin(),kugle.end(),kugle.begin(),[=](std::shared_ptr&lt;Kugla&gt; pok) { pok-&gt;Transliraj(delta_x, delta_y, delta_z); return pok; });
   std::cout &lt;&lt; "Kugle nakon obavljenje transformacije imaju sljedece vrijednosti: " &lt;&lt; std::endl;
   std::sort(kugle.begin(),kugle.end(),[](std::shared_ptr&lt;Kugla&gt; k1, std::shared_ptr&lt;Kugla&gt; k2) { return k1-&gt;DajZapreminu() &lt; k2-&gt;DajZapreminu(); });
   std::for_each(kugle.begin(),kugle.end(),[](std::shared_ptr&lt;Kugla&gt; k) { k-&gt;Ispisi(); std::cout &lt;&lt; std::endl; });
   std::cout &lt;&lt; "Kugla sa najvecom povrsinom je: ";
   auto pokazivac=*std::max_element(kugle.begin(),kugle.end(),[](std::shared_ptr&lt;Kugla&gt; k1, std::shared_ptr&lt;Kugla&gt; k2) { return k1-&gt;DajPovrsinu() &lt; k2-&gt;DajPovrsinu(); });
   pokazivac-&gt;Ispisi();
   std::cout &lt;&lt; std::endl;
   int brojac(0);
   std::for_each(kugle.begin(),kugle.end(), [kugle,&amp;brojac](std::shared_ptr&lt;Kugla&gt; k) 
   { 
    int pozicija(0);
    for(int i(0);i&lt;kugle.size();i++)
    {
     if(k==kugle[i]) pozicija=i;
    }
    std::for_each(kugle.begin()+pozicija,kugle.end(),[k, &amp;brojac] (std::shared_ptr&lt;Kugla&gt; k2) 
    { 
     if(k!=k2 &amp;&amp; DaLiSeSijeku(*k,*k2)==true) 
     { 
      brojac++;
      std::cout &lt;&lt; "Presjecaju se kugle: ";
      k-&gt;Ispisi();
      std::cout &lt;&lt; std::endl;
      k2-&gt;Ispisi(); 
      std::cout &lt;&lt; std::endl;
     } 
    });
   });
   if(brojac&lt;=0) std::cout &lt;&lt; "Ne postoje kugle koje se presjecaju!";
  }
  else 
  {
   std::cout &lt;&lt; "Neispravni parametri translacije, unesite ponovo!" &lt;&lt; std::endl;
   std::cin.clear();
   std::cin.ignore(10000,'\n');
   goto unos3;
  }
 }
 else 
 {
  std::cout &lt;&lt; "Neispravan broj kugli, unesite ponovo!" &lt;&lt; std::endl;
  std::cin.clear();
  std::cin.ignore(10000,'\n');
  goto unos;
</font> }
 return 0;
}
</pre>
</body>
</html>
