<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z4/Z1/student1793.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z4/Z1/student1793.cpp<p></p><pre>
<a name="0"></a><font color="#FF0000"><a href="match289-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_62.gif"/></a>

/B2017/2018: ZadaÄ‡a 4, Zadatak 1
#include &lt;iostream&gt;
#include &lt;tuple&gt;
#include &lt;cmath&gt;
#include &lt;algorithm&gt;
#include &lt;memory&gt;
#include &lt;vector&gt;
#include &lt;stdexcept&gt;

using namespace std;

class Kugla
{
    double r;
    double x,y,z;
    static bool DaLiSuJednaki(double a, double b, double eps=1e-10){
        return fabs(a-b) &lt; eps*(fabs(a)+fabs(b));
    }
public:
    explicit Kugla(double r = 0) {
        if(r&lt;0)throw domain_error("Ilegalan poluprecnik");
        x=0;
        y=0;
        z=0;
        this-&gt;r=r;
    }

    Kugla(double x, double y, double z, double r = 0) {
        if(r&lt;0)throw domain_error("Ilegalan poluprecnik");
        this-&gt;x=x;
        this-&gt;y=y;
        this-&gt;z=z;
        this-&gt;r=r;
    }
    explicit Kugla(const std::tuple&lt;double, double, double&gt; &amp;centar, double r = 0){
        this-&gt;r = r;
        x = get&lt;0&gt;(centar);
        y = get&lt;1&gt;(centar);
        z = get&lt;2&gt;(centar);
    }
    double DajX() const{return x;}
    double DajY() const{return y;}
    double DajZ() const{return z;}
    std::tuple&lt;double, double, double&gt; DajCentar() const{
        return tuple&lt;double,double,double&gt;(x,y,z);
    }
    double DajPoluprecnik() const{return r;}
    double DajPovrsinu() const{ return 4*r*r*atan(1)*4;}
    double DajZapreminu() const{ return (4./3)*r*r*r*atan(1)*4;}
    Kugla &amp;PostaviX(double x){ this-&gt;x=x; return *this;}
    Kugla &amp;PostaviY(double y){ this-&gt;y=y; return *this;}
    Kugla &amp;PostaviZ(double z){ this-&gt;z=z; return *this;}
    Kugla &amp;PostaviCentar(double x, double y, double z){
         this-&gt;x=x;
         this-&gt;y=y;
         this-&gt;z=z;
         return *this;
    }
    Kugla &amp;PostaviCentar(const std::tuple&lt;double, double, double&gt; &amp;centar){
         x = DajX();
         y = DajY();
         z = DajZ();
         return *this;
    }
    Kugla &amp;PostaviPoluprecnik(double r){
        if(r&lt;0)throw domain_error("Ilegalan poluprecnik");
        this-&gt;r = r;
    }
    void Ispisi() const{
        cout&lt;&lt;"{("&lt;&lt;x&lt;&lt;","&lt;&lt;y&lt;&lt;","&lt;&lt;z&lt;&lt;"),"&lt;&lt;r&lt;&lt;"}"&lt;&lt;endl;
    }
    void Transliraj(double delta_x, double delta_y, double delta_z){
        PostaviX(DajX()+delta_x);
        PostaviY(DajY()+delta_y);
        PostaviZ(DajZ()+delta_z);
    }
    friend bool DaLiSuIdenticne(const Kugla &amp;k1, const Kugla &amp;k2){
        return DaLiSuPodudarne(k1,k2) &amp;&amp; DaLiSuKoncentricne(k1,k2);
        /*
        return Kugla::DaLiSuJednaki(k1.r,k2.r)&amp;&amp;
               DaLiSuJednaki(k1.x,k2.x)&amp;&amp;
               DaLiSuJednaki(k1.y,k2.y)&amp;&amp;
               DaLiSuJednaki(k1.z,k2.z);
               */
    }
    friend bool DaLiSuPodudarne(const Kugla &amp;k1, const Kugla &amp;k2){
        return Kugla::DaLiSuJednaki(k1.r,k2.r);
    }
    friend bool DaLiSuKoncentricne(const Kugla &amp;k1, const Kugla &amp;k2){
        return DaLiSuJednaki(k1.x,k2.x)&amp;&amp;
               DaLiSuJednaki(k1.y,k2.y)&amp;&amp;
               DaLiSuJednaki(k1.z,k2.z);
    }
    friend bool DaLiSeDodirujuIzvana(const Kugla &amp;k1, const Kugla &amp;k2){
        double d = RastojanjeCentara(k1,k2);
        return DaLiSuJednaki(d,k1.r+k2.r);
    }
    friend bool DaLiSeDodirujuIznutra(const Kugla &amp;k1, const Kugla &amp;k2){
        double d = RastojanjeCentara(k1,k2);
        return DaLiSuJednaki(d+k1.r, k2.r) || DaLiSuJednaki(d+k2.r,k1.r);
    }
    
    friend bool DaLiSePreklapaju(const Kugla &amp;k1, const Kugla &amp;k2){
        return DaLiSeSijeku(k1,k2)||k1.DaLiSadrzi(k2)||k2.DaLiSadrzi(k1);
    }
    friend bool DaLiSeSijeku(const Kugla &amp;k1, const Kugla &amp;k2){
        double d = RastojanjeCentara(k1,k2);
        return !DaLiSeDodirujuIzvana(k1,k2)&amp;&amp;!DaLiSeDodirujuIznutra(k1,k2)&amp;&amp;(d&lt;k1.r+k2.r);
    }
    bool DaLiSadrzi(const Kugla &amp;k) const{
        double d = RastojanjeCentara(*this,k);
        return r-d&gt;k.r &amp;&amp; d&lt;r;
    }
    friend double RastojanjeCentara(const Kugla &amp;k1, const Kugla &amp;k2){
        return sqrt((k1.x-k2.x)*(k1.x-k2.x) +(k1.y-k2.y)*(k1.y-k2.y) +(k1.z-k2.z)*(k1.z-k2.z));
</font><a name="1"></a><font color="#00FF00"><a href="match289-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_34.gif"/></a>

    }
};
int main ()
{
/*
    Kugla k1(20);
    k1.Ispisi();
    Kugla k2(1,2,3,5);
    k2.Ispisi();
    Kugla k3(tuple&lt;double,double,double&gt;(3,4,5),20);
    k3.Ispisi();
    
    cout&lt;&lt;k1.DajZapreminu()&lt;&lt;endl;
    cout&lt;&lt;k1.DajPovrsinu()&lt;&lt;endl;
    
    cout&lt;&lt;DaLiSuIdenticne(k1,k2);
    Kugla k4(1,2,3,5);
    cout&lt;&lt;endl&lt;&lt;DaLiSuIdenticne(k2,k4)&lt;&lt;endl;

    cout&lt;&lt;(DaLiSuKoncentricne(k2,k4)?"k2 i k4 su koncentricne":"nisu koncentricne")&lt;&lt;endl;
    cout&lt;&lt;(DaLiSuPodudarne(k1,k3)?"k1 i k3 su podudadrne":"nisu podudadrne")&lt;&lt;endl;
   */

   int n;
   cout&lt;&lt;"Unesite broj kugla: ";
   cin&gt;&gt;n;
   vector&lt;shared_ptr&lt;Kugla&gt; &gt; kugle;

   for (int i = 0; i &lt; n; i++) {
       try{
       double x,y,z,r;
       cout&lt;&lt;"Unesite centar "&lt;&lt;i+1&lt;&lt;". kugle: ";
       cin&gt;&gt;x&gt;&gt;y&gt;&gt;z;
       cout&lt;&lt;"Unesite poluprecnik "&lt;&lt;i+1&lt;&lt;". kugle: ";
       cin&gt;&gt;r;
       if(!cin){
           cin.clear();
           cin.ignore(1000,'\n');
           i--;
           continue;
       }
       auto k = make_shared&lt;Kugla&gt;(x,y,z,r);
       kugle.push_back(k);
      
       }
       catch(domain_error e){
           cout&lt;&lt;e.what()&lt;&lt;endl;
           i--;
       }
   }
   double dx,dy,dz;
   cout&lt;&lt;"Unesite parametre translacije (delta_x,delta_y,delta_z): ";
   cin&gt;&gt;dx&gt;&gt;dy&gt;&gt;dz;
 
   transform(kugle.begin(),kugle.end(),kugle.begin(),[dx,dy,dz](shared_ptr&lt;Kugla&gt;k){
     k-&gt;Transliraj(dx,dy,dz);
     return k;
   });
   
   sort(kugle.begin(), kugle.end(),[](shared_ptr&lt;Kugla&gt;k1, shared_ptr&lt;Kugla&gt;k2){
       return k1-&gt;DajZapreminu()&lt;k2-&gt;DajZapreminu();
   });
   cout&lt;&lt;"Kugle nakon obavljenje transformacije imaju sljedece vrijednosti: "&lt;&lt;endl;
   for_each(kugle.begin(),kugle.end(), [](shared_ptr&lt;Kugla&gt;k){
       k-&gt;Ispisi();
   });
   
   auto najveca = *max_element(kugle.begin(),kugle.end(),[](shared_ptr&lt;Kugla&gt;k1, shared_ptr&lt;Kugla&gt;k2){
       return k1-&gt;DajPovrsinu() &lt; k2-&gt;DajPovrsinu();
   });
   cout&lt;&lt;"Kugla sa najvecom povrsinom je: ";
   najveca-&gt;Ispisi();
  
   int broj_parova_koji_se_sijeku=0;
   int br=1;
   for_each(kugle.begin(), kugle.end(), [&amp;br,kugle,&amp;broj_parova_koji_se_sijeku](shared_ptr&lt;Kugla&gt;k1){
      for_each(kugle.begin()+br, kugle.end(),[k1,&amp;broj_parova_koji_se_sijeku](shared_ptr&lt;Kugla&gt;k2){
         if(DaLiSeSijeku(*k1,*k2)){
             cout&lt;&lt;"Presjecaju se kugle: ";
             k1-&gt;Ispisi();
             k2-&gt;Ispisi();
             broj_parova_koji_se_sijeku++;
         } 
      }); 
      br++;
   });
   
   if(broj_parova_koji_se_sijeku==0)cout&lt;&lt;"Ne postoje kugle koje se presjecaju!"&lt;&lt;endl;
</font>
    return 0;
}
</pre>
</body>
</html>
