<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z4/Z1/student4261.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z4/Z1/student4740.cpp<p></p><pre>
/B2017/2018: ZadaÄ‡a 4, Zadatak 1
#include &lt;iostream&gt;
#include &lt;tuple&gt;
#include &lt;cmath&gt;
#include &lt;stdexcept&gt;
#include &lt;memory&gt;
#include &lt;vector&gt;
#include &lt;algorithm&gt;

class Kugla{
  double x,y,z,r;
  static bool jednako(double a, double b){
     double eps(0.0000000001);
     return std::fabs(a-b)&lt;eps*(std::fabs(a)+std::fabs(b));
 }
  public:
<a name="1"></a><font color="#00FF00"><a href="match763-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_2.gif"/></a>

  explicit Kugla(double r=0) {if(r&lt;0) throw std::domain_error ("Ilegalan poluprecnik"); x=0; y=0; z=0; Kugla::r=r; }
  Kugla(double x, double y, double z, double r=0){if(r&lt;0) throw std::domain_error ("Ilegalan poluprecnik"); Kugla::x=x; Kugla::y=y; Kugla::z=z; Kugla::r=r; }
</font>  explicit Kugla(std::tuple&lt;double,double,double&gt; &amp;centar, double r=0) {if(r&lt;0) throw std::domain_error ("Ilegalan poluprecnik"); Kugla::r=r; std::tie(x,y,z)=centar;}
  double DajX() const{return x;}
  double DajY() const{return y;}
  double DajZ() const{return z;}
  std::tuple&lt;double,double,double&gt; DajCentar() const{std::tuple&lt;double,double,double&gt; t(std::make_tuple(x,y,z)); return t;}
  double DajPoluprecnik() const{return r;}
  double DajPovrsinu() const{return 4*4*atan(1)*r*r;}
  double DajZapreminu() const{return (4./3)*4*atan(1)*r*r*r;}
  Kugla &amp;PostaviX(double a){x=a; return *this;}
  Kugla &amp;PostaviY(double b){y=b; return *this;}
  Kugla &amp;PostaviCentar(double a, double b, double c){x=a; y=b; z=c; return *this;}
  Kugla &amp;PostaviCentar(const std::tuple&lt;double,double,double&gt; &amp;centar){std::tie(x,y,z)=centar; return *this;}
  Kugla &amp;PostaviPoluprecnik(double r){if(r&lt;0) throw std::domain_error ("Ilegalan poluprecnik"); return *this;}
  void Ispisi() const{std::cout &lt;&lt; "{("&lt;&lt;x&lt;&lt;","&lt;&lt;y&lt;&lt;","&lt;&lt;z&lt;&lt;"),"&lt;&lt;r&lt;&lt;"}"&lt;&lt;std::endl; }
  void Transliraj(double delta_x, double delta_y, double delta_z){x+=delta_x; y+=delta_y; z+=delta_z;}
  friend bool DaLiSuIdenticne(const Kugla &amp;k1, const Kugla &amp;k2);
  friend bool DaLiSuPodudarne(const Kugla &amp;k1, const Kugla &amp;k2);
  friend bool DaLiSuKoncentricne(const Kugla &amp;k1, const Kugla &amp;k2);
  friend bool DaLiSeDodirujuIzvana(const Kugla &amp;k1, const Kugla &amp;k2);
  friend bool DaLiSeDodirujuIznutra(const Kugla &amp;k1, const Kugla &amp;k2);
  friend bool DaLiSePreklapaju(const Kugla &amp;k1, const Kugla &amp;k2);
  friend bool DaLiSeSijeku(const Kugla &amp;k1, const Kugla &amp;k2);
  bool DaLiSadrzi(const Kugla &amp;k) const{
      double razlika_poluprecnika(std::fabs(r-k.r));
      return RastojanjeCentara(*this, k)&lt;razlika_poluprecnika;
  }
<a name="2"></a><font color="#0000FF"><a href="match763-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_1.gif"/></a>

  friend double RastojanjeCentara(const Kugla &amp;k1, const Kugla &amp;k2);
};
 
  bool DaLiSuIdenticne(const Kugla &amp;k1, const Kugla &amp;k2){
      return Kugla::jednako(k1.x, k2.x) &amp;&amp; Kugla::jednako(k1.y, k2.y) &amp;&amp; Kugla::jednako(k1.z, k2.z) &amp;&amp; Kugla::jednako(k1.r, k2.r);
</font>  }
  bool DaLiSuPodudarne(const Kugla &amp;k1, const Kugla &amp;k2){
      return Kugla::jednako(k1.r, k2.r);
  }
  bool DaLiSuKoncentricne(const Kugla &amp;k1, const Kugla &amp;k2){ 
      return Kugla::jednako(k1.x, k2.x) &amp;&amp; Kugla::jednako(k1.y, k2.y) &amp;&amp; Kugla::jednako(k1.z, k2.z); 
  }
  bool DaLiSeDodirujuIzvana(const Kugla &amp;k1, const Kugla &amp;k2){
      double zbir_poluprecnika(k1.r+k2.r);
      return Kugla::jednako(RastojanjeCentara(k1,k2), zbir_poluprecnika);
  }
  bool DaLiSeDodirujuIznutra(const Kugla &amp;k1, const Kugla &amp;k2){
      double razlika_poluprecnika(std::fabs(k1.r-k2.r));
      return Kugla::jednako(RastojanjeCentara(k1,k2), razlika_poluprecnika);
  }
  bool DaLiSePreklapaju(const Kugla &amp;k1, const Kugla &amp;k2){
      double zbir_poluprecnika(k1.r+k2.r);
      return RastojanjeCentara(k1,k2)&lt;zbir_poluprecnika &amp;&amp; !Kugla::jednako(RastojanjeCentara(k1,k2),zbir_poluprecnika);
  }
  bool DaLiSeSijeku(const Kugla &amp;k1, const Kugla &amp;k2){
        double zbir_poluprecnika(k1.r+k2.r);
        double razlika_poluprecnika(std::fabs(k1.r-k2.r));
        return RastojanjeCentara(k1,k2)&lt;zbir_poluprecnika &amp;&amp; RastojanjeCentara(k1,k2)&gt;razlika_poluprecnika 
        &amp;&amp; !Kugla::jednako(RastojanjeCentara(k1,k2),zbir_poluprecnika)&amp;&amp; !Kugla::jednako(RastojanjeCentara(k1,k2),razlika_poluprecnika);
  }
  double RastojanjeCentara(const Kugla &amp;k1, const Kugla &amp;k2){
      double x(k2.x-k1.x);
      double y(k2.y-k1.y);
      double z(k2.z-k1.z);
      return std::sqrt(x*x+y*y+z*z);
  }
  
int main ()
{ 
    int n;
    std::cout &lt;&lt; "Unesite broj kugla: ";
    for(;;){
        int a(0);
        std::cin &gt;&gt; a;
        if(a&lt;=0 || !std::cin) {
            std::cout &lt;&lt; "Neispravan broj kugli, unesite ponovo!" &lt;&lt; std::endl;
            std::cin.clear();
            std::cin.ignore(1000,'\n');
            continue;
        }
            n=a;
            break;
    }
<a name="3"></a><font color="#00FFFF"><a href="match763-0.html#3" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_1.gif"/></a>

    std::vector&lt;std::shared_ptr&lt;Kugla&gt;&gt;kugle(n);
    
    for(int i=0; i&lt;n; i++){
        std::cout &lt;&lt; "Unesite centar "&lt;&lt;i+1&lt;&lt;". kugle: ";
        double a, b, c;
</font>        std::cin &gt;&gt; a &gt;&gt; b &gt;&gt; c;
        if(!std::cin){
            std::cin.clear();
            std::cin.ignore(1000,'\n');
            std::cout &lt;&lt; "Neispravan centar" &lt;&lt; std::endl;
            i--; continue;
        }
        double d;
        std::cout &lt;&lt; "Unesite poluprecnik "&lt;&lt;i+1&lt;&lt;". kugle: ";
        std::cin &gt;&gt; d;
        if(!std::cin){
            std::cin.clear();
            std::cin.ignore(1000,'\n');
            std::cout &lt;&lt; "Ilegalan poluprecnik" &lt;&lt; std::endl;
            i--; continue;
        }
        try{
        kugle[i]=std::make_shared&lt;Kugla&gt;(a,b,c,d);
        }
        catch(std::domain_error greska){
            std::cout &lt;&lt; greska.what() &lt;&lt; std::endl;
            kugle[i]=nullptr;
            i--;
        }
    }
    
    std::cout &lt;&lt; "Unesite parametre translacije (delta_x,delta_y,delta_z): ";
    double delta_x, delta_y, delta_z;
    for(;;){
<a name="4"></a><font color="#FF00FF"><a href="match763-0.html#4" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_1.gif"/></a>

        double dx, dy, dz;
        std::cin &gt;&gt; dx &gt;&gt; dy &gt;&gt; dz;
        if(!std::cin){
            std::cout &lt;&lt; "Neispravni parametri translacije, unesite ponovo!" &lt;&lt; std::endl;
</font>            std::cin.clear();
            std::cin.ignore(1000,'\n');
            continue;
        }
        delta_x=dx; delta_y=dy; delta_z=dz;
        break;
    }
    
<a name="0"></a><font color="#FF0000"><a href="match763-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_8.gif"/></a>

   std::transform(kugle.begin(), kugle.end(), kugle.begin(), [delta_x,delta_y,delta_z](std::shared_ptr&lt;Kugla&gt; p){(*p).Transliraj(delta_x,delta_y,delta_z); return p;});
    
    std::sort(kugle.begin(), kugle.end(), [](std::shared_ptr&lt;Kugla&gt; p1, std::shared_ptr&lt;Kugla&gt; p2){return (*p1).DajZapreminu()&lt;(*p2).DajZapreminu();});
    std::cout &lt;&lt; "Kugle nakon obavljenje transformacije imaju sljedece vrijednosti: " &lt;&lt; std::endl;
    std::for_each(kugle.begin(), kugle.end(),[](std::shared_ptr&lt;Kugla&gt; p){(*p).Ispisi(); });
    
    auto najveca(std::max_element(kugle.begin(), kugle.end(), [](std::shared_ptr&lt;Kugla&gt; p1, std::shared_ptr&lt;Kugla&gt; p2){return (*p1).DajPovrsinu()&lt;(*p2).DajPovrsinu();}));
</font>	std::cout &lt;&lt; "Kugla sa najvecom povrsinom je: "; (**najveca).Ispisi();
	
//	std::cout &lt;&lt; std::endl;
	int dalje(0);
	bool ima(false);
	std::for_each(kugle.begin(), kugle.end(), 
<a name="5"></a><font color="#FF0000"><a href="match763-0.html#5" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_1.gif"/></a>

	[&amp;dalje,kugle, &amp;ima](std::shared_ptr&lt;Kugla&gt; p){dalje++; std::for_each(kugle.begin()+dalje, kugle.end(), 
</font><a name="6"></a><font color="#00FF00"><a href="match763-0.html#6" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_1.gif"/></a>

	[&amp;dalje, p, &amp;ima](std::shared_ptr&lt;Kugla&gt; q){if (DaLiSeSijeku(*p,*q)) {
	    ima=true;
	    std::cout &lt;&lt; "Presjecaju se kugle: "; p-&gt;Ispisi(); q-&gt;Ispisi(); 
</font>	}});
	});
    if(!ima) std::cout &lt;&lt; "Ne postoje kugle koje se presjecaju!" &lt;&lt; std::endl;
	
	return 0;
}
</pre>
</body>
</html>
