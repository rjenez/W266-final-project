<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z4/Z1/student8776.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z4/Z1/student8776.cpp<p></p><pre>
/B2017/2018: ZadaÄ‡a 4, Zadatak 1
#include &lt;iostream&gt;
#include &lt;tuple&gt;
#include &lt;cmath&gt;
#include &lt;utility&gt;
#include &lt;algorithm&gt;
#include &lt;vector&gt;
#include &lt;memory&gt;
#include &lt;iomanip&gt;
#include &lt;stdexcept&gt;
#define eps 0.000000001
#define pi 4*atan(1)

using namespace std;
bool nema_izac=true;
class Kugla{
    
<a name="3"></a><font color="#00FFFF"><a href="match670-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_1.gif"/></a>

    double x,y,z,r;
    
    public:
    
    explicit Kugla(double r=0){
        if(r&lt;0) throw domain_error("Ilegalan poluprecnik");
         Kugla::x=0; Kugla::y=0; Kugla::z=0; Kugla::r=r;
</font>    }
    
<a name="1"></a><font color="#00FF00"><a href="match670-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_4.gif"/></a>

    Kugla(double x, double y, double z, double r=0){
        if(r&lt;0) throw domain_error("Ilegalan poluprecnik");
        Kugla::x=x; Kugla::y=y; Kugla::z=z; Kugla::r=r;
    }
    
    explicit Kugla(const tuple&lt;double, double, double&gt; &amp;centar, double r=0){
        if(r&lt;0) throw domain_error("Ilegalan poluprecnik");
        Kugla::x=get&lt;0&gt;(centar); Kugla::y=get&lt;1&gt;(centar); Kugla::z=get&lt;2&gt;(centar); Kugla::r=r;
</font>    }
    
    double DajX() const{ return Kugla::x;}
    double DajY() const{ return Kugla::y;}
    double DajZ() const{ return Kugla::z;}
    
    tuple &lt;double, double, double&gt; DajCentar() const{ return tuple&lt;double, double, double&gt;{Kugla::x, Kugla::y, Kugla::z};}
    
    double DajPoluprecnik()const{ return Kugla::r;}
    double DajPovrsinu()const{return 2*pi*Kugla::r*Kugla::r;}
    double DajZapreminu()const{ return ((4*Kugla::r*Kugla::r*Kugla::r*pi)/3.);}
    
    Kugla &amp;PostaviX(double x){Kugla::x=x; return *this;}
    Kugla &amp;PostaviY(double y){Kugla::y=y; return *this;}
    Kugla &amp;PostaviZ(double z){Kugla::z=z; return *this;}
    
    Kugla &amp;PostaviCentar(double x, double y, double z){
        Kugla::x=x; Kugla::y=y; Kugla::z=z; return *this;
    }
    
<a name="4"></a><font color="#FF00FF"><a href="match670-1.html#4" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_1.gif"/></a>

    Kugla &amp;PostaviCentar(const tuple&lt;double, double, double&gt; &amp;centar){
        Kugla::x=get&lt;0&gt;(centar); Kugla::y=get&lt;1&gt;(centar); Kugla::z=get&lt;2&gt;(centar); return *this;
</font>    }
    
    void Ispisi()const{
        cout&lt;&lt;"{("&lt;&lt;Kugla::x&lt;&lt;","&lt;&lt;Kugla::y&lt;&lt;","&lt;&lt;Kugla::z&lt;&lt;"),"&lt;&lt;Kugla::r&lt;&lt;"}";
    }
    
    void Transliraj(double delta_x, double delta_y, double delta_z){
        Kugla::x+=delta_x; Kugla::y+=delta_y; Kugla::z+=delta_z;
    }
    
    friend bool DaLiSuIdenticne(const Kugla &amp;k1, const Kugla &amp;k2){
        if(abs(k1.Kugla::DajX()-k2.Kugla::DajX())&lt;eps*(abs(k1.Kugla::DajX())+abs(k2.Kugla::DajX()))){
            if(abs(k1.Kugla::DajY()-k2.Kugla::DajY())&lt;eps*(abs(k1.Kugla::DajY())+abs(k2.Kugla::DajY()))){
                if(abs(k1.Kugla::DajZ()-k2.Kugla::DajZ())&lt;eps*(abs(k1.Kugla::DajZ())+abs(k2.Kugla::DajZ()))){
                    if(abs(k1.Kugla::DajPoluprecnik()-k2.Kugla::DajPoluprecnik())&lt;eps*(abs(k1.Kugla::DajPoluprecnik())+abs(k2.Kugla::DajPoluprecnik()))){
                        return true;                        
                    }
                }
            }
        }
        
        return false;
    }
    friend bool DaLiSuPodudarne(const Kugla &amp;k1, const Kugla &amp;k2){
        if(abs(k1.Kugla::DajPoluprecnik()-k2.Kugla::DajPoluprecnik())&lt;eps*(abs(k1.Kugla::DajPoluprecnik())+abs(k2.Kugla::DajPoluprecnik()))){
                        return true;                        
        }
        return false;
    }
    friend bool DaLiSuKoncentricne(const Kugla &amp;k1, const Kugla &amp;k2){
        if(abs(k1.Kugla::DajX()-k2.Kugla::DajX())&lt;eps*(abs(k1.Kugla::DajX())+abs(k2.Kugla::DajX()))){
            if(abs(k1.Kugla::DajY()-k2.Kugla::DajY())&lt;eps*(abs(k1.Kugla::DajY())+abs(k2.Kugla::DajY()))){
                if(abs(k1.Kugla::DajZ()-k2.Kugla::DajZ())&lt;eps*(abs(k1.Kugla::DajZ())+abs(k2.Kugla::DajZ()))){
                    return true;
                }
            }
         }
         return false;
    }
    friend bool DaLiSeDodirujuIzvana(const Kugla &amp;k1, const Kugla &amp;k2){
        if(fabs(k1.Kugla::DajPoluprecnik()+k2.Kugla::DajPoluprecnik()-RastojanjeCentara(k1,k2)) &lt; eps*(fabs(k1.Kugla::DajPoluprecnik()+k2.Kugla::DajPoluprecnik())+fabs(RastojanjeCentara(k1,k2)))){
            return true;
        }
            return false;
        
    }
    friend bool DaLiSeDodirujuIznutra(const Kugla &amp;k1, const Kugla &amp;k2){
        if(fabs(k1.Kugla::DajPoluprecnik()-k2.Kugla::DajPoluprecnik()-RastojanjeCentara(k1,k2)) &lt; eps*(fabs(k1.Kugla::DajPoluprecnik()-k2.Kugla::DajPoluprecnik())+fabs(RastojanjeCentara(k1,k2)))){
            return true;
        }
            return false;
    }
    
    friend bool DaLiSePreklapaju(const Kugla &amp;k1, const Kugla &amp;k2){
       if(DaLiSeSijeku(k1,k2))return true;
       if(k2.DaLiSadrzi(k1) or k1.DaLiSadrzi(k2)) return true;
       return false;
      // return((fabs(k1.Kugla::r-k2.Kugla::r)&lt;RastojanjeCentara(k1,k2))and (fabs(k1.Kugla::r+k2.Kugla::r)&gt;RastojanjeCentara(k1,k2)));
    }
    
    friend bool DaLiSeSijeku(const Kugla &amp;k1, const Kugla &amp;k2){
        if(fabs(k1.DajPoluprecnik()-k2.DajPoluprecnik())&lt;RastojanjeCentara(k1,k2))return true;
        else return false;                                                                      //popraviti
    }
    bool DaLiSadrzi(const Kugla &amp;k)const{
       return((fabs(this-&gt;DajPoluprecnik()-k.Kugla::r)&lt;RastojanjeCentara(*this,k))and (fabs(this-&gt;DajPoluprecnik()+k.Kugla::r)&gt;RastojanjeCentara(*this,k)));
    }
    friend double RastojanjeCentara(const Kugla &amp;k1, const Kugla &amp;k2){
        return sqrt((k1.DajX()-k2.DajX())*(k1.DajX()-k2.DajX())+(k1.DajY()-k2.DajY())*(k1.DajY()-k2.DajY())+(k1.DajZ()-k2.DajZ())*(k1.DajZ()-k2.DajZ()));
    }
};

int main (){
    cout&lt;&lt;"Unesite broj kugla: ";
    int br;
    cin&gt;&gt;br;
   while(br&lt;=0 or cin.fail()){
        cin.clear();
        cin.ignore(10000,'\n');
        cout&lt;&lt;"Neispravan broj kugli, unesite ponovo!"&lt;&lt;endl;
<a name="5"></a><font color="#FF0000"><a href="match670-1.html#5" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_1.gif"/></a>

        cin &gt;&gt;br;
    }
    vector&lt;shared_ptr&lt;Kugla&gt;&gt; v;
    v.resize(br);
    for(int i=0; i&lt;br; i++){
</font>        ponovo:
        double x,y,z;
        molim_te_lijepo:
         cout&lt;&lt;"Unesite centar "&lt;&lt;i+1&lt;&lt;". kugle: ";
        cin&gt;&gt;x&gt;&gt;y&gt;&gt;z;
        if(cin.fail()){
            cout&lt;&lt;"Neispravan centar "&lt;&lt;endl;
            cin.clear();
            cin.ignore(1000,'\n');
           goto molim_te_lijepo;
        }
        double r;
         cout&lt;&lt;"Unesite poluprecnik "&lt;&lt;i+1&lt;&lt;". kugle: ";
        cin&gt;&gt;r;
        while(cin.fail() or r&lt;0){
            if(r&lt;0 or true){
            cin.clear();
            cin.ignore(1000,'\n');
            cout&lt;&lt;"Ilegalan poluprecnik "&lt;&lt;endl;
            
            goto ponovo;
                
            }
            
        }
        
        try{
            v[i]=make_shared&lt;Kugla&gt;(Kugla{x,y,z,r});
        }catch(domain_error ima_izac){
            cout&lt;&lt;ima_izac.what()&lt;&lt;endl;
            i--;
        }
    }

    cout&lt;&lt;"Unesite parametre translacije (delta_x,delta_y,delta_z): ";
    molim_te:
    double delta_x, delta_y, delta_z;
    cin&gt;&gt;delta_x&gt;&gt; delta_y&gt;&gt;delta_z;
    if(cin.fail()){
        cin.clear();
        cin.ignore(1000,'\n');
        cout&lt;&lt;"Neispravni parametri translacije, unesite ponovo!"&lt;&lt;endl;
        goto molim_te;
    }
<a name="0"></a><font color="#FF0000"><a href="match670-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_9.gif"/></a>

    transform(v.begin(),v.end(),v.begin(), [delta_x,delta_y,delta_z](shared_ptr&lt;Kugla&gt;pls){
        pls-&gt;Transliraj(delta_x,delta_y,delta_z); return pls;
    });
    sort(v.begin(),v.end(),[](shared_ptr&lt;Kugla&gt;k1, shared_ptr&lt;Kugla&gt;k2){
        return (k1-&gt;DajZapreminu()&lt;k2-&gt;DajZapreminu());
    });
    cout&lt;&lt;"Kugle nakon obavljenje transformacije imaju sljedece vrijednosti: "&lt;&lt;endl;
    for_each(v.begin(),v.end(),[](shared_ptr&lt;Kugla&gt; k){
        k-&gt;Ispisi(); cout&lt;&lt;endl;
    });
    cout&lt;&lt;"Kugla sa najvecom povrsinom je: ";
    auto p=max_element(v.begin(), v.end(),[](shared_ptr&lt;Kugla&gt;k1, shared_ptr&lt;Kugla&gt;k2){
        return (k1-&gt;DajPovrsinu()&lt;k2-&gt;DajPovrsinu());
    }); 
    (*p)-&gt;Ispisi();
    cout&lt;&lt;endl;
</font>    
<a name="2"></a><font color="#0000FF"><a href="match670-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_2.gif"/></a>

    auto it1=v.begin(); auto it2=v.end();
    for_each(it1,it2-1,[it1,it2](shared_ptr&lt;Kugla&gt; kugla){
        for_each(it1+1,it2,[kugla, it1,it2](shared_ptr&lt;Kugla&gt; kugla2){
        if(DaLiSePreklapaju(*kugla,*kugla2) and it1!=it2){
</font>            nema_izac=false;
            cout&lt;&lt;"Presjecaju se kugle: ";
            (*kugla).Ispisi(); cout&lt;&lt;endl; (*kugla2).Ispisi(); cout&lt;&lt;endl;
        }
            
        });
    });
    if(nema_izac)cout&lt;&lt;"Ne postoje kugle koje se presjecaju!";
    
	return 0;
}
</pre>
</body>
</html>
