<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/A2016/Z5/Z1/student8794.c</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/A2016/Z5/Z1/student4415.c<p></p><pre>
#include &lt;stdio.h&gt;
#include &lt;math.h&gt;
#include &lt;string.h&gt;
#define epsilon 0.001

<a name="0"></a><font color="#FF0000"><a href="match56-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_99.gif"/></a>

struct Student {
	char ime[20], prezime[20];
	int ocjene[50];
	int br_ocjena;
};

double PrsOcj (struct Student student)                  // funkcija prima studenta i vraca njegov prosjek ocjena 
{
	int suma = 0;
	int i;
	double prosjek = 5.0;
	for (i = 0; i &lt; student.br_ocjena; i++) {
		if (student.ocjene[i] == 5) {
			return 5.0;
		}
		suma += student.ocjene[i];
	}
	if (student.br_ocjena == 0)
		return 5.0;
	prosjek = suma / (double)student.br_ocjena;
	return prosjek;
}

int genijalci (struct Student* student, int vel, double prosjek)
{
	int i, j;

	for (i = 0; i &lt; vel; i++) {
		if (PrsOcj(student[i]) &lt; prosjek) {
			for (j = i; j &lt; vel - 1; j++) {
				student[j] = student[j+1];
			}
			vel--;
			i--;
		}
	}

	struct Student* max1 = NULL;
	struct Student* max2 = NULL;
	struct Student* max3 = NULL;
	struct Student* p = student;
	int flag = 1;

	
	while (p &lt; student + vel) {
		if (flag) {
			max1 = p;
			flag = 0;
		} else if (PrsOcj(*p) &gt; PrsOcj(*max1)) {
			max1 = p;
		} else if (fabs(PrsOcj(*p) - PrsOcj(*max1)) &lt; epsilon) {
			if (strcmp(p-&gt;prezime,max1-&gt;prezime) == 0) {
				if (strcmp(p-&gt;ime,max1-&gt;ime) &lt; 0) {
					max1 = p;
				}
			} else if (strcmp(p-&gt;prezime,max1-&gt;prezime) &lt; 0) {
				max1 = p;
			}
		}
		p++;
	}
	
	flag = 1;
	p = student;
	while (p &lt; student + vel) {
		if (p == max1) {
			p++;
			continue;
		}
		if (flag) {
			max2 = p;
			flag = 0;
		} else if (PrsOcj(*p) &gt; PrsOcj(*max2)) {
			max2 = p;
		} else if (fabs(PrsOcj(*p) - PrsOcj(*max2)) &lt; epsilon) {
			if (strcmp(p-&gt;prezime,max2-&gt;prezime) == 0) {
				if (strcmp(p-&gt;ime,max2-&gt;ime) &lt; 0) {
					max2 = p;
				}
			} else if (strcmp(p-&gt;prezime,max2-&gt;prezime) &lt; 0) {
				max2 = p;
			}
		}
		p++;
	}
	flag = 1;
	p = student;

	while (p &lt; student + vel) {
		if (p == max1) {
			p++;
			continue;
		}
		if (p == max2) {
			p++;
			continue;
		}
		if (flag) {
			max3 = p;
			flag = 0;
		} else if (PrsOcj(*p) &gt; PrsOcj(*max3)) {
			max3 = p;
		} else if (fabs(PrsOcj(*p) - PrsOcj(*max3)) &lt; epsilon) {
			if (strcmp(p-&gt;prezime,max3-&gt;prezime) == 0) {
				if (strcmp(p-&gt;ime,max3-&gt;ime) &lt; 0) {
					max3 = p;
				}
			} else if (strcmp(p-&gt;prezime,max3-&gt;prezime) &lt; 0) {
				max3 = p;
			}
		}

		p++;
	}

	if (max1 != NULL)
		printf ("\n%s %s\n",max1-&gt;prezime, max1-&gt;ime);
	if (max2 != NULL)
		printf ("%s %s\n",max2-&gt;prezime, max2-&gt;ime);
	if (max3 != NULL)
		printf ("%s %s\n",max3-&gt;prezime, max3-&gt;ime);

	return vel;
}

int main()
{

	return 0;
</font>}
</pre>
</body>
</html>
