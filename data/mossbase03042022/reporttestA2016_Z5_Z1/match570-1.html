<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/A2016/Z5/Z1/student3567.c</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/A2016/Z5/Z1/student9388.c<p></p><pre>
#include &lt;stdio.h&gt;
#include &lt;string.h&gt;

struct Student {
	char ime[20], prezime[20];
	int ocjene [50];
	int br_ocjena;
};

<a name="0"></a><font color="#FF0000"><a href="match570-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_4.gif"/></a>

void unesi(char niz[], int velicina) {
	char znak = getchar();
	if (znak == '\n') znak=getchar();
	int i = 0;
	while (i &lt; velicina-1 &amp;&amp; znak != '\n') {
		niz[i]=znak;
		i++;
		znak = getchar();
	}
	niz[i]='\0';	
</font>}

int genijalci (struct Student niz[], int vel_niza, double prosjek) {
	int i=0, j=0, ocjena=0, suma=0, sadrzi_5=0, indeks_prvog=0, indeks_drugog=0, indeks_treceg=0;
	double prosjek2=0, trenutni_max=5.0, prvi_max=5.0, drugi_max=5.0, treci_max=5.0;
	
	for (i=0; i&lt;vel_niza; i++) {
		for (j=0; j&lt;niz[i].br_ocjena; j++) {
			if (niz[i].ocjene[j]==5) {   /*Ukoliko postoji ocjena 5, logička promjenljiva postaje 1.*/
				sadrzi_5=1;
			}
			suma = suma + niz[i].ocjene[j]; 
		}
		
		if (niz[i].br_ocjena != 0) prosjek2=(double)suma/niz[i].br_ocjena; /*Racunamo prosjek ocjena.*/
		else prosjek2=5.0;
		if (sadrzi_5==1) prosjek2=5.0; /*Ukoliko imamo ocjenu 5, prosjek je 5.0.*/
		
		/*Izbacivanje studenata ciji je prosjek manji od unesenog prosjeka.*/
<a name="2"></a><font color="#0000FF"><a href="match570-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_2.gif"/></a>

		if (prosjek2&lt;prosjek) {
			for (j=i; j&lt;vel_niza-1; j++) {
				niz[j]=niz[j+1];
</font>			}
			vel_niza--;
			i--;
		}
		
		suma=0;
		prosjek2=0;
		sadrzi_5=0;
	}
	
	for (i=0; i&lt;vel_niza; i++) {
		for (j=0; j&lt;niz[i].br_ocjena; j++) {
			if (niz[i].ocjene[j]==5) {
				sadrzi_5=1;
			}
			suma = suma + niz[i].ocjene[j];
		}
		
		if (niz[i].br_ocjena != 0) trenutni_max = (double)suma/niz[i].br_ocjena;
		else trenutni_max=5.0;
		if (sadrzi_5==1) trenutni_max=5.0;
		
		if (trenutni_max&gt;prvi_max) {
			prvi_max=trenutni_max;
			indeks_prvog=i;
		}
		
		else if (trenutni_max==prvi_max) {    /*Ako su isti prosjeci, provjeravamo prezimena.*/
			char *p=niz[i].prezime;
			char *q=niz[indeks_prvog].prezime;
			
			if (strcmp(p, q)==0) {			  /*Ako su ista prezimena, provjeravamo imena.*/
				char *m=niz[i].ime;
				char *n=niz[indeks_prvog].ime;
				
				if (strcmp(m, n)&lt;0) {
					prvi_max=trenutni_max;
					indeks_prvog=i;
				}
			}
				
			else if (strcmp(p, q)&lt;0) {
				prvi_max=trenutni_max;
				indeks_prvog=i;
			}
		}
		
		suma=0;
		prosjek2=0;
	}	
	
	for (i=0; i&lt;vel_niza; i++) {
		for (j=0; j&lt;niz[i].br_ocjena; j++) {
			if (niz[i].ocjene[j]==5) {
				sadrzi_5=1;
			}
			suma = suma + niz[i].ocjene[j];
		}
		
		if (niz[i].br_ocjena != 0) trenutni_max = (double)suma/niz[i].br_ocjena;
		else trenutni_max=5.0;
		if (sadrzi_5==1) trenutni_max=5.0;
		
		if (trenutni_max&gt;drugi_max &amp;&amp; i != indeks_prvog) {  /*Trazimo drugog studenta po prosjeku.*/
			drugi_max=trenutni_max;                         /*Brojac i mora biti razlicit od indeksa najboljeg studenta, tj. njega preskacemo.*/
			indeks_drugog=i;  
		}
		
		else if (trenutni_max==drugi_max &amp;&amp; i != indeks_prvog) {
			char *p=niz[i].prezime;
			char *q=niz[indeks_drugog].prezime;
			
			if (strcmp(p, q)==0) {
				char *m=niz[i].ime;
				char *n=niz[indeks_drugog].ime;
				
				if (strcmp(m, n)&lt;0) {
					drugi_max=trenutni_max;
					indeks_drugog=i;
				}
			}
			
			else if (strcmp(p, q)&lt;0) {
				drugi_max=trenutni_max;
				indeks_drugog=i;
			}
		}
		
		suma=0;
		prosjek2=0;
	}
	
	for (i=0; i&lt;vel_niza; i++) {
		for (j=0; j&lt;niz[i].br_ocjena; j++) {
			if (niz[i].ocjene[j]==5) {
				sadrzi_5=1;
			}
			suma = suma + niz[i].ocjene[j];
		}
	
		if (niz[i].br_ocjena != 0) trenutni_max = (double)suma/niz[i].br_ocjena;
		else trenutni_max=5.0;
		if (sadrzi_5==1) trenutni_max=5.0;
			
		if (trenutni_max&gt;treci_max &amp;&amp; i != indeks_prvog &amp;&amp; i != indeks_drugog) {     /*Trazimo treceg studenta po prosjeku.*/
			treci_max=trenutni_max;                                                  /*Brojac i mora biti razlicit od indeksa najboljeg studenta*/
			indeks_treceg=i;                                                         /*i indeksa drugog studenta po prosjeku, tj. njih preskačemo.*/
		}
		
		else if (trenutni_max==treci_max &amp;&amp; i != indeks_prvog &amp;&amp; i != indeks_drugog) {
			char *p=niz[i].prezime;
			char *q=niz[indeks_treceg].prezime;
			
			if (strcmp(p, q)==0) {
				char *m=niz[i].ime;
				char *n=niz[indeks_treceg].ime;
				
				if (strcmp(m, n)&lt;0) {
					treci_max=trenutni_max;
					indeks_treceg=i;
				}
			}
			else if (strcmp(p, q)&lt;0) {
				treci_max=trenutni_max;
				indeks_treceg=i;
			}
		}
		
		suma=0;
		prosjek2=0;
	}
	
	if (vel_niza&gt;=3) {                                                            /*Ukoliko imamo 3 ili vise studenata koji ispunjavaju uslove,*/
		printf ("%s %s\n", niz[indeks_prvog].prezime, niz[indeks_prvog].ime);     /*ispisujemo najboljeg studenta i sljedeca dva studenta po prosjeku.*/
		printf ("%s %s\n", niz[indeks_drugog].prezime, niz[indeks_drugog].ime);   /*Ako ne postoje tri studenta koji ispunjavaju ove uslove*/
		printf ("%s %s\n", niz[indeks_treceg].prezime, niz[indeks_treceg].ime);   /*ispisujemo samo najbolja dva ili samo najboljeg ili ne ispisujemo nista.*/
	}
	else if (vel_niza==2) { 
		printf ("%s %s\n", niz[indeks_prvog].prezime, niz[indeks_prvog].ime);
		printf ("%s %s\n", niz[indeks_drugog].prezime, niz[indeks_drugog].ime);
	}
	else if (vel_niza==1) {
		printf ("%s %s\n", niz[indeks_prvog].prezime, niz[indeks_prvog].ime);
	}
	return vel_niza;
}

int main() {
	/*printf("Zadaća 5, Zadatak 1");*/
	
	double prosjek=0;
	struct Student studenti[100];
	int i=0, j=0, br_studenata=0, a=0;
	
	scanf ("%d", &amp;br_studenata);
	
	for (i=0; i&lt;br_studenata; i++) {
		printf ("Unesite ime studenta: ");
		unesi(studenti[i].ime, 20);
		printf ("Unesite prezime studenta: ");
		unesi(studenti[i].prezime, 20);
		printf ("Unesite broj ocjena: ");
		scanf ("%d", &amp;studenti[i].br_ocjena);
<a name="1"></a><font color="#00FF00"><a href="match570-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_2.gif"/></a>

		for (j=0; j&lt;studenti[i].br_ocjena; j++) {
			scanf ("%d", &amp;studenti[i].ocjene[j]);
		}
	}
	
	printf ("Unesite prosjek: ");
	scanf ("%lf", &amp;prosjek);
</font>	
	a=genijalci (studenti, br_studenata, prosjek);
	printf ("Vel: %d", a);

	return 0;
}

</pre>
</body>
</html>
