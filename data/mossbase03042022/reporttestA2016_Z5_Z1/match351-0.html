<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/A2016/Z5/Z1/student6613.c</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/A2016/Z5/Z1/student6613.c<p></p><pre>
#include &lt;stdio.h&gt;
<a name="0"></a><font color="#FF0000"><a href="match351-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_5.gif"/></a>

struct Student{
	char ime[20], prezime[20];
	int ocjene[50];
	int br_ocjena;
};
void unesi(char niz[], int vel){
	char znak=getchar();
	if(znak=='\n') znak=getchar();
	int i=0;
	while(i&lt;=vel-1 &amp;&amp; znak!='\n'){
		niz[i]=znak;
		i++;
		znak=getchar();
	}
	niz[i]='\0';
</font>}
struct Student unesi_osobu(){
	struct Student s;
	int i=0;
	unesi(s.ime,20);
	unesi(s.prezime,20);
	scanf("%d",&amp;s.br_ocjena);
	for(i=0; i&lt;s.br_ocjena; i++){
		scanf("%d", &amp;s.ocjene[i]);
	}
	return s;
}
double fprosjek(struct Student s){
	double suma=0, brocjena,prosjek2;
	int j,r;
		
		brocjena=s.br_ocjena;
		if(brocjena==0) r=-1;
		else r=0;
		for(j=r; j&lt;brocjena; j++){
			
			if(s.ocjene[j]==5 || j==-1){
				suma=5;
				brocjena=1;
				j=brocjena-1;
			} else{
				suma=suma+s.ocjene[j];
			}
			if(j==brocjena-1){
				prosjek2=(double)suma/brocjena;
			}
		}
		return prosjek2;
}
int poredjenje(struct Student o1, struct Student o2){
	int i=0,t=2;
	do{
		if(o1.prezime[i]&lt;o2.prezime[i]) return -1;
		if(o2.prezime[i]&lt;o1.prezime[i]) return 1;
		i++;
		if(o1.prezime[i]=='\0' &amp;&amp; o2.prezime[i]!='\0') return -1;
		if(o1.prezime[i]!='\0' &amp;&amp; o2.prezime[i]=='\0') return 1;
		if(o1.prezime[i]=='\0' &amp;&amp; o2.prezime[i]=='\0') t=0;
	}while(o1.prezime[i]!='\0' &amp;&amp; o2.prezime[i]!='\0');
	if(t==0){
		i=0;
		do{
			if(o1.ime[i]&lt;o2.ime[i]) return -1;
			if(o2.ime[i]&lt;o1.ime[i]) return 1;
			i++;
			if(o1.ime[i]=='\0' &amp;&amp; o2.ime[i]!='\0') return -1;
			if(o1.ime[i]!='\0' &amp;&amp; o2.ime[i]=='\0') return 1;
			if(o1.ime[i]=='\0' &amp;&amp; o2.ime[i]=='\0') t=0;
		}while(o1.ime[i]!='\0' &amp;&amp; o2.ime[i]!='\0');
	}
	if(t==0) return 0;
	
	return 0;
}
int genijalci(struct Student niz[], int n, double prosjek){
	int i, j, k, s, brocjena,r,t=0,br=0,brojac=0,m,z=-1,h,u=0,rporedjenja, istimaxi=0,isti=0, kolikoistih=0;;
	int maxi=-1,drugi,treci,maxi2;
	double prosjek2=0;
	double max1=prosjek,max2=prosjek,max3=prosjek, prosjeci;
	for(i=0; i&lt;n; i++){
		s=0;
		brocjena=niz[i].br_ocjena;
		if(brocjena==0) r=-1;
		else r=0;
		for(j=r; j&lt;brocjena; j++){
			
			if(niz[i].ocjene[j]==5 || j==-1){
				s=5;
				brocjena=1;
				j=brocjena-1;
			} else{
				s=s+niz[i].ocjene[j];
			}
			if(j==brocjena-1){
				prosjek2=(double)s/brocjena;
<a name="2"></a><font color="#0000FF"><a href="match351-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_1.gif"/></a>

				if(prosjek2&lt;prosjek){
					for(k=i; k&lt;n-1; k++){
						niz[k]=niz[k+1];
</font>					}
					n--;
					i--;
					continue;
				}
				else if(prosjek2&gt;max1) max1=prosjek2;
				else if(prosjek2==prosjek) u=1;
				
			}
		}
	}
	if(u==0 &amp;&amp; max1==prosjek) return n;
/*prvi maximum!!!*/
	for(i=0; i&lt;n; i++){
		
		prosjek2=fprosjek(niz[i]);
		if(prosjek2==max1) br++;
		}
	if(br==2 || br==1){
	for(i=0; i&lt;n; i++){
		prosjek2=fprosjek(niz[i]);
		if(prosjek2==max1){
		brojac++;
		if(brojac==1){
			if(br==1){
				printf("%s %s\n", niz[i].prezime, niz[i].ime);
			}
			else{
				maxi=i;
				i++;
				continue;
			}
		}
		else if(brojac==2){
			if(br==2){
				h=poredjenje(niz[maxi], niz[i]);
				if(h==-1){
					printf("%s %s\n", niz[maxi].prezime, niz[maxi].ime );
					printf("%s %s\n", niz[i].prezime, niz[i].ime);
					break;
				}
				else if(h==1){
					printf("%s %s\n", niz[i].prezime, niz[i].ime);
					printf("%s %s\n", niz[maxi].prezime, niz[maxi].ime );
					break;
				}
				else if(h==0){
					printf("%s %s\n", niz[i].prezime, niz[i].ime);
					printf("%s %s\n", niz[maxi].prezime, niz[maxi].ime );
					break;
				}
			}
		}
	}
	}
	}	
	else if(br&gt;=3){
		for(i=0; i&lt;n; i++){
			prosjek2=fprosjek(niz[i]);
			if(prosjek2==max1){
				for(j=i+1; j&lt;n; j++){
					prosjeci=fprosjek(niz[j]);
					if(prosjeci==max1){
						rporedjenja=poredjenje(niz[i], niz[j]);
						if(rporedjenja==-1)
							maxi=i;
						else if(rporedjenja==1) 
							maxi=j;
						else if(rporedjenja==0){
							maxi=i;
							istimaxi=i;
						}
					}
				}
			}
		}
		for(i=0; i&lt;n; i++){
			prosjek2=fprosjek(niz[i]);
			if(prosjek2==max1){
				isti=poredjenje(niz[i], niz[maxi]);
				if(isti==0) kolikoistih++;
				else continue;
			}
		}
		if(istimaxi==maxi &amp;&amp; kolikoistih&gt;=3){
			printf("%s %s\n", niz[maxi].prezime, niz[maxi].ime);
<a name="1"></a><font color="#00FF00"><a href="match351-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_2.gif"/></a>

			printf("%s %s\n", niz[maxi].prezime, niz[maxi].ime);
			printf("%s %s\n", niz[maxi].prezime, niz[maxi].ime);
		}
		else if(istimaxi==maxi &amp;&amp; kolikoistih==2){
</font>			printf("%s %s\n", niz[maxi].prezime, niz[maxi].ime);
			printf("%s %s\n", niz[maxi].prezime, niz[maxi].ime);
		}
		else printf("%s %s\n", niz[maxi].prezime, niz[maxi].ime);
	}
	
	return n;
}
int main() {
	struct Student niz[100];
	int i,n,j;
	double prosjek;
	scanf("%d", &amp;n);
	for(i=0; i&lt;n; i++){
		niz[i]=unesi_osobu();
		
	}
	scanf("%lf", &amp;prosjek);
	n=genijalci(niz,n,prosjek);
	for(j=0;j&lt;n; j++){
		printf("\n%s %s", niz[j].ime, niz[j].prezime);
	}
	return 0;
}
</pre>
</body>
</html>
