<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/A2016/Z5/Z1/student7457.c</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/A2016/Z5/Z1/student4095.c<p></p><pre>
#include &lt;stdio.h&gt;
#include &lt;math.h&gt;
#define EPSILON 0.0001


struct Student {
    char ime[20], prezime [20];
    int ocjene[50];
    int br_ocjena;
};

/*funkcija za uporedjivanje stringova*/
int uporedi (char* s1, char* s2)
{
	while (s1!='\0' &amp;&amp; s2!='\0')
	{
		if (*s1&lt;*s2) return -1;
		if (*s1&gt;*s2) return 1;
		s1++;
		s2++;
	}
	if (*s1!='\0') return 1;
	if (*s2!='\0') return -1;
	return 0;
}

/*Funkcija za racunanje prosjeka ocjena*/
double racunanje_prosjeka (struct Student student) {
	int j;
	double suma=0, prosjek_studenta=0;
	/*ako je broj ocjena jednak nuli*/
	if (student.br_ocjena==0)
	{
		prosjek_studenta=5.;
	}
		
	for (j=0; j&lt;student.br_ocjena; j++)
	{
		/*ako postoji ocjena 5*/
		if (student.ocjene[j]==5)
		{	
			prosjek_studenta=5.0;
			break;
		}
		else
			suma+=student.ocjene[j];
	}
		if (prosjek_studenta!=5.)
<a name="3"></a><font color="#00FFFF"><a href="match207-0.html#3" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_1.gif"/></a>

			prosjek_studenta=suma/student.br_ocjena;
		
		return prosjek_studenta;
}

/*funkcija koja preslikava jednu strukturu u drugu*/
void izbacivanje (struct Student* novi, int vel)
{
	int i;
	for (i=0; i&lt;vel; i++)
	{
		*(novi+i)=*(novi+i+1);
</font>		/*printf("%s", novi[i].ime);*/
	}
}
/*odredjivanje najboljih studenata*/
void najbolji_studenti(struct Student* studenti, int vel, double prosjek)
{
	/*pronalazenje indeksa prva tri najbolja studenta (ako postoje)*/
	int i, index1=0, index2=0, index3=0;
	int n, k;
	int k1, k2, k3;
	/*Pronalazimo prvi sa najvecim prosjekom*/
	for (i=0; i&lt;vel; i++)
	{
		if (racunanje_prosjeka(studenti[index1])&lt;racunanje_prosjeka(studenti[i]))
			index1=i;
	}
	/*ako je broj studenata veci od 1 trazimo sljedeci najveci prosjek*/
	if (vel&gt;1)
	{
		if (index1==index2)
<a name="2"></a><font color="#0000FF"><a href="match207-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_1.gif"/></a>

			index2=index1+1;
		
		for(i=0; i&lt;vel; i++)
		{
			if (i!=index1 &amp;&amp; racunanje_prosjeka(studenti[index2])&lt;racunanje_prosjeka(studenti[i]))
</font>				index2=i;
		}
		
		/*ako je broj studenata tacno jednak 2, uporedjujemo prosjeke, te prezime i ime po potrebi i vrsimo ispis*/
		if (vel==2)
		{
			if(fabs(racunanje_prosjeka(studenti[index1])-racunanje_prosjeka(studenti[index2]))&lt;EPSILON)
			{
				n=uporedi(studenti[index1].prezime, studenti[index2].prezime);
				if (n==-1)
				{
					printf("%s %s\n", studenti[index1].prezime, studenti[index1].ime);
					printf("%s %s\n", studenti[index2].prezime, studenti[index2].ime);
					return;
				}
				else if (n==1)
				{
					printf("%s %s\n", studenti[index2].prezime, studenti[index2].ime);
					printf("%s %s\n", studenti[index1].prezime, studenti[index1].ime);
					return;
				}
				else if (n==0)
				{
					k=uporedi(studenti[index1].ime, studenti[index2].ime);
				
					if(k==-1)
					{
						printf("%s %s\n", studenti[index1].prezime, studenti[index1].ime);
						printf("%s %s\n", studenti[index2].prezime, studenti[index2].ime);
						return;
					}
					else if (k==1)
					{
						printf("%s %s\n", studenti[index2].prezime, studenti[index2].ime);
						printf("%s %s\n", studenti[index1].prezime, studenti[index1].ime);
						return;
					}
					else 
					{
						printf("%s %s\n", studenti[index1].prezime, studenti[index1].ime);
						printf("%s %s\n", studenti[index2].prezime, studenti[index2].ime);
						return;
					}
				}
			}
			else 
			{
				printf("%s %s\n", studenti[index1].prezime, studenti[index1].ime);
				printf("%s %s\n", studenti[index2].prezime, studenti[index2].ime);
				return;
			}
		}
		/*...u protivnom trazimo i treci najveci prosjek*/
		else  
		{
			if (index1==index3 || index3==index2)
<a name="1"></a><font color="#00FF00"><a href="match207-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_2.gif"/></a>

				index3=index2+1;
			
			for (i=0; i&lt;vel; i++)
			{
				if (i!=index1 &amp;&amp; i!=index2 &amp;&amp; racunanje_prosjeka(studenti[index3])&lt;racunanje_prosjeka(studenti[i]))
					index3=i;
</font>			}
			
			/*ukoliko su svi prosjeci razliciti*/
			if(racunanje_prosjeka(studenti[index1])!=racunanje_prosjeka(studenti[index2]) &amp;&amp; racunanje_prosjeka(studenti[index2])!=racunanje_prosjeka(studenti[index3]) &amp;&amp; racunanje_prosjeka(studenti[index1])!=racunanje_prosjeka(studenti[index3]))
			{
				printf("%s %s\n", studenti[index1].prezime, studenti[index1].ime);
				printf("%s %s\n", studenti[index2].prezime, studenti[index2].ime);
				printf("%s %s\n", studenti[index3].prezime, studenti[index3].ime);
				return;
			}
			/*ukoliko su prvi i drugi prosjek jednaki, dok treci je manji od prva dva*/
			else if (racunanje_prosjeka(studenti[index1])==racunanje_prosjeka(studenti[index2]) &amp;&amp; racunanje_prosjeka(studenti[index1])!=racunanje_prosjeka(studenti[index3]))
			{
				n=uporedi(studenti[index1].prezime, studenti[index2].prezime);
				if (n==-1)
				{
					printf("%s %s\n", studenti[index1].prezime, studenti[index1].ime);
					printf("%s %s\n", studenti[index2].prezime, studenti[index2].ime);
					printf("%s %s\n", studenti[index3].prezime, studenti[index3].ime);
					return;
				}
				else if (n==1)
				{
					printf("%s %s\n", studenti[index2].prezime, studenti[index2].ime);
					printf("%s %s\n", studenti[index1].prezime, studenti[index1].ime);
					printf("%s %s\n", studenti[index3].prezime, studenti[index3].ime);
					return;
				}
				else if (n==0)
				{
					k=uporedi(studenti[index1].ime, studenti[index2].ime);
				
					if(k==-1)
					{
						printf("%s %s\n", studenti[index1].prezime, studenti[index1].ime);
						printf("%s %s\n", studenti[index2].prezime, studenti[index2].ime);
						printf("%s %s\n", studenti[index3].prezime, studenti[index3].ime);
						return;
					}
					else if (k==1)
					{
						printf("%s %s\n", studenti[index2].prezime, studenti[index2].ime);
						printf("%s %s\n", studenti[index1].prezime, studenti[index1].ime);
						printf("%s %s\n", studenti[index3].prezime, studenti[index3].ime);
						return;
					}
					else 
					{
						printf("%s %s\n", studenti[index1].prezime, studenti[index1].ime);
						printf("%s %s\n", studenti[index2].prezime, studenti[index2].ime);
						printf("%s %s\n", studenti[index3].prezime, studenti[index3].ime);
						return;
					}
				}
			}
			/*ukoliko su svi prosjeci ocjena jednaki*/
			else
			{
				/*u zavisnosti od povratne vrijednosti za k1,k2,k3 vrsiti ce se razliciti ispisi*/
				k1=uporedi(studenti[index1].prezime, studenti[index2].prezime);
				k2=uporedi(studenti[index1].prezime, studenti[index3].prezime);
				k3=uporedi(studenti[index2].prezime, studenti[index3].prezime);
				
				if (k1!=0 &amp;&amp; k2!=0 &amp;&amp; k3!=0)
				{
					if (k1==-1 &amp;&amp; k2==-1 &amp;&amp; k3==-1)
					{
						printf("%s %s\n", studenti[index1].prezime, studenti[index1].ime);
						printf("%s %s\n", studenti[index2].prezime, studenti[index2].ime);
						printf("%s %s\n", studenti[index3].prezime, studenti[index3].ime);
						return;
					}
					else if (k1==-1 &amp;&amp; k2==-1)
					{
						printf("%s %s\n", studenti[index1].prezime, studenti[index1].ime);
						printf("%s %s\n", studenti[index3].prezime, studenti[index3].ime);
						printf("%s %s\n", studenti[index2].prezime, studenti[index2].ime);
						return;
					}
					else if (k1==1 &amp;&amp; k2==-1 &amp;&amp; k3==-1)
					{
						printf("%s %s\n", studenti[index2].prezime, studenti[index2].ime);
						printf("%s %s\n", studenti[index1].prezime, studenti[index1].ime);
						printf("%s %s\n", studenti[index3].prezime, studenti[index3].ime);
						return;
					}
					else if (k1==-1 &amp;&amp; k2==1 &amp;&amp; k3==1)
					{
						printf("%s %s\n", studenti[index2].prezime, studenti[index2].ime);
						printf("%s %s\n", studenti[index3].prezime, studenti[index3].ime);
						printf("%s %s\n", studenti[index1].prezime, studenti[index1].ime);
						return;
					}
					else if (k1==1 &amp;&amp; k2==1 &amp;&amp; k3==-1)
					{
						printf("%s %s\n", studenti[index3].prezime, studenti[index3].ime);
						printf("%s %s\n", studenti[index1].prezime, studenti[index1].ime);
						printf("%s %s\n", studenti[index2].prezime, studenti[index2].ime);
						return;
					}
					else 
					{
						printf("%s %s\n", studenti[index3].prezime, studenti[index3].ime);
						printf("%s %s\n", studenti[index2].prezime, studenti[index2].ime);
						printf("%s %s\n", studenti[index1].prezime, studenti[index1].ime);
						return;
					}
				}
			}
		}
	}
	else if (vel==1)
	{
		printf("%s %s\n", studenti[index1].prezime, studenti[index1].ime);
		return;
	}
	
}

int genijalci (struct Student* studenti, int vel, double prosjek)
{
	int i, j;
	for (i=0; i&lt;vel; i++)
	{
		if (racunanje_prosjeka(studenti[i])&lt;prosjek)
		{
			izbacivanje(studenti+i, vel-i-1);
			vel--;
			i--;
		}
	}
	
	najbolji_studenti(studenti, vel, prosjek);
	
<a name="0"></a><font color="#FF0000"><a href="match207-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_3.gif"/></a>

	return vel;
}

int main()
{
	struct Student s = { "aaaaaaaaaaaaaaaaaaa", "aaaaaaaaaaaaaaaaaaa", {}, 50 };
	int i;
	for (i=0; i&lt;50; i++) s.ocjene[i]=10;
	printf("Vel: %llu", sizeof s);
	/* = 244 = 20*1 (char) + 20*1 (char) + 50*4 (int) + 4 (int) */

	struct Student niz[1];
	niz[0]=s;	
	genijalci(niz, 1, 9.9);
    return 0;
</font>}
</pre>
</body>
</html>
