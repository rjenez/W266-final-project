<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/A2016/Z5/Z1/student7810.c</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/A2016/Z5/Z1/student2254.c<p></p><pre>
#include &lt;stdio.h&gt;
#include &lt;string.h&gt;
#include &lt;math.h&gt;
#define EPSILON 0.00001

//To do: narpaviti da radi po leksikografskom kako treba

struct Student {
	char ime[20], prezime[20];
	int ocjene[50];
	int br_ocjena;
};

int genijalci(struct Student student[], int vel, float prosjek);

int main()
{
	int vel;

	struct Student studenti[6] = {
		{ "Mujo", "Mujic", { 7,7,7,7,8}, 5},
		{ "Meho", "Mujic", { 7,7,7,7,8}, 5},
		{ "Pero", "Peric", { 8,8,8,8,7}, 5},
		{ "Beba", "Bebic", { 6,6,6,6,6}, 5},
		{ "Mujo", "Mujic", { 7,7,7,7,8}, 5},
		{ "Fata", "Fatic", { 7,7,7,7,8}, 5},
	};
	genijalci(studenti, 5, 6.5);


	return 0;
}

int genijalci(struct Student student[], int vel, float prosjek)
{
	int i, j, k, za_ispis, temp[50], max, max_tmp1 = 0, max_tmp2 = 0, br_elemenata, br_ocjena_najboljih[3] = {0};
	float prosjek_studenta[50] = {0};
	struct Student najbolji[3], student_temp;

	for(i = 0; i &lt; vel; i++) {

		for(j=0; j &lt; student[i].br_ocjena; j++)
			if(student[i].ocjene[j] &gt; 4 &amp;&amp; student[i].ocjene[j] &lt; 11) {	//računanje prosjeka svakog studenta
				prosjek_studenta[i] += student[i].ocjene[j];
				if(student[i].ocjene[j] == 5) { 	//ako student ima jednu ocjenu 5 onda mu je i prosjek 5
					prosjek_studenta[i] = 5*student[i].br_ocjena;	//množimo 5 sa brojem ocjena kako bi kasnije prilikom djeljenja dobili prosjek 5.0
					break;
				}
			}

		if(student[i].br_ocjena != 0)
			prosjek_studenta[i] /= student[i].br_ocjena;
		else
			prosjek_studenta[i] = 5.0;
	}

	for(i = 0; i &lt; vel; i++)
		if(prosjek_studenta[i] &lt; prosjek) {    //izbacivanje studenata koji su ispod prosjeka
			for(j = i; j &lt; vel -1; j++) {
				student[j] = student[j+1];
				prosjek_studenta[j] = prosjek_studenta[j+1];
			}
			vel--;
			i--;
		}
	k = 0;

	for(i = 0; i &lt; vel; i++) {
		max = 0;

		if(k==3)
			break;

		if(i == vel)
			break;

		for(j = vel - 1; j &gt; i; j--) {
			if(prosjek_studenta[i] &lt; prosjek_studenta[j]) {  //traženja studenata sa najvećim prosjekom
				if(i != 0 &amp;&amp; (j == max_tmp1 || j == max_tmp2)) continue;
				max = j;
			}

			else if(fabs(prosjek_studenta[i] - prosjek_studenta[j]) &lt; EPSILON) {	
				if(strcmp(student[i].prezime, student[j].prezime) &gt; 0) {		//ako su prosjeci isti traži po leksikografskom prezime

					if(i != 0 &amp;&amp; (j == max_tmp1 || j == max_tmp2))
						continue;

					max = j;

				}

				else if(strcmp(student[i].prezime, student[j].prezime) == 0)
					if(strcmp(student[i].ime, student[j].ime) &gt; 0) {	//ako je prezime isto traži leksikografskom ime 

						if(i != 0 &amp;&amp; (j == max_tmp1 || j == max_tmp2)) continue;

						max = j;

					}
			}
		}
		najbolji[k] = student[max]; //novi niz sa studentima koje treba ispisati
		if(i == 0)
			max_tmp1 = max;
		if(i == 1)
			max_tmp2 = max;

		br_ocjena_najboljih[k] = student[max].br_ocjena; //pamćenje broja ocjena onih koej treb ispsiati
		k++;
	}


	br_elemenata = k;	//broj studenata koje možemo ispisati

	for(i = 0; i &lt; vel; i++)
		prosjek_studenta[i] = 0; //reciklaža

	for(i = 0; i &lt; br_elemenata; i++) {  					//sortiranje niza studenata koje treba ispisati (originalni niz se ne dira)

		for(j=0; j &lt; br_ocjena_najboljih[i]; j++) {
			prosjek_studenta[i] += najbolji[i].ocjene[j];
		}

		prosjek_studenta[i] /= br_ocjena_najboljih[i];
	}


	for(i = 0; i &lt; br_elemenata; i++)
		for(j = br_elemenata-1; j &gt; i; j--) {
			if(prosjek_studenta[i] &lt; prosjek_studenta[j]) {
				student_temp = najbolji[i];
				najbolji[i] = najbolji[j];
				najbolji[j] = student_temp;
				max = j;
			}

			else if(fabs(prosjek_studenta[i] - prosjek_studenta[j]) &lt; EPSILON) {
<a name="0"></a><font color="#FF0000"><a href="match992-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_4.gif"/></a>

				if(strcmp(najbolji[i].prezime, najbolji[j].prezime) &gt; 0) {
					student_temp = najbolji[i];
					najbolji[i] = najbolji[j];
					najbolji[j] = student_temp;
				}

				else if (strcmp(najbolji[i].prezime, najbolji[j].prezime) == 0) {
</font><a name="1"></a><font color="#00FF00"><a href="match992-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_4.gif"/></a>

					if(strcmp(najbolji[i].ime, najbolji[j].ime)  &gt; 0) {
						student_temp = najbolji[i];
						najbolji[i] = najbolji[j];
						najbolji[j] = student_temp;
					}
				}
			}
		}

	for(k = 0; k &lt; br_elemenata; k++)
</font>		printf("%s %s\n", najbolji[k].prezime, najbolji[k].ime);

	return vel;
}</pre>
</body>
</html>
