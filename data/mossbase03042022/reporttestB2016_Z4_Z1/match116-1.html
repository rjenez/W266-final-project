<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z1/student3171.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z1/student3978.cpp<p></p><pre>
<a name="1"></a><font color="#00FF00"><a href="match116-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_30.gif"/></a>

/B 2016/2017, ZadaÄ‡a 4, Zadatak 1
//Napomena: testovi ce biti dostupni dan pred rok!
#include &lt;iostream&gt;
#include &lt;utility&gt;
#include &lt;vector&gt;
#include &lt;memory&gt;
#include &lt;algorithm&gt;
#include &lt;stdexcept&gt;
#include &lt;cmath&gt;

typedef std::pair&lt;double, double&gt; Tacka;
const double E(1e-10);

class Trougao {
    Tacka t1, t2, t3;
    static bool ProvjeraIndeksa(int indeks) { return (indeks&lt;4 &amp;&amp; indeks&gt;0); }
    static double RacunajDuzinuStranice(const Tacka &amp;t1, const Tacka &amp;t2) {
        return std::sqrt(std::pow(t2.first-t1.first, 2)+ std::pow(t2.second-t1.second, 2));
    }
    static double Rezultat(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3) {
        return (t1.first*(t2.second-t3.second)-t2.first*(t1.second-t3.second)+t3.first*(t1.second-t2.second));
    }
    static bool Poredi(double x, double y) {
        return std::fabs(x-y)&lt;=E*(std::fabs(x)+std::fabs(y));
    }
    void Rotacija( Tacka &amp;t, const Tacka &amp;tc, double ugao ) {
        auto temp (t.first);
        t.first=tc.first+std::cos(ugao)*(t.first-tc.first)-std::sin(ugao)*(t.second-tc.second);
        t.second=tc.second+std::sin(ugao)*(temp-tc.first)+std::cos(ugao)*(t.second-tc.second);
    }
    void Skaliranje(Tacka &amp;t, const Tacka &amp;tc, double k) {
        t.first=tc.first+k*(t.first-tc.first); t.second=tc.second+k*(t.second-tc.second);
    }
  
    public:
    Trougao(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3) { Postavi(t1, t2, t3);}
    
    void Postavi(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3){ if(Orijentacija(t1,t2,t3)==0) throw std::domain_error("Nekorektne pozicije tjemena");
        Trougao::t1=t1; Trougao::t2=t2; Trougao::t3=t3; }
   
    void Postavi(int indeks, const Tacka &amp;t) { if(indeks==1) Trougao::t1=t; else if(indeks==2) Trougao::t2=t;  else if(indeks==3) Trougao::t3=t; 
        else throw std::range_error("Nekorektan indeks"); if(Orijentacija(t1,t2,t3)==0) throw std::domain_error("Nekorektne pozicije tjemena"); }
    
    static int Orijentacija(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3) { double rez(Rezultat(t1, t2, t3)); if(rez&gt;0) return 1; 
         if(rez&lt;0) return -1;  return 0; }
    
    Tacka DajTjeme(int indeks) const { if(!ProvjeraIndeksa(indeks)) throw std::range_error("Nekorektan indeks"); if(indeks==1) return t1; 
        if(indeks==2) return t2; return t3;  }
    
    double DajStranicu(int indeks) const { if(!ProvjeraIndeksa(indeks)) throw std::range_error("Nekorektan indeks"); 
        if(indeks==1) return RacunajDuzinuStranice(t2, t3); if(indeks==2) return RacunajDuzinuStranice(t1, t3); return RacunajDuzinuStranice(t1, t2); }
    
    double DajUgao(int indeks) const{ if(!ProvjeraIndeksa(indeks)) throw std::range_error("Nekorektan indeks"); 
        double a(RacunajDuzinuStranice(t2, t3)), b(RacunajDuzinuStranice(t1, t3)), c(RacunajDuzinuStranice(t1, t2));
        if(indeks==1) return std::acos((b*b+c*c-a*a)/(2*b*c)); if(indeks==2) return std::acos((a*a+c*c-b*b)/(2*a*c)); 
        return std::acos((a*a+b*b-c*c)/(2*a*b)); }
        
    Tacka DajCentar() const {double x=(t1.first+t2.first+t3.first)/3; double y=(t1.second+t2.second+t3.second)/3; 
        Tacka t(std::make_pair(x, y));   return t; }
    
    double DajObim() const { double a(RacunajDuzinuStranice(t2, t3)), b(RacunajDuzinuStranice(t1, t3)), c(RacunajDuzinuStranice(t1, t2)); return a+b+c; }
    
    double DajPovrsinu() const { return (1./2)*std::fabs(Rezultat(t1, t2, t3)); }
    
    bool DaLiJePozitivnoOrjentiran() const { return (Orijentacija(t1, t2, t3)==1); }
    
    bool DaLiJeUnutra(const Tacka &amp;t) const { return (Orijentacija(t1, t2, t3)==Orijentacija(t1, t2, t)==Orijentacija(t2, t3, t)==Orijentacija(t3, t1, t)); }
    
    void Ispisi() const {std::cout&lt;&lt;"(("&lt;&lt;t1.first&lt;&lt;","&lt;&lt;t1.second&lt;&lt;"),("&lt;&lt;t2.first&lt;&lt;","&lt;&lt;t2.second&lt;&lt;"),("&lt;&lt;t3.first&lt;&lt;","&lt;&lt;t3.second&lt;&lt;"))";;  } 
</font>    
<a name="0"></a><font color="#FF0000"><a href="match116-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_48.gif"/></a>

    void Transliraj(double delta_x, double delta_y) { t1.first+=delta_x; t1.second+=delta_y; t2.first+=delta_x; t2.second+=delta_y; 
        t3.first+=delta_x; t3.second+=delta_y; }
    
    void Centriraj(const Tacka &amp;t) { double x(t.first-(t1.first+t2.first+t3.first)/3), y(t.second-(t1.second+t2.second+t3.second)/3); Transliraj(x, y);}
    
    void Rotiraj(const Tacka &amp;t, double ugao) { Rotacija(t1,t, ugao); Rotacija(t2, t, ugao); Rotacija(t3, t, ugao);  }
    
    void Skaliraj(const Tacka &amp;t, double faktor) { if(faktor-0&lt;E) throw std::domain_error("Nekorektan faktor skaliranja;");
        Skaliranje(t1, t, faktor); Skaliranje(t2, t, faktor); Skaliranje(t3, t, faktor); }
    void Rotiraj(double ugao) {Tacka t(DajCentar()); Rotiraj(t, ugao); }
    
    void Skaliraj(double faktor) { Tacka t(DajCentar()); Skaliraj(t, faktor); }
    
    friend bool DaLiSuIdenticni(const Trougao &amp;t1, const Trougao &amp;t2);
    friend bool DaLiSuPodudarni(const Trougao &amp;t1, const Trougao &amp;t2);
    friend bool DaLiSuSlicni(const Trougao &amp;t1, const Trougao &amp;t2);
};

bool DaLiSuIdenticni(const Trougao &amp;t1, const Trougao &amp;t2) {
    std::vector&lt;Tacka&gt; v1{t1.t1, t1.t2, t1.t3};
    std::vector&lt;Tacka&gt; v2{t2.t1, t2.t2, t2.t3};
    std::sort(v1.begin(), v1.end()); std::sort(v2.begin(), v2.end());
    bool isti(true);
    for(int i=0; i&lt;v1.size(); i++) {
        if(v1[i]!=v2[i]) {
            isti=false;
            break;
        }
    }
    if(!isti) return false;
    return true;
}

bool DaLiSuPodudarni(const Trougao &amp;t1, const Trougao &amp;t2) {
    
    std::vector&lt;Tacka&gt; v1{t1.t1, t1.t2, t1.t3};
    std::vector&lt;Tacka&gt; v2{t2.t1, t2.t2, t2.t3};
    double a1(t1.DajStranicu(1)), b1(t1.DajStranicu(2)), c1(t1.DajStranicu(3));
    std::vector&lt;double&gt; stranice1{a1, b1, c1};
    double a2(t2.DajStranicu(1)), b2(t2.DajStranicu(2)), c2(t2.DajStranicu(3));
    std::vector&lt;double&gt; stranice2{a2, b2, c2};
    
    
    for(int i=0; i&lt;3; i++) {
        for(int j=i+1; j&lt;3; j++) {
            if(stranice1[i]&gt;stranice1[j]) {
               std::swap(stranice1[i], stranice1[j]);
             std::swap(v1[i], v1[j]);
                j--;
            }
        }
    }
    
    for(int i=0; i&lt;3; i++) {
        for(int j=i+1; j&lt;3; j++) {
            if(stranice2[i]&gt;stranice2[j]) {
                std::swap(stranice2[i], stranice2[j]);
                std::swap(v2[i], v2[j]); j--;
            }
        }
    }
    
    for(int i=0; i&lt;3; i++) {
        if(!Trougao::Poredi(stranice1[i], stranice2[i])) return false;
    }
    if(Trougao::Orijentacija(v1[0], v1[1], v1[2])!=Trougao::Orijentacija(v2[0], v2[1], v2[2])) return false;
    return true;
}


bool DaLiSuSlicni(const Trougao &amp;t1, const Trougao &amp;t2) {
    std::vector&lt;Tacka&gt; v1{t1.t1, t1.t2, t1.t3};
    std::vector&lt;Tacka&gt; v2{t2.t1, t2.t2, t2.t3};
    double a1(t1.DajStranicu(1)), b1(t1.DajStranicu(2)), c1(t1.DajStranicu(3));
    std::vector&lt;double&gt; stranice1{a1, b1, c1};
    double a2(t2.DajStranicu(1)), b2(t2.DajStranicu(2)), c2(t2.DajStranicu(3));
    std::vector&lt;double&gt; stranice2{a2, b2, c2};
    
    
    for(int i=0; i&lt;3; i++) {
        for(int j=i+1; j&lt;3; j++) {
            if(stranice1[i]&gt;stranice1[j]) {
                std::swap(stranice1[i], stranice1[j]);
                std::swap(v1[i], v1[j]); j--;
            }
        }
    }
    
    for(int i=0; i&lt;3; i++) {
        for(int j=i+1; j&lt;3; j++) {
            if(stranice2[i]&gt;stranice2[j]) {
                std::swap(stranice2[i], stranice2[j]);
                std::swap(v2[i], v2[j]); j--;
            }
        }
    }
    
    if(Trougao::Orijentacija(v1[0], v1[1], v1[2])!=Trougao::Orijentacija(v2[0], v2[1], v2[2])) return false;
    
    int k(0), i(0);
    if(stranice1[0]&gt;=stranice2[0])  {
        k=std::abs (stranice1[0]/stranice2[0]);
        for(i=0; i&lt;3; i++) {
            if(!Trougao::Poredi(stranice1[i]/stranice2[i], k)) break;
        }
    if(i!=3) return false; }
    
    if(stranice2[0]&gt;stranice1[0]) {
        k=std::abs(stranice2[0]/stranice1[0]);
        for(i=0; i&lt;3; i++) {
            if(!Trougao::Poredi(stranice2[i]/stranice1[i], k)) break;
        }
    }
    if(i!=3) return false;
    return true;
}


int main ()
{
    int broj;
    std::cout &lt;&lt; "Koliko zelite kreirati trouglova: ";
    std::cin &gt;&gt; broj;
    std::vector &lt;std::shared_ptr&lt;Trougao&gt;&gt; v(broj);
    for(int i=0; i&lt;broj; i++) {
        std::cout &lt;&lt; "Unesite podatke za " &lt;&lt; i+1&lt;&lt; ". trougao (x1 y1 x2 y2 x3 y3): ";
        double x1,y1,x2,y2,x3,y3;
        std::cin &gt;&gt; x1 &gt;&gt; y1 &gt;&gt; x2 &gt;&gt; y2 &gt;&gt; x3 &gt;&gt; y3;
        Tacka t1(std::make_pair(x1,y1)); Tacka t2(std::make_pair(x2,y2)); Tacka t3(std::make_pair(x3,y3));
        try {
           v[i]=std::make_shared&lt;Trougao&gt; (t1,t2,t3);   }
        catch(std::domain_error tekst)
        {
            std::cout &lt;&lt; tekst.what() &lt;&lt; ", ponovite unos!\n";
            i--;
        }
    }
    
    double delta_x, delta_y;
    std::cout &lt;&lt; "Unesite vektor translacije (dx dy): ";
    std::cin &gt;&gt; delta_x &gt;&gt; delta_y;
    
    std::transform(v.begin(), v.end(), v.begin(), [delta_x, delta_y](std::shared_ptr&lt;Trougao&gt; p) { p-&gt;Transliraj(delta_x, delta_y); return p; });
    double ugao;
    std::cout &lt;&lt; "Unesite ugao rotacije: ";
    std::cin &gt;&gt; ugao;
    std::transform(v.begin(), v.end(), v.begin(), [ugao] (std::shared_ptr&lt;Trougao&gt;p) { p-&gt;Rotiraj(p-&gt;DajCentar(),ugao); return p; });
   
    double faktor;
    std::cout &lt;&lt; "Unesite faktor skaliranja: ";
    std::cin &gt;&gt; faktor;
    
    std::transform(v.begin(), v.end(), v.begin(), [faktor] (std::shared_ptr&lt;Trougao&gt; p) { p-&gt;Skaliraj(p-&gt;DajTjeme(1), faktor); return p;});

    std::sort(v.begin(), v.end(), [](std::shared_ptr&lt;Trougao&gt; p1, std::shared_ptr&lt;Trougao&gt;p2) { return p1-&gt;DajPovrsinu()&lt;p2-&gt;DajPovrsinu(); } );
</font>    std::cout &lt;&lt; "Trouglovi nakon obavljenih transformacija:" &lt;&lt; std::endl;
<a name="2"></a><font color="#0000FF"><a href="match116-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_5.gif"/></a>

    std::for_each(v.begin(), v.end(), [](std::shared_ptr&lt;Trougao&gt; p) { p-&gt;Ispisi();std::cout &lt;&lt; std::endl;});
    
    std::cout &lt;&lt; "Trougao sa najmanjim obimom: "; 
      auto element= *std::min_element(v.begin(), v.end(), [](std::shared_ptr&lt;Trougao&gt; p1, std::shared_ptr&lt;Trougao&gt; p2) { return p1-&gt;DajObim()&lt;p2-&gt;DajObim(); });
       element-&gt;Ispisi();
    int brojac(0);
    
    for(int i=0; i&lt;broj; i++) {
        for(int j=i+1; j&lt;broj; j++) {
            if(DaLiSuIdenticni(*v[i], *v[j])) brojac++;
        }
    }
    if(brojac!=0) {
    std::cout &lt;&lt; "\nParovi identicnih trouglova:" &lt;&lt; std::endl;
    for(int i=0; i&lt;broj; i++) {
        for(int j=i+1; j&lt;broj; j++) {
</font>            if(DaLiSuIdenticni(*v[i], *v[j])) {
<a name="3"></a><font color="#00FFFF"><a href="match116-0.html#3" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_4.gif"/></a>

                v[i]-&gt;Ispisi(); std::cout &lt;&lt; " i "; v[j]-&gt;Ispisi(); std::cout &lt;&lt; std::endl;
            }
        }
    }
    }
    else std::cout &lt;&lt; "\nNema identicnih trouglova!" &lt;&lt; std::endl;
    
    brojac=0;
    for(int i=0; i&lt;broj; i++) {
        for(int j=i+1; j&lt;broj; j++) {
            if(DaLiSuPodudarni(*v[i], *v[j])) brojac++;
        }
    }
    if(brojac!=0) {
    std::cout &lt;&lt; "Parovi podudarnih trouglova:\n";
    for(int i=0; i&lt;broj; i++) {
        for(int j=i+1; j&lt;broj; j++) {
            if(DaLiSuPodudarni(*v[i], *v[j])) {
</font><a name="4"></a><font color="#FF00FF"><a href="match116-0.html#4" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_4.gif"/></a>

                v[i]-&gt;Ispisi(); std::cout &lt;&lt; " i ";  v[j]-&gt;Ispisi(); std::cout &lt;&lt; std::endl;
            }
        }
    }
    }
    else std::cout &lt;&lt; "Nema podudarnih trouglova!" &lt;&lt; std::endl;
    
    brojac=0;
    for(int i=0; i&lt;broj; i++) {
        for(int j=i+1; j&lt;broj; j++) {
            if(DaLiSuSlicni(*v[i], *v[j])) brojac++;
        }
    }
    
    if(brojac!=0) {
    std::cout &lt;&lt; "Parovi slicnih trouglova:\n";
    for(int i=0; i&lt;broj; i++) {
        for(int j=i+1; j&lt;broj; j++) {
            if(DaLiSuSlicni(*v[i], *v[j])) {
</font><a name="5"></a><font color="#FF0000"><a href="match116-0.html#5" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_1.gif"/></a>

                v[i]-&gt;Ispisi(); std::cout &lt;&lt; " i " ; v[j]-&gt;Ispisi(); std::cout &lt;&lt; std::endl;
            }
        }
    }
    }
    else std::cout &lt;&lt; "Nema slicnih trouglova! " &lt;&lt; std::endl;
</font>    
	return 0;
}</pre>
</body>
</html>
