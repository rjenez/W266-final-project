<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z1/student9325.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z1/student2068.cpp<p></p><pre>
#include &lt;iostream&gt;
#include &lt;vector&gt;
#include &lt;utility&gt;
#include &lt;cmath&gt;
#include &lt;stdexcept&gt;
#include &lt;algorithm&gt;
#include &lt;memory&gt;

#define eps 1E-10

typedef std::pair&lt;double, double&gt; Tacka;

inline double Kvadrat(double x) { return x*x; }

class Trougao {
    Tacka tacke[3];
    static double pomocna(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3);
    static void TestIndeksa(int indeks) { if(indeks&lt;1 || indeks&gt;3) throw std::range_error("Nekorektan indeks"); }
public :
    Trougao(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3) { Postavi(t1, t2, t3); } //
    void Postavi(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3); //
    void Postavi(int indeks, const Tacka &amp;t); //
    static int Orijentacija(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3); //
    Tacka DajTjeme(int indeks) const { TestIndeksa(indeks); return tacke[indeks-1]; } //
    double DajStranicu(int indeks) const; //
    double DajUgao(int indeks) const; //
    Tacka DajCentar() const; //
    double DajObim() const { return DajStranicu(1)+DajStranicu(2)+DajStranicu(3); } //
    double DajPovrsinu() const { return 0.5 * fabs(pomocna(tacke[0], tacke[1], tacke[2])); } //
    bool DaLiJePozitivnoOrijentiran() const { return pomocna(tacke[0], tacke[1], tacke[2]) &gt; 0; } //
    bool DaLiJeUnutra(const Tacka &amp;t) const; //
    void Ispisi() const { std::cout &lt;&lt; "((" &lt;&lt; tacke[0].first &lt;&lt; "," &lt;&lt; tacke[0].second &lt;&lt; "),(" &lt;&lt; tacke[1].first &lt;&lt; "," &lt;&lt; tacke[1].second &lt;&lt; "),(" &lt;&lt; tacke[2].first &lt;&lt; "," &lt;&lt; tacke[2].second &lt;&lt; "))"; }
    void Transliraj(double delta_x, double delta_y); //
    void Centriraj(const Tacka &amp;t); // 
    void Rotiraj(const Tacka &amp;t, double ugao); //
    void Skaliraj(const Tacka &amp;t, double faktor); //
    void Rotiraj(double ugao) { Rotiraj(DajCentar(), ugao); } //
    void Skaliraj(double faktor) { Skaliraj(DajCentar(), faktor); } //
    friend bool DaLiSuIdenticni(const Trougao &amp;t1, const Trougao &amp;t2); //
    friend bool DaLiSuPodudarni(const Trougao &amp;t1, const Trougao &amp;t2);
    friend bool DaLiSuSlicni(const Trougao &amp;t1, const Trougao &amp;t2);
};

int Trougao::Orijentacija(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3) {
    double o=pomocna(t1, t2, t3);
    if(fabs(o)&lt;eps) return 0;
    if(o&gt;0) return 1;
    return -1;
}

double Trougao::pomocna(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3) {
    return t1.first*(t2.second-t3.second)-t2.first*(t1.second-t3.second)+t3.first*(t1.second-t2.second);
}

void Trougao::Postavi(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3) {
    if(!Orijentacija(t1, t2, t3)) throw std::domain_error("Nekorektne pozicije tjemena");
    tacke[0]=t1; tacke[1]=t2; tacke[2]=t3;
}

void Trougao::Postavi(int indeks, const Tacka &amp;t) {
    TestIndeksa(indeks);
    tacke[indeks-1]=t;
    if(!Orijentacija(tacke[0], tacke[1], tacke[2])) throw std::domain_error("Nekorektne pozicije tjemena");
}

double Trougao::DajStranicu(int indeks) const {
    TestIndeksa(indeks);
    Tacka t1, t2;
    if(indeks==1) t1=tacke[1], t2=tacke[2];
    else if(indeks==2) t1=tacke[0], t2=tacke[2];
    else { t1=tacke[0], t2=tacke[1]; }
    return std::sqrt( Kvadrat(t1.first-t2.first) + Kvadrat(t1.second-t2.second) );
}

double Trougao::DajUgao(int indeks) const {
    TestIndeksa(indeks);
    double c=DajStranicu(indeks), a, b;
    if(indeks==1) {
        a=DajStranicu(2); b=DajStranicu(3);
    }
    else if(indeks==2) {
        a=DajStranicu(1); b=DajStranicu(3);
    }
    else {
        a=DajStranicu(1); b=DajStranicu(2);
    }
    return acos( (Kvadrat(a)+Kvadrat(b)-Kvadrat(c)) / (2*a*b) );
}

Tacka Trougao::DajCentar() const {
    return { (tacke[0].first+tacke[1].first+tacke[2].first)/3 , (tacke[0].second+tacke[1].second+tacke[2].second) /3 };
}

bool Trougao::DaLiJeUnutra(const Tacka &amp;t) const {
    int a=Orijentacija(tacke[0], tacke[1], tacke[2]);
    if(a!=Orijentacija(tacke[0], tacke[1], t)) return false;
    if(a!=Orijentacija(tacke[1], tacke[2], t)) return false;
    if(a!=Orijentacija(tacke[2], tacke[0], t)) return false;
    return true;
}

void Trougao::Transliraj(double delta_x, double delta_y) {
    tacke[0].first+=delta_x; tacke[0].second+=delta_y;
    tacke[1].first+=delta_x; tacke[1].second+=delta_y;
    tacke[2].first+=delta_x; tacke[2].second+=delta_y;
}

void Trougao::Centriraj(const Tacka &amp;t) {
    Tacka tez=DajCentar();
    double delta_x=tez.first, delta_y=tez.second;
    Transliraj(-1*delta_x, -1*delta_y);
}

void Trougao::Rotiraj(const Tacka &amp;t, double ugao) {
    std::for_each(tacke, tacke+3, [t, ugao](Tacka &amp;x) {
        double a=t.first+(x.first-t.first)*cos(ugao)-(x.second-t.second)*sin(ugao);
        x.second=t.second+(x.first-t.first)*sin(ugao)+(x.second-t.second)*cos(ugao);
        x.first=a;
    });
}

void Trougao::Skaliraj(const Tacka &amp;t, double faktor) {
    if(fabs(faktor)&lt;eps) throw std::domain_error("Nekorektan faktor skaliranja");
    std::for_each(tacke, tacke+3, [t, faktor](Tacka &amp;x) {
        x.first=t.first+faktor*(x.first-t.first);
        x.second=t.second+faktor*(x.second-t.second);
    });
}

bool DaLiSuIdenticni(const Trougao &amp;t1, const Trougao &amp;t2) {
    for(int i=0; i&lt;3; i++) {
        bool nadjen=false;
        for(int j=0; j&lt;3; j++) 
            if(t1.tacke[i]==t2.tacke[j]) { nadjen=true; break; }
        if(!nadjen) return false;
    }
    return true;
}

bool DaLiSuPodudarni(const Trougao &amp;t1, const Trougao &amp;t2) {
    if(!DaLiSuSlicni(t1, t2)) return false;
    double a[3]={t1.DajStranicu(1), t1.DajStranicu(2), t1.DajStranicu(3)};
    double b[3]={t2.DajStranicu(1), t2.DajStranicu(2), t2.DajStranicu(3)};
    for(int i=0; i&lt;3; i++) {
        bool nadjen=false;
        for(int j=0; j&lt;3; j++)
            if(fabs(a[i]-b[j])&lt;eps) { nadjen=true; break; }
        if(!nadjen) return false;
    }
    return true;
}

bool DaLiSuSlicni(const Trougao &amp;t1, const Trougao &amp;t2) {
    double a[3]={t1.DajUgao(1), t1.DajUgao(2), t1.DajUgao(3)}; 
    double b[3]={t2.DajUgao(1), t2.DajUgao(2), t2.DajUgao(3)}; //std::cout &lt;&lt; b[0] &lt;&lt; " " &lt;&lt; b[1] &lt;&lt; " " &lt;&lt; b[2] &lt;&lt; "\n";
    if(Trougao::Orijentacija(t1.tacke[0], t1.tacke[1], t1.tacke[2])!=Trougao::Orijentacija(t2.tacke[0], t2.tacke[1], t2.tacke[2])) {
        double p=a[0];
        a[0]=a[2]; a[2]=p;
    }
    //std::cout &lt;&lt; a[0] &lt;&lt; " " &lt;&lt; a[1] &lt;&lt; " " &lt;&lt; a[2] &lt;&lt; "\n";
    for(int i=0; i&lt;3; i++) {
        bool nadjen=false;
        for(int j=0; j&lt;3; j++) {
            if(fabs(a[i]-b[j])&lt;eps) { nadjen=true; break; }
        }
        if(!nadjen) return false;
    }
    if(fabs(a[0]-b[0])&lt;eps) return fabs(a[1]-b[1])&lt;eps;
    if(fabs(a[0]-b[1])&lt;eps) return fabs(a[1]-b[2])&lt;eps;
    return fabs(a[1]-b[0])&lt;eps;
    // return Trougao::Orijentacija(t1.tacke[0], t1.tacke[1], t1.tacke[2])==Trougao::Orijentacija(t2.tacke[0], t2.tacke[1], t2.tacke[2]);
}

int main () {
<a name="0"></a><font color="#FF0000"><a href="match716-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_5.gif"/></a>

    std::cout &lt;&lt; "Koliko zelite kreirati trouglova: ";
	int n; std::cin &gt;&gt; n;
	std::vector&lt;std::shared_ptr&lt;Trougao&gt;&gt;v;
	for(int i=0; i&lt;n; i++) {
	    std::cout &lt;&lt; "Unesite podatke za " &lt;&lt; i+1 &lt;&lt; ". trougao (x1 y1 x2 y2 x3 y3): ";
	    double x1, y1, x2, y2, x3, y3; std::cin &gt;&gt; x1 &gt;&gt; y1 &gt;&gt; x2 &gt;&gt; y2 &gt;&gt; x3 &gt;&gt; y3;
	    try { v.emplace_back(std::make_shared&lt;Trougao&gt;(Trougao({x1,y1}, {x2,y2}, {x3,y3}))); }
	    catch(std::domain_error izuzetak) {
	        std::cout &lt;&lt; izuzetak.what() &lt;&lt; ", ponovite unos!\n";
</font>	        i--;
	    }
	}
	std::cout &lt;&lt; "Unesite vektor translacije (dx dy): ";
	double dx, dy; std::cin &gt;&gt; dx &gt;&gt; dy;
	std::cout &lt;&lt; "Unesite ugao rotacije: ";
    double ugao; std::cin &gt;&gt; ugao;
    std::cout &lt;&lt; "Unesite faktor skaliranja: ";
    double faktor; std::cin &gt;&gt; faktor; if(fabs(faktor)&lt;eps) std::cout &lt;&lt; "Nekorektan faktor skaliranja!\n";
	else std::transform(v.begin(), v.end(), v.begin(), [dx, dy, ugao, faktor](std::shared_ptr&lt;Trougao&gt;p1) {
	    p1-&gt;Transliraj(dx, dy);
	    p1-&gt;Rotiraj(ugao);
	    p1-&gt;Skaliraj(p1-&gt;DajTjeme(1), faktor);
	    return p1;
	});
	std::sort(v.begin(), v.end(), [](std::shared_ptr&lt;Trougao&gt;p1, std::shared_ptr&lt;Trougao&gt;p2) {
	   return p1-&gt;DajPovrsinu() &lt; p2-&gt;DajPovrsinu(); 
	});
<a name="7"></a><font color="#0000FF"><a href="match716-0.html#7" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_1.gif"/></a>

	std::cout &lt;&lt; "Trouglovi nakon obavljenih transformacija:";
	std::for_each(v.begin(), v.end(), [](std::shared_ptr&lt;Trougao&gt;p1) {
</font>	    std::cout &lt;&lt; "\n"; p1-&gt;Ispisi(); 
	});
	auto i=std::min_element(v.begin(), v.end(), [](std::shared_ptr&lt;Trougao&gt;p1, std::shared_ptr&lt;Trougao&gt;p2) {
	    return p1-&gt;DajObim() &lt; p2-&gt;DajObim(); 
	});
	std::cout &lt;&lt; "\nTrougao sa najmanjim obimom: ";
	(*i)-&gt;Ispisi();
<a name="6"></a><font color="#00FF00"><a href="match716-0.html#6" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_1.gif"/></a>

	bool ispisan=false;
    for(int i=0; i&lt;v.size(); i++) {
        for(int j=i+1; j&lt;v.size(); j++) {
</font>            if(DaLiSuIdenticni(*v[i], *v[j])) {
<a name="3"></a><font color="#00FFFF"><a href="match716-0.html#3" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_1.gif"/></a>

                if(!ispisan) std::cout &lt;&lt; "\nParovi identicnih trouglova:\n";
                ispisan=true;
                v[i]-&gt;Ispisi(); std::cout &lt;&lt; " i "; v[j]-&gt;Ispisi();
                std::cout &lt;&lt; "\n";
</font>            }
        }
    }
<a name="1"></a><font color="#00FF00"><a href="match716-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_1.gif"/></a>

    if(!ispisan) std::cout &lt;&lt; "\nNema identicnih trouglova!\n";
    ispisan=false;
    for(int i=0; i&lt;v.size(); i++) {
        for(int j=i+1; j&lt;v.size(); j++) {
</font>            if(DaLiSuPodudarni(*v[i], *v[j])) {
<a name="4"></a><font color="#FF00FF"><a href="match716-0.html#4" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_1.gif"/></a>

                if(!ispisan) std::cout &lt;&lt; "Parovi podudarnih trouglova:\n";
                ispisan=true;
                v[i]-&gt;Ispisi(); std::cout &lt;&lt; " i "; v[j]-&gt;Ispisi();
                std::cout &lt;&lt; "\n";
</font>            }
        }
    }
<a name="2"></a><font color="#0000FF"><a href="match716-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_1.gif"/></a>

    if(!ispisan) std::cout &lt;&lt; "Nema podudarnih trouglova!\n";
    ispisan=false;
    for(int i=0; i&lt;v.size(); i++) {
        for(int j=i+1; j&lt;v.size(); j++) {
</font>            if(DaLiSuSlicni(*v[i], *v[j])) {
<a name="5"></a><font color="#FF0000"><a href="match716-0.html#5" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_1.gif"/></a>

                if(!ispisan) std::cout &lt;&lt; "Parovi slicnih trouglova:\n";
                ispisan=true;
                v[i]-&gt;Ispisi(); std::cout &lt;&lt; " i "; v[j]-&gt;Ispisi();
                std::cout &lt;&lt; "\n";
</font>            }
        }
    }
    if(!ispisan) std::cout &lt;&lt; "Nema slicnih trouglova!";
    return 0;
}</pre>
</body>
</html>
