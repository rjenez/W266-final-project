<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z1/student2213.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z1/student9946.cpp<p></p><pre>
<a name="2"></a><font color="#0000FF"><a href="match202-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_14.gif"/></a>

/B 2016/2017, ZadaÄ‡a 4, Zadatak 1
//Napomena: testovi ce biti dostupni dan pred rok!

#include &lt;iostream&gt;
#include &lt;exception&gt;
#include &lt;algorithm&gt;
#include &lt;utility&gt;
#include &lt;memory&gt;

using namespace std;
typedef pair &lt; double, double &gt; Tacka ;


class Trougao {
    Tacka tjeme_1;
    Tacka tjeme_2;
    Tacka tjeme_3;
    public:
  
    Trougao(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3){
        
       
        
        if(Orijentacija(t1, t2, t3) == 0) throw domain_error("Nekorektne pozicije tjemena");
        tjeme_1 = t1;
        tjeme_2 = t2;
        tjeme_3 = t3;
    }
    
    void Postavi(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3){
       
        
        if(Orijentacija(t1,t2,t3) == 0) throw domain_error("Nekorektne pozicije tjemena");
        tjeme_1 = t1; 
        tjeme_2 = t2;
        tjeme_3 = t3;
        
    }
    
    void Postavi(int indeks, const Tacka &amp;t){
        if(indeks&lt;1 || indeks&gt;3) throw range_error ("Nekorektan indeks");
        if(indeks==1) tjeme_1 = t;
        else if (indeks==2) tjeme_2 = t;
        else if (indeks==3) tjeme_3 = t;
    }
    
    static int Orijentacija (const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3){
        if(ProvjeraOrijentacije(t1,t2,t3)&lt;0) return -1;
        else if(ProvjeraOrijentacije(t1,t2,t3)&gt;0) return 1;
        else return 0;
        
    }
    
    static double ProvjeraOrijentacije(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3){
      double Orj =(t1.first*(t2.second-t3.second)-t2.first*(t1.second-t3.second)+t3.first*(t1.second-t2.second));
</font><a name="1"></a><font color="#00FF00"><a href="match202-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_35.gif"/></a>

        return Orj;
    }
    
    
    Tacka DajTjeme (int indeks) const{
        if(indeks&lt;1 || indeks&gt;3) throw range_error ("Nekorektan indeks");
        if(indeks==1) return tjeme_1;
        else if(indeks==2) return tjeme_2;
        else return tjeme_3;
        
    }
    
    double DajStranicu (int indeks) const{
        if(indeks&lt;1 ||  indeks&gt;3) throw range_error ("Nekorektan indeks");
        if(indeks==1){double d1=sqrt(pow((tjeme_3.first-tjeme_2.first),2)+pow((tjeme_3.second-tjeme_2.second),2)); return d1;}
        else if(indeks==2){double d2=sqrt(pow((tjeme_1.first-tjeme_3.first),2)+pow((tjeme_1.second-tjeme_3.second),2)); return d2;}
        else{double d3=sqrt(pow((tjeme_2.first-tjeme_1.first),2)+pow((tjeme_2.second-tjeme_1.second),2)); return d3;}
    }
    
    double DajUgao (int indeks) const{
        if(indeks&lt;1 ||  indeks&gt;3) throw range_error ("Nekorektan indeks");
        double a=DajStranicu(1);
        double b=DajStranicu(2);
        double c=DajStranicu(3);
        if(indeks==1) {
           double a1=acos((c*c+b*b-(a*a))/(2*b*c)) * 180 / 3.14159265;
            return a1;
        }
           else if(indeks==2){
           double b1=acos((a*a+c*c-(b*b))/(2*a*c)) * 180 / 3.14159265;
               return b1;
           }
           else{
           double c1=acos((a*a+b*b-(c*c))/(2*a*b)) * 180 / 3.14159265;
           return c1;
           }
    }
    
    Tacka DajCentar () const{
        Tacka rezultat;
        rezultat.first=((tjeme_1.first+tjeme_2.first+tjeme_3.first)/3);
        rezultat.second=((tjeme_1.second+tjeme_2.second+tjeme_3.second)/3);
        return rezultat;
    }
    
    double DajObim () const{
        double a=DajStranicu(1);
        double b=DajStranicu(2);
        double c=DajStranicu(3);
        double obim=a+b+c;
        return obim;
    }
    
    double DajPovrsinu () const{
        double povrsina=(1/2*(fabs(ProvjeraOrijentacije(tjeme_1,tjeme_2,tjeme_3))));
        return povrsina;
    }
    bool DaLiJePozitivnoOrijentiran () const{
        if(ProvjeraOrijentacije(tjeme_1, tjeme_2, tjeme_3)&gt;0) return true;
        else return false;
    }
    
    bool DaLiJeUnutra (const Tacka &amp;t) const{
        
              double prvaOr = ProvjeraOrijentacije(tjeme_1, tjeme_2, t);
              double drugaOr = ProvjeraOrijentacije(tjeme_2, tjeme_3, t);
              double trecaOr = ProvjeraOrijentacije(tjeme_3, tjeme_1, t);
              
        if(this -&gt; DaLiJePozitivnoOrijentiran()){      
              if (prvaOr &gt; 0 &amp;&amp; drugaOr &gt; 0 &amp;&amp; trecaOr &gt; 0) return true;
        }
        
        else if(!(this -&gt; DaLiJePozitivnoOrijentiran())){
            if(prvaOr &lt; 0 &amp;&amp; drugaOr &lt; 0 &amp;&amp; trecaOr &lt; 0) return true;
        }
        
        return false;
    }
    
    void Ispisi () const{
       cout&lt;&lt;"(("&lt;&lt;tjeme_1.first&lt;&lt;","&lt;&lt;tjeme_1.second&lt;&lt;"),("&lt;&lt;tjeme_2.first&lt;&lt;","&lt;&lt;tjeme_2.second&lt;&lt;"),("&lt;&lt;tjeme_3.first&lt;&lt;","&lt;&lt;tjeme_3.second&lt;&lt;"))";
    }
    
    void Transliraj (double delta_x, double delta_y){
        Tacka novo_t1;
        Tacka novo_t2;
        Tacka novo_t3;
        
        novo_t1.first = tjeme_1.first + delta_x;
        novo_t2.first = tjeme_2.first + delta_x;
        novo_t3.first = tjeme_3.first + delta_x;
</font>        
<a name="0"></a><font color="#FF0000"><a href="match202-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_42.gif"/></a>

        novo_t1.second = tjeme_1.second + delta_y;
        novo_t2.second = tjeme_2.second + delta_y;
        novo_t3.second = tjeme_3.second + delta_y;
        
        tjeme_1 = novo_t1;
        tjeme_2 = novo_t2;
        tjeme_3 = novo_t3;
    }
    
    void Centriraj (const Tacka &amp;t){
        Tacka Centar = this -&gt; DajCentar();
        double delta_x = t.first - Centar.first;
        double delta_y = t.second - Centar.second;
        
        this -&gt; Transliraj(delta_x, delta_y);
    }
    
    void Rotiraj (const Tacka &amp;t, double ugao){
         tjeme_1 = rotirajTacku(tjeme_1, t, ugao);
         tjeme_2 = rotirajTacku(tjeme_2, t, ugao);
         tjeme_3 = rotirajTacku(tjeme_3, t, ugao);
    }
    
    void Skaliraj (const Tacka &amp;t, double faktor){
        tjeme_1 = skalirajTacku(tjeme_1, t, faktor);
        tjeme_2 = skalirajTacku(tjeme_2, t, faktor);
        tjeme_3 = skalirajTacku(tjeme_3, t, faktor);
    }
    
    void Rotiraj(double ugao){
        Tacka centar = this -&gt; DajCentar();
        
        tjeme_1 = rotirajTacku(tjeme_1, centar, ugao);
        tjeme_2 = rotirajTacku(tjeme_2, centar, ugao);
        tjeme_3 = rotirajTacku(tjeme_3, centar, ugao);
    }
    
    void Skaliraj(double faktor){
        Tacka centar = this -&gt; DajCentar();
        
        
        tjeme_1 = skalirajTacku(tjeme_1, centar, faktor);
        tjeme_2 = skalirajTacku(tjeme_2, centar, faktor);
        tjeme_3 = skalirajTacku(tjeme_3, centar, faktor);
    }
    
    friend bool DaLiSuIdenticni ( const Trougao &amp;t1, const Trougao &amp;t2){
        
        if( ( JednakeTacke(t1.DajTjeme(1), t2.DajTjeme(1)) || JednakeTacke(t1.DajTjeme(1), t2.DajTjeme(2)) || JednakeTacke(t1.DajTjeme(1), t2.DajTjeme(3)) )
            &amp;&amp; ( JednakeTacke(t1.DajTjeme(2), t2.DajTjeme(1)) || JednakeTacke(t1.DajTjeme(2), t2.DajTjeme(2)) || JednakeTacke(t1.DajTjeme(2), t2.DajTjeme(3)) )
            &amp;&amp; ( JednakeTacke(t1.DajTjeme(3), t2.DajTjeme(1)) || JednakeTacke(t1.DajTjeme(3), t2.DajTjeme(2)) || JednakeTacke(t1.DajTjeme(3), t2.DajTjeme(3)) )
            ) return true;
        else return false;
    }
    
    friend bool DaLiSuPodudarni ( const Trougao &amp;t1, const Trougao &amp;t2){
        int counter = 0;
        double Ugao = 0.5; 
        Tacka noviCentar(100,100);
        
        Trougao nov_t1(t1.DajTjeme(1), t1.DajTjeme(2), t1.DajTjeme(3));
        Trougao nov_t2(t2.DajTjeme(1), t2.DajTjeme(2), t2.DajTjeme(3)); 
        
        nov_t1.Centriraj(noviCentar);
        nov_t2.Centriraj(noviCentar);
        
        do{
            nov_t2.Rotiraj(Ugao);
            Ugao += 0.5;
            counter ++;
        }while(DaLiSuIdenticni(t1, t2) == false &amp;&amp; counter &lt; 720);
        
        if(DaLiSuIdenticni(nov_t1,nov_t2)) return true;
        else return false;
    }
    
    friend bool DaLiSuSlicni (const Trougao &amp;t1, const Trougao &amp;t2){
        double stranica1, stranica2, stranica3;
         stranica1 = t1.DajStranicu(1);
         stranica2 = t1.DajStranicu(2);
         stranica3 = t1.DajStranicu(3);
         
         long double stranice1[3] = {stranica1, stranica2, stranica3};
         sort(stranice1, stranice1+3);
         
         double stranica4, stranica5, stranica6;
         stranica4 = t2.DajStranicu(1);
         stranica5 = t2.DajStranicu(2);
         stranica6 = t2.DajStranicu(3);
         
         long double stranice2[3] = {stranica4, stranica5, stranica6};
         sort(stranice2, stranice2+3);
         
         if( Jednaki(stranice1[0] * stranice2[1], stranice2[0] * stranice1[1]) 
            &amp;&amp; Jednaki(stranice1[2]*stranice2[1], stranice2[2] * stranice1[1]))
            return true;
        return false;
    }
    
    private:
        
        static bool Jednaki(double a, double b){
            double y = 0.0000000001;
            
            if((a-b) &lt; y) return true;
            else return false;
        }
        
        static bool JednakeTacke(const Tacka &amp;t1, const Tacka &amp;t2)
        {
            if(Jednaki(t1.first, t2.first) &amp;&amp; Jednaki(t1.second, t2.second)) return true;
            return false;
        }
        
        static Tacka rotirajTacku(Tacka &amp;zaRot, const Tacka &amp;t, double ugao1)
        {
            Tacka rez;
            double ugao = (ugao1 * 3.14159265 / 180);
            
            rez.first = t.first + (zaRot.first - t.first) * cos(ugao) - (zaRot.second - t.second) * sin(ugao);
</font><a name="3"></a><font color="#00FFFF"><a href="match202-0.html#3" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_4.gif"/></a>

            rez.second = t.second + (zaRot.first - t.first) * sin(ugao) + (zaRot.second - t.second) * cos(ugao);
            
            return rez; 
        }
        
        static Tacka skalirajTacku(Tacka &amp;zaSkal, const Tacka &amp;t, double faktor)
        {
            Tacka rez;
            
            rez.first = t.first + (faktor * (zaSkal.first - t.first));
            rez.second = t.second + (faktor * (zaSkal.second - t.second));
            
            
            
            return rez;
        }
    
};

int main ()
</font>{/*
    cout&lt;&lt;"Koliko zelite kreirati trouglova: ";
    int broj_trouglova;
    cin&gt;&gt;broj_trouglova;
    
    
        vector&lt;shared_ptr&lt;Trougao&gt;&gt; p(broj_trouglova, nullptr);
        Tacka t1, t2, t3;
         
         int i=0;
         while(i&lt;broj_trouglova){
             cout&lt;&lt;"Unesite podatke za "&lt;&lt;i+1&lt;&lt;". trougao (x1 y1 x2 y2 x3 y3): ";
             cin&gt;&gt;t1.first&gt;&gt;t1.second&gt;&gt;t2.first&gt;&gt;t2.second&gt;&gt;t3.first&gt;&gt;t3.second;
             try{
                 p[i]=shared_ptr&lt;Trougao&gt;(new Trougao (t1,t2,t3));}
                 catch(domain_error e){
                     cout&lt;&lt;e.what()&lt;&lt;endl;
                     i++;
                 }
         
                 i++;
             }
    
    
    cout&lt;&lt;"Unesite vektor translacije (dx dy): ";
    double deltaX,deltaY, faktor_skaliranja, ugao_rotacije;
    cin&gt;&gt;deltaX&gt;&gt;deltaY;
    cout&lt;&lt;"Unesite ugao rotacije: ";
    cin&gt;&gt;ugao_rotacije;
    cout&lt;&lt;"Unesite faktor skaliranja: ";
    cin&gt;&gt;faktor_skaliranja;
    
    transform(p.begin(), p.end(),p.begin(), [deltaX,deltaY,ugao_rotacije,faktor_skaliranja](const shared_ptr&lt;Trougao&gt; &amp;tro1){
                                                    tro1 -&gt; Transliraj(deltaX, deltaY);
                                                    tro1 -&gt; Rotiraj(ugao_rotacije);
                                                    tro1 -&gt; Skaliraj(tro1-&gt;DajTjeme(1), faktor_skaliranja);
                                                    return tro1;
                                                });
    sort(p.begin(),p.end(),[](const shared_ptr&lt;Trougao&gt; &amp;tro1, const shared_ptr&lt;Trougao&gt; &amp;tro2){
                                                    return tro1 -&gt; DajPovrsinu() &lt; tro2 -&gt; DajPovrsinu();
                                                });
    auto min (*min_element(p.begin(), p.end(), [](const shared_ptr&lt;Trougao&gt; &amp;tro1, const shared_ptr&lt;Trougao&gt; &amp;tro2){
                                                    return tro1 -&gt; DajObim() &lt; tro2 -&gt; DajObim();
                                                })) ;
    
    cout &lt;&lt; "Trouglovi nakon obavljenih transformacija: " &lt;&lt; endl;
                  
    for_each(p.begin(), p.end(), [](const shared_ptr&lt;Trougao&gt; &amp;tro1){
                                                    tro1 -&gt; Ispisi();
                                                    cout &lt;&lt; endl;
                                                });
                                                
    cout &lt;&lt; "Trougao sa najmanjim obimom: ";
    min -&gt; Ispisi(); 
    cout &lt;&lt; endl;
    
    cout &lt;&lt; "Parovi identicnih trouglova: " &lt;&lt; endl;
    for(int i = 0; i &lt; p.size(); i++)
    {
        for(int j = i+1; j &lt; p.size(); j++)
        {
            if(DaLiSuIdenticni(*const_cast&lt;Trougao*&gt;(p[i].get()), *const_cast&lt;Trougao*&gt;(p[j].get())))
            {
                p[i] -&gt; Ispisi();
                cout &lt;&lt; " i ";
                p[j] -&gt; Ispisi();
                cout &lt;&lt; endl;
            }
        }
    }
                                                
    cout &lt;&lt; "Parovi podudarnih trouglova: " &lt;&lt; endl;
    for(int i = 0; i &lt; p.size(); i++)
    {
        for(int j = i+1; j &lt; p.size(); j++)
        {
            if(DaLiSuPodudarni(*const_cast&lt;Trougao*&gt;(p[i].get()), *const_cast&lt;Trougao*&gt;(p[j].get())))
            {
                p[i] -&gt; Ispisi();
                cout &lt;&lt; " i ";
                p[j] -&gt; Ispisi();
                cout &lt;&lt; endl;
            }
        }
    }
    
    cout &lt;&lt; "Parovi slicnih trouglova: " &lt;&lt; endl;
    for(int i = 0; i &lt; p.size(); i++)
    {
        for(int j = i+1; j &lt; p.size(); j++)
        {
            if(DaLiSuSlicni(*const_cast&lt;Trougao*&gt;(p[i].get()), *const_cast&lt;Trougao*&gt;(p[j].get())))
            {
                p[i] -&gt; Ispisi();
                cout &lt;&lt; " i ";
                p[j] -&gt; Ispisi();
                cout &lt;&lt; endl;
            }
        }
    }
    */
    
	return 0;
}</pre>
</body>
</html>
