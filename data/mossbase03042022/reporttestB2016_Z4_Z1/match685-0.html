<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z1/student8133.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z1/student8133.cpp<p></p><pre>
/B 2016/2017, ZadaÄ‡a 4, Zadatak 1
//Napomena: testovi ce biti dostupni dan pred rok!
#include &lt;iostream&gt;
#include &lt;stdexcept&gt;
#include &lt;cmath&gt;
#include &lt;memory&gt;
#include &lt;vector&gt;
#include &lt;algorithm&gt;

using std::cin;
using std::cout;
using std::endl;

typedef std::pair&lt;double, double&gt; Tacka;

class Trougao{
    Tacka t1, t2, t3;
<a name="0"></a><font color="#FF0000"><a href="match685-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_3.gif"/></a>

    static bool Poredjenje(double x, double y, double eps=1e-10){
        return std::fabs(x-y)&lt;=eps*(std::fabs(y)+std::fabs(x));
    }
    static double F(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3){
        return (t1.first*(t2.second-t3.second)-t2.first*(t1.second-t3.second)+t3.first*(t1.second-t2.second));
    }
public:
    Trougao(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3){ 
        if(Orijentacija(t1,t2,t3)==0) throw std::domain_error("Nekorektne pozicije tjemena");
</font>        Postavi(t1,t2,t3); 
    }
    void Postavi(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3){ 
        if(Orijentacija(t1,t2,t3)==0) throw std::domain_error("Nekorektne pozicije tjemena");
        Trougao::t1=t1; Trougao::t2=t2; Trougao::t3=t3;
    }
    void Postavi(int indeks, const Tacka &amp;t){
        if(indeks&lt;=0 || indeks&gt;3) throw std::range_error("Nekorektan indeks");
        if(indeks==1) t1=t;
        else if(indeks==2) t2=t;
        else t3=t;
    }
    static int Orijentacija(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3){
        if(F(t1,t2,t3)&gt;0) return 1;
        if(F(t1,t2,t3)&lt;0) return -1;
        else return 0;
    }
    Tacka DajTjeme(int indeks) const{
        if(indeks&lt;=0 || indeks&gt;3) throw std::range_error("Nekorektan indeks");
        if(indeks==1) return t1;
        else if(indeks==2) return t2;
        else return t3;
    }
    double DajStranicu(int indeks) const{
        if(indeks&lt;=0 || indeks&gt;3) throw std::range_error("Nekorektan indeks");
        if(indeks==1) return std::sqrt((t2.first-t3.first)*(t2.first-t3.first)+(t2.second-t3.second)*(t2.second-t3.second));
        else if(indeks==2) return std::sqrt((t1.first-t3.first)*(t1.first-t3.first)+(t1.second-t3.second)*(t1.second-t3.second));
        else return std::sqrt((t1.first-t2.first)*(t1.first-t2.first)+(t1.second-t2.second)*(t1.second-t2.second));
    }
    double DajUgao(int indeks) const;
    
    Tacka DajCentar() const{
        Tacka t;
        t.first=(t1.first+t2.first+t3.first)/3;
        t.second=(t1.second+t2.second+t3.second)/3;
        return t;
    }
    double DajObim() const{
        return DajStranicu(1)+DajStranicu(2)+DajStranicu(3);
    }
    double DajPovrsinu() const{
        return (1./2)*abs(F(t1,t2,t3));
    }
    bool DaLiJePozitivnoOrijentiran() const{
        if(Orijentacija(t1,t2,t3)==1) return 1;
        else if(Orijentacija(t1,t2,t3)==-1) return 0;
    }
    bool DaLiJeUnutra(const Tacka &amp;t) const{
        if(Orijentacija(t1,t2,t3)==Orijentacija(t1,t2,t)==Orijentacija(t2,t3,t)==Orijentacija(t3,t1,t)) return true;
        else return false;
    }
    void Ispisi() const{
        cout&lt;&lt;"(("&lt;&lt;t1.first&lt;&lt;","&lt;&lt;t1.second&lt;&lt;"),("&lt;&lt;t2.first&lt;&lt;","&lt;&lt;t2.second&lt;&lt;"),("&lt;&lt;t3.first&lt;&lt;","&lt;&lt;t3.second&lt;&lt;"))";
    }
    void Transliraj(double delta_x, double delta_y){
        t1.first+=delta_x; t1.second+=delta_y;
        t2.first+=delta_x; t2.second+=delta_y;
        t3.first+=delta_x; t3.second+=delta_y;
    }
    void Centriraj(const Tacka &amp;t){
<a name="4"></a><font color="#FF00FF"><a href="match685-1.html#4" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_0.gif"/></a>

       double delta_x=DajCentar().first-t.first;
       double delta_y=DajCentar().second-t.second;
       Transliraj(delta_x, delta_y);
    }
    void Rotiraj(const Tacka &amp;t, double ugao);
</font>    void Skaliraj(const Tacka &amp;t, double faktor);
    void Rotiraj(double ugao){
        Tacka t(DajCentar());
        Rotiraj(t, ugao);
    }
    void Skaliraj(double faktor){
        if(Poredjenje(faktor, 0)==true) throw std::domain_error("Nekorektan faktor skaliranja");
        Tacka t(DajCentar());
        Skaliraj(t, faktor);
    }
    
    friend bool DaLiSuIdenticni(const Trougao &amp;t1, const Trougao &amp;t2);
    friend bool DaLiSuPodudarni(const Trougao &amp;t1, const Trougao &amp;t2);
    friend bool DaLiSuSlicni(const Trougao &amp;t1, const Trougao &amp;t2);

};

double Trougao::DajUgao(int indeks) const{
        if(indeks&lt;=0 || indeks&gt;3) throw std::range_error("Nekorektan indeks");
        double a(DajStranicu(1));
        double b(DajStranicu(2));
        double c(DajStranicu(3));
        if(indeks==1){
            double u1=(b*b+c*c-a*a)/(2*b*c);
            return std::acos(u1);
        }
        else if(indeks==2){
            double u2=(a*a+c*c-b*b)/(2*a*c);
            return std::acos(u2);
        }
        else{
            double u3=(a*a+b*b-c*c)/(2*b*a);
            return std::acos(u3);
        }
    }
    
    void Trougao::Rotiraj(const Tacka &amp;t, double ugao){
        Tacka pom1, pom2, pom3;
        pom1.first=t.first+(t1.first-t.first)*std::cos(ugao)-(t1.second-t.second)*std::sin(ugao);
        pom1.second=t.second+(t1.first-t.first)*std::sin(ugao)+(t1.second-t.second)*std::cos(ugao);
        pom2.first=t.first+(t2.first-t.first)*std::cos(ugao)-(t2.second-t.second)*std::sin(ugao);
        pom2.second=t.second+(t2.first-t.first)*std::sin(ugao)+(t2.second-t.second)*std::cos(ugao);
        pom3.first=t.first+(t3.first-t.first)*std::cos(ugao)-(t3.second-t.second)*std::sin(ugao);
        pom3.second=t.second+(t3.first-t.first)*std::sin(ugao)+(t3.second-t.second)*std::cos(ugao);
        t1=pom1; t2=pom2; t3=pom3;
    }
    void Trougao::Skaliraj(const Tacka &amp;t, double faktor){
        if(Poredjenje(faktor, 0)==true) throw std::domain_error("Nekorektan faktor skaliranja");
        Tacka pom1, pom2, pom3;
        pom1.first=t.first+faktor*(t1.first-t.first);
        pom1.second=t.second+faktor*(t1.second-t.second);
        pom2.first=t.first+faktor*(t2.first-t.first);
        pom2.second=t.second+faktor*(t2.second-t.second);
        pom3.first=t.first+faktor*(t3.first-t.first);
        pom3.second=t.second+faktor*(t3.second-t.second);
        t1=pom1; t2=pom2; t3=pom3;
    }
    
    bool DaLiSuIdenticni(const Trougao &amp;t1, const Trougao &amp;t2){
        std::vector&lt;Tacka&gt;v1;
        std::vector&lt;Tacka&gt;v2;
        v1.push_back(t1.Trougao::t1);
        v1.push_back(t1.Trougao::t2);
        v1.push_back(t1.Trougao::t3);
        v2.push_back(t2.Trougao::t1);
        v2.push_back(t2.Trougao::t2);
        v2.push_back(t2.Trougao::t3);
        std::vector&lt;double&gt;vs1(3);
        std::vector&lt;double&gt;vs2(3);
        for(int i=0;i&lt;3;i++){
            vs1[i]=t1.DajStranicu(i+1);
            vs2[i]=t2.DajStranicu(i+1);
        }
        for(int i=0;i&lt;3;i++){
            for(int j=i+1;j&lt;3;j++){
                if(vs1[i]&gt;vs1[j]) {
                    std::swap(vs1[i], vs1[j]);
                    std::swap(v1[i], v1[j]);
                }
            }
        }
        for(int i=0;i&lt;3;i++){
            for(int j=i+1;j&lt;3;j++){
                if(vs2[i]&gt;vs2[j]) {
                    std::swap(vs2[i], vs2[j]);
                    std::swap(v2[i], v2[j]);
                }
            }
        }
        bool identicni(true);
        for(int i=0;i&lt;3;i++){
            if(!(Trougao::Poredjenje(v1[i].first, v2[i].first)) || !(Trougao::Poredjenje(v1[i].second, v2[i].second))) identicni=false;
        }
        return identicni;
    }
    
    bool DaLiSuPodudarni(const Trougao &amp;t1, const Trougao &amp;t2){
        std::vector&lt;Tacka&gt;v1;
        std::vector&lt;Tacka&gt;v2;
        v1.push_back(t1.Trougao::t1);
        v1.push_back(t1.Trougao::t2);
        v1.push_back(t1.Trougao::t3);
        v2.push_back(t2.Trougao::t1);
        v2.push_back(t2.Trougao::t2);
        v2.push_back(t2.Trougao::t3);
        std::vector&lt;double&gt;vs1(3);
        std::vector&lt;double&gt;vs2(3);
        for(int i=0;i&lt;3;i++){
            vs1[i]=t1.DajStranicu(i+1);
            vs2[i]=t2.DajStranicu(i+1);
        }
        std::vector&lt;double&gt;vu1(3);
        std::vector&lt;double&gt;vu2(3);
        for(int i=0;i&lt;3;i++){
            vu1[i]=t1.DajUgao(i+1);
            vu2[i]=t2.DajUgao(i+1);
        }
        for(int i=0;i&lt;3;i++){
            for(int j=i+1;j&lt;3;j++){
                if(vs1[i]&gt;vs1[j]){
                    std::swap(vs1[i], vs1[j]);
                    std::swap(v1[i], v1[j]);
                    std::swap(vu1[i], vu1[j]);
                        
                }
            }
        }
        for(int i=0;i&lt;3;i++){
            for(int j=i+1;j&lt;3;j++){
                if(vs2[i]&gt;vs2[j]){
                    std::swap(vs2[i], vs2[j]);
                    std::swap(v2[i], v2[j]);
                    std::swap(vu2[i], vu2[j]);
                }
            }
        }
        bool podudarni(true);
        for(int i=0;i&lt;3;i++){
            if(!Trougao::Poredjenje(vs1[i],vs2[i]) || !Trougao::Poredjenje(vu1[i],vu2[i])) podudarni=false;
        }
        if(podudarni==true &amp;&amp; (Trougao::Orijentacija(v1[0], v1[1], v1[2])==Trougao::Orijentacija(v2[0], v2[1], v2[2]))) return true;
        else return false;
    }
    
    bool DaLiSuSlicni(const Trougao &amp;t1, const Trougao &amp;t2){
        std::vector&lt;Tacka&gt;v1;
        std::vector&lt;Tacka&gt;v2;
        v1.push_back(t1.Trougao::t1);
        v1.push_back(t1.Trougao::t2);
        v1.push_back(t1.Trougao::t3);
        v2.push_back(t2.Trougao::t1);
        v2.push_back(t2.Trougao::t2);
        v2.push_back(t2.Trougao::t3);
        std::vector&lt;double&gt;vs1(3);
        std::vector&lt;double&gt;vs2(3);
        double faktor(t1.DajStranicu(1)/t2.DajStranicu(1));
        for(int i=0;i&lt;3;i++){
            vs1[i]=t1.DajStranicu(i+1);
            vs2[i]=t2.DajStranicu(i+1);
        }
        for(int i=0;i&lt;3;i++){
            for(int j=i+1;j&lt;3;j++){
                if(vs1[i]&gt;vs1[j]){
                    std::swap(vs1[i], vs1[j]);
                    std::swap(v1[i], v1[j]);
                }
            }
        }
        for(int i=0;i&lt;3;i++){
            for(int j=i+1;j&lt;3;j++){
                if(vs2[i]&gt;vs2[j]){
                    std::swap(vs2[i], vs2[j]);
                    std::swap(v2[i], v2[j]);
                }
            }
        }
        bool slicni(true);
        for(int i=0;i&lt;3;i++){
            if(!Trougao::Poredjenje(vs1[i]/vs2[i],faktor)) slicni=false;
        }
        if(slicni==true &amp;&amp; (Trougao::Orijentacija(v1[0], v1[1], v1[2])==Trougao::Orijentacija(v2[0], v2[1], v2[2]))) return true;
        else return false;
    }
    

int main ()
{
    cout&lt;&lt;"Koliko zelite kreirati trouglova: ";
    int n;
    cin&gt;&gt;n;
<a name="5"></a><font color="#FF0000"><a href="match685-1.html#5" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_0.gif"/></a>

    std::vector&lt;std::shared_ptr&lt;Trougao&gt;&gt;v;
    
    for(int i=0;i&lt;n;i++){
        cout&lt;&lt;"Unesite podatke za "&lt;&lt;i+1&lt;&lt;". trougao (x1 y1 x2 y2 x3 y3): ";
</font>        Tacka t1,t2,t3;
        cin&gt;&gt;t1.first&gt;&gt;t1.second;
        cin&gt;&gt;t2.first&gt;&gt;t2.second;
        cin&gt;&gt;t3.first&gt;&gt;t3.second;
        try{
            auto p(std::make_shared&lt;Trougao&gt;(t1,t2,t3));
            v.push_back(p);
        }
        catch(std::domain_error iz){
            cout&lt;&lt;iz.what()&lt;&lt;", ponovite unos!"&lt;&lt;endl;
            i--;
        }
    }
    cout&lt;&lt;"Unesite vektor translacije (dx dy): ";
    double dx,dy;
    cin&gt;&gt;dx&gt;&gt;dy;
    cout&lt;&lt;"Unesite ugao rotacije: ";
    double ugao;
    cin&gt;&gt;ugao;
    cout&lt;&lt;"Unesite faktor skaliranja: ";
    double faktor;
    cin&gt;&gt;faktor;
    std::transform(v.begin(), v.end(), v.begin(), [=] (std::shared_ptr&lt;Trougao&gt;pok){
        pok-&gt;Transliraj(dx,dy);
        pok-&gt;Rotiraj(ugao);
        pok-&gt;Skaliraj(pok-&gt;DajTjeme(1), faktor);
        return pok;
    });
    std::sort(v.begin(), v.end(), [=] (std::shared_ptr&lt;Trougao&gt;pok1, std::shared_ptr&lt;Trougao&gt;pok2){
       return pok1-&gt;DajPovrsinu()&lt;pok2-&gt;DajPovrsinu();
    });
    cout&lt;&lt;"Trouglovi nakon obavljenih transformacija: ";
    std::for_each(v.begin(), v.end(), [=] (std::shared_ptr&lt;Trougao&gt;pok){ 
        cout&lt;&lt;endl;
        pok-&gt;Ispisi();
    });
    auto it=std::min_element(v.begin(), v.end(), [=] (std::shared_ptr&lt;Trougao&gt;pok1, std::shared_ptr&lt;Trougao&gt;pok2){
        return pok1-&gt;DajObim()&lt;pok2-&gt;DajObim();
    });
    cout&lt;&lt;endl;
    cout&lt;&lt;"Trougao sa najmanjim obimom: ";
    (*it)-&gt;Ispisi();
    cout&lt;&lt;endl;
    
    bool identicni(false);
    for(int i=0;i&lt;n;i++){
        for(int j=i+1;j&lt;n;j++){
            if(DaLiSuIdenticni(*v[i], *v[j])) identicni=true;
        }
    }
    if(!identicni) cout&lt;&lt;"Nema identicnih trouglova!"&lt;&lt;endl;
    else{
<a name="1"></a><font color="#00FF00"><a href="match685-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_2.gif"/></a>

        cout&lt;&lt;"Parovi identicnih trouglova:"&lt;&lt;endl;
        for(int i=0;i&lt;n;i++){
            for(int j=i+1;j&lt;n;j++){
                if(DaLiSuIdenticni(*v[i], *v[j])){
                    v[i]-&gt;Ispisi();
                    cout&lt;&lt;" i ";
                    v[j]-&gt;Ispisi();
                    cout&lt;&lt;endl;
                }
            }
        }
    }
    bool podudarni(false);
</font>    for(int i=0;i&lt;n;i++){
        for(int j=i+1;j&lt;n;j++){
            if(DaLiSuPodudarni(*v[i], *v[j])) podudarni=true;
        }
    }
    if(!podudarni) cout&lt;&lt;"Nema podudarnih trouglova!"&lt;&lt;endl;
    else{
<a name="2"></a><font color="#0000FF"><a href="match685-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_2.gif"/></a>

        cout&lt;&lt;"Parovi podudarnih trouglova:"&lt;&lt;endl;
        for(int i=0;i&lt;n;i++){
            for(int j=i+1;j&lt;n;j++){
                if(DaLiSuPodudarni(*v[i], *v[j])){
                    v[i]-&gt;Ispisi();
                    cout&lt;&lt;" i ";
                    v[j]-&gt;Ispisi();
                    cout&lt;&lt;endl;
                }
            }
        }
    }
    bool slicni(false);
</font>    for(int i=0;i&lt;n;i++){
        for(int j=i+1;j&lt;n;j++){
            if(DaLiSuPodudarni(*v[i], *v[j])) slicni=true;
        }
    }
    if(!slicni) cout&lt;&lt;"Nema slicnih trouglova!"&lt;&lt;endl;
    else{
<a name="3"></a><font color="#00FFFF"><a href="match685-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_2.gif"/></a>

        cout&lt;&lt;"Parovi slicnih trouglova:"&lt;&lt;endl;
        for(int i=0;i&lt;n;i++){
            for(int j=i+1;j&lt;n;j++){
                if(DaLiSuPodudarni(*v[i], *v[j])){
                    v[i]-&gt;Ispisi();
                    cout&lt;&lt;" i ";
                    v[j]-&gt;Ispisi();
                    cout&lt;&lt;endl;
                }
            }
        }
    }
    
	return 0;
</font>}</pre>
</body>
</html>
