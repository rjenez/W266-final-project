<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z1/student3178.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z1/student3178.cpp<p></p><pre>
#include &lt;new&gt;
#include &lt;memory&gt;
#include &lt;vector&gt;
#include &lt;string&gt;
#include &lt;cstring&gt;
#include &lt;iostream&gt;
#include &lt;utility&gt;
#include &lt;stdexcept&gt;
#include &lt;algorithm&gt;
#include &lt;cmath&gt;
#include &lt;iomanip&gt;

typedef std::pair&lt;double, double&gt; Tacka;
const double Eps = 1e-10;

class Trougao{
    std::vector&lt;Tacka&gt; tjemena;  //tjemena(3,std:make_pair(0,0));
    
    static bool JesuLiJednaki(double x, double y,double Eps = 1e-10){
        return (std::fabs(x-y) &lt;= Eps*(std::fabs(x) + std::fabs(y)));
    }
    
    static double DajDuzinuDuzi(Tacka t1, Tacka t2) {
        double d;
        d = sqrt((t2.first - t1.first)*(t2.first - t1.first) + (t2.second - t1.second)*(t2.second - t1.second));
        return d;
    }
   
   static double DajIzraz(Tacka t1, Tacka t2, Tacka t3) {
       return (t1.first*(t2.second - t3.second) +  t2.first*(t1.second - t3.second) +  t3.first*(t1.second - t2.second));
   }
   static Trougao PreurediTjemena(Trougao t){
       if(t.DajUgao(1)&gt;t.DajUgao(2)) std::swap(t.tjemena[0],t.tjemena[1]);
       if(t.DajUgao(2)&gt;t.DajUgao(3)) std::swap(t.tjemena[1],t.tjemena[2]);
       if(t.DajUgao(1)&gt;t.DajUgao(3)) std::swap(t.tjemena[0],t.tjemena[2]);
       return t;
   }


 static bool JesuLiJednakeStranice(Trougao t1, Trougao t2) {
       double a1=t1.DajDuzinuDuzi(t1.tjemena[0],t1.tjemena[1]);
       double b1=t1.DajDuzinuDuzi(t1.tjemena[1],t1.tjemena[2]);
       double c1=t1.DajDuzinuDuzi(t1.tjemena[0],t1.tjemena[2]);
       double a2=t2.DajDuzinuDuzi(t2.tjemena[0],t2.tjemena[1]);
       double b2=t2.DajDuzinuDuzi(t2.tjemena[1],t2.tjemena[2]);
       double c2=t2.DajDuzinuDuzi(t2.tjemena[0],t2.tjemena[2]);
       if((Trougao::JesuLiJednaki(a1,a2) &amp;&amp; Trougao::JesuLiJednaki(b1,b2) &amp;&amp; Trougao::JesuLiJednaki(c1,c2)) || (Trougao::JesuLiJednaki(a1,a2) &amp;&amp; Trougao::JesuLiJednaki(b1,c2) &amp;&amp; Trougao::JesuLiJednaki(c1,b2)) || (Trougao::JesuLiJednaki(a1,b2) &amp;&amp; Trougao::JesuLiJednaki(b1,a2) &amp;&amp; Trougao::JesuLiJednaki(c1,c2)) || (Trougao::JesuLiJednaki(a1,b2) &amp;&amp; Trougao::JesuLiJednaki(c1,a2) &amp;&amp; Trougao::JesuLiJednaki(b1,c2)) || (Trougao::JesuLiJednaki(a1,c2) &amp;&amp; Trougao::JesuLiJednaki(b1,a2) &amp;&amp; Trougao::JesuLiJednaki(c1,b2)) || (Trougao::JesuLiJednaki(a1,c2) &amp;&amp; Trougao::JesuLiJednaki(b1,b2) &amp;&amp; Trougao::JesuLiJednaki(c1,a2)) ||  (Trougao::JesuLiJednaki(a1,a2) &amp;&amp; Trougao::JesuLiJednaki(b1,b2) &amp;&amp; Trougao::JesuLiJednaki(c1,a2))  ){
        return true;}
       else return false;
   }
   
 //   static bool JesuLiProporcionalneStranice(Trougao t1, Trougao t2) {    
 
 //   }
    
    public:

Trougao(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3){
    if(Trougao::Orijentacija(t1,t2,t3) == 0) throw std::domain_error("Nekorektne pozicije tjemena");
    Postavi(t1,t2,t3);
}

void Postavi(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3);
void Postavi(int indeks, const Tacka &amp;t);
static int Orijentacija(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3);

Tacka DajTjeme(int indeks) const{ 
     if(indeks != 1 || indeks !=2 || indeks !=3) throw std::range_error("Nekorektan indeks");
     return tjemena[indeks-1]; }

double DajStranicu(int indeks) const;
double DajUgao(int indeks) const;

Tacka DajCentar() const;

double DajObim() const{
     return (Trougao::DajDuzinuDuzi(tjemena[0],tjemena[1]) + Trougao::DajDuzinuDuzi(tjemena[0],tjemena[2]) + Trougao::DajDuzinuDuzi(tjemena[1],tjemena[2]));//legitivmno?
}

double DajPovrsinu() const{
    double povrsina;
    povrsina = (1/2)* std::fabs(DajIzraz(tjemena[0],tjemena[1],tjemena[2]));//da li je ovo legitiman poziv privtnih atributa)??
    return povrsina;
}

bool DajLiJePozitivnoOrijentiran() const{
    int n;
    n=Trougao::Orijentacija(tjemena[0],tjemena[1],tjemena[2]);
    if(Trougao::JesuLiJednaki(n,1)) //OVDE MOZDA NIJE MORALO SA JESI LIO JEFNALKI
    return true;
    else return false;
}

bool DajLiJeUnutra(const Tacka &amp;t ) const;
void Ispisi() const;
void Transliraj(double delta_x, double delta_y);
void Centriraj(const Tacka &amp;t);
void Rotiraj(const Tacka &amp;t, double ugao);
void Skaliraj(const Tacka &amp;t, double faktor);
void Rotiraj( double ugao);
void Skaliraj(double faktor);
friend bool DaLiSuIdenticni(const Trougao &amp;t1, const Trougao &amp;t2);
friend bool DaLiSuPodudarni(const Trougao &amp;t1, const Trougao &amp;t2);
friend bool DaLiSuSlicni(const Trougao &amp;t1, const Trougao &amp;t2);
};



void Trougao::Postavi(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3){
    if(Trougao::Orijentacija(t1,t2,t3)==0) throw std::domain_error("Nekorektne pozicije tjemena");
    
<a name="0"></a><font color="#FF0000"><a href="match862-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_1.gif"/></a>

    tjemena[0].first=t1.first; 
    tjemena[0].second=t1.second;
    tjemena[1].first=t2.first; 
    tjemena[1].second=t2.second;
    tjemena[2].first=t3.first; 
    tjemena[2].second=t3.second;
</font>}

void Trougao::Postavi(int indeks, const Tacka &amp;t){
    if(indeks != 1 || indeks !=2 || indeks !=3) throw std::range_error("Nekorektan indeks");
  //  if(Trougao::Orijentacija(t1,t2,t3)==0) throw std::domain_error("Nekorektne pozicije tjemena");
    
    if(indeks ==1) {
    tjemena[0].first=t.first; 
    tjemena[0].second=t.second;}
    else if(indeks ==2) {
    tjemena[1].first=t.first; 
    tjemena[1].second=t.second;}
    else if(indeks ==3) {
    tjemena[2].first=t.first; 
    tjemena[2].second=t.second;}
}

int Trougao::Orijentacija(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3){
    double indikator;
    indikator = DajIzraz(t1,t2,t3);
    if ((indikator&gt;0) &amp;&amp; !JesuLiJednaki(indikator,0)) return 1;
    if (JesuLiJednaki(indikator,0)) return 0;
    if ((indikator&lt;0) &amp;&amp; !JesuLiJednaki(indikator,0)) return -1; 
}

double Trougao::DajStranicu(int indeks) const{
    if(indeks != 1 || indeks !=2 || indeks !=3) throw std::range_error("Nekorektan indeks");
    double duzina{0};
    if(indeks==1){ duzina=DajDuzinuDuzi(tjemena[1], tjemena[2]);}
    else if(indeks==2){ duzina=DajDuzinuDuzi(tjemena[0], tjemena[2]);}
    else if(indeks==3){ duzina=DajDuzinuDuzi(tjemena[0], tjemena[1]);}
    return duzina;
}

double Trougao::DajUgao(int indeks) const{
     if(indeks != 1 || indeks !=2 || indeks !=3) throw std::range_error("Nekorektan indeks");
     double alfa, beta, gama;
     double a,b,c;
     a=DajDuzinuDuzi(tjemena[1],tjemena[2]);
     b=DajDuzinuDuzi(tjemena[0],tjemena[2]);
     c=DajDuzinuDuzi(tjemena[0],tjemena[1]);
     if(indeks==1){
         alfa= acos((b*b + c*c - a*a)/2*b*c);
         return alfa;}
     else if(indeks==2){
         beta= acos((a*a + c*c - b*b)/2*a*c);
         return beta;}
     else if(indeks==3){
         gama= acos((a*a + b*b - c*c)/2*a*b);
         return gama;}
}


Tacka Trougao::DajCentar() const{
    double x,y;
    x=(tjemena[0].first + tjemena[1].first + tjemena[2].first)/3 ;
    y=(tjemena[0].second + tjemena[1].second + tjemena[2].second)/3;
    return std::make_pair(x,y);
}

bool Trougao::DajLiJeUnutra(const Tacka &amp;t ) const{
    if(Trougao::Orijentacija(tjemena[0],tjemena[1],tjemena[2]) != 0 &amp;&amp; Trougao::Orijentacija(tjemena[0],tjemena[1],tjemena[2]) == Trougao::Orijentacija(tjemena[0],tjemena[1],t) &amp;&amp; Trougao::Orijentacija(tjemena[0],tjemena[1],t) == Trougao::Orijentacija(tjemena[1],tjemena[2],t) &amp;&amp; Trougao::Orijentacija(tjemena[1],tjemena[2],t) == Trougao::Orijentacija(tjemena[2],tjemena[0],t))
    return true;
    else return false;
}

void Trougao::Ispisi() const{
    std::cout&lt;&lt; "((" &lt;&lt; tjemena[0].first &lt;&lt; "," &lt;&lt; tjemena[0].second &lt;&lt;"),(" &lt;&lt; tjemena[1].first &lt;&lt; "," &lt;&lt; tjemena[1].second  &lt;&lt;"),(" &lt;&lt; tjemena[2].first &lt;&lt; "," &lt;&lt; tjemena[2].second  &lt;&lt;"))";
}


    
void Trougao::Rotiraj(const Tacka &amp;t, double ugao){
<a name="6"></a><font color="#00FF00"><a href="match862-1.html#6" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_0.gif"/></a>

    tjemena[0].first = t.first + (tjemena[0].first - t.first)*cos(ugao) - (tjemena[0].second - t.second)*sin(ugao);
</font><a name="1"></a><font color="#00FF00"><a href="match862-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_0.gif"/></a>

    tjemena[0].second = t.second + (tjemena[0].first - t.first)*sin(ugao) + (tjemena[0].second - t.second)*cos(ugao);
    tjemena[1].first = t.first + (tjemena[1].first - t.first)*cos(ugao) - (tjemena[1].second - t.second)*sin(ugao);
</font><a name="7"></a><font color="#0000FF"><a href="match862-1.html#7" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_0.gif"/></a>

    tjemena[1].second = t.second + (tjemena[1].first - t.first)*sin(ugao) + (tjemena[1].second - t.second)*cos(ugao);
</font><a name="2"></a><font color="#0000FF"><a href="match862-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_0.gif"/></a>

    tjemena[2].first = t.first + (tjemena[2].first - t.first)*cos(ugao) - (tjemena[2].second - t.second)*sin(ugao);
</font><a name="8"></a><font color="#00FFFF"><a href="match862-1.html#8" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_0.gif"/></a>

    tjemena[2].second = t.second + (tjemena[2].first - t.first)*sin(ugao) + (tjemena[2].second - t.second)*cos(ugao);
</font><a name="5"></a><font color="#FF0000"><a href="match862-1.html#5" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_0.gif"/></a>

}
</font>
void Trougao::Skaliraj(const Tacka &amp;t, double faktor){
    if(Trougao::JesuLiJednaki(faktor,0)) std::domain_error ("Nekorektan faktor skaliranja");
    tjemena[0].first = t.first + faktor*(tjemena[0].first - t.first);
    tjemena[0].second = t.second + faktor*(tjemena[0].second - t.second);
    tjemena[1].first = t.first + faktor*(tjemena[1].first - t.first);
    tjemena[1].second = t.second + faktor*(tjemena[1].second - t.second);
    tjemena[2].first = t.first + faktor*(tjemena[2].first - t.first);
    tjemena[2].second = t.second + faktor*(tjemena[2].second - t.second);
    
}

void Trougao::Rotiraj( double ugao){
    Tacka t= Trougao::DajCentar();
    tjemena[0].first = t.first + (tjemena[0].first - t.first)*cos(ugao) - (tjemena[0].second - t.second)*sin(ugao);
    tjemena[0].second = t.second + (tjemena[0].first - t.first)*sin(ugao) + (tjemena[0].second - t.second)*cos(ugao);
    tjemena[1].first = t.first + (tjemena[1].first - t.first)*cos(ugao) - (tjemena[1].second - t.second)*sin(ugao);
    tjemena[1].second = t.second + (tjemena[1].first - t.first)*sin(ugao) + (tjemena[1].second - t.second)*cos(ugao);
    tjemena[2].first = t.first + (tjemena[2].first - t.first)*cos(ugao) - (tjemena[2].second - t.second)*sin(ugao);
    tjemena[2].second = t.second + (tjemena[2].first - t.first)*sin(ugao) + (tjemena[2].second - t.second)*cos(ugao);
}

void Trougao::Skaliraj(double faktor){
    if(Trougao::JesuLiJednaki(faktor,0)) std::domain_error ("Nekorektan faktor skaliranja");
    Tacka t = Trougao::DajCentar();
    tjemena[0].first = t.first + faktor*(tjemena[2].first - t.first);
    tjemena[0].second = t.second + faktor*(tjemena[0].second - t.second);
    tjemena[1].first = t.first + faktor*(tjemena[1].first - t.first);
    tjemena[1].second = t.second + faktor*(tjemena[1].second - t.second);
    tjemena[2].first = t.first + faktor*(tjemena[2].first - t.first);
    tjemena[2].second = t.second + faktor*(tjemena[2].second - t.second);
}


void Trougao::Transliraj(double delta_x, double delta_y){
     tjemena[0].first += delta_x;
     tjemena[0].second += delta_y;
     tjemena[1].first += delta_x;
     tjemena[1].second += delta_y;
     tjemena[2].first += delta_x;
     tjemena[2].second += delta_y;
}

void Trougao::Centriraj(const Tacka &amp;t){
<a name="9"></a><font color="#FF00FF"><a href="match862-1.html#9" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_0.gif"/></a>

    Tacka c;
    c = DajCentar();
    double x_raz, y_raz;
    x_raz=t.first - c.first;
    y_raz=t.second - c.second;
</font>    
    tjemena[0].first += x_raz;
    tjemena[0].second += y_raz;
    tjemena[1].first += x_raz;
    tjemena[1].second += y_raz;
    tjemena[2].first += x_raz;
    tjemena[2].second += y_raz;
}
bool DaLiSuIdenticni(const Trougao &amp;t1, const Trougao &amp;t2){
    int brojac{0};
    for(int i=0; i&lt;3; i++){
        for(int j=0; j&lt;3; j++){
            if(t1.JesuLiJednaki(t1.tjemena[i].first, t2.tjemena[j].first) &amp;&amp; t1.JesuLiJednaki(t1.tjemena[i].second, t2.tjemena[j].second)){
        brojac++;
        break;}
    }
}
if(brojac==3) return true;
else return false;
}

bool DaLiSuPodudarni(const Trougao &amp;t1, const Trougao &amp;t2){
   Trougao pomocni1 = Trougao::PreurediTjemena(t1);
   Trougao pomocni2 = Trougao::PreurediTjemena(t2);
   if(Trougao::Orijentacija(pomocni1.tjemena[0], pomocni1.tjemena[1], pomocni1.tjemena[2]) == Trougao::Orijentacija(pomocni2.tjemena[0], pomocni2.tjemena[1], pomocni2.tjemena[2])  &amp;&amp; Trougao::JesuLiJednakeStranice(t1,t2))
          return true;
   return false;
    
}
/*
bool DaLiSuSlicni(const Trougao &amp;t1, const Trougao &amp;t2){
    Trougao pomocni1 = Trougao::PreurediTjemena(t1);
   Trougao pomocni2 = Trougao::PreurediTjemena(t2);
   if(Trougao::Orijentacija(pomocni1.tjemena[0], pomocni1.tjemena[1], pomocni1.tjemena[2]) == Trougao::Orijentacija(pomocni2.tjemena[0], pomocni2.tjemena[1], pomocni2.tjemena[2])  &amp;&amp; Trougao::JesuLiProporcionalneStranice(t1,t2))
          return true;
   return false;
}
*/
int main ()
{
    int n;
    std::cout &lt;&lt; "Koliko zelite kreirati trouglova: "; //da li ovdje bacati izuzetak;
    std::cin&gt;&gt; n;
    
    try{
        std::vector&lt;std::shared_ptr&lt;Trougao&gt;&gt; p(n); 
        for(int i=0; i&lt;n; i++) p[i] = nullptr;
        
        try{
            for(int i=0; i&lt;n; i++){
                Tacka a,b,c;
                double x1,y1,x2,y2,x3,y3;
                std::cout&lt;&lt; "Unesite podatke za "&lt;&lt; i+1 &lt;&lt; " trougao (x1 y1 x2 y2 x3 y3): ";
                std::cin&gt;&gt;  x1 &gt;&gt; y1 &gt;&gt; x2 &gt;&gt; y2 &gt;&gt; x3 &gt;&gt; y3;
                a=std::make_pair(x1,y1);
                b=std::make_pair(x2,y2);
                c=std::make_pair(x3,y3);
                if(Trougao::Orijentacija(a,b,c) == 0) {std::cout&lt;&lt;"Od zadanih tjemena se ne moze formirati trougao, unesite ponovo"; i--; break;}
                p[i]= std::make_shared&lt;Trougao&gt;(a,b,c);//ili push bac?? // poziv kontruktora!!! 
            }
        }
        catch(std::bad_alloc){
            throw;}
<a name="3"></a><font color="#00FFFF"><a href="match862-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_0.gif"/></a>

            double tx, ty;
            double ugao, faktor;
            std::cout &lt;&lt; "Unesite podatke za transliranje (dx, dy): ";
            std::cin &gt;&gt; tx &gt;&gt; ty;
            std::cout &lt;&lt; "Unesite ugao rotacije: ";
            std::cin &gt;&gt; ugao;
</font>            std::cout &lt;&lt; "Unesite faktor skaliranja: ";
            std::cin &gt;&gt; faktor;
<a name="10"></a><font color="#FF0000"><a href="match862-1.html#10" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_0.gif"/></a>

            std::transform(p.begin(), p.begin()+n, p.begin(), [tx, ty, ugao, faktor](std::shared_ptr&lt;Trougao&gt; pok){
                pok-&gt;Transliraj(tx,ty);
                pok-&gt;Rotiraj(pok-&gt;DajCentar(),ugao);
                pok-&gt;Skaliraj(pok-&gt;DajTjeme(1),faktor);
</font>                return pok;});
                
          //
          
         std::sort(p.begin(), p.end(), [](std::shared_ptr&lt;Trougao&gt; pok1, std::shared_ptr&lt;Trougao&gt; pok2 ){return pok1-&gt;DajPovrsinu() &gt; pok2-&gt;DajPovrsinu();});
            
            std::cout &lt;&lt; "Trouglovi, nakon transformacija: " &lt;&lt; std::endl;
<a name="4"></a><font color="#FF00FF"><a href="match862-1.html#4" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_0.gif"/></a>

            std::for_each(p.begin(), p.begin()+n, [](std::shared_ptr&lt;Trougao&gt; pok){//ili for_each
                pok-&gt;Ispisi();
                std::cout &lt;&lt; std::endl;});
            std::cout &lt;&lt; "Trougao sa najmanjim obimom: ";
            auto najmanji=std::min_element(p.begin(), p.begin()+n, [](std::shared_ptr&lt;Trougao&gt; pok1, std::shared_ptr&lt;Trougao&gt; pok2){
</font>                return pok1-&gt;DajObim() &gt; pok2-&gt;DajObim() || std::fabs(pok1-&gt;DajObim()-pok2-&gt;DajObim())&lt;=Eps;});
            (**najmanji).Ispisi();}
            
          /*  for(int i=0; i&lt;p.size(); i++){
            while(i&lt;p.size() ){
                
               if(Trougao::JesuLiPodudarni(p[i], p[i+1)
                std::cout &lt;&lt; "Parovi identicnih trouglova: " &lt;&lt;std::endl;
            }
            }
    std::cout &lt;&lt; "Parovi podudarnih trouglova: " &lt;&lt;std::endl;
    
    std::cout &lt;&lt; "Parovi slicnih trouglova: " &lt;&lt;std::endl;*/
    
    catch(std::logic_error e){
       std::cout &lt;&lt; e.what() &lt;&lt; std::endl;
    }
    catch(std::range_error e){
       std::cout &lt;&lt; e.what() &lt;&lt; std::endl;
    }
         //   for(int i=0; i&lt;n; i++) delete p[i];
         //   delete[] p;
         //   p=nullptr;
  
	return 0;
}</pre>
</body>
</html>
