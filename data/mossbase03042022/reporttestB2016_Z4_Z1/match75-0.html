<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z1/student7834.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z1/student7834.cpp<p></p><pre>
<a name="1"></a><font color="#00FF00"><a href="match75-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_40.gif"/></a>

/B 2016/2017, ZadaÄ‡a 4, Zadatak 1
//Napomena: testovi ce biti dostupni dan pred rok!
#include &lt;iostream&gt;
#include &lt;stdexcept&gt;
#include &lt;vector&gt;
#include &lt;cmath&gt;
#include &lt;utility&gt;
#include &lt;memory&gt;
#include &lt;algorithm&gt;

using std::cout;
using std::cin;
using std::endl;
using std::vector;
using std::shared_ptr;
using std::make_shared;

typedef std::pair&lt;double, double&gt; Tacka;

class Trougao {
Tacka t1,t2,t3;

static double DuzinaStranice( Tacka t1,  Tacka t2) {
    return sqrt(pow(t1.first-t2.first,2)+pow(t1.second-t2.second,2));
}

static double Povrsina (Tacka t1, Tacka t2, Tacka t3) {
    return (t1.first*(t2.second-t3.second)-t2.first*(t1.second-t3.second)+t3.first*(t1.second-t2.second));
}

static bool Poredi (double x, double y) {
    double e(1e-10);
    if(fabs(x-y)&lt;=e*(fabs(x)+fabs(y))) return true;
    return false;
}

static bool PorediTacke (Tacka t1, Tacka t2) {
    
    if(Trougao::Poredi(t1.first,t2.first) &amp;&amp; Trougao::Poredi(t1.second,t2.second)) return true;
    return false;
    
}
static bool Proporcionalni (double x, double y, double p, double q, double a, double b) {
    double k1,k2,k3;
    k1=x/y;
    k2=p/q;
    k3=a/b;
    if(Trougao::Poredi(k1,k2) &amp;&amp; Trougao::Poredi(k1,k3)) return true;
    return false;
}
static bool Podudarni(Tacka x, Tacka y,Tacka p, Tacka q) {
   
    if(Trougao::Poredi(Trougao::DuzinaStranice(x,y),Trougao::DuzinaStranice(p,q)) ) return true;
    return false;
}
static double NajduzaStranica (Tacka x, Tacka y,Tacka z,Tacka &amp;p) {
    double a(DuzinaStranice(x,y)),b(DuzinaStranice(x,z)),c(DuzinaStranice(z,y));
    double max(a);
    if(max&lt;b) max=b;
    if(max&lt;c) max=c;
    
    if(Trougao::Poredi(max,a)) p=z;
    if(Trougao::Poredi(max,b)) p=y;
    if(Trougao::Poredi(max,c)) p=x;
    
    return max;
}
static double NajkracaStranica (Tacka x, Tacka y,Tacka z,Tacka &amp;p) {
    double a(DuzinaStranice(x,y)),b(DuzinaStranice(x,z)),c(DuzinaStranice(z,y));
    double min(a);
    if(min&gt;b) min=b;
    if(min&gt;c) min=c;
    
    if(Trougao::Poredi(min,a)) p=z;
    if(Trougao::Poredi(min,b)) p=y;
    if(Trougao::Poredi(min,c)) p=x;
    
    return min;
}
    
static double SrednjaStranica (Tacka x, Tacka y,Tacka z, Tacka &amp;p) {
    double a(DuzinaStranice(x,y)),b(DuzinaStranice(x,z)),c(DuzinaStranice(z,y));
    double sr,min,max;
    max=NajduzaStranica(x,y,z,p);
    min=NajkracaStranica(x,y,z,p);
    
    if((Trougao::Poredi(max,a) &amp;&amp; Trougao::Poredi(min,b)) || (Trougao::Poredi(max,b) &amp;&amp; Trougao::Poredi(min,a))) sr=c;
    else if((Trougao::Poredi(max,a) &amp;&amp; Trougao::Poredi(min,c)) || (Trougao::Poredi(max,c) &amp;&amp; Trougao::Poredi(min,a))) sr=b;
    else if((Trougao::Poredi(max,b) &amp;&amp; Trougao::Poredi(min,c)) || (Trougao::Poredi(max,c) &amp;&amp; Trougao::Poredi(min,b))) sr=a;
    
    if(Trougao::Poredi(sr,a)) p=z;
    if(Trougao::Poredi(sr,b)) p=y;
    if(Trougao::Poredi(sr,c)) p=x;
    
    return sr;
    
}


public:

Trougao(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3) {
    if(Trougao::Orijentacija(t1,t2,t3)==0) std::domain_error("Nekorektne pozicije tjemena");
    Trougao::t1=t1;
    Trougao::t2=t2;
    Trougao::t3=t3;
}
void Postavi(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3) {
    *this=Trougao(t1,t2,t3);
}
void Postavi(int indeks, const Tacka &amp;t){
    if(indeks&lt;1 || indeks&gt;3) std::range_error ("Nekorektan indeks");
    if(indeks==1) t1=t;
    if(indeks==2) t2=t;
    if(indeks==3) t3=t;
}
static int Orijentacija(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3) {
    if(Povrsina(t1,t2,t3)&lt;0)
    return -1;
    if(Povrsina(t1,t2,t3)&gt;0)
    return 1;
    if(Poredi(Povrsina(t1,t2,t3),0))
    return 0;
    return 0;
}
Tacka DajTjeme(int indeks) const { 
    if(indeks&lt;1 || indeks&gt;3) std::range_error ("Nekorektan indeks");
    if(indeks==1) return t1;
    if(indeks==2) return t2;
    if(indeks==3) return t3;

    }
double DajStranicu(int indeks) const {
    double d;
    if(indeks&lt;1 || indeks&gt;3) std::range_error ("Nekorektan indeks");
    if(indeks==1) d=DuzinaStranice(t2,t3);
    if(indeks==2) d=DuzinaStranice(t1,t3);
    if(indeks==3) d=DuzinaStranice(t1,t2);
    return d;
}
double DajUgao(int indeks) const {
    double a,b,c,ugao;
    if(indeks&lt;1 || indeks&gt;3) std::range_error ("Nekorektan indeks");
    if(indeks==1) {
        a=DuzinaStranice(t1,t2);
        b=DuzinaStranice(t1,t3);
        c=DuzinaStranice(t2,t3);
    }
    if(indeks==2) {
        a=DuzinaStranice(t2,t1);
        b=DuzinaStranice(t2,t3);
        c=DuzinaStranice(t1,t3);
    }
    if(indeks==3) {
        a=DuzinaStranice(t3,t2);
        b=DuzinaStranice(t3,t1);
        c=DuzinaStranice(t1,t2);
    }
    
    ugao=acos((b*b+a*a-c*c)/(2*a*b));
    return ugao;
}
Tacka DajCentar() const {
    Tacka T;
    T.first=(t1.first+t2.first+t3.first)/3;
    T.second=(t1.second+t2.second+t3.second)/3;
    return T;
}
double DajObim() const {
    double a(DuzinaStranice(t1,t2)),b(DuzinaStranice(t1,t3)),c(DuzinaStranice(t2,t3));
    return a+b+c;
}
double DajPovrsinu() const {
    return abs(Povrsina(t1,t2,t3))/2;
}

bool DaLiJePozitivnoOrijentiran() const {
    if(Povrsina(t1,t2,t3)&gt;0) return true;
    return false;
}
bool DaLiJeUnutra(const Tacka &amp;t) const {
    if(Trougao::Orijentacija(t1,t2,t3)==Trougao::Orijentacija(t1,t2,t) &amp;&amp; 
    Trougao::Orijentacija(t2,t3,t)==Trougao::Orijentacija(t1,t2,t3) &amp;&amp;
    Trougao::Orijentacija(t1,t2,t3)==Trougao::Orijentacija(t3,t1,t)) return true;
    return false;
    
}
void Ispisi() const {
    cout&lt;&lt;"(("&lt;&lt;t1.first&lt;&lt;","&lt;&lt;t1.second&lt;&lt;"),("&lt;&lt;t2.first&lt;&lt;","&lt;&lt;t2.second&lt;&lt;"),("&lt;&lt;t3.first&lt;&lt;","
</font>    &lt;&lt;t3.second&lt;&lt;"))";
}
void Transliraj(double delta_x, double delta_y) {
    t1.first+=delta_x;
    t1.second+=delta_y;
    
    t2.first+=delta_x;
<a name="2"></a><font color="#0000FF"><a href="match75-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_3.gif"/></a>

    t2.second+=delta_y;
    
    t3.first+=delta_x;
    t3.second+=delta_y;
}

void Centriraj(const Tacka &amp;t) {
    double x,y;
    
    x=t.first-this-&gt;DajCentar().first;
    y=t.second-this-&gt;DajCentar().second;
    
    Transliraj(x,y);
}

void Rotiraj(const Tacka &amp;t, double ugao) {
    double a,b,c;
    a=t1.first;
    b=t2.first;
    c=t3.first;
    
    a=(t.first+(t1.first-t.first)*cos(ugao)-(t1.second-t.second)*sin(ugao));
</font><a name="4"></a><font color="#FF00FF"><a href="match75-1.html#4" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_1.gif"/></a>

    t1.second=(t.second+(t1.first-t.first)*sin(ugao)+(t1.second-t.second)*cos(ugao));
    t1.first=a;
    
    b=(t.first+(t2.first-t.first)*cos(ugao)-(t2.second-t.second)*sin(ugao));
</font><a name="5"></a><font color="#FF0000"><a href="match75-1.html#5" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_1.gif"/></a>

    t2.second=(t.second+(t2.first-t.first)*sin(ugao)+(t2.second-t.second)*cos(ugao));
    t2.first=b;
    
    c=(t.first+(t3.first-t.first)*cos(ugao)-(t3.second-t.second)*sin(ugao));
</font><a name="3"></a><font color="#00FFFF"><a href="match75-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_2.gif"/></a>

    t3.second=(t.second+(t3.first-t.first)*sin(ugao)+(t3.second-t.second)*cos(ugao));
    t3.first=c;
    
}
void Skaliraj(const Tacka &amp;t, double faktor) {
    if(Poredi(faktor,0)) throw std::domain_error ("Nekorektan faktor skaliranja");
    
    t1.first=t.first+faktor*(t1.first-t.first);
    t1.second=t.second+faktor*(t1.second-t.second);
</font>    
    t2.first=t.first+faktor*(t2.first-t.first);
    t2.second=t.second+faktor*(t2.second-t.second);
    
<a name="0"></a><font color="#FF0000"><a href="match75-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_44.gif"/></a>

    t3.first=t.first+faktor*(t3.first-t.first);
    t3.second=t.second+faktor*(t3.second-t.second);
    
    
}
void Rotiraj(double ugao) {
    Tacka t(DajCentar());
    Rotiraj(t,ugao);
}
void Skaliraj(double faktor) {
    Tacka t(DajCentar());
    Skaliraj(t,faktor);

}
friend bool DaLiSuIdenticni(const Trougao &amp;t1, const Trougao &amp;t2);
friend bool DaLiSuPodudarni(const Trougao &amp;t1, const Trougao &amp;t2);
friend bool DaLiSuSlicni(const Trougao &amp;t1, const Trougao &amp;t2);
};
bool DaLiSuIdenticni(const Trougao &amp;t1, const Trougao &amp;t2) {
    int br(0);
   if(Trougao::PorediTacke(t1.Trougao::t1,t2.Trougao::t1) || Trougao::PorediTacke(t1.Trougao::t1,t2.Trougao::t2) 
   || Trougao::PorediTacke(t1.Trougao::t1,t2.Trougao::t3)) br++;
   if( Trougao::PorediTacke(t1.Trougao::t2,t2.Trougao::t1) || Trougao::PorediTacke(t1.Trougao::t2,t2.Trougao::t2)
   || Trougao::PorediTacke(t1.Trougao::t2,t2.Trougao::t3)) br++;
    if(Trougao::PorediTacke(t1.Trougao::t3,t2.Trougao::t1) || Trougao::PorediTacke(t1.Trougao::t3,t2.Trougao::t2) 
   || Trougao::PorediTacke(t1.Trougao::t3,t2.Trougao::t3)) br++;
   if(br==3) return true;
   return false;
}
bool DaLiSuPodudarni(const Trougao &amp;t1, const Trougao &amp;t2) {
    Tacka a1(t1.Trougao::t1), b1(t1.Trougao::t2), c1(t1.Trougao::t3);
    
    Tacka a2(t2.Trougao::t1), b2(t2.Trougao::t2), c2(t2.Trougao::t3);

    double max,min,max1,min1,sr,sr1;
    Tacka p,q,r,p1,q1,r1;
    
    max=Trougao::NajduzaStranica(a1,b1,c1,p);
    min=Trougao::NajkracaStranica(a1,b1,c1,q);
    sr=Trougao::SrednjaStranica(a1,b1,c1,r);
    
    max1=Trougao::NajduzaStranica(a2,b2,c2,p1);
    min1=Trougao::NajkracaStranica(a2,b2,c2,q1);
    sr1=Trougao::SrednjaStranica(a2,b2,c2,r1);

    if(Trougao::Poredi(max,max1) &amp;&amp; Trougao::Poredi(min,min1) &amp;&amp; Trougao::Poredi(sr,sr1) 
    &amp;&amp; Trougao::Orijentacija(p1,q1,r1)==Trougao::Orijentacija(p,q,r)) return true;
    
    
    return false;
     
}
bool DaLiSuSlicni(const Trougao &amp;t1, const Trougao &amp;t2) {

    if(DaLiSuPodudarni(t1,t2)) return true;
    
    Tacka a1(t1.Trougao::t1), b1(t1.Trougao::t2), c1(t1.Trougao::t3);
    
    Tacka a2(t2.Trougao::t1), b2(t2.Trougao::t2), c2(t2.Trougao::t3);

    double max,min,max1,min1,sr,sr1;
    Tacka p,q,r,p1,q1,r1;
    
    max=Trougao::NajduzaStranica(a1,b1,c1,p);
    min=Trougao::NajkracaStranica(a1,b1,c1,q);
    sr=Trougao::SrednjaStranica(a1,b1,c1,r);
    
    max1=Trougao::NajduzaStranica(a2,b2,c2,p1);
    min1=Trougao::NajkracaStranica(a2,b2,c2,q1);
    sr1=Trougao::SrednjaStranica(a2,b2,c2,r1);

    if(Trougao::Proporcionalni(max,max1,min,min1,sr,sr1) 
    &amp;&amp; Trougao::Orijentacija(p1,q1,r1)==Trougao::Orijentacija(p,q,r)) return true;


    return false;
}

int main ()
{
    cout&lt;&lt;"Koliko zelite kreirati trouglova: ";
    int n;
    cin&gt;&gt;n;
    vector&lt;shared_ptr&lt;Trougao&gt;&gt; v;
    
    for (int i = 0; i &lt;n; i++) {
       
        cout&lt;&lt;"Unesite podatke za "&lt;&lt;i+1&lt;&lt;". trougao (x1 y1 x2 y2 x3 y3): ";
        Tacka x,y,z;
        cin&gt;&gt;x.first&gt;&gt;x.second;
        cin&gt;&gt;y.first&gt;&gt;y.second;
        cin&gt;&gt;z.first&gt;&gt;z.second;
        if(Trougao::Orijentacija(x,y,z)==0) {
            cout&lt;&lt;"Nekorektne pozicije tjemena, ponovite unos!"&lt;&lt;endl;
            cout&lt;&lt;"Unesite podatke za "&lt;&lt;i+1&lt;&lt;". trougao (x1 y1 x2 y2 x3 y3): ";
        
            cin&gt;&gt;x.first&gt;&gt;x.second;
            cin&gt;&gt;y.first&gt;&gt;y.second;
            cin&gt;&gt;z.first&gt;&gt;z.second;
        }
        
        shared_ptr&lt;Trougao&gt; p(make_shared&lt;Trougao&gt; (x,y,z));
       
        v.push_back(p);
    }
        
        cout&lt;&lt;"Unesite vektor translacije (dx dy): ";
        double dx,dy;
        cin&gt;&gt;dx&gt;&gt;dy;
        std::transform(v.begin(),v.end(),v.begin(), [dx,dy](shared_ptr&lt;Trougao&gt; p){ p-&gt;Transliraj(dx,dy); return p; } );
        
        
        cout&lt;&lt;"Unesite ugao rotacije: ";
        double ugao;
        cin&gt;&gt;ugao;
        std::transform(v.begin(),v.end(),v.begin(), [ugao](shared_ptr&lt;Trougao&gt; p){ p-&gt;Rotiraj(ugao); return p;} );
        
        cout&lt;&lt;"Unesite faktor skaliranja: ";
        double faktor;
        cin&gt;&gt;faktor;
        std::transform(v.begin(),v.end(),v.begin(), [faktor](shared_ptr&lt;Trougao&gt; p){ p-&gt;Skaliraj(p-&gt;DajTjeme(1),faktor); return p;} );
        
        cout&lt;&lt;"Trouglovi nakon obavljenih transformacija:\n";
        std::sort(v.begin(), v.end(), [] (shared_ptr&lt;Trougao&gt; p, shared_ptr &lt;Trougao&gt; q) {
            return p-&gt;DajPovrsinu()&lt;q-&gt;DajPovrsinu();  });
        std::for_each(v.begin(), v.end(), [] (shared_ptr&lt;Trougao&gt; p) {p-&gt;Ispisi(); cout&lt;&lt;endl; return p;} );
        
        cout&lt;&lt;"Trougao sa najmanjim obimom: ";
        (*std::min_element(v.begin(),v.end(), [] (shared_ptr&lt;Trougao&gt; x,shared_ptr&lt;Trougao&gt; y){ 
            return x-&gt;DajObim()&lt;y-&gt;DajObim(); }))-&gt;Ispisi();
        
        
        cout&lt;&lt;endl;
        
        int br(0);
        vector&lt;int&gt; a,b;
        for (int i=0; i&lt;n; i++) 
            for(int j=i+1; j&lt;n; j++)
            if(DaLiSuIdenticni(*v[i],*v[j])) {
                a.push_back(i);
                b.push_back(j);
                br++;
            }
        if(br==0) cout&lt;&lt;"Nema identicnih trouglova!\n";
        
        else {
            cout&lt;&lt;"Parovi identicnih trouglova:\n";
            for(int i=0; i&lt;a.size(); i++) {
            v[a[i]]-&gt;Ispisi(); cout&lt;&lt;" i ";
            v[b[i]]-&gt;Ispisi(); cout&lt;&lt;endl;
            }
        }
    
        br=0;
        a.resize(0); b.resize(0);
        for (int i=0; i&lt;n; i++) 
            for(int j=i+1; j&lt;n; j++)
            if(DaLiSuPodudarni(*v[i],*v[j]) ) {
                 a.push_back(i); b.push_back(j);
                br++;
            }
        if(br==0) cout&lt;&lt;"Nema podudarnih trouglova!\n";
        else {
            cout&lt;&lt;"Parovi podudarnih trouglova:\n";
            for(int i=0; i&lt;a.size(); i++) {
            v[a[i]]-&gt;Ispisi(); cout&lt;&lt;" i ";
            v[b[i]]-&gt;Ispisi(); cout&lt;&lt;endl;
            }
        }
        
        br=0;
        a.resize(0); b.resize(0);
        for (int i=0; i&lt;n; i++) 
            for(int j=i+1; j&lt;n; j++)
            if(DaLiSuSlicni(*v[i],*v[j])) {
                a.push_back(i); b.push_back(j);
                br++;
            }
    
        if(br==0) cout&lt;&lt;"Nema slicnih trouglova!\n";
        else {
            cout&lt;&lt;"Parovi slicnih trouglova:\n";
            for(int i=0; i&lt;a.size(); i++) {
            v[a[i]]-&gt;Ispisi(); cout&lt;&lt;" i ";
            v[b[i]]-&gt;Ispisi(); cout&lt;&lt;endl;
            }
        }
        
	return 0;
</font>	
	
}</pre>
</body>
</html>
