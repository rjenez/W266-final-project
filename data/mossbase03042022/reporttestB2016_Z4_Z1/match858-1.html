<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z1/student6874.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z1/student8794.cpp<p></p><pre>
/B 2016/2017, ZadaÄ‡a 4, Zadatak 1
//Napomena: testovi ce biti dostupni dan pred rok!
#include &lt;iostream&gt;
#include &lt;cmath&gt;
#include &lt;utility&gt;
#include &lt;stdexcept&gt;
#include &lt;exception&gt;
#include &lt;vector&gt;
#include &lt;algorithm&gt;
#include &lt;memory&gt;
#define epsilon 0.00001

typedef std::pair&lt;double, double&gt; Tacka;
const double pi = 4*atan(1);

class Trougao
{
    Tacka t[3];
    static  bool JesuLiJednaki(const double &amp;x,const double &amp;y, const double Eps = 1E-10) {
        if((x &lt; 0 and y &gt; 0) or (x &gt; 0 and y &lt; 0)) return false;
        return std::fabs(x - y) &lt;= Eps * (std::fabs(x) + std::fabs(y));
    }
    static  bool JesuLiJednaki(const Tacka &amp;x, const Tacka &amp;y, const double Eps = 1E-10) {
        if (JesuLiJednaki(x.first,y.first) and JesuLiJednaki(x.second,y.second)) return true;
        return false;
    }
    static int index (int indeks) {
        if (indeks &lt; 1 or indeks &gt; 3) throw std::range_error ("Nekorektan indeks");
        if (indeks == 1) return 0;
        else if (indeks == 2) return 1;
        else return 2;
    }
    static double Duz_str (const Tacka &amp;t1, const Tacka &amp;t2) {
<a name="0"></a><font color="#FF0000"><a href="match858-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_1.gif"/></a>

        return sqrt((t1.first-t2.first)*(t1.first-t2.first)+(t1.second-t2.second)*(t1.second-t2.second));
    }
    static double Izraz (const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3) {
        return t1.first*(t2.second-t3.second)-t2.first*(t1.second-t3.second)+t3.first*(t1.second-t2.second);
    }
    static void Rot_t (Tacka &amp;t1,const Tacka &amp;t,double ugao) {
</font>        t1 = std::make_pair((t.first+(t1.first-t.first)*cos(ugao)-(t1.second-t.second)*sin(ugao)),(t.second+(t1.first-t.first)*sin(ugao) + (t1.second-t.second)*cos(ugao)));
    }
public:
    // KONSTRUKTOR
    Trougao(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3) {

        Postavi(t1,t2,t3);
    }
    // POSTAVI
    void Postavi(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3) {
        if (Orijentacija(t1,t2,t3) == 0) throw std::domain_error ("Nekorektne pozicije tjemena");
        Trougao::t[0] = t1;
        Trougao::t[1] = t2;
        Trougao::t[2] = t3;
    }
    // Postavi (jednu tacku)
    void Postavi(int indeks, const Tacka &amp;t) {
        int i(index(indeks));
        if (i == 0) Postavi(t,Trougao::t[1],Trougao::t[2]);
        else if (i == 1) Postavi(Trougao::t[0],t,Trougao::t[2]);
        else if (i == 2) Postavi(Trougao::t[0],Trougao::t[1],t);

    }
    static int Orijentacija(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3) {
        double t(Izraz(t1,t2,t3));
        if (t &gt; 0. and !JesuLiJednaki(t,0.)) return 1;
        else if (t &lt; 0. and !JesuLiJednaki(t,0.)) return -1;
        else return 0;
    }

    Tacka DajTjeme(int indeks) const {
        int i = index(indeks);
        return t[i];
    }
    double DajStranicu(int indeks) const {
        int i(index(indeks));
        if (i == 0) return Duz_str(t[1],t[2]);
        else if (i == 1) return Duz_str(t[0],t[2]);
        else return Duz_str(t[0],t[1]);
    }
    double DajUgao(int indeks) const {
        int i(index(indeks));
        if (i == 0) {
            double a(DajStranicu(1)), b(DajStranicu(2)), c(DajStranicu(3));
            return acos((a*a+b*b-c*c)/(2*(a*b)));
        } else if (i == 1) {
            double a(DajStranicu(1)), b(DajStranicu(2)), c(DajStranicu(3));
            return acos((b*b+c*c-a*a)/(2*(b*c)));
        } else {
            double a(DajStranicu(1)), b(DajStranicu(2)), c(DajStranicu(3));
            return acos((c*c+a*a-b*b)/(2*(c*a)));
        }
    }
    Tacka DajCentar() const {
        return std::make_pair((t[0].first+t[1].first+t[2].first)/3.,(t[0].second+t[1].second+t[2].second)/3);
    }
    double DajObim() const {
        return DajStranicu(1) + DajStranicu(2) + DajStranicu(3);
    }
    double DajPovrsinu() const {
        return std::fabs(Izraz(t[0],t[1],t[2])*0.5);
    }
    bool DaLiJePozitivnoOrijentiran() const {
        if (Orijentacija(t[0],t[1],t[2])) return true;
        return false;
    }
    bool DaLiJeUnutra(const Tacka &amp;t) const {
        if (Orijentacija(Trougao::Trougao::t[0],Trougao::t[1],Trougao::t[2]) == Orijentacija(Trougao::Trougao::t[0],Trougao::t[1],t) and Orijentacija(Trougao::t[0],Trougao::t[1],Trougao::t[2]) == Orijentacija(Trougao::t[1],Trougao::t[2],t) and Orijentacija(Trougao::t[0],Trougao::t[1],Trougao::t[2]) == Orijentacija(Trougao::t[2],Trougao::t[0],t))
            return true;
        return false;
    }
<a name="3"></a><font color="#00FFFF"><a href="match858-0.html#3" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_0.gif"/></a>

    void Ispisi() const {
        std::cout &lt;&lt; "(("&lt;&lt; t[0].first&lt;&lt; ","&lt;&lt;t[0].second&lt;&lt; "),("&lt;&lt;t[1].first&lt;&lt; ","&lt;&lt;t[1].second&lt;&lt; "),("&lt;&lt;t[2].first&lt;&lt; ","&lt;&lt;t[2].second&lt;&lt;"))";
</font><a name="2"></a><font color="#0000FF"><a href="match858-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_0.gif"/></a>

    }
    void Transliraj(double delta_x, double delta_y) {
        Postavi(std::make_pair(t[0].first+delta_x,t[0].second+delta_y),std::make_pair(t[1].first+delta_x,t[1].second+delta_y),std::make_pair(t[2].first+delta_x,t[2].second+delta_y));
</font>    }
    void Centriraj(const Tacka &amp;t) {
        auto t1(DajCentar());
        Transliraj(t.first-t1.first,t.second-t1.second);
    }
    void Rotiraj(const Tacka &amp;t, double ugao) {
        Rot_t(Trougao::t[0],t,ugao);
        Rot_t(Trougao::t[1],t,ugao);
        Rot_t(Trougao::t[2],t,ugao);
    }
    void Skaliraj(const Tacka &amp;t, double faktor) {
        if ((faktor) &lt; 0. and !JesuLiJednaki(faktor,0.)) throw std::domain_error ("Nekorektan faktor skaliranja");
        Trougao::t[0].first = t.first + faktor*(Trougao::t[0].first-t.first);
        Trougao::t[0].second = t.second + faktor*(Trougao::t[0].second-t.second);
        Trougao::t[1].first = t.first + faktor*(Trougao::t[1].first-t.first);
        Trougao::t[1].second = t.second + faktor*(Trougao::t[1].second-t.second);
        Trougao::t[2].first = t.first + faktor*(Trougao::t[2].first-t.first);
        Trougao::t[2].second = t.second + faktor*(Trougao::t[2].second-t.second);
    }
    void Rotiraj(double ugao) {
        Rotiraj(DajCentar(),ugao);
    }
    void Skaliraj(double faktor) {
        Skaliraj(DajCentar(),faktor);
    }
    friend bool DaLiSuIdenticni(const Trougao &amp;t1, const Trougao &amp;t2);
    friend bool DaLiSuPodudarni(const Trougao &amp;t1, const Trougao &amp;t2);
    friend bool DaLiSuSlicni(const Trougao &amp;t1, const Trougao &amp;t2);
};
bool DaLiSuIdenticni(const Trougao &amp;t1, const Trougao &amp;t2)
{
    if ((Trougao::JesuLiJednaki(t1.t[0],t2.t[0]) and Trougao::JesuLiJednaki(t1.t[1],t2.t[1]) and Trougao::JesuLiJednaki(t1.t[2],t2.t[2]))
            or (Trougao::JesuLiJednaki(t1.t[0],t2.t[0]) and Trougao::JesuLiJednaki(t1.t[1],t2.t[2]) and Trougao::JesuLiJednaki(t1.t[2],t2.t[1]))
            or (Trougao::JesuLiJednaki(t1.t[0],t2.t[1]) and Trougao::JesuLiJednaki(t1.t[1],t2.t[0]) and Trougao::JesuLiJednaki(t1.t[2],t2.t[2]))
            or (Trougao::JesuLiJednaki(t1.t[0],t2.t[1]) and Trougao::JesuLiJednaki(t1.t[1],t2.t[2]) and Trougao::JesuLiJednaki(t1.t[2],t2.t[0]))
            or (Trougao::JesuLiJednaki(t1.t[0],t2.t[2]) and Trougao::JesuLiJednaki(t1.t[1],t2.t[0]) and Trougao::JesuLiJednaki(t1.t[2],t2.t[1]))
            or (Trougao::JesuLiJednaki(t1.t[0],t2.t[2]) and Trougao::JesuLiJednaki(t1.t[1],t2.t[1]) and Trougao::JesuLiJednaki(t1.t[2],t2.t[0]))) return true;
    return false;
}
bool DaLiSuPodudarni(const Trougao &amp;t1, const Trougao &amp;t2)
{
<a name="4"></a><font color="#FF00FF"><a href="match858-0.html#4" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_0.gif"/></a>

    if ((Trougao::JesuLiJednaki(t1.DajStranicu(1),t2.DajStranicu(1)) and Trougao::JesuLiJednaki(t1.DajStranicu(2),t2.DajStranicu(2)) and Trougao::JesuLiJednaki(t1.DajStranicu(3),t2.DajStranicu(3)) and Trougao::Orijentacija(t1.t[0],t1.t[1],t1.t[2]) == Trougao::Orijentacija(t2.t[0],t2.t[1],t2.t[2]))
</font><a name="5"></a><font color="#FF0000"><a href="match858-0.html#5" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_0.gif"/></a>

            or (Trougao::JesuLiJednaki(t1.DajStranicu(1),t2.DajStranicu(1)) and Trougao::JesuLiJednaki(t1.DajStranicu(2),t2.DajStranicu(3)) and Trougao::JesuLiJednaki(t1.DajStranicu(3),t2.DajStranicu(2)) and Trougao::Orijentacija(t1.t[0],t1.t[1],t1.t[2]) == Trougao::Orijentacija(t2.t[0],t2.t[2],t2.t[1]))
</font>            or (Trougao::JesuLiJednaki(t1.DajStranicu(1),t2.DajStranicu(2)) and Trougao::JesuLiJednaki(t1.DajStranicu(2),t2.DajStranicu(1)) and Trougao::JesuLiJednaki(t1.DajStranicu(3),t2.DajStranicu(3)) and Trougao::Orijentacija(t1.t[0],t1.t[1],t1.t[2]) == Trougao::Orijentacija(t2.t[1],t2.t[0],t2.t[2]))
            or (Trougao::JesuLiJednaki(t1.DajStranicu(1),t2.DajStranicu(2)) and Trougao::JesuLiJednaki(t1.DajStranicu(2),t2.DajStranicu(3)) and Trougao::JesuLiJednaki(t1.DajStranicu(3),t2.DajStranicu(1)) and Trougao::Orijentacija(t1.t[0],t1.t[1],t1.t[2]) == Trougao::Orijentacija(t2.t[1],t2.t[2],t2.t[0]))
            or (Trougao::JesuLiJednaki(t1.DajStranicu(1),t2.DajStranicu(3)) and Trougao::JesuLiJednaki(t1.DajStranicu(2),t2.DajStranicu(1)) and Trougao::JesuLiJednaki(t1.DajStranicu(3),t2.DajStranicu(2)) and Trougao::Orijentacija(t1.t[0],t1.t[1],t1.t[2]) == Trougao::Orijentacija(t2.t[2],t2.t[0],t2.t[1]))
            or (Trougao::JesuLiJednaki(t1.DajStranicu(1),t2.DajStranicu(3)) and Trougao::JesuLiJednaki(t1.DajStranicu(2),t2.DajStranicu(2)) and Trougao::JesuLiJednaki(t1.DajStranicu(3),t2.DajStranicu(1)) and Trougao::Orijentacija(t1.t[0],t1.t[1],t1.t[2]) == Trougao::Orijentacija(t2.t[2],t2.t[1],t2.t[0])))
        return true;
    return false;
}
bool DaLiSuSlicni(const Trougao &amp;t1, const Trougao &amp;t2)
{
    if ((Trougao::JesuLiJednaki(t1.DajUgao(1),t2.DajUgao(1)) and Trougao::JesuLiJednaki(t1.DajUgao(2),t2.DajUgao(2)) and Trougao::JesuLiJednaki(t1.DajUgao(3),t2.DajUgao(3)) and Trougao::Orijentacija(t1.t[0],t1.t[1],t1.t[2]) == Trougao::Orijentacija(t2.t[0],t2.t[1],t2.t[2]))
            or (Trougao::JesuLiJednaki(t1.DajUgao(1),t2.DajUgao(1)) and Trougao::JesuLiJednaki(t1.DajUgao(2),t2.DajUgao(3)) and Trougao::JesuLiJednaki(t1.DajUgao(3),t2.DajUgao(2)) and Trougao::Orijentacija(t1.t[0],t1.t[1],t1.t[2]) == Trougao::Orijentacija(t2.t[0],t2.t[2],t2.t[1]))
            or (Trougao::JesuLiJednaki(t1.DajUgao(1),t2.DajUgao(2)) and Trougao::JesuLiJednaki(t1.DajUgao(2),t2.DajUgao(1)) and Trougao::JesuLiJednaki(t1.DajUgao(3),t2.DajUgao(3)) and Trougao::Orijentacija(t1.t[0],t1.t[1],t1.t[2]) == Trougao::Orijentacija(t2.t[1],t2.t[0],t2.t[2]))
            or (Trougao::JesuLiJednaki(t1.DajUgao(1),t2.DajUgao(2)) and Trougao::JesuLiJednaki(t1.DajUgao(2),t2.DajUgao(3)) and Trougao::JesuLiJednaki(t1.DajUgao(3),t2.DajUgao(1))  and Trougao::Orijentacija(t1.t[0],t1.t[1],t1.t[2]) == Trougao::Orijentacija(t2.t[1],t2.t[2],t2.t[0]))
            or (Trougao::JesuLiJednaki(t1.DajUgao(1),t2.DajUgao(3)) and Trougao::JesuLiJednaki(t1.DajUgao(2),t2.DajUgao(1)) and Trougao::JesuLiJednaki(t1.DajUgao(3),t2.DajUgao(2)) and Trougao::Orijentacija(t1.t[0],t1.t[1],t1.t[2]) == Trougao::Orijentacija(t2.t[2],t2.t[0],t2.t[1]))
            or (Trougao::JesuLiJednaki(t1.DajUgao(1),t2.DajUgao(3)) and Trougao::JesuLiJednaki(t1.DajUgao(2),t2.DajUgao(2)) and Trougao::JesuLiJednaki(t1.DajUgao(3),t2.DajUgao(1)) and Trougao::Orijentacija(t1.t[0],t1.t[1],t1.t[2]) == Trougao::Orijentacija(t2.t[2],t2.t[1],t2.t[0])))
        return true;
    return false;
}
int main ()
{
    int n;
<a name="6"></a><font color="#00FF00"><a href="match858-0.html#6" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_0.gif"/></a>

    std::cout &lt;&lt; "Koliko zelite kreirati trouglova: ";
    std::cin &gt;&gt; n;
    std::vector&lt;std::shared_ptr&lt;Trougao&gt;&gt; v;
    Tacka t1,t2,t3;
</font>    for (int i = 0; i &lt; n; i++) {
        std::cout &lt;&lt; "Unesite podatke za "&lt;&lt;i+1&lt;&lt;". trougao (x1 y1 x2 y2 x3 y3): ";
        std::cin &gt;&gt; t1.first &gt;&gt; t1.second;
        std::cin &gt;&gt; t2.first &gt;&gt; t2.second;
        std::cin &gt;&gt; t3.first &gt;&gt; t3.second;
        try {
            v.push_back(std::make_shared&lt;Trougao&gt;(t1,t2,t3));
        } catch (std::domain_error e) {
            std::cout &lt;&lt; e.what() &lt;&lt; ", ponovite unos!" &lt;&lt; std::endl;
            i--;
        }
    }
    double x1,y1,x2,y2;
    std::cout &lt;&lt; "Unesite vektor translacije (dx dy): ";
<a name="1"></a><font color="#00FF00"><a href="match858-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_0.gif"/></a>

    std::cin &gt;&gt; x1 &gt;&gt; y1;
    std::cout &lt;&lt; "Unesite ugao rotacije: Unesite faktor skaliranja: ";
    std::cin &gt;&gt; x2 &gt;&gt; y2;
    std::transform(v.begin(),v.end(),v.begin(),[=](std::shared_ptr&lt;Trougao&gt; r) {
</font>        r-&gt;Transliraj(x1,y1);
        return r;
    });
    std::transform(v.begin(),v.end(),v.begin(),[=](std::shared_ptr&lt;Trougao&gt; r) {

        r-&gt;Rotiraj(x2);
        return r;
    });
    std::transform(v.begin(),v.end(),v.begin(),[=](std::shared_ptr&lt;Trougao&gt; r) {

        r-&gt;Skaliraj(r-&gt;DajTjeme(1),y2);
        return r;
    });
    
    std::sort (v.begin(), v.end(), [](const std::shared_ptr&lt;Trougao&gt; &amp;t1, const std::shared_ptr&lt;Trougao&gt; &amp;t2) {
        return t1-&gt;DajPovrsinu() &lt; t2-&gt;DajPovrsinu();
    });
    std::cout &lt;&lt; "Trouglovi nakon obavljenih transformacija:" &lt;&lt; std::endl;
    for (auto &amp;i : v) {
        i-&gt;Ispisi();
        std::cout  &lt;&lt; std::endl;
    }
    std::cout &lt;&lt; "Trougao sa najmanjim obimom: ";
    (*min_element(v.begin(), v.end(), [](const std::shared_ptr&lt;Trougao&gt; &amp;t1, const std::shared_ptr&lt;Trougao&gt; &amp;t2) {
        return t1-&gt;DajObim() &lt; t2-&gt;DajObim();
    }))-&gt;Ispisi();
    std::cout  &lt;&lt; std::endl;
    bool flag(true);
    if (v.empty()) std::cout &lt;&lt; "Nema identicnih trouglova!" &lt;&lt; std::endl;
    else {
        for (int i = 0; i &lt; v.size()-1; i++) {
<a name="7"></a><font color="#0000FF"><a href="match858-0.html#7" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_0.gif"/></a>

            for (int j = i+1; j &lt;v.size() ; j++) {
                if (DaLiSuIdenticni(*v[i],*v[j])) {
                    if (flag) {
</font>                        std::cout &lt;&lt; "Parovi identicnih trouglova:" &lt;&lt; std::endl;
                        flag = false;
                    }
                    v[i]-&gt;Ispisi(); std::cout &lt;&lt; " i "; v[j]-&gt;Ispisi(); std::cout  &lt;&lt; std::endl;
                }
            }
        }
        if (flag) std::cout &lt;&lt; "Nema identicnih trouglova!" &lt;&lt; std::endl;
    }
    flag = true;
    
    if (v.empty()) std::cout &lt;&lt; "Nema podudarnih trouglova!" &lt;&lt; std::endl;
    else {
        for (int i = 0; i &lt; v.size()-1; i++) {
<a name="8"></a><font color="#00FFFF"><a href="match858-0.html#8" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_0.gif"/></a>

            for (int j = i+1; j &lt;v.size() ; j++) {
                if (DaLiSuPodudarni(*v[i],*v[j])) {
                    if (flag) {
</font>                        std::cout &lt;&lt; "Parovi podudarnih trouglova:" &lt;&lt; std::endl;
                        flag = false;
                    }
                    v[i]-&gt;Ispisi(); std::cout &lt;&lt; " i "; v[j]-&gt;Ispisi(); std::cout  &lt;&lt; std::endl;
                }
            }
        }
        if (flag) std::cout &lt;&lt; "Nema podudarnih trouglova!" &lt;&lt; std::endl;
    }
    flag = true;
    if (v.empty()) std::cout &lt;&lt; "Nema slicnih trouglova!" &lt;&lt; std::endl;
    else {
        for (int i = 0; i &lt; v.size()-1; i++) {
<a name="9"></a><font color="#FF00FF"><a href="match858-0.html#9" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_0.gif"/></a>

            for (int j = i+1; j &lt;v.size() ; j++) {
                if (DaLiSuSlicni(*v[i],*v[j])) {
                    if (flag) {
</font>                        std::cout &lt;&lt; "Parovi slicnih trouglova:" &lt;&lt; std::endl;
                        flag = false;
                    }
                    v[i]-&gt;Ispisi(); std::cout &lt;&lt; " i "; v[j]-&gt;Ispisi(); std::cout  &lt;&lt; std::endl;
                }
            }
        }
        if (flag) std::cout &lt;&lt; "Nema slicnih trouglova!" &lt;&lt; std::endl;
    }
    return 0;
}</pre>
</body>
</html>
