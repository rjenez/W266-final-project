<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z1/student2526.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z1/student5897.cpp<p></p><pre>
/B 2016/2017, ZadaÄ‡a 4, Zadatak 1
//Napomena: testovi ce biti dostupni dan pred rok!
#include &lt;iostream&gt;
#include &lt;utility&gt;
#include &lt;stdexcept&gt;
#include &lt;cmath&gt;
#include &lt;vector&gt;
#include &lt;memory&gt;
#include &lt;algorithm&gt;
#define pi 3.14159265359

typedef std::pair&lt;double, double&gt; Tacka;

class Trougao {
  Tacka t1, t2, t3;
  void ProvjeriIndeks(int indeks) const { if(indeks&lt;1 || indeks&gt;3) throw std::domain_error("Nekorektan indeks"); }
  static bool ProvjeriNaJednakost(double a, double b) { long double Eps = 1e-10; if(fabs(a-b) &lt;= Eps * (fabs(a)+fabs(b))) return true; return false; }
  static double ZaPovrsinu(const Tacka t1, const Tacka t2, const Tacka t3) { double a = (t1.first*(t2.second-t3.second))-(t2.first*(t1.second-t3.second))+(t3.first*(t1.second-t2.second)); return a; }
  public: 
  Trougao(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3);
  void Postavi(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3) { if(ProvjeriNaJednakost(ZaPovrsinu(t1,t2,t3),0)) throw std::domain_error("Nekorektne pozicije tjemena"); Trougao::t1=t1; Trougao::t2=t2; Trougao::t3=t3; }
  void Postavi(int indeks, const Tacka &amp;t);
  static int Orijentacija(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3) { if(ZaPovrsinu(t1, t2, t3)&gt;0) return 1; else return -1; }
  Tacka DajTjeme(int indeks) const { ProvjeriIndeks(indeks); if(indeks==1) return t1; else if(indeks==2) return t2; else return t3; }
  double DajStranicu(int indeks) const;
  double DajUgao(int indeks) const;
  Tacka DajCentar() const { Tacka c = std::make_pair((t1.first+t2.first+t3.first)/3, (t1.second+t2.second+t3.second)/3); return c; }
  double DajObim() const { double a=DajStranicu(1), b=DajStranicu(2), c=DajStranicu(3); return a+b+c; }
  double DajPovrsinu() const { return std::fabs(ZaPovrsinu(t1, t2, t3))/2; }
  bool DaLiJePozitivnoOrijentiran() const { return Orijentacija(t1, t2, t3); }
  bool DaLiJeUnutra(const Tacka &amp;t) const;
  void Ispisi() const { std::cout &lt;&lt; "((" &lt;&lt; t1.first &lt;&lt; "," &lt;&lt; t1.second &lt;&lt; "),(" &lt;&lt; t2.first &lt;&lt; "," &lt;&lt; t2.second &lt;&lt; "),(" &lt;&lt; t3.first &lt;&lt; "," &lt;&lt; t3.second &lt;&lt; "))"; }
  void Transliraj(double delta_x, double delta_y) { Trougao::t1.first+=delta_x; Trougao::t1.second+=delta_y; Trougao::t2.first+=delta_x; Trougao::t2.second+=delta_y; Trougao::t3.first+=delta_x; Trougao::t3.second+=delta_y; }
  void Centriraj(const Tacka &amp;t) { Tacka tjeme=DajCentar(); Transliraj(t.first-tjeme.first, t.second-tjeme.second); }
  void Rotiraj(const Tacka &amp;t, double ugao);
  void Skaliraj(const Tacka &amp;t, double faktor);
  void Rotiraj(double ugao) { Rotiraj(DajCentar(), ugao); }
  void Skaliraj(double faktor) { Skaliraj(DajCentar(), faktor); }
  friend bool DaLiSuIdenticni(const Trougao &amp;t1, const Trougao &amp;t2);
  friend bool DaLiSuPodudarni(const Trougao &amp;t1, const Trougao &amp;t2);
<a name="5"></a><font color="#FF0000"><a href="match679-0.html#5" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_0.gif"/></a>

  friend bool DaLiSuSlicni(const Trougao &amp;t1, const Trougao &amp;t2);
};

Trougao::Trougao(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3) {
   // if((Trougao::ProvjeriNaJednakost(t1.first, t2. first) &amp;&amp; Trougao::ProvjeriNaJednakost(t1. first, t3.first)) || (Trougao::ProvjeriNaJednakost(t1.second, t2.second) &amp;&amp; Trougao::ProvjeriNaJednakost(t2.second, t3.second))) throw std::domain_error("Nekorektne pozicije tjemena");
    if(ProvjeriNaJednakost(ZaPovrsinu(t1,t2,t3), 0)) throw std::domain_error("Nekorektne pozicije tjemena");
</font><a name="4"></a><font color="#FF00FF"><a href="match679-0.html#4" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_1.gif"/></a>

    Trougao::t1=t1; Trougao::t2=t2; Trougao::t3=t3;
}

void Trougao::Postavi(int indeks, const Tacka &amp;t) {
</font>    ProvjeriIndeks(indeks);
    if(indeks==1) Trougao::t1=t;
    else if(indeks==2) Trougao::t2=t;
    else Trougao::t3=t;
}

double Trougao::DajStranicu(int indeks) const {
    ProvjeriIndeks(indeks);
    if(indeks==1) return std::sqrt(std::pow(t3.first-t2.first, 2) + std::pow(t2.second-t3.second,2));
    else if(indeks==2) return std::sqrt(std::pow(t1.first-t3.first, 2) + std::pow(t1.second-t3.second, 2));
    else return std::sqrt(std::pow(t2.first-t1.first, 2) + std::pow(t2.second-t1.second, 2));
}

double Trougao::DajUgao(int indeks) const {
    ProvjeriIndeks(indeks);
    double a = DajStranicu(1), b = DajStranicu(2), c = DajStranicu(3);
    
    if(indeks==1) return std::acos((b*b+c*c-a*a)/(2*b*c))*pi/180;
    else if(indeks==2) return std::acos((a*a+c*c-b*b)/(2*a*c))*pi/180;
    else return std::acos((b*b-c*c+a*a)/(2*b*a))*pi/180;
}

void Trougao::Rotiraj(const Tacka &amp;t, double ugao) {
    Tacka p;
    p.first = t.first+(t1.first-t.first)*cos(ugao)-(t1.second-t.second)*sin(ugao); p.second = t.second+(t1.first-t.first)*sin(ugao)+(t1.second-t.second)*cos(ugao);
    t1.first = p.first; t1.second = p.second;
    p.first = t.first+(t2.first-t.first)*cos(ugao)-(t2.second-t.second)*sin(ugao); p.second = t.second+(t2.first-t.first)*sin(ugao)+(t2.second-t.second)*cos(ugao);
    t2.first=p.first; t2.second = p.second;
    p.first = t.first+(t3.first-t.first)*cos(ugao)-(t3.second-t.second)*sin(ugao); p.second = t.second+(t3.first-t.first)*sin(ugao)+(t3.second-t.second)*cos(ugao);
    t3.first = p.first; t3.second = p.second;
    
}

void Trougao::Skaliraj(const Tacka &amp;t, double faktor) {
    if(Trougao::ProvjeriNaJednakost(faktor,0)) throw std::domain_error("Nekorektan faktor skaliranja");
    t1 = std::make_pair(t.first+faktor*(t1.first-t.first), t.second+faktor*(t1.second-t.second));
    t2 = std::make_pair(t.first+faktor*(t2.first-t.first), t.second+faktor*(t2.second-t.second));
    t3 = std::make_pair(t.first+faktor*(t3.first-t.first), t.second+faktor*(t3.second-t.second));
}

bool DaLiSuIdenticni(const Trougao &amp;t1, const Trougao &amp;t2) {
     if((t1.t1==t2.t1 &amp;&amp; ((t1.t2==t2.t2 &amp;&amp; t1.t3==t2.t3) || (t1.t2==t2.t3 &amp;&amp; t1.t3==t2.t2))) || (t1.t1==t2.t2 &amp;&amp; ((t1.t2 == t2.t3 &amp;&amp; t1.t3 == t2.t1) || (t1.t2 == t2.t1 &amp;&amp; t1.t3 == t2.t3))) || (t1.t1 == t2.t3 &amp;&amp; ((t1.t2==t2.t1 &amp;&amp; t1.t3 == t2.t2) || (t1.t2 == t2.t2 &amp;&amp; t1.t3 == t2.t1)))) return true;
     return false;
}

bool DaLiSuSlicni(const Trougao &amp;t1, const Trougao &amp;t2) {
   double st1[3] = {t1.DajStranicu(3), t1.DajStranicu(2), t1.DajStranicu(1)};
   double st2[3] = {t2.DajStranicu(1), t2.DajStranicu(2), t2.DajStranicu(3)};
   
   std::sort(st1, st1+3);
   std::sort(st2, st2+3);
 
  if(Trougao::ProvjeriNaJednakost(st1[1]/st2[1], st1[2]/st2[2]) &amp;&amp; !Trougao::ProvjeriNaJednakost(Trougao::Orijentacija(t1.t1,t1.t2, t1.t3), Trougao::Orijentacija(t2.t1,t2.t2,t2.t3) )) return true;
  
   return false;
}

bool DaLiSuPodudarni(const Trougao &amp;t1, const Trougao &amp;t2) {
    
    double st1[3] = {t1.DajStranicu(1), t1.DajStranicu(2), t1.DajStranicu(3) };
    double st2[3] = {t2.DajStranicu(1), t2.DajStranicu(2), t2.DajStranicu(3) };
   
    if(!Trougao::ProvjeriNaJednakost(Trougao::Orijentacija(t1.t1,t1.t2,t1.t3), Trougao::Orijentacija(t2.t1,t2.t2,t2.t3))) {
   
    std::sort(st1, st1+3);
    std::sort(st2, st2+3);
       if(Trougao::ProvjeriNaJednakost(st1[0], st2[0]) &amp;&amp; Trougao::ProvjeriNaJednakost(st1[1], st2[1]) &amp;&amp; Trougao::ProvjeriNaJednakost(st1[2], st2[2])) return true;
     
   }
   else {
        if(Trougao::ProvjeriNaJednakost(st1[0], st2[0]) &amp;&amp; Trougao::ProvjeriNaJednakost(st1[1], st2[2]) &amp;&amp; Trougao::ProvjeriNaJednakost(st1[2], st2[1])) return true;

   }
    
    return false;
}

int main (){
    std::cout &lt;&lt; "Koliko zelite kreirati trouglova: ";
    int n;
    std::cin &gt;&gt; n;
    
    std::vector&lt;std::shared_ptr&lt;Trougao&gt;&gt; v(n, nullptr);
    //try{
    for(int i=0; i&lt;n; i++) {
        Tacka t1, t2, t3;
        try {
            std::cout &lt;&lt; "Unesite podatke za " &lt;&lt; i+1 &lt;&lt; ". trougao (x1 y1 x2 y2 x3 y3): ";
            Tacka tocka;
           // std::cout &lt;&lt; "Unesite prvo tjeme: ";
            int x1, y1, x2, y2, x3, y3;
            std::cin &gt;&gt; x1 &gt;&gt; y1;
            t1 = std::make_pair(x1, y1);
        
            //std::cout &lt;&lt; "Unesite drugo tjeme: ";
            std::cin &gt;&gt; x2 &gt;&gt; y2;
            t2 = std::make_pair(x2, y2);
        
            //std::cout &lt;&lt; "Unesite trece tjeme: ";
            std::cin &gt;&gt; x3 &gt;&gt; y3;
            t3 = std::make_pair(x3, y3);
            
            Trougao t(t1, t2, t3);  
            v[i] = std::make_shared&lt;Trougao&gt; (t);

        } catch(std::domain_error w) { std::cout &lt;&lt; w.what() &lt;&lt; ", ponovite unos!" &lt;&lt; std::endl; i--; continue; }
    }
    try{
    std::cout &lt;&lt; "Unesite vektor translacije (dx dy): ";
    double dx, dy, ugao, faktor;
    std::cin &gt;&gt; dx &gt;&gt; dy;
    std::transform(v.begin(), v.end(), v.begin(), [dx, dy] (std::shared_ptr&lt;Trougao&gt; v) { v-&gt;Transliraj(dx, dy); return v; });
//    v[0]-&gt;Ispisi();
    std::cout &lt;&lt; "Unesite ugao rotacije: ";
    std::cin &gt;&gt; ugao;
    std::transform(v.begin(), v.end(), v.begin(), [ugao] (std::shared_ptr&lt;Trougao&gt; v) { v-&gt;Rotiraj(v-&gt;DajCentar(),ugao); return v; });
    //v[0]-&gt;Ispisi();
    std::cout &lt;&lt; "Unesite faktor skaliranja: ";
    std::cin &gt;&gt; faktor;
    std::transform(v.begin(), v.end(), v.begin(), [faktor] (std::shared_ptr&lt;Trougao&gt; v) { v-&gt;Skaliraj(v-&gt;DajTjeme(1), faktor); return v;});
   // v[0]-&gt;Ispisi();
  std::sort(v.begin(), v.end(), [] (std::shared_ptr&lt;Trougao&gt; x, std::shared_ptr&lt;Trougao&gt; y) { return x-&gt;DajPovrsinu() &lt; y-&gt;DajPovrsinu(); });
    
        std::cout &lt;&lt; "Trouglovi nakon obavljenih transformacija:" &lt;&lt; std::endl;

    std::for_each(v.begin(), v.end(), [] (std::shared_ptr&lt;Trougao&gt; v) { v-&gt;Ispisi(); std::cout &lt;&lt; std::endl; });

   auto mini = *std::min_element(v.begin(), v.end(), [] (std::shared_ptr&lt;Trougao&gt; a, std::shared_ptr&lt;Trougao&gt; b) { double o1(a-&gt;DajObim()), o2(b-&gt;DajObim()); return o1&lt;o2; });

<a name="3"></a><font color="#00FFFF"><a href="match679-0.html#3" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_1.gif"/></a>

    std::cout &lt;&lt; "Trougao sa najmanjim obimom: "; mini-&gt;Ispisi(); std::cout &lt;&lt; std::endl;
    
        
        
    std::vector&lt;std::pair&lt;Trougao, Trougao&gt;&gt; identicni, podudarni, slicni;
    
    //std::vector&lt;int&gt; pamti_j;
    
    for(int i=0; i&lt;n-1; i++) {
</font>        for(int j=i+1; j&lt;n; j++)  {
<a name="0"></a><font color="#FF0000"><a href="match679-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_3.gif"/></a>

            if(DaLiSuIdenticni(*v[i], *v[j])) { identicni.push_back(std::make_pair(*v[i], *v[j])); }
        }
    }
    if(identicni.size()==0) std::cout &lt;&lt; "Nema identicnih trouglova!" &lt;&lt; std::endl;
    else {      std::cout &lt;&lt; "Parovi identicnih trouglova:" &lt;&lt; std::endl;
                std::for_each(identicni.begin(), identicni.end(), [] (std::pair&lt;Trougao, Trougao&gt; p) { (p.first).Ispisi(); std::cout &lt;&lt; " i "; (p.second).Ispisi(); std::cout &lt;&lt; std::endl; } ); }
</font>    

     for(int i=0; i&lt;n-1; i++) {
        for(int j=i+1; j&lt;n; j++)  {
            if(DaLiSuPodudarni(*v[i], *v[j])) { podudarni.push_back(std::make_pair(*v[i], *v[j])); }
        }
    }
<a name="1"></a><font color="#00FF00"><a href="match679-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_2.gif"/></a>

    if(podudarni.size()==0) std::cout &lt;&lt; "Nema podudarnih trouglova!" &lt;&lt; std::endl;
    else {     std::cout &lt;&lt; "Parovi podudarnih trouglova:" &lt;&lt; std::endl;
        std::for_each(podudarni.begin(), podudarni.end(), [] (std::pair&lt;Trougao, Trougao&gt; p) { (p.first).Ispisi(); std::cout &lt;&lt; " i "; (p.second).Ispisi(); std::cout &lt;&lt; std::endl;} ); }
</font>    
     for(int i=0; i&lt;n-1; i++) {
        for(int j=i+1; j&lt;n; j++)  {
            if(DaLiSuSlicni(*v[i], *v[j])) { slicni.push_back(std::make_pair(*v[i], *v[j])); }
        }
    }
<a name="2"></a><font color="#0000FF"><a href="match679-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_2.gif"/></a>

    if(slicni.size()==0) std::cout &lt;&lt; "Nema slicnih trouglova!" &lt;&lt; std::endl;
    else {     std::cout &lt;&lt; "Parovi slicnih trouglova:" &lt;&lt; std::endl;
        std::for_each(slicni.begin(), slicni.end(), [] (std::pair&lt;Trougao, Trougao&gt; p) { (p.first).Ispisi(); std::cout &lt;&lt; " i "; (p.second).Ispisi(); std::cout &lt;&lt; std::endl;} ); }
</font>    
    
    } catch(std::domain_error s) { std::cout &lt;&lt; s.what(); }
    catch(...) {};
return 0;
} 
/*{ 
    Tacka t1(3,6);
    Tacka t2(11,4);
    Tacka t3(9,8);
    
    Tacka ta1(7,5);
    Tacka ta2(-1,7);
    Tacka ta3(5,9);
    Trougao tr1(t1,t2,t3), tr2(ta1, ta2, ta3);
   // t.Ispisi();
   // Tacka transliraj(1,1);
    //t.Transliraj(2,3);
    std::cout &lt;&lt; std::endl; 
    //t.Ispisi();
    //t.Rotiraj(0);
    //Tacka cent = t.DajCentar();
    //std::cout &lt;&lt; "teziste: " &lt;&lt; cent.first &lt;&lt; "," &lt;&lt; cent.second;
    //std::cout &lt;&lt; std::endl; t.Ispisi(); 
    
    //t.Skaliraj(t.DajTjeme(1), 2);
    //std::cout &lt;&lt; std::endl; t.Ispisi();
    std::cout &lt;&lt; (int)DaLiSuPodudarni(tr1, tr2);
    
return 0;
} */</pre>
</body>
</html>
