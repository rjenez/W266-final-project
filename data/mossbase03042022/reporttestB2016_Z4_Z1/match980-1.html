<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z1/student2340.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z1/student7891.cpp<p></p><pre>
/B 2016/2017, ZadaÄ‡a 4, Zadatak 1
//Napomena: testovi ce biti dostupni dan pred rok



#include &lt;iostream&gt;
#include &lt;utility&gt;
#include &lt;cmath&gt;
#include &lt;new&gt;
#include &lt;stdexcept&gt;
#include &lt;memory&gt;
#include &lt;vector&gt;
#include &lt;algorithm&gt;

const double eps(pow(10,-10));
using std::cout;
using std::cin;
using std::endl;

typedef std::pair&lt;double,double&gt; Tacka;

/*bool operator== (const std::pair&lt;double,double&gt; &amp;p1, const std::pair&lt;double,double&gt; &amp;p2)
{
    return (std::fabs(p1.first-p2.first)&lt;=eps*(std::fabs(p1.first) + std::fabs(p2.first))) &amp;&amp; (std::fabs(p1.second-p2.second) &lt;= eps*(std::fabs(p1.second)+ std::fabs(p2.second)));
}*/

class Trougao{
    Tacka t1, t2,t3;
public: 
    Trougao(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3){
        if(Orijentacija(t1,t2,t3)==0) throw std::domain_error ("Nekorektne pozicije tjemena");
        Postavi(t1,t2,t3);
    }
    void Postavi(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3){
<a name="3"></a><font color="#00FFFF"><a href="match980-0.html#3" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_1.gif"/></a>

         if(Orijentacija(t1,t2,t3)==0) throw std::domain_error ("Nekorektne pozicije tjemena");
        Trougao::t1=t1;
        Trougao::t2=t2;
        Trougao::t3=t3;
    }
    void Postavi(int indeks, const Tacka &amp;t){
        if(Orijentacija(t1,t2,t3)==0) throw std::domain_error ("Nekorektne pozicije tjemena");
</font>        if(indeks!=1 ||indeks!=2 || indeks !=3) throw std::range_error("Nekorektan indeks");
<a name="4"></a><font color="#FF00FF"><a href="match980-0.html#4" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_1.gif"/></a>

        if(indeks==1)
        {
            Trougao::t1=t;
        }
        else if(indeks==2)
        {
            Trougao::t2=t;
        }
        else if(indeks==3) Trougao::t3=t;
</font>        
    }
    static bool poredjenje(double x, double y)
    {
<a name="5"></a><font color="#FF0000"><a href="match980-0.html#5" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_1.gif"/></a>

        return std::fabs(x-y)&lt;=eps*(std::fabs(x)+ std::fabs(y));
    }
    static double Racunaj(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3)
    {
        
        return (t1.first*(t2.second-t3.second)-t2.first*(t1.second-t3.second)+t3.first*(t1.second-t2.second));
</font>        
    }
    static int Orijentacija(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3){
        double izraz(Racunaj(t1,t2,t3));
        if(izraz&gt;0) return 1;
        else if(izraz &lt;0) return -1;
        else return 0;
    }
    Tacka DajTjeme(int indeks) const{
        if(indeks !=1 &amp;&amp; indeks!=2 &amp;&amp; indeks !=3) throw std::range_error("Nekorektan indeks");
        if(indeks==1) return t1;
        else if(indeks==2) return t2;
        return t3;
        
    }
    static double duzina(const Tacka &amp;t1, const Tacka &amp;t2)
    {
        return sqrt((t1.first- t2.first)*(t1.first-t2.first) + (t1.second-t2.second)*(t1.second- t2.second));
    }
    double DajStranicu(int indeks) const{
        if(indeks!=1 &amp;&amp; indeks!=2 &amp;&amp; indeks!=3) throw std::range_error("Nekorektan indeks");
        if(indeks==1)
        {
            double duz(duzina(t2,t3));
            return duz;
        }
        else if(indeks==2)
        {
            double duz(duzina(t1,t3));
            return duz;
        }
        double duz(duzina(t2,t1));
        return duz;
        
    }
    double DajUgao(int indeks) const{
        if(indeks!=1 &amp;&amp;indeks!=2 &amp;&amp; indeks !=3) throw std::range_error("Nekorektan indeks");
        double a(DajStranicu(1)), b(DajStranicu(2)), c(DajStranicu(3));
        if(indeks ==1)
        {
            return acos((b*b+c*c-a*a)/(2*b*c));
        }
        else if(indeks==2)
        {
            return acos((a*a+c*c-b*b)/(2*a*c));
        }
        return acos((a*a+b*b-c*c)/(2*a*b));
        
    }
    Tacka DajCentar() const{
        Tacka teziste;
        teziste.first=(t1.first+t2.first+t3.first)/3;
        teziste.second=(t1.second+t2.second + t3.second)/3;
        return teziste;
    }
    double DajObim() const{
        return DajStranicu(1)+DajStranicu(2)+DajStranicu(3);
    }
    double DajPovrsinu() const{
        return 1/2.*std::fabs(Racunaj(t1,t2,t3));
    }
    bool DaLiJePozitivnoOrijentiran() const{
        int o(Orijentacija(t1,t2,t3));
        if(o==1) return true;
        return false;
        
    }
    bool DaLiJeUnutra(const Tacka &amp;t) const{
        int ABC(Orijentacija(t1,t2,t3));
        int ABU(Orijentacija(t1,t2,t));
        int BCU(Orijentacija(t2,t3,t));
        int CAU(Orijentacija(t3,t1,t));
        if(ABC==1)
        {
            if( ABU==1 &amp;&amp; BCU==1 &amp;&amp; CAU==1) return true;
        }
        else if(ABC==-1)
        {
<a name="6"></a><font color="#00FF00"><a href="match980-0.html#6" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_1.gif"/></a>

            if( ABU==-1 &amp;&amp; BCU==-1 &amp;&amp; CAU==-1) return true;
        }
        return false;
    }
    void Ispisi() const{
        std::cout&lt;&lt;"(("&lt;&lt;t1.first&lt;&lt;","&lt;&lt;t1.second&lt;&lt;"),("&lt;&lt;t2.first&lt;&lt;","&lt;&lt;t2.second&lt;&lt;"),("&lt;&lt;t3.first&lt;&lt;","&lt;&lt;t3.second&lt;&lt;"))";
</font>    }
    void Transliraj(double delta_x, double delta_y)
    {
        t1.first+=delta_x; t2.first+=delta_x; t3.first+=delta_x;
        t1.second+=delta_y; t2.second+=delta_y; t3.second+=delta_y;
    }
    void Centriraj(const Tacka &amp;t){
        Tacka teziste(DajCentar());
        double delta_x(t.first-teziste.first);
        double delta_y(t.second-teziste.second);
        Transliraj(delta_x, delta_y);
    }
    void Rotiraj(const Tacka &amp;t, double ugao){
        Tacka t11(t1), t22(t2), t33(t3);
        t1.first=t.first+(t11.first-t.first)*cos(ugao) - (t11.second - t.second)*sin(ugao);
        t1.second=t.second+(t11.first-t.first)*sin(ugao) + (t11.second - t.second)*cos(ugao);
        
        
        
        t2.first=t.first+(t22.first-t.first)*cos(ugao) - (t22.second - t.second)*sin(ugao);;
        t2.second=t.second+(t22.first-t.first)*sin(ugao) + (t22.second - t.second)*cos(ugao);
        
        
        
        t3.first=t.first+(t33.first-t.first)*cos(ugao) - (t33.second - t.second)*sin(ugao);
<a name="2"></a><font color="#0000FF"><a href="match980-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_1.gif"/></a>

        t3.second=t.second+(t33.first-t.first)*sin(ugao) + (t33.second - t.second)*cos(ugao);
        
    }
    void Skaliraj(const Tacka &amp;t, double k){
        if(poredjenje(k,0)) throw std::domain_error("Nekorektan faktor skaliranja");
</font>        if(k&gt;0)
        {
            t1.first=t.first + k*(t1.first - t.first);
            t1.second=t.second + k*(t1.second - t.second);
            
            t2.first=t.first + k*(t2.first - t.first);
            t2.second=t.second +k*(t2.second - t.second);
            
<a name="1"></a><font color="#00FF00"><a href="match980-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_2.gif"/></a>

            t3.first=t.first + k*(t3.first - t.first);
            t3.second=t.second +k*(t3.second - t.second);
        }
        else if(k&lt;0)
        {
            t1.first=t1.first + k*(t.first - t1.first);
</font>            t1.second+=k*(t.second - t1.second);
            
            t2.first=t2.first + k*(t.first - t2.first);
            t2.second+=k*(t.second - t2.second);
            
            t3.first=t3.first + k*(t.first - t3.first);
            t3.second+=k*(t.second - t3.second);
            Rotiraj(t,180);
        }
        
    }
    void Rotiraj(double ugao){
        Tacka teziste(DajCentar());
        Rotiraj(teziste, ugao);
    }
    void Skaliraj(double faktor)
    {
        if(poredjenje(faktor,0)) throw std::domain_error("Nekorektan faktor skaliranja");
        Tacka teziste(DajCentar());
        Rotiraj(teziste,faktor);
    }
    
    static double Ugao(double a, double b, double c)
    {
        return acos((b*b+c*c-a*a)/(2*b*c));
    }
    
<a name="0"></a><font color="#FF0000"><a href="match980-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_5.gif"/></a>

    friend bool DaLiSuIdenticni(const Trougao &amp;t1, const Trougao &amp;t2){
        if(t1.t1==t2.t1 &amp;&amp; t1.t2==t2.t2 &amp;&amp; t1.t3==t2.t3) return true;
        if(t1.t1==t2.t2 &amp;&amp; t1.t2==t2.t1 &amp;&amp; t1.t3==t2.t3) return true;
        if(t1.t1==t2.t3 &amp;&amp; t1.t2==t2.t2 &amp;&amp; t1.t3==t2.t1) return true;
        if(t1.t1==t2.t2 &amp;&amp; t1.t2==t2.t3 &amp;&amp; t1.t3==t2.t1) return true;
</font>        if(t1.t1==t2.t1 &amp;&amp; t1.t2==t2.t3 &amp;&amp; t1.t3==t2.t2) return true;
        if(t1.t1==t2.t3 &amp;&amp; t1.t2==t2.t1 &amp;&amp; t1.t3==t2.t2) return true;
        return false;
        
    }
    friend bool DaLiSuPodudarni(const Trougao &amp;t1, const Trougao &amp;t2){
        double a1(t1.DajStranicu(1)), b1(t1.DajStranicu(2)), c1(t1.DajStranicu(3));
        double a2(t2.DajStranicu(1)), b2(t2.DajStranicu(2)), c2(t2.DajStranicu(3));
        double alfa1(Ugao(a1,b1,c1)), beta1(Ugao(b1,c1,a1)), gama1(Ugao(c1,a1,b1));
        double alfa2(Ugao(a2,b2,c2)), beta2(Ugao(b2,c2,a2)), gama2(Ugao(c2,a2,b2));
        if(poredjenje(a1,a2) &amp;&amp; poredjenje(b1,b2) &amp;&amp; poredjenje(c1,c2) &amp;&amp; poredjenje(alfa1,alfa2) &amp;&amp; poredjenje(beta1,beta2) &amp;&amp; poredjenje(gama1,gama2)){
            return true;
        }
        return false;
        
    }
    friend bool DaLiSuSlicni(const Trougao &amp;t1, const Trougao &amp;t2){
        double obim1(t1.DajObim()), obim2(t2.DajObim());
        double s1(t1.DajPovrsinu()), s2(t2.DajPovrsinu());
        double s=s1/s2;
        double obim=obim1/obim2;
        obim=pow(obim,2);
        if(poredjenje(s,obim)) return true;
        return false;
    }
};


int main ()
{
    cout&lt;&lt;"Koliko zelite kreirati trouglova: ";
    int n;
    cin&gt;&gt;n;
    std::vector&lt;std::shared_ptr&lt;Trougao&gt;&gt; trouglovi;
    for(int i=0; i&lt;n; i++)
    {
        cout&lt;&lt;"Unesite podatke za "&lt;&lt;i+1&lt;&lt;". trougao: ";
        double x1,x2,x3,y1,y2,y3;
        cin&gt;&gt;x1&gt;&gt;y1&gt;&gt;x2&gt;&gt;y2&gt;&gt;x3&gt;&gt;y3;
        Tacka t1, t2, t3;
        t1=std::make_pair(x1,y1);
        t2=std::make_pair(x2,y2);
        t3=std::make_pair(x3,y3);
        try
        {
            std::shared_ptr&lt;Trougao&gt; pom(std::make_shared&lt;Trougao&gt;(Trougao(t1,t2,t3)));
            trouglovi.push_back(pom);
        }
        catch( std::domain_error e)
        {
            cout&lt;&lt;e.what()&lt;&lt;endl;
        }
    }
    cout&lt;&lt;"Unesite vektor translacije (dx dy): ";
    double xv, yv;
    cin&gt;&gt;xv&gt;&gt;yv;
    Tacka v_translacije(std::make_pair(xv,yv));
    cout&lt;&lt;"Unesite ugao rotacije: ";
    double ugao;
    cin&gt;&gt;ugao;
    cout&lt;&lt;"Unesite faktor skaliranja: ";
    double k;
    cin&gt;&gt;k;
    cout&lt;&lt;"Trouglovi nakon obavljenih transformacija: "&lt;&lt;endl;
    for( int i=0; i&lt;n; i++)
    {
       trouglovi[i]-&gt;Centriraj(v_translacije);
       trouglovi[i]-&gt;Rotiraj(ugao);
       Tacka t1;
       try{
           t1=trouglovi[i]-&gt;DajTjeme(1);
       }
       catch(std::range_error e)
       {
           cout&lt;&lt;e.what()&lt;&lt;endl;
       }
       try{
          trouglovi[i]-&gt;Skaliraj(t1,k);
       }
       catch (std::domain_error e)
       {
           cout&lt;&lt;e.what()&lt;&lt;endl;
       }
        trouglovi[i]-&gt;Ispisi();
        cout&lt;&lt;endl;
    }
    std::sort(trouglovi.begin(), trouglovi.end(), [](std::shared_ptr&lt;Trougao&gt; t1, std::shared_ptr&lt;Trougao&gt; t2)
    {
        return t1-&gt;DajPovrsinu()&gt;t2-&gt;DajPovrsinu();
    });
    
    
    
	return 0;
}</pre>
</body>
</html>
