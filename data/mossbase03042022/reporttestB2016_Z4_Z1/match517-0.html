<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z1/student4124.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z1/student4124.cpp<p></p><pre>
#include &lt;iostream&gt;
#include &lt;utility&gt;
#include &lt;stdexcept&gt;
#include &lt;cmath&gt;
#include &lt;vector&gt;
#include &lt;memory&gt;
#include &lt;algorithm&gt;

static const double PI(4*std::atan(1));
typedef std::pair&lt;double, double&gt; Tacka;

class Trougao {
    Tacka t1, t2, t3;
    void TestIndeksa(int indeks) const {
        if(indeks!=1 and indeks!=2 and indeks!=3)
            throw std::range_error("Nekorektan indeks");
    }
    void Stranice (double &amp;a, double &amp;b, double &amp;c) const {
        a = std::sqrt((t3.first-t2.first)*(t3.first-t2.first)+(t3.second-t2.second)*(t3.second-t2.second));
        b = std::sqrt((t3.first-t1.first)*(t3.first-t1.first)+(t3.second-t1.second)*(t3.second-t1.second));
        c = std::sqrt((t2.first-t1.first)*(t2.first-t1.first)+(t2.second-t1.second)*(t2.second-t1.second));
    }
    double Izraz (const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3) const {
        return t1.first*(t2.second-t3.second)-t2.first*(t1.second-t3.second)+t3.first*(t1.second-t2.second);
    }
    void RotirajTacku(Tacka &amp;t, const Tacka &amp;tc, double ugao) {
        //ugao*=180/PI;
        Tacka t2(t);
        t.first = tc.first+(t2.first-tc.first)*std::cos(ugao)-(t2.second-tc.second)*std::sin(ugao);
        t.second = tc.second+(t2.first-tc.first)*std::sin(ugao)+(t2.second-tc.second)*std::cos(ugao);
    }
    void SkalirajTacku(Tacka &amp;t, const Tacka &amp;tc, double faktor) {
        Tacka t2(t);
        t.first = tc.first+faktor*(t2.first-tc.first);
        t.second = tc.second+faktor*(t2.second-tc.second);
    }
    static bool Jednaki(double x, double y, double Eps = 1e-10) {
        return std::fabs(x-y)&lt;=Eps*(std::fabs(x)+std::fabs(y));
    }
public:
    Trougao(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3) {
        if(Orijentacija(t1,t2,t3)==0) throw std::domain_error("Nekorektne pozicije tjemena");
        Postavi(t1, t2, t3);
    }
    void Postavi(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3) {
        Trougao::t1=t1; Trougao::t2=t2; Trougao::t3=t3;
    }
    void Postavi(int indeks, const Tacka &amp;t);
    static int Orijentacija(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3);
    Tacka DajTjeme(int indeks) const;
    double DajStranicu(int indeks) const;
    double DajUgao(int indeks) const;
    Tacka DajCentar() const {return {(t1.first+t2.first+t3.first)/3, (t1.second+t2.second+t3.second)/3};}
    double DajObim() const {double a, b, c; Stranice(a,b,c); return a+b+c;}
    double DajPovrsinu() const {return std::fabs(Izraz(t1,t2,t3))/2;}
    bool DaLiJePozitivnoOrijentiran() const {int i(Orijentacija(t1,t2,t3)); if(i&gt;0) return true; return false;}
    bool DaLiJeUnutra(const Tacka &amp;t) const;
    void Ispisi() const;
    void Transliraj(double delta_x, double delta_y);
    void Centriraj(const Tacka &amp;t);
    void Rotiraj(const Tacka &amp;t, double ugao);
    void Skaliraj(const Tacka &amp;t, double faktor);
    void Rotiraj(double ugao);
    void Skaliraj(double faktor);
    
    friend bool DaLiSuIdenticni(const Trougao &amp;t1, const Trougao &amp;t2);
    friend bool DaLiSuPodudarni(const Trougao &amp;t1, const Trougao &amp;t2);
    friend bool DaLiSuSlicni(const Trougao &amp;t1, const Trougao &amp;t2);
};

void Trougao::Postavi(int indeks, const Tacka &amp;t) {
        TestIndeksa(indeks);
        if(indeks==1) {
            if(Orijentacija(t,t2,t3)==0) throw std::domain_error("Nekorektne pozicije tjemena");
            t1=t;
        } else if(indeks==2) {
            if(Orijentacija(t1,t,t3)==0) throw std::domain_error("Nekorektne pozicije tjemena");
            t2=t;
        } else if(indeks==3) {
            if(Orijentacija(t1,t2,t)==0) throw std::domain_error("Nekorektne pozicije tjemena");
            t3=t;
        }
}

int Trougao::Orijentacija(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3) {
    double temp(t1.first*(t2.second-t3.second)-t2.first*(t1.second-t3.second)+t3.first*(t1.second-t2.second));
    if(temp&gt;0) return 1; if(temp&lt;0) return -1; return 0; 
}

Tacka Trougao::DajTjeme(int indeks) const {
    TestIndeksa(indeks);
    if(indeks==1) return t1;
        else if(indeks==2) return t2;
    return t3;
}

double Trougao::DajStranicu(int indeks) const {
    TestIndeksa(indeks);
    double a, b, c;
    Stranice(a,b,c);
    if(indeks==1) return a;
        else if(indeks==2) return b;
    return c;
}

double Trougao::DajUgao(int indeks) const {
    TestIndeksa(indeks);
    double a, b, c;
    Stranice(a,b,c);
    if(indeks==1) return acos((a*a-b*b-c*c)/((-2)*b*c));
        else if(indeks==2) return acos((b*b-a*a-c*c)/((-2)*a*c));
    return acos((c*c-a*a-b*b)/((-2)*a*b));
}

bool Trougao::DaLiJeUnutra(const Tacka &amp;t) const {
    if(DaLiJePozitivnoOrijentiran()) {
        if(Orijentacija(t1,t2,t)==1 and Orijentacija(t2,t3,t)==1 and Orijentacija(t3,t1,t)==1)
            return true;
    } else {
        if(Orijentacija(t1,t2,t)==-1 and Orijentacija(t2,t3,t)==-1 and Orijentacija(t3,t1,t)==-1)
<a name="4"></a><font color="#FF00FF"><a href="match517-1.html#4" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_0.gif"/></a>

            return true;
    }
    return false;
}

void Trougao::Ispisi() const {
    std::cout &lt;&lt; "((" &lt;&lt; t1.first &lt;&lt; "," &lt;&lt; t1.second &lt;&lt; "),(" &lt;&lt; t2.first &lt;&lt; "," &lt;&lt; t2.second &lt;&lt; "),(" &lt;&lt; t3.first &lt;&lt; "," &lt;&lt; t3.second &lt;&lt; "))";
</font>}

void Trougao::Transliraj(double delta_x, double delta_y) {
    t1.first+=delta_x; t2.first+=delta_x; t3.first+=delta_x;
    t1.second+=delta_y; t2.second+=delta_y; t3.second+=delta_y;
}

void Trougao::Centriraj(const Tacka &amp;t) {
    Tacka t4(DajCentar());
    double delta_x(t.first-t4.first), delta_y(t.second-t4.second);
    Transliraj(delta_x, delta_y);
}

void Trougao::Rotiraj(const Tacka &amp;t, double ugao) {
    RotirajTacku(t1, t, ugao);
    RotirajTacku(t2, t, ugao);
    RotirajTacku(t3, t, ugao);
}

void Trougao::Skaliraj(const Tacka &amp;t, double faktor) {
    if(Jednaki(faktor, 0)) throw std::domain_error("Nekorektan faktor skaliranja");
    SkalirajTacku(t1, t, faktor);
    SkalirajTacku(t2, t, faktor);
    SkalirajTacku(t3, t, faktor);
}

void Trougao::Rotiraj(double ugao) {
    Tacka t(DajCentar());
    RotirajTacku(t1, t, ugao);
    RotirajTacku(t2, t, ugao);
    RotirajTacku(t3, t, ugao);
}

void Trougao::Skaliraj(double faktor) {
    if(Jednaki(faktor, 0)) throw std::domain_error("Nekorektan faktor skaliranja");
    Tacka t(DajCentar());
    SkalirajTacku(t1, t, faktor);
    SkalirajTacku(t2, t, faktor);
    SkalirajTacku(t3, t, faktor);
}

bool DaLiSuIdenticni(const Trougao &amp;t1, const Trougao &amp;t2) {
    if(t1.DajCentar() != t2.DajCentar()) return false;
    if(!Trougao::Jednaki(t1.DajObim(), t2.DajObim())) return false;
    if(!Trougao::Jednaki(t1.DajPovrsinu(), t2.DajPovrsinu())) return false;
    if(t1.DajTjeme(1)==t2.DajTjeme(1) or t1.DajTjeme(1)==t2.DajTjeme(2) or t1.DajTjeme(1)==t2.DajTjeme(3))
        return true;
    return false;
}

bool DaLiSuPodudarni(const Trougao &amp;t1, const Trougao &amp;t2) {
<a name="5"></a><font color="#FF0000"><a href="match517-1.html#5" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_0.gif"/></a>

    if(Trougao::Jednaki(t1.DajStranicu(1), t2.DajStranicu(1))) {
        if(Trougao::Jednaki(t1.DajUgao(2),t2.DajUgao(3)) and Trougao::Jednaki(t1.DajUgao(3),t2.DajUgao(2)) and t1.DaLiJePozitivnoOrijentiran()!=t2.DaLiJePozitivnoOrijentiran()) return true;
</font>        if(Trougao::Jednaki(t1.DajUgao(2),t2.DajUgao(2)) and Trougao::Jednaki(t1.DajUgao(3),t2.DajUgao(3)) and t1.DaLiJePozitivnoOrijentiran()==t2.DaLiJePozitivnoOrijentiran()) return true;
<a name="6"></a><font color="#00FF00"><a href="match517-1.html#6" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_0.gif"/></a>

    } else if(Trougao::Jednaki(t1.DajStranicu(1),t2.DajStranicu(2))) {
        if(Trougao::Jednaki(t1.DajUgao(2),t2.DajUgao(1)) and Trougao::Jednaki(t1.DajUgao(3),t2.DajUgao(3)) and t1.DaLiJePozitivnoOrijentiran()!=t2.DaLiJePozitivnoOrijentiran()) return true;
</font>        if(Trougao::Jednaki(t1.DajUgao(2),t2.DajUgao(3)) and Trougao::Jednaki(t1.DajUgao(3),t2.DajUgao(1)) and t1.DaLiJePozitivnoOrijentiran()==t2.DaLiJePozitivnoOrijentiran()) return true;
<a name="7"></a><font color="#0000FF"><a href="match517-1.html#7" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_0.gif"/></a>

    } else if(Trougao::Jednaki(t1.DajStranicu(1),t2.DajStranicu(3))) {
        if(Trougao::Jednaki(t1.DajUgao(3),t2.DajUgao(1)) and Trougao::Jednaki(t1.DajUgao(2),t2.DajUgao(2)) and t1.DaLiJePozitivnoOrijentiran()!=t2.DaLiJePozitivnoOrijentiran()) return true;
</font>        if(Trougao::Jednaki(t1.DajUgao(3),t2.DajUgao(2)) and Trougao::Jednaki(t1.DajUgao(2),t2.DajUgao(1)) and t1.DaLiJePozitivnoOrijentiran()==t2.DaLiJePozitivnoOrijentiran()) return true;
    }
    return false;
}

bool DaLiSuSlicni(const Trougao &amp;t1, const Trougao &amp;t2) {
    double temp1(t1.DajStranicu(1)/t2.DajStranicu(1));
    double temp2(t1.DajStranicu(1)/t2.DajStranicu(2));
    double temp3(t1.DajStranicu(1)/t2.DajStranicu(3));
    if(Trougao::Jednaki(temp1, t1.DajStranicu(2)/t2.DajStranicu(2)) or Trougao::Jednaki(temp1, t1.DajStranicu(2)/t2.DajStranicu(3))) {
        if(Trougao::Jednaki(t1.DajUgao(2),t2.DajUgao(3)) and Trougao::Jednaki(t1.DajUgao(3),t2.DajUgao(2)) and t1.DaLiJePozitivnoOrijentiran()!=t2.DaLiJePozitivnoOrijentiran()) return true;
        if(Trougao::Jednaki(t1.DajUgao(2),t2.DajUgao(2)) and Trougao::Jednaki(t1.DajUgao(3),t2.DajUgao(3)) and t1.DaLiJePozitivnoOrijentiran()==t2.DaLiJePozitivnoOrijentiran()) return true;
    } else if(Trougao::Jednaki(temp2, t1.DajStranicu(2)/t2.DajStranicu(1)) or Trougao::Jednaki(temp2, t1.DajStranicu(2)/t2.DajStranicu(3))) {
        if(Trougao::Jednaki(t1.DajUgao(2),t2.DajUgao(1)) and Trougao::Jednaki(t1.DajUgao(3),t2.DajUgao(3)) and t1.DaLiJePozitivnoOrijentiran()!=t2.DaLiJePozitivnoOrijentiran()) return true;
        if(Trougao::Jednaki(t1.DajUgao(2),t2.DajUgao(3)) and Trougao::Jednaki(t1.DajUgao(3),t2.DajUgao(1)) and t1.DaLiJePozitivnoOrijentiran()==t2.DaLiJePozitivnoOrijentiran()) return true;
    } else if(Trougao::Jednaki(temp3, t1.DajStranicu(2)/t2.DajStranicu(1)) or Trougao::Jednaki(temp3, t1.DajStranicu(2)/t2.DajStranicu(2))) {
        if(Trougao::Jednaki(t1.DajUgao(3),t2.DajUgao(1)) and Trougao::Jednaki(t1.DajUgao(2),t2.DajUgao(2)) and t1.DaLiJePozitivnoOrijentiran()!=t2.DaLiJePozitivnoOrijentiran()) return true;
        if(Trougao::Jednaki(t1.DajUgao(3),t2.DajUgao(2)) and Trougao::Jednaki(t1.DajUgao(2),t2.DajUgao(1)) and t1.DaLiJePozitivnoOrijentiran()==t2.DaLiJePozitivnoOrijentiran()) return true;
    }
    return false;
}

int main ()
{
    
    int n;
    std::cout &lt;&lt; "Koliko zelite kreirati trouglova: ";
    std::cin &gt;&gt; n;
    std::vector&lt;std::shared_ptr&lt;Trougao&gt;&gt; vp(n);
    for(int i(0); i&lt;n; i++) {
<a name="1"></a><font color="#00FF00"><a href="match517-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_1.gif"/></a>

        double a, b, c, d, e, f;
        std::cout &lt;&lt; "Unesite podatke za " &lt;&lt; i+1 &lt;&lt; ". trougao (x1 y1 x2 y2 x3 y3): ";
        std::cin &gt;&gt; a &gt;&gt; b &gt;&gt; c &gt;&gt; d &gt;&gt; e &gt;&gt; f;
</font>        if((std::fabs(a*(d-f)-c*(b-f)+e*(b-d))/2.)-0&lt;=1e-10) {
            i--;
            std::cout &lt;&lt; "Nekorektne pozicije tjemena, ponovite unos!" &lt;&lt; std::endl;
            continue;
        }
        Tacka t1(a,b), t2(c,d), t3(e,f);
        vp[i]=std::make_shared&lt;Trougao&gt;(Trougao(t1,t2,t3));
    }
    double x, y;
    std::cout &lt;&lt; "Unesite vektor translacije (dx dy): ";
    std::cin &gt;&gt; x &gt;&gt; y;
    double ugao, faktor;
    std::cout &lt;&lt; "Unesite ugao rotacije: ";
    std::cin &gt;&gt; ugao;
    std::cout &lt;&lt; "Unesite faktor skaliranja: ";
    std::cin &gt;&gt; faktor;
    std::cout &lt;&lt; "Trouglovi nakon obavljenih transformacija:" &lt;&lt; std::endl;
<a name="8"></a><font color="#00FFFF"><a href="match517-1.html#8" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_0.gif"/></a>

    std::transform(vp.begin(), vp.end(), vp.begin(), [x,y](std::shared_ptr&lt;Trougao&gt; p) {p-&gt;Transliraj(x,y); return p;});
    std::transform(vp.begin(), vp.end(), vp.begin(), [ugao](std::shared_ptr&lt;Trougao&gt; p) {p-&gt;Rotiraj(ugao); return p;});
</font>    std::transform(vp.begin(), vp.end(), vp.begin(), [faktor](std::shared_ptr&lt;Trougao&gt; p) {p-&gt;Skaliraj(p-&gt;DajTjeme(1), faktor); return p;});
<a name="0"></a><font color="#FF0000"><a href="match517-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_2.gif"/></a>

    std::sort(vp.begin(), vp.end(), [](std::shared_ptr&lt;Trougao&gt; p1, std::shared_ptr&lt;Trougao&gt; p2) {return p1-&gt;DajPovrsinu()&lt;p2-&gt;DajPovrsinu();});
    std::for_each(vp.begin(), vp.end(), [](std::shared_ptr&lt;Trougao&gt; p) {p-&gt;Ispisi(); std::cout &lt;&lt; std::endl;});
    std::cout &lt;&lt; "Trougao sa najmanjim obimom: ";
    auto p1 = std::min_element(vp.begin(), vp.end(), [](std::shared_ptr&lt;Trougao&gt; p1, std::shared_ptr&lt;Trougao&gt; p2) {return p1-&gt;DajObim()&lt;p2-&gt;DajObim();});
</font>    (*p1)-&gt;Ispisi(); std::cout &lt;&lt; std::endl;
    bool identicni(false), podudarni(false), slicni(false);
    for(int i(0); i&lt;n; i++)
<a name="9"></a><font color="#FF00FF"><a href="match517-1.html#9" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_0.gif"/></a>

        for(int j(i+1); j&lt;n; j++)
            if(DaLiSuIdenticni(*vp[i],*vp[j])) {
                if(!identicni) std::cout &lt;&lt; "Parovi identicnih trouglova:" &lt;&lt; std::endl;
</font>                identicni=true;
<a name="2"></a><font color="#0000FF"><a href="match517-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_1.gif"/></a>

                vp[i]-&gt;Ispisi(); std::cout &lt;&lt; " i "; vp[j]-&gt;Ispisi(); std::cout &lt;&lt; std::endl;
            }
    if(!identicni) std::cout &lt;&lt; "Nema identicnih trouglova!" &lt;&lt; std::endl;
</font>    for(int i(0); i&lt;n; i++)
<a name="10"></a><font color="#FF0000"><a href="match517-1.html#10" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_0.gif"/></a>

        for(int j(i+1); j&lt;n; j++)
            if(DaLiSuPodudarni(*vp[i],*vp[j])) {
                if(!podudarni) std::cout &lt;&lt; "Parovi podudarnih trouglova:" &lt;&lt; std::endl;
</font>                podudarni=true;
<a name="3"></a><font color="#00FFFF"><a href="match517-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_1.gif"/></a>

                vp[i]-&gt;Ispisi(); std::cout &lt;&lt; " i "; vp[j]-&gt;Ispisi(); std::cout &lt;&lt; std::endl;
            }
    if(!podudarni) std::cout &lt;&lt; "Nema podudarnih trouglova!" &lt;&lt; std::endl;
</font>    for(int i(0); i&lt;n; i++)
<a name="11"></a><font color="#00FF00"><a href="match517-1.html#11" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_0.gif"/></a>

        for(int j(i+1); j&lt;n; j++)
            if(DaLiSuSlicni(*vp[i],*vp[j])) {
                if(!slicni) std::cout &lt;&lt; "Parovi slicnih trouglova:" &lt;&lt; std::endl;
</font>                slicni=true;
                vp[i]-&gt;Ispisi(); std::cout &lt;&lt; " i "; vp[j]-&gt;Ispisi(); std::cout &lt;&lt; std::endl;
            }
    if(!slicni) std::cout &lt;&lt; "Nema slicnih trouglova!" &lt;&lt; std::endl;
	return 0;
}</pre>
</body>
</html>
