<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z1/student2364.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z1/student6720.cpp<p></p><pre>
#include &lt;iostream&gt;
#include &lt;stdexcept&gt;
#include &lt;cmath&gt;
#include &lt;vector&gt;
#include &lt;memory&gt;
#include &lt;algorithm&gt;
typedef std::pair&lt;double, double&gt; Tacka;
#define EPS 1E-10

class Trougao{
    std::vector&lt;Tacka&gt; t;
    std::vector&lt;std::pair&lt;int,int&gt;&gt; ostali{{1,2},{0,2},{0,1}};
    static double Izraz(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3){return t1.first*(t2.second-t3.second)-t2.first*(t1.second-t3.second)+t3.first*(t1.second-t2.second);}
    void Index(int tem)const {
        if(tem!=1 &amp;&amp; tem !=2 &amp;&amp; tem !=3)
            throw std::range_error("Nekorektan indeks");
    }
 
    public:
    explicit Trougao(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3){Postavi(t1,t2,t3);}
    
    void Postavi(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3){
        if(Orijentacija(t1,t2,t3)==0)throw std::domain_error("Nekorektne pozicije tjemena"); 
        t.push_back(t1);t.push_back(t2);t.push_back(t3);
    }
    
    void Postavi(int indeks, const Tacka &amp;t){
        Index(indeks);
        std::vector&lt;Tacka&gt; temp=Trougao::t;
<a name="7"></a><font color="#0000FF"><a href="match523-0.html#7" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_1.gif"/></a>

        temp[indeks-1]=t;
        if(Orijentacija(temp[0],temp[1],temp[2])==0)throw std::domain_error("Nekorektne pozicije tjemena"); 
</font>        this-&gt;t[indeks-1]=t;
    }
    
<a name="8"></a><font color="#00FFFF"><a href="match523-0.html#8" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_1.gif"/></a>

    static int Orijentacija(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3){ if(Izraz(t1,t2,t3)&lt;0){return -1;}else{if(Izraz(t1,t2,t3)&gt;0)return 1; else return 0;}}
</font>    
    Tacka DajTjeme(int indeks) const{Index(indeks);return t[indeks-1];}
    
    double DajStranicu(int indeks) const{Index(indeks);return std::sqrt(std::pow((t[ostali[indeks-1].first].first-t[ostali[indeks-1].second].first),2)+std::pow((t[ostali[indeks-1].first].second-t[ostali[indeks-1].second].second),2));}
    
    double DajUgao(int indeks) const{
        Index(indeks);
        double a(t[ostali[indeks-1].first].first-t[indeks-1].first), b(t[ostali[indeks-1].second].first-t[indeks-1].first), c(t[ostali[indeks-1].first].second-t[indeks-1].second), d(t[ostali[indeks-1].second].second-t[indeks-1].second);
        return std::acos((a*b+c*d)/(std::sqrt(std::pow(a,2)+std::pow(c,2))*std::sqrt(std::pow(b,2)+std::pow(d,2))));
    }
    
<a name="0"></a><font color="#FF0000"><a href="match523-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_2.gif"/></a>

    Tacka DajCentar() const{return Tacka((t[0].first+t[1].first+t[2].first)/3,(t[0].second+t[1].second+t[2].second)/3);}
    
    double DajObim() const{return DajStranicu(1)+DajStranicu(2)+DajStranicu(3);}
    
    double DajPovrsinu() const{return std::abs(((double)1/2)*Izraz(t[0],t[1],t[2]));}
</font>    
    bool DaLiJePozitivnoOrijentiran() const{return Orijentacija(t[0],t[1],t[2])&gt;0;}
    
    bool DaLiJeUnutra(const Tacka &amp;t) const {return Orijentacija(this-&gt;t[0],this-&gt;t[1],this-&gt;t[2])==Orijentacija(this-&gt;t[0],this-&gt;t[1],t)==Orijentacija(this-&gt;t[1],this-&gt;t[2],t)==Orijentacija(this-&gt;t[2],this-&gt;t[0],t);}
    
<a name="9"></a><font color="#FF00FF"><a href="match523-0.html#9" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_1.gif"/></a>

    void Ispisi() const {std::cout&lt;&lt;"(("&lt;&lt;t[0].first&lt;&lt;","&lt;&lt;t[0].second&lt;&lt;"),("&lt;&lt;t[1].first&lt;&lt;","&lt;&lt;t[1].second&lt;&lt;"),("&lt;&lt;t[2].first&lt;&lt;","&lt;&lt;t[2].second&lt;&lt;"))";}
</font>    
    void Transliraj(double delta_x, double delta_y){
        for(int i=0;i&lt;3;i++){
            t[i].first+=delta_x;
            t[i].second+=delta_y;
        }
    }
    
    void Centriraj (const Tacka &amp;t){Transliraj(t.first-DajCentar().first, t.second-DajCentar().second);}
    
    void Rotiraj (const Tacka &amp;t, double ugao) {for(int i=0;i&lt;3;i++) this-&gt;t[i]= Tacka((t.first+(this-&gt;t[i].first-t.first)*std::cos(ugao)-(this-&gt;t[i].second-t.second)*std::sin(ugao)),(t.second+(this-&gt;t[i].first-t.first)*std::sin(ugao)+(this-&gt;t[i].second-t.second)*std::cos(ugao)));}
    
    void Skaliraj(const Tacka &amp;t, double faktor) { 
        if((faktor&lt;0 || faktor&gt;0)==false)throw std::domain_error("Nekorektan faktor skaliranja");
        for(int i=0;i&lt;3;i++) this-&gt;t[i]= Tacka((t.first+faktor*(this-&gt;t[i].first-t.first)),(t.second+faktor*(this-&gt;t[i].second-t.second)));
        if(faktor&lt;0)Rotiraj(180);
    }
    
    void Rotiraj(double ugao) {Rotiraj(DajCentar(),ugao);}
    
    void Skaliraj(double faktor) {Skaliraj(DajCentar(), faktor);}
    
    friend bool DaLiSuIdenticni (const Trougao &amp;t1, const Trougao &amp;t2);
    friend bool DaLiSuPodudarni (const Trougao &amp;t1, const Trougao &amp;t2);
    friend bool DaLiSuSlicni (const Trougao &amp;t1, const Trougao &amp;t2);
};
bool Zajednicka(const Trougao &amp;t1, const Trougao &amp;t2, bool Koja){
    std::vector&lt;Tacka&gt; tjemena;
    for(int i=0;i&lt;3;i++)
        for(int j=0;j&lt;3;j++)
            if(std::abs(t1.DajUgao(i+1)-t2.DajUgao(j+1))&lt;EPS &amp;&amp; ((Koja==0 &amp;&amp; std::abs(t1.DajStranicu(i+1)-t2.DajStranicu(j+1))&lt;EPS) || Koja==1)){
                tjemena.push_back(t2.DajTjeme(j+1));
                break;
            }
    if(tjemena.size()==3 &amp;&amp; Trougao::Orijentacija(t1.DajTjeme(1), t1.DajTjeme(2), t1.DajTjeme(3))==Trougao::Orijentacija(tjemena[0], tjemena[1], tjemena[2]) &amp;&amp;Trougao::Orijentacija(t1.DajTjeme(1), t1.DajTjeme(2), t1.DajTjeme(3))!=0)
        return true;
    else return false;
}
bool DaLiSuIdenticni (const Trougao &amp;t1, const Trougao &amp;t2){
    for(int i=0;i&lt;3;i++){
        bool nadjen{};
        for(int j=0;j&lt;3;j++){
            if(t1.t[i]==t2.t[j])
                nadjen=true;
        }
        if(nadjen==false)
            return false;
    }
    return true;
}
bool DaLiSuPodudarni (const Trougao &amp;t1, const Trougao &amp;t2){return Zajednicka(t1,t2,0);}
bool DaLiSuSlicni (const Trougao &amp;t1, const Trougao &amp;t2){return Zajednicka(t1,t2,1);}
void Parovi(bool(*f)(const Trougao &amp;, const Trougao &amp;), std::vector&lt;std::shared_ptr&lt;Trougao&gt;&gt; &amp;pok, int br_el, std::vector&lt;std::pair&lt;Trougao, Trougao&gt;&gt; &amp;parovi){
    for(int i=0;i&lt;br_el;i++)
            for(int j=i+1;j&lt;br_el;j++)
                if(f(*pok[i], *pok[j]))
                    parovi.push_back(std::pair&lt;Trougao, Trougao&gt;(*pok[i], *pok[j]));
}

int main (){
    int br_el;
    std::cout&lt;&lt;"Koliko zelite kreirati trouglova: ";
    std::cin&gt;&gt;br_el;
    try{
        std::vector&lt;std::shared_ptr&lt;Trougao&gt;&gt; pok(br_el, nullptr);
        Tacka t1,t2,t3;
        for(int i=0;i&lt;br_el;i++){
            std::cout&lt;&lt;"Unesite podatke za "&lt;&lt;i+1&lt;&lt;". trougao (x1 y1 x2 y2 x3 y3): ";
            std::cin&gt;&gt;t1.first&gt;&gt;t1.second&gt;&gt;t2.first&gt;&gt;t2.second&gt;&gt;t3.first&gt;&gt;t3.second;
            try{
<a name="2"></a><font color="#0000FF"><a href="match523-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_1.gif"/></a>

                pok[i]=std::shared_ptr&lt;Trougao&gt;(new Trougao(t1,t2,t3));
            }catch(std::domain_error Izuzetak){std::cout&lt;&lt;Izuzetak.what()&lt;&lt;", ponovite unos!"&lt;&lt;std::endl; i--;}
        }
        std::cout&lt;&lt;"Unesite vektor translacije (dx dy): ";
        double d_x, d_y,ugao, skaliranje;
</font>        std::cin&gt;&gt;d_x&gt;&gt;d_y;
        std::cout&lt;&lt;"Unesite ugao rotacije: ";
        std::cin&gt;&gt;ugao;
        std::cout&lt;&lt;"Unesite faktor skaliranja: ";
        std::cin&gt;&gt;skaliranje;

<a name="1"></a><font color="#00FF00"><a href="match523-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_1.gif"/></a>

        std::transform(pok.begin(), pok.end(), pok.begin(), [d_x,d_y,ugao,skaliranje](const std::shared_ptr&lt;Trougao&gt; &amp;trougao)-&gt;std::shared_ptr&lt;Trougao&gt;{trougao-&gt;Transliraj(d_x,d_y); trougao-&gt;Rotiraj(ugao); trougao-&gt;Skaliraj(trougao-&gt;DajTjeme(1), skaliranje); return trougao;});
        std::sort(pok.begin(), pok.end(), [](const std::shared_ptr&lt;Trougao&gt; &amp;trougao1, const std::shared_ptr&lt;Trougao&gt; &amp;trougao2)-&gt;bool{return trougao1-&gt;DajPovrsinu()&lt;trougao2-&gt;DajPovrsinu();});
</font><a name="6"></a><font color="#00FF00"><a href="match523-0.html#6" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_1.gif"/></a>

        auto min=*std::min_element(pok.begin(), pok.end(), [](const std::shared_ptr&lt;Trougao&gt; &amp;trougao1, const std::shared_ptr&lt;Trougao&gt; &amp;trougao2)-&gt;bool{return trougao1-&gt;DajObim()&lt;trougao2-&gt;DajObim();});
</font>        
        std::cout&lt;&lt;"Trouglovi nakon obavljenih transformacija: \n";
        for(int i=0;i&lt;br_el;i++){
            pok[i]-&gt;Ispisi();
            std::cout&lt;&lt;std::endl;
        }
        std::cout&lt;&lt;"Trougao sa najmanjim obimom: ";
        min-&gt;Ispisi();
<a name="11"></a><font color="#00FF00"><a href="match523-0.html#11" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_1.gif"/></a>

        std::cout&lt;&lt;std::endl;
        
        std::vector&lt;std::pair&lt;Trougao,Trougao&gt;&gt; identicni, slicni, podudarni;
</font>        Parovi(DaLiSuIdenticni, pok, br_el, identicni);
        Parovi(DaLiSuPodudarni, pok, br_el, podudarni);
        Parovi(DaLiSuSlicni, pok, br_el, slicni);
        
        if(identicni.size()!=0){
            std::cout&lt;&lt;"Parovi identicnih trouglova:"&lt;&lt;std::endl;
<a name="3"></a><font color="#00FFFF"><a href="match523-0.html#3" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_1.gif"/></a>

            std::for_each(identicni.begin(), identicni.end(),[](std::pair&lt;Trougao, Trougao&gt; &amp;parovi){(parovi.first).Ispisi(); std::cout&lt;&lt;" i "; (parovi.second).Ispisi(); std::cout&lt;&lt;std::endl;});
</font>        }else {std::cout&lt;&lt;"Nema identicnih trouglova!"&lt;&lt;std::endl;}
        
        if(podudarni.size()!=0){
            std::cout&lt;&lt;"Parovi podudarnih trouglova:"&lt;&lt;std::endl;
<a name="4"></a><font color="#FF00FF"><a href="match523-0.html#4" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_1.gif"/></a>

            std::for_each(podudarni.begin(), podudarni.end(),[](std::pair&lt;Trougao, Trougao&gt; &amp;parovi){(parovi.first).Ispisi(); std::cout&lt;&lt;" i "; (parovi.second).Ispisi(); std::cout&lt;&lt;std::endl;});
</font>        }else {std::cout&lt;&lt;"Nema podudarnih trouglova!"&lt;&lt;std::endl;}
        
        if(slicni.size()!=0){
            std::cout&lt;&lt;"Parovi slicnih trouglova:"&lt;&lt;std::endl;
<a name="5"></a><font color="#FF0000"><a href="match523-0.html#5" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_1.gif"/></a>

            std::for_each(slicni.begin(), slicni.end(),[](std::pair&lt;Trougao, Trougao&gt; &amp;parovi){(parovi.first).Ispisi(); std::cout&lt;&lt;" i "; (parovi.second).Ispisi(); std::cout&lt;&lt;std::endl;});
</font><a name="5"></a><font color="#FF0000"><a href="match523-0.html#5" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_1.gif"/></a>

        }else {std::cout&lt;&lt;"Nema slicnih trouglova!"&lt;&lt;std::endl;}
</font>        
        for(int i=0;i&lt;br_el;i++)
            pok[i]=nullptr;
    }catch(...){}
    
    return 0;
}</pre>
</body>
</html>
