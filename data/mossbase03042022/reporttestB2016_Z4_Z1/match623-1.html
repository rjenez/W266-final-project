<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z1/student4628.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z1/student2949.cpp<p></p><pre>
#include &lt;iostream&gt;
#include &lt;utility&gt;
#include &lt;vector&gt;
#include &lt;memory&gt;
#include &lt;stdexcept&gt;
#include &lt;cmath&gt;
#include &lt;algorithm&gt;

<a name="5"></a><font color="#FF0000"><a href="match623-0.html#5" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_0.gif"/></a>

typedef std::pair&lt;double, double&gt; Tacka;
const double Eps(1e-10);

class Trougao{
    Tacka t1, t2, t3;
    
    static double racun(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3){
</font>        return (t1.first*(t2.second-t3.second) + t2.first*(t3.second-t1.second) + t3.first*(t1.second-t2.second));
    }
    //Da bi se izbjegao potencijalni problem a aritmetikom, funkcija JesuLiJednaki smanjuje mogucnost greske kod poredjenja double-ova na dole prikazani nacin
    static bool JesuLiJednaki(double x, double y){
        return std::fabs(x - y)&lt;= Eps*(std::fabs(x) + std::fabs(y));
    }
    
public:
    Trougao(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3){
        if(Orijentacija(t1, t2, t3)==0) throw std::domain_error("Nekorektne pozicije tjemena");
        Postavi(t1, t2, t3);
    }
    
    void Postavi(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3){
        Trougao::t1=t1;
        Trougao::t2=t2;
        Trougao::t3=t3;
    }
    
    void Postavi(int indeks, const Tacka &amp;t){
        if(indeks!=1 &amp;&amp; indeks!=2 &amp;&amp; indeks!=3) throw std::range_error("Nekorektan indeks");
        if(indeks==1) {
            Trougao::t1=t;
            if(racun(t1, t2, t3)==0) throw std::domain_error("Nekorektne pozicije tjemena");
        }
        if(indeks==2) {
            Trougao::t2=t;
            if(racun(t1, t2, t3)==0) throw std::domain_error("Nekorektne pozicije tjemena");
        }
        if(indeks==3) {
<a name="3"></a><font color="#00FFFF"><a href="match623-0.html#3" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_0.gif"/></a>

            Trougao::t3=t;
            if(racun(t1, t2, t3)==0) throw std::domain_error("Nekorektne pozicije tjemena");
        }
    }
    
    static int Orijentacija(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3){
</font>        auto x(racun(t1, t2, t3));
        if(x&gt;0) return 1;
        if(x&lt;0) return -1;
        if(JesuLiJednaki(x, 0)==true) return 0;
    }
    
    Tacka DajTjeme(int indeks) const{
        if(indeks!=1 &amp;&amp; indeks!=2 &amp;&amp; indeks!=3) throw std::range_error("Nekorektan indeks");
        if(indeks==1) return Trougao::t1;
        if(indeks==2) return Trougao::t2;
        if(indeks==3) return Trougao::t3;
    }
    
    double DajStranicu(int indeks) const{
        if(indeks!=1 &amp;&amp; indeks!=2 &amp;&amp; indeks!=3) throw std::range_error("Nekorektan indeks");
        
        //posto funkcija pow takodjer moze dovesti do izvjesnih problema kod aritmetiziranja, kao sto je preporuceno u DODATKU: sokantna prica o realnoj aritmetici, posto je eksponent relativno mali tj. 2 u daljem dijelu koda mnozim "rucno" takve dijelove koje bi inace lakse bilo ispisati u funkciji pow
        
        if(indeks==1) return std::sqrt(double((Trougao::t2.first-Trougao::t3.first)*(Trougao::t2.first-Trougao::t3.first)) + double((Trougao::t2.second-Trougao::t3.second)*(Trougao::t2.second-Trougao::t3.second)));
        if(indeks==2) return std::sqrt(double((Trougao::t1.first-Trougao::t3.first)*(Trougao::t1.first-Trougao::t3.first)) + double((Trougao::t1.second-Trougao::t3.second)*(Trougao::t1.second-Trougao::t3.second)));
        if(indeks==3) return std::sqrt(double((Trougao::t1.first-Trougao::t2.first)*(Trougao::t1.first-Trougao::t2.first)) + double((Trougao::t1.second-Trougao::t2.second)*(Trougao::t1.second-Trougao::t2.second)));
    }
    
    double DajUgao(int indeks) const{
        if(indeks!=1 &amp;&amp; indeks!=2 &amp;&amp; indeks!=3) throw std::range_error("Nekorektan indeks");
        if(indeks==1) {
            double x((double(DajStranicu(2)*DajStranicu(2)) + double(DajStranicu(3)*DajStranicu(3)) - double(DajStranicu(1)*DajStranicu(1)))/double(2*DajStranicu(2)*DajStranicu(3)));
            return std::acos(x);
        }
        if(indeks==2){
            double x((double(DajStranicu(1)*DajStranicu(1)) + double(DajStranicu(3)*DajStranicu(3)) - double(DajStranicu(2)*DajStranicu(2)))/double(2*DajStranicu(1)*DajStranicu(3)));
            return std::acos(x);
        }
        if(indeks==3){
            double x((double(DajStranicu(1)*DajStranicu(1)) + double(DajStranicu(2)*DajStranicu(2)) - double(DajStranicu(3)*DajStranicu(3)))/double(2*DajStranicu(1)*DajStranicu(2)));
            return std::acos(x);
        }
    }
    
    Tacka DajCentar() const{
        double x, y;
        x= double((Trougao::t1.first + Trougao::t2.first + Trougao::t3.first)/3);
        y= double((Trougao::t1.second + Trougao::t2.second + Trougao::t3.second)/3);
        Tacka tacka;
        tacka= std::make_pair(x, y);
        return tacka;
    }
    
    double DajObim() const{ return (DajStranicu(1) + DajStranicu(2) + DajStranicu(3)); }
    double DajPovrsinu() const{ return double((std::abs(racun(t1, t2, t2)))/2);}
    
    bool DaLiJePozitivnoOrijenitran() const{
        if(racun(t1, t2, t3)&gt;0) return true;
        else return false;
    }
    
    bool DaLiJeUnutra(const Tacka &amp;t) const{
        auto x(double(std::abs(racun(t1, t2, t3))/2));
        auto y(double((std::abs(racun(t1, t2, t)))/2) + double((std::abs(racun(t2, t3, t)))/2) + double((std::abs(racun(t3, t1, t)))/2));
        
        if(std::fabs(x-y)&lt;=Eps*(std::fabs(x) + std::fabs(y))) return true;
        else return false;
    }
    
    void Ispisi() const{ std::cout&lt;&lt;"(("&lt;&lt;int(Trougao::t1.first)&lt;&lt;","&lt;&lt;int(Trougao::t1.second)&lt;&lt;"),("&lt;&lt;int(Trougao::t2.first)&lt;&lt;","&lt;&lt;int(Trougao::t2.second)&lt;&lt;"),("&lt;&lt;int(Trougao::t3.first)&lt;&lt;","&lt;&lt;int(Trougao::t3.second)&lt;&lt;"))"; }
    
    void Transliraj (double delta_x, double delta_y){
        t1.first=t1.first+delta_x;
        t1.second=t1.second+delta_y;
        
        t2.first=t2.first+delta_x;
        t2.second=t2.second+delta_y;
        
        t3.first=t3.first+delta_x;
        t3.second=t3.second+delta_y;
    }
    
    void Centriraj (const Tacka &amp;t){
        double po_x, po_y;
        Tacka T(DajCentar());
        
        po_x= double(t.first - T.first);
        po_y= double(t.second - T.second);
        
        t1.first=t1.first + po_x;
        t1.second=t1.second + po_y;
        
        t2.first= t2.first + po_x;
        t2.second= t2.second + po_y;
        
        t3.first= t3.first + po_x;
        t3.second= t3.second + po_y;
        
    }
    
    void Rotiraj (const Tacka &amp;t, double ugao){
        
        t1.first= t.first + (t1.first - t.first)*std::cos(ugao) - (t1.second - t.second)*std::sin(ugao);
        t1.second= t.second + (t1.first - t.first)*std::sin(ugao) + (t1.second - t.second)*std::cos(ugao);
        
        t2.first= t.first + (t2.first - t.first)*std::cos(ugao) - (t2.second - t.second)*std::sin(ugao);
        t2.second= t.second + (t2.first - t.first)*std::sin(ugao) + (t2.second - t.second)*std::cos(ugao);
        
        t3.first= t.first + (t3.first - t.first)*std::cos(ugao) - (t3.second - t.second)*std::sin(ugao);
        t3.second= t.second + (t3.first - t.first)*std::sin(ugao) + (t3.second - t.second)*std::cos(ugao);
        
    }
    
    void Skaliraj (const Tacka &amp;t, double faktor){
        if(faktor&lt;0) throw std::domain_error("Nekorektan faktor skaliranja");
        
        t1.first= t.first + faktor*(t1.first - t.first);
        t1.second=t.second + faktor*(t1.second - t.second);
        
        t2.first= t.first + faktor*(t2.first - t.first);
        t2.second= t.second + faktor*(t2.second - t.second);
        
        t3.first= t.first + faktor*(t3.first - t.first);
        t3.second= t.second + faktor*(t3.second - t.second);
    }
    
    void Rotiraj (double ugao){
        Tacka t(DajCentar());
        
        t1.first= t.first + (t1.first - t.first)*std::cos(ugao) - (t1.second - t.second)*std::sin(ugao);
        t1.second= t.second + (t1.first - t.first)*std::sin(ugao) + (t1.second - t.second)*std::cos(ugao);
        
        t2.first= t.first + (t2.first - t.first)*std::cos(ugao) - (t2.second - t.second)*std::sin(ugao);
        t2.second= t.second + (t2.first - t.first)*std::sin(ugao) + (t2.second - t.second)*std::cos(ugao);
        
        t3.first= t.first + (t3.first - t.first)*std::cos(ugao) - (t3.second - t.second)*std::sin(ugao);
        t3.second= t.second + (t3.first - t.first)*std::sin(ugao) + (t3.second - t.second)*std::cos(ugao);
    
    }
    
    void Skaliraj (double faktor){
        if(faktor==0) throw std::domain_error("Nekorektan faktor skaliranja");
        Tacka t(DajCentar());
        
        t1.first=t.first + faktor*(t1.first - t.first);
        t1.second=t.second + faktor*(t1.second - t.second);
        
        t2.first= t.first + faktor*(t2.first - t.first);
        t2.second= t.second + faktor*(t2.second - t.second);
        
<a name="2"></a><font color="#0000FF"><a href="match623-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_1.gif"/></a>

        t3.first= t.first + faktor*(t3.first - t.first);
        t3.second= t.second + faktor*(t3.second - t.second);
    }
    
    
    friend bool DaLiSuIdenticni (const Trougao &amp;T1, const Trougao &amp;T2);
    friend bool DaLiSuPodudarni (const Trougao &amp;T1, const Trougao &amp;T2);
</font>    friend bool DaLiSuSlicni (const Trougao &amp;T1, const Trougao &amp;T2);
};

bool DaLiSuIdenticni (const Trougao &amp;T1, const Trougao &amp;T2){
    int br(0);
    
   if((Trougao::JesuLiJednaki(T1.t1.first, T2.t1.first) &amp;&amp; Trougao::JesuLiJednaki(T1.t1.second, T2.t1.second)) || (Trougao::JesuLiJednaki(T1.t1.first, T2.t2.first) &amp;&amp; Trougao::JesuLiJednaki(T1.t1.second, T2.t2.second)) || (Trougao::JesuLiJednaki(T1.t1.first, T2.t3.first) &amp;&amp; Trougao::JesuLiJednaki(T1.t1.second, T2.t3.second))){
       br++;
   }
   
   if((Trougao::JesuLiJednaki(T1.t2.first, T2.t1.first) &amp;&amp; Trougao::JesuLiJednaki(T1.t2.second, T2.t1.second)) || (Trougao::JesuLiJednaki(T1.t2.first, T2.t2.first) &amp;&amp; Trougao::JesuLiJednaki(T1.t2.second, T2.t2.second)) || (Trougao::JesuLiJednaki(T1.t2.first, T2.t3.first) &amp;&amp; Trougao::JesuLiJednaki(T1.t2.second, T2.t3.second))){
       br++;
   }
   if((Trougao::JesuLiJednaki(T1.t3.first, T2.t1.first) &amp;&amp; Trougao::JesuLiJednaki(T1.t3.second, T2.t1.second)) || (Trougao::JesuLiJednaki(T1.t3.first, T2.t2.first) &amp;&amp; Trougao::JesuLiJednaki(T1.t3.second, T2.t2.second)) || (Trougao::JesuLiJednaki(T1.t3.first, T2.t3.first) &amp;&amp; Trougao::JesuLiJednaki(T1.t3.second, T2.t3.second))){
       br++;
   }
   
   if(br==3) return true;
   return false;
}

bool DaLiSuPodudarni (const Trougao &amp;T1, const Trougao &amp;T2){
    int br(0);
    
    if(T1.DaLiJePozitivnoOrijenitran()==T2.DaLiJePozitivnoOrijenitran()){
    double a1(T1.DajStranicu(1)), b1(T1.DajStranicu(2)), c1(T1.DajStranicu(3));
    double a2(T2.DajStranicu(1)), b2(T2.DajStranicu(2)), c2(T2.DajStranicu(3));
    
    if(Trougao::JesuLiJednaki(a1, a2) || Trougao::JesuLiJednaki(a1, b2) || Trougao::JesuLiJednaki(a1, c2))
        br++;
    if(Trougao::JesuLiJednaki(b1, a2) || Trougao::JesuLiJednaki(b1, b2) || Trougao::JesuLiJednaki(b1, c2))
        br++;
    if(Trougao::JesuLiJednaki(c1, a2) || Trougao::JesuLiJednaki(c1, b2) || Trougao::JesuLiJednaki(c1, c2))
        br++;
    }
    if(br==3) return true;
    return false;
}

bool DaLiSuSlicni (const Trougao &amp;T1, const Trougao &amp;T2){
    int br(0);
    if(T1.DaLiJePozitivnoOrijenitran()==T2.DaLiJePozitivnoOrijenitran()){
        double alfa1(T1.DajUgao(1)), beta1(T1.DajUgao(2)), gama1(T1.DajUgao(3));
        double alfa2(T2.DajUgao(1)), beta2(T2.DajUgao(2)), gama2(T2.DajUgao(3));
    
    if(Trougao::JesuLiJednaki(alfa1, alfa2) || Trougao::JesuLiJednaki(alfa1, beta2) || Trougao::JesuLiJednaki(alfa1, gama2))
        br++;
    if(Trougao::JesuLiJednaki(beta1, alfa2) || Trougao::JesuLiJednaki(beta1, beta2) || Trougao::JesuLiJednaki(beta1, gama2))
        br++;
    if(Trougao::JesuLiJednaki(gama1, alfa2) || Trougao::JesuLiJednaki(gama1, beta2) || Trougao::JesuLiJednaki(gama1, gama2))
        br++;
    }
    
    if(br==3) return true;
    return false;
}

int main ()
{
    int n;
    std::cout&lt;&lt;"Koliko zelite kreirati trouglova: ";
    std::cin&gt;&gt;n;
    std::vector&lt;std::shared_ptr&lt;Trougao&gt;&gt; vec;
    int pozicija(0);
    Tacka t1, t2, t3;
    
    for(;;){
        if(pozicija==n) break;
        int j;
        j=pozicija+1;
<a name="1"></a><font color="#00FF00"><a href="match623-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_1.gif"/></a>

        std::cout&lt;&lt;"Unesite podatke za "&lt;&lt;j&lt;&lt;". trougao (x1 y1 x2 y2 x3 y3): ";
        
      
        std::cin&gt;&gt;t1.first&gt;&gt;t1.second;
        std::cin&gt;&gt;t2.first&gt;&gt;t2.second;
        std::cin&gt;&gt;t3.first&gt;&gt;t3.second;
</font>     
        if((t1.first*(t2.second-t3.second) - t2.first*(t1.second-t3.second) + t3.first*(t1.second-t2.second))==0) {
          std::cout&lt;&lt;"Nekorektne pozicije tjemena, ponovite unos! "&lt;&lt;std::endl;
        }
        
        else{
            Trougao(t1, t2, t3);
            std::shared_ptr&lt;Trougao&gt; PomPok = std::make_shared&lt;Trougao&gt;(t1, t2, t3);
            vec.push_back(PomPok);
            pozicija++;
        }
        
    }
    
    double TranslacijaPoX, TranslacijaPoY;
    std::cout&lt;&lt;"Unesite vektor translacije (dx dy): ";
    std::cin&gt;&gt;TranslacijaPoX&gt;&gt;TranslacijaPoY;
    
    double UgaoRotacije;
    std::cout&lt;&lt;"Unesite ugao rotacije: ";
    std::cin&gt;&gt;UgaoRotacije;
    
    double FaktorSkaliranja;
    std::cout&lt;&lt;"Unesite faktor skaliranja: ";
    std::cin&gt;&gt;FaktorSkaliranja;

    
    std::cout&lt;&lt;"Trouglovi nakon obavljenih transformacija: "&lt;&lt;std::endl;;
<a name="0"></a><font color="#FF0000"><a href="match623-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_3.gif"/></a>

    std::transform(vec.begin(), vec.end(), vec.begin(), [TranslacijaPoX, TranslacijaPoY] (std::shared_ptr&lt;Trougao&gt; x) -&gt; std::shared_ptr&lt;Trougao&gt;{ x-&gt;Transliraj(TranslacijaPoX, TranslacijaPoY); return x; });
    std::transform(vec.begin(), vec.end(), vec.begin(), [UgaoRotacije](std::shared_ptr&lt;Trougao&gt; x) -&gt; std::shared_ptr&lt;Trougao&gt; { x-&gt;Rotiraj(UgaoRotacije); return x;});
    std::transform(vec.begin(), vec.end(), vec.begin(), [FaktorSkaliranja](std::shared_ptr&lt;Trougao&gt; x) -&gt; std::shared_ptr&lt;Trougao&gt; { Tacka Povratna(x-&gt;DajTjeme(1)); x-&gt;Skaliraj(Povratna, FaktorSkaliranja); return x;});
</font>    
    
<a name="4"></a><font color="#FF00FF"><a href="match623-0.html#4" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_0.gif"/></a>

    std::sort(vec.begin(), vec.end(), [](std::shared_ptr&lt;Trougao&gt; x, std::shared_ptr&lt;Trougao&gt; y) -&gt; bool{ return x-&gt;DajPovrsinu()&gt;y-&gt;DajPovrsinu(); });
    std::for_each(vec.begin(), vec.end(), [](std::shared_ptr&lt;Trougao&gt; x) -&gt; std::shared_ptr&lt;Trougao&gt;{ x-&gt;Ispisi(); std::cout&lt;&lt;std::endl; return x; });
</font>    
    std::cout&lt;&lt;"Trougao sa najmanjim obimom: ";
    std::shared_ptr&lt;Trougao&gt; pok(*std::max_element(vec.begin(), vec.end(), [](std::shared_ptr&lt;Trougao&gt; x, std::shared_ptr&lt;Trougao&gt; y) -&gt; bool{ x-&gt;DajObim(); y-&gt;DajObim(); return x&lt;y; }));
    pok-&gt;Ispisi(); std::cout&lt;&lt;std::endl;
    
    std::cout&lt;&lt;"Parovi identicnih trouglova:"&lt;&lt;std::endl;
<a name="6"></a><font color="#00FF00"><a href="match623-0.html#6" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_0.gif"/></a>

    int PomBr(0);
    for(int i=0; i&lt;n; i++){
        for(int j=i+1; j&lt;n; j++){
            if(DaLiSuIdenticni(*vec[i], *vec[j])==true){
</font><a name="7"></a><font color="#0000FF"><a href="match623-0.html#7" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_0.gif"/></a>

                vec[i]-&gt;Ispisi(); std::cout&lt;&lt;" i "; vec[j]-&gt;Ispisi();
                std::cout&lt;&lt;std::endl;
                PomBr++;
            }
        }
    }
    
    if(PomBr==0) std::cout&lt;&lt;"Nema identicnih trouglova!"&lt;&lt;std::endl;
</font>    
    std::cout&lt;&lt;"Parovi podudarnih trouglova:"&lt;&lt;std::endl;
    int PomBr1(0);
    for(int i=0; i&lt;n; i++){
        for(int j=i+1; j&lt;n; j++){
            if(DaLiSuPodudarni(*vec[i], *vec[j])==true){
<a name="8"></a><font color="#00FFFF"><a href="match623-0.html#8" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_0.gif"/></a>

                vec[i]-&gt;Ispisi(); std::cout&lt;&lt;" i "; vec[j]-&gt;Ispisi();
                std::cout&lt;&lt;std::endl;
                PomBr1++;
            }
        }
    }
    
    if(PomBr1==0) std::cout&lt;&lt;"Nema podudarnih trouglova!"&lt;&lt;std::endl;
</font>    
    std::cout&lt;&lt;"Parovi slicnih trouglova:"&lt;&lt;std::endl;
    int PomBr2(0);
    for(int i=0; i&lt;n; i++){
        for(int j=i+1; j&lt;n; j++){
            if(DaLiSuSlicni(*vec[i], *vec[j])==true){
                vec[i]-&gt;Ispisi(); std::cout&lt;&lt;" i "; vec[j]-&gt;Ispisi();
                std::cout&lt;&lt;std::endl;
                PomBr2++;
            }
        }
    }
    
    if(PomBr2==0) std::cout&lt;&lt;"Nema slicnih trouglova!"&lt;&lt;std::endl;
    
    
	return 0;
}</pre>
</body>
</html>
