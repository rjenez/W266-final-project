<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z1/student5370.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z1/student1364.cpp<p></p><pre>
<a name="1"></a><font color="#00FF00"><a href="match779-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_0.gif"/></a>

/B 2016/2017, ZadaÄ‡a 4, Zadatak 1
//Napomena: testovi ce biti dostupni dan pred rok!
#include &lt;iostream&gt;
#include &lt;utility&gt; //Zbog pair
#include &lt;stdexcept&gt;
#include &lt;cmath&gt;
#include &lt;vector&gt;
#include &lt;memory&gt;
#include &lt;algorithm&gt;

using std::cin; using std::cout; using std::endl;
</font>
typedef std::pair&lt;double, double&gt; Tacka;

const double Eps(1e-10); 

class Trougao {
    Tacka T1, T2, T3;
    static bool Jednaki(double x, double y);
    static double Pomocna (Tacka t1, Tacka t2, Tacka t3);
    public:
    Trougao(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3);
    void Postavi(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3);
    void Postavi(int indeks, const Tacka &amp;t);
    static int Orijentacija(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3);
    Tacka DajTjeme(int indeks) const;
    double DajStranicu(int indeks) const;
    double DajUgao(int indeks) const;
    Tacka DajCentar() const;
    double DajObim() const;
    double DajPovrsinu() const;
    bool DaLiJePozitivnoOrijentiran() const;
    bool DaLiJeUnutra(const Tacka &amp;t) const;
    void Ispisi() const;
    void Transliraj(double delta_x, double delta_y);
    void Centriraj(const Tacka &amp;t);
    void Rotiraj(const Tacka &amp;t, double ugao);
    void Skaliraj(const Tacka &amp;t, double faktor);
    void Rotiraj(double ugao);
    void Skaliraj(double faktor);
    friend bool DaLiSuIdenticni(const Trougao &amp;t1, const Trougao &amp;t2);
    friend bool DaLiSuPodudarni(const Trougao &amp;t1, const Trougao &amp;t2);
    friend bool DaLiSuSlicni(const Trougao &amp;t1, const Trougao &amp;t2);
};

bool Trougao::Jednaki(double x, double y) {
    return std::fabs(x-y) &lt;= Eps * (std::fabs(x) + std::fabs(y));
}
double Trougao::Pomocna (Tacka t1, Tacka t2, Tacka t3) {
    return t1.first*(t2.second-t3.second)-t2.first*(t1.second-t3.second)+t3.first*(t1.second-t2.second);
}
Trougao::Trougao(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3) {
    if (Orijentacija(t1, t2, t3)==0) throw std::domain_error ("Nekorektne pozicije tjemena");
    T1=t1; T2=t2; T3=t3;
}
void Trougao::Postavi(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3) {
    if (Orijentacija(t1, t2, t3)==0) throw std::domain_error ("Nekorektne pozicije tjemena");
    T1=t1; T2=t2; T3=t3;
}
void Trougao::Postavi(int indeks, const Tacka &amp;t) {
    if (indeks&lt;1 || indeks&gt;3) throw std::range_error ("Nekorektan indeks");
    if (indeks==1) {
        if (Orijentacija(t, T2, T3)==0) throw std::domain_error ("Nekorektne pozicije tjemena");
        T1=t; 
    }
    else if (indeks==2) {
        if (Orijentacija(T1, t, T3)==0) throw std::domain_error ("Nekorektne pozicije tjemena");
        T2=t; 
    }
    else {
        if (Orijentacija(T1, T2, t)==0) throw std::domain_error ("Nekorektne pozicije tjemena");
        T3=t; 
    }
}
int Trougao::Orijentacija(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3) {
    auto rez(Pomocna(t1, t2, t3));
    if (Trougao::Jednaki(rez,0)) return 0; //Kolinearne su
    if (rez&gt;0) return 1; //Kretanje od prve do posljdnje tacke u smjeru suprotnom od kazaljke na satu
    return -1;
}
Tacka Trougao::DajTjeme(int indeks) const {
    if (indeks&lt;1 || indeks&gt;3) throw std::range_error ("Nekorektan indeks");
    if (indeks==1) return T1;
    if (indeks==2) return T2;
    return T3;
}
double Trougao::DajStranicu(int indeks) const {
    if (indeks&lt;1 || indeks&gt;3) throw std::range_error ("Nekorektan indeks");
    double rez(0);
    if (indeks==1) {
        rez=std::sqrt((T2.first-T3.first)*(T2.first-T3.first)+(T2.second-T3.second)*(T2.second-T3.second));
        return rez;
    }
    if (indeks==2) {
        rez=std::sqrt((T1.first-T3.first)*(T1.first-T3.first)+(T1.second-T3.second)*(T1.second-T3.second));
        return rez;
    }
    rez=std::sqrt((T2.first-T1.first)*(T2.first-T1.first)+(T2.second-T1.second)*(T2.second-T1.second));
    return rez;
}
double Trougao::DajUgao(int indeks) const {
    if (indeks&lt;1 || indeks&gt;3) throw std::range_error ("Nekorektan indeks");
    //Iznos ugla koji se nalazi u tjemenu u radijanim
    double rez(0);
    double a(DajStranicu(1)), b(DajStranicu(2)), c(DajStranicu(3));
    if (indeks==1) {
        rez=std::acos((b*b+c*c-a*a)/(2*b*c));
        return rez;
    }
    if (indeks==2) {
        rez=std::acos((a*a+c*c-b*b)/(2*a*c));
        return rez;
    }
    rez=std::acos((a*a+b*b-c*c)/(2*a*b));
    return rez;
}
Tacka Trougao::DajCentar() const {
    //Teziste - koordinate aritmeticke sredine koordinata tjemena
    Tacka T;
    T.first=(T1.first+T2.first+T3.first)/3;
    T.second=(T1.second+T2.second+T3.second)/3;
    return T;
}
double Trougao::DajObim() const {
    return DajStranicu(1)+DajStranicu(2)+DajStranicu(3);
}
double Trougao::DajPovrsinu() const {
    return 0.5*std::fabs(Pomocna(T1, T2, T3));
}
bool Trougao::DaLiJePozitivnoOrijentiran() const {
    if (Orijentacija(this-&gt;T1, this-&gt;T2, this-&gt;T3)) return true;
    return false;
}
bool Trougao::DaLiJeUnutra(const Tacka &amp;t) const {
    if (Orijentacija(T1, T2, T3)==Orijentacija(T1, t, T3) &amp;&amp; Orijentacija(T1, T2, t)==Orijentacija(T2, T3, t) &amp;&amp; Orijentacija(T2, T3, t)==Orijentacija(T1, t, T3))
    return true;
    return false;
}
<a name="2"></a><font color="#0000FF"><a href="match779-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_0.gif"/></a>

void Trougao::Ispisi() const {
    cout &lt;&lt; "((" &lt;&lt; T1.first &lt;&lt; "," &lt;&lt; T1.second &lt;&lt; "),(" &lt;&lt; T2.first &lt;&lt; "," &lt;&lt; T2.second &lt;&lt; "),(" &lt;&lt; T3.first &lt;&lt; "," &lt;&lt; T3.second &lt;&lt; "))";
</font>}
void Trougao::Transliraj(double delta_x, double delta_y) {
    T1.first+=delta_x; T2.first+=delta_x; T3.first+=delta_x;
<a name="3"></a><font color="#00FFFF"><a href="match779-0.html#3" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_0.gif"/></a>

    T1.second+=delta_y; T2.second+=delta_y; T3.second+=delta_y;
}
void Trougao::Centriraj(const Tacka &amp;t) {
    auto delta_x(t.first-DajCentar().first);
</font>    auto delta_y(t.first-DajCentar().second);
    Transliraj(delta_x, delta_y);
}
void Trougao::Rotiraj(const Tacka &amp;t, double ugao) {
    auto x1(T1.first), x2(T2.first), x3(T3.first);
    T1.first=t.first+(T1.first-t.first)*cos(ugao)-(T1.second-t.second)*sin(ugao); 
    T1.second=t.second+(x1-t.first)*sin(ugao)+(T1.second-t.second)*cos(ugao);
    T2.first=t.first+(T2.first-t.first)*cos(ugao)-(T2.second-t.second)*sin(ugao);
    T2.second=t.second+(x2-t.first)*sin(ugao)+(T2.second-t.second)*cos(ugao);
    T3.first=t.first+(T3.first-t.first)*cos(ugao)-(T3.second-t.second)*sin(ugao);
    T3.second=t.second+(x3-t.first)*sin(ugao)+(T3.second-t.second)*cos(ugao);
}
void Trougao::Skaliraj(const Tacka &amp;t, double faktor) {
    if (Trougao::Jednaki(faktor, 0)) throw std::domain_error ("Nekorektan faktor skaliranja");
    T1.first=t.first+faktor*(T1.first-t.first);
    T1.second=t.second+faktor*(T1.second-t.second);
    T2.first=t.first+faktor*(T2.first-t.first);
    T2.second=t.second+faktor*(T2.second-t.second);
    T3.first=t.first+faktor*(T3.first-t.first);
    T3.second=t.second+faktor*(T3.second-t.second);
}
void Trougao::Rotiraj(double ugao) {
    Rotiraj(DajCentar(), ugao);
}
void Trougao::Skaliraj(double faktor) {
    Skaliraj(DajCentar(), faktor);
}
bool DaLiSuIdenticni(const Trougao &amp;t1, const Trougao &amp;t2) {
     std::vector&lt;Tacka&gt; v1, v2;
     for (int i=0; i&lt;3; i++) {
         v1.push_back(t1.DajTjeme(i+1)); v2.push_back(t2.DajTjeme(i+1)); //Vektori tjemena trougla
     }
     for (int i=0; i&lt;3; i++) {
         for (int j=0; j&lt;v2.size(); j++) {
             if (Trougao::Jednaki(v1[i].first,v2[j].first) &amp;&amp; Trougao::Jednaki(v1[i].second,v2[j].second)) 
             v2.erase(v2.begin()+j);
         }
     }
     if (v2.size()==0) return true;
     return false;
}
bool DaLiSuPodudarni(const Trougao &amp;t1, const Trougao &amp;t2) {
    //Trouglovi su podudarni ukoliko se mogu dovesti na poklapanje translacijom i rotacijom
    //Da bi bili podudarni moraju biti jednake odgovarajuce stranice i ista orijentacija?
    auto orijentacija_prvi(Trougao::Orijentacija(t1.DajTjeme(1), t1.DajTjeme(2), t1.DajTjeme(3)));
    if (Trougao::Jednaki(orijentacija_prvi, Trougao::Orijentacija(t2.DajTjeme(1), t2.DajTjeme(2), t2.DajTjeme(3)))) {
        //Ispitaj stranice
        if (Trougao::Jednaki(t1.DajStranicu(1), t2.DajStranicu(1)) &amp;&amp; Trougao::Jednaki(t1.DajStranicu(2), t2.DajStranicu(2)) &amp;&amp; Trougao::Jednaki(t1.DajStranicu(3), t2.DajStranicu(3)))
        return true;
    }
    if (Trougao::Jednaki(orijentacija_prvi, Trougao::Orijentacija(t2.DajTjeme(1), t2.DajTjeme(3), t2.DajTjeme(2)))) {
        //Ispitaj stranice
        if (Trougao::Jednaki(t1.DajStranicu(1), t2.DajStranicu(1)) &amp;&amp; Trougao::Jednaki(t1.DajStranicu(2), t2.DajStranicu(3)) &amp;&amp; Trougao::Jednaki(t1.DajStranicu(3), t2.DajStranicu(2)))
        return true;
    }
    if (Trougao::Jednaki(orijentacija_prvi, Trougao::Orijentacija(t2.DajTjeme(2), t2.DajTjeme(1), t2.DajTjeme(3)))) {
        //Ispitaj stranice
        if (Trougao::Jednaki(t1.DajStranicu(1), t2.DajStranicu(2)) &amp;&amp; Trougao::Jednaki(t1.DajStranicu(2), t2.DajStranicu(1)) &amp;&amp; Trougao::Jednaki(t1.DajStranicu(3), t2.DajStranicu(3)))
        return true;
    }
    if (Trougao::Jednaki(orijentacija_prvi, Trougao::Orijentacija(t2.DajTjeme(2), t2.DajTjeme(3), t2.DajTjeme(1)))) {
        //Ispitaj stranice
        if (Trougao::Jednaki(t1.DajStranicu(1), t2.DajStranicu(2)) &amp;&amp; Trougao::Jednaki(t1.DajStranicu(2), t2.DajStranicu(3)) &amp;&amp; Trougao::Jednaki(t1.DajStranicu(3), t2.DajStranicu(1)))
        return true;
    }
    if (Trougao::Jednaki(orijentacija_prvi, Trougao::Orijentacija(t2.DajTjeme(3), t2.DajTjeme(1), t2.DajTjeme(2)))) {
        //Ispitaj stranice
        if (Trougao::Jednaki(t1.DajStranicu(1), t2.DajStranicu(3)) &amp;&amp; Trougao::Jednaki(t1.DajStranicu(2), t2.DajStranicu(1)) &amp;&amp; Trougao::Jednaki(t1.DajStranicu(3), t2.DajStranicu(2)))
        return true;
    }
    if (Trougao::Jednaki(orijentacija_prvi, Trougao::Orijentacija(t2.DajTjeme(3), t2.DajTjeme(2), t2.DajTjeme(1)))) {
        //Ispitaj stranice
        if (Trougao::Jednaki(t1.DajStranicu(1), t2.DajStranicu(3)) &amp;&amp; Trougao::Jednaki(t1.DajStranicu(2), t2.DajStranicu(2)) &amp;&amp; Trougao::Jednaki(t1.DajStranicu(3), t2.DajStranicu(1)))
        return true;
    }
    return false;
}
bool DaLiSuSlicni(const Trougao &amp;t1, const Trougao &amp;t2) {
    auto orijentacija_prvi(Trougao::Orijentacija(t1.DajTjeme(1), t1.DajTjeme(2), t1.DajTjeme(3)));
    if (Trougao::Jednaki(orijentacija_prvi, Trougao::Orijentacija(t2.DajTjeme(1), t2.DajTjeme(2), t2.DajTjeme(3)))) {
        //Ispitaj stranice
        if (Trougao::Jednaki(t1.DajStranicu(1)/t2.DajStranicu(1),t1.DajStranicu(2)/t2.DajStranicu(2)) &amp;&amp; Trougao::Jednaki(t1.DajStranicu(2)/t2.DajStranicu(2), t1.DajStranicu(3)/t2.DajStranicu(3)))
        return true;
    }
    if (Trougao::Jednaki(orijentacija_prvi, Trougao::Orijentacija(t2.DajTjeme(1), t2.DajTjeme(3), t2.DajTjeme(2)))) {
        //Ispitaj stranice
        if (Trougao::Jednaki(t1.DajStranicu(1)/t2.DajStranicu(1), t1.DajStranicu(2)/t2.DajStranicu(3) ) &amp;&amp; Trougao::Jednaki(t1.DajStranicu(2)/t2.DajStranicu(3), t1.DajStranicu(3)/t2.DajStranicu(2)))
        return true;
    }
    if (Trougao::Jednaki(orijentacija_prvi, Trougao::Orijentacija(t2.DajTjeme(2), t2.DajTjeme(1), t2.DajTjeme(3)))) {
        //Ispitaj stranice
        if (Trougao::Jednaki(t1.DajStranicu(1)/t2.DajStranicu(2), t1.DajStranicu(2)/t2.DajStranicu(1)) &amp;&amp; Trougao::Jednaki(t1.DajStranicu(2)/t2.DajStranicu(1), t1.DajStranicu(3)/t2.DajStranicu(3)))
        return true;
    }
    if (Trougao::Jednaki(orijentacija_prvi, Trougao::Orijentacija(t2.DajTjeme(2), t2.DajTjeme(3), t2.DajTjeme(1)))) {
        //Ispitaj stranice
        if (Trougao::Jednaki(t1.DajStranicu(1)/t2.DajStranicu(2), t1.DajStranicu(2)/t2.DajStranicu(3)) &amp;&amp; Trougao::Jednaki(t1.DajStranicu(2)/t2.DajStranicu(3), t1.DajStranicu(3)/t2.DajStranicu(1)))
        return true;
    }
    if (Trougao::Jednaki(orijentacija_prvi, Trougao::Orijentacija(t2.DajTjeme(3), t2.DajTjeme(1), t2.DajTjeme(2)))) {
        //Ispitaj stranice
        if (Trougao::Jednaki(t1.DajStranicu(1)/t2.DajStranicu(3), t1.DajStranicu(2)/t2.DajStranicu(1) ) &amp;&amp; Trougao::Jednaki(t1.DajStranicu(2)/t2.DajStranicu(1), t1.DajStranicu(3)/t2.DajStranicu(2)))
        return true;
    }
    if (Trougao::Jednaki(orijentacija_prvi, Trougao::Orijentacija(t2.DajTjeme(3), t2.DajTjeme(2), t2.DajTjeme(1)))) {
        //Ispitaj stranice
        if (Trougao::Jednaki(t1.DajStranicu(1)/t2.DajStranicu(3), t1.DajStranicu(2)/t2.DajStranicu(2)) &amp;&amp; Trougao::Jednaki(t1.DajStranicu(2)/t2.DajStranicu(2), t1.DajStranicu(3)/t2.DajStranicu(1)))
        return true;
    }
    return false;
}

int main ()
{
    int n(0);
    cout &lt;&lt; "Koliko zelite kreirati trouglova: ";
    cin &gt;&gt; n;
    std::vector&lt;std::shared_ptr&lt;Trougao&gt;&gt; vek(n);
    for (int i=0; i&lt;n; i++) {
        cout &lt;&lt; "Unesite podatke za "&lt;&lt; i+1 &lt;&lt;". trougao (x1 y1 x2 y2 x3 y3): ";
        double x1, y1, x2, y2, x3, y3;
        cin &gt;&gt; x1 &gt;&gt; y1 &gt;&gt; x2 &gt;&gt; y2 &gt;&gt; x3 &gt;&gt; y3;
        Tacka t1=std::make_pair(x1,y1);
        Tacka t2=std::make_pair(x2,y2);
        Tacka t3=std::make_pair(x3,y3);
        try {
            vek[i]=std::make_shared&lt;Trougao&gt;(t1, t2, t3); //din. alociramo trougao
        }
        catch (std::domain_error izuzetak) {
            cout &lt;&lt; izuzetak.what() &lt;&lt; ", ponovite unos!" &lt;&lt; endl;
            i--;
        }
    }
    double d_x, d_y;
    cout &lt;&lt; "Unesite vektor translacije (dx dy): ";
    cin &gt;&gt; d_x &gt;&gt; d_y;
    std::transform(vek.begin(), vek.end(), vek.begin(), [d_x, d_y] (std::shared_ptr&lt;Trougao&gt; pnt)-&gt;std::shared_ptr&lt;Trougao&gt; { pnt-&gt;Transliraj(d_x, d_y); return pnt; });
	cout &lt;&lt; "Unesite ugao rotacije: ";
	//Rotiramo oko centra
	double ugao;
	cin &gt;&gt; ugao;
	std::transform(vek.begin(), vek.end(), vek.begin(), [ugao] (std::shared_ptr&lt;Trougao&gt; pnt)-&gt;std::shared_ptr&lt;Trougao&gt; { pnt-&gt;Rotiraj(ugao); return pnt; });
	cout &lt;&lt; "Unesite faktor skaliranja: ";
	double faktor;
	cin &gt;&gt; faktor;
	//Uzimamo prvo tjeme kao centar skaliranja!!
	std::transform(vek.begin(), vek.end(), vek.begin(), [faktor] (std::shared_ptr&lt;Trougao&gt; pnt)-&gt;std::shared_ptr&lt;Trougao&gt; { pnt-&gt;Skaliraj(pnt-&gt;DajTjeme(1), faktor); return pnt; });
	//Sortirajmo sve trouglove
	std::sort(vek.begin(), vek.end(), [] (std::shared_ptr&lt;Trougao&gt; pnt1, std::shared_ptr&lt;Trougao&gt; pnt2) { return (pnt1-&gt;DajPovrsinu())&lt;(pnt2-&gt;DajPovrsinu()); });
	cout &lt;&lt; "Trouglovi nakon obavljenih transformacija:" &lt;&lt; endl;
	std::for_each(vek.begin(), vek.end(), [] (std::shared_ptr&lt;Trougao&gt; pnt) {  pnt-&gt;Ispisi(); cout &lt;&lt; endl; } );
	cout &lt;&lt; "Trougao sa najmanjim obimom: ";
	auto p(std::min_element(vek.begin(), vek.end(), [] (std::shared_ptr&lt;Trougao&gt; pnt1, std::shared_ptr&lt;Trougao&gt; pnt2) { return (pnt1-&gt;DajObim())&lt;(pnt2-&gt;DajObim()); }));
<a name="0"></a><font color="#FF0000"><a href="match779-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_7.gif"/></a>

	(*p)-&gt;Ispisi(); cout &lt;&lt; endl;
	bool prvi(true);
	for (int i=0; i&lt;n; i++) {
	    for (int j=i+1; j&lt;n; j++) {
	        if (DaLiSuIdenticni(*vek[i], *vek[j])) {
	            if (prvi) { cout &lt;&lt; "Parovi identicnih trouglova:" &lt;&lt; endl; prvi=false; }
	            vek[i]-&gt;Ispisi(); cout &lt;&lt; " i "; vek[j]-&gt;Ispisi(); cout &lt;&lt; endl;
	        }
	    }
	}
	if (prvi) { cout &lt;&lt; "Nema identicnih trouglova!" &lt;&lt; endl; }
	prvi=true;
	for (int i=0; i&lt;n; i++) {
	    for (int j=i+1; j&lt;n; j++) {
	        if (DaLiSuPodudarni(*vek[i], *vek[j])) {
	            if (prvi) { cout &lt;&lt; "Parovi podudarnih trouglova:" &lt;&lt; endl; prvi=false; }
	            vek[i]-&gt;Ispisi(); cout &lt;&lt; " i "; vek[j]-&gt;Ispisi(); cout &lt;&lt; endl;
	        }
	    }
	}
	if (prvi) { cout &lt;&lt; "Nema podudarnih trouglova!" &lt;&lt; endl; }
	prvi=true;
	for (int i=0; i&lt;n; i++) {
	    for (int j=i+1; j&lt;n; j++) {
	        if (DaLiSuSlicni(*vek[i], *vek[j])) {
	            if (prvi) { cout &lt;&lt; "Parovi slicnih trouglova:" &lt;&lt; endl; prvi=false; }
	            vek[i]-&gt;Ispisi(); cout &lt;&lt; " i "; vek[j]-&gt;Ispisi(); cout &lt;&lt; endl;
	        }
	    }
	}
	if (prvi) { cout &lt;&lt; "Nema slicnih trouglova!" &lt;&lt; endl; }
</font>	return 0;
}</pre>
</body>
</html>
