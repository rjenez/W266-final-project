<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z1/student2267.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z1/student2267.cpp<p></p><pre>
/B 2016/2017, ZadaÄ‡a 4, Zadatak 1
//Napomena: testovi ce biti dostupni dan pred rok!
#include &lt;iostream&gt;
#include &lt;stdexcept&gt;
#include &lt;cmath&gt;
#include &lt;utility&gt;
#include &lt;vector&gt;
#include &lt;memory&gt;
#include &lt;algorithm&gt;
#define epsilon 0.0000000001

typedef std::pair&lt;double,double&gt; Tacka;

class Trougao
{
private:
    Tacka  t1,t2,t3;
    static bool PorediNaJednakost(const Tacka &amp;koordinata_1,const Tacka &amp;koordinata_2);
    static bool Poredi(double d1, double d2);
    double DuzinaStranice(const Tacka &amp;t_prvo, const Tacka &amp;t_drugo)const {
        double duzina=std::sqrt((t_drugo.first-t_prvo.first)*(t_drugo.first-t_prvo.first)+(t_drugo.second-t_prvo.second)*(t_drugo.second-t_prvo.second));
        return duzina;
    }
    double DuzinaStranice(const Tacka &amp;t_prvo, const Tacka &amp;t_drugo) {
        double duzina=std::sqrt((t_drugo.first-t_prvo.first)*(t_drugo.first-t_prvo.first)+(t_drugo.second-t_prvo.second)*(t_drugo.second-t_prvo.second));
        return duzina;
    }
    double PovrsinaTrougla(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3)const {
        double P=std::abs(t1.first*(t2.second-t3.second)-t2.first*(t1.second-t3.second)+t3.first*(t1.second-t2.second));
        P=P/2.;
        return P;
    }
public:

    Trougao(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3) {
        if(Orjentacija(t1,t2,t3)==0 &amp;&amp; (!(std::fabs(t1.first-t1.second)&lt;epsilon &amp;&amp; std::fabs(t2.first-t2.second)&lt;epsilon &amp;&amp; std::fabs(t3.first-t3.second)&lt;epsilon))) throw std::domain_error("Nekorektne pozicije tjemena");
        Postavi(t1,t2,t3);
    }
<a name="3"></a><font color="#00FFFF"><a href="match771-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_1.gif"/></a>

    void Postavi(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3) {
        Trougao::t1=t1;
        Trougao::t2=t2;
        Trougao::t3=t3;
    }
    void Postavi(int indeks,const Tacka &amp;t) {
</font>        if(indeks!=1 &amp;&amp; indeks!=2 &amp;&amp; indeks!=3) throw std::range_error("Nekorektan indeks");
          DajTjeme(indeks)=t;
           if(Orjentacija(t1,t2,t3)==0)  throw std::domain_error("Nekorektne pozicije tjemena");
    }
    static int Orjentacija(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3);
    Tacka DajTjeme(int indeks) const {
        if(indeks==1)   return t1;
        if(indeks==2)   return t2;
        if(indeks==3)   return t3;
    }
    double DajStranicu(int indeks) const;
    double DajUgao(int indeks) const;
    Tacka DajCentar()const;
    double DajObim()const;
    double DajPovrsinu()const {
        double P=PovrsinaTrougla(t1,t2,t3);
        return P;
    }
    bool DaLiJePozitivnoOrijentiran()const {
        if(Orjentacija(t1,t2,t3)&gt;0)     return true;
        return false;
    }
    bool DaLiJeUnutra(const Tacka &amp;t) const;
    void Ispisi()const {
        std::cout&lt;&lt;"(("&lt;&lt;t1.first&lt;&lt;","&lt;&lt;t1.second&lt;&lt;"),("&lt;&lt;t2.first&lt;&lt;","&lt;&lt;t2.second&lt;&lt;"),("&lt;&lt;t3.first&lt;&lt;","&lt;&lt;t3.second&lt;&lt;"))";
    }
    void Transliraj(double delta_x,double delta_y);
    void Centriraj(const Tacka &amp;t);
    void Rotiraj(const Tacka &amp;t,double ugao);
    void Skaliraj(const Tacka &amp;t, double faktor);
    void Rotiraj(double ugao);
    void Skaliraj(double faktor);
    friend bool DaLiSuIdenticni(const Trougao &amp;t1, const Trougao &amp;t2);
    friend bool DaLiSuPodudarni(const Trougao &amp;t1, const Trougao &amp;t2);
    friend bool DaLiSuSlicni(const Trougao &amp;t1, const Trougao &amp;t2);

};
bool Trougao::Poredi(double d1, double d2)
{

    if(std::fabs(d1-d2)&lt;epsilon)    return true;
    return false;
}

<a name="2"></a><font color="#0000FF"><a href="match771-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_1.gif"/></a>

bool Trougao::PorediNaJednakost(const Tacka &amp;prva, const Tacka &amp;druga)
{

    if(std::fabs(prva.first-druga.first)&lt;epsilon &amp;&amp; std::fabs(prva.second-druga.second)&lt;epsilon)    return true;
    return false;
}


Tacka Trougao::DajCentar()const
</font>{
    Tacka t;
<a name="6"></a><font color="#00FF00"><a href="match771-1.html#6" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_0.gif"/></a>

    t.first=(t1.first+t2.first+t3.first)/3.;
    t.second=(t1.second+t2.second+t3.second)/3.;
    return t;
}



double Trougao::DajUgao(int indeks)const
</font>{
    if(indeks!=1 &amp;&amp; indeks!=2 &amp;&amp; indeks!=3)     throw std::range_error("Nekorektan indeks");
    double b=DuzinaStranice(Trougao::t1,Trougao::t3);
    double c=DuzinaStranice(t1,t2);
    double a=DuzinaStranice(t2,t3);
    double ugao;
    if(indeks==1) {
        ugao=std::acos((double)((b*b+c*c-a*a)/(2*b*c)));
    }
    if(indeks==2) {
        ugao=std::acos((double)((a*a+c*c-b*b)/(2*a*c)));
    }
    if(indeks==3) {
        ugao=std::acos((double)((a*a+b*b-c*c)/(2*a*b)));
    }

    return ugao;
}



double Trougao::DajStranicu(int indeks) const
{   
    if(indeks!=1 &amp;&amp; indeks!=2 &amp;&amp; indeks!=3)     throw std::range_error("Nekorektan indeks");
    double d;
    if(indeks==1)   d=DuzinaStranice(t2,t3);
    if(indeks==2)   d=DuzinaStranice(t1,t3);
    if(indeks==3)   d=DuzinaStranice(t1,t2);
    return d;
}

double Trougao::DajObim()const
{

    double d1=DuzinaStranice(t1,t2);
    double d2=DuzinaStranice(t2,t3);
    double d3=DuzinaStranice(t1,t3);
    double O(d1+d2+d3);
    return O;
}

int Trougao::Orjentacija(const Tacka &amp;t1,const Tacka &amp;t2,const Tacka &amp;t3)
{
    double P=(t1.first*(t2.second-t3.second)-t2.first*(t1.second-t3.second)+t3.first*(t1.second-t2.second));
    if(P&gt;0) return 1;
    if(P&lt;0) return -1;
    if(std::fabs(P-0)&lt;epsilon) return 0;

}

bool Trougao::DaLiJeUnutra(const Tacka &amp;t)const
{
    double P=PovrsinaTrougla(t1,t2,t3);
    double P_1=PovrsinaTrougla(t1,t2,t);
    double P_2=PovrsinaTrougla(t2,t3,t);
    double P_3=PovrsinaTrougla(t1,t3,t);

    if(std::fabs(P-(P_1+P_2+P_3))&lt;epsilon)  return true;
    return false;
}

void Trougao::Transliraj(double delta_x, double delta_y)
{
    t1.first=t1.first+delta_x;
    t1.second=t1.second+delta_y;
    t2.first=t2.first+delta_x;
    t2.second=t2.second+delta_y;
    t3.first=t3.first+delta_x;
    t3.second=t3.second+delta_y;
}

void Trougao::Centriraj(const Tacka &amp;t)
{

    Tacka c=DajCentar();
    double delta_x=t.first-c.first;
    double delta_y=t.second-c.second;
    Transliraj(delta_x,delta_y);

}

void Trougao::Rotiraj(const Tacka &amp;t,double ugao)
{
    auto x=t1.first;
    auto x1=t2.first;
    auto x2=t3.first;
    t1.first=t.first+(t1.first-t.first)*std::cos(ugao)-std::sin(ugao)*(t1.second-t.second);
    t1.second=t.second+(x-t.first)*std::sin(ugao)+std::cos(ugao)*(t1.second-t.second);
    t2.first=t.first+(t2.first-t.first)*std::cos(ugao)-std::sin(ugao)*(t2.second-t.second);
    t2.second=t.second+(x1-t.first)*std::sin(ugao)+std::cos(ugao)*(t2.second-t.second);
    t3.first=t.first+(t3.first-t.first)*std::cos(ugao)-std::sin(ugao)*(t3.second-t.second);
    t3.second=t.second+(x2-t.first)*std::sin(ugao)+std::cos(ugao)*(t3.second-t.second);

}

<a name="5"></a><font color="#FF0000"><a href="match771-1.html#5" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_0.gif"/></a>

void Trougao::Skaliraj(const Tacka &amp;t,double faktor)
{

    if(std::fabs(faktor)&lt;epsilon)   throw std::domain_error("Nekorektan faktor skaliranja");

    t1.first=t.first+faktor*(t1.first-t.first);
    t1.second=t.second+faktor*(t1.second-t.second);
</font>    t2.first=t.first+faktor*(t2.first-t.first);
    t2.second=t.second+faktor*(t2.second-t.second);
    t3.first=t.first+faktor*(t3.first-t.first);
    t3.second=t.second+faktor*(t3.second-t.second);

}

void Trougao::Rotiraj(double ugao)
{
    auto xc=DajCentar().first;
    auto yc=DajCentar().second;
    t1.first=xc+(t1.first-xc)*std::cos(ugao)-std::sin(ugao)*(t1.second-yc);
    t1.second=yc+(t1.first-xc)*std::sin(ugao)+std::cos(ugao)*(t1.second-yc);
    t2.first=xc+(t2.first-xc)*std::cos(ugao)-std::sin(ugao)*(t2.second-yc);
    t2.second=yc+(t2.first-xc)*std::sin(ugao)+std::cos(ugao)*(t2.second-yc);
    t3.first=xc+(t3.first-xc)*std::cos(ugao)-std::sin(ugao)*(t3.second-yc);
    t3.second=yc+(t3.first-xc)*std::sin(ugao)+std::cos(ugao)*(t3.second-yc);

}

void Trougao::Skaliraj(double faktor)
{

    if(std::fabs(faktor)&lt;epsilon)   throw std::domain_error("Nekorektan faktor skaliranja");
    t1.first=DajCentar().first+faktor*(t1.first-DajCentar().first);
    t1.second=DajCentar().second+faktor*(t1.second-DajCentar().second);
    t2.first=DajCentar().first+faktor*(t2.first-DajCentar().first);
    t2.second=DajCentar().second+faktor*(t2.second-DajCentar().second);
    t3.first=DajCentar().first+faktor*(t3.first-DajCentar().first);
    t3.second=DajCentar().second+faktor*(t3.second-DajCentar().second);
}

bool DaLiSuIdenticni(const Trougao &amp;t1, const Trougao &amp;t2)
{
    int br_1(0);

    if(Trougao::PorediNaJednakost(t1.t1,t2.t1)) br_1++;
    if(Trougao::PorediNaJednakost(t1.t1,t2.t2))  br_1++;
    if(Trougao::PorediNaJednakost(t1.t1,t2.t3))  br_1++;

    int br_2(0);
    if(Trougao::PorediNaJednakost(t1.t2,t2.t1))  br_2++;
    if(Trougao::PorediNaJednakost(t1.t2,t2.t2))  br_2++;
    if(Trougao::PorediNaJednakost(t1.t2,t2.t3))  br_2++;
    int br_3(0);
    if(Trougao::PorediNaJednakost(t1.t3,t2.t1))  br_3++;
    if(Trougao::PorediNaJednakost(t1.t3,t2.t2))  br_3++;
    if(Trougao::PorediNaJednakost(t1.t3,t2.t3))  br_3++;
    if((br_1+br_2+br_3)==3 &amp;&amp; br_1!=0 &amp;&amp; br_2!=0 &amp;&amp; br_3!=0)  return true;
    return false;
}

bool DaLiSuPodudarni(const Trougao &amp;t1, const Trougao &amp;t2){
    
    double ugao1=t1.DajUgao(1);
    double ugao2=t1.DajUgao(2);
    double ugao3=t1.DajUgao(3);
    double ugao1_=t2.DajUgao(1);
    double ugao2_=t2.DajUgao(2);
    double ugao3_=t2.DajUgao(3);
    double d1=t1.DuzinaStranice(t1.DajTjeme(1),t1.DajTjeme(2)); double d1_=t2.DuzinaStranice(t2.DajTjeme(1),t2.DajTjeme(2));
    double d2=t1.DuzinaStranice(t1.DajTjeme(2),t1.DajTjeme(3)); double d2_=t2.DuzinaStranice(t2.DajTjeme(2),t2.DajTjeme(3));
    double d3=t1.DuzinaStranice(t1.DajTjeme(3),t1.DajTjeme(1)); double d3_=t2.DuzinaStranice(t2.DajTjeme(3),t2.DajTjeme(1));
<a name="0"></a><font color="#FF0000"><a href="match771-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_2.gif"/></a>

    if((std::fabs(d1-d1_)&lt;epsilon || std::fabs(d1-d2_)&lt;epsilon || std::fabs(d1-d3_)&lt;epsilon) &amp;&amp; (std::fabs(d2-d1_)&lt;epsilon || std::fabs(d2-d2_)&lt;epsilon || std::fabs(d2-d3_)&lt;epsilon) &amp;&amp; (std::fabs(d3-d1_)&lt;epsilon || std::fabs(d3-d2_)&lt;epsilon || std::fabs(d3-d3_)&lt;epsilon)){
</font>    
    std::vector&lt;std::pair&lt;double,Tacka&gt;&gt;v1;
    v1.push_back(std::make_pair(ugao1,t1.DajTjeme(1)));
    v1.push_back(std::make_pair(ugao2,t1.DajTjeme(2)));
<a name="1"></a><font color="#00FF00"><a href="match771-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_1.gif"/></a>

    v1.push_back(std::make_pair(ugao3,t1.DajTjeme(3)));
    std::sort(v1.begin(),v1.end(),[](std::pair&lt;double,Tacka&gt; m,std::pair&lt;double,Tacka&gt;n){
        return m.first&lt;n.first;
    });
    std::vector&lt;std::pair&lt;double,Tacka&gt;&gt;v2;
</font>    v2.push_back(std::make_pair(ugao1_,t2.DajTjeme(1)));
    v2.push_back(std::make_pair(ugao2_,t2.DajTjeme(2)));
    v2.push_back(std::make_pair(ugao3_,t2.DajTjeme(3)));
<a name="4"></a><font color="#FF00FF"><a href="match771-1.html#4" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_1.gif"/></a>

     std::sort(v2.begin(),v2.end(),[](std::pair&lt;double,Tacka&gt; m,std::pair&lt;double,Tacka&gt;n){
        return m.first&lt;n.first;
</font>    });
    
    if(t1.Orjentacija(v1[0].second,v1[1].second,v1[2].second)==t2.Orjentacija(v2[0].second,v2[1].second,v2[2].second))
            return true;
    }
    
return false;
    
}

bool DaLiSuSlicni(const Trougao &amp;t1, const Trougao &amp;t2){
    double d1=t1.DuzinaStranice(t1.DajTjeme(1),t1.DajTjeme(2)); double d1_=t2.DuzinaStranice(t2.DajTjeme(1),t2.DajTjeme(2));
    double d2=t1.DuzinaStranice(t1.DajTjeme(2),t1.DajTjeme(3)); double d2_=t2.DuzinaStranice(t2.DajTjeme(2),t2.DajTjeme(3));
    double d3=t1.DuzinaStranice(t1.DajTjeme(3),t1.DajTjeme(1)); double d3_=t2.DuzinaStranice(t2.DajTjeme(3),t2.DajTjeme(1));
    if(DaLiSuPodudarni(t1,t2)==true){
        if(std::fabs(d1/d2/d3-d1_/d2_/d3_)&lt;epsilon ||  std::fabs(d1/d2/d3-d1_/d3_/d2_)&lt;epsilon  ||  std::fabs(d1/d2/d3-d2_/d3_/d1_)&lt;epsilon  || std::fabs(d1/d2/d3-d2_/d1_/d3_)&lt;epsilon  ||  std::fabs(d1/d2/d3-d3_/d1_/d2_)&lt;epsilon || std::fabs(d1/d2/d3-d3_/d2_/d1_)&lt;epsilon) 
                return true;
    }

    return false;
}




int main ()
{
   
    try {
         int n;
         std::cout&lt;&lt;"Koliko zelite kreirati trouglova: ";
         std::cin&gt;&gt;n;
        std::vector&lt;std::shared_ptr&lt;Trougao&gt;&gt; v;
        for(int i=0; i&lt;n; i++) {
            Tacka tacka1, tacka2, tacka3;
            std::cout&lt;&lt;"Unesite podatke za "&lt;&lt;i+1&lt;&lt;"."&lt;&lt;" trougao (x1 y1 x2 y2 x3 y3): ";
            std::cin&gt;&gt;tacka1.first&gt;&gt;tacka1.second;
            std::cin&gt;&gt;tacka2.first&gt;&gt;tacka2.second;
            std::cin&gt;&gt;tacka3.first&gt;&gt;tacka3.second;
            double a=std::sqrt((tacka2.first-tacka1.first)*(tacka2.first-tacka1.first)+(tacka2.second-tacka1.second)*(tacka2.second-tacka1.second));
            double b=std::sqrt((tacka3.first-tacka2.first)*(tacka3.first-tacka2.first)+(tacka3.second-tacka2.second)*(tacka3.second-tacka2.second));
            double c=std::sqrt((tacka1.first-tacka3.first)*(tacka1.first-tacka3.first)+(tacka1.second-tacka3.second)*(tacka1.second-tacka3.second));
            if(!(a&gt;0 &amp;&amp; b&gt;0 &amp;&amp; c&gt;0 &amp;&amp; (a+b)&gt;c &amp;&amp; (a+c)&gt;b &amp;&amp; (b+c)&gt;a))     {
                std::cout&lt;&lt;"Nekorektne pozicije tjemena, ponovite unos!";
                i--;
                std::cout&lt;&lt;std::endl;
                continue;
            }
            auto t=std::make_shared&lt;Trougao&gt;(tacka1,tacka2,tacka3);
            v.push_back(t);

        }
        double x,y,faktor,ugao;


        std::cout&lt;&lt;"Unesite vektor translacije (dx dy): ";
        std::cin&gt;&gt;x&gt;&gt;y;
        std::cout&lt;&lt;"Unesite ugao rotacije: ";
        std::cin&gt;&gt;ugao;
        std::cout&lt;&lt;"Unesite faktor skaliranja:";
        std::cin&gt;&gt;faktor;
        std::transform(v.begin(),v.end(),v.begin(),[x,y,ugao,faktor]( std::shared_ptr&lt;Trougao&gt; &amp;a) {
            a-&gt;Transliraj(x,y);
            a-&gt;Rotiraj(a-&gt;DajCentar(),ugao);
            a-&gt;Skaliraj(a-&gt;DajTjeme(1),faktor);
            return a;
        });
        

        std::cout&lt;&lt;" Trouglovi nakon obavljenih transformacija: "&lt;&lt;std::endl;
        std::sort(v.begin(),v.end(),[](std::shared_ptr&lt;Trougao&gt; a, std::shared_ptr&lt;Trougao&gt; b) {
            double P1=a-&gt;DajPovrsinu();
            double P2=b-&gt;DajPovrsinu();
            return P1&lt;P2;
        });

        std::for_each(v.begin(),v.end(),[](std::shared_ptr&lt;Trougao&gt; a) {
            a-&gt;Ispisi();
            std::cout&lt;&lt;std::endl;
        });


        auto it=*std::min_element(v.begin(),v.end(),[](std::shared_ptr&lt;Trougao&gt; a, std::shared_ptr&lt;Trougao&gt; b) {
            double O1=a-&gt;DajObim();
            double O2=b-&gt;DajObim();
            return O1&lt;O2;
        });
        int br(0),brojac(0);
        
        std::cout&lt;&lt;"Trougao sa najmanjim obimom: ";
        it-&gt;Ispisi();
        std::cout&lt;&lt;std::endl;
        
        for(int i=0;i&lt;n-1;i++){
            for(int j=i+1;j&lt;n;j++){
                if(DaLiSuIdenticni(*v[i],*v[j])==1) {
                    if(brojac==0)     std::cout&lt;&lt;"Parovi identicnih trouglova: "&lt;&lt;std::endl;
                   v[i]-&gt;Ispisi();
                    std::cout&lt;&lt;" i ";
                    v[j]-&gt;Ispisi();
                     std::cout&lt;&lt;std::endl;
                     brojac++;
                }
             
            }
        }
        if(brojac==0)std::cout&lt;&lt;"Nema identicnih trouglova!"&lt;&lt;std::endl;
        
        for(int i=0;i&lt;n-1;i++){
            for(int j=i+1;j&lt;n;j++){
                if(DaLiSuPodudarni(*v[i],*v[j])==1) {
                    if(br==0) std::cout&lt;&lt;"Parovi podudarnih trouglova: "&lt;&lt;std::endl;
                    v[i]-&gt;Ispisi();
                    std::cout&lt;&lt;" i ";
                    v[j]-&gt;Ispisi();
                    std::cout&lt;&lt;std::endl;
                    br++;
                }
             
            }
        }
        if(br==0)   std::cout&lt;&lt;"Nema podudarnih trouglova!"&lt;&lt;std::endl;
        br=0;
        for(int i=0;i&lt;n-1;i++){
            for(int j=i+1;j&lt;n;j++){
                if(DaLiSuSlicni(*v[i],*v[j])==1){
                    if(br==0) std::cout&lt;&lt;"Parovi slicnih trouglova: "&lt;&lt;std::endl;
                    v[i]-&gt;Ispisi();
                    std::cout&lt;&lt;" i ";
                    v[j]-&gt;Ispisi();
                    std::cout&lt;&lt;std::endl;
                    br++;
                }
            }
        }
        
<a name="7"></a><font color="#0000FF"><a href="match771-1.html#7" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_0.gif"/></a>

        if(br==0)   std::cout&lt;&lt;"Nema slicnih trouglova!"&lt;&lt;std::endl;
        

        
    } catch(std::domain_error e) {
        std::cout&lt;&lt;e.what();
</font>    }

    catch(std::range_error e) {
        std::cout&lt;&lt;e.what();
    }

    return 0;
}</pre>
</body>
</html>
