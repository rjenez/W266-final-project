<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z1/student8964.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z1/student4973.cpp<p></p><pre>
<a name="8"></a><font color="#00FFFF"><a href="match79-0.html#8" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_2.gif"/></a>

/B 2016/2017, ZadaÄ‡a 4, Zadatak 1
//Napomena: testovi ce biti dostupni dan pred rok!
#include &lt;iostream&gt;
#include &lt;utility&gt;
#include &lt;cmath&gt;
#include &lt;iomanip&gt;
#include &lt;vector&gt;
#include &lt;stdexcept&gt;
#include &lt;algorithm&gt;
#include &lt;memory&gt;

using namespace std;

typedef pair&lt;double, double&gt; Tacka;
const double eps = 1e-4;
const double PI= 4 * atan(1);


class Trougao
{

    Tacka t1;
    Tacka t2;
    Tacka t3;

public:
    Trougao(const Tacka &amp;T1, const Tacka &amp;T2, const Tacka &amp;T3);
    void Postavi(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3);
</font><a name="3"></a><font color="#00FFFF"><a href="match79-0.html#3" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_3.gif"/></a>

    void Postavi(int indeks, const Tacka &amp;t);
    static int Orijentacija(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3);
    Tacka DajTjeme(int indeks) const {
        if(indeks&lt;=0 || indeks&gt;=4) throw range_error("Nekorektan indeks");
        if(indeks==1) {
            return t1;
        }
        if(indeks==2) {
            return t2;
        } else {
            return t3;
        }
    }
    double DajStranicu(int indeks) const;
    double DajUgao(int indeks) const;
    Tacka DajCentar() const {
        Tacka pom;
        double x=((t1.first+t2.first+t3.first)/3);
        double y=((t1.second+t2.second+t3.second)/3);
        pom.first=x;
        pom.second=y;
        return pom;
    }
    double DajObim() const ;
    double DajPovrsinu() const ;
    bool DaLiJePozitivnoOrijentiran() const;
    bool DaLiJeUnutra(const Tacka &amp;t) const;
    void Ispisi() const;
</font>    void Transliraj(double delta_x, double delta_y);
    void Centriraj(const Tacka &amp;t);
    void Rotiraj(const Tacka &amp;t, double ugao);
    void Skaliraj(const Tacka &amp;t, double faktor);
    void Rotiraj(double ugao);
    void Skaliraj(double faktor);
    friend bool DaLiSuIdenticni(const Trougao &amp;tr1, const Trougao &amp;tr2);
    friend bool DaLiSuPodudarni(const Trougao &amp;tr1, const Trougao &amp;tr2);
<a name="1"></a><font color="#00FF00"><a href="match79-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_15.gif"/></a>

    friend bool DaLiSuSlicni(const Trougao &amp;tr1, const Trougao &amp;tr2);
};

Trougao::Trougao(const Tacka &amp;T1, const Tacka &amp;T2, const Tacka &amp;T3)
{
    Trougao::t1.first=T1.first;
    Trougao::t1.second=T1.second;
    Trougao::t2.first=T2.first;
    Trougao::t2.second=T2.second;
    Trougao::t3.first=T3.first;
    Trougao::t3.second=T3.second;

    if(abs((t1.first*(t2.second-t3.second)-t2.first*(t1.second-t3.second)+t3.first*(t1.second-t2.second))) &lt;eps) throw domain_error("Nekorektne pozicije tjemena");

}

void Trougao::Postavi(const Tacka &amp;T1, const Tacka &amp;T2, const Tacka &amp;T3)
{
    Trougao::t1.first=T1.first;
    Trougao::t1.second=T1.second;
    Trougao::t2.first=T2.first;
    Trougao::t2.second=T2.second;
    Trougao::t3.first=T3.first;
    Trougao::t3.second=T3.second;

    if((t1.first*(t2.second-t3.second)-t2.first*(t1.second-t3.second)+t3.first*(t1.second-t2.second))&lt;eps) throw domain_error("Nekorektne pozicije tjemena");
}
void Trougao::Postavi(int indeks,const Tacka &amp;t)
{
    if(indeks&lt;=0 || indeks&gt;=4) throw range_error("Nekorektan indeks");
    if(indeks==1) {
        Trougao::t1.first=t.first;
        Trougao::t1.second=t.second;
    }
    if(indeks==2) {
        Trougao::t2.first=t.first;
        Trougao::t2.second=t.second;
    }
    if(indeks==3) {
        Trougao::t3.first=t.first;
        Trougao::t3.second=t.second;
    }
}

void Trougao::Ispisi() const
{
    cout&lt;&lt;"(("&lt;&lt;t1.first&lt;&lt;","&lt;&lt;t1.second&lt;&lt;"),("&lt;&lt;t2.first&lt;&lt;","&lt;&lt;t2.second&lt;&lt;"),("&lt;&lt;t3.first&lt;&lt;","&lt;&lt;t3.second&lt;&lt;"))";
}



static int Orijentacija(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3)
{
    if((t1.first*(t2.second-t3.second)-t2.first*(t1.second-t3.second)+t3.first*(t1.second-t2.second))&gt;0) return 1;
    else if((t1.first*(t2.second-t3.second)-t2.first*(t1.second-t3.second)+t3.first*(t1.second-t2.second))&lt;0) return-1;
    else return 0;
}



double Trougao::DajStranicu(int indeks) const
{
    if(indeks&lt;=0 || indeks&gt;=4) throw range_error("Nekorektan indeks");
    if(indeks==1) {
        return sqrt((t3.first-t2.first)*(t3.first-t2.first)+(t3.second-t2.second)*(t3.second-t2.second));
</font>    }
    if(indeks==2) {
<a name="6"></a><font color="#00FF00"><a href="match79-0.html#6" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_2.gif"/></a>

        return sqrt((t3.first-t1.first)*(t3.first-t1.first)+(t3.second-t1.second)*(t3.second-t1.second));
    } else {
        return sqrt((t2.first-t1.first)*(t2.first-t1.first)+(t2.second-t1.second)*(t2.second-t1.second));
    }
}

double Trougao::DajUgao(int indeks) const
{
    if(indeks&lt;=0 || indeks&gt;=4) throw range_error("Nekorektan indeks");
    double a=sqrt((t3.first-t2.first)*(t3.first-t2.first)+(t3.second-t2.second)*(t3.second-t2.second));
</font>    double b=sqrt((t3.first-t1.first)*(t3.first-t1.first)+(t3.second-t1.second)*(t3.second-t1.second));
<a name="4"></a><font color="#FF00FF"><a href="match79-0.html#4" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_3.gif"/></a>

    double c=sqrt((t2.first-t1.first)*(t2.first-t1.first)+(t2.second-t1.second)*(t2.second-t1.second));

    double ugao=0;

    if(indeks==1) {
        ugao=((b*b+c*c-a*a)/(2*b*c));
    }
    if(indeks==2) {
        ugao=((a*a+c*c-b*b)/(2*a*c));
    } else {
        ugao=((a*a+b*b-c*c)/(2*a*b));
    }

    return acos(ugao);
}

double Trougao::DajObim() const
{
    double O=0;
    double a=sqrt((t3.first-t2.first)*(t3.first-t2.first)+(t3.second-t2.second)*(t3.second-t2.second));
</font>    double b=sqrt((t3.first-t1.first)*(t3.first-t1.first)+(t3.second-t1.second)*(t3.second-t1.second));
<a name="2"></a><font color="#0000FF"><a href="match79-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_12.gif"/></a>

    double c=sqrt((t2.first-t1.first)*(t2.first-t1.first)+(t2.second-t1.second)*(t2.second-t1.second));
    O=a+b+c;
    return O;
}

double Trougao::DajPovrsinu() const
{
    double P=0;
    P=fabs((t1.first*(t2.second-t3.second)-t2.first*(t1.second-t3.second)+t3.first*(t1.second-t2.second))/2);
    return P;
}

bool Trougao::DaLiJePozitivnoOrijentiran() const
{
    if((t1.first*(t2.second-t3.second)-t2.first*(t1.second-t3.second)+t3.first*(t1.second-t2.second))&gt;0) return true;
    return false;
}

bool Trougao::DaLiJeUnutra(const Tacka &amp;t) const
{
    bool b1,b2,b3;
    b1=((t.first-t2.first)*(t1.second-t2.second)-(t1.first-t2.second)*(t.second-t2.second))&lt;0.0f;
    b2=((t.first-t3.first)*(t2.second-t3.second)-(t2.first-t3.second)*(t.second-t3.second))&lt;0.0f;
    b3=((t.first-t1.first)*(t3.second-t1.second)-(t3.first-t1.second)*(t.second-t1.second))&lt;0.0f;

    return ((b1==b2) &amp;&amp; (b2==b3));


}

void Trougao::Transliraj(double delta_x,double delta_y)
{


    t1.first = t1.first + delta_x;
    t1.second = t1.second + delta_y;

    t2.first = t2.first + delta_x;
    t2.second = t2.second + delta_y;

    t3.first = t3.first + delta_x;
    t3.second = t3.second + delta_y;

}

void Trougao::Centriraj(const Tacka &amp;t)
{
    Tacka pom;
    double x=((t1.first+t2.first+t3.first)/3);
    double y=((t1.second+t2.second+t3.second)/3);
    pom.first=x;
    pom.second=y;
    Transliraj(x,y);

}

void Trougao::Rotiraj(const Tacka &amp;t,double ugao)
{

    t1.first=t.first+(t1.first-t.first)*cos(ugao)-(t1.second-t.second)*sin(ugao);
</font>    t1.second=t.second+(t1.first-t.first)*sin(ugao)+(t1.second-t.second)*cos(ugao);

    t2.first=t.first+(t2.first-t.first)*cos(ugao)-(t2.second-t.second)*sin(ugao);
    t2.second=t.second+(t2.first-t.first)*sin(ugao)+(t2.second-t.second)*cos(ugao);

    t3.first=t.first+(t3.first-t.first)*cos(ugao)-(t3.second-t.second)*sin(ugao);
<a name="9"></a><font color="#FF00FF"><a href="match79-0.html#9" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_1.gif"/></a>

    t3.second=t.second+(t3.first-t.first)*sin(ugao)+(t3.second-t.second)*cos(ugao);

}

void Trougao::Skaliraj(const Tacka &amp;t, double faktor)
{
    if(abs(faktor)&lt;eps) throw domain_error("Nekorektan faktor skaliranja");

    t1.first=(t.first+faktor*(t1.first-t.first));
    t1.second=(t.second+faktor*(t1.second-t.second));
</font>
    t2.first=(t.first+faktor*(t2.first-t.first));
    t2.second=(t.second+faktor*(t2.second-t.second));

<a name="7"></a><font color="#0000FF"><a href="match79-0.html#7" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_2.gif"/></a>

    t3.first=(t.first+faktor*(t3.first-t.first));
    t3.second=(t.second+faktor*(t3.second-t.second));

    if(faktor&lt;0) this-&gt;Rotiraj(180);

}


void Trougao::Rotiraj(double ugao)
{

    Tacka pom;
    double x=((t1.first+t2.first+t3.first)/3);
    double y=((t1.second+t2.second+t3.second)/3);
    pom.first=x;
    pom.second=y;

    t1.first=pom.first+(t1.first-pom.first)*cos(ugao)-(t1.second-pom.second)*sin(ugao);
</font>    t1.second=pom.second+(t1.first-pom.first)*sin(ugao)+(t1.second-pom.second)*cos(ugao);

    t2.first=pom.first+(t2.first-pom.first)*cos(ugao)-(t2.second-pom.second)*sin(ugao);
    t2.second=pom.second+(t2.first-pom.first)*sin(ugao)+(t2.second-pom.second)*cos(ugao);

    t3.first=pom.first+(t3.first-pom.first)*cos(ugao)-(t3.second-pom.second)*sin(ugao);
<a name="5"></a><font color="#FF0000"><a href="match79-0.html#5" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_2.gif"/></a>

    t3.second=pom.second+(t3.first-pom.first)*sin(ugao)+(t3.second-pom.second)*cos(ugao);


}


void Trougao::Skaliraj(double faktor)
{
    if(abs(faktor)&lt;eps) throw domain_error("Nekorektan faktor skaliranja");
    Tacka pom;
    double x=((t1.first+t2.first+t3.first)/3);
    double y=((t1.second+t2.second+t3.second)/3);
    pom.first=x;
    pom.second=y;

    t1.first=(pom.first+faktor*(t1.first-pom.first));
    t1.second=(pom.second+faktor*(t1.second-pom.second));
</font>
    t2.first=(pom.first+faktor*(t2.first-pom.first));
    t2.second=(pom.second+faktor*(t2.second-pom.second));

<a name="0"></a><font color="#FF0000"><a href="match79-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_34.gif"/></a>

    t3.first=(pom.first+faktor*(t3.first-pom.first));
    t3.second=(pom.second+faktor*(t3.second-pom.second));
}


bool DaLiSuIdenticni(const Trougao &amp;tr1,const Trougao &amp;tr2)
{
    vector&lt;Tacka&gt; tacke1,tacke2;
    for(int i(1); i &lt; 4; i++) {
        tacke1.push_back(tr1.DajTjeme(i));
        tacke2.push_back(tr2.DajTjeme(i));
    }
    for(int t(0); t &lt; 3; t++) {


        for(int i(0); i &lt; tacke1.size(); i++) {
            for(int j(0); j &lt; tacke2.size(); j++) {
                if(abs(tacke1[i].first - tacke2[j].first) &lt; eps &amp;&amp; abs(tacke1[i].second - tacke2[j].second) &lt; eps) {
                    tacke1.erase(tacke1.begin() + i);
                    tacke2.erase(tacke2.begin() + j);
                    j--;
                    i--;
                }
            }
        }
    }
    return tacke1.empty() &amp;&amp; tacke2.empty();
}
bool DaLiSuPodudarni(const Trougao &amp;tr1, const Trougao &amp;tr2)
{

    if((abs(tr1.DajStranicu(1) - tr2.DajStranicu(1)) &lt; eps &amp;&amp; abs(tr1.DajStranicu(2) - tr2.DajStranicu(2)) &lt; eps &amp;&amp; abs(tr1.DajStranicu(3) -tr2.DajStranicu(3)) &lt; eps) || (abs(tr1.DajUgao(2) - tr2.DajUgao(2)) &lt; eps &amp;&amp; abs(tr1.DajUgao(3) - tr2.DajUgao(3)) &lt; eps &amp;&amp; abs(tr1.DajStranicu(2) - tr2.DajStranicu(2)) &lt; eps &amp;&amp; abs(tr1.DajStranicu(3) -tr2.DajStranicu(3)) &lt; eps))
        return true;
    if((abs(tr1.DajStranicu(1) - tr2.DajStranicu(2)) &lt; eps &amp;&amp; abs(tr1.DajStranicu(2) - tr2.DajStranicu(3)) &lt; eps &amp;&amp; abs(tr1.DajStranicu(3) -tr2.DajStranicu(1)) &lt; eps) || (abs(tr1.DajUgao(2) - tr2.DajUgao(3)) &lt; eps &amp;&amp; abs(tr1.DajUgao(3) - tr2.DajUgao(1)) &lt; eps &amp;&amp; abs(tr1.DajStranicu(2) - tr2.DajStranicu(3)) &lt; eps &amp;&amp; abs(tr1.DajStranicu(3) -tr2.DajStranicu(1)) &lt; eps))
        return true;
    if((abs(tr1.DajStranicu(1) - tr2.DajStranicu(3)) &lt; eps &amp;&amp; abs(tr1.DajStranicu(2) - tr2.DajStranicu(1)) &lt; eps &amp;&amp; abs(tr1.DajStranicu(3) -tr2.DajStranicu(2)) &lt; eps) || (abs(tr1.DajUgao(2) - tr2.DajUgao(1)) &lt; eps &amp;&amp; abs(tr1.DajUgao(3) - tr2.DajUgao(2)) &lt; eps &amp;&amp; abs(tr1.DajStranicu(2) - tr2.DajStranicu(1)) &lt; eps &amp;&amp; abs(tr1.DajStranicu(3) -tr2.DajStranicu(2)) &lt; eps))
            return true;


            return false;
        }
bool DaLiSuSlicni(const Trougao &amp;tr1, const Trougao &amp;tr2)
{
    double k1,k2,k3;


    k1 = tr1.DajStranicu(1) / tr2.DajStranicu(1);
    if(abs(tr1.DajStranicu(2)/tr2.DajStranicu(2) - k1) &lt; eps &amp;&amp; abs(tr1.DajStranicu(3)/tr2.DajStranicu(3) - k1) &lt; eps)
        return true;
    k2 = tr1.DajStranicu(1) / tr2.DajStranicu(2);
    if(abs(tr1.DajStranicu(2)/tr2.DajStranicu(3) - k2) &lt; eps &amp;&amp; abs(tr1.DajStranicu(3)/tr2.DajStranicu(1) - k2) &lt; eps)
        return true;
    k3 = tr1.DajStranicu(1) / tr2.DajStranicu(3);
    if(abs(tr1.DajStranicu(2)/tr2.DajStranicu(1) - k3) &lt; eps &amp;&amp; abs(tr1.DajStranicu(3)/tr2.DajStranicu(2) - k3) &lt; eps)
        return true;

    return false;
}

bool Kriterij1(const shared_ptr&lt;Trougao&gt; &amp;c,shared_ptr&lt;Trougao&gt; &amp;d)
{
    return c-&gt;DajObim() &gt; d-&gt;DajObim();
}


int main ()
{

    int n;
    double a,b,ugao,faktor;
    cout&lt;&lt;"Koliko zelite kreirati trouglova: ";
    cin&gt;&gt;n;
    vector&lt;shared_ptr&lt;Trougao&gt;&gt;v(n);
    Tacka t1, t2, t3;
    for(int i(0) ; i &lt; n; i++) {
        cout&lt;&lt;"Unesite podatke za "&lt;&lt;i+1&lt;&lt;". trougao (x1 y1 x2 y2 x3 y3): ";
        cin&gt;&gt;t1.first;
        cin&gt;&gt;t1.second;
        cin&gt;&gt;t2.first;
        cin&gt;&gt;t2.second;
        cin&gt;&gt;t3.first;
        cin&gt;&gt;t3.second;

        try {
            v[i] = make_shared&lt;Trougao&gt;(t1, t2, t3);
        } catch(domain_error tekst ) {
            cout&lt;&lt;tekst.what()&lt;&lt;", ponovite unos!"&lt;&lt;endl;
            i--;

        }
    }
    cout&lt;&lt;"Unesite vektor translacije (dx dy): ";
    cin&gt;&gt;a&gt;&gt;b;
    cout&lt;&lt;"Unesite ugao rotacije: ";
    cin&gt;&gt;ugao;
    cout&lt;&lt;"Unesite faktor skaliranja: ";
    cin&gt;&gt;faktor;
    cout&lt;&lt;"Trouglovi nakon obavljenih transformacija:";
    transform (v.begin(),v.end(),v.begin(),[a,b,ugao,faktor] (shared_ptr&lt;Trougao&gt; &amp;c) {
        c-&gt;Transliraj(a,b);
        c-&gt;Rotiraj(ugao);
        c-&gt;Skaliraj(c-&gt;DajTjeme(1),faktor);
        return c;
    });
    sort(v.begin(),v.end(),[](const shared_ptr&lt;Trougao&gt; &amp;a, const shared_ptr&lt;Trougao&gt; &amp;b) {
        return a-&gt;DajPovrsinu() &lt; b-&gt;DajPovrsinu();
    });
    for_each(v.begin(),v.end(),[](const shared_ptr&lt;Trougao&gt; &amp;x) {
        x-&gt;Ispisi();
        cout &lt;&lt; endl;
    });


    cout&lt;&lt;"Trougao sa najmanjim obimom: ";
    (*max_element (v.begin(),v.end(),Kriterij1))-&gt;Ispisi();
    cout &lt;&lt; endl;
    bool Identicni=false;
    for(int i(0); i &lt; v.size(); i++) {
        for(int j(i+1); j &lt; v.size(); j++) {
            if(DaLiSuIdenticni(*v[i],*v[j])) {
                if(Identicni == false)
                    cout &lt;&lt; "Parovi identicnih trouglova:" &lt;&lt; endl;
                v[i]-&gt;Ispisi();
                cout &lt;&lt; " i ";
                v[j]-&gt;Ispisi();
                cout &lt;&lt; endl;
                Identicni=true;
            }
        }
    }
    if(Identicni==false) cout&lt;&lt;"Nema identicnih trouglova!"&lt;&lt;endl;
    bool Podudarni = false;
    for(int i(0); i &lt; v.size(); i++) {
        for(int j(i+1); j &lt; v.size(); j++) {
            if(DaLiSuPodudarni(*v[i],*v[j])) {
                if(Podudarni == false)
                    cout&lt;&lt;"Parovi podudarnih trouglova: "&lt;&lt;endl;
                v[i]-&gt;Ispisi();
                cout &lt;&lt; " i ";
                v[j]-&gt;Ispisi();
                cout &lt;&lt; endl;
                Podudarni=true;
            }
        }
    }
    if(Podudarni==false) cout&lt;&lt;"Nema podudarnih trouglova!"&lt;&lt;endl;
    bool Slicni = false;
    for(int i(0); i &lt; v.size(); i++) {
        for(int j(i+1); j &lt; v.size(); j++) {
            if(DaLiSuSlicni(*v[i],*v[j])) {
                if(Slicni == false)
                    cout&lt;&lt;"Parovi slicnih trouglova:"&lt;&lt;endl;
                v[i]-&gt;Ispisi();
                cout &lt;&lt; " i ";
                v[j]-&gt;Ispisi();
                cout &lt;&lt; endl;
                Slicni=true;
            }
        }
    }
    if(Slicni==false) cout&lt;&lt;"Nema slicnih trouglova!"&lt;&lt;endl;

    return 0;
</font>}
</pre>
</body>
</html>
