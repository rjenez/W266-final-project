<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z1/student2210.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z1/student2210.cpp<p></p><pre>
<a name="6"></a><font color="#00FF00"><a href="match223-1.html#6" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_2.gif"/></a>

/B 2016/2017, ZadaÄ‡a 4, Zadatak 1
//Napomena: testovi ce biti dostupni dan pred rok!
#include &lt;iostream&gt;
#include&lt;stdexcept&gt;
#include&lt;utility&gt;
#include&lt;cmath&gt;
#include&lt;vector&gt;
#include&lt;memory&gt;
#include &lt;algorithm&gt;

#define EPS 000000000.1
using namespace std ;

typedef pair&lt;double, double&gt; Tacka;
class Trougao{
    Tacka tacka1, tacka2, tacka3;
    static bool DaLiSuJednaki(double x,double y){
        if(fabs(x-y)&lt;=EPS) return true;
        return false;
    }

    public:

Trougao(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3){
</font><a name="10"></a><font color="#FF0000"><a href="match223-1.html#10" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_1.gif"/></a>

    if(DaLiSuJednaki((t2.first-t1.first)/(t3.first-t1.first),(t2.second-t1.second)/(t3.second-t1.second))) throw domain_error("Nekorektne pozicije tjemena");
    Postavi(t1, t2, t3);
}

void Postavi(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3){
</font><a name="7"></a><font color="#0000FF"><a href="match223-1.html#7" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_2.gif"/></a>

    if(DaLiSuJednaki((t2.first-t1.first)/(t3.first-t1.first),(t2.second-t1.second)/(t3.second-t1.second))) throw domain_error("Nekorektne pozicije tjemena");
    tacka1=t1; tacka2=t2; tacka3=t3;
</font>}

<a name="13"></a><font color="#00FFFF"><a href="match223-1.html#13" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_1.gif"/></a>

void Postavi(int indeks, const Tacka &amp;t){
if(indeks&lt;0 || indeks&gt;3) throw range_error ("Nekorektan indeks");
if(indeks==1) tacka1=t; if(indeks==2) tacka2=t; if(indeks==3) tacka3=t;
</font><a name="3"></a><font color="#00FFFF"><a href="match223-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_3.gif"/></a>

}

static int Orijentacija(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3){
    if((t1.first*(t2.second-t3.second))-(t2.first*(t1.second-t3.second))-(t3.first*(t1.second-t2.second))&gt;0) return 1; 
     if((t1.first*(t2.second-t3.second))-(t2.first*(t1.second-t3.second))-(t3.first*(t1.second-t2.second))&lt;0) return -1;
}

Tacka DajTjeme(int indeks) const { 
</font>if(indeks&lt;0 || indeks&gt;3) throw range_error ("Nekorektan indeks");
if(indeks==1) return tacka1; if(indeks==2) return tacka2;  if(indeks==3) return tacka3;
}

double DajStranicu(int indeks) const;
double DajUgao(int indeks) const;
Tacka DajCentar() const{ Tacka pomocna;
pomocna.first=(tacka1.first+tacka2.first+tacka3.first)/3;
pomocna.second=(tacka1.second+tacka2.second+tacka3.second)/3;
<a name="5"></a><font color="#FF0000"><a href="match223-1.html#5" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_3.gif"/></a>

return pomocna;
}
double DajObim() const{ return DajStranicu(1)+DajStranicu(2)+DajStranicu(3);}
double DajPovrsinu() const{ double s(DajObim()/2);
return sqrt(s*(s-DajStranicu(1))*(s-DajStranicu(2))*(s-DajStranicu(3)));
}

bool DaLiJePozitivnoOrijentiran() const{
if((tacka1.first*(tacka2.second-tacka3.second))-(tacka2.first*(tacka1.second-tacka3.second))-(tacka3.first*(tacka1.second-tacka2.second))&gt;0) return true; 
return false;
}

bool DaLiJeUnutra(const Tacka &amp;t) const{
</font><a name="11"></a><font color="#00FF00"><a href="match223-1.html#11" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_1.gif"/></a>

    if((Orijentacija(tacka1,tacka2,tacka3))==1 &amp;&amp; Orijentacija(tacka1,tacka2,t)==1 &amp;&amp; Orijentacija(tacka2,tacka3,t)==1 &amp;&amp; Orijentacija(tacka3,tacka1,t)==1) 
    return true;
}
void Ispisi() const {
</font>    cout&lt;&lt;"(("&lt;&lt;tacka1.first&lt;&lt;","&lt;&lt;tacka1.second&lt;&lt;") , ("&lt;&lt;tacka2.first&lt;&lt;","&lt;&lt;tacka2.second&lt;&lt;") , ("&lt;&lt;tacka3.second&lt;&lt;","&lt;&lt;tacka3.first&lt;&lt;"))";
}
void Transliraj(double delta_x, double delta_y);
void Centriraj(const Tacka &amp;t);
void Rotiraj(const Tacka &amp;t, double ugao);
void Skaliraj(const Tacka &amp;t, double faktor);
void Rotiraj(double ugao){
Rotiraj(DajCentar(),ugao);
}
<a name="0"></a><font color="#FF0000"><a href="match223-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_8.gif"/></a>

void Skaliraj(double faktor);
friend bool DaLiSuIdenticni(const Trougao &amp;t1, const Trougao &amp;t2){
        if(DaLiSuJednaki(t1.tacka1.first,t2.tacka1.first) &amp;&amp; DaLiSuJednaki(t1.tacka1.second,t2.tacka1.second)){
        if(DaLiSuJednaki(t1.tacka2.first,t2.tacka2.first) &amp;&amp; DaLiSuJednaki(t1.tacka2.second,t2.tacka2.second) &amp;&amp; DaLiSuJednaki(t1.tacka3.first,t2.tacka3.first) &amp;&amp; DaLiSuJednaki(t1.tacka3.second,t2.tacka3.second))
        return true;
        if(DaLiSuJednaki(t1.tacka2.first,t2.tacka3.first) &amp;&amp; DaLiSuJednaki(t1.tacka2.second,t2.tacka3.second) &amp;&amp; DaLiSuJednaki(t1.tacka3.first,t2.tacka2.first) &amp;&amp; DaLiSuJednaki(t1.tacka3.second,t2.tacka2.second))
        return true;
        }
        
    if(DaLiSuJednaki(t1.tacka1.first,t2.tacka2.first) &amp;&amp; DaLiSuJednaki(t1.tacka1.second,t2.tacka2.second)){
        if(DaLiSuJednaki(t1.tacka2.first,t2.tacka1.first) &amp;&amp; DaLiSuJednaki(t1.tacka2.second,t2.tacka1.second) &amp;&amp; DaLiSuJednaki(t1.tacka3.first,t2.tacka3.first) &amp;&amp; DaLiSuJednaki(t1.tacka3.second,t2.tacka3.second))
        return true;
        if(DaLiSuJednaki(t1.tacka2.first,t2.tacka3.first) &amp;&amp; DaLiSuJednaki(t1.tacka2.second,t2.tacka3.second) &amp;&amp; DaLiSuJednaki(t1.tacka3.first,t2.tacka1.first) &amp;&amp; DaLiSuJednaki(t1.tacka3.second,t2.tacka1.second))
</font><a name="8"></a><font color="#00FFFF"><a href="match223-1.html#8" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_1.gif"/></a>

        return true;
        }
    if(DaLiSuJednaki(t1.tacka1.first,t2.tacka3.first) &amp;&amp; DaLiSuJednaki(t1.tacka1.second,t2.tacka3.second)){
</font>        if(DaLiSuJednaki(t1.tacka2.first,t2.tacka1.first) &amp;&amp; DaLiSuJednaki(t1.tacka2.second,t2.tacka1.second) &amp;&amp; DaLiSuJednaki(t1.tacka3.first,t2.tacka2.first) &amp;&amp; DaLiSuJednaki(t1.tacka3.second,t2.tacka2.second))
        return true;
<a name="1"></a><font color="#00FF00"><a href="match223-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_5.gif"/></a>

        if(DaLiSuJednaki(t1.tacka2.first,t2.tacka2.first) &amp;&amp; DaLiSuJednaki(t1.tacka2.second,t2.tacka2.second) &amp;&amp; DaLiSuJednaki(t1.tacka3.first,t2.tacka1.first) &amp;&amp; DaLiSuJednaki(t1.tacka3.second,t2.tacka1.second))
        return true;
        }
    return false;

}

friend bool DaLiSuPodudarni(const Trougao &amp;t1, const Trougao &amp;t2){
    if(DaLiSuJednaki(t1.DajStranicu(1),t2.DajStranicu(1)) &amp;&amp; DaLiSuJednaki(t1.DajStranicu(2),t2.DajStranicu(2)) &amp;&amp; DaLiSuJednaki(t1.DajStranicu(3),t2.DajStranicu(3))) return true;
    return false;
}
friend bool TrougaoDaLiSuSlicni(const Trougao &amp;t1, const Trougao &amp;t2){
    
        if(DaLiSuJednaki((t1.DajStranicu(1)/t2.DajStranicu(1)),(t1.DajStranicu(2)/t2.DajStranicu(2))) &amp;&amp; DaLiSuJednaki((t1.DajStranicu(3)/t2.DajStranicu(3)),(t1.DajStranicu(1)/t2.DajStranicu(1))) &amp;&amp; DaLiSuJednaki((t1.DajStranicu(3)/t2.DajStranicu(3)),(t1.DajStranicu(2)/t2.DajStranicu(2))))
        return true;
</font><a name="12"></a><font color="#0000FF"><a href="match223-1.html#12" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_1.gif"/></a>

        return false;
}
};

double Trougao::DajStranicu(int indeks) const{
    if(indeks&lt;0 || indeks&gt;3) throw range_error ("Nekorektan indeks");
    if(indeks==1) return (sqrt((tacka3.first-tacka2.first)*(tacka3.first-tacka2.first))+((tacka3.second-tacka2.second)*(tacka3.second-tacka2.second)));
</font>    if(indeks==2) return (sqrt((tacka3.first-tacka1.first)*(tacka3.first-tacka1.first))+((tacka3.second-tacka1.second)*(tacka3.second-tacka1.second)));
<a name="2"></a><font color="#0000FF"><a href="match223-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_4.gif"/></a>

    if(indeks==3) return (sqrt((tacka2.first-tacka1.first)*(tacka2.first-tacka1.first))+((tacka2.second-tacka1.second)*(tacka2.second-tacka1.second)));
}
double Trougao::DajUgao(int indeks) const{
     if(indeks&lt;0 || indeks&gt;3) throw range_error ("Nekorektan indeks");
     if(indeks==1) return acos(((DajStranicu(2)*DajStranicu(2))+(DajStranicu(3)*DajStranicu(3))-(DajStranicu(1)*DajStranicu(1)))/(2*DajStranicu(2)*DajStranicu(3)));
     if(indeks==2) return acos(((DajStranicu(3)*DajStranicu(3))+(DajStranicu(1)*DajStranicu(1))-(DajStranicu(2)*DajStranicu(2)))/(2*DajStranicu(1)*DajStranicu(3)));
     if(indeks==3) return acos(((DajStranicu(1)*DajStranicu(1))+(DajStranicu(2)*DajStranicu(2))-(DajStranicu(3)*DajStranicu(3)))/(2*DajStranicu(1)*DajStranicu(2)));
</font>}

void Trougao::Transliraj(double delta_x, double delta_y){
    tacka1.first+=delta_x;
    tacka2.first+=delta_x;
    tacka3.first+=delta_x;
<a name="4"></a><font color="#FF00FF"><a href="match223-1.html#4" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_3.gif"/></a>

    tacka1.second+=delta_y;
    tacka2.second+=delta_y;
    tacka3.second+=delta_y;
}
void Trougao::Centriraj(const Tacka &amp;t){
    double Pomjeri_x, Pomjeri_y;
    Pomjeri_x=((3*t.first)/(tacka1.first+tacka2.first+tacka3.first));
    Pomjeri_y=((3*t.second)/(tacka1.second+tacka2.second+tacka3.second));
    Transliraj(Pomjeri_x,Pomjeri_y);
}
void Trougao::Rotiraj(const Tacka &amp;t, double ugao){
    tacka1.first=t.first+(tacka1.first-t.first)*cos(ugao)-(tacka1.second-t.second)*sin(ugao);
</font>    tacka1.second=t.second+(tacka1.first-t.first)*sin(ugao)+(tacka1.second-t.second)*cos(ugao);
    
    tacka2.first=t.first+(tacka2.first-t.first)*cos(ugao)-(tacka2.second-t.second)*sin(ugao);
    tacka2.second=t.second+(tacka2.first-t.first)*sin(ugao)+(tacka2.second-t.second)*cos(ugao);
    
    tacka3.first=t.first+(tacka3.first-t.first)*cos(ugao)-(tacka3.second-t.second)*sin(ugao);
<a name="16"></a><font color="#00FF00"><a href="match223-1.html#16" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_0.gif"/></a>

    tacka3.second=t.second+(tacka3.first-t.first)*sin(ugao)+(tacka3.second-t.second)*cos(ugao);
}
void Trougao::Skaliraj(const Tacka &amp;t, double faktor){
    Tacka temp;
    temp.first=t.first;
</font>    temp.second=t.second;
<a name="15"></a><font color="#FF0000"><a href="match223-1.html#15" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_1.gif"/></a>

    if(fabs(faktor)&lt;=EPS) throw domain_error ("Nekorektan faktor skaliranja");
    if(faktor&gt;0){
    tacka1.first=temp.first+faktor*(tacka1.first-temp.first);
    tacka1.second=temp.second+faktor*(tacka1.second-temp.second);
</font>    
    tacka2.first=temp.first+faktor*(tacka2.first-temp.first);
    tacka2.second=temp.second+faktor*(tacka2.second-temp.second);
    
<a name="9"></a><font color="#FF00FF"><a href="match223-1.html#9" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_1.gif"/></a>

    tacka3.first=temp.first+faktor*(tacka3.first-temp.first);
    tacka3.second=temp.second+faktor*(tacka3.second-temp.second);
    }
    else {
    tacka1.first=temp.first+faktor*(tacka1.first-temp.first);
    tacka1.second=temp.second+faktor*(tacka1.second-temp.second);
</font>    
    tacka2.first=temp.first+faktor*(tacka2.first-temp.first);
    tacka2.second=temp.second+faktor*(tacka2.second-temp.second);
    
<a name="14"></a><font color="#FF00FF"><a href="match223-1.html#14" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_1.gif"/></a>

    tacka3.first=temp.first+faktor*(tacka3.first-temp.first);
    tacka3.second=temp.second+faktor*(tacka3.second-temp.second);
    Rotiraj(DajCentar(),4.*atan(1.));
    }
        
}

void Trougao::Skaliraj(double faktor){
</font>   
    if(fabs(faktor)&lt;=EPS) throw domain_error ("Nekorektan faktor skaliranja");
    if(faktor&gt;0){
    Skaliraj(DajCentar(),faktor);
    }
    else {
    Skaliraj(DajCentar(),faktor);
    Rotiraj(DajCentar(),4.*atan(1.));
    }
}
bool DaLiSuJednaki(double x,double y){
        if(fabs(x-y)&lt;=EPS) return true;
        return false;
    }
int main(){
  	try{
		cout&lt;&lt;"Koliko zelite kreirati trouglova: ";
		int n;
		cin&gt;&gt;n;
		vector&lt;shared_ptr&lt;Trougao&gt;&gt;v;
try{
		for(int i=0;i&lt;n;i++){
			double x1(0),x2(0),x3(0);
			double y1(0),y2(0),y3(0);
			cout&lt;&lt;"Unesite podatke za "&lt;&lt;i+1&lt;&lt;". trougao (x1 y1 x2 y2 x3 y3): ";
			cin&gt;&gt;x1&gt;&gt;y1&gt;&gt;x2&gt;&gt;y2&gt;&gt;x3&gt;&gt;y3;
			Tacka t1=make_pair(x1,y1);
			Tacka t2=make_pair(x2,y2);
			Tacka t3=make_pair(x3,y3);
			try{
		if(DaLiSuJednaki((t2.first-t1.first)/(t3.first-t1.first),(t2.second-t1.second)/(t3.second-t1.second))) {throw domain_error("Nekorektne pozicije tjemena"); }
				v.emplace_back( make_shared&lt;Trougao&gt;(t1,t2,t3));
			}
		catch(domain_error e){
				cout&lt;&lt;e.what() &lt;&lt; ", ponovite unos!" &lt;&lt; endl;
				i--;
			}
		}
        
    }
    catch(domain_error e){
	cout&lt;&lt;e.what();
}
    vector&lt;Tacka&gt;vcentar;
   // int m(n-2);
		for(int i=0;i&lt;n;i++){
			vcentar.emplace_back(v[i]-&gt;DajCentar());
		}
		cout&lt;&lt;"Unesite vektor translacije (dx dy): ";
		double delta_x(0);
		double delta_y(0);
		cin&gt;&gt;delta_x&gt;&gt;delta_y;
		for(int i=0;i&lt;n;i++) v[i]-&gt;Transliraj(delta_x,delta_y);
		double ugao(0);
		cout&lt;&lt;"Unesite ugao rotacije: ";
		cin&gt;&gt;ugao;
		for(int i=0;i&lt;n;i++) v[i]-&gt;Rotiraj(v[i]-&gt;DajCentar(),ugao);
		double faktor(0);
		cout&lt;&lt;"Unesite faktor skaliranja: ";
		cin&gt;&gt;faktor;
		for(int i=0;i&lt;n;i++) v[i]-&gt;Skaliraj(v[i]-&gt;DajTjeme(1),faktor);
		sort(v.begin(),v.end(),[](shared_ptr&lt;Trougao&gt;p,shared_ptr&lt;Trougao&gt;q) {return p-&gt;DajPovrsinu() &lt; q-&gt;DajPovrsinu();});
		cout&lt;&lt;"Trouglovi nakon obavljenih transformacija:\n";
		for(int i=0;i&lt;n;i++){
			v[i]-&gt;Ispisi(); 
			cout&lt;&lt;endl;
		}
		cout&lt;&lt;"Trougao sa najmanjim obimom: ";
		auto min=min_element(v.begin(),v.end(),[](shared_ptr&lt;Trougao&gt;p,shared_ptr&lt;Trougao&gt;q) {return p-&gt;DajObim() &lt; q-&gt;DajObim();  } );
		(*min)-&gt;Ispisi(); 
		cout&lt;&lt;endl;
		int identicni(0),podudarni(0),slicni(0);
		for(int i=0;i&lt;n-1;i++){
			for(int j=i+1;j&lt;n;j++){
			if(DaLiSuIdenticni(*v[i],*v[j])) {
			    identicni++;
			    
			}
			}
		}
		if(identicni==0) {
		    cout&lt;&lt;"Nema identicnih trouglova!\n";
		}
		if(identicni!=0){
			cout&lt;&lt;"Parovi identicnih trouglova:\n";
			for(int i=0;i&lt;n-1;i++){
			for(int j=i+1;j&lt;n;i++){
			if(DaLiSuIdenticni(*v[i],*v[j])) {  
			    v[i]-&gt;Ispisi();
			    cout&lt;&lt;" i ";
			    v[j]-&gt;Ispisi();
			}
			}
		}
		}
		
		for(int i=0;i&lt;n;i++){
			for(int j=i+1;j&lt;n;j++){
			if(DaLiSuPodudarni(*v[i],*v[j])) {
			    podudarni++;
			} 
			}
		}
		if(podudarni==0) {
		    cout&lt;&lt;"Nema podudarnih trouglova!\n";
		}
		if(podudarni!=0){
			cout&lt;&lt;"\nParovi podudarnih trouglova:\n";
			for(int i=0;i&lt;n;i++){
			for(int j=i+1;j&lt;n;j++){
			if(DaLiSuPodudarni(*v[i],*v[j])) {
			    v[i]-&gt;Ispisi();
			    cout&lt;&lt;" i "; 
			    v[j]-&gt;Ispisi();
			    cout&lt;&lt;endl;
			} 
			}
		}
			
		}
		
		for(int i=0;i&lt;n;i++){
			for(int j=i+1;j&lt;n;j++){
			if(DaLiSuPodudarni(*v[i],*v[j])) { 
			    slicni++; 
			} 
			}
		}
			if(slicni==0) {
			    cout&lt;&lt;"Nema slicnih trouglova!\n";
			}
		if(slicni!=0){
			cout&lt;&lt;"Parovi slicnih trouglova:\n";
				for(int i=0;i&lt;n;i++){
			for(int j=i+1;j&lt;n;j++){
			if(DaLiSuPodudarni(*v[i],*v[j])) { 
			    v[i]-&gt;Ispisi();
			    cout&lt;&lt;" i ";
			    v[j]-&gt;Ispisi();
			    cout&lt;&lt;endl;} 
			}
		}
		}
		}
		catch(bad_alloc){
			cout&lt;&lt;"Nazalost";
		}

//catch(domain_error e){
//	cout&lt;&lt;e.what();
//}
    return 0;
}</pre>
</body>
</html>
