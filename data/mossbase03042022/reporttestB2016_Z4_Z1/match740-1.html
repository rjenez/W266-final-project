<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z1/student1833.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z1/student4430.cpp<p></p><pre>
/B 2016/2017, ZadaÄ‡a 4, Zadatak 1
//Napomena: testovi ce biti dostupni dan pred rok!
#include &lt;iostream&gt;
#include &lt;algorithm&gt;
#include &lt;stdexcept&gt;
#include &lt;cmath&gt;
#include &lt;memory&gt;
#include &lt;vector&gt;
#define eps 1e-10
using namespace std; 
typedef std::pair&lt;double, double&gt; Tacka;
class Trougao{
    Tacka T1, T2, T3; 
    double Povrsina(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3) const {
        return (t1.first*(t2.second-t3.second)+t2.first*(t1.second-t3.second)+t3.first*(t1.second-t2.second))/2;
    }
    static int Izraz(Tacka t1, Tacka t2, Tacka t3){
        return t1.first*(t2.second-t3.second)-t2.first*(t1.second-t3.second)+t3.first*(t1.second-t2.second);
    }
    static double DuzinaStranice(const Tacka &amp;t1, const Tacka &amp;t2) {
<a name="3"></a><font color="#00FFFF"><a href="match740-0.html#3" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_1.gif"/></a>

        return sqrt((t1.first-t2.first)*(t1.first-t2.first)+(t1.second-t2.second)*(t1.second-t2.second));
    }
    public:
    Trougao(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3){
       Postavi(t1,t2,t3); 
    }
    void Postavi(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3){
</font>        if(Orijentacija(t1,t2,t3)==0) throw domain_error ("Nekorektne pozicije tjemena"); 
        T1=t1, T2=t2, T3=t3; 
    }
    void Postavi(int indeks, const Tacka &amp;t){
        if(indeks&lt;1 || indeks&gt;3) throw range_error ("Nekorektan indeks"); 
        if(indeks==1) T1=t; 
        else if(indeks==2) T2=t; 
        else if(indeks==3) T3=t;
        if(Orijentacija(T1,T2,T3)==0) throw domain_error ("Nekorektne pozicije tjemena"); 
    }
    static int Orijentacija(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3){
        double izraz=Izraz(t1,t2,t3); 
        if(izraz&gt;0) return 1; 
        if(izraz&lt;0) return -1; 
        return 0; 
}
    Tacka DajTjeme(int indeks) const;
    double DajStranicu(int indeks) const;
    double DajUgao(int indeks) const;
    Tacka DajCentar() const;
    double DajObim() const;
    double DajPovrsinu() const;
    bool DaLiJePozitivnoOrijentiran() const;
    bool DaLiJeUnutra(const Tacka &amp;t) const;
    void Ispisi() const;
    void Transliraj(double delta_x, double delta_y);
    void Centriraj(const Tacka &amp;t);
    void Rotiraj(const Tacka &amp;t, double ugao);
    void Skaliraj(const Tacka &amp;t, double faktor);
    void Rotiraj(double ugao);
    void Skaliraj(double faktor);
    friend bool DaLiSuIdenticni(const Trougao &amp;t1, const Trougao &amp;t2){
        if(t1.T1==t2.T1 || t1.T1==t2.T2 || t1.T1==t2.T3)
            if(t1.T2==t2.T1 || t1.T2==t2.T2 || t1.T2==t2.T3)
                if(t1.T3==t2.T1 || t1.T3==t2.T2 || t1.T3==t2.T3)
                    return true; 
        return false; 
    }
    friend bool DaLiSuPodudarni(const Trougao &amp;t1, const Trougao &amp;t2){
       vector&lt;double&gt; str1(3), str2(3); 
<a name="0"></a><font color="#FF0000"><a href="match740-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_3.gif"/></a>

       str1[0]=Trougao::DuzinaStranice(t1.DajTjeme(1), t1.DajTjeme(2));
       str1[1]=Trougao::DuzinaStranice(t1.DajTjeme(2), t1.DajTjeme(3)); 
       str1[2]=Trougao::DuzinaStranice(t1.DajTjeme(3), t1.DajTjeme(1)); 
       str2[0]=Trougao::DuzinaStranice(t2.DajTjeme(1), t2.DajTjeme(2)); 
       str2[1]=Trougao::DuzinaStranice(t2.DajTjeme(2), t2.DajTjeme(3)); 
       str2[2]=Trougao::DuzinaStranice(t2.DajTjeme(3), t2.DajTjeme(1));
</font>       int brojac=0;
<a name="2"></a><font color="#0000FF"><a href="match740-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_1.gif"/></a>

       for(int i=0; i&lt;3; i++)
           for(int j=0; j&lt;3; j++)
               if(fabs(str1[i]-str2[j])&lt;eps){
               brojac++; break; 
            }
            if(brojac&lt;3) return false;  // nisu sve stranice iste
</font>            
            pair&lt;double, Tacka&gt; jedan[3], dva[3]; 
            
            jedan[0].first=str1[0]; 
            jedan[0].second=t1.Trougao::DajTjeme(3); 
            jedan[1].first=str1[1]; 
            jedan[1].second=t1.Trougao::DajTjeme(1);
            jedan[2].first=str1[2]; 
            jedan[2].second=t1.Trougao::DajTjeme(2);
            dva[0].first=str2[0]; 
            dva[0].second=t2.Trougao::DajTjeme(3);
            dva[1].first=str2[1]; 
            dva[1].second=t2.Trougao::DajTjeme(1);
            dva[2].first=str2[2]; 
            dva[2].second=t2.Trougao::DajTjeme(2);
            
            pair&lt;double, Tacka&gt; *pok; 
            pok=jedan; 
            sort(pok, pok+3); 
            pok=dva; 
            sort(pok, pok+3); 
<a name="4"></a><font color="#FF00FF"><a href="match740-0.html#4" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_1.gif"/></a>

            if(Trougao::Orijentacija(jedan[0].second, jedan[1].second, jedan[2].second)!=Trougao::Orijentacija(dva[0].second, dva[1].second, dva[2].second))
                return false; 
            return true; 

    }
    friend bool DaLiSuSlicni(const Trougao &amp;t1, const Trougao &amp;t2){
</font><a name="5"></a><font color="#FF0000"><a href="match740-0.html#5" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_0.gif"/></a>

        pair&lt;double, Tacka&gt; jedan[3], dva[3]; 
        if(DaLiSuPodudarni(t1,t2)) return true;
         
            jedan[0].first=t1.Trougao::DuzinaStranice(t1.DajTjeme(1), t1.DajTjeme(2)); 
</font>            jedan[0].second=t1.Trougao::DajTjeme(3); 
            jedan[1].first=t1.Trougao::DuzinaStranice(t1.DajTjeme(2), t1.DajTjeme(3)); 
            jedan[1].second=t1.Trougao::DajTjeme(1);
            jedan[2].first=t1.Trougao::DuzinaStranice(t1.DajTjeme(3), t1.DajTjeme(1)); 
            jedan[2].second=t1.Trougao::DajTjeme(2);
            dva[0].first=t2.Trougao::DuzinaStranice(t2.DajTjeme(1), t2.DajTjeme(2)); 
            dva[0].second=t2.Trougao::DajTjeme(3);
            dva[1].first=t2.Trougao::DuzinaStranice(t2.DajTjeme(2), t2.DajTjeme(3)); 
            dva[1].second=t2.Trougao::DajTjeme(1);
            dva[2].first=t2.Trougao::DuzinaStranice(t2.DajTjeme(3), t2.DajTjeme(1)); 
            dva[2].second=t2.Trougao::DajTjeme(2);
            pair&lt;double, Tacka&gt; *pok; 
            pok=jedan; 
            sort(pok, pok+3); 
            pok=dva; 
            sort(pok, pok+3); 
<a name="1"></a><font color="#00FF00"><a href="match740-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_2.gif"/></a>

            if(Trougao::Orijentacija(jedan[0].second, jedan[1].second, jedan[2].second)!=Trougao::Orijentacija(dva[0].second, dva[1].second, dva[2].second))
                return false; 
            for(int i=0; i&lt;=1; i++){
                if(fabs(jedan[i].first/dva[i].first-jedan[i+1].first/dva[i+1].first)&gt;eps)
                return false;
            }
            return true; 
    }
};
Tacka Trougao::DajTjeme(int indeks) const{
</font>    if(indeks==1) return T1; 
    if(indeks==2) return T2; 
    if(indeks==3) return T3; 
    throw range_error ("Nekorektan indeks");
}
double Trougao::DajStranicu(int indeks) const{
    Tacka prva, druga; 
    if(indeks==1) prva=T2, druga=T3; 
    else if(indeks==2) prva=T1, druga=T3; 
    else if(indeks==3) prva=T1, druga=T2; 
    else throw range_error ("Nekorektan indeks"); 
    return sqrt((prva.first-druga.first)*(prva.first-druga.first)+(prva.second-druga.second)*(prva.first-druga.second));
}
double Trougao::DajUgao(int indeks) const{
    int a, b, c; 
    if(indeks==1){
        a=1, b=2, c=3; 
    }
    else if(indeks==2){
        b=1, a=2, c=3; 
    }
    else if(indeks==3){
        c=1, a=2, b=3; 
    }
    else throw range_error ("Nekorektan indeks"); 
    return acos((DajStranicu(c)*DajStranicu(c)+DajStranicu(b)*DajStranicu(b)-DajStranicu(a)*DajStranicu(a))/(2*DajStranicu(b)*DajStranicu(c))); 
}
Tacka Trougao::DajCentar() const{
    Tacka izlaz; 
    izlaz.first=(T1.first+T2.first+T3.first)/3.;
    izlaz.second=(T1.second+T2.second+T3.second)/3.; 
    return izlaz; 
}
double Trougao::DajObim() const{
    return DajStranicu(1)+DajStranicu(2)+DajStranicu(3); 
}
double Trougao::DajPovrsinu() const{
    return fabs(T1.first*(T2.second-T3.second)-T2.first*(T1.second-T3.second)+T3.first*(T1.second-T2.second))/2;
}
bool Trougao::DaLiJePozitivnoOrijentiran() const{
    int izlaz=Orijentacija(T1, T3, T3);
    if(izlaz&gt;0) return true; 
    return false; 
}
bool Trougao::DaLiJeUnutra(const Tacka &amp;t) const{
   double zbir, prva, druga, treca; 
   zbir=DajPovrsinu(); 
   prva=Povrsina(T1,T2,t); 
   druga=Povrsina(T1,T3,t); 
   treca=Povrsina(T2,T3,t); 
   if(fabs(prva)&lt;eps || fabs(druga)&lt;eps || fabs(treca)&lt;eps) return false; 
   double a=prva+druga+treca; 
   return fabs(zbir-a)&lt;eps;
}
void Trougao::Ispisi() const{
    cout &lt;&lt; "((" &lt;&lt; T1.first &lt;&lt; "," &lt;&lt; T1.second &lt;&lt; "),(" &lt;&lt; T2.first &lt;&lt; "," &lt;&lt; T2.second &lt;&lt; "),(" &lt;&lt; T3.first &lt;&lt; "," &lt;&lt; T3.second &lt;&lt; "))"; 
}
void Trougao::Transliraj(double delta_x, double delta_y){
    T1.first=T1.first+delta_x; 
    T2.first=T2.first+delta_x; 
    T3.first=T3.first+delta_x; 
    T1.second=T1.second+delta_y; 
    T2.second=T2.second+delta_y; 
    T3.second=T3.second+delta_y; 
}
void Trougao::Centriraj(const Tacka &amp;t){
    Tacka centar=DajCentar(); 
    double delta_x=t.first-centar.first; 
    double delta_y=t.second-centar.second; 
    Transliraj(delta_x,delta_y); 
}
void Trougao::Rotiraj(const Tacka &amp;t, double ugao){
    if(fabs(ugao)&lt;eps) return;
    Tacka prva, druga, treca;  
    prva.first=t.first+(T1.first-t.first)*cos(ugao)-(T1.second-t.second)*sin(ugao); 
    prva.second=t.second+(T1.first-t.first)*sin(ugao)+(T1.second-t.second)*cos(ugao); 
    druga.first=t.first+(T2.first-t.first)*cos(ugao)-(T2.second-t.second)*sin(ugao); 
    druga.second=t.second+(T2.first-t.first)*sin(ugao)+(T2.second-t.second)*cos(ugao);
    treca.first=t.first+(T3.first-t.first)*cos(ugao)-(T3.second-t.second)*sin(ugao); 
    treca.second=t.second+(T3.first-t.first)*sin(ugao)+(T3.second-t.second)*cos(ugao);
    Postavi(prva, druga, treca); 
}
void Trougao::Skaliraj(const Tacka &amp;t, double faktor){
    if(fabs(faktor)&lt;eps) throw domain_error ("Nekorektan faktor skaliranja"); 
    Tacka pom1(T1), pom2(T2), pom3(T3); 
    T1.first=t.first+faktor*(pom1.first-t.first); 
    T1.second=t.second+faktor*(pom1.second-t.second);
    T2.first=t.first+faktor*(pom2.first-t.first); 
    T2.second=t.second+faktor*(pom2.second-t.second);
    T3.first=t.first+faktor*(pom3.first-t.first); 
    T3.second=t.second+faktor*(pom3.second-t.second);
    if(faktor&lt;0) Rotiraj(T1, 4*atan(1));
}
void Trougao::Rotiraj(double ugao){
    Tacka centar=DajCentar(); 
    Rotiraj(centar, ugao); 
}
void Trougao::Skaliraj(double faktor){
    Tacka centar=DajCentar(); 
    Skaliraj(centar,faktor); 
}
int main ()
{
    cout &lt;&lt; "Koliko zelite kreirati trouglova: "; 
    int broj_trouglova; 
    cin &gt;&gt; broj_trouglova; 
    vector&lt;shared_ptr&lt;Trougao&gt;&gt; pokazivaci(broj_trouglova); 
    Tacka t1, t2, t3; 
    
    for(int i=0; i&lt;broj_trouglova; i++){
        try{
        cout &lt;&lt; "Unesite podatke za " &lt;&lt; i+1 &lt;&lt; ". trougao (x1 y1 x2 y2 x3 y3): "; 
        cin &gt;&gt; t1.first &gt;&gt; t1.second &gt;&gt; t2.first &gt;&gt; t2.second &gt;&gt; t3.first &gt;&gt; t3.second; 
        shared_ptr &lt;Trougao&gt; p(new Trougao(t1,t2,t3));
        pokazivaci[i]=p;
        }
        catch(domain_error poruka){
            cout &lt;&lt; poruka.what() &lt;&lt; ", ponovite unos!" &lt;&lt; endl; 
            i--;
        }
    }
        cout &lt;&lt; "Unesite vektor translacije (dx dy): "; 
        double dx, dy; 
        cin &gt;&gt; dx &gt;&gt; dy; 
    
        cout &lt;&lt; "Unesite ugao rotacije: "; 
        double ugao_rotacije; 
        cin &gt;&gt; ugao_rotacije; 
   
        cout &lt;&lt; "Unesite faktor skaliranja: "; 
        double faktor_skaliranja; 
        cin &gt;&gt; faktor_skaliranja; 
    try{
    transform(pokazivaci.begin(), pokazivaci.end(), pokazivaci.begin(), [dx,dy,ugao_rotacije,faktor_skaliranja] (shared_ptr&lt;Trougao&gt; trougao){
        trougao-&gt;Transliraj(dx,dy); 
        trougao-&gt;Rotiraj(ugao_rotacije); 
        trougao-&gt;Skaliraj(trougao-&gt;DajTjeme(1), faktor_skaliranja);
        return trougao; 
    });
    sort(pokazivaci.begin(), pokazivaci.end(), [](shared_ptr&lt;Trougao&gt; trougao1, shared_ptr&lt;Trougao&gt; trougao2){
        return trougao1-&gt;DajPovrsinu()&lt;trougao2-&gt;DajPovrsinu(); 
    });
    cout &lt;&lt; "Trouglovi nakon obavljenih transformacija: " &lt;&lt; endl; 
    for_each(pokazivaci.begin(), pokazivaci.end(), [](shared_ptr&lt;Trougao&gt; trougao){
        trougao-&gt;Ispisi(); 
        cout &lt;&lt; endl; 
    });
    }
    catch(domain_error poruka){
        cout &lt;&lt; poruka.what(); 
    }
    catch(range_error poruka){
        cout &lt;&lt; poruka.what();
    }
    cout &lt;&lt; "Trougao sa najmanjim obimom: ";
    auto najmanji_obim=min_element(pokazivaci.begin(), pokazivaci.end(), [] (shared_ptr&lt;Trougao&gt; trougao1, shared_ptr&lt;Trougao&gt; trougao2)-&gt;bool{
        return trougao1-&gt;DajObim() &lt; trougao2-&gt;DajObim(); 
    }); 
    (*najmanji_obim)-&gt;Trougao::Ispisi(); 
<a name="6"></a><font color="#00FF00"><a href="match740-0.html#6" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_0.gif"/></a>

    cout &lt;&lt; endl; 
    int brojac_identicnih=0; 
    for(int i=0; i&lt;broj_trouglova; i++){
        for(int j=i; j&lt;broj_trouglova; j++){
            if(i!=j)
</font>            if(DaLiSuIdenticni(*pokazivaci[i], *pokazivaci[j])) brojac_identicnih++; 
        }
    }
if(brojac_identicnih!=0){
    cout &lt;&lt; "Parovi identicnih trouglova: " &lt;&lt; endl; 
    for(int i=0; i&lt;broj_trouglova; i++){
        for(int j=i; j&lt;broj_trouglova; j++){
            if(i!=j)
            if(DaLiSuIdenticni(*pokazivaci[i], *pokazivaci[j])){
                pokazivaci[i]-&gt;Trougao::Ispisi(); 
                cout &lt;&lt; " i "; 
                pokazivaci[j]-&gt;Trougao::Ispisi();
                cout &lt;&lt; endl; 
            }
        }
    } 
}
else cout &lt;&lt; "Nema identicnih trouglova!" &lt;&lt; endl;

    int brojac_podudarnih=0; 
    for(int i=0; i&lt;broj_trouglova; i++){
        for(int j=i; j&lt;broj_trouglova; j++){
            if(i!=j)
            if(DaLiSuPodudarni(*pokazivaci[i], *pokazivaci[j])) brojac_podudarnih++; 
        }
    }
if(brojac_podudarnih!=0){
    cout &lt;&lt; "Parovi podudarnih trouglova: " &lt;&lt; endl;  
    for(int i=0; i&lt;broj_trouglova; i++){
        for(int j=i; j&lt;broj_trouglova; j++){
            if(i!=j)
            if(DaLiSuPodudarni(*pokazivaci[i], *pokazivaci[j])){
                pokazivaci[i]-&gt;Trougao::Ispisi(); 
                cout &lt;&lt; " i "; 
                pokazivaci[j]-&gt;Trougao::Ispisi(); 
                cout &lt;&lt; endl; 
            }
        }
    } 
}
else cout &lt;&lt; "Nema podudarnih trouglova!" &lt;&lt; endl; 

    int brojac_slicnih=0; 
    for(int i=0; i&lt;broj_trouglova; i++){
        for(int j=i; j&lt;broj_trouglova; j++){
            if(i!=j)
            if(DaLiSuSlicni(*pokazivaci[i], *pokazivaci[j])) brojac_slicnih++; 
        }
    }
if(brojac_slicnih!=0){
    cout &lt;&lt; "Parovi slicnih trouglova: " &lt;&lt; endl; 
    for(int i=0; i&lt;broj_trouglova; i++){
        for(int j=i; j&lt;broj_trouglova; j++){
            if(i!=j)
            if(DaLiSuSlicni(*pokazivaci[i], *pokazivaci[j])){
                pokazivaci[i]-&gt;Trougao::Ispisi(); 
                cout &lt;&lt; " i "; 
                pokazivaci[j]-&gt;Trougao::Ispisi(); 
                cout &lt;&lt; endl; 
            }
        }
    } 
}
else cout &lt;&lt; "Nema slicnih trouglova!"; 
    
    
	return 0;
}</pre>
</body>
</html>
