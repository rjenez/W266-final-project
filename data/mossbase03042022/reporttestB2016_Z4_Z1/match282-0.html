<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z1/student8006.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z1/student8006.cpp<p></p><pre>
/B 2016/2017, ZadaÄ‡a 4, Zadatak 1
//Napomena: testovi ce biti dostupni dan pred rok!
#include &lt;iostream&gt;
#include &lt;stdexcept&gt;
#include &lt;cmath&gt;
#include &lt;algorithm&gt;
#include &lt;memory&gt;

#define eps 0.000000001

typedef std::pair&lt;double, double&gt; Tacka;

class Trougao {
Tacka tjemena[3];
static double Izraz(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3) {
    return (t1.first) * ((t2.second) - (t3.second)) - (t2.first) * ((t1.second) - (t3.second)) + (t3.first) * ((t1.second) - (t2.second));
}
<a name="5"></a><font color="#FF0000"><a href="match282-1.html#5" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_2.gif"/></a>

static int Test(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3) {
    double test = Izraz(t1, t2, t3);

    if(test &gt; 0) return 1;
    if(test &lt; 0) return -1;
</font>    return 0;
}
void TestirajFaktor(double &amp;faktor) {
    if(std::fabs(faktor - 0.) &lt; eps) throw std::domain_error("Nekorektan faktor skaliranja");
}
void TestirajIndeks(int &amp;indeks) const {
    if(indeks &lt;= 1 &amp;&amp; indeks &gt;= 3) throw std::range_error("Nekorektan indeks");
}
double DuzinaStranice(const Tacka &amp;t1, const Tacka &amp;t2) const {
    return sqrt((t1.first - t2.first) * (t1.first - t2.first) - (t1.second - t2.second) * (t1.second - t2.second));
}
double Ugao(double a, double b, double c) const {
    return std::acos((a * a + b * b + c * c) / 2 * a * b);
}
public:
Trougao(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3) {
    Postavi(t1, t2, t3);
}
void Postavi(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3) {
    if(Orijentacija(t1, t2, t3) == 0) throw std::domain_error("Nekorektne pozicije tjemena");
    
    tjemena[0] = t1;
    tjemena[1] = t2;
    tjemena[2] = t3;
}
void Postavi(int indeks, const Tacka &amp;t) {
    TestirajIndeks(indeks);
    tjemena[indeks] = t;
}
static int Orijentacija(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3) {
    return Test(t1, t2, t3);
}
Tacka DajTjeme(int indeks) const {
    TestirajIndeks(indeks);
    return tjemena[indeks];
}
double DajStranicu(int indeks) const {
    TestirajIndeks(indeks);
    if(indeks == 1) return DuzinaStranice(tjemena[1], tjemena[2]);
    if(indeks == 2) return DuzinaStranice(tjemena[0], tjemena[2]);
    return DuzinaStranice(tjemena[0], tjemena[1]);
}
double DajUgao(int indeks) const {
    TestirajIndeks(indeks);
    if(indeks == 0) return Ugao(DajStranicu(1), DajStranicu(2), DajStranicu(0));
    if(indeks == 1) return Ugao(DajStranicu(2), DajStranicu(0), DajStranicu(1));
    return Ugao(DajStranicu(0), DajStranicu(1), DajStranicu(2));
}
Tacka DajCentar() const {
    double x = (tjemena[0].first + tjemena[1].first + tjemena[2].first) / 3;
    double y = (tjemena[0].second + tjemena[1].second + tjemena[2].second) / 3;
    return std::make_pair(x, y);
}
double DajObim() const {
    return DajStranicu(0) + DajStranicu(1) + DajStranicu(2);
}
double DajPovrsinu() const {
    return fabs(Izraz(tjemena[0], tjemena[1], tjemena[2])) / 2;
}
bool DaLiJePozitivnoOrijentiran() const {
    if(Orijentacija(tjemena[0], tjemena[1], tjemena[2]) == 1) return true;
    return false;
}
<a name="2"></a><font color="#0000FF"><a href="match282-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_3.gif"/></a>

bool DaLiJeUnutra(const Tacka &amp;t) const {
    int a = Orijentacija(tjemena[0], tjemena[1], tjemena[2]);
    int b = Orijentacija(tjemena[0], tjemena[1], t);
    int c = Orijentacija(tjemena[1], tjemena[2], t);
    int d = Orijentacija(tjemena[2], tjemena[0], t);
</font>    if(a != 0 &amp;&amp; b == a &amp;&amp; c == a &amp;&amp; d == a) return true;
    return false;
}
<a name="7"></a><font color="#0000FF"><a href="match282-1.html#7" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_1.gif"/></a>

void Ispisi() const {
    std::cout &lt;&lt; "((" &lt;&lt; tjemena[0].first &lt;&lt; "," &lt;&lt; tjemena[0].second &lt;&lt; "),(" &lt;&lt; tjemena[1].first &lt;&lt; "," &lt;&lt; tjemena[1].second &lt;&lt; "),(" &lt;&lt; tjemena[2].first &lt;&lt; "," &lt;&lt; tjemena[2].second &lt;&lt; "))" &lt;&lt; std::endl;
</font>}
void Transliraj(double delta_x, double delta_y) {
    for(int i = 0; i &lt; 3; ++i) {
        tjemena[i].first += delta_x;
        tjemena[i].second += delta_y;
    }
}
void Centriraj(const Tacka &amp;t) {
    Transliraj(t.first - DajCentar().first, t.second - DajCentar().second);
}
void Rotiraj(const Tacka &amp;t, double ugao) {
    double x[3], y[3];
    for(int i = 0; i &lt; 3; ++i) {
        x[i] = tjemena[i].first;
        y[i] = tjemena[i].second;
    }
    double xc = t.first;
    double yc = t.second;
    for(int i = 0; i &lt; 3; ++i) {
        tjemena[i].first = xc + (x[i] - xc) * std::cos(ugao) - (y[i] - yc) * std::sin(ugao);
        tjemena[i].second = yc + (x[i] - xc) * std::sin(ugao) + (y[i] - yc) * std::cos(ugao);
    }
}
void Skaliraj(const Tacka &amp;t, double faktor) {
    TestirajFaktor(faktor);
    for(int i = 0; i &lt; 3; ++i) {
<a name="3"></a><font color="#00FFFF"><a href="match282-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_2.gif"/></a>

        tjemena[i].first = t.first + faktor * (tjemena[i].first - t.first);
        tjemena[i].second = t.second + faktor * (tjemena[i].second - t.second);        
    }
}
void Rotiraj(double ugao) {
    Rotiraj(DajCentar(), ugao);
</font>}
void Skaliraj(double faktor) {
    TestirajFaktor(faktor);
    Skaliraj(DajCentar(), faktor);
}
friend bool DaLiSuIdenticni(const Trougao &amp;t1, const Trougao &amp;t2);
friend bool DaLiSuPodudarni(const Trougao &amp;t1, const Trougao &amp;t2);
friend bool DaLiSuSlicni(const Trougao &amp;t1, const Trougao &amp;t2);
};
bool DaLiSuIdenticni(const Trougao &amp;t1, const Trougao &amp;t2) {
    std::vector&lt;Tacka&gt; v1;
    std::vector&lt;Tacka&gt; v2;
    for(int i = 0; i &lt; 3; ++i) {
        v1.push_back(t1.tjemena[i]);
        v2.push_back(t1.tjemena[i]);
    }
    std::sort(v1.begin(), v1.end(), [] (const Tacka &amp;t1, const Tacka &amp;t2) {return t1.first &lt; t2.first;});
    std::sort(v2.begin(), v2.end(), [] (const Tacka &amp;t1, const Tacka &amp;t2) {return t1.first &lt; t2.first;});
    if(v1 == v2) return true;
    return false;
}
bool DaLiSuPodudarni(const Trougao &amp;t1, const Trougao &amp;t2);
bool DaLiSuSlicni(const Trougao &amp;t1, const Trougao &amp;t2);
int main () {
    int n;
<a name="1"></a><font color="#00FF00"><a href="match282-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_5.gif"/></a>

    std::cout &lt;&lt; "Koliko zelite kreirati trouglova: "; std::cin &gt;&gt; n;
    std::vector&lt;std::shared_ptr&lt;Trougao&gt;&gt; Trouglovi{};
    for(int i = 0; i &lt; n; ++i) {
        std::cout &lt;&lt; "Unesite podatke za " &lt;&lt; i + 1 &lt;&lt; ". trougao (x1 y1 x2 y2 x3 y3): ";
        Tacka t1, t2, t3;
        while(1) {
            std::cin &gt;&gt; t1.first &gt;&gt; t1.second;
            std::cin &gt;&gt; t2.first &gt;&gt; t2.second;
            std::cin &gt;&gt; t3.first &gt;&gt; t3.second;
</font>            try {
                Trougao trougao1(t1, t2, t3);
                break;
            }
            catch(std::domain_error trash) {
                std::cout &lt;&lt; trash.what() &lt;&lt; ", ponovite unos!" &lt;&lt; std::endl;
<a name="6"></a><font color="#00FF00"><a href="match282-1.html#6" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_1.gif"/></a>

                std::cout &lt;&lt; "Unesite podatke za " &lt;&lt; i + 1 &lt;&lt; ". trougao (x1 y1 x2 y2 x3 y3): ";
            }
        }
        std::shared_ptr&lt;Trougao&gt; T = std::make_shared&lt;Trougao&gt; (t1, t2, t3);
        Trouglovi.push_back(T);
</font>    }
    double delta_x, delta_y;
    double ugao;
    double faktor;
    std::cout &lt;&lt; "Unesite vektor translacije (dx dy): ";
    std::cin &gt;&gt; delta_x &gt;&gt; delta_y;
<a name="8"></a><font color="#00FFFF"><a href="match282-1.html#8" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_1.gif"/></a>

    std::cout &lt;&lt; "Unesite ugao rotacije: ";
    std::cin &gt;&gt; ugao;
    std::cout &lt;&lt; "Unesite faktor skaliranja: ";
    std::cin &gt;&gt; faktor;
    std::cout &lt;&lt; "Trouglovi nakon obavljenih transformacija: " &lt;&lt; std::endl;
</font><a name="0"></a><font color="#FF0000"><a href="match282-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_10.gif"/></a>

    std::transform(Trouglovi.begin(), Trouglovi.end(), Trouglovi.begin(), [delta_x, delta_y] (std::shared_ptr&lt;Trougao&gt; T1) -&gt; std::shared_ptr&lt;Trougao&gt; {T1 -&gt; Transliraj(delta_x, delta_y); return T1;});
    std::transform(Trouglovi.begin(), Trouglovi.end(), Trouglovi.begin(), [ugao] (std::shared_ptr&lt;Trougao&gt; T1) -&gt; std::shared_ptr&lt;Trougao&gt; {T1 -&gt; Rotiraj(ugao); return T1;});
    std::transform(Trouglovi.begin(), Trouglovi.end(), Trouglovi.begin(), [faktor] (std::shared_ptr&lt;Trougao&gt; T1) -&gt; std::shared_ptr&lt;Trougao&gt; {T1 -&gt; Skaliraj(T1 -&gt; DajTjeme(1), faktor); return T1;});
    std::sort(Trouglovi.begin(), Trouglovi.end(), [] (std::shared_ptr&lt;Trougao&gt; T1, std::shared_ptr&lt;Trougao&gt; T2) -&gt; bool {return T1 -&gt; DajPovrsinu() &lt; T2 -&gt; DajPovrsinu();});
    for_each(Trouglovi.begin(), Trouglovi.end(), [](std::shared_ptr&lt;Trougao&gt; T1) {T1 -&gt; Ispisi(); std::cout &lt;&lt; std::endl; });
</font><a name="4"></a><font color="#FF00FF"><a href="match282-1.html#4" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_2.gif"/></a>

    auto minimalni = std::min_element(Trouglovi.begin(), Trouglovi.end(), [] (std::shared_ptr&lt;Trougao&gt; T1, std::shared_ptr&lt;Trougao&gt; T2) {return T1 -&gt; DajObim() &lt; T2 -&gt; DajObim();});
    std::cout &lt;&lt; "Trougao sa najmanjim obimom: ";
    int i = 0;
    for(auto x = Trouglovi.begin(); x != Trouglovi.end(); ++x) {
</font>        if(*x == *minimalni) {
            Trouglovi[i] -&gt; Ispisi();
            break;
        } 
        i++;
    }
    int br_identicnih = 0, br_slicnih = 0, br_podudarnih = 0;
    
	return 0;
}</pre>
</body>
</html>
