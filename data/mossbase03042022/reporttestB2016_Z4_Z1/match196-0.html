<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z1/student1446.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z1/student1446.cpp<p></p><pre>
#include &lt;iostream&gt;
#include &lt;stdexcept&gt;
#include &lt;new&gt;
#include &lt;algorithm&gt;
<a name="0"></a><font color="#FF0000"><a href="match196-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_51.gif"/></a>

struct Tacka {
 double x, y;
};
enum Pozicija {GoreLijevo, GoreDesno, DoljeLijevo, DoljeDesno};
enum Smjer {Nalijevo, Nadesno};
class Pravougaonik{
    Tacka a,b,c,d;
    public:
    Pravougaonik(const Tacka &amp;t1,const  Tacka &amp;t2);
    void Postavi(const Tacka &amp;t1,const  Tacka &amp;t2);
    void Postavi(Pozicija p,  Tacka &amp;t);
    void Centriraj(const Tacka &amp;t);
    Tacka DajTjeme(Pozicija p) const;
    Tacka DajCentar() const;
    double DajHorizontalnu() const{
        return d.x-a.x;
    }
    double DajVertikalnu() const{
        return b.y-a.y;
    }
    double DajObim() const{
        return 2*DajHorizontalnu()+2*DajVertikalnu();
    }
    double DajPovrsinu() const{
        return DajHorizontalnu()*DajVertikalnu();
    }
    static Pravougaonik Presjek( Pravougaonik &amp;p1,  Pravougaonik &amp;p2);
    void Transliraj(double delta_x, double delta_y);
    void Rotiraj( Tacka t, Smjer s);
    void Ispisi() const;
    friend bool DaLiSePoklapaju( Pravougaonik &amp;p1,  Pravougaonik &amp;p2);
    friend bool DaLiSuPodudarni( Pravougaonik &amp;p1,  Pravougaonik &amp;p2);
    friend bool DaLiSuSlicni( Pravougaonik &amp;p1,  Pravougaonik &amp;p2);
};
void Pravougaonik::Postavi(const Tacka &amp;t1,const  Tacka &amp;t2){
    Tacka v(t1),n(t2);
    if(t1.x&gt;t2.x){
        Tacka tmp(t1);
        v=n;
        n=tmp;
    }
    if(v.y&lt;n.y){
        a=v;
        c=n;
        Tacka t3;
        t3.x=v.x;  t3.y=n.y;
        b=t3;
        Tacka t4;
        t4.x=n.x;  t4.y=v.y;
        d=t4;
    }
    if(v.y&gt;n.y){
        b=v;
        d=n;
        Tacka t3;
        t3.x=v.x;  t3.y=n.y;
        a=t3;
        Tacka t4;
        t4.x=n.x;  t4.y=v.y;
        c=t4;
    }
}
Pravougaonik::Pravougaonik(const Tacka &amp;t1,const  Tacka &amp;t2){
    Postavi(t1,t2);
}
void Pravougaonik::Postavi(Pozicija p,  Tacka &amp;t){
    if(p==Pozicija::GoreLijevo) Postavi(t,d);
    if(p==Pozicija::GoreDesno) Postavi(a,t);   
    if(p==Pozicija::DoljeLijevo) Postavi(t,c);
    if(p==Pozicija::DoljeDesno) Postavi(b,t);
}
void Pravougaonik::Centriraj(const Tacka &amp;t){
    double f((b.y-a.y)/2);
    double g((c.x-b.x)/2);
    a.x=t.x-g;  a.y=t.y-f;
    b.x=a.x;    b.y=t.y+f;
    c.x=t.x+g;  c.y=b.y;
    d.x=c.x;    d.y=a.y;
}
Tacka Pravougaonik:: DajTjeme(Pozicija p) const{
    if(p==Pozicija::DoljeLijevo)return a;
    if(p==Pozicija::GoreLijevo)return b;
    if(p==Pozicija::GoreDesno)return c;
    return d;
}
Tacka Pravougaonik:: DajCentar() const{
    Tacka m;
    m.x=(c.x+b.x)/2;
    m.y=(b.y+a.y)/2;
    return m;
}
Pravougaonik Pravougaonik:: Presjek( Pravougaonik &amp;p1,  Pravougaonik &amp;p2){
    Pravougaonik q(p1);
    try{
        if(p1.d.x&lt;p2.a.x || p2.d.x&lt;p1.a.x)throw std::domain_error ("Pravougaonici se ne presjecaju");
        if(p1.a.y&gt;p2.b.y || p2.a.y&gt;p1.d.y)throw std::domain_error ("Pravougaonici se ne presjecaju");
        if(p2.d.x&gt;=p1.b.x &amp;&amp; p2.d.x&lt;=p1.d.x &amp;&amp; p2.c.y&gt;=p1.b.y) q.Postavi(p1.b,p2.d);
        if(p2.d.x&gt;=p1.b.x &amp;&amp; p2.d.x&lt;=p1.d.x &amp;&amp; p2.c.y&lt;=p1.b.y) q.Postavi(p1.a,p2.c);
        if(p2.b.x&gt;=p1.b.x &amp;&amp; p2.b.x&lt;=p1.d.x &amp;&amp; p2.c.y&gt;=p1.b.y) q.Postavi(p2.a,p1.c);
        if(p2.b.x&gt;=p1.b.x &amp;&amp; p2.b.x&lt;=p1.d.x &amp;&amp; p2.c.y&lt;=p1.b.y) q.Postavi(p2.b,p1.d);
    }
    catch(std::domain_error greska){
        std::cout &lt;&lt; greska.what() &lt;&lt; std::endl;
    }
    return q;
}
void Pravougaonik::Transliraj(double delta_x, double delta_y){
    a.x+=delta_x;   a.y+=delta_y;
    b.x+=delta_x;   b.y+=delta_y;
</font><a name="2"></a><font color="#0000FF"><a href="match196-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_18.gif"/></a>

    c.x+=delta_x;   c.y+=delta_y;
    d.x+=delta_x;   d.y+=delta_y;
}
void Pravougaonik::Rotiraj( Tacka t, Smjer s){
    double q,w,e,r;
    if(s==Smjer::Nalijevo){
        q=t.x-c.x;  w=c.y-t.y;  e=t.x-a.x;  r=t.y-a.y;
        c.x=t.x-w;  c.y=t.y-q;  a.x=t.x+r;  a.y=t.y-e;
        d=a;    b=c;
        Postavi(b,d);
        Tacka tmp(b),tmp1(d);   b=a;    d=c;    a=tmp1; c=tmp;
    }
    if(s==Smjer::Nadesno){
        q=t.x-c.x;  w=c.y-t.y;  e=t.x-a.x;  r=t.y-a.y;
        c.x=t.x+w;  c.y=t.y+q;  a.x=t.x-r;  a.y=t.y+e;
        b=a;    d=c;
        Postavi(b,d);
    }
}//Popravi nije kako bi trebalo 
void Pravougaonik::Ispisi() const{
    std::cout &lt;&lt; "{{"&lt;&lt;b.x&lt;&lt;","&lt;&lt;b.y&lt;&lt;"}"&lt;&lt;","&lt;&lt;"{"&lt;&lt;d.x&lt;&lt;","&lt;&lt;d.y&lt;&lt;"}}" ;
}
bool DaLiSePoklapaju( Pravougaonik &amp;p1,  Pravougaonik &amp;p2){
    if(p1.a.x==p2.a.x &amp;&amp; p1.a.y==p2.a.y &amp;&amp; p1.b.x==p2.b.x &amp;&amp; p1.b.y==p2.b.y &amp;&amp; p1.c.x==p2.c.x &amp;&amp; p1.c.y==p2.c.y &amp;&amp; p1.d.x==p2.d.x &amp;&amp; p1.d.y==p2.d.y)return true;
</font><a name="1"></a><font color="#00FF00"><a href="match196-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_24.gif"/></a>

    return false;
}
bool DaLiSuPodudarni( Pravougaonik &amp;p1,  Pravougaonik &amp;p2){
    if(p1.DajHorizontalnu()==(p2.DajHorizontalnu()||p2.DajVertikalnu()) &amp;&amp; p1.DajVertikalnu()==(p2.DajHorizontalnu()||p2.DajVertikalnu()))return true;
    return false;
}
bool DaLiSuSlicni( Pravougaonik &amp;p1,  Pravougaonik &amp;p2){
    if(p1.DajHorizontalnu() / p2.DajHorizontalnu() == p1.DajVertikalnu() / p2.DajVertikalnu())return true;
    return false;
}
int main() {
    int k(0);
        std::cout&lt;&lt;"Unesite n: ";
        std::cin&gt;&gt;k;
        Pravougaonik** niz_pokazivaca{nullptr};
        niz_pokazivaca = new Pravougaonik*[k];
        for(int i=0;i&lt;k;i++){
            try{
                Tacka a,b;
                std::cout&lt;&lt;"Unesite 1. tjeme pravougaonika "&lt;&lt;i+1&lt;&lt;": ";
                std::cin&gt;&gt;a.x&gt;&gt;a.y;
                std::cout&lt;&lt;"Unesite 2. tjeme pravougaonika "&lt;&lt;i+1&lt;&lt;": ";
                std::cin&gt;&gt;b.x&gt;&gt;b.y;
                niz_pokazivaca[i]=new Pravougaonik(a,b);
            }
            catch(std::logic_error greska){
                std::cout&lt;&lt;greska.what()&lt;&lt;std::endl;
                std::cout&lt;&lt;"Ponovite unos!"&lt;&lt;std::endl;
                std::cin.ignore(100, '\n');
                i--;
            }
        }
        double delta_x,delta_y;
        std::cout&lt;&lt;"Unesite podatke za transliranje (dx dy): ";
        std::cin&gt;&gt;delta_x&gt;&gt;delta_y;
        std::transform(niz_pokazivaca,niz_pokazivaca+k,niz_pokazivaca,[delta_x,delta_y](Pravougaonik* tmp){
            tmp-&gt;Transliraj(delta_x,delta_y);
            tmp-&gt;Rotiraj(tmp-&gt;DajCentar(),Smjer::Nadesno);
            return tmp;
        });
        std::cout&lt;&lt;"Pravougaonici, nakon transformacija: "&lt;&lt;std::endl;
        std::for_each(niz_pokazivaca,niz_pokazivaca+k,[](Pravougaonik* tmp){
            tmp-&gt;Ispisi();
            std::cout&lt;&lt;std::endl;
        });
        Pravougaonik** pmax=std::max_element(niz_pokazivaca,niz_pokazivaca+k,[](Pravougaonik* p1,Pravougaonik* p2){
            return (p1-&gt;DajPovrsinu())&lt;(p2-&gt;DajPovrsinu());
        });
        std::cout&lt;&lt;"Pravougaonik s najvecom povrsinom: ";
        Pravougaonik* tmpmax=*pmax;
        tmpmax-&gt;Ispisi();
        for(int i=0;i&lt;k;i++){
            delete niz_pokazivaca[i];
        }
        delete []niz_pokazivaca;
         
        return 0;
</font>}

</pre>
</body>
</html>
