<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z1/student7001.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z1/student6369.cpp<p></p><pre>
/B 2016/2017, ZadaÄ‡a 4, Zadatak 1
//Napomena: testovi ce biti dostupni dan pred rok!
#include &lt;iostream&gt;
#include &lt;algorithm&gt;
#include &lt;stdexcept&gt;
#include &lt;cmath&gt;
#include &lt;memory&gt;
#include &lt;vector&gt;

typedef std::pair&lt;double, double&gt; Tacka;

const double eps = 1E-10;

class Trougao {
    
    Tacka t1,t2,t3;
    
    static double PomocnaOrjentacija(Tacka t1, Tacka t2, Tacka t3) {
        return t1.first * ( t2.second - t3.second) - t2.first * (t1.second - t3.second) + t3.first * (t1.second - t2.second);
    }
    
    static void ProvjeriTjemena(Tacka t1, Tacka t2, Tacka t3) {
        auto rez = t1.first * ( t2.second - t3.second) - t2.first * (t1.second - t3.second) + t3.first * (t1.second - t2.second);
        if(DaLiSuJednaki(rez,0)) throw std::domain_error("Nekorektne pozicije tjemena");
    }
    
    static double UdaljenostIzmedjuDvijeTacke(const Tacka &amp;a, const Tacka &amp;b) {
        return std::sqrt( (b.first - a.first) * (b.first - a.first) + (b.second - a.second) * (b.second - a.second) );
    }
    
    static void ProvjeriIndeks(int indeks) {
        if(indeks != 1 &amp;&amp; indeks!=2 &amp;&amp; indeks != 3) 
            throw std::range_error("Nekorektan indeks");
    }
    
    double Kosinusna(int indeks) const {
        if(indeks == 1)
            return (DajStranicu(2)*DajStranicu(2) + DajStranicu(3)*DajStranicu(3) - DajStranicu(1)*DajStranicu(1) ) / ( 2 * DajStranicu(2)*DajStranicu(3) ) ;
        else if(indeks == 2)
            return (DajStranicu(1)*DajStranicu(1) + DajStranicu(3)*DajStranicu(3) - DajStranicu(2)*DajStranicu(2) ) / ( 2 * DajStranicu(1)*DajStranicu(3) ) ;
        else
            return (DajStranicu(1)*DajStranicu(1) + DajStranicu(2)*DajStranicu(2) - DajStranicu(3)*DajStranicu(3) ) / ( 2 * DajStranicu(1)*DajStranicu(2) ) ;
    }
    
    static bool DaLiSuJednaki(double a, double b) {
        return std::fabs(a-b) &lt; eps;
    }
    
    static bool IstaOrijentacija(Trougao t1, Trougao t2, int x,int y, int z, int a, int b, int c) {
        return (t1.Orijentacija(t1.DajTjeme(x),t1.DajTjeme(y), t1.DajTjeme(z)) == t2.Orijentacija(t2.DajTjeme(a), t2.DajTjeme(b), t2.DajTjeme(c)));
    }
    
    static bool DaLiSuProporcionalne(double a,double b, double c) {
        if(a&lt;1) a = 1./a;
        if(b&lt;1) b = 1./b;
        if(c&lt;1) c = 1./c;
        return DaLiSuJednaki(a,b) &amp;&amp; DaLiSuJednaki(a,c);
    }
public:
    Trougao(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3) {
        ProvjeriTjemena(t1,t2,t3);
        Trougao::t1 = t1;
        Trougao::t2 = t2;
        Trougao::t3 = t3;
    }
    
    void Postavi(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3) {
        ProvjeriTjemena(t1,t2,t3);
        Trougao::t1 = t1;
        Trougao::t2 = t2;
        Trougao::t3 = t3;
    }
    
    void Postavi(int indeks, const Tacka &amp;t) {
        ProvjeriIndeks(indeks);
        if(indeks == 1 ) {
            ProvjeriTjemena(t,t2,t3);
            t1 = t;
        }
        else if(indeks == 2) {
            ProvjeriTjemena(t1,t,t3);
            t2 = t;
        }
        else if(indeks == 3) {
            ProvjeriTjemena(t1,t2,t);
            t3 = t;
        }
    }
    
    static int Orijentacija(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3) {
        if(PomocnaOrjentacija(t1,t2,t3)&gt;0)
            return 1;
        else if(PomocnaOrjentacija(t1,t2,t3)&lt;0)
            return -1;
        else return 0;
    }
    
    Tacka DajTjeme(int indeks) const {
        ProvjeriIndeks(indeks);
        if(indeks == 1 ) return t1;
        else if(indeks ==2) return t2;
        else if(indeks == 3) return t3;
        else throw "belaj";
    }
    
    double DajStranicu(int indeks) const {
       ProvjeriIndeks(indeks);
        if(indeks == 1) return UdaljenostIzmedjuDvijeTacke(t2,t3);
        else if(indeks == 2) return UdaljenostIzmedjuDvijeTacke(t1,t3);
        else return UdaljenostIzmedjuDvijeTacke(t1,t2);
    }
    
    double DajUgao(int indeks) const {
        ProvjeriIndeks(indeks);
        auto p = Kosinusna(indeks);
        return acos(p); 
    }
    ///
    Tacka DajCentar() const {
        long double x = (t1.first + t2.first + t3.first)/3.;
        long double y = (t1.second + t2.second + t3.second)/3.;
        return std::make_pair(x,y);
    }
    double DajObim() const { return DajStranicu(1) + DajStranicu(2) + DajStranicu(3); }
    
    double DajPovrsinu() const { return fabs(PomocnaOrjentacija(t1,t2,t3))/2.; }
    
    bool DaLiJePozitivnoOrijentiran() const {
        return (Orijentacija(t1,t2,t3) &gt; 0) ? true : false;
    }
    
    bool DaLiJeUnutra(const Tacka &amp;t) const {
<a name="4"></a><font color="#FF00FF"><a href="match447-0.html#4" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_1.gif"/></a>

        return (Orijentacija(t1,t2,t3) == Orijentacija(t1,t2,t) &amp;&amp; Orijentacija(t1,t2,t3) == Orijentacija(t2,t3,t) &amp;&amp; Orijentacija(t1,t2,t3) == Orijentacija(t3,t1,t));
</font>    }
    
    void Ispisi() const {
        std::cout&lt;&lt;"(("&lt;&lt;t1.first&lt;&lt;","&lt;&lt;t1.second&lt;&lt;")";
        std::cout&lt;&lt;",("&lt;&lt;t2.first&lt;&lt;","&lt;&lt;t2.second&lt;&lt;")";
        std::cout&lt;&lt;",("&lt;&lt;t3.first&lt;&lt;","&lt;&lt;t3.second&lt;&lt;"))";
    }
    
    void Transliraj(double delta_x, double delta_y) {
        t1.first += delta_x;
        t2.first += delta_x;
        t3.first += delta_x;
        
        t1.second += delta_y;
        t2.second += delta_y;
        t3.second += delta_y;
    }
    
    void Centriraj(const Tacka &amp;t) {
        Tacka x = DajCentar();
        auto dx = t.first - x.first;
        auto dy = t.second - x.second;
        Transliraj(dx,dy);
    }
    
    void Rotiraj(const Tacka &amp;t, double ugao) {
        Tacka tmp = t1;
        t1.first  = t.first  + (tmp.first - t.first)*cos(ugao) - (tmp.second - t.second)*sin(ugao);
        t1.second = t.second + (tmp.first - t.first)*sin(ugao) + (tmp.second - t.second)*cos(ugao);
        tmp = t2;
        t2.first  = t.first  + (tmp.first - t.first)*cos(ugao) - (tmp.second - t.second)*sin(ugao);
        t2.second = t.second + (tmp.first - t.first)*sin(ugao) + (tmp.second - t.second)*cos(ugao);
        tmp = t3;
        t3.first  = t.first  + (tmp.first - t.first)*cos(ugao) - (tmp.second - t.second)*sin(ugao);
        t3.second = t.second + (tmp.first - t.first)*sin(ugao) + (tmp.second - t.second)*cos(ugao);
        
    }
    
    void Skaliraj(const Tacka &amp;t, double faktor) {
        if(DaLiSuJednaki(faktor,0))
            throw std::domain_error("Nekorektan faktor skaliranja");
        t1.first =  t.first  + faktor*( t1.first  - t.first);
        t1.second = t.second + faktor*( t1.second - t.second);
        t2.first =  t.first  + faktor*( t2.first  - t.first);
        t2.second = t.second + faktor*( t2.second - t.second);
        t3.first =  t.first  + faktor*( t3.first  - t.first);
        t3.second = t.second + faktor*( t3.second - t.second);
    }
    
    void Rotiraj(double ugao) {
        Rotiraj(DajCentar(), ugao);
    }
    void Skaliraj(double faktor) {
        if(DaLiSuJednaki(faktor,0))
            throw std::domain_error("Nekorektan faktor skaliranja");
        Skaliraj(DajCentar(), faktor);
    }
    friend bool DaLiSuIdenticni(const Trougao &amp;t1, const Trougao &amp;t2) {
        std::vector&lt;Tacka&gt; v1 = { t1.t1, t1.t2, t1.t3 };
        std::vector&lt;Tacka&gt; v2 = { t2.t1, t2.t2, t2.t3 };
        std::sort(v1.begin(),v1.end(), [] (Tacka x, Tacka y) { return (x.first&lt;y.first); } );
        std::sort(v2.begin(),v2.end(), [] (Tacka x, Tacka y) { return (x.first&lt;y.first); } );
        for(int i(0);i&lt;3;i++)
            if(!(DaLiSuJednaki(v1[i].first,v2[i].first) &amp;&amp; DaLiSuJednaki(v1[i].second,v2[i].second)))
                return false;
        return true;
        
    }
    friend bool DaLiSuPodudarni(const Trougao &amp;t1, const Trougao &amp;t2) {
        double a1,b1,c1,a2,b2,c2;
        a1 = t1.DajStranicu(1);
        a2 = t2.DajStranicu(1);
        b1 = t1.DajStranicu(2);
        b2 = t2.DajStranicu(2);
        c1 = t1.DajStranicu(3);
        c2 = t2.DajStranicu(3);
        if( (DaLiSuJednaki(a1,a2) &amp;&amp; DaLiSuJednaki(b1,b2) &amp;&amp; DaLiSuJednaki(c1,c2) &amp;&amp; IstaOrijentacija(t1,t2,1,2,3,1,2,3) )||
            (DaLiSuJednaki(a1,a2) &amp;&amp; DaLiSuJednaki(b1,c2) &amp;&amp; DaLiSuJednaki(c1,b2) &amp;&amp; IstaOrijentacija(t1,t2,1,2,3,1,3,2) )||
            (DaLiSuJednaki(a1,b2) &amp;&amp; DaLiSuJednaki(b1,a2) &amp;&amp; DaLiSuJednaki(c1,c2) &amp;&amp; IstaOrijentacija(t1,t2,1,2,3,2,1,3) )||
            (DaLiSuJednaki(a1,b2) &amp;&amp; DaLiSuJednaki(b1,c2) &amp;&amp; DaLiSuJednaki(c1,a2) &amp;&amp; IstaOrijentacija(t1,t2,1,2,3,2,3,1) )||
            (DaLiSuJednaki(a1,c2) &amp;&amp; DaLiSuJednaki(b1,b2) &amp;&amp; DaLiSuJednaki(c1,a2) &amp;&amp; IstaOrijentacija(t1,t2,1,2,3,3,2,1) )||
            (DaLiSuJednaki(a1,c2) &amp;&amp; DaLiSuJednaki(b1,a2) &amp;&amp; DaLiSuJednaki(c1,b2) &amp;&amp; IstaOrijentacija(t1,t2,1,2,3,3,1,2) ))
            return true;
        return false;
    }
    friend bool DaLiSuSlicni(const Trougao &amp;t1, const Trougao &amp;t2) {
        double a1,b1,c1,a2,b2,c2;
        a1 = t1.DajStranicu(1);
        a2 = t2.DajStranicu(1);
        b1 = t1.DajStranicu(2);
        b2 = t2.DajStranicu(2);
        c1 = t1.DajStranicu(3);
        c2 = t2.DajStranicu(3);
        if( (DaLiSuProporcionalne(a1/a2, b1/b2, c1/c2) &amp;&amp; IstaOrijentacija(t1,t2,1,2,3,1,2,3) )||
            (DaLiSuProporcionalne(a1/a2, b1/c2, c1/b2) &amp;&amp; IstaOrijentacija(t1,t2,1,2,3,1,3,2) )||
            (DaLiSuProporcionalne(a1/b2, b1/a2, c1/c2) &amp;&amp; IstaOrijentacija(t1,t2,1,2,3,2,1,3) )||
            (DaLiSuProporcionalne(a1/b2, b1/c2, c1/a2) &amp;&amp; IstaOrijentacija(t1,t2,1,2,3,2,3,1) )||
            (DaLiSuProporcionalne(a1/c2, b1/b2, c1/a2) &amp;&amp; IstaOrijentacija(t1,t2,1,2,3,3,2,1) )||
            (DaLiSuProporcionalne(a1/c2, a2/a2, c1/b2) &amp;&amp; IstaOrijentacija(t1,t2,1,2,3,3,1,2) ))
            return true;
        return false;
    }
};

int main ()
{
    int n;
    std::cout&lt;&lt;"Koliko zelite kreirati trouglova: ";
    std::cin&gt;&gt;n;
    std::vector&lt;std::shared_ptr&lt;Trougao&gt;&gt; vektor;
    for(int i(0);i&lt;n;i++) {
        std::cout&lt;&lt;"Unesite podatke za "&lt;&lt;i+1&lt;&lt;". trougao (x1 y1 x2 y2 x3 y3): ";
        double x1,y1,x2,y2,x3,y3;
        std::cin&gt;&gt;x1&gt;&gt;y1&gt;&gt;x2&gt;&gt;y2&gt;&gt;x3&gt;&gt;y3;
        std::cin.ignore(10000,'\n');
        Tacka x = std::make_pair(x1,y1);
        Tacka y = std::make_pair(x2,y2);
        Tacka z = std::make_pair(x3,y3);
        try {
<a name="5"></a><font color="#FF0000"><a href="match447-0.html#5" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_1.gif"/></a>

           vektor.push_back(std::make_shared&lt;Trougao&gt;(x,y,z));
        } catch(std::domain_error e) {
            std::cout&lt;&lt;e.what()&lt;&lt;", ponovite unos!"&lt;&lt;std::endl;
            i--;
        }
    }
    double dx,dy,ugao,faktor;
</font>    std::cout&lt;&lt;"Unesite vektor translacije (dx dy): ";
    std::cin&gt;&gt;dx&gt;&gt;dy;
    std::cout&lt;&lt;"Unesite ugao rotacije: ";
    std::cin&gt;&gt;ugao;
    std::cout&lt;&lt;"Unesite faktor skaliranja: ";
    std::cin&gt;&gt;faktor;
    std::transform(vektor.begin(), vektor.end(), vektor.begin(),
    [dx,dy,ugao,faktor] (std::shared_ptr&lt;Trougao&gt; t) {
        t-&gt;Transliraj(dx,dy);
        t-&gt;Rotiraj(ugao);
        t-&gt;Skaliraj(t-&gt;DajTjeme(1), faktor);
        return t;
    });
    std::sort(vektor.begin(), vektor.end(), [](std::shared_ptr&lt;Trougao&gt; t1, std::shared_ptr&lt;Trougao&gt; t2) { return (t1-&gt;DajPovrsinu() &lt; t2-&gt;DajPovrsinu()); });
    std::cout&lt;&lt;"Trouglovi nakon obavljenih transformacija: "&lt;&lt;std::endl;
<a name="0"></a><font color="#FF0000"><a href="match447-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_3.gif"/></a>

    std::for_each(vektor.begin(), vektor.end(), [](std::shared_ptr&lt;Trougao&gt; t) { t-&gt;Ispisi(); std::cout&lt;&lt;std::endl;});
    std::cout&lt;&lt;"Trougao sa najmanjim obimom: ";
    auto tro = std::min_element(vektor.begin(), vektor.end(), [] (std::shared_ptr&lt;Trougao&gt; t1, std::shared_ptr&lt;Trougao&gt; t2) { return (t1-&gt;DajObim() &lt; t2-&gt;DajObim());});
    (*tro)-&gt;Ispisi();
    std::cout&lt;&lt;std::endl;
    std::vector&lt;std::pair&lt;std::shared_ptr&lt;Trougao&gt;,std::shared_ptr&lt;Trougao&gt;&gt;&gt; identicni;
    for(int i(0);i&lt;vektor.size()-1;i++)
</font><a name="6"></a><font color="#00FF00"><a href="match447-0.html#6" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_1.gif"/></a>

        for(int j(i+1);j&lt;vektor.size();j++)
            if(DaLiSuIdenticni(*vektor[i],*vektor[j]))
                identicni.push_back(std::make_pair(vektor[i],vektor[j]));
</font>    std::vector&lt;std::pair&lt;std::shared_ptr&lt;Trougao&gt;,std::shared_ptr&lt;Trougao&gt;&gt;&gt; slicni;
    for(int i(0);i&lt;vektor.size()-1;i++)
<a name="7"></a><font color="#0000FF"><a href="match447-0.html#7" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_1.gif"/></a>

        for(int j(i+1);j&lt;vektor.size();j++)
            if(DaLiSuSlicni(*vektor[i],*vektor[j]))
                slicni.push_back(std::make_pair(vektor[i],vektor[j]));
</font>    std::vector&lt;std::pair&lt;std::shared_ptr&lt;Trougao&gt;,std::shared_ptr&lt;Trougao&gt;&gt;&gt; podudarni;
    for(int i(0);i&lt;vektor.size()-1;i++)
<a name="8"></a><font color="#00FFFF"><a href="match447-0.html#8" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_1.gif"/></a>

        for(int j(i+1);j&lt;vektor.size();j++)
            if(DaLiSuPodudarni(*vektor[i],*vektor[j]))
                podudarni.push_back(std::make_pair(vektor[i],vektor[j]));
</font>    if(!identicni.size())
<a name="1"></a><font color="#00FF00"><a href="match447-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_1.gif"/></a>

        std::cout&lt;&lt;"Nema identicnih trouglova!"&lt;&lt;std::endl;
    else {
        std::cout&lt;&lt;"Parovi identicnih trouglova:"&lt;&lt;std::endl;
        for(auto x : identicni) {
            x.first-&gt;Ispisi(); std::cout&lt;&lt;" i "; x.second-&gt;Ispisi();
            std::cout&lt;&lt;std::endl;
</font>        }
    }
    if(!podudarni.size())
<a name="2"></a><font color="#0000FF"><a href="match447-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_1.gif"/></a>

        std::cout&lt;&lt;"Nema podudarnih trouglova!"&lt;&lt;std::endl;
    else {
        std::cout&lt;&lt;"Parovi podudarnih trouglova:"&lt;&lt;std::endl;
        for(auto x : podudarni) {
            x.first-&gt;Ispisi(); std::cout&lt;&lt;" i "; x.second-&gt;Ispisi();
            std::cout&lt;&lt;std::endl;
</font>        }
    }
    if(!slicni.size())
<a name="3"></a><font color="#00FFFF"><a href="match447-0.html#3" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_1.gif"/></a>

        std::cout&lt;&lt;"Nema slicnih trouglova!"&lt;&lt;std::endl;
    else {
        std::cout&lt;&lt;"Parovi slicnih trouglova:"&lt;&lt;std::endl;
        for(auto x : slicni) {
            x.first-&gt;Ispisi(); std::cout&lt;&lt;" i "; x.second-&gt;Ispisi();
            std::cout&lt;&lt;std::endl;
</font>        }
    }
	return 0;
}</pre>
</body>
</html>
