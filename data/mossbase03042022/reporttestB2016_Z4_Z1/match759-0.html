<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z1/student5268.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z1/student5268.cpp<p></p><pre>
#include &lt;iostream&gt;
#include &lt;utility&gt;
#include &lt;vector&gt; 
#include &lt;stdexcept&gt;
#include &lt;cmath&gt;
#include &lt;memory&gt;
#include &lt;algorithm&gt;
<a name="1"></a><font color="#00FF00"><a href="match759-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_1.gif"/></a>

double e=pow(10,-10);
typedef std::pair&lt;double, double&gt; Tacka;
class Trougao{
    Tacka  x,y,z;
public:
Trougao(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3);
void Postavi(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3);
</font>void Postavi(int indeks, const Tacka &amp;t);
static int Orijentacija(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3){
<a name="7"></a><font color="#0000FF"><a href="match759-1.html#7" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_0.gif"/></a>

    auto a=t1.first*(t2.second-t3.second)-t2.first*(t1.second-t3.second)+t3.first*(t1.second-t2.second);
</font>    return a;
}
Tacka DajTjeme(int indeks) const;
double DajStranicu(int indeks) const;
double DajUgao(int indeks) const;
Tacka DajCentar() const;
double DajObim() const;
double DajPovrsinu() const;
bool DaLiJePozitivnoOrijentiran() const;
bool DaLiJeUnutra(const Tacka &amp;t) const;
void Ispisi() const;
void Transliraj(double delta_x, double delta_y);
void Centriraj(const Tacka &amp;t);
void Rotiraj(const Tacka &amp;t, double ugao);
void Skaliraj(const Tacka &amp;t, double faktor);
void Rotiraj(double ugao);
void Skaliraj(double faktor);
friend bool DaLiSuIdenticni(const Trougao &amp;t1, const Trougao &amp;t2);
friend bool DaLiSuPodudarni(const Trougao &amp;t1, const Trougao &amp;t2);
<a name="6"></a><font color="#00FF00"><a href="match759-1.html#6" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_0.gif"/></a>

friend bool DaLiSuSlicni(const Trougao &amp;t1, const Trougao &amp;t2);
};
Trougao::Trougao(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3){
    if(Orijentacija(t1,t2,t3)==0) throw std::domain_error("Nekorektne pozicije tjemena, ponovite unos!");
</font>     x=t1; y=t2; z=t3;
}
void Trougao::Postavi(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3){
    if(Orijentacija(t1,t2,t3)==0) throw std::domain_error("Nekorektne pozicije tjemena, ponovite unos!");
    x=t1; y=t2; z=t3;
}
<a name="0"></a><font color="#FF0000"><a href="match759-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_1.gif"/></a>

void Trougao::Postavi(int indeks, const Tacka &amp;t){
    if(indeks&lt;1 || indeks&gt;3) throw std::range_error("Nekorektan indeks");
    if(indeks==1){
        if(Orijentacija(t,y,z)==0) throw std::domain_error("Nekorektne pozicije tjemena, ponovite unos!");
        x=t;
</font>    }
    if(indeks==2){
         if(Orijentacija(x,t,z)==0) throw std::domain_error("Nekorektne pozicije tjemena, ponovite unos!");
         y=t;
    }
    if(indeks==3){
         if(Orijentacija(x,y,t)==0) throw std::domain_error("Nekorektne pozicije tjemena, ponovite unos!");
         z=t;
    }
}
Tacka Trougao::DajTjeme(int indeks) const{
    if(indeks&lt;1 || indeks&gt;3) throw std::range_error("Nekorektan indeks");
    if(indeks==1) return x;
    else if(indeks==2) return y;
<a name="8"></a><font color="#00FFFF"><a href="match759-1.html#8" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_0.gif"/></a>

    else  return z;
}
double Trougao::DajStranicu(int indeks) const{
     if(indeks&lt;1 || indeks&gt;3) throw std::range_error("Nekorektan indeks");
     if(indeks==1) return sqrt(pow((y.second-z.second),2)+pow((y.first-z.first),2));
</font>     else if(indeks==2) return sqrt(pow((x.second-z.second),2)+pow((x.first-z.first),2));
     else return sqrt(pow((y.second-x.second),2)+pow((y.first-x.first),2));
}
double Trougao::DajUgao(int indeks) const{
    if(indeks&lt;1 || indeks&gt;3) throw std::range_error("Nekorektan indeks");
    if(indeks==1){
        auto a=DajStranicu(1);
        auto b=DajStranicu(2);
        auto c=DajStranicu(3);
        return acos((pow(b,2)+pow(c,2)-pow(a,2))/(2*b*c));
    }
    else if(indeks==2){
        auto a=DajStranicu(1);
        auto b=DajStranicu(2);
        auto c=DajStranicu(3);
        return acos((pow(a,2)+pow(c,2)-pow(b,2))/(2*a*c));
    }
    else {
         auto a=DajStranicu(1);
        auto b=DajStranicu(2);
        auto c=DajStranicu(3);
        return acos((pow(a,2)+pow(b,2)-pow(c,2))/(2*a*b));
    }
    
    
}
Tacka Trougao::DajCentar() const{
    Tacka p;
    p.first=(x.first+y.first+z.first)/3.;
    p.second=(x.second+y.second+z.second)/3.;
    return p;
}
double Trougao::DajObim() const{
    return DajStranicu(1)+DajStranicu(2)+DajStranicu(3);
}
double Trougao::DajPovrsinu() const{
    auto p=x.first*(y.second-z.second)-y.first*(x.second-z.second)+z.first*(x.second-y.second);
    p=fabs(p)/2.;
    return p;
}
bool Trougao::DaLiJePozitivnoOrijentiran() const{
    if(Orijentacija(x,y,z)==1) return true;
    return false;
}
bool Trougao::DaLiJeUnutra(const Tacka &amp;t) const{
    if((Orijentacija(x,y,z)==1 &amp;&amp; Orijentacija(x,y,t)==1 &amp;&amp; Orijentacija(y,z,t)==1 &amp;&amp; Orijentacija(x,z,t)==-1)||(Orijentacija(x,y,z)==-1 &amp;&amp; Orijentacija(x,y,t)==-1 &amp;&amp; Orijentacija(y,z,t)==-1 &amp;&amp; Orijentacija(x,z,t)==1))
    return true;
    return false;
}
void Trougao::Ispisi() const{
    std::cout &lt;&lt; "((" &lt;&lt;x.first&lt;&lt;","&lt;&lt;x.second&lt;&lt;"),("&lt;&lt;y.first&lt;&lt;","&lt;&lt;y.second&lt;&lt;"),("&lt;&lt;z.first&lt;&lt;","&lt;&lt;z.second&lt;&lt;"))";
}
void Trougao::Transliraj(double delta_x, double delta_y){
    x.first+=delta_x; y.first+=delta_x; z.first+=delta_x;
    x.second+=delta_y; y.second+=delta_y; z.second+=delta_y;
}
void Trougao::Centriraj(const Tacka &amp;t){
    Tacka stari=DajCentar();
    auto ux1=stari.first-x.first;
    auto uy1=stari.second-x.second;
    x.first=ux1+t.first;
    x.second=uy1+t.second;
    auto ux2=stari.first-y.first;
    auto uy2=stari.second-y.second;
    y.first=ux2+t.first;
    y.second=uy2+t.second;
    auto ux3=stari.first-z.first;
    auto uy3=stari.second-z.second;
    z.first=ux3+t.first;
    z.second=uy3+t.second;
}
void Trougao::Rotiraj(const Tacka &amp;t, double ugao){
    double a=x.first;
    double b=y.first;
    double c=z.first;
    x.first=t.first+(a-t.first)*cos(ugao)-(x.second-t.second)*sin(ugao);
    x.second=t.second+(a-t.first)*sin(ugao)+(x.second-t.second)*cos(ugao);
    y.first=t.first+(b-t.first)*cos(ugao)-(y.second-t.second)*sin(ugao);
    y.second=t.second+(b-t.first)*sin(ugao)+(y.second-t.second)*cos(ugao);
    z.first=t.first+(c-t.first)*cos(ugao)-(z.second-t.second)*sin(ugao);
    z.second=t.second+(c-t.first)*sin(ugao)+(z.second-t.second)*cos(ugao);
}
void Trougao::Rotiraj( double ugao){
    Tacka t=DajCentar();
    double a=x.first;
    double b=y.first;
    double c=z.first;
    x.first=t.first+(a-t.first)*cos(ugao)-(x.second-t.second)*sin(ugao);
    x.second=t.second+(a-t.first)*sin(ugao)+(x.second-t.second)*cos(ugao);
    y.first=t.first+(b-t.first)*cos(ugao)-(y.second-t.second)*sin(ugao);
    y.second=t.second+(b-t.first)*sin(ugao)+(y.second-t.second)*cos(ugao);
    z.first=t.first+(c-t.first)*cos(ugao)-(z.second-t.second)*sin(ugao);
    z.second=t.second+(c-t.first)*sin(ugao)+(z.second-t.second)*cos(ugao);

}
void Trougao::Skaliraj(const Tacka &amp;t, double faktor){
    if(fabs(faktor)&lt;e) throw std::domain_error("Nekorektan faktor skaliranja");
    x.first=t.first+faktor*(x.first-t.first);
    x.second=t.second+faktor*(x.second-t.second);
    y.first=t.first+faktor*(y.first-t.first);
    y.second=t.second+faktor*(y.second-t.second);
    z.first=t.first+faktor*(z.first-t.first);
    z.second=t.second+faktor*(z.second-t.second);
}
void Trougao::Skaliraj(double faktor){
    if(fabs(faktor)&lt;e) throw std::domain_error("Nekorektan faktor skaliranja");
    Tacka t=DajCentar();
    x.first=t.first+faktor*(x.first-t.first);
    x.second=t.second+faktor*(x.second-t.second);
    y.first=t.first+faktor*(y.first-t.first);
    y.second=t.second+faktor*(y.second-t.second);
    z.first=t.first+faktor*(z.first-t.first);
    z.second=t.second+faktor*(z.second-t.second);
}
  bool DaLiSuPodudarni(const Trougao &amp;t1, const Trougao &amp;t2){
    auto a1=t1.DajStranicu(1); auto b1=t1.DajStranicu(2); auto c1=t1.DajStranicu(3);
    auto a2=t2.DajStranicu(1); auto b2=t2.DajStranicu(2); auto c2=t2.DajStranicu(3);
    std::vector&lt;std::pair&lt;Tacka,double&gt;&gt; v1{std::make_pair(t1.x,a1),std::make_pair(t1.y,b1),std::make_pair(t1.z,c1)};
     std::vector&lt;std::pair&lt;Tacka,double&gt;&gt; v2{std::make_pair(t2.x,a2),std::make_pair(t2.y,b2),std::make_pair(t2.z,c2)};
     for(int i=0;i&lt;2;i++){
         for(int j=i+1;j&lt;3;j++){
             if(v1[i].second-v1[j].second&lt;0){
                 auto pom=v1[i];
                 v1[i]=v1[j];
                 v1[j]=pom;
             }
         }
     }
     for(int i=0;i&lt;2;i++){
         for(int j=i+1;j&lt;3;j++){
             if(v2[i].second-v2[j].second&lt;0){
                 auto pom=v2[i];
                 v2[i]=v2[j];
                 v2[j]=pom;
             }
         }
     }
     if((Trougao::Orijentacija(v1[0].first,v1[1].first,v1[2].first)==Trougao::Orijentacija(v2[0].first,v2[1].first,v2[2].first))&amp;&amp;(fabs(t1.DajObim()-t2.DajObim())&lt;e))
     return true;
     return false;
}
bool DaLiSuSlicni(const Trougao &amp;t1, const Trougao &amp;t2){
    auto a1=t1.DajStranicu(1); auto b1=t1.DajStranicu(2); auto c1=t1.DajStranicu(3);
    auto a2=t2.DajStranicu(1); auto b2=t2.DajStranicu(2); auto c2=t2.DajStranicu(3);
    std::vector&lt;std::pair&lt;Tacka,double&gt;&gt; v1{std::make_pair(t1.x,a1),std::make_pair(t1.y,b1),std::make_pair(t1.z,c1)};
     std::vector&lt;std::pair&lt;Tacka,double&gt;&gt; v2{std::make_pair(t2.x,a2),std::make_pair(t2.y,b2),std::make_pair(t2.z,c2)};
     for(int i=0;i&lt;2;i++){
         for(int j=i+1;j&lt;3;j++){
             if(v1[i].second-v1[j].second&lt;0){
                 auto pom=v1[i];
                 v1[i]=v1[j];
                 v1[j]=pom;
             }
         }
     }
     for(int i=0;i&lt;2;i++){
         for(int j=i+1;j&lt;3;j++){
             if(v2[i].second-v2[j].second&lt;0){
                 auto pom=v2[i];
                 v2[i]=v2[j];
                 v2[j]=pom;
             }
         }
     }
     auto n=v1[0].second/v2[0].second;
     if((Trougao::Orijentacija(v1[0].first,v1[1].first,v1[2].first)==Trougao::Orijentacija(v2[0].first,v2[1].first,v2[2].first))&amp;&amp;(fabs(v1[1].second/v2[1].second-n)&lt;e)&amp;&amp;(fabs(v1[2].second/v2[2].second-n)&lt;e))
     return true;
     return false;
}
bool DaLiSuIdenticni(const Trougao &amp;t1, const Trougao &amp;t2){
    if(fabs(t1.x.first+t1.y.first+t1.z.first-t2.x.first-t2.y.first-t2.z.first)&lt;e&amp;&amp;fabs(t1.x.second+t1.y.second+t1.z.second-t2.x.second-t2.y.second-t2.z.second)&lt;e &amp;&amp;fabs((t1.x.first)*(t1.y.first)*(t1.z.first)-(t2.x.first)*(t2.y.first)*(t2.z.first))&lt;e&amp;&amp;fabs((t1.x.second)*(t1.y.second)*(t1.z.second)-(t2.x.second)*(t2.y.second)*(t2.z.second))&lt;e)
    return true;
    return false;
    }
int main(){
    int n;
    std::cout &lt;&lt; "Koliko zelite kreirati trouglova: " ;
    std::cin &gt;&gt; n;
<a name="9"></a><font color="#FF00FF"><a href="match759-1.html#9" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_0.gif"/></a>

    std::vector&lt;std::shared_ptr&lt;Trougao&gt;&gt; v(n);
    for(int i=0;i&lt;n;i++){
        std::cout &lt;&lt; "Unesite podatke za "&lt;&lt;i+1 &lt;&lt;". trougao (x1 y1 x2 y2 x3 y3): ";
</font>    double a,b,c,d,e,f;
    std::cin &gt;&gt; a&gt;&gt;b&gt;&gt;c&gt;&gt;d&gt;&gt;e&gt;&gt;f;
    try{
    v[i]=std::make_shared&lt;Trougao&gt;(Trougao(std::make_pair(a,b),std::make_pair(c,d),std::make_pair(e,f)));
    }
    catch(std::domain_error d){
        std::cout &lt;&lt; d.what() &lt;&lt; std::endl;
        i--;
    }
    }
     std::vector&lt;std::shared_ptr&lt;Trougao&gt;&gt; novi(n);
     double x,y; std::cout &lt;&lt;"Unesite vektor translacije (dx dy): "; std::cin &gt;&gt; x&gt;&gt;y;
     double ugao; std::cout &lt;&lt;"Unesite ugao rotacije: "; std::cin &gt;&gt; ugao;
      double faktor; std::cout&lt;&lt;"Unesite faktor skaliranja: "; std::cin &gt;&gt; faktor;
       std::transform(v.begin(),v.end(),novi.begin(),[=](std::shared_ptr&lt;Trougao&gt; t){ (*t).Transliraj(x,y);  (*t).Rotiraj(ugao); (*t).Skaliraj((*t).DajTjeme(1),faktor); return t;});
     std::sort(novi.begin(),novi.end(),[](std::shared_ptr&lt;Trougao&gt; t1,std::shared_ptr&lt;Trougao&gt; t2){auto a=(*t1).DajPovrsinu(); auto b=(*t2).DajPovrsinu(); return a-b&lt;0;  });
    std::cout &lt;&lt; "Trouglovi nakon obavljenih transformacija:" &lt;&lt; std::endl;
<a name="2"></a><font color="#0000FF"><a href="match759-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_1.gif"/></a>

    std::for_each(novi.begin(),novi.end(),[](std::shared_ptr&lt;Trougao&gt; t){(*t).Ispisi(); std::cout  &lt;&lt; std::endl;});
    std::cout &lt;&lt; "Trougao sa najmanjim obimom: ";
    auto h=std::min_element(novi.begin(),novi.end(),[](std::shared_ptr&lt;Trougao&gt; t1,std::shared_ptr&lt;Trougao&gt; t2){auto a=(*t1).DajObim(); auto b=(*t2).DajObim(); return a-b&lt;0;  });
</font>    (*h)-&gt;Ispisi(); std::cout &lt;&lt; std::endl;
    bool imali(false),prvi(false),imalp(false),imals(false);
    for(int i=0;i&lt;novi.size()-1;i++){
        for(int j=i+1;j&lt;novi.size();j++){
            if(DaLiSuIdenticni(*novi[i],*novi[j])){
                imali=true;
                if(prvi==false){
                    std::cout &lt;&lt; "Parovi identicnih trouglova:" &lt;&lt; std::endl;
                    prvi=true;
                }
<a name="3"></a><font color="#00FFFF"><a href="match759-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_0.gif"/></a>

                novi[i]-&gt;Ispisi(); std::cout &lt;&lt; " i "; novi[j]-&gt;Ispisi();
                std::cout  &lt;&lt; std::endl;
            }
        }
    }
    if(!imali) std::cout &lt;&lt; "Nema identicnih trouglova!" &lt;&lt; std::endl;
</font>    prvi=false;
    for(int i=0;i&lt;novi.size()-1;i++){
        for(int j=i+1;j&lt;novi.size();j++){
            if(DaLiSuPodudarni(*novi[i],*novi[j])){
                imalp=true;
                if(prvi==false){
                    std::cout &lt;&lt; "Parovi podudarnih trouglova:" &lt;&lt; std::endl;
                    prvi=true;
                }
<a name="4"></a><font color="#FF00FF"><a href="match759-1.html#4" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_0.gif"/></a>

                novi[i]-&gt;Ispisi(); std::cout &lt;&lt; " i "; novi[j]-&gt;Ispisi();
                std::cout  &lt;&lt; std::endl;
            }
        }
    }
    if(!imalp) std::cout &lt;&lt; "Nema podudarnih trouglova!" &lt;&lt; std::endl;
</font>    prvi=false;
    for(int i=0;i&lt;novi.size()-1;i++){
        for(int j=i+1;j&lt;novi.size();j++){
            if(DaLiSuSlicni(*novi[i],*novi[j])){
                imals=true;
                if(prvi==false){
                    std::cout &lt;&lt; "Parovi slicnih trouglova:" &lt;&lt; std::endl;
                    prvi=true;
                }
<a name="5"></a><font color="#FF0000"><a href="match759-1.html#5" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_0.gif"/></a>

                novi[i]-&gt;Ispisi(); std::cout &lt;&lt; " i "; novi[j]-&gt;Ispisi();
                std::cout  &lt;&lt; std::endl;
            }
        }
    }
    if(!imals) std::cout &lt;&lt; "Nema slicnih trouglova!" &lt;&lt; std::endl;
</font>    
    return 0;
}</pre>
</body>
</html>
