<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z1/student1966.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z1/student1966.cpp<p></p><pre>
#include &lt;iostream&gt;
#include &lt;utility&gt;
#include &lt;stdexcept&gt;
#include &lt;cmath&gt;
#include &lt;memory&gt;
#include &lt;algorithm&gt;
#include &lt;vector&gt;

<a name="5"></a><font color="#FF0000"><a href="match69-1.html#5" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_1.gif"/></a>

typedef std::pair&lt;double, double&gt; Tacka;
class Trougao{
    Tacka A, B, C;
    public:    Trougao(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3) {
        if(Orijentacija(t1, t2, t3)==0) throw std::domain_error("Nekorektne pozicije tjemena, ponovite unos!");
</font>        A=t1; B=t2; C=t3;
    }
    void Postavi(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3) {
<a name="1"></a><font color="#00FF00"><a href="match69-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_17.gif"/></a>

        if(Orijentacija(t1, t2, t3)==0) throw std::domain_error("Nekorektne pozicije tjemena, ponovite unos!\n");
        A=t1; B=t2; C=t3;
    }
    void Postavi(int indeks, const Tacka &amp;t) {
        if(indeks&lt;1 || indeks&gt;3) throw std::range_error("Nekorektan indeks");
        if(indeks==1) A=t;
        else if(indeks==2) B=t;
        else if(indeks==3) C=t;
    }
    static int Orijentacija(const Tacka &amp;A, const Tacka &amp;B, const Tacka &amp;C) {
        int rezultat;
        rezultat=A.first*(B.second-C.second)-B.first*(A.second-C.second)+C.first*(A.second-B.second);
        return rezultat;
    }
    Tacka DajTjeme(int indeks) const {
        if(indeks&lt;1 || indeks&gt;3) throw std::range_error("Nekorektan indeks");
        if(indeks==1) return A;
        if(indeks==2) return B;
         return C;}
    double DajStranicu(int indeks) const {
        if(indeks&lt;1 || indeks&gt;3) throw std::range_error("Nekorektan indeks");
        if(indeks==1) return fabs(sqrt((B.first-C.first)*(B.first-C.first) + (B.second-C.second)*(B.second-C.second)));
        if(indeks==2) return fabs(sqrt((A.first-C.first)*(A.first-C.first) + (A.second-C.second)*(A.second-C.second)));
        return fabs(sqrt((A.first-B.first)*(A.first-B.first) + (A.second-B.second)*(A.second-B.second)));
    }
    double DajUgao(int indeks) const {
        if(indeks&lt;1 || indeks&gt;3) throw std::range_error("Nekorektan indeks");
        if(indeks==1) return acos((DajStranicu(2)*DajStranicu(2)+DajStranicu(3)*DajStranicu(3)-DajStranicu(1)*DajStranicu(1))/(2*DajStranicu(2)*DajStranicu(3)));
        if(indeks==2) return acos((DajStranicu(1)*DajStranicu(1)+DajStranicu(3)*DajStranicu(3)-DajStranicu(2)*DajStranicu(2))/(2*DajStranicu(1)*DajStranicu(3)));
        return acos((DajStranicu(1)*DajStranicu(1)+DajStranicu(2)*DajStranicu(2)-DajStranicu(3)*DajStranicu(3))/(2*DajStranicu(1)*DajStranicu(2)));
    }
    Tacka DajCentar() const {
        return std::make_pair(((A.first+B.first+C.first)/3), ((A.second+B.second+C.second)/3));
    }
    double DajObim() const {
        return DajStranicu(1)+DajStranicu(2)+DajStranicu(3);
    }
    double DajPovrsinu() const {
        return 0.5*fabs(Orijentacija(A,B,C));
    }
    bool DaLiJePozitivnoOrijentiran() const {
        if(Orijentacija(A,B,C)&gt;0) return true;
        return false;
    }
    bool DaLiJeUnutra(const Tacka &amp;t) {
        if(Orijentacija(A,B,C)&gt;0) {
            if(Orijentacija(A,B,t)&gt;0 &amp;&amp; Orijentacija(B,t,C)&lt;0 &amp;&amp; Orijentacija(A,t,C)&gt;0) return true;}
        else if(Orijentacija(A,B,C)&lt;0) {
            if(Orijentacija(A,t,C)&lt;0 &amp;&amp; Orijentacija(C,t,B)&lt;0 &amp;&amp; Orijentacija(A,t,B)&gt;0) return true;
        }
        return false;
    }
    void Ispisi() const {
        std::cout&lt;&lt;"(("&lt;&lt;A.first&lt;&lt;","&lt;&lt;A.second&lt;&lt;"),("&lt;&lt;B.first&lt;&lt;","&lt;&lt;B.second&lt;&lt;"),("&lt;&lt;C.first&lt;&lt;","&lt;&lt;C.second&lt;&lt;"))";
</font><a name="2"></a><font color="#0000FF"><a href="match69-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_6.gif"/></a>

    }
    void Transliraj(double delta_x, double delta_y) {
        Tacka Anovo, Bnovo, Cnovo;
        Anovo.first=A.first+delta_x; Bnovo.first=B.first+delta_x; Cnovo.first=C.first+delta_x;
        Anovo.second=A.second+delta_y; Bnovo.second=B.second+delta_y; Cnovo.second=C.second+delta_y;
        this-&gt;Postavi(Anovo, Bnovo, Cnovo);
    }
    void Centriraj(const Tacka &amp;t) {
        double dx, dy;
        dx=this-&gt;DajCentar().first-t.first;
        dy=this-&gt;DajCentar().second-t.second;
        A.first-=dx; B.first-=dx; C.first-=dx;
        A.second-=dy; B.second-=dy; C.second-=dy;
    }
    void Rotiraj(const Tacka &amp;t, double ugao) {
        Tacka Anovo=A, Bnovo=B, Cnovo=C;
        Anovo.first=t.first+(A.first-t.first)*cos(ugao)-(A.second-t.second)*sin(ugao);
</font>        Bnovo.first=t.first+(B.first-t.first)*cos(ugao)-(B.second-t.second)*sin(ugao);
        Cnovo.first=t.first+(C.first-t.first)*cos(ugao)-(C.second-t.second)*sin(ugao);
        Anovo.second=t.second+(A.first-t.first)*sin(ugao)+(A.second-t.second)*cos(ugao);
        Bnovo.second=t.second+(B.first-t.first)*sin(ugao)+(B.second-t.second)*cos(ugao);
<a name="3"></a><font color="#00FFFF"><a href="match69-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_2.gif"/></a>

        Cnovo.second=t.second+(C.first-t.first)*sin(ugao)+(C.second-t.second)*cos(ugao);
        this-&gt;Postavi(Anovo, Bnovo, Cnovo);
    }
    void Skaliraj( Tacka t, double faktor) {
        if(fabs(faktor)&lt;0.00001) throw std::domain_error("Nekorektan faktor skaliranja");
        Tacka Anovo, Bnovo, Cnovo;
         Anovo.first=t.first+faktor*(A.first-t.first);
          Bnovo.first=t.first+faktor*(B.first-t.first);
</font>       Cnovo.first=t.first+faktor*(C.first-t.first);
  Anovo.second=t.second+faktor*(A.second-t.second);
<a name="4"></a><font color="#FF00FF"><a href="match69-1.html#4" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_2.gif"/></a>

     Bnovo.second=t.second+faktor*(B.second-t.second);
          Cnovo.second=t.second+faktor*(C.second-t.second);
          this-&gt;Postavi(Anovo, Bnovo, Cnovo);
    }
    void Rotiraj(double ugao) {
       Tacka Astaro=A, Bstaro=B, Cstaro=C;
       Tacka centar=this-&gt;DajCentar();
        A.first=centar.first+(A.first-centar.first)*cos(ugao)-(A.second-centar.second)*sin(ugao);
</font>        B.first=centar.first+(B.first-centar.first)*cos(ugao)-(B.second-centar.second)*sin(ugao);
        C.first=centar.first+(C.first-centar.first)*cos(ugao)-(C.second-centar.second)*sin(ugao);
        A.second=centar.second+(Astaro.first-centar.first)*sin(ugao)+(A.second-centar.second)*cos(ugao);
        B.second=centar.second+(Bstaro.first-centar.first)*sin(ugao)+(B.second-centar.second)*cos(ugao);
<a name="0"></a><font color="#FF0000"><a href="match69-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_58.gif"/></a>

        C.second=centar.second+(Cstaro.first-centar.first)*sin(ugao)+(C.second-centar.second)*cos(ugao);
    }
    void Skaliraj(double faktor) {
        if(fabs(faktor-faktor)&lt;0.00001) throw std::domain_error("Nekorektan faktor skaliranja");
        A.first=this-&gt;DajCentar().first+faktor*(A.first-this-&gt;DajCentar().first);
        B.first=this-&gt;DajCentar().first+faktor*(B.first-this-&gt;DajCentar().first);
        C.first=this-&gt;DajCentar().first+faktor*(C.first-this-&gt;DajCentar().first);
        A.second=this-&gt;DajCentar().second+faktor*(A.second-this-&gt;DajCentar().second);
        B.second=this-&gt;DajCentar().second+faktor*(B.second-this-&gt;DajCentar().second);
        C.second=this-&gt;DajCentar().second+faktor*(C.second-this-&gt;DajCentar().second);
    }
    friend bool DaLiSuIdenticni(const Trougao &amp;t1, const Trougao &amp;t2);
    friend bool DaLiSuPodudarni(const Trougao &amp;t1, const Trougao &amp;t2);
    friend bool DaLiSuSlicni(const Trougao &amp;t1, const Trougao &amp;t2);
};
bool IsteTacke(Tacka t1, Tacka t2) {
    if(fabs(t1.first-t2.first)&lt;1e-5 &amp;&amp; fabs(t1.second-t2.second)&lt;1e-5) return true;
    return false;
}
bool DaLiSuIdenticni(const Trougao &amp;t1, const Trougao &amp;t2) {
    if(t1.Orijentacija(t1.A, t1.B, t1.C)!=0 &amp;&amp; t2.Orijentacija(t2.A, t2.B, t2.C)!=0) {
      if(IsteTacke(t1.A, t2.A) &amp;&amp; IsteTacke(t1.B, t2.B) &amp;&amp; IsteTacke(t1.C, t2.C)) return true;
      else if(IsteTacke(t1.A, t2.A) &amp;&amp; IsteTacke(t1.B, t2.C) &amp;&amp; IsteTacke(t1.C, t2.B)) return true;
      else if(IsteTacke(t1.A, t2.B) &amp;&amp; IsteTacke(t1.B, t2.C) &amp;&amp; IsteTacke(t1.C, t2.A)) return true;
      else if(IsteTacke(t1.A, t2.B) &amp;&amp; IsteTacke(t1.B, t2.A) &amp;&amp; IsteTacke(t1.C, t2.C)) return true;
      else if(IsteTacke(t1.A, t2.C) &amp;&amp; IsteTacke(t1.B, t2.B) &amp;&amp; IsteTacke(t1.C, t2.A)) return true;
      else if(IsteTacke(t1.A, t2.C) &amp;&amp; IsteTacke(t1.B, t2.A) &amp;&amp; IsteTacke(t1.C, t2.B)) return true;}
      return false;
}
bool DaLiSuPodudarni(const Trougao &amp;t1, const Trougao &amp;t2) {
    if(DaLiSuIdenticni(t1, t2)) return true;
    auto zamjena=t1;
    int i=1, cuvar(0);
    while(i&lt;=3) {
        if(t2.DajStranicu(1)-zamjena.DajStranicu(i)&lt;0.0001) {cuvar=i;
        break;} 
        i++;}
     double ugaoDrugog, ugaoPrvog, ugao;
     if(fabs(t2.C.first-t2.B.first)&lt;0.001) ugaoDrugog=2*atan(1);
    else  ugaoDrugog=atan((t2.C.second-t2.B.second)/(t2.C.first-t2.B.first));
     
     if(cuvar==1) { if(fabs(zamjena.C.first-zamjena.A.first)&lt;0.001) ugaoPrvog=2*atan(1);
        else  ugaoPrvog=atan((zamjena.C.second-zamjena.A.second)/(zamjena.C.first-zamjena.A.first));
    }
       if(cuvar==2) {ugaoPrvog=atan((zamjena.A.second-zamjena.C.second)/(zamjena.A.first-zamjena.C.first));
     if(fabs(zamjena.A.first-zamjena.C.first)&lt;0.001) ugaoPrvog=2*atan(1);}
       if(cuvar==3) {ugaoPrvog=atan((zamjena.A.second-zamjena.B.second)/(zamjena.A.first-zamjena.B.first));
     if(fabs(zamjena.A.first-zamjena.B.first)&lt;0.001) ugaoPrvog=2*atan(1);}
     ugao=ugaoPrvog-ugaoDrugog;
     zamjena.Centriraj(t2.DajCentar());
     if(cuvar==1|| cuvar==2 ||cuvar==3) {
        auto temp=zamjena, temp2=zamjena;
         zamjena.Rotiraj(zamjena.DajTjeme(3), ugao);
         zamjena.Centriraj(t2.DajCentar());
         if(DaLiSuIdenticni(zamjena, t2)) return true;
         zamjena.Rotiraj(zamjena.DajTjeme(3), 4*atan(1));
         zamjena.Centriraj(t2.DajCentar());
         if(DaLiSuIdenticni(zamjena, t2)) return true;
         zamjena.Rotiraj(zamjena.DajTjeme(3), 4*atan(1)-2*ugao);
         zamjena.Centriraj(t2.DajCentar());
         if(DaLiSuIdenticni(zamjena, t2)) return true;
          zamjena.Rotiraj(zamjena.DajTjeme(3), 4*atan(1));
         zamjena.Centriraj(t2.DajCentar());
         if(DaLiSuIdenticni(zamjena, t2)) return true;
         
          temp.Rotiraj(temp.DajTjeme(2), ugao);
         temp.Centriraj(t2.DajCentar());
         if(DaLiSuIdenticni(temp, t2)) return true;
         temp.Rotiraj(temp.DajTjeme(2), 4*atan(1));
         temp.Centriraj(t2.DajCentar());
         if(DaLiSuIdenticni(temp, t2)) return true;
         temp.Rotiraj(temp.DajTjeme(2), 4*atan(1)-2*ugao);
         temp.Centriraj(t2.DajCentar());
         if(DaLiSuIdenticni(temp, t2)) return true;
          temp.Rotiraj(temp.DajTjeme(2), 4*atan(1));
         temp.Centriraj(t2.DajCentar());
         if(DaLiSuIdenticni(temp, t2)) return true;
         
          temp2.Rotiraj(temp.DajTjeme(1), ugao);
         temp2.Centriraj(t2.DajCentar());
         if(DaLiSuIdenticni(temp2, t2)) return true;
         temp2.Rotiraj(temp2.DajTjeme(1), 4*atan(1));
         temp2.Centriraj(t2.DajCentar());
         if(DaLiSuIdenticni(temp2, t2)) return true;
         temp2.Rotiraj(temp2.DajTjeme(1), 4*atan(1)-2*ugao);
         temp2.Centriraj(t2.DajCentar());
         if(DaLiSuIdenticni(temp2, t2)) return true;
          temp2.Rotiraj(temp2.DajTjeme(1), 4*atan(1));
         temp2.Centriraj(t2.DajCentar());
         if(DaLiSuIdenticni(temp2, t2)) return true;
     }    
    
    return false;
        
    }
    
bool DaLiSuSlicni(const Trougao &amp;t1, const Trougao &amp;t2) {
    auto zamjena=t1;
    zamjena.Centriraj(t2.DajCentar());
    double skalar=t2.DajStranicu(1)/t1.DajStranicu(1);
    if(fabs(skalar-skalar)&gt;0){
    zamjena.Skaliraj(skalar);}
    if(DaLiSuPodudarni(zamjena,t2)) return true;
     return false;
}

int main ()
{
    Tacka prva(1,2), druga(6, 7), treca(10,13);

   int n;
   std::cout&lt;&lt;"Koliko zelite kreirati trouglova: ";
   std::cin&gt;&gt;n;
   std::vector&lt;std::shared_ptr&lt;Trougao&gt;&gt; v;
   for(int i=0; i&lt;n; i++) {
       Tacka a(1,2),b(6,7),c(10,13);
       Trougao trokut(prva, druga, treca);
       bool dobar_unos=false;
       while (!dobar_unos) {
             std::cout&lt;&lt;"Unesite podatke za "&lt;&lt;i+1&lt;&lt;". trougao (x1 y1 x2 y2 x3 y3): ";
             double x1,y1,x2,y2,x3,y3;
            std::cin&gt;&gt;x1&gt;&gt;y1&gt;&gt;x2&gt;&gt;y2&gt;&gt;x3&gt;&gt;y3;
        a=std::make_pair(x1,y1), b=std::make_pair(x2,y2), c=std::make_pair(x3,y3);
       bool proslo=true;
       try{
           
           trokut.Postavi(a,b,c);
       } catch(std::domain_error e){
           std::cout&lt;&lt;e.what();
           dobar_unos=false;
           proslo=false;
       } if(proslo) dobar_unos=true;
       }
if(dobar_unos) {
       trokut.Postavi(a,b,c);
        v.push_back(std::make_shared&lt;Trougao&gt; (trokut));}
       }
    Trougao trokut(prva, druga, treca);
    std::cout&lt;&lt;"Unesite vektor translacije (dx dy): ";
    double delta_x, delta_y;
    std::cin&gt;&gt;delta_x&gt;&gt;delta_y;
    std::cout&lt;&lt;"Unesite ugao rotacije: ";
    double ugao;
    std::cin&gt;&gt;ugao;
    std::cout&lt;&lt;"Unesite faktor skaliranja: ";
    double skalar;
    std::cin&gt;&gt;skalar;
    std::transform(v.begin(), v.end(), v.begin(),  [delta_y, delta_x,  ugao, skalar] (std::shared_ptr&lt;Trougao&gt; t)-&gt;std::shared_ptr&lt;Trougao&gt; {
        t-&gt;Transliraj(delta_x, delta_y);
        t-&gt;Rotiraj(ugao);
        t-&gt;Skaliraj(t-&gt;DajTjeme(1), skalar);
        return t;
    } );  
   std::sort(v.begin(), v.end(), [](std::shared_ptr&lt;Trougao&gt; x, std::shared_ptr&lt;Trougao&gt; y){
       if(x-&gt;DajPovrsinu()&lt;y-&gt;DajPovrsinu()) return true;
       return false;
   });
   std::cout&lt;&lt;"Trouglovi nakon obavljenih transformacija:";
std::for_each(v.begin(), v.end(), [](std::shared_ptr&lt;Trougao&gt; t){
    std::cout&lt;&lt;std::endl;
    t-&gt;Ispisi();
});
    
   auto naj=std::min_element(v.begin(), v.end(), [] (std::shared_ptr&lt;Trougao&gt; x, std::shared_ptr&lt;Trougao&gt; y)-&gt;bool{
       return (x-&gt;DajObim()&lt;y-&gt;DajObim());
   });
   std::cout&lt;&lt;"\nTrougao sa najmanjim obimom: ";
   (*naj)-&gt;Ispisi();
      std::vector&lt;std::pair&lt;Trougao, Trougao&gt; &gt; identicni, podudarni, slicni;
      for(auto i=v.begin(); i&lt;v.end(); i++) {
          for(auto j=i+1; j&lt;v.end(); j++) {if(DaLiSuIdenticni(**i, **j)) identicni.push_back(std::make_pair(**i, **j));
          if(DaLiSuPodudarni(**i, **j) || DaLiSuPodudarni(**j, **i)) podudarni.push_back(std::make_pair(**i, **j));
              if(DaLiSuSlicni(**i,**j) || DaLiSuSlicni(**j, **i)) slicni.push_back(std::make_pair(**i,**j));
          }
      }
      if(identicni.size()==0) std::cout&lt;&lt;"\nNema identicnih trouglova!";
      else{
  std::cout&lt;&lt;"\nParovi identicnih trouglova: ";
  for(int i=0; i&lt;identicni.size(); i++) {
      std::cout&lt;&lt;std::endl;
      identicni[i].first.Ispisi();
      std::cout&lt;&lt;" i ";
      identicni[i].second.Ispisi();
  } }
  if(podudarni.size()==0) std::cout&lt;&lt;"\nNema podudarnih trouglova!";
  else{
  std::cout&lt;&lt;"\nParovi podudarnih trouglova: ";
  for(int i=0; i&lt;podudarni.size(); i++) {
      std::cout&lt;&lt;std::endl;
      podudarni[i].first.Ispisi();
      std::cout&lt;&lt;" i ";
      podudarni[i].second.Ispisi();
  }}
  if(slicni.size()==0) std::cout&lt;&lt;"\nNema slicnih trouglova!";
  else{
  std::cout&lt;&lt;"\nParovi slicnih trouglova: ";
  for(int i=0; i&lt;slicni.size(); i++) {
      std::cout&lt;&lt;std::endl;
      slicni[i].first.Ispisi();
      std::cout&lt;&lt;" i ";
      slicni[i].second.Ispisi();
</font>  }} 
  
	return 0;
}</pre>
</body>
</html>
