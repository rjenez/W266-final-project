<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z1/student4628.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z1/student6507.cpp<p></p><pre>
<a name="6"></a><font color="#00FF00"><a href="match795-0.html#6" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_0.gif"/></a>

/B 2016/2017, ZadaÄ‡a 4, Zadatak 1
//Napomena: testovi ce biti dostupni dan pred rok!
#include &lt;iostream&gt;
#include &lt;utility&gt;
#include &lt;stdexcept&gt;
#include &lt;cmath&gt;
#include &lt;vector&gt;
#include &lt;algorithm&gt;
#include &lt;memory&gt;

typedef std::pair&lt;double,double&gt; Tacka;

const double epsilon(1E-10);
</font>
void DaLiJeIspravanIndeks(int indeks){
    if(indeks!=1 &amp;&amp; indeks!=2 &amp;&amp; indeks!=3) throw std::range_error("Nekorektan indeks");
}

/*void DaLiJeKorektnaPozicija(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3){
    if(!Orijentacija(t1,t2,t3)) throw std::domain_error("Nekorektne pozicije tjemena");
}*/

double KosinusnaTeorema(double a, double b, double c){
    return (b*b+c*c-a*a)/(2*b*c);
}

double RuzniIzraz(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3){
    return t1.first*(t2.second-t3.second)-t2.first*(t1.second-t3.second)+t3.first*(t1.second-t2.second);
}

Tacka RuznaTacka(const Tacka &amp;A, const Tacka &amp;B, double ugao){
    double prva_koor(B.first+(A.first-B.first)*std::cos(ugao)-(A.second-B.second)*std::sin(ugao));
    double druga_koor(B.second+(A.first-B.first)*std::sin(ugao)+(A.second-B.second)*std::cos(ugao));
    Tacka ruzna(prva_koor,druga_koor);
    return ruzna;
}
class Trougao{
    Tacka x, y, z;
<a name="5"></a><font color="#FF0000"><a href="match795-0.html#5" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_1.gif"/></a>

    void DaLiJeKorektnaPozicija(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3) const;
    bool DaLiJePozitivnoOrijentiran(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3) const{ if(Orijentacija(t1,t2,t3)==1) return true; return false;}
</font>    public:
    Trougao(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3){
        DaLiJeKorektnaPozicija(t1,t2,t3);
        x=t1; y=t2; z=t3;
    }
    void Postavi(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3){
        DaLiJeKorektnaPozicija(t1,t2,t3);
        x=t1; y=t2; z=t3;
    }
    void Postavi(int indeks, const Tacka &amp;t){
        DaLiJeIspravanIndeks(indeks);
        if(indeks==1) {DaLiJeKorektnaPozicija(t,y,z); x=t;}
        if(indeks==2) {DaLiJeKorektnaPozicija(x,t,z); y=t;}
        if(indeks==3) {DaLiJeKorektnaPozicija(x,y,t); z=t;}
    }
    static int Orijentacija(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3);
    Tacka DajTjeme(int indeks) const{
        DaLiJeIspravanIndeks(indeks);
        if(indeks==1) return x;
        if(indeks==2) return y;
        return z;
    }
    double DajStranicu(int indeks) const;
    double DajUgao(int indeks) const;
    Tacka DajCentar() const;
    double DajObim() const{ return DajStranicu(1)+DajStranicu(2)+DajStranicu(3);}
    double DajPovrsinu() const {return std::fabs(RuzniIzraz(x,y,z)/2);}
    bool DaLiJePozitivnoOrijentiran() const {if(Orijentacija(x,y,z)==1) return true; return false;}
    bool DaLiJeUnutra(const Tacka &amp;t) const;
    void Ispisi() const;
    void Transliraj(double delta_x, double delta_y);
    void Centriraj(const Tacka &amp;t);
    void Rotiraj(const Tacka &amp;t, double ugao);
    void Skaliraj(const Tacka &amp;t, double faktor);
    void Rotiraj(double ugao) {Rotiraj(DajCentar(),ugao);}
    void Skaliraj(double faktor) {Skaliraj(DajCentar(),faktor);};
    friend bool DaLiSuIdenticni(const Trougao &amp;t1, const Trougao &amp;t2);
    friend bool DaLiSuPodudarni(const Trougao &amp;t1, const Trougao &amp;t2);
    friend bool DaLiSuSlicni(const Trougao &amp;t1, const Trougao &amp;t2);
};

int Trougao::Orijentacija(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3){
    double izraz(RuzniIzraz(t1,t2,t3));
    if(izraz&gt;0) return 1;
    if(izraz&lt;0) return -1;
    return 0;
}

void Trougao::DaLiJeKorektnaPozicija(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3) const{
    if(!Orijentacija(t1,t2,t3)) throw std::domain_error("Nekorektne pozicije tjemena");
}

bool IsItOk(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3){
    if(!Trougao::Orijentacija(t1,t2,t3)) return false;
    return true;
}
double Trougao::DajStranicu(int indeks) const{
    DaLiJeIspravanIndeks(indeks);
    if(indeks==1) return std::sqrt(std::pow((z.second-y.second),2)+std::pow((z.first-y.first),2));
    if(indeks==2) return std::sqrt(std::pow((z.second-x.second),2)+std::pow((z.first-x.first),2));
    return std::sqrt(std::pow((x.second-y.second),2)+std::pow((x.first-y.first),2));
}

double Trougao::DajUgao(int indeks) const{
    DaLiJeIspravanIndeks(indeks);
    if(indeks==1) return std::acos(KosinusnaTeorema(DajStranicu(1),DajStranicu(2),DajStranicu(3)));
    if(indeks==2) return std::acos(KosinusnaTeorema(DajStranicu(2),DajStranicu(1),DajStranicu(3)));
    return std::acos(KosinusnaTeorema(DajStranicu(3),DajStranicu(1),DajStranicu(2)));
}

Tacka Trougao::DajCentar() const{
    Tacka centar;
    centar.first=(x.first+y.first+z.first)/3.;
    centar.second=(x.second+y.second+z.second)/3.;
    return centar;
}

bool Trougao::DaLiJeUnutra(const Tacka &amp;t) const {
    if(Orijentacija(t,y,z) != 0 &amp;&amp; Orijentacija(t,x,z) != 0 &amp;&amp; Orijentacija(t,x,y)!=0){
        if(DaLiJePozitivnoOrijentiran(x,y,z)){
            if(DaLiJePozitivnoOrijentiran(x,y,t) &amp;&amp; DaLiJePozitivnoOrijentiran(y,z,t) &amp;&amp; DaLiJePozitivnoOrijentiran(z,x,t)) return true;
            return false;
        }
        else{
            if(!DaLiJePozitivnoOrijentiran(x,y,t) &amp;&amp; !DaLiJePozitivnoOrijentiran(y,z,t) &amp;&amp; !DaLiJePozitivnoOrijentiran(z,x,t)) return true;
            return false;
        }
    }
    else return false;
}

void Trougao::Ispisi() const{
    std::cout&lt;&lt;"(("&lt;&lt;x.first&lt;&lt;","&lt;&lt;x.second&lt;&lt;"),"&lt;&lt;"("&lt;&lt;y.first&lt;&lt;","&lt;&lt;y.second&lt;&lt;"),"&lt;&lt;"("&lt;&lt;z.first&lt;&lt;","&lt;&lt;z.second&lt;&lt;"))";
}

void Trougao::Transliraj(double delta_x, double delta_y){
    x.first+=delta_x; y.first+=delta_x; z.first+=delta_x;
    x.second+=delta_y; y.second+=delta_y; z.second+=delta_y;
}

void Trougao::Centriraj(const Tacka &amp;t1){
    double delta_x(t1.first-DajCentar().first);
    double delta_y(t1.second-DajCentar().second);
    Transliraj(delta_x,delta_y);
}

void Trougao::Rotiraj(const Tacka &amp;t, double ugao){
    Tacka pomoc(x.first,x.second);
    x=RuznaTacka(pomoc,t,ugao);
    pomoc=y;
    y=RuznaTacka(pomoc,t,ugao);
    pomoc=z;
    z=RuznaTacka(pomoc,t,ugao);
}

Tacka Cudno(const Tacka &amp;t1, const Tacka &amp;t2, double faktor){
    Tacka cudna(t2.first+faktor*(t1.first-t2.first),t2.second+faktor*(t1.second-t2.second));
    return cudna;
}
void Trougao::Skaliraj (const Tacka &amp;t, double faktor){
    if(faktor&lt;epsilon) throw std::domain_error("Nekorektan faktor skaliranja");
    x=Cudno(x,t,faktor);
    y=Cudno(y,t,faktor);
    z=Cudno(z,t,faktor);
}

<a name="7"></a><font color="#0000FF"><a href="match795-0.html#7" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_0.gif"/></a>

bool DaLiSuIdenticni(const Trougao &amp;t1, const Trougao &amp;t2){
    //t1.Ispisi();
    std::vector&lt;Tacka&gt; koordinate{t1.x, t1.y, t1.z};
</font>    //std::cout&lt;&lt;"broj: "&lt;&lt;std::count_if(koordinate.begin(), koordinate.end(), [&amp;t2](Tacka t) {if(epsilon&gt;(std::fabs(t2.x.first-t.first)) &amp;&amp; epsilon&gt;(std::fabs(t2.x.second-t.second))) return true; return false;});
   // std::cout&lt;&lt;koordinate[0].first&lt;&lt;" "&lt;&lt;t1.x.second;
    if(std::count_if(koordinate.begin(), koordinate.end(),[&amp;t2](Tacka t){if(epsilon&gt;std::fabs(t2.x.first-t.first) &amp;&amp; epsilon&gt;std::fabs(t2.x.second-t.second)) return true; return false;})==1 &amp;&amp; std::count_if(koordinate.begin(), koordinate.end(), [&amp;t2](Tacka t){if(epsilon&gt;std::fabs(t2.y.first-t.first) &amp;&amp; epsilon&gt;std::fabs(t2.y.second-t.second)) return true; return false;})==1 &amp;&amp; std::count_if(koordinate.begin(), koordinate.end(), [&amp;t2](Tacka t){if(epsilon&gt;std::fabs(t2.z.first-t.first) &amp;&amp; epsilon&gt;std::fabs(t2.z.second-t.second)) return true; return false;})==1) return true;
    return false;
}

bool DaLiSuPodudarni(const Trougao &amp;t1, const Trougao &amp;t2){
    Trougao a(t1.x, t1.y, t1.z), b(t2.x, t2.y, t2.z);
    a.Centriraj(b.DajCentar());
    int indeks(0);
    for(int i=0; i&lt;3; i++){
        if(epsilon&gt;(std::fabs(t1.DajUgao(1)-t2.DajUgao(i+1)))){ indeks=i+1; break;}
    }
    if(indeks==0) return false;
    if(!IsItOk(a.DajTjeme(1), a.DajCentar(), b.DajTjeme(indeks))) {
       if(DaLiSuIdenticni(a,b)) return true;
       return false;
    }
    else{
        Trougao rotacije(a.DajTjeme(1),a.DajCentar(),b.DajTjeme(indeks));
        //std::cout&lt;&lt;"indeks "&lt;&lt;indeks&lt;&lt;" ";
        double kut;
        /*if(rotacije.DaLiJePozitivnoOrijentiran() &amp;&amp; rotacije.DajUgao(2)&lt;=4*std::atan(1)) kut=rotacije.DajUgao(2);
        else if(!rotacije.DaLiJePozitivnoOrijentiran() &amp;&amp; rotacije.DajUgao(3)&lt;=4*std::atan(1)) kut=rotacije.DajUgao(3);
        else if(rotacije.DaLiJePozitivnoOrijentiran()) kut=8*std::atan(1)-rotacije.DajUgao(2);
        else kut=8*std::atan(1)-rotacije.DajUgao(3);*/
        kut=rotacije.DajUgao(2);
        if(rotacije.DaLiJePozitivnoOrijentiran()) {a.Rotiraj(2*4*std::atan(1)-kut); }
        else {a.Rotiraj(kut);}
        //if(a.DajCentar()==b.DajCentar()){ a.Ispisi(); std::cout&lt;&lt;std::endl; b.Ispisi();}
        //std::cout&lt;&lt;"\n"; a.Ispisi();
        if(DaLiSuIdenticni(a,b)) return true;
        return false;
    }
}

bool DaLiSuSlicni(const Trougao &amp;t1, const Trougao &amp;t2){
    Trougao a(t1.x, t1.y, t1.z), b(t2.x, t2.y, t2.z);
    int indeks(0);
    for(int i=0; i&lt;3; i++){
        if(epsilon&gt;std::fabs(a.DajUgao(1)-b.DajUgao(i+1))) {indeks=i+1; break;}
    }
    if(indeks==0) return false;
    double faktor(0);
    faktor=b.DajStranicu(indeks)/a.DajStranicu(1);
    a.Skaliraj(faktor);
    if(DaLiSuPodudarni(a,b)) return true;
    return false;
}

void ObicnaFunkcija(const std::vector&lt;std::shared_ptr&lt;Trougao&gt;&gt; &amp;vektor, bool f(const Trougao &amp;t1, const Trougao &amp;t2), std::string s1, std::string s2){
    int broj(0);
    for(int i=0; i&lt;vektor.size(); i++){
        for(int j=i+1; j&lt;vektor.size(); j++){
            if(f(*vektor[i], *vektor[j])) broj++;
        }
    }
    if(broj==0) std::cout&lt;&lt;s1&lt;&lt;std::endl;
    else{
        std::cout&lt;&lt;s2&lt;&lt;std::endl;
        for(int i=0; i&lt;vektor.size(); i++){
            for(int j=i+1; j&lt;vektor.size(); j++){
                if(f(*vektor[i], *vektor[j])) {vektor[i] -&gt;Ispisi(); std::cout&lt;&lt;" i "; vektor[j]-&gt;Ispisi(); std::cout&lt;&lt;std::endl;}
            }
        }
    }
}
int main ()
{
    try{
        std::cout&lt;&lt;"Koliko zelite kreirati trouglova: ";
        int n;
        std::cin&gt;&gt;n;
        std::vector&lt;std::shared_ptr&lt;Trougao&gt;&gt; vektor(n);
        for(int i=0; i&lt;n; i++){
            Tacka tockica1,tockica2,tockica3;
            do{
<a name="1"></a><font color="#00FF00"><a href="match795-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_1.gif"/></a>

            std::cout&lt;&lt;"Unesite podatke za "&lt;&lt;i+1&lt;&lt;". trougao (x1 y1 x2 y2 x3 y3): ";
            std::cin&gt;&gt;tockica1.first&gt;&gt;tockica1.second;
            std::cin&gt;&gt;tockica2.first&gt;&gt;tockica2.second;
            std::cin&gt;&gt;tockica3.first&gt;&gt;tockica3.second;
</font>            if(!IsItOk(tockica1,tockica2,tockica3)) std::cout&lt;&lt;"Nekorektne pozicije tjemena, ponovite unos! "&lt;&lt;std::endl;
            }while(!IsItOk(tockica1,tockica2,tockica3));
            vektor[i]=std::make_shared&lt;Trougao&gt;(tockica1,tockica2,tockica3);
        }
        std::cout&lt;&lt;"Unesite vektor translacije (dx dy): ";
        double dx, dy;
        std::cin&gt;&gt;dx&gt;&gt;dy;
<a name="2"></a><font color="#0000FF"><a href="match795-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_1.gif"/></a>

        std::transform(vektor.begin(), vektor.end(), vektor.begin(), [dx,dy](std::shared_ptr&lt;Trougao&gt; t)-&gt;std::shared_ptr&lt;Trougao&gt;{ t-&gt;Transliraj(dx,dy); return t;});
        std::cout&lt;&lt;"Unesite ugao rotacije: ";
</font>        double ugao;
        std::cin&gt;&gt;ugao;
<a name="4"></a><font color="#FF00FF"><a href="match795-0.html#4" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_1.gif"/></a>

        std::transform(vektor.begin(), vektor.end(), vektor.begin(), [ugao](std::shared_ptr&lt;Trougao&gt; t)-&gt;std::shared_ptr&lt;Trougao&gt;{t-&gt;Rotiraj(ugao); return t;});
</font>        std::cout&lt;&lt;"Unesite faktor skaliranja: ";
        double faktor;
        std::cin&gt;&gt;faktor;
<a name="0"></a><font color="#FF0000"><a href="match795-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_1.gif"/></a>

        std::transform(vektor.begin(), vektor.end(), vektor.begin(), [faktor](std::shared_ptr&lt;Trougao&gt; t)-&gt;std::shared_ptr&lt;Trougao&gt; {t-&gt;Skaliraj(t-&gt;DajTjeme(1),faktor); return t;});
        std::sort(vektor.begin(), vektor.end(), [](std::shared_ptr&lt;Trougao&gt; t1, std::shared_ptr&lt;Trougao&gt; t2)-&gt;bool {if(t1-&gt;DajPovrsinu()&lt;t2-&gt;DajPovrsinu()) return true; return false;});
</font>        std::cout&lt;&lt;"Trouglovi nakon obavljenih transformacija: "&lt;&lt;std::endl;
        std::for_each(vektor.begin(), vektor.end(), [](std::shared_ptr&lt;Trougao&gt; t){t-&gt;Ispisi(); std::cout&lt;&lt;std::endl;});
        auto min(*std::max_element(vektor.begin(), vektor.end(), [](std::shared_ptr&lt;Trougao&gt; t1, std::shared_ptr&lt;Trougao&gt; t2)-&gt;bool {if((t1-&gt;DajObim())&gt;(t2-&gt;DajObim())) return true; return false;}));
        std::cout&lt;&lt;"Trougao sa najmanjim obimom: "; min-&gt;Ispisi(); std::cout&lt;&lt;std::endl;
<a name="8"></a><font color="#00FFFF"><a href="match795-0.html#8" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_0.gif"/></a>

        int broj(0);
        for(int i=0; i&lt;n; i++){
            for(int j=i+1; j&lt;n; j++){
                if(DaLiSuIdenticni(*vektor[i], *vektor[j])) broj++;
</font>            }
        }
        if(broj==0) std::cout&lt;&lt;"Nema identicnih trouglova!"&lt;&lt;std::endl;
        else{
            std::cout&lt;&lt;"Parovi identicnih trouglova: "&lt;&lt;std::endl;
            for(int i=0; i&lt;n; i++){
                for(int j=i+1; j&lt;n; j++){
                    if(DaLiSuIdenticni(*vektor[i], *vektor[j])){
                        vektor[i]-&gt;Ispisi(); std::cout&lt;&lt;" i "; vektor[j]-&gt;Ispisi(); std::cout&lt;&lt;std::endl;
                    }
                }
            }
        }
        broj=0;
        for(int i=0; i&lt;n; i++)
            for(int j=i+1; j&lt;n; j++)
                if(DaLiSuPodudarni(*vektor[i], *vektor[j])) broj++;
        if(broj==0) std::cout&lt;&lt;"Nema podudarnih trouglova!"&lt;&lt;std::endl;
        else{
            std::cout&lt;&lt;"Parovi podudarnih trouglova: "&lt;&lt;std::endl;
            for(int i=0; i&lt;n; i++){
                for(int j=i+1; j&lt;n; j++){
                    if(DaLiSuPodudarni(*vektor[i], *vektor[j])){
                        vektor[i]-&gt;Ispisi(); std::cout&lt;&lt;" i "; vektor[j]-&gt;Ispisi(); std::cout&lt;&lt;std::endl;
                    }
                }
            }
        }
        //ObicnaFunkcija(vektor, DaLiSuPodudarni, "Nema podudarnih trouglova!", "Parovi podudarnih trouglova: ");
        ObicnaFunkcija(vektor, DaLiSuSlicni, "Nema slicnih trouglova!", "Parovi slicnih trouglova: ");
    }
<a name="3"></a><font color="#00FFFF"><a href="match795-0.html#3" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_1.gif"/></a>

    catch(std::domain_error izuzetak){
        std::cout&lt;&lt;izuzetak.what()&lt;&lt;std::endl;
    }
    catch(std::logic_error izuz){
        std::cout&lt;&lt;izuz.what()&lt;&lt;std::endl;
    }
    catch(...){
</font>        return 0;
    }
    
	return 0;
}</pre>
</body>
</html>
