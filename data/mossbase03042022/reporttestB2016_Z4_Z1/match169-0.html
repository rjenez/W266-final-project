<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z1/student5297.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z1/student5297.cpp<p></p><pre>
<a name="1"></a><font color="#00FF00"><a href="match169-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_28.gif"/></a>

/B 2016/2017, ZadaÄ‡a 4, Zadatak 1
//Napomena: testovi ce biti dostupni dan pred rok!
#include &lt;iostream&gt;
#include &lt;utility&gt;
#include &lt;stdexcept&gt;
#include &lt;cmath&gt;
#include &lt;vector&gt;
#include &lt;memory&gt;
#include &lt;map&gt;
#include &lt;algorithm&gt;

typedef std::pair&lt;double, double&gt; Tacka;

const double EPS(1e-10);

class Trougao {
    Tacka tjeme1, tjeme2, tjeme3;
public:
    Trougao (const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3) { Postavi(t1, t2, t3); }
    void Postavi (const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3) {
        if(Orijentacija(t1, t2, t3)==0) throw std::domain_error("Nekorektne pozicije tjemena");
        tjeme1=t1; tjeme2=t2; tjeme3=t3; 
    }
    void Postavi (int indeks, const Tacka &amp;t) {
        if(!(indeks&gt;=1 &amp;&amp; indeks&lt;=3)) throw std::range_error("Nekorektan indeks");
        if(indeks==1) { if(Orijentacija(t, tjeme2, tjeme3)==0) throw std::domain_error("Nekorektne pozicije tjemena"); tjeme1=t; }
        else if(indeks==2) { if(Orijentacija(tjeme1, t, tjeme3)==0) throw std::domain_error("Nekorektne pozicije tjemena"); tjeme2=t; }
        else if(indeks==3) { if(Orijentacija(tjeme1, tjeme2, t)==0) throw std::domain_error("Nekorektne pozicije tjemena"); tjeme3=t; }
    }
    static int Orijentacija (const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3) {
        double orijentacija(t1.first*(t2.second-t3.second)-t2.first*(t1.second-t3.second)+t3.first*(t1.second-t2.second));
        if(orijentacija&gt;0) return 1;
        else if(orijentacija&lt;0) return -1;
        /*else if(orijentacija==0)*/ else return 0;
    }
    Tacka DajTjeme (int indeks) const {  
        if(indeks==1) return tjeme1;
        else if(indeks==2) return tjeme2;
        /*else if(indeks==3)*/ return tjeme3;
    }
    double DajStranicu (int indeks) const {
        if(indeks==1) return(std::sqrt(std::pow((tjeme2.first-tjeme3.first), 2)+std::pow((tjeme2.second-tjeme3.second), 2)));
        else if(indeks==2) return(std::sqrt(std::pow((tjeme1.first-tjeme3.first), 2)+std::pow((tjeme2.second-tjeme3.second), 2)));
        /*else if(indeks==3)*/ return(std::sqrt(std::pow((tjeme1.first-tjeme2.first), 2)+std::pow((tjeme1.second-tjeme2.second), 2)));
    }
    double DajUgao (int indeks) const {
        if(indeks==1) return std::acos((DajStranicu(3)*DajStranicu(3)+DajStranicu(2)*DajStranicu(2)-DajStranicu(1)*DajStranicu(1))/(2*DajStranicu(3)*DajStranicu(2)))*(180./(4*std::atan(1)));
        else if(indeks==2) return std::acos((DajStranicu(1)*DajStranicu(1)+DajStranicu(3)*DajStranicu(3)-DajStranicu(2)*DajStranicu(2))/(2*DajStranicu(1)*DajStranicu(3)))*(180./(4*std::atan(1)));
        /*else if(indeks==3)*/ return std::acos((DajStranicu(1)*DajStranicu(1)+DajStranicu(2)*DajStranicu(2)-DajStranicu(3)*DajStranicu(3))/(2*DajStranicu(1)*DajStranicu(2)))*(180./(4*std::atan(1)));
    }
    Tacka DajCentar() const {
        return std::make_pair((tjeme1.first+tjeme2.first+tjeme3.first)/3, (tjeme1.second+tjeme2.second+tjeme3.second)/3);
    }
    double DajObim() const {
        return (DajStranicu(1)+DajStranicu(2)+DajStranicu(2));
    }
    double DajPovrsinu() const {
        double s=DajObim()/2.;
        return (std::sqrt(s*(s-DajStranicu(1))*(s-DajStranicu(2))*(s-DajStranicu(3))));
    }
    bool DaLiJePozitivnoOrijentiran() const {
        if(Orijentacija(tjeme1, tjeme2, tjeme3)==1) return true;
        return false;
    }
    bool DaLiJeUnutra (const Tacka &amp;t) const;
    void Ispisi() const {
        std::cout &lt;&lt; "((" &lt;&lt; tjeme1.first &lt;&lt; "," &lt;&lt; tjeme1.second &lt;&lt; "),(" &lt;&lt; tjeme2.first &lt;&lt; "," &lt;&lt; tjeme2.second &lt;&lt; "),(" &lt;&lt; tjeme3.first &lt;&lt; "," &lt;&lt; tjeme3.second &lt;&lt; "))" &lt;&lt; std::endl;
</font><a name="2"></a><font color="#0000FF"><a href="match169-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_14.gif"/></a>

    }
    void Transliraj (double delta_x, double delta_y);
    void Centriraj (const Tacka &amp;t);
    void Rotiraj (const Tacka &amp;t, double ugao);
    void Skaliraj (const Tacka &amp;t, double faktor);
    void Rotiraj (double ugao) {
        Tacka teziste(DajCentar());
        Rotiraj(teziste, ugao);
    }
    void Skaliraj (double faktor) {
        Tacka teziste(DajCentar());
        Skaliraj(teziste, faktor);
    }
    friend bool DaLiSuIdenticni (const Trougao &amp;t1, const Trougao &amp;t2);
    friend bool DaLiSuPodudarni (const Trougao &amp;t1, const Trougao &amp;t2);
    friend bool DaLiSuSlicni (const Trougao &amp;t1, const Trougao &amp;t2);
};

bool Trougao::DaLiJeUnutra (const Tacka &amp;t) const {
    if(Orijentacija(tjeme1, tjeme2, tjeme3)==1) {
        if(Orijentacija(tjeme1, tjeme2, t)==1 &amp;&amp; Orijentacija(tjeme2, tjeme3, t)==1 &amp;&amp; Orijentacija(tjeme3, tjeme1, t)==1) return true;
        else return false;
    }
    else if(Orijentacija(tjeme1, tjeme2, tjeme3)==-1) {
        if(Orijentacija(tjeme1, tjeme2, t)==-1 &amp;&amp; Orijentacija(tjeme2, tjeme3, t)==-1 &amp;&amp; Orijentacija(tjeme3, tjeme1, t)==-1) return true;
        else return false;
    }
    return false;
}

void Trougao::Transliraj (double delta_x, double delta_y) {
    tjeme1.first+=delta_x; tjeme1.second+=delta_y;
    tjeme2.first+=delta_x; tjeme2.second+=delta_y;
    tjeme3.first+=delta_x; tjeme3.second+=delta_y;
}

void Trougao::Centriraj (const Tacka &amp;t) {
    Tacka teziste(DajCentar());
    double delta_x(t.first-teziste.first), delta_y(t.second-teziste.second);
    Transliraj(delta_x, delta_y);
}

void Trougao::Rotiraj (const Tacka &amp;t, double ugao) {
    tjeme1.first=t.first+(tjeme1.first-t.first)*std::cos(ugao)-(tjeme1.second-t.second)*std::sin(ugao);
</font>    tjeme1.second=t.second+(tjeme1.first-t.first)*std::sin(ugao)+(tjeme1.second-t.second)*std::cos(ugao);
    tjeme2.first=t.first+(tjeme2.first-t.first)*std::cos(ugao)-(tjeme2.second-t.second)*std::sin(ugao);
    tjeme2.second=t.second+(tjeme2.first-t.first)*std::sin(ugao)+(tjeme2.second-t.second)*std::cos(ugao);
    tjeme3.first=t.first+(tjeme3.first-t.first)*std::cos(ugao)-(tjeme3.second-t.second)*std::sin(ugao);
<a name="3"></a><font color="#00FFFF"><a href="match169-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_2.gif"/></a>

    tjeme3.second=t.second+(tjeme3.first-t.first)*std::sin(ugao)+(tjeme3.second-t.second)*std::cos(ugao);
}

void Trougao::Skaliraj (const Tacka &amp;t, double faktor) {
    if(std::fabs(faktor-0)&lt;EPS) throw std::domain_error("Nekorektan faktor skaliranja");
    tjeme1.first=t.first+faktor*(tjeme1.first-t.first); tjeme1.second=t.second+faktor*(tjeme1.second-t.second);
</font>    tjeme2.first=t.first+faktor*(tjeme2.first-t.first); tjeme2.second=t.second+faktor*(tjeme2.second-t.second);
<a name="0"></a><font color="#FF0000"><a href="match169-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_43.gif"/></a>

    tjeme3.first=t.first+faktor*(tjeme3.first-t.first); tjeme3.second=t.second+faktor*(tjeme3.second-t.second);
    if(faktor&lt;0) {
        Rotiraj(t, 180);
    }
}

bool DaLiSuIdenticni (const Trougao &amp;t1, const Trougao &amp;t2) {
    if((t1.tjeme1==t2.tjeme1 || t1.tjeme1==t2.tjeme2 || t1.tjeme1==t2.tjeme3) &amp;&amp; (t1.tjeme2==t2.tjeme1 || t1.tjeme2==t2.tjeme2 || t1.tjeme2==t2.tjeme3) &amp;&amp; 
                            (t1.tjeme3==t2.tjeme1 || t1.tjeme3==t2.tjeme2 || t1.tjeme3==t2.tjeme3)) return true;
    return false;
}

bool DaLiSuPodudarni (const Trougao &amp;t1, const Trougao &amp;t2) {
    double a1=t1.DajStranicu(1), b1=t1.DajStranicu(2), c1=t1.DajStranicu(3);
    double a2=t2.DajStranicu(1), b2=t2.DajStranicu(2), c2=t2.DajStranicu(3);
    if((a1==a2 || a1==b2 || a1==c2) &amp;&amp; (b1==a2 || b1==b2 || b1==c2) &amp;&amp; (c1==a2 || c1==b2 || c1==c2)) {
        double delta_x=t1.tjeme1.first-t2.tjeme1.first;
        double delta_y=t1.tjeme1.second-t2.tjeme1.second;
        Trougao tpomocni1=t1;
        tpomocni1.Transliraj(delta_x, delta_y);
        if(DaLiSuIdenticni(tpomocni1, t2)) {
            Trougao tpomocni2=t1;
            tpomocni2.Rotiraj(360);
            if(DaLiSuIdenticni(tpomocni2, t2)) {
                Trougao tpomocni3=t1;
                tpomocni3.Skaliraj()
            }
        }
    }
    return false;
}

bool DaLiSuSlicni (const Trougao &amp;t1, const Trougao &amp;t2) {
    double a1=DajStranicu(1), b1=DajStranicu(2), c1=DajStranicu(3);
    double a2=DajStranicu(1), b2=DajStranicu(2), c2=DajStranicu(3);
    if((c1/c2)==(b1/b2) &amp;&amp; (b1/b2)==(a1/a2)) {
        double delta_x=t1.tjeme1.first-t2.tjeme1.first;
        double delta_y=t1.tjeme1.second-t2.tjeme1.second;
        Trougao t=t1;
        t.Transliraj(delta_x, delta_y);
        if(DaLiSuIdenticni(t, t2)) {
            t.Rotiraj(360);
            if(DaLiSuIdenticni())
        }
    }
    return false;
}

int main () {
    std::cout &lt;&lt; "Koliko zelite kreirati trouglova: ";
    double n;
    std::cin &gt;&gt; n;
    try {
        std::vector&lt;std::shared_ptr&lt;Trougao&gt;&gt; vektor(n);
        for(int i(0); i&lt;10; i++) {
            std::cout &lt;&lt; "Unesite podatke za " &lt;&lt; i+1 &lt;&lt; " trougao (x1 y1 x2 y2 x3 y3):";
            std::vector&lt;double&gt; tjemena;
            for(int j(0); j&lt;3; j++) {
                double x, y;
                std::cin &gt;&gt; x &gt;&gt; y;
                
                tjemena.push_back(x);
                tjemena.push_back(y);
            }
            Tacka t1, t2, t3;
            t1.first=tjemena[0]; t1.second=tjemena[1];
            t2.first=tjemena[2]; t2.second=tjemena[3];
            t3.first=tjemena[4]; t3.second=tjemena[5];
            try {
                vektor[i]=std::make_shared&lt;Trougao&gt;(t1, t2, t3);
            } catch(std::domain_error izuzetak) {
                std::cout &lt;&lt; izuzetak.what() &lt;&lt; std::endl;
                i--;
            } catch(...) {
                throw;
            }
        }
        double ugao, faktor, deltax, deltay;
        std::cout &lt;&lt; "Unesite vektor translacije (dx dy): "; std::cin &gt;&gt; deltax &gt;&gt; deltay;
        std::cout &lt;&lt; "Unesite ugao rotacije: "; std::cin &gt;&gt; ugao;
        std::cout &lt;&lt; "Unesite faktor skaliranja: "; std::cin &gt;&gt; faktor;
        std::cout &lt;&lt; "Trouglovi nakon obavljenih transformacija: " &lt;&lt; std::endl;
        std::transform(vektor.begin(), vektor.end(), vektor.begin(), [=] (std::shared_ptr&lt;Trougao&gt; t){
            t-&gt;Transliraj(deltax, deltay);
            t-&gt;Rotiraj(ugao);
            try {
                t-&gt;Skaliraj(t-&gt;DajTjeme(1), faktor);
            } catch (std::domain_error izuzetak) {
                std::cout &lt;&lt; izuzetak.what() &lt;&lt; std::endl;
            }
            return t;
        });
        std::sort(vektor.begin(), vektor.end(), [] (std::shared_ptr&lt;Trougao&gt; t1, std::shared_ptr&lt;Trougao&gt; t2) {
           return (t1-&gt;DajPovrsinu()&lt;t2-&gt;DajPovrsinu());
        });
        std::for_each(vektor.begin(), vektor.end(), [] (std::shared_ptr&lt;Trougao&gt; t) {
            std::cout &lt;&lt; "((" &lt;&lt; t-&gt;DajTjeme(1).first &lt;&lt; "," &lt;&lt; t-&gt;DajTjeme(1).second &lt;&lt; "),(" &lt;&lt; t-&gt;DajTjeme(2).first &lt;&lt; "," &lt;&lt; t-&gt;DajTjeme(2).second &lt;&lt; "),(" &lt;&lt; t-&gt;DajTjeme(3).first &lt;&lt; "," &lt;&lt; t-&gt;DajTjeme(3).second &lt;&lt; "))" &lt;&lt; std::endl;
        });
        std::shared_ptr&lt;Trougao&gt; najmanji= *(std::min_element(vektor.begin(), vektor.end(), [] (std::shared_ptr&lt;Trougao&gt; t1, std::shared_ptr&lt;Trougao&gt; t2) {
           return t1-&gt;DajObim()&lt;t2-&gt;DajObim(); 
        }));
        std::cout &lt;&lt; "Trougao sa najmanjim obimom: ((" &lt;&lt; najmanji-&gt;DajTjeme(1).first &lt;&lt; "," &lt;&lt; najmanji-&gt;DajTjeme(1).second &lt;&lt; "),(" &lt;&lt; najmanji-&gt;DajTjeme(2).first &lt;&lt; "," &lt;&lt; najmanji-&gt;DajTjeme(2).second &lt;&lt; "),(" &lt;&lt; najmanji-&gt;DajTjeme(3).first &lt;&lt; "," &lt;&lt; najmanji-&gt;DajTjeme(3).second &lt;&lt; "))" &lt;&lt; std::endl;
    } catch (...) {
        std::cout &lt;&lt; "bla" &lt;&lt; std::endl;
    }
  	return 0;
</font>}</pre>
</body>
</html>
