<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z1/student3219.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z1/student3219.cpp<p></p><pre>
/B 2016/2017, ZadaÄ‡a 4, Zadatak 1
//Napomena: testovi ce biti dostupni dan pred rok!
#include &lt;iostream&gt;
#include &lt;stdexcept&gt;
#include &lt;cmath&gt;
#include &lt;utility&gt;
#include &lt;vector&gt;
#include &lt;memory&gt;
#include &lt;algorithm&gt;
#define pi 3.14159
#define eps 1E-10

typedef std::pair&lt;double, double&gt; Tacka;

using namespace std;

class Trougao {
    Tacka A,B,C;
    static bool Isti(double a, double b) { if (fabs(a-b)&lt;=eps*(fabs(a)+fabs(b))) return true; return false; };
    static double UbivenaPomocna(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3) { return t1.first*(t2.second-t3.second)-t2.first*(t1.second-t3.second)+t3.first*(t1.second-t2.second); };
    public:
    
    Trougao(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3);
    void Postavi(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3) ;
    void Postavi(int indeks,const Tacka &amp;t);
    static int Orijentacija(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3) { double orijentacija=UbivenaPomocna(t1,t2,t3); if(orijentacija&gt;0) return 1; else if(orijentacija&lt;0) return -1; else return 0; };
    Tacka DajTjeme(int indeks) const;
    double DajStranicu(int indeks) const;
    double DajUgao(int indeks) const;
    Tacka DajCentar() const;
    double DajObim() const;
    double DajPovrsinu() const;
    bool DaLiJePozitivnoOrjentiran() const;
    bool DaLiJeUnutra(const Tacka &amp;t) const;
    void Ispisi() const;
    void Transliraj(double delta_x,double delta_y);
    void Centriraj(const Tacka &amp;t);
    void Rotiraj(const Tacka &amp;t, double ugao);
    void Skaliraj(const Tacka &amp;t, double faktor);
    void Rotiraj(double ugao); 
    void Skaliraj(double faktor);
    friend bool DaLiSuIdenticni(const Trougao &amp;t1, const Trougao &amp;t2);
    friend bool DaLiSuPodudarni(const Trougao &amp;t1, const Trougao &amp;t2);
    friend bool DaLiSuSlicni(const Trougao &amp;t1, const Trougao &amp;t2);
};
Trougao::Trougao(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3) {
    if(Trougao::Orijentacija(t1,t2,t3)==0) throw domain_error ("Nekorektne pozicije tjemena");
    else {
        A.first=t1.first; A.second=t1.second;
        B.first=t2.first; B.second=t2.second;
        C.first=t3.first; C.second=t3.second;
    }
}
void Trougao::Postavi(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3){
    if(Trougao::Orijentacija(t1,t2,t3)==0) throw domain_error ("Nekorektne pozicije tjemena");
    else {
        A.first=t1.first; A.second=t1.second;
        B.first=t2.first; B.second=t2.second;
        C.first=t3.first; C.second=t3.second;
    }
}
void Trougao::Postavi(int indeks,const Tacka &amp;t) {
    if(indeks!=1 &amp;&amp; indeks!=2 &amp;&amp; indeks!=3) throw range_error ("Nekorektan indeks");
    switch( indeks ) {
        case 1:
             A.first=t.first; A.second=t.second;
             break;
        case 2:
             B.first=t.first; B.second=t.second;
             break;
        case 3:
             C.first=t.first; C.second=t.second;
             break;
    }
    if(Trougao::Orijentacija(A,B,C)==0) throw domain_error ("Nekorektne pozicije tjemena");
}
Tacka Trougao::DajTjeme(int indeks) const {
    if(indeks!=1 &amp;&amp; indeks!=2 &amp;&amp; indeks!=3) throw range_error ("Nekorektan indeks");
    switch( indeks ) {
        case 1:
             return A;
        case 2:
             return B;
        case 3:
             return C;
    }
    return A;
}

double Trougao::DajStranicu(int indeks) const {
    if(indeks!=1 &amp;&amp; indeks!=2 &amp;&amp; indeks!=3) throw range_error ("Nekorektan indeks");
    switch( indeks ) {
        case 1:
             return sqrt((B.first-C.first)*(B.first-C.first)+(B.second-C.second)*(B.second-C.second));
        case 2:
             return sqrt((A.first-C.first)*(A.first-C.first)+(A.second-C.second)*(A.second-C.second));
        case 3:
             return sqrt((B.first-A.first)*(B.first-A.first)+(B.second-A.second)*(B.second-A.second));
    }
    return 0;
}

double Trougao::DajUgao(int indeks) const {
    if(indeks!=1 &amp;&amp; indeks!=2 &amp;&amp; indeks!=3) throw range_error ("Nekorektan indeks");
    double a,b,c;
    a=Trougao::DajStranicu(1);
    b=Trougao::DajStranicu(2);
    c=Trougao::DajStranicu(3);
    switch( indeks ) {
        case 1:
            return ((acos((b*b+c*c-a*a)/(2*b*c)))*180/pi);
        case 2:
            return ((acos((a*a+c*c-b*b)/(2*a*c)))*180/pi);
        case 3:
            return ((acos((b*b+a*a-c*c)/(2*b*a)))*180/pi);
    }
    return 0;
}

Tacka Trougao::DajCentar() const {
    Tacka centar;
    centar.first=(A.first+B.first+C.first)/3;
    centar.second=(A.second+B.second+C.second)/3;
    return centar;
}

double Trougao::DajObim() const {
    return Trougao::DajStranicu(1)+Trougao::DajStranicu(2)+Trougao::DajStranicu(3);
}

double Trougao::DajPovrsinu() const {
    return fabs(UbivenaPomocna(A,B,C))/2;
}

bool Trougao::DaLiJePozitivnoOrjentiran() const {
    if(Trougao::Orijentacija(A,B,C)==1) return true;
    else return false;
}

bool Trougao::DaLiJeUnutra(const Tacka &amp;t) const {
    if(Trougao::Orijentacija(A,B,C)==1) {
        if(Trougao::Orijentacija(A,B,t)==1 &amp;&amp; Trougao::Orijentacija(B,C,t)==1 &amp;&amp; Trougao::Orijentacija(C,A,t)==1) return true;
    }
    else if(Trougao::Orijentacija(A,B,C)==-1) {
        if(Trougao::Orijentacija(A,B,t)==-1 &amp;&amp; Trougao::Orijentacija(B,C,t)==-1 &amp;&amp; Trougao::Orijentacija(C,A,t)==-1) return false;
    }
    return false;
}

void Trougao::Ispisi() const {
    cout&lt;&lt;"(("&lt;&lt;A.first&lt;&lt;","&lt;&lt;A.second&lt;&lt;"),("&lt;&lt;B.first&lt;&lt;","&lt;&lt;B.second&lt;&lt;"),("&lt;&lt;C.first&lt;&lt;","&lt;&lt;C.second&lt;&lt;"))";
}

void Trougao::Transliraj(double delta_x, double delta_y) {
    A.first+=delta_x; A.second+=delta_y;
    B.first+=delta_x; B.second+=delta_y;
    C.first+=delta_x; C.second+=delta_y;
}

void Trougao::Centriraj(const Tacka &amp;t) {
    Trougao::Transliraj(Trougao::DajCentar().first-t.first,Trougao::DajCentar().second-t.second);
}

void Trougao::Rotiraj(const Tacka &amp;t, double ugao) {
    Tacka pom;
    pom.first=t.first+(A.first-t.first)*cos(ugao)-(A.second-t.second)*sin(ugao);
    
    pom.second=t.second+(A.first-t.first)*sin(ugao)+(A.second-t.second)*cos(ugao);
    
<a name="3"></a><font color="#00FFFF"><a href="match979-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_0.gif"/></a>

    A.first=pom.first; A.second=pom.second;
    
    pom.first=t.first+(B.first-t.first)*cos(ugao)-(B.second-t.second)*sin(ugao);
</font>    pom.second=t.second+(B.first-t.first)*sin(ugao)+(B.second-t.second)*cos(ugao);
    B.first=pom.first; B.second=pom.second;
    pom.first=t.first+(C.first-t.first)*cos(ugao)-(C.second-t.second)*sin(ugao);
    pom.second=t.second+(C.first-t.first)*sin(ugao)+(C.second-t.second)*cos(ugao);
    C.first=pom.first; C.second=pom.second;
}

void Trougao::Skaliraj(const Tacka &amp;t, double faktor) {
<a name="4"></a><font color="#FF00FF"><a href="match979-1.html#4" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_0.gif"/></a>

    if(Isti(faktor,0)) throw domain_error ("Nekorektan faktor skaliranja");
    A.first=t.first+faktor*(A.first-t.first);
    A.second=t.second+faktor*(A.second-t.second);
</font>    B.first=t.first+faktor*(B.first-t.first);
    B.second=t.second+faktor*(B.second-t.second);
    C.first=t.first+faktor*(C.first-t.first);
    C.second=t.second+faktor*(C.second-t.second);

}

void Trougao::Rotiraj(double ugao) {
    Tacka centar=Trougao::DajCentar();
    Trougao::Rotiraj(centar,ugao);
}

void Trougao::Skaliraj(double faktor) {
    Tacka centar=Trougao::DajCentar(); 
    Trougao::Skaliraj(centar,faktor);
}

bool DaLiSuIdenticni(const Trougao &amp;t1, const Trougao &amp;t2) {
    bool prva=false,druga=false,treca=false;
    if((Trougao::Isti(t1.A.first,t2.A.first) &amp;&amp; Trougao::Isti(t1.A.second,t2.A.second)) || ((Trougao::Isti(t1.A.first,t2.B.first)) &amp;&amp; (Trougao::Isti(t1.A.second,t2.B.second))) || 
    (Trougao::Isti(t1.A.first,t2.C.first) &amp;&amp; Trougao::Isti(t1.A.second,t2.C.second))) prva=true;
    
    if((Trougao::Isti(t1.B.first,t2.A.first) &amp;&amp; Trougao::Isti(t1.B.second,t2.A.second)) || ((Trougao::Isti(t1.B.first,t2.B.first)) &amp;&amp; (Trougao::Isti(t1.B.second,t2.B.second))) || 
    (Trougao::Isti(t1.B.first,t2.C.first) &amp;&amp; Trougao::Isti(t1.B.second,t2.C.second))) druga=true;
    
    if((Trougao::Isti(t1.C.first,t2.A.first) &amp;&amp; Trougao::Isti(t1.C.second,t2.A.second)) || ((Trougao::Isti(t1.C.first,t2.B.first)) &amp;&amp; (Trougao::Isti(t1.C.second,t2.B.second))) || 
    (Trougao::Isti(t1.C.first,t2.C.first) &amp;&amp; Trougao::Isti(t1.C.second,t2.C.second))) treca=true;
    
    if(prva==true &amp;&amp; druga==true &amp;&amp; treca==true) return true;
    else return false;
}

bool DaLiSuSlicni(const Trougao &amp;t1, const Trougao &amp;t2) {
    double alfa1=t1.DajUgao(1), beta1=t1.DajUgao(2), gama1=t1.DajUgao(3), alfa2=t2.DajUgao(1), beta2=t2.DajUgao(2), gama2=t2.DajUgao(3);
    int n=Trougao::Orijentacija(t1.A,t1.B,t1.C), n1=Trougao::Orijentacija(t2.A,t2.B,t2.C);
    if(n==n1) {
        if((Trougao::Isti(alfa1,alfa2) &amp;&amp; Trougao::Isti(beta1,beta2)) || (Trougao::Isti(alfa1,gama2) &amp;&amp; Trougao::Isti(beta1,alfa2)) || (Trougao::Isti(alfa1,beta2) &amp;&amp; Trougao::Isti(beta1,gama2))) return true;
    }
    if(n!=n1) {
        if((Trougao::Isti(alfa1,alfa2) &amp;&amp; Trougao::Isti(beta1,gama2)) || (Trougao::Isti(gama1,gama2) &amp;&amp; Trougao::Isti(alfa1,beta2)) || (Trougao::Isti(beta1,beta2) &amp;&amp; Trougao::Isti(alfa1,gama2))) return true;
    }
    return false;
    
}

bool DaLiSuPodudarni(const Trougao &amp;t1, const Trougao &amp;t2) {
    double alfa1=t1.DajUgao(1), beta1=t1.DajUgao(2), gama1=t1.DajUgao(3), alfa2=t2.DajUgao(1), beta2=t2.DajUgao(2), gama2=t2.DajUgao(3);
    double P1=t1.DajPovrsinu(), P2=t2.DajPovrsinu();
    int n=Trougao::Orijentacija(t1.A,t1.B,t1.C), n1=Trougao::Orijentacija(t2.A,t2.B,t2.C);
     if(n==n1) {
        if(((Trougao::Isti(alfa1,alfa2) &amp;&amp; Trougao::Isti(beta1,beta2)) || (Trougao::Isti(alfa1,gama2) &amp;&amp; Trougao::Isti(beta1,alfa2)) || (Trougao::Isti(alfa1,beta2) &amp;&amp; Trougao::Isti(beta1,gama2))) &amp;&amp;
        Trougao::Isti(P1,P2)) return true;
     }
     if(n!=n1) {
        if(((Trougao::Isti(alfa1,alfa2) &amp;&amp; Trougao::Isti(beta1,gama2)) || (Trougao::Isti(gama1,gama2) &amp;&amp; Trougao::Isti(alfa1,beta2)) || (Trougao::Isti(beta1,beta2) &amp;&amp; Trougao::Isti(alfa1,gama2))) &amp;&amp; 
        Trougao::Isti(P1,P2)) return true;
     }
    return false;
}

int main ()
{
    cout &lt;&lt; "Koliko zelite kreirati trouglova: ";
    int n; cin&gt;&gt;n;
    vector&lt;shared_ptr&lt;Trougao&gt; &gt; vektor(n, nullptr);
    int i(0);
    while(i&lt;n) {
        cout&lt;&lt;"Unesite podatke za "&lt;&lt;i+1&lt;&lt;". trougao (x1 y1 x2 y2 x3 y3): ";
        int x,y,x1,y1,x2,y2; cin&gt;&gt;x&gt;&gt;y&gt;&gt;x1&gt;&gt;y1&gt;&gt;x2&gt;&gt;y2;
        Tacka A=make_pair(x,y);
        Tacka B=make_pair(x1,y1);
        Tacka C=make_pair(x2,y2);
        try {
            vektor[i]=make_shared&lt;Trougao&gt; (A,B,C);
        }catch(domain_error e) { cout&lt;&lt;e.what()&lt;&lt;", ponovite unos!"&lt;&lt;endl; i--; }
        i++;
    }
    
    cout&lt;&lt; "Unesite vektor translacije (dx dy): ";
    double dx,dy;
    cin&gt;&gt;dx&gt;&gt;dy;
    
    transform(vektor.begin(), vektor.end(), vektor.begin(), [dx,dy] (shared_ptr&lt;Trougao&gt; trougao) {trougao-&gt;Transliraj(dx,dy); return trougao;});

    cout&lt;&lt; "Unesite ugao rotacije: ";
    double fi;
    cin&gt;&gt;fi;
    
    transform(vektor.begin(),vektor.end(),vektor.begin(), [fi](shared_ptr&lt;Trougao&gt; trougao) {trougao-&gt;Rotiraj(trougao-&gt;DajCentar(),fi); return trougao;});

    cout&lt;&lt; "Unesite faktor skaliranja: ";
    double faktor;
    cin&gt;&gt;faktor;
    try{
        transform(vektor.begin(), vektor.end(), vektor.begin(), [faktor] (shared_ptr&lt;Trougao&gt; trougao) {trougao-&gt;Skaliraj(trougao-&gt;DajTjeme(1),faktor); return trougao;});
    }catch(domain_error e) { cout&lt;&lt;e.what(); }

    cout&lt;&lt; "Trouglovi nakon obavljenih transformacija:\n";
    
<a name="5"></a><font color="#FF0000"><a href="match979-1.html#5" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_0.gif"/></a>

    sort(vektor.begin(), vektor.end(), [](shared_ptr&lt;Trougao&gt; trougao, shared_ptr&lt;Trougao&gt; trougao1) {return trougao-&gt;DajPovrsinu()&lt;trougao1-&gt;DajPovrsinu();});
    
    for_each(vektor.begin(), vektor.end(), [] (shared_ptr&lt;Trougao&gt; trougao) {trougao-&gt;Ispisi(); cout&lt;&lt;endl;});
</font>    
<a name="6"></a><font color="#00FF00"><a href="match979-1.html#6" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_0.gif"/></a>

    auto najmanji = *min_element(vektor.begin(), vektor.end(), [](shared_ptr&lt;Trougao&gt; tr, shared_ptr&lt;Trougao&gt; tr1) {return tr-&gt;DajObim()&lt;tr1-&gt;DajObim();});
</font>    
    cout&lt;&lt; "Trougao sa najmanjim obimom: "; najmanji-&gt;Ispisi(); cout&lt;&lt;endl;
    
    vector&lt;pair&lt;Trougao, Trougao&gt; &gt; Identicni;
    bool ima=false;
    for(int j(0);j&lt;vektor.size()-1;j++) {
        for(int k=j+1;k&lt;vektor.size();k++) {
<a name="7"></a><font color="#0000FF"><a href="match979-1.html#7" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_0.gif"/></a>

            if(DaLiSuIdenticni(*vektor[j], *vektor[k])) {
                Identicni.push_back(make_pair(*vektor[j], *vektor[k]));
</font>                ima=true;
            }
        }
    }
    if(!ima) cout&lt;&lt; "Nema identicnih trouglova!\n";
    else {
        ima=false;
<a name="0"></a><font color="#FF0000"><a href="match979-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_1.gif"/></a>

        cout&lt;&lt; "Parovi identicnih trouglova:"&lt;&lt;endl;
        for_each(Identicni.begin(), Identicni.end(), [](pair&lt;Trougao, Trougao&gt; par) {par.first.Ispisi(); cout&lt;&lt;" i "; par.second.Ispisi(); cout&lt;&lt;endl;});
</font>    }
    
    vector&lt;pair&lt;Trougao, Trougao&gt; &gt; Podudarni;
     for(int j(0);j&lt;vektor.size()-1;j++) {
        for(int k=j+1;k&lt;vektor.size();k++) {
<a name="8"></a><font color="#00FFFF"><a href="match979-1.html#8" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_0.gif"/></a>

            if(DaLiSuPodudarni(*vektor[j], *vektor[k])) {
                Podudarni.push_back(make_pair(*vektor[j], *vektor[k]));
</font>                ima = true;
            }
        }
    }
    if(!ima) cout&lt;&lt; "Nema podudarnih trouglova!\n";
    else {
        ima=false;
<a name="1"></a><font color="#00FF00"><a href="match979-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_1.gif"/></a>

         cout&lt;&lt; "Parovi podudarnih trouglova:"&lt;&lt;endl;
         for_each(Podudarni.begin(), Podudarni.end(), [](pair&lt;Trougao, Trougao&gt; par) {par.first.Ispisi(); cout&lt;&lt;" i "; par.second.Ispisi(); cout&lt;&lt;endl;});
</font>    }
    
    vector&lt;pair&lt;Trougao, Trougao&gt; &gt; Slicni;
    for(int j(0);j&lt;vektor.size()-1;j++) {
        for(int k=j+1;k&lt;vektor.size();k++) {
<a name="9"></a><font color="#FF00FF"><a href="match979-1.html#9" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_0.gif"/></a>

            if(DaLiSuSlicni(*vektor[j], *vektor[k])) {
                Slicni.push_back(make_pair(*vektor[j], *vektor[k]));
</font>                ima = true;
            }
        }
    }
    if(!ima) cout&lt;&lt; "Nema slicnih trouglova!\n";
    else {
<a name="2"></a><font color="#0000FF"><a href="match979-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_1.gif"/></a>

        cout&lt;&lt;"Parovi slicnih trouglova:"&lt;&lt;endl;
        for_each(Slicni.begin(), Slicni.end(),[] ( pair&lt;Trougao, Trougao&gt; par) { par.first.Ispisi(); cout&lt;&lt;" i "; par.second.Ispisi(); cout&lt;&lt;endl; });
</font>    }
        
    
	return 0;
}
</pre>
</body>
</html>
