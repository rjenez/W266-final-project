<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z1/student4878.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z1/student1465.cpp<p></p><pre>
/B 2016/2017, ZadaÄ‡a 4, Zadatak 1
//Napomena: testovi ce biti dostupni dan pred rok!
#include &lt;iostream&gt;
#include &lt;stdexcept&gt;
#include &lt;memory&gt;
#include &lt;utility&gt;
#include &lt;algorithm&gt;
#include &lt;cmath&gt;
#include &lt;vector&gt;
using namespace std;
const double eps = 1e-10;
typedef pair&lt;double, double&gt; Tacka;

class Trougao {
    Tacka t1, t2, t3;
    //pomocne funkcije
    void TestIndeksa(int indeks) const {
        if(indeks != 1 &amp;&amp; indeks != 2 &amp;&amp; indeks != 3) throw range_error("Nekorektan indeks");
    }
    double DaLiSuKolinearne(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3) {
        return ((t1.first)*(t2.second - t3.second) - (t2.first)*(t1.second - t3.second) + t3.first*(t1.second - t2.second));
         //   throw domain_error("Nekorektne pozicije tjemena");
    }
    double DuzinaStranice(const Tacka &amp;t1, const Tacka &amp;t2) const {
        return sqrt(((t1.first - t2.first)*(t1.first - t2.first)) + (t1.second - t2.second)*(t1.second - t2.second));
    }
    static int za_orijentaciju(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3) {
        return ((t1.first)*(t2.second - t3.second) - (t2.first)*(t1.second - t3.second) + (t3.first)*(t1.second - t2.second));
    }
    static bool DaLiSuJednaki(const double &amp;x, const double &amp;y) {
        return abs(x - y) &lt;= eps*(abs(x) + abs(y));
    }
public:
    Trougao(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3) {
        if (DaLiSuKolinearne(t1, t2, t3) == 0.0) throw std::domain_error ("Nekorektne pozicije tjemena");
        Trougao::t1 = t1;
        Trougao::t2 = t2;
        Trougao::t3 = t3;
    }
    void Postavi(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3) {
        if(DaLiSuKolinearne(t1,t2,t3) == 0.0) throw std::domain_error ("Nekorektne pozicije tjemena");
        Trougao::t1 = t1;
        Trougao::t2 = t2;
        Trougao::t3 = t3;
    }
    void Postavi(int indeks, const Tacka &amp;t) {
        TestIndeksa(indeks);
        if (DaLiSuKolinearne(t1, t2, t3) == 0.0) throw std::domain_error ("Nekorektne pozicije tjemena");
        if(indeks == 1) {
            Trougao::t1 = t;
        }
        else if(indeks == 2) {
           
            Trougao::t2 = t;
        }
        else if(indeks == 3) {
            
            Trougao::t3 = t; 
        }
    }
    static int Orijentacija(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3) {
        if(za_orijentaciju(t1, t2, t3) &gt; 0) return 1;
        else if(za_orijentaciju(t1, t2, t3) &lt; 0) return -1;
        else return 0;
    }
    Tacka DajTjeme(int indeks) const {
        TestIndeksa(indeks);
        if(indeks == 1) return t1;
        else if(indeks == 2) return t2;
        else return t3;
    }
    double DajStranicu(int indeks) const {
        TestIndeksa(indeks);
        if(indeks == 1) { 
            return DuzinaStranice(t2, t3);
        }
        else if(indeks == 2) {
            return DuzinaStranice(t1, t3);
        }
        else return DuzinaStranice(t1, t2);
    }
    double DajUgao(int indeks) const {
        TestIndeksa(indeks);
        double a = DuzinaStranice(t2, t3);
        double b = DuzinaStranice(t1, t3);
        double c = DuzinaStranice(t1, t2);
        if(indeks == 1) {
            return acos((b*b + c*c - a*a)/(2*b*c));
        }
        else if(indeks == 2) {
            return acos((a*a + c*c - b*b)/(2*a*c));
        }
        else return acos((a*a + b*b - c*c)/(2*a*b));
    }
    Tacka DajCentar() const {
        Tacka centar;
        centar.first = (t1.first + t2.first + t3.first)/3;
        centar.second = (t1.second + t2.second + t3.second)/3;
        return centar;
    }
    double DajObim() const {
        double a = DuzinaStranice(t2, t3);
        double b = DuzinaStranice(t1, t3);
        double c = DuzinaStranice(t1, t2);
        return a + b + c;
    }
    double DajPovrsinu() const {
        return (abs(za_orijentaciju(t1, t2, t3)))/2;
    }
    bool DaLiJePozitivnoOrijentiran() const {
        if(za_orijentaciju(t1, t2, t3) &gt; 0) return true;
        return false;
    }
    bool DaLiJeUnutra(const Tacka &amp;t) const {
        int q=Orijentacija(t1,t2,t3);
        if((Orijentacija(t1, t2, t)==q || Orijentacija(t1,t2,t)==0) &amp;&amp; (Orijentacija(t2, t3, t)==q || Orijentacija(t2,t3,t)==0) &amp;&amp; (Orijentacija(t3, t1, t)==q || Orijentacija(t3,t1,t)==0)) return true;
<a name="0"></a><font color="#FF0000"><a href="match842-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_2.gif"/></a>

    return false;
    }
    
    void Ispisi() const {
        cout &lt;&lt; "((" &lt;&lt; t1.first &lt;&lt; "," &lt;&lt; t1.second &lt;&lt; "),(" &lt;&lt; t2.first &lt;&lt; "," &lt;&lt; t2.second &lt;&lt; "),(" &lt;&lt; t3.first &lt;&lt; "," &lt;&lt; t3.second &lt;&lt; "))";
    }
    void Transliraj(double delta_x, double delta_y);
    void Centriraj(const Tacka &amp;t); 
    void Rotiraj(const Tacka &amp;t, double ugao);
    void Skaliraj(const Tacka &amp;t, double faktor);
</font>    void Rotiraj(double ugao);  
    void Skaliraj(double faktor);
    friend bool DaLiSuIdenticni(const Trougao &amp;t1, const Trougao &amp;t2);
    friend bool DaLiSuPodudarni(const Trougao &amp;t1, const Trougao &amp;t2);
    friend bool DaLiSuSlicni(const Trougao &amp;t1, const Trougao &amp;t2);
};
//////////////////////////////////////////////////////IMPLEMENTACIJE///////////////////////////////////////////////////////
void Trougao::Transliraj(double delta_x, double delta_y) {
    Tacka a1 = t1; Tacka a2 = t2; Tacka a3 = t3;
    t1.first = a1.first + delta_x;
    t1.second = a1.second + delta_y;
    t2.first = a2.first + delta_x;
    t2.second = a2.second + delta_y;
    t3.first = a3.first + delta_x;
    t3.second = a3.second + delta_y;
}
<a name="1"></a><font color="#00FF00"><a href="match842-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_1.gif"/></a>

void Trougao::Centriraj(const Tacka &amp;t) {
    auto centar = DajCentar();
    double delta_x = t.first - centar.first;
    double delta_y = t.second - centar.second;
    Transliraj(delta_x, delta_y);
}
void Trougao::Rotiraj(const Tacka &amp;t, double ugao) {
</font><a name="6"></a><font color="#00FF00"><a href="match842-0.html#6" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_0.gif"/></a>

    Tacka r1 = t1; Tacka r2 = t2; Tacka r3 = t3;
    t1.first = t.first + (r1.first - t.first)*cos(ugao) - (r1.second - t.second)*sin(ugao);
</font>    t1.second = t.second + (r1.first - t.first)*sin(ugao) + (r1.second - t.second)*cos(ugao);
    t2.first = t.first + (r2.first - t.first)*cos(ugao) - (r2.second - t.second)*sin(ugao);
    t2.second = t.second + (r2.first - t.first)*sin(ugao) + (r2.second - t.second)*cos(ugao);
    t3.first = t.first + (r3.first - t.first)*cos(ugao) - (r3.second - t.second)*sin(ugao);
    t3.second = t.second + (r3.first - t.first)*sin(ugao) + (r3.second - t.second)*cos(ugao);
}
void Trougao::Skaliraj(const Tacka &amp;t, double faktor) {
    if(faktor == 0.0) throw domain_error("Nekorektan faktor skaliranja");
<a name="7"></a><font color="#0000FF"><a href="match842-0.html#7" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_0.gif"/></a>

    Tacka s1 = t1; Tacka s2 = t2; Tacka s3 = t3;
    t1.first = t.first + faktor*(s1.first - t.first);
    t1.second = t.second + faktor*(s1.second - t.second);
</font>    t2.first = t.first + faktor*(s2.first - t.first);
    t2.second = t.second + faktor*(s2.second - t.second);
    t3.first = t.first + faktor*(s3.first - t.first);
    t3.second = t.second + faktor*(s3.second - t.second);
}
void Trougao::Rotiraj(double ugao) {
    Tacka r1 = t1; Tacka r2 = t2; Tacka r3 = t3;
    t1.first = r1.first*cos(ugao) - r1.second*sin(ugao);
    t1.second =r1.first*sin(ugao) - r1.second*cos(ugao);
    t2.first = r2.first*cos(ugao) - r2.second*sin(ugao);
    t2.second =r2.first*sin(ugao) - r2.second*cos(ugao);
    t3.first = r3.first*cos(ugao) - r3.second*sin(ugao);
    t3.second = r3.first*sin(ugao) - r3.second*cos(ugao);
}
void Trougao::Skaliraj(double faktor) {
    if(faktor == 0.0) throw domain_error("Nekorektan faktor skaliranja");
    Tacka s1 = t1; Tacka s2 = t2; Tacka s3 = t3;
    t1.first = faktor*s1.first;
    t1.second = faktor*s1.second;
    t2.first = faktor*s2.first;
    t2.second = faktor*s2.second;
    t3.first = faktor*s3.first;
    t3.second = faktor*s3.second;
}
bool DaLiSuIdenticni(const Trougao &amp;t1, const Trougao &amp;t2) {
    vector&lt;Tacka&gt; prvi, drugi;
    prvi.push_back(t1.t1);
    prvi.push_back(t1.t2);
    prvi.push_back(t1.t3);
    drugi.push_back(t2.t1);
    drugi.push_back(t2.t2);
    drugi.push_back(t2.t3);
    sort(prvi.begin(), prvi.end(), [](Tacka x, Tacka y) {
        return x.second &gt; y.second;
    });
    sort(drugi.begin(), drugi.end(), [](Tacka x, Tacka y) {
        return x.second &gt; y.second;
    }); 
    if(prvi == drugi) return true;
    return false;
}
bool DaLiSuPodudarni(const Trougao &amp;t1, const Trougao &amp;t2) {
    vector&lt;pair&lt;Tacka, double&gt;&gt; prvi, drugi;
    auto a1 = t1.DajStranicu(1);
    auto b1 = t1.DajStranicu(2);
    auto c1 = t1.DajStranicu(3);
    auto a2 = t2.DajStranicu(1);
    auto b2 = t2.DajStranicu(2);
    auto c2 = t2.DajStranicu(3);
    prvi.push_back(make_pair(t1.t1, a1));
    prvi.push_back(make_pair(t1.t2, b1));
    prvi.push_back(make_pair(t1.t3, c1));
    drugi.push_back(make_pair(t2.t1, a2));
    drugi.push_back(make_pair(t2.t2, b2));
    drugi.push_back(make_pair(t2.t3, c2));
    
    sort(prvi.begin(), prvi.end(), [](pair&lt;Tacka, double&gt; x, pair&lt;Tacka, double&gt; y) {
       return x.second &lt; y.second; 
    });
    sort(drugi.begin(), drugi.end(), [](pair&lt;Tacka, double&gt; x, pair&lt;Tacka, double&gt; y) {
        return  x.second &lt; y.second;
    });
    
    if(Trougao::Orijentacija(prvi[0].first, prvi[1].first, prvi[2].first) != Trougao::Orijentacija(drugi[0].first, drugi[1].first, drugi[2].first)) 
        return false;
    else {
        for(int i = 0; i &lt;= 2; i++) {
            if(!Trougao::DaLiSuJednaki(prvi[i].second, drugi[i].second))
                return false;
        }
    }
    return true;
}
bool DaLiSuSlicni(const Trougao &amp;t1, const Trougao &amp;t2) {
    vector&lt;pair&lt;Tacka, double&gt;&gt; prvi, drugi;
    double alfa1 = t1.DajUgao(1);
    double beta1 = t1.DajUgao(2);
    double gama1 = t1.DajUgao(3);
    double alfa2 = t2.DajUgao(1);
    double beta2 = t2.DajUgao(2);
    double gama2 = t2.DajUgao(3);
    prvi.push_back(make_pair(t1.t1, alfa1));
    prvi.push_back(make_pair(t1.t2, beta1));
    prvi.push_back(make_pair(t1.t3, gama1));
    drugi.push_back(make_pair(t2.t1, alfa2));
    drugi.push_back(make_pair(t2.t2, beta2));
    drugi.push_back(make_pair(t2.t3, gama2));
    
    sort(prvi.begin(), prvi.end(), [](pair&lt;Tacka, double&gt; x, pair&lt;Tacka, double&gt; y) {
       return x.second &lt; y.second; 
    });
    
    sort(drugi.begin(), drugi.end(), [](pair&lt;Tacka, double&gt; x, pair&lt;Tacka, double&gt; y) {
       return x.second &lt; y.second;
    });
    if(Trougao::Orijentacija(prvi[0].first, prvi[1].first, prvi[2].first) != Trougao::Orijentacija(drugi[0].first, drugi[1].first, drugi[2].first))
        return false;
    else {
        for(int i = 0; i &lt;= 2; i++) {
            if(!Trougao::DaLiSuJednaki(prvi[i].second, drugi[i].second))
                return false;
        }
    }
    return true;
}
int main() {
    int n;
    cout &lt;&lt; "Koliko zelite kreirati trouglova: ";
    cin &gt;&gt; n;
    vector&lt;shared_ptr&lt;Trougao&gt;&gt; trouglovi;
    double x1, y1, x2, y2, x3, y3;
    for(int i{0}; i &lt; n; i++) {
        cout &lt;&lt; "Unesite podatke za " &lt;&lt; i+1 &lt;&lt; ". trougao (x1 y1 x2 y2 x3 y3): ";
        cin &gt;&gt; x1 &gt;&gt; y1 &gt;&gt; x2 &gt;&gt; y2 &gt;&gt; x3 &gt;&gt; y3;
        try {
            trouglovi.push_back(make_shared&lt;Trougao&gt;(Trougao(Tacka(x1, y1), Tacka(x2, y2), Tacka(x3, y3))));
            }
        catch(domain_error poruka) {
            cout &lt;&lt; poruka.what();
            cout &lt;&lt; ", ponovite unos!" &lt;&lt; endl;
            i--;
        }
        
    }
    double delta_x, delta_y;
    cout &lt;&lt; "Unesite vektor translacije (dx dy): ";
    cin &gt;&gt; delta_x &gt;&gt; delta_y;
    double ugao_rotacije;
    cout &lt;&lt; "Unesite ugao rotacije: ";
    cin &gt;&gt; ugao_rotacije;
    double faktor_skaliranja;
    cout &lt;&lt; "Unesite faktor skaliranja: ";
    cin &gt;&gt; faktor_skaliranja;
    cout &lt;&lt; "Trouglovi nakon obavljenih transformacija:" &lt;&lt; endl;
    transform(trouglovi.begin(), trouglovi.end(), trouglovi.begin(), [=](shared_ptr&lt;Trougao&gt; original) {
        original-&gt;Transliraj(delta_x, delta_y);
        original-&gt;Rotiraj(original-&gt;DajCentar(), ugao_rotacije);
<a name="2"></a><font color="#0000FF"><a href="match842-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_1.gif"/></a>

        original-&gt;Skaliraj(original-&gt;DajTjeme(1), faktor_skaliranja);
        return original;
    });
    sort(trouglovi.begin(), trouglovi.end(), [](shared_ptr&lt;Trougao&gt; t1, shared_ptr&lt;Trougao&gt; t2) {
        return t1-&gt;DajPovrsinu() &lt; t2-&gt;DajPovrsinu();
    });
    for_each(trouglovi.begin(), trouglovi.end(), [](shared_ptr&lt;Trougao&gt; t) {
</font>        t-&gt;Ispisi(); 
        cout &lt;&lt; endl; 
    });
    cout &lt;&lt; "Trougao sa najmanjim obimom: ";
<a name="3"></a><font color="#00FFFF"><a href="match842-0.html#3" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_1.gif"/></a>

    auto p = min_element(trouglovi.begin(), trouglovi.end(), [](shared_ptr&lt;Trougao&gt; t1, shared_ptr&lt;Trougao&gt; t2) {
        return t1-&gt;DajObim() &lt; t2-&gt;DajObim();
    });
    shared_ptr&lt;Trougao&gt; najmanji;
</font>    najmanji = *p;
    najmanji-&gt;Ispisi();
    cout &lt;&lt; endl;
    
    int ima_li_identicnih = 0;
    for(int i{0}; i &lt; n; i++) {
        for(int j{i+1}; j &lt; n; j++) {
            if(DaLiSuIdenticni(*trouglovi[i], *trouglovi[j])) {
                if(ima_li_identicnih == 0) cout &lt;&lt; "Parovi identicnih trouglova: " &lt;&lt; endl;
                ima_li_identicnih++;
<a name="4"></a><font color="#FF00FF"><a href="match842-0.html#4" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_1.gif"/></a>

                trouglovi[i]-&gt;Ispisi();
                cout &lt;&lt; " i ";
                trouglovi[j]-&gt;Ispisi();
                cout &lt;&lt; endl;
            }
        }
    }
    if(ima_li_identicnih == 0) cout &lt;&lt; "Nema identicnih trouglova!" &lt;&lt; endl;
    
    int ima_li_podudarnih = 0;
</font>    for(int i{0}; i &lt; n; i++) {
        for(int j{i+1}; j &lt; n; j++) {
            if(DaLiSuPodudarni(*trouglovi[i], *trouglovi[j])) {
                if (ima_li_podudarnih == 0) cout &lt;&lt; "Parovi podudarnih trouglova: " &lt;&lt; endl;
                ima_li_podudarnih++;
<a name="5"></a><font color="#FF0000"><a href="match842-0.html#5" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_1.gif"/></a>

                trouglovi[i]-&gt;Ispisi();
                cout &lt;&lt; " i ";
                trouglovi[j]-&gt;Ispisi();
                cout &lt;&lt; endl;
            }
        }
    }
    if(ima_li_podudarnih == 0) cout &lt;&lt; "Nema podudarnih trouglova!" &lt;&lt; endl;
    
   
    int ima_li_slicnih = 0;
</font>    for(int i{0}; i &lt; n; i++) {
        for(int j{i+1}; j &lt; n; j++) {
            if(DaLiSuSlicni(*trouglovi[i], *trouglovi[j])) {
                if(ima_li_slicnih == 0) cout &lt;&lt; "Parovi slicnih trouglova: " &lt;&lt; endl;
                ima_li_slicnih++;
                trouglovi[i]-&gt;Ispisi();
                cout &lt;&lt; " i ";
                trouglovi[j]-&gt;Ispisi();
                cout &lt;&lt; endl;
            }
        }
    }
    if(ima_li_slicnih == 0) cout &lt;&lt; "Nema slicnih trouglova!";
    return 0;
}










</pre>
</body>
</html>
