<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z1/student2513.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z1/student2513.cpp<p></p><pre>
<a name="2"></a><font color="#0000FF"><a href="match86-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_8.gif"/></a>

/B 2016/2017, ZadaÄ‡a 4, Zadatak 1
//Napomena: testovi ce biti dostupni dan pred rok!
#include &lt;iostream&gt;
#include &lt;stdexcept&gt;
#include &lt;cmath&gt;
#include &lt;vector&gt;
#include &lt;algorithm&gt;
#include &lt;memory&gt;
#include &lt;utility&gt;
typedef  std::pair&lt;double, double&gt;Tacka;



bool jednaki(double a, double b)
{
    return fabs(a-b)&lt;0.000001;
}

class Trougao
{
    Tacka A,B,C;

public:
    Trougao(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3) {
        if(Orijentacija(t1,t2,t3)==0)
            throw std::domain_error("Nekorektne pozicije tjemena");
        A=t1;
        B=t2;
        C=t3;
    }
    void Postavi (const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3) {
        A=t1;
        B=t2;
        C=t3;
    }
    void Postavi (int indeks, const Tacka &amp;t) {
        if(indeks!=1 &amp;&amp; indeks!=2 &amp;&amp; indeks!=3) throw std::range_error("Nekorektan indeks");
        if(indeks==1) A=t;
        if(indeks==2) B=t;
        if(indeks==3) C=t;
    }
    static int Orijentacija(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3) {
        if((t1.first*(t2.second-t3.second)-t2.first*(t1.second-t3.second)+t3.first*(t1.second-t2.second))&gt;0)
            return 1;
        else return -1;
    }
    Tacka DajTjeme (int indeks) const {
        if(indeks&lt;1 || indeks &gt;3) throw std::range_error("Nekorektan indeks");
        if(indeks==1) return A;
        else if(indeks==2) return B;
        else return C;
    }

    double DajStranicu (int indeks) const {
        if(indeks&lt;1 || indeks &gt;3) throw std::range_error("Nekorektan indeks");
        if(indeks==1) return sqrt((B.first-C.first)*(B.first-C.first)+(B.second-C.second)*(B.second-C.second));
</font><a name="1"></a><font color="#00FF00"><a href="match86-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_20.gif"/></a>

        else if(indeks==2) return sqrt((A.first-C.first)*(A.first-C.first)+(A.second-C.second)*(A.second-C.second));
        else return sqrt((A.first-B.first)*(A.first-B.first)+(A.second-B.second)*(A.second-B.second));
    }
    double DajUgao (int indeks) const {
        double ugao;
        if(indeks==1) {
            ugao=((*this).DajStranicu(2)*(*this).DajStranicu(2)+(*this).DajStranicu(3)*(*this).DajStranicu(3)-
                  (*this).DajStranicu(1)*(*this).DajStranicu(1))/(2*(*this).DajStranicu(2)*(*this).DajStranicu(3));
        }

        if(indeks==2) {
            ugao=((*this).DajStranicu(1)*(*this).DajStranicu(1)+(*this).DajStranicu(3)*(*this).DajStranicu(3)-
                  (*this).DajStranicu(2)*(*this).DajStranicu(2))/(2*(*this).DajStranicu(1)*(*this).DajStranicu(3));
        }

        if(indeks==3) {
            ugao=((*this).DajStranicu(2)*(*this).DajStranicu(2)+(*this).DajStranicu(1)*(*this).DajStranicu(1)-
                  (*this).DajStranicu(3)*(*this).DajStranicu(3))/(2*(*this).DajStranicu(2)*(*this).DajStranicu(1));
        }
        ugao=acos(ugao);
        return (ugao*atan(1)*4)/180;

    }

    Tacka DajCentar() const {
        Tacka centar;
        centar.first=(A.first+B.first+C.first)/3;
        centar.second=(A.second+B.second+C.second)/3;
        return centar;
    }
    double DajObim() const {
        return (sqrt((B.first-C.first)*(B.first-C.first)+(B.second-C.second)*(B.second-C.second))+
                sqrt((A.first-C.first)*(A.first-C.first)+(A.second-C.second)*(A.second-C.second))
                +sqrt((A.first-B.first)*(A.first-B.first)+(A.second-B.second)*(A.second-B.second)));
    }
    double DajPovrsinu() const {
        return abs((A.first*(B.second-C.second)-B.first*(A.second-C.second)+C.first*(A.second-B.second)))/2;
    }
    bool DaLiJePozitivnoOrijentiran() const {
        if(Orijentacija(this-&gt;A,this-&gt;B,this-&gt;C)) return true;
        else return false;
    }
    bool DaLiJeUnutra(const Tacka &amp;t) const {
        if(Orijentacija(A,B,C)==Orijentacija(A,B,t)==Orijentacija(B,C,t)==Orijentacija(C,A,t)) return true;
        return false;
    }
    void Ispisi()const {
        std::cout&lt;&lt;"("&lt;&lt;"("&lt;&lt;A.first&lt;&lt;","&lt;&lt;A.second&lt;&lt;")"&lt;&lt;","&lt;&lt;"("&lt;&lt;B.first&lt;&lt;","&lt;&lt;B.second&lt;&lt;")"&lt;&lt;","&lt;&lt;"("&lt;&lt;C.first&lt;&lt;","&lt;&lt;C.second&lt;&lt;")"&lt;&lt;")";
    }
    void Transliraj(double delta_x, double delta_y) {
        A.first=A.first+delta_x;
        B.first=B.first+delta_x;
        C.first=C.first+delta_x;
        A.second=A.second+delta_y;
        B.second=B.second+delta_y;
        C.second=C.second+delta_y;
    }
    void Centriraj (const Tacka &amp;t) {
        Tacka pomocna=(*this).DajCentar();
        Transliraj(t.first-pomocna.first,t.second-pomocna.second);
    }

    void Rotiraj (const Tacka &amp;t, double ugao) {
        A.first=(t.first+(A.first-t.first)*cos(ugao)-(A.second-t.second)*sin(ugao));
</font>        A.second=(t.second+(A.first-t.first)*sin(ugao)+(A.second-t.second)*cos(ugao));
        B.first=(t.first+(B.first-t.first)*cos(ugao)-(B.second-t.second)*sin(ugao));
        B.second=(t.second+(B.first-t.first)*sin(ugao)+(B.second-t.second)*cos(ugao));
        C.first=(t.first+(C.first-t.first)*cos(ugao)-(C.second-t.second)*sin(ugao));
<a name="4"></a><font color="#FF00FF"><a href="match86-1.html#4" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_1.gif"/></a>

        C.second=(t.second+(C.first-t.first)*sin(ugao)+(C.second-t.second)*cos(ugao));
    }
    void Skaliraj(const Tacka &amp;t, double faktor) {
        A.first=(t.first+faktor*(A.first-t.first));
        A.second=(t.second+faktor*(A.second-t.second));
</font>        B.first=(t.first+faktor*(B.first-t.first));
        B.second=(t.second+faktor*(B.second-t.second));
<a name="6"></a><font color="#00FF00"><a href="match86-1.html#6" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_1.gif"/></a>

        C.first=(t.first+faktor*(C.first-t.first));
        C.second=(t.second+faktor*(C.second-t.second));
    }
    void Rotiraj (double ugao) {
        Tacka t=(*this).DajCentar();
        A.first=(t.first+(A.first-t.first)*cos(ugao)-(A.second-t.second)*sin(ugao));
</font>        A.second=(t.second+(A.first-t.first)*sin(ugao)+(A.second-t.second)*cos(ugao));
        B.first=(t.first+(B.first-t.first)*cos(ugao)-(B.second-t.second)*sin(ugao));
        B.second=(t.second+(B.first-t.first)*sin(ugao)+(B.second-t.second)*cos(ugao));
        C.first=(t.first+(C.first-t.first)*cos(ugao)-(C.second-t.second)*sin(ugao));
<a name="3"></a><font color="#00FFFF"><a href="match86-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_1.gif"/></a>

        C.second=(t.second+(C.first-t.first)*sin(ugao)+(C.second-t.second)*cos(ugao));
    }
    void Skaliraj(double faktor) {
        Tacka t=(*this).DajCentar();
        A.first=(t.first+faktor*(A.first-t.first));
        A.second=(t.second+faktor*(A.second-t.second));
</font>        B.first=(t.first+faktor*(B.first-t.first));
        B.second=(t.second+faktor*(B.second-t.second));
<a name="0"></a><font color="#FF0000"><a href="match86-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_45.gif"/></a>

        C.first=(t.first+faktor*(C.first-t.first));
        C.second=(t.second+faktor*(C.second-t.second));
    }
    friend bool DaLiSuIdenticni (const Trougao &amp;t1, const Trougao &amp;t2) {
         std::vector&lt;Tacka&gt;v;
        v.push_back(t2.A);
        v.push_back(t2.B);
        v.push_back(t2.C);
        for(int i=0; i&lt;3;i++){
            if(jednaki(t1.A.first,v[i].first) &amp;&amp; jednaki(t1.A.second,v[i].second)){
                v.erase(v.begin()+i);
                i--;
            }
        }
         for(int i=0; i&lt;v.size();i++){
            if(jednaki(t1.B.first,v[i].first) &amp;&amp; jednaki(t1.B.second,v[i].second)){
                v.erase(v.begin()+i);
                i--;
            }
        }
         for(int i=0; i&lt;v.size();i++){
            if(jednaki(t1.C.first,v[i].first) &amp;&amp; jednaki(t1.C.second,v[i].second)){
                v.erase(v.begin()+i);
                i--;
                }
          
            }
            if(v.size()==0) return true;
        return false;
        
    }
    

    friend bool DaLiSuPodudarni (const Trougao &amp;t1, const Trougao &amp;t2) {
        std::vector&lt;std::pair&lt;double, Tacka&gt;&gt;v;
        
        v.push_back(std::pair&lt;double,Tacka&gt;(t1.DajStranicu(1),t1.A));
        v.push_back(std::pair&lt;double,Tacka&gt;(t1.DajStranicu(2),t1.B));
        v.push_back(std::pair&lt;double,Tacka&gt;(t1.DajStranicu(3),t1.C));

        std::vector&lt;std::pair&lt;double, Tacka&gt;&gt;v1;
        v1.push_back(std::pair&lt;double,Tacka&gt;(t2.DajStranicu(1),t2.A));
        v1.push_back(std::pair&lt;double,Tacka&gt;(t2.DajStranicu(2),t2.B));
        v1.push_back(std::pair&lt;double,Tacka&gt;(t2.DajStranicu(3),t2.C));

        sort(v.begin(),v.end(),[](const std::pair&lt;double,Tacka&gt;a, const std::pair&lt;double,Tacka&gt;b) {
            return(a.first&gt;b.first);
        });
        sort(v1.begin(),v1.end(),[](const std::pair&lt;double,Tacka&gt;a, const std::pair&lt;double,Tacka&gt;b) {
            return(a.first&gt;b.first);
        }
    );
    bool logicka=1;
    for(int i=0; i&lt;3; i++) {
    if(!jednaki(v[i].first,v1[i].first)) {
            logicka=false;
            return false;

        }
    }
    if(Orijentacija(v[0].second,v[1].second,v[2].second)==Orijentacija(v1[0].second,v1[1].second,v1[2].second)) return true;
        return false;
    }
friend bool DaLiSuSlicni(const Trougao &amp;t1, const Trougao &amp;t2)
{
    std::vector&lt;std::pair&lt;double, Tacka&gt;&gt;v;
    v.push_back(std::pair&lt;double, Tacka&gt;(t1.DajUgao(1),t1.A));
    v.push_back(std::pair&lt;double, Tacka&gt;(t1.DajUgao(2),t1.B));
    v.push_back(std::pair&lt;double, Tacka&gt;(t1.DajUgao(3),t1.C));

    std::vector&lt;std::pair&lt;double, Tacka&gt;&gt;v1;
    v1.push_back(std::pair&lt;double, Tacka&gt;(t2.DajUgao(1),t2.A));
    v1.push_back(std::pair&lt;double, Tacka&gt;(t2.DajUgao(2),t2.B));
    v1.push_back(std::pair&lt;double, Tacka&gt;(t2.DajUgao(3),t2.C));

    std::sort(v.begin(),v.end(),[](const std::pair&lt;double,Tacka&gt;a, const std::pair&lt;double,Tacka&gt;b) {
        return(a.first&gt;b.first);
    });
    std::sort(v1.begin(),v1.end(),[](const std::pair&lt;double,Tacka&gt;a, const std::pair&lt;double,Tacka&gt;b) {
        return(a.first&gt;b.first);
    }
);
bool logicka=1;
for(int i=0; i&lt;3; i++)
{
if(!jednaki(v[i].first,v1[i].first)) {
        logicka=false;
        return false;

    }
}
if(Orijentacija(v[0].second,v[1].second,v[2].second)==Orijentacija(v1[0].second,v1[1].second,v1[2].second)) return true;
    return false;
}
};

bool IspravanUnosTrougla(Trougao pomocni)
{
    if(jednaki(pomocni.DajStranicu(1)+pomocni.DajStranicu(2),pomocni.DajStranicu(3))) return false;
    return true;
}

int main ()
{
    int n;
    std::cout&lt;&lt;"Koliko zelite kreirati trouglova: ";
    std::cin&gt;&gt;n;
    std::vector&lt;std::shared_ptr&lt;Trougao&gt;&gt;v;
    int k=0;

    while(k&lt;n) {
        try {
            std::cout&lt;&lt;"Unesite podatke za "&lt;&lt;k+1&lt;&lt;". trougao (x1 y1 x2 y2 x3 y3): ";
            Tacka tacka1, tacka2, tacka3;
            std::cin&gt;&gt;tacka1.first&gt;&gt;tacka1.second&gt;&gt;tacka2.first&gt;&gt;tacka2.second&gt;&gt;tacka3.first&gt;&gt;tacka3.second;
            Trougao pomocni(tacka1,tacka2,tacka3);
            auto p=std::make_shared&lt;Trougao&gt;(tacka1,tacka2,tacka3);
            v.push_back(p);
        } catch(std::domain_error err) {
            std::cout&lt;&lt;err.what()&lt;&lt;std::endl;
            k--;
        }
        k++;
    }

    double x,y;
    std::cout&lt;&lt;"Unesite vektor translacije (dx dy): ";
    std::cin&gt;&gt;x&gt;&gt;y;
    transform(v.begin(),v.end(),v.begin(), [x,y](std::shared_ptr&lt;Trougao&gt;p) {
        (*p).Transliraj(x,y);
        return p;
    });
    std::cout&lt;&lt;"Unesite ugao rotacije: ";
    double ugao;
    std::cin&gt;&gt;ugao;
    transform(v.begin(),v.end(),v.begin(), [ugao](std::shared_ptr&lt;Trougao&gt;p) {
        Tacka t=(*p).DajCentar();
        (*p).Rotiraj(t,ugao);
        return p;
    });
    std::cout&lt;&lt;"Unesite faktor skaliranja: ";
    std::cout&lt;&lt;"Trouglovi nakon obavljenih transformacija:"&lt;&lt;std::endl;
    double faktor;
    std::cin&gt;&gt;faktor;

    transform(v.begin(),v.end(),v.begin(), [faktor](std::shared_ptr&lt;Trougao&gt;p) {
        Tacka t=(*p).DajTjeme(1);
        (*p).Skaliraj(t,faktor);
        return p;
    });
    sort(v.begin(),v.end(), [](std::shared_ptr&lt;Trougao&gt;p,std::shared_ptr&lt;Trougao&gt;p1) {
        return((*p).DajPovrsinu()&lt;(*p1).DajPovrsinu());
    });

    std::for_each(v.begin(),v.end(),[](std::shared_ptr&lt;Trougao&gt;p) {
        std::cout&lt;&lt;"("&lt;&lt;"("&lt;&lt;((*p).DajTjeme(1)).first&lt;&lt;","&lt;&lt;((*p).DajTjeme(1)).second&lt;&lt;")"&lt;&lt;","
        &lt;&lt;"("&lt;&lt;((*p).DajTjeme(2)).first&lt;&lt;","&lt;&lt;((*p).DajTjeme(2)).second&lt;&lt;")"
        &lt;&lt;","&lt;&lt;"("&lt;&lt;((*p).DajTjeme(3)).first&lt;&lt;","&lt;&lt;((*p).DajTjeme(3)).second&lt;&lt;"))"&lt;&lt;std::endl;
    });
    Trougao tmin_obima=**(min_element(v.begin(),v.end(),[](std::shared_ptr&lt;Trougao&gt;p,std::shared_ptr&lt;Trougao&gt;p1) {
        return ((*p).DajObim()&lt;(*p1).DajObim());
    }));
    std::cout&lt;&lt;"Trougao sa najmanjim obimom: "&lt;&lt;"(("&lt;&lt;(tmin_obima.DajTjeme(1)).first&lt;&lt;","&lt;&lt;(tmin_obima.DajTjeme(1)).second&lt;&lt;"),("
    &lt;&lt;(tmin_obima.DajTjeme(2)).first&lt;&lt;","&lt;&lt;(tmin_obima.DajTjeme(2)).second&lt;&lt;"),("
    &lt;&lt;(tmin_obima.DajTjeme(3)).first&lt;&lt;","&lt;&lt;(tmin_obima.DajTjeme(3)).second&lt;&lt;"))"&lt;&lt;std::endl;
    
    
    std::cout&lt;&lt;"Parovi identicnih trouglova:"&lt;&lt;std::endl;
    for(int i=0; i&lt;n;i++){
        for(int j=i+1; j&lt;n;j++){
</font>            if(DaLiSuIdenticni(*v[i],*v[j])){
<a name="5"></a><font color="#FF0000"><a href="match86-1.html#5" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_1.gif"/></a>

                v[i]-&gt;Ispisi();
                std::cout&lt;&lt;" i ";
                v[j]-&gt;Ispisi();
                std::cout&lt;&lt;std::endl;
            }
        }
    }
    std::cout&lt;&lt;"Parovi podudarnih trouglova:"&lt;&lt;std::endl;
    for(int i=0; i&lt;n;i++){
        for(int j=i+1; j&lt;n;j++){
</font>            if(DaLiSuPodudarni(*v[i],*v[j])){
<a name="7"></a><font color="#0000FF"><a href="match86-1.html#7" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_1.gif"/></a>

                v[i]-&gt;Ispisi();
                std::cout&lt;&lt;" i ";
                v[j]-&gt;Ispisi();
            }
        }
    }
    std::cout&lt;&lt;"Parovi slicnih trouglova:"&lt;&lt;std::endl;
    for(int i=0; i&lt;n;i++){
        for(int j=i+1; j&lt;n;j++){
</font>            if(DaLiSuSlicni(*v[i],*v[j])){
                v[i]-&gt;Ispisi();
                std::cout&lt;&lt;" i ";
                v[j]-&gt;Ispisi();
                std::cout&lt;&lt;std::endl;
            }
        }
    }
    


    return 0;
}</pre>
</body>
</html>
