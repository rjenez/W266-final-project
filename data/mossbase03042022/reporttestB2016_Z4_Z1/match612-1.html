<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z1/student3442.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z1/student8864.cpp<p></p><pre>
/B 2016/2017, ZadaÄ‡a 4, Zadatak 1
//Napomena: testovi ce biti dostupni dan pred rok!
#include &lt;iostream&gt;
#include &lt;utility&gt;
#include &lt;stdexcept&gt;
#include &lt;cmath&gt;
#include &lt;set&gt;
#include &lt;vector&gt;  
#include &lt;memory&gt;
#include &lt;algorithm&gt;
typedef std::pair&lt;double,double&gt; Tacka;
const double Eps(1e-10);
class Trougao{  
    Tacka v1,v2,v3;
    void TestIndeksa(int indeks)const{
        if(indeks&lt;0 || indeks&gt;3) throw std::range_error("Nekorektan indeks");
    }
    void TestLinearnosti(const Tacka&amp;t1,const Tacka&amp;t2,const Tacka&amp;t3)const{
        if(Orijentacija(t1,t2,t3)==0) throw std::domain_error("Nekorektne pozicije tjemena");
    }
    double DuzinaStranice(const Tacka&amp;t1,const Tacka&amp;t2)const{
        return std::sqrt(std::fabs(t1.first-t2.first)*std::fabs(t1.first-t2.first)+std::fabs(t1.second-t2.second)*std::fabs(t1.second-t2.second));
    }
    static double Izraz(const Tacka&amp;t1,const Tacka&amp;t2,const Tacka&amp;t3){
        return t1.first*(t2.second-t3.second)-t2.first*(t1.second-t3.second)+t3.first*(t1.second-t2.second);
    }
    void RotirajTacku(Tacka&amp;vrh, const Tacka&amp;t, double ugao){
        double x(t.first+(vrh.first-t.first)*std::cos(ugao)-(vrh.second-t.second)*std::sin(ugao));
        double y(t.second+(vrh.first-t.first)*std::sin(ugao)+(vrh.second-t.second)*std::cos(ugao));
        vrh.first=x;
        vrh.second=y;
    }
    void SkalirajTacku(Tacka&amp;vrh,const Tacka&amp;t,double faktor){
        vrh.first=t.first+faktor*(vrh.first-t.first);
        vrh.second=t.second+faktor*(vrh.second-t.second);
    }
  public:    
    Trougao(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3);
    void Postavi(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3);
    void Postavi(int indeks, const Tacka &amp;t);
    static int Orijentacija(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3);
    Tacka DajTjeme(int indeks) const;
    double DajStranicu(int indeks) const;
    double DajUgao(int indeks) const;
    Tacka DajCentar() const;
    double DajObim() const;
    double DajPovrsinu() const;
    bool DaLiJePozitivnoOrijentiran() const;
    bool DaLiJeUnutra(const Tacka &amp;t) const;
    void Ispisi() const;
    void Transliraj(double delta_x, double delta_y);
    void Centriraj(const Tacka &amp;t);
    void Rotiraj(const Tacka &amp;t, double ugao);
    void Skaliraj(const Tacka &amp;t, double faktor);
    void Rotiraj(double ugao);
    void Skaliraj(double faktor);
    friend bool DaLiSuIdenticni(const Trougao &amp;t1, const Trougao &amp;t2);
    friend bool DaLiSuPodudarni(const Trougao &amp;t1, const Trougao &amp;t2);
    friend bool DaLiSuSlicni(const Trougao &amp;t1, const Trougao &amp;t2);
};
Trougao::Trougao(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3){
    Postavi(t1,t2,t3);
}
void Trougao::Postavi(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3){
    TestLinearnosti(t1,t2,t3);
    v1=t1; v2=t2; v3=t3;
}
void Trougao::Postavi(int indeks, const Tacka &amp;t){
    TestIndeksa(indeks);
    switch(indeks){
        case 1:v1=t;
            break;
        case 2:v2=t;
            break;
        case 3:v3=t;    
    }
    TestLinearnosti(v1,v2,v3);
}
int Trougao::Orijentacija(const Tacka &amp;t1,const Tacka &amp;t2,const Tacka &amp;t3){
    if(Izraz(t1,t2,t3)&gt;0) return 1;
    if(Izraz(t1,t2,t3)&lt;0) return -1;
    return 0;
}
Tacka Trougao::DajTjeme(int indeks)const{
    TestIndeksa(indeks);
    switch(indeks){
        case 1:return v1;
        case 2:return v2;
    }
    return v3;
}
double Trougao::DajStranicu(int indeks)const{
    TestIndeksa(indeks);
    switch(indeks){
        case 1:return DuzinaStranice(v2,v3);
        case 2:return DuzinaStranice(v1,v3);
    }
    return DuzinaStranice(v1,v2);
}
double Trougao::DajUgao(int indeks)const{
    TestIndeksa(indeks);
    switch(indeks){
        case 1:return std::acos((DuzinaStranice(v1,v3)*DuzinaStranice(v1,v3)+DuzinaStranice(v1,v2)*DuzinaStranice(v1,v2)
        -DuzinaStranice(v2,v3)*DuzinaStranice(v2,v3))/(2*DuzinaStranice(v1,v2)*DuzinaStranice(v1,v3)));
        break;
        case 2:return std::acos((DuzinaStranice(v1,v2)*DuzinaStranice(v1,v2)+DuzinaStranice(v2,v3)*DuzinaStranice(v2,v3)
        -DuzinaStranice(v1,v3)*DuzinaStranice(v1,v3))/(2*DuzinaStranice(v1,v2)*DuzinaStranice(v2,v3)));
    }
    return std::acos((DuzinaStranice(v1,v3)*DuzinaStranice(v1,v3)+DuzinaStranice(v2,v3)*DuzinaStranice(v2,v3)
    -DuzinaStranice(v1,v2)*DuzinaStranice(v1,v2))/(2*DuzinaStranice(v1,v3)*DuzinaStranice(v2,v3)));
}
Tacka Trougao::DajCentar()const{
    Tacka t;
    t.first=(v1.first+v2.first+v3.first)/3;
    t.second=(v1.second+v2.second+v3.second)/3;
    return t;
}
double Trougao::DajObim()const{
    return DuzinaStranice(v1,v2)+DuzinaStranice(v1,v3)+DuzinaStranice(v2,v3);
}
double Trougao::DajPovrsinu()const{
    return std::fabs(Izraz(v1,v2,v3))/2.;
}
bool Trougao::DaLiJePozitivnoOrijentiran()const{
    if(Orijentacija(v1,v2,v3)==1)return true;
    return false;
}
bool Trougao::DaLiJeUnutra(const Tacka&amp;t)const{
    double a((v1.second*v3.first-v1.first*v3.second+t.first*(v3.second-v1.second)+t.second*(v1.first-v3.first))/Izraz(v1,v2,v3));
    double b((v1.first*v2.second-v1.second*v2.first+t.first*(v1.second-v2.second)+t.second*(v2.first-v1.first))/Izraz(v1,v2,v3));
    if(a&gt;0 &amp;&amp; b&gt;0 &amp;&amp; 1-a-b&gt;0) return true;
    return false;
}
void Trougao::Ispisi()const{
    std::cout&lt;&lt;"(("&lt;&lt;v1.first&lt;&lt;","&lt;&lt;v1.second&lt;&lt;"),("&lt;&lt;v2.first&lt;&lt;","&lt;&lt;v2.second&lt;&lt;"),("&lt;&lt;v3.first&lt;&lt;","&lt;&lt;v3.second&lt;&lt;"))";
}
void Trougao::Transliraj(double delta_x,double delta_y){
    v1.first+=delta_x; v2.first+=delta_x; v3.first+=delta_x;
    v1.second+=delta_y; v2.second+=delta_y; v3.second+=delta_y;
}
void Trougao::Centriraj(const Tacka&amp;t){
    auto t2(DajCentar());
    Transliraj(t.first-t2.first,t.second-t2.second);
}
void Trougao::Rotiraj(const Tacka&amp;t, double ugao){
    RotirajTacku(v1,t,ugao);
    RotirajTacku(v2,t,ugao);
    RotirajTacku(v3,t,ugao);
}
void Trougao::Skaliraj(const Tacka&amp;t, double faktor){
    if(faktor==0)throw std::domain_error("Nekorektan faktor skaliranja");
    SkalirajTacku(v1,t,faktor);
    SkalirajTacku(v2,t,faktor);
    SkalirajTacku(v3,t,faktor);
}
void Trougao::Rotiraj(double ugao){
    Rotiraj(DajCentar(),ugao);
}
void Trougao::Skaliraj(double faktor){
    Skaliraj(DajCentar(),faktor);
}
<a name="3"></a><font color="#00FFFF"><a href="match612-0.html#3" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_1.gif"/></a>

bool DaLiSuIdenticni(const Trougao&amp;t1, const Trougao&amp;t2){
    std::set&lt;Tacka&gt; skup1,skup2;
    skup1.insert((t1.v1)); skup1.insert((t1.v2)); skup1.insert((t1.v3));
    skup2.insert((t2.v1)); skup2.insert((t2.v2)); skup2.insert((t2.v3));
</font>    if(skup1!=skup2) return false;
    return true;
}
bool DaLiSuPodudarni(const Trougao&amp;t1,const Trougao&amp;t2){
    /*if(t1.Orijentacija(t1.DajTjeme(1),t1.DajTjeme(2),t1.DajTjeme(3))!=t2.Orijentacija(t2.DajTjeme(1),t2.DajTjeme(2),t2.DajTjeme(3))) return false;
    std::set&lt;std::pair&lt;double,double&gt;&gt; skup1,skup2;
    for(int i=1;i&lt;=3;i++){
        skup1.insert({t1.DajStranicu(i),t1.DajUgao(i)});
        skup2.insert({t2.DajStranicu(i),t2.DajUgao(i)});
    }
    if(skup1!=skup2) return false;*/
    int u1(1),u2(1);
    for(int i=2;i&lt;=3;i++){
    if(t1.DajUgao(i)&gt;t1.DajUgao(u1))u1=i;
    if(t2.DajUgao(i)&gt;t2.DajUgao(u2))u2=i;
    }
    Tacka va1,va2,vb1,vb2;
    int a1,a2,b1,b2;
    switch(u1){
        case 1:
        if(t1.DuzinaStranice(t1.DajTjeme(u1),t1.DajTjeme(2))&lt;t1.DuzinaStranice(t1.DajTjeme(u1),t1.DajTjeme(3))){a1=2; a2=3;}
        else{ a1=3;a2=2;}
        break;
        case 2:
        if(t1.DuzinaStranice(t1.DajTjeme(u1),t1.DajTjeme(1))&lt;t1.DuzinaStranice(t1.DajTjeme(u1),t1.DajTjeme(3))){a1=1; a2=3;}
        else{a1=3; a2=1;}
        //std::cout&lt;&lt;t1.DuzinaStranice(t1.DajTjeme(u1),t1.DajTjeme(1))&lt;&lt;" "&lt;&lt;t1.DuzinaStranice(t1.DajTjeme(u1),t1.DajTjeme(3));
        //std::cout&lt;&lt;a1&lt;&lt;","&lt;&lt;a2;
        break;
        case 3:
        if(t1.DuzinaStranice(t1.DajTjeme(u1),t1.DajTjeme(1))&lt;t1.DuzinaStranice(t1.DajTjeme(u1),t1.DajTjeme(2))){ a1=1;a2=2;}
        else{a1=2;a2=1;}
    }
    va1={t1.DajTjeme(a1).first-t1.DajTjeme(u1).first,t1.DajTjeme(a1).second-t1.DajTjeme(u1).second};
    va2={t1.DajTjeme(a2).first-t1.DajTjeme(u1).first,t1.DajTjeme(a2).second-t1.DajTjeme(u1).second};
    switch(u2){
        case 1:
        if(t2.DuzinaStranice(t2.DajTjeme(u2),t2.DajTjeme(2))&lt;t2.DuzinaStranice(t2.DajTjeme(u2),t2.DajTjeme(3))){b1=2;b2=3;}
        else{b1=3;b2=2;}
        break;
        case 2:
        if(t2.DuzinaStranice(t2.DajTjeme(u2),t2.DajTjeme(1))&lt;t2.DuzinaStranice(t2.DajTjeme(u2),t2.DajTjeme(3))){b1=1;b2=3;}
        else{b1=3;b2=1;}
        break;
        case 3:
        if(t2.DuzinaStranice(t2.DajTjeme(u2),t2.DajTjeme(1))&lt;t2.DuzinaStranice(t2.DajTjeme(u2),t2.DajTjeme(2))){b1=1;b2=2;}
        else{ b1=2;b2=1;}
    }    
    vb1={t2.DajTjeme(b1).first-t2.DajTjeme(u2).first,t2.DajTjeme(b1).second-t2.DajTjeme(u2).second};
    vb2={t2.DajTjeme(b2).first-t2.DajTjeme(u2).first,t2.DajTjeme(b2).second-t2.DajTjeme(u2).second};
    //std::cout&lt;&lt;"va1: "&lt;&lt;va1.first&lt;&lt;","&lt;&lt;va1.second&lt;&lt;" va2: "&lt;&lt;va2.first&lt;&lt;","&lt;&lt;va2.second&lt;&lt;" vb1: "&lt;&lt;vb1.first&lt;&lt;","&lt;&lt;vb1.second&lt;&lt;" vb2: "&lt;&lt;vb2.first&lt;&lt;","&lt;&lt;vb2.second&lt;&lt;std::endl;
    double k1(va1.first*va2.second-va1.second*va2.first),k2(vb1.first*vb2.second-vb1.second*vb2.first);
    if(std::fabs(k1-k2)&gt;Eps*(std::fabs(k1)+std::fabs(k2))) return false;
    return true;
}
bool DaLiSuSlicni(const Trougao&amp;t1,const Trougao&amp;t2){
    std::set&lt;std::pair&lt;double,double&gt;&gt; skup1,skup2;
    for(int i=1;i&lt;=3;i++){
        skup1.insert({t1.DajStranicu(i),t1.DajUgao(i)});
        skup2.insert({t2.DajStranicu(i),t2.DajUgao(i)});
    }
    double faktor(skup1.begin()-&gt;first/skup2.begin()-&gt;first);
    Trougao drugi(t1);
    drugi.Skaliraj(faktor);
<a name="6"></a><font color="#00FF00"><a href="match612-0.html#6" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_0.gif"/></a>

    if(DaLiSuPodudarni(drugi,t2)) return true;
    return false;
}
int main (){
    std::cout&lt;&lt;"Koliko zelite kreirati trouglova: ";
    int n;
    std::cin&gt;&gt;n;
    std::vector&lt;std::shared_ptr&lt;Trougao&gt;&gt; vektor(n,nullptr);
</font>    for(int i=0;i&lt;n;i++){
        try{
        std::cout&lt;&lt;"Unesite podatke za "&lt;&lt;i+1&lt;&lt;". trougao (x1 y1 x2 y2 x3 y3): ";
            Tacka niz[3];
            for(int j=0;j&lt;3;j++){
                double x,y;
                std::cin&gt;&gt;x&gt;&gt;y;
                niz[j]={x,y};
            }
            vektor[i]=std::make_shared&lt;Trougao&gt;(niz[0],niz[1],niz[2]);
            if(vektor[i]-&gt;Orijentacija(niz[0],niz[1],niz[2])==0){
                vektor[i]=nullptr;
                throw;
            }
        }catch(...){std::cout&lt;&lt;"Nekorektne pozicije tjemena, ponovite unos!\n"; i--;}
    }
    std::cout&lt;&lt;"Unesite vektor translacije (dx dy): ";
    double x,y;
    std::cin&gt;&gt;x&gt;&gt;y;
<a name="4"></a><font color="#FF00FF"><a href="match612-0.html#4" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_1.gif"/></a>

    std::cout&lt;&lt;"Unesite ugao rotacije: Unesite faktor skaliranja: ";
    double ugao,faktor;
    std::cin&gt;&gt;ugao&gt;&gt;faktor;
    std::transform(vektor.begin(),vektor.end(),vektor.begin(),[ugao,x,y,faktor](std::shared_ptr&lt;Trougao&gt; point){
</font>        point-&gt;Transliraj(x,y);
        point-&gt;Rotiraj(ugao);
        point-&gt;Skaliraj(point-&gt;DajTjeme(1),faktor);
        return point;
    });
    std::sort(vektor.begin(),vektor.end(),[](std::shared_ptr&lt;Trougao&gt; point1,std::shared_ptr&lt;Trougao&gt; point2){
<a name="5"></a><font color="#FF0000"><a href="match612-0.html#5" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_1.gif"/></a>

        if(point1-&gt;DajPovrsinu()&lt;point2-&gt;DajPovrsinu())return true;
        return false;
    });
    std::cout&lt;&lt;"Trouglovi nakon obavljenih transformacija:\n";
    std::for_each(vektor.begin(),vektor.end(),[](std::shared_ptr&lt;Trougao&gt;point){
</font>        point-&gt;Ispisi();std::cout&lt;&lt;std::endl;
    });
    std::cout&lt;&lt;"Trougao sa najmanjim obimom: ";
    (*std::min_element(vektor.begin(),vektor.end(),[](std::shared_ptr&lt;Trougao&gt;p1,std::shared_ptr&lt;Trougao&gt;p2){
        if(p1-&gt;DajObim()&lt;p2-&gt;DajObim()) return true;
        return false;
    }))-&gt;Ispisi();std::cout&lt;&lt;std::endl;
    bool identicni(false),podudarni(false),slicni(false);
    for(int i=0;i&lt;vektor.size()-1;i++){
<a name="0"></a><font color="#FF0000"><a href="match612-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_2.gif"/></a>

        for(int j=i+1;j&lt;vektor.size();j++){
            if (DaLiSuIdenticni(*vektor[i],*vektor[j])){
                if(identicni==false)std::cout&lt;&lt;"Parovi identicnih trouglova:\n";
                identicni=true;
                vektor[i]-&gt;Ispisi();std::cout&lt;&lt;" i ";vektor[j]-&gt;Ispisi();std::cout&lt;&lt;std::endl;}
        }
    }
    if(identicni==false)std::cout&lt;&lt;"Nema identicnih trouglova!\n";
</font>    for(int i=0;i&lt;vektor.size()-1;i++){
<a name="1"></a><font color="#00FF00"><a href="match612-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_2.gif"/></a>

        for(int j=i+1;j&lt;vektor.size();j++){
            if (DaLiSuPodudarni(*vektor[i],*vektor[j])){
                if(podudarni==false)std::cout&lt;&lt;"Parovi podudarnih trouglova:\n";
                podudarni=true;
                vektor[i]-&gt;Ispisi();std::cout&lt;&lt;" i ";vektor[j]-&gt;Ispisi();std::cout&lt;&lt;std::endl;}
        }
    }
    if(podudarni==false)std::cout&lt;&lt;"Nema podudarnih trouglova!\n";
</font>    for(int i=0;i&lt;vektor.size()-1;i++){
<a name="2"></a><font color="#0000FF"><a href="match612-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_2.gif"/></a>

        for(int j=i+1;j&lt;vektor.size();j++){
            if (DaLiSuSlicni(*vektor[i],*vektor[j])){
                if(slicni==false)std::cout&lt;&lt;"Parovi slicnih trouglova:\n";
                slicni=true;
                vektor[i]-&gt;Ispisi();std::cout&lt;&lt;" i ";vektor[j]-&gt;Ispisi();std::cout&lt;&lt;std::endl;}
        }
    }
    if(slicni==false)std::cout&lt;&lt;"Nema slicnih trouglova!";
</font>	return 0;
}</pre>
</body>
</html>
