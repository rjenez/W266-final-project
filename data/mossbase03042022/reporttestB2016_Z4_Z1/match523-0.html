<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z1/student2364.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z1/student2364.cpp<p></p><pre>
#include &lt;iostream&gt;
#include &lt;stdexcept&gt;
#include &lt;cmath&gt;
#include &lt;algorithm&gt;
#include &lt;vector&gt;
#include &lt;memory&gt;
#include &lt;utility&gt;

typedef std::pair&lt;double, double&gt; Tacka;
const double eps = 1E-10;

class Trougao {
    Tacka vrhovi[3];
    static void TestIndeksa(int indeks){
        if(indeks == 1 || indeks == 2 || indeks == 3)return ;
        throw std::range_error("Nekorektan indeks");
    }
    
    static double Pomocna(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3){
        return t1.first*(t2.second-t3.second)-t2.first*(t1.second-t3.second)+t3.first*(t1.second-t2.second);
    }
    
    static bool SuprotnaOrijentacija(const Trougao &amp;t1, const Trougao &amp;t2);
public:
    Trougao(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3){ if(Orijentacija(t1,t2,t3) == 0) throw std::domain_error("Nekorektne pozicije tjemena"); vrhovi[0]=t1; vrhovi[1]=t2; vrhovi[2]=t3;   }
    void Postavi(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3){ if(Orijentacija(t1,t2,t3) == 0) throw std::domain_error("Nekorektne pozicije tjemena"); vrhovi[0] = t1; vrhovi[1] = t2; vrhovi[2] = t3; }
<a name="7"></a><font color="#0000FF"><a href="match523-1.html#7" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_0.gif"/></a>

    void Postavi(int indeks, const Tacka &amp;t){ TestIndeksa(indeks); vrhovi[indeks-1] = t; if(Orijentacija(vrhovi[0], vrhovi[1], vrhovi[2]) == 0) throw std::domain_error("Nekorektne pozicije tjemena"); }
</font><a name="8"></a><font color="#00FFFF"><a href="match523-1.html#8" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_0.gif"/></a>

    static int Orijentacija(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3){ if(Pomocna(t1,t2,t3) &gt; 0) return 1; if(Pomocna(t1,t2,t3)&lt;0)return -1; return 0; }
</font>    Tacka DajTjeme(int indeks){ TestIndeksa(indeks); return vrhovi[indeks-1]; }
    double DajStranicu(int indeks) const;
    double DajUgao(int indeks) const;
<a name="0"></a><font color="#FF0000"><a href="match523-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_2.gif"/></a>

    Tacka DajCentar()const{ return {(vrhovi[0].first+vrhovi[1].first+vrhovi[2].first)/3, (vrhovi[0].second+vrhovi[1].second+vrhovi[2].second)/3}; }
    double DajObim() const{ return DajStranicu(1)+DajStranicu(2)+DajStranicu(3); }
    double DajPovrsinu() const{ double s = Pomocna(vrhovi[0], vrhovi[1], vrhovi[2]); s = std::fabs(s); return s*0.5; }
</font>    bool DaLiJePozitivnoOrijentiran() const{ if(Orijentacija(vrhovi[0], vrhovi[1], vrhovi[2]) &gt; 0)return true; return false; }
    bool DaLiJeUnutra(const Tacka &amp;t) const;
<a name="9"></a><font color="#FF00FF"><a href="match523-1.html#9" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_0.gif"/></a>

    void Ispisi() const { std::cout&lt;&lt; "((" &lt;&lt; vrhovi[0].first &lt;&lt; "," &lt;&lt; vrhovi[0].second &lt;&lt; "),(" &lt;&lt; vrhovi[1].first &lt;&lt; "," &lt;&lt; vrhovi[1].second &lt;&lt; "),(" &lt;&lt; vrhovi[2].first &lt;&lt; "," &lt;&lt; vrhovi[2].second&lt;&lt;"))"; }
</font>    void Transliraj(double delta_x, double delta_y);
    void Centriraj(const Tacka &amp;t);
    void Rotiraj(const Tacka &amp;t, double ugao);
    void Skaliraj(const Tacka &amp;t, double faktor);
    void Rotiraj(double ugao);
    void Skaliraj(double faktor);
    friend bool DaLiSuIdenticni(const Trougao &amp;t1, const Trougao &amp;t2);
    friend bool DaLiSuPodudarni(const Trougao &amp;t1, const Trougao &amp;t2);
    friend bool DaLiSuSlicni(const Trougao &amp;t1, const Trougao&amp;t2);
};

bool Trougao::SuprotnaOrijentacija(const Trougao &amp;t1, const Trougao &amp;t2){
    double a(Trougao::Pomocna(t1.vrhovi[0], t1.vrhovi[1], t1.vrhovi[2]));
    double b(Trougao::Pomocna(t2.vrhovi[0], t2.vrhovi[1], t2.vrhovi[2]));
    
    if(std::fabs(a + b) &lt; eps)return true;
    
    return false;
}
double Trougao::DajStranicu(int indeks) const{
    TestIndeksa(indeks);
    if(indeks == 1)
        return std::sqrt((vrhovi[1].first-vrhovi[2].first)*(vrhovi[1].first-vrhovi[2].first) + (vrhovi[1].second-vrhovi[2].second)*(vrhovi[1].second-vrhovi[2].second));
    else if(indeks == 2)
        return std::sqrt((vrhovi[0].first-vrhovi[2].first)*(vrhovi[0].first-vrhovi[2].first) + (vrhovi[0].second-vrhovi[2].second)*(vrhovi[0].second-vrhovi[2].second));
    
    else if(indeks == 3) return std::sqrt((vrhovi[0].first-vrhovi[1].first)*(vrhovi[0].first-vrhovi[1].first) + (vrhovi[0].second-vrhovi[1].second)*(vrhovi[0].second-vrhovi[1].second));
return 0;
}

double Trougao::DajUgao(int indeks) const{
    TestIndeksa(indeks);
    double a,b,c;
    if(indeks == 1){  a = DajStranicu(1);  b = DajStranicu(2);  c = DajStranicu(3);}
    else if(indeks == 2){  a = DajStranicu(2);  b = DajStranicu(3);  c = DajStranicu(1); }
    else{ a = DajStranicu(3);  b = DajStranicu(1); c = DajStranicu(2); }
    
    return acos((a*a-b*b-c*c)/(-2*b*c));
}
bool Trougao::DaLiJeUnutra(const Tacka &amp;t) const{
    if(DaLiJePozitivnoOrijentiran())
        if(Trougao(vrhovi[0], vrhovi[1], t).DaLiJePozitivnoOrijentiran())
            if(Trougao(vrhovi[1], vrhovi[2], t).DaLiJePozitivnoOrijentiran())
                if(Trougao(vrhovi[2], vrhovi[0], t).DaLiJePozitivnoOrijentiran())
                    return true;
    if(!DaLiJePozitivnoOrijentiran())
        if(!Trougao(vrhovi[0], vrhovi[1], t).DaLiJePozitivnoOrijentiran())
            if(!Trougao(vrhovi[1], vrhovi[2], t).DaLiJePozitivnoOrijentiran())
                if(!Trougao(vrhovi[2], vrhovi[0], t).DaLiJePozitivnoOrijentiran())
                    return true;
    return false;
}

void Trougao::Transliraj(double delta_x, double delta_y){
    for(int i(0); i &lt; 3; i++){
        vrhovi[i].first+=delta_x; vrhovi[i].second+=delta_y;
    }
}

void Trougao::Centriraj(const Tacka &amp;t){
    double delta_x = t.first - this-&gt;DajCentar().first;
    double delta_y = t.second - this-&gt;DajCentar().second;
    for(int i(0); i &lt; 3; i++){
        vrhovi[i].first+=delta_x; vrhovi[i].second+=delta_y;
    }
}

void Trougao::Rotiraj(const Tacka &amp;t, double ugao){
    double prva, druga;
    for(int i(0); i &lt; 3; i++){
        prva = t.first + (vrhovi[i].first - t.first)*std::cos(ugao) - (vrhovi[i].second - t.second)*std::sin(ugao);
        druga = t.second + (vrhovi[i].first - t.first)*std::sin(ugao) + (vrhovi[i].second - t.second)*std::cos(ugao);
        Trougao::vrhovi[i] = {prva, druga};
    }
}

void Trougao::Skaliraj(const Tacka &amp;t, double faktor){
    if(std::fabs(faktor - 0) &lt; eps)throw std::domain_error("Nekorektan faktor skaliranja");
    
    for(int i(0); i &lt; 3; i++){
        vrhovi[i].first = t.first + faktor*(vrhovi[i].first - t.first);
        vrhovi[i].second = t.second + faktor*(vrhovi[i].second - t.second);
    }
    
    if(faktor &lt; 0) Rotiraj({0,0}, 4*atan(1));
}

void Trougao::Rotiraj(double ugao){
    Rotiraj(DajCentar(), ugao);
}

void Trougao::Skaliraj(double faktor){
    Skaliraj(DajCentar(), faktor);
}

bool DaLiSuIdenticni(const Trougao &amp;t1, const Trougao &amp;t2){
    int brojac{};
    for(int i(0); i &lt; 3; i++)
        for(int j(0); j &lt; 3; j++)
            if((t1.vrhovi[i] == t2.vrhovi[j])) ++brojac;
    
    if(brojac == 3)return true;
    return false;
}

bool DaLiSuPodudarni(const Trougao &amp;t1, const Trougao &amp;t2){
    std::vector&lt;double&gt; stranice1, stranice2;
    
    for(int i(0); i &lt; 3; i++){
        stranice1.push_back(t1.DajStranicu(i+1));
        stranice2.push_back(t2.DajStranicu(i+1));
    }
    std::sort(stranice1.begin(), stranice1.end());
    std::sort(stranice2.begin(), stranice2.end());
    
    int brojac{};
    
    for(int i(0); i &lt; 3; i++)
        if(std::fabs(stranice1[i] - stranice2[i]) &lt; eps) ++brojac;
        
        if(brojac != 3)return false;
        
    std::pair&lt;double, Tacka&gt; prvi[3], drugi[3];
    
    for(int i(0); i &lt; 3; i++){
        prvi[i].second = t1.vrhovi[i]; prvi[i].first = t1.DajStranicu(i+1);
        drugi[i].second = t2.vrhovi[i]; drugi[i].first = t2.DajStranicu(i+1);
    }
    
    std::sort(prvi, prvi + 3);
    std::sort(drugi, drugi + 3);
    
    if(std::fabs(Trougao::Orijentacija(prvi[0].second, prvi[1].second, prvi[2].second) - Trougao::Orijentacija(drugi[0].second, drugi[1].second, drugi[2].second)) &gt; eps)return false;
    return true;
}

bool DaLiSuSlicni(const Trougao &amp;t1, const Trougao &amp;t2){
    double Uglovi1[3], Uglovi2[3];
    
    for(int i(0); i &lt; 3; i++){
        Uglovi1[i] = t1.DajUgao(i+1);
        Uglovi2[i] = t2.DajUgao(i+1);
    }
    std::sort(Uglovi1, Uglovi1 + 3);
    std::sort(Uglovi2, Uglovi2 + 3);
    
    int brojac{};
    
    for(int i(0); i &lt; 3; i++)
        if(std::fabs(Uglovi1[i] - Uglovi2[i]) &lt; eps)++brojac;
        
        if(brojac != 3) return false;
        
        std::pair&lt;double, Tacka&gt; prvi[3], drugi[3];
        for(int i(0); i &lt; 3; i++){
            prvi[i].second = t1.vrhovi[i]; prvi[i].first = t1.DajUgao(i+1);
            drugi[i].second = t2.vrhovi[i]; drugi[i].first = t2.DajUgao(i+1);
        }
        
        std::sort(prvi, prvi + 3);
        std::sort(drugi, drugi + 3);
        
        if(std::fabs(Trougao::Orijentacija(prvi[0].second, prvi[1].second, prvi[2].second) - Trougao::Orijentacija(drugi[0].second, drugi[1].second, drugi[2].second)) &gt; eps) return false;
        return true;
}

int main ()
{
    try{
    std::cout &lt;&lt; "Koliko zelite kreirati trouglova: ";
    int n;
    std::cin &gt;&gt; n;
    if(n &lt; 0) throw std::domain_error("");
    std::vector&lt;std::shared_ptr&lt;Trougao&gt;&gt; VektorTrouglova(n);
    double x1,y1,x2,y2,x3,y3;
    
    for(int i(0); i &lt; n; i++){
        try{
        std::cout&lt;&lt; "Unesite podatke za " &lt;&lt; i+1 &lt;&lt; ". trougao (x1 y1 x2 y2 x3 y3): ";
        std::cin &gt;&gt; x1 &gt;&gt; y1 &gt;&gt; x2 &gt;&gt;y2 &gt;&gt; x3 &gt;&gt; y3;
        std::shared_ptr&lt;Trougao&gt; t(std::make_shared&lt;Trougao&gt; (Trougao({x1,y1},{x2,y2},{x3,y3})));
        VektorTrouglova[i] = t;
<a name="2"></a><font color="#0000FF"><a href="match523-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_1.gif"/></a>

        t = nullptr;
        }catch(std::domain_error iz){
            std::cout &lt;&lt; iz.what() &lt;&lt; ", ponovite unos!" &lt;&lt; std::endl;
            i--;
        
    }
    }
    std::cout &lt;&lt; "Unesite vektor translacije (dx dy): ";
        double dx, dy;
</font>        std::cin &gt;&gt; dx &gt;&gt; dy;
    
    std::cout &lt;&lt; "Unesite ugao rotacije: ";
        double u;
        std::cin &gt;&gt; u;
        
    std::cout &lt;&lt; "Unesite faktor skaliranja: ";
        double faktor;
        std::cin &gt;&gt; faktor;
        
    std::transform(VektorTrouglova.begin(), VektorTrouglova.end(), VektorTrouglova.begin(),[=](const std::shared_ptr&lt;Trougao&gt; &amp;t){
        t-&gt;Transliraj(dx, dy);
        t-&gt;Rotiraj(u);
<a name="1"></a><font color="#00FF00"><a href="match523-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_1.gif"/></a>

        t-&gt;Skaliraj(t-&gt;DajTjeme(1), faktor);
        return t;
    });
    
    std::sort(VektorTrouglova.begin(), VektorTrouglova.end(), [](const std::shared_ptr&lt;Trougao&gt; &amp;t1, const std::shared_ptr&lt;Trougao&gt; &amp;t2){
</font>        return t1-&gt;DajPovrsinu() &lt; t2-&gt;DajPovrsinu();
    });
    
    std::cout &lt;&lt; "Trouglovi nakon obavljenih transformacija:" &lt;&lt; std::endl;
    std::for_each(VektorTrouglova.begin(), VektorTrouglova.end(), [](const std::shared_ptr&lt;Trougao&gt; &amp;t){
        t-&gt;Ispisi();
        std::cout &lt;&lt; std::endl;
    });
    
    std::cout &lt;&lt; "Trougao sa najmanjim obimom: ";
    if(VektorTrouglova.size() &gt;= 1){
<a name="6"></a><font color="#00FF00"><a href="match523-1.html#6" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_0.gif"/></a>

    auto k = std::min_element(VektorTrouglova.begin(), VektorTrouglova.end(), [](const std::shared_ptr&lt;Trougao&gt; &amp;t1, const std::shared_ptr&lt;Trougao&gt; &amp;t2){
</font>        return t1-&gt;DajObim() &lt; t2-&gt;DajObim();
        });
        (**k).Ispisi();
    }
<a name="11"></a><font color="#00FF00"><a href="match523-1.html#11" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_0.gif"/></a>

        std::cout &lt;&lt; std::endl;
    std::vector&lt;std::pair&lt;Trougao, Trougao&gt;&gt; identicni, podudarni, slicni;
</font>    
    if(VektorTrouglova.size()&gt;= 2){
    for(int i(0); i &lt; VektorTrouglova.size()-1; i++)
        for(int j(i+1); j&lt; VektorTrouglova.size(); j++){
            if(i == j)continue;
            if(DaLiSuIdenticni(*VektorTrouglova[i], *VektorTrouglova[j]))
                identicni.emplace_back(*VektorTrouglova[i], *VektorTrouglova[j]);
        }
    }
    
    if(identicni.size() == 0)std::cout &lt;&lt; "Nema identicnih trouglova!" &lt;&lt; std::endl;
    else{
    std::cout &lt;&lt; "Parovi identicnih trouglova:" &lt;&lt; std::endl;
<a name="3"></a><font color="#00FFFF"><a href="match523-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_0.gif"/></a>

    std::for_each(identicni.begin(), identicni.end(), [](const std::pair&lt;Trougao, Trougao&gt; &amp;t){
        t.first.Ispisi(); std::cout &lt;&lt; " i "; t.second.Ispisi(); std::cout &lt;&lt; std::endl;
</font>    });
    }
    if(VektorTrouglova.size()&gt;=2) {
    for(int i(0); i &lt; VektorTrouglova.size()-1; i++)
        for(int j(i+1); j &lt; VektorTrouglova.size(); j++){
            if(i == j)continue;
            if(DaLiSuPodudarni(*VektorTrouglova[i], *VektorTrouglova[j]))
                podudarni.emplace_back(*VektorTrouglova[i], *VektorTrouglova[j]);
        }
    }
    if(podudarni.size() == 0) std::cout &lt;&lt; "Nema podudarnih trouglova!" &lt;&lt; std::endl;
    else{
    std::cout &lt;&lt; "Parovi podudarnih trouglova:" &lt;&lt; std::endl;
<a name="4"></a><font color="#FF00FF"><a href="match523-1.html#4" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_0.gif"/></a>

    std::for_each(podudarni.begin(), podudarni.end(), [](const std::pair&lt;Trougao, Trougao&gt; &amp;t){
        t.first.Ispisi(); std::cout &lt;&lt; " i "; t.second.Ispisi(); std::cout &lt;&lt; std::endl;
</font>    });
    }
    if(VektorTrouglova.size() &gt;=2){
    for(int i(0); i &lt; VektorTrouglova.size()-1; i++)
        for(int j(i+1); j &lt; VektorTrouglova.size(); j++){
            if(i == j)continue;
            if(DaLiSuSlicni(*VektorTrouglova[i], *VektorTrouglova[j]))
                slicni.emplace_back(*VektorTrouglova[i], *VektorTrouglova[j]);
        }
    }
    if(slicni.size() == 0)std::cout &lt;&lt; "Nema slicnih trouglova!"&lt;&lt; std::endl;
    else{
    std::cout &lt;&lt; "Parovi slicnih trouglova:" &lt;&lt; std::endl;
<a name="5"></a><font color="#FF0000"><a href="match523-1.html#5" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_0.gif"/></a>

    std::for_each(slicni.begin(), slicni.end(), [](const std::pair&lt;Trougao, Trougao&gt; &amp;t){
        t.first.Ispisi(); std::cout &lt;&lt; " i "; t.second.Ispisi(); std::cout &lt;&lt; std::endl;
</font>    });
    }
    }catch(std::domain_error iz){
        std::cout &lt;&lt; iz.what() &lt;&lt; std::endl;
    }catch(std::range_error iz){
        std::cout &lt;&lt; iz.what() &lt;&lt; std::endl;
    }
	return 0;
}</pre>
</body>
</html>
