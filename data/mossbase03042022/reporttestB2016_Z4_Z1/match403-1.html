<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z1/student9823.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z1/student2254.cpp<p></p><pre>
#include &lt;iostream&gt;
#include &lt;utility&gt;
#include &lt;stdexcept&gt;
#include &lt;cmath&gt;
#include &lt;memory&gt;
#include &lt;vector&gt;
#include &lt;algorithm&gt;


typedef std::pair&lt;double, double&gt; Tacka;
const double EPS(0.00000000001);
class Trougao
{
    Tacka tac1,tac2,tac3;
    const void Testindeksa(const int &amp;indeks) const {
        if(indeks &lt; 1 || indeks &gt; 3)
            throw std::range_error("Nekorektan indeks");
    }
    double Duz(const Tacka &amp;t3, const Tacka &amp;t2) const {
        return std::sqrt((t2.first - t3.first)*(t2.first - t3.first) + (t2.second - t3.second)*(t2.second - t3.second));
    }
    double Orijent(const Tacka &amp;t1,const Tacka &amp;t2, const Tacka &amp;t3) const {
        return t1.first*(t2.second -t3.second)-t2.first*(t1.second - t3.second)+t3.first*(t1.second -t2.second);
    }
<a name="0"></a><font color="#FF0000"><a href="match403-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_4.gif"/></a>

    void RotirajTacku(Tacka &amp;rot, const Tacka &amp;t, double ugao) {
        rot = Tacka(t.first+(rot.first - t.first)*std::cos(ugao)-(rot.second-t.second)*std::sin(ugao),t.second+(rot.first-t.first)*std::sin(ugao)+(rot.second-t.second)*std::cos(ugao));
    }
    void SkalirajTacku(Tacka &amp;ska,const Tacka &amp;t, double faktor) {
        ska = Tacka(t.first + faktor*(ska.first - t.first),t.second + (ska.second - t.second)*faktor);
    }
public:
    Trougao(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3);
</font>    void Postavi(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3);
    void Postavi(int indeks, const Tacka &amp;t);
    static int Orijentacija(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3);
    Tacka DajTjeme(int indeks) const;
    double DajStranicu(int indeks) const;
    double DajUgao(int indeks) const;
<a name="4"></a><font color="#FF00FF"><a href="match403-0.html#4" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_1.gif"/></a>

    Tacka DajCentar() const {
        return Tacka((tac1.first+tac2.first+tac3.first)/3,(tac1.second+tac2.second+tac3.second)/3);
    }
    double DajObim() const {
        return DajStranicu(1)+DajStranicu(2)+DajStranicu(3);
    }
    double DajPovrsinu() const {
</font>        return std::abs(Orijent(tac1,tac2,tac3))/2;
    }
    bool DaLiJePozitivnoOrijentiran() const {
        if(Orijentacija(tac1,tac2,tac3) &gt; 0) return true;
        else return false;
    }
    bool DaLiJeUnutra(const Tacka &amp;t) const;
    void Ispisi() const;
    void Transliraj(double delta_x, double delta_y);
    void Centriraj(const Tacka &amp;t);
    void Rotiraj(const Tacka &amp;t, double ugao);
    void Skaliraj(const Tacka &amp;t, double faktor);
    void Rotiraj(double ugao);
    void Skaliraj(double faktor);
    friend bool DaLiSuIdenticni(const Trougao &amp;t1, const Trougao &amp;t2);
    friend bool DaLiSuPodudarni(const Trougao &amp;t1, const Trougao &amp;t2);
    friend bool DaLiSuSlicni(const Trougao &amp;t1, const Trougao &amp;t2);
};

bool DaLiSuIdenticni(const Trougao &amp;t1, const Trougao &amp;t2);
bool DaLiSuPodudarni(const Trougao &amp;t1, const Trougao &amp;t2);
bool DaLiSuSlicni(const Trougao &amp;t1, const Trougao &amp;t2);

int main ()
{
    try{
    std::cout&lt;&lt;"Koliko zelite kreirati trouglova: ";
    int n;
    std::cin&gt;&gt;n;
    std::vector&lt;std::shared_ptr&lt;Trougao&gt;&gt; vec(n),useless(n);
    for(int i(0); i&lt;n; i++) {
        try {
            std::cout&lt;&lt;"Unesite podatke za "&lt;&lt;i+1&lt;&lt;". trougao (x1 y1 x2 y2 x3 y3): ";
            std::pair&lt;double,double&gt; prva,druga,treca;
<a name="5"></a><font color="#FF0000"><a href="match403-0.html#5" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_1.gif"/></a>

            std::cin&gt;&gt;prva.first&gt;&gt;prva.second;
            std::cin&gt;&gt;druga.first&gt;&gt;druga.second;
            std::cin&gt;&gt;treca.first&gt;&gt;treca.second;
</font>            vec[i] = std::make_shared&lt;Trougao&gt;(Trougao(prva,druga,treca));
        } catch(...) {
            std::cout&lt;&lt;"Nekorektne pozicije tjemena, ponovite unos!"&lt;&lt;std::endl;
            i--;
        }
    }
    std::cout&lt;&lt;"Unesite vektor translacije (dx dy): ";
    double dx, dy;
    std::cin&gt;&gt;dx&gt;&gt;dy;
    std::cout&lt;&lt;"Unesite ugao rotacije: ";
    double alfa;
    std::cin&gt;&gt;alfa;
    std::cout&lt;&lt;"Unesite faktor skaliranja: ";
    double skal;
    std::cin&gt;&gt;skal;
<a name="3"></a><font color="#00FFFF"><a href="match403-0.html#3" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_1.gif"/></a>

    std::cout&lt;&lt;"Trouglovi nakon obavljenih transformacija: "&lt;&lt;std::endl;
    std::transform(vec.begin(),vec.end(),useless.begin(),[&amp;](std::shared_ptr&lt;Trougao&gt; x) {
        x-&gt;Transliraj(dx,dy);
        x-&gt;Rotiraj(alfa);
        x-&gt;Skaliraj(x-&gt;DajTjeme(1),skal);
        return nullptr;
    });
    std::sort(vec.begin(),vec.end(),[](std::shared_ptr&lt;Trougao&gt; x,std::shared_ptr&lt;Trougao&gt; y) {
</font>        return x-&gt;DajPovrsinu() &lt; y-&gt;DajPovrsinu();
    });
<a name="1"></a><font color="#00FF00"><a href="match403-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_2.gif"/></a>

    std::for_each(vec.begin(),vec.end(),[](std::shared_ptr&lt;Trougao&gt; x) {
        x-&gt;Ispisi();
        std::cout&lt;&lt;std::endl;
    });
    std::cout&lt;&lt;"Trougao sa najmanjim obimom: ";
    (*std::min_element(vec.begin(),vec.end(),[](std::shared_ptr&lt;Trougao&gt; x,std::shared_ptr&lt;Trougao&gt; y) {
        return x-&gt;DajObim() &lt; y-&gt;DajObim();
    }))-&gt;Ispisi();
</font>    
    bool nijeispisano(true);
    useless.resize(0);
    for(int i(0); i &lt; n; i++)
        for(int j(i+1); j&lt;n; j++)
            if(DaLiSuIdenticni(*(vec[i]),*(vec[j]))) {
                if(nijeispisano){
                std::cout&lt;&lt;std::endl&lt;&lt;"Parovi identicnih trouglova:"&lt;&lt;std::endl;
                nijeispisano = false;
                }
                vec[i]-&gt;Ispisi();
                std::cout&lt;&lt;" i ";
                vec[j]-&gt;Ispisi();
                std::cout&lt;&lt;std::endl;
                useless.resize(1);
            }
        if(useless.size() == 0)
            std::cout&lt;&lt;std::endl&lt;&lt;"Nema identicnih trouglova!";
            
    nijeispisano = true;
    useless.resize(0);
    for(int i(0); i &lt; n; i++)
        for(int j(i+1); j&lt;n; j++)
            if(DaLiSuPodudarni(*(vec[i]),*(vec[j]))) {
                if(nijeispisano){
                std::cout&lt;&lt;std::endl&lt;&lt;"Parovi podudarnih trouglova:"&lt;&lt;std::endl;
                nijeispisano = false;
                }
                vec[i]-&gt;Ispisi();
                std::cout&lt;&lt;" i ";
                vec[j]-&gt;Ispisi();
                std::cout&lt;&lt;std::endl;
                useless.resize(1);
            }
    if(useless.size() == 0)
        std::cout&lt;&lt;std::endl&lt;&lt;"Nema podudarnih trouglova!"&lt;&lt;std::endl;
        
    nijeispisano = true;
    useless.resize(0);
    for(int i(0); i &lt; n; i++)
        for(int j(i+1); j&lt;n; j++)
            if(DaLiSuSlicni(*(vec[i]),*(vec[j]))) {
                if(nijeispisano){
                std::cout&lt;&lt;std::endl&lt;&lt;"Parovi slicnih trouglova:"&lt;&lt;std::endl;
                nijeispisano = false;
                }
                vec[i]-&gt;Ispisi();
                std::cout&lt;&lt;" i ";
                vec[j]-&gt;Ispisi();
                std::cout&lt;&lt;std::endl;
                useless.resize(1);
            }
    if(useless.size() == 0)
        std::cout&lt;&lt;"Nema slicnih trouglova!"&lt;&lt;std::endl;

}catch(...){}
    return 0;
}

Trougao::Trougao(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3)
{
    if(!Orijentacija(t1,t2,t3))
        throw std::domain_error("Nekorektne pozicije tjemena");
    tac1 = t1, tac2 = t2, tac3 = t3;
}
<a name="6"></a><font color="#00FF00"><a href="match403-0.html#6" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_0.gif"/></a>

void Trougao::Postavi(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3)
{
    if(!Orijentacija(t1,t2,t3))
        throw std::domain_error("Nekorektne pozicije tjemena");
    tac1 = t1, tac2 = t2, tac3 = t3;
</font>}
void Trougao::Postavi(int indeks, const Tacka &amp;t)
{
    Testindeksa(indeks);
    switch(indeks) {
<a name="2"></a><font color="#0000FF"><a href="match403-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_2.gif"/></a>

    case 1:
        if(!Orijentacija(t,tac2,tac3))
            throw std::domain_error("Nekorektne pozicije tjemena");
        tac1 = t;
        break;
    case 2:
        if(!Orijentacija(tac1,t,tac3))
            throw std::domain_error("Nekorektne pozicije tjemena");
        tac2 = t;
        break;
    case 3:
        if(!Orijentacija(tac1,tac2,t))
            throw std::domain_error("Nekorektne pozicije tjemena");
        tac3 = t;
        break;
    }
}
Tacka Trougao::DajTjeme(int indeks) const
</font>{
    Testindeksa(indeks);
    switch(indeks) {
    case 1:
        return tac1;
    case 2:
        return tac2;
    case 3:
        return tac3;
    }
}
double Trougao::DajStranicu(int indeks) const
{
    Testindeksa(indeks);
    switch(indeks) {
    case 1:
        return Duz(tac2,tac3);
    case 2:
        return Duz(tac1,tac3);
    case 3:
        return Duz(tac2,tac1);
    }
}

double Trougao::DajUgao(int indeks) const
{
    Testindeksa(indeks);
    switch(indeks) {
    case 1:
        return std::acos((DajStranicu(2)*DajStranicu(2) + DajStranicu(3)*DajStranicu(3) - DajStranicu(1)*DajStranicu(1))/(2*DajStranicu(3)*DajStranicu(2)));
    case 2:
        return std::acos((DajStranicu(1)*DajStranicu(1) + DajStranicu(3)*DajStranicu(3) - DajStranicu(2)*DajStranicu(2))/(2*DajStranicu(3)*DajStranicu(1)));
    case 3:
        return std::acos((DajStranicu(2)*DajStranicu(2) + DajStranicu(1)*DajStranicu(1) - DajStranicu(3)*DajStranicu(3))/(2*DajStranicu(1)*DajStranicu(2)));
    }
}
bool Trougao::DaLiJeUnutra(const Tacka &amp;t) const
{
    int O(Orijentacija(tac1,tac2,tac3));
    if(Orijentacija(tac1,tac2,t)== O &amp;&amp; Orijentacija(tac2,tac3,t) == O &amp;&amp; Orijentacija(tac3,tac1,t) == O)
        return true;
        
    return false;
}
void Trougao::Ispisi() const
{
    std::cout&lt;&lt;"(("&lt;&lt;tac1.first&lt;&lt;","&lt;&lt;tac1.second&lt;&lt;"),("&lt;&lt;tac2.first&lt;&lt;","&lt;&lt;tac2.second&lt;&lt;"),("&lt;&lt;tac3.first&lt;&lt;","&lt;&lt;tac3.second&lt;&lt;"))";
}

void Trougao::Transliraj(double delta_x, double delta_y)
{
    tac1.first += delta_x,tac2.first += delta_x, tac3.first += delta_x,tac1.second += delta_y, tac2.second += delta_y, tac3.second += delta_y;
}

void Trougao::Centriraj(const Tacka &amp;t)
{
    Transliraj(DajCentar().first-t.first,DajCentar().second -t.second);
}
void Trougao::Rotiraj(const Tacka &amp;t, double ugao)
{
    RotirajTacku(tac1,t,ugao),RotirajTacku(tac2,t,ugao),RotirajTacku(tac3,t,ugao);
}

void Trougao::Skaliraj(const Tacka &amp;t, double faktor)
{
    if(faktor- 0 &lt; EPS)
        throw std::domain_error("Nekorektan faktor skaliranja");
    SkalirajTacku(tac1,t,faktor),SkalirajTacku(tac2,t,faktor),SkalirajTacku(tac3,t,faktor);
}

void Trougao::Rotiraj(double ugao)
{
    Tacka t(DajCentar());
    RotirajTacku(tac1,t,ugao),RotirajTacku(tac2,t,ugao),RotirajTacku(tac3,t,ugao);
}
void Trougao::Skaliraj(double faktor)
{
    if(faktor-int(faktor) &lt; EPS)
        throw std::domain_error("Nekorektan faktor skaliranja");
    Tacka t(DajCentar());
    if(faktor &gt; 0)
    SkalirajTacku(tac1,t,faktor),SkalirajTacku(tac2,t,faktor),SkalirajTacku(tac3,t,faktor);
    else{
        faktor *= -1;
        SkalirajTacku(tac1,t,faktor),SkalirajTacku(tac2,t,faktor),SkalirajTacku(tac3,t,faktor);
        Rotiraj(4*atan(1));
    }
}
bool DaLiSuIdenticni(const Trougao &amp;t1, const Trougao &amp;t2)
{
    //garant niste razmišljali o autotestu kod kojeg bi ovo bilo netačno (iako je lahak) al svejedno mi je i ako dodate, samo bi potvrdilo da detaljno pregledate programe kako bi dodali novi AT
    if(std::abs((t1.DajCentar().first - t2.DajCentar().first))&lt;EPS &amp;&amp; std::abs((t1.DajCentar().second - t2.DajCentar().second)) &lt; EPS)
        return true;
    return false;
}
bool DaLiSuPodudarni(const Trougao &amp;t1, const Trougao &amp;t2)
{
    if(std::abs(t1.DajObim()-t2.DajObim()) &lt; EPS ) {
        std::vector&lt;std::pair&lt;double,Tacka&gt;&gt; a(3),b(3);
        for(int i(0); i &lt; 3; i++){
            a[i].first = t1.DajStranicu(i+1);
            b[i].first = t2.DajStranicu(i+1);
            a[i].second = t1.DajTjeme(i+1);
            b[i].second = t2.DajTjeme(i+1);
        }
<a name="7"></a><font color="#0000FF"><a href="match403-0.html#7" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_0.gif"/></a>

      std::sort(a.begin(),a.end(),[](std::pair&lt;double,Tacka&gt; x,std::pair&lt;double,Tacka&gt; y){
          return x.first&lt;y.first;
      }); 
      std::sort(b.begin(),b.end(),[](std::pair&lt;double,Tacka&gt; x,std::pair&lt;double,Tacka&gt; y){
</font>          return x.first&lt;y.first;
      }); 
      if(t1.Orijentacija(a[0].second,a[1].second,a[2].second) == t2.Orijentacija(b[0].second,b[1].second,b[2].second))
            return true;
    }
    return false;
}
bool DaLiSuSlicni(const Trougao &amp;t1, const Trougao &amp;t2)
{
    //Mogla je pomoćna al nemam vremena za razmišljat
    std::vector&lt;std::pair&lt;double,Tacka&gt;&gt; a(3),b(3);
        for(int i(0); i &lt; 3; i++){
            a[i].first = t1.DajStranicu(i+1);
            b[i].first = t2.DajStranicu(i+1);
            a[i].second = t1.DajTjeme(i+1);
            b[i].second = t2.DajTjeme(i+1);
        }
      std::sort(a.begin(),a.end(),[](std::pair&lt;double,Tacka&gt; x,std::pair&lt;double,Tacka&gt; y){
          return x.first&lt;y.first;
      }); 
      std::sort(b.begin(),b.end(),[](std::pair&lt;double,Tacka&gt; x,std::pair&lt;double,Tacka&gt; y){
          return x.first&lt;y.first;
      }); 

        if(std::abs(a[0].first/b[0].first - a[1].first/b[1].first)&lt;EPS &amp;&amp; std::abs(a[1].first/b[1].first - a[2].first/b[2].first)&lt;EPS){
        if(t1.Orijentacija(a[0].second,a[1].second,a[2].second) == t2.Orijentacija(b[0].second,b[1].second,b[2].second))
            return true;
        }
            
    return false;
}
int Trougao::Orijentacija(const Tacka &amp;t1,const Tacka &amp;t2, const Tacka &amp;t3)
{
    double ori(t1.first*(t2.second -t3.second)-t2.first*(t1.second - t3.second)+t3.first*(t1.second -t2.second));

    if(ori&gt; 0)
        return 1;
    else if(ori &lt; 0)
        return -1;
    else return 0;
}</pre>
</body>
</html>
