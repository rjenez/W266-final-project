<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z1/student2553.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z1/student2553.cpp<p></p><pre>
#include &lt;iostream&gt;
#include &lt;utility&gt;
#include &lt;stdexcept&gt;
#include &lt;cmath&gt;
#include &lt;vector&gt;
#include &lt;memory&gt;
#include &lt;algorithm&gt;
typedef std::pair&lt;double, double&gt; Tacka;
const double epsilon=10E-15;
class Trougao{
    Tacka t1,t2,t3;
    double DajP()const {return 0.5*(t1.first*(t2.second-t3.second)-t2.first*(t1.second-t3.second)+t3.first*(t1.second-t2.second));}
    int Proizvod() const{
        int suma(1);
        suma*=Orijentacija(t1,t2,t3);
        suma*=Orijentacija(t1,t3,t2);
        suma*=Orijentacija(t2,t1,t3);
        suma*=Orijentacija(t2,t3,t1);
        suma*=Orijentacija(t3,t1,t2);
        suma*=Orijentacija(t3,t2,t1);
        return suma;
    }
    int SumaOrijentacija1() const{
        int suma(0);
        suma+=Orijentacija(t1,t2,t3);
        //suma+=Orijentacija(t1,t3,t2);
        suma+=Orijentacija(t2,t1,t3);
        //suma+=Orijentacija(t2,t3,t1);
        //suma+=Orijentacija(t3,t1,t2);
        suma+=Orijentacija(t3,t2,t1);
        return suma;
    }
    int SumaOrijentacija2() const{
        int suma(0);
        suma+=Orijentacija(t1,t2,t3);
        suma+=Orijentacija(t1,t3,t2);
        suma+=Orijentacija(t2,t1,t3);
        suma+=Orijentacija(t2,t3,t1);
        suma+=Orijentacija(t3,t1,t2);
        suma+=Orijentacija(t3,t2,t1);
        return suma;
    }
public:
    static bool Jednako(double a,double b){return std::fabs(a-b)&lt;epsilon;}
    Trougao(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3){Postavi(t1,t2,t3);}
    void Postavi(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3){
        if(Orijentacija(t1,t2,t3)==0)throw std::domain_error("Nekorektne pozicije tjemena");
        Trougao::t1=t1; Trougao::t2=t2; Trougao::t3=t3;
    }
    
    void Postavi(int indeks, const Tacka &amp;t);
    static int Orijentacija(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3){
        if(Jednako(t1.first*(t2.second-t3.second)-t2.first*(t1.second-t3.second)+t3.first*(t1.second-t2.second),0))return 0;
        else if((t1.first*(t2.second-t3.second)-t2.first*(t1.second-t3.second)+t3.first*(t1.second-t2.second))&lt;0)return -1;
        else return 1;
    }
    Tacka DajTjeme(int indeks) const;
    double DajStranicu(int indeks) const;
    double DajUgao(int indeks) const;
    Tacka DajCentar() const{return std::make_pair((t1.first+t2.first+t3.first)/2.0,(t1.second+t2.second+t3.second)/2.0);}
<a name="2"></a><font color="#0000FF"><a href="match635-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_1.gif"/></a>

    double DajObim() const{return DajStranicu(1)+DajStranicu(2)+DajStranicu(3);}
    double DajPovrsinu() const{return 0.5*std::fabs(t1.first*(t2.second-t3.second)-t2.first*(t1.second-t3.second)+t3.first*(t1.second-t2.second));}
</font>    bool DaLiJePozitivnoOrijentiran() const{return Orijentacija(t1,t2,t3)==1;}
    bool DaLiJeUnutra(const Tacka &amp;t) const;//popravi
    void Ispisi() const{std::cout&lt;&lt;"(("&lt;&lt;t1.first&lt;&lt;","&lt;&lt;t1.second&lt;&lt;"),("&lt;&lt;t2.first&lt;&lt;","&lt;&lt;t2.second&lt;&lt;"),("&lt;&lt;t3.first&lt;&lt;","&lt;&lt;t3.second&lt;&lt;"))";}
    void Transliraj(double delta_x, double delta_y){t1.first+=delta_x; t2.first+=delta_x; t3.first+=delta_x; t1.second+=delta_y; t2.second+=delta_y; t3.second+=delta_y; }
    void Centriraj(const Tacka &amp;t);
    void Rotiraj(const Tacka &amp;t, double ugao);
    void Skaliraj(const Tacka &amp;t, double faktor){
        if(std::fabs(faktor-epsilon)&lt;0)throw std::domain_error("Nekorektan faktor skaliranja");
        Tacka n1,n2,n3;
<a name="1"></a><font color="#00FF00"><a href="match635-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_2.gif"/></a>

        n1=std::make_pair(t.first+faktor*(t1.first-t.first),t.second+faktor*(t1.second-t.second));
        n2=std::make_pair(t.first+faktor*(t2.first-t.first),t.second+faktor*(t2.second-t.second));
        n3=std::make_pair(t.first+faktor*(t3.first-t.first),t.second+faktor*(t3.second-t.second));
</font>        Postavi(n1,n2,n3);
    }
    void Rotiraj(double ugao){Tacka cent(DajCentar()); Rotiraj(cent,ugao);}
    void Skaliraj(double faktor){Tacka cent(DajCentar()); Skaliraj(cent,faktor);}
    friend bool DaLiSuIdenticni(const Trougao &amp;t1, const Trougao &amp;t2);
    friend bool DaLiSuPodudarni(const Trougao &amp;t1, const Trougao &amp;t2);
    friend bool DaLiSuSlicni(const Trougao &amp;t1, const Trougao &amp;t2);
};
void Trougao::Postavi(int indeks, const Tacka &amp;t){
    switch(indeks){
        case 1:
            if(Orijentacija(t,t2,t3)==0)throw std::domain_error("Nekorektne pozicije tjemena");
            t1=t;
            break;
        case 2:
            if(Orijentacija(t1,t,t3)==0)throw std::domain_error("Nekorektne pozicije tjemena");
            t2=t;
            break;
        case 3:
            if(Orijentacija(t1,t2,t)==0)throw std::domain_error("Nekorektne pozicije tjemena");
            t3=t;
            break;
        default: 
            if(indeks&lt;1 || indeks&gt;3)throw std::range_error("Nekorektan indeks");
            break;
    }
}
Tacka Trougao::DajTjeme(int indeks)const{
    switch(indeks){
        case 1:
            return t1;
            break;
        case 2:
            return t2;
            break;
        case 3:
            return t3;
            break;
        default: 
            if(indeks&lt;1 || indeks&gt;3)throw std::range_error("Nekorektan indeks");
            break;
    }
    return std::make_pair(0.,0.);
}
double Trougao::DajStranicu(int indeks) const{
    switch(indeks){
        case 1:
            return std::sqrt((t2.first-t3.first)*(t2.first-t3.first)+(t2.second-t3.second)*(t2.second-t3.second));
            break;
        case 2:
            return std::sqrt((t1.first-t3.first)*(t1.first-t3.first)+(t1.second-t3.second)*(t1.second-t3.second));
            break;
        case 3:
            return std::sqrt((t1.first-t2.first)*(t1.first-t2.first)+(t1.second-t2.second)*(t1.second-t2.second));
            break;
        default: 
            if(indeks&lt;1 || indeks&gt;3)throw std::range_error("Nekorektan indeks");
            break;
    }
    return 0;
}
double Trougao::DajUgao(int indeks) const{
    double k1,k2;
    switch(indeks){
        case 1:
            k1=(t3.second-t1.second)/(t3.first-t1.first);
            k2=(t2.second-t1.second)/(t2.first-t1.first);
            return std::atan(std::fabs((k2-k1)/(1+k1*k2)));
            break;
        case 2:
            k1=(t3.second-t2.second)/(t3.first-t2.first);
            k2=(t1.second-t2.second)/(t1.first-t2.first);
            return std::atan(std::fabs((k2-k1)/(1+k1*k2)));
            break;
        case 3:
            k1=(t1.second-t3.second)/(t1.first-t3.first);
            k2=(t2.second-t3.second)/(t2.first-t3.first);
            return std::atan(std::fabs((k2-k1)/(1+k1*k2)));
            break;
        default: 
            if(indeks&lt;1 || indeks&gt;3)throw std::range_error("Nekorektan indeks");
            break;
    }
    return 0;
}
void Trougao::Centriraj(const Tacka &amp;t){
    double delta_x,delta_y;
    Tacka c(DajCentar());
    delta_x=c.first-t.first;
    delta_y=c.second-t.second;
    Transliraj(delta_x,delta_y);
}
void Trougao::Rotiraj(const Tacka &amp;t, double ugao){
    Tacka n1,n2,n3;
<a name="0"></a><font color="#FF0000"><a href="match635-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_7.gif"/></a>

    n1=std::make_pair(t.first+(t1.first-t.first)*std::cos(ugao)-(t1.second-t.second)*std::sin(ugao),
    t.second+(t1.first-t.first)*std::sin(ugao)+(t1.second-t.second)*std::cos(ugao));
    
    n2=std::make_pair(t.first+(t2.first-t.first)*std::cos(ugao)-(t2.second-t.second)*std::sin(ugao),
    t.second+(t2.first-t.first)*std::sin(ugao)+(t2.second-t.second)*std::cos(ugao));
    
    n3=std::make_pair(t.first+(t3.first-t.first)*std::cos(ugao)-(t3.second-t.second)*std::sin(ugao),
    t.second+(t3.first-t.first)*std::sin(ugao)+(t3.second-t.second)*std::cos(ugao));
</font>    Postavi(n1,n2,n3);
}
bool DaLiSuIdenticni(const Trougao &amp;t1, const Trougao &amp;t2){
    return Trougao::Jednako(t1.DajTjeme(1).first+t1.DajTjeme(2).first+t1.DajTjeme(3).first,t2.DajTjeme(1).first+t2.DajTjeme(2).first+t2.DajTjeme(3).first) &amp;&amp; 
        Trougao::Jednako(t1.DajTjeme(1).second+t1.DajTjeme(2).second+t1.DajTjeme(3).second,t2.DajTjeme(1).second+t2.DajTjeme(2).second+t2.DajTjeme(3).second);
}
bool DaLiSuSlicni(const Trougao &amp;t1, const Trougao &amp;t2){
    return Trougao::Jednako((t1.DajObim()/t2.DajObim())*(t1.DajObim()/t2.DajObim()),t1.DajPovrsinu()/t2.DajPovrsinu());//
}//
bool DaLiSuPodudarni(const Trougao &amp;t1, const Trougao &amp;t2){

    return Trougao::Jednako(t1.DajObim(),t2.DajObim()) &amp;&amp; Trougao::Jednako(t1.DajPovrsinu(),t2.DajPovrsinu());
}
bool Trougao::DaLiJeUnutra(const Tacka &amp;t) const{
    int o1,o2,o3,o4;
    o1=Orijentacija(t1,t2,t3);
    o2=Orijentacija(t1,t2,t);
    o3=Orijentacija(t2,t3,t);
    o4=Orijentacija(t3,t1,t);

   // if(o1*o2*o3*o4==0)std::cout&lt;&lt;"NIJE SIGURNO"&lt;&lt;std::endl;
    //else if(o1==o2 &amp;&amp; o2==o3 &amp;&amp; o3==o4)std::cout&lt;&lt;"Jeste"&lt;&lt;std::endl;
    return o1==o2 &amp;&amp; o2==o3 &amp;&amp; o3==o4;
}
void UnesiBroj(int &amp;br,int znak){
    int x;
    while(std::cin&gt;&gt;x,!std::cin || x*znak&lt;0 ||  std::cin.peek()!='\n'){   
        std::cout&lt;&lt;"Unijeli ste pogresan podatak! Pokusajte ponovo: "&lt;&lt;std::endl;
        std::cin.clear();
        std::cin.ignore(10000,'\n');
    }
    br=x;
    
}
int main ()
{//
    int n(0);
    std::cout&lt;&lt;"Koliko zelite kreirati trouglova: ";
    UnesiBroj(n,1);
    std::vector&lt;std::shared_ptr&lt;Trougao&gt;&gt;trouglovi(n,nullptr);
    Tacka t1,t2,t3,t;
    double x,y;
    for(int i=0; i&lt;trouglovi.size();i++){
        std::cout&lt;&lt;"Unesite podatke za "&lt;&lt;i+1&lt;&lt;". trougao (x1 y1 x2 y2 x3 y3): ";
        std::cin&gt;&gt;x&gt;&gt;y;
        t1=std::make_pair(x,y);
        std::cin&gt;&gt;x&gt;&gt;y;
        t2=std::make_pair(x,y);
        std::cin&gt;&gt;x&gt;&gt;y;
        t3=std::make_pair(x,y);
        try{
            trouglovi[i]=std::make_shared&lt;Trougao&gt;(Trougao(t1,t2,t3));
        }catch(std::domain_error a){
            std::cout&lt;&lt;a.what()&lt;&lt;std::endl;
            i--;
        }catch(...){
            std::cout&lt;&lt;"Nedovoljno memorije!"&lt;&lt;std::endl;
            i--;
        }
    }
    std::cout&lt;&lt;"Unesite vektor translacije (dx dy): ";
    double dx,dy;
    std::cin&gt;&gt;dx&gt;&gt;dy;
    std::cout&lt;&lt;"Unesite ugao rotacije: ";
    double ug;
    std::cin&gt;&gt;ug;
    std::cout&lt;&lt;"Unesite faktor skaliranja: ";
    double k;
    while(std::cin&gt;&gt;k,Trougao::Jednako(k,0)){
        std::cout&lt;&lt;"Faktor skaliranja ne moze biti 0! Unesite ponovo: ";
    }

    std::transform(trouglovi.begin(),trouglovi.end(),trouglovi.begin(),[dx,dy,k,ug](std::shared_ptr&lt;Trougao&gt; t){
        t-&gt;Transliraj(dx,dy);
        t-&gt;Rotiraj(ug);
        t-&gt;Skaliraj(t-&gt;DajTjeme(1),k);
        return t;
    });
    std::sort(trouglovi.begin(),trouglovi.end(),[](std::shared_ptr&lt;Trougao&gt; t1,std::shared_ptr&lt;Trougao&gt; t2){
        return t1-&gt;DajPovrsinu()&lt;t2-&gt;DajPovrsinu();
    });
    std::cout&lt;&lt;"Trouglovi nakon obavljenih transformacija: "&lt;&lt;std::endl;
    std::for_each(trouglovi.begin(),trouglovi.end(),[](std::shared_ptr&lt;Trougao&gt; t){
        t-&gt;Ispisi();
        std::cout&lt;&lt;std::endl;
    });
    std::cout&lt;&lt;"Trougao sa najmanjim obimom: ";
<a name="3"></a><font color="#00FFFF"><a href="match635-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_1.gif"/></a>

    auto p(std::min_element(trouglovi.begin(),trouglovi.end(),[](std::shared_ptr&lt;Trougao&gt; t1,std::shared_ptr&lt;Trougao&gt; t2){
        return (t1-&gt;DajObim())&lt;(t2-&gt;DajObim());
    }));
    (*p)-&gt;Ispisi();
    std::cout&lt;&lt;std::endl;
</font>    std::cout&lt;&lt;"Parovi identicnih trouglova: "&lt;&lt;std::endl;
    for(int i=0; i&lt;trouglovi.size();i++){
        for(int j=i+1; j&lt;trouglovi.size(); j++)
            if(DaLiSuIdenticni(*trouglovi[i],*trouglovi[j])){
                trouglovi[i]-&gt;Ispisi();
                std::cout&lt;&lt;" i ";
                trouglovi[j]-&gt;Ispisi();
                std::cout&lt;&lt;std::endl;
            }
    }
    std::cout&lt;&lt;"Parovi podudarnih trouglova: "&lt;&lt;std::endl;
    for(int i=0; i&lt;trouglovi.size();i++){
        for(int j=i+1; j&lt;trouglovi.size(); j++)
            if(DaLiSuPodudarni(*trouglovi[i],*trouglovi[j])){
                trouglovi[i]-&gt;Ispisi();
                std::cout&lt;&lt;" i ";
                trouglovi[j]-&gt;Ispisi();
                std::cout&lt;&lt;std::endl;
            }
    }
 
    std::cout&lt;&lt;"Parovi slicnih trouglova: "&lt;&lt;std::endl;
    for(int i=0; i&lt;trouglovi.size();i++){
        for(int j=i+1; j&lt;trouglovi.size(); j++)
            if(DaLiSuSlicni(*trouglovi[i],*trouglovi[j])){
                trouglovi[i]-&gt;Ispisi();
                std::cout&lt;&lt;" i ";
                trouglovi[j]-&gt;Ispisi();
                std::cout&lt;&lt;std::endl;
            }
    }
	return 0;
}</pre>
</body>
</html>
