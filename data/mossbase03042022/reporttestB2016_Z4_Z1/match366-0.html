<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z1/student5378.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z1/student5378.cpp<p></p><pre>
<a name="4"></a><font color="#FF00FF"><a href="match366-1.html#4" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_1.gif"/></a>

/B 2016/2017, ZadaÄ‡a 4, Zadatak 1
//Napomena: testovi ce biti dostupni dan pred rok!
#include &lt;iostream&gt;
#include &lt;cmath&gt;
#include &lt;stdexcept&gt;
#include &lt;memory&gt;
#include &lt;vector&gt;
#include &lt;algorithm&gt;
using namespace std;
typedef std::pair&lt;double,double&gt; Tacka;
class Trougao{
    Tacka a,b,c;
</font>    static bool Provjera(double d1,double d2){
        const double eps=1E-10;
        if(fabs(d1-d2)&lt;=eps*(fabs(d1)+fabs(d2))) return true;
        return false;
    }
    static bool Provjera(Tacka t1,Tacka t2){
        if(Provjera(t1.first,t2.first)==true &amp;&amp; Provjera(t1.second,t2.second)==true) return true;
        return false;
    }
    public:
    Trougao(const Tacka &amp;t1,const Tacka &amp;t2,const Tacka &amp;t3){
        Postavi (t1,t2,t3);
    }
    void Postavi(const Tacka &amp;t1,const Tacka &amp;t2,const Tacka &amp;t3){
        if(Provjera(t1.first*(t2.second-t3.second)-t2.first*(t1.second-t3.second)+t3.first*(t1.second-t2.second),0))throw domain_error("Nekorektne pozicije tjemena");
        a=t1;
        b=t2;
        c=t3;
    }
    void Postavi(int indeks , const Tacka &amp;t){
        if(indeks==1)a=t;
        else if(indeks==2)b=t;
        else if(indeks==3)c=t;
        else throw range_error("Nekorektan indeks");
    }
    static int Orijentacija(const Tacka &amp;t1,const Tacka &amp;t2,const Tacka &amp;t3){
        static int o=t1.first*(t2.second-t3.second)-t2.first*(t1.second-t3.second)+t3.first*(t1.second-t2.second);
        if(o&gt;0) return 1;
        else if(o&lt;0)return -1;
        return 0;
    }
    Tacka DajTjeme(int indeks)const{
        if(indeks==1)return a;
        else if(indeks == 2)return b;
        else if(indeks==3)return c;
        else throw range_error("Nekorektan indeks");
    }
    double DajStranicu(int indeks )const{
        double stranica;
        if(indeks ==1) stranica=sqrt((b.first-c.first)*(b.first-c.first)+(b.second-c.second)*(b.second-c.second));
        else if(indeks ==2)stranica=sqrt((a.first-c.first)*(a.first-c.first)+(a.second-c.second)*(a.second-c.second));
        else if(indeks==3)stranica=sqrt((a.first-b.first)*(a.first-b.first)+(a.second-b.second)*(a.second-b.second));
        else throw range_error("Nekorektan indeks");
        return stranica;
    }
    double DajUgao(int indeks)const{
        double A,B,C;
        A=DajStranicu(1);B=DajStranicu(2);C=DajStranicu(3);
        double ugao;
        if(indeks ==1)ugao = acos((B*B+C*C-A*A)/(2*B*C));
        else if(indeks==2)ugao =acos((A*A+C*C-B*B)/(2*A*C));
        else if(indeks==3)ugao =acos((A*A+B*B-C*C)/(2*A*B));
        else throw range_error ("Nekorektan indeks");
        return ugao;
    }
    Tacka DajCentar()const{
        return make_pair((a.first+b.first+c.first)/3,(a.second+b.second+c.second)/3);
    }
    double DajObim()const{
        double A,B,C;
        A=DajStranicu(1);B=DajStranicu(2);C=DajStranicu(3);
        return A+B+C;
    }
    double DajPovrsinu()const{
        double pov;
        pov=(1/2.)*fabs(a.first*(b.second-c.second)-b.first*(a.second-c.second)+c.first*(a.second-b.second));
        return pov;
    }
    bool DaLiJePozitivnoOrijentiran()const{
        return Orijentacija(a,b,c);
    }
<a name="2"></a><font color="#0000FF"><a href="match366-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_5.gif"/></a>

    bool DaLiJeUnutra(const Tacka &amp;t)const;
    void Ispisi()const{
        cout&lt;&lt;"(("&lt;&lt;a.first&lt;&lt;","&lt;&lt;a.second&lt;&lt;"),("&lt;&lt;b.first&lt;&lt;","&lt;&lt;b.second&lt;&lt;"),("&lt;&lt;c.first&lt;&lt;","&lt;&lt;c.second&lt;&lt;"))";
    }
    void Transliraj(double delta_x,double delta_y){
        a=make_pair(a.first+delta_x,a.second+delta_y);
        b=make_pair(b.first+delta_x,b.second+delta_y);
        c=make_pair(c.first+delta_x,c.second+delta_y);
</font>        Postavi(a,b,c);
    }
    void Centriraj(const Tacka &amp;t){
        Transliraj(t.first/2,t.second/2);
    }
<a name="0"></a><font color="#FF0000"><a href="match366-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_8.gif"/></a>

    void Rotiraj(const Tacka &amp;t,double ugao){
        a=make_pair(t.first+(a.first-t.first)*cos(ugao)-(a.second-t.second)*sin(ugao),t.second+(a.first-t.first)*sin(ugao)+(a.second-t.second)*cos(ugao));
        b=make_pair(t.first+(b.first-t.first)*cos(ugao)-(b.second-t.second)*sin(ugao),t.second+(b.first-t.first)*sin(ugao)+(b.second-t.second)*cos(ugao));
        c=make_pair(t.first+(c.first-t.first)*cos(ugao)-(c.second-t.second)*sin(ugao),t.second+(c.first-t.first)*sin(ugao)+(c.second-t.second)*cos(ugao));
</font>        Postavi(a,b,c);
    }
    void Skaliraj(const Tacka &amp;t,double faktor){
<a name="1"></a><font color="#00FF00"><a href="match366-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_5.gif"/></a>

        a=make_pair(t.first+faktor*(a.first-t.first),t.second+faktor*(a.second-t.second));
        b=make_pair(t.first+faktor*(b.first-t.first),t.second+faktor*(b.second-t.second));
        c=make_pair(t.first+faktor*(c.first-t.first),t.second+faktor*(c.second-t.second));
    }
    void Rotiraj(double ugao){
        Rotiraj(DajCentar(),ugao);
    }
    void Skaliraj(double faktor){
        Skaliraj(DajCentar(),faktor);
    }
    friend bool DaLiSuIdenticni(const Trougao &amp;t1,const Trougao &amp;t2){
</font>        return Provjera(t1.DajCentar(),t2.DajCentar());
    }
    friend bool DaLiSuPodudarni(const Trougao &amp;t1,const Trougao &amp;t2){
        if(Provjera (t1.DajPovrsinu(),t2.DajPovrsinu()))return true;
        return false;
    }
    friend bool DaLiSuSlicni(const Trougao &amp;t1,const Trougao &amp;t2){
        double A,B,C;
        A=t1.DajStranicu(1);B=t1.DajStranicu(2);C=t1.DajStranicu(3);
        double A1,B1,C1;
        A1=t2.DajStranicu(1);B1=t2.DajStranicu(2);C1=t2.DajStranicu(3);
        double k=A/A1;
        double k1=A/B1;
        double k2=A/C1;
        if(Provjera (k,B/B1)&amp;&amp;Provjera(k,C/C1)) return true;
        if(Provjera (k1,B/C1)&amp;&amp;Provjera(k,C/A1))return true;
        if(Provjera(k2,B/A1)&amp;&amp;Provjera(k2,C/B1))return true;
        return false;
    }
};
int main ()
{
    int n;
    cout&lt;&lt;"Koliko zelite kreirati trouglova: ";
    cin&gt;&gt;n;
    vector&lt;shared_ptr&lt;Trougao&gt;&gt; v;
    for(int i=0;i&lt;n;i++){
        cout&lt;&lt;"Unesite podatke za "&lt;&lt;i+1&lt;&lt;". trougao (x1 y1 x2 y2 x3 y3): ";
        Tacka a,b,c;
        cin&gt;&gt;a.first&gt;&gt;a.second&gt;&gt;b.first&gt;&gt;b.second&gt;&gt;c.first&gt;&gt;c.second;
        try{
            v.push_back(make_shared&lt;Trougao&gt;(a,b,c));
        }
        catch(domain_error e){
            i--;
            cout&lt;&lt;e.what()&lt;&lt;", ponovite unos!"&lt;&lt;endl;
        }
    }
    Tacka t;
    cout &lt;&lt; "Unesite vektor translacije (dx dy): ";
<a name="3"></a><font color="#00FFFF"><a href="match366-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_2.gif"/></a>

    cin&gt;&gt;t.first&gt;&gt;t.second;
    cout&lt;&lt;"Unesite ugao rotacije: ";
    double u;
    cin&gt;&gt;u;
    cout&lt;&lt;"Unesite faktor skaliranja: ";
    double f;
    cin&gt;&gt;f;
    
    cout &lt;&lt;"Trouglovi nakon obavljenih transformacija:"&lt;&lt;endl;
    for(int i=0;i&lt;v.size();i++){
        v[i]-&gt;Transliraj(t.first,t.second);
</font>        v[i]-&gt;Rotiraj(u);
        v[i]-&gt;Skaliraj(v[i]-&gt;DajTjeme(1),f);
    }
    sort(v.begin(),v.end(),[](shared_ptr&lt;Trougao&gt;t1,shared_ptr&lt;Trougao&gt;t2){return t1-&gt;DajPovrsinu()&lt;t2-&gt;DajPovrsinu();});
    for(int i=0;i&lt;v.size();i++){
        v[i]-&gt;Ispisi();cout&lt;&lt;endl;
    }
    cout&lt;&lt;"Trougao sa najmanjim obimom: ";
    auto obim=min_element(v.begin(),v.end(),[](shared_ptr&lt;Trougao&gt;t1,shared_ptr&lt;Trougao&gt;t2){return t1-&gt;DajObim()&lt;t2-&gt;DajObim();});
    (*obim)-&gt;Ispisi();cout&lt;&lt;endl;
    int br=0;
    for(int i=0;i&lt;v.size()-1;i++){
        for(int j=i+1;j&lt;v.size();j++){
            if(DaLiSuIdenticni(*v[i],*v[j])){
                br++;
                if(br==1)cout&lt;&lt;"Parovi identicnih trouglova: "&lt;&lt;endl;
                v[i]-&gt;Ispisi();
                cout&lt;&lt;" i ";
                v[j]-&gt;Ispisi();
                cout&lt;&lt;endl;
                br++;
            }
        }
    }
    if(br==0)cout&lt;&lt;"Nema identicnih trouglova!"&lt;&lt;endl;
    br=0;
    for(int i=0;i&lt;v.size()-1;i++){
    for(int j=i+1;j&lt;v.size();j++){
        if(DaLiSuPodudarni(*v[i],*v[j])){
            br++;
            if(br==1)cout&lt;&lt;"Parovi podudarnih trouglova: "&lt;&lt;endl;
            v[i]-&gt;Ispisi();
            cout&lt;&lt;" i ";
            v[i]-&gt;Ispisi();
            cout&lt;&lt;endl;
            break;
        }
    }
}
if(br==0)cout&lt;&lt;"Nema podudarnih trouglova!"&lt;&lt;endl;
br=0;
for(int i=0;i&lt;v.size()-1;i++){
    for(int j=i+1;j&lt;v.size();j++){
        if(DaLiSuSlicni(*v[i],*v[j])){
            br++;
            if(br==1)cout&lt;&lt;"Parovi slicnih trouglova: "&lt;&lt;endl;
            v[i]-&gt;Ispisi();
            cout&lt;&lt;" i ";
            v[i]-&gt;Ispisi();
            cout&lt;&lt;endl;
        }
    }
}
if(br==0) cout&lt;&lt;"Nema slicnih trouglova!"&lt;&lt;endl;
	return 0;
}</pre>
</body>
</html>
