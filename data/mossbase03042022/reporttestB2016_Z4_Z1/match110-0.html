<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z1/student2676.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z1/student2676.cpp<p></p><pre>
#include &lt;iostream&gt;
#include &lt;stdexcept&gt;
#include &lt;cmath&gt;
#include &lt;algorithm&gt;
#include &lt;memory&gt;
#include &lt;vector&gt;

<a name="3"></a><font color="#00FFFF"><a href="match110-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_1.gif"/></a>

using std::cin;
using std::cout;
using std::vector;
using std::shared_ptr;
using std::make_shared;

typedef std::pair&lt;double, double&gt; Tacka;

double s(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3) {return t1.first*(t2.second-t3.second) - t2.first*(t1.second-t3.second) + t3.first*(t1.second-t2.second);}
</font><a name="2"></a><font color="#0000FF"><a href="match110-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_6.gif"/></a>


class Trougao
{
    Tacka koor[3];
    double duz(const Tacka &amp;A, const Tacka &amp;B) const
    {
        return sqrt((A.first-B.first)*(A.first-B.first) + (A.second-B.second)*(A.second-B.second));
    }
    double strnas(int o) const
    {
        if(o==1) return duz(koor[1], koor[2]);
        if(o==2) return duz(koor[0], koor[2]);
        return duz(koor[0], koor[1]);
    }
    static bool prd(double a, double b){return fabs(a-b)&lt;1e-10;}
    
    public:
    
    Trougao(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3);
    void Postavi(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3);
</font>    void Postavi(int indeks, const Tacka &amp;t);
    static int Orijentacija(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3);
    Tacka DajTjeme(int indeks) const;
    double DajStranicu(int indeks) const;
    double DajUgao(int indeks) const;
    Tacka DajCentar() const;
    double DajObim() const;
    double DajPovrsinu() const;
    bool DaLiJePozitivnoOrijentiran() const;
    bool DaLiJeUnutra(const Tacka &amp;t) const;
    void Ispisi() const;
    void Transliraj(double delta_x, double delta_y);
    void Centriraj(const Tacka &amp;t);
    void Rotiraj(const Tacka &amp;t, double ugao);
    void Skaliraj(const Tacka &amp;t, double faktor);
    void Rotiraj(double ugao);
    void Skaliraj(double faktor);
    friend bool DaLiSuIdenticni(const Trougao &amp;t1, const Trougao &amp;t2);
<a name="1"></a><font color="#00FF00"><a href="match110-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_24.gif"/></a>

    friend bool DaLiSuPodudarni(const Trougao &amp;t1, const Trougao &amp;t2);
    friend bool DaLiSuSlicni(const Trougao &amp;t1, const Trougao &amp;t2);
};

int Trougao::Orijentacija(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3)
{
    if(s(t1, t2, t3) &gt; 0)
    return 1;
    else
    if(s(t1, t2, t3) &lt; 0)
    return -1;
    return 0;
}
Trougao::Trougao(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3)
{
    if(!Orijentacija(t1, t2, t3)) throw std::domain_error("Nekorektne pozicije tjemena");
    this-&gt;koor[0]=t1;
    this-&gt;koor[1]=t2;
    this-&gt;koor[2]=t3;
}
void Trougao::Postavi(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3)
{
    if(!Orijentacija(t1, t2, t3)) throw std::domain_error("Nekorektne pozicije tjemena");
    this-&gt;koor[0]=t1;
    this-&gt;koor[1]=t2;
    this-&gt;koor[2]=t3;
}
void Trougao::Postavi(int indeks, const Tacka &amp;t)
{
    if(indeks!=1 &amp;&amp; indeks!=2 &amp;&amp; indeks!=3) throw std::range_error("Nekorektan indeks");
    this-&gt;koor[indeks-1]=t;
}
Tacka Trougao::DajTjeme(int indeks) const
{
    if(indeks!=1 &amp;&amp; indeks!=2 &amp;&amp; indeks!=3) throw std::range_error("Nekorektan indeks");
    return this-&gt;koor[indeks-1];
}
double Trougao::DajStranicu(int indeks) const
{
    if(indeks!=1 &amp;&amp; indeks!=2 &amp;&amp; indeks!=3) throw std::range_error("Nekorektan indeks");
    return this-&gt;strnas(indeks);
}
double Trougao::DajUgao(int indeks) const
{
    if(indeks!=1 &amp;&amp; indeks!=2 &amp;&amp; indeks!=3) throw std::range_error("Nekorektan indeks");
    int a, b, c;
    if(indeks==1)
    {
        a=2;
        b=3;
        c=1;
    }
    if(indeks==2)
    {
        a=1;
        b=3;
        c=2;
    }
    if(indeks==3)
    {
        a=1;
        b=2;
        c=3;
    }
    return acos((Trougao::DajStranicu(a)*Trougao::DajStranicu(a) + Trougao::DajStranicu(b)*Trougao::DajStranicu(b) - Trougao::DajStranicu(c)*Trougao::DajStranicu(c)) / (2*Trougao::DajStranicu(a)*Trougao::DajStranicu(b)));
}
Tacka Trougao::DajCentar() const
{
    Tacka cen;
    cen.first=(this-&gt;koor[0].first + this-&gt;koor[1].first + this-&gt;koor[2].first)/3;
    cen.second=(this-&gt;koor[0].second + this-&gt;koor[1].second + this-&gt;koor[2].second)/3;
    return cen;
}
double Trougao::DajObim() const
{
    return this-&gt;DajStranicu(1) + this-&gt;DajStranicu(2) + this-&gt;DajStranicu(3);
}
double Trougao::DajPovrsinu() const
{
    Tacka t1=this-&gt;DajTjeme(1);
    Tacka t2=this-&gt;DajTjeme(2);
    Tacka t3=this-&gt;DajTjeme(3);
    return 1/2. * fabs(s(t1, t2, t3));
}
bool Trougao::DaLiJePozitivnoOrijentiran() const
{
    return(Trougao::Orijentacija(Trougao::DajTjeme(1), Trougao::DajTjeme(2), Trougao::DajTjeme(3)));
}
bool Trougao::DaLiJeUnutra(const Tacka &amp;t) const
{
    int orj=Trougao::Orijentacija(Trougao::DajTjeme(1), Trougao::DajTjeme(2), Trougao::DajTjeme(3));
    return(orj==Trougao::Orijentacija(Trougao::DajTjeme(1), Trougao::DajTjeme(2), t) &amp;&amp; orj==Trougao::Orijentacija(Trougao::DajTjeme(2), Trougao::DajTjeme(3), t) &amp;&amp; orj==Trougao::Orijentacija(Trougao::DajTjeme(3), Trougao::DajTjeme(1), t));
}
void Trougao::Ispisi() const
{
    cout &lt;&lt; "((" &lt;&lt; koor[0].first &lt;&lt; "," &lt;&lt; koor[0].second &lt;&lt; "),(" &lt;&lt; koor[1].first &lt;&lt; "," &lt;&lt; koor[1].second &lt;&lt; "),(" &lt;&lt; koor[2].first &lt;&lt; "," &lt;&lt; koor[2].second &lt;&lt; "))";
</font><a name="0"></a><font color="#FF0000"><a href="match110-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_60.gif"/></a>

}
void Trougao::Transliraj(double delta_x, double delta_y)
{
    this-&gt;koor[0].first+=delta_x;
    this-&gt;koor[0].second+=delta_y;
    this-&gt;koor[1].first+=delta_x;
    this-&gt;koor[1].second+=delta_y;
    this-&gt;koor[2].first+=delta_x;
    this-&gt;koor[2].second+=delta_y;
}
void Trougao::Centriraj(const Tacka &amp;t)
{
    Trougao::Transliraj(t.first-Trougao::DajCentar().first, t.second-Trougao::DajCentar().second);
}
void Trougao::Rotiraj(const Tacka &amp;t, double ugao)
{
    double a;
    a=t.first + (koor[0].first-t.first)*cos(ugao) - (koor[0].second-t.second)*sin(ugao);
    this-&gt;koor[0].second=t.second + (koor[0].first-t.first)*sin(ugao) + (koor[0].second-t.second)*cos(ugao);
    this-&gt;koor[0].first=a;
    a=t.first + (koor[1].first-t.first)*cos(ugao) - (koor[1].second-t.second)*sin(ugao);
    this-&gt;koor[1].second=t.second + (koor[1].first-t.first)*sin(ugao) + (koor[1].second-t.second)*cos(ugao);
    this-&gt;koor[1].first=a;
    a=t.first + (koor[2].first-t.first)*cos(ugao) - (koor[2].second-t.second)*sin(ugao);
    this-&gt;koor[2].second=t.second + (koor[2].first-t.first)*sin(ugao) + (koor[2].second-t.second)*cos(ugao);
    this-&gt;koor[2].first=a;
}
void Trougao::Rotiraj(double ugao)
{
    Trougao::Rotiraj(Trougao::DajCentar(), ugao);
}
void Trougao::Skaliraj(const Tacka &amp;t, double faktor)
{
    if(!faktor) throw std::domain_error("Nekorektan faktor skaliranja");
    this-&gt;koor[0].first=t.first + faktor*(koor[0].first-t.first);
    this-&gt;koor[0].second=t.second + faktor*(koor[0].second-t.second);
    this-&gt;koor[1].first=t.first + faktor*(koor[1].first-t.first);
    this-&gt;koor[1].second=t.second + faktor*(koor[1].second-t.second);
    this-&gt;koor[2].first=t.first + faktor*(koor[2].first-t.first);
    this-&gt;koor[2].second=t.second + faktor*(koor[2].second-t.second);
}
void Trougao::Skaliraj(double faktor)
{
    Trougao::Skaliraj(Trougao::DajCentar(), faktor);
}
bool DaLiSuIdenticni(const Trougao &amp;t1, const Trougao &amp;t2)
{
    int a, b;
    if(t1.koor[0]==t2.koor[0])
    {
        a=1;
        b=2;
    }
    else if(t1.koor[0]==t2.koor[1])
    {
        a=0;
        b=2;
    }
    else if(t1.koor[0]==t2.koor[2])
    {
        a=0;
        b=1;
    }
    else return false;
    if(t1.koor[1]==t2.koor[a])
    {
        if(t1.koor[2]==t2.koor[b]) return true;
    }
    else if(t1.koor[1]==t2.koor[b])
    {
        if(t1.koor[2]==t2.koor[a]) return true;
    }
    return false;
}
bool DaLiSuPodudarni(const Trougao &amp;t1, const Trougao &amp;t2)
{
    for(int i=1;i&lt;=3;i++)
    {
        for(int j=1;j&lt;=3;j++)
        {
            for(int k=1;k&lt;=3;k++)
            {
                if(t1.Orijentacija(t1.DajTjeme(1), t1.DajTjeme(2), t1.DajTjeme(3))==t2.Orijentacija(t2.DajTjeme(i), t2.DajTjeme(j), t2.DajTjeme(k)))
                {
                    double a1=t1.DajStranicu(1);
                    double a2=t2.DajStranicu(i);
                    double b1=t1.DajStranicu(2);
                    double b2=t2.DajStranicu(j);
                    double c1=t1.DajStranicu(3);
                    double c2=t2.DajStranicu(k);
                    if(Trougao::prd(a1, a2) &amp;&amp; Trougao::prd(b1, b2) &amp;&amp; Trougao::prd(c1, c2)) return true;
                }
            }
        }
    }
    return false;
}
bool DaLiSuSlicni(const Trougao &amp;t1, const Trougao &amp;t2)
{
    for(int i=1;i&lt;=3;i++)
    {
        for(int j=1;j&lt;=3;j++)
        {
            for(int k=1;k&lt;=3;k++)
            {
                if(t1.Orijentacija(t1.DajTjeme(1), t1.DajTjeme(2), t1.DajTjeme(3))==t2.Orijentacija(t2.DajTjeme(i), t2.DajTjeme(j), t2.DajTjeme(k)))
                {

                    double a1=t1.DajUgao(1);
                    double a2=t2.DajUgao(i);
                    double b1=t1.DajUgao(2);
                    double b2=t2.DajUgao(j);
                    double c1=t1.DajUgao(3);
                    double c2=t2.DajUgao(k);
                    if(Trougao::prd(a1, a2) &amp;&amp; Trougao::prd(b1, b2) &amp;&amp; Trougao::prd(c1, c2)) return true;
                }
            }
        }
    }
    return false;
}

int main ()
{
    int n;
    cout &lt;&lt; "Koliko zelite kreirati trouglova: ";
    cin &gt;&gt; n;
    vector&lt;shared_ptr&lt;Trougao&gt;&gt; v(n);
    double x1, y1, x2, y2, x3, y3;
    for(int i=0;i&lt;n;i++)
    {
        cout &lt;&lt; "Unesite podatke za " &lt;&lt; i+1 &lt;&lt; ". trougao (x1 y1 x2 y2 x3 y3): ";
        cin &gt;&gt; x1 &gt;&gt; y1 &gt;&gt; x2 &gt;&gt; y2 &gt;&gt; x3 &gt;&gt; y3;
        try
        {
            Tacka A(x1, y1);
            Tacka B(x2, y2);
            Tacka C(x3, y3);
            Trougao t(A, B, C);
            v[i]=make_shared&lt;Trougao&gt; (t);
        }
        catch(std::domain_error ero)
        {
            cout &lt;&lt; ero.what() &lt;&lt; ", ponovite unos!\n";
            i--;
        }
    }
    double dx, dy;
    cout &lt;&lt; "Unesite vektor translacije (dx dy): ";
    cin &gt;&gt; dx &gt;&gt; dy;
    double ug;
    cout &lt;&lt; "Unesite ugao rotacije: ";
    cin &gt;&gt; ug;
    double fak;
    cout &lt;&lt; "Unesite faktor skaliranja: ";
    cin &gt;&gt; fak;
    vector &lt;shared_ptr&lt;Trougao&gt;&gt; tr(n);
    std::transform(v.begin(), v.end(), tr.begin(), [dx, dy, ug, fak](shared_ptr&lt;Trougao&gt; t)
    {
        t-&gt;Transliraj(dx, dy);
        t-&gt;Rotiraj(ug);
        t-&gt;Skaliraj(t-&gt;DajTjeme(1), fak);
        return t;
    });
    std::sort(tr.begin(), tr.end(), [](shared_ptr&lt;Trougao&gt; t1, shared_ptr&lt;Trougao&gt; t2)
    {
        double p1=t1-&gt;DajPovrsinu();
        double p2=t2-&gt;DajPovrsinu();
        return p1&lt;p2;
    });
    cout &lt;&lt; "Trouglovi nakon obavljenih transformacija:\n";
    std::for_each(tr.begin(), tr.end(), [](shared_ptr&lt;Trougao&gt; t)
    {
        t-&gt;Ispisi();
        cout &lt;&lt; "\n";
    });
    shared_ptr&lt;Trougao&gt; m=*min_element(tr.begin(), tr.end(), [](shared_ptr&lt;Trougao&gt; t1, shared_ptr&lt;Trougao&gt; t2)
    {
        double o1=t1-&gt;DajObim();
        double o2=t2-&gt;DajObim();
        return o1&lt;o2;
    });
    cout &lt;&lt; "Trougao sa najmanjim obimom: ";
    m-&gt;Ispisi();
    cout &lt;&lt; "\n";
    int kk=0;
    for(int i=0;i&lt;n-1;i++)
    {
        for(int j=i+1;j&lt;n;j++)
        {
            if(DaLiSuIdenticni(*tr[i], *tr[j]))
            {
                if(!kk) cout &lt;&lt; "Parovi identicnih trouglova:\n";
                tr[i]-&gt;Ispisi();
                cout &lt;&lt; " i ";
                tr[j]-&gt;Ispisi();
                cout &lt;&lt; "\n";
                kk++;
            }
        }
    }
    if(!kk) cout &lt;&lt; "Nema identicnih trouglova!\n";
    kk=0;
    for(int i=0;i&lt;n-1;i++)
    {
        for(int j=i+1;j&lt;n;j++)
        {
            if(DaLiSuPodudarni(*tr[i], *tr[j]))
            {
                if(!kk) cout &lt;&lt; "Parovi podudarnih trouglova:\n";
                tr[i]-&gt;Ispisi();
                cout &lt;&lt; " i ";
                tr[j]-&gt;Ispisi();
                cout &lt;&lt; "\n";
                kk++;
            }
        }
    }
    if(!kk) cout &lt;&lt; "Nema podudarnih trouglova!\n";
    kk=0;
    for(int i=0;i&lt;n-1;i++)
    {
        for(int j=i+1;j&lt;n;j++)
        {
            if(DaLiSuSlicni(*tr[i], *tr[j]))
            {
                if(!kk) cout &lt;&lt; "Parovi slicnih trouglova:\n";
                tr[i]-&gt;Ispisi();
                cout &lt;&lt; " i ";
                tr[j]-&gt;Ispisi();
                cout &lt;&lt; "\n";
                kk++;
            }
        }
    }
    if(!kk) cout &lt;&lt; "Nema slicnih trouglova!\n";
    return 0;
</font>}</pre>
</body>
</html>
