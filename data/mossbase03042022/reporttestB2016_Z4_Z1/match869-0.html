<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z1/student7341.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z1/student7341.cpp<p></p><pre>
/B 2016/2017, ZadaÄ‡a 4, Zadatak 1
//Napomena: testovi ce biti dostupni dan pred rok!
#include &lt;iostream&gt;
#include &lt;utility&gt;
#include &lt;stdexcept&gt;
#include &lt;cmath&gt;
#include &lt;vector&gt;
#include &lt;algorithm&gt;
#include &lt;memory&gt;

typedef std::pair&lt;double,double&gt; Tacka;

class Trougao {
    Tacka tjemena [3];
    public:
    //konstruktor
    Trougao(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3){
         if(Orijentacija(t1,t2,t3)==0) throw std:: domain_error ("Nekorektne pozicije tjemena");
        Postavi(t1,t2,t3);
    }   
    
    //fje clanice
    void Postavi(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3){
<a name="4"></a><font color="#FF00FF"><a href="match869-1.html#4" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_1.gif"/></a>

       if(Orijentacija(t1,t2,t3)==0) throw std:: domain_error ("Nekorektne pozicije tjemena");
        tjemena[0]=t1;
        tjemena[1]=t2;
        tjemena[2]=t3;
    }
    void Postavi(int indeks, const Tacka &amp;t){
        Test_indeksa(indeks);
</font>        tjemena[indeks-1]=t;
    } 
    static int Orijentacija(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3){
        double orijentacija(Orijentacija_i_Povrsina(t1,t2,t3));
        if (orijentacija&lt;0) return -1;
        if (orijentacija&gt;0) return 1;
        else return orijentacija;
    }
   
    
    Tacka DajTjeme(int indeks) const{
        Test_indeksa(indeks);
        return tjemena[indeks-1];
    }
    
    double DajStranicu(int indeks) const{
        Test_indeksa(indeks);
        double duzina(std::pow((DajTjeme(Tacka_desno(indeks)).first - DajTjeme(Tacka_lijevo(indeks)).first),2)  +  std::pow((DajTjeme(Tacka_desno(indeks)).second - DajTjeme(Tacka_lijevo(indeks)).second),2));
        return std::sqrt(duzina);
    }
    
    double DajUgao(int indeks) const{
        Test_indeksa(indeks);
        double kosinusugla(std::pow(DajStranicu(Tacka_desno(indeks)),2)+std::pow(DajStranicu(Tacka_lijevo(indeks)),2)-std::pow(DajStranicu(indeks),2));
        return std::acos(kosinusugla/(2 * DajStranicu(Tacka_desno(indeks)) * DajStranicu(Tacka_lijevo(indeks))));
    }
    
    Tacka DajCentar() const {
        double x((tjemena[0].first +  tjemena[1].first + tjemena[2].first)/3);
        double y((tjemena[0].second +  tjemena[1].second + tjemena[2].second)/3);
        return std::make_pair(x,y);
    }
        
    double DajObim() const{
        return (DajStranicu(1)+DajStranicu(2)+DajStranicu(3));
    }
    double DajPovrsinu() const{
       return ( abs ( Orijentacija_i_Povrsina(tjemena[0], tjemena[1], tjemena[2])  )/ 2);
     }
     
<a name="5"></a><font color="#FF0000"><a href="match869-1.html#5" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_1.gif"/></a>

    bool DaLiJePozitivnoOrijentiran() const {
        if(Orijentacija(tjemena[0],tjemena[1],tjemena[2])==1) return true;
        else return false;
    }
        
    bool DaLiJeUnutra(const Tacka &amp;t) const{
</font>        auto x(Orijentacija(tjemena[0],tjemena[1], tjemena[2]));
        if(x==Orijentacija(tjemena[0],tjemena[1],t) &amp;&amp; 
           x==Orijentacija(tjemena[1],tjemena[2],t) &amp;&amp;
           x==Orijentacija(tjemena[2],tjemena[0],t)) return true;
         else return false;  
    }
    
    void Ispisi() const{
        std::cout&lt;&lt;"(("&lt;&lt;DajTjeme(1).first&lt;&lt;","&lt;&lt;DajTjeme(1).second&lt;&lt;"),("&lt;&lt;DajTjeme(2).first&lt;&lt;","&lt;&lt;DajTjeme(2).second&lt;&lt;"),(";
<a name="0"></a><font color="#FF0000"><a href="match869-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_3.gif"/></a>

        std::cout&lt;&lt;DajTjeme(3).first&lt;&lt;","&lt;&lt;DajTjeme(3).second&lt;&lt;"))";
        
    }
    
   void Transliraj(double delta_x, double delta_y){
        for(int i=0;i&lt;3; i++){
            tjemena[i].first+=delta_x;
            tjemena[i].second+=delta_y;
        }
    }
    
    void Centriraj(const Tacka &amp;t){
        auto teziste(DajCentar());
        Transliraj(teziste.first - t.first, teziste.second - t.second);
    }
    
    void Rotiraj(const Tacka &amp;t, double ugao){
        for(int i=0; i&lt;3; i++){
</font><a name="2"></a><font color="#0000FF"><a href="match869-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_1.gif"/></a>

           double x=t.first+(tjemena[i].first-t.first)*std::cos(ugao)-(tjemena[i].second-t.second)*std::sin(ugao);
</font><a name="3"></a><font color="#00FFFF"><a href="match869-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_1.gif"/></a>

           double y=t.second+(tjemena[i].first-t.first)*std::sin(ugao)+(tjemena[i].second-t.second)*std::cos(ugao);
</font>           tjemena[i].first=x;
           tjemena[i].second=y;
        }
     }
     void Skaliraj(const Tacka &amp;t, double faktor){
         if(JesuLiJednaki(faktor,0)) throw std::domain_error ("Nekorektan faktor skaliranja");
         for(int i=0;i &lt;3; i++){
             tjemena[i].first=t.first + faktor*(tjemena[i].first - t.first);
             tjemena[i].second=t.second + faktor*(tjemena[i].second - t.second);
         }
     }
     void Rotiraj(double ugao){
         auto teziste(DajCentar());
         Rotiraj(teziste,ugao);
     }   
     void Skaliraj(double faktor){
         auto teziste(DajCentar());
         Skaliraj(teziste,faktor);
         
     }
     
      // pomocne funkcije
    void Test_indeksa(int indeks)const{
        if (indeks&lt;1 ||indeks&gt;3) throw std:: range_error ("Nekorektan indeks");
    }
    
     static bool JesuLiJednaki(double x, double y, double Eps = 0.00000000001)  {
        return std::fabs(x - y) &lt;= Eps * (std::fabs(x) + std::fabs(y));
    }
    
    static double Orijentacija_i_Povrsina(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3){
        return (t1.first * (t2.second-t3.second)  -  t2.first * (t1.second-t3.second)  +  t3.first * (t1.second-t2.second)); 
    }
    
    int Tacka_desno(int indeks) const{
        Test_indeksa(indeks);
        indeks++;
        if(indeks==4) indeks=1;
        return indeks;
    }
    
    int Tacka_lijevo(int indeks) const{
        Test_indeksa(indeks);
        indeks--;
        if(indeks==0) indeks=3;
        return indeks;
        
    }
    
     //Prijateljske funkcije
     
     friend bool DaLiSuIdenticni(const Trougao &amp;t1, const Trougao &amp;t2);
     friend bool DaLiSuPodudarni(const Trougao &amp;t1, const Trougao &amp;t2);
     friend bool DaLiSuSlicni(const Trougao &amp;t1, const Trougao &amp;t2);
     
};

bool DaLiSuIdenticni(const Trougao &amp;t1, const Trougao &amp;t2){
    for(int i=0; i&lt;3; i++){
        for(int j=0; j&lt;3; j++){
            if(t1.tjemena[i]==t2.tjemena[j]) break;
            if(j==2){
                return false;
            }
        }
    }    
    return true;
}    

bool DaLiSuPodudarni(const Trougao &amp;t1, const Trougao &amp;t2){
    bool podudarni(false);
    int i,j,k;
    for(i=1; i&lt;4; i++){
        if(Trougao::JesuLiJednaki(t1.DajStranicu(1),t2.DajStranicu(i))) break;
        if(i==3) return podudarni;
    }
    
    for(j=1; j&lt;4; j++){
        if(Trougao::JesuLiJednaki(t1.DajStranicu(2),t2.DajStranicu(j)) &amp;&amp; j!=i) break;
        if(j==3) return podudarni;
    }
    
    for(k=1; k&lt;4; k++){
        if(Trougao::JesuLiJednaki(t1.DajStranicu(3),t2.DajStranicu(k)) &amp;&amp; k!=j &amp;&amp; k!=i) break;
        if(k==3) return podudarni;
    }
    
    if(Trougao::Orijentacija(t1.DajTjeme(1), t1.DajTjeme(2), t1.DajTjeme(3))==Trougao::Orijentacija(t2.DajTjeme(i), t2.DajTjeme(j), t2.DajTjeme(k))) podudarni=true;
    return podudarni;
}    


bool DaLiSuSlicni(const Trougao &amp;t1, const Trougao &amp;t2){
     bool slicni=false;
    int i,j,k;
    for(i=1; i&lt;4;i++){
        if(Trougao::JesuLiJednaki(t1.DajUgao(1),t2.DajUgao(i))) break;
        if (i==3) return slicni;
    }
    for(j=1; j&lt;4; j++){
        if(Trougao::JesuLiJednaki(t1.DajUgao(2),t2.DajUgao(j)) &amp;&amp; j!=i) break;
        if(j==3) return slicni;
    }
    for(k=1; k&lt;4; k++){
        if(Trougao::JesuLiJednaki(t1.DajUgao(3),t2.DajUgao(k)) &amp;&amp; k!=i &amp;&amp; k!=j) break;
        if(k==3) return slicni;
    }    
    //provjera orijentacije uglova t1 i orijentacije njima podudarnih uglova
    if(Trougao::Orijentacija(t1.DajTjeme(1), t1.DajTjeme(2), t1.DajTjeme(3))== Trougao::Orijentacija(t2.DajTjeme(i), t2.DajTjeme(j), t2.DajTjeme(k))) slicni=true;

    return slicni;
}

int main (){
    int n;
    std::cout&lt;&lt;"Koliko zelite kreirati trouglova: ";
    std::cin&gt;&gt;n;
    std::vector&lt;std::shared_ptr&lt;Trougao&gt;&gt; trouglovi(n);
    for(int i=0; i&lt;n; i++){
<a name="1"></a><font color="#00FF00"><a href="match869-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_1.gif"/></a>

        double x1,y1,x2,y2,x3,y3;
        std::cout&lt;&lt;"Unesite podatke za "&lt;&lt;i+1&lt;&lt;". trougao (x1 y1 x2 y2 x3 y3): ";
        std::cin&gt;&gt;x1&gt;&gt;y1&gt;&gt;x2&gt;&gt;y2&gt;&gt;x3&gt;&gt;y3;
</font>        Tacka niz[3];
        niz[0]=std::make_pair(x1,y1);
        niz[1]=std::make_pair(x2,y2);
        niz[2]=std::make_pair(x3,y3);
        try{
            std::shared_ptr&lt;Trougao&gt; p(new Trougao(niz[0],niz[1],niz[2]));
            trouglovi[i]=p;
        }catch(std::domain_error Izuzetak){
            std::cout&lt;&lt;Izuzetak.what()&lt;&lt;","&lt;&lt;" ponovite unos!"&lt;&lt;std::endl;
            i--;
        }    
}
        
        
        std::cout&lt;&lt;"Unesite vektor translacije (dx dy): ";
        double dx,dy;
        std::cin&gt;&gt;dx&gt;&gt;dy;
        std::transform(trouglovi.begin(), trouglovi.end(), trouglovi.begin(), [dx,dy](std::shared_ptr&lt;Trougao&gt; x) {
            (*x.get()).Transliraj(dx,dy);
            return x;
        });
        
        
        std::cout&lt;&lt;"Unesite ugao rotacije: ";
        double ugao;
        std::cin&gt;&gt;ugao;
        std::transform(trouglovi.begin(), trouglovi.end(), trouglovi.begin(), [ugao](std::shared_ptr&lt;Trougao&gt; x){
            (*x.get()).Rotiraj(ugao);
            return x;
        });
        
       
        std::cout&lt;&lt;"Unesite faktor skaliranja: "; 
        double faktor;
        std::cin&gt;&gt;faktor;
        std::transform(trouglovi.begin(), trouglovi.end(), trouglovi.begin(), [faktor] (std::shared_ptr&lt;Trougao&gt; x){
            (*x.get()).Skaliraj((*x.get()).DajTjeme(1), faktor);
            return x;
        });
        
        std::sort(trouglovi.begin(), trouglovi.end(), [] (std::shared_ptr&lt;Trougao&gt; x, std::shared_ptr&lt;Trougao&gt; y) {
            if((*x.get()).DajPovrsinu()&lt;(*y.get()).DajPovrsinu()) return true;
            else return false;
        });
        
        std::cout&lt;&lt;"Trouglovi nakon obavljenih transformacija: "&lt;&lt;std::endl;
        
        std::for_each(trouglovi.begin(),trouglovi.end(),[](std::shared_ptr&lt;Trougao&gt; x) {
            (*x).Ispisi();
            std::cout&lt;&lt;std::endl;
        });
        
        auto min_obim=min_element(trouglovi.begin(), trouglovi.end(), [](std::shared_ptr&lt;Trougao&gt;x, std::shared_ptr&lt;Trougao&gt; y) {
            if((x-&gt;DajObim())&lt;(y-&gt;DajObim())) return true;
            else return false;
        });
        std::cout&lt;&lt;"Trougao sa najmanjim obimom: ";
        (*min_obim)-&gt;Ispisi(); 
        
        bool identicni(false);
        bool slicni(false);
        bool podudarni(false);
        for(int i=0; i&lt;n-1; i++){
            for(int j=i+1; j&lt;n; j++){
                if(DaLiSuIdenticni( (*trouglovi[i]), (*trouglovi[j]))) identicni=true;
                if(DaLiSuPodudarni((*trouglovi[i]), (*trouglovi[j])))  podudarni=true;
                if(DaLiSuSlicni((*trouglovi[i]), (*trouglovi[j])))     slicni=true;
                } 
            }
            
         
        
      
            if(identicni){
                std::cout&lt;&lt;std::endl&lt;&lt;"Parovi identicnih trouglova:"&lt;&lt;std::endl;
               for(int i=0; i&lt;n-1; i++){
                  for(int j=i+1; j&lt;n; j++){
                    if(DaLiSuIdenticni( (*trouglovi[i]), (*trouglovi[j]))) {
<a name="6"></a><font color="#00FF00"><a href="match869-1.html#6" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_1.gif"/></a>

                        (trouglovi[i])-&gt;Ispisi(); std::cout&lt;&lt;" i "; (trouglovi[j])-&gt;Ispisi();
                       std::cout&lt;&lt;std::endl;
                    }
               }
            }
            }
            else std::cout&lt;&lt;std::endl&lt;&lt;"Nema identicnih trouglova!"&lt;&lt;std::endl;
</font>        
        if(podudarni){
            std::cout&lt;&lt;"Parovi podudarnih trouglova:"&lt;&lt;std::endl;
              for(int i=0; i&lt;n-1; i++){
                for(int j=i+1; j&lt;n; j++){
                    if(DaLiSuPodudarni( (*trouglovi[i]), (*trouglovi[j]))) {
<a name="7"></a><font color="#0000FF"><a href="match869-1.html#7" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_1.gif"/></a>

                        (trouglovi[i])-&gt;Ispisi(); std::cout&lt;&lt;" i "; (trouglovi[j])-&gt;Ispisi();
                       std::cout&lt;&lt;std::endl;
                    }
                }
            }
        }
        else std::cout&lt;&lt;"Nema podudarnih trouglova!"&lt;&lt;std::endl;
</font>        
        if(slicni){
            std::cout&lt;&lt;"Parovi slicnih trouglova:"&lt;&lt;std::endl;
              for(int i=0; i&lt;n-1; i++){
                for(int j=i+1; j&lt;n; j++){
                    if(DaLiSuSlicni( (*trouglovi[i]), (*trouglovi[j]))) {
<a name="8"></a><font color="#00FFFF"><a href="match869-1.html#8" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_1.gif"/></a>

                        (trouglovi[i])-&gt;Ispisi(); std::cout&lt;&lt;" i "; (trouglovi[j])-&gt;Ispisi();
                       std::cout&lt;&lt;std::endl;
                    }
                }
            }
        }
        else std::cout&lt;&lt;"Nema slicnih trouglova!";
</font>       
        
        
        
    
    
    
	return 0;
}</pre>
</body>
</html>
