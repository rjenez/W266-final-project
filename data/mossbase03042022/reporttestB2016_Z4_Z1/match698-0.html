<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z1/student6705.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z1/student6705.cpp<p></p><pre>
<a name="5"></a><font color="#FF0000"><a href="match698-1.html#5" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_1.gif"/></a>

/B 2016/2017, ZadaÄ‡a 4, Zadatak 1
//Napomena: testovi ce biti dostupni dan pred rok!
#include &lt;iostream&gt;
#include &lt;utility&gt;
#include &lt;stdexcept&gt;
#include &lt;cmath&gt;
#include &lt;vector&gt;
#include &lt;algorithm&gt;
#include &lt;memory&gt;
using namespace std;

typedef pair&lt;double, double&gt; Tacka;
</font>
class Trougao{
    Tacka tr1,tr2,tr3;
    static double RacunajIzraz(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3){
        return t1.first*(t2.second-t3.second)-t2.first*(t1.second-t3.second)+t3.first*(t1.second-t2.second);
    }
    public:
    Trougao (const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3);
    void Postavi(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3 );
    void Postavi(int indeks, const Tacka &amp;t);
    static int Orijentacija(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3);
    Tacka DajTjeme(int indeks) const;
    double DajStranicu(int indeks) const;
    double DajUgao (int indeks) const;
    Tacka DajCentar() const;
    double DajObim() const;
    double DajPovrsinu() const;
    bool DaLiJePozitivnoOrijentiran() const;
    bool DaLiJeUnutra(const Tacka &amp;t) const;
    void Ispisi() const;
    void Transliraj(double delta_x, double delta_y);
    void Centriraj(const Tacka &amp;t);
    void Rotiraj(const Tacka &amp;t, double ugao);
    void Skaliraj(const Tacka &amp;t, double faktor);
    void Rotiraj(double ugao);
    void Skaliraj(double faktor);
    friend bool DaLiSuIdenticni(const Trougao &amp;t1, const Trougao &amp;t2);
    friend bool DaLiSuPodudarni(const Trougao &amp;t1, const Trougao &amp;t2);
    friend bool DaLiSuSlicni( const Trougao &amp;t1, const Trougao &amp;t2);
};
Trougao::Trougao (const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3){
    Postavi(t1,t2,t3);
}
<a name="1"></a><font color="#00FF00"><a href="match698-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_1.gif"/></a>

void Trougao::Postavi(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3 ){
    if(Orijentacija(t1,t2,t3)==0) throw domain_error("Nekorektne pozicije");
    tr1=t1;
    tr2=t2;
    tr3=t3;
}
void Trougao::Postavi(int indeks, const Tacka &amp;t){
</font><a name="6"></a><font color="#00FF00"><a href="match698-1.html#6" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_1.gif"/></a>

    if(indeks!=1 &amp;&amp; indeks!=2 &amp;&amp; indeks!=3) throw range_error("Nekorektan indeks");
    if(indeks==1) {
</font>        try{
            Orijentacija(t,tr2,tr3);
            tr1=t;
        } catch(...){throw;}
    }
    else if(indeks==2) {
        try{
            Orijentacija(tr1,t,tr3);
            tr2=t;
        } catch(...){throw;}
    }
    else try{
            Orijentacija(tr1,tr2,t);
            tr3=t;
        } catch(...){throw;}
}
int Trougao::Orijentacija(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3){
    double izraz=RacunajIzraz(t1,t2,t3);
    if(izraz&gt;0) return 1;
    else if(izraz&lt;0) return -1;
    else return 0;
}
Tacka Trougao::DajTjeme(int indeks) const{
    if(indeks==1) return tr1;
    if(indeks==2) return tr2;
    if(indeks==3) return tr3;
}
double Trougao::DajStranicu(int indeks) const{
    if(indeks==1) return sqrt((tr2.first-tr3.first)*(tr2.first-tr3.first)+(tr2.second-tr3.second)*(tr2.second-tr3.second));
    if(indeks==2) return sqrt((tr1.first-tr3.first)*(tr1.first-tr3.first)+(tr1.second-tr3.second)*(tr1.second-tr3.second));
    if(indeks==3) return sqrt((tr2.first-tr1.first)*(tr2.first-tr1.first)+(tr2.second-tr1.second)*(tr2.second-tr1.second));
}
double Trougao::DajUgao (int indeks) const{
    if(indeks==1) return acos((DajStranicu(2)+DajStranicu(3)-DajStranicu(1))/(2*DajStranicu(2)*DajStranicu(3)));
    if(indeks==2) return acos((DajStranicu(1)+DajStranicu(3)-DajStranicu(2))/(2*DajStranicu(1)*DajStranicu(3)));
    if(indeks==3) return acos((DajStranicu(1)+DajStranicu(2)-DajStranicu(3))/(2*DajStranicu(1)*DajStranicu(2)));
}
Tacka Trougao::DajCentar() const{
    return pair&lt;double,double&gt;((tr1.first+tr2.first+tr3.first)/3,(tr1.second+tr2.second+tr3.second)/3);
}
double Trougao::DajObim() const{
    return DajStranicu(1)+DajStranicu(2)+DajStranicu(3);
}
double Trougao::DajPovrsinu() const{
    return 0.5*abs(RacunajIzraz(tr1,tr2,tr3));
}
bool Trougao::DaLiJePozitivnoOrijentiran() const{
    if(Orijentacija(tr1,tr2,tr3)==1) return true;
    else return false;
}
bool Trougao::DaLiJeUnutra(const Tacka &amp;t) const{
    if(Orijentacija(tr1,tr2,tr3)==1 &amp;&amp; Orijentacija(tr1,tr2,t)==1 &amp;&amp; Orijentacija(tr2, tr3, t)==1 &amp;&amp; Orijentacija(tr3,tr1,t)==1) return true;
    else if(Orijentacija(tr1,tr2,tr3)==-1 &amp;&amp; Orijentacija(tr1,tr2,t)==-1 &amp;&amp; Orijentacija(tr2, tr3, t)==-1 &amp;&amp; Orijentacija(tr3,tr1,t)==-1) return true;
    return false;
}
void Trougao::Transliraj(double delta_x, double delta_y){
    tr1.first+=delta_x;
    tr1.second+=delta_y;
    tr2.first+=delta_x;
    tr2.second+=delta_y;
    tr3.first+=delta_x;
    tr3.second+=delta_y;
}
void Trougao::Centriraj(const Tacka &amp;t){
    double delta_x=abs(t.first-DajCentar().first);
    double delta_y=abs(t.second-DajCentar().second);
    Transliraj(delta_x,delta_y);
}
void Trougao::Rotiraj(const Tacka &amp;t, double ugao){
    tr1.first=t.first+(tr1.first-t.first)*cos(ugao)-(tr1.second-t.second)*sin(ugao);
    tr1.second=t.second+(tr1.first-t.first)*sin(ugao)+(tr1.second-t.second)*cos(ugao);
    tr2.first=t.first+(tr2.first-t.first)*cos(ugao)-(tr2.second-t.second)*sin(ugao);
    tr2.second=t.second+(tr2.first-t.first)*sin(ugao)+(tr2.second-t.second)*cos(ugao);
    tr3.first=t.first+(tr3.first-t.first)*cos(ugao)-(tr3.second-t.second)*sin(ugao);
<a name="4"></a><font color="#FF00FF"><a href="match698-1.html#4" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_1.gif"/></a>

    tr3.second=t.second+(tr3.first-t.first)*sin(ugao)+(tr3.second-t.second)*cos(ugao);
}
void Trougao::Skaliraj(const Tacka &amp;t, double faktor){
    if(faktor==0) throw domain_error("Nekorektan faktor skaliranja");
</font>    tr1.first=t.first+faktor*(tr1.first-t.first);
    tr1.second=t.second+faktor*(tr1.second-t.second);
    tr2.first=t.first+faktor*(tr2.first-t.first);
    tr2.second=t.second+faktor*(tr2.second-t.second);
    tr3.first=t.first+faktor*(tr3.first-t.first);
<a name="3"></a><font color="#00FFFF"><a href="match698-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_1.gif"/></a>

    tr3.second=t.second+faktor*(tr3.second-t.second);
    
}
void Trougao::Rotiraj(double ugao){
    Rotiraj(DajCentar(),ugao);
}
void Trougao::Skaliraj(double faktor){
    Skaliraj(DajCentar(),faktor);
</font>}
bool DaLiSuIdenticni(const Trougao &amp;t1, const Trougao &amp;t2){
    vector&lt;pair&lt;double,double&gt;&gt;v1{t1.tr1,t1.tr2,t1.tr3},v2{t2.tr1,t2.tr2,t2.tr3};
    auto it1(v1.begin());
    auto it2(v2.begin());
<a name="7"></a><font color="#0000FF"><a href="match698-1.html#7" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_1.gif"/></a>

    for(int i=0;i&lt;v1.size();i++){
        for(int j=0;j&lt;v2.size();j++){
            if(v1[i]==v2[j]){
</font>                v1.erase(it1+i);
                v2.erase(it2+j);
                i--;
                break;
            }
        }
    }
    if(v1.size()==0 &amp;&amp; v2.size()==0) return true;
    else return false;
}
bool DaLiSuPodudarni(const Trougao &amp;t1, const Trougao &amp;t2){
    vector&lt;double&gt;v1{t1.DajStranicu(1),t1.DajStranicu(2),t1.DajStranicu(3)},v2{t2.DajStranicu(1),t2.DajStranicu(2),t2.DajStranicu(3)};
    auto it1(v1.begin());
    auto it2(v2.begin());
<a name="8"></a><font color="#00FFFF"><a href="match698-1.html#8" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_1.gif"/></a>

    for(int i=0;i&lt;v1.size();i++){
        for(int j=0;j&lt;v2.size();j++){
            if(v1[i]==v2[j]){
</font>                v1.erase(it1+i);
                v2.erase(it2+j);
                i--;
                break;
            }
        }
    }
    if(v1.size()==0 &amp;&amp; v2.size()==0) return true;
    else return false;
}

bool DaLiSuSlicni( const Trougao &amp;t1, const Trougao &amp;t2){

 vector&lt;double&gt;v1{t1.DajStranicu(1),t1.DajStranicu(2),t1.DajStranicu(3)},v2{t2.DajStranicu(1),t2.DajStranicu(2),t2.DajStranicu(3)};   
 sort(v1.begin(),v1.end());
 sort(v2.begin(),v2.end());
 auto it1(v1.begin());
    auto it2(v2.begin());
 double k(v1[0]/v2[0]);
<a name="9"></a><font color="#FF00FF"><a href="match698-1.html#9" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_1.gif"/></a>

 for(int i=0;i&lt;v1.size();i++){
        for(int j=0;j&lt;v2.size();j++){
            if(v1[i]/v2[j]==k){
</font>                v1.erase(it1+i);
                v2.erase(it2+j);
                i--;
                break;
            }
        }
    }
    if(v1.size()==0 &amp;&amp; v2.size()==0) return true;
    else return false;
}
int main ()
{
    cout &lt;&lt; "Koliko zelite kreirati trouglova: ";
    int n;
    cin &gt;&gt; n;
    vector&lt;shared_ptr&lt;Trougao&gt;&gt; v;
    for(int i(0); i &lt; n; i++)
    {
        cout &lt;&lt; "Unesite podatke za " &lt;&lt; i + 1 &lt;&lt; ". trougao (x1 y1 x2 y2 x3 y3): ";
        double x1, y1, x2, y2, x3, y3;
        std::cin &gt;&gt; x1 &gt;&gt; y1 &gt;&gt; x2 &gt;&gt; y2 &gt;&gt; x3 &gt;&gt; y3;
        try
        {
            Tacka tr1{x1, y1}, tr2{x2, y2}, tr3{x3, y3};
            auto p(make_shared&lt;Trougao&gt;(Trougao(tr1, tr2, tr3)));
            v.push_back(p);
        }
        catch(domain_error izuzetak)
        {
<a name="0"></a><font color="#FF0000"><a href="match698-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_3.gif"/></a>

            cout &lt;&lt; izuzetak.what() &lt;&lt; ", ponovite unos!" &lt;&lt; std::endl;
            i--;
        }
    }
    cout &lt;&lt; "Unesite vektor translacije (dx dy): ";
    double dx, dy;
    cin &gt;&gt; dx &gt;&gt; dy;
    transform(v.begin(), v.end(), v.begin(),
    [dx, dy](shared_ptr&lt;Trougao&gt; p)
    {
        p-&gt;Transliraj(dx, dy);
        return p;
    });
    
    cout &lt;&lt; "Unesite ugao rotacije: ";
    double ugao;
    cin &gt;&gt; ugao;
    transform(v.begin(), v.end(), v.begin(),
    [ugao](shared_ptr&lt;Trougao&gt; p)
    {
        p-&gt;Rotiraj(ugao);
</font><a name="2"></a><font color="#0000FF"><a href="match698-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_1.gif"/></a>

        return p;
    });
    
    cout &lt;&lt; "Unesite faktor skaliranja: ";
    double faktor;
    cin &gt;&gt; faktor;
    transform(v.begin(), v.end(), v.begin(),
    [faktor](shared_ptr&lt;Trougao&gt; p)
</font>    {
        auto tjeme(p-&gt;DajTjeme(1));
        p-&gt;Skaliraj(tjeme, faktor);
        return p;
    });
    
    sort(v.begin(), v.end(),
    [](shared_ptr&lt;Trougao&gt; p1, shared_ptr&lt;Trougao&gt; p2)
    {
        return p1-&gt;DajPovrsinu() &lt; p2-&gt;DajPovrsinu();
    });
    
   /* cout &lt;&lt; "Trouglovi nakon obavljenih transformacija:" &lt;&lt; endl;
    
    for_each(v.begin(), v.end(),
    [](shared_ptr&lt;Trougao&gt; p)
    {
        p-&gt;Ispisi();
        cout &lt;&lt; endl;
 */
    
    cout &lt;&lt; "Trougao sa najmanjim obimom: ";
   // (*(*min_element(v.begin(), v.end(), [](shared_ptr&lt;Trougao&gt; p1, shared_ptr&lt;Trougao&gt; p2){return p1-&gt;DajObim() &lt; p2.DajObim();})))-&gt;Ispisi();
    cout &lt;&lt; endl;
    
	return 0;
}</pre>
</body>
</html>
