<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z1/student2111.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z1/student7392.cpp<p></p><pre>
/B 2016/2017, ZadaÄ‡a 4, Zadatak 1
//Napomena: testovi ce biti dostupni dan pred rok!
#include &lt;iostream&gt;
#include &lt;map&gt;
#include &lt;stdexcept&gt;
#include &lt;cmath&gt;
#include &lt;string&gt;
#include &lt;queue&gt;
#include &lt;algorithm&gt;
#include &lt;memory&gt;
#include &lt;sstream&gt;
#include &lt;functional&gt;

typedef std::pair&lt;double, double&gt; Tacka;

const double eps=1e-10;
const double pi=4*std::atan(1);

bool isti(double a, double b){
    return std::fabs(a-b)&lt;=eps*(std::fabs(a)+std::fabs(b));
}

void provjeriindex(int a){
    if(a&lt;1 || a&gt;3)throw std::range_error("Nekorektan indeks");
}

<a name="5"></a><font color="#FF0000"><a href="match876-0.html#5" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_1.gif"/></a>

double duzina(const Tacka &amp;t1, const Tacka &amp;t2){
    return std::sqrt((t1.first-t2.first)*(t1.first-t2.first)+(t1.second-t2.second)*(t1.second-t2.second));
</font>}

double formula(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3){
    return t1.first*(t2.second-t3.second)-t2.first*(t1.second-t3.second)+t3.first*(t1.second-t2.second);
}

template&lt;typename T&gt; 
std::string PretvoriUString(T x) {
    std::ostringstream s; s &lt;&lt; x; 
    return s.str();
}

std::string ispisitacku(const Tacka &amp;t){
    std::string a="(";
    a=a+PretvoriUString(t.first)+","+PretvoriUString(t.second)+")";
    return a;
}

void mrdajtacku(Tacka &amp;t, double x, double y){
    t.first+=x;
    t.second+=y;
}

void sortiraj(std::vector&lt;Tacka&gt; &amp;v1){
    std::sort(v1.begin(), v1.end(), [](const Tacka &amp;t1, const Tacka &amp;t2) {
        if(isti(t1.first, t2.first)) {
            return t1.second&lt;t2.second;
        }
        return t1.first&lt;t1.second;
    });
}

<a name="6"></a><font color="#00FF00"><a href="match876-0.html#6" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_0.gif"/></a>

bool istetacke(const Tacka &amp;a, const Tacka &amp;b){
    return isti(a.first, b.first) &amp;&amp; isti(a.second, b.second);
</font>}

class Trougao{
    Tacka tacke[3];
    void update();
public:
    Trougao(const Tacka &amp;t1,const Tacka &amp;t2,const Tacka &amp;t3) {
        Postavi(t1, t2, t3);
    }
    void Postavi(const Tacka &amp;t1,const Tacka &amp;t2,const Tacka &amp;t3);
    void Postavi(int indeks, const Tacka &amp;t);
<a name="7"></a><font color="#0000FF"><a href="match876-0.html#7" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_0.gif"/></a>

    static int Orijentacija(const Tacka &amp;t1,const Tacka &amp;t2,const Tacka &amp;t3){
        double a=formula(t1, t2, t3);
</font>        if(isti(a, 0))return 0;
        if(a&gt;0)return 1;
        return -1;
    }
    Tacka DajTjeme(int indeks) const;
    double DajStranicu(int indeks) const;
    double DajUgao(int indeks) const;
    Tacka DajCentar() const;
    double DajObim() const;
    double DajPovrsinu() const;
    bool DaLiJePozitivnoOrijentiran() const;
    bool DaLiJeUnutra(const Tacka &amp;t) const;
    void Ispisi() const;
    void Transliraj(double delta_x, double delta_y);
    void Centriraj(const Tacka &amp;t);
    void Rotiraj(const Tacka &amp;t, double ugao);
    void Skaliraj(const Tacka &amp;t, double faktor);
    void Rotiraj(double ugao);
    void Skaliraj(double faktor);
    friend bool DaLiSuIdenticni(const Trougao &amp;t1, const Trougao &amp;t2);
    friend bool DaLiSuPodudarni(const Trougao &amp;t1, const Trougao &amp;t2);
    friend bool DaLiSuSlicni(const Trougao &amp;t1, const Trougao &amp;t2);
};
    void Trougao::update(){
        for(int i=0;i&lt;3;i++){
            if(std::abs(tacke[i].first)&lt;eps)tacke[i].first=0;
            if(std::abs(tacke[i].second)&lt;eps)tacke[i].second=0;
        }
    }
<a name="3"></a><font color="#00FFFF"><a href="match876-0.html#3" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_1.gif"/></a>

    void Trougao::Postavi(const Tacka &amp;t1,const Tacka &amp;t2,const Tacka &amp;t3){
        if(Orijentacija(t1, t2, t3)==0)throw std::domain_error("Nekorektne pozicije tjemena");
        tacke[0]=t1;
        tacke[1]=t2;
        tacke[2]=t3;
</font>        update();
    }
    void Trougao::Postavi(int indeks, const Tacka &amp;t){
        provjeriindex(indeks);
        if(indeks==1)
            Postavi(t, tacke[1], tacke[2]);
        if(indeks==2)
            Postavi(tacke[0], t, tacke[2]);
        if(indeks==3)
            Postavi(tacke[0], tacke[1], t);
        update();
    }
    Tacka Trougao::DajTjeme(int indeks) const{
        provjeriindex(indeks);
        return tacke[indeks-1];
    }
    double Trougao::DajStranicu(int indeks) const{
        provjeriindex(indeks);
        if(indeks==1)return duzina(tacke[1], tacke[2]);
        if(indeks==2)return duzina(tacke[0], tacke[2]);
        return duzina(tacke[0], tacke[1]);
    }
    double Trougao::DajUgao(int indeks) const{
        provjeriindex(indeks);
        double a, b, c;
        if(indeks==1) {
            a=duzina(tacke[1], tacke[2]);
            b=duzina(tacke[0], tacke[2]);
            c=duzina(tacke[0], tacke[1]);
        }
        if(indeks==2) {
            a=duzina(tacke[2], tacke[0]);
            b=duzina(tacke[1], tacke[2]);
            c=duzina(tacke[1], tacke[0]);
        }
        if(indeks==3) {
            a=duzina(tacke[1], tacke[0]);
            b=duzina(tacke[0], tacke[2]);
            c=duzina(tacke[2], tacke[1]);
        }
        return std::acos((c*c+b*b-a*a)/(2*c*b));
    }
    Tacka Trougao::DajCentar() const{
<a name="2"></a><font color="#0000FF"><a href="match876-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_1.gif"/></a>

        return {(tacke[0].first+tacke[1].first+tacke[2].first)/3, (tacke[0].second+tacke[1].second+tacke[2].second)/3};
    }
    double Trougao::DajObim() const{
</font>        return duzina(tacke[0], tacke[1])+duzina(tacke[1], tacke[2])+duzina(tacke[0], tacke[2]);
    }
    double Trougao::DajPovrsinu() const{
        return std::abs(formula(tacke[0], tacke[1], tacke[2]))/2;
    }
    bool Trougao::DaLiJePozitivnoOrijentiran() const{
        if(formula(tacke[0], tacke[1], tacke[2])&gt;0)return true;
        return false;
    }
    bool Trougao::DaLiJeUnutra(const Tacka &amp;t) const{
        int a=0;
        a+=Orijentacija(tacke[0], tacke[1], t);
        a+=Orijentacija(tacke[1], tacke[2], t);
        a+=Orijentacija(tacke[2], tacke[0], t);
        if(std::abs(a)==3)return true;
        return false;
    }
    void Trougao::Ispisi() const{
        std::cout&lt;&lt;"(";
        std::cout&lt;&lt;ispisitacku(tacke[0]);
        std::cout&lt;&lt;",";
        std::cout&lt;&lt;ispisitacku(tacke[1]);
        std::cout&lt;&lt;",";
        std::cout&lt;&lt;ispisitacku(tacke[2]);
        std::cout&lt;&lt;")";
    }
    void Trougao::Transliraj(double delta_x, double delta_y){
        for(int i=0; i&lt;3; i++)
            mrdajtacku(tacke[i], delta_x, delta_y);
        update();
    }
    void Trougao::Centriraj(const Tacka &amp;t){
        Tacka a=DajCentar();
        Transliraj(t.first-a.first, t.second-a.second);
        update();
    }
    void Trougao::Rotiraj(const Tacka &amp;t, double ugao){
        double a, b;
        for(int i=0; i&lt;3; i++) {
<a name="4"></a><font color="#FF00FF"><a href="match876-0.html#4" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_1.gif"/></a>

            a=t.first+(tacke[i].first-t.first)*std::cos(ugao)-(tacke[i].second-t.second)*std::sin(ugao);
</font><a name="0"></a><font color="#FF0000"><a href="match876-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_1.gif"/></a>

            b=t.second+(tacke[i].first-t.first)*std::sin(ugao)+(tacke[i].second-t.second)*std::cos(ugao);
            tacke[i].first=a;
            tacke[i].second=b;
        }
        update();
</font><a name="1"></a><font color="#00FF00"><a href="match876-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_1.gif"/></a>

    }
    void Trougao::Skaliraj(const Tacka &amp;t, double faktor){
        if(isti(faktor, 0))throw std::domain_error("Nekorektan faktor skaliranja");
        for(int i=0; i&lt;3; i++){
            tacke[i].first=t.first+faktor*(tacke[i].first-t.first);
</font>            tacke[i].second=t.second+faktor*(tacke[i].second-t.second);
        }
        update();
    }
    void Trougao::Rotiraj(double ugao){
        Rotiraj(DajCentar(), ugao);
    }
    void Trougao::Skaliraj(double faktor){
        Skaliraj(DajCentar(), faktor);
    }
    bool DaLiSuIdenticni(const Trougao &amp;t1, const Trougao &amp;t2){
        std::vector&lt;Tacka&gt; v1, v2;
        for(int i=0; i&lt;3; i++) {
            v1.push_back(t1.tacke[i]);
            v2.push_back(t2.tacke[i]);
        }
        sortiraj(v1);
        sortiraj(v2);
        for(int i=0; i&lt;3; i++) {
            if(!istetacke(v1[i], v2[i]))return false;
        }
        return true;
    }
    bool DaLiSuPodudarni(const Trougao &amp;t1, const Trougao &amp;t2){
        std::vector&lt;Tacka&gt; tac1 {t1.tacke[0], t1.tacke[1], t1.tacke[2]};
        if(Trougao::Orijentacija(tac1[0], tac1[1], tac1[2])==-1)
            std::swap(tac1[1], tac1[2]);
        std::vector&lt;Tacka&gt; tac2 {t2.tacke[0], t2.tacke[1], t2.tacke[2]};
        if(Trougao::Orijentacija(tac2[0], tac2[1], tac2[2])==-1)
            std::swap(tac2[1], tac2[2]);
        double a=duzina(tac1[0], tac1[1]), b=duzina(tac1[1], tac1[2]), c=duzina(tac1[0], tac1[2]);
        for(int i=0; i&lt;3; i++) {
            if(isti(a,duzina(tac2[0], tac2[1])) &amp;&amp; isti(b, duzina(tac2[1], tac2[2])) &amp;&amp; isti(c, duzina(tac2[0], tac2[2])))return true;
            std::rotate(tac2.begin(), tac2.begin()+1, tac2.end());
        }
        return false;
    }
    bool DaLiSuSlicni(const Trougao &amp;t1, const Trougao &amp;t2){
        std::vector&lt;Tacka&gt; tac1 {t1.tacke[0], t1.tacke[1], t1.tacke[2]};
        if(Trougao::Orijentacija(tac1[0], tac1[1], tac1[2])==-1)
            std::swap(tac1[1], tac1[2]);
        std::vector&lt;Tacka&gt; tac2 {t2.tacke[0], t2.tacke[1], t2.tacke[2]};
        if(Trougao::Orijentacija(tac2[0], tac2[1], tac2[2])==-1)
            std::swap(tac2[1], tac2[2]);
        double a=duzina(tac1[0], tac1[1]), b=duzina(tac1[1], tac1[2]), c=duzina(tac1[0], tac1[2]);
        double faktor;
        for(int i=0; i&lt;3; i++) {
            faktor=a/duzina(tac2[0], tac2[1]);
            if(isti(faktor, b/duzina(tac2[1], tac2[2])) &amp;&amp; isti(faktor, c/duzina(tac2[0], tac2[2])))return true;
            std::rotate(tac2.begin(), tac2.begin()+1, tac2.end());
        }
        return false;
    }
    
void Parovi(const std::vector&lt;std::shared_ptr&lt;Trougao&gt;&gt; &amp;v, std::string s){
    bool ima=false;
    bool temp;
    std::string a;
    if(s=="identican"){
        a+="Parovi identicnih trouglova:\n";
    }
    if(s=="podudaran"){
        a+="Parovi podudarnih trouglova:\n";
    }
    if(s=="slican"){
        a+="Parovi slicnih trouglova:\n";
    }
    for(int i=0;i&lt;v.size();i++){
        for(int j=i+1;j&lt;v.size();j++){
            temp=false;
            if(s=="identican"){
                temp=DaLiSuIdenticni(*v[i], *v[j]);
            }
            if(s=="podudaran"){
                temp=DaLiSuPodudarni(*v[i], *v[j]);
            }
            if(s=="slican"){
                temp=DaLiSuSlicni(*v[i], *v[j]);
            }
            if(temp){
                a+="(";
                a+=ispisitacku(v[i]-&gt;DajTjeme(1));
                a+=",";
                a+=ispisitacku(v[i]-&gt;DajTjeme(2));
                a+=",";
                a+=ispisitacku(v[i]-&gt;DajTjeme(3));
                a+=")";
                a+=" i ";
                a+="(";
                a+=ispisitacku(v[j]-&gt;DajTjeme(1));
                a+=",";
                a+=ispisitacku(v[j]-&gt;DajTjeme(2));
                a+=",";
                a+=ispisitacku(v[j]-&gt;DajTjeme(3));
                a+=")";
                a+="\n";
                ima=true;
            }
        }
    }
    if(!ima){
        if(s=="identican"){
            a="Nema identicnih trouglova!\n";
        }
        if(s=="podudaran"){
            a="Nema podudarnih trouglova!\n";
        }
        if(s=="slican"){
            a="Nema slicnih trouglova!\n";
        }
    }
    std::cout&lt;&lt;a;
}

int main (){
    int n;
    std::cout&lt;&lt;"Koliko zelite kreirati trouglova: ";
    std::cin&gt;&gt;n;
    std::vector&lt;std::shared_ptr&lt;Trougao&gt;&gt; v;
    Tacka t[3];
    for(int i=0;i&lt;n;i++){
        do{
            std::cout&lt;&lt;"Unesite podatke za "&lt;&lt;i+1&lt;&lt;". trougao (x1 y1 x2 y2 x3 y3): ";
            for(int j=0;j&lt;3;j++)std::cin&gt;&gt;t[j].first&gt;&gt;t[j].second;
            try{
                v.push_back(std::shared_ptr&lt;Trougao&gt;(new Trougao(t[0], t[1], t[2])));
            }
            catch(std::domain_error gg){
                std::cout&lt;&lt;gg.what()&lt;&lt;", ponovite unos!\n";
                continue;
            }
            break;
        }while(true);
    }
    std::cout&lt;&lt;"Unesite vektor translacije (dx dy): ";
    double x, y;
    std::cin&gt;&gt;x&gt;&gt;y;
    std::cout&lt;&lt;"Unesite ugao rotacije: ";
    double ugao;
    std::cin&gt;&gt;ugao;
    std::cout&lt;&lt;"Unesite faktor skaliranja: ";
    double faktor;
    std::cin&gt;&gt;faktor;
    std::transform(v.begin(), v.end(), v.begin(), [x, y, ugao, faktor](std::shared_ptr&lt;Trougao&gt; t){
        t-&gt;Transliraj(x, y);
        t-&gt;Rotiraj(ugao);
        t-&gt;Skaliraj(t-&gt;DajTjeme(1), faktor);
        return t;
    });
    std::sort(v.begin(), v.end(), [](std::shared_ptr&lt;Trougao&gt; t1, std::shared_ptr&lt;Trougao&gt; t2){
        return t1-&gt;DajPovrsinu()&lt;t2-&gt;DajPovrsinu();
    });
    std::cout&lt;&lt;"Trouglovi nakon obavljenih transformacija:\n";
    std::for_each(v.begin(), v.end(), [](std::shared_ptr&lt;Trougao&gt; t){
        t-&gt;Ispisi();
        std::cout&lt;&lt;"\n";
    });
    auto p=std::min_element(v.begin(), v.end(), [](std::shared_ptr&lt;Trougao&gt; t1, std::shared_ptr&lt;Trougao&gt; t2){
        return t1-&gt;DajObim()&lt;t2-&gt;DajObim();
    });
    std::cout&lt;&lt;"Trougao sa najmanjim obimom: ";
    (*p)-&gt;Ispisi();
    std::cout&lt;&lt;"\n";
    Parovi(v, "identican");
    Parovi(v, "podudaran");
    Parovi(v, "slican");
    
    return 0;
}




/*

2
0 0 1 0 0 1
0 0 0 1 1 0
0 0
0
1


*/</pre>
</body>
</html>
