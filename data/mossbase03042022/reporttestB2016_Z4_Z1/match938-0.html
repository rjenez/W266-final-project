<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z1/student5078.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z1/student5078.cpp<p></p><pre>
/B 2016/2017, ZadaÄ‡a 4, Zadatak 1
//Napomena: testovi ce biti dostupni dan pred rok!
#include &lt;iostream&gt;
#include &lt;utility&gt;
#include &lt;exception&gt;
#include &lt;stdexcept&gt;
#include &lt;cmath&gt;
#include &lt;iomanip&gt;
#include &lt;vector&gt;
#include &lt;memory&gt;
#include &lt;algorithm&gt;

const double eps = 1E-10;
typedef std::pair&lt;double,double&gt; Tacka;
class Trougao{
	Tacka a,b,c;
	public:
	static double povrsina(const Tacka t1, const Tacka t2, const Tacka t3){
	    double x=t1.first*(t2.second-t3.second)-t2.first*(t1.second-t3.second)+t3.first*(t1.second-t2.second);
	    return x;
	}
	Trougao(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3){
		if(ProvjeriTacke(t1,t2,t3)==false)throw std::domain_error("Nekorektne pozicije tjemena");
		a=t1;b=t2;c=t3;
	}
	void Postavi(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3){
		if(ProvjeriTacke(t1,t2,t3)==false)throw std::domain_error("Nekorektne pozicije tjemena");
		a=t1;b=t2;c=t3;
	}
	void Postavi(int indeks, const Tacka &amp;t){
<a name="5"></a><font color="#FF0000"><a href="match938-1.html#5" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_0.gif"/></a>

		if(indeks&lt;1 || indeks&gt;3)throw std::range_error("Nekorektan indeks");
		if(indeks==1)a=t;else if(indeks==2)b=t;else if(indeks==3)c=t;
</font>	}
	static int Orijentacija(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3){
		double x=povrsina(t1,t2,t3);
		if(fabs(x)&lt;eps)return 0;
		else if(x&lt;0)return -1;
		else if(x&gt;0)return 1;
		return 0;
	}
	Tacka DajTjeme(int indeks) const{
		if(indeks&lt;1 || indeks&gt;3)throw std::range_error("Nekorektan indeks");
		else if(indeks ==1)return a;else if(indeks==2)return b;return c;
	}
	double DajStranicu(int indeks) const{
		if(indeks&lt;1 || indeks&gt;3)throw std::range_error("Nekorektan indeks");
		else if(indeks==3)return sqrt((b.first-a.first)*(b.first-a.first)+(b.second-a.second)*(b.second-a.second));
		else if(indeks==2)return sqrt((c.first-a.first)*(c.first-a.first)+(c.second-a.second)*(c.second-a.second));
		return sqrt((b.first-c.first)*(b.first-c.first)+(b.second-c.second)*(b.second-c.second));
	}
	double DajUgao(int indeks) const{
		if(indeks&lt;1 || indeks&gt;3)throw std::range_error("Nekorektan indeks");
		else if(indeks==1)return acos((DajStranicu(2)*DajStranicu(2)+DajStranicu(3)*DajStranicu(3)-DajStranicu(1)*DajStranicu(1))/(2*DajStranicu(3)*DajStranicu(2)));
		else if(indeks==2)return acos((DajStranicu(1)*DajStranicu(1)+DajStranicu(3)*DajStranicu(3)-DajStranicu(2)*DajStranicu(2))/(2*DajStranicu(1)*DajStranicu(3)));
		return acos((DajStranicu(1)*DajStranicu(1)+DajStranicu(2)*DajStranicu(2)-DajStranicu(3)*DajStranicu(3))/(2*DajStranicu(1)*DajStranicu(2)));
	}
	Tacka DajCentar() const{
	    double x=(a.first+b.first+c.first)/3;double y=(a.second+b.second+c.second)/3;
	    return std::make_pair(x,y);
	}
	double DajObim() const{
	    return DajStranicu(1)+DajStranicu(2)+DajStranicu(3);
	}
	double DajPovrsinu() const{
	    return fabs((1./2)*povrsina(a,b,c));
	}
	bool DaLiJePozitivnoOrijentiran() const{
		if(Orijentacija(a,b,c)==1)return true;
		if(Orijentacija(a,b,c)==-1)return false;
		return false;
	}
<a name="6"></a><font color="#00FF00"><a href="match938-1.html#6" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_0.gif"/></a>

	bool DaLiJeUnutra(const Tacka &amp;t)const{
	if(Orijentacija(a,b,t)==1 &amp;&amp; Orijentacija(b,c,t)==1 &amp;&amp; Orijentacija(c,a,t)==1)return true;
</font>	return false;
	}
	void Ispisi() const{
		std::cout&lt;&lt;"(("&lt;&lt;a.first&lt;&lt;","&lt;&lt;a.second&lt;&lt;"),("&lt;&lt;b.first&lt;&lt;","&lt;&lt;b.second&lt;&lt;"),("&lt;&lt;c.first&lt;&lt;","&lt;&lt;c.second&lt;&lt;"))";
	}
	void Transliraj(double delta_x, double delta_y){
		a.first+=delta_x;b.first+=delta_x;c.first+=delta_x;
		a.second+=delta_y;b.second+=delta_y;c.second+=delta_y;
	}
	void Centriraj(const Tacka &amp;t){
<a name="4"></a><font color="#FF00FF"><a href="match938-1.html#4" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_0.gif"/></a>

		double x_promjena=t.first-DajCentar().first;double y_promjena=t.second-DajCentar().second;
		a.first+=x_promjena;b.first+=x_promjena;c.first+=x_promjena;
		a.second+=y_promjena;b.second+=y_promjena;c.second+=y_promjena;
</font>	}
	void RotirajTacku(Tacka &amp;rot,const Tacka &amp;cr,double ugao){
		auto rot_x=rot.first;
		rot_x=(cr.first+(rot.first-cr.first)*cos(ugao)-(rot.second-cr.second)*sin(ugao));
		rot.second=(cr.second+(rot.first-cr.first)*sin(ugao)+(rot.second-cr.second)*cos(ugao));
		rot.first=rot_x;
	}
	void Rotiraj(const Tacka &amp;t, double ugao){
		RotirajTacku(a,t,ugao);RotirajTacku(b,t,ugao);RotirajTacku(c,t,ugao);
	}
	void SkalirajTacku(Tacka &amp;skal,const Tacka &amp;cs,double faktor){
		skal.first=cs.first+faktor*(skal.first-cs.first);
		skal.second=cs.second+faktor*(skal.second-cs.second);
	}
	void Skaliraj(const Tacka &amp;t, double faktor){
		if(fabs(faktor)&lt; eps)throw std::domain_error("Nekorektan faktor skaliranja");
		SkalirajTacku(a,t,faktor);SkalirajTacku(b,t,faktor);SkalirajTacku(c,t,faktor);
	}
	void Rotiraj(double ugao){
		auto centar=DajCentar();
		RotirajTacku(a,centar,ugao);RotirajTacku(b,centar,ugao);RotirajTacku(c,centar,ugao);
	}
	void Skaliraj(double faktor){
		if(fabs(faktor)&lt;eps)throw std::domain_error("Nekorektan faktor skaliranja");
		auto centar=(DajCentar());
		SkalirajTacku(a,centar,faktor);SkalirajTacku(b,centar,faktor);SkalirajTacku(c,centar,faktor);
	
	}
	bool ProvjeriTacke(const Tacka &amp;t1,const Tacka &amp;t2,const Tacka &amp;t3);
	friend bool DaLiSuIdenticni(const Trougao &amp;t1, const Trougao &amp;t2);
	friend bool DaLiSuPodudarni(const Trougao &amp;t1, const Trougao &amp;t2);
	friend bool DaLiSuSlicni(const Trougao &amp;t1, const Trougao &amp;t2);
	friend bool UporediOpet(const Trougao &amp;t1,const Trougao &amp;t2);
	friend bool ProvjeriPodudarnost(const Trougao &amp;t1,const Trougao &amp;t2);
};
bool UporediTacke(const Tacka &amp;a,const Tacka &amp;b,int slucaj=1){
	if(slucaj==1){
		if(fabs(a.first-b.first)&lt;eps  &amp;&amp; fabs(a.second-b.second)&lt;eps)return true;
		}
	if(slucaj==0){
			if(fabs(a.first-b.first)&lt;0.0001 &amp;&amp; fabs(a.second-b.second)&lt;0.0001)return true;
		}
	return false;
}
bool DaLiSuIdenticni(const Trougao &amp;t1, const Trougao &amp;t2){
	if(UporediTacke(t1.a,t2.a) || UporediTacke(t1.a,t2.b) || UporediTacke(t1.a,t2.c)){
		if(UporediTacke(t1.b,t2.a)|| UporediTacke(t1.b,t2.b) || UporediTacke(t1.b,t2.c)){
			if(UporediTacke(t1.c,t2.a) || UporediTacke(t1.c,t2.b) || UporediTacke(t1.c,t2.c)){
				return true;
			}
		}
	}
	return false;
}
bool ProvjeriPodudarnost(const Trougao &amp;t1,const Trougao &amp;t2){
	int slucaj=0;
	if(UporediTacke(t1.a,t2.a,slucaj) || UporediTacke(t1.a,t2.b,slucaj) || UporediTacke(t1.a,t2.c,slucaj)){
		if(UporediTacke(t1.b,t2.a,slucaj)|| UporediTacke(t1.b,t2.b,slucaj) || UporediTacke(t1.b,t2.c,slucaj)){
			if(UporediTacke(t1.c,t2.a,slucaj) || UporediTacke(t1.c,t2.b,slucaj) || UporediTacke(t1.c,t2.c,slucaj)){
				return true;
			}
		}
	}
	return false;
}
bool DaLiSuPodudarni(const Trougao &amp;t1,const Trougao &amp;t2){
	bool slucaj=false;
	if(fabs(t1.DajStranicu(1)-t2.DajStranicu(1))&lt;eps    || fabs(t1.DajStranicu(1)-t2.DajStranicu(2))&lt;eps   || fabs(t1.DajStranicu(1)-t2.DajStranicu(3))&lt;eps   ){
		if(fabs(t1.DajStranicu(2)-t2.DajStranicu(1))&lt;eps    || fabs(t1.DajStranicu(2)-t2.DajStranicu(2))&lt;eps    || fabs(t1.DajStranicu(2)-t2.DajStranicu(3))&lt;eps   ){
			if(fabs(t1.DajStranicu(3)-t2.DajStranicu(1))&lt;eps    || fabs(t1.DajStranicu(3)-t2.DajStranicu(2))&lt;eps    || fabs(t1.DajStranicu(3)-t2.DajStranicu(3))&lt;eps   ){
				slucaj=true;
			}
		}
	}
	if(slucaj==false)return false;
	auto kop_t2=t2;
	auto kop_t1=t1;
	kop_t2.Centriraj(t1.DajCentar());
	double ugao=0;
	while(ugao&lt;10){
		if(ProvjeriPodudarnost(kop_t2,kop_t1)==true)return true;
		kop_t2.Rotiraj(0.01745329252);
		ugao+=0.01745329252;
	}
	return false;
}
bool UporediSlicnost(double a, double b,double c){
	if(fabs(a-b)&lt;eps  &amp;&amp; fabs(b-c)&lt;eps )return true;
	return false;
}
bool DaLiSuSlicni(const Trougao &amp;t1,const Trougao &amp;t2){
	double k(1);
	if(UporediSlicnost(t1.DajStranicu(1)/t2.DajStranicu(1),t1.DajStranicu(2)/t2.DajStranicu(2),t1.DajStranicu(3)/t2.DajStranicu(3)))k=t1.DajStranicu(1)/t2.DajStranicu(1);
	if(UporediSlicnost(t1.DajStranicu(1)/t2.DajStranicu(2),t1.DajStranicu(2)/t2.DajStranicu(3),t1.DajStranicu(3)/t2.DajStranicu(1)))k=t1.DajStranicu(3)/t2.DajStranicu(1);
	if(UporediSlicnost(t1.DajStranicu(1)/t2.DajStranicu(2),t1.DajStranicu(2)/t2.DajStranicu(1),t1.DajStranicu(3)/t2.DajStranicu(3)))k=t1.DajStranicu(3)/t2.DajStranicu(3);	
	if(UporediSlicnost(t1.DajStranicu(1)/t2.DajStranicu(3),t1.DajStranicu(2)/t2.DajStranicu(1),t1.DajStranicu(3)/t2.DajStranicu(2)))k=t1.DajStranicu(3)/t2.DajStranicu(2);
	if(UporediSlicnost(t1.DajStranicu(1)/t2.DajStranicu(3),t1.DajStranicu(2)/t2.DajStranicu(2),t1.DajStranicu(3)/t2.DajStranicu(1)))k=t1.DajStranicu(3)/t2.DajStranicu(2);
	auto t1_kopija=t1;
	auto t2_kopija=t2;
	if(k&lt;1)t1_kopija.Skaliraj(k);
	if(k&gt;1)t2_kopija.Skaliraj(k);
	t2_kopija.Centriraj(t1.DajCentar());
	return DaLiSuPodudarni(t1_kopija,t2_kopija);
}
bool Trougao::ProvjeriTacke(const Tacka &amp;t1,const Tacka &amp;t2,const Tacka &amp;t3){
	double x=0.5*((t1.first*t2.second + t2.first*t3.second + t3.first*t1.second)-
	(t2.first*t1.second + t3.first*t2.second + t1.first*t3.second));
	if(fabs(x+x)&lt;eps)return false;
		return true;
	}
int main(){
	std::cout&lt;&lt;"Koliko zelite kreirati trouglova: ";
	int n;
	Tacka a,b,c;
	std::cin&gt;&gt;n;
	try{
	std::vector&lt;std::shared_ptr&lt;Trougao&gt;&gt; vek_pok(n,nullptr);
	for(int i=0;i&lt;n;i++){
		double ax,ay,bx,by,cx,cy;
		std::cout&lt;&lt;"Unesite podatke za "&lt;&lt;i+1&lt;&lt;". trougao (x1 y1 x2 y2 x3 y3): ";
		std::cin&gt;&gt;ax&gt;&gt;ay;
		std::cin&gt;&gt;bx&gt;&gt;by;
		std::cin&gt;&gt;cx&gt;&gt;cy;
		try{
			a=std::make_pair(ax,ay);
			b=std::make_pair(bx,by);
			c=std::make_pair(cx,cy);
			vek_pok[i]=std::shared_ptr&lt;Trougao&gt;(new Trougao(a,b,c));
		}
		catch(std::range_error x){
			std::cout&lt;&lt;"Izuzetak: "&lt;&lt;x.what();
			return 0;
		}
		catch(std::domain_error e){
				std::cout&lt;&lt;e.what() &lt;&lt; ", ponovite unos!" &lt;&lt; std::endl;
				i--;
				continue;
		}
	  }
	  std::cout&lt;&lt;"Unesite vektor translacije (dx dy): ";//transliranje
	  double koefx,koefy,koefs,ugao;
	  std::cin&gt;&gt;koefx&gt;&gt;koefy;
	  std::cout&lt;&lt;"Unesite ugao rotacije: ";//skaliranje i rotacija
	  std::cin&gt;&gt;ugao;
	  std::cout&lt;&lt;"Unesite faktor skaliranja: ";
	  std::cin&gt;&gt;koefs;
<a name="0"></a><font color="#FF0000"><a href="match938-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_1.gif"/></a>

	  std::cout&lt;&lt;"Trouglovi nakon obavljenih transformacija: "&lt;&lt;std::endl;
	  try{
	  std::transform(vek_pok.begin(),vek_pok.end(),vek_pok.begin(),
	  [koefx,koefy,koefs,ugao](std::shared_ptr&lt;Trougao&gt; a){
	  	a-&gt;Transliraj(koefx,koefy);
	  	a-&gt;Rotiraj(a-&gt;DajCentar(),ugao);
	  	a-&gt;Skaliraj(a-&gt;DajTjeme(1),koefs);
	  	return a;
</font>	  });
	  }
	  catch(...){//hvatanje izzetka usljed nepravilno zadanog koef!
	  	return 0;
	  }
	 std::sort(vek_pok.begin(),vek_pok.end(),
	  [](std::shared_ptr&lt;Trougao&gt; a,std::shared_ptr&lt;Trougao&gt; b){
	  	return a-&gt;DajPovrsinu()&lt;b-&gt;DajPovrsinu();
	  });
	 std::for_each(vek_pok.begin(),vek_pok.end(),
	  [](std::shared_ptr&lt;Trougao&gt; a){
	  	a-&gt;Ispisi();std::cout&lt;&lt;std::endl;
	  });
	  auto ispis_o=std::max_element(vek_pok.begin(),vek_pok.end(),
	  [](std::shared_ptr&lt;Trougao&gt; a,std::shared_ptr&lt;Trougao&gt; b){
	  	return a-&gt;DajObim()&gt;b-&gt;DajObim();
	  });
	  std::cout&lt;&lt;"Trougao sa najmanjim obimom: ";(*ispis_o)-&gt;Ispisi();
	  std::cout&lt;&lt;std::endl;
	  int brojac=0;
		for(int i=0;i&lt;vek_pok.size()-1;i++){
		for(int j=i;j&lt;vek_pok.size();j++){
			if(i==j)continue;
			if(DaLiSuIdenticni(*vek_pok[i],*vek_pok[j])==true){
<a name="1"></a><font color="#00FF00"><a href="match938-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_1.gif"/></a>

				if(brojac==0)std::cout&lt;&lt;"Parovi identicnih trouglova:"&lt;&lt;std::endl;
				vek_pok[i]-&gt;Ispisi();std::cout&lt;&lt;" i ";
				vek_pok[j]-&gt;Ispisi();std::cout&lt;&lt;std::endl;
</font>				brojac++;
			}
		}
<a name="7"></a><font color="#0000FF"><a href="match938-1.html#7" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_0.gif"/></a>

	}if(brojac==0)std::cout&lt;&lt;"Nema identicnih trouglova!"&lt;&lt;std::endl;
	brojac=0;
	for(int i=0;i&lt;vek_pok.size()-1;i++){
</font>		for(int j=i;j&lt;vek_pok.size();j++){
			if(i==j)continue;
			if(DaLiSuPodudarni(*vek_pok[i],*vek_pok[j])==true){
<a name="2"></a><font color="#0000FF"><a href="match938-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_1.gif"/></a>

				if(brojac==0)std::cout&lt;&lt;"Parovi podudarnih trouglova:"&lt;&lt;std::endl;
				vek_pok[i]-&gt;Ispisi();std::cout&lt;&lt;" i ";
				vek_pok[j]-&gt;Ispisi();std::cout&lt;&lt;std::endl;brojac++;
</font>			}
		}
<a name="8"></a><font color="#00FFFF"><a href="match938-1.html#8" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_0.gif"/></a>

	}if(brojac==0)std::cout&lt;&lt;"Nema podudarnih trouglova!"&lt;&lt;std::endl;
	brojac=0;
	for(int i=0;i&lt;vek_pok.size()-1;i++){
</font>		for(int j=i;j&lt;vek_pok.size();j++){
			if(i==j)continue;
			if(DaLiSuSlicni(*vek_pok[i],*vek_pok[j])==true){
<a name="3"></a><font color="#00FFFF"><a href="match938-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_1.gif"/></a>

				if(brojac==0)std::cout&lt;&lt;"Parovi slicnih trouglova:"&lt;&lt;std::endl;
				vek_pok[i]-&gt;Ispisi();std::cout&lt;&lt;" i ";
				vek_pok[j]-&gt;Ispisi();std::cout&lt;&lt;std::endl;
</font>				brojac++;
			}
		}
	}
	if(brojac==0)std::cout&lt;&lt;"Nema slicnih trouglova!"&lt;&lt;std::endl;
	}
	catch(...){
		return 0;
	}
	return 0;
}</pre>
</body>
</html>
