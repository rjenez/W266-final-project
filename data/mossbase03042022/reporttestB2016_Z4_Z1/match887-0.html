<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z1/student5562.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z1/student5562.cpp<p></p><pre>
/B 2016/2017, ZadaÄ‡a 4, Zadatak 1
//Napomena: testovi ce biti dostupni dan pred rok!
#include &lt;iostream&gt;
#include &lt;utility&gt;
#include &lt;stdexcept&gt;
#include &lt;cmath&gt;
#include &lt;set&gt;
#include &lt;algorithm&gt;
#include &lt;vector&gt;
#include &lt;memory&gt;

typedef std::pair&lt;double, double&gt; Tacka; 

class Trougao{
    Tacka tacke[3];
    static double TestOrijentacije(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3){
        return t1.first*(t2.second - t3.second) - t2.first*(t1.second - t3.second) + t3.first*(t1.second - t2.second);
    }
<a name="6"></a><font color="#00FF00"><a href="match887-1.html#6" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_1.gif"/></a>

    static void TestIndeksa(int indeks){
        if (indeks &lt; 1 || indeks &gt; 3)
            throw std::range_error("Nekorektan indeks");
    }
    static double Udaljenost(const Tacka &amp;t1, const Tacka &amp;t2){
</font>        return std::sqrt(std::pow(t1.first - t2.first, 2) + std::pow(t1.second - t2.second, 2));
    }
    void DajOstaleTacke(int indeks, Tacka &amp;t1, Tacka &amp;t2)const;
    static bool Jednaki(double a, double b){
        return std::abs(a - b) &lt;= std::pow(10,-8)*(std::abs(a) + std::abs(b));
    }
    static bool TackeJednake(const Tacka &amp;p1, const Tacka &amp;p2){
        return (Jednaki(p1.first, p2.first) &amp;&amp; Jednaki(p1.second, p2.second));
    }
    static double Kosinusna(double a, double b, double c){
        return std::acos((b*b + c*c - a*a)/(2*b*c));
    }
public:
<a name="0"></a><font color="#FF0000"><a href="match887-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_5.gif"/></a>

    Trougao(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3){
        Postavi(t1, t2, t3);
    }
    void Postavi(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3);
    void Postavi(int indeks, const Tacka &amp;t);
    static int Orijentacija(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3);
    Tacka DajTjeme(int indeks) const{ TestIndeksa(indeks); return tacke[indeks - 1];}
    double DajStranicu(int indeks) const;
    double DajUgao(int indeks) const;
    Tacka DajCentar() const{
        return {(tacke[0].first + tacke[1].first + tacke[2].first)/3, (tacke[0].second + tacke[1].second + tacke[2].second)/3};
    }
    double DajObim() const{ return Udaljenost(tacke[0], tacke[1]) + Udaljenost(tacke[1], tacke[2]) + Udaljenost(tacke[2], tacke[0]);}
</font>    double DajPovrsinu() const{ return std::abs(TestOrijentacije(tacke[0], tacke[1], tacke[2]))/2;}
    bool DaLiJePozitivnoOrijentiran() const{ if (Orijentacija(tacke[0], tacke[1], tacke[2]) == 1) return true; return false;};
<a name="3"></a><font color="#00FFFF"><a href="match887-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_1.gif"/></a>

    bool DaLiJeUnutra(const Tacka &amp;t) const;
    void Ispisi() const{ std::cout &lt;&lt; "((" &lt;&lt; tacke[0].first &lt;&lt; "," &lt;&lt; tacke[0].second &lt;&lt; "),(" &lt;&lt; tacke[1].first &lt;&lt; "," &lt;&lt; tacke[1].second &lt;&lt; "),(" &lt;&lt; tacke[2].first &lt;&lt; "," &lt;&lt; tacke[2].second &lt;&lt; "))";}
</font><a name="2"></a><font color="#0000FF"><a href="match887-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_1.gif"/></a>

    void Transliraj(double delta_x, double delta_y){for(int i = 0; i &lt; 3; i++){tacke[i].first += delta_x; tacke[i].second += delta_y;}};
    void Centriraj(const Tacka &amp;t);
</font><a name="1"></a><font color="#00FF00"><a href="match887-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_1.gif"/></a>

    void Rotiraj(const Tacka &amp;t, double ugao);
    void Skaliraj(const Tacka &amp;t, double faktor);
    void Rotiraj(double ugao){
        Rotiraj(DajCentar(), ugao);
    }
    void Skaliraj(double faktor){
        Skaliraj(DajCentar(), faktor);
    }
    friend bool DaLiSuIdenticni(const Trougao &amp;t1, const Trougao &amp;t2);
</font>    friend bool DaLiSuPodudarni(const Trougao &amp;t1, const Trougao &amp;t2);
    friend bool DaLiSuSlicni(const Trougao &amp;t1, const Trougao &amp;t2);

};
bool DaLiSuIdenticni(const Trougao &amp;t1, const Trougao &amp;t2){
    std::set&lt;Tacka&gt; s1, s2;
    std::copy(t1.tacke, t1.tacke + 3, std::inserter(s1, s1.begin()));
    std::copy(t2.tacke, t2.tacke + 3, std::inserter(s2, s2.begin()));
    return std::equal(s1.begin(), s1.end(), s2.begin(), Trougao::TackeJednake);
}
bool DaLiSuPodudarni(const Trougao &amp;t1, const Trougao &amp;t2){
    std::set&lt;double&gt; str1{Trougao::Udaljenost(t1.tacke[0], t1.tacke[1]), Trougao::Udaljenost(t1.tacke[1], t1.tacke[2]), Trougao::Udaljenost(t1.tacke[2], t1.tacke[0])};
    std::set&lt;double&gt; str2{Trougao::Udaljenost(t2.tacke[0], t2.tacke[1]), Trougao::Udaljenost(t2.tacke[1], t2.tacke[2]), Trougao::Udaljenost(t2.tacke[2], t2.tacke[0])};
    if (str1 != str2) return false;
    std::vector&lt;Tacka&gt;tacke1, tacke2;
    for (int i = 1; i &lt;= 3; i++)
        for (int j = 1; j &lt;= 3; j++)
            if (Trougao::Jednaki(t1.DajUgao(i), t2.DajUgao(j)))
            {
                tacke1.push_back(t1.DajTjeme(i)); 
                tacke2.push_back(t2.DajTjeme(j));
            }
    return Trougao::Orijentacija(tacke1[0], tacke1[1], tacke1[2]) == Trougao::Orijentacija(tacke2[0], tacke2[1], tacke2[2]);
}
bool DaLiSuSlicni(const Trougao &amp;t1, const Trougao &amp;t2){
    std::set&lt;double&gt;stranice_1, stranice_2;
    stranice_1.insert(Trougao::Udaljenost(t1.tacke[0], t1.tacke[1])); stranice_1.insert(Trougao::Udaljenost(t1.tacke[1], t1.tacke[2])); stranice_1.insert(Trougao::Udaljenost(t1.tacke[0], t1.tacke[2]));
    stranice_2.insert(Trougao::Udaljenost(t2.tacke[0], t2.tacke[1])); stranice_2.insert(Trougao::Udaljenost(t2.tacke[1], t2.tacke[2])); stranice_2.insert(Trougao::Udaljenost(t2.tacke[2], t2.tacke[0]));
    Trougao t(t1); t.Skaliraj(*stranice_1.begin()/ *stranice_2.begin());
    return DaLiSuPodudarni(t, t2);
}

void Trougao::DajOstaleTacke(int indeks, Tacka &amp;t1, Tacka &amp; t2)const{
    if (indeks == 1){ t1 = tacke[1]; t2 = tacke[2];}
    else if (indeks == 2){ t1 = tacke[0]; t2 = tacke[2];}
    else {t1 = tacke[0]; t2 = tacke[1];}
}
void Trougao::Postavi(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3){
    if (!Orijentacija(t1, t2, t3))
        throw std::domain_error("Nekorektne pozicije tjemena");
    tacke[0] = t1; tacke[1] = t2, tacke[2] = t3;
}
void Trougao::Postavi(int indeks, const Tacka &amp;t){
    Tacka t1, t2; DajOstaleTacke(indeks, t1, t2);
    if (!Orijentacija(t, t1, t2))
<a name="5"></a><font color="#FF0000"><a href="match887-1.html#5" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_1.gif"/></a>

        throw std::domain_error("Nekorektne pozicije tjemena");
    TestIndeksa(indeks); tacke[indeks - 1] = t;
}
int Trougao::Orijentacija(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3){
</font><a name="4"></a><font color="#FF00FF"><a href="match887-1.html#4" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_1.gif"/></a>

    double test(TestOrijentacije(t1, t2, t3));
    if (test &gt; 0) return 1;
    if (test &lt; 0) return -1;
    return 0;
}
double Trougao::DajStranicu(int indeks)const{
    TestIndeksa(indeks);
</font>    Tacka t1, t2;
    DajOstaleTacke(indeks, t1, t2);
    return Udaljenost(t1, t2);
}
double Trougao::DajUgao(int indeks)const{
    TestIndeksa(indeks);
    Tacka t1, t2; DajOstaleTacke(indeks, t1, t2); 
    double a(Udaljenost(t1, t2)), b(Udaljenost(tacke[indeks - 1], t1)), c(Udaljenost(tacke[indeks - 1], t2));
    return Kosinusna(a, b, c);
}
bool Trougao::DaLiJeUnutra(const Tacka &amp;t)const{
    double o(Orijentacija(tacke[0], tacke[1], tacke[2]));
    if (!Jednaki(Orijentacija(tacke[0], tacke[1], t), o) || !Jednaki(Orijentacija(tacke[1], tacke[2], t), o) || !Jednaki(Orijentacija(tacke[2], tacke[0], t), o))
        return false;
    return true;
}
void Trougao::Centriraj(const Tacka &amp;t){
    Tacka c(DajCentar());
    double delta_x = t.first - c.first, delta_y = t.second - c.second;
    Transliraj(delta_x, delta_y);
}
void Trougao::Rotiraj(const Tacka &amp;t, double ugao){
    for (int i = 0; i &lt; 3; i++)
        tacke[i] = {t.first + (tacke[i].first - t.first)*std::cos(ugao) - (tacke[i].second - t.second)*std::sin(ugao), t.second + (tacke[i].first - t.first)*std::sin(ugao) + (tacke[i].second - t.second)*std::cos(ugao)};
}
void Trougao::Skaliraj(const Tacka &amp;t, double faktor){
    if (Jednaki(faktor, 0))
        throw std::domain_error("Nekorektan faktor skaliranja");
    for (int i = 0; i &lt; 3; i++)
        tacke[i] = {t.first + faktor*(tacke[i].first - t.first), t.second + faktor*(tacke[i].second - t.second)};
}

int main ()
{
    int n;
    std::cout &lt;&lt; "Koliko zelite kreirati trouglova: "; 
    std::cin &gt;&gt; n;
    std::vector&lt;std::shared_ptr&lt;Trougao&gt;&gt; trouglovi(n);
    for (int i = 0; i &lt; n; i++)
    {   double x1, x2, x3, y1, y2, y3;
        for(;;)
        {
            std::cout &lt;&lt; "Unesite podatke za " &lt;&lt; i + 1 &lt;&lt; ". trougao (x1 y1 x2 y2 x3 y3): ";
            std::cin &gt;&gt; x1 &gt;&gt; y1 &gt;&gt; x2 &gt;&gt; y2 &gt;&gt; x3 &gt;&gt; y3;
            try
            {
                trouglovi[i] = std::make_shared&lt;Trougao&gt;(Trougao({x1, y1}, {x2,y2}, {x3, y3}));
                break;
            }
            catch (std::domain_error)
            {
                std::cout &lt;&lt; "Nekorektne pozicije tjemena, ponovite unos!\n";
            }
        }
    }
    int dx, dy;
    std::cout &lt;&lt; "Unesite vektor translacije (dx dy): ";
    std::cin &gt;&gt; dx &gt;&gt; dy;
    double ugao;
    std::cout &lt;&lt; "Unesite ugao rotacije: ";
    std::cin &gt;&gt; ugao;
    double faktor_skaliranja;
    std::cout &lt;&lt; "Unesite faktor skaliranja: ";
    std::cin &gt;&gt; faktor_skaliranja;
    std::transform(trouglovi.begin(), trouglovi.end(), trouglovi.begin(), [dx, dy, ugao, faktor_skaliranja](std::shared_ptr&lt;Trougao&gt; t){
        t-&gt;Transliraj(dx, dy);
        t-&gt;Rotiraj(t-&gt;DajCentar(), ugao);
        t-&gt;Skaliraj(t-&gt;DajTjeme(1), faktor_skaliranja);
        return t;
    });
    std::sort(trouglovi.begin(), trouglovi.end(), [](std::shared_ptr&lt;const Trougao&gt; t1, std::shared_ptr&lt;const Trougao&gt; t2){
        return t1-&gt;DajPovrsinu() &lt; t2-&gt;DajPovrsinu();
    });
    std::cout &lt;&lt; "Trouglovi nakon obavljenih transformacija:\n";
    std::for_each(trouglovi.begin(), trouglovi.end(), [](std::shared_ptr&lt;const Trougao&gt; t){
        t-&gt;Ispisi(); std::cout &lt;&lt; std::endl;
    });
    std::cout &lt;&lt; "Trougao sa najmanjim obimom: ";
    (*std::max_element(trouglovi.begin(), trouglovi.end(), [](std::shared_ptr&lt;const Trougao&gt; t1, std::shared_ptr&lt;const Trougao&gt; t2){
        return t1-&gt;DajObim() &gt; t2-&gt;DajObim();
    }))-&gt;Ispisi(); 
    std::cout &lt;&lt; std::endl;
    
    int parova(0);
    for (int i = 0; i &lt; n - 1; i++)
        for (int j = i + 1; j &lt; n; j++)
            if (DaLiSuIdenticni(*trouglovi[i], *trouglovi[j]))
            {   
                if (!parova) std::cout &lt;&lt; "Parovi identicnih trouglova:\n";
                trouglovi[i]-&gt;Ispisi(); std::cout &lt;&lt; " i "; trouglovi[j]-&gt;Ispisi(); std::cout &lt;&lt; std::endl;
                parova++;
            }
    if (!parova) std::cout &lt;&lt; "Nema identicnih trouglova!";
    std::cout &lt;&lt; std::endl;
    parova = 0;
    
    for (int i = 0; i &lt; n - 1; i++)
        for (int j = i + 1; j &lt; n; j++)
            if (DaLiSuPodudarni(*trouglovi[i], *trouglovi[j]))
            { if (!parova) std::cout &lt;&lt; "Parovi podudarnih trouglova:\n";
                trouglovi[i]-&gt;Ispisi(); std::cout &lt;&lt; " i "; trouglovi[j]-&gt;Ispisi(); std::cout &lt;&lt; std::endl;
                parova++;
            }
    if (!parova) std::cout &lt;&lt; "Nema podudarnih trouglova!";
    std::cout &lt;&lt; std::endl;
    
    parova = 0;
    for (int i = 0; i &lt; n - 1; i++)
        for (int j = i + 1; j &lt; n; j++)
            if (DaLiSuSlicni(*trouglovi[i], *trouglovi[j]))
            {   if (!parova) std::cout &lt;&lt; "Parovi slicnih trouglova:\n";
                trouglovi[i]-&gt;Ispisi(); std::cout &lt;&lt; " i "; trouglovi[j]-&gt;Ispisi(); std::cout &lt;&lt; std::endl;
                parova++;
            }
    if (!parova) std::cout &lt;&lt; "Nema slicnih trouglova!";
	return 0;
}</pre>
</body>
</html>
