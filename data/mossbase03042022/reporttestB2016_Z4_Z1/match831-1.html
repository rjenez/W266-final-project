<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z1/student3756.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z1/student6458.cpp<p></p><pre>
/B 2016/2017, ZadaÄ‡a 4, Zadatak 1
//Napomena: testovi ce biti dostupni dan pred rok!

#include &lt;iostream&gt;
#include &lt;stdexcept&gt;
#include &lt;math.h&gt;
#include &lt;cmath&gt;
#include &lt;vector&gt;
#include &lt;memory&gt;
#include &lt;algorithm&gt;

const double eps(1e-10);

typedef std::pair&lt;double, double&gt; Tacka;

<a name="2"></a><font color="#0000FF"><a href="match831-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_1.gif"/></a>

class Trougao {
    Tacka A, B, C;
    public:
    Trougao(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3);
    void Postavi(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3);
</font>    void Postavi(int indeks, const Tacka &amp;t);
    static int Orijentacija(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3) {
        int suma(0);
        suma = t1.first * (t2.second - t3.second) - t2.first * (t1.second - t3.second) + t3.first * (t1.second - t2.second);
        if (suma &gt; 0) return 1;
        else if (suma &lt; 0) return -1;
        else return 0;
    }
    Tacka DajTjeme(int indeks) const;
    double DajStranicu(int indeks) const;
    double DajUgao(int indeks) const;
    Tacka DajCentar() const;
    double DajObim() const;
    double DajPovrsinu() const;
    bool DaLiJePozitivnoOrijentiran() const;
    bool DaLiJeUnutra(const Tacka &amp;t) const;
    void Ispisi() const;
    void Transliraj(double delta_x, double delta_y);
    void Centriraj(const Tacka &amp;t);
    void Rotiraj(const Tacka &amp;t, double ugao);
    void Skaliraj(const Tacka &amp;t, double faktor);
    void Rotiraj(double ugao);
    void Skaliraj(double faktor);
    friend bool DaLiSuIdenticni(const Trougao &amp;t1, const Trougao &amp;t2);
    friend bool DaLiSuPodudarni(const Trougao &amp;t1, const Trougao &amp;t2);
    friend bool DaLiSuSlicni(const Trougao &amp;t1, const Trougao &amp;t2);
};

Trougao::Trougao(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3) {
    if (Orijentacija(t1,t2,t3) == 0) throw std::domain_error ("Nekorektne pozicije tjemena");
    A.first = t1.first; A.second = t1.second;
    B.first = t2.first; B.second = t2.second;
    C.first = t3.first; C.second = t3.second;
}

void Trougao::Postavi(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3) {
    if (Orijentacija(t1,t2,t3) == 0) throw std::domain_error ("Nekorektne pozicije tjemena");
    A.first = t1.first; A.second = t1.second;
    B.first = t2.first; B.second = t2.second;
    C.first = t3.first; C.second = t3.second;
}

void Trougao::Postavi(int indeks, const Tacka &amp;t) {
    if (indeks &lt; 1 || indeks &gt; 3) throw std::range_error ("Nekorektan indeks");
    if (indeks == 1) {
        A.first = t.first;
        A.second = t.second;
    }
    else if (indeks == 2) {
        B.first = t.first;
        B.second = t.second;
    }
    else {
        C.first = t.first;
        C.second = t.second;
    }
}

<a name="1"></a><font color="#00FF00"><a href="match831-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_2.gif"/></a>

Tacka Trougao::DajTjeme(int indeks) const {
    if (indeks &lt; 1 || indeks &gt; 3) throw std::range_error ("Nekorektan indeks");
    if (indeks == 1) return A;
    else if (indeks == 2) return B;
    else return C;
}

double Trougao::DajStranicu(int indeks) const {
    if (indeks &lt; 1 || indeks &gt; 3) throw std::range_error ("Nekorektan indeks");
    if (indeks == 1) {
        return sqrt((B.first - C.first) * (B.first - C.first) + (B.second - C.second) * (B.second - C.second));
</font>    }
    else if (indeks == 2) {
<a name="0"></a><font color="#FF0000"><a href="match831-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_7.gif"/></a>

        return sqrt((A.first - C.first) * (A.first - C.first) + (A.second - C.second) * (A.second - C.second));
    }
    else {
        return sqrt((B.first - A.first) * (B.first - A.first) + (B.second - A.second) * (B.second - A.second));
    }
}

double Trougao::DajUgao(int indeks) const {
    if (indeks &lt; 1 || indeks &gt; 3) throw std::range_error ("Nekorektan indeks");
    if (indeks == 1) {
        return acos((DajStranicu(2) * DajStranicu(2) + DajStranicu(3) * DajStranicu(3) - DajStranicu(1) * DajStranicu(1)) / (2 * DajStranicu(2) * DajStranicu(3)));
    }
    else if (indeks == 2) {
        return acos((DajStranicu(1) * DajStranicu(1) + DajStranicu(3) * DajStranicu(3) - DajStranicu(2) * DajStranicu(2)) / (2 * DajStranicu(1) * DajStranicu(3)));
    }
    else {
        return acos((DajStranicu(1) * DajStranicu(1) + DajStranicu(2) * DajStranicu(2) - DajStranicu(3) * DajStranicu(3)) / (2 * DajStranicu(1) * DajStranicu(2)));
    }
}

Tacka Trougao::DajCentar() const {
    Tacka centar;
    centar.first =  (A.first + B.first + C.first) / 3.;
</font>    centar.second = (A.second + B.second + C.second) / 3.;
    return centar;
}

double Trougao::DajObim() const {
    return DajStranicu(1) + DajStranicu(2) + DajStranicu(3);
}

double Trougao::DajPovrsinu() const {
    return 1./2 * abs(A.first * (B.second - C.second) - B.first * (A.second - C.second) + C.first * (A.second - B.second));
}

bool Trougao::DaLiJePozitivnoOrijentiran() const {
    if (Orijentacija(A,B,C) == 1) return true;
    return false;
}

bool Trougao::DaLiJeUnutra(const Tacka &amp;t) const {
<a name="3"></a><font color="#00FFFF"><a href="match831-0.html#3" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_0.gif"/></a>

    if (Orijentacija(A,B,C) == 1 &amp;&amp; Orijentacija(A,B,t) == 1 &amp;&amp; Orijentacija(B,C,t) == 1 &amp;&amp; Orijentacija(C,A,t) == 1) return true;
    return false;
}

void Trougao::Ispisi() const {
    std::cout &lt;&lt; "((" &lt;&lt; A.first &lt;&lt; "," &lt;&lt; A.second &lt;&lt; "),(" &lt;&lt; B.first &lt;&lt; "," &lt;&lt; B.second &lt;&lt; "),(" &lt;&lt; C.first &lt;&lt; "," &lt;&lt; C.second &lt;&lt; "))";
</font>}

void Trougao::Transliraj(double delta_x, double delta_y) {
    A.first += delta_x; A.second += delta_y;
    B.first += delta_x; B.second += delta_y;
    C.first += delta_x; C.second += delta_y;
}

void Trougao::Centriraj(const Tacka &amp;t) {
    Tacka centar_stari(DajCentar());
    A.first += t.first - centar_stari.first;
    A.second += t.second - centar_stari.second;
    B.first += t.first - centar_stari.first;
    B.second += t.second - centar_stari.second;
    C.first += t.first - centar_stari.first;
    C.second += t.second - centar_stari.second;
}

void RotacijaJedneTacke(Tacka &amp;t, const Tacka &amp;tc, double ugao) {
    double kosinus = cos (ugao);
    double sinus = sin (ugao);
    t.first = tc.first + (t.first - tc.first) * kosinus - (t.second - tc.second) * sinus;
    t.second = tc.second + (t.first - tc.first) * sinus + (t.second - tc.second) * kosinus;
}

void Trougao::Rotiraj(const Tacka &amp;t, double ugao) {
    RotacijaJedneTacke(A,t,ugao);
    RotacijaJedneTacke(B,t,ugao);
    RotacijaJedneTacke(C,t,ugao);
}

void SkalirajJednuTacku(Tacka &amp;t, const Tacka &amp;tc, double faktor) {
    t.first = tc.first + faktor * (t.first - tc.first);
    t.second = tc.second + faktor * (t.second - tc.second);
}

void Trougao::Skaliraj(const Tacka &amp;t, double faktor) {
    if (faktor &lt;= eps &amp;&amp; faktor &gt;= 0) throw std::domain_error ("Nekorektan faktor skaliranja");
    SkalirajJednuTacku(A,t,faktor);
    SkalirajJednuTacku(B,t,faktor);
    SkalirajJednuTacku(C,t,faktor);
}

void Trougao::Rotiraj(double ugao) {
    Tacka centar(DajCentar());
    RotacijaJedneTacke(A,centar,ugao);
    RotacijaJedneTacke(B,centar,ugao);
    RotacijaJedneTacke(C,centar,ugao);
}

void Trougao::Skaliraj(double faktor) {
    if (faktor &lt;= eps &amp;&amp; faktor &gt;= 0) throw std::domain_error ("Nekorektan faktor skaliranja");
    Tacka centar(DajCentar());
    SkalirajJednuTacku(A,centar,faktor);
    SkalirajJednuTacku(B,centar,faktor);
    SkalirajJednuTacku(C,centar,faktor);
}

bool DaLiSuIdenticni(const Trougao &amp;t1, const Trougao &amp;t2) {
    if (t1.A == t2.A &amp;&amp; t1.B == t2.B &amp;&amp; t1.C == t2.C) return true;
    else if (t1.A == t2.A &amp;&amp; t1.B == t2.C &amp;&amp; t1.C == t2.B) return true;
    else if (t1.A == t2.B &amp;&amp; t1.B == t2.A &amp;&amp; t1.C == t2.C) return true;
    else if (t1.A == t2.B &amp;&amp; t1.B == t2.C &amp;&amp; t1.C == t2.A) return true;
    else if (t1.A == t2.C &amp;&amp; t1.B == t2.B &amp;&amp; t1.C == t2.A) return true;
    else if (t1.A == t2.C &amp;&amp; t1.B == t2.A &amp;&amp; t1.C == t2.C) return true;
    else return false;
}

bool DaLiSuPodudarni(const Trougao &amp;t1, const Trougao &amp;t2) {
    std::vector&lt;double&gt; v1 { t1.DajStranicu(1), t1.DajStranicu(2), t1.DajStranicu(3) };
    std::vector&lt;double&gt; v2 { t2.DajStranicu(1), t2.DajStranicu(2), t2.DajStranicu(3) };
    std::sort(v1.begin(), v1.end());
    std::sort(v2.begin(), v2.end());
    if (std::fabs(v1[0] - v2[0]) &lt;= eps &amp;&amp; std::fabs(v1[1] - v2[1]) &lt;= eps &amp;&amp; std::fabs(v1[2] - v2[2]) &lt;= eps) return true;
    return false;
}

bool DaLiSuSlicni(const Trougao &amp;t1, const Trougao &amp;t2) {
    double odnos1ab(0), odnos1bc(0), odnos1ac(0);
    double odnos2ab(0), odnos2bc(0), odnos2ac(0);
    odnos1ab = t1.DajStranicu(1) / t1.DajStranicu(2);
    odnos1bc = t1.DajStranicu(2) / t1.DajStranicu(3);
    odnos1ac = t1.DajStranicu(1) / t1.DajStranicu(3);
    odnos2ab = t2.DajStranicu(1) / t2.DajStranicu(2);
    odnos2bc = t2.DajStranicu(2) / t2.DajStranicu(3);
    odnos2ac = t2.DajStranicu(1) / t2.DajStranicu(3);
    if (std::fabs(odnos1ab - odnos2ab) &lt;= eps &amp;&amp; std::fabs(odnos1bc - odnos2bc) &lt;= eps &amp;&amp; std::fabs(odnos1ac - odnos2ac) &lt;= eps)
        return true;
    return false;
}


int main ()
{
    std::cout &lt;&lt; "Koliko zelite kreirati trouglova: ";
    int n;
    std::cin &gt;&gt; n;
    std::vector&lt;std::shared_ptr&lt;Trougao&gt;&gt; v;
    for (int i = 0; i &lt; n; i++) {
        Tacka A, B, C;
        std::cout &lt;&lt; "Unesite podatke za " &lt;&lt; i + 1 &lt;&lt; ". trougao (x1 y1 x2 y2 x3 y3): ";
        std::cin &gt;&gt; A.first &gt;&gt; A.second &gt;&gt; B.first &gt;&gt; B.second &gt;&gt; C.first &gt;&gt; C.second;
        if (Trougao::Orijentacija(A,B,C) == 0) {
            std::cout &lt;&lt; "Nekorektne pozicije tjemena, ponovite unos!\n";
            i--;
            continue;
        }
        v.push_back(std::make_shared&lt;Trougao&gt; (A,B,C));
    }
    std::cout &lt;&lt; "Unesite vektor translacije (dx dy): ";
    double dx, dy;
    std::cin &gt;&gt; dx &gt;&gt; dy;
    std::cout &lt;&lt; "Unesite ugao rotacije: ";
    double ugao;
    std::cin &gt;&gt; ugao;
    std::cout &lt;&lt; "Unesite faktor skaliranja: ";
    double faktor;
    std::cin &gt;&gt; faktor;
    std::transform(v.begin(), v.end(), v.begin(), [dx,dy,ugao,faktor](std::shared_ptr&lt;Trougao&gt; p) {
        (*p).Transliraj(dx, dy);
        (*p).Rotiraj(/*(*p).DajCentar(),*/ ugao);
        (*p).Skaliraj((*p).DajTjeme(1), faktor);
        return p;
    });
    std::sort(v.begin(), v.end(), [](std::shared_ptr&lt;Trougao&gt; p1, std::shared_ptr&lt;Trougao&gt; p2) {
        return ((*p1).DajPovrsinu() &lt; (*p2).DajPovrsinu());    
    });
    std::cout &lt;&lt;"Trouglovi nakon obavljenih transformacija: " &lt;&lt; std::endl;
    std::for_each(v.begin(), v.end(), [](std::shared_ptr&lt;Trougao&gt; p) {
        (*p).Ispisi();
        std::cout &lt;&lt; std::endl;
    });
    std::shared_ptr&lt;Trougao&gt; min_obim;
    min_obim = *(std::min_element(v.begin(), v.end(), [](std::shared_ptr&lt;Trougao&gt; p1, std::shared_ptr&lt;Trougao&gt; p2) {
        return ((*p1).DajObim() &lt; (*p2).DajObim());
    }));
    std::cout &lt;&lt; "Trougao sa najmanjim obimom: ";
    (*min_obim).Ispisi();
    int brojac(0);
    for (int i = 0; i &lt; n; i++) {
        Trougao t1(*(v[i]));
        for (int j = i + 1; j &lt; n; j++) {
            Trougao t2(*(v[j]));
            if (DaLiSuIdenticni(t1,t2)) {
                brojac++;
            }
        }
    }
    std::cout &lt;&lt; std::endl;
    if (brojac == 0) std::cout &lt;&lt; "Nema identicnih trouglova!" &lt;&lt; std::endl;
    else {
        std::cout &lt;&lt; "Parovi identicnih trouglova: " &lt;&lt; std::endl;
        for (int i = 0; i &lt; n; i++) {
            Trougao t1(*(v[i]));
            for (int j = i + 1; j &lt; n; j++) {
                Trougao t2(*(v[j]));
                if (DaLiSuIdenticni(t1,t2)) {
                    t1.Ispisi();
                    std::cout &lt;&lt; " i ";
                    t2.Ispisi();
                    std::cout &lt;&lt; std::endl;
                }
            }
        }
    }
    brojac = 0;
    for (int i = 0; i &lt; n; i++) {
        Trougao t1(*(v[i]));
        for (int j = i + 1; j &lt; n; j++) {
            Trougao t2(*(v[j]));
            if (DaLiSuPodudarni(t1,t2)) {
                brojac++;
            }
        }
    }
    if (brojac == 0) std::cout &lt;&lt; "Nema podudarnih trouglova!" &lt;&lt; std::endl;
    else {
        std::cout &lt;&lt; "Parovi podudarnih trouglova:" &lt;&lt; std::endl;
        for (int i = 0; i &lt; n; i++) {
            Trougao t1(*(v[i]));
            for (int j = i + 1; j &lt; n; j++) {
                Trougao t2(*(v[j]));
                if (DaLiSuPodudarni(t1,t2)) {
                    t1.Ispisi();
                    std::cout &lt;&lt; " i ";
                    t2.Ispisi();
                    std::cout &lt;&lt; std::endl;
                }
            }
        }
    }
    brojac = 0;
    for (int i = 0; i &lt; n; i++) {
        Trougao t1(*(v[i]));
        for (int j = i + 1; j &lt; n; j++) {
            Trougao t2(*(v[j]));
            if (DaLiSuSlicni(t1,t2)) {
                brojac++;
            }
        }
    }
    if (brojac == 0) std::cout &lt;&lt; "Nema slicnih trouglova!" &lt;&lt; std::endl;
    else {
        std::cout &lt;&lt; "Parovi slicnih trouglova:" &lt;&lt; std::endl;
        for (int i = 0; i &lt; n; i++) {
            Trougao t1(*(v[i]));
            for (int j = i + 1; j &lt; n; j++) {
                Trougao t2(*(v[j]));
                if (DaLiSuSlicni(t1,t2)) {
                    t1.Ispisi();
                    std::cout &lt;&lt; " i ";
                    t2.Ispisi();
                    std::cout &lt;&lt; std::endl;
                }
            }
        }
    }
	return 0;
}</pre>
</body>
</html>
