<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z1/student8993.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z1/student5475.cpp<p></p><pre>
#include &lt;iostream&gt;
#include &lt;iomanip&gt;
#include &lt;stdexcept&gt;
#include &lt;utility&gt;
#include &lt;map&gt;
#include &lt;cmath&gt;
#include &lt;vector&gt;
#include &lt;memory&gt;
#include &lt;algorithm&gt;
#include &lt;functional&gt;

typedef std::pair&lt;double, double&gt; Tacka;

bool Isti(double a, double b) {
    const double eps(1e-10);
    return std::fabs(a - b) &lt;= eps * (std::fabs(a) + std::fabs(b));
}
class Trougao {
    Tacka tjeme[3];
    static void TestIndeksa(int indeks) {
        if(indeks &lt; 1 || indeks &gt; 3) throw std::range_error("Nekorektan indeks");
    }
    static double F(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3) {
        return t1.first*(t2.second - t3.second) - t2.first*(t1.second - t3.second) + t3.first*(t1.second - t2.second);
    }
public:
<a name="4"></a><font color="#FF00FF"><a href="match939-0.html#4" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_1.gif"/></a>

    Trougao(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3) { Postavi(t1, t2, t3); }
    void Postavi(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3);
    void Postavi(int indeks, const Tacka &amp;t);
</font>    static int Orijentacija(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3);
    Tacka DajTjeme(int indeks) const { TestIndeksa(indeks); return tjeme[indeks-1]; }
    double DajStranicu(int indeks) const;
    double DajUgao(int indeks) const;
<a name="1"></a><font color="#00FF00"><a href="match939-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_2.gif"/></a>

    Tacka DajCentar() const {
        return {(tjeme[0].first + tjeme[1].first + tjeme[2].first)/3, (tjeme[0].second + tjeme[1].second + tjeme[2].second)/3};
    }
    double DajObim() const { return DajStranicu(1) + DajStranicu(2) + DajStranicu(3); }
</font>    double DajPovrsinu() const { return 1./2 * std::fabs(F(tjeme[0], tjeme[1], tjeme[2])); }
<a name="5"></a><font color="#FF0000"><a href="match939-0.html#5" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_1.gif"/></a>

    bool DaLiJePozitivnoOrijentiran() const { return Orijentacija(tjeme[0], tjeme[1], tjeme[2]); }
    bool DaLiJeUnutra(const Tacka &amp;t) const;
    void Ispisi() const {
</font>        std::cout &lt;&lt; "((" &lt;&lt; tjeme[0].first &lt;&lt; "," &lt;&lt; tjeme[0].second &lt;&lt; "),(" &lt;&lt; tjeme[1].first &lt;&lt; "," 
        &lt;&lt; tjeme[1].second &lt;&lt; "),(" &lt;&lt; tjeme[2].first &lt;&lt; "," &lt;&lt; tjeme[2].second &lt;&lt; "))";
    }
    void Transliraj(double delta_x, double delta_y);
    void Centriraj(const Tacka &amp;t);
    void Rotiraj(const Tacka &amp;t, double ugao);
    void Skaliraj(const Tacka &amp;t, double faktor);
    void Rotiraj(double ugao) { Rotiraj(DajCentar(), ugao); }
    void Skaliraj(double faktor) { Skaliraj(DajCentar(), faktor); }
    friend bool DaLiSuIdenticni(const Trougao &amp;t1, const Trougao &amp;t2);
<a name="0"></a><font color="#FF0000"><a href="match939-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_3.gif"/></a>

    friend bool DaLiSuPodudarni(const Trougao &amp;t1, const Trougao &amp;t2);
    friend bool DaLiSuSlicni(const Trougao &amp;t1, const Trougao &amp;t2);
};
void Trougao::Postavi(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3) {
    if(Orijentacija(t1, t2, t3) == 0) throw std::domain_error("Nekorektne pozicije tjemena");
    tjeme[0] = t1; tjeme[1] = t2; tjeme[2] = t3;
}
void Trougao::Postavi(int indeks, const Tacka &amp;t) {
</font>    int o;
    if(indeks == 1) o = Orijentacija(t, tjeme[1], tjeme[2]); 
    else if(indeks == 2) o = Orijentacija(tjeme[0], t, tjeme[2]);
    else o = Orijentacija(tjeme[0], tjeme[1], t);
    if(o == 0) throw std::domain_error("Nekorektne pozicije tjemena");
    TestIndeksa(indeks);
    tjeme[indeks-1] = t;
}
int Trougao::Orijentacija(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3) {
    double temp = F(t1, t2, t3);
    if(temp &gt; 0) return 1;
    if(temp &lt; 0) return -1;
    return 0;
}
double Trougao::DajStranicu(int indeks) const {
    TestIndeksa(indeks);
    double x1, y1, x2, y2;
    if(indeks != 3) {
        x1 = tjeme[3-indeks-1].first; y1 = tjeme[3-indeks-1].second;
        x2 = tjeme[2].first; y2 = tjeme[2].second;
    }
    else {
        x1 = tjeme[0].first; y1 = tjeme[0].second;
        x2 = tjeme[1].first; y2 = tjeme[1].second;
    }
    return std::sqrt((x2 - x1) * (x2 - x1) + (y2 - y1) * (y2 - y1));
}
double Trougao::DajUgao(int indeks) const {
    TestIndeksa(indeks);
    double a(DajStranicu(indeks)), b, c;
    if(indeks != 3) {
        b = DajStranicu(3-indeks);
        c = DajStranicu(3);
    }
    else {
        b = DajStranicu(1);
        c = DajStranicu(2);
    }
    return acos((b*b + c*c - a*a)/(2*b*c));
}
/**/bool Trougao::DaLiJeUnutra(const Tacka &amp;t) const {
    int o1(Orijentacija(tjeme[0], tjeme[1], tjeme[2])), o2(Orijentacija(tjeme[0], tjeme[1], t)),
    o3(Orijentacija(tjeme[1], tjeme[2], t)), o4(Orijentacija(tjeme[2], tjeme[0], t));
    return o1 == o2 + o3 + o4;
}
<a name="2"></a><font color="#0000FF"><a href="match939-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_1.gif"/></a>

void Trougao::Transliraj(double delta_x, double delta_y) {
    for(int i=0; i&lt;3; i++) {
        tjeme[i].first += delta_x;
        tjeme[i].second += delta_y;
    }
}
void Trougao::Centriraj(const Tacka &amp;t) {
</font>    Tacka c(DajCentar());
<a name="6"></a><font color="#00FF00"><a href="match939-0.html#6" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_1.gif"/></a>

    double delta_x = std::sqrt((c.first - t.first)*(c.first - t.first)), delta_y = std::sqrt((c.second - t.second)*(c.second - t.second));
    Transliraj(delta_x, delta_y);
}
void Trougao::Rotiraj(const Tacka &amp;t, double ugao) {
    if(Isti(ugao, 0)) return;
</font>    double xc(t.first), yc(t.second);
    for(int i=0; i&lt;3; i++) {
        double x(tjeme[i].first), y(tjeme[i].second);
        Postavi(i+1, std::make_pair(xc + (x - xc)*cos(ugao) - (y - yc)*sin(ugao),
        yc + (x - xc)*sin(ugao) + (y - yc)*cos(ugao)));
    }
}
void Trougao::Skaliraj(const Tacka &amp;t, double faktor) {
    if(Isti(faktor, 0)) throw std::domain_error("Nekorektan faktor skaliranja");
    bool treba(false);
    if(faktor &lt; 0) {
        faktor *= -1;
        treba = true;
    }
    double xc(t.first), yc(t.second);
    for(int i=0; i&lt;3; i++) {
        double x(tjeme[i].first), y(tjeme[i].second);
        //if(!(Isti(xc, tjeme[i].first)) &amp;&amp; !(Isti(yc, tjeme[i].second)))
            Postavi(i+1, std::make_pair(xc + faktor*(x - xc), yc + faktor*(y - yc)));
    }
    if(treba) Rotiraj(atan(1)*4);
}
bool DaLiSuIdenticni(const Trougao &amp;t1, const Trougao &amp;t2) {
    int br(0);
    for(int i=0; i&lt;3; i++) {
       double x1(t1.tjeme[i].first), y1(t1.tjeme[i].second);
        for(int j=0; j&lt;3; j++) {
            double x2(t2.tjeme[j].first), y2(t2.tjeme[j].second);
            if(Isti(x1, x2) &amp;&amp; Isti(y1, y2)) br++;
        }
    }
    return br == 3;
}
bool DaLiSuPodudarni(const Trougao &amp;t1, const Trougao &amp;t2) {
    /*Trougao b(t2.tjeme[0], t2.tjeme[1], t2.tjeme[2]);
    b.Centriraj(t1.DajCentar());
    Tacka A(std::make_pair(t1.tjeme[0].first, t1.tjeme[0].second)), B(std::make_pair(t1.tjeme[1].first, t1.tjeme[1].second));
    Tacka sredina(std::make_pair((A.first + B.first)/2., (A.second + B.second)/2.));
        if(DaLiSuIdenticni(t1, b)) return true;
    for(int i=0; i&lt;3; i++) {
        if(Trougao::Orijentacija(A, sredina, t2.tjeme[i]) != 0) {
            Trougao temp(A, sredina, t2.tjeme[i]);
            b.Rotiraj(temp.DajUgao(2));
        if(DaLiSuIdenticni(t1, b)) return true;
        }
    }
    return false;*/
   bool o(Trougao::Orijentacija(t1.tjeme[0], t1.tjeme[1], t1.tjeme[2]) == Trougao::Orijentacija(t2.tjeme[0], t2.tjeme[1], t2.tjeme[2]));
   int str(0), ug(0);
    for(int i=0; i&lt;3; i++) {
        double a(t1.DajStranicu(i+1)), ugao(t1.DajUgao(i+1));
        for(int j=0; j&lt;3; j++) {
            if(Isti(a, t2.DajStranicu(j+1))) str++;
            if(Isti(ugao, t2.DajUgao(j+1))) ug++;
        }
    }
    return ug + str &gt;= 6 &amp;&amp; o;
}
bool DaLiSuSlicni(const Trougao &amp;t1, const Trougao &amp;t2) {
    //ne radi
    Trougao a(t1.tjeme[0], t1.tjeme[1], t1.tjeme[2]), b(t2.tjeme[0], t2.tjeme[1], t2.tjeme[2]);
    double faktor(t1.tjeme[0].first - t2.tjeme[0].first);
    a.Centriraj(b.DajCentar());
    a.Skaliraj(faktor);
    for(int i=0; i&lt;3; i++) {
        if(DaLiSuIdenticni(a, b)) return true;
        a.Rotiraj(1);
    }
    return false;
}
template &lt;typename FunTip&gt;
void IspisiParove(const std::vector&lt;std::shared_ptr&lt;Trougao&gt;&gt; &amp;v, FunTip f, std::string tip) {
    bool nema(true), prvi(true);
    for(int i=0; i&lt;v.size(); i++) {
        Trougao a(v[i]-&gt;DajTjeme(1), v[i]-&gt;DajTjeme(2), v[i]-&gt;DajTjeme(3));
        for(int j=i+1; j&lt;v.size(); j++) {
            Trougao b(v[j]-&gt;DajTjeme(1), v[j]-&gt;DajTjeme(2), v[j]-&gt;DajTjeme(3));
            if(f(a, b)) {
                if(prvi) { std::cout &lt;&lt; "Parovi " &lt;&lt; tip &lt;&lt; " trouglova: " &lt;&lt; std::endl; prvi = false; }
                a.Ispisi(); std::cout &lt;&lt; " i "; b.Ispisi();
                nema = false;
                std::cout &lt;&lt; std::endl;
                }
            }
        }
    if(nema) std::cout &lt;&lt; "Nema "&lt;&lt; tip &lt;&lt; " trouglova!" &lt;&lt; std::endl;
}
int main () {
    typedef std::shared_ptr&lt;Trougao&gt; dijeljeni;
    int n;
    std::cout &lt;&lt; "Koliko zelite kreirati trouglova: ";
    try {
        std::cin &gt;&gt; n;
        std::vector&lt;std::shared_ptr&lt;Trougao&gt;&gt; v;
        for(int i=0; i&lt;n; i++) {
        try {
            Tacka t[3];
            std::cout &lt;&lt; "Unesite podatke za "&lt;&lt; i+1 &lt;&lt; ". trougao (x1 y1 x2 y2 x3 y3): ";
            for(int j=0; j&lt;3; j++) std::cin &gt;&gt; t[j].first &gt;&gt; t[j].second;
            v.push_back(std::make_shared&lt;Trougao&gt;(t[0], t[1], t[2]));
            }
        catch(std::domain_error e) {
            std::cout &lt;&lt; e.what() &lt;&lt; ", ponovite unos!" &lt;&lt; std::endl;
            i--;
        }
        }
    try {
        double dx, dy, teta, faktor;
        std::cout &lt;&lt; "Unesite vektor translacije (dx dy): ";
        std::cin &gt;&gt; dx &gt;&gt; dy;
<a name="3"></a><font color="#00FFFF"><a href="match939-0.html#3" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_1.gif"/></a>

        std::transform(v.begin(), v.end(), v.begin(), [dx, dy](std::shared_ptr&lt;Trougao&gt; t1) { t1-&gt;Transliraj(dx, dy); return t1; });
        std::cout &lt;&lt; "Unesite ugao rotacije: ";
</font>        std::cin &gt;&gt; teta;
<a name="7"></a><font color="#0000FF"><a href="match939-0.html#7" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_1.gif"/></a>

        std::transform(v.begin(), v.end(), v.begin(), [teta](std::shared_ptr&lt;Trougao&gt; t1) { t1-&gt;Rotiraj(teta); return t1; });
        std::cout &lt;&lt; "Unesite faktor skaliranja: ";
</font>        std::cin &gt;&gt; faktor;
        std::transform(v.begin(), v.end(), v.begin(), [faktor](std::shared_ptr&lt;Trougao&gt; t1) { t1-&gt;Skaliraj(t1-&gt;DajTjeme(1), faktor); return t1; });
        std::sort(v.begin(), v.end(), [](std::shared_ptr&lt;Trougao&gt; t1, std::shared_ptr&lt;Trougao&gt; t2) { return t1-&gt;DajPovrsinu() &lt; t2-&gt;DajPovrsinu(); }); 
        std::cout &lt;&lt; "Trouglovi nakon obavljenih transformacija: " &lt;&lt; std::endl;
        for_each(v.begin(), v.end(), [](std::shared_ptr&lt;Trougao&gt; t) { t-&gt;Ispisi(); std::cout &lt;&lt; std::endl; } );
        std::cout &lt;&lt; "Trougao sa najmanjim obimom: ";
        auto p = std::min_element(v.begin(), v.end(), [](std::shared_ptr&lt;Trougao&gt; t1, std::shared_ptr&lt;Trougao&gt; t2) { 
            return t1-&gt;DajObim() &lt; t2-&gt;DajObim(); }); 
        (*p)-&gt;Ispisi();
        std::cout &lt;&lt; std::endl;
        IspisiParove(v, DaLiSuIdenticni, "identicnih");;
        IspisiParove(v, DaLiSuPodudarni, "podudarnih");
        IspisiParove(v, DaLiSuSlicni, "slicnih");
}
    catch(std::domain_error e) { std::cout &lt;&lt; e.what() &lt;&lt; std::endl; }
    }catch(...) {}
    return 0;
}</pre>
</body>
</html>
