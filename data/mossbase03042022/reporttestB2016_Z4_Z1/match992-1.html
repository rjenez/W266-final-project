<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z1/student4639.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z1/student2340.cpp<p></p><pre>
/B 2016/2017, ZadaÄ‡a 4, Zadatak 1
//Napomena: testovi ce biti dostupni dan pred rok!

#include &lt;iostream&gt;
#include &lt;cmath&gt;
#include &lt;utility&gt;
#include &lt;stdexcept&gt;
#include &lt;memory&gt;
#include &lt;algorithm&gt;
#include &lt;vector&gt; 
const double eps = 1e-10;
const double PI = 4*atan(1);

typedef std::pair&lt;double,double&gt; Tacka;

class Trougao{
         Tacka t1,t2,t3;
         
         static double koordinate(const Tacka &amp;t1,const Tacka &amp;t2,const Tacka &amp;t3){
             return t1.first*(t2.second-t3.second)-t2.first*(t1.second-t3.second)+t3.first*(t1.second-t2.second);
         }

        double duzina_stranice23() const{
            return std::sqrt((t2.first-t3.first)*(t2.first-t3.first)+(t2.second-t3.second)*(t2.second-t3.second));}
        double duzina_stranice31() const{
            return std::sqrt((t3.first-t1.first)*(t3.first-t1.first)+(t3.second-t1.second)*(t3.second-t1.second));}
        double duzina_stranice12() const{
            return std::sqrt((t1.first-t2.first)*(t1.first-t2.first)+(t1.second-t2.second)*(t1.second-t2.second));}
        
        double ugaoalfa() const{
             return acos ((duzina_stranice12()*duzina_stranice12()+duzina_stranice31()*duzina_stranice31()
                            -duzina_stranice23()*duzina_stranice23())/(2*duzina_stranice12()*duzina_stranice31()));
        }
        double ugaobeta() const{
             return acos ((duzina_stranice12()*duzina_stranice12()-duzina_stranice31()*duzina_stranice31()
                            +duzina_stranice23()*duzina_stranice23())/(2*duzina_stranice12()*duzina_stranice23()));
        }
        double ugaogamma() const{
             return acos ((-duzina_stranice12()*duzina_stranice12()+duzina_stranice31()*duzina_stranice31()
                            +duzina_stranice23()*duzina_stranice23())/(2*duzina_stranice23()*duzina_stranice31()));
        }
    public:

        Trougao(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3){

             auto k=Orijentacija(t1,t2,t3);
             if(k==0) throw std::domain_error("Nekorektne pozicije tjemena");
<a name="4"></a><font color="#FF00FF"><a href="match992-0.html#4" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_0.gif"/></a>

                          Trougao::t1=t1;    Trougao::t2=t2;    Trougao::t3=t3;
        }
        

        void Postavi (const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3){
</font>        auto k=Orijentacija(t1,t2,t3);
             if(k==0) throw std::domain_error("Nekorektne pozicije tjemena");
         Trougao::t1=t1;    Trougao::t2=t2;    Trougao::t3=t3;
        }

        void Postavi (int indeks, const Tacka &amp;t){
             if(indeks==1)   Trougao::t1=t1;    
             else if(indeks==2)   Trougao::t2=t2;    
             else if(indeks==3)   Trougao::t3=t3;
             else throw std::range_error("Nekorektan indeks");
        }


        static int Orijentacija (const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3){
            double a=koordinate(t1,t2,t3);
            if (a&lt;0) return -1;
            else if (a&gt;0) return 1;
            else 
            return 0;
        }


<a name="6"></a><font color="#00FF00"><a href="match992-0.html#6" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_0.gif"/></a>

        Tacka DajTjeme (int indeks) const{
            if (indeks==1) return t1;
            else if (indeks==2) return t2;
            else if (indeks==3) return t3;
            else throw std::range_error("Nekorektan indeks");
</font>        }


        double DajStranicu (int indeks) const{
            if (indeks==1)  return duzina_stranice23();
            else if (indeks==2)  return duzina_stranice31();
            else if (indeks==3)  return duzina_stranice12();
            else throw std::range_error("Nekorektan indeks");
        }
        
        double DajUgao (int indeks) const{
            if(indeks==1){ return ugaoalfa();}
            else if(indeks==2){ return ugaobeta();}
            else if(indeks==3){ return ugaogamma();}
            else throw std::range_error("Nekorektan indeks");
            
        }
        
        Tacka DajCentar () const{
            Tacka tt;
            tt.first=(t1.first+t2.first+t3.first)/3;
            tt.second=(t1.second+t2.second+t3.second)/3;
            return tt;
        }

        double DajObim () const{
            return duzina_stranice12()+duzina_stranice23()+duzina_stranice31();
            
        }

        double DajPovrsinu () const{
            return fabs(koordinate(t1,t2,t3))*(1./2);
        }


        bool DaLiJePozitivnoOrijentisan() const{
            auto a=Orijentacija(t1,t2,t3);
            if (a&gt;0 ) return true;
            else return false;
        }


<a name="7"></a><font color="#0000FF"><a href="match992-0.html#7" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_0.gif"/></a>

        bool DaLiJeUnutra (const Tacka &amp;t) const{
            if((Orijentacija(t,t1,t2)==1) &amp;&amp; (Orijentacija(t,t2,t3)==1) &amp;&amp; (Orijentacija(t,t1,t3)==1)) return true;
</font>            return false;
        }

        void Ispisi () const{
            std::cout&lt;&lt;"(("&lt;&lt;t1.first&lt;&lt;","&lt;&lt;t1.second&lt;&lt;"),("&lt;&lt;t2.first&lt;&lt;","&lt;&lt;t2.second&lt;&lt;"),("&lt;&lt;t3.first
                     &lt;&lt;","&lt;&lt;t3.second&lt;&lt;"))";
        }

        void Transliraj (double delta_x,double delta_y){
            t1.first=t1.first+delta_x;
            t2.first=t2.first+delta_x;
            t3.first=t3.first+delta_x;
            t1.second=t1.second+delta_y;
            t2.second=t2.second+delta_y;
            t3.second=t3.second+delta_y;
        }
        
     
        void Centriraj (const Tacka &amp;t){
            Tacka tt=DajCentar();
            
            tt.first=tt.first+t.first;
            tt.second=tt.second+t.second;
            
            t1.first=t1.first+tt.first;
            t2.first=t2.first+tt.first;
            t3.first=t3.first+tt.first;
            t1.second=t1.second+tt.second;
            t2.second=t2.second+tt.second;
            t3.second=t3.second+tt.second;
        }


        void Rotiraj(const Tacka &amp;t, double ugao){
            t1.first=t.first+(t1.first-t.first)*cos(ugao)-(t1.second-t.second)*sin(ugao);
            t2.first=t.first+(t2.first-t.first)*cos(ugao)-(t2.second-t.second)*sin(ugao);
            t3.first=t.first+(t3.first-t.first)*cos(ugao)-(t3.second-t.second)*sin(ugao);
            t1.second=t.second+(t1.first-t.first)*sin(ugao)+(t1.second-t.second)*cos(ugao);
            t2.second=t.second+(t2.first-t.first)*sin(ugao)+(t2.second-t.second)*cos(ugao);
            t3.second=t.second+(t3.first-t.first)*sin(ugao)+(t3.second-t.second)*cos(ugao);
        }

<a name="2"></a><font color="#0000FF"><a href="match992-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_0.gif"/></a>

        void Skaliraj(const Tacka &amp;t, double faktor){
            if(faktor&gt;0){
                t1.first=t.first+faktor*(t1.first-t.first);
                t2.first=t.first+faktor*(t2.first-t.first);
</font>                t3.first=t.first+faktor*(t3.first-t.first);
                t1.second=t.second+faktor*(t1.second-t.second);
<a name="0"></a><font color="#FF0000"><a href="match992-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_1.gif"/></a>

                t2.second=t.second+faktor*(t2.second-t.second);
                t3.second=t.second+faktor*(t3.second-t.second);
        }
            else if (faktor&lt;0){ 
                t1.first=t.first+faktor*(t1.first-t.first);
                t2.first=t.first+faktor*(t2.first-t.first);
</font>                t3.first=t.first+faktor*(t3.first-t.first);
                t1.second=t.second+faktor*(t1.second-t.second);
                t2.second=t.second+faktor*(t2.second-t.second);
                t3.second=t.second+faktor*(t3.second-t.second);
                Rotiraj(PI);
            }
            else throw std::domain_error ("Nekorektan faktor skaliranja");
        }
        
        
        void Rotiraj(double ugao){
            Tacka tt=DajCentar();
         
            double x1=tt.first+(t1.first-tt.first)*cos(ugao)-(t1.second-tt.second)*sin(ugao);
            double x2=tt.first+(t2.first-tt.first)*cos(ugao)-(t2.second-tt.second)*sin(ugao);
            double x3=tt.first+(t3.first-tt.first)*cos(ugao)-(t3.second-tt.second)*sin(ugao);
            double y1=tt.second+(t1.first-tt.first)*sin(ugao)+(t1.second-tt.second)*cos(ugao);
            double y2=tt.second+(t2.first-tt.first)*sin(ugao)+(t2.second-tt.second)*cos(ugao);
            double y3=tt.second+(t3.first-tt.first)*sin(ugao)+(t3.second-tt.second)*cos(ugao);
            
            t1.first=x1; t2.first=x2; t3.first=x3;
            t1.second=y1; t2.second=y2; t3.second=y3;
            
        }
        
        void Skaliraj(double faktor){
<a name="8"></a><font color="#00FFFF"><a href="match992-0.html#8" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_0.gif"/></a>

            Tacka tt=DajCentar();
            
            if(faktor&gt;0){
                t1.first=tt.first+faktor*(t1.first-tt.first);
                t2.first=tt.first+faktor*(t2.first-tt.first);
</font>                t3.first=tt.first+faktor*(t3.first-tt.first);
                t1.second=tt.second+faktor*(t1.second-tt.second);
<a name="1"></a><font color="#00FF00"><a href="match992-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_1.gif"/></a>

                t2.second=tt.second+faktor*(t2.second-tt.second);
                t3.second=tt.second+faktor*(t3.second-tt.second);
        }
            else if (faktor&lt;0){
                t1.first=tt.first+faktor*(t1.first-tt.first);
                t2.first=tt.first+faktor*(t2.first-tt.first);
</font>                t3.first=tt.first+faktor*(t3.first-tt.first);
                t1.second=tt.second+faktor*(t1.second-tt.second);
                t2.second=tt.second+faktor*(t2.second-tt.second);
                t3.second=tt.second+faktor*(t3.second-tt.second);
                Rotiraj(PI);
            }
            else throw std::domain_error ("Nekorektan faktor skaliranja");
        }

friend bool DaLiSuIdenticni(const Trougao &amp;t1, const Trougao &amp;t2);
friend bool DaLiSuPodudarni(const Trougao &amp;t1, const Trougao &amp;t2);
friend bool DaLiSuSlicni(const Trougao &amp;t1, const Trougao &amp;t2);
};

<a name="3"></a><font color="#00FFFF"><a href="match992-0.html#3" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_0.gif"/></a>

bool DaLiSuIdenticni(const Trougao &amp;t1, const Trougao &amp;t2){
     if((t1.t1==t2.t1) &amp;&amp; (t1.t2==t2.t2) &amp;&amp; (t1.t3==t2.t3)) return true;
</font>     if((t1.t1==t2.t1) &amp;&amp; (t1.t2==t2.t3) &amp;&amp; (t1.t3==t2.t2)) return true;
     if((t1.t1==t2.t2) &amp;&amp; (t1.t2==t2.t1) &amp;&amp; (t1.t3==t2.t3)) return true;
     if((t1.t1==t2.t3) &amp;&amp; (t1.t2==t2.t2) &amp;&amp; (t1.t3==t2.t1)) return true;
    return false;
}

bool DaLiSuPodudarni(const Trougao &amp;t1, const Trougao &amp;t2){
    
    std::vector&lt;std::pair&lt;Tacka, double&gt;&gt; stranice1(3);
    std::vector&lt;std::pair&lt;Tacka, double&gt;&gt; stranice2(3);
    
    stranice1[0] = std::make_pair(t1.DajTjeme(3),t1.duzina_stranice12());
    stranice1[1] = std::make_pair(t1.DajTjeme(1),t1.duzina_stranice23());
    stranice1[2] = std::make_pair(t1.DajTjeme(2),t1.duzina_stranice31());
    
    stranice2[0] = std::make_pair(t2.DajTjeme(3),t2.duzina_stranice12());
    stranice2[1] = std::make_pair(t2.DajTjeme(1),t2.duzina_stranice23());
    stranice2[2] = std::make_pair(t2.DajTjeme(2),t2.duzina_stranice31());
    
    
    sort(stranice1.begin(),stranice1.end(), [] (const std::pair&lt;Tacka,double&gt; &amp;p1, const std::pair&lt;Tacka,double&gt; &amp;p2){
        return p1.second&lt;p2.second;
    });
    sort(stranice2.begin(),stranice2.end(), [] (const std::pair&lt;Tacka,double&gt; &amp;p1, const std::pair&lt;Tacka,double&gt; &amp;p2){
        return p1.second&lt;p2.second;
    });
    
    
    for(int i=0; i&lt;3; i++){
        if(stranice1[i].second!= stranice2[i].second) return false;
    }
    
    if(Trougao::Orijentacija(stranice1[0].first,stranice1[1].first,stranice1[2].first)==
      Trougao::Orijentacija(stranice2[0].first,stranice2[1].first,stranice2[2].first)) return true;
    
    return false;

}

bool DaLiSuSlicni(const Trougao &amp;t1, const Trougao &amp;t2){
    
    std::vector&lt;std::pair&lt;Tacka, double&gt;&gt; uglovi1(3);
    std::vector&lt;std::pair&lt;Tacka, double&gt;&gt; uglovi2(3);
    
    uglovi1[0] = std::make_pair(t1.DajTjeme(1),t1.DajUgao(1));
    uglovi1[1] = std::make_pair(t1.DajTjeme(2),t1.DajUgao(2));
    uglovi1[2] = std::make_pair(t1.DajTjeme(3),t1.DajUgao(3));
    
    uglovi2[0] = std::make_pair(t2.DajTjeme(1),t2.DajUgao(1));
    uglovi2[1] = std::make_pair(t2.DajTjeme(2),t2.DajUgao(2));
    uglovi2[2] = std::make_pair(t2.DajTjeme(3),t2.DajUgao(3));
    
    sort(uglovi1.begin(),uglovi1.end(), [] (const std::pair&lt;Tacka,double&gt; &amp;p1, const std::pair&lt;Tacka,double&gt; &amp;p2){
        return p1.second&lt;p2.second;
    });
    sort(uglovi2.begin(),uglovi2.end(), [] (const std::pair&lt;Tacka,double&gt; &amp;p1, const std::pair&lt;Tacka,double&gt; &amp;p2){
        return p1.second&lt;p2.second;
    });
    
    
    for(int i=0; i&lt;3; i++){
        if(uglovi1[i].second!= uglovi2[i].second) return false;
    }
    
    if(Trougao::Orijentacija(uglovi1[0].first,uglovi1[1].first,uglovi1[2].first)==
       Trougao::Orijentacija(uglovi2[0].first,uglovi2[1].first,uglovi2[2].first)) return true;
    
    return false;
}

int main ()
{
    int n;
    double delta_x,delta_y,ugao_rotacije,faktor_skaliranja;
    Tacka t1,t2,t3;
    
    std::cout&lt;&lt;"Koliko zelite kreirati trouglova: ";
    std::cin&gt;&gt;n;
    std::vector&lt;std::shared_ptr&lt;Trougao&gt;&gt; vektor(n);
   
    for(int i(0); i&lt;n; i++){
        std::cout&lt;&lt;"Unesite podatke za "&lt;&lt;i+1&lt;&lt;". trougao (x1 y1 x2 y2 x3 y3): ";
        std::cin&gt;&gt;t1.first&gt;&gt;t1.second;
        std::cin&gt;&gt;t2.first&gt;&gt;t2.second;
<a name="5"></a><font color="#FF0000"><a href="match992-0.html#5" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_0.gif"/></a>

        std::cin&gt;&gt;t3.first&gt;&gt;t3.second;
        try{
            vektor[i] = std::make_shared&lt;Trougao&gt;(t1,t2,t3);
        }
        catch(std::domain_error &amp;e){
</font>            std::cout&lt;&lt;e.what()&lt;&lt;", ponovite unos!\n";
            i--;
        }
    }
    std::cout&lt;&lt;"Unesite vektor translacije (dx dy): ";
    std::cin&gt;&gt;delta_x&gt;&gt;delta_y;
    std::cout&lt;&lt;"Unesite ugao rotacije: ";
    std::cin&gt;&gt;ugao_rotacije;
    std::cout&lt;&lt;"Unesite faktor skaliranja: ";
    std::cin&gt;&gt;faktor_skaliranja;
   
   std::cout&lt;&lt;"Trouglovi nakon obavljenih transformacija:\n";
   std::transform(vektor.begin(),vektor.end(), vektor.begin(), [delta_x,delta_y,ugao_rotacije,faktor_skaliranja] 
                (std::shared_ptr&lt;Trougao&gt; &amp;t){
                    t-&gt;Transliraj(delta_x,delta_y);
                    t-&gt;Rotiraj(ugao_rotacije);
                    t-&gt;Skaliraj(t-&gt;DajTjeme(1),faktor_skaliranja);
                    return t;
   });
    std::sort(vektor.begin(),vektor.end(), [] (const std::shared_ptr&lt;Trougao&gt; &amp;t1, const std::shared_ptr&lt;Trougao&gt; &amp;t2){
                return t1-&gt;DajPovrsinu() &lt; t2-&gt;DajPovrsinu();
    });
    std::for_each(vektor.begin(),vektor.end(), [] (const std::shared_ptr&lt;Trougao&gt; &amp;t){
        t-&gt;Ispisi();
        std::cout&lt;&lt;std::endl;
    });
    std::cout&lt;&lt;"Trougao sa najmanjim obimom: ";
    auto min_trougao = *std::min_element(vektor.begin(), vektor.end(), [](const std::shared_ptr&lt;Trougao&gt; &amp;t1,const std::shared_ptr&lt;Trougao&gt; &amp;t2) {
        return t1-&gt;DajObim()&lt;t2-&gt;DajObim();
    }); 
    min_trougao-&gt;Ispisi();
    std::cout&lt;&lt;std::endl;
    int brojac (0);
    
    for(int i=0; i&lt;vektor.size()-1;i++){
        for(int j=i+1;j&lt;vektor.size(); j++){
            if(DaLiSuIdenticni(*vektor[i],*vektor[j])) brojac++;
        }
    }
    if(brojac==0) std::cout&lt;&lt;"Nema identicnih trouglova!\n";
    else{
    std::cout&lt;&lt;"Parovi identicnih trouglova:\n";
    for(int i=0; i&lt;vektor.size()-1;i++){
        for(int j=i+1;j&lt;vektor.size(); j++){
            if(DaLiSuIdenticni(*vektor[i],*vektor[j])){
                vektor[i]-&gt;Ispisi();
                std::cout&lt;&lt;" i ";
                vektor[j]-&gt;Ispisi();
                std::cout &lt;&lt; std::endl;
                brojac++;
                }
            }
        }
    }
    brojac=0;

    for(int i=0; i&lt;vektor.size()-1;i++){
        for(int j=i+1;j&lt;vektor.size(); j++){
            if(DaLiSuPodudarni(*vektor[i],*vektor[j])) brojac++;
        }
    }
    if(brojac==0) std::cout&lt;&lt;"Nema podudarnih trouglova!\n";
    else{
    std::cout&lt;&lt;"Parovi podudarnih trouglova:\n";
    for(int i=0; i&lt;vektor.size()-1;i++){
        for(int j=i+1;j&lt;vektor.size(); j++){
            if(DaLiSuPodudarni(*vektor[i],*vektor[j])){
                vektor[i]-&gt;Ispisi();
                std::cout&lt;&lt;" i ";
                vektor[j]-&gt;Ispisi();
                std::cout &lt;&lt; std::endl;
                brojac++;
                }
            }
        }
    }
    
    brojac=0;

    
    for(int i=0; i&lt;vektor.size()-1;i++){
        for(int j=i+1;j&lt;vektor.size(); j++){
            if(DaLiSuSlicni(*vektor[i],*vektor[j])) brojac++;
        }
    }
    if(brojac==0) std::cout&lt;&lt;"Nema slicnih trouglova!\n";
    else{
    std::cout&lt;&lt;"Parovi slicnih trouglova:\n";
    for(int i=0; i&lt;vektor.size()-1;i++){
        for(int j=i+1;j&lt;vektor.size(); j++){
            if(DaLiSuSlicni(*vektor[i],*vektor[j])){
                vektor[i]-&gt;Ispisi();
                std::cout&lt;&lt;" i ";
                vektor[j]-&gt;Ispisi();
                std::cout &lt;&lt; std::endl;
                brojac++;
                }
            }
        }
    }
  std::for_each(vektor.begin(),vektor.end(), [](std::shared_ptr&lt;Trougao&gt; &amp;t1){
  t1=nullptr;
    });
	return 0;
}</pre>
</body>
</html>
