<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z1/student4412.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z1/student3411.cpp<p></p><pre>
/B 2016/2017, ZadaÄ‡a 4, Zadatak 1
//Napomena: testovi ce biti dostupni dan pred rok!
#include &lt;iostream&gt;
#include &lt;utility&gt;
#include &lt;stdexcept&gt;
#include &lt;cmath&gt;
#include &lt;algorithm&gt;
#include &lt;memory&gt;
#include &lt;vector&gt;
#include &lt;set&gt;
typedef std::pair&lt;double, double&gt; Tacka;
const double eps = 1E-10;

class Trougao{
    Tacka x;
    Tacka y;
    Tacka z;
    public:
    Trougao(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3){
        if(abs(t1.first*(t2.second-t3.second)+t2.first*(t3.second-t1.second)+t3.first*(t1.second-t2.second))&lt;=eps) throw std::domain_error("Nekorektne pozicije tjemena");
        x=t1; y=t2; z=t3;
    }
    void Postavi(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3){
        if(abs(t1.first*(t2.second-t3.second)+t2.first*(t3.second-t1.second)+t3.first*(t1.second-t2.second))&lt;=eps) throw std::domain_error("Nekorektne pozicije tjemena");
        x=t1; y=t2; z=t3;
    }
    void Postavi(int indeks, const Tacka &amp;t){
        if(indeks&lt;1 || indeks&gt;3) throw std::range_error("Nekorektan indeks");
        if(indeks==1) this-&gt;Postavi(t,y,z);
        if(indeks==2) this-&gt;Postavi(x,t,z);
        if(indeks==3) this-&gt;Postavi(x,y,t);
    }
    static int Orijentacija(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3){
<a name="6"></a><font color="#00FF00"><a href="match457-0.html#6" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_1.gif"/></a>

        if((t1.first*(t2.second-t3.second)+t2.first*(t3.second-t1.second)+t3.first*(t1.second-t2.second))&gt;0) return 1;
        else if((t1.first*(t2.second-t3.second)+t2.first*(t3.second-t1.second)+t3.first*(t1.second-t2.second))&lt;0) return -1;
</font>        else return 0;
    }
    Tacka DajTjeme(int indeks) const{
        if(indeks&lt;1 || indeks&gt;3) throw std::range_error("Nekorektan indeks");
        if(indeks==1) return x;
        if(indeks==2) return y;
        if(indeks==3) return z;
        
    }
    double DajStranicu(int indeks) const{
        if(indeks&lt;1 || indeks&gt;3) throw std::range_error("Nekorektan indeks");
        if(indeks==3) return sqrt((y.first-x.first)*(y.first-x.first)+(y.second-x.second)*(y.second-x.second));
        if(indeks==2) return sqrt((z.first-x.first)*(z.first-x.first)+(z.second-x.second)*(z.second-x.second));
        if(indeks==1) return sqrt((z.first-y.first)*(z.first-y.first)+(z.second-y.second)*(z.second-y.second));
    }
    double DajUgao(int indeks) const{
        if(indeks&lt;1 || indeks&gt;3) throw std::range_error("Nekorektan indeks");
        if(indeks==1) return (this-&gt;DajStranicu(2)*this-&gt;DajStranicu(2)+this-&gt;DajStranicu(3)*this-&gt;DajStranicu(3)-this-&gt;DajStranicu(1)*this-&gt;DajStranicu(1))/(2.*this-&gt;DajStranicu(2)*this-&gt;DajStranicu(3));
        if(indeks==2) return (this-&gt;DajStranicu(1)*this-&gt;DajStranicu(1)+this-&gt;DajStranicu(3)*this-&gt;DajStranicu(3)-this-&gt;DajStranicu(2)*this-&gt;DajStranicu(2))/(2.*this-&gt;DajStranicu(1)*this-&gt;DajStranicu(3));
        if(indeks==3) return (this-&gt;DajStranicu(1)*this-&gt;DajStranicu(1)+this-&gt;DajStranicu(2)*this-&gt;DajStranicu(2)-this-&gt;DajStranicu(3)*this-&gt;DajStranicu(3))/(2.*this-&gt;DajStranicu(1)*this-&gt;DajStranicu(2));
    }
    Tacka DajCentar() const{
        Tacka t((x.first+y.first+z.first)/3,(x.second+y.second+z.second)/3);
        return t;
    }
    double DajObim() const{
        return (this-&gt;DajStranicu(1)+this-&gt;DajStranicu(2)+this-&gt;DajStranicu(3));
    }
    double DajPovrsinu() const{
        double p(x.first*(y.second-z.second)+y.first*(z.second-x.second)+z.first*(x.second-y.second));
        if(p&gt;=0) return p;
        else return -p;
    }
    bool DaLiJePozitivnoOrijentiran() const{
        int a(Orijentacija(x,y,z));
        if(a==1) return true;
        if (a==-1) return false;
    }
    bool DaLiJeUnutra(const Tacka &amp;t) const{ //treba napisat
            Trougao a(t,y,z);
            Trougao b(x,t,z);
            Trougao c(x,y,t);
            if(abs(this-&gt;DajPovrsinu()-(a.DajPovrsinu()+b.DajPovrsinu()+c.DajPovrsinu()))&lt;=eps) return true;
            return false;
        } 
    void Ispisi() const{
        std::cout&lt;&lt;"(("&lt;&lt;x.first&lt;&lt;","&lt;&lt;x.second&lt;&lt;"),("&lt;&lt;y.first&lt;&lt;","&lt;&lt;y.second&lt;&lt;"),("&lt;&lt;z.first&lt;&lt;","&lt;&lt;z.second&lt;&lt;"))";
    }
    void Transliraj(double delta_x, double delta_y){
        x.first+=delta_x; x.second+=delta_y;
        y.first+=delta_x; y.second+=delta_y;
        z.first+=delta_x; z.second+=delta_y;
    }
    void Centriraj(const Tacka &amp;t){
        Tacka t2(this-&gt;DajCentar());
        this-&gt;Transliraj(t.first-t2.first,t.second-t2.second);
    }
    void Rotiraj(const Tacka &amp;t, double ugao){
        x=std::make_pair(t.first+(x.first-t.first)*cos(ugao)-(x.second-t.second)*sin(ugao),t.second+(x.first-t.first)*sin(ugao)+(x.second-t.second)*cos(ugao));
        y=std::make_pair(t.first+(y.first-t.first)*cos(ugao)-(y.second-t.second)*sin(ugao),t.second+(y.first-t.first)*sin(ugao)+(y.second-t.second)*cos(ugao));
        z=std::make_pair(t.first+(z.first-t.first)*cos(ugao)-(z.second-t.second)*sin(ugao),t.second+(z.first-t.first)*sin(ugao)+(z.second-t.second)*cos(ugao));
    }
    void Skaliraj(const Tacka &amp;t, double faktor){
        if(abs(faktor)&lt;=eps) throw std::domain_error("Nekorektan faktor skaliranja");
        x=std::make_pair(t.first+faktor*(x.first-t.first),t.second+faktor*(x.second-t.second));
        y=std::make_pair(t.first+faktor*(y.first-t.first),t.second+faktor*(y.second-t.second));
        z=std::make_pair(t.first+faktor*(z.first-t.first),t.second+faktor*(z.second-t.second));
    }
    void Rotiraj(double ugao){
        Tacka t(this-&gt;DajCentar());
        this-&gt;Rotiraj(t,ugao);
    }
    void Skaliraj(double faktor){
        Tacka t(this-&gt;DajCentar());
        this-&gt;Skaliraj(t,faktor);
    }
    friend bool DaLiSuIdenticni(const Trougao &amp;t1, const Trougao &amp;t2);
    friend bool DaLiSuPodudarni(const Trougao &amp;t1, const Trougao &amp;t2);
    friend bool DaLiSuSlicni(const Trougao &amp;t1, const Trougao &amp;t2);
};
bool DaLiSuIdenticni(const Trougao &amp;t1, const Trougao &amp;t2){
    Tacka c1(t1.DajCentar()), c2(t2.DajCentar());
    if(abs(c1.second-c2.second)&gt;=eps) return false;
    Tacka niz1[3]={t1.DajTjeme(1),t1.DajTjeme(2),t1.DajTjeme(3)};
    Tacka niz2[3]={t2.DajTjeme(1),t2.DajTjeme(2),t2.DajTjeme(3)};
    std::sort(niz1,niz1+3);
    std::sort(niz2,niz2+3);
    int br(0);
    for(int i=0; i&lt;3; i++)
        if(abs(niz1[i].first-niz2[i].first)&lt;=eps &amp;&amp; abs(niz1[i].second-niz2[i].second)&lt;=eps) br++;
    if(br==3) return true;
    return false;
    
}
bool DaLiSuPodudarni(const Trougao &amp;t1, const Trougao &amp;t2){
    double niz1[3]={t1.DajStranicu(1),t1.DajStranicu(2),t1.DajStranicu(3)};
    double niz2[3]={t2.DajStranicu(1),t2.DajStranicu(2),t2.DajStranicu(3)};
    Tacka niz3[3]={t1.DajTjeme(1),t1.DajTjeme(2),t1.DajTjeme(3)};
    Tacka niz4[3]={t2.DajTjeme(1),t2.DajTjeme(2),t2.DajTjeme(3)};
    for(int i=0; i&lt;3; i++){
        int min(i); int min1(i);
        for(int j=i+1; j&lt;3; j++){
            if(niz1[j]&lt;niz1[min]){
                min=j;
            }
            if(niz2[j]&lt;niz2[min1]){
                min1=j;
            }
        }
        auto temp1(niz1[i]); auto temp2(niz3[i]);
        niz1[i]=niz1[min]; niz3[i]=niz3[min];
        niz1[min]=temp1; niz3[min]=temp2;
        auto temp3(niz2[i]); auto temp4(niz4[i]);
        niz2[i]=niz2[min1]; niz4[i]=niz4[min1];
        niz2[min1]=temp3; niz4[min1]=temp4;
    }
    Trougao t3(niz3[0],niz3[1],niz3[2]), t4(niz4[0],niz4[1],niz4[2]);
    double niz5[3]={t3.DajStranicu(1),t3.DajStranicu(2),t3.DajStranicu(3)};
    double niz6[3]={t4.DajStranicu(1),t4.DajStranicu(2),t4.DajStranicu(3)};
    std::sort(niz5,niz5+3);
    std::sort(niz6,niz6+3);
    int br(0);
    for(int i=0; i&lt;3; i++)
        if(abs(niz5[i]-niz6[i])&lt;=eps) br++;
    if(br==3 &amp;&amp; Trougao::Orijentacija(t3.x,t3.y,t3.z)==Trougao::Orijentacija(t4.x,t4.y,t4.z)) return true;
    return false; 
}
bool DaLiSuSlicni(const Trougao &amp;t1, const Trougao &amp;t2){
    double niz1[3]={t1.DajStranicu(1),t1.DajStranicu(2),t1.DajStranicu(3)};
    double niz2[3]={t2.DajStranicu(1),t2.DajStranicu(2),t2.DajStranicu(3)};
    double niz5[3]={t1.DajStranicu(1),t1.DajStranicu(2),t1.DajStranicu(3)};
    double niz6[3]={t2.DajStranicu(1),t2.DajStranicu(2),t2.DajStranicu(3)};
    std::sort(niz5,niz5+3);
    std::sort(niz6,niz6+3);
    Tacka niz3[3]={t1.DajTjeme(1),t1.DajTjeme(2),t1.DajTjeme(3)};
    Tacka niz4[3]={t2.DajTjeme(1),t2.DajTjeme(2),t2.DajTjeme(3)};
    int br(0);
    double k(niz5[0]/niz6[0]);
    for(int i=1; i&lt;3; i++){
        double tmp(niz5[i]-k*niz6[i]);
        if(tmp&lt;=eps &amp;&amp; tmp&gt;=-eps) br++;
    }
    if(br!=2) return false; //return true;
    else{
        for(int i=0; i&lt;3; i++){
            int min(i), min1(i);
            for(int j=i+1; j&lt;3; j++){
                if(niz1[j]&lt;niz1[min]) min=j;
                if(niz2[j]&lt;niz2[min1]) min1=j;
            }
            auto temp1(niz1[i]); auto temp2(niz3[i]);
            niz1[i]=niz1[min]; niz3[i]=niz3[min];
            niz1[min]=temp1; niz3[min]=temp2;
            auto temp3(niz2[i]); auto temp4(niz4[i]);
            niz2[i]=niz2[min1]; niz4[i]=niz4[min1];
            niz2[min1]=temp3; niz4[min1]=temp4;
        }
        Trougao t3(niz3[0],niz3[1],niz3[2]), t4(niz4[0],niz4[1],niz4[2]);
        if(Trougao::Orijentacija(t3.x,t3.y,t3.z)==Trougao::Orijentacija(t4.x,t4.y,t4.z)) return true;
    }
    return false;
}
int main ()
{   int n;
    std::cout&lt;&lt;"Koliko zelite kreirati trouglova: ";
    std::cin&gt;&gt;n;
    std::vector&lt;std::shared_ptr&lt;Trougao&gt;&gt; v(n);
    for(int i=0; i&lt;n; i++){
        double a,b,c,d,e,f;
        std::cout&lt;&lt;"Unesite podatke za "&lt;&lt;i+1&lt;&lt;". trougao (x1 y1 x2 y2 x3 y3): ";
        std::cin&gt;&gt;a&gt;&gt;b&gt;&gt;c&gt;&gt;d&gt;&gt;e&gt;&gt;f;
        Tacka t1(a,b),t2(c,d),t3(e,f);
        try{
<a name="5"></a><font color="#FF0000"><a href="match457-0.html#5" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_1.gif"/></a>

            v[i]=std::make_shared&lt;Trougao&gt;(t1,t2,t3);
        }
        catch(std::domain_error e){
            std::cout&lt;&lt;e.what()&lt;&lt;", ponovite unos!"&lt;&lt;std::endl;
</font>            i--;
        }
        catch(std::bad_alloc){
            std::cout&lt;&lt;"Nedovoljno memorije!"&lt;&lt;std::endl;
            for(int i=0; i&lt;n; i++) v[i]=nullptr;
        }
    }
    std::cout&lt;&lt;"Unesite vektor translacije (dx dy): ";
    double dx,dy;
    std::cin&gt;&gt;dx&gt;&gt;dy;
    std::cout&lt;&lt;"Unesite ugao rotacije: ";
    double ugao;
    std::cin&gt;&gt;ugao;
    std::cout&lt;&lt;"Unesite faktor skaliranja: ";
    double faktor;
<a name="0"></a><font color="#FF0000"><a href="match457-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_3.gif"/></a>

    std::cin&gt;&gt;faktor;
    std::transform(v.begin(), v.end(), v.begin(), [dx,dy](std::shared_ptr&lt;Trougao&gt; t){
        t-&gt;Transliraj(dx,dy);
        return t;
    });
    std::transform(v.begin(), v.end(), v.begin(),[ugao](std::shared_ptr&lt;Trougao&gt; t){
        t-&gt;Rotiraj(ugao);
        return t;
    });
    try{
        std::transform(v.begin(), v.end(), v.begin(), [faktor](std::shared_ptr&lt;Trougao&gt; t){
            t-&gt;Skaliraj(t-&gt;DajTjeme(1),faktor);
            return t;
        });
    }
    catch(std::domain_error e){
        std::cout&lt;&lt;e.what();
</font>    }
    std::sort(v.begin(), v.end(), [] (std::shared_ptr&lt;Trougao&gt; t1, std::shared_ptr&lt;Trougao&gt; t2){
        return (t1-&gt;DajPovrsinu()&lt;t2-&gt;DajPovrsinu());
    });
    std::cout&lt;&lt;"Trouglovi nakon obavljenih transformacija:"&lt;&lt;std::endl;
    std::for_each(v.begin(), v.end(), [](std::shared_ptr&lt;Trougao&gt; t){t-&gt;Ispisi(); std::cout&lt;&lt;std::endl;});
    auto p(std::min_element(v.begin(), v.end(), [](std::shared_ptr&lt;Trougao&gt; t1, std::shared_ptr&lt;Trougao&gt; t2){
        return(t2-&gt;DajObim()&gt;=t1-&gt;DajObim());
    }));
<a name="4"></a><font color="#FF00FF"><a href="match457-0.html#4" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_1.gif"/></a>

    std::cout&lt;&lt;"Trougao sa najmanjim obimom: "; (*p)-&gt;Ispisi(); std::cout&lt;&lt;std::endl;
    std::vector&lt;std::pair&lt;std::shared_ptr&lt;Trougao&gt;,std::shared_ptr&lt;Trougao&gt;&gt;&gt; v3;
</font>    bool nalazi(false);
    for(int i=0; i&lt;n; i++){
        for(int j=i+1;j&lt;n; j++){
            if(DaLiSuIdenticni(*(v[i]),*(v[j]))) {v3.push_back(std::make_pair(v[i],v[j])); nalazi=true; }//v[i]-&gt;Ispisi();std::cout&lt;&lt;" i ";v[j]-&gt;Ispisi(); std::cout&lt;&lt;std::endl;}
        }
    }
    if(nalazi){
        std::cout&lt;&lt;"Parovi identicnih trouglova:"&lt;&lt;std::endl;
<a name="1"></a><font color="#00FF00"><a href="match457-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_2.gif"/></a>

        for(int i=0; i&lt;v3.size(); i++) {v3[i].first-&gt;Ispisi();std::cout&lt;&lt;" i ";v3[i].second-&gt;Ispisi(); std::cout&lt;&lt;std::endl;}
    }
    else std::cout&lt;&lt;"Nema identicnih trouglova!"&lt;&lt;std::endl;
    std::vector&lt;std::pair&lt;std::shared_ptr&lt;Trougao&gt;,std::shared_ptr&lt;Trougao&gt;&gt;&gt; v1;
</font>    nalazi=(false);
    for(int i=0; i&lt;n; i++){
        for(int j=i+1; j&lt;n; j++){
            if(DaLiSuPodudarni(*(v[i]),*(v[j]))) {v1.push_back(std::make_pair(v[i],v[j])); nalazi=true; }//v[i]-&gt;Ispisi();std::cout&lt;&lt;" i ";v[j]-&gt;Ispisi(); std::cout&lt;&lt;std::endl;}
        }
    }
    if(nalazi){
        std::cout&lt;&lt;"Parovi podudarnih trouglova:"&lt;&lt;std::endl;
<a name="3"></a><font color="#00FFFF"><a href="match457-0.html#3" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_1.gif"/></a>

        for(int i=0; i&lt;v1.size(); i++) {v1[i].first-&gt;Ispisi();std::cout&lt;&lt;" i ";v1[i].second-&gt;Ispisi(); std::cout&lt;&lt;std::endl;}
    }
    else std::cout&lt;&lt;"Nema podudarnih trouglova!"&lt;&lt;std::endl;
</font>    nalazi=false;
    std::vector&lt;std::pair&lt;std::shared_ptr&lt;Trougao&gt;,std::shared_ptr&lt;Trougao&gt;&gt;&gt; v2;
    for(int i=0; i&lt;n; i++){
        for(int j=i+1; j&lt;n; j++){
            if(DaLiSuSlicni(*v[i],*v[j])) {v2.push_back(std::make_pair(v[i],v[j])); nalazi=true;}//v[i]-&gt;Ispisi(); std::cout&lt;&lt;" i "; v[j]-&gt;Ispisi(); std::cout&lt;&lt;std::endl;}
        }
    }
    if(nalazi){
        std::cout&lt;&lt;"Parovi slicnih trouglova:"&lt;&lt;std::endl;
<a name="2"></a><font color="#0000FF"><a href="match457-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_1.gif"/></a>

        for(int i=0; i&lt;v2.size(); i++) {v2[i].first-&gt;Ispisi();std::cout&lt;&lt;" i ";v2[i].second-&gt;Ispisi(); std::cout&lt;&lt;std::endl;}
    }
    else std::cout&lt;&lt;"Nema slicnih trouglova!"&lt;&lt;std::endl;
	return 0; 
</font>}</pre>
</body>
</html>
