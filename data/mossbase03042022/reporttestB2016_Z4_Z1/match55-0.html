<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z1/student2967.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z1/student2967.cpp<p></p><pre>
<a name="1"></a><font color="#00FF00"><a href="match55-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_27.gif"/></a>

/B 2016/2017, ZadaÄ‡a 4, Zadatak 1
//Napomena: testovi ce biti dostupni dan pred rok!
#include &lt;iostream&gt;
#include &lt;utility&gt;
#include &lt;memory&gt;
#include &lt;cmath&gt;
#include &lt;vector&gt;
#include &lt;algorithm&gt;
#define eps  1E-10
using std::cout;
typedef std::pair&lt;double, double&gt; Tacka;
class Trougao{
    Tacka t[3];
    static bool TestIndeks(int indeks) {
        if(indeks&lt;1 || indeks&gt;3) return false;
        else return true;
    }
    static double duzina(const Tacka &amp;p1, const Tacka &amp;p2) {
        Tacka v;
        v= {p1.first-p2.first,p1.second-p2.second};
        double duzina;
        duzina=std::sqrt(v.first*v.first + v.second*v.second);
        return duzina;
    }
    static double Racun(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3) {
        return ((t1.first*(t2.second-t3.second))-(t2.first*(t1.second-t3.second))+(t3.first*(t1.second-t2.second)));
    }
public:
    Trougao(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3) {
        Postavi(t1,t2,t3);
    }
    void Postavi(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3) {
        t[0]=t1;
        t[1]=t2;
        t[2]=t3;
        if(this-&gt;Orijentacija(t1, t2, t3)==0)
            throw std::domain_error ("Nekorektne pozicije tjemena");
    }
    void Postavi(int indeks, const Tacka &amp;t) {
        if(!TestIndeks(indeks)) throw std::range_error ("Nekorektan indeks");
        Trougao::t[indeks-1]=t;
        if(this-&gt;Orijentacija==0)
            throw std::domain_error ("Nekorektne pozicije tjemena");
    }
    static int Orijentacija(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3) {
        double izraz;
        izraz=Racun(t1,t2,t3);
        if(izraz&gt;0)
            return 1;
        else if(izraz&lt;0)
            return -1;
        else return 0;
    }
    Tacka DajTjeme(int indeks) const {
        if(!TestIndeks(indeks)) throw std::range_error ("Nekorektan indeks");
        return t[indeks-1];
    }
    double DajStranicu(int indeks) const {
        Tacka p(DajTjeme(indeks)),f(DajTjeme(indeks));
        for(int i=0; i&lt;3; i++) {
            if(p==DajTjeme(indeks) &amp;&amp; i+1!=indeks )
                p=DajTjeme(i+1);
            else if(f==DajTjeme(indeks) &amp;&amp; i+1!=indeks )
                f=DajTjeme(i+1);
        }
        return duzina(f,p);
    }
    double DajUgao(int indeks) const {
        double a,b,c;
        int i1=-1,i2=-1;
        for(int i=0; i&lt;3; i++) {
            if(i!=indeks-1 &amp;&amp; i1==-1)
                i1=i;
            else if(i!=indeks-1 &amp;&amp; i2==-1)
                i2=i;
        }
        a=duzina(t[i1],t[i2]);
        b=duzina(t[indeks-1],t[i1]);
        c=duzina(t[indeks-1],t[i2]);
        double alfa;
        alfa=std::acos((b*b+c*c-a*a)/(2*b*c));
        return alfa;
    }
    Tacka DajCentar() const {
        double suma1=0,suma2=0;
        for(int i=0; i&lt;3; i++) {
            suma1+=t[i].first;
            suma2+=t[i].second;
        }
        Tacka v;
        v= {suma1/3,suma2/3};
        return v;
    }
    double DajObim() const {
        double stranice1[3];
        stranice1[0]=duzina(t[0],t[1]);
        stranice1[1]=duzina(t[1],t[2]);
        stranice1[2]=duzina(t[2],t[0]);
        return stranice1[0]+stranice1[1]+stranice1[2];

    }
    double DajPovrsinu() const {
        return fabs(Racun(t[0],t[1],t[2]))/2;
    }

    bool DaLiJePozitivnoOrijentiran() const {
        if(Orijentacija(t[0],t[1],t[2])==1)
            return true;
        else return false;
    }
    bool DaLiJeUnutra(const Tacka &amp;t) const {
        if(Orijentacija(Trougao::t[0],Trougao::t[1],Trougao::t[2])==Orijentacija(Trougao::t[0],Trougao::t[1],t) &amp;&amp; Orijentacija(Trougao::t[0],Trougao::t[1],t)==Orijentacija(Trougao::t[1],Trougao::t[2],t) &amp;&amp; Orijentacija(Trougao::t[1],Trougao::t[2],t)==Orijentacija(Trougao::t[2],Trougao::t[0],t))
            return true;
        else return false;
    }
    void Ispisi() const {
        std::cout&lt;&lt;"(("&lt;&lt;t[0].first&lt;&lt;","&lt;&lt;t[0].second&lt;&lt;"),("&lt;&lt;t[1].first&lt;&lt;","&lt;&lt;t[1].second&lt;&lt;"),("&lt;&lt;t[2].first&lt;&lt;","&lt;&lt;t[2].second&lt;&lt;"))";
</font><a name="0"></a><font color="#FF0000"><a href="match55-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_70.gif"/></a>

    }
    void Transliraj(double delta_x, double delta_y) {
        for(int i=0; i&lt;3; i++) {
            t[i].first+=delta_x;
            t[i].second+=delta_y;
        }
    }
    void Centriraj(const Tacka &amp;t) {
        Tacka p;
        p=DajCentar();
        for(int i=0; i&lt;3; i++) {
            if(Trougao::t[i]==p)
                Trougao::t[i]=t;
        }
    }
    void Rotiraj(const Tacka &amp;t, double ugao) {
        double x,y;
        for(int i=0; i&lt;3; i++) {
            x=t.first+(Trougao::t[i].first-t.first)*std::cos(ugao)-(Trougao::t[i].second-t.second)*std::sin(ugao);
            y=t.second+(Trougao::t[i].first-t.first)*std::sin(ugao)+(Trougao::t[i].second-t.second)*std::cos(ugao);
            Trougao::t[i]= {x,y};
        }
    }
    void Skaliraj(const Tacka &amp;t, double faktor) {
        if(fabs(faktor-0)&lt;eps) throw std::domain_error ("Nekorektan faktor skaliranja");
        double x,y;
        for(int i=0; i&lt;3; i++) {
            x=t.first+(faktor*(Trougao::t[i].first-t.first));
            y=t.second+(faktor*(Trougao::t[i].second-t.second));
            Trougao::t[i]= {x,y};
        }
        if(faktor&lt;0) this-&gt;Rotiraj(3.1415926536);
    }
    void Rotiraj(double ugao) {
        Tacka p;
        p=DajCentar();
        double x,y;
        for(int i=0; i&lt;3; i++) {
            x=p.first+((t[i].first-p.first)*std::cos(ugao))-((t[i].second-p.second)*std::sin(ugao));
            y=p.second+((t[i].first-p.first)*std::sin(ugao))+((t[i].second-p.second)*std::cos(ugao));
            Trougao::t[i]= {x,y};
        }
    }
    void Skaliraj(double faktor) {
        Tacka t(DajCentar());
        if(fabs(faktor-0)&lt;eps) throw std::domain_error ("Nekorektan faktor skaliranja");
        double x,y;
        for(int i=0; i&lt;3; i++) {
            x=t.first+(faktor*(Trougao::t[i].first-t.first));
            y=t.second+(faktor*(Trougao::t[i].second-t.second));
            Trougao::t[i]= {x,y};
        }
        if(faktor&lt;0) this-&gt;Rotiraj(3.1415926536);
    }
    friend bool DaLiSuIdenticni(const Trougao &amp;t1, const Trougao &amp;t2);
    friend bool DaLiSuPodudarni(const Trougao &amp;t1, const Trougao &amp;t2);
    friend bool DaLiSuSlicni(const Trougao &amp;t1, const Trougao &amp;t2);
};
bool DaLiSuSlicni(const Trougao &amp;t1, const Trougao &amp;t2)
{
    std::pair&lt;double, Tacka&gt; Tro1[3], Tro2[3];
    if(DaLiSuPodudarni(t1,t2))
        return true;
    Tro1[0].first=Trougao::duzina(t1.DajTjeme(1),t1.DajTjeme(2));
    Tro1[0].second=t1.DajTjeme(3);
    Tro1[1].first=Trougao::duzina(t1.DajTjeme(2),t1.DajTjeme(3));
    Tro1[1].second=t1.DajTjeme(1);
    Tro1[2].first=Trougao::duzina(t1.DajTjeme(3),t1.DajTjeme(1));
    Tro1[2].second=t1.DajTjeme(2);
    Tro2[0].first=Trougao::duzina(t2.DajTjeme(1),t2.DajTjeme(2));
    Tro2[0].second=t2.DajTjeme(3);
    Tro2[1].first=Trougao::duzina(t2.DajTjeme(2),t2.DajTjeme(3));
    Tro2[1].second=t2.DajTjeme(1);
    Tro2[2].first=Trougao::duzina(t2.DajTjeme(3),t2.DajTjeme(1));
    Tro2[2].second=t2.DajTjeme(2);
    std::pair&lt;double, Tacka&gt; *z;
    z=Tro1;
    std::sort(z,z+3);
    z=Tro2;
    std::sort(z,z+3);
     if(Trougao::Orijentacija(Tro1[0].second,Tro1[1].second,Tro1[2].second)!=Trougao::Orijentacija(Tro2[0].second,Tro2[1].second,Tro2[2].second))
        return false;
    for(int i=0; i&lt;2; i++){
        if(fabs(Tro1[i].first/Tro2[i].first-Tro1[i+1].first/Tro2[i+1].first)&gt;eps)
            return false;
    }
    return true;


}
bool DaLiSuPodudarni(const Trougao &amp;t1, const Trougao &amp;t2)
{
    double stranice1[3],stranice2[3];
    stranice1[0]=Trougao::duzina(t1.DajTjeme(1),t1.DajTjeme(2));
    stranice1[1]=Trougao::duzina(t1.DajTjeme(2),t1.DajTjeme(3));
    stranice1[2]=Trougao::duzina(t1.DajTjeme(3),t1.DajTjeme(1));
    stranice2[0]=Trougao::duzina(t2.DajTjeme(1),t2.DajTjeme(2));
    stranice2[1]=Trougao::duzina(t2.DajTjeme(2),t2.DajTjeme(3));
    stranice2[2]=Trougao::duzina(t2.DajTjeme(3),t2.DajTjeme(1));
    int pronasao {};
    for(int i=0; i&lt;3; i++)
        for(int j=0; j&lt;3; j++)
            if(fabs(stranice1[i]-stranice2[j])&lt;eps) {
                pronasao++;
                break;
            }
    if(pronasao!=3)
        return false;
    std::pair&lt;double, Tacka&gt; Tro1[3], Tro2[3];

    Tro1[0].first=Trougao::duzina(t1.DajTjeme(1),t1.DajTjeme(2));
    Tro1[0].second=t1.DajTjeme(3);
    Tro1[1].first=Trougao::duzina(t1.DajTjeme(2),t1.DajTjeme(3));
    Tro1[1].second=t1.DajTjeme(1);
    Tro1[2].first=Trougao::duzina(t1.DajTjeme(3),t1.DajTjeme(1));
    Tro1[2].second=t1.DajTjeme(2);
    Tro2[0].first=Trougao::duzina(t2.DajTjeme(1),t2.DajTjeme(2));
    Tro2[0].second=t2.DajTjeme(3);
    Tro2[1].first=Trougao::duzina(t2.DajTjeme(2),t2.DajTjeme(3));
    Tro2[1].second=t2.DajTjeme(1);
    Tro2[2].first=Trougao::duzina(t2.DajTjeme(3),t2.DajTjeme(1));
    Tro2[2].second=t2.DajTjeme(2);
    std::pair&lt;double, Tacka&gt; *z;
    z=Tro1;
    std::sort(z,z+3);
    z=Tro2;
    std::sort(z,z+3);
    if(Trougao::Orijentacija(Tro1[0].second,Tro1[1].second,Tro1[2].second)!=Trougao::Orijentacija(Tro2[0].second,Tro2[1].second,Tro2[2].second))
        return false;
    return true;


}


bool DaLiSuIdenticni(const Trougao &amp;t1, const Trougao &amp;t2)
{
    int pronasao=0;
    for(int i=0; i&lt;3; i++)
        for(int j=0; j&lt;3; j++)
            if(t1.DajTjeme(i+1)==t2.DajTjeme(j+1)) {
                pronasao++;
                break;
            }
    if(pronasao==3)
        return true;
    else return false;
}

int main ()
{
    Tacka t[3];
    cout&lt;&lt;"Koliko zelite kreirati trouglova: ";
    int n;
    std::cin&gt;&gt;n;
    std::vector&lt;std::shared_ptr&lt;Trougao&gt;&gt; T(n);
    for(int i=0; i&lt;n; i++) {
        cout&lt;&lt;"Unesite podatke za "&lt;&lt;i+1&lt;&lt;". trougao (x1 y1 x2 y2 x3 y3): ";
        for(int j=0; j&lt;3; j++)
            std::cin&gt;&gt;t[j].first&gt;&gt;t[j].second;
        try {
            T[i] = std::make_shared&lt;Trougao&gt;(t[0], t[1], t[2]);
        } catch(std::domain_error e) {
            cout&lt;&lt;e.what() &lt;&lt; ", ponovite unos!" &lt;&lt; std::endl;
            i--;
        }
    }
    double dx,dy,ugao,faktor;
    cout&lt;&lt;"Unesite vektor translacije (dx dy): ";
    std::cin&gt;&gt;dx&gt;&gt;dy;
    cout&lt;&lt;"Unesite ugao rotacije: ";
    std::cin&gt;&gt;ugao;
    cout&lt;&lt;"Unesite faktor skaliranja: ";
    std::cin&gt;&gt;faktor;

    std::transform(T.begin(),T.end(),T.begin(),[dx,dy](std::shared_ptr&lt;Trougao&gt; p) {
        p-&gt;Transliraj(dx,dy);
        return p;
    });
    std::transform(T.begin(),T.end(),T.begin(),[ugao](std::shared_ptr&lt;Trougao&gt; p) {
        p-&gt;Rotiraj(ugao);
        return p;
    });
    std::transform(T.begin(),T.end(),T.begin(),[faktor](std::shared_ptr&lt;Trougao&gt; p) {
        p-&gt;Skaliraj(p-&gt;DajTjeme(1),faktor);
        return p;
    });
    std::sort(T.begin(),T.end(),[](std::shared_ptr&lt;Trougao&gt; p1,std::shared_ptr&lt;Trougao&gt; p2) {
        return p1-&gt;DajPovrsinu()&lt;p2-&gt;DajPovrsinu();
    });

    cout&lt;&lt;"Trouglovi nakon obavljenih transformacija:"&lt;&lt;std::endl;
    std::for_each(T.begin(),T.end(),[](std::shared_ptr&lt;Trougao&gt; p) {
        p-&gt;Ispisi();
        cout&lt;&lt;std::endl;

    });
    std::shared_ptr&lt;Trougao&gt; O;
    if(n!=0) {O = std::make_shared&lt;Trougao&gt;(t[0], t[1], t[2]);
    O=*std::max_element(T.begin(),T.end(),[](std::shared_ptr&lt;Trougao&gt; p1,std::shared_ptr&lt;Trougao&gt; p2) {
        return p1-&gt;DajObim()&gt;p2-&gt;DajObim();
    });
        cout&lt;&lt;"Trougao sa najmanjim obimom: ";
    O-&gt;Ispisi();
    cout&lt;&lt;std::endl;
    }else  cout&lt;&lt;"Trougao sa najmanjim obimom: "&lt;&lt;std::endl;
    int z=0;
    for(int i=0; i&lt;n; i++) {
        for(int j=i; j&lt;n; j++) {
            if(i==j)
                continue;
            if(DaLiSuIdenticni(*T[i],*T[j])) {
                if(z==0) {
                    cout&lt;&lt;"Parovi identicnih trouglova: "&lt;&lt;std::endl;
                    z++;
                }
                T[i]-&gt;Ispisi();
                cout&lt;&lt;" i ";
                T[j]-&gt;Ispisi();
                cout&lt;&lt;std::endl;
            }
        }
    }
    if(z==0) cout&lt;&lt;"Nema identicnih trouglova!"&lt;&lt;std::endl;
    z=0;
    for(int i=0; i&lt;n; i++) {
        for(int j=i; j&lt;n; j++) {
            if(i==j)
                continue;
            else if(DaLiSuPodudarni(*T[i],*T[j])) {
                if(z==0) {
                    cout&lt;&lt;"Parovi podudarnih trouglova: "&lt;&lt;std::endl;
                    z++;
                }
                T[i]-&gt;Ispisi();
                cout&lt;&lt;" i ";
                T[j]-&gt;Ispisi();
                cout&lt;&lt;std::endl;
            }
        }
    }
    if(z==0) cout&lt;&lt;"Nema podudarnih trouglova!"&lt;&lt;std::endl;
    z=0;
    for(int i=0; i&lt;n; i++) {
        for(int j=i; j&lt;n; j++) {
            if(i==j)
                continue;
            if(DaLiSuSlicni(*T[i],*T[j])) {
                if(z==0) {
                    cout&lt;&lt;"Parovi slicnih trouglova: "&lt;&lt;std::endl;
                    z++;
                }
                T[i]-&gt;Ispisi();
                cout&lt;&lt;" i ";
                T[j]-&gt;Ispisi();
                cout&lt;&lt;std::endl;
            }
        }
    }

    if(z==0)
        cout&lt;&lt;"Nema slicnih trouglova!"&lt;&lt;std::endl;
</font>    return 0;
}</pre>
</body>
</html>
