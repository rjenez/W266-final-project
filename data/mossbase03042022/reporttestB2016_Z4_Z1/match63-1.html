<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z1/student4320.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z1/student9716.cpp<p></p><pre>
<a name="2"></a><font color="#0000FF"><a href="match63-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_2.gif"/></a>

/B 2016/2017, ZadaÄ‡a 4, Zadatak 1
//Napomena: testovi ce biti dostupni dan pred rok!
#include &lt;iostream&gt;
#include &lt;utility&gt;
#include &lt;stdexcept&gt;
#include &lt;new&gt;
#include &lt;vector&gt;
#include &lt;cmath&gt;
#include &lt;memory&gt;
typedef std::pair&lt;double, double&gt; Tacka;

class Trougao
{   
    //bool veca(const int x,const int y) const { if(x&gt;y) return true; return false; }
    Tacka t1, t2, t3;
    static bool Poredi(double x, double y) {
        const double ee(1e-15);
        return(std::fabs(x-y)&lt;=ee*(std::fabs(x)+std::fabs(y)));
    }
public:
    Trougao(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3);
    void Postavi(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3);
</font>    void Postavi(int indeks, const Tacka &amp;t);
    static int Orijentacija(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3);
    Tacka DajTjeme(int indeks) const;
    double DajStranicu(int indeks) const;
    double DajUgao(int indeks) const;
    Tacka DajCentar() const;
    double DajObim() const;
    double DajPovrsinu() const;
    bool DaLiJePozitivnoOrijentiran() const;
    bool DaLiJeUnutra(const Tacka &amp;t) const;
    void Ispisi() const;
    void Transliraj(double delta_x, double delta_y);
    void Centriraj(const Tacka &amp;t);
    void Rotiraj(const Tacka &amp;t, double ugao);
    void Skaliraj(const Tacka &amp;t, double faktor);
    void Rotiraj(double ugao);
    void Skaliraj(double faktor);
    friend bool DaLiSuIdenticni(const Trougao &amp;t1, const Trougao &amp;t2);
    friend bool DaLiSuPodudarni(const Trougao &amp;t1, const Trougao &amp;t2);
<a name="1"></a><font color="#00FF00"><a href="match63-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_38.gif"/></a>

    friend bool DaLiSuSlicni(const Trougao &amp;t1, const Trougao &amp;t2);


};

Trougao::Trougao(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3)
{
    double x1=t1.first, y1=t1.second, x2=t2.first, y2=t2.second, x3=t3.first, y3=t3.second;
    int x=(x1*(y2-y3)-x2*(y1-y3)+x3*(y1-y2));
    if(x==0) throw std::domain_error("Nekorektne pozicije tjemena");
    Trougao::t1=t1;
    Trougao::t2=t2;
    Trougao::t3=t3;
}

void Trougao::Postavi(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3)
{
    double x1=t1.first, y1=t1.second, x2=t2.first, y2=t2.second, x3=t3.first, y3=t3.second;
    int x=(x1*(y2-y3)-x2*(y1-y3)+x3*(y1-y2));
    if(x==0) throw std::domain_error("Nekorektne pozicije tjemena");
    Trougao::t1=t1;
    Trougao::t2=t2;
    Trougao::t3=t3;
}

void Trougao::Postavi(int indeks, const Tacka &amp;t)
{  // Tacka tx=t;
    if(indeks&lt;1 || indeks&gt;3) throw std::range_error("Nekorektan indeks");
    if(indeks==1) t1=t;
    if(indeks==2) t2=t;
    else t3=t;
   // double x1=t1.first, y1=t1.second, x2=t2.first, y2=t2.second, x3=t3.first, y3=t3.second;
   // int x=(x1*(y2-y3)-x2*(y1-y3)+x3*(y1-y2));
   // if(x==0 &amp;&amp; indeks==0) { t1=tx; 
}

static int Orijentacija(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3)
{
    double x1=t1.first, y1=t1.second, x2=t2.first, y2=t2.second, x3=t3.first, y3=t3.second;
    double p=(x1*(y2-y3)-x2*(y1-y3)+x3*(y1-y2));
    if(p&gt;0) return 1;
    if(p&lt;0) return -1;
    return 0;
}

Tacka Trougao::DajTjeme(int indeks) const
{
    if(indeks&lt;0 || indeks&gt;0) throw std::range_error("Nekorektan indeks");
    if(indeks==1) return Trougao::t1;
    if(indeks==2) return Trougao::t2;
    return Trougao::t3;
}

double Trougao::DajStranicu(int indeks) const
{
    if(indeks&lt;1 || indeks&gt;3) throw std::range_error("Nekorektan indeks");
    if(indeks==1) return std::sqrt( ((t2.first-t3.first)*(t2.first-t3.first)) +((t2.second-t3.second)*(t2.second-t3.second)) );
    if(indeks==2) {
        double x1=t1.first, y1=t1.second, x2=t3.first, y2=t3.second;
        return std::sqrt( ((x2-x1)*(x2-x1))+((y2-y1)*(y2-y1)) );
    } else {
        double x1=t1.first, y1=t1.second, x2=t2.first, y2=t2.second;
        return std::sqrt( ((x2-x2)*(x2-x1))+ ((y2-y1)*(y2-y1)) );
    }
}

double Trougao::DajUgao(int indeks) const
{
    if(indeks&lt;0 || indeks&gt;3) throw std::range_error("Nekorektan indeks");
    double x1=t1.first, y1=t1.second, x2=t2.first, y2=t2.second, x3=t3.first, y3=t3.second;
    double a=std::sqrt( ((x2-x1)*(x2-x1)) + ((y2-y1)*(y2-y1)) );
    double b=std::sqrt( ((x3-x2)*(x3-x2)) + ((y3-y2)*(y3-y2)) );
    double c=std::sqrt( ((x3-x1)*(x3-x1)) + ((y3-y1)*(y3-y1)) );
    if(indeks==1) return (std::acos((a*a+c*c-b*b)/(2*a*c)));
    if(indeks==2) return (std::acos((a*a+b*b-c*c)/(2*a*b)));
    else return (std::acos((b*b+c*c-a*a)/(2*b*c)));
}

Tacka Trougao::DajCentar() const
{
    Tacka t;
    t.first=(t1.first+t2.first+t3.first)/3;
    t.second=(t1.second+t2.second+t3.second)/3;
    return t;
}


double Trougao::DajObim() const
{
    double x1=t1.first, y1=t1.second, x2=t2.first, y2=t2.second, x3=t3.first, y3=t3.second;
    double a=std::sqrt( ((x2-x1)*(x2-x1)) + ((y2-y1)*(y2-y1)) );
    double b=std::sqrt( ((x3-x2)*(x3-x2)) + ((y3-y2)*(y3-y2)) );
    double c=std::sqrt( ((x3-x1)*(x3-x1)) + ((y3-y3)*(y3-y1)) );
    return a+b+c;
}

double Trougao::DajPovrsinu() const
{
    double x1=t1.first, y1=t1.second, x2=t2.first, y2=t2.second, x3=t3.first, y3=t3.second;
    double p=( (x1*(y2-y3)-x2*(y1-y3)+x3*(y1-y2)) );
    p/=2;
    if(p&lt;0) p*=-1;
    return p;
}

bool Trougao::DaLiJePozitivnoOrijentiran() const
{
    double x1=t1.first, y1=t1.second, x2=t2.first, y2=t2.second, x3=t3.first, y3=t3.second;
    int p=(x1*(y2-y3)-x2*(y1-y3)+x3*(y1-y2));
    if(p&gt;0) return true;
    return false;
}

bool Trougao::DaLiJeUnutra(const Tacka &amp;t) const { 
    int x=t.first, y=t.second,  x1=t1.first, x2=t2.first, x3=t3.first, y1=t1.second, y2=t2.second, y3=t3.second;
   // if(veca(x,x1) &amp;&amp; veca(x,x2) &amp;&amp; !veca(x,x3) &amp;&amp; veca(y,y1) &amp;&amp; veca(y,y2) &amp;&amp; !veca(y,y3))  return true;
  //  if(veca(x,x1) &amp;&amp; veca(x,x2) &amp;&amp; !veca(x,x3) &amp;&amp; veca(y,y1) &amp;&amp; veca(y,y3) &amp;&amp; !veca(y,y2)) return true;
   // if(veca())
int vecaod(0), manjaod(0);
if(x&gt;x1) vecaod++; if(x&lt;x1) manjaod++;
if(x&gt;x2) vecaod++; if(x&lt;x2) manjaod++;
if(x&gt;x3) vecaod++; if(x&lt;x3) manjaod++;
int vecaody(0), manjaody(0);
if(y&gt;y1) vecaody++; if(y&lt;y1) manjaody++;
if(y&gt;y2) vecaody++; if(y&lt;y2) manjaody++;
if(y&gt;y3) vecaody++; if(y&lt;y3) manjaody++;
if(vecaod==2 &amp;&amp; manjaod==1 &amp;&amp; vecaody==2 &amp;&amp; manjaody==1) return true;
return false;
    
} 

void Trougao::Ispisi() const
{
    std::cout&lt;&lt;"("&lt;&lt;"("&lt;&lt;t1.first&lt;&lt;","&lt;&lt;t1.second&lt;&lt;"),("&lt;&lt;t2.first&lt;&lt;","&lt;&lt;t2.second&lt;&lt;"),("&lt;&lt;t3.first&lt;&lt;","&lt;&lt;t3.second&lt;&lt;"))";
</font>}

void Trougao::Transliraj(double delta_x, double delta_y)
{
    t1.first+=delta_x;
    t1.second+=delta_y;
    t2.first+=delta_x;
<a name="0"></a><font color="#FF0000"><a href="match63-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_51.gif"/></a>

    t2.second+=delta_y;
    t3.first+=delta_x;
    t3.second+=delta_y;
}

// void Centriraj (const Tacka &amp;t);


void Trougao::Rotiraj(const Tacka &amp;t, double ugao)
{
    double xc=t.first, yc=t.second;
    t1.first=(xc+(t1.first-xc)*std::cos(ugao)-(t1.second-yc)*std::sin(ugao));
    t2.first=(xc+(t2.first-xc)*std::cos(ugao)-(t2.second-yc)*std::sin(ugao));
    t3.first=(xc+(t3.first-xc)*std::cos(ugao)-(t3.second-yc)*std::sin(ugao));
    t1.second=(yc+(t1.first-xc)*std::sin(ugao)+(t1.second-yc)*std::cos(ugao));
    t2.second=(yc+(t2.first-xc)*std::sin(ugao)+(t2.second-yc)*std::cos(ugao));
    t3.second=(yc+(t3.first-xc)*std::sin(ugao)+(t3.second-yc)*std::cos(ugao));
}

void Trougao::Rotiraj(double ugao)
{
    double xc=(t1.first+t2.first+t3.first)/3, yc=(t1.second+t2.second+t3.second)/3;
    t1.first=(xc+(t1.first-xc)*std::cos(ugao)-(t1.second-yc)*std::sin(ugao));
    t2.first=(xc+(t2.first-xc)*std::cos(ugao)-(t2.second-yc)*std::sin(ugao));
    t3.first=(xc+(t3.first-xc)*std::cos(ugao)-(t3.second-yc)*std::sin(ugao));
    t1.second=(yc+(t1.first-xc)*std::sin(ugao)+(t1.second-yc)*std::cos(ugao));
    t2.second=(yc+(t2.first-xc)*std::sin(ugao)+(t2.second-yc)*std::cos(ugao));
    t3.second=(yc+(t3.first-xc)*std::sin(ugao)+(t3.second-yc)*std::cos(ugao));
}
void Trougao::Skaliraj(const Tacka &amp;t, double faktor)
{
    if(Poredi(faktor,0)) throw std::domain_error("Nekorektan faktor skaliranja");
    double x1=t1.first, y1=t1.second, x2=t2.first, y2=t2.second, x3=t3.first, y3=t3.second;
    if(t==Trougao::t1) {
        x2=x1+faktor*(x2-x1);
        y2=y1+faktor*(y2-y1);
        x3=x1+faktor*(x3-x1);
        y3=y1+faktor*(y3-y1);
        t2.first=x2;
        t2.second=y2;
        t3.first=x3;
        t3.second=y3;
        return;
    }
    if(t==Trougao::t2) {
        x1=x2+faktor*(x1-x2);
        y1=y2+faktor*(y1-y2);
        x3=x2+faktor*(x3-x2);
        y3=y2+faktor*(y3-y2);
        t1.first=x1;
        t1.second=y1;
        t3.first=x3;
        t3.second=y3;
        return;
    }
    if(t==Trougao::t3) {
        x1=x3+faktor*(x1-x3);
        y1=y3+faktor*(y1-y3);
        x2=x3+faktor*(x2-x3);
        y2=y3+faktor*(y2-y3);
        t1.first=x1;
        t1.second=y1;
        t2.first=x2;
        t2.second=y2;
        return;
    }
}

void Trougao::Skaliraj(double faktor)
{
    double x1=t1.first, y1=t1.second, x2=t2.first, y2=t2.second, x3=t3.first, y3=t3.second;
    Tacka t;
    t.first=(x1+x2+x3)/3;
    t.second=(y1+y2+y3)/3;
    double x=t.first, y=t.second;
    x1=x+faktor*(x1-x);
    y1=y+faktor*(y1-y);
    x2=x+faktor*(x2-x);
    y2=y+faktor*(y2-y);
    x3=x+faktor*(x3-x);
    y3=y+faktor*(y3-y);
    t1.first=x1;
    t1.second=y1;
    t2.first=x2;
    t2.second=y2;
    t3.first=x3;
    t3.second=y3;
}

bool DaLiSuIdenticni(const Trougao &amp;t1, const Trougao &amp;t2)
{
    Tacka t11=t1.t1, t12=t1.t2, t13=t1.t3, t21=t2.t1, t22=t2.t2, t23=t2.t3;
    if( (t11==t21 || t11==t22 || t11==t23) &amp;&amp; (t12==t21 || t12==t22 || t12==t23) &amp;&amp; (t13==t21 || t13==t22 || t13==t23)) return true;
    return false;
}

bool DaLiSuPodudarni(const Trougao &amp;t1, const Trougao &amp;t2)
{
    if( ( !Trougao::Poredi(t1.DajStranicu(1), t2.DajStranicu(1)) &amp;&amp; !Trougao::Poredi(t1.DajStranicu(1), t2.DajStranicu(2)) &amp;&amp; !Trougao::Poredi(t1.DajStranicu(1), t2.DajStranicu(3)) ) || (!Trougao::Poredi(t1.DajStranicu(2), t2.DajStranicu(1)) &amp;&amp;  !Trougao::Poredi(t1.DajStranicu(2), t2.DajStranicu(2)) &amp;&amp; !Trougao::Poredi(t1.DajStranicu(2), t2.DajStranicu(3)) ) || (!Trougao::Poredi(t1.DajStranicu(3), t2.DajStranicu(1)) &amp;&amp; !Trougao::Poredi(t1.DajStranicu(3), t2.DajStranicu(2)) &amp;&amp;  !Trougao::Poredi(t1.DajStranicu(3), t2.DajStranicu(3)) ) ) return false;
    if( (!Trougao::Poredi(t1.DajUgao(1), t2.DajUgao(1)) &amp;&amp; !Trougao::Poredi(t1.DajUgao(1), t2.DajUgao(2)) &amp;&amp; !Trougao::Poredi(t1.DajUgao(1), t2.DajUgao(3)) )  || (!Trougao::Poredi(t1.DajUgao(2), t2.DajUgao(1)) &amp;&amp; !Trougao::Poredi(t1.DajUgao(2), t2.DajUgao(3)) &amp;&amp;  !Trougao::Poredi(t1.DajUgao(2), t2.DajUgao(2)) ) ||  (!Trougao::Poredi(t1.DajUgao(3), t2.DajUgao(1)) &amp;&amp; !Trougao::Poredi(t1.DajUgao(3), t2.DajUgao(2)) &amp;&amp;  !Trougao::Poredi(t1.DajUgao(3), t2.DajUgao(3)) ) ) return false;
    return true;
}

// da li su slicni
bool DaLiSuSlicni(const Trougao &amp;t1, const Trougao &amp;t2) {
  double ugao1=t1.DajUgao(1), ugao2=t1.DajUgao(2), ugao3=t1.DajUgao(3), ugao11=t2.DajUgao(1), ugao22=t2.DajUgao(2), ugao33=t2.DajUgao(3);
  if(  (!Trougao::Poredi(ugao1, ugao11) &amp;&amp; !Trougao::Poredi(ugao1,ugao22) &amp;&amp; !Trougao::Poredi(ugao1, ugao33)) || (!Trougao::Poredi(ugao2, ugao11) &amp;&amp; !Trougao::Poredi(ugao2, ugao22) &amp;&amp; !Trougao::Poredi(ugao2, ugao33)) || (!Trougao::Poredi(ugao3, ugao11) &amp;&amp; !Trougao::Poredi(ugao3, ugao22) &amp;&amp; !Trougao::Poredi(ugao3, ugao33)) ) return false;        
    
    if( !Trougao::Poredi((t1.DajStranicu(1)/t2.DajStranicu(1)),(t1.DajStranicu(2)/t2.DajStranicu(2))) || !Trougao::Poredi((t1.DajStranicu(2)/t2.DajStranicu(2)),(t1.DajStranicu(3)/t2.DajStranicu(3))) || !Trougao::Poredi((t1.DajStranicu(3)/t2.DajStranicu(3)),(t1.DajStranicu(1)/t2.DajStranicu(1))) ) return false;
    return true;
}

int main ()
{
    int n;
    std::cout&lt;&lt;"Unesite n: ";
    std::cin&gt;&gt;n;
    try {
        std::vector&lt;std::shared_ptr&lt;Trougao&gt;&gt; Trouglovi(n);
        for(int i=0; i&lt;n; i++) {
            Tacka t1, t2, t3;
            std::cout&lt;&lt;"Unesite podatke za trougao"&lt;&lt;i+1&lt;&lt;": ";
            std::cin&gt;&gt;t1.first&gt;&gt;t1.second&gt;&gt;t2.first&gt;&gt;t2.second&gt;&gt;t3.first&gt;&gt;t3.second;
            try {
                Trouglovi[i]=std::make_shared&lt;Trougao&gt;(Trougao(t1,t2,t3));
            } catch(...) {
                std::cout&lt;&lt;"Neuspjelo, ponovo.";
                i--;
                continue;
            }
        }
        for(int i=0; i&lt;n; i++) {
            Trouglovi[i]-&gt;Ispisi();
            std::cout&lt;&lt;std::endl;
        }
    } catch(...) {
        std::cout&lt;&lt;"Memorija..";
    }
    double x;
    Tacka t1,t2,t3; std::cin&gt;&gt;t1.first&gt;&gt;t1.second&gt;&gt;t2.first&gt;&gt;t2.second&gt;&gt;t3.first&gt;&gt;t3.second;
    Trougao t(t1, t2, t3);
    x=t.DajUgao(1); std::cout&lt;&lt;std::endl&lt;&lt;x;
    t.Skaliraj(t2, 0);
    // int a=0;
    // std::cout&lt;&lt;a;
    return 0;
</font>}</pre>
</body>
</html>
