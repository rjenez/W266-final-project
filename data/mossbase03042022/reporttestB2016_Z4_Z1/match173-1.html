<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z1/student1581.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z1/student6462.cpp<p></p><pre>
<a name="5"></a><font color="#FF0000"><a href="match173-0.html#5" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_3.gif"/></a>

/B 2016/2017, ZadaÄ‡a 4, Zadatak 1
//Napomena: testovi ce biti dostupni dan pred rok!
#include &lt;iostream&gt;
#include &lt;stdexcept&gt;
#include &lt;cmath&gt;
#include &lt;vector&gt;
#include &lt;memory&gt;
#include &lt;algorithm&gt;
typedef std::pair&lt;double, double&gt; Tacka ;

const double Eps(1e-10);

Tacka TackaDobivenaRotacijom(const Tacka &amp;t, const Tacka &amp;x, double ugao) {
    Tacka nova;
    nova.first = t.first + (x.first - t.first) * cos(ugao) - (x.second - t.second) * sin(ugao);
</font><a name="2"></a><font color="#0000FF"><a href="match173-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_8.gif"/></a>

    nova.second = t.second + (x.first - t.first) * sin(ugao) + (x.second - t.second) * cos(ugao);
    return nova;
}

Tacka TackaNakonSkaliranja(const Tacka &amp;t, const Tacka &amp;x, double faktor) {
    Tacka nova;
    nova.first = t.first + faktor * (x.first - t.first);
    nova.second = t.second + faktor * (x.second - t.second);
    return nova;
}

class Trougao {
    Tacka a, b, c;
    
public:
    Trougao(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3) { Postavi(t1, t2, t3); }
    
    void Postavi(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3) {
        if (Orijentacija(t1, t2, t3) == 0) throw std::domain_error("Nekorektne pozicije tjemena");
        a=t1;  b=t2;  c=t3;
    }
    
    void Postavi(int indeks, const Tacka &amp;t);
    
    static int Orijentacija(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3) {
        double x = t1.first*(t2.second - t3.second) - t2.first*(t1.second - t3.second) + t3.first*(t1.second - t2.second);
</font><a name="1"></a><font color="#00FF00"><a href="match173-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_11.gif"/></a>

        if (x &gt; 0) return 1;
        else if (x &lt; 0) return -1;
        else return 0;
    }
    
    Tacka DajTjeme(int indeks) const {
        if (indeks != 1 &amp;&amp; indeks != 2 &amp;&amp; indeks != 3) throw std::range_error("Nekorektan indeks");
        if (indeks == 1) return a;
        else if (indeks == 2) return b;
        else return c;
    }
    
    double DajStranicu(int indeks) const;
    double DajUgao(int indeks) const; 
    
    Tacka DajCentar() const {
        Tacka t;
        t.first = (a.first + b.first + c.first) / 3;
        t.second = (a.second + b.second + c.second) / 3;
        return t;
    }
    
    double DajObim() const {
       double s_a=DajStranicu(1);  double s_b=DajStranicu(2);  double s_c=DajStranicu(3);
       return s_a + s_b + s_c;
    }
    
    double DajPovrsinu() const {
        return 0.5 * (fabs(a.first*(b.second-c.second) - b.first*(a.second-c.second) + c.first*(a.second-b.second)));
    }
    
    bool DaLiJePozitivnoOrijentiran() const {
        double x = a.first*(b.second - c.second) - b.first*(a.second-c.second) + c.first*(a.second - b.second);
        if (x &gt; 0) return true;
    }
    
    bool DaLiJeUnutra(const Tacka &amp;t) const;
    void Ispisi() const { std::cout&lt;&lt;"(("&lt;&lt;a.first&lt;&lt;","&lt;&lt;a.second&lt;&lt;"),("&lt;&lt;b.first&lt;&lt;","&lt;&lt;b.second&lt;&lt;"),("&lt;&lt;c.first&lt;&lt;","&lt;&lt;c.second&lt;&lt;"))"; }
</font><a name="6"></a><font color="#00FF00"><a href="match173-0.html#6" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_2.gif"/></a>

    void Transliraj(double delta_x, double delta_y);
    void Centriraj(const Tacka &amp;t);
    void Rotiraj(const Tacka &amp;t, double ugao);
    void Skaliraj(const Tacka &amp;t, double faktor);
</font>    void Rotiraj(double ugao);
    void Skaliraj(double faktor);
<a name="4"></a><font color="#FF00FF"><a href="match173-0.html#4" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_5.gif"/></a>

    friend bool DaLiSuIdenticni(const Trougao &amp;t1, const Trougao &amp;t2);
    friend bool DaLiSuPodudarni(const Trougao &amp;t1, const Trougao &amp;t2);
};

void Trougao::Postavi(int indeks, const Tacka &amp;t) {
    if (indeks != 1 &amp;&amp; indeks != 2 &amp;&amp; indeks != 3) throw std::range_error("Nekorektan indeks");
 //   if (Orijentacija(a, b, t)==0 || Orijentacija(a, t, c)==0 || Orijentacija(t, b, c)==0)
   //     throw std::domain_error("Nekorektne pozicije tjemena");
    if (indeks == 1) a=t;
    else if (indeks == 2) b=t;
    else c=t;
}

double Trougao::DajStranicu(int indeks) const {
    if (indeks != 1 &amp;&amp; indeks != 2 &amp;&amp; indeks != 3) throw std::range_error("Nekorektan indeks");
    if (indeks == 1)
        return sqrt(((c.first-b.first) * (c.first-b.first)) + ((c.second-b.second) * (c.second-b.second)));
</font>    if (indeks == 2)
<a name="0"></a><font color="#FF0000"><a href="match173-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_52.gif"/></a>

        return sqrt(((c.first-a.first) * (c.first-a.first)) + ((c.second-a.second) * (c.second-a.second)));
    else return sqrt(((b.first-a.first) * (b.first-a.first)) + ((b.second-a.second) * (b.second-a.second)));
}

double Trougao::DajUgao(int indeks) const {
    if (indeks != 1 &amp;&amp; indeks != 2 &amp;&amp; indeks != 3) throw std::range_error("Nekorektan indeks");
    double s_a=DajStranicu(1);
    double s_b=DajStranicu(2);
    double s_c=DajStranicu(3);
    double alfa = acos((s_b*s_b + s_c*s_c - s_a*s_a) / 2*s_b*s_c);
    double beta = acos((s_a*s_a + s_c*s_c - s_b*s_b) / 2*s_a*s_c);
    double gama = acos((s_a*s_a + s_b*s_b - s_c*s_c) / 2*s_a*s_b);
    if (indeks == 1) return alfa;
    else if (indeks == 2) return beta;
    else return gama;
}

bool Trougao::DaLiJeUnutra(const Tacka &amp;t) const {
    bool unutra=false;
    if (Orijentacija(a, b, t) == 1 &amp;&amp; Orijentacija(a, b, c) == 1 &amp;&amp; Orijentacija(b, c, t) == 1 &amp;&amp; Orijentacija(c, a, t) == 1)
        unutra=true;
        return unutra;
}

void Trougao::Transliraj(double delta_x, double delta_y) {
    Tacka nova_a(a.first+delta_x, a.second+delta_y);
    Postavi(1, nova_a);
    Tacka nova_b(b.first+delta_x, b.second+delta_y);
    Postavi(2, nova_b);
    Tacka nova_c(c.first+delta_x, c.second+delta_y);
    Postavi(3, nova_c);
}

void Trougao::Centriraj(const Tacka &amp;t) {
    Tacka centar=DajCentar();
    double x=t.first-centar.first;
    double y=t.second-centar.second;
    do {
        Transliraj(x, y);
    }
    while (fabs(centar.first-t.first)&gt;Eps &amp;&amp; fabs(centar.second-t.second)&gt;Eps);
}

void Trougao::Rotiraj(const Tacka &amp;t, double ugao) {
    Tacka nova_a=TackaDobivenaRotacijom(t, a, ugao);
    Postavi(1, nova_a);
    Tacka nova_b=TackaDobivenaRotacijom(t, b, ugao);
    Postavi(2, nova_b);
    Tacka nova_c=TackaDobivenaRotacijom(t, c, ugao);
    Postavi(3, nova_c);
}

void Trougao::Skaliraj(const Tacka &amp;t, double faktor) {
    if (faktor == 0) throw std::domain_error("Nekorektan faktor skaliranja");
    Tacka nova_a=TackaNakonSkaliranja(t, a, faktor);
    Postavi(1, nova_a);
    Tacka nova_b=TackaNakonSkaliranja(t, b, faktor);
    Postavi(2, nova_b);
    Tacka nova_c=TackaNakonSkaliranja(t, c, faktor);
    Postavi(3, nova_c);
}

void Trougao::Rotiraj(double ugao) {
    Tacka centar=DajCentar();
    Tacka nova_a=TackaDobivenaRotacijom(centar, a, ugao);
    Postavi(1, nova_a);
    Tacka nova_b=TackaDobivenaRotacijom(centar, b, ugao);
    Postavi(2, nova_b);
    Tacka nova_c=TackaDobivenaRotacijom(centar, c, ugao);
    Postavi(3, nova_c);
}

void Trougao::Skaliraj(double faktor) {
    if (faktor == 0) throw std::domain_error("Nekorektan faktor skaliranja");
    Tacka centar=DajCentar();
    Tacka nova_a=TackaNakonSkaliranja(centar, a, faktor);
    Postavi(1, nova_a);
    Tacka nova_b=TackaNakonSkaliranja(centar, b, faktor);
    Postavi(2, nova_b);
    Tacka nova_c=TackaNakonSkaliranja(centar, c, faktor);
    Postavi(3, nova_c);
}

bool DaLiSuIdenticni(const Trougao &amp;t1, const Trougao &amp;t2) {
   int brojac{};
   Tacka x1=t1.DajTjeme(1), y1=t1.DajTjeme(2), z1=t1.DajTjeme(3);
   Tacka x2=t2.DajTjeme(1), y2=t2.DajTjeme(2), z2=t2.DajTjeme(3);
 
   if ((fabs(x1.first - x2.first)&lt;Eps &amp;&amp; fabs(x1.second-x2.second)&lt;Eps) || (fabs(x1.first - y2.first)&lt;Eps &amp;&amp; fabs(x1.second-y2.second)&lt;Eps) || (fabs(x1.first-z2.first)&lt;Eps &amp;&amp; fabs(x1.second-z2.second)&lt;Eps)) brojac++;
    if ((fabs(y1.first-x2.first)&lt;Eps &amp;&amp; fabs(y1.second-x2.second)&lt;Eps) || (fabs(y1.first-y2.first)&lt;Eps &amp;&amp; fabs(y1.second-y2.second)&lt;Eps) ||  (fabs(y1.first-z2.first)&lt;Eps &amp;&amp; fabs(y1.second-z2.second)&lt;Eps)) brojac++;
    if ((fabs(z1.first-x2.first)&lt;Eps &amp;&amp; fabs(z1.second-x2.second)&lt;Eps) || (fabs(z1.first-y2.first)&lt;Eps &amp;&amp; fabs(y1.second-y2.second)&lt;Eps) || (fabs(z1.first-z2.first)&lt;Eps &amp;&amp; fabs(z1.second-z2.second)&lt;Eps)) brojac++;
   
   if (brojac&gt;=2) return true;
   else {
       //std::cout&lt;&lt;"Nema identicnih trouglova!"&lt;&lt;std::endl;
        return false;
   }
}

/*bool DaLiSuPodudarni(const Trougao &amp;t1, const Trougao &amp;t2) {
    int stranice{};
    double x1=t1.DajStranicu(1), y1=t1.DajStranicu(2), z1=t1.DajStranicu(3);
    double x2=t2.DajStranicu(1), y2=t2.DajStranicu(2), z2=t2.DajStranicu(3);
   
    if (fabs(x1-x2)&lt;Eps || fabs(x1-y2)&lt;Eps || fabs(x1-z2)&lt;Eps) stranice++;
    else if (fabs(y1-x2)&lt;Eps || fabs(y1-y2)&lt;Eps || fabs(y1-z2)&lt;Eps) stranice++;
    else if (fabs(z1-x2)&lt;Eps || fabs(z1-y2)&lt;Eps || fabs(z1-z2)&lt;Eps) stranice++;
    
    
    
    if (stranice&gt;=3 &amp;&amp; (Orijentacija(t1.a, t1.b, t1.c)==Orijentacija(t2.a, t2.b, t2.c) || Orijentacija(t1.a, t1.b, t1.c)==O)) return true;
    return false;
}*/

int main ()
{
    int n{};
    std::cout&lt;&lt;"Koliko zelite kreirati trouglova: ";
    std::cin&gt;&gt;n;
    std::vector&lt;std::shared_ptr&lt;Trougao&gt; &gt; v(n);
    int i{};
    for (i=0; i&lt;n; i++) {
        double x1{}, y1{}, x2{}, y2{}, x3{}, y3{};
        std::cout&lt;&lt;"Unesite podatke za "&lt;&lt;i+1&lt;&lt;". trougao (x1 y1 x2 y2 x3 y3): ";
        std::cin&gt;&gt;x1&gt;&gt;y1&gt;&gt;x2&gt;&gt;y2&gt;&gt;x3&gt;&gt;y3;
        
        try {
           v[i] = std::make_shared&lt;Trougao&gt; (Tacka(x1, y1), Tacka(x2, y2), Tacka(x3, y3));
        }
        catch(std::domain_error e) {
           std::cout&lt;&lt;e.what()&lt;&lt;", ponovite unos!"&lt;&lt;std::endl;
           i--;
        }
    }
    
    double dx{}, dy{};
    std::cout&lt;&lt;"Unesite vektor translacije (dx dy): ";
    std::cin&gt;&gt;dx&gt;&gt;dy;
    
    double ugao{};
    std::cout&lt;&lt;"Unesite ugao rotacije: ";
    std::cin&gt;&gt;ugao;
    
    double faktor{};
    std::cout&lt;&lt;"Unesite faktor skaliranja: ";
    std::cin&gt;&gt;faktor;
    
   std::transform(v.begin(), v.end(), v.begin(), [dx, dy](std::shared_ptr&lt;Trougao&gt; t) { t-&gt;Transliraj(dx, dy); return t; });
   std::transform(v.begin(), v.end(), v.begin(), [ugao](std::shared_ptr&lt;Trougao&gt; t) {t-&gt;Rotiraj(ugao); return t; });
   std::transform(v.begin(), v.end(), v.begin(), [faktor](std::shared_ptr&lt;Trougao&gt; t) {
        t-&gt;Skaliraj(t-&gt;DajTjeme(1), faktor);
        return t;
    });
    
    std::sort(v.begin(), v.end(), [](std::shared_ptr&lt;Trougao&gt; t1, std::shared_ptr&lt;Trougao&gt; t2) {
</font>        return t1-&gt;DajPovrsinu() &lt; t2-&gt;DajPovrsinu();
    });
    
   
    std::cout&lt;&lt;"Trouglovi nakon obavljenih transformacija: "&lt;&lt;std::endl;
<a name="3"></a><font color="#00FFFF"><a href="match173-0.html#3" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_8.gif"/></a>

    std::for_each(v.begin(), v.end(), [](std::shared_ptr&lt;Trougao&gt; t) { t-&gt;Ispisi(); std::cout&lt;&lt;std::endl; });
    
    std::cout&lt;&lt;"Trougao sa najmanjim obimom: ";
    Trougao t = **std::min_element(v.begin(), v.end(), [](std::shared_ptr&lt;Trougao&gt; t1, std::shared_ptr&lt;Trougao&gt; t2) { 
       return t1-&gt;DajObim() &lt; t2-&gt;DajObim(); });
    t.Ispisi();
    std::cout&lt;&lt;std::endl;
    
    bool y=false;
    int k{}, l{};
    
    for (int i=0; i&lt;v.size(); i++) {
        for (int j=0; j&lt;v.size(); j++) {
            if (i == j) continue;
            
            y = DaLiSuIdenticni(*v[i], *v[j]);
            if (y == true)  {
                k=i; l=j;
                //IspisiIdenticne()
            }
        }
    }
        
    if (y==true) {
       std::cout&lt;&lt;"Parovi identicnih trouglova: "&lt;&lt;std::endl;
       v[k]-&gt;Ispisi();
       std::cout&lt;&lt;" i ";
       v[l]-&gt;Ispisi();
       std::cout&lt;&lt;std::endl;
</font>    }
    
   // else if (y == false) std::cout&lt;&lt;"Nema parova identicnih trouglova!"&lt;&lt;std::endl;
    
  /*  bool x;
    for (int i=0; i&lt;v.size(); i++) {
        for (int j=0; j&lt;v.size(); j++) {
             x = DaLiSuPodudarni(*v[i], *v[j]);
            if (x==true) {
                std::cout&lt;&lt;"Parovi podudarnih trouglova: "&lt;&lt;std::endl;
                v[i]-&gt;Ispisi();
                std::cout&lt;&lt;" i ";
                v[j]-&gt;Ispisi();
            }
        }
    }*/
  //  if (!x) std::cout&lt;&lt;"Nema podudarnih trouglova!";
	return 0;
}</pre>
</body>
</html>
