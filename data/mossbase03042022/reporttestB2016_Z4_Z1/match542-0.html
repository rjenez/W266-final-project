<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z1/student6029.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z1/student6029.cpp<p></p><pre>
/B 2016/2017, ZadaÄ‡a 4, Zadatak 1
//Napomena: testovi ce biti dostupni dan pred rok!
#include &lt;iostream&gt;
#include &lt;stdexcept&gt;
#include &lt;cmath&gt;
#include &lt;vector&gt;
#include &lt;memory&gt;
#include &lt;algorithm&gt;
typedef std::pair&lt;double, double&gt; Tacka;
using std::cout;
using std::cin;
using std::vector;

bool Jednaki(double x, double y,double eps=1e-10) {
    return std::fabs(x-y)&lt;=eps*(std::fabs(x)+std::fabs(y));}

class Trougao {
    private:
    Tacka primera,segunda,tercera;
    public:
    Trougao(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3);//zavrseno
    void Postavi(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3);//zavrseno
    void Postavi(int indeks, const Tacka &amp;t);//zavrseno
    static int Orijentacija(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3); //zavrseno
    Tacka DajTjeme(int indeks) const; //zavrseno
    double DajStranicu(int indeks) const; //zavrseno
    double DajUgao(int indeks) const; //zavrseno
    Tacka DajCentar() const; //zavrseno
    double DajObim() const; //zavrseno
    double DajPovrsinu() const; //zavrseno
    bool DaLiJePozitivnoOrijentiran() const; //zavrseno
    bool DaLiJeUnutra(const Tacka &amp;t) const; //zavrseno
    void Ispisi() const; //zavrseno
    void Transliraj(double delta_x, double delta_y); //zavrseno?
    void Centriraj(const Tacka &amp;t); //zavrseno?
    void Rotiraj(const Tacka &amp;t, double ugao); //zavrseno?
    void Skaliraj(const Tacka &amp;t, double faktor); //zavrseno?
    void Rotiraj(double ugao); //zavrseno??
    void Skaliraj(double faktor); //zavrseno?
    friend bool DaLiSuIdenticni(const Trougao &amp;t1, const Trougao &amp;t2); //zavrseno..?
    friend bool DaLiSuPodudarni(const Trougao &amp;t1, const Trougao &amp;t2); //pokusaj
    friend bool DaLiSuSlicni(const Trougao &amp;t1, const Trougao &amp;t2); //istooxD
};
double f1 (const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3) {
    double y=t1.first*(t2.second-t3.second)-t2.first*(t1.second-t3.second)+t3.first*(t1.second-t2.second);
    return y;
}
int Trougao::Orijentacija (const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3) {
    if (f1(t1,t2,t3)&gt;0) return 1;
    else if(f1(t1,t2,t3)&lt;0) return -1;
    return 0;
}
Trougao::Trougao(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3) {
    if(Orijentacija(t1,t2,t3)==0) throw std::domain_error("Nekorektne pozicije tjemena");
    primera=t1;
    segunda=t2;
    tercera=t3;
}
void Trougao::Postavi(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3) {
    if(Orijentacija(t1,t2,t3)==0) throw std::domain_error("Nekorektne pozicije tjemena");
    primera=t1;
    segunda=t2;
    tercera=t3;
}
void Trougao::Postavi(int indeks, const Tacka &amp;t) {
    //if (Orijentacija(t1,t2,t3)==0) throw std::domain_error("Nekorektne pozicije tjemena");
    if(indeks!=1 &amp;&amp; indeks!=2 &amp;&amp; indeks!=3) throw std::range_error("Nekorektan indeks");
    if (indeks==1) primera=t;
    else if (indeks==2) segunda=t;
    else tercera=t;
}
Tacka Trougao::DajTjeme(int indeks) const {
    if(indeks!=1 &amp;&amp; indeks!=2 &amp;&amp; indeks!=3) throw std::range_error("Nekorektan indeks");
    if (indeks==1) return primera;
    else if (indeks==2) return segunda;
    else return tercera;
}
double Trougao::DajStranicu(int indeks) const {
    if (indeks!=1 &amp;&amp; indeks!=2 &amp;&amp; indeks!=3) throw std::range_error("Nekorektan indeks");
    if(indeks==1) return std::sqrt((segunda.first-tercera.first)*(segunda.first-tercera.first)+(segunda.second-tercera.second)*(segunda.second-tercera.second));
    else if(indeks==2) return std::sqrt((primera.first-tercera.first)*(primera.first-tercera.first)+(primera.second-tercera.second)*(primera.second-tercera.second));
    else return std::sqrt((segunda.first-primera.first)*(segunda.first-primera.first)+(segunda.second-primera.second)*(segunda.second-primera.second));
}
double Trougao::DajUgao(int indeks) const {
    if (indeks!=1 &amp;&amp; indeks!=2 &amp;&amp; indeks!=3) throw std::range_error("Nekorektan indeks");
    if (indeks==1) {
        double ugao=(DajStranicu(2)*DajStranicu(2)+DajStranicu(3)*DajStranicu(3)-DajStranicu(1)*DajStranicu(1))/(2*DajStranicu(2)*DajStranicu(3));
        ugao=std::acos(ugao)*((4*std::atan(1))/180);
        return ugao;
    }
    else if(indeks==2) {
        double ugao=(DajStranicu(1)*DajStranicu(1)+DajStranicu(3)*DajStranicu(3)-DajStranicu(2)*DajStranicu(2))/(2*DajStranicu(1)*DajStranicu(3));
        ugao=std::acos(ugao)*((4*std::atan(1))/180);
        return ugao;
    }
    else {
        double ugao=(DajStranicu(1)*DajStranicu(1)+DajStranicu(2)*DajStranicu(2)-DajStranicu(3)*DajStranicu(3))/(2*DajStranicu(1)*DajStranicu(2));
        ugao=std::acos(ugao)*((4*std::atan(1))/180);
        return ugao;
    }
}
Tacka Trougao::DajCentar() const {
    double x=(primera.first+segunda.first+tercera.first)/3;
    double y=(primera.second+segunda.second+tercera.second)/3;
    Tacka c(x,y);
    return c;
}
double Trougao::DajObim() const {
    return DajStranicu(1)+DajStranicu(2)+DajStranicu(3);
}
double Trougao::DajPovrsinu() const {
    return (std::abs(f1(primera,segunda,tercera)))*0.5;
}
bool Trougao::DaLiJePozitivnoOrijentiran() const {
    if(Orijentacija(primera,segunda,tercera)==1)    return true;
    return false;
}
bool Trougao::DaLiJeUnutra(const Tacka &amp;t) const {
    if(Orijentacija(primera,segunda,tercera)==Orijentacija(primera,segunda,t) &amp;&amp; Orijentacija(primera,segunda,tercera)==Orijentacija(segunda,tercera,t) &amp;&amp; Orijentacija(primera,segunda,tercera)==Orijentacija(tercera,primera,t))
        return true;
    return false;
}
void Trougao::Ispisi() const {
    cout&lt;&lt;"(("&lt;&lt;primera.first&lt;&lt;","&lt;&lt;primera.second&lt;&lt;"),("&lt;&lt;segunda.first&lt;&lt;","&lt;&lt;segunda.second&lt;&lt;"),("&lt;&lt;tercera.first&lt;&lt;","&lt;&lt;tercera.second&lt;&lt;"))"&lt;&lt;std::endl;
}
void Trougao::Transliraj(double delta_x, double delta_y) {
    Tacka nova(primera.first+delta_x,primera.second+delta_y);
    Trougao::Postavi(1,nova);
    Tacka nova1(segunda.first+delta_x,segunda.second+delta_y);
    Trougao::Postavi(2,nova1);
    Tacka nova2(tercera.first+delta_x,tercera.second+delta_y);
    Trougao::Postavi(3,nova2);
}
void Trougao::Centriraj(const Tacka &amp;t) {
    Tacka T(DajCentar());
    double x=t.first-T.first;
    double y=t.second-T.second;
    Tacka n(primera.first+x,primera.second+y);
    Postavi(1,n);
    Tacka n1 (segunda.first+x,segunda.second+y);
    Postavi(2,n1);
    Tacka n2(tercera.first+x,tercera.second+y);
    Postavi (3,n2);
}
void Trougao::Rotiraj(const Tacka &amp;t, double ugao) {
    double x,y,x2,y2,x3,y3;
    x=t.first+(primera.first-t.first)*std::cos(ugao)-(primera.second-t.second)*std::sin(ugao);
    y=t.second+(primera.first-t.first)*std::sin(ugao)+(primera.second-t.second)*std::cos(ugao);
    Tacka xy(x,y);
    Postavi(1,xy);
    
    x2=t.first+(segunda.first-t.first)*std::cos(ugao)-(segunda.second-t.second)*std::sin(ugao);
    y2=t.second+(segunda.first-t.first)*std::sin(ugao)+(segunda.second-t.second)*std::cos(ugao);
    Tacka x2y2(x2,y2);
    Postavi(2,x2y2);
    
    x3=t.first+(tercera.first-t.first)*std::cos(ugao)-(tercera.second-t.second)*std::sin(ugao);
    y3=t.second+(tercera.first-t.first)*std::sin(ugao)+(tercera.second-t.second)*std::cos(ugao);
    Tacka x3y3(x3,y3);
    Postavi(3,x3y3);
}
void Trougao::Skaliraj(const Tacka &amp;t, double faktor) {
    if(Jednaki(faktor,0.0)) throw std::domain_error("Nekorektan faktor skaliranja");
    if(faktor&lt;0)   Rotiraj(t,180);
    double x,y,x2,y2,x3,y3;
    x=t.first+faktor*(primera.first-t.first);
    y=t.second+faktor*(primera.second-t.second);
    Tacka xy;
    Postavi(1,xy);
    x2=t.first+faktor*(segunda.first-t.first);
    y2=t.second+faktor*(segunda.second-t.second);
    Tacka x2y2;
    Postavi(2,x2y2);
    x3=t.first+faktor*(tercera.first-t.first);
    y3=t.second+faktor*(tercera.second-t.second);
    Tacka x3y3;
    Postavi(3,x3y3);
}
void Trougao::Rotiraj(double ugao) {
    Tacka T(DajCentar());
    Rotiraj(T,ugao);
}
void Trougao::Skaliraj(double faktor) {
    Tacka T(DajCentar());
    Skaliraj(T,faktor);
}
bool DaLiSuIdenticni(const Trougao &amp;t1, const Trougao &amp;t2) {
    if((t1.DajTjeme(1)==t2.DajTjeme(1) || t1.DajTjeme(1)==t2.DajTjeme(2) || t1.DajTjeme(1)==t2.DajTjeme(3)) &amp;&amp; (t1.DajTjeme(2)==t2.DajTjeme(1) || t1.DajTjeme(2)==t2.DajTjeme(2) || t1.DajTjeme(2)==t2.DajTjeme(3))
    &amp;&amp; (t1.DajTjeme(3)==t2.DajTjeme(1) || t1.DajTjeme(3)==t2.DajTjeme(2) || t1.DajTjeme(3)==t2.DajTjeme(3)))
        return true;
    return false;
}
bool DaLiSuPodudarni(const Trougao &amp;t1, const Trougao &amp;t2) {
    if ((Trougao::Orijentacija(t1.DajTjeme(1),t1.DajTjeme(2),t1.DajTjeme(3))&gt;0 &amp;&amp; Trougao::Orijentacija(t2.DajTjeme(1),t2.DajTjeme(2),t2.DajTjeme(3))&gt;0) || (Trougao::Orijentacija(t1.DajTjeme(1),t1.DajTjeme(2),t1.DajTjeme(3))&lt;0 &amp;&amp; Trougao::Orijentacija(t2.DajTjeme(1),t2.DajTjeme(2),t2.DajTjeme(3))&lt;0)) {
<a name="0"></a><font color="#FF0000"><a href="match542-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_3.gif"/></a>

        if ((Jednaki(t1.DajStranicu(1),t2.DajStranicu(1)) &amp;&amp; Jednaki(t1.DajStranicu(2),t2.DajStranicu(2)) &amp;&amp; Jednaki(t1.DajStranicu(3),t2.DajStranicu(3))) || (Jednaki(t1.DajStranicu(1),t2.DajStranicu(2)) &amp;&amp; Jednaki(t1.DajStranicu(2),t2.DajStranicu(3)) &amp;&amp; Jednaki(t1.DajStranicu(3),t2.DajStranicu(1))) || (Jednaki(t1.DajStranicu(1),t2.DajStranicu(3)) &amp;&amp; Jednaki(t1.DajStranicu(2),t2.DajStranicu(1)) &amp;&amp; Jednaki(t1.DajStranicu(3),t2.DajStranicu(2))))
            return true;
        return false;
</font>    }
    else {
<a name="1"></a><font color="#00FF00"><a href="match542-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_3.gif"/></a>

        if ((Jednaki(t1.DajStranicu(1),t2.DajStranicu(1)) &amp;&amp; Jednaki(t1.DajStranicu(2),t2.DajStranicu(2)) &amp;&amp; Jednaki(t1.DajStranicu(3),t2.DajStranicu(3))) || (Jednaki(t1.DajStranicu(1),t2.DajStranicu(3)) &amp;&amp; Jednaki(t1.DajStranicu(2),t2.DajStranicu(1)) &amp;&amp; Jednaki(t1.DajStranicu(3),t2.DajStranicu(2))) ||(Jednaki(t1.DajStranicu(1),t2.DajStranicu(2)) &amp;&amp; Jednaki(t1.DajStranicu(2),t2.DajStranicu(3)) &amp;&amp; Jednaki(t1.DajStranicu(3),t2.DajStranicu(1))))
            return true;
        return false;
</font>    }
}
bool DaLiSuSlicni(const Trougao &amp;t1, const Trougao &amp;t2) {
    if ((Trougao::Orijentacija(t1.DajTjeme(1),t1.DajTjeme(2),t1.DajTjeme(3))&lt;0 &amp;&amp; Trougao::Orijentacija(t2.DajTjeme(1),t2.DajTjeme(2),t2.DajTjeme(3))&lt;0) || (Trougao::Orijentacija(t1.DajTjeme(1),t1.DajTjeme(2),t1.DajTjeme(3))&gt;0 &amp;&amp; Trougao::Orijentacija(t2.DajTjeme(1),t2.DajTjeme(2),t2.DajTjeme(3))&gt;0)) {
<a name="2"></a><font color="#0000FF"><a href="match542-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_3.gif"/></a>

        if ((Jednaki(t1.DajUgao(1),t2.DajUgao(1)) &amp;&amp; Jednaki(t1.DajUgao(2),t2.DajUgao(2)) &amp;&amp; Jednaki(t1.DajUgao(3),t2.DajUgao(3))) || (Jednaki(t1.DajUgao(1),t2.DajUgao(2)) &amp;&amp; Jednaki(t1.DajUgao(2),t2.DajUgao(3)) &amp;&amp; Jednaki(t1.DajUgao(3),t2.DajUgao(1))) || (Jednaki(t1.DajUgao(1),t2.DajUgao(3)) &amp;&amp; Jednaki(t1.DajUgao(2),t2.DajUgao(1)) &amp;&amp; Jednaki(t1.DajUgao(3),t2.DajUgao(2))))
            return true;
        return false;
</font>    }
    else {
<a name="3"></a><font color="#00FFFF"><a href="match542-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_2.gif"/></a>

        if ((Jednaki(t1.DajUgao(1),t2.DajUgao(1)) &amp;&amp; Jednaki(t1.DajUgao(3),t2.DajUgao(2)) &amp;&amp; Jednaki(t1.DajUgao(2),t2.DajUgao(3)) || (Jednaki(t1.DajUgao(1),t2.DajUgao(2)) &amp;&amp; Jednaki(t1.DajUgao(2),t2.DajUgao(1)) &amp;&amp; Jednaki(t1.DajUgao(3),t2.DajUgao(3))) || (Jednaki(t1.DajUgao(1),t2.DajUgao(3)) &amp;&amp; Jednaki(t1.DajUgao(2),t2.DajUgao(2)) &amp;&amp; Jednaki(t1.DajUgao(3),t2.DajUgao(1)))))
</font><a name="3"></a><font color="#00FFFF"><a href="match542-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_2.gif"/></a>

            return true;
</font>        return false;
    }
}
    
int main ()
{
    cout&lt;&lt;"Koliko zelite kreirati trouglova: ";
    int n;
    double x1,x2,x3,y1,y2,y3,dx,dy,ugao,k;
    cin&gt;&gt;n;
    vector&lt;std::shared_ptr&lt;Trougao&gt;&gt; v(n,nullptr);
    for (int i=1; i&lt;=n;i++) {
        cout&lt;&lt;"Unesite podatke za "&lt;&lt;i&lt;&lt;". trougao (x1 y1 x2 y2 x3 y3): ";
        cin&gt;&gt;x1&gt;&gt;y1&gt;&gt;x2&gt;&gt;y2&gt;&gt;x3&gt;&gt;y3;
        Tacka xy1(x1,y1), xy2(x2,y2), xy3(x3,y3);
        bool vr(Trougao::Orijentacija(xy1,xy2,xy3));
        while (vr==false) {
            cout&lt;&lt;"Upozorenje: Za ova tjemena se ne moze formirati trougao! Ponovni unos:";
            cin&gt;&gt;x1&gt;&gt;y1&gt;&gt;x2&gt;&gt;y2&gt;&gt;x3&gt;&gt;y3;
        }
        try {
            auto t(std::make_shared&lt;Trougao&gt;(Trougao(xy1,xy2,xy3)));
            v.push_back(t);
        }
        catch(...){
            cout&lt;&lt;"Greska pri alociranju memorije";
        }
    }
    cout&lt;&lt;"Unesite vektor translacije (dx dy): ";
    cin&gt;&gt;dx&gt;&gt;dy;
    cout&lt;&lt;"Unesite ugao rotacije: ";
    cin&gt;&gt;ugao;
    cout&lt;&lt;"Unesite faktor skaliranja: ";
    cin&gt;&gt;k;
    std::transform(v.begin(),v.end(),v.begin(),[dx,dy,ugao,k](const std::shared_ptr&lt;Trougao&gt; t) { t-&gt;Transliraj(dx,dy);   t-&gt;Rotiraj(ugao);   t-&gt;Skaliraj(t-&gt;DajTjeme(1),k); });
    for(int i=1;i&lt;=n-1;i++) 
        std::sort(v.begin(),v.end(),[i,v](const std::shared_ptr&lt;Trougao&gt; t){return v[i]-&gt;DajPovrsinu()&lt;v[i+1]-&gt;DajPovrsinu();});
    cout&lt;&lt;"Trouglovi nakon obavljenih transformacija: "&lt;&lt;std::endl;
    std::for_each(v.begin(),v.end(),[n,v](const std::shared_ptr&lt;Trougao&gt; t){for(int i=1;i&lt;=n;i++) v[i]-&gt;Ispisi();});
    (*std::min_element(v.begin(),v.end(),[v,n](const std::shared_ptr&lt;Trougao&gt; t1){double min=v[1]; for(int i=1;i&lt;=n-1;i++) if(v[i].DajObim()&lt;min.DajObim()) min=v[i]; return v[i]-&gt;DajObim();}))-&gt;Ispisi();
    cout&lt;&lt;"Trougao sa najmanjim obimom: ";
    cout&lt;&lt;"Parovi identicnih trouglova: ";
    for(int i=1;i&lt;=n-1;i++)
        for(int j=i;j&lt;=n;j++) {
            if(DaLiSuIdenticni(*v[i],*v[j])) {
                v[i]-&gt;Ispisi();
                cout&lt;&lt;" i ";
                v[j]-&gt;Ispisi();
                cout&lt;&lt;std::endl;
            }
        }
    cout&lt;&lt;"Parovi podudarnih trouglova: ";
    for (int i=1;i&lt;=n-1;i++)
        for(int j=i;j&lt;=n;j++) {
            if(DaLiSuPodudarni(*v[i],*v[j])) {
                v[i]-&gt;Ispisi();
                cout&lt;&lt;" i ";
                v[j]-&gt;Ispisi();
                cout&lt;&lt;std::endl;
            }
        }
    cout&lt;&lt;"Parovi slicnih trouglova: ";
    for (int i=1;i&lt;=n-1;i++)
        for (int j=i;j&lt;=n;j++) {
            if (DaLiSuSlicni(*v[i],*v[j])) {
                v[i]-&gt;Ispisi();
                cout&lt;&lt;" i ";
                v[j]-&gt;Ispisi();
                cout&lt;&lt;std::endl;
            }
        }
        
	return 0;
}</pre>
</body>
</html>
