<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z1/student3899.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z1/student3899.cpp<p></p><pre>
<a name="2"></a><font color="#0000FF"><a href="match107-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_3.gif"/></a>

/B 2016/2017, ZadaÄ‡a 4, Zadatak 1
//Napomena: testovi ce biti dostupni dan pred rok!
#include&lt;iostream&gt;
#include&lt;utility&gt;
#include&lt;stdexcept&gt;
#include&lt;vector&gt;
#include&lt;new&gt;
#include&lt;cmath&gt;
#include&lt;memory&gt;
#include&lt;algorithm&gt;
typedef std::pair&lt;double,double&gt; Tacka;

class Trougao{
    
    Tacka A;
    Tacka B;
    Tacka C;
    
   static bool ProvjeraIndeksa(int indeks);
   static double Pomocna(const Tacka &amp;t1,const Tacka &amp;t2,const Tacka &amp;t3);
   static bool Poredi(double a,double b);
   static bool PorediTacke(const Tacka &amp;t1,const Tacka &amp;t2);
   static double Duzina(const Tacka &amp;t1,const Tacka &amp;t2);
   static double Ugao(double a, double b,double c);
   
          
    
    public:
    
    Trougao(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3);
    void Postavi(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3);
</font>    void Postavi(int indeks, const Tacka &amp;t);
    static int Orijentacija(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3);
    Tacka DajTjeme(int indeks) const;
    double DajStranicu(int indeks) const;
    double DajUgao(int indeks) const;
    Tacka DajCentar() const;
    double DajObim() const;
    double DajPovrsinu() const;
    bool DaLiJePozitivnoOrijentiran() const;
    bool DaLiJeUnutra(const Tacka &amp;t) const;
    void Ispisi() const;
    void Transliraj(double delta_x,double delta_y);
    void Centriraj(const Tacka &amp;t);
    void Rotiraj(const Tacka &amp;t, double ugao);
    void Skaliraj(const Tacka &amp;t,double faktor);
    void Rotiraj(double ugao);
    void Skaliraj(double faktor);
    friend bool DaLiSuIdenticni(const Trougao &amp;t1,const Trougao &amp;t2);
<a name="1"></a><font color="#00FF00"><a href="match107-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_24.gif"/></a>

    friend bool DaLiSuPodudarni(const Trougao &amp;t1, const Trougao &amp;t2);
    friend bool DaLiSuSlicni(const Trougao &amp;t1,const Trougao &amp;t2);
};


 bool Trougao::ProvjeraIndeksa(int indeks){
    std::vector&lt;int&gt; a{1,2,3};
    for(int i=0;i&lt;3;i++){
        if(indeks==a[i]) return true;
        
    }
    return false;
    
}

double Trougao::Pomocna(const Tacka &amp;t1,const Tacka &amp;t2,const Tacka &amp;t3){
    
    return t1.first*(t2.second-t3.second)-t2.first*(t1.second-t3.second)+t3.first*(t1.second-t2.second);
}

bool Trougao::Poredi(double a,double b){
    const double eps(1e-10);
    return std::fabs(a-b)&lt;=eps;
}

bool Trougao::PorediTacke(const Tacka &amp;t1,const Tacka &amp;t2){
    
    return (Poredi(t1.first,t2.first) &amp;&amp; Poredi(t1.second,t2.second));
    
    
}

double Trougao::Duzina(const Tacka &amp;t1,const Tacka &amp;t2){
    
    return std::sqrt(((t2.first-t1.first)*(t2.first-t1.first))+((t2.second-t1.second)*(t2.second-t1.second)));
}

double Trougao::Ugao(double a, double b, double c){
    
    auto p((b*b+c*c-a*a)/(2*b*c));
    
   // std::cout&lt;&lt;"---"&lt;&lt;b*b+c*c-a*a&lt;&lt;"---";
    
    return std::acos(p);
}

Trougao::Trougao(const Tacka &amp;t1,const Tacka &amp;t2,const Tacka &amp;t3){
    Postavi(t1,t2,t3);
}

void Trougao::Postavi(const Tacka &amp;t1, const Tacka &amp;t2,const Tacka &amp;t3){
    A=t1; B=t2; C=t3;
    if(Orijentacija(t1,t2,t3)==0) throw std::domain_error("Nekorektne pozicije tjemena");
}
void Trougao::Postavi(int indeks, const Tacka &amp;t){
    if(!ProvjeraIndeksa(indeks)) throw std::range_error ("Nekorektan indeks");
    
    if(indeks==1) A=t;
    if(indeks==2) B=t;
    if(indeks==3) C=t;
    
    if(Orijentacija(A,B,C)==0) throw std::domain_error("Nekorektne pozicije tjemena");
}

 int Trougao::Orijentacija(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3){
    auto a(Pomocna(t1,t2,t3));
    
    if(Poredi(a,0)) return 0;
    else if(a&gt;0) return 1;
    else return -1;
    
}
Tacka Trougao::DajTjeme(int indeks) const{
    if(!ProvjeraIndeksa(indeks)) throw std::range_error ("Nekorektan indeks");
    if(indeks==1) return A;
    if(indeks==2) return B;
    if(indeks==3) return C;
}

double Trougao::DajStranicu(int indeks) const{
     if(!ProvjeraIndeksa(indeks)) throw std::range_error ("Nekorektan indeks");
    if(indeks==1) return Duzina(B,C);
    if(indeks==2) return Duzina(A,C);
    if(indeks==3) return Duzina(A,B);
}

double Trougao::DajUgao(int indeks) const{
      if(!ProvjeraIndeksa(indeks)) throw std::range_error ("Nekorektan indeks");
      
      if(indeks==1) return Ugao(DajStranicu(1),DajStranicu(2),DajStranicu(3));
      if(indeks==2) return Ugao (DajStranicu(2),DajStranicu(3),DajStranicu(1));
      if(indeks==3) return Ugao(DajStranicu(3),DajStranicu(1),DajStranicu(2));
      
}

Tacka Trougao::DajCentar() const{
    Tacka centar;
    
    centar.first=(A.first+B.first+C.first)/3.;
    centar.second=(A.second+B.second+C.second)/3.;
    return centar;

}

double Trougao::DajObim() const{
    
    return DajStranicu(1)+DajStranicu(2)+DajStranicu(3);
}
double Trougao::DajPovrsinu() const{
    return 1./2*fabs(Pomocna(A,B,C));
}

bool Trougao::DaLiJePozitivnoOrijentiran() const{
    return (Orijentacija(A,B,C)==1);
}
bool Trougao::DaLiJeUnutra(const Tacka &amp;t) const{
    
    return((Orijentacija(A,B,C)==Orijentacija(A,B,t)) &amp;&amp; (Orijentacija(A,B,C)==Orijentacija(B,C,t)) &amp;&amp; (Orijentacija(A,B,C)==Orijentacija(C,A,t))) ;
}

void Trougao::Ispisi() const{
    std::cout&lt;&lt;"(("&lt;&lt;A.first&lt;&lt;","&lt;&lt;A.second&lt;&lt;"),("&lt;&lt;B.first&lt;&lt;","&lt;&lt;B.second&lt;&lt;"),("&lt;&lt;C.first&lt;&lt;","&lt;&lt;C.second&lt;&lt;"))";
</font>}

void Trougao::Transliraj(double delta_x,double delta_y){
   
    
    A.first+=delta_x;
    B.first+=delta_x;
    C.first+=delta_x;
   
<a name="3"></a><font color="#00FFFF"><a href="match107-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_3.gif"/></a>

    A.second+=delta_y;
    B.second+=delta_y;
    C.second+=delta_y;
   
   
    
    
}
void Trougao::Centriraj(const Tacka &amp;t){
    
    Tacka Centar(DajCentar());
    
    auto delta_x(t.first-Centar.first);
    auto delta_y(t.second-Centar.second);
    
   
    
    Transliraj(delta_x,delta_y);
}

void Trougao::Rotiraj(const Tacka &amp;t, double ugao){
    
    Tacka t1(A),t2(B),t3(C);
    A.first=t.first+(t1.first-t.first)*std::cos(ugao)-(t1.second-t.second)*std::sin(ugao);
</font>    A.second=t.second+(t1.first-t.first)*std::sin(ugao)+(t1.second-t.second)*std::cos(ugao);
    
    B.first=t.first+(t2.first-t.first)*std::cos(ugao)-(t2.second-t.second)*std::sin(ugao);
    B.second=t.second+(t2.first-t.first)*std::sin(ugao)+(t2.second-t.second)*std::cos(ugao);
    
    C.first=t.first+(t3.first-t.first)*std::cos(ugao)-(t3.second-t.second)*std::sin(ugao);
<a name="4"></a><font color="#FF00FF"><a href="match107-1.html#4" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_2.gif"/></a>

    C.second=t.second+(t3.first-t.first)*std::sin(ugao)+(t3.second-t.second)*std::cos(ugao);
    
}
void Trougao::Skaliraj(const Tacka &amp;t,double faktor){
    
    if(Poredi(faktor,0)) throw std::domain_error("Nekorektan faktor skaliranja");
   
   auto faktor2(std::fabs(faktor));  
   
    A.first=t.first+faktor2*(A.first-t.first);
    A.second=t.second+faktor2*(A.second-t.second);
</font>    
    B.first=t.first+faktor2*(B.first-t.first);
    B.second=t.second+faktor2*(B.second-t.second);
    
<a name="0"></a><font color="#FF0000"><a href="match107-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_50.gif"/></a>

    C.first=t.first+faktor2*(C.first-t.first);
    C.second=t.second+faktor2*(C.second-t.second);
   
    if(faktor&lt;0){
        
    const double pi(4*std::atan(1));
    Rotiraj(pi);
        
    }
}

void Trougao::Rotiraj(double ugao){
 Tacka centar(DajCentar());
 Rotiraj(centar,ugao);
 
}

void Trougao::Skaliraj(double faktor){
    Tacka centar(DajCentar());
    Skaliraj(centar,faktor);
}

bool DaLiSuIdenticni(const Trougao &amp;t1, const Trougao &amp;t2){
    
   
    if(Trougao::PorediTacke(t1.A,t2.A)){
        if(Trougao::PorediTacke(t1.B,t2.B) &amp;&amp; Trougao::PorediTacke(t1.C,t2.C)) return true;
        if(Trougao::PorediTacke(t1.B,t2.C) &amp;&amp; Trougao::PorediTacke(t1.C,t2.B)) return true;
    }
    if(Trougao::PorediTacke(t1.A,t2.B)){
        if(Trougao::PorediTacke(t1.B,t2.A) &amp;&amp; Trougao::PorediTacke(t1.C,t2.C)) return true;
        if(Trougao::PorediTacke(t1.B,t2.C) &amp;&amp; Trougao::PorediTacke(t1.C,t2.A)) return true;
    }
    if(Trougao::PorediTacke(t1.A,t2.C)){
        if(Trougao::PorediTacke(t1.B,t2.A) &amp;&amp; Trougao::PorediTacke(t1.C,t2.B)) return true;
        if(Trougao::PorediTacke(t1.B,t2.B) &amp;&amp; Trougao::PorediTacke(t1.C,t2.A)) return true;
        
    }
    return false;
}

bool DaLiSuPodudarni(const Trougao &amp;t1,const Trougao &amp;t2){
    
    if(DaLiSuIdenticni(t1,t2)) return true;
    
   bool p(false);
   double  a(t1.DajStranicu(1)),x(t2.DajStranicu(1)),b(t1.DajStranicu(2)),y(t2.DajStranicu(2)),c(t1.DajStranicu(3)),z(t2.DajStranicu(3));

   Tacka pomocna1(t1.DajTjeme(1));
   
   
   int tjeme(0);
     
    if(Trougao::Poredi(a,x)){
      
       tjeme=1;
        if(Trougao::Poredi(b,y) &amp;&amp; Trougao::Poredi(c,z)) p=true;
        if(Trougao::Poredi(b,z) &amp;&amp; Trougao::Poredi(c,y)) p=true;
        
    }
    if(Trougao::Poredi(a,y)){
        
        tjeme=2;
        if(Trougao::Poredi(b,x) &amp;&amp; Trougao::Poredi(c,z)) p=true;
        if(Trougao::Poredi(b,z) &amp;&amp; Trougao::Poredi(c,x)) p=true;
        
    }
    if(Trougao::Poredi(a,z)){
  
       tjeme=3;
        if(Trougao::Poredi(b,x) &amp;&amp; Trougao::Poredi(c,y)) p=true;
        if(Trougao::Poredi(b,y) &amp;&amp; Trougao::Poredi(c,x)) p=true;
    }
    
    if(!p) return false;
    else{
       
       auto t22(t2);
       
       auto centar1(t1.DajCentar());
       
       t22.Centriraj(centar1);
       
       Tacka pomocna2(t22.DajTjeme(tjeme));
       
       auto nasuprotna(Trougao::Duzina(pomocna1,pomocna2));
       auto p1(Trougao::Duzina(centar1,pomocna1)), p2(Trougao::Duzina(centar1,pomocna2));
       
 
       
       const double pi(4*std::atan(1));
       auto ugao(Trougao::Ugao(nasuprotna,p1,p2));
 
      auto t222(t22);
       
       t22.Rotiraj(ugao);
       
     bool pr1(DaLiSuIdenticni(t1,t22));
     if(pr1) return true;
     else{
         ugao=2*pi-ugao;
         t222.Rotiraj(ugao);
         return DaLiSuIdenticni(t1,t222);
     }

    }
 
}
bool DaLiSuSlicni(const Trougao &amp;t1,const Trougao &amp;t2){


    if(DaLiSuIdenticni(t1,t2) || DaLiSuPodudarni(t1,t2)) return true;
    auto t22(t2);
    bool provjera(false);
    double  a(t1.DajStranicu(1)),x(t2.DajStranicu(1)),b(t1.DajStranicu(2)),y(t2.DajStranicu(2)),c(t1.DajStranicu(3)),z(t2.DajStranicu(3));

    double k(0);
    int tjeme;
    if(Trougao::Poredi(a/x,b/y) &amp;&amp; Trougao::Poredi(a/x,c/z)) {
        provjera=true;
        k=a/x;
        tjeme=1;
       
    }
    
     if(Trougao::Poredi(a/x,b/z) &amp;&amp; Trougao::Poredi(a/x,c/y)) {
        provjera=true;
        k=a/x;
        tjeme=1;
       
    }
     if(Trougao::Poredi(a/y,b/x) &amp;&amp; Trougao::Poredi(a/y,c/z)) {
         
        provjera=true;
        k=a/y;
        
        tjeme=2;
    }
     if(Trougao::Poredi(a/y,b/z) &amp;&amp; Trougao::Poredi(a/y,c/x)) {
        provjera=true;
        k=a/y;
       tjeme=2;
    }
    if(Trougao::Poredi(a/z,b/x) &amp;&amp; Trougao::Poredi(a/z,c/y)) {
        provjera=true;
        k=a/z;
        tjeme=3;
    }
     if(Trougao::Poredi(a/z,b/y) &amp;&amp; Trougao::Poredi(a/z,c/x)) {
        provjera=true;
        k=a/z;
        tjeme=3;
    }
   
   if(!provjera){
       return false;
       
   }
   else{

       t22.Skaliraj(k);

       return DaLiSuPodudarni(t22,t1);
      
   }

    
    
}


int main ()
{
    std::cout&lt;&lt;"Koliko zelite kreirati trouglova: ";
    
    int n;
    std::cin&gt;&gt;n;
    
   std::vector&lt;std::shared_ptr&lt;Trougao&gt;&gt; v(n,nullptr);
   for(int i=0;i&lt;n;i++){
       std::cout&lt;&lt;"Unesite podatke za "&lt;&lt;i+1&lt;&lt;". trougao (x1 y1 x2 y2 x3 y3): ";
       double x1,x2,x3,y1,y2,y3;
       
       std::cin&gt;&gt;x1&gt;&gt;y1&gt;&gt;x2&gt;&gt;y2&gt;&gt;x3&gt;&gt;y3;
       try{
       
       v[i]=(std::make_shared&lt;Trougao&gt; (Trougao(std::make_pair(x1,y1),std::make_pair(x2,y2),std::make_pair(x3,y3))));
       }catch(std::domain_error e){
           std::cout&lt;&lt;e.what()&lt;&lt;", ponovite unos!"&lt;&lt;std::endl;
           i--;
       }
      
   }
    std::cout&lt;&lt;"Unesite vektor translacije (dx dy): ";
       double dx,dy;
       std::cin&gt;&gt;dx&gt;&gt;dy;
       
       std::cout&lt;&lt;"Unesite ugao rotacije: ";
       double ugao;
       std::cin&gt;&gt;ugao;
       std::cout&lt;&lt;"Unesite faktor skaliranja: ";
       double faktor;
       std::cin&gt;&gt;faktor;
       std::cout&lt;&lt;"Trouglovi nakon obavljenih transformacija:\n";
       
  
           
       std::transform(v.begin(),v.end(),v.begin(),[dx,dy,ugao,faktor](std::shared_ptr&lt;Trougao&gt; t)  {t-&gt;Transliraj(dx,dy);t-&gt;Rotiraj(t-&gt;DajCentar(),ugao);t-&gt;Skaliraj(t-&gt;DajTjeme(1),faktor);
           return t;
       });
         std::sort(v.begin(),v.end(),[](std::shared_ptr&lt;Trougao&gt; t1,std::shared_ptr&lt;Trougao&gt; t2){
           return t1-&gt;DajPovrsinu()&lt;t2-&gt;DajPovrsinu();
        });
         std::for_each(v.begin(),v.end(),[](std::shared_ptr&lt;Trougao&gt; t){t-&gt;Ispisi();std::cout&lt;&lt;std::endl;});
         
         std::cout&lt;&lt;"Trougao sa najmanjim obimom: ";
    
     (*std::min_element(v.begin(),v.end(),[](std::shared_ptr&lt;Trougao&gt; t1,std::shared_ptr&lt;Trougao&gt; t2){return t1-&gt;DajObim()&lt;t2-&gt;DajObim();}))-&gt;Ispisi();
   
  
 bool pr(false);
 for(int i=0;i&lt;n-1;i++){
     for(int j=i;j&lt;n;j++){
         if(i==j) continue;
         if(DaLiSuIdenticni(*v[i],*v[j])){
             std::cout&lt;&lt;"\nParovi identicnih trouglova:"&lt;&lt;std::endl;
             v[i]-&gt;Ispisi(); std::cout&lt;&lt;" i "; v[j]-&gt;Ispisi(); std::cout&lt;&lt;std::endl;
             pr=true;
         }
        
     }
 }
 if(!pr) std::cout&lt;&lt;"\nNema identicnih trouglova!\n";
 
 
 int br(0);

  for(int i=0;i&lt;n-1;i++){
     for(int j=i;j&lt;n;j++){
         if(i==j) continue;
         if(DaLiSuPodudarni(*v[i],*v[j])){
             br++;
             if(br==1) std::cout&lt;&lt;"Parovi podudarnih trouglova:"&lt;&lt;std::endl;
             v[i]-&gt;Ispisi(); std::cout&lt;&lt;" i "; v[j]-&gt;Ispisi(); std::cout&lt;&lt;std::endl;
            
         }
     }
 }
 if(br==0) std::cout&lt;&lt;"Nema podudarnih trouglova!\n";
 int br2(0);

  for(int i=0;i&lt;n-1;i++){
     for(int j=i;j&lt;n;j++){
         if(i==j) continue;
         if(DaLiSuSlicni(*v[i],*v[j])){
             br2++;
             if(br2==1) std::cout&lt;&lt;"Parovi slicnih trouglova:"&lt;&lt;std::endl;
             v[i]-&gt;Ispisi(); std::cout&lt;&lt;" i "; v[j]-&gt;Ispisi(); std::cout&lt;&lt;std::endl;
         }
     }
 }
 if(br2==0) std::cout&lt;&lt;"Nema slicnih trouglova!\n";
</font>   
   
	return 0;
}</pre>
</body>
</html>
