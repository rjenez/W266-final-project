<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z1/student8006.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z1/student5581.cpp<p></p><pre>
/B 2016/2017, ZadaÄ‡a 4, Zadatak 1
//Napomena: testovi ce biti dostupni dan pred rok!
#include &lt;iostream&gt;
#include &lt;stdexcept&gt;
#include &lt;utility&gt;
#include &lt;cmath&gt;
#include &lt;vector&gt;
#include &lt;memory&gt;
#include &lt;algorithm&gt;

typedef std::pair&lt;double,double&gt; Tacka;

class Trougao {
    private:
<a name="6"></a><font color="#00FF00"><a href="match636-0.html#6" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_0.gif"/></a>

        Tacka tacke[3];
        static double OnajIzraz(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3){
            return t1.first*(t2.second-t3.second)-t2.first*(t1.second-t3.second)+t3.first*(t1.second-t2.second);
</font>        }
        static void BaciIzuzetakZaIndeks(int indeks){ 
            if(indeks&lt;1 || indeks&gt;3) throw std::range_error("Nekorektan indeks");
        }
        static double Duzina (const Tacka &amp;t1, const Tacka &amp;t2){
            return std::sqrt((t1.first-t2.first)*(t1.first-t2.first)+(t1.second-t2.second)*(t1.second-t2.second));
        }
        static double IzracunajUgao(double s1, double s2, double s3){
            return std::acos((s2*s2+s3*s3-s1*s1)/(2*s2*s3));
        }
        static bool Jednakokraki(const Trougao &amp;t){
            return (Jednake(t.DajStranicu(1),t.DajStranicu(2)) || Jednake(t.DajStranicu(1),t.DajStranicu(3)) || Jednake(t.DajStranicu(2),t.DajStranicu(3)));};
        static bool Jednake(double x, double y, double eps = 1e-10);
        static bool JednakeTacke(const Tacka &amp;t1, const Tacka &amp;t2){
            return(Jednake(t1.first,t2.first)&amp;&amp;Jednake(t1.second,t2.second));
        }
    public: 
<a name="0"></a><font color="#FF0000"><a href="match636-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_2.gif"/></a>

        Trougao(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3){
            Postavi(t1,t2,t3);
        }
        void Postavi(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3){
            if(Orijentacija(t1,t2,t3)==0) throw std::domain_error("Nekorektne pozicije tjemena");
            tacke[0]=t1; tacke[1]=t2; tacke[2]=t3;
        }
        void Postavi(int indeks, const Tacka &amp;t){
            BaciIzuzetakZaIndeks(indeks); if(indeks==1) Postavi(t,DajTjeme(2),DajTjeme(3));
</font>            else if(indeks==2) Postavi(DajTjeme(1),t,DajTjeme(3));
            else Postavi(DajTjeme(1),DajTjeme(2),t);
        }
<a name="4"></a><font color="#FF00FF"><a href="match636-0.html#4" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_0.gif"/></a>

        static int Orijentacija(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3){
            double x=OnajIzraz(t1,t2,t3);
            if(x&lt;0) return -1; 
</font>            else if(x&gt;0) return 1; 
            else return 0;
        }
        Tacka DajTjeme(int indeks) const{
            BaciIzuzetakZaIndeks(indeks); 
            return tacke[indeks-1];
        }
        double DajStranicu (int indeks) const{
            BaciIzuzetakZaIndeks(indeks); 
            if(indeks==1) return Duzina(tacke[1],tacke[2]); 
            else if(indeks==2) return Duzina(tacke[0],tacke[2]); 
<a name="3"></a><font color="#00FFFF"><a href="match636-0.html#3" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_1.gif"/></a>

            else return Duzina(tacke[0],tacke[1]);
        }
        double DajUgao (int indeks) const{
            BaciIzuzetakZaIndeks(indeks);
            if(indeks==1) return IzracunajUgao(DajStranicu(1),DajStranicu(2),DajStranicu(3));
</font>            else if(indeks==2) return IzracunajUgao(DajStranicu(2), DajStranicu(1),DajStranicu(3));
            else return IzracunajUgao(DajStranicu(3), DajStranicu(1), DajStranicu(2));}
        Tacka DajCentar () const{
            return {(tacke[0].first+tacke[1].first+tacke[2].first)/3,(tacke[0].second+tacke[1].second+tacke[2].second)/3};}
        double DajObim () const{
            return DajStranicu(1)+DajStranicu(2)+DajStranicu(3);
        }
        double DajPovrsinu () const {
            return 0.5*std::fabs(OnajIzraz(tacke[0],tacke[1],tacke[2]));
        }
<a name="5"></a><font color="#FF0000"><a href="match636-0.html#5" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_0.gif"/></a>

        bool DaLiJePozitivnoOrijentiran () const{
            if(Orijentacija(tacke[0],tacke[1],tacke[2])==1) return true; 
            return false;
        }
        bool DaLiJeUnutra (const Tacka &amp;t) const;
</font><a name="8"></a><font color="#00FFFF"><a href="match636-0.html#8" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_0.gif"/></a>

        void Ispisi () const{
            std::cout&lt;&lt;"(("&lt;&lt;tacke[0].first&lt;&lt;","&lt;&lt;tacke[0].second&lt;&lt;"),("&lt;&lt;tacke[1].first&lt;&lt;","&lt;&lt;tacke[1].second&lt;&lt;"),("&lt;&lt;tacke[2].first&lt;&lt;","&lt;&lt;tacke[2].second&lt;&lt;"))";
</font>        }
        void Transliraj (double delta_x, double delta_y){
<a name="2"></a><font color="#0000FF"><a href="match636-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_1.gif"/></a>

            for(int i=0;i&lt;3;i++) tacke[i].first+=delta_x, tacke[i].second+=delta_y;
        }
        void Centriraj (const Tacka &amp;t){
            Transliraj(t.first-DajCentar().first, t.second-DajCentar().second);
        }
        void Rotiraj (const Tacka &amp;t, double ugao);
</font>        void Skaliraj (const Tacka &amp;t, double faktor);
        void Rotiraj (double ugao){
            Rotiraj(DajCentar(),ugao);
        }
        void Skaliraj (double faktor){
            Skaliraj(DajCentar(),faktor);
        }
        friend bool DaLiSuIdenticni(const Trougao &amp;t1, const Trougao &amp;t2);
        friend bool DaLiSuPodudarni(const Trougao &amp;t1, const Trougao &amp;t2);
        friend bool DaLiSuSlicni (const Trougao &amp;t1, const Trougao &amp;t2);
};
void Trougao::Rotiraj(const Tacka &amp;t, double ugao){
    for(int i=0;i&lt;3;i++){
        double a=t.first+(tacke[i].first-t.first)*std::cos(ugao)-(tacke[i].second-t.second)*std::sin(ugao);
        double b=t.second+(tacke[i].first-t.first)*std::sin(ugao)+(tacke[i].second-t.second)*std::cos(ugao);
        tacke[i].first=a;
        tacke[i].second=b;
    }
}
bool Trougao::Jednake(double x, double y, double eps){
    return std::fabs(x-y) &lt;= eps * (std::fabs(x)+std::fabs(y));
}
void Trougao::Skaliraj(const Tacka &amp;t, double faktor){
    if(Jednake(faktor,0)) throw std::domain_error("Nekorektan faktor skaliranja");
    for(int i=0;i&lt;3;i++)
        tacke[i].first=t.first+faktor*(tacke[i].first-t.first), tacke[i].second=t.second+faktor*(tacke[i].second-t.second);
}
bool Trougao::DaLiJeUnutra(const Tacka &amp;t) const {
    
<a name="7"></a><font color="#0000FF"><a href="match636-0.html#7" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_0.gif"/></a>

    int a=Orijentacija(tacke[0],tacke[1], tacke[2]), b=Orijentacija(tacke[0],tacke[1],t);
    int c=Orijentacija(tacke[1],tacke[2],t), d=Orijentacija(tacke[2],tacke[0],t);
</font>    if(a&gt;0&amp;&amp;b&gt;0&amp;&amp;c&gt;0&amp;&amp;d&gt;0) return true;
    if(a&lt;0&amp;&amp;b&lt;0&amp;&amp;c&lt;0&amp;&amp;d&lt;0) return true;
    return false;
}
bool DaLiSuPodudarni(const Trougao &amp;t1, const Trougao &amp;t2){
    
    std::vector&lt;double&gt; s1,s2;
    for(int i=1;i&lt;4;i++){
        s1.push_back(t1.DajStranicu(i));
        s2.push_back(t2.DajStranicu(i));
    }
    std::sort(s1.begin(),s1.end());
    std::sort(s2.begin(),s2.end());
    if(s1!=s2) return false; 
    if(s1==s2 &amp;&amp; Trougao::Jednakokraki(t1))
        return true;
    std::vector&lt;int&gt; i1{1,2,3},i2{1,2,3};
    std::vector&lt;Tacka&gt; v1{t1.tacke[0],t1.tacke[1],t1.tacke[2]},v2{t2.tacke[0],t2.tacke[1],t2.tacke[2]};
    for(int i=0;i&lt;3;i++){
        for(int j=i+1;j&lt;3;j++){
            if(t1.DajStranicu(i1[i])&gt;t1.DajStranicu(i1[j])){
                std::swap(i1[i],i1[j]);
                std::swap(v1[i],v1[j]);
            }
            if(t2.DajStranicu(i2[i])&gt;t2.DajStranicu(i2[j])){
                std::swap(i2[i],i2[j]);
                std::swap(v2[i],v2[j]);
            }
        }
    }
    if(s1==s2 &amp;&amp; Trougao::Orijentacija(v1[0],v1[1],v1[2])==Trougao::Orijentacija(v2[0],v2[1],v2[2]))
        return true;
    return false;
}
bool DaLiSuIdenticni(const Trougao &amp;t1, const Trougao &amp;t2){
    
    if(!(Trougao::JednakeTacke(t1.tacke[0],t2.tacke[0]) || Trougao::JednakeTacke(t1.tacke[0],t2.tacke[1]) || Trougao::JednakeTacke(t1.tacke[0],t2.tacke[2])))
        return false;
    if(!(Trougao::JednakeTacke(t1.tacke[1],t2.tacke[0]) || Trougao::JednakeTacke(t1.tacke[1],t2.tacke[1]) || Trougao::JednakeTacke(t1.tacke[1],t2.tacke[2])))
        return false;
    if(!(Trougao::JednakeTacke(t1.tacke[2],t1.tacke[0]) || Trougao::JednakeTacke(t1.tacke[2],t2.tacke[1]) || Trougao::JednakeTacke(t1.tacke[2],t2.tacke[2])))
        return false;
    
    return true;
} 
bool DaLiSuSlicni(const Trougao &amp;t1, const Trougao &amp;t2){
    
    std::vector&lt;double&gt; s1,s2;
    for(int i=1;i&lt;4;i++){
        s1.push_back(t1.DajStranicu(i));
        s2.push_back(t2.DajStranicu(i));
    }
    std::sort(s1.begin(),s1.end());
    std::sort(s2.begin(),s2.end());
    bool prop=false;
    if(Trougao::Jednake(s1[0]/s2[0], s1[1]/s2[1]) &amp;&amp; Trougao::Jednake(s1[0]/s1[0], s1[2]/s2[2]) &amp;&amp; Trougao::Jednake(s1[1]/s2[1],s1[2]/s2[2]))
        prop=true;
    if(!prop)
        return false;
    if(prop &amp;&amp; Trougao::Jednakokraki(t1))
        return true;
    std::vector&lt;int&gt; i1{1,2,3},i2{1,2,3};
    std::vector&lt;Tacka&gt; v1{t1.tacke[0],t1.tacke[1],t1.tacke[2]},v2{t2.tacke[0],t2.tacke[1],t2.tacke[2]};
    for(int i=0;i&lt;3;i++){
        for(int j=0; j&lt;3; j++){
            if(t1.DajStranicu(i1[i])&gt;t1.DajStranicu(i1[j])){
                std::swap(i1[i],i1[j]);
                std::swap(v1[i],v1[j]);
            }
            if(t2.DajStranicu(i2[i])&gt;t2.DajStranicu(i2[j])){
                std::swap(i2[i],i2[j]);
                std::swap(v2[i],v2[j]);
            }
        }
    }
    
    if(Trougao::Orijentacija(v1[0],v1[1],v1[2])==Trougao::Orijentacija(v2[0],v2[1],v2[2]))
        return true;
        
    return false;
}

int main (){
    std::vector&lt;std::shared_ptr&lt;Trougao&gt;&gt; tr;
    try{
        int n;
    std::cout&lt;&lt;"Koliko zelite kreirati trouglova: ";
    std::cin&gt;&gt;n;

    double x1,x2,x3,y1,y2,y3;
    for(int i=1 ; i&lt;=n ; i++){
        bool neispravan;
        do{
           neispravan=false;
           std::cout&lt;&lt;"Unesite podatke za "&lt;&lt;i&lt;&lt;". trougao (x1 y1 x2 y2 x3 y3): ";
           std::cin&gt;&gt;x1&gt;&gt;y1&gt;&gt;x2&gt;&gt;y2&gt;&gt;x3&gt;&gt;y3;
           try{
           std::shared_ptr&lt;Trougao&gt; pok(new Trougao({x1,y1},{x2,y2},{x3,y3}));
               tr.push_back(pok);
           }
           catch(std::domain_error e){
               std::cout&lt;&lt;e.what()&lt;&lt;", ponovite unos!"&lt;&lt;std::endl;
               neispravan=true;
           }
            
        }
        while(neispravan);
    }
    
    double dx,dy,ugao,faktor;
    std::cout&lt;&lt;"Unesite vektor translacije (dx dy): ";
    std::cin&gt;&gt;dx&gt;&gt;dy;
    std::cout&lt;&lt;"Unesite ugao rotacije: ";
    std::cin&gt;&gt;ugao;
    std::cout&lt;&lt;"Unesite faktor skaliranja: ";
    std::cin&gt;&gt;faktor;
    std::transform(tr.begin(),tr.end(),tr.begin(),[dx,dy] (std::shared_ptr&lt;Trougao&gt; t){
<a name="9"></a><font color="#FF00FF"><a href="match636-0.html#9" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_0.gif"/></a>

        t-&gt;Transliraj(dx,dy);
        return t;
    });
    std::transform(tr.begin(),tr.end(),tr.begin(),[ugao](std::shared_ptr&lt;Trougao&gt; t){
</font>        t-&gt;Rotiraj(ugao);
        return t;
    });
    std::transform(tr.begin(),tr.end(),tr.begin(),[faktor](std::shared_ptr&lt;Trougao&gt; t){
        t-&gt;Skaliraj(t-&gt;DajTjeme(1),faktor);
        return t;
    });
    
    std::sort(tr.begin(),tr.end(),[](std::shared_ptr&lt;Trougao&gt; p1, std::shared_ptr&lt;Trougao&gt; p2){
        return p1-&gt;DajPovrsinu()&lt;p2-&gt;DajPovrsinu();});
        
        std::cout&lt;&lt;"Trouglovi nakon obavljenih transformacija:"&lt;&lt;std::endl;
        
<a name="1"></a><font color="#00FF00"><a href="match636-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_1.gif"/></a>

        std::for_each(tr.begin(),tr.end(),[](std::shared_ptr&lt;Trougao&gt; t){
            t-&gt;Ispisi(); std::cout&lt;&lt;std::endl;
        });
        
        auto pok=std::min_element(tr.begin(),tr.end(),[](std::shared_ptr&lt;Trougao&gt; p1, std::shared_ptr&lt;Trougao&gt; p2){
</font>            if(p1-&gt;DajObim()&lt;p2-&gt;DajObim())
                return true;
            return false;
        });
        
        if(pok!=tr.end()) std::cout&lt;&lt;"Trougao sa najmanjim obimom: ", (*pok)-&gt;Ispisi();
        std::cout&lt;&lt;std::endl;
        std::vector&lt;std::pair&lt;Trougao,Trougao&gt;&gt; paroviI;
        std::vector&lt;std::pair&lt;Trougao,Trougao&gt;&gt; paroviS;
        std::vector&lt;std::pair&lt;Trougao,Trougao&gt;&gt; paroviP;
        for(int i=0;i&lt;tr.size();i++){
            for(int j=i+1; j&lt;tr.size();j++){
                if(DaLiSuIdenticni(*tr[i],*tr[j]))
                    paroviI.push_back({*tr[i],*tr[j]});
                if(DaLiSuPodudarni(*tr[i],*tr[j]))
                    paroviP.push_back({*tr[i],*tr[j]});
                if(DaLiSuSlicni(*tr[i],*tr[j]))
                    paroviS.push_back({*tr[i],*tr[j]});
            }
        }
            if(paroviI.size()==0)
                std::cout&lt;&lt;"Nema identicnih trouglova!"&lt;&lt;std::endl;
            else {
                std::cout&lt;&lt;"Parovi identicnih trouglova: "&lt;&lt;std::endl;
                for(auto x : paroviI){
                    x.first.Ispisi(); std::cout&lt;&lt;" i "; x.second.Ispisi();
                    std::cout&lt;&lt;std::endl;
                }
            }
            if(paroviP.size()==0)
                std::cout&lt;&lt;"Nema podudarnih trouglova!"&lt;&lt;std::endl;
            else{
                std::cout&lt;&lt;"Parovi podudarnih trouglova: "&lt;&lt;std::endl;
                for(auto x : paroviP){
                    x.first.Ispisi(); std::cout&lt;&lt;" i "; x.second.Ispisi();
                    std::cout&lt;&lt;std::endl;
                }
            }
            if(paroviS.size()==0)
                std::cout&lt;&lt;"Nema slicnih trouglova!"&lt;&lt;std::endl;
            else{
                std::cout&lt;&lt;"Parovi slicnih trouglova: "&lt;&lt;std::endl;
                for(auto x : paroviS){
                    x.first.Ispisi(); std::cout&lt;&lt;" i "; x.second.Ispisi();
                    std::cout&lt;&lt;std::endl;
                }
            }
    }
    catch(std::bad_alloc){
        for(int i=0;i&lt;tr.size();i++)
            tr[i]=nullptr;
        std::cout&lt;&lt;"Nedovoljno memorije";
        
    }
            
        
	return 0;
}</pre>
</body>
</html>
