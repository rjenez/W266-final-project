<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z1/student4659.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z1/student2086.cpp<p></p><pre>
#include &lt;iostream&gt;
#include &lt;utility&gt;
#include &lt;stdexcept&gt;
#include &lt;cmath&gt;
#include &lt;set&gt;
#include &lt;vector&gt;
#include &lt;memory&gt;
#include &lt;algorithm&gt;
typedef std::pair&lt;double,double&gt; Tacka;

class Trougao{
  Tacka tjeme[3]{};
  
  static bool JesuLiJednaki(double x,double y,double Eps=1e-10){ return std::fabs(x-y)&lt;=Eps*(std::fabs(x)*std::fabs(y));}
  static void TestIndeksa(int indeks){if(indeks!=1 and indeks!=2 and indeks!=3) throw std::range_error ("Nekorektan indeks");}
  static bool TestKolinearnosti(const Tacka &amp;t1,const Tacka &amp;t2,const Tacka &amp;t3){ return (Orijentacija(t1,t2,t3)==0); }
  static void TestKolinearnostiIzuzetak(const Tacka &amp;t1,const Tacka &amp;t2,const Tacka &amp;t3) {if(TestKolinearnosti(t1,t2,t3)) throw std::domain_error("Nekorektne pozicije tjemena");}
<a name="0"></a><font color="#FF0000"><a href="match378-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_2.gif"/></a>

  Tacka RoracijaTacke(const Tacka&amp; t,double ugao,int indeks){return {t.first+(tjeme[indeks].first-t.first)*std::cos(ugao)-(tjeme[indeks].second-t.second)*std::sin(ugao),t.second+(tjeme[indeks].first-t.first)*std::sin(ugao)+(tjeme[indeks].second-t.second)*std::cos(ugao)};}
</font><a name="5"></a><font color="#FF0000"><a href="match378-0.html#5" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_1.gif"/></a>

  Tacka SkalirajTacku(const Tacka&amp;t,double k,int indeks){return {t.first+k*(tjeme[indeks].first-t.first),t.second+k*(tjeme[indeks].second-t.second)};}
</font>  static bool PoklapajuLiSe(const Tacka &amp;t1,const Tacka &amp;t2);
  
  public:
  Trougao(const Tacka &amp;t1,const Tacka &amp;t2,const Tacka &amp;t3){Postavi(t1,t2,t3); }
  void Postavi(const Tacka &amp;t1,const Tacka &amp;t2,const Tacka &amp;t3){TestKolinearnostiIzuzetak(t1,t2,t3); tjeme[0]=t1; tjeme[1]=t2; tjeme[2]=t3;}
  void Postavi(int indeks,const Tacka &amp;t);
  static int Orijentacija(const Tacka &amp;t1,const Tacka &amp;t2,const Tacka &amp;t3);
  Tacka DajTjeme(int indeks) const{TestIndeksa(indeks); return tjeme[indeks-1];}
  double DajStranicu(int indeks) const;
  double DajUgao(int indeks) const;
  Tacka DajCentar() const;
  double DajObim() const;
  double DajPovrsinu() const;
  bool DaLiJePozitivnoOrijentiran() const{return Orijentacija(tjeme[0],tjeme[1],tjeme[2])==1;}
  bool DaLiJeUnutra(const Tacka &amp;t) const;
<a name="6"></a><font color="#00FF00"><a href="match378-0.html#6" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_1.gif"/></a>

  void Ispisi() const{std::cout&lt;&lt;"(("&lt;&lt;tjeme[0].first&lt;&lt;","&lt;&lt;tjeme[0].second&lt;&lt;"),("&lt;&lt;tjeme[1].first&lt;&lt;","&lt;&lt;tjeme[1].second&lt;&lt;"),("&lt;&lt;tjeme[2].first&lt;&lt;","&lt;&lt;tjeme[2].second&lt;&lt;"))";}
</font>  void Transliraj(double delta_x,double delta_y);
  void Centriraj(const Tacka &amp;t);
  void Rotiraj(const Tacka &amp;t, double ugao);
  void Skaliraj(const Tacka &amp;t, double faktor);
  void Rotiraj(double ugao){Rotiraj(DajCentar(),ugao);}
  void Skaliraj(double faktor){Skaliraj(DajCentar(),faktor);}
  friend bool DaLiSuIdenticni (const Trougao &amp;t1,const Trougao &amp;t2);
  friend bool DaLiSuPodudarni (const Trougao &amp;t1,const Trougao &amp;t2);
  friend bool DaLiSuSlicni (const Trougao &amp;t1,const Trougao &amp;t2);    
};

void Trougao::Postavi(int indeks, const Tacka &amp;t){
  TestIndeksa(indeks);
  tjeme[indeks-1]=t;
  TestKolinearnostiIzuzetak(tjeme[0],tjeme[1],tjeme[2]);
}
int Trougao::Orijentacija(const Tacka &amp;t1,const Tacka &amp;t2,const Tacka &amp;t3){
  return t1.first*(t2.second - t3.second)+t2.first*(t3.second-t1.second)+t3.first*(t1.second-t2.second);
}
double Trougao::DajStranicu(int indeks)const{
  TestIndeksa(indeks);
  std::set&lt;int&gt; pom{0,1,2};
  indeks--;
  pom.erase(indeks);
  auto it(pom.begin());
  return std::sqrt(std::pow(tjeme[*it++].first-tjeme[*it].first,2)+std::pow(tjeme[*it--].second-tjeme[*it].second,2));
}
double Trougao::DajUgao(int indeks)const{
  TestIndeksa(indeks);
  std::set&lt;int&gt; pom{0,1,2};
  indeks--;
  pom.erase(indeks);
  auto it(pom.begin());
  return std::acos( (std::pow(DajStranicu(*it++),2)+std::pow(DajStranicu(*it--),2)-DajStranicu(++indeks))/(2*DajStranicu(*it++)*DajStranicu(*it)) );
//  std::cout&lt;&lt;*it++&lt;&lt;*it--&lt;&lt;*it++&lt;&lt;*it;
//  return 2;
}
Tacka Trougao::DajCentar()const{
<a name="4"></a><font color="#FF00FF"><a href="match378-0.html#4" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_1.gif"/></a>

  return {(tjeme[0].first+tjeme[1].first+tjeme[2].first)/3,(tjeme[0].second+tjeme[1].second+tjeme[2].second)/3};
}
double Trougao::DajObim()const{
</font>    return DajStranicu(1)+DajStranicu(2)+DajStranicu(3);
}
double Trougao::DajPovrsinu()const{
  return 1/2.*std::fabs(DajTjeme(1).first*(DajTjeme(2).second-DajTjeme(3).second)+DajTjeme(2).first*(DajTjeme(3).second-DajTjeme(1).second)+DajTjeme(3).first*(DajTjeme(1).second-DajTjeme(2).second));
}
bool Trougao::DaLiJeUnutra(const Tacka &amp;t)const{
    return ((Orijentacija(tjeme[0],tjeme[1],tjeme[2])==1) and (Orijentacija(tjeme[0],tjeme[1],t)==1) and (Orijentacija(tjeme[1],tjeme[2],t)==1) and (Orijentacija(tjeme[2],tjeme[0],t)==1));
}
void Trougao::Transliraj(double delta_x,double delta_y){
  for(int i=0;i&lt;3;i++)
  tjeme[i].first+=delta_x;
  for(int i=0;i&lt;3;i++)
  tjeme[i].second+=delta_y;
}
void Trougao::Centriraj(const Tacka&amp; t){
  for(;;){
    double as(DajCentar().first);
    if(JesuLiJednaki(t.first,as)) break;
    Transliraj(t.first-as,0);
  }
  for(;;){
    double as(DajCentar().second);
    if(JesuLiJednaki(t.second,as)) break;
    Transliraj(0,t.second-as);
  }
}
void Trougao::Rotiraj(const Tacka&amp; t,double ugao){
  tjeme[0]=RoracijaTacke(t,ugao,0);
  tjeme[1]=RoracijaTacke(t,ugao,1);
  tjeme[2]=RoracijaTacke(t,ugao,2);
}
void Trougao::Skaliraj(const Tacka&amp; t,double faktor){
  if(JesuLiJednaki(faktor,0.)) throw std::domain_error("Nekorektan faktor skaliranja");
  tjeme[0]=SkalirajTacku(t,faktor,0);
  tjeme[1]=SkalirajTacku(t,faktor,1);
  tjeme[2]=SkalirajTacku(t,faktor,2);
}
bool Trougao::PoklapajuLiSe(const Tacka &amp;t1,const Tacka &amp;t2){
  return (JesuLiJednaki(t1.first,t2.first) and JesuLiJednaki(t1.second,t2.second));
}
bool DaLiSuIdenticni (const Trougao &amp;t1,const Trougao &amp;t2){
  for(int i(0);;i++){
    if (i==3) return false;
    if(Trougao::PoklapajuLiSe(t1.tjeme[0],t2.tjeme[i])) break;
  }
  for(int i(0);;i++){
    if (i==3) return false;
    if(Trougao::PoklapajuLiSe(t1.tjeme[1],t2.tjeme[i])) break;
  }
  for(int i(0);;i++){
    if (i==3) return false;
    if(Trougao::PoklapajuLiSe(t1.tjeme[2],t2.tjeme[i])) break;
  }
  return true;
}
bool DaLiSuSlicni(const Trougao &amp;t1, const Trougao &amp;t2){
 for(int i=1; i&lt;=3; i++){
    for(int j=1; j&lt;=3; j++){
      Trougao pomoc(t2.DajTjeme(1),t2.DajTjeme(2),t2.DajTjeme(3));
      double omjer(t1.DajStranicu(i)/t2.DajStranicu(j));
      pomoc.Skaliraj(omjer);
      if(DaLiSuPodudarni(pomoc,t1)) return true;
    }
 }
 return false;
}
bool DaLiSuPodudarni(const Trougao &amp;t1,const Trougao &amp;t2){
  int i(1),j(1);
  for(; i&lt;=3 ;i++){
      for(; j&lt;=3; j++){
        if(Trougao::JesuLiJednaki(t1.DajStranicu(i),t2.DajStranicu(j))) goto izlaz;
        if(j==3) return false;
      }
   }
izlaz:
   i++;
   for(;i&lt;=3; i++){
     if((Trougao::Orijentacija(t2.DajTjeme(1),t2.DajTjeme(2),t2.DajTjeme(3))&gt;0 and Trougao::Orijentacija(t1.DajTjeme(1),t1.DajTjeme(2),t1.DajTjeme(3))&gt;0) or (Trougao::Orijentacija(t2.DajTjeme(1),t2.DajTjeme(2),t2.DajTjeme(3))&lt;0 and Trougao::Orijentacija(t1.DajTjeme(1),t1.DajTjeme(2),t1.DajTjeme(3))&lt;0)){
        if(j==3) j=1;  
        else j++;
     }else{
       if(j==1) j=3;  
        else j--;
     }
     if(Trougao::JesuLiJednaki(t1.DajStranicu(i),t2.DajStranicu(j))) continue;
     return false;
   }
   return true;
}

int main (){                                                                // M A I N
	std::cout&lt;&lt;"Koliko zelite kreirati trouglova: ";
	int n;
<a name="8"></a><font color="#00FFFF"><a href="match378-0.html#8" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_1.gif"/></a>

	std::cin&gt;&gt;n;
	std::vector&lt;std::shared_ptr&lt;Trougao&gt;&gt; vek;
	for(int i=0; i&lt;n; i++){
</font>	  Tacka niz[3];
	  std::cout&lt;&lt;"Unesite podatke za "&lt;&lt;i+1&lt;&lt;". trougao (x1 y1 x2 y2 x3 y3): ";
	  for(int j=0; j&lt;3; j++){
	    std::cin&gt;&gt;niz[j].first&gt;&gt;niz[j].second;
	  }
	 try{
	  auto p(std::make_shared&lt;Trougao&gt; (niz[0],niz[1],niz[2]));
	     vek.push_back(p);
	 }catch(std::domain_error izuza){
	   std::cout&lt;&lt;izuza.what()&lt;&lt;", ponovite unos!"&lt;&lt;std::endl;
	   i--;
	 }catch(std::bad_alloc izuza){
	   std::cout&lt;&lt;"Nema dovoljno memorije!";
	   return 0;
	 }
	}  
	std::cout&lt;&lt;"Unesite vektor translacije (dx dy): ";
	double delta_x,delta_y;
	std::cin&gt;&gt;delta_x&gt;&gt;delta_y;
	std::cout&lt;&lt;"Unesite ugao rotacije: ";
	double ugao;
	std::cin&gt;&gt;ugao;
	std::cout&lt;&lt;"Unesite faktor skaliranja: ";
	double faktor;
	std::cin&gt;&gt;faktor;
	std::transform(vek.begin(),vek.end(),vek.begin(),[delta_x,delta_y,ugao,faktor](std::shared_ptr&lt;Trougao&gt; x){ 
	    x-&gt;Transliraj(delta_x,delta_y);
	    x-&gt;Rotiraj(ugao);
	    x-&gt;Skaliraj(x-&gt;DajTjeme(1),faktor);
	    return x;
	});
	std::sort(vek.begin(),vek.end(),[](std::shared_ptr&lt;Trougao&gt; x,std::shared_ptr&lt;Trougao&gt; y){return x-&gt;DajPovrsinu()&lt;y-&gt;DajPovrsinu();});
	std::cout&lt;&lt;"Trouglovi nakon obavljenih transformacija:"&lt;&lt;std::endl;
	std::for_each(vek.begin(),vek.end(),[](std::shared_ptr&lt;Trougao&gt; x){std::cout&lt;&lt;"(("&lt;&lt;x-&gt;DajTjeme(1).first&lt;&lt;","&lt;&lt;x-&gt;DajTjeme(1).second&lt;&lt;"),("&lt;&lt;x-&gt;DajTjeme(2).first&lt;&lt;","&lt;&lt;x-&gt;DajTjeme(2).second&lt;&lt;"),("&lt;&lt;x-&gt;DajTjeme(3).first&lt;&lt;","&lt;&lt;x-&gt;DajTjeme(3).second&lt;&lt;"))"&lt;&lt;std::endl;});
  std::cout&lt;&lt;"Trougao sa najmanjim obimom: ";
  (*std::min_element(vek.begin(),vek.end(),[](std::shared_ptr&lt;Trougao&gt; x,std::shared_ptr&lt;Trougao&gt; y){ return x-&gt;DajObim()&lt;y-&gt;DajObim();}))-&gt;Ispisi();
  
  bool pomoc(true);
  for(int i=0; i&lt;vek.size(); i++){
<a name="9"></a><font color="#FF00FF"><a href="match378-0.html#9" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_1.gif"/></a>

    for(int j=i+1; j&lt;vek.size(); j++){
        if(DaLiSuIdenticni(*vek[i],*vek[j])){
          pomoc=false;
</font>        }
    }
  }
  if(pomoc) std::cout&lt;&lt;std::endl&lt;&lt;"Nema identicnih trouglova!";
  else{
  pomoc=true;
<a name="1"></a><font color="#00FF00"><a href="match378-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_2.gif"/></a>

  std::cout&lt;&lt;std::endl&lt;&lt;"Parovi identicnih trouglova:"&lt;&lt;std::endl;
  for(int i=0; i&lt;vek.size(); i++){
    for(int j=i+1; j&lt;vek.size(); j++){
        if(DaLiSuIdenticni(*vek[i],*vek[j])){
          vek[i]-&gt;Ispisi();
</font>          std::cout&lt;&lt;" i ";
          vek[j]-&gt;Ispisi();
          std::cout&lt;&lt;std::endl;
        }
    }
  }
  }
  for(int i=0; i&lt;vek.size(); i++){
<a name="10"></a><font color="#FF0000"><a href="match378-0.html#10" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_1.gif"/></a>

    for(int j=i+1; j&lt;vek.size(); j++){
        if(DaLiSuPodudarni(*vek[i],*vek[j])){
          pomoc=false;
</font>        }
    }
  }if(pomoc) std::cout&lt;&lt;std::endl&lt;&lt;"Nema podudarnih trouglova!";
  else {pomoc=true;
<a name="2"></a><font color="#0000FF"><a href="match378-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_2.gif"/></a>

  std::cout&lt;&lt;"Parovi podudarnih trouglova:"&lt;&lt;std::endl;
  for(int i=0; i&lt;vek.size(); i++){
    for(int j=i+1; j&lt;vek.size(); j++){
        if(DaLiSuPodudarni(*vek[i],*vek[j])){
          vek[i]-&gt;Ispisi();
</font>          std::cout&lt;&lt;" i ";
          vek[j]-&gt;Ispisi();
          std::cout&lt;&lt;std::endl;
        }    
    }
  }
  }
  
  
  for(int i=0; i&lt;vek.size(); i++){
<a name="11"></a><font color="#00FF00"><a href="match378-0.html#11" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_1.gif"/></a>

    for(int j=i+1; j&lt;vek.size(); j++){
        if(DaLiSuSlicni(*vek[i],*vek[j])){
          pomoc=false;
</font>        }
    }
  }
  if(pomoc) std::cout&lt;&lt;std::endl&lt;&lt;"Nema slicnih trouglova!"; 
  else{
<a name="3"></a><font color="#00FFFF"><a href="match378-0.html#3" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_2.gif"/></a>

  std::cout&lt;&lt;"Parovi slicnih trouglova:"&lt;&lt;std::endl;
  for(int i=0; i&lt;vek.size(); i++){
    for(int j=i+1; j&lt;vek.size(); j++){
        if(DaLiSuSlicni(*vek[i],*vek[j])){
          vek[i]-&gt;Ispisi();
</font>          std::cout&lt;&lt;" i ";
          vek[j]-&gt;Ispisi();
          std::cout&lt;&lt;std::endl;
        }    
    }
  }
  }               
	return 0;     
}


</pre>
</body>
</html>
