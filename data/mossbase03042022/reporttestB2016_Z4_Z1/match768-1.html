<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z1/student2830.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z1/student8747.cpp<p></p><pre>
/B 2016/2017, ZadaÄ‡a 4, Zadatak 1
//Napomena: testovi ce biti dostupni dan pred rok!
#include &lt;iostream&gt;
#include &lt;utility&gt;
#include &lt;stdexcept&gt;
#include &lt;cmath&gt;
#include &lt;vector&gt;
#include &lt;memory&gt;
#include &lt;algorithm&gt; 
#define eps 1e-10


typedef std::pair&lt;double,double&gt; Tacka;

bool jednaki(const double &amp;a, const double &amp;b=0){
      return std::fabs(a-b)&lt;=eps*(std::fabs(a)+std::fabs(b));
}

bool jednake_tacke(const Tacka &amp;a, const Tacka &amp;b){
    if(jednaki(a.first,b.first) &amp;&amp; jednaki(a.second,b.second)) return true;
    return false;
}

class Trougao{
    Tacka tacka1,tacka2,tacka3;
    public:
    Trougao(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3){
        if(Orijentacija(t1,t2,t3)==0) throw std::domain_error("Nekorektne pozicije tjemena");
        tacka1=t1; tacka2=t2; tacka3=t3;
    }
    void Postavi(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3){ *this=Trougao(t1,t2,t3); }
    void Postavi(int indeks, const Tacka &amp;t);
    static int Orijentacija(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3){
        double b=t1.first*(t2.second-t3.second)-t2.first*(t1.second-t3.second)+t3.first*(t1.second-t2.second);
        if(b&gt;0 &amp;&amp; (jednaki(b)==0)) return 1;
        else if(b&lt;0 &amp;&amp; (jednaki(b)==0)) return -1;
        return 0;
    }
    Tacka DajTjeme(int indeks) const;
    double DajStranicu(int indeks) const;
    double DajUgao(int indeks) const;
    Tacka DajCentar() const{ Tacka a= std::make_pair((tacka1.first+tacka2.first+tacka3.first)/3.,(tacka1.second+tacka2.second+tacka3.second)/3.); return a; }
    double DajObim() const;
    double DajPovrsinu() const;
    bool DaLiJePozitivnoOrijentiran() const { 
        if(Orijentacija(tacka1,tacka2,tacka3)==1) return true;
        return false;
    }
    bool DaLiJeUnutra(const Tacka &amp;t) const;
    void Ispisi() const { std::cout &lt;&lt; "((" &lt;&lt; tacka1.first &lt;&lt; "," &lt;&lt; tacka1.second &lt;&lt; "),(" &lt;&lt; tacka2.first &lt;&lt; "," &lt;&lt; tacka2.second &lt;&lt; "),(" &lt;&lt; tacka3.first &lt;&lt; "," &lt;&lt; tacka3.second &lt;&lt; "))"; }
    void Transliraj(double delta_x, double delta_y);    
    void Centriraj(const Tacka &amp;t);
    void Rotiraj(const Tacka &amp;t, double ugao);
    void Skaliraj(const Tacka &amp;t, double faktor);
    void Rotiraj(double ugao) { Rotiraj(DajCentar(),ugao); }
    void Skaliraj(double faktor) { Skaliraj(DajCentar(),faktor); }
    friend bool DaLiSuIdenticni(const Trougao &amp;t1, const Trougao &amp;t2);
    friend bool DaLiSuPodudarni(const Trougao &amp;t1, const Trougao &amp;t2);
    friend bool DaLiSuSlicni(const Trougao &amp;t1, const Trougao &amp;t2);
}; 

void Trougao::Postavi(int indeks, const Tacka &amp;t){
    if(indeks&lt;1 || indeks&gt;3) throw std::range_error("Nekorektan indeks"); // vazi za sve funkcije koje traze indeks
    if(indeks==1) *this=Trougao(t,tacka2,tacka3);
    else if(indeks==2) *this=Trougao(tacka1,t,tacka3);
    else if(indeks==3) *this=Trougao(tacka1,tacka2,t);
}

Tacka Trougao::DajTjeme(int indeks) const{
    if(indeks&lt;1 || indeks&gt;3) throw std::range_error("Nekorektan indeks");
    if(indeks==1) return tacka1;
    else if(indeks==2) return tacka2;
    return tacka3;
}

double Trougao::DajStranicu(int indeks) const{
    if(indeks&lt;1 || indeks&gt;3) throw std::range_error("Nekorektan indeks");
    double b=0;
    if(indeks==1) b=std::sqrt((tacka2.first-tacka3.first)*(tacka2.first-tacka3.first)+(tacka2.second-tacka3.second)*(tacka2.second-tacka3.second));
    else if(indeks==2) b=std::sqrt((tacka1.first-tacka3.first)*(tacka1.first-tacka3.first)+(tacka1.second-tacka3.second)*(tacka1.second-tacka3.second));
    else if(indeks==3) b=std::sqrt((tacka1.first-tacka2.first)*(tacka1.first-tacka2.first)+(tacka1.second-tacka2.second)*(tacka1.second-tacka2.second));
    return b;
}

double Trougao::DajUgao(int indeks) const{
    if(indeks&lt;1 || indeks&gt;3) throw std::range_error("Nekorektan indeks");
    double a=DajStranicu(1); double b=DajStranicu(2); double c=DajStranicu(3);
    double alfa=0;
    if(indeks==1) alfa=std::acos((b*b+c*c-a*a)/(2*b*c));
    else if(indeks==2) alfa=std::acos((a*a+c*c-b*b)/(2*a*c));
    else if(indeks==3) alfa=std::acos((a*a+b*b-c*c)/(2*a*b));
    return alfa;
}

double Trougao::DajObim() const{
    double a=DajStranicu(1); double b=DajStranicu(2); double c=DajStranicu(3);
    double O=a+b+c;
    return O;
}

double Trougao::DajPovrsinu() const{
    double P=0.5*(std::fabs(tacka1.first*(tacka2.second-tacka3.second)-tacka2.first*(tacka1.second-tacka3.second)+tacka3.first*(tacka1.second-tacka2.second)));
    return P;
}

bool Trougao::DaLiJeUnutra(const Tacka &amp;t) const{
    if(Orijentacija(t,tacka2,tacka3)==0 || Orijentacija(tacka1,t,tacka3)==0 || Orijentacija(tacka1,tacka2,t)==0 ) return false;
    double P=DajPovrsinu(); 
    Trougao T1(t,tacka2,tacka3); double P1=T1.DajPovrsinu(); 
    Trougao T2(tacka1,t,tacka3); double P2=T2.DajPovrsinu(); 
    Trougao T3(tacka1,tacka2,t); double P3=T3.DajPovrsinu(); 
    return jednaki(P,P1+P2+P3);
}

void Trougao::Transliraj(double delta_x, double delta_y){
    tacka1.first+=delta_x; tacka1.second+=delta_y;
    tacka2.first+=delta_x; tacka2.second+=delta_y;
    tacka3.first+=delta_x; tacka3.second+=delta_y;
}

void Trougao::Centriraj(const Tacka &amp;t){
    Tacka trenutni_centar=DajCentar();
    double delta_x=t.first-trenutni_centar.first;
    double delta_y=t.second-trenutni_centar.second;
    Transliraj(delta_x,delta_y);
}

void Trougao::Rotiraj(const Tacka &amp;t, double ugao){
    double x1=t.first+(tacka1.first-t.first)*std::cos(ugao)-(tacka1.second-t.second)*std::sin(ugao);
    double y1=t.second+(tacka1.first-t.first)*std::sin(ugao)+(tacka1.second-t.second)*std::cos(ugao);
    double x2=t.first+(tacka2.first-t.first)*std::cos(ugao)-(tacka2.second-t.second)*std::sin(ugao);
    double y2=t.second+(tacka2.first-t.first)*std::sin(ugao)+(tacka2.second-t.second)*std::cos(ugao);
    double x3=t.first+(tacka3.first-t.first)*std::cos(ugao)-(tacka3.second-t.second)*std::sin(ugao);
    double y3=t.second+(tacka3.first-t.first)*std::sin(ugao)+(tacka3.second-t.second)*std::cos(ugao);
    Postavi(std::make_pair(x1,y1),std::make_pair(x2,y2),std::make_pair(x3,y3));
    
}

void Trougao::Skaliraj(const Tacka &amp;t, double faktor){
    if(jednaki(faktor)) throw std::domain_error("Nekorektan faktor skaliranja");
    tacka1.first=t.first+faktor*(tacka1.first-t.first);
    tacka1.second=t.second+faktor*(tacka1.second-t.second);
    tacka2.first=t.first+faktor*(tacka2.first-t.first);
    tacka2.second=t.second+faktor*(tacka2.second-t.second);
    tacka3.first=t.first+faktor*(tacka3.first-t.first);
    tacka3.second=t.second+faktor*(tacka3.second-t.second);
}

bool DaLiSuIdenticni(const Trougao &amp;t1, const Trougao &amp;t2){
   if(jednake_tacke(t1.tacka1,t2.tacka1) &amp;&amp; jednake_tacke(t1.tacka2,t2.tacka2) &amp;&amp; jednake_tacke(t1.tacka3,t2.tacka3)) return true;
   else if(jednake_tacke(t1.tacka1,t2.tacka1) &amp;&amp; jednake_tacke(t1.tacka2,t2.tacka3) &amp;&amp; jednake_tacke(t1.tacka3,t2.tacka2)) return true;
   else if(jednake_tacke(t1.tacka1,t2.tacka2) &amp;&amp; jednake_tacke(t1.tacka2,t2.tacka1) &amp;&amp; jednake_tacke(t1.tacka3,t2.tacka3)) return true;
   else if(jednake_tacke(t1.tacka1,t2.tacka2) &amp;&amp; jednake_tacke(t1.tacka2,t2.tacka3) &amp;&amp; jednake_tacke(t1.tacka3,t2.tacka1)) return true;
   else if(jednake_tacke(t1.tacka1,t2.tacka3) &amp;&amp; jednake_tacke(t1.tacka2,t2.tacka2) &amp;&amp; jednake_tacke(t1.tacka3,t2.tacka1)) return true;
   else if(jednake_tacke(t1.tacka1,t2.tacka3) &amp;&amp; jednake_tacke(t1.tacka2,t2.tacka1) &amp;&amp; jednake_tacke(t1.tacka3,t2.tacka2)) return true;
   return false;
}

bool DaLiSuPodudarni(const Trougao &amp;t1, const Trougao &amp;t2){
    Tacka a,b,c;
    if(jednaki(t1.DajStranicu(1),t2.DajStranicu(1)) &amp;&amp; jednaki(t1.DajUgao(1),t2.DajUgao(1))) a=t2.DajTjeme(1);
    else if(jednaki(t1.DajStranicu(1),t2.DajStranicu(2)) &amp;&amp; jednaki(t1.DajUgao(1),t2.DajUgao(2))) a=t2.DajTjeme(2);
    else if(jednaki(t1.DajStranicu(1),t2.DajStranicu(3)) &amp;&amp; jednaki(t1.DajUgao(1),t2.DajUgao(3))) a=t2.DajTjeme(3);
    else return false;
    
    if(jednaki(t1.DajStranicu(2),t2.DajStranicu(1)) &amp;&amp; jednaki(t1.DajUgao(2),t2.DajUgao(1)) &amp;&amp; !jednake_tacke(t2.DajTjeme(1),a)) b=t2.DajTjeme(1);
    else if(jednaki(t1.DajStranicu(2),t2.DajStranicu(2)) &amp;&amp; jednaki(t1.DajUgao(2),t2.DajUgao(2)) &amp;&amp; !jednake_tacke(t2.DajTjeme(2),a)) b=t2.DajTjeme(2);
    else if(jednaki(t1.DajStranicu(2),t2.DajStranicu(3)) &amp;&amp; jednaki(t1.DajUgao(2),t2.DajUgao(3)) &amp;&amp; !jednake_tacke(t2.DajTjeme(3),a)) b=t2.DajTjeme(3);
    else return false;
    
    if(jednaki(t1.DajStranicu(3),t2.DajStranicu(1)) &amp;&amp; jednaki(t1.DajUgao(3),t2.DajUgao(1)) &amp;&amp; !jednake_tacke(t2.DajTjeme(1),a) &amp;&amp; !jednake_tacke(t2.DajTjeme(1),b)) c=t2.DajTjeme(1);
    else if(jednaki(t1.DajStranicu(3),t2.DajStranicu(2)) &amp;&amp; jednaki(t1.DajUgao(3),t2.DajUgao(2)) &amp;&amp; !jednake_tacke(t2.DajTjeme(2),a) &amp;&amp; !jednake_tacke(t2.DajTjeme(2),b)) c=t2.DajTjeme(2);
    else if(jednaki(t1.DajStranicu(3),t2.DajStranicu(3)) &amp;&amp; jednaki(t1.DajUgao(3),t2.DajUgao(3)) &amp;&amp; !jednake_tacke(t2.DajTjeme(3),a) &amp;&amp; !jednake_tacke(t2.DajTjeme(3),b)) c=t2.DajTjeme(3);
    else return false;
    
    Trougao pomocni(a,b,c);
    if(!(jednaki(pomocni.DajStranicu(1),t1.DajStranicu(1)) &amp;&amp; jednaki(pomocni.DajStranicu(2),t1.DajStranicu(2)) &amp;&amp; jednaki(pomocni.DajStranicu(3),t1.DajStranicu(3)))) return false;
    if(pomocni.DaLiJePozitivnoOrijentiran()==t1.DaLiJePozitivnoOrijentiran()) return true;
    return false;
}

bool DaLiSuSlicni(const Trougao &amp;t1, const Trougao &amp;t2){
    double a1=t1.DajStranicu(1), b1=t1.DajStranicu(2), c1=t1.DajStranicu(3);
    double a2=t2.DajStranicu(1), b2=t2.DajStranicu(2), c2=t2.DajStranicu(3);
    double k=0;
    if(jednaki(a1/a2,b1/b2) &amp;&amp; jednaki(a1/a2,c1/c2)) k=a1/a2; 
    else if(jednaki(a1/a2,b1/c2) &amp;&amp; jednaki(a1/a2,c1/b2)) k=a1/a2;
    else if(jednaki(a1/b2,b1/a2) &amp;&amp; jednaki(a1/b2,c1/c2)) k=a1/b2;
    else if(jednaki(a1/b2,b1/c2) &amp;&amp; jednaki(a1/b2,c1/a2)) k=a1/b2;
    else if(jednaki(a1/c2,b1/a2) &amp;&amp; jednaki(a1/c2,c1/b2)) k=a1/c2;
    else if(jednaki(a1/c2,b1/b2) &amp;&amp; jednaki(a1/c2,c1/a2)) k=a1/c2;
    else return false;
    Trougao pomocni(t2.tacka1,t2.tacka2,t2.tacka3);
    pomocni.Skaliraj(k);
    return DaLiSuPodudarni(pomocni,t1);
}

int main ()
{   
    std::cout &lt;&lt; "Koliko zelite kreirati trouglova: ";
    int n; std::cin &gt;&gt; n;
    std::vector&lt;std::shared_ptr&lt;Trougao&gt;&gt; v(n) ;
    for(int i=0;i&lt;n;i++){
        std::cout &lt;&lt; "Unesite podatke za " &lt;&lt; i+1 &lt;&lt; ". trougao (x1 y1 x2 y2 x3 y3): ";
        double a,b,c,d,e,f;
        std::cin &gt;&gt; a &gt;&gt; b &gt;&gt; c &gt;&gt; d &gt;&gt; e &gt;&gt; f;
        try{
            v[i]=std::make_shared&lt;Trougao&gt;(std::make_pair(a,b),std::make_pair(c,d),std::make_pair(e,f));
        }catch(std::domain_error e){
            std::cout &lt;&lt; e.what() &lt;&lt;", ponovite unos!" &lt;&lt;std::endl;
            i--;
        }
    }
    std::cout &lt;&lt; "Unesite vektor translacije (dx dy): ";
    double dx,dy;
    std::cin &gt;&gt; dx &gt;&gt; dy;
    std::cout &lt;&lt; "Unesite ugao rotacije: ";  
    double alfa; std::cin &gt;&gt; alfa;
    double k;
    std::cout &lt;&lt; "Unesite faktor skaliranja: ";
    std::cin &gt;&gt; k;
    std::transform(v.begin(),v.end(),v.begin(),[dx,dy,alfa,k]( std::shared_ptr&lt;Trougao&gt; pok){
       pok-&gt;Transliraj(dx,dy);
       pok-&gt;Rotiraj(alfa);
       pok-&gt;Skaliraj(pok-&gt;DajTjeme(1),k);
       return pok;
    });
    std::sort(v.begin(),v.end(),[](std::shared_ptr&lt;Trougao&gt; pok1, std::shared_ptr&lt;Trougao&gt; pok2){
       return  pok1-&gt;DajPovrsinu()&lt;pok2-&gt;DajPovrsinu();
    });
    std::cout &lt;&lt; "Trouglovi nakon obavljenih transformacija:" &lt;&lt; std::endl;
    std::for_each(v.begin(),v.end(),[](std::shared_ptr&lt;Trougao&gt; pok){pok-&gt;Ispisi(); std::cout &lt;&lt; std::endl;});
    std::cout &lt;&lt; "Trougao sa najmanjim obimom: ";

   (*std::min_element(v.begin(),v.end(),[](std::shared_ptr&lt;Trougao&gt; pok1,std::shared_ptr&lt;Trougao&gt; pok2){
       return pok1-&gt;DajObim()&lt;pok2-&gt;DajObim(); 
    }))-&gt;Ispisi();
<a name="0"></a><font color="#FF0000"><a href="match768-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_2.gif"/></a>

    std::cout &lt;&lt; std::endl;
    std::vector&lt;std::pair&lt;Trougao,Trougao&gt;&gt; identicni;
    std::vector&lt;std::pair&lt;Trougao,Trougao&gt;&gt; slicni;
    std::vector&lt;std::pair&lt;Trougao,Trougao&gt;&gt; podudarni;
    for(int i=0;i&lt;n-1;i++){
        for(int j=i+1;j&lt;n;j++){
</font><a name="5"></a><font color="#FF0000"><a href="match768-0.html#5" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_0.gif"/></a>

            if(DaLiSuIdenticni(*v[i],*v[j])) identicni.push_back(std::make_pair(*v[i],*v[j]));
            if(DaLiSuPodudarni(*v[i],*v[j])) podudarni.push_back(std::make_pair(*v[i],*v[j]));
</font><a name="6"></a><font color="#00FF00"><a href="match768-0.html#6" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_0.gif"/></a>

            if(DaLiSuSlicni(*v[i],*v[j])) slicni.push_back(std::make_pair(*v[i],*v[j]));
</font><a name="4"></a><font color="#FF00FF"><a href="match768-0.html#4" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_0.gif"/></a>

        }
    }
    if(identicni.size()==0) std::cout &lt;&lt; "Nema identicnih trouglova!" &lt;&lt; std::endl;
</font>    else{
<a name="1"></a><font color="#00FF00"><a href="match768-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_2.gif"/></a>

        std::cout &lt;&lt; "Parovi identicnih trouglova:" &lt;&lt; std::endl;
        for(int i=0;i&lt;identicni.size();i++){
            identicni[i].first.Ispisi(); std::cout &lt;&lt; " i "; identicni[i].second.Ispisi();
            std::cout &lt;&lt; std::endl;
        }
    }
    if(podudarni.size()==0) std::cout &lt;&lt; "Nema podudarnih trouglova!" &lt;&lt; std::endl;
</font>    else{
<a name="2"></a><font color="#0000FF"><a href="match768-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_1.gif"/></a>

        std::cout &lt;&lt; "Parovi podudarnih trouglova:" &lt;&lt; std::endl;
        for(int i=0;i&lt;podudarni.size();i++){
            podudarni[i].first.Ispisi(); std::cout &lt;&lt; " i "; podudarni[i].second.Ispisi();
            std::cout &lt;&lt; std::endl;
        }
    }
    if(podudarni.size()==0) std::cout &lt;&lt; "Nema slicnih trouglova!";
</font>    else{
<a name="3"></a><font color="#00FFFF"><a href="match768-0.html#3" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_1.gif"/></a>

        std::cout &lt;&lt; "Parovi slicnih trouglova:" &lt;&lt; std::endl;
        for(int i=0;i&lt;slicni.size();i++){
            slicni[i].first.Ispisi(); std::cout &lt;&lt; " i "; slicni[i].second.Ispisi();
</font>            std::cout &lt;&lt; std::endl;
        }
    } 
	return 0;
}</pre>
</body>
</html>
