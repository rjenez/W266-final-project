<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z1/student5961.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z1/student5961.cpp<p></p><pre>
#include &lt;iostream&gt;
#include &lt;utility&gt;
#include &lt;stdexcept&gt;
#include &lt;cmath&gt;
#include &lt;vector&gt;
#include &lt;memory&gt;
#include &lt;algorithm&gt;
#include &lt;functional&gt;
typedef std::pair&lt;double, double&gt; Tacka;
const double PI = 4*atan(1);
const double epsilon = 0.00000000001;

// rijeci napisano su mi sluzile kao zabiljeske dokle sam dosao
bool porediTjemena(const Tacka &amp;t1, const Tacka &amp;t2){
    if(std::fabs(t1.first - t2.first) &lt;= epsilon &amp;&amp; std::fabs(t1.second - t2.second) &lt;= epsilon) return true;
    return false;
}
bool porediDuzine(const double &amp;a, const double &amp;b){
    if(std::fabs(a-b) &lt;= epsilon) return true;
    return false;
}
double provjera(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3){
    return t1.first * (t2.second - t3.second) - t2.first * (t1.second - t3.second) + t3.first * (t1.second - t2.second);
} // vraca vrijednost povrsine
double duzina(Tacka t1, Tacka t2){
    return sqrt( pow(t1.first - t2.first, 2) + pow(t1.second - t2.second, 2) );
} // duzina sranice
double ugao(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3){
    double a(duzina(t2, t3)), b(duzina(t1, t3)), c(duzina(t1, t2));
    return ( acos((pow( b, 2) + pow(c, 2) - pow(a, 2) ) / (2 * b * c)));
} // ugao odabranog tjemena
class Trougao{
    Tacka tjeme1, tjeme2, tjeme3;
public:
    Trougao(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3){ Postavi(t1,t2,t3); } // napisano
    void Postavi(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3){ // napisano
        if(!(Orijentacija(t1,t2,t3))) throw std::domain_error("Nekorektne pozicije tjemena");
        tjeme1 = t1; tjeme2 = t2; tjeme3 = t3;
    }
    void Postavi(int indeks, const Tacka &amp;t); // napisano
    static int Orijentacija(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3){
        double tmp(provjera(t1, t2, t3));
        if(tmp &gt; 0) return 1;
        if(tmp &lt; 0) return -1;
        return 0;
    } // napisano
    Tacka DajTjeme(int indeks) const{ // napisano
        if (indeks == 1) return tjeme1;
        if(indeks == 2) return tjeme2;
        if(indeks == 3) return tjeme3;
        throw std::range_error("Nekorektan indeks");
    }
<a name="2"></a><font color="#0000FF"><a href="match826-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_1.gif"/></a>

    double DajStranicu(int indeks) const; // napisano
    double DajUgao(int indeks) const; // napisano
    Tacka DajCentar() const{ return std::make_pair((tjeme1.first + tjeme2.first + tjeme3.first) / 3, (tjeme1.second + tjeme2.second + tjeme3.second) / 3); } //napisano
</font>    double DajObim() const{ return duzina(tjeme1, tjeme2) + duzina(tjeme1, tjeme3) + duzina(tjeme2, tjeme3); } // napisano
    double DajPovrsinu() const{ return std::fabs(provjera(tjeme1, tjeme2, tjeme3)); } // napisano
    bool DaLiJePozitivnoOrijentiran() const{ return (Orijentacija(tjeme1, tjeme2, tjeme3) == 1); } // napisano
    bool DaLiJeUnutra(const Tacka &amp;t) const; // napisano
    void Ispisi() const; // napisano
    void Transliraj(double delta_x, double delta_y){
        tjeme1.first += delta_x; tjeme1.second += delta_y;
<a name="3"></a><font color="#00FFFF"><a href="match826-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_1.gif"/></a>

        tjeme2.first += delta_x; tjeme2.second += delta_y;
        tjeme3.first += delta_x; tjeme3.second += delta_y;
    } // napisano
    void Centriraj(const Tacka &amp;t); // napisano
    void Rotiraj(const Tacka &amp;t, double ugao);// napisano
    void Skaliraj(const Tacka &amp;t, double faktor); // napisano
    void Rotiraj(double ugao){ Rotiraj(DajCentar(), ugao); } // napisano
</font>    void Skaliraj(double faktor){ Skaliraj(DajCentar(), faktor); } // napisano
    friend bool DaLiSuIdenticni(const Trougao &amp;t1, const Trougao &amp;t2); // napisano
    friend bool DaLiSuPodudarni(const Trougao &amp;t1, const Trougao &amp;t2); // napisano
    friend bool DaLiSuSlicni(const Trougao &amp;t1, const Trougao &amp;t2);

};
void Trougao::Postavi(int indeks, const Tacka &amp;t){
        switch(indeks){
            case 1:
                Postavi(t,tjeme2,tjeme3);
                return;
            case 2:
                Postavi(tjeme1,t,tjeme3);
                return;
            case 3:
                Postavi(tjeme1,tjeme2,t);
                return;
        }
        throw std::range_error("Nekorektan indeks");
}
double Trougao::DajStranicu(int indeks)const{
    if(indeks == 1) return duzina(tjeme2, tjeme3);
    if(indeks == 2) return duzina(tjeme1, tjeme3);
    if(indeks == 3) return duzina(tjeme1, tjeme2);
    throw std::range_error("Nekorektan indeks");
}
double Trougao::DajUgao(int indeks)const{
    if(indeks == 1) return ugao(tjeme1, tjeme2, tjeme3);
    if(indeks == 2) return ugao(tjeme2, tjeme1, tjeme3);
    if(indeks == 3) return ugao(tjeme3, tjeme1, tjeme2);
    throw std::range_error("Nekorektan indeks");
}
bool Trougao::DaLiJeUnutra(const Tacka &amp;t) const{
    double tmp = provjera(tjeme1, tjeme2, tjeme3);
    if(tmp &gt; 0 &amp;&amp; provjera(tjeme1, tjeme2,t) &gt; 0 &amp;&amp; provjera(tjeme2, tjeme3, t) &gt; 0 &amp;&amp; provjera(tjeme3, tjeme1, t) &gt; 0) return true;
    else if(tmp &lt; 0 &amp;&amp; provjera(tjeme1, tjeme2,t) &lt; 0 &amp;&amp; provjera(tjeme2, tjeme3, t) &lt; 0 &amp;&amp; provjera(tjeme3, tjeme1, t) &lt; 0) return true;
    return false;
}
void Trougao::Ispisi() const{
<a name="1"></a><font color="#00FF00"><a href="match826-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_2.gif"/></a>

    std::cout &lt;&lt; "((" &lt;&lt; tjeme1.first &lt;&lt; "," &lt;&lt; tjeme1.second &lt;&lt; "),"
              &lt;&lt; "(" &lt;&lt; tjeme2.first &lt;&lt; "," &lt;&lt; tjeme2.second &lt;&lt; "),"
              &lt;&lt; "(" &lt;&lt; tjeme1.first &lt;&lt; "," &lt;&lt; tjeme1.second &lt;&lt; "))";
}
void Trougao::Centriraj(const Tacka &amp;t){
</font>    Tacka T = DajCentar();
    double delta_x = t.first - T.first, delta_y = t.second - T.second;
    Transliraj(delta_x, delta_y);
}
void Trougao::Rotiraj(const Tacka &amp;t, double ugao){
    tjeme1 = std::make_pair(t.first + (tjeme1.first - t.first)*cos(ugao) - (tjeme1.second - t.second)*sin(ugao), t.second + (tjeme1.first - t.first)*sin(ugao) + (tjeme1.second - t.second)*cos(ugao));
    tjeme2 = std::make_pair(t.first + (tjeme2.first - t.first)*cos(ugao) - (tjeme2.second - t.second)*sin(ugao), t.second + (tjeme2.first - t.first)*sin(ugao) + (tjeme2.second - t.second)*cos(ugao));
    tjeme3 = std::make_pair(t.first + (tjeme3.first - t.first)*cos(ugao) - (tjeme3.second - t.second)*sin(ugao), t.second + (tjeme3.first - t.first)*sin(ugao) + (tjeme3.second - t.second)*cos(ugao));
}
void Trougao::Skaliraj(const Tacka &amp;t, double faktor){
    tjeme1 = std::make_pair(t.first + faktor*(tjeme1.first - t.first), t.second + faktor*(tjeme1.second - t.second));
    tjeme2 = std::make_pair(t.first + faktor*(tjeme2.first - t.first), t.second + faktor*(tjeme2.second - t.second));
    tjeme3 = std::make_pair(t.first + faktor*(tjeme3.first - t.first), t.second + faktor*(tjeme3.second - t.second));
}
bool DaLiSuIdenticni(const Trougao &amp;t1, const Trougao &amp;t2){
    if(t1.DajCentar() != t2.DajCentar()) return false;
    if(porediTjemena(t1.tjeme1, t2.tjeme1)){
        if((porediTjemena(t1.tjeme2, t2.tjeme2) &amp;&amp; porediTjemena(t1.tjeme3, t2.tjeme3)) || (porediTjemena(t1.tjeme3, t2.tjeme2) &amp;&amp; porediTjemena(t1.tjeme2, t2.tjeme3))) return true;
    }
    else if(porediTjemena(t1.tjeme1, t2.tjeme2)){
        if((porediTjemena(t1.tjeme2, t2.tjeme1) &amp;&amp; porediTjemena(t1.tjeme3, t2.tjeme3)) || (porediTjemena(t1.tjeme2, t2.tjeme3) &amp;&amp; porediTjemena(t1.tjeme2, t2.tjeme3))) return true;
    }
    else if(porediTjemena(t1.tjeme1, t2.tjeme3)){
        if((porediTjemena(t1.tjeme2, t2.tjeme1) &amp;&amp; porediTjemena(t1.tjeme3, t2.tjeme2)) || (porediTjemena(t1.tjeme2, t2.tjeme2) &amp;&amp; porediTjemena(t1.tjeme3, t2.tjeme1))) return true;
    }
    return false;
}
<a name="4"></a><font color="#FF00FF"><a href="match826-1.html#4" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_1.gif"/></a>

bool DaLiSuPodudarni(const Trougao &amp;t1, const Trougao &amp;t2){
    if(Trougao::Orijentacija(t1.tjeme1, t1.tjeme2, t1.tjeme3) != Trougao::Orijentacija(t2.tjeme1, t2.tjeme2, t2.tjeme3)) return false;
</font>    double a1, b1, c1, a2, b2, c2;
    a1 = duzina(t1.tjeme1, t1.tjeme2); b1 = duzina(t1.tjeme1, t1.tjeme3); c1 = duzina(t1.tjeme2, t1.tjeme3);
    a2 = duzina(t2.tjeme1, t2.tjeme2); b2 = duzina(t2.tjeme1, t2.tjeme3); c2 = duzina(t2.tjeme2, t2.tjeme3);
    if(porediDuzine(a1, a2)){
        if((porediDuzine(b1, b2) &amp;&amp; porediDuzine(c1, c2)) || (porediDuzine(b1, c2) &amp;&amp; porediDuzine(c1, b2))) return true;
    }
    else if(porediDuzine(a1, b2)){
        if((porediDuzine(b1, a2) &amp;&amp; porediDuzine(c1, c2)) || (porediDuzine(b1, c2) &amp;&amp; porediDuzine(c1, a2))) return true;
    }
    else if(porediDuzine(a1, c2)){
        if((porediDuzine(b1, a2) &amp;&amp; porediDuzine(c1, b2)) || (porediDuzine(b1, b2) &amp;&amp; porediDuzine(c1, a2))) return true;
    }
    return false;
}
bool DaLiSuSlicni(const Trougao &amp;t1,const Trougao &amp;t2){
<a name="5"></a><font color="#FF0000"><a href="match826-1.html#5" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_1.gif"/></a>

    if(DaLiSuPodudarni(t1, t2)) return true;
    if(Trougao::Orijentacija(t1.tjeme1, t1.tjeme2, t1.tjeme3) != Trougao::Orijentacija(t2.tjeme1, t2.tjeme2, t2.tjeme3)) return false;
</font>    double a1, b1, c1, a2, b2, c2;
    a1 = duzina(t1.tjeme1, t1.tjeme2); b1 = duzina(t1.tjeme1, t1.tjeme3); c1 = duzina(t1.tjeme2, t1.tjeme3);
    a2 = duzina(t2.tjeme1, t2.tjeme2); b2 = duzina(t2.tjeme1, t2.tjeme3); c2 = duzina(t2.tjeme2, t2.tjeme3);
    if((porediDuzine(a1/a2, b1/b2) &amp;&amp; porediDuzine(a1/a2, c1/c2)) || (porediDuzine(a1/a2, b1/c2) &amp;&amp; porediDuzine(a1/a2, c1/b2))) return true;
    else if((porediDuzine(a1/b2, b1/a2) &amp;&amp; porediDuzine(a1/b2, c1/c2)) || (porediDuzine(a1/b2, b1/c2) &amp;&amp; porediDuzine(a1/b2, c1/a2))) return true;
    else if((porediDuzine(a1/c2, b1/a2) &amp;&amp; porediDuzine(a1/c2, b1/a2)) || (porediDuzine(a1/c2, b1/b2) &amp;&amp; porediDuzine(a1/c2, c1/a2))) return true;
    return false;
}


void unosTacke(Tacka &amp;t){
    std::cin &gt;&gt; t.first &gt;&gt; t.second;
}
typedef std::vector&lt;std::shared_ptr&lt;Trougao&gt;&gt; Trouglovi;
typedef std::vector&lt;std::pair&lt;std::shared_ptr&lt;Trougao&gt;, std::shared_ptr&lt;Trougao&gt;&gt;&gt; ParoviTrouglova;

int main (){
    std::cout &lt;&lt; "Koliko zelite kreirati trouglova: ";
    int n; std::cin &gt;&gt; n;
    Trouglovi trouglovi(n);
    for(int i(0); i &lt; n; i++){
        std::cout &lt;&lt; "Unesite podatke za " &lt;&lt; i+1 &lt;&lt; ". trougao (x1 y1 x2 y2 x3 y3): ";
        Tacka t1, t2, t3;
        unosTacke(t1);
        unosTacke(t2);
        unosTacke(t3);
        if(!(Trougao::Orijentacija(t1, t2, t3))) {
            std::cout &lt;&lt; "Nekorektne pozicije tjemena, ponovite unos!" &lt;&lt; std::endl;
            i--; continue;
        }
        auto tmp = std::shared_ptr&lt;Trougao&gt;(new Trougao(t1,t2,t3));
        trouglovi[i] = tmp;
        std::cout &lt;&lt; std::endl;
    }
    double delta_x, delta_y;
    std::cout &lt;&lt; "Unesite vektor translacije (dx dy): "; std::cin &gt;&gt; delta_x &gt;&gt; delta_y;
    double ugao, faktor;
    std::cout &lt;&lt; "Unesite ugao rotacije: "; std::cin &gt;&gt; ugao; std::cout &lt;&lt; "Unesite faktor skaliranja: "; std::cin &gt;&gt; faktor;
<a name="0"></a><font color="#FF0000"><a href="match826-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_3.gif"/></a>

    std::transform(trouglovi.begin(), trouglovi.end(), trouglovi.begin(), [delta_x, delta_y, ugao, faktor](std::shared_ptr&lt;Trougao&gt; T){ 
        (*T).Transliraj(delta_x, delta_y);
        (*T).Rotiraj(ugao);
        (*T).Skaliraj((*T).DajTjeme(1), faktor); return T;
    });
    std::sort(trouglovi.begin(), trouglovi.end(), [](std::shared_ptr&lt;Trougao&gt; T1, std::shared_ptr&lt;Trougao&gt; T2){ return (*T1).DajPovrsinu() &lt; (*T2).DajPovrsinu(); });
    std::cout &lt;&lt; std::endl;
</font>    std::for_each(trouglovi.begin(), trouglovi.end(), [](std::shared_ptr&lt;Trougao&gt; T){
        (*T).Ispisi();
        std::cout &lt;&lt; std::endl;
    });
<a name="6"></a><font color="#00FF00"><a href="match826-1.html#6" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_0.gif"/></a>

    auto T = std::max_element(trouglovi.begin(), trouglovi.end(), [](std::shared_ptr&lt;Trougao&gt; T1, std::shared_ptr&lt;Trougao&gt; T2){
        return (*T1).DajObim() &lt; (*T2).DajObim();
</font>    });
    std::cout &lt;&lt; std::endl;
    std::cout &lt;&lt; "Trougao s najmanjim obimom je: ";
    (**T).Ispisi();
    ParoviTrouglova identicni, podudarni, slicni;
    for(int i(0); i &lt; n-1; i++){
        for(int j = i+1; j &lt; n; j++){
            if(DaLiSuIdenticni(*(trouglovi[i]), *(trouglovi[j]))) {
                identicni.push_back(std::make_pair((trouglovi[i]), (trouglovi[j])));
                podudarni.push_back(std::make_pair((trouglovi[i]), (trouglovi[j])));
                slicni.push_back(std::make_pair((trouglovi[i]), (trouglovi[j])));
            }
            else if(DaLiSuPodudarni(*(trouglovi[i]), *(trouglovi[j]))){
                podudarni.push_back(std::make_pair((trouglovi[i]), (trouglovi[j])));
                slicni.push_back(std::make_pair((trouglovi[i]), (trouglovi[j])));
            }
            else if(DaLiSuSlicni(*(trouglovi[i]), *(trouglovi[j]))) slicni.push_back(std::make_pair((trouglovi[i]), (trouglovi[j])));
        }
    }
    std::cout &lt;&lt; "Identicni su: "; std::for_each(identicni.begin(), identicni.end(), [](std::pair&lt;std::shared_ptr&lt;Trougao&gt;, std::shared_ptr&lt;Trougao&gt;&gt; par){
        (*(par.first)).Ispisi(); std::cout &lt;&lt; " i "; (*(par.second)).Ispisi();
        std::cout &lt;&lt; std::endl;
    });
    std::cout &lt;&lt; "Podudarni su: "; std::for_each(podudarni.begin(), podudarni.end(), [](std::pair&lt;std::shared_ptr&lt;Trougao&gt;, std::shared_ptr&lt;Trougao&gt;&gt; par){
        (*(par.first)).Ispisi(); std::cout &lt;&lt; " i "; (*(par.second)).Ispisi();
        std::cout &lt;&lt; std::endl;
    });
    std::cout &lt;&lt; "Slicni su: "; std::for_each(slicni.begin(), slicni.end(), [](std::pair&lt;std::shared_ptr&lt;Trougao&gt;, std::shared_ptr&lt;Trougao&gt;&gt; par){
        (*(par.first)).Ispisi(); std::cout &lt;&lt; " i "; (*(par.second)).Ispisi();
        std::cout &lt;&lt; std::endl;
    });
	return 0;
}









</pre>
</body>
</html>
