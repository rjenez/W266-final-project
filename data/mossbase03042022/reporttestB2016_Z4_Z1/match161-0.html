<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z1/student1329.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z1/student1329.cpp<p></p><pre>
#include &lt;iostream&gt;
#include &lt;stdexcept&gt;
#include &lt;cmath&gt;
#include &lt;vector&gt;
#include &lt;memory&gt;
#include &lt;algorithm&gt;

<a name="2"></a><font color="#0000FF"><a href="match161-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_5.gif"/></a>

typedef std::pair&lt;double, double&gt; Tacka;

class Trougao {
    Tacka tacke[3];
    static double Stepen(double baza, int stepen);
    static bool Jednaki (double a, double b);
    static double Povrsina(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3);
    static double Udaljenost(const Tacka &amp;t1, const Tacka &amp;t2);
    static Tacka RotirajTacku(const Tacka &amp;t1, const Tacka &amp;t, double ugao);
    static Tacka ZamTacku(const Tacka &amp;t1, const Tacka &amp;t, double faktor);
    static bool JednakostTacaka(const Tacka &amp;t1, const Tacka &amp;t2);
public:
    Trougao(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3);
    void Postavi(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3);
</font>    void Postavi(int indeks, const Tacka &amp;t);
    static int Orijentacija(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3);
    Tacka DajTjeme(int indeks) const;
    double DajStranicu(int indeks) const;
    double DajUgao(int indeks) const;
    Tacka DajCentar() const;
    double DajObim() const;
    double DajPovrsinu() const;
    bool DaLiJePozitivnoOrijentiran() const;
    bool DaLiJeUnutra(const Tacka &amp;t) const;
    void Ispisi() const;
    void Transliraj(double delta_x, double delta_y);
    void Centriraj(const Tacka &amp;t);
    void Rotiraj(const Tacka &amp;t, double ugao);
    void Skaliraj(const Tacka &amp;t, double faktor);
    void Rotiraj(double ugao);
    void Skaliraj(double faktor);
    friend bool DaLiSuIdenticni(const Trougao &amp;t1, const Trougao &amp;t2);
<a name="1"></a><font color="#00FF00"><a href="match161-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_26.gif"/></a>

    friend bool DaLiSuPodudarni(const Trougao &amp;t1, const Trougao &amp;t2);
    friend bool DaLiSuSlicni(const Trougao &amp;t1, const Trougao &amp;t2);
};

double Trougao::Stepen (double baza, int stepen) {
    double proizvod(1);
    for(int i = 0; i &lt; abs(stepen); i++) proizvod *= baza;
    if(stepen &lt; 0) { proizvod = 1. / proizvod; return proizvod; }
    return proizvod;
}

bool Trougao::Jednaki (double a, double b) {
    return fabs(a - b) &lt; 1E-10;
}

double Trougao::Povrsina(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3) {
    return 0.5 * fabs(t1.first * (t2.second - t3.second) - t2.first * (t1.second - t3.second) + t3.first * (t1.second - t2.second));
}

double Trougao::Udaljenost(const Tacka &amp;t1, const Tacka &amp;t2) {
    return sqrt(Stepen(t1.first - t2.first, 2) + Stepen(t1.second - t2.second, 2));
}

Tacka Trougao::RotirajTacku(const Tacka &amp;t1, const Tacka &amp;t, double ugao) {
    return {t.first + (t1.first - t.first) * cos(ugao) - (t1.second - t.second) * sin(ugao), t.second + (t1.first - t.first) * sin(ugao) - (t1.second - t.second) * cos(ugao)};
}

Tacka Trougao::ZamTacku(const Tacka &amp;t1, const Tacka &amp;t, double faktor) {
    return {t.first + (t1.first - t.first) * faktor, t.second + (t1.second - t.second) * faktor};
}

bool Trougao::JednakostTacaka(const Tacka &amp;t1, const Tacka &amp;t2) { return Jednaki(t1.first, t2.first) &amp;&amp; Jednaki(t1.second, t2.second); }

Trougao::Trougao(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3) { Postavi(t1, t2, t3); }

inline void Trougao::Postavi(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3) {
    if(Orijentacija(t1, t2, t3) == 0) throw std::domain_error("Nekorektne pozicije tjemena");
    tacke[0] = t1; tacke[1] = t2; tacke[2] = t3;
}

inline void Trougao::Postavi(int indeks, const Tacka &amp;t1) {
    if(indeks &lt; 1 || indeks &gt; 3) throw std::range_error("Nekorektan indeks");
    auto pomocna(tacke[indeks - 1]); tacke[indeks - 1] = t1;
    if(Orijentacija(tacke[0], tacke[1], tacke[2]) == 0) { tacke[indeks - 1] = pomocna; throw std::domain_error("Nekorektne pozicije tjemena"); }
}

inline int Trougao::Orijentacija(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3) {
    double rez(t1.first * (t2.second - t3.second) - t2.first * (t1.second - t3.second) + t3.first * (t1.second - t2.second));
    if(rez &gt; 0) return 1; 
    else if(Trougao::Jednaki(rez, 0)) return 0;
    return -1;
}

inline void Trougao::Ispisi() const {
    std::cout &lt;&lt; "((" &lt;&lt; tacke[0].first &lt;&lt; "," &lt;&lt; tacke[0].second &lt;&lt; "),(" &lt;&lt; tacke[1].first &lt;&lt; "," &lt;&lt; tacke[1].second &lt;&lt; "),(" &lt;&lt; tacke[2].first &lt;&lt; "," &lt;&lt; tacke[2].second &lt;&lt; "))";
</font><a name="0"></a><font color="#FF0000"><a href="match161-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_61.gif"/></a>

}

inline Tacka Trougao::DajTjeme(int indeks) const { return tacke[indeks - 1]; }

inline double Trougao::DajStranicu(int indeks) const { 
    if(indeks == 1) return sqrt(Stepen(tacke[2].first - tacke[1].first, 2) + Stepen(tacke[2].second - tacke[1].second, 2));
    else if(indeks == 2) return sqrt(Stepen(tacke[2].first - tacke[0].first, 2) + Stepen(tacke[2].second - tacke[0].second, 2));
    return sqrt(Stepen(tacke[0].first - tacke[1].first, 2) + Stepen(tacke[0].second - tacke[1].second, 2)); 
}

inline double Trougao::DajUgao(int indeks) const {
    if(indeks == 1) return acos((Stepen(DajStranicu(1), 2) - Stepen(DajStranicu(2), 2) - Stepen(DajStranicu(3), 2)) / (-2 * DajStranicu(2) * DajStranicu(3)));
    else if(indeks == 2) return acos((Stepen(DajStranicu(2), 2) - Stepen(DajStranicu(1), 2) - Stepen(DajStranicu(3), 2)) / (-2 * DajStranicu(1) * DajStranicu(3)));
    return acos((Stepen(DajStranicu(3), 2) - Stepen(DajStranicu(1), 2) - Stepen(DajStranicu(2), 2)) / (-2 * DajStranicu(1) * DajStranicu(2)));
}

inline Tacka Trougao::DajCentar() const { return std::make_pair((tacke[0].first + tacke[1].first + tacke[2].first) / 3, (tacke[0].second + tacke[1].second + tacke[2].second) / 3); }

inline double Trougao::DajObim() const { return DajStranicu(1) + DajStranicu(2) + DajStranicu(3); }

inline double Trougao::DajPovrsinu() const { return 0.5 * fabs(tacke[0].first * (tacke[1].second - tacke[2].second) - tacke[1].first * (tacke[0].second - tacke[2].second) + tacke[2].first * (tacke[0].second - tacke[1].second)); }

inline bool Trougao::DaLiJePozitivnoOrijentiran() const { return Orijentacija(tacke[0], tacke[1], tacke[2]) &gt; 0; }

inline bool Trougao::DaLiJeUnutra(const Tacka &amp;t) const { return (Povrsina(tacke[0], tacke[1], t) + Povrsina(tacke[0], t, tacke[2]) + Povrsina(t, tacke[1], tacke[2])) &lt;= (*this).DajPovrsinu(); }

inline void Trougao::Transliraj(double delta_x, double delta_y) { tacke[0].first += delta_x; tacke[0].second += delta_y; tacke[1].first += delta_x; tacke[1].second += delta_y; tacke[2].first += delta_x; tacke[2].second += delta_y;}

inline void Trougao::Centriraj(const Tacka &amp;t) { Transliraj(t.first, t.second); }

inline void Trougao::Rotiraj(const Tacka &amp;t, double ugao) { 
    tacke[0] = RotirajTacku(tacke[0], t, ugao); tacke[1] = RotirajTacku(tacke[1], t, ugao); tacke[2] = RotirajTacku(tacke[2], t, ugao);
}

inline void Trougao::Skaliraj(const Tacka &amp;t, double faktor) {
    if(Jednaki(faktor, 0)) throw std::domain_error("Nekorektan faktor skaliranja");
    tacke[0] = ZamTacku(tacke[0], t, faktor); tacke[1] = ZamTacku(tacke[1], t, faktor); tacke[2] = ZamTacku(tacke[2], t, faktor);
}

inline void Trougao::Rotiraj(double ugao) { Rotiraj((*this).DajCentar(), ugao); }

inline void Trougao::Skaliraj(double faktor) { 
    try {
        Skaliraj((*this).DajCentar(), faktor);
    } catch(std::domain_error izuzetak) { throw izuzetak; } 
}

bool DaLiSuIdenticni(const Trougao &amp;t1, const Trougao &amp;t2) {
    int brojac(0);
    
    for(int i = 1; i &lt;= 3; i++) {
        for(int j = 1; j &lt;= 3; j++)
            if(Trougao::JednakostTacaka(t1.DajTjeme(i), t2.DajTjeme(j))) brojac++;
    }
    
    if(brojac == 3) return true;
    return false;
}

bool DaLiSuPodudarni(const Trougao &amp;t1, const Trougao &amp;t2) {
    int brojac1(0), brojac2(0);
    
    for(int i = 1; i &lt;= 3; i++) {
        for(int j = 1; j &lt;= 3; j++) {
            if(Trougao::Jednaki(t1.DajStranicu(i), t2.DajStranicu(j))) brojac1++;
            if(Trougao::Jednaki(t1.DajUgao(i), t2.DajUgao(j))) brojac2++;
        }
    }
    
    if(brojac1 &gt; 2 &amp;&amp; brojac2 &gt; 2) return true;
    return false;
}

bool DaLiSuSlicni(const Trougao &amp;t1, const Trougao &amp;t2) {
    int brojac(0);
    
    for(int i = 1; i &lt;= 3; i++) {
        for(int j = 1; j &lt;= 3; j++)
            if(Trougao::Jednaki(t1.DajUgao(i), t2.DajUgao(j))) brojac++;
    }
    
    if(brojac &gt; 2 &amp;&amp; Trougao::Jednaki(t1.DajStranicu(1) / t2.DajStranicu(1), t1.DajStranicu(2) / t2.DajStranicu(2)) &amp;&amp; Trougao::Jednaki(t1.DajStranicu(1) / t2.DajStranicu(1), t1.DajStranicu(2) / t2.DajStranicu(2))) return true;
    return false;
}

int main() {
    
    std::cout &lt;&lt; "Koliko zelite kreirati trouglova: ";
    int n;
    std::cin &gt;&gt; n;
    
    std::vector&lt;std::shared_ptr&lt;Trougao&gt;&gt; v(n);
    for(int i = 0; i &lt; n; i++) {
        std::cout &lt;&lt; "Unesite podatke za  " &lt;&lt; i + 1 &lt;&lt; ". trougao (x1 y1 x2 y2 x3 y3): ";
        double x1, x2, x3, y1, y2, y3;
        std::cin &gt;&gt; x1 &gt;&gt; y1 &gt;&gt; x2 &gt;&gt; y2 &gt;&gt; x3 &gt;&gt; y3;
        Tacka t1({x1, y1});
        Tacka t2({x2, y2});
        Tacka t3({x3, y3});
        try {
            v[i] = std::make_shared&lt;Trougao&gt;(t1, t2, t3);
        }
        catch(std::domain_error izuzetak) {
            std::cout &lt;&lt; izuzetak.what() &lt;&lt; std::endl;
            i--;
        }
    }
    
    std::cout &lt;&lt; "Unesite vektor translacije (dx dy): ";
    double d_x, d_y;
    std::cin &gt;&gt; d_x &gt;&gt; d_y;
    
    std::cout &lt;&lt; "Unesite ugao rotacije: ";
    double ugao;
    std::cin &gt;&gt; ugao;
    
    std::cout &lt;&lt; "Unesite faktor skaliranja: ";
    double faktor;
    std::cin &gt;&gt; faktor;
    
    std::cout &lt;&lt; "Trouglovi nakon obavljenih transformacija:" &lt;&lt; std::endl;
    std::transform(v.begin(), v.end(), v.begin(), [d_x, d_y, ugao, faktor](const std::shared_ptr&lt;Trougao&gt; t1) {
        (*t1).Transliraj(d_x, d_y);
        (*t1).Rotiraj(ugao);
        (*t1).Skaliraj((*t1).DajTjeme(1), faktor);
        return t1;
    });
    
    std::sort(v.begin(), v.end(), [](const std::shared_ptr&lt;Trougao&gt; t1,const std::shared_ptr&lt;Trougao&gt; t2) {return (*t1).DajObim() &lt; (*t2).DajObim();});
    
    std::for_each(v.begin(), v.end(), [](std::shared_ptr&lt;Trougao&gt; t) {
        (*t).Ispisi(); std::cout &lt;&lt; std::endl;
    });
    
    std::cout &lt;&lt; "Trougao sa najmanjim obimom: ";
    auto pok(std::min_element(v.begin(), v.end(), [](const std::shared_ptr&lt;Trougao&gt; t1,const std::shared_ptr&lt;Trougao&gt; t2) {return (*t1).DajObim() &lt; (*t2).DajObim();}));
    if(n != 0) { (*pok)-&gt;Ispisi(); }
</font>    
    return 0;
}</pre>
</body>
</html>
