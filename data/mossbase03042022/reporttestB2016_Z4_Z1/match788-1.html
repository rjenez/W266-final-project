<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z1/student8560.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z1/student1976.cpp<p></p><pre>
/B 2016/2017, ZadaÄ‡a 4, Zadatak 1
//Napomena: testovi ce biti dostupni dan pred rok!
#include &lt;iostream&gt;
#include &lt;stdexcept&gt;
#include &lt;cmath&gt;
#include &lt;vector&gt;
#include &lt;memory&gt;
#include &lt;algorithm&gt;
typedef std::pair&lt;double, double&gt; Tacka;
const double eps(1E-10);

class Trougao {
    Tacka T1, T2, T3;
   
    static bool Provjera(int index) {
        if(index &lt; 1 || index &gt; 3) 
            return false;
        return true;
    } 
    
    bool DaLiJeIstoOrjenisano(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3) const{
        if(Orijentacija(t1, t2, t3) == 1) return true;
        return false;
    }
    
    static bool IsteStranice(const Trougao &amp;t1, const Trougao &amp;t2) {
        int iste_stranice(0);
        for(int i = 1; i &lt;= 3; i++) {
            for(int j = 1; j &lt;= 3; j++) 
                if(std::fabs(t1.DajStranicu(i) - t2.DajStranicu(j)) &lt;= eps * std::fabs(t1.DajStranicu(i) + std::fabs(t2.DajStranicu(j)))) {
                    iste_stranice++;
                    break;
                }
        }
        if(iste_stranice == 3) return true;
        return false;
    }

public:

    Trougao(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3) { Postavi(t1, t2, t3); }
    
    void Postavi(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3) {
        if(Orijentacija(t1, t2, t3) == 0) throw std::domain_error("Nekorektne pozicije tjemena");
        T1 = t1; T2 = t2; T3 = t3;
    }
    
    void Postavi(int indeks, const Tacka &amp;t) {
<a name="6"></a><font color="#00FF00"><a href="match788-0.html#6" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_0.gif"/></a>

        if(Provjera(indeks) == false) throw std::range_error("Nekorektan indeks");
        if(indeks == 1) T1 = t;
        if(indeks == 2) T2 = t;
        if(indeks == 3) T3 = t;
</font>        if(Orijentacija(T1, T2, T3) == 0) throw std::domain_error("Nekorektne pozicije tjemena");
    }
    
    static int Orijentacija(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3) {
        double o(t1.first*(t2.second - t3.second) + t2.first*(t3.second - t1.second) + t3.first*(t1.second - t2.second));
        if(o &gt; 0) return 1;
        else if(o &lt; 0) return -1;
        else return 0;
    }
    
    Tacka DajTjeme(int indeks) const {
        if(Provjera(indeks) == false) throw std::range_error("Nekorektan indeks");
        if(indeks == 1) return T1;
        else if(indeks == 2) return T2;
        else return T3;
    }
    
    double DajStranicu(int indeks) const {
<a name="7"></a><font color="#0000FF"><a href="match788-0.html#7" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_0.gif"/></a>

        if(Provjera(indeks) == false) throw std::range_error("Nekorektan indeks");
        if(indeks == 1) return sqrt((T2.first - T3.first)*(T2.first - T3.first) + (T2.second - T3.second)*(T2.second - T3.second));
</font>        else if(indeks == 2) return sqrt((T1.first - T3.first)*(T1.first - T3.first) + (T1.second - T3.second)*(T1.second - T3.second));
<a name="8"></a><font color="#00FFFF"><a href="match788-0.html#8" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_0.gif"/></a>

        else return sqrt((T2.first - T1.first)*(T2.first - T1.first) + (T2.second - T1.second)*(T2.second - T1.second));
    }
    
    double DajUgao(int indeks) const {
        if(Provjera(indeks) == false) throw std::range_error("Nekorektan indeks");
</font>        double a, b, c;
        a = double(DajStranicu(2)*DajStranicu(2) + DajStranicu(3)*DajStranicu(3) - DajStranicu(1)*DajStranicu(1)) / (2*DajStranicu(2)*DajStranicu(3));
        b = double(DajStranicu(1)*DajStranicu(1) + DajStranicu(3)*DajStranicu(3) - DajStranicu(2)*DajStranicu(2)) / (2*DajStranicu(1)*DajStranicu(3));
        c = double(DajStranicu(1)*DajStranicu(1) + DajStranicu(2)*DajStranicu(2) - DajStranicu(3)*DajStranicu(3)) / (2*DajStranicu(1)*DajStranicu(2));
        if(indeks == 1) return acos(a);
        else if(indeks == 2) return acos(b);
        else return acos(c);
    }
    
<a name="1"></a><font color="#00FF00"><a href="match788-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_1.gif"/></a>

    Tacka DajCentar() const {
        Tacka t;
        t.first = (T1.first + T2.first + T3.first)/3.;
        t.second = (T1.second + T2.second + T3.second)/3.;
        return t;
    }
    
    double DajObim() const {
</font>        return (DajStranicu(1) + DajStranicu(2) + DajStranicu(3));
    }
    double DajPovrsinu() const {
<a name="5"></a><font color="#FF0000"><a href="match788-0.html#5" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_1.gif"/></a>

        double P = 1./2 * abs(T1.first * (T2.second - T3.second) + T2.first * (T3.second - T1.second) + T3.first * (T1.second - T2.second));  
        return P;
    }
    
    bool DaLiJePozitivnoOrijentiran() const {
        if (Orijentacija(T1, T2, T3) == 1) return true;
</font><a name="3"></a><font color="#00FFFF"><a href="match788-0.html#3" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_1.gif"/></a>

        return false;
    }
    
    bool DaLiJeUnutra(const Tacka &amp;t) const {
        if(DaLiJeIstoOrjenisano(T1, T2, T3) == DaLiJeIstoOrjenisano(T1, T2, t) == DaLiJeIstoOrjenisano(T2, T3, t) == DaLiJeIstoOrjenisano(T3, T1, t)) 
            return true;
</font>        return false;
    }
    
    void Ispisi() const {
        std::cout &lt;&lt; "((" &lt;&lt; T1.first &lt;&lt; "," &lt;&lt; T1.second &lt;&lt;"),(" &lt;&lt; T2.first &lt;&lt;"," &lt;&lt; T2.second &lt;&lt;"),(" &lt;&lt; T3.first &lt;&lt;"," &lt;&lt; T3.second &lt;&lt;"))";
    }
    
    void Transliraj(double delta_x, double delta_y) {
        T1.first += delta_x; T2.first += delta_x; T3.first += delta_x;
        T1.second += delta_y; T2.second += delta_y; T3.second += delta_y;
    }
    
    void Centriraj(const Tacka &amp;t) {
        double delta_x = (t.first * 3 - (T1.first + T2.first + T3.first))/3.;
        double delta_y = (t.second * 3 - (T1.second + T2.second + T3.second))/3.;
        T1.first += delta_x; T2.first += delta_x; T3.first += delta_x;
        T1.second += delta_y; T2.second += delta_y; T3.second += delta_y;
    }
    
    void Rotiraj(const Tacka &amp;t, double ugao) {
        T1.first = t.first + (T1.first - t.first)*cos(ugao) - (T1.second - t.second)*sin(ugao);
        T1.second = t.second + (T1.first - t.first)*sin(ugao) + (T1.second - t.second)*cos(ugao);
        T2.first = t.first + (T2.first - t.first)*cos(ugao) - (T2.second - t.second)*sin(ugao);
        T2.second = t.second + (T2.first - t.first)*sin(ugao) + (T2.second - t.second)*cos(ugao);
        T3.first = t.first + (T3.first - t.first)*cos(ugao) - (T3.second - t.second)*sin(ugao);
        T3.second = t.second + (T3.first - t.first)*sin(ugao) + (T3.second - t.second)*cos(ugao);
    }
    
    void Skaliraj(const Tacka &amp;t, double faktor) {
        if(faktor - 0 &lt; eps) throw std::domain_error("Nekorektan faktor skaliranja");
        T1.first = t.first + faktor*(T1.first - t.first);
        T1.second = t.second + faktor*(T1.second - t.second);
        T2.first = t.first + faktor*(T2.first - t.first);
        T2.second = t.second + faktor*(T2.second - t.second);
        T3.first = t.first + faktor*(T3.first - t.first);
        T3.second = t.second + faktor*(T3.second - t.second);
    }
    
    void Rotiraj(double ugao) {
        Tacka t = DajCentar();
        T1.first = t.first + (T1.first - t.first)*cos(ugao) - (T1.second - t.second)*sin(ugao);
        T1.second = t.second + (T1.first - t.first)*sin(ugao) + (T1.second - t.second)*cos(ugao);
        T2.first = t.first + (T2.first - t.first)*cos(ugao) - (T2.second - t.second)*sin(ugao);
        T2.second = t.second + (T2.first - t.first)*sin(ugao) + (T2.second - t.second)*cos(ugao);
        T3.first = t.first + (T3.first - t.first)*cos(ugao) - (T3.second - t.second)*sin(ugao);
        T3.second = t.second + (T3.first - t.first)*sin(ugao) + (T3.second - t.second)*cos(ugao);
    }
    
    void Skaliraj(double faktor) {
        if(faktor - 0 &lt; eps) throw std::domain_error("Nekorektan faktor skaliranja");
        Tacka t = DajCentar();
        T1.first = t.first + faktor*(T1.first - t.first);
        T1.second = t.second + faktor*(T1.second - t.first);
        T2.first = t.first + faktor*(T2.first - t.first);
        T2.second = t.second + faktor*(T2.second - t.first);
        T3.first = t.first + faktor*(T3.first - t.first);
        T3.second = t.second + faktor*(T3.second - t.first);
    }
    friend bool DaLiSuIdenticni(const Trougao &amp;t1, const Trougao &amp;t2);
    friend bool DaLiSuPodudarni(const Trougao &amp;t1, const Trougao &amp;t2);
    friend bool DaLiSuSlicni(const Trougao &amp;t1, const Trougao &amp;t2);
};

bool DaLiSuIdenticni(const Trougao &amp;t1, const Trougao &amp;t2) {
    std::vector&lt;Tacka&gt; trougao1 {t1.T1, t1.T2, t1.T3};
    std::vector&lt;Tacka&gt; trougao2 {t2.T1, t2.T2, t2.T3};
    int iste_tacke(0);
    for(auto x: trougao1) {
        for(auto y: trougao2)
            if(std::fabs(x.first - y.first) &lt;= eps * (std::fabs(x.first) + std::fabs(y.first)) &amp;&amp; std::fabs(x.second - y.second) &lt;= eps * (std::fabs(x.second) + std::fabs(y.second))) { 
                iste_tacke++;
                break;
            }
    }
    if(iste_tacke == 3) return true;
    return false;
}

bool DaLiSuPodudarni(const Trougao &amp;t1, const Trougao &amp;t2) {
    if(Trougao::Orijentacija(t1.T1, t1.T2, t1.T3) != Trougao::Orijentacija(t2.T1, t2.T2, t2.T3))
        if(Trougao::IsteStranice(t1, t2)) return true;
    return false;
}

int main ()
{
    std::cout &lt;&lt; "Koliko zelite kreirati trouglova: ";
    int n;
    std::cin &gt;&gt; n;
    std::vector&lt;std::shared_ptr&lt;Trougao&gt;&gt; v;
    for(int i = 0; i &lt; n; i++) {
        Tacka t1, t2, t3;
        for(;;){
            std::cout &lt;&lt; "Unesite podatke za "&lt;&lt; i + 1 &lt;&lt; ". trougao (x1 y1 x2 y2 x3 y3): ";
            std::cin &gt;&gt; t1.first &gt;&gt; t1.second;
            std::cin &gt;&gt; t2.first &gt;&gt; t2.second;
            std::cin &gt;&gt; t3.first &gt;&gt; t3.second;
            try{
                Trougao T(t1, t2, t3);
                break;
            } catch(std::domain_error e){
                std::cout &lt;&lt; e.what() &lt;&lt; ", ponovite unos!" &lt;&lt; std::endl;
            }
        }
        std::shared_ptr&lt;Trougao&gt; pok = std::make_shared&lt;Trougao&gt; (t1, t2, t3);
        v.push_back(pok);
    }
<a name="0"></a><font color="#FF0000"><a href="match788-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_2.gif"/></a>

try {
    std::cout &lt;&lt; "Unesite vektor translacije (dx dy): ";
    double delta_x, delta_y;
    std::cin &gt;&gt; delta_x &gt;&gt; delta_y;
    std::cout &lt;&lt; "Unesite ugao rotacije: ";
    double ugao;
    std::cin &gt;&gt; ugao;
    std::cout &lt;&lt; "Unesite faktor skaliranja: ";
    double faktor;
    std::cin &gt;&gt; faktor;
    
    std::cout &lt;&lt; "Trouglovi nakon obavljenih transformacija: ";
</font>    std::transform(v.begin(), v.end(), v.begin(), [delta_x, delta_y](std::shared_ptr&lt;Trougao&gt; s) -&gt; std::shared_ptr&lt;Trougao&gt; {
        s -&gt; Transliraj(delta_x, delta_y); 
        return s;
    });
    std::transform(v.begin(), v.end(), v.begin(), [ugao] (std::shared_ptr&lt;Trougao&gt; s) -&gt; std::shared_ptr&lt;Trougao&gt; {
        s -&gt; Rotiraj(ugao);
        return s;
    });
    std::transform(v.begin(), v.end(), v.begin(), [faktor] (std::shared_ptr&lt;Trougao&gt; s) -&gt; std::shared_ptr&lt;Trougao&gt; {
        s -&gt; Skaliraj(s -&gt; DajTjeme(1), faktor);
        return s;
    });

<a name="2"></a><font color="#0000FF"><a href="match788-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_1.gif"/></a>

    std::sort(v.begin(), v.end(), [](std::shared_ptr&lt;Trougao&gt; p1, std::shared_ptr&lt;Trougao&gt; p2) {
        return p1 -&gt; DajPovrsinu() &lt; p2 -&gt; DajPovrsinu(); });
        
    std::for_each(v.begin(), v.end(), [](std::shared_ptr&lt;Trougao&gt; p) { std::cout &lt;&lt; std::endl;
</font>        return p -&gt; Ispisi(); });
    
    std::cout &lt;&lt; "\nTrougao sa najmanjim obimom: ";
    auto trg = *std::min_element(v.begin(), v.end(), [](std::shared_ptr&lt;Trougao&gt; p1, std::shared_ptr&lt;Trougao&gt; p2) {
        return p1 -&gt; DajObim() &lt; p2 -&gt; DajObim(); });
    for(int i = 0; i &lt; v.size(); i++){
        if(v[i] == trg) v[i] -&gt; Ispisi();
    }
    bool identicni(false), podudarni(false);
    int br1(0), br2(0);
    for(int i = 0; i &lt; n; i++){
        for(int j = i + 1; j &lt; n; j++){
            if(DaLiSuIdenticni(*v[i], *v[j])) {
                identicni = true;
                if(br1 == 0) std::cout &lt;&lt; "\nParovi identicnih trouglova: \n";
                v[i] -&gt; Ispisi(); std::cout &lt;&lt; " i "; v[j] -&gt; Ispisi();
                std::cout &lt;&lt; std::endl;
                br1++;
            }
        }
    } 
    if(identicni == false) std::cout &lt;&lt; "\nNema identicnih trouglova!";
    
    for(int i = 0; i &lt; n; i++) {
        for(int j = i + 1; j &lt; n; j++) {
            if(DaLiSuPodudarni(*v[i], *v[j])) {
                podudarni = true;
                if(br2 == 0) std::cout &lt;&lt; "Parovi podudarnih trouglova: \n";
                v[i] -&gt; Ispisi(); std::cout &lt;&lt; " i "; v[j] -&gt; Ispisi();
                std::cout &lt;&lt; std::endl;
                br2++;
            }
        }
    }
    
    if(podudarni == false) std::cout &lt;&lt; "\nNema podudarnih trouglova!";
    
/*    for(int i = 0; i &lt; n; i++) {
        for(int j = i + 1; j &lt; n; j++) {
            if(DaLiSuSlicni(*v[i], *v[j])) {
                slicni = true;
                if(br3 == 0) std::cout &lt;&lt; "Parovi slicnih trouglova: \n";
                v[i] -&gt; Ispisi(); std::cout &lt;&lt; " i "; v[j] -&gt; Ispisi();
                std::cout &lt;&lt; std::endl;
                br3++;
            }
        }
    }
    if(slicni == false) std::cout &lt;&lt; "\nNema slicnih trouglova!";
*/    
<a name="4"></a><font color="#FF00FF"><a href="match788-0.html#4" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_1.gif"/></a>

} catch(std::domain_error e) {
    std::cout &lt;&lt; e.what() &lt;&lt; std::endl;
} catch(std::range_error e) {
    std::cout &lt;&lt; e.what() &lt;&lt; std::endl;
}
	return 0;
</font>}</pre>
</body>
</html>
