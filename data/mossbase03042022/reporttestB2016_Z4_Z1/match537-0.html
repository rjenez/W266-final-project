<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z1/student1317.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z1/student1317.cpp<p></p><pre>
<a name="6"></a><font color="#00FF00"><a href="match537-1.html#6" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_0.gif"/></a>

/B 2016/2017, ZadaÄ‡a 4, Zadatak 1
//Napomena: testovi ce biti dostupni dan pred rok!
#include &lt;iostream&gt;
#include &lt;vector&gt;
#include &lt;memory&gt;
#include &lt;utility&gt;
#include &lt;stdexcept&gt;
#include &lt;cmath&gt;
#include &lt;algorithm&gt;

using namespace std;

typedef pair&lt;double, double&gt; Tacka;
</font>
class Trougao
{
    Tacka tjeme_1, tjeme_2, tjeme_3;
    static bool JesuLiJednaki(double x, double y, double Eps = 1e-10) 
    {  }
    static double RacunajIzraz(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3)
    { return t1.first*(t2.second-t3.second)-t2.first*(t1.second-t3.second)+t3.first*(t1.second-t2.second); }
    
    public:
        Trougao(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3) { Postavi(t1, t2, t3); }
        void Postavi(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3);
        void Postavi(int indeks, const Tacka &amp;t);
        static int Orijentacija(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3);
        Tacka DajTjeme(int indeks) const;
        double DajStranicu(int indeks) const;
        double DajUgao(int indeks) const;
        Tacka DajCentar() const { return Tacka(((tjeme_1.first+tjeme_2.first+tjeme_3.first)/3.), ((tjeme_1.second+tjeme_2.second+tjeme_3.second)/3.)); }
        double DajObim() const { return DajStranicu(1)+DajStranicu(2)+DajStranicu(3); }
        double DajPovrsinu() const { return (fabs(RacunajIzraz(tjeme_1, tjeme_2, tjeme_3))/2.); }
        bool DaLiJePozitivnoOrijentiran() const { if(Orijentacija(tjeme_1, tjeme_2, tjeme_3)==1) return true; return false; }
        bool DaLiJeUnutra(const Tacka &amp;t) const;
        void Ispisi() const { cout &lt;&lt; "((" &lt;&lt; tjeme_1.first &lt;&lt; "," &lt;&lt; tjeme_1.second &lt;&lt; "),(" &lt;&lt; tjeme_2.first &lt;&lt; "," &lt;&lt; tjeme_2.second &lt;&lt; "),(" &lt;&lt; tjeme_3.first &lt;&lt; "," &lt;&lt; tjeme_3.second &lt;&lt; "))"; }
        void Transliraj(double delta_x, double delta_y);
        void Centriraj(const Tacka &amp;t);
        void Rotiraj(const Tacka &amp;t, double ugao);
        void Skaliraj(const Tacka &amp;t, double faktor);
        void Rotiraj(double ugao);
        void Skaliraj(double faktor);
        friend bool DaLiSuIdenticni(const Trougao &amp;t1, const Trougao &amp;t2);
        friend bool DaLiSuPodudarni(const Trougao &amp;t1, const Trougao &amp;t2);
        friend bool DaLiSuSlicni(const Trougao &amp;t1, const Trougao &amp;t2);
};

<a name="3"></a><font color="#00FFFF"><a href="match537-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_1.gif"/></a>

void Trougao::Postavi(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3)
{
    if(Orijentacija(t1, t2, t3)==0) throw domain_error("Nekorektne pozicije tjemena");
    tjeme_1=t1; tjeme_2=t2; tjeme_3=t3;
}

void Trougao::Postavi(int indeks, const Tacka &amp;t)
</font><a name="4"></a><font color="#FF00FF"><a href="match537-1.html#4" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_1.gif"/></a>

{
    if(indeks!=1 &amp;&amp; indeks!=2 &amp;&amp; indeks!=3) throw range_error("Nekorektan indeks");
    if(indeks==1) tjeme_1=t;
</font>    else if(indeks==2) tjeme_2=t;
    else tjeme_3=t;
}

// Funkcija metoda Orijentacija testira kako su orijentirane tri tacke koje
// se zadaju putem parametara i vraca 1 ako su pozitivno orijentirane,
// -1 ako su negativno orijentirane i 0 ako su kolinearne
int Trougao::Orijentacija(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3)
{
    if(RacunajIzraz(t1, t2, t3)&gt;0) return 1;
    else if(RacunajIzraz(t1, t2, t3)&lt;0) return -1;
    return 0;
}

<a name="5"></a><font color="#FF0000"><a href="match537-1.html#5" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_1.gif"/></a>

Tacka Trougao::DajTjeme(int indeks) const
{
    if(indeks!=1 &amp;&amp; indeks!=2 &amp;&amp; indeks!=3) throw range_error("Nekorektan indeks");
    if(indeks==1) return tjeme_1;
</font><a name="1"></a><font color="#00FF00"><a href="match537-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_2.gif"/></a>

    else if(indeks==2) return tjeme_2;
    return tjeme_3;
}

double Trougao::DajStranicu(int indeks) const
{
    if(indeks!=1 &amp;&amp; indeks!=2 &amp;&amp; indeks!=3) throw range_error("Nekorektan indeks");
    if(indeks==1) return sqrt((tjeme_2.first-tjeme_3.first)*(tjeme_2.first-tjeme_3.first)+(tjeme_2.second-tjeme_3.second)*(tjeme_2.second-tjeme_3.second));
</font><a name="0"></a><font color="#FF0000"><a href="match537-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_2.gif"/></a>

    else if(indeks==2) return sqrt((tjeme_1.first-tjeme_3.first)*(tjeme_1.first-tjeme_3.first)+(tjeme_1.second-tjeme_3.second)*(tjeme_1.second-tjeme_3.second));
    return sqrt((tjeme_1.first-tjeme_2.first)*(tjeme_1.first-tjeme_2.first)+(tjeme_1.second-tjeme_2.second)*(tjeme_1.second-tjeme_2.second));
}

double Trougao::DajUgao(int indeks) const
{
    if(indeks!=1 &amp;&amp; indeks!=2 &amp;&amp; indeks!=3) throw range_error("Nekorektan indeks");
</font>    if(indeks==1) return acos((DajStranicu(3)*DajStranicu(3)+DajStranicu(2)*DajStranicu(2)-DajStranicu(1)*DajStranicu(1))/(2*DajStranicu(3)*DajStranicu(2)));
<a name="7"></a><font color="#0000FF"><a href="match537-1.html#7" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_0.gif"/></a>

    else if(indeks==2) return acos((DajStranicu(3)*DajStranicu(3)+DajStranicu(1)*DajStranicu(1)-DajStranicu(2)*DajStranicu(2))/(2*DajStranicu(3)*DajStranicu(1)));
    return acos((DajStranicu(1)*DajStranicu(1)+DajStranicu(2)*DajStranicu(2)-DajStranicu(3)*DajStranicu(3))/(2*DajStranicu(1)*DajStranicu(2)));
</font>}

<a name="2"></a><font color="#0000FF"><a href="match537-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_1.gif"/></a>

bool Trougao::DaLiJeUnutra(const Tacka &amp;t) const
{
    if(Orijentacija(tjeme_1, tjeme_2, t)==Orijentacija(tjeme_1, tjeme_2, tjeme_3) &amp;&amp; Orijentacija(tjeme_2, tjeme_3, t)==Orijentacija(tjeme_1, tjeme_2, tjeme_3) &amp;&amp; Orijentacija(tjeme_3, tjeme_1, t)==Orijentacija(tjeme_1, tjeme_2, tjeme_3)) return true;
</font>    return false;
}

void Trougao::Transliraj(double delta_x, double delta_y)
{
    tjeme_1.first+=delta_x;
    tjeme_1.second+=delta_y;
    tjeme_2.first+=delta_x;
<a name="8"></a><font color="#00FFFF"><a href="match537-1.html#8" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_0.gif"/></a>

    tjeme_2.second+=delta_y;
    tjeme_3.first+=delta_x;
    tjeme_3.second+=delta_y;
}

// Funkcija metoda Centriraj translira trougao tako da se nakon nje
// centar trougla nadje u taci koja je zadana kao parametar
void Trougao::Centriraj(const Tacka &amp;t)
{
    Tacka centar(DajCentar());
</font>    double delta_x(t.first-centar.first), delta_y(t.second-centar.second);
    Transliraj(delta_x, delta_y);
}

// Funkcija metoda Rotiraj rotira trougao oko zadane tacke za zadani ugao
void Trougao::Rotiraj(const Tacka &amp;t, double ugao)
{
    double x1(tjeme_1.first), x2(tjeme_2.first), x3(tjeme_3.first), y1(tjeme_1.second), y2(tjeme_2.second), y3(tjeme_3.second);
    
    tjeme_1.first=t.first+(x1-t.first)*cos(ugao)-(y1-t.second)*sin(ugao);
    tjeme_1.second=t.second+(x1-t.first)*sin(ugao)+(y1-t.second)*cos(ugao);
    
    tjeme_2.first=t.first+(x2-t.first)*cos(ugao)-(y2-t.second)*sin(ugao);
    tjeme_2.second=t.second+(x2-t.first)*sin(ugao)+(y2-t.second)*cos(ugao);
    
    tjeme_3.first=t.first+(x3-t.first)*cos(ugao)-(y3-t.second)*sin(ugao);
    tjeme_3.second=t.second+(x3-t.first)*sin(ugao)+(y3-t.second)*cos(ugao);
}

// Funkcija metoda Skaliraj skalira trougao tako da mu se sve stranice produze sa zadanim faktorom
void Trougao::Skaliraj(const Tacka &amp;t, double faktor)
{
    if(JesuLiJednaki(faktor, 0.0)) throw domain_error("Nekorektan faktor skaliranja");
    tjeme_1.first=t.first+(tjeme_1.first-t.first)*faktor;
    tjeme_2.first=t.first+(tjeme_2.first-t.first)*faktor;
    tjeme_3.first=t.first+(tjeme_3.first-t.first)*faktor;
    
    tjeme_1.second=t.second+(tjeme_1.second-t.second)*faktor;
    tjeme_2.second=t.second+(tjeme_2.second-t.second)*faktor;
    tjeme_3.second=t.second+(tjeme_3.second-t.second)*faktor;
}

// Funkcija metoda Rotiraj rotira trougao oko centra trougla za zadani ugao
void Trougao::Rotiraj(double ugao)
{
    Tacka centar(DajCentar());
    Rotiraj(centar, ugao);
}

void Trougao::Skaliraj(double faktor)
{
    Tacka centar(DajCentar());
    Skaliraj(centar, faktor);
}

bool DaLiSuIdenticni(const Trougao &amp;t1, const Trougao &amp;t2)
{
    if((t1.tjeme_1==t2.tjeme_1 || t1.tjeme_1==t2.tjeme_2 || t1.tjeme_1==t2.tjeme_3) &amp;&amp; (t1.tjeme_2==t2.tjeme_1 || t1.tjeme_2==t2.tjeme_2 || t1.tjeme_2==t2.tjeme_3) &amp;&amp; (t1.tjeme_3==t2.tjeme_1 || t1.tjeme_3==t2.tjeme_2 || t1.tjeme_3==t2.tjeme_3)) return true;
    
    return false;
}

bool DaLiSuPodudarni(const Trougao &amp;t1, const Trougao &amp;t2)
{
    double a1(t1.DajStranicu(1)), b1(t1.DajStranicu(3)), c1(t1.DajStranicu(2));
    double a2(t2.DajStranicu(1)), b2(t2.DajStranicu(3)), c2(t2.DajStranicu(2));
    if(DaLiSuIdenticni(t1, t2)) return true;
    if(((Trougao::JesuLiJednaki(a1, a2) &amp;&amp; Trougao::JesuLiJednaki(b1, c2) &amp;&amp; Trougao::JesuLiJednaki(c1, b2)) || (Trougao::JesuLiJednaki(b1, b2) &amp;&amp; Trougao::JesuLiJednaki(a1, c2) &amp;&amp; Trougao::JesuLiJednaki(c1, a2)) || (Trougao::JesuLiJednaki(c1, c2) &amp;&amp; Trougao::JesuLiJednaki(b1, a2) &amp;&amp; Trougao::JesuLiJednaki(a1, b2)))  &amp;&amp; Trougao::Orijentacija(t1.tjeme_1, t1.tjeme_2, t1.tjeme_3)!=Trougao::Orijentacija(t2.tjeme_1, t2.tjeme_2, t2.tjeme_3)) return true;
    else if(Trougao::JesuLiJednaki(a1, b2) &amp;&amp; Trougao::JesuLiJednaki(b1, c2) &amp;&amp; Trougao::JesuLiJednaki(c1, a2)) return true;
    
    return false;
}

bool DaLiSuSlicni(const Trougao &amp;t1, const Trougao &amp;t2)
{
    double a1(t1.DajStranicu(1)), b1(t1.DajStranicu(3)), c1(t1.DajStranicu(2));
    double a2(t2.DajStranicu(1)), b2(t2.DajStranicu(3)), c2(t2.DajStranicu(2));
    if(DaLiSuPodudarni(t1, t2)) return true;
    if(((Trougao::JesuLiJednaki(a1/a2, b1/c2) &amp;&amp; Trougao::JesuLiJednaki(a1/a2, c1/b2)) || (Trougao::JesuLiJednaki(b1/b2, c1/a2) &amp;&amp; Trougao::JesuLiJednaki(b1/b2, a1/c2)) || (Trougao::JesuLiJednaki(c1/c2, b1/a2) &amp;&amp; Trougao::JesuLiJednaki(c1/c2, a1/b2))) &amp;&amp; Trougao::Orijentacija(t1.tjeme_1, t1.tjeme_2, t1.tjeme_3)!=Trougao::Orijentacija(t2.tjeme_1, t2.tjeme_2, t2.tjeme_3)) return true;
    return false;
}

int main ()
{
	int n;
	
	cout &lt;&lt; "Koliko zelite kreirati trouglova: ";
	cin &gt;&gt; n;
	vector&lt;shared_ptr&lt;Trougao&gt;&gt; trouglovi(n);
	
    try
    {
        for(int i=0; i&lt;n; i++)
        {
            cout &lt;&lt; "Unesite podatke za " &lt;&lt; i+1 &lt;&lt; ". trougao (x1 y1 x2 y2 x3 y3): ";
            double x1, y1, x2, y2, x3, y3;
            cin &gt;&gt; x1 &gt;&gt; y1 &gt;&gt; x2 &gt;&gt; y2 &gt;&gt; x3 &gt;&gt; y3;
            try
            {
                trouglovi[i]=make_shared&lt;Trougao&gt;(Trougao(Tacka(x1, y1), Tacka(x2, y2), Tacka(x3, y3)));
            }
            catch(domain_error izuzetak)
            {
                cout &lt;&lt; izuzetak.what() &lt;&lt; ", ponovite unos!" &lt;&lt; endl;
                i--;
            }
        }
        double dx, dy;
        cout &lt;&lt; "Unesite vektor translacije (dx dy): ";
        cin &gt;&gt; dx &gt;&gt; dy;
        
<a name="9"></a><font color="#FF00FF"><a href="match537-1.html#9" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_0.gif"/></a>

        transform(&amp;trouglovi[0], &amp;trouglovi[0]+n, &amp;trouglovi[0], [dx, dy](shared_ptr&lt;Trougao&gt; trougao)
        {
            trougao-&gt;Transliraj(dx, dy);
            return trougao;
        });
        
        cout &lt;&lt; "Unesite ugao rotacije: ";
        double ugao_rotacije;
        cin &gt;&gt; ugao_rotacije;
</font>        
        transform(&amp;trouglovi[0], &amp;trouglovi[0]+n, &amp;trouglovi[0], [ugao_rotacije](shared_ptr&lt;Trougao&gt; trougao)
        {
            trougao-&gt;Rotiraj(ugao_rotacije);
            return trougao;
        });
        
        cout &lt;&lt; "Unesite faktor skaliranja: ";
        double faktor;
        cin &gt;&gt; faktor;
        
        transform(&amp;trouglovi[0], &amp;trouglovi[0]+n, &amp;trouglovi[0], [faktor](shared_ptr&lt;Trougao&gt; trougao)
        {
            trougao-&gt;Skaliraj(trougao-&gt;DajTjeme(1), faktor);
            return trougao;
        });
        
        sort(&amp;trouglovi[0], &amp;trouglovi[0]+n, [](shared_ptr&lt;Trougao&gt; trougao1, shared_ptr&lt;Trougao&gt; trougao2)
        {
            if(trougao1-&gt;DajPovrsinu()&lt;trougao2-&gt;DajPovrsinu()) return true;
            return false;
        });
        
        cout &lt;&lt; "Trouglovi nakon obavljenih transformacija:" &lt;&lt; endl;
        for_each(&amp;trouglovi[0], &amp;trouglovi[0]+n, [](shared_ptr&lt;Trougao&gt; trougao){ trougao-&gt;Ispisi(); cout &lt;&lt; endl; });
        
        cout &lt;&lt; "Trougao sa najmanjim obimom: ";
        auto pom(min_element(&amp;trouglovi[0], &amp;trouglovi[0]+n, [](shared_ptr&lt;Trougao&gt; trougao1, shared_ptr&lt;Trougao&gt; trougao2){ if(trougao1-&gt;DajObim()&lt;trougao2-&gt;DajObim()) return true; return false;}));
        (*pom)-&gt;Ispisi();
        
        bool identicni(false);
        
        for(int i=0; i&lt;trouglovi.size(); i++)
        {
            for(int j=i+1; j&lt;trouglovi.size(); j++)
            {
                if(DaLiSuIdenticni(*trouglovi[i], *trouglovi[j]))
                {
                    identicni=true;
                    break;
                }
            }
            if(identicni) break;
        }
        
        if(identicni)
        {
            cout &lt;&lt; endl &lt;&lt; "Parovi identicnih trouglova:" &lt;&lt; endl;
            for(int i=0; i&lt;trouglovi.size(); i++)
            {
                for(int j=i+1; j&lt;trouglovi.size(); j++)
                {
                    if(DaLiSuIdenticni(*trouglovi[i], *trouglovi[j]))
                    {
                        trouglovi[i]-&gt;Ispisi();
                        cout &lt;&lt; " i ";
                        trouglovi[j]-&gt;Ispisi();
                        cout &lt;&lt; endl;
                    }
                }
            }
        }
        else cout &lt;&lt; endl &lt;&lt; "Nema identicnih trouglova!" &lt;&lt; endl;
        
        bool podudarni(false);
        for(int i=0; i&lt;trouglovi.size(); i++)
        {
            for(int j=i+1; j&lt;trouglovi.size(); j++)
            {
                if(DaLiSuPodudarni(*trouglovi[i], *trouglovi[j]))
                {
                    podudarni=true;
                    break;
                }
            }
            if(podudarni) break;
        }
        
        if(podudarni)
        {
            cout &lt;&lt; "Parovi podudarnih trouglova:" &lt;&lt; endl;
            for(int i=0; i&lt;trouglovi.size(); i++)
            {
                for(int j=i+1; j&lt;trouglovi.size(); j++)
                {
                    if(DaLiSuPodudarni(*trouglovi[i], *trouglovi[j]))
                    {
                        trouglovi[i]-&gt;Ispisi();
                        cout &lt;&lt; " i ";
                        trouglovi[j]-&gt;Ispisi();
                        cout &lt;&lt; endl;
                    }
                }
            }
        }
        else cout &lt;&lt; "Nema podudarnih trouglova!" &lt;&lt; endl;
        
        bool slicni(false);
        
        for(int i=0; i&lt;trouglovi.size(); i++)
        {
            for(int j=i+1; j&lt;trouglovi.size(); j++)
            {
                if(DaLiSuSlicni(*trouglovi[i], *trouglovi[j]))
                {
                    slicni=true;
                    break;
                }
            }
            if(slicni) break;
        }
        
        if(slicni)
        {
            cout &lt;&lt; "Parovi slicnih trouglova:" &lt;&lt; endl;
            for(int i=0; i&lt;trouglovi.size(); i++)
            {
                for(int j=i+1; j&lt;trouglovi.size(); j++)
                {
                    if(DaLiSuSlicni(*trouglovi[i], *trouglovi[j]))
                    {
                        trouglovi[i]-&gt;Ispisi();
                        cout &lt;&lt; " i ";
                        trouglovi[j]-&gt;Ispisi();
                        cout &lt;&lt; endl;
                    }
                }
            }
        }
        else cout &lt;&lt; "Nema slicnih trouglova!" &lt;&lt; endl;
    }
    catch(domain_error izuzetak)
    {
        cout &lt;&lt; izuzetak.what() &lt;&lt; endl;
    }
    catch(range_error izuzetak)
    {
        cout &lt;&lt; izuzetak.what() &lt;&lt; endl;
    }
	
	
	return 0;
}</pre>
</body>
</html>
