<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z1/student3594.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z1/student3594.cpp<p></p><pre>
<a name="1"></a><font color="#00FF00"><a href="match47-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_1.gif"/></a>

/B 2016/2017, ZadaÄ‡a 4, Zadatak 1

#include &lt;iostream&gt;
#include &lt;stdexcept&gt;
#include &lt;utility&gt;
#include &lt;cmath&gt;
#include &lt;algorithm&gt;
#include &lt;vector&gt;
#include &lt;memory&gt; 

typedef std::pair&lt;double, double&gt; Tacka;
const double eps = 1E-10;

class Trougao{
  Tacka t1, t2, t3;
  
  
public:
    
    Trougao(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3);                 //gotov
    void Postavi(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3);            //gotov
</font>    void Postavi(int indeks, const Tacka &amp;t);                                   //gotov
    static int Orijentacija(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3); //gotov
    Tacka DajTjeme(int indeks) const;                                           //gotov
    double DajStranicu(int indeks) const;                                       //gotov
    double DajUgao(int indeks) const;                                           //gotov
    Tacka DajCentar() const;                                                    //gotov
    double DajObim() const;                                                     //gotov
    double DajPovrsinu() const;                                                 //gotov
    bool DaLiJePozitivnoOrijentiran() const;                                    //gotov
    bool DaLiJeUnutra(const Tacka &amp;t) const;                                    //gotov
    void Ispisi() const;                                                        //gotov
    void Transliraj(double delta_x, double delta_y);                            //gotov
    void Centriraj(const Tacka &amp;t);                                             //gotov
    void Rotiraj(const Tacka &amp;t, double ugao);                                  //gotov
    void Skaliraj(const Tacka &amp;t, double faktor);                               //gotov
    void Rotiraj(double ugao);                                                  //gotov
    void Skaliraj(double faktor);                                               //gotov
    friend bool DaLiSuIdenticni(const Trougao &amp;t1, const Trougao &amp;t2);          //gotov
<a name="0"></a><font color="#FF0000"><a href="match47-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_93.gif"/></a>

    friend bool DaLiSuPodudarni(const Trougao &amp;t1, const Trougao &amp;t2);          //gotov
    friend bool DaLiSuSlicni(const Trougao &amp;t1, const Trougao &amp;t2);             //gotov
                                                                                //jos main zavrsiti(pametni pokazivaci!)
};

double Povrsina_trougla(Tacka t1, Tacka t2, Tacka t3){
    return 0.5 * fabs(std::get&lt;0&gt;(t1) * (std::get&lt;1&gt;(t2) - std::get&lt;1&gt;(t3)) - std::get&lt;0&gt;(t2) * (std::get&lt;1&gt;(t1) - std::get&lt;1&gt;(t3)) + std::get&lt;0&gt;(t3) * (std::get&lt;1&gt;(t1) - std::get&lt;1&gt;(t2)));
}

bool uporedi(double a, double b) {
    return fabs(a-b) &lt; eps;
}

Trougao::Trougao(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3){
    if(Orijentacija(t1,t2,t3) == 0) throw std::domain_error("Nekorektne pozicije tjemena");
    Trougao::t1 = t1;
    Trougao::t2 = t2;
    Trougao::t3 = t3;
}

void Trougao::Postavi(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3){
    Trougao::t1 = t1;
    Trougao::t2 = t2;
    Trougao::t3 = t3;
}

void Trougao::Postavi(int indeks, const Tacka &amp;t){
    if(indeks &lt; 1 || indeks &gt; 3) throw std::range_error("Nekorektan indeks");
    if(indeks == 1) Trougao::t1 = t;
    if(indeks == 2) Trougao::t2 = t;
    if(indeks == 3) Trougao::t3 = t;
}

int Trougao::Orijentacija(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3){
    double orijentacija;
    orijentacija = std::get&lt;0&gt;(t1) * (std::get&lt;1&gt;(t2) - std::get&lt;1&gt;(t3)) - std::get&lt;0&gt;(t2) * (std::get&lt;1&gt;(t1) - std::get&lt;1&gt;(t3)) + std::get&lt;0&gt;(t3) * (std::get&lt;1&gt;(t1) - std::get&lt;1&gt;(t2)); 
    
    if(orijentacija &lt; 0) return -1;
    else if(orijentacija &gt; 0) return 1;
    else return 0;
}

Tacka Trougao::DajTjeme(int indeks) const{
    if(indeks &lt; 1 || indeks &gt; 3) throw std::range_error("Nekorektan indeks");
    if(indeks == 1) return Trougao::t1;
    if(indeks == 2) return Trougao::t2;
    else return Trougao::t3;
}

double Trougao::DajStranicu(int indeks) const{
    if(indeks &lt; 1 || indeks &gt; 3) throw std::range_error("Nekorektan indeks");
    double stranica;
    
    if(indeks == 1) {
        stranica = sqrt( (std::get&lt;0&gt;(Trougao::t3) - std::get&lt;0&gt;(Trougao::t2)) * (std::get&lt;0&gt;(Trougao::t3) -std::get&lt;0&gt;(Trougao::t2)) + (std::get&lt;1&gt;(Trougao::t3) - std::get&lt;1&gt;(Trougao::t2))*(std::get&lt;1&gt;(Trougao::t3) -std::get&lt;1&gt;(Trougao::t2)) );
    }
    
    if(indeks == 2) {
        stranica = sqrt( (std::get&lt;0&gt;(Trougao::t3) - std::get&lt;0&gt;(Trougao::t1)) * (std::get&lt;0&gt;(Trougao::t3) -std::get&lt;0&gt;(Trougao::t1)) + (std::get&lt;1&gt;(Trougao::t3) - std::get&lt;1&gt;(Trougao::t1))*(std::get&lt;1&gt;(Trougao::t3) -std::get&lt;1&gt;(Trougao::t1)) );
    }
    
    if(indeks == 3) {
        stranica = sqrt( (std::get&lt;0&gt;(Trougao::t2) - std::get&lt;0&gt;(Trougao::t1)) * (std::get&lt;0&gt;(Trougao::t2) -std::get&lt;0&gt;(Trougao::t1)) + (std::get&lt;1&gt;(Trougao::t2) - std::get&lt;1&gt;(Trougao::t1))*(std::get&lt;1&gt;(Trougao::t2) -std::get&lt;1&gt;(Trougao::t1)) );
    }
    
    return stranica;
    
}


double Trougao::DajUgao(int indeks) const{
    if(indeks &lt; 1 || indeks &gt; 3) throw std::range_error("Nekorektan indeks");
    double ugao;
    
    if(indeks == 1){
        ugao = acos( (pow(DajStranicu(1),2) - pow(DajStranicu(2), 2) - pow(DajStranicu(3), 2) ) / (-2 * DajStranicu(2) * DajStranicu(3) ) );
    }
    if(indeks == 2){
        ugao = acos( (pow(DajStranicu(2),2) - pow(DajStranicu(1), 2) - pow(DajStranicu(3), 2) ) / (-2 * DajStranicu(1) * DajStranicu(3) ) );
    }
    if(indeks == 3){
        ugao = acos( (pow(DajStranicu(3),2) - pow(DajStranicu(1), 2) - pow(DajStranicu(2), 2) ) / (-2 * DajStranicu(1) * DajStranicu(2) ) );
    }
    
    return ugao;
}

Tacka Trougao::DajCentar() const{
    Tacka centar;
    
    std::get&lt;0&gt;(centar) = (std::get&lt;0&gt;(Trougao::t1) + std::get&lt;0&gt;(Trougao::t2) + std::get&lt;0&gt;(Trougao::t3)) / 3;
    std::get&lt;1&gt;(centar) = (std::get&lt;1&gt;(Trougao::t1) + std::get&lt;1&gt;(Trougao::t2) + std::get&lt;1&gt;(Trougao::t3)) / 3;
    
    return centar;
}

double Trougao::DajObim() const{
    return DajStranicu(1) + DajStranicu(2) + DajStranicu(3);
}

double Trougao::DajPovrsinu() const{
    return 0.5 * fabs(std::get&lt;0&gt;(t1) * (std::get&lt;1&gt;(t2) - std::get&lt;1&gt;(t3)) - std::get&lt;0&gt;(t2) * (std::get&lt;1&gt;(t1) - std::get&lt;1&gt;(t3)) + std::get&lt;0&gt;(t3) * (std::get&lt;1&gt;(t1) - std::get&lt;1&gt;(t2)));
}

bool Trougao::DaLiJePozitivnoOrijentiran() const{
    if(Orijentacija(Trougao::t1,Trougao::t2,Trougao::t3) == 1) return true;
    else return false;
}

void Trougao::Ispisi() const{
    std::cout &lt;&lt; "((" &lt;&lt; std::get&lt;0&gt;(Trougao::t1) &lt;&lt; "," &lt;&lt; std::get&lt;1&gt;(Trougao::t1) &lt;&lt; "),(" 
                       &lt;&lt; std::get&lt;0&gt;(Trougao::t2) &lt;&lt; "," &lt;&lt; std::get&lt;1&gt;(Trougao::t2) &lt;&lt; "),(" 
                       &lt;&lt; std::get&lt;0&gt;(Trougao::t3) &lt;&lt; "," &lt;&lt; std::get&lt;1&gt;(Trougao::t3) &lt;&lt; "))";
}

bool Trougao::DaLiJeUnutra(const Tacka &amp;t) const{
    double P, P1, P2, P3;
    
    P = Povrsina_trougla(Trougao::t1, Trougao::t2, Trougao::t3);
    P1 = Povrsina_trougla(t, Trougao::t1, Trougao::t2);
    P2 = Povrsina_trougla(t, Trougao::t2, Trougao::t3);
    P3 = Povrsina_trougla(t, Trougao::t1, Trougao::t3);
    
    if(uporedi((P1 + P2 + P3), P)) return true;
    else return false;
}

void Trougao::Transliraj(double delta_x, double delta_y){
    std::get&lt;0&gt;(Trougao::t1) += delta_x; std::get&lt;1&gt;(Trougao::t1) += delta_y;
    std::get&lt;0&gt;(Trougao::t2) += delta_x; std::get&lt;1&gt;(Trougao::t2) += delta_y;
    std::get&lt;0&gt;(Trougao::t3) += delta_x; std::get&lt;1&gt;(Trougao::t3) += delta_y;
}

void Trougao::Centriraj(const Tacka &amp;t){
    Tacka centar = DajCentar();
    double delta_x = std::get&lt;0&gt;(t) - std::get&lt;0&gt;(centar);
    double delta_y = std::get&lt;1&gt;(t) - std::get&lt;1&gt;(centar);
    Transliraj(delta_x, delta_y);
    
}

void Trougao::Rotiraj(const Tacka &amp;t, double ugao){
    double x_c = std::get&lt;0&gt;(t);           double y_c = std::get&lt;1&gt;(t);
    double x_1 = std::get&lt;0&gt;(Trougao::t1); double y_1 = std::get&lt;1&gt;(Trougao::t1);
    double x_2 = std::get&lt;0&gt;(Trougao::t2); double y_2 = std::get&lt;1&gt;(Trougao::t2);
    double x_3 = std::get&lt;0&gt;(Trougao::t3); double y_3 = std::get&lt;1&gt;(Trougao::t3);
    
    std::get&lt;0&gt;(Trougao::t1) = x_c + (x_1 - x_c) * cos(ugao) - (y_1 - y_c) * sin(ugao);
    std::get&lt;1&gt;(Trougao::t1) = y_c + (x_1 - x_c) * sin(ugao) + (y_1 - y_c) * cos(ugao);
    
    std::get&lt;0&gt;(Trougao::t2) = x_c + (x_2 - x_c) * cos(ugao) - (y_2 - y_c) * sin(ugao);
    std::get&lt;1&gt;(Trougao::t2) = y_c + (x_2 - x_c) * sin(ugao) + (y_2 - y_c) * cos(ugao);
    
    std::get&lt;0&gt;(Trougao::t3) = x_c + (x_3 - x_c) * cos(ugao) - (y_3 - y_c) * sin(ugao);
    std::get&lt;1&gt;(Trougao::t3) = y_c + (x_3 - x_c) * sin(ugao) + (y_3 - y_c) * cos(ugao);
}

void Trougao::Skaliraj(const Tacka &amp;t, double faktor){
    
    if(uporedi(faktor, 0)) throw std::domain_error("Nekorektan faktor skaliranja");
    
    double x_c = std::get&lt;0&gt;(t);
    double y_c = std::get&lt;1&gt;(t);
    
    std::get&lt;0&gt;(Trougao::t1) = x_c + faktor * (std::get&lt;0&gt;(Trougao::t1) - x_c);
    std::get&lt;1&gt;(Trougao::t1) = y_c + faktor * (std::get&lt;1&gt;(Trougao::t1) - y_c);
    
    std::get&lt;0&gt;(Trougao::t2) = x_c + faktor * (std::get&lt;0&gt;(Trougao::t2) - x_c);
    std::get&lt;1&gt;(Trougao::t2) = y_c + faktor * (std::get&lt;1&gt;(Trougao::t2) - y_c);
    
    std::get&lt;0&gt;(Trougao::t3) = x_c + faktor * (std::get&lt;0&gt;(Trougao::t3) - x_c);
    std::get&lt;1&gt;(Trougao::t3) = y_c + faktor * (std::get&lt;1&gt;(Trougao::t3) - y_c);
}

void Trougao::Rotiraj(double ugao){
    Tacka centar = DajCentar();
    Rotiraj(centar, ugao);
}

void Trougao::Skaliraj(double faktor){
    Tacka centar = DajCentar();
    Skaliraj(centar, faktor);
}

bool DaLiSuIdenticni(const Trougao &amp;t1, const Trougao &amp;t2){
    bool identicni(false);
 if(t1.t1 ==t2.t1 || t1.t1 == t2.t2 || t1.t1 == t2.t3){
     if(t1.t2 == t2.t1 || t1.t2 ==t2.t2 || t1.t2 == t2.t3 ){
        if(t1.t3 == t2.t1 || t1.t3 == t2.t2 || t1.t3 == t2.t3)
            identicni = true;
     }
 }   
 
 return identicni;
}

bool DaLiSuPodudarni(const Trougao &amp;t1, const Trougao &amp;t2){
    
    int brojac; 
    brojac = 0;
    
    Tacka tacka1;
    Tacka tacka2;
    Tacka tacka3;
    
    for(int i=1; i&lt;4; i++){
        for(int j=1; j&lt;4; j++){
            if(uporedi(t1.DajUgao(i),t2.DajUgao(j)) &amp;&amp; uporedi(t1.DajStranicu(i), t2.DajStranicu(j))){
                if(brojac == 0) tacka1 = t2.DajTjeme(j);
                if(brojac == 1) tacka2 = t2.DajTjeme(j);
                if(brojac == 2) tacka3 = t2.DajTjeme(j);
                brojac += 1;
                break;
            }    
        }
    }
    Trougao pomocni(t1);
    if(brojac == 3) pomocni.Postavi(tacka1, tacka2, tacka3);
    return (t1.DaLiJePozitivnoOrijentiran() == pomocni.DaLiJePozitivnoOrijentiran() &amp;&amp; brojac == 3);
}



bool DaLiSuSlicni(const Trougao &amp;t1, const Trougao &amp;t2){
    int brojac; 
    brojac = 0;
    Tacka tacka1;
    Tacka tacka2;
    Tacka tacka3;
    
    for(int i=1; i&lt;4; i++){
        for(int j=1; j&lt;4; j++){
            if(uporedi(t1.DajUgao(i),t2.DajUgao(j)) ){
                if(brojac == 0) tacka1 = t2.DajTjeme(j);
                if(brojac == 1) tacka2 = t2.DajTjeme(j);
                if(brojac == 2) tacka3 = t2.DajTjeme(j);
                brojac += 1;
                break;
            }    
        }
    }
    Trougao pomocni(t1);
    if(brojac == 3) pomocni.Postavi(tacka1, tacka2, tacka3);
    return (t1.DaLiJePozitivnoOrijentiran() == pomocni.DaLiJePozitivnoOrijentiran() &amp;&amp; brojac == 3);
    
}



int main (){
      
   int n;
   std::cout &lt;&lt; "Koliko zelite kreirati trouglova: ";
   std::cin &gt;&gt; n;
   
   double x1, y1, x2, y2, x3, y3;
   Tacka t1, t2, t3;
   std::vector&lt;std::shared_ptr&lt;Trougao&gt;&gt; Trouglovi(n, nullptr);
   
   for(int i=0; i&lt;n; i++){
       try{
       std::cout &lt;&lt; "Unesite podatke za " &lt;&lt; i+1 &lt;&lt; ". trougao (x1 y1 x2 y2 x3 y3): ";
       std::cin &gt;&gt; x1 &gt;&gt; y1 &gt;&gt; x2 &gt;&gt; y2 &gt;&gt; x3 &gt;&gt; y3;
       t1 = std::make_pair(x1, y1);
       t2 = std::make_pair(x2, y2);
       t3 = std::make_pair(x3, y3);
       Trouglovi[i] = std::shared_ptr&lt;Trougao&gt; (new Trougao(t1,t2,t3)) ;
       }
       catch(std::domain_error e){
           std::cout &lt;&lt; "Nekorektne pozicije tjemena, ponovite unos! " &lt;&lt; std::endl;
           i--;
       }
   }
   
   std::cout &lt;&lt; "Unesite vektor translacije (dx dy): ";
   double dx, dy;
   std::cin &gt;&gt; dx &gt;&gt; dy;
   
   std::cout &lt;&lt; "Unesite ugao rotacije: ";
   double ugao;
   std::cin &gt;&gt; ugao;
   
   std::cout &lt;&lt; "Unesite faktor skaliranja: ";
   double faktor;
   std::cin &gt;&gt; faktor;
   
   std::transform(Trouglovi.begin(), Trouglovi.end(), Trouglovi.begin(), [dx, dy, ugao, faktor] (const std::shared_ptr&lt;Trougao&gt; &amp;t1) { t1 -&gt;Transliraj(dx,dy); t1 -&gt;Rotiraj(ugao); t1-&gt;Skaliraj(t1-&gt;DajTjeme(1), faktor); return t1; });
   
   std::sort(Trouglovi.begin(), Trouglovi.end(), [] (const std::shared_ptr&lt;Trougao&gt; t1, const std::shared_ptr&lt;Trougao&gt; t2) -&gt; bool {return (t1-&gt;DajPovrsinu() &lt; t2-&gt;DajPovrsinu());} );
   
   std::cout &lt;&lt; "Trouglovi nakon obavljenih transformacija: " &lt;&lt; std::endl; 
   
   std::for_each(Trouglovi.begin(), Trouglovi.end(), [](const std::shared_ptr&lt;Trougao&gt; &amp;t) {t -&gt; Ispisi(); std::cout &lt;&lt; std::endl; });
   
   std::cout &lt;&lt; "Trougao sa najmanjim obimom: ";
   auto najmanji(*std::min_element(Trouglovi.begin(), Trouglovi.end(), [](const std::shared_ptr&lt;Trougao&gt;t1, const std::shared_ptr&lt;Trougao&gt;t2)-&gt;bool{return t1-&gt;DajObim()&lt;t2-&gt;DajObim();} ));
   najmanji-&gt;Ispisi();  std::cout &lt;&lt; std::endl;
   
   //za identicne
   std::vector&lt;std::pair&lt;Trougao, Trougao&gt;&gt; identicni;
   for(int i=0; i&lt;n; i++){
       for(int j=i+1; j&lt;n; j++){
           if(DaLiSuIdenticni(*Trouglovi[i], *Trouglovi[j]) == true &amp;&amp; i != j){
               identicni.push_back(std::make_pair(*Trouglovi[i], *Trouglovi[j]));
           }
       }
   }
   if(identicni.size() == 0) std::cout &lt;&lt; "Nema identicnih trouglova!" &lt;&lt; std::endl;
   else {
       std::cout&lt;&lt;"Parovi identicnih trouglova: " &lt;&lt; std::endl;
    for(int i=0; i&lt;identicni.size(); i++){
       (std::get&lt;0&gt;(identicni[i])).Ispisi(); std::cout &lt;&lt; " i "; (std::get&lt;1&gt;(identicni[i])).Ispisi(); std::cout &lt;&lt; std::endl;
    }
   }
   //za podudarne
   std::vector&lt;std::pair&lt;Trougao, Trougao&gt;&gt; podudarni;
   for(int i=0; i&lt;n; i++){
       for(int j=i+1; j&lt;n; j++){
           if(DaLiSuPodudarni(*Trouglovi[i], *Trouglovi[j]) == true &amp;&amp; i != j){
               podudarni.push_back(std::make_pair(*Trouglovi[i], *Trouglovi[j]));
           }
       }
   }
   if(podudarni.size() == 0) std::cout &lt;&lt; "Nema podudarnih trouglova!" &lt;&lt; std::endl;
   else {
       std::cout&lt;&lt;"Parovi podudarnih trouglova: " &lt;&lt; std::endl;
    for(int i=0; i&lt;podudarni.size(); i++){
       (std::get&lt;0&gt;(podudarni[i])).Ispisi(); std::cout &lt;&lt; " i "; (std::get&lt;1&gt;(podudarni[i])).Ispisi(); std::cout &lt;&lt; std::endl;
    }
   }
   //za slicne
   std::vector&lt;std::pair&lt;Trougao, Trougao&gt;&gt; slicni;
   for(int i=0; i&lt;n; i++){
       for(int j=i+1; j&lt;n; j++){
           if(DaLiSuSlicni(*Trouglovi[i], *Trouglovi[j]) == true &amp;&amp; i != j){
               slicni.push_back(std::make_pair(*Trouglovi[i], *Trouglovi[j]));
           }
       }
   }
   if(slicni.size() == 0) std::cout &lt;&lt; "Nema slicnih trouglova!" &lt;&lt;  std::endl;
   else {
       std::cout&lt;&lt;"Parovi slicnih trouglova: " &lt;&lt; std::endl;
    for(int i=0; i&lt;slicni.size(); i++){
       (std::get&lt;0&gt;(slicni[i])).Ispisi(); std::cout &lt;&lt; " i "; (std::get&lt;1&gt;(slicni[i])).Ispisi(); std::cout &lt;&lt; std::endl;
</font>    }
   }
	return 0;
}</pre>
</body>
</html>
