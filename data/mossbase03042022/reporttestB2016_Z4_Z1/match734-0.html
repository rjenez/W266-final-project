<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z1/student5744.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z1/student5744.cpp<p></p><pre>
/B 2016/2017, ZadaÄ‡a 4, Zadatak 1
//Napomena: testovi ce biti dostupni dan pred rok!
#include &lt;iostream&gt;
#include &lt;tuple&gt;
#include &lt;cmath&gt;
#include &lt;stdexcept&gt;
#include &lt;vector&gt; 
#include &lt;memory&gt;
#include &lt;algorithm&gt;

typedef std::pair&lt;double, double&gt; Tacka;

bool I(double x, double y, double Eps = 0.00000001) {
 return std::fabs(x - y) &lt;= Eps * (std::fabs(x) + std::fabs(y));
}

bool I(double x, double y,double z, double Eps = 0.00000001)
{
    return I(x,y)&amp;&amp;I(y,z)&amp;&amp;I(x,z);
}

class Trougao
{
    Tacka tr[3];
public:
    Trougao(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3)
    {
        if(!Orijentacija(t1,t2,t3)) throw std::domain_error("Nekorektne pozicije tjemena");
        tr[0]=t1,tr[1]=t2,tr[2]=t3;
    }
    void Postavi(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3)
    {
        if(!Orijentacija(t1,t2,t3)) throw std::domain_error("Nekorektne pozicije tjemena");
        tr[0]=t1,tr[1]=t2,tr[2]=t3;
    }
    void Postavi(int indeks, const Tacka &amp;t)
    {
        if(indeks&gt;3||indeks&lt;1)throw std::range_error("Nekorektan indeks");
        if(!Orijentacija(tr[(indeks)%3],tr[(1+indeks)%3],t)) throw std::domain_error("Nekorektne pozicije tjemena");
        tr[indeks-1]=t;
    }
<a name="4"></a><font color="#FF00FF"><a href="match734-1.html#4" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_1.gif"/></a>

    static int Orijentacija(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3)
    {
        double x=t1.first*(t2.second-t3.second)+t2.first*(t3.second-t1.second)+t3.first*(t1.second-t2.second);
</font>        if(fabs(x)&lt;0.000001)return 0;
        return x/fabs(x);
    }
    Tacka DajTjeme(int indeks) const{if(indeks&gt;3||indeks&lt;1)throw std::range_error("Nekorektan indeks");return tr[indeks-1];}
    double DajStranicu(int indeks) const{if(indeks&gt;3||indeks&lt;1)throw std::range_error("Nekorektan indeks");return sqrt((tr[indeks%3].first-tr[(indeks+1)%3].first)*(tr[indeks%3].first-tr[(indeks+1)%3].first)+(tr[indeks%3].second-tr[(indeks+1)%3].second)*(tr[indeks%3].second-tr[(indeks+1)%3].second));}
    double DajUgao(int indeks) const
    {
        if(indeks&gt;3||indeks&lt;1)throw std::range_error("Nekorektan indeks");
        double a=DajStranicu((indeks)%3+1),b=DajStranicu((indeks+1)%3+1),c=DajStranicu(indeks);
        return acos((a*a+b*b-c*c)/(2*a*b));
    }
<a name="0"></a><font color="#FF0000"><a href="match734-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_3.gif"/></a>

    Tacka DajCentar() const
    {
        Tacka n;
        n.first=(tr[0].first+tr[1].first+tr[2].first)/3;
        n.second=(tr[0].second+tr[1].second+tr[2].second)/3;
        return n;
    };
    double DajObim() const{return DajStranicu(3)+DajStranicu(1)+DajStranicu(2);}
    double DajPovrsinu() const{return fabs(tr[0].first*(tr[1].second-tr[2].second)+tr[1].first*(tr[2].second-tr[0].second)+tr[2].first*(tr[0].second-tr[1].second));}
</font>    bool DaLiJePozitivnoOrijentiran() const{return Orijentacija(tr[0],tr[1],tr[2])&gt;0;}
<a name="2"></a><font color="#0000FF"><a href="match734-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_1.gif"/></a>

    bool DaLiJeUnutra(const Tacka &amp;t) const{return Orijentacija(tr[0],tr[1],tr[2])==Orijentacija(tr[0],tr[1],t)==Orijentacija(tr[1],tr[2],t)==Orijentacija(tr[2],tr[0],t);}
    void Ispisi() const{std::cout &lt;&lt; "((" &lt;&lt; tr[0].first &lt;&lt; "," &lt;&lt; tr[0].second &lt;&lt; "),("&lt;&lt; tr[1].first &lt;&lt; "," &lt;&lt; tr[1].second &lt;&lt; "),("&lt;&lt; tr[2].first &lt;&lt; "," &lt;&lt; tr[2].second &lt;&lt; "))";}
</font><a name="1"></a><font color="#00FF00"><a href="match734-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_3.gif"/></a>

    void Transliraj(double delta_x, double delta_y)
    {
        tr[0].first+=delta_x;
        tr[1].first+=delta_x;
        tr[2].first+=delta_x;
        tr[0].second+=delta_y;
        tr[1].second+=delta_y;
        tr[2].second+=delta_y;
    }
    void Centriraj(const Tacka &amp;t)
</font>    {
        Tacka c=DajCentar();
        Transliraj(t.first-c.first,t.second-c.second);
    }
    void Rotiraj(const Tacka &amp;t, double ugao)
    {
        double xc=t.first,yc=t.second,x,y;
        for(int i=0;i&lt;3;i++)
        {
            x=tr[i].first,y=tr[i].second;
            tr[i].first=xc+cos(ugao)*(x-xc)-sin(ugao)*(y-yc);
            tr[i].second=yc+sin(ugao)*(x-xc)+cos(ugao)*(y-yc);
        }
    }
    void Skaliraj(const Tacka &amp;t, double faktor)
    {
        tr[0].first=t.first+faktor*(tr[0].first-t.first);
        tr[0].second=t.second+faktor*(tr[0].second-t.second);
        tr[1].first=t.first+faktor*(tr[1].first-t.first);
        tr[1].second=t.second+faktor*(tr[1].second-t.second);
<a name="5"></a><font color="#FF0000"><a href="match734-1.html#5" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_1.gif"/></a>

        tr[2].first=t.first+faktor*(tr[2].first-t.first);
        tr[2].second=t.second+faktor*(tr[2].second-t.second);
    }
    void Rotiraj(double ugao){Rotiraj(DajCentar(),ugao);}
</font>    void Skaliraj(double faktor){Skaliraj(DajCentar(),faktor);}
    friend bool DaLiSuIdenticni(const Trougao &amp;t1, const Trougao &amp;t2);
    friend bool DaLiSuPodudarni(const Trougao &amp;t1, const Trougao &amp;t2);
    friend bool DaLiSuSlicni(const Trougao &amp;t1, const Trougao &amp;t2);
};

int main ()
{
    int n;
    std::cout &lt;&lt; "Koliko zelite kreirati trouglova: ";
    std::cin &gt;&gt; n;
<a name="6"></a><font color="#00FF00"><a href="match734-1.html#6" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_1.gif"/></a>

    std::vector&lt;std::shared_ptr&lt;Trougao&gt;&gt; vt,tvt(n);
    for(int i=0;i&lt;n;i++)
    {
        std::cout &lt;&lt; "Unesite podatke za " &lt;&lt; i+1 &lt;&lt; ". trougao (x1 y1 x2 y2 x3 y3): ";
</font>        Tacka x1,x2,x3;
        std::cin &gt;&gt; x1.first &gt;&gt; x1.second &gt;&gt; x2.first &gt;&gt; x2.second &gt;&gt; x3.first &gt;&gt; x3.second;
        try
        {
<a name="3"></a><font color="#00FFFF"><a href="match734-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_1.gif"/></a>

            std::shared_ptr&lt;Trougao&gt; novi(new Trougao(x1,x2,x3));
            vt.push_back(novi);
        }
        catch(std::domain_error x)
        {
            std::cout &lt;&lt; x.what() &lt;&lt; ", ponovite unos!" &lt;&lt; std::endl;
            i--;
        }
    }
    Tacka pom;
</font>    std::cout &lt;&lt; "Unesite vektor translacije (dx dy): ";
    std::cin &gt;&gt; pom.first &gt;&gt; pom.second;
    double ug,sk;
    std::cout &lt;&lt; "Unesite ugao rotacije: ";
    std::cin &gt;&gt; ug;
    std::cout &lt;&lt; "Unesite faktor skaliranja: ";
    std::cin &gt;&gt; sk;
    std::transform(vt.begin(),vt.end(),tvt.begin(),[pom,ug,sk](std::shared_ptr&lt;Trougao&gt; n)
    {
        n-&gt;Transliraj(pom.first,pom.second);
        n-&gt;Rotiraj(ug);
        n-&gt;Skaliraj(n-&gt;DajTjeme(1),sk);
        return n;
    });
    std::sort(tvt.begin(),tvt.end(),[](std::shared_ptr&lt;Trougao&gt; n1,std::shared_ptr&lt;Trougao&gt; n2){return n1-&gt;DajPovrsinu()&lt;n2-&gt;DajPovrsinu();});
    std::cout &lt;&lt; "Trouglovi nakon obavljenih transformacija:\n";
    std::for_each(tvt.begin(),tvt.end(),[](std::shared_ptr&lt;Trougao&gt; n){n-&gt;Ispisi();std::cout &lt;&lt; "\n";});
    std::cout &lt;&lt; "Trougao sa najmanjim obimom: ";
    auto pok=std::min_element(tvt.begin(),tvt.end(),[](std::shared_ptr&lt;Trougao&gt; n1,std::shared_ptr&lt;Trougao&gt; n2){return n1-&gt;DajObim()&lt;n2-&gt;DajObim();});
    (*pok)-&gt;Ispisi();
    bool id=false,p=false,s=false;
    for(int i=0;i&lt;n-1;i++)
    {
        for(int j=i+1;j&lt;n;j++)
        {
            if(DaLiSuIdenticni(*tvt[i],*tvt[j]))
            {
                if(!id)
                {
                    std::cout &lt;&lt; "\nParovi identicnih trouglova:\n";
                    id=true;
                }
                tvt[i]-&gt;Ispisi();
                std::cout &lt;&lt; " i ";
                tvt[j]-&gt;Ispisi();
                std::cout &lt;&lt; "\n";
            }
        }
    }
    if(!id) std::cout &lt;&lt; "\nNema identicnih trouglova!\n";
    for(int i=0;i&lt;n-1;i++)
    {
        for(int j=i+1;j&lt;n;j++)
        {
            if(DaLiSuPodudarni(*tvt[i],*tvt[j]))
            {
                if(!p)
                {
                    std::cout &lt;&lt; "Parovi podudarnih trouglova:\n";
                    p=true;
                }
                tvt[i]-&gt;Ispisi();
                std::cout &lt;&lt; " i ";
                tvt[j]-&gt;Ispisi();
                std::cout &lt;&lt; "\n";
            }
        }
    }
    if(!id) std::cout &lt;&lt; "Nema podudarnih trouglova!\n";
    for(int i=0;i&lt;n-1;i++)
    {
        for(int j=i+1;j&lt;n;j++)
        {
            if(DaLiSuSlicni(*tvt[i],*tvt[j]))
            {
                if(!s)
                {
                    std::cout &lt;&lt; "Parovi slicnih trouglova:\n";
                    s=true;
                }
                tvt[i]-&gt;Ispisi();
                std::cout &lt;&lt; " i ";
                tvt[j]-&gt;Ispisi();
                std::cout &lt;&lt; "\n";
            }
        }
    }
    if(!id) std::cout &lt;&lt; "Nema slicnih trouglova!\n";
	return 0;
}

bool DaLiSuIdenticni(const Trougao &amp;t1, const Trougao &amp;t2)
{
    int a=0;
    for(int i=0;i&lt;3;i++)
        for(int j=0;j&lt;3;j++)
            a+=int(I(t1.tr[i].second,t2.tr[j].second) &amp;&amp; I(t1.tr[i].first,t2.tr[j].first));
    return a==3;
}
bool DaLiSuPodudarni(const Trougao &amp;t1, const Trougao &amp;t2)
{
    if(Trougao::Orijentacija(t1.tr[0],t1.tr[1],t1.tr[2])==Trougao::Orijentacija(t2.tr[0],t2.tr[1],t2.tr[2]))
        return (I(t1.DajStranicu(1),t2.DajStranicu(1))&amp;&amp;I(t1.DajStranicu(2),t2.DajStranicu(2))&amp;&amp;I(t1.DajStranicu(3),t2.DajStranicu(3)))||(I(t1.DajStranicu(1),t2.DajStranicu(2))&amp;&amp;I(t1.DajStranicu(2),t2.DajStranicu(3))&amp;&amp;I(t1.DajStranicu(3),t2.DajStranicu(1)))||(I(t1.DajStranicu(1),t2.DajStranicu(3))&amp;&amp;I(t1.DajStranicu(2),t2.DajStranicu(1))&amp;&amp;I(t1.DajStranicu(3),t2.DajStranicu(2)));
    return (I(t1.DajStranicu(1),t2.DajStranicu(1))&amp;&amp;I(t1.DajStranicu(2),t2.DajStranicu(3))&amp;&amp;I(t1.DajStranicu(3),t2.DajStranicu(2)))||(I(t1.DajStranicu(1),t2.DajStranicu(2))&amp;&amp;I(t1.DajStranicu(2),t2.DajStranicu(1))&amp;&amp;I(t1.DajStranicu(3),t2.DajStranicu(3)))||(I(t1.DajStranicu(1),t2.DajStranicu(3))&amp;&amp;I(t1.DajStranicu(2),t2.DajStranicu(2))&amp;&amp;I(t1.DajStranicu(3),t2.DajStranicu(1)));
}

bool DaLiSuSlicni(const Trougao &amp;t1, const Trougao &amp;t2)
{
    if(Trougao::Orijentacija(t1.tr[0],t1.tr[1],t1.tr[2])==Trougao::Orijentacija(t2.tr[0],t2.tr[1],t2.tr[2]))
        return (I(t1.DajUgao(1),t2.DajUgao(1))&amp;&amp;I(t1.DajUgao(2),t2.DajUgao(2))&amp;&amp;I(t1.DajUgao(3),t2.DajUgao(3)))||(I(t1.DajUgao(1),t2.DajUgao(2))&amp;&amp;I(t1.DajUgao(2),t2.DajUgao(3))&amp;&amp;I(t1.DajUgao(3),t2.DajUgao(1)))||(I(t1.DajUgao(1),t2.DajUgao(3))&amp;&amp;I(t1.DajUgao(2),t2.DajUgao(1))&amp;&amp;I(t1.DajUgao(3),t2.DajUgao(2)));
    return (I(t1.DajUgao(1),t2.DajUgao(1))&amp;&amp;I(t1.DajUgao(2),t2.DajUgao(3))&amp;&amp;I(t1.DajUgao(3),t2.DajUgao(2)))||(I(t1.DajUgao(1),t2.DajUgao(2))&amp;&amp;I(t1.DajUgao(2),t2.DajUgao(1))&amp;&amp;I(t1.DajUgao(3),t2.DajUgao(3)))||(I(t1.DajUgao(1),t2.DajUgao(3))&amp;&amp;I(t1.DajUgao(2),t2.DajUgao(2))&amp;&amp;I(t1.DajUgao(3),t2.DajUgao(1)));
}</pre>
</body>
</html>
