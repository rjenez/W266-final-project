<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z1/student4659.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z1/student4659.cpp<p></p><pre>
/B 2016/2017, ZadaÄ‡a 4, Zadatak 1
//Napomena: testovi ce biti dostupni dan pred rok!
#include &lt;iostream&gt;
#include &lt;utility&gt;
#include &lt;memory&gt;
#include &lt;algorithm&gt;
#include &lt;vector&gt;
#include &lt;stdexcept&gt;
#include &lt;cmath&gt;

typedef std::pair&lt;double,double&gt; Tacka;

class Trougao{
        std::vector&lt;Tacka&gt;v{3};
        void TestIndeksa(int indeks) const {
            if(indeks&lt;1 || indeks&gt;3)throw std::range_error("Nekorektan indeks");
        }
        static double Izraz(const Tacka &amp;t1,const Tacka &amp;t2, const Tacka &amp;t3) {
            return t1.first*(t2.second-t3.second)-t2.first*(t1.second-t3.second)+t3.first*(t1.second-t2.second);
            
        }
        double Duzina(const Tacka &amp;t1, const Tacka &amp;t2) const {
            return std::sqrt(pow(t2.first-t1.first,2)+pow(t2.second-t1.second,2));
        }
        double Ugao(double a,double b, double c) const {
            return std::acos((b*b+c*c-a*a) / (2*b*c));
        }
        double Povrsina(const Tacka &amp;t1,const Tacka &amp;t2, const Tacka &amp;t3) const {
            return (1./2)*std::fabs(Izraz(t1,t2,t3));
        }
    public:
<a name="3"></a><font color="#00FFFF"><a href="match678-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_1.gif"/></a>

        Trougao(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3){
            if(!Orijentacija(t1,t2,t3))throw std::domain_error("Nekorektne pozicije tjemena");
            v[0]=t1; v[1]=t2; v[2]=t3;
</font>        }
        void Postavi(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3){
            if(!Orijentacija(t1,t2,t3))throw std::domain_error("Nekorektne pozicije tjemena");
            v[0]=t1; v[1]=t2; v[2]=t3;
        }
        void Postavi(int indeks, const Tacka &amp;t){
            try{
                TestIndeksa(indeks);
                if(indeks-1==0 &amp;&amp; !Orijentacija(t,v[1],v[2]))throw std::domain_error("Nekorektne pozicije tjemena");
                if(indeks-1==1 &amp;&amp; !Orijentacija(v[0],t,v[2]))throw std::domain_error("Nekorektne pozicije tjemena");
                if(indeks-1==2 &amp;&amp; !Orijentacija(v[0],v[1],t))throw std::domain_error("Nekorektne pozicije tjemena");
                v[indeks-1]=t;
            }
            catch(...){
                throw;
            }
        }
        static int Orijentacija(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3){
            if(Izraz(t1,t2,t3)&gt;0)return 1;
            if(Izraz(t1,t2,t3)==0)return 0;
            else return -1;
        }
        Tacka DajTjeme(int indeks) const { 
            try{
                TestIndeksa(indeks);
                return v[indeks-1]; 
            }
            catch(...){
                throw;
            }   
        }
        double DajStranicu(int indeks) const {
            try{
                TestIndeksa(indeks);
                if(indeks-1==0) return Duzina(v[1],v[2]);
                if(indeks-1==1) return Duzina(v[0],v[2]);
                else return Duzina(v[0],v[1]);
            }
            catch(...){
                throw;
            }
        }
        double DajUgao(int indeks) const{
            try{
                TestIndeksa(indeks);
                if(indeks-1==0) return Ugao(Duzina(v[1],v[2]), Duzina(v[0],v[1]), Duzina(v[0],v[2]));
                if(indeks-1==1) return Ugao(Duzina(v[0],v[2]), Duzina(v[0],v[1]), Duzina(v[1],v[2]));
                if(indeks-1==2) return Ugao(Duzina(v[0],v[1]),Duzina(v[1],v[2]), Duzina(v[0],v[2]) );
            }
            catch(...){
                throw;
            }
        }
        Tacka DajCentar() const {
<a name="0"></a><font color="#FF0000"><a href="match678-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_3.gif"/></a>

            return std::make_pair( (v[0].first+v[1].first+v[2].first)/3 , (v[0].second+v[1].second+v[2].second)/3 );
        }
        double DajObim() const {
            return Duzina(v[0],v[1])+Duzina(v[1],v[2])+Duzina(v[0],v[2]);
        }
        double DajPovrsinu() const{
</font>            return Povrsina(v[0],v[1],v[2]);
        }
        bool DaLiJePozitivnoOrijentiran() const{
            if(Orijentacija(v[0],v[1],v[2])==1)return true;
            else return false;
            
        }
        bool DaLiJeUnutra(const Tacka &amp;t) const {
            if(DajPovrsinu()==Povrsina(t,v[1],v[2])+Povrsina(v[0],t,v[2])+Povrsina(v[0],v[1],t))return true;
            else return false;
        }
<a name="5"></a><font color="#FF0000"><a href="match678-1.html#5" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_0.gif"/></a>

        void Ispisi() const{
            std::cout &lt;&lt; "((" &lt;&lt; v[0].first &lt;&lt; "," &lt;&lt; v[0].second &lt;&lt; "),(" &lt;&lt; v[1].first &lt;&lt; "," &lt;&lt; v[1].second &lt;&lt; "),(" &lt;&lt; v[2].first &lt;&lt; "," &lt;&lt; v[2].second &lt;&lt; "))";
</font><a name="2"></a><font color="#0000FF"><a href="match678-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_2.gif"/></a>

        }
        void Transliraj(double delta_x, double delta_y){
            for(int i=0;i&lt;3;i++){
                v[i].first+=delta_x;
                v[i].second+=delta_y;
            }    
        }
        void Centriraj(const Tacka &amp;t){
</font>            Tacka t1(DajCentar());
            Transliraj(t1.first-t.first,t1.second-t.second);
        }
        void Rotiraj(const Tacka &amp;t, double ugao){
            for(int i=0;i&lt;3;i++) {
<a name="1"></a><font color="#00FF00"><a href="match678-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_2.gif"/></a>

                v[i]=std::make_pair(t.first+(v[i].first-t.first)*std::cos(ugao)-(v[i].second-t.second)*std::sin(ugao), t.second+(v[i].first-t.first)*std::sin(ugao)+(v[i].second-t.second)*std::cos(ugao));
            }
        }
        void Skaliraj(const Tacka &amp;t, double faktor){
</font>            if(faktor==0)throw std::domain_error("Nekorektan faktor skaliranja");
            for(int i=0;i&lt;3;i++)
<a name="4"></a><font color="#FF00FF"><a href="match678-1.html#4" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_1.gif"/></a>

                v[i]=std::make_pair(t.first+faktor*(v[i].first-t.first),t.second+faktor*(v[i].second-t.second));
</font>        }
        void Rotiraj(double ugao){
            Rotiraj(DajCentar(),ugao);
        }
        void Skaliraj(double faktor){
            Skaliraj(DajCentar(),faktor);
        }
        friend bool DaLiSuIdenticni(const Trougao &amp;t1, const Trougao &amp;t2);
<a name="6"></a><font color="#00FF00"><a href="match678-1.html#6" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_0.gif"/></a>

        friend bool DaLiSuPodudarni(const Trougao &amp;t1, const Trougao &amp;t2);
        friend bool DaLiSuSlicni(const Trougao &amp;t1, const Trougao &amp;t2);
};

bool DaLiSuIdenticni(const Trougao &amp;t1, const Trougao &amp;t2){
    bool flag(false);
</font>    for(int i=1;i&lt;4;i++){
        int br(0);
        for(int j=1;j&lt;4;j++)if(t1.DajTjeme(i)==t2.DajTjeme(j))br++;
        if(br)flag=true;
        else return false;
    }
    return flag;
}

bool DaLiSuPodudarni(const Trougao &amp;t1,const Trougao &amp;t2){
    bool flag(false);
    int ind[6];
    int br1(0);
        for(int i=1;i&lt;4;i++){
            int br(0);
            for(int j=1;j&lt;4;j++) if(t1.DajStranicu(i)==t2.DajStranicu(j)){
                ind[br1]=i; ind[++br1]=j;
                br++; br1++;
            }    
            if(br)flag=true;
            else return false;
        }
    if(Trougao::Orijentacija(t1.DajTjeme(ind[0]),t1.DajTjeme(ind[2]),t1.DajTjeme(ind[4]))==Trougao::Orijentacija(t2.DajTjeme(ind[1]),t2.DajTjeme(ind[3]),t2.DajTjeme(ind[5])))flag=true;
    else flag=false;
    
    return flag;
    
}

bool DaLiSuSlicni(const Trougao &amp;t1,const Trougao &amp;t2){
    bool flag(false);
    int ind[6];
    int br1(0);
        for(int i=1;i&lt;4;i++){
            int br(0);
            for(int j=1;j&lt;4;j++) if(t1.DajUgao(i)==t2.DajUgao(j)){
                ind[br1]=i; ind[++br1]=j;
                br++; br1++;
            }    
            if(br)flag=true;
            else return false;
        }
    if(Trougao::Orijentacija(t1.DajTjeme(ind[0]),t1.DajTjeme(ind[2]),t1.DajTjeme(ind[4]))==Trougao::Orijentacija(t2.DajTjeme(ind[1]),t2.DajTjeme(ind[3]),t2.DajTjeme(ind[5])))flag=true;
    else flag=false;
    
    return flag;
}

int main ()
{
    int n(0);
    std::cout &lt;&lt; "Koliko zelite kreirati trouglova: " ;
    std::cin &gt;&gt; n;
    
        std::vector&lt;std::shared_ptr&lt;Trougao&gt;&gt; v1;
        
        for(int i=0;i&lt;n;i++){
            int x1,y1,x2,y2,x3,y3;
            std::cout &lt;&lt; "Unesite podatke za " &lt;&lt; i+1 &lt;&lt; ". trougao (x1 y1 x2 y2 x3 y3): ";
            std::cin &gt;&gt; x1 &gt;&gt; y1 &gt;&gt; x2 &gt;&gt; y2 &gt;&gt; x3 &gt;&gt; y3;
                Tacka T1=std::make_pair(x1,y1);
                Tacka T2=std::make_pair(x2,y2);
                Tacka T3=std::make_pair(x3,y3);
                    try{
                        v1.push_back(std::make_shared&lt;Trougao&gt;(Trougao(T1,T2,T3)));
                    }
                    catch(std::domain_error e){
                        std::cout &lt;&lt; e.what() &lt;&lt; ", ponovite unos!" &lt;&lt; std::endl;
                        i--;
                    }
        }
            
            int dx,dy;
            std::cout &lt;&lt; "Unesite vektor translacije (dx dy): ";
            std::cin &gt;&gt; dx &gt;&gt; dy;
                std::transform(v1.begin(),v1.end(),v1.begin(),[dx,dy](std::shared_ptr&lt;Trougao&gt; t){t-&gt;Transliraj(dx,dy);return t;});
                
                double ugao;
                std::cout &lt;&lt; "Unesite ugao rotacije: " ;   
                std::cin &gt;&gt; ugao;
                
                int faktor;
                std::cout &lt;&lt; "Unesite faktor skaliranja: ";
                std::cin &gt;&gt; faktor;
                try{
                    std::transform(v1.begin(),v1.end(),v1.begin(),[ugao,faktor](std::shared_ptr&lt;Trougao&gt; t){ t-&gt;Rotiraj(ugao); t-&gt;Skaliraj(t-&gt;DajTjeme(1),faktor); return t;});
                }
                catch(std::domain_error e){
                    std::cout &lt;&lt; e.what() &lt;&lt; std::endl;
                }
                std::sort(v1.begin(),v1.end(),[](const std::shared_ptr&lt;Trougao&gt; &amp;t1,const std::shared_ptr&lt;Trougao&gt; &amp;t2){return t1-&gt;DajPovrsinu()&lt;t2-&gt;DajPovrsinu();});
                
                std::cout &lt;&lt; "Trouglovi nakon obavljenih transformacija:" &lt;&lt; std::endl;
                std::for_each(v1.begin(),v1.end(),[](std::shared_ptr&lt;Trougao&gt; t){t-&gt;Ispisi();std::cout &lt;&lt; std::endl;});
                
                    std::cout &lt;&lt; "Trougao sa najmanjim obimom: ";
                    auto i=std::min_element(v1.begin(),v1.end(),[](const std::shared_ptr&lt;Trougao&gt; &amp;t1,const std::shared_ptr&lt;Trougao&gt; &amp;t2){ return t1-&gt;DajObim()&lt;t2-&gt;DajObim();});
                    (*i)-&gt;Ispisi(); std::cout &lt;&lt; std::endl;
                    
                    int flag(0);
                    for(int i=0;i&lt;v1.size();i++)
                        for(int j=i+1;j&lt;v1.size();j++)
                            if(DaLiSuIdenticni(*v1[i],*v1[j])) flag=1;
                    if(flag){ 
                        std::cout &lt;&lt; "Parovi identicnih trouglova:" &lt;&lt; std::endl;
                        for(int i=0;i&lt;v1.size();i++){
                            for(int j=i+1;j&lt;v1.size();j++){
                                if(DaLiSuIdenticni(*v1[i],*v1[j])){
                                    v1[i]-&gt;Ispisi();
                                    std::cout &lt;&lt; " i ";
                                    v1[j]-&gt;Ispisi();
                                    std::cout &lt;&lt; std::endl;
                                }
                            }
                        }
                    }
                    else std::cout &lt;&lt; "Nema identicnih trouglova!"&lt;&lt; std::endl;
                    
                    flag=0;
                    for(int i=0;i&lt;v1.size();i++)
                        for(int j=i+1;j&lt;v1.size();j++)
                            if(DaLiSuPodudarni(*v1[i],*v1[j])) flag=1;
                    if(flag){ 
                           std::cout &lt;&lt; "Parovi podudarnih trouglova:" &lt;&lt; std::endl;
                            for(int i=0;i&lt;v1.size();i++){
                                for(int j=i+1;j&lt;v1.size();j++){
                                    if(DaLiSuPodudarni(*v1[i],*v1[j])){
                                        v1[i]-&gt;Ispisi();
                                        std::cout &lt;&lt; " i ";
                                        v1[j]-&gt;Ispisi();
                                        std::cout &lt;&lt; std::endl;
                                    }
                                }
                            }
                    }
                    else std::cout &lt;&lt; "Nema podudarnih trouglova!" &lt;&lt; std::endl;
                    
            flag=0;
            for(int i=0;i&lt;v1.size();i++)
                for(int j=i+1;j&lt;v1.size();j++)
                    if(DaLiSuSlicni(*v1[i],*v1[j])) flag=1;
                if(flag){ 
                    std::cout &lt;&lt; "Parovi slicnih trouglova:" &lt;&lt; std::endl;  
                    for(int i=0;i&lt;v1.size();i++){
                        for(int j=i+1;j&lt;v1.size();j++){
                            if(DaLiSuSlicni(*v1[i],*v1[j])){
                                v1[i]-&gt;Ispisi();
                                std::cout &lt;&lt; " i ";
                                v1[j]-&gt;Ispisi();
                                std::cout &lt;&lt; std::endl;
                            }
                        }
                    }
                }
     
                else std::cout &lt;&lt; "Nema slicnih trouglova!" &lt;&lt; std::endl;
    return 0;                    
}
</pre>
</body>
</html>
