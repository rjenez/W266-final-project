<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z1/student8521.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z1/student3673.cpp<p></p><pre>
<a name="3"></a><font color="#00FFFF"><a href="match53-0.html#3" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_7.gif"/></a>

/B 2016/2017, ZadaÄ‡a 4, Zadatak 1
//Napomena: testovi ce biti dostupni dan pred rok!
#include &lt;iostream&gt;
#include &lt;stdexcept&gt;
#include &lt;utility&gt;
#include &lt;cmath&gt;
#include &lt;vector&gt;
#include &lt;memory&gt;
#include &lt;algorithm&gt;
#include &lt;map&gt;

using namespace std;

typedef pair&lt;double,double&gt; Tacka;
const double pi=4.*atan(1);

class Trougao {
    Tacka x1,x2,x3;
    static bool Jednaki(double x,double y);
    static bool Jednaki(Tacka p, Tacka q);
    public:
    Trougao (const Tacka &amp;t1,const Tacka &amp;t2,const Tacka &amp;t3){
        if(Orijentacija(t1,t2,t3)==0)throw domain_error ("Nekorektne pozicije tjemena");
        x1=t1;x2=t2;x3=t3;
    }
    void Postavi(const Tacka &amp;t1,const Tacka &amp;t2,const Tacka &amp;t3){
        if(Orijentacija(t1,t2,t3)==0) throw domain_error("Nekorektne pozicije tjemena");
        x1=t1;x2=t2;x3=t3;
    }
    void Postavi(int indeks,const Tacka &amp;t);
    static int Orijentacija(const Tacka &amp;t1,const Tacka &amp;t2,const Tacka &amp;t3);
    Tacka DajTjeme(int indeks) const;
    double DajStranicu(int indeks) const;
    double DajUgao(int indeks) const;
    Tacka DajCentar() const {Tacka t; t=make_pair((x1.first+x2.first+x3.first)/3,(x1.second+x2.second+x3.second)/3);return t;}
    double DajObim() const {double obim;obim=DajStranicu(1)+DajStranicu(2)+DajStranicu(3);return obim;}
    double DajPovrsinu()const;
    bool DaLiJePozitivnoOrijentiran() const;
    bool DaLiJeUnutra(const Tacka &amp;t) const;
    void Ispisi() const;
    void Transliraj(double delta_x,double delta_y);
    void Centriraj (const Tacka &amp;t);
</font>    void Rotiraj(const Tacka &amp;t,double ugao);
    void Skaliraj(const Tacka &amp;t,double faktor);
    void Rotiraj(double ugao);
    void Skaliraj(double faktor);
    friend bool DaLiSuIdenticni(const Trougao &amp;t1,const Trougao &amp;t2);
<a name="2"></a><font color="#0000FF"><a href="match53-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_8.gif"/></a>

    friend bool DaLiSuPodudarni(const Trougao &amp;t1,const Trougao &amp;t2);
    friend bool DaLiSuSlicni(const Trougao &amp;t1,const Trougao &amp;t2);
    
};
bool Trougao::Jednaki(Tacka p,Tacka q){
    if(Jednaki(p.first,q.first) &amp;&amp; Jednaki(p.second,q.second))return true;
    return false;
}
bool Trougao::Jednaki(double x,double y){
    const double eps(1e-10);
    if(fabs(x-y)&lt;=eps*(fabs(x)+fabs(y)))return true;
    return false;
}
inline void Trougao::Postavi(int indeks,const Tacka &amp;t){
    if(indeks!=1 &amp;&amp; indeks!=2 &amp;&amp; indeks!=3)throw range_error("Nekorektan indeks");
    if(indeks==1)x1=t;
    if(indeks==2)x2=t;
    if(indeks==3)x3=t;
}
int Trougao::Orijentacija(const Tacka &amp;t1,const Tacka &amp;t2,const Tacka &amp;t3){
    double rezultat=t1.first*(t2.second-t3.second)-t2.first*(t1.second-t3.second)+t3.first*(t1.second-t2.second);
    if(rezultat&lt;=-1)return -1;
    if(rezultat&gt;=1)return 1;
    return 0;
}
inline Tacka Trougao::DajTjeme(int indeks) const {
    if(indeks!=1 &amp;&amp; indeks!=2 &amp;&amp; indeks!=3)throw range_error("Nekorektan indeks");
    if(indeks==1)return x1;
    if(indeks==2)return x2;
    return x3;
}
double Trougao::DajStranicu(int indeks) const {
    if(indeks!=1 &amp;&amp; indeks!=2 &amp;&amp; indeks!=3)throw range_error("Nekorektan indeks");
    if(indeks==1)return sqrt((x3.first-x2.first)*(x3.first-x2.first)+(x3.second-x2.second)*(x3.second-x2.second));
</font><a name="1"></a><font color="#00FF00"><a href="match53-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_10.gif"/></a>

    if(indeks==2)return sqrt((x3.first-x1.first)*(x3.first-x1.first)+(x3.second-x1.second)*(x3.second-x1.second));
    return sqrt((x1.first-x2.first)*(x1.first-x2.first)+(x1.second-x2.second)*(x1.second-x2.second));
}
double Trougao::DajUgao(int indeks) const {
    if(indeks!=1 &amp;&amp; indeks!=2 &amp;&amp; indeks!=3)throw range_error("Nekorektan indeks");
    double ugao;
    if(indeks==1){ugao=acos((DajStranicu(2)*DajStranicu(2)+DajStranicu(3)*DajStranicu(3)-DajStranicu(1)*DajStranicu(1))/(2*DajStranicu(2)*DajStranicu(3)));return ugao;}
    if(indeks==2){ugao=acos((DajStranicu(1)*DajStranicu(1)+DajStranicu(3)*DajStranicu(3)-DajStranicu(2)*DajStranicu(2))/(2*DajStranicu(1)*DajStranicu(3)));return ugao;}
    ugao=acos((DajStranicu(1)*DajStranicu(1)+DajStranicu(2)*DajStranicu(2)-DajStranicu(3)*DajStranicu(3))/(2*DajStranicu(1)*DajStranicu(2)));return ugao;
}

inline double Trougao::DajPovrsinu() const{
    return fabs(x1.first*(x2.second-x3.second)-x2.first*(x1.second-x3.second)+x3.first*(x1.second-x2.second))/2;
}
bool Trougao::DaLiJePozitivnoOrijentiran() const {
    if(Orijentacija(x1,x2,x3)==-1 || Orijentacija(x1,x2,x3)==0)return false;
    return true;
}
bool Trougao::DaLiJeUnutra(const Tacka &amp;t) const {
if(Orijentacija(x1,x2,x3)==Orijentacija(x1,x2,t) &amp;&amp; Orijentacija(x1,x2,x3)==Orijentacija(x2,x3,t) &amp;&amp; Orijentacija(x1,x2,x3)==Orijentacija(x3,x1,t))return true;
return false;
}
inline void Trougao:: Ispisi() const {
    cout&lt;&lt;"(("&lt;&lt;x1.first&lt;&lt;","&lt;&lt;x1.second&lt;&lt;"),("&lt;&lt;x2.first&lt;&lt;","&lt;&lt;x2.second&lt;&lt;"),("&lt;&lt;x3.first&lt;&lt;","&lt;&lt;x3.second&lt;&lt;"))";
</font>}
void Trougao::Transliraj(double delta_x,double delta_y){
    x1.first+=delta_x;x1.second+=delta_y;
<a name="4"></a><font color="#FF00FF"><a href="match53-0.html#4" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_3.gif"/></a>

    x2.first+=delta_x;x2.second+=delta_y;
    x3.first+=delta_x;x3.second+=delta_y;
}
void Trougao::Centriraj(const Tacka &amp;t){
    Tacka teziste;
    teziste.first=(x1.first+x2.first+x3.first)/3;
    teziste.second=(x1.second+x2.second+x3.second)/3;
    double delta_x,delta_y;
    delta_x=teziste.first-t.first;
    delta_y=teziste.second-t.second;
    Transliraj(delta_x,delta_y);
}
void Trougao::Rotiraj(const Tacka &amp;t,double ugao){
    //double ugao=ugao*pi/180;
    Tacka x1_st(x1),x2_st(x2),x3_st(x3);
    x1.first=t.first+(x1_st.first-t.first)*cos(ugao)-(x1_st.second-t.second)*sin(ugao);
</font>    x1.second=t.second+(x1_st.first-t.first)*sin(ugao)+(x1_st.second-t.second)*cos(ugao);
    x2.first=t.first+(x2_st.first-t.first)*cos(ugao)-(x2_st.second-t.second)*sin(ugao);
    x2.second=t.second+(x2_st.first-t.first)*sin(ugao)+(x2_st.second-t.second)*cos(ugao);
    x3.first=t.first+(x3_st.first-t.first)*cos(ugao)-(x3_st.second-t.second)*sin(ugao);
<a name="5"></a><font color="#FF0000"><a href="match53-0.html#5" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_1.gif"/></a>

    x3.second=t.second+(x3_st.first-t.first)*sin(ugao)+(x3_st.second-t.second)*cos(ugao);
}

void Trougao::Skaliraj(const Tacka &amp;t,double faktor){
    if(faktor==0.)throw domain_error("Nekorektan faktor skaliranja");
    x1.first=t.first+faktor*(x1.first-t.first);x1.second=t.second+faktor*(x1.second-t.second);
</font>    x2.first=t.first+faktor*(x2.first-t.first);x2.second=t.second+faktor*(x2.second-t.second);
<a name="0"></a><font color="#FF0000"><a href="match53-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_57.gif"/></a>

    x3.first=t.first+faktor*(x3.first-t.first);x3.second=t.second+faktor*(x3.second-t.second);
}
void Trougao::Rotiraj(double ugao){
    Rotiraj(DajCentar(),ugao);
}
void Trougao::Skaliraj(double faktor){
    Tacka teziste;
    teziste.first=(x1.first+x2.first+x3.first)/3;teziste.second=(x1.second+x2.second+x3.second)/3;
    Skaliraj(teziste,faktor);
}
bool DaLiSuIdenticni(const Trougao &amp;t1,const Trougao &amp;t2){
    if((Trougao::Jednaki(t1.DajTjeme(1),t2.DajTjeme(1)) || Trougao::Jednaki(t1.DajTjeme(1),t2.DajTjeme(2)) || Trougao::Jednaki(t1.DajTjeme(1),t2.DajTjeme(3))) &amp;&amp; (Trougao::Jednaki(t1.DajTjeme(2),t2.DajTjeme(1)) || Trougao::Jednaki(t1.DajTjeme(2),t2.DajTjeme(2)) || Trougao::Jednaki(t1.DajTjeme(2),t2.DajTjeme(3))) &amp;&amp; (Trougao::Jednaki(t1.DajTjeme(3),t2.DajTjeme(1)) || Trougao::Jednaki(t1.DajTjeme(3),t2.DajTjeme(2)) || Trougao::Jednaki(t1.DajTjeme(3),t2.DajTjeme(3))))return true;
    return false;
}
bool DaLiSuPodudarni(const Trougao &amp;t1,const Trougao &amp;t2){
    if((Trougao::Jednaki(t1.DajStranicu(1),t2.DajStranicu(1)) || Trougao::Jednaki(t1.DajStranicu(1),t2.DajStranicu(2)) || Trougao::Jednaki(t1.DajStranicu(1),t2.DajStranicu(3))) &amp;&amp; (Trougao::Jednaki(t1.DajStranicu(2),t2.DajStranicu(1)) || Trougao::Jednaki(t1.DajStranicu(2),t2.DajStranicu(2)) || Trougao::Jednaki(t1.DajStranicu(2),t2.DajStranicu(3))) &amp;&amp; (Trougao::Jednaki(t1.DajStranicu(3),t2.DajStranicu(1)) || Trougao::Jednaki(t1.DajStranicu(3),t2.DajStranicu(2)) || Trougao::Jednaki(t1.DajStranicu(3),t2.DajStranicu(3)))){
        double max_str1=t1.DajStranicu(1),max_str2=t2.DajStranicu(1);
        int zapamti_ind1=1,zapamti_ind2=1;
        for(int i=1;i&lt;=3;i++){
            if(t1.DajStranicu(i)&gt;max_str1){max_str1=t1.DajStranicu(i);zapamti_ind1=i;}
            if(t2.DajStranicu(i)&gt;max_str2){max_str2=t2.DajStranicu(i);zapamti_ind2=i;}
        }
        if(t1.DaLiJePozitivnoOrijentiran()){
        if(zapamti_ind1==3)zapamti_ind1=1;
        else zapamti_ind1++;
        }
        else {
            if(zapamti_ind1==1)zapamti_ind1=3;
            else zapamti_ind1--;
        }
        if(t2.DaLiJePozitivnoOrijentiran()){
        if(zapamti_ind2==3)zapamti_ind2=1;
        else zapamti_ind2++;
        }
        else {
            if(zapamti_ind2==1)zapamti_ind2=3;
            else zapamti_ind2--;
        }
        if(Trougao::Jednaki(t1.DajStranicu(zapamti_ind1),t2.DajStranicu(zapamti_ind2)))return true;
    }
    return false;
}
bool DaLiSuSlicni(const Trougao &amp;t1,const Trougao &amp;t2){
if((Trougao::Jednaki(t1.DajUgao(1),t2.DajUgao(1)) || Trougao::Jednaki(t1.DajUgao(1),t2.DajUgao(2)) || Trougao::Jednaki(t1.DajUgao(1),t2.DajUgao(3))) &amp;&amp; (Trougao::Jednaki(t1.DajUgao(2),t2.DajUgao(1)) || Trougao::Jednaki(t1.DajUgao(2),t2.DajUgao(2)) || Trougao::Jednaki(t1.DajUgao(2),t2.DajUgao(3))) &amp;&amp; (Trougao::Jednaki(t1.DajUgao(3),t2.DajUgao(1)) || Trougao::Jednaki(t1.DajUgao(3),t2.DajUgao(2)) || Trougao::Jednaki(t1.DajUgao(3),t2.DajUgao(3)))){
    double max_str1=t1.DajStranicu(1),max_str2=t2.DajStranicu(1);
    int zapamti_ind1=1,zapamti_ind2=1;
    for(int i=1;i&lt;=3;i++){
        if(t1.DajStranicu(i)&gt;max_str1){max_str1=t1.DajStranicu(i);zapamti_ind1=i;}
        if(t2.DajStranicu(i)&gt;max_str2){max_str2=t2.DajStranicu(i);zapamti_ind2=i;}
    }
    if(t1.DaLiJePozitivnoOrijentiran()){
        if(zapamti_ind1==3)zapamti_ind1=1;
        else zapamti_ind1++;
    }
    else {
        if(zapamti_ind1==1)zapamti_ind1=3;
        else zapamti_ind1--;
    }
    if(t2.DaLiJePozitivnoOrijentiran()){
        if(zapamti_ind2==3)zapamti_ind2=1;
        else zapamti_ind2++;
    }
    else {
        if(zapamti_ind2==1)zapamti_ind2=3;
        else zapamti_ind2--;
    }
    if(Trougao::Jednaki(t1.DajStranicu(zapamti_ind1)/t2.DajStranicu(zapamti_ind2),max_str1/max_str2))return true;
}  
return false;
}

int main ()
{
    cout&lt;&lt;"Koliko zelite kreirati trouglova: ";
    int n;cin&gt;&gt;n;
    vector&lt;shared_ptr&lt;Trougao&gt;&gt;vp;
    for(int i=0;i&lt;n;i++){
        vector&lt;Tacka&gt;tjemena(3);
        cout&lt;&lt;"Unesite podatke za "&lt;&lt;i+1&lt;&lt;". trougao (x1 y1 x2 y2 x3 y3): ";
        for(int j=0;j&lt;3;j++){
            int x,y;
            cin&gt;&gt;x&gt;&gt;y;
            tjemena[j]=make_pair(x,y);
           }
           try {
            auto p (make_shared&lt;Trougao&gt;(tjemena[0],tjemena[1],tjemena[2]));
            vp.push_back(p); 
           }
           catch(domain_error e){
               cout&lt;&lt;e.what()&lt;&lt;", ponovite unos!"&lt;&lt;endl;i--;
           }
           catch(range_error r){
               cout&lt;&lt;r.what()&lt;&lt;", ponovite unos!"&lt;&lt;endl;i--;
           }
        }
        cout&lt;&lt;"Unesite vektor translacije (dx dy): ";
        double delta_x,delta_y;
        cin&gt;&gt;delta_x&gt;&gt;delta_y;
        transform(vp.begin(),vp.end(),vp.begin(),[delta_x,delta_y](shared_ptr&lt;Trougao&gt;vp){ vp-&gt;Transliraj(delta_x,delta_y);return vp;});
        cout&lt;&lt;"Unesite ugao rotacije: ";
        double ugao;cin&gt;&gt;ugao;//ugao=ugao*pi/180;
        transform(vp.begin(),vp.end(),vp.begin(),[ugao](shared_ptr&lt;Trougao&gt;vp){ vp-&gt;Rotiraj(vp-&gt;DajCentar(),ugao);return vp;});
        cout&lt;&lt;"Unesite faktor skaliranja: ";
        double faktor;
        cin&gt;&gt;faktor;
        transform(vp.begin(),vp.end(),vp.begin(),[faktor](shared_ptr&lt;Trougao&gt;vp){ vp-&gt;Skaliraj(vp-&gt;DajTjeme(1),faktor);return vp;});
        cout&lt;&lt;"Trouglovi nakon obavljenih transformacija: "&lt;&lt;endl;
        sort(vp.begin(),vp.end(),[](shared_ptr&lt;Trougao&gt;pok,shared_ptr&lt;Trougao&gt;pok2){
           return  (*pok).DajPovrsinu()&lt;(*pok2).DajPovrsinu();
        });
        for_each(vp.begin(),vp.end(),[](shared_ptr&lt;Trougao&gt;pok){
            (*pok).Ispisi();
            cout&lt;&lt;endl;
        });
        cout&lt;&lt;"Trougao sa najmanjim obimom: ";
        if(vp.size()&gt;1){
        auto p=min_element(vp.begin(),vp.end(),[](shared_ptr&lt;Trougao&gt;pok,shared_ptr&lt;Trougao&gt;pok2){
            return (*pok).DajObim()&lt;(*pok2).DajObim();
        });
        (*p)-&gt;Ispisi();
            
        }
        else if(vp.size()==1) (*vp[0]).Ispisi();
        bool a=false;
       vector&lt;pair&lt;shared_ptr&lt;Trougao&gt;,shared_ptr&lt;Trougao&gt;&gt;&gt;parovi1;
        for(int i=0;i&lt;vp.size();i++){
            for(int j=0;j&lt;vp.size();j++){
                if(i==j)continue;
                if(DaLiSuIdenticni(*vp[i],*vp[j])){a=true;parovi1.push_back(make_pair(vp[i],vp[j]));}
            }
        }
        if(!a)cout&lt;&lt;endl&lt;&lt;"Nema identicnih trouglova!"&lt;&lt;endl;
        else {
            for(int i=0;i&lt;parovi1.size();i++){
               for(int j=i+1;j&lt;parovi1.size();j++){
                   if(i==parovi1.size()-1)break;
                   if((parovi1[i].first==parovi1[j].first || parovi1[i].first==parovi1[j].second) &amp;&amp; (parovi1[i].second==parovi1[j].first || parovi1[i].second==parovi1[j].second)){parovi1[j].first=nullptr;parovi1[j].second=nullptr;}
               }
           }
            cout&lt;&lt;endl&lt;&lt;"Parovi identicnih trouglova:"&lt;&lt;endl;
            for(int i=0;i&lt;parovi1.size();i++){
                if(parovi1[i].first!=nullptr &amp;&amp; parovi1[i].second!=nullptr){
               (*parovi1[i].first).Ispisi();cout&lt;&lt;" i ";
               (*parovi1[i].second).Ispisi();cout&lt;&lt;endl;
               }
            }
        }
        a=false;
         vector&lt;pair&lt;shared_ptr&lt;Trougao&gt;,shared_ptr&lt;Trougao&gt;&gt;&gt;parovi2;
        for(int i=0;i&lt;vp.size();i++){
            for(int j=0;j&lt;vp.size();j++){
                if(i==j)continue;
                if(DaLiSuPodudarni((*vp[i]),(*vp[j]))){a=true;parovi2.push_back(make_pair(vp[i],vp[j]));}
            }
        }
        if(!a)cout&lt;&lt;"Nema podudarnih trouglova!"&lt;&lt;endl;
        else {
            for(int i=0;i&lt;parovi2.size();i++){
               for(int j=i+1;j&lt;parovi2.size();j++){
                   if(i==parovi2.size()-1)break;
                   if((parovi2[i].first==parovi2[j].first || parovi2[i].first==parovi2[j].second) &amp;&amp; (parovi2[i].second==parovi2[j].first || parovi2[i].second==parovi2[j].second)){parovi2[j].first=nullptr;parovi2[j].second=nullptr;}
               }
           }
            cout&lt;&lt;"Parovi podudarnih trouglova:"&lt;&lt;endl;
            for(int i=0;i&lt;parovi2.size();i++){
                if(parovi2[i].first!=nullptr &amp;&amp; parovi2[i].second!=nullptr){
               (*parovi2[i].first).Ispisi();cout&lt;&lt;" i ";
               (*parovi2[i].second).Ispisi();cout&lt;&lt;endl;
               }
               
            }
        } 
       a=false;
     
       vector&lt;pair&lt;shared_ptr&lt;Trougao&gt;,shared_ptr&lt;Trougao&gt;&gt;&gt;parovi3;
       for(int i=0;i&lt;vp.size();i++){
           for(int j=0;j&lt;vp.size();j++){
               if(i==j)continue;
               if(DaLiSuSlicni(*vp[i],*vp[j])){a=true;parovi3.push_back(make_pair(vp[i],vp[j]));}
           }
       }
       if(!a)cout&lt;&lt;"Nema slicnih trouglova!";
       else {
           for(int i=0;i&lt;parovi3.size();i++){
               for(int j=i+1;j&lt;parovi3.size();j++){
                   if(i==parovi3.size()-1)break;
                   if((parovi3[i].first==parovi3[j].first || parovi3[i].first==parovi3[j].second) &amp;&amp; (parovi3[i].second==parovi3[j].first || parovi3[i].second==parovi3[j].second)){parovi3[j].first=nullptr;parovi3[j].second=nullptr;}
               }
           }
           cout&lt;&lt;"Parovi slicnih trouglova:"&lt;&lt;endl;
           for(int i=0;i&lt;parovi3.size();i++){
               if(parovi3[i].first!=nullptr &amp;&amp; parovi3[i].second!=nullptr){
               (*parovi3[i].first).Ispisi();cout&lt;&lt;" i ";
               (*parovi3[i].second).Ispisi();cout&lt;&lt;endl;
               }
           }
       }
      
	return 0;
</font>}</pre>
</body>
</html>
