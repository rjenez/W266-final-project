<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z1/student9207.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z1/student9207.cpp<p></p><pre>
/B 2016/2017, ZadaÄ‡a 4, Zadatak 1
#include &lt;iostream&gt;
#include &lt;utility&gt;
#include &lt;stdexcept&gt;
#include &lt;cmath&gt;
#include &lt;algorithm&gt;
#include &lt;memory&gt;
#include &lt;vector&gt;
typedef std::pair&lt;double,double&gt; Tacka;
class Trougao{
  static constexpr double  eps=1e-10;
  Tacka a,b,c;
  void Testindeksa(int indeks)const {if(indeks&lt;0 || indeks&gt;3)throw std::range_error("Nekorektan indeks");}
  static int test_orijentacije(Tacka t1, Tacka t2, Tacka t3);
  double Udaljenost_tacaka  (const Tacka &amp;t1,const Tacka &amp;t2)const ;
  static bool Isti(double x,double y);
  static bool Proporcionalne(double x1,double y1,double x2,double y2);
  Tacka Rotacija(const Tacka &amp;t,const Tacka &amp;r,double ugao);
  Tacka Skaliranje(const Tacka &amp;t,const Tacka &amp;r,double faktor);
  public:
  Trougao(const Tacka &amp;t1,const Tacka &amp;t2,const Tacka &amp;t3);
  void Postavi(const Tacka &amp;t1,const Tacka &amp;t2,const Tacka &amp;t3);
  void Postavi(int indeks,const Tacka &amp;t);
  static int Orijentacija(const Tacka &amp;t1,const Tacka &amp;t2,const Tacka &amp;t3);
  Tacka DajTjeme(int indeks) const;
  double DajStranicu(int indeks)const;
  double DajUgao (int indeks) const;
  Tacka DajCentar() const;
  double DajObim() const;
  double DajPovrsinu() const;
  bool DaLiJePozitivnoOrijentiran() const;
  bool DaLiJeUnutra(const Tacka &amp;t) const;
  void Ispisi() const;
  void Transliraj(double delta_x,double delta_y);
  void Centriraj(const Tacka &amp;t);
  void Rotiraj(const Tacka &amp;t,double ugao);
  void Skaliraj(const Tacka &amp;t,double faktor);
  void Rotiraj(double ugao);
  void Skaliraj(double faktor);
  friend bool DaLiSuIdenticni(const Trougao &amp;t1,const Trougao &amp;t2);
  friend bool DaLiSuPodudarni(const Trougao &amp;t1,const Trougao &amp;t2);
  friend bool DaLiSuSlicni(const Trougao &amp;t1,const Trougao &amp;t2);
  
};
bool Trougao::Isti(double x,double y){
return std::fabs(x-y)&lt;=eps*(std::fabs(x)+std::fabs(y));
}
int Trougao::test_orijentacije(Tacka t1, Tacka t2, Tacka t3){
<a name="2"></a><font color="#0000FF"><a href="match329-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_1.gif"/></a>

return(t1.first*(t2.second-t3.second)-t2.first*(t1.second-t3.second)+t3.first*(t1.second-t2.second));
}

int Trougao::Orijentacija(const Tacka &amp;t1,const Tacka &amp;t2,const Tacka &amp;t3){
  if(test_orijentacije(t1,t2,t3)==0)return 0;
</font>  if(test_orijentacije(t1,t2,t3)&gt;0) return 1;
  if(test_orijentacije(t1,t2,t3)&lt;0) return -1;
  return 0;
}


Trougao::Trougao(const Tacka &amp;t1,const Tacka &amp;t2,const Tacka &amp;t3){
  Postavi(t1,t2,t3);
}

void Trougao::Postavi(const Tacka &amp;t1,const Tacka &amp;t2,const Tacka &amp;t3){
if(test_orijentacije(t1,t2,t3)==0) throw std::domain_error("Nekorektne pozicije tjemena");

  a.first=t1.first;a.second=t1.second;
  b.first=t2.first;b.second=t2.second;
  c.first=t3.first;c.second=t3.second;
}

void Trougao::Postavi(int indeks,const Tacka &amp;t){
 Testindeksa(indeks);
 if(indeks==1)      Postavi(t,b,c);
 else if(indeks==2) Postavi(a,t,c);
 else if(indeks==3) Postavi(a,b,t);
}

Tacka Trougao::DajTjeme(int indeks)const {
  Testindeksa(indeks);
<a name="4"></a><font color="#FF00FF"><a href="match329-1.html#4" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_0.gif"/></a>

  if(indeks==1) return a;
  else if(indeks==2) return b;
  return c;
}

double Trougao::Udaljenost_tacaka (const Tacka &amp;t1,const Tacka &amp;t2)const{
</font>return sqrt( ((t2.first-t1.first)*(t2.first-t1.first))+((t2.second-t1.second)*(t2.second-t1.second)));
}

double Trougao::DajStranicu(int indeks)const{
  Testindeksa(indeks);
  if(indeks==1) return Udaljenost_tacaka(b,c);
  else  if(indeks==2) return Udaljenost_tacaka(a,c);
  else return Udaljenost_tacaka(a,b);
}

double Trougao::DajUgao(int indeks)const{
  Testindeksa(indeks);
  double A(Udaljenost_tacaka(b,c));
  double B(Udaljenost_tacaka(a,c));
  double C(Udaljenost_tacaka(a,b));
  if(indeks ==1 ) return acos((C*C+B*B-A*A)*1./(2*C*B));
  else if(indeks==2) return acos((A*A+C*C-B*B)*1./(2*A*C));
  else return acos((A*A+B*B-C*C)*1./(2*A*B));
  
}

Tacka Trougao::DajCentar()const{
<a name="1"></a><font color="#00FF00"><a href="match329-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_1.gif"/></a>

  return Tacka((a.first+b.first+c.first)/3. ,(a.second+b.second+c.second)/3.);
}

double Trougao::DajObim()const{
  return Udaljenost_tacaka(a,b)+Udaljenost_tacaka(a,c)+Udaljenost_tacaka(b,c);
}

double Trougao::DajPovrsinu()const{
</font>  return double((std::abs(test_orijentacije(a,b,c)/2.))) ;
}

bool Trougao::DaLiJePozitivnoOrijentiran()const{
  if(Orijentacija(a,b,c)==1)return true;
  return false;
}

bool Trougao::DaLiJeUnutra(const Tacka &amp;t)const{
  Trougao P(a,b,c);
  Trougao A(a,b,t);
  Trougao B(b,c,t);
  Trougao C(a,c,t);
<a name="5"></a><font color="#FF0000"><a href="match329-1.html#5" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_0.gif"/></a>

  if(Isti( (A.DajPovrsinu()+B.DajPovrsinu()+C.DajPovrsinu()),P.DajPovrsinu() )) return true;
  return false;
}

void Trougao::Ispisi()const{
  std::cout&lt;&lt;"(("&lt;&lt;a.first&lt;&lt;","&lt;&lt;a.second&lt;&lt;"),"
</font>  &lt;&lt;"("&lt;&lt;b.first&lt;&lt;","&lt;&lt;b.second&lt;&lt;"),"
  &lt;&lt;"("&lt;&lt;c.first&lt;&lt;","&lt;&lt;c.second&lt;&lt;"))";
}

void Trougao::Transliraj(double delta_x,double delta_y){
Postavi(Tacka(a.first+delta_x,a.second+delta_y),Tacka(b.first+delta_x,b.second+delta_y),Tacka(c.first+delta_x,c.second+delta_y));  
}

void Trougao::Centriraj(const Tacka &amp;t){
  Trougao A(a,b,c);
  Tacka p=A.DajCentar();
  Transliraj(t.first-p.first,t.second-p.second);
}

Tacka Trougao::Rotacija(const Tacka &amp;t,const Tacka &amp;r,double ugao){
return(Tacka(r.first+(t.first-r.first)*(cos(ugao))-(t.second-r.second)*(sin(ugao)),r.second+(t.first-r.first)*(sin(ugao))+(t.second-r.second)*(cos(ugao))));  
}

void Trougao::Rotiraj(const Tacka &amp;t,double ugao){
  
  Postavi(1,Rotacija(a,t,ugao));
  Postavi(2,Rotacija(b,t,ugao));
  Postavi(3,Rotacija(c,t,ugao));
 
}

void Trougao::Rotiraj(double ugao){
  Trougao A (a,b,c);
  Rotiraj(A.DajCentar(),ugao);
}

Tacka Trougao::Skaliranje(const Tacka &amp;t,const Tacka &amp;r,double faktor){
return (Tacka(r.first+faktor*(t.first-r.first),r.second+faktor*(t.second-r.second)));
}

void Trougao::Skaliraj(const Tacka &amp;t,double faktor){
  if(Isti(faktor,0))throw std::domain_error ("Nekorektan faktor skaliranja");
  else if(Isti(t.first,a.first) &amp;&amp; Isti(t.second,a.second)){ 
    Postavi(2,Skaliranje(b,t,faktor));
    Postavi(3,Skaliranje(c,t,faktor));
  }
  else if(Isti(t.first,b.first) &amp;&amp; Isti(t.second,b.second)){
   Postavi(1,Skaliranje(a,t,faktor));
   Postavi(3,Skaliranje(c,t,faktor));
  }
  else if(Isti(t.first,c.first) &amp;&amp; Isti(t.second,c.second)){
   Postavi(1,Skaliranje(a,t,faktor));
   Postavi(2,Skaliranje(b,t,faktor));
  }

}
void Trougao::Skaliraj(double faktor){
  Trougao A (a,b,c);
  Skaliraj(A.DajCentar(),faktor);
}

bool DaLiSuIdenticni(const Trougao &amp;t1,const Trougao &amp;t2){
  std::vector&lt;double&gt;x1{t1.a.first,t1.b.first,t1.c.first};
  std::vector&lt;double&gt;y1{t1.a.second,t1.b.second,t1.c.second};
  std::vector&lt;double&gt;x2{t2.a.first,t2.b.first,t2.c.first};
  std::vector&lt;double&gt;y2{t2.a.second,t2.b.second,t2.c.second};
  std::sort(x1.begin(),x1.end());
  std::sort(y1.begin(),y1.end());
  std::sort(x2.begin(),x2.end());
  std::sort(y2.begin(),y2.end());

 return (x1==x2 &amp;&amp; y1==y2);
}
bool Trougao::Proporcionalne(double x1,double y1,double x2,double y2){
  std::vector&lt;double&gt;v1{x1,y1};
  std::vector&lt;double&gt;v2{x2,y2};
  std::sort(v1.begin(),v1.end());
  std::sort(v2.begin(),v2.end());
  double a(v1[0]/v2[0]);double b(v1[1]/v2[1]);
  return (Trougao::Isti(a,b));
  
}
bool DaLiSuPodudarni(const Trougao&amp;t1,const Trougao &amp;t2){
  if(Trougao::Isti(t1.DajStranicu(1),t2.DajStranicu(1))){
     if(Trougao::Isti(t1.DajUgao(2),t2.DajUgao(3)) &amp;&amp; Trougao::Isti(t1.DajUgao(3),t2.DajUgao(2)) &amp;&amp;
<a name="6"></a><font color="#00FF00"><a href="match329-1.html#6" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_0.gif"/></a>

        t1.DaLiJePozitivnoOrijentiran()!=t2.DaLiJePozitivnoOrijentiran()) return true;
     if(Trougao::Isti(t1.DajUgao(2),t2.DajUgao(2)) &amp;&amp; Trougao::Isti(t1.DajUgao(3),t2.DajUgao(3))&amp;&amp;
</font>        t1.DaLiJePozitivnoOrijentiran()==t2.DaLiJePozitivnoOrijentiran()) return true;
  }
<a name="7"></a><font color="#0000FF"><a href="match329-1.html#7" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_0.gif"/></a>

  else if(Trougao::Isti(t1.DajStranicu(1),t2.DajStranicu(2))){
          if(Trougao::Isti(t1.DajUgao(2),t2.DajUgao(1))&amp;&amp; Trougao::Isti(t1.DajUgao(3),t2.DajUgao(3))&amp;&amp;
</font>             t1.DaLiJePozitivnoOrijentiran()!=t2.DaLiJePozitivnoOrijentiran())return true;
          if(Trougao::Isti(t1.DajUgao(2),t2.DajUgao(3)) &amp;&amp; Trougao::Isti(t1.DajUgao(3),t2.DajUgao(1))&amp;&amp;
             t1.DaLiJePozitivnoOrijentiran()==t2.DaLiJePozitivnoOrijentiran()) return true;
  }
<a name="8"></a><font color="#00FFFF"><a href="match329-1.html#8" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_0.gif"/></a>

    else if(Trougao::Isti(t1.DajStranicu(1),t2.DajStranicu(3))){
          if(Trougao::Isti(t1.DajUgao(3),t2.DajUgao(1))&amp;&amp;Trougao::Isti(t1.DajUgao(2),t2.DajUgao(2))&amp;&amp;
</font>            t1.DaLiJePozitivnoOrijentiran()!=t2.DaLiJePozitivnoOrijentiran()) return true;
          if(Trougao::Isti(t1.DajUgao(3),t2.DajUgao(2))&amp;&amp; Trougao::Isti(t1.DajUgao(2),t2.DajUgao(1))&amp;&amp;
            t1.DaLiJePozitivnoOrijentiran()==t2.DaLiJePozitivnoOrijentiran()) return true;
    }
  return false;
  }
  bool DaLiSuSlicni(const Trougao &amp;t1,const Trougao &amp;t2){
   if(DaLiSuPodudarni(t1,t2)) return true;
<a name="9"></a><font color="#FF00FF"><a href="match329-1.html#9" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_0.gif"/></a>

   else if(Trougao::Isti(t1.DajStranicu(1),t2.DajStranicu(1))){
          if(Trougao::Isti(t1.DajUgao(2),t2.DajUgao(3))&amp;&amp;Trougao::Isti(t1.DajUgao(3),t2.DajUgao(2))&amp;&amp;
</font>            t1.DaLiJePozitivnoOrijentiran()!=t2.DaLiJePozitivnoOrijentiran()) return true;
          if(Trougao::Isti(t1.DajUgao(2),t2.DajUgao(2))&amp;&amp; Trougao::Isti(t1.DajUgao(3),t2.DajUgao(3))&amp;&amp;
            t1.DaLiJePozitivnoOrijentiran()==t2.DaLiJePozitivnoOrijentiran()) return true;
  }
  else if(Trougao::Proporcionalne(t1.DajStranicu(1),t1.DajStranicu(2),t2.DajStranicu(1),t2.DajStranicu(2))){
          if(Trougao::Isti(t1.DajUgao(2),t2.DajUgao(1))&amp;&amp;Trougao::Isti(t1.DajUgao(3),t2.DajUgao(3))&amp;&amp;
            t1.DaLiJePozitivnoOrijentiran()!=t2.DaLiJePozitivnoOrijentiran()) return true;
          if(Trougao::Isti(t1.DajUgao(2),t2.DajUgao(3))&amp;&amp; Trougao::Isti(t1.DajUgao(3),t2.DajUgao(1))&amp;&amp;
             t1.DaLiJePozitivnoOrijentiran()==t2.DaLiJePozitivnoOrijentiran()) return true;  
  }
  
  else if(Trougao::Proporcionalne(t1.DajStranicu(1),t1.DajStranicu(3),t2.DajStranicu(1),t2.DajStranicu(3))){
          if(Trougao::Isti(t1.DajUgao(3),t2.DajUgao(1))&amp;&amp;Trougao::Isti(t1.DajUgao(2),t2.DajUgao(2))&amp;&amp;
          t1.DaLiJePozitivnoOrijentiran()!=t2.DaLiJePozitivnoOrijentiran()) return true;
          if(Trougao::Isti(t1.DajUgao(3),t2.DajUgao(2))&amp;&amp;Trougao::Isti(t1.DajUgao(2),t2.DajUgao(1))&amp;&amp;
          t1.DaLiJePozitivnoOrijentiran()==t2.DaLiJePozitivnoOrijentiran()) return true;
  }
  return false;
  }
  
  
int main(){
  int n;
  std::cout&lt;&lt;"Koliko zelite kreirati trouglova: ";
  std::cin&gt;&gt;n;
  std::vector&lt;std::shared_ptr&lt;Trougao&gt;&gt;Trouglovi;
  Tacka a,b,c;
  for(int i(0);i&lt;n;i++){
<a name="3"></a><font color="#00FFFF"><a href="match329-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_1.gif"/></a>

  std::cout&lt;&lt;"Unesite podatke za "&lt;&lt;i+1&lt;&lt;". trougao (x1 y1 x2 y2 x3 y3): ";
  std::cin&gt;&gt;a.first&gt;&gt;a.second&gt;&gt;b.first&gt;&gt;b.second&gt;&gt;c.first&gt;&gt;c.second;
</font>  try{
<a name="0"></a><font color="#FF0000"><a href="match329-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_4.gif"/></a>

    Trouglovi.emplace_back(std::make_shared&lt;Trougao&gt;(Trougao(a,b,c)));
  }
  catch(std::domain_error iz){
    std::cout&lt;&lt;iz.what()&lt;&lt;", ponovite unos!"&lt;&lt;std::endl;
    i--;
  }
}

  double delta_x,delta_y,ugao,faktor;
  std::cout&lt;&lt;"Unesite vektor translacije (dx dy): ";
  std::cin&gt;&gt;delta_x&gt;&gt;delta_y;
  std::cout&lt;&lt;"Unesite ugao rotacije: ";
  std::cin&gt;&gt;ugao;
  std::cout&lt;&lt;"Unesite faktor skaliranja: ";
  std::cin&gt;&gt;faktor;

try{
  std::transform(Trouglovi.begin(),Trouglovi.end(),Trouglovi.begin(),[delta_x,delta_y,ugao,faktor](std::shared_ptr&lt;Trougao&gt; t1){
  t1-&gt;Transliraj(delta_x,delta_y);
  t1-&gt;Rotiraj(t1-&gt;DajCentar(),ugao);
  t1-&gt;Skaliraj(t1-&gt;DajTjeme(1),faktor);
  return t1;});
</font>
std::sort(Trouglovi.begin(),Trouglovi.end(),[](std::shared_ptr&lt;const Trougao&gt;t1,std::shared_ptr&lt;const Trougao&gt;t2){
  return t1-&gt;DajPovrsinu() &lt; t2-&gt;DajPovrsinu();});
 std::cout&lt;&lt;"Trouglovi nakon obavljenih transformacija:"&lt;&lt;std::endl;
 std::for_each(Trouglovi.begin(),Trouglovi.end(),[](std::shared_ptr&lt;const Trougao&gt;t){t-&gt;Ispisi();std::cout&lt;&lt;std::endl;});

auto p=std::min_element(Trouglovi.begin(),Trouglovi.end(),[](std::shared_ptr&lt;const Trougao&gt;t1,std::shared_ptr&lt;const Trougao&gt;t2){
   return (t1-&gt;DajObim() &lt; t2-&gt;DajObim());}  );
 std::cout&lt;&lt;"Trougao sa najmanjim obimom: "; (*p)-&gt;Ispisi();
  std::cout&lt;&lt;std::endl;
 int identicnih(0);
  for(int i(0);i&lt;n;i++){
<a name="10"></a><font color="#FF0000"><a href="match329-1.html#10" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_0.gif"/></a>

    for(int j=i+1;j&lt;n;j++) if(DaLiSuIdenticni(*Trouglovi[i],*Trouglovi[j]))identicnih++;
    }
  if(identicnih==0) std::cout&lt;&lt;"Nema identicnih trouglova!\n";
</font>  else{
    std::cout&lt;&lt;"Parovi identicnih trouglova:\n";
    for(int i(0);i&lt;n;i++){
      for(int j=i+1;j&lt;n;j++){
        if(DaLiSuIdenticni(*Trouglovi[i],*Trouglovi[j])){
        Trouglovi[i]-&gt;Ispisi();std::cout&lt;&lt;" i "; Trouglovi[j]-&gt;Ispisi();
        std::cout&lt;&lt;std::endl;
        }
      }
    }
  } 
  int podudarnih(0);
  for(int i(0);i&lt;n;i++){
<a name="11"></a><font color="#00FF00"><a href="match329-1.html#11" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_0.gif"/></a>

    for(int j=i+1;j&lt;n;j++) if(DaLiSuPodudarni(*Trouglovi[i],*Trouglovi[j])) podudarnih++;
  }
  if(podudarnih==0) std::cout&lt;&lt;"Nema podudarnih trouglova!\n";
</font>  else{
    std::cout&lt;&lt;"Parovi podudarnih trouglova:\n";
    for(int i(0);i&lt;n;i++){
      for(int j=i+1;j&lt;n;j++){
        if(DaLiSuPodudarni(*Trouglovi[i],*Trouglovi[j])){
          Trouglovi[i]-&gt;Ispisi();std::cout&lt;&lt;" i ";Trouglovi[j]-&gt;Ispisi();
          std::cout&lt;&lt;std::endl;
        }
      }
    }
  }
  

 int slicnih(0);
 for(int i(0);i&lt;n;i++){
<a name="12"></a><font color="#0000FF"><a href="match329-1.html#12" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_0.gif"/></a>

   for(int j=i+1;j&lt;n;j++)if(DaLiSuSlicni(*Trouglovi[i],*Trouglovi[j])) slicnih++;
 }
 if(slicnih==0) std::cout&lt;&lt;"Nema slicnih trouglova!\n";
</font>else{
  std::cout&lt;&lt;"Parovi slicnih trouglova:\n";
  for(int i(0);i&lt;n;i++){
    for(int j=i+1;j&lt;n;j++){
      if(DaLiSuSlicni(*Trouglovi[i],*Trouglovi[j])){
        Trouglovi[i]-&gt;Ispisi();std::cout&lt;&lt;" i ";Trouglovi[j]-&gt;Ispisi();
        std::cout&lt;&lt;std::endl;
          }
        }
      }
    }
    

}
catch(std::domain_error iz){
  std::cout&lt;&lt;iz.what();
}
return 0;
}


</pre>
</body>
</html>
