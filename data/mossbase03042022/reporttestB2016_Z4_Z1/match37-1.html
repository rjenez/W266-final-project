<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z1/student8560.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z1/student4150.cpp<p></p><pre>
#include &lt;iostream&gt;
#include &lt;stdexcept&gt;
#include &lt;cmath&gt;
#include &lt;vector&gt;
#include &lt;algorithm&gt;
#include &lt;memory&gt;
#include &lt;iomanip&gt;
#include &lt;string&gt;
<a name="1"></a><font color="#00FF00"><a href="match37-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_10.gif"/></a>

typedef std::pair&lt;double, double&gt; Tacka;
const double PI(4. * std::atan(1));
const double eps(1e-10);
class Trougao {
    Tacka tacka1, tacka2, tacka3;
    static bool IstaTacka(const Tacka &amp;t1, const Tacka &amp;t2);
    public:
    Trougao(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3) {
        if(Orijentacija(t1,t2,t3) == 0) throw std::domain_error ("Nekorektne pozicije tjemena");
        Trougao::tacka1 = t1;
        Trougao::tacka2 = t2;
        Trougao::tacka3 = t3;
    }
    void Postavi(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3) {
        Trougao::tacka1 = t1;
        Trougao::tacka2 = t2;
        Trougao::tacka3 = t3;
    }
    void Postavi(int indeks, const Tacka &amp;t) {
        if(indeks &lt; 1 || indeks &gt; 3) throw std::range_error ("Nekorektan indeks");
        if(indeks == 1 &amp;&amp; (Orijentacija(t, tacka2, tacka3)) == 0)
            throw std::domain_error ("Nekorektne pozicije tjemena");
        if(indeks == 2 &amp;&amp; (Orijentacija(tacka1, t, tacka3) == 0))
            throw std::domain_error ("Nekorektne pozicije tjemena");
        if(indeks == 3 &amp;&amp; Orijentacija(tacka1, tacka2, t) == 0)
            throw std::domain_error ("Nekorektne pozicije tjemena");
        if(indeks == 1) tacka1 = t;
        if(indeks == 2) tacka2 = t;
        if(indeks == 3) tacka3 = t;
    }
    static int Orijentacija(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3) {
        auto pom(t1.first*(t2.second - t3.second) - t2.first*(t1.second - t3.second) + t3.first*(t1.second - t2.second));
        if (std::fabs(pom) &gt; 0 &amp;&amp; pom &gt; 0) return 1;
        if(std::fabs(pom) &gt; 0 &amp;&amp; pom &lt; 0) return -1;
        else return 0;
    }
    Tacka DajTjeme(int indeks) const {
        if(indeks &lt; 1 || indeks &gt; 3) throw std::range_error ("Nekorektan indeks");
        if(indeks == 1) return tacka1;
        if(indeks == 2) return tacka2;
        if(indeks == 3) return tacka3;
    }
    double DajStranicu(int indeks) const {
        if(indeks &lt; 1 || indeks &gt; 3) throw std::range_error ("Nekorektan indeks");
        if(indeks == 1) return sqrt((tacka2.first - tacka3.first) * (tacka2.first - tacka3.first) + (tacka2.second - tacka3.second) * (tacka2.second - tacka3.second));
</font>        if(indeks == 2) return sqrt((tacka1.first - tacka3.first) * (tacka1.first - tacka3.first) + (tacka1.second - tacka3.second) * (tacka1.second - tacka3.second));
<a name="2"></a><font color="#0000FF"><a href="match37-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_9.gif"/></a>

        if(indeks == 3) return sqrt((tacka1.first - tacka2.first) * (tacka1.first - tacka2.first) + (tacka1.second - tacka2.second) * (tacka1.second - tacka2.second));
    }
    double DajUgao(int indeks) const {
        if(indeks &lt; 1 || indeks &gt; 3) throw std::range_error ("Nekorektan indeks");
        double a, b, c;
        a = DajStranicu(1);
        b = DajStranicu(2);
        c = DajStranicu(3);
        if(indeks == 1) return ((4 * std::atan(1))*(std::acos((b * b + c * c - a * a)/(2 * b * c))));
        if(indeks == 2) return ((4 * std::atan(1))*(std::acos((a * a + c * c - b * b)/(2 * a * c))));
        if(indeks == 3) return ((4 * std::atan(1))*(std::acos((a * a + b * b - c * c)/(2 * a * b))));
    }
    Tacka DajCentar() const {
        Tacka teziste;
        teziste.first = (tacka1.first + tacka2.first + tacka3.first)/3.;
        teziste.second = (tacka1.second + tacka2.second + tacka3.second)/3.;
        return teziste;
    }
    double DajObim() const {
        double obim;
        double a = DajStranicu(1);
        double b = DajStranicu(2);
        double c = DajStranicu(3);
        obim = a + b + c;
        return obim;
    }
    double DajPovrsinu() const {
        double povrsina;
        povrsina = (0.5*(std::fabs(tacka1.first*(tacka2.second - tacka3.second) - tacka2.first*(tacka1.second - tacka3.second) + tacka3.first*(tacka1.second - tacka2.second))));
        return povrsina;
    }
    bool DaLiJePozitivnoOrijentiran() const {
        if(Orijentacija(tacka1, tacka2, tacka3) == 1) return true;
        else return false;
    }
    bool DaLiJeUnutra(const Tacka &amp;t) const {
        if(Orijentacija(tacka1, tacka2, tacka3) == Orijentacija(tacka1, tacka2, t) ==  Orijentacija(tacka2, tacka3, t) == Orijentacija(tacka3, tacka1, t)) return true;
        else return false;
    }
    void Ispisi() const {
        std::cout &lt;&lt; "(("&lt;&lt;tacka1.first&lt;&lt;","&lt;&lt;tacka1.second&lt;&lt;"),("&lt;&lt;tacka2.first&lt;&lt;","&lt;&lt;tacka2.second&lt;&lt;"),("&lt;&lt;tacka3.first&lt;&lt;","&lt;&lt;tacka3.second&lt;&lt;"))";
</font>    }
    void Transliraj(double delta_x, double delta_y) {
        tacka1.first += delta_x; tacka1.second += delta_y;
<a name="3"></a><font color="#00FFFF"><a href="match37-0.html#3" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_6.gif"/></a>

        tacka2.first += delta_x; tacka2.second += delta_y;
        tacka3.first += delta_x; tacka3.second += delta_y;
    }
    void Centriraj(const Tacka &amp;t) {
        Tacka teziste;
        teziste.first = (tacka1.first + tacka2.first + tacka3.first)/3.;
        teziste.second = (tacka1.second + tacka2.second + tacka3.second)/3.;
        double deltax = std::fabs(t.first - teziste.first);
        double deltay = std::fabs(t.second - teziste.second);
        tacka1.first += deltax; tacka1.second += deltay;
        tacka2.first += deltax; tacka2.second += deltay;
        tacka3.first += deltax; tacka3.second += deltay;
        teziste.first = t.first;
        teziste.second = t.second;
    }
    void Rotiraj(const Tacka &amp;t, double ugao) {
        auto x1(tacka1.first), x2(tacka2.first), x3(tacka3.first);
        tacka1.first = (t.first + (tacka1.first - t.first) * std::cos(ugao) - (tacka1.second - t.second)* std::sin(ugao));
        tacka1.second = (t.second + (x1 - t.first) * std::sin(ugao) + (tacka1.second - t.second) * std::cos(ugao));
</font><a name="7"></a><font color="#0000FF"><a href="match37-0.html#7" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_1.gif"/></a>

        tacka2.first = (t.first + (tacka2.first - t.first) * std::cos(ugao) - (tacka2.second - t.second) * std::sin(ugao));
        tacka2.second = (t.second + (x2 - t.first) * std::sin(ugao) + (tacka2.second - t.second) * std::cos(ugao));
</font><a name="6"></a><font color="#00FF00"><a href="match37-0.html#6" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_2.gif"/></a>

        tacka3.first = (t.first + (tacka3.first - t.first) * std::cos(ugao) - (tacka3.second - t.second) * std::sin(ugao));
        tacka3.second = (t.second + (x3 - t.first) * std::sin(ugao) + (tacka3.second - t.second) * std::cos(ugao));
    }
    void Skaliraj(const Tacka &amp;t, double faktor) {
        if(std::fabs(faktor) &lt; eps) throw std::domain_error ("Nekorektan faktor skaliranja");
            tacka1.first = (t.first + faktor * (tacka1.first - t.first));
            tacka1.second = (t.second + faktor * (tacka1.second - t.second));
</font>            tacka2.first = (t.first + faktor * (tacka2.first - t.first));
            tacka2.second = (t.second + faktor * (tacka2.second - t.second));
<a name="4"></a><font color="#FF00FF"><a href="match37-0.html#4" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_4.gif"/></a>

            tacka3.first = (t.first + faktor * (tacka3.first - t.first));
            tacka3.second = (t.second + faktor * (tacka3.second - t.second));
        if(faktor &lt; 0 &amp;&amp; std::fabs(faktor) &gt; 0) {
            Rotiraj(PI);
        }
    }
    void Rotiraj(double ugao) {
        auto x1(tacka1.first), x2(tacka2.first), x3(tacka3.first);
        Tacka t;
        t.first = (tacka1.first + tacka2.first + tacka3.first)/3.;
        t.second = (tacka1.second + tacka2.second + tacka3.second)/3.;
        tacka1.first = (t.first + (tacka1.first - t.first) * std::cos(ugao) - (tacka1.second - t.second) * std::sin(ugao));
        tacka1.second = (t.second + (x1 - t.first) * std::sin(ugao) + (tacka1.second - t.second) * std::cos(ugao));
</font><a name="8"></a><font color="#00FFFF"><a href="match37-0.html#8" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_1.gif"/></a>

        tacka2.first = (t.first + (tacka2.first - t.first) * std::cos(ugao) - (tacka2.second - t.second) * std::sin(ugao));
        tacka2.second = (t.second + (x2 - t.first) * std::sin(ugao) + (tacka2.second - t.second) * std::cos(ugao));
</font><a name="5"></a><font color="#FF0000"><a href="match37-0.html#5" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_3.gif"/></a>

        tacka3.first = (t.first + (tacka3.first - t.first) * std::cos(ugao) - (tacka3.second - t.second) * std::sin(ugao));
        tacka3.second = (t.second + (x3 - t.first) * std::sin(ugao) + (tacka3.second - t.second) * std::cos(ugao));
        }
    void Skaliraj(double faktor) {
        if(std::fabs(faktor) &lt; eps) throw std::domain_error ("Nekorektan faktor skaliranja");
        Tacka t;
        t.first = (tacka1.first + tacka2.first + tacka3.first)/3.;
        t.second = (tacka1.second + tacka2.second + tacka3.second)/3.;
        tacka1.first = (t.first + faktor * (tacka1.first - t.first));
        tacka1.second = (t.second + faktor * (tacka1.second - t.second));
</font>        tacka2.first = (t.first + faktor * (tacka2.first - t.first));
        tacka2.second = (t.second + faktor * (tacka2.second - t.second));
<a name="0"></a><font color="#FF0000"><a href="match37-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_50.gif"/></a>

        tacka3.first = (t.first + faktor * (tacka3.first - t.first));
        tacka3.second = (t.second + faktor * (tacka3.second - t.second));
        if (faktor &lt; 0) Rotiraj(PI);
    }
    friend bool DaLiSuIdenticni(const Trougao &amp;t1, const Trougao &amp;t2);
    friend bool DaLiSuPodudarni(const Trougao &amp;t1, const Trougao &amp;t2);
    friend bool DaLiSuSlicni(const Trougao &amp;t1, const Trougao &amp;t2);
};
bool Trougao::IstaTacka(const Tacka &amp;t1, const Tacka &amp;t2) {
    if (std::fabs(t1.first - t2.first) &lt; eps &amp;&amp; std::fabs(t1.second - t2.second) &lt; eps) return true;
    return false;
}

bool DaLiSuIdenticni(const Trougao &amp;t1, const Trougao &amp;t2) {
    if ((Trougao::IstaTacka(t1.tacka1, t2.tacka1) || Trougao::IstaTacka(t1.tacka1, t2.tacka2) || Trougao::IstaTacka(t1.tacka1, t2.tacka3)) &amp;&amp; (Trougao::IstaTacka(t1.tacka2, t2.tacka1) 
    || Trougao::IstaTacka(t1.tacka2, t2.tacka2) || Trougao::IstaTacka(t1.tacka2, t2.tacka3)) &amp;&amp; (Trougao::IstaTacka(t1.tacka3, t2.tacka1) || Trougao::IstaTacka(t1.tacka3, t2.tacka2)
    || Trougao::IstaTacka(t1.tacka3, t2.tacka3))) return true;
    return false;
}
bool DaLiSuPodudarni(const Trougao &amp;t1, const Trougao &amp;t2) {
    if (!((std::fabs(t1.DajStranicu(1) - t2.DajStranicu(1)) &lt; eps || std::fabs(t1.DajStranicu(1) - t2.DajStranicu(2)) &lt; eps || std::fabs(t1.DajStranicu(1) - t2.DajStranicu(3)) &lt; eps) &amp;&amp;
    (std::fabs(t1.DajStranicu(2) - t2.DajStranicu(1)) &lt; eps || std::fabs(t1.DajStranicu(2) - t2.DajStranicu(2)) &lt; eps || std::fabs(t1.DajStranicu(2) - t2.DajStranicu(3)) &lt; eps) &amp;&amp;
    (std::fabs(t1.DajStranicu(3) - t2.DajStranicu(1)) &lt; eps || std::fabs(t1.DajStranicu(3) - t2.DajStranicu(2)) &lt; eps || std::fabs(t1.DajStranicu(3) - t2.DajStranicu(3)) &lt; eps))) return false;
    std::vector&lt;std::pair&lt;double, Tacka&gt;&gt; v1, v2;
    v1.push_back(std::make_pair(t1.DajStranicu(1), t1.DajTjeme(1)));
    v1.push_back(std::make_pair(t1.DajStranicu(2), t1.DajTjeme(2)));
    v1.push_back(std::make_pair(t1.DajStranicu(3), t1.DajTjeme(3)));
    v2.push_back(std::make_pair(t2.DajStranicu(1), t2.DajTjeme(1)));
    v2.push_back(std::make_pair(t2.DajStranicu(2), t2.DajTjeme(2)));
    v2.push_back(std::make_pair(t2.DajStranicu(3), t2.DajTjeme(3)));
    std::sort(v1.begin(), v1.end(), [](std::pair&lt;double, Tacka&gt; a, std::pair&lt;double, Tacka&gt; b) {
        return a.first &lt; b.first;
    });
    std::sort(v2.begin(), v2.end(), [](std::pair&lt;double, Tacka&gt; a, std::pair&lt;double, Tacka&gt; b) {
        return a.first &lt; b.first;
    });
    int or_1(Trougao::Orijentacija(v1[0].second, v1[1].second, v1[2].second));
    int or_2(Trougao::Orijentacija(v2[0].second, v2[1].second, v2[2].second));
    if (or_1 == or_2) return true;
    return false;
}
bool DaLiSuSlicni(const Trougao &amp;t1, const Trougao &amp;t2) {
    double a1, b1, c1, a2, b2, c2;
    a1 = t1.DajUgao(1);
    a2 = t2.DajUgao(1);
    b1 = t1.DajUgao(2);
    b2 = t2.DajUgao(2);
    c1 = t1.DajUgao(3);
    c2 = t2.DajUgao(3);
    if (!((std::fabs(a1 - a2) &lt; eps || std::fabs(a1 - b2) &lt; eps || std::fabs(a1 - c2) &lt; eps) &amp;&amp; (std::fabs(b1 - a2) &lt; eps || std::fabs(b1 - b2) &lt; eps || std::fabs(b1 - c2) &lt; eps) &amp;&amp; 
    (std::fabs(c1 - a2) &lt; eps || std::fabs(c1 - b2) &lt; eps || std::fabs(c1 - c2) &lt; eps))) return false; 
    std::vector&lt;std::pair&lt;double, Tacka&gt;&gt; v1, v2;
    v1.push_back(std::make_pair(t1.DajUgao(1), t1.DajTjeme(1)));
    v1.push_back(std::make_pair(t1.DajUgao(2), t1.DajTjeme(2)));
    v1.push_back(std::make_pair(t1.DajUgao(3), t1.DajTjeme(3)));
    v2.push_back(std::make_pair(t2.DajUgao(1), t2.DajTjeme(1)));
    v2.push_back(std::make_pair(t2.DajUgao(2), t2.DajTjeme(2)));
    v2.push_back(std::make_pair(t2.DajUgao(3), t2.DajTjeme(3)));
    std::sort(v1.begin(), v1.end(), [](std::pair&lt;double, Tacka&gt; a, std::pair&lt;double, Tacka&gt; b) {
        return a.first &lt; b.first;
    });
    std::sort(v2.begin(), v2.end(), [](std::pair&lt;double, Tacka&gt; a, std::pair&lt;double, Tacka&gt; b) {
        return a.first &lt; b.first;
    });
    int or_1(Trougao::Orijentacija(v1[0].second, v1[1].second, v1[2].second));
    int or_2(Trougao::Orijentacija(v2[0].second, v2[1].second, v2[2].second));
    return or_1 == or_2;
}
int main () {
  int n;
    try {    
        std::cout &lt;&lt; "Koliko zelite kreirati trouglova: ";
        std::cin &gt;&gt; n;
        std::vector&lt;std::shared_ptr&lt;Trougao&gt;&gt; vektor(n);
        for(int i(0); i &lt; n; i++) {
            std::cout &lt;&lt; "Unesite podatke za "&lt;&lt;i+1&lt;&lt;". trougao (x1 y1 x2 y2 x3 y3): ";
            std::vector&lt;double&gt; tjeme;
            for(int j(0); j &lt; 3; j++) {
                double x, y;
                std::cin &gt;&gt; x &gt;&gt; y;
                tjeme.push_back(x);
                tjeme.push_back(y);
            }
            Tacka tacka1, tacka2, tacka3;
            tacka1.first = tjeme[0]; tacka1.second = tjeme[1];
            tacka2.first = tjeme[2]; tacka2.second = tjeme[3];
            tacka3.first = tjeme[4]; tacka3.second = tjeme[5];
            try {
                auto pom = std::make_shared&lt;Trougao&gt;(tacka1, tacka2, tacka3);
                vektor[i] = pom;
            } 
            catch(std::domain_error e) {
                //std::cout &lt;&lt; "evo: " &lt;&lt; tacka1.first &lt;&lt; " " &lt;&lt; tacka1.second &lt;&lt; " " &lt;&lt; tacka2.first &lt;&lt; " " &lt;&lt; tacka2.second &lt;&lt; " " &lt;&lt; tacka3.first &lt;&lt; " " &lt;&lt; tacka3.second &lt;&lt; std::endl;
                std::cout &lt;&lt; e.what() &lt;&lt; ", ponovite unos!" &lt;&lt; std::endl;
                i--;
            }
            catch(...) {
                throw;
            }
        }
        std::cout &lt;&lt; "Unesite vektor translacije (dx dy): ";
        double deltax, deltay;
        std::cin &gt;&gt; deltax &gt;&gt; deltay;
        std::cout &lt;&lt; "Unesite ugao rotacije: ";
        double ugao;
        std::cin &gt;&gt; ugao;
        std::cout &lt;&lt; "Unesite faktor skaliranja: ";
        double faktor;
        std::cin &gt;&gt; faktor;
        std::cout &lt;&lt; "Trouglovi nakon obavljenih transformacija: " &lt;&lt; std::endl;
        std::transform(vektor.begin(), vektor.end(),vektor.begin(), [=] (std::shared_ptr&lt;Trougao&gt; t) {
        t-&gt;Transliraj(deltax, deltay);
        t-&gt;Rotiraj(ugao);
        t-&gt;Skaliraj(t-&gt;DajTjeme(1), faktor);
        return t;
    });
        std::sort(vektor.begin(), vektor.end(), [] (std::shared_ptr&lt;Trougao&gt; t1, std::shared_ptr&lt;Trougao&gt; t2) {
            return (t1-&gt;DajPovrsinu()&lt;t2-&gt;DajPovrsinu());
        });
    auto najmanji = (std::min_element(vektor.begin(), vektor.end(), [] (std::shared_ptr&lt;Trougao&gt; t1, std::shared_ptr&lt;Trougao&gt; t2) {
        return t1-&gt;DajObim()&lt;t2-&gt;DajObim();
    }));
    std::for_each(vektor.begin(), vektor.end(), [](std::shared_ptr&lt;Trougao&gt; t) {
        t-&gt;Ispisi(); std::cout &lt;&lt; std::endl;
    });
    std::cout &lt;&lt; "Trougao sa najmanjim obimom: ";
    (*najmanji)-&gt;Ispisi();
    std::cout &lt;&lt; std::endl;
    int tacno(0);
    for(int i(0); i &lt; vektor.size() - 1; i++) {
        for(int j(i+1); j &lt; vektor.size(); j++) if(DaLiSuIdenticni(*vektor[i], *vektor[j])) {
                if(tacno == 0) std::cout &lt;&lt; "Parovi identicnih trouglova:" &lt;&lt; std::endl, tacno = 1;
                vektor[i]-&gt;Ispisi();
                std::cout &lt;&lt; " i ";
                vektor[j]-&gt;Ispisi(); std::cout &lt;&lt; std::endl;
                }
            }
            if(tacno == 0) std::cout &lt;&lt; "Nema identicnih trouglova!" &lt;&lt; std::endl;
            tacno = 0;
            for(int i(0); i &lt; vektor.size()-1; i++) {
                for(int j(i+1); j &lt; vektor.size(); j++) if(DaLiSuPodudarni(*vektor[i], *vektor[j])) {
                        if(tacno == 0) std::cout &lt;&lt; "Parovi podudarnih trouglova:" &lt;&lt; std::endl; 
                        tacno = 1;
                        vektor[i] -&gt;Ispisi();
                        std::cout &lt;&lt; " i ";
                        vektor[j]-&gt;Ispisi();
                        std::cout &lt;&lt; std::endl;
                    }
                }
                if(tacno==0) std::cout &lt;&lt; "Nema podudarnih trouglova!" &lt;&lt; std::endl;
                tacno = 0;
                for(int i(0); i &lt; vektor.size()-1; i++) {
                    for(int j(i+1); j &lt; vektor.size(); j++) if(DaLiSuSlicni(*vektor[i], *vektor[j])) {
                        if(tacno == 0) std::cout &lt;&lt; "Parovi slicnih trouglova:" &lt;&lt; std::endl;
                        tacno = 1;
                        vektor[i]-&gt;Ispisi();
                        std::cout &lt;&lt; " i ";
                        vektor[j]-&gt;Ispisi();
                        std::cout &lt;&lt; std::endl;
                    }
                    }
                    if(tacno == 0) std::cout &lt;&lt; "Nema slicnih trouglova!" &lt;&lt; std::endl;
                } catch(std::domain_error e) {
                    std::cout &lt;&lt; e.what() &lt;&lt; std::endl;
                } catch(std::range_error e) {
                    std::cout &lt;&lt; e.what() &lt;&lt; std::endl;
                } catch(...) {
                    std::cout &lt;&lt; "Nema memorije";
</font>                }
                
    return 0;
}</pre>
</body>
</html>
