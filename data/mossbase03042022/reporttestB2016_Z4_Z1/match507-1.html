<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z1/student1180.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z1/student5741.cpp<p></p><pre>
<a name="2"></a><font color="#0000FF"><a href="match507-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_0.gif"/></a>

/B 2016/2017, ZadaÄ‡a 4, Zadatak 1
//Napomena: testovi ce biti dostupni dan pred rok!
#include &lt;iostream&gt;
#include &lt;utility&gt;
#include &lt;stdexcept&gt;
#include &lt;cmath&gt;
#include &lt;memory&gt;
#include &lt;vector&gt;
#include &lt;algorithm&gt;

using std::cin;
using std::cout;
using std::endl;
</font>using std::pair;
using std::range_error;
using std::domain_error;
using std::make_pair;
using std::shared_ptr;
using std::make_shared;
using std::vector;
using std::sort;
using std::swap;
using std::min_element;
using std::transform;
using std::for_each;


typedef pair&lt;double,double&gt; Tacka;

class Trougao{
    Tacka t1;
    Tacka t2;
    Tacka t3;
    static bool JesuLiJednaki(double x,double y,double Eps=1e-10){
        return std::fabs(x-y)&lt;=Eps*(std::fabs(x)+fabs(y));
    }
public:
    Trougao(const Tacka &amp;t1,const Tacka &amp;t2,const Tacka &amp;t3){
        if(Orijentacija(t1,t2,t3)==0){
            throw domain_error("Nekorektne pozicije tjemena");
        }
        Trougao::t1=t1;
        Trougao::t2=t2;
        Trougao::t3=t3;
    }
    
    
    
    
    void Postavi(const Tacka &amp;t1,const Tacka &amp;t2,const Tacka &amp;t3){
        if(Orijentacija(t1,t2,t3)==0){
<a name="11"></a><font color="#00FF00"><a href="match507-0.html#11" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_0.gif"/></a>

            throw domain_error("Nekorektne pozicije tjemena");
        }
        Trougao::t1=t1;
        Trougao::t2=t2;
        Trougao::t3=t3;
    }
    
    
    
    
    void Postavi(int indeks,const Tacka &amp;t1){
        if(!(indeks==1 || indeks==2 || indeks==3)){
</font>            throw range_error("Nekorektan indeks");
        }
        if(indeks==1){
            if(Orijentacija(t1,Trougao::t2,Trougao::t3)==0){
                throw domain_error("Nekorektne pozicije tjemena");
            }
            Trougao::t1=t1;
        }
        else if(indeks==2){
            if(Orijentacija(Trougao::t1,t1,Trougao::t3)==0){
                throw domain_error("Nekorektne pozicije tjemena");
            }
            Trougao::t2=t1;
        }
        else{
            if(Orijentacija(Trougao::t1,Trougao::t2,t1)==0){
                throw domain_error("Nekorektne pozicije tjemena");
            }
            Trougao::t3=t1;
        }
    }
    
    
    
    
    
    static int Orijentacija(const Tacka &amp;t1,const Tacka &amp;t2,const Tacka &amp;t3){
        double izraz(t1.first*(t2.second-t3.second)-t2.first*(t1.second-t3.second)+t3.first*(t1.second-t2.second));
        if(izraz&gt;0){
            return 1;
        }
        else if(izraz&lt;0){
            return -1;
        }
        else return 0;
    }
    
    
    
    
    
    Tacka DajTjeme(int indeks) const{
        if(!(indeks==1 || indeks==2 || indeks==3)){
            throw range_error("Nekorektan indeks");
        }
        if(indeks==1){
            return t1;
        }
        else if(indeks==2){
            return t2;
        }
        else{
            return t3;
        }
    }
    
    
    
    
    
    double DajStranicu(int indeks) const{
        if(!(indeks==1 || indeks==2 || indeks==3)){
            throw range_error("Nekorektan indeks");
        }
        if(indeks==1){
            return sqrt((t2.first-t3.first)*(t2.first-t3.first)+(t2.second-t3.second)*(t2.second-t3.second));
        }
        else if(indeks==2){
            return sqrt((t1.first-t3.first)*(t1.first-t3.first)+(t1.second-t3.second)*(t1.second-t3.second));
        }
        else{
            return sqrt((t1.first-t2.first)*(t1.first-t2.first)+(t1.second-t2.second)*(t1.second-t2.second));
        }
    }
    
    
    
    
    
    double DajUgao(int indeks) const{
        if(!(indeks==1 || indeks==2 || indeks==3)){
            throw range_error("Nekorektan indeks");
        }
        if(indeks==1){
            return acos((DajStranicu(2)+DajStranicu(3)-DajStranicu(1))/(2*DajStranicu(2)*DajStranicu(3)));
        }
        else if(indeks==2){
            return acos((DajStranicu(1)+DajStranicu(3)-DajStranicu(2))/(2*DajStranicu(1)*DajStranicu(3)));
        }
        else{
            return acos((DajStranicu(1)+DajStranicu(2)-DajStranicu(3))/(2*DajStranicu(1)*DajStranicu(2)));
        }
    }
    
    
    
    
    
    Tacka DajCentar() const{
        return make_pair((t1.first+t2.first+t3.first)/3,(t1.second+t2.second+t3.second)/3);
    }
    
    
    
    
    
    double DajObim() const{
        return DajStranicu(1)+DajStranicu(2)+DajStranicu(3);
    }
    
    
    
    
    
    double DajPovrsinu() const{
        double izraz(t1.first*(t2.second-t3.second)-t2.first*(t1.second-t3.second)+t3.first*(t1.second-t2.second));
        return (1./2)*fabs(izraz);
    }
    
    
    
    
    
    bool DaLiJePozitivnoOrijentiran() const{
        if(Orijentacija(t1,t2,t3)==1){
            return true;
        }
        else return false;
    }
    
    
    
    
    
    bool DaLiJeUnutra(const Tacka &amp;t) const{
        int o(Orijentacija(t1,t2,t3));
        int o1(Orijentacija(t1,t2,t));
        int o2(Orijentacija(t2,t3,t));
        int o3(Orijentacija(t3,t1,t));
        if(o==0 || o1==0 || o2==0 || o3==0){
            return false;
        }
        if(o==1){
            if(o1!=1 || o2!=1 || o3!=1){
                return false;
            }
            else return true;
        }
        else if(o==-1){
            if(o1!=-1 || o2!=-1 || o3!=-1){
                return false;
            }
<a name="3"></a><font color="#00FFFF"><a href="match507-0.html#3" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_0.gif"/></a>

            else return true;
        }
        else return false;
    }
    
    
    
    
    
    void Ispisi() const{
        cout&lt;&lt;"(("&lt;&lt;t1.first&lt;&lt;","&lt;&lt;t1.second&lt;&lt;"),"&lt;&lt;"("&lt;&lt;t2.first&lt;&lt;","&lt;&lt;t2.second&lt;&lt;"),"&lt;&lt;"("&lt;&lt;t3.first&lt;&lt;","&lt;&lt;t3.second&lt;&lt;"))";
</font>    }
    
    
    
    
    
    void Transliraj(double delta_x,double delta_y){
        t1.first=t1.first+delta_x;
        t2.first=t2.first+delta_x;
        t3.first=t3.first+delta_x;
        t1.second=t1.second+delta_y;
        t2.second=t2.second+delta_y;
        t3.second=t3.second+delta_y;
    }
    
    
    
    
    
    void Centriraj(const Tacka &amp;t){
        double razlika_po_x(t.first-DajCentar().first);
        double razlika_po_y(t.second-DajCentar().second);
        Transliraj(razlika_po_x,razlika_po_y);
    }
    
    
    
    
    
    void Rotiraj(const Tacka &amp;t,double ugao){
        t1=make_pair(t.first+(t1.first-t.first)*cos(ugao)-(t1.second-t.second)*sin(ugao),t.second+(t1.first-t.first)*sin(ugao)+(t1.second-t.second)*cos(ugao));
        t2=make_pair(t.first+(t2.first-t.first)*cos(ugao)-(t2.second-t.second)*sin(ugao),t.second+(t2.first-t.first)*sin(ugao)+(t2.second-t.second)*cos(ugao));
        t3=make_pair(t.first+(t3.first-t.first)*cos(ugao)-(t3.second-t.second)*sin(ugao),t.second+(t3.first-t.first)*sin(ugao)+(t3.second-t.second)*cos(ugao));
    }
    
    
    
    
    
    void Skaliraj(const Tacka &amp;t,double faktor){
        if(JesuLiJednaki(faktor,0)){
            throw domain_error("Nekorektan faktor skaliranja");
        }
        t1=make_pair(t.first+faktor*(t1.first-t.first),t.second+faktor*(t1.second-t.second));
        t2=make_pair(t.first+faktor*(t2.first-t.first),t.second+faktor*(t2.second-t.second));
        t3=make_pair(t.first+faktor*(t3.first-t.first),t.second+faktor*(t3.second-t.second));
    }
    
    
    
    
    
    void Rotiraj(double ugao){
        Rotiraj(DajCentar(),ugao);
    }
    
    
    
    
    
    void Skaliraj(double faktor){
        if(JesuLiJednaki(faktor,0)){
            throw domain_error("Nekorektan faktor skaliranja");
        }
        Skaliraj(DajCentar(),faktor);
    }
    
    
    
    
    
    friend bool DaLiSuIdenticni(const Trougao &amp;t1,const Trougao &amp;t2);
    friend bool DaLiSuPodudarni(const Trougao &amp;t1,const Trougao &amp;t2);
    friend bool DaLiSuSlicni(const Trougao &amp;t1,const Trougao &amp;t2);
};



bool DaLiSuIdenticni(const Trougao &amp;t1,const Trougao &amp;t2){
    vector&lt;Tacka&gt; trougao1;
    trougao1.push_back(t1.t1);
    trougao1.push_back(t1.t2);
    trougao1.push_back(t1.t3);
    vector&lt;Tacka&gt; trougao2;
    trougao2.push_back(t2.t1);
    trougao2.push_back(t2.t2);
    trougao2.push_back(t2.t3);
    vector&lt;double&gt; duzina_stranica1;
    duzina_stranica1.push_back(t1.DajStranicu(1));
    duzina_stranica1.push_back(t1.DajStranicu(2));
    duzina_stranica1.push_back(t1.DajStranicu(3));
    vector&lt;double&gt; duzina_stranica2;
    duzina_stranica2.push_back(t2.DajStranicu(1));
    duzina_stranica2.push_back(t2.DajStranicu(2));
    duzina_stranica2.push_back(t2.DajStranicu(3));
<a name="4"></a><font color="#FF00FF"><a href="match507-0.html#4" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_0.gif"/></a>

    for(int i=0;i&lt;3;i++){
        for(int j=i+1;j&lt;3;j++){
            if(duzina_stranica1[i]&gt;duzina_stranica1[j]){
                swap(duzina_stranica1[i],duzina_stranica1[j]);
</font>                swap(trougao1[i],trougao1[j]);
                j--;
            }
        }
    }
<a name="5"></a><font color="#FF0000"><a href="match507-0.html#5" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_0.gif"/></a>

    for(int i=0;i&lt;3;i++){
        for(int j=i+1;j&lt;3;j++){
            if(duzina_stranica2[i]&gt;duzina_stranica2[j]){
                swap(duzina_stranica2[i],duzina_stranica2[j]);
</font>                swap(trougao2[i],trougao2[j]);
                j--;
            }
        }
    }
<a name="0"></a><font color="#FF0000"><a href="match507-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_1.gif"/></a>

    for(int i=0;i&lt;3;i++){
        if(!(Trougao::JesuLiJednaki(trougao1[i].first,trougao2[i].first)) || !(Trougao::JesuLiJednaki(trougao1[i].second,trougao2[i].second))){
</font>            return false;
        }
    }
    return true;
}





bool DaLiSuPodudarni(const Trougao &amp;t1,const Trougao &amp;t2){
    vector&lt;Tacka&gt; trougao1;
    trougao1.push_back(t1.t1);
    trougao1.push_back(t1.t2);
    trougao1.push_back(t1.t3);
    vector&lt;Tacka&gt; trougao2;
    trougao2.push_back(t2.t1);
    trougao2.push_back(t2.t2);
    trougao2.push_back(t2.t3);
    vector&lt;double&gt; duzina_stranica1;
    duzina_stranica1.push_back(t1.DajStranicu(1));
    duzina_stranica1.push_back(t1.DajStranicu(2));
    duzina_stranica1.push_back(t1.DajStranicu(3));
    vector&lt;double&gt; duzina_stranica2;
    duzina_stranica2.push_back(t2.DajStranicu(1));
    duzina_stranica2.push_back(t2.DajStranicu(2));
    duzina_stranica2.push_back(t2.DajStranicu(3));
    vector&lt;double&gt; uglovi1;
    uglovi1.push_back(t1.DajUgao(1));
    uglovi1.push_back(t1.DajUgao(2));
    uglovi1.push_back(t1.DajUgao(3));
    vector&lt;double&gt; uglovi2;
    uglovi2.push_back(t2.DajUgao(1));
    uglovi2.push_back(t2.DajUgao(2));
    uglovi2.push_back(t2.DajUgao(3));
<a name="6"></a><font color="#00FF00"><a href="match507-0.html#6" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_0.gif"/></a>

    for(int i=0;i&lt;3;i++){
        for(int j=i+1;j&lt;3;j++){
            if(duzina_stranica1[i]&gt;duzina_stranica1[j]){
                swap(duzina_stranica1[i],duzina_stranica1[j]);
</font>                swap(trougao1[i],trougao1[j]);
                swap(uglovi1[i],uglovi1[j]);
                j--;
            }
        }
    }
<a name="7"></a><font color="#0000FF"><a href="match507-0.html#7" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_0.gif"/></a>

    for(int i=0;i&lt;3;i++){
        for(int j=i+1;j&lt;3;j++){
            if(duzina_stranica2[i]&gt;duzina_stranica2[j]){
                swap(duzina_stranica2[i],duzina_stranica2[j]);
</font>                swap(trougao2[i],trougao2[j]);
                swap(uglovi1[i],uglovi1[j]);
                j--;
            }
        }
    }
    if(Trougao::Orijentacija(trougao1[0],trougao1[1],trougao1[2])!=Trougao::Orijentacija(trougao2[0],trougao2[1],trougao2[2])){
<a name="1"></a><font color="#00FF00"><a href="match507-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_1.gif"/></a>

        return false;
    }
    for(int i=0;i&lt;3;i++){
        if(!(Trougao::JesuLiJednaki(duzina_stranica1[i],duzina_stranica2[i])) || !(Trougao::JesuLiJednaki(uglovi1[i],uglovi2[i]))){
</font>            return false;
        }
    }
    return true;
}


bool DaLiSuSlicni(const Trougao &amp;t1,const Trougao &amp;t2){
    vector&lt;Tacka&gt; trougao1;
    trougao1.push_back(t1.t1);
    trougao1.push_back(t1.t2);
    trougao1.push_back(t1.t3);
    vector&lt;Tacka&gt; trougao2;
    trougao2.push_back(t2.t1);
    trougao2.push_back(t2.t2);
    trougao2.push_back(t2.t3);
    vector&lt;double&gt; duzina_stranica1;
    duzina_stranica1.push_back(t1.DajStranicu(1));
    duzina_stranica1.push_back(t1.DajStranicu(2));
    duzina_stranica1.push_back(t1.DajStranicu(3));
    vector&lt;double&gt; duzina_stranica2;
    duzina_stranica2.push_back(t2.DajStranicu(1));
    duzina_stranica2.push_back(t2.DajStranicu(2));
    duzina_stranica2.push_back(t2.DajStranicu(3));
    vector&lt;double&gt; uglovi1;
    uglovi1.push_back(t1.DajUgao(1));
    uglovi1.push_back(t1.DajUgao(2));
    uglovi1.push_back(t1.DajUgao(3));
    vector&lt;double&gt; uglovi2;
    uglovi2.push_back(t2.DajUgao(1));
    uglovi2.push_back(t2.DajUgao(2));
    uglovi2.push_back(t2.DajUgao(3));
<a name="8"></a><font color="#00FFFF"><a href="match507-0.html#8" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_0.gif"/></a>

    for(int i=0;i&lt;3;i++){
        for(int j=i+1;j&lt;3;j++){
            if(duzina_stranica1[i]&gt;duzina_stranica1[j]){
                swap(duzina_stranica1[i],duzina_stranica1[j]);
</font>                swap(trougao1[i],trougao1[j]);
                swap(uglovi1[i],uglovi1[j]);
                j--;
            }
        }
    }
<a name="9"></a><font color="#FF00FF"><a href="match507-0.html#9" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_0.gif"/></a>

    for(int i=0;i&lt;3;i++){
        for(int j=i+1;j&lt;3;j++){
            if(duzina_stranica2[i]&gt;duzina_stranica2[j]){
                swap(duzina_stranica2[i],duzina_stranica2[j]);
</font>                swap(trougao2[i],trougao2[j]);
                swap(uglovi1[i],uglovi1[j]);
                j--;
            }
        }
    }
    if(Trougao::Orijentacija(trougao1[0],trougao1[1],trougao1[2])!=Trougao::Orijentacija(trougao2[0],trougao2[1],trougao2[2])){
        return false;
    }
    double faktor_proporcionalnosti(duzina_stranica1[0]/duzina_stranica2[0]);
<a name="10"></a><font color="#FF0000"><a href="match507-0.html#10" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_0.gif"/></a>

    for(int i=1;i&lt;3;i++){
        if(!(Trougao::JesuLiJednaki(duzina_stranica1[i]/duzina_stranica2[i],faktor_proporcionalnosti))){
            return false;
</font>        }
    }
    return true;
}


int main ()
{
    int n;
    cout&lt;&lt;"Koliko zelite kreirati trouglova: ";
    cin&gt;&gt;n;
<a name="12"></a><font color="#0000FF"><a href="match507-0.html#12" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_0.gif"/></a>

    vector&lt;shared_ptr&lt;Trougao&gt;&gt; v;
    for(int i=0;i&lt;n;i++){
        cout&lt;&lt;"Unesite podatke za "&lt;&lt;i+1&lt;&lt;". trougao (x1 y1 x2 y2 x3 y3): ";
</font>        double x1,x2,x3,y1,y2,y3;
        cin&gt;&gt;x1&gt;&gt;y1&gt;&gt;x2&gt;&gt;y2&gt;&gt;x3&gt;&gt;y3;
        try{
            Trougao t(make_pair(x1,y1),make_pair(x2,y2),make_pair(x3,y3));
            v.push_back(make_shared&lt;Trougao&gt; (make_pair(x1,y1),make_pair(x2,y2),make_pair(x3,y3)));
        }
        catch(domain_error izuzetak){
            cout&lt;&lt;izuzetak.what()&lt;&lt;", ponovite unos!"&lt;&lt;endl;
            i--;
        }
    }
    cout&lt;&lt;"Unesite vektor translacije (dx dy): ";
    double dx;
    double dy;
    cin&gt;&gt;dx;
    cin&gt;&gt;dy;
    double ugao;
    cout&lt;&lt;"Unesite ugao rotacije: ";
    cin&gt;&gt;ugao;
    double faktor_skaliranja;
    cout&lt;&lt;"Unesite faktor skaliranja: ";
    cin&gt;&gt;faktor_skaliranja;
    transform(v.begin(),v.end(),v.begin(),[dx,dy](shared_ptr&lt;Trougao&gt; p1){
        p1-&gt;Transliraj(dx,dy);
        return p1;
    });
    transform(v.begin(),v.end(),v.begin(),[ugao](shared_ptr&lt;Trougao&gt; p1){
        p1-&gt;Rotiraj(ugao);
        return p1;
    });
    transform(v.begin(),v.end(),v.begin(),[faktor_skaliranja](shared_ptr&lt;Trougao&gt; p1){
        p1-&gt;Skaliraj(p1-&gt;DajTjeme(1),faktor_skaliranja);
        return p1;
    });
    sort(v.begin(),v.end(),[](shared_ptr&lt;Trougao&gt; p1,shared_ptr&lt;Trougao&gt; p2){
        return p1-&gt;DajPovrsinu()&lt;p2-&gt;DajPovrsinu();
    });
    cout&lt;&lt;"Trouglovi nakon obavljenih transformacija:"&lt;&lt;endl;
    for_each(v.begin(),v.end(),[](shared_ptr&lt;Trougao&gt; p1){
        p1-&gt;Ispisi();
        cout&lt;&lt;endl;
    });
    cout&lt;&lt;"Trougao sa najmanjim obimom: ";
    (*(min_element(v.begin(),v.end(),[](shared_ptr&lt;Trougao&gt; p1,shared_ptr&lt;Trougao&gt; p2){
        return p1-&gt;DajObim()&lt;p2-&gt;DajObim();
    })))-&gt;Ispisi();
    int br(0);
    for(int i=0;i&lt;n;i++){
        for(int j=i+1;j&lt;n;j++){
            if(DaLiSuIdenticni(*v[i],*v[j])){
                if(br==0){
                    cout&lt;&lt;endl&lt;&lt;"Parovi identicnih trouglova:"&lt;&lt;endl;
                }
                v[i]-&gt;Ispisi();
                cout&lt;&lt;" i ";
                v[j]-&gt;Ispisi();
                cout&lt;&lt;endl;
                br++;
            }
        }
    }
    if(br==0){
        cout&lt;&lt;endl&lt;&lt;"Nema identicnih trouglova!";
    }
    br=0;
    for(int i=0;i&lt;n;i++){
        for(int j=i+1;j&lt;n;j++){
            if(DaLiSuPodudarni(*v[i],*v[j])){
                if(br==0){
                    cout&lt;&lt;"Parovi podudarnih trouglova:"&lt;&lt;endl;
                }
                v[i]-&gt;Ispisi();
                cout&lt;&lt;" i ";
                v[j]-&gt;Ispisi();
                cout&lt;&lt;endl;
                br++;
            }
        }
    }
    if(br==0){
        cout&lt;&lt;endl&lt;&lt;"Nema podudarnih trouglova!";
    }
    br=0;
    for(int i=0;i&lt;n;i++){
        for(int j=i+1;j&lt;n;j++){
            if(DaLiSuSlicni(*v[i],*v[j])){
                if(br==0){
                    cout&lt;&lt;"Parovi slicnih trouglova:"&lt;&lt;endl;
                }
                v[i]-&gt;Ispisi();
                cout&lt;&lt;" i ";
                v[j]-&gt;Ispisi();
                cout&lt;&lt;endl;
                br++;
            }
        }
    }
    if(br==0){
        cout&lt;&lt;endl&lt;&lt;"Nema slicnih trouglova!";
    }
	return 0;
}</pre>
</body>
</html>
