<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z1/student8520.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z1/student6913.cpp<p></p><pre>
#include &lt;map&gt;
#include &lt;iostream&gt;
#include &lt;stdexcept&gt;
#include &lt;cmath&gt;
#include &lt;utility&gt;
#include &lt;algorithm&gt; 
#include &lt;vector&gt;
#include &lt;memory&gt;
    

typedef std::pair&lt;double,double&gt; Tacka;
double Eps=pow(10,-10);

class Trougao {
    Tacka a,b,c;
    
    public:
    Trougao (const Tacka &amp;t1,const Tacka &amp;t2,const Tacka &amp;t3){
        Postavi(t1,t2,t3);
    }

    
void Postavi(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3){
    a=t1;
    b=t2;
    c=t3;
    if (Orijentacija(a,b,c)==0){
        throw std::domain_error("Nekorektne pozicije tjemena, ponovite unos!");
    }
}


void Postavi(int indeks, const Tacka &amp;t){
    if(indeks == 1){
        a=t;
    }
    if(indeks == 2){
        b=t;
    }
    if(indeks == 3){
        c=t;
    }
    if(indeks &gt;3 || indeks&lt;1){
        throw std::range_error("Nekorektan indeks");
    }
    if(Orijentacija(a,b,c)==0){
        throw std::domain_error("Nekorektne pozicije tjemena, ponovite unos!");
    }
}


static int Orijentacija(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3){
    if((t1.first*(t2.second-t3.second)-t2.first*(t1.second-t3.second)+t3.first*(t1.second-t2.second))&gt;0){
        return 1;
    }
    if((t1.first*(t2.second-t3.second)-t2.first*(t1.second-t3.second)+t3.first*(t1.second-t2.second))&lt;0){
        return -1;
     }
      else return 0;
}


Tacka DajTjeme(int indeks) const{
    if(indeks==1) return a;
    if(indeks==2) return b;
    if(indeks==3) return c;
else throw std::range_error("Nekorektan indeks");
}


double DajStranicu(int indeks) const{
    double str;
    if(indeks==1){
        str=sqrt((c.first-b.first)*(c.first-b.first)+(c.second-b.second)*(c.second-b.second));
    }
    if(indeks==2){
        str=sqrt((c.first-a.first)*(c.first-a.first)+(c.second-a.second)*(c.second-a.second));
    }
    if(indeks==3){
        str=sqrt((b.first-a.first)*(b.first-a.first)+(b.second-a.second)*(b.second-a.second));
    }
    return str;
}


double DajUgao(int indeks) const{
    double ugao;
    double a1=DajStranicu(1);
    double b1=DajStranicu(2);
    double c1=DajStranicu(3);
if(indeks==1){
    ugao=acos((b1*b1+c1*c1-a1*a1)/(2*b1*c1));
}
if(indeks==2){
    ugao=acos((a1*a1-b1*b1+c1*c1)/(2*a1*c1));
}
if(indeks==3){
    ugao=acos((a1*c1+b1*b1-c1*c1)/(2*a1*b1));
}
return ugao;
}


Tacka DajCentar() const{
    Tacka Centar;
    Centar.first=(a.first+b.first+c.first)/3;
    Centar.second=(a.second+b.second+c.second)/3;
    return Centar;
}


double DajObim() const{
    double obim;
    obim=DajStranicu(1)+DajStranicu(2)+DajStranicu(3);
    return obim;
}


double DajPovrsinu() const{
    double p;
    p=0.5*abs(a.first*(b.second-c.second)-b.first*(a.second-c.second)+c.first*(a.second-b.second));
    return p;
}


bool DaLiJePozitivnoOrijentiran() const{
    if(Orijentacija(a,b,c)==1) return true;
    else return false;
}


bool DaLiJeUnutra(const Tacka &amp;t) const{
 if(Orijentacija(a,b,c)&gt;0 &amp;&amp; Orijentacija(a,b,t)&gt;0 &amp;&amp; Orijentacija(b,c,t)&gt;0 &amp;&amp; Orijentacija(c,a,t)&gt;0){
     return true;
 }
 if(Orijentacija(a,b,c)&lt;0 &amp;&amp; Orijentacija(a,b,t)&lt;0 &amp;&amp; Orijentacija(b,c,t)&lt;0 &amp;&amp; Orijentacija(c,a,t)&lt;0){
     return true;
 }
 else return false;
}


void Ispisi() const{
std::cout&lt;&lt;"(("&lt;&lt;a.first&lt;&lt;","&lt;&lt;a.second&lt;&lt;"),("&lt;&lt;b.first&lt;&lt;","&lt;&lt;b.second&lt;&lt;"),("&lt;&lt;c.first&lt;&lt;","&lt;&lt;c.second&lt;&lt;"))";   
}


<a name="0"></a><font color="#FF0000"><a href="match880-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_2.gif"/></a>

void Transliraj(double delta_x, double delta_y){
    a.first=a.first+delta_x;
    a.second=a.second+delta_y;
    b.first=b.first+delta_x;
    b.second=b.second+delta_y;
    c.first=c.first+delta_x;
    c.second=c.second+delta_y;
}


void Centriraj(const Tacka &amp;t){
    Tacka p=DajCentar();
    double x=t.first-p.first;
    double y=t.second-p.second;
    
    a.first=a.first+x;
</font>    a.second=a.second+y;
    b.first=b.first+x;
    b.second=b.second+y;
    c.first=c.first+x;
    c.second=c.second+y;
}


void Rotiraj(const Tacka &amp;t, double ugao){
    double e=a.first;
    double w=b.first;
    double q=c.first;
   a.first=t.first+(e-t.first)*cos(ugao)-(a.second-t.second)*sin(ugao);
    a.second=t.second+(e-t.first)*sin(ugao)+(a.second-t.second)*cos(ugao);
    b.first=t.first+(w-t.first)*cos(ugao)-(b.second-t.second)*sin(ugao);
    b.second=t.second+(w-t.first)*sin(ugao)+(b.second-t.second)*cos(ugao);
    c.first=t.first+(q-t.first)*cos(ugao)-(c.second-t.second)*sin(ugao);
    c.second=t.second+(q-t.first)*sin(ugao)+(c.second-t.second)*cos(ugao);
}

void Rotiraj(double ugao){
    Tacka t=DajCentar();
    double e=a.first;
    double w=b.first;
    double q=c.first;
    a.first=t.first+(e-t.first)*cos(ugao)-(a.second-t.second)*sin(ugao);
    a.second=t.second+(e-t.first)*sin(ugao)+(a.second-t.second)*cos(ugao);
    b.first=t.first+(w-t.first)*cos(ugao)-(b.second-t.second)*sin(ugao);
    b.second=t.second+(w-t.first)*sin(ugao)+(b.second-t.second)*cos(ugao);
    c.first=t.first+(q-t.first)*cos(ugao)-(c.second-t.second)*sin(ugao);
<a name="5"></a><font color="#FF0000"><a href="match880-0.html#5" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_0.gif"/></a>

    c.second=t.second+(q-t.first)*sin(ugao)+(c.second-t.second)*cos(ugao);
}

void Skaliraj(const Tacka &amp;t, double faktor){
    if(fabs(faktor)&lt;Eps){
</font><a name="6"></a><font color="#00FF00"><a href="match880-0.html#6" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_0.gif"/></a>

        throw std::domain_error("Nekorektan faktor skaliranja");
    }
    a.first=t.first+faktor*(a.first-t.first);
    a.second=t.second+faktor*(a.second-t.second);
</font>    b.first=t.first+faktor*(b.first-t.first);
    b.second=t.second+faktor*(b.second-t.second);
    c.first=t.first+faktor*(c.first-t.first);
    c.second=t.second+faktor*(c.second-t.second);
}


void Skaliraj(double faktor){
<a name="3"></a><font color="#00FFFF"><a href="match880-0.html#3" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_0.gif"/></a>

     if(fabs(faktor)&lt;Eps){
        throw std::domain_error("Nekorektan faktor skaliranja");
    }
    Tacka t=DajCentar();
    a.first=t.first+faktor*(a.first-t.first);
    a.second=t.second+faktor*(a.second-t.second);
</font>    b.first=t.first+faktor*(b.first-t.first);
    b.second=t.second+faktor*(b.second-t.second);
<a name="1"></a><font color="#00FF00"><a href="match880-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_1.gif"/></a>

    c.first=t.first+faktor*(c.first-t.first);
    c.second=t.second+faktor*(c.second-t.second);
}


friend bool DaLiSuIdenticni(const Trougao &amp;t1, const Trougao &amp;t2);
friend bool DaLiSuPodudarni(const Trougao &amp;t1, const Trougao &amp;t2);
friend bool DaLiSuSlicni(const Trougao &amp;t1, const Trougao &amp;t2);

};


bool DaLiSuIdenticni(const Trougao &amp;t1, const Trougao &amp;t2){
    if(fabs((t1.a.first+t1.b.first+t1.c.first-(t2.a.first+t2.b.first+t2.c.first))&lt;Eps) &amp;&amp; (fabs(t1.a.second+t1.b.second+t1.c.second-(t2.a.second+t2.b.second+t2.c.second))&lt;Eps)&amp;&amp; (fabs(t1.a.first*t1.b.first*t1.c.first-(t2.a.first*t2.b.first*t2.c.first))&lt;Eps) &amp;&amp; (fabs(t1.a.second*t1.b.second*t1.c.second-(t2.a.second*t2.b.second*t2.c.second))&lt;Eps) ){
</font>    return true;
    }
        else return false;
    }


bool DaLiSuPodudarni(const Trougao &amp;t1, const Trougao &amp;t2){
  auto k=t1.DajStranicu(1);
     auto l=t2.DajStranicu(1);
     if(fabs(t1.DajStranicu(2)-k)&lt;Eps &amp;&amp; fabs(t1.DajStranicu(3)-k)&lt;Eps &amp;&amp; fabs(t2.DajStranicu(2)-l)&lt;Eps &amp;&amp; fabs(t2.DajStranicu(3)-l)&lt;Eps)
     return true;
    std::vector&lt;double&gt; v1(3);
     std::map&lt;double,Tacka&gt; m;
     m.insert(std::make_pair(t1.DajStranicu(1),t1.a));
     m.insert(std::make_pair(t1.DajStranicu(2),t1.b));
     m.insert(std::make_pair(t1.DajStranicu(3),t1.c));
     v1[0]=t1.DajStranicu(1); v1[1]=t1.DajStranicu(2); v1[2]=t1.DajStranicu(3);
     std::sort(v1.begin(),v1.end());
     auto min1=m.find(v1[0]);
     auto sre1=m.find(v1[1]);
     auto max1=m.find(v1[2]);
     std::vector&lt;double&gt; v2(3);
     std::map&lt;double, Tacka&gt; n;
     n.insert(std::make_pair(t2.DajStranicu(1),t2.a));
     n.insert(std::make_pair(t2.DajStranicu(2),t2.b));
     n.insert(std::make_pair(t2.DajStranicu(3),t2.c));
     v2[0]=t2.DajStranicu(1); v2[1]=t2.DajStranicu(2); v2[2]=t2.DajStranicu(3);
     std::sort(v2.begin(),v2.end());
     auto min2=n.find(v2[0]);
     auto sre2=n.find(v2[1]);
     auto max2=n.find(v2[2]);
     double obim1=t1.DajObim();
     double obim2=t2.DajObim();
     if(fabs(obim1-obim2)&gt;Eps)
     return false;
     if (Trougao::Orijentacija(min1-&gt;second,sre1-&gt;second,max1-&gt;second)==Trougao::Orijentacija(min2-&gt;second,sre2-&gt;second,max2-&gt;second))
     return true;
     return false;
}
bool DaLiSuSlicni(const Trougao &amp;t1, const Trougao &amp;t2){
     auto k=t1.DajStranicu(1);
     auto l=t2.DajStranicu(1);
     if(fabs(t1.DajStranicu(2)-k)&lt;Eps &amp;&amp; fabs(t1.DajStranicu(3)-k)&lt;Eps &amp;&amp; fabs(t2.DajStranicu(2)-l)&lt;Eps &amp;&amp; fabs(t2.DajStranicu(3)-l)&lt;Eps)
     return true;
     std::vector&lt;double&gt; v1(3);
     std::map&lt;double,Tacka&gt; m;
     m.insert(std::make_pair(t1.DajStranicu(1),t1.a));
     m.insert(std::make_pair(t1.DajStranicu(2),t1.b));
     m.insert(std::make_pair(t1.DajStranicu(3),t1.c));
     v1[0]=t1.DajStranicu(1); v1[1]=t1.DajStranicu(2); v1[2]=t1.DajStranicu(3);
     std::sort(v1.begin(),v1.end());
     auto min1=m.find(v1[0]);
     auto sre1=m.find(v1[1]);
     auto max1=m.find(v1[2]);
     std::vector&lt;double&gt; v2(3);
     std::map&lt;double, Tacka&gt; n;
     n.insert(std::make_pair(t2.DajStranicu(1),t2.a));
     n.insert(std::make_pair(t2.DajStranicu(2),t2.b));
     n.insert(std::make_pair(t2.DajStranicu(3),t2.c));
     v2[0]=t2.DajStranicu(1); v2[1]=t2.DajStranicu(2); v2[2]=t2.DajStranicu(3);
     std::sort(v2.begin(),v2.end());
     auto min2=n.find(v2[0]);
     auto sre2=n.find(v2[1]);
     auto max2=n.find(v2[2]);
     double odnos1=v1[0]/v2[0];
     double odnos2=v1[1]/v2[1];
     double odnos3=v1[2]/v2[2];
     if(fabs(odnos1-odnos2)&gt;Eps || fabs(odnos1-odnos3)&gt;Eps)
     return false;
     if (Trougao::Orijentacija(min1-&gt;second,sre1-&gt;second,max1-&gt;second)==Trougao::Orijentacija(min2-&gt;second,sre2-&gt;second,max2-&gt;second))
     return true;
     return false;
}



int main ()
{
    std::cout&lt;&lt;"Koliko zelite kreirati trouglova: ";
    int h;
    std::cin&gt;&gt;h;
    std::vector&lt;std::shared_ptr&lt;Trougao&gt;&gt;v(h);
    std::vector&lt;std::shared_ptr&lt;Trougao&gt;&gt;w(h);
    double a,b,c,d,e,f;
    Tacka m,n,o;
    for(int i=0;i&lt;h;i++){
        std::cout&lt;&lt;"Unesite podatke za "&lt;&lt;i+1&lt;&lt;". trougao (x1 y1 x2 y2 x3 y3): ";
        std::cin&gt;&gt;a&gt;&gt;b&gt;&gt;c&gt;&gt;d&gt;&gt;e&gt;&gt;f;
        m=std::make_pair(a,b);
        n=std::make_pair(c,d);
        o=std::make_pair(e,f);
        try{
            v[i]=std::make_shared&lt;Trougao&gt;(Trougao(m,n,o));
        }
        catch(std::domain_error a){
            std::cout&lt;&lt;a.what()&lt;&lt;std::endl;
            i--;
        }
    }
    std::cout&lt;&lt;"Unesite vektor translacije (dx dy):";
    double x1,y1;
    std::cin&gt;&gt;x1&gt;&gt;y1;
    std::cout&lt;&lt;" Unesite ugao rotacije: ";
    double y2;
    std::cin&gt;&gt;y2;
    std::cout&lt;&lt;"Unesite faktor skaliranja: ";
    double x2;
    std::cin&gt;&gt;x2;
    Tacka g;
    try{
<a name="2"></a><font color="#0000FF"><a href="match880-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_1.gif"/></a>

   std::transform(v.begin(),v.end(),w.begin(), [=](std::shared_ptr&lt;Trougao&gt;p){ (*p).Transliraj(x1,y1); (*p).Rotiraj(y2);try{ (*p).Skaliraj((*p).DajTjeme(1),x2); } catch(std::domain_error d){std::cout&lt;&lt;d.what(); throw; } return p;}); }
</font>   catch(...){
       return 0;
   }
      std::cout&lt;&lt;"Trouglovi nakon obavljenih transformacija: "&lt;&lt;std::endl;
   std::sort(w.begin(),w.end(),[=](std::shared_ptr&lt;Trougao&gt;p,std::shared_ptr&lt;Trougao&gt;q){return (*p).DajPovrsinu()-(*q).DajPovrsinu()&lt;0;});
   std::for_each(w.begin(),w.end(),[=](std::shared_ptr&lt;Trougao&gt;p){(*p).Ispisi(); std::cout  &lt;&lt; std::endl; });
   auto mini=std::min_element(w.begin(),w.end(),[=](std::shared_ptr&lt;Trougao&gt;p,std::shared_ptr&lt;Trougao&gt;q){return (*p).DajObim()-(*q).DajObim()&lt;0;});
std::cout&lt;&lt;"Trougao sa najmanjim obimom: ";
(*mini)-&gt;Ispisi();
std::cout  &lt;&lt; std::endl;
bool Identicni(false),Podudarni (false),Slicni(false);
std::vector&lt;std::pair&lt;Trougao,Trougao&gt;&gt; I;
std::vector&lt;std::pair&lt;Trougao,Trougao&gt;&gt; P;
std::vector&lt;std::pair&lt;Trougao,Trougao&gt;&gt; S;
<a name="4"></a><font color="#FF00FF"><a href="match880-0.html#4" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_0.gif"/></a>

for(int i=0;i&lt;w.size()-1;i++){
    for(int j=i+1;j&lt;w.size();j++){
        if(DaLiSuIdenticni(*w[i],*w[j])){
</font>            Identicni=true;
            I.push_back(std::make_pair(*w[i],*w[j]));
        }
        if(DaLiSuPodudarni(*w[i],*w[j])){
            Podudarni=true;
            P.push_back(std::make_pair(*w[i],*w[j]));
        }
        if(DaLiSuSlicni(*w[i],*w[j])){
            Slicni=true;
            S.push_back(std::make_pair(*w[i],*w[j]));
        }
    }
}
 if(!Identicni)
std::cout &lt;&lt; "Nema identicnih trouglova!" &lt;&lt; std::endl;
else {
    std::cout &lt;&lt; "Parovi identicnih trouglova: " &lt;&lt; std::endl;
    for(int i=0;i&lt;I.size();i++){
    I[i].first.Ispisi(); std::cout &lt;&lt; " i "; I[i].second.Ispisi();
    std::cout  &lt;&lt; std::endl;
    }
}

if(!Podudarni)
std::cout &lt;&lt; "Nema podudarnih trouglova!" &lt;&lt; std::endl;
else {
    std::cout &lt;&lt; "Parovi podudarnih trouglova: " &lt;&lt; std::endl;
    for(int i=0;i&lt;P.size();i++){
    P[i].first.Ispisi(); std::cout &lt;&lt; " i " ; P[i].second.Ispisi();
    std::cout  &lt;&lt; std::endl;
    }
}
if(!Slicni)
std::cout &lt;&lt; "Nema slicnih trouglova!" &lt;&lt; std::endl;
else {
    std::cout &lt;&lt; "Parovi slicnih trouglova: " &lt;&lt; std::endl;
    for(int i=0;i&lt;S.size();i++){
    S[i].first.Ispisi(); std::cout  &lt;&lt;" i ";
    S[i].second.Ispisi();
    std::cout  &lt;&lt; std::endl;
    }
}
 	return 0;
}</pre>
</body>
</html>
