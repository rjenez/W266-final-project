<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z1/student7985.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z1/student3572.cpp<p></p><pre>
<a name="7"></a><font color="#0000FF"><a href="match67-0.html#7" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_1.gif"/></a>

/B 2016/2017, ZadaÄ‡a 4, Zadatak 1
//Napomena: testovi ce biti dostupni dan pred rok!
#include &lt;iostream&gt;
#include &lt;utility&gt;
#include &lt;stdexcept&gt;
#include &lt;cmath&gt;
#include &lt;vector&gt;
#include &lt;algorithm&gt;
#include &lt;memory&gt;
#define EPS 0.0000000001
typedef std::pair&lt;double,double&gt; Tacka;

class Trougao {
  Tacka a,b,c;  
  public:
  Trougao(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3){
      if(Orjentacija(t1,t2,t3)==0) throw std::domain_error("Nekorektne pozicije tjemena");
</font>      a=t1;
      b=t2;
      c=t3;
  }
  void Postavi(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3){
<a name="4"></a><font color="#FF00FF"><a href="match67-0.html#4" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_8.gif"/></a>

      if(Orjentacija(t1,t2,t3)==0) throw std::domain_error("Nekorektne pozicije tjemena");
      a=t1;
      b=t2;
      c=t3; 
  }
  void Postavi(int indeks, const Tacka &amp;t){
      if(indeks&gt;3 || indeks&lt;1) throw std::range_error ("Nekorektan indeks");
      if(indeks==1) a=t;
      if(indeks==2) b=t;
      if(indeks==3) c=t;
      if(Orjentacija(a,b,c)==0) throw std::domain_error("Nekorektne pozicije tjemena");
  }
  static int Orjentacija (const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3){
    if((t1.first*(t2.second-t3.second)-t2.first*(t1.second-t3.second)+t3.first*(t1.second-t2.second))&gt;0) return 1;
    if((t1.first*(t2.second-t3.second)-t2.first*(t1.second-t3.second)+t3.first*(t1.second-t2.second))&lt;0) return -1;
    if(abs(t1.first*(t2.second-t3.second)-t2.first*(t1.second-t3.second)+t3.first*(t1.second-t2.second))&lt;EPS) {
      return 0;}
  }
  Tacka DajTjeme(int indeks) const{
    if(indeks&gt;3 || indeks&lt;1) throw std::range_error ("Nekorektan indeks");
    if(indeks==1) return a;
    if(indeks==2) return b;
    if(indeks==3) return c;
  }
  double DajStranicu(int indeks) const{
  if(indeks&gt;3 || indeks&lt;1) throw std::range_error ("Nekorektan indeks");
  if(indeks==1)   return sqrt((c.first-b.first)*(c.first-b.first)+(c.second-b.second)*(c.second-b.second)); 
</font>  if(indeks==2)   return sqrt((a.first-c.first)*(a.first-c.first)+(a.second-c.second)*(a.second-c.second));
<a name="2"></a><font color="#0000FF"><a href="match67-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_10.gif"/></a>

  if(indeks==3)   return sqrt((a.first-b.first)*(a.first-b.first)+(a.second-b.second)*(a.second-b.second));
  }
  double DajUgao(int indeks) const{
  if(indeks&gt;3 || indeks&lt;1) throw std::range_error ("Nekorektan indeks");
  if(indeks==1) return acos((DajStranicu(2)*DajStranicu(2)+DajStranicu(3)*DajStranicu(3)-DajStranicu(1)*DajStranicu(1))/(2*DajStranicu(2)*DajStranicu(3)));
  if(indeks==2) return acos((DajStranicu(1)*DajStranicu(1)+DajStranicu(3)*DajStranicu(3)-DajStranicu(2)*DajStranicu(2))/(2*DajStranicu(1)*DajStranicu(3)));
  if(indeks==3) return acos((DajStranicu(2)*DajStranicu(2)+DajStranicu(1)*DajStranicu(1)-DajStranicu(3)*DajStranicu(3))/(2*DajStranicu(2)*DajStranicu(1)));
  }
  Tacka DajCentar() const {
    double x=(a.first+b.first+c.first)/3; 
    double y=(a.second+b.second+c.second)/3;
    Tacka t=std::make_pair(x,y);
    return t;
  }
  double DajObim() const {
    return(DajStranicu(1)+DajStranicu(2)+DajStranicu(3));
  }
  double DajPovrsinu() const {
    return abs(a.first*(b.second-c.second)-b.first*(a.second-c.second)+c.first*(a.second-b.second))/2;
  }
  bool DaLiJePozitivnoOrijentiran() const{
    if(Orjentacija(a,b,c)&gt;0) return true;
    return false;
  }
  bool DaLiJeUnutra(const Tacka &amp;t) const {
    if(Orjentacija(a,b,c)&gt;0 &amp;&amp; Orjentacija(a,b,t)&gt;0 &amp;&amp; Orjentacija(b,c,t)&gt;0 &amp;&amp; Orjentacija(c,a,t)&gt;0) return true;
    if(Orjentacija(a,b,c)&lt;0 &amp;&amp; Orjentacija(a,b,t)&lt;0 &amp;&amp; Orjentacija(b,c,t)&lt;0 &amp;&amp; Orjentacija(c,a,t)&lt;0) return true;
    return false;
  }
  void Ispisi() const {
    std::cout&lt;&lt;"(("&lt;&lt;a.first&lt;&lt;","&lt;&lt;a.second&lt;&lt;"),("&lt;&lt;b.first&lt;&lt;","&lt;&lt;b.second&lt;&lt;"),("&lt;&lt;c.first&lt;&lt;","&lt;&lt;c.second&lt;&lt;"))";
</font>  }
  void Transliraj(double delta_x, double delta_y){
    a.first+=delta_x;
    a.second+=delta_y;
    b.first+=delta_x;
<a name="3"></a><font color="#00FFFF"><a href="match67-0.html#3" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_9.gif"/></a>

    b.second+=delta_y;
    c.first+=delta_x;
    c.second+=delta_y;
  }
  void Centriraj(const Tacka &amp;t){
    Transliraj((t.first-a.first-b.first-c.first)/3,(t.second-a.second-b.second-c.second)/3);
  }
  void Rotiraj(const Tacka &amp;t, double ugao){
    double x1=(t.first+(a.first-t.first)*cos(ugao)-(a.second-t.second)*sin(ugao));
    double x2=(t.second+(a.first-t.first)*sin(ugao)+(a.second-t.second)*cos(ugao));
    double y1=(t.first+(b.first-t.first)*cos(ugao)-(b.second-t.second)*sin(ugao));
    double y2=(t.second+(b.first-t.first)*sin(ugao)+(b.second-t.second)*cos(ugao));
    double z1=(t.first+(c.first-t.first)*cos(ugao)-(c.second-t.second)*sin(ugao));
    double z2=(t.second+(c.first-t.first)*sin(ugao)+(c.second-t.second)*cos(ugao));
    Postavi(1,std::make_pair(x1,x2));
    Postavi(2,std::make_pair(y1,y2));
    Postavi(3,std::make_pair(z1,z2));
  }
  void Skaliraj(const Tacka &amp;t,double faktor){
    if(faktor&lt;EPS ) throw std::domain_error("Nekorektan faktor skaliranja");
    a.first=t.first+faktor*(a.first-t.first);
    a.second=t.second+faktor*(a.second-t.second);
</font>    b.first=t.first+faktor*(b.first-t.first);
    b.second=t.second+faktor*(b.second-t.second);
<a name="8"></a><font color="#00FFFF"><a href="match67-0.html#8" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_1.gif"/></a>

    c.first=t.first+faktor*(c.first-t.first);
    c.second=t.second+faktor*(c.second-t.second);
  }
  void Rotiraj(double ugao){
    Rotiraj(DajCentar(),ugao); 
  }
  void Skaliraj(double faktor){
  
    Skaliraj(DajCentar(),faktor);
  }
  friend bool DaLiSuIdenticni(const Trougao &amp;t1, const Trougao &amp;t2);
</font><a name="5"></a><font color="#FF0000"><a href="match67-0.html#5" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_3.gif"/></a>

  friend bool DaLiSuSlicni(const Trougao &amp;t1, const Trougao &amp;t2);
  friend bool DaLiSuPodudarni(const Trougao &amp;t1, const Trougao &amp;t2);
};

bool DaLiSuIdenticni(const Trougao &amp;t1, const Trougao &amp;t2){
  if(((abs(t1.a.first-t2.a.first)&lt;EPS &amp;&amp; abs(t1.a.second-t2.a.second)&lt;EPS)||(abs(t1.a.first-t2.b.first)&lt;EPS &amp;&amp; abs(t1.a.second-t2.b.second)&lt;EPS )||(abs(t1.a.first-t2.c.first)&lt;EPS &amp;&amp; abs(t1.a.second-t2.c.second)&lt;EPS )) &amp;&amp; 
</font><a name="6"></a><font color="#00FF00"><a href="match67-0.html#6" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_2.gif"/></a>

  ((abs(t1.b.first-t2.a.first)&lt;EPS &amp;&amp; abs(t1.b.second-t2.a.second)&lt;EPS)|| (abs(t1.b.first-t2.b.first)&lt;EPS &amp;&amp; abs(t1.b.second-t2.b.second)&lt;EPS)|| (abs(t1.b.first-t2.c.first)&lt;EPS &amp;&amp; abs(t1.b.second-t2.c.second)&lt;EPS )) &amp;&amp;
</font><a name="0"></a><font color="#FF0000"><a href="match67-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_37.gif"/></a>

  ((abs(t1.c.first-t2.a.first)&lt;EPS &amp;&amp; abs(t1.c.second-t2.a.second)&lt;EPS )||(abs(t1.c.first-t2.b.first)&lt;EPS &amp;&amp; abs(t1.c.second-t2.b.second)&lt;EPS)||(abs(t1.c.first-t2.c.first)&lt;EPS &amp;&amp; abs(t1.c.second-t2.c.second)&lt;EPS))) return true;
  return false;
}
bool DaLiSuPodudarni(const Trougao &amp;t1, const Trougao &amp;t2) {
  Tacka a=t1.DajTjeme(1);
  Tacka b=t1.DajTjeme(2);
  Tacka c=t1.DajTjeme(3);
  Tacka d=t2.DajTjeme(1);
  Tacka e=t2.DajTjeme(2);
  Tacka f=t2.DajTjeme(3);
  if((Trougao::Orjentacija(a,b,c)==Trougao::Orjentacija(d,e,f))  &amp;&amp; 
  abs(t1.DajStranicu(1)-t2.DajStranicu(1))&lt;EPS &amp;&amp; abs(t1.DajStranicu(2)-t2.DajStranicu(2))&lt;EPS &amp;&amp; abs(t1.DajStranicu(3)-t2.DajStranicu(3))&lt;EPS)  return true;
  if((Trougao::Orjentacija(a,b,c)==Trougao::Orjentacija(e,d,f))  &amp;&amp; 
  abs(t1.DajStranicu(1)-t2.DajStranicu(2))&lt;EPS &amp;&amp; abs(t1.DajStranicu(2)-t2.DajStranicu(1))&lt;EPS &amp;&amp; abs(t1.DajStranicu(3)-t2.DajStranicu(3))&lt;EPS)  return true;
  if((Trougao::Orjentacija(a,b,c)==Trougao::Orjentacija(e,f,d))  &amp;&amp; 
  abs(t1.DajStranicu(1)-t2.DajStranicu(2))&lt;EPS &amp;&amp; abs(t1.DajStranicu(2)-t2.DajStranicu(3))&lt;EPS &amp;&amp; abs(t1.DajStranicu(3)-t2.DajStranicu(1))&lt;EPS)  return true;
  if((Trougao::Orjentacija(a,b,c)==Trougao::Orjentacija(f,e,d))  &amp;&amp; 
  abs(t1.DajStranicu(1)-t2.DajStranicu(3))&lt;EPS &amp;&amp; abs(t1.DajStranicu(2)-t2.DajStranicu(2))&lt;EPS &amp;&amp; abs(t1.DajStranicu(3)-t2.DajStranicu(1))&lt;EPS)  return true;
  if((Trougao::Orjentacija(a,b,c)==Trougao::Orjentacija(f,d,e))  &amp;&amp; 
  abs(t1.DajStranicu(1)-t2.DajStranicu(3))&lt;EPS &amp;&amp; abs(t1.DajStranicu(2)-t2.DajStranicu(1))&lt;EPS &amp;&amp; abs(t1.DajStranicu(3)-t2.DajStranicu(2))&lt;EPS)  return true;
  if((Trougao::Orjentacija(a,b,c)==Trougao::Orjentacija(d,f,e))  &amp;&amp; 
  abs(t1.DajStranicu(1)-t2.DajStranicu(1))&lt;EPS &amp;&amp; abs(t1.DajStranicu(2)-t2.DajStranicu(3))&lt;EPS &amp;&amp; abs(t1.DajStranicu(3)-t2.DajStranicu(2))&lt;EPS)  return true;
  return false;
  
}
bool DaLiSuSlicni(const Trougao &amp;t1, const Trougao &amp;t2){
  Tacka a=t1.DajTjeme(1);
  Tacka b=t1.DajTjeme(2);
  Tacka c=t1.DajTjeme(3);
  Tacka d=t2.DajTjeme(1);
  Tacka e=t2.DajTjeme(2);
  Tacka f=t2.DajTjeme(3);

  if((Trougao::Orjentacija(a,b,c)==Trougao::Orjentacija(d,e,f))  &amp;&amp; DaLiSuPodudarni(t1,t2) &amp;&amp;
  abs(t1.DajUgao(1)-t2.DajUgao(1))&lt;EPS &amp;&amp; abs(t1.DajUgao(2)-t2.DajUgao(2))&lt;EPS &amp;&amp; abs(t1.DajUgao(3)-t2.DajUgao(3))&lt;EPS)  return true;
  if((Trougao::Orjentacija(a,b,c)==Trougao::Orjentacija(e,d,f))  &amp;&amp; DaLiSuPodudarni(t1,t2) &amp;&amp; 
  abs(t1.DajUgao(1)-t2.DajUgao(2))&lt;EPS &amp;&amp; abs(t1.DajUgao(2)-t2.DajUgao(1))&lt;EPS &amp;&amp; abs(t1.DajUgao(3)-t2.DajUgao(3))&lt;EPS)  return true;
  if((Trougao::Orjentacija(a,b,c)==Trougao::Orjentacija(e,f,d))  &amp;&amp;  DaLiSuPodudarni(t1,t2) &amp;&amp;
  abs(t1.DajUgao(1)-t2.DajUgao(2))&lt;EPS &amp;&amp; abs(t1.DajUgao(2)-t2.DajUgao(3))&lt;EPS &amp;&amp; abs(t1.DajUgao(3)-t2.DajUgao(1))&lt;EPS)  return true;
  if((Trougao::Orjentacija(a,b,c)==Trougao::Orjentacija(f,e,d))  &amp;&amp;  DaLiSuPodudarni(t1,t2) &amp;&amp;
  abs(t1.DajUgao(1)-t2.DajUgao(3))&lt;EPS &amp;&amp; abs(t1.DajUgao(2)-t2.DajUgao(2))&lt;EPS &amp;&amp; abs(t1.DajUgao(3)-t2.DajUgao(1))&lt;EPS)  return true;
  if((Trougao::Orjentacija(a,b,c)==Trougao::Orjentacija(f,d,e))  &amp;&amp; DaLiSuPodudarni(t1,t2) &amp;&amp;
  abs(t1.DajUgao(1)-t2.DajUgao(3))&lt;EPS &amp;&amp; abs(t1.DajUgao(2)-t2.DajUgao(1))&lt;EPS &amp;&amp; abs(t1.DajUgao(3)-t2.DajUgao(2))&lt;EPS)  return true;
  if((Trougao::Orjentacija(a,b,c)==Trougao::Orjentacija(d,f,e))  &amp;&amp;  DaLiSuPodudarni(t1,t2) &amp;&amp;
  abs(t1.DajUgao(1)-t2.DajUgao(1))&lt;EPS &amp;&amp; abs(t1.DajUgao(2)-t2.DajUgao(3))&lt;EPS &amp;&amp; abs(t1.DajUgao(3)-t2.DajUgao(2))&lt;EPS)  return true;
  return false;
  
}
  

int main ()
{
  int n{};
  
  std::cout&lt;&lt;"Koliko zelite kreirati trouglova: ";
  std::cin&gt;&gt;n;
  std::vector&lt;std::shared_ptr&lt;Trougao&gt; &gt; v(n);
  for(int i = 0; i &lt; n; i++){
    int x1{},x2{},x3{},y1{},y2{},y3{};
    std::cout&lt;&lt;"Unesite podatke za "&lt;&lt;i+1&lt;&lt;". trougao (x1 y1 x2 y2 x3 y3): ";
    std::cin&gt;&gt;x1&gt;&gt;y1&gt;&gt;x2&gt;&gt;y2&gt;&gt;x3&gt;&gt;y3;
    try{
    v[i] = std::make_shared&lt;Trougao&gt;(Tacka(x1,y1),Tacka(x2,y2),Tacka(x3,y3));
    }
    catch(std::domain_error e){
      i--;
      std::cout&lt;&lt;e.what()&lt;&lt;", ponovite unos!"&lt;&lt;std::endl;
    }
  }
  double dx{},dy{};
  std::cout&lt;&lt;"Unesite vektor translacije (dx dy): ";
  std::cin&gt;&gt;dx&gt;&gt;dy;
  std::transform(v.begin(), v.end(), v.begin(), [dx,dy](std::shared_ptr&lt;Trougao&gt; t){ t-&gt;Transliraj(dx,dy); return t;});
  double ugao{};
  std::cout&lt;&lt;"Unesite ugao rotacije: ";
  std::cin&gt;&gt;ugao;
  std::transform(v.begin(), v.end(), v.begin(), [ugao](std::shared_ptr&lt;Trougao&gt; t){ t-&gt;Rotiraj(ugao); return t;});
  
	double faktor{};
	std::cout&lt;&lt;"Unesite faktor skaliranja: ";
	std::cin&gt;&gt;faktor;
	std::transform(v.begin(),v.end(),v.begin(), [faktor](std::shared_ptr&lt;Trougao&gt; t){ t-&gt;Skaliraj(t-&gt;DajTjeme(1),faktor); return t; });
	
	std::sort(v.begin(),v.end(), [](std::shared_ptr&lt;Trougao&gt; t1, std::shared_ptr&lt;Trougao&gt; t2){
</font>	  return (t1-&gt;DajPovrsinu() &lt; t2-&gt;DajPovrsinu());
	});

	std::cout&lt;&lt;"Trouglovi nakon obavljenih transformacija: "&lt;&lt;std::endl;
<a name="1"></a><font color="#00FF00"><a href="match67-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_13.gif"/></a>

	std::for_each(v.begin(), v.end(), [](std::shared_ptr&lt;Trougao&gt; t){ t-&gt;Ispisi(); std::cout &lt;&lt; std::endl; });
	std::cout&lt;&lt;"Trougao sa najmanjim obimom: ";
	(*std::min_element(v.begin(), v.end(), [](std::shared_ptr&lt;Trougao&gt; t1, std::shared_ptr&lt;Trougao&gt; t2){     
	  return (t1-&gt;DajObim() &lt; t2-&gt;DajObim());
	}))-&gt;Ispisi();
	std::cout&lt;&lt;std::endl;
	

	std::vector&lt;std::pair&lt;Trougao,Trougao&gt;&gt; s ;
	for(int i=0;i&lt;n;i++){
	  for(int j=i+1;j&lt;n;j++){
	    if(DaLiSuIdenticni(*v[i],*v[j])) s.push_back(std::make_pair(*v[i],*v[j]));
	    }
	}
		if(s.size()==0){
	  std::cout&lt;&lt;"Nema identicnih trouglova!"&lt;&lt;std::endl;
	} else 	std::cout&lt;&lt;"Parovi identicnih trouglova: "&lt;&lt;std::endl;
	for(auto x: s) {x.first.Ispisi();std::cout&lt;&lt;" i ";x.second.Ispisi();std::cout&lt;&lt;std::endl;}
		std::vector&lt;std::pair&lt;Trougao,Trougao&gt;&gt; p ;

	for(int i=0;i&lt;n;i++){
	  for(int j=i+1;j&lt;n;j++){
	    if(DaLiSuPodudarni(*v[i],*v[j])) p.push_back(std::make_pair(*v[i],*v[j]));
	    }
	}
		if(p.size()==0){
	  std::cout&lt;&lt;"Nema podudarnih trouglova!"&lt;&lt;std::endl;
	 
	} else 	std::cout&lt;&lt;"Parovi podudarnih trouglova: "&lt;&lt;std::endl;
	for(auto x: p) {x.first.Ispisi();std::cout&lt;&lt;" i ";x.second.Ispisi();std::cout&lt;&lt;std::endl;}
	std::vector&lt;std::pair&lt;Trougao,Trougao&gt;&gt; k ;

	for(int i=0;i&lt;n;i++){
	  for(int j=i+1;j&lt;n;j++){
	    if(DaLiSuSlicni(*v[i],*v[j])) k.push_back(std::make_pair(*v[i],*v[j]));
	    }
	}
	if(k.size()==0){
	  std::cout&lt;&lt;"Nema slicnih trouglova!"&lt;&lt;std::endl;

	} else 	std::cout&lt;&lt;"Parovi slicnih trouglova: "&lt;&lt;std::endl;
	for(auto x: k) {x.first.Ispisi();std::cout&lt;&lt;" i ";x.second.Ispisi();std::cout&lt;&lt;std::endl;}
</font>	return 0;
}</pre>
</body>
</html>
