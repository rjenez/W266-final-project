<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z1/student4495.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z1/student4495.cpp<p></p><pre>
#include &lt;iostream&gt;
#include &lt;stdexcept&gt;
#include &lt;cmath&gt;
#include &lt;utility&gt;
#include &lt;vector&gt;
#include &lt;memory&gt;
#include &lt;algorithm&gt;
<a name="4"></a><font color="#FF00FF"><a href="match40-1.html#4" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_1.gif"/></a>

typedef std::pair&lt;double, double&gt; Tacka;

class Trougao{
  Tacka tacke[3];
public: 
  Trougao(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3);  
  void Postavi(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3);  
</font>  void Postavi(int indeks, const Tacka &amp;t);  
  static int Orijentacija(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3);  
  Tacka DajTjeme(int indeks) const;  
  double DajStranicu(int indeks) const;
  double DajUgao(int indeks) const;  
  Tacka DajCentar() const;  
  double DajObim() const;  
  double DajPovrsinu() const;  
  bool DaLiJePozitivnoOrijentiran() const;  
  bool DaLiJeUnutra(const Tacka &amp;t) const;  
  void Ispisi() const;  
  void Transliraj(double delta_x, double delta_y);  
  void Centriraj(const Tacka &amp;t);  
  void Rotiraj(const Tacka &amp;t, double ugao); 
  void Skaliraj(const Tacka &amp;t, double faktor);  
  void Rotiraj(double ugao);  
  void Skaliraj(double faktor);  
  friend bool DaLiSuIdenticni(const Trougao &amp;t1, const Trougao &amp;t2);  
  friend bool DaLiSuPodudarni(const Trougao &amp;t1, const Trougao &amp;t2);  
<a name="3"></a><font color="#00FFFF"><a href="match40-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_5.gif"/></a>

  friend bool DaLiSuSlicni(const Trougao &amp;t1, const Trougao &amp;t2); 
};
Trougao::Trougao(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3){
  if(!Orijentacija(t1,t2,t3)) throw std::domain_error("Nekorektne pozicije tjemena");
  Postavi(t1,t2,t3);
}
void Trougao::Postavi(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3){
  if(!Orijentacija(t1,t2,t3)) throw std::domain_error("Nekorektne pozicije tjemena");
  tacke[0]=t1; tacke[1]=t2; tacke[2]=t3;
}
void Trougao::Postavi(int indeks, const Tacka &amp;t){
  if(indeks&gt;3 || indeks&lt;1) throw std::range_error("Nekorektan indeks");
  tacke[indeks-1]=t;
  if(!Orijentacija(tacke[0],tacke[1],tacke[2])) throw std::domain_error("Nekorektne pozicije tjemena");
}
int Trougao::Orijentacija(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3){
  double rez=t1.first*(t2.second-t3.second) - t2.first*(t1.second-t3.second) + t3.first*(t1.second-t2.second);
</font><a name="1"></a><font color="#00FF00"><a href="match40-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_19.gif"/></a>

  if(rez&gt;0) return 1;
  if(std::fabs(rez)&lt;1e-10) return 0;
  return -1;
}
Tacka Trougao::DajTjeme(int indeks) const{
  if(indeks&gt;3 || indeks&lt;1) throw std::range_error("Nekorektan indeks");
  return tacke[indeks-1];   
}
double Trougao::DajStranicu(int indeks) const{
  if(indeks&lt;1 || indeks&gt;3) throw std::range_error("Nekorektan indeks");
  if(indeks==1){
    return std::sqrt(std::pow(tacke[1].first-tacke[2].first,2) + std::pow(tacke[1].second-tacke[2].second,2));
  }
  if(indeks==2){
    return std::sqrt(std::pow(tacke[0].first-tacke[2].first,2) + std::pow(tacke[0].second-tacke[2].second,2));
  }
  else return std::sqrt(std::pow(tacke[0].first-tacke[1].first,2) + std::pow(tacke[0].second-tacke[1].second,2));
}
double Trougao::DajUgao(int indeks) const{
  if(indeks&lt;1 || indeks&gt;3) throw std::range_error("Nekorektan indeks");
  if(indeks==1){
    return std::acos( (std::pow(DajStranicu(2),2) + std::pow(DajStranicu(3),2) - std::pow(DajStranicu(1),2)) / (2*DajStranicu(2)*DajStranicu(3)));
  }
  if(indeks==2){
    return std::acos( (std::pow(DajStranicu(1),2) + std::pow(DajStranicu(3),2) - std::pow(DajStranicu(2),2)) / (2*DajStranicu(1) * DajStranicu(3)));
  }
  return std::acos( (std::pow(DajStranicu(2),2) + std::pow(DajStranicu(1),2) - std::pow(DajStranicu(3),2)) / (2*DajStranicu(2)* DajStranicu(1)));
}
Tacka Trougao::DajCentar() const{
  Tacka c;
  c.first=(tacke[0].first +tacke[1].first+tacke[2].first)/3;
  c.second=(tacke[0].second +tacke[1].second+tacke[2].second)/3;
  return c;
}
double Trougao::DajObim() const{
  return DajStranicu(1)+DajStranicu(2)+DajStranicu(3);
}
double Trougao::DajPovrsinu() const{
  Tacka t1(tacke[0]);
  Tacka t2(tacke[1]);
  Tacka t3(tacke[2]);
  return (0.5)*std::fabs(t1.first*(t2.second-t3.second) - t2.first*(t1.second-t3.second) + t3.first*(t1.second-t2.second)); 
}
bool Trougao::DaLiJePozitivnoOrijentiran() const{
  if(Orijentacija(tacke[0], tacke[1], tacke[2])==1) return true;
  return false;
}
bool Trougao::DaLiJeUnutra(const Tacka &amp;t) const{
  int niz[4];
  niz[0]=Orijentacija(tacke[0],tacke[1],tacke[2]);
  niz[1]=Orijentacija(tacke[0],tacke[1],t);
  niz[2]=Orijentacija(t,tacke[1],tacke[2]);
  niz[3]=Orijentacija(tacke[0],t,tacke[2]);
  for(int i=0; i&lt;4; i++)
      if(niz[i]!=niz[0])
          return false;
  return true;
}  
void Trougao::Ispisi() const{
  std::cout &lt;&lt;"(("&lt;&lt;tacke[0].first &lt;&lt;","&lt;&lt; tacke[0].second&lt;&lt;"),("&lt;&lt;tacke[1].first&lt;&lt;","&lt;&lt; tacke[1].second &lt;&lt;"),("&lt;&lt;tacke[2].first &lt;&lt;","&lt;&lt;tacke[2].second&lt;&lt;"))";
</font><a name="0"></a><font color="#FF0000"><a href="match40-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_56.gif"/></a>

}
void Trougao::Transliraj(double delta_x, double delta_y){
  tacke[0].first+=delta_x;
  tacke[1].first+=delta_x;
  tacke[2].first+=delta_x;
  tacke[0].second+=delta_y;
  tacke[1].second+=delta_y;
  tacke[2].second+=delta_y;
}  
void Trougao::Centriraj(const Tacka &amp;t){
  double delta_x=t.first-this-&gt;DajCentar().first;
  double delta_y=t.second-this-&gt;DajCentar().second;
  Transliraj(delta_x,delta_y);
}  
void Trougao::Rotiraj(const Tacka &amp;t, double ugao){
  auto x1=t.first+(tacke[0].first-t.first)*std::cos(ugao)-(tacke[0].second-t.second)*std::sin(ugao);
  auto x2=t.first+(tacke[1].first-t.first)*std::cos(ugao)-(tacke[1].second-t.second)*std::sin(ugao);
  auto x3=t.first+(tacke[2].first-t.first)*std::cos(ugao)-(tacke[2].second-t.second)*std::sin(ugao);
  tacke[0].second=t.second+(tacke[0].first-t.first)*std::sin(ugao)+(tacke[0].second-t.second)*std::cos(ugao);
  tacke[1].second=t.second+(tacke[1].first-t.first)*std::sin(ugao)+(tacke[1].second-t.second)*std::cos(ugao);
  tacke[2].second=t.second+(tacke[2].first-t.first)*std::sin(ugao)+(tacke[2].second-t.second)*std::cos(ugao);
  tacke[0].first=x1;tacke[1].first=x2;tacke[2].first=x3;
} 
void Trougao::Skaliraj(const Tacka &amp;t, double faktor){
  if(std::fabs(faktor)&lt;1e-10) throw std::domain_error("Nekorektan faktor skaliranja");
  tacke[0].first=t.first+(tacke[0].first-t.first)*faktor;
  tacke[1].first=t.first+(tacke[1].first-t.first)*faktor;
  tacke[2].first=t.first+(tacke[2].first-t.first)*faktor;
  tacke[0].second=t.second+(tacke[0].second-t.second)*faktor;
  tacke[1].second=t.second+(tacke[1].second-t.second)*faktor;
  tacke[2].second=t.second+(tacke[2].second-t.second)*faktor;
}  
void Trougao::Rotiraj(double ugao){
  Rotiraj(DajCentar(),ugao);
}  
void Trougao::Skaliraj(double faktor){
  Skaliraj(DajCentar(),faktor);
}  
bool DaLiSuIdenticni(const Trougao &amp;t1, const Trougao &amp;t2){
  std::vector&lt;double&gt; v1x{t1.tacke[0].first,t1.tacke[1].first,t1.tacke[2].first};
  std::vector&lt;double&gt; v1y{t1.tacke[0].second,t1.tacke[1].second,t1.tacke[2].second};
  std::vector&lt;double&gt; v2x{t2.tacke[0].first,t2.tacke[1].first,t2.tacke[2].first};
  std::vector&lt;double&gt; v2y{t2.tacke[0].second,t2.tacke[1].second,t2.tacke[2].second};
  std::sort(v1x.begin(),v1x.end());
  std::sort(v1y.begin(),v1y.end());
  std::sort(v2x.begin(),v2x.end());
  std::sort(v2y.begin(),v2y.end());
  return v1x==v2x &amp;&amp; v1y==v2y;   
}  
bool DaLiSuPodudarni(const Trougao &amp;t1, const Trougao &amp;t2){
  double a=t1.DajStranicu(1), b=t1.DajStranicu(2),c=t1.DajStranicu(3);
  auto o(t1.Orijentacija(t1.tacke[0],t1.tacke[1],t1.tacke[2]));
  double ep(1e-10);
  if( t2.Orijentacija(t2.tacke[0],t2.tacke[1],t2.tacke[2])==o &amp;&amp; std::fabs(t2.DajStranicu(1)-a)&lt;ep &amp;&amp; std::fabs(t2.DajStranicu(2)-b)&lt;ep &amp;&amp; std::fabs(t2.DajStranicu(3)-c)&lt;ep) return true;
  if( t2.Orijentacija(t2.tacke[0],t2.tacke[2],t2.tacke[1])==o &amp;&amp; std::fabs(t2.DajStranicu(1)-a)&lt;ep &amp;&amp; std::fabs(t2.DajStranicu(3)-b)&lt;ep &amp;&amp; std::fabs(t2.DajStranicu(2)-c)&lt;ep) return true;
  if( t2.Orijentacija(t2.tacke[1],t2.tacke[0],t2.tacke[2])==o &amp;&amp; std::fabs(t2.DajStranicu(2)-a)&lt;ep &amp;&amp; std::fabs(t2.DajStranicu(1)-b)&lt;ep &amp;&amp; std::fabs(t2.DajStranicu(3)-c)&lt;ep) return true;
  if( t2.Orijentacija(t2.tacke[1],t2.tacke[2],t2.tacke[0])==o &amp;&amp; std::fabs(t2.DajStranicu(2)-a)&lt;ep &amp;&amp; std::fabs(t2.DajStranicu(3)-b)&lt;ep &amp;&amp; std::fabs(t2.DajStranicu(1)-c)&lt;ep) return true;   
  if( t2.Orijentacija(t2.tacke[2],t2.tacke[1],t2.tacke[0])==o &amp;&amp; std::fabs(t2.DajStranicu(3)-a)&lt;ep &amp;&amp; std::fabs(t2.DajStranicu(2)-b)&lt;ep &amp;&amp; std::fabs(t2.DajStranicu(1)-c)&lt;ep) return true;
  if( t2.Orijentacija(t2.tacke[2],t2.tacke[0],t2.tacke[1])==o &amp;&amp; std::fabs(t2.DajStranicu(3)-a)&lt;ep &amp;&amp; std::fabs(t2.DajStranicu(1)-b)&lt;ep &amp;&amp; std::fabs(t2.DajStranicu(2)-c)&lt;ep) return true;
  return false;
}
bool Ok(double a, double a_2,double b, double b_2,double c, double c_2){
  double ep(1e-10);
   return (a/a_2 &gt;= (b/b_2 - ep) &amp;&amp; a/a_2 &lt;= (b/b_2 + ep) &amp;&amp; b/b_2 &gt;= (c/c_2 - ep) &amp;&amp; b/b_2 &lt;= (c/c_2 + ep));
}
bool DaLiSuSlicni(const Trougao &amp;t1, const Trougao &amp;t2){
  double a=t1.DajStranicu(1), b=t1.DajStranicu(2),c=t1.DajStranicu(3);
  auto o(t1.Orijentacija(t1.tacke[0],t1.tacke[1],t1.tacke[2]));
  if( t2.Orijentacija(t2.tacke[0],t2.tacke[1],t2.tacke[2])==o &amp;&amp; Ok(t2.DajStranicu(1),a,t2.DajStranicu(2),b,t2.DajStranicu(3),c)) return true;
  if( t2.Orijentacija(t2.tacke[0],t2.tacke[2],t2.tacke[1])==o &amp;&amp; Ok(t2.DajStranicu(1),a,t2.DajStranicu(3),b,t2.DajStranicu(2),c)) return true;
  if( t2.Orijentacija(t2.tacke[1],t2.tacke[0],t2.tacke[2])==o &amp;&amp; Ok(t2.DajStranicu(2),a,t2.DajStranicu(1),b,t2.DajStranicu(3),c)) return true;
  if( t2.Orijentacija(t2.tacke[1],t2.tacke[2],t2.tacke[0])==o &amp;&amp; Ok(t2.DajStranicu(2),a,t2.DajStranicu(3),b,t2.DajStranicu(1),c)) return true;   
  if( t2.Orijentacija(t2.tacke[2],t2.tacke[1],t2.tacke[0])==o &amp;&amp; Ok(t2.DajStranicu(3),a,t2.DajStranicu(2),b,t2.DajStranicu(1),c)) return true;
  if( t2.Orijentacija(t2.tacke[2],t2.tacke[0],t2.tacke[1])==o &amp;&amp; Ok(t2.DajStranicu(3),a,t2.DajStranicu(1),b,t2.DajStranicu(2),c)) return true;
  return false;
}
int main() {
    std::cout &lt;&lt; "Koliko zelite kreirati trouglova: ";
    int n; std::cin &gt;&gt; n;
    std::vector&lt;std::shared_ptr&lt;Trougao&gt;&gt; v(n);
    std::vector&lt;std::shared_ptr&lt;Trougao&gt;&gt; v2(n);
    for(int i=0; i&lt;n;i++){
      std::cout &lt;&lt; "Unesite podatke za "&lt;&lt;1+i&lt;&lt;". trougao (x1 y1 x2 y2 x3 y3): ";
      double x1, y1, x2, y2, x3, y3;
      std::cin &gt;&gt;x1&gt;&gt; y1&gt;&gt; x2&gt;&gt; y2&gt;&gt; x3&gt;&gt; y3;
      Tacka t1(x1,y1),t2(x2,y2), t3(x3,y3);
      try{
        Trougao T(t1,t2,t3);
        v[i]=std::make_shared&lt;Trougao&gt;(T);
      }catch(std::domain_error e){
        std::cout &lt;&lt;e.what()&lt;&lt;", ponovite unos!"&lt;&lt; std::endl;
        i--;
      }
    } 
    double faktor, ugao;
    double dx,dy;
    std::cout &lt;&lt; "Unesite vektor translacije (dx dy): ";
    std::cin &gt;&gt; dx&gt;&gt;dy;
    std::cout&lt;&lt;"Unesite ugao rotacije: ";
    std::cin &gt;&gt; ugao;
    std::cout&lt;&lt;"Unesite faktor skaliranja: ";
    std::cin &gt;&gt; faktor;
    std::cout&lt;&lt;"Trouglovi nakon obavljenih transformacija:" &lt;&lt; std::endl;
    std::transform(v.begin(), v.end(), v2.begin(), [ugao,faktor,dx,dy](std::shared_ptr&lt;Trougao&gt; p){
      p-&gt;Transliraj(dx,dy);
      p-&gt;Rotiraj(ugao);
      p-&gt;Skaliraj(p-&gt;DajTjeme(1),faktor);
      return p;
    });
    std::sort(v2.begin(), v2.end(),[](std::shared_ptr&lt;Trougao&gt; p1, std::shared_ptr&lt;Trougao&gt; p2){
</font><a name="2"></a><font color="#0000FF"><a href="match40-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_11.gif"/></a>

      return p1-&gt;DajPovrsinu()&lt;p2-&gt;DajPovrsinu();
    });
    std::for_each(v2.begin(), v2.end(), [](std::shared_ptr&lt;Trougao&gt; p){p-&gt;Ispisi();std::cout &lt;&lt; std::endl;});
    auto x(*std::min_element(v2.begin(),v2.end(),[](std::shared_ptr&lt;Trougao&gt; p1, std::shared_ptr&lt;Trougao&gt; p2){
      return p1-&gt;DajObim()&lt;p2-&gt;DajObim();
    }));
    std::cout &lt;&lt;"Trougao sa najmanjim obimom: ";(*x).Ispisi();std::cout  &lt;&lt; std::endl;
    bool prvi(true);
    for(int i=0;i&lt;n;i++){
      for(int j=i+1; j&lt;n;j++){
        if(DaLiSuIdenticni(*v[i],*v[j])){
          if(prvi){
            std::cout &lt;&lt; "Parovi identicnih trouglova: " &lt;&lt; std::endl;
            prvi=false;
          }
          v[i]-&gt;Ispisi();
          std::cout &lt;&lt; " i ";
          v[j]-&gt;Ispisi();
          std::cout &lt;&lt; std::endl;
        }
      }
    }
    if(prvi) std::cout &lt;&lt; "Nema identicnih trouglova!" &lt;&lt; std::endl;
    bool prvi_1(true);
    for(int i=0;i&lt;n;i++){
      for(int j=i+1; j&lt;n;j++){
        if(DaLiSuPodudarni(*v[i],*v[j])){
          if(prvi_1){
            std::cout &lt;&lt; "Parovi podudarnih trouglova: " &lt;&lt; std::endl;
            prvi_1=false;
          }
          v[i]-&gt;Ispisi();
          std::cout &lt;&lt; " i ";
          v[j]-&gt;Ispisi();
          std::cout &lt;&lt; std::endl;
        }
      }
    }
    if(prvi_1) std::cout &lt;&lt; "Nema podudarnih trouglova!" &lt;&lt; std::endl;
    bool prvi_2(true);
    for(int i=0;i&lt;n;i++){
      for(int j=i+1; j&lt;n;j++){
        if(DaLiSuSlicni(*v[i],*v[j])){
          if(prvi_2){
            std::cout &lt;&lt; "Parovi slicnih trouglova: " &lt;&lt; std::endl;
            prvi_2=false;
          }
          v[i]-&gt;Ispisi();
          std::cout &lt;&lt; " i ";
          v[j]-&gt;Ispisi();
          std::cout &lt;&lt; std::endl;
        }
      }
    }
    if(prvi_2) std::cout &lt;&lt; "Nema slicnih trouglova!" &lt;&lt; std::endl;
</font>    return 0;
}</pre>
</body>
</html>
