<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z1/student5441.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z1/student5441.cpp<p></p><pre>
/B 2016/2017, ZadaÄ‡a 4, Zadatak 1
//Napomena: testovi ce biti dostupni dan pred rok!
#include &lt;iostream&gt;
#include &lt;utility&gt;
#include &lt;stdexcept&gt;
#include &lt;cmath&gt;
#include &lt;set&gt;
#include &lt;vector&gt;
#include &lt;memory&gt;
#include &lt;algorithm&gt;
typedef std::pair&lt;double,double&gt; Tacka;

bool JesuLiJednaki1(double x, double y, double eps=1e-10){
        return std::fabs(x-y)&lt;=eps*(std::fabs(x)+std::fabs(y));
    }
class Trougao{
    Tacka t1, t2, t3;
    static int Izraz(Tacka t1, Tacka t2, Tacka t3) {
        return t1.first*(t2.second-t3.second)-t2.first*(t1.second-t3.second)+t3.first*(t1.second-t2.second);
    }
    void KorektanIndeks(int indeks) const{
        if(indeks&gt;=1 &amp;&amp; indeks&lt;=3) return;
        else throw std::domain_error("Nekorektne pozicije tjemena");
    }
    bool JesuLiJednaki(double x, double y, double eps=1e-10){
        return std::fabs(x-y)&lt;=eps*(std::fabs(x)+std::fabs(y));
    }
    
    public:
    Trougao(const Tacka&amp; t1, const Tacka&amp; t2, const Tacka&amp; t3){ Postavi(t1, t2, t3); }
    
    void Postavi(const Tacka&amp; t1, const Tacka&amp; t2, const Tacka&amp; t3) { 
        if(Orijentacija(t1, t2, t3)==0) throw std::domain_error("Nekorektne pozicije tjemena");
        else Trougao::t1=t1; Trougao::t2=t2; Trougao::t3=t3;
        
    }
    void Postavi(int indeks, const Tacka&amp; t){
        KorektanIndeks(indeks);
        if(indeks==1) t1=t;
        else if(indeks==2) t2=t;
        else t3=t;
    }
    static int Orijentacija(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3){
        if(Izraz(t1, t2, t3)&gt;0) return 1;
        else if(Izraz(t1, t2, t3)&lt;0) return -1;
        else return 0;
    }
    Tacka DajTjeme(int indeks) const{
        KorektanIndeks(indeks);
        if(indeks==1) return t1;
        else if(indeks==2) return t2;
        else return t3;
    }
    double DajStranicu(int indeks) const;
    double DajUgao(int indeks) const;
    Tacka DajCentar() const{
        return std::make_pair((t1.first+t2.first+t3.first)/3, (t1.second+t2.second+t3.second)/3);
    }
    double DajObim() const{
        return DajStranicu(1)+DajStranicu(2)+DajStranicu(3);
    }
    double DajPovrsinu() const{
        return std::abs(Izraz(t1, t2, t3))/2.;
    }
    bool DaLiJePozitivnoOrijentiran() const { if(Orijentacija(t1,t2,t3)==1) return true; else return false; }
    bool DaLiJeUnutra(const Tacka &amp;t) const;
    void Ispisi() const{
        std::cout&lt;&lt;"(("&lt;&lt;t1.first&lt;&lt;","&lt;&lt;t1.second&lt;&lt;"),"&lt;&lt;"("&lt;&lt;t2.first&lt;&lt;","&lt;&lt;t2.second&lt;&lt;"),"&lt;&lt;"("&lt;&lt;t3.first&lt;&lt;","&lt;&lt;t3.second&lt;&lt;"))";
    }
    void Transliraj(double delta_x, double delta_y){
        t1.first+=delta_x; t2.first+=delta_x; t3.first+=delta_x; 
        t1.second+=delta_y; t2.second+=delta_y; t3.second+=delta_y; 
    }
    void Centriraj(const Tacka &amp;t);
    void Rotiraj(const Tacka &amp;t, double ugao);
    void Skaliraj(const Tacka &amp;t, double faktor);
    void Rotiraj(double ugao);
    void Skaliraj(double faktor);
    friend bool DaLiSuIdenticni(const Trougao &amp;t1, const Trougao &amp;t2);
<a name="6"></a><font color="#00FF00"><a href="match990-1.html#6" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_0.gif"/></a>

    friend bool DaLiSuPodudarni(const Trougao &amp;t1, const Trougao &amp;t2);
    friend bool DaLiSuSlicni(const Trougao &amp;t1, const Trougao &amp;t2);
};
 double Trougao::DajStranicu(int indeks) const{
</font>        KorektanIndeks(indeks);
<a name="0"></a><font color="#FF0000"><a href="match990-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_2.gif"/></a>

        if(indeks==1) return (std::sqrt((t2.first-t3.first)*(t2.first-t3.first)+(t2.second-t3.second)*(t2.second-t3.second)));
        else if(indeks==2) return (std::sqrt((t1.first-t3.first)*(t1.first-t3.first)+(t1.second-t3.second)*(t1.second-t3.second)));
        else return (std::sqrt((t2.first-t1.first)*(t2.first-t1.first)+(t2.second-t1.second)*(t2.second-t1.second)));
</font>    }
 double Trougao::DajUgao(int indeks) const{
        KorektanIndeks(indeks);
        double str1(DajStranicu(1)), str2(DajStranicu(2)), str3(DajStranicu(3));
        if(indeks==1) 
            return std::acos((str2*str2+str3*str3-str1*str1)/(2*str2*str3));
        else if(indeks==2)
            return std::acos((str1*str1+str3*str3-str2*str2)/(2*str1*str3));
        else return std::acos((str2*str2+str1*str1-str3*str3)/(2*str2*str1));
    }
 bool Trougao::DaLiJeUnutra(const Tacka &amp;t) const{
        if(Orijentacija(t1,t2,t)==0 || Orijentacija(t1,t3,t)==0 || Orijentacija(t2,t3,t)==0) return false;
        if(Orijentacija(t1,t2,t3)==Orijentacija(t1,t2,t) &amp;&amp; Orijentacija(t1,t2,t3)==Orijentacija(t2,t3,t) &amp;&amp; Orijentacija(t1,t2,t3)==Orijentacija(t3,t1,t)) return true;
        else return false;
    }
 void Trougao::Centriraj(const Tacka &amp;t){
        Tacka centar(DajCentar());
        int pomjerx(t.first-centar.first), pomjery(t.second-centar.second);
        t1.first+=pomjerx; t2.first+=pomjerx; t3.first+=pomjerx;
<a name="1"></a><font color="#00FF00"><a href="match990-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_1.gif"/></a>

        t1.second+=pomjery; t2.second+=pomjery; t3.second+=pomjery;
    }
 void Trougao::Rotiraj(const Tacka &amp;t, double ugao){
        t1.first=t.first+(t1.first-t.first)*std::cos(ugao)-(t1.second-t.second)*std::sin(ugao);
</font>        t2.first=t.first+(t2.first-t.first)*std::cos(ugao)-(t2.second-t.second)*std::sin(ugao);
        t3.first=t.first+(t3.first-t.first)*std::cos(ugao)-(t3.second-t.second)*std::sin(ugao);
        
        t1.second=t.second+(t1.first-t.first)*std::sin(ugao)+(t1.second-t.second)*std::cos(ugao);
        t2.second=t.second+(t2.first-t.first)*std::sin(ugao)+(t2.second-t.second)*std::cos(ugao);
<a name="4"></a><font color="#FF00FF"><a href="match990-1.html#4" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_0.gif"/></a>

        t3.second=t.second+(t3.first-t.first)*std::sin(ugao)+(t3.second-t.second)*std::cos(ugao);
    }
 void Trougao::Skaliraj(const Tacka &amp;t, double faktor){
     if(JesuLiJednaki(faktor, 0)) throw std::domain_error("Nekorektan faktor skaliranja");     
</font>     else{
         t1.first=t.first+faktor*(t1.first-t.first);
         t2.first=t.first+faktor*(t2.first-t.first);
         t3.first=t.first+faktor*(t3.first-t.first);
         t1.second=t.second+faktor*(t1.second-t.second);
         t2.second=t.second+faktor*(t2.second-t.second);
         t3.second=t.second+faktor*(t3.second-t.second);
      }
    }
 void Trougao::Rotiraj(double ugao){
     Tacka t(DajCentar());
     Tacka t1k(t1), t2k(t2), t3k(t3);
     
     t1.first=t.first+(t1.first-t.first)*std::cos(ugao)-(t1.second-t.second)*std::sin(ugao);
     t2.first=t.first+(t2.first-t.first)*std::cos(ugao)-(t2.second-t.second)*std::sin(ugao);
     t3.first=t.first+(t3.first-t.first)*std::cos(ugao)-(t3.second-t.second)*std::sin(ugao);
        
     t1.second=t.second+(t1k.first-t.first)*std::sin(ugao)+(t1.second-t.second)*std::cos(ugao);
     t2.second=t.second+(t2k.first-t.first)*std::sin(ugao)+(t2.second-t.second)*std::cos(ugao);
     t3.second=t.second+(t3k.first-t.first)*std::sin(ugao)+(t3.second-t.second)*std::cos(ugao);
    }
 void Trougao::Skaliraj(double faktor){
     if(JesuLiJednaki(faktor, 0)) throw std::domain_error("Nekorektan faktor skaliranja");     
     else{
         Tacka t(DajCentar());
         t1.first=t.first+faktor*(t1.first-t.first);
         t2.first=t.first+faktor*(t2.first-t.first);
         t3.first=t.first+faktor*(t3.first-t.first);
         t1.second=t.second+faktor*(t1.second-t.second);
<a name="5"></a><font color="#FF0000"><a href="match990-1.html#5" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_0.gif"/></a>

         t2.second=t.second+faktor*(t2.second-t.second);
         t3.second=t.second+faktor*(t3.second-t.second);
      }
    }
 bool DaLiSuIdenticni(const Trougao &amp;t1, const Trougao &amp;t2){
</font>     std::set&lt;Tacka&gt; skup1{t1.t1, t1.t2, t1.t3}, skup2{t2.t1, t2.t2, t2.t3};
     if(skup1==skup2) return true;
     else return false;
 }
 bool DaLiSuPodudarni(const Trougao &amp;t1, const Trougao &amp;t2){
      Trougao trokut1{t1.t1,t1.t2,t1.t3}, trokut2{t2.t1, t2.t2, t2.t3};
     if(Trougao::Orijentacija(trokut1.t1,trokut1.t2,trokut1.t3)!=Trougao::Orijentacija(trokut2.t1,trokut2.t2,trokut2.t3)){
             Tacka pomocna=trokut2.t1;
             trokut2.t1=trokut2.t2;
             trokut2.t2=pomocna;
         }
         bool odnosi_isti(false);
         for(int i=0; i&lt;3; i++)
         {
             if(JesuLiJednaki1(trokut1.DajStranicu(1),trokut2.DajStranicu(1)) &amp;&amp; JesuLiJednaki1(trokut1.DajStranicu(2),trokut2.DajStranicu(2)) &amp;&amp; JesuLiJednaki1(trokut1.DajStranicu(3),trokut2.DajStranicu(3)))
             {
                      
<a name="2"></a><font color="#0000FF"><a href="match990-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_1.gif"/></a>

     std::vector&lt;double&gt;uglovi1{trokut1.DajUgao(1), trokut1.DajUgao(2), trokut1.DajUgao(3)}, uglovi2{trokut2.DajUgao(1), trokut2.DajUgao(2), trokut2.DajUgao(3)};
</font>                if(uglovi2==uglovi1) odnosi_isti=true;
                 
             }
             else{
                 Tacka pomocna=trokut2.t1;
                 trokut2.t1=trokut2.t2;
                 trokut2.t2=trokut2.t3;
                 trokut2.t3=pomocna;
             }
         }
          return odnosi_isti;
         
 }
 
 bool DaLiSuSlicni(const Trougao &amp;t1, const Trougao &amp;t2){
     Trougao trokut1{t1.t1,t1.t2,t1.t3}, trokut2{t2.t1, t2.t2, t2.t3};
     if(Trougao::Orijentacija(trokut1.t1,trokut1.t2,trokut1.t3)!=Trougao::Orijentacija(trokut2.t1,trokut2.t2,trokut2.t3)){
             Tacka pomocna=trokut2.t1;
             trokut2.t1=trokut2.t2;
             trokut2.t2=pomocna;
         }
         bool odnosi_isti(false);
         for(int i=0; i&lt;3; i++)
         {
             if(JesuLiJednaki1(trokut1.DajStranicu(1)/trokut2.DajStranicu(1), trokut1.DajStranicu(2)/trokut2.DajStranicu(2)) &amp;&amp;  JesuLiJednaki1(trokut1.DajStranicu(1)/trokut2.DajStranicu(1), trokut1.DajStranicu(3)/trokut2.DajStranicu(3)))
             {
                      
<a name="3"></a><font color="#00FFFF"><a href="match990-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_1.gif"/></a>

     std::vector&lt;double&gt;uglovi1{trokut1.DajUgao(1), trokut1.DajUgao(2), trokut1.DajUgao(3)}, uglovi2{trokut2.DajUgao(1), trokut2.DajUgao(2), trokut2.DajUgao(3)};
</font>                if(uglovi2==uglovi1) odnosi_isti=true;
                 
             }
             else{
                 Tacka pomocna=trokut2.t1;
                 trokut2.t1=trokut2.t2;
                 trokut2.t2=trokut2.t3;
                 trokut2.t3=pomocna;
             }
         }
          return odnosi_isti;
         
 }
 
 
 
int main ()
{
    try{
        
        int n; double x1,y1,x2,y2,x3,y3;
        std::cout&lt;&lt;"Koliko zelite kreirati trouglova: ";
        std::cin&gt;&gt;n;
        std::vector&lt;std::shared_ptr&lt;Trougao&gt;&gt; vektor(n);
        for(int i=0; i&lt;n; i++)
        {
            try{
            std::cout&lt;&lt;"Unesite podatke za "&lt;&lt;i+1&lt;&lt;". trougao (x1 y1 x2 y2 x3 y3): ";
            std::cin&gt;&gt;x1&gt;&gt;y1&gt;&gt;x2&gt;&gt;y2&gt;&gt;x3&gt;&gt;y3;
            std::shared_ptr&lt;Trougao&gt; pok(new Trougao({{x1,y1},{x2,y2},{x3,y3}}));
            vektor[i]=pok;
            
            }
            catch(std::domain_error poruka) {std::cout&lt;&lt;poruka.what()&lt;&lt;", ponovite unos!\n"; i--;}
            
        }
        double translx,transly;
        std::cout&lt;&lt;"Unesite vektor translacije (dx dy): ";
        std::cin&gt;&gt;translx&gt;&gt;transly;
        std::cout&lt;&lt;"Unesite ugao rotacije: ";
        double ugao;
        std::cin&gt;&gt;ugao;
        double faktorsk;
        std::cout&lt;&lt;"Unesite faktor skaliranja: ";
        std::cin&gt;&gt;faktorsk;
        std::cout&lt;&lt;"Trouglovi nakon obavljenih transformacija:\n";
        
        std::transform(vektor.begin(), vektor.end(), vektor.begin(), [translx,transly, ugao, faktorsk](std::shared_ptr&lt;Trougao&gt; t){ (*t).Transliraj(translx,transly); (*t).Rotiraj(ugao); (*t).Skaliraj((*t).DajTjeme(1),faktorsk); return t;});
        std::sort(vektor.begin(), vektor.end(), [](std::shared_ptr&lt;Trougao&gt; t1, std::shared_ptr&lt;Trougao&gt; t2) {return (*t1).DajPovrsinu()&lt;(*t2).DajPovrsinu();});
        std::for_each(vektor.begin(), vektor.end(), [](std::shared_ptr&lt;Trougao&gt; t) { t-&gt;Ispisi(); std::cout&lt;&lt;std::endl;});
<a name="7"></a><font color="#0000FF"><a href="match990-1.html#7" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_0.gif"/></a>

        std::cout&lt;&lt;"Trougao sa najmanjim obimom: ";
        auto p=std::min_element(vektor.begin(), vektor.end(), [](std::shared_ptr&lt;Trougao&gt; t, std::shared_ptr&lt;Trougao&gt; t1) { return (*t).DajObim()&lt;(*t1).DajObim();});
</font>        (*p)-&gt;Ispisi();
        
        
        int brojac_identicnih(0);
        for(int i=0; i&lt;n; i++)
        {
            for(int j=i+1; j&lt;n; j++)
            {
                if(DaLiSuIdenticni(*vektor[i],*vektor[j]))
                brojac_identicnih++;
            }
            
        }
        
        if(brojac_identicnih!=0)
        {
            std::cout&lt;&lt;"\nParovi identicnih trouglova:\n";
        for(int i=0; i&lt;n; i++)
        {
            for(int j=i+1; j&lt;n; j++)
            {
                if(DaLiSuIdenticni(*vektor[i],*vektor[j]))
                {vektor[i]-&gt;Ispisi(); std::cout&lt;&lt;" i "; vektor[j]-&gt;Ispisi(); std::cout&lt;&lt;std::endl;}
            }
            
        }
        }
        else{
            std::cout&lt;&lt;"\nNema identicnih trouglova!";
        }
        
        
        
        int brojac_podudarnih(0);
        for(int i=0; i&lt;n; i++)
        {
            for(int j=i+1; j&lt;n; j++)
            {
                if(DaLiSuPodudarni(*vektor[i],*vektor[j]))
                brojac_podudarnih++;
            }
            
        }
        
        if(brojac_podudarnih!=0)
        {
            std::cout&lt;&lt;"\nParovi podudarnih trouglova:\n";
        for(int i=0; i&lt;n; i++)
        {
            for(int j=i+1; j&lt;n; j++)
            {
                if(DaLiSuPodudarni(*vektor[i],*vektor[j]))
                {vektor[i]-&gt;Ispisi(); std::cout&lt;&lt;" i "; vektor[j]-&gt;Ispisi(); std::cout&lt;&lt;std::endl;}
            }
            
        }
        }
        else{
            std::cout&lt;&lt;"\nNema podudarnih trouglova!";
        }
        
        
        
        int brojac_slicnih(0);
        for(int i=0; i&lt;n; i++)
        {
            for(int j=i+1; j&lt;n; j++)
            {
                if(DaLiSuSlicni(*vektor[i],*vektor[j]))
                brojac_slicnih++;
            }
            
        }
        
        if(brojac_slicnih!=0)
        {
        std::cout&lt;&lt;"\nParovi slicnih trouglova:\n";
        for(int i=0; i&lt;n; i++)
        {
            for(int j=i+1; j&lt;n; j++)
            {
                if(DaLiSuSlicni(*vektor[i],*vektor[j]))
                {vektor[i]-&gt;Ispisi(); std::cout&lt;&lt;" i "; vektor[j]-&gt;Ispisi(); std::cout&lt;&lt;std::endl;}
            }
            
        }
        }
        else{
            std::cout&lt;&lt;"\nNema slicnih trouglova!";
        }
    
    }
    catch(std::domain_error poruka) { std::cout&lt;&lt;poruka.what();}
    catch(std::range_error poruka1) {std::cout&lt;&lt;poruka1.what();}
    
	return 0;
}</pre>
</body>
</html>
