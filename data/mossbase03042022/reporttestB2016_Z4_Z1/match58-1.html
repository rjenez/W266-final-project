<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z1/student3009.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z1/student5800.cpp<p></p><pre>
<a name="3"></a><font color="#00FFFF"><a href="match58-0.html#3" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_3.gif"/></a>

/B 2016/2017, ZadaÄ‡a 4, Zadatak 1
//Napomena: testovi ce biti dostupni dan pred rok!
#include &lt;iostream&gt;
#include &lt;stdexcept&gt;
#include &lt;cmath&gt;
#include &lt;vector&gt;
#include &lt;memory&gt;
#include &lt;algorithm&gt;
const double eps=0.00000001;
typedef std::pair&lt;double, double&gt; Tacka;

class Trougao{
  Tacka T1,T2,T3;
  static bool Jednakost(double a,double b){
      if(fabs(a-b)&lt;eps)return true;
      return false;
  }
  static bool ZaTacke(const Tacka &amp;t1,const Tacka &amp;t2){
      if(fabs(t1.first-t2.first)&lt;eps &amp;&amp; fabs(t1.second-t2.second)&lt;eps)return true;
      return false;
  }
  public:
  Trougao(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3);
void Postavi(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3);
</font>void Postavi(int indeks, const Tacka &amp;t);
static int Orijentacija(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3);
Tacka DajTjeme(int indeks) const;
double DajStranicu(int indeks) const;
double DajUgao(int indeks) const;
Tacka DajCentar() const;
double DajObim() const;
double DajPovrsinu() const;
bool DaLiJePozitivnoOrijentiran() const;
bool DaLiJeUnutra(const Tacka &amp;t) const;
void Ispisi() const;
void Transliraj(double delta_x, double delta_y);
void Centriraj(const Tacka &amp;t);
void Rotiraj(const Tacka &amp;t, double ugao);
<a name="1"></a><font color="#00FF00"><a href="match58-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_28.gif"/></a>

void Skaliraj(const Tacka &amp;t, double faktor);
void Rotiraj(double ugao);
void Skaliraj(double faktor);
friend bool DaLiSuIdenticni(const Trougao &amp;t1, const Trougao &amp;t2){
    //std::cout&lt;&lt;t1.DajCentar().first&lt;&lt;" "&lt;&lt;t2.DajCentar().first&lt;&lt;std::endl;
    //std::cout&lt;&lt;t1.DajCentar().second&lt;&lt;" "&lt;&lt;t2.DajCentar().second&lt;&lt;std::endl;
    if (Jednakost(t1.DajObim(),t2.DajObim())==true &amp;&amp; Jednakost(t1.DajPovrsinu(),t2.DajPovrsinu())==true &amp;&amp; ZaTacke(t1.DajCentar(),t2.DajCentar())==true ) {
        if(ZaTacke(t1.DajTjeme(1),t2.DajTjeme(1))==true
           || ZaTacke(t1.DajTjeme(1),t2.DajTjeme(2))==true
           || ZaTacke(t1.DajTjeme(1),t2.DajTjeme(1))==true )
        return true;

    }

    return false;
}
friend bool DaLiSuPodudarni(const Trougao &amp;t1, const Trougao &amp;t2);
friend bool DaLiSuSlicni(const Trougao &amp;t1, const Trougao &amp;t2);
};
static int nesto(Tacka t1,Tacka t2,Tacka t3){
    //std::cout&lt;&lt;t1.first&lt;&lt;(t2.second-t3.second)&lt;&lt;-t2.first&lt;&lt;(t1.second-t3.second)&lt;&lt;t3.first&lt;&lt;(t1.second-t2.second)&lt;&lt;std::endl;
    return t1.first*(t2.second-t3.second)-t2.first*(t1.second-t3.second)+t3.first*(t1.second-t2.second);
}
Trougao::Trougao(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3){
    if(Jednakost(t1.first*(t2.second-t3.second)-t2.first*(t1.second-t3.second)+t3.first*(t1.second-t2.second),0))throw std::domain_error("Nekorektne pozicije tjemena");
    T1=t1;
    T2=t2;
    T3=t3;
}
void Trougao::Postavi(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3){
    if(Jednakost(t1.first*(t2.second-t3.second)-t2.first*(t1.second-t3.second)+t3.first*(t1.second-t2.second),0))throw std::domain_error("Nekorektne pozicije tjemena");
    T1=t1;
    T2=t2;
    T3=t3;
}
void Trougao::Postavi(int indeks, const Tacka &amp;t){
    if(indeks==1){
        if(nesto(t,T2,T3)==0)throw std::domain_error("Nekorektne pozicije tjemena");
    T1=t;
    }
    else if(indeks==2){T2=t;if(nesto(T1,t,T3)==0)throw std::domain_error("Nekorektne pozicije tjemena");}
    else if(indeks==3){T3=t;if(nesto(T1,T2,t)==0)throw std::domain_error("Nekorektne pozicije tjemena");}
    else throw std::range_error("Nekorektan indeks");
}
int Trougao::Orijentacija(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3){
    if(nesto(t1,t2,t3)&gt;0)return 1;
    else if(nesto(t1,t2,t3)&lt;0)return -1;
    return 0;
}
Tacka Trougao::DajTjeme(int indeks) const{
    if(indeks==1)return T1;
    else if(indeks==2)return T2;
    else if(indeks==3)return T3;
        else throw std::range_error("Nekorektan indeks");
}
double Trougao::DajStranicu(int indeks) const{
    if(indeks==1)
    return fabs(sqrt((T2.first-T3.first)*(T2.first-T3.first)+(T2.second-T3.second)*(T2.second-T3.second)));
    else if(indeks==2)
    return fabs(sqrt((T1.first-T3.first)*(T1.first-T3.first)+(T1.second-T3.second)*(T1.second-T3.second)));
    else if(indeks==3)
    return fabs(sqrt((T2.first-T1.first)*(T2.first-T1.first)+(T2.second-T1.second)*(T2.second-T1.second)));
    else throw std::range_error("Nekorektan indeks");
}
double Trougao::DajUgao(int indeks) const{
    if(indeks==1)
            return std::acos((DajStranicu(1)*DajStranicu(1)+DajStranicu(2)*DajStranicu(2)-DajStranicu(3)*DajStranicu(3))/(2*DajStranicu(1)*DajStranicu(2)));
    else if(indeks==2)
            return std::acos((DajStranicu(1)*DajStranicu(1)+DajStranicu(3)*DajStranicu(3)-DajStranicu(2)*DajStranicu(2))/(2*DajStranicu(1)*DajStranicu(3)));
    else if(indeks==3)
            return std::acos((DajStranicu(2)*DajStranicu(2)+DajStranicu(3)*DajStranicu(3)-DajStranicu(1)*DajStranicu(1))/(2*DajStranicu(2)*DajStranicu(3)));
        else throw std::range_error("Nekorektan indeks");
}
Tacka Trougao::DajCentar() const{
    Tacka t;
    t.first=(T1.first+T2.first+T3.first)/3;
    t.second=(T1.second+T2.second+T3.second)/3;
    return t;
}
double Trougao::DajObim() const{
    return DajStranicu(1)+DajStranicu(2)+DajStranicu(3);
}
double Trougao::DajPovrsinu() const{
    return fabs(T1.first*(T2.second-T3.second)-T2.first*(T1.second-T3.second)+T3.first*(T1.second-T2.second))/2;
}
bool Trougao::DaLiJePozitivnoOrijentiran() const{
    return T1.first*(T2.second-T3.second)-T2.first*(T1.second-T3.second)+T3.first*(T1.second-T2.second)&gt;0;
}
bool Trougao::DaLiJeUnutra(const Tacka &amp;t) const{
            return nesto(T1,T2,T3)*nesto(T1,T2,t)*nesto(T2,T3,t)*nesto(T3,T1,t)&gt;0;
}
void Trougao::Ispisi() const{
    std::cout&lt;&lt;"(("&lt;&lt;T1.first&lt;&lt;","&lt;&lt;T1.second&lt;&lt;"),("&lt;&lt;T2.first&lt;&lt;","&lt;&lt;T2.second&lt;&lt;"),("&lt;&lt;T3.first&lt;&lt;","&lt;&lt;T3.second&lt;&lt;"))";
</font>}
void Trougao::Transliraj(double delta_x, double delta_y){
    T1.first+=delta_x;
    T2.first+=delta_x;
    T3.first+=delta_x;
<a name="2"></a><font color="#0000FF"><a href="match58-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_9.gif"/></a>

    T1.second+=delta_y;
    T2.second+=delta_y;
    T3.second+=delta_y;
}
void Trougao::Centriraj(const Tacka &amp;t){
    Tacka tac=DajCentar();
    Transliraj(t.first-tac.first,t.second-tac.second);
}
void Trougao::Rotiraj(const Tacka &amp;t, double ugao){
    Tacka tac1(t.first+(T1.first-t.first)*std::cos(ugao)-(T1.second-t.second)*std::sin(ugao),t.second+(T1.first-t.first)*std::sin(ugao)+(T1.second-t.second)*std::cos(ugao));
    Tacka tac2(t.first+(T2.first-t.first)*std::cos(ugao)-(T2.second-t.second)*std::sin(ugao),t.second+(T2.first-t.first)*std::sin(ugao)+(T2.second-t.second)*std::cos(ugao));
    Tacka tac3(t.first+(T3.first-t.first)*std::cos(ugao)-(T3.second-t.second)*std::sin(ugao),t.second+(T3.first-t.first)*std::sin(ugao)+(T3.second-t.second)*std::cos(ugao));
    this-&gt;Postavi(tac1,tac2,tac3);
}
void Trougao::Skaliraj(const Tacka &amp;t, double faktor){
    if (Jednakost(faktor,0))throw std::domain_error("Nekorektan faktor skaliranja");
    if(faktor&gt;0){
    T1.first=t.first+faktor*(T1.first-t.first);
    T1.second=t.second+faktor*(T1.second-t.second);
</font>    T2.first=t.first+faktor*(T2.first-t.first);
    T2.second=t.second+faktor*(T2.second-t.second);
<a name="4"></a><font color="#FF00FF"><a href="match58-0.html#4" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_1.gif"/></a>

    T3.first=t.first+faktor*(T3.first-t.first);
    T3.second=t.second+faktor*(T3.second-t.second);
    }
    else{
        T1.first=t.first+faktor*(T1.first-t.first);
    T1.second=t.second+faktor*(T1.second-t.second);
</font>    T2.first=t.first+faktor*(T2.first-t.first);
    T2.second=t.second+faktor*(T2.second-t.second);
<a name="0"></a><font color="#FF0000"><a href="match58-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_48.gif"/></a>

    T3.first=t.first+faktor*(T3.first-t.first);
    T3.second=t.second+faktor*(T3.second-t.second);
    Rotiraj(T1,4*std::atan(1));
    }
}
void Trougao::Rotiraj(double ugao){
    Rotiraj(DajCentar(),ugao);
}
void Trougao::Skaliraj(double faktor){
    Skaliraj(DajCentar(),faktor);
}
/*bool DaLiSuPodudarni(const Trougao &amp;t1, const Trougao &amp;t2){
    return Trougao::Jednakost(t1.DajUgao(1),t2.DajUgao(1)) &amp;&amp; Trougao::Jednakost(t1.DajUgao(2),t2.DajUgao(3)) &amp;&amp; Trougao::Jednakost(t1.DajUgao(3),t2.DajUgao(2)) &amp;&amp; Trougao::Jednakost(t1.DajObim(),t2.DajObim()) &amp;&amp; Trougao::Jednakost(t1.DajPovrsinu(),t2.DajPovrsinu());
}*/
bool DaLiSuPodudarni(const Trougao &amp;t1, const Trougao &amp;t2){
    double x1=t1.DajStranicu(1),y1=t1.DajStranicu(2),z1=t1.DajStranicu(3);
    double x2=t2.DajStranicu(1),y2=t2.DajStranicu(2),z2=t2.DajStranicu(3);
    if(Trougao::Jednakost(x1,x2) &amp;&amp; Trougao::Jednakost(y1,y2) &amp;&amp; Trougao::Jednakost(z1,z2) &amp;&amp; Trougao::Jednakost(nesto(t1.T2,t1.T3,t1.T1),nesto(t2.T2,t2.T3,t2.T1)))return true;
    else if(Trougao::Jednakost(x1,x2) &amp;&amp; Trougao::Jednakost(y1,z2) &amp;&amp; Trougao::Jednakost(z1,y2) &amp;&amp; Trougao::Jednakost(nesto(t1.T2,t1.T3,t1.T1),nesto(t2.T3,t2.T2,t2.T1)))return true;
     else if(Trougao::Jednakost(x1,y2) &amp;&amp; Trougao::Jednakost(y1,x2) &amp;&amp; Trougao::Jednakost(z1,z2) &amp;&amp; Trougao::Jednakost(nesto(t1.T2,t1.T3,t1.T1),nesto(t2.T1,t2.T3,t2.T2)))return true;
       else if(Trougao::Jednakost(x1,y2) &amp;&amp; Trougao::Jednakost(y1,z2) &amp;&amp; Trougao::Jednakost(z1,x2) &amp;&amp; Trougao::Jednakost(nesto(t1.T2,t1.T3,t1.T1),nesto(t2.T3,t2.T1,t2.T2)))return true;
    else if(Trougao::Jednakost(x1,z2) &amp;&amp; Trougao::Jednakost(y1,x2) &amp;&amp; Trougao::Jednakost(z1,y2) &amp;&amp; Trougao::Jednakost(nesto(t1.T2,t1.T3,t1.T1),nesto(t2.T1,t2.T2,t2.T3)))return true;
    else if(Trougao::Jednakost(x1,z2) &amp;&amp; Trougao::Jednakost(y1,y2) &amp;&amp; Trougao::Jednakost(z1,x2) &amp;&amp; Trougao::Jednakost(nesto(t1.T2,t1.T3,t1.T1),nesto(t2.T2,t2.T1,t2.T3)))return true;
    return false;
}
bool DaLiSuSlicni(const Trougao &amp; t1, const Trougao &amp; t2) {
    double x1=t1.DajStranicu(1),y1=t1.DajStranicu(2),z1=t1.DajStranicu(3);
    double x2=t2.DajStranicu(1),y2=t2.DajStranicu(2),z2=t2.DajStranicu(3);
    if(Trougao::Jednakost(x1/x2,y1/y2) &amp;&amp; Trougao::Jednakost(y1/y2,z1/z2) &amp;&amp; Trougao::Jednakost(nesto(t1.T2,t1.T3,t1.T1),nesto(t2.T2,t2.T3,t2.T1))) return true;
    else if(Trougao::Jednakost(x1/x2,y1/z2) &amp;&amp; Trougao::Jednakost(y1/z2,z1/y2) &amp;&amp; Trougao::Jednakost(nesto(t1.T2,t1.T3,t1.T1),nesto(t2.T3,t2.T2,t2.T1))) return true;
    else if(Trougao::Jednakost(x1/y2,y1/x2) &amp;&amp; Trougao::Jednakost(y1/x2,z1/z2) &amp;&amp; Trougao::Jednakost(nesto(t1.T2,t1.T3,t1.T1),nesto(t2.T1,t2.T3,t2.T2))) return true;
    else if(Trougao::Jednakost(x1/y2,y1/z2) &amp;&amp; Trougao::Jednakost(y1/z2,z1/x2) &amp;&amp; Trougao::Jednakost(nesto(t1.T2,t1.T3,t1.T1),nesto(t2.T3,t2.T1,t2.T2))) return true;
    else if(Trougao::Jednakost(x1/z2,y1/x2) &amp;&amp; Trougao::Jednakost(y1/x2,z1/y2) &amp;&amp; Trougao::Jednakost(nesto(t1.T2,t1.T3,t1.T1),nesto(t2.T1,t2.T2,t2.T3))) return true;
    else if(Trougao::Jednakost(x1/z2,y1/y2) &amp;&amp; Trougao::Jednakost(y1/y2,z1/x2) &amp;&amp; Trougao::Jednakost(nesto(t1.T2,t1.T3,t1.T1),nesto(t2.T2,t2.T1,t2.T3))) return true;
    return false;
}
using namespace std;
int main ()
{
    cout&lt;&lt;"Koliko zelite kreirati trouglova: ";
    int n;
    cin&gt;&gt;n;
    vector&lt;shared_ptr&lt;Trougao&gt;&gt; v;
    for(int i=0;i&lt;n;i++){
        cout&lt;&lt;"Unesite podatke za "&lt;&lt;i+1&lt;&lt;". trougao (x1 y1 x2 y2 x3 y3): ";
        double a,b,c,d,e,f;
        cin&gt;&gt;a&gt;&gt;b&gt;&gt;c&gt;&gt;d&gt;&gt;e&gt;&gt;f;
        Tacka t1{a,b},t2{c,d},t3{e,f};
        try{
        shared_ptr&lt;Trougao&gt; pok(new Trougao(t1,t2,t3));
        v.push_back(pok);
        }
        catch(std::domain_error e){
            std::cout&lt;&lt;e.what()&lt;&lt;", ponovite unos!"&lt;&lt;std::endl;
            i--;
        }
    }
    double dx,dy;
    std::cout &lt;&lt; "Unesite vektor translacije (dx dy): ";
        std::cin &gt;&gt; dx &gt;&gt; dy;
        std::cout&lt;&lt;"Unesite ugao rotacije: ";
        double ugao,faktor;
        std::cin&gt;&gt;ugao;
        std::cout&lt;&lt;"Unesite faktor skaliranja: ";
        std::cin&gt;&gt;faktor;

        std::transform(v.begin(), v.end(), v.begin(), [dx,dy,ugao,faktor](shared_ptr&lt;Trougao&gt; p){p-&gt;Transliraj(dx,dy); p-&gt;Rotiraj(p-&gt;DajCentar(),ugao);p-&gt;Skaliraj(p-&gt;DajTjeme(1),faktor); return p; });
    std::sort(v.begin(),v.end(),[](shared_ptr&lt;Trougao&gt;t1,shared_ptr&lt;Trougao&gt;t2){return t1-&gt;DajPovrsinu()&lt;t2-&gt;DajPovrsinu();});
    std::cout&lt;&lt;"Trouglovi nakon obavljenih transformacija:"&lt;&lt;endl;
    std::for_each(v.begin(),v.end(),[](shared_ptr&lt;Trougao&gt; p){ p-&gt;Ispisi();std::cout&lt;&lt;endl;  return p; });
    std::cout&lt;&lt;"Trougao sa najmanjim obimom: ";
    auto min_obim(std::min_element(v.begin(), v.end(), [](shared_ptr&lt;Trougao&gt;p1,shared_ptr&lt;Trougao&gt;p2) { return p1-&gt;DajObim()&lt;p2-&gt;DajObim(); }));
    (**min_obim).Ispisi();
    std::cout&lt;&lt;std::endl;
    std::vector&lt;std::pair&lt;Trougao,Trougao&gt;&gt;i;
    for(int k=0;k&lt;n;k++){
        for(int j=k;j&lt;n;j++){
                if(k!=j)
            //if(DaLiSuIdenticni(*v[i],*v[j])){(*v[i]).Ispisi();std::cout&lt;&lt;" i ";(*v[j]).Ispisi();std::cout&lt;&lt;std::endl;}
            if(DaLiSuIdenticni(*v[k],*v[j]))i.push_back(make_pair(*v[k],*v[j]));
        }
    }
    if(i.size()!=0){
        std::cout&lt;&lt;"Parovi identicnih trouglova:"&lt;&lt;std::endl;
        for(int j=0;j&lt;i.size();j++){
            i[j].first.Ispisi();std::cout&lt;&lt;" i ";i[j].second.Ispisi();std::cout&lt;&lt;endl;
        }
    }
    else std::cout&lt;&lt;"Nema identicnih trouglova!"&lt;&lt;std::endl;
    std::vector&lt;std::pair&lt;Trougao,Trougao&gt;&gt;p;
    for(int i=0;i&lt;n;i++){
        for(int j=i;j&lt;n;j++){
                if(i!=j)
            if(DaLiSuPodudarni(*v[i],*v[j]))p.push_back(make_pair(*v[i],*v[j]));
            //{(*v[i]).Ispisi();std::cout&lt;&lt;" i ";(*v[j]).Ispisi();std::cout&lt;&lt;std::endl;}
        }
    }
    if(p.size()!=0){
        std::cout&lt;&lt;"Parovi podudarnih trouglova:"&lt;&lt;std::endl;
        for(int i=0;i&lt;p.size();i++){
            p[i].first.Ispisi();std::cout&lt;&lt;" i ";p[i].second.Ispisi();std::cout&lt;&lt;std::endl;
        }
    }
    else std::cout&lt;&lt;"Nema podudarnih trouglova!"&lt;&lt;std::endl;
    std::vector&lt;std::pair&lt;Trougao,Trougao&gt;&gt;s;
    for(int i=0;i&lt;n;i++){
        for(int j=i;j&lt;n;j++){
                if(i!=j)
            if(DaLiSuSlicni(*v[i],*v[j]))s.push_back(make_pair(*v[i],*v[j]));
            //{(*v[i]).Ispisi();std::cout&lt;&lt;" i ";(*v[j]).Ispisi();std::cout&lt;&lt;std::endl;}
        }
    }
    if(s.size()!=0){
        std::cout&lt;&lt;"Parovi slicnih trouglova:"&lt;&lt;std::endl;
        for(int i=0;i&lt;s.size();i++){
            s[i].first.Ispisi();std::cout&lt;&lt;" i ";s[i].second.Ispisi();std::cout&lt;&lt;std::endl;
        }
    }
    else std::cout&lt;&lt;"Nema slicnih trouglova!"&lt;&lt;std::endl;
</font>	return 0;
}</pre>
</body>
</html>
