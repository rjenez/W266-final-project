<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z1/student7697.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z1/student3306.cpp<p></p><pre>
/B 2016/2017, ZadaÄ‡a 4, Zadatak 1
//Napomena: testovi ce biti dostupni dan pred rok!
#include &lt;iostream&gt;
#include &lt;stdexcept&gt;
#include &lt;utility&gt;
#include &lt;cmath&gt;
#include &lt;vector&gt;
#include &lt;memory&gt;
#include &lt;algorithm&gt;

typedef std::pair&lt;double, double&gt; Tacka;

double Pomocni(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3) {
        double pom;
        pom =  (t1.first * (t2.second-t3.second) - t2.first * (t1.second-t3.second) + t3.first * (t1.second-t2.second));
        return pom;
    
}
bool JesuLiJednaki(double x, double y, double Eps = 1e-10){
    return (std::fabs(x-y)) &lt;= Eps * (std::fabs(x) + std::fabs(y));
}

class Trougao{
    Tacka k1,k2,k3;
    public:
    Trougao (const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3){
        if (JesuLiJednaki(Pomocni(t1,t2,t3), 0.)) throw std::domain_error ("Nekorektne pozicije tjemena");
        Trougao::k1 = t1; Trougao::k2 = t2; Trougao::k3 = t3;
    }
    void Postavi (const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3){
        if (JesuLiJednaki(Pomocni(t1,t2,t3),0.)) throw std::domain_error ("Nekorektne pozicije tjemena");
        Trougao::k1 = t1; Trougao::k2 = t2; Trougao::k3 = t3;
    }
   /* double Pomocni(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3) const{
        double pom;
        pom =  (t1.first * (t2.second-t3.second) - t2.first * (t1.second-t3.second) + t3.first * (t1.second-t2.second));
        return pom;}*/
    void Postavi (int indeks, const Tacka &amp;t){
        if (indeks&lt;1 &amp;&amp; indeks&gt;3) throw std::range_error ("Nekorektan indeks");
        if (indeks==1) { Trougao::k1 = t; if (JesuLiJednaki(Pomocni(k1,k2,k3),0.)) throw std::domain_error ("Nekorektne pozicije tjemena"); };
        if (indeks==2) { Trougao::k2=t; if (JesuLiJednaki(Pomocni(k1,k2,k3),0.)) throw std::domain_error ("Nekorektne pozicije tjemena"); };
        if (indeks==3) { Trougao::k3=t; if (JesuLiJednaki(Pomocni(k1,k2,k3),0.)) throw std::domain_error ("Nekorektne pozicije tjemena"); };
    }
    static int Orijentacija (const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3){
        if (Pomocni(t1,t2,t3)&gt;0) return 1;
        if (Pomocni(t1,t2,t3)&lt;0) return -1;
        else return 0;
    }
    Tacka DajTjeme(int indeks) const{
        if (indeks&lt;1 &amp;&amp; indeks&gt;3) throw std::range_error ("Nekorektan indeks");
        if (indeks==1) return k1;
        if (indeks==2) return k2;
        else return k3; //indeks=3
    }
    double DajStranicu (int indeks) const{
        if (indeks&lt;1 &amp;&amp; indeks&gt;3) throw std::range_error ("Nekorektan indeks");
        if (indeks==1) return sqrt(((k3.first-k2.first)*(k3.first-k2.first))+((k3.second-k2.second)*(k3.second-k2.second)));
        if (indeks==2) return sqrt(((k3.first-k1.first)*(k3.first-k1.first))+((k3.second-k1.second)*(k3.second-k1.second)));
        else return sqrt(((k2.first-k1.first)*(k2.first-k1.first))+((k2.second-k1.second)*(k2.second-k1.second))); //indeks=3
    }
    double DajUgao(int indeks) const{
        if (indeks&lt;1 &amp;&amp; indeks&gt;3) throw std::range_error ("Nekorektan indeks");
        if (indeks==1) return acos((DajStranicu(2)*DajStranicu(2)+DajStranicu(3)*DajStranicu(3)-DajStranicu(1)*DajStranicu(1))/(2*DajStranicu(2)*DajStranicu(3)));
        if (indeks==2) return acos((DajStranicu(3)*DajStranicu(3)+DajStranicu(1)*DajStranicu(1)-DajStranicu(2)*DajStranicu(2))/(2*DajStranicu(3)*DajStranicu(1)));
        else return acos((DajStranicu(1)*DajStranicu(1)+DajStranicu(2)*DajStranicu(2)-DajStranicu(3)*DajStranicu(3))/(2*DajStranicu(1)*DajStranicu(2))); //indeks=3
    };
    Tacka DajCentar() const{
        Tacka centar;
        centar.first = (k1.first+k2.first+k3.first)/3;
        centar.second = (k1.second+k2.second+k3.second)/3;
        return centar;
    };
    double DajObim() const{
        return (DajStranicu(1)+DajStranicu(2)+DajStranicu(3));
    };
    double DajPovrsinu() const{
        double pom = std::fabs(k1.first * (k2.second-k3.second) - k2.first * (k1.second-k3.second) + k3.first * (k1.second-k2.second));
        return pom/2.;
    };
    bool DaLiJePozitivnoOrijentiran () const{
        if (Orijentacija(k1,k2,k3)==1) return true;
        if (Orijentacija(k1,k2,k3)==-1) return false;
    };
    bool DaLiJeUnutra(const Tacka &amp;t) const{
        if ((k1.first * (k2.second-k3.second) - k2.first * (k1.second-k3.second) + k3.first * (k1.second-k2.second))&gt;0 &amp;&amp; (k1.first * (k2.second-t.second) - k2.first * (k1.second-t.second) + t.first * (k1.second-k2.second))&gt;0 &amp;&amp; (k2.first * (k3.second-t.second) - k3.first * (k2.second-t.second) + t.first * (k2.second-k3.second))&gt;0 &amp;&amp; (k3.first * (k1.second-t.second) - k1.first * (k3.second-t.second) + t.first * (k3.second-k1.second))&gt;0) return true;
        if ((k1.first * (k2.second-k3.second) - k2.first * (k1.second-k3.second) + k3.first * (k1.second-k2.second))&lt;0 &amp;&amp; (k1.first * (k2.second-t.second) - k2.first * (k1.second-t.second) + t.first * (k1.second-k2.second))&lt;0 &amp;&amp; (k2.first * (k3.second-t.second) - k3.first * (k2.second-t.second) + t.first * (k2.second-k3.second))&lt;0 &amp;&amp; (k3.first * (k1.second-t.second) - k1.first * (k3.second-t.second) + t.first * (k3.second-k1.second))&lt;0) return true;
      //  if (Pomocni(k1,k2,k3)&lt;0 &amp;&amp; Pomocni(k1,k2,t)&lt;0 &amp;&amp; Pomocni(k2,k3,t)&lt;0 &amp;&amp; Pomocni(k3,k1,t)&lt;0) return true;
        else return false;
    }
    void Ispisi() const{
        std::cout &lt;&lt; "((" &lt;&lt; k1.first &lt;&lt; "," &lt;&lt; k1.second &lt;&lt; "),(" &lt;&lt; k2.first &lt;&lt; "," &lt;&lt; k2.second &lt;&lt; "),(" &lt;&lt; k3.first &lt;&lt; "," &lt;&lt; k3.second &lt;&lt; "))";
    }
    void Transliraj (double delta_x, double delta_y){
       k1.first = k1.first+delta_x; k1.second = k1.second+delta_y;
        k2.first = k2.first+delta_x; k2.second = k2.second+delta_y;
        k3.first = k3.first+delta_x; k3.second = k3.second+delta_y;
        Postavi(k1,k2,k3);
    }
    void Centriraj (const Tacka &amp;t){
        Tacka c = DajCentar();
        double delta_x, delta_y;
        delta_x = t.first - c.first ; delta_y = t.second - c.second;
        Transliraj(delta_x,delta_y);
    }
    void Rotiraj (const Tacka &amp;t, double ugao){
        Tacka tt1,tt2,tt3;
        tt1.first = t.first+(k1.first-t.first)*cos(ugao)-(k1.second-t.second)*sin(ugao);
        tt1.second = t.second+(k1.first-t.first)*sin(ugao)+(k1.second-t.second)*cos(ugao);
        tt2.first = t.first+(k2.first-t.first)*cos(ugao)-(k2.second-t.second)*sin(ugao);
        tt2.second = t.second+(k2.first-t.first)*sin(ugao)+(k2.second-t.second)*cos(ugao);
        tt3.first = t.first+(k3.first-t.first)*cos(ugao)-(k3.second-t.second)*sin(ugao);
        tt3.second = t.second+(k3.first-t.first)*sin(ugao)+(k3.second-t.second)*cos(ugao);
        Postavi(tt1,tt2,tt3);
    }
    void Skaliraj (const Tacka &amp;t, double faktor){
        if (JesuLiJednaki(faktor, 0.)) throw std::domain_error ("Nekorektan faktor skaliranja");
        k1.first = t.first + faktor*(k1.first - t.first); k1.second = t.second + faktor*(k1.second - t.second);
        k2.first = t.first + faktor*(k2.first - t.first); k2.second = t.second + faktor*(k2.second - t.second);
        k3.first = t.first + faktor*(k3.first - t.first); k3.second = t.second + faktor*(k3.second - t.second);
    }
    void Rotiraj (double ugao){
        Tacka t = DajCentar();
        Rotiraj(t,ugao);
    };
    void Skaliraj (double faktor){
        Tacka t = DajCentar();
        Skaliraj(t,faktor);
    };
    friend bool DaLiSuIdenticni (const Trougao &amp;t1, const Trougao &amp;t2);
    friend bool DaLiSuPodudarni (const Trougao &amp;t1, const Trougao &amp;t2);
    friend bool DaLiSuSlicni (const Trougao &amp;t1, const Trougao &amp;t2);
};

<a name="1"></a><font color="#00FF00"><a href="match323-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_3.gif"/></a>

bool DaLiSuIdenticni (const Trougao &amp;t1, const Trougao &amp;t2){
    //Dodati provjeru trouglova
    if ((t1.DajTjeme(1)==t2.DajTjeme(1) || t1.DajTjeme(1)==t2.DajTjeme(2) || t1.DajTjeme(1)==t2.DajTjeme(3))
    &amp;&amp; (t1.DajTjeme(2)==t2.DajTjeme(1) || t1.DajTjeme(2)==t2.DajTjeme(2) || t1.DajTjeme(2)==t2.DajTjeme(3))
    &amp;&amp; (t1.DajTjeme(3)==t2.DajTjeme(1) || t1.DajTjeme(3)==t2.DajTjeme(2) || t1.DajTjeme(3)==t2.DajTjeme(3)))      
        return true;
    else return false;
}

bool DaLiSuPodudarni (const Trougao &amp;t1, const Trougao &amp;t2){
    if (t1.DajStranicu(1)==t2.DajStranicu(2) &amp;&amp; t1.Orijentacija(t1.k1,t1.k2,t1.k3)==t2.Orijentacija(t2.k1,t2.k2,t2.k3) &amp;&amp; t1.DajStranicu(2)==t2.DajStranicu(3) &amp;&amp; t1.DajStranicu(3)==t2.DajStranicu(1) ||
</font><a name="4"></a><font color="#FF00FF"><a href="match323-0.html#4" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_0.gif"/></a>

        (t1.DajStranicu(1)==t2.DajStranicu(2) &amp;&amp; t1.Orijentacija(t1.k1,t1.k2,t1.k3)!=t2.Orijentacija(t2.k1,t2.k2,t2.k3) &amp;&amp; t1.DajStranicu(2)==t2.DajStranicu(1) &amp;&amp; t1.DajStranicu(3)==t2.DajStranicu(3) ))
</font>        return true;
<a name="5"></a><font color="#FF0000"><a href="match323-0.html#5" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_0.gif"/></a>

    if (t1.DajStranicu(1)==t2.DajStranicu(3) &amp;&amp; t1.Orijentacija(t1.k1,t1.k2,t1.k3)!=t2.Orijentacija(t2.k1,t2.k2,t2.k3) &amp;&amp; t1.DajStranicu(2)==t2.DajStranicu(2) &amp;&amp; t1.DajStranicu(3)==t2.DajStranicu(1) ||
        (t1.DajStranicu(1)==t2.DajStranicu(3) &amp;&amp; t1.Orijentacija(t1.k1,t1.k2,t1.k3)==t2.Orijentacija(t2.k1,t2.k2,t2.k3) &amp;&amp; t1.DajStranicu(2)==t2.DajStranicu(1) &amp;&amp; t1.DajStranicu(3)==t2.DajStranicu(2) ))
</font>        return true;
<a name="6"></a><font color="#00FF00"><a href="match323-0.html#6" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_0.gif"/></a>

    if (t1.DajStranicu(1)==t2.DajStranicu(1) &amp;&amp; t1.Orijentacija(t1.k1,t1.k2,t1.k3)==t2.Orijentacija(t2.k1,t2.k2,t2.k3) &amp;&amp; t1.DajStranicu(2)==t2.DajStranicu(2) &amp;&amp; t1.DajStranicu(3)==t2.DajStranicu(3) ||
        (t1.DajStranicu(1)==t2.DajStranicu(1) &amp;&amp; t1.Orijentacija(t1.k1,t1.k2,t1.k3)!=t2.Orijentacija(t2.k1,t2.k2,t2.k3) &amp;&amp; t1.DajStranicu(2)==t2.DajStranicu(3) &amp;&amp; t1.DajStranicu(3)==t2.DajStranicu(2) ))
</font>        return true;
    if (DaLiSuIdenticni(t1,t2))
        return true;
    return false;
};

bool DaLiSuSlicni (const Trougao &amp;t1, const Trougao &amp;t2){
   if (JesuLiJednaki(t1.DajUgao(1)-t2.DajUgao(2),0.) &amp;&amp; t1.Orijentacija(t1.k1,t1.k2,t1.k3)==t2.Orijentacija(t2.k1,t2.k2,t2.k3) &amp;&amp; JesuLiJednaki(t1.DajUgao(2)-t2.DajUgao(3),0.) &amp;&amp; JesuLiJednaki(t1.DajUgao(3)-t2.DajUgao(1),0.) 
   || (JesuLiJednaki(t1.DajUgao(1)-t2.DajUgao(2),0.) &amp;&amp; t1.Orijentacija(t1.k1,t1.k2,t1.k3)!=t2.Orijentacija(t2.k1,t2.k2,t2.k3) &amp;&amp; JesuLiJednaki(t1.DajUgao(2)-t2.DajUgao(1),0.) &amp;&amp; JesuLiJednaki(t1.DajUgao(3)-t2.DajUgao(3),0.) ))
        return true;
    if (JesuLiJednaki(t1.DajUgao(1)-t2.DajUgao(3),0.) &amp;&amp; t1.Orijentacija(t1.k1,t1.k2,t1.k3)==t2.Orijentacija(t2.k1,t2.k2,t2.k3) &amp;&amp; JesuLiJednaki(t1.DajUgao(3)-t2.DajUgao(2),0.) &amp;&amp; JesuLiJednaki(t1.DajUgao(2)-t2.DajUgao(1),0.) 
    || (t1.DajUgao(1)==t2.DajUgao(3) &amp;&amp; t1.Orijentacija(t1.k1,t1.k2,t1.k3)!=t2.Orijentacija(t2.k1,t2.k2,t2.k3) &amp;&amp; t1.DajUgao(3)==t2.DajUgao(1) &amp;&amp; t1.DajUgao(2)==t2.DajUgao(1) ))
        return true;
<a name="7"></a><font color="#0000FF"><a href="match323-0.html#7" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_0.gif"/></a>

    if (t1.DajUgao(1)==t2.DajUgao(1) &amp;&amp; t1.Orijentacija(t1.k1,t1.k2,t1.k3)==t2.Orijentacija(t2.k1,t2.k2,t2.k3) &amp;&amp; t1.DajUgao(2)==t2.DajUgao(2) &amp;&amp; t1.DajUgao(3)==t2.DajUgao(3) ||
        (t1.DajUgao(1)==t2.DajUgao(1) &amp;&amp; t1.Orijentacija(t1.k1,t1.k2,t1.k3)!=t2.Orijentacija(t2.k1,t2.k2,t2.k3) &amp;&amp; t1.DajUgao(2)==t2.DajUgao(3) &amp;&amp; t1.DajUgao(3)==t2.DajUgao(2) ))
</font>        return true;
    if (DaLiSuIdenticni(t1,t2))
        return true;
    return false;
}


int main ()
{
    try{
        std::cout &lt;&lt; "Koliko zelite kreirati trouglova: ";
        int n;
        std::cin &gt;&gt; n;
        std::vector&lt;std::shared_ptr&lt;Trougao&gt; &gt; vpok;
        double x,y;
        for (int j=0;j&lt;n;j++){
            std::cout &lt;&lt; "Unesite podatke za " &lt;&lt; j+1 &lt;&lt; ". trougao (x1 y1 x2 y2 x3 y3): ";
            Tacka k1,k2,k3;
<a name="2"></a><font color="#0000FF"><a href="match323-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_1.gif"/></a>

            for (int i=0;i&lt;3;i++){
                std::cin &gt;&gt; x &gt;&gt; y;
                if (i==0) k1 = std::pair&lt;double,double&gt; (x,y);
                if (i==1) k2 = std::pair&lt;double,double&gt; (x,y);
                if (i==2) k3 = std::pair&lt;double,double&gt; (x,y);
            }
            while (JesuLiJednaki(Pomocni(k1,k2,k3),0.)){
</font>                    std::cout &lt;&lt; "Nekorektne pozicije tjemena, ponovite unos!" &lt;&lt; std::endl ;
                    std::cout &lt;&lt; "Unesite podatke za " &lt;&lt; j+1 &lt;&lt; ". trougao (x1 y1 x2 y2 x3 y3): ";
<a name="3"></a><font color="#00FFFF"><a href="match323-0.html#3" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_1.gif"/></a>

                    for (int i=0;i&lt;3;i++){
                    //    std::cout &lt;&lt; "Unesite koordinate " &lt;&lt; i+1 &lt;&lt; " tjemena: ";
                        std::cin &gt;&gt; x &gt;&gt; y;
                        if (i==0) k1 = std::pair&lt;double,double&gt; (x,y);
                        if (i==1) k2 = std::pair&lt;double,double&gt; (x,y);
                        if (i==2) k3 = std::pair&lt;double,double&gt; (x,y);
</font>                    }
                } 
<a name="0"></a><font color="#FF0000"><a href="match323-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_3.gif"/></a>

            vpok.push_back( std::shared_ptr&lt;Trougao&gt; ( new Trougao(k1,k2,k3) ));
        }
        //Transliranje
        double delta_x, delta_y,ugao_rot,fs;
        std::cout &lt;&lt; "Unesite vektor translacije (dx dy): ";
        std::cin &gt;&gt; delta_x &gt;&gt; delta_y;
        std::cout &lt;&lt; "Unesite ugao rotacije: "; std::cin &gt;&gt; ugao_rot;
        std::cout &lt;&lt; "Unesite faktor skaliranja: "; std::cin &gt;&gt; fs;
            std::transform(vpok.begin(), vpok.end(), vpok.begin(), [delta_x,delta_y, ugao_rot, fs] (std::shared_ptr&lt;Trougao&gt; x){
                x-&gt;Transliraj(delta_x, delta_y); 
                x-&gt;Rotiraj(x-&gt;DajCentar(), ugao_rot); 
                x-&gt;Skaliraj(x-&gt;DajTjeme(1), fs);
                return x;
            } );
        
        std::sort (vpok.begin(), vpok.end(), 
            [] (std::shared_ptr&lt;Trougao&gt; x, std::shared_ptr&lt;Trougao&gt; y) {
</font>                return ( x-&gt;DajPovrsinu() &lt; y-&gt;DajPovrsinu() ); });
     std::cout &lt;&lt; "Trouglovi nakon obavljenih transformacija:" &lt;&lt; std::endl;
     std::for_each (vpok.begin(), vpok.end(), [] (std::shared_ptr&lt;Trougao&gt; x) {
             x-&gt;Ispisi();
             std::cout &lt;&lt; std::endl;
     });
     auto tt = *std::min_element(vpok.begin(), vpok.end(), [] (std::shared_ptr&lt;Trougao&gt; x, std::shared_ptr&lt;Trougao&gt; y){
         return x-&gt;DajObim() &lt; y-&gt;DajObim();
     });
     std::cout &lt;&lt; "Trougao sa najmanjim obimom: "; tt-&gt;Ispisi();
     int br1(0);
     for (int i=0;i&lt;n-1;i++){
         for (int j=i+1;j&lt;n;j++){
             if (DaLiSuIdenticni(*vpok[i],*vpok[j])){
             br1++;
             }
         }
     }
     if (br1==0)
        std::cout &lt;&lt; std::endl &lt;&lt; "Nema identicnih trouglova!\n";
    else{
        std::cout &lt;&lt; std::endl &lt;&lt; "Parovi identicnih trouglova:\n";
        for (int i=0;i&lt;n-1;i++){
         for (int j=i+1;j&lt;n;j++){
             if (DaLiSuIdenticni(*vpok[i],*vpok[j])){
             vpok[i]-&gt;Ispisi();
             std::cout &lt;&lt; " i "; 
             vpok[j]-&gt;Ispisi();
             br1++;
             }
         }
      }
    }
    int br2(0);
     for (int i=0;i&lt;n-1;i++){
         for (int j=i+1;j&lt;n;j++){
             if (DaLiSuPodudarni(*vpok[i], *vpok[j])){
                 br2++;
             }
         }
     }
     if (br2==0)
        std::cout &lt;&lt; "Nema podudarnih trouglova!\n";
    else{
        std::cout &lt;&lt; std::endl &lt;&lt; "Parovi podudarnih trouglova:\n";
        for (int i=0;i&lt;n-1;i++){
            for (int j=i+1;j&lt;n;j++){
             if (DaLiSuPodudarni(*vpok[i], *vpok[j])){
                 vpok[i]-&gt;Ispisi();
                 std::cout &lt;&lt; " i ";
                 vpok[j]-&gt;Ispisi();
                 std::cout &lt;&lt; std::endl;
             }
         }
     }
    }
    int br3(0);
    for (int i=0;i&lt;n-1;i++){
         for (int j=i+1;j&lt;n;j++){
             if (DaLiSuSlicni(*vpok[i], *vpok[j])){
                 br3++;
             }
         }
     }
     if (br3==0)
        std::cout &lt;&lt; "Nema slicnih trouglova!\n";
    else{
         std::cout &lt;&lt; "Parovi slicnih trouglova:\n";
    for (int i=0;i&lt;n-1;i++){
         for (int j=i+1;j&lt;n;j++){
             if (DaLiSuSlicni(*vpok[i], *vpok[j])){
                 vpok[i]-&gt;Ispisi();
                 std::cout &lt;&lt; " i ";
                 vpok[j]-&gt;Ispisi();
                 std::cout &lt;&lt; std::endl;
             }
         }
     }
    }
    }
    catch(std::range_error e){
        std::cout &lt;&lt; "Izuzetak: " &lt;&lt; e.what() &lt;&lt; std::endl;
    }
    catch(std::domain_error l){
        std::cout &lt;&lt; "Izuzetak: " &lt;&lt; l.what() &lt;&lt; std::endl;
    }
	return 0;
}</pre>
</body>
</html>
