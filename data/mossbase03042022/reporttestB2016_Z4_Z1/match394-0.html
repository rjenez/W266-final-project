<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z1/student2160.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z1/student2160.cpp<p></p><pre>
/B 2016/2017, ZadaÄ‡a 4, Zadatak 1
//Napomena: testovi ce biti dostupni dan pred rok!
#include &lt;iostream&gt;
#include &lt;stdexcept&gt;
#include &lt;cmath&gt;
#include &lt;utility&gt;
#include &lt;vector&gt;
#include &lt;memory&gt;
#include &lt;algorithm&gt;
typedef std::pair&lt;double, double&gt; Tacka;
const double eps = 1E-10;
class Trougao
{
    Tacka a, b, c;
public:
    Trougao(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3) { Postavi(t1, t2, t3); }
    void Postavi(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3)
    {
        if(Orijentacija(t1, t2, t3) == 0)
            throw std::domain_error("Nekorektne pozicije tjemena");
            
        a = t1;
        b = t2;
        c = t3;
    }
    void Postavi(int indeks, const Tacka &amp;t)
    {
        if(indeks == 1) 
        {
            if(Orijentacija(t, b, c) == 0)
                throw std::domain_error("Nekorektne pozicije tjemena");
            a = t;
        }
        else if(indeks == 2)
        {
            if(Orijentacija(a, t, c) == 0)
                throw std::domain_error("Nekorektne pozicije tjemena");
            b = t;
        }
        else if(indeks == 3)
        {
            if(Orijentacija(a, b, t) == 0)
                throw std::domain_error("Nekorektne pozicije tjemena");
<a name="5"></a><font color="#FF0000"><a href="match394-1.html#5" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_0.gif"/></a>

            c = t;
        }
        else
            throw std::range_error("Nekorektan indeks");
    }
    static int Orijentacija(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3)
</font>    {
        double s = t1.first * (t2.second - t3.second) - t2.first * (t1.second - t3.second) - t3.first * (t1.second - t2.second);
        
        if(s &gt; 0) 
            return 1;
            
        if(s &lt; 0)
            return -1;
            
        if(s == 0)
            return 0;
    }
<a name="4"></a><font color="#FF00FF"><a href="match394-1.html#4" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_1.gif"/></a>

    Tacka DajTjeme(int indeks) const
    {
        if(indeks == 1) return a;
        else if(indeks == 2) return b;
        else if(indeks == 3) return c;
        else
            throw std::range_error("Nekorektan indeks");
    }
    double DajStranicu(int indeks) const
</font>    {
        if(indeks == 1)
            return std::sqrt((b.first - c.first) * (b.first - c.first) + (b.second - c.second) * (b.second - c.second));
            
        else if(indeks == 2)
            return std::sqrt((a.first - c.first) * (a.first - c.first) + (a.second - c.second) * (a.second - c.second));
            
        else if(indeks == 3)
            return std::sqrt((a.first - b.first) * (a.first - b.first) + (a.second - b.second) * (a.second - b.second));
            
 
        else    
            throw std::range_error("Nekorektan indeks");
    }
    double DajUgao(int indeks) const
    {
        if(indeks == 1)
            return std::acos((DajStranicu(2) * DajStranicu(2) + DajStranicu(3) * DajStranicu(3) - DajStranicu(1) * DajStranicu(1)) / 2 * DajStranicu(2) * DajStranicu(3));
            
        else if(indeks == 2)
            return std::acos((DajStranicu(1) * DajStranicu(1) + DajStranicu(3) * DajStranicu(3) - DajStranicu(2) * DajStranicu(2)) / 2 * DajStranicu(1) * DajStranicu(3));
            
        else if(indeks == 3)
            return std::acos((DajStranicu(1) * DajStranicu(1) + DajStranicu(2) * DajStranicu(2) - DajStranicu(3) * DajStranicu(3)) / 2 * DajStranicu(1) * DajStranicu(2));
            
        else
            throw std::range_error("Nekorektan indeks");
    }
    Tacka DajCentar() const
    {
        Tacka t;
        t.first = (a.first + b.first + c.first) / 3;
        t.second = (a.second + b.second + c.second) / 3;
        return t;
    }
    double DajObim() const
    {
        return DajStranicu(1) + DajStranicu(2) + DajStranicu(3);
    }
    double DajPovrsinu() const
    {
        return std::fabs(a.first * (b.second - c.second) - b.first * (a.second - c.second) - c.first * (a.second - b.second)) / 2;
    }
    bool DaLiJePozitivnoOrijentiran() const
    {
        if(Orijentacija(a, b, c) == 1) return true;
        else if(Orijentacija(a, b, c) == -1) return false;
    }
    bool DaLiJeUnutra(const Tacka &amp;t) const
    {
        if(Orijentacija(a, b, c) == 1 &amp;&amp; Orijentacija(a, b, t) == 1 &amp;&amp; Orijentacija(a, t, c) == 1 &amp;&amp; Orijentacija(t, b, c) == 1)
            return true;
            
        if(Orijentacija(a, b, c) == -1 &amp;&amp; Orijentacija(a, b, t) == -1 &amp;&amp; Orijentacija(a, t, c) == -1 &amp;&amp; Orijentacija(t, b, c) == -1)
            return true;
            
        return false;
    }
    void Ispisi() const
    {
        std::cout &lt;&lt; "((" &lt;&lt; a.first &lt;&lt; "," &lt;&lt; a.second &lt;&lt; "),(" &lt;&lt; b.first &lt;&lt; "," &lt;&lt; b.second
                  &lt;&lt; "),(" &lt;&lt; c.first &lt;&lt; "," &lt;&lt; c.second &lt;&lt; "))\n";
    }
    void Transliraj(double delta_x, double delta_y)
    {
        a.first += delta_x;
        a.second += delta_y;
        b.first += delta_x;
        b.second += delta_y;
        c.first += delta_x;
        c.second += delta_y;
    }
    void Centriraj(const Tacka &amp;t)
    {
        Tacka s = DajCentar();
        double dx = std::fabs(t.first - s.first);
        double dy = std::fabs(t.second - s.second);
        Transliraj(dx, dy);
    }
    void Rotiraj(const Tacka &amp;t, double ugao)
    {
        a.first = t.first + (a.first - t.first) * std::cos(ugao) - (a.second - t.second) * std::sin(ugao);
        b.first = t.first + (b.first - t.first) * std::cos(ugao) - (b.second - t.second) * std::sin(ugao);
        c.first = t.first + (c.first - t.first) * std::cos(ugao) - (c.second - t.second) * std::sin(ugao);
        a.second = t.second + (a.first - t.first) * std::sin(ugao) + (a.second - t.second) * std::cos(ugao);
        b.second = t.second + (b.first - t.first) * std::sin(ugao) + (b.second - t.second) * std::cos(ugao);
        c.second = t.second + (c.first - t.first) * std::sin(ugao) + (c.second - t.second) * std::cos(ugao);
    }
    void Skaliraj(const Tacka &amp;t, double faktor)
    {
        if(faktor == 0)
            throw std::domain_error("Nekorektan faktor skaliranja");
            
        a.first = t.first + faktor * (a.first - t.first);
        b.first = t.first + faktor * (b.first - t.first);
        c.first = t.first + faktor * (c.first - t.first);
        a.second = t.second + faktor * (a.second - t.second);
        b.second = t.second + faktor * (b.second - t.second);
        c.second = t.second + faktor * (c.second - t.second);
    }
    void Rotiraj(double ugao)
    {
        Rotiraj(DajCentar(), ugao);
    }
    void Skaliraj(double faktor)
    {
        Skaliraj(DajCentar(), faktor);
    }
    friend bool DaLiSuIdenticni(const Trougao &amp;t1, const Trougao &amp;t2);
    friend bool DaLiSuPodudarni(const Trougao &amp;t1, const Trougao &amp;t2);
    friend bool DaLiSuSlicni(const Trougao &amp;t1, const Trougao &amp;t2);

};
bool DaLiSuIdenticni(const Trougao &amp;t1, const Trougao &amp;t2)
{
    if((t1.DajTjeme(1) == t2.DajTjeme(1) || t1.DajTjeme(1) == t2.DajTjeme(2) || t1.DajTjeme(1) == t2.DajTjeme(3)) &amp;&amp;
        (t1.DajTjeme(2) == t2.DajTjeme(1) || t1.DajTjeme(2) == t2.DajTjeme(2) || t1.DajTjeme(2) == t2.DajTjeme(3)) &amp;&amp;
        (t1.DajTjeme(3) == t2.DajTjeme(1) || t1.DajTjeme(3) == t2.DajTjeme(2) || t1.DajTjeme(3) == t2.DajTjeme(3)))
            return true;
            
<a name="2"></a><font color="#0000FF"><a href="match394-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_1.gif"/></a>

    return false;
}
bool DaLiSuPodudarni(const Trougao &amp;t1, const Trougao &amp;t2)
{
    double a1 = t1.DajStranicu(1);
    double a2 = t1.DajStranicu(2);
    double a3 = t1.DajStranicu(3);
    double b1 = t2.DajStranicu(1);
</font>    double b2 = t2.DajStranicu(2);
    double b3 = t2.DajStranicu(3);
    double alfa1 = t1.DajUgao(1);
    double alfa2 = t1.DajUgao(2);
    double alfa3 = t1.DajUgao(3);
    double beta1 = t2.DajUgao(1);
    double beta2 = t2.DajUgao(2);
    double beta3 = t2.DajUgao(3);
    
    //SSU 
<a name="0"></a><font color="#FF0000"><a href="match394-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_8.gif"/></a>

    if(std::fabs(a1 - b1) &lt; eps &amp;&amp; std::fabs(a2 - b2) &lt; eps &amp;&amp; std::fabs(alfa1 - beta1) &lt; eps)
        return true;
        
    else if(std::fabs(a2 - b2) &lt; eps &amp;&amp; std::fabs(a3 - b3) &lt; eps &amp;&amp; std::fabs(alfa2 - beta2) &lt; eps)
        return true;
        
    else if(std::fabs(a1 - b1) &lt; eps &amp;&amp; std::fabs(a3 - b3) &lt; eps &amp;&amp; std::fabs(alfa1 - beta1) &lt; eps)
        return true;
    //USU
    else if(std::fabs(alfa1 - beta1) &lt; eps &amp;&amp; std::fabs(alfa2 - beta2) &lt; eps &amp;&amp; std::fabs(a3 - b3) &lt; eps)
        return true;
        
    else if(std::fabs(alfa1 - beta1) &lt; eps &amp;&amp; std::fabs(a2 - b2) &lt; eps &amp;&amp; std::fabs(alfa3 - beta3) &lt; eps)
        return true;
        
    else if(std::fabs(alfa3 - beta3) &lt; eps &amp;&amp; std::fabs(a1 - b1) &lt; eps &amp;&amp; std::fabs(alfa2 - beta2) &lt; eps)
        return true;
    //SUS
    else if(std::fabs(alfa1 - beta1) &lt; eps &amp;&amp; std::fabs(a2 - b2) &lt; eps &amp;&amp; std::fabs(a3 - b3) &lt; eps)
        return true;
        
    else if(std::fabs(alfa2 - beta2) &lt; eps &amp;&amp; std::fabs(a1 - b1) &lt; eps &amp;&amp; std::fabs(a3 - b3) &lt; eps)
        return true;
        
    else if(std::fabs(alfa3 - beta3) &lt; eps &amp;&amp; std::fabs(a1 - b1) &lt; eps &amp;&amp; std::fabs(a2 - b2) &lt; eps)
</font>        return true;
    //SSS
    else if(std::fabs(a1 - b1) &lt; eps &amp;&amp; std::fabs(a2 - b2) &lt; eps &amp;&amp; std::fabs(a3 - b3) &lt; eps)
        return true;
        
<a name="3"></a><font color="#00FFFF"><a href="match394-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_1.gif"/></a>

    return false;
}
bool DaLiSuSlicni(const Trougao &amp;t1, const Trougao &amp;t2)
{
    double a1 = t1.DajStranicu(1);
    double b1 = t1.DajStranicu(2);
    double c1 = t1.DajStranicu(3);
    double a2 = t2.DajStranicu(1);
</font>    double b2 = t2.DajStranicu(2);
    double c2 = t2.DajStranicu(3);
    double alfa1 = t1.DajUgao(1);
    double beta1 = t1.DajUgao(2);
    double gama1 = t1.DajUgao(3);
    double alfa2 = t2.DajUgao(1);
    double beta2 = t2.DajUgao(2);
    double gama2 = t2.DajUgao(3);
    //odnosi stranica:
    double o1 = a1 / a2;
    double o2 = b1 / b2;
    double o3 = c1 / c2;
    //ugao and ugao
<a name="1"></a><font color="#00FF00"><a href="match394-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_1.gif"/></a>

    if((std::fabs(alfa1 - alfa2) &lt; eps &amp;&amp; std::fabs(beta1 - beta2) &lt; eps) || 
        (std::fabs(alfa1 - alfa2) &lt; eps &amp;&amp; std::fabs(gama1 - gama2) &lt; eps) ||
        (std::fabs(beta1 - beta2) &lt; eps &amp;&amp; std::fabs(gama1 - gama2) &lt; eps))
            return true;
    //odnosi str i ugao
    else if((std::fabs(o1 - o2) &lt; eps &amp;&amp; std::fabs(gama1 - gama2) &lt; eps) ||
</font>            (std::fabs(o1 - o3) &lt; eps &amp;&amp; std::fabs(beta1 - beta2) &lt; eps) ||
            (std::fabs(o2 - o3) &lt; eps &amp;&amp; std::fabs(alfa1 - alfa2) &lt; eps))
                return true;
    //stranice
    else if(std::fabs(o1 - o2) &lt; eps &amp;&amp; std::fabs(o1 - o3) &lt; eps)
        return true;
        
    return false;
}
int main_()
{
    Trougao t();
}
int main()
{
    int a;
    std::vector&lt;std::shared_ptr&lt;Trougao&gt;&gt; v;
    std::cout &lt;&lt; "Koliko zelite kreirati trouglova: ";
    std::cin &gt;&gt; a;
    v.resize(a);
    for(int i = 0; i &lt; v.size(); i++)
    {
        Tacka A, B, C;
        std::cout &lt;&lt; "Unesite podatke za " &lt;&lt; i + 1 &lt;&lt; ". trougao (x1 y1 x2 y2 x3 y3): ";
        std::cin &gt;&gt; A.first &gt;&gt; A.second &gt;&gt; B.first &gt;&gt; B.second &gt;&gt; C.first &gt;&gt; C.second;
        try
        {
            Trougao t(A, B, C);
            v.at(i) = std::make_shared&lt;Trougao&gt;(t);
        }
        catch(std::domain_error e)
        {
            std::cout &lt;&lt; e.what() &lt;&lt; ", ponovite unos!" &lt;&lt; std::endl;
            i--;
        }
        catch(std::bad_alloc e)
        {
            std::cout &lt;&lt; "Problem sa memorijom!";
        }
    }

    std::cout &lt;&lt; "Unesite vektor translacije (dx dy): ";
    double dx, dy;
    std::cin &gt;&gt; dx &gt;&gt; dy;
    //auto p = v.begin();
    std::transform(v.begin(), v.end(), v.begin(), [dx, dy](std::shared_ptr&lt;Trougao&gt; t)
                                                    {
                                                        (*t).Transliraj(dx, dy);
                                                        return t;
                                                    });
    std::cout &lt;&lt; "Unesite ugao rotacije: ";
    double u;
    std::cin &gt;&gt; u;
    std::transform(v.begin(), v.end(), v.begin(), [u](std::shared_ptr&lt;Trougao&gt; t)
                                                    {
                                                        (*t).Rotiraj((*t).DajCentar(), u);
                                                        return t;
                                                    });
    std::cout &lt;&lt; "Unesite faktor skaliranja: ";
    double s;
    std::cin &gt;&gt; s;
    std::transform(v.begin(), v.end(), v.begin(), [s](std::shared_ptr&lt;Trougao&gt; t)
                                                    {
                                                        (*t).Skaliraj(t-&gt;DajTjeme(1), s);
                                                        return t;
                                                    });
    std::sort(v.begin(), v.end(), [](std::shared_ptr&lt;Trougao&gt; t, std::shared_ptr&lt;Trougao&gt; t2)
                                    {
                                        return t-&gt;DajPovrsinu() &gt; t2-&gt;DajPovrsinu();
                                    });
    std::cout &lt;&lt; "Trouglovi nakon obavljenih transformacija: \n";
    std::for_each(v.begin(), v.end(), [](std::shared_ptr&lt;Trougao&gt; t) {(*t).Ispisi();});
    
    auto pok(std::min_element(v.begin(), v.end(), [](std::shared_ptr&lt;Trougao&gt; t, std::shared_ptr&lt;Trougao&gt; t2)
                                                    {
                                                        return (*t).DajObim() &gt; (*t2).DajObim();
                                                    }));
    std::cout &lt;&lt; "Trougao s najmanjim obimom: ";
    (*pok)-&gt;Ispisi();
    std::cout &lt;&lt; std::endl;
    bool slicni = false, identicni = false, podudarni = false;
    std::vector&lt;bool&gt; v1, v2, v3;
    for(int i = 0; i &lt; v.size(); i++)
    {
        for(int j = i + 1; j &lt; v.size() - 1; j++)
        {
            bool id = DaLiSuIdenticni(*v.at(i), *v.at(j));
            if(id)
            {
                identicni = true;
                if(identicni &amp;&amp; i == 0 &amp;&amp; j == 1)
                    std::cout &lt;&lt; "Parovi identicnih trouglova: \n";
                (*v.at(i)).Ispisi();
                std::cout &lt;&lt; " i ";
                (*v.at(j)).Ispisi();
                std::cout &lt;&lt; std::endl;
            }
        }
    }
    for(int i = 0; i &lt; v.size(); i++)
    {
        for(int j = i + 1; j &lt; v.size() - 1; j++)
        {
            bool sl = DaLiSuSlicni(*v.at(i), *v.at(j));
            if(sl)
            {
                slicni = true;
                if(slicni &amp;&amp; i == 0 &amp;&amp; j == 1)
                    std::cout &lt;&lt; "Parovi slicnih trouglova: \n";
                (*v.at(i)).Ispisi();
                std::cout &lt;&lt; " i ";
                (*v.at(j)).Ispisi();
                std::cout &lt;&lt; std::endl;
            }
            
        }
    }
    for(int i = 0; i &lt; v.size(); i++)
    {
        for(int j = i + 1; j &lt; v.size() - 1; j++)
        {
            bool po = DaLiSuPodudarni(*v.at(i), *v.at(j));
            if(po)
            {
                podudarni = true;
                if(podudarni &amp;&amp; i == 0 &amp;&amp; j == 1)
                    std::cout &lt;&lt; "\nParovi podudarnih trouglova: \n";
                (*v.at(i)).Ispisi();
                std::cout &lt;&lt; " i ";
                (*v.at(j)).Ispisi();
                std::cout &lt;&lt; std::endl;
            }
        }
    }
    if(identicni == false)
        std::cout &lt;&lt; "Nema identicnih trouglova!\n";
    if(podudarni == false)
        std::cout &lt;&lt; "Nema podudarnih trouglova!\n";
    if(slicni == false)
        std::cout &lt;&lt; "Nema slicnih trouglova!\n";
	return 0;
}</pre>
</body>
</html>
