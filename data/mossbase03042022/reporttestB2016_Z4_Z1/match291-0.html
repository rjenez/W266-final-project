<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z1/student6999.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z1/student6999.cpp<p></p><pre>
#include &lt;iostream&gt;
#include &lt;utility&gt;
#include &lt;cmath&gt;
#include &lt;stdexcept&gt;
#include &lt;iomanip&gt;
#include &lt;algorithm&gt;
#include &lt;limits&gt;
#include &lt;vector&gt;
#include &lt;memory&gt;
typedef std::pair&lt;double,double&gt; Tacka;
const double PI=4*std::atan(1.);
bool DobarIndeks(const int &amp;indeks){if(indeks &lt;=0 || indeks &gt;3) throw std::range_error("Nekorektan indeks");return true;}
bool istisu(double x,double y){return std::fabs(x-y)&lt;10E-10;}
void rotirajtacku(Tacka &amp;t1, const Tacka &amp;t2, double ugao){
    double x,y;
    x=t2.first+(t1.first-t2.first)*std::cos(ugao)-(t1.second-t2.second)*std::sin(ugao);
<a name="9"></a><font color="#FF00FF"><a href="match291-1.html#9" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_0.gif"/></a>

    y=t2.second+(t1.first-t2.first)*std::sin(ugao)+(t1.second-t2.second)*std::cos(ugao);
    t1.first=x;
    t1.second=y;
</font>}
double DuzinaStranice(const Tacka &amp;prva, const Tacka druga){
return std::sqrt((druga.first-prva.first)*(druga.first-prva.first)+(druga.second-prva.second)*(druga.second-prva.second));
}
class Trougao{
Tacka t1,t2,t3;
public:

Trougao(const Tacka &amp;T1, const Tacka &amp;T2, const Tacka &amp;T3){
    if(!Orijentacija(T1,T2,T3)) throw std::domain_error("Nekorektne pozicije tjemena");
this-&gt;t1=T1;this-&gt;t2=T2;this-&gt;t3=T3;
}

void Postavi(const Tacka &amp;T1,const Tacka &amp;T2,const Tacka &amp;T3){
    if(!Orijentacija(T1,T2,T3)) throw std::domain_error("Nekorektne pozicije tjemena");
this-&gt;t1=T1;this-&gt;t2=T2;this-&gt;t3=T3;
}

void Postavi(int indeks, const Tacka T){
    if(DobarIndeks(indeks))
    ;
    if(indeks == 1){this-&gt;t1=T;return;}
    if(indeks == 2){this-&gt;t2=T;return;}
    this-&gt;t3=T;
}
static int Orijentacija(const Tacka &amp;T1, const Tacka &amp;T2, const Tacka &amp;T3){
    auto izraz = T1.first*(T2.second - T3.second)-T2.first*(T1.second-T3.second)+T3.first*(T1.second-T2.second);
if(izraz&gt;0.) return 1;
if(izraz&lt;0.) return -1;
return 0;
}

Tacka DajTjeme(int indeks)const{
    if(DobarIndeks(indeks))
    ;
    if(indeks == 1){return this-&gt;t1;}
    if(indeks == 2){return this-&gt;t2;}
    return this-&gt;t3;
}

double DajStranicu(int indeks)const{
    if(DobarIndeks(indeks))
    ;
    if(indeks == 1) return DuzinaStranice(this-&gt;t2,this-&gt;t3);
    if(indeks == 2) return DuzinaStranice(this-&gt;t1,this-&gt;t3);
    return DuzinaStranice(this-&gt;t1,this-&gt;t2);
}

double DajUgao(int indeks)const{
    if(DobarIndeks(indeks))
    ;
    double a,b,c; //stranice trougla
    a=DajStranicu(1);
    b=DajStranicu(2);
    c=DajStranicu(3);
if(indeks==1)//traži se alfa
    return std::acos((b*b+c*c-a*a)/(2*b*c));
if(indeks==2)//traži se beta
    return std::acos((a*a+c*c-b*b)/(2*a*c));
    return std::acos((a*a+b*b-c*c)/(2*a*b));
}

Tacka DajCentar()const{
    Tacka izlaz;
    izlaz.first=(this-&gt;t1.first+this-&gt;t2.first+this-&gt;t3.first)/3;
    izlaz.second=(this-&gt;t1.second+this-&gt;t2.second+this-&gt;t3.second)/3;
    return izlaz; //znam da je neefikasno i ružno ali je preglomazno strpat' sve u jedno.
}

double DajObim()const{
    return(this-&gt;DajStranicu(1)+this-&gt;DajStranicu(2)+this-&gt;DajStranicu(3));
}

double DajPovrsinu()const{
auto izraz = this-&gt;t1.first*(this-&gt;t2.second - this-&gt;t3.second)-this-&gt;t2.first*(this-&gt;t1.second-this-&gt;t3.second)+this-&gt;t3.first*(this-&gt;t1.second-this-&gt;t2.second);
return .5*(std::fabs(izraz));
}

bool DaLiJePozitivnoOrijentiran()const{
    if(Orijentacija(this-&gt;t1,this-&gt;t2,this-&gt;t3)==1)return true;
    return false;
}

bool DaLiJeUnutra(const Tacka &amp;t)const{
if(Orijentacija(this-&gt;t1,this-&gt;t2,this-&gt;t3)&gt;0 &amp;&amp;
Orijentacija(this-&gt;t1,this-&gt;t2,t)&gt;0 &amp;&amp;
Orijentacija(this-&gt;t2,this-&gt;t3,t)&gt;0 &amp;&amp;
Orijentacija(this-&gt;t3,this-&gt;t1,t)&gt;0) return true;
if(Orijentacija(this-&gt;t1,this-&gt;t2,this-&gt;t3)&lt;0 &amp;&amp;
Orijentacija(this-&gt;t1,this-&gt;t2,t)&lt;0 &amp;&amp;
Orijentacija(this-&gt;t2,this-&gt;t3,t)&lt;0 &amp;&amp;
Orijentacija(this-&gt;t3,this-&gt;t1,t)&lt;0) return true;
return false;
}

void Ispisi()const{
    std::cout&lt;&lt;"(("&lt;&lt;this-&gt;t1.first&lt;&lt;","&lt;&lt;this-&gt;t1.second&lt;&lt;"),("&lt;&lt;this-&gt;t2.first&lt;&lt;","&lt;&lt;this-&gt;t2.second&lt;&lt;"),("
    &lt;&lt;this-&gt;t3.first&lt;&lt;","&lt;&lt;this-&gt;t3.second&lt;&lt;"))";
}

void Transliraj(double delta_x,double delta_y){
    this-&gt;t1.first+=delta_x;
    this-&gt;t2.first+=delta_x;
    this-&gt;t3.first+=delta_x;
this-&gt;t1.second+=delta_y;
this-&gt;t2.second+=delta_y;
this-&gt;t3.second+=delta_y;
}

void Centriraj(const Tacka &amp;t){
    Tacka cent=this-&gt;DajCentar();
    double delta_x=t.first-cent.first,delta_y=t.second-cent.second;
    this-&gt;Transliraj(delta_x,delta_y);
}
<a name="10"></a><font color="#FF0000"><a href="match291-1.html#10" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_0.gif"/></a>

void Rotiraj(const Tacka &amp;t, double ugao){ // ne valja rotiranje y koordinata
    rotirajtacku(t1,t,ugao);
    rotirajtacku(t2,t,ugao);
    rotirajtacku(t3,t,ugao);
}
void Rotiraj(double ugao){Rotiraj(this-&gt;DajCentar(), ugao);}
</font>
void Skaliraj(const Tacka &amp;t, double faktor){
if(std::fabs(faktor-0)&lt;10E-10) throw std::domain_error("Nekorektan faktor skaliranja");
    this-&gt;t1.first=t.first+faktor*(this-&gt;t1.first-t.first);
    this-&gt;t1.second=t.second+faktor*(this-&gt;t1.second-t.second);
this-&gt;t2.first=t.first+faktor*(this-&gt;t2.first-t.first);
this-&gt;t2.second=t.second+faktor*(this-&gt;t2.second-t.second);
this-&gt;t3.first=t.first+faktor*(this-&gt;t3.first-t.first);
this-&gt;t3.second=t.second+faktor*(this-&gt;t3.second-t.second);
}

void Skaliraj(double faktor){Skaliraj(this-&gt;DajCentar(),faktor);}

friend bool DaLiSuIdenticni(const Trougao &amp;t1, const Trougao &amp;t2);
friend bool DaLiSuPodudarni(const Trougao &amp;t1, const Trougao &amp;t2);
friend bool DaLiSuSlicni(const Trougao &amp;t1, const Trougao &amp;t2);
};
int main (){
std::cout&lt;&lt;"Koliko zelite kreirati trouglova: "; unsigned n;
std::cin&gt;&gt;n;
std::vector&lt;std::shared_ptr&lt;Trougao&gt;&gt; v(n,nullptr);
unsigned static i=0;
a:try{
Tacka prvo,drugo,trece;
for(;i&lt;n;i++){
    std::cout&lt;&lt;"Unesite podatke za "&lt;&lt;i+1&lt;&lt;". trougao (x1 y1 x2 y2 x3 y3): ";
    std::cin&gt;&gt;prvo.first&gt;&gt;prvo.second;
    std::cin&gt;&gt;drugo.first&gt;&gt;drugo.second;
    std::cin&gt;&gt;trece.first&gt;&gt;trece.second;
v[i]=std::make_shared&lt;Trougao&gt;(Trougao(prvo,drugo,trece));
}
}catch(std::bad_alloc){std::cout&lt;&lt;"Problemi sa memorijom, molimo Vas ponovite unos za ";goto a;}
catch(std::domain_error &amp;ex){std::cout&lt;&lt;ex.what();std::cout&lt;&lt;", ponovite unos!"&lt;&lt;std::endl;goto a;}
catch(std::range_error &amp;ex){std::cout&lt;&lt;ex.what();}
double delta_x,delta_y,ugao,faktor;
std::cout&lt;&lt;"Unesite vektor translacije (dx dy): ";std::cin&gt;&gt;delta_x&gt;&gt;delta_y;
std::cout&lt;&lt;"Unesite ugao rotacije: ";std::cin&gt;&gt;ugao;
std::cout&lt;&lt;"Unesite faktor skaliranja: ";std::cin&gt;&gt;faktor;
std::transform(v.begin(),v.end(),v.begin(),
[delta_x,delta_y,ugao,faktor](std::shared_ptr&lt;Trougao&gt;trougao){
    trougao-&gt;Transliraj(delta_x,delta_y);
    return trougao;
});
std::transform(v.begin(),v.end(),v.begin(),
[delta_x,delta_y,ugao,faktor](std::shared_ptr&lt;Trougao&gt;trougao){
    trougao-&gt;Rotiraj(ugao);
    return trougao;
});
std::transform(v.begin(),v.end(),v.begin(),
[delta_x,delta_y,ugao,faktor](std::shared_ptr&lt;Trougao&gt;trougao){
    trougao-&gt;Skaliraj(trougao-&gt;DajTjeme(1),faktor); return trougao;
});
std::sort(v.begin(),v.end(),[](const std::shared_ptr&lt;Trougao&gt; &amp;prvi, const std::shared_ptr&lt;Trougao&gt; &amp;drugi){
return prvi-&gt;DajPovrsinu()&lt;drugi-&gt;DajPovrsinu();});
std::cout&lt;&lt;"Trouglovi nakon obavljenih transformacija:"&lt;&lt;std::endl;
std::for_each(v.begin(),v.end(),[](const std::shared_ptr&lt;Trougao&gt; &amp;trougao){
trougao-&gt;Ispisi();std::cout&lt;&lt;std::endl;});

auto it_najmanjeg_obima=std::max_element(v.begin(),v.end(),[](const std::shared_ptr&lt;Trougao&gt;&amp;prvi,const std::shared_ptr&lt;Trougao&gt;&amp;drugi){
return prvi-&gt;DajObim()&gt;drugi-&gt;DajObim();
});
std::cout&lt;&lt;"Trougao sa najmanjim obimom: ";
<a name="11"></a><font color="#00FF00"><a href="match291-1.html#11" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_0.gif"/></a>

(*it_najmanjeg_obima)-&gt;Ispisi();std::cout&lt;&lt;std::endl;
std::vector&lt;std::pair&lt;Trougao,Trougao&gt;&gt; identicni,podudarni,slicni;
</font>for(unsigned i=0;i&lt;v.size();i++)
<a name="0"></a><font color="#FF0000"><a href="match291-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_3.gif"/></a>

for(unsigned j=i+1;j&lt;v.size();j++){
    if(DaLiSuIdenticni(*v[i],*v[j])) identicni.push_back(std::make_pair(*v[i],*v[j]));
    if(DaLiSuPodudarni(*v[i],*v[j])) podudarni.push_back(std::make_pair(*v[i],*v[j]));
    if(DaLiSuSlicni(*v[i],*v[j])) slicni.push_back(std::make_pair(*v[i],*v[j]));
</font>}
if(identicni.size()){
    std::cout&lt;&lt;"Parovi identicnih trouglova:\n";
for(unsigned i=0;i&lt;identicni.size();i++){ identicni[i].first.Ispisi();std::cout&lt;&lt;" i "; identicni[i].second.Ispisi();std::cout&lt;&lt;std::endl;}
}
else std::cout&lt;&lt;"Nema identicnih trouglova!\n";
if(podudarni.size()){
    std::cout&lt;&lt;"Parovi podudarnih trouglova:\n";
for(unsigned i=0;i&lt;podudarni.size();i++){ podudarni[i].first.Ispisi();std::cout&lt;&lt;" i "; podudarni[i].second.Ispisi();std::cout&lt;&lt;std::endl;}
}
else std::cout&lt;&lt;"Nema podudarnih trouglova!\n";
if(slicni.size()){
    std::cout&lt;&lt;"Parovi slicnih trouglova:\n";
for(unsigned i=0;i&lt;slicni.size();i++){slicni[i].first.Ispisi();std::cout&lt;&lt;" i "; slicni[i].second.Ispisi();std::cout&lt;&lt;std::endl;}
}
if(!slicni.size()) std::cout&lt;&lt;"Nema slicnih trouglova!";
	return 0;
}

bool DaLiSuIdenticni(const Trougao &amp;t1, const Trougao &amp;t2){
    std::vector&lt;Tacka&gt; v1,v2;
v1.push_back(t1.DajTjeme(1));
v1.push_back(t1.DajTjeme(2));
v1.push_back(t1.DajTjeme(3));
    v2.push_back(t2.DajTjeme(1));
    v2.push_back(t2.DajTjeme(2));
    v2.push_back(t2.DajTjeme(3));
std::sort(v1.begin(),v1.end(),[](const Tacka &amp;prva, const Tacka &amp;druga){return prva.first&gt;druga.first;});
std::sort(v2.begin(),v2.end(),[](const Tacka &amp;prva, const Tacka &amp;druga){return prva.first&gt;druga.first;});
for(unsigned i=0;i&lt;3;i++)
    if(!(istisu(v1[i].first,v2[i].first) &amp;&amp; istisu(v1[i].second,v2[i].second))) return false;
return true;
}

<a name="3"></a><font color="#00FFFF"><a href="match291-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_1.gif"/></a>

bool DaLiSuPodudarni(const Trougao &amp;t1, const Trougao &amp;t2){
std::vector&lt;std::pair&lt;Tacka,double&gt;&gt; prviv,drugiv;
std::vector&lt;Tacka&gt; treciv{t1.t1,t1.t2,t1.t3},cetvrtiv{t2.t1,t2.t2,t2.t3};
</font>unsigned i=0;
while(true){if(i==3) break;
<a name="5"></a><font color="#FF0000"><a href="match291-1.html#5" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_1.gif"/></a>

    prviv.push_back(std::make_pair(treciv[i],t1.DajStranicu(i+1)));
    drugiv.push_back(std::make_pair(cetvrtiv[i],t2.DajStranicu(i+1)));
</font>    i++;
}
<a name="7"></a><font color="#0000FF"><a href="match291-1.html#7" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_1.gif"/></a>

std::sort(prviv.begin(),prviv.end(),[](const std::pair&lt;Tacka,double&gt;t1,const std::pair&lt;Tacka,double&gt;t2){return t1.second&lt;t2.second;});
std::sort(drugiv.begin(),drugiv.end(),[](const std::pair&lt;Tacka,double&gt;t1,const std::pair&lt;Tacka,double&gt;t2){return t1.second&lt;t2.second;});
</font><a name="1"></a><font color="#00FF00"><a href="match291-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_2.gif"/></a>

if(Trougao::Orijentacija(prviv[0].first,prviv[1].first,prviv[2].first)!=Trougao::Orijentacija(drugiv[0].first,drugiv[1].first,drugiv[2].first))return false;
bool okej=true;
</font>i=0;
while(true){if(i==3)break; if(!istisu(prviv[i].second,drugiv[i].second)){okej=false;break;}i++;}
return okej;
}

<a name="4"></a><font color="#FF00FF"><a href="match291-1.html#4" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_1.gif"/></a>

bool DaLiSuSlicni(const Trougao &amp;t1, const Trougao &amp;t2){
//     double a1,b1,c1,a2,b2,c2; std::vector&lt;std::pair&lt;double,double&gt;&gt;prviv,drugiv;
// a1=t1.DajUgao(1);prviv.push_back(std::make_pair(t1.DajStranicu(1),a1));
// b1=t1.DajUgao(2);prviv.push_back(std::make_pair(t1.DajStranicu(2),b1));
// c1=t1.DajUgao(3);prviv.push_back(std::make_pair(t1.DajStranicu(3),c1));
// a2=t2.DajUgao(1);drugiv.push_back(std::make_pair(t2.DajStranicu(1),a2));
// b2=t2.DajUgao(2);drugiv.push_back(std::make_pair(t2.DajStranicu(2),b2));
// c2=t2.DajUgao(3);drugiv.push_back(std::make_pair(t2.DajStranicu(3),c2));
//     std::sort(prviv.begin(),prviv.end(),[](const std::pair&lt;double,double&gt; &amp;prva,const std::pair&lt;double,double&gt; &amp;druga){
//         return prva.second&gt;druga.second;
//     });
//     std::sort(drugiv.begin(),drugiv.end(),[](const std::pair&lt;double,double&gt; &amp;prva,const std::pair&lt;double,double&gt; &amp;druga){
//         return prva.second&gt;druga.second;
//     });
// unsigned i=0;
// while(true){if(i==3)break; if(!istisu(prviv[i].second,drugiv[i].second))return false;i++;}
// if(istisu(prviv[0].first/drugiv[0].first,prviv[1].first/drugiv[1].first)&amp;&amp;
// istisu(prviv[0].first/drugiv[0].first,prviv[2].first/drugiv[2].first)) return true;
// return false;
std::vector&lt;std::pair&lt;Tacka,double&gt;&gt; prviv,drugiv;
std::vector&lt;Tacka&gt; treciv{t1.t1,t1.t2,t1.t3},cetvrtiv{t2.t1,t2.t2,t2.t3};
</font>unsigned i=0;
while(true){if(i==3) break;
<a name="6"></a><font color="#00FF00"><a href="match291-1.html#6" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_1.gif"/></a>

    prviv.push_back(std::make_pair(treciv[i],t1.DajUgao(i+1)));
    drugiv.push_back(std::make_pair(cetvrtiv[i],t2.DajUgao(i+1)));
</font>    i++;
}
<a name="8"></a><font color="#00FFFF"><a href="match291-1.html#8" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_1.gif"/></a>

std::sort(prviv.begin(),prviv.end(),[](const std::pair&lt;Tacka,double&gt;t1,const std::pair&lt;Tacka,double&gt;t2){return t1.second&lt;t2.second;});
std::sort(drugiv.begin(),drugiv.end(),[](const std::pair&lt;Tacka,double&gt;t1,const std::pair&lt;Tacka,double&gt;t2){return t1.second&lt;t2.second;});
</font><a name="2"></a><font color="#0000FF"><a href="match291-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_2.gif"/></a>

if(Trougao::Orijentacija(prviv[0].first,prviv[1].first,prviv[2].first)!=Trougao::Orijentacija(drugiv[0].first,drugiv[1].first,drugiv[2].first))return false;
bool okej=true;
</font>i=0;
while(true){if(i==3)break; if(!istisu(prviv[i].second,drugiv[i].second)){okej=false;break;}i++;}
return okej;
}




</pre>
</body>
</html>
