<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z1/student6198.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z1/student6198.cpp<p></p><pre>
<a name="3"></a><font color="#00FFFF"><a href="match145-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_3.gif"/></a>

/B 2016/2017, ZadaÄ‡a 4, Zadatak 1
//Napomena: testovi ce biti dostupni dan pred rok!
#include &lt;iostream&gt;
#include &lt;utility&gt;
#include &lt;stdexcept&gt;
#include &lt;cmath&gt;
#include &lt;vector&gt;
#include &lt;memory&gt;
#include &lt;algorithm&gt;

typedef std::pair&lt;double, double&gt; Tacka;
const double PI = 3.141592653;
const double eps = 0.0000000001;

class Trougao 
{
private:
    Tacka t1;
    Tacka t2;
    Tacka t3;
    
    static bool sadrziVrijednost(std::vector&lt;int&gt; vektor, int vrijednost);  
    static bool jednakiRealniBrojevi(double r1, double r2);
    static bool jednakeTacke(const Tacka &amp;t1, const Tacka &amp;t2);
    
public:
    Trougao(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3);
    void Postavi(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3);
</font>    void Postavi(int indeks, const Tacka &amp;t);
    static int Orijentacija(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3);
    Tacka DajTjeme(int indeks) const;
    double DajStranicu(int indeks) const;
    double DajUgao(int indeks) const;
    Tacka DajCentar() const;
    double DajObim() const;
    double DajPovrsinu() const;
    bool DaLiJePozitivnoOrijentiran() const;
    bool DaLiJeUnutra(const Tacka &amp;t) const;
    void Ispisi() const;
    void Transliraj(double delta_x, double delta_y);
    void Centriraj(const Tacka &amp;t);
    void Rotiraj(const Tacka &amp;t, double ugao);
    void Skaliraj(const Tacka &amp;t, double faktor);
    void Rotiraj(double ugao);
    void Skaliraj(double faktor);
    friend bool DaLiSuIdenticni(const Trougao &amp;t1, const Trougao &amp;t2);
<a name="0"></a><font color="#FF0000"><a href="match145-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_31.gif"/></a>

    friend bool DaLiSuPodudarni(const Trougao &amp;t1, const Trougao &amp;t2);
    friend bool DaLiSuSlicni(const Trougao &amp;t1, const Trougao &amp;t2);
};

bool Trougao::sadrziVrijednost(std::vector&lt;int&gt; vektor, int vrijednost)
{
    bool sndrzi = false;
    
    for (int i = 0; i &lt; vektor.size(); i++)
        if (vektor[i] == vrijednost)
        {
            sndrzi = true;
            break;
        }
            
    return sndrzi;
}

bool Trougao::jednakiRealniBrojevi(double r1, double r2)
{
    if (std::abs(r1 - r2) &lt; eps)
        return true;
        
    return false;
}

bool Trougao::jednakeTacke(const Tacka &amp;t1, const Tacka &amp;t2)
{
    if (Trougao::jednakiRealniBrojevi(t1.first, t2.first) &amp;&amp; Trougao::jednakiRealniBrojevi(t1.second, t2.second))
        return true;
    
    return false;
}

int Trougao::Orijentacija(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3)
{
    double oijentir(t1.first * (t2.second - t3.second) - t2.first * (t1.second - t3.second) + t3.first * (t1.second - t2.second));

    if (oijentir &gt; eps)
         return 1;
    else if (Trougao::jednakiRealniBrojevi(oijentir, 0))
        return 0;
    else
        return -1;
}

Trougao::Trougao(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3)
{
    /*if (Orijentacija(t1, t2, t3) == 0)
        throw std::domain_error("Nekorektne pozicije tjemena");*/
        
    this-&gt;t1 = t1;
    this-&gt;t2 = t2;
    this-&gt;t3 = t3;
}

void Trougao::Postavi(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3)
{
    if (Orijentacija(t1, t2, t3) == 0)
        throw std::domain_error("Nekorektne pozicije tjemena");
        
    this-&gt;t1 = t1;
    this-&gt;t2 = t2;
    this-&gt;t3 = t3;
}

void Trougao::Postavi(int indeks, const Tacka &amp;t)
{
    if (indeks &lt; 1 || indeks &gt; 3)
        throw std::range_error("Nekorektan indeks");
        
    switch (indeks)
    {
        case 1:
            this-&gt;t1 = t;
            break;
        case 2:
            this-&gt;t2 = t;
            break;
        case 3:
            this-&gt;t3 = t;
            break;
    }
}

Tacka Trougao::DajTjeme(int indeks) const
{
    if (indeks &lt; 1 || indeks &gt; 3)
        throw std::range_error("Nekorektan indeks");
        
    switch (indeks)
    {
        case 1:
            return this-&gt;t1;
            break;
        case 2:
            return this-&gt;t2;
            break;
        case 3:
            return this-&gt;t3;
            break;
    }   
    
}

double Trougao::DajStranicu(int indeks) const
{
    if (indeks &lt; 1 || indeks &gt; 3)
        throw std::range_error("Nekorektan indeks");
    
    switch (indeks)
    {
        case 1:
            return std::sqrt((t2.first - t3.first) * (t2.first - t3.first) + (t2.second - t3.second) * (t2.second - t3.second));
            break;
        case 2:
            return std::sqrt((t1.first - t3.first) * (t1.first - t3.first) + (t1.second - t3.second) * (t1.second - t3.second));
            break;
        case 3:
            return std::sqrt((t2.first - t1.first) * (t2.first - t1.first) + (t2.second - t1.second) * (t2.second - t1.second));
            break;
    }
}

double Trougao::DajUgao(int indeks) const
{
    if (indeks &lt; 1 || indeks &gt; 3)
        throw std::range_error("Nekorektan indeks");
        
    switch (indeks)
    {
        case 1:
            return std::acos(((-1.0) * DajStranicu(1) * DajStranicu(1) + DajStranicu(2) * DajStranicu(2) + DajStranicu(3) * DajStranicu(3)) / (2 * DajStranicu(2) * DajStranicu(3)));
            break;
        case 2:
            return std::acos(((-1.0) * DajStranicu(2) * DajStranicu(2) + DajStranicu(1) * DajStranicu(1) + DajStranicu(3) * DajStranicu(3)) / (2 * DajStranicu(1) * DajStranicu(3)));
            break;
        case 3:
            return std::acos(((-1.0) * DajStranicu(3) * DajStranicu(3) + DajStranicu(1) * DajStranicu(1) + DajStranicu(2) * DajStranicu(2)) / (2 * DajStranicu(1) * DajStranicu(2)));
            break;
    }
}

Tacka Trougao::DajCentar() const
{
    return std::make_pair((t1.first + t2.first + t3.first) / 3, (t1.second + t2.second + t3.second) / 3);
}

double Trougao::DajObim() const
{
    return DajStranicu(1) + DajStranicu(2) + DajStranicu(3);
}

double Trougao::DajPovrsinu() const
{
    return 0.5 * std::abs(t1.first * (t2.second - t3.second) - t2.first * (t1.second - t3.second) + t3.first * (t1.second - t2.second));
}

bool Trougao::DaLiJePozitivnoOrijentiran() const
{
    if (Orijentacija(t1, t2, t3) &gt; 0)
        return true;
    
    return false;
}

bool Trougao::DaLiJeUnutra(const Tacka &amp;t) const
{
    if (Orijentacija(t1, t2, t3) &gt; 0 &amp;&amp; Orijentacija(t1, t2, t) &gt; 0 &amp;&amp; Orijentacija(t2, t3, t) &gt; 0 &amp;&amp; Orijentacija(t3, t1, t) &gt; 0)
        return true;
    else if (Orijentacija(t1, t2, t3) &lt; 0 &amp;&amp; Orijentacija(t1, t2, t) &lt; 0 &amp;&amp; Orijentacija(t2, t3, t) &lt; 0 &amp;&amp; Orijentacija(t3, t1, t) &lt; 0)
        return true;
    else
        return false;
}

void Trougao::Ispisi() const
{
    std::cout &lt;&lt; "((" &lt;&lt; t1.first &lt;&lt; "," &lt;&lt; t1.second &lt;&lt; "),(" &lt;&lt; t2.first &lt;&lt; "," &lt;&lt; t2.second &lt;&lt; "),(" &lt;&lt; t3.first &lt;&lt; "," &lt;&lt; t3.second &lt;&lt; "))";
</font>}

void Trougao::Transliraj(double delta_x, double delta_y)
{
    t1.first += delta_x;
    t2.first += delta_x;
    t3.first += delta_x;
    
<a name="4"></a><font color="#FF00FF"><a href="match145-1.html#4" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_2.gif"/></a>

    t1.second += delta_y;
    t2.second += delta_y;
    t3.second += delta_y;
}

void Trougao::Centriraj(const Tacka &amp;t)
{
    Tacka tsnutniCentar = DajCentar();
    
    Transliraj(t.first - tsnutniCentar.first, t.second - tsnutniCentar.second);
}

void Trougao::Rotiraj(const Tacka &amp;t, double ugao)
{
    t1.first = t.first + (t1.first - t.first) * std::cos(ugao) - (t1.second - t.second) * std::sin(ugao);
</font>    t1.second = t.second + (t1.first - t.first) * std::sin(ugao) + (t1.second - t.second) * std::cos(ugao);
    
    t2.first = t.first + (t2.first - t.first) * std::cos(ugao) - (t2.second - t.second) * std::sin(ugao);
    t2.second = t.second + (t2.first - t.first) * std::sin(ugao) + (t2.second - t.second) * std::cos(ugao);
    
    t3.first = t.first + (t3.first - t.first) * std::cos(ugao) - (t3.second - t.second) * std::sin(ugao);
<a name="5"></a><font color="#FF0000"><a href="match145-1.html#5" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_2.gif"/></a>

    t3.second = t.second + (t3.first - t.first) * std::sin(ugao) + (t3.second - t.second) * std::cos(ugao);
}

void Trougao::Skaliraj(const Tacka &amp;t, double faktor)
{
    if (Trougao::jednakiRealniBrojevi(faktor, 0))
        throw std::domain_error("Nekorektan faktor skaliranja");
        
    t1.first = t.first + faktor * (t1.first - t.first);
    t1.second = t.second + faktor * (t1.second - t.second);
</font>    
    t2.first = t.first + faktor * (t2.first - t.first);
    t2.second = t.second + faktor * (t2.second - t.second);
    
<a name="1"></a><font color="#00FF00"><a href="match145-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_30.gif"/></a>

    t3.first = t.first + faktor * (t3.first - t.first);
    t3.second = t.second + faktor * (t3.second - t.second);
    
    if (faktor &lt; 0)
        Rotiraj(t, PI);
}

void Trougao::Rotiraj(double ugao)
{
    Rotiraj(DajCentar(), ugao);
}

void Trougao::Skaliraj(double faktor)
{
    Skaliraj(DajCentar(), faktor);
}

bool DaLiSuIdenticni(const Trougao &amp;t1, const Trougao &amp;t2)
{
    if (Trougao::jednakeTacke(t1.t1, t2.t1))
    {   
        if (Trougao::jednakeTacke(t1.t2, t2.t2))
        {
            if (Trougao::jednakeTacke(t1.t3, t2.t3))
                return true;
        }
        else if (Trougao::jednakeTacke(t1.t2, t2.t3))
        {
            if (Trougao::jednakeTacke(t1.t3, t2.t2))
                return true;
        }
    }
    else if (Trougao::jednakeTacke(t1.t1, t2.t2))
    {
        if (Trougao::jednakeTacke(t1.t2, t2.t1))
        {
            if (Trougao::jednakeTacke(t1.t3, t2.t3))
                return true;
        }
        else if (Trougao::jednakeTacke(t1.t2, t2.t3))
        {
            if (Trougao::jednakeTacke(t1.t3, t2.t1))
                return true;
        }
    }
    else if (Trougao::jednakeTacke(t1.t1, t2.t3))
    {
        if (Trougao::jednakeTacke(t1.t2, t2.t1))
        {
            if (Trougao::jednakeTacke(t1.t3, t2.t1))
                return true;
        }
        else if (Trougao::jednakeTacke(t1.t2, t2.t3))
        {
            if (Trougao::jednakeTacke(t1.t3, t2.t1))
                return true;
        }
    }
    
    return false;
}

bool DaLiSuPodudarni(const Trougao &amp;t1, const Trougao &amp;t2)
{
    std::vector&lt;int&gt; taPrvog;
    std::vector&lt;int&gt; tmDrugog;
    
    taPrvog.push_back(1);
    taPrvog.push_back(2);
    taPrvog.push_back(3);
    
    std::vector&lt;int&gt; indePronadjenih;
    
    for (int j = 1; j &lt; 4; j++)
    {
        for (int i = 1; i &lt; 4; i++)
        {
            if (!(Trougao::sadrziVrijednost(indePronadjenih, i)) &amp;&amp; Trougao::jednakiRealniBrojevi(t2.DajUgao(i), t1.DajUgao(j)))
            {
                indePronadjenih.push_back(i);
                tmDrugog.push_back(i);
                
                break;
            }
        }
    }
    
    if (tmDrugog.size() == 3)
    {
        if (Trougao::jednakiRealniBrojevi(t1.DajStranicu(1), t2.DajStranicu(tmDrugog[0])))
        {
            if (Trougao::jednakiRealniBrojevi(t1.DajStranicu(2), t2.DajStranicu(tmDrugog[1])))
            {
                if (Trougao::jednakiRealniBrojevi(t1.DajStranicu(3), t2.DajStranicu(tmDrugog[2])))
                {
                    if (Trougao::Orijentacija(t1.DajTjeme(1), t1.DajTjeme(2), t1.DajTjeme(3)) == Trougao::Orijentacija(t2.DajTjeme(tmDrugog[0]), t2.DajTjeme(tmDrugog[1]), t2.DajTjeme(tmDrugog[2])))
                        return true;
                }
            }
        }
    }
    
    return false;
}

bool DaLiSuSlicni(const Trougao &amp;t1, const Trougao &amp;t2)
{
    std::vector&lt;int&gt; tjePl;
    std::vector&lt;int&gt; tjmNa;
    
    tjePl.push_back(1);
    tjePl.push_back(2);
    tjePl.push_back(3);
    
    std::vector&lt;int&gt; indatPronadj;
    
    for (int j = 1; j &lt; 4; j++)
    {  
        for (int i = 1; i &lt; 4; i++)
        {
            if (!(Trougao::sadrziVrijednost(indatPronadj, i)) &amp;&amp; Trougao::jednakiRealniBrojevi(t2.DajUgao(i), t1.DajUgao(j)))
            {
                indatPronadj.push_back(i);
                tjmNa.push_back(i);
                
                break;
            }
        }
    }
    
    if (tjmNa.size() == 3)
        return true;
        
    return false;
}

int main ()
{   
    /*Trougao trou1(Tacka(3, 6), Tacka(3, 14), Tacka(9, 6));
    Trougao trou2(Tacka(3, 6), Tacka(9, 6), Tacka(3, 14));
    
    trou1.Ispisi();
    trou2.Ispisi();
    
    if (DaLiSuIdenticni(trou1, trou2))
        std::cout &lt;&lt; "JESU";
    else
        std::cout &lt;&lt; "NISU";
    std::cout &lt;&lt; std::endl;*/
        
    std::cout &lt;&lt; "Koliko zelite kreirati trouglova: ";
    int n;
    std::cin &gt;&gt; n;
    
    
    std::vector&lt;std::shared_ptr&lt;Trougao&gt;&gt; trouglovi(n);
    
    for (int i = 0; i &lt; n; i++)
    {
        std::cout &lt;&lt; "Unesite podatke za " &lt;&lt; i + 1 &lt;&lt; ". trougao (x1 y1 x2 y2 x3 y3): ";
        double x1;
        std::cin &gt;&gt; x1;
        double y1;
        std::cin &gt;&gt; y1;
    
        double x2;
        std::cin &gt;&gt; x2;
        double y2;
        std::cin &gt;&gt; y2;

        double x3;
        std::cin &gt;&gt; x3;
        double y3;
        std::cin &gt;&gt; y3;
        
        
            trouglovi[i] = std::make_shared&lt;Trougao&gt;(std::make_pair(x1, y1), std::make_pair(x2, y2), std::make_pair(x3, y3));
        
    }

    double delta_x;
    double delta_y;
    
    double ugaoRotacije;
    double faktorSkaliranja;
    
    std::cout &lt;&lt; "Unesite vektor translacije (dx dy): ";
    std::cin &gt;&gt; delta_x;
    std::cin &gt;&gt; delta_y;
    std::transform(trouglovi.begin(), trouglovi.end(), trouglovi.begin(), [delta_x, delta_y](std::shared_ptr&lt;Trougao&gt; tro) {tro-&gt;Transliraj(delta_x, delta_y); return tro; });
    
    std::cout &lt;&lt; "Unesite ugao rotacije: ";
    std::cin &gt;&gt; ugaoRotacije;
    std::transform(trouglovi.begin(), trouglovi.end(), trouglovi.begin(), [ugaoRotacije](std::shared_ptr&lt;Trougao&gt; tro) {tro-&gt;Rotiraj(tro-&gt;DajCentar(), ugaoRotacije); return tro; });
    
    std::cout &lt;&lt; "Unesite faktor skaliranja: ";
    std::cin &gt;&gt; faktorSkaliranja;
    std::transform(trouglovi.begin(), trouglovi.end(), trouglovi.begin(), [faktorSkaliranja](std::shared_ptr&lt;Trougao&gt; tro) {tro-&gt;Skaliraj(tro-&gt;DajTjeme(1), faktorSkaliranja); return tro; });
    
    std::sort(trouglovi.begin(), trouglovi.end(), [](std::shared_ptr&lt;Trougao&gt; tro1, std::shared_ptr&lt;Trougao&gt; tro2) {return tro1-&gt;DajPovrsinu() &lt; tro2-&gt;DajPovrsinu();})    ;
</font>    std::cout &lt;&lt; "Trouglovi nakon obavljenih transformacija: " &lt;&lt; std::endl;   
<a name="2"></a><font color="#0000FF"><a href="match145-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_9.gif"/></a>

    std::for_each(trouglovi.begin(), trouglovi.end(), [](std::shared_ptr&lt;Trougao&gt; shrptr){
       shrptr-&gt;Ispisi();
       std::cout &lt;&lt; std::endl;
    });
    
    std::cout &lt;&lt; "Trougao sa najmanjim obimom: ";
    
    (*std::min_element(trouglovi.begin(), trouglovi.end(), [](std::shared_ptr&lt;Trougao&gt; tro1, std::shared_ptr&lt;Trougao&gt; tro2) {return tro1-&gt;DajObim() &lt; tro2-&gt;DajObim(); }))-&gt;Ispisi();
    
    std::cout &lt;&lt; std::endl;
    std::cout &lt;&lt; "Parovi identicnih trouglova:" &lt;&lt; std::endl;
    
    for (int i = 0; i &lt; n; i++)
    {
        for (int j = i; j &lt; n; j++)
        {
            if (i != j)
                if (DaLiSuIdenticni(*trouglovi[i], *trouglovi[j]))
                {
                    trouglovi[i]-&gt;Ispisi();
                    std::cout &lt;&lt; " i ";
                    trouglovi[j]-&gt;Ispisi();
                    std::cout &lt;&lt; std::endl;
                }
        }
    }
    
    std::cout &lt;&lt; "Parovi podudarnih trouglova:" &lt;&lt; std::endl;

	for (int i = 0; i &lt; n; i++)
    {
        for (int j = i; j &lt; n; j++)
        {
            if (i != j)
                if (DaLiSuPodudarni(*trouglovi[i], *trouglovi[j]))
                {
                    trouglovi[i]-&gt;Ispisi();
                    std::cout &lt;&lt; " i ";
                    trouglovi[j]-&gt;Ispisi();
                    std::cout &lt;&lt; std::endl;
                }
        }
    }
    
    std::cout &lt;&lt; "Parovi slicnih trouglova:" &lt;&lt; std::endl;

	for (int i = 0; i &lt; n; i++)
    {
        for (int j = i; j &lt; n; j++)
        {
            if (i != j)
                if (DaLiSuSlicni(*trouglovi[i], *trouglovi[j]))
                {
                    trouglovi[i]-&gt;Ispisi();
                    std::cout &lt;&lt; " i ";
</font>                    trouglovi[j]-&gt;Ispisi();
                    std::cout &lt;&lt; std::endl;
                }
        }
    }
    
	return 0;
}</pre>
</body>
</html>
