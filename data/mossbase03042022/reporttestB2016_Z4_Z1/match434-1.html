<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z1/student2232.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z1/student2526.cpp<p></p><pre>
/B 2016/2017, ZadaÄ‡a 4, Zadatak 1
//Napomena: testovi ce biti dostupni dan pred rok!
#include &lt;iostream&gt;
#include &lt;memory&gt;
#include &lt;stdexcept&gt;
#include &lt;utility&gt;
#include &lt;vector&gt;
#include &lt;cmath&gt;
#include &lt;algorithm&gt;
bool jednaki(double a,double b){
    return std::fabs(a-b)&lt;1E-10;
}
typedef std::pair&lt;double, double&gt; Tacka;
class Trougao{
    Tacka t1,t2,t3;
    public:

Trougao(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3);
void Postavi(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3);
void Postavi(int indeks, const Tacka &amp;t);
static int Orijentacija(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3);
Tacka DajTjeme(int indeks) const;
double DajStranicu(int indeks) const;
double DajUgao(int indeks) const;
Tacka DajCentar() const;
double DajObim() const;
double DajPovrsinu() const;
bool DaLiJePozitivnoOrijentiran() const;
bool DaLiJeUnutra(const Tacka &amp;t) const;
void Ispisi() const;
void Transliraj(double delta_x, double delta_y);
void Centriraj(const Tacka &amp;t);
void Rotiraj(const Tacka &amp;t, double ugao);
void Skaliraj(const Tacka &amp;t, double faktor);
void Rotiraj(double ugao);
void Skaliraj(double faktor);
friend bool DaLiSuIdenticni(const Trougao &amp;t1, const Trougao &amp;t2);
friend bool DaLiSuPodudarni(const Trougao &amp;t1, const Trougao &amp;t2);
friend bool DaLiSuSlicni(const Trougao &amp;t1, const Trougao &amp;t2);
};
Trougao::Trougao(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3){
    if(Orijentacija(t1,t2,t3)==0) throw std::domain_error("Nekorektne pozicije tjemena");
<a name="7"></a><font color="#0000FF"><a href="match434-0.html#7" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_0.gif"/></a>

    Trougao::t1=t1;Trougao::t2=t2;Trougao::t3=t3;
}
void Trougao::Postavi(int indeks, const Tacka &amp;t){
    if(indeks&lt;1||indeks&gt;3) throw std::range_error("Nekorektan indeks");
    if(indeks==1){
</font>        if(Orijentacija(t,t2,t3)==0)throw std::domain_error("Nekorektne pozicije tjemena");
        t1=t;}
    else if(indeks==2){
         if(Orijentacija(t1,t,t3)==0)throw std::domain_error("Nekorektne pozicije tjemena");
         t2=t; 
    }
    else {
         if(Orijentacija(t1,t2,t)==0)throw std::domain_error("Nekorektne pozicije tjemena");
        t3=t;
    }
}
void Trougao::Postavi(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3){
    if(Orijentacija(t1,t2,t3)==0) throw std::domain_error("Nekorektne pozicije tjemena");
    Trougao::t1=t1;Trougao::t2=t2;Trougao::t3=t3;
}
double fun(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3){
     double provjera=t1.first*(t2.second-t3.second)-t2.first*(t1.second-t3.second)+t3.first*(t1.second-t2.second);
     return provjera;
}
int Trougao::Orijentacija(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3){
    double provjera=fun(t1,t2,t3);
    if(jednaki(provjera,0)) return 0;
    if(provjera&gt;0) return 1;
    return -1;
}
Tacka Trougao::DajTjeme(int indeks) const{
    if(indeks&lt;1||indeks&gt;3) throw std::range_error("Nekorektan indeks");
    if(indeks==1) return t1;
    if(indeks==2) return t2;
    return t3;
}
double Trougao::DajStranicu(int indeks) const{
    if(indeks&lt;1||indeks&gt;3) throw std::range_error("Nekorektan indeks");
    Tacka tmp1,tmp2;
     if(indeks==1){ tmp1=t2;tmp2=t3;}
     if(indeks==2){ tmp1=t1;tmp2=t3;}
     if(indeks==3){tmp1=t1;tmp2=t2;}
<a name="3"></a><font color="#00FFFF"><a href="match434-0.html#3" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_1.gif"/></a>

     double duzina=std::sqrt((tmp1.first-tmp2.first)*(tmp1.first-tmp2.first)+(tmp1.second-tmp2.second)*(tmp1.second-tmp2.second));
     return duzina;
}
double Trougao::DajUgao(int indeks) const{
     if(indeks&lt;1||indeks&gt;3) throw std::range_error("Nekorektan indeks");
</font>     Tacka tmp1,tmp2,tmp3;
     if(indeks==1){ tmp1=t1;tmp2=t2;tmp3=t3;}
     if(indeks==2){ tmp1=t2;tmp2=t1;tmp3=t3;}
     if(indeks==3){tmp1=t3;tmp2=t1;tmp3=t2;}
     double a=std::sqrt((tmp3.first-tmp2.first)*(tmp3.first-tmp2.first)+(tmp3.second-tmp2.second)*(tmp3.second-tmp2.second));
     double b=std::sqrt((tmp1.first-tmp3.first)*(tmp1.first-tmp3.first)+(tmp1.second-tmp3.second)*(tmp1.second-tmp3.second));
     double c=std::sqrt((tmp1.first-tmp2.first)*(tmp1.first-tmp2.first)+(tmp1.second-tmp2.second)*(tmp1.second-tmp2.second)); // a^2=b^2 +c^2-2bccosalfa =&gt;  cos(alfa)=(b^2+c^2-a^2)/2*bc
     double cosugla=(b*b+c*c-a*a)/(2*b*c);
     double ugao=std::acos(cosugla);
     return ugao;
}
Tacka Trougao::DajCentar() const{
<a name="4"></a><font color="#FF00FF"><a href="match434-0.html#4" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_1.gif"/></a>

    Tacka centar=std::make_pair((t1.first+t2.first+t3.first)/3.,(t1.second+t2.second+t3.second)/3.);
    return centar;
}
double Trougao::DajObim() const{
</font>    double a=std::sqrt((t1.first-t2.first)*(t1.first-t2.first)+(t1.second-t2.second)*(t1.second-t2.second));
    double b=std::sqrt((t1.first-t3.first)*(t1.first-t3.first)+(t1.second-t3.second)*(t1.second-t3.second));
    double c=std::sqrt((t3.first-t2.first)*(t3.first-t2.first)+(t3.second-t2.second)*(t3.second-t2.second));
    return (a+b+c);
}
double Trougao::DajPovrsinu() const{
    return std::fabs(fun(t1,t2,t3))/2.;
}
bool Trougao::DaLiJePozitivnoOrijentiran() const{
    double provjera=fun(t1,t2,t3);
    return provjera&gt;0;
}
bool Trougao::DaLiJeUnutra(const Tacka &amp;t) const{
    double provjera1,provjera2,provjera3,provjera4;
    provjera1=Orijentacija(t1,t2,t3);
    provjera2=Orijentacija(t1,t2,t);
    provjera3=Orijentacija(t2,t3,t);
    provjera4=Orijentacija(t3,t1,t);
    if((provjera1&gt;=0&amp;&amp;provjera2&gt;=0&amp;&amp;provjera3&gt;=0&amp;&amp;provjera4&gt;=0)||(provjera1&lt;=0&amp;&amp;provjera2&lt;=0&amp;&amp;provjera3&lt;=0&amp;&amp;provjera4&lt;=0)) return true;
<a name="1"></a><font color="#00FF00"><a href="match434-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_2.gif"/></a>

    return false;
}
void Trougao::Transliraj(double delta_x, double delta_y){
    t1.first+=delta_x;t2.first+=delta_x;t3.first+=delta_x;
    t1.second+=delta_y;t2.second+=delta_y;t3.second+=delta_y;
}
void Trougao::Centriraj(const Tacka &amp;t){
    Tacka centar=DajCentar();
    double deltax=t.first-centar.first,deltay=t.second-centar.second;
</font>    Transliraj(deltax,deltay);
}
<a name="2"></a><font color="#0000FF"><a href="match434-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_1.gif"/></a>

void RotirajTacku(Tacka &amp;t1,const Tacka &amp;t2,double ugao){
    double a=t2.first+(t1.first-t2.first)*std::cos(ugao)-(t1.second-t2.second)*std::sin(ugao);
    double b=t2.second+(t1.first-t2.first)*std::sin(ugao)+(t1.second-t2.second)*std::cos(ugao);
</font>    t1.first=a;t1.second=b;
}
void Trougao::Rotiraj(const Tacka &amp;t, double ugao){
    //ugao*=180/(4*atan(1));
    RotirajTacku(t1,t,ugao);
    RotirajTacku(t2,t,ugao);
    RotirajTacku(t3,t,ugao);
}
void Trougao::Skaliraj(const Tacka &amp;t, double faktor){
    if(jednaki(faktor,0.)) throw std::domain_error("Nekorektan faktor skaliranja");
    t1.first=t.first+faktor*(t1.first-t.first);
    t2.first=t.first+faktor*(t2.first-t.first);
    t3.first=t.first+faktor*(t3.first-t.first);
    t1.second=t.second+faktor*(t1.second-t.second);
    t2.second=t.second+faktor*(t2.second-t.second);
    t3.second=t.second+faktor*(t3.second-t.second);
}
void Trougao::Rotiraj(double ugao){
    Rotiraj(DajCentar(),ugao);
}
void Trougao::Skaliraj(double faktor){
    Skaliraj(DajCentar(),faktor);
}
bool DaLiSuIdenticni(const Trougao &amp;t1, const Trougao &amp;t2){
    std::vector&lt;Tacka&gt; v1{t1.t1,t1.t2,t1.t3};
    std::vector&lt;Tacka&gt;v2{t2.t1,t2.t2,t2.t3};
    std::sort(v1.begin(),v1.end(),[](Tacka t1,Tacka t2){
        return t1.first&lt;t2.first;
    });
    std::sort(v2.begin(),v2.end(),[](Tacka t1,Tacka t2){
        return t1.first&lt;t2.first;
    });
    bool isti=true;
    for(int i=0;i&lt;3;i++){
        if(!(jednaki(v1[i].first,v2[i].first))||!(jednaki(v1[i].second,v2[i].second))){
            isti=false;break;
        }
    }
    return isti;
}
bool DaLiSuPodudarni(const Trougao &amp;t1, const Trougao &amp;t2){
    std::vector&lt;std::pair&lt;Tacka,double&gt;&gt; v1,v2;
    std::vector&lt;Tacka&gt; v3{t1.t1,t1.t2,t1.t3},v4{t2.t1,t2.t2,t2.t3};
    for(int i=0;i&lt;3;i++){
        v1.push_back(std::make_pair(v3[i],t1.DajStranicu(i+1)));
        v2.push_back(std::make_pair(v4[i],t2.DajStranicu(i+1)));
    }
    std::sort(v1.begin(),v1.end(),[](std::pair&lt;Tacka,double&gt; t1,std::pair&lt;Tacka,double&gt; t2){
        return t1.second&lt;t2.second;
    });
    std::sort(v2.begin(),v2.end(),[](std::pair&lt;Tacka,double&gt; t1,std::pair&lt;Tacka,double&gt; t2){

        return t1.second&lt;t2.second;
    });
    if(Trougao::Orijentacija(v1[0].first,v1[1].first,v1[2].first)!=Trougao::Orijentacija(v2[0].first,v2[1].first,v2[2].first)) return false;
    bool podudarni=true;
    for(int i=0;i&lt;3;i++){
        if(!(jednaki(v1[i].second,v2[i].second))){
            podudarni=false;break;
        }
    }
    return podudarni;    
}
bool DaLiSuSlicni(const Trougao &amp;t1, const Trougao &amp;t2){
    std::vector&lt;std::pair&lt;Tacka,double&gt;&gt; v1,v2;
    std::vector&lt;Tacka&gt; v3{t1.t1,t1.t2,t1.t3},v4{t2.t1,t2.t2,t2.t3};
    for(int i=0;i&lt;3;i++){
        v1.push_back(std::make_pair(v3[i],t1.DajUgao(i+1)));
        v2.push_back(std::make_pair(v4[i],t2.DajUgao(i+1)));
    }
    std::sort(v1.begin(),v1.end(),[](std::pair&lt;Tacka,double&gt; t1,std::pair&lt;Tacka,double&gt; t2){
        return t1.second&lt;t2.second;
    });
    std::sort(v2.begin(),v2.end(),[](std::pair&lt;Tacka,double&gt; t1,std::pair&lt;Tacka,double&gt; t2){
        return t1.second&lt;t2.second;
    });
    if(Trougao::Orijentacija(v1[0].first,v1[1].first,v1[2].first)!=Trougao::Orijentacija(v2[0].first,v2[1].first,v2[2].first)) return false;
    bool podudarni=true;
    for(int i=0;i&lt;3;i++){
        if(!(jednaki(v1[i].second,v2[i].second))){
            podudarni=false;break;
        }
    }
    return podudarni;    
}
void Trougao::Ispisi() const{
    std::cout&lt;&lt;"(("&lt;&lt;t1.first&lt;&lt;","&lt;&lt;t1.second&lt;&lt;"),("&lt;&lt;t2.first&lt;&lt;","&lt;&lt;t2.second&lt;&lt;"),("&lt;&lt;t3.first&lt;&lt;","&lt;&lt;t3.second&lt;&lt;"))";
}


int main(){
<a name="6"></a><font color="#00FF00"><a href="match434-0.html#6" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_0.gif"/></a>

std::cout&lt;&lt;"Koliko zelite kreirati trouglova: ";
int n; std::cin&gt;&gt;n;
std::vector &lt;std::shared_ptr&lt;Trougao&gt;&gt; trouglovi;
try{
    for(int i=0;i&lt;n;i++){
</font>        Tacka t1,t2,t3;
        std::cout&lt;&lt;"Unesite podatke za "&lt;&lt;i+1&lt;&lt;". trougao (x1 y1 x2 y2 x3 y3): ";
        std::cin&gt;&gt;t1.first&gt;&gt;t1.second&gt;&gt;t2.first&gt;&gt;t2.second&gt;&gt;t3.first&gt;&gt;t3.second;
        try{
        trouglovi.emplace_back(std::make_shared&lt;Trougao&gt;(Trougao(t1,t2,t3)));
        }
        catch(std::domain_error e){
            std::cout&lt;&lt;e.what()&lt;&lt;", ponovite unos!"&lt;&lt;std::endl;
            i--;
        }
    }
}
catch(std::bad_alloc){
    return 0;
}
std::cout&lt;&lt;"Unesite vektor translacije (dx dy): ";
double dx,dy; std::cin&gt;&gt;dx&gt;&gt;dy;
std::cout&lt;&lt;"Unesite ugao rotacije: ";
double rot; std::cin&gt;&gt;rot;
std::cout&lt;&lt;"Unesite faktor skaliranja: ";
double skal; std::cin&gt;&gt;skal;
auto bla=std::transform(trouglovi.begin(),trouglovi.end(),trouglovi.begin(),[dx,dy,rot,skal](std::shared_ptr&lt;Trougao&gt; t1){
    (*t1).Transliraj(dx,dy);
    (*t1).Rotiraj(rot);
    (*t1).Skaliraj(t1-&gt;DajTjeme(1),skal);
    return t1;
});
std::sort(trouglovi.begin(),trouglovi.end(),[](std::shared_ptr&lt;Trougao&gt; t1,std::shared_ptr&lt;Trougao&gt; t2){
    return (*t1).DajPovrsinu()&lt;(*t2).DajPovrsinu();
});
std::cout&lt;&lt;"Trouglovi nakon obavljenih transformacija: "&lt;&lt;std::endl;
std::for_each(trouglovi.begin(),trouglovi.end(),[](std::shared_ptr&lt;Trougao&gt; t){ (*t).Ispisi(); std::cout&lt;&lt;std::endl;});
auto minimalni=std::min_element(trouglovi.begin(),trouglovi.end(),[](std::shared_ptr&lt;Trougao&gt; t1,std::shared_ptr&lt;Trougao&gt; t2){
    return (*t1).DajObim()&lt;(*t2).DajObim();
});
std::cout&lt;&lt;"Trougao sa najmanjim obimom: "; 
(**minimalni).Ispisi(); std::cout&lt;&lt;std::endl;
std::vector&lt;std::pair&lt;Trougao,Trougao&gt;&gt; identicni,podudarni,slicni;
for(int i=0;i&lt;trouglovi.size();i++){
<a name="0"></a><font color="#FF0000"><a href="match434-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_4.gif"/></a>

    for(int j=i+1;j&lt;trouglovi.size();j++){
        if(DaLiSuIdenticni(*trouglovi[i],*trouglovi[j])) identicni.emplace_back(std::make_pair(*trouglovi[i],*trouglovi[j]));
        if(DaLiSuPodudarni(*trouglovi[i],*trouglovi[j])) podudarni.emplace_back(std::make_pair(*trouglovi[i],*trouglovi[j]));
        if(DaLiSuSlicni(*trouglovi[i],*trouglovi[j])) slicni.emplace_back(std::make_pair(*trouglovi[i],*trouglovi[j]));
    }
}
if(identicni.size()==0) std::cout&lt;&lt;"Nema identicnih trouglova!"&lt;&lt;std::endl;
else{
std::cout&lt;&lt;"Parovi identicnih trouglova: "&lt;&lt;std::endl;
</font>std::for_each(identicni.begin(),identicni.end(),[](std::pair&lt;Trougao,Trougao&gt; t){
    t.first.Ispisi();
    std::cout&lt;&lt;" i ";
<a name="5"></a><font color="#FF0000"><a href="match434-0.html#5" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_1.gif"/></a>

    t.second.Ispisi(); std::cout&lt;&lt;std::endl;
});
}
if(podudarni.size()==0) std::cout&lt;&lt;"Nema podudarnih trouglova!"&lt;&lt;std::endl;
else{
std::cout&lt;&lt;"Parovi podudarnih trouglova: "&lt;&lt;std::endl;
</font>std::for_each(podudarni.begin(),podudarni.end(),[](std::pair&lt;Trougao,Trougao&gt; t){
    t.first.Ispisi();
    std::cout&lt;&lt;" i ";
    t.second.Ispisi(); std::cout&lt;&lt;std::endl;
});
}
if(slicni.size()==0) std::cout&lt;&lt;"Nema slicnih trouglova!"&lt;&lt;std::endl;
else{
std::cout&lt;&lt;"Parovi slicnih trouglova: "&lt;&lt;std::endl;
std::for_each(slicni.begin(),slicni.end(),[](std::pair&lt;Trougao,Trougao&gt; t){
    t.first.Ispisi();
    std::cout&lt;&lt;" i ";
    t.second.Ispisi(); std::cout&lt;&lt;std::endl;
});
}
return 0;
}</pre>
</body>
</html>
