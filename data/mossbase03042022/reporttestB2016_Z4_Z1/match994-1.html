<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z1/student3442.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z1/student6973.cpp<p></p><pre>
/B 2016/2017, ZadaÄ‡a 4, Zadatak 1
//Napomena: testovi ce biti dostupni dan pred rok!
#include &lt;iostream&gt;
#include &lt;utility&gt;
#include &lt;cmath&gt;
#include &lt;stdexcept&gt;
#include &lt;set&gt;
#include &lt;vector&gt;
#include &lt;memory&gt;
#include &lt;cmath&gt;
#include &lt;algorithm&gt;

typedef std::pair&lt;double, double&gt; Tacka;

class Trougao{
  Tacka a,b,c;
  static double Pom(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3);
  static bool Poredjenje(double a, double b){
    bool ok(false);
    if(std::abs(a - b) &lt; 0.0000001) ok = true;
    return ok;
  };
  public:
  Trougao(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3);
  void Postavi(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3);
  void Postavi(int indeks, const Tacka &amp;t);
  static int Orijentacija(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3);
  Tacka DajTjeme(int indeks) const;
  double DajStranicu(int indeks) const;
  double DajUgao(int indeks) const;
  Tacka DajCentar() const;
  double DajObim() const;
  double DajPovrsinu() const;
  bool DaLiJePozitivnoOrijentiran() const;
  bool DaLiJeUnutra(const Tacka &amp;t) const;
  void Ispisi() const;
  void Transliraj(double delta_x, double delta_y);
  void Centriraj(const Tacka &amp;t);
  void Rotiraj(const Tacka &amp;t, double ugao);
  void Skaliraj(const Tacka &amp;t, double faktor);
  void Rotiraj(double ugao);
  void Skaliraj(double faktor);
  friend bool DaLiSuIdenticni(const Trougao &amp;t1, const Trougao &amp;t2);
  friend bool DaLiSuPodudarni(const Trougao &amp;t1, const Trougao &amp;t2);
  friend bool DaLiSuSlicni(const Trougao &amp;t1, const Trougao &amp;t2);
};

double Trougao::Pom(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3){
  return t1.first*(t2.second - t3.second) - t2.first*(t1.second - t3.second) + t3.first*(t1.second - t2.second);
}

int Trougao::Orijentacija(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3) {
    int rezz(0);
    rezz = Pom(t1,t2,t3);
    if(rezz &lt; 0) rezz = -1;
    else if(rezz == 0) rezz = 0;
    else if(rezz &gt; 0) rezz = 1;
    return rezz;
}

Trougao::Trougao(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3) {
  Postavi(t1,t2,t3);
}

void Trougao::Postavi(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3) {
  if(Poredjenje(Orijentacija(t1,t2,t3), 0)) throw std::domain_error("Nekorektne pozicije tjemena");
  a = t1; b = t2; c= t3;
}

void Trougao::Postavi(int indeks, const Tacka &amp;t) {
  if(indeks != 1 &amp;&amp; indeks != 2 &amp;&amp; indeks != 3) throw std::range_error("Nekorektan indeks");
  if(indeks == 1){
    if(Poredjenje(Orijentacija(t,b,c),0)) throw std::domain_error("Nekorektne pozicije tjemena");
    a = t;
  }
  else if(indeks == 2){
    if(Poredjenje(Orijentacija(a,t,c),0)) throw std::domain_error("Nekorektne pozicije tjemena");
    b = t;
  }
  else {
    if(Poredjenje(Orijentacija(a,b,t),0)) throw std::domain_error("Nekorektne pozicije tjemena");
    c = t;
  }
}

Tacka Trougao::DajTjeme(int indeks) const {
  if(indeks != 1 &amp;&amp; indeks != 2 &amp;&amp; indeks != 3) throw std::range_error("Nekorektan indeks");
  if(indeks == 1) return a;
  else if(indeks == 2) return b;
  else {
    return c;
  }
}

double Trougao::DajStranicu(int indeks) const {
  if(indeks != 1 &amp;&amp; indeks != 2 &amp;&amp; indeks != 3) throw std::range_error("Nekorektan indeks");
<a name="3"></a><font color="#00FFFF"><a href="match994-0.html#3" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_1.gif"/></a>

  if(indeks == 1) return std::sqrt((b.first - c.first)*(b.first - c.first) + (b.second - c.second) * (b.second - c.second));
  else if(indeks == 2) return std::sqrt((a.first - c.first)*(a.first - c.first) + (a.second - c.second) * (a.second - c.second));
</font>  else {
    return std::sqrt((b.first - a.first)*(b.first - a.first) + (b.second - a.second) * (b.second - a.second));
  }
}

double Trougao::DajUgao(int indeks) const {
  if(indeks != 1 &amp;&amp; indeks != 2 &amp;&amp; indeks != 3) throw std::range_error("Nekorektan indeks");
<a name="1"></a><font color="#00FF00"><a href="match994-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_1.gif"/></a>

  if(indeks == 1) return std::acos((DajStranicu(2) * DajStranicu(2) + DajStranicu(3) * DajStranicu(3) - DajStranicu(1) * DajStranicu(1))/
  (2*DajStranicu(2) * DajStranicu(3)));
  else if(indeks == 2) return std::acos((DajStranicu(1) * DajStranicu(1) + DajStranicu(3) * DajStranicu(3) - DajStranicu(2) * DajStranicu(2))/
  (2*DajStranicu(1) * DajStranicu(3)));
</font>  else {
<a name="6"></a><font color="#00FF00"><a href="match994-0.html#6" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_0.gif"/></a>

    return std::acos((DajStranicu(1) * DajStranicu(1) + DajStranicu(2) * DajStranicu(2) - DajStranicu(3) * DajStranicu(3))/
  (2*DajStranicu(2) * DajStranicu(1)));
  }
}

Tacka Trougao::DajCentar() const {
</font>  Tacka t;
  t.first = (a.first + b.first + c.first)/3;
  t.second = (a.second + b.second + c.second)/3;
  return t;
}

double Trougao::DajObim() const {
  return DajStranicu(1) + DajStranicu(2) + DajStranicu(3);
}

double Trougao::DajPovrsinu() const {
  return (std::abs(Pom(a,b,c))/2);
}

bool Trougao::DaLiJePozitivnoOrijentiran() const {
  if(Poredjenje(Orijentacija(a,b,c), 1)) return true;
  else{
    return false;
  } 
}

bool Trougao::DaLiJeUnutra(const Tacka &amp;t) const {
  if(DaLiJePozitivnoOrijentiran()) {
    if(Orijentacija(a,b,t) == 1 &amp;&amp; Orijentacija(b,c,t) == 1 &amp;&amp; Orijentacija(c,a,t) == 1) return true;
    else return false;
  }
  else {
    if(Orijentacija(a,b,t) == -1 &amp;&amp; Orijentacija(b,c,t) == -1 &amp;&amp; Orijentacija(c,a,t) == -1) return true;
    else return false;
  }
  return false;
}

void Trougao::Ispisi() const {
  std::cout &lt;&lt; "((" &lt;&lt; a.first &lt;&lt;  "," &lt;&lt; a.second &lt;&lt; "),(" &lt;&lt;  b.first &lt;&lt;  "," &lt;&lt; b.second &lt;&lt; "),(" &lt;&lt;
   c.first &lt;&lt;  "," &lt;&lt; c.second &lt;&lt; "))" &lt;&lt; std::endl;
}

void Trougao::Transliraj(double delta_x, double delta_y) {
  a.first += delta_x; a.second += delta_y;
  b.first += delta_x; b.second += delta_y;
  c.first += delta_x; c.second += delta_y;
}

void Trougao::Centriraj(const Tacka &amp;t) {
  double delta_bx(b.first - a.first);
  double delta_by(b.second - a.second);
  double delta_cx(c.first - a.first);
  double delta_cy(c.second - a.second);
  double delta_ax(a.first - DajCentar().first);
  double delta_ay(a.second - DajCentar().second);
  a.first = t.first + delta_ax;
  a.second = t.second + delta_ay;
  b.first = a.first + delta_bx;
  b.second = a.second + delta_by;
  c.first = a.first + delta_cx;
  c.second = a.second + delta_cy;
}

<a name="4"></a><font color="#FF00FF"><a href="match994-0.html#4" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_0.gif"/></a>

void Trougao::Rotiraj(const Tacka &amp;t, double ugao) {
  a.first = t.first + ((a.first - t.first) * std::cos(ugao)) - ((a.second - t.second) * std::sin(ugao));
</font>  a.second = t.second + (a.first - t.first) * std::sin(ugao) - (a.second - t.second) * std::cos(ugao);
  b.first = t.first + (b.first - t.first) * std::cos(ugao) - (b.second - t.second) * std::sin(ugao);
  b.second = t.second + (b.first - t.first) * std::sin(ugao) - (b.second - t.second) * std::cos(ugao);
  c.first = t.first + (c.first - t.first) * std::cos(ugao) - (c.second - t.second) * std::sin(ugao);
  c.second = t.second + (c.first - t.first) * std::sin(ugao) - (c.second - t.second) * std::cos(ugao);
}

void Trougao::Skaliraj(const Tacka &amp;t, double faktor) {
  if(Poredjenje(faktor,0)) throw std::domain_error("Nekorektan faktor skaliranja");
  if(a == t) {
    b.first = a.first + faktor * (b.first - a.first);
    b.second = a.second + faktor * (b.second - a.second);
    c.first = a.first + faktor * (c.first - a.first);
    c.second = a.second + faktor * (c.second - a.second);
  }
  if(b == t) {
    a.first = b.first + faktor * (a.first - b.first);
    a.second = b.second + faktor * (a.second - b.second);
    c.first = b.first + faktor * (c.first - b.first);
    c.second = b.second + faktor * (c.second - b.second);
  }
  else if(c == t) {
    b.first = c.first + faktor * (b.first - c.first);
    b.second = c.second + faktor * (b.second - c.second);
    a.first = c.first + faktor * (a.first - c.first);
    a.second = c.second + faktor * (a.second - c.second);
  }
}

void Trougao::Rotiraj(double ugao) {
  a.first = DajCentar().first + ((a.first - DajCentar().first) * std::cos(ugao)) - ((a.second - DajCentar().second) * std::sin(ugao));
  a.second = DajCentar().second + ((a.first - DajCentar().first) * std::sin(ugao)) - ((a.second - DajCentar().second) * std::cos(ugao));
  b.first = DajCentar().first + (b.first - DajCentar().first) * std::cos(ugao) - (b.second - DajCentar().second) * std::sin(ugao);
  b.second = DajCentar().second + (b.first - DajCentar().first) * std::sin(ugao) - (b.second - DajCentar().second) * std::cos(ugao);
  c.first = DajCentar().first + (c.first - DajCentar().first) * std::cos(ugao) - (c.second - DajCentar().second) * std::sin(ugao);
  c.second = DajCentar().second + (c.first - DajCentar().first) * std::sin(ugao) - (c.second - DajCentar().second) * std::cos(ugao); 
}

void Trougao::Skaliraj(double faktor) {
  a.first = DajCentar().first + faktor * (a.first - DajCentar().first);
  a.second = DajCentar().second + faktor * (a.second - DajCentar().second); 
  b.first = DajCentar().first + faktor * (b.first - DajCentar().first);
  b.second = DajCentar().second + faktor * (b.second - DajCentar().second);
  c.first = DajCentar().first + faktor * (c.first - DajCentar().first);
  c.second = DajCentar().second + faktor * (c.second - DajCentar().second);
}

bool DaLiSuIdenticni(const Trougao &amp;t1, const Trougao &amp;t2) {
  if(t1.a == t2.a) {
    if(t1.b == t2.b &amp;&amp; t1.c == t2.c) return true;
    else if(t1.b == t2. c &amp;&amp; t1.c == t2.b) return true;
    return false;
  }
  else if(t1.a == t2.b) {
    if(t1.b == t2.a &amp;&amp; t1.c == t2.c) return true;
    else if(t1.b == t2.c &amp;&amp; t1.c == t2.a) return true;
    return false;
  }
  else if(t1.a == t2.c) {
    if(t1.b == t2.a &amp;&amp; t1.c == t2.b) return true;
    else if(t1.b == t2.b &amp;&amp; t1.c == t2.a) return true;
    return false;
  }
  return false;
}

bool DaLiSuSlicni(const Trougao &amp;t1, const Trougao &amp;t2){
  std::multiset&lt;double&gt; m1{t1.DajStranicu(1), t1.DajStranicu(2), t1.DajStranicu(3)},
  m2{t2.DajStranicu(1), t2.DajStranicu(2), t2.DajStranicu(3)};
  auto it1(m1.begin());
  auto it2(m2.begin());
  double koeficijenti(*it1 / *it2);
  bool slicni(true);
  for(int i = 0; i &lt; 3; i++) {
      double pom(*it1 / *it2);
      if(!Trougao::Poredjenje(pom,koeficijenti)) {
        slicni = false;
        break;
      }
      it1++;
      it2++;
  }
  return slicni;
}

bool DaLiSuPodudarni(const Trougao &amp;t1, const Trougao &amp;t2){
  int brojac(3);
  std::vector&lt;double&gt; v1{t1.DajStranicu(1), t1.DajStranicu(2), t1.DajStranicu(3)}, 
  v2{t2.DajStranicu(1), t2.DajStranicu(2), t2.DajStranicu(3)};
  bool podudarni(true);
  for(int i = 0; i &lt; brojac; i++) {
    for(int j = 0; j &lt; brojac; j++) {
      if(i &lt; v1.size() &amp;&amp; Trougao::Poredjenje(v1[i], v2[j])) {
        v1.erase(v1.begin() + i);
        v2.erase(v2.begin() + j);
        brojac--;
        j = -1;
      }
    }
    if(brojac != 0) podudarni = false;
    return podudarni;
  }
  
  return podudarni;
}

int main ()
{
  double PI=4*std::atan(1);
    std::cout&lt;&lt;"Koliko zelite kreirati trouglova: ";
    int n;
    std::cin&gt;&gt;n;
    double a,b,c,d, e, f;
    std::vector&lt;std::shared_ptr&lt;Trougao&gt;&gt;v(n);
    for(int i=0; i&lt;n; i++) {
        std::cout&lt;&lt;"Unesite podatke za "&lt;&lt;i+1&lt;&lt;". trougao (x1 y1 x2 y2 x3 y3): ";
        
        std::cin&gt;&gt;a&gt;&gt;b&gt;&gt;c&gt;&gt;d&gt;&gt;e&gt;&gt;f;
        try {
            v[i]=std::make_shared&lt;Trougao&gt; (Trougao(Tacka(a,b),Tacka(c,d),Tacka(e,f)));
        }
       catch(std::domain_error izuzetak) {
           std::cout&lt;&lt;izuzetak.what()&lt;&lt;std::endl;
           i--;
           std::cin.ignore();
           std::cin.clear();
       }
    }
<a name="0"></a><font color="#FF0000"><a href="match994-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_2.gif"/></a>

    std::cout&lt;&lt;"Unesite vektor translacije (dx dy): ";
    double x,y;
    std::cin&gt;&gt;x&gt;&gt;y;
    std::transform(v.begin(),v.end(),v.begin(),[x,y](std::shared_ptr&lt;Trougao&gt; t){
        t-&gt;Transliraj(x,y);
        return t;
    });
    
    std::cout&lt;&lt;"Unesite ugao rotacije: ";
    double ugao;
    std::cin&gt;&gt;ugao;
</font>    ugao*=(PI/180);
<a name="2"></a><font color="#0000FF"><a href="match994-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_1.gif"/></a>

    std::transform(v.begin(),v.end(),v.begin(),[ugao](std::shared_ptr&lt;Trougao&gt; t){t-&gt;Rotiraj(ugao);return t;});
    std::cout&lt;&lt;"Unesite faktor skaliranja: ";
    double faktor;
    std::cin&gt;&gt;faktor;
    std::transform(v.begin(),v.end(),v.begin(),[faktor](std::shared_ptr&lt;Trougao&gt; t){t-&gt;Skaliraj(t-&gt;DajTjeme(1),faktor); return t;});
</font>    std::sort(v.begin(),v.end(),[](std::shared_ptr&lt;Trougao&gt; t1,std::shared_ptr&lt;Trougao&gt; t2){
        return t1-&gt;DajPovrsinu()&lt;t2-&gt;DajPovrsinu();
    });
    
    std::cout&lt;&lt;"Trouglovi nakon obavljenih transformacija:"&lt;&lt;std::endl;
    std::for_each(v.begin(),v.end(),[](std::shared_ptr&lt;Trougao&gt; t){
        t-&gt;Ispisi();
        }
    );
    std::cout&lt;&lt;"Trougao sa najmanjim obimom: ";
<a name="5"></a><font color="#FF0000"><a href="match994-0.html#5" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_0.gif"/></a>

    auto it=std::min_element(v.begin(),v.end(),[](std::shared_ptr&lt;Trougao&gt; t1,std::shared_ptr&lt;Trougao&gt; t2)
    {return t1-&gt;DajObim()&gt;t2-&gt;DajObim();});
    (*it)-&gt;Ispisi();
    std::cout&lt;&lt;"Parovi identicnih trouglova:"&lt;&lt;std::endl;
</font>    for(int i=0; i&lt;n-1; i++) {
        for(int j=i+1; j&lt;n; j++) {
            if(DaLiSuIdenticni(*v[i],*v[j])) {
                v[i]-&gt;Ispisi();
                std::cout&lt;&lt;" i ";
                v[j]-&gt;Ispisi();
                //std::cout&lt;&lt;std::endl;
            }
        }
    }
    
     std::cout&lt;&lt;"Parovi podudarnih trouglova:"&lt;&lt;std::endl;
     for(int i=0; i&lt;n-1; i++) {
        for(int j=i+1; j&lt;n; j++) {
            if(DaLiSuPodudarni(*v[i],*v[j])) {
                v[i]-&gt;Ispisi();
                std::cout&lt;&lt;" i ";
                v[j]-&gt;Ispisi();
                std::cout&lt;&lt;std::endl;
            }
        }
    }
    
     std::cout&lt;&lt;"Parovi slicnih trouglova:"&lt;&lt;std::endl;
     int br=0;
     for(int i=0; i&lt;n-1; i++) {
        for(int j=i+1; j&lt;n; j++) {
            if(DaLiSuSlicni(*v[i],*v[j])) {
                v[i]-&gt;Ispisi();
                std::cout&lt;&lt;" i ";
                v[j]-&gt;Ispisi();
                std::cout&lt;&lt;std::endl;
                br++;
            }
        }
     }
	return 0;
}</pre>
</body>
</html>
