<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z1/student1466.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2016/Z4/Z1/student4949.cpp<p></p><pre>
/B 2016/2017, ZadaÄ‡a 4, Zadatak 1
//Napomena: testovi ce biti dostupni dan pred rok!
#include &lt;iostream&gt;
#include&lt;memory&gt;
#include&lt;stdexcept&gt;
#include&lt;cmath&gt;
#include&lt;vector&gt;
#include&lt;algorithm&gt;
using namespace std;

<a name="3"></a><font color="#00FFFF"><a href="match954-0.html#3" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_1.gif"/></a>

typedef std::pair&lt;double,double&gt; Tacka;

class Trougao{
    Tacka niz[3];
    static bool JelJ(double x, double y, double Eps=1e-10){
        return std::fabs(x-y)&lt;=Eps*(std::fabs(x)+std::fabs(y));
</font>    }
    static double izraz(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3){
        return (t1.first*(t2.second - t3.second) - t2.first*(t1.second - t3.second) + t3.first*(t1.second - t2.second));
    }
    
    public:
    Trougao(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3){
        if(Orijentacija(t1,t2,t3)==0) throw domain_error("Nekorektne pozicije tjemena");
<a name="4"></a><font color="#FF00FF"><a href="match954-0.html#4" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_0.gif"/></a>

        niz[0]=t1; niz[1]=t2; niz[2]=t3;
    }
    
    void Postavi(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3){
</font>        *this=Trougao(t1,t2,t3);
    } 
    
    void Postavi(int indeks, const Tacka &amp;t){
        if(indeks&gt;3 || indeks&lt;=0) throw range_error("Nekorektan indeks");
        niz[indeks-1].first=t.first; niz[indeks-1].second=t.second;
    }
    
    static int Orijentacija(const Tacka &amp;t1, const Tacka &amp;t2, const Tacka &amp;t3){
        double pom=izraz(t1,t2,t3);
        if(JelJ(pom, 0)) return 0;
        if(pom&gt;0) return 1;
        if(pom&lt;0) return -1;
        
        
    }
    
    Tacka DajTjeme(int indeks) const{
        if(indeks&gt;3 || indeks&lt;=0) throw range_error("Nekorektan indeks");
        return niz[indeks-1];
    }
    
    double DajStranicu(int indeks) const{
<a name="0"></a><font color="#FF0000"><a href="match954-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_3.gif"/></a>

        if(indeks&gt;3 || indeks&lt;=0) throw range_error("Nekorektan indeks");
        
        if(indeks==1) return sqrt((niz[1].first-niz[2].first)*(niz[1].first-niz[2].first) + ((niz[1].second-niz[2].second)*(niz[1].second-niz[2].second)));
        if(indeks==2) return sqrt((niz[0].first-niz[2].first)*(niz[0].first-niz[2].first) + ((niz[0].second-niz[2].second)*(niz[0].second-niz[2].second)));
</font><a name="2"></a><font color="#0000FF"><a href="match954-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_1.gif"/></a>

        if(indeks==3) return sqrt((niz[0].first-niz[1].first)*(niz[0].first-niz[1].first) + ((niz[0].second-niz[1].second)*(niz[0].second-niz[1].second)));
        
    }
    
    double DajUgao(int indeks) const;
</font>    Tacka DajCentar() const;
    double DajObim() const{
        return DajStranicu(1)+DajStranicu(2)+DajStranicu(3);
    }
    double DajPovrsinu() const{
       return abs(izraz(niz[0], niz[1],niz[2]))/2;
    }
    bool DaLiJePozitivnoOrjentiran() const{
        if(Orijentacija(niz[0],niz[1],niz[2])) return 1;
        return 0;
    }
    bool DaLiJeUnutra(const Tacka &amp;t) const;
    void Ispisi() const{
<a name="5"></a><font color="#FF0000"><a href="match954-0.html#5" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_0.gif"/></a>

        cout&lt;&lt;"(("&lt;&lt;niz[0].first&lt;&lt;","&lt;&lt;niz[0].second&lt;&lt;"),"&lt;&lt;"("&lt;&lt;niz[1].first&lt;&lt;","&lt;&lt;niz[1].second&lt;&lt;"),"&lt;&lt;"("&lt;&lt;niz[2].first&lt;&lt;","&lt;&lt;niz[2].second&lt;&lt;"))";
        
    }
    void Transliraj(double delta_x, double delta_y);
</font>    void Centriraj(const Tacka &amp;t);
    void Rotiraj(const Tacka &amp;t, double ugao);
    void Skaliraj(const Tacka &amp;t, double faktor);
    void Rotiraj(double ugao);
    void Skaliraj(double faktor);
    
    friend bool DaLiSuIdenticni(const Trougao &amp;t1, const Trougao &amp;t2){
        int brojac=0;
       for(int i=0;i&lt;3;i++){
           for(int j=0;j&lt;3;j++){
               if(JelJ(t1.niz[i].first, t2.niz[j].first)==1 &amp;&amp; JelJ(t1.niz[i].second, t2.niz[j].second)==1) brojac++;
           }
       }
       if(brojac==3) return 1;
       return 0;
       
    }
    friend bool DaLiSuPodudarni(const Trougao &amp;t1, const Trougao &amp;t2){
        double a=t1.DajStranicu(1), b=t1.DajStranicu(2), c=t1.DajStranicu(3);
        double a2=t2.DajStranicu(1), b2=t2.DajStranicu(2), c2=t2.DajStranicu(3);
        vector&lt;double&gt; v1{a,b,c}, v2{a2,b2,c2};
        vector&lt;int&gt; v{0,1,2},vv;
        vv=v;
        
        double pom;
        for(int i=0;i&lt;3;i++){
            for(int j=i;j&lt;3;j++){
                if(v1[i]&gt;v1[j]){
                    pom=v1[i];
                    v1[i]=v1[j];
                    v1[j]=pom;
                    
                    int pom1=v[i];
                    v[i]=v[j];
                    v[j]=pom1;
                }
                
                if(v2[i]&gt;v2[j]){
                    pom=v2[i];
                    v2[i]=v2[j];
                    v2[j]=pom;
                    
                    int pom1=vv[i];
                    vv[i]=vv[j];
                    vv[j]=pom1;
                }
            }
        }
        if(Orijentacija(t1.niz[v[0]], t1.niz[v[1]], t1.niz[v[2]])==Orijentacija(t2.niz[vv[0]], t2.niz[vv[1]], t2.niz[vv[2]]) &amp;&amp; v1==v2) return 1;
        return 0;
        
    }
    friend bool DaLiSuSlicni(const Trougao &amp;t1, const Trougao &amp;t2){
        double a=t1.DajStranicu(1), b=t1.DajStranicu(2), c=t1.DajStranicu(3);
        double a2=t2.DajStranicu(1), b2=t2.DajStranicu(2), c2=t2.DajStranicu(3);
        vector&lt;double&gt; v1{a,b,c}, v2{a2,b2,c2};
        vector&lt;int&gt; v{0,1,2}, vv=v;
        
        if(DaLiSuPodudarni(t1,t2)) return 1;
        
        double pom;
        for(int i=0;i&lt;3;i++){
            for(int j=i;j&lt;3;j++){
                if(v[i]&gt;v1[j]){
                    pom=v1[i];
                    v1[i]=v1[j];
                    v1[j]=pom;
                    
                    int pom1=v[i];
                    v[i]=v[j];
                    v[j]=pom1;
                }
                if(v2[i]&gt;v2[j]){
                    pom=v2[i];
                    v2[i]=v2[j];
                    v2[j]=pom;
                    
                    int pom1=vv[i];
                    vv[i]=vv[j];
                    vv[j]=pom1;
                }
                
            }
        }
        
        bool jest=0;
        bool jest1=0;
        if(Orijentacija(t1.niz[v[0]], t1.niz[v[1]], t1.niz[v[2]])==Orijentacija(t2.niz[vv[0]], t2.niz[vv[1]], t2.niz[vv[2]])) jest=1;
        if(JelJ(v1[0]/v2[0],v1[1]/v2[1]) &amp;&amp; JelJ(v1[0]/v2[0],v1[2]/v2[2])) jest1=1;
        
        if(jest &amp;&amp; jest1) return 1;
        return 0;
    }
};

double Trougao::DajUgao(int indeks) const{
    if(indeks&gt;3 || indeks&lt;=0) throw range_error("Nekorektan indeks");
    
    double i,a,b,c;
    a=DajStranicu(1);
    b=DajStranicu(2);
    c=DajStranicu(3);
    
    if(indeks==1){
        i=(b*b+c*c-a*a)/2*b*c;
        return acos(i);
    }
    if(indeks==2){
        i=(a*a+c*c-b*b)/2*a*c;
        return acos(i);
    }
    if(indeks==1){
        i=(b*b+a*a-c*c)/2*b*a;
        return acos(i);
    }
}
<a name="1"></a><font color="#00FF00"><a href="match954-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_1.gif"/></a>

Tacka Trougao::DajCentar() const{
    Tacka c;
    c.first=(niz[0].first+niz[1].first+niz[2].first)/3;
    c.second=(niz[0].second+niz[1].second+niz[2].second)/3;
    
    return c;
</font>}
bool Trougao::DaLiJeUnutra(const Tacka &amp;t) const{
    int a,b,c,d;
    a=Orijentacija(niz[0], niz[1], niz[2]);
    b=Orijentacija(niz[0], niz[1], t);
    c=Orijentacija(niz[1], niz[2], t);
    d=Orijentacija(niz[2], niz[0], t);
    
    if(a==b &amp;&amp; a==c &amp;&amp; a==d) return 1;
    return 0;
}
void Trougao::Transliraj(double delta_x, double delta_y){
    for(int i=0;i&lt;3;i++){
        niz[i].first+=delta_x;
        niz[i].second+=delta_y;
    }
}
void Trougao::Centriraj(const Tacka &amp;t){
    Tacka c=DajCentar();
    
    double delta_x=c.first-t.first;
    double delta_y=c.second-t.second;
    
    Transliraj(delta_x,delta_y);
    
}
void Trougao::Rotiraj(const Tacka &amp;t, double ugao){
    double x,y;
    for(int i=0;i&lt;3;i++){
    
        x=t.first+(niz[i].first-t.first)*cos(ugao) - (niz[i].second-t.second)*sin(ugao);
        y=t.second+(niz[i].first-t.first)*sin(ugao) + (niz[i].second-t.second)*cos(ugao);
        
        niz[i].first=x;
        niz[i].second=y;
    }
}
void Trougao::Skaliraj(const Tacka &amp;t, double faktor){
    if(faktor==0) throw domain_error("Nekorektan faktor skaliranja");
    for(int i=0;i&lt;3;i++){
        niz[i].first=t.first+faktor*(niz[i].first-t.first);
        niz[i].second=t.second+faktor*(niz[i].second-t.second);
    }
}
void Trougao::Skaliraj(double faktor){
    if(JelJ(faktor,0)) throw domain_error("Nekorektan faktor skaliranja");
    Tacka c=DajCentar();
    Skaliraj(c,faktor);
}
void Trougao::Rotiraj(double ugao){
    Tacka c=DajCentar();
    Rotiraj(c,ugao);
}



int main ()
{
    
    

 cout&lt;&lt;"Koliko zelite kreirati trouglova: ";
    int n;
    cin&gt;&gt;n;
  
    vector&lt;shared_ptr&lt;Trougao&gt;&gt; v;
    for(int i=0;i&lt;n;i++){
        
        cout&lt;&lt;"Unesite podatke za "&lt;&lt;i+1&lt;&lt;". trougao (x1 y1 x2 y2 x3 y3): ";
        double x1,y1,x2,y2,x3,y3;
        cin&gt;&gt;x1&gt;&gt;y1&gt;&gt;x2&gt;&gt;y2&gt;&gt;x3&gt;&gt;y3;
        Tacka t1,t2,t3;
        t1.first=x1; t1.second=y1;
        t2.first=x2; t2.second=y2;
        t3.first=x3; t3.second=y3;
        if(std::abs(Trougao::Orijentacija(t1,t2,t3))){
            auto tr=make_shared&lt;Trougao&gt;(t1,t2,t3);
            v.push_back(tr);
        }
        else{
        while(!Trougao::Orijentacija(t1,t2,t3)){
            cout&lt;&lt;"Nekorektne pozicije tjemena, ponovite unos!"&lt;&lt;endl;
            cout&lt;&lt;"Unesite podatke za "&lt;&lt;i+1&lt;&lt;". trougao (x1 y1 x2 y2 x3 y3): ";
            double a,b,c,d,e,f;
            cin&gt;&gt;a&gt;&gt;b&gt;&gt;c&gt;&gt;d&gt;&gt;e&gt;&gt;f;
            t1.first=a; t1.second=b;
            t2.first=c; t2.second=d;
            t3.first=e; t3.second=f;
            
        }
        auto tr=make_shared&lt;Trougao&gt;(t1,t2,t3);
        v.push_back(tr);
}
        
        
    }
    
    cout&lt;&lt;"Unesite vektor translacije (dx dy): ";
    double x,y;
    cin&gt;&gt;x&gt;&gt;y;
    transform(v.begin(), v.end(),v.begin(), [=](shared_ptr&lt;Trougao&gt; pok){
        pok-&gt;Transliraj(x,y);
        return pok;
    });
    
    double ugao, fskal;
    cout&lt;&lt;"Unesite ugao rotacije: ";
    cin&gt;&gt;ugao;
    cout&lt;&lt;"Unesite faktor skaliranja: ";
    cin&gt;&gt;fskal;
    cout&lt;&lt;"Trouglovi nakon obavljenih transformacija: ";
    transform(v.begin(), v.end(),v.begin(), [=](shared_ptr&lt;Trougao&gt; pok){
        pok-&gt;Rotiraj(ugao);
        return pok;
    });
    transform(v.begin(), v.end(),v.begin(), [=](shared_ptr&lt;Trougao&gt; pok){
        pok-&gt;Skaliraj(pok-&gt;DajTjeme(1), fskal);
        return pok;
    });
    
    sort(v.begin(),v.end(), [=](shared_ptr&lt;Trougao&gt; pok,shared_ptr&lt;Trougao&gt; pok1 ){
        return pok-&gt;DajPovrsinu()&lt;pok1-&gt;DajPovrsinu();
    });
    
    for_each(v.begin(),v.end(), [=](shared_ptr&lt;Trougao&gt; pok){
       cout&lt;&lt;endl;
        pok-&gt;Ispisi(); 
    });
    
    auto xx=min_element(v.begin(),v.end(), [=](shared_ptr&lt;Trougao&gt; pok, shared_ptr&lt;Trougao&gt; pok1){
        return pok-&gt;DajObim()&lt;pok1-&gt;DajObim();
    });
    cout&lt;&lt;endl;
    cout&lt;&lt;"Trougao sa najmanjim obimom: ";
    (*xx)-&gt;Ispisi();
    
    int brojac1=0, br2=0,br3=0;
    for(int i=0;i&lt;n;i++){
        for(int j=i+1;j&lt;n;j++){
            if(DaLiSuIdenticni(*v[i], *v[j])) brojac1++;
            if(DaLiSuPodudarni(*v[i], *v[j])) br2++;
            if(DaLiSuSlicni(*v[i],*v[j])) br3++;
        }
    }
    cout&lt;&lt;endl;
    if(brojac1==0) cout&lt;&lt;"Nema identicnih trouglova!";
    else{
        cout&lt;&lt;"Parovi identicnih trouglova: "&lt;&lt;endl;
        for(int i=0;i&lt;n;i++){
            for(int j=i+1;j&lt;n;j++){
                if(DaLiSuIdenticni(*v[i],*v[j])) {
                    v[i]-&gt;Ispisi();
                    cout&lt;&lt;" i ";
                    v[j]-&gt;Ispisi();
                    cout&lt;&lt;endl;
                }
                
            }
        }
        
        
    }
    cout&lt;&lt;endl;
    if(br2==0) cout&lt;&lt;"Nema podudarnih trouglova!";
    else{
        cout&lt;&lt;"Parovi podudarnih trouglova: "&lt;&lt;endl;
        for(int i=0;i&lt;n;i++){
            for(int j=i+1;j&lt;n;j++){
                if(DaLiSuPodudarni(*v[i],*v[j])) {
                    v[i]-&gt;Ispisi();
                    cout&lt;&lt;" i ";
                    v[j]-&gt;Ispisi();
                    cout&lt;&lt;endl; 
                }
               
            }
        }
    }
    cout&lt;&lt;endl;
    if(br3==0) cout&lt;&lt;"Nema slicnih trouglova!";
    else{
        cout&lt;&lt;"Parovi slicnih trouglova: "&lt;&lt;endl;
        for(int i=0;i&lt;n;i++){
            for(int j=i+1;j&lt;n;j++){
                if(DaLiSuSlicni(*v[i],*v[j])) {
                    v[i]-&gt;Ispisi();
                    cout&lt;&lt;" i ";
                    v[j]-&gt;Ispisi();
                    cout&lt;&lt;endl;  
                }
              
            }
        }
    }
    
    
	return 0;
}</pre>
</body>
</html>
