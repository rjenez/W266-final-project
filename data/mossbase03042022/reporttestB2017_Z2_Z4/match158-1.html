<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z2/Z4/student7709.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z2/Z4/student2210.cpp<p></p><pre>
#include &lt;iostream&gt;
#include &lt;string&gt;
#include &lt;stdexcept&gt;
#include &lt;vector&gt;
#include &lt;algorithm&gt;
 
<a name="0"></a><font color="#FF0000"><a href="match158-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_99.gif"/></a>

class ApstraktniStudent
{
    std::string ime,prezime;
    int brindeksa,brpolozenih;
    double prosjecna;
    friend class Student;
public:
    ApstraktniStudent(std::string ime,std::string prezime,int brindeksa): ime(ime),prezime(prezime),brindeksa(brindeksa),brpolozenih(0),prosjecna(5) {};
    std::string DajIme() const {
        return ime;
    }
    std::string DajPrezime() const {
        return prezime;
    }
    int DajBrojIndeksa() const {
        return brindeksa;
    }
    int DajBrojPolozenih() const {
        return brpolozenih;
    }
    double DajProsjek() const {
        return prosjecna;
    }
    void RegistrirajIspit(int oc) {
        if(oc&lt;5 || oc&gt;10) throw std::domain_error("Neispravna ocjena");
        if(oc!=5) {
            prosjecna=(prosjecna*brpolozenih+oc)/(brpolozenih+1);
            brpolozenih++;
        }
    }
    void PonistiOcjene() {
        brpolozenih=0;
        prosjecna=5;
    }
    virtual void IspisiPodatke() const=0;
    virtual ApstraktniStudent *DajKopiju() const=0;
    virtual ~ApstraktniStudent() {};
};
 
class StudentBachelor: public ApstraktniStudent
{
public:
    StudentBachelor(std::string ime,std::string prezime,int brindeksa): ApstraktniStudent(ime,prezime,brindeksa) {};
    void IspisiPodatke() const override {
    std::cout&lt;&lt;"Student bachelor studija "&lt;&lt;DajIme()&lt;&lt;" "&lt;&lt;DajPrezime()&lt;&lt;", sa brojem indeksa "&lt;&lt;DajBrojIndeksa()&lt;&lt;","&lt;&lt;std::endl&lt;&lt;"ima prosjek "&lt;&lt;DajProsjek()&lt;&lt;"."&lt;&lt;std::endl;
    }
    ApstraktniStudent *DajKopiju() const override {
        return new StudentBachelor(*this);
    }
};
 
class StudentMaster: public ApstraktniStudent
{
    int godina;
public:
    StudentMaster(std::string ime,std::string prezime,int brindeksa,int godina): ApstraktniStudent(ime,prezime,brindeksa), godina(godina) {};
    void IspisiPodatke() const override {
        std::cout&lt;&lt;"Student master studija "&lt;&lt;DajIme()&lt;&lt;" "&lt;&lt;DajPrezime()&lt;&lt;", sa brojem indeksa "&lt;&lt;DajBrojIndeksa()&lt;&lt;","&lt;&lt;std::endl&lt;&lt;"zavrsio bachelor studij godine "&lt;&lt;godina&lt;&lt;",ima prosjek "&lt;&lt;DajProsjek()&lt;&lt;"."&lt;&lt;std::endl;
    }
    ApstraktniStudent *DajKopiju() const override {
        return new StudentMaster(*this);
    }
};
 
class Student
{
    ApstraktniStudent *pok;
public:
    Student(): pok(nullptr){};
    ~Student() {delete pok;};
    Student(const ApstraktniStudent &amp;s): pok(s.DajKopiju()){};
    Student(const Student &amp;s)
    {
        if(!s.pok) pok=nullptr;
        else pok=s.pok-&gt;DajKopiju();
    };
    Student &amp;operator=(const Student &amp;s)
    {
        ApstraktniStudent *pnovi(nullptr);
        if(s.pok!=nullptr) pnovi=s.pok-&gt;DajKopiju();
        delete pok;
        pok=pnovi;
        return *this;
    }
    Student &amp;operator =(Student &amp;&amp;s)
    {
        std::swap(pok,s.pok);
        return *this;
    }
    void IspisiPodatke() const {pok-&gt;IspisiPodatke();}
   
    std::string DajIme() const {
        return pok-&gt;DajIme();
    }
    std::string DajPrezime() const {
        return pok-&gt;DajPrezime();
    }
    int DajBrojIndeksa() const {
        return pok-&gt;DajBrojIndeksa();
    }
    int DajBrojPolozenih() const {
        return pok-&gt;DajBrojPolozenih();
    }
    double DajProsjek() const {
        return pok-&gt;DajProsjek();
    }
    void RegistrirajIspit(int oc) {
        pok-&gt;RegistrirajIspit(oc);
    }
        void PonistiOcjene() {
        pok-&gt;brpolozenih=0;
        pok-&gt;prosjecna=5;
    }
};
 
int main()
{
    Student s1, s2;
    s1 = StudentBachelor("Dusko", "Dugousko", 1234);
    s2 = StudentMaster("Paja", "Patak", 4312, 2015);
    s1.RegistrirajIspit(6); s1.RegistrirajIspit(9);
    s2.RegistrirajIspit(8);
    s1.IspisiPodatke(); s2.IspisiPodatke();
    s1 = s2;
    s1.IspisiPodatke();
</font>    return 0;
}</pre>
</body>
</html>
