<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z2/Z4/student6558.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z2/Z4/student6558.cpp<p></p><pre>
#include &lt;iostream&gt;
#include &lt;algorithm&gt;
#include &lt;vector&gt;
#include &lt;deque&gt;
#include &lt;stdexcept&gt;
#include &lt;iterator&gt;
bool Prost(int faktor)
{
    if(faktor&lt;2) return false;
    for(int i=2; i&lt;faktor; i++) {
        if(faktor%i==0) return false;
    }
    return true;
}
template &lt;typename NekiTip1, typename NekiTip2&gt;
bool Broj_Prostih_Faktora(NekiTip1 x, NekiTip2 y)
{
    auto temp1(x);
    int brojac1(0);
    for(int i=0; i&lt;abs(temp1); i++) {
        if(Prost(i)) {
            if(temp1%i==0) {
                brojac1++;
                temp1/=i;
                i=0;
            }
        }
    }
    auto temp2(y);
    int brojac2(0);
    for(int i=0; i&lt;abs(temp2); i++) {
        if(Prost(i)) {
            if(temp2%i==0) {
                brojac2++;
                temp2/=i;
                i=0;
            }
        }
    }
    if(brojac1&gt;brojac2) return true;
    else if(brojac1==brojac2) {
        if(x&gt;y) return true;
        else if(abs(x)==abs(y)) {
            if(x&gt;y) return true;
        }
    }
    return false;
}
//Provjera da li postoji broj u nizu tokom unosa
template &lt;typename Kontejner&gt;
bool NePostoji(const Kontejner &amp;x,int broj)
{
    for(int i=0; i&lt;x.size(); i++) {
        if(x.at(i)==broj) return false;
    }
    return true;
}
template &lt;typename Kontejner&gt;
void Unos_Niza(Kontejner &amp;x, int broj_el)
{
    int i(0);
    do {
        int pomocna;
        std::cin&gt;&gt;pomocna;
        if(!(NePostoji(x, pomocna))) {
            i--;
        } else {
            x.push_back(pomocna);
        }
        i++;
    } while(i&lt;broj_el);
}
//Zamjena mjesta elementima u nizu
template &lt;typename iter&gt;
void Swapaj(iter p1, iter p2)
{
    auto pomocna(*p1);
    *p1=*p2;
    *p2=pomocna;
}
//F(x,y) funkcija
template &lt;typename iter1, typename iter2, typename iter3&gt;
iter3 Funkcija(iter1 p1, iter2 p2)
{
    iter3 suma=-2*(*p1)+*p2;
    return suma;
}
template &lt;typename iter1, typename iter2, typename iter3&gt;
void SortirajPodrucjeVrijednosti(iter1 p1, iter1 p2, iter2 p3, iter3 p4, decltype(*p4+*p4) func(iter1 x, iter2 y), bool sortiranje(decltype(*p1+*p1) x, decltype(*p1+*p1) y))
{
    auto pok1(p1);
    auto pok3(p3);
    int razlika(std::distance(p1,p2));
    auto pok(p3);
    std::advance(pok, razlika);
    //Sortiranje prva dva niza
    std::sort(p1, p2, sortiranje);
    std::sort(p3, pok, sortiranje);
    auto kraj(p4);
    std::advance(kraj, razlika);
    //Trazenje f(x,y) u trecem bloku
    while(p1!=p2) {
        auto suma(func(p1, p3));
        auto el(std::find(p4, kraj, suma));
        if(el==kraj) throw std::logic_error ("Vrijednost koja odgovara nekom od parova nije nadjena");
        else {
            if(p4!=el) {
                Swapaj(p4,el);
            }
        }
        p1++;
        p3++;
        p4++;
    }
}
int main ()
{
    std::cout &lt;&lt; "Unesite broj elemenata: ";
    int broj_el;
    std::cin &gt;&gt; broj_el;
    std::vector&lt;int&gt; v1;
    std::cout &lt;&lt; "Unesite elemente prvog vektora: ";
    Unos_Niza(v1,broj_el);
    std::deque&lt;int&gt; v2;
    std::cout &lt;&lt; "Unesite elemente drugog vektora: ";
    Unos_Niza(v2,broj_el);
    std::vector&lt;int&gt; v3;
    std::cout &lt;&lt; "Unesite elemente treceg vektora: ";
<a name="0"></a><font color="#FF0000"><a href="match761-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_17.gif"/></a>

    Unos_Niza(v3,broj_el);
    try {
        SortirajPodrucjeVrijednosti(v1.begin(), v1.end(), v2.begin(),v3.begin(),Funkcija, Broj_Prostih_Faktora);
        std::cout &lt;&lt;std::endl&lt;&lt; "Nakon sortiranja podrucja vrijednosti imamo sljedece trojke: " &lt;&lt; std::endl;
        for(int i=0; i&lt;v1.size(); i++) {
            std::cout &lt;&lt; "f("&lt;&lt;v1.at(i)&lt;&lt;", "&lt;&lt;v2.at(i)&lt;&lt;") = "&lt;&lt;v3.at(i) &lt;&lt; std::endl;
        }
    } catch(std::logic_error izuzetak) {
        std::cout &lt;&lt;std::endl&lt;&lt;"Izuzetak: "&lt;&lt; izuzetak.what() &lt;&lt; std::endl;
</font>    }
    return 0;
}</pre>
</body>
</html>
