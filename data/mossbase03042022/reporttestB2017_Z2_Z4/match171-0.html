<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z2/Z4/student8209.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z2/Z4/student8209.cpp<p></p><pre>
<a name="0"></a><font color="#FF0000"><a href="match171-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_99.gif"/></a>

/B2018/2019: ZadaÄ‡a 2, Zadatak 4
#include &lt;iostream&gt;
#include &lt;cstring&gt;
#include &lt;new&gt;
#include &lt;algorithm&gt;
#include &lt;vector&gt;

char **SortirajRecenice(char ** pok_na_pocetak, char **pok_iza_kraja)
{
   
    std::sort(pok_na_pocetak, pok_iza_kraja, [](char *recenica1, char *recenica2){
        if(std::strlen(recenica1)&lt;std::strlen(recenica2)) return true;
        else if (std::strlen(recenica1)&gt;std::strlen(recenica2)) return false;
        else {
            if(std::strcmp (recenica1, recenica2)==-1 || std::strcmp(recenica1, recenica2)==0) return true;
            else return false;
        }
    });
    return pok_na_pocetak;
}

/*char binarna_pretraga(char **pok_na_pocetak, char **pok_iza_kraja, std::string pretrazi){
    if((std::binary_search(pok_na_pocetak,pok_iza_kraja,pretrazi))==true) std::cout&lt;&lt;"Nalazi se.";
    else std::cout&lt;&lt;"Ne nalazi se";
    return **pok_na_pocetak;
}*/

int NadjiIndeks(std::vector&lt;std::string&gt;v, std::string pretrazi)
{
  /*  int pocetak=0;
    int kraj=v.size()-1;
    int sredina=0;
    while(pocetak&lt;=kraj)
    {
        sredina=(pocetak+kraj)/2;
        if(v.at(sredina)==pretrazi) return sredina;
        else if(pretrazi.length()&gt;v.at(sredina).length()) pocetak=sredina+1;
        else if(pretrazi.length()&lt;v.at(sredina).length()) kraj=sredina-1;
    }
    return -1;*/
    for(int i=0; i&lt;v.size(); i++)
    {
       // std::cout&lt;&lt;"|"&lt;&lt;v.at(i)&lt;&lt;"|"&lt;&lt;pretrazi&lt;&lt;"|"&lt;&lt;std::endl;
            
        if(v.at(i)==pretrazi) 
        {
            
            return i;
        }
    }
    throw("Trazena recenica se ne nalazi u nizu!");
}

int main ()
{
    
    int n=0;
    std::cout&lt;&lt;"Unesite broj recenica: ";
    std::cin&gt;&gt;n;
    //std::cin.clear();
    std::cin.ignore(1000,'\n');
    std::cout&lt;&lt;"Unesite recenice: ";
    try{
    char **niz=new char*[n]{};
    std::vector&lt;std::string&gt; v;
  
    for(int i=0; i&lt;n; i++)
    {
        std::string s;
        int duzina=0;
        std::getline(std::cin,s);
       std::cin.clear();
       //std::cin.ignore(1000,'\n');
      
        duzina=s.length();
       v.push_back(s);
       try{
        (*(niz+i))=new char[duzina +1];
        for(int j=0; j&lt;duzina; j++)
        {
            //niz.at(i).at(j)=s.at(i);
           *(*(niz+i)+j)=s.at(j);
          
        }
       *(*(niz+i)+s.size())='\0';
       }catch(...){
           for(int j=0; j&lt;i+1; j++)
           {
               delete[] niz[j];
               delete [] niz;
               throw;
           }
       }
    
    }
    
  
  

    std::cout&lt;&lt;std::endl;
   
    std::sort(v.begin(), v.end(),[](std::string recenica1, std::string recenica2){
        if(recenica1.length()&lt;recenica2.length()) return true;
       
        else if (recenica1.length()&gt;recenica2.length()) return false;
        else {
            if(recenica1&lt;recenica2) return true;
            else return false;
        }
    });
   
   
   /* std::cout&lt;&lt;"Sortirani:";
   
    for(int i=0; i&lt;v.size(); i++)
    {
       std::cout&lt;&lt;v.at(i);
       std::cout&lt;&lt;" ";
      
    }
    */
    auto finalni=SortirajRecenice(niz, niz+n);
    std::cout&lt;&lt;"Recenice nakon sortiranja: ";
    std::cout&lt;&lt;std::endl;
   for(int i=0; i&lt;n; i++)
   {
       std::cout&lt;&lt;*finalni;
       std::cout&lt;&lt;" ";
       finalni++;
       std::cout&lt;&lt;std::endl;
   }
   
   
 
   std::cout&lt;&lt;std::endl;
   std::cout&lt;&lt;"Unesite recenicu za pretragu: ";
   std::string pretrazi;
   std::getline(std::cin, pretrazi);
   //std::cin.clear();
  //std::cin.ignore(1000,'\n');
  
  /* for(int i=0; i&lt;v.size(); i++)
    {
        std::cout&lt;&lt;"|"&lt;&lt;v.at(i)&lt;&lt;"|"&lt;&lt;pretrazi&lt;&lt;"|"&lt;&lt;std::endl;
        std::cout&lt;&lt;std::boolalpha&lt;&lt;(v.at(i)==pretrazi);
    }*/
   
       if(std::binary_search(v.begin(), v.end(),pretrazi)) {
          // std::cout&lt;&lt;"Usli smo u if.";
            std::cout&lt;&lt;"Recenica se nalazi na poziciji: "&lt;&lt;NadjiIndeks(v,pretrazi);
       }
       else {
          std::cout&lt;&lt;"Trazena recenica se ne nalazi u nizu!";
       }
       
      for(int i=0; i&lt;n; i++)
   {
       delete [] finalni[i];
   }
   
    }catch(...){
        std::cout&lt;&lt;"Problemi sa memorijom.";
</font>    }
  
   
    
	return 0;
}</pre>
</body>
</html>
