<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z2/Z4/student3535.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z2/Z4/student3535.cpp<p></p><pre>
#include &lt;iostream&gt;
#include &lt;stdexcept&gt;
#include &lt;type_traits&gt;
#include &lt;vector&gt;
#include &lt;algorithm&gt;
<a name="0"></a><font color="#FF0000"><a href="match185-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_98.gif"/></a>

using std::cin;
using std::cout;
using std::vector;
int BrojProstihFaktora(int n)
{
	int broj(0);
	for(int i=2; i&lt;=n; i++) {
		while(n%i==0) {
			n/=i;
			broj++;
		}
	}
	return broj;
}

bool comp(int a, int b)
{
	if(BrojProstihFaktora(a)==BrojProstihFaktora(b)) {
		return(a&gt;b);
	}
	return(BrojProstihFaktora(a)&gt;BrojProstihFaktora(b));
}

template &lt;typename TipPok1, typename TipPok2, typename TipPok3&gt;
void SortirajPodrucjeVrijednosti(TipPok1 pok1, TipPok1 kraj1, TipPok2 pok2, TipPok3 pok3,
                                 typename std::remove_reference&lt;decltype(*pok3)&gt;::type
                                 foo(typename std::remove_reference&lt;decltype(*pok1)&gt;::type, typename std::remove_reference&lt;decltype(*pok2)&gt;::type),
                                 bool comp(int,int))
{
	int duzina=kraj1-pok1;
	auto p1(pok1);
	auto k1(kraj1);
	auto p2(pok2);
	auto k2(pok2+duzina);
	auto p3(pok3);
	std::sort(pok1,pok1+duzina,comp);
	std::sort(pok2,pok2+duzina,comp);
	std::sort(pok3,pok3+duzina);

	//Prvo provjerimo da li je vrijednost svaka pronadjena
	while(p1!=k1) {
		auto rezultat=foo(*p1,*p2);
		//cout&lt;&lt;rezultat&lt;&lt;" ";
		if(!std::binary_search(pok3,pok3+duzina,rezultat)) {
			throw std::logic_error("Vrijednost koja odgovara nekom od parova nije nadjena");
		}
		p1++;
		p2++;
	}
	//reset vrijednosti pokazivaca
	p1=pok1;
	p2=pok2;
	//Vrsimo zamijenu tako da redoslijed bude dobar
	while(p1!=k1) {
		auto rezultat=foo(*p1,*p2);
		auto temp=*p3;
		auto lokacija(std::find(pok3,pok3+duzina,rezultat));
		*p3=*lokacija;
		*lokacija=temp;

		p1++;
		p2++;
		p3++;
	}
}

int foo(int x,int y)
{
	return -2*x+y;
}

template &lt;typename Tip&gt;
void UnesiVektor(vector&lt;Tip&gt; &amp;vektor, int n)
{
	Tip broj;
	for(int i=0;; i++) {
		if(vektor.size()==n) break;
		cin&gt;&gt;broj;
		if(std::find(vektor.begin(),vektor.end(),broj)==vektor.end()) {
			vektor.push_back(broj);
		}

	}
	cin.ignore(1000,'\n');
}
int main ()
{
	int n;
	cout&lt;&lt;"Unesite broj elemenata: ";
	cin&gt;&gt;n;
	vector&lt;int&gt; vektor1,vektor2,vektor3;
	cout&lt;&lt;"Unesite elemente prvog vektora: ";
	UnesiVektor(vektor1,n);
	cout&lt;&lt;"Unesite elemente drugog vektora: ";
	UnesiVektor(vektor2,n);
	cout&lt;&lt;"Unesite elemente treceg vektora: ";
	UnesiVektor(vektor3,n);
	cout&lt;&lt;"\n";

	try {
		SortirajPodrucjeVrijednosti(vektor1.begin(),vektor1.end(),vektor2.begin(),vektor3.begin(),foo,comp);
		cout&lt;&lt;"Nakon sortiranja podrucja vrijednosti imamo sljedece trojke:\n";
		for(int i=0; i&lt;vektor1.size(); i++) {
			cout&lt;&lt;"f("&lt;&lt;vektor1[i]&lt;&lt;", "&lt;&lt;vektor2[i]&lt;&lt;") = "&lt;&lt;vektor3[i]&lt;&lt;"\n";
		}
	} catch (std::logic_error exc) {
		cout&lt;&lt;"Izuzetak: "&lt;&lt;exc.what();
</font>	}
	return 0;
}
</pre>
</body>
</html>
