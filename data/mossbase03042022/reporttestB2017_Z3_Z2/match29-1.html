<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z2/student5236.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z2/student5475.cpp<p></p><pre>
#include &lt;iostream&gt;
#include &lt;map&gt;
#include &lt;set&gt;
#include &lt;tuple&gt;
#include &lt;vector&gt;
#include &lt;stdexcept&gt;

<a name="0"></a><font color="#FF0000"><a href="match29-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_98.gif"/></a>

std::map&lt;std::string,std::set&lt;std::tuple&lt;std::string,int,int&gt;&gt;&gt; KreirajIndeksPojmova
     (std::map&lt;std::string,std::vector&lt;std::string&gt;&gt;Knjiga){
         
         for(auto it(Knjiga.begin());it!=Knjiga.end();it++){
             
         }
     }
std::map&lt;std::string,std::set&lt;std::tuple&lt;std::string,int,int&gt;&gt;&gt; KreirajIndeksPojmova
     (std::map&lt;std::string,std::vector&lt;std::string&gt;&gt; Knjiga){
         std::map&lt;std::string,std::set&lt;std::tuple&lt;std::string,int,int&gt;&gt;&gt; mapa;
         int br_stranice(0);
         for(auto it(Knjiga.begin());it!=Knjiga.end();it++){
             br_stranice++;
             std::vector&lt;std::string&gt; v1(it-&gt;second);
             int razmak(0),brojac(0),brojac1(0);
             for(int i(0);i&lt;v1.size();i++){
                 std::string s(v1[i]);
                 for(int j(0);j&lt;s.length();j++){
                 if(s[j]==' '){
                     razmak=0;
                     //std::set&lt;std::tuple&lt;std::string,int,int&gt;&gt; skup;
                     //skup.insert(std::tie(it-&gt;first,br_stranice,brojac));
                     if(br==0){
                     std::string s1(s.substr(brojac,brojac1));
                     for(int k(0);k&lt;s1.length();k++){
                         if(s1[k]&gt;='A' &amp;&amp; s1[k]&lt;='Z')
                         s1[k]=s1[k]+32;
                     }
                     }
                     //for(auto it1=mapa.begin();it1!=mapa.end();it1++){
                       //  if(mapa.count(s1)){
                             
                        // }
                     //}
                     //mapa.insert(std::make_pair(s1,skup));
                     br+=1;
                     }else if(s[j]!=' ' &amp;&amp; razmak==1){
                     razmak=0;
                     brojac=brojac1;
                 }
                 brojac1++;
            }
        }
    }
    return mapa;
}

std::set&lt;std::tuple&lt;std::string,int,int&gt;&gt; PretraziIndeksPojmova(std::string s,std::map&lt;std::string,std::set&lt;std::tuple&lt;std::string,int,int&gt;&gt;&gt; Indeks_p){
    std::set&lt;std::tuple&lt;std::string,int,int&gt;&gt; t;
    if(Indeks_p.count(s)){
        t=Indeks_p[s];
    }else{
        throw std::logic_error("Pojam nije nadjen");
    }
    return t;
}

void IspisiIndeksPojmova(std::map&lt;std::string,std::set&lt;std::tuple&lt;std::string,int,int&gt;&gt;&gt; Indeks_p){
    
    std::vector&lt;std::string&gt; v;
    for(auto it(Indeks_p.begin());it!=Indeks_p.end();it++){
        int br(0);
        int a(1);
        for(int i(0);i&lt;v.size();i++){
            if(it-&gt;first==v[i]){
                a=0;
            }
        }
        if(a){
        for(auto it1(Indeks_p.begin());it1!=Indeks_p.end();it1++){
            br=0;
            std::set&lt;std::tuple&lt;std::string,int,int&gt;&gt; t;
            if(it==it1 &amp;&amp; br==0){
                t=Indeks_p[it1-&gt;first];
                std::cout&lt;&lt;it-&gt;first&lt;&lt;": ";
                for(auto x: t){
                std::cout&lt;&lt;std::get&lt;0&gt;(x)&lt;&lt;"/"&lt;&lt;std::get&lt;1&gt;(x)&lt;&lt;"/"&lt;&lt;std::get&lt;2&gt;(x);
                }
                br+=1;
            }else if(it==it1 &amp;&amp; br&gt;0){
                t=Indeks_p[it1-&gt;first];
                for(auto x: t){
                std::cout&lt;&lt;","&lt;&lt;std::get&lt;0&gt;(x)&lt;&lt;"/"&lt;&lt;std::get&lt;1&gt;(x)&lt;&lt;"/"&lt;&lt;std::get&lt;2&gt;(x);
                std::cout&lt;&lt;std::endl;
                }
            }
        }
        v.push_back(it-&gt;first);
      }
        
    }
}

int main(){
    std::string naziv_p,sadrzaj_stranice,tr_rijec;
    std::vector&lt;std::string&gt; v1;
    std::map&lt;std::string,std::vector&lt;std::string&gt;&gt;mapa;
    int i(1);
    std::cout&lt;&lt;"Unesite naziv poglavlja: ";
    std::getline(std::cin,naziv_p);
    std::cout&lt;&lt;"Unesite sadrzaj stranice 1:";
    std::getline(std::cin,sadrzaj_stranice);
    v1.push_back(sadrzaj_stranice);
    while(sadrzaj_stranice!="."){
    std::cout&lt;&lt;"Unesite sadrzaj stranice "&lt;&lt;i+1&lt;&lt;":";
    std::getline(std::cin,sadrzaj_stranice);
    v1.push_back(sadrzaj_stranice);
    mapa.insert(std::make_pair(naziv_p,v1));
    i++;
    }
    while(v1.size()!=0){
        v1.erase(v1.begin()+0);
    }
    for(; ;){
        std::cout&lt;&lt;"Unesite naziv poglavalja: ";
        std::getline(std::cin,naziv_p);
        if(naziv_p==".")break;
        std::cout&lt;&lt;"Unesite sadrzaj stranice: "&lt;&lt;i+1&lt;&lt;":";
        std::getline(std::cin,sadrzaj_stranice);
        while(sadrzaj_stranice!="."){
            std::cout&lt;&lt;"Unesite sadrzaj stranice "&lt;&lt;i+1&lt;&lt;":";
            std::getline(std::cin,sadrzaj_stranice);
            v1.push_back(sadrzaj_stranice);
            i++;
        }
        mapa.insert(std::make_pair(naziv_p,v1));
        while(v1.size()!=0){
            v1.erase(v1.begin()+0);
        }
        i++;
    }
    std::map&lt;std::string,std::set&lt;std::tuple&lt;std::string,int,int&gt;&gt;&gt;mapa1(KreirajIndeksPojmova(mapa));
    IspisiIndeksPojmova(mapa1);
    std::cout&lt;&lt;"Unesite rijec: ";
    std::getline(std::cin,tr_rijec);
    if(tr_rijec=="."){
        return 0;
    }
    while(tr_rijec!="."){
        std::set&lt;std::tuple&lt;std::string,int,int&gt;&gt;skup(PretraziIndeksPojmova(tr_rijec,mapa1));
        for(auto x: skup){
            std::cout&lt;&lt;std::get&lt;0&gt;(x)&lt;&lt;"/"&lt;&lt;std::get&lt;1&gt;(x)&lt;&lt;"/"&lt;&lt;std::get&lt;2&gt;(x);
        }
        std::cout&lt;&lt;std::endl;
        std::cout&lt;&lt;"Unesite rijec: ";
        std::getline(std::cin,tr_rijec);
    }
    return 0;
</font>}</pre>
</body>
</html>
