<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z2/student8776.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z2/student8776.cpp<p></p><pre>
<a name="0"></a><font color="#FF0000"><a href="match233-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_99.gif"/></a>

/B2017/2018: ZadaÄ‡a 3, Zadatak 2
#include &lt;iostream&gt;
#include &lt;map&gt;
#include &lt;vector&gt;
#include &lt;string&gt;
#include &lt;set&gt;
#include &lt;iomanip&gt;
#include &lt;stdexcept&gt;
using namespace std;

map&lt;string,set&lt;int&gt;&gt; KreirajIndeksPojmova (string s){
    map&lt;string,set&lt;int&gt;&gt; mapa;
    vector&lt;string&gt; rijeci;
    vector&lt;int&gt; indexi;
    
     for(auto &amp;x: s) x=tolower(x);
     
     for (int i = 0; i &lt; s.size(); i++){
                        int pocetni_index=0;
                        while(((s[i]&gt;='0' and s[i]&lt;='9') or (s[i]&gt;='a' and  s[i]&lt;='z'))and i&lt;s.size()){
                            pocetni_index++;
                            i++;
                        }
                        
                             rijeci.push_back(s.substr(i-pocetni_index, pocetni_index));
                             
                             indexi.push_back(i-pocetni_index);
                            
                        
                
     }
    
    for(int i=0;i&lt;rijeci.size();i++){
        set&lt;int&gt; ind;
        for(int j=i+1;j&lt;rijeci.size();j++){
            
            if(rijeci[i]!=" "){
            
            ind.insert(indexi[i]);
            if(rijeci[i]==rijeci[j]){
                ind.insert(indexi[j]);
                rijeci[j]=" ";
            }
        
                
            }
        }
        if(rijeci[i].length()!=0 and rijeci[i]!=" "){
        mapa.insert(make_pair(rijeci[i],ind));
        ind.clear();
        }
    }
   

    return mapa;

}

set&lt;int&gt; PretraziIndeksPojmova(string s, map&lt;string, set&lt;int&gt;&gt; mapa){
    bool nadjen=false;
    for(auto &amp;x: s) x=tolower(x);
    
    for(auto it=mapa.begin(); it!=mapa.end();it++){
        if(s==it-&gt;first){
            return mapa[s];
        }
    }
    throw logic_error ("Pojam nije nadjen");
}

void IspisiIndeksPojmova(map&lt;string,set&lt;int&gt;&gt; mapa){
    
    for(auto rijec: mapa){
       if(rijec.first==" ")continue;
        cout&lt;&lt;rijec.first&lt;&lt;": ";
        int vel=rijec.second.size(), br=0;
            
            for(int skup: rijec.second){
                cout&lt;&lt;skup;
                if(br!=vel-1) cout&lt;&lt;",";
                br++;
            }
            cout&lt;&lt;endl;
    }
    
}

int main (){
    try{
    cout&lt;&lt;"Unesite tekst: ";
    string s;
    getline(cin,s);
    IspisiIndeksPojmova(KreirajIndeksPojmova(s));
    for(;;){
        try{
        cout&lt;&lt;"Unesite rijec: ";
        string s1;
        getline(cin,s1);
        if(s1==".") return 0;
        
        set&lt;int&gt; berinabratmoj=PretraziIndeksPojmova(s1,KreirajIndeksPojmova(s));
        
        for(auto x: berinabratmoj) cout&lt;&lt;x&lt;&lt;" ";
        cout&lt;&lt;endl;
        }catch(logic_error e){
            cout&lt;&lt;"Unesena rijec nije nadjena!"&lt;&lt;endl;
        }
        
    }
    
    }catch(domain_error hi){
        cout&lt;&lt;hi.what();
    }
	return 0;
</font>}</pre>
</body>
</html>
