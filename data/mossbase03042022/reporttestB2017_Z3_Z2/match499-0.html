<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z2/student6774.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z2/student6774.cpp<p></p><pre>
#include &lt;iostream&gt;
#include &lt;map&gt;
#include&lt;vector&gt;
#include&lt;algorithm&gt;
#include&lt;set&gt;
 std::vector&lt;std::string&gt;v;
 std::vector&lt;std::string &gt;poglavlje;
template &lt;typename iter&gt;
void kopiraj(iter s,iter s1,iter p){
    while(s1!=s){
        *p=*s1;
        p++;s1++;
        
    }
}
typedef std::map&lt;std::string, std::vector&lt;std:: string&gt;&gt; Knjiga;
std::string rimski(int a){
   std:: string ans;
    std:: string M[] = {"","M","MM","MMM"};
    std:: string C[] = {"","C","CC","CCC","CD","D","DC","DCC","DCCC","CM"};
     std::string X[] = {"","X","XX","XXX","XL","L","LX","LXX","LXXX","XC"};
    std:: string I[] = {"","I","II","III","IV","V","VI","VII","VIII","IX"};
    ans = M[a/1000]+C[(a%1000)/100]+X[(a%100)/10]+I[(a%10)];
    return ans;
}
void IzbaciDuplikate(std::vector&lt;std::string&gt; &amp;s){
    for(int i=0;i&lt;s.size();i++){
        for(int j=i+1;j&lt;s.size();j++){
            if(s.at(i)==s.at(j)){
                for(int k=j+1;k&lt;s.size();k++){
                    s.at(k-1)=s.at(k);
                }
                s.resize(s.size()-1);
                j--;
            }
        }
    }
}
<a name="0"></a><font color="#FF0000"><a href="match499-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_2.gif"/></a>

std::set&lt;std::tuple&lt;std::string,int ,int&gt;&gt; PretraziIndeksPojmova(std::string s,std::map&lt;std::string,std::set&lt;std::tuple&lt;std::string,int ,int&gt;&gt;&gt; wow){
    for(int i=0;i&lt;s.size();i++){
</font>        if(s[i]&lt;='Z')s[i]=s[i]+('a'-'A');
    }int i;
    for( i=0;i&lt;v.size();i++){
        if(v[i]==s)break;
    }if(i==v.size())throw std::logic_error{"Unesena rijec nije nadjena!"};
    return wow[s];
}
void IspisiIndeksPojmova ( std::map&lt;std::string,std::set&lt;std::tuple&lt;std::string,int ,int&gt;&gt;&gt; wow){
   for(int i=0;i&lt;v.size();i++){
        std::cout &lt;&lt; v[i]&lt;&lt;": "  ;
        auto it(wow[v[i]].begin());
        for(int k=0;k&lt;wow[v[i]].size();k++){
<a name="3"></a><font color="#00FFFF"><a href="match499-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_1.gif"/></a>

            if (k==wow[v[i]].size()-1)std::cout &lt;&lt;std::get&lt;0&gt;(*it) &lt;&lt;"/"&lt;&lt;std::get&lt;1&gt;(*it)&lt;&lt;"/"&lt;&lt;std::get&lt;2&gt;(*it)&lt;&lt;"";
            else std::cout &lt;&lt;std::get&lt;0&gt;(*it) &lt;&lt;"/"&lt;&lt;std::get&lt;1&gt;(*it)&lt;&lt;"/"&lt;&lt;std::get&lt;2&gt;(*it)&lt;&lt;", ";
</font><a name="1"></a><font color="#00FF00"><a href="match499-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_1.gif"/></a>

            it++;
        }std::cout  &lt;&lt; std::endl;
</font>    }
}
void radi(std::string str,int j,std::map&lt;std::string,std::set&lt;std::tuple&lt;std::string,int ,int&gt;&gt;&gt;&amp;wow,int i){
      auto s(str.begin());  
    auto s1(s);
   while (*s!='\0') {
    if(*s&gt;='A'&amp;&amp;*s&lt;='Z')*s+='a'-'A';
    s++;
   }s=s1;
  
   while(*s!='\0'){
       while(!((*s&gt;='a'&amp;&amp;*s&lt;='z')||(*s&gt;='0'&amp;&amp;*s&lt;='9'))){if(*s=='\0')break;s++;}
       s1=s;
       std::string temp;
       while((*s&gt;='a'&amp;&amp;*s&lt;='z')||(*s&gt;='0'&amp;&amp;*s&lt;='9')){if(*s=='\0')break;s++;}
       temp.resize(s-s1);
       kopiraj(s,s1,temp.begin());
       v.push_back(temp);
       while(!((*s&gt;='a'&amp;&amp;*s&lt;='z')||(*s&gt;='0'&amp;&amp;*s&lt;='9'))){if(*s=='\0')break;s++;}
       
   }
   IzbaciDuplikate(v);
   std::sort(v.begin(),v.end());
   

   std::vector&lt;std::set&lt;std::tuple&lt;std::string,int ,int&gt;&gt;&gt;v1(v.size());
   for(int k=0;k&lt;v.size();k++){
       if(str.size()==1){{std::tuple&lt;std::string,int ,int&gt; tp(poglavlje[i-1],j+1,0);wow[str].insert(tp);};break;}
      for(int l=0;l&lt;=str.size()-v[k].size();l++){
          bool provjera=true;
          int zapamti=l;
          
          for(int m=0;m&lt;v[k].size();m++){
               
              if(l!=str.size()-v[k].size())
              if(m==v[k].size()-1&amp;&amp;((str[l+1]&gt;='a'&amp;&amp;str[l+1]&lt;='z')||(str[l+1]&gt;='0'&amp;&amp;str[l+1]&lt;='9'))){provjera=false;break;}
              if(l!=0)if((m==0)&amp;&amp;((str[l-1]&gt;='a'&amp;&amp;str[l-1]&lt;='z')||(str[l-1]&gt;='0'&amp;&amp;str[l-1]&lt;='9'))){provjera=false;break;}
              if(v[k][m]!=str[l]){provjera=false;break;}
              l++;
          }
    
          if(provjera==true){std::tuple&lt;std::string,int ,int&gt;t; t=std::make_tuple(poglavlje[i-1],j+1,zapamti);v1[k].insert(t);}
         else  l=zapamti;
          
      }
   }
    for(int k=0;k&lt;v.size();k++){
        auto p(v1[k].begin());
        for(int s=0;s&lt;v1[k].size();s++){
            wow[v[k]].insert(*p);
            p++;
        }
    
    }
  
}
void ispisi(std::set&lt;std::tuple&lt;std::string,int ,int&gt;&gt; t){
<a name="2"></a><font color="#0000FF"><a href="match499-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_1.gif"/></a>

    auto it (t.begin());
        for(int k=0;k&lt;t.size();k++){
            std::cout &lt;&lt;std::get&lt;0&gt;(*it) &lt;&lt;"/"&lt;&lt;std::get&lt;1&gt;(*it)&lt;&lt;"/"&lt;&lt;std::get&lt;2&gt;(*it)&lt;&lt;" ";
</font>            it++;
        }std::cout  &lt;&lt; std::endl;
    
}

std::map&lt;std::string,std::set&lt;std::tuple&lt;std::string,int ,int&gt;&gt;&gt; KreirajIndeksPojmova(Knjiga k){
    std::map&lt;std::string,std::set&lt;std::tuple&lt;std::string,int ,int&gt;&gt;&gt; wow;
    for(int i=1;i&lt;=k.size();i++){
        for(int j=0;j&lt;k[poglavlje[i-1]].size();j++){
             radi(k[poglavlje[i-1]][j],j,wow,i);
        }
}
return wow;
}


int main (){
    Knjiga k;
    std::string tocka{"."};
    while(1){
    std::cout &lt;&lt; "Unesite naziv poglavlja: ";
    std::string pog;
    
    std::getline(std::cin,pog);
   
    if(pog==tocka)break;
    poglavlje.push_back(pog);
    std::vector&lt;std::string&gt;stranice;
    
    int i=0;
    while (true) {
<a name="4"></a><font color="#FF00FF"><a href="match499-1.html#4" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_1.gif"/></a>

        std::string temp;
        std::cout &lt;&lt; "Unesite sadrzaj stranice "&lt;&lt;i+1&lt;&lt;": " ;
      
        std::getline(std::cin,temp);
</font>       
        if(temp==tocka)break;
        stranice.push_back(temp);
        i++;
    }
    k[pog]=stranice;
    
    
}
std::cout &lt;&lt; "\nKreirani indeks pojmova:" &lt;&lt; std::endl;
auto wow(KreirajIndeksPojmova (k));
IspisiIndeksPojmova(wow);
while(1){
  
   try {
        std::cout &lt;&lt; "Unesite rijec: "; 
   std::string a;
  
   std::getline(std::cin,a);
    if(a==tocka)break;
       auto t(PretraziIndeksPojmova(a,wow));ispisi(t);
   }
   catch (std::logic_error error) {
       std::cout &lt;&lt; error.what() &lt;&lt; std::endl;
   }
   
  
  
}

    
    
	return 0;
}
//{(“I”, 1, 0), (“I”, 1, 14), (“I”, 1, 18)}, {(“I”,1, 22), (“I”, 1, 35)},
//{(“I”, 1, 30)}, {(“I”, 1, 4), (“I”, 1, 26)} i {(“I”, 1, 8)}</pre>
</body>
</html>
