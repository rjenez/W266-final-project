<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z2/student2176.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z2/student3943.cpp<p></p><pre>
#include &lt;iostream&gt;
#include &lt;map&gt;
#include &lt;string&gt;
#include &lt;set&gt;
#include &lt;tuple&gt;
#include &lt;vector&gt;
#include &lt;algorithm&gt;
#include &lt;stdexcept&gt;
#include &lt;iterator&gt;

typedef std::map&lt;std::string,std::vector&lt;std::string&gt;&gt; Knjiga;
typedef std::map&lt;std::string,std::set&lt;std::tuple&lt;std::string,int,int&gt;&gt;&gt; Mapa;



std::map&lt;std::string,std::set&lt;std::tuple&lt;std::string,int,int&gt;&gt;&gt; KreirajIndeksPojmova(const Knjiga &amp;tekst)
{
    Mapa pojmovi;

    auto it(tekst.begin());

    while(it!=tekst.end()) {


<a name="3"></a><font color="#00FFFF"><a href="match773-0.html#3" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_3.gif"/></a>

        for(int i=0; i&lt;(it-&gt;second).size(); i++) {

            for(int j=0; j&lt;(it-&gt;second)[i].length() ;) {
</font>

                
                while(j&lt;(it-&gt;second)[i].length() &amp;&amp; !(((it-&gt;second)[i][j]&gt;='A' &amp;&amp; (it-&gt;second)[i][j]&lt;='Z') || ((it-&gt;second)[i][j]&gt;='a' &amp;&amp; (it-&gt;second)[i][j]&lt;='z') || ((it-&gt;second)[i][j]&gt;='0' &amp;&amp; (it-&gt;second)[i][j]&lt;='9'))) j++;

                
                std::string pomocni;
                int pocetak(j);
                while(j&lt;(it-&gt;second)[i].length() &amp;&amp; (((it-&gt;second)[i][j]&gt;='A' &amp;&amp; (it-&gt;second)[i][j]&lt;='Z') || ((it-&gt;second)[i][j]&gt;='a' &amp;&amp; (it-&gt;second)[i][j]&lt;='z') || ((it-&gt;second)[i][j]&gt;='0' &amp;&amp; (it-&gt;second)[i][j]&lt;='9'))) {

                    if((it-&gt;second)[i][j]&gt;='A' &amp;&amp; (it-&gt;second)[i][j]&lt;='Z') {
                        pomocni.push_back((it-&gt;second)[i][j]+('a'-'A'));
                    } else {
                        
                        pomocni.push_back((it-&gt;second)[i][j]);

                    }
                    j++;

                }
                if(pomocni.length()!=0)
                pojmovi[pomocni].insert(std::make_tuple(it-&gt;first,i+1,pocetak));

            }


        }



        it++;
    }


    return pojmovi;
}

std::set&lt;std::tuple&lt;std::string,int,int&gt;&gt; PretraziIndeksPojmova(std::string s,const Mapa &amp;pojmovi)
{

    auto it(pojmovi.find(s));
    if(it==pojmovi.end()) {
        throw std::logic_error("Unesena rijec nije nadjena!");
    }


    return it-&gt;second;
}



void IspisiIndeksPojmova(const Mapa &amp;pojmovi)
{

<a name="0"></a><font color="#FF0000"><a href="match773-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_4.gif"/></a>

    for(auto it=pojmovi.begin(); it!=pojmovi.end(); it++) {
        std::cout&lt;&lt;it-&gt;first&lt;&lt;": ";


        for(auto it1=(it-&gt;second).begin(); it1!=(it-&gt;second).end(); it1++) {
</font>
            std::cout&lt;&lt;std::get&lt;0&gt;(*it1)&lt;&lt;"/"&lt;&lt;std::get&lt;1&gt;(*it1)&lt;&lt;"/"&lt;&lt;std::get&lt;2&gt;(*it1);
            if(std::distance(it1,(it-&gt;second).end())==1)
                continue;
            else {
                std::cout&lt;&lt;", ";
            }
        }

        std::cout&lt;&lt;std::endl;



    }

}

int main()
{
    Knjiga tekst;
    for(;;) {
<a name="2"></a><font color="#0000FF"><a href="match773-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_3.gif"/></a>

        std::cout&lt;&lt;"Unesite naziv poglavlja: ";
        std::string poglavlje;
        std::getline(std::cin,poglavlje);
        if(poglavlje==".") break;
        std::vector&lt;std::string&gt; v;
</font>        for(int j=0;; j++) {
            std::string pomocni;
            std::cout&lt;&lt;"Unesite sadrzaj stranice "&lt;&lt;j+1&lt;&lt;": ";
            std::getline(std::cin,pomocni);

            if(pomocni==".") break;
            v.push_back(pomocni);


        }

        tekst[poglavlje]=v;


    }
std::cout&lt;&lt;std::endl;
    std::cout&lt;&lt;"Kreirani indeks pojmova:"&lt;&lt;std::endl;
    IspisiIndeksPojmova(KreirajIndeksPojmova(tekst));

    for(;;) {

        std::cout&lt;&lt;"Unesite rijec: ";
        std::string pomocna;
        std::getline(std::cin,pomocna);
        if(pomocna==".") break;
        try {
            std::set&lt;std::tuple&lt;std::string,int,int&gt;&gt; pomocni(PretraziIndeksPojmova(pomocna,KreirajIndeksPojmova(tekst)));

            for(auto it1=pomocni.begin(); it1!=pomocni.end(); it1++) {

<a name="1"></a><font color="#00FF00"><a href="match773-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_3.gif"/></a>

                std::cout&lt;&lt;std::get&lt;0&gt;(*it1)&lt;&lt;"/"&lt;&lt;std::get&lt;1&gt;(*it1)&lt;&lt;"/"&lt;&lt;std::get&lt;2&gt;(*it1)&lt;&lt;" ";

            }
            std::cout&lt;&lt;std::endl;
        } catch(std::logic_error izuzetak) {
            std::cout&lt;&lt;izuzetak.what()&lt;&lt;std::endl;
</font>        }

    }

    return 0;
}

</pre>
</body>
</html>
