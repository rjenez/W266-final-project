<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z2/student9416.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z2/student2035.cpp<p></p><pre>
#include &lt;iostream&gt;
#include &lt;map&gt;
#include &lt;string&gt;
#include &lt;set&gt;
#include &lt;tuple&gt;
#include &lt;vector&gt;

typedef std::map&lt;std::string, std::vector&lt;std::string&gt;&gt; Knjiga;
typedef std::map&lt;std::string, std::set&lt;std::tuple&lt;std::string, int, int&gt;&gt;&gt; Tip;

bool JeLiSlovoIliBroj(char znak) {
      if(znak&gt;='a' &amp;&amp; znak&lt;='z' || znak&gt;='A' &amp;&amp; znak&lt;='Z' || znak&gt;='0' &amp;&amp; znak&lt;='9') return true;
      return false;
}



Tip KreirajIndeksPojmova(Knjiga lolita) {
      Tip indexi; 
      int i=0;
      int j=0;
      for(auto it1=lolita.begin(); it1!=lolita.end(); it1++) {
            j=0;
      for(auto it2=(it1-&gt;second).begin(); it2!=(it1-&gt;second).end(); it2++) {
            i=0; 
            j++;
            for(auto it3=(*it2).begin(); it3&lt;(*it2).end(); it3++) {
                  if(!JeLiSlovoIliBroj(*it3)) {i++; continue;}
                  else {
                        i++;
                        std::string pomocni;
                        int zapamceno_i;
                        zapamceno_i=i;
                        while(JeLiSlovoIliBroj(*it3)) {
                              if(it3==(*it2).end()) break; 
                              if(*it3&gt;='A' &amp;&amp; *it3&lt;='Z') *it3=*it3-'A'+'a';
                              pomocni.push_back(*it3);  //OVDJE IH PRETVORI U MALA HEHE
                              it3++;
                              i++;
                        }
                        indexi[pomocni].insert(std::make_tuple(it1-&gt;first, j, zapamceno_i-1));
                  }
            }
      } }

      return indexi; 
} 

std::set&lt;std::tuple&lt;std::string, int, int&gt;&gt; PretraziIndeksPojmova(std::string trazeni, Tip indexpojmova) {
      auto moj(indexpojmova.find(trazeni)); 
      if(moj==indexpojmova.end()) throw std::logic_error("Pojam nije nadjen"); 
<a name="2"></a><font color="#0000FF"><a href="match922-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_4.gif"/></a>

      else return indexpojmova[trazeni]; 
}

void IspisiIndeksPojmova(Tip indexpojmova) {
      for(auto it1=indexpojmova.begin(); it1!=indexpojmova.end(); it1++) {
            std::cout &lt;&lt; it1-&gt;first &lt;&lt; ": ";
</font>            auto predzadni(--(it1-&gt;second.end()));
<a name="0"></a><font color="#FF0000"><a href="match922-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_9.gif"/></a>

            for(auto it2=it1-&gt;second.begin(); it2!=it1-&gt;second.end(); it2++) {
            std::cout &lt;&lt; std::get&lt;0&gt;(*it2) &lt;&lt; "/" &lt;&lt; std::get&lt;1&gt;(*it2) &lt;&lt; "/" &lt;&lt; std::get&lt;2&gt;(*it2); 
                  if(it2!=predzadni) std::cout &lt;&lt; ", "; 
</font><a name="1"></a><font color="#00FF00"><a href="match922-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_4.gif"/></a>

            }
            std::cout &lt;&lt; std::endl;
            
      }
}

void IspisiIndexPojma(std::set&lt;std::tuple&lt;std::string, int, int&gt;&gt; skup_pripadni) {
</font>      auto predzadni(--skup_pripadni.end());
      for(auto it1=skup_pripadni.begin(); it1!=skup_pripadni.end(); it1++) {
            std::cout &lt;&lt; std::get&lt;0&gt;(*it1) &lt;&lt; "/" &lt;&lt; std::get&lt;1&gt;(*it1) &lt;&lt; "/" &lt;&lt; std::get&lt;2&gt;(*it1);
            if(predzadni!=it1) std::cout &lt;&lt; " "; 
      }
}


int main() {
      Knjiga avkg;
      while(1) {
            std::cout &lt;&lt; "Unesite naziv poglavlja: "; 
            std::string poglavlje; 
            std::getline(std::cin, poglavlje); 
            if(poglavlje==".") break; 
            int i=0;
            while(1) {
                  
                  std::cout &lt;&lt; "Unesite sadrzaj stranice " &lt;&lt; i+1 &lt;&lt; ": "; 
                  std::string stranica_i; 
                  std::getline(std::cin, stranica_i);
                  if(stranica_i==".") break;
                  avkg[poglavlje].push_back(stranica_i);
                  i++;
            }
      }
      
      auto glossary(KreirajIndeksPojmova(avkg));
      std::cout &lt;&lt; std::endl &lt;&lt; "Kreirani indeks pojmova: " &lt;&lt; std::endl;
      IspisiIndeksPojmova(glossary);
      
      while(1) {
            std::cout &lt;&lt; "Unesite rijec: ";
            std::string rijec; 
            std::cin &gt;&gt; rijec; 
            if(rijec==".") break;
            try {
            auto nesto(PretraziIndeksPojmova(rijec, glossary)); 
                  IspisiIndexPojma(nesto); 
            }
            catch(std::logic_error l) { std::cout &lt;&lt; "Unesena rijec nije nadjena!"; }
            std::cout &lt;&lt; std::endl;
      }
      return 0; }</pre>
</body>
</html>
