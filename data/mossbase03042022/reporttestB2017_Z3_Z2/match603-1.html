<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z2/student7090.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z2/student8288.cpp<p></p><pre>
/B2017/2018: ZadaÄ‡a 3, Zadatak 2
#include &lt;iostream&gt;
#include &lt;string&gt;
#include &lt;set&gt;
#include &lt;memory&gt;
#include &lt;tuple&gt;
#include &lt;map&gt;
#include &lt;vector&gt;
#include &lt;stdexcept&gt;
#include &lt;algorithm&gt;
typedef std::map&lt;std::string, std::vector&lt;std:: string&gt;&gt; Knjiga;  

std::vector&lt;std::pair&lt;std::string,int&gt;&gt; VratiRijeciSaIsteStranice (std::string s1) {
    std::transform(s1.begin(), s1.end(), s1.begin(), ::tolower);
    auto it(s1.begin());
    std::vector&lt;std::pair&lt;std::string,int&gt;&gt; SveRijeciSaIsteStranice ;
    int brojac{0};
    while(it!=s1.end()) {
        std::string CijelaRijec;
        
        while (!((*it&gt;='a' &amp;&amp; *it&lt;='z')|| (*it&gt;='A' &amp;&amp; *it&lt;='Z'))){
            
        if(it != s1.end()) it++; 
        brojac++;
        }
        while((*it&gt;='a' &amp;&amp; *it&lt;='z')|| (*it&gt;='A' &amp;&amp; *it&lt;='Z')){
        
        CijelaRijec+=*it++ ;
        brojac++;
        }
        SveRijeciSaIsteStranice.push_back(std::make_pair(CijelaRijec,brojac - CijelaRijec.length()));
    }
        return SveRijeciSaIsteStranice ;
}






std::map&lt;std::string,std::set&lt;std::tuple&lt;std::string,int,int&gt;&gt;&gt; KreirajIndeksPojmova(Knjiga book) {
    
    
    std::map&lt;std::string,std::set&lt;std::tuple&lt;std::string ,int ,int &gt;&gt;&gt; OvoSeVracaIzFunkcije;
    
    for(auto it(book.begin());it!=book.end();it++) {
        
        auto vec(it-&gt;second);
        for(int j{0};j&lt;vec.size();j++) {
            
        auto VektorParova(VratiRijeciSaIsteStranice(vec[j]));    
        
        for(int k {0};k&lt;VektorParova.size();k++) {
            //pomocni iterator
            
            auto par(VektorParova[k]);
            std::string pom (par.first);
            auto trazilica(OvoSeVracaIzFunkcije.find(pom));
            std::tuple&lt;std::string ,int ,int &gt; t(std::make_tuple(it-&gt;first,j+1,(par.second)));
            if (trazilica==OvoSeVracaIzFunkcije.end() ) {
                std::set&lt;std::tuple&lt;std::string ,int ,int &gt;&gt; pomocni{t};
                OvoSeVracaIzFunkcije.insert(std::make_pair(pom,pomocni));

            }
            else {
                
<a name="0"></a><font color="#FF0000"><a href="match603-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_10.gif"/></a>

                (trazilica-&gt;second).insert(t);
                
            }
            
        }
        }
        
    }
    return OvoSeVracaIzFunkcije;
}

std::set&lt;std::tuple&lt;std::string,int,int&gt;&gt;PretraziIndeksPojmova(std::string k,std::map&lt;std::string,std::set&lt;std::tuple&lt;std::string,int,int&gt;&gt;&gt; tuzno){
    
    auto it(tuzno.find(k));
    if(it==tuzno.end()) 
    throw std::logic_error("Unesena rijec nije nadjena!\n") ;
    
    return it-&gt;second;
    
    
}

void IspisiIndeksPojmova(std::map&lt;std::string,std::set&lt;std::tuple&lt;std::string,int,int&gt;&gt;&gt; tuznije){
</font>     for(auto it(tuznije.begin());it!=tuznije.end();it++) {
        std::cout&lt;&lt;(it-&gt;first)&lt;&lt;": ";
        for(auto iter(it-&gt;second.begin());iter!=(it-&gt;second.end());iter++) {
         auto pom(iter);   
        std::tuple&lt;std::string, int, int&gt; pomocna(*iter);
       if(++pom!=(it-&gt;second.end())) std::cout&lt;&lt;std::get&lt;0&gt;(pomocna)&lt;&lt;"/"&lt;&lt;std::get&lt;1&gt;(pomocna)&lt;&lt;"/"&lt;&lt;std::get&lt;2&gt;(pomocna)&lt;&lt;", ";
        else
        std::cout&lt;&lt;std::get&lt;0&gt;(pomocna)&lt;&lt;"/"&lt;&lt;std::get&lt;1&gt;(pomocna)&lt;&lt;"/"&lt;&lt;std::get&lt;2&gt;(pomocna);
    }
        std::cout&lt;&lt;std::endl ;
    }
    
}
int main ()
{
    std::string n;
    Knjiga knjiga ;
    do{
        std::string k;
        std::vector&lt;std::string&gt; vec ;
        
        int brojac{1} ;
         std::cout&lt;&lt;"Unesite naziv poglavlja: ";
         std::getline(std::cin,n);
         
         if(n!=".") do{
         std::cout&lt;&lt;"Unesite sadrzaj stranice "&lt;&lt;brojac++&lt;&lt;": " ;
         std::getline(std::cin,k);
          if(k!=".") vec.push_back(k);
         }while(k!=".");
             
             
           if(n!=".")  knjiga.insert(std::make_pair(n,vec));
    } while(n!=".");
    
    
   auto mapaludila( KreirajIndeksPojmova(knjiga)) ;
  
  std::cout&lt;&lt;"\nKreirani indeks pojmova: \n";
  IspisiIndeksPojmova(mapaludila);
   
   std::string novi;
   do {
       
       std::cout&lt;&lt;"Unesite rijec: ";
       
       std::getline(std::cin,novi);
       if(novi!= ".")try{
       auto skup(PretraziIndeksPojmova(novi,mapaludila));
       if(novi!=".") for(auto iter(skup.begin());iter!=skup.end();iter++) {
            
        std::tuple&lt;std::string, int, int&gt; pomocna(*iter);
<a name="1"></a><font color="#00FF00"><a href="match603-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_4.gif"/></a>

        std::cout&lt;&lt;std::get&lt;0&gt;(pomocna)&lt;&lt;"/"&lt;&lt;std::get&lt;1&gt;(pomocna)&lt;&lt;"/"&lt;&lt;std::get&lt;2&gt;(pomocna)&lt;&lt;" ";
    }
        std::cout&lt;&lt;std::endl ;
       }
       catch(std::logic_error l)
       {
           std::cout&lt;&lt;l.what();
</font>       }
   } while (novi!=".");
   
    
	return 0;
}
</pre>
</body>
</html>
