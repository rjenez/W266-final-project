<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z2/student7673.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z2/student6815.cpp<p></p><pre>
/B2017/2018: ZadaÄ‡a 3, Zadatak 2
#include &lt;iostream&gt;
#include &lt;map&gt;
#include &lt;string&gt;
#include &lt;set&gt;
#include &lt;utility&gt;
#include &lt;iterator&gt;
#include &lt;stdexcept&gt;
#include &lt;vector&gt;


using std::string;
using std::map;
using std::cout;
using std::set;
using std::vector;
using std::tuple;

<a name="0"></a><font color="#FF0000"><a href="match927-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_6.gif"/></a>

typedef map&lt;string, vector&lt;string&gt;&gt; Knjiga;

map&lt;string, set&lt;tuple&lt;string, int, int&gt;&gt;&gt; KreirajIndeksPojmova(Knjiga k)
{
    map&lt;string, set&lt;tuple&lt;string, int, int&gt;&gt;&gt; m;
    for(auto it=k.begin() ; it!=k.end() ; it++) {
</font>        vector&lt;string&gt; v(it-&gt;second);
        for(int i=0 ; i&lt;v.size() ; i++) {
            int j(0);
            string s(v.at(i));
            while(j!=s.length()) {
                int duz(0);
                while((s.at(j)&lt;'0' || (s.at(j)&gt;'9' &amp;&amp; s.at(j)&lt;'A') || ( s.at(j)&gt;'Z' &amp;&amp; s.at(j)&lt;'a' ) || s.at(j)&gt;'z' ) &amp;&amp; j!=s.length() ) j++;
                if(j==s.length()) break;
                string pomocni;

                while((s.at(j)&gt;='0' &amp;&amp; s.at(j)&lt;='9') || (s.at(j)&gt;='A' &amp;&amp; s.at(j)&lt;='Z') || (s.at(j)&gt;='a' &amp;&amp; s.at(j)&lt;='z') ) {
                    if(s.at(j)&gt;='A' &amp;&amp; s.at(j)&lt;='Z') s.at(j) += 'a'-'A';
                    pomocni.push_back(s.at(j));
                    j++;
                    duz++;
                    if(j==s.length()) break;
                }

                int pog(i+1), index(j-duz);
                auto ik(m.find(pomocni));
                if(m.size()==0 || ik==m.end() ) {
                    set&lt;tuple&lt;string, int, int&gt;&gt; skup;
                    skup.insert(std::make_tuple(it-&gt;first, pog, index));
                    m.insert(std::make_pair(pomocni,skup));
                } else ik-&gt;second.insert(std::make_tuple(it-&gt;first, pog, index));
                if(j==s.length()) break;

            }
        }

    }
    return m;
}

<a name="2"></a><font color="#0000FF"><a href="match927-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_3.gif"/></a>

set&lt;tuple&lt;string, int, int&gt;&gt; PretraziIndeksPojmova(string s, map&lt;string, set&lt;tuple&lt;string, int, int&gt;&gt;&gt; m)
</font>{
    auto it(m.find(s));
    if(it == m.end()) throw std::logic_error ("Unesena rijec nije nadjena!");
    return it-&gt;second;
}

void IspisiSkupBrojeva(set&lt;tuple&lt;string, int, int&gt;&gt; s)
{
    auto it(s.begin());
    for(int i = 0; i &lt; s.size()-1 ; i++) {
        std::cout &lt;&lt; std::get&lt;0&gt;(*it)&lt;&lt;"/"&lt;&lt;std::get&lt;1&gt;(*it)&lt;&lt;"/"&lt;&lt;std::get&lt;2&gt;(*it) &lt;&lt;", ";
        it++;
    }

    std::cout &lt;&lt;  std::get&lt;0&gt;(*it)&lt;&lt;"/"&lt;&lt;std::get&lt;1&gt;(*it)&lt;&lt;"/"&lt;&lt;std::get&lt;2&gt;(*it)  ;

}

<a name="1"></a><font color="#00FF00"><a href="match927-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_4.gif"/></a>

void IspisiIndeksPojmova (map&lt;string, set&lt;tuple&lt;string, int, int&gt;&gt;&gt; m)
{
    for(auto it = m.begin(); it != m.end(); it++) {
        cout&lt;&lt;it-&gt;first &lt;&lt;": ";
</font>        IspisiSkupBrojeva(it-&gt;second);
        cout&lt;&lt;std::endl;
    }
}
int main ()
{
    Knjiga k;

    while(1) {
        string naziv;
        std::cout&lt;&lt;"Unesite naziv poglavlja: ";
        std::getline(std::cin, naziv);
        if(naziv==".") break;
        vector&lt;string&gt; v;

        int i=1;
        while(1) {
            string stranice;
            std::cout&lt;&lt;"Unesite sadrzaj stranice "&lt;&lt;i&lt;&lt;": ";
            std::getline(std::cin, stranice);
            if(stranice==".") break;
            v.push_back(stranice);

            i++;

        }
        k.insert(std::make_pair(naziv,v));
    }

    map&lt;string, set&lt;tuple&lt;string, int, int&gt;&gt;&gt; m;

    m=KreirajIndeksPojmova(k);
    std::cout&lt;&lt;std::endl&lt;&lt;"Kreirani indeks pojmova:"&lt;&lt;std::endl;
    IspisiIndeksPojmova(m);

    while(1) {
        string rijec;
        cout&lt;&lt;"Unesite rijec: ";
        std::getline(std::cin, rijec);
        if(rijec==".") break;
        else {
            try {
                set&lt;tuple&lt;string, int, int&gt;&gt; skup=PretraziIndeksPojmova(rijec,m);
                for(auto x : skup ) cout&lt;&lt;std::get&lt;0&gt;(x)&lt;&lt;"/"&lt;&lt;std::get&lt;1&gt;(x)&lt;&lt;"/"&lt;&lt;std::get&lt;2&gt;(x)&lt;&lt;" ";
                cout&lt;&lt;std::endl;
            } catch(std::logic_error a) {
                cout&lt;&lt;a.what()&lt;&lt;std::endl;
            }
        }

    }



    return 0;
}
</pre>
</body>
</html>
