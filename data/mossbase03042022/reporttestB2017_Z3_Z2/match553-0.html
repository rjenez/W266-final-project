<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z2/student1110.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z2/student1110.cpp<p></p><pre>
/B2017/2018: ZadaÄ‡a 3, Zadatak 2 #include
#include &lt;iostream&gt; 
#include &lt;map&gt; 
#include &lt;string&gt;
#include &lt;stdexcept&gt; 
#include &lt;utility&gt; 
#include &lt;vector&gt;
#include &lt;iterator&gt;
#include &lt;cctype&gt;
#include &lt;set&gt;

using namespace std;
typedef map &lt;string, vector&lt;string&gt;&gt; Knjiga;


string pretvoriUMala(string tekst){
    string rezultat;
    for(int i=0; i&lt;tekst.size(); i++){
<a name="0"></a><font color="#FF0000"><a href="match553-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_8.gif"/></a>

        rezultat.push_back(tolower(tekst.at(i)));
        
    }
    return rezultat;
}


map&lt;string,set&lt;tuple&lt;string,int,int&gt;&gt;&gt; KreirajIndeksPojmova(Knjiga k) {
    map&lt;string, set&lt;tuple&lt;string,int,int&gt;&gt;&gt; indeks;

    //Prolazak kroz poglavlja
    for(auto ite=k.begin(); ite!=k.end();ite++) {
        
        
        //Prolazak kroz stranice jednog poglavlja
        for(int j=0; j&lt;(ite-&gt;second).size(); j++) {
</font>
            string tekst=(ite-&gt;second).at(j);
            bool razmak(true);
            
            //Pretrazivanje teksta jedne stranice unutar jednog poglavlja
            for(int i=0;i&lt;tekst.size();i++) {

                //Algoritam za pronalke pocetka i kraja rijeci
                
                //Preskakanje  i detektovanje svih razmaka 
                if(!((tekst[i]&gt;='A' &amp;&amp; tekst[i]&lt;='Z') || (tekst[i]&gt;='a' &amp;&amp; tekst[i]&lt;='z') || (tekst[i]&gt;='0' &amp;&amp; tekst[i]&lt;='9'))){
                    razmak=true;
                }
                
                else if(razmak){
                    int poc=i;
                    while( i&lt; tekst.size() &amp;&amp; ((tekst[i]&gt;='A' &amp;&amp; tekst[i]&lt;='Z') || (tekst[i]&gt;='a' &amp;&amp; tekst[i]&lt;='z') || (tekst[i]&gt;='0' &amp;&amp; tekst[i]&lt;='9'))){
                        i++;
                    }
                    string rijec(tekst.substr(poc,i-poc));
                    rijec = pretvoriUMala(rijec);
                    bool ima_u_mapi(false);
                    
                    auto pravaPoz = indeks.begin();
                    for(auto it=indeks.begin(); it!=indeks.end(); it++){
                        if(rijec==pretvoriUMala(it-&gt;first)){
                            ima_u_mapi=true;
                            pravaPoz = it;
                            break;
                            
                        }
                    }
                    
                    if(ima_u_mapi){
                        pravaPoz-&gt;second.insert(make_tuple(ite-&gt;first,j+1,poc));
                        
                        
                        
                    }
                    else{
                        set&lt;tuple&lt;string,int,int&gt;&gt; mojSet{ make_tuple(ite-&gt;first,j+1,poc) };
<a name="2"></a><font color="#0000FF"><a href="match553-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_4.gif"/></a>

                        indeks.insert(make_pair(rijec,mojSet));
                        
                    }
                    
                }


            }

        }
    }
    return indeks;
} 



set&lt;tuple &lt;string, int, int &gt;&gt; PretraziIndeksPojmova(string rijec, map&lt;string, set&lt;tuple &lt;string, int, int &gt;&gt; &gt; indeks) {
</font>    set&lt;tuple&lt;string,int,int&gt;&gt; pozicija;
    
    rijec=pretvoriUMala(rijec);
    for(auto it=indeks.begin();it!=indeks.end();it++) {
        if(rijec==it-&gt;first) {
                /*get&lt;0&gt;(pozicija)=get&lt;0&gt;(indeks-&gt;second);
                get&lt;1&gt;(pozicija)=get&lt;1&gt;(indeks-&gt;second);
                get&lt;2&gt;(pozicija)=get&lt;2&gt;(indeks-&gt;second);*/
                return it-&gt;second;
        }    
    }
<a name="1"></a><font color="#00FF00"><a href="match553-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_5.gif"/></a>

    throw logic_error("Pojam nije nadjen");
} 

void IspisiIndeksPojmova(map&lt;string, set&lt;tuple &lt; string, int, int &gt;&gt;&gt; indeks)
{
    for(auto it=indeks.begin(); it!=indeks.end(); it++) {
        cout&lt;&lt;it-&gt;first&lt;&lt; ": ";
           /* auto pok=ite;
            pok++;*/
            for(auto ite = (it-&gt;second).begin(); ite!=(it-&gt;second).end(); ite++) {
</font>                cout&lt;&lt;get&lt;0&gt;(*ite)&lt;&lt;"/"&lt;&lt;get&lt;1&gt;(*ite)&lt;&lt;"/"&lt;&lt;get&lt;2&gt;(*ite);
                auto ite2=ite;
                ite2++;
                if(ite2!=(it-&gt;second).end())
                    cout&lt;&lt;", ";
            
        }
        cout&lt;&lt;endl;
    }
}

int main ()
{
    Knjiga k;
    vector&lt;string&gt; sadrzajs;
    string sadrzaj;
    string nazivp,rijec;
    for(; ; ) {
        cout&lt;&lt; "Unesite naziv poglavlja: ";
        getline(cin, nazivp);
        if(nazivp=="." ) break;
        int i(0);
        while(1) {
            cout&lt;&lt; "Unesite sadrzaj stranice "&lt;&lt;i+1&lt;&lt; ": ";
            getline(cin,sadrzaj);
            if(sadrzaj==".") {
                break;
            }
            sadrzajs.push_back(sadrzaj);
            i++;
        }
        k.insert(make_pair(nazivp,sadrzajs));
    }
    cout&lt;&lt;endl;
    map&lt;string, set&lt;tuple&lt;string,int,int&gt;&gt;&gt; indeks(KreirajIndeksPojmova(k));
    cout&lt;&lt;"Kreirani indeks pojmova:"&lt;&lt;endl;
    IspisiIndeksPojmova(indeks);
    cout&lt;&lt;endl;
    while(true) {
        cout&lt;&lt;"Unesite rijec: ";
        getline(cin,rijec);
        if(rijec==".")
            break;
        set&lt;tuple&lt;string,int,int&gt;&gt; pozicija;
        try {
            auto mojSet=PretraziIndeksPojmova(rijec,indeks);
           // auto it=pozicija.begin();
          //  for(it=pozicija.begin();it!=pozicija.end();it++)
            for(auto ite = mojSet.begin(); ite!=mojSet.end(); ite++) {
                cout&lt;&lt;get&lt;0&gt;(*ite)&lt;&lt;"/"&lt;&lt;get&lt;1&gt;(*ite)&lt;&lt;"/"&lt;&lt;get&lt;2&gt;(*ite);
                cout&lt;&lt;" ";
            
             }
             cout&lt;&lt;endl;
            // if (it!=pozicija.end()-1) cout&lt;&lt;",";  
            
        }
        catch(logic_error izuzetak){
            cout&lt;&lt;"Unesena rijec nije nadjena!"&lt;&lt;endl;
    
        }
    }
        return 0;
}


</pre>
</body>
</html>
