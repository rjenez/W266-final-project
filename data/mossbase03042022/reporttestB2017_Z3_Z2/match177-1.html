<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z2/student2959.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z2/student4785.cpp<p></p><pre>
/B2017/2018: ZadaÄ‡a 3, Zadatak 2
#include &lt;iostream&gt;
#include &lt;string&gt;
#include &lt;map&gt;
#include &lt;utility&gt;
#include &lt;algorithm&gt;
#include &lt;stdexcept&gt;
#include &lt;set&gt;
#include &lt;vector&gt;

typedef std::map&lt;std::string, std::vector&lt;std::string&gt;&gt; Knjiga;
<a name="0"></a><font color="#FF0000"><a href="match177-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_45.gif"/></a>

typedef std::map&lt;std::string,std::set&lt;std::tuple&lt;std::string,int,int&gt;&gt;&gt; Indeks_pojmova;

bool NijeSLovoNiCifra(char c)
{
    return (!((std::tolower(c)&gt;='a' &amp;&amp; std::tolower(c)&lt;='z') || (c&gt;='0' &amp;&amp; c&lt;='9')));
}

Indeks_pojmova KreirajIndeksPojmova(Knjiga k)
{
    Indeks_pojmova a;
    for(auto it=k.begin(); it!=k.end(); it++) {
        int str(0);
        for(auto br_stranice=0; br_stranice&lt;it-&gt;second.size(); br_stranice++) {
            str++;
            std::string stranica=it-&gt;second.at(br_stranice);
            std::vector&lt;std::string&gt; rijeci;
            int neslovo(0);
            std::string rijec=std::string();
            for(int i=0; i&lt;stranica.size(); i++) {
                if(NijeSLovoNiCifra(stranica.at(i))) {
                    neslovo=0;
                } else if(neslovo==0) {
                    int pocetak=i;
                    while(i&lt;stranica.size() &amp;&amp; !NijeSLovoNiCifra(stranica.at(i))) {
                        rijec.push_back(tolower(stranica.at(i)));
                        i++;
                    }
                    a[rijec].insert(std::make_tuple(it-&gt;first,str,pocetak));
                    rijec=std::string();
                    neslovo=1;
                    i--;
                }
            }
        }
    }
    return a;
}

std::set&lt;std::tuple&lt;std::string,int,int&gt;&gt; PretraziIndeksPojmova(std::string rijec, Indeks_pojmova p)
{
    std::string s;
    for(int i=0;i&lt;rijec.size();i++) s.push_back(std::tolower(rijec.at(i)));
    if(!p.count(s)) throw std::logic_error("Pojam nije nadjen");
    return p[s];
}

void Ispisi(std::set&lt;std::tuple&lt;std::string,int,int&gt;&gt; s)
{
    for(auto skup=s.begin(); skup!=s.end(); skup++)
        std::cout&lt;&lt;std::get&lt;0&gt;(*skup)&lt;&lt;"/"&lt;&lt;std::get&lt;1&gt;(*skup)&lt;&lt;"/"&lt;&lt;std::get&lt;2&gt;(*skup)&lt;&lt;" ";
</font><a name="1"></a><font color="#00FF00"><a href="match177-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_44.gif"/></a>

    std::cout&lt;&lt;std::endl;
}

void IspisiJednog(std::set&lt;std::tuple&lt;std::string,int,int&gt;&gt; s)
{
    for(auto skup=s.begin(); skup!=s.end(); skup++) {
        std::cout&lt;&lt;std::get&lt;0&gt;(*skup)&lt;&lt;"/"&lt;&lt;std::get&lt;1&gt;(*skup)&lt;&lt;"/"&lt;&lt;std::get&lt;2&gt;(*skup);
        auto sljedeci=skup;
        sljedeci++;
        if(sljedeci!=s.end()) std::cout&lt;&lt;", ";
    }
    std::cout&lt;&lt;std::endl;
}

void IspisiIndeksPojmova(Indeks_pojmova p)
{
    for(auto it=p.begin(); it!=p.end(); it++) {
        std::cout&lt;&lt;it-&gt;first&lt;&lt;": ";
        IspisiJednog(it-&gt;second);
    }
}

int main ()
{
    Knjiga k;
    for(;;) {
        std::cout&lt;&lt;"Unesite naziv poglavlja: ";
        std::string poglavlje;
        std::getline(std::cin,poglavlje);
        if(poglavlje==".") break;
        int brojac(0);
        std::vector&lt;std::string&gt; vektor_stranica;
        for(;;) {
            brojac++;
            std::cout&lt;&lt;"Unesite sadrzaj stranice "&lt;&lt;brojac&lt;&lt;": ";
            std::string sadrzaj_str;
            std::getline(std::cin,sadrzaj_str);
            if(sadrzaj_str==".") break;
            vektor_stranica.push_back(sadrzaj_str);
        }
        k[poglavlje]=vektor_stranica;
    }
    std::cout&lt;&lt;std::endl&lt;&lt;"Kreirani indeks pojmova:"&lt;&lt;std::endl;
    auto a=KreirajIndeksPojmova((k));
    IspisiIndeksPojmova(a);
    for(;;) {
        std::cout&lt;&lt;"Unesite rijec: ";
        std::string r;
        std::getline(std::cin,r);
        if(r==".") break;
        try {

            Ispisi(PretraziIndeksPojmova(r,a));
        } catch(std::logic_error e) {
            std::cout&lt;&lt;"Unesena rijec nije nadjena!"&lt;&lt;std::endl;
        }
    }

    return 0;
</font>}
</pre>
</body>
</html>
