<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z2/student5468.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z2/student5468.cpp<p></p><pre>
/B2017/2018: Zadaća 3, Zadatak 2
#include &lt;iostream&gt;
#include &lt;string&gt;
#include &lt;vector&gt;
#include &lt;map&gt;
#include &lt;tuple&gt;
#include &lt;set&gt;

typedef std::map&lt;std::string, std::vector&lt;std::string&gt;&gt; Knjiga;
typedef std::set&lt;std::tuple&lt;std::string, int, int&gt;&gt; Vek;
typedef std::map&lt;std::string, std::set&lt;std::tuple&lt;std::string, int, int&gt;&gt;&gt; Mapa;

void DajMala(std::string &amp;s){
    for(int i=0; i&lt;s.size(); i++){
        if(s[i]&gt;='A' &amp;&amp; s[i]&lt;='Z')
            s[i]+='a'-'A';
    }
}

Mapa KreirajIndeksPojmova(Knjiga k){
    Mapa m;
    for(auto x:k){
        int i(0);
        for(auto y:x.second){
            int br=0;
            int pokazatelj(0);
            auto its(y.begin());
            for(int j=0; j&lt;y.size(); j++){
                std::string s;
                while(*its&lt;'0' || *its&gt;'z'){
                    if(its==y.end())
                        break;
                    its++; 
                    br++;
                }
                if(its&lt;y.end()){
                    while(*its&gt;='0' &amp;&amp; *its&lt;='z'){
                        s.push_back(*its);
                        its++;
                        pokazatelj++;
                        if(its==y.end())
                           break;
                    }
                }
                if(s.size()!=0){
                    DajMala(s);
                    auto pok(m.find(s));
                    if(pok==m.end()){
                        Vek vek;
                        vek.insert(std::make_tuple(x.first, i, br));
                        m.insert({s, vek});
                    }
                    else{
                        pok-&gt;second.insert(std::make_tuple(x.first, i, br));
                    }    
                }
                br+=pokazatelj;
                pokazatelj=0;
            }
             i++;
        }
    }
    return m;
}

<a name="3"></a><font color="#00FFFF"><a href="match400-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_3.gif"/></a>

void ProvjeraRijeci(std::string &amp;s){
    for(int i=0; i&lt;s.size(); i++){
        if(s.at(i)&lt;'0' || s.at(i)&gt;'z'){
</font>            s.erase(s.begin()+i);
            i--;
        }
    }
}

Vek PretraziIndeksPojmova(std::string s, Mapa m){
    ProvjeraRijeci(s);
    DajMala(s);
    auto it(m.find(s));
    if(it==m.end())
        throw std::logic_error("Unesena rijec nije nadjena!");
    else return it-&gt;second;    
}

<a name="0"></a><font color="#FF0000"><a href="match400-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_6.gif"/></a>

void IspisiIndeksPojmova(Mapa m){
    for(auto x:m){
        std::cout &lt;&lt; x.first &lt;&lt; ": "; 
        int i(0);
        for(auto y :x.second){
            std::cout &lt;&lt; std::get&lt;0&gt;(y) &lt;&lt; "/" &lt;&lt; std::get&lt;1&gt;(y)+1 &lt;&lt; "/"
</font>                      &lt;&lt; std::get&lt;2&gt;(y);
            if(i!=x.second.size()-1) std::cout &lt;&lt; ", ";
            else std::cout &lt;&lt; std::endl;
            i++;
        }
    }
}

int main ()
{
    Knjiga k;
    std::string s;
    do{
        std::cout &lt;&lt; "Unesite naziv poglavlja: ";
        std::getline(std::cin, s);
        std::vector&lt;std::string&gt; v;
        if(s==".") break;
        int i(0);
        std::string s1;
        do{
            std::cout &lt;&lt; "Unesite sadrzaj stranice " &lt;&lt; i+1 &lt;&lt; ": ";
<a name="2"></a><font color="#0000FF"><a href="match400-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_4.gif"/></a>

            std::getline(std::cin, s1);
            if(s1==".") break;
            v.push_back(s1);
            i++;
        } while(s1!=".");
        k.insert({s, v});
    } while(s!=".");
</font>    Mapa m(KreirajIndeksPojmova(k));
    std::cout &lt;&lt; "\nKreirani indeks pojmova:\n";
<a name="4"></a><font color="#FF00FF"><a href="match400-1.html#4" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_4_3.gif"/></a>

    IspisiIndeksPojmova(m);
    std::string s3;
    do{
        std::cout &lt;&lt; "Unesite rijec: ";
        std::getline(std::cin, s3);
        if(s3==".") break;
</font>        try{
<a name="1"></a><font color="#00FF00"><a href="match400-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_4.gif"/></a>

        auto vek(PretraziIndeksPojmova(s3, m));
        int i(0);
        for(auto x :vek){
            std::cout &lt;&lt; std::get&lt;0&gt;(x) &lt;&lt; "/" &lt;&lt; std::get&lt;1&gt;(x)+1 &lt;&lt; "/"
</font>                      &lt;&lt; std::get&lt;2&gt;(x);
            if(i!=vek.size()-1) std::cout &lt;&lt; " ";
            else std::cout &lt;&lt; std::endl;
            i++;
        }
        }
        catch(std::logic_error izuzetak){
            std::cout &lt;&lt; izuzetak.what() &lt;&lt; std::endl;
        }
    }while(s3!=".");
    
	return 0;
}

/B2017/2018: Zadaća 3, Zadatak 2
/*#include &lt;iostream&gt;
#include &lt;string&gt;
#include &lt;vector&gt;
#include &lt;map&gt;
#include &lt;tuple&gt;
#include &lt;set&gt;

typedef std::map&lt;std::string, std::vector&lt;std::string&gt;&gt; Knjiga;
typedef std::vector&lt;std::tuple&lt;std::string, int, int&gt;&gt; Vek;
typedef std::map&lt;std::string, std::set&lt;std::tuple&lt;std::string, int, int&gt;&gt;&gt; Mapa;

void DajMala(std::string &amp;s){
    for(int i=0; i&lt;s.size(); i++){
        if(s[i]&gt;='A' &amp;&amp; s[i]&lt;='Z')
            s[i]+='a'-'A';
    }
}

Mapa KreirajIndeksPojmova(Knjiga k){
    Mapa m;
    for(auto x:k){
        int i(0);
        for(auto y:x.second){
            int br=0;
            int pokazatelj(0);
            auto its(y.begin());
            for(int j=0; j&lt;y.size(); j++){
                std::string s;
                while(*its&lt;'0' || *its&gt;'z'){
                    if(its==y.end())
                        break;
                    its++; 
                    br++;
                }
                if(its&lt;y.end()){
                    while(*its&gt;='0' &amp;&amp; *its&lt;='z'){
                        s.push_back(*its);
                        its++;
                        pokazatelj++;
                        if(its==y.end())
                           break;
                    }
                }
                if(s.size()!=0){
                    DajMala(s);
                    auto pok(m.find(s));
                    if(pok==m.end()){
                        Vek vek;
                        vek.push_back(std::make_tuple(x.first, i, br));
                        m.insert({s, vek});
                    }
                    else{
                        pok-&gt;second.push_back(std::make_tuple(x.first, i, br));
                    }    
                }
                br+=pokazatelj;
                pokazatelj=0;
            }
             i++;
        }
    }
    return m;
}

Vek PretraziIndeksPojmova(std::string s, Mapa m){
    DajMala(s);
    auto it(m.find(s));
    if(it==m.end())
        throw std::logic_error("Unesena rijec nije nadjena!");
    else return it-&gt;second;    
}

void IspisiIndeksPojmova(Mapa m){
    for(auto x:m){
        std::cout &lt;&lt; x.first &lt;&lt; ": "; 
        for(int i=0; i&lt;x.second.size(); i++){
            std::cout &lt;&lt; std::get&lt;0&gt;(x.second[i]) &lt;&lt; "/" &lt;&lt; std::get&lt;1&gt;(x.second[i])+1 &lt;&lt; "/"
                      &lt;&lt; std::get&lt;2&gt;(x.second[i]);
            if(i!=x.second.size()-1) std::cout &lt;&lt; ", ";
            else std::cout &lt;&lt; std::endl;
        }
    }
}

int main ()
{
    Knjiga k;
    std::string s;
    do{
        std::cout &lt;&lt; "Unesite naziv poglavlja: ";
        std::getline(std::cin, s);
        std::vector&lt;std::string&gt; v;
        if(s==".") break;
        int i(0);
        std::string s1;
        do{
            std::cout &lt;&lt; "Unesite sadrzaj stranice " &lt;&lt; i+1 &lt;&lt; ": ";
            std::getline(std::cin, s1);
            if(s1==".") break;
            v.push_back(s1);
            i++;
        } while(s1!=".");
        k.insert({s, v});
    } while(s!=".");
    Mapa m(KreirajIndeksPojmova(k));
    std::cout &lt;&lt; "\nKreirani indeks pojmova:\n";
    IspisiIndeksPojmova(m);
    std::string s3;
    do{
        std::cout &lt;&lt; "Unesite rijec: ";
        std::getline(std::cin, s3);
        if(s3==".") break;
        try{
        auto vek(PretraziIndeksPojmova(s3, m));
        for(int i=0; i&lt;vek.size(); i++){
            std::cout &lt;&lt; std::get&lt;0&gt;(vek[i]) &lt;&lt; "/" &lt;&lt; std::get&lt;1&gt;(vek[i])+1 &lt;&lt; "/"
                      &lt;&lt; std::get&lt;2&gt;(vek[i]);
            if(i!=vek.size()-1) std::cout &lt;&lt; " ";
            else std::cout &lt;&lt; std::endl;
        }
        }
        catch(std::logic_error izuzetak){
            std::cout &lt;&lt; izuzetak.what() &lt;&lt; std::endl;
        }
    }while(s3!=".");
    
	return 0;
}*/

</pre>
</body>
</html>
