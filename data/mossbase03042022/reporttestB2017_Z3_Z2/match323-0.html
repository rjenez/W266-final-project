<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z2/student6728.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z2/student6728.cpp<p></p><pre>
/B2017/2018: ZadaÄ‡a 3, Zadatak 2
#include &lt;iostream&gt;
#include &lt;map&gt;
#include &lt;tuple&gt;
#include &lt;string&gt;
#include &lt;vector&gt;
#include &lt;utility&gt;
#include &lt;algorithm&gt;
#include &lt;set&gt;
#include &lt;stdexcept&gt;

typedef std::map &lt;std::string, std::vector&lt;std::string&gt;&gt; Knjiga;
typedef std::map &lt;std::string, std::set&lt;std::tuple&lt;std::string, int, int&gt;&gt;&gt; Index;
typedef std::set &lt;std::tuple&lt;std::string, int, int&gt;&gt; SkupPozicija;


Index KreirajIndeksPojmova (Knjiga k) {
    
    Index index;
    
    // pretvaranje u mala slova
    for (Knjiga::iterator it=std::begin(k); it!=std::end(k); it++)
<a name="2"></a><font color="#0000FF"><a href="match323-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_3.gif"/></a>

        for (int i=0; i&lt;it-&gt;second.size(); i++)
            for (int j=0; j&lt;it-&gt;second[i].length(); j++)
</font>                if (it-&gt;second[i][j]&gt;='A' &amp;&amp; it-&gt;second[i][j]&lt;='Z')
                    it-&gt;second[i][j]+=32;

    
    for (Knjiga::iterator it=std::begin(k); it!=std::end(k); it++)
<a name="3"></a><font color="#00FFFF"><a href="match323-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_3.gif"/></a>

        for (int i=0; i&lt;it-&gt;second.size(); i++)
            for (int j=0; j&lt;it-&gt;second[i].length();) {
                std::string rijec;
</font><a name="1"></a><font color="#00FF00"><a href="match323-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_6.gif"/></a>

                while (((it-&gt;second[i][j]&gt;=0 &amp;&amp; it-&gt;second[i][j]&lt;'0') || (it-&gt;second[i][j]&gt;'9' &amp;&amp; it-&gt;second[i][j]&lt;'A') || (it-&gt;second[i][j]&gt;'Z' &amp;&amp; it-&gt;second[i][j]&lt;'a') || (it-&gt;second[i][j]&gt;'z' &amp;&amp; it-&gt;second[i][j]&lt;=255)) &amp;&amp; j&lt;it-&gt;second[i].length())
</font>                    j++;
                    
                int start=j;
                
<a name="0"></a><font color="#FF0000"><a href="match323-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_7.gif"/></a>

                while (((it-&gt;second[i][j]&gt;='A' &amp;&amp; it-&gt;second[i][j]&lt;='Z') || (it-&gt;second[i][j]&gt;='a' &amp;&amp; it-&gt;second[i][j]&lt;='z') || (it-&gt;second[i][j]&gt;='0' &amp;&amp; it-&gt;second[i][j]&lt;='9')) &amp;&amp; j&lt;it-&gt;second[i].length()) {
</font><a name="0"></a><font color="#FF0000"><a href="match323-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_7.gif"/></a>

                    rijec.push_back(it-&gt;second[i][j]);
</font>                    j++;
                }
                
                index[rijec].insert(std::make_tuple(it-&gt;first, i+1, start));
            }
    
    return index;
}


SkupPozicija PretraziIndeksPojmova (std::string rijec, Index index) {
    
    auto ima(index.find(rijec));
    
    if (ima == std::end(index)) throw std::logic_error ("Pojam nije nadjen");
    
    return ima-&gt;second;
}

void IspisiIndeksPojmova (Index index) {
    
    for (Index::iterator it=std::begin(index); it!=std::end(index); it++) {
        std::cout &lt;&lt; it-&gt;first &lt;&lt; ": ";
        for (auto rit=std::begin(it-&gt;second); rit!=std::end(it-&gt;second); rit++) {
            std::cout &lt;&lt; std::get&lt;0&gt;(*rit) &lt;&lt; "/" &lt;&lt; std::get&lt;1&gt;(*rit) &lt;&lt; "/" &lt;&lt; std::get&lt;2&gt;(*rit);
            if (rit!=--std::end(it-&gt;second)) std::cout &lt;&lt; ", ";
        }
        std::cout &lt;&lt; std::endl;
    }
}





int main ()
{
    Knjiga k;
    
    std::string poglavlje("*");
    
    while (poglavlje!=".") {
        std::cout &lt;&lt; "Unesite naziv poglavlja: ";
        std::getline(std::cin, poglavlje);
        if (poglavlje==".") break;
        int i=0;
        std::string stranica("*");
        while (stranica!=".") {
            std::cout &lt;&lt; "Unesite sadrzaj stranice " &lt;&lt; i+1 &lt;&lt; ": ";
            std::getline(std::cin, stranica);
            if (stranica==".") break;
            k[poglavlje].push_back(stranica);
            i++;
        }
    }
    
    std::cout &lt;&lt; std::endl &lt;&lt; "Kreirani indeks pojmova:" &lt;&lt; std::endl;
    
    Index index;
    index=KreirajIndeksPojmova(k);
    IspisiIndeksPojmova(index); 
    
    std::string rijec("*");
    while (rijec!=".") {
        std::cout &lt;&lt; "Unesite rijec: ";
        std::getline (std::cin, rijec);
        if (rijec==".") break;
        try {
            SkupPozicija s=PretraziIndeksPojmova(rijec, index);
            for (auto it=std::begin(s); it!=std::end(s); it++)
                std::cout &lt;&lt; std::get&lt;0&gt;(*it) &lt;&lt; "/" &lt;&lt; std::get&lt;1&gt;(*it) &lt;&lt; "/" &lt;&lt; std::get&lt;2&gt;(*it) &lt;&lt; " ";
            std::cout &lt;&lt; std::endl;
        }
        catch (...) {
            std::cout &lt;&lt; "Unesena rijec nije nadjena!" &lt;&lt; std::endl;
        }
    }
    
    
	return 0;
}
</pre>
</body>
</html>
