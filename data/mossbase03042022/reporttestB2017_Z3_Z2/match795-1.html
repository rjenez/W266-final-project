<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z2/student2464.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z2/student6053.cpp<p></p><pre>
/B2017/2018: ZadaÄ‡a 3, Zadatak 2
#include &lt;iostream&gt;
#include &lt;vector&gt;
#include &lt;set&gt;
#include &lt;map&gt;
#include &lt;string&gt;
#include &lt;sstream&gt;
#include &lt;cstring&gt;
#include &lt;cstdlib&gt;



bool Prekid (char c)
{
    int a = int(c);
    return 
    !(
     (a &gt;= 48 &amp;&amp; a &lt;= 57)
     ||
     (a &gt;= 65 &amp;&amp; a &lt;= 90)
     ||
     (a &gt;= 97 &amp;&amp; a &lt;= 122)
    );
}
               //poglavlje                 //sadrzaj
typedef std::map&lt;std::string , std::vector&lt;std::string&gt;&gt; Knjiga;

                                        //poglavlje    //brstr //pozicija               //mozda ref
std::map&lt;std::string,std::set&lt;std::tuple&lt; std::string, int, int&gt;&gt;&gt; KreirajIndeksPojmova (Knjiga k)
{


    std::map&lt;std::string, std::set&lt;std::tuple &lt;std::string , int, int &gt;&gt;&gt; m;

<a name="0"></a><font color="#FF0000"><a href="match795-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_4.gif"/></a>

    std::set&lt;std::tuple &lt;std::string , int, int &gt;&gt; mt;
         
         
    for(auto it=k.begin();it!=k.end();it++){
        
        for(int vi=0; vi &lt; (it-&gt;second).size(); vi++){
</font>            
            std:: string s = " " + (it-&gt;second).at(vi) + " ";
            std:: string w = "";
            int wi;
            
            for(int i=0; i&lt;s.size(); i++){
              s.at(i) =  std::tolower(s.at(i));
                if (Prekid(s.at(i))) {
                    if (w!="") {
                        mt = m[w];
                        mt.insert(std::make_tuple(it-&gt;first, vi+1, wi-1) );
                        m[w] = mt;
                        w = "";
                    }
                    
                }
                else {
                    if (w=="") {
                        wi = i;
                    }
                    
                    w = w + s.at(i);
                }
            }
        }
        
        
        
    }      
        
    return m;   
        
}




std::set&lt;std::tuple &lt;std::string , int, int &gt;&gt;  PretraziIndeksPojmova(std::string s,  std::map&lt;std::string,std::set&lt;std::tuple&lt; std::string, int, int&gt;&gt;&gt;L)

{
    if(!L.count(s)) throw std::logic_error ("Unesena rijec nije nadjena");

    else return L[s];
    
}




void IspisiIndeksPojmova (std::map&lt;std::string,std::set&lt;std::tuple&lt; std::string, int, int&gt;&gt;&gt; M)

{
    
<a name="1"></a><font color="#00FF00"><a href="match795-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_3.gif"/></a>

 std::set&lt;std::tuple &lt;std::string, int,int &gt;&gt; mt;

 for(auto it=M.begin(); it!=M.end();it++){
    mt = it-&gt;second;
</font>    std::cout&lt;&lt;it -&gt;first &lt;&lt;": ";
    for(auto iter=mt.begin();iter!=mt.end();){
        std::cout&lt;&lt;std::get&lt;0&gt;(*iter)&lt;&lt;"/"&lt;&lt;std::get&lt;1&gt;(*iter)&lt;&lt;"/"&lt;&lt;std::get&lt;2&gt;(*iter);
        iter++;
        if (iter != mt.end()) std::cout&lt;&lt;", ";
        else std::cout&lt;&lt;std::endl;
    }
 }

}


void Test3 (std::set&lt;std::tuple &lt;std::string, int,int &gt;&gt; mt)

{
    
    for(auto iter=mt.begin();iter!=mt.end();){
        std::cout&lt;&lt;std::get&lt;0&gt;(*iter)&lt;&lt;"/"&lt;&lt;std::get&lt;1&gt;(*iter)&lt;&lt;"/"&lt;&lt;std::get&lt;2&gt;(*iter);
        iter++;
        if (iter != mt.end()) std::cout&lt;&lt;", ";
        else std::cout&lt;&lt;std::endl;
    }

}



int main ()
{
    
    //try{
    Knjiga k;
    std::vector&lt;std::string&gt; vek;
    std::string stranica;
    while(1){
        int i=1;
    std::string pog;
    
    std::cout&lt;&lt;"Unesite naziv poglavlja: ";
    std::getline(std::cin,pog);
    
    if(pog==".") break;
            do {
                
                
<a name="2"></a><font color="#0000FF"><a href="match795-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_3.gif"/></a>

                std::cout&lt;&lt;"Unesite sadrzaj stranice "&lt;&lt;i&lt;&lt;": ";
                
                std::getline(std::cin,stranica);
                if(stranica==".") break;
                vek.push_back(stranica);
                i++;
</font>                
                
            }while(1);
            
        k[pog]=vek;
    
    }
    
    std::cout&lt;&lt;std::endl&lt;&lt;"Kreirani indeks pojmova:"&lt;&lt;std::endl;
    
    
    //std::map&lt;std::string,std::set&lt;std::tuple&lt; std::string, int, int&gt;&gt;&gt; rez=KreirajIndeksPojmova(vek);
    IspisiIndeksPojmova(KreirajIndeksPojmova(k));
    std::cout&lt;&lt;std::endl;
    
    
    do {
        std::string rijec;
        std::cout&lt;&lt;"Unesite rijec: ";
        std::getline(std::cin,rijec);
        if(rijec=="." ) break;
        
        
         try {
        
     auto   rez=PretraziIndeksPojmova(rijec,KreirajIndeksPojmova(k));
        for(auto it=rez.begin(); it!= rez.end();it++)
        {
            
            
<a name="3"></a><font color="#00FFFF"><a href="match795-0.html#3" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_2.gif"/></a>

             std::cout&lt;&lt;std::get&lt;0&gt;(*it)&lt;&lt;"/"&lt;&lt;std::get&lt;1&gt;(*it)&lt;&lt;"/"&lt;&lt;std::get&lt;2&gt;(*it);
            if((it)!=rez.end()) std::cout&lt;&lt;" ";     
</font>             
        }
        std::cout&lt;&lt;std::endl;
        
        
        
        
        }
        catch(std::logic_error){
            
            
            std::cout&lt;&lt;"Unesena rijec nije nadjena!"&lt;&lt;std::endl;
        }
}while(1);
  
  
    
    
   
	return 0;
}
</pre>
</body>
</html>
