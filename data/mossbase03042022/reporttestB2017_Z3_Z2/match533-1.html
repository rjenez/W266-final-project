<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z2/student9524.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z2/student8209.cpp<p></p><pre>
/B2017/2018: ZadaÄ‡a 3, Zadatak 2
#include &lt;iostream&gt;
#include &lt;map&gt;
#include &lt;string&gt;
#include &lt;vector&gt;
#include &lt;tuple&gt;
#include &lt;set&gt;
#include &lt;stdexcept&gt;

typedef std::map&lt;std::string, std::vector&lt;std::string&gt;&gt; Knjiga;
typedef std::map&lt;std::string, std::set &lt;std::tuple &lt;std::string, int, int&gt;&gt;&gt; Indeks;

bool TestirajSlovo (char s)
{
    return ((s &gt;= 'A' &amp;&amp; s &lt;= 'Z') || (s &gt;= 'a' &amp;&amp; s &lt;= 'z') || (s &gt;= '0' &amp;&amp; s &lt;= '9'));
}

void PretvoriUMala (std::string &amp;s)
{
    for(int i = 0; i &lt; s.length(); i++)
        if(s.at(i) &gt;= 'A' &amp;&amp; s.at(i) &lt;= 'Z') s.at(i) += ('a' - 'A');
}

Indeks KreirajIndeksPojmova (const Knjiga &amp;kontejner)
{

    Indeks pojmovi;

    for(auto prvi = kontejner.begin(); prvi != kontejner.end() ; prvi++) {

        for(int j = 0; j &lt; (prvi-&gt;second).size(); j++) {

            for(int k = 0; k &lt; (prvi-&gt;second).at(j).size(); k++) {

                int broj (k);

                if(TestirajSlovo((prvi-&gt;second).at(j).at(k))) {
                    std::string trenutni {};
                    while (TestirajSlovo((prvi-&gt;second).at(j).at(k))) {
                        trenutni.push_back((prvi-&gt;second).at(j).at(k));
                        k++;
                        if(k == (prvi-&gt;second).at(j).size()) break;
                    }
                    k--;

                    if(!kontejner.count(trenutni)) {

                        PretvoriUMala(trenutni);
<a name="1"></a><font color="#00FF00"><a href="match533-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_5.gif"/></a>

                        (pojmovi[trenutni]).insert(std::make_tuple(prvi-&gt;first, j + 1, broj));


                    }

                }
            }
        }

    }
    return pojmovi;
}

std::set&lt;std::tuple&lt;std::string, int, int&gt;&gt; PretraziIndeksPojmova (std::string rijec, Indeks pojmovi)
</font>{

    PretvoriUMala(rijec);
    if(!pojmovi.count(rijec)) throw std::logic_error("Pojam nije nadjen");
    return pojmovi[rijec];

}

void IspisiIndeksPojmova (Indeks pojmovi)
{
<a name="0"></a><font color="#FF0000"><a href="match533-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_6.gif"/></a>

    for(auto it = pojmovi.begin(); it != pojmovi.end(); it++) {
        std::cout &lt;&lt; it-&gt;first &lt;&lt; ": ";
        for(auto iter = (it-&gt;second).begin(); iter != it-&gt;second.end(); iter++) {
            std::cout &lt;&lt; std::get&lt;0&gt;(*iter) &lt;&lt; "/" &lt;&lt; std::get&lt;1&gt;(*iter) &lt;&lt;"/"&lt;&lt; std::get&lt;2&gt;(*iter);
</font><a name="3"></a><font color="#00FFFF"><a href="match533-0.html#3" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_3.gif"/></a>

            if(iter == --(it-&gt;second.end())) {
</font>                std::cout &lt;&lt; std::endl;
                break;
            }
            std::cout &lt;&lt; ", ";
        }
    }
}

int main ()
{

    Knjiga ZlocinIKazna;

    std::cout &lt;&lt;"Unesite naziv poglavlja: ";
    std::string poglavlje;


    while(std::getline(std::cin, poglavlje), poglavlje != ".") {


        std::string trenutni;
        std::vector&lt;std::string&gt; tekst;
        int brojac (2);

        std::cout &lt;&lt; "Unesite sadrzaj stranice 1: ";

        while(std::getline(std::cin, trenutni), trenutni != ".") {

            tekst.push_back(trenutni);
            std::cout &lt;&lt; "Unesite sadrzaj stranice " &lt;&lt; brojac &lt;&lt;": ";
            brojac++;

        }

        ZlocinIKazna[poglavlje] = tekst;
        std::cout &lt;&lt; "Unesite naziv poglavlja: ";

    }

    auto pojmovi (KreirajIndeksPojmova(ZlocinIKazna));
    std::cout &lt;&lt; std::endl &lt;&lt; "Kreirani indeks pojmova: " &lt;&lt; std::endl;
    IspisiIndeksPojmova(pojmovi);

    std::cout &lt;&lt; std::endl;

    std::string trazena;
    std::cout &lt;&lt; "Unesite rijec: ";

    while(std::getline(std::cin, trazena), trazena != ".") {
        try {
<a name="2"></a><font color="#0000FF"><a href="match533-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_4.gif"/></a>

            auto zapis (PretraziIndeksPojmova(trazena, pojmovi));

            for(auto it = zapis.begin(); it != zapis.end(); it++)
                std::cout &lt;&lt; std::get&lt;0&gt;(*it) &lt;&lt; "/" &lt;&lt; std::get&lt;1&gt;(*it) &lt;&lt; "/" &lt;&lt; std::get&lt;2&gt;(*it) &lt;&lt; " ";
</font>

            std::cout &lt;&lt; std::endl &lt;&lt; "Unesite rijec: ";

        } catch (std::logic_error e) {

            std::cout &lt;&lt; "Unesena rijec nije nadjena! "&lt;&lt; std::endl;
            std::cout &lt;&lt; "Unesite rijec: ";
            continue;
        }
    }

    return 0;
}
</pre>
</body>
</html>
