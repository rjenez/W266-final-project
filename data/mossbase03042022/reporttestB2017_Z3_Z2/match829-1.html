<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z2/student2111.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z2/student9547.cpp<p></p><pre>
/B2017/2018: Zadaca 3, Zadatak 2
#include &lt;iostream&gt;
#include &lt;stdexcept&gt;
#include &lt;map&gt;
#include &lt;set&gt;
#include &lt;tuple&gt;
#include &lt;string&gt;
#include &lt;vector&gt;

typedef std::map&lt;std::string, std::vector&lt;std::string&gt;&gt; Knjiga;

Knjiga PretvoriUMalaSlova(Knjiga s){
    for(auto it(s.begin()); it != s.end(); it++) {
        for(int i(0); i &lt; it-&gt;second.size(); i++) {
            for(int j(0); j &lt; it-&gt;second.at(i).length(); j++) {
                if(it-&gt;second.at(i).at(j) &gt;= 'A' &amp;&amp; it-&gt;second.at(i).at(j) &lt;= 'Z') 
                    return s;
            }
        }
    }
}

std::map &lt; std::string, std::set&lt;std::tuple&lt;std::string, int, int&gt;&gt; &gt; KreirajIndeksPojmova(Knjiga s) {
    std::map &lt;std::string, std::set&lt;std::tuple&lt;std::string, int, int&gt;&gt;&gt; m;
    bool a(true);
    for(int i = 0; i &lt; s.length(); i++) {
        if(!((s[i] &gt;= 'a' &amp;&amp; s[i] &lt;= 'z')||(s[i] &gt;= 'A' &amp;&amp; s[i] &lt;= 'Z')||(s[i] &gt;= '1' &amp;&amp; s[i] &lt;='9'))) {
                a = true;
        }else if( a == true){
            a = false;
            int j;
            for(j = i; j &lt; s.length(); j++){
                if(!((s[i] &gt;= 'a' &amp;&amp; s[i] &lt;= 'z')||(s[i] &gt;= 'A' &amp;&amp; s[i] &lt;= 'Z')||(s[i] &gt;= '1' &amp;&amp; s[i] &lt;='9'))) break;
            }
            std::string pomocni(s.substr(i,j-i));
            pomocni = PretvoriUMalaSlova(pomocni);
            m[pomocni].insert(i);
            i = j-1;
            }
        }
<a name="2"></a><font color="#0000FF"><a href="match829-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_4.gif"/></a>

        return m;
    }
    
std::set&lt;int&gt;PretraziIndeksPojmova(std::string s, std::map&lt;std::string, std::set&lt;int&gt; &gt; m){
</font>    auto it(m.begin());
    while(it!=m.end()){
        if(it-&gt;first == s) break;
        it++;
    }
    if(it == m.end()) throw std::logic_error("Pojam nije nadjen");
<a name="0"></a><font color="#FF0000"><a href="match829-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_10.gif"/></a>

    return it-&gt;second;
}


void IspisiIndeksPojmova(std::map&lt; std::string, std::set&lt;int&gt; &gt; m){
    for(auto it = m.begin(); it!= m.end(); it++){
        std::cout &lt;&lt; it-&gt; first &lt;&lt; ":";
        for(auto p = it-&gt;second.begin(); p != it-&gt;second.end(); p++){
            if(p != --it-&gt; second.end()) std::cout &lt;&lt; *p &lt;&lt; ",";
</font>            else  std::cout &lt;&lt; *p;
            
        }    
            std::cout &lt;&lt; std::endl;
        
    }
}
int main (){
    std::cout &lt;&lt;"Unesite naziv poglavlja: ";
    std::string s;
    std::getline(std::cin,s);
<a name="1"></a><font color="#00FF00"><a href="match829-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_4.gif"/></a>

    std::map &lt; std::string, std::set&lt;int&gt; &gt;m(KreirajIndeksPojmova(s));
    IspisiIndeksPojmova(m);
    while(true){
        try{
            std::cout &lt;&lt; "Unesite rijec";
            std::string s1;
            std::getline(std::cin,s1);
            if(s1 == ".") break;
            std::set&lt;int&gt;skup(PretraziIndeksPojmova(s1,m));
</font>            for(int x:skup) std::cout &lt;&lt; x &lt;&lt;" ";
        }catch(std::logic_error){
            std::cout &lt;&lt; "Unesena rijec nije nadjena!";
        }
           std::cout &lt;&lt;std::endl; 
            
        }
        return 0;
    }
    
	
</pre>
</body>
</html>
