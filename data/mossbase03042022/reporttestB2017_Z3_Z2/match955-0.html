<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z2/student1424.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z2/student1424.cpp<p></p><pre>
/B2017/2018: ZadaÄ‡a 3, Zadatak 2
#include &lt;iostream&gt;
#include &lt;map&gt;
#include &lt;vector&gt;
#include &lt;string&gt;
#include &lt;tuple&gt;
#include &lt;set&gt;
#include &lt;stdexcept&gt;

typedef std::map&lt;std::string, std::vector&lt;std::string&gt;&gt; Knjiga;
typedef std::map&lt;std::string, std::set&lt;std::tuple&lt;std::string,int,int&gt;&gt;&gt; Mapica;
Mapica KreirajIndeksPojmova(Knjiga book)
{
    Mapica mapa;

<a name="2"></a><font color="#0000FF"><a href="match955-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_4.gif"/></a>

    for(auto it=book.begin(); it!=book.end(); it++) {

        for(int i=0; i&lt;(it-&gt;second).size(); i++) {
            std::string recenica((it-&gt;second)[i]);
</font>            for(int j=0; j&lt;recenica.size(); j++) {
                std::string rijec;
                int indeks;
                if(recenica[j]!=' ') {
                    indeks=j;
                    while(recenica[j]!=' ' &amp;&amp; j&lt;recenica.size()) {
                        if(recenica[j]&gt;='A' &amp;&amp; recenica[j]&lt;='Z') recenica[j]+='a'-'A';
                        rijec.push_back(recenica[j]);
                        j++;
                    }
<a name="0"></a><font color="#FF0000"><a href="match955-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_5.gif"/></a>

                  mapa[rijec].insert(std::make_tuple(it-&gt;first, i+1, indeks));
              }
            }
        }
    }
    return mapa;
}
std::set&lt;std::tuple&lt;std::string, int, int &gt;&gt; PretraziIndeksPojmova(std::string rijec, Mapica mapa){
</font>    for(int i=0; i&lt;rijec.size();i++) if(rijec[i]&gt;='A' &amp;&amp; rijec[i]&lt;='Z') rijec[i]+='a'-'A';
    if(!mapa.count(rijec)) throw std::logic_error("Unesena rijec nije nadjena!");
    return mapa[rijec];
}

void IspisiIndeksPojmova(Mapica mapa)
{
<a name="3"></a><font color="#00FFFF"><a href="match955-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_4.gif"/></a>

    for(auto it=mapa.begin(); it!=mapa.end(); it++) {
        std::cout&lt;&lt;it-&gt;first&lt;&lt;":";int i=0;
</font>        for(auto m: it-&gt;second) { if(i!=0 &amp;&amp; i!=(it-&gt;second).size())std:: cout&lt;&lt;", "; else std::cout&lt;&lt;" ";
            std::cout&lt;&lt;std::get&lt;0&gt;(m)&lt;&lt;"/"&lt;&lt;std::get&lt;1&gt;(m)&lt;&lt;"/"&lt;&lt;std::get&lt;2&gt;(m);
        i++;}
<a name="1"></a><font color="#00FF00"><a href="match955-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_4.gif"/></a>

        std::cout&lt;&lt;std::endl;
    }
}

int main ()
{
   Knjiga book;

    for(;;) {
       std::string s;
        std::cout&lt;&lt;"Unesite naziv poglavlja: ";
        std:: getline(std::cin, s);
</font>        int i=0;

        if(s!=std::string(".")) {
            for(;;) {
                std:: string s2;
                std::cout&lt;&lt;"Unesite sadrzaj stranice "&lt;&lt;i+1&lt;&lt;": ";
                std::getline(std::cin, s2);
                if(s2!=std::string(".")) book[s].push_back(s2);
                else break;
                i++;
            }
        }

        else break;
    }
std::cout&lt;&lt;std::endl&lt;&lt;"Kreirani indeks pojmova: "&lt;&lt;std::endl;
    IspisiIndeksPojmova(KreirajIndeksPojmova(book));
   
    for(;;){
        std::string s;
        std::cout&lt;&lt;"Unesite rijec: ";
        std::cin&gt;&gt;s;
        if(s!=std::string(".")) {
        try{    
            for(std::tuple&lt;std::string, int, int&gt; trojka:  PretraziIndeksPojmova(s, KreirajIndeksPojmova(book))) std::cout&lt;&lt;std::get&lt;0&gt;(trojka)
            &lt;&lt;"/"&lt;&lt;std::get&lt;1&gt;(trojka)&lt;&lt;"/"&lt;&lt;std::get&lt;2&gt;(trojka)&lt;&lt;" ";
            std::cout&lt;&lt;std::endl;}
            catch(std::logic_error izuzetak){
                std::cout&lt;&lt;izuzetak.what()&lt;&lt;std::endl;
            }
            
        }
        else break;
    }

    return 0;
}
</pre>
</body>
</html>
