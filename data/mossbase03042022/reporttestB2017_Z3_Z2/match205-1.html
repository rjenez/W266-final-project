<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z2/student6001.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z2/student6787.cpp<p></p><pre>
/B2017/2018: ZadaÄ‡a 3, Zadatak 2
#include &lt;iostream&gt;
#include &lt;string&gt;
#include&lt;vector&gt;
#include&lt;tuple&gt;
#include&lt;map&gt;

typedef std::map&lt;std::string,std::vector&lt;std::tuple&lt;std::string,int,int&gt;&gt;&gt;IndeksPojmova;
<a name="1"></a><font color="#00FF00"><a href="match205-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_23.gif"/></a>

typedef std::map&lt;std::string,std::vector&lt;std::string&gt;&gt;Knjiga;

IndeksPojmova KreirajIndeksPojmova(Knjiga knjiga)
{
    IndeksPojmova index;
    for(auto iterK=knjiga.begin();iterK!=knjiga.end();iterK++)
    {
        auto stranica=iterK-&gt;second;
        for(auto i=0;i&lt;stranica.size();i++)
        {
            std::string tekst=stranica[i];
            std::string rijec="";
            for(auto j=0;j&lt;=tekst.size();j++)
            {
                if(!isalnum(tekst[j]) || tekst[j]=='\0')
                {
                    if(rijec!="")
                    {
                        std::tuple&lt;std::string,int,int&gt;info=std::make_tuple(iterK-&gt;first,i+1,j-rijec.length());
                        auto pretraga(index.find(rijec));
                        if(pretraga==index.end())
                        index.insert({rijec,{info}});
                        else
                        pretraga-&gt;second.push_back(info);
                        rijec="";
                    }
                }
                else
                rijec+=tolower(tekst[j]);
            }
        }
    }
    return index;
</font>}

<a name="2"></a><font color="#0000FF"><a href="match205-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_17.gif"/></a>

void IspisiIndeksPojmova(IndeksPojmova index)
{
    for(auto iter=index.begin();iter!=index.end();iter++)
    {
        std::cout&lt;&lt;iter-&gt;first&lt;&lt;": ";
        for(auto i=0;i&lt;iter-&gt;second.size();i++)
        {
            std::cout&lt;&lt;std::get&lt;0&gt;(iter-&gt;second[i])&lt;&lt;"/"&lt;&lt;std::get&lt;1&gt;(iter-&gt;second[i])&lt;&lt;"/"&lt;&lt;std::get&lt;2&gt;(iter-&gt;second[i]);
            if(i&lt;iter-&gt;second.size()-1)
            std::cout&lt;&lt;", ";
        }
        std::cout&lt;&lt;std::endl;
</font>    }
}


<a name="3"></a><font color="#00FFFF"><a href="match205-0.html#3" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_12.gif"/></a>

std::vector&lt;std::tuple&lt;std::string,int,int&gt;&gt; PretraziIndeksPojmova(std::string pojam,IndeksPojmova index)
{
    std::string pojam_lower="";
    for(auto i=0;i&lt;pojam.length();i++)
    pojam_lower+=tolower(pojam[i]);
    if(index.count(pojam_lower))
    {
        std::vector&lt;std::tuple&lt;std::string,int,int&gt;&gt;poz=index[pojam_lower];
        return poz;
    }
    else
    throw std::logic_error("Unesena rijec nije nadjena!");
</font>}
<a name="0"></a><font color="#FF0000"><a href="match205-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_34.gif"/></a>

int main ()
{
    Knjiga knjiga;
    std::string poglavlje="",sadrzaj="",pojam="";
    int stranica=0;
    do{
        std::cout&lt;&lt;"Unesite naziv poglavlja: ";
        std::getline(std::cin,poglavlje);
        if(poglavlje !=".")
        {
            do{
                std::cout&lt;&lt;"Unesite sadrzaj stranice "&lt;&lt;++stranica&lt;&lt;": ";
                std::getline(std::cin,sadrzaj);
                if(sadrzaj!=".")
                knjiga[poglavlje].push_back(sadrzaj);
            }while(sadrzaj!=".");
        }
        
        }while(poglavlje!=".");
        IndeksPojmova index=KreirajIndeksPojmova(knjiga);
        std::cout&lt;&lt;"\nKreirani indeks pojmova:\n";
        IspisiIndeksPojmova(index);
        do{
            std::cout&lt;&lt;"Unesite rijec: ";
            std::cin&gt;&gt;pojam;
            if(pojam!=".")
            {
                try{
                    auto rezultatPretrage=PretraziIndeksPojmova(pojam,index);
                    for(auto i=0;i&lt;rezultatPretrage.size();i++)
                    {
                        std::cout&lt;&lt;std::get&lt;0&gt;(rezultatPretrage[i])&lt;&lt;"/"&lt;&lt;std::get&lt;1&gt;(rezultatPretrage[i])&lt;&lt;"/"&lt;&lt;std::get&lt;2&gt;(rezultatPretrage[i]);
                        if(i&lt;rezultatPretrage.size()-1)
                        std::cout&lt;&lt;" ";
                    }
                    std::cout&lt;&lt;std::endl;
                }
                catch(std::logic_error err)
                {
                    std::cout&lt;&lt;err.what()&lt;&lt;std::endl;
                }
            }
            
        }while(pojam!=".");
 //   }
	return 0;
</font>}
</pre>
</body>
</html>
