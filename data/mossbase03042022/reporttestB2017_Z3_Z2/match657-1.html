<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z2/student2539.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z2/student2176.cpp<p></p><pre>
/B2017/2018: ZadaÄ‡a 3, Zadatak 2
#include &lt;iostream&gt;
#include &lt;map&gt;
#include &lt;tuple&gt;
#include &lt;utility&gt;
#include &lt;string&gt;
#include &lt;vector&gt;
#include &lt;set&gt;
#include &lt;iterator&gt;
#include &lt;algorithm&gt;
#include &lt;cctype&gt;
#include &lt;stdexcept&gt;

typedef std::map&lt;std::string, std::vector&lt;std:: string&gt;&gt; Knjiga;

std::string PretvoriUMala(std::string a){
    std::transform(a.begin(), a.end(), a.begin(), ::tolower);
    return a;
}
std::map&lt;std::string, std::set&lt;std::tuple&lt;std::string, int, int&gt;&gt;&gt;  KreirajIndeksPojmova(Knjiga citanka){
    
<a name="3"></a><font color="#00FFFF"><a href="match657-0.html#3" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_2.gif"/></a>

    std::map&lt;std::string, std::set&lt;std::tuple&lt;std::string, int, int&gt;&gt;&gt; povratna;
    
 
   
    for(auto it=citanka.begin(); it!=citanka.end(); it++){
        for(int i=0; i&lt;it-&gt;second.size(); i++){
</font>            for(int j=0; j&lt;it-&gt;second[i].size(); j++){
                std::string pomocna;
                bool nadjeno=false;
                while(std::isalpha(it-&gt;second[i][j]) || (it-&gt;second[i][j]&gt;='0' &amp;&amp; it-&gt;second[i][j]&lt;='9')){
                    pomocna+=it-&gt;second[i][j];
                    j++;
                    nadjeno=true;
                }
                if(nadjeno){
                pomocna=PretvoriUMala(pomocna);
                povratna.insert({pomocna, {/*std::make_tuple("test",0, 0)*/}});
                }
            }
        }
    }
    
    
    
    for(auto it=povratna.begin(); it!=povratna.end(); it++){
        for(auto itNaCitanku=citanka.begin(); itNaCitanku!=citanka.end(); itNaCitanku++){
            for(int i=0; i&lt;itNaCitanku-&gt;second.size(); i++){
                for(int j=0; j&lt;itNaCitanku-&gt;second[i].size(); j++){
                    std::string pomocna;
                    bool nadjeno=false;
                    while(std::isalpha(itNaCitanku-&gt;second[i][j]) || (itNaCitanku-&gt;second[i][j]&gt;='0' &amp;&amp; itNaCitanku-&gt;second[i][j]&lt;='9')){
                        pomocna+=itNaCitanku-&gt;second[i][j];
                        j++;
                        nadjeno=true;
                    }
                    if(nadjeno){
                        pomocna=PretvoriUMala(pomocna);
                        if(it-&gt;first==pomocna){
                            it-&gt;second.insert(std::make_tuple(itNaCitanku-&gt;first, i+1, j-pomocna.size() ));
                        }
                    }
                }
            }
        }  
    }
    
    
    return povratna;
}
<a name="2"></a><font color="#0000FF"><a href="match657-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_2.gif"/></a>

std::set&lt;std::tuple&lt;std::string, int, int&gt;&gt; PretraziIndeksPojmova(std::string rijec, std::map&lt;std::string, std::set&lt;std::tuple&lt;std::string, int, int&gt; &gt; &gt; pojmovi){
    
    std::set&lt;std::tuple&lt;std::string, int, int&gt;&gt; povratna;
</font>    rijec=PretvoriUMala(rijec);
    
    for(auto it=pojmovi.begin(); it!=pojmovi.end(); it++){
        if(it-&gt;first==rijec){
            for(auto it2=it-&gt;second.begin(); it2!=it-&gt;second.end(); it2++){
                povratna.insert(*it2);
            }
            
        }
    }
    if(povratna.size()) return povratna;
    throw std::logic_error("Pojam nije nadjen");
    
}

<a name="1"></a><font color="#00FF00"><a href="match657-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_3.gif"/></a>

void IspisiIndeksPojmova(std::map&lt;std::string, std::set&lt;std::tuple&lt;std::string, int, int&gt;&gt;&gt; pojmovi){
    for(auto it=pojmovi.begin(); it!=pojmovi.end(); it++){
        std::cout&lt;&lt;it-&gt;first&lt;&lt;": ";
</font>        for(auto it2=it-&gt;second.begin(); it2!=it-&gt;second.end(); it2++){
            auto dokle=it-&gt;second.end();
            dokle--;
<a name="0"></a><font color="#FF0000"><a href="match657-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_4.gif"/></a>

            if(it2==dokle) std::cout&lt;&lt;std::get&lt;0&gt;(*it2)&lt;&lt;"/"&lt;&lt;std::get&lt;1&gt;(*it2)&lt;&lt;"/"&lt;&lt;std::get&lt;2&gt;(*it2);
            else std::cout&lt;&lt;std::get&lt;0&gt;(*it2)&lt;&lt;"/"&lt;&lt;std::get&lt;1&gt;(*it2)&lt;&lt;"/"&lt;&lt;std::get&lt;2&gt;(*it2)&lt;&lt;", ";
</font>        }
        std::cout&lt;&lt;std::endl;
    }
}
int main ()
{
    Knjiga citanka;
    std::map&lt;std::string, std::set&lt;std::tuple&lt;std::string, int, int&gt;&gt;&gt; test;
    int k=1;
    while(true){
    std::cout&lt;&lt;"Unesite naziv poglavlja: ";
    
    std::string unos;
    std::getline(std::cin, unos);
    if(unos==".") break;
    citanka.insert({unos, {}});
    while(true){
        std::cout&lt;&lt;"Unesite sadrzaj stranice "&lt;&lt;k&lt;&lt;": ";
        std::string u;
        std::getline(std::cin, u);
        if(u==".") break;
        k++;
        citanka[unos].push_back(u);
    }
    }
    std::cout&lt;&lt;std::endl;
    std::cout&lt;&lt;"Kreirani indeks pojmova:"&lt;&lt;std::endl;
    
    
    test=KreirajIndeksPojmova(citanka);
    IspisiIndeksPojmova(test);
    std::cout&lt;&lt;std::endl;
    while(true){
        std::cout&lt;&lt;"Unesite rijec: ";
        std::string rijec;
        std::getline(std::cin, rijec);
       
        if(rijec==".") break;
        std::set&lt;std::tuple&lt;std::string, int, int&gt;&gt; gdjeSeNalazi;
        try{
        gdjeSeNalazi=PretraziIndeksPojmova(rijec, test);
        for(auto it=gdjeSeNalazi.begin(); it!=gdjeSeNalazi.end(); it++){
            std::cout&lt;&lt;std::get&lt;0&gt;(*it)&lt;&lt;"/"&lt;&lt;std::get&lt;1&gt;(*it)&lt;&lt;"/"&lt;&lt;std::get&lt;2&gt;(*it)&lt;&lt;" ";
        }
        std::cout&lt;&lt;std::endl;
        }
        catch(std::logic_error e){
            std::cout&lt;&lt;"Unesena rijec nije nadjena!"&lt;&lt;std::endl;
        }
    }
    
    /*std::string naslov = "I";                            
    std::vector&lt;std::string&gt; v{"abc qwe stsda abc abc dhi qwe hrkw dhi"};
    std::string naslov2 = "auto";  
    std::vector&lt;std::string&gt; v2{"neko ide ulicom"};
    Knjiga citanka;
    citanka.insert({naslov, v});
    //citanka.insert({naslov2, v2});
     //Knjiga citanka({std::string("armin"), {std::string("neko"), std::string("ide."), std::string("..ulicom..ad")}});
    std::map&lt;std::string, std::set&lt;std::tuple&lt;std::string, int, int&gt;&gt;&gt; pokusaj=KreirajIndeksPojmova(citanka);
    /*for(auto it=pokusaj.begin(); it!=pokusaj.end(); it++) std::cout&lt;&lt;it-&gt;first&lt;&lt;" ";
    std::cout&lt;&lt;std::endl;*/
    /*for(auto it=pokusaj.begin(); it!=pokusaj.end(); it++){
        std::cout&lt;&lt;it-&gt;first&lt;&lt;" ";
        for(auto pom =it-&gt;second.begin(); pom!=it-&gt;second.end(); pom++){
            std::cout&lt;&lt;std::get&lt;0&gt;(*pom)&lt;&lt;" "&lt;&lt;std::get&lt;1&gt;(*pom)&lt;&lt;" "&lt;&lt;std::get&lt;2&gt;(*pom)&lt;&lt;" ";
        }
        std::cout&lt;&lt;std::endl;
    }
    IspisiIndeksPojmova(pokusaj);
    std::map&lt;int, int&gt; mapa;
    mapa.insert({1,2});
    mapa.insert({5,7});
    auto it=mapa.begin();
    it++;
    std::cout&lt;&lt;it-&gt;second;*/
    
	return 0;
}
</pre>
</body>
</html>
