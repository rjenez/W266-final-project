<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z2/student9473.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z2/student2486.cpp<p></p><pre>
<a name="2"></a><font color="#0000FF"><a href="match168-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_16.gif"/></a>

/B2017/2018: ZadaÄ‡a 3, Zadatak 2
#include &lt;iostream&gt;
#include &lt;map&gt;
#include &lt;string&gt;
#include &lt;vector&gt; 
#include &lt;tuple&gt;
#include &lt;set&gt;
#include &lt;stdexcept&gt;

typedef std::map&lt;std::string, std::vector&lt;std:: string&gt;&gt; Knjiga;

void PretvoriUMala(std::string &amp;string) {
    for (int i=0; i&lt;string.size(); i++) {
        if (string.at(i)&gt;='A' &amp;&amp; string.at(i)&lt;='Z') string.at(i)+=32;
    }
}

bool DaLiJeSlovo (char s) {
    if ((s&gt;='A' &amp;&amp; s&lt;='Z') || (s&gt;='a' &amp;&amp; s&lt;='z') || (s&gt;='0' &amp;&amp; s&lt;='9')) return true;
    else return false;
}


std::map&lt;std::string, std::set&lt;std::tuple&lt;std::string, int, int&gt;&gt;&gt; KreirajIndeksPojmova(Knjiga K) {
</font><a name="1"></a><font color="#00FF00"><a href="match168-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_34.gif"/></a>

    std::map&lt;std::string, std::set&lt;std::tuple&lt;std::string, int, int&gt;&gt;&gt; pojmovi;
    std::string recenica("");
    for (auto i=K.begin(); i!=K.end(); i++) {
        for (int j=0; j&lt;i-&gt;second.size(); j++) {
            recenica="";
            for (int k=0; k&lt;i-&gt;second.at(j).size(); k++) { 
                int indeks(k);
                if (DaLiJeSlovo(i-&gt;second.at(j).at(k))) {
                    while (DaLiJeSlovo(i-&gt;second.at(j).at(k)) &amp;&amp; (k&lt;i-&gt;second.at(j).size())) {
                    recenica+=i-&gt;second.at(j).at(k);
                    k++;
                    }
                } 
            PretvoriUMala(recenica);
            auto it(pojmovi.find(recenica));
            if (it==pojmovi.end()) {
                auto pomocni=std::make_tuple(i-&gt;first,j+1,indeks);
                std::set&lt;std::tuple&lt;std::string, int, int&gt;&gt; ZaPojmove;
                ZaPojmove.insert(pomocni);
                pojmovi[recenica]=ZaPojmove;
            }
            else {
                auto it(pojmovi.find(recenica));
                auto pomocni=std::make_tuple(i-&gt;first, j+1, indeks);
                it-&gt;second.insert(pomocni);
                }
            }
        }
    }
    return pojmovi;
}

std::set&lt;std::tuple&lt;std::string, int, int&gt;&gt; PretraziIndeksPojmova(std::string string, std::map&lt;std::string, std::set&lt;std::tuple&lt;std::string, int, int&gt;&gt;&gt; mapa) {
</font><a name="0"></a><font color="#FF0000"><a href="match168-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_41.gif"/></a>

    PretvoriUMala(string);
    auto PretraziMapu(mapa.find(string));
    if (PretraziMapu==mapa.end()) throw std::logic_error("Pojam nije nadjen");
    return PretraziMapu-&gt;second;
}

void IspisiIndeksPojmova(std::map&lt;std::string, std::set&lt;std::tuple&lt;std::string, int, int&gt;&gt;&gt; mapa) {
    
}


int main ()
{
    Knjiga knjiga;
    std::string s;
    while (1) {
        std::cout&lt;&lt;"Unesite naziv poglavlja: ";
        std::getline(std::cin, s);
        if (s==".") break;
        std::string str;
        std::vector&lt;std::string&gt; v;
        int br_str(1);
        while (1) {
            std::cout&lt;&lt;"Unesite sadrzaj stranice "&lt;&lt;br_str&lt;&lt;": ";
            std::getline(std::cin, str);
            if (str==".") break;
            v.push_back(str);
            br_str++;
        }
        knjiga[s]=v;
    }
    
    
    std::cout&lt;&lt;std::endl&lt;&lt;"Kreirani indeks pojmova:"&lt;&lt;std::endl;
    
    auto indeks_pojmova(KreirajIndeksPojmova(knjiga));
    
    IspisiIndeksPojmova(indeks_pojmova);
    
    while (1) {
        std::string trazena;
        std::cout&lt;&lt;"Unesite rijec: ";
        std::getline(std::cin, trazena);
        if (trazena==".") break;
        try {
            auto rijec(PretraziIndeksPojmova(trazena,indeks_pojmova));
            auto it(rijec.begin());
            while (1) {
                if (it==rijec.end()) break;
                std::cout&lt;&lt;std::get&lt;0&gt;(*it)&lt;&lt;"/"&lt;&lt;std::get&lt;1&gt;(*it)&lt;&lt;"/"&lt;&lt;std::get&lt;2&gt;(*it);
                it++;
            }
            std::cout&lt;&lt;std::endl;
        }
        catch (std::logic_error e) {
            std::cout&lt;&lt;"Unesena rijec nije nadjena!"&lt;&lt;std::endl;
</font>        }
    }
    
	return 0;
}






</pre>
</body>
</html>
