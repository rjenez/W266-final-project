<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z2/student7582.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z2/student7673.cpp<p></p><pre>
/B2017/2018: ZadaÄ‡a 3, Zadatak 2
#include &lt;iostream&gt;
#include&lt;vector&gt;
#include&lt;cmath&gt;
#include&lt;map&gt;
#include&lt;string&gt;
#include&lt;stdexcept&gt;
#include&lt;tuple&gt;

using namespace std;

typedef map&lt;string,vector&lt;string&gt;&gt; Knjiga;

int Slovo(char a){
    a=toupper(a);
    if(a&gt;='A' &amp;&amp; a&lt;='Z') return 1;
    return 0;
}
int Broj(char a){
    if(a&gt;='0' &amp;&amp; a&lt;='9') return 1;
    return 0;
}

bool SlovoiBroj(char a) {
    int s=Slovo(a);
    int b=Slovo(b);
    return (s==1 || b==1);
}

vector&lt;string&gt;izdvoji (string s){
    vector&lt;string&gt; rez;
    for(int i=0;i&lt;s.size();i++){
        string pom;
        while(SlovoiBroj(s[i])) {pom.push_back(s[i]); i++;}
        if(pom.size()!=0) rez.push_back(pom);
    }
<a name="0"></a><font color="#FF0000"><a href="match696-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_7.gif"/></a>

    return rez;
}

map&lt;string,vector&lt;tuple&lt;string,int,int&gt;&gt;&gt; KreirajIndeksPojmova(Knjiga k) {
    map&lt;string,vector&lt;tuple&lt;string,int,int&gt;&gt;&gt; rez;
    
    for(auto it=k.begin(); it!=k.end();it++)
        for(int i=0;i&lt;(it-&gt;second).size();i++)
</font>            for(int j=0;j&lt;(it-&gt;second).at(i).size();j++)
            (it-&gt;second).at(i).at(j)=tolower((it-&gt;second).at(i).at(j));
            
    vector&lt;string&gt;rijeci;
    for(auto it=k.begin();it!=k.end();it++)
        for(auto i=0;i&lt;(it-&gt;second).size();i++){
            vector&lt;string&gt;pom=izdvoji((it-&gt;second).at(i));
            for(int i=0;i&lt;pom.size();i++){
                bool ima=false;
                for(int j=0;j&lt;rijeci.size();j++)
                    if(rijeci[j]==pom[i]) ima=true;
                    if(!ima) rijeci.push_back(pom[i]);
            }
        }


for(int l=0;l&lt;rijeci.size();l++){
    vector&lt;tuple&lt;string,int,int&gt;&gt;skup;
    for(auto it=k.begin();it!=k.end();it++)
        for(int i=0;i&lt;(it-&gt;second).size();i++)
            for(int j=0;j&lt;(it-&gt;second).at(i).size();j++)
            if(rijeci[l]==(it-&gt;second).at(i).substr(j,rijeci[l].size())){
                tuple&lt;string,int,int&gt;pom(it-&gt;first,i+1,j);
                skup.push_back(pom);
            }
            rez[rijeci[l]]=skup;
    }
return rez;
}
<a name="2"></a><font color="#0000FF"><a href="match696-0.html#2" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_3.gif"/></a>

 vector&lt;tuple&lt;string,int,int&gt;&gt; PretraziIndeksPojmova(string s,map&lt;string,vector&lt;tuple&lt;string,int,int&gt;&gt;&gt;m)
</font> {
              if(m[s].size()==0)
                throw logic_error("Unesena rijec nije nadjena!");
     
        return m[s];
 }
 
<a name="1"></a><font color="#00FF00"><a href="match696-0.html#1" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_4.gif"/></a>

 void IspisiIndeksPojmova(map&lt;string,vector&lt;tuple&lt;string,int,int&gt;&gt;&gt;m)
 {
     for(auto it=m.begin();it!=m.end();it++)
     {
         cout&lt;&lt;it-&gt;first&lt;&lt;": ";
        for(int i=0;i&lt;(it-&gt;second).size();i++)
</font>        {
            tuple&lt;string,int,int&gt;pom=(it-&gt;second).at(i);
            cout&lt;&lt;get&lt;0&gt;(pom)&lt;&lt;"/"&lt;&lt;get&lt;1&gt;(pom)&lt;&lt;"/"&lt;&lt;get&lt;2&gt;(pom);
            if(i==(it-&gt;second).size()-1)cout&lt;&lt;endl;
            else cout&lt;&lt;", ";
        }
       // cout&lt;&lt;endl;
         }
}





int main ()
{
    Knjiga k;
     while(1)
     {
          cout&lt;&lt;"Unesite naziv poglavlja: ";
          string s; getline(cin,s);
          if(s==".") break;
          vector&lt;string&gt; v;
          int br=1;
          while(1)
          {
               cout&lt;&lt;"Unesite sadrzaj stranice "&lt;&lt;br++&lt;&lt;": ";
               string pom;
               getline(cin,pom);
               if(pom==".") break;
               else v.push_back(pom);
          }
          k[s]=v;
     }
     map&lt;string,vector&lt;tuple&lt;string,int,int&gt;&gt;&gt; ind=KreirajIndeksPojmova(k);
     cout&lt;&lt;endl&lt;&lt;"Kreirani indeks pojmova:"&lt;&lt;endl;
     IspisiIndeksPojmova(ind);
     while(1)
     {
          cout&lt;&lt;"Unesite rijec: ";
          string pom; getline(cin,pom);
          if(pom==".") break;
          try{
          vector&lt;tuple&lt;string,int,int&gt;&gt;d=PretraziIndeksPojmova(pom,ind);
          for(int i=0; i&lt;d.size(); i++)
               {
                    auto pom=d.at(i);
                    cout&lt;&lt;get&lt;0&gt;(pom)&lt;&lt;"/"&lt;&lt;get&lt;1&gt;(pom)&lt;&lt;"/"&lt;&lt;get&lt;2&gt;(pom)&lt;&lt;" ";
                    if(i==(d.size())-1) cout&lt;&lt;endl;
               }
          }catch(logic_error iz) {cout&lt;&lt;iz.what()&lt;&lt;endl; }
     }
	return 0;
}
</pre>
</body>
</html>
