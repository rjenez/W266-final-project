<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z2/student3568.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z2/student2675.cpp<p></p><pre>
/B2017/2018: ZadaÄ‡a 3, Zadatak 2
#include &lt;iostream&gt;
#include &lt;map&gt;
#include &lt;vector&gt;
#include &lt;string&gt;
#include &lt;set&gt;
#include &lt;tuple&gt; 
#include &lt;stdexcept&gt;

typedef std::map &lt; std::string, std::vector&lt;std::string&gt;&gt; Knjiga;
<a name="0"></a><font color="#FF0000"><a href="match181-0.html#0" target="0"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_93.gif"/></a>

typedef std::map&lt;std::string, std::set&lt;std::tuple&lt;std::string, int, int&gt;&gt;&gt; IndeksPojmova;

template &lt;typename NekiTip&gt;
bool Slovo(NekiTip x)
{ 
    return ((x &gt;= 'a' &amp;&amp; x &lt;='z')||(x &gt;= 'A' &amp;&amp; x &lt;='Z') || (x &gt;='0' &amp;&amp; x&lt;='9'));
}

std::string UMalaSlova (std::string s)
{
    for(auto &amp;slovo : s)
        if(slovo &gt;='A' &amp;&amp; slovo&lt;='Z') slovo+= 'a' - 'A';
    return s;
}

IndeksPojmova KreirajIndeksPojmova (Knjiga k)
{
    IndeksPojmova indeks;
    for(auto it = k.begin(); it != k.end(); it++) { //iterira kroz mapu
        for(auto i = 0; i &lt; (it-&gt;second).size(); i++) { //iterira kroz vektor
            auto iter((it-&gt;second)[i].begin());
            while (iter != (it-&gt;second)[i].end()) {
                auto pocetak(iter);
                while (iter != (it-&gt;second)[i].end() &amp;&amp; Slovo(*iter)) {
                    iter++;
                }

                if(pocetak != (it-&gt;second)[i].end() &amp;&amp; !Slovo(*pocetak)) {
                    iter++;
                    continue;
                }

                std::string tmp((it-&gt;second)[i].substr(pocetak - (it-&gt;second)[i].begin(), iter-pocetak));
                tmp=UMalaSlova(tmp);

                indeks[tmp].insert(std::make_tuple(it-&gt;first, i+1, pocetak - (it-&gt;second)[i].begin()));

                if(iter != (it-&gt;second)[i].end()) iter++;
                else break;
            }
        }
    }

    return indeks;

}

std::set&lt;std::tuple&lt;std::string, int, int&gt;&gt; PretraziIndeksPojmova (std::string rijec, IndeksPojmova indeks)
{
    if(indeks.find(rijec) == indeks.end()) throw std::logic_error("Pojam nije nadjen");
    return indeks[rijec];
}

void IspisiIndeksPojmova (IndeksPojmova indeks)
{
    for (auto it = indeks.begin(); it!=indeks.end(); it++) {
        std::cout &lt;&lt; it-&gt;first &lt;&lt; ": ";
        for(auto itt = (it-&gt;second).begin(); itt!=(it-&gt;second).end(); itt++) {
            std::cout &lt;&lt; std::get&lt;0&gt;(*itt) &lt;&lt; "/" &lt;&lt; std::get&lt;1&gt;(*itt) &lt;&lt; "/" &lt;&lt; std::get&lt;2&gt;(*itt);
            if(itt!= --(it-&gt;second).end()) std::cout &lt;&lt; ", ";
            else std::cout &lt;&lt; std::endl;
        }
    }
}

int main ()
{
    Knjiga k;
    for(;;) {
        std::cout &lt;&lt; "Unesite naziv poglavlja: ";
        std::string naziv_poglavlja;
        std::getline(std::cin, naziv_poglavlja);
        if(naziv_poglavlja == ".") break;
        int i(1);
        for(;;) { 
            std::string sadrzaj_stranice;
            std::cout &lt;&lt; "Unesite sadrzaj stranice " &lt;&lt; i &lt;&lt; ": ";
            std::getline(std::cin, sadrzaj_stranice);
            if(sadrzaj_stranice == ".") break;
            k[naziv_poglavlja].push_back(sadrzaj_stranice);
            i++;
        }
    }
    std::cout &lt;&lt; std::endl;
    std::cout &lt;&lt; "Kreirani indeks pojmova:" &lt;&lt; std::endl;
    IndeksPojmova indeks(KreirajIndeksPojmova(k));
    IspisiIndeksPojmova(indeks);

    for(;;) {
        std::cout &lt;&lt; "Unesite rijec: ";
        std::string rijec;
        std::getline(std::cin, rijec);
        if(rijec == ".") break;
        if(indeks.find(rijec) == indeks.end()) std::cout &lt;&lt; "Unesena rijec nije nadjena!";
        for(auto trojka : indeks[rijec])
            std::cout &lt;&lt; std::get&lt;0&gt;(trojka) &lt;&lt; "/" &lt;&lt; std::get&lt;1&gt;(trojka) &lt;&lt; "/" &lt;&lt; std::get&lt;2&gt;(trojka)&lt;&lt;" ";
        std::cout &lt;&lt; std::endl;
    }
 


    return 0;
</font>}
</pre>
</body>
</html>
