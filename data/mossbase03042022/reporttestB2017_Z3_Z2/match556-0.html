<html>
<head>
<title>../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z2/student9141.cpp</title>
</head>
<body bgcolor="white">
<hr/>
../../data/programming-homework-dataset-plagiarism-detection/src/B2017/Z3/Z2/student9141.cpp<p></p><pre>
/B2017/2018: ZadaÄ‡a 3, Zadatak 2
#include &lt;iostream&gt;
#include &lt;vector&gt;
#include &lt;string&gt;
#include &lt;map&gt;
#include &lt;set&gt;
#include &lt;tuple&gt;
#include &lt;stdexcept&gt;

typedef std::map&lt;std::string, std::vector&lt;std::string&gt;&gt; Knjiga;

std::map&lt;std::string, std::set&lt;std::tuple&lt;std::string, int, int&gt;&gt;&gt; KreirajIndeksPojmova(Knjiga a){
<a name="1"></a><font color="#00FF00"><a href="match556-1.html#1" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_1_4.gif"/></a>

    std::map&lt;std::string, std::set&lt;std::tuple&lt;std::string, int, int&gt;&gt;&gt; indeks;
    // treba proci kroz knjigu a i sad ubaciti svaku rijec u mapu indeks i to s oznakom poglavlja to je ova kljucna rijec kod tipa knjiga i 
    //broj stranice to je indeks koji je element ovog vektora, a broj poicije je brojac ono iteratora kako prolazi kroz stringove iz ovog vektora iz tipa kNjige...
   for(auto it = a.begin(); it!=a.end(); it++){                     // ide kroz poglavlje po poglavlje
       for(int i=0; i&lt;(it-&gt;second).size(); i++){                    // ide kroz stranicu po stranicu poglavlja
</font>            for(int j=0; j&lt;(it-&gt;second)[i].size(); j++){             // ide kroz sve karaktere na jednoj stranici
                std::string rijec;
                while(j&lt;(it-&gt;second).size() &amp;&amp; (it-&gt;second)[i][j]==0 )j++; // razmake
                int zapamti(j);
                while(j&lt;(it-&gt;second).size() &amp;&amp; ((it-&gt;second)[i][j]&gt;=48 &amp;&amp; (it-&gt;second)[i][j]&lt;=57) || ((it-&gt;second)[i][j]&gt;=65 &amp;&amp; (it-&gt;second)[i][j]&lt;=90) || ( (it-&gt;second)[i][j]&gt;=97 &amp;&amp; (it-&gt;second)[i][j]&lt;=122 )){
                    rijec.push_back((it-&gt;second)[i][j]);
                    j++;
                }
                //indeks.insert(rijec, std::set&lt;std::tuple&lt;std::string, int, int&gt;&gt; (std::make_tuple(it-&gt;first, i, zapamti) ) );
                for(int z=0; z&lt;rijec.size(); z++){
                    if(rijec[z]&gt;=65 &amp;&amp; rijec[z]&lt;=90)rijec[z]+='a'-'A';
                }
                indeks[rijec].insert(std::make_tuple(it-&gt;first, i+1, zapamti));
            }
        }
   }
    return indeks;
}

std::set&lt;std::tuple&lt;std::string, int, int&gt;&gt; PretraziIndeksPojmova(std::string rijec, std::map&lt;std::string, std::set&lt;std::tuple&lt;std::string, int, int&gt;&gt;&gt; indeks_pojmova){
    auto it(indeks_pojmova.find(rijec));
    if(it==indeks_pojmova.end())throw std::logic_error("Pojam nije nadjen");
    else return it-&gt;second; 
}

<a name="2"></a><font color="#0000FF"><a href="match556-1.html#2" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_2_4.gif"/></a>

void IspisiIndeksPojmova (std::map&lt;std::string, std::set&lt;std::tuple&lt;std::string, int, int&gt;&gt;&gt; indeks_pojmova){
    for(auto it=indeks_pojmova.begin(); it!=indeks_pojmova.end(); it++){
        std::cout &lt;&lt; it-&gt;first &lt;&lt; ":";
</font><a name="0"></a><font color="#FF0000"><a href="match556-1.html#0" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_0_6.gif"/></a>

        for(auto it2=(it-&gt;second).begin(); it2!=(it -&gt; second).end(); it2++){
            std::cout &lt;&lt; " " &lt;&lt; std::get&lt;0&gt;(*it2) &lt;&lt; "/" &lt;&lt; std::get&lt;1&gt;(*it2) &lt;&lt; "/" &lt;&lt; std::get&lt;2&gt;(*it2);
            if(it2!=--(it-&gt;second).end()) std::cout &lt;&lt; ",";
</font>        }
        std::cout &lt;&lt; "\n";
    }
}

int main ()
{
    Knjiga knjiga;
    for(;;){
        std::cout &lt;&lt; "Unesite naziv poglavlja: ";
        std::string naziv_poglavlja;
        std::getline(std::cin, naziv_poglavlja);
        if(naziv_poglavlja==".")break;
        
        for(int i=1; ; i++){
            std::cout &lt;&lt; "Unesite sadrzaj stranice " &lt;&lt; i &lt;&lt; ": ";
            std::string pomocna;
            std::getline(std::cin, pomocna);
            if(pomocna==".")break;
            knjiga[naziv_poglavlja].push_back(pomocna);
        }
    }
    std::cout &lt;&lt; "\nKreirani indeks pojmova:\n"; 
    auto indeks_pojmova(KreirajIndeksPojmova(knjiga));
    /*for(auto it=indeks_pojmova.begin(); it!=indeks_pojmova.end(); it++){
        std::cout &lt;&lt; it-&gt;first &lt;&lt; ":";
        for(auto x : it-&gt;second){
            std::cout &lt;&lt; " " &lt;&lt; std::get&lt;0&gt;(x) &lt;&lt; "/" &lt;&lt; std::get&lt;1&gt;(x) &lt;&lt; "/" &lt;&lt; std::get&lt;2&gt;(x);
        }
        std::cout &lt;&lt; "\n";
    }*/
    IspisiIndeksPojmova(indeks_pojmova);
    
    for(;;){
        std::cout &lt;&lt; "\nUnesite rijec: ";
        std::string rijec;
        std::getline(std::cin, rijec);
        if(rijec==".")break;
        try{
<a name="3"></a><font color="#00FFFF"><a href="match556-1.html#3" target="1"><img align="left" alt="other" border="0" src="http://moss.stanford.edu/bitmaps/tm_3_3.gif"/></a>

            auto pozicije (PretraziIndeksPojmova(rijec, indeks_pojmova));
            for(auto it=pozicije.begin(); it!=pozicije.end(); it++){
                std::cout &lt;&lt; std::get&lt;0&gt;(*it) &lt;&lt; "/" &lt;&lt; std::get&lt;1&gt;(*it) &lt;&lt; "/" &lt;&lt; std::get&lt;2&gt;(*it); 
</font>                if(it!=--(pozicije.end())) std::cout &lt;&lt; " ";
            }
        }
        catch(std::logic_error){
            std::cout &lt;&lt; "Unesena rijec nije nadjena!";
            continue;
        }
    }
	return 0;
}
</pre>
</body>
</html>
